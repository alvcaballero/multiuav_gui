var hJ=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var OHe=hJ((IHe,iw)=>{function pJ(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function FU(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var UU={exports:{}},s2={},VU={exports:{}},Vn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb=Symbol.for("react.element"),mJ=Symbol.for("react.portal"),gJ=Symbol.for("react.fragment"),yJ=Symbol.for("react.strict_mode"),vJ=Symbol.for("react.profiler"),bJ=Symbol.for("react.provider"),xJ=Symbol.for("react.context"),_J=Symbol.for("react.forward_ref"),wJ=Symbol.for("react.suspense"),SJ=Symbol.for("react.memo"),CJ=Symbol.for("react.lazy"),kz=Symbol.iterator;function EJ(e){return e===null||typeof e!="object"?null:(e=kz&&e[kz]||e["@@iterator"],typeof e=="function"?e:null)}var WU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qU=Object.assign,GU={};function Sg(e,t,n){this.props=e,this.context=t,this.refs=GU,this.updater=n||WU}Sg.prototype.isReactComponent={};Sg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function HU(){}HU.prototype=Sg.prototype;function yI(e,t,n){this.props=e,this.context=t,this.refs=GU,this.updater=n||WU}var vI=yI.prototype=new HU;vI.constructor=yI;qU(vI,Sg.prototype);vI.isPureReactComponent=!0;var Pz=Array.isArray,YU=Object.prototype.hasOwnProperty,bI={current:null},KU={key:!0,ref:!0,__self:!0,__source:!0};function ZU(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)YU.call(t,r)&&!KU.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var f=Array(a),h=0;h<a;h++)f[h]=arguments[h+2];i.children=f}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Jb,type:e,key:o,ref:s,props:i,_owner:bI.current}}function TJ(e,t){return{$$typeof:Jb,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xI(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jb}function kJ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Oz=/\/+/g;function QT(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kJ(""+e.key):t.toString(36)}function I1(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Jb:case mJ:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+QT(s,0):r,Pz(i)?(n="",e!=null&&(n=e.replace(Oz,"$&/")+"/"),I1(i,t,n,"",function(h){return h})):i!=null&&(xI(i)&&(i=TJ(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Oz,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Pz(e))for(var a=0;a<e.length;a++){o=e[a];var f=r+QT(o,a);s+=I1(o,t,n,f,i)}else if(f=EJ(e),typeof f=="function")for(e=f.call(e),a=0;!(o=e.next()).done;)o=o.value,f=r+QT(o,a++),s+=I1(o,t,n,f,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function D_(e,t,n){if(e==null)return e;var r=[],i=0;return I1(e,r,"","",function(o){return t.call(n,o,i++)}),r}function PJ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ua={current:null},$1={transition:null},OJ={ReactCurrentDispatcher:ua,ReactCurrentBatchConfig:$1,ReactCurrentOwner:bI};Vn.Children={map:D_,forEach:function(e,t,n){D_(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return D_(e,function(){t++}),t},toArray:function(e){return D_(e,function(t){return t})||[]},only:function(e){if(!xI(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Vn.Component=Sg;Vn.Fragment=gJ;Vn.Profiler=vJ;Vn.PureComponent=yI;Vn.StrictMode=yJ;Vn.Suspense=wJ;Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OJ;Vn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=qU({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=bI.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(f in t)YU.call(t,f)&&!KU.hasOwnProperty(f)&&(r[f]=t[f]===void 0&&a!==void 0?a[f]:t[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){a=Array(f);for(var h=0;h<f;h++)a[h]=arguments[h+2];r.children=a}return{$$typeof:Jb,type:e.type,key:i,ref:o,props:r,_owner:s}};Vn.createContext=function(e){return e={$$typeof:xJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bJ,_context:e},e.Consumer=e};Vn.createElement=ZU;Vn.createFactory=function(e){var t=ZU.bind(null,e);return t.type=e,t};Vn.createRef=function(){return{current:null}};Vn.forwardRef=function(e){return{$$typeof:_J,render:e}};Vn.isValidElement=xI;Vn.lazy=function(e){return{$$typeof:CJ,_payload:{_status:-1,_result:e},_init:PJ}};Vn.memo=function(e,t){return{$$typeof:SJ,type:e,compare:t===void 0?null:t}};Vn.startTransition=function(e){var t=$1.transition;$1.transition={};try{e()}finally{$1.transition=t}};Vn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Vn.useCallback=function(e,t){return ua.current.useCallback(e,t)};Vn.useContext=function(e){return ua.current.useContext(e)};Vn.useDebugValue=function(){};Vn.useDeferredValue=function(e){return ua.current.useDeferredValue(e)};Vn.useEffect=function(e,t){return ua.current.useEffect(e,t)};Vn.useId=function(){return ua.current.useId()};Vn.useImperativeHandle=function(e,t,n){return ua.current.useImperativeHandle(e,t,n)};Vn.useInsertionEffect=function(e,t){return ua.current.useInsertionEffect(e,t)};Vn.useLayoutEffect=function(e,t){return ua.current.useLayoutEffect(e,t)};Vn.useMemo=function(e,t){return ua.current.useMemo(e,t)};Vn.useReducer=function(e,t,n){return ua.current.useReducer(e,t,n)};Vn.useRef=function(e){return ua.current.useRef(e)};Vn.useState=function(e){return ua.current.useState(e)};Vn.useSyncExternalStore=function(e,t,n){return ua.current.useSyncExternalStore(e,t,n)};Vn.useTransition=function(){return ua.current.useTransition()};Vn.version="18.2.0";VU.exports=Vn;var V=VU.exports;const Pe=tr(V),ow=pJ({__proto__:null,default:Pe},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AJ=V,MJ=Symbol.for("react.element"),IJ=Symbol.for("react.fragment"),$J=Object.prototype.hasOwnProperty,RJ=AJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DJ={key:!0,ref:!0,__self:!0,__source:!0};function XU(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)$J.call(t,r)&&!DJ.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:MJ,type:e,key:o,ref:s,props:i,_owner:RJ.current}}s2.Fragment=IJ;s2.jsx=XU;s2.jsxs=XU;UU.exports=s2;var z=UU.exports,JU={exports:{}},ts={},QU={exports:{}},e8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Se,De){var We=Se.length;Se.push(De);e:for(;0<We;){var dt=We-1>>>1,ht=Se[dt];if(0<i(ht,De))Se[dt]=De,Se[We]=ht,We=dt;else break e}}function n(Se){return Se.length===0?null:Se[0]}function r(Se){if(Se.length===0)return null;var De=Se[0],We=Se.pop();if(We!==De){Se[0]=We;e:for(var dt=0,ht=Se.length,Je=ht>>>1;dt<Je;){var it=2*(dt+1)-1,Ot=Se[it],at=it+1,Gt=Se[at];if(0>i(Ot,We))at<ht&&0>i(Gt,Ot)?(Se[dt]=Gt,Se[at]=We,dt=at):(Se[dt]=Ot,Se[it]=We,dt=it);else if(at<ht&&0>i(Gt,We))Se[dt]=Gt,Se[at]=We,dt=at;else break e}}return De}function i(Se,De){var We=Se.sortIndex-De.sortIndex;return We!==0?We:Se.id-De.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var f=[],h=[],g=1,y=null,x=3,P=!1,O=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(Se){for(var De=n(h);De!==null;){if(De.callback===null)r(h);else if(De.startTime<=Se)r(h),De.sortIndex=De.expirationTime,t(f,De);else break;De=n(h)}}function $(Se){if(S=!1,k(Se),!O)if(n(f)!==null)O=!0,Oe(L);else{var De=n(h);De!==null&&Ee($,De.startTime-Se)}}function L(Se,De){O=!1,S&&(S=!1,I(G),G=-1),P=!0;var We=x;try{for(k(De),y=n(f);y!==null&&(!(y.expirationTime>De)||Se&&!ae());){var dt=y.callback;if(typeof dt=="function"){y.callback=null,x=y.priorityLevel;var ht=dt(y.expirationTime<=De);De=e.unstable_now(),typeof ht=="function"?y.callback=ht:y===n(f)&&r(f),k(De)}else r(f);y=n(f)}if(y!==null)var Je=!0;else{var it=n(h);it!==null&&Ee($,it.startTime-De),Je=!1}return Je}finally{y=null,x=We,P=!1}}var N=!1,F=null,G=-1,J=5,ee=-1;function ae(){return!(e.unstable_now()-ee<J)}function pe(){if(F!==null){var Se=e.unstable_now();ee=Se;var De=!0;try{De=F(!0,Se)}finally{De?ye():(N=!1,F=null)}}else N=!1}var ye;if(typeof M=="function")ye=function(){M(pe)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Ce=we.port2;we.port1.onmessage=pe,ye=function(){Ce.postMessage(null)}}else ye=function(){A(pe,0)};function Oe(Se){F=Se,N||(N=!0,ye())}function Ee(Se,De){G=A(function(){Se(e.unstable_now())},De)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Se){Se.callback=null},e.unstable_continueExecution=function(){O||P||(O=!0,Oe(L))},e.unstable_forceFrameRate=function(Se){0>Se||125<Se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<Se?Math.floor(1e3/Se):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(Se){switch(x){case 1:case 2:case 3:var De=3;break;default:De=x}var We=x;x=De;try{return Se()}finally{x=We}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Se,De){switch(Se){case 1:case 2:case 3:case 4:case 5:break;default:Se=3}var We=x;x=Se;try{return De()}finally{x=We}},e.unstable_scheduleCallback=function(Se,De,We){var dt=e.unstable_now();switch(typeof We=="object"&&We!==null?(We=We.delay,We=typeof We=="number"&&0<We?dt+We:dt):We=dt,Se){case 1:var ht=-1;break;case 2:ht=250;break;case 5:ht=1073741823;break;case 4:ht=1e4;break;default:ht=5e3}return ht=We+ht,Se={id:g++,callback:De,priorityLevel:Se,startTime:We,expirationTime:ht,sortIndex:-1},We>dt?(Se.sortIndex=We,t(h,Se),n(f)===null&&Se===n(h)&&(S?(I(G),G=-1):S=!0,Ee($,We-dt))):(Se.sortIndex=ht,t(f,Se),O||P||(O=!0,Oe(L))),Se},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(Se){var De=x;return function(){var We=x;x=De;try{return Se.apply(this,arguments)}finally{x=We}}}})(e8);QU.exports=e8;var LJ=QU.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t8=V,Xa=LJ;function ft(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n8=new Set,$0={};function kh(e,t){Lm(e,t),Lm(e+"Capture",t)}function Lm(e,t){for($0[e]=t,e=0;e<t.length;e++)n8.add(t[e])}var eu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fO=Object.prototype.hasOwnProperty,NJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Az={},Mz={};function zJ(e){return fO.call(Mz,e)?!0:fO.call(Az,e)?!1:NJ.test(e)?Mz[e]=!0:(Az[e]=!0,!1)}function jJ(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function BJ(e,t,n,r){if(t===null||typeof t>"u"||jJ(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function da(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var xo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xo[e]=new da(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xo[t]=new da(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xo[e]=new da(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xo[e]=new da(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xo[e]=new da(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xo[e]=new da(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xo[e]=new da(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xo[e]=new da(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xo[e]=new da(e,5,!1,e.toLowerCase(),null,!1,!1)});var _I=/[\-:]([a-z])/g;function wI(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_I,wI);xo[t]=new da(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_I,wI);xo[t]=new da(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_I,wI);xo[t]=new da(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xo[e]=new da(e,1,!1,e.toLowerCase(),null,!1,!1)});xo.xlinkHref=new da("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xo[e]=new da(e,1,!1,e.toLowerCase(),null,!0,!0)});function SI(e,t,n,r){var i=xo.hasOwnProperty(t)?xo[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(BJ(t,n,i,r)&&(n=null),r||i===null?zJ(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var pu=t8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L_=Symbol.for("react.element"),qp=Symbol.for("react.portal"),Gp=Symbol.for("react.fragment"),CI=Symbol.for("react.strict_mode"),hO=Symbol.for("react.profiler"),r8=Symbol.for("react.provider"),i8=Symbol.for("react.context"),EI=Symbol.for("react.forward_ref"),pO=Symbol.for("react.suspense"),mO=Symbol.for("react.suspense_list"),TI=Symbol.for("react.memo"),td=Symbol.for("react.lazy"),o8=Symbol.for("react.offscreen"),Iz=Symbol.iterator;function sv(e){return e===null||typeof e!="object"?null:(e=Iz&&e[Iz]||e["@@iterator"],typeof e=="function"?e:null)}var si=Object.assign,ek;function Hv(e){if(ek===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ek=t&&t[1]||""}return`
`+ek+e}var tk=!1;function nk(e,t){if(!e||tk)return"";tk=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var f=`
`+i[s].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=s&&0<=a);break}}}finally{tk=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Hv(e):""}function FJ(e){switch(e.tag){case 5:return Hv(e.type);case 16:return Hv("Lazy");case 13:return Hv("Suspense");case 19:return Hv("SuspenseList");case 0:case 2:case 15:return e=nk(e.type,!1),e;case 11:return e=nk(e.type.render,!1),e;case 1:return e=nk(e.type,!0),e;default:return""}}function gO(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gp:return"Fragment";case qp:return"Portal";case hO:return"Profiler";case CI:return"StrictMode";case pO:return"Suspense";case mO:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case i8:return(e.displayName||"Context")+".Consumer";case r8:return(e._context.displayName||"Context")+".Provider";case EI:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case TI:return t=e.displayName||null,t!==null?t:gO(e.type)||"Memo";case td:t=e._payload,e=e._init;try{return gO(e(t))}catch{}}return null}function UJ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gO(t);case 8:return t===CI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Md(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function a8(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function VJ(e){var t=a8(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function N_(e){e._valueTracker||(e._valueTracker=VJ(e))}function s8(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=a8(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function aw(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yO(e,t){var n=t.checked;return si({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function $z(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Md(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function l8(e,t){t=t.checked,t!=null&&SI(e,"checked",t,!1)}function vO(e,t){l8(e,t);var n=Md(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?bO(e,t.type,n):t.hasOwnProperty("defaultValue")&&bO(e,t.type,Md(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Rz(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function bO(e,t,n){(t!=="number"||aw(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Yv=Array.isArray;function gm(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Md(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function xO(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ft(91));return si({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Dz(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ft(92));if(Yv(n)){if(1<n.length)throw Error(ft(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Md(n)}}function c8(e,t){var n=Md(t.value),r=Md(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Lz(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function u8(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _O(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?u8(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var z_,d8=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(z_=z_||document.createElement("div"),z_.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=z_.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function R0(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var a0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WJ=["Webkit","ms","Moz","O"];Object.keys(a0).forEach(function(e){WJ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),a0[t]=a0[e]})});function f8(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||a0.hasOwnProperty(e)&&a0[e]?(""+t).trim():t+"px"}function h8(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=f8(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var qJ=si({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wO(e,t){if(t){if(qJ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ft(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ft(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ft(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ft(62))}}function SO(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var CO=null;function kI(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var EO=null,ym=null,vm=null;function Nz(e){if(e=tx(e)){if(typeof EO!="function")throw Error(ft(280));var t=e.stateNode;t&&(t=f2(t),EO(e.stateNode,e.type,t))}}function p8(e){ym?vm?vm.push(e):vm=[e]:ym=e}function m8(){if(ym){var e=ym,t=vm;if(vm=ym=null,Nz(e),t)for(e=0;e<t.length;e++)Nz(t[e])}}function g8(e,t){return e(t)}function y8(){}var rk=!1;function v8(e,t,n){if(rk)return e(t,n);rk=!0;try{return g8(e,t,n)}finally{rk=!1,(ym!==null||vm!==null)&&(y8(),m8())}}function D0(e,t){var n=e.stateNode;if(n===null)return null;var r=f2(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ft(231,t,typeof n));return n}var TO=!1;if(eu)try{var lv={};Object.defineProperty(lv,"passive",{get:function(){TO=!0}}),window.addEventListener("test",lv,lv),window.removeEventListener("test",lv,lv)}catch{TO=!1}function GJ(e,t,n,r,i,o,s,a,f){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(g){this.onError(g)}}var s0=!1,sw=null,lw=!1,kO=null,HJ={onError:function(e){s0=!0,sw=e}};function YJ(e,t,n,r,i,o,s,a,f){s0=!1,sw=null,GJ.apply(HJ,arguments)}function KJ(e,t,n,r,i,o,s,a,f){if(YJ.apply(this,arguments),s0){if(s0){var h=sw;s0=!1,sw=null}else throw Error(ft(198));lw||(lw=!0,kO=h)}}function Ph(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function b8(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zz(e){if(Ph(e)!==e)throw Error(ft(188))}function ZJ(e){var t=e.alternate;if(!t){if(t=Ph(e),t===null)throw Error(ft(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return zz(i),e;if(o===r)return zz(i),t;o=o.sibling}throw Error(ft(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ft(189))}}if(n.alternate!==r)throw Error(ft(190))}if(n.tag!==3)throw Error(ft(188));return n.stateNode.current===n?e:t}function x8(e){return e=ZJ(e),e!==null?_8(e):null}function _8(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_8(e);if(t!==null)return t;e=e.sibling}return null}var w8=Xa.unstable_scheduleCallback,jz=Xa.unstable_cancelCallback,XJ=Xa.unstable_shouldYield,JJ=Xa.unstable_requestPaint,Ci=Xa.unstable_now,QJ=Xa.unstable_getCurrentPriorityLevel,PI=Xa.unstable_ImmediatePriority,S8=Xa.unstable_UserBlockingPriority,cw=Xa.unstable_NormalPriority,eQ=Xa.unstable_LowPriority,C8=Xa.unstable_IdlePriority,l2=null,Xl=null;function tQ(e){if(Xl&&typeof Xl.onCommitFiberRoot=="function")try{Xl.onCommitFiberRoot(l2,e,void 0,(e.current.flags&128)===128)}catch{}}var vl=Math.clz32?Math.clz32:iQ,nQ=Math.log,rQ=Math.LN2;function iQ(e){return e>>>=0,e===0?32:31-(nQ(e)/rQ|0)|0}var j_=64,B_=4194304;function Kv(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uw(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Kv(a):(o&=s,o!==0&&(r=Kv(o)))}else s=n&~i,s!==0?r=Kv(s):o!==0&&(r=Kv(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-vl(t),i=1<<n,r|=e[n],t&=~i;return r}function oQ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aQ(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-vl(o),a=1<<s,f=i[s];f===-1?(!(a&n)||a&r)&&(i[s]=oQ(a,t)):f<=t&&(e.expiredLanes|=a),o&=~a}}function PO(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function E8(){var e=j_;return j_<<=1,!(j_&4194240)&&(j_=64),e}function ik(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qb(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vl(t),e[t]=n}function sQ(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-vl(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function OI(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-vl(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var pr=0;function T8(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var k8,AI,P8,O8,A8,OO=!1,F_=[],md=null,gd=null,yd=null,L0=new Map,N0=new Map,id=[],lQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bz(e,t){switch(e){case"focusin":case"focusout":md=null;break;case"dragenter":case"dragleave":gd=null;break;case"mouseover":case"mouseout":yd=null;break;case"pointerover":case"pointerout":L0.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":N0.delete(t.pointerId)}}function cv(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=tx(t),t!==null&&AI(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function cQ(e,t,n,r,i){switch(t){case"focusin":return md=cv(md,e,t,n,r,i),!0;case"dragenter":return gd=cv(gd,e,t,n,r,i),!0;case"mouseover":return yd=cv(yd,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return L0.set(o,cv(L0.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,N0.set(o,cv(N0.get(o)||null,e,t,n,r,i)),!0}return!1}function M8(e){var t=Bf(e.target);if(t!==null){var n=Ph(t);if(n!==null){if(t=n.tag,t===13){if(t=b8(n),t!==null){e.blockedOn=t,A8(e.priority,function(){P8(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function R1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=AO(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);CO=r,n.target.dispatchEvent(r),CO=null}else return t=tx(n),t!==null&&AI(t),e.blockedOn=n,!1;t.shift()}return!0}function Fz(e,t,n){R1(e)&&n.delete(t)}function uQ(){OO=!1,md!==null&&R1(md)&&(md=null),gd!==null&&R1(gd)&&(gd=null),yd!==null&&R1(yd)&&(yd=null),L0.forEach(Fz),N0.forEach(Fz)}function uv(e,t){e.blockedOn===t&&(e.blockedOn=null,OO||(OO=!0,Xa.unstable_scheduleCallback(Xa.unstable_NormalPriority,uQ)))}function z0(e){function t(i){return uv(i,e)}if(0<F_.length){uv(F_[0],e);for(var n=1;n<F_.length;n++){var r=F_[n];r.blockedOn===e&&(r.blockedOn=null)}}for(md!==null&&uv(md,e),gd!==null&&uv(gd,e),yd!==null&&uv(yd,e),L0.forEach(t),N0.forEach(t),n=0;n<id.length;n++)r=id[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<id.length&&(n=id[0],n.blockedOn===null);)M8(n),n.blockedOn===null&&id.shift()}var bm=pu.ReactCurrentBatchConfig,dw=!0;function dQ(e,t,n,r){var i=pr,o=bm.transition;bm.transition=null;try{pr=1,MI(e,t,n,r)}finally{pr=i,bm.transition=o}}function fQ(e,t,n,r){var i=pr,o=bm.transition;bm.transition=null;try{pr=4,MI(e,t,n,r)}finally{pr=i,bm.transition=o}}function MI(e,t,n,r){if(dw){var i=AO(e,t,n,r);if(i===null)pk(e,t,r,fw,n),Bz(e,r);else if(cQ(i,e,t,n,r))r.stopPropagation();else if(Bz(e,r),t&4&&-1<lQ.indexOf(e)){for(;i!==null;){var o=tx(i);if(o!==null&&k8(o),o=AO(e,t,n,r),o===null&&pk(e,t,r,fw,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else pk(e,t,r,null,n)}}var fw=null;function AO(e,t,n,r){if(fw=null,e=kI(r),e=Bf(e),e!==null)if(t=Ph(e),t===null)e=null;else if(n=t.tag,n===13){if(e=b8(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fw=e,null}function I8(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QJ()){case PI:return 1;case S8:return 4;case cw:case eQ:return 16;case C8:return 536870912;default:return 16}default:return 16}}var sd=null,II=null,D1=null;function $8(){if(D1)return D1;var e,t=II,n=t.length,r,i="value"in sd?sd.value:sd.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return D1=i.slice(e,1<r?1-r:void 0)}function L1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function U_(){return!0}function Uz(){return!1}function ns(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?U_:Uz,this.isPropagationStopped=Uz,this}return si(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=U_)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=U_)},persist:function(){},isPersistent:U_}),t}var Cg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$I=ns(Cg),ex=si({},Cg,{view:0,detail:0}),hQ=ns(ex),ok,ak,dv,c2=si({},ex,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:RI,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dv&&(dv&&e.type==="mousemove"?(ok=e.screenX-dv.screenX,ak=e.screenY-dv.screenY):ak=ok=0,dv=e),ok)},movementY:function(e){return"movementY"in e?e.movementY:ak}}),Vz=ns(c2),pQ=si({},c2,{dataTransfer:0}),mQ=ns(pQ),gQ=si({},ex,{relatedTarget:0}),sk=ns(gQ),yQ=si({},Cg,{animationName:0,elapsedTime:0,pseudoElement:0}),vQ=ns(yQ),bQ=si({},Cg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xQ=ns(bQ),_Q=si({},Cg,{data:0}),Wz=ns(_Q),wQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EQ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=CQ[e])?!!t[e]:!1}function RI(){return EQ}var TQ=si({},ex,{key:function(e){if(e.key){var t=wQ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=L1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?SQ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:RI,charCode:function(e){return e.type==="keypress"?L1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?L1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kQ=ns(TQ),PQ=si({},c2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qz=ns(PQ),OQ=si({},ex,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:RI}),AQ=ns(OQ),MQ=si({},Cg,{propertyName:0,elapsedTime:0,pseudoElement:0}),IQ=ns(MQ),$Q=si({},c2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RQ=ns($Q),DQ=[9,13,27,32],DI=eu&&"CompositionEvent"in window,l0=null;eu&&"documentMode"in document&&(l0=document.documentMode);var LQ=eu&&"TextEvent"in window&&!l0,R8=eu&&(!DI||l0&&8<l0&&11>=l0),Gz=String.fromCharCode(32),Hz=!1;function D8(e,t){switch(e){case"keyup":return DQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L8(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hp=!1;function NQ(e,t){switch(e){case"compositionend":return L8(t);case"keypress":return t.which!==32?null:(Hz=!0,Gz);case"textInput":return e=t.data,e===Gz&&Hz?null:e;default:return null}}function zQ(e,t){if(Hp)return e==="compositionend"||!DI&&D8(e,t)?(e=$8(),D1=II=sd=null,Hp=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return R8&&t.locale!=="ko"?null:t.data;default:return null}}var jQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yz(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jQ[e.type]:t==="textarea"}function N8(e,t,n,r){p8(r),t=hw(t,"onChange"),0<t.length&&(n=new $I("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var c0=null,j0=null;function BQ(e){Y8(e,0)}function u2(e){var t=Zp(e);if(s8(t))return e}function FQ(e,t){if(e==="change")return t}var z8=!1;if(eu){var lk;if(eu){var ck="oninput"in document;if(!ck){var Kz=document.createElement("div");Kz.setAttribute("oninput","return;"),ck=typeof Kz.oninput=="function"}lk=ck}else lk=!1;z8=lk&&(!document.documentMode||9<document.documentMode)}function Zz(){c0&&(c0.detachEvent("onpropertychange",j8),j0=c0=null)}function j8(e){if(e.propertyName==="value"&&u2(j0)){var t=[];N8(t,j0,e,kI(e)),v8(BQ,t)}}function UQ(e,t,n){e==="focusin"?(Zz(),c0=t,j0=n,c0.attachEvent("onpropertychange",j8)):e==="focusout"&&Zz()}function VQ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return u2(j0)}function WQ(e,t){if(e==="click")return u2(t)}function qQ(e,t){if(e==="input"||e==="change")return u2(t)}function GQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xl=typeof Object.is=="function"?Object.is:GQ;function B0(e,t){if(xl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fO.call(t,i)||!xl(e[i],t[i]))return!1}return!0}function Xz(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jz(e,t){var n=Xz(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xz(n)}}function B8(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?B8(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function F8(){for(var e=window,t=aw();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=aw(e.document)}return t}function LI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function HQ(e){var t=F8(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&B8(n.ownerDocument.documentElement,n)){if(r!==null&&LI(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Jz(n,o);var s=Jz(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var YQ=eu&&"documentMode"in document&&11>=document.documentMode,Yp=null,MO=null,u0=null,IO=!1;function Qz(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;IO||Yp==null||Yp!==aw(r)||(r=Yp,"selectionStart"in r&&LI(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),u0&&B0(u0,r)||(u0=r,r=hw(MO,"onSelect"),0<r.length&&(t=new $I("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Yp)))}function V_(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Kp={animationend:V_("Animation","AnimationEnd"),animationiteration:V_("Animation","AnimationIteration"),animationstart:V_("Animation","AnimationStart"),transitionend:V_("Transition","TransitionEnd")},uk={},U8={};eu&&(U8=document.createElement("div").style,"AnimationEvent"in window||(delete Kp.animationend.animation,delete Kp.animationiteration.animation,delete Kp.animationstart.animation),"TransitionEvent"in window||delete Kp.transitionend.transition);function d2(e){if(uk[e])return uk[e];if(!Kp[e])return e;var t=Kp[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in U8)return uk[e]=t[n];return e}var V8=d2("animationend"),W8=d2("animationiteration"),q8=d2("animationstart"),G8=d2("transitionend"),H8=new Map,ej="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fd(e,t){H8.set(e,t),kh(t,[e])}for(var dk=0;dk<ej.length;dk++){var fk=ej[dk],KQ=fk.toLowerCase(),ZQ=fk[0].toUpperCase()+fk.slice(1);Fd(KQ,"on"+ZQ)}Fd(V8,"onAnimationEnd");Fd(W8,"onAnimationIteration");Fd(q8,"onAnimationStart");Fd("dblclick","onDoubleClick");Fd("focusin","onFocus");Fd("focusout","onBlur");Fd(G8,"onTransitionEnd");Lm("onMouseEnter",["mouseout","mouseover"]);Lm("onMouseLeave",["mouseout","mouseover"]);Lm("onPointerEnter",["pointerout","pointerover"]);Lm("onPointerLeave",["pointerout","pointerover"]);kh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kh("onBeforeInput",["compositionend","keypress","textInput","paste"]);kh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zv));function tj(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,KJ(r,t,void 0,e),e.currentTarget=null}function Y8(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],f=a.instance,h=a.currentTarget;if(a=a.listener,f!==o&&i.isPropagationStopped())break e;tj(i,a,h),o=f}else for(s=0;s<r.length;s++){if(a=r[s],f=a.instance,h=a.currentTarget,a=a.listener,f!==o&&i.isPropagationStopped())break e;tj(i,a,h),o=f}}}if(lw)throw e=kO,lw=!1,kO=null,e}function Nr(e,t){var n=t[NO];n===void 0&&(n=t[NO]=new Set);var r=e+"__bubble";n.has(r)||(K8(t,e,2,!1),n.add(r))}function hk(e,t,n){var r=0;t&&(r|=4),K8(n,e,r,t)}var W_="_reactListening"+Math.random().toString(36).slice(2);function F0(e){if(!e[W_]){e[W_]=!0,n8.forEach(function(n){n!=="selectionchange"&&(XQ.has(n)||hk(n,!1,e),hk(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[W_]||(t[W_]=!0,hk("selectionchange",!1,t))}}function K8(e,t,n,r){switch(I8(t)){case 1:var i=dQ;break;case 4:i=fQ;break;default:i=MI}n=i.bind(null,t,n,e),i=void 0,!TO||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function pk(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var f=s.tag;if((f===3||f===4)&&(f=s.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Bf(a),s===null)return;if(f=s.tag,f===5||f===6){r=o=s;continue e}a=a.parentNode}}r=r.return}v8(function(){var h=o,g=kI(n),y=[];e:{var x=H8.get(e);if(x!==void 0){var P=$I,O=e;switch(e){case"keypress":if(L1(n)===0)break e;case"keydown":case"keyup":P=kQ;break;case"focusin":O="focus",P=sk;break;case"focusout":O="blur",P=sk;break;case"beforeblur":case"afterblur":P=sk;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Vz;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=mQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=AQ;break;case V8:case W8:case q8:P=vQ;break;case G8:P=IQ;break;case"scroll":P=hQ;break;case"wheel":P=RQ;break;case"copy":case"cut":case"paste":P=xQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=qz}var S=(t&4)!==0,A=!S&&e==="scroll",I=S?x!==null?x+"Capture":null:x;S=[];for(var M=h,k;M!==null;){k=M;var $=k.stateNode;if(k.tag===5&&$!==null&&(k=$,I!==null&&($=D0(M,I),$!=null&&S.push(U0(M,$,k)))),A)break;M=M.return}0<S.length&&(x=new P(x,O,null,n,g),y.push({event:x,listeners:S}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",x&&n!==CO&&(O=n.relatedTarget||n.fromElement)&&(Bf(O)||O[tu]))break e;if((P||x)&&(x=g.window===g?g:(x=g.ownerDocument)?x.defaultView||x.parentWindow:window,P?(O=n.relatedTarget||n.toElement,P=h,O=O?Bf(O):null,O!==null&&(A=Ph(O),O!==A||O.tag!==5&&O.tag!==6)&&(O=null)):(P=null,O=h),P!==O)){if(S=Vz,$="onMouseLeave",I="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(S=qz,$="onPointerLeave",I="onPointerEnter",M="pointer"),A=P==null?x:Zp(P),k=O==null?x:Zp(O),x=new S($,M+"leave",P,n,g),x.target=A,x.relatedTarget=k,$=null,Bf(g)===h&&(S=new S(I,M+"enter",O,n,g),S.target=k,S.relatedTarget=A,$=S),A=$,P&&O)t:{for(S=P,I=O,M=0,k=S;k;k=Cp(k))M++;for(k=0,$=I;$;$=Cp($))k++;for(;0<M-k;)S=Cp(S),M--;for(;0<k-M;)I=Cp(I),k--;for(;M--;){if(S===I||I!==null&&S===I.alternate)break t;S=Cp(S),I=Cp(I)}S=null}else S=null;P!==null&&nj(y,x,P,S,!1),O!==null&&A!==null&&nj(y,A,O,S,!0)}}e:{if(x=h?Zp(h):window,P=x.nodeName&&x.nodeName.toLowerCase(),P==="select"||P==="input"&&x.type==="file")var L=FQ;else if(Yz(x))if(z8)L=qQ;else{L=VQ;var N=UQ}else(P=x.nodeName)&&P.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(L=WQ);if(L&&(L=L(e,h))){N8(y,L,n,g);break e}N&&N(e,x,h),e==="focusout"&&(N=x._wrapperState)&&N.controlled&&x.type==="number"&&bO(x,"number",x.value)}switch(N=h?Zp(h):window,e){case"focusin":(Yz(N)||N.contentEditable==="true")&&(Yp=N,MO=h,u0=null);break;case"focusout":u0=MO=Yp=null;break;case"mousedown":IO=!0;break;case"contextmenu":case"mouseup":case"dragend":IO=!1,Qz(y,n,g);break;case"selectionchange":if(YQ)break;case"keydown":case"keyup":Qz(y,n,g)}var F;if(DI)e:{switch(e){case"compositionstart":var G="onCompositionStart";break e;case"compositionend":G="onCompositionEnd";break e;case"compositionupdate":G="onCompositionUpdate";break e}G=void 0}else Hp?D8(e,n)&&(G="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(G="onCompositionStart");G&&(R8&&n.locale!=="ko"&&(Hp||G!=="onCompositionStart"?G==="onCompositionEnd"&&Hp&&(F=$8()):(sd=g,II="value"in sd?sd.value:sd.textContent,Hp=!0)),N=hw(h,G),0<N.length&&(G=new Wz(G,e,null,n,g),y.push({event:G,listeners:N}),F?G.data=F:(F=L8(n),F!==null&&(G.data=F)))),(F=LQ?NQ(e,n):zQ(e,n))&&(h=hw(h,"onBeforeInput"),0<h.length&&(g=new Wz("onBeforeInput","beforeinput",null,n,g),y.push({event:g,listeners:h}),g.data=F))}Y8(y,t)})}function U0(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hw(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=D0(e,n),o!=null&&r.unshift(U0(e,o,i)),o=D0(e,t),o!=null&&r.push(U0(e,o,i))),e=e.return}return r}function Cp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nj(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,f=a.alternate,h=a.stateNode;if(f!==null&&f===r)break;a.tag===5&&h!==null&&(a=h,i?(f=D0(n,o),f!=null&&s.unshift(U0(n,f,a))):i||(f=D0(n,o),f!=null&&s.push(U0(n,f,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var JQ=/\r\n?/g,QQ=/\u0000|\uFFFD/g;function rj(e){return(typeof e=="string"?e:""+e).replace(JQ,`
`).replace(QQ,"")}function q_(e,t,n){if(t=rj(t),rj(e)!==t&&n)throw Error(ft(425))}function pw(){}var $O=null,RO=null;function DO(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var LO=typeof setTimeout=="function"?setTimeout:void 0,eee=typeof clearTimeout=="function"?clearTimeout:void 0,ij=typeof Promise=="function"?Promise:void 0,tee=typeof queueMicrotask=="function"?queueMicrotask:typeof ij<"u"?function(e){return ij.resolve(null).then(e).catch(nee)}:LO;function nee(e){setTimeout(function(){throw e})}function mk(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),z0(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);z0(t)}function vd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function oj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Eg=Math.random().toString(36).slice(2),Hl="__reactFiber$"+Eg,V0="__reactProps$"+Eg,tu="__reactContainer$"+Eg,NO="__reactEvents$"+Eg,ree="__reactListeners$"+Eg,iee="__reactHandles$"+Eg;function Bf(e){var t=e[Hl];if(t)return t;for(var n=e.parentNode;n;){if(t=n[tu]||n[Hl]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=oj(e);e!==null;){if(n=e[Hl])return n;e=oj(e)}return t}e=n,n=e.parentNode}return null}function tx(e){return e=e[Hl]||e[tu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ft(33))}function f2(e){return e[V0]||null}var zO=[],Xp=-1;function Ud(e){return{current:e}}function Br(e){0>Xp||(e.current=zO[Xp],zO[Xp]=null,Xp--)}function Rr(e,t){Xp++,zO[Xp]=e.current,e.current=t}var Id={},jo=Ud(Id),Ca=Ud(!1),lh=Id;function Nm(e,t){var n=e.type.contextTypes;if(!n)return Id;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ea(e){return e=e.childContextTypes,e!=null}function mw(){Br(Ca),Br(jo)}function aj(e,t,n){if(jo.current!==Id)throw Error(ft(168));Rr(jo,t),Rr(Ca,n)}function Z8(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ft(108,UJ(e)||"Unknown",i));return si({},n,r)}function gw(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Id,lh=jo.current,Rr(jo,e),Rr(Ca,Ca.current),!0}function sj(e,t,n){var r=e.stateNode;if(!r)throw Error(ft(169));n?(e=Z8(e,t,lh),r.__reactInternalMemoizedMergedChildContext=e,Br(Ca),Br(jo),Rr(jo,e)):Br(Ca),Rr(Ca,n)}var Dc=null,h2=!1,gk=!1;function X8(e){Dc===null?Dc=[e]:Dc.push(e)}function oee(e){h2=!0,X8(e)}function Vd(){if(!gk&&Dc!==null){gk=!0;var e=0,t=pr;try{var n=Dc;for(pr=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Dc=null,h2=!1}catch(i){throw Dc!==null&&(Dc=Dc.slice(e+1)),w8(PI,Vd),i}finally{pr=t,gk=!1}}return null}var Jp=[],Qp=0,yw=null,vw=0,ws=[],Ss=0,ch=null,jc=1,Bc="";function Pf(e,t){Jp[Qp++]=vw,Jp[Qp++]=yw,yw=e,vw=t}function J8(e,t,n){ws[Ss++]=jc,ws[Ss++]=Bc,ws[Ss++]=ch,ch=e;var r=jc;e=Bc;var i=32-vl(r)-1;r&=~(1<<i),n+=1;var o=32-vl(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,jc=1<<32-vl(t)+i|n<<i|r,Bc=o+e}else jc=1<<o|n<<i|r,Bc=e}function NI(e){e.return!==null&&(Pf(e,1),J8(e,1,0))}function zI(e){for(;e===yw;)yw=Jp[--Qp],Jp[Qp]=null,vw=Jp[--Qp],Jp[Qp]=null;for(;e===ch;)ch=ws[--Ss],ws[Ss]=null,Bc=ws[--Ss],ws[Ss]=null,jc=ws[--Ss],ws[Ss]=null}var Ya=null,Ha=null,Yr=!1,cl=null;function Q8(e,t){var n=Ts(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function lj(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ya=e,Ha=vd(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ya=e,Ha=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ch!==null?{id:jc,overflow:Bc}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ts(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ya=e,Ha=null,!0):!1;default:return!1}}function jO(e){return(e.mode&1)!==0&&(e.flags&128)===0}function BO(e){if(Yr){var t=Ha;if(t){var n=t;if(!lj(e,t)){if(jO(e))throw Error(ft(418));t=vd(n.nextSibling);var r=Ya;t&&lj(e,t)?Q8(r,n):(e.flags=e.flags&-4097|2,Yr=!1,Ya=e)}}else{if(jO(e))throw Error(ft(418));e.flags=e.flags&-4097|2,Yr=!1,Ya=e}}}function cj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ya=e}function G_(e){if(e!==Ya)return!1;if(!Yr)return cj(e),Yr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!DO(e.type,e.memoizedProps)),t&&(t=Ha)){if(jO(e))throw eV(),Error(ft(418));for(;t;)Q8(e,t),t=vd(t.nextSibling)}if(cj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ft(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ha=vd(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ha=null}}else Ha=Ya?vd(e.stateNode.nextSibling):null;return!0}function eV(){for(var e=Ha;e;)e=vd(e.nextSibling)}function zm(){Ha=Ya=null,Yr=!1}function jI(e){cl===null?cl=[e]:cl.push(e)}var aee=pu.ReactCurrentBatchConfig;function al(e,t){if(e&&e.defaultProps){t=si({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var bw=Ud(null),xw=null,em=null,BI=null;function FI(){BI=em=xw=null}function UI(e){var t=bw.current;Br(bw),e._currentValue=t}function FO(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xm(e,t){xw=e,BI=em=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(wa=!0),e.firstContext=null)}function Ds(e){var t=e._currentValue;if(BI!==e)if(e={context:e,memoizedValue:t,next:null},em===null){if(xw===null)throw Error(ft(308));em=e,xw.dependencies={lanes:0,firstContext:e}}else em=em.next=e;return t}var Ff=null;function VI(e){Ff===null?Ff=[e]:Ff.push(e)}function tV(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,VI(t)):(n.next=i.next,i.next=n),t.interleaved=n,nu(e,r)}function nu(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var nd=!1;function WI(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nV(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bd(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Zn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,nu(e,n)}return i=r.interleaved,i===null?(t.next=t,VI(r)):(t.next=i.next,i.next=t),r.interleaved=t,nu(e,n)}function N1(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,OI(e,n)}}function uj(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function _w(e,t,n,r){var i=e.updateQueue;nd=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var f=a,h=f.next;f.next=null,s===null?o=h:s.next=h,s=f;var g=e.alternate;g!==null&&(g=g.updateQueue,a=g.lastBaseUpdate,a!==s&&(a===null?g.firstBaseUpdate=h:a.next=h,g.lastBaseUpdate=f))}if(o!==null){var y=i.baseState;s=0,g=h=f=null,a=o;do{var x=a.lane,P=a.eventTime;if((r&x)===x){g!==null&&(g=g.next={eventTime:P,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var O=e,S=a;switch(x=t,P=n,S.tag){case 1:if(O=S.payload,typeof O=="function"){y=O.call(P,y,x);break e}y=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=S.payload,x=typeof O=="function"?O.call(P,y,x):O,x==null)break e;y=si({},y,x);break e;case 2:nd=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,x=i.effects,x===null?i.effects=[a]:x.push(a))}else P={eventTime:P,lane:x,tag:a.tag,payload:a.payload,callback:a.callback,next:null},g===null?(h=g=P,f=y):g=g.next=P,s|=x;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;x=a,a=x.next,x.next=null,i.lastBaseUpdate=x,i.shared.pending=null}}while(1);if(g===null&&(f=y),i.baseState=f,i.firstBaseUpdate=h,i.lastBaseUpdate=g,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);dh|=s,e.lanes=s,e.memoizedState=y}}function dj(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ft(191,i));i.call(r)}}}var rV=new t8.Component().refs;function UO(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:si({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var p2={isMounted:function(e){return(e=e._reactInternals)?Ph(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ca(),i=_d(e),o=Kc(r,i);o.payload=t,n!=null&&(o.callback=n),t=bd(e,o,i),t!==null&&(bl(t,e,i,r),N1(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ca(),i=_d(e),o=Kc(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=bd(e,o,i),t!==null&&(bl(t,e,i,r),N1(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ca(),r=_d(e),i=Kc(n,r);i.tag=2,t!=null&&(i.callback=t),t=bd(e,i,r),t!==null&&(bl(t,e,r,n),N1(t,e,r))}};function fj(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!B0(n,r)||!B0(i,o):!0}function iV(e,t,n){var r=!1,i=Id,o=t.contextType;return typeof o=="object"&&o!==null?o=Ds(o):(i=Ea(t)?lh:jo.current,r=t.contextTypes,o=(r=r!=null)?Nm(e,i):Id),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=p2,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function hj(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&p2.enqueueReplaceState(t,t.state,null)}function VO(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=rV,WI(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Ds(o):(o=Ea(t)?lh:jo.current,i.context=Nm(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(UO(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&p2.enqueueReplaceState(i,i.state,null),_w(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function fv(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ft(309));var r=n.stateNode}if(!r)throw Error(ft(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===rV&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(ft(284));if(!n._owner)throw Error(ft(290,e))}return e}function H_(e,t){throw e=Object.prototype.toString.call(t),Error(ft(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pj(e){var t=e._init;return t(e._payload)}function oV(e){function t(I,M){if(e){var k=I.deletions;k===null?(I.deletions=[M],I.flags|=16):k.push(M)}}function n(I,M){if(!e)return null;for(;M!==null;)t(I,M),M=M.sibling;return null}function r(I,M){for(I=new Map;M!==null;)M.key!==null?I.set(M.key,M):I.set(M.index,M),M=M.sibling;return I}function i(I,M){return I=wd(I,M),I.index=0,I.sibling=null,I}function o(I,M,k){return I.index=k,e?(k=I.alternate,k!==null?(k=k.index,k<M?(I.flags|=2,M):k):(I.flags|=2,M)):(I.flags|=1048576,M)}function s(I){return e&&I.alternate===null&&(I.flags|=2),I}function a(I,M,k,$){return M===null||M.tag!==6?(M=Sk(k,I.mode,$),M.return=I,M):(M=i(M,k),M.return=I,M)}function f(I,M,k,$){var L=k.type;return L===Gp?g(I,M,k.props.children,$,k.key):M!==null&&(M.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===td&&pj(L)===M.type)?($=i(M,k.props),$.ref=fv(I,M,k),$.return=I,$):($=V1(k.type,k.key,k.props,null,I.mode,$),$.ref=fv(I,M,k),$.return=I,$)}function h(I,M,k,$){return M===null||M.tag!==4||M.stateNode.containerInfo!==k.containerInfo||M.stateNode.implementation!==k.implementation?(M=Ck(k,I.mode,$),M.return=I,M):(M=i(M,k.children||[]),M.return=I,M)}function g(I,M,k,$,L){return M===null||M.tag!==7?(M=Jf(k,I.mode,$,L),M.return=I,M):(M=i(M,k),M.return=I,M)}function y(I,M,k){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Sk(""+M,I.mode,k),M.return=I,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case L_:return k=V1(M.type,M.key,M.props,null,I.mode,k),k.ref=fv(I,null,M),k.return=I,k;case qp:return M=Ck(M,I.mode,k),M.return=I,M;case td:var $=M._init;return y(I,$(M._payload),k)}if(Yv(M)||sv(M))return M=Jf(M,I.mode,k,null),M.return=I,M;H_(I,M)}return null}function x(I,M,k,$){var L=M!==null?M.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return L!==null?null:a(I,M,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case L_:return k.key===L?f(I,M,k,$):null;case qp:return k.key===L?h(I,M,k,$):null;case td:return L=k._init,x(I,M,L(k._payload),$)}if(Yv(k)||sv(k))return L!==null?null:g(I,M,k,$,null);H_(I,k)}return null}function P(I,M,k,$,L){if(typeof $=="string"&&$!==""||typeof $=="number")return I=I.get(k)||null,a(M,I,""+$,L);if(typeof $=="object"&&$!==null){switch($.$$typeof){case L_:return I=I.get($.key===null?k:$.key)||null,f(M,I,$,L);case qp:return I=I.get($.key===null?k:$.key)||null,h(M,I,$,L);case td:var N=$._init;return P(I,M,k,N($._payload),L)}if(Yv($)||sv($))return I=I.get(k)||null,g(M,I,$,L,null);H_(M,$)}return null}function O(I,M,k,$){for(var L=null,N=null,F=M,G=M=0,J=null;F!==null&&G<k.length;G++){F.index>G?(J=F,F=null):J=F.sibling;var ee=x(I,F,k[G],$);if(ee===null){F===null&&(F=J);break}e&&F&&ee.alternate===null&&t(I,F),M=o(ee,M,G),N===null?L=ee:N.sibling=ee,N=ee,F=J}if(G===k.length)return n(I,F),Yr&&Pf(I,G),L;if(F===null){for(;G<k.length;G++)F=y(I,k[G],$),F!==null&&(M=o(F,M,G),N===null?L=F:N.sibling=F,N=F);return Yr&&Pf(I,G),L}for(F=r(I,F);G<k.length;G++)J=P(F,I,G,k[G],$),J!==null&&(e&&J.alternate!==null&&F.delete(J.key===null?G:J.key),M=o(J,M,G),N===null?L=J:N.sibling=J,N=J);return e&&F.forEach(function(ae){return t(I,ae)}),Yr&&Pf(I,G),L}function S(I,M,k,$){var L=sv(k);if(typeof L!="function")throw Error(ft(150));if(k=L.call(k),k==null)throw Error(ft(151));for(var N=L=null,F=M,G=M=0,J=null,ee=k.next();F!==null&&!ee.done;G++,ee=k.next()){F.index>G?(J=F,F=null):J=F.sibling;var ae=x(I,F,ee.value,$);if(ae===null){F===null&&(F=J);break}e&&F&&ae.alternate===null&&t(I,F),M=o(ae,M,G),N===null?L=ae:N.sibling=ae,N=ae,F=J}if(ee.done)return n(I,F),Yr&&Pf(I,G),L;if(F===null){for(;!ee.done;G++,ee=k.next())ee=y(I,ee.value,$),ee!==null&&(M=o(ee,M,G),N===null?L=ee:N.sibling=ee,N=ee);return Yr&&Pf(I,G),L}for(F=r(I,F);!ee.done;G++,ee=k.next())ee=P(F,I,G,ee.value,$),ee!==null&&(e&&ee.alternate!==null&&F.delete(ee.key===null?G:ee.key),M=o(ee,M,G),N===null?L=ee:N.sibling=ee,N=ee);return e&&F.forEach(function(pe){return t(I,pe)}),Yr&&Pf(I,G),L}function A(I,M,k,$){if(typeof k=="object"&&k!==null&&k.type===Gp&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case L_:e:{for(var L=k.key,N=M;N!==null;){if(N.key===L){if(L=k.type,L===Gp){if(N.tag===7){n(I,N.sibling),M=i(N,k.props.children),M.return=I,I=M;break e}}else if(N.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===td&&pj(L)===N.type){n(I,N.sibling),M=i(N,k.props),M.ref=fv(I,N,k),M.return=I,I=M;break e}n(I,N);break}else t(I,N);N=N.sibling}k.type===Gp?(M=Jf(k.props.children,I.mode,$,k.key),M.return=I,I=M):($=V1(k.type,k.key,k.props,null,I.mode,$),$.ref=fv(I,M,k),$.return=I,I=$)}return s(I);case qp:e:{for(N=k.key;M!==null;){if(M.key===N)if(M.tag===4&&M.stateNode.containerInfo===k.containerInfo&&M.stateNode.implementation===k.implementation){n(I,M.sibling),M=i(M,k.children||[]),M.return=I,I=M;break e}else{n(I,M);break}else t(I,M);M=M.sibling}M=Ck(k,I.mode,$),M.return=I,I=M}return s(I);case td:return N=k._init,A(I,M,N(k._payload),$)}if(Yv(k))return O(I,M,k,$);if(sv(k))return S(I,M,k,$);H_(I,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,M!==null&&M.tag===6?(n(I,M.sibling),M=i(M,k),M.return=I,I=M):(n(I,M),M=Sk(k,I.mode,$),M.return=I,I=M),s(I)):n(I,M)}return A}var jm=oV(!0),aV=oV(!1),nx={},Jl=Ud(nx),W0=Ud(nx),q0=Ud(nx);function Uf(e){if(e===nx)throw Error(ft(174));return e}function qI(e,t){switch(Rr(q0,t),Rr(W0,e),Rr(Jl,nx),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_O(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_O(t,e)}Br(Jl),Rr(Jl,t)}function Bm(){Br(Jl),Br(W0),Br(q0)}function sV(e){Uf(q0.current);var t=Uf(Jl.current),n=_O(t,e.type);t!==n&&(Rr(W0,e),Rr(Jl,n))}function GI(e){W0.current===e&&(Br(Jl),Br(W0))}var ii=Ud(0);function ww(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yk=[];function HI(){for(var e=0;e<yk.length;e++)yk[e]._workInProgressVersionPrimary=null;yk.length=0}var z1=pu.ReactCurrentDispatcher,vk=pu.ReactCurrentBatchConfig,uh=0,ai=null,zi=null,Ji=null,Sw=!1,d0=!1,G0=0,see=0;function Po(){throw Error(ft(321))}function YI(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xl(e[n],t[n]))return!1;return!0}function KI(e,t,n,r,i,o){if(uh=o,ai=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z1.current=e===null||e.memoizedState===null?dee:fee,e=n(r,i),d0){o=0;do{if(d0=!1,G0=0,25<=o)throw Error(ft(301));o+=1,Ji=zi=null,t.updateQueue=null,z1.current=hee,e=n(r,i)}while(d0)}if(z1.current=Cw,t=zi!==null&&zi.next!==null,uh=0,Ji=zi=ai=null,Sw=!1,t)throw Error(ft(300));return e}function ZI(){var e=G0!==0;return G0=0,e}function Ul(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ji===null?ai.memoizedState=Ji=e:Ji=Ji.next=e,Ji}function Ls(){if(zi===null){var e=ai.alternate;e=e!==null?e.memoizedState:null}else e=zi.next;var t=Ji===null?ai.memoizedState:Ji.next;if(t!==null)Ji=t,zi=e;else{if(e===null)throw Error(ft(310));zi=e,e={memoizedState:zi.memoizedState,baseState:zi.baseState,baseQueue:zi.baseQueue,queue:zi.queue,next:null},Ji===null?ai.memoizedState=Ji=e:Ji=Ji.next=e}return Ji}function H0(e,t){return typeof t=="function"?t(e):t}function bk(e){var t=Ls(),n=t.queue;if(n===null)throw Error(ft(311));n.lastRenderedReducer=e;var r=zi,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,f=null,h=o;do{var g=h.lane;if((uh&g)===g)f!==null&&(f=f.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var y={lane:g,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};f===null?(a=f=y,s=r):f=f.next=y,ai.lanes|=g,dh|=g}h=h.next}while(h!==null&&h!==o);f===null?s=r:f.next=a,xl(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=f,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,ai.lanes|=o,dh|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xk(e){var t=Ls(),n=t.queue;if(n===null)throw Error(ft(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);xl(o,t.memoizedState)||(wa=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function lV(){}function cV(e,t){var n=ai,r=Ls(),i=t(),o=!xl(r.memoizedState,i);if(o&&(r.memoizedState=i,wa=!0),r=r.queue,XI(fV.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ji!==null&&Ji.memoizedState.tag&1){if(n.flags|=2048,Y0(9,dV.bind(null,n,r,i,t),void 0,null),eo===null)throw Error(ft(349));uh&30||uV(n,t,i)}return i}function uV(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ai.updateQueue,t===null?(t={lastEffect:null,stores:null},ai.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function dV(e,t,n,r){t.value=n,t.getSnapshot=r,hV(t)&&pV(e)}function fV(e,t,n){return n(function(){hV(t)&&pV(e)})}function hV(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xl(e,n)}catch{return!0}}function pV(e){var t=nu(e,1);t!==null&&bl(t,e,1,-1)}function mj(e){var t=Ul();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:H0,lastRenderedState:e},t.queue=e,e=e.dispatch=uee.bind(null,ai,e),[t.memoizedState,e]}function Y0(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ai.updateQueue,t===null?(t={lastEffect:null,stores:null},ai.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function mV(){return Ls().memoizedState}function j1(e,t,n,r){var i=Ul();ai.flags|=e,i.memoizedState=Y0(1|t,n,void 0,r===void 0?null:r)}function m2(e,t,n,r){var i=Ls();r=r===void 0?null:r;var o=void 0;if(zi!==null){var s=zi.memoizedState;if(o=s.destroy,r!==null&&YI(r,s.deps)){i.memoizedState=Y0(t,n,o,r);return}}ai.flags|=e,i.memoizedState=Y0(1|t,n,o,r)}function gj(e,t){return j1(8390656,8,e,t)}function XI(e,t){return m2(2048,8,e,t)}function gV(e,t){return m2(4,2,e,t)}function yV(e,t){return m2(4,4,e,t)}function vV(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bV(e,t,n){return n=n!=null?n.concat([e]):null,m2(4,4,vV.bind(null,t,e),n)}function JI(){}function xV(e,t){var n=Ls();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&YI(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _V(e,t){var n=Ls();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&YI(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function wV(e,t,n){return uh&21?(xl(n,t)||(n=E8(),ai.lanes|=n,dh|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n)}function lee(e,t){var n=pr;pr=n!==0&&4>n?n:4,e(!0);var r=vk.transition;vk.transition={};try{e(!1),t()}finally{pr=n,vk.transition=r}}function SV(){return Ls().memoizedState}function cee(e,t,n){var r=_d(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},CV(e))EV(t,n);else if(n=tV(e,t,n,r),n!==null){var i=ca();bl(n,e,r,i),TV(n,t,r)}}function uee(e,t,n){var r=_d(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(CV(e))EV(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,xl(a,s)){var f=t.interleaved;f===null?(i.next=i,VI(t)):(i.next=f.next,f.next=i),t.interleaved=i;return}}catch{}finally{}n=tV(e,t,i,r),n!==null&&(i=ca(),bl(n,e,r,i),TV(n,t,r))}}function CV(e){var t=e.alternate;return e===ai||t!==null&&t===ai}function EV(e,t){d0=Sw=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function TV(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,OI(e,n)}}var Cw={readContext:Ds,useCallback:Po,useContext:Po,useEffect:Po,useImperativeHandle:Po,useInsertionEffect:Po,useLayoutEffect:Po,useMemo:Po,useReducer:Po,useRef:Po,useState:Po,useDebugValue:Po,useDeferredValue:Po,useTransition:Po,useMutableSource:Po,useSyncExternalStore:Po,useId:Po,unstable_isNewReconciler:!1},dee={readContext:Ds,useCallback:function(e,t){return Ul().memoizedState=[e,t===void 0?null:t],e},useContext:Ds,useEffect:gj,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,j1(4194308,4,vV.bind(null,t,e),n)},useLayoutEffect:function(e,t){return j1(4194308,4,e,t)},useInsertionEffect:function(e,t){return j1(4,2,e,t)},useMemo:function(e,t){var n=Ul();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ul();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=cee.bind(null,ai,e),[r.memoizedState,e]},useRef:function(e){var t=Ul();return e={current:e},t.memoizedState=e},useState:mj,useDebugValue:JI,useDeferredValue:function(e){return Ul().memoizedState=e},useTransition:function(){var e=mj(!1),t=e[0];return e=lee.bind(null,e[1]),Ul().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ai,i=Ul();if(Yr){if(n===void 0)throw Error(ft(407));n=n()}else{if(n=t(),eo===null)throw Error(ft(349));uh&30||uV(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,gj(fV.bind(null,r,o,e),[e]),r.flags|=2048,Y0(9,dV.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ul(),t=eo.identifierPrefix;if(Yr){var n=Bc,r=jc;n=(r&~(1<<32-vl(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=G0++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=see++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fee={readContext:Ds,useCallback:xV,useContext:Ds,useEffect:XI,useImperativeHandle:bV,useInsertionEffect:gV,useLayoutEffect:yV,useMemo:_V,useReducer:bk,useRef:mV,useState:function(){return bk(H0)},useDebugValue:JI,useDeferredValue:function(e){var t=Ls();return wV(t,zi.memoizedState,e)},useTransition:function(){var e=bk(H0)[0],t=Ls().memoizedState;return[e,t]},useMutableSource:lV,useSyncExternalStore:cV,useId:SV,unstable_isNewReconciler:!1},hee={readContext:Ds,useCallback:xV,useContext:Ds,useEffect:XI,useImperativeHandle:bV,useInsertionEffect:gV,useLayoutEffect:yV,useMemo:_V,useReducer:xk,useRef:mV,useState:function(){return xk(H0)},useDebugValue:JI,useDeferredValue:function(e){var t=Ls();return zi===null?t.memoizedState=e:wV(t,zi.memoizedState,e)},useTransition:function(){var e=xk(H0)[0],t=Ls().memoizedState;return[e,t]},useMutableSource:lV,useSyncExternalStore:cV,useId:SV,unstable_isNewReconciler:!1};function Fm(e,t){try{var n="",r=t;do n+=FJ(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function _k(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function WO(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var pee=typeof WeakMap=="function"?WeakMap:Map;function kV(e,t,n){n=Kc(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Tw||(Tw=!0,eA=r),WO(e,t)},n}function PV(e,t,n){n=Kc(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){WO(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){WO(e,t),typeof r!="function"&&(xd===null?xd=new Set([this]):xd.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function yj(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new pee;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Pee.bind(null,e,t,n),t.then(e,e))}function vj(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bj(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Kc(-1,1),t.tag=2,bd(n,t,1))),n.lanes|=1),e)}var mee=pu.ReactCurrentOwner,wa=!1;function aa(e,t,n,r){t.child=e===null?aV(t,null,n,r):jm(t,e.child,n,r)}function xj(e,t,n,r,i){n=n.render;var o=t.ref;return xm(t,i),r=KI(e,t,n,r,o,i),n=ZI(),e!==null&&!wa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ru(e,t,i)):(Yr&&n&&NI(t),t.flags|=1,aa(e,t,r,i),t.child)}function _j(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!a$(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,OV(e,t,o,r,i)):(e=V1(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:B0,n(s,r)&&e.ref===t.ref)return ru(e,t,i)}return t.flags|=1,e=wd(o,r),e.ref=t.ref,e.return=t,t.child=e}function OV(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(B0(o,r)&&e.ref===t.ref)if(wa=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(wa=!0);else return t.lanes=e.lanes,ru(e,t,i)}return qO(e,t,n,r,i)}function AV(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rr(nm,Ua),Ua|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Rr(nm,Ua),Ua|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Rr(nm,Ua),Ua|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Rr(nm,Ua),Ua|=r;return aa(e,t,i,n),t.child}function MV(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qO(e,t,n,r,i){var o=Ea(n)?lh:jo.current;return o=Nm(t,o),xm(t,i),n=KI(e,t,n,r,o,i),r=ZI(),e!==null&&!wa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ru(e,t,i)):(Yr&&r&&NI(t),t.flags|=1,aa(e,t,n,i),t.child)}function wj(e,t,n,r,i){if(Ea(n)){var o=!0;gw(t)}else o=!1;if(xm(t,i),t.stateNode===null)B1(e,t),iV(t,n,r),VO(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var f=s.context,h=n.contextType;typeof h=="object"&&h!==null?h=Ds(h):(h=Ea(n)?lh:jo.current,h=Nm(t,h));var g=n.getDerivedStateFromProps,y=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function";y||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||f!==h)&&hj(t,s,r,h),nd=!1;var x=t.memoizedState;s.state=x,_w(t,r,s,i),f=t.memoizedState,a!==r||x!==f||Ca.current||nd?(typeof g=="function"&&(UO(t,n,g,r),f=t.memoizedState),(a=nd||fj(t,n,a,r,x,f,h))?(y||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=h,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,nV(e,t),a=t.memoizedProps,h=t.type===t.elementType?a:al(t.type,a),s.props=h,y=t.pendingProps,x=s.context,f=n.contextType,typeof f=="object"&&f!==null?f=Ds(f):(f=Ea(n)?lh:jo.current,f=Nm(t,f));var P=n.getDerivedStateFromProps;(g=typeof P=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==y||x!==f)&&hj(t,s,r,f),nd=!1,x=t.memoizedState,s.state=x,_w(t,r,s,i);var O=t.memoizedState;a!==y||x!==O||Ca.current||nd?(typeof P=="function"&&(UO(t,n,P,r),O=t.memoizedState),(h=nd||fj(t,n,h,r,x,O,f)||!1)?(g||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,O,f),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,O,f)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=O),s.props=r,s.state=O,s.context=f,r=h):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),r=!1)}return GO(e,t,n,r,o,i)}function GO(e,t,n,r,i,o){MV(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&sj(t,n,!1),ru(e,t,o);r=t.stateNode,mee.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=jm(t,e.child,null,o),t.child=jm(t,null,a,o)):aa(e,t,a,o),t.memoizedState=r.state,i&&sj(t,n,!0),t.child}function IV(e){var t=e.stateNode;t.pendingContext?aj(e,t.pendingContext,t.pendingContext!==t.context):t.context&&aj(e,t.context,!1),qI(e,t.containerInfo)}function Sj(e,t,n,r,i){return zm(),jI(i),t.flags|=256,aa(e,t,n,r),t.child}var HO={dehydrated:null,treeContext:null,retryLane:0};function YO(e){return{baseLanes:e,cachePool:null,transitions:null}}function $V(e,t,n){var r=t.pendingProps,i=ii.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Rr(ii,i&1),e===null)return BO(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=v2(s,r,0,null),e=Jf(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=YO(n),t.memoizedState=HO,e):QI(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return gee(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var f={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=f,t.deletions=null):(r=wd(i,f),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=wd(a,o):(o=Jf(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?YO(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=HO,r}return o=e.child,e=o.sibling,r=wd(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function QI(e,t){return t=v2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Y_(e,t,n,r){return r!==null&&jI(r),jm(t,e.child,null,n),e=QI(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gee(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=_k(Error(ft(422))),Y_(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=v2({mode:"visible",children:r.children},i,0,null),o=Jf(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&jm(t,e.child,null,s),t.child.memoizedState=YO(s),t.memoizedState=HO,o);if(!(t.mode&1))return Y_(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ft(419)),r=_k(o,r,void 0),Y_(e,t,s,r)}if(a=(s&e.childLanes)!==0,wa||a){if(r=eo,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,nu(e,i),bl(r,e,i,-1))}return o$(),r=_k(Error(ft(421))),Y_(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Oee.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Ha=vd(i.nextSibling),Ya=t,Yr=!0,cl=null,e!==null&&(ws[Ss++]=jc,ws[Ss++]=Bc,ws[Ss++]=ch,jc=e.id,Bc=e.overflow,ch=t),t=QI(t,r.children),t.flags|=4096,t)}function Cj(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),FO(e.return,t,n)}function wk(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function RV(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(aa(e,t,r.children,n),r=ii.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cj(e,n,t);else if(e.tag===19)Cj(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Rr(ii,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ww(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),wk(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ww(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}wk(t,!0,n,null,o);break;case"together":wk(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function B1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ru(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),dh|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ft(153));if(t.child!==null){for(e=t.child,n=wd(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=wd(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function yee(e,t,n){switch(t.tag){case 3:IV(t),zm();break;case 5:sV(t);break;case 1:Ea(t.type)&&gw(t);break;case 4:qI(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Rr(bw,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Rr(ii,ii.current&1),t.flags|=128,null):n&t.child.childLanes?$V(e,t,n):(Rr(ii,ii.current&1),e=ru(e,t,n),e!==null?e.sibling:null);Rr(ii,ii.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return RV(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rr(ii,ii.current),r)break;return null;case 22:case 23:return t.lanes=0,AV(e,t,n)}return ru(e,t,n)}var DV,KO,LV,NV;DV=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};KO=function(){};LV=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Uf(Jl.current);var o=null;switch(n){case"input":i=yO(e,i),r=yO(e,r),o=[];break;case"select":i=si({},i,{value:void 0}),r=si({},r,{value:void 0}),o=[];break;case"textarea":i=xO(e,i),r=xO(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=pw)}wO(n,r);var s;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&($0.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var f=r[h];if(a=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&f!==a&&(f!=null||a!=null))if(h==="style")if(a){for(s in a)!a.hasOwnProperty(s)||f&&f.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in f)f.hasOwnProperty(s)&&a[s]!==f[s]&&(n||(n={}),n[s]=f[s])}else n||(o||(o=[]),o.push(h,n)),n=f;else h==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,a=a?a.__html:void 0,f!=null&&a!==f&&(o=o||[]).push(h,f)):h==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(h,""+f):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&($0.hasOwnProperty(h)?(f!=null&&h==="onScroll"&&Nr("scroll",e),o||a===f||(o=[])):(o=o||[]).push(h,f))}n&&(o=o||[]).push("style",n);var h=o;(t.updateQueue=h)&&(t.flags|=4)}};NV=function(e,t,n,r){n!==r&&(t.flags|=4)};function hv(e,t){if(!Yr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oo(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vee(e,t,n){var r=t.pendingProps;switch(zI(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oo(t),null;case 1:return Ea(t.type)&&mw(),Oo(t),null;case 3:return r=t.stateNode,Bm(),Br(Ca),Br(jo),HI(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(G_(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cl!==null&&(rA(cl),cl=null))),KO(e,t),Oo(t),null;case 5:GI(t);var i=Uf(q0.current);if(n=t.type,e!==null&&t.stateNode!=null)LV(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ft(166));return Oo(t),null}if(e=Uf(Jl.current),G_(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Hl]=t,r[V0]=o,e=(t.mode&1)!==0,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(i=0;i<Zv.length;i++)Nr(Zv[i],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":$z(r,o),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Nr("invalid",r);break;case"textarea":Dz(r,o),Nr("invalid",r)}wO(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&q_(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&q_(r.textContent,a,e),i=["children",""+a]):$0.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Nr("scroll",r)}switch(n){case"input":N_(r),Rz(r,o,!0);break;case"textarea":N_(r),Lz(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=pw)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=u8(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Hl]=t,e[V0]=r,DV(e,t,!1,!1),t.stateNode=e;e:{switch(s=SO(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),i=r;break;case"iframe":case"object":case"embed":Nr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Zv.length;i++)Nr(Zv[i],e);i=r;break;case"source":Nr("error",e),i=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),i=r;break;case"details":Nr("toggle",e),i=r;break;case"input":$z(e,r),i=yO(e,r),Nr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=si({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":Dz(e,r),i=xO(e,r),Nr("invalid",e);break;default:i=r}wO(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var f=a[o];o==="style"?h8(e,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&d8(e,f)):o==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&R0(e,f):typeof f=="number"&&R0(e,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&($0.hasOwnProperty(o)?f!=null&&o==="onScroll"&&Nr("scroll",e):f!=null&&SI(e,o,f,s))}switch(n){case"input":N_(e),Rz(e,r,!1);break;case"textarea":N_(e),Lz(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Md(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?gm(e,!!r.multiple,o,!1):r.defaultValue!=null&&gm(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=pw)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oo(t),null;case 6:if(e&&t.stateNode!=null)NV(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ft(166));if(n=Uf(q0.current),Uf(Jl.current),G_(t)){if(r=t.stateNode,n=t.memoizedProps,r[Hl]=t,(o=r.nodeValue!==n)&&(e=Ya,e!==null))switch(e.tag){case 3:q_(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&q_(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hl]=t,t.stateNode=r}return Oo(t),null;case 13:if(Br(ii),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Yr&&Ha!==null&&t.mode&1&&!(t.flags&128))eV(),zm(),t.flags|=98560,o=!1;else if(o=G_(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(ft(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ft(317));o[Hl]=t}else zm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oo(t),o=!1}else cl!==null&&(rA(cl),cl=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ii.current&1?ji===0&&(ji=3):o$())),t.updateQueue!==null&&(t.flags|=4),Oo(t),null);case 4:return Bm(),KO(e,t),e===null&&F0(t.stateNode.containerInfo),Oo(t),null;case 10:return UI(t.type._context),Oo(t),null;case 17:return Ea(t.type)&&mw(),Oo(t),null;case 19:if(Br(ii),o=t.memoizedState,o===null)return Oo(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)hv(o,!1);else{if(ji!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ww(e),s!==null){for(t.flags|=128,hv(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Rr(ii,ii.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ci()>Um&&(t.flags|=128,r=!0,hv(o,!1),t.lanes=4194304)}else{if(!r)if(e=ww(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hv(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Yr)return Oo(t),null}else 2*Ci()-o.renderingStartTime>Um&&n!==1073741824&&(t.flags|=128,r=!0,hv(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ci(),t.sibling=null,n=ii.current,Rr(ii,r?n&1|2:n&1),t):(Oo(t),null);case 22:case 23:return i$(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ua&1073741824&&(Oo(t),t.subtreeFlags&6&&(t.flags|=8192)):Oo(t),null;case 24:return null;case 25:return null}throw Error(ft(156,t.tag))}function bee(e,t){switch(zI(t),t.tag){case 1:return Ea(t.type)&&mw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bm(),Br(Ca),Br(jo),HI(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return GI(t),null;case 13:if(Br(ii),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ft(340));zm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Br(ii),null;case 4:return Bm(),null;case 10:return UI(t.type._context),null;case 22:case 23:return i$(),null;case 24:return null;default:return null}}var K_=!1,Do=!1,xee=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function tm(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pi(e,t,r)}else n.current=null}function ZO(e,t,n){try{n()}catch(r){pi(e,t,r)}}var Ej=!1;function _ee(e,t){if($O=dw,e=F8(),LI(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,f=-1,h=0,g=0,y=e,x=null;t:for(;;){for(var P;y!==n||i!==0&&y.nodeType!==3||(a=s+i),y!==o||r!==0&&y.nodeType!==3||(f=s+r),y.nodeType===3&&(s+=y.nodeValue.length),(P=y.firstChild)!==null;)x=y,y=P;for(;;){if(y===e)break t;if(x===n&&++h===i&&(a=s),x===o&&++g===r&&(f=s),(P=y.nextSibling)!==null)break;y=x,x=y.parentNode}y=P}n=a===-1||f===-1?null:{start:a,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(RO={focusedElem:e,selectionRange:n},dw=!1,Vt=t;Vt!==null;)if(t=Vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Vt=e;else for(;Vt!==null;){t=Vt;try{var O=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(O!==null){var S=O.memoizedProps,A=O.memoizedState,I=t.stateNode,M=I.getSnapshotBeforeUpdate(t.elementType===t.type?S:al(t.type,S),A);I.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ft(163))}}catch($){pi(t,t.return,$)}if(e=t.sibling,e!==null){e.return=t.return,Vt=e;break}Vt=t.return}return O=Ej,Ej=!1,O}function f0(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&ZO(t,n,o)}i=i.next}while(i!==r)}}function g2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function XO(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function zV(e){var t=e.alternate;t!==null&&(e.alternate=null,zV(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Hl],delete t[V0],delete t[NO],delete t[ree],delete t[iee])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jV(e){return e.tag===5||e.tag===3||e.tag===4}function Tj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jV(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function JO(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pw));else if(r!==4&&(e=e.child,e!==null))for(JO(e,t,n),e=e.sibling;e!==null;)JO(e,t,n),e=e.sibling}function QO(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(QO(e,t,n),e=e.sibling;e!==null;)QO(e,t,n),e=e.sibling}var po=null,sl=!1;function Wu(e,t,n){for(n=n.child;n!==null;)BV(e,t,n),n=n.sibling}function BV(e,t,n){if(Xl&&typeof Xl.onCommitFiberUnmount=="function")try{Xl.onCommitFiberUnmount(l2,n)}catch{}switch(n.tag){case 5:Do||tm(n,t);case 6:var r=po,i=sl;po=null,Wu(e,t,n),po=r,sl=i,po!==null&&(sl?(e=po,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):po.removeChild(n.stateNode));break;case 18:po!==null&&(sl?(e=po,n=n.stateNode,e.nodeType===8?mk(e.parentNode,n):e.nodeType===1&&mk(e,n),z0(e)):mk(po,n.stateNode));break;case 4:r=po,i=sl,po=n.stateNode.containerInfo,sl=!0,Wu(e,t,n),po=r,sl=i;break;case 0:case 11:case 14:case 15:if(!Do&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&ZO(n,t,s),i=i.next}while(i!==r)}Wu(e,t,n);break;case 1:if(!Do&&(tm(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){pi(n,t,a)}Wu(e,t,n);break;case 21:Wu(e,t,n);break;case 22:n.mode&1?(Do=(r=Do)||n.memoizedState!==null,Wu(e,t,n),Do=r):Wu(e,t,n);break;default:Wu(e,t,n)}}function kj(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new xee),t.forEach(function(r){var i=Aee.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:po=a.stateNode,sl=!1;break e;case 3:po=a.stateNode.containerInfo,sl=!0;break e;case 4:po=a.stateNode.containerInfo,sl=!0;break e}a=a.return}if(po===null)throw Error(ft(160));BV(o,s,i),po=null,sl=!1;var f=i.alternate;f!==null&&(f.return=null),i.return=null}catch(h){pi(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)FV(t,e),t=t.sibling}function FV(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nl(t,e),jl(e),r&4){try{f0(3,e,e.return),g2(3,e)}catch(S){pi(e,e.return,S)}try{f0(5,e,e.return)}catch(S){pi(e,e.return,S)}}break;case 1:nl(t,e),jl(e),r&512&&n!==null&&tm(n,n.return);break;case 5:if(nl(t,e),jl(e),r&512&&n!==null&&tm(n,n.return),e.flags&32){var i=e.stateNode;try{R0(i,"")}catch(S){pi(e,e.return,S)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&l8(i,o),SO(a,s);var h=SO(a,o);for(s=0;s<f.length;s+=2){var g=f[s],y=f[s+1];g==="style"?h8(i,y):g==="dangerouslySetInnerHTML"?d8(i,y):g==="children"?R0(i,y):SI(i,g,y,h)}switch(a){case"input":vO(i,o);break;case"textarea":c8(i,o);break;case"select":var x=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var P=o.value;P!=null?gm(i,!!o.multiple,P,!1):x!==!!o.multiple&&(o.defaultValue!=null?gm(i,!!o.multiple,o.defaultValue,!0):gm(i,!!o.multiple,o.multiple?[]:"",!1))}i[V0]=o}catch(S){pi(e,e.return,S)}}break;case 6:if(nl(t,e),jl(e),r&4){if(e.stateNode===null)throw Error(ft(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(S){pi(e,e.return,S)}}break;case 3:if(nl(t,e),jl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{z0(t.containerInfo)}catch(S){pi(e,e.return,S)}break;case 4:nl(t,e),jl(e);break;case 13:nl(t,e),jl(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(n$=Ci())),r&4&&kj(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(Do=(h=Do)||g,nl(t,e),Do=h):nl(t,e),jl(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!g&&e.mode&1)for(Vt=e,g=e.child;g!==null;){for(y=Vt=g;Vt!==null;){switch(x=Vt,P=x.child,x.tag){case 0:case 11:case 14:case 15:f0(4,x,x.return);break;case 1:tm(x,x.return);var O=x.stateNode;if(typeof O.componentWillUnmount=="function"){r=x,n=x.return;try{t=r,O.props=t.memoizedProps,O.state=t.memoizedState,O.componentWillUnmount()}catch(S){pi(r,n,S)}}break;case 5:tm(x,x.return);break;case 22:if(x.memoizedState!==null){Oj(y);continue}}P!==null?(P.return=x,Vt=P):Oj(y)}g=g.sibling}e:for(g=null,y=e;;){if(y.tag===5){if(g===null){g=y;try{i=y.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=y.stateNode,f=y.memoizedProps.style,s=f!=null&&f.hasOwnProperty("display")?f.display:null,a.style.display=f8("display",s))}catch(S){pi(e,e.return,S)}}}else if(y.tag===6){if(g===null)try{y.stateNode.nodeValue=h?"":y.memoizedProps}catch(S){pi(e,e.return,S)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break e;for(;y.sibling===null;){if(y.return===null||y.return===e)break e;g===y&&(g=null),y=y.return}g===y&&(g=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:nl(t,e),jl(e),r&4&&kj(e);break;case 21:break;default:nl(t,e),jl(e)}}function jl(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(jV(n)){var r=n;break e}n=n.return}throw Error(ft(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(R0(i,""),r.flags&=-33);var o=Tj(e);QO(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Tj(e);JO(e,a,s);break;default:throw Error(ft(161))}}catch(f){pi(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wee(e,t,n){Vt=e,UV(e)}function UV(e,t,n){for(var r=(e.mode&1)!==0;Vt!==null;){var i=Vt,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||K_;if(!s){var a=i.alternate,f=a!==null&&a.memoizedState!==null||Do;a=K_;var h=Do;if(K_=s,(Do=f)&&!h)for(Vt=i;Vt!==null;)s=Vt,f=s.child,s.tag===22&&s.memoizedState!==null?Aj(i):f!==null?(f.return=s,Vt=f):Aj(i);for(;o!==null;)Vt=o,UV(o),o=o.sibling;Vt=i,K_=a,Do=h}Pj(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Vt=o):Pj(e)}}function Pj(e){for(;Vt!==null;){var t=Vt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Do||g2(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Do)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:al(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&dj(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}dj(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var g=h.memoizedState;if(g!==null){var y=g.dehydrated;y!==null&&z0(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ft(163))}Do||t.flags&512&&XO(t)}catch(x){pi(t,t.return,x)}}if(t===e){Vt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Vt=n;break}Vt=t.return}}function Oj(e){for(;Vt!==null;){var t=Vt;if(t===e){Vt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Vt=n;break}Vt=t.return}}function Aj(e){for(;Vt!==null;){var t=Vt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{g2(4,t)}catch(f){pi(t,n,f)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(f){pi(t,i,f)}}var o=t.return;try{XO(t)}catch(f){pi(t,o,f)}break;case 5:var s=t.return;try{XO(t)}catch(f){pi(t,s,f)}}}catch(f){pi(t,t.return,f)}if(t===e){Vt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Vt=a;break}Vt=t.return}}var See=Math.ceil,Ew=pu.ReactCurrentDispatcher,e$=pu.ReactCurrentOwner,Os=pu.ReactCurrentBatchConfig,Zn=0,eo=null,Ai=null,bo=0,Ua=0,nm=Ud(0),ji=0,K0=null,dh=0,y2=0,t$=0,h0=null,ba=null,n$=0,Um=1/0,$c=null,Tw=!1,eA=null,xd=null,Z_=!1,ld=null,kw=0,p0=0,tA=null,F1=-1,U1=0;function ca(){return Zn&6?Ci():F1!==-1?F1:F1=Ci()}function _d(e){return e.mode&1?Zn&2&&bo!==0?bo&-bo:aee.transition!==null?(U1===0&&(U1=E8()),U1):(e=pr,e!==0||(e=window.event,e=e===void 0?16:I8(e.type)),e):1}function bl(e,t,n,r){if(50<p0)throw p0=0,tA=null,Error(ft(185));Qb(e,n,r),(!(Zn&2)||e!==eo)&&(e===eo&&(!(Zn&2)&&(y2|=n),ji===4&&od(e,bo)),Ta(e,r),n===1&&Zn===0&&!(t.mode&1)&&(Um=Ci()+500,h2&&Vd()))}function Ta(e,t){var n=e.callbackNode;aQ(e,t);var r=uw(e,e===eo?bo:0);if(r===0)n!==null&&jz(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&jz(n),t===1)e.tag===0?oee(Mj.bind(null,e)):X8(Mj.bind(null,e)),tee(function(){!(Zn&6)&&Vd()}),n=null;else{switch(T8(r)){case 1:n=PI;break;case 4:n=S8;break;case 16:n=cw;break;case 536870912:n=C8;break;default:n=cw}n=ZV(n,VV.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function VV(e,t){if(F1=-1,U1=0,Zn&6)throw Error(ft(327));var n=e.callbackNode;if(_m()&&e.callbackNode!==n)return null;var r=uw(e,e===eo?bo:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Pw(e,r);else{t=r;var i=Zn;Zn|=2;var o=qV();(eo!==e||bo!==t)&&($c=null,Um=Ci()+500,Xf(e,t));do try{Tee();break}catch(a){WV(e,a)}while(1);FI(),Ew.current=o,Zn=i,Ai!==null?t=0:(eo=null,bo=0,t=ji)}if(t!==0){if(t===2&&(i=PO(e),i!==0&&(r=i,t=nA(e,i))),t===1)throw n=K0,Xf(e,0),od(e,r),Ta(e,Ci()),n;if(t===6)od(e,r);else{if(i=e.current.alternate,!(r&30)&&!Cee(i)&&(t=Pw(e,r),t===2&&(o=PO(e),o!==0&&(r=o,t=nA(e,o))),t===1))throw n=K0,Xf(e,0),od(e,r),Ta(e,Ci()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ft(345));case 2:Of(e,ba,$c);break;case 3:if(od(e,r),(r&130023424)===r&&(t=n$+500-Ci(),10<t)){if(uw(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ca(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=LO(Of.bind(null,e,ba,$c),t);break}Of(e,ba,$c);break;case 4:if(od(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-vl(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Ci()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*See(r/1960))-r,10<r){e.timeoutHandle=LO(Of.bind(null,e,ba,$c),r);break}Of(e,ba,$c);break;case 5:Of(e,ba,$c);break;default:throw Error(ft(329))}}}return Ta(e,Ci()),e.callbackNode===n?VV.bind(null,e):null}function nA(e,t){var n=h0;return e.current.memoizedState.isDehydrated&&(Xf(e,t).flags|=256),e=Pw(e,t),e!==2&&(t=ba,ba=n,t!==null&&rA(t)),e}function rA(e){ba===null?ba=e:ba.push.apply(ba,e)}function Cee(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!xl(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function od(e,t){for(t&=~t$,t&=~y2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vl(t),r=1<<n;e[n]=-1,t&=~r}}function Mj(e){if(Zn&6)throw Error(ft(327));_m();var t=uw(e,0);if(!(t&1))return Ta(e,Ci()),null;var n=Pw(e,t);if(e.tag!==0&&n===2){var r=PO(e);r!==0&&(t=r,n=nA(e,r))}if(n===1)throw n=K0,Xf(e,0),od(e,t),Ta(e,Ci()),n;if(n===6)throw Error(ft(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Of(e,ba,$c),Ta(e,Ci()),null}function r$(e,t){var n=Zn;Zn|=1;try{return e(t)}finally{Zn=n,Zn===0&&(Um=Ci()+500,h2&&Vd())}}function fh(e){ld!==null&&ld.tag===0&&!(Zn&6)&&_m();var t=Zn;Zn|=1;var n=Os.transition,r=pr;try{if(Os.transition=null,pr=1,e)return e()}finally{pr=r,Os.transition=n,Zn=t,!(Zn&6)&&Vd()}}function i$(){Ua=nm.current,Br(nm)}function Xf(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,eee(n)),Ai!==null)for(n=Ai.return;n!==null;){var r=n;switch(zI(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mw();break;case 3:Bm(),Br(Ca),Br(jo),HI();break;case 5:GI(r);break;case 4:Bm();break;case 13:Br(ii);break;case 19:Br(ii);break;case 10:UI(r.type._context);break;case 22:case 23:i$()}n=n.return}if(eo=e,Ai=e=wd(e.current,null),bo=Ua=t,ji=0,K0=null,t$=y2=dh=0,ba=h0=null,Ff!==null){for(t=0;t<Ff.length;t++)if(n=Ff[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ff=null}return e}function WV(e,t){do{var n=Ai;try{if(FI(),z1.current=Cw,Sw){for(var r=ai.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Sw=!1}if(uh=0,Ji=zi=ai=null,d0=!1,G0=0,e$.current=null,n===null||n.return===null){ji=1,K0=t,Ai=null;break}e:{var o=e,s=n.return,a=n,f=t;if(t=bo,a.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var h=f,g=a,y=g.tag;if(!(g.mode&1)&&(y===0||y===11||y===15)){var x=g.alternate;x?(g.updateQueue=x.updateQueue,g.memoizedState=x.memoizedState,g.lanes=x.lanes):(g.updateQueue=null,g.memoizedState=null)}var P=vj(s);if(P!==null){P.flags&=-257,bj(P,s,a,o,t),P.mode&1&&yj(o,h,t),t=P,f=h;var O=t.updateQueue;if(O===null){var S=new Set;S.add(f),t.updateQueue=S}else O.add(f);break e}else{if(!(t&1)){yj(o,h,t),o$();break e}f=Error(ft(426))}}else if(Yr&&a.mode&1){var A=vj(s);if(A!==null){!(A.flags&65536)&&(A.flags|=256),bj(A,s,a,o,t),jI(Fm(f,a));break e}}o=f=Fm(f,a),ji!==4&&(ji=2),h0===null?h0=[o]:h0.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var I=kV(o,f,t);uj(o,I);break e;case 1:a=f;var M=o.type,k=o.stateNode;if(!(o.flags&128)&&(typeof M.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(xd===null||!xd.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t;var $=PV(o,a,t);uj(o,$);break e}}o=o.return}while(o!==null)}HV(n)}catch(L){t=L,Ai===n&&n!==null&&(Ai=n=n.return);continue}break}while(1)}function qV(){var e=Ew.current;return Ew.current=Cw,e===null?Cw:e}function o$(){(ji===0||ji===3||ji===2)&&(ji=4),eo===null||!(dh&268435455)&&!(y2&268435455)||od(eo,bo)}function Pw(e,t){var n=Zn;Zn|=2;var r=qV();(eo!==e||bo!==t)&&($c=null,Xf(e,t));do try{Eee();break}catch(i){WV(e,i)}while(1);if(FI(),Zn=n,Ew.current=r,Ai!==null)throw Error(ft(261));return eo=null,bo=0,ji}function Eee(){for(;Ai!==null;)GV(Ai)}function Tee(){for(;Ai!==null&&!XJ();)GV(Ai)}function GV(e){var t=KV(e.alternate,e,Ua);e.memoizedProps=e.pendingProps,t===null?HV(e):Ai=t,e$.current=null}function HV(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=bee(n,t),n!==null){n.flags&=32767,Ai=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ji=6,Ai=null;return}}else if(n=vee(n,t,Ua),n!==null){Ai=n;return}if(t=t.sibling,t!==null){Ai=t;return}Ai=t=e}while(t!==null);ji===0&&(ji=5)}function Of(e,t,n){var r=pr,i=Os.transition;try{Os.transition=null,pr=1,kee(e,t,n,r)}finally{Os.transition=i,pr=r}return null}function kee(e,t,n,r){do _m();while(ld!==null);if(Zn&6)throw Error(ft(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ft(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(sQ(e,o),e===eo&&(Ai=eo=null,bo=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Z_||(Z_=!0,ZV(cw,function(){return _m(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Os.transition,Os.transition=null;var s=pr;pr=1;var a=Zn;Zn|=4,e$.current=null,_ee(e,n),FV(n,e),HQ(RO),dw=!!$O,RO=$O=null,e.current=n,wee(n),JJ(),Zn=a,pr=s,Os.transition=o}else e.current=n;if(Z_&&(Z_=!1,ld=e,kw=i),o=e.pendingLanes,o===0&&(xd=null),tQ(n.stateNode),Ta(e,Ci()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tw)throw Tw=!1,e=eA,eA=null,e;return kw&1&&e.tag!==0&&_m(),o=e.pendingLanes,o&1?e===tA?p0++:(p0=0,tA=e):p0=0,Vd(),null}function _m(){if(ld!==null){var e=T8(kw),t=Os.transition,n=pr;try{if(Os.transition=null,pr=16>e?16:e,ld===null)var r=!1;else{if(e=ld,ld=null,kw=0,Zn&6)throw Error(ft(331));var i=Zn;for(Zn|=4,Vt=e.current;Vt!==null;){var o=Vt,s=o.child;if(Vt.flags&16){var a=o.deletions;if(a!==null){for(var f=0;f<a.length;f++){var h=a[f];for(Vt=h;Vt!==null;){var g=Vt;switch(g.tag){case 0:case 11:case 15:f0(8,g,o)}var y=g.child;if(y!==null)y.return=g,Vt=y;else for(;Vt!==null;){g=Vt;var x=g.sibling,P=g.return;if(zV(g),g===h){Vt=null;break}if(x!==null){x.return=P,Vt=x;break}Vt=P}}}var O=o.alternate;if(O!==null){var S=O.child;if(S!==null){O.child=null;do{var A=S.sibling;S.sibling=null,S=A}while(S!==null)}}Vt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Vt=s;else e:for(;Vt!==null;){if(o=Vt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:f0(9,o,o.return)}var I=o.sibling;if(I!==null){I.return=o.return,Vt=I;break e}Vt=o.return}}var M=e.current;for(Vt=M;Vt!==null;){s=Vt;var k=s.child;if(s.subtreeFlags&2064&&k!==null)k.return=s,Vt=k;else e:for(s=M;Vt!==null;){if(a=Vt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:g2(9,a)}}catch(L){pi(a,a.return,L)}if(a===s){Vt=null;break e}var $=a.sibling;if($!==null){$.return=a.return,Vt=$;break e}Vt=a.return}}if(Zn=i,Vd(),Xl&&typeof Xl.onPostCommitFiberRoot=="function")try{Xl.onPostCommitFiberRoot(l2,e)}catch{}r=!0}return r}finally{pr=n,Os.transition=t}}return!1}function Ij(e,t,n){t=Fm(n,t),t=kV(e,t,1),e=bd(e,t,1),t=ca(),e!==null&&(Qb(e,1,t),Ta(e,t))}function pi(e,t,n){if(e.tag===3)Ij(e,e,n);else for(;t!==null;){if(t.tag===3){Ij(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xd===null||!xd.has(r))){e=Fm(n,e),e=PV(t,e,1),t=bd(t,e,1),e=ca(),t!==null&&(Qb(t,1,e),Ta(t,e));break}}t=t.return}}function Pee(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ca(),e.pingedLanes|=e.suspendedLanes&n,eo===e&&(bo&n)===n&&(ji===4||ji===3&&(bo&130023424)===bo&&500>Ci()-n$?Xf(e,0):t$|=n),Ta(e,t)}function YV(e,t){t===0&&(e.mode&1?(t=B_,B_<<=1,!(B_&130023424)&&(B_=4194304)):t=1);var n=ca();e=nu(e,t),e!==null&&(Qb(e,t,n),Ta(e,n))}function Oee(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),YV(e,n)}function Aee(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ft(314))}r!==null&&r.delete(t),YV(e,n)}var KV;KV=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ca.current)wa=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return wa=!1,yee(e,t,n);wa=!!(e.flags&131072)}else wa=!1,Yr&&t.flags&1048576&&J8(t,vw,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;B1(e,t),e=t.pendingProps;var i=Nm(t,jo.current);xm(t,n),i=KI(null,t,r,e,i,n);var o=ZI();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ea(r)?(o=!0,gw(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,WI(t),i.updater=p2,t.stateNode=i,i._reactInternals=t,VO(t,r,e,n),t=GO(null,t,r,!0,o,n)):(t.tag=0,Yr&&o&&NI(t),aa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(B1(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Iee(r),e=al(r,e),i){case 0:t=qO(null,t,r,e,n);break e;case 1:t=wj(null,t,r,e,n);break e;case 11:t=xj(null,t,r,e,n);break e;case 14:t=_j(null,t,r,al(r.type,e),n);break e}throw Error(ft(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:al(r,i),qO(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:al(r,i),wj(e,t,r,i,n);case 3:e:{if(IV(t),e===null)throw Error(ft(387));r=t.pendingProps,o=t.memoizedState,i=o.element,nV(e,t),_w(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Fm(Error(ft(423)),t),t=Sj(e,t,r,n,i);break e}else if(r!==i){i=Fm(Error(ft(424)),t),t=Sj(e,t,r,n,i);break e}else for(Ha=vd(t.stateNode.containerInfo.firstChild),Ya=t,Yr=!0,cl=null,n=aV(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zm(),r===i){t=ru(e,t,n);break e}aa(e,t,r,n)}t=t.child}return t;case 5:return sV(t),e===null&&BO(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,DO(r,i)?s=null:o!==null&&DO(r,o)&&(t.flags|=32),MV(e,t),aa(e,t,s,n),t.child;case 6:return e===null&&BO(t),null;case 13:return $V(e,t,n);case 4:return qI(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=jm(t,null,r,n):aa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:al(r,i),xj(e,t,r,i,n);case 7:return aa(e,t,t.pendingProps,n),t.child;case 8:return aa(e,t,t.pendingProps.children,n),t.child;case 12:return aa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Rr(bw,r._currentValue),r._currentValue=s,o!==null)if(xl(o.value,s)){if(o.children===i.children&&!Ca.current){t=ru(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var f=a.firstContext;f!==null;){if(f.context===r){if(o.tag===1){f=Kc(-1,n&-n),f.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var g=h.pending;g===null?f.next=f:(f.next=g.next,g.next=f),h.pending=f}}o.lanes|=n,f=o.alternate,f!==null&&(f.lanes|=n),FO(o.return,n,t),a.lanes|=n;break}f=f.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ft(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),FO(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}aa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xm(t,n),i=Ds(i),r=r(i),t.flags|=1,aa(e,t,r,n),t.child;case 14:return r=t.type,i=al(r,t.pendingProps),i=al(r.type,i),_j(e,t,r,i,n);case 15:return OV(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:al(r,i),B1(e,t),t.tag=1,Ea(r)?(e=!0,gw(t)):e=!1,xm(t,n),iV(t,r,i),VO(t,r,i,n),GO(null,t,r,!0,e,n);case 19:return RV(e,t,n);case 22:return AV(e,t,n)}throw Error(ft(156,t.tag))};function ZV(e,t){return w8(e,t)}function Mee(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ts(e,t,n,r){return new Mee(e,t,n,r)}function a$(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Iee(e){if(typeof e=="function")return a$(e)?1:0;if(e!=null){if(e=e.$$typeof,e===EI)return 11;if(e===TI)return 14}return 2}function wd(e,t){var n=e.alternate;return n===null?(n=Ts(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function V1(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")a$(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Gp:return Jf(n.children,i,o,t);case CI:s=8,i|=8;break;case hO:return e=Ts(12,n,t,i|2),e.elementType=hO,e.lanes=o,e;case pO:return e=Ts(13,n,t,i),e.elementType=pO,e.lanes=o,e;case mO:return e=Ts(19,n,t,i),e.elementType=mO,e.lanes=o,e;case o8:return v2(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case r8:s=10;break e;case i8:s=9;break e;case EI:s=11;break e;case TI:s=14;break e;case td:s=16,r=null;break e}throw Error(ft(130,e==null?e:typeof e,""))}return t=Ts(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Jf(e,t,n,r){return e=Ts(7,e,r,t),e.lanes=n,e}function v2(e,t,n,r){return e=Ts(22,e,r,t),e.elementType=o8,e.lanes=n,e.stateNode={isHidden:!1},e}function Sk(e,t,n){return e=Ts(6,e,null,t),e.lanes=n,e}function Ck(e,t,n){return t=Ts(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $ee(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ik(0),this.expirationTimes=ik(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ik(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function s$(e,t,n,r,i,o,s,a,f){return e=new $ee(e,t,n,a,f),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ts(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},WI(o),e}function Ree(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qp,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function XV(e){if(!e)return Id;e=e._reactInternals;e:{if(Ph(e)!==e||e.tag!==1)throw Error(ft(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ea(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ft(171))}if(e.tag===1){var n=e.type;if(Ea(n))return Z8(e,n,t)}return t}function JV(e,t,n,r,i,o,s,a,f){return e=s$(n,r,!0,e,i,o,s,a,f),e.context=XV(null),n=e.current,r=ca(),i=_d(n),o=Kc(r,i),o.callback=t??null,bd(n,o,i),e.current.lanes=i,Qb(e,i,r),Ta(e,r),e}function b2(e,t,n,r){var i=t.current,o=ca(),s=_d(i);return n=XV(n),t.context===null?t.context=n:t.pendingContext=n,t=Kc(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=bd(i,t,s),e!==null&&(bl(e,i,s,o),N1(e,i,s)),s}function Ow(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $j(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function l$(e,t){$j(e,t),(e=e.alternate)&&$j(e,t)}function Dee(){return null}var QV=typeof reportError=="function"?reportError:function(e){console.error(e)};function c$(e){this._internalRoot=e}x2.prototype.render=c$.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ft(409));b2(e,t,null,null)};x2.prototype.unmount=c$.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fh(function(){b2(null,e,null,null)}),t[tu]=null}};function x2(e){this._internalRoot=e}x2.prototype.unstable_scheduleHydration=function(e){if(e){var t=O8();e={blockedOn:null,target:e,priority:t};for(var n=0;n<id.length&&t!==0&&t<id[n].priority;n++);id.splice(n,0,e),n===0&&M8(e)}};function u$(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rj(){}function Lee(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=Ow(s);o.call(h)}}var s=JV(t,r,e,0,null,!1,!1,"",Rj);return e._reactRootContainer=s,e[tu]=s.current,F0(e.nodeType===8?e.parentNode:e),fh(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var h=Ow(f);a.call(h)}}var f=s$(e,0,!1,null,null,!1,!1,"",Rj);return e._reactRootContainer=f,e[tu]=f.current,F0(e.nodeType===8?e.parentNode:e),fh(function(){b2(t,f,n,r)}),f}function w2(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var f=Ow(s);a.call(f)}}b2(t,s,e,i)}else s=Lee(n,t,e,i,r);return Ow(s)}k8=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Kv(t.pendingLanes);n!==0&&(OI(t,n|1),Ta(t,Ci()),!(Zn&6)&&(Um=Ci()+500,Vd()))}break;case 13:fh(function(){var r=nu(e,1);if(r!==null){var i=ca();bl(r,e,1,i)}}),l$(e,1)}};AI=function(e){if(e.tag===13){var t=nu(e,134217728);if(t!==null){var n=ca();bl(t,e,134217728,n)}l$(e,134217728)}};P8=function(e){if(e.tag===13){var t=_d(e),n=nu(e,t);if(n!==null){var r=ca();bl(n,e,t,r)}l$(e,t)}};O8=function(){return pr};A8=function(e,t){var n=pr;try{return pr=e,t()}finally{pr=n}};EO=function(e,t,n){switch(t){case"input":if(vO(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=f2(r);if(!i)throw Error(ft(90));s8(r),vO(r,i)}}}break;case"textarea":c8(e,n);break;case"select":t=n.value,t!=null&&gm(e,!!n.multiple,t,!1)}};g8=r$;y8=fh;var Nee={usingClientEntryPoint:!1,Events:[tx,Zp,f2,p8,m8,r$]},pv={findFiberByHostInstance:Bf,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},zee={bundleType:pv.bundleType,version:pv.version,rendererPackageName:pv.rendererPackageName,rendererConfig:pv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=x8(e),e===null?null:e.stateNode},findFiberByHostInstance:pv.findFiberByHostInstance||Dee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var X_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!X_.isDisabled&&X_.supportsFiber)try{l2=X_.inject(zee),Xl=X_}catch{}}ts.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nee;ts.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u$(t))throw Error(ft(200));return Ree(e,t,null,n)};ts.createRoot=function(e,t){if(!u$(e))throw Error(ft(299));var n=!1,r="",i=QV;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=s$(e,1,!1,null,null,n,!1,r,i),e[tu]=t.current,F0(e.nodeType===8?e.parentNode:e),new c$(t)};ts.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ft(188)):(e=Object.keys(e).join(","),Error(ft(268,e)));return e=x8(t),e=e===null?null:e.stateNode,e};ts.flushSync=function(e){return fh(e)};ts.hydrate=function(e,t,n){if(!_2(t))throw Error(ft(200));return w2(null,e,t,!0,n)};ts.hydrateRoot=function(e,t,n){if(!u$(e))throw Error(ft(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=QV;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=JV(t,null,e,1,n??null,i,!1,o,s),e[tu]=t.current,F0(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new x2(t)};ts.render=function(e,t,n){if(!_2(t))throw Error(ft(200));return w2(null,e,t,!1,n)};ts.unmountComponentAtNode=function(e){if(!_2(e))throw Error(ft(40));return e._reactRootContainer?(fh(function(){w2(null,null,e,!1,function(){e._reactRootContainer=null,e[tu]=null})}),!0):!1};ts.unstable_batchedUpdates=r$;ts.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!_2(n))throw Error(ft(200));if(e==null||e._reactInternals===void 0)throw Error(ft(38));return w2(e,t,n,!1,r)};ts.version="18.2.0-next-9e3b772b8-20220608";function eW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eW)}catch(e){console.error(e)}}eW(),JU.exports=ts;var uc=JU.exports;const J_=tr(uc);var tW,Dj=uc;tW=Dj.createRoot,Dj.hydrateRoot;/**
 * @remix-run/router v1.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Z0(){return Z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z0.apply(this,arguments)}var cd;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(cd||(cd={}));const Lj="popstate";function jee(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return iA("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:nW(i)}return Fee(t,n,null,e)}function Ui(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function d$(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Bee(){return Math.random().toString(36).substr(2,8)}function Nj(e,t){return{usr:e.state,key:e.key,idx:t}}function iA(e,t,n,r){return n===void 0&&(n=null),Z0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Tg(t):t,{state:n,key:t&&t.key||r||Bee()})}function nW(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Tg(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Fee(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=cd.Pop,f=null,h=g();h==null&&(h=0,s.replaceState(Z0({},s.state,{idx:h}),""));function g(){return(s.state||{idx:null}).idx}function y(){a=cd.Pop;let A=g(),I=A==null?null:A-h;h=A,f&&f({action:a,location:S.location,delta:I})}function x(A,I){a=cd.Push;let M=iA(S.location,A,I);n&&n(M,A),h=g()+1;let k=Nj(M,h),$=S.createHref(M);try{s.pushState(k,"",$)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign($)}o&&f&&f({action:a,location:S.location,delta:1})}function P(A,I){a=cd.Replace;let M=iA(S.location,A,I);n&&n(M,A),h=g();let k=Nj(M,h),$=S.createHref(M);s.replaceState(k,"",$),o&&f&&f({action:a,location:S.location,delta:0})}function O(A){let I=i.location.origin!=="null"?i.location.origin:i.location.href,M=typeof A=="string"?A:nW(A);return Ui(I,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,I)}let S={get action(){return a},get location(){return e(i,s)},listen(A){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Lj,y),f=A,()=>{i.removeEventListener(Lj,y),f=null}},createHref(A){return t(i,A)},createURL:O,encodeLocation(A){let I=O(A);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:x,replace:P,go(A){return s.go(A)}};return S}var zj;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(zj||(zj={}));function Uee(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Tg(t):t,i=oW(r.pathname||"/",n);if(i==null)return null;let o=rW(e);Vee(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=Jee(o[a],tte(i));return s}function rW(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let f={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};f.relativePath.startsWith("/")&&(Ui(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let h=Qf([r,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(Ui(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),rW(o.children,t,g,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:Zee(h,o.index),routesMeta:g})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let f of iW(o.path))i(o,s,f)}),t}function iW(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=iW(r.join("/")),a=[];return a.push(...s.map(f=>f===""?o:[o,f].join("/"))),i&&a.push(...s),a.map(f=>e.startsWith("/")&&f===""?"/":f)}function Vee(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Xee(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Wee=/^:\w+$/,qee=3,Gee=2,Hee=1,Yee=10,Kee=-2,jj=e=>e==="*";function Zee(e,t){let n=e.split("/"),r=n.length;return n.some(jj)&&(r+=Kee),t&&(r+=Gee),n.filter(i=>!jj(i)).reduce((i,o)=>i+(Wee.test(o)?qee:o===""?Hee:Yee),r)}function Xee(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Jee(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],f=s===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",g=Qee({path:a.relativePath,caseSensitive:a.caseSensitive,end:f},h);if(!g)return null;Object.assign(r,g.params);let y=a.route;o.push({params:r,pathname:Qf([i,g.pathname]),pathnameBase:ste(Qf([i,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(i=Qf([i,g.pathnameBase]))}return o}function Qee(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ete(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((h,g,y)=>{if(g==="*"){let x=a[y]||"";s=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}return h[g]=nte(a[y]||"",g),h},{}),pathname:o,pathnameBase:s,pattern:e}}function ete(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),d$(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function tte(e){try{return decodeURI(e)}catch(t){return d$(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function nte(e,t){try{return decodeURIComponent(e)}catch(n){return d$(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function oW(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function rte(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Tg(e):e;return{pathname:n?n.startsWith("/")?n:ite(n,t):t,search:lte(r),hash:cte(i)}}function ite(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ek(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ote(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ate(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Tg(e):(i=Z0({},e),Ui(!i.pathname||!i.pathname.includes("?"),Ek("?","pathname","search",i)),Ui(!i.pathname||!i.pathname.includes("#"),Ek("#","pathname","hash",i)),Ui(!i.search||!i.search.includes("#"),Ek("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let y=t.length-1;if(s.startsWith("..")){let x=s.split("/");for(;x[0]==="..";)x.shift(),y-=1;i.pathname=x.join("/")}a=y>=0?t[y]:"/"}let f=rte(i,a),h=s&&s!=="/"&&s.endsWith("/"),g=(o||s===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}const Qf=e=>e.join("/").replace(/\/\/+/g,"/"),ste=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lte=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,cte=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ute(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const aW=["post","put","patch","delete"];new Set(aW);const dte=["get",...aW];new Set(dte);/**
 * React Router v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Aw(){return Aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Aw.apply(this,arguments)}const f$=V.createContext(null),fte=V.createContext(null),S2=V.createContext(null),C2=V.createContext(null),Wd=V.createContext({outlet:null,matches:[],isDataRoute:!1}),sW=V.createContext(null);function E2(){return V.useContext(C2)!=null}function T2(){return E2()||Ui(!1),V.useContext(C2).location}function lW(e){V.useContext(S2).static||V.useLayoutEffect(e)}function kg(){let{isDataRoute:e}=V.useContext(Wd);return e?Pte():hte()}function hte(){E2()||Ui(!1);let e=V.useContext(f$),{basename:t,navigator:n}=V.useContext(S2),{matches:r}=V.useContext(Wd),{pathname:i}=T2(),o=JSON.stringify(ote(r).map(f=>f.pathnameBase)),s=V.useRef(!1);return lW(()=>{s.current=!0}),V.useCallback(function(f,h){if(h===void 0&&(h={}),!s.current)return;if(typeof f=="number"){n.go(f);return}let g=ate(f,JSON.parse(o),i,h.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Qf([t,g.pathname])),(h.replace?n.replace:n.push)(g,h.state,h)},[t,n,o,i,e])}const pte=V.createContext(null);function mte(e){let t=V.useContext(Wd).outlet;return t&&V.createElement(pte.Provider,{value:e},t)}function gte(){let{matches:e}=V.useContext(Wd),t=e[e.length-1];return t?t.params:{}}function yte(e,t){return vte(e,t)}function vte(e,t,n){E2()||Ui(!1);let{navigator:r}=V.useContext(S2),{matches:i}=V.useContext(Wd),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let f=T2(),h;if(t){var g;let S=typeof t=="string"?Tg(t):t;a==="/"||(g=S.pathname)!=null&&g.startsWith(a)||Ui(!1),h=S}else h=f;let y=h.pathname||"/",x=a==="/"?y:y.slice(a.length)||"/",P=Uee(e,{pathname:x}),O=Ste(P&&P.map(S=>Object.assign({},S,{params:Object.assign({},s,S.params),pathname:Qf([a,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?a:Qf([a,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n);return t&&O?V.createElement(C2.Provider,{value:{location:Aw({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:cd.Pop}},O):O}function bte(){let e=kte(),t=ute(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:i},n):null,o)}const xte=V.createElement(bte,null);class _te extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?V.createElement(Wd.Provider,{value:this.props.routeContext},V.createElement(sW.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wte(e){let{routeContext:t,match:n,children:r}=e,i=V.useContext(f$);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(Wd.Provider,{value:t},r)}function Ste(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let o=e,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id]));a>=0||Ui(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,f,h)=>{let g=f.route.id?s==null?void 0:s[f.route.id]:null,y=null;n&&(y=f.route.errorElement||xte);let x=t.concat(o.slice(0,h+1)),P=()=>{let O;return g?O=y:f.route.Component?O=V.createElement(f.route.Component,null):f.route.element?O=f.route.element:O=a,V.createElement(wte,{match:f,routeContext:{outlet:a,matches:x,isDataRoute:n!=null},children:O})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?V.createElement(_te,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:P(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):P()},null)}var cW=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cW||{}),Mw=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Mw||{});function Cte(e){let t=V.useContext(f$);return t||Ui(!1),t}function Ete(e){let t=V.useContext(fte);return t||Ui(!1),t}function Tte(e){let t=V.useContext(Wd);return t||Ui(!1),t}function uW(e){let t=Tte(),n=t.matches[t.matches.length-1];return n.route.id||Ui(!1),n.route.id}function kte(){var e;let t=V.useContext(sW),n=Ete(Mw.UseRouteError),r=uW(Mw.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function Pte(){let{router:e}=Cte(cW.UseNavigateStable),t=uW(Mw.UseNavigateStable),n=V.useRef(!1);return lW(()=>{n.current=!0}),V.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Aw({fromRouteId:t},o)))},[e,t])}function Ote(e){return mte(e.context)}function Bl(e){Ui(!1)}function Ate(e){let{basename:t="/",children:n=null,location:r,navigationType:i=cd.Pop,navigator:o,static:s=!1}=e;E2()&&Ui(!1);let a=t.replace(/^\/*/,"/"),f=V.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=Tg(r));let{pathname:h="/",search:g="",hash:y="",state:x=null,key:P="default"}=r,O=V.useMemo(()=>{let S=oW(h,a);return S==null?null:{location:{pathname:S,search:g,hash:y,state:x,key:P},navigationType:i}},[a,h,g,y,x,P,i]);return O==null?null:V.createElement(S2.Provider,{value:f},V.createElement(C2.Provider,{children:n,value:O}))}function Mte(e){let{children:t,location:n}=e;return yte(oA(t),n)}new Promise(()=>{});function oA(e,t){t===void 0&&(t=[]);let n=[];return V.Children.forEach(e,(r,i)=>{if(!V.isValidElement(r))return;let o=[...t,i];if(r.type===V.Fragment){n.push.apply(n,oA(r.props.children,o));return}r.type!==Bl&&Ui(!1),!r.props.index||!r.props.children||Ui(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=oA(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Ite="startTransition",Bj=ow[Ite];function $te(e){let{basename:t,children:n,future:r,window:i}=e,o=V.useRef();o.current==null&&(o.current=jee({window:i,v5Compat:!0}));let s=o.current,[a,f]=V.useState({action:s.action,location:s.location}),{v7_startTransition:h}=r||{},g=V.useCallback(y=>{h&&Bj?Bj(()=>f(y)):f(y)},[f,h]);return V.useLayoutEffect(()=>s.listen(g),[s,g]),V.createElement(Ate,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s})}var Fj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fj||(Fj={}));var Uj;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Uj||(Uj={}));var dW={exports:{}},fW={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm=V;function Rte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dte=typeof Object.is=="function"?Object.is:Rte,Lte=Vm.useState,Nte=Vm.useEffect,zte=Vm.useLayoutEffect,jte=Vm.useDebugValue;function Bte(e,t){var n=t(),r=Lte({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return zte(function(){i.value=n,i.getSnapshot=t,Tk(i)&&o({inst:i})},[e,n,t]),Nte(function(){return Tk(i)&&o({inst:i}),e(function(){Tk(i)&&o({inst:i})})},[e]),jte(n),n}function Tk(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dte(e,n)}catch{return!0}}function Fte(e,t){return t()}var Ute=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Fte:Bte;fW.useSyncExternalStore=Vm.useSyncExternalStore!==void 0?Vm.useSyncExternalStore:Ute;dW.exports=fW;var hW=dW.exports,pW={exports:{}},mW={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k2=V,Vte=hW;function Wte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qte=typeof Object.is=="function"?Object.is:Wte,Gte=Vte.useSyncExternalStore,Hte=k2.useRef,Yte=k2.useEffect,Kte=k2.useMemo,Zte=k2.useDebugValue;mW.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=Hte(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=Kte(function(){function f(P){if(!h){if(h=!0,g=P,P=r(P),i!==void 0&&s.hasValue){var O=s.value;if(i(O,P))return y=O}return y=P}if(O=y,qte(g,P))return O;var S=r(P);return i!==void 0&&i(O,S)?O:(g=P,y=S)}var h=!1,g,y,x=n===void 0?null:n;return[function(){return f(t())},x===null?void 0:function(){return f(x())}]},[t,n,r,i]);var a=Gte(e,o[0],o[1]);return Yte(function(){s.hasValue=!0,s.value=a},[a]),Zte(a),a};pW.exports=mW;var Xte=pW.exports;function Jte(e){e()}let gW=Jte;const Qte=e=>gW=e,ene=()=>gW,Vj=Symbol.for("react-redux-context"),Wj=typeof globalThis<"u"?globalThis:{};function tne(){var e;if(!V.createContext)return{};const t=(e=Wj[Vj])!=null?e:Wj[Vj]=new Map;let n=t.get(V.createContext);return n||(n=V.createContext(null),t.set(V.createContext,n)),n}const iu=tne();function h$(e=iu){return function(){return V.useContext(e)}}const yW=h$(),vW=()=>{throw new Error("uSES not initialized!")};let bW=vW;const nne=e=>{bW=e},rne=(e,t)=>e===t;function ine(e=iu){const t=e===iu?yW:h$(e);return function(r,i={}){const{equalityFn:o=rne,stabilityCheck:s=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:f,subscription:h,getServerState:g,stabilityCheck:y,noopCheck:x}=t();V.useRef(!0);const P=V.useCallback({[r.name](S){return r(S)}}[r.name],[r,y,s]),O=bW(h.addNestedSub,f.getState,g||f.getState,P,o);return V.useDebugValue(O),O}}const Ln=ine();function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},te.apply(this,arguments)}function mt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var xW={exports:{}},gr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var no=typeof Symbol=="function"&&Symbol.for,p$=no?Symbol.for("react.element"):60103,m$=no?Symbol.for("react.portal"):60106,P2=no?Symbol.for("react.fragment"):60107,O2=no?Symbol.for("react.strict_mode"):60108,A2=no?Symbol.for("react.profiler"):60114,M2=no?Symbol.for("react.provider"):60109,I2=no?Symbol.for("react.context"):60110,g$=no?Symbol.for("react.async_mode"):60111,$2=no?Symbol.for("react.concurrent_mode"):60111,R2=no?Symbol.for("react.forward_ref"):60112,D2=no?Symbol.for("react.suspense"):60113,one=no?Symbol.for("react.suspense_list"):60120,L2=no?Symbol.for("react.memo"):60115,N2=no?Symbol.for("react.lazy"):60116,ane=no?Symbol.for("react.block"):60121,sne=no?Symbol.for("react.fundamental"):60117,lne=no?Symbol.for("react.responder"):60118,cne=no?Symbol.for("react.scope"):60119;function rs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case p$:switch(e=e.type,e){case g$:case $2:case P2:case A2:case O2:case D2:return e;default:switch(e=e&&e.$$typeof,e){case I2:case R2:case N2:case L2:case M2:return e;default:return t}}case m$:return t}}}function _W(e){return rs(e)===$2}gr.AsyncMode=g$;gr.ConcurrentMode=$2;gr.ContextConsumer=I2;gr.ContextProvider=M2;gr.Element=p$;gr.ForwardRef=R2;gr.Fragment=P2;gr.Lazy=N2;gr.Memo=L2;gr.Portal=m$;gr.Profiler=A2;gr.StrictMode=O2;gr.Suspense=D2;gr.isAsyncMode=function(e){return _W(e)||rs(e)===g$};gr.isConcurrentMode=_W;gr.isContextConsumer=function(e){return rs(e)===I2};gr.isContextProvider=function(e){return rs(e)===M2};gr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===p$};gr.isForwardRef=function(e){return rs(e)===R2};gr.isFragment=function(e){return rs(e)===P2};gr.isLazy=function(e){return rs(e)===N2};gr.isMemo=function(e){return rs(e)===L2};gr.isPortal=function(e){return rs(e)===m$};gr.isProfiler=function(e){return rs(e)===A2};gr.isStrictMode=function(e){return rs(e)===O2};gr.isSuspense=function(e){return rs(e)===D2};gr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===P2||e===$2||e===A2||e===O2||e===D2||e===one||typeof e=="object"&&e!==null&&(e.$$typeof===N2||e.$$typeof===L2||e.$$typeof===M2||e.$$typeof===I2||e.$$typeof===R2||e.$$typeof===sne||e.$$typeof===lne||e.$$typeof===cne||e.$$typeof===ane)};gr.typeOf=rs;xW.exports=gr;var une=xW.exports,y$=une,dne={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},fne={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},hne={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},wW={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},v$={};v$[y$.ForwardRef]=hne;v$[y$.Memo]=wW;function qj(e){return y$.isMemo(e)?wW:v$[e.$$typeof]||dne}var pne=Object.defineProperty,mne=Object.getOwnPropertyNames,Gj=Object.getOwnPropertySymbols,gne=Object.getOwnPropertyDescriptor,yne=Object.getPrototypeOf,Hj=Object.prototype;function SW(e,t,n){if(typeof t!="string"){if(Hj){var r=yne(t);r&&r!==Hj&&SW(e,r,n)}var i=mne(t);Gj&&(i=i.concat(Gj(t)));for(var o=qj(e),s=qj(t),a=0;a<i.length;++a){var f=i[a];if(!fne[f]&&!(n&&n[f])&&!(s&&s[f])&&!(o&&o[f])){var h=gne(t,f);try{pne(e,f,h)}catch{}}}}return e}var vne=SW;const Yj=tr(vne);var CW={exports:{}},yr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$=Symbol.for("react.element"),x$=Symbol.for("react.portal"),z2=Symbol.for("react.fragment"),j2=Symbol.for("react.strict_mode"),B2=Symbol.for("react.profiler"),F2=Symbol.for("react.provider"),U2=Symbol.for("react.context"),bne=Symbol.for("react.server_context"),V2=Symbol.for("react.forward_ref"),W2=Symbol.for("react.suspense"),q2=Symbol.for("react.suspense_list"),G2=Symbol.for("react.memo"),H2=Symbol.for("react.lazy"),xne=Symbol.for("react.offscreen"),EW;EW=Symbol.for("react.module.reference");function Us(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case b$:switch(e=e.type,e){case z2:case B2:case j2:case W2:case q2:return e;default:switch(e=e&&e.$$typeof,e){case bne:case U2:case V2:case H2:case G2:case F2:return e;default:return t}}case x$:return t}}}yr.ContextConsumer=U2;yr.ContextProvider=F2;yr.Element=b$;yr.ForwardRef=V2;yr.Fragment=z2;yr.Lazy=H2;yr.Memo=G2;yr.Portal=x$;yr.Profiler=B2;yr.StrictMode=j2;yr.Suspense=W2;yr.SuspenseList=q2;yr.isAsyncMode=function(){return!1};yr.isConcurrentMode=function(){return!1};yr.isContextConsumer=function(e){return Us(e)===U2};yr.isContextProvider=function(e){return Us(e)===F2};yr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===b$};yr.isForwardRef=function(e){return Us(e)===V2};yr.isFragment=function(e){return Us(e)===z2};yr.isLazy=function(e){return Us(e)===H2};yr.isMemo=function(e){return Us(e)===G2};yr.isPortal=function(e){return Us(e)===x$};yr.isProfiler=function(e){return Us(e)===B2};yr.isStrictMode=function(e){return Us(e)===j2};yr.isSuspense=function(e){return Us(e)===W2};yr.isSuspenseList=function(e){return Us(e)===q2};yr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===z2||e===B2||e===j2||e===W2||e===q2||e===xne||typeof e=="object"&&e!==null&&(e.$$typeof===H2||e.$$typeof===G2||e.$$typeof===F2||e.$$typeof===U2||e.$$typeof===V2||e.$$typeof===EW||e.getModuleId!==void 0)};yr.typeOf=Us;CW.exports=yr;var _ne=CW.exports;const wne=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Sne(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let a=!1,f,h,g,y,x;function P(M,k){return f=M,h=k,g=e(f,h),y=t(r,h),x=n(g,y,h),a=!0,x}function O(){return g=e(f,h),t.dependsOnOwnProps&&(y=t(r,h)),x=n(g,y,h),x}function S(){return e.dependsOnOwnProps&&(g=e(f,h)),t.dependsOnOwnProps&&(y=t(r,h)),x=n(g,y,h),x}function A(){const M=e(f,h),k=!s(M,g);return g=M,k&&(x=n(g,y,h)),x}function I(M,k){const $=!o(k,h),L=!i(M,f,k,h);return f=M,h=k,$&&L?O():$?S():L?A():x}return function(k,$){return a?I(k,$):P(k,$)}}function Cne(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:i}=t,o=mt(t,wne);const s=n(e,o),a=r(e,o),f=i(e,o);return Sne(s,a,f,e,o)}function Ene(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...o)=>t(i(...o)))}return n}function aA(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function Kj(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function TW(e,t){return function(r,{displayName:i}){const o=function(a,f){return o.dependsOnOwnProps?o.mapToProps(a,f):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,f){o.mapToProps=e,o.dependsOnOwnProps=Kj(e);let h=o(a,f);return typeof h=="function"&&(o.mapToProps=h,o.dependsOnOwnProps=Kj(h),h=o(a,f)),h},o}}function _$(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function Tne(e){return e&&typeof e=="object"?aA(t=>Ene(e,t)):e?typeof e=="function"?TW(e):_$(e,"mapDispatchToProps"):aA(t=>({dispatch:t}))}function kne(e){return e?typeof e=="function"?TW(e):_$(e,"mapStateToProps"):aA(()=>({}))}function Pne(e,t,n){return te({},n,e,t)}function One(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let o=!1,s;return function(f,h,g){const y=e(f,h,g);return o?i(y,s)||(s=y):(o=!0,s=y),s}}}function Ane(e){return e?typeof e=="function"?One(e):_$(e,"mergeProps"):()=>Pne}function Mne(){const e=ene();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const Zj={notify(){},get:()=>[]};function kW(e,t){let n,r=Zj,i=0,o=!1;function s(S){g();const A=r.subscribe(S);let I=!1;return()=>{I||(I=!0,A(),y())}}function a(){r.notify()}function f(){O.onStateChange&&O.onStateChange()}function h(){return o}function g(){i++,n||(n=t?t.addNestedSub(f):e.subscribe(f),r=Mne())}function y(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Zj)}function x(){o||(o=!0,g())}function P(){o&&(o=!1,y())}const O={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:f,isSubscribed:h,trySubscribe:x,tryUnsubscribe:P,getListeners:()=>r};return O}const Ine=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Iw=Ine?V.useLayoutEffect:V.useEffect;function Xj(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function kk(e,t){if(Xj(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Xj(e[n[i]],t[n[i]]))return!1;return!0}const $ne=["reactReduxForwardedRef"];let PW=vW;const Rne=e=>{PW=e},Dne=[null,null];function Lne(e,t,n){Iw(()=>e(...t),n)}function Nne(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function zne(e,t,n,r,i,o,s,a,f,h,g){if(!e)return()=>{};let y=!1,x=null;const P=()=>{if(y||!a.current)return;const S=t.getState();let A,I;try{A=r(S,i.current)}catch(M){I=M,x=M}I||(x=null),A===o.current?s.current||h():(o.current=A,f.current=A,s.current=!0,g())};return n.onStateChange=P,n.trySubscribe(),P(),()=>{if(y=!0,n.tryUnsubscribe(),n.onStateChange=null,x)throw x}}function jne(e,t){return e===t}function Bne(e,t,n,{pure:r,areStatesEqual:i=jne,areOwnPropsEqual:o=kk,areStatePropsEqual:s=kk,areMergedPropsEqual:a=kk,forwardRef:f=!1,context:h=iu}={}){const g=h,y=kne(e),x=Tne(t),P=Ane(n),O=!!e;return A=>{const I=A.displayName||A.name||"Component",M=`Connect(${I})`,k={shouldHandleStateChanges:O,displayName:M,wrappedComponentName:I,WrappedComponent:A,initMapStateToProps:y,initMapDispatchToProps:x,initMergeProps:P,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:a};function $(F){const[G,J,ee]=V.useMemo(()=>{const{reactReduxForwardedRef:Ve}=F,Ct=mt(F,$ne);return[F.context,Ve,Ct]},[F]),ae=V.useMemo(()=>G&&G.Consumer&&_ne.isContextConsumer(V.createElement(G.Consumer,null))?G:g,[G,g]),pe=V.useContext(ae),ye=!!F.store&&!!F.store.getState&&!!F.store.dispatch,we=!!pe&&!!pe.store,Ce=ye?F.store:pe.store,Oe=we?pe.getServerState:Ce.getState,Ee=V.useMemo(()=>Cne(Ce.dispatch,k),[Ce]),[Se,De]=V.useMemo(()=>{if(!O)return Dne;const Ve=kW(Ce,ye?void 0:pe.subscription),Ct=Ve.notifyNestedSubs.bind(Ve);return[Ve,Ct]},[Ce,ye,pe]),We=V.useMemo(()=>ye?pe:te({},pe,{subscription:Se}),[ye,pe,Se]),dt=V.useRef(),ht=V.useRef(ee),Je=V.useRef(),it=V.useRef(!1);V.useRef(!1);const Ot=V.useRef(!1),at=V.useRef();Iw(()=>(Ot.current=!0,()=>{Ot.current=!1}),[]);const Gt=V.useMemo(()=>()=>Je.current&&ee===ht.current?Je.current:Ee(Ce.getState(),ee),[Ce,ee]),Ht=V.useMemo(()=>Ct=>Se?zne(O,Ce,Se,Ee,ht,dt,it,Ot,Je,De,Ct):()=>{},[Se]);Lne(Nne,[ht,dt,it,ee,Je,De]);let He;try{He=PW(Ht,Gt,Oe?()=>Ee(Oe(),ee):Gt)}catch(Ve){throw at.current&&(Ve.message+=`
The error may be correlated with this previous error:
${at.current.stack}

`),Ve}Iw(()=>{at.current=void 0,Je.current=void 0,dt.current=He});const vt=V.useMemo(()=>V.createElement(A,te({},He,{ref:J})),[J,A,He]);return V.useMemo(()=>O?V.createElement(ae.Provider,{value:We},vt):vt,[ae,vt,We])}const N=V.memo($);if(N.WrappedComponent=A,N.displayName=$.displayName=M,f){const G=V.forwardRef(function(ee,ae){return V.createElement(N,te({},ee,{reactReduxForwardedRef:ae}))});return G.displayName=M,G.WrappedComponent=A,Yj(G,A)}return Yj(N,A)}}function Fne({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",noopCheck:o="once"}){const s=V.useMemo(()=>{const h=kW(e);return{store:e,subscription:h,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:o}},[e,r,i,o]),a=V.useMemo(()=>e.getState(),[e]);Iw(()=>{const{subscription:h}=s;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),a!==e.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[s,a]);const f=t||iu;return V.createElement(f.Provider,{value:s},n)}function OW(e=iu){const t=e===iu?yW:h$(e);return function(){const{store:r}=t();return r}}const Une=OW();function Vne(e=iu){const t=e===iu?Une:OW(e);return function(){return t().dispatch}}const Cl=Vne();nne(Xte.useSyncExternalStoreWithSelector);Rne(hW.useSyncExternalStore);Qte(uc.unstable_batchedUpdates);function fl(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function $d(e){return!!e&&!!e[Hr]}function ou(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Jne}(e)||Array.isArray(e)||!!e[i5]||!!(!((t=e.constructor)===null||t===void 0)&&t[i5])||w$(e)||S$(e))}function hh(e,t,n){n===void 0&&(n=!1),Pg(e)===0?(n?Object.keys:Sm)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Pg(e){var t=e[Hr];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:w$(e)?2:S$(e)?3:0}function wm(e,t){return Pg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Wne(e,t){return Pg(e)===2?e.get(t):e[t]}function AW(e,t,n){var r=Pg(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function MW(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function w$(e){return Zne&&e instanceof Map}function S$(e){return Xne&&e instanceof Set}function Af(e){return e.o||e.t}function C$(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=$W(e);delete t[Hr];for(var n=Sm(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function E$(e,t){return t===void 0&&(t=!1),T$(e)||$d(e)||!ou(e)||(Pg(e)>1&&(e.set=e.add=e.clear=e.delete=qne),Object.freeze(e),t&&hh(e,function(n,r){return E$(r,!0)},!0)),e}function qne(){fl(2)}function T$(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Ql(e){var t=uA[e];return t||fl(18,e),t}function Gne(e,t){uA[e]||(uA[e]=t)}function sA(){return X0}function Pk(e,t){t&&(Ql("Patches"),e.u=[],e.s=[],e.v=t)}function $w(e){lA(e),e.p.forEach(Hne),e.p=null}function lA(e){e===X0&&(X0=e.l)}function Jj(e){return X0={p:[],l:X0,h:e,m:!0,_:0}}function Hne(e){var t=e[Hr];t.i===0||t.i===1?t.j():t.g=!0}function Ok(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Ql("ES5").S(t,e,r),r?(n[Hr].P&&($w(t),fl(4)),ou(e)&&(e=Rw(t,e),t.l||Dw(t,e)),t.u&&Ql("Patches").M(n[Hr].t,e,t.u,t.s)):e=Rw(t,n,[]),$w(t),t.u&&t.v(t.u,t.s),e!==IW?e:void 0}function Rw(e,t,n){if(T$(t))return t;var r=t[Hr];if(!r)return hh(t,function(a,f){return Qj(e,r,t,a,f,n)},!0),t;if(r.A!==e)return t;if(!r.P)return Dw(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=C$(r.k):r.o,o=i,s=!1;r.i===3&&(o=new Set(i),i.clear(),s=!0),hh(o,function(a,f){return Qj(e,r,i,a,f,n,s)}),Dw(e,i,!1),n&&e.u&&Ql("Patches").N(r,n,e.u,e.s)}return r.o}function Qj(e,t,n,r,i,o,s){if($d(i)){var a=Rw(e,i,o&&t&&t.i!==3&&!wm(t.R,r)?o.concat(r):void 0);if(AW(n,r,a),!$d(a))return;e.m=!1}else s&&n.add(i);if(ou(i)&&!T$(i)){if(!e.h.D&&e._<1)return;Rw(e,i),t&&t.A.l||Dw(e,i)}}function Dw(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&E$(t,n)}function Ak(e,t){var n=e[Hr];return(n?Af(n):e)[t]}function e5(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ad(e){e.P||(e.P=!0,e.l&&ad(e.l))}function Mk(e){e.o||(e.o=C$(e.t))}function cA(e,t,n){var r=w$(t)?Ql("MapSet").F(t,n):S$(t)?Ql("MapSet").T(t,n):e.O?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:sA(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},f=a,h=J0;s&&(f=[a],h=Xv);var g=Proxy.revocable(f,h),y=g.revoke,x=g.proxy;return a.k=x,a.j=y,x}(t,n):Ql("ES5").J(t,n);return(n?n.A:sA()).p.push(r),r}function Yne(e){return $d(e)||fl(22,e),function t(n){if(!ou(n))return n;var r,i=n[Hr],o=Pg(n);if(i){if(!i.P&&(i.i<4||!Ql("ES5").K(i)))return i.t;i.I=!0,r=t5(n,o),i.I=!1}else r=t5(n,o);return hh(r,function(s,a){i&&Wne(i.t,s)===a||AW(r,s,t(a))}),o===3?new Set(r):r}(e)}function t5(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return C$(e)}function Kne(){function e(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var f=this[Hr];return J0.get(f,o)},set:function(f){var h=this[Hr];J0.set(h,o,f)}},a}function t(o){for(var s=o.length-1;s>=0;s--){var a=o[s][Hr];if(!a.P)switch(a.i){case 5:r(a)&&ad(a);break;case 4:n(a)&&ad(a)}}}function n(o){for(var s=o.t,a=o.k,f=Sm(a),h=f.length-1;h>=0;h--){var g=f[h];if(g!==Hr){var y=s[g];if(y===void 0&&!wm(s,g))return!0;var x=a[g],P=x&&x[Hr];if(P?P.t!==y:!MW(x,y))return!0}}var O=!!s[Hr];return f.length!==Sm(s).length+(O?0:1)}function r(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var f=0;f<s.length;f++)if(!s.hasOwnProperty(f))return!0;return!1}var i={};Gne("ES5",{J:function(o,s){var a=Array.isArray(o),f=function(g,y){if(g){for(var x=Array(y.length),P=0;P<y.length;P++)Object.defineProperty(x,""+P,e(P,!0));return x}var O=$W(y);delete O[Hr];for(var S=Sm(O),A=0;A<S.length;A++){var I=S[A];O[I]=e(I,g||!!O[I].enumerable)}return Object.create(Object.getPrototypeOf(y),O)}(a,o),h={i:a?5:4,A:s?s.A:sA(),P:!1,I:!1,R:{},l:s,t:o,k:f,o:null,g:!1,C:!1};return Object.defineProperty(f,Hr,{value:h,writable:!0}),f},S:function(o,s,a){a?$d(s)&&s[Hr].A===o&&t(o.p):(o.u&&function f(h){if(h&&typeof h=="object"){var g=h[Hr];if(g){var y=g.t,x=g.k,P=g.R,O=g.i;if(O===4)hh(x,function(k){k!==Hr&&(y[k]!==void 0||wm(y,k)?P[k]||f(x[k]):(P[k]=!0,ad(g)))}),hh(y,function(k){x[k]!==void 0||wm(x,k)||(P[k]=!1,ad(g))});else if(O===5){if(r(g)&&(ad(g),P.length=!0),x.length<y.length)for(var S=x.length;S<y.length;S++)P[S]=!1;else for(var A=y.length;A<x.length;A++)P[A]=!0;for(var I=Math.min(x.length,y.length),M=0;M<I;M++)x.hasOwnProperty(M)||(P[M]=!0),P[M]===void 0&&f(x[M])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var n5,X0,k$=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Zne=typeof Map<"u",Xne=typeof Set<"u",r5=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",IW=k$?Symbol.for("immer-nothing"):((n5={})["immer-nothing"]=!0,n5),i5=k$?Symbol.for("immer-draftable"):"__$immer_draftable",Hr=k$?Symbol.for("immer-state"):"__$immer_state",Jne=""+Object.prototype.constructor,Sm=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,$W=Object.getOwnPropertyDescriptors||function(e){var t={};return Sm(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},uA={},J0={get:function(e,t){if(t===Hr)return e;var n=Af(e);if(!wm(n,t))return function(i,o,s){var a,f=e5(o,s);return f?"value"in f?f.value:(a=f.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!ou(r)?r:r===Ak(e.t,t)?(Mk(e),e.o[t]=cA(e.A.h,r,e)):r},has:function(e,t){return t in Af(e)},ownKeys:function(e){return Reflect.ownKeys(Af(e))},set:function(e,t,n){var r=e5(Af(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Ak(Af(e),t),o=i==null?void 0:i[Hr];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(MW(n,i)&&(n!==void 0||wm(e.t,t)))return!0;Mk(e),ad(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return Ak(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,Mk(e),ad(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Af(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){fl(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){fl(12)}},Xv={};hh(J0,function(e,t){Xv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Xv.deleteProperty=function(e,t){return Xv.set.call(this,e,t,void 0)},Xv.set=function(e,t,n){return J0.set.call(this,e[0],t,n,e[0])};var Qne=function(){function e(n){var r=this;this.O=r5,this.D=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var f=r;return function(S){var A=this;S===void 0&&(S=a);for(var I=arguments.length,M=Array(I>1?I-1:0),k=1;k<I;k++)M[k-1]=arguments[k];return f.produce(S,function($){var L;return(L=o).call.apply(L,[A,$].concat(M))})}}var h;if(typeof o!="function"&&fl(6),s!==void 0&&typeof s!="function"&&fl(7),ou(i)){var g=Jj(r),y=cA(r,i,void 0),x=!0;try{h=o(y),x=!1}finally{x?$w(g):lA(g)}return typeof Promise<"u"&&h instanceof Promise?h.then(function(S){return Pk(g,s),Ok(S,g)},function(S){throw $w(g),S}):(Pk(g,s),Ok(h,g))}if(!i||typeof i!="object"){if((h=o(i))===void 0&&(h=i),h===IW&&(h=void 0),r.D&&E$(h,!0),s){var P=[],O=[];Ql("Patches").M(i,h,P,O),s(P,O)}return h}fl(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(h){for(var g=arguments.length,y=Array(g>1?g-1:0),x=1;x<g;x++)y[x-1]=arguments[x];return r.produceWithPatches(h,function(P){return i.apply(void 0,[P].concat(y))})};var s,a,f=r.produce(i,o,function(h,g){s=h,a=g});return typeof Promise<"u"&&f instanceof Promise?f.then(function(h){return[h,s,a]}):[f,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){ou(n)||fl(8),$d(n)&&(n=Yne(n));var r=Jj(this),i=cA(this,n,void 0);return i[Hr].C=!0,lA(r),i},t.finishDraft=function(n,r){var i=n&&n[Hr],o=i.A;return Pk(o,r),Ok(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!r5&&fl(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=Ql("Patches").$;return $d(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e}(),Ja=new Qne,RW=Ja.produce;Ja.produceWithPatches.bind(Ja);Ja.setAutoFreeze.bind(Ja);Ja.setUseProxies.bind(Ja);Ja.applyPatches.bind(Ja);Ja.createDraft.bind(Ja);Ja.finishDraft.bind(Ja);function Q0(e){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q0(e)}function ere(e,t){if(Q0(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Q0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DW(e){var t=ere(e,"string");return Q0(t)==="symbol"?t:String(t)}function tre(e,t,n){return t=DW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function a5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o5(Object(n),!0).forEach(function(r){tre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $o(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var s5=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Ik=function(){return Math.random().toString(36).substring(7).split("").join(".")},Lw={INIT:"@@redux/INIT"+Ik(),REPLACE:"@@redux/REPLACE"+Ik(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ik()}};function nre(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function LW(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error($o(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error($o(1));return n(LW)(e,t)}if(typeof e!="function")throw new Error($o(2));var i=e,o=t,s=[],a=s,f=!1;function h(){a===s&&(a=s.slice())}function g(){if(f)throw new Error($o(3));return o}function y(S){if(typeof S!="function")throw new Error($o(4));if(f)throw new Error($o(5));var A=!0;return h(),a.push(S),function(){if(A){if(f)throw new Error($o(6));A=!1,h();var M=a.indexOf(S);a.splice(M,1),s=null}}}function x(S){if(!nre(S))throw new Error($o(7));if(typeof S.type>"u")throw new Error($o(8));if(f)throw new Error($o(9));try{f=!0,o=i(o,S)}finally{f=!1}for(var A=s=a,I=0;I<A.length;I++){var M=A[I];M()}return S}function P(S){if(typeof S!="function")throw new Error($o(10));i=S,x({type:Lw.REPLACE})}function O(){var S,A=y;return S={subscribe:function(M){if(typeof M!="object"||M===null)throw new Error($o(11));function k(){M.next&&M.next(g())}k();var $=A(k);return{unsubscribe:$}}},S[s5]=function(){return this},S}return x({type:Lw.INIT}),r={dispatch:x,subscribe:y,getState:g,replaceReducer:P},r[s5]=O,r}function rre(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:Lw.INIT});if(typeof r>"u")throw new Error($o(12));if(typeof n(void 0,{type:Lw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($o(13))})}function NW(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var o=Object.keys(n),s;try{rre(n)}catch(a){s=a}return function(f,h){if(f===void 0&&(f={}),s)throw s;for(var g=!1,y={},x=0;x<o.length;x++){var P=o[x],O=n[P],S=f[P],A=O(S,h);if(typeof A>"u")throw h&&h.type,new Error($o(14));y[P]=A,g=g||A!==S}return g=g||o.length!==Object.keys(f).length,g?y:f}}function Nw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function ire(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error($o(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(f){return f(s)});return o=Nw.apply(void 0,a)(i.dispatch),a5(a5({},i),{},{dispatch:o})}}}function zW(e){var t=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,e):s(a)}}};return t}var jW=zW();jW.withExtraArgument=zW;const l5=jW;var BW=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ore=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(h){return function(g){return f([h,g])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){n.label=h[1];break}if(h[0]===6&&n.label<o[1]){n.label=o[1],o=h;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(h);break}o[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(g){h=[6,g],i=0}finally{r=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Wm=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},are=Object.defineProperty,sre=Object.defineProperties,lre=Object.getOwnPropertyDescriptors,c5=Object.getOwnPropertySymbols,cre=Object.prototype.hasOwnProperty,ure=Object.prototype.propertyIsEnumerable,u5=function(e,t,n){return t in e?are(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Sd=function(e,t){for(var n in t||(t={}))cre.call(t,n)&&u5(e,n,t[n]);if(c5)for(var r=0,i=c5(t);r<i.length;r++){var n=i[r];ure.call(t,n)&&u5(e,n,t[n])}return e},$k=function(e,t){return sre(e,lre(t))},dre=function(e,t,n){return new Promise(function(r,i){var o=function(f){try{a(n.next(f))}catch(h){i(h)}},s=function(f){try{a(n.throw(f))}catch(h){i(h)}},a=function(f){return f.done?r(f.value):Promise.resolve(f.value).then(o,s)};a((n=n.apply(e,t)).next())})},fre=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Nw:Nw.apply(null,arguments)};function hre(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}function Cd(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var o=t.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return Sd(Sd({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}var pre=function(e){BW(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Wm([void 0],n[0].concat(this)))):new(t.bind.apply(t,Wm([void 0],n.concat(this))))},t}(Array),mre=function(e){BW(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Wm([void 0],n[0].concat(this)))):new(t.bind.apply(t,Wm([void 0],n.concat(this))))},t}(Array);function dA(e){return ou(e)?RW(e,function(){}):e}function gre(e){return typeof e=="boolean"}function yre(){return function(t){return vre(t)}}function vre(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new pre;return n&&(gre(n)?r.push(l5):r.push(l5.withExtraArgument(n.extraArgument))),r}var bre=!0;function xre(e){var t=yre(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,o=n.middleware,s=o===void 0?t():o,a=n.devTools,f=a===void 0?!0:a,h=n.preloadedState,g=h===void 0?void 0:h,y=n.enhancers,x=y===void 0?void 0:y,P;if(typeof i=="function")P=i;else if(hre(i))P=NW(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var O=s;typeof O=="function"&&(O=O(t));var S=ire.apply(void 0,O),A=Nw;f&&(A=fre(Sd({trace:!bre},typeof f=="object"&&f)));var I=new mre(S),M=I;Array.isArray(x)?M=Wm([S],x):typeof x=="function"&&(M=x(I));var k=A.apply(void 0,M);return LW(P,g,k)}function FW(e){var t={},n=[],r,i={addCase:function(o,s){var a=typeof o=="string"?o:o.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=s,i},addMatcher:function(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return r=o,i}};return e(i),[t,n,r]}function _re(e){return typeof e=="function"}function wre(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?FW(t):[t,n,r],o=i[0],s=i[1],a=i[2],f;if(_re(e))f=function(){return dA(e())};else{var h=dA(e);f=function(){return h}}function g(y,x){y===void 0&&(y=f());var P=Wm([o[x.type]],s.filter(function(O){var S=O.matcher;return S(x)}).map(function(O){var S=O.reducer;return S}));return P.filter(function(O){return!!O}).length===0&&(P=[a]),P.reduce(function(O,S){if(S)if($d(O)){var A=O,I=S(A,x);return I===void 0?O:I}else{if(ou(O))return RW(O,function(M){return S(M,x)});var I=S(O,x);if(I===void 0){if(O===null)return O;throw Error("A case reducer on a non-draftable value must not return undefined")}return I}return O},y)}return g.getInitialState=f,g}function Sre(e,t){return e+"/"+t}function Og(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:dA(e.initialState),r=e.reducers||{},i=Object.keys(r),o={},s={},a={};i.forEach(function(g){var y=r[g],x=Sre(t,g),P,O;"reducer"in y?(P=y.reducer,O=y.prepare):P=y,o[g]=P,s[x]=P,a[g]=O?Cd(x,O):Cd(x)});function f(){var g=typeof e.extraReducers=="function"?FW(e.extraReducers):[e.extraReducers],y=g[0],x=y===void 0?{}:y,P=g[1],O=P===void 0?[]:P,S=g[2],A=S===void 0?void 0:S,I=Sd(Sd({},x),s);return wre(n,function(M){for(var k in I)M.addCase(k,I[k]);for(var $=0,L=O;$<L.length;$++){var N=L[$];M.addMatcher(N.matcher,N.reducer)}A&&M.addDefaultCase(A)})}var h;return{name:t,reducer:function(g,y){return h||(h=f()),h(g,y)},actions:a,caseReducers:o,getInitialState:function(){return h||(h=f()),h.getInitialState()}}}var Cre="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Ere=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=Cre[Math.random()*64|0];return t},Tre=["name","message","stack","code"],Rk=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),d5=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),kre=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=Tre;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=Cd(t+"/fulfilled",function(h,g,y,x){return{payload:h,meta:$k(Sd({},x||{}),{arg:y,requestId:g,requestStatus:"fulfilled"})}}),o=Cd(t+"/pending",function(h,g,y){return{payload:void 0,meta:$k(Sd({},y||{}),{arg:g,requestId:h,requestStatus:"pending"})}}),s=Cd(t+"/rejected",function(h,g,y,x,P){return{payload:x,error:(r&&r.serializeError||kre)(h||"Rejected"),meta:$k(Sd({},P||{}),{arg:y,requestId:g,rejectedWithValue:!!x,requestStatus:"rejected",aborted:(h==null?void 0:h.name)==="AbortError",condition:(h==null?void 0:h.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function h(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return h.prototype.abort=function(){},h}();function f(h){return function(g,y,x){var P=r!=null&&r.idGenerator?r.idGenerator(h):Ere(),O=new a,S;function A(M){S=M,O.abort()}var I=function(){return dre(this,null,function(){var M,k,$,L,N,F,G;return ore(this,function(J){switch(J.label){case 0:return J.trys.push([0,4,,5]),L=(M=r==null?void 0:r.condition)==null?void 0:M.call(r,h,{getState:y,extra:x}),Ore(L)?[4,L]:[3,2];case 1:L=J.sent(),J.label=2;case 2:if(L===!1||O.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return N=new Promise(function(ee,ae){return O.signal.addEventListener("abort",function(){return ae({name:"AbortError",message:S||"Aborted"})})}),g(o(P,h,(k=r==null?void 0:r.getPendingMeta)==null?void 0:k.call(r,{requestId:P,arg:h},{getState:y,extra:x}))),[4,Promise.race([N,Promise.resolve(n(h,{dispatch:g,getState:y,extra:x,requestId:P,signal:O.signal,abort:A,rejectWithValue:function(ee,ae){return new Rk(ee,ae)},fulfillWithValue:function(ee,ae){return new d5(ee,ae)}})).then(function(ee){if(ee instanceof Rk)throw ee;return ee instanceof d5?i(ee.payload,P,h,ee.meta):i(ee,P,h)})])];case 3:return $=J.sent(),[3,5];case 4:return F=J.sent(),$=F instanceof Rk?s(null,P,h,F.payload,F.meta):s(F,P,h),[3,5];case 5:return G=r&&!r.dispatchConditionRejection&&s.match($)&&$.meta.condition,G||g($),[2,$]}})})}();return Object.assign(I,{abort:A,requestId:P,arg:h,unwrap:function(){return I.then(Pre)}})}}return Object.assign(f,{pending:o,rejected:s,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function Pre(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function Ore(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var P$="listenerMiddleware";Cd(P$+"/add");Cd(P$+"/removeAll");Cd(P$+"/remove");var f5;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);Kne();const{reducer:Are,actions:UW}=Og({name:"errors",initialState:{errors:[]},reducers:{push(e,t){e.errors.push(t.payload)},pop(e){e.errors.length&&e.errors.shift()}}}),{reducer:Mre,actions:hl}=Og({name:"devices",initialState:{items:{},selectedId:null,selectedIds:[]},reducers:{refresh(e,t){console.log(t.payload),e.items={},t.payload.forEach(n=>e.items[n.id]=n)},update1(e,t){e.items[t.payload.id]=t.payload},update(e,t){t.payload.forEach(n=>e.items[n.id]=n)},select(e,t){e.selectedId=t.payload},selectId(e,t){e.selectedId=t.payload,e.selectedIds=[e.selectedId]},selectIds(e,t){e.selectedIds=t.payload,[e.selectedId]=e.selectedIds},remove(e,t){delete e.items[t.payload]},clear(e,t){e.items={}}}}),{reducer:Ire,actions:Dk}=Og({name:"data",initialState:{server:null,user:null,socket:null,camera:{},positions:{},history:{}},reducers:{updateServer(e,t){e.server=t.payload},updateUser(e,t){e.user=t.payload},updateSocket(e,t){e.socket=t.payload},updatePositions(e,t){Object.keys(t.payload).length>0&&t.payload.forEach(n=>{e.positions[n.deviceId]=n,e.history={}})},updatePosition(e,t){e.positions[t.payload.deviceId]===void 0&&(e.positions[t.payload.deviceId]={attributes:{}}),t.payload.hasOwnProperty("latitude")&&(e.positions[t.payload.deviceId].id=t.payload.id,e.positions[t.payload.deviceId].deviceId=t.payload.deviceId,e.positions[t.payload.deviceId].latitude=t.payload.latitude,e.positions[t.payload.deviceId].longitude=t.payload.longitude,e.positions[t.payload.deviceId].altitude=t.payload.altitude,e.positions[t.payload.deviceId].deviceTime=t.payload.deviceTime),t.payload.hasOwnProperty("course")&&(e.positions[t.payload.deviceId].course=t.payload.course),t.payload.hasOwnProperty("speed")&&(e.positions[t.payload.deviceId].speed=t.payload.speed),t.payload.hasOwnProperty("batteryLevel")&&(e.positions[t.payload.deviceId].attributes.batteryLevel=t.payload.batteryLevel)},updateCamera(e,t){Object.keys(t.payload).length>0&&t.payload.forEach(n=>{e.camera[n.deviceId]=n})}}}),$re=e=>{let t=[];console.log("version 3"),console.log("longitud"+e.length);for(let n=0;n<e.length;n++){console.log("uav - "+n),t[n]={},e[n].hasOwnProperty("uav")&&(t[n].uav=e[n].uav),t[n].id=n,t[n].name=e[n].name,t[n].wp=[],t[n].attributes={};for(let r=0;r<e[n].wp.length;r++)t[n].wp[r]={},t[n].wp[r].pos=e[n].wp[r].pos,t[n].wp[r].yaw=e[n].wp[r].yaw,t[n].wp[r].gimbal=e[n].wp[r].gimbal,e[n].wp[r].hasOwnProperty("speed")&&(t[n].wp[r].speed=e[n].wp[r].speed),e[n].wp[r].hasOwnProperty("action")&&(t[n].wp[r].action=e[n].wp[r].action);e[n].hasOwnProperty("attributes")?(console.log("have atribute"),e[n].attributes.hasOwnProperty("mode_landing")&&(console.log("have modelanding"+n),t[n].attributes.mode_landing=e[n].attributes.mode_landing),e[n].attributes.hasOwnProperty("mode_yaw")&&(t[n].attributes.mode_yaw=e[n].attributes.mode_yaw),e[n].attributes.hasOwnProperty("mode_gimbal")&&(t[n].attributes.mode_gimbal=e[n].attributes.mode_gimbal),e[n].attributes.hasOwnProperty("mode_trace")&&(t[n].attributes.mode_trace=e[n].attributes.mode_trace),e[n].attributes.hasOwnProperty("idle_vel")&&(t[n].attributes.idle_vel=e[n].attributes.idle_vel),e[n].attributes.hasOwnProperty("max_vel")&&(t[n].attributes.max_vel=e[n].attributes.max_vel)):(e[n].hasOwnProperty("mode_landing")&&(console.log("have modelanding"+n),t[n].attributes.mode_landing=e[n].mode_landing),e[n].hasOwnProperty("mode_yaw")&&(t[n].attributes.mode_yaw=e[n].mode_yaw),e[n].hasOwnProperty("mode_gimbal")&&(t[n].attributes.mode_gimbal=e[n].mode_gimbal),e[n].hasOwnProperty("mode_trace")&&(t[n].attributes.mode_trace=e[n].mode_trace),e[n].hasOwnProperty("idle_vel")&&(t[n].attributes.idle_vel=e[n].idle_vel),e[n].hasOwnProperty("max_vel")&&(t[n].attributes.max_vel=e[n].max_vel))}return console.log("-------------------"),console.log(t),t},Rre=e=>{let t=[];console.log("mission < 3");for(let n=1;n<=e.uav_n;n++)if(e.hasOwnProperty("uav_"+n)){let r=n-1;console.log("uav - "+r),t[r]={},t[r].id=r,t[r].uav="uav_"+n,t[r].name="uav_"+n,t[r].wp=[],t[r].attributes={};for(let i=0;i<e["uav_"+n].wp_n;i++)t[r].wp[i]={},e["uav_"+n]["wp_"+i].length==3?(t[r].wp[i].yaw=0,t[r].wp[i].pos=e["uav_"+n]["wp_"+i]):(t[r].wp[i].yaw=e["uav_"+n]["wp_"+i][3],t[r].wp[i].pos=e["uav_"+n]["wp_"+i].slice(0,-1));e.hasOwnProperty("mode_landing")&&(t[r].attributes.mode_landing=e.mode_landing),e.hasOwnProperty("mode_yaw")&&(t[r].attributes.mode_yaw=e.mode_yaw),e.hasOwnProperty("idle_vel")&&(t[r].attributes.idle_vel=e.idle_vel),e["uav_"+n].hasOwnProperty("attributes")?(e["uav_"+n].attributes.hasOwnProperty("mode_landing")&&(console.log("have modelanding"+n),t[r].attributes.mode_landing=e["uav_"+n].attributes.mode_landing),e["uav_"+n].attributes.hasOwnProperty("mode_yaw")&&(t[r].attributes.mode_yaw=e["uav_"+n].attributes.mode_yaw),e["uav_"+n].attributes.hasOwnProperty("idle_vel")&&(t[r].attributes.idle_vel=e["uav_"+n].attributes.idle_vel),e["uav_"+n].attributes.hasOwnProperty("max_vel")&&(t[n].attributes.max_vel=e["uav_"+n].attributes.max_vel)):(e["uav_"+n].hasOwnProperty("mode_landing")&&(t[r].attributes.mode_landing=e["uav_"+n].mode_landing),e["uav_"+n].hasOwnProperty("mode_yaw")&&(t[r].attributes.mode_yaw=e["uav_"+n].mode_yaw),e["uav_"+n].hasOwnProperty("idle_vel")&&(t[r].attributes.idle_vel=e["uav_"+n].idle_vel))}return console.log("-----------   legacy   --------"),console.log(t),t},{reducer:Dre,actions:Fc}=Og({name:"mission",initialState:{name:"Mission no loaded",description:"",home:[0,0],route:[],attributes:{},selectpoint:{id:-1}},reducers:{updateWpPos(e,t){t.payload.route_id>=0&&(e.route[t.payload.route_id].wp[t.payload.wp_id].pos[0]=t.payload.lat,e.route[t.payload.route_id].wp[t.payload.wp_id].pos[1]=t.payload.lng)},selectpoint(e,t){console.log("selec point"),e.selectpoint=t.payload},reloadMission(e,t){e.route=t.payload},reloadName(e,t){e.name=t.payload.name,e.description=t.payload.description},updateMission(e,t){if(e.name=t.payload.name,t.payload.mission.version=="3"){let n=0;e.home=t.payload.mission.route[n].wp[0].pos,e.route=$re(t.payload.mission.route)}else{let n=1;e.home=t.payload.mission["uav_"+n].wp_0,e.route=Rre(t.payload.mission)}},clearMission(e,t){console.log("clear mission"),e.name="Mission no loaded",e.route=[],e.attributes={}}}}),{reducer:Lre,actions:rm}=Og({name:"session",initialState:{server:null,user:null,socket:null,positions:{},history:{},markers:[]},reducers:{updateServer(e,t){e.server=t.payload},updateUser(e,t){e.user=t.payload},updateSocket(e,t){e.socket=t.payload},updatePositions(e,t){const n=e.user.attributes.mapLiveRoutes||e.server.attributes.mapLiveRoutes||"none",r=e.user.attributes["web.liveRouteLength"]||e.user.attributes["web.liveRouteLength"]||10;t.payload.forEach(i=>{if(e.positions[i.deviceId]=i,n!=="none"){const o=e.history[i.deviceId]||[],s=o.at(-1);(!s||s[0]!==i.longitude&&s[1]!==i.latitude)&&(e.history[i.deviceId]=[...o.slice(1-r),[i.longitude,i.latitude]])}else e.history={}})},updateMarker(e,t){e.markers=t.payload},addMarker(e,t){e.markers.push(...t.payload)}}}),{reducer:Nre,actions:zre}=Og({name:"events",initialState:{items:[]},reducers:{add(e,t){e.items.unshift(...t.payload),e.items.splice(50)},delete(e,t){e.items=e.items.filter(n=>n.id!==t.payload.id)},deleteAll(e){e.items=[]}}}),h5=3,jre=1500,Bre=()=>e=>{const t=[];let n=!1,r=0;return setInterval(()=>{n?(t.length<h5&&(n=!1),uc.unstable_batchedUpdates(()=>t.splice(0,t.length).forEach(i=>e(i)))):(r>h5&&(n=!0),r=0)},jre),i=>i.type==="devices/update"||i.type==="positions/update"?n?(t.push(i),null):(r+=1,e(i)):e(i)},Fre=NW({errors:Are,devices:Mre,data:Ire,events:Nre,mission:Dre,session:Lre}),Ure=xre({reducer:Fre,middleware:e=>e().concat(Bre)}),Vre={black:"#000",white:"#fff"},ph=Vre,Wre={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Lc=Wre,qre={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ep=qre,Gre={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},VW=Gre,Hre={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Tp=Hre,Yre={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},kp=Yre,Kre={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ul=Kre,Zre={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"},O$=Zre,Xre={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},mv=Xre,Jre={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},ec=Jre,gv={white:ph.white,background:ec[50],primary:VW[900],secondary:ul[800],positive:ul[500],medium:O$[700],negative:Lc[500],neutral:ec[500],geometry:"#3bb2d0"},Qre={0:"#F34C28",1:"#F39A28",2:"#1EC910",3:"#1012C9",4:"#C310C9",5:"#1FDBF1",6:"#F6FD04",7:"#808080"},mh={background:{default:gv.background},primary:{main:gv.primary},secondary:{main:gv.secondary,contrastText:gv.white},colors:gv,colors_devices:Qre};var A$={exports:{}};A$.exports=WW;A$.exports.parse=WW;A$.exports.stringify=qW;var p5=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,m5=new RegExp("^"+p5.source+"(\\s"+p5.source+"){1,}");function WW(e){var t=e.split(";"),n=t.pop(),r=(t.shift()||"").split("=").pop(),i=0;function o(M){var k=n.substring(i).match(M);return k?(i+=k[0].length,k[0]):null}function s(M){return M&&r.match(/\d+/)&&(M.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+r}}),M}function a(){o(/^\s*/)}function f(){a();for(var M=0,k=[],$=[k],L=k,N;N=o(/^(\()/)||o(/^(\))/)||o(/^(,)/)||o(m5);){if(N==="(")$.push(L),L=[],$[$.length-1].push(L),M++;else if(N===")"){if(L.length===0||(L=$.pop(),!L))return null;if(M--,M===0)break}else if(N===",")L=[],$[$.length-1].push(L);else if(!N.split(/\s/g).some(isNaN))Array.prototype.push.apply(L,N.split(/\s/g).map(parseFloat));else return null;a()}return M!==0?null:k}function h(){for(var M=[],k,$;$=o(m5)||o(/^(,)/);)$===","?(M.push(k),k=[]):$.split(/\s/g).some(isNaN)||(k||(k=[]),Array.prototype.push.apply(k,$.split(/\s/g).map(parseFloat))),a();if(k)M.push(k);else return null;return M.length?M:null}function g(){if(!o(/^(point(\sz)?)/i)||(a(),!o(/^(\()/)))return null;var M=h();return!M||(a(),!o(/^(\))/))?null:{type:"Point",coordinates:M[0]}}function y(){if(!o(/^(multipoint)/i))return null;a();var M=n.substring(n.indexOf("(")+1,n.length-1).replace(/\(/g,"").replace(/\)/g,"");n="MULTIPOINT ("+M+")";var k=f();return k?(a(),{type:"MultiPoint",coordinates:k}):null}function x(){if(!o(/^(multilinestring)/i))return null;a();var M=f();return M?(a(),{type:"MultiLineString",coordinates:M}):null}function P(){if(!o(/^(linestring(\sz)?)/i)||(a(),!o(/^(\()/)))return null;var M=h();return!M||!o(/^(\))/)?null:{type:"LineString",coordinates:M}}function O(){if(!o(/^(polygon(\sz)?)/i))return null;a();var M=f();return M?{type:"Polygon",coordinates:M}:null}function S(){if(!o(/^(multipolygon)/i))return null;a();var M=f();return M?{type:"MultiPolygon",coordinates:M}:null}function A(){var M=[],k;if(!o(/^(geometrycollection)/i)||(a(),!o(/^(\()/)))return null;for(;k=I();)M.push(k),a(),o(/^(,)/),a();return o(/^(\))/)?{type:"GeometryCollection",geometries:M}:null}function I(){return g()||P()||O()||y()||x()||S()||A()}return s(I())}function qW(e){e.type==="Feature"&&(e=e.geometry);function t(s){return s.join(" ")}function n(s){return s.map(t).join(", ")}function r(s){return s.map(n).map(o).join(", ")}function i(s){return s.map(r).map(o).join(", ")}function o(s){return"("+s+")"}switch(e.type){case"Point":return"POINT ("+t(e.coordinates)+")";case"LineString":return"LINESTRING ("+n(e.coordinates)+")";case"Polygon":return"POLYGON ("+r(e.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+n(e.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+i(e.coordinates)+")";case"MultiLineString":return"MULTILINESTRING ("+r(e.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+e.geometries.map(qW).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}}const Ef=e=>new Promise(t=>{const n=new Image;n.onload=()=>t(n),n.src=e}),Lk=(e,t)=>{const n=document.createElement("canvas");n.width=e.width*devicePixelRatio,n.height=e.height*devicePixelRatio,n.style.width=`${e.width}px`,n.style.height=`${e.height}px`;const r=n.getContext("2d");return r.save(),r.fillStyle=t,r.globalAlpha=1,r.fillRect(0,0,n.width,n.height),r.globalCompositeOperation="destination-atop",r.globalAlpha=1,r.drawImage(e,0,0,n.width,n.height),r.restore(),n},qu=(e,t,n,r,i)=>{const o=document.createElement("canvas");o.width=e.width*devicePixelRatio,o.height=e.height*devicePixelRatio,o.style.width=`${e.width}px`,o.style.height=`${e.height}px`;const s=o.getContext("2d");if(s.drawImage(e,0,0,o.width,o.height),t){r&&s.drawImage(Lk(r,i),0,0,o.width,o.height);const a=.5,f=o.width*a,h=o.height*a;s.drawImage(Lk(t,n),(o.width-f)/2,(o.height-h)/2,f,h)}else n&&s.drawImage(Lk(e,n),0,0,o.width,o.height);return s.getImageData(0,0,o.width,o.height)},Zc=e=>{var s;const t=new Set,{layers:n}=e.getStyle();(s=n==null?void 0:n.forEach)==null||s.call(n,a=>{var f,h,g;(g=(h=(f=a.layout)==null?void 0:f["text-font"])==null?void 0:h.forEach)==null||g.call(h,t.add,t)});const r=[...t],i=r.find(a=>a.includes("Regular"));if(i)return[i];const o=r.find(Boolean);return o?[o]:["Roboto Regular"]},eie="/assets/background-53c65562.svg",tie="/assets/direction-2fdacc6e.svg",nie="/assets/background_border-8a78ce76.svg",Q_="/assets/plane-4238c02c.svg",rie="/assets/helicopter-651bc896.svg",iie="/assets/drone1-b9b242c5.svg",yv="/assets/drone2-e1a01f63.svg",oie="/assets/drone3-e4211ef1.svg",aie="/assets/triangle-a6d1e515.svg",sie="/assets/PowerTower1-88c51b2e.svg",lie="/assets/Rectangle-1e58e137.svg",gs="/assets/drone-svgrepo-25350873.svg",g5={0:"#F34C28",1:"#F39A28",2:"#1EC910",3:"#1012C9",4:"#C310C9",5:"#1FDBF1",6:"#F6FD04",7:"#808080"},eb={helicopter:rie,plane:Q_,drone:iie,dji_M210_noetic:yv,dji_M210_melodic:yv,dji_M210_noetic_rtk:yv,dji_M210_melodic_rtk:yv,dji_M300:yv,px4:Q_,catec:oie,fuvex:Q_,default:Q_},cie={helicopter:gs,plane:gs,drone:gs,dji_M210_noetic:gs,dji_M210_melodic:gs,dji_M210_noetic_rtk:gs,dji_M210_melodic_rtk:gs,dji_M300:gs,px4:gs,catec:gs,fuvex:gs,default:gs},zw=e=>eb.hasOwnProperty(e)?e:"default",Ic={},uie=async()=>{const e=await Ef(eie),t=await Ef(nie);Ic.background=await qu(e),Ic.item=await qu(await Ef(aie)),Ic.powerTower=await qu(await Ef(sie)),Ic.base=await qu(await Ef(lie)),Ic.direction=await qu(await Ef(tie)),Object.keys(mh.colors_devices).forEach(async n=>{Ic[`background-${n}`]=await qu(e,null,g5[n]),Ic[`mission-${n}`]=await qu(t,null,g5[n])}),await Promise.all(Object.keys(eb).map(async n=>{const r=[];["primary","positive","negative","neutral"].forEach(i=>{r.push(Ef(eb[n]).then(o=>{Ic[`${n}-${i}`]=qu(e,o,mh.colors[i])}))}),await Promise.all(r)}))};function zc(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function GW(e){if(!zc(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=GW(e[n])}),t}function to(e,t,n={clone:!0}){const r=n.clone?te({},e):e;return zc(e)&&zc(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(zc(t[i])&&i in e&&zc(e[i])?r[i]=to(e[i],t[i],n):n.clone?r[i]=zc(t[i])?GW(t[i]):t[i]:r[i]=t[i])}),r}var HW={exports:{}},die="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",fie=die,hie=fie;function YW(){}function KW(){}KW.resetWarningCache=YW;var pie=function(){function e(r,i,o,s,a,f){if(f!==hie){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:KW,resetWarningCache:YW};return n.PropTypes=n,n};HW.exports=pie();var M$=HW.exports;const On=tr(M$);function Rd(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function ot(e){if(typeof e!="string")throw new Error(Rd(7));return e.charAt(0).toUpperCase()+e.slice(1)}function fA(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function I$(e,t=166){let n;function r(...i){const o=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(o,t)}return r.clear=()=>{clearTimeout(n)},r}function mie(e,t){return()=>null}function W1(e,t){var n,r;return V.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Vi(e){return e&&e.ownerDocument||document}function Dd(e){return Vi(e).defaultView||window}function gie(e,t){return()=>null}function jw(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const yie=typeof window<"u"?V.useLayoutEffect:V.useEffect,Ns=yie;let y5=0;function vie(e){const[t,n]=V.useState(e),r=e||t;return V.useEffect(()=>{t==null&&(y5+=1,n(`mui-${y5}`))},[t]),r}const v5=ow["useId".toString()];function Y2(e){if(v5!==void 0){const t=v5();return e??t}return vie(e)}function bie(e,t,n,r,i){return null}function qm({controlled:e,default:t,name:n,state:r="value"}){const{current:i}=V.useRef(e!==void 0),[o,s]=V.useState(t),a=i?e:o,f=V.useCallback(h=>{i||s(h)},[]);return[a,f]}function ml(e){const t=V.useRef(e);return Ns(()=>{t.current=e}),V.useCallback((...n)=>(0,t.current)(...n),[])}function li(...e){return V.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{jw(n,t)})},e)}let K2=!0,hA=!1,b5;const xie={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function _ie(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&xie[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function wie(e){e.metaKey||e.altKey||e.ctrlKey||(K2=!0)}function Nk(){K2=!1}function Sie(){this.visibilityState==="hidden"&&hA&&(K2=!0)}function Cie(e){e.addEventListener("keydown",wie,!0),e.addEventListener("mousedown",Nk,!0),e.addEventListener("pointerdown",Nk,!0),e.addEventListener("touchstart",Nk,!0),e.addEventListener("visibilitychange",Sie,!0)}function Eie(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return K2||_ie(t)}function Z2(){const e=V.useCallback(i=>{i!=null&&Cie(i.ownerDocument)},[]),t=V.useRef(!1);function n(){return t.current?(hA=!0,window.clearTimeout(b5),b5=window.setTimeout(()=>{hA=!1},100),t.current=!1,!0):!1}function r(i){return Eie(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function ZW(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const Tie=e=>{const t=V.useRef({});return V.useEffect(()=>{t.current=e}),t.current},XW=Tie;function kie(e){return V.Children.toArray(e).filter(t=>V.isValidElement(t))}function $$(e,t){const n=te({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=te({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},o=t[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=te({},o),Object.keys(i).forEach(s=>{n[r][s]=$$(i[s],o[s])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function en(e,t,n=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((o,s)=>{if(s){const a=t(s);a!==""&&o.push(a),n&&n[s]&&o.push(n[s])}return o},[]).join(" ")}),r}const x5=e=>e,Pie=()=>{let e=x5;return{configure(t){e=t},generate(t){return e(t)},reset(){e=x5}}},Oie=Pie(),R$=Oie,Aie={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Xt(e,t,n="Mui"){const r=Aie[t];return r?`${n}-${r}`:`${R$.generate(e)}-${t}`}function tn(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=Xt(e,i,n)}),r}const gh="$$material";function JW(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Mie=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Iie=JW(function(e){return Mie.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function $ie(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Rie(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Die=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Rie(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=$ie(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Io="-ms-",Bw="-moz-",ar="-webkit-",QW="comm",D$="rule",L$="decl",Lie="@import",e9="@keyframes",Nie="@layer",zie=Math.abs,X2=String.fromCharCode,jie=Object.assign;function Bie(e,t){return go(e,0)^45?(((t<<2^go(e,0))<<2^go(e,1))<<2^go(e,2))<<2^go(e,3):0}function t9(e){return e.trim()}function Fie(e,t){return(e=t.exec(e))?e[0]:e}function sr(e,t,n){return e.replace(t,n)}function pA(e,t){return e.indexOf(t)}function go(e,t){return e.charCodeAt(t)|0}function tb(e,t,n){return e.slice(t,n)}function Wl(e){return e.length}function N$(e){return e.length}function e1(e,t){return t.push(e),e}function Uie(e,t){return e.map(t).join("")}var J2=1,Gm=1,n9=0,Oa=0,Oi=0,Ag="";function Q2(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:J2,column:Gm,length:s,return:""}}function vv(e,t){return jie(Q2("",null,null,"",null,null,0),e,{length:-e.length},t)}function Vie(){return Oi}function Wie(){return Oi=Oa>0?go(Ag,--Oa):0,Gm--,Oi===10&&(Gm=1,J2--),Oi}function Ka(){return Oi=Oa<n9?go(Ag,Oa++):0,Gm++,Oi===10&&(Gm=1,J2++),Oi}function tc(){return go(Ag,Oa)}function q1(){return Oa}function rx(e,t){return tb(Ag,e,t)}function nb(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function r9(e){return J2=Gm=1,n9=Wl(Ag=e),Oa=0,[]}function i9(e){return Ag="",e}function G1(e){return t9(rx(Oa-1,mA(e===91?e+2:e===40?e+1:e)))}function qie(e){for(;(Oi=tc())&&Oi<33;)Ka();return nb(e)>2||nb(Oi)>3?"":" "}function Gie(e,t){for(;--t&&Ka()&&!(Oi<48||Oi>102||Oi>57&&Oi<65||Oi>70&&Oi<97););return rx(e,q1()+(t<6&&tc()==32&&Ka()==32))}function mA(e){for(;Ka();)switch(Oi){case e:return Oa;case 34:case 39:e!==34&&e!==39&&mA(Oi);break;case 40:e===41&&mA(e);break;case 92:Ka();break}return Oa}function Hie(e,t){for(;Ka()&&e+Oi!==47+10;)if(e+Oi===42+42&&tc()===47)break;return"/*"+rx(t,Oa-1)+"*"+X2(e===47?e:Ka())}function Yie(e){for(;!nb(tc());)Ka();return rx(e,Oa)}function Kie(e){return i9(H1("",null,null,null,[""],e=r9(e),0,[0],e))}function H1(e,t,n,r,i,o,s,a,f){for(var h=0,g=0,y=s,x=0,P=0,O=0,S=1,A=1,I=1,M=0,k="",$=i,L=o,N=r,F=k;A;)switch(O=M,M=Ka()){case 40:if(O!=108&&go(F,y-1)==58){pA(F+=sr(G1(M),"&","&\f"),"&\f")!=-1&&(I=-1);break}case 34:case 39:case 91:F+=G1(M);break;case 9:case 10:case 13:case 32:F+=qie(O);break;case 92:F+=Gie(q1()-1,7);continue;case 47:switch(tc()){case 42:case 47:e1(Zie(Hie(Ka(),q1()),t,n),f);break;default:F+="/"}break;case 123*S:a[h++]=Wl(F)*I;case 125*S:case 59:case 0:switch(M){case 0:case 125:A=0;case 59+g:I==-1&&(F=sr(F,/\f/g,"")),P>0&&Wl(F)-y&&e1(P>32?w5(F+";",r,n,y-1):w5(sr(F," ","")+";",r,n,y-2),f);break;case 59:F+=";";default:if(e1(N=_5(F,t,n,h,g,i,a,k,$=[],L=[],y),o),M===123)if(g===0)H1(F,t,N,N,$,o,y,a,L);else switch(x===99&&go(F,3)===110?100:x){case 100:case 108:case 109:case 115:H1(e,N,N,r&&e1(_5(e,N,N,0,0,i,a,k,i,$=[],y),L),i,L,y,a,r?$:L);break;default:H1(F,N,N,N,[""],L,0,a,L)}}h=g=P=0,S=I=1,k=F="",y=s;break;case 58:y=1+Wl(F),P=O;default:if(S<1){if(M==123)--S;else if(M==125&&S++==0&&Wie()==125)continue}switch(F+=X2(M),M*S){case 38:I=g>0?1:(F+="\f",-1);break;case 44:a[h++]=(Wl(F)-1)*I,I=1;break;case 64:tc()===45&&(F+=G1(Ka())),x=tc(),g=y=Wl(k=F+=Yie(q1())),M++;break;case 45:O===45&&Wl(F)==2&&(S=0)}}return o}function _5(e,t,n,r,i,o,s,a,f,h,g){for(var y=i-1,x=i===0?o:[""],P=N$(x),O=0,S=0,A=0;O<r;++O)for(var I=0,M=tb(e,y+1,y=zie(S=s[O])),k=e;I<P;++I)(k=t9(S>0?x[I]+" "+M:sr(M,/&\f/g,x[I])))&&(f[A++]=k);return Q2(e,t,n,i===0?D$:a,f,h,g)}function Zie(e,t,n){return Q2(e,t,n,QW,X2(Vie()),tb(e,2,-2),0)}function w5(e,t,n,r){return Q2(e,t,n,L$,tb(e,0,r),tb(e,r+1,-1),r)}function Cm(e,t){for(var n="",r=N$(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Xie(e,t,n,r){switch(e.type){case Nie:if(e.children.length)break;case Lie:case L$:return e.return=e.return||e.value;case QW:return"";case e9:return e.return=e.value+"{"+Cm(e.children,r)+"}";case D$:e.value=e.props.join(",")}return Wl(n=Cm(e.children,r))?e.return=e.value+"{"+n+"}":""}function Jie(e){var t=N$(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function Qie(e){return function(t){t.root||(t=t.return)&&e(t)}}var eoe=function(t,n,r){for(var i=0,o=0;i=o,o=tc(),i===38&&o===12&&(n[r]=1),!nb(o);)Ka();return rx(t,Oa)},toe=function(t,n){var r=-1,i=44;do switch(nb(i)){case 0:i===38&&tc()===12&&(n[r]=1),t[r]+=eoe(Oa-1,n,r);break;case 2:t[r]+=G1(i);break;case 4:if(i===44){t[++r]=tc()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=X2(i)}while(i=Ka());return t},noe=function(t,n){return i9(toe(r9(t),n))},S5=new WeakMap,roe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!S5.get(r))&&!i){S5.set(t,!0);for(var o=[],s=noe(n,o),a=r.props,f=0,h=0;f<s.length;f++)for(var g=0;g<a.length;g++,h++)t.props[h]=o[f]?s[f].replace(/&\f/g,a[g]):a[g]+" "+s[f]}}},ioe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function o9(e,t){switch(Bie(e,t)){case 5103:return ar+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ar+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ar+e+Bw+e+Io+e+e;case 6828:case 4268:return ar+e+Io+e+e;case 6165:return ar+e+Io+"flex-"+e+e;case 5187:return ar+e+sr(e,/(\w+).+(:[^]+)/,ar+"box-$1$2"+Io+"flex-$1$2")+e;case 5443:return ar+e+Io+"flex-item-"+sr(e,/flex-|-self/,"")+e;case 4675:return ar+e+Io+"flex-line-pack"+sr(e,/align-content|flex-|-self/,"")+e;case 5548:return ar+e+Io+sr(e,"shrink","negative")+e;case 5292:return ar+e+Io+sr(e,"basis","preferred-size")+e;case 6060:return ar+"box-"+sr(e,"-grow","")+ar+e+Io+sr(e,"grow","positive")+e;case 4554:return ar+sr(e,/([^-])(transform)/g,"$1"+ar+"$2")+e;case 6187:return sr(sr(sr(e,/(zoom-|grab)/,ar+"$1"),/(image-set)/,ar+"$1"),e,"")+e;case 5495:case 3959:return sr(e,/(image-set\([^]*)/,ar+"$1$`$1");case 4968:return sr(sr(e,/(.+:)(flex-)?(.*)/,ar+"box-pack:$3"+Io+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ar+e+e;case 4095:case 3583:case 4068:case 2532:return sr(e,/(.+)-inline(.+)/,ar+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Wl(e)-1-t>6)switch(go(e,t+1)){case 109:if(go(e,t+4)!==45)break;case 102:return sr(e,/(.+:)(.+)-([^]+)/,"$1"+ar+"$2-$3$1"+Bw+(go(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~pA(e,"stretch")?o9(sr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(go(e,t+1)!==115)break;case 6444:switch(go(e,Wl(e)-3-(~pA(e,"!important")&&10))){case 107:return sr(e,":",":"+ar)+e;case 101:return sr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ar+(go(e,14)===45?"inline-":"")+"box$3$1"+ar+"$2$3$1"+Io+"$2box$3")+e}break;case 5936:switch(go(e,t+11)){case 114:return ar+e+Io+sr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ar+e+Io+sr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ar+e+Io+sr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ar+e+Io+e+e}return e}var ooe=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case L$:t.return=o9(t.value,t.length);break;case e9:return Cm([vv(t,{value:sr(t.value,"@","@"+ar)})],i);case D$:if(t.length)return Uie(t.props,function(o){switch(Fie(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Cm([vv(t,{props:[sr(o,/:(read-\w+)/,":"+Bw+"$1")]})],i);case"::placeholder":return Cm([vv(t,{props:[sr(o,/:(plac\w+)/,":"+ar+"input-$1")]}),vv(t,{props:[sr(o,/:(plac\w+)/,":"+Bw+"$1")]}),vv(t,{props:[sr(o,/:(plac\w+)/,Io+"input-$1")]})],i)}return""})}},aoe=[ooe],a9=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(S){var A=S.getAttribute("data-emotion");A.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var i=t.stylisPlugins||aoe,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(S){for(var A=S.getAttribute("data-emotion").split(" "),I=1;I<A.length;I++)o[A[I]]=!0;a.push(S)});var f,h=[roe,ioe];{var g,y=[Xie,Qie(function(S){g.insert(S)})],x=Jie(h.concat(i,y)),P=function(A){return Cm(Kie(A),x)};f=function(A,I,M,k){g=M,P(A?A+"{"+I.styles+"}":I.styles),k&&(O.inserted[I.name]=!0)}}var O={key:n,sheet:new Die({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:f};return O.sheet.hydrate(a),O},soe=!0;function loe(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var s9=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||soe===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},l9=function(t,n,r){s9(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function coe(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var uoe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},doe=/[A-Z]|^ms/g,foe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,c9=function(t){return t.charCodeAt(1)===45},C5=function(t){return t!=null&&typeof t!="boolean"},zk=JW(function(e){return c9(e)?e:e.replace(doe,"-$&").toLowerCase()}),E5=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(foe,function(r,i,o){return ql={name:i,styles:o,next:ql},i})}return uoe[t]!==1&&!c9(t)&&typeof n=="number"&&n!==0?n+"px":n};function rb(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return ql={name:n.name,styles:n.styles,next:ql},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)ql={name:r.name,styles:r.styles,next:ql},r=r.next;var i=n.styles+";";return i}return hoe(e,t,n)}case"function":{if(e!==void 0){var o=ql,s=n(e);return ql=o,rb(e,t,s)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function hoe(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=rb(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")t!=null&&t[s]!==void 0?r+=o+"{"+t[s]+"}":C5(s)&&(r+=zk(o)+":"+E5(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var a=0;a<s.length;a++)C5(s[a])&&(r+=zk(o)+":"+E5(o,s[a])+";");else{var f=rb(e,t,s);switch(o){case"animation":case"animationName":{r+=zk(o)+":"+f+";";break}default:r+=o+"{"+f+"}"}}}return r}var T5=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ql,z$=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";ql=void 0;var s=t[0];s==null||s.raw===void 0?(i=!1,o+=rb(r,n,s)):o+=s[0];for(var a=1;a<t.length;a++)o+=rb(r,n,t[a]),i&&(o+=s[a]);T5.lastIndex=0;for(var f="",h;(h=T5.exec(o))!==null;)f+="-"+h[1];var g=coe(o)+f;return{name:g,styles:o,next:ql}},poe=function(t){return t()},u9=ow["useInsertionEffect"]?ow["useInsertionEffect"]:!1,moe=u9||poe,k5=u9||V.useLayoutEffect,d9=V.createContext(typeof HTMLElement<"u"?a9({key:"css"}):null),goe=d9.Provider,f9=function(t){return V.forwardRef(function(n,r){var i=V.useContext(d9);return t(n,i,r)})},eC=V.createContext({}),yoe=f9(function(e,t){var n=e.styles,r=z$([n],void 0,V.useContext(eC)),i=V.useRef();return k5(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,f=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),f!==null&&(a=!0,f.setAttribute("data-emotion",o),s.hydrate([f])),i.current=[s,a],function(){s.flush()}},[t]),k5(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&l9(t,r.next,!0),s.tags.length){var f=s.tags[s.tags.length-1].nextElementSibling;s.before=f,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function voe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return z$(t)}var j$=function(){var t=voe.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},boe=Iie,xoe=function(t){return t!=="theme"},P5=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?boe:xoe},O5=function(t,n,r){var i;if(n){var o=n.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},_oe=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return s9(n,r,i),moe(function(){return l9(n,r,i)}),null},woe=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,s;n!==void 0&&(o=n.label,s=n.target);var a=O5(t,n,r),f=a||P5(i),h=!f("as");return function(){var g=arguments,y=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&y.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)y.push.apply(y,g);else{y.push(g[0][0]);for(var x=g.length,P=1;P<x;P++)y.push(g[P],g[0][P])}var O=f9(function(S,A,I){var M=h&&S.as||i,k="",$=[],L=S;if(S.theme==null){L={};for(var N in S)L[N]=S[N];L.theme=V.useContext(eC)}typeof S.className=="string"?k=loe(A.registered,$,S.className):S.className!=null&&(k=S.className+" ");var F=z$(y.concat($),A.registered,L);k+=A.key+"-"+F.name,s!==void 0&&(k+=" "+s);var G=h&&a===void 0?P5(M):f,J={};for(var ee in S)h&&ee==="as"||G(ee)&&(J[ee]=S[ee]);return J.className=k,J.ref=I,V.createElement(V.Fragment,null,V.createElement(_oe,{cache:A,serialized:F,isStringTag:typeof M=="string"}),V.createElement(M,J))});return O.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",O.defaultProps=t.defaultProps,O.__emotion_real=O,O.__emotion_base=i,O.__emotion_styles=y,O.__emotion_forwardProp=a,Object.defineProperty(O,"toString",{value:function(){return"."+s}}),O.withComponent=function(S,A){return e(S,te({},n,A,{shouldForwardProp:O5(O,A,!0)})).apply(void 0,y)},O}},Soe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],gA=woe.bind();Soe.forEach(function(e){gA[e]=gA(e)});let yA;typeof document=="object"&&(yA=a9({key:"css",prepend:!0}));function Coe(e){const{injectFirst:t,children:n}=e;return t&&yA?z.jsx(goe,{value:yA,children:n}):n}function Eoe(e){return e==null||Object.keys(e).length===0}function Toe(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(Eoe(i)?n:i):t;return z.jsx(yoe,{styles:r})}/**
 * @mui/styled-engine v5.14.14
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function h9(e,t){return gA(e,t)}const koe=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Poe=["values","unit","step"],Ooe=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>te({},n,{[r.key]:r.val}),{})};function Aoe(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=mt(e,Poe),o=Ooe(t),s=Object.keys(o);function a(x){return`@media (min-width:${typeof t[x]=="number"?t[x]:x}${n})`}function f(x){return`@media (max-width:${(typeof t[x]=="number"?t[x]:x)-r/100}${n})`}function h(x,P){const O=s.indexOf(P);return`@media (min-width:${typeof t[x]=="number"?t[x]:x}${n}) and (max-width:${(O!==-1&&typeof t[s[O]]=="number"?t[s[O]]:P)-r/100}${n})`}function g(x){return s.indexOf(x)+1<s.length?h(x,s[s.indexOf(x)+1]):a(x)}function y(x){const P=s.indexOf(x);return P===0?a(s[1]):P===s.length-1?f(s[P]):h(x,s[s.indexOf(x)+1]).replace("@media","@media not all and")}return te({keys:s,values:o,up:a,down:f,between:h,only:g,not:y,unit:n},i)}const Moe={borderRadius:4},Ioe=Moe;function m0(e,t){return t?to(e,t,{clone:!1}):e}const B$={xs:0,sm:600,md:900,lg:1200,xl:1536},A5={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${B$[e]}px)`};function Aa(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const o=r.breakpoints||A5;return t.reduce((s,a,f)=>(s[o.up(o.keys[f])]=n(t[f]),s),{})}if(typeof t=="object"){const o=r.breakpoints||A5;return Object.keys(t).reduce((s,a)=>{if(Object.keys(o.values||B$).indexOf(a)!==-1){const f=o.up(a);s[f]=n(t[a],a)}else{const f=a;s[f]=t[f]}return s},{})}return n(t)}function p9(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,i)=>{const o=e.up(i);return r[o]={},r},{}))||{}}function m9(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function $oe(e,...t){const n=p9(e),r=[n,...t].reduce((i,o)=>to(i,o),{});return m9(Object.keys(n),r)}function Roe(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,o)=>{o<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function eh({values:e,breakpoints:t,base:n}){const r=n||Roe(e,t),i=Object.keys(r);if(i.length===0)return e;let o;return i.reduce((s,a,f)=>(Array.isArray(e)?(s[a]=e[f]!=null?e[f]:e[o],o=f):typeof e=="object"?(s[a]=e[a]!=null?e[a]:e[o],o=a):s[a]=e,s),{})}function Hm(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Fw(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=Hm(e,n)||r,t&&(i=t(i,r,e)),i}function ur(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=s=>{if(s[t]==null)return null;const a=s[t],f=s.theme,h=Hm(f,r)||{};return Aa(s,a,y=>{let x=Fw(h,i,y);return y===x&&typeof y=="string"&&(x=Fw(h,i,`${t}${y==="default"?"":ot(y)}`,y)),n===!1?x:{[n]:x}})};return o.propTypes={},o.filterProps=[t],o}function Doe(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const Loe={m:"margin",p:"padding"},Noe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},M5={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},zoe=Doe(e=>{if(e.length>2)if(M5[e])e=M5[e];else return[e];const[t,n]=e.split(""),r=Loe[t],i=Noe[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),F$=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],U$=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...F$,...U$];function ix(e,t,n,r){var i;const o=(i=Hm(e,t,!1))!=null?i:n;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function V$(e){return ix(e,"spacing",8)}function yh(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function joe(e,t){return n=>e.reduce((r,i)=>(r[i]=yh(t,n),r),{})}function Boe(e,t,n,r){if(t.indexOf(n)===-1)return null;const i=zoe(n),o=joe(i,r),s=e[n];return Aa(e,s,o)}function g9(e,t){const n=V$(e.theme);return Object.keys(e).map(r=>Boe(e,t,r,n)).reduce(m0,{})}function fi(e){return g9(e,F$)}fi.propTypes={};fi.filterProps=F$;function hi(e){return g9(e,U$)}hi.propTypes={};hi.filterProps=U$;function Foe(e=8){if(e.mui)return e;const t=V$({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=t(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function tC(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>t[o]?m0(i,t[o](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Yl(e){return typeof e!="number"?e:`${e}px solid`}const Uoe=ur({prop:"border",themeKey:"borders",transform:Yl}),Voe=ur({prop:"borderTop",themeKey:"borders",transform:Yl}),Woe=ur({prop:"borderRight",themeKey:"borders",transform:Yl}),qoe=ur({prop:"borderBottom",themeKey:"borders",transform:Yl}),Goe=ur({prop:"borderLeft",themeKey:"borders",transform:Yl}),Hoe=ur({prop:"borderColor",themeKey:"palette"}),Yoe=ur({prop:"borderTopColor",themeKey:"palette"}),Koe=ur({prop:"borderRightColor",themeKey:"palette"}),Zoe=ur({prop:"borderBottomColor",themeKey:"palette"}),Xoe=ur({prop:"borderLeftColor",themeKey:"palette"}),nC=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=ix(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:yh(t,r)});return Aa(e,e.borderRadius,n)}return null};nC.propTypes={};nC.filterProps=["borderRadius"];tC(Uoe,Voe,Woe,qoe,Goe,Hoe,Yoe,Koe,Zoe,Xoe,nC);const rC=e=>{if(e.gap!==void 0&&e.gap!==null){const t=ix(e.theme,"spacing",8),n=r=>({gap:yh(t,r)});return Aa(e,e.gap,n)}return null};rC.propTypes={};rC.filterProps=["gap"];const iC=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=ix(e.theme,"spacing",8),n=r=>({columnGap:yh(t,r)});return Aa(e,e.columnGap,n)}return null};iC.propTypes={};iC.filterProps=["columnGap"];const oC=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=ix(e.theme,"spacing",8),n=r=>({rowGap:yh(t,r)});return Aa(e,e.rowGap,n)}return null};oC.propTypes={};oC.filterProps=["rowGap"];const Joe=ur({prop:"gridColumn"}),Qoe=ur({prop:"gridRow"}),eae=ur({prop:"gridAutoFlow"}),tae=ur({prop:"gridAutoColumns"}),nae=ur({prop:"gridAutoRows"}),rae=ur({prop:"gridTemplateColumns"}),iae=ur({prop:"gridTemplateRows"}),oae=ur({prop:"gridTemplateAreas"}),aae=ur({prop:"gridArea"});tC(rC,iC,oC,Joe,Qoe,eae,tae,nae,rae,iae,oae,aae);function Em(e,t){return t==="grey"?t:e}const sae=ur({prop:"color",themeKey:"palette",transform:Em}),lae=ur({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Em}),cae=ur({prop:"backgroundColor",themeKey:"palette",transform:Em});tC(sae,lae,cae);function Wa(e){return e<=1&&e!==0?`${e*100}%`:e}const uae=ur({prop:"width",transform:Wa}),W$=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,i;const o=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||B$[n];return o?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Wa(n)}};return Aa(e,e.maxWidth,t)}return null};W$.filterProps=["maxWidth"];const dae=ur({prop:"minWidth",transform:Wa}),fae=ur({prop:"height",transform:Wa}),hae=ur({prop:"maxHeight",transform:Wa}),pae=ur({prop:"minHeight",transform:Wa});ur({prop:"size",cssProperty:"width",transform:Wa});ur({prop:"size",cssProperty:"height",transform:Wa});const mae=ur({prop:"boxSizing"});tC(uae,W$,dae,fae,hae,pae,mae);const gae={border:{themeKey:"borders",transform:Yl},borderTop:{themeKey:"borders",transform:Yl},borderRight:{themeKey:"borders",transform:Yl},borderBottom:{themeKey:"borders",transform:Yl},borderLeft:{themeKey:"borders",transform:Yl},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:nC},color:{themeKey:"palette",transform:Em},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Em},backgroundColor:{themeKey:"palette",transform:Em},p:{style:hi},pt:{style:hi},pr:{style:hi},pb:{style:hi},pl:{style:hi},px:{style:hi},py:{style:hi},padding:{style:hi},paddingTop:{style:hi},paddingRight:{style:hi},paddingBottom:{style:hi},paddingLeft:{style:hi},paddingX:{style:hi},paddingY:{style:hi},paddingInline:{style:hi},paddingInlineStart:{style:hi},paddingInlineEnd:{style:hi},paddingBlock:{style:hi},paddingBlockStart:{style:hi},paddingBlockEnd:{style:hi},m:{style:fi},mt:{style:fi},mr:{style:fi},mb:{style:fi},ml:{style:fi},mx:{style:fi},my:{style:fi},margin:{style:fi},marginTop:{style:fi},marginRight:{style:fi},marginBottom:{style:fi},marginLeft:{style:fi},marginX:{style:fi},marginY:{style:fi},marginInline:{style:fi},marginInlineStart:{style:fi},marginInlineEnd:{style:fi},marginBlock:{style:fi},marginBlockStart:{style:fi},marginBlockEnd:{style:fi},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:rC},rowGap:{style:oC},columnGap:{style:iC},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Wa},maxWidth:{style:W$},minWidth:{transform:Wa},height:{transform:Wa},maxHeight:{transform:Wa},minHeight:{transform:Wa},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},aC=gae;function yae(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function vae(e,t){return typeof e=="function"?e(t):e}function bae(){function e(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:f=n,themeKey:h,transform:g,style:y}=a;if(r==null)return null;if(h==="typography"&&r==="inherit")return{[n]:r};const x=Hm(i,h)||{};return y?y(s):Aa(s,r,O=>{let S=Fw(x,g,O);return O===S&&typeof O=="string"&&(S=Fw(x,g,`${n}${O==="default"?"":ot(O)}`,O)),f===!1?S:{[f]:S}})}function t(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:aC;function a(f){let h=f;if(typeof f=="function")h=f(o);else if(typeof f!="object")return f;if(!h)return null;const g=p9(o.breakpoints),y=Object.keys(g);let x=g;return Object.keys(h).forEach(P=>{const O=vae(h[P],o);if(O!=null)if(typeof O=="object")if(s[P])x=m0(x,e(P,O,o,s));else{const S=Aa({theme:o},O,A=>({[P]:A}));yae(S,O)?x[P]=t({sx:O,theme:o}):x=m0(x,S)}else x=m0(x,e(P,O,o,s))}),m9(y,x)}return Array.isArray(i)?i.map(a):a(i)}return t}const y9=bae();y9.filterProps=["sx"];const sC=y9,xae=["breakpoints","palette","spacing","shape"];function ox(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=e,s=mt(e,xae),a=Aoe(n),f=Foe(i);let h=to({breakpoints:a,direction:"ltr",components:{},palette:te({mode:"light"},r),spacing:f,shape:te({},Ioe,o)},s);return h=t.reduce((g,y)=>to(g,y),h),h.unstable_sxConfig=te({},aC,s==null?void 0:s.unstable_sxConfig),h.unstable_sx=function(y){return sC({sx:y,theme:this})},h}function _ae(e){return Object.keys(e).length===0}function q$(e=null){const t=V.useContext(eC);return!t||_ae(t)?e:t}const wae=ox();function lC(e=wae){return q$(e)}function Sae({styles:e,themeId:t,defaultTheme:n={}}){const r=lC(n),i=typeof e=="function"?e(t&&r[t]||r):e;return z.jsx(Toe,{styles:i})}const Cae=["sx"],Eae=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:aC;return Object.keys(e).forEach(o=>{i[o]?r.systemProps[o]=e[o]:r.otherProps[o]=e[o]}),r};function cC(e){const{sx:t}=e,n=mt(e,Cae),{systemProps:r,otherProps:i}=Eae(n);let o;return Array.isArray(t)?o=[r,...t]:typeof t=="function"?o=(...s)=>{const a=t(...s);return zc(a)?te({},r,a):r}:o=te({},r,t),te({},i,{sx:o})}function v9(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=v9(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Pt(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=v9(e))&&(r&&(r+=" "),r+=t);return r}const Tae=["className","component"];function kae(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,o=h9("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(sC);return V.forwardRef(function(f,h){const g=lC(n),y=cC(f),{className:x,component:P="div"}=y,O=mt(y,Tae);return z.jsx(o,te({as:P,ref:h,className:Pt(x,i?i(r):r),theme:t&&g[t]||g},O))})}const Pae=["variant"];function I5(e){return e.length===0}function b9(e){const{variant:t}=e,n=mt(e,Pae);let r=t||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=I5(r)?e[i]:ot(e[i]):r+=`${I5(r)?i:ot(i)}${ot(e[i].toString())}`}),r}const Oae=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Aae(e){return Object.keys(e).length===0}function Mae(e){return typeof e=="string"&&e.charCodeAt(0)>96}const Iae=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,Uw=e=>{const t={};return e&&e.forEach(n=>{const r=b9(n.props);t[r]=n.style}),t},$ae=(e,t)=>{let n=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants),Uw(n)},Vw=(e,t,n)=>{const{ownerState:r={}}=e,i=[];return n&&n.forEach(o=>{let s=!0;Object.keys(o.props).forEach(a=>{r[a]!==o.props[a]&&e[a]!==o.props[a]&&(s=!1)}),s&&i.push(t[b9(o.props)])}),i},Rae=(e,t,n,r)=>{var i;const o=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return Vw(e,t,o)};function g0(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Dae=ox(),Lae=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function Y1({defaultTheme:e,theme:t,themeId:n}){return Aae(t)?e:t[n]||t}function Nae(e){return e?(t,n)=>n[e]:null}const $5=({styledArg:e,props:t,defaultTheme:n,themeId:r})=>{const i=e(te({},t,{theme:Y1(te({},t,{defaultTheme:n,themeId:r}))}));let o;if(i&&i.variants&&(o=i.variants,delete i.variants),o){const s=Vw(t,Uw(o),o);return[i,...s]}return i};function x9(e={}){const{themeId:t,defaultTheme:n=Dae,rootShouldForwardProp:r=g0,slotShouldForwardProp:i=g0}=e,o=s=>sC(te({},s,{theme:Y1(te({},s,{defaultTheme:n,themeId:t}))}));return o.__mui_systemSx=!0,(s,a={})=>{koe(s,$=>$.filter(L=>!(L!=null&&L.__mui_systemSx)));const{name:f,slot:h,skipVariantsResolver:g,skipSx:y,overridesResolver:x=Nae(Lae(h))}=a,P=mt(a,Oae),O=g!==void 0?g:h&&h!=="Root"&&h!=="root"||!1,S=y||!1;let A,I=g0;h==="Root"||h==="root"?I=r:h?I=i:Mae(s)&&(I=void 0);const M=h9(s,te({shouldForwardProp:I,label:A},P)),k=($,...L)=>{const N=L?L.map(ee=>{if(typeof ee=="function"&&ee.__emotion_real!==ee)return ae=>$5({styledArg:ee,props:ae,defaultTheme:n,themeId:t});if(zc(ee)){let ae=ee,pe;return ee&&ee.variants&&(pe=ee.variants,delete ae.variants,ae=ye=>{let we=ee;return Vw(ye,Uw(pe),pe).forEach(Oe=>{we=to(we,Oe)}),we}),ae}return ee}):[];let F=$;if(zc($)){let ee;$&&$.variants&&(ee=$.variants,delete F.variants,F=ae=>{let pe=$;return Vw(ae,Uw(ee),ee).forEach(we=>{pe=to(pe,we)}),pe})}else typeof $=="function"&&$.__emotion_real!==$&&(F=ee=>$5({styledArg:$,props:ee,defaultTheme:n,themeId:t}));f&&x&&N.push(ee=>{const ae=Y1(te({},ee,{defaultTheme:n,themeId:t})),pe=Iae(f,ae);if(pe){const ye={};return Object.entries(pe).forEach(([we,Ce])=>{ye[we]=typeof Ce=="function"?Ce(te({},ee,{theme:ae})):Ce}),x(ee,ye)}return null}),f&&!O&&N.push(ee=>{const ae=Y1(te({},ee,{defaultTheme:n,themeId:t}));return Rae(ee,$ae(f,ae),ae,f)}),S||N.push(o);const G=N.length-L.length;if(Array.isArray($)&&G>0){const ee=new Array(G).fill("");F=[...$,...ee],F.raw=[...$.raw,...ee]}const J=M(F,...N);return s.muiName&&(J.muiName=s.muiName),J};return M.withConfig&&(k.withConfig=M.withConfig),k}}const zae=x9(),_9=zae;function jae(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:$$(t.components[n].defaultProps,r)}function G$({props:e,name:t,defaultTheme:n,themeId:r}){let i=lC(n);return r&&(i=i[r]||i),jae({theme:i,name:t,props:e})}function H$(e,t=0,n=1){return Math.min(Math.max(t,e),n)}function Bae(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function vh(e){if(e.type)return e;if(e.charAt(0)==="#")return vh(Bae(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Rd(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Rd(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}function uC(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function Fae(e){e=vh(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=(h,g=(h+n/30)%12)=>i-o*Math.max(Math.min(g-3,9-g,1),-1);let a="rgb";const f=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(a+="a",f.push(t[3])),uC({type:a,values:f})}function vA(e){e=vh(e);let t=e.type==="hsl"||e.type==="hsla"?vh(Fae(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Uae(e,t){const n=vA(e),r=vA(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Cr(e,t){return e=vh(e),t=H$(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,uC(e)}function dC(e,t){if(e=vh(e),t=H$(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return uC(e)}function fC(e,t){if(e=vh(e),t=H$(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return uC(e)}function Vae(e,t=.15){return vA(e)>.5?dC(e,t):fC(e,t)}const Wae=V.createContext(null),w9=Wae;function Y$(){return V.useContext(w9)}const qae=typeof Symbol=="function"&&Symbol.for,S9=qae?Symbol.for("mui.nested"):"__THEME_NESTED__";function Gae(e,t){return typeof t=="function"?t(e):te({},e,t)}function Hae(e){const{children:t,theme:n}=e,r=Y$(),i=V.useMemo(()=>{const o=r===null?n:Gae(r,n);return o!=null&&(o[S9]=r!==null),o},[n,r]);return z.jsx(w9.Provider,{value:i,children:t})}const R5={};function D5(e,t,n,r=!1){return V.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const o=n(i),s=e?te({},t,{[e]:o}):o;return r?()=>s:s}return e?te({},t,{[e]:n}):te({},t,n)},[e,t,n,r])}function Yae(e){const{children:t,theme:n,themeId:r}=e,i=q$(R5),o=Y$()||R5,s=D5(r,i,n),a=D5(r,o,n,!0);return z.jsx(Hae,{theme:a,children:z.jsx(eC.Provider,{value:s,children:t})})}const Kae=["className","component","disableGutters","fixed","maxWidth","classes"],Zae=ox(),Xae=_9("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${ot(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),Jae=e=>G$({props:e,name:"MuiContainer",defaultTheme:Zae}),Qae=(e,t)=>{const n=f=>Xt(t,f),{classes:r,fixed:i,disableGutters:o,maxWidth:s}=e,a={root:["root",s&&`maxWidth${ot(String(s))}`,i&&"fixed",o&&"disableGutters"]};return en(a,n,r)};function ese(e={}){const{createStyledComponent:t=Xae,useThemeProps:n=Jae,componentName:r="MuiContainer"}=e,i=t(({theme:s,ownerState:a})=>te({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((f,h)=>{const g=h,y=s.breakpoints.values[g];return y!==0&&(f[s.breakpoints.up(g)]={maxWidth:`${y}${s.breakpoints.unit}`}),f},{}),({theme:s,ownerState:a})=>te({},a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}));return V.forwardRef(function(a,f){const h=n(a),{className:g,component:y="div",disableGutters:x=!1,fixed:P=!1,maxWidth:O="lg"}=h,S=mt(h,Kae),A=te({},h,{component:y,disableGutters:x,fixed:P,maxWidth:O}),I=Qae(A,r);return z.jsx(i,te({as:y,ownerState:A,className:Pt(I.root,g),ref:f},S))})}const tse=["component","direction","spacing","divider","children","className","useFlexGap"],nse=ox(),rse=_9("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function ise(e){return G$({props:e,name:"MuiStack",defaultTheme:nse})}function ose(e,t){const n=V.Children.toArray(e).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(V.cloneElement(t,{key:`separator-${o}`})),r),[])}const ase=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],sse=({ownerState:e,theme:t})=>{let n=te({display:"flex",flexDirection:"column"},Aa({theme:t},eh({values:e.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r})));if(e.spacing){const r=V$(t),i=Object.keys(t.breakpoints.values).reduce((f,h)=>((typeof e.spacing=="object"&&e.spacing[h]!=null||typeof e.direction=="object"&&e.direction[h]!=null)&&(f[h]=!0),f),{}),o=eh({values:e.direction,base:i}),s=eh({values:e.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((f,h,g)=>{if(!o[f]){const x=h>0?o[g[h-1]]:"column";o[f]=x}}),n=to(n,Aa({theme:t},s,(f,h)=>e.useFlexGap?{gap:yh(r,f)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${ase(h?o[h]:e.direction)}`]:yh(r,f)}}))}return n=$oe(t.breakpoints,n),n};function lse(e={}){const{createStyledComponent:t=rse,useThemeProps:n=ise,componentName:r="MuiStack"}=e,i=()=>en({root:["root"]},f=>Xt(r,f),{}),o=t(sse);return V.forwardRef(function(f,h){const g=n(f),y=cC(g),{component:x="div",direction:P="column",spacing:O=0,divider:S,children:A,className:I,useFlexGap:M=!1}=y,k=mt(y,tse),$={direction:P,spacing:O,useFlexGap:M},L=i();return z.jsx(o,te({as:x,ownerState:$,ref:h,className:Pt(L.root,I)},k,{children:S?ose(A,S):A}))})}function cse(e,t){return te({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const use=["mode","contrastThreshold","tonalOffset"],L5={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ph.white,default:ph.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},jk={text:{primary:ph.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ph.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function N5(e,t,n,r){const i=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=fC(e.main,i):t==="dark"&&(e.dark=dC(e.main,o)))}function dse(e="light"){return e==="dark"?{main:Tp[200],light:Tp[50],dark:Tp[400]}:{main:Tp[700],light:Tp[400],dark:Tp[800]}}function fse(e="light"){return e==="dark"?{main:Ep[200],light:Ep[50],dark:Ep[400]}:{main:Ep[500],light:Ep[300],dark:Ep[700]}}function hse(e="light"){return e==="dark"?{main:Lc[500],light:Lc[300],dark:Lc[700]}:{main:Lc[700],light:Lc[400],dark:Lc[800]}}function pse(e="light"){return e==="dark"?{main:kp[400],light:kp[300],dark:kp[700]}:{main:kp[700],light:kp[500],dark:kp[900]}}function mse(e="light"){return e==="dark"?{main:ul[400],light:ul[300],dark:ul[700]}:{main:ul[800],light:ul[500],dark:ul[900]}}function gse(e="light"){return e==="dark"?{main:mv[400],light:mv[300],dark:mv[700]}:{main:"#ed6c02",light:mv[500],dark:mv[900]}}function yse(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=mt(e,use),o=e.primary||dse(t),s=e.secondary||fse(t),a=e.error||hse(t),f=e.info||pse(t),h=e.success||mse(t),g=e.warning||gse(t);function y(S){return Uae(S,jk.text.primary)>=n?jk.text.primary:L5.text.primary}const x=({color:S,name:A,mainShade:I=500,lightShade:M=300,darkShade:k=700})=>{if(S=te({},S),!S.main&&S[I]&&(S.main=S[I]),!S.hasOwnProperty("main"))throw new Error(Rd(11,A?` (${A})`:"",I));if(typeof S.main!="string")throw new Error(Rd(12,A?` (${A})`:"",JSON.stringify(S.main)));return N5(S,"light",M,r),N5(S,"dark",k,r),S.contrastText||(S.contrastText=y(S.main)),S},P={dark:jk,light:L5};return to(te({common:te({},ph),mode:t,primary:x({color:o,name:"primary"}),secondary:x({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:x({color:a,name:"error"}),warning:x({color:g,name:"warning"}),info:x({color:f,name:"info"}),success:x({color:h,name:"success"}),grey:ec,contrastThreshold:n,getContrastText:y,augmentColor:x,tonalOffset:r},P[t]),i)}const vse=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function bse(e){return Math.round(e*1e5)/1e5}const z5={textTransform:"uppercase"},j5='"Roboto", "Helvetica", "Arial", sans-serif';function xse(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=j5,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:f=700,htmlFontSize:h=16,allVariants:g,pxToRem:y}=n,x=mt(n,vse),P=i/14,O=y||(I=>`${I/h*P}rem`),S=(I,M,k,$,L)=>te({fontFamily:r,fontWeight:I,fontSize:O(M),lineHeight:k},r===j5?{letterSpacing:`${bse($/M)}em`}:{},L,g),A={h1:S(o,96,1.167,-1.5),h2:S(o,60,1.2,-.5),h3:S(s,48,1.167,0),h4:S(s,34,1.235,.25),h5:S(s,24,1.334,0),h6:S(a,20,1.6,.15),subtitle1:S(s,16,1.75,.15),subtitle2:S(a,14,1.57,.1),body1:S(s,16,1.5,.15),body2:S(s,14,1.43,.15),button:S(a,14,1.75,.4,z5),caption:S(s,12,1.66,.4),overline:S(s,12,2.66,1,z5),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return to(te({htmlFontSize:h,pxToRem:O,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:f},A),x,{clone:!1})}const _se=.2,wse=.14,Sse=.12;function qr(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${_se})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${wse})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Sse})`].join(",")}const Cse=["none",qr(0,2,1,-1,0,1,1,0,0,1,3,0),qr(0,3,1,-2,0,2,2,0,0,1,5,0),qr(0,3,3,-2,0,3,4,0,0,1,8,0),qr(0,2,4,-1,0,4,5,0,0,1,10,0),qr(0,3,5,-1,0,5,8,0,0,1,14,0),qr(0,3,5,-1,0,6,10,0,0,1,18,0),qr(0,4,5,-2,0,7,10,1,0,2,16,1),qr(0,5,5,-3,0,8,10,1,0,3,14,2),qr(0,5,6,-3,0,9,12,1,0,3,16,2),qr(0,6,6,-3,0,10,14,1,0,4,18,3),qr(0,6,7,-4,0,11,15,1,0,4,20,3),qr(0,7,8,-4,0,12,17,2,0,5,22,4),qr(0,7,8,-4,0,13,19,2,0,5,24,4),qr(0,7,9,-4,0,14,21,2,0,5,26,4),qr(0,8,9,-5,0,15,22,2,0,6,28,5),qr(0,8,10,-5,0,16,24,2,0,6,30,5),qr(0,8,11,-5,0,17,26,2,0,6,32,5),qr(0,9,11,-5,0,18,28,2,0,7,34,6),qr(0,9,12,-6,0,19,29,2,0,7,36,6),qr(0,10,13,-6,0,20,31,3,0,8,38,7),qr(0,10,13,-6,0,21,33,3,0,8,40,7),qr(0,10,14,-6,0,22,35,3,0,8,42,7),qr(0,11,14,-7,0,23,36,3,0,9,44,8),qr(0,11,15,-7,0,24,38,3,0,9,46,8)],Ese=Cse,Tse=["duration","easing","delay"],kse={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},C9={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function B5(e){return`${Math.round(e)}ms`}function Pse(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function Ose(e){const t=te({},kse,e.easing),n=te({},C9,e.duration);return te({getAutoHeightDuration:Pse,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=t.easeInOut,delay:f=0}=o;return mt(o,Tse),(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof s=="string"?s:B5(s)} ${a} ${typeof f=="string"?f:B5(f)}`).join(",")}},e,{easing:t,duration:n})}const Ase={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Mse=Ase,Ise=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function K$(e={},...t){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=e,s=mt(e,Ise);if(e.vars)throw new Error(Rd(18));const a=yse(r),f=ox(e);let h=to(f,{mixins:cse(f.breakpoints,n),palette:a,shadows:Ese.slice(),typography:xse(a,o),transitions:Ose(i),zIndex:te({},Mse)});return h=to(h,s),h=t.reduce((g,y)=>to(g,y),h),h.unstable_sxConfig=te({},aC,s==null?void 0:s.unstable_sxConfig),h.unstable_sx=function(y){return sC({sx:y,theme:this})},h}const $se=K$(),hC=$se;function mu(){const e=lC(hC);return e[gh]||e}function nn({props:e,name:t}){return G$({props:e,name:t,defaultTheme:hC,themeId:gh})}const Vs=e=>g0(e)&&e!=="classes",Rse=g0,Dse=x9({themeId:gh,defaultTheme:hC,rootShouldForwardProp:Vs}),lt=Dse,Lse=["theme"];function Nse(e){let{theme:t}=e,n=mt(e,Lse);const r=t[gh];return z.jsx(Yae,te({},n,{themeId:r?gh:void 0,theme:r||t}))}const zse=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)},F5=zse;function jse(e){return Xt("MuiSvgIcon",e)}tn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Bse=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Fse=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${ot(t)}`,`fontSize${ot(n)}`]};return en(i,jse,r)},Use=lt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${ot(n.color)}`],t[`fontSize${ot(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,i,o,s,a,f,h,g,y,x,P,O;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=e.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((a=e.typography)==null||(f=a.pxToRem)==null?void 0:f.call(a,24))||"1.5rem",large:((h=e.typography)==null||(g=h.pxToRem)==null?void 0:g.call(h,35))||"2.1875rem"}[t.fontSize],color:(y=(x=(e.vars||e).palette)==null||(x=x[t.color])==null?void 0:x.main)!=null?y:{action:(P=(e.vars||e).palette)==null||(P=P.action)==null?void 0:P.active,disabled:(O=(e.vars||e).palette)==null||(O=O.action)==null?void 0:O.disabled,inherit:void 0}[t.color]}}),E9=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:f="medium",htmlColor:h,inheritViewBox:g=!1,titleAccess:y,viewBox:x="0 0 24 24"}=r,P=mt(r,Bse),O=V.isValidElement(i)&&i.type==="svg",S=te({},r,{color:s,component:a,fontSize:f,instanceFontSize:t.fontSize,inheritViewBox:g,viewBox:x,hasSvgAsChild:O}),A={};g||(A.viewBox=x);const I=Fse(S);return z.jsxs(Use,te({as:a,className:Pt(I.root,o),focusable:"false",color:h,"aria-hidden":y?void 0:!0,role:y?"img":void 0,ref:n},A,P,O&&i.props,{ownerState:S,children:[O?i.props.children:i,y?z.jsx("title",{children:y}):null]}))});E9.muiName="SvgIcon";const U5=E9;function Mg(e,t){function n(r,i){return z.jsx(U5,te({"data-testid":`${t}Icon`,ref:i},r,{children:e}))}return n.muiName=U5.muiName,V.memo(V.forwardRef(n))}const Vse={configure:e=>{R$.configure(e)}},Wse=Object.freeze(Object.defineProperty({__proto__:null,capitalize:ot,createChainedFunction:fA,createSvgIcon:Mg,debounce:I$,deprecatedPropType:mie,isMuiElement:W1,ownerDocument:Vi,ownerWindow:Dd,requirePropFactory:gie,setRef:jw,unstable_ClassNameGenerator:Vse,unstable_useEnhancedEffect:Ns,unstable_useId:Y2,unsupportedProp:bie,useControlled:qm,useEventCallback:ml,useForkRef:li,useIsFocusVisible:Z2},Symbol.toStringTag,{value:"Module"}));function bA(e,t){return bA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bA(e,t)}function ax(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,bA(e,t)}const V5={disabled:!1},Ww=Pe.createContext(null);var qse=function(t){return t.scrollTop},Jv="unmounted",Mf="exited",If="entering",Up="entered",xA="exiting",gu=function(e){ax(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,f;return o.appearStatus=null,r.in?a?(f=Mf,o.appearStatus=If):f=Up:r.unmountOnExit||r.mountOnEnter?f=Jv:f=Mf,o.state={status:f},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Jv?{status:Mf}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==If&&s!==Up&&(o=If):(s===If||s===Up)&&(o=xA)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===If){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:J_.findDOMNode(this);s&&qse(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Mf&&this.setState({status:Jv})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,f=this.props.nodeRef?[a]:[J_.findDOMNode(this),a],h=f[0],g=f[1],y=this.getTimeouts(),x=a?y.appear:y.enter;if(!i&&!s||V5.disabled){this.safeSetState({status:Up},function(){o.props.onEntered(h)});return}this.props.onEnter(h,g),this.safeSetState({status:If},function(){o.props.onEntering(h,g),o.onTransitionEnd(x,function(){o.safeSetState({status:Up},function(){o.props.onEntered(h,g)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:J_.findDOMNode(this);if(!o||V5.disabled){this.safeSetState({status:Mf},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:xA},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Mf},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:J_.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],h=f[0],g=f[1];this.props.addEndListener(h,g)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Jv)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=mt(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Pe.createElement(Ww.Provider,{value:null},typeof s=="function"?s(i,a):Pe.cloneElement(Pe.Children.only(s),a))},t}(Pe.Component);gu.contextType=Ww;gu.propTypes={};function Pp(){}gu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Pp,onEntering:Pp,onEntered:Pp,onExit:Pp,onExiting:Pp,onExited:Pp};gu.UNMOUNTED=Jv;gu.EXITED=Mf;gu.ENTERING=If;gu.ENTERED=Up;gu.EXITING=xA;const Z$=gu;function ib(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X$(e,t){var n=function(o){return t&&V.isValidElement(o)?t(o):o},r=Object.create(null);return e&&V.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Gse(e,t){e=e||{},t=t||{};function n(g){return g in t?t[g]:e[g]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var f in t){if(r[f])for(s=0;s<r[f].length;s++){var h=r[f][s];a[r[f][s]]=n(h)}a[f]=n(f)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function Vf(e,t,n){return n[t]!=null?n[t]:e.props[t]}function Hse(e,t){return X$(e.children,function(n){return V.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Vf(n,"appear",e),enter:Vf(n,"enter",e),exit:Vf(n,"exit",e)})})}function Yse(e,t,n){var r=X$(e.children),i=Gse(t,r);return Object.keys(i).forEach(function(o){var s=i[o];if(V.isValidElement(s)){var a=o in t,f=o in r,h=t[o],g=V.isValidElement(h)&&!h.props.in;f&&(!a||g)?i[o]=V.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Vf(s,"exit",e),enter:Vf(s,"enter",e)}):!f&&a&&!g?i[o]=V.cloneElement(s,{in:!1}):f&&a&&V.isValidElement(h)&&(i[o]=V.cloneElement(s,{onExited:n.bind(null,s),in:h.props.in,exit:Vf(s,"exit",e),enter:Vf(s,"enter",e)}))}}),i}var Kse=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Zse={component:"div",childFactory:function(t){return t}},J$=function(e){ax(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=o.handleExited.bind(ib(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,f=o.firstRender;return{children:f?Hse(i,a):Yse(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=X$(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var f=te({},a.children);return delete f[i.key],{children:f}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=mt(i,["component","childFactory"]),f=this.state.contextValue,h=Kse(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?Pe.createElement(Ww.Provider,{value:f},h):Pe.createElement(Ww.Provider,{value:f},Pe.createElement(o,a,h))},t}(Pe.Component);J$.propTypes={};J$.defaultProps=Zse;const Xse=J$,T9=e=>e.scrollTop;function Ym(e,t){var n,r;const{timeout:i,easing:o,style:s={}}=e;return{duration:(n=s.transitionDuration)!=null?n:typeof i=="number"?i:i[t.mode]||0,easing:(r=s.transitionTimingFunction)!=null?r:typeof o=="object"?o[t.mode]:o,delay:s.transitionDelay}}function Jse(e){return Xt("MuiCollapse",e)}tn("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Qse=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],ele=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return en(r,Jse,n)},tle=lt("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>te({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&te({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),nle=lt("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>te({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),rle=lt("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>te({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),k9=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiCollapse"}),{addEndListener:i,children:o,className:s,collapsedSize:a="0px",component:f,easing:h,in:g,onEnter:y,onEntered:x,onEntering:P,onExit:O,onExited:S,onExiting:A,orientation:I="vertical",style:M,timeout:k=C9.standard,TransitionComponent:$=Z$}=r,L=mt(r,Qse),N=te({},r,{orientation:I,collapsedSize:a}),F=ele(N),G=mu(),J=V.useRef(),ee=V.useRef(null),ae=V.useRef(),pe=typeof a=="number"?`${a}px`:a,ye=I==="horizontal",we=ye?"width":"height";V.useEffect(()=>()=>{clearTimeout(J.current)},[]);const Ce=V.useRef(null),Oe=li(n,Ce),Ee=at=>Gt=>{if(at){const Ht=Ce.current;Gt===void 0?at(Ht):at(Ht,Gt)}},Se=()=>ee.current?ee.current[ye?"clientWidth":"clientHeight"]:0,De=Ee((at,Gt)=>{ee.current&&ye&&(ee.current.style.position="absolute"),at.style[we]=pe,y&&y(at,Gt)}),We=Ee((at,Gt)=>{const Ht=Se();ee.current&&ye&&(ee.current.style.position="");const{duration:He,easing:vt}=Ym({style:M,timeout:k,easing:h},{mode:"enter"});if(k==="auto"){const yt=G.transitions.getAutoHeightDuration(Ht);at.style.transitionDuration=`${yt}ms`,ae.current=yt}else at.style.transitionDuration=typeof He=="string"?He:`${He}ms`;at.style[we]=`${Ht}px`,at.style.transitionTimingFunction=vt,P&&P(at,Gt)}),dt=Ee((at,Gt)=>{at.style[we]="auto",x&&x(at,Gt)}),ht=Ee(at=>{at.style[we]=`${Se()}px`,O&&O(at)}),Je=Ee(S),it=Ee(at=>{const Gt=Se(),{duration:Ht,easing:He}=Ym({style:M,timeout:k,easing:h},{mode:"exit"});if(k==="auto"){const vt=G.transitions.getAutoHeightDuration(Gt);at.style.transitionDuration=`${vt}ms`,ae.current=vt}else at.style.transitionDuration=typeof Ht=="string"?Ht:`${Ht}ms`;at.style[we]=pe,at.style.transitionTimingFunction=He,A&&A(at)}),Ot=at=>{k==="auto"&&(J.current=setTimeout(at,ae.current||0)),i&&i(Ce.current,at)};return z.jsx($,te({in:g,onEnter:De,onEntered:dt,onEntering:We,onExit:ht,onExited:Je,onExiting:it,addEndListener:Ot,nodeRef:Ce,timeout:k==="auto"?null:k},L,{children:(at,Gt)=>z.jsx(tle,te({as:f,className:Pt(F.root,s,{entered:F.entered,exited:!g&&pe==="0px"&&F.hidden}[at]),style:te({[ye?"minWidth":"minHeight"]:pe},M),ownerState:te({},N,{state:at}),ref:Oe},Gt,{children:z.jsx(nle,{ownerState:te({},N,{state:at}),className:F.wrapper,ref:ee,children:z.jsx(rle,{ownerState:te({},N,{state:at}),className:F.wrapperInner,children:o})})}))}))});k9.muiSupportAuto=!0;const ile=k9;function ole(e){return Xt("MuiPaper",e)}tn("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const ale=["className","component","elevation","square","variant"],sle=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return en(o,ole,i)},lle=lt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return te({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&te({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Cr("#fff",F5(t.elevation))}, ${Cr("#fff",F5(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),cle=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:f="elevation"}=r,h=mt(r,ale),g=te({},r,{component:o,elevation:s,square:a,variant:f}),y=sle(g);return z.jsx(lle,te({as:o,ownerState:g,className:Pt(y.root,i),ref:n},h))}),_l=cle,ule=V.createContext({}),P9=ule;function dle(e){return Xt("MuiAccordion",e)}const fle=tn("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),t1=fle,hle=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],ple=e=>{const{classes:t,square:n,expanded:r,disabled:i,disableGutters:o}=e;return en({root:["root",!n&&"rounded",r&&"expanded",i&&"disabled",!o&&"gutters"],region:["region"]},dle,t)},mle=lt(_l,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${t1.region}`]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&:before":{display:"none"}},[`&.${t1.expanded}`]:{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}},[`&.${t1.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}},({theme:e,ownerState:t})=>te({},!t.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!t.disableGutters&&{[`&.${t1.expanded}`]:{margin:"16px 0"}})),gle=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiAccordion"}),{children:i,className:o,defaultExpanded:s=!1,disabled:a=!1,disableGutters:f=!1,expanded:h,onChange:g,square:y=!1,TransitionComponent:x=ile,TransitionProps:P}=r,O=mt(r,hle),[S,A]=qm({controlled:h,default:s,name:"Accordion",state:"expanded"}),I=V.useCallback(F=>{A(!S),g&&g(F,!S)},[S,g,A]),[M,...k]=V.Children.toArray(i),$=V.useMemo(()=>({expanded:S,disabled:a,disableGutters:f,toggle:I}),[S,a,f,I]),L=te({},r,{square:y,disabled:a,disableGutters:f,expanded:S}),N=ple(L);return z.jsxs(mle,te({className:Pt(N.root,o),ref:n,ownerState:L,square:y},O,{children:[z.jsx(P9.Provider,{value:$,children:M}),z.jsx(x,te({in:S,timeout:"auto"},P,{children:z.jsx("div",{"aria-labelledby":M.props.id,id:M.props["aria-controls"],role:"region",className:N.region,children:k})}))]}))}),bh=gle;function yle(e){return Xt("MuiAccordionDetails",e)}tn("MuiAccordionDetails",["root"]);const vle=["className"],ble=e=>{const{classes:t}=e;return en({root:["root"]},yle,t)},xle=lt("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({padding:e.spacing(1,2,2)})),_le=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiAccordionDetails"}),{className:i}=r,o=mt(r,vle),s=r,a=ble(s);return z.jsx(xle,te({className:Pt(a.root,i),ref:n,ownerState:s},o))}),xh=_le;function wle(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:f,timeout:h}=e,[g,y]=V.useState(!1),x=Pt(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),P={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},O=Pt(n.child,g&&n.childLeaving,r&&n.childPulsate);return!a&&!g&&y(!0),V.useEffect(()=>{if(!a&&f!=null){const S=setTimeout(f,h);return()=>{clearTimeout(S)}}},[f,a,h]),z.jsx("span",{className:x,style:P,children:z.jsx("span",{className:O})})}const Sle=tn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),_s=Sle,Cle=["center","classes","className"];let pC=e=>e,W5,q5,G5,H5;const _A=550,Ele=80,Tle=j$(W5||(W5=pC`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),kle=j$(q5||(q5=pC`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Ple=j$(G5||(G5=pC`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Ole=lt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Ale=lt(wle,{name:"MuiTouchRipple",slot:"Ripple"})(H5||(H5=pC`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),_s.rippleVisible,Tle,_A,({theme:e})=>e.transitions.easing.easeInOut,_s.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,_s.child,_s.childLeaving,kle,_A,({theme:e})=>e.transitions.easing.easeInOut,_s.childPulsate,Ple,({theme:e})=>e.transitions.easing.easeInOut),Mle=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=mt(r,Cle),[f,h]=V.useState([]),g=V.useRef(0),y=V.useRef(null);V.useEffect(()=>{y.current&&(y.current(),y.current=null)},[f]);const x=V.useRef(!1),P=V.useRef(0),O=V.useRef(null),S=V.useRef(null);V.useEffect(()=>()=>{P.current&&clearTimeout(P.current)},[]);const A=V.useCallback($=>{const{pulsate:L,rippleX:N,rippleY:F,rippleSize:G,cb:J}=$;h(ee=>[...ee,z.jsx(Ale,{classes:{ripple:Pt(o.ripple,_s.ripple),rippleVisible:Pt(o.rippleVisible,_s.rippleVisible),ripplePulsate:Pt(o.ripplePulsate,_s.ripplePulsate),child:Pt(o.child,_s.child),childLeaving:Pt(o.childLeaving,_s.childLeaving),childPulsate:Pt(o.childPulsate,_s.childPulsate)},timeout:_A,pulsate:L,rippleX:N,rippleY:F,rippleSize:G},g.current)]),g.current+=1,y.current=J},[o]),I=V.useCallback(($={},L={},N=()=>{})=>{const{pulsate:F=!1,center:G=i||L.pulsate,fakeElement:J=!1}=L;if(($==null?void 0:$.type)==="mousedown"&&x.current){x.current=!1;return}($==null?void 0:$.type)==="touchstart"&&(x.current=!0);const ee=J?null:S.current,ae=ee?ee.getBoundingClientRect():{width:0,height:0,left:0,top:0};let pe,ye,we;if(G||$===void 0||$.clientX===0&&$.clientY===0||!$.clientX&&!$.touches)pe=Math.round(ae.width/2),ye=Math.round(ae.height/2);else{const{clientX:Ce,clientY:Oe}=$.touches&&$.touches.length>0?$.touches[0]:$;pe=Math.round(Ce-ae.left),ye=Math.round(Oe-ae.top)}if(G)we=Math.sqrt((2*ae.width**2+ae.height**2)/3),we%2===0&&(we+=1);else{const Ce=Math.max(Math.abs((ee?ee.clientWidth:0)-pe),pe)*2+2,Oe=Math.max(Math.abs((ee?ee.clientHeight:0)-ye),ye)*2+2;we=Math.sqrt(Ce**2+Oe**2)}$!=null&&$.touches?O.current===null&&(O.current=()=>{A({pulsate:F,rippleX:pe,rippleY:ye,rippleSize:we,cb:N})},P.current=setTimeout(()=>{O.current&&(O.current(),O.current=null)},Ele)):A({pulsate:F,rippleX:pe,rippleY:ye,rippleSize:we,cb:N})},[i,A]),M=V.useCallback(()=>{I({},{pulsate:!0})},[I]),k=V.useCallback(($,L)=>{if(clearTimeout(P.current),($==null?void 0:$.type)==="touchend"&&O.current){O.current(),O.current=null,P.current=setTimeout(()=>{k($,L)});return}O.current=null,h(N=>N.length>0?N.slice(1):N),y.current=L},[]);return V.useImperativeHandle(n,()=>({pulsate:M,start:I,stop:k}),[M,I,k]),z.jsx(Ole,te({className:Pt(_s.root,o.root,s),ref:S},a,{children:z.jsx(Xse,{component:null,exit:!0,children:f})}))}),Ile=Mle;function $le(e){return Xt("MuiButtonBase",e)}const Rle=tn("MuiButtonBase",["root","disabled","focusVisible"]),Dle=Rle,Lle=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Nle=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,s=en({root:["root",t&&"disabled",n&&"focusVisible"]},$le,i);return n&&r&&(s.root+=` ${r}`),s},zle=lt("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Dle.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),jle=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:f="button",disabled:h=!1,disableRipple:g=!1,disableTouchRipple:y=!1,focusRipple:x=!1,LinkComponent:P="a",onBlur:O,onClick:S,onContextMenu:A,onDragLeave:I,onFocus:M,onFocusVisible:k,onKeyDown:$,onKeyUp:L,onMouseDown:N,onMouseLeave:F,onMouseUp:G,onTouchEnd:J,onTouchMove:ee,onTouchStart:ae,tabIndex:pe=0,TouchRippleProps:ye,touchRippleRef:we,type:Ce}=r,Oe=mt(r,Lle),Ee=V.useRef(null),Se=V.useRef(null),De=li(Se,we),{isFocusVisibleRef:We,onFocus:dt,onBlur:ht,ref:Je}=Z2(),[it,Ot]=V.useState(!1);h&&it&&Ot(!1),V.useImperativeHandle(i,()=>({focusVisible:()=>{Ot(!0),Ee.current.focus()}}),[]);const[at,Gt]=V.useState(!1);V.useEffect(()=>{Gt(!0)},[]);const Ht=at&&!g&&!h;V.useEffect(()=>{it&&x&&!g&&at&&Se.current.pulsate()},[g,x,it,at]);function He(rn,Xn,Ii=y){return ml(gi=>(Xn&&Xn(gi),!Ii&&Se.current&&Se.current[rn](gi),!0))}const vt=He("start",N),yt=He("stop",A),Ve=He("stop",I),Ct=He("stop",G),Tt=He("stop",rn=>{it&&rn.preventDefault(),F&&F(rn)}),qt=He("start",ae),vn=He("stop",J),Mn=He("stop",ee),_n=He("stop",rn=>{ht(rn),We.current===!1&&Ot(!1),O&&O(rn)},!1),rr=ml(rn=>{Ee.current||(Ee.current=rn.currentTarget),dt(rn),We.current===!0&&(Ot(!0),k&&k(rn)),M&&M(rn)}),Tn=()=>{const rn=Ee.current;return f&&f!=="button"&&!(rn.tagName==="A"&&rn.href)},Ne=V.useRef(!1),$n=ml(rn=>{x&&!Ne.current&&it&&Se.current&&rn.key===" "&&(Ne.current=!0,Se.current.stop(rn,()=>{Se.current.start(rn)})),rn.target===rn.currentTarget&&Tn()&&rn.key===" "&&rn.preventDefault(),$&&$(rn),rn.target===rn.currentTarget&&Tn()&&rn.key==="Enter"&&!h&&(rn.preventDefault(),S&&S(rn))}),Hn=ml(rn=>{x&&rn.key===" "&&Se.current&&it&&!rn.defaultPrevented&&(Ne.current=!1,Se.current.stop(rn,()=>{Se.current.pulsate(rn)})),L&&L(rn),S&&rn.target===rn.currentTarget&&Tn()&&rn.key===" "&&!rn.defaultPrevented&&S(rn)});let Dt=f;Dt==="button"&&(Oe.href||Oe.to)&&(Dt=P);const Kt={};Dt==="button"?(Kt.type=Ce===void 0?"button":Ce,Kt.disabled=h):(!Oe.href&&!Oe.to&&(Kt.role="button"),h&&(Kt["aria-disabled"]=h));const ir=li(n,Je,Ee),br=te({},r,{centerRipple:o,component:f,disabled:h,disableRipple:g,disableTouchRipple:y,focusRipple:x,tabIndex:pe,focusVisible:it}),Nn=Nle(br);return z.jsxs(zle,te({as:Dt,className:Pt(Nn.root,a),ownerState:br,onBlur:_n,onClick:S,onContextMenu:yt,onFocus:rr,onKeyDown:$n,onKeyUp:Hn,onMouseDown:vt,onMouseLeave:Tt,onMouseUp:Ct,onDragLeave:Ve,onTouchEnd:vn,onTouchMove:Mn,onTouchStart:qt,ref:ir,tabIndex:h?-1:pe,type:Ce},Kt,Oe,{children:[s,Ht?z.jsx(Ile,te({ref:De,center:o},ye)):null]}))}),Ig=jle;function Ble(e){return Xt("MuiAccordionSummary",e)}const Fle=tn("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),im=Fle,Ule=["children","className","expandIcon","focusVisibleClassName","onClick"],Vle=e=>{const{classes:t,expanded:n,disabled:r,disableGutters:i}=e;return en({root:["root",n&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},Ble,t)},Wle=lt(Ig,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>{const n={duration:e.transitions.duration.shortest};return te({display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],n),[`&.${im.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${im.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${im.disabled})`]:{cursor:"pointer"}},!t.disableGutters&&{[`&.${im.expanded}`]:{minHeight:64}})}),qle=lt("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(({theme:e,ownerState:t})=>te({display:"flex",flexGrow:1,margin:"12px 0"},!t.disableGutters&&{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${im.expanded}`]:{margin:"20px 0"}})),Gle=lt("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${im.expanded}`]:{transform:"rotate(180deg)"}})),Hle=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiAccordionSummary"}),{children:i,className:o,expandIcon:s,focusVisibleClassName:a,onClick:f}=r,h=mt(r,Ule),{disabled:g=!1,disableGutters:y,expanded:x,toggle:P}=V.useContext(P9),O=I=>{P&&P(I),f&&f(I)},S=te({},r,{expanded:x,disabled:g,disableGutters:y}),A=Vle(S);return z.jsxs(Wle,te({focusRipple:!1,disableRipple:!0,disabled:g,component:"div","aria-expanded":x,className:Pt(A.root,o),focusVisibleClassName:Pt(A.focusVisible,a),onClick:O,ref:n,ownerState:S},h,{children:[z.jsx(qle,{className:A.content,ownerState:S,children:i}),s&&z.jsx(Gle,{className:A.expandIconWrapper,ownerState:S,children:s})]}))}),_h=Hle;function Yle(e){return Xt("MuiIconButton",e)}const Kle=tn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Zle=Kle,Xle=["edge","children","className","color","disabled","disableFocusRipple","size"],Jle=e=>{const{classes:t,disabled:n,color:r,edge:i,size:o}=e,s={root:["root",n&&"disabled",r!=="default"&&`color${ot(r)}`,i&&`edge${ot(i)}`,`size${ot(o)}`]};return en(s,Yle,t)},Qle=lt(Ig,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${ot(n.color)}`],n.edge&&t[`edge${ot(n.edge)}`],t[`size${ot(n.size)}`]]}})(({theme:e,ownerState:t})=>te({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Cr(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return te({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&te({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":te({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Cr(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${Zle.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),ece=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:f=!1,disableFocusRipple:h=!1,size:g="medium"}=r,y=mt(r,Xle),x=te({},r,{edge:i,color:a,disabled:f,disableFocusRipple:h,size:g}),P=Jle(x);return z.jsx(Qle,te({className:Pt(P.root,s),centerRipple:!0,focusRipple:!h,disabled:f,ref:n,ownerState:x},y,{children:o}))}),Kn=ece;function tce(e){return Xt("MuiTypography",e)}tn("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const nce=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],rce=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e,a={root:["root",o,e.align!=="inherit"&&`align${ot(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return en(a,tce,s)},ice=lt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${ot(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>te({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),Y5={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},oce={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},ace=e=>oce[e]||e,sce=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiTypography"}),i=ace(r.color),o=cC(te({},r,{color:i})),{align:s="inherit",className:a,component:f,gutterBottom:h=!1,noWrap:g=!1,paragraph:y=!1,variant:x="body1",variantMapping:P=Y5}=o,O=mt(o,nce),S=te({},o,{align:s,color:i,className:a,component:f,gutterBottom:h,noWrap:g,paragraph:y,variant:x,variantMapping:P}),A=f||(y?"p":P[x]||Y5[x])||"span",I=rce(S);return z.jsx(ice,te({as:A,ref:n,ownerState:S,className:Pt(I.root,a)},O))}),xn=sce;function lce(e){return Xt("MuiAppBar",e)}tn("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const cce=["className","color","enableColorOnDark","position"],uce=e=>{const{color:t,position:n,classes:r}=e,i={root:["root",`color${ot(t)}`,`position${ot(n)}`]};return en(i,lce,r)},n1=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,dce=lt(_l,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${ot(n.position)}`],t[`color${ot(n.color)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[900];return te({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},t.position==="fixed"&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},t.position==="absolute"&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="sticky"&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="static"&&{position:"static"},t.position==="relative"&&{position:"relative"},!e.vars&&te({},t.color==="default"&&{backgroundColor:n,color:e.palette.getContrastText(n)},t.color&&t.color!=="default"&&t.color!=="inherit"&&t.color!=="transparent"&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},t.color==="inherit"&&{color:"inherit"},e.palette.mode==="dark"&&!t.enableColorOnDark&&{backgroundColor:null,color:null},t.color==="transparent"&&te({backgroundColor:"transparent",color:"inherit"},e.palette.mode==="dark"&&{backgroundImage:"none"})),e.vars&&te({},t.color==="default"&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:n1(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:n1(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:n1(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:n1(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:t.color==="inherit"?"inherit":"var(--AppBar-color)"},t.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),fce=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:s=!1,position:a="fixed"}=r,f=mt(r,cce),h=te({},r,{color:o,position:a,enableColorOnDark:s}),g=uce(h);return z.jsx(dce,te({square:!0,component:"header",ownerState:h,elevation:4,className:Pt(g.root,i,a==="fixed"&&"mui-fixed"),ref:n},f))}),Q$=fce;function qw(e){return typeof e=="string"}function Qv(e,t,n){return e===void 0||qw(e)?t:te({},t,{ownerState:te({},t.ownerState,n)})}const hce={disableDefaultClasses:!1},pce=V.createContext(hce);function mce(e){const{disableDefaultClasses:t}=V.useContext(pce);return n=>t?"":e(n)}function Gw(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function gce(e,t,n){return typeof e=="function"?e(t,n):e}function K5(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function yce(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const P=Pt(i==null?void 0:i.className,r==null?void 0:r.className,o,n==null?void 0:n.className),O=te({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),S=te({},n,i,r);return P.length>0&&(S.className=P),Object.keys(O).length>0&&(S.style=O),{props:S,internalRef:void 0}}const s=Gw(te({},i,r)),a=K5(r),f=K5(i),h=t(s),g=Pt(h==null?void 0:h.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),y=te({},h==null?void 0:h.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),x=te({},h,n,f,a);return g.length>0&&(x.className=g),Object.keys(y).length>0&&(x.style=y),{props:x,internalRef:h.ref}}const vce=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function ac(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,s=mt(e,vce),a=o?{}:gce(r,i),{props:f,internalRef:h}=yce(te({},s,{externalSlotProps:a})),g=li(h,a==null?void 0:a.ref,(t=e.additionalProps)==null?void 0:t.ref);return Qv(n,te({},f,{ref:g}),i)}function bce(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:i=!1}=e,o=XW({badgeContent:t,max:r});let s=n;n===!1&&t===0&&!i&&(s=!0);const{badgeContent:a,max:f=r}=s?o:e,h=a&&Number(a)>f?`${f}+`:a;return{badgeContent:a,invisible:s,max:f,displayValue:h}}function Z5(e){return e.substring(2).toLowerCase()}function xce(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function _ce(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:o="onTouchEnd"}=e,s=V.useRef(!1),a=V.useRef(null),f=V.useRef(!1),h=V.useRef(!1);V.useEffect(()=>(setTimeout(()=>{f.current=!0},0),()=>{f.current=!1}),[]);const g=li(t.ref,a),y=ml(O=>{const S=h.current;h.current=!1;const A=Vi(a.current);if(!f.current||!a.current||"clientX"in O&&xce(O,A))return;if(s.current){s.current=!1;return}let I;O.composedPath?I=O.composedPath().indexOf(a.current)>-1:I=!A.documentElement.contains(O.target)||a.current.contains(O.target),!I&&(n||!S)&&i(O)}),x=O=>S=>{h.current=!0;const A=t.props[O];A&&A(S)},P={ref:g};return o!==!1&&(P[o]=x(o)),V.useEffect(()=>{if(o!==!1){const O=Z5(o),S=Vi(a.current),A=()=>{s.current=!0};return S.addEventListener(O,y),S.addEventListener("touchmove",A),()=>{S.removeEventListener(O,y),S.removeEventListener("touchmove",A)}}},[y,o]),r!==!1&&(P[r]=x(r)),V.useEffect(()=>{if(r!==!1){const O=Z5(r),S=Vi(a.current);return S.addEventListener(O,y),()=>{S.removeEventListener(O,y)}}},[y,r]),z.jsx(V.Fragment,{children:V.cloneElement(t,P)})}const wce=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Sce(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Cce(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function Ece(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Cce(e))}function Tce(e){const t=[],n=[];return Array.from(e.querySelectorAll(wce)).forEach((r,i)=>{const o=Sce(r);o===-1||!Ece(r)||(o===0?t.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function kce(){return!0}function Pce(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=Tce,isEnabled:s=kce,open:a}=e,f=V.useRef(!1),h=V.useRef(null),g=V.useRef(null),y=V.useRef(null),x=V.useRef(null),P=V.useRef(!1),O=V.useRef(null),S=li(t.ref,O),A=V.useRef(null);V.useEffect(()=>{!a||!O.current||(P.current=!n)},[n,a]),V.useEffect(()=>{if(!a||!O.current)return;const k=Vi(O.current);return O.current.contains(k.activeElement)||(O.current.hasAttribute("tabIndex")||O.current.setAttribute("tabIndex","-1"),P.current&&O.current.focus()),()=>{i||(y.current&&y.current.focus&&(f.current=!0,y.current.focus()),y.current=null)}},[a]),V.useEffect(()=>{if(!a||!O.current)return;const k=Vi(O.current),$=F=>{A.current=F,!(r||!s()||F.key!=="Tab")&&k.activeElement===O.current&&F.shiftKey&&(f.current=!0,g.current&&g.current.focus())},L=()=>{const F=O.current;if(F===null)return;if(!k.hasFocus()||!s()||f.current){f.current=!1;return}if(F.contains(k.activeElement)||r&&k.activeElement!==h.current&&k.activeElement!==g.current)return;if(k.activeElement!==x.current)x.current=null;else if(x.current!==null)return;if(!P.current)return;let G=[];if((k.activeElement===h.current||k.activeElement===g.current)&&(G=o(O.current)),G.length>0){var J,ee;const ae=!!((J=A.current)!=null&&J.shiftKey&&((ee=A.current)==null?void 0:ee.key)==="Tab"),pe=G[0],ye=G[G.length-1];typeof pe!="string"&&typeof ye!="string"&&(ae?ye.focus():pe.focus())}else F.focus()};k.addEventListener("focusin",L),k.addEventListener("keydown",$,!0);const N=setInterval(()=>{k.activeElement&&k.activeElement.tagName==="BODY"&&L()},50);return()=>{clearInterval(N),k.removeEventListener("focusin",L),k.removeEventListener("keydown",$,!0)}},[n,r,i,s,a,o]);const I=k=>{y.current===null&&(y.current=k.relatedTarget),P.current=!0,x.current=k.target;const $=t.props.onFocus;$&&$(k)},M=k=>{y.current===null&&(y.current=k.relatedTarget),P.current=!0};return z.jsxs(V.Fragment,{children:[z.jsx("div",{tabIndex:a?0:-1,onFocus:M,ref:h,"data-testid":"sentinelStart"}),V.cloneElement(t,{ref:S,onFocus:I}),z.jsx("div",{tabIndex:a?0:-1,onFocus:M,ref:g,"data-testid":"sentinelEnd"})]})}var ka="top",zs="bottom",js="right",Pa="left",eR="auto",sx=[ka,zs,js,Pa],Km="start",ob="end",Oce="clippingParents",O9="viewport",bv="popper",Ace="reference",X5=sx.reduce(function(e,t){return e.concat([t+"-"+Km,t+"-"+ob])},[]),A9=[].concat(sx,[eR]).reduce(function(e,t){return e.concat([t,t+"-"+Km,t+"-"+ob])},[]),Mce="beforeRead",Ice="read",$ce="afterRead",Rce="beforeMain",Dce="main",Lce="afterMain",Nce="beforeWrite",zce="write",jce="afterWrite",Bce=[Mce,Ice,$ce,Rce,Dce,Lce,Nce,zce,jce];function sc(e){return e?(e.nodeName||"").toLowerCase():null}function Qa(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function wh(e){var t=Qa(e).Element;return e instanceof t||e instanceof Element}function As(e){var t=Qa(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function tR(e){if(typeof ShadowRoot>"u")return!1;var t=Qa(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Fce(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!As(o)||!sc(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function Uce(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=s.reduce(function(f,h){return f[h]="",f},{});!As(i)||!sc(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(f){i.removeAttribute(f)}))})}}const Vce={name:"applyStyles",enabled:!0,phase:"write",fn:Fce,effect:Uce,requires:["computeStyles"]};function nc(e){return e.split("-")[0]}var th=Math.max,Hw=Math.min,Zm=Math.round;function wA(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function M9(){return!/^((?!chrome|android).)*safari/i.test(wA())}function Xm(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&As(e)&&(i=e.offsetWidth>0&&Zm(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Zm(r.height)/e.offsetHeight||1);var s=wh(e)?Qa(e):window,a=s.visualViewport,f=!M9()&&n,h=(r.left+(f&&a?a.offsetLeft:0))/i,g=(r.top+(f&&a?a.offsetTop:0))/o,y=r.width/i,x=r.height/o;return{width:y,height:x,top:g,right:h+y,bottom:g+x,left:h,x:h,y:g}}function nR(e){var t=Xm(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function I9(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&tR(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function au(e){return Qa(e).getComputedStyle(e)}function Wce(e){return["table","td","th"].indexOf(sc(e))>=0}function qd(e){return((wh(e)?e.ownerDocument:e.document)||window.document).documentElement}function mC(e){return sc(e)==="html"?e:e.assignedSlot||e.parentNode||(tR(e)?e.host:null)||qd(e)}function J5(e){return!As(e)||au(e).position==="fixed"?null:e.offsetParent}function qce(e){var t=/firefox/i.test(wA()),n=/Trident/i.test(wA());if(n&&As(e)){var r=au(e);if(r.position==="fixed")return null}var i=mC(e);for(tR(i)&&(i=i.host);As(i)&&["html","body"].indexOf(sc(i))<0;){var o=au(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function lx(e){for(var t=Qa(e),n=J5(e);n&&Wce(n)&&au(n).position==="static";)n=J5(n);return n&&(sc(n)==="html"||sc(n)==="body"&&au(n).position==="static")?t:n||qce(e)||t}function rR(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function y0(e,t,n){return th(e,Hw(t,n))}function Gce(e,t,n){var r=y0(e,t,n);return r>n?n:r}function $9(){return{top:0,right:0,bottom:0,left:0}}function R9(e){return Object.assign({},$9(),e)}function D9(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var Hce=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,R9(typeof t!="number"?t:D9(t,sx))};function Yce(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=nc(n.placement),f=rR(a),h=[Pa,js].indexOf(a)>=0,g=h?"height":"width";if(!(!o||!s)){var y=Hce(i.padding,n),x=nR(o),P=f==="y"?ka:Pa,O=f==="y"?zs:js,S=n.rects.reference[g]+n.rects.reference[f]-s[f]-n.rects.popper[g],A=s[f]-n.rects.reference[f],I=lx(o),M=I?f==="y"?I.clientHeight||0:I.clientWidth||0:0,k=S/2-A/2,$=y[P],L=M-x[g]-y[O],N=M/2-x[g]/2+k,F=y0($,N,L),G=f;n.modifiersData[r]=(t={},t[G]=F,t.centerOffset=F-N,t)}}function Kce(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||I9(t.elements.popper,i)&&(t.elements.arrow=i))}const Zce={name:"arrow",enabled:!0,phase:"main",fn:Yce,effect:Kce,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Jm(e){return e.split("-")[1]}var Xce={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Jce(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Zm(n*i)/i||0,y:Zm(r*i)/i||0}}function Q5(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,f=e.gpuAcceleration,h=e.adaptive,g=e.roundOffsets,y=e.isFixed,x=s.x,P=x===void 0?0:x,O=s.y,S=O===void 0?0:O,A=typeof g=="function"?g({x:P,y:S}):{x:P,y:S};P=A.x,S=A.y;var I=s.hasOwnProperty("x"),M=s.hasOwnProperty("y"),k=Pa,$=ka,L=window;if(h){var N=lx(n),F="clientHeight",G="clientWidth";if(N===Qa(n)&&(N=qd(n),au(N).position!=="static"&&a==="absolute"&&(F="scrollHeight",G="scrollWidth")),N=N,i===ka||(i===Pa||i===js)&&o===ob){$=zs;var J=y&&N===L&&L.visualViewport?L.visualViewport.height:N[F];S-=J-r.height,S*=f?1:-1}if(i===Pa||(i===ka||i===zs)&&o===ob){k=js;var ee=y&&N===L&&L.visualViewport?L.visualViewport.width:N[G];P-=ee-r.width,P*=f?1:-1}}var ae=Object.assign({position:a},h&&Xce),pe=g===!0?Jce({x:P,y:S},Qa(n)):{x:P,y:S};if(P=pe.x,S=pe.y,f){var ye;return Object.assign({},ae,(ye={},ye[$]=M?"0":"",ye[k]=I?"0":"",ye.transform=(L.devicePixelRatio||1)<=1?"translate("+P+"px, "+S+"px)":"translate3d("+P+"px, "+S+"px, 0)",ye))}return Object.assign({},ae,(t={},t[$]=M?S+"px":"",t[k]=I?P+"px":"",t.transform="",t))}function Qce(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,f=a===void 0?!0:a,h={placement:nc(t.placement),variation:Jm(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Q5(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:f})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Q5(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const eue={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Qce,data:{}};var r1={passive:!0};function tue(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,f=Qa(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&h.forEach(function(g){g.addEventListener("scroll",n.update,r1)}),a&&f.addEventListener("resize",n.update,r1),function(){o&&h.forEach(function(g){g.removeEventListener("scroll",n.update,r1)}),a&&f.removeEventListener("resize",n.update,r1)}}const nue={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:tue,data:{}};var rue={left:"right",right:"left",bottom:"top",top:"bottom"};function K1(e){return e.replace(/left|right|bottom|top/g,function(t){return rue[t]})}var iue={start:"end",end:"start"};function e3(e){return e.replace(/start|end/g,function(t){return iue[t]})}function iR(e){var t=Qa(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function oR(e){return Xm(qd(e)).left+iR(e).scrollLeft}function oue(e,t){var n=Qa(e),r=qd(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,f=0;if(i){o=i.width,s=i.height;var h=M9();(h||!h&&t==="fixed")&&(a=i.offsetLeft,f=i.offsetTop)}return{width:o,height:s,x:a+oR(e),y:f}}function aue(e){var t,n=qd(e),r=iR(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=th(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=th(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+oR(e),f=-r.scrollTop;return au(i||n).direction==="rtl"&&(a+=th(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:f}}function aR(e){var t=au(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function L9(e){return["html","body","#document"].indexOf(sc(e))>=0?e.ownerDocument.body:As(e)&&aR(e)?e:L9(mC(e))}function v0(e,t){var n;t===void 0&&(t=[]);var r=L9(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=Qa(r),s=i?[o].concat(o.visualViewport||[],aR(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(v0(mC(s)))}function SA(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function sue(e,t){var n=Xm(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function t3(e,t,n){return t===O9?SA(oue(e,n)):wh(t)?sue(t,n):SA(aue(qd(e)))}function lue(e){var t=v0(mC(e)),n=["absolute","fixed"].indexOf(au(e).position)>=0,r=n&&As(e)?lx(e):e;return wh(r)?t.filter(function(i){return wh(i)&&I9(i,r)&&sc(i)!=="body"}):[]}function cue(e,t,n,r){var i=t==="clippingParents"?lue(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(f,h){var g=t3(e,h,r);return f.top=th(g.top,f.top),f.right=Hw(g.right,f.right),f.bottom=Hw(g.bottom,f.bottom),f.left=th(g.left,f.left),f},t3(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function N9(e){var t=e.reference,n=e.element,r=e.placement,i=r?nc(r):null,o=r?Jm(r):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,f;switch(i){case ka:f={x:s,y:t.y-n.height};break;case zs:f={x:s,y:t.y+t.height};break;case js:f={x:t.x+t.width,y:a};break;case Pa:f={x:t.x-n.width,y:a};break;default:f={x:t.x,y:t.y}}var h=i?rR(i):null;if(h!=null){var g=h==="y"?"height":"width";switch(o){case Km:f[h]=f[h]-(t[g]/2-n[g]/2);break;case ob:f[h]=f[h]+(t[g]/2-n[g]/2);break}}return f}function ab(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.strategy,s=o===void 0?e.strategy:o,a=n.boundary,f=a===void 0?Oce:a,h=n.rootBoundary,g=h===void 0?O9:h,y=n.elementContext,x=y===void 0?bv:y,P=n.altBoundary,O=P===void 0?!1:P,S=n.padding,A=S===void 0?0:S,I=R9(typeof A!="number"?A:D9(A,sx)),M=x===bv?Ace:bv,k=e.rects.popper,$=e.elements[O?M:x],L=cue(wh($)?$:$.contextElement||qd(e.elements.popper),f,g,s),N=Xm(e.elements.reference),F=N9({reference:N,element:k,strategy:"absolute",placement:i}),G=SA(Object.assign({},k,F)),J=x===bv?G:N,ee={top:L.top-J.top+I.top,bottom:J.bottom-L.bottom+I.bottom,left:L.left-J.left+I.left,right:J.right-L.right+I.right},ae=e.modifiersData.offset;if(x===bv&&ae){var pe=ae[i];Object.keys(ee).forEach(function(ye){var we=[js,zs].indexOf(ye)>=0?1:-1,Ce=[ka,zs].indexOf(ye)>=0?"y":"x";ee[ye]+=pe[Ce]*we})}return ee}function uue(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,f=n.allowedAutoPlacements,h=f===void 0?A9:f,g=Jm(r),y=g?a?X5:X5.filter(function(O){return Jm(O)===g}):sx,x=y.filter(function(O){return h.indexOf(O)>=0});x.length===0&&(x=y);var P=x.reduce(function(O,S){return O[S]=ab(e,{placement:S,boundary:i,rootBoundary:o,padding:s})[nc(S)],O},{});return Object.keys(P).sort(function(O,S){return P[O]-P[S]})}function due(e){if(nc(e)===eR)return[];var t=K1(e);return[e3(e),t,e3(t)]}function fue(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,f=n.fallbackPlacements,h=n.padding,g=n.boundary,y=n.rootBoundary,x=n.altBoundary,P=n.flipVariations,O=P===void 0?!0:P,S=n.allowedAutoPlacements,A=t.options.placement,I=nc(A),M=I===A,k=f||(M||!O?[K1(A)]:due(A)),$=[A].concat(k).reduce(function(it,Ot){return it.concat(nc(Ot)===eR?uue(t,{placement:Ot,boundary:g,rootBoundary:y,padding:h,flipVariations:O,allowedAutoPlacements:S}):Ot)},[]),L=t.rects.reference,N=t.rects.popper,F=new Map,G=!0,J=$[0],ee=0;ee<$.length;ee++){var ae=$[ee],pe=nc(ae),ye=Jm(ae)===Km,we=[ka,zs].indexOf(pe)>=0,Ce=we?"width":"height",Oe=ab(t,{placement:ae,boundary:g,rootBoundary:y,altBoundary:x,padding:h}),Ee=we?ye?js:Pa:ye?zs:ka;L[Ce]>N[Ce]&&(Ee=K1(Ee));var Se=K1(Ee),De=[];if(o&&De.push(Oe[pe]<=0),a&&De.push(Oe[Ee]<=0,Oe[Se]<=0),De.every(function(it){return it})){J=ae,G=!1;break}F.set(ae,De)}if(G)for(var We=O?3:1,dt=function(Ot){var at=$.find(function(Gt){var Ht=F.get(Gt);if(Ht)return Ht.slice(0,Ot).every(function(He){return He})});if(at)return J=at,"break"},ht=We;ht>0;ht--){var Je=dt(ht);if(Je==="break")break}t.placement!==J&&(t.modifiersData[r]._skip=!0,t.placement=J,t.reset=!0)}}const hue={name:"flip",enabled:!0,phase:"main",fn:fue,requiresIfExists:["offset"],data:{_skip:!1}};function n3(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function r3(e){return[ka,js,zs,Pa].some(function(t){return e[t]>=0})}function pue(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=ab(t,{elementContext:"reference"}),a=ab(t,{altBoundary:!0}),f=n3(s,r),h=n3(a,i,o),g=r3(f),y=r3(h);t.modifiersData[n]={referenceClippingOffsets:f,popperEscapeOffsets:h,isReferenceHidden:g,hasPopperEscaped:y},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":y})}const mue={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:pue};function gue(e,t,n){var r=nc(e),i=[Pa,ka].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Pa,js].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function yue(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,s=A9.reduce(function(g,y){return g[y]=gue(y,t.rects,o),g},{}),a=s[t.placement],f=a.x,h=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=f,t.modifiersData.popperOffsets.y+=h),t.modifiersData[r]=s}const vue={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:yue};function bue(e){var t=e.state,n=e.name;t.modifiersData[n]=N9({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const xue={name:"popperOffsets",enabled:!0,phase:"read",fn:bue,data:{}};function _ue(e){return e==="x"?"y":"x"}function wue(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,f=n.boundary,h=n.rootBoundary,g=n.altBoundary,y=n.padding,x=n.tether,P=x===void 0?!0:x,O=n.tetherOffset,S=O===void 0?0:O,A=ab(t,{boundary:f,rootBoundary:h,padding:y,altBoundary:g}),I=nc(t.placement),M=Jm(t.placement),k=!M,$=rR(I),L=_ue($),N=t.modifiersData.popperOffsets,F=t.rects.reference,G=t.rects.popper,J=typeof S=="function"?S(Object.assign({},t.rects,{placement:t.placement})):S,ee=typeof J=="number"?{mainAxis:J,altAxis:J}:Object.assign({mainAxis:0,altAxis:0},J),ae=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,pe={x:0,y:0};if(N){if(o){var ye,we=$==="y"?ka:Pa,Ce=$==="y"?zs:js,Oe=$==="y"?"height":"width",Ee=N[$],Se=Ee+A[we],De=Ee-A[Ce],We=P?-G[Oe]/2:0,dt=M===Km?F[Oe]:G[Oe],ht=M===Km?-G[Oe]:-F[Oe],Je=t.elements.arrow,it=P&&Je?nR(Je):{width:0,height:0},Ot=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:$9(),at=Ot[we],Gt=Ot[Ce],Ht=y0(0,F[Oe],it[Oe]),He=k?F[Oe]/2-We-Ht-at-ee.mainAxis:dt-Ht-at-ee.mainAxis,vt=k?-F[Oe]/2+We+Ht+Gt+ee.mainAxis:ht+Ht+Gt+ee.mainAxis,yt=t.elements.arrow&&lx(t.elements.arrow),Ve=yt?$==="y"?yt.clientTop||0:yt.clientLeft||0:0,Ct=(ye=ae==null?void 0:ae[$])!=null?ye:0,Tt=Ee+He-Ct-Ve,qt=Ee+vt-Ct,vn=y0(P?Hw(Se,Tt):Se,Ee,P?th(De,qt):De);N[$]=vn,pe[$]=vn-Ee}if(a){var Mn,_n=$==="x"?ka:Pa,rr=$==="x"?zs:js,Tn=N[L],Ne=L==="y"?"height":"width",$n=Tn+A[_n],Hn=Tn-A[rr],Dt=[ka,Pa].indexOf(I)!==-1,Kt=(Mn=ae==null?void 0:ae[L])!=null?Mn:0,ir=Dt?$n:Tn-F[Ne]-G[Ne]-Kt+ee.altAxis,br=Dt?Tn+F[Ne]+G[Ne]-Kt-ee.altAxis:Hn,Nn=P&&Dt?Gce(ir,Tn,br):y0(P?ir:$n,Tn,P?br:Hn);N[L]=Nn,pe[L]=Nn-Tn}t.modifiersData[r]=pe}}const Sue={name:"preventOverflow",enabled:!0,phase:"main",fn:wue,requiresIfExists:["offset"]};function Cue(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Eue(e){return e===Qa(e)||!As(e)?iR(e):Cue(e)}function Tue(e){var t=e.getBoundingClientRect(),n=Zm(t.width)/e.offsetWidth||1,r=Zm(t.height)/e.offsetHeight||1;return n!==1||r!==1}function kue(e,t,n){n===void 0&&(n=!1);var r=As(t),i=As(t)&&Tue(t),o=qd(t),s=Xm(e,i,n),a={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!n)&&((sc(t)!=="body"||aR(o))&&(a=Eue(t)),As(t)?(f=Xm(t,!0),f.x+=t.clientLeft,f.y+=t.clientTop):o&&(f.x=oR(o))),{x:s.left+a.scrollLeft-f.x,y:s.top+a.scrollTop-f.y,width:s.width,height:s.height}}function Pue(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var f=t.get(a);f&&i(f)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function Oue(e){var t=Pue(e);return Bce.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function Aue(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Mue(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var i3={placement:"bottom",modifiers:[],strategy:"absolute"};function o3(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Iue(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?i3:i;return function(a,f,h){h===void 0&&(h=o);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},i3,o),modifiersData:{},elements:{reference:a,popper:f},attributes:{},styles:{}},y=[],x=!1,P={state:g,setOptions:function(I){var M=typeof I=="function"?I(g.options):I;S(),g.options=Object.assign({},o,g.options,M),g.scrollParents={reference:wh(a)?v0(a):a.contextElement?v0(a.contextElement):[],popper:v0(f)};var k=Oue(Mue([].concat(r,g.options.modifiers)));return g.orderedModifiers=k.filter(function($){return $.enabled}),O(),P.update()},forceUpdate:function(){if(!x){var I=g.elements,M=I.reference,k=I.popper;if(o3(M,k)){g.rects={reference:kue(M,lx(k),g.options.strategy==="fixed"),popper:nR(k)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(ee){return g.modifiersData[ee.name]=Object.assign({},ee.data)});for(var $=0;$<g.orderedModifiers.length;$++){if(g.reset===!0){g.reset=!1,$=-1;continue}var L=g.orderedModifiers[$],N=L.fn,F=L.options,G=F===void 0?{}:F,J=L.name;typeof N=="function"&&(g=N({state:g,options:G,name:J,instance:P})||g)}}}},update:Aue(function(){return new Promise(function(A){P.forceUpdate(),A(g)})}),destroy:function(){S(),x=!0}};if(!o3(a,f))return P;P.setOptions(h).then(function(A){!x&&h.onFirstUpdate&&h.onFirstUpdate(A)});function O(){g.orderedModifiers.forEach(function(A){var I=A.name,M=A.options,k=M===void 0?{}:M,$=A.effect;if(typeof $=="function"){var L=$({state:g,name:I,instance:P,options:k}),N=function(){};y.push(L||N)}})}function S(){y.forEach(function(A){return A()}),y=[]}return P}}var $ue=[nue,xue,eue,Vce,vue,hue,Sue,Zce,mue],Rue=Iue({defaultModifiers:$ue});function Due(e){return typeof e=="function"?e():e}const z9=V.forwardRef(function(t,n){const{children:r,container:i,disablePortal:o=!1}=t,[s,a]=V.useState(null),f=li(V.isValidElement(r)?r.ref:null,n);if(Ns(()=>{o||a(Due(i)||document.body)},[i,o]),Ns(()=>{if(s&&!o)return jw(n,s),()=>{jw(n,null)}},[n,s,o]),o){if(V.isValidElement(r)){const h={ref:f};return V.cloneElement(r,h)}return z.jsx(V.Fragment,{children:r})}return z.jsx(V.Fragment,{children:s&&uc.createPortal(r,s)})});function Lue(e){return Xt("MuiPopper",e)}tn("MuiPopper",["root"]);const Nue=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],zue=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function jue(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function CA(e){return typeof e=="function"?e():e}function Bue(e){return e.nodeType!==void 0}const Fue=()=>en({root:["root"]},mce(Lue)),Uue={},Vue=V.forwardRef(function(t,n){var r;const{anchorEl:i,children:o,direction:s,disablePortal:a,modifiers:f,open:h,placement:g,popperOptions:y,popperRef:x,slotProps:P={},slots:O={},TransitionProps:S}=t,A=mt(t,Nue),I=V.useRef(null),M=li(I,n),k=V.useRef(null),$=li(k,x),L=V.useRef($);Ns(()=>{L.current=$},[$]),V.useImperativeHandle(x,()=>k.current,[]);const N=jue(g,s),[F,G]=V.useState(N),[J,ee]=V.useState(CA(i));V.useEffect(()=>{k.current&&k.current.forceUpdate()}),V.useEffect(()=>{i&&ee(CA(i))},[i]),Ns(()=>{if(!J||!h)return;const Ce=Se=>{G(Se.placement)};let Oe=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Se})=>{Ce(Se)}}];f!=null&&(Oe=Oe.concat(f)),y&&y.modifiers!=null&&(Oe=Oe.concat(y.modifiers));const Ee=Rue(J,I.current,te({placement:N},y,{modifiers:Oe}));return L.current(Ee),()=>{Ee.destroy(),L.current(null)}},[J,a,f,h,y,N]);const ae={placement:F};S!==null&&(ae.TransitionProps=S);const pe=Fue(),ye=(r=O.root)!=null?r:"div",we=ac({elementType:ye,externalSlotProps:P.root,externalForwardedProps:A,additionalProps:{role:"tooltip",ref:M},ownerState:t,className:pe.root});return z.jsx(ye,te({},we,{children:typeof o=="function"?o(ae):o}))}),Wue=V.forwardRef(function(t,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:f=!1,modifiers:h,open:g,placement:y="bottom",popperOptions:x=Uue,popperRef:P,style:O,transition:S=!1,slotProps:A={},slots:I={}}=t,M=mt(t,zue),[k,$]=V.useState(!0),L=()=>{$(!1)},N=()=>{$(!0)};if(!f&&!g&&(!S||k))return null;let F;if(o)F=o;else if(r){const ee=CA(r);F=ee&&Bue(ee)?Vi(ee).body:Vi(null).body}const G=!g&&f&&(!S||k)?"none":void 0,J=S?{in:g,onEnter:L,onExited:N}:void 0;return z.jsx(z9,{disablePortal:a,container:F,children:z.jsx(Vue,te({anchorEl:r,direction:s,disablePortal:a,modifiers:h,ref:n,open:S?!k:g,placement:y,popperOptions:x,popperRef:P,slotProps:A,slots:I},M,{style:te({position:"fixed",top:0,left:0,display:G},O),TransitionProps:J,children:i}))})});function que(e){const t=Vi(e);return t.body===e?Dd(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function b0(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function a3(e){return parseInt(Dd(e).getComputedStyle(e).paddingRight,10)||0}function Gue(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function s3(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,s=>{const a=o.indexOf(s)===-1,f=!Gue(s);a&&f&&b0(s,i)})}function Bk(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function Hue(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(que(r)){const s=ZW(Vi(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${a3(r)+s}px`;const a=Vi(r).querySelectorAll(".mui-fixed");[].forEach.call(a,f=>{n.push({value:f.style.paddingRight,property:"padding-right",el:f}),f.style.paddingRight=`${a3(f)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Vi(r).body;else{const s=r.parentElement,a=Dd(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function Yue(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class Kue{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&b0(t.modalRef,!1);const i=Yue(n);s3(n,t.mount,t.modalRef,i,!0);const o=Bk(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=Bk(this.containers,o=>o.modals.indexOf(t)!==-1),i=this.containers[r];i.restore||(i.restore=Hue(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=Bk(this.containers,s=>s.modals.indexOf(t)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&b0(t.modalRef,n),s3(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&b0(s.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function Zue(e){return typeof e=="function"?e():e}function Xue(e){return e?e.props.hasOwnProperty("in"):!1}const Jue=new Kue;function Que(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=Jue,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:f,onClose:h,open:g,rootRef:y}=e,x=V.useRef({}),P=V.useRef(null),O=V.useRef(null),S=li(O,y),[A,I]=V.useState(!g),M=Xue(f);let k=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(k=!1);const $=()=>Vi(P.current),L=()=>(x.current.modalRef=O.current,x.current.mount=P.current,x.current),N=()=>{i.mount(L(),{disableScrollLock:r}),O.current&&(O.current.scrollTop=0)},F=ml(()=>{const Oe=Zue(t)||$().body;i.add(L(),Oe),O.current&&N()}),G=V.useCallback(()=>i.isTopModal(L()),[i]),J=ml(Oe=>{P.current=Oe,Oe&&(g&&G()?N():O.current&&b0(O.current,k))}),ee=V.useCallback(()=>{i.remove(L(),k)},[k,i]);V.useEffect(()=>()=>{ee()},[ee]),V.useEffect(()=>{g?F():(!M||!o)&&ee()},[g,ee,M,o,F]);const ae=Oe=>Ee=>{var Se;(Se=Oe.onKeyDown)==null||Se.call(Oe,Ee),!(Ee.key!=="Escape"||!G())&&(n||(Ee.stopPropagation(),h&&h(Ee,"escapeKeyDown")))},pe=Oe=>Ee=>{var Se;(Se=Oe.onClick)==null||Se.call(Oe,Ee),Ee.target===Ee.currentTarget&&h&&h(Ee,"backdropClick")};return{getRootProps:(Oe={})=>{const Ee=Gw(e);delete Ee.onTransitionEnter,delete Ee.onTransitionExited;const Se=te({},Ee,Oe);return te({role:"presentation"},Se,{onKeyDown:ae(Se),ref:S})},getBackdropProps:(Oe={})=>{const Ee=Oe;return te({"aria-hidden":!0},Ee,{onClick:pe(Ee),open:g})},getTransitionProps:()=>{const Oe=()=>{I(!1),s&&s()},Ee=()=>{I(!0),a&&a(),o&&ee()};return{onEnter:fA(Oe,f==null?void 0:f.props.onEnter),onExited:fA(Ee,f==null?void 0:f.props.onExited)}},rootRef:S,portalRef:J,isTopModal:G,exited:A,hasTransition:M}}function ede(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:o}=e,s=V.useRef();V.useEffect(()=>{if(!i)return;function I(M){M.defaultPrevented||(M.key==="Escape"||M.key==="Esc")&&(r==null||r(M,"escapeKeyDown"))}return document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)}},[i,r]);const a=ml((I,M)=>{r==null||r(I,M)}),f=ml(I=>{!r||I==null||(clearTimeout(s.current),s.current=setTimeout(()=>{a(null,"timeout")},I))});V.useEffect(()=>(i&&f(t),()=>{clearTimeout(s.current)}),[i,t,f]);const h=I=>{r==null||r(I,"clickaway")},g=()=>{clearTimeout(s.current)},y=V.useCallback(()=>{t!=null&&f(o??t*.5)},[t,o,f]),x=I=>M=>{const k=I.onBlur;k==null||k(M),y()},P=I=>M=>{const k=I.onFocus;k==null||k(M),g()},O=I=>M=>{const k=I.onMouseEnter;k==null||k(M),g()},S=I=>M=>{const k=I.onMouseLeave;k==null||k(M),y()};return V.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",y),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",y),window.removeEventListener("blur",g)}},[n,y,i]),{getRootProps:(I={})=>{const M=te({},Gw(e),Gw(I));return te({role:"presentation"},I,M,{onBlur:x(M),onFocus:P(M),onMouseEnter:O(M),onMouseLeave:S(M)})},onClickAway:h}}const tde=["onChange","maxRows","minRows","style","value"];function i1(e){return parseInt(e,10)||0}const nde={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function l3(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflow}const rde=V.forwardRef(function(t,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a}=t,f=mt(t,tde),{current:h}=V.useRef(a!=null),g=V.useRef(null),y=li(n,g),x=V.useRef(null),P=V.useRef(0),[O,S]=V.useState({outerHeightStyle:0}),A=V.useCallback(()=>{const $=g.current,N=Dd($).getComputedStyle($);if(N.width==="0px")return{outerHeightStyle:0};const F=x.current;F.style.width=N.width,F.value=$.value||t.placeholder||"x",F.value.slice(-1)===`
`&&(F.value+=" ");const G=N.boxSizing,J=i1(N.paddingBottom)+i1(N.paddingTop),ee=i1(N.borderBottomWidth)+i1(N.borderTopWidth),ae=F.scrollHeight;F.value="x";const pe=F.scrollHeight;let ye=ae;o&&(ye=Math.max(Number(o)*pe,ye)),i&&(ye=Math.min(Number(i)*pe,ye)),ye=Math.max(ye,pe);const we=ye+(G==="border-box"?J+ee:0),Ce=Math.abs(ye-ae)<=1;return{outerHeightStyle:we,overflow:Ce}},[i,o,t.placeholder]),I=($,L)=>{const{outerHeightStyle:N,overflow:F}=L;return P.current<20&&(N>0&&Math.abs(($.outerHeightStyle||0)-N)>1||$.overflow!==F)?(P.current+=1,{overflow:F,outerHeightStyle:N}):$},M=V.useCallback(()=>{const $=A();l3($)||S(L=>I(L,$))},[A]);Ns(()=>{const $=()=>{const ae=A();l3(ae)||uc.flushSync(()=>{S(pe=>I(pe,ae))})},L=()=>{P.current=0,$()};let N;const F=I$(L),G=g.current,J=Dd(G);J.addEventListener("resize",F);let ee;return typeof ResizeObserver<"u"&&(ee=new ResizeObserver(L),ee.observe(G)),()=>{F.clear(),cancelAnimationFrame(N),J.removeEventListener("resize",F),ee&&ee.disconnect()}},[A]),Ns(()=>{M()}),V.useEffect(()=>{P.current=0},[a]);const k=$=>{P.current=0,h||M(),r&&r($)};return z.jsxs(V.Fragment,{children:[z.jsx("textarea",te({value:a,onChange:k,ref:y,rows:o,style:te({height:O.outerHeightStyle,overflow:O.overflow?"hidden":void 0},s)},f)),z.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:x,tabIndex:-1,style:te({},nde.shadow,s,{paddingTop:0,paddingBottom:0})})]})}),ide=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],ode=lt(Wue,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ade=V.forwardRef(function(t,n){var r;const i=q$(),o=nn({props:t,name:"MuiPopper"}),{anchorEl:s,component:a,components:f,componentsProps:h,container:g,disablePortal:y,keepMounted:x,modifiers:P,open:O,placement:S,popperOptions:A,popperRef:I,transition:M,slots:k,slotProps:$}=o,L=mt(o,ide),N=(r=k==null?void 0:k.root)!=null?r:f==null?void 0:f.Root,F=te({anchorEl:s,container:g,disablePortal:y,keepMounted:x,modifiers:P,open:O,placement:S,popperOptions:A,popperRef:I,transition:M},L);return z.jsx(ode,te({as:a,direction:i==null?void 0:i.direction,slots:{root:N},slotProps:$??h},F,{ref:n}))}),j9=ade;function Gd({props:e,states:t,muiFormControl:n}){return t.reduce((r,i)=>(r[i]=e[i],n&&typeof e[i]>"u"&&(r[i]=n[i]),r),{})}const sde=V.createContext(void 0),gC=sde;function dc(){return V.useContext(gC)}function B9(e){return z.jsx(Sae,te({},e,{defaultTheme:hC,themeId:gh}))}function c3(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function Yw(e,t=!1){return e&&(c3(e.value)&&e.value!==""||t&&c3(e.defaultValue)&&e.defaultValue!=="")}function lde(e){return e.startAdornment}function cde(e){return Xt("MuiInputBase",e)}const ude=tn("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Qm=ude,dde=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],yC=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${ot(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},vC=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},fde=e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:f,hiddenLabel:h,multiline:g,readOnly:y,size:x,startAdornment:P,type:O}=e,S={root:["root",`color${ot(n)}`,r&&"disabled",i&&"error",f&&"fullWidth",s&&"focused",a&&"formControl",x&&x!=="medium"&&`size${ot(x)}`,g&&"multiline",P&&"adornedStart",o&&"adornedEnd",h&&"hiddenLabel",y&&"readOnly"],input:["input",r&&"disabled",O==="search"&&"inputTypeSearch",g&&"inputMultiline",x==="small"&&"inputSizeSmall",h&&"inputHiddenLabel",P&&"inputAdornedStart",o&&"inputAdornedEnd",y&&"readOnly"]};return en(S,cde,t)},bC=lt("div",{name:"MuiInputBase",slot:"Root",overridesResolver:yC})(({theme:e,ownerState:t})=>te({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Qm.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&te({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),xC=lt("input",{name:"MuiInputBase",slot:"Input",overridesResolver:vC})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",r=te({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),i={opacity:"0 !important"},o=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return te({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Qm.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${Qm.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),hde=z.jsx(B9,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),pde=V.forwardRef(function(t,n){var r;const i=nn({props:t,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:f,components:h={},componentsProps:g={},defaultValue:y,disabled:x,disableInjectingGlobalStyles:P,endAdornment:O,fullWidth:S=!1,id:A,inputComponent:I="input",inputProps:M={},inputRef:k,maxRows:$,minRows:L,multiline:N=!1,name:F,onBlur:G,onChange:J,onClick:ee,onFocus:ae,onKeyDown:pe,onKeyUp:ye,placeholder:we,readOnly:Ce,renderSuffix:Oe,rows:Ee,slotProps:Se={},slots:De={},startAdornment:We,type:dt="text",value:ht}=i,Je=mt(i,dde),it=M.value!=null?M.value:ht,{current:Ot}=V.useRef(it!=null),at=V.useRef(),Gt=V.useCallback(Nn=>{},[]),Ht=li(at,k,M.ref,Gt),[He,vt]=V.useState(!1),yt=dc(),Ve=Gd({props:i,muiFormControl:yt,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ve.focused=yt?yt.focused:He,V.useEffect(()=>{!yt&&x&&He&&(vt(!1),G&&G())},[yt,x,He,G]);const Ct=yt&&yt.onFilled,Tt=yt&&yt.onEmpty,qt=V.useCallback(Nn=>{Yw(Nn)?Ct&&Ct():Tt&&Tt()},[Ct,Tt]);Ns(()=>{Ot&&qt({value:it})},[it,qt,Ot]);const vn=Nn=>{if(Ve.disabled){Nn.stopPropagation();return}ae&&ae(Nn),M.onFocus&&M.onFocus(Nn),yt&&yt.onFocus?yt.onFocus(Nn):vt(!0)},Mn=Nn=>{G&&G(Nn),M.onBlur&&M.onBlur(Nn),yt&&yt.onBlur?yt.onBlur(Nn):vt(!1)},_n=(Nn,...rn)=>{if(!Ot){const Xn=Nn.target||at.current;if(Xn==null)throw new Error(Rd(1));qt({value:Xn.value})}M.onChange&&M.onChange(Nn,...rn),J&&J(Nn,...rn)};V.useEffect(()=>{qt(at.current)},[]);const rr=Nn=>{at.current&&Nn.currentTarget===Nn.target&&at.current.focus(),ee&&ee(Nn)};let Tn=I,Ne=M;N&&Tn==="input"&&(Ee?Ne=te({type:void 0,minRows:Ee,maxRows:Ee},Ne):Ne=te({type:void 0,maxRows:$,minRows:L},Ne),Tn=rde);const $n=Nn=>{qt(Nn.animationName==="mui-auto-fill-cancel"?at.current:{value:"x"})};V.useEffect(()=>{yt&&yt.setAdornedStart(!!We)},[yt,We]);const Hn=te({},i,{color:Ve.color||"primary",disabled:Ve.disabled,endAdornment:O,error:Ve.error,focused:Ve.focused,formControl:yt,fullWidth:S,hiddenLabel:Ve.hiddenLabel,multiline:N,size:Ve.size,startAdornment:We,type:dt}),Dt=fde(Hn),Kt=De.root||h.Root||bC,ir=Se.root||g.root||{},br=De.input||h.Input||xC;return Ne=te({},Ne,(r=Se.input)!=null?r:g.input),z.jsxs(V.Fragment,{children:[!P&&hde,z.jsxs(Kt,te({},ir,!qw(Kt)&&{ownerState:te({},Hn,ir.ownerState)},{ref:n,onClick:rr},Je,{className:Pt(Dt.root,ir.className,f,Ce&&"MuiInputBase-readOnly"),children:[We,z.jsx(gC.Provider,{value:null,children:z.jsx(br,te({ownerState:Hn,"aria-invalid":Ve.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:y,disabled:Ve.disabled,id:A,onAnimationStart:$n,name:F,placeholder:we,readOnly:Ce,required:Ve.required,rows:Ee,value:it,onKeyDown:pe,onKeyUp:ye,type:dt},Ne,!qw(br)&&{as:Tn,ownerState:te({},Hn,Ne.ownerState)},{ref:Ht,className:Pt(Dt.input,Ne.className,Ce&&"MuiInputBase-readOnly"),onBlur:Mn,onChange:_n,onFocus:vn}))}),O,Oe?Oe(te({},Ve,{startAdornment:We})):null]}))]})}),sR=pde;function mde(e){return Xt("MuiInput",e)}const gde=te({},Qm,tn("MuiInput",["root","underline","input"])),xv=gde;function yde(e){return Xt("MuiOutlinedInput",e)}const vde=te({},Qm,tn("MuiOutlinedInput",["root","notchedOutline","input"])),Gu=vde;function bde(e){return Xt("MuiFilledInput",e)}const xde=te({},Qm,tn("MuiFilledInput",["root","underline","input"])),Tf=xde,_de=Mg(z.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),wde=Mg(z.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Sde(e){return Xt("MuiAvatar",e)}tn("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Cde=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],Ede=e=>{const{classes:t,variant:n,colorDefault:r}=e;return en({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},Sde,t)},Tde=lt("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})(({theme:e,ownerState:t})=>te({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.variant==="square"&&{borderRadius:0},t.colorDefault&&te({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600]}))),kde=lt("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Pde=lt(wde,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});function Ode({crossOrigin:e,referrerPolicy:t,src:n,srcSet:r}){const[i,o]=V.useState(!1);return V.useEffect(()=>{if(!n&&!r)return;o(!1);let s=!0;const a=new Image;return a.onload=()=>{s&&o("loaded")},a.onerror=()=>{s&&o("error")},a.crossOrigin=e,a.referrerPolicy=t,a.src=n,r&&(a.srcset=r),()=>{s=!1}},[e,t,n,r]),i}const Ade=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:a="div",imgProps:f,sizes:h,src:g,srcSet:y,variant:x="circular"}=r,P=mt(r,Cde);let O=null;const S=Ode(te({},f,{src:g,srcSet:y})),A=g||y,I=A&&S!=="error",M=te({},r,{colorDefault:!I,component:a,variant:x}),k=Ede(M);return I?O=z.jsx(kde,te({alt:i,srcSet:y,src:g,sizes:h,ownerState:M,className:k.img},f)):o!=null?O=o:A&&i?O=i[0]:O=z.jsx(Pde,{ownerState:M,className:k.fallback}),z.jsx(Tde,te({as:a,ownerState:M,className:Pt(k.root,s),ref:n},P,{children:O}))}),Mde=Ade,Ide=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],$de={entering:{opacity:1},entered:{opacity:1}},Rde=V.forwardRef(function(t,n){const r=mu(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:f,in:h,onEnter:g,onEntered:y,onEntering:x,onExit:P,onExited:O,onExiting:S,style:A,timeout:I=i,TransitionComponent:M=Z$}=t,k=mt(t,Ide),$=V.useRef(null),L=li($,a.ref,n),N=we=>Ce=>{if(we){const Oe=$.current;Ce===void 0?we(Oe):we(Oe,Ce)}},F=N(x),G=N((we,Ce)=>{T9(we);const Oe=Ym({style:A,timeout:I,easing:f},{mode:"enter"});we.style.webkitTransition=r.transitions.create("opacity",Oe),we.style.transition=r.transitions.create("opacity",Oe),g&&g(we,Ce)}),J=N(y),ee=N(S),ae=N(we=>{const Ce=Ym({style:A,timeout:I,easing:f},{mode:"exit"});we.style.webkitTransition=r.transitions.create("opacity",Ce),we.style.transition=r.transitions.create("opacity",Ce),P&&P(we)}),pe=N(O),ye=we=>{o&&o($.current,we)};return z.jsx(M,te({appear:s,in:h,nodeRef:$,onEnter:G,onEntered:J,onEntering:F,onExit:ae,onExited:pe,onExiting:ee,addEndListener:ye,timeout:I},k,{children:(we,Ce)=>V.cloneElement(a,te({style:te({opacity:0,visibility:we==="exited"&&!h?"hidden":void 0},$de[we],A,a.props.style),ref:L},Ce))}))}),Dde=Rde;function Lde(e){return Xt("MuiBackdrop",e)}tn("MuiBackdrop",["root","invisible"]);const Nde=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],zde=e=>{const{classes:t,invisible:n}=e;return en({root:["root",n&&"invisible"]},Lde,t)},jde=lt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>te({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),Bde=V.forwardRef(function(t,n){var r,i,o;const s=nn({props:t,name:"MuiBackdrop"}),{children:a,className:f,component:h="div",components:g={},componentsProps:y={},invisible:x=!1,open:P,slotProps:O={},slots:S={},TransitionComponent:A=Dde,transitionDuration:I}=s,M=mt(s,Nde),k=te({},s,{component:h,invisible:x}),$=zde(k),L=(r=O.root)!=null?r:y.root;return z.jsx(A,te({in:P,timeout:I},M,{children:z.jsx(jde,te({"aria-hidden":!0},L,{as:(i=(o=S.root)!=null?o:g.Root)!=null?i:h,className:Pt($.root,f,L==null?void 0:L.className),ownerState:te({},k,L==null?void 0:L.ownerState),classes:$,ref:n,children:a}))}))}),Fde=Bde;function Ude(e){return Xt("MuiBadge",e)}const Vde=tn("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Hu=Vde,Wde=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],Fk=10,Uk=4,qde=e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:i,variant:o,classes:s={}}=e,a={root:["root"],badge:["badge",o,r&&"invisible",`anchorOrigin${ot(n.vertical)}${ot(n.horizontal)}`,`anchorOrigin${ot(n.vertical)}${ot(n.horizontal)}${ot(i)}`,`overlap${ot(i)}`,t!=="default"&&`color${ot(t)}`]};return en(a,Ude,s)},Gde=lt("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Hde=lt("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${ot(n.anchorOrigin.vertical)}${ot(n.anchorOrigin.horizontal)}${ot(n.overlap)}`],n.color!=="default"&&t[`color${ot(n.color)}`],n.invisible&&t.invisible]}})(({theme:e,ownerState:t})=>te({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:Fk*2,lineHeight:1,padding:"0 6px",height:Fk*2,borderRadius:Fk,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.variant==="dot"&&{borderRadius:Uk,height:Uk*2,minWidth:Uk*2,padding:0},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Hu.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Hu.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Hu.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Hu.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Hu.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Hu.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Hu.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Hu.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.invisible&&{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})})),Yde=V.forwardRef(function(t,n){var r,i,o,s,a,f;const h=nn({props:t,name:"MuiBadge"}),{anchorOrigin:g={vertical:"top",horizontal:"right"},className:y,component:x,components:P={},componentsProps:O={},children:S,overlap:A="rectangular",color:I="default",invisible:M=!1,max:k=99,badgeContent:$,slots:L,slotProps:N,showZero:F=!1,variant:G="standard"}=h,J=mt(h,Wde),{badgeContent:ee,invisible:ae,max:pe,displayValue:ye}=bce({max:k,invisible:M,badgeContent:$,showZero:F}),we=XW({anchorOrigin:g,color:I,overlap:A,variant:G,badgeContent:$}),Ce=ae||ee==null&&G!=="dot",{color:Oe=I,overlap:Ee=A,anchorOrigin:Se=g,variant:De=G}=Ce?we:h,We=De!=="dot"?ye:void 0,dt=te({},h,{badgeContent:ee,invisible:Ce,max:pe,displayValue:We,showZero:F,anchorOrigin:Se,color:Oe,overlap:Ee,variant:De}),ht=qde(dt),Je=(r=(i=L==null?void 0:L.root)!=null?i:P.Root)!=null?r:Gde,it=(o=(s=L==null?void 0:L.badge)!=null?s:P.Badge)!=null?o:Hde,Ot=(a=N==null?void 0:N.root)!=null?a:O.root,at=(f=N==null?void 0:N.badge)!=null?f:O.badge,Gt=ac({elementType:Je,externalSlotProps:Ot,externalForwardedProps:J,additionalProps:{ref:n,as:x},ownerState:dt,className:Pt(Ot==null?void 0:Ot.className,ht.root,y)}),Ht=ac({elementType:it,externalSlotProps:at,ownerState:dt,className:Pt(ht.badge,at==null?void 0:at.className)});return z.jsxs(Je,te({},Gt,{children:[S,z.jsx(it,te({},Ht,{children:We}))]}))}),Kde=Yde,Zde=K$(),Xde=kae({themeId:gh,defaultTheme:Zde,defaultClassName:"MuiBox-root",generateClassName:R$.generate}),Uc=Xde;function Jde(e){return Xt("MuiButton",e)}const Qde=tn("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),o1=Qde,efe=V.createContext({}),F9=efe,tfe=V.createContext(void 0),U9=tfe,nfe=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],rfe=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=e,a={root:["root",o,`${o}${ot(t)}`,`size${ot(i)}`,`${o}Size${ot(i)}`,t==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${ot(i)}`],endIcon:["endIcon",`iconSize${ot(i)}`]},f=en(a,Jde,s);return te({},s,f)},V9=e=>te({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),ife=lt(Ig,{shouldForwardProp:e=>Vs(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${ot(n.color)}`],t[`size${ot(n.size)}`],t[`${n.variant}Size${ot(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const i=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],o=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return te({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":te({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Cr(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Cr(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Cr(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":te({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${o1.focusVisible}`]:te({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${o1.disabled}`]:te({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${Cr(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:i,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${o1.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${o1.disabled}`]:{boxShadow:"none"}}),ofe=lt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${ot(n.size)}`]]}})(({ownerState:e})=>te({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},V9(e))),afe=lt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${ot(n.size)}`]]}})(({ownerState:e})=>te({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},V9(e))),sfe=V.forwardRef(function(t,n){const r=V.useContext(F9),i=V.useContext(U9),o=$$(r,t),s=nn({props:o,name:"MuiButton"}),{children:a,color:f="primary",component:h="button",className:g,disabled:y=!1,disableElevation:x=!1,disableFocusRipple:P=!1,endIcon:O,focusVisibleClassName:S,fullWidth:A=!1,size:I="medium",startIcon:M,type:k,variant:$="text"}=s,L=mt(s,nfe),N=te({},s,{color:f,component:h,disabled:y,disableElevation:x,disableFocusRipple:P,fullWidth:A,size:I,type:k,variant:$}),F=rfe(N),G=M&&z.jsx(ofe,{className:F.startIcon,ownerState:N,children:M}),J=O&&z.jsx(afe,{className:F.endIcon,ownerState:N,children:O}),ee=i||"";return z.jsxs(ife,te({ownerState:N,className:Pt(r.className,F.root,g,ee),component:h,disabled:y,focusRipple:!P,focusVisibleClassName:Pt(F.focusVisible,S),ref:n,type:k},L,{classes:F,children:[G,a,J]}))}),hr=sfe;function lfe(e){return Xt("MuiButtonGroup",e)}const cfe=tn("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),mo=cfe,ufe=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],dfe=(e,t)=>{const{ownerState:n}=e;return[{[`& .${mo.grouped}`]:t.grouped},{[`& .${mo.grouped}`]:t[`grouped${ot(n.orientation)}`]},{[`& .${mo.grouped}`]:t[`grouped${ot(n.variant)}`]},{[`& .${mo.grouped}`]:t[`grouped${ot(n.variant)}${ot(n.orientation)}`]},{[`& .${mo.grouped}`]:t[`grouped${ot(n.variant)}${ot(n.color)}`]},{[`& .${mo.firstButton}`]:t.firstButton},{[`& .${mo.lastButton}`]:t.lastButton},{[`& .${mo.middleButton}`]:t.middleButton},t.root,t[n.variant],n.disableElevation===!0&&t.disableElevation,n.fullWidth&&t.fullWidth,n.orientation==="vertical"&&t.vertical]},ffe=e=>{const{classes:t,color:n,disabled:r,disableElevation:i,fullWidth:o,orientation:s,variant:a}=e,f={root:["root",a,s==="vertical"&&"vertical",o&&"fullWidth",i&&"disableElevation"],grouped:["grouped",`grouped${ot(s)}`,`grouped${ot(a)}`,`grouped${ot(a)}${ot(s)}`,`grouped${ot(a)}${ot(n)}`,r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return en(f,lfe,t)},hfe=lt("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:dfe})(({theme:e,ownerState:t})=>te({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${mo.grouped}`]:te({minWidth:40,"&:hover":te({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"}),[`& .${mo.firstButton},& .${mo.middleButton}`]:te({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${mo.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${mo.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:Cr(e.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${mo.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${mo.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":te({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${mo.lastButton},& .${mo.middleButton}`]:te({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1})})),pfe=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiButtonGroup"}),{children:i,className:o,color:s="primary",component:a="div",disabled:f=!1,disableElevation:h=!1,disableFocusRipple:g=!1,disableRipple:y=!1,fullWidth:x=!1,orientation:P="horizontal",size:O="medium",variant:S="outlined"}=r,A=mt(r,ufe),I=te({},r,{color:s,component:a,disabled:f,disableElevation:h,disableFocusRipple:g,disableRipple:y,fullWidth:x,orientation:P,size:O,variant:S}),M=ffe(I),k=V.useMemo(()=>({className:M.grouped,color:s,disabled:f,disableElevation:h,disableFocusRipple:g,disableRipple:y,fullWidth:x,size:O,variant:S}),[s,f,h,g,y,x,O,S,M.grouped]),$=kie(i),L=$.length,N=F=>{const G=F===0,J=F===L-1;return G&&J?"":G?M.firstButton:J?M.lastButton:M.middleButton};return z.jsx(hfe,te({as:a,role:"group",className:Pt(M.root,o),ref:n,ownerState:I},A,{children:z.jsx(F9.Provider,{value:k,children:$.map((F,G)=>z.jsx(U9.Provider,{value:N(G),children:F},G))})}))}),mfe=pfe;function gfe(e){return Xt("MuiCard",e)}tn("MuiCard",["root"]);const yfe=["className","raised"],vfe=e=>{const{classes:t}=e;return en({root:["root"]},gfe,t)},bfe=lt(_l,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),xfe=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiCard"}),{className:i,raised:o=!1}=r,s=mt(r,yfe),a=te({},r,{raised:o}),f=vfe(a);return z.jsx(bfe,te({className:Pt(f.root,i),elevation:o?8:void 0,ref:n,ownerState:a},s))}),yu=xfe;function _fe(e){return Xt("MuiCardActions",e)}tn("MuiCardActions",["root","spacing"]);const wfe=["disableSpacing","className"],Sfe=e=>{const{classes:t,disableSpacing:n}=e;return en({root:["root",!n&&"spacing"]},_fe,t)},Cfe=lt("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>te({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),Efe=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiCardActions"}),{disableSpacing:i=!1,className:o}=r,s=mt(r,wfe),a=te({},r,{disableSpacing:i}),f=Sfe(a);return z.jsx(Cfe,te({className:Pt(f.root,o),ownerState:a,ref:n},s))}),W9=Efe;function Tfe(e){return Xt("MuiCardContent",e)}tn("MuiCardContent",["root"]);const kfe=["className","component"],Pfe=e=>{const{classes:t}=e;return en({root:["root"]},Tfe,t)},Ofe=lt("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Afe=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiCardContent"}),{className:i,component:o="div"}=r,s=mt(r,kfe),a=te({},r,{component:o}),f=Pfe(a);return z.jsx(Ofe,te({as:o,className:Pt(f.root,i),ownerState:a,ref:n},s))}),lR=Afe;function Mfe(e){return Xt("MuiCardMedia",e)}tn("MuiCardMedia",["root","media","img"]);const Ife=["children","className","component","image","src","style"],$fe=e=>{const{classes:t,isMediaComponent:n,isImageComponent:r}=e;return en({root:["root",n&&"media",r&&"img"]},Mfe,t)},Rfe=lt("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{isMediaComponent:r,isImageComponent:i}=n;return[t.root,r&&t.media,i&&t.img]}})(({ownerState:e})=>te({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),Dfe=["video","audio","picture","iframe","img"],Lfe=["picture","img"],Nfe=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiCardMedia"}),{children:i,className:o,component:s="div",image:a,src:f,style:h}=r,g=mt(r,Ife),y=Dfe.indexOf(s)!==-1,x=!y&&a?te({backgroundImage:`url("${a}")`},h):h,P=te({},r,{component:s,isMediaComponent:y,isImageComponent:Lfe.indexOf(s)!==-1}),O=$fe(P);return z.jsx(Rfe,te({className:Pt(O.root,o),as:s,role:!y&&a?"img":void 0,ref:n,style:x,ownerState:P,src:y?a||f:void 0},g,{children:i}))}),zfe=Nfe;function jfe(e){return Xt("PrivateSwitchBase",e)}tn("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Bfe=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],Ffe=e=>{const{classes:t,checked:n,disabled:r,edge:i}=e,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${ot(i)}`],input:["input"]};return en(o,jfe,t)},Ufe=lt(Ig)(({ownerState:e})=>te({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),Vfe=lt("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Wfe=V.forwardRef(function(t,n){const{autoFocus:r,checked:i,checkedIcon:o,className:s,defaultChecked:a,disabled:f,disableFocusRipple:h=!1,edge:g=!1,icon:y,id:x,inputProps:P,inputRef:O,name:S,onBlur:A,onChange:I,onFocus:M,readOnly:k,required:$=!1,tabIndex:L,type:N,value:F}=t,G=mt(t,Bfe),[J,ee]=qm({controlled:i,default:!!a,name:"SwitchBase",state:"checked"}),ae=dc(),pe=De=>{M&&M(De),ae&&ae.onFocus&&ae.onFocus(De)},ye=De=>{A&&A(De),ae&&ae.onBlur&&ae.onBlur(De)},we=De=>{if(De.nativeEvent.defaultPrevented)return;const We=De.target.checked;ee(We),I&&I(De,We)};let Ce=f;ae&&typeof Ce>"u"&&(Ce=ae.disabled);const Oe=N==="checkbox"||N==="radio",Ee=te({},t,{checked:J,disabled:Ce,disableFocusRipple:h,edge:g}),Se=Ffe(Ee);return z.jsxs(Ufe,te({component:"span",className:Pt(Se.root,s),centerRipple:!0,focusRipple:!h,disabled:Ce,tabIndex:null,role:void 0,onFocus:pe,onBlur:ye,ownerState:Ee,ref:n},G,{children:[z.jsx(Vfe,te({autoFocus:r,checked:i,defaultChecked:a,className:Se.input,disabled:Ce,id:Oe?x:void 0,name:S,onChange:we,readOnly:k,ref:O,required:$,ownerState:Ee,tabIndex:L,type:N},N==="checkbox"&&F===void 0?{}:{value:F},P)),J?o:y]}))}),q9=Wfe,qfe=Mg(z.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Gfe=Mg(z.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Hfe=Mg(z.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Yfe(e){return Xt("MuiCheckbox",e)}const Kfe=tn("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Vk=Kfe,Zfe=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],Xfe=e=>{const{classes:t,indeterminate:n,color:r,size:i}=e,o={root:["root",n&&"indeterminate",`color${ot(r)}`,`size${ot(i)}`]},s=en(o,Yfe,t);return te({},t,s)},Jfe=lt(q9,{shouldForwardProp:e=>Vs(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,n.color!=="default"&&t[`color${ot(n.color)}`]]}})(({theme:e,ownerState:t})=>te({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Cr(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${Vk.checked}, &.${Vk.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${Vk.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),Qfe=z.jsx(Gfe,{}),ehe=z.jsx(qfe,{}),the=z.jsx(Hfe,{}),nhe=V.forwardRef(function(t,n){var r,i;const o=nn({props:t,name:"MuiCheckbox"}),{checkedIcon:s=Qfe,color:a="primary",icon:f=ehe,indeterminate:h=!1,indeterminateIcon:g=the,inputProps:y,size:x="medium",className:P}=o,O=mt(o,Zfe),S=h?g:f,A=h?g:s,I=te({},o,{color:a,indeterminate:h,size:x}),M=Xfe(I);return z.jsx(Jfe,te({type:"checkbox",inputProps:te({"data-indeterminate":h},y),icon:V.cloneElement(S,{fontSize:(r=S.props.fontSize)!=null?r:x}),checkedIcon:V.cloneElement(A,{fontSize:(i=A.props.fontSize)!=null?i:x}),ownerState:I,ref:n,className:Pt(M.root,P)},O,{classes:M}))}),u3=nhe,rhe=ese({createStyledComponent:lt("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${ot(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>nn({props:e,name:"MuiContainer"})}),Kw=rhe,ihe=(e,t)=>te({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),ohe=e=>te({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),ahe=(e,t=!1)=>{var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([s,a])=>{var f;r[e.getColorSchemeSelector(s).replace(/\s*&/,"")]={colorScheme:(f=a.palette)==null?void 0:f.mode}});let i=te({html:ihe(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:te({margin:0},ohe(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const o=(n=e.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return o&&(i=[i,o]),i};function she(e){const t=nn({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return z.jsxs(V.Fragment,{children:[z.jsx(B9,{styles:i=>ahe(i,r)}),n]})}function lhe(e){return Xt("MuiModal",e)}tn("MuiModal",["root","hidden","backdrop"]);const che=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],uhe=e=>{const{open:t,exited:n,classes:r}=e;return en({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},lhe,r)},dhe=lt("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>te({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),fhe=lt(Fde,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),hhe=V.forwardRef(function(t,n){var r,i,o,s,a,f;const h=nn({name:"MuiModal",props:t}),{BackdropComponent:g=fhe,BackdropProps:y,className:x,closeAfterTransition:P=!1,children:O,container:S,component:A,components:I={},componentsProps:M={},disableAutoFocus:k=!1,disableEnforceFocus:$=!1,disableEscapeKeyDown:L=!1,disablePortal:N=!1,disableRestoreFocus:F=!1,disableScrollLock:G=!1,hideBackdrop:J=!1,keepMounted:ee=!1,onBackdropClick:ae,open:pe,slotProps:ye,slots:we}=h,Ce=mt(h,che),Oe=te({},h,{closeAfterTransition:P,disableAutoFocus:k,disableEnforceFocus:$,disableEscapeKeyDown:L,disablePortal:N,disableRestoreFocus:F,disableScrollLock:G,hideBackdrop:J,keepMounted:ee}),{getRootProps:Ee,getBackdropProps:Se,getTransitionProps:De,portalRef:We,isTopModal:dt,exited:ht,hasTransition:Je}=Que(te({},Oe,{rootRef:n})),it=te({},Oe,{exited:ht}),Ot=uhe(it),at={};if(O.props.tabIndex===void 0&&(at.tabIndex="-1"),Je){const{onEnter:Ct,onExited:Tt}=De();at.onEnter=Ct,at.onExited=Tt}const Gt=(r=(i=we==null?void 0:we.root)!=null?i:I.Root)!=null?r:dhe,Ht=(o=(s=we==null?void 0:we.backdrop)!=null?s:I.Backdrop)!=null?o:g,He=(a=ye==null?void 0:ye.root)!=null?a:M.root,vt=(f=ye==null?void 0:ye.backdrop)!=null?f:M.backdrop,yt=ac({elementType:Gt,externalSlotProps:He,externalForwardedProps:Ce,getSlotProps:Ee,additionalProps:{ref:n,as:A},ownerState:it,className:Pt(x,He==null?void 0:He.className,Ot==null?void 0:Ot.root,!it.open&&it.exited&&(Ot==null?void 0:Ot.hidden))}),Ve=ac({elementType:Ht,externalSlotProps:vt,additionalProps:y,getSlotProps:Ct=>Se(te({},Ct,{onClick:Tt=>{ae&&ae(Tt),Ct!=null&&Ct.onClick&&Ct.onClick(Tt)}})),className:Pt(vt==null?void 0:vt.className,y==null?void 0:y.className,Ot==null?void 0:Ot.backdrop),ownerState:it});return!ee&&!pe&&(!Je||ht)?null:z.jsx(z9,{ref:We,container:S,disablePortal:N,children:z.jsxs(Gt,te({},yt,{children:[!J&&g?z.jsx(Ht,te({},Ve)):null,z.jsx(Pce,{disableEnforceFocus:$,disableAutoFocus:k,disableRestoreFocus:F,isEnabled:dt,open:pe,children:V.cloneElement(O,at)})]}))})}),phe=hhe;function mhe(e){return Xt("MuiDivider",e)}const ghe=tn("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),d3=ghe,yhe=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],vhe=e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:f}=e;return en({root:["root",t&&"absolute",f,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},mhe,r)},bhe=lt("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>te({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:Cr(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>te({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>te({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`}}),({theme:e,ownerState:t})=>te({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`}}),({ownerState:e})=>te({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),xhe=lt("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>te({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),G9=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,component:a=o?"div":"hr",flexItem:f=!1,light:h=!1,orientation:g="horizontal",role:y=a!=="hr"?"separator":void 0,textAlign:x="center",variant:P="fullWidth"}=r,O=mt(r,yhe),S=te({},r,{absolute:i,component:a,flexItem:f,light:h,orientation:g,role:y,textAlign:x,variant:P}),A=vhe(S);return z.jsx(bhe,te({as:a,className:Pt(A.root,s),role:y,ref:n,ownerState:S},O,{children:o?z.jsx(xhe,{className:A.wrapper,ownerState:S,children:o}):null}))});G9.muiSkipListHighlight=!0;const _C=G9,_he=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],whe=e=>{const{classes:t,disableUnderline:n}=e,i=en({root:["root",!n&&"underline"],input:["input"]},bde,t);return te({},t,i)},She=lt(bC,{shouldForwardProp:e=>Vs(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...yC(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var n;const r=e.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return te({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o}},[`&.${Tf.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o},[`&.${Tf.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:a}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(n=(e.vars||e).palette[t.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Tf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Tf.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Tf.disabled}, .${Tf.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Tf.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&te({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),Che=lt(xC,{name:"MuiFilledInput",slot:"Input",overridesResolver:vC})(({theme:e,ownerState:t})=>te({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9})),H9=V.forwardRef(function(t,n){var r,i,o,s;const a=nn({props:t,name:"MuiFilledInput"}),{components:f={},componentsProps:h,fullWidth:g=!1,inputComponent:y="input",multiline:x=!1,slotProps:P,slots:O={},type:S="text"}=a,A=mt(a,_he),I=te({},a,{fullWidth:g,inputComponent:y,multiline:x,type:S}),M=whe(a),k={root:{ownerState:I},input:{ownerState:I}},$=P??h?to(P??h,k):k,L=(r=(i=O.root)!=null?i:f.Root)!=null?r:She,N=(o=(s=O.input)!=null?s:f.Input)!=null?o:Che;return z.jsx(sR,te({slots:{root:L,input:N},componentsProps:$,fullWidth:g,inputComponent:y,multiline:x,ref:n,type:S},A,{classes:M}))});H9.muiName="Input";const Y9=H9;function Ehe(e){return Xt("MuiFormControl",e)}tn("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const The=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],khe=e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root",n!=="none"&&`margin${ot(n)}`,r&&"fullWidth"]};return en(i,Ehe,t)},Phe=lt("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>te({},t.root,t[`margin${ot(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>te({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),Ohe=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:f=!1,error:h=!1,focused:g,fullWidth:y=!1,hiddenLabel:x=!1,margin:P="none",required:O=!1,size:S="medium",variant:A="outlined"}=r,I=mt(r,The),M=te({},r,{color:s,component:a,disabled:f,error:h,fullWidth:y,hiddenLabel:x,margin:P,required:O,size:S,variant:A}),k=khe(M),[$,L]=V.useState(()=>{let ye=!1;return i&&V.Children.forEach(i,we=>{if(!W1(we,["Input","Select"]))return;const Ce=W1(we,["Select"])?we.props.input:we;Ce&&lde(Ce.props)&&(ye=!0)}),ye}),[N,F]=V.useState(()=>{let ye=!1;return i&&V.Children.forEach(i,we=>{W1(we,["Input","Select"])&&(Yw(we.props,!0)||Yw(we.props.inputProps,!0))&&(ye=!0)}),ye}),[G,J]=V.useState(!1);f&&G&&J(!1);const ee=g!==void 0&&!f?g:G;let ae;const pe=V.useMemo(()=>({adornedStart:$,setAdornedStart:L,color:s,disabled:f,error:h,filled:N,focused:ee,fullWidth:y,hiddenLabel:x,size:S,onBlur:()=>{J(!1)},onEmpty:()=>{F(!1)},onFilled:()=>{F(!0)},onFocus:()=>{J(!0)},registerEffect:ae,required:O,variant:A}),[$,s,f,h,N,ee,y,x,ae,O,S,A]);return z.jsx(gC.Provider,{value:pe,children:z.jsx(Phe,te({as:a,ownerState:M,className:Pt(k.root,o),ref:n},I,{children:i}))})}),cx=Ohe,Ahe=lse({createStyledComponent:lt("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>nn({props:e,name:"MuiStack"})}),Mhe=Ahe;function Ihe(e){return Xt("MuiFormControlLabel",e)}const $he=tn("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),e0=$he,Rhe=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],Dhe=e=>{const{classes:t,disabled:n,labelPlacement:r,error:i,required:o}=e,s={root:["root",n&&"disabled",`labelPlacement${ot(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return en(s,Ihe,t)},Lhe=lt("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${e0.label}`]:t.label},t.root,t[`labelPlacement${ot(n.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>te({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${e0.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${e0.label}`]:{[`&.${e0.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),Nhe=lt("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${e0.error}`]:{color:(e.vars||e).palette.error.main}})),zhe=V.forwardRef(function(t,n){var r,i;const o=nn({props:t,name:"MuiFormControlLabel"}),{className:s,componentsProps:a={},control:f,disabled:h,disableTypography:g,label:y,labelPlacement:x="end",required:P,slotProps:O={}}=o,S=mt(o,Rhe),A=dc(),I=(r=h??f.props.disabled)!=null?r:A==null?void 0:A.disabled,M=P??f.props.required,k={disabled:I,required:M};["checked","name","onChange","value","inputRef"].forEach(J=>{typeof f.props[J]>"u"&&typeof o[J]<"u"&&(k[J]=o[J])});const $=Gd({props:o,muiFormControl:A,states:["error"]}),L=te({},o,{disabled:I,labelPlacement:x,required:M,error:$.error}),N=Dhe(L),F=(i=O.typography)!=null?i:a.typography;let G=y;return G!=null&&G.type!==xn&&!g&&(G=z.jsx(xn,te({component:"span"},F,{className:Pt(N.label,F==null?void 0:F.className),children:G}))),z.jsxs(Lhe,te({className:Pt(N.root,s),ownerState:L,ref:n},S,{children:[V.cloneElement(f,k),M?z.jsxs(Mhe,{direction:"row",alignItems:"center",children:[G,z.jsxs(Nhe,{ownerState:L,"aria-hidden":!0,className:N.asterisk,children:["","*"]})]}):G]}))}),f3=zhe;function jhe(e){return Xt("MuiFormGroup",e)}tn("MuiFormGroup",["root","row","error"]);const Bhe=["className","row"],Fhe=e=>{const{classes:t,row:n,error:r}=e;return en({root:["root",n&&"row",r&&"error"]},jhe,t)},Uhe=lt("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})(({ownerState:e})=>te({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),Vhe=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiFormGroup"}),{className:i,row:o=!1}=r,s=mt(r,Bhe),a=dc(),f=Gd({props:r,muiFormControl:a,states:["error"]}),h=te({},r,{row:o,error:f.error}),g=Fhe(h);return z.jsx(Uhe,te({className:Pt(g.root,i),ownerState:h,ref:n},s))}),Whe=Vhe;function qhe(e){return Xt("MuiFormHelperText",e)}const Ghe=tn("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),h3=Ghe;var p3;const Hhe=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Yhe=e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:f}=e,h={root:["root",i&&"disabled",o&&"error",r&&`size${ot(r)}`,n&&"contained",a&&"focused",s&&"filled",f&&"required"]};return en(h,qhe,t)},Khe=lt("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${ot(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(({theme:e,ownerState:t})=>te({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${h3.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${h3.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),Zhe=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p"}=r,a=mt(r,Hhe),f=dc(),h=Gd({props:r,muiFormControl:f,states:["variant","size","disabled","error","filled","focused","required"]}),g=te({},r,{component:s,contained:h.variant==="filled"||h.variant==="outlined",variant:h.variant,size:h.size,disabled:h.disabled,error:h.error,filled:h.filled,focused:h.focused,required:h.required}),y=Yhe(g);return z.jsx(Khe,te({as:s,ownerState:g,className:Pt(y.root,o),ref:n},a,{children:i===" "?p3||(p3=z.jsx("span",{className:"notranslate",children:""})):i}))}),Xhe=Zhe;function Jhe(e){return Xt("MuiFormLabel",e)}const Qhe=tn("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),x0=Qhe,epe=["children","className","color","component","disabled","error","filled","focused","required"],tpe=e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=e,f={root:["root",`color${ot(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return en(f,Jhe,t)},npe=lt("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>te({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>te({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${x0.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${x0.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${x0.error}`]:{color:(e.vars||e).palette.error.main}})),rpe=lt("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${x0.error}`]:{color:(e.vars||e).palette.error.main}})),ipe=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiFormLabel"}),{children:i,className:o,component:s="label"}=r,a=mt(r,epe),f=dc(),h=Gd({props:r,muiFormControl:f,states:["color","required","focused","disabled","error","filled"]}),g=te({},r,{color:h.color||"primary",component:s,disabled:h.disabled,error:h.error,filled:h.filled,focused:h.focused,required:h.required}),y=tpe(g);return z.jsxs(npe,te({as:s,ownerState:g,className:Pt(y.root,o),ref:n},a,{children:[i,h.required&&z.jsxs(rpe,{ownerState:g,"aria-hidden":!0,className:y.asterisk,children:["","*"]})]}))}),ope=ipe,ape=V.createContext(),m3=ape;function spe(e){return Xt("MuiGrid",e)}const lpe=[0,1,2,3,4,5,6,7,8,9,10],cpe=["column-reverse","column","row-reverse","row"],upe=["nowrap","wrap-reverse","wrap"],_v=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],sb=tn("MuiGrid",["root","container","item","zeroMinWidth",...lpe.map(e=>`spacing-xs-${e}`),...cpe.map(e=>`direction-xs-${e}`),...upe.map(e=>`wrap-xs-${e}`),..._v.map(e=>`grid-xs-${e}`),..._v.map(e=>`grid-sm-${e}`),..._v.map(e=>`grid-md-${e}`),..._v.map(e=>`grid-lg-${e}`),..._v.map(e=>`grid-xl-${e}`)]),dpe=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Tm(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function fpe({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((r,i)=>{let o={};if(t[i]&&(n=t[i]),!n)return r;if(n===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=eh({values:t.columns,breakpoints:e.breakpoints.values}),a=typeof s=="object"?s[i]:s;if(a==null)return r;const f=`${Math.round(n/a*1e8)/1e6}%`;let h={};if(t.container&&t.item&&t.columnSpacing!==0){const g=e.spacing(t.columnSpacing);if(g!=="0px"){const y=`calc(${f} + ${Tm(g)})`;h={flexBasis:y,maxWidth:y}}}o=te({flexBasis:f,flexGrow:0,maxWidth:f},h)}return e.breakpoints.values[i]===0?Object.assign(r,o):r[e.breakpoints.up(i)]=o,r},{})}function hpe({theme:e,ownerState:t}){const n=eh({values:t.direction,breakpoints:e.breakpoints.values});return Aa({theme:e},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${sb.item}`]={maxWidth:"none"}),i})}function K9({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(i=>{n===""&&t[i]!==0&&(n=i)});const r=Object.keys(e).sort((i,o)=>e[i]-e[o]);return r.slice(0,r.indexOf(n))}function ppe({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let i={};if(n&&r!==0){const o=eh({values:r,breakpoints:e.breakpoints.values});let s;typeof o=="object"&&(s=K9({breakpoints:e.breakpoints.values,values:o})),i=Aa({theme:e},o,(a,f)=>{var h;const g=e.spacing(a);return g!=="0px"?{marginTop:`-${Tm(g)}`,[`& > .${sb.item}`]:{paddingTop:Tm(g)}}:(h=s)!=null&&h.includes(f)?{}:{marginTop:0,[`& > .${sb.item}`]:{paddingTop:0}}})}return i}function mpe({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let i={};if(n&&r!==0){const o=eh({values:r,breakpoints:e.breakpoints.values});let s;typeof o=="object"&&(s=K9({breakpoints:e.breakpoints.values,values:o})),i=Aa({theme:e},o,(a,f)=>{var h;const g=e.spacing(a);return g!=="0px"?{width:`calc(100% + ${Tm(g)})`,marginLeft:`-${Tm(g)}`,[`& > .${sb.item}`]:{paddingLeft:Tm(g)}}:(h=s)!=null&&h.includes(f)?{}:{width:"100%",marginLeft:0,[`& > .${sb.item}`]:{paddingLeft:0}}})}return i}function gpe(e,t,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(i=>{const o=e[i];Number(o)>0&&r.push(n[`spacing-${i}-${String(o)}`])}),r}const ype=lt("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:f,breakpoints:h}=n;let g=[];r&&(g=gpe(s,h,t));const y=[];return h.forEach(x=>{const P=n[x];P&&y.push(t[`grid-${x}-${String(P)}`])}),[t.root,r&&t.container,o&&t.item,f&&t.zeroMinWidth,...g,i!=="row"&&t[`direction-xs-${String(i)}`],a!=="wrap"&&t[`wrap-xs-${String(a)}`],...y]}})(({ownerState:e})=>te({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),hpe,ppe,mpe,fpe);function vpe(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(r=>{const i=e[r];if(Number(i)>0){const o=`spacing-${r}-${String(i)}`;n.push(o)}}),n}const bpe=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:f}=e;let h=[];n&&(h=vpe(o,f));const g=[];f.forEach(x=>{const P=e[x];P&&g.push(`grid-${x}-${String(P)}`)});const y={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...h,r!=="row"&&`direction-xs-${String(r)}`,s!=="wrap"&&`wrap-xs-${String(s)}`,...g]};return en(y,spe,t)},xpe=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiGrid"}),{breakpoints:i}=mu(),o=cC(r),{className:s,columns:a,columnSpacing:f,component:h="div",container:g=!1,direction:y="row",item:x=!1,rowSpacing:P,spacing:O=0,wrap:S="wrap",zeroMinWidth:A=!1}=o,I=mt(o,dpe),M=P||O,k=f||O,$=V.useContext(m3),L=g?a||12:$,N={},F=te({},I);i.keys.forEach(ee=>{I[ee]!=null&&(N[ee]=I[ee],delete F[ee])});const G=te({},o,{columns:L,container:g,direction:y,item:x,rowSpacing:M,columnSpacing:k,wrap:S,zeroMinWidth:A,spacing:O},N,{breakpoints:i.keys}),J=bpe(G);return z.jsx(m3.Provider,{value:L,children:z.jsx(ype,te({ownerState:G,className:Pt(J.root,s),as:h,ref:n},F))})}),g3=xpe,_pe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function EA(e){return`scale(${e}, ${e**2})`}const wpe={entering:{opacity:1,transform:EA(1)},entered:{opacity:1,transform:"none"}},Wk=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Z9=V.forwardRef(function(t,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:f,onEntered:h,onEntering:g,onExit:y,onExited:x,onExiting:P,style:O,timeout:S="auto",TransitionComponent:A=Z$}=t,I=mt(t,_pe),M=V.useRef(),k=V.useRef(),$=mu(),L=V.useRef(null),N=li(L,o.ref,n),F=Ce=>Oe=>{if(Ce){const Ee=L.current;Oe===void 0?Ce(Ee):Ce(Ee,Oe)}},G=F(g),J=F((Ce,Oe)=>{T9(Ce);const{duration:Ee,delay:Se,easing:De}=Ym({style:O,timeout:S,easing:s},{mode:"enter"});let We;S==="auto"?(We=$.transitions.getAutoHeightDuration(Ce.clientHeight),k.current=We):We=Ee,Ce.style.transition=[$.transitions.create("opacity",{duration:We,delay:Se}),$.transitions.create("transform",{duration:Wk?We:We*.666,delay:Se,easing:De})].join(","),f&&f(Ce,Oe)}),ee=F(h),ae=F(P),pe=F(Ce=>{const{duration:Oe,delay:Ee,easing:Se}=Ym({style:O,timeout:S,easing:s},{mode:"exit"});let De;S==="auto"?(De=$.transitions.getAutoHeightDuration(Ce.clientHeight),k.current=De):De=Oe,Ce.style.transition=[$.transitions.create("opacity",{duration:De,delay:Ee}),$.transitions.create("transform",{duration:Wk?De:De*.666,delay:Wk?Ee:Ee||De*.333,easing:Se})].join(","),Ce.style.opacity=0,Ce.style.transform=EA(.75),y&&y(Ce)}),ye=F(x),we=Ce=>{S==="auto"&&(M.current=setTimeout(Ce,k.current||0)),r&&r(L.current,Ce)};return V.useEffect(()=>()=>{clearTimeout(M.current)},[]),z.jsx(A,te({appear:i,in:a,nodeRef:L,onEnter:J,onEntered:ee,onEntering:G,onExit:pe,onExited:ye,onExiting:ae,addEndListener:we,timeout:S==="auto"?null:S},I,{children:(Ce,Oe)=>V.cloneElement(o,te({style:te({opacity:0,transform:EA(.75),visibility:Ce==="exited"&&!a?"hidden":void 0},wpe[Ce],O,o.props.style),ref:N},Oe))}))});Z9.muiSupportAuto=!0;const Zw=Z9,Spe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Cpe=e=>{const{classes:t,disableUnderline:n}=e,i=en({root:["root",!n&&"underline"],input:["input"]},mde,t);return te({},t,i)},Epe=lt(bC,{shouldForwardProp:e=>Vs(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...yC(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),te({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${xv.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${xv.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${xv.disabled}, .${xv.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${xv.disabled}:before`]:{borderBottomStyle:"dotted"}})}),Tpe=lt(xC,{name:"MuiInput",slot:"Input",overridesResolver:vC})({}),X9=V.forwardRef(function(t,n){var r,i,o,s;const a=nn({props:t,name:"MuiInput"}),{disableUnderline:f,components:h={},componentsProps:g,fullWidth:y=!1,inputComponent:x="input",multiline:P=!1,slotProps:O,slots:S={},type:A="text"}=a,I=mt(a,Spe),M=Cpe(a),$={root:{ownerState:{disableUnderline:f}}},L=O??g?to(O??g,$):$,N=(r=(i=S.root)!=null?i:h.Root)!=null?r:Epe,F=(o=(s=S.input)!=null?s:h.Input)!=null?o:Tpe;return z.jsx(sR,te({slots:{root:N,input:F},slotProps:L,fullWidth:y,inputComponent:x,multiline:P,ref:n,type:A},I,{classes:M}))});X9.muiName="Input";const J9=X9;function kpe(e){return Xt("MuiInputAdornment",e)}const Ppe=tn("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),y3=Ppe;var v3;const Ope=["children","className","component","disablePointerEvents","disableTypography","position","variant"],Ape=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${ot(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},Mpe=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:s}=e,a={root:["root",n&&"disablePointerEvents",i&&`position${ot(i)}`,s,r&&"hiddenLabel",o&&`size${ot(o)}`]};return en(a,kpe,t)},Ipe=lt("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:Ape})(({theme:e,ownerState:t})=>te({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},t.variant==="filled"&&{[`&.${y3.positionStart}&:not(.${y3.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),$pe=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiInputAdornment"}),{children:i,className:o,component:s="div",disablePointerEvents:a=!1,disableTypography:f=!1,position:h,variant:g}=r,y=mt(r,Ope),x=dc()||{};let P=g;g&&x.variant,x&&!P&&(P=x.variant);const O=te({},r,{hiddenLabel:x.hiddenLabel,size:x.size,disablePointerEvents:a,position:h,variant:P}),S=Mpe(O);return z.jsx(gC.Provider,{value:null,children:z.jsx(Ipe,te({as:s,ownerState:O,className:Pt(S.root,o),ref:n},y,{children:typeof i=="string"&&!f?z.jsx(xn,{color:"text.secondary",children:i}):z.jsxs(V.Fragment,{children:[h==="start"?v3||(v3=z.jsx("span",{className:"notranslate",children:""})):null,i]})}))})}),Rpe=$pe;function Dpe(e){return Xt("MuiInputLabel",e)}tn("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Lpe=["disableAnimation","margin","shrink","variant","className"],Npe=e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=e,f={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${ot(r)}`,s],asterisk:[a&&"asterisk"]},h=en(f,Dpe,t);return te({},t,h)},zpe=lt(ope,{shouldForwardProp:e=>Vs(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${x0.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})(({theme:e,ownerState:t})=>te({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&te({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&te({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&te({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),jpe=V.forwardRef(function(t,n){const r=nn({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,shrink:o,className:s}=r,a=mt(r,Lpe),f=dc();let h=o;typeof h>"u"&&f&&(h=f.filled||f.focused||f.adornedStart);const g=Gd({props:r,muiFormControl:f,states:["size","variant","required"]}),y=te({},r,{disableAnimation:i,formControl:f,shrink:h,size:g.size,variant:g.variant,required:g.required}),x=Npe(y);return z.jsx(zpe,te({"data-shrink":h,ownerState:y,ref:n,className:Pt(x.root,s)},a,{classes:x}))}),ux=jpe;function Bpe(e){return Xt("MuiLink",e)}const Fpe=tn("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),Upe=Fpe,Q9={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Vpe=e=>Q9[e]||e,Wpe=({theme:e,ownerState:t})=>{const n=Vpe(t.color),r=Hm(e,`palette.${n}`,!1)||t.color,i=Hm(e,`palette.${n}Channel`);return"vars"in e&&i?`rgba(${i} / 0.4)`:Cr(r,.4)},qpe=Wpe,Gpe=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],Hpe=e=>{const{classes:t,component:n,focusVisible:r,underline:i}=e,o={root:["root",`underline${ot(i)}`,n==="button"&&"button",r&&"focusVisible"]};return en(o,Bpe,t)},Ype=lt(xn,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${ot(n.underline)}`],n.component==="button"&&t.button]}})(({theme:e,ownerState:t})=>te({},t.underline==="none"&&{textDecoration:"none"},t.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},t.underline==="always"&&te({textDecoration:"underline"},t.color!=="inherit"&&{textDecorationColor:qpe({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),t.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Upe.focusVisible}`]:{outline:"auto"}})),Kpe=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiLink"}),{className:i,color:o="primary",component:s="a",onBlur:a,onFocus:f,TypographyClasses:h,underline:g="always",variant:y="inherit",sx:x}=r,P=mt(r,Gpe),{isFocusVisibleRef:O,onBlur:S,onFocus:A,ref:I}=Z2(),[M,k]=V.useState(!1),$=li(n,I),L=J=>{S(J),O.current===!1&&k(!1),a&&a(J)},N=J=>{A(J),O.current===!0&&k(!0),f&&f(J)},F=te({},r,{color:o,component:s,focusVisible:M,underline:g,variant:y}),G=Hpe(F);return z.jsx(Ype,te({color:o,className:Pt(G.root,i),classes:h,component:s,onBlur:L,onFocus:N,ref:$,ownerState:F,variant:y,sx:[...Object.keys(Q9).includes(o)?[]:[{color:o}],...Array.isArray(x)?x:[x]]},P))}),Zpe=Kpe,Xpe=V.createContext({}),Sh=Xpe;function Jpe(e){return Xt("MuiList",e)}tn("MuiList",["root","padding","dense","subheader"]);const Qpe=["children","className","component","dense","disablePadding","subheader"],eme=e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return en({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},Jpe,t)},tme=lt("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(({ownerState:e})=>te({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),nme=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:f=!1,subheader:h}=r,g=mt(r,Qpe),y=V.useMemo(()=>({dense:a}),[a]),x=te({},r,{component:s,dense:a,disablePadding:f}),P=eme(x);return z.jsx(Sh.Provider,{value:y,children:z.jsxs(tme,te({as:s,className:Pt(P.root,o),ref:n,ownerState:x},g,{children:[h,i]}))})}),rme=nme;function ime(e){return Xt("MuiListItemButton",e)}const ome=tn("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),wv=ome,ame=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],sme=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]},lme=e=>{const{alignItems:t,classes:n,dense:r,disabled:i,disableGutters:o,divider:s,selected:a}=e,h=en({root:["root",r&&"dense",!o&&"gutters",s&&"divider",i&&"disabled",t==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},ime,n);return te({},n,h)},cme=lt(Ig,{shouldForwardProp:e=>Vs(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:sme})(({theme:e,ownerState:t})=>te({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${wv.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Cr(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${wv.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Cr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${wv.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Cr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Cr(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${wv.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${wv.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.alignItems==="flex-start"&&{alignItems:"flex-start"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.dense&&{paddingTop:4,paddingBottom:4})),ume=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:s="div",children:a,dense:f=!1,disableGutters:h=!1,divider:g=!1,focusVisibleClassName:y,selected:x=!1,className:P}=r,O=mt(r,ame),S=V.useContext(Sh),A=V.useMemo(()=>({dense:f||S.dense||!1,alignItems:i,disableGutters:h}),[i,S.dense,f,h]),I=V.useRef(null);Ns(()=>{o&&I.current&&I.current.focus()},[o]);const M=te({},r,{alignItems:i,dense:A.dense,disableGutters:h,divider:g,selected:x}),k=lme(M),$=li(I,n);return z.jsx(Sh.Provider,{value:A,children:z.jsx(cme,te({ref:$,href:O.href||O.to,component:(O.href||O.to)&&s==="div"?"button":s,focusVisibleClassName:Pt(k.focusVisible,y),ownerState:M,className:Pt(k.root,P)},O,{classes:k,children:a}))})}),dme=ume;function fme(e){return Xt("MuiListItemAvatar",e)}tn("MuiListItemAvatar",["root","alignItemsFlexStart"]);const hme=["className"],pme=e=>{const{alignItems:t,classes:n}=e;return en({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},fme,n)},mme=lt("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({ownerState:e})=>te({minWidth:56,flexShrink:0},e.alignItems==="flex-start"&&{marginTop:8})),gme=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiListItemAvatar"}),{className:i}=r,o=mt(r,hme),s=V.useContext(Sh),a=te({},r,{alignItems:s.alignItems}),f=pme(a);return z.jsx(mme,te({className:Pt(f.root,i),ownerState:a,ref:n},o))}),yme=gme,vme=tn("MuiListItemIcon",["root","alignItemsFlexStart"]),b3=vme;function bme(e){return Xt("MuiListItemText",e)}const xme=tn("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Xw=xme,_me=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],wme=e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:o}=e;return en({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},bme,t)},Sme=lt("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Xw.primary}`]:t.primary},{[`& .${Xw.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(({ownerState:e})=>te({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),Cme=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:a=!1,primary:f,primaryTypographyProps:h,secondary:g,secondaryTypographyProps:y}=r,x=mt(r,_me),{dense:P}=V.useContext(Sh);let O=f??i,S=g;const A=te({},r,{disableTypography:s,inset:a,primary:!!O,secondary:!!S,dense:P}),I=wme(A);return O!=null&&O.type!==xn&&!s&&(O=z.jsx(xn,te({variant:P?"body2":"body1",className:I.primary,component:h!=null&&h.variant?void 0:"span",display:"block"},h,{children:O}))),S!=null&&S.type!==xn&&!s&&(S=z.jsx(xn,te({variant:"body2",className:I.secondary,color:"text.secondary",display:"block"},y,{children:S}))),z.jsxs(Sme,te({className:Pt(I.root,o),ownerState:A,ref:n},x,{children:[O,S]}))}),Eme=Cme,Tme=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function qk(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function x3(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function e7(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.indexOf(t.keys.join(""))===0}function Sv(e,t,n,r,i,o){let s=!1,a=i(e,t,t?n:!1);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const f=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!e7(a,o)||f)a=i(e,a,n);else return a.focus(),!0}return!1}const kme=V.forwardRef(function(t,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:f=!1,disableListWrap:h=!1,onKeyDown:g,variant:y="selectedMenu"}=t,x=mt(t,Tme),P=V.useRef(null),O=V.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ns(()=>{i&&P.current.focus()},[i]),V.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(k,$)=>{const L=!P.current.style.width;if(k.clientHeight<P.current.clientHeight&&L){const N=`${ZW(Vi(k))}px`;P.current.style[$.direction==="rtl"?"paddingLeft":"paddingRight"]=N,P.current.style.width=`calc(100% + ${N})`}return P.current}}),[]);const S=k=>{const $=P.current,L=k.key,N=Vi($).activeElement;if(L==="ArrowDown")k.preventDefault(),Sv($,N,h,f,qk);else if(L==="ArrowUp")k.preventDefault(),Sv($,N,h,f,x3);else if(L==="Home")k.preventDefault(),Sv($,null,h,f,qk);else if(L==="End")k.preventDefault(),Sv($,null,h,f,x3);else if(L.length===1){const F=O.current,G=L.toLowerCase(),J=performance.now();F.keys.length>0&&(J-F.lastTime>500?(F.keys=[],F.repeating=!0,F.previousKeyMatched=!0):F.repeating&&G!==F.keys[0]&&(F.repeating=!1)),F.lastTime=J,F.keys.push(G);const ee=N&&!F.repeating&&e7(N,F);F.previousKeyMatched&&(ee||Sv($,N,!1,f,qk,F))?k.preventDefault():F.previousKeyMatched=!1}g&&g(k)},A=li(P,n);let I=-1;V.Children.forEach(s,(k,$)=>{if(!V.isValidElement(k)){I===$&&(I+=1,I>=s.length&&(I=-1));return}k.props.disabled||(y==="selectedMenu"&&k.props.selected||I===-1)&&(I=$),I===$&&(k.props.disabled||k.props.muiSkipListHighlight||k.type.muiSkipListHighlight)&&(I+=1,I>=s.length&&(I=-1))});const M=V.Children.map(s,(k,$)=>{if($===I){const L={};return o&&(L.autoFocus=!0),k.props.tabIndex===void 0&&y==="selectedMenu"&&(L.tabIndex=0),V.cloneElement(k,L)}return k});return z.jsx(rme,te({role:"menu",ref:A,className:a,onKeyDown:S,tabIndex:i?0:-1},x,{children:M}))}),Pme=kme;function Ome(e){return Xt("MuiPopover",e)}tn("MuiPopover",["root","paper"]);const Ame=["onEntering"],Mme=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Ime=["slotProps"];function _3(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function w3(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function S3(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function Gk(e){return typeof e=="function"?e():e}const $me=e=>{const{classes:t}=e;return en({root:["root"],paper:["paper"]},Ome,t)},Rme=lt(phe,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),t7=lt(_l,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Dme=V.forwardRef(function(t,n){var r,i,o;const s=nn({props:t,name:"MuiPopover"}),{action:a,anchorEl:f,anchorOrigin:h={vertical:"top",horizontal:"left"},anchorPosition:g,anchorReference:y="anchorEl",children:x,className:P,container:O,elevation:S=8,marginThreshold:A=16,open:I,PaperProps:M={},slots:k,slotProps:$,transformOrigin:L={vertical:"top",horizontal:"left"},TransitionComponent:N=Zw,transitionDuration:F="auto",TransitionProps:{onEntering:G}={},disableScrollLock:J=!1}=s,ee=mt(s.TransitionProps,Ame),ae=mt(s,Mme),pe=(r=$==null?void 0:$.paper)!=null?r:M,ye=V.useRef(),we=li(ye,pe.ref),Ce=te({},s,{anchorOrigin:h,anchorReference:y,elevation:S,marginThreshold:A,externalPaperSlotProps:pe,transformOrigin:L,TransitionComponent:N,transitionDuration:F,TransitionProps:ee}),Oe=$me(Ce),Ee=V.useCallback(()=>{if(y==="anchorPosition")return g;const Ct=Gk(f),qt=(Ct&&Ct.nodeType===1?Ct:Vi(ye.current).body).getBoundingClientRect();return{top:qt.top+_3(qt,h.vertical),left:qt.left+w3(qt,h.horizontal)}},[f,h.horizontal,h.vertical,g,y]),Se=V.useCallback(Ct=>({vertical:_3(Ct,L.vertical),horizontal:w3(Ct,L.horizontal)}),[L.horizontal,L.vertical]),De=V.useCallback(Ct=>{const Tt={width:Ct.offsetWidth,height:Ct.offsetHeight},qt=Se(Tt);if(y==="none")return{top:null,left:null,transformOrigin:S3(qt)};const vn=Ee();let Mn=vn.top-qt.vertical,_n=vn.left-qt.horizontal;const rr=Mn+Tt.height,Tn=_n+Tt.width,Ne=Dd(Gk(f)),$n=Ne.innerHeight-A,Hn=Ne.innerWidth-A;if(A!==null&&Mn<A){const Dt=Mn-A;Mn-=Dt,qt.vertical+=Dt}else if(A!==null&&rr>$n){const Dt=rr-$n;Mn-=Dt,qt.vertical+=Dt}if(A!==null&&_n<A){const Dt=_n-A;_n-=Dt,qt.horizontal+=Dt}else if(Tn>Hn){const Dt=Tn-Hn;_n-=Dt,qt.horizontal+=Dt}return{top:`${Math.round(Mn)}px`,left:`${Math.round(_n)}px`,transformOrigin:S3(qt)}},[f,y,Ee,Se,A]),[We,dt]=V.useState(I),ht=V.useCallback(()=>{const Ct=ye.current;if(!Ct)return;const Tt=De(Ct);Tt.top!==null&&(Ct.style.top=Tt.top),Tt.left!==null&&(Ct.style.left=Tt.left),Ct.style.transformOrigin=Tt.transformOrigin,dt(!0)},[De]);V.useEffect(()=>(J&&window.addEventListener("scroll",ht),()=>window.removeEventListener("scroll",ht)),[f,J,ht]);const Je=(Ct,Tt)=>{G&&G(Ct,Tt),ht()},it=()=>{dt(!1)};V.useEffect(()=>{I&&ht()}),V.useImperativeHandle(a,()=>I?{updatePosition:()=>{ht()}}:null,[I,ht]),V.useEffect(()=>{if(!I)return;const Ct=I$(()=>{ht()}),Tt=Dd(f);return Tt.addEventListener("resize",Ct),()=>{Ct.clear(),Tt.removeEventListener("resize",Ct)}},[f,I,ht]);let Ot=F;F==="auto"&&!N.muiSupportAuto&&(Ot=void 0);const at=O||(f?Vi(Gk(f)).body:void 0),Gt=(i=k==null?void 0:k.root)!=null?i:Rme,Ht=(o=k==null?void 0:k.paper)!=null?o:t7,He=ac({elementType:Ht,externalSlotProps:te({},pe,{style:We?pe.style:te({},pe.style,{opacity:0})}),additionalProps:{elevation:S,ref:we},ownerState:Ce,className:Pt(Oe.paper,pe==null?void 0:pe.className)}),vt=ac({elementType:Gt,externalSlotProps:($==null?void 0:$.root)||{},externalForwardedProps:ae,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:at,open:I},ownerState:Ce,className:Pt(Oe.root,P)}),{slotProps:yt}=vt,Ve=mt(vt,Ime);return z.jsx(Gt,te({},Ve,!qw(Gt)&&{slotProps:yt,disableScrollLock:J},{children:z.jsx(N,te({appear:!0,in:I,onEntering:Je,onExited:it,timeout:Ot},ee,{children:z.jsx(Ht,te({},He,{children:x}))}))}))}),Lme=Dme;function Nme(e){return Xt("MuiMenu",e)}tn("MuiMenu",["root","paper","list"]);const zme=["onEntering"],jme=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Bme={vertical:"top",horizontal:"right"},Fme={vertical:"top",horizontal:"left"},Ume=e=>{const{classes:t}=e;return en({root:["root"],paper:["paper"],list:["list"]},Nme,t)},Vme=lt(Lme,{shouldForwardProp:e=>Vs(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Wme=lt(t7,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),qme=lt(Pme,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),Gme=V.forwardRef(function(t,n){var r,i;const o=nn({props:t,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:f,disableAutoFocusItem:h=!1,MenuListProps:g={},onClose:y,open:x,PaperProps:P={},PopoverClasses:O,transitionDuration:S="auto",TransitionProps:{onEntering:A}={},variant:I="selectedMenu",slots:M={},slotProps:k={}}=o,$=mt(o.TransitionProps,zme),L=mt(o,jme),N=mu(),F=N.direction==="rtl",G=te({},o,{autoFocus:s,disableAutoFocusItem:h,MenuListProps:g,onEntering:A,PaperProps:P,transitionDuration:S,TransitionProps:$,variant:I}),J=Ume(G),ee=s&&!h&&x,ae=V.useRef(null),pe=(De,We)=>{ae.current&&ae.current.adjustStyleForScrollbar(De,N),A&&A(De,We)},ye=De=>{De.key==="Tab"&&(De.preventDefault(),y&&y(De,"tabKeyDown"))};let we=-1;V.Children.map(a,(De,We)=>{V.isValidElement(De)&&(De.props.disabled||(I==="selectedMenu"&&De.props.selected||we===-1)&&(we=We))});const Ce=(r=M.paper)!=null?r:Wme,Oe=(i=k.paper)!=null?i:P,Ee=ac({elementType:M.root,externalSlotProps:k.root,ownerState:G,className:[J.root,f]}),Se=ac({elementType:Ce,externalSlotProps:Oe,ownerState:G,className:J.paper});return z.jsx(Vme,te({onClose:y,anchorOrigin:{vertical:"bottom",horizontal:F?"right":"left"},transformOrigin:F?Bme:Fme,slots:{paper:Ce,root:M.root},slotProps:{root:Ee,paper:Se},open:x,ref:n,transitionDuration:S,TransitionProps:te({onEntering:pe},$),ownerState:G},L,{classes:O,children:z.jsx(qme,te({onKeyDown:ye,actions:ae,autoFocus:s&&(we===-1||h),autoFocusItem:ee,variant:I},g,{className:Pt(J.list,g.className),children:a}))}))}),n7=Gme;function Hme(e){return Xt("MuiMenuItem",e)}const Yme=tn("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Cv=Yme,Kme=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Zme=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},Xme=e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=e,f=en({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},Hme,s);return te({},s,f)},Jme=lt(Ig,{shouldForwardProp:e=>Vs(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Zme})(({theme:e,ownerState:t})=>te({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Cv.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Cr(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Cv.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Cr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Cv.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Cr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Cr(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Cv.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Cv.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${d3.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${d3.inset}`]:{marginLeft:52},[`& .${Xw.root}`]:{marginTop:0,marginBottom:0},[`& .${Xw.inset}`]:{paddingLeft:36},[`& .${b3.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&te({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${b3.root} svg`]:{fontSize:"1.25rem"}}))),Qme=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:f=!1,focusVisibleClassName:h,role:g="menuitem",tabIndex:y,className:x}=r,P=mt(r,Kme),O=V.useContext(Sh),S=V.useMemo(()=>({dense:s||O.dense||!1,disableGutters:f}),[O.dense,s,f]),A=V.useRef(null);Ns(()=>{i&&A.current&&A.current.focus()},[i]);const I=te({},r,{dense:S.dense,divider:a,disableGutters:f}),M=Xme(r),k=li(A,n);let $;return r.disabled||($=y!==void 0?y:-1),z.jsx(Sh.Provider,{value:S,children:z.jsx(Jme,te({ref:k,role:g,tabIndex:$,component:o,focusVisibleClassName:Pt(M.focusVisible,h),className:Pt(M.root,x)},P,{ownerState:I,classes:M}))})}),ks=Qme;function ege(e){return Xt("MuiNativeSelect",e)}const tge=tn("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),cR=tge,nge=["className","disabled","error","IconComponent","inputRef","variant"],rge=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${ot(n)}`,o&&"iconOpen",r&&"disabled"]};return en(a,ege,t)},r7=({ownerState:e,theme:t})=>te({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":te({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${cR.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),ige=lt("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Vs,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${cR.multiple}`]:t.multiple}]}})(r7),i7=({ownerState:e,theme:t})=>te({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${cR.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),oge=lt("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${ot(n.variant)}`],n.open&&t.iconOpen]}})(i7),age=V.forwardRef(function(t,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:f="standard"}=t,h=mt(t,nge),g=te({},t,{disabled:i,variant:f,error:o}),y=rge(g);return z.jsxs(V.Fragment,{children:[z.jsx(ige,te({ownerState:g,className:Pt(y.select,r),disabled:i,ref:a||n},h)),t.multiple?null:z.jsx(oge,{as:s,ownerState:g,className:y.icon})]})}),sge=age;var C3;const lge=["children","classes","className","label","notched"],cge=lt("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),uge=lt("legend")(({ownerState:e,theme:t})=>te({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&te({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function dge(e){const{className:t,label:n,notched:r}=e,i=mt(e,lge),o=n!=null&&n!=="",s=te({},e,{notched:r,withLabel:o});return z.jsx(cge,te({"aria-hidden":!0,className:t,ownerState:s},i,{children:z.jsx(uge,{ownerState:s,children:o?z.jsx("span",{children:n}):C3||(C3=z.jsx("span",{className:"notranslate",children:""}))})}))}const fge=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],hge=e=>{const{classes:t}=e,r=en({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},yde,t);return te({},t,r)},pge=lt(bC,{shouldForwardProp:e=>Vs(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:yC})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return te({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Gu.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Gu.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Gu.focused} .${Gu.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${Gu.error} .${Gu.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Gu.disabled} .${Gu.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&te({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),mge=lt(dge,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),gge=lt(xC,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:vC})(({theme:e,ownerState:t})=>te({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),o7=V.forwardRef(function(t,n){var r,i,o,s,a;const f=nn({props:t,name:"MuiOutlinedInput"}),{components:h={},fullWidth:g=!1,inputComponent:y="input",label:x,multiline:P=!1,notched:O,slots:S={},type:A="text"}=f,I=mt(f,fge),M=hge(f),k=dc(),$=Gd({props:f,muiFormControl:k,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),L=te({},f,{color:$.color||"primary",disabled:$.disabled,error:$.error,focused:$.focused,formControl:k,fullWidth:g,hiddenLabel:$.hiddenLabel,multiline:P,size:$.size,type:A}),N=(r=(i=S.root)!=null?i:h.Root)!=null?r:pge,F=(o=(s=S.input)!=null?s:h.Input)!=null?o:gge;return z.jsx(sR,te({slots:{root:N,input:F},renderSuffix:G=>z.jsx(mge,{ownerState:L,className:M.notchedOutline,label:x!=null&&x!==""&&$.required?a||(a=z.jsxs(V.Fragment,{children:[x,"","*"]})):x,notched:typeof O<"u"?O:!!(G.startAdornment||G.filled||G.focused)}),fullWidth:g,inputComponent:y,multiline:P,ref:n,type:A},I,{classes:te({},M,{notchedOutline:null})}))});o7.muiName="Input";const uR=o7;function yge(e){return Xt("MuiSelect",e)}const vge=tn("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Ev=vge;var E3;const bge=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],xge=lt("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${Ev.select}`]:t.select},{[`&.${Ev.select}`]:t[n.variant]},{[`&.${Ev.error}`]:t.error},{[`&.${Ev.multiple}`]:t.multiple}]}})(r7,{[`&.${Ev.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),_ge=lt("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${ot(n.variant)}`],n.open&&t.iconOpen]}})(i7),wge=lt("input",{shouldForwardProp:e=>Rse(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function T3(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function Sge(e){return e==null||typeof e=="string"&&!e.trim()}const Cge=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${ot(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return en(a,yge,t)},Ege=V.forwardRef(function(t,n){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:s,autoWidth:a,children:f,className:h,defaultOpen:g,defaultValue:y,disabled:x,displayEmpty:P,error:O=!1,IconComponent:S,inputRef:A,labelId:I,MenuProps:M={},multiple:k,name:$,onBlur:L,onChange:N,onClose:F,onFocus:G,onOpen:J,open:ee,readOnly:ae,renderValue:pe,SelectDisplayProps:ye={},tabIndex:we,value:Ce,variant:Oe="standard"}=t,Ee=mt(t,bge),[Se,De]=qm({controlled:Ce,default:y,name:"Select"}),[We,dt]=qm({controlled:ee,default:g,name:"Select"}),ht=V.useRef(null),Je=V.useRef(null),[it,Ot]=V.useState(null),{current:at}=V.useRef(ee!=null),[Gt,Ht]=V.useState(),He=li(n,A),vt=V.useCallback(Ue=>{Je.current=Ue,Ue&&Ot(Ue)},[]),yt=it==null?void 0:it.parentNode;V.useImperativeHandle(He,()=>({focus:()=>{Je.current.focus()},node:ht.current,value:Se}),[Se]),V.useEffect(()=>{g&&We&&it&&!at&&(Ht(a?null:yt.clientWidth),Je.current.focus())},[it,a]),V.useEffect(()=>{s&&Je.current.focus()},[s]),V.useEffect(()=>{if(!I)return;const Ue=Vi(Je.current).getElementById(I);if(Ue){const un=()=>{getSelection().isCollapsed&&Je.current.focus()};return Ue.addEventListener("click",un),()=>{Ue.removeEventListener("click",un)}}},[I]);const Ve=(Ue,un)=>{Ue?J&&J(un):F&&F(un),at||(Ht(a?null:yt.clientWidth),dt(Ue))},Ct=Ue=>{Ue.button===0&&(Ue.preventDefault(),Je.current.focus(),Ve(!0,Ue))},Tt=Ue=>{Ve(!1,Ue)},qt=V.Children.toArray(f),vn=Ue=>{const un=qt.find(Rn=>Rn.props.value===Ue.target.value);un!==void 0&&(De(un.props.value),N&&N(Ue,un))},Mn=Ue=>un=>{let Rn;if(un.currentTarget.hasAttribute("tabindex")){if(k){Rn=Array.isArray(Se)?Se.slice():[];const ki=Se.indexOf(Ue.props.value);ki===-1?Rn.push(Ue.props.value):Rn.splice(ki,1)}else Rn=Ue.props.value;if(Ue.props.onClick&&Ue.props.onClick(un),Se!==Rn&&(De(Rn),N)){const ki=un.nativeEvent||un,qi=new ki.constructor(ki.type,ki);Object.defineProperty(qi,"target",{writable:!0,value:{value:Rn,name:$}}),N(qi,Ue)}k||Ve(!1,un)}},_n=Ue=>{ae||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Ue.key)!==-1&&(Ue.preventDefault(),Ve(!0,Ue))},rr=it!==null&&We,Tn=Ue=>{!rr&&L&&(Object.defineProperty(Ue,"target",{writable:!0,value:{value:Se,name:$}}),L(Ue))};delete Ee["aria-invalid"];let Ne,$n;const Hn=[];let Dt=!1;(Yw({value:Se})||P)&&(pe?Ne=pe(Se):Dt=!0);const Kt=qt.map(Ue=>{if(!V.isValidElement(Ue))return null;let un;if(k){if(!Array.isArray(Se))throw new Error(Rd(2));un=Se.some(Rn=>T3(Rn,Ue.props.value)),un&&Dt&&Hn.push(Ue.props.children)}else un=T3(Se,Ue.props.value),un&&Dt&&($n=Ue.props.children);return V.cloneElement(Ue,{"aria-selected":un?"true":"false",onClick:Mn(Ue),onKeyUp:Rn=>{Rn.key===" "&&Rn.preventDefault(),Ue.props.onKeyUp&&Ue.props.onKeyUp(Rn)},role:"option",selected:un,value:void 0,"data-value":Ue.props.value})});Dt&&(k?Hn.length===0?Ne=null:Ne=Hn.reduce((Ue,un,Rn)=>(Ue.push(un),Rn<Hn.length-1&&Ue.push(", "),Ue),[]):Ne=$n);let ir=Gt;!a&&at&&it&&(ir=yt.clientWidth);let br;typeof we<"u"?br=we:br=x?null:0;const Nn=ye.id||($?`mui-component-select-${$}`:void 0),rn=te({},t,{variant:Oe,value:Se,open:rr,error:O}),Xn=Cge(rn),Ii=te({},M.PaperProps,(r=M.slotProps)==null?void 0:r.paper),gi=Y2();return z.jsxs(V.Fragment,{children:[z.jsx(xge,te({ref:vt,tabIndex:br,role:"combobox","aria-controls":gi,"aria-disabled":x?"true":void 0,"aria-expanded":rr?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[I,Nn].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:_n,onMouseDown:x||ae?null:Ct,onBlur:Tn,onFocus:G},ye,{ownerState:rn,className:Pt(ye.className,Xn.select,h),id:Nn,children:Sge(Ne)?E3||(E3=z.jsx("span",{className:"notranslate",children:""})):Ne})),z.jsx(wge,te({"aria-invalid":O,value:Array.isArray(Se)?Se.join(","):Se,name:$,ref:ht,"aria-hidden":!0,onChange:vn,tabIndex:-1,disabled:x,className:Xn.nativeInput,autoFocus:s,ownerState:rn},Ee)),z.jsx(_ge,{as:S,className:Xn.icon,ownerState:rn}),z.jsx(n7,te({id:`menu-${$||""}`,anchorEl:yt,open:rr,onClose:Tt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},M,{MenuListProps:te({"aria-labelledby":I,role:"listbox","aria-multiselectable":k?"true":void 0,disableListWrap:!0,id:gi},M.MenuListProps),slotProps:te({},M.slotProps,{paper:te({},Ii,{style:te({minWidth:ir},Ii!=null?Ii.style:null)})}),children:Kt}))]})}),Tge=Ege,kge=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Pge=["root"],Oge=e=>{const{classes:t}=e;return t},dR={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Vs(e)&&e!=="variant",slot:"Root"},Age=lt(J9,dR)(""),Mge=lt(uR,dR)(""),Ige=lt(Y9,dR)(""),a7=V.forwardRef(function(t,n){const r=nn({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:f=!1,displayEmpty:h=!1,IconComponent:g=_de,id:y,input:x,inputProps:P,label:O,labelId:S,MenuProps:A,multiple:I=!1,native:M=!1,onClose:k,onOpen:$,open:L,renderValue:N,SelectDisplayProps:F,variant:G="outlined"}=r,J=mt(r,kge),ee=M?sge:Tge,ae=dc(),pe=Gd({props:r,muiFormControl:ae,states:["variant","error"]}),ye=pe.variant||G,we=te({},r,{variant:ye,classes:s}),Ce=Oge(we),Oe=mt(Ce,Pge),Ee=x||{standard:z.jsx(Age,{ownerState:we}),outlined:z.jsx(Mge,{label:O,ownerState:we}),filled:z.jsx(Ige,{ownerState:we})}[ye],Se=li(n,Ee.ref);return z.jsx(V.Fragment,{children:V.cloneElement(Ee,te({inputComponent:ee,inputProps:te({children:o,error:pe.error,IconComponent:g,variant:ye,type:void 0,multiple:I},M?{id:y}:{autoWidth:i,defaultOpen:f,displayEmpty:h,labelId:S,MenuProps:A,onClose:k,onOpen:$,open:L,renderValue:N,SelectDisplayProps:te({id:y},F)},P,{classes:P?to(Oe,P.classes):Oe},x?x.props.inputProps:{})},I&&M&&ye==="outlined"?{notched:!0}:{},{ref:Se,className:Pt(Ee.props.className,a,Ce.root)},!x&&{variant:ye},J))})});a7.muiName="Select";const dx=a7;function $ge(e){return Xt("MuiSnackbarContent",e)}tn("MuiSnackbarContent",["root","message","action"]);const Rge=["action","className","message","role"],Dge=e=>{const{classes:t}=e;return en({root:["root"],action:["action"],message:["message"]},$ge,t)},Lge=lt(_l,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,n=Vae(e.palette.background.default,t);return te({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(n),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),Nge=lt("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),zge=lt("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),jge=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiSnackbarContent"}),{action:i,className:o,message:s,role:a="alert"}=r,f=mt(r,Rge),h=r,g=Dge(h);return z.jsxs(Lge,te({role:a,square:!0,elevation:6,className:Pt(g.root,o),ownerState:h,ref:n},f,{children:[z.jsx(Nge,{className:g.message,ownerState:h,children:s}),i?z.jsx(zge,{className:g.action,ownerState:h,children:i}):null]}))}),Bge=jge;function Fge(e){return Xt("MuiSnackbar",e)}tn("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Uge=["onEnter","onExited"],Vge=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],Wge=e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${ot(n.vertical)}${ot(n.horizontal)}`]};return en(r,Fge,t)},k3=lt("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${ot(n.anchorOrigin.vertical)}${ot(n.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return te({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:te({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&n,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),qge=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiSnackbar"}),i=mu(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:s,anchorOrigin:{vertical:a,horizontal:f}={vertical:"bottom",horizontal:"left"},autoHideDuration:h=null,children:g,className:y,ClickAwayListenerProps:x,ContentProps:P,disableWindowBlurListener:O=!1,message:S,open:A,TransitionComponent:I=Zw,transitionDuration:M=o,TransitionProps:{onEnter:k,onExited:$}={}}=r,L=mt(r.TransitionProps,Uge),N=mt(r,Vge),F=te({},r,{anchorOrigin:{vertical:a,horizontal:f},autoHideDuration:h,disableWindowBlurListener:O,TransitionComponent:I,transitionDuration:M}),G=Wge(F),{getRootProps:J,onClickAway:ee}=ede(te({},F)),[ae,pe]=V.useState(!0),ye=ac({elementType:k3,getSlotProps:J,externalForwardedProps:N,ownerState:F,additionalProps:{ref:n},className:[G.root,y]}),we=Oe=>{pe(!0),$&&$(Oe)},Ce=(Oe,Ee)=>{pe(!1),k&&k(Oe,Ee)};return!A&&ae?null:z.jsx(_ce,te({onClickAway:ee},x,{children:z.jsx(k3,te({},ye,{children:z.jsx(I,te({appear:!0,in:A,timeout:M,direction:a==="top"?"down":"up",onEnter:Ce,onExited:we},L,{children:g||z.jsx(Bge,te({message:S,action:s},P))}))}))}))}),Gge=qge;function Hge(e){return Xt("MuiTooltip",e)}const Yge=tn("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),ud=Yge,Kge=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function Zge(e){return Math.round(e*1e5)/1e5}const Xge=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:o}=e,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${ot(o.split("-")[0])}`],arrow:["arrow"]};return en(s,Hge,t)},Jge=lt(j9,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(({theme:e,ownerState:t,open:n})=>te({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${ud.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${ud.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${ud.arrow}`]:te({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${ud.arrow}`]:te({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),Qge=lt("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${ot(n.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>te({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Cr(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${Zge(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${ud.popper}[data-popper-placement*="left"] &`]:te({transformOrigin:"right center"},t.isRtl?te({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):te({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${ud.popper}[data-popper-placement*="right"] &`]:te({transformOrigin:"left center"},t.isRtl?te({marginRight:"14px"},t.touch&&{marginRight:"24px"}):te({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${ud.popper}[data-popper-placement*="top"] &`]:te({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${ud.popper}[data-popper-placement*="bottom"] &`]:te({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),eye=lt("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Cr(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let a1=!1,Hk=null,Tv={x:0,y:0};function s1(e,t){return n=>{t&&t(n),e(n)}}const tye=V.forwardRef(function(t,n){var r,i,o,s,a,f,h,g,y,x,P,O,S,A,I,M,k,$,L;const N=nn({props:t,name:"MuiTooltip"}),{arrow:F=!1,children:G,components:J={},componentsProps:ee={},describeChild:ae=!1,disableFocusListener:pe=!1,disableHoverListener:ye=!1,disableInteractive:we=!1,disableTouchListener:Ce=!1,enterDelay:Oe=100,enterNextDelay:Ee=0,enterTouchDelay:Se=700,followCursor:De=!1,id:We,leaveDelay:dt=0,leaveTouchDelay:ht=1500,onClose:Je,onOpen:it,open:Ot,placement:at="bottom",PopperComponent:Gt,PopperProps:Ht={},slotProps:He={},slots:vt={},title:yt,TransitionComponent:Ve=Zw,TransitionProps:Ct}=N,Tt=mt(N,Kge),qt=V.isValidElement(G)?G:z.jsx("span",{children:G}),vn=mu(),Mn=vn.direction==="rtl",[_n,rr]=V.useState(),[Tn,Ne]=V.useState(null),$n=V.useRef(!1),Hn=we||De,Dt=V.useRef(),Kt=V.useRef(),ir=V.useRef(),br=V.useRef(),[Nn,rn]=qm({controlled:Ot,default:!1,name:"Tooltip",state:"open"});let Xn=Nn;const Ii=Y2(We),gi=V.useRef(),Ue=V.useCallback(()=>{gi.current!==void 0&&(document.body.style.WebkitUserSelect=gi.current,gi.current=void 0),clearTimeout(br.current)},[]);V.useEffect(()=>()=>{clearTimeout(Dt.current),clearTimeout(Kt.current),clearTimeout(ir.current),Ue()},[Ue]);const un=Ut=>{clearTimeout(Hk),a1=!0,rn(!0),it&&!Xn&&it(Ut)},Rn=ml(Ut=>{clearTimeout(Hk),Hk=setTimeout(()=>{a1=!1},800+dt),rn(!1),Je&&Xn&&Je(Ut),clearTimeout(Dt.current),Dt.current=setTimeout(()=>{$n.current=!1},vn.transitions.duration.shortest)}),ki=Ut=>{$n.current&&Ut.type!=="touchstart"||(_n&&_n.removeAttribute("title"),clearTimeout(Kt.current),clearTimeout(ir.current),Oe||a1&&Ee?Kt.current=setTimeout(()=>{un(Ut)},a1?Ee:Oe):un(Ut))},qi=Ut=>{clearTimeout(Kt.current),clearTimeout(ir.current),ir.current=setTimeout(()=>{Rn(Ut)},dt)},{isFocusVisibleRef:ct,onBlur:dn,onFocus:fn,ref:$i}=Z2(),[,Uo]=V.useState(!1),sn=Ut=>{dn(Ut),ct.current===!1&&(Uo(!1),qi(Ut))},as=Ut=>{_n||rr(Ut.currentTarget),fn(Ut),ct.current===!0&&(Uo(!0),ki(Ut))},fe=Ut=>{$n.current=!0;const Fn=qt.props;Fn.onTouchStart&&Fn.onTouchStart(Ut)},X=ki,ne=qi,se=Ut=>{fe(Ut),clearTimeout(ir.current),clearTimeout(Dt.current),Ue(),gi.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",br.current=setTimeout(()=>{document.body.style.WebkitUserSelect=gi.current,ki(Ut)},Se)},he=Ut=>{qt.props.onTouchEnd&&qt.props.onTouchEnd(Ut),Ue(),clearTimeout(ir.current),ir.current=setTimeout(()=>{Rn(Ut)},ht)};V.useEffect(()=>{if(!Xn)return;function Ut(Fn){(Fn.key==="Escape"||Fn.key==="Esc")&&Rn(Fn)}return document.addEventListener("keydown",Ut),()=>{document.removeEventListener("keydown",Ut)}},[Rn,Xn]);const be=li(qt.ref,$i,rr,n);!yt&&yt!==0&&(Xn=!1);const Me=V.useRef(),ke=Ut=>{const Fn=qt.props;Fn.onMouseMove&&Fn.onMouseMove(Ut),Tv={x:Ut.clientX,y:Ut.clientY},Me.current&&Me.current.update()},_e={},$e=typeof yt=="string";ae?(_e.title=!Xn&&$e&&!ye?yt:null,_e["aria-describedby"]=Xn?Ii:null):(_e["aria-label"]=$e?yt:null,_e["aria-labelledby"]=Xn&&!$e?Ii:null);const qe=te({},_e,Tt,qt.props,{className:Pt(Tt.className,qt.props.className),onTouchStart:fe,ref:be},De?{onMouseMove:ke}:{}),Ye={};Ce||(qe.onTouchStart=se,qe.onTouchEnd=he),ye||(qe.onMouseOver=s1(X,qe.onMouseOver),qe.onMouseLeave=s1(ne,qe.onMouseLeave),Hn||(Ye.onMouseOver=X,Ye.onMouseLeave=ne)),pe||(qe.onFocus=s1(as,qe.onFocus),qe.onBlur=s1(sn,qe.onBlur),Hn||(Ye.onFocus=as,Ye.onBlur=sn));const Xe=V.useMemo(()=>{var Ut;let Fn=[{name:"arrow",enabled:!!Tn,options:{element:Tn,padding:4}}];return(Ut=Ht.popperOptions)!=null&&Ut.modifiers&&(Fn=Fn.concat(Ht.popperOptions.modifiers)),te({},Ht.popperOptions,{modifiers:Fn})},[Tn,Ht]),Lt=te({},N,{isRtl:Mn,arrow:F,disableInteractive:Hn,placement:at,PopperComponentProp:Gt,touch:$n.current}),Jt=Xge(Lt),It=(r=(i=vt.popper)!=null?i:J.Popper)!=null?r:Jge,jt=(o=(s=(a=vt.transition)!=null?a:J.Transition)!=null?s:Ve)!=null?o:Zw,ln=(f=(h=vt.tooltip)!=null?h:J.Tooltip)!=null?f:Qge,Bn=(g=(y=vt.arrow)!=null?y:J.Arrow)!=null?g:eye,Yn=Qv(It,te({},Ht,(x=He.popper)!=null?x:ee.popper,{className:Pt(Jt.popper,Ht==null?void 0:Ht.className,(P=(O=He.popper)!=null?O:ee.popper)==null?void 0:P.className)}),Lt),In=Qv(jt,te({},Ct,(S=He.transition)!=null?S:ee.transition),Lt),kn=Qv(ln,te({},(A=He.tooltip)!=null?A:ee.tooltip,{className:Pt(Jt.tooltip,(I=(M=He.tooltip)!=null?M:ee.tooltip)==null?void 0:I.className)}),Lt),Pi=Qv(Bn,te({},(k=He.arrow)!=null?k:ee.arrow,{className:Pt(Jt.arrow,($=(L=He.arrow)!=null?L:ee.arrow)==null?void 0:$.className)}),Lt);return z.jsxs(V.Fragment,{children:[V.cloneElement(qt,qe),z.jsx(It,te({as:Gt??j9,placement:at,anchorEl:De?{getBoundingClientRect:()=>({top:Tv.y,left:Tv.x,right:Tv.x,bottom:Tv.y,width:0,height:0})}:_n,popperRef:Me,open:_n?Xn:!1,id:Ii,transition:!0},Ye,Yn,{popperOptions:Xe,children:({TransitionProps:Ut})=>z.jsx(jt,te({timeout:vn.transitions.duration.shorter},Ut,In,{children:z.jsxs(ln,te({},kn,{children:[yt,F?z.jsx(Bn,te({},Pi,{ref:Ne})):null]}))}))}))]})}),Vp=tye;function nye(e){return Xt("MuiSwitch",e)}const rye=tn("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),ia=rye,iye=["className","color","edge","size","sx"],oye=e=>{const{classes:t,edge:n,size:r,color:i,checked:o,disabled:s}=e,a={root:["root",n&&`edge${ot(n)}`,`size${ot(r)}`],switchBase:["switchBase",`color${ot(i)}`,o&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},f=en(a,nye,t);return te({},t,f)},aye=lt("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${ot(n.edge)}`],t[`size${ot(n.size)}`]]}})(({ownerState:e})=>te({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},e.edge==="start"&&{marginLeft:-8},e.edge==="end"&&{marginRight:-8},e.size==="small"&&{width:40,height:24,padding:7,[`& .${ia.thumb}`]:{width:16,height:16},[`& .${ia.switchBase}`]:{padding:4,[`&.${ia.checked}`]:{transform:"translateX(16px)"}}})),sye=lt(q9,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${ia.input}`]:t.input},n.color!=="default"&&t[`color${ot(n.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${ia.checked}`]:{transform:"translateX(20px)"},[`&.${ia.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${ia.checked} + .${ia.track}`]:{opacity:.5},[`&.${ia.disabled} + .${ia.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${ia.input}`]:{left:"-100%",width:"300%"}}),({theme:e,ownerState:t})=>te({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Cr(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${ia.checked}`]:{color:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Cr(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ia.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t.color}DisabledColor`]:`${e.palette.mode==="light"?fC(e.palette[t.color].main,.62):dC(e.palette[t.color].main,.55)}`}},[`&.${ia.checked} + .${ia.track}`]:{backgroundColor:(e.vars||e).palette[t.color].main}})),lye=lt("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),cye=lt("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),uye=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiSwitch"}),{className:i,color:o="primary",edge:s=!1,size:a="medium",sx:f}=r,h=mt(r,iye),g=te({},r,{color:o,edge:s,size:a}),y=oye(g),x=z.jsx(cye,{className:y.thumb,ownerState:g});return z.jsxs(aye,{className:Pt(y.root,i),sx:f,ownerState:g,children:[z.jsx(sye,te({type:"checkbox",icon:x,checkedIcon:x,ref:n,ownerState:g},h,{classes:te({},y,{root:y.switchBase})})),z.jsx(lye,{className:y.track,ownerState:g})]})}),dye=uye,fye=V.createContext(),s7=fye;function hye(e){return Xt("MuiTable",e)}tn("MuiTable",["root","stickyHeader"]);const pye=["className","component","padding","size","stickyHeader"],mye=e=>{const{classes:t,stickyHeader:n}=e;return en({root:["root",n&&"stickyHeader"]},hye,t)},gye=lt("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>te({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":te({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),P3="table",yye=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiTable"}),{className:i,component:o=P3,padding:s="normal",size:a="medium",stickyHeader:f=!1}=r,h=mt(r,pye),g=te({},r,{component:o,padding:s,size:a,stickyHeader:f}),y=mye(g),x=V.useMemo(()=>({padding:s,size:a,stickyHeader:f}),[s,a,f]);return z.jsx(s7.Provider,{value:x,children:z.jsx(gye,te({as:o,role:o===P3?null:"table",ref:n,className:Pt(y.root,i),ownerState:g},h))})}),fR=yye,vye=V.createContext(),wC=vye;function bye(e){return Xt("MuiTableBody",e)}tn("MuiTableBody",["root"]);const xye=["className","component"],_ye=e=>{const{classes:t}=e;return en({root:["root"]},bye,t)},wye=lt("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),Sye={variant:"body"},O3="tbody",Cye=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiTableBody"}),{className:i,component:o=O3}=r,s=mt(r,xye),a=te({},r,{component:o}),f=_ye(a);return z.jsx(wC.Provider,{value:Sye,children:z.jsx(wye,te({className:Pt(f.root,i),as:o,ref:n,role:o===O3?null:"rowgroup",ownerState:a},s))})}),hR=Cye;function Eye(e){return Xt("MuiTableCell",e)}const Tye=tn("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),kye=Tye,Pye=["align","className","component","padding","scope","size","sortDirection","variant"],Oye=e=>{const{classes:t,variant:n,align:r,padding:i,size:o,stickyHeader:s}=e,a={root:["root",n,s&&"stickyHeader",r!=="inherit"&&`align${ot(r)}`,i!=="normal"&&`padding${ot(i)}`,`size${ot(o)}`]};return en(a,Eye,t)},Aye=lt("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${ot(n.size)}`],n.padding!=="normal"&&t[`padding${ot(n.padding)}`],n.align!=="inherit"&&t[`align${ot(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>te({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?fC(Cr(e.palette.divider,1),.88):dC(Cr(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${kye.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),Mye=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiTableCell"}),{align:i="inherit",className:o,component:s,padding:a,scope:f,size:h,sortDirection:g,variant:y}=r,x=mt(r,Pye),P=V.useContext(s7),O=V.useContext(wC),S=O&&O.variant==="head";let A;s?A=s:A=S?"th":"td";let I=f;A==="td"?I=void 0:!I&&S&&(I="col");const M=y||O&&O.variant,k=te({},r,{align:i,component:A,padding:a||(P&&P.padding?P.padding:"normal"),size:h||(P&&P.size?P.size:"medium"),sortDirection:g,stickyHeader:M==="head"&&P&&P.stickyHeader,variant:M}),$=Oye(k);let L=null;return g&&(L=g==="asc"?"ascending":"descending"),z.jsx(Aye,te({as:A,ref:n,className:Pt($.root,o),"aria-sort":L,scope:I,ownerState:k},x))}),xa=Mye;function Iye(e){return Xt("MuiTableHead",e)}tn("MuiTableHead",["root"]);const $ye=["className","component"],Rye=e=>{const{classes:t}=e;return en({root:["root"]},Iye,t)},Dye=lt("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),Lye={variant:"head"},A3="thead",Nye=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiTableHead"}),{className:i,component:o=A3}=r,s=mt(r,$ye),a=te({},r,{component:o}),f=Rye(a);return z.jsx(wC.Provider,{value:Lye,children:z.jsx(Dye,te({as:o,className:Pt(f.root,i),ref:n,role:o===A3?null:"rowgroup",ownerState:a},s))})}),l7=Nye;function zye(e){return Xt("MuiToolbar",e)}tn("MuiToolbar",["root","gutters","regular","dense"]);const jye=["className","component","disableGutters","variant"],Bye=e=>{const{classes:t,disableGutters:n,variant:r}=e;return en({root:["root",!n&&"gutters",r]},zye,t)},Fye=lt("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(({theme:e,ownerState:t})=>te({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},t.variant==="dense"&&{minHeight:48}),({theme:e,ownerState:t})=>t.variant==="regular"&&e.mixins.toolbar),Uye=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:s=!1,variant:a="regular"}=r,f=mt(r,jye),h=te({},r,{component:o,disableGutters:s,variant:a}),g=Bye(h);return z.jsx(Fye,te({as:o,className:Pt(g.root,i),ref:n,ownerState:h},f))}),fx=Uye;function Vye(e){return Xt("MuiTableRow",e)}const Wye=tn("MuiTableRow",["root","selected","hover","head","footer"]),M3=Wye,qye=["className","component","hover","selected"],Gye=e=>{const{classes:t,selected:n,hover:r,head:i,footer:o}=e;return en({root:["root",n&&"selected",r&&"hover",i&&"head",o&&"footer"]},Vye,t)},Hye=lt("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${M3.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${M3.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Cr(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Cr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),I3="tr",Yye=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiTableRow"}),{className:i,component:o=I3,hover:s=!1,selected:a=!1}=r,f=mt(r,qye),h=V.useContext(wC),g=te({},r,{component:o,hover:s,selected:a,head:h&&h.variant==="head",footer:h&&h.variant==="footer"}),y=Gye(g);return z.jsx(Hye,te({as:o,ref:n,className:Pt(y.root,i),role:o===I3?null:"row",ownerState:g},f))}),km=Yye;function Kye(e){return Xt("MuiTextField",e)}tn("MuiTextField",["root"]);const Zye=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Xye={standard:J9,filled:Y9,outlined:uR},Jye=e=>{const{classes:t}=e;return en({root:["root"]},Kye,t)},Qye=lt(cx,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),eve=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:f="primary",defaultValue:h,disabled:g=!1,error:y=!1,FormHelperTextProps:x,fullWidth:P=!1,helperText:O,id:S,InputLabelProps:A,inputProps:I,InputProps:M,inputRef:k,label:$,maxRows:L,minRows:N,multiline:F=!1,name:G,onBlur:J,onChange:ee,onFocus:ae,placeholder:pe,required:ye=!1,rows:we,select:Ce=!1,SelectProps:Oe,type:Ee,value:Se,variant:De="outlined"}=r,We=mt(r,Zye),dt=te({},r,{autoFocus:o,color:f,disabled:g,error:y,fullWidth:P,multiline:F,required:ye,select:Ce,variant:De}),ht=Jye(dt),Je={};De==="outlined"&&(A&&typeof A.shrink<"u"&&(Je.notched=A.shrink),Je.label=$),Ce&&((!Oe||!Oe.native)&&(Je.id=void 0),Je["aria-describedby"]=void 0);const it=Y2(S),Ot=O&&it?`${it}-helper-text`:void 0,at=$&&it?`${it}-label`:void 0,Gt=Xye[De],Ht=z.jsx(Gt,te({"aria-describedby":Ot,autoComplete:i,autoFocus:o,defaultValue:h,fullWidth:P,multiline:F,name:G,rows:we,maxRows:L,minRows:N,type:Ee,value:Se,id:it,inputRef:k,onBlur:J,onChange:ee,onFocus:ae,placeholder:pe,inputProps:I},Je,M));return z.jsxs(Qye,te({className:Pt(ht.root,a),disabled:g,error:y,fullWidth:P,ref:n,required:ye,color:f,variant:De,ownerState:dt},We,{children:[$!=null&&$!==""&&z.jsx(ux,te({htmlFor:it,id:at},A,{children:$})),Ce?z.jsx(dx,te({"aria-describedby":Ot,id:it,labelId:at,value:Se,input:Ht},Oe,{children:s})):Ht,O&&z.jsx(Xhe,te({id:Ot},x,{children:O}))]}))}),Qi=eve,pR=(e,t)=>{const n=Cl(),r=V.useRef();V.useEffect(()=>(e().then(i=>r.current=i).catch(i=>n(UW.push(i.message))),()=>{const i=r.current;i&&i()}),[...t,n])},tve=e=>{const t=Cl();return(...n)=>{e(...n).catch(r=>t(UW.push(r.message)))}};var $3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hx=(typeof window>"u"?"undefined":$3(window))==="object"&&(typeof document>"u"?"undefined":$3(document))==="object"&&document.nodeType===9;function R3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DW(r.key),r)}}function c7(e,t,n){return t&&R3(e.prototype,t),n&&R3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var nve={}.constructor;function TA(e){if(e==null||typeof e!="object")return e;if(Array.isArray(e))return e.map(TA);if(e.constructor!==nve)return e;var t={};for(var n in e)t[n]=TA(e[n]);return t}function mR(e,t,n){e===void 0&&(e="unnamed");var r=n.jss,i=TA(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var D3=function(t,n){for(var r="",i=0;i<t.length&&t[i]!=="!important";i++)r&&(r+=n),r+=t[i];return r},nh=function(t){if(!Array.isArray(t))return t;var n="";if(Array.isArray(t[0]))for(var r=0;r<t.length&&t[r]!=="!important";r++)n&&(n+=", "),n+=D3(t[r]," ");else n=D3(t,", ");return t[t.length-1]==="!important"&&(n+=" !important"),n};function $g(e){return e&&e.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function kv(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function lb(e,t,n){n===void 0&&(n={});var r="";if(!t)return r;var i=n,o=i.indent,s=o===void 0?0:o,a=t.fallbacks;n.format===!1&&(s=-1/0);var f=$g(n),h=f.linebreak,g=f.space;if(e&&s++,a)if(Array.isArray(a))for(var y=0;y<a.length;y++){var x=a[y];for(var P in x){var O=x[P];O!=null&&(r&&(r+=h),r+=kv(P+":"+g+nh(O)+";",s))}}else for(var S in a){var A=a[S];A!=null&&(r&&(r+=h),r+=kv(S+":"+g+nh(A)+";",s))}for(var I in t){var M=t[I];M!=null&&I!=="fallbacks"&&(r&&(r+=h),r+=kv(I+":"+g+nh(M)+";",s))}return!r&&!n.allowEmpty||!e?r:(s--,r&&(r=""+h+r+h),kv(""+e+g+"{"+r,s)+kv("}",s))}var rve=/([[\].#*$><+~=|^:(),"'`\s])/g,L3=typeof CSS<"u"&&CSS.escape,gR=function(e){return L3?L3(e):e.replace(rve,"\\$1")},u7=function(){function e(n,r,i){this.type="style",this.isProcessed=!1;var o=i.sheet,s=i.Renderer;this.key=n,this.options=i,this.style=r,o?this.renderer=o.renderer:s&&(this.renderer=new s)}var t=e.prototype;return t.prop=function(r,i,o){if(i===void 0)return this.style[r];var s=o?o.force:!1;if(!s&&this.style[r]===i)return this;var a=i;(!o||o.process!==!1)&&(a=this.options.jss.plugins.onChangeValue(i,r,this));var f=a==null||a===!1,h=r in this.style;if(f&&!h&&!s)return this;var g=f&&h;if(g?delete this.style[r]:this.style[r]=a,this.renderable&&this.renderer)return g?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,a),this;var y=this.options.sheet;return y&&y.attached,this},e}(),kA=function(e){ax(t,e);function t(r,i,o){var s;s=e.call(this,r,i,o)||this;var a=o.selector,f=o.scoped,h=o.sheet,g=o.generateId;return a?s.selectorText=a:f!==!1&&(s.id=g(ib(ib(s)),h),s.selectorText="."+gR(s.id)),s}var n=t.prototype;return n.applyTo=function(i){var o=this.renderer;if(o){var s=this.toJSON();for(var a in s)o.setProperty(i,a,s[a])}return this},n.toJSON=function(){var i={};for(var o in this.style){var s=this.style[o];typeof s!="object"?i[o]=s:Array.isArray(s)&&(i[o]=nh(s))}return i},n.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,a=s?te({},i,{allowEmpty:!0}):i;return lb(this.selectorText,this.style,a)},c7(t,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var o=this.renderer,s=this.renderable;if(!(!s||!o)){var a=o.setSelector(s,i);a||o.replaceRule(s,this)}}},get:function(){return this.selectorText}}]),t}(u7),ive={onCreateRule:function(t,n,r){return t[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new kA(t,n,r)}},Yk={indent:1,children:!0},ove=/@([\w-]+)/,ave=function(){function e(n,r,i){this.type="conditional",this.isProcessed=!1,this.key=n;var o=n.match(ove);this.at=o?o[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new SC(te({},i,{parent:this}));for(var s in r)this.rules.add(s,r[s]);this.rules.process()}var t=e.prototype;return t.getRule=function(r){return this.rules.get(r)},t.indexOf=function(r){return this.rules.indexOf(r)},t.addRule=function(r,i,o){var s=this.rules.add(r,i,o);return s?(this.options.jss.plugins.onProcessRule(s),s):null},t.replaceRule=function(r,i,o){var s=this.rules.replace(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.toString=function(r){r===void 0&&(r=Yk);var i=$g(r),o=i.linebreak;if(r.indent==null&&(r.indent=Yk.indent),r.children==null&&(r.children=Yk.children),r.children===!1)return this.query+" {}";var s=this.rules.toString(r);return s?this.query+" {"+o+s+o+"}":""},e}(),sve=/@container|@media|@supports\s+/,lve={onCreateRule:function(t,n,r){return sve.test(t)?new ave(t,n,r):null}},Kk={indent:1,children:!0},cve=/@keyframes\s+([\w-]+)/,PA=function(){function e(n,r,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var o=n.match(cve);o&&o[1]?this.name=o[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var s=i.scoped,a=i.sheet,f=i.generateId;this.id=s===!1?this.name:gR(f(this,a)),this.rules=new SC(te({},i,{parent:this}));for(var h in r)this.rules.add(h,r[h],te({},i,{parent:this}));this.rules.process()}var t=e.prototype;return t.toString=function(r){r===void 0&&(r=Kk);var i=$g(r),o=i.linebreak;if(r.indent==null&&(r.indent=Kk.indent),r.children==null&&(r.children=Kk.children),r.children===!1)return this.at+" "+this.id+" {}";var s=this.rules.toString(r);return s&&(s=""+o+s+o),this.at+" "+this.id+" {"+s+"}"},e}(),uve=/@keyframes\s+/,dve=/\$([\w-]+)/g,OA=function(t,n){return typeof t=="string"?t.replace(dve,function(r,i){return i in n?n[i]:r}):t},N3=function(t,n,r){var i=t[n],o=OA(i,r);o!==i&&(t[n]=o)},fve={onCreateRule:function(t,n,r){return typeof t=="string"&&uve.test(t)?new PA(t,n,r):null},onProcessStyle:function(t,n,r){return n.type!=="style"||!r||("animation-name"in t&&N3(t,"animation-name",r.keyframes),"animation"in t&&N3(t,"animation",r.keyframes)),t},onChangeValue:function(t,n,r){var i=r.options.sheet;if(!i)return t;switch(n){case"animation":return OA(t,i.keyframes);case"animation-name":return OA(t,i.keyframes);default:return t}}},hve=function(e){ax(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,a=s?te({},i,{allowEmpty:!0}):i;return lb(this.key,this.style,a)},t}(u7),pve={onCreateRule:function(t,n,r){return r.parent&&r.parent.type==="keyframes"?new hve(t,n,r):null}},mve=function(){function e(n,r,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var t=e.prototype;return t.toString=function(r){var i=$g(r),o=i.linebreak;if(Array.isArray(this.style)){for(var s="",a=0;a<this.style.length;a++)s+=lb(this.at,this.style[a]),this.style[a+1]&&(s+=o);return s}return lb(this.at,this.style,r)},e}(),gve=/@font-face/,yve={onCreateRule:function(t,n,r){return gve.test(t)?new mve(t,n,r):null}},vve=function(){function e(n,r,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var t=e.prototype;return t.toString=function(r){return lb(this.key,this.style,r)},e}(),bve={onCreateRule:function(t,n,r){return t==="@viewport"||t==="@-ms-viewport"?new vve(t,n,r):null}},xve=function(){function e(n,r,i){this.type="simple",this.isProcessed=!1,this.key=n,this.value=r,this.options=i}var t=e.prototype;return t.toString=function(r){if(Array.isArray(this.value)){for(var i="",o=0;o<this.value.length;o++)i+=this.key+" "+this.value[o]+";",this.value[o+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},e}(),_ve={"@charset":!0,"@import":!0,"@namespace":!0},wve={onCreateRule:function(t,n,r){return t in _ve?new xve(t,n,r):null}},z3=[ive,lve,fve,pve,yve,bve,wve],Sve={process:!0},j3={force:!0,process:!0},SC=function(){function e(n){this.map={},this.raw={},this.index=[],this.counter=0,this.options=n,this.classes=n.classes,this.keyframes=n.keyframes}var t=e.prototype;return t.add=function(r,i,o){var s=this.options,a=s.parent,f=s.sheet,h=s.jss,g=s.Renderer,y=s.generateId,x=s.scoped,P=te({classes:this.classes,parent:a,sheet:f,jss:h,Renderer:g,generateId:y,scoped:x,name:r,keyframes:this.keyframes,selector:void 0},o),O=r;r in this.raw&&(O=r+"-d"+this.counter++),this.raw[O]=i,O in this.classes&&(P.selector="."+gR(this.classes[O]));var S=mR(O,i,P);if(!S)return null;this.register(S);var A=P.index===void 0?this.index.length:P.index;return this.index.splice(A,0,S),S},t.replace=function(r,i,o){var s=this.get(r),a=this.index.indexOf(s);s&&this.remove(s);var f=o;return a!==-1&&(f=te({},o,{index:a})),this.add(r,i,f)},t.get=function(r){return this.map[r]},t.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},t.indexOf=function(r){return this.index.indexOf(r)},t.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},t.register=function(r){this.map[r.key]=r,r instanceof kA?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof PA&&this.keyframes&&(this.keyframes[r.name]=r.id)},t.unregister=function(r){delete this.map[r.key],r instanceof kA?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof PA&&delete this.keyframes[r.name]},t.update=function(){var r,i,o;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],o=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),i,o);else for(var s=0;s<this.index.length;s++)this.updateOne(this.index[s],i,o)},t.updateOne=function(r,i,o){o===void 0&&(o=Sve);var s=this.options,a=s.jss.plugins,f=s.sheet;if(r.rules instanceof e){r.rules.update(i,o);return}var h=r.style;if(a.onUpdate(i,r,f,o),o.process&&h&&h!==r.style){a.onProcessStyle(r.style,r,f);for(var g in r.style){var y=r.style[g],x=h[g];y!==x&&r.prop(g,y,j3)}for(var P in h){var O=r.style[P],S=h[P];O==null&&O!==S&&r.prop(P,null,j3)}}},t.toString=function(r){for(var i="",o=this.options.sheet,s=o?o.options.link:!1,a=$g(r),f=a.linebreak,h=0;h<this.index.length;h++){var g=this.index[h],y=g.toString(r);!y&&!s||(i&&(i+=f),i+=y)}return i},e}(),d7=function(){function e(n,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=te({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new SC(this.options);for(var i in n)this.rules.add(i,n[i]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(r,i,o){var s=this.queue;this.attached&&!s&&(this.queue=[]);var a=this.rules.add(r,i,o);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&(s?s.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),a):(this.deployed=!1,a)):null},t.replaceRule=function(r,i,o){var s=this.rules.get(r);if(!s)return this.addRule(r,i,o);var a=this.rules.replace(r,i,o);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&this.renderer&&(a?s.renderable&&this.renderer.replaceRule(s.renderable,a):this.renderer.deleteRule(s)),a):(this.deployed=!1,a)},t.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},t.addRules=function(r,i){var o=[];for(var s in r){var a=this.addRule(s,r[s],i);a&&o.push(a)}return o},t.getRule=function(r){return this.rules.get(r)},t.deleteRule=function(r){var i=typeof r=="object"?r:this.rules.get(r);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},t.indexOf=function(r){return this.rules.indexOf(r)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},t.updateOne=function(r,i,o){return this.rules.updateOne(r,i,o),this},t.toString=function(r){return this.rules.toString(r)},e}(),Cve=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(r,i,o){for(var s=0;s<this.registry.onCreateRule.length;s++){var a=this.registry.onCreateRule[s](r,i,o);if(a)return a}return null},t.onProcessRule=function(r){if(!r.isProcessed){for(var i=r.options.sheet,o=0;o<this.registry.onProcessRule.length;o++)this.registry.onProcessRule[o](r,i);r.style&&this.onProcessStyle(r.style,r,i),r.isProcessed=!0}},t.onProcessStyle=function(r,i,o){for(var s=0;s<this.registry.onProcessStyle.length;s++)i.style=this.registry.onProcessStyle[s](i.style,i,o)},t.onProcessSheet=function(r){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](r)},t.onUpdate=function(r,i,o,s){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](r,i,o,s)},t.onChangeValue=function(r,i,o){for(var s=r,a=0;a<this.registry.onChangeValue.length;a++)s=this.registry.onChangeValue[a](s,i,o);return s},t.use=function(r,i){i===void 0&&(i={queue:"external"});var o=this.plugins[i.queue];o.indexOf(r)===-1&&(o.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(s,a){for(var f in a)f in s&&s[f].push(a[f]);return s},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),Eve=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(r){var i=this.registry,o=r.options.index;if(i.indexOf(r)===-1){if(i.length===0||o>=this.index){i.push(r);return}for(var s=0;s<i.length;s++)if(i[s].options.index>o){i.splice(s,0,r);return}}},t.reset=function(){this.registry=[]},t.remove=function(r){var i=this.registry.indexOf(r);this.registry.splice(i,1)},t.toString=function(r){for(var i=r===void 0?{}:r,o=i.attached,s=mt(i,["attached"]),a=$g(s),f=a.linebreak,h="",g=0;g<this.registry.length;g++){var y=this.registry[g];o!=null&&y.attached!==o||(h&&(h+=f),h+=y.toString(s))}return h},c7(e,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),e}(),_0=new Eve,AA=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),MA="2f1acc6c3a606b082e5eef5e54414ffb";AA[MA]==null&&(AA[MA]=0);var B3=AA[MA]++,F3=function(t){t===void 0&&(t={});var n=0,r=function(o,s){n+=1;var a="",f="";return s&&(s.options.classNamePrefix&&(f=s.options.classNamePrefix),s.options.jss.id!=null&&(a=String(s.options.jss.id))),t.minify?""+(f||"c")+B3+a+n:f+o.key+"-"+B3+(a?"-"+a:"")+"-"+n};return r},f7=function(t){var n;return function(){return n||(n=t()),n}},Tve=function(t,n){try{return t.attributeStyleMap?t.attributeStyleMap.get(n):t.style.getPropertyValue(n)}catch{return""}},kve=function(t,n,r){try{var i=r;if(Array.isArray(r)&&(i=nh(r)),t.attributeStyleMap)t.attributeStyleMap.set(n,i);else{var o=i?i.indexOf("!important"):-1,s=o>-1?i.substr(0,o-1):i;t.style.setProperty(n,s,o>-1?"important":"")}}catch{return!1}return!0},Pve=function(t,n){try{t.attributeStyleMap?t.attributeStyleMap.delete(n):t.style.removeProperty(n)}catch{}},Ove=function(t,n){return t.selectorText=n,t.selectorText===n},h7=f7(function(){return document.querySelector("head")});function Ave(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}function Mve(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}function Ive(e){for(var t=h7(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(r.nodeType===8&&r.nodeValue.trim()===e)return r}return null}function $ve(e){var t=_0.registry;if(t.length>0){var n=Ave(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=Mve(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&typeof r=="string"){var i=Ive(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function Rve(e,t){var n=t.insertionPoint,r=$ve(t);if(r!==!1&&r.parent){r.parent.insertBefore(e,r.node);return}if(n&&typeof n.nodeType=="number"){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling);return}h7().appendChild(e)}var Dve=f7(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),U3=function(t,n,r){try{"insertRule"in t?t.insertRule(n,r):"appendRule"in t&&t.appendRule(n)}catch{return!1}return t.cssRules[r]},V3=function(t,n){var r=t.cssRules.length;return n===void 0||n>r?r:n},Lve=function(){var t=document.createElement("style");return t.textContent=`
`,t},Nve=function(){function e(n){this.getPropertyValue=Tve,this.setProperty=kve,this.removeProperty=Pve,this.setSelector=Ove,this.hasInsertedRules=!1,this.cssRules=[],n&&_0.add(n),this.sheet=n;var r=this.sheet?this.sheet.options:{},i=r.media,o=r.meta,s=r.element;this.element=s||Lve(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),o&&this.element.setAttribute("data-meta",o);var a=Dve();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!(this.element.parentNode||!this.sheet)){Rve(this.element,this.sheet.options);var r=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},t.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},t.insertRules=function(r,i){for(var o=0;o<r.index.length;o++)this.insertRule(r.index[o],o,i)},t.insertRule=function(r,i,o){if(o===void 0&&(o=this.element.sheet),r.rules){var s=r,a=o;if(r.type==="conditional"||r.type==="keyframes"){var f=V3(o,i);if(a=U3(o,s.toString({children:!1}),f),a===!1)return!1;this.refCssRule(r,f,a)}return this.insertRules(s.rules,a),a}var h=r.toString();if(!h)return!1;var g=V3(o,i),y=U3(o,h,g);return y===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,g,y),y)},t.refCssRule=function(r,i,o){r.renderable=o,r.options.parent instanceof d7&&this.cssRules.splice(i,0,o)},t.deleteRule=function(r){var i=this.element.sheet,o=this.indexOf(r);return o===-1?!1:(i.deleteRule(o),this.cssRules.splice(o,1),!0)},t.indexOf=function(r){return this.cssRules.indexOf(r)},t.replaceRule=function(r,i){var o=this.indexOf(r);return o===-1?!1:(this.element.sheet.deleteRule(o),this.cssRules.splice(o,1),this.insertRule(i,o))},t.getRules=function(){return this.element.sheet.cssRules},e}(),zve=0,jve=function(){function e(n){this.id=zve++,this.version="10.10.0",this.plugins=new Cve,this.options={id:{minify:!1},createGenerateId:F3,Renderer:hx?Nve:null,plugins:[]},this.generateId=F3({minify:!1});for(var r=0;r<z3.length;r++)this.plugins.use(z3[r],{queue:"internal"});this.setup(n)}var t=e.prototype;return t.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=te({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},t.createStyleSheet=function(r,i){i===void 0&&(i={});var o=i,s=o.index;typeof s!="number"&&(s=_0.index===0?0:_0.index+1);var a=new d7(r,te({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:s}));return this.plugins.onProcessSheet(a),a},t.removeStyleSheet=function(r){return r.detach(),_0.remove(r),this},t.createRule=function(r,i,o){if(i===void 0&&(i={}),o===void 0&&(o={}),typeof r=="object")return this.createRule(void 0,r,i);var s=te({},o,{name:r,jss:this,Renderer:this.options.Renderer});s.generateId||(s.generateId=this.generateId),s.classes||(s.classes={}),s.keyframes||(s.keyframes={});var a=mR(r,i,s);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var r=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return o.forEach(function(a){r.plugins.use(a)}),this},e}(),p7=function(t){return new jve(t)},yR=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function m7(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if(i==="function")t||(t={}),t[n]=r;else if(i==="object"&&r!==null&&!Array.isArray(r)){var o=m7(r);o&&(t||(t={}),t[n]=o)}}return t}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */p7();function g7(e={}){const{baseClasses:t,newClasses:n,Component:r}=e;if(!n)return t;const i=te({},t);return Object.keys(n).forEach(o=>{n[o]&&(i[o]=`${t[o]} ${n[o]}`)}),i}const Bve={set:(e,t,n,r)=>{let i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:(e,t,n)=>{const r=e.get(t);return r?r.get(n):void 0},delete:(e,t,n)=>{e.get(t).delete(n)}},om=Bve;function y7(){var e;const t=Y$();return(e=t==null?void 0:t.$$material)!=null?e:t}const Fve=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function Uve(e={}){const{disableGlobal:t=!1,productionPrefix:n="jss",seed:r=""}=e,i=r===""?"":`${r}-`;let o=0;const s=()=>(o+=1,o);return(a,f)=>{const h=f.options.name;if(h&&h.indexOf("Mui")===0&&!f.options.link&&!t){if(Fve.indexOf(a.key)!==-1)return`Mui-${a.key}`;const g=`${i}${h}-${a.key}`;return!f.options.theme[S9]||r!==""?g:`${g}-${s()}`}return`${i}${n}${s()}`}}var v7=Date.now(),Zk="fnValues"+v7,Xk="fnStyle"+ ++v7,Vve=function(){return{onCreateRule:function(n,r,i){if(typeof r!="function")return null;var o=mR(n,{},i);return o[Xk]=r,o},onProcessStyle:function(n,r){if(Zk in r||Xk in r)return n;var i={};for(var o in n){var s=n[o];typeof s=="function"&&(delete n[o],i[o]=s)}return r[Zk]=i,n},onUpdate:function(n,r,i,o){var s=r,a=s[Xk];a&&(s.style=a(n)||{});var f=s[Zk];if(f)for(var h in f)s.prop(h,f[h](n),o)}}};const Wve=Vve;var Ed="@global",IA="@global ",qve=function(){function e(n,r,i){this.type="global",this.at=Ed,this.isProcessed=!1,this.key=n,this.options=i,this.rules=new SC(te({},i,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(r){return this.rules.get(r)},t.addRule=function(r,i,o){var s=this.rules.add(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.replaceRule=function(r,i,o){var s=this.rules.replace(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.indexOf=function(r){return this.rules.indexOf(r)},t.toString=function(r){return this.rules.toString(r)},e}(),Gve=function(){function e(n,r,i){this.type="global",this.at=Ed,this.isProcessed=!1,this.key=n,this.options=i;var o=n.substr(IA.length);this.rule=i.jss.createRule(o,r,te({},i,{parent:this}))}var t=e.prototype;return t.toString=function(r){return this.rule?this.rule.toString(r):""},e}(),Hve=/\s*,\s*/g;function b7(e,t){for(var n=e.split(Hve),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}function Yve(e,t){var n=e.options,r=e.style,i=r?r[Ed]:null;if(i){for(var o in i)t.addRule(o,i[o],te({},n,{selector:b7(o,e.selector)}));delete r[Ed]}}function Kve(e,t){var n=e.options,r=e.style;for(var i in r)if(!(i[0]!=="@"||i.substr(0,Ed.length)!==Ed)){var o=b7(i.substr(Ed.length),e.selector);t.addRule(o,r[i],te({},n,{selector:o})),delete r[i]}}function Zve(){function e(n,r,i){if(!n)return null;if(n===Ed)return new qve(n,r,i);if(n[0]==="@"&&n.substr(0,IA.length)===IA)return new Gve(n,r,i);var o=i.parent;return o&&(o.type==="global"||o.options.parent&&o.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=n),null}function t(n,r){n.type!=="style"||!r||(Yve(n,r),Kve(n,r))}return{onCreateRule:e,onProcessRule:t}}var W3=/\s*,\s*/g,Xve=/&/g,Jve=/\$([\w-]+)/g;function Qve(){function e(i,o){return function(s,a){var f=i.getRule(a)||o&&o.getRule(a);return f?f.selector:a}}function t(i,o){for(var s=o.split(W3),a=i.split(W3),f="",h=0;h<s.length;h++)for(var g=s[h],y=0;y<a.length;y++){var x=a[y];f&&(f+=", "),f+=x.indexOf("&")!==-1?x.replace(Xve,g):g+" "+x}return f}function n(i,o,s){if(s)return te({},s,{index:s.index+1});var a=i.options.nestingLevel;a=a===void 0?1:a+1;var f=te({},i.options,{nestingLevel:a,index:o.indexOf(i)+1});return delete f.name,f}function r(i,o,s){if(o.type!=="style")return i;var a=o,f=a.options.parent,h,g;for(var y in i){var x=y.indexOf("&")!==-1,P=y[0]==="@";if(!(!x&&!P)){if(h=n(a,f,h),x){var O=t(y,a.selector);g||(g=e(f,s)),O=O.replace(Jve,g);var S=a.key+"-"+y;"replaceRule"in f?f.replaceRule(S,i[y],te({},h,{selector:O})):f.addRule(S,i[y],te({},h,{selector:O}))}else P&&f.addRule(y,{},h).addRule(a.key,i[y],{selector:a.selector});delete i[y]}}return i}return{onProcessStyle:r}}var e0e=/[A-Z]/g,t0e=/^ms-/,Jk={};function n0e(e){return"-"+e.toLowerCase()}function x7(e){if(Jk.hasOwnProperty(e))return Jk[e];var t=e.replace(e0e,n0e);return Jk[e]=t0e.test(t)?"-"+t:t}function Jw(e){var t={};for(var n in e){var r=n.indexOf("--")===0?n:x7(n);t[r]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Jw):t.fallbacks=Jw(e.fallbacks)),t}function r0e(){function e(n){if(Array.isArray(n)){for(var r=0;r<n.length;r++)n[r]=Jw(n[r]);return n}return Jw(n)}function t(n,r,i){if(r.indexOf("--")===0)return n;var o=x7(r);return r===o?n:(i.prop(o,n),null)}return{onProcessStyle:e,onChangeValue:t}}var Qe=yR&&CSS?CSS.px:"px",l1=yR&&CSS?CSS.ms:"ms",Op=yR&&CSS?CSS.percent:"%",i0e={"animation-delay":l1,"animation-duration":l1,"background-position":Qe,"background-position-x":Qe,"background-position-y":Qe,"background-size":Qe,border:Qe,"border-bottom":Qe,"border-bottom-left-radius":Qe,"border-bottom-right-radius":Qe,"border-bottom-width":Qe,"border-left":Qe,"border-left-width":Qe,"border-radius":Qe,"border-right":Qe,"border-right-width":Qe,"border-top":Qe,"border-top-left-radius":Qe,"border-top-right-radius":Qe,"border-top-width":Qe,"border-width":Qe,"border-block":Qe,"border-block-end":Qe,"border-block-end-width":Qe,"border-block-start":Qe,"border-block-start-width":Qe,"border-block-width":Qe,"border-inline":Qe,"border-inline-end":Qe,"border-inline-end-width":Qe,"border-inline-start":Qe,"border-inline-start-width":Qe,"border-inline-width":Qe,"border-start-start-radius":Qe,"border-start-end-radius":Qe,"border-end-start-radius":Qe,"border-end-end-radius":Qe,margin:Qe,"margin-bottom":Qe,"margin-left":Qe,"margin-right":Qe,"margin-top":Qe,"margin-block":Qe,"margin-block-end":Qe,"margin-block-start":Qe,"margin-inline":Qe,"margin-inline-end":Qe,"margin-inline-start":Qe,padding:Qe,"padding-bottom":Qe,"padding-left":Qe,"padding-right":Qe,"padding-top":Qe,"padding-block":Qe,"padding-block-end":Qe,"padding-block-start":Qe,"padding-inline":Qe,"padding-inline-end":Qe,"padding-inline-start":Qe,"mask-position-x":Qe,"mask-position-y":Qe,"mask-size":Qe,height:Qe,width:Qe,"min-height":Qe,"max-height":Qe,"min-width":Qe,"max-width":Qe,bottom:Qe,left:Qe,top:Qe,right:Qe,inset:Qe,"inset-block":Qe,"inset-block-end":Qe,"inset-block-start":Qe,"inset-inline":Qe,"inset-inline-end":Qe,"inset-inline-start":Qe,"box-shadow":Qe,"text-shadow":Qe,"column-gap":Qe,"column-rule":Qe,"column-rule-width":Qe,"column-width":Qe,"font-size":Qe,"font-size-delta":Qe,"letter-spacing":Qe,"text-decoration-thickness":Qe,"text-indent":Qe,"text-stroke":Qe,"text-stroke-width":Qe,"word-spacing":Qe,motion:Qe,"motion-offset":Qe,outline:Qe,"outline-offset":Qe,"outline-width":Qe,perspective:Qe,"perspective-origin-x":Op,"perspective-origin-y":Op,"transform-origin":Op,"transform-origin-x":Op,"transform-origin-y":Op,"transform-origin-z":Op,"transition-delay":l1,"transition-duration":l1,"vertical-align":Qe,"flex-basis":Qe,"shape-margin":Qe,size:Qe,gap:Qe,grid:Qe,"grid-gap":Qe,"row-gap":Qe,"grid-row-gap":Qe,"grid-column-gap":Qe,"grid-template-rows":Qe,"grid-template-columns":Qe,"grid-auto-rows":Qe,"grid-auto-columns":Qe,"box-shadow-x":Qe,"box-shadow-y":Qe,"box-shadow-blur":Qe,"box-shadow-spread":Qe,"font-line-height":Qe,"text-shadow-x":Qe,"text-shadow-y":Qe,"text-shadow-blur":Qe};function _7(e){var t=/(-[a-z])/g,n=function(s){return s[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var o0e=_7(i0e);function w0(e,t,n){if(t==null)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=w0(e,t[r],n);else if(typeof t=="object")if(e==="fallbacks")for(var i in t)t[i]=w0(i,t[i],n);else for(var o in t)t[o]=w0(e+"-"+o,t[o],n);else if(typeof t=="number"&&isNaN(t)===!1){var s=n[e]||o0e[e];return s&&!(t===0&&s===Qe)?typeof s=="function"?s(t).toString():""+t+s:t.toString()}return t}function a0e(e){e===void 0&&(e={});var t=_7(e);function n(i,o){if(o.type!=="style")return i;for(var s in i)i[s]=w0(s,i[s],t);return i}function r(i,o){return w0(o,i,t)}return{onProcessStyle:n,onChangeValue:r}}function $A(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s0e(e){if(Array.isArray(e))return $A(e)}function l0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c0e(e,t){if(e){if(typeof e=="string")return $A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $A(e,t)}}function u0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d0e(e){return s0e(e)||l0e(e)||c0e(e)||u0e()}var t0="",RA="",w7="",S7="",f0e=hx&&"ontouchstart"in document.documentElement;if(hx){var Qk={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},h0e=document.createElement("p"),eP=h0e.style,p0e="Transform";for(var tP in Qk)if(tP+p0e in eP){t0=tP,RA=Qk[tP];break}t0==="Webkit"&&"msHyphens"in eP&&(t0="ms",RA=Qk.ms,S7="edge"),t0==="Webkit"&&"-apple-trailing-word"in eP&&(w7="apple")}var En={js:t0,css:RA,vendor:w7,browser:S7,isTouch:f0e};function m0e(e){return e[1]==="-"||En.js==="ms"?e:"@"+En.css+"keyframes"+e.substr(10)}var g0e={noPrefill:["appearance"],supportedProperty:function(t){return t!=="appearance"?!1:En.js==="ms"?"-webkit-"+t:En.css+t}},y0e={noPrefill:["color-adjust"],supportedProperty:function(t){return t!=="color-adjust"?!1:En.js==="Webkit"?En.css+"print-"+t:t}},v0e=/[-\s]+(.)?/g;function b0e(e,t){return t?t.toUpperCase():""}function vR(e){return e.replace(v0e,b0e)}function Ld(e){return vR("-"+e)}var x0e={noPrefill:["mask"],supportedProperty:function(t,n){if(!/^mask/.test(t))return!1;if(En.js==="Webkit"){var r="mask-image";if(vR(r)in n)return t;if(En.js+Ld(r)in n)return En.css+t}return t}},_0e={noPrefill:["text-orientation"],supportedProperty:function(t){return t!=="text-orientation"?!1:En.vendor==="apple"&&!En.isTouch?En.css+t:t}},w0e={noPrefill:["transform"],supportedProperty:function(t,n,r){return t!=="transform"?!1:r.transform?t:En.css+t}},S0e={noPrefill:["transition"],supportedProperty:function(t,n,r){return t!=="transition"?!1:r.transition?t:En.css+t}},C0e={noPrefill:["writing-mode"],supportedProperty:function(t){return t!=="writing-mode"?!1:En.js==="Webkit"||En.js==="ms"&&En.browser!=="edge"?En.css+t:t}},E0e={noPrefill:["user-select"],supportedProperty:function(t){return t!=="user-select"?!1:En.js==="Moz"||En.js==="ms"||En.vendor==="apple"?En.css+t:t}},T0e={supportedProperty:function(t,n){if(!/^break-/.test(t))return!1;if(En.js==="Webkit"){var r="WebkitColumn"+Ld(t);return r in n?En.css+"column-"+t:!1}if(En.js==="Moz"){var i="page"+Ld(t);return i in n?"page-"+t:!1}return!1}},k0e={supportedProperty:function(t,n){if(!/^(border|margin|padding)-inline/.test(t))return!1;if(En.js==="Moz")return t;var r=t.replace("-inline","");return En.js+Ld(r)in n?En.css+r:!1}},P0e={supportedProperty:function(t,n){return vR(t)in n?t:!1}},O0e={supportedProperty:function(t,n){var r=Ld(t);return t[0]==="-"||t[0]==="-"&&t[1]==="-"?t:En.js+r in n?En.css+t:En.js!=="Webkit"&&"Webkit"+r in n?"-webkit-"+t:!1}},A0e={supportedProperty:function(t){return t.substring(0,11)!=="scroll-snap"?!1:En.js==="ms"?""+En.css+t:t}},M0e={supportedProperty:function(t){return t!=="overscroll-behavior"?!1:En.js==="ms"?En.css+"scroll-chaining":t}},I0e={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},$0e={supportedProperty:function(t,n){var r=I0e[t];return r&&En.js+Ld(r)in n?En.css+r:!1}},C7={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},R0e=Object.keys(C7),D0e=function(t){return En.css+t},L0e={supportedProperty:function(t,n,r){var i=r.multiple;if(R0e.indexOf(t)>-1){var o=C7[t];if(!Array.isArray(o))return En.js+Ld(o)in n?En.css+o:!1;if(!i)return!1;for(var s=0;s<o.length;s++)if(!(En.js+Ld(o[0])in n))return!1;return o.map(D0e)}return!1}},E7=[g0e,y0e,x0e,_0e,w0e,S0e,C0e,E0e,T0e,k0e,P0e,O0e,A0e,M0e,$0e,L0e],q3=E7.filter(function(e){return e.supportedProperty}).map(function(e){return e.supportedProperty}),N0e=E7.filter(function(e){return e.noPrefill}).reduce(function(e,t){return e.push.apply(e,d0e(t.noPrefill)),e},[]),n0,zf={};if(hx){n0=document.createElement("p");var nP=window.getComputedStyle(document.documentElement,"");for(var rP in nP)isNaN(rP)||(zf[nP[rP]]=nP[rP]);N0e.forEach(function(e){return delete zf[e]})}function DA(e,t){if(t===void 0&&(t={}),!n0)return e;if(zf[e]!=null)return zf[e];(e==="transition"||e==="transform")&&(t[e]=e in n0.style);for(var n=0;n<q3.length&&(zf[e]=q3[n](e,n0.style,t),!zf[e]);n++);try{n0.style[e]=""}catch{return!1}return zf[e]}var Ap={},z0e={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},j0e=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Ju;function B0e(e,t,n){if(t==="var")return"var";if(t==="all")return"all";if(n==="all")return", all";var r=t?DA(t):", "+DA(n);return r||t||n}hx&&(Ju=document.createElement("p"));function G3(e,t){var n=t;if(!Ju||e==="content")return t;if(typeof n!="string"||!isNaN(parseInt(n,10)))return n;var r=e+n;if(Ap[r]!=null)return Ap[r];try{Ju.style[e]=n}catch{return Ap[r]=!1,!1}if(z0e[e])n=n.replace(j0e,B0e);else if(Ju.style[e]===""&&(n=En.css+n,n==="-ms-flex"&&(Ju.style[e]="-ms-flexbox"),Ju.style[e]=n,Ju.style[e]===""))return Ap[r]=!1,!1;return Ju.style[e]="",Ap[r]=n,Ap[r]}function F0e(){function e(i){if(i.type==="keyframes"){var o=i;o.at=m0e(o.at)}}function t(i){for(var o in i){var s=i[o];if(o==="fallbacks"&&Array.isArray(s)){i[o]=s.map(t);continue}var a=!1,f=DA(o);f&&f!==o&&(a=!0);var h=!1,g=G3(f,nh(s));g&&g!==s&&(h=!0),(a||h)&&(a&&delete i[o],i[f||o]=g||s)}return i}function n(i,o){return o.type!=="style"?i:t(i)}function r(i,o){return G3(o,nh(i))||i}return{onProcessRule:e,onProcessStyle:n,onChangeValue:r}}function U0e(){var e=function(n,r){return n.length===r.length?n>r?1:-1:n.length-r.length};return{onProcessStyle:function(n,r){if(r.type!=="style")return n;for(var i={},o=Object.keys(n).sort(e),s=0;s<o.length;s++)i[o[s]]=n[o[s]];return i}}}function V0e(){return{plugins:[Wve(),Zve(),Qve(),r0e(),a0e(),typeof window>"u"?null:F0e(),U0e()]}}const W0e=p7(V0e()),q0e=Uve(),G0e=new Map,H0e={disableGeneration:!1,generateClassName:q0e,jss:W0e,sheetsCache:null,sheetsManager:G0e,sheetsRegistry:null},Y0e=V.createContext(H0e);let H3=-1e9;function K0e(){return H3+=1,H3}const Z0e=["variant"];function Y3(e){return e.length===0}function X0e(e){const{variant:t}=e,n=mt(e,Z0e);let r=t||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=Y3(r)?e[i]:ot(e[i]):r+=`${Y3(r)?i:ot(i)}${ot(e[i].toString())}`}),r}const J0e={},Q0e=J0e;function ebe(e){const t=typeof e=="function";return{create:(n,r)=>{let i;try{i=t?e(n):e}catch(f){throw f}if(!r||!n.components||!n.components[r]||!n.components[r].styleOverrides&&!n.components[r].variants)return i;const o=n.components[r].styleOverrides||{},s=n.components[r].variants||[],a=te({},i);return Object.keys(o).forEach(f=>{a[f]=to(a[f]||{},o[f])}),s.forEach(f=>{const h=X0e(f.props);a[h]=to(a[h]||{},f.style)}),a},options:{}}}const tbe=["name","classNamePrefix","Component","defaultTheme"];function nbe({state:e,stylesOptions:t},n,r){if(t.disableGeneration)return n||{};e.cacheClasses||(e.cacheClasses={value:null,lastProp:null,lastJSS:{}});let i=!1;return e.classes!==e.cacheClasses.lastJSS&&(e.cacheClasses.lastJSS=e.classes,i=!0),n!==e.cacheClasses.lastProp&&(e.cacheClasses.lastProp=n,i=!0),i&&(e.cacheClasses.value=g7({baseClasses:e.cacheClasses.lastJSS,newClasses:n,Component:r})),e.cacheClasses.value}function rbe({state:e,theme:t,stylesOptions:n,stylesCreator:r,name:i},o){if(n.disableGeneration)return;let s=om.get(n.sheetsManager,r,t);s||(s={refs:0,staticSheet:null,dynamicStyles:null},om.set(n.sheetsManager,r,t,s));const a=te({},r.options,n,{theme:t,flip:typeof n.flip=="boolean"?n.flip:t.direction==="rtl"});a.generateId=a.serverGenerateClassName||a.generateClassName;const f=n.sheetsRegistry;if(s.refs===0){let h;n.sheetsCache&&(h=om.get(n.sheetsCache,r,t));const g=r.create(t,i);h||(h=n.jss.createStyleSheet(g,te({link:!1},a)),h.attach(),n.sheetsCache&&om.set(n.sheetsCache,r,t,h)),f&&f.add(h),s.staticSheet=h,s.dynamicStyles=m7(g)}if(s.dynamicStyles){const h=n.jss.createStyleSheet(s.dynamicStyles,te({link:!0},a));h.update(o),h.attach(),e.dynamicSheet=h,e.classes=g7({baseClasses:s.staticSheet.classes,newClasses:h.classes}),f&&f.add(h)}else e.classes=s.staticSheet.classes;s.refs+=1}function ibe({state:e},t){e.dynamicSheet&&e.dynamicSheet.update(t)}function obe({state:e,theme:t,stylesOptions:n,stylesCreator:r}){if(n.disableGeneration)return;const i=om.get(n.sheetsManager,r,t);i.refs-=1;const o=n.sheetsRegistry;i.refs===0&&(om.delete(n.sheetsManager,r,t),n.jss.removeStyleSheet(i.staticSheet),o&&o.remove(i.staticSheet)),e.dynamicSheet&&(n.jss.removeStyleSheet(e.dynamicSheet),o&&o.remove(e.dynamicSheet))}function abe(e,t){const n=V.useRef([]);let r;const i=V.useMemo(()=>({}),t);n.current!==i&&(n.current=i,r=e()),V.useEffect(()=>()=>{r&&r()},[i])}function Xr(e,t={}){const{name:n,classNamePrefix:r,Component:i,defaultTheme:o=Q0e}=t,s=mt(t,tbe),a=ebe(e),f=n||r||"makeStyles";return a.options={index:K0e(),name:n,meta:f,classNamePrefix:f},(g={})=>{const y=y7()||o,x=te({},V.useContext(Y0e),s),P=V.useRef(),O=V.useRef();return abe(()=>{const A={name:n,state:{},stylesCreator:a,stylesOptions:x,theme:y};return rbe(A,g),O.current=!1,P.current=A,()=>{obe(A)}},[y,a]),V.useEffect(()=>{O.current&&ibe(P.current,g),O.current=!0}),nbe(P.current,g.classes,i)}}const sbe="/assets/alarm-5d2ecd46.mp3";function T7(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=T7(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Oh(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=T7(e))&&(r&&(r+=" "),r+=t);return r}let lbe={data:""},cbe=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||lbe,ube=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,dbe=/\/\*[^]*?\*\/|  +/g,K3=/\n+/g,jf=(e,t)=>{let n="",r="",i="";for(let o in e){let s=e[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?jf(s,o):o+"{"+jf(s,o[1]=="k"?"":t)+"}":typeof s=="object"?r+=jf(s,t?t.replace(/([^,])+/g,a=>o.replace(/(^:.*)|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,a):a?a+" "+f:f)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=jf.p?jf.p(o,s):o+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Pc={},k7=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+k7(e[n]);return t}return e},fbe=(e,t,n,r,i)=>{let o=k7(e),s=Pc[o]||(Pc[o]=(f=>{let h=0,g=11;for(;h<f.length;)g=101*g+f.charCodeAt(h++)>>>0;return"go"+g})(o));if(!Pc[s]){let f=o!==e?e:(h=>{let g,y,x=[{}];for(;g=ube.exec(h.replace(dbe,""));)g[4]?x.shift():g[3]?(y=g[3].replace(K3," ").trim(),x.unshift(x[0][y]=x[0][y]||{})):x[0][g[1]]=g[2].replace(K3," ").trim();return x[0]})(e);Pc[s]=jf(i?{["@keyframes "+s]:f}:f,n?"":"."+s)}let a=n&&Pc.g?Pc.g:null;return n&&(Pc.g=Pc[s]),((f,h,g,y)=>{y?h.data=h.data.replace(y,f):h.data.indexOf(f)===-1&&(h.data=g?f+h.data:h.data+f)})(Pc[s],t,r,a),s},hbe=(e,t,n)=>e.reduce((r,i,o)=>{let s=t[o];if(s&&s.call){let a=s(n),f=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=f?"."+f:a&&typeof a=="object"?a.props?"":jf(a,""):a===!1?"":a}return r+i+(s??"")},"");function bR(e){let t=this||{},n=e.call?e(t.p):e;return fbe(n.unshift?n.raw?hbe(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,cbe(t.target),t.g,t.o,t.k)}bR.bind({g:1});bR.bind({k:1});function Z3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P7(e,t,n){return t&&Z3(e.prototype,t),n&&Z3(e,n),e}function wr(){return wr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wr.apply(this,arguments)}function O7(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function px(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function X3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var J3=function(){return""},pbe=Pe.createContext({enqueueSnackbar:J3,closeSnackbar:J3}),$f={downXs:"@media (max-width:599.95px)",upSm:"@media (min-width:600px)"},Q3=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},xR=function(t){return""+Q3(t.vertical)+Q3(t.horizontal)},c1=function(t){return!!t||t===0},u1="unmounted",Mp="exited",Ip="entering",Pv="entered",eB="exiting",_R=function(e){O7(t,e);function t(r){var i;i=e.call(this,r)||this;var o=r.appear,s;return i.appearStatus=null,r.in?o?(s=Mp,i.appearStatus=Ip):s=Pv:r.unmountOnExit||r.mountOnEnter?s=u1:s=Mp,i.state={status:s},i.nextCallback=null,i}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===u1?{status:Mp}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Ip&&s!==Pv&&(o=Ip):(s===Ip||s===Pv)&&(o=eB)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o=i,s=i;return i!=null&&typeof i!="number"&&typeof i!="string"&&(s=i.exit,o=i.enter),{exit:s,enter:o}},n.updateStatus=function(i,o){i===void 0&&(i=!1),o!==null?(this.cancelNextCallback(),o===Ip?this.performEnter(i):this.performExit()):this.props.unmountOnExit&&this.state.status===Mp&&this.setState({status:u1})},n.performEnter=function(i){var o=this,s=this.props.enter,a=i,f=this.getTimeouts();if(!i&&!s){this.safeSetState({status:Pv},function(){o.props.onEntered&&o.props.onEntered(o.node,a)});return}this.props.onEnter&&this.props.onEnter(this.node,a),this.safeSetState({status:Ip},function(){o.props.onEntering&&o.props.onEntering(o.node,a),o.onTransitionEnd(f.enter,function(){o.safeSetState({status:Pv},function(){o.props.onEntered&&o.props.onEntered(o.node,a)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts();if(!o){this.safeSetState({status:Mp},function(){i.props.onExited&&i.props.onExited(i.node)});return}this.props.onExit&&this.props.onExit(this.node),this.safeSetState({status:eB},function(){i.props.onExiting&&i.props.onExiting(i.node),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Mp},function(){i.props.onExited&&i.props.onExited(i.node)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&this.nextCallback.cancel&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(){s&&(s=!1,o.nextCallback=null,i())},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=i==null&&!this.props.addEndListener;if(!this.node||s){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(this.node,this.nextCallback),i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===u1)return null;var o=this.props,s=o.children,a=px(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return s(i,a)},P7(t,[{key:"node",get:function(){var i,o=(i=this.props.nodeRef)===null||i===void 0?void 0:i.current;if(!o)throw new Error("notistack - Custom snackbar is not refForwarding");return o}}]),t}(Pe.Component);function $p(){}_R.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:$p,onEntering:$p,onEntered:$p,onExit:$p,onExiting:$p,onExited:$p};function tB(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function LA(e,t){return V.useMemo(function(){return e==null&&t==null?null:function(n){tB(e,n),tB(t,n)}},[e,t])}function Qw(e){var t=e.timeout,n=e.style,r=n===void 0?{}:n,i=e.mode;return{duration:typeof t=="object"?t[i]||0:t,easing:r.transitionTimingFunction,delay:r.transitionDelay}}var NA={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},A7=function(t){t.scrollTop=t.scrollTop},nB=function(t){return Math.round(t)+"ms"};function am(e,t){e===void 0&&(e=["all"]);var n=t||{},r=n.duration,i=r===void 0?300:r,o=n.easing,s=o===void 0?NA.easeInOut:o,a=n.delay,f=a===void 0?0:a,h=Array.isArray(e)?e:[e];return h.map(function(g){var y=typeof i=="string"?i:nB(i),x=typeof f=="string"?f:nB(f);return g+" "+y+" "+s+" "+x}).join(",")}function mbe(e){return e&&e.ownerDocument||document}function M7(e){var t=mbe(e);return t.defaultView||window}function gbe(e,t){t===void 0&&(t=166);var n;function r(){for(var i=this,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var f=function(){e.apply(i,s)};clearTimeout(n),n=setTimeout(f,t)}return r.clear=function(){clearTimeout(n)},r}function ybe(e,t){var n=t.getBoundingClientRect(),r=M7(t),i;if(t.fakeTransform)i=t.fakeTransform;else{var o=r.getComputedStyle(t);i=o.getPropertyValue("-webkit-transform")||o.getPropertyValue("transform")}var s=0,a=0;if(i&&i!=="none"&&typeof i=="string"){var f=i.split("(")[1].split(")")[0].split(",");s=parseInt(f[4],10),a=parseInt(f[5],10)}switch(e){case"left":return"translateX("+(r.innerWidth+s-n.left)+"px)";case"right":return"translateX(-"+(n.left+n.width-s)+"px)";case"up":return"translateY("+(r.innerHeight+a-n.top)+"px)";default:return"translateY(-"+(n.top+n.height-a)+"px)"}}function d1(e,t){if(t){var n=ybe(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}}var I7=V.forwardRef(function(e,t){var n=e.children,r=e.direction,i=r===void 0?"down":r,o=e.in,s=e.style,a=e.timeout,f=a===void 0?0:a,h=e.onEnter,g=e.onEntered,y=e.onExit,x=e.onExited,P=px(e,["children","direction","in","style","timeout","onEnter","onEntered","onExit","onExited"]),O=V.useRef(null),S=LA(n.ref,O),A=LA(S,t),I=function(F,G){d1(i,F),A7(F),h&&h(F,G)},M=function(F){var G=(s==null?void 0:s.transitionTimingFunction)||NA.easeOut,J=Qw({timeout:f,mode:"enter",style:wr({},s,{transitionTimingFunction:G})});F.style.webkitTransition=am("-webkit-transform",J),F.style.transition=am("transform",J),F.style.webkitTransform="none",F.style.transform="none"},k=function(F){var G=(s==null?void 0:s.transitionTimingFunction)||NA.sharp,J=Qw({timeout:f,mode:"exit",style:wr({},s,{transitionTimingFunction:G})});F.style.webkitTransition=am("-webkit-transform",J),F.style.transition=am("transform",J),d1(i,F),y&&y(F)},$=function(F){F.style.webkitTransition="",F.style.transition="",x&&x(F)},L=V.useCallback(function(){O.current&&d1(i,O.current)},[i]);return V.useEffect(function(){if(!(o||i==="down"||i==="right")){var N=gbe(function(){O.current&&d1(i,O.current)}),F=M7(O.current);return F.addEventListener("resize",N),function(){N.clear(),F.removeEventListener("resize",N)}}},[i,o]),V.useEffect(function(){o||L()},[o,L]),V.createElement(_R,Object.assign({appear:!0,nodeRef:O,onEnter:I,onEntered:g,onEntering:M,onExit:k,onExited:$,in:o,timeout:f},P),function(N,F){return V.cloneElement(n,wr({ref:A,style:wr({visibility:N==="exited"&&!o?"hidden":void 0},s,{},n.props.style)},F))})});I7.displayName="Slide";var CC=function(t){return Pe.createElement("svg",Object.assign({viewBox:"0 0 24 24",focusable:"false",style:{fontSize:20,marginInlineEnd:8,userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0}},t))},vbe=function(){return Pe.createElement(CC,null,Pe.createElement("path",{d:`M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41
        10.59L10 14.17L17.59 6.58L19 8L10 17Z`}))},bbe=function(){return Pe.createElement(CC,null,Pe.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},xbe=function(){return Pe.createElement(CC,null,Pe.createElement("path",{d:`M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,
        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,
        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z`}))},_be=function(){return Pe.createElement(CC,null,Pe.createElement("path",{d:`M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,
        0 22,12A10,10 0 0,0 12,2Z`}))},wbe={default:void 0,success:Pe.createElement(vbe,null),warning:Pe.createElement(bbe,null),error:Pe.createElement(xbe,null),info:Pe.createElement(_be,null)},rh={maxSnack:3,persist:!1,hideIconVariant:!1,disableWindowBlurListener:!1,variant:"default",autoHideDuration:5e3,iconVariant:wbe,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:I7,transitionDuration:{enter:225,exit:195}},Sbe=function(t,n){var r=function(o){return typeof o=="number"||o===null};return r(t)?t:r(n)?n:rh.autoHideDuration},Cbe=function(t,n){var r=function(o,s){return s.some(function(a){return typeof o===a})};return r(t,["string","number"])?t:r(t,["object"])?wr({},rh.transitionDuration,{},r(n,["object"])&&n,{},t):r(n,["string","number"])?n:r(n,["object"])?wr({},rh.transitionDuration,{},n):rh.transitionDuration},Ebe=function(t,n){return function(r,i){return i===void 0&&(i=!1),i?wr({},rh[r],{},n[r],{},t[r]):r==="autoHideDuration"?Sbe(t.autoHideDuration,n.autoHideDuration):r==="transitionDuration"?Cbe(t.transitionDuration,n.transitionDuration):t[r]||n[r]||rh[r]}};function mx(e){return Object.entries(e).reduce(function(t,n){var r,i=n[0],o=n[1];return wr({},t,(r={},r[i]=bR(o),r))},{})}var eg={SnackbarContainer:"notistack-SnackbarContainer",Snackbar:"notistack-Snackbar",CollapseWrapper:"notistack-CollapseWrapper",MuiContent:"notistack-MuiContent",MuiContentVariant:function(t){return"notistack-MuiContent-"+t}},rB=mx({root:{height:0},entered:{height:"auto"}}),iP="0px",oP=175,$7=V.forwardRef(function(e,t){var n=e.children,r=e.in,i=e.onExited,o=V.useRef(null),s=V.useRef(null),a=LA(t,s),f=function(){return o.current?o.current.clientHeight:0},h=function(S){S.style.height=iP},g=function(S){var A=f(),I=Qw({timeout:oP,mode:"enter"}),M=I.duration,k=I.easing;S.style.transitionDuration=typeof M=="string"?M:M+"ms",S.style.height=A+"px",S.style.transitionTimingFunction=k||""},y=function(S){S.style.height="auto"},x=function(S){S.style.height=f()+"px"},P=function(S){A7(S);var A=Qw({timeout:oP,mode:"exit"}),I=A.duration,M=A.easing;S.style.transitionDuration=typeof I=="string"?I:I+"ms",S.style.height=iP,S.style.transitionTimingFunction=M||""};return V.createElement(_R,{in:r,unmountOnExit:!0,onEnter:h,onEntered:y,onEntering:g,onExit:x,onExited:i,onExiting:P,nodeRef:s,timeout:oP},function(O,S){return V.createElement("div",Object.assign({ref:a,className:Oh(rB.root,O==="entered"&&rB.entered),style:wr({pointerEvents:"all",overflow:"hidden",minHeight:iP,transition:am("height")},O==="entered"&&{overflow:"visible"},{},O==="exited"&&!r&&{visibility:"hidden"})},S),V.createElement("div",{ref:o,className:eg.CollapseWrapper,style:{display:"flex",width:"100%"}},n))})});$7.displayName="Collapse";var iB={right:"left",left:"right",bottom:"up",top:"down"},Tbe=function(t){return t.horizontal!=="center"?iB[t.horizontal]:iB[t.vertical]},kbe=function(t){return"anchorOrigin"+xR(t)},Pbe=function(t){t===void 0&&(t={});var n={containerRoot:!0,containerAnchorOriginTopCenter:!0,containerAnchorOriginBottomCenter:!0,containerAnchorOriginTopRight:!0,containerAnchorOriginBottomRight:!0,containerAnchorOriginTopLeft:!0,containerAnchorOriginBottomLeft:!0};return Object.keys(t).filter(function(r){return!n[r]}).reduce(function(r,i){var o;return wr({},r,(o={},o[i]=t[i],o))},{})},Obe=function(){};function S0(e,t){return e.reduce(function(n,r){return r==null?n:function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var f=[].concat(s);t&&f.indexOf(t)===-1&&f.push(t),n.apply(this,f),r.apply(this,f)}},Obe)}var Abe=typeof window<"u"?V.useLayoutEffect:V.useEffect;function oB(e){var t=V.useRef(e);return Abe(function(){t.current=e}),V.useCallback(function(){return t.current.apply(void 0,arguments)},[])}var R7=V.forwardRef(function(e,t){var n=e.children,r=e.className,i=e.autoHideDuration,o=e.disableWindowBlurListener,s=o===void 0?!1:o,a=e.onClose,f=e.id,h=e.open,g=e.SnackbarProps,y=g===void 0?{}:g,x=V.useRef(),P=oB(function(){a&&a.apply(void 0,arguments)}),O=oB(function(k){!a||k==null||(x.current&&clearTimeout(x.current),x.current=setTimeout(function(){P(null,"timeout",f)},k))});V.useEffect(function(){return h&&O(i),function(){x.current&&clearTimeout(x.current)}},[h,i,O]);var S=function(){x.current&&clearTimeout(x.current)},A=V.useCallback(function(){i!=null&&O(i*.5)},[i,O]),I=function($){y.onMouseEnter&&y.onMouseEnter($),S()},M=function($){y.onMouseLeave&&y.onMouseLeave($),A()};return V.useEffect(function(){if(!s&&h)return window.addEventListener("focus",A),window.addEventListener("blur",S),function(){window.removeEventListener("focus",A),window.removeEventListener("blur",S)}},[s,A,h]),V.createElement("div",Object.assign({ref:t},y,{className:Oh(eg.Snackbar,r),onMouseEnter:I,onMouseLeave:M}),n)});R7.displayName="Snackbar";var aP,Mbe=mx({root:(aP={display:"flex",flexWrap:"wrap",flexGrow:1},aP[$f.upSm]={flexGrow:"initial",minWidth:"288px"},aP)}),D7=V.forwardRef(function(e,t){var n=e.className,r=px(e,["className"]);return Pe.createElement("div",Object.assign({ref:t,className:Oh(Mbe.root,n)},r))});D7.displayName="SnackbarContent";var Ov=mx({root:{backgroundColor:"#313131",fontSize:"0.875rem",lineHeight:1.43,letterSpacing:"0.01071em",color:"#fff",alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"},lessPadding:{paddingLeft:8*2.5+"px"},default:{backgroundColor:"#313131"},success:{backgroundColor:"#43a047"},error:{backgroundColor:"#d32f2f"},warning:{backgroundColor:"#ff9800"},info:{backgroundColor:"#2196f3"},message:{display:"flex",alignItems:"center",padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:"16px",marginRight:"-8px"}}),aB="notistack-snackbar",L7=V.forwardRef(function(e,t){var n=e.id,r=e.message,i=e.action,o=e.iconVariant,s=e.variant,a=e.hideIconVariant,f=e.style,h=e.className,g=o[s],y=i;return typeof y=="function"&&(y=y(n)),Pe.createElement(D7,{ref:t,role:"alert","aria-describedby":aB,style:f,className:Oh(eg.MuiContent,eg.MuiContentVariant(s),Ov.root,Ov[s],h,!a&&g&&Ov.lessPadding)},Pe.createElement("div",{id:aB,className:Ov.message},a?null:g,r),y&&Pe.createElement("div",{className:Ov.action},y))});L7.displayName="MaterialDesignContent";var Ibe=V.memo(L7),$be=mx({wrappedRoot:{width:"100%",position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0,minWidth:"288px"}}),Rbe=function(t){var n=V.useRef(),r=V.useState(!0),i=r[0],o=r[1],s=S0([t.snack.onClose,t.onClose]),a=function(){t.snack.requestClose&&s(null,"instructed",t.snack.id)},f=V.useCallback(function(){n.current=setTimeout(function(){o(function(J){return!J})},125)},[]);V.useEffect(function(){return function(){n.current&&clearTimeout(n.current)}},[]);var h=t.snack,g=t.classes,y=t.Component,x=y===void 0?Ibe:y,P=V.useMemo(function(){return Pbe(g)},[g]),O=h.open,S=h.SnackbarProps,A=h.TransitionComponent,I=h.TransitionProps,M=h.transitionDuration,k=h.disableWindowBlurListener,$=h.content,L=px(h,["open","SnackbarProps","TransitionComponent","TransitionProps","transitionDuration","disableWindowBlurListener","content","entered","requestClose","onEnter","onEntered","onExit","onExited"]),N=wr({direction:Tbe(L.anchorOrigin),timeout:M},I),F=$;typeof F=="function"&&(F=F(L.id,L.message));var G=["onEnter","onEntered","onExit","onExited"].reduce(function(J,ee){var ae;return wr({},J,(ae={},ae[ee]=S0([t.snack[ee],t[ee]],L.id),ae))},{});return Pe.createElement($7,{in:i,onExited:G.onExited},Pe.createElement(R7,{open:O,id:L.id,disableWindowBlurListener:k,autoHideDuration:L.autoHideDuration,className:Oh($be.wrappedRoot,P.root,P[kbe(L.anchorOrigin)]),SnackbarProps:S,onClose:s},Pe.createElement(A,Object.assign({},N,{appear:!0,in:O,onExit:G.onExit,onExited:f,onEnter:G.onEnter,onEntered:S0([G.onEntered,a],L.id)}),F||Pe.createElement(x,Object.assign({},L)))))},Av,sP,f1,h1,lP,Oc={view:{default:20,dense:4},snackbar:{default:6,dense:2}},sB="."+eg.CollapseWrapper,cP=16,p1=mx({root:(Av={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:1400,height:"auto",width:"auto",transition:am(["top","right","bottom","left","max-width"],{duration:300,easing:"ease"}),pointerEvents:"none"},Av[sB]={padding:Oc.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},Av.maxWidth="calc(100% - "+Oc.view.default*2+"px)",Av[$f.downXs]={width:"100%",maxWidth:"calc(100% - "+cP*2+"px)"},Av),rootDense:(sP={},sP[sB]={padding:Oc.snackbar.dense+"px 0px"},sP),top:{top:Oc.view.default-Oc.snackbar.default+"px",flexDirection:"column"},bottom:{bottom:Oc.view.default-Oc.snackbar.default+"px",flexDirection:"column-reverse"},left:(f1={left:Oc.view.default+"px"},f1[$f.upSm]={alignItems:"flex-start"},f1[$f.downXs]={left:cP+"px"},f1),right:(h1={right:Oc.view.default+"px"},h1[$f.upSm]={alignItems:"flex-end"},h1[$f.downXs]={right:cP+"px"},h1),center:(lP={left:"50%",transform:"translateX(-50%)"},lP[$f.upSm]={alignItems:"center"},lP)}),Dbe=function(t){var n=t.classes,r=n===void 0?{}:n,i=t.anchorOrigin,o=t.dense,s=t.children,a=Oh(eg.SnackbarContainer,p1[i.vertical],p1[i.horizontal],p1.root,r.containerRoot,r["containerAnchorOrigin"+xR(i)],o&&p1.rootDense);return Pe.createElement("div",{className:a},s)},Lbe=V.memo(Dbe),lB=function(t){var n=typeof t=="string"||V.isValidElement(t);return!n},N7,Nbe=function(e){O7(t,e);function t(r){var i;return i=e.call(this,r)||this,i.enqueueSnackbar=function(o,s){if(s===void 0&&(s={}),o==null)throw new Error("enqueueSnackbar called with invalid argument");var a=lB(o)?o:s,f=lB(o)?o.message:o,h=a.key,g=a.preventDuplicate,y=px(a,["key","preventDuplicate"]),x=c1(h),P=x?h:new Date().getTime()+Math.random(),O=Ebe(y,i.props),S=wr({id:P},y,{message:f,open:!0,entered:!1,requestClose:!1,persist:O("persist"),action:O("action"),content:O("content"),variant:O("variant"),anchorOrigin:O("anchorOrigin"),disableWindowBlurListener:O("disableWindowBlurListener"),autoHideDuration:O("autoHideDuration"),hideIconVariant:O("hideIconVariant"),TransitionComponent:O("TransitionComponent"),transitionDuration:O("transitionDuration"),TransitionProps:O("TransitionProps",!0),iconVariant:O("iconVariant",!0),style:O("style",!0),SnackbarProps:O("SnackbarProps",!0),className:Oh(i.props.className,y.className)});return S.persist&&(S.autoHideDuration=void 0),i.setState(function(A){if(g===void 0&&i.props.preventDuplicate||g){var I=function(L){return x?L.id===P:L.message===f},M=A.queue.findIndex(I)>-1,k=A.snacks.findIndex(I)>-1;if(M||k)return A}return i.handleDisplaySnack(wr({},A,{queue:[].concat(A.queue,[S])}))}),P},i.handleDisplaySnack=function(o){var s=o.snacks;return s.length>=i.maxSnack?i.handleDismissOldest(o):i.processQueue(o)},i.processQueue=function(o){var s=o.queue,a=o.snacks;return s.length>0?wr({},o,{snacks:[].concat(a,[s[0]]),queue:s.slice(1,s.length)}):o},i.handleDismissOldest=function(o){if(o.snacks.some(function(g){return!g.open||g.requestClose}))return o;var s=!1,a=!1,f=o.snacks.reduce(function(g,y){return g+(y.open&&y.persist?1:0)},0);f===i.maxSnack&&(a=!0);var h=o.snacks.map(function(g){return!s&&(!g.persist||a)?(s=!0,g.entered?(g.onClose&&g.onClose(null,"maxsnack",g.id),i.props.onClose&&i.props.onClose(null,"maxsnack",g.id),wr({},g,{open:!1})):wr({},g,{requestClose:!0})):wr({},g)});return wr({},o,{snacks:h})},i.handleEnteredSnack=function(o,s,a){if(!c1(a))throw new Error("handleEnteredSnack Cannot be called with undefined key");i.setState(function(f){var h=f.snacks;return{snacks:h.map(function(g){return g.id===a?wr({},g,{entered:!0}):wr({},g)})}})},i.handleCloseSnack=function(o,s,a){i.props.onClose&&i.props.onClose(o,s,a);var f=a===void 0;i.setState(function(h){var g=h.snacks,y=h.queue;return{snacks:g.map(function(x){return!f&&x.id!==a?wr({},x):x.entered?wr({},x,{open:!1}):wr({},x,{requestClose:!0})}),queue:y.filter(function(x){return x.id!==a})}})},i.closeSnackbar=function(o){var s=i.state.snacks.find(function(a){return a.id===o});c1(o)&&s&&s.onClose&&s.onClose(null,"instructed",o),i.handleCloseSnack(null,"instructed",o)},i.handleExitedSnack=function(o,s){if(!c1(s))throw new Error("handleExitedSnack Cannot be called with undefined key");i.setState(function(a){var f=i.processQueue(wr({},a,{snacks:a.snacks.filter(function(h){return h.id!==s})}));return f.queue.length===0?f:i.handleDismissOldest(f)})},N7=i.enqueueSnackbar,i.closeSnackbar,i.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:i.enqueueSnackbar.bind(X3(i)),closeSnackbar:i.closeSnackbar.bind(X3(i))}},i}var n=t.prototype;return n.render=function(){var i=this,o=this.state.contextValue,s=this.props,a=s.domRoot,f=s.children,h=s.dense,g=h===void 0?!1:h,y=s.Components,x=y===void 0?{}:y,P=s.classes,O=this.state.snacks.reduce(function(A,I){var M,k=xR(I.anchorOrigin),$=A[k]||[];return wr({},A,(M={},M[k]=[].concat($,[I]),M))},{}),S=Object.keys(O).map(function(A){var I=O[A],M=I[0];return Pe.createElement(Lbe,{key:A,dense:g,anchorOrigin:M.anchorOrigin,classes:P},I.map(function(k){return Pe.createElement(Rbe,{key:k.id,snack:k,classes:P,Component:x[k.variant],onClose:i.handleCloseSnack,onEnter:i.props.onEnter,onExit:i.props.onExit,onExited:S0([i.handleExitedSnack,i.props.onExited],k.id),onEntered:S0([i.handleEnteredSnack,i.props.onEntered],k.id)})}))});return Pe.createElement(pbe.Provider,{value:o},f,a?uc.createPortal(S,a):S)},P7(t,[{key:"maxSnack",get:function(){return this.props.maxSnack||rh.maxSnack}}]),t}(V.Component);const cB=4e3,zbe=()=>{const e=Cl();Ln(h=>h.devices.items);const t=V.useRef(),[n,r]=V.useState(!0),[i,o]=V.useState([]),[s,a]=V.useState([]),f=()=>{const h=window.location.protocol==="https:"?"wss:":"ws:",g=new WebSocket(`${h}//${window.location.host}/api/socket`);console.log(`${h}//${window.location.host}/api/socket`),t.current=g,console.log("funcion web socket"),g.onopen=()=>{e(rm.updateSocket(!0)),console.log("funcion web socket open")},g.onclose=async y=>{if(console.log("funcion web socket close"),e(rm.updateSocket(!1)),y.code!==cB){try{const x=await fetch("/api/devices");x.ok&&e(hl.update(await x.json()));const P=await fetch("/api/positions");P.ok&&e(Dk.updatePositions(await P.json())),x.status===401||P.status}catch{}setTimeout(()=>f(),6e4)}},g.onmessage=y=>{const x=JSON.parse(y.data);x.devices&&(x.devices.length>0?e(hl.update(x.devices)):e(hl.clear())),x.positions&&e(Dk.updatePositions(x.positions)),x.camera&&e(Dk.updateCamera(x.camera)),x.server&&(x.server.rosState==="connect"?e(rm.updateServer(!0)):e(rm.updateServer(!1))),x.mission&&(console.log("data mission"),console.log(x.mission),e(Fc.updateMission(x.mission))),x.events&&(console.log("add data events -------"),e(zre.add(x.events)),o(x.events),console.log(x.events))}};return pR(async()=>{if(n){r(!1);const h=await fetch("/api/devices",{method:"GET"});if(h.ok)e(hl.refresh(await h.json()));else throw Error(await h.text());return console.log("primera conexion --s"),f(),()=>{const g=t.current;g&&g.close(cB)}}else return null},[]),V.useEffect(()=>{console.log("set notifications"),console.log(i);let h=[];i.map(g=>{let y=!0;s.map(x=>{x.id==g.id&&(y=!1)}),y&&h.push({id:g.id,type:g.type,message:g.attributes.message,show:!0})}),console.log("aux console log"),console.log(h),h.length>0&&a(h),h.forEach(g=>{g.type==="error"&&new Audio(sbe).play()})},[i]),V.useEffect(()=>{console.log("notifications"),s.map(h=>{N7(h.message,{variant:h.type,autoHideDuration:3e3,persist:!1,onClose:()=>o(i.filter(g=>g.id!==h.id))})})},[s]),z.jsx(z.Fragment,{children:z.jsx(Nbe,{preventDuplicate:!0,maxSnack:6,autoHideDuration:5e3,anchorOrigin:{vertical:"bottom",horizontal:"right"}})})},jbe=Bne()(zbe),Bbe=Xr(()=>({page:{flexGrow:1,overflow:"auto"},menu:{zIndex:4}})),Fbe=()=>{const e=Bbe();return mu(),z.jsxs(z.Fragment,{children:[z.jsx(jbe,{}),z.jsx("div",{className:e.page,children:z.jsx(Ote,{})})]})},Ube=()=>{const{search:e}=T2();return V.useMemo(()=>new URLSearchParams(e),[e])};var z7={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Gv,function(){var n,r,i;function o(a,f){if(!n)n=f;else if(!r)r=f;else{var h="var sharedChunk = {}; ("+n+")(sharedChunk); ("+r+")(sharedChunk);",g={};n(g),i=f(g),typeof window<"u"&&(i.workerUrl=window.URL.createObjectURL(new Blob([h],{type:"text/javascript"})))}}o(["exports"],function(a){function f(u,l,d,m){return new(d||(d=Promise))(function(b,C){function T(W){try{B(m.next(W))}catch(H){C(H)}}function R(W){try{B(m.throw(W))}catch(H){C(H)}}function B(W){var H;W.done?b(W.value):(H=W.value,H instanceof d?H:new d(function(Z){Z(H)})).then(T,R)}B((m=m.apply(u,l||[])).next())})}function h(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}typeof SuppressedError=="function"&&SuppressedError;var g=y;function y(u,l){this.x=u,this.y=l}y.prototype={clone:function(){return new y(this.x,this.y)},add:function(u){return this.clone()._add(u)},sub:function(u){return this.clone()._sub(u)},multByPoint:function(u){return this.clone()._multByPoint(u)},divByPoint:function(u){return this.clone()._divByPoint(u)},mult:function(u){return this.clone()._mult(u)},div:function(u){return this.clone()._div(u)},rotate:function(u){return this.clone()._rotate(u)},rotateAround:function(u,l){return this.clone()._rotateAround(u,l)},matMult:function(u){return this.clone()._matMult(u)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(u){return this.x===u.x&&this.y===u.y},dist:function(u){return Math.sqrt(this.distSqr(u))},distSqr:function(u){var l=u.x-this.x,d=u.y-this.y;return l*l+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(u){return Math.atan2(this.y-u.y,this.x-u.x)},angleWith:function(u){return this.angleWithSep(u.x,u.y)},angleWithSep:function(u,l){return Math.atan2(this.x*l-this.y*u,this.x*u+this.y*l)},_matMult:function(u){var l=u[2]*this.x+u[3]*this.y;return this.x=u[0]*this.x+u[1]*this.y,this.y=l,this},_add:function(u){return this.x+=u.x,this.y+=u.y,this},_sub:function(u){return this.x-=u.x,this.y-=u.y,this},_mult:function(u){return this.x*=u,this.y*=u,this},_div:function(u){return this.x/=u,this.y/=u,this},_multByPoint:function(u){return this.x*=u.x,this.y*=u.y,this},_divByPoint:function(u){return this.x/=u.x,this.y/=u.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var u=this.y;return this.y=this.x,this.x=-u,this},_rotate:function(u){var l=Math.cos(u),d=Math.sin(u),m=d*this.x+l*this.y;return this.x=l*this.x-d*this.y,this.y=m,this},_rotateAround:function(u,l){var d=Math.cos(u),m=Math.sin(u),b=l.y+m*(this.x-l.x)+d*(this.y-l.y);return this.x=l.x+d*(this.x-l.x)-m*(this.y-l.y),this.y=b,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},y.convert=function(u){return u instanceof y?u:Array.isArray(u)?new y(u[0],u[1]):u};var x=h(g),P=O;function O(u,l,d,m){this.cx=3*u,this.bx=3*(d-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(m-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=l,this.p2x=d,this.p2y=m}O.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,l){if(l===void 0&&(l=1e-6),u<0)return 0;if(u>1)return 1;for(var d=u,m=0;m<8;m++){var b=this.sampleCurveX(d)-u;if(Math.abs(b)<l)return d;var C=this.sampleCurveDerivativeX(d);if(Math.abs(C)<1e-6)break;d-=b/C}var T=0,R=1;for(d=u,m=0;m<20&&(b=this.sampleCurveX(d),!(Math.abs(b-u)<l));m++)u>b?T=d:R=d,d=.5*(R-T)+T;return d},solve:function(u,l){return this.sampleCurveY(this.solveCurveX(u,l))}};var S=h(P);let A,I;function M(){return A==null&&(A=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),A}function k(){if(I==null&&(I=!1,M())){const l=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(l){for(let m=0;m<5*5;m++){const b=4*m;l.fillStyle=`rgb(${b},${b+1},${b+2})`,l.fillRect(m%5,Math.floor(m/5),1,1)}const d=l.getImageData(0,0,5,5).data;for(let m=0;m<5*5*4;m++)if(m%4!=3&&d[m]!==m){I=!0;break}}}return I||!1}function $(u,l,d,m){const b=new S(u,l,d,m);return function(C){return b.solve(C)}}const L=$(.25,.1,.25,1);function N(u,l,d){return Math.min(d,Math.max(l,u))}function F(u,l,d){const m=d-l,b=((u-l)%m+m)%m+l;return b===l?d:b}function G(u,...l){for(const d of l)for(const m in d)u[m]=d[m];return u}let J=1;function ee(u,l,d){const m={};for(const b in u)m[b]=l.call(d||this,u[b],b,u);return m}function ae(u,l,d){const m={};for(const b in u)l.call(d||this,u[b],b,u)&&(m[b]=u[b]);return m}function pe(u){return Array.isArray(u)?u.map(pe):typeof u=="object"&&u?ee(u,pe):u}const ye={};function we(u){ye[u]||(typeof console<"u"&&console.warn(u),ye[u]=!0)}function Ce(u,l,d){return(d.y-u.y)*(l.x-u.x)>(l.y-u.y)*(d.x-u.x)}function Oe(u){let l=0;for(let d,m,b=0,C=u.length,T=C-1;b<C;T=b++)d=u[b],m=u[T],l+=(m.x-d.x)*(d.y+m.y);return l}function Ee(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let Se=null;function De(u){if(Se==null){const l=u.navigator?u.navigator.userAgent:null;Se=!!u.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return Se}function We(u){return typeof ImageBitmap<"u"&&u instanceof ImageBitmap}const dt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function ht(u,l,d,m,b){return f(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const C=new VideoFrame(u,{timestamp:0});try{const T=C==null?void 0:C.format;if(!T||!T.startsWith("BGR")&&!T.startsWith("RGB"))throw new Error(`Unrecognized format ${T}`);const R=T.startsWith("BGR"),B=new Uint8ClampedArray(m*b*4);if(yield C.copyTo(B,function(W,H,Z,Q,ie){const oe=4*Math.max(-H,0),ue=(Math.max(0,Z)-Z)*Q*4+oe,ge=4*Q,xe=Math.max(0,H),Re=Math.max(0,Z);return{rect:{x:xe,y:Re,width:Math.min(W.width,H+Q)-xe,height:Math.min(W.height,Z+ie)-Re},layout:[{offset:ue,stride:ge}]}}(u,l,d,m,b)),R)for(let W=0;W<B.length;W+=4){const H=B[W];B[W]=B[W+2],B[W+2]=H}return B}finally{C.close()}})}let Je,it,Ot,at;const Gt={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(u){const l=requestAnimationFrame(u);return{cancel:()=>cancelAnimationFrame(l)}},getImageData(u,l=0){return this.getImageCanvasContext(u).getImageData(-l,-l,u.width+2*l,u.height+2*l)},getImageCanvasContext(u){const l=window.document.createElement("canvas"),d=l.getContext("2d",{willReadFrequently:!0});if(!d)throw new Error("failed to create canvas 2d context");return l.width=u.width,l.height=u.height,d.drawImage(u,0,0,u.width,u.height),d},resolveURL:u=>(Ot||(Ot=document.createElement("a")),Ot.href=u,Ot.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(at==null&&(at=matchMedia("(prefers-reduced-motion: reduce)")),at.matches)}},Ht={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class He extends Error{constructor(l,d,m,b){super(`AJAXError: ${d} (${l}): ${m}`),this.status=l,this.statusText=d,this.url=m,this.body=b}}const vt=Ee()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href,yt=u=>Ht.REGISTERED_PROTOCOLS[u.substring(0,u.indexOf("://"))];function Ve(u,l){const d=new AbortController,m=new Request(u.url,{method:u.method||"GET",body:u.body,credentials:u.credentials,headers:u.headers,cache:u.cache,referrer:vt(),signal:d.signal});let b=!1,C=!1;return u.type==="json"&&m.headers.set("Accept","application/json"),C||fetch(m).then(T=>T.ok?(R=>{(u.type==="arrayBuffer"||u.type==="image"?R.arrayBuffer():u.type==="json"?R.json():R.text()).then(B=>{C||(b=!0,l(null,B,R.headers.get("Cache-Control"),R.headers.get("Expires")))}).catch(B=>{C||l(new Error(B.message))})})(T):T.blob().then(R=>l(new He(T.status,T.statusText,u.url,R)))).catch(T=>{T.code!==20&&l(new Error(T.message))}),{cancel:()=>{C=!0,b||d.abort()}}}const Ct=function(u,l){if(/:\/\//.test(u.url)&&!/^https?:|^file:/.test(u.url)){if(Ee()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,l);if(!Ee())return(yt(u.url)||Ve)(u,l)}if(!(/^file:/.test(d=u.url)||/^file:/.test(vt())&&!/^\w+:/.test(d))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return Ve(u,l);if(Ee()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,l,void 0,!0)}var d;return function(m,b){const C=new XMLHttpRequest;C.open(m.method||"GET",m.url,!0),m.type!=="arrayBuffer"&&m.type!=="image"||(C.responseType="arraybuffer");for(const T in m.headers)C.setRequestHeader(T,m.headers[T]);return m.type==="json"&&(C.responseType="text",C.setRequestHeader("Accept","application/json")),C.withCredentials=m.credentials==="include",C.onerror=()=>{b(new Error(C.statusText))},C.onload=()=>{if((C.status>=200&&C.status<300||C.status===0)&&C.response!==null){let T=C.response;if(m.type==="json")try{T=JSON.parse(C.response)}catch(R){return b(R)}b(null,T,C.getResponseHeader("Cache-Control"),C.getResponseHeader("Expires"))}else{const T=new Blob([C.response],{type:C.getResponseHeader("Content-Type")});b(new He(C.status,C.statusText,m.url,T))}},C.send(m.body),{cancel:()=>C.abort()}}(u,l)},Tt=function(u,l){return Ct(G(u,{type:"arrayBuffer"}),l)};function qt(u){if(!u||u.indexOf("://")<=0||u.indexOf("data:image/")===0||u.indexOf("blob:")===0)return!0;const l=new URL(u),d=window.location;return l.protocol===d.protocol&&l.host===d.host}function vn(u,l,d){d[u]&&d[u].indexOf(l)!==-1||(d[u]=d[u]||[],d[u].push(l))}function Mn(u,l,d){if(d&&d[u]){const m=d[u].indexOf(l);m!==-1&&d[u].splice(m,1)}}class _n{constructor(l,d={}){G(this,d),this.type=l}}class rr extends _n{constructor(l,d={}){super("error",G({error:l},d))}}class Tn{on(l,d){return this._listeners=this._listeners||{},vn(l,d,this._listeners),this}off(l,d){return Mn(l,d,this._listeners),Mn(l,d,this._oneTimeListeners),this}once(l,d){return d?(this._oneTimeListeners=this._oneTimeListeners||{},vn(l,d,this._oneTimeListeners),this):new Promise(m=>this.once(l,m))}fire(l,d){typeof l=="string"&&(l=new _n(l,d||{}));const m=l.type;if(this.listens(m)){l.target=this;const b=this._listeners&&this._listeners[m]?this._listeners[m].slice():[];for(const R of b)R.call(this,l);const C=this._oneTimeListeners&&this._oneTimeListeners[m]?this._oneTimeListeners[m].slice():[];for(const R of C)Mn(m,R,this._oneTimeListeners),R.call(this,l);const T=this._eventedParent;T&&(G(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),T.fire(l))}else l instanceof rr&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,d){return this._eventedParent=l,this._eventedParentData=d,this}}var Ne={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const $n=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Hn(u,l){const d={};for(const m in u)m!=="ref"&&(d[m]=u[m]);return $n.forEach(m=>{m in l&&(d[m]=l[m])}),d}function Dt(u,l){if(Array.isArray(u)){if(!Array.isArray(l)||u.length!==l.length)return!1;for(let d=0;d<u.length;d++)if(!Dt(u[d],l[d]))return!1;return!0}if(typeof u=="object"&&u!==null&&l!==null){if(typeof l!="object"||Object.keys(u).length!==Object.keys(l).length)return!1;for(const d in u)if(!Dt(u[d],l[d]))return!1;return!0}return u===l}const Kt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function ir(u,l,d){d.push({command:Kt.addSource,args:[u,l[u]]})}function br(u,l,d){l.push({command:Kt.removeSource,args:[u]}),d[u]=!0}function Nn(u,l,d,m){br(u,d,m),ir(u,l,d)}function rn(u,l,d){let m;for(m in u[d])if(Object.prototype.hasOwnProperty.call(u[d],m)&&m!=="data"&&!Dt(u[d][m],l[d][m]))return!1;for(m in l[d])if(Object.prototype.hasOwnProperty.call(l[d],m)&&m!=="data"&&!Dt(u[d][m],l[d][m]))return!1;return!0}function Xn(u,l,d,m,b,C){let T;for(T in l=l||{},u=u||{})Object.prototype.hasOwnProperty.call(u,T)&&(Dt(u[T],l[T])||d.push({command:C,args:[m,T,l[T],b]}));for(T in l)Object.prototype.hasOwnProperty.call(l,T)&&!Object.prototype.hasOwnProperty.call(u,T)&&(Dt(u[T],l[T])||d.push({command:C,args:[m,T,l[T],b]}))}function Ii(u){return u.id}function gi(u,l){return u[l.id]=l,u}class Ue{constructor(l,d,m,b){this.message=(l?`${l}: `:"")+m,b&&(this.identifier=b),d!=null&&d.__line__&&(this.line=d.__line__)}}function un(u,...l){for(const d of l)for(const m in d)u[m]=d[m];return u}class Rn extends Error{constructor(l,d){super(d),this.message=d,this.key=l}}class ki{constructor(l,d=[]){this.parent=l,this.bindings={};for(const[m,b]of d)this.bindings[m]=b}concat(l){return new ki(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}const qi={kind:"null"},ct={kind:"number"},dn={kind:"string"},fn={kind:"boolean"},$i={kind:"color"},Uo={kind:"object"},sn={kind:"value"},as={kind:"collator"},fe={kind:"formatted"},X={kind:"padding"},ne={kind:"resolvedImage"},se={kind:"variableAnchorOffsetCollection"};function he(u,l){return{kind:"array",itemType:u,N:l}}function be(u){if(u.kind==="array"){const l=be(u.itemType);return typeof u.N=="number"?`array<${l}, ${u.N}>`:u.itemType.kind==="value"?"array":`array<${l}>`}return u.kind}const Me=[qi,ct,dn,fn,$i,fe,Uo,he(sn),X,ne,se];function ke(u,l){if(l.kind==="error")return null;if(u.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!ke(u.itemType,l.itemType))&&(typeof u.N!="number"||u.N===l.N))return null}else{if(u.kind===l.kind)return null;if(u.kind==="value"){for(const d of Me)if(!ke(d,l))return null}}return`Expected ${be(u)} but found ${be(l)} instead.`}function _e(u,l){return l.some(d=>d.kind===u.kind)}function $e(u,l){return l.some(d=>d==="null"?u===null:d==="array"?Array.isArray(u):d==="object"?u&&!Array.isArray(u)&&typeof u=="object":d===typeof u)}function qe(u,l){return u.kind==="array"&&l.kind==="array"?u.itemType.kind===l.itemType.kind&&typeof u.N=="number":u.kind===l.kind}const Ye=.96422,Xe=.82521,Lt=4/29,Jt=6/29,It=3*Jt*Jt,jt=Jt*Jt*Jt,ln=Math.PI/180,Bn=180/Math.PI;function Yn(u){return(u%=360)<0&&(u+=360),u}function In([u,l,d,m]){let b,C;const T=Pi((.2225045*(u=kn(u))+.7168786*(l=kn(l))+.0606169*(d=kn(d)))/1);u===l&&l===d?b=C=T:(b=Pi((.4360747*u+.3850649*l+.1430804*d)/Ye),C=Pi((.0139322*u+.0971045*l+.7141733*d)/Xe));const R=116*T-16;return[R<0?0:R,500*(b-T),200*(T-C),m]}function kn(u){return u<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function Pi(u){return u>jt?Math.pow(u,1/3):u/It+Lt}function Ut([u,l,d,m]){let b=(u+16)/116,C=isNaN(l)?b:b+l/500,T=isNaN(d)?b:b-d/200;return b=1*ci(b),C=Ye*ci(C),T=Xe*ci(T),[Fn(3.1338561*C-1.6168667*b-.4906146*T),Fn(-.9787684*C+1.9161415*b+.033454*T),Fn(.0719453*C-.2289914*b+1.4052427*T),m]}function Fn(u){return(u=u<=.00304?12.92*u:1.055*Math.pow(u,1/2.4)-.055)<0?0:u>1?1:u}function ci(u){return u>Jt?u*u*u:It*(u-Lt)}function Pl(u){return parseInt(u.padEnd(2,u),16)/255}function Dx(u,l){return ss(l?u/100:u,0,1)}function ss(u,l,d){return Math.min(Math.max(l,u),d)}function Lx(u){return!u.some(Number.isNaN)}const VE={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class Jn{constructor(l,d,m,b=1,C=!0){this.r=l,this.g=d,this.b=m,this.a=b,C||(this.r*=b,this.g*=b,this.b*=b,b||this.overwriteGetter("rgb",[l,d,m,b]))}static parse(l){if(l instanceof Jn)return l;if(typeof l!="string")return;const d=function(m){if((m=m.toLowerCase().trim())==="transparent")return[0,0,0,0];const b=VE[m];if(b){const[T,R,B]=b;return[T/255,R/255,B/255,1]}if(m.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(m)){const T=m.length<6?1:2;let R=1;return[Pl(m.slice(R,R+=T)),Pl(m.slice(R,R+=T)),Pl(m.slice(R,R+=T)),Pl(m.slice(R,R+T)||"ff")]}if(m.startsWith("rgb")){const T=m.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(T){const[R,B,W,H,Z,Q,ie,oe,ue,ge,xe,Re]=T,Te=[H||" ",ie||" ",ge].join("");if(Te==="  "||Te==="  /"||Te===",,"||Te===",,,"){const Le=[W,Q,ue].join(""),je=Le==="%%%"?100:Le===""?255:0;if(je){const Ze=[ss(+B/je,0,1),ss(+Z/je,0,1),ss(+oe/je,0,1),xe?Dx(+xe,Re):1];if(Lx(Ze))return Ze}}return}}const C=m.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(C){const[T,R,B,W,H,Z,Q,ie,oe]=C,ue=[B||" ",H||" ",Q].join("");if(ue==="  "||ue==="  /"||ue===",,"||ue===",,,"){const ge=[+R,ss(+W,0,100),ss(+Z,0,100),ie?Dx(+ie,oe):1];if(Lx(ge))return function([xe,Re,Te,Le]){function je(Ze){const wt=(Ze+xe/30)%12,Rt=Re*Math.min(Te,1-Te);return Te-Rt*Math.max(-1,Math.min(wt-3,9-wt,1))}return xe=Yn(xe),Re/=100,Te/=100,[je(0),je(8),je(4),Le]}(ge)}}}(l);return d?new Jn(...d,!1):void 0}get rgb(){const{r:l,g:d,b:m,a:b}=this,C=b||1/0;return this.overwriteGetter("rgb",[l/C,d/C,m/C,b])}get hcl(){return this.overwriteGetter("hcl",function(l){const[d,m,b,C]=In(l),T=Math.sqrt(m*m+b*b);return[Math.round(1e4*T)?Yn(Math.atan2(b,m)*Bn):NaN,T,d,C]}(this.rgb))}get lab(){return this.overwriteGetter("lab",In(this.rgb))}overwriteGetter(l,d){return Object.defineProperty(this,l,{value:d}),d}toString(){const[l,d,m,b]=this.rgb;return`rgba(${[l,d,m].map(C=>Math.round(255*C)).join(",")},${b})`}}Jn.black=new Jn(0,0,0,1),Jn.white=new Jn(1,1,1,1),Jn.transparent=new Jn(0,0,0,0),Jn.red=new Jn(1,0,0,1);class Lh{constructor(l,d,m){this.sensitivity=l?d?"variant":"case":d?"accent":"base",this.locale=m,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,d){return this.collator.compare(l,d)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Su{constructor(l,d,m,b,C){this.text=l,this.image=d,this.scale=m,this.fontStack=b,this.textColor=C}}class Vo{constructor(l){this.sections=l}static fromString(l){return new Vo([new Su(l,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(l=>l.text.length!==0||l.image&&l.image.name.length!==0)}static factory(l){return l instanceof Vo?l:Vo.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map(l=>l.text).join("")}}class Wo{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Wo)return l;if(typeof l=="number")return new Wo([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(const d of l)if(typeof d!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]]}return new Wo(l)}}toString(){return JSON.stringify(this.values)}}const WE=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Ri{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Ri)return l;if(Array.isArray(l)&&!(l.length<1)&&l.length%2==0){for(let d=0;d<l.length;d+=2){const m=l[d],b=l[d+1];if(typeof m!="string"||!WE.has(m)||!Array.isArray(b)||b.length!==2||typeof b[0]!="number"||typeof b[1]!="number")return}return new Ri(l)}}toString(){return JSON.stringify(this.values)}}class _o{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new _o({name:l,available:!1}):null}}function Nh(u,l,d,m){return typeof u=="number"&&u>=0&&u<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof d=="number"&&d>=0&&d<=255?m===void 0||typeof m=="number"&&m>=0&&m<=1?null:`Invalid rgba value [${[u,l,d,m].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof m=="number"?[u,l,d,m]:[u,l,d]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ol(u){if(u===null||typeof u=="string"||typeof u=="boolean"||typeof u=="number"||u instanceof Jn||u instanceof Lh||u instanceof Vo||u instanceof Wo||u instanceof Ri||u instanceof _o)return!0;if(Array.isArray(u)){for(const l of u)if(!Ol(l))return!1;return!0}if(typeof u=="object"){for(const l in u)if(!Ol(u[l]))return!1;return!0}return!1}function hn(u){if(u===null)return qi;if(typeof u=="string")return dn;if(typeof u=="boolean")return fn;if(typeof u=="number")return ct;if(u instanceof Jn)return $i;if(u instanceof Lh)return as;if(u instanceof Vo)return fe;if(u instanceof Wo)return X;if(u instanceof Ri)return se;if(u instanceof _o)return ne;if(Array.isArray(u)){const l=u.length;let d;for(const m of u){const b=hn(m);if(d){if(d===b)continue;d=sn;break}d=b}return he(d||sn,l)}return Uo}function Jd(u){const l=typeof u;return u===null?"":l==="string"||l==="number"||l==="boolean"?String(u):u instanceof Jn||u instanceof Vo||u instanceof Wo||u instanceof Ri||u instanceof _o?u.toString():JSON.stringify(u)}class Hs{constructor(l,d){this.type=l,this.value=d}static parse(l,d){if(l.length!==2)return d.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!Ol(l[1]))return d.error("invalid value");const m=l[1];let b=hn(m);const C=d.expectedType;return b.kind!=="array"||b.N!==0||!C||C.kind!=="array"||typeof C.N=="number"&&C.N!==0||(b=C),new Hs(b,m)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Jr{constructor(l){this.name="ExpressionEvaluationError",this.message=l}toJSON(){return this.message}}const Qd={string:dn,number:ct,boolean:fn,object:Uo};class ha{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");let m,b=1;const C=l[0];if(C==="array"){let R,B;if(l.length>2){const W=l[1];if(typeof W!="string"||!(W in Qd)||W==="object")return d.error('The item type argument of "array" must be one of string, number, boolean',1);R=Qd[W],b++}else R=sn;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return d.error('The length argument to "array" must be a positive integer literal',2);B=l[2],b++}m=he(R,B)}else{if(!Qd[C])throw new Error(`Types doesn't contain name = ${C}`);m=Qd[C]}const T=[];for(;b<l.length;b++){const R=d.parse(l[b],b,sn);if(!R)return null;T.push(R)}return new ha(m,T)}evaluate(l){for(let d=0;d<this.args.length;d++){const m=this.args[d].evaluate(l);if(!ke(this.type,hn(m)))return m;if(d===this.args.length-1)throw new Jr(`Expected value to be of type ${be(this.type)}, but found ${be(hn(m))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const Nx={"to-boolean":fn,"to-color":$i,"to-number":ct,"to-string":dn};class Ys{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const m=l[0];if(!Nx[m])throw new Error(`Can't parse ${m} as it is not part of the known types`);if((m==="to-boolean"||m==="to-string")&&l.length!==2)return d.error("Expected one argument.");const b=Nx[m],C=[];for(let T=1;T<l.length;T++){const R=d.parse(l[T],T,sn);if(!R)return null;C.push(R)}return new Ys(b,C)}evaluate(l){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(l);case"color":{let d,m;for(const b of this.args){if(d=b.evaluate(l),m=null,d instanceof Jn)return d;if(typeof d=="string"){const C=l.parseColor(d);if(C)return C}else if(Array.isArray(d)&&(m=d.length<3||d.length>4?`Invalid rbga value ${JSON.stringify(d)}: expected an array containing either three or four numeric values.`:Nh(d[0],d[1],d[2],d[3]),!m))return new Jn(d[0]/255,d[1]/255,d[2]/255,d[3])}throw new Jr(m||`Could not parse color from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"padding":{let d;for(const m of this.args){d=m.evaluate(l);const b=Wo.parse(d);if(b)return b}throw new Jr(`Could not parse padding from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"variableAnchorOffsetCollection":{let d;for(const m of this.args){d=m.evaluate(l);const b=Ri.parse(d);if(b)return b}throw new Jr(`Could not parse variableAnchorOffsetCollection from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"number":{let d=null;for(const m of this.args){if(d=m.evaluate(l),d===null)return 0;const b=Number(d);if(!isNaN(b))return b}throw new Jr(`Could not convert ${JSON.stringify(d)} to number.`)}case"formatted":return Vo.fromString(Jd(this.args[0].evaluate(l)));case"resolvedImage":return _o.fromString(Jd(this.args[0].evaluate(l)));default:return Jd(this.args[0].evaluate(l))}}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const zx=["Unknown","Point","LineString","Polygon"];class jx{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?zx[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let d=this._parseColorCache[l];return d||(d=this._parseColorCache[l]=Jn.parse(l)),d}}class zh{constructor(l,d,m=[],b,C=new ki,T=[]){this.registry=l,this.path=m,this.key=m.map(R=>`[${R}]`).join(""),this.scope=C,this.errors=T,this.expectedType=b,this._isConstant=d}parse(l,d,m,b,C={}){return d?this.concat(d,m,b)._parse(l,C):this._parse(l,C)}_parse(l,d){function m(b,C,T){return T==="assert"?new ha(C,[b]):T==="coerce"?new Ys(C,[b]):b}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const b=l[0];if(typeof b!="string")return this.error(`Expression name must be a string, but found ${typeof b} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const C=this.registry[b];if(C){let T=C.parse(l,this);if(!T)return null;if(this.expectedType){const R=this.expectedType,B=T.type;if(R.kind!=="string"&&R.kind!=="number"&&R.kind!=="boolean"&&R.kind!=="object"&&R.kind!=="array"||B.kind!=="value")if(R.kind!=="color"&&R.kind!=="formatted"&&R.kind!=="resolvedImage"||B.kind!=="value"&&B.kind!=="string")if(R.kind!=="padding"||B.kind!=="value"&&B.kind!=="number"&&B.kind!=="array")if(R.kind!=="variableAnchorOffsetCollection"||B.kind!=="value"&&B.kind!=="array"){if(this.checkSubtype(R,B))return null}else T=m(T,R,d.typeAnnotation||"coerce");else T=m(T,R,d.typeAnnotation||"coerce");else T=m(T,R,d.typeAnnotation||"coerce");else T=m(T,R,d.typeAnnotation||"assert")}if(!(T instanceof Hs)&&T.type.kind!=="resolvedImage"&&this._isConstant(T)){const R=new jx;try{T=new Hs(T.type,T.evaluate(R))}catch(B){return this.error(B.message),null}}return T}return this.error(`Unknown expression "${b}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof l} instead.`)}concat(l,d,m){const b=typeof l=="number"?this.path.concat(l):this.path,C=m?this.scope.concat(m):this.scope;return new zh(this.registry,this._isConstant,b,d||null,C,this.errors)}error(l,...d){const m=`${this.key}${d.map(b=>`[${b}]`).join("")}`;this.errors.push(new Rn(m,l))}checkSubtype(l,d){const m=ke(l,d);return m&&this.error(m),m}}class jh{constructor(l,d,m){this.type=as,this.locale=m,this.caseSensitive=l,this.diacriticSensitive=d}static parse(l,d){if(l.length!==2)return d.error("Expected one argument.");const m=l[1];if(typeof m!="object"||Array.isArray(m))return d.error("Collator options argument must be an object.");const b=d.parse(m["case-sensitive"]!==void 0&&m["case-sensitive"],1,fn);if(!b)return null;const C=d.parse(m["diacritic-sensitive"]!==void 0&&m["diacritic-sensitive"],1,fn);if(!C)return null;let T=null;return m.locale&&(T=d.parse(m.locale,1,dn),!T)?null:new jh(b,C,T)}evaluate(l){return new Lh(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}const Al=8192;function Bh(u,l){u[0]=Math.min(u[0],l[0]),u[1]=Math.min(u[1],l[1]),u[2]=Math.max(u[2],l[0]),u[3]=Math.max(u[3],l[1])}function ef(u,l){return!(u[0]<=l[0]||u[2]>=l[2]||u[1]<=l[1]||u[3]>=l[3])}function qE(u,l){const d=(180+u[0])/360,m=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u[1]*Math.PI/360)))/360,b=Math.pow(2,l.z);return[Math.round(d*b*Al),Math.round(m*b*Al)]}function GE(u,l,d){const m=u[0]-l[0],b=u[1]-l[1],C=u[0]-d[0],T=u[1]-d[1];return m*T-C*b==0&&m*C<=0&&b*T<=0}function tf(u,l){let d=!1;for(let T=0,R=l.length;T<R;T++){const B=l[T];for(let W=0,H=B.length;W<H-1;W++){if(GE(u,B[W],B[W+1]))return!1;(b=B[W])[1]>(m=u)[1]!=(C=B[W+1])[1]>m[1]&&m[0]<(C[0]-b[0])*(m[1]-b[1])/(C[1]-b[1])+b[0]&&(d=!d)}}var m,b,C;return d}function HE(u,l){for(let d=0;d<l.length;d++)if(tf(u,l[d]))return!0;return!1}function Bx(u,l,d,m){const b=m[0]-d[0],C=m[1]-d[1],T=(u[0]-d[0])*C-b*(u[1]-d[1]),R=(l[0]-d[0])*C-b*(l[1]-d[1]);return T>0&&R<0||T<0&&R>0}function YE(u,l,d){for(const W of d)for(let H=0;H<W.length-1;++H)if((R=[(T=W[H+1])[0]-(C=W[H])[0],T[1]-C[1]])[0]*(B=[(b=l)[0]-(m=u)[0],b[1]-m[1]])[1]-R[1]*B[0]!=0&&Bx(m,b,C,T)&&Bx(C,T,m,b))return!0;var m,b,C,T,R,B;return!1}function ty(u,l){for(let d=0;d<u.length;++d)if(!tf(u[d],l))return!1;for(let d=0;d<u.length-1;++d)if(YE(u[d],u[d+1],l))return!1;return!0}function Fx(u,l){for(let d=0;d<l.length;d++)if(ty(u,l[d]))return!0;return!1}function ny(u,l,d){const m=[];for(let b=0;b<u.length;b++){const C=[];for(let T=0;T<u[b].length;T++){const R=qE(u[b][T],d);Bh(l,R),C.push(R)}m.push(C)}return m}function Ux(u,l,d){const m=[];for(let b=0;b<u.length;b++){const C=ny(u[b],l,d);m.push(C)}return m}function ry(u,l,d,m){if(u[0]<d[0]||u[0]>d[2]){const b=.5*m;let C=u[0]-d[0]>b?-m:d[0]-u[0]>b?m:0;C===0&&(C=u[0]-d[2]>b?-m:d[2]-u[0]>b?m:0),u[0]+=C}Bh(l,u)}function iy(u,l,d,m){const b=Math.pow(2,m.z)*Al,C=[m.x*Al,m.y*Al],T=[];for(const R of u)for(const B of R){const W=[B.x+C[0],B.y+C[1]];ry(W,l,d,b),T.push(W)}return T}function Vx(u,l,d,m){const b=Math.pow(2,m.z)*Al,C=[m.x*Al,m.y*Al],T=[];for(const B of u){const W=[];for(const H of B){const Z=[H.x+C[0],H.y+C[1]];Bh(l,Z),W.push(Z)}T.push(W)}if(l[2]-l[0]<=b/2){(R=l)[0]=R[1]=1/0,R[2]=R[3]=-1/0;for(const B of T)for(const W of B)ry(W,l,d,b)}var R;return T}class yc{constructor(l,d){this.type=fn,this.geojson=l,this.geometries=d}static parse(l,d){if(l.length!==2)return d.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if(Ol(l[1])){const m=l[1];if(m.type==="FeatureCollection")for(let b=0;b<m.features.length;++b){const C=m.features[b].geometry.type;if(C==="Polygon"||C==="MultiPolygon")return new yc(m,m.features[b].geometry)}else if(m.type==="Feature"){const b=m.geometry.type;if(b==="Polygon"||b==="MultiPolygon")return new yc(m,m.geometry)}else if(m.type==="Polygon"||m.type==="MultiPolygon")return new yc(m,m)}return d.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return function(d,m){const b=[1/0,1/0,-1/0,-1/0],C=[1/0,1/0,-1/0,-1/0],T=d.canonicalID();if(m.type==="Polygon"){const R=ny(m.coordinates,C,T),B=iy(d.geometry(),b,C,T);if(!ef(b,C))return!1;for(const W of B)if(!tf(W,R))return!1}if(m.type==="MultiPolygon"){const R=Ux(m.coordinates,C,T),B=iy(d.geometry(),b,C,T);if(!ef(b,C))return!1;for(const W of B)if(!HE(W,R))return!1}return!0}(l,this.geometries);if(l.geometryType()==="LineString")return function(d,m){const b=[1/0,1/0,-1/0,-1/0],C=[1/0,1/0,-1/0,-1/0],T=d.canonicalID();if(m.type==="Polygon"){const R=ny(m.coordinates,C,T),B=Vx(d.geometry(),b,C,T);if(!ef(b,C))return!1;for(const W of B)if(!ty(W,R))return!1}if(m.type==="MultiPolygon"){const R=Ux(m.coordinates,C,T),B=Vx(d.geometry(),b,C,T);if(!ef(b,C))return!1;for(const W of B)if(!Fx(W,R))return!1}return!0}(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Fh{constructor(l,d){this.type=d.type,this.name=l,this.boundExpression=d}static parse(l,d){if(l.length!==2||typeof l[1]!="string")return d.error("'var' expression requires exactly one string literal argument.");const m=l[1];return d.scope.has(m)?new Fh(m,d.scope.get(m)):d.error(`Unknown variable "${m}". Make sure "${m}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class pa{constructor(l,d,m,b){this.name=l,this.type=d,this._evaluate=m,this.args=b}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,d){const m=l[0],b=pa.definitions[m];if(!b)return d.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0);const C=Array.isArray(b)?b[0]:b.type,T=Array.isArray(b)?[[b[1],b[2]]]:b.overloads,R=T.filter(([W])=>!Array.isArray(W)||W.length===l.length-1);let B=null;for(const[W,H]of R){B=new zh(d.registry,Uh,d.path,null,d.scope);const Z=[];let Q=!1;for(let ie=1;ie<l.length;ie++){const oe=l[ie],ue=Array.isArray(W)?W[ie-1]:W.type,ge=B.parse(oe,1+Z.length,ue);if(!ge){Q=!0;break}Z.push(ge)}if(!Q)if(Array.isArray(W)&&W.length!==Z.length)B.error(`Expected ${W.length} arguments, but found ${Z.length} instead.`);else{for(let ie=0;ie<Z.length;ie++){const oe=Array.isArray(W)?W[ie]:W.type,ue=Z[ie];B.concat(ie+1).checkSubtype(oe,ue.type)}if(B.errors.length===0)return new pa(m,C,H,Z)}}if(R.length===1)d.errors.push(...B.errors);else{const W=(R.length?R:T).map(([Z])=>{return Q=Z,Array.isArray(Q)?`(${Q.map(be).join(", ")})`:`(${be(Q.type)}...)`;var Q}).join(" | "),H=[];for(let Z=1;Z<l.length;Z++){const Q=d.parse(l[Z],1+H.length);if(!Q)return null;H.push(be(Q.type))}d.error(`Expected arguments of type ${W}, but found (${H.join(", ")}) instead.`)}return null}static register(l,d){pa.definitions=d;for(const m in d)l[m]=pa}}function Uh(u){if(u instanceof Fh)return Uh(u.boundExpression);if(u instanceof pa&&u.name==="error"||u instanceof jh||u instanceof yc)return!1;const l=u instanceof Ys||u instanceof ha;let d=!0;return u.eachChild(m=>{d=l?d&&Uh(m):d&&m instanceof Hs}),!!d&&Vh(u)&&Cu(u,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Vh(u){if(u instanceof pa&&(u.name==="get"&&u.args.length===1||u.name==="feature-state"||u.name==="has"&&u.args.length===1||u.name==="properties"||u.name==="geometry-type"||u.name==="id"||/^filter-/.test(u.name))||u instanceof yc)return!1;let l=!0;return u.eachChild(d=>{l&&!Vh(d)&&(l=!1)}),l}function nf(u){if(u instanceof pa&&u.name==="feature-state")return!1;let l=!0;return u.eachChild(d=>{l&&!nf(d)&&(l=!1)}),l}function Cu(u,l){if(u instanceof pa&&l.indexOf(u.name)>=0)return!1;let d=!0;return u.eachChild(m=>{d&&!Cu(m,l)&&(d=!1)}),d}function vc(u,l){const d=u.length-1;let m,b,C=0,T=d,R=0;for(;C<=T;)if(R=Math.floor((C+T)/2),m=u[R],b=u[R+1],m<=l){if(R===d||l<b)return R;C=R+1}else{if(!(m>l))throw new Jr("Input is not a number.");T=R-1}return 0}class zn{constructor(l,d,m){this.type=l,this.input=d,this.labels=[],this.outputs=[];for(const[b,C]of m)this.labels.push(b),this.outputs.push(C)}static parse(l,d){if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");const m=d.parse(l[1],1,ct);if(!m)return null;const b=[];let C=null;d.expectedType&&d.expectedType.kind!=="value"&&(C=d.expectedType);for(let T=1;T<l.length;T+=2){const R=T===1?-1/0:l[T],B=l[T+1],W=T,H=T+1;if(typeof R!="number")return d.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',W);if(b.length&&b[b.length-1][0]>=R)return d.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',W);const Z=d.parse(B,H,C);if(!Z)return null;C=C||Z.type,b.push([R,Z])}return new zn(C,m,b)}evaluate(l){const d=this.labels,m=this.outputs;if(d.length===1)return m[0].evaluate(l);const b=this.input.evaluate(l);if(b<=d[0])return m[0].evaluate(l);const C=d.length;return b>=d[C-1]?m[C-1].evaluate(l):m[vc(d,b)].evaluate(l)}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function bc(u,l,d){return u+d*(l-u)}function Wh(u,l,d){return u.map((m,b)=>bc(m,l[b],d))}const qo={number:bc,color:function(u,l,d,m="rgb"){switch(m){case"rgb":{const[b,C,T,R]=Wh(u.rgb,l.rgb,d);return new Jn(b,C,T,R,!1)}case"hcl":{const[b,C,T,R]=u.hcl,[B,W,H,Z]=l.hcl;let Q,ie;if(isNaN(b)||isNaN(B))isNaN(b)?isNaN(B)?Q=NaN:(Q=B,T!==1&&T!==0||(ie=W)):(Q=b,H!==1&&H!==0||(ie=C));else{let Re=B-b;B>b&&Re>180?Re-=360:B<b&&b-B>180&&(Re+=360),Q=b+d*Re}const[oe,ue,ge,xe]=function([Re,Te,Le,je]){return Re=isNaN(Re)?0:Re*ln,Ut([Le,Math.cos(Re)*Te,Math.sin(Re)*Te,je])}([Q,ie??bc(C,W,d),bc(T,H,d),bc(R,Z,d)]);return new Jn(oe,ue,ge,xe,!1)}case"lab":{const[b,C,T,R]=Ut(Wh(u.lab,l.lab,d));return new Jn(b,C,T,R,!1)}}},array:Wh,padding:function(u,l,d){return new Wo(Wh(u.values,l.values,d))},variableAnchorOffsetCollection:function(u,l,d){const m=u.values,b=l.values;if(m.length!==b.length)throw new Jr(`Cannot interpolate values of different length. from: ${u.toString()}, to: ${l.toString()}`);const C=[];for(let T=0;T<m.length;T+=2){if(m[T]!==b[T])throw new Jr(`Cannot interpolate values containing mismatched anchors. from[${T}]: ${m[T]}, to[${T}]: ${b[T]}`);C.push(m[T]);const[R,B]=m[T+1],[W,H]=b[T+1];C.push([bc(R,W,d),bc(B,H,d)])}return new Ri(C)}};class Go{constructor(l,d,m,b,C){this.type=l,this.operator=d,this.interpolation=m,this.input=b,this.labels=[],this.outputs=[];for(const[T,R]of C)this.labels.push(T),this.outputs.push(R)}static interpolationFactor(l,d,m,b){let C=0;if(l.name==="exponential")C=oy(d,l.base,m,b);else if(l.name==="linear")C=oy(d,1,m,b);else if(l.name==="cubic-bezier"){const T=l.controlPoints;C=new S(T[0],T[1],T[2],T[3]).solve(oy(d,1,m,b))}return C}static parse(l,d){let[m,b,C,...T]=l;if(!Array.isArray(b)||b.length===0)return d.error("Expected an interpolation type expression.",1);if(b[0]==="linear")b={name:"linear"};else if(b[0]==="exponential"){const W=b[1];if(typeof W!="number")return d.error("Exponential interpolation requires a numeric base.",1,1);b={name:"exponential",base:W}}else{if(b[0]!=="cubic-bezier")return d.error(`Unknown interpolation type ${String(b[0])}`,1,0);{const W=b.slice(1);if(W.length!==4||W.some(H=>typeof H!="number"||H<0||H>1))return d.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);b={name:"cubic-bezier",controlPoints:W}}}if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");if(C=d.parse(C,2,ct),!C)return null;const R=[];let B=null;m==="interpolate-hcl"||m==="interpolate-lab"?B=$i:d.expectedType&&d.expectedType.kind!=="value"&&(B=d.expectedType);for(let W=0;W<T.length;W+=2){const H=T[W],Z=T[W+1],Q=W+3,ie=W+4;if(typeof H!="number")return d.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Q);if(R.length&&R[R.length-1][0]>=H)return d.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Q);const oe=d.parse(Z,ie,B);if(!oe)return null;B=B||oe.type,R.push([H,oe])}return qe(B,ct)||qe(B,$i)||qe(B,X)||qe(B,se)||qe(B,he(ct))?new Go(B,m,b,C,R):d.error(`Type ${be(B)} is not interpolatable.`)}evaluate(l){const d=this.labels,m=this.outputs;if(d.length===1)return m[0].evaluate(l);const b=this.input.evaluate(l);if(b<=d[0])return m[0].evaluate(l);const C=d.length;if(b>=d[C-1])return m[C-1].evaluate(l);const T=vc(d,b),R=Go.interpolationFactor(this.interpolation,b,d[T],d[T+1]),B=m[T].evaluate(l),W=m[T+1].evaluate(l);switch(this.operator){case"interpolate":return qo[this.type.kind](B,W,R);case"interpolate-hcl":return qo.color(B,W,R,"hcl");case"interpolate-lab":return qo.color(B,W,R,"lab")}}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function oy(u,l,d,m){const b=m-d,C=u-d;return b===0?0:l===1?C/b:(Math.pow(l,C)-1)/(Math.pow(l,b)-1)}class qh{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expectected at least one argument.");let m=null;const b=d.expectedType;b&&b.kind!=="value"&&(m=b);const C=[];for(const R of l.slice(1)){const B=d.parse(R,1+C.length,m,void 0,{typeAnnotation:"omit"});if(!B)return null;m=m||B.type,C.push(B)}if(!m)throw new Error("No output type");const T=b&&C.some(R=>ke(b,R.type));return new qh(T?sn:m,C)}evaluate(l){let d,m=null,b=0;for(const C of this.args)if(b++,m=C.evaluate(l),m&&m instanceof _o&&!m.available&&(d||(d=m.name),m=null,b===this.args.length&&(m=d)),m!==null)break;return m}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}class Gh{constructor(l,d){this.type=d.type,this.bindings=[].concat(l),this.result=d}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(const d of this.bindings)l(d[1]);l(this.result)}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);const m=[];for(let C=1;C<l.length-1;C+=2){const T=l[C];if(typeof T!="string")return d.error(`Expected string, but found ${typeof T} instead.`,C);if(/[^a-zA-Z0-9_]/.test(T))return d.error("Variable names must contain only alphanumeric characters or '_'.",C);const R=d.parse(l[C+1],C+1);if(!R)return null;m.push([T,R])}const b=d.parse(l[l.length-1],l.length-1,d.expectedType,m);return b?new Gh(m,b):null}outputDefined(){return this.result.outputDefined()}}class ay{constructor(l,d,m){this.type=l,this.index=d,this.input=m}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const m=d.parse(l[1],1,ct),b=d.parse(l[2],2,he(d.expectedType||sn));return m&&b?new ay(b.type.itemType,m,b):null}evaluate(l){const d=this.index.evaluate(l),m=this.input.evaluate(l);if(d<0)throw new Jr(`Array index out of bounds: ${d} < 0.`);if(d>=m.length)throw new Jr(`Array index out of bounds: ${d} > ${m.length-1}.`);if(d!==Math.floor(d))throw new Jr(`Array index must be an integer, but found ${d} instead.`);return m[d]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class sy{constructor(l,d){this.type=fn,this.needle=l,this.haystack=d}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const m=d.parse(l[1],1,sn),b=d.parse(l[2],2,sn);return m&&b?_e(m.type,[fn,dn,ct,qi,sn])?new sy(m,b):d.error(`Expected first argument to be of type boolean, string, number or null, but found ${be(m.type)} instead`):null}evaluate(l){const d=this.needle.evaluate(l),m=this.haystack.evaluate(l);if(!m)return!1;if(!$e(d,["boolean","string","number","null"]))throw new Jr(`Expected first argument to be of type boolean, string, number or null, but found ${be(hn(d))} instead.`);if(!$e(m,["string","array"]))throw new Jr(`Expected second argument to be of type array or string, but found ${be(hn(m))} instead.`);return m.indexOf(d)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class Hh{constructor(l,d,m){this.type=ct,this.needle=l,this.haystack=d,this.fromIndex=m}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const m=d.parse(l[1],1,sn),b=d.parse(l[2],2,sn);if(!m||!b)return null;if(!_e(m.type,[fn,dn,ct,qi,sn]))return d.error(`Expected first argument to be of type boolean, string, number or null, but found ${be(m.type)} instead`);if(l.length===4){const C=d.parse(l[3],3,ct);return C?new Hh(m,b,C):null}return new Hh(m,b)}evaluate(l){const d=this.needle.evaluate(l),m=this.haystack.evaluate(l);if(!$e(d,["boolean","string","number","null"]))throw new Jr(`Expected first argument to be of type boolean, string, number or null, but found ${be(hn(d))} instead.`);if(!$e(m,["string","array"]))throw new Jr(`Expected second argument to be of type array or string, but found ${be(hn(m))} instead.`);if(this.fromIndex){const b=this.fromIndex.evaluate(l);return m.indexOf(d,b)}return m.indexOf(d)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class ly{constructor(l,d,m,b,C,T){this.inputType=l,this.type=d,this.input=m,this.cases=b,this.outputs=C,this.otherwise=T}static parse(l,d){if(l.length<5)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return d.error("Expected an even number of arguments.");let m,b;d.expectedType&&d.expectedType.kind!=="value"&&(b=d.expectedType);const C={},T=[];for(let W=2;W<l.length-1;W+=2){let H=l[W];const Z=l[W+1];Array.isArray(H)||(H=[H]);const Q=d.concat(W);if(H.length===0)return Q.error("Expected at least one branch label.");for(const oe of H){if(typeof oe!="number"&&typeof oe!="string")return Q.error("Branch labels must be numbers or strings.");if(typeof oe=="number"&&Math.abs(oe)>Number.MAX_SAFE_INTEGER)return Q.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof oe=="number"&&Math.floor(oe)!==oe)return Q.error("Numeric branch labels must be integer values.");if(m){if(Q.checkSubtype(m,hn(oe)))return null}else m=hn(oe);if(C[String(oe)]!==void 0)return Q.error("Branch labels must be unique.");C[String(oe)]=T.length}const ie=d.parse(Z,W,b);if(!ie)return null;b=b||ie.type,T.push(ie)}const R=d.parse(l[1],1,sn);if(!R)return null;const B=d.parse(l[l.length-1],l.length-1,b);return B?R.type.kind!=="value"&&d.concat(1).checkSubtype(m,R.type)?null:new ly(m,b,R,C,T,B):null}evaluate(l){const d=this.input.evaluate(l);return(hn(d)===this.inputType&&this.outputs[this.cases[d]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every(l=>l.outputDefined())&&this.otherwise.outputDefined()}}class cy{constructor(l,d,m){this.type=l,this.branches=d,this.otherwise=m}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return d.error("Expected an odd number of arguments.");let m;d.expectedType&&d.expectedType.kind!=="value"&&(m=d.expectedType);const b=[];for(let T=1;T<l.length-1;T+=2){const R=d.parse(l[T],T,fn);if(!R)return null;const B=d.parse(l[T+1],T+1,m);if(!B)return null;b.push([R,B]),m=m||B.type}const C=d.parse(l[l.length-1],l.length-1,m);if(!C)return null;if(!m)throw new Error("Can't infer output type");return new cy(m,b,C)}evaluate(l){for(const[d,m]of this.branches)if(d.evaluate(l))return m.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(const[d,m]of this.branches)l(d),l(m);l(this.otherwise)}outputDefined(){return this.branches.every(([l,d])=>d.outputDefined())&&this.otherwise.outputDefined()}}class Yh{constructor(l,d,m,b){this.type=l,this.input=d,this.beginIndex=m,this.endIndex=b}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const m=d.parse(l[1],1,sn),b=d.parse(l[2],2,ct);if(!m||!b)return null;if(!_e(m.type,[he(sn),dn,sn]))return d.error(`Expected first argument to be of type array or string, but found ${be(m.type)} instead`);if(l.length===4){const C=d.parse(l[3],3,ct);return C?new Yh(m.type,m,b,C):null}return new Yh(m.type,m,b)}evaluate(l){const d=this.input.evaluate(l),m=this.beginIndex.evaluate(l);if(!$e(d,["string","array"]))throw new Jr(`Expected first argument to be of type array or string, but found ${be(hn(d))} instead.`);if(this.endIndex){const b=this.endIndex.evaluate(l);return d.slice(m,b)}return d.slice(m)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function Wx(u,l){return u==="=="||u==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function qx(u,l,d,m){return m.compare(l,d)===0}function Eu(u,l,d){const m=u!=="=="&&u!=="!=";return class j7{constructor(C,T,R){this.type=fn,this.lhs=C,this.rhs=T,this.collator=R,this.hasUntypedArgument=C.type.kind==="value"||T.type.kind==="value"}static parse(C,T){if(C.length!==3&&C.length!==4)return T.error("Expected two or three arguments.");const R=C[0];let B=T.parse(C[1],1,sn);if(!B)return null;if(!Wx(R,B.type))return T.concat(1).error(`"${R}" comparisons are not supported for type '${be(B.type)}'.`);let W=T.parse(C[2],2,sn);if(!W)return null;if(!Wx(R,W.type))return T.concat(2).error(`"${R}" comparisons are not supported for type '${be(W.type)}'.`);if(B.type.kind!==W.type.kind&&B.type.kind!=="value"&&W.type.kind!=="value")return T.error(`Cannot compare types '${be(B.type)}' and '${be(W.type)}'.`);m&&(B.type.kind==="value"&&W.type.kind!=="value"?B=new ha(W.type,[B]):B.type.kind!=="value"&&W.type.kind==="value"&&(W=new ha(B.type,[W])));let H=null;if(C.length===4){if(B.type.kind!=="string"&&W.type.kind!=="string"&&B.type.kind!=="value"&&W.type.kind!=="value")return T.error("Cannot use collator to compare non-string types.");if(H=T.parse(C[3],3,as),!H)return null}return new j7(B,W,H)}evaluate(C){const T=this.lhs.evaluate(C),R=this.rhs.evaluate(C);if(m&&this.hasUntypedArgument){const B=hn(T),W=hn(R);if(B.kind!==W.kind||B.kind!=="string"&&B.kind!=="number")throw new Jr(`Expected arguments for "${u}" to be (string, string) or (number, number), but found (${B.kind}, ${W.kind}) instead.`)}if(this.collator&&!m&&this.hasUntypedArgument){const B=hn(T),W=hn(R);if(B.kind!=="string"||W.kind!=="string")return l(C,T,R)}return this.collator?d(C,T,R,this.collator.evaluate(C)):l(C,T,R)}eachChild(C){C(this.lhs),C(this.rhs),this.collator&&C(this.collator)}outputDefined(){return!0}}}const KE=Eu("==",function(u,l,d){return l===d},qx),ZE=Eu("!=",function(u,l,d){return l!==d},function(u,l,d,m){return!qx(0,l,d,m)}),XE=Eu("<",function(u,l,d){return l<d},function(u,l,d,m){return m.compare(l,d)<0}),JE=Eu(">",function(u,l,d){return l>d},function(u,l,d,m){return m.compare(l,d)>0}),QE=Eu("<=",function(u,l,d){return l<=d},function(u,l,d,m){return m.compare(l,d)<=0}),eT=Eu(">=",function(u,l,d){return l>=d},function(u,l,d,m){return m.compare(l,d)>=0});class uy{constructor(l,d,m,b,C){this.type=dn,this.number=l,this.locale=d,this.currency=m,this.minFractionDigits=b,this.maxFractionDigits=C}static parse(l,d){if(l.length!==3)return d.error("Expected two arguments.");const m=d.parse(l[1],1,ct);if(!m)return null;const b=l[2];if(typeof b!="object"||Array.isArray(b))return d.error("NumberFormat options argument must be an object.");let C=null;if(b.locale&&(C=d.parse(b.locale,1,dn),!C))return null;let T=null;if(b.currency&&(T=d.parse(b.currency,1,dn),!T))return null;let R=null;if(b["min-fraction-digits"]&&(R=d.parse(b["min-fraction-digits"],1,ct),!R))return null;let B=null;return b["max-fraction-digits"]&&(B=d.parse(b["max-fraction-digits"],1,ct),!B)?null:new uy(m,C,T,R,B)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class Kh{constructor(l){this.type=fe,this.sections=l}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const m=l[1];if(!Array.isArray(m)&&typeof m=="object")return d.error("First argument must be an image or text section.");const b=[];let C=!1;for(let T=1;T<=l.length-1;++T){const R=l[T];if(C&&typeof R=="object"&&!Array.isArray(R)){C=!1;let B=null;if(R["font-scale"]&&(B=d.parse(R["font-scale"],1,ct),!B))return null;let W=null;if(R["text-font"]&&(W=d.parse(R["text-font"],1,he(dn)),!W))return null;let H=null;if(R["text-color"]&&(H=d.parse(R["text-color"],1,$i),!H))return null;const Z=b[b.length-1];Z.scale=B,Z.font=W,Z.textColor=H}else{const B=d.parse(l[T],1,sn);if(!B)return null;const W=B.type.kind;if(W!=="string"&&W!=="value"&&W!=="null"&&W!=="resolvedImage")return d.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");C=!0,b.push({content:B,scale:null,font:null,textColor:null})}}return new Kh(b)}evaluate(l){return new Vo(this.sections.map(d=>{const m=d.content.evaluate(l);return hn(m)===ne?new Su("",m,null,null,null):new Su(Jd(m),null,d.scale?d.scale.evaluate(l):null,d.font?d.font.evaluate(l).join(","):null,d.textColor?d.textColor.evaluate(l):null)}))}eachChild(l){for(const d of this.sections)l(d.content),d.scale&&l(d.scale),d.font&&l(d.font),d.textColor&&l(d.textColor)}outputDefined(){return!1}}class dy{constructor(l){this.type=ne,this.input=l}static parse(l,d){if(l.length!==2)return d.error("Expected two arguments.");const m=d.parse(l[1],1,dn);return m?new dy(m):d.error("No image name provided.")}evaluate(l){const d=this.input.evaluate(l),m=_o.fromString(d);return m&&l.availableImages&&(m.available=l.availableImages.indexOf(d)>-1),m}eachChild(l){l(this.input)}outputDefined(){return!1}}class fy{constructor(l){this.type=ct,this.input=l}static parse(l,d){if(l.length!==2)return d.error(`Expected 1 argument, but found ${l.length-1} instead.`);const m=d.parse(l[1],1);return m?m.type.kind!=="array"&&m.type.kind!=="string"&&m.type.kind!=="value"?d.error(`Expected argument of type string or array, but found ${be(m.type)} instead.`):new fy(m):null}evaluate(l){const d=this.input.evaluate(l);if(typeof d=="string"||Array.isArray(d))return d.length;throw new Jr(`Expected value to be of type string or array, but found ${be(hn(d))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}const Tu={"==":KE,"!=":ZE,">":JE,"<":XE,">=":eT,"<=":QE,array:ha,at:ay,boolean:ha,case:cy,coalesce:qh,collator:jh,format:Kh,image:dy,in:sy,"index-of":Hh,interpolate:Go,"interpolate-hcl":Go,"interpolate-lab":Go,length:fy,let:Gh,literal:Hs,match:ly,number:ha,"number-format":uy,object:ha,slice:Yh,step:zn,string:ha,"to-boolean":Ys,"to-color":Ys,"to-number":Ys,"to-string":Ys,var:Fh,within:yc};function Gx(u,[l,d,m,b]){l=l.evaluate(u),d=d.evaluate(u),m=m.evaluate(u);const C=b?b.evaluate(u):1,T=Nh(l,d,m,C);if(T)throw new Jr(T);return new Jn(l/255,d/255,m/255,C,!1)}function Hx(u,l){return u in l}function hy(u,l){const d=l[u];return d===void 0?null:d}function xc(u){return{type:u}}function Zh(u){return{result:"success",value:u}}function ku(u){return{result:"error",value:u}}function Pu(u){return u["property-type"]==="data-driven"||u["property-type"]==="cross-faded-data-driven"}function Yx(u){return!!u.expression&&u.expression.parameters.indexOf("zoom")>-1}function py(u){return!!u.expression&&u.expression.interpolated}function on(u){return u instanceof Number?"number":u instanceof String?"string":u instanceof Boolean?"boolean":Array.isArray(u)?"array":u===null?"null":typeof u}function Xh(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)}function Dn(u){return u}function Jh(u,l){const d=l.type==="color",m=u.stops&&typeof u.stops[0][0]=="object",b=m||!(m||u.property!==void 0),C=u.type||(py(l)?"exponential":"interval");if(d||l.type==="padding"){const H=d?Jn.parse:Wo.parse;(u=un({},u)).stops&&(u.stops=u.stops.map(Z=>[Z[0],H(Z[1])])),u.default=H(u.default?u.default:l.default)}if(u.colorSpace&&(T=u.colorSpace)!=="rgb"&&T!=="hcl"&&T!=="lab")throw new Error(`Unknown color space: "${u.colorSpace}"`);var T;let R,B,W;if(C==="exponential")R=my;else if(C==="interval")R=Qh;else if(C==="categorical"){R=Tr,B=Object.create(null);for(const H of u.stops)B[H[0]]=H[1];W=typeof u.stops[0][0]}else{if(C!=="identity")throw new Error(`Unknown function type "${C}"`);R=tT}if(m){const H={},Z=[];for(let oe=0;oe<u.stops.length;oe++){const ue=u.stops[oe],ge=ue[0].zoom;H[ge]===void 0&&(H[ge]={zoom:ge,type:u.type,property:u.property,default:u.default,stops:[]},Z.push(ge)),H[ge].stops.push([ue[0].value,ue[1]])}const Q=[];for(const oe of Z)Q.push([H[oe].zoom,Jh(H[oe],l)]);const ie={name:"linear"};return{kind:"composite",interpolationType:ie,interpolationFactor:Go.interpolationFactor.bind(void 0,ie),zoomStops:Q.map(oe=>oe[0]),evaluate:({zoom:oe},ue)=>my({stops:Q,base:u.base},l,oe).evaluate(oe,ue)}}if(b){const H=C==="exponential"?{name:"exponential",base:u.base!==void 0?u.base:1}:null;return{kind:"camera",interpolationType:H,interpolationFactor:Go.interpolationFactor.bind(void 0,H),zoomStops:u.stops.map(Z=>Z[0]),evaluate:({zoom:Z})=>R(u,l,Z,B,W)}}return{kind:"source",evaluate(H,Z){const Q=Z&&Z.properties?Z.properties[u.property]:void 0;return Q===void 0?lr(u.default,l.default):R(u,l,Q,B,W)}}}function lr(u,l,d){return u!==void 0?u:l!==void 0?l:d!==void 0?d:void 0}function Tr(u,l,d,m,b){return lr(typeof d===b?m[d]:void 0,u.default,l.default)}function Qh(u,l,d){if(on(d)!=="number")return lr(u.default,l.default);const m=u.stops.length;if(m===1||d<=u.stops[0][0])return u.stops[0][1];if(d>=u.stops[m-1][0])return u.stops[m-1][1];const b=vc(u.stops.map(C=>C[0]),d);return u.stops[b][1]}function my(u,l,d){const m=u.base!==void 0?u.base:1;if(on(d)!=="number")return lr(u.default,l.default);const b=u.stops.length;if(b===1||d<=u.stops[0][0])return u.stops[0][1];if(d>=u.stops[b-1][0])return u.stops[b-1][1];const C=vc(u.stops.map(H=>H[0]),d),T=function(H,Z,Q,ie){const oe=ie-Q,ue=H-Q;return oe===0?0:Z===1?ue/oe:(Math.pow(Z,ue)-1)/(Math.pow(Z,oe)-1)}(d,m,u.stops[C][0],u.stops[C+1][0]),R=u.stops[C][1],B=u.stops[C+1][1],W=qo[l.type]||Dn;return typeof R.evaluate=="function"?{evaluate(...H){const Z=R.evaluate.apply(void 0,H),Q=B.evaluate.apply(void 0,H);if(Z!==void 0&&Q!==void 0)return W(Z,Q,T,u.colorSpace)}}:W(R,B,T,u.colorSpace)}function tT(u,l,d){switch(l.type){case"color":d=Jn.parse(d);break;case"formatted":d=Vo.fromString(d.toString());break;case"resolvedImage":d=_o.fromString(d.toString());break;case"padding":d=Wo.parse(d);break;default:on(d)===l.type||l.type==="enum"&&l.values[d]||(d=void 0)}return lr(d,u.default,l.default)}pa.register(Tu,{error:[{kind:"error"},[dn],(u,[l])=>{throw new Jr(l.evaluate(u))}],typeof:[dn,[sn],(u,[l])=>be(hn(l.evaluate(u)))],"to-rgba":[he(ct,4),[$i],(u,[l])=>{const[d,m,b,C]=l.evaluate(u).rgb;return[255*d,255*m,255*b,C]}],rgb:[$i,[ct,ct,ct],Gx],rgba:[$i,[ct,ct,ct,ct],Gx],has:{type:fn,overloads:[[[dn],(u,[l])=>Hx(l.evaluate(u),u.properties())],[[dn,Uo],(u,[l,d])=>Hx(l.evaluate(u),d.evaluate(u))]]},get:{type:sn,overloads:[[[dn],(u,[l])=>hy(l.evaluate(u),u.properties())],[[dn,Uo],(u,[l,d])=>hy(l.evaluate(u),d.evaluate(u))]]},"feature-state":[sn,[dn],(u,[l])=>hy(l.evaluate(u),u.featureState||{})],properties:[Uo,[],u=>u.properties()],"geometry-type":[dn,[],u=>u.geometryType()],id:[sn,[],u=>u.id()],zoom:[ct,[],u=>u.globals.zoom],"heatmap-density":[ct,[],u=>u.globals.heatmapDensity||0],"line-progress":[ct,[],u=>u.globals.lineProgress||0],accumulated:[sn,[],u=>u.globals.accumulated===void 0?null:u.globals.accumulated],"+":[ct,xc(ct),(u,l)=>{let d=0;for(const m of l)d+=m.evaluate(u);return d}],"*":[ct,xc(ct),(u,l)=>{let d=1;for(const m of l)d*=m.evaluate(u);return d}],"-":{type:ct,overloads:[[[ct,ct],(u,[l,d])=>l.evaluate(u)-d.evaluate(u)],[[ct],(u,[l])=>-l.evaluate(u)]]},"/":[ct,[ct,ct],(u,[l,d])=>l.evaluate(u)/d.evaluate(u)],"%":[ct,[ct,ct],(u,[l,d])=>l.evaluate(u)%d.evaluate(u)],ln2:[ct,[],()=>Math.LN2],pi:[ct,[],()=>Math.PI],e:[ct,[],()=>Math.E],"^":[ct,[ct,ct],(u,[l,d])=>Math.pow(l.evaluate(u),d.evaluate(u))],sqrt:[ct,[ct],(u,[l])=>Math.sqrt(l.evaluate(u))],log10:[ct,[ct],(u,[l])=>Math.log(l.evaluate(u))/Math.LN10],ln:[ct,[ct],(u,[l])=>Math.log(l.evaluate(u))],log2:[ct,[ct],(u,[l])=>Math.log(l.evaluate(u))/Math.LN2],sin:[ct,[ct],(u,[l])=>Math.sin(l.evaluate(u))],cos:[ct,[ct],(u,[l])=>Math.cos(l.evaluate(u))],tan:[ct,[ct],(u,[l])=>Math.tan(l.evaluate(u))],asin:[ct,[ct],(u,[l])=>Math.asin(l.evaluate(u))],acos:[ct,[ct],(u,[l])=>Math.acos(l.evaluate(u))],atan:[ct,[ct],(u,[l])=>Math.atan(l.evaluate(u))],min:[ct,xc(ct),(u,l)=>Math.min(...l.map(d=>d.evaluate(u)))],max:[ct,xc(ct),(u,l)=>Math.max(...l.map(d=>d.evaluate(u)))],abs:[ct,[ct],(u,[l])=>Math.abs(l.evaluate(u))],round:[ct,[ct],(u,[l])=>{const d=l.evaluate(u);return d<0?-Math.round(-d):Math.round(d)}],floor:[ct,[ct],(u,[l])=>Math.floor(l.evaluate(u))],ceil:[ct,[ct],(u,[l])=>Math.ceil(l.evaluate(u))],"filter-==":[fn,[dn,sn],(u,[l,d])=>u.properties()[l.value]===d.value],"filter-id-==":[fn,[sn],(u,[l])=>u.id()===l.value],"filter-type-==":[fn,[dn],(u,[l])=>u.geometryType()===l.value],"filter-<":[fn,[dn,sn],(u,[l,d])=>{const m=u.properties()[l.value],b=d.value;return typeof m==typeof b&&m<b}],"filter-id-<":[fn,[sn],(u,[l])=>{const d=u.id(),m=l.value;return typeof d==typeof m&&d<m}],"filter->":[fn,[dn,sn],(u,[l,d])=>{const m=u.properties()[l.value],b=d.value;return typeof m==typeof b&&m>b}],"filter-id->":[fn,[sn],(u,[l])=>{const d=u.id(),m=l.value;return typeof d==typeof m&&d>m}],"filter-<=":[fn,[dn,sn],(u,[l,d])=>{const m=u.properties()[l.value],b=d.value;return typeof m==typeof b&&m<=b}],"filter-id-<=":[fn,[sn],(u,[l])=>{const d=u.id(),m=l.value;return typeof d==typeof m&&d<=m}],"filter->=":[fn,[dn,sn],(u,[l,d])=>{const m=u.properties()[l.value],b=d.value;return typeof m==typeof b&&m>=b}],"filter-id->=":[fn,[sn],(u,[l])=>{const d=u.id(),m=l.value;return typeof d==typeof m&&d>=m}],"filter-has":[fn,[sn],(u,[l])=>l.value in u.properties()],"filter-has-id":[fn,[],u=>u.id()!==null&&u.id()!==void 0],"filter-type-in":[fn,[he(dn)],(u,[l])=>l.value.indexOf(u.geometryType())>=0],"filter-id-in":[fn,[he(sn)],(u,[l])=>l.value.indexOf(u.id())>=0],"filter-in-small":[fn,[dn,he(sn)],(u,[l,d])=>d.value.indexOf(u.properties()[l.value])>=0],"filter-in-large":[fn,[dn,he(sn)],(u,[l,d])=>function(m,b,C,T){for(;C<=T;){const R=C+T>>1;if(b[R]===m)return!0;b[R]>m?T=R-1:C=R+1}return!1}(u.properties()[l.value],d.value,0,d.value.length-1)],all:{type:fn,overloads:[[[fn,fn],(u,[l,d])=>l.evaluate(u)&&d.evaluate(u)],[xc(fn),(u,l)=>{for(const d of l)if(!d.evaluate(u))return!1;return!0}]]},any:{type:fn,overloads:[[[fn,fn],(u,[l,d])=>l.evaluate(u)||d.evaluate(u)],[xc(fn),(u,l)=>{for(const d of l)if(d.evaluate(u))return!0;return!1}]]},"!":[fn,[fn],(u,[l])=>!l.evaluate(u)],"is-supported-script":[fn,[dn],(u,[l])=>{const d=u.globals&&u.globals.isSupportedScript;return!d||d(l.evaluate(u))}],upcase:[dn,[dn],(u,[l])=>l.evaluate(u).toUpperCase()],downcase:[dn,[dn],(u,[l])=>l.evaluate(u).toLowerCase()],concat:[dn,xc(sn),(u,l)=>l.map(d=>Jd(d.evaluate(u))).join("")],"resolved-locale":[dn,[as],(u,[l])=>l.evaluate(u).resolvedLocale()]});class gy{constructor(l,d){var m;this.expression=l,this._warningHistory={},this._evaluator=new jx,this._defaultValue=d?(m=d).type==="color"&&Xh(m.default)?new Jn(0,0,0,0):m.type==="color"?Jn.parse(m.default)||null:m.type==="padding"?Wo.parse(m.default)||null:m.type==="variableAnchorOffsetCollection"?Ri.parse(m.default)||null:m.default===void 0?null:m.default:null,this._enumValues=d&&d.type==="enum"?d.values:null}evaluateWithoutErrorHandling(l,d,m,b,C,T){return this._evaluator.globals=l,this._evaluator.feature=d,this._evaluator.featureState=m,this._evaluator.canonical=b,this._evaluator.availableImages=C||null,this._evaluator.formattedSection=T,this.expression.evaluate(this._evaluator)}evaluate(l,d,m,b,C,T){this._evaluator.globals=l,this._evaluator.feature=d||null,this._evaluator.featureState=m||null,this._evaluator.canonical=b,this._evaluator.availableImages=C||null,this._evaluator.formattedSection=T||null;try{const R=this.expression.evaluate(this._evaluator);if(R==null||typeof R=="number"&&R!=R)return this._defaultValue;if(this._enumValues&&!(R in this._enumValues))throw new Jr(`Expected value to be one of ${Object.keys(this._enumValues).map(B=>JSON.stringify(B)).join(", ")}, but found ${JSON.stringify(R)} instead.`);return R}catch(R){return this._warningHistory[R.message]||(this._warningHistory[R.message]=!0,typeof console<"u"&&console.warn(R.message)),this._defaultValue}}}function ep(u){return Array.isArray(u)&&u.length>0&&typeof u[0]=="string"&&u[0]in Tu}function tp(u,l){const d=new zh(Tu,Uh,[],l?function(b){const C={color:$i,string:dn,number:ct,enum:dn,boolean:fn,formatted:fe,padding:X,resolvedImage:ne,variableAnchorOffsetCollection:se};return b.type==="array"?he(C[b.value]||sn,b.length):C[b.type]}(l):void 0),m=d.parse(u,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return m?Zh(new gy(m,l)):ku(d.errors)}class np{constructor(l,d){this.kind=l,this._styleExpression=d,this.isStateDependent=l!=="constant"&&!nf(d.expression)}evaluateWithoutErrorHandling(l,d,m,b,C,T){return this._styleExpression.evaluateWithoutErrorHandling(l,d,m,b,C,T)}evaluate(l,d,m,b,C,T){return this._styleExpression.evaluate(l,d,m,b,C,T)}}class rp{constructor(l,d,m,b){this.kind=l,this.zoomStops=m,this._styleExpression=d,this.isStateDependent=l!=="camera"&&!nf(d.expression),this.interpolationType=b}evaluateWithoutErrorHandling(l,d,m,b,C,T){return this._styleExpression.evaluateWithoutErrorHandling(l,d,m,b,C,T)}evaluate(l,d,m,b,C,T){return this._styleExpression.evaluate(l,d,m,b,C,T)}interpolationFactor(l,d,m){return this.interpolationType?Go.interpolationFactor(this.interpolationType,l,d,m):0}}function yy(u,l){const d=tp(u,l);if(d.result==="error")return d;const m=d.value.expression,b=Vh(m);if(!b&&!Pu(l))return ku([new Rn("","data expressions not supported")]);const C=Cu(m,["zoom"]);if(!C&&!Yx(l))return ku([new Rn("","zoom expressions not supported")]);const T=Ou(m);return T||C?T instanceof Rn?ku([T]):T instanceof Go&&!py(l)?ku([new Rn("",'"interpolate" expressions cannot be used with this property')]):Zh(T?new rp(b?"camera":"composite",d.value,T.labels,T instanceof Go?T.interpolation:void 0):new np(b?"constant":"source",d.value)):ku([new Rn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class rf{constructor(l,d){this._parameters=l,this._specification=d,un(this,Jh(this._parameters,this._specification))}static deserialize(l){return new rf(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function Ou(u){let l=null;if(u instanceof Gh)l=Ou(u.result);else if(u instanceof qh){for(const d of u.args)if(l=Ou(d),l)break}else(u instanceof zn||u instanceof Go)&&u.input instanceof pa&&u.input.name==="zoom"&&(l=u);return l instanceof Rn||u.eachChild(d=>{const m=Ou(d);m instanceof Rn?l=m:!l&&m?l=new Rn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):l&&m&&l!==m&&(l=new Rn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),l}function vy(u){if(u===!0||u===!1)return!0;if(!Array.isArray(u)||u.length===0)return!1;switch(u[0]){case"has":return u.length>=2&&u[1]!=="$id"&&u[1]!=="$type";case"in":return u.length>=3&&(typeof u[1]!="string"||Array.isArray(u[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return u.length!==3||Array.isArray(u[1])||Array.isArray(u[2]);case"any":case"all":for(const l of u.slice(1))if(!vy(l)&&typeof l!="boolean")return!1;return!0;default:return!0}}const nT={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function by(u){if(u==null)return{filter:()=>!0,needGeometry:!1};vy(u)||(u=ip(u));const l=tp(u,nT);if(l.result==="error")throw new Error(l.value.map(d=>`${d.key}: ${d.message}`).join(", "));return{filter:(d,m,b)=>l.value.evaluate(d,m,{},b),needGeometry:Kx(u)}}function rT(u,l){return u<l?-1:u>l?1:0}function Kx(u){if(!Array.isArray(u))return!1;if(u[0]==="within")return!0;for(let l=1;l<u.length;l++)if(Kx(u[l]))return!0;return!1}function ip(u){if(!u)return!0;const l=u[0];return u.length<=1?l!=="any":l==="=="?xy(u[1],u[2],"=="):l==="!="?of(xy(u[1],u[2],"==")):l==="<"||l===">"||l==="<="||l===">="?xy(u[1],u[2],l):l==="any"?(d=u.slice(1),["any"].concat(d.map(ip))):l==="all"?["all"].concat(u.slice(1).map(ip)):l==="none"?["all"].concat(u.slice(1).map(ip).map(of)):l==="in"?Zx(u[1],u.slice(2)):l==="!in"?of(Zx(u[1],u.slice(2))):l==="has"?_y(u[1]):l==="!has"?of(_y(u[1])):l!=="within"||u;var d}function xy(u,l,d){switch(u){case"$type":return[`filter-type-${d}`,l];case"$id":return[`filter-id-${d}`,l];default:return[`filter-${d}`,u,l]}}function Zx(u,l){if(l.length===0)return!1;switch(u){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some(d=>typeof d!=typeof l[0])?["filter-in-large",u,["literal",l.sort(rT)]]:["filter-in-small",u,["literal",l]]}}function _y(u){switch(u){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",u]}}function of(u){return["!",u]}function Au(u){const l=typeof u;if(l==="number"||l==="boolean"||l==="string"||u==null)return JSON.stringify(u);if(Array.isArray(u)){let b="[";for(const C of u)b+=`${Au(C)},`;return`${b}]`}const d=Object.keys(u).sort();let m="{";for(let b=0;b<d.length;b++)m+=`${JSON.stringify(d[b])}:${Au(u[d[b]])},`;return`${m}}`}function iT(u){let l="";for(const d of $n)l+=`/${Au(u[d])}`;return l}function wy(u){const l=u.value;return l?[new Ue(u.key,l,"constants have been deprecated as of v8")]:[]}function Vr(u){return u instanceof Number||u instanceof String||u instanceof Boolean?u.valueOf():u}function Ks(u){if(Array.isArray(u))return u.map(Ks);if(u instanceof Object&&!(u instanceof Number||u instanceof String||u instanceof Boolean)){const l={};for(const d in u)l[d]=Ks(u[d]);return l}return Vr(u)}function oo(u){const l=u.key,d=u.value,m=u.valueSpec||{},b=u.objectElementValidators||{},C=u.style,T=u.styleSpec,R=u.validateSpec;let B=[];const W=on(d);if(W!=="object")return[new Ue(l,d,`object expected, ${W} found`)];for(const H in d){const Z=H.split(".")[0],Q=m[Z]||m["*"];let ie;if(b[Z])ie=b[Z];else if(m[Z])ie=R;else if(b["*"])ie=b["*"];else{if(!m["*"]){B.push(new Ue(l,d[H],`unknown property "${H}"`));continue}ie=R}B=B.concat(ie({key:(l&&`${l}.`)+H,value:d[H],valueSpec:Q,style:C,styleSpec:T,object:d,objectKey:H,validateSpec:R},d))}for(const H in m)b[H]||m[H].required&&m[H].default===void 0&&d[H]===void 0&&B.push(new Ue(l,d,`missing required property "${H}"`));return B}function af(u){const l=u.value,d=u.valueSpec,m=u.style,b=u.styleSpec,C=u.key,T=u.arrayElementValidator||u.validateSpec;if(on(l)!=="array")return[new Ue(C,l,`array expected, ${on(l)} found`)];if(d.length&&l.length!==d.length)return[new Ue(C,l,`array length ${d.length} expected, length ${l.length} found`)];if(d["min-length"]&&l.length<d["min-length"])return[new Ue(C,l,`array length at least ${d["min-length"]} expected, length ${l.length} found`)];let R={type:d.value,values:d.values};b.$version<7&&(R.function=d.function),on(d.value)==="object"&&(R=d.value);let B=[];for(let W=0;W<l.length;W++)B=B.concat(T({array:l,arrayIndex:W,value:l[W],valueSpec:R,validateSpec:u.validateSpec,style:m,styleSpec:b,key:`${C}[${W}]`}));return B}function sf(u){const l=u.key,d=u.value,m=u.valueSpec;let b=on(d);return b==="number"&&d!=d&&(b="NaN"),b!=="number"?[new Ue(l,d,`number expected, ${b} found`)]:"minimum"in m&&d<m.minimum?[new Ue(l,d,`${d} is less than the minimum value ${m.minimum}`)]:"maximum"in m&&d>m.maximum?[new Ue(l,d,`${d} is greater than the maximum value ${m.maximum}`)]:[]}function Sy(u){const l=u.valueSpec,d=Vr(u.value.type);let m,b,C,T={};const R=d!=="categorical"&&u.value.property===void 0,B=!R,W=on(u.value.stops)==="array"&&on(u.value.stops[0])==="array"&&on(u.value.stops[0][0])==="object",H=oo({key:u.key,value:u.value,valueSpec:u.styleSpec.function,validateSpec:u.validateSpec,style:u.style,styleSpec:u.styleSpec,objectElementValidators:{stops:function(ie){if(d==="identity")return[new Ue(ie.key,ie.value,'identity function may not have a "stops" property')];let oe=[];const ue=ie.value;return oe=oe.concat(af({key:ie.key,value:ue,valueSpec:ie.valueSpec,validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec,arrayElementValidator:Z})),on(ue)==="array"&&ue.length===0&&oe.push(new Ue(ie.key,ue,"array must have at least one stop")),oe},default:function(ie){return ie.validateSpec({key:ie.key,value:ie.value,valueSpec:l,validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec})}}});return d==="identity"&&R&&H.push(new Ue(u.key,u.value,'missing required property "property"')),d==="identity"||u.value.stops||H.push(new Ue(u.key,u.value,'missing required property "stops"')),d==="exponential"&&u.valueSpec.expression&&!py(u.valueSpec)&&H.push(new Ue(u.key,u.value,"exponential functions not supported")),u.styleSpec.$version>=8&&(B&&!Pu(u.valueSpec)?H.push(new Ue(u.key,u.value,"property functions not supported")):R&&!Yx(u.valueSpec)&&H.push(new Ue(u.key,u.value,"zoom functions not supported"))),d!=="categorical"&&!W||u.value.property!==void 0||H.push(new Ue(u.key,u.value,'"property" property is required')),H;function Z(ie){let oe=[];const ue=ie.value,ge=ie.key;if(on(ue)!=="array")return[new Ue(ge,ue,`array expected, ${on(ue)} found`)];if(ue.length!==2)return[new Ue(ge,ue,`array length 2 expected, length ${ue.length} found`)];if(W){if(on(ue[0])!=="object")return[new Ue(ge,ue,`object expected, ${on(ue[0])} found`)];if(ue[0].zoom===void 0)return[new Ue(ge,ue,"object stop key must have zoom")];if(ue[0].value===void 0)return[new Ue(ge,ue,"object stop key must have value")];if(C&&C>Vr(ue[0].zoom))return[new Ue(ge,ue[0].zoom,"stop zoom values must appear in ascending order")];Vr(ue[0].zoom)!==C&&(C=Vr(ue[0].zoom),b=void 0,T={}),oe=oe.concat(oo({key:`${ge}[0]`,value:ue[0],valueSpec:{zoom:{}},validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec,objectElementValidators:{zoom:sf,value:Q}}))}else oe=oe.concat(Q({key:`${ge}[0]`,value:ue[0],valueSpec:{},validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec},ue));return ep(Ks(ue[1]))?oe.concat([new Ue(`${ge}[1]`,ue[1],"expressions are not allowed in function stops.")]):oe.concat(ie.validateSpec({key:`${ge}[1]`,value:ue[1],valueSpec:l,validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec}))}function Q(ie,oe){const ue=on(ie.value),ge=Vr(ie.value),xe=ie.value!==null?ie.value:oe;if(m){if(ue!==m)return[new Ue(ie.key,xe,`${ue} stop domain type must match previous stop domain type ${m}`)]}else m=ue;if(ue!=="number"&&ue!=="string"&&ue!=="boolean")return[new Ue(ie.key,xe,"stop domain value must be a number, string, or boolean")];if(ue!=="number"&&d!=="categorical"){let Re=`number expected, ${ue} found`;return Pu(l)&&d===void 0&&(Re+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ue(ie.key,xe,Re)]}return d!=="categorical"||ue!=="number"||isFinite(ge)&&Math.floor(ge)===ge?d!=="categorical"&&ue==="number"&&b!==void 0&&ge<b?[new Ue(ie.key,xe,"stop domain values must appear in ascending order")]:(b=ge,d==="categorical"&&ge in T?[new Ue(ie.key,xe,"stop domain values must be unique")]:(T[ge]=!0,[])):[new Ue(ie.key,xe,`integer expected, found ${ge}`)]}}function Mu(u){const l=(u.expressionContext==="property"?yy:tp)(Ks(u.value),u.valueSpec);if(l.result==="error")return l.value.map(m=>new Ue(`${u.key}${m.key}`,u.value,m.message));const d=l.value.expression||l.value._styleExpression.expression;if(u.expressionContext==="property"&&u.propertyKey==="text-font"&&!d.outputDefined())return[new Ue(u.key,u.value,`Invalid data expression for "${u.propertyKey}". Output values must be contained as literals within the expression.`)];if(u.expressionContext==="property"&&u.propertyType==="layout"&&!nf(d))return[new Ue(u.key,u.value,'"feature-state" data expressions are not supported with layout properties.')];if(u.expressionContext==="filter"&&!nf(d))return[new Ue(u.key,u.value,'"feature-state" data expressions are not supported with filters.')];if(u.expressionContext&&u.expressionContext.indexOf("cluster")===0){if(!Cu(d,["zoom","feature-state"]))return[new Ue(u.key,u.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(u.expressionContext==="cluster-initial"&&!Vh(d))return[new Ue(u.key,u.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ml(u){const l=u.key,d=u.value,m=u.valueSpec,b=[];return Array.isArray(m.values)?m.values.indexOf(Vr(d))===-1&&b.push(new Ue(l,d,`expected one of [${m.values.join(", ")}], ${JSON.stringify(d)} found`)):Object.keys(m.values).indexOf(Vr(d))===-1&&b.push(new Ue(l,d,`expected one of [${Object.keys(m.values).join(", ")}], ${JSON.stringify(d)} found`)),b}function Cy(u){return vy(Ks(u.value))?Mu(un({},u,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Xx(u)}function Xx(u){const l=u.value,d=u.key;if(on(l)!=="array")return[new Ue(d,l,`array expected, ${on(l)} found`)];const m=u.styleSpec;let b,C=[];if(l.length<1)return[new Ue(d,l,"filter array must have at least 1 element")];switch(C=C.concat(Ml({key:`${d}[0]`,value:l[0],valueSpec:m.filter_operator,style:u.style,styleSpec:u.styleSpec})),Vr(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&Vr(l[1])==="$type"&&C.push(new Ue(d,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&C.push(new Ue(d,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(b=on(l[1]),b!=="string"&&C.push(new Ue(`${d}[1]`,l[1],`string expected, ${b} found`)));for(let T=2;T<l.length;T++)b=on(l[T]),Vr(l[1])==="$type"?C=C.concat(Ml({key:`${d}[${T}]`,value:l[T],valueSpec:m.geometry_type,style:u.style,styleSpec:u.styleSpec})):b!=="string"&&b!=="number"&&b!=="boolean"&&C.push(new Ue(`${d}[${T}]`,l[T],`string, number, or boolean expected, ${b} found`));break;case"any":case"all":case"none":for(let T=1;T<l.length;T++)C=C.concat(Xx({key:`${d}[${T}]`,value:l[T],style:u.style,styleSpec:u.styleSpec}));break;case"has":case"!has":b=on(l[1]),l.length!==2?C.push(new Ue(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):b!=="string"&&C.push(new Ue(`${d}[1]`,l[1],`string expected, ${b} found`));break;case"within":b=on(l[1]),l.length!==2?C.push(new Ue(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):b!=="object"&&C.push(new Ue(`${d}[1]`,l[1],`object expected, ${b} found`))}return C}function Jx(u,l){const d=u.key,m=u.validateSpec,b=u.style,C=u.styleSpec,T=u.value,R=u.objectKey,B=C[`${l}_${u.layerType}`];if(!B)return[];const W=R.match(/^(.*)-transition$/);if(l==="paint"&&W&&B[W[1]]&&B[W[1]].transition)return m({key:d,value:T,valueSpec:C.transition,style:b,styleSpec:C});const H=u.valueSpec||B[R];if(!H)return[new Ue(d,T,`unknown property "${R}"`)];let Z;if(on(T)==="string"&&Pu(H)&&!H.tokens&&(Z=/^{([^}]+)}$/.exec(T)))return[new Ue(d,T,`"${R}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Z[1])} }\`.`)];const Q=[];return u.layerType==="symbol"&&(R==="text-field"&&b&&!b.glyphs&&Q.push(new Ue(d,T,'use of "text-field" requires a style "glyphs" property')),R==="text-font"&&Xh(Ks(T))&&Vr(T.type)==="identity"&&Q.push(new Ue(d,T,'"text-font" does not support identity functions'))),Q.concat(m({key:u.key,value:T,valueSpec:H,style:b,styleSpec:C,expressionContext:"property",propertyType:l,propertyKey:R}))}function Qx(u){return Jx(u,"paint")}function e_(u){return Jx(u,"layout")}function lf(u){let l=[];const d=u.value,m=u.key,b=u.style,C=u.styleSpec;d.type||d.ref||l.push(new Ue(m,d,'either "type" or "ref" is required'));let T=Vr(d.type);const R=Vr(d.ref);if(d.id){const B=Vr(d.id);for(let W=0;W<u.arrayIndex;W++){const H=b.layers[W];Vr(H.id)===B&&l.push(new Ue(m,d.id,`duplicate layer id "${d.id}", previously used at line ${H.id.__line__}`))}}if("ref"in d){let B;["type","source","source-layer","filter","layout"].forEach(W=>{W in d&&l.push(new Ue(m,d[W],`"${W}" is prohibited for ref layers`))}),b.layers.forEach(W=>{Vr(W.id)===R&&(B=W)}),B?B.ref?l.push(new Ue(m,d.ref,"ref cannot reference another ref layer")):T=Vr(B.type):l.push(new Ue(m,d.ref,`ref layer "${R}" not found`))}else if(T!=="background")if(d.source){const B=b.sources&&b.sources[d.source],W=B&&Vr(B.type);B?W==="vector"&&T==="raster"?l.push(new Ue(m,d.source,`layer "${d.id}" requires a raster source`)):W!=="raster-dem"&&T==="hillshade"?l.push(new Ue(m,d.source,`layer "${d.id}" requires a raster-dem source`)):W==="raster"&&T!=="raster"?l.push(new Ue(m,d.source,`layer "${d.id}" requires a vector source`)):W!=="vector"||d["source-layer"]?W==="raster-dem"&&T!=="hillshade"?l.push(new Ue(m,d.source,"raster-dem source can only be used with layer type 'hillshade'.")):T!=="line"||!d.paint||!d.paint["line-gradient"]||W==="geojson"&&B.lineMetrics||l.push(new Ue(m,d,`layer "${d.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new Ue(m,d,`layer "${d.id}" must specify a "source-layer"`)):l.push(new Ue(m,d.source,`source "${d.source}" not found`))}else l.push(new Ue(m,d,'missing required property "source"'));return l=l.concat(oo({key:m,value:d,valueSpec:C.layer,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,objectElementValidators:{"*":()=>[],type:()=>u.validateSpec({key:`${m}.type`,value:d.type,valueSpec:C.layer.type,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,object:d,objectKey:"type"}),filter:Cy,layout:B=>oo({layer:d,key:B.key,value:B.value,style:B.style,styleSpec:B.styleSpec,validateSpec:B.validateSpec,objectElementValidators:{"*":W=>e_(un({layerType:T},W))}}),paint:B=>oo({layer:d,key:B.key,value:B.value,style:B.style,styleSpec:B.styleSpec,validateSpec:B.validateSpec,objectElementValidators:{"*":W=>Qx(un({layerType:T},W))}})}})),l}function ls(u){const l=u.value,d=u.key,m=on(l);return m!=="string"?[new Ue(d,l,`string expected, ${m} found`)]:[]}const Ho={promoteId:function({key:u,value:l}){if(on(l)==="string")return ls({key:u,value:l});{const d=[];for(const m in l)d.push(...ls({key:`${u}.${m}`,value:l[m]}));return d}}};function cf(u){const l=u.value,d=u.key,m=u.styleSpec,b=u.style,C=u.validateSpec;if(!l.type)return[new Ue(d,l,'"type" is required')];const T=Vr(l.type);let R;switch(T){case"vector":case"raster":return R=oo({key:d,value:l,valueSpec:m[`source_${T.replace("-","_")}`],style:u.style,styleSpec:m,objectElementValidators:Ho,validateSpec:C}),R;case"raster-dem":return R=function(B){var W;const H=(W=B.sourceName)!==null&&W!==void 0?W:"",Z=B.value,Q=B.styleSpec,ie=Q.source_raster_dem,oe=B.style;let ue=[];const ge=on(Z);if(Z===void 0)return ue;if(ge!=="object")return ue.push(new Ue("source_raster_dem",Z,`object expected, ${ge} found`)),ue;const xe=Vr(Z.encoding)==="custom",Re=["redFactor","greenFactor","blueFactor","baseShift"],Te=B.value.encoding?`"${B.value.encoding}"`:"Default";for(const Le in Z)!xe&&Re.includes(Le)?ue.push(new Ue(Le,Z[Le],`In "${H}": "${Le}" is only valid when "encoding" is set to "custom". ${Te} encoding found`)):ie[Le]?ue=ue.concat(B.validateSpec({key:Le,value:Z[Le],valueSpec:ie[Le],validateSpec:B.validateSpec,style:oe,styleSpec:Q})):ue.push(new Ue(Le,Z[Le],`unknown property "${Le}"`));return ue}({sourceName:d,value:l,style:u.style,styleSpec:m,validateSpec:C}),R;case"geojson":if(R=oo({key:d,value:l,valueSpec:m.source_geojson,style:b,styleSpec:m,validateSpec:C,objectElementValidators:Ho}),l.cluster)for(const B in l.clusterProperties){const[W,H]=l.clusterProperties[B],Z=typeof W=="string"?[W,["accumulated"],["get",B]]:W;R.push(...Mu({key:`${d}.${B}.map`,value:H,validateSpec:C,expressionContext:"cluster-map"})),R.push(...Mu({key:`${d}.${B}.reduce`,value:Z,validateSpec:C,expressionContext:"cluster-reduce"}))}return R;case"video":return oo({key:d,value:l,valueSpec:m.source_video,style:b,validateSpec:C,styleSpec:m});case"image":return oo({key:d,value:l,valueSpec:m.source_image,style:b,validateSpec:C,styleSpec:m});case"canvas":return[new Ue(d,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ml({key:`${d}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:b,validateSpec:C,styleSpec:m})}}function t_(u){const l=u.value,d=u.styleSpec,m=d.light,b=u.style;let C=[];const T=on(l);if(l===void 0)return C;if(T!=="object")return C=C.concat([new Ue("light",l,`object expected, ${T} found`)]),C;for(const R in l){const B=R.match(/^(.*)-transition$/);C=C.concat(B&&m[B[1]]&&m[B[1]].transition?u.validateSpec({key:R,value:l[R],valueSpec:d.transition,validateSpec:u.validateSpec,style:b,styleSpec:d}):m[R]?u.validateSpec({key:R,value:l[R],valueSpec:m[R],validateSpec:u.validateSpec,style:b,styleSpec:d}):[new Ue(R,l[R],`unknown property "${R}"`)])}return C}function n_(u){const l=u.value,d=u.styleSpec,m=d.terrain,b=u.style;let C=[];const T=on(l);if(l===void 0)return C;if(T!=="object")return C=C.concat([new Ue("terrain",l,`object expected, ${T} found`)]),C;for(const R in l)C=C.concat(m[R]?u.validateSpec({key:R,value:l[R],valueSpec:m[R],validateSpec:u.validateSpec,style:b,styleSpec:d}):[new Ue(R,l[R],`unknown property "${R}"`)]);return C}function r_(u){let l=[];const d=u.value,m=u.key;if(Array.isArray(d)){const b=[],C=[];for(const T in d)d[T].id&&b.includes(d[T].id)&&l.push(new Ue(m,d,`all the sprites' ids must be unique, but ${d[T].id} is duplicated`)),b.push(d[T].id),d[T].url&&C.includes(d[T].url)&&l.push(new Ue(m,d,`all the sprites' URLs must be unique, but ${d[T].url} is duplicated`)),C.push(d[T].url),l=l.concat(oo({key:`${m}[${T}]`,value:d[T],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:u.validateSpec}));return l}return ls({key:m,value:d})}const Iu={"*":()=>[],array:af,boolean:function(u){const l=u.value,d=u.key,m=on(l);return m!=="boolean"?[new Ue(d,l,`boolean expected, ${m} found`)]:[]},number:sf,color:function(u){const l=u.key,d=u.value,m=on(d);return m!=="string"?[new Ue(l,d,`color expected, ${m} found`)]:Jn.parse(String(d))?[]:[new Ue(l,d,`color expected, "${d}" found`)]},constants:wy,enum:Ml,filter:Cy,function:Sy,layer:lf,object:oo,source:cf,light:t_,terrain:n_,string:ls,formatted:function(u){return ls(u).length===0?[]:Mu(u)},resolvedImage:function(u){return ls(u).length===0?[]:Mu(u)},padding:function(u){const l=u.key,d=u.value;if(on(d)==="array"){if(d.length<1||d.length>4)return[new Ue(l,d,`padding requires 1 to 4 values; ${d.length} values found`)];const m={type:"number"};let b=[];for(let C=0;C<d.length;C++)b=b.concat(u.validateSpec({key:`${l}[${C}]`,value:d[C],validateSpec:u.validateSpec,valueSpec:m}));return b}return sf({key:l,value:d,valueSpec:{}})},variableAnchorOffsetCollection:function(u){const l=u.key,d=u.value,m=on(d),b=u.styleSpec;if(m!=="array"||d.length<1||d.length%2!=0)return[new Ue(l,d,"variableAnchorOffsetCollection requires a non-empty array of even length")];let C=[];for(let T=0;T<d.length;T+=2)C=C.concat(Ml({key:`${l}[${T}]`,value:d[T],valueSpec:b.layout_symbol["text-anchor"]})),C=C.concat(af({key:`${l}[${T+1}]`,value:d[T+1],valueSpec:{length:2,value:"number"},validateSpec:u.validateSpec,style:u.style,styleSpec:b}));return C},sprite:r_};function uf(u){const l=u.value,d=u.valueSpec,m=u.styleSpec;return u.validateSpec=uf,d.expression&&Xh(Vr(l))?Sy(u):d.expression&&ep(Ks(l))?Mu(u):d.type&&Iu[d.type]?Iu[d.type](u):oo(un({},u,{valueSpec:d.type?m[d.type]:d}))}function op(u){const l=u.value,d=u.key,m=ls(u);return m.length||(l.indexOf("{fontstack}")===-1&&m.push(new Ue(d,l,'"glyphs" url must include a "{fontstack}" token')),l.indexOf("{range}")===-1&&m.push(new Ue(d,l,'"glyphs" url must include a "{range}" token'))),m}function cs(u,l=Ne){let d=[];return d=d.concat(uf({key:"",value:u,valueSpec:l.$root,styleSpec:l,style:u,validateSpec:uf,objectElementValidators:{glyphs:op,"*":()=>[]}})),u.constants&&(d=d.concat(wy({key:"constants",value:u.constants,style:u,styleSpec:l,validateSpec:uf}))),i_(d)}function Ma(u){return function(l){return u({...l,validateSpec:uf})}}function i_(u){return[].concat(u).sort((l,d)=>l.line-d.line)}function Yo(u){return function(...l){return i_(u.apply(this,l))}}cs.source=Yo(Ma(cf)),cs.sprite=Yo(Ma(r_)),cs.glyphs=Yo(Ma(op)),cs.light=Yo(Ma(t_)),cs.terrain=Yo(Ma(n_)),cs.layer=Yo(Ma(lf)),cs.filter=Yo(Ma(Cy)),cs.paintProperty=Yo(Ma(Qx)),cs.layoutProperty=Yo(Ma(e_));const df=cs,Ey=df.light,o_=df.paintProperty,Ty=df.layoutProperty;function ky(u,l){let d=!1;if(l&&l.length)for(const m of l)u.fire(new rr(new Error(m.message))),d=!0;return d}class $u{constructor(l,d,m){const b=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;const T=new Int32Array(this.arrayBuffer);l=T[0],this.d=(d=T[1])+2*(m=T[2]);for(let B=0;B<this.d*this.d;B++){const W=T[3+B],H=T[3+B+1];b.push(W===H?null:T.subarray(W,H))}const R=T[3+b.length+1];this.keys=T.subarray(T[3+b.length],R),this.bboxes=T.subarray(R),this.insert=this._insertReadonly}else{this.d=d+2*m;for(let T=0;T<this.d*this.d;T++)b.push([]);this.keys=[],this.bboxes=[]}this.n=d,this.extent=l,this.padding=m,this.scale=d/l,this.uid=0;const C=m/d*l;this.min=-C,this.max=l+C}insert(l,d,m,b,C){this._forEachCell(d,m,b,C,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(d),this.bboxes.push(m),this.bboxes.push(b),this.bboxes.push(C)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,d,m,b,C,T){this.cells[C].push(T)}query(l,d,m,b,C){const T=this.min,R=this.max;if(l<=T&&d<=T&&R<=m&&R<=b&&!C)return Array.prototype.slice.call(this.keys);{const B=[];return this._forEachCell(l,d,m,b,this._queryCell,B,{},C),B}}_queryCell(l,d,m,b,C,T,R,B){const W=this.cells[C];if(W!==null){const H=this.keys,Z=this.bboxes;for(let Q=0;Q<W.length;Q++){const ie=W[Q];if(R[ie]===void 0){const oe=4*ie;(B?B(Z[oe+0],Z[oe+1],Z[oe+2],Z[oe+3]):l<=Z[oe+2]&&d<=Z[oe+3]&&m>=Z[oe+0]&&b>=Z[oe+1])?(R[ie]=!0,T.push(H[ie])):R[ie]=!1}}}}_forEachCell(l,d,m,b,C,T,R,B){const W=this._convertToCellCoord(l),H=this._convertToCellCoord(d),Z=this._convertToCellCoord(m),Q=this._convertToCellCoord(b);for(let ie=W;ie<=Z;ie++)for(let oe=H;oe<=Q;oe++){const ue=this.d*oe+ie;if((!B||B(this._convertFromCellCoord(ie),this._convertFromCellCoord(oe),this._convertFromCellCoord(ie+1),this._convertFromCellCoord(oe+1)))&&C.call(this,l,d,m,b,ue,T,R,B))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const l=this.cells,d=3+this.cells.length+1+1;let m=0;for(let T=0;T<this.cells.length;T++)m+=this.cells[T].length;const b=new Int32Array(d+m+this.keys.length+this.bboxes.length);b[0]=this.extent,b[1]=this.n,b[2]=this.padding;let C=d;for(let T=0;T<l.length;T++){const R=l[T];b[3+T]=C,b.set(R,C),C+=R.length}return b[3+l.length]=C,b.set(this.keys,C),C+=this.keys.length,b[3+l.length+1]=C,b.set(this.bboxes,C),C+=this.bboxes.length,b.buffer}static serialize(l,d){const m=l.toArrayBuffer();return d&&d.push(m),{buffer:m}}static deserialize(l){return new $u(l.buffer)}}const Il={};function kt(u,l,d={}){if(Il[u])throw new Error(`${u} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:u,writeable:!1}),Il[u]={klass:l,omit:d.omit||[],shallow:d.shallow||[]}}kt("Object",Object),kt("TransferableGridIndex",$u),kt("Color",Jn),kt("Error",Error),kt("AJAXError",He),kt("ResolvedImage",_o),kt("StylePropertyFunction",rf),kt("StyleExpression",gy,{omit:["_evaluator"]}),kt("ZoomDependentExpression",rp),kt("ZoomConstantExpression",np),kt("CompoundExpression",pa,{omit:["_evaluate"]});for(const u in Tu)Tu[u]._classRegistryKey||kt(`Expression_${u}`,Tu[u]);function ff(u){return u&&typeof ArrayBuffer<"u"&&(u instanceof ArrayBuffer||u.constructor&&u.constructor.name==="ArrayBuffer")}function Ru(u,l){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob)return u;if(ff(u)||We(u))return l&&l.push(u),u;if(ArrayBuffer.isView(u)){const d=u;return l&&l.push(d.buffer),d}if(u instanceof ImageData)return l&&l.push(u.data.buffer),u;if(Array.isArray(u)){const d=[];for(const m of u)d.push(Ru(m,l));return d}if(typeof u=="object"){const d=u.constructor,m=d._classRegistryKey;if(!m)throw new Error("can't serialize object of unregistered class");if(!Il[m])throw new Error(`${m} is not registered.`);const b=d.serialize?d.serialize(u,l):{};if(d.serialize){if(l&&b===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const C in u){if(!u.hasOwnProperty(C)||Il[m].omit.indexOf(C)>=0)continue;const T=u[C];b[C]=Il[m].shallow.indexOf(C)>=0?T:Ru(T,l)}u instanceof Error&&(b.message=u.message)}if(b.$name)throw new Error("$name property is reserved for worker serialization logic.");return m!=="Object"&&(b.$name=m),b}throw new Error("can't serialize object of type "+typeof u)}function hf(u){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob||ff(u)||We(u)||ArrayBuffer.isView(u)||u instanceof ImageData)return u;if(Array.isArray(u))return u.map(hf);if(typeof u=="object"){const l=u.$name||"Object";if(!Il[l])throw new Error(`can't deserialize unregistered class ${l}`);const{klass:d}=Il[l];if(!d)throw new Error(`can't deserialize unregistered class ${l}`);if(d.deserialize)return d.deserialize(u);const m=Object.create(d.prototype);for(const b of Object.keys(u)){if(b==="$name")continue;const C=u[b];m[b]=Il[l].shallow.indexOf(b)>=0?C:hf(C)}return m}throw new Error("can't deserialize object of type "+typeof u)}class Py{constructor(){this.first=!0}update(l,d){const m=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=m,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=m,!0):(this.lastFloorZoom>m?(this.lastIntegerZoom=m+1,this.lastIntegerZoomTime=d):this.lastFloorZoom<m&&(this.lastIntegerZoom=m,this.lastIntegerZoomTime=d),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=m,!0))}}const St={"Latin-1 Supplement":u=>u>=128&&u<=255,Arabic:u=>u>=1536&&u<=1791,"Arabic Supplement":u=>u>=1872&&u<=1919,"Arabic Extended-A":u=>u>=2208&&u<=2303,"Hangul Jamo":u=>u>=4352&&u<=4607,"Unified Canadian Aboriginal Syllabics":u=>u>=5120&&u<=5759,Khmer:u=>u>=6016&&u<=6143,"Unified Canadian Aboriginal Syllabics Extended":u=>u>=6320&&u<=6399,"General Punctuation":u=>u>=8192&&u<=8303,"Letterlike Symbols":u=>u>=8448&&u<=8527,"Number Forms":u=>u>=8528&&u<=8591,"Miscellaneous Technical":u=>u>=8960&&u<=9215,"Control Pictures":u=>u>=9216&&u<=9279,"Optical Character Recognition":u=>u>=9280&&u<=9311,"Enclosed Alphanumerics":u=>u>=9312&&u<=9471,"Geometric Shapes":u=>u>=9632&&u<=9727,"Miscellaneous Symbols":u=>u>=9728&&u<=9983,"Miscellaneous Symbols and Arrows":u=>u>=11008&&u<=11263,"CJK Radicals Supplement":u=>u>=11904&&u<=12031,"Kangxi Radicals":u=>u>=12032&&u<=12255,"Ideographic Description Characters":u=>u>=12272&&u<=12287,"CJK Symbols and Punctuation":u=>u>=12288&&u<=12351,Hiragana:u=>u>=12352&&u<=12447,Katakana:u=>u>=12448&&u<=12543,Bopomofo:u=>u>=12544&&u<=12591,"Hangul Compatibility Jamo":u=>u>=12592&&u<=12687,Kanbun:u=>u>=12688&&u<=12703,"Bopomofo Extended":u=>u>=12704&&u<=12735,"CJK Strokes":u=>u>=12736&&u<=12783,"Katakana Phonetic Extensions":u=>u>=12784&&u<=12799,"Enclosed CJK Letters and Months":u=>u>=12800&&u<=13055,"CJK Compatibility":u=>u>=13056&&u<=13311,"CJK Unified Ideographs Extension A":u=>u>=13312&&u<=19903,"Yijing Hexagram Symbols":u=>u>=19904&&u<=19967,"CJK Unified Ideographs":u=>u>=19968&&u<=40959,"Yi Syllables":u=>u>=40960&&u<=42127,"Yi Radicals":u=>u>=42128&&u<=42191,"Hangul Jamo Extended-A":u=>u>=43360&&u<=43391,"Hangul Syllables":u=>u>=44032&&u<=55215,"Hangul Jamo Extended-B":u=>u>=55216&&u<=55295,"Private Use Area":u=>u>=57344&&u<=63743,"CJK Compatibility Ideographs":u=>u>=63744&&u<=64255,"Arabic Presentation Forms-A":u=>u>=64336&&u<=65023,"Vertical Forms":u=>u>=65040&&u<=65055,"CJK Compatibility Forms":u=>u>=65072&&u<=65103,"Small Form Variants":u=>u>=65104&&u<=65135,"Arabic Presentation Forms-B":u=>u>=65136&&u<=65279,"Halfwidth and Fullwidth Forms":u=>u>=65280&&u<=65519};function pf(u){for(const l of u)if(Oy(l.charCodeAt(0)))return!0;return!1}function oT(u){for(const l of u)if(!aT(l.charCodeAt(0)))return!1;return!0}function aT(u){return!(St.Arabic(u)||St["Arabic Supplement"](u)||St["Arabic Extended-A"](u)||St["Arabic Presentation Forms-A"](u)||St["Arabic Presentation Forms-B"](u))}function Oy(u){return!(u!==746&&u!==747&&(u<4352||!(St["Bopomofo Extended"](u)||St.Bopomofo(u)||St["CJK Compatibility Forms"](u)&&!(u>=65097&&u<=65103)||St["CJK Compatibility Ideographs"](u)||St["CJK Compatibility"](u)||St["CJK Radicals Supplement"](u)||St["CJK Strokes"](u)||!(!St["CJK Symbols and Punctuation"](u)||u>=12296&&u<=12305||u>=12308&&u<=12319||u===12336)||St["CJK Unified Ideographs Extension A"](u)||St["CJK Unified Ideographs"](u)||St["Enclosed CJK Letters and Months"](u)||St["Hangul Compatibility Jamo"](u)||St["Hangul Jamo Extended-A"](u)||St["Hangul Jamo Extended-B"](u)||St["Hangul Jamo"](u)||St["Hangul Syllables"](u)||St.Hiragana(u)||St["Ideographic Description Characters"](u)||St.Kanbun(u)||St["Kangxi Radicals"](u)||St["Katakana Phonetic Extensions"](u)||St.Katakana(u)&&u!==12540||!(!St["Halfwidth and Fullwidth Forms"](u)||u===65288||u===65289||u===65293||u>=65306&&u<=65310||u===65339||u===65341||u===65343||u>=65371&&u<=65503||u===65507||u>=65512&&u<=65519)||!(!St["Small Form Variants"](u)||u>=65112&&u<=65118||u>=65123&&u<=65126)||St["Unified Canadian Aboriginal Syllabics"](u)||St["Unified Canadian Aboriginal Syllabics Extended"](u)||St["Vertical Forms"](u)||St["Yijing Hexagram Symbols"](u)||St["Yi Syllables"](u)||St["Yi Radicals"](u))))}function a_(u){return!(Oy(u)||function(l){return!!(St["Latin-1 Supplement"](l)&&(l===167||l===169||l===174||l===177||l===188||l===189||l===190||l===215||l===247)||St["General Punctuation"](l)&&(l===8214||l===8224||l===8225||l===8240||l===8241||l===8251||l===8252||l===8258||l===8263||l===8264||l===8265||l===8273)||St["Letterlike Symbols"](l)||St["Number Forms"](l)||St["Miscellaneous Technical"](l)&&(l>=8960&&l<=8967||l>=8972&&l<=8991||l>=8996&&l<=9e3||l===9003||l>=9085&&l<=9114||l>=9150&&l<=9165||l===9167||l>=9169&&l<=9179||l>=9186&&l<=9215)||St["Control Pictures"](l)&&l!==9251||St["Optical Character Recognition"](l)||St["Enclosed Alphanumerics"](l)||St["Geometric Shapes"](l)||St["Miscellaneous Symbols"](l)&&!(l>=9754&&l<=9759)||St["Miscellaneous Symbols and Arrows"](l)&&(l>=11026&&l<=11055||l>=11088&&l<=11097||l>=11192&&l<=11243)||St["CJK Symbols and Punctuation"](l)||St.Katakana(l)||St["Private Use Area"](l)||St["CJK Compatibility Forms"](l)||St["Small Form Variants"](l)||St["Halfwidth and Fullwidth Forms"](l)||l===8734||l===8756||l===8757||l>=9984&&l<=10087||l>=10102&&l<=10131||l===65532||l===65533)}(u))}function Ay(u){return u>=1424&&u<=2303||St["Arabic Presentation Forms-A"](u)||St["Arabic Presentation Forms-B"](u)}function sT(u,l){return!(!l&&Ay(u)||u>=2304&&u<=3583||u>=3840&&u<=4255||St.Khmer(u))}function lT(u){for(const l of u)if(Ay(l.charCodeAt(0)))return!0;return!1}const My="deferred",Iy="loading",$y="loaded";let Ry=null,wo="unavailable",Ia=null;const s_=function(u){u&&typeof u=="string"&&u.indexOf("NetworkError")>-1&&(wo="error"),Ry&&Ry(u)};function mf(){Dy.fire(new _n("pluginStateChange",{pluginStatus:wo,pluginURL:Ia}))}const Dy=new Tn,Ly=function(){return wo},Ny=function(){if(wo!==My||!Ia)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");wo=Iy,mf(),Ia&&Tt({url:Ia},u=>{u?s_(u):(wo=$y,mf())})},Ko={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>wo===$y||Ko.applyArabicShaping!=null,isLoading:()=>wo===Iy,setState(u){if(!Ee())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");wo=u.pluginStatus,Ia=u.pluginURL},isParsed(){if(!Ee())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return Ko.applyArabicShaping!=null&&Ko.processBidirectionalText!=null&&Ko.processStyledBidirectionalText!=null},getPluginURL(){if(!Ee())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return Ia}};class kr{constructor(l,d){this.zoom=l,d?(this.now=d.now,this.fadeDuration=d.fadeDuration,this.zoomHistory=d.zoomHistory,this.transition=d.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Py,this.transition={})}isSupportedScript(l){return function(d,m){for(const b of d)if(!sT(b.charCodeAt(0),m))return!1;return!0}(l,Ko.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const l=this.zoom,d=l-Math.floor(l),m=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:d+(1-d)*m}:{fromScale:.5,toScale:1,t:1-(1-m)*d}}}class ap{constructor(l,d){this.property=l,this.value=d,this.expression=function(m,b){if(Xh(m))return new rf(m,b);if(ep(m)){const C=yy(m,b);if(C.result==="error")throw new Error(C.value.map(T=>`${T.key}: ${T.message}`).join(", "));return C.value}{let C=m;return b.type==="color"&&typeof m=="string"?C=Jn.parse(m):b.type!=="padding"||typeof m!="number"&&!Array.isArray(m)?b.type==="variableAnchorOffsetCollection"&&Array.isArray(m)&&(C=Ri.parse(m)):C=Wo.parse(m),{kind:"constant",evaluate:()=>C}}}(d===void 0?l.specification.default:d,l.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(l,d,m){return this.property.possiblyEvaluate(this,l,d,m)}}class zy{constructor(l){this.property=l,this.value=new ap(l,void 0)}transitioned(l,d){return new c_(this.property,this.value,d,G({},l.transition,this.transition),l.now)}untransitioned(){return new c_(this.property,this.value,null,{},0)}}class l_{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues)}getValue(l){return pe(this._values[l].value.value)}setValue(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new zy(this._values[l].property)),this._values[l].value=new ap(this._values[l].property,d===null?void 0:pe(d))}getTransition(l){return pe(this._values[l].transition)}setTransition(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new zy(this._values[l].property)),this._values[l].transition=pe(d)||void 0}serialize(){const l={};for(const d of Object.keys(this._values)){const m=this.getValue(d);m!==void 0&&(l[d]=m);const b=this.getTransition(d);b!==void 0&&(l[`${d}-transition`]=b)}return l}transitioned(l,d){const m=new u_(this._properties);for(const b of Object.keys(this._values))m._values[b]=this._values[b].transitioned(l,d._values[b]);return m}untransitioned(){const l=new u_(this._properties);for(const d of Object.keys(this._values))l._values[d]=this._values[d].untransitioned();return l}}class c_{constructor(l,d,m,b,C){this.property=l,this.value=d,this.begin=C+b.delay||0,this.end=this.begin+b.duration||0,l.specification.transition&&(b.delay||b.duration)&&(this.prior=m)}possiblyEvaluate(l,d,m){const b=l.now||0,C=this.value.possiblyEvaluate(l,d,m),T=this.prior;if(T){if(b>this.end)return this.prior=null,C;if(this.value.isDataDriven())return this.prior=null,C;if(b<this.begin)return T.possiblyEvaluate(l,d,m);{const R=(b-this.begin)/(this.end-this.begin);return this.property.interpolate(T.possiblyEvaluate(l,d,m),C,function(B){if(B<=0)return 0;if(B>=1)return 1;const W=B*B,H=W*B;return 4*(B<.5?H:3*(B-W)+H-.75)}(R))}}return C}}class u_{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,d,m){const b=new sp(this._properties);for(const C of Object.keys(this._values))b._values[C]=this._values[C].possiblyEvaluate(l,d,m);return b}hasTransition(){for(const l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class Du{constructor(l){this._properties=l,this._values=Object.create(l.defaultPropertyValues)}hasValue(l){return this._values[l].value!==void 0}getValue(l){return pe(this._values[l].value)}setValue(l,d){this._values[l]=new ap(this._values[l].property,d===null?void 0:pe(d))}serialize(){const l={};for(const d of Object.keys(this._values)){const m=this.getValue(d);m!==void 0&&(l[d]=m)}return l}possiblyEvaluate(l,d,m){const b=new sp(this._properties);for(const C of Object.keys(this._values))b._values[C]=this._values[C].possiblyEvaluate(l,d,m);return b}}class us{constructor(l,d,m){this.property=l,this.value=d,this.parameters=m}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,d,m,b){return this.property.evaluate(this.value,this.parameters,l,d,m,b)}}class sp{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class Bt{constructor(l){this.specification=l}possiblyEvaluate(l,d){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(d)}interpolate(l,d,m){const b=qo[this.specification.type];return b?b(l,d,m):l}}class Zt{constructor(l,d){this.specification=l,this.overrides=d}possiblyEvaluate(l,d,m,b){return new us(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(d,null,{},m,b)}:l.expression,d)}interpolate(l,d,m){if(l.value.kind!=="constant"||d.value.kind!=="constant")return l;if(l.value.value===void 0||d.value.value===void 0)return new us(this,{kind:"constant",value:void 0},l.parameters);const b=qo[this.specification.type];if(b){const C=b(l.value.value,d.value.value,m);return new us(this,{kind:"constant",value:C},l.parameters)}return l}evaluate(l,d,m,b,C,T){return l.kind==="constant"?l.value:l.evaluate(d,m,b,C,T)}}class lp extends Zt{possiblyEvaluate(l,d,m,b){if(l.value===void 0)return new us(this,{kind:"constant",value:void 0},d);if(l.expression.kind==="constant"){const C=l.expression.evaluate(d,null,{},m,b),T=l.property.specification.type==="resolvedImage"&&typeof C!="string"?C.name:C,R=this._calculate(T,T,T,d);return new us(this,{kind:"constant",value:R},d)}if(l.expression.kind==="camera"){const C=this._calculate(l.expression.evaluate({zoom:d.zoom-1}),l.expression.evaluate({zoom:d.zoom}),l.expression.evaluate({zoom:d.zoom+1}),d);return new us(this,{kind:"constant",value:C},d)}return new us(this,l.expression,d)}evaluate(l,d,m,b,C,T){if(l.kind==="source"){const R=l.evaluate(d,m,b,C,T);return this._calculate(R,R,R,d)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(d.zoom)-1},m,b),l.evaluate({zoom:Math.floor(d.zoom)},m,b),l.evaluate({zoom:Math.floor(d.zoom)+1},m,b),d):l.value}_calculate(l,d,m,b){return b.zoom>b.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:m,to:d}}interpolate(l){return l}}class jy{constructor(l){this.specification=l}possiblyEvaluate(l,d,m,b){if(l.value!==void 0){if(l.expression.kind==="constant"){const C=l.expression.evaluate(d,null,{},m,b);return this._calculate(C,C,C,d)}return this._calculate(l.expression.evaluate(new kr(Math.floor(d.zoom-1),d)),l.expression.evaluate(new kr(Math.floor(d.zoom),d)),l.expression.evaluate(new kr(Math.floor(d.zoom+1),d)),d)}}_calculate(l,d,m,b){return b.zoom>b.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:m,to:d}}interpolate(l){return l}}class ds{constructor(l){this.specification=l}possiblyEvaluate(l,d,m,b){return!!l.expression.evaluate(d,null,{},m,b)}interpolate(){return!1}}class ao{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const d in l){const m=l[d];m.specification.overridable&&this.overridableProperties.push(d);const b=this.defaultPropertyValues[d]=new ap(m,void 0),C=this.defaultTransitionablePropertyValues[d]=new zy(m);this.defaultTransitioningPropertyValues[d]=C.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=b.possiblyEvaluate({})}}}kt("DataDrivenProperty",Zt),kt("DataConstantProperty",Bt),kt("CrossFadedDataDrivenProperty",lp),kt("CrossFadedProperty",jy),kt("ColorRampProperty",ds);const cp="-transition";class $a extends Tn{constructor(l,d){if(super(),this.id=l.id,this.type=l.type,this._featureFilter={filter:()=>!0,needGeometry:!1},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter),d.layout&&(this._unevaluatedLayout=new Du(d.layout)),d.paint)){this._transitionablePaint=new l_(d.paint);for(const m in l.paint)this.setPaintProperty(m,l.paint[m],{validate:!1});for(const m in l.layout)this.setLayoutProperty(m,l.layout[m],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new sp(d.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}setLayoutProperty(l,d,m={}){d!=null&&this._validate(Ty,`layers.${this.id}.layout.${l}`,l,d,m)||(l!=="visibility"?this._unevaluatedLayout.setValue(l,d):this.visibility=d)}getPaintProperty(l){return l.endsWith(cp)?this._transitionablePaint.getTransition(l.slice(0,-11)):this._transitionablePaint.getValue(l)}setPaintProperty(l,d,m={}){if(d!=null&&this._validate(o_,`layers.${this.id}.paint.${l}`,l,d,m))return!1;if(l.endsWith(cp))return this._transitionablePaint.setTransition(l.slice(0,-11),d||void 0),!1;{const b=this._transitionablePaint._values[l],C=b.property.specification["property-type"]==="cross-faded-data-driven",T=b.value.isDataDriven(),R=b.value;this._transitionablePaint.setValue(l,d),this._handleSpecialPaintPropertyUpdate(l);const B=this._transitionablePaint._values[l].value;return B.isDataDriven()||T||C||this._handleOverridablePaintPropertyUpdate(l,R,B)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,d,m){return!1}isHidden(l){return!!(this.minzoom&&l<this.minzoom)||!!(this.maxzoom&&l>=this.maxzoom)||this.visibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(l,d){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,d)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,d)}serialize(){const l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),ae(l,(d,m)=>!(d===void 0||m==="layout"&&!Object.keys(d).length||m==="paint"&&!Object.keys(d).length))}_validate(l,d,m,b,C={}){return(!C||C.validate!==!1)&&ky(this,l.call(df,{key:d,layerType:this.type,objectKey:m,value:b,styleSpec:Ne,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const l in this.paint._values){const d=this.paint.get(l);if(d instanceof us&&Pu(d.property.specification)&&(d.value.kind==="source"||d.value.kind==="composite")&&d.value.isStateDependent)return!0}return!1}}const By={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class gf{constructor(l,d){this._structArray=l,this._pos1=d*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class xr{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,d){return l._trim(),d&&(l.isTransferred=!0,d.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){const d=Object.create(this.prototype);return d.arrayBuffer=l.arrayBuffer,d.length=l.length,d.capacity=l.arrayBuffer.byteLength/d.bytesPerElement,d._refreshViews(),d}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const d=this.uint8;this._refreshViews(),d&&this.uint8.set(d)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Pr(u,l=1){let d=0,m=0;return{members:u.map(b=>{const C=By[b.type].BYTES_PER_ELEMENT,T=d=d_(d,Math.max(l,C)),R=b.components||1;return m=Math.max(m,C),d+=C*R,{name:b.name,type:b.type,components:R,offset:T}}),size:d_(d,Math.max(m,l)),alignment:l}}function d_(u,l){return Math.ceil(u/l)*l}class Lu extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d){const m=this.length;return this.resize(m+1),this.emplace(m,l,d)}emplace(l,d,m){const b=2*l;return this.int16[b+0]=d,this.int16[b+1]=m,l}}Lu.prototype.bytesPerElement=4,kt("StructArrayLayout2i4",Lu);class $l extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m){const b=this.length;return this.resize(b+1),this.emplace(b,l,d,m)}emplace(l,d,m,b){const C=3*l;return this.int16[C+0]=d,this.int16[C+1]=m,this.int16[C+2]=b,l}}$l.prototype.bytesPerElement=6,kt("StructArrayLayout3i6",$l);class Fy extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,b){const C=this.length;return this.resize(C+1),this.emplace(C,l,d,m,b)}emplace(l,d,m,b,C){const T=4*l;return this.int16[T+0]=d,this.int16[T+1]=m,this.int16[T+2]=b,this.int16[T+3]=C,l}}Fy.prototype.bytesPerElement=8,kt("StructArrayLayout4i8",Fy);class Uy extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,C,T){const R=this.length;return this.resize(R+1),this.emplace(R,l,d,m,b,C,T)}emplace(l,d,m,b,C,T,R){const B=6*l;return this.int16[B+0]=d,this.int16[B+1]=m,this.int16[B+2]=b,this.int16[B+3]=C,this.int16[B+4]=T,this.int16[B+5]=R,l}}Uy.prototype.bytesPerElement=12,kt("StructArrayLayout2i4i12",Uy);class up extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,C,T){const R=this.length;return this.resize(R+1),this.emplace(R,l,d,m,b,C,T)}emplace(l,d,m,b,C,T,R){const B=4*l,W=8*l;return this.int16[B+0]=d,this.int16[B+1]=m,this.uint8[W+4]=b,this.uint8[W+5]=C,this.uint8[W+6]=T,this.uint8[W+7]=R,l}}up.prototype.bytesPerElement=8,kt("StructArrayLayout2i4ub8",up);class yf extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d){const m=this.length;return this.resize(m+1),this.emplace(m,l,d)}emplace(l,d,m){const b=2*l;return this.float32[b+0]=d,this.float32[b+1]=m,l}}yf.prototype.bytesPerElement=8,kt("StructArrayLayout2f8",yf);class Vy extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,C,T,R,B,W,H){const Z=this.length;return this.resize(Z+1),this.emplace(Z,l,d,m,b,C,T,R,B,W,H)}emplace(l,d,m,b,C,T,R,B,W,H,Z){const Q=10*l;return this.uint16[Q+0]=d,this.uint16[Q+1]=m,this.uint16[Q+2]=b,this.uint16[Q+3]=C,this.uint16[Q+4]=T,this.uint16[Q+5]=R,this.uint16[Q+6]=B,this.uint16[Q+7]=W,this.uint16[Q+8]=H,this.uint16[Q+9]=Z,l}}Vy.prototype.bytesPerElement=20,kt("StructArrayLayout10ui20",Vy);class Wn extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,C,T,R,B,W,H,Z,Q){const ie=this.length;return this.resize(ie+1),this.emplace(ie,l,d,m,b,C,T,R,B,W,H,Z,Q)}emplace(l,d,m,b,C,T,R,B,W,H,Z,Q,ie){const oe=12*l;return this.int16[oe+0]=d,this.int16[oe+1]=m,this.int16[oe+2]=b,this.int16[oe+3]=C,this.uint16[oe+4]=T,this.uint16[oe+5]=R,this.uint16[oe+6]=B,this.uint16[oe+7]=W,this.int16[oe+8]=H,this.int16[oe+9]=Z,this.int16[oe+10]=Q,this.int16[oe+11]=ie,l}}Wn.prototype.bytesPerElement=24,kt("StructArrayLayout4i4ui4i24",Wn);class w extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m){const b=this.length;return this.resize(b+1),this.emplace(b,l,d,m)}emplace(l,d,m,b){const C=3*l;return this.float32[C+0]=d,this.float32[C+1]=m,this.float32[C+2]=b,l}}w.prototype.bytesPerElement=12,kt("StructArrayLayout3f12",w);class c extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint32[1*l+0]=d,l}}c.prototype.bytesPerElement=4,kt("StructArrayLayout1ul4",c);class p extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,C,T,R,B,W){const H=this.length;return this.resize(H+1),this.emplace(H,l,d,m,b,C,T,R,B,W)}emplace(l,d,m,b,C,T,R,B,W,H){const Z=10*l,Q=5*l;return this.int16[Z+0]=d,this.int16[Z+1]=m,this.int16[Z+2]=b,this.int16[Z+3]=C,this.int16[Z+4]=T,this.int16[Z+5]=R,this.uint32[Q+3]=B,this.uint16[Z+8]=W,this.uint16[Z+9]=H,l}}p.prototype.bytesPerElement=20,kt("StructArrayLayout6i1ul2ui20",p);class v extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,C,T){const R=this.length;return this.resize(R+1),this.emplace(R,l,d,m,b,C,T)}emplace(l,d,m,b,C,T,R){const B=6*l;return this.int16[B+0]=d,this.int16[B+1]=m,this.int16[B+2]=b,this.int16[B+3]=C,this.int16[B+4]=T,this.int16[B+5]=R,l}}v.prototype.bytesPerElement=12,kt("StructArrayLayout2i2i2i12",v);class _ extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,C){const T=this.length;return this.resize(T+1),this.emplace(T,l,d,m,b,C)}emplace(l,d,m,b,C,T){const R=4*l,B=8*l;return this.float32[R+0]=d,this.float32[R+1]=m,this.float32[R+2]=b,this.int16[B+6]=C,this.int16[B+7]=T,l}}_.prototype.bytesPerElement=16,kt("StructArrayLayout2f1f2i16",_);class E extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m,b){const C=this.length;return this.resize(C+1),this.emplace(C,l,d,m,b)}emplace(l,d,m,b,C){const T=12*l,R=3*l;return this.uint8[T+0]=d,this.uint8[T+1]=m,this.float32[R+1]=b,this.float32[R+2]=C,l}}E.prototype.bytesPerElement=12,kt("StructArrayLayout2ub2f12",E);class D extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m){const b=this.length;return this.resize(b+1),this.emplace(b,l,d,m)}emplace(l,d,m,b){const C=3*l;return this.uint16[C+0]=d,this.uint16[C+1]=m,this.uint16[C+2]=b,l}}D.prototype.bytesPerElement=6,kt("StructArrayLayout3ui6",D);class j extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m,b,C,T,R,B,W,H,Z,Q,ie,oe,ue,ge,xe){const Re=this.length;return this.resize(Re+1),this.emplace(Re,l,d,m,b,C,T,R,B,W,H,Z,Q,ie,oe,ue,ge,xe)}emplace(l,d,m,b,C,T,R,B,W,H,Z,Q,ie,oe,ue,ge,xe,Re){const Te=24*l,Le=12*l,je=48*l;return this.int16[Te+0]=d,this.int16[Te+1]=m,this.uint16[Te+2]=b,this.uint16[Te+3]=C,this.uint32[Le+2]=T,this.uint32[Le+3]=R,this.uint32[Le+4]=B,this.uint16[Te+10]=W,this.uint16[Te+11]=H,this.uint16[Te+12]=Z,this.float32[Le+7]=Q,this.float32[Le+8]=ie,this.uint8[je+36]=oe,this.uint8[je+37]=ue,this.uint8[je+38]=ge,this.uint32[Le+10]=xe,this.int16[Te+22]=Re,l}}j.prototype.bytesPerElement=48,kt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",j);class U extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m,b,C,T,R,B,W,H,Z,Q,ie,oe,ue,ge,xe,Re,Te,Le,je,Ze,wt,Rt,_t,xt,ut,At){const pt=this.length;return this.resize(pt+1),this.emplace(pt,l,d,m,b,C,T,R,B,W,H,Z,Q,ie,oe,ue,ge,xe,Re,Te,Le,je,Ze,wt,Rt,_t,xt,ut,At)}emplace(l,d,m,b,C,T,R,B,W,H,Z,Q,ie,oe,ue,ge,xe,Re,Te,Le,je,Ze,wt,Rt,_t,xt,ut,At,pt){const rt=32*l,Yt=16*l;return this.int16[rt+0]=d,this.int16[rt+1]=m,this.int16[rt+2]=b,this.int16[rt+3]=C,this.int16[rt+4]=T,this.int16[rt+5]=R,this.int16[rt+6]=B,this.int16[rt+7]=W,this.uint16[rt+8]=H,this.uint16[rt+9]=Z,this.uint16[rt+10]=Q,this.uint16[rt+11]=ie,this.uint16[rt+12]=oe,this.uint16[rt+13]=ue,this.uint16[rt+14]=ge,this.uint16[rt+15]=xe,this.uint16[rt+16]=Re,this.uint16[rt+17]=Te,this.uint16[rt+18]=Le,this.uint16[rt+19]=je,this.uint16[rt+20]=Ze,this.uint16[rt+21]=wt,this.uint16[rt+22]=Rt,this.uint32[Yt+12]=_t,this.float32[Yt+13]=xt,this.float32[Yt+14]=ut,this.uint16[rt+30]=At,this.uint16[rt+31]=pt,l}}U.prototype.bytesPerElement=64,kt("StructArrayLayout8i15ui1ul2f2ui64",U);class q extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.float32[1*l+0]=d,l}}q.prototype.bytesPerElement=4,kt("StructArrayLayout1f4",q);class Y extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m){const b=this.length;return this.resize(b+1),this.emplace(b,l,d,m)}emplace(l,d,m,b){const C=3*l;return this.uint16[6*l+0]=d,this.float32[C+1]=m,this.float32[C+2]=b,l}}Y.prototype.bytesPerElement=12,kt("StructArrayLayout1ui2f12",Y);class K extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m){const b=this.length;return this.resize(b+1),this.emplace(b,l,d,m)}emplace(l,d,m,b){const C=4*l;return this.uint32[2*l+0]=d,this.uint16[C+2]=m,this.uint16[C+3]=b,l}}K.prototype.bytesPerElement=8,kt("StructArrayLayout1ul2ui8",K);class re extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d){const m=this.length;return this.resize(m+1),this.emplace(m,l,d)}emplace(l,d,m){const b=2*l;return this.uint16[b+0]=d,this.uint16[b+1]=m,l}}re.prototype.bytesPerElement=4,kt("StructArrayLayout2ui4",re);class de extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint16[1*l+0]=d,l}}de.prototype.bytesPerElement=2,kt("StructArrayLayout1ui2",de);class ce extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m,b){const C=this.length;return this.resize(C+1),this.emplace(C,l,d,m,b)}emplace(l,d,m,b,C){const T=4*l;return this.float32[T+0]=d,this.float32[T+1]=m,this.float32[T+2]=b,this.float32[T+3]=C,l}}ce.prototype.bytesPerElement=16,kt("StructArrayLayout4f16",ce);class me extends gf{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new x(this.anchorPointX,this.anchorPointY)}}me.prototype.size=20;class le extends p{get(l){return new me(this,l)}}kt("CollisionBoxArray",le);class Ae extends gf{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Ae.prototype.size=48;class ze extends j{get(l){return new Ae(this,l)}}kt("PlacedSymbolArray",ze);class ve extends gf{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}ve.prototype.size=64;class Ie extends U{get(l){return new ve(this,l)}}kt("SymbolInstanceArray",Ie);class Be extends q{getoffsetX(l){return this.float32[1*l+0]}}kt("GlyphOffsetArray",Be);class Fe extends $l{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}kt("SymbolLineVertexArray",Fe);class Ke extends gf{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Ke.prototype.size=12;class nt extends Y{get(l){return new Ke(this,l)}}kt("TextAnchorOffsetArray",nt);class tt extends gf{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}tt.prototype.size=8;class st extends K{get(l){return new tt(this,l)}}kt("FeatureIndexArray",st);class $t extends Lu{}class wn extends Lu{}class bt extends Lu{}class Qt extends Uy{}class Nt extends up{}class Or extends yf{}class pn extends Vy{}class gn extends Wn{}class Sn extends w{}class Qr extends c{}class cr extends v{}class ma extends E{}class Wr extends D{}class Lr extends re{}const Zo=Pr([{name:"a_pos",components:2,type:"Int16"}],4),{members:fs}=Zo;class Ar{constructor(l=[]){this.segments=l}prepareSegment(l,d,m,b){let C=this.segments[this.segments.length-1];return l>Ar.MAX_VERTEX_ARRAY_LENGTH&&we(`Max vertices per segment is ${Ar.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}`),(!C||C.vertexLength+l>Ar.MAX_VERTEX_ARRAY_LENGTH||C.sortKey!==b)&&(C={vertexOffset:d.length,primitiveOffset:m.length,vertexLength:0,primitiveLength:0},b!==void 0&&(C.sortKey=b),this.segments.push(C)),C}get(){return this.segments}destroy(){for(const l of this.segments)for(const d in l.vaos)l.vaos[d].destroy()}static simpleSegment(l,d,m,b){return new Ar([{vertexOffset:l,primitiveOffset:d,vertexLength:m,primitiveLength:b,vaos:{},sortKey:0}])}}function Rl(u,l){return 256*(u=N(Math.floor(u),0,255))+N(Math.floor(l),0,255)}Ar.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,kt("SegmentVector",Ar);const Dl=Pr([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Zs={exports:{}},_c={exports:{}};_c.exports=function(u,l){var d,m,b,C,T,R,B,W;for(m=u.length-(d=3&u.length),b=l,T=3432918353,R=461845907,W=0;W<m;)B=255&u.charCodeAt(W)|(255&u.charCodeAt(++W))<<8|(255&u.charCodeAt(++W))<<16|(255&u.charCodeAt(++W))<<24,++W,b=27492+(65535&(C=5*(65535&(b=(b^=B=(65535&(B=(B=(65535&B)*T+(((B>>>16)*T&65535)<<16)&4294967295)<<15|B>>>17))*R+(((B>>>16)*R&65535)<<16)&4294967295)<<13|b>>>19))+((5*(b>>>16)&65535)<<16)&4294967295))+((58964+(C>>>16)&65535)<<16);switch(B=0,d){case 3:B^=(255&u.charCodeAt(W+2))<<16;case 2:B^=(255&u.charCodeAt(W+1))<<8;case 1:b^=B=(65535&(B=(B=(65535&(B^=255&u.charCodeAt(W)))*T+(((B>>>16)*T&65535)<<16)&4294967295)<<15|B>>>17))*R+(((B>>>16)*R&65535)<<16)&4294967295}return b^=u.length,b=2246822507*(65535&(b^=b>>>16))+((2246822507*(b>>>16)&65535)<<16)&4294967295,b=3266489909*(65535&(b^=b>>>13))+((3266489909*(b>>>16)&65535)<<16)&4294967295,(b^=b>>>16)>>>0};var so=_c.exports,Di={exports:{}};Di.exports=function(u,l){for(var d,m=u.length,b=l^m,C=0;m>=4;)d=1540483477*(65535&(d=255&u.charCodeAt(C)|(255&u.charCodeAt(++C))<<8|(255&u.charCodeAt(++C))<<16|(255&u.charCodeAt(++C))<<24))+((1540483477*(d>>>16)&65535)<<16),b=1540483477*(65535&b)+((1540483477*(b>>>16)&65535)<<16)^(d=1540483477*(65535&(d^=d>>>24))+((1540483477*(d>>>16)&65535)<<16)),m-=4,++C;switch(m){case 3:b^=(255&u.charCodeAt(C+2))<<16;case 2:b^=(255&u.charCodeAt(C+1))<<8;case 1:b=1540483477*(65535&(b^=255&u.charCodeAt(C)))+((1540483477*(b>>>16)&65535)<<16)}return b=1540483477*(65535&(b^=b>>>13))+((1540483477*(b>>>16)&65535)<<16),(b^=b>>>15)>>>0};var Gi=so,vf=Di.exports;Zs.exports=Gi,Zs.exports.murmur3=Gi,Zs.exports.murmur2=vf;var ei=h(Zs.exports);class ti{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,d,m,b){this.ids.push(Xo(l)),this.positions.push(d,m,b)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const d=Xo(l);let m=0,b=this.ids.length-1;for(;m<b;){const T=m+b>>1;this.ids[T]>=d?b=T:m=T+1}const C=[];for(;this.ids[m]===d;)C.push({index:this.positions[3*m],start:this.positions[3*m+1],end:this.positions[3*m+2]}),m++;return C}static serialize(l,d){const m=new Float64Array(l.ids),b=new Uint32Array(l.positions);return ni(m,b,0,m.length-1),d&&d.push(m.buffer,b.buffer),{ids:m,positions:b}}static deserialize(l){const d=new ti;return d.ids=l.ids,d.positions=l.positions,d.indexed=!0,d}}function Xo(u){const l=+u;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:ei(String(u))}function ni(u,l,d,m){for(;d<m;){const b=u[d+m>>1];let C=d-1,T=m+1;for(;;){do C++;while(u[C]<b);do T--;while(u[T]>b);if(C>=T)break;dp(u,C,T),dp(l,3*C,3*T),dp(l,3*C+1,3*T+1),dp(l,3*C+2,3*T+2)}T-d<m-T?(ni(u,l,d,T),d=T+1):(ni(u,l,T+1,m),m=T)}}function dp(u,l,d){const m=u[l];u[l]=u[d],u[d]=m}kt("FeaturePositionMap",ti);class wc{constructor(l,d){this.gl=l.gl,this.location=d}}class fp extends wc{constructor(l,d){super(l,d),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class f_ extends wc{constructor(l,d){super(l,d),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class h_ extends wc{constructor(l,d){super(l,d),this.current=Jn.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}const cT=new Float32Array(16);function Ll(u){return[Rl(255*u.r,255*u.g),Rl(255*u.b,255*u.a)]}class Nu{constructor(l,d,m){this.value=l,this.uniformNames=d.map(b=>`u_${b}`),this.type=m}setUniform(l,d,m){l.set(m.constantOr(this.value))}getBinding(l,d,m){return this.type==="color"?new h_(l,d):new fp(l,d)}}class Sc{constructor(l,d){this.uniformNames=d.map(m=>`u_${m}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,d){this.pixelRatioFrom=d.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=d.tlbr,this.patternTo=l.tlbr}setUniform(l,d,m,b){const C=b==="u_pattern_to"?this.patternTo:b==="u_pattern_from"?this.patternFrom:b==="u_pixel_ratio_to"?this.pixelRatioTo:b==="u_pixel_ratio_from"?this.pixelRatioFrom:null;C&&l.set(C)}getBinding(l,d,m){return m.substr(0,9)==="u_pattern"?new f_(l,d):new fp(l,d)}}class hs{constructor(l,d,m,b){this.expression=l,this.type=m,this.maxValue=0,this.paintVertexAttributes=d.map(C=>({name:`a_${C}`,type:"Float32",components:m==="color"?2:1,offset:0})),this.paintVertexArray=new b}populatePaintArray(l,d,m,b,C){const T=this.paintVertexArray.length,R=this.expression.evaluate(new kr(0),d,{},b,[],C);this.paintVertexArray.resize(l),this._setPaintValue(T,l,R)}updatePaintArray(l,d,m,b){const C=this.expression.evaluate({zoom:0},m,b);this._setPaintValue(l,d,C)}_setPaintValue(l,d,m){if(this.type==="color"){const b=Ll(m);for(let C=l;C<d;C++)this.paintVertexArray.emplace(C,b[0],b[1])}else{for(let b=l;b<d;b++)this.paintVertexArray.emplace(b,m);this.maxValue=Math.max(this.maxValue,Math.abs(m))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Jo{constructor(l,d,m,b,C,T){this.expression=l,this.uniformNames=d.map(R=>`u_${R}_t`),this.type=m,this.useIntegerZoom=b,this.zoom=C,this.maxValue=0,this.paintVertexAttributes=d.map(R=>({name:`a_${R}`,type:"Float32",components:m==="color"?4:2,offset:0})),this.paintVertexArray=new T}populatePaintArray(l,d,m,b,C){const T=this.expression.evaluate(new kr(this.zoom),d,{},b,[],C),R=this.expression.evaluate(new kr(this.zoom+1),d,{},b,[],C),B=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(B,l,T,R)}updatePaintArray(l,d,m,b){const C=this.expression.evaluate({zoom:this.zoom},m,b),T=this.expression.evaluate({zoom:this.zoom+1},m,b);this._setPaintValue(l,d,C,T)}_setPaintValue(l,d,m,b){if(this.type==="color"){const C=Ll(m),T=Ll(b);for(let R=l;R<d;R++)this.paintVertexArray.emplace(R,C[0],C[1],T[0],T[1])}else{for(let C=l;C<d;C++)this.paintVertexArray.emplace(C,m,b);this.maxValue=Math.max(this.maxValue,Math.abs(m),Math.abs(b))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,d){const m=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,b=N(this.expression.interpolationFactor(m,this.zoom,this.zoom+1),0,1);l.set(b)}getBinding(l,d,m){return new fp(l,d)}}class Xs{constructor(l,d,m,b,C,T){this.expression=l,this.type=d,this.useIntegerZoom=m,this.zoom=b,this.layerId=T,this.zoomInPaintVertexArray=new C,this.zoomOutPaintVertexArray=new C}populatePaintArray(l,d,m){const b=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(b,l,d.patterns&&d.patterns[this.layerId],m)}updatePaintArray(l,d,m,b,C){this._setPaintValues(l,d,m.patterns&&m.patterns[this.layerId],C)}_setPaintValues(l,d,m,b){if(!b||!m)return;const{min:C,mid:T,max:R}=m,B=b[C],W=b[T],H=b[R];if(B&&W&&H)for(let Z=l;Z<d;Z++)this.zoomInPaintVertexArray.emplace(Z,W.tl[0],W.tl[1],W.br[0],W.br[1],B.tl[0],B.tl[1],B.br[0],B.br[1],W.pixelRatio,B.pixelRatio),this.zoomOutPaintVertexArray.emplace(Z,W.tl[0],W.tl[1],W.br[0],W.br[1],H.tl[0],H.tl[1],H.br[0],H.br[1],W.pixelRatio,H.pixelRatio)}upload(l){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,Dl.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,Dl.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class hp{constructor(l,d,m){this.binders={},this._buffers=[];const b=[];for(const C in l.paint._values){if(!m(C))continue;const T=l.paint.get(C);if(!(T instanceof us&&Pu(T.property.specification)))continue;const R=bZ(C,l.type),B=T.value,W=T.property.specification.type,H=T.property.useIntegerZoom,Z=T.property.specification["property-type"],Q=Z==="cross-faded"||Z==="cross-faded-data-driven";if(B.kind==="constant")this.binders[C]=Q?new Sc(B.value,R):new Nu(B.value,R,W),b.push(`/u_${C}`);else if(B.kind==="source"||Q){const ie=YL(C,W,"source");this.binders[C]=Q?new Xs(B,W,H,d,ie,l.id):new hs(B,R,W,ie),b.push(`/a_${C}`)}else{const ie=YL(C,W,"composite");this.binders[C]=new Jo(B,R,W,H,d,ie),b.push(`/z_${C}`)}}this.cacheKey=b.sort().join("")}getMaxValue(l){const d=this.binders[l];return d instanceof hs||d instanceof Jo?d.maxValue:0}populatePaintArrays(l,d,m,b,C){for(const T in this.binders){const R=this.binders[T];(R instanceof hs||R instanceof Jo||R instanceof Xs)&&R.populatePaintArray(l,d,m,b,C)}}setConstantPatternPositions(l,d){for(const m in this.binders){const b=this.binders[m];b instanceof Sc&&b.setConstantPatternPositions(l,d)}}updatePaintArrays(l,d,m,b,C){let T=!1;for(const R in l){const B=d.getPositions(R);for(const W of B){const H=m.feature(W.index);for(const Z in this.binders){const Q=this.binders[Z];if((Q instanceof hs||Q instanceof Jo||Q instanceof Xs)&&Q.expression.isStateDependent===!0){const ie=b.paint.get(Z);Q.expression=ie.value,Q.updatePaintArray(W.start,W.end,H,l[R],C),T=!0}}}}return T}defines(){const l=[];for(const d in this.binders){const m=this.binders[d];(m instanceof Nu||m instanceof Sc)&&l.push(...m.uniformNames.map(b=>`#define HAS_UNIFORM_${b}`))}return l}getBinderAttributes(){const l=[];for(const d in this.binders){const m=this.binders[d];if(m instanceof hs||m instanceof Jo)for(let b=0;b<m.paintVertexAttributes.length;b++)l.push(m.paintVertexAttributes[b].name);else if(m instanceof Xs)for(let b=0;b<Dl.members.length;b++)l.push(Dl.members[b].name)}return l}getBinderUniforms(){const l=[];for(const d in this.binders){const m=this.binders[d];if(m instanceof Nu||m instanceof Sc||m instanceof Jo)for(const b of m.uniformNames)l.push(b)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,d){const m=[];for(const b in this.binders){const C=this.binders[b];if(C instanceof Nu||C instanceof Sc||C instanceof Jo){for(const T of C.uniformNames)if(d[T]){const R=C.getBinding(l,d[T],T);m.push({name:T,property:b,binding:R})}}}return m}setUniforms(l,d,m,b){for(const{name:C,property:T,binding:R}of d)this.binders[T].setUniform(R,b,m.get(T),C)}updatePaintBuffers(l){this._buffers=[];for(const d in this.binders){const m=this.binders[d];if(l&&m instanceof Xs){const b=l.fromScale===2?m.zoomInPaintVertexBuffer:m.zoomOutPaintVertexBuffer;b&&this._buffers.push(b)}else(m instanceof hs||m instanceof Jo)&&m.paintVertexBuffer&&this._buffers.push(m.paintVertexBuffer)}}upload(l){for(const d in this.binders){const m=this.binders[d];(m instanceof hs||m instanceof Jo||m instanceof Xs)&&m.upload(l)}this.updatePaintBuffers()}destroy(){for(const l in this.binders){const d=this.binders[l];(d instanceof hs||d instanceof Jo||d instanceof Xs)&&d.destroy()}}}class bf{constructor(l,d,m=()=>!0){this.programConfigurations={};for(const b of l)this.programConfigurations[b.id]=new hp(b,d,m);this.needsUpload=!1,this._featureMap=new ti,this._bufferOffset=0}populatePaintArrays(l,d,m,b,C,T){for(const R in this.programConfigurations)this.programConfigurations[R].populatePaintArrays(l,d,b,C,T);d.id!==void 0&&this._featureMap.add(d.id,m,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,d,m,b){for(const C of m)this.needsUpload=this.programConfigurations[C.id].updatePaintArrays(l,this._featureMap,d,C,b)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(const d in this.programConfigurations)this.programConfigurations[d].upload(l);this.needsUpload=!1}}destroy(){for(const l in this.programConfigurations)this.programConfigurations[l].destroy()}}function bZ(u,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[u]||[u.replace(`${l}-`,"").replace(/-/g,"_")]}function YL(u,l,d){const m={color:{source:yf,composite:ce},number:{source:q,composite:yf}},b=function(C){return{"line-pattern":{source:pn,composite:pn},"fill-pattern":{source:pn,composite:pn},"fill-extrusion-pattern":{source:pn,composite:pn}}[C]}(u);return b&&b[d]||m[l][d]}kt("ConstantBinder",Nu),kt("CrossFadedConstantBinder",Sc),kt("SourceExpressionBinder",hs),kt("CrossFadedCompositeBinder",Xs),kt("CompositeExpressionBinder",Jo),kt("ProgramConfiguration",hp,{omit:["_buffers"]}),kt("ProgramConfigurationSet",bf);const ui=8192,uT=Math.pow(2,14)-1,KL=-uT-1;function xf(u){const l=ui/u.extent,d=u.loadGeometry();for(let m=0;m<d.length;m++){const b=d[m];for(let C=0;C<b.length;C++){const T=b[C],R=Math.round(T.x*l),B=Math.round(T.y*l);T.x=N(R,KL,uT),T.y=N(B,KL,uT),(R<T.x||R>T.x+1||B<T.y||B>T.y+1)&&we("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return d}function _f(u,l){return{type:u.type,id:u.id,properties:u.properties,geometry:l?xf(u):[]}}function p_(u,l,d,m,b){u.emplaceBack(2*l+(m+1)/2,2*d+(b+1)/2)}class dT{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new wn,this.indexArray=new Wr,this.segments=new Ar,this.programConfigurations=new bf(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,m){const b=this.layers[0],C=[];let T=null,R=!1;b.type==="circle"&&(T=b.layout.get("circle-sort-key"),R=!T.isConstant());for(const{feature:B,id:W,index:H,sourceLayerIndex:Z}of l){const Q=this.layers[0]._featureFilter.needGeometry,ie=_f(B,Q);if(!this.layers[0]._featureFilter.filter(new kr(this.zoom),ie,m))continue;const oe=R?T.evaluate(ie,{},m):void 0,ue={id:W,properties:B.properties,type:B.type,sourceLayerIndex:Z,index:H,geometry:Q?ie.geometry:xf(B),patterns:{},sortKey:oe};C.push(ue)}R&&C.sort((B,W)=>B.sortKey-W.sortKey);for(const B of C){const{geometry:W,index:H,sourceLayerIndex:Z}=B,Q=l[H].feature;this.addFeature(B,W,H,m),d.featureIndex.insert(Q,W,H,Z,this.index)}}update(l,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,fs),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,d,m,b){for(const C of d)for(const T of C){const R=T.x,B=T.y;if(R<0||R>=ui||B<0||B>=ui)continue;const W=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,l.sortKey),H=W.vertexLength;p_(this.layoutVertexArray,R,B,-1,-1),p_(this.layoutVertexArray,R,B,1,-1),p_(this.layoutVertexArray,R,B,1,1),p_(this.layoutVertexArray,R,B,-1,1),this.indexArray.emplaceBack(H,H+1,H+2),this.indexArray.emplaceBack(H,H+3,H+2),W.vertexLength+=4,W.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,{},b)}}function ZL(u,l){for(let d=0;d<u.length;d++)if(pp(l,u[d]))return!0;for(let d=0;d<l.length;d++)if(pp(u,l[d]))return!0;return!!fT(u,l)}function xZ(u,l,d){return!!pp(u,l)||!!hT(l,u,d)}function XL(u,l){if(u.length===1)return QL(l,u[0]);for(let d=0;d<l.length;d++){const m=l[d];for(let b=0;b<m.length;b++)if(pp(u,m[b]))return!0}for(let d=0;d<u.length;d++)if(QL(l,u[d]))return!0;for(let d=0;d<l.length;d++)if(fT(u,l[d]))return!0;return!1}function _Z(u,l,d){if(u.length>1){if(fT(u,l))return!0;for(let m=0;m<l.length;m++)if(hT(l[m],u,d))return!0}for(let m=0;m<u.length;m++)if(hT(u[m],l,d))return!0;return!1}function fT(u,l){if(u.length===0||l.length===0)return!1;for(let d=0;d<u.length-1;d++){const m=u[d],b=u[d+1];for(let C=0;C<l.length-1;C++)if(wZ(m,b,l[C],l[C+1]))return!0}return!1}function wZ(u,l,d,m){return Ce(u,d,m)!==Ce(l,d,m)&&Ce(u,l,d)!==Ce(u,l,m)}function hT(u,l,d){const m=d*d;if(l.length===1)return u.distSqr(l[0])<m;for(let b=1;b<l.length;b++)if(JL(u,l[b-1],l[b])<m)return!0;return!1}function JL(u,l,d){const m=l.distSqr(d);if(m===0)return u.distSqr(l);const b=((u.x-l.x)*(d.x-l.x)+(u.y-l.y)*(d.y-l.y))/m;return u.distSqr(b<0?l:b>1?d:d.sub(l)._mult(b)._add(l))}function QL(u,l){let d,m,b,C=!1;for(let T=0;T<u.length;T++){d=u[T];for(let R=0,B=d.length-1;R<d.length;B=R++)m=d[R],b=d[B],m.y>l.y!=b.y>l.y&&l.x<(b.x-m.x)*(l.y-m.y)/(b.y-m.y)+m.x&&(C=!C)}return C}function pp(u,l){let d=!1;for(let m=0,b=u.length-1;m<u.length;b=m++){const C=u[m],T=u[b];C.y>l.y!=T.y>l.y&&l.x<(T.x-C.x)*(l.y-C.y)/(T.y-C.y)+C.x&&(d=!d)}return d}function SZ(u,l,d){const m=d[0],b=d[2];if(u.x<m.x&&l.x<m.x||u.x>b.x&&l.x>b.x||u.y<m.y&&l.y<m.y||u.y>b.y&&l.y>b.y)return!1;const C=Ce(u,l,d[0]);return C!==Ce(u,l,d[1])||C!==Ce(u,l,d[2])||C!==Ce(u,l,d[3])}function Wy(u,l,d){const m=l.paint.get(u).value;return m.kind==="constant"?m.value:d.programConfigurations.get(l.id).getMaxValue(u)}function m_(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function g_(u,l,d,m,b){if(!l[0]&&!l[1])return u;const C=x.convert(l)._mult(b);d==="viewport"&&C._rotate(-m);const T=[];for(let R=0;R<u.length;R++)T.push(u[R].sub(C));return T}let eN,tN;kt("CircleBucket",dT,{omit:["layers"]});var CZ={get paint(){return tN=tN||new ao({"circle-radius":new Zt(Ne.paint_circle["circle-radius"]),"circle-color":new Zt(Ne.paint_circle["circle-color"]),"circle-blur":new Zt(Ne.paint_circle["circle-blur"]),"circle-opacity":new Zt(Ne.paint_circle["circle-opacity"]),"circle-translate":new Bt(Ne.paint_circle["circle-translate"]),"circle-translate-anchor":new Bt(Ne.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Bt(Ne.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Bt(Ne.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Zt(Ne.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Zt(Ne.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Zt(Ne.paint_circle["circle-stroke-opacity"])})},get layout(){return eN=eN||new ao({"circle-sort-key":new Zt(Ne.layout_circle["circle-sort-key"])})}},So=1e-6,mp=typeof Float32Array<"u"?Float32Array:Array;function pT(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}function nN(u,l,d){var m=l[0],b=l[1],C=l[2],T=l[3],R=l[4],B=l[5],W=l[6],H=l[7],Z=l[8],Q=l[9],ie=l[10],oe=l[11],ue=l[12],ge=l[13],xe=l[14],Re=l[15],Te=d[0],Le=d[1],je=d[2],Ze=d[3];return u[0]=Te*m+Le*R+je*Z+Ze*ue,u[1]=Te*b+Le*B+je*Q+Ze*ge,u[2]=Te*C+Le*W+je*ie+Ze*xe,u[3]=Te*T+Le*H+je*oe+Ze*Re,u[4]=(Te=d[4])*m+(Le=d[5])*R+(je=d[6])*Z+(Ze=d[7])*ue,u[5]=Te*b+Le*B+je*Q+Ze*ge,u[6]=Te*C+Le*W+je*ie+Ze*xe,u[7]=Te*T+Le*H+je*oe+Ze*Re,u[8]=(Te=d[8])*m+(Le=d[9])*R+(je=d[10])*Z+(Ze=d[11])*ue,u[9]=Te*b+Le*B+je*Q+Ze*ge,u[10]=Te*C+Le*W+je*ie+Ze*xe,u[11]=Te*T+Le*H+je*oe+Ze*Re,u[12]=(Te=d[12])*m+(Le=d[13])*R+(je=d[14])*Z+(Ze=d[15])*ue,u[13]=Te*b+Le*B+je*Q+Ze*ge,u[14]=Te*C+Le*W+je*ie+Ze*xe,u[15]=Te*T+Le*H+je*oe+Ze*Re,u}Math.hypot||(Math.hypot=function(){for(var u=0,l=arguments.length;l--;)u+=arguments[l]*arguments[l];return Math.sqrt(u)});var qy,EZ=nN;function y_(u,l,d){var m=l[0],b=l[1],C=l[2],T=l[3];return u[0]=d[0]*m+d[4]*b+d[8]*C+d[12]*T,u[1]=d[1]*m+d[5]*b+d[9]*C+d[13]*T,u[2]=d[2]*m+d[6]*b+d[10]*C+d[14]*T,u[3]=d[3]*m+d[7]*b+d[11]*C+d[15]*T,u}qy=new mp(4),mp!=Float32Array&&(qy[0]=0,qy[1]=0,qy[2]=0,qy[3]=0);class TZ extends $a{constructor(l){super(l,CZ)}createBucket(l){return new dT(l)}queryRadius(l){const d=l;return Wy("circle-radius",this,d)+Wy("circle-stroke-width",this,d)+m_(this.paint.get("circle-translate"))}queryIntersectsFeature(l,d,m,b,C,T,R,B){const W=g_(l,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),T.angle,R),H=this.paint.get("circle-radius").evaluate(d,m)+this.paint.get("circle-stroke-width").evaluate(d,m),Z=this.paint.get("circle-pitch-alignment")==="map",Q=Z?W:function(oe,ue){return oe.map(ge=>rN(ge,ue))}(W,B),ie=Z?H*R:H;for(const oe of b)for(const ue of oe){const ge=Z?ue:rN(ue,B);let xe=ie;const Re=y_([],[ue.x,ue.y,0,1],B);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?xe*=Re[3]/T.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(xe*=T.cameraToCenterDistance/Re[3]),xZ(Q,ge,xe))return!0}return!1}}function rN(u,l){const d=y_([],[u.x,u.y,0,1],l);return new x(d[0]/d[3],d[1]/d[3])}class iN extends dT{}let oN;kt("HeatmapBucket",iN,{omit:["layers"]});var kZ={get paint(){return oN=oN||new ao({"heatmap-radius":new Zt(Ne.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Zt(Ne.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Bt(Ne.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ds(Ne.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Bt(Ne.paint_heatmap["heatmap-opacity"])})}};function mT(u,{width:l,height:d},m,b){if(b){if(b instanceof Uint8ClampedArray)b=new Uint8Array(b.buffer);else if(b.length!==l*d*m)throw new RangeError(`mismatched image size. expected: ${b.length} but got: ${l*d*m}`)}else b=new Uint8Array(l*d*m);return u.width=l,u.height=d,u.data=b,u}function aN(u,{width:l,height:d},m){if(l===u.width&&d===u.height)return;const b=mT({},{width:l,height:d},m);gT(u,b,{x:0,y:0},{x:0,y:0},{width:Math.min(u.width,l),height:Math.min(u.height,d)},m),u.width=l,u.height=d,u.data=b.data}function gT(u,l,d,m,b,C){if(b.width===0||b.height===0)return l;if(b.width>u.width||b.height>u.height||d.x>u.width-b.width||d.y>u.height-b.height)throw new RangeError("out of range source coordinates for image copy");if(b.width>l.width||b.height>l.height||m.x>l.width-b.width||m.y>l.height-b.height)throw new RangeError("out of range destination coordinates for image copy");const T=u.data,R=l.data;if(T===R)throw new Error("srcData equals dstData, so image is already copied");for(let B=0;B<b.height;B++){const W=((d.y+B)*u.width+d.x)*C,H=((m.y+B)*l.width+m.x)*C;for(let Z=0;Z<b.width*C;Z++)R[H+Z]=T[W+Z]}return l}class Gy{constructor(l,d){mT(this,l,1,d)}resize(l){aN(this,l,1)}clone(){return new Gy({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,m,b,C){gT(l,d,m,b,C,1)}}class Ra{constructor(l,d){mT(this,l,4,d)}resize(l){aN(this,l,4)}replace(l,d){d?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new Ra({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,m,b,C){gT(l,d,m,b,C,4)}}function sN(u){const l={},d=u.resolution||256,m=u.clips?u.clips.length:1,b=u.image||new Ra({width:d,height:m});if(Math.log(d)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${d}`);const C=(T,R,B)=>{l[u.evaluationKey]=B;const W=u.expression.evaluate(l);b.data[T+R+0]=Math.floor(255*W.r/W.a),b.data[T+R+1]=Math.floor(255*W.g/W.a),b.data[T+R+2]=Math.floor(255*W.b/W.a),b.data[T+R+3]=Math.floor(255*W.a)};if(u.clips)for(let T=0,R=0;T<m;++T,R+=4*d)for(let B=0,W=0;B<d;B++,W+=4){const H=B/(d-1),{start:Z,end:Q}=u.clips[T];C(R,W,Z*(1-H)+Q*H)}else for(let T=0,R=0;T<d;T++,R+=4)C(0,R,T/(d-1));return b}kt("AlphaImage",Gy),kt("RGBAImage",Ra);class PZ extends $a{createBucket(l){return new iN(l)}constructor(l){super(l,kZ),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=sN({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let lN;var OZ={get paint(){return lN=lN||new ao({"hillshade-illumination-direction":new Bt(Ne.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Bt(Ne.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Bt(Ne.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Bt(Ne.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Bt(Ne.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Bt(Ne.paint_hillshade["hillshade-accent-color"])})}};class AZ extends $a{constructor(l){super(l,OZ)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const MZ=Pr([{name:"a_pos",components:2,type:"Int16"}],4),{members:IZ}=MZ;var yT={exports:{}};function v_(u,l,d){d=d||2;var m,b,C,T,R,B,W,H=l&&l.length,Z=H?l[0]*d:u.length,Q=cN(u,0,Z,d,!0),ie=[];if(!Q||Q.next===Q.prev)return ie;if(H&&(Q=function(ue,ge,xe,Re){var Te,Le,je,Ze=[];for(Te=0,Le=ge.length;Te<Le;Te++)(je=cN(ue,ge[Te]*Re,Te<Le-1?ge[Te+1]*Re:ue.length,Re,!1))===je.next&&(je.steiner=!0),Ze.push(BZ(je));for(Ze.sort(NZ),Te=0;Te<Ze.length;Te++)xe=zZ(Ze[Te],xe);return xe}(u,l,Q,d)),u.length>80*d){m=C=u[0],b=T=u[1];for(var oe=d;oe<Z;oe+=d)(R=u[oe])<m&&(m=R),(B=u[oe+1])<b&&(b=B),R>C&&(C=R),B>T&&(T=B);W=(W=Math.max(C-m,T-b))!==0?32767/W:0}return Hy(Q,ie,d,m,b,W,0),ie}function cN(u,l,d,m,b){var C,T;if(b===xT(u,l,d,m)>0)for(C=l;C<d;C+=m)T=fN(C,u[C],u[C+1],T);else for(C=d-m;C>=l;C-=m)T=fN(C,u[C],u[C+1],T);return T&&b_(T,T.next)&&(Ky(T),T=T.next),T}function wf(u,l){if(!u)return u;l||(l=u);var d,m=u;do if(d=!1,m.steiner||!b_(m,m.next)&&ri(m.prev,m,m.next)!==0)m=m.next;else{if(Ky(m),(m=l=m.prev)===m.next)break;d=!0}while(d||m!==l);return l}function Hy(u,l,d,m,b,C,T){if(u){!T&&C&&function(H,Z,Q,ie){var oe=H;do oe.z===0&&(oe.z=vT(oe.x,oe.y,Z,Q,ie)),oe.prevZ=oe.prev,oe.nextZ=oe.next,oe=oe.next;while(oe!==H);oe.prevZ.nextZ=null,oe.prevZ=null,function(ue){var ge,xe,Re,Te,Le,je,Ze,wt,Rt=1;do{for(xe=ue,ue=null,Le=null,je=0;xe;){for(je++,Re=xe,Ze=0,ge=0;ge<Rt&&(Ze++,Re=Re.nextZ);ge++);for(wt=Rt;Ze>0||wt>0&&Re;)Ze!==0&&(wt===0||!Re||xe.z<=Re.z)?(Te=xe,xe=xe.nextZ,Ze--):(Te=Re,Re=Re.nextZ,wt--),Le?Le.nextZ=Te:ue=Te,Te.prevZ=Le,Le=Te;xe=Re}Le.nextZ=null,Rt*=2}while(je>1)}(oe)}(u,m,b,C);for(var R,B,W=u;u.prev!==u.next;)if(R=u.prev,B=u.next,C?RZ(u,m,b,C):$Z(u))l.push(R.i/d|0),l.push(u.i/d|0),l.push(B.i/d|0),Ky(u),u=B.next,W=B.next;else if((u=B)===W){T?T===1?Hy(u=DZ(wf(u),l,d),l,d,m,b,C,2):T===2&&LZ(u,l,d,m,b,C):Hy(wf(u),l,d,m,b,C,1);break}}}function $Z(u){var l=u.prev,d=u,m=u.next;if(ri(l,d,m)>=0)return!1;for(var b=l.x,C=d.x,T=m.x,R=l.y,B=d.y,W=m.y,H=b<C?b<T?b:T:C<T?C:T,Z=R<B?R<W?R:W:B<W?B:W,Q=b>C?b>T?b:T:C>T?C:T,ie=R>B?R>W?R:W:B>W?B:W,oe=m.next;oe!==l;){if(oe.x>=H&&oe.x<=Q&&oe.y>=Z&&oe.y<=ie&&gp(b,R,C,B,T,W,oe.x,oe.y)&&ri(oe.prev,oe,oe.next)>=0)return!1;oe=oe.next}return!0}function RZ(u,l,d,m){var b=u.prev,C=u,T=u.next;if(ri(b,C,T)>=0)return!1;for(var R=b.x,B=C.x,W=T.x,H=b.y,Z=C.y,Q=T.y,ie=R<B?R<W?R:W:B<W?B:W,oe=H<Z?H<Q?H:Q:Z<Q?Z:Q,ue=R>B?R>W?R:W:B>W?B:W,ge=H>Z?H>Q?H:Q:Z>Q?Z:Q,xe=vT(ie,oe,l,d,m),Re=vT(ue,ge,l,d,m),Te=u.prevZ,Le=u.nextZ;Te&&Te.z>=xe&&Le&&Le.z<=Re;){if(Te.x>=ie&&Te.x<=ue&&Te.y>=oe&&Te.y<=ge&&Te!==b&&Te!==T&&gp(R,H,B,Z,W,Q,Te.x,Te.y)&&ri(Te.prev,Te,Te.next)>=0||(Te=Te.prevZ,Le.x>=ie&&Le.x<=ue&&Le.y>=oe&&Le.y<=ge&&Le!==b&&Le!==T&&gp(R,H,B,Z,W,Q,Le.x,Le.y)&&ri(Le.prev,Le,Le.next)>=0))return!1;Le=Le.nextZ}for(;Te&&Te.z>=xe;){if(Te.x>=ie&&Te.x<=ue&&Te.y>=oe&&Te.y<=ge&&Te!==b&&Te!==T&&gp(R,H,B,Z,W,Q,Te.x,Te.y)&&ri(Te.prev,Te,Te.next)>=0)return!1;Te=Te.prevZ}for(;Le&&Le.z<=Re;){if(Le.x>=ie&&Le.x<=ue&&Le.y>=oe&&Le.y<=ge&&Le!==b&&Le!==T&&gp(R,H,B,Z,W,Q,Le.x,Le.y)&&ri(Le.prev,Le,Le.next)>=0)return!1;Le=Le.nextZ}return!0}function DZ(u,l,d){var m=u;do{var b=m.prev,C=m.next.next;!b_(b,C)&&uN(b,m,m.next,C)&&Yy(b,C)&&Yy(C,b)&&(l.push(b.i/d|0),l.push(m.i/d|0),l.push(C.i/d|0),Ky(m),Ky(m.next),m=u=C),m=m.next}while(m!==u);return wf(m)}function LZ(u,l,d,m,b,C){var T=u;do{for(var R=T.next.next;R!==T.prev;){if(T.i!==R.i&&FZ(T,R)){var B=dN(T,R);return T=wf(T,T.next),B=wf(B,B.next),Hy(T,l,d,m,b,C,0),void Hy(B,l,d,m,b,C,0)}R=R.next}T=T.next}while(T!==u)}function NZ(u,l){return u.x-l.x}function zZ(u,l){var d=function(b,C){var T,R=C,B=b.x,W=b.y,H=-1/0;do{if(W<=R.y&&W>=R.next.y&&R.next.y!==R.y){var Z=R.x+(W-R.y)*(R.next.x-R.x)/(R.next.y-R.y);if(Z<=B&&Z>H&&(H=Z,T=R.x<R.next.x?R:R.next,Z===B))return T}R=R.next}while(R!==C);if(!T)return null;var Q,ie=T,oe=T.x,ue=T.y,ge=1/0;R=T;do B>=R.x&&R.x>=oe&&B!==R.x&&gp(W<ue?B:H,W,oe,ue,W<ue?H:B,W,R.x,R.y)&&(Q=Math.abs(W-R.y)/(B-R.x),Yy(R,b)&&(Q<ge||Q===ge&&(R.x>T.x||R.x===T.x&&jZ(T,R)))&&(T=R,ge=Q)),R=R.next;while(R!==ie);return T}(u,l);if(!d)return l;var m=dN(d,u);return wf(m,m.next),wf(d,d.next)}function jZ(u,l){return ri(u.prev,u,l.prev)<0&&ri(l.next,u,u.next)<0}function vT(u,l,d,m,b){return(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-d)*b|0)|u<<8))|u<<4))|u<<2))|u<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-m)*b|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function BZ(u){var l=u,d=u;do(l.x<d.x||l.x===d.x&&l.y<d.y)&&(d=l),l=l.next;while(l!==u);return d}function gp(u,l,d,m,b,C,T,R){return(b-T)*(l-R)>=(u-T)*(C-R)&&(u-T)*(m-R)>=(d-T)*(l-R)&&(d-T)*(C-R)>=(b-T)*(m-R)}function FZ(u,l){return u.next.i!==l.i&&u.prev.i!==l.i&&!function(d,m){var b=d;do{if(b.i!==d.i&&b.next.i!==d.i&&b.i!==m.i&&b.next.i!==m.i&&uN(b,b.next,d,m))return!0;b=b.next}while(b!==d);return!1}(u,l)&&(Yy(u,l)&&Yy(l,u)&&function(d,m){var b=d,C=!1,T=(d.x+m.x)/2,R=(d.y+m.y)/2;do b.y>R!=b.next.y>R&&b.next.y!==b.y&&T<(b.next.x-b.x)*(R-b.y)/(b.next.y-b.y)+b.x&&(C=!C),b=b.next;while(b!==d);return C}(u,l)&&(ri(u.prev,u,l.prev)||ri(u,l.prev,l))||b_(u,l)&&ri(u.prev,u,u.next)>0&&ri(l.prev,l,l.next)>0)}function ri(u,l,d){return(l.y-u.y)*(d.x-l.x)-(l.x-u.x)*(d.y-l.y)}function b_(u,l){return u.x===l.x&&u.y===l.y}function uN(u,l,d,m){var b=__(ri(u,l,d)),C=__(ri(u,l,m)),T=__(ri(d,m,u)),R=__(ri(d,m,l));return b!==C&&T!==R||!(b!==0||!x_(u,d,l))||!(C!==0||!x_(u,m,l))||!(T!==0||!x_(d,u,m))||!(R!==0||!x_(d,l,m))}function x_(u,l,d){return l.x<=Math.max(u.x,d.x)&&l.x>=Math.min(u.x,d.x)&&l.y<=Math.max(u.y,d.y)&&l.y>=Math.min(u.y,d.y)}function __(u){return u>0?1:u<0?-1:0}function Yy(u,l){return ri(u.prev,u,u.next)<0?ri(u,l,u.next)>=0&&ri(u,u.prev,l)>=0:ri(u,l,u.prev)<0||ri(u,u.next,l)<0}function dN(u,l){var d=new bT(u.i,u.x,u.y),m=new bT(l.i,l.x,l.y),b=u.next,C=l.prev;return u.next=l,l.prev=u,d.next=b,b.prev=d,m.next=d,d.prev=m,C.next=m,m.prev=C,m}function fN(u,l,d,m){var b=new bT(u,l,d);return m?(b.next=m.next,b.prev=m,m.next.prev=b,m.next=b):(b.prev=b,b.next=b),b}function Ky(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function bT(u,l,d){this.i=u,this.x=l,this.y=d,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function xT(u,l,d,m){for(var b=0,C=l,T=d-m;C<d;C+=m)b+=(u[T]-u[C])*(u[C+1]+u[T+1]),T=C;return b}yT.exports=v_,yT.exports.default=v_,v_.deviation=function(u,l,d,m){var b=l&&l.length,C=Math.abs(xT(u,0,b?l[0]*d:u.length,d));if(b)for(var T=0,R=l.length;T<R;T++)C-=Math.abs(xT(u,l[T]*d,T<R-1?l[T+1]*d:u.length,d));var B=0;for(T=0;T<m.length;T+=3){var W=m[T]*d,H=m[T+1]*d,Z=m[T+2]*d;B+=Math.abs((u[W]-u[Z])*(u[H+1]-u[W+1])-(u[W]-u[H])*(u[Z+1]-u[W+1]))}return C===0&&B===0?0:Math.abs((B-C)/C)},v_.flatten=function(u){for(var l=u[0][0].length,d={vertices:[],holes:[],dimensions:l},m=0,b=0;b<u.length;b++){for(var C=0;C<u[b].length;C++)for(var T=0;T<l;T++)d.vertices.push(u[b][C][T]);b>0&&d.holes.push(m+=u[b-1].length)}return d};var hN=h(yT.exports);function UZ(u,l,d,m,b){pN(u,l,d||0,m||u.length-1,b||VZ)}function pN(u,l,d,m,b){for(;m>d;){if(m-d>600){var C=m-d+1,T=l-d+1,R=Math.log(C),B=.5*Math.exp(2*R/3),W=.5*Math.sqrt(R*B*(C-B)/C)*(T-C/2<0?-1:1);pN(u,l,Math.max(d,Math.floor(l-T*B/C+W)),Math.min(m,Math.floor(l+(C-T)*B/C+W)),b)}var H=u[l],Z=d,Q=m;for(Zy(u,d,l),b(u[m],H)>0&&Zy(u,d,m);Z<Q;){for(Zy(u,Z,Q),Z++,Q--;b(u[Z],H)<0;)Z++;for(;b(u[Q],H)>0;)Q--}b(u[d],H)===0?Zy(u,d,Q):Zy(u,++Q,m),Q<=l&&(d=Q+1),l<=Q&&(m=Q-1)}}function Zy(u,l,d){var m=u[l];u[l]=u[d],u[d]=m}function VZ(u,l){return u<l?-1:u>l?1:0}function _T(u,l){const d=u.length;if(d<=1)return[u];const m=[];let b,C;for(let T=0;T<d;T++){const R=Oe(u[T]);R!==0&&(u[T].area=Math.abs(R),C===void 0&&(C=R<0),C===R<0?(b&&m.push(b),b=[u[T]]):b.push(u[T]))}if(b&&m.push(b),l>1)for(let T=0;T<m.length;T++)m[T].length<=l||(UZ(m[T],l,1,m[T].length-1,WZ),m[T]=m[T].slice(0,l));return m}function WZ(u,l){return l.area-u.area}function wT(u,l,d){const m=d.patternDependencies;let b=!1;for(const C of l){const T=C.paint.get(`${u}-pattern`);T.isConstant()||(b=!0);const R=T.constantOr(null);R&&(b=!0,m[R.to]=!0,m[R.from]=!0)}return b}function ST(u,l,d,m,b){const C=b.patternDependencies;for(const T of l){const R=T.paint.get(`${u}-pattern`).value;if(R.kind!=="constant"){let B=R.evaluate({zoom:m-1},d,{},b.availableImages),W=R.evaluate({zoom:m},d,{},b.availableImages),H=R.evaluate({zoom:m+1},d,{},b.availableImages);B=B&&B.name?B.name:B,W=W&&W.name?W.name:W,H=H&&H.name?H.name:H,C[B]=!0,C[W]=!0,C[H]=!0,d.patterns[T.id]={min:B,mid:W,max:H}}}return d}class CT{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new bt,this.indexArray=new Wr,this.indexArray2=new Lr,this.programConfigurations=new bf(l.layers,l.zoom),this.segments=new Ar,this.segments2=new Ar,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,m){this.hasPattern=wT("fill",this.layers,d);const b=this.layers[0].layout.get("fill-sort-key"),C=!b.isConstant(),T=[];for(const{feature:R,id:B,index:W,sourceLayerIndex:H}of l){const Z=this.layers[0]._featureFilter.needGeometry,Q=_f(R,Z);if(!this.layers[0]._featureFilter.filter(new kr(this.zoom),Q,m))continue;const ie=C?b.evaluate(Q,{},m,d.availableImages):void 0,oe={id:B,properties:R.properties,type:R.type,sourceLayerIndex:H,index:W,geometry:Z?Q.geometry:xf(R),patterns:{},sortKey:ie};T.push(oe)}C&&T.sort((R,B)=>R.sortKey-B.sortKey);for(const R of T){const{geometry:B,index:W,sourceLayerIndex:H}=R;if(this.hasPattern){const Z=ST("fill",this.layers,R,this.zoom,d);this.patternFeatures.push(Z)}else this.addFeature(R,B,W,m,{});d.featureIndex.insert(l[W].feature,B,W,H,this.index)}}update(l,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,m)}addFeatures(l,d,m){for(const b of this.patternFeatures)this.addFeature(b,b.geometry,b.index,d,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,IZ),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,d,m,b,C){for(const T of _T(d,500)){let R=0;for(const ie of T)R+=ie.length;const B=this.segments.prepareSegment(R,this.layoutVertexArray,this.indexArray),W=B.vertexLength,H=[],Z=[];for(const ie of T){if(ie.length===0)continue;ie!==T[0]&&Z.push(H.length/2);const oe=this.segments2.prepareSegment(ie.length,this.layoutVertexArray,this.indexArray2),ue=oe.vertexLength;this.layoutVertexArray.emplaceBack(ie[0].x,ie[0].y),this.indexArray2.emplaceBack(ue+ie.length-1,ue),H.push(ie[0].x),H.push(ie[0].y);for(let ge=1;ge<ie.length;ge++)this.layoutVertexArray.emplaceBack(ie[ge].x,ie[ge].y),this.indexArray2.emplaceBack(ue+ge-1,ue+ge),H.push(ie[ge].x),H.push(ie[ge].y);oe.vertexLength+=ie.length,oe.primitiveLength+=ie.length}const Q=hN(H,Z);for(let ie=0;ie<Q.length;ie+=3)this.indexArray.emplaceBack(W+Q[ie],W+Q[ie+1],W+Q[ie+2]);B.vertexLength+=R,B.primitiveLength+=Q.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,C,b)}}let mN,gN;kt("FillBucket",CT,{omit:["layers","patternFeatures"]});var qZ={get paint(){return gN=gN||new ao({"fill-antialias":new Bt(Ne.paint_fill["fill-antialias"]),"fill-opacity":new Zt(Ne.paint_fill["fill-opacity"]),"fill-color":new Zt(Ne.paint_fill["fill-color"]),"fill-outline-color":new Zt(Ne.paint_fill["fill-outline-color"]),"fill-translate":new Bt(Ne.paint_fill["fill-translate"]),"fill-translate-anchor":new Bt(Ne.paint_fill["fill-translate-anchor"]),"fill-pattern":new lp(Ne.paint_fill["fill-pattern"])})},get layout(){return mN=mN||new ao({"fill-sort-key":new Zt(Ne.layout_fill["fill-sort-key"])})}};class GZ extends $a{constructor(l){super(l,qZ)}recalculate(l,d){super.recalculate(l,d);const m=this.paint._values["fill-outline-color"];m.value.kind==="constant"&&m.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(l){return new CT(l)}queryRadius(){return m_(this.paint.get("fill-translate"))}queryIntersectsFeature(l,d,m,b,C,T,R){return XL(g_(l,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),T.angle,R),b)}isTileClipped(){return!0}}const HZ=Pr([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),YZ=Pr([{name:"a_centroid",components:2,type:"Int16"}],4),{members:KZ}=HZ;var zu={},ZZ=g,yN=yp;function yp(u,l,d,m,b){this.properties={},this.extent=d,this.type=0,this._pbf=u,this._geometry=-1,this._keys=m,this._values=b,u.readFields(XZ,this,l)}function XZ(u,l,d){u==1?l.id=d.readVarint():u==2?function(m,b){for(var C=m.readVarint()+m.pos;m.pos<C;){var T=b._keys[m.readVarint()],R=b._values[m.readVarint()];b.properties[T]=R}}(d,l):u==3?l.type=d.readVarint():u==4&&(l._geometry=d.pos)}function JZ(u){for(var l,d,m=0,b=0,C=u.length,T=C-1;b<C;T=b++)m+=((d=u[T]).x-(l=u[b]).x)*(l.y+d.y);return m}yp.types=["Unknown","Point","LineString","Polygon"],yp.prototype.loadGeometry=function(){var u=this._pbf;u.pos=this._geometry;for(var l,d=u.readVarint()+u.pos,m=1,b=0,C=0,T=0,R=[];u.pos<d;){if(b<=0){var B=u.readVarint();m=7&B,b=B>>3}if(b--,m===1||m===2)C+=u.readSVarint(),T+=u.readSVarint(),m===1&&(l&&R.push(l),l=[]),l.push(new ZZ(C,T));else{if(m!==7)throw new Error("unknown command "+m);l&&l.push(l[0].clone())}}return l&&R.push(l),R},yp.prototype.bbox=function(){var u=this._pbf;u.pos=this._geometry;for(var l=u.readVarint()+u.pos,d=1,m=0,b=0,C=0,T=1/0,R=-1/0,B=1/0,W=-1/0;u.pos<l;){if(m<=0){var H=u.readVarint();d=7&H,m=H>>3}if(m--,d===1||d===2)(b+=u.readSVarint())<T&&(T=b),b>R&&(R=b),(C+=u.readSVarint())<B&&(B=C),C>W&&(W=C);else if(d!==7)throw new Error("unknown command "+d)}return[T,B,R,W]},yp.prototype.toGeoJSON=function(u,l,d){var m,b,C=this.extent*Math.pow(2,d),T=this.extent*u,R=this.extent*l,B=this.loadGeometry(),W=yp.types[this.type];function H(ie){for(var oe=0;oe<ie.length;oe++){var ue=ie[oe];ie[oe]=[360*(ue.x+T)/C-180,360/Math.PI*Math.atan(Math.exp((180-360*(ue.y+R)/C)*Math.PI/180))-90]}}switch(this.type){case 1:var Z=[];for(m=0;m<B.length;m++)Z[m]=B[m][0];H(B=Z);break;case 2:for(m=0;m<B.length;m++)H(B[m]);break;case 3:for(B=function(ie){var oe=ie.length;if(oe<=1)return[ie];for(var ue,ge,xe=[],Re=0;Re<oe;Re++){var Te=JZ(ie[Re]);Te!==0&&(ge===void 0&&(ge=Te<0),ge===Te<0?(ue&&xe.push(ue),ue=[ie[Re]]):ue.push(ie[Re]))}return ue&&xe.push(ue),xe}(B),m=0;m<B.length;m++)for(b=0;b<B[m].length;b++)H(B[m][b])}B.length===1?B=B[0]:W="Multi"+W;var Q={type:"Feature",geometry:{type:W,coordinates:B},properties:this.properties};return"id"in this&&(Q.id=this.id),Q};var QZ=yN,vN=bN;function bN(u,l){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=u,this._keys=[],this._values=[],this._features=[],u.readFields(eX,this,l),this.length=this._features.length}function eX(u,l,d){u===15?l.version=d.readVarint():u===1?l.name=d.readString():u===5?l.extent=d.readVarint():u===2?l._features.push(d.pos):u===3?l._keys.push(d.readString()):u===4&&l._values.push(function(m){for(var b=null,C=m.readVarint()+m.pos;m.pos<C;){var T=m.readVarint()>>3;b=T===1?m.readString():T===2?m.readFloat():T===3?m.readDouble():T===4?m.readVarint64():T===5?m.readVarint():T===6?m.readSVarint():T===7?m.readBoolean():null}return b}(d))}bN.prototype.feature=function(u){if(u<0||u>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[u];var l=this._pbf.readVarint()+this._pbf.pos;return new QZ(this._pbf,l,this.extent,this._keys,this._values)};var tX=vN;function nX(u,l,d){if(u===3){var m=new tX(d,d.readVarint()+d.pos);m.length&&(l[m.name]=m)}}zu.VectorTile=function(u,l){this.layers=u.readFields(nX,{},l)},zu.VectorTileFeature=yN,zu.VectorTileLayer=vN;const rX=zu.VectorTileFeature.types,ET=Math.pow(2,13);function Xy(u,l,d,m,b,C,T,R){u.emplaceBack(l,d,2*Math.floor(m*ET)+T,b*ET*2,C*ET*2,Math.round(R))}class TT{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new Qt,this.centroidVertexArray=new $t,this.indexArray=new Wr,this.programConfigurations=new bf(l.layers,l.zoom),this.segments=new Ar,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,m){this.features=[],this.hasPattern=wT("fill-extrusion",this.layers,d);for(const{feature:b,id:C,index:T,sourceLayerIndex:R}of l){const B=this.layers[0]._featureFilter.needGeometry,W=_f(b,B);if(!this.layers[0]._featureFilter.filter(new kr(this.zoom),W,m))continue;const H={id:C,sourceLayerIndex:R,index:T,geometry:B?W.geometry:xf(b),properties:b.properties,type:b.type,patterns:{}};this.hasPattern?this.features.push(ST("fill-extrusion",this.layers,H,this.zoom,d)):this.addFeature(H,H.geometry,T,m,{}),d.featureIndex.insert(b,H.geometry,T,R,this.index,!0)}}addFeatures(l,d,m){for(const b of this.features){const{geometry:C}=b;this.addFeature(b,C,b.index,d,m)}}update(l,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,m)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,KZ),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,YZ.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,d,m,b,C){const T={x:0,y:0,vertexCount:0};for(const R of _T(d,500)){let B=0;for(const oe of R)B+=oe.length;let W=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const oe of R){if(oe.length===0||oX(oe))continue;let ue=0;for(let ge=0;ge<oe.length;ge++){const xe=oe[ge];if(ge>=1){const Re=oe[ge-1];if(!iX(xe,Re)){W.vertexLength+4>Ar.MAX_VERTEX_ARRAY_LENGTH&&(W=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const Te=xe.sub(Re)._perp()._unit(),Le=Re.dist(xe);ue+Le>32768&&(ue=0),Xy(this.layoutVertexArray,xe.x,xe.y,Te.x,Te.y,0,0,ue),Xy(this.layoutVertexArray,xe.x,xe.y,Te.x,Te.y,0,1,ue),T.x+=2*xe.x,T.y+=2*xe.y,T.vertexCount+=2,ue+=Le,Xy(this.layoutVertexArray,Re.x,Re.y,Te.x,Te.y,0,0,ue),Xy(this.layoutVertexArray,Re.x,Re.y,Te.x,Te.y,0,1,ue),T.x+=2*Re.x,T.y+=2*Re.y,T.vertexCount+=2;const je=W.vertexLength;this.indexArray.emplaceBack(je,je+2,je+1),this.indexArray.emplaceBack(je+1,je+2,je+3),W.vertexLength+=4,W.primitiveLength+=2}}}}if(W.vertexLength+B>Ar.MAX_VERTEX_ARRAY_LENGTH&&(W=this.segments.prepareSegment(B,this.layoutVertexArray,this.indexArray)),rX[l.type]!=="Polygon")continue;const H=[],Z=[],Q=W.vertexLength;for(const oe of R)if(oe.length!==0){oe!==R[0]&&Z.push(H.length/2);for(let ue=0;ue<oe.length;ue++){const ge=oe[ue];Xy(this.layoutVertexArray,ge.x,ge.y,0,0,1,1,0),T.x+=ge.x,T.y+=ge.y,T.vertexCount+=1,H.push(ge.x),H.push(ge.y)}}const ie=hN(H,Z);for(let oe=0;oe<ie.length;oe+=3)this.indexArray.emplaceBack(Q+ie[oe],Q+ie[oe+2],Q+ie[oe+1]);W.primitiveLength+=ie.length/3,W.vertexLength+=B}for(let R=0;R<T.vertexCount;R++)this.centroidVertexArray.emplaceBack(Math.floor(T.x/T.vertexCount),Math.floor(T.y/T.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,C,b)}}function iX(u,l){return u.x===l.x&&(u.x<0||u.x>ui)||u.y===l.y&&(u.y<0||u.y>ui)}function oX(u){return u.every(l=>l.x<0)||u.every(l=>l.x>ui)||u.every(l=>l.y<0)||u.every(l=>l.y>ui)}let xN;kt("FillExtrusionBucket",TT,{omit:["layers","features"]});var aX={get paint(){return xN=xN||new ao({"fill-extrusion-opacity":new Bt(Ne["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Zt(Ne["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Bt(Ne["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Bt(Ne["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new lp(Ne["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Zt(Ne["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Zt(Ne["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Bt(Ne["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class sX extends $a{constructor(l){super(l,aX)}createBucket(l){return new TT(l)}queryRadius(){return m_(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(l,d,m,b,C,T,R,B){const W=g_(l,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),T.angle,R),H=this.paint.get("fill-extrusion-height").evaluate(d,m),Z=this.paint.get("fill-extrusion-base").evaluate(d,m),Q=function(oe,ue,ge,xe){const Re=[];for(const Te of oe){const Le=[Te.x,Te.y,0,1];y_(Le,Le,ue),Re.push(new x(Le[0]/Le[3],Le[1]/Le[3]))}return Re}(W,B),ie=function(oe,ue,ge,xe){const Re=[],Te=[],Le=xe[8]*ue,je=xe[9]*ue,Ze=xe[10]*ue,wt=xe[11]*ue,Rt=xe[8]*ge,_t=xe[9]*ge,xt=xe[10]*ge,ut=xe[11]*ge;for(const At of oe){const pt=[],rt=[];for(const Yt of At){const zt=Yt.x,bn=Yt.y,_r=xe[0]*zt+xe[4]*bn+xe[12],Mr=xe[1]*zt+xe[5]*bn+xe[13],vi=xe[2]*zt+xe[6]*bn+xe[14],ga=xe[3]*zt+xe[7]*bn+xe[15],Co=vi+Ze,di=ga+wt,Li=_r+Rt,Yi=Mr+_t,Eo=vi+xt,To=ga+ut,bi=new x((_r+Le)/di,(Mr+je)/di);bi.z=Co/di,pt.push(bi);const xi=new x(Li/To,Yi/To);xi.z=Eo/To,rt.push(xi)}Re.push(pt),Te.push(rt)}return[Re,Te]}(b,Z,H,B);return function(oe,ue,ge){let xe=1/0;XL(ge,ue)&&(xe=_N(ge,ue[0]));for(let Re=0;Re<ue.length;Re++){const Te=ue[Re],Le=oe[Re];for(let je=0;je<Te.length-1;je++){const Ze=Te[je],wt=[Ze,Te[je+1],Le[je+1],Le[je],Ze];ZL(ge,wt)&&(xe=Math.min(xe,_N(ge,wt)))}}return xe!==1/0&&xe}(ie[0],ie[1],Q)}}function Jy(u,l){return u.x*l.x+u.y*l.y}function _N(u,l){if(u.length===1){let d=0;const m=l[d++];let b;for(;!b||m.equals(b);)if(b=l[d++],!b)return 1/0;for(;d<l.length;d++){const C=l[d],T=u[0],R=b.sub(m),B=C.sub(m),W=T.sub(m),H=Jy(R,R),Z=Jy(R,B),Q=Jy(B,B),ie=Jy(W,R),oe=Jy(W,B),ue=H*Q-Z*Z,ge=(Q*ie-Z*oe)/ue,xe=(H*oe-Z*ie)/ue,Re=m.z*(1-ge-xe)+b.z*ge+C.z*xe;if(isFinite(Re))return Re}return 1/0}{let d=1/0;for(const m of l)d=Math.min(d,m.z);return d}}const lX=Pr([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:cX}=lX,uX=Pr([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:dX}=uX,fX=zu.VectorTileFeature.types,hX=Math.cos(Math.PI/180*37.5),wN=Math.pow(2,14)/.5;class kT{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(d=>{this.gradients[d.id]={}}),this.layoutVertexArray=new Nt,this.layoutVertexArray2=new Or,this.indexArray=new Wr,this.programConfigurations=new bf(l.layers,l.zoom),this.segments=new Ar,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,m){this.hasPattern=wT("line",this.layers,d);const b=this.layers[0].layout.get("line-sort-key"),C=!b.isConstant(),T=[];for(const{feature:R,id:B,index:W,sourceLayerIndex:H}of l){const Z=this.layers[0]._featureFilter.needGeometry,Q=_f(R,Z);if(!this.layers[0]._featureFilter.filter(new kr(this.zoom),Q,m))continue;const ie=C?b.evaluate(Q,{},m):void 0,oe={id:B,properties:R.properties,type:R.type,sourceLayerIndex:H,index:W,geometry:Z?Q.geometry:xf(R),patterns:{},sortKey:ie};T.push(oe)}C&&T.sort((R,B)=>R.sortKey-B.sortKey);for(const R of T){const{geometry:B,index:W,sourceLayerIndex:H}=R;if(this.hasPattern){const Z=ST("line",this.layers,R,this.zoom,d);this.patternFeatures.push(Z)}else this.addFeature(R,B,W,m,{});d.featureIndex.insert(l[W].feature,B,W,H,this.index)}}update(l,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,m)}addFeatures(l,d,m){for(const b of this.patternFeatures)this.addFeature(b,b.geometry,b.index,d,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,dX)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,cX),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,d,m,b,C){const T=this.layers[0].layout,R=T.get("line-join").evaluate(l,{}),B=T.get("line-cap"),W=T.get("line-miter-limit"),H=T.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(const Z of d)this.addLine(Z,l,R,B,W,H);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,C,b)}addLine(l,d,m,b,C,T){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let xe=0;xe<l.length-1;xe++)this.totalDistance+=l[xe].dist(l[xe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const R=fX[d.type]==="Polygon";let B=l.length;for(;B>=2&&l[B-1].equals(l[B-2]);)B--;let W=0;for(;W<B-1&&l[W].equals(l[W+1]);)W++;if(B<(R?3:2))return;m==="bevel"&&(C=1.05);const H=this.overscaling<=16?15*ui/(512*this.overscaling):0,Z=this.segments.prepareSegment(10*B,this.layoutVertexArray,this.indexArray);let Q,ie,oe,ue,ge;this.e1=this.e2=-1,R&&(Q=l[B-2],ge=l[W].sub(Q)._unit()._perp());for(let xe=W;xe<B;xe++){if(oe=xe===B-1?R?l[W+1]:void 0:l[xe+1],oe&&l[xe].equals(oe))continue;ge&&(ue=ge),Q&&(ie=Q),Q=l[xe],ge=oe?oe.sub(Q)._unit()._perp():ue,ue=ue||ge;let Re=ue.add(ge);Re.x===0&&Re.y===0||Re._unit();const Te=ue.x*ge.x+ue.y*ge.y,Le=Re.x*ge.x+Re.y*ge.y,je=Le!==0?1/Le:1/0,Ze=2*Math.sqrt(2-2*Le),wt=Le<hX&&ie&&oe,Rt=ue.x*ge.y-ue.y*ge.x>0;if(wt&&xe>W){const ut=Q.dist(ie);if(ut>2*H){const At=Q.sub(Q.sub(ie)._mult(H/ut)._round());this.updateDistance(ie,At),this.addCurrentVertex(At,ue,0,0,Z),ie=At}}const _t=ie&&oe;let xt=_t?m:R?"butt":b;if(_t&&xt==="round"&&(je<T?xt="miter":je<=2&&(xt="fakeround")),xt==="miter"&&je>C&&(xt="bevel"),xt==="bevel"&&(je>2&&(xt="flipbevel"),je<C&&(xt="miter")),ie&&this.updateDistance(ie,Q),xt==="miter")Re._mult(je),this.addCurrentVertex(Q,Re,0,0,Z);else if(xt==="flipbevel"){if(je>100)Re=ge.mult(-1);else{const ut=je*ue.add(ge).mag()/ue.sub(ge).mag();Re._perp()._mult(ut*(Rt?-1:1))}this.addCurrentVertex(Q,Re,0,0,Z),this.addCurrentVertex(Q,Re.mult(-1),0,0,Z)}else if(xt==="bevel"||xt==="fakeround"){const ut=-Math.sqrt(je*je-1),At=Rt?ut:0,pt=Rt?0:ut;if(ie&&this.addCurrentVertex(Q,ue,At,pt,Z),xt==="fakeround"){const rt=Math.round(180*Ze/Math.PI/20);for(let Yt=1;Yt<rt;Yt++){let zt=Yt/rt;if(zt!==.5){const _r=zt-.5;zt+=zt*_r*(zt-1)*((1.0904+Te*(Te*(3.55645-1.43519*Te)-3.2452))*_r*_r+(.848013+Te*(.215638*Te-1.06021)))}const bn=ge.sub(ue)._mult(zt)._add(ue)._unit()._mult(Rt?-1:1);this.addHalfVertex(Q,bn.x,bn.y,!1,Rt,0,Z)}}oe&&this.addCurrentVertex(Q,ge,-At,-pt,Z)}else if(xt==="butt")this.addCurrentVertex(Q,Re,0,0,Z);else if(xt==="square"){const ut=ie?1:-1;this.addCurrentVertex(Q,Re,ut,ut,Z)}else xt==="round"&&(ie&&(this.addCurrentVertex(Q,ue,0,0,Z),this.addCurrentVertex(Q,ue,1,1,Z,!0)),oe&&(this.addCurrentVertex(Q,ge,-1,-1,Z,!0),this.addCurrentVertex(Q,ge,0,0,Z)));if(wt&&xe<B-1){const ut=Q.dist(oe);if(ut>2*H){const At=Q.add(oe.sub(Q)._mult(H/ut)._round());this.updateDistance(Q,At),this.addCurrentVertex(At,ge,0,0,Z),Q=At}}}}addCurrentVertex(l,d,m,b,C,T=!1){const R=d.y*b-d.x,B=-d.y-d.x*b;this.addHalfVertex(l,d.x+d.y*m,d.y-d.x*m,T,!1,m,C),this.addHalfVertex(l,R,B,T,!0,-b,C),this.distance>wN/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(l,d,m,b,C,T))}addHalfVertex({x:l,y:d},m,b,C,T,R,B){const W=.5*(this.lineClips?this.scaledDistance*(wN-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(C?1:0),(d<<1)+(T?1:0),Math.round(63*m)+128,Math.round(63*b)+128,1+(R===0?0:R<0?-1:1)|(63&W)<<2,W>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const H=B.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,H),B.primitiveLength++),T?this.e2=H:this.e1=H}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,d){this.distance+=l.dist(d),this.updateScaledDistance()}}let SN,CN;kt("LineBucket",kT,{omit:["layers","patternFeatures"]});var EN={get paint(){return CN=CN||new ao({"line-opacity":new Zt(Ne.paint_line["line-opacity"]),"line-color":new Zt(Ne.paint_line["line-color"]),"line-translate":new Bt(Ne.paint_line["line-translate"]),"line-translate-anchor":new Bt(Ne.paint_line["line-translate-anchor"]),"line-width":new Zt(Ne.paint_line["line-width"]),"line-gap-width":new Zt(Ne.paint_line["line-gap-width"]),"line-offset":new Zt(Ne.paint_line["line-offset"]),"line-blur":new Zt(Ne.paint_line["line-blur"]),"line-dasharray":new jy(Ne.paint_line["line-dasharray"]),"line-pattern":new lp(Ne.paint_line["line-pattern"]),"line-gradient":new ds(Ne.paint_line["line-gradient"])})},get layout(){return SN=SN||new ao({"line-cap":new Bt(Ne.layout_line["line-cap"]),"line-join":new Zt(Ne.layout_line["line-join"]),"line-miter-limit":new Bt(Ne.layout_line["line-miter-limit"]),"line-round-limit":new Bt(Ne.layout_line["line-round-limit"]),"line-sort-key":new Zt(Ne.layout_line["line-sort-key"])})}};class pX extends Zt{possiblyEvaluate(l,d){return d=new kr(Math.floor(d.zoom),{now:d.now,fadeDuration:d.fadeDuration,zoomHistory:d.zoomHistory,transition:d.transition}),super.possiblyEvaluate(l,d)}evaluate(l,d,m,b){return d=G({},d,{zoom:Math.floor(d.zoom)}),super.evaluate(l,d,m,b)}}let w_;class mX extends $a{constructor(l){super(l,EN),this.gradientVersion=0,w_||(w_=new pX(EN.paint.properties["line-width"].specification),w_.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(l){if(l==="line-gradient"){const d=this.gradientExpression();this.stepInterpolant=!!function(m){return m._styleExpression!==void 0}(d)&&d._styleExpression.expression instanceof zn,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(l,d){super.recalculate(l,d),this.paint._values["line-floorwidth"]=w_.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)}createBucket(l){return new kT(l)}queryRadius(l){const d=l,m=TN(Wy("line-width",this,d),Wy("line-gap-width",this,d)),b=Wy("line-offset",this,d);return m/2+Math.abs(b)+m_(this.paint.get("line-translate"))}queryIntersectsFeature(l,d,m,b,C,T,R){const B=g_(l,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),T.angle,R),W=R/2*TN(this.paint.get("line-width").evaluate(d,m),this.paint.get("line-gap-width").evaluate(d,m)),H=this.paint.get("line-offset").evaluate(d,m);return H&&(b=function(Z,Q){const ie=[];for(let oe=0;oe<Z.length;oe++){const ue=Z[oe],ge=[];for(let xe=0;xe<ue.length;xe++){const Re=ue[xe-1],Te=ue[xe],Le=ue[xe+1],je=xe===0?new x(0,0):Te.sub(Re)._unit()._perp(),Ze=xe===ue.length-1?new x(0,0):Le.sub(Te)._unit()._perp(),wt=je._add(Ze)._unit(),Rt=wt.x*Ze.x+wt.y*Ze.y;Rt!==0&&wt._mult(1/Rt),ge.push(wt._mult(Q)._add(Te))}ie.push(ge)}return ie}(b,H*R)),function(Z,Q,ie){for(let oe=0;oe<Q.length;oe++){const ue=Q[oe];if(Z.length>=3){for(let ge=0;ge<ue.length;ge++)if(pp(Z,ue[ge]))return!0}if(_Z(Z,ue,ie))return!0}return!1}(B,b,W)}isTileClipped(){return!0}}function TN(u,l){return l>0?l+2*u:u}const gX=Pr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),yX=Pr([{name:"a_projected_pos",components:3,type:"Float32"}],4);Pr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const vX=Pr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Pr([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const kN=Pr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),bX=Pr([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function xX(u,l,d){return u.sections.forEach(m=>{m.text=function(b,C,T){const R=C.layout.get("text-transform").evaluate(T,{});return R==="uppercase"?b=b.toLocaleUpperCase():R==="lowercase"&&(b=b.toLocaleLowerCase()),Ko.applyArabicShaping&&(b=Ko.applyArabicShaping(b)),b}(m.text,l,d)}),u}Pr([{name:"triangle",components:3,type:"Uint16"}]),Pr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Pr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Pr([{type:"Float32",name:"offsetX"}]),Pr([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Pr([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Qy={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var yi=24,PN=or,ON=function(u,l,d,m,b){var C,T,R=8*b-m-1,B=(1<<R)-1,W=B>>1,H=-7,Z=d?b-1:0,Q=d?-1:1,ie=u[l+Z];for(Z+=Q,C=ie&(1<<-H)-1,ie>>=-H,H+=R;H>0;C=256*C+u[l+Z],Z+=Q,H-=8);for(T=C&(1<<-H)-1,C>>=-H,H+=m;H>0;T=256*T+u[l+Z],Z+=Q,H-=8);if(C===0)C=1-W;else{if(C===B)return T?NaN:1/0*(ie?-1:1);T+=Math.pow(2,m),C-=W}return(ie?-1:1)*T*Math.pow(2,C-m)},AN=function(u,l,d,m,b,C){var T,R,B,W=8*C-b-1,H=(1<<W)-1,Z=H>>1,Q=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,ie=m?0:C-1,oe=m?1:-1,ue=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(R=isNaN(l)?1:0,T=H):(T=Math.floor(Math.log(l)/Math.LN2),l*(B=Math.pow(2,-T))<1&&(T--,B*=2),(l+=T+Z>=1?Q/B:Q*Math.pow(2,1-Z))*B>=2&&(T++,B/=2),T+Z>=H?(R=0,T=H):T+Z>=1?(R=(l*B-1)*Math.pow(2,b),T+=Z):(R=l*Math.pow(2,Z-1)*Math.pow(2,b),T=0));b>=8;u[d+ie]=255&R,ie+=oe,R/=256,b-=8);for(T=T<<b|R,W+=b;W>0;u[d+ie]=255&T,ie+=oe,T/=256,W-=8);u[d+ie-oe]|=128*ue};function or(u){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(u)?u:new Uint8Array(u||0),this.pos=0,this.type=0,this.length=this.buf.length}or.Varint=0,or.Fixed64=1,or.Bytes=2,or.Fixed32=5;var PT=4294967296,MN=1/PT,IN=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Cc(u){return u.type===or.Bytes?u.readVarint()+u.pos:u.pos+1}function vp(u,l,d){return d?4294967296*l+(u>>>0):4294967296*(l>>>0)+(u>>>0)}function $N(u,l,d){var m=l<=16383?1:l<=2097151?2:l<=268435455?3:Math.floor(Math.log(l)/(7*Math.LN2));d.realloc(m);for(var b=d.pos-1;b>=u;b--)d.buf[b+m]=d.buf[b]}function _X(u,l){for(var d=0;d<u.length;d++)l.writeVarint(u[d])}function wX(u,l){for(var d=0;d<u.length;d++)l.writeSVarint(u[d])}function SX(u,l){for(var d=0;d<u.length;d++)l.writeFloat(u[d])}function CX(u,l){for(var d=0;d<u.length;d++)l.writeDouble(u[d])}function EX(u,l){for(var d=0;d<u.length;d++)l.writeBoolean(u[d])}function TX(u,l){for(var d=0;d<u.length;d++)l.writeFixed32(u[d])}function kX(u,l){for(var d=0;d<u.length;d++)l.writeSFixed32(u[d])}function PX(u,l){for(var d=0;d<u.length;d++)l.writeFixed64(u[d])}function OX(u,l){for(var d=0;d<u.length;d++)l.writeSFixed64(u[d])}function S_(u,l){return(u[l]|u[l+1]<<8|u[l+2]<<16)+16777216*u[l+3]}function bp(u,l,d){u[d]=l,u[d+1]=l>>>8,u[d+2]=l>>>16,u[d+3]=l>>>24}function RN(u,l){return(u[l]|u[l+1]<<8|u[l+2]<<16)+(u[l+3]<<24)}or.prototype={destroy:function(){this.buf=null},readFields:function(u,l,d){for(d=d||this.length;this.pos<d;){var m=this.readVarint(),b=m>>3,C=this.pos;this.type=7&m,u(b,l,this),this.pos===C&&this.skip(m)}return l},readMessage:function(u,l){return this.readFields(u,l,this.readVarint()+this.pos)},readFixed32:function(){var u=S_(this.buf,this.pos);return this.pos+=4,u},readSFixed32:function(){var u=RN(this.buf,this.pos);return this.pos+=4,u},readFixed64:function(){var u=S_(this.buf,this.pos)+S_(this.buf,this.pos+4)*PT;return this.pos+=8,u},readSFixed64:function(){var u=S_(this.buf,this.pos)+RN(this.buf,this.pos+4)*PT;return this.pos+=8,u},readFloat:function(){var u=ON(this.buf,this.pos,!0,23,4);return this.pos+=4,u},readDouble:function(){var u=ON(this.buf,this.pos,!0,52,8);return this.pos+=8,u},readVarint:function(u){var l,d,m=this.buf;return l=127&(d=m[this.pos++]),d<128?l:(l|=(127&(d=m[this.pos++]))<<7,d<128?l:(l|=(127&(d=m[this.pos++]))<<14,d<128?l:(l|=(127&(d=m[this.pos++]))<<21,d<128?l:function(b,C,T){var R,B,W=T.buf;if(R=(112&(B=W[T.pos++]))>>4,B<128||(R|=(127&(B=W[T.pos++]))<<3,B<128)||(R|=(127&(B=W[T.pos++]))<<10,B<128)||(R|=(127&(B=W[T.pos++]))<<17,B<128)||(R|=(127&(B=W[T.pos++]))<<24,B<128)||(R|=(1&(B=W[T.pos++]))<<31,B<128))return vp(b,R,C);throw new Error("Expected varint not more than 10 bytes")}(l|=(15&(d=m[this.pos]))<<28,u,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var u=this.readVarint();return u%2==1?(u+1)/-2:u/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var u=this.readVarint()+this.pos,l=this.pos;return this.pos=u,u-l>=12&&IN?function(d,m,b){return IN.decode(d.subarray(m,b))}(this.buf,l,u):function(d,m,b){for(var C="",T=m;T<b;){var R,B,W,H=d[T],Z=null,Q=H>239?4:H>223?3:H>191?2:1;if(T+Q>b)break;Q===1?H<128&&(Z=H):Q===2?(192&(R=d[T+1]))==128&&(Z=(31&H)<<6|63&R)<=127&&(Z=null):Q===3?(B=d[T+2],(192&(R=d[T+1]))==128&&(192&B)==128&&((Z=(15&H)<<12|(63&R)<<6|63&B)<=2047||Z>=55296&&Z<=57343)&&(Z=null)):Q===4&&(B=d[T+2],W=d[T+3],(192&(R=d[T+1]))==128&&(192&B)==128&&(192&W)==128&&((Z=(15&H)<<18|(63&R)<<12|(63&B)<<6|63&W)<=65535||Z>=1114112)&&(Z=null)),Z===null?(Z=65533,Q=1):Z>65535&&(Z-=65536,C+=String.fromCharCode(Z>>>10&1023|55296),Z=56320|1023&Z),C+=String.fromCharCode(Z),T+=Q}return C}(this.buf,l,u)},readBytes:function(){var u=this.readVarint()+this.pos,l=this.buf.subarray(this.pos,u);return this.pos=u,l},readPackedVarint:function(u,l){if(this.type!==or.Bytes)return u.push(this.readVarint(l));var d=Cc(this);for(u=u||[];this.pos<d;)u.push(this.readVarint(l));return u},readPackedSVarint:function(u){if(this.type!==or.Bytes)return u.push(this.readSVarint());var l=Cc(this);for(u=u||[];this.pos<l;)u.push(this.readSVarint());return u},readPackedBoolean:function(u){if(this.type!==or.Bytes)return u.push(this.readBoolean());var l=Cc(this);for(u=u||[];this.pos<l;)u.push(this.readBoolean());return u},readPackedFloat:function(u){if(this.type!==or.Bytes)return u.push(this.readFloat());var l=Cc(this);for(u=u||[];this.pos<l;)u.push(this.readFloat());return u},readPackedDouble:function(u){if(this.type!==or.Bytes)return u.push(this.readDouble());var l=Cc(this);for(u=u||[];this.pos<l;)u.push(this.readDouble());return u},readPackedFixed32:function(u){if(this.type!==or.Bytes)return u.push(this.readFixed32());var l=Cc(this);for(u=u||[];this.pos<l;)u.push(this.readFixed32());return u},readPackedSFixed32:function(u){if(this.type!==or.Bytes)return u.push(this.readSFixed32());var l=Cc(this);for(u=u||[];this.pos<l;)u.push(this.readSFixed32());return u},readPackedFixed64:function(u){if(this.type!==or.Bytes)return u.push(this.readFixed64());var l=Cc(this);for(u=u||[];this.pos<l;)u.push(this.readFixed64());return u},readPackedSFixed64:function(u){if(this.type!==or.Bytes)return u.push(this.readSFixed64());var l=Cc(this);for(u=u||[];this.pos<l;)u.push(this.readSFixed64());return u},skip:function(u){var l=7&u;if(l===or.Varint)for(;this.buf[this.pos++]>127;);else if(l===or.Bytes)this.pos=this.readVarint()+this.pos;else if(l===or.Fixed32)this.pos+=4;else{if(l!==or.Fixed64)throw new Error("Unimplemented type: "+l);this.pos+=8}},writeTag:function(u,l){this.writeVarint(u<<3|l)},realloc:function(u){for(var l=this.length||16;l<this.pos+u;)l*=2;if(l!==this.length){var d=new Uint8Array(l);d.set(this.buf),this.buf=d,this.length=l}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(u){this.realloc(4),bp(this.buf,u,this.pos),this.pos+=4},writeSFixed32:function(u){this.realloc(4),bp(this.buf,u,this.pos),this.pos+=4},writeFixed64:function(u){this.realloc(8),bp(this.buf,-1&u,this.pos),bp(this.buf,Math.floor(u*MN),this.pos+4),this.pos+=8},writeSFixed64:function(u){this.realloc(8),bp(this.buf,-1&u,this.pos),bp(this.buf,Math.floor(u*MN),this.pos+4),this.pos+=8},writeVarint:function(u){(u=+u||0)>268435455||u<0?function(l,d){var m,b;if(l>=0?(m=l%4294967296|0,b=l/4294967296|0):(b=~(-l/4294967296),4294967295^(m=~(-l%4294967296))?m=m+1|0:(m=0,b=b+1|0)),l>=18446744073709552e3||l<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");d.realloc(10),function(C,T,R){R.buf[R.pos++]=127&C|128,C>>>=7,R.buf[R.pos++]=127&C|128,C>>>=7,R.buf[R.pos++]=127&C|128,C>>>=7,R.buf[R.pos++]=127&C|128,R.buf[R.pos]=127&(C>>>=7)}(m,0,d),function(C,T){var R=(7&C)<<4;T.buf[T.pos++]|=R|((C>>>=3)?128:0),C&&(T.buf[T.pos++]=127&C|((C>>>=7)?128:0),C&&(T.buf[T.pos++]=127&C|((C>>>=7)?128:0),C&&(T.buf[T.pos++]=127&C|((C>>>=7)?128:0),C&&(T.buf[T.pos++]=127&C|((C>>>=7)?128:0),C&&(T.buf[T.pos++]=127&C)))))}(b,d)}(u,this):(this.realloc(4),this.buf[this.pos++]=127&u|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=u>>>7&127))))},writeSVarint:function(u){this.writeVarint(u<0?2*-u-1:2*u)},writeBoolean:function(u){this.writeVarint(!!u)},writeString:function(u){u=String(u),this.realloc(4*u.length),this.pos++;var l=this.pos;this.pos=function(m,b,C){for(var T,R,B=0;B<b.length;B++){if((T=b.charCodeAt(B))>55295&&T<57344){if(!R){T>56319||B+1===b.length?(m[C++]=239,m[C++]=191,m[C++]=189):R=T;continue}if(T<56320){m[C++]=239,m[C++]=191,m[C++]=189,R=T;continue}T=R-55296<<10|T-56320|65536,R=null}else R&&(m[C++]=239,m[C++]=191,m[C++]=189,R=null);T<128?m[C++]=T:(T<2048?m[C++]=T>>6|192:(T<65536?m[C++]=T>>12|224:(m[C++]=T>>18|240,m[C++]=T>>12&63|128),m[C++]=T>>6&63|128),m[C++]=63&T|128)}return C}(this.buf,u,this.pos);var d=this.pos-l;d>=128&&$N(l,d,this),this.pos=l-1,this.writeVarint(d),this.pos+=d},writeFloat:function(u){this.realloc(4),AN(this.buf,u,this.pos,!0,23,4),this.pos+=4},writeDouble:function(u){this.realloc(8),AN(this.buf,u,this.pos,!0,52,8),this.pos+=8},writeBytes:function(u){var l=u.length;this.writeVarint(l),this.realloc(l);for(var d=0;d<l;d++)this.buf[this.pos++]=u[d]},writeRawMessage:function(u,l){this.pos++;var d=this.pos;u(l,this);var m=this.pos-d;m>=128&&$N(d,m,this),this.pos=d-1,this.writeVarint(m),this.pos+=m},writeMessage:function(u,l,d){this.writeTag(u,or.Bytes),this.writeRawMessage(l,d)},writePackedVarint:function(u,l){l.length&&this.writeMessage(u,_X,l)},writePackedSVarint:function(u,l){l.length&&this.writeMessage(u,wX,l)},writePackedBoolean:function(u,l){l.length&&this.writeMessage(u,EX,l)},writePackedFloat:function(u,l){l.length&&this.writeMessage(u,SX,l)},writePackedDouble:function(u,l){l.length&&this.writeMessage(u,CX,l)},writePackedFixed32:function(u,l){l.length&&this.writeMessage(u,TX,l)},writePackedSFixed32:function(u,l){l.length&&this.writeMessage(u,kX,l)},writePackedFixed64:function(u,l){l.length&&this.writeMessage(u,PX,l)},writePackedSFixed64:function(u,l){l.length&&this.writeMessage(u,OX,l)},writeBytesField:function(u,l){this.writeTag(u,or.Bytes),this.writeBytes(l)},writeFixed32Field:function(u,l){this.writeTag(u,or.Fixed32),this.writeFixed32(l)},writeSFixed32Field:function(u,l){this.writeTag(u,or.Fixed32),this.writeSFixed32(l)},writeFixed64Field:function(u,l){this.writeTag(u,or.Fixed64),this.writeFixed64(l)},writeSFixed64Field:function(u,l){this.writeTag(u,or.Fixed64),this.writeSFixed64(l)},writeVarintField:function(u,l){this.writeTag(u,or.Varint),this.writeVarint(l)},writeSVarintField:function(u,l){this.writeTag(u,or.Varint),this.writeSVarint(l)},writeStringField:function(u,l){this.writeTag(u,or.Bytes),this.writeString(l)},writeFloatField:function(u,l){this.writeTag(u,or.Fixed32),this.writeFloat(l)},writeDoubleField:function(u,l){this.writeTag(u,or.Fixed64),this.writeDouble(l)},writeBooleanField:function(u,l){this.writeVarintField(u,!!l)}};var OT=h(PN);const AT=3;function AX(u,l,d){u===1&&d.readMessage(MX,l)}function MX(u,l,d){if(u===3){const{id:m,bitmap:b,width:C,height:T,left:R,top:B,advance:W}=d.readMessage(IX,{});l.push({id:m,bitmap:new Gy({width:C+2*AT,height:T+2*AT},b),metrics:{width:C,height:T,left:R,top:B,advance:W}})}}function IX(u,l,d){u===1?l.id=d.readVarint():u===2?l.bitmap=d.readBytes():u===3?l.width=d.readVarint():u===4?l.height=d.readVarint():u===5?l.left=d.readSVarint():u===6?l.top=d.readSVarint():u===7&&(l.advance=d.readVarint())}const DN=AT;function LN(u){let l=0,d=0;for(const T of u)l+=T.w*T.h,d=Math.max(d,T.w);u.sort((T,R)=>R.h-T.h);const m=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),d),h:1/0}];let b=0,C=0;for(const T of u)for(let R=m.length-1;R>=0;R--){const B=m[R];if(!(T.w>B.w||T.h>B.h)){if(T.x=B.x,T.y=B.y,C=Math.max(C,T.y+T.h),b=Math.max(b,T.x+T.w),T.w===B.w&&T.h===B.h){const W=m.pop();R<m.length&&(m[R]=W)}else T.h===B.h?(B.x+=T.w,B.w-=T.w):T.w===B.w?(B.y+=T.h,B.h-=T.h):(m.push({x:B.x+T.w,y:B.y,w:B.w-T.w,h:T.h}),B.y+=T.h,B.h-=T.h);break}}return{w:b,h:C,fill:l/(b*C)||0}}const Qo=1;class MT{constructor(l,{pixelRatio:d,version:m,stretchX:b,stretchY:C,content:T}){this.paddedRect=l,this.pixelRatio=d,this.stretchX=b,this.stretchY=C,this.content=T,this.version=m}get tl(){return[this.paddedRect.x+Qo,this.paddedRect.y+Qo]}get br(){return[this.paddedRect.x+this.paddedRect.w-Qo,this.paddedRect.y+this.paddedRect.h-Qo]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Qo)/this.pixelRatio,(this.paddedRect.h-2*Qo)/this.pixelRatio]}}class NN{constructor(l,d){const m={},b={};this.haveRenderCallbacks=[];const C=[];this.addImages(l,m,C),this.addImages(d,b,C);const{w:T,h:R}=LN(C),B=new Ra({width:T||1,height:R||1});for(const W in l){const H=l[W],Z=m[W].paddedRect;Ra.copy(H.data,B,{x:0,y:0},{x:Z.x+Qo,y:Z.y+Qo},H.data)}for(const W in d){const H=d[W],Z=b[W].paddedRect,Q=Z.x+Qo,ie=Z.y+Qo,oe=H.data.width,ue=H.data.height;Ra.copy(H.data,B,{x:0,y:0},{x:Q,y:ie},H.data),Ra.copy(H.data,B,{x:0,y:ue-1},{x:Q,y:ie-1},{width:oe,height:1}),Ra.copy(H.data,B,{x:0,y:0},{x:Q,y:ie+ue},{width:oe,height:1}),Ra.copy(H.data,B,{x:oe-1,y:0},{x:Q-1,y:ie},{width:1,height:ue}),Ra.copy(H.data,B,{x:0,y:0},{x:Q+oe,y:ie},{width:1,height:ue})}this.image=B,this.iconPositions=m,this.patternPositions=b}addImages(l,d,m){for(const b in l){const C=l[b],T={x:0,y:0,w:C.data.width+2*Qo,h:C.data.height+2*Qo};m.push(T),d[b]=new MT(T,C),C.hasRenderCallback&&this.haveRenderCallbacks.push(b)}}patchUpdatedImages(l,d){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const m in l.updatedImages)this.patchUpdatedImage(this.iconPositions[m],l.getImage(m),d),this.patchUpdatedImage(this.patternPositions[m],l.getImage(m),d)}patchUpdatedImage(l,d,m){if(!l||!d||l.version===d.version)return;l.version=d.version;const[b,C]=l.tl;m.update(d.data,void 0,{x:b,y:C})}}var ju;kt("ImagePosition",MT),kt("ImageAtlas",NN),a.WritingMode=void 0,(ju=a.WritingMode||(a.WritingMode={}))[ju.none=0]="none",ju[ju.horizontal=1]="horizontal",ju[ju.vertical=2]="vertical",ju[ju.horizontalOnly=3]="horizontalOnly";const ev=-17;class tv{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(l,d){const m=new tv;return m.scale=l||1,m.fontStack=d,m}static forImage(l){const d=new tv;return d.imageName=l,d}}class xp{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(l,d){const m=new xp;for(let b=0;b<l.sections.length;b++){const C=l.sections[b];C.image?m.addImageSection(C):m.addTextSection(C,d)}return m}length(){return this.text.length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}getCharCode(l){return this.text.charCodeAt(l)}verticalizePunctuation(){this.text=function(l){let d="";for(let m=0;m<l.length;m++){const b=l.charCodeAt(m+1)||null,C=l.charCodeAt(m-1)||null;d+=b&&a_(b)&&!Qy[l[m+1]]||C&&a_(C)&&!Qy[l[m-1]]||!Qy[l[m]]?l[m]:Qy[l[m]]}return d}(this.text)}trim(){let l=0;for(let m=0;m<this.text.length&&E_[this.text.charCodeAt(m)];m++)l++;let d=this.text.length;for(let m=this.text.length-1;m>=0&&m>=l&&E_[this.text.charCodeAt(m)];m--)d--;this.text=this.text.substring(l,d),this.sectionIndex=this.sectionIndex.slice(l,d)}substring(l,d){const m=new xp;return m.text=this.text.substring(l,d),m.sectionIndex=this.sectionIndex.slice(l,d),m.sections=this.sections,m}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((l,d)=>Math.max(l,this.sections[d].scale),0)}addTextSection(l,d){this.text+=l.text,this.sections.push(tv.forText(l.scale,l.fontStack||d));const m=this.sections.length-1;for(let b=0;b<l.text.length;++b)this.sectionIndex.push(m)}addImageSection(l){const d=l.image?l.image.name:"";if(d.length===0)return void we("Can't add FormattedSection with an empty image.");const m=this.getNextImageSectionCharCode();m?(this.text+=String.fromCharCode(m),this.sections.push(tv.forImage(d)),this.sectionIndex.push(this.sections.length-1)):we("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function C_(u,l,d,m,b,C,T,R,B,W,H,Z,Q,ie,oe,ue){const ge=xp.fromFeature(u,b);let xe;Z===a.WritingMode.vertical&&ge.verticalizePunctuation();const{processBidirectionalText:Re,processStyledBidirectionalText:Te}=Ko;if(Re&&ge.sections.length===1){xe=[];const Ze=Re(ge.toString(),IT(ge,W,C,l,m,ie,oe));for(const wt of Ze){const Rt=new xp;Rt.text=wt,Rt.sections=ge.sections;for(let _t=0;_t<wt.length;_t++)Rt.sectionIndex.push(0);xe.push(Rt)}}else if(Te){xe=[];const Ze=Te(ge.text,ge.sectionIndex,IT(ge,W,C,l,m,ie,oe));for(const wt of Ze){const Rt=new xp;Rt.text=wt[0],Rt.sectionIndex=wt[1],Rt.sections=ge.sections,xe.push(Rt)}}else xe=function(Ze,wt){const Rt=[],_t=Ze.text;let xt=0;for(const ut of wt)Rt.push(Ze.substring(xt,ut)),xt=ut;return xt<_t.length&&Rt.push(Ze.substring(xt,_t.length)),Rt}(ge,IT(ge,W,C,l,m,ie,oe));const Le=[],je={positionedLines:Le,text:ge.toString(),top:H[1],bottom:H[1],left:H[0],right:H[0],writingMode:Z,iconsInText:!1,verticalizable:!1};return function(Ze,wt,Rt,_t,xt,ut,At,pt,rt,Yt,zt,bn){let _r=0,Mr=ev,vi=0,ga=0;const Co=pt==="right"?1:pt==="left"?0:.5;let di=0;for(const bi of xt){bi.trim();const xi=bi.getMaxScale(),lo=(xi-1)*yi,ko={positionedGlyphs:[],lineOffset:0};Ze.positionedLines[di]=ko;const co=ko.positionedGlyphs;let ea=0;if(!bi.length()){Mr+=ut,++di;continue}for(let _i=0;_i<bi.length();_i++){const Pn=bi.getSection(_i),uo=bi.getSectionIndex(_i),Ki=bi.getCharCode(_i);let wi=0,ps=null,Js=null,Qs=null,Ec=yi;const ms=!(rt===a.WritingMode.horizontal||!zt&&!Oy(Ki)||zt&&(E_[Ki]||(Li=Ki,St.Arabic(Li)||St["Arabic Supplement"](Li)||St["Arabic Extended-A"](Li)||St["Arabic Presentation Forms-A"](Li)||St["Arabic Presentation Forms-B"](Li))));if(Pn.imageName){const La=_t[Pn.imageName];if(!La)continue;Qs=Pn.imageName,Ze.iconsInText=Ze.iconsInText||!0,Js=La.paddedRect;const na=La.displaySize;Pn.scale=Pn.scale*yi/bn,ps={width:na[0],height:na[1],left:Qo,top:-DN,advance:ms?na[1]:na[0]},wi=lo+(yi-na[1]*Pn.scale),Ec=ps.advance;const Tc=ms?na[0]*Pn.scale-yi*xi:na[1]*Pn.scale-yi*xi;Tc>0&&Tc>ea&&(ea=Tc)}else{const La=Rt[Pn.fontStack],na=La&&La[Ki];if(na&&na.rect)Js=na.rect,ps=na.metrics;else{const Tc=wt[Pn.fontStack],av=Tc&&Tc[Ki];if(!av)continue;ps=av.metrics}wi=(xi-Pn.scale)*yi}ms?(Ze.verticalizable=!0,co.push({glyph:Ki,imageName:Qs,x:_r,y:Mr+wi,vertical:ms,scale:Pn.scale,fontStack:Pn.fontStack,sectionIndex:uo,metrics:ps,rect:Js}),_r+=Ec*Pn.scale+Yt):(co.push({glyph:Ki,imageName:Qs,x:_r,y:Mr+wi,vertical:ms,scale:Pn.scale,fontStack:Pn.fontStack,sectionIndex:uo,metrics:ps,rect:Js}),_r+=ps.advance*Pn.scale+Yt)}co.length!==0&&(vi=Math.max(_r-Yt,vi),DX(co,0,co.length-1,Co,ea)),_r=0;const ta=ut*xi+ea;ko.lineOffset=Math.max(ea,lo),Mr+=ta,ga=Math.max(ta,ga),++di}var Li;const Yi=Mr-ev,{horizontalAlign:Eo,verticalAlign:To}=$T(At);(function(bi,xi,lo,ko,co,ea,ta,_i,Pn){const uo=(xi-lo)*co;let Ki=0;Ki=ea!==ta?-_i*ko-ev:(-ko*Pn+.5)*ta;for(const wi of bi)for(const ps of wi.positionedGlyphs)ps.x+=uo,ps.y+=Ki})(Ze.positionedLines,Co,Eo,To,vi,ga,ut,Yi,xt.length),Ze.top+=-To*Yi,Ze.bottom=Ze.top+Yi,Ze.left+=-Eo*vi,Ze.right=Ze.left+vi}(je,l,d,m,xe,T,R,B,Z,W,Q,ue),!function(Ze){for(const wt of Ze)if(wt.positionedGlyphs.length!==0)return!1;return!0}(Le)&&je}const E_={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},$X={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function zN(u,l,d,m,b,C){if(l.imageName){const T=m[l.imageName];return T?T.displaySize[0]*l.scale*yi/C+b:0}{const T=d[l.fontStack],R=T&&T[u];return R?R.metrics.advance*l.scale+b:0}}function jN(u,l,d,m){const b=Math.pow(u-l,2);return m?u<l?b/2:2*b:b+Math.abs(d)*d}function RX(u,l,d){let m=0;return u===10&&(m-=1e4),d&&(m+=150),u!==40&&u!==65288||(m+=50),l!==41&&l!==65289||(m+=50),m}function BN(u,l,d,m,b,C){let T=null,R=jN(l,d,b,C);for(const B of m){const W=jN(l-B.x,d,b,C)+B.badness;W<=R&&(T=B,R=W)}return{index:u,x:l,priorBreak:T,badness:R}}function FN(u){return u?FN(u.priorBreak).concat(u.index):[]}function IT(u,l,d,m,b,C,T){if(C!=="point")return[];if(!u)return[];const R=[],B=function(Q,ie,oe,ue,ge,xe){let Re=0;for(let Te=0;Te<Q.length();Te++){const Le=Q.getSection(Te);Re+=zN(Q.getCharCode(Te),Le,ue,ge,ie,xe)}return Re/Math.max(1,Math.ceil(Re/oe))}(u,l,d,m,b,T),W=u.text.indexOf("")>=0;let H=0;for(let Q=0;Q<u.length();Q++){const ie=u.getSection(Q),oe=u.getCharCode(Q);if(E_[oe]||(H+=zN(oe,ie,m,b,l,T)),Q<u.length()-1){const ue=!((Z=oe)<11904||!(St["Bopomofo Extended"](Z)||St.Bopomofo(Z)||St["CJK Compatibility Forms"](Z)||St["CJK Compatibility Ideographs"](Z)||St["CJK Compatibility"](Z)||St["CJK Radicals Supplement"](Z)||St["CJK Strokes"](Z)||St["CJK Symbols and Punctuation"](Z)||St["CJK Unified Ideographs Extension A"](Z)||St["CJK Unified Ideographs"](Z)||St["Enclosed CJK Letters and Months"](Z)||St["Halfwidth and Fullwidth Forms"](Z)||St.Hiragana(Z)||St["Ideographic Description Characters"](Z)||St["Kangxi Radicals"](Z)||St["Katakana Phonetic Extensions"](Z)||St.Katakana(Z)||St["Vertical Forms"](Z)||St["Yi Radicals"](Z)||St["Yi Syllables"](Z)));($X[oe]||ue||ie.imageName)&&R.push(BN(Q+1,H,B,R,RX(oe,u.getCharCode(Q+1),ue&&W),!1))}}var Z;return FN(BN(u.length(),H,B,R,0,!0))}function $T(u){let l=.5,d=.5;switch(u){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(u){case"bottom":case"bottom-right":case"bottom-left":d=1;break;case"top":case"top-right":case"top-left":d=0}return{horizontalAlign:l,verticalAlign:d}}function DX(u,l,d,m,b){if(!m&&!b)return;const C=u[d],T=(u[d].x+C.metrics.advance*C.scale)*m;for(let R=l;R<=d;R++)u[R].x-=T,u[R].y+=b}function LX(u,l,d){const{horizontalAlign:m,verticalAlign:b}=$T(d),C=l[0]-u.displaySize[0]*m,T=l[1]-u.displaySize[1]*b;return{image:u,top:T,bottom:T+u.displaySize[1],left:C,right:C+u.displaySize[0]}}function UN(u,l,d,m,b,C){const T=u.image;let R;if(T.content){const ge=T.content,xe=T.pixelRatio||1;R=[ge[0]/xe,ge[1]/xe,T.displaySize[0]-ge[2]/xe,T.displaySize[1]-ge[3]/xe]}const B=l.left*C,W=l.right*C;let H,Z,Q,ie;d==="width"||d==="both"?(ie=b[0]+B-m[3],Z=b[0]+W+m[1]):(ie=b[0]+(B+W-T.displaySize[0])/2,Z=ie+T.displaySize[0]);const oe=l.top*C,ue=l.bottom*C;return d==="height"||d==="both"?(H=b[1]+oe-m[0],Q=b[1]+ue+m[2]):(H=b[1]+(oe+ue-T.displaySize[1])/2,Q=H+T.displaySize[1]),{image:T,top:H,right:Z,bottom:Q,left:ie,collisionPadding:R}}const nv=255,Nl=128,Bu=nv*Nl;function VN(u,l){const{expression:d}=l;if(d.kind==="constant")return{kind:"constant",layoutSize:d.evaluate(new kr(u+1))};if(d.kind==="source")return{kind:"source"};{const{zoomStops:m,interpolationType:b}=d;let C=0;for(;C<m.length&&m[C]<=u;)C++;C=Math.max(0,C-1);let T=C;for(;T<m.length&&m[T]<u+1;)T++;T=Math.min(m.length-1,T);const R=m[C],B=m[T];return d.kind==="composite"?{kind:"composite",minZoom:R,maxZoom:B,interpolationType:b}:{kind:"camera",minZoom:R,maxZoom:B,minSize:d.evaluate(new kr(R)),maxSize:d.evaluate(new kr(B)),interpolationType:b}}}function RT(u,l,d){let m="never";const b=u.get(l);return b?m=b:u.get(d)&&(m="always"),m}const NX=zu.VectorTileFeature.types,zX=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function T_(u,l,d,m,b,C,T,R,B,W,H,Z,Q){const ie=R?Math.min(Bu,Math.round(R[0])):0,oe=R?Math.min(Bu,Math.round(R[1])):0;u.emplaceBack(l,d,Math.round(32*m),Math.round(32*b),C,T,(ie<<1)+(B?1:0),oe,16*W,16*H,256*Z,256*Q)}function DT(u,l,d){u.emplaceBack(l.x,l.y,d),u.emplaceBack(l.x,l.y,d),u.emplaceBack(l.x,l.y,d),u.emplaceBack(l.x,l.y,d)}function jX(u){for(const l of u.sections)if(lT(l.text))return!0;return!1}class LT{constructor(l){this.layoutVertexArray=new gn,this.indexArray=new Wr,this.programConfigurations=l,this.segments=new Ar,this.dynamicLayoutVertexArray=new Sn,this.opacityVertexArray=new Qr,this.hasVisibleVertices=!1,this.placedSymbolArray=new ze}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,d,m,b){this.isEmpty()||(m&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,gX.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,d),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,yX.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,zX,!0),this.opacityVertexBuffer.itemSize=1),(m||b)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}kt("SymbolBuffers",LT);class NT{constructor(l,d,m){this.layoutVertexArray=new l,this.layoutAttributes=d,this.indexArray=new m,this.segments=new Ar,this.collisionVertexArray=new ma}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,vX.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}kt("CollisionBuffers",NT);class _p{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(T=>T.id),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=pT([]),this.placementViewportMatrix=pT([]);const d=this.layers[0]._unevaluatedLayout._values;this.textSizeData=VN(this.zoom,d["text-size"]),this.iconSizeData=VN(this.zoom,d["icon-size"]);const m=this.layers[0].layout,b=m.get("symbol-sort-key"),C=m.get("symbol-z-order");this.canOverlap=RT(m,"text-overlap","text-allow-overlap")!=="never"||RT(m,"icon-overlap","icon-allow-overlap")!=="never"||m.get("text-ignore-placement")||m.get("icon-ignore-placement"),this.sortFeaturesByKey=C!=="viewport-y"&&!b.isConstant(),this.sortFeaturesByY=(C==="viewport-y"||C==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,m.get("symbol-placement")==="point"&&(this.writingModes=m.get("text-writing-mode").map(T=>a.WritingMode[T])),this.stateDependentLayerIds=this.layers.filter(T=>T.isStateDependent()).map(T=>T.id),this.sourceID=l.sourceID}createArrays(){this.text=new LT(new bf(this.layers,this.zoom,l=>/^text/.test(l))),this.icon=new LT(new bf(this.layers,this.zoom,l=>/^icon/.test(l))),this.glyphOffsetArray=new Be,this.lineVertexArray=new Fe,this.symbolInstances=new Ie,this.textAnchorOffsets=new nt}calculateGlyphDependencies(l,d,m,b,C){for(let T=0;T<l.length;T++)if(d[l.charCodeAt(T)]=!0,(m||b)&&C){const R=Qy[l.charAt(T)];R&&(d[R.charCodeAt(0)]=!0)}}populate(l,d,m){const b=this.layers[0],C=b.layout,T=C.get("text-font"),R=C.get("text-field"),B=C.get("icon-image"),W=(R.value.kind!=="constant"||R.value.value instanceof Vo&&!R.value.value.isEmpty()||R.value.value.toString().length>0)&&(T.value.kind!=="constant"||T.value.value.length>0),H=B.value.kind!=="constant"||!!B.value.value||Object.keys(B.parameters).length>0,Z=C.get("symbol-sort-key");if(this.features=[],!W&&!H)return;const Q=d.iconDependencies,ie=d.glyphDependencies,oe=d.availableImages,ue=new kr(this.zoom);for(const{feature:ge,id:xe,index:Re,sourceLayerIndex:Te}of l){const Le=b._featureFilter.needGeometry,je=_f(ge,Le);if(!b._featureFilter.filter(ue,je,m))continue;let Ze,wt;if(Le||(je.geometry=xf(ge)),W){const _t=b.getValueAndResolveTokens("text-field",je,m,oe),xt=Vo.factory(_t);jX(xt)&&(this.hasRTLText=!0),(!this.hasRTLText||Ly()==="unavailable"||this.hasRTLText&&Ko.isParsed())&&(Ze=xX(xt,b,je))}if(H){const _t=b.getValueAndResolveTokens("icon-image",je,m,oe);wt=_t instanceof _o?_t:_o.fromString(_t)}if(!Ze&&!wt)continue;const Rt=this.sortFeaturesByKey?Z.evaluate(je,{},m):void 0;if(this.features.push({id:xe,text:Ze,icon:wt,index:Re,sourceLayerIndex:Te,geometry:je.geometry,properties:ge.properties,type:NX[ge.type],sortKey:Rt}),wt&&(Q[wt.name]=!0),Ze){const _t=T.evaluate(je,{},m).join(","),xt=C.get("text-rotation-alignment")!=="viewport"&&C.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(a.WritingMode.vertical)>=0;for(const ut of Ze.sections)if(ut.image)Q[ut.image.name]=!0;else{const At=pf(Ze.toString()),pt=ut.fontStack||_t,rt=ie[pt]=ie[pt]||{};this.calculateGlyphDependencies(ut.text,rt,xt,this.allowVerticalPlacement,At)}}}C.get("symbol-placement")==="line"&&(this.features=function(ge){const xe={},Re={},Te=[];let Le=0;function je(_t){Te.push(ge[_t]),Le++}function Ze(_t,xt,ut){const At=Re[_t];return delete Re[_t],Re[xt]=At,Te[At].geometry[0].pop(),Te[At].geometry[0]=Te[At].geometry[0].concat(ut[0]),At}function wt(_t,xt,ut){const At=xe[xt];return delete xe[xt],xe[_t]=At,Te[At].geometry[0].shift(),Te[At].geometry[0]=ut[0].concat(Te[At].geometry[0]),At}function Rt(_t,xt,ut){const At=ut?xt[0][xt[0].length-1]:xt[0][0];return`${_t}:${At.x}:${At.y}`}for(let _t=0;_t<ge.length;_t++){const xt=ge[_t],ut=xt.geometry,At=xt.text?xt.text.toString():null;if(!At){je(_t);continue}const pt=Rt(At,ut),rt=Rt(At,ut,!0);if(pt in Re&&rt in xe&&Re[pt]!==xe[rt]){const Yt=wt(pt,rt,ut),zt=Ze(pt,rt,Te[Yt].geometry);delete xe[pt],delete Re[rt],Re[Rt(At,Te[zt].geometry,!0)]=zt,Te[Yt].geometry=null}else pt in Re?Ze(pt,rt,ut):rt in xe?wt(pt,rt,ut):(je(_t),xe[pt]=Le-1,Re[rt]=Le-1)}return Te.filter(_t=>_t.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ge,xe)=>ge.sortKey-xe.sortKey)}update(l,d,m){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,d,this.layers,m),this.icon.programConfigurations.updatePaintArrays(l,d,this.layers,m))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,d){const m=this.lineVertexArray.length;if(l.segment!==void 0){let b=l.dist(d[l.segment+1]),C=l.dist(d[l.segment]);const T={};for(let R=l.segment+1;R<d.length;R++)T[R]={x:d[R].x,y:d[R].y,tileUnitDistanceFromAnchor:b},R<d.length-1&&(b+=d[R+1].dist(d[R]));for(let R=l.segment||0;R>=0;R--)T[R]={x:d[R].x,y:d[R].y,tileUnitDistanceFromAnchor:C},R>0&&(C+=d[R-1].dist(d[R]));for(let R=0;R<d.length;R++){const B=T[R];this.lineVertexArray.emplaceBack(B.x,B.y,B.tileUnitDistanceFromAnchor)}}return{lineStartIndex:m,lineLength:this.lineVertexArray.length-m}}addSymbols(l,d,m,b,C,T,R,B,W,H,Z,Q){const ie=l.indexArray,oe=l.layoutVertexArray,ue=l.segments.prepareSegment(4*d.length,oe,ie,this.canOverlap?T.sortKey:void 0),ge=this.glyphOffsetArray.length,xe=ue.vertexLength,Re=this.allowVerticalPlacement&&R===a.WritingMode.vertical?Math.PI/2:0,Te=T.text&&T.text.sections;for(let Le=0;Le<d.length;Le++){const{tl:je,tr:Ze,bl:wt,br:Rt,tex:_t,pixelOffsetTL:xt,pixelOffsetBR:ut,minFontScaleX:At,minFontScaleY:pt,glyphOffset:rt,isSDF:Yt,sectionIndex:zt}=d[Le],bn=ue.vertexLength,_r=rt[1];T_(oe,B.x,B.y,je.x,_r+je.y,_t.x,_t.y,m,Yt,xt.x,xt.y,At,pt),T_(oe,B.x,B.y,Ze.x,_r+Ze.y,_t.x+_t.w,_t.y,m,Yt,ut.x,xt.y,At,pt),T_(oe,B.x,B.y,wt.x,_r+wt.y,_t.x,_t.y+_t.h,m,Yt,xt.x,ut.y,At,pt),T_(oe,B.x,B.y,Rt.x,_r+Rt.y,_t.x+_t.w,_t.y+_t.h,m,Yt,ut.x,ut.y,At,pt),DT(l.dynamicLayoutVertexArray,B,Re),ie.emplaceBack(bn,bn+1,bn+2),ie.emplaceBack(bn+1,bn+2,bn+3),ue.vertexLength+=4,ue.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(rt[0]),Le!==d.length-1&&zt===d[Le+1].sectionIndex||l.programConfigurations.populatePaintArrays(oe.length,T,T.index,{},Q,Te&&Te[zt])}l.placedSymbolArray.emplaceBack(B.x,B.y,ge,this.glyphOffsetArray.length-ge,xe,W,H,B.segment,m?m[0]:0,m?m[1]:0,b[0],b[1],R,0,!1,0,Z)}_addCollisionDebugVertex(l,d,m,b,C,T){return d.emplaceBack(0,0),l.emplaceBack(m.x,m.y,b,C,Math.round(T.x),Math.round(T.y))}addCollisionDebugVertices(l,d,m,b,C,T,R){const B=C.segments.prepareSegment(4,C.layoutVertexArray,C.indexArray),W=B.vertexLength,H=C.layoutVertexArray,Z=C.collisionVertexArray,Q=R.anchorX,ie=R.anchorY;this._addCollisionDebugVertex(H,Z,T,Q,ie,new x(l,d)),this._addCollisionDebugVertex(H,Z,T,Q,ie,new x(m,d)),this._addCollisionDebugVertex(H,Z,T,Q,ie,new x(m,b)),this._addCollisionDebugVertex(H,Z,T,Q,ie,new x(l,b)),B.vertexLength+=4;const oe=C.indexArray;oe.emplaceBack(W,W+1),oe.emplaceBack(W+1,W+2),oe.emplaceBack(W+2,W+3),oe.emplaceBack(W+3,W),B.primitiveLength+=4}addDebugCollisionBoxes(l,d,m,b){for(let C=l;C<d;C++){const T=this.collisionBoxArray.get(C);this.addCollisionDebugVertices(T.x1,T.y1,T.x2,T.y2,b?this.textCollisionBox:this.iconCollisionBox,T.anchorPoint,m)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new NT(cr,kN.members,Lr),this.iconCollisionBox=new NT(cr,kN.members,Lr);for(let l=0;l<this.symbolInstances.length;l++){const d=this.symbolInstances.get(l);this.addDebugCollisionBoxes(d.textBoxStartIndex,d.textBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.iconBoxStartIndex,d.iconBoxEndIndex,d,!1),this.addDebugCollisionBoxes(d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex,d,!1)}}_deserializeCollisionBoxesForSymbol(l,d,m,b,C,T,R,B,W){const H={};for(let Z=d;Z<m;Z++){const Q=l.get(Z);H.textBox={x1:Q.x1,y1:Q.y1,x2:Q.x2,y2:Q.y2,anchorPointX:Q.anchorPointX,anchorPointY:Q.anchorPointY},H.textFeatureIndex=Q.featureIndex;break}for(let Z=b;Z<C;Z++){const Q=l.get(Z);H.verticalTextBox={x1:Q.x1,y1:Q.y1,x2:Q.x2,y2:Q.y2,anchorPointX:Q.anchorPointX,anchorPointY:Q.anchorPointY},H.verticalTextFeatureIndex=Q.featureIndex;break}for(let Z=T;Z<R;Z++){const Q=l.get(Z);H.iconBox={x1:Q.x1,y1:Q.y1,x2:Q.x2,y2:Q.y2,anchorPointX:Q.anchorPointX,anchorPointY:Q.anchorPointY},H.iconFeatureIndex=Q.featureIndex;break}for(let Z=B;Z<W;Z++){const Q=l.get(Z);H.verticalIconBox={x1:Q.x1,y1:Q.y1,x2:Q.x2,y2:Q.y2,anchorPointX:Q.anchorPointX,anchorPointY:Q.anchorPointY},H.verticalIconFeatureIndex=Q.featureIndex;break}return H}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let d=0;d<this.symbolInstances.length;d++){const m=this.symbolInstances.get(d);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,m.textBoxStartIndex,m.textBoxEndIndex,m.verticalTextBoxStartIndex,m.verticalTextBoxEndIndex,m.iconBoxStartIndex,m.iconBoxEndIndex,m.verticalIconBoxStartIndex,m.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,d){const m=l.placedSymbolArray.get(d),b=m.vertexStartIndex+4*m.numGlyphs;for(let C=m.vertexStartIndex;C<b;C+=4)l.indexArray.emplaceBack(C,C+1,C+2),l.indexArray.emplaceBack(C+1,C+2,C+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const d=Math.sin(l),m=Math.cos(l),b=[],C=[],T=[];for(let R=0;R<this.symbolInstances.length;++R){T.push(R);const B=this.symbolInstances.get(R);b.push(0|Math.round(d*B.anchorX+m*B.anchorY)),C.push(B.featureIndex)}return T.sort((R,B)=>b[R]-b[B]||C[B]-C[R]),T}addToSortKeyRanges(l,d){const m=this.sortKeyRanges[this.sortKeyRanges.length-1];m&&m.sortKey===d?m.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:d,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const d of this.symbolInstanceIndexes){const m=this.symbolInstances.get(d);this.featureSortOrder.push(m.featureIndex),[m.rightJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.leftJustifiedTextSymbolIndex].forEach((b,C,T)=>{b>=0&&T.indexOf(b)===C&&this.addIndicesForPlacedSymbol(this.text,b)}),m.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,m.verticalPlacedTextSymbolIndex),m.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.placedIconSymbolIndex),m.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let WN,qN;kt("SymbolBucket",_p,{omit:["layers","collisionBoxArray","features","compareText"]}),_p.MAX_GLYPHS=65535,_p.addDynamicAttributes=DT;var zT={get paint(){return qN=qN||new ao({"icon-opacity":new Zt(Ne.paint_symbol["icon-opacity"]),"icon-color":new Zt(Ne.paint_symbol["icon-color"]),"icon-halo-color":new Zt(Ne.paint_symbol["icon-halo-color"]),"icon-halo-width":new Zt(Ne.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Zt(Ne.paint_symbol["icon-halo-blur"]),"icon-translate":new Bt(Ne.paint_symbol["icon-translate"]),"icon-translate-anchor":new Bt(Ne.paint_symbol["icon-translate-anchor"]),"text-opacity":new Zt(Ne.paint_symbol["text-opacity"]),"text-color":new Zt(Ne.paint_symbol["text-color"],{runtimeType:$i,getOverride:u=>u.textColor,hasOverride:u=>!!u.textColor}),"text-halo-color":new Zt(Ne.paint_symbol["text-halo-color"]),"text-halo-width":new Zt(Ne.paint_symbol["text-halo-width"]),"text-halo-blur":new Zt(Ne.paint_symbol["text-halo-blur"]),"text-translate":new Bt(Ne.paint_symbol["text-translate"]),"text-translate-anchor":new Bt(Ne.paint_symbol["text-translate-anchor"])})},get layout(){return WN=WN||new ao({"symbol-placement":new Bt(Ne.layout_symbol["symbol-placement"]),"symbol-spacing":new Bt(Ne.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Bt(Ne.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Zt(Ne.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Bt(Ne.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Bt(Ne.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Bt(Ne.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Bt(Ne.layout_symbol["icon-ignore-placement"]),"icon-optional":new Bt(Ne.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Bt(Ne.layout_symbol["icon-rotation-alignment"]),"icon-size":new Zt(Ne.layout_symbol["icon-size"]),"icon-text-fit":new Bt(Ne.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Bt(Ne.layout_symbol["icon-text-fit-padding"]),"icon-image":new Zt(Ne.layout_symbol["icon-image"]),"icon-rotate":new Zt(Ne.layout_symbol["icon-rotate"]),"icon-padding":new Zt(Ne.layout_symbol["icon-padding"]),"icon-keep-upright":new Bt(Ne.layout_symbol["icon-keep-upright"]),"icon-offset":new Zt(Ne.layout_symbol["icon-offset"]),"icon-anchor":new Zt(Ne.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Bt(Ne.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Bt(Ne.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Bt(Ne.layout_symbol["text-rotation-alignment"]),"text-field":new Zt(Ne.layout_symbol["text-field"]),"text-font":new Zt(Ne.layout_symbol["text-font"]),"text-size":new Zt(Ne.layout_symbol["text-size"]),"text-max-width":new Zt(Ne.layout_symbol["text-max-width"]),"text-line-height":new Bt(Ne.layout_symbol["text-line-height"]),"text-letter-spacing":new Zt(Ne.layout_symbol["text-letter-spacing"]),"text-justify":new Zt(Ne.layout_symbol["text-justify"]),"text-radial-offset":new Zt(Ne.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Bt(Ne.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Zt(Ne.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Zt(Ne.layout_symbol["text-anchor"]),"text-max-angle":new Bt(Ne.layout_symbol["text-max-angle"]),"text-writing-mode":new Bt(Ne.layout_symbol["text-writing-mode"]),"text-rotate":new Zt(Ne.layout_symbol["text-rotate"]),"text-padding":new Bt(Ne.layout_symbol["text-padding"]),"text-keep-upright":new Bt(Ne.layout_symbol["text-keep-upright"]),"text-transform":new Zt(Ne.layout_symbol["text-transform"]),"text-offset":new Zt(Ne.layout_symbol["text-offset"]),"text-allow-overlap":new Bt(Ne.layout_symbol["text-allow-overlap"]),"text-overlap":new Bt(Ne.layout_symbol["text-overlap"]),"text-ignore-placement":new Bt(Ne.layout_symbol["text-ignore-placement"]),"text-optional":new Bt(Ne.layout_symbol["text-optional"])})}};class GN{constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:qi,this.defaultValue=l}evaluate(l){if(l.formattedSection){const d=this.defaultValue.property.overrides;if(d&&d.hasOverride(l.formattedSection))return d.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}kt("FormatSectionOverride",GN,{omit:["defaultValue"]});class k_ extends $a{constructor(l){super(l,zT)}recalculate(l,d){if(super.recalculate(l,d),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const m=this.layout.get("text-writing-mode");if(m){const b=[];for(const C of m)b.indexOf(C)<0&&b.push(C);this.layout._values["text-writing-mode"]=b}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,d,m,b){const C=this.layout.get(l).evaluate(d,{},m,b),T=this._unevaluatedLayout._values[l];return T.isDataDriven()||ep(T.value)||!C?C:function(R,B){return B.replace(/{([^{}]+)}/g,(W,H)=>H in R?String(R[H]):"")}(d.properties,C)}createBucket(l){return new _p(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const l of zT.paint.overridableProperties){if(!k_.hasPaintOverride(this.layout,l))continue;const d=this.paint.get(l),m=new GN(d),b=new gy(m,d.property.specification);let C=null;C=d.value.kind==="constant"||d.value.kind==="source"?new np("source",b):new rp("composite",b,d.value.zoomStops),this.paint._values[l]=new us(d.property,C,d.parameters)}}_handleOverridablePaintPropertyUpdate(l,d,m){return!(!this.layout||d.isDataDriven()||m.isDataDriven())&&k_.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,d){const m=l.get("text-field"),b=zT.paint.properties[d];let C=!1;const T=R=>{for(const B of R)if(b.overrides&&b.overrides.hasOverride(B))return void(C=!0)};if(m.value.kind==="constant"&&m.value.value instanceof Vo)T(m.value.value.sections);else if(m.value.kind==="source"){const R=W=>{C||(W instanceof Hs&&hn(W.value)===fe?T(W.value.sections):W instanceof Kh?T(W.sections):W.eachChild(R))},B=m.value;B._styleExpression&&R(B._styleExpression.expression)}return C}}let HN;var BX={get paint(){return HN=HN||new ao({"background-color":new Bt(Ne.paint_background["background-color"]),"background-pattern":new jy(Ne.paint_background["background-pattern"]),"background-opacity":new Bt(Ne.paint_background["background-opacity"])})}};class FX extends $a{constructor(l){super(l,BX)}}let YN;var UX={get paint(){return YN=YN||new ao({"raster-opacity":new Bt(Ne.paint_raster["raster-opacity"]),"raster-hue-rotate":new Bt(Ne.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Bt(Ne.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Bt(Ne.paint_raster["raster-brightness-max"]),"raster-saturation":new Bt(Ne.paint_raster["raster-saturation"]),"raster-contrast":new Bt(Ne.paint_raster["raster-contrast"]),"raster-resampling":new Bt(Ne.paint_raster["raster-resampling"]),"raster-fade-duration":new Bt(Ne.paint_raster["raster-fade-duration"])})}};class VX extends $a{constructor(l){super(l,UX)}}class WX extends $a{constructor(l){super(l,{}),this.onAdd=d=>{this.implementation.onAdd&&this.implementation.onAdd(d,d.painter.context.gl)},this.onRemove=d=>{this.implementation.onRemove&&this.implementation.onRemove(d,d.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class qX{constructor(l){this._callback=l,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const jT=63710088e-1;class Fu{constructor(l,d){if(isNaN(l)||isNaN(d))throw new Error(`Invalid LngLat object: (${l}, ${d})`);if(this.lng=+l,this.lat=+d,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Fu(F(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){const d=Math.PI/180,m=this.lat*d,b=l.lat*d,C=Math.sin(m)*Math.sin(b)+Math.cos(m)*Math.cos(b)*Math.cos((l.lng-this.lng)*d);return jT*Math.acos(Math.min(C,1))}static convert(l){if(l instanceof Fu)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new Fu(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new Fu(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const KN=2*Math.PI*jT;function ZN(u){return KN*Math.cos(u*Math.PI/180)}function XN(u){return(180+u)/360}function JN(u){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u*Math.PI/360)))/360}function QN(u,l){return u/ZN(l)}function BT(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}class P_{constructor(l,d,m=0){this.x=+l,this.y=+d,this.z=+m}static fromLngLat(l,d=0){const m=Fu.convert(l);return new P_(XN(m.lng),JN(m.lat),QN(d,m.lat))}toLngLat(){return new Fu(360*this.x-180,BT(this.y))}toAltitude(){return this.z*ZN(BT(this.y))}meterInMercatorCoordinateUnits(){return 1/KN*(l=BT(this.y),1/Math.cos(l*Math.PI/180));var l}}function ez(u,l,d){var m=2*Math.PI*6378137/256/Math.pow(2,d);return[u*m-2*Math.PI*6378137/2,l*m-2*Math.PI*6378137/2]}class FT{constructor(l,d,m){if(l<0||l>25||m<0||m>=Math.pow(2,l)||d<0||d>=Math.pow(2,l))throw new Error(`x=${d}, y=${m}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=d,this.y=m,this.key=rv(0,l,l,d,m)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,d,m){const b=(T=this.y,R=this.z,B=ez(256*(C=this.x),256*(T=Math.pow(2,R)-T-1),R),W=ez(256*(C+1),256*(T+1),R),B[0]+","+B[1]+","+W[0]+","+W[1]);var C,T,R,B,W;const H=function(Z,Q,ie){let oe,ue="";for(let ge=Z;ge>0;ge--)oe=1<<ge-1,ue+=(Q&oe?1:0)+(ie&oe?2:0);return ue}(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(m==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,d>1?"@2x":"").replace(/{quadkey}/g,H).replace(/{bbox-epsg-3857}/g,b)}isChildOf(l){const d=this.z-l.z;return d>0&&l.x===this.x>>d&&l.y===this.y>>d}getTilePoint(l){const d=Math.pow(2,this.z);return new x((l.x*d-this.x)*ui,(l.y*d-this.y)*ui)}toString(){return`${this.z}/${this.x}/${this.y}`}}class tz{constructor(l,d){this.wrap=l,this.canonical=d,this.key=rv(l,d.z,d.z,d.x,d.y)}}class Da{constructor(l,d,m,b,C){if(l<m)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${m}`);this.overscaledZ=l,this.wrap=d,this.canonical=new FT(m,+b,+C),this.key=rv(d,l,m,b,C)}clone(){return new Da(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const d=this.canonical.z-l;return l>this.canonical.z?new Da(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Da(l,this.wrap,l,this.canonical.x>>d,this.canonical.y>>d)}calculateScaledKey(l,d){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const m=this.canonical.z-l;return l>this.canonical.z?rv(this.wrap*+d,l,this.canonical.z,this.canonical.x,this.canonical.y):rv(this.wrap*+d,l,l,this.canonical.x>>m,this.canonical.y>>m)}isChildOf(l){if(l.wrap!==this.wrap)return!1;const d=this.canonical.z-l.canonical.z;return l.overscaledZ===0||l.overscaledZ<this.overscaledZ&&l.canonical.x===this.canonical.x>>d&&l.canonical.y===this.canonical.y>>d}children(l){if(this.overscaledZ>=l)return[new Da(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const d=this.canonical.z+1,m=2*this.canonical.x,b=2*this.canonical.y;return[new Da(d,this.wrap,d,m,b),new Da(d,this.wrap,d,m+1,b),new Da(d,this.wrap,d,m,b+1),new Da(d,this.wrap,d,m+1,b+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new Da(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new Da(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new tz(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new P_(l.x-this.wrap,l.y))}}function rv(u,l,d,m,b){(u*=2)<0&&(u=-1*u-1);const C=1<<d;return(C*C*u+C*b+m).toString(36)+d.toString(36)+l.toString(36)}kt("CanonicalTileID",FT),kt("OverscaledTileID",Da,{omit:["posMatrix"]});class nz{constructor(l,d,m,b=1,C=1,T=1,R=0){if(this.uid=l,d.height!==d.width)throw new RangeError("DEM tiles must be square");if(m&&!["mapbox","terrarium","custom"].includes(m))return void we(`"${m}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=d.height;const B=this.dim=d.height-2;switch(this.data=new Uint32Array(d.data.buffer),m){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=b,this.greenFactor=C,this.blueFactor=T,this.baseShift=R;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let W=0;W<B;W++)this.data[this._idx(-1,W)]=this.data[this._idx(0,W)],this.data[this._idx(B,W)]=this.data[this._idx(B-1,W)],this.data[this._idx(W,-1)]=this.data[this._idx(W,0)],this.data[this._idx(W,B)]=this.data[this._idx(W,B-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(B,-1)]=this.data[this._idx(B-1,0)],this.data[this._idx(-1,B)]=this.data[this._idx(0,B-1)],this.data[this._idx(B,B)]=this.data[this._idx(B-1,B-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let W=0;W<B;W++)for(let H=0;H<B;H++){const Z=this.get(W,H);Z>this.max&&(this.max=Z),Z<this.min&&(this.min=Z)}}get(l,d){const m=new Uint8Array(this.data.buffer),b=4*this._idx(l,d);return this.unpack(m[b],m[b+1],m[b+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(l,d){if(l<-1||l>=this.dim+1||d<-1||d>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(d+1)*this.stride+(l+1)}unpack(l,d,m){return l*this.redFactor+d*this.greenFactor+m*this.blueFactor-this.baseShift}getPixels(){return new Ra({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,d,m){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let b=d*this.dim,C=d*this.dim+this.dim,T=m*this.dim,R=m*this.dim+this.dim;switch(d){case-1:b=C-1;break;case 1:C=b+1}switch(m){case-1:T=R-1;break;case 1:R=T+1}const B=-d*this.dim,W=-m*this.dim;for(let H=T;H<R;H++)for(let Z=b;Z<C;Z++)this.data[this._idx(Z,H)]=l.data[this._idx(Z+B,H+W)]}}kt("DEMData",nz);class rz{constructor(l){this._stringToNumber={},this._numberToString=[];for(let d=0;d<l.length;d++){const m=l[d];this._stringToNumber[m]=d,this._numberToString[d]=m}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class iz{constructor(l,d,m,b,C){this.type="Feature",this._vectorTileFeature=l,l._z=d,l._x=m,l._y=b,this.properties=l.properties,this.id=C}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(l){this._geometry=l}toJSON(){const l={geometry:this.geometry};for(const d in this)d!=="_geometry"&&d!=="_vectorTileFeature"&&(l[d]=this[d]);return l}}class oz{constructor(l,d){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new $u(ui,16,0),this.grid3D=new $u(ui,16,0),this.featureIndexArray=new st,this.promoteId=d}insert(l,d,m,b,C,T){const R=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(m,b,C);const B=T?this.grid3D:this.grid;for(let W=0;W<d.length;W++){const H=d[W],Z=[1/0,1/0,-1/0,-1/0];for(let Q=0;Q<H.length;Q++){const ie=H[Q];Z[0]=Math.min(Z[0],ie.x),Z[1]=Math.min(Z[1],ie.y),Z[2]=Math.max(Z[2],ie.x),Z[3]=Math.max(Z[3],ie.y)}Z[0]<ui&&Z[1]<ui&&Z[2]>=0&&Z[3]>=0&&B.insert(R,Z[0],Z[1],Z[2],Z[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new zu.VectorTile(new OT(this.rawTileData)).layers,this.sourceLayerCoder=new rz(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(l,d,m,b){this.loadVTLayers();const C=l.params||{},T=ui/l.tileSize/l.scale,R=by(C.filter),B=l.queryGeometry,W=l.queryPadding*T,H=sz(B),Z=this.grid.query(H.minX-W,H.minY-W,H.maxX+W,H.maxY+W),Q=sz(l.cameraQueryGeometry),ie=this.grid3D.query(Q.minX-W,Q.minY-W,Q.maxX+W,Q.maxY+W,(ge,xe,Re,Te)=>function(Le,je,Ze,wt,Rt){for(const xt of Le)if(je<=xt.x&&Ze<=xt.y&&wt>=xt.x&&Rt>=xt.y)return!0;const _t=[new x(je,Ze),new x(je,Rt),new x(wt,Rt),new x(wt,Ze)];if(Le.length>2){for(const xt of _t)if(pp(Le,xt))return!0}for(let xt=0;xt<Le.length-1;xt++)if(SZ(Le[xt],Le[xt+1],_t))return!0;return!1}(l.cameraQueryGeometry,ge-W,xe-W,Re+W,Te+W));for(const ge of ie)Z.push(ge);Z.sort(GX);const oe={};let ue;for(let ge=0;ge<Z.length;ge++){const xe=Z[ge];if(xe===ue)continue;ue=xe;const Re=this.featureIndexArray.get(xe);let Te=null;this.loadMatchingFeature(oe,Re.bucketIndex,Re.sourceLayerIndex,Re.featureIndex,R,C.layers,C.availableImages,d,m,b,(Le,je,Ze)=>(Te||(Te=xf(Le)),je.queryIntersectsFeature(B,Le,Ze,Te,this.z,l.transform,T,l.pixelPosMatrix)))}return oe}loadMatchingFeature(l,d,m,b,C,T,R,B,W,H,Z){const Q=this.bucketLayerIDs[d];if(T&&!function(ge,xe){for(let Re=0;Re<ge.length;Re++)if(xe.indexOf(ge[Re])>=0)return!0;return!1}(T,Q))return;const ie=this.sourceLayerCoder.decode(m),oe=this.vtLayers[ie].feature(b);if(C.needGeometry){const ge=_f(oe,!0);if(!C.filter(new kr(this.tileID.overscaledZ),ge,this.tileID.canonical))return}else if(!C.filter(new kr(this.tileID.overscaledZ),oe))return;const ue=this.getId(oe,ie);for(let ge=0;ge<Q.length;ge++){const xe=Q[ge];if(T&&T.indexOf(xe)<0)continue;const Re=B[xe];if(!Re)continue;let Te={};ue&&H&&(Te=H.getState(Re.sourceLayer||"_geojsonTileLayer",ue));const Le=G({},W[xe]);Le.paint=az(Le.paint,Re.paint,oe,Te,R),Le.layout=az(Le.layout,Re.layout,oe,Te,R);const je=!Z||Z(oe,Re,Te);if(!je)continue;const Ze=new iz(oe,this.z,this.x,this.y,ue);Ze.layer=Le;let wt=l[xe];wt===void 0&&(wt=l[xe]=[]),wt.push({featureIndex:b,feature:Ze,intersectionZ:je})}}lookupSymbolFeatures(l,d,m,b,C,T,R,B){const W={};this.loadVTLayers();const H=by(C);for(const Z of l)this.loadMatchingFeature(W,m,b,Z,H,T,R,B,d);return W}hasLayer(l){for(const d of this.bucketLayerIDs)for(const m of d)if(l===m)return!0;return!1}getId(l,d){let m=l.id;return this.promoteId&&(m=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[d]],typeof m=="boolean"&&(m=Number(m))),m}}function az(u,l,d,m,b){return ee(u,(C,T)=>{const R=l instanceof sp?l.get(T):null;return R&&R.evaluate?R.evaluate(d,m,b):R})}function sz(u){let l=1/0,d=1/0,m=-1/0,b=-1/0;for(const C of u)l=Math.min(l,C.x),d=Math.min(d,C.y),m=Math.max(m,C.x),b=Math.max(b,C.y);return{minX:l,minY:d,maxX:m,maxY:b}}function GX(u,l){return l-u}function lz(u,l,d,m,b){const C=[];for(let T=0;T<u.length;T++){const R=u[T];let B;for(let W=0;W<R.length-1;W++){let H=R[W],Z=R[W+1];H.x<l&&Z.x<l||(H.x<l?H=new x(l,H.y+(l-H.x)/(Z.x-H.x)*(Z.y-H.y))._round():Z.x<l&&(Z=new x(l,H.y+(l-H.x)/(Z.x-H.x)*(Z.y-H.y))._round()),H.y<d&&Z.y<d||(H.y<d?H=new x(H.x+(d-H.y)/(Z.y-H.y)*(Z.x-H.x),d)._round():Z.y<d&&(Z=new x(H.x+(d-H.y)/(Z.y-H.y)*(Z.x-H.x),d)._round()),H.x>=m&&Z.x>=m||(H.x>=m?H=new x(m,H.y+(m-H.x)/(Z.x-H.x)*(Z.y-H.y))._round():Z.x>=m&&(Z=new x(m,H.y+(m-H.x)/(Z.x-H.x)*(Z.y-H.y))._round()),H.y>=b&&Z.y>=b||(H.y>=b?H=new x(H.x+(b-H.y)/(Z.y-H.y)*(Z.x-H.x),b)._round():Z.y>=b&&(Z=new x(H.x+(b-H.y)/(Z.y-H.y)*(Z.x-H.x),b)._round()),B&&H.equals(B[B.length-1])||(B=[H],C.push(B)),B.push(Z)))))}}return C}kt("FeatureIndex",oz,{omit:["rawTileData","sourceLayerCoder"]});class Uu extends x{constructor(l,d,m,b){super(l,d),this.angle=m,b!==void 0&&(this.segment=b)}clone(){return new Uu(this.x,this.y,this.angle,this.segment)}}function cz(u,l,d,m,b){if(l.segment===void 0||d===0)return!0;let C=l,T=l.segment+1,R=0;for(;R>-d/2;){if(T--,T<0)return!1;R-=u[T].dist(C),C=u[T]}R+=u[T].dist(u[T+1]),T++;const B=[];let W=0;for(;R<d/2;){const H=u[T],Z=u[T+1];if(!Z)return!1;let Q=u[T-1].angleTo(H)-H.angleTo(Z);for(Q=Math.abs((Q+3*Math.PI)%(2*Math.PI)-Math.PI),B.push({distance:R,angleDelta:Q}),W+=Q;R-B[0].distance>m;)W-=B.shift().angleDelta;if(W>b)return!1;T++,R+=H.dist(Z)}return!0}function uz(u){let l=0;for(let d=0;d<u.length-1;d++)l+=u[d].dist(u[d+1]);return l}function dz(u,l,d){return u?.6*l*d:0}function fz(u,l){return Math.max(u?u.right-u.left:0,l?l.right-l.left:0)}function HX(u,l,d,m,b,C){const T=dz(d,b,C),R=fz(d,m)*C;let B=0;const W=uz(u)/2;for(let H=0;H<u.length-1;H++){const Z=u[H],Q=u[H+1],ie=Z.dist(Q);if(B+ie>W){const oe=(W-B)/ie,ue=qo.number(Z.x,Q.x,oe),ge=qo.number(Z.y,Q.y,oe),xe=new Uu(ue,ge,Q.angleTo(Z),H);return xe._round(),!T||cz(u,xe,R,T,l)?xe:void 0}B+=ie}}function YX(u,l,d,m,b,C,T,R,B){const W=dz(m,C,T),H=fz(m,b),Z=H*T,Q=u[0].x===0||u[0].x===B||u[0].y===0||u[0].y===B;return l-Z<l/4&&(l=Z+l/4),hz(u,Q?l/2*R%l:(H/2+2*C)*T*R%l,l,W,d,Z,Q,!1,B)}function hz(u,l,d,m,b,C,T,R,B){const W=C/2,H=uz(u);let Z=0,Q=l-d,ie=[];for(let oe=0;oe<u.length-1;oe++){const ue=u[oe],ge=u[oe+1],xe=ue.dist(ge),Re=ge.angleTo(ue);for(;Q+d<Z+xe;){Q+=d;const Te=(Q-Z)/xe,Le=qo.number(ue.x,ge.x,Te),je=qo.number(ue.y,ge.y,Te);if(Le>=0&&Le<B&&je>=0&&je<B&&Q-W>=0&&Q+W<=H){const Ze=new Uu(Le,je,Re,oe);Ze._round(),m&&!cz(u,Ze,C,m,b)||ie.push(Ze)}}Z+=xe}return R||ie.length||T||(ie=hz(u,Z/2,d,m,b,C,T,!0,B)),ie}kt("Anchor",Uu);const wp=Qo;function pz(u,l,d,m){const b=[],C=u.image,T=C.pixelRatio,R=C.paddedRect.w-2*wp,B=C.paddedRect.h-2*wp,W=u.right-u.left,H=u.bottom-u.top,Z=C.stretchX||[[0,R]],Q=C.stretchY||[[0,B]],ie=(ut,At)=>ut+At[1]-At[0],oe=Z.reduce(ie,0),ue=Q.reduce(ie,0),ge=R-oe,xe=B-ue;let Re=0,Te=oe,Le=0,je=ue,Ze=0,wt=ge,Rt=0,_t=xe;if(C.content&&m){const ut=C.content;Re=O_(Z,0,ut[0]),Le=O_(Q,0,ut[1]),Te=O_(Z,ut[0],ut[2]),je=O_(Q,ut[1],ut[3]),Ze=ut[0]-Re,Rt=ut[1]-Le,wt=ut[2]-ut[0]-Te,_t=ut[3]-ut[1]-je}const xt=(ut,At,pt,rt)=>{const Yt=A_(ut.stretch-Re,Te,W,u.left),zt=M_(ut.fixed-Ze,wt,ut.stretch,oe),bn=A_(At.stretch-Le,je,H,u.top),_r=M_(At.fixed-Rt,_t,At.stretch,ue),Mr=A_(pt.stretch-Re,Te,W,u.left),vi=M_(pt.fixed-Ze,wt,pt.stretch,oe),ga=A_(rt.stretch-Le,je,H,u.top),Co=M_(rt.fixed-Rt,_t,rt.stretch,ue),di=new x(Yt,bn),Li=new x(Mr,bn),Yi=new x(Mr,ga),Eo=new x(Yt,ga),To=new x(zt/T,_r/T),bi=new x(vi/T,Co/T),xi=l*Math.PI/180;if(xi){const co=Math.sin(xi),ea=Math.cos(xi),ta=[ea,-co,co,ea];di._matMult(ta),Li._matMult(ta),Eo._matMult(ta),Yi._matMult(ta)}const lo=ut.stretch+ut.fixed,ko=At.stretch+At.fixed;return{tl:di,tr:Li,bl:Eo,br:Yi,tex:{x:C.paddedRect.x+wp+lo,y:C.paddedRect.y+wp+ko,w:pt.stretch+pt.fixed-lo,h:rt.stretch+rt.fixed-ko},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:To,pixelOffsetBR:bi,minFontScaleX:wt/T/W,minFontScaleY:_t/T/H,isSDF:d}};if(m&&(C.stretchX||C.stretchY)){const ut=mz(Z,ge,oe),At=mz(Q,xe,ue);for(let pt=0;pt<ut.length-1;pt++){const rt=ut[pt],Yt=ut[pt+1];for(let zt=0;zt<At.length-1;zt++)b.push(xt(rt,At[zt],Yt,At[zt+1]))}}else b.push(xt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:R+1},{fixed:0,stretch:B+1}));return b}function O_(u,l,d){let m=0;for(const b of u)m+=Math.max(l,Math.min(d,b[1]))-Math.max(l,Math.min(d,b[0]));return m}function mz(u,l,d){const m=[{fixed:-wp,stretch:0}];for(const[b,C]of u){const T=m[m.length-1];m.push({fixed:b-T.stretch,stretch:T.stretch}),m.push({fixed:b-T.stretch,stretch:T.stretch+(C-b)})}return m.push({fixed:l+wp,stretch:d}),m}function A_(u,l,d,m){return u/l*d+m}function M_(u,l,d,m){return u-l*d/m}class I_{constructor(l,d,m,b,C,T,R,B,W,H){if(this.boxStartIndex=l.length,W){let Z=T.top,Q=T.bottom;const ie=T.collisionPadding;ie&&(Z-=ie[1],Q+=ie[3]);let oe=Q-Z;oe>0&&(oe=Math.max(10,oe),this.circleDiameter=oe)}else{let Z=T.top*R-B[0],Q=T.bottom*R+B[2],ie=T.left*R-B[3],oe=T.right*R+B[1];const ue=T.collisionPadding;if(ue&&(ie-=ue[0]*R,Z-=ue[1]*R,oe+=ue[2]*R,Q+=ue[3]*R),H){const ge=new x(ie,Z),xe=new x(oe,Z),Re=new x(ie,Q),Te=new x(oe,Q),Le=H*Math.PI/180;ge._rotate(Le),xe._rotate(Le),Re._rotate(Le),Te._rotate(Le),ie=Math.min(ge.x,xe.x,Re.x,Te.x),oe=Math.max(ge.x,xe.x,Re.x,Te.x),Z=Math.min(ge.y,xe.y,Re.y,Te.y),Q=Math.max(ge.y,xe.y,Re.y,Te.y)}l.emplaceBack(d.x,d.y,ie,Z,oe,Q,m,b,C)}this.boxEndIndex=l.length}}class KX{constructor(l=[],d=ZX){if(this.data=l,this.length=this.data.length,this.compare=d,this.length>0)for(let m=(this.length>>1)-1;m>=0;m--)this._down(m)}push(l){this.data.push(l),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const l=this.data[0],d=this.data.pop();return this.length--,this.length>0&&(this.data[0]=d,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:d,compare:m}=this,b=d[l];for(;l>0;){const C=l-1>>1,T=d[C];if(m(b,T)>=0)break;d[l]=T,l=C}d[l]=b}_down(l){const{data:d,compare:m}=this,b=this.length>>1,C=d[l];for(;l<b;){let T=1+(l<<1),R=d[T];const B=T+1;if(B<this.length&&m(d[B],R)<0&&(T=B,R=d[B]),m(R,C)>=0)break;d[l]=R,l=T}d[l]=C}}function ZX(u,l){return u<l?-1:u>l?1:0}function XX(u,l=1,d=!1){let m=1/0,b=1/0,C=-1/0,T=-1/0;const R=u[0];for(let ie=0;ie<R.length;ie++){const oe=R[ie];(!ie||oe.x<m)&&(m=oe.x),(!ie||oe.y<b)&&(b=oe.y),(!ie||oe.x>C)&&(C=oe.x),(!ie||oe.y>T)&&(T=oe.y)}const B=Math.min(C-m,T-b);let W=B/2;const H=new KX([],JX);if(B===0)return new x(m,b);for(let ie=m;ie<C;ie+=B)for(let oe=b;oe<T;oe+=B)H.push(new Sp(ie+W,oe+W,W,u));let Z=function(ie){let oe=0,ue=0,ge=0;const xe=ie[0];for(let Re=0,Te=xe.length,Le=Te-1;Re<Te;Le=Re++){const je=xe[Re],Ze=xe[Le],wt=je.x*Ze.y-Ze.x*je.y;ue+=(je.x+Ze.x)*wt,ge+=(je.y+Ze.y)*wt,oe+=3*wt}return new Sp(ue/oe,ge/oe,0,ie)}(u),Q=H.length;for(;H.length;){const ie=H.pop();(ie.d>Z.d||!Z.d)&&(Z=ie,d&&console.log("found best %d after %d probes",Math.round(1e4*ie.d)/1e4,Q)),ie.max-Z.d<=l||(W=ie.h/2,H.push(new Sp(ie.p.x-W,ie.p.y-W,W,u)),H.push(new Sp(ie.p.x+W,ie.p.y-W,W,u)),H.push(new Sp(ie.p.x-W,ie.p.y+W,W,u)),H.push(new Sp(ie.p.x+W,ie.p.y+W,W,u)),Q+=4)}return d&&(console.log(`num probes: ${Q}`),console.log(`best distance: ${Z.d}`)),Z.p}function JX(u,l){return l.max-u.max}function Sp(u,l,d,m){this.p=new x(u,l),this.h=d,this.d=function(b,C){let T=!1,R=1/0;for(let B=0;B<C.length;B++){const W=C[B];for(let H=0,Z=W.length,Q=Z-1;H<Z;Q=H++){const ie=W[H],oe=W[Q];ie.y>b.y!=oe.y>b.y&&b.x<(oe.x-ie.x)*(b.y-ie.y)/(oe.y-ie.y)+ie.x&&(T=!T),R=Math.min(R,JL(b,ie,oe))}}return(T?1:-1)*Math.sqrt(R)}(this.p,m),this.max=this.d+this.h*Math.SQRT2}var Hi;a.TextAnchorEnum=void 0,(Hi=a.TextAnchorEnum||(a.TextAnchorEnum={}))[Hi.center=1]="center",Hi[Hi.left=2]="left",Hi[Hi.right=3]="right",Hi[Hi.top=4]="top",Hi[Hi.bottom=5]="bottom",Hi[Hi["top-left"]=6]="top-left",Hi[Hi["top-right"]=7]="top-right",Hi[Hi["bottom-left"]=8]="bottom-left",Hi[Hi["bottom-right"]=9]="bottom-right";const Vu=7,UT=Number.POSITIVE_INFINITY;function gz(u,l){return l[1]!==UT?function(d,m,b){let C=0,T=0;switch(m=Math.abs(m),b=Math.abs(b),d){case"top-right":case"top-left":case"top":T=b-Vu;break;case"bottom-right":case"bottom-left":case"bottom":T=-b+Vu}switch(d){case"top-right":case"bottom-right":case"right":C=-m;break;case"top-left":case"bottom-left":case"left":C=m}return[C,T]}(u,l[0],l[1]):function(d,m){let b=0,C=0;m<0&&(m=0);const T=m/Math.SQRT2;switch(d){case"top-right":case"top-left":C=T-Vu;break;case"bottom-right":case"bottom-left":C=-T+Vu;break;case"bottom":C=-m+Vu;break;case"top":C=m-Vu}switch(d){case"top-right":case"bottom-right":b=-T;break;case"top-left":case"bottom-left":b=T;break;case"left":b=m;break;case"right":b=-m}return[b,C]}(u,l[0])}function yz(u,l,d){var m;const b=u.layout,C=(m=b.get("text-variable-anchor-offset"))===null||m===void 0?void 0:m.evaluate(l,{},d);if(C){const R=C.values,B=[];for(let W=0;W<R.length;W+=2){const H=B[W]=R[W],Z=R[W+1].map(Q=>Q*yi);H.startsWith("top")?Z[1]-=Vu:H.startsWith("bottom")&&(Z[1]+=Vu),B[W+1]=Z}return new Ri(B)}const T=b.get("text-variable-anchor");if(T){let R;R=u._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[b.get("text-radial-offset").evaluate(l,{},d)*yi,UT]:b.get("text-offset").evaluate(l,{},d).map(W=>W*yi);const B=[];for(const W of T)B.push(W,gz(W,R));return new Ri(B)}return null}function VT(u){switch(u){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function QX(u,l,d,m,b,C,T,R,B,W,H){let Z=C.textMaxSize.evaluate(l,{});Z===void 0&&(Z=T);const Q=u.layers[0].layout,ie=Q.get("icon-offset").evaluate(l,{},H),oe=bz(d.horizontal),ue=T/24,ge=u.tilePixelRatio*ue,xe=u.tilePixelRatio*Z/24,Re=u.tilePixelRatio*R,Te=u.tilePixelRatio*Q.get("symbol-spacing"),Le=Q.get("text-padding")*u.tilePixelRatio,je=function(rt,Yt,zt,bn=1){const _r=rt.get("icon-padding").evaluate(Yt,{},zt),Mr=_r&&_r.values;return[Mr[0]*bn,Mr[1]*bn,Mr[2]*bn,Mr[3]*bn]}(Q,l,H,u.tilePixelRatio),Ze=Q.get("text-max-angle")/180*Math.PI,wt=Q.get("text-rotation-alignment")!=="viewport"&&Q.get("symbol-placement")!=="point",Rt=Q.get("icon-rotation-alignment")==="map"&&Q.get("symbol-placement")!=="point",_t=Q.get("symbol-placement"),xt=Te/2,ut=Q.get("icon-text-fit");let At;m&&ut!=="none"&&(u.allowVerticalPlacement&&d.vertical&&(At=UN(m,d.vertical,ut,Q.get("icon-text-fit-padding"),ie,ue)),oe&&(m=UN(m,oe,ut,Q.get("icon-text-fit-padding"),ie,ue)));const pt=(rt,Yt)=>{Yt.x<0||Yt.x>=ui||Yt.y<0||Yt.y>=ui||function(zt,bn,_r,Mr,vi,ga,Co,di,Li,Yi,Eo,To,bi,xi,lo,ko,co,ea,ta,_i,Pn,uo,Ki,wi,ps){const Js=zt.addToLineVertexArray(bn,_r);let Qs,Ec,ms,La,na=0,Tc=0,av=0,Sz=0,XT=-1,JT=-1;const kc={};let Cz=ei("");if(zt.allowVerticalPlacement&&Mr.vertical){const fo=di.layout.get("text-rotate").evaluate(Pn,{},wi)+90;ms=new I_(Li,bn,Yi,Eo,To,Mr.vertical,bi,xi,lo,fo),Co&&(La=new I_(Li,bn,Yi,Eo,To,Co,co,ea,lo,fo))}if(vi){const fo=di.layout.get("icon-rotate").evaluate(Pn,{}),Na=di.layout.get("icon-text-fit")!=="none",Sf=pz(vi,fo,Ki,Na),tl=Co?pz(Co,fo,Ki,Na):void 0;Ec=new I_(Li,bn,Yi,Eo,To,vi,co,ea,!1,fo),na=4*Sf.length;const Cf=zt.iconSizeData;let zl=null;Cf.kind==="source"?(zl=[Nl*di.layout.get("icon-size").evaluate(Pn,{})],zl[0]>Bu&&we(`${zt.layerIds[0]}: Value for "icon-size" is >= ${nv}. Reduce your "icon-size".`)):Cf.kind==="composite"&&(zl=[Nl*uo.compositeIconSizes[0].evaluate(Pn,{},wi),Nl*uo.compositeIconSizes[1].evaluate(Pn,{},wi)],(zl[0]>Bu||zl[1]>Bu)&&we(`${zt.layerIds[0]}: Value for "icon-size" is >= ${nv}. Reduce your "icon-size".`)),zt.addSymbols(zt.icon,Sf,zl,_i,ta,Pn,a.WritingMode.none,bn,Js.lineStartIndex,Js.lineLength,-1,wi),XT=zt.icon.placedSymbolArray.length-1,tl&&(Tc=4*tl.length,zt.addSymbols(zt.icon,tl,zl,_i,ta,Pn,a.WritingMode.vertical,bn,Js.lineStartIndex,Js.lineLength,-1,wi),JT=zt.icon.placedSymbolArray.length-1)}const Ez=Object.keys(Mr.horizontal);for(const fo of Ez){const Na=Mr.horizontal[fo];if(!Qs){Cz=ei(Na.text);const tl=di.layout.get("text-rotate").evaluate(Pn,{},wi);Qs=new I_(Li,bn,Yi,Eo,To,Na,bi,xi,lo,tl)}const Sf=Na.positionedLines.length===1;if(av+=vz(zt,bn,Na,ga,di,lo,Pn,ko,Js,Mr.vertical?a.WritingMode.horizontal:a.WritingMode.horizontalOnly,Sf?Ez:[fo],kc,XT,uo,wi),Sf)break}Mr.vertical&&(Sz+=vz(zt,bn,Mr.vertical,ga,di,lo,Pn,ko,Js,a.WritingMode.vertical,["vertical"],kc,JT,uo,wi));const nJ=Qs?Qs.boxStartIndex:zt.collisionBoxArray.length,rJ=Qs?Qs.boxEndIndex:zt.collisionBoxArray.length,iJ=ms?ms.boxStartIndex:zt.collisionBoxArray.length,oJ=ms?ms.boxEndIndex:zt.collisionBoxArray.length,aJ=Ec?Ec.boxStartIndex:zt.collisionBoxArray.length,sJ=Ec?Ec.boxEndIndex:zt.collisionBoxArray.length,lJ=La?La.boxStartIndex:zt.collisionBoxArray.length,cJ=La?La.boxEndIndex:zt.collisionBoxArray.length;let el=-1;const R_=(fo,Na)=>fo&&fo.circleDiameter?Math.max(fo.circleDiameter,Na):Na;el=R_(Qs,el),el=R_(ms,el),el=R_(Ec,el),el=R_(La,el);const Tz=el>-1?1:0;Tz&&(el*=ps/yi),zt.glyphOffsetArray.length>=_p.MAX_GLYPHS&&we("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Pn.sortKey!==void 0&&zt.addToSortKeyRanges(zt.symbolInstances.length,Pn.sortKey);const uJ=yz(di,Pn,wi),[dJ,fJ]=function(fo,Na){const Sf=fo.length,tl=Na==null?void 0:Na.values;if((tl==null?void 0:tl.length)>0)for(let Cf=0;Cf<tl.length;Cf+=2){const zl=tl[Cf+1];fo.emplaceBack(a.TextAnchorEnum[tl[Cf]],zl[0],zl[1])}return[Sf,fo.length]}(zt.textAnchorOffsets,uJ);zt.symbolInstances.emplaceBack(bn.x,bn.y,kc.right>=0?kc.right:-1,kc.center>=0?kc.center:-1,kc.left>=0?kc.left:-1,kc.vertical||-1,XT,JT,Cz,nJ,rJ,iJ,oJ,aJ,sJ,lJ,cJ,Yi,av,Sz,na,Tc,Tz,0,bi,el,dJ,fJ)}(u,Yt,rt,d,m,b,At,u.layers[0],u.collisionBoxArray,l.index,l.sourceLayerIndex,u.index,ge,[Le,Le,Le,Le],wt,B,Re,je,Rt,ie,l,C,W,H,T)};if(_t==="line")for(const rt of lz(l.geometry,0,0,ui,ui)){const Yt=YX(rt,Te,Ze,d.vertical||oe,m,24,xe,u.overscaling,ui);for(const zt of Yt)oe&&eJ(u,oe.text,xt,zt)||pt(rt,zt)}else if(_t==="line-center"){for(const rt of l.geometry)if(rt.length>1){const Yt=HX(rt,Ze,d.vertical||oe,m,24,xe);Yt&&pt(rt,Yt)}}else if(l.type==="Polygon")for(const rt of _T(l.geometry,0)){const Yt=XX(rt,16);pt(rt[0],new Uu(Yt.x,Yt.y,0))}else if(l.type==="LineString")for(const rt of l.geometry)pt(rt,new Uu(rt[0].x,rt[0].y,0));else if(l.type==="Point")for(const rt of l.geometry)for(const Yt of rt)pt([Yt],new Uu(Yt.x,Yt.y,0))}function vz(u,l,d,m,b,C,T,R,B,W,H,Z,Q,ie,oe){const ue=function(Re,Te,Le,je,Ze,wt,Rt,_t){const xt=je.layout.get("text-rotate").evaluate(wt,{})*Math.PI/180,ut=[];for(const At of Te.positionedLines)for(const pt of At.positionedGlyphs){if(!pt.rect)continue;const rt=pt.rect||{};let Yt=DN+1,zt=!0,bn=1,_r=0;const Mr=(Ze||_t)&&pt.vertical,vi=pt.metrics.advance*pt.scale/2;if(_t&&Te.verticalizable&&(_r=At.lineOffset/2-(pt.imageName?-(yi-pt.metrics.width*pt.scale)/2:(pt.scale-1)*yi)),pt.imageName){const _i=Rt[pt.imageName];zt=_i.sdf,bn=_i.pixelRatio,Yt=Qo/bn}const ga=Ze?[pt.x+vi,pt.y]:[0,0];let Co=Ze?[0,0]:[pt.x+vi+Le[0],pt.y+Le[1]-_r],di=[0,0];Mr&&(di=Co,Co=[0,0]);const Li=pt.metrics.isDoubleResolution?2:1,Yi=(pt.metrics.left-Yt)*pt.scale-vi+Co[0],Eo=(-pt.metrics.top-Yt)*pt.scale+Co[1],To=Yi+rt.w/Li*pt.scale/bn,bi=Eo+rt.h/Li*pt.scale/bn,xi=new x(Yi,Eo),lo=new x(To,Eo),ko=new x(Yi,bi),co=new x(To,bi);if(Mr){const _i=new x(-vi,vi-ev),Pn=-Math.PI/2,uo=yi/2-vi,Ki=new x(5-ev-uo,-(pt.imageName?uo:0)),wi=new x(...di);xi._rotateAround(Pn,_i)._add(Ki)._add(wi),lo._rotateAround(Pn,_i)._add(Ki)._add(wi),ko._rotateAround(Pn,_i)._add(Ki)._add(wi),co._rotateAround(Pn,_i)._add(Ki)._add(wi)}if(xt){const _i=Math.sin(xt),Pn=Math.cos(xt),uo=[Pn,-_i,_i,Pn];xi._matMult(uo),lo._matMult(uo),ko._matMult(uo),co._matMult(uo)}const ea=new x(0,0),ta=new x(0,0);ut.push({tl:xi,tr:lo,bl:ko,br:co,tex:rt,writingMode:Te.writingMode,glyphOffset:ga,sectionIndex:pt.sectionIndex,isSDF:zt,pixelOffsetTL:ea,pixelOffsetBR:ta,minFontScaleX:0,minFontScaleY:0})}return ut}(0,d,R,b,C,T,m,u.allowVerticalPlacement),ge=u.textSizeData;let xe=null;ge.kind==="source"?(xe=[Nl*b.layout.get("text-size").evaluate(T,{})],xe[0]>Bu&&we(`${u.layerIds[0]}: Value for "text-size" is >= ${nv}. Reduce your "text-size".`)):ge.kind==="composite"&&(xe=[Nl*ie.compositeTextSizes[0].evaluate(T,{},oe),Nl*ie.compositeTextSizes[1].evaluate(T,{},oe)],(xe[0]>Bu||xe[1]>Bu)&&we(`${u.layerIds[0]}: Value for "text-size" is >= ${nv}. Reduce your "text-size".`)),u.addSymbols(u.text,ue,xe,R,C,T,W,l,B.lineStartIndex,B.lineLength,Q,oe);for(const Re of H)Z[Re]=u.text.placedSymbolArray.length-1;return 4*ue.length}function bz(u){for(const l in u)return u[l];return null}function eJ(u,l,d,m){const b=u.compareText;if(l in b){const C=b[l];for(let T=C.length-1;T>=0;T--)if(m.dist(C[T])<d)return!0}else b[l]=[];return b[l].push(m),!1}const xz=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class WT{static from(l){if(!(l instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[d,m]=new Uint8Array(l,0,2);if(d!==219)throw new Error("Data does not appear to be in a KDBush format.");const b=m>>4;if(b!==1)throw new Error(`Got v${b} data when expected v1.`);const C=xz[15&m];if(!C)throw new Error("Unrecognized array type.");const[T]=new Uint16Array(l,2,1),[R]=new Uint32Array(l,4,1);return new WT(R,T,C,l)}constructor(l,d=64,m=Float64Array,b){if(isNaN(l)||l<0)throw new Error(`Unpexpected numItems value: ${l}.`);this.numItems=+l,this.nodeSize=Math.min(Math.max(+d,2),65535),this.ArrayType=m,this.IndexArrayType=l<65536?Uint16Array:Uint32Array;const C=xz.indexOf(this.ArrayType),T=2*l*this.ArrayType.BYTES_PER_ELEMENT,R=l*this.IndexArrayType.BYTES_PER_ELEMENT,B=(8-R%8)%8;if(C<0)throw new Error(`Unexpected typed array class: ${m}.`);b&&b instanceof ArrayBuffer?(this.data=b,this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+R+B,2*l),this._pos=2*l,this._finished=!0):(this.data=new ArrayBuffer(8+T+R+B),this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+R+B,2*l),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+C]),new Uint16Array(this.data,2,1)[0]=d,new Uint32Array(this.data,4,1)[0]=l)}add(l,d){const m=this._pos>>1;return this.ids[m]=m,this.coords[this._pos++]=l,this.coords[this._pos++]=d,m}finish(){const l=this._pos>>1;if(l!==this.numItems)throw new Error(`Added ${l} items when expected ${this.numItems}.`);return qT(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(l,d,m,b){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:C,coords:T,nodeSize:R}=this,B=[0,C.length-1,0],W=[];for(;B.length;){const H=B.pop()||0,Z=B.pop()||0,Q=B.pop()||0;if(Z-Q<=R){for(let ge=Q;ge<=Z;ge++){const xe=T[2*ge],Re=T[2*ge+1];xe>=l&&xe<=m&&Re>=d&&Re<=b&&W.push(C[ge])}continue}const ie=Q+Z>>1,oe=T[2*ie],ue=T[2*ie+1];oe>=l&&oe<=m&&ue>=d&&ue<=b&&W.push(C[ie]),(H===0?l<=oe:d<=ue)&&(B.push(Q),B.push(ie-1),B.push(1-H)),(H===0?m>=oe:b>=ue)&&(B.push(ie+1),B.push(Z),B.push(1-H))}return W}within(l,d,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:b,coords:C,nodeSize:T}=this,R=[0,b.length-1,0],B=[],W=m*m;for(;R.length;){const H=R.pop()||0,Z=R.pop()||0,Q=R.pop()||0;if(Z-Q<=T){for(let ge=Q;ge<=Z;ge++)wz(C[2*ge],C[2*ge+1],l,d)<=W&&B.push(b[ge]);continue}const ie=Q+Z>>1,oe=C[2*ie],ue=C[2*ie+1];wz(oe,ue,l,d)<=W&&B.push(b[ie]),(H===0?l-m<=oe:d-m<=ue)&&(R.push(Q),R.push(ie-1),R.push(1-H)),(H===0?l+m>=oe:d+m>=ue)&&(R.push(ie+1),R.push(Z),R.push(1-H))}return B}}function qT(u,l,d,m,b,C){if(b-m<=d)return;const T=m+b>>1;_z(u,l,T,m,b,C),qT(u,l,d,m,T-1,1-C),qT(u,l,d,T+1,b,1-C)}function _z(u,l,d,m,b,C){for(;b>m;){if(b-m>600){const W=b-m+1,H=d-m+1,Z=Math.log(W),Q=.5*Math.exp(2*Z/3),ie=.5*Math.sqrt(Z*Q*(W-Q)/W)*(H-W/2<0?-1:1);_z(u,l,d,Math.max(m,Math.floor(d-H*Q/W+ie)),Math.min(b,Math.floor(d+(W-H)*Q/W+ie)),C)}const T=l[2*d+C];let R=m,B=b;for(iv(u,l,m,d),l[2*b+C]>T&&iv(u,l,m,b);R<B;){for(iv(u,l,R,B),R++,B--;l[2*R+C]<T;)R++;for(;l[2*B+C]>T;)B--}l[2*m+C]===T?iv(u,l,m,B):(B++,iv(u,l,B,b)),B<=d&&(m=B+1),d<=B&&(b=B-1)}}function iv(u,l,d,m){GT(u,d,m),GT(l,2*d,2*m),GT(l,2*d+1,2*m+1)}function GT(u,l,d){const m=u[l];u[l]=u[d],u[d]=m}function wz(u,l,d,m){const b=u-d,C=l-m;return b*b+C*C}var HT;a.PerformanceMarkers=void 0,(HT=a.PerformanceMarkers||(a.PerformanceMarkers={})).create="create",HT.load="load",HT.fullLoad="fullLoad";let $_=null,ov=[];const YT=1e3/60,KT="loadTime",ZT="fullLoadTime",tJ={mark(u){performance.mark(u)},frame(u){const l=u;$_!=null&&ov.push(l-$_),$_=l},clearMetrics(){$_=null,ov=[],performance.clearMeasures(KT),performance.clearMeasures(ZT);for(const u in a.PerformanceMarkers)performance.clearMarks(a.PerformanceMarkers[u])},getPerformanceMetrics(){performance.measure(KT,a.PerformanceMarkers.create,a.PerformanceMarkers.load),performance.measure(ZT,a.PerformanceMarkers.create,a.PerformanceMarkers.fullLoad);const u=performance.getEntriesByName(KT)[0].duration,l=performance.getEntriesByName(ZT)[0].duration,d=ov.length,m=1/(ov.reduce((C,T)=>C+T,0)/d/1e3),b=ov.filter(C=>C>YT).reduce((C,T)=>C+(T-YT)/YT,0);return{loadTime:u,fullLoadTime:l,fps:m,percentDroppedFrames:b/(d+b)*100,totalFrames:d}}};a.AJAXError=He,a.ARRAY_TYPE=mp,a.Actor=class{constructor(u,l,d){this.receive=m=>{const b=m.data,C=b.id;if(C&&(!b.targetMapId||this.mapId===b.targetMapId))if(b.type==="<cancel>"){delete this.tasks[C];const T=this.cancelCallbacks[C];delete this.cancelCallbacks[C],T&&T()}else Ee()||b.mustQueue?(this.tasks[C]=b,this.taskQueue.push(C),this.invoker.trigger()):this.processTask(C,b)},this.process=()=>{if(!this.taskQueue.length)return;const m=this.taskQueue.shift(),b=this.tasks[m];delete this.tasks[m],this.taskQueue.length&&this.invoker.trigger(),b&&this.processTask(m,b)},this.target=u,this.parent=l,this.mapId=d,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new qX(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Ee()?u:window}send(u,l,d,m,b=!1){const C=Math.round(1e18*Math.random()).toString(36).substring(0,10);d&&(this.callbacks[C]=d);const T=De(this.globalScope)?void 0:[];return this.target.postMessage({id:C,type:u,hasCallback:!!d,targetMapId:m,mustQueue:b,sourceMapId:this.mapId,data:Ru(l,T)},T),{cancel:()=>{d&&delete this.callbacks[C],this.target.postMessage({id:C,type:"<cancel>",targetMapId:m,sourceMapId:this.mapId})}}}processTask(u,l){if(l.type==="<response>"){const d=this.callbacks[u];delete this.callbacks[u],d&&(l.error?d(hf(l.error)):d(null,hf(l.data)))}else{let d=!1;const m=De(this.globalScope)?void 0:[],b=l.hasCallback?(R,B)=>{d=!0,delete this.cancelCallbacks[u],this.target.postMessage({id:u,type:"<response>",sourceMapId:this.mapId,error:R?Ru(R):null,data:Ru(B,m)},m)}:R=>{d=!0};let C=null;const T=hf(l.data);if(this.parent[l.type])C=this.parent[l.type](l.sourceMapId,T,b);else if(this.parent.getWorkerSource){const R=l.type.split(".");C=this.parent.getWorkerSource(l.sourceMapId,R[0],T.source)[R[1]](T,b)}else b(new Error(`Could not find function ${l.type}`));!d&&C&&C.cancel&&(this.cancelCallbacks[u]=C.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},a.AlphaImage=Gy,a.CanonicalTileID=FT,a.CollisionBoxArray=le,a.CollisionCircleLayoutArray=class extends _{},a.Color=Jn,a.DEMData=nz,a.DataConstantProperty=Bt,a.DictionaryCoder=rz,a.EXTENT=ui,a.ErrorEvent=rr,a.EvaluationParameters=kr,a.Event=_n,a.Evented=Tn,a.FeatureIndex=oz,a.FillBucket=CT,a.FillExtrusionBucket=TT,a.GeoJSONFeature=iz,a.ImageAtlas=NN,a.ImagePosition=MT,a.KDBush=WT,a.LineBucket=kT,a.LineStripIndexArray=class extends de{},a.LngLat=Fu,a.MercatorCoordinate=P_,a.ONE_EM=yi,a.OverscaledTileID=Da,a.PerformanceUtils=tJ,a.Point=x,a.Pos3dArray=class extends $l{},a.PosArray=$t,a.Properties=ao,a.Protobuf=OT,a.QuadTriangleArray=class extends D{},a.RGBAImage=Ra,a.RasterBoundsArray=class extends Fy{},a.RequestPerformance=class{constructor(u){this._marks={start:[u.url,"start"].join("#"),end:[u.url,"end"].join("#"),measure:u.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let u=performance.getEntriesByName(this._marks.measure);return u.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),u=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),u}},a.SegmentVector=Ar,a.SymbolBucket=_p,a.Transitionable=l_,a.TriangleIndexArray=Wr,a.Uniform1f=fp,a.Uniform1i=class extends wc{constructor(u,l){super(u,l),this.current=0}set(u){this.current!==u&&(this.current=u,this.gl.uniform1i(this.location,u))}},a.Uniform2f=class extends wc{constructor(u,l){super(u,l),this.current=[0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]||(this.current=u,this.gl.uniform2f(this.location,u[0],u[1]))}},a.Uniform3f=class extends wc{constructor(u,l){super(u,l),this.current=[0,0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]||(this.current=u,this.gl.uniform3f(this.location,u[0],u[1],u[2]))}},a.Uniform4f=f_,a.UniformColor=h_,a.UniformMatrix4f=class extends wc{constructor(u,l){super(u,l),this.current=cT}set(u){if(u[12]!==this.current[12]||u[0]!==this.current[0])return this.current=u,void this.gl.uniformMatrix4fv(this.location,!1,u);for(let l=1;l<16;l++)if(u[l]!==this.current[l]){this.current=u,this.gl.uniformMatrix4fv(this.location,!1,u);break}}},a.UnwrappedTileID=tz,a.ValidationError=Ue,a.ZoomHistory=Py,a.__awaiter=f,a.addDynamicAttributes=DT,a.arrayBufferToImage=function(u,l){const d=new Image;d.onload=()=>{l(null,d),URL.revokeObjectURL(d.src),d.onload=null,window.requestAnimationFrame(()=>{d.src=dt})},d.onerror=()=>l(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const m=new Blob([new Uint8Array(u)],{type:"image/png"});d.src=u.byteLength?URL.createObjectURL(m):dt},a.arrayBufferToImageBitmap=function(u,l){const d=new Blob([new Uint8Array(u)],{type:"image/png"});createImageBitmap(d).then(m=>{l(null,m)}).catch(m=>{l(new Error(`Could not load image because of ${m.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},a.asyncAll=function(u,l,d){if(!u.length)return d(null,[]);let m=u.length;const b=new Array(u.length);let C=null;u.forEach((T,R)=>{l(T,(B,W)=>{B&&(C=B),b[R]=W,--m==0&&d(C,b)})})},a.bezier=$,a.browser=Gt,a.clamp=N,a.clipLine=lz,a.clone=function(u){var l=new mp(16);return l[0]=u[0],l[1]=u[1],l[2]=u[2],l[3]=u[3],l[4]=u[4],l[5]=u[5],l[6]=u[6],l[7]=u[7],l[8]=u[8],l[9]=u[9],l[10]=u[10],l[11]=u[11],l[12]=u[12],l[13]=u[13],l[14]=u[14],l[15]=u[15],l},a.clone$1=pe,a.collisionCircleLayout=bX,a.config=Ht,a.copy=function(u,l){return u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[4]=l[4],u[5]=l[5],u[6]=l[6],u[7]=l[7],u[8]=l[8],u[9]=l[9],u[10]=l[10],u[11]=l[11],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15],u},a.create=function(){var u=new mp(16);return mp!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=0,u[12]=0,u[13]=0,u[14]=0),u[0]=1,u[5]=1,u[10]=1,u[15]=1,u},a.createExpression=tp,a.createFilter=by,a.createLayout=Pr,a.createStyleLayer=function(u){if(u.type==="custom")return new WX(u);switch(u.type){case"background":return new FX(u);case"circle":return new TZ(u);case"fill":return new GZ(u);case"fill-extrusion":return new sX(u);case"heatmap":return new PZ(u);case"hillshade":return new AZ(u);case"line":return new mX(u);case"raster":return new VX(u);case"symbol":return new k_(u)}},a.deepEqual=function u(l,d){if(Array.isArray(l)){if(!Array.isArray(d)||l.length!==d.length)return!1;for(let m=0;m<l.length;m++)if(!u(l[m],d[m]))return!1;return!0}if(typeof l=="object"&&l!==null&&d!==null){if(typeof d!="object"||Object.keys(l).length!==Object.keys(d).length)return!1;for(const m in l)if(!u(l[m],d[m]))return!1;return!0}return l===d},a.defaultEasing=L,a.derefLayers=function(u){u=u.slice();const l=Object.create(null);for(let d=0;d<u.length;d++)l[u[d].id]=u[d];for(let d=0;d<u.length;d++)"ref"in u[d]&&(u[d]=Hn(u[d],l[u[d].ref]));return u},a.diffStyles=function(u,l){if(!u)return[{command:Kt.setStyle,args:[l]}];let d=[];try{if(!Dt(u.version,l.version))return[{command:Kt.setStyle,args:[l]}];Dt(u.center,l.center)||d.push({command:Kt.setCenter,args:[l.center]}),Dt(u.zoom,l.zoom)||d.push({command:Kt.setZoom,args:[l.zoom]}),Dt(u.bearing,l.bearing)||d.push({command:Kt.setBearing,args:[l.bearing]}),Dt(u.pitch,l.pitch)||d.push({command:Kt.setPitch,args:[l.pitch]}),Dt(u.sprite,l.sprite)||d.push({command:Kt.setSprite,args:[l.sprite]}),Dt(u.glyphs,l.glyphs)||d.push({command:Kt.setGlyphs,args:[l.glyphs]}),Dt(u.transition,l.transition)||d.push({command:Kt.setTransition,args:[l.transition]}),Dt(u.light,l.light)||d.push({command:Kt.setLight,args:[l.light]});const m={},b=[];(function(T,R,B,W){let H;for(H in R=R||{},T=T||{})Object.prototype.hasOwnProperty.call(T,H)&&(Object.prototype.hasOwnProperty.call(R,H)||br(H,B,W));for(H in R)Object.prototype.hasOwnProperty.call(R,H)&&(Object.prototype.hasOwnProperty.call(T,H)?Dt(T[H],R[H])||(T[H].type==="geojson"&&R[H].type==="geojson"&&rn(T,R,H)?B.push({command:Kt.setGeoJSONSourceData,args:[H,R[H].data]}):Nn(H,R,B,W)):ir(H,R,B))})(u.sources,l.sources,b,m);const C=[];u.layers&&u.layers.forEach(T=>{m[T.source]?d.push({command:Kt.removeLayer,args:[T.id]}):C.push(T)}),d=d.concat(b),function(T,R,B){R=R||[];const W=(T=T||[]).map(Ii),H=R.map(Ii),Z=T.reduce(gi,{}),Q=R.reduce(gi,{}),ie=W.slice(),oe=Object.create(null);let ue,ge,xe,Re,Te,Le,je;for(ue=0,ge=0;ue<W.length;ue++)xe=W[ue],Object.prototype.hasOwnProperty.call(Q,xe)?ge++:(B.push({command:Kt.removeLayer,args:[xe]}),ie.splice(ie.indexOf(xe,ge),1));for(ue=0,ge=0;ue<H.length;ue++)xe=H[H.length-1-ue],ie[ie.length-1-ue]!==xe&&(Object.prototype.hasOwnProperty.call(Z,xe)?(B.push({command:Kt.removeLayer,args:[xe]}),ie.splice(ie.lastIndexOf(xe,ie.length-ge),1)):ge++,Le=ie[ie.length-ue],B.push({command:Kt.addLayer,args:[Q[xe],Le]}),ie.splice(ie.length-ue,0,xe),oe[xe]=!0);for(ue=0;ue<H.length;ue++)if(xe=H[ue],Re=Z[xe],Te=Q[xe],!oe[xe]&&!Dt(Re,Te))if(Dt(Re.source,Te.source)&&Dt(Re["source-layer"],Te["source-layer"])&&Dt(Re.type,Te.type)){for(je in Xn(Re.layout,Te.layout,B,xe,null,Kt.setLayoutProperty),Xn(Re.paint,Te.paint,B,xe,null,Kt.setPaintProperty),Dt(Re.filter,Te.filter)||B.push({command:Kt.setFilter,args:[xe,Te.filter]}),Dt(Re.minzoom,Te.minzoom)&&Dt(Re.maxzoom,Te.maxzoom)||B.push({command:Kt.setLayerZoomRange,args:[xe,Te.minzoom,Te.maxzoom]}),Re)Object.prototype.hasOwnProperty.call(Re,je)&&je!=="layout"&&je!=="paint"&&je!=="filter"&&je!=="metadata"&&je!=="minzoom"&&je!=="maxzoom"&&(je.indexOf("paint.")===0?Xn(Re[je],Te[je],B,xe,je.slice(6),Kt.setPaintProperty):Dt(Re[je],Te[je])||B.push({command:Kt.setLayerProperty,args:[xe,je,Te[je]]}));for(je in Te)Object.prototype.hasOwnProperty.call(Te,je)&&!Object.prototype.hasOwnProperty.call(Re,je)&&je!=="layout"&&je!=="paint"&&je!=="filter"&&je!=="metadata"&&je!=="minzoom"&&je!=="maxzoom"&&(je.indexOf("paint.")===0?Xn(Re[je],Te[je],B,xe,je.slice(6),Kt.setPaintProperty):Dt(Re[je],Te[je])||B.push({command:Kt.setLayerProperty,args:[xe,je,Te[je]]}))}else B.push({command:Kt.removeLayer,args:[xe]}),Le=ie[ie.lastIndexOf(xe)+1],B.push({command:Kt.addLayer,args:[Te,Le]})}(C,l.layers,d)}catch(m){console.warn("Unable to compute style diff:",m),d=[{command:Kt.setStyle,args:[l]}]}return d},a.dot=function(u,l){return u[0]*l[0]+u[1]*l[1]+u[2]*l[2]+u[3]*l[3]},a.earthRadius=jT,a.emitValidationErrors=ky,a.emptyStyle=function(){const u={},l=Ne.$version;for(const d in Ne.$root){const m=Ne.$root[d];if(m.required){let b=null;b=d==="version"?l:m.type==="array"?[]:{},b!=null&&(u[d]=b)}}return u},a.equals=function(u,l){var d=u[0],m=u[1],b=u[2],C=u[3],T=u[4],R=u[5],B=u[6],W=u[7],H=u[8],Z=u[9],Q=u[10],ie=u[11],oe=u[12],ue=u[13],ge=u[14],xe=u[15],Re=l[0],Te=l[1],Le=l[2],je=l[3],Ze=l[4],wt=l[5],Rt=l[6],_t=l[7],xt=l[8],ut=l[9],At=l[10],pt=l[11],rt=l[12],Yt=l[13],zt=l[14],bn=l[15];return Math.abs(d-Re)<=So*Math.max(1,Math.abs(d),Math.abs(Re))&&Math.abs(m-Te)<=So*Math.max(1,Math.abs(m),Math.abs(Te))&&Math.abs(b-Le)<=So*Math.max(1,Math.abs(b),Math.abs(Le))&&Math.abs(C-je)<=So*Math.max(1,Math.abs(C),Math.abs(je))&&Math.abs(T-Ze)<=So*Math.max(1,Math.abs(T),Math.abs(Ze))&&Math.abs(R-wt)<=So*Math.max(1,Math.abs(R),Math.abs(wt))&&Math.abs(B-Rt)<=So*Math.max(1,Math.abs(B),Math.abs(Rt))&&Math.abs(W-_t)<=So*Math.max(1,Math.abs(W),Math.abs(_t))&&Math.abs(H-xt)<=So*Math.max(1,Math.abs(H),Math.abs(xt))&&Math.abs(Z-ut)<=So*Math.max(1,Math.abs(Z),Math.abs(ut))&&Math.abs(Q-At)<=So*Math.max(1,Math.abs(Q),Math.abs(At))&&Math.abs(ie-pt)<=So*Math.max(1,Math.abs(ie),Math.abs(pt))&&Math.abs(oe-rt)<=So*Math.max(1,Math.abs(oe),Math.abs(rt))&&Math.abs(ue-Yt)<=So*Math.max(1,Math.abs(ue),Math.abs(Yt))&&Math.abs(ge-zt)<=So*Math.max(1,Math.abs(ge),Math.abs(zt))&&Math.abs(xe-bn)<=So*Math.max(1,Math.abs(xe),Math.abs(bn))},a.evaluateSizeForFeature=function(u,{uSize:l,uSizeT:d},{lowerSize:m,upperSize:b}){return u.kind==="source"?m/Nl:u.kind==="composite"?qo.number(m/Nl,b/Nl,d):l},a.evaluateSizeForZoom=function(u,l){let d=0,m=0;if(u.kind==="constant")m=u.layoutSize;else if(u.kind!=="source"){const{interpolationType:b,minZoom:C,maxZoom:T}=u,R=b?N(Go.interpolationFactor(b,l,C,T),0,1):0;u.kind==="camera"?m=qo.number(u.minSize,u.maxSize,R):d=R}return{uSizeT:d,uSize:m}},a.evented=Dy,a.extend=G,a.filterObject=ae,a.findLineIntersection=function(u,l,d,m){const b=l.y-u.y,C=l.x-u.x,T=m.y-d.y,R=m.x-d.x,B=T*C-R*b;if(B===0)return null;const W=(R*(u.y-d.y)-T*(u.x-d.x))/B;return new x(u.x+W*C,u.y+W*b)},a.fromScaling=function(u,l){return u[0]=l[0],u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=l[1],u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=l[2],u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},a.getAnchorAlignment=$T,a.getAnchorJustification=VT,a.getArrayBuffer=Tt,a.getDefaultExportFromCjs=h,a.getImageData=function(u,l,d,m,b){return f(this,void 0,void 0,function*(){if(k())try{return yield ht(u,l,d,m,b)}catch{}return function(C,T,R,B,W){const H=C.width,Z=C.height;Je&&it||(Je=new OffscreenCanvas(H,Z),it=Je.getContext("2d",{willReadFrequently:!0})),Je.width=H,Je.height=Z,it.drawImage(C,0,0,H,Z);const Q=it.getImageData(T,R,B,W);return it.clearRect(0,0,H,Z),Q.data}(u,l,d,m,b)})},a.getJSON=function(u,l){return Ct(G(u,{type:"json"}),l)},a.getOverlapMode=RT,a.getProtocolAction=yt,a.getRTLTextPluginStatus=Ly,a.getReferrer=vt,a.getVideo=function(u,l){const d=window.document.createElement("video");d.muted=!0,d.onloadstart=function(){l(null,d)};for(let m=0;m<u.length;m++){const b=window.document.createElement("source");qt(u[m])||(d.crossOrigin="Anonymous"),b.src=u[m],d.appendChild(b)}return{cancel:()=>{}}},a.groupByLayout=function(u,l){const d={};for(let b=0;b<u.length;b++){const C=l&&l[u[b].id]||iT(u[b]);l&&(l[u[b].id]=C);let T=d[C];T||(T=d[C]=[]),T.push(u[b])}const m=[];for(const b in d)m.push(d[b]);return m},a.identity=pT,a.interpolate=qo,a.invert=function(u,l){var d=l[0],m=l[1],b=l[2],C=l[3],T=l[4],R=l[5],B=l[6],W=l[7],H=l[8],Z=l[9],Q=l[10],ie=l[11],oe=l[12],ue=l[13],ge=l[14],xe=l[15],Re=d*R-m*T,Te=d*B-b*T,Le=d*W-C*T,je=m*B-b*R,Ze=m*W-C*R,wt=b*W-C*B,Rt=H*ue-Z*oe,_t=H*ge-Q*oe,xt=H*xe-ie*oe,ut=Z*ge-Q*ue,At=Z*xe-ie*ue,pt=Q*xe-ie*ge,rt=Re*pt-Te*At+Le*ut+je*xt-Ze*_t+wt*Rt;return rt?(u[0]=(R*pt-B*At+W*ut)*(rt=1/rt),u[1]=(b*At-m*pt-C*ut)*rt,u[2]=(ue*wt-ge*Ze+xe*je)*rt,u[3]=(Q*Ze-Z*wt-ie*je)*rt,u[4]=(B*xt-T*pt-W*_t)*rt,u[5]=(d*pt-b*xt+C*_t)*rt,u[6]=(ge*Le-oe*wt-xe*Te)*rt,u[7]=(H*wt-Q*Le+ie*Te)*rt,u[8]=(T*At-R*xt+W*Rt)*rt,u[9]=(m*xt-d*At-C*Rt)*rt,u[10]=(oe*Ze-ue*Le+xe*Re)*rt,u[11]=(Z*Le-H*Ze-ie*Re)*rt,u[12]=(R*_t-T*ut-B*Rt)*rt,u[13]=(d*ut-m*_t+b*Rt)*rt,u[14]=(ue*Te-oe*je-ge*Re)*rt,u[15]=(H*je-Z*Te+Q*Re)*rt,u):null},a.isImageBitmap=We,a.isOffscreenCanvasDistorted=k,a.isSafari=De,a.isWorker=Ee,a.keysDifference=function(u,l){const d=[];for(const m in u)m in l||d.push(m);return d},a.lazyLoadRTLTextPlugin=function(){Ko.isLoading()||Ko.isLoaded()||Ly()!=="deferred"||Ny()},a.makeRequest=Ct,a.mapObject=ee,a.mercatorXfromLng=XN,a.mercatorYfromLat=JN,a.mercatorZfromAltitude=QN,a.mul=EZ,a.mul$1=function(u,l,d){return u[0]=l[0]*d[0],u[1]=l[1]*d[1],u[2]=l[2]*d[2],u[3]=l[3]*d[3],u},a.multiply=nN,a.nextPowerOfTwo=function(u){return u<=1?1:Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))},a.offscreenCanvasSupported=M,a.operations=Kt,a.ortho=function(u,l,d,m,b,C,T){var R=1/(l-d),B=1/(m-b),W=1/(C-T);return u[0]=-2*R,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*B,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2*W,u[11]=0,u[12]=(l+d)*R,u[13]=(b+m)*B,u[14]=(T+C)*W,u[15]=1,u},a.parseCacheControl=function(u){const l={};if(u.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(d,m,b,C)=>{const T=b||C;return l[m]=!T||T.toLowerCase(),""}),l["max-age"]){const d=parseInt(l["max-age"],10);isNaN(d)?delete l["max-age"]:l["max-age"]=d}return l},a.parseGlyphPbf=function(u){return new OT(u).readFields(AX,[])},a.pbf=PN,a.performSymbolLayout=function(u){u.bucket.createArrays(),u.bucket.tilePixelRatio=ui/(512*u.bucket.overscaling),u.bucket.compareText={},u.bucket.iconsNeedLinear=!1;const l=u.bucket.layers[0],d=l.layout,m=l._unevaluatedLayout._values,b={layoutIconSize:m["icon-size"].possiblyEvaluate(new kr(u.bucket.zoom+1),u.canonical),layoutTextSize:m["text-size"].possiblyEvaluate(new kr(u.bucket.zoom+1),u.canonical),textMaxSize:m["text-size"].possiblyEvaluate(new kr(18))};if(u.bucket.textSizeData.kind==="composite"){const{minZoom:W,maxZoom:H}=u.bucket.textSizeData;b.compositeTextSizes=[m["text-size"].possiblyEvaluate(new kr(W),u.canonical),m["text-size"].possiblyEvaluate(new kr(H),u.canonical)]}if(u.bucket.iconSizeData.kind==="composite"){const{minZoom:W,maxZoom:H}=u.bucket.iconSizeData;b.compositeIconSizes=[m["icon-size"].possiblyEvaluate(new kr(W),u.canonical),m["icon-size"].possiblyEvaluate(new kr(H),u.canonical)]}const C=d.get("text-line-height")*yi,T=d.get("text-rotation-alignment")!=="viewport"&&d.get("symbol-placement")!=="point",R=d.get("text-keep-upright"),B=d.get("text-size");for(const W of u.bucket.features){const H=d.get("text-font").evaluate(W,{},u.canonical).join(","),Z=B.evaluate(W,{},u.canonical),Q=b.layoutTextSize.evaluate(W,{},u.canonical),ie=b.layoutIconSize.evaluate(W,{},u.canonical),oe={horizontal:{},vertical:void 0},ue=W.text;let ge,xe=[0,0];if(ue){const Le=ue.toString(),je=d.get("text-letter-spacing").evaluate(W,{},u.canonical)*yi,Ze=oT(Le)?je:0,wt=d.get("text-anchor").evaluate(W,{},u.canonical),Rt=yz(l,W,u.canonical);if(!Rt){const pt=d.get("text-radial-offset").evaluate(W,{},u.canonical);xe=pt?gz(wt,[pt*yi,UT]):d.get("text-offset").evaluate(W,{},u.canonical).map(rt=>rt*yi)}let _t=T?"center":d.get("text-justify").evaluate(W,{},u.canonical);const xt=d.get("symbol-placement"),ut=xt==="point"?d.get("text-max-width").evaluate(W,{},u.canonical)*yi:0,At=()=>{u.bucket.allowVerticalPlacement&&pf(Le)&&(oe.vertical=C_(ue,u.glyphMap,u.glyphPositions,u.imagePositions,H,ut,C,wt,"left",Ze,xe,a.WritingMode.vertical,!0,xt,Q,Z))};if(!T&&Rt){const pt=new Set;if(_t==="auto")for(let Yt=0;Yt<Rt.values.length;Yt+=2)pt.add(VT(Rt.values[Yt]));else pt.add(_t);let rt=!1;for(const Yt of pt)if(!oe.horizontal[Yt])if(rt)oe.horizontal[Yt]=oe.horizontal[0];else{const zt=C_(ue,u.glyphMap,u.glyphPositions,u.imagePositions,H,ut,C,"center",Yt,Ze,xe,a.WritingMode.horizontal,!1,xt,Q,Z);zt&&(oe.horizontal[Yt]=zt,rt=zt.positionedLines.length===1)}At()}else{_t==="auto"&&(_t=VT(wt));const pt=C_(ue,u.glyphMap,u.glyphPositions,u.imagePositions,H,ut,C,wt,_t,Ze,xe,a.WritingMode.horizontal,!1,xt,Q,Z);pt&&(oe.horizontal[_t]=pt),At(),pf(Le)&&T&&R&&(oe.vertical=C_(ue,u.glyphMap,u.glyphPositions,u.imagePositions,H,ut,C,wt,_t,Ze,xe,a.WritingMode.vertical,!1,xt,Q,Z))}}let Re=!1;if(W.icon&&W.icon.name){const Le=u.imageMap[W.icon.name];Le&&(ge=LX(u.imagePositions[W.icon.name],d.get("icon-offset").evaluate(W,{},u.canonical),d.get("icon-anchor").evaluate(W,{},u.canonical)),Re=!!Le.sdf,u.bucket.sdfIcons===void 0?u.bucket.sdfIcons=Re:u.bucket.sdfIcons!==Re&&we("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Le.pixelRatio!==u.bucket.pixelRatio||d.get("icon-rotate").constantOr(1)!==0)&&(u.bucket.iconsNeedLinear=!0))}const Te=bz(oe.horizontal)||oe.vertical;u.bucket.iconsInText=!!Te&&Te.iconsInText,(Te||ge)&&QX(u.bucket,W,oe,ge,u.imageMap,b,Q,ie,xe,Re,u.canonical)}u.showCollisionBoxes&&u.bucket.generateCollisionDebugBuffers()},a.perspective=function(u,l,d,m,b){var C,T=1/Math.tan(l/2);return u[0]=T/d,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=T,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=-1,u[12]=0,u[13]=0,u[15]=0,b!=null&&b!==1/0?(u[10]=(b+m)*(C=1/(m-b)),u[14]=2*b*m*C):(u[10]=-1,u[14]=-2*m),u},a.pick=function(u,l){const d={};for(let m=0;m<l.length;m++){const b=l[m];b in u&&(d[b]=u[b])}return d},a.plugin=Ko,a.pointGeometry=g,a.polygonIntersectsPolygon=ZL,a.potpack=LN,a.readImageUsingVideoFrame=ht,a.register=kt,a.registerForPluginStateChange=function(u){return u({pluginStatus:wo,pluginURL:Ia}),Dy.on("pluginStateChange",u),u},a.renderColorRamp=sN,a.rotateX=function(u,l,d){var m=Math.sin(d),b=Math.cos(d),C=l[4],T=l[5],R=l[6],B=l[7],W=l[8],H=l[9],Z=l[10],Q=l[11];return l!==u&&(u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15]),u[4]=C*b+W*m,u[5]=T*b+H*m,u[6]=R*b+Z*m,u[7]=B*b+Q*m,u[8]=W*b-C*m,u[9]=H*b-T*m,u[10]=Z*b-R*m,u[11]=Q*b-B*m,u},a.rotateZ=function(u,l,d){var m=Math.sin(d),b=Math.cos(d),C=l[0],T=l[1],R=l[2],B=l[3],W=l[4],H=l[5],Z=l[6],Q=l[7];return l!==u&&(u[8]=l[8],u[9]=l[9],u[10]=l[10],u[11]=l[11],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15]),u[0]=C*b+W*m,u[1]=T*b+H*m,u[2]=R*b+Z*m,u[3]=B*b+Q*m,u[4]=W*b-C*m,u[5]=H*b-T*m,u[6]=Z*b-R*m,u[7]=Q*b-B*m,u},a.sameOrigin=qt,a.scale=function(u,l,d){var m=d[0],b=d[1],C=d[2];return u[0]=l[0]*m,u[1]=l[1]*m,u[2]=l[2]*m,u[3]=l[3]*m,u[4]=l[4]*b,u[5]=l[5]*b,u[6]=l[6]*b,u[7]=l[7]*b,u[8]=l[8]*C,u[9]=l[9]*C,u[10]=l[10]*C,u[11]=l[11]*C,u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15],u},a.setRTLTextPlugin=function(u,l,d=!1){if(wo===My||wo===Iy||wo===$y)throw new Error("setRTLTextPlugin cannot be called multiple times.");Ia=Gt.resolveURL(u),wo=My,Ry=l,mf(),d||Ny()},a.sphericalToCartesian=function([u,l,d]){return l+=90,l*=Math.PI/180,d*=Math.PI/180,{x:u*Math.cos(l)*Math.sin(d),y:u*Math.sin(l)*Math.sin(d),z:u*Math.cos(d)}},a.toEvaluationFeature=_f,a.transformMat4=y_,a.translate=function(u,l,d){var m,b,C,T,R,B,W,H,Z,Q,ie,oe,ue=d[0],ge=d[1],xe=d[2];return l===u?(u[12]=l[0]*ue+l[4]*ge+l[8]*xe+l[12],u[13]=l[1]*ue+l[5]*ge+l[9]*xe+l[13],u[14]=l[2]*ue+l[6]*ge+l[10]*xe+l[14],u[15]=l[3]*ue+l[7]*ge+l[11]*xe+l[15]):(b=l[1],C=l[2],T=l[3],R=l[4],B=l[5],W=l[6],H=l[7],Z=l[8],Q=l[9],ie=l[10],oe=l[11],u[0]=m=l[0],u[1]=b,u[2]=C,u[3]=T,u[4]=R,u[5]=B,u[6]=W,u[7]=H,u[8]=Z,u[9]=Q,u[10]=ie,u[11]=oe,u[12]=m*ue+R*ge+Z*xe+l[12],u[13]=b*ue+B*ge+Q*xe+l[13],u[14]=C*ue+W*ge+ie*xe+l[14],u[15]=T*ue+H*ge+oe*xe+l[15]),u},a.triggerPluginCompletionEvent=s_,a.unicodeBlockLookup=St,a.uniqueId=function(){return J++},a.v8Spec=Ne,a.validateCustomStyleLayer=function(u){const l=[],d=u.id;return d===void 0&&l.push({message:`layers.${d}: missing required property "id"`}),u.render===void 0&&l.push({message:`layers.${d}: missing required method "render"`}),u.renderingMode&&u.renderingMode!=="2d"&&u.renderingMode!=="3d"&&l.push({message:`layers.${d}: property "renderingMode" must be either "2d" or "3d"`}),l},a.validateLight=Ey,a.validateStyle=df,a.vectorTile=zu,a.warnOnce=we,a.wrap=F}),o(["./shared"],function(a){class f{constructor(X){this.keyCache={},X&&this.replace(X)}replace(X){this._layerConfigs={},this._layers={},this.update(X,[])}update(X,ne){for(const he of X){this._layerConfigs[he.id]=he;const be=this._layers[he.id]=a.createStyleLayer(he);be._featureFilter=a.createFilter(be.filter),this.keyCache[he.id]&&delete this.keyCache[he.id]}for(const he of ne)delete this.keyCache[he],delete this._layerConfigs[he],delete this._layers[he];this.familiesBySource={};const se=a.groupByLayout(Object.values(this._layerConfigs),this.keyCache);for(const he of se){const be=he.map(Ye=>this._layers[Ye.id]),Me=be[0];if(Me.visibility==="none")continue;const ke=Me.source||"";let _e=this.familiesBySource[ke];_e||(_e=this.familiesBySource[ke]={});const $e=Me.sourceLayer||"_geojsonTileLayer";let qe=_e[$e];qe||(qe=_e[$e]=[]),qe.push(be)}}}class h{constructor(X){const ne={},se=[];for(const ke in X){const _e=X[ke],$e=ne[ke]={};for(const qe in _e){const Ye=_e[+qe];if(!Ye||Ye.bitmap.width===0||Ye.bitmap.height===0)continue;const Xe={x:0,y:0,w:Ye.bitmap.width+2,h:Ye.bitmap.height+2};se.push(Xe),$e[qe]={rect:Xe,metrics:Ye.metrics}}}const{w:he,h:be}=a.potpack(se),Me=new a.AlphaImage({width:he||1,height:be||1});for(const ke in X){const _e=X[ke];for(const $e in _e){const qe=_e[+$e];if(!qe||qe.bitmap.width===0||qe.bitmap.height===0)continue;const Ye=ne[ke][$e].rect;a.AlphaImage.copy(qe.bitmap,Me,{x:0,y:0},{x:Ye.x+1,y:Ye.y+1},qe.bitmap)}}this.image=Me,this.positions=ne}}a.register("GlyphAtlas",h);class g{constructor(X){this.tileID=new a.OverscaledTileID(X.tileID.overscaledZ,X.tileID.wrap,X.tileID.canonical.z,X.tileID.canonical.x,X.tileID.canonical.y),this.uid=X.uid,this.zoom=X.zoom,this.pixelRatio=X.pixelRatio,this.tileSize=X.tileSize,this.source=X.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=X.showCollisionBoxes,this.collectResourceTiming=!!X.collectResourceTiming,this.returnDependencies=!!X.returnDependencies,this.promoteId=X.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(X,ne,se,he,be){this.status="parsing",this.data=X,this.collisionBoxArray=new a.CollisionBoxArray;const Me=new a.DictionaryCoder(Object.keys(X.layers).sort()),ke=new a.FeatureIndex(this.tileID,this.promoteId);ke.bucketLayerIDs=[];const _e={},$e={featureIndex:ke,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:se},qe=ne.familiesBySource[this.source];for(const In in qe){const kn=X.layers[In];if(!kn)continue;kn.version===1&&a.warnOnce(`Vector tile source "${this.source}" layer "${In}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Pi=Me.encode(In),Ut=[];for(let Fn=0;Fn<kn.length;Fn++){const ci=kn.feature(Fn),Pl=ke.getId(ci,In);Ut.push({feature:ci,id:Pl,index:Fn,sourceLayerIndex:Pi})}for(const Fn of qe[In]){const ci=Fn[0];ci.source!==this.source&&a.warnOnce(`layer.source = ${ci.source} does not equal this.source = ${this.source}`),ci.minzoom&&this.zoom<Math.floor(ci.minzoom)||ci.maxzoom&&this.zoom>=ci.maxzoom||ci.visibility!=="none"&&(y(Fn,this.zoom,se),(_e[ci.id]=ci.createBucket({index:ke.bucketLayerIDs.length,layers:Fn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Pi,sourceID:this.source})).populate(Ut,$e,this.tileID.canonical),ke.bucketLayerIDs.push(Fn.map(Pl=>Pl.id)))}}let Ye,Xe,Lt,Jt;const It=a.mapObject($e.glyphDependencies,In=>Object.keys(In).map(Number));this.inFlightDependencies.forEach(In=>In==null?void 0:In.cancel()),this.inFlightDependencies=[];const jt=++this.dependencySentinel;Object.keys(It).length?this.inFlightDependencies.push(he.send("getGlyphs",{uid:this.uid,stacks:It,source:this.source,tileID:this.tileID,type:"glyphs"},(In,kn)=>{jt===this.dependencySentinel&&(Ye||(Ye=In,Xe=kn,Yn.call(this)))})):Xe={};const ln=Object.keys($e.iconDependencies);ln.length?this.inFlightDependencies.push(he.send("getImages",{icons:ln,source:this.source,tileID:this.tileID,type:"icons"},(In,kn)=>{jt===this.dependencySentinel&&(Ye||(Ye=In,Lt=kn,Yn.call(this)))})):Lt={};const Bn=Object.keys($e.patternDependencies);function Yn(){if(Ye)return be(Ye);if(Xe&&Lt&&Jt){const In=new h(Xe),kn=new a.ImageAtlas(Lt,Jt);for(const Pi in _e){const Ut=_e[Pi];Ut instanceof a.SymbolBucket?(y(Ut.layers,this.zoom,se),a.performSymbolLayout({bucket:Ut,glyphMap:Xe,glyphPositions:In.positions,imageMap:Lt,imagePositions:kn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):Ut.hasPattern&&(Ut instanceof a.LineBucket||Ut instanceof a.FillBucket||Ut instanceof a.FillExtrusionBucket)&&(y(Ut.layers,this.zoom,se),Ut.addFeatures($e,this.tileID.canonical,kn.patternPositions))}this.status="done",be(null,{buckets:Object.values(_e).filter(Pi=>!Pi.isEmpty()),featureIndex:ke,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:In.image,imageAtlas:kn,glyphMap:this.returnDependencies?Xe:null,iconMap:this.returnDependencies?Lt:null,glyphPositions:this.returnDependencies?In.positions:null})}}Bn.length?this.inFlightDependencies.push(he.send("getImages",{icons:Bn,source:this.source,tileID:this.tileID,type:"patterns"},(In,kn)=>{jt===this.dependencySentinel&&(Ye||(Ye=In,Jt=kn,Yn.call(this)))})):Jt={},Yn.call(this)}}function y(fe,X,ne){const se=new a.EvaluationParameters(X);for(const he of fe)he.recalculate(se,ne)}function x(fe,X){const ne=a.getArrayBuffer(fe.request,(se,he,be,Me)=>{if(se)X(se);else if(he)try{const ke=new a.vectorTile.VectorTile(new a.Protobuf(he));X(null,{vectorTile:ke,rawData:he,cacheControl:be,expires:Me})}catch(ke){const _e=new Uint8Array(he);let $e=`Unable to parse the tile at ${fe.request.url}, `;$e+=_e[0]===31&&_e[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${ke.messge}`,X(new Error($e))}});return()=>{ne.cancel(),X()}}class P{constructor(X,ne,se,he){this.actor=X,this.layerIndex=ne,this.availableImages=se,this.loadVectorData=he||x,this.fetching={},this.loading={},this.loaded={}}loadTile(X,ne){const se=X.uid;this.loading||(this.loading={});const he=!!(X&&X.request&&X.request.collectResourceTiming)&&new a.RequestPerformance(X.request),be=this.loading[se]=new g(X);be.abort=this.loadVectorData(X,(Me,ke)=>{if(delete this.loading[se],Me||!ke)return be.status="done",this.loaded[se]=be,ne(Me);const _e=ke.rawData,$e={};ke.expires&&($e.expires=ke.expires),ke.cacheControl&&($e.cacheControl=ke.cacheControl);const qe={};if(he){const Ye=he.finish();Ye&&(qe.resourceTiming=JSON.parse(JSON.stringify(Ye)))}be.vectorTile=ke.vectorTile,be.parse(ke.vectorTile,this.layerIndex,this.availableImages,this.actor,(Ye,Xe)=>{if(delete this.fetching[se],Ye||!Xe)return ne(Ye);ne(null,a.extend({rawTileData:_e.slice(0)},Xe,$e,qe))}),this.loaded=this.loaded||{},this.loaded[se]=be,this.fetching[se]={rawTileData:_e,cacheControl:$e,resourceTiming:qe}})}reloadTile(X,ne){const se=this.loaded,he=X.uid;if(se&&se[he]){const be=se[he];be.showCollisionBoxes=X.showCollisionBoxes,be.status==="parsing"?be.parse(be.vectorTile,this.layerIndex,this.availableImages,this.actor,(Me,ke)=>{if(Me||!ke)return ne(Me,ke);let _e;if(this.fetching[he]){const{rawTileData:$e,cacheControl:qe,resourceTiming:Ye}=this.fetching[he];delete this.fetching[he],_e=a.extend({rawTileData:$e.slice(0)},ke,qe,Ye)}else _e=ke;ne(null,_e)}):be.status==="done"&&(be.vectorTile?be.parse(be.vectorTile,this.layerIndex,this.availableImages,this.actor,ne):ne())}}abortTile(X,ne){const se=this.loading,he=X.uid;se&&se[he]&&se[he].abort&&(se[he].abort(),delete se[he]),ne()}removeTile(X,ne){const se=this.loaded,he=X.uid;se&&se[he]&&delete se[he],ne()}}class O{constructor(){this.loaded={}}loadTile(X,ne){return a.__awaiter(this,void 0,void 0,function*(){const{uid:se,encoding:he,rawImageData:be,redFactor:Me,greenFactor:ke,blueFactor:_e,baseShift:$e}=X,qe=be.width+2,Ye=be.height+2,Xe=a.isImageBitmap(be)?new a.RGBAImage({width:qe,height:Ye},yield a.getImageData(be,-1,-1,qe,Ye)):be,Lt=new a.DEMData(se,Xe,he,Me,ke,_e,$e);this.loaded=this.loaded||{},this.loaded[se]=Lt,ne(null,Lt)})}removeTile(X){const ne=this.loaded,se=X.uid;ne&&ne[se]&&delete ne[se]}}function S(fe,X){if(fe.length!==0){A(fe[0],X);for(var ne=1;ne<fe.length;ne++)A(fe[ne],!X)}}function A(fe,X){for(var ne=0,se=0,he=0,be=fe.length,Me=be-1;he<be;Me=he++){var ke=(fe[he][0]-fe[Me][0])*(fe[Me][1]+fe[he][1]),_e=ne+ke;se+=Math.abs(ne)>=Math.abs(ke)?ne-_e+ke:ke-_e+ne,ne=_e}ne+se>=0!=!!X&&fe.reverse()}var I=a.getDefaultExportFromCjs(function fe(X,ne){var se,he=X&&X.type;if(he==="FeatureCollection")for(se=0;se<X.features.length;se++)fe(X.features[se],ne);else if(he==="GeometryCollection")for(se=0;se<X.geometries.length;se++)fe(X.geometries[se],ne);else if(he==="Feature")fe(X.geometry,ne);else if(he==="Polygon")S(X.coordinates,ne);else if(he==="MultiPolygon")for(se=0;se<X.coordinates.length;se++)S(X.coordinates[se],ne);return X});const M=a.vectorTile.VectorTileFeature.prototype.toGeoJSON;var k={exports:{}},$=a.pointGeometry,L=a.vectorTile.VectorTileFeature,N=F;function F(fe,X){this.options=X||{},this.features=fe,this.length=fe.length}function G(fe,X){this.id=typeof fe.id=="number"?fe.id:void 0,this.type=fe.type,this.rawGeometry=fe.type===1?[fe.geometry]:fe.geometry,this.properties=fe.tags,this.extent=X||4096}F.prototype.feature=function(fe){return new G(this.features[fe],this.options.extent)},G.prototype.loadGeometry=function(){var fe=this.rawGeometry;this.geometry=[];for(var X=0;X<fe.length;X++){for(var ne=fe[X],se=[],he=0;he<ne.length;he++)se.push(new $(ne[he][0],ne[he][1]));this.geometry.push(se)}return this.geometry},G.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var fe=this.geometry,X=1/0,ne=-1/0,se=1/0,he=-1/0,be=0;be<fe.length;be++)for(var Me=fe[be],ke=0;ke<Me.length;ke++){var _e=Me[ke];X=Math.min(X,_e.x),ne=Math.max(ne,_e.x),se=Math.min(se,_e.y),he=Math.max(he,_e.y)}return[X,se,ne,he]},G.prototype.toGeoJSON=L.prototype.toGeoJSON;var J=a.pbf,ee=N;function ae(fe){var X=new J;return function(ne,se){for(var he in ne.layers)se.writeMessage(3,pe,ne.layers[he])}(fe,X),X.finish()}function pe(fe,X){var ne;X.writeVarintField(15,fe.version||1),X.writeStringField(1,fe.name||""),X.writeVarintField(5,fe.extent||4096);var se={keys:[],values:[],keycache:{},valuecache:{}};for(ne=0;ne<fe.length;ne++)se.feature=fe.feature(ne),X.writeMessage(2,ye,se);var he=se.keys;for(ne=0;ne<he.length;ne++)X.writeStringField(3,he[ne]);var be=se.values;for(ne=0;ne<be.length;ne++)X.writeMessage(4,Se,be[ne])}function ye(fe,X){var ne=fe.feature;ne.id!==void 0&&X.writeVarintField(1,ne.id),X.writeMessage(2,we,fe),X.writeVarintField(3,ne.type),X.writeMessage(4,Ee,ne)}function we(fe,X){var ne=fe.feature,se=fe.keys,he=fe.values,be=fe.keycache,Me=fe.valuecache;for(var ke in ne.properties){var _e=ne.properties[ke],$e=be[ke];if(_e!==null){$e===void 0&&(se.push(ke),be[ke]=$e=se.length-1),X.writeVarint($e);var qe=typeof _e;qe!=="string"&&qe!=="boolean"&&qe!=="number"&&(_e=JSON.stringify(_e));var Ye=qe+":"+_e,Xe=Me[Ye];Xe===void 0&&(he.push(_e),Me[Ye]=Xe=he.length-1),X.writeVarint(Xe)}}}function Ce(fe,X){return(X<<3)+(7&fe)}function Oe(fe){return fe<<1^fe>>31}function Ee(fe,X){for(var ne=fe.loadGeometry(),se=fe.type,he=0,be=0,Me=ne.length,ke=0;ke<Me;ke++){var _e=ne[ke],$e=1;se===1&&($e=_e.length),X.writeVarint(Ce(1,$e));for(var qe=se===3?_e.length-1:_e.length,Ye=0;Ye<qe;Ye++){Ye===1&&se!==1&&X.writeVarint(Ce(2,qe-1));var Xe=_e[Ye].x-he,Lt=_e[Ye].y-be;X.writeVarint(Oe(Xe)),X.writeVarint(Oe(Lt)),he+=Xe,be+=Lt}se===3&&X.writeVarint(Ce(7,1))}}function Se(fe,X){var ne=typeof fe;ne==="string"?X.writeStringField(1,fe):ne==="boolean"?X.writeBooleanField(7,fe):ne==="number"&&(fe%1!=0?X.writeDoubleField(3,fe):fe<0?X.writeSVarintField(6,fe):X.writeVarintField(5,fe))}k.exports=ae,k.exports.fromVectorTileJs=ae,k.exports.fromGeojsonVt=function(fe,X){X=X||{};var ne={};for(var se in fe)ne[se]=new ee(fe[se].features,X),ne[se].name=se,ne[se].version=X.version,ne[se].extent=X.extent;return ae({layers:ne})},k.exports.GeoJSONWrapper=ee;var De=a.getDefaultExportFromCjs(k.exports);const We={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:fe=>fe},dt=Math.fround||(ht=new Float32Array(1),fe=>(ht[0]=+fe,ht[0]));var ht;const Je=3,it=5,Ot=6;class at{constructor(X){this.options=Object.assign(Object.create(We),X),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(X){const{log:ne,minZoom:se,maxZoom:he}=this.options;ne&&console.time("total time");const be=`prepare ${X.length} points`;ne&&console.time(be),this.points=X;const Me=[];for(let _e=0;_e<X.length;_e++){const $e=X[_e];if(!$e.geometry)continue;const[qe,Ye]=$e.geometry.coordinates,Xe=dt(He(qe)),Lt=dt(vt(Ye));Me.push(Xe,Lt,1/0,_e,-1,1),this.options.reduce&&Me.push(0)}let ke=this.trees[he+1]=this._createTree(Me);ne&&console.timeEnd(be);for(let _e=he;_e>=se;_e--){const $e=+Date.now();ke=this.trees[_e]=this._createTree(this._cluster(ke,_e)),ne&&console.log("z%d: %d clusters in %dms",_e,ke.numItems,+Date.now()-$e)}return ne&&console.timeEnd("total time"),this}getClusters(X,ne){let se=((X[0]+180)%360+360)%360-180;const he=Math.max(-90,Math.min(90,X[1]));let be=X[2]===180?180:((X[2]+180)%360+360)%360-180;const Me=Math.max(-90,Math.min(90,X[3]));if(X[2]-X[0]>=360)se=-180,be=180;else if(se>be){const Ye=this.getClusters([se,he,180,Me],ne),Xe=this.getClusters([-180,he,be,Me],ne);return Ye.concat(Xe)}const ke=this.trees[this._limitZoom(ne)],_e=ke.range(He(se),vt(Me),He(be),vt(he)),$e=ke.data,qe=[];for(const Ye of _e){const Xe=this.stride*Ye;qe.push($e[Xe+it]>1?Gt($e,Xe,this.clusterProps):this.points[$e[Xe+Je]])}return qe}getChildren(X){const ne=this._getOriginId(X),se=this._getOriginZoom(X),he="No cluster with the specified id.",be=this.trees[se];if(!be)throw new Error(he);const Me=be.data;if(ne*this.stride>=Me.length)throw new Error(he);const ke=this.options.radius/(this.options.extent*Math.pow(2,se-1)),_e=be.within(Me[ne*this.stride],Me[ne*this.stride+1],ke),$e=[];for(const qe of _e){const Ye=qe*this.stride;Me[Ye+4]===X&&$e.push(Me[Ye+it]>1?Gt(Me,Ye,this.clusterProps):this.points[Me[Ye+Je]])}if($e.length===0)throw new Error(he);return $e}getLeaves(X,ne,se){const he=[];return this._appendLeaves(he,X,ne=ne||10,se=se||0,0),he}getTile(X,ne,se){const he=this.trees[this._limitZoom(X)],be=Math.pow(2,X),{extent:Me,radius:ke}=this.options,_e=ke/Me,$e=(se-_e)/be,qe=(se+1+_e)/be,Ye={features:[]};return this._addTileFeatures(he.range((ne-_e)/be,$e,(ne+1+_e)/be,qe),he.data,ne,se,be,Ye),ne===0&&this._addTileFeatures(he.range(1-_e/be,$e,1,qe),he.data,be,se,be,Ye),ne===be-1&&this._addTileFeatures(he.range(0,$e,_e/be,qe),he.data,-1,se,be,Ye),Ye.features.length?Ye:null}getClusterExpansionZoom(X){let ne=this._getOriginZoom(X)-1;for(;ne<=this.options.maxZoom;){const se=this.getChildren(X);if(ne++,se.length!==1)break;X=se[0].properties.cluster_id}return ne}_appendLeaves(X,ne,se,he,be){const Me=this.getChildren(ne);for(const ke of Me){const _e=ke.properties;if(_e&&_e.cluster?be+_e.point_count<=he?be+=_e.point_count:be=this._appendLeaves(X,_e.cluster_id,se,he,be):be<he?be++:X.push(ke),X.length===se)break}return be}_createTree(X){const ne=new a.KDBush(X.length/this.stride|0,this.options.nodeSize,Float32Array);for(let se=0;se<X.length;se+=this.stride)ne.add(X[se],X[se+1]);return ne.finish(),ne.data=X,ne}_addTileFeatures(X,ne,se,he,be,Me){for(const ke of X){const _e=ke*this.stride,$e=ne[_e+it]>1;let qe,Ye,Xe;if($e)qe=Ht(ne,_e,this.clusterProps),Ye=ne[_e],Xe=ne[_e+1];else{const It=this.points[ne[_e+Je]];qe=It.properties;const[jt,ln]=It.geometry.coordinates;Ye=He(jt),Xe=vt(ln)}const Lt={type:1,geometry:[[Math.round(this.options.extent*(Ye*be-se)),Math.round(this.options.extent*(Xe*be-he))]],tags:qe};let Jt;Jt=$e||this.options.generateId?ne[_e+Je]:this.points[ne[_e+Je]].id,Jt!==void 0&&(Lt.id=Jt),Me.features.push(Lt)}}_limitZoom(X){return Math.max(this.options.minZoom,Math.min(Math.floor(+X),this.options.maxZoom+1))}_cluster(X,ne){const{radius:se,extent:he,reduce:be,minPoints:Me}=this.options,ke=se/(he*Math.pow(2,ne)),_e=X.data,$e=[],qe=this.stride;for(let Ye=0;Ye<_e.length;Ye+=qe){if(_e[Ye+2]<=ne)continue;_e[Ye+2]=ne;const Xe=_e[Ye],Lt=_e[Ye+1],Jt=X.within(_e[Ye],_e[Ye+1],ke),It=_e[Ye+it];let jt=It;for(const ln of Jt){const Bn=ln*qe;_e[Bn+2]>ne&&(jt+=_e[Bn+it])}if(jt>It&&jt>=Me){let ln,Bn=Xe*It,Yn=Lt*It,In=-1;const kn=((Ye/qe|0)<<5)+(ne+1)+this.points.length;for(const Pi of Jt){const Ut=Pi*qe;if(_e[Ut+2]<=ne)continue;_e[Ut+2]=ne;const Fn=_e[Ut+it];Bn+=_e[Ut]*Fn,Yn+=_e[Ut+1]*Fn,_e[Ut+4]=kn,be&&(ln||(ln=this._map(_e,Ye,!0),In=this.clusterProps.length,this.clusterProps.push(ln)),be(ln,this._map(_e,Ut)))}_e[Ye+4]=kn,$e.push(Bn/jt,Yn/jt,1/0,kn,-1,jt),be&&$e.push(In)}else{for(let ln=0;ln<qe;ln++)$e.push(_e[Ye+ln]);if(jt>1)for(const ln of Jt){const Bn=ln*qe;if(!(_e[Bn+2]<=ne)){_e[Bn+2]=ne;for(let Yn=0;Yn<qe;Yn++)$e.push(_e[Bn+Yn])}}}}return $e}_getOriginId(X){return X-this.points.length>>5}_getOriginZoom(X){return(X-this.points.length)%32}_map(X,ne,se){if(X[ne+it]>1){const Me=this.clusterProps[X[ne+Ot]];return se?Object.assign({},Me):Me}const he=this.points[X[ne+Je]].properties,be=this.options.map(he);return se&&be===he?Object.assign({},be):be}}function Gt(fe,X,ne){return{type:"Feature",id:fe[X+Je],properties:Ht(fe,X,ne),geometry:{type:"Point",coordinates:[(se=fe[X],360*(se-.5)),yt(fe[X+1])]}};var se}function Ht(fe,X,ne){const se=fe[X+it],he=se>=1e4?`${Math.round(se/1e3)}k`:se>=1e3?Math.round(se/100)/10+"k":se,be=fe[X+Ot],Me=be===-1?{}:Object.assign({},ne[be]);return Object.assign(Me,{cluster:!0,cluster_id:fe[X+Je],point_count:se,point_count_abbreviated:he})}function He(fe){return fe/360+.5}function vt(fe){const X=Math.sin(fe*Math.PI/180),ne=.5-.25*Math.log((1+X)/(1-X))/Math.PI;return ne<0?0:ne>1?1:ne}function yt(fe){const X=(180-360*fe)*Math.PI/180;return 360*Math.atan(Math.exp(X))/Math.PI-90}function Ve(fe,X,ne,se){for(var he,be=se,Me=ne-X>>1,ke=ne-X,_e=fe[X],$e=fe[X+1],qe=fe[ne],Ye=fe[ne+1],Xe=X+3;Xe<ne;Xe+=3){var Lt=Ct(fe[Xe],fe[Xe+1],_e,$e,qe,Ye);if(Lt>be)he=Xe,be=Lt;else if(Lt===be){var Jt=Math.abs(Xe-Me);Jt<ke&&(he=Xe,ke=Jt)}}be>se&&(he-X>3&&Ve(fe,X,he,se),fe[he+2]=be,ne-he>3&&Ve(fe,he,ne,se))}function Ct(fe,X,ne,se,he,be){var Me=he-ne,ke=be-se;if(Me!==0||ke!==0){var _e=((fe-ne)*Me+(X-se)*ke)/(Me*Me+ke*ke);_e>1?(ne=he,se=be):_e>0&&(ne+=Me*_e,se+=ke*_e)}return(Me=fe-ne)*Me+(ke=X-se)*ke}function Tt(fe,X,ne,se){var he={id:fe===void 0?null:fe,type:X,geometry:ne,tags:se,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(be){var Me=be.geometry,ke=be.type;if(ke==="Point"||ke==="MultiPoint"||ke==="LineString")qt(be,Me);else if(ke==="Polygon"||ke==="MultiLineString")for(var _e=0;_e<Me.length;_e++)qt(be,Me[_e]);else if(ke==="MultiPolygon")for(_e=0;_e<Me.length;_e++)for(var $e=0;$e<Me[_e].length;$e++)qt(be,Me[_e][$e])}(he),he}function qt(fe,X){for(var ne=0;ne<X.length;ne+=3)fe.minX=Math.min(fe.minX,X[ne]),fe.minY=Math.min(fe.minY,X[ne+1]),fe.maxX=Math.max(fe.maxX,X[ne]),fe.maxY=Math.max(fe.maxY,X[ne+1])}function vn(fe,X,ne,se){if(X.geometry){var he=X.geometry.coordinates,be=X.geometry.type,Me=Math.pow(ne.tolerance/((1<<ne.maxZoom)*ne.extent),2),ke=[],_e=X.id;if(ne.promoteId?_e=X.properties[ne.promoteId]:ne.generateId&&(_e=se||0),be==="Point")Mn(he,ke);else if(be==="MultiPoint")for(var $e=0;$e<he.length;$e++)Mn(he[$e],ke);else if(be==="LineString")_n(he,ke,Me,!1);else if(be==="MultiLineString"){if(ne.lineMetrics){for($e=0;$e<he.length;$e++)_n(he[$e],ke=[],Me,!1),fe.push(Tt(_e,"LineString",ke,X.properties));return}rr(he,ke,Me,!1)}else if(be==="Polygon")rr(he,ke,Me,!0);else{if(be!=="MultiPolygon"){if(be==="GeometryCollection"){for($e=0;$e<X.geometry.geometries.length;$e++)vn(fe,{id:_e,geometry:X.geometry.geometries[$e],properties:X.properties},ne,se);return}throw new Error("Input data is not a valid GeoJSON object.")}for($e=0;$e<he.length;$e++){var qe=[];rr(he[$e],qe,Me,!0),ke.push(qe)}}fe.push(Tt(_e,be,ke,X.properties))}}function Mn(fe,X){X.push(Tn(fe[0])),X.push(Ne(fe[1])),X.push(0)}function _n(fe,X,ne,se){for(var he,be,Me=0,ke=0;ke<fe.length;ke++){var _e=Tn(fe[ke][0]),$e=Ne(fe[ke][1]);X.push(_e),X.push($e),X.push(0),ke>0&&(Me+=se?(he*$e-_e*be)/2:Math.sqrt(Math.pow(_e-he,2)+Math.pow($e-be,2))),he=_e,be=$e}var qe=X.length-3;X[2]=1,Ve(X,0,qe,ne),X[qe+2]=1,X.size=Math.abs(Me),X.start=0,X.end=X.size}function rr(fe,X,ne,se){for(var he=0;he<fe.length;he++){var be=[];_n(fe[he],be,ne,se),X.push(be)}}function Tn(fe){return fe/360+.5}function Ne(fe){var X=Math.sin(fe*Math.PI/180),ne=.5-.25*Math.log((1+X)/(1-X))/Math.PI;return ne<0?0:ne>1?1:ne}function $n(fe,X,ne,se,he,be,Me,ke){if(se/=X,be>=(ne/=X)&&Me<se)return fe;if(Me<ne||be>=se)return null;for(var _e=[],$e=0;$e<fe.length;$e++){var qe=fe[$e],Ye=qe.geometry,Xe=qe.type,Lt=he===0?qe.minX:qe.minY,Jt=he===0?qe.maxX:qe.maxY;if(Lt>=ne&&Jt<se)_e.push(qe);else if(!(Jt<ne||Lt>=se)){var It=[];if(Xe==="Point"||Xe==="MultiPoint")Hn(Ye,It,ne,se,he);else if(Xe==="LineString")Dt(Ye,It,ne,se,he,!1,ke.lineMetrics);else if(Xe==="MultiLineString")ir(Ye,It,ne,se,he,!1);else if(Xe==="Polygon")ir(Ye,It,ne,se,he,!0);else if(Xe==="MultiPolygon")for(var jt=0;jt<Ye.length;jt++){var ln=[];ir(Ye[jt],ln,ne,se,he,!0),ln.length&&It.push(ln)}if(It.length){if(ke.lineMetrics&&Xe==="LineString"){for(jt=0;jt<It.length;jt++)_e.push(Tt(qe.id,Xe,It[jt],qe.tags));continue}Xe!=="LineString"&&Xe!=="MultiLineString"||(It.length===1?(Xe="LineString",It=It[0]):Xe="MultiLineString"),Xe!=="Point"&&Xe!=="MultiPoint"||(Xe=It.length===3?"Point":"MultiPoint"),_e.push(Tt(qe.id,Xe,It,qe.tags))}}}return _e.length?_e:null}function Hn(fe,X,ne,se,he){for(var be=0;be<fe.length;be+=3){var Me=fe[be+he];Me>=ne&&Me<=se&&(X.push(fe[be]),X.push(fe[be+1]),X.push(fe[be+2]))}}function Dt(fe,X,ne,se,he,be,Me){for(var ke,_e,$e=Kt(fe),qe=he===0?Nn:rn,Ye=fe.start,Xe=0;Xe<fe.length-3;Xe+=3){var Lt=fe[Xe],Jt=fe[Xe+1],It=fe[Xe+2],jt=fe[Xe+3],ln=fe[Xe+4],Bn=he===0?Lt:Jt,Yn=he===0?jt:ln,In=!1;Me&&(ke=Math.sqrt(Math.pow(Lt-jt,2)+Math.pow(Jt-ln,2))),Bn<ne?Yn>ne&&(_e=qe($e,Lt,Jt,jt,ln,ne),Me&&($e.start=Ye+ke*_e)):Bn>se?Yn<se&&(_e=qe($e,Lt,Jt,jt,ln,se),Me&&($e.start=Ye+ke*_e)):br($e,Lt,Jt,It),Yn<ne&&Bn>=ne&&(_e=qe($e,Lt,Jt,jt,ln,ne),In=!0),Yn>se&&Bn<=se&&(_e=qe($e,Lt,Jt,jt,ln,se),In=!0),!be&&In&&(Me&&($e.end=Ye+ke*_e),X.push($e),$e=Kt(fe)),Me&&(Ye+=ke)}var kn=fe.length-3;Lt=fe[kn],Jt=fe[kn+1],It=fe[kn+2],(Bn=he===0?Lt:Jt)>=ne&&Bn<=se&&br($e,Lt,Jt,It),kn=$e.length-3,be&&kn>=3&&($e[kn]!==$e[0]||$e[kn+1]!==$e[1])&&br($e,$e[0],$e[1],$e[2]),$e.length&&X.push($e)}function Kt(fe){var X=[];return X.size=fe.size,X.start=fe.start,X.end=fe.end,X}function ir(fe,X,ne,se,he,be){for(var Me=0;Me<fe.length;Me++)Dt(fe[Me],X,ne,se,he,be,!1)}function br(fe,X,ne,se){fe.push(X),fe.push(ne),fe.push(se)}function Nn(fe,X,ne,se,he,be){var Me=(be-X)/(se-X);return fe.push(be),fe.push(ne+(he-ne)*Me),fe.push(1),Me}function rn(fe,X,ne,se,he,be){var Me=(be-ne)/(he-ne);return fe.push(X+(se-X)*Me),fe.push(be),fe.push(1),Me}function Xn(fe,X){for(var ne=[],se=0;se<fe.length;se++){var he,be=fe[se],Me=be.type;if(Me==="Point"||Me==="MultiPoint"||Me==="LineString")he=Ii(be.geometry,X);else if(Me==="MultiLineString"||Me==="Polygon"){he=[];for(var ke=0;ke<be.geometry.length;ke++)he.push(Ii(be.geometry[ke],X))}else if(Me==="MultiPolygon")for(he=[],ke=0;ke<be.geometry.length;ke++){for(var _e=[],$e=0;$e<be.geometry[ke].length;$e++)_e.push(Ii(be.geometry[ke][$e],X));he.push(_e)}ne.push(Tt(be.id,Me,he,be.tags))}return ne}function Ii(fe,X){var ne=[];ne.size=fe.size,fe.start!==void 0&&(ne.start=fe.start,ne.end=fe.end);for(var se=0;se<fe.length;se+=3)ne.push(fe[se]+X,fe[se+1],fe[se+2]);return ne}function gi(fe,X){if(fe.transformed)return fe;var ne,se,he,be=1<<fe.z,Me=fe.x,ke=fe.y;for(ne=0;ne<fe.features.length;ne++){var _e=fe.features[ne],$e=_e.geometry,qe=_e.type;if(_e.geometry=[],qe===1)for(se=0;se<$e.length;se+=2)_e.geometry.push(Ue($e[se],$e[se+1],X,be,Me,ke));else for(se=0;se<$e.length;se++){var Ye=[];for(he=0;he<$e[se].length;he+=2)Ye.push(Ue($e[se][he],$e[se][he+1],X,be,Me,ke));_e.geometry.push(Ye)}}return fe.transformed=!0,fe}function Ue(fe,X,ne,se,he,be){return[Math.round(ne*(fe*se-he)),Math.round(ne*(X*se-be))]}function un(fe,X,ne,se,he){for(var be=X===he.maxZoom?0:he.tolerance/((1<<X)*he.extent),Me={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:ne,y:se,z:X,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ke=0;ke<fe.length;ke++){Me.numFeatures++,Rn(Me,fe[ke],be,he);var _e=fe[ke].minX,$e=fe[ke].minY,qe=fe[ke].maxX,Ye=fe[ke].maxY;_e<Me.minX&&(Me.minX=_e),$e<Me.minY&&(Me.minY=$e),qe>Me.maxX&&(Me.maxX=qe),Ye>Me.maxY&&(Me.maxY=Ye)}return Me}function Rn(fe,X,ne,se){var he=X.geometry,be=X.type,Me=[];if(be==="Point"||be==="MultiPoint")for(var ke=0;ke<he.length;ke+=3)Me.push(he[ke]),Me.push(he[ke+1]),fe.numPoints++,fe.numSimplified++;else if(be==="LineString")ki(Me,he,fe,ne,!1,!1);else if(be==="MultiLineString"||be==="Polygon")for(ke=0;ke<he.length;ke++)ki(Me,he[ke],fe,ne,be==="Polygon",ke===0);else if(be==="MultiPolygon")for(var _e=0;_e<he.length;_e++){var $e=he[_e];for(ke=0;ke<$e.length;ke++)ki(Me,$e[ke],fe,ne,!0,ke===0)}if(Me.length){var qe=X.tags||null;if(be==="LineString"&&se.lineMetrics){for(var Ye in qe={},X.tags)qe[Ye]=X.tags[Ye];qe.mapbox_clip_start=he.start/he.size,qe.mapbox_clip_end=he.end/he.size}var Xe={geometry:Me,type:be==="Polygon"||be==="MultiPolygon"?3:be==="LineString"||be==="MultiLineString"?2:1,tags:qe};X.id!==null&&(Xe.id=X.id),fe.features.push(Xe)}}function ki(fe,X,ne,se,he,be){var Me=se*se;if(se>0&&X.size<(he?Me:se))ne.numPoints+=X.length/3;else{for(var ke=[],_e=0;_e<X.length;_e+=3)(se===0||X[_e+2]>Me)&&(ne.numSimplified++,ke.push(X[_e]),ke.push(X[_e+1])),ne.numPoints++;he&&function($e,qe){for(var Ye=0,Xe=0,Lt=$e.length,Jt=Lt-2;Xe<Lt;Jt=Xe,Xe+=2)Ye+=($e[Xe]-$e[Jt])*($e[Xe+1]+$e[Jt+1]);if(Ye>0===qe)for(Xe=0,Lt=$e.length;Xe<Lt/2;Xe+=2){var It=$e[Xe],jt=$e[Xe+1];$e[Xe]=$e[Lt-2-Xe],$e[Xe+1]=$e[Lt-1-Xe],$e[Lt-2-Xe]=It,$e[Lt-1-Xe]=jt}}(ke,be),fe.push(ke)}}function qi(fe,X){var ne=(X=this.options=function(he,be){for(var Me in be)he[Me]=be[Me];return he}(Object.create(this.options),X)).debug;if(ne&&console.time("preprocess data"),X.maxZoom<0||X.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(X.promoteId&&X.generateId)throw new Error("promoteId and generateId cannot be used together.");var se=function(he,be){var Me=[];if(he.type==="FeatureCollection")for(var ke=0;ke<he.features.length;ke++)vn(Me,he.features[ke],be,ke);else vn(Me,he.type==="Feature"?he:{geometry:he},be);return Me}(fe,X);this.tiles={},this.tileCoords=[],ne&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",X.indexMaxZoom,X.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),se=function(he,be){var Me=be.buffer/be.extent,ke=he,_e=$n(he,1,-1-Me,Me,0,-1,2,be),$e=$n(he,1,1-Me,2+Me,0,-1,2,be);return(_e||$e)&&(ke=$n(he,1,-Me,1+Me,0,-1,2,be)||[],_e&&(ke=Xn(_e,1).concat(ke)),$e&&(ke=ke.concat(Xn($e,-1)))),ke}(se,X),se.length&&this.splitTile(se,0,0,0),ne&&(se.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ct(fe,X,ne){return 32*((1<<fe)*ne+X)+fe}function dn(fe,X){return X?fe.properties[X]:fe.id}function fn(fe,X){if(fe==null)return!0;if(fe.type==="Feature")return dn(fe,X)!=null;if(fe.type==="FeatureCollection"){const ne=new Set;for(const se of fe.features){const he=dn(se,X);if(he==null||ne.has(he))return!1;ne.add(he)}return!0}return!1}function $i(fe,X){const ne=new Map;if(fe!=null)if(fe.type==="Feature")ne.set(dn(fe,X),fe);else for(const se of fe.features)ne.set(dn(se,X),se);return ne}function Uo(fe,X){const ne=fe.tileID.canonical;if(!this._geoJSONIndex)return X(null,null);const se=this._geoJSONIndex.getTile(ne.z,ne.x,ne.y);if(!se)return X(null,null);const he=new class{constructor(Me){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=Me.length,this._features=Me}feature(Me){return new class{constructor(ke){this._feature=ke,this.extent=a.EXTENT,this.type=ke.type,this.properties=ke.tags,"id"in ke&&!isNaN(ke.id)&&(this.id=parseInt(ke.id,10))}loadGeometry(){if(this._feature.type===1){const ke=[];for(const _e of this._feature.geometry)ke.push([new a.Point(_e[0],_e[1])]);return ke}{const ke=[];for(const _e of this._feature.geometry){const $e=[];for(const qe of _e)$e.push(new a.Point(qe[0],qe[1]));ke.push($e)}return ke}}toGeoJSON(ke,_e,$e){return M.call(this,ke,_e,$e)}}(this._features[Me])}}(se.features);let be=De(he);be.byteOffset===0&&be.byteLength===be.buffer.byteLength||(be=new Uint8Array(be)),X(null,{vectorTile:he,rawData:be.buffer})}qi.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},qi.prototype.splitTile=function(fe,X,ne,se,he,be,Me){for(var ke=[fe,X,ne,se],_e=this.options,$e=_e.debug;ke.length;){se=ke.pop(),ne=ke.pop(),X=ke.pop(),fe=ke.pop();var qe=1<<X,Ye=ct(X,ne,se),Xe=this.tiles[Ye];if(!Xe&&($e>1&&console.time("creation"),Xe=this.tiles[Ye]=un(fe,X,ne,se,_e),this.tileCoords.push({z:X,x:ne,y:se}),$e)){$e>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",X,ne,se,Xe.numFeatures,Xe.numPoints,Xe.numSimplified),console.timeEnd("creation"));var Lt="z"+X;this.stats[Lt]=(this.stats[Lt]||0)+1,this.total++}if(Xe.source=fe,he){if(X===_e.maxZoom||X===he)continue;var Jt=1<<he-X;if(ne!==Math.floor(be/Jt)||se!==Math.floor(Me/Jt))continue}else if(X===_e.indexMaxZoom||Xe.numPoints<=_e.indexMaxPoints)continue;if(Xe.source=null,fe.length!==0){$e>1&&console.time("clipping");var It,jt,ln,Bn,Yn,In,kn=.5*_e.buffer/_e.extent,Pi=.5-kn,Ut=.5+kn,Fn=1+kn;It=jt=ln=Bn=null,Yn=$n(fe,qe,ne-kn,ne+Ut,0,Xe.minX,Xe.maxX,_e),In=$n(fe,qe,ne+Pi,ne+Fn,0,Xe.minX,Xe.maxX,_e),fe=null,Yn&&(It=$n(Yn,qe,se-kn,se+Ut,1,Xe.minY,Xe.maxY,_e),jt=$n(Yn,qe,se+Pi,se+Fn,1,Xe.minY,Xe.maxY,_e),Yn=null),In&&(ln=$n(In,qe,se-kn,se+Ut,1,Xe.minY,Xe.maxY,_e),Bn=$n(In,qe,se+Pi,se+Fn,1,Xe.minY,Xe.maxY,_e),In=null),$e>1&&console.timeEnd("clipping"),ke.push(It||[],X+1,2*ne,2*se),ke.push(jt||[],X+1,2*ne,2*se+1),ke.push(ln||[],X+1,2*ne+1,2*se),ke.push(Bn||[],X+1,2*ne+1,2*se+1)}}},qi.prototype.getTile=function(fe,X,ne){var se=this.options,he=se.extent,be=se.debug;if(fe<0||fe>24)return null;var Me=1<<fe,ke=ct(fe,X=(X%Me+Me)%Me,ne);if(this.tiles[ke])return gi(this.tiles[ke],he);be>1&&console.log("drilling down to z%d-%d-%d",fe,X,ne);for(var _e,$e=fe,qe=X,Ye=ne;!_e&&$e>0;)$e--,qe=Math.floor(qe/2),Ye=Math.floor(Ye/2),_e=this.tiles[ct($e,qe,Ye)];return _e&&_e.source?(be>1&&console.log("found parent tile z%d-%d-%d",$e,qe,Ye),be>1&&console.time("drilling down"),this.splitTile(_e.source,$e,qe,Ye,fe,X,ne),be>1&&console.timeEnd("drilling down"),this.tiles[ke]?gi(this.tiles[ke],he):null):null};class sn extends P{constructor(X,ne,se,he){super(X,ne,se,Uo),this._dataUpdateable=new Map,this.loadGeoJSON=(be,Me)=>{const{promoteId:ke}=be;if(be.request)return a.getJSON(be.request,(_e,$e,qe,Ye)=>{this._dataUpdateable=fn($e,ke)?$i($e,ke):void 0,Me(_e,$e,qe,Ye)});if(typeof be.data=="string")try{const _e=JSON.parse(be.data);this._dataUpdateable=fn(_e,ke)?$i(_e,ke):void 0,Me(null,_e)}catch{Me(new Error(`Input data given to '${be.source}' is not a valid GeoJSON object.`))}else be.dataDiff?this._dataUpdateable?(function(_e,$e,qe){var Ye,Xe,Lt,Jt;if($e.removeAll&&_e.clear(),$e.remove)for(const It of $e.remove)_e.delete(It);if($e.add)for(const It of $e.add){const jt=dn(It,qe);jt!=null&&_e.set(jt,It)}if($e.update)for(const It of $e.update){let jt=_e.get(It.id);if(jt==null)continue;const ln=!It.removeAllProperties&&(((Ye=It.removeProperties)===null||Ye===void 0?void 0:Ye.length)>0||((Xe=It.addOrUpdateProperties)===null||Xe===void 0?void 0:Xe.length)>0);if((It.newGeometry||It.removeAllProperties||ln)&&(jt=Object.assign({},jt),_e.set(It.id,jt),ln&&(jt.properties=Object.assign({},jt.properties))),It.newGeometry&&(jt.geometry=It.newGeometry),It.removeAllProperties)jt.properties={};else if(((Lt=It.removeProperties)===null||Lt===void 0?void 0:Lt.length)>0)for(const Bn of It.removeProperties)Object.prototype.hasOwnProperty.call(jt.properties,Bn)&&delete jt.properties[Bn];if(((Jt=It.addOrUpdateProperties)===null||Jt===void 0?void 0:Jt.length)>0)for(const{key:Bn,value:Yn}of It.addOrUpdateProperties)jt.properties[Bn]=Yn}}(this._dataUpdateable,be.dataDiff,ke),Me(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):Me(new Error(`Cannot update existing geojson data in ${be.source}`)):Me(new Error(`Input data given to '${be.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},he&&(this.loadGeoJSON=he)}loadData(X,ne){var se;(se=this._pendingRequest)===null||se===void 0||se.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const he=!!(X&&X.request&&X.request.collectResourceTiming)&&new a.RequestPerformance(X.request);this._pendingCallback=ne,this._pendingRequest=this.loadGeoJSON(X,(be,Me)=>{if(delete this._pendingCallback,delete this._pendingRequest,be||!Me)return ne(be);if(typeof Me!="object")return ne(new Error(`Input data given to '${X.source}' is not a valid GeoJSON object.`));{I(Me,!0);try{if(X.filter){const _e=a.createExpression(X.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(_e.result==="error")throw new Error(_e.value.map(qe=>`${qe.key}: ${qe.message}`).join(", "));Me={type:"FeatureCollection",features:Me.features.filter(qe=>_e.value.evaluate({zoom:0},qe))}}this._geoJSONIndex=X.cluster?new at(function({superclusterOptions:_e,clusterProperties:$e}){if(!$e||!_e)return _e;const qe={},Ye={},Xe={accumulated:null,zoom:0},Lt={properties:null},Jt=Object.keys($e);for(const It of Jt){const[jt,ln]=$e[It],Bn=a.createExpression(ln),Yn=a.createExpression(typeof jt=="string"?[jt,["accumulated"],["get",It]]:jt);qe[It]=Bn.value,Ye[It]=Yn.value}return _e.map=It=>{Lt.properties=It;const jt={};for(const ln of Jt)jt[ln]=qe[ln].evaluate(Xe,Lt);return jt},_e.reduce=(It,jt)=>{Lt.properties=jt;for(const ln of Jt)Xe.accumulated=It[ln],It[ln]=Ye[ln].evaluate(Xe,Lt)},_e}(X)).load(Me.features):function(_e,$e){return new qi(_e,$e)}(Me,X.geojsonVtOptions)}catch(_e){return ne(_e)}this.loaded={};const ke={};if(he){const _e=he.finish();_e&&(ke.resourceTiming={},ke.resourceTiming[X.source]=JSON.parse(JSON.stringify(_e)))}ne(null,ke)}})}reloadTile(X,ne){const se=this.loaded;return se&&se[X.uid]?super.reloadTile(X,ne):this.loadTile(X,ne)}removeSource(X,ne){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),ne()}getClusterExpansionZoom(X,ne){try{ne(null,this._geoJSONIndex.getClusterExpansionZoom(X.clusterId))}catch(se){ne(se)}}getClusterChildren(X,ne){try{ne(null,this._geoJSONIndex.getChildren(X.clusterId))}catch(se){ne(se)}}getClusterLeaves(X,ne){try{ne(null,this._geoJSONIndex.getLeaves(X.clusterId,X.limit,X.offset))}catch(se){ne(se)}}}class as{constructor(X){this.self=X,this.actor=new a.Actor(X,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:P,geojson:sn},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(ne,se)=>{if(this.workerSourceTypes[ne])throw new Error(`Worker source with name "${ne}" already registered.`);this.workerSourceTypes[ne]=se},this.self.registerRTLTextPlugin=ne=>{if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=ne.applyArabicShaping,a.plugin.processBidirectionalText=ne.processBidirectionalText,a.plugin.processStyledBidirectionalText=ne.processStyledBidirectionalText}}setReferrer(X,ne){this.referrer=ne}setImages(X,ne,se){this.availableImages[X]=ne;for(const he in this.workerSources[X]){const be=this.workerSources[X][he];for(const Me in be)be[Me].availableImages=ne}se()}setLayers(X,ne,se){this.getLayerIndex(X).replace(ne),se()}updateLayers(X,ne,se){this.getLayerIndex(X).update(ne.layers,ne.removedIds),se()}loadTile(X,ne,se){this.getWorkerSource(X,ne.type,ne.source).loadTile(ne,se)}loadDEMTile(X,ne,se){this.getDEMWorkerSource(X,ne.source).loadTile(ne,se)}reloadTile(X,ne,se){this.getWorkerSource(X,ne.type,ne.source).reloadTile(ne,se)}abortTile(X,ne,se){this.getWorkerSource(X,ne.type,ne.source).abortTile(ne,se)}removeTile(X,ne,se){this.getWorkerSource(X,ne.type,ne.source).removeTile(ne,se)}removeDEMTile(X,ne){this.getDEMWorkerSource(X,ne.source).removeTile(ne)}removeSource(X,ne,se){if(!this.workerSources[X]||!this.workerSources[X][ne.type]||!this.workerSources[X][ne.type][ne.source])return;const he=this.workerSources[X][ne.type][ne.source];delete this.workerSources[X][ne.type][ne.source],he.removeSource!==void 0?he.removeSource(ne,se):se()}loadWorkerSource(X,ne,se){try{this.self.importScripts(ne.url),se()}catch(he){se(he.toString())}}syncRTLPluginState(X,ne,se){try{a.plugin.setState(ne);const he=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&he!=null){this.self.importScripts(he);const be=a.plugin.isParsed();se(be?void 0:new Error(`RTL Text Plugin failed to import scripts from ${he}`),be)}}catch(he){se(he.toString())}}getAvailableImages(X){let ne=this.availableImages[X];return ne||(ne=[]),ne}getLayerIndex(X){let ne=this.layerIndexes[X];return ne||(ne=this.layerIndexes[X]=new f),ne}getWorkerSource(X,ne,se){if(this.workerSources[X]||(this.workerSources[X]={}),this.workerSources[X][ne]||(this.workerSources[X][ne]={}),!this.workerSources[X][ne][se]){const he={send:(be,Me,ke)=>{this.actor.send(be,Me,ke,X)}};this.workerSources[X][ne][se]=new this.workerSourceTypes[ne](he,this.getLayerIndex(X),this.getAvailableImages(X))}return this.workerSources[X][ne][se]}getDEMWorkerSource(X,ne){return this.demWorkerSources[X]||(this.demWorkerSources[X]={}),this.demWorkerSources[X][ne]||(this.demWorkerSources[X][ne]=new O),this.demWorkerSources[X][ne]}}return a.isWorker()&&(self.worker=new as(self)),as}),o(["./shared"],function(a){var f="3.5.1";class h{static testProp(c){if(!h.docStyle)return c[0];for(let p=0;p<c.length;p++)if(c[p]in h.docStyle)return c[p];return c[0]}static create(c,p,v){const _=window.document.createElement(c);return p!==void 0&&(_.className=p),v&&v.appendChild(_),_}static createNS(c,p){return window.document.createElementNS(c,p)}static disableDrag(){h.docStyle&&h.selectProp&&(h.userSelect=h.docStyle[h.selectProp],h.docStyle[h.selectProp]="none")}static enableDrag(){h.docStyle&&h.selectProp&&(h.docStyle[h.selectProp]=h.userSelect)}static setTransform(c,p){c.style[h.transformProp]=p}static addEventListener(c,p,v,_={}){c.addEventListener(p,v,"passive"in _?_:_.capture)}static removeEventListener(c,p,v,_={}){c.removeEventListener(p,v,"passive"in _?_:_.capture)}static suppressClickInternal(c){c.preventDefault(),c.stopPropagation(),window.removeEventListener("click",h.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",h.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",h.suppressClickInternal,!0)},0)}static mousePos(c,p){const v=c.getBoundingClientRect();return new a.Point(p.clientX-v.left-c.clientLeft,p.clientY-v.top-c.clientTop)}static touchPos(c,p){const v=c.getBoundingClientRect(),_=[];for(let E=0;E<p.length;E++)_.push(new a.Point(p[E].clientX-v.left-c.clientLeft,p[E].clientY-v.top-c.clientTop));return _}static mouseButton(c){return c.button}static remove(c){c.parentNode&&c.parentNode.removeChild(c)}}h.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,h.selectProp=h.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),h.transformProp=h.testProp(["transform","WebkitTransform"]);const g={supported:!1,testSupport:function(w){!P&&x&&(O?S(w):y=w)}};let y,x,P=!1,O=!1;function S(w){const c=w.createTexture();w.bindTexture(w.TEXTURE_2D,c);try{if(w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,w.UNSIGNED_BYTE,x),w.isContextLost())return;g.supported=!0}catch{}w.deleteTexture(c),P=!0}var A,I;typeof document<"u"&&(x=document.createElement("img"),x.onload=function(){y&&S(y),y=null,O=!0},x.onerror=function(){P=!0,y=null},x.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(w){let c,p,v,_;w.resetRequestQueue=()=>{c=[],p=0,v=0,_={}},w.addThrottleControl=q=>{const Y=v++;return _[Y]=q,Y},w.removeThrottleControl=q=>{delete _[q],j()},w.getImage=(q,Y,K=!0)=>{g.supported&&(q.headers||(q.headers={}),q.headers.accept="image/webp,*/*");const re={requestParameters:q,supportImageRefresh:K,callback:Y,cancelled:!1,completed:!1,cancel:()=>{re.completed||re.cancelled||(re.cancelled=!0,re.innerRequest&&(re.innerRequest.cancel(),p--),j())}};return c.push(re),j(),re};const E=q=>{const{requestParameters:Y,supportImageRefresh:K,callback:re}=q;return a.extend(Y,{type:"image"}),(K!==!1||a.isWorker()||a.getProtocolAction(Y.url)||Y.headers&&!Object.keys(Y.headers).reduce((de,ce)=>de&&ce==="accept",!0)?a.makeRequest:U)(Y,(de,ce,me,le)=>{D(q,re,de,ce,me,le)})},D=(q,Y,K,re,de,ce)=>{K?Y(K):re instanceof HTMLImageElement||a.isImageBitmap(re)?Y(null,re):re&&((me,le)=>{typeof createImageBitmap=="function"?a.arrayBufferToImageBitmap(me,le):a.arrayBufferToImage(me,le)})(re,(me,le)=>{me!=null?Y(me):le!=null&&Y(null,le,{cacheControl:de,expires:ce})}),q.cancelled||(q.completed=!0,p--,j())},j=()=>{const q=(()=>{const Y=Object.keys(_);let K=!1;if(Y.length>0){for(const re of Y)if(K=_[re](),K)break}return K})()?a.config.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:a.config.MAX_PARALLEL_IMAGE_REQUESTS;for(let Y=p;Y<q&&c.length>0;Y++){const K=c.shift();if(K.cancelled){Y--;continue}const re=E(K);p++,K.innerRequest=re}},U=(q,Y)=>{const K=new Image,re=q.url;let de=!1;const ce=q.credentials;return ce&&ce==="include"?K.crossOrigin="use-credentials":(ce&&ce==="same-origin"||!a.sameOrigin(re))&&(K.crossOrigin="anonymous"),K.fetchPriority="high",K.onload=()=>{Y(null,K),K.onerror=K.onload=null},K.onerror=()=>{de||Y(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),K.onerror=K.onload=null},K.src=re,{cancel:()=>{de=!0,K.src=""}}}}(A||(A={})),A.resetRequestQueue(),function(w){w.Glyphs="Glyphs",w.Image="Image",w.Source="Source",w.SpriteImage="SpriteImage",w.SpriteJSON="SpriteJSON",w.Style="Style",w.Tile="Tile",w.Unknown="Unknown"}(I||(I={}));class M{constructor(c){this._transformRequestFn=c}transformRequest(c,p){return this._transformRequestFn&&this._transformRequestFn(c,p)||{url:c}}normalizeSpriteURL(c,p,v){const _=function(E){const D=E.match(k);if(!D)throw new Error(`Unable to parse URL "${E}"`);return{protocol:D[1],authority:D[2],path:D[3]||"/",params:D[4]?D[4].split("&"):[]}}(c);return _.path+=`${p}${v}`,function(E){const D=E.params.length?`?${E.params.join("&")}`:"";return`${E.protocol}://${E.authority}${E.path}${D}`}(_)}setTransformRequest(c){this._transformRequestFn=c}}const k=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function $(w){var c=new a.ARRAY_TYPE(3);return c[0]=w[0],c[1]=w[1],c[2]=w[2],c}var L,N=function(w,c,p){return w[0]=c[0]-p[0],w[1]=c[1]-p[1],w[2]=c[2]-p[2],w};L=new a.ARRAY_TYPE(3),a.ARRAY_TYPE!=Float32Array&&(L[0]=0,L[1]=0,L[2]=0);var F=function(w){var c=w[0],p=w[1];return c*c+p*p};function G(w){const c=[];if(typeof w=="string")c.push({id:"default",url:w});else if(w&&w.length>0){const p=[];for(const{id:v,url:_}of w){const E=`${v}${_}`;p.indexOf(E)===-1&&(p.push(E),c.push({id:v,url:_}))}}return c}function J(w,c,p,v,_){if(v)return void w(v);if(_!==Object.values(c).length||_!==Object.values(p).length)return;const E={};for(const D in c){E[D]={};const j=a.browser.getImageCanvasContext(p[D]),U=c[D];for(const q in U){const{width:Y,height:K,x:re,y:de,sdf:ce,pixelRatio:me,stretchX:le,stretchY:Ae,content:ze}=U[q];E[D][q]={data:null,pixelRatio:me,sdf:ce,stretchX:le,stretchY:Ae,content:ze,spriteData:{width:Y,height:K,x:re,y:de,context:j}}}}w(null,E)}(function(){var w=new a.ARRAY_TYPE(2);a.ARRAY_TYPE!=Float32Array&&(w[0]=0,w[1]=0)})();class ee{constructor(c,p,v,_){this.context=c,this.format=v,this.texture=c.gl.createTexture(),this.update(p,_)}update(c,p,v){const{width:_,height:E}=c,D=!(this.size&&this.size[0]===_&&this.size[1]===E||v),{context:j}=this,{gl:U}=j;if(this.useMipmap=!!(p&&p.useMipmap),U.bindTexture(U.TEXTURE_2D,this.texture),j.pixelStoreUnpackFlipY.set(!1),j.pixelStoreUnpack.set(1),j.pixelStoreUnpackPremultiplyAlpha.set(this.format===U.RGBA&&(!p||p.premultiply!==!1)),D)this.size=[_,E],c instanceof HTMLImageElement||c instanceof HTMLCanvasElement||c instanceof HTMLVideoElement||c instanceof ImageData||a.isImageBitmap(c)?U.texImage2D(U.TEXTURE_2D,0,this.format,this.format,U.UNSIGNED_BYTE,c):U.texImage2D(U.TEXTURE_2D,0,this.format,_,E,0,this.format,U.UNSIGNED_BYTE,c.data);else{const{x:q,y:Y}=v||{x:0,y:0};c instanceof HTMLImageElement||c instanceof HTMLCanvasElement||c instanceof HTMLVideoElement||c instanceof ImageData||a.isImageBitmap(c)?U.texSubImage2D(U.TEXTURE_2D,0,q,Y,U.RGBA,U.UNSIGNED_BYTE,c):U.texSubImage2D(U.TEXTURE_2D,0,q,Y,_,E,U.RGBA,U.UNSIGNED_BYTE,c.data)}this.useMipmap&&this.isSizePowerOfTwo()&&U.generateMipmap(U.TEXTURE_2D)}bind(c,p,v){const{context:_}=this,{gl:E}=_;E.bindTexture(E.TEXTURE_2D,this.texture),v!==E.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(v=E.LINEAR),c!==this.filter&&(E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,c),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,v||c),this.filter=c),p!==this.wrap&&(E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,p),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,p),this.wrap=p)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:c}=this.context;c.deleteTexture(this.texture),this.texture=null}}function ae(w){const{userImage:c}=w;return!!(c&&c.render&&c.render())&&(w.data.replace(new Uint8Array(c.data.buffer)),!0)}class pe extends a.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(c){if(this.loaded!==c&&(this.loaded=c,c)){for(const{ids:p,callback:v}of this.requestors)this._notify(p,v);this.requestors=[]}}getImage(c){const p=this.images[c];if(p&&!p.data&&p.spriteData){const v=p.spriteData;p.data=new a.RGBAImage({width:v.width,height:v.height},v.context.getImageData(v.x,v.y,v.width,v.height).data),p.spriteData=null}return p}addImage(c,p){if(this.images[c])throw new Error(`Image id ${c} already exist, use updateImage instead`);this._validate(c,p)&&(this.images[c]=p)}_validate(c,p){let v=!0;const _=p.data||p.spriteData;return this._validateStretch(p.stretchX,_&&_.width)||(this.fire(new a.ErrorEvent(new Error(`Image "${c}" has invalid "stretchX" value`))),v=!1),this._validateStretch(p.stretchY,_&&_.height)||(this.fire(new a.ErrorEvent(new Error(`Image "${c}" has invalid "stretchY" value`))),v=!1),this._validateContent(p.content,p)||(this.fire(new a.ErrorEvent(new Error(`Image "${c}" has invalid "content" value`))),v=!1),v}_validateStretch(c,p){if(!c)return!0;let v=0;for(const _ of c){if(_[0]<v||_[1]<_[0]||p<_[1])return!1;v=_[1]}return!0}_validateContent(c,p){if(!c)return!0;if(c.length!==4)return!1;const v=p.spriteData,_=v&&v.width||p.data.width,E=v&&v.height||p.data.height;return!(c[0]<0||_<c[0]||c[1]<0||E<c[1]||c[2]<0||_<c[2]||c[3]<0||E<c[3]||c[2]<c[0]||c[3]<c[1])}updateImage(c,p,v=!0){const _=this.getImage(c);if(v&&(_.data.width!==p.data.width||_.data.height!==p.data.height))throw new Error(`size mismatch between old image (${_.data.width}x${_.data.height}) and new image (${p.data.width}x${p.data.height}).`);p.version=_.version+1,this.images[c]=p,this.updatedImages[c]=!0}removeImage(c){const p=this.images[c];delete this.images[c],delete this.patterns[c],p.userImage&&p.userImage.onRemove&&p.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(c,p){let v=!0;if(!this.isLoaded())for(const _ of c)this.images[_]||(v=!1);this.isLoaded()||v?this._notify(c,p):this.requestors.push({ids:c,callback:p})}_notify(c,p){const v={};for(const _ of c){let E=this.getImage(_);E||(this.fire(new a.Event("styleimagemissing",{id:_})),E=this.getImage(_)),E?v[_]={data:E.data.clone(),pixelRatio:E.pixelRatio,sdf:E.sdf,version:E.version,stretchX:E.stretchX,stretchY:E.stretchY,content:E.content,hasRenderCallback:!!(E.userImage&&E.userImage.render)}:a.warnOnce(`Image "${_}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}p(null,v)}getPixelSize(){const{width:c,height:p}=this.atlasImage;return{width:c,height:p}}getPattern(c){const p=this.patterns[c],v=this.getImage(c);if(!v)return null;if(p&&p.position.version===v.version)return p.position;if(p)p.position.version=v.version;else{const _={w:v.data.width+2,h:v.data.height+2,x:0,y:0},E=new a.ImagePosition(_,v);this.patterns[c]={bin:_,position:E}}return this._updatePatternAtlas(),this.patterns[c].position}bind(c){const p=c.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new ee(c,this.atlasImage,p.RGBA),this.atlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE)}_updatePatternAtlas(){const c=[];for(const E in this.patterns)c.push(this.patterns[E].bin);const{w:p,h:v}=a.potpack(c),_=this.atlasImage;_.resize({width:p||1,height:v||1});for(const E in this.patterns){const{bin:D}=this.patterns[E],j=D.x+1,U=D.y+1,q=this.getImage(E).data,Y=q.width,K=q.height;a.RGBAImage.copy(q,_,{x:0,y:0},{x:j,y:U},{width:Y,height:K}),a.RGBAImage.copy(q,_,{x:0,y:K-1},{x:j,y:U-1},{width:Y,height:1}),a.RGBAImage.copy(q,_,{x:0,y:0},{x:j,y:U+K},{width:Y,height:1}),a.RGBAImage.copy(q,_,{x:Y-1,y:0},{x:j-1,y:U},{width:1,height:K}),a.RGBAImage.copy(q,_,{x:0,y:0},{x:j+Y,y:U},{width:1,height:K})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(c){for(const p of c){if(this.callbackDispatchedThisFrame[p])continue;this.callbackDispatchedThisFrame[p]=!0;const v=this.getImage(p);v||a.warnOnce(`Image with ID: "${p}" was not found`),ae(v)&&this.updateImage(p,v)}}}const ye=1e20;function we(w,c,p,v,_,E,D,j,U){for(let q=c;q<c+v;q++)Ce(w,p*E+q,E,_,D,j,U);for(let q=p;q<p+_;q++)Ce(w,q*E+c,1,v,D,j,U)}function Ce(w,c,p,v,_,E,D){E[0]=0,D[0]=-ye,D[1]=ye,_[0]=w[c];for(let j=1,U=0,q=0;j<v;j++){_[j]=w[c+j*p];const Y=j*j;do{const K=E[U];q=(_[j]-_[K]+Y-K*K)/(j-K)/2}while(q<=D[U]&&--U>-1);U++,E[U]=j,D[U]=q,D[U+1]=ye}for(let j=0,U=0;j<v;j++){for(;D[U+1]<j;)U++;const q=E[U],Y=j-q;w[c+j*p]=_[q]+Y*Y}}class Oe{constructor(c,p){this.requestManager=c,this.localIdeographFontFamily=p,this.entries={}}setURL(c){this.url=c}getGlyphs(c,p){const v=[];for(const _ in c)for(const E of c[_])v.push({stack:_,id:E});a.asyncAll(v,({stack:_,id:E},D)=>{let j=this.entries[_];j||(j=this.entries[_]={glyphs:{},requests:{},ranges:{}});let U=j.glyphs[E];if(U!==void 0)return void D(null,{stack:_,id:E,glyph:U});if(U=this._tinySDF(j,_,E),U)return j.glyphs[E]=U,void D(null,{stack:_,id:E,glyph:U});const q=Math.floor(E/256);if(256*q>65535)return void D(new Error("glyphs > 65535 not supported"));if(j.ranges[q])return void D(null,{stack:_,id:E,glyph:U});if(!this.url)return void D(new Error("glyphsUrl is not set"));let Y=j.requests[q];Y||(Y=j.requests[q]=[],Oe.loadGlyphRange(_,q,this.url,this.requestManager,(K,re)=>{if(re){for(const de in re)this._doesCharSupportLocalGlyph(+de)||(j.glyphs[+de]=re[+de]);j.ranges[q]=!0}for(const de of Y)de(K,re);delete j.requests[q]})),Y.push((K,re)=>{K?D(K):re&&D(null,{stack:_,id:E,glyph:re[E]||null})})},(_,E)=>{if(_)p(_);else if(E){const D={};for(const{stack:j,id:U,glyph:q}of E)(D[j]||(D[j]={}))[U]=q&&{id:q.id,bitmap:q.bitmap.clone(),metrics:q.metrics};p(null,D)}})}_doesCharSupportLocalGlyph(c){return!!this.localIdeographFontFamily&&(a.unicodeBlockLookup["CJK Unified Ideographs"](c)||a.unicodeBlockLookup["Hangul Syllables"](c)||a.unicodeBlockLookup.Hiragana(c)||a.unicodeBlockLookup.Katakana(c))}_tinySDF(c,p,v){const _=this.localIdeographFontFamily;if(!_||!this._doesCharSupportLocalGlyph(v))return;let E=c.tinySDF;if(!E){let j="400";/bold/i.test(p)?j="900":/medium/i.test(p)?j="500":/light/i.test(p)&&(j="200"),E=c.tinySDF=new Oe.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:_,fontWeight:j})}const D=E.draw(String.fromCharCode(v));return{id:v,bitmap:new a.AlphaImage({width:D.width||60,height:D.height||60},D.data),metrics:{width:D.glyphWidth/2||24,height:D.glyphHeight/2||24,left:D.glyphLeft/2+.5||0,top:D.glyphTop/2-27.5||-8,advance:D.glyphAdvance/2||24,isDoubleResolution:!0}}}}Oe.loadGlyphRange=function(w,c,p,v,_){const E=256*c,D=E+255,j=v.transformRequest(p.replace("{fontstack}",w).replace("{range}",`${E}-${D}`),I.Glyphs);a.getArrayBuffer(j,(U,q)=>{if(U)_(U);else if(q){const Y={};for(const K of a.parseGlyphPbf(q))Y[K.id]=K;_(null,Y)}})},Oe.TinySDF=class{constructor({fontSize:w=24,buffer:c=3,radius:p=8,cutoff:v=.25,fontFamily:_="sans-serif",fontWeight:E="normal",fontStyle:D="normal"}={}){this.buffer=c,this.cutoff=v,this.radius=p;const j=this.size=w+4*c,U=this._createCanvas(j),q=this.ctx=U.getContext("2d",{willReadFrequently:!0});q.font=`${D} ${E} ${w}px ${_}`,q.textBaseline="alphabetic",q.textAlign="left",q.fillStyle="black",this.gridOuter=new Float64Array(j*j),this.gridInner=new Float64Array(j*j),this.f=new Float64Array(j),this.z=new Float64Array(j+1),this.v=new Uint16Array(j)}_createCanvas(w){const c=document.createElement("canvas");return c.width=c.height=w,c}draw(w){const{width:c,actualBoundingBoxAscent:p,actualBoundingBoxDescent:v,actualBoundingBoxLeft:_,actualBoundingBoxRight:E}=this.ctx.measureText(w),D=Math.ceil(p),j=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(E-_))),U=Math.min(this.size-this.buffer,D+Math.ceil(v)),q=j+2*this.buffer,Y=U+2*this.buffer,K=Math.max(q*Y,0),re=new Uint8ClampedArray(K),de={data:re,width:q,height:Y,glyphWidth:j,glyphHeight:U,glyphTop:D,glyphLeft:0,glyphAdvance:c};if(j===0||U===0)return de;const{ctx:ce,buffer:me,gridInner:le,gridOuter:Ae}=this;ce.clearRect(me,me,j,U),ce.fillText(w,me,me+D);const ze=ce.getImageData(me,me,j,U);Ae.fill(ye,0,K),le.fill(0,0,K);for(let ve=0;ve<U;ve++)for(let Ie=0;Ie<j;Ie++){const Be=ze.data[4*(ve*j+Ie)+3]/255;if(Be===0)continue;const Fe=(ve+me)*q+Ie+me;if(Be===1)Ae[Fe]=0,le[Fe]=ye;else{const Ke=.5-Be;Ae[Fe]=Ke>0?Ke*Ke:0,le[Fe]=Ke<0?Ke*Ke:0}}we(Ae,0,0,q,Y,q,this.f,this.v,this.z),we(le,me,me,j,U,q,this.f,this.v,this.z);for(let ve=0;ve<K;ve++){const Ie=Math.sqrt(Ae[ve])-Math.sqrt(le[ve]);re[ve]=Math.round(255-255*(Ie/this.radius+this.cutoff))}return de}};class Ee{constructor(){this.specification=a.v8Spec.light.position}possiblyEvaluate(c,p){return a.sphericalToCartesian(c.expression.evaluate(p))}interpolate(c,p,v){return{x:a.interpolate.number(c.x,p.x,v),y:a.interpolate.number(c.y,p.y,v),z:a.interpolate.number(c.z,p.z,v)}}}let Se;class De extends a.Evented{constructor(c){super(),Se=Se||new a.Properties({anchor:new a.DataConstantProperty(a.v8Spec.light.anchor),position:new Ee,color:new a.DataConstantProperty(a.v8Spec.light.color),intensity:new a.DataConstantProperty(a.v8Spec.light.intensity)}),this._transitionable=new a.Transitionable(Se),this.setLight(c),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(c,p={}){if(!this._validate(a.validateLight,c,p))for(const v in c){const _=c[v];v.endsWith("-transition")?this._transitionable.setTransition(v.slice(0,-11),_):this._transitionable.setValue(v,_)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,p,v){return(!v||v.validate!==!1)&&a.emitValidationErrors(this,c.call(a.validateStyle,a.extend({value:p,style:{glyphs:!0,sprite:!0},styleSpec:a.v8Spec})))}}class We{constructor(c,p){this.width=c,this.height=p,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(c,p){const v=c.join(",")+String(p);return this.dashEntry[v]||(this.dashEntry[v]=this.addDash(c,p)),this.dashEntry[v]}getDashRanges(c,p,v){const _=[];let E=c.length%2==1?-c[c.length-1]*v:0,D=c[0]*v,j=!0;_.push({left:E,right:D,isDash:j,zeroLength:c[0]===0});let U=c[0];for(let q=1;q<c.length;q++){j=!j;const Y=c[q];E=U*v,U+=Y,D=U*v,_.push({left:E,right:D,isDash:j,zeroLength:Y===0})}return _}addRoundDash(c,p,v){const _=p/2;for(let E=-v;E<=v;E++){const D=this.width*(this.nextRow+v+E);let j=0,U=c[j];for(let q=0;q<this.width;q++){q/U.right>1&&(U=c[++j]);const Y=Math.abs(q-U.left),K=Math.abs(q-U.right),re=Math.min(Y,K);let de;const ce=E/v*(_+1);if(U.isDash){const me=_-Math.abs(ce);de=Math.sqrt(re*re+me*me)}else de=_-Math.sqrt(re*re+ce*ce);this.data[D+q]=Math.max(0,Math.min(255,de+128))}}}addRegularDash(c){for(let j=c.length-1;j>=0;--j){const U=c[j],q=c[j+1];U.zeroLength?c.splice(j,1):q&&q.isDash===U.isDash&&(q.left=U.left,c.splice(j,1))}const p=c[0],v=c[c.length-1];p.isDash===v.isDash&&(p.left=v.left-this.width,v.right=p.right+this.width);const _=this.width*this.nextRow;let E=0,D=c[E];for(let j=0;j<this.width;j++){j/D.right>1&&(D=c[++E]);const U=Math.abs(j-D.left),q=Math.abs(j-D.right),Y=Math.min(U,q);this.data[_+j]=Math.max(0,Math.min(255,(D.isDash?Y:-Y)+128))}}addDash(c,p){const v=p?7:0,_=2*v+1;if(this.nextRow+_>this.height)return a.warnOnce("LineAtlas out of space"),null;let E=0;for(let j=0;j<c.length;j++)E+=c[j];if(E!==0){const j=this.width/E,U=this.getDashRanges(c,this.width,j);p?this.addRoundDash(U,j,v):this.addRegularDash(U)}const D={y:(this.nextRow+v+.5)/this.height,height:2*v/this.height,width:E};return this.nextRow+=_,this.dirty=!0,D}bind(c){const p=c.gl;this.texture?(p.bindTexture(p.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,p.texSubImage2D(p.TEXTURE_2D,0,0,0,this.width,this.height,p.ALPHA,p.UNSIGNED_BYTE,this.data))):(this.texture=p.createTexture(),p.bindTexture(p.TEXTURE_2D,this.texture),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texImage2D(p.TEXTURE_2D,0,p.ALPHA,this.width,this.height,0,p.ALPHA,p.UNSIGNED_BYTE,this.data))}}class dt{constructor(c,p,v){this.workerPool=c,this.actors=[],this.currentActor=0,this.id=v;const _=this.workerPool.acquire(v);for(let E=0;E<_.length;E++){const D=new dt.Actor(_[E],p,v);D.name=`Worker ${E}`,this.actors.push(D)}if(!this.actors.length)throw new Error("No actors found")}broadcast(c,p,v){a.asyncAll(this.actors,(_,E)=>{_.send(c,p,E)},v=v||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(c=!0){this.actors.forEach(p=>{p.remove()}),this.actors=[],c&&this.workerPool.release(this.id)}}function ht(w,c,p){const v=function(_,E){if(_)return p(_);if(E){const D=a.pick(a.extend(E,w),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);E.vector_layers&&(D.vectorLayers=E.vector_layers,D.vectorLayerIds=D.vectorLayers.map(j=>j.id)),p(null,D)}};return w.url?a.getJSON(c.transformRequest(w.url,I.Source),v):a.browser.frame(()=>v(null,w))}dt.Actor=a.Actor;class Je{constructor(c,p){c&&(p?this.setSouthWest(c).setNorthEast(p):Array.isArray(c)&&(c.length===4?this.setSouthWest([c[0],c[1]]).setNorthEast([c[2],c[3]]):this.setSouthWest(c[0]).setNorthEast(c[1])))}setNorthEast(c){return this._ne=c instanceof a.LngLat?new a.LngLat(c.lng,c.lat):a.LngLat.convert(c),this}setSouthWest(c){return this._sw=c instanceof a.LngLat?new a.LngLat(c.lng,c.lat):a.LngLat.convert(c),this}extend(c){const p=this._sw,v=this._ne;let _,E;if(c instanceof a.LngLat)_=c,E=c;else{if(!(c instanceof Je))return Array.isArray(c)?c.length===4||c.every(Array.isArray)?this.extend(Je.convert(c)):this.extend(a.LngLat.convert(c)):c&&("lng"in c||"lon"in c)&&"lat"in c?this.extend(a.LngLat.convert(c)):this;if(_=c._sw,E=c._ne,!_||!E)return this}return p||v?(p.lng=Math.min(_.lng,p.lng),p.lat=Math.min(_.lat,p.lat),v.lng=Math.max(E.lng,v.lng),v.lat=Math.max(E.lat,v.lat)):(this._sw=new a.LngLat(_.lng,_.lat),this._ne=new a.LngLat(E.lng,E.lat)),this}getCenter(){return new a.LngLat((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new a.LngLat(this.getWest(),this.getNorth())}getSouthEast(){return new a.LngLat(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(c){const{lng:p,lat:v}=a.LngLat.convert(c);let _=this._sw.lng<=p&&p<=this._ne.lng;return this._sw.lng>this._ne.lng&&(_=this._sw.lng>=p&&p>=this._ne.lng),this._sw.lat<=v&&v<=this._ne.lat&&_}static convert(c){return c instanceof Je?c:c&&new Je(c)}static fromLngLat(c,p=0){const v=360*p/40075017,_=v/Math.cos(Math.PI/180*c.lat);return new Je(new a.LngLat(c.lng-_,c.lat-v),new a.LngLat(c.lng+_,c.lat+v))}}class it{constructor(c,p,v){this.bounds=Je.convert(this.validateBounds(c)),this.minzoom=p||0,this.maxzoom=v||24}validateBounds(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]}contains(c){const p=Math.pow(2,c.z),v=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*p),_=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*p),E=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*p),D=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*p);return c.x>=v&&c.x<E&&c.y>=_&&c.y<D}}class Ot extends a.Evented{constructor(c,p,v,_){if(super(),this.load=()=>{this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=ht(this._options,this.map._requestManager,(E,D)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),E?this.fire(new a.ErrorEvent(E)):D&&(a.extend(this,D),D.bounds&&(this.tileBounds=new it(D.bounds,this.minzoom,this.maxzoom)),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},this.serialize=()=>a.extend({},this._options),this.id=c,this.dispatcher=v,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(p,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},p),this._collectResourceTiming=p.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(_)}loaded(){return this._loaded}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}onAdd(c){this.map=c,this.load()}setSourceProperty(c){this._tileJSONRequest&&this._tileJSONRequest.cancel(),c(),this.load()}setTiles(c){return this.setSourceProperty(()=>{this._options.tiles=c}),this}setUrl(c){return this.setSourceProperty(()=>{this.url=c,this._options.url=c}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(c,p){const v=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_={request:this.map._requestManager.transformRequest(v,I.Tile),uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,tileSize:this.tileSize*c.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function E(D,j){return delete c.request,c.aborted?p(null):D&&D.status!==404?p(D):(j&&j.resourceTiming&&(c.resourceTiming=j.resourceTiming),this.map._refreshExpiredTiles&&j&&c.setExpiryData(j),c.loadVectorData(j,this.map.painter),p(null),void(c.reloadCallback&&(this.loadTile(c,c.reloadCallback),c.reloadCallback=null)))}_.request.collectResourceTiming=this._collectResourceTiming,c.actor&&c.state!=="expired"?c.state==="loading"?c.reloadCallback=p:c.request=c.actor.send("reloadTile",_,E.bind(this)):(c.actor=this.dispatcher.getActor(),c.request=c.actor.send("loadTile",_,E.bind(this)))}abortTile(c){c.request&&(c.request.cancel(),delete c.request),c.actor&&c.actor.send("abortTile",{uid:c.uid,type:this.type,source:this.id},void 0)}unloadTile(c){c.unloadVectorData(),c.actor&&c.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class at extends a.Evented{constructor(c,p,v,_){super(),this.id=c,this.dispatcher=v,this.setEventedParent(_),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},p),a.extend(this,a.pick(p,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=ht(this._options,this.map._requestManager,(c,p)=>{this._tileJSONRequest=null,this._loaded=!0,c?this.fire(new a.ErrorEvent(c)):p&&(a.extend(this,p),p.bounds&&(this.tileBounds=new it(p.bounds,this.minzoom,this.maxzoom)),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(c){this.map=c,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}setSourceProperty(c){this._tileJSONRequest&&this._tileJSONRequest.cancel(),c(),this.load()}setTiles(c){return this.setSourceProperty(()=>{this._options.tiles=c}),this}serialize(){return a.extend({},this._options)}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}loadTile(c,p){const v=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);c.request=A.getImage(this.map._requestManager.transformRequest(v,I.Tile),(_,E,D)=>{if(delete c.request,c.aborted)c.state="unloaded",p(null);else if(_)c.state="errored",p(_);else if(E){this.map._refreshExpiredTiles&&D&&c.setExpiryData(D);const j=this.map.painter.context,U=j.gl;c.texture=this.map.painter.getTileTexture(E.width),c.texture?c.texture.update(E,{useMipmap:!0}):(c.texture=new ee(j,E,U.RGBA,{useMipmap:!0}),c.texture.bind(U.LINEAR,U.CLAMP_TO_EDGE,U.LINEAR_MIPMAP_NEAREST),j.extTextureFilterAnisotropic&&U.texParameterf(U.TEXTURE_2D,j.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,j.extTextureFilterAnisotropicMax)),c.state="loaded",p(null)}},this.map._refreshExpiredTiles)}abortTile(c,p){c.request&&(c.request.cancel(),delete c.request),p()}unloadTile(c,p){c.texture&&this.map.painter.saveTileTexture(c.texture),p()}hasTransition(){return!1}}class Gt extends at{constructor(c,p,v,_){super(c,p,v,_),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},p),this.encoding=p.encoding||"mapbox",this.redFactor=p.redFactor,this.greenFactor=p.greenFactor,this.blueFactor=p.blueFactor,this.baseShift=p.baseShift}loadTile(c,p){const v=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_=this.map._requestManager.transformRequest(v,I.Tile);function E(D,j){D&&(c.state="errored",p(D)),j&&(c.dem=j,c.needsHillshadePrepare=!0,c.needsTerrainPrepare=!0,c.state="loaded",p(null))}c.neighboringTiles=this._getNeighboringTiles(c.tileID),c.request=A.getImage(_,(D,j,U)=>a.__awaiter(this,void 0,void 0,function*(){if(delete c.request,c.aborted)c.state="unloaded",p(null);else if(D)c.state="errored",p(D);else if(j){this.map._refreshExpiredTiles&&c.setExpiryData(U);const q=a.isImageBitmap(j)&&a.offscreenCanvasSupported()?j:yield function(K){return a.__awaiter(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&a.isOffscreenCanvasDistorted()){const re=K.width+2,de=K.height+2;try{return new a.RGBAImage({width:re,height:de},yield a.readImageUsingVideoFrame(K,-1,-1,re,de))}catch{}}return a.browser.getImageData(K,1)})}(j),Y={uid:c.uid,coord:c.tileID,source:this.id,rawImageData:q,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};c.actor&&c.state!=="expired"||(c.actor=this.dispatcher.getActor(),c.actor.send("loadDEMTile",Y,E))}}),this.map._refreshExpiredTiles)}_getNeighboringTiles(c){const p=c.canonical,v=Math.pow(2,p.z),_=(p.x-1+v)%v,E=p.x===0?c.wrap-1:c.wrap,D=(p.x+1+v)%v,j=p.x+1===v?c.wrap+1:c.wrap,U={};return U[new a.OverscaledTileID(c.overscaledZ,E,p.z,_,p.y).key]={backfilled:!1},U[new a.OverscaledTileID(c.overscaledZ,j,p.z,D,p.y).key]={backfilled:!1},p.y>0&&(U[new a.OverscaledTileID(c.overscaledZ,E,p.z,_,p.y-1).key]={backfilled:!1},U[new a.OverscaledTileID(c.overscaledZ,c.wrap,p.z,p.x,p.y-1).key]={backfilled:!1},U[new a.OverscaledTileID(c.overscaledZ,j,p.z,D,p.y-1).key]={backfilled:!1}),p.y+1<v&&(U[new a.OverscaledTileID(c.overscaledZ,E,p.z,_,p.y+1).key]={backfilled:!1},U[new a.OverscaledTileID(c.overscaledZ,c.wrap,p.z,p.x,p.y+1).key]={backfilled:!1},U[new a.OverscaledTileID(c.overscaledZ,j,p.z,D,p.y+1).key]={backfilled:!1}),U}unloadTile(c){c.demTexture&&this.map.painter.saveTileTexture(c.demTexture),c.fbo&&(c.fbo.destroy(),delete c.fbo),c.dem&&delete c.dem,delete c.neighboringTiles,c.state="unloaded",c.actor&&c.actor.send("removeDEMTile",{uid:c.uid,source:this.id})}}class Ht extends a.Evented{constructor(c,p,v,_){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>a.extend({},this._options,{type:this.type,data:this._data}),this.id=c,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=v.getActor(),this.setEventedParent(_),this._data=p.data,this._options=a.extend({},p),this._collectResourceTiming=p.collectResourceTiming,p.maxzoom!==void 0&&(this.maxzoom=p.maxzoom),p.type&&(this.type=p.type),p.attribution&&(this.attribution=p.attribution),this.promoteId=p.promoteId;const E=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:p.cluster||!1,geojsonVtOptions:{buffer:(p.buffer!==void 0?p.buffer:128)*E,tolerance:(p.tolerance!==void 0?p.tolerance:.375)*E,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:p.lineMetrics||!1,generateId:p.generateId||!1},superclusterOptions:{maxZoom:p.clusterMaxZoom!==void 0?p.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,p.clusterMinPoints||2),extent:a.EXTENT,radius:(p.clusterRadius||50)*E,log:!1,generateId:p.generateId||!1},clusterProperties:p.clusterProperties,filter:p.filter},p.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}onAdd(c){this.map=c,this.load()}setData(c){return this._data=c,this._updateWorkerData(),this}updateData(c){return this._updateWorkerData(c),this}setClusterOptions(c){return this.workerOptions.cluster=c.cluster,c&&(c.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=c.clusterRadius),c.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=c.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(c,p){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:c,source:this.id},p),this}getClusterChildren(c,p){return this.actor.send("geojson.getClusterChildren",{clusterId:c,source:this.id},p),this}getClusterLeaves(c,p,v,_){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:c,limit:p,offset:v},_),this}_updateWorkerData(c){const p=a.extend({},this.workerOptions);c?p.dataDiff=c:typeof this._data=="string"?(p.request=this.map._requestManager.transformRequest(a.browser.resolveURL(this._data),I.Source),p.request.collectResourceTiming=this._collectResourceTiming):p.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new a.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,p,(v,_)=>{if(this._pendingLoads--,this._removed||_&&_.abandoned)return void this.fire(new a.Event("dataabort",{dataType:"source"}));let E=null;if(_&&_.resourceTiming&&_.resourceTiming[this.id]&&(E=_.resourceTiming[this.id].slice(0)),v)return void this.fire(new a.ErrorEvent(v));const D={dataType:"source"};this._collectResourceTiming&&E&&E.length>0&&a.extend(D,{resourceTiming:E}),this.fire(new a.Event("data",Object.assign(Object.assign({},D),{sourceDataType:"metadata"}))),this.fire(new a.Event("data",Object.assign(Object.assign({},D),{sourceDataType:"content"})))})}loaded(){return this._pendingLoads===0}loadTile(c,p){const v=c.actor?"reloadTile":"loadTile";c.actor=this.actor;const _={type:this.type,uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};c.request=this.actor.send(v,_,(E,D)=>(delete c.request,c.unloadVectorData(),c.aborted?p(null):E?p(E):(c.loadVectorData(D,this.map.painter,v==="reloadTile"),p(null))))}abortTile(c){c.request&&(c.request.cancel(),delete c.request),c.aborted=!0}unloadTile(c){c.unloadVectorData(),this.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var He=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class vt extends a.Evented{constructor(c,p,v,_){super(),this.load=(E,D)=>{this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=A.getImage(this.map._requestManager.transformRequest(this.url,I.Image),(j,U)=>{this._request=null,this._loaded=!0,j?this.fire(new a.ErrorEvent(j)):U&&(this.image=U,E&&(this.coordinates=E),D&&D(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||!this.image)return;const E=this.map.painter.context,D=E.gl;this.boundsBuffer||(this.boundsBuffer=E.createVertexBuffer(this._boundsArray,He.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new ee(E,this.image,D.RGBA),this.texture.bind(D.LINEAR,D.CLAMP_TO_EDGE));let j=!1;for(const U in this.tiles){const q=this.tiles[U];q.state!=="loaded"&&(q.state="loaded",q.texture=this.texture,j=!0)}j&&this.fire(new a.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=c,this.dispatcher=v,this.coordinates=p.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(_),this.options=p}loaded(){return this._loaded}updateImage(c){return c.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=c.url,this.load(c.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(c){this.map=c,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(c){this.coordinates=c;const p=c.map(a.MercatorCoordinate.fromLngLat);this.tileID=function(_){let E=1/0,D=1/0,j=-1/0,U=-1/0;for(const re of _)E=Math.min(E,re.x),D=Math.min(D,re.y),j=Math.max(j,re.x),U=Math.max(U,re.y);const q=Math.max(j-E,U-D),Y=Math.max(0,Math.floor(-Math.log(q)/Math.LN2)),K=Math.pow(2,Y);return new a.CanonicalTileID(Y,Math.floor((E+j)/2*K),Math.floor((D+U)/2*K))}(p),this.minzoom=this.maxzoom=this.tileID.z;const v=p.map(_=>this.tileID.getTilePoint(_)._round());return this._boundsArray=new a.RasterBoundsArray,this._boundsArray.emplaceBack(v[0].x,v[0].y,0,0),this._boundsArray.emplaceBack(v[1].x,v[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(v[3].x,v[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(v[2].x,v[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(c,p){this.tileID&&this.tileID.equals(c.tileID.canonical)?(this.tiles[String(c.tileID.wrap)]=c,c.buckets={},p(null)):(c.state="errored",p(null))}hasTransition(){return!1}}class yt extends vt{constructor(c,p,v,_){super(c,p,v,_),this.load=()=>{this._loaded=!1;const E=this.options;this.urls=[];for(const D of E.urls)this.urls.push(this.map._requestManager.transformRequest(D,I.Source).url);a.getVideo(this.urls,(D,j)=>{this._loaded=!0,D?this.fire(new a.ErrorEvent(D)):j&&(this.video=j,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const E=this.map.painter.context,D=E.gl;this.boundsBuffer||(this.boundsBuffer=E.createVertexBuffer(this._boundsArray,He.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(D.LINEAR,D.CLAMP_TO_EDGE),D.texSubImage2D(D.TEXTURE_2D,0,0,0,D.RGBA,D.UNSIGNED_BYTE,this.video)):(this.texture=new ee(E,this.video,D.RGBA),this.texture.bind(D.LINEAR,D.CLAMP_TO_EDGE));let j=!1;for(const U in this.tiles){const q=this.tiles[U];q.state!=="loaded"&&(q.state="loaded",q.texture=this.texture,j=!0)}j&&this.fire(new a.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=p}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(c){if(this.video){const p=this.video.seekable;c<p.start(0)||c>p.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${p.start(0)} and ${p.end(0)}-second mark.`))):this.video.currentTime=c}}getVideo(){return this.video}onAdd(c){this.map||(this.map=c,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class Ve extends vt{constructor(c,p,v,_){super(c,p,v,_),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let E=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,E=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,E=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const D=this.map.painter.context,j=D.gl;this.boundsBuffer||(this.boundsBuffer=D.createVertexBuffer(this._boundsArray,He.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(E||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new ee(D,this.canvas,j.RGBA,{premultiply:!0});let U=!1;for(const q in this.tiles){const Y=this.tiles[q];Y.state!=="loaded"&&(Y.state="loaded",Y.texture=this.texture,U=!0)}U&&this.fire(new a.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),p.coordinates?Array.isArray(p.coordinates)&&p.coordinates.length===4&&!p.coordinates.some(E=>!Array.isArray(E)||E.length!==2||E.some(D=>typeof D!="number"))||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${c}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${c}`,null,'missing required property "coordinates"'))),p.animate&&typeof p.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${c}`,null,'optional "animate" property must be a boolean value'))),p.canvas?typeof p.canvas=="string"||p.canvas instanceof HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${c}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${c}`,null,'missing required property "canvas"'))),this.options=p,this.animate=p.animate===void 0||p.animate}getCanvas(){return this.canvas}onAdd(c){this.map=c,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const c of[this.canvas.width,this.canvas.height])if(isNaN(c)||c<=0)return!0;return!1}}const Ct={},Tt=w=>{switch(w){case"geojson":return Ht;case"image":return vt;case"raster":return at;case"raster-dem":return Gt;case"vector":return Ot;case"video":return yt;case"canvas":return Ve}return Ct[w]};function qt(w,c){const p=a.create();return a.translate(p,p,[1,1,0]),a.scale(p,p,[.5*w.width,.5*w.height,1]),a.multiply(p,p,w.calculatePosMatrix(c.toUnwrapped()))}function vn(w,c,p,v,_,E){const D=function(K,re,de){if(K)for(const ce of K){const me=re[ce];if(me&&me.source===de&&me.type==="fill-extrusion")return!0}else for(const ce in re){const me=re[ce];if(me.source===de&&me.type==="fill-extrusion")return!0}return!1}(_&&_.layers,c,w.id),j=E.maxPitchScaleFactor(),U=w.tilesIn(v,j,D);U.sort(Mn);const q=[];for(const K of U)q.push({wrappedTileID:K.tileID.wrapped().key,queryResults:K.tile.queryRenderedFeatures(c,p,w._state,K.queryGeometry,K.cameraQueryGeometry,K.scale,_,E,j,qt(w.transform,K.tileID))});const Y=function(K){const re={},de={};for(const ce of K){const me=ce.queryResults,le=ce.wrappedTileID,Ae=de[le]=de[le]||{};for(const ze in me){const ve=me[ze],Ie=Ae[ze]=Ae[ze]||{},Be=re[ze]=re[ze]||[];for(const Fe of ve)Ie[Fe.featureIndex]||(Ie[Fe.featureIndex]=!0,Be.push(Fe))}}return re}(q);for(const K in Y)Y[K].forEach(re=>{const de=re.feature,ce=w.getFeatureState(de.layer["source-layer"],de.id);de.source=de.layer.source,de.layer["source-layer"]&&(de.sourceLayer=de.layer["source-layer"]),de.state=ce});return Y}function Mn(w,c){const p=w.tileID,v=c.tileID;return p.overscaledZ-v.overscaledZ||p.canonical.y-v.canonical.y||p.wrap-v.wrap||p.canonical.x-v.canonical.x}class _n{constructor(c,p){this.timeAdded=0,this.fadeEndTime=0,this.tileID=c,this.uid=a.uniqueId(),this.uses=0,this.tileSize=p,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(c){const p=c+this.timeAdded;p<this.fadeEndTime||(this.fadeEndTime=p)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(c){this.demTexture&&c.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(c,p,v){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",c){c.featureIndex&&(this.latestFeatureIndex=c.featureIndex,c.rawTileData?(this.latestRawTileData=c.rawTileData,this.latestFeatureIndex.rawTileData=c.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=c.collisionBoxArray,this.buckets=function(_,E){const D={};if(!E)return D;for(const j of _){const U=j.layerIds.map(q=>E.getLayer(q)).filter(Boolean);if(U.length!==0){j.layers=U,j.stateDependentLayerIds&&(j.stateDependentLayers=j.stateDependentLayerIds.map(q=>U.filter(Y=>Y.id===q)[0]));for(const q of U)D[q.id]=j}}return D}(c.buckets,p.style),this.hasSymbolBuckets=!1;for(const _ in this.buckets){const E=this.buckets[_];if(E instanceof a.SymbolBucket){if(this.hasSymbolBuckets=!0,!v)break;E.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const _ in this.buckets){const E=this.buckets[_];if(E instanceof a.SymbolBucket&&E.hasRTLText){this.hasRTLText=!0,a.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const _ in this.buckets){const E=this.buckets[_];this.queryPadding=Math.max(this.queryPadding,p.style.getLayer(_).queryRadius(E))}c.imageAtlas&&(this.imageAtlas=c.imageAtlas),c.glyphAtlasImage&&(this.glyphAtlasImage=c.glyphAtlasImage)}else this.collisionBoxArray=new a.CollisionBoxArray}unloadVectorData(){for(const c in this.buckets)this.buckets[c].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(c){return this.buckets[c.id]}upload(c){for(const v in this.buckets){const _=this.buckets[v];_.uploadPending()&&_.upload(c)}const p=c.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ee(c,this.imageAtlas.image,p.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ee(c,this.glyphAtlasImage,p.ALPHA),this.glyphAtlasImage=null)}prepare(c){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(c,this.imageAtlasTexture)}queryRenderedFeatures(c,p,v,_,E,D,j,U,q,Y){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:_,cameraQueryGeometry:E,scale:D,tileSize:this.tileSize,pixelPosMatrix:Y,transform:U,params:j,queryPadding:this.queryPadding*q},c,p,v):{}}querySourceFeatures(c,p){const v=this.latestFeatureIndex;if(!v||!v.rawTileData)return;const _=v.loadVTLayers(),E=p&&p.sourceLayer?p.sourceLayer:"",D=_._geojsonTileLayer||_[E];if(!D)return;const j=a.createFilter(p&&p.filter),{z:U,x:q,y:Y}=this.tileID.canonical,K={z:U,x:q,y:Y};for(let re=0;re<D.length;re++){const de=D.feature(re);if(j.needGeometry){const le=a.toEvaluationFeature(de,!0);if(!j.filter(new a.EvaluationParameters(this.tileID.overscaledZ),le,this.tileID.canonical))continue}else if(!j.filter(new a.EvaluationParameters(this.tileID.overscaledZ),de))continue;const ce=v.getId(de,E),me=new a.GeoJSONFeature(de,U,q,Y,ce);me.tile=K,c.push(me)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(c){const p=this.expirationTime;if(c.cacheControl){const v=a.parseCacheControl(c.cacheControl);v["max-age"]&&(this.expirationTime=Date.now()+1e3*v["max-age"])}else c.expires&&(this.expirationTime=new Date(c.expires).getTime());if(this.expirationTime){const v=Date.now();let _=!1;if(this.expirationTime>v)_=!1;else if(p)if(this.expirationTime<p)_=!0;else{const E=this.expirationTime-p;E?this.expirationTime=v+Math.max(E,3e4):_=!0}else _=!0;_?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(c,p){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(c).length===0)return;const v=this.latestFeatureIndex.loadVTLayers();for(const _ in this.buckets){if(!p.style.hasLayer(_))continue;const E=this.buckets[_],D=E.layers[0].sourceLayer||"_geojsonTileLayer",j=v[D],U=c[D];if(!j||!U||Object.keys(U).length===0)continue;E.update(U,j,this.imageAtlas&&this.imageAtlas.patternPositions||{});const q=p&&p.style&&p.style.getLayer(_);q&&(this.queryPadding=Math.max(this.queryPadding,q.queryRadius(E)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<a.browser.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(c){this.symbolFadeHoldUntil=a.browser.now()+c}setDependencies(c,p){const v={};for(const _ of p)v[_]=!0;this.dependencies[c]=v}hasDependency(c,p){for(const v of c){const _=this.dependencies[v];if(_){for(const E of p)if(_[E])return!0}}return!1}}class rr{constructor(c,p){this.max=c,this.onRemove=p,this.reset()}reset(){for(const c in this.data)for(const p of this.data[c])p.timeout&&clearTimeout(p.timeout),this.onRemove(p.value);return this.data={},this.order=[],this}add(c,p,v){const _=c.wrapped().key;this.data[_]===void 0&&(this.data[_]=[]);const E={value:p,timeout:void 0};if(v!==void 0&&(E.timeout=setTimeout(()=>{this.remove(c,E)},v)),this.data[_].push(E),this.order.push(_),this.order.length>this.max){const D=this._getAndRemoveByKey(this.order[0]);D&&this.onRemove(D)}return this}has(c){return c.wrapped().key in this.data}getAndRemove(c){return this.has(c)?this._getAndRemoveByKey(c.wrapped().key):null}_getAndRemoveByKey(c){const p=this.data[c].shift();return p.timeout&&clearTimeout(p.timeout),this.data[c].length===0&&delete this.data[c],this.order.splice(this.order.indexOf(c),1),p.value}getByKey(c){const p=this.data[c];return p?p[0].value:null}get(c){return this.has(c)?this.data[c.wrapped().key][0].value:null}remove(c,p){if(!this.has(c))return this;const v=c.wrapped().key,_=p===void 0?0:this.data[v].indexOf(p),E=this.data[v][_];return this.data[v].splice(_,1),E.timeout&&clearTimeout(E.timeout),this.data[v].length===0&&delete this.data[v],this.onRemove(E.value),this.order.splice(this.order.indexOf(v),1),this}setMaxSize(c){for(this.max=c;this.order.length>this.max;){const p=this._getAndRemoveByKey(this.order[0]);p&&this.onRemove(p)}return this}filter(c){const p=[];for(const v in this.data)for(const _ of this.data[v])c(_.value)||p.push(_);for(const v of p)this.remove(v.value.tileID,v)}}class Tn{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(c,p,v){const _=String(p);if(this.stateChanges[c]=this.stateChanges[c]||{},this.stateChanges[c][_]=this.stateChanges[c][_]||{},a.extend(this.stateChanges[c][_],v),this.deletedStates[c]===null){this.deletedStates[c]={};for(const E in this.state[c])E!==_&&(this.deletedStates[c][E]=null)}else if(this.deletedStates[c]&&this.deletedStates[c][_]===null){this.deletedStates[c][_]={};for(const E in this.state[c][_])v[E]||(this.deletedStates[c][_][E]=null)}else for(const E in v)this.deletedStates[c]&&this.deletedStates[c][_]&&this.deletedStates[c][_][E]===null&&delete this.deletedStates[c][_][E]}removeFeatureState(c,p,v){if(this.deletedStates[c]===null)return;const _=String(p);if(this.deletedStates[c]=this.deletedStates[c]||{},v&&p!==void 0)this.deletedStates[c][_]!==null&&(this.deletedStates[c][_]=this.deletedStates[c][_]||{},this.deletedStates[c][_][v]=null);else if(p!==void 0)if(this.stateChanges[c]&&this.stateChanges[c][_])for(v in this.deletedStates[c][_]={},this.stateChanges[c][_])this.deletedStates[c][_][v]=null;else this.deletedStates[c][_]=null;else this.deletedStates[c]=null}getState(c,p){const v=String(p),_=a.extend({},(this.state[c]||{})[v],(this.stateChanges[c]||{})[v]);if(this.deletedStates[c]===null)return{};if(this.deletedStates[c]){const E=this.deletedStates[c][p];if(E===null)return{};for(const D in E)delete _[D]}return _}initializeTileState(c,p){c.setFeatureState(this.state,p)}coalesceChanges(c,p){const v={};for(const _ in this.stateChanges){this.state[_]=this.state[_]||{};const E={};for(const D in this.stateChanges[_])this.state[_][D]||(this.state[_][D]={}),a.extend(this.state[_][D],this.stateChanges[_][D]),E[D]=this.state[_][D];v[_]=E}for(const _ in this.deletedStates){this.state[_]=this.state[_]||{};const E={};if(this.deletedStates[_]===null)for(const D in this.state[_])E[D]={},this.state[_][D]={};else for(const D in this.deletedStates[_]){if(this.deletedStates[_][D]===null)this.state[_][D]={};else for(const j of Object.keys(this.deletedStates[_][D]))delete this.state[_][D][j];E[D]=this.state[_][D]}v[_]=v[_]||{},a.extend(v[_],E)}if(this.stateChanges={},this.deletedStates={},Object.keys(v).length!==0)for(const _ in c)c[_].setFeatureState(v,p)}}class Ne extends a.Evented{constructor(c,p,v){super(),this.id=c,this.dispatcher=v,this.on("data",_=>{_.dataType==="source"&&_.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&_.dataType==="source"&&_.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((_,E,D,j)=>{const U=new(Tt(E.type))(_,E,D,j);if(U.id!==_)throw new Error(`Expected Source id to be ${_} instead of ${U.id}`);return U})(c,p,v,this),this._tiles={},this._cache=new rr(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Tn,this._didEmitContent=!1,this._updated=!1}onAdd(c){this.map=c,this._maxTileCacheSize=c?c._maxTileCacheSize:null,this._maxTileCacheZoomLevels=c?c._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(c)}onRemove(c){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(c)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const c in this._tiles){const p=this._tiles[c];if(p.state!=="loaded"&&p.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const c=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,c&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(c,p){return this._source.loadTile(c,p)}_unloadTile(c){if(this._source.unloadTile)return this._source.unloadTile(c,()=>{})}_abortTile(c){this._source.abortTile&&this._source.abortTile(c,()=>{}),this._source.fire(new a.Event("dataabort",{tile:c,coord:c.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(c){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const p in this._tiles){const v=this._tiles[p];v.upload(c),v.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(c=>c.tileID).sort($n).map(c=>c.key)}getRenderableIds(c){const p=[];for(const v in this._tiles)this._isIdRenderable(v,c)&&p.push(this._tiles[v]);return c?p.sort((v,_)=>{const E=v.tileID,D=_.tileID,j=new a.Point(E.canonical.x,E.canonical.y)._rotate(this.transform.angle),U=new a.Point(D.canonical.x,D.canonical.y)._rotate(this.transform.angle);return E.overscaledZ-D.overscaledZ||U.y-j.y||U.x-j.x}).map(v=>v.tileID.key):p.map(v=>v.tileID).sort($n).map(v=>v.key)}hasRenderableParent(c){const p=this.findLoadedParent(c,0);return!!p&&this._isIdRenderable(p.tileID.key)}_isIdRenderable(c,p){return this._tiles[c]&&this._tiles[c].hasData()&&!this._coveredTiles[c]&&(p||!this._tiles[c].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const c in this._tiles)this._tiles[c].state!=="errored"&&this._reloadTile(c,"reloading")}}_reloadTile(c,p){const v=this._tiles[c];v&&(v.state!=="loading"&&(v.state=p),this._loadTile(v,this._tileLoaded.bind(this,v,c,p)))}_tileLoaded(c,p,v,_){if(_)return c.state="errored",void(_.status!==404?this._source.fire(new a.ErrorEvent(_,{tile:c})):this.update(this.transform,this.terrain));c.timeAdded=a.browser.now(),v==="expired"&&(c.refreshedUponExpiration=!0),this._setTileReloadTimer(p,c),this.getSource().type==="raster-dem"&&c.dem&&this._backfillDEM(c),this._state.initializeTileState(c,this.map?this.map.painter:null),c.aborted||this._source.fire(new a.Event("data",{dataType:"source",tile:c,coord:c.tileID}))}_backfillDEM(c){const p=this.getRenderableIds();for(let _=0;_<p.length;_++){const E=p[_];if(c.neighboringTiles&&c.neighboringTiles[E]){const D=this.getTileByID(E);v(c,D),v(D,c)}}function v(_,E){_.needsHillshadePrepare=!0,_.needsTerrainPrepare=!0;let D=E.tileID.canonical.x-_.tileID.canonical.x;const j=E.tileID.canonical.y-_.tileID.canonical.y,U=Math.pow(2,_.tileID.canonical.z),q=E.tileID.key;D===0&&j===0||Math.abs(j)>1||(Math.abs(D)>1&&(Math.abs(D+U)===1?D+=U:Math.abs(D-U)===1&&(D-=U)),E.dem&&_.dem&&(_.dem.backfillBorder(E.dem,D,j),_.neighboringTiles&&_.neighboringTiles[q]&&(_.neighboringTiles[q].backfilled=!0)))}}getTile(c){return this.getTileByID(c.key)}getTileByID(c){return this._tiles[c]}_retainLoadedChildren(c,p,v,_){for(const E in this._tiles){let D=this._tiles[E];if(_[E]||!D.hasData()||D.tileID.overscaledZ<=p||D.tileID.overscaledZ>v)continue;let j=D.tileID;for(;D&&D.tileID.overscaledZ>p+1;){const q=D.tileID.scaledTo(D.tileID.overscaledZ-1);D=this._tiles[q.key],D&&D.hasData()&&(j=q)}let U=j;for(;U.overscaledZ>p;)if(U=U.scaledTo(U.overscaledZ-1),c[U.key]){_[j.key]=j;break}}}findLoadedParent(c,p){if(c.key in this._loadedParentTiles){const v=this._loadedParentTiles[c.key];return v&&v.tileID.overscaledZ>=p?v:null}for(let v=c.overscaledZ-1;v>=p;v--){const _=c.scaledTo(v),E=this._getLoadedTile(_);if(E)return E}}_getLoadedTile(c){const p=this._tiles[c.key];return p&&p.hasData()?p:this._cache.getByKey(c.wrapped().key)}updateCacheSize(c){const p=Math.ceil(c.width/this._source.tileSize)+1,v=Math.ceil(c.height/this._source.tileSize)+1,_=Math.floor(p*v*(this._maxTileCacheZoomLevels===null?a.config.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),E=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,_):_;this._cache.setMaxSize(E)}handleWrapJump(c){const p=Math.round((c-(this._prevLng===void 0?c:this._prevLng))/360);if(this._prevLng=c,p){const v={};for(const _ in this._tiles){const E=this._tiles[_];E.tileID=E.tileID.unwrapTo(E.tileID.wrap+p),v[E.tileID.key]=E}this._tiles=v;for(const _ in this._timers)clearTimeout(this._timers[_]),delete this._timers[_];for(const _ in this._tiles)this._setTileReloadTimer(_,this._tiles[_])}}update(c,p){if(this.transform=c,this.terrain=p,!this._sourceLoaded||this._paused)return;let v;this.updateCacheSize(c),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?v=c.getVisibleUnwrappedCoordinates(this._source.tileID).map(Y=>new a.OverscaledTileID(Y.canonical.z,Y.wrap,Y.canonical.z,Y.canonical.x,Y.canonical.y)):(v=c.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:p}),this._source.hasTile&&(v=v.filter(Y=>this._source.hasTile(Y)))):v=[];const _=c.coveringZoomLevel(this._source),E=Math.max(_-Ne.maxOverzooming,this._source.minzoom),D=Math.max(_+Ne.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const Y={};for(const K of v)if(K.canonical.z>this._source.minzoom){const re=K.scaledTo(K.canonical.z-1);Y[re.key]=re;const de=K.scaledTo(Math.max(this._source.minzoom,Math.min(K.canonical.z,5)));Y[de.key]=de}v=v.concat(Object.values(Y))}const j=v.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,j&&this.fire(new a.Event("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const U=this._updateRetainedTiles(v,_);if(Hn(this._source.type)){const Y={},K={},re=Object.keys(U),de=a.browser.now();for(const ce of re){const me=U[ce],le=this._tiles[ce];if(!le||le.fadeEndTime!==0&&le.fadeEndTime<=de)continue;const Ae=this.findLoadedParent(me,E);Ae&&(this._addTile(Ae.tileID),Y[Ae.tileID.key]=Ae.tileID),K[ce]=me}this._retainLoadedChildren(K,_,D,U);for(const ce in Y)U[ce]||(this._coveredTiles[ce]=!0,U[ce]=Y[ce]);if(p){const ce={},me={};for(const le of v)this._tiles[le.key].hasData()?ce[le.key]=le:me[le.key]=le;for(const le in me){const Ae=me[le].children(this._source.maxzoom);this._tiles[Ae[0].key]&&this._tiles[Ae[1].key]&&this._tiles[Ae[2].key]&&this._tiles[Ae[3].key]&&(ce[Ae[0].key]=U[Ae[0].key]=Ae[0],ce[Ae[1].key]=U[Ae[1].key]=Ae[1],ce[Ae[2].key]=U[Ae[2].key]=Ae[2],ce[Ae[3].key]=U[Ae[3].key]=Ae[3],delete me[le])}for(const le in me){const Ae=this.findLoadedParent(me[le],this._source.minzoom);if(Ae){ce[Ae.tileID.key]=U[Ae.tileID.key]=Ae.tileID;for(const ze in ce)ce[ze].isChildOf(Ae.tileID)&&delete ce[ze]}}for(const le in this._tiles)ce[le]||(this._coveredTiles[le]=!0)}}for(const Y in U)this._tiles[Y].clearFadeHold();const q=a.keysDifference(this._tiles,U);for(const Y of q){const K=this._tiles[Y];K.hasSymbolBuckets&&!K.holdingForFade()?K.setHoldDuration(this.map._fadeDuration):K.hasSymbolBuckets&&!K.symbolFadeFinished()||this._removeTile(Y)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const c in this._tiles)this._tiles[c].holdingForFade()&&this._removeTile(c)}_updateRetainedTiles(c,p){const v={},_={},E=Math.max(p-Ne.maxOverzooming,this._source.minzoom),D=Math.max(p+Ne.maxUnderzooming,this._source.minzoom),j={};for(const U of c){const q=this._addTile(U);v[U.key]=U,q.hasData()||p<this._source.maxzoom&&(j[U.key]=U)}this._retainLoadedChildren(j,p,D,v);for(const U of c){let q=this._tiles[U.key];if(q.hasData())continue;if(p+1>this._source.maxzoom){const K=U.children(this._source.maxzoom)[0],re=this.getTile(K);if(re&&re.hasData()){v[K.key]=K;continue}}else{const K=U.children(this._source.maxzoom);if(v[K[0].key]&&v[K[1].key]&&v[K[2].key]&&v[K[3].key])continue}let Y=q.wasRequested();for(let K=U.overscaledZ-1;K>=E;--K){const re=U.scaledTo(K);if(_[re.key])break;if(_[re.key]=!0,q=this.getTile(re),!q&&Y&&(q=this._addTile(re)),q){const de=q.hasData();if((Y||de)&&(v[re.key]=re),Y=q.wasRequested(),de)break}}}return v}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const c in this._tiles){const p=[];let v,_=this._tiles[c].tileID;for(;_.overscaledZ>0;){if(_.key in this._loadedParentTiles){v=this._loadedParentTiles[_.key];break}p.push(_.key);const E=_.scaledTo(_.overscaledZ-1);if(v=this._getLoadedTile(E),v)break;_=E}for(const E of p)this._loadedParentTiles[E]=v}}_addTile(c){let p=this._tiles[c.key];if(p)return p;p=this._cache.getAndRemove(c),p&&(this._setTileReloadTimer(c.key,p),p.tileID=c,this._state.initializeTileState(p,this.map?this.map.painter:null),this._cacheTimers[c.key]&&(clearTimeout(this._cacheTimers[c.key]),delete this._cacheTimers[c.key],this._setTileReloadTimer(c.key,p)));const v=p;return p||(p=new _n(c,this._source.tileSize*c.overscaleFactor()),this._loadTile(p,this._tileLoaded.bind(this,p,c.key,p.state))),p.uses++,this._tiles[c.key]=p,v||this._source.fire(new a.Event("dataloading",{tile:p,coord:p.tileID,dataType:"source"})),p}_setTileReloadTimer(c,p){c in this._timers&&(clearTimeout(this._timers[c]),delete this._timers[c]);const v=p.getExpiryTimeout();v&&(this._timers[c]=setTimeout(()=>{this._reloadTile(c,"expired"),delete this._timers[c]},v))}_removeTile(c){const p=this._tiles[c];p&&(p.uses--,delete this._tiles[c],this._timers[c]&&(clearTimeout(this._timers[c]),delete this._timers[c]),p.uses>0||(p.hasData()&&p.state!=="reloading"?this._cache.add(p.tileID,p,p.getExpiryTimeout()):(p.aborted=!0,this._abortTile(p),this._unloadTile(p))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const c in this._tiles)this._removeTile(c);this._cache.reset()}tilesIn(c,p,v){const _=[],E=this.transform;if(!E)return _;const D=v?E.getCameraQueryGeometry(c):c,j=c.map(ce=>E.pointCoordinate(ce,this.terrain)),U=D.map(ce=>E.pointCoordinate(ce,this.terrain)),q=this.getIds();let Y=1/0,K=1/0,re=-1/0,de=-1/0;for(const ce of U)Y=Math.min(Y,ce.x),K=Math.min(K,ce.y),re=Math.max(re,ce.x),de=Math.max(de,ce.y);for(let ce=0;ce<q.length;ce++){const me=this._tiles[q[ce]];if(me.holdingForFade())continue;const le=me.tileID,Ae=Math.pow(2,E.zoom-me.tileID.overscaledZ),ze=p*me.queryPadding*a.EXTENT/me.tileSize/Ae,ve=[le.getTilePoint(new a.MercatorCoordinate(Y,K)),le.getTilePoint(new a.MercatorCoordinate(re,de))];if(ve[0].x-ze<a.EXTENT&&ve[0].y-ze<a.EXTENT&&ve[1].x+ze>=0&&ve[1].y+ze>=0){const Ie=j.map(Fe=>le.getTilePoint(Fe)),Be=U.map(Fe=>le.getTilePoint(Fe));_.push({tile:me,tileID:le,queryGeometry:Ie,cameraQueryGeometry:Be,scale:Ae})}}return _}getVisibleCoordinates(c){const p=this.getRenderableIds(c).map(v=>this._tiles[v].tileID);for(const v of p)v.posMatrix=this.transform.calculatePosMatrix(v.toUnwrapped());return p}hasTransition(){if(this._source.hasTransition())return!0;if(Hn(this._source.type)){const c=a.browser.now();for(const p in this._tiles)if(this._tiles[p].fadeEndTime>=c)return!0}return!1}setFeatureState(c,p,v){this._state.updateState(c=c||"_geojsonTileLayer",p,v)}removeFeatureState(c,p,v){this._state.removeFeatureState(c=c||"_geojsonTileLayer",p,v)}getFeatureState(c,p){return this._state.getState(c=c||"_geojsonTileLayer",p)}setDependencies(c,p,v){const _=this._tiles[c];_&&_.setDependencies(p,v)}reloadTilesForDependencies(c,p){for(const v in this._tiles)this._tiles[v].hasDependency(c,p)&&this._reloadTile(v,"reloading");this._cache.filter(v=>!v.hasDependency(c,p))}}function $n(w,c){const p=Math.abs(2*w.wrap)-+(w.wrap<0),v=Math.abs(2*c.wrap)-+(c.wrap<0);return w.overscaledZ-c.overscaledZ||v-p||c.canonical.y-w.canonical.y||c.canonical.x-w.canonical.x}function Hn(w){return w==="raster"||w==="image"||w==="video"}Ne.maxOverzooming=10,Ne.maxUnderzooming=3;const Dt="mapboxgl_preloaded_worker_pool";class Kt{constructor(){this.active={}}acquire(c){if(!this.workers)for(this.workers=[];this.workers.length<Kt.workerCount;)this.workers.push(new Worker(a.config.WORKER_URL));return this.active[c]=!0,this.workers.slice()}release(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach(p=>{p.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Dt]}numActive(){return Object.keys(this.active).length}}const ir=Math.floor(a.browser.hardwareConcurrency/2);let br;function Nn(){return br||(br=new Kt),br}Kt.workerCount=a.isSafari(globalThis)?Math.max(Math.min(ir,3),1):1;class rn{constructor(c,p){this.reset(c,p)}reset(c,p){this.points=c||[],this._distances=[0];for(let v=1;v<this.points.length;v++)this._distances[v]=this._distances[v-1]+this.points[v].dist(this.points[v-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(c){if(this.points.length===1)return this.points[0];c=a.clamp(c,0,1);let p=1,v=this._distances[p];const _=c*this.paddedLength+this.padding;for(;v<_&&p<this._distances.length;)v=this._distances[++p];const E=p-1,D=this._distances[E],j=v-D,U=j>0?(_-D)/j:0;return this.points[E].mult(1-U).add(this.points[p].mult(U))}}function Xn(w,c){let p=!0;return w==="always"||w!=="never"&&c!=="never"||(p=!1),p}class Ii{constructor(c,p,v){const _=this.boxCells=[],E=this.circleCells=[];this.xCellCount=Math.ceil(c/v),this.yCellCount=Math.ceil(p/v);for(let D=0;D<this.xCellCount*this.yCellCount;D++)_.push([]),E.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=p,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(c,p,v,_,E){this._forEachCell(p,v,_,E,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(p),this.bboxes.push(v),this.bboxes.push(_),this.bboxes.push(E)}insertCircle(c,p,v,_){this._forEachCell(p-_,v-_,p+_,v+_,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(p),this.circles.push(v),this.circles.push(_)}_insertBoxCell(c,p,v,_,E,D){this.boxCells[E].push(D)}_insertCircleCell(c,p,v,_,E,D){this.circleCells[E].push(D)}_query(c,p,v,_,E,D,j){if(v<0||c>this.width||_<0||p>this.height)return[];const U=[];if(c<=0&&p<=0&&this.width<=v&&this.height<=_){if(E)return[{key:null,x1:c,y1:p,x2:v,y2:_}];for(let q=0;q<this.boxKeys.length;q++)U.push({key:this.boxKeys[q],x1:this.bboxes[4*q],y1:this.bboxes[4*q+1],x2:this.bboxes[4*q+2],y2:this.bboxes[4*q+3]});for(let q=0;q<this.circleKeys.length;q++){const Y=this.circles[3*q],K=this.circles[3*q+1],re=this.circles[3*q+2];U.push({key:this.circleKeys[q],x1:Y-re,y1:K-re,x2:Y+re,y2:K+re})}}else this._forEachCell(c,p,v,_,this._queryCell,U,{hitTest:E,overlapMode:D,seenUids:{box:{},circle:{}}},j);return U}query(c,p,v,_){return this._query(c,p,v,_,!1,null)}hitTest(c,p,v,_,E,D){return this._query(c,p,v,_,!0,E,D).length>0}hitTestCircle(c,p,v,_,E){const D=c-v,j=c+v,U=p-v,q=p+v;if(j<0||D>this.width||q<0||U>this.height)return!1;const Y=[];return this._forEachCell(D,U,j,q,this._queryCellCircle,Y,{hitTest:!0,overlapMode:_,circle:{x:c,y:p,radius:v},seenUids:{box:{},circle:{}}},E),Y.length>0}_queryCell(c,p,v,_,E,D,j,U){const{seenUids:q,hitTest:Y,overlapMode:K}=j,re=this.boxCells[E];if(re!==null){const ce=this.bboxes;for(const me of re)if(!q.box[me]){q.box[me]=!0;const le=4*me,Ae=this.boxKeys[me];if(c<=ce[le+2]&&p<=ce[le+3]&&v>=ce[le+0]&&_>=ce[le+1]&&(!U||U(Ae))&&(!Y||!Xn(K,Ae.overlapMode))&&(D.push({key:Ae,x1:ce[le],y1:ce[le+1],x2:ce[le+2],y2:ce[le+3]}),Y))return!0}}const de=this.circleCells[E];if(de!==null){const ce=this.circles;for(const me of de)if(!q.circle[me]){q.circle[me]=!0;const le=3*me,Ae=this.circleKeys[me];if(this._circleAndRectCollide(ce[le],ce[le+1],ce[le+2],c,p,v,_)&&(!U||U(Ae))&&(!Y||!Xn(K,Ae.overlapMode))){const ze=ce[le],ve=ce[le+1],Ie=ce[le+2];if(D.push({key:Ae,x1:ze-Ie,y1:ve-Ie,x2:ze+Ie,y2:ve+Ie}),Y)return!0}}}return!1}_queryCellCircle(c,p,v,_,E,D,j,U){const{circle:q,seenUids:Y,overlapMode:K}=j,re=this.boxCells[E];if(re!==null){const ce=this.bboxes;for(const me of re)if(!Y.box[me]){Y.box[me]=!0;const le=4*me,Ae=this.boxKeys[me];if(this._circleAndRectCollide(q.x,q.y,q.radius,ce[le+0],ce[le+1],ce[le+2],ce[le+3])&&(!U||U(Ae))&&!Xn(K,Ae.overlapMode))return D.push(!0),!0}}const de=this.circleCells[E];if(de!==null){const ce=this.circles;for(const me of de)if(!Y.circle[me]){Y.circle[me]=!0;const le=3*me,Ae=this.circleKeys[me];if(this._circlesCollide(ce[le],ce[le+1],ce[le+2],q.x,q.y,q.radius)&&(!U||U(Ae))&&!Xn(K,Ae.overlapMode))return D.push(!0),!0}}}_forEachCell(c,p,v,_,E,D,j,U){const q=this._convertToXCellCoord(c),Y=this._convertToYCellCoord(p),K=this._convertToXCellCoord(v),re=this._convertToYCellCoord(_);for(let de=q;de<=K;de++)for(let ce=Y;ce<=re;ce++)if(E.call(this,c,p,v,_,this.xCellCount*ce+de,D,j,U))return}_convertToXCellCoord(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))}_convertToYCellCoord(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))}_circlesCollide(c,p,v,_,E,D){const j=_-c,U=E-p,q=v+D;return q*q>j*j+U*U}_circleAndRectCollide(c,p,v,_,E,D,j){const U=(D-_)/2,q=Math.abs(c-(_+U));if(q>U+v)return!1;const Y=(j-E)/2,K=Math.abs(p-(E+Y));if(K>Y+v)return!1;if(q<=U||K<=Y)return!0;const re=q-U,de=K-Y;return re*re+de*de<=v*v}}function gi(w,c,p,v,_){const E=a.create();return c?(a.scale(E,E,[1/_,1/_,1]),p||a.rotateZ(E,E,v.angle)):a.multiply(E,v.labelPlaneMatrix,w),E}function Ue(w,c,p,v,_){if(c){const E=a.clone(w);return a.scale(E,E,[_,_,1]),p||a.rotateZ(E,E,-v.angle),E}return v.glCoordMatrix}function un(w,c,p){let v;p?(v=[w.x,w.y,p(w.x,w.y),1],a.transformMat4(v,v,c)):(v=[w.x,w.y,0,1],se(v,v,c));const _=v[3];return{point:new a.Point(v[0]/_,v[1]/_),signedDistanceFromCamera:_}}function Rn(w,c){return .5+w/c*.5}function ki(w,c){const p=w[0]/w[3],v=w[1]/w[3];return p>=-c[0]&&p<=c[0]&&v>=-c[1]&&v<=c[1]}function qi(w,c,p,v,_,E,D,j,U,q){const Y=v?w.textSizeData:w.iconSizeData,K=a.evaluateSizeForZoom(Y,p.transform.zoom),re=[256/p.width*2+1,256/p.height*2+1],de=v?w.text.dynamicLayoutVertexArray:w.icon.dynamicLayoutVertexArray;de.clear();const ce=w.lineVertexArray,me=v?w.text.placedSymbolArray:w.icon.placedSymbolArray,le=p.transform.width/p.transform.height;let Ae=!1;for(let ze=0;ze<me.length;ze++){const ve=me.get(ze);if(ve.hidden||ve.writingMode===a.WritingMode.vertical&&!Ae){ne(ve.numGlyphs,de);continue}let Ie;if(Ae=!1,q?(Ie=[ve.anchorX,ve.anchorY,q(ve.anchorX,ve.anchorY),1],a.transformMat4(Ie,Ie,c)):(Ie=[ve.anchorX,ve.anchorY,0,1],se(Ie,Ie,c)),!ki(Ie,re)){ne(ve.numGlyphs,de);continue}const Be=Rn(p.transform.cameraToCenterDistance,Ie[3]),Fe=a.evaluateSizeForFeature(Y,K,ve),Ke=D?Fe/Be:Fe*Be,nt=new a.Point(ve.anchorX,ve.anchorY),tt=un(nt,_,q).point,st={projections:{},offsets:{}},$t=fn(ve,Ke,!1,j,c,_,E,w.glyphOffsetArray,ce,de,tt,nt,st,le,U,q);Ae=$t.useVertical,($t.notEnoughRoom||Ae||$t.needsFlipping&&fn(ve,Ke,!0,j,c,_,E,w.glyphOffsetArray,ce,de,tt,nt,st,le,U,q).notEnoughRoom)&&ne(ve.numGlyphs,de)}v?w.text.dynamicLayoutVertexBuffer.updateData(de):w.icon.dynamicLayoutVertexBuffer.updateData(de)}function ct(w,c,p,v,_,E,D,j,U,q,Y,K,re){const de=j.glyphStartIndex+j.numGlyphs,ce=j.lineStartIndex,me=j.lineStartIndex+j.lineLength,le=c.getoffsetX(j.glyphStartIndex),Ae=c.getoffsetX(de-1),ze=fe(w*le,p,v,_,E,D,j.segment,ce,me,U,q,Y,K,re);if(!ze)return null;const ve=fe(w*Ae,p,v,_,E,D,j.segment,ce,me,U,q,Y,K,re);return ve?{first:ze,last:ve}:null}function dn(w,c,p,v){return w===a.WritingMode.horizontal&&Math.abs(p.y-c.y)>Math.abs(p.x-c.x)*v?{useVertical:!0}:(w===a.WritingMode.vertical?c.y<p.y:c.x>p.x)?{needsFlipping:!0}:null}function fn(w,c,p,v,_,E,D,j,U,q,Y,K,re,de,ce,me){const le=c/24,Ae=w.lineOffsetX*le,ze=w.lineOffsetY*le;let ve;if(w.numGlyphs>1){const Ie=w.glyphStartIndex+w.numGlyphs,Be=w.lineStartIndex,Fe=w.lineStartIndex+w.lineLength,Ke=ct(le,j,Ae,ze,p,Y,K,w,U,E,re,ce,me);if(!Ke)return{notEnoughRoom:!0};const nt=un(Ke.first.point,D,me).point,tt=un(Ke.last.point,D,me).point;if(v&&!p){const st=dn(w.writingMode,nt,tt,de);if(st)return st}ve=[Ke.first];for(let st=w.glyphStartIndex+1;st<Ie-1;st++)ve.push(fe(le*j.getoffsetX(st),Ae,ze,p,Y,K,w.segment,Be,Fe,U,E,re,ce,me));ve.push(Ke.last)}else{if(v&&!p){const Be=un(K,_,me).point,Fe=w.lineStartIndex+w.segment+1,Ke=new a.Point(U.getx(Fe),U.gety(Fe)),nt=un(Ke,_,me),tt=nt.signedDistanceFromCamera>0?nt.point:$i(K,Ke,Be,1,_,me),st=dn(w.writingMode,Be,tt,de);if(st)return st}const Ie=fe(le*j.getoffsetX(w.glyphStartIndex),Ae,ze,p,Y,K,w.segment,w.lineStartIndex,w.lineStartIndex+w.lineLength,U,E,re,ce,me);if(!Ie)return{notEnoughRoom:!0};ve=[Ie]}for(const Ie of ve)a.addDynamicAttributes(q,Ie.point,Ie.angle);return{}}function $i(w,c,p,v,_,E){const D=un(w.add(w.sub(c)._unit()),_,E).point,j=p.sub(D);return p.add(j._mult(v/j.mag()))}function Uo(w,c){const{projectionCache:p,lineVertexArray:v,labelPlaneMatrix:_,tileAnchorPoint:E,distanceFromAnchor:D,getElevation:j,previousVertex:U,direction:q,absOffsetX:Y}=c;if(p.projections[w])return p.projections[w];const K=new a.Point(v.getx(w),v.gety(w)),re=un(K,_,j);if(re.signedDistanceFromCamera>0)return p.projections[w]=re.point,re.point;const de=w-q;return $i(D===0?E:new a.Point(v.getx(de),v.gety(de)),K,U,Y-D+1,_,j)}function sn(w,c,p){return w._unit()._perp()._mult(c*p)}function as(w,c,p,v,_,E,D,j){const{projectionCache:U,direction:q}=j;if(U.offsets[w])return U.offsets[w];const Y=p.add(c);if(w+q<v||w+q>=_)return U.offsets[w]=Y,Y;const K=Uo(w+q,j),re=sn(K.sub(p),D,q),de=p.add(re),ce=K.add(re);return U.offsets[w]=a.findLineIntersection(E,Y,de,ce)||Y,U.offsets[w]}function fe(w,c,p,v,_,E,D,j,U,q,Y,K,re,de){const ce=v?w-c:w+c;let me=ce>0?1:-1,le=0;v&&(me*=-1,le=Math.PI),me<0&&(le+=Math.PI);let Ae,ze,ve=me>0?j+D:j+D+1,Ie=_,Be=_,Fe=0,Ke=0;const nt=Math.abs(ce),tt=[];let st;for(;Fe+Ke<=nt;){if(ve+=me,ve<j||ve>=U)return null;Fe+=Ke,Be=Ie,ze=Ae;const bt={projectionCache:K,lineVertexArray:q,labelPlaneMatrix:Y,tileAnchorPoint:E,distanceFromAnchor:Fe,getElevation:de,previousVertex:Be,direction:me,absOffsetX:nt};if(Ie=Uo(ve,bt),p===0)tt.push(Be),st=Ie.sub(Be);else{let Qt;const Nt=Ie.sub(Be);Qt=Nt.mag()===0?sn(Uo(ve+me,bt).sub(Ie),p,me):sn(Nt,p,me),ze||(ze=Be.add(Qt)),Ae=as(ve,Qt,Ie,j,U,ze,p,bt),tt.push(ze),st=Ae.sub(ze)}Ke=st.mag()}const $t=st._mult((nt-Fe)/Ke)._add(ze||Be),wn=le+Math.atan2(Ie.y-Be.y,Ie.x-Be.x);return tt.push($t),{point:$t,angle:re?wn:0,path:tt}}const X=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ne(w,c){for(let p=0;p<w;p++){const v=c.length;c.resize(v+4),c.float32.set(X,3*v)}}function se(w,c,p){const v=c[0],_=c[1];return w[0]=p[0]*v+p[4]*_+p[12],w[1]=p[1]*v+p[5]*_+p[13],w[3]=p[3]*v+p[7]*_+p[15],w}const he=100;class be{constructor(c,p=new Ii(c.width+200,c.height+200,25),v=new Ii(c.width+200,c.height+200,25)){this.transform=c,this.grid=p,this.ignoredGrid=v,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+he,this.screenBottomBoundary=c.height+he,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(c,p,v,_,E,D){const j=this.projectAndGetPerspectiveRatio(_,c.anchorPointX,c.anchorPointY,D),U=v*j.perspectiveRatio,q=c.x1*U+j.point.x,Y=c.y1*U+j.point.y,K=c.x2*U+j.point.x,re=c.y2*U+j.point.y;return!this.isInsideGrid(q,Y,K,re)||p!=="always"&&this.grid.hitTest(q,Y,K,re,p,E)||j.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[q,Y,K,re],offscreen:this.isOffscreen(q,Y,K,re)}}placeCollisionCircles(c,p,v,_,E,D,j,U,q,Y,K,re,de,ce){const me=[],le=new a.Point(p.anchorX,p.anchorY),Ae=un(le,D,ce),ze=Rn(this.transform.cameraToCenterDistance,Ae.signedDistanceFromCamera),ve=(Y?E/ze:E*ze)/a.ONE_EM,Ie=un(le,j,ce).point,Be=ct(ve,_,p.lineOffsetX*ve,p.lineOffsetY*ve,!1,Ie,le,p,v,j,{projections:{},offsets:{}},!1,ce);let Fe=!1,Ke=!1,nt=!0;if(Be){const tt=.5*re*ze+de,st=new a.Point(-100,-100),$t=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),wn=new rn,bt=Be.first,Qt=Be.last;let Nt=[];for(let gn=bt.path.length-1;gn>=1;gn--)Nt.push(bt.path[gn]);for(let gn=1;gn<Qt.path.length;gn++)Nt.push(Qt.path[gn]);const Or=2.5*tt;if(U){const gn=Nt.map(Sn=>un(Sn,U,ce));Nt=gn.some(Sn=>Sn.signedDistanceFromCamera<=0)?[]:gn.map(Sn=>Sn.point)}let pn=[];if(Nt.length>0){const gn=Nt[0].clone(),Sn=Nt[0].clone();for(let Qr=1;Qr<Nt.length;Qr++)gn.x=Math.min(gn.x,Nt[Qr].x),gn.y=Math.min(gn.y,Nt[Qr].y),Sn.x=Math.max(Sn.x,Nt[Qr].x),Sn.y=Math.max(Sn.y,Nt[Qr].y);pn=gn.x>=st.x&&Sn.x<=$t.x&&gn.y>=st.y&&Sn.y<=$t.y?[Nt]:Sn.x<st.x||gn.x>$t.x||Sn.y<st.y||gn.y>$t.y?[]:a.clipLine([Nt],st.x,st.y,$t.x,$t.y)}for(const gn of pn){wn.reset(gn,.25*tt);let Sn=0;Sn=wn.length<=.5*tt?1:Math.ceil(wn.paddedLength/Or)+1;for(let Qr=0;Qr<Sn;Qr++){const cr=Qr/Math.max(Sn-1,1),ma=wn.lerp(cr),Wr=ma.x+he,Lr=ma.y+he;me.push(Wr,Lr,tt,0);const Zo=Wr-tt,fs=Lr-tt,Ar=Wr+tt,Rl=Lr+tt;if(nt=nt&&this.isOffscreen(Zo,fs,Ar,Rl),Ke=Ke||this.isInsideGrid(Zo,fs,Ar,Rl),c!=="always"&&this.grid.hitTestCircle(Wr,Lr,tt,c,K)&&(Fe=!0,!q))return{circles:[],offscreen:!1,collisionDetected:Fe}}}}return{circles:!q&&Fe||!Ke||ze<this.perspectiveRatioCutoff?[]:me,offscreen:nt,collisionDetected:Fe}}queryRenderedSymbols(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const p=[];let v=1/0,_=1/0,E=-1/0,D=-1/0;for(const Y of c){const K=new a.Point(Y.x+he,Y.y+he);v=Math.min(v,K.x),_=Math.min(_,K.y),E=Math.max(E,K.x),D=Math.max(D,K.y),p.push(K)}const j=this.grid.query(v,_,E,D).concat(this.ignoredGrid.query(v,_,E,D)),U={},q={};for(const Y of j){const K=Y.key;if(U[K.bucketInstanceId]===void 0&&(U[K.bucketInstanceId]={}),U[K.bucketInstanceId][K.featureIndex])continue;const re=[new a.Point(Y.x1,Y.y1),new a.Point(Y.x2,Y.y1),new a.Point(Y.x2,Y.y2),new a.Point(Y.x1,Y.y2)];a.polygonIntersectsPolygon(p,re)&&(U[K.bucketInstanceId][K.featureIndex]=!0,q[K.bucketInstanceId]===void 0&&(q[K.bucketInstanceId]=[]),q[K.bucketInstanceId].push(K.featureIndex))}return q}insertCollisionBox(c,p,v,_,E,D){(v?this.ignoredGrid:this.grid).insert({bucketInstanceId:_,featureIndex:E,collisionGroupID:D,overlapMode:p},c[0],c[1],c[2],c[3])}insertCollisionCircles(c,p,v,_,E,D){const j=v?this.ignoredGrid:this.grid,U={bucketInstanceId:_,featureIndex:E,collisionGroupID:D,overlapMode:p};for(let q=0;q<c.length;q+=4)j.insertCircle(U,c[q],c[q+1],c[q+2])}projectAndGetPerspectiveRatio(c,p,v,_){let E;return _?(E=[p,v,_(p,v),1],a.transformMat4(E,E,c)):(E=[p,v,0,1],se(E,E,c)),{point:new a.Point((E[0]/E[3]+1)/2*this.transform.width+he,(-E[1]/E[3]+1)/2*this.transform.height+he),perspectiveRatio:.5+this.transform.cameraToCenterDistance/E[3]*.5}}isOffscreen(c,p,v,_){return v<he||c>=this.screenRightBoundary||_<he||p>this.screenBottomBoundary}isInsideGrid(c,p,v,_){return v>=0&&c<this.gridRightBoundary&&_>=0&&p<this.gridBottomBoundary}getViewportMatrix(){const c=a.identity([]);return a.translate(c,c,[-100,-100,0]),c}}function Me(w,c,p){return c*(a.EXTENT/(w.tileSize*Math.pow(2,p-w.tileID.overscaledZ)))}class ke{constructor(c,p,v,_){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?p:-p))):_&&v?1:0,this.placed=v}isHidden(){return this.opacity===0&&!this.placed}}class _e{constructor(c,p,v,_,E){this.text=new ke(c?c.text:null,p,v,E),this.icon=new ke(c?c.icon:null,p,_,E)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class $e{constructor(c,p,v){this.text=c,this.icon=p,this.skipFade=v}}class qe{constructor(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]}}class Ye{constructor(c,p,v,_,E){this.bucketInstanceId=c,this.featureIndex=p,this.sourceLayerIndex=v,this.bucketIndex=_,this.tileID=E}}class Xe{constructor(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}}get(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){const p=++this.maxGroupID;this.collisionGroups[c]={ID:p,predicate:v=>v.collisionGroupID===p}}return this.collisionGroups[c]}}function Lt(w,c,p,v,_){const{horizontalAlign:E,verticalAlign:D}=a.getAnchorAlignment(w);return new a.Point(-(E-.5)*c+v[0]*_,-(D-.5)*p+v[1]*_)}function Jt(w,c,p,v,_,E){const{x1:D,x2:j,y1:U,y2:q,anchorPointX:Y,anchorPointY:K}=w,re=new a.Point(c,p);return v&&re._rotate(_?E:-E),{x1:D+re.x,y1:U+re.y,x2:j+re.x,y2:q+re.y,anchorPointX:Y,anchorPointY:K}}class It{constructor(c,p,v,_,E){this.transform=c.clone(),this.terrain=p,this.collisionIndex=new be(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=v,this.retainedQueryData={},this.collisionGroups=new Xe(_),this.collisionCircleArrays={},this.prevPlacement=E,E&&(E.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(c,p,v,_){const E=v.getBucket(p),D=v.latestFeatureIndex;if(!E||!D||p.id!==E.layerIds[0])return;const j=v.collisionBoxArray,U=E.layers[0].layout,q=Math.pow(2,this.transform.zoom-v.tileID.overscaledZ),Y=v.tileSize/a.EXTENT,K=this.transform.calculatePosMatrix(v.tileID.toUnwrapped()),re=U.get("text-pitch-alignment")==="map",de=U.get("text-rotation-alignment")==="map",ce=Me(v,1,this.transform.zoom),me=gi(K,re,de,this.transform,ce);let le=null;if(re){const ze=Ue(K,re,de,this.transform,ce);le=a.multiply([],this.transform.labelPlaneMatrix,ze)}this.retainedQueryData[E.bucketInstanceId]=new Ye(E.bucketInstanceId,D,E.sourceLayerIndex,E.index,v.tileID);const Ae={bucket:E,layout:U,posMatrix:K,textLabelPlaneMatrix:me,labelToScreenMatrix:le,scale:q,textPixelRatio:Y,holdingForFade:v.holdingForFade(),collisionBoxArray:j,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(E.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(E.sourceID)};if(_)for(const ze of E.sortKeyRanges){const{sortKey:ve,symbolInstanceStart:Ie,symbolInstanceEnd:Be}=ze;c.push({sortKey:ve,symbolInstanceStart:Ie,symbolInstanceEnd:Be,parameters:Ae})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:E.symbolInstances.length,parameters:Ae})}attemptAnchorPlacement(c,p,v,_,E,D,j,U,q,Y,K,re,de,ce,me,le){const Ae=a.TextAnchorEnum[c.textAnchor],ze=[c.textOffset0,c.textOffset1],ve=Lt(Ae,v,_,ze,E),Ie=this.collisionIndex.placeCollisionBox(Jt(p,ve.x,ve.y,D,j,this.transform.angle),K,U,q,Y.predicate,le);if((!me||this.collisionIndex.placeCollisionBox(Jt(me,ve.x,ve.y,D,j,this.transform.angle),K,U,q,Y.predicate,le).box.length!==0)&&Ie.box.length>0){let Be;if(this.prevPlacement&&this.prevPlacement.variableOffsets[re.crossTileID]&&this.prevPlacement.placements[re.crossTileID]&&this.prevPlacement.placements[re.crossTileID].text&&(Be=this.prevPlacement.variableOffsets[re.crossTileID].anchor),re.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[re.crossTileID]={textOffset:ze,width:v,height:_,anchor:Ae,textBoxScale:E,prevAnchor:Be},this.markUsedJustification(de,Ae,re,ce),de.allowVerticalPlacement&&(this.markUsedOrientation(de,ce,re),this.placedOrientations[re.crossTileID]=ce),{shift:ve,placedGlyphBoxes:Ie}}}placeLayerBucketPart(c,p,v){const{bucket:_,layout:E,posMatrix:D,textLabelPlaneMatrix:j,labelToScreenMatrix:U,textPixelRatio:q,holdingForFade:Y,collisionBoxArray:K,partiallyEvaluatedTextSize:re,collisionGroup:de}=c.parameters,ce=E.get("text-optional"),me=E.get("icon-optional"),le=a.getOverlapMode(E,"text-overlap","text-allow-overlap"),Ae=le==="always",ze=a.getOverlapMode(E,"icon-overlap","icon-allow-overlap"),ve=ze==="always",Ie=E.get("text-rotation-alignment")==="map",Be=E.get("text-pitch-alignment")==="map",Fe=E.get("icon-text-fit")!=="none",Ke=E.get("symbol-z-order")==="viewport-y",nt=Ae&&(ve||!_.hasIconData()||me),tt=ve&&(Ae||!_.hasTextData()||ce);!_.collisionArrays&&K&&_.deserializeCollisionBoxes(K);const st=this.retainedQueryData[_.bucketInstanceId].tileID,$t=this.terrain?(bt,Qt)=>this.terrain.getElevation(st,bt,Qt):null,wn=(bt,Qt)=>{var Nt,Or;if(p[bt.crossTileID])return;if(Y)return void(this.placements[bt.crossTileID]=new $e(!1,!1,!1));let pn=!1,gn=!1,Sn=!0,Qr=null,cr={box:null,offscreen:null},ma={box:null,offscreen:null},Wr=null,Lr=null,Zo=null,fs=0,Ar=0,Rl=0;Qt.textFeatureIndex?fs=Qt.textFeatureIndex:bt.useRuntimeCollisionCircles&&(fs=bt.featureIndex),Qt.verticalTextFeatureIndex&&(Ar=Qt.verticalTextFeatureIndex);const Dl=Qt.textBox;if(Dl){const so=ei=>{let ti=a.WritingMode.horizontal;if(_.allowVerticalPlacement&&!ei&&this.prevPlacement){const Xo=this.prevPlacement.placedOrientations[bt.crossTileID];Xo&&(this.placedOrientations[bt.crossTileID]=Xo,ti=Xo,this.markUsedOrientation(_,ti,bt))}return ti},Di=(ei,ti)=>{if(_.allowVerticalPlacement&&bt.numVerticalGlyphVertices>0&&Qt.verticalTextBox){for(const Xo of _.writingModes)if(Xo===a.WritingMode.vertical?(cr=ti(),ma=cr):cr=ei(),cr&&cr.box&&cr.box.length)break}else cr=ei()},Gi=bt.textAnchorOffsetStartIndex,vf=bt.textAnchorOffsetEndIndex;if(vf===Gi){const ei=(ti,Xo)=>{const ni=this.collisionIndex.placeCollisionBox(ti,le,q,D,de.predicate,$t);return ni&&ni.box&&ni.box.length&&(this.markUsedOrientation(_,Xo,bt),this.placedOrientations[bt.crossTileID]=Xo),ni};Di(()=>ei(Dl,a.WritingMode.horizontal),()=>{const ti=Qt.verticalTextBox;return _.allowVerticalPlacement&&bt.numVerticalGlyphVertices>0&&ti?ei(ti,a.WritingMode.vertical):{box:null,offscreen:null}}),so(cr&&cr.box&&cr.box.length)}else{let ei=a.TextAnchorEnum[(Or=(Nt=this.prevPlacement)===null||Nt===void 0?void 0:Nt.variableOffsets[bt.crossTileID])===null||Or===void 0?void 0:Or.anchor];const ti=(ni,dp,wc)=>{const fp=ni.x2-ni.x1,f_=ni.y2-ni.y1,h_=bt.textBoxScale,cT=Fe&&ze==="never"?dp:null;let Ll={box:[],offscreen:!1},Nu=le==="never"?1:2,Sc="never";ei&&Nu++;for(let hs=0;hs<Nu;hs++){for(let Jo=Gi;Jo<vf;Jo++){const Xs=_.textAnchorOffsets.get(Jo);if(ei&&Xs.textAnchor!==ei)continue;const hp=this.attemptAnchorPlacement(Xs,ni,fp,f_,h_,Ie,Be,q,D,de,Sc,bt,_,wc,cT,$t);if(hp&&(Ll=hp.placedGlyphBoxes,Ll&&Ll.box&&Ll.box.length))return pn=!0,Qr=hp.shift,Ll}ei?ei=null:Sc=le}return Ll};Di(()=>ti(Dl,Qt.iconBox,a.WritingMode.horizontal),()=>{const ni=Qt.verticalTextBox;return _.allowVerticalPlacement&&!(cr&&cr.box&&cr.box.length)&&bt.numVerticalGlyphVertices>0&&ni?ti(ni,Qt.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}}),cr&&(pn=cr.box,Sn=cr.offscreen);const Xo=so(cr&&cr.box);if(!pn&&this.prevPlacement){const ni=this.prevPlacement.variableOffsets[bt.crossTileID];ni&&(this.variableOffsets[bt.crossTileID]=ni,this.markUsedJustification(_,ni.anchor,bt,Xo))}}}if(Wr=cr,pn=Wr&&Wr.box&&Wr.box.length>0,Sn=Wr&&Wr.offscreen,bt.useRuntimeCollisionCircles){const so=_.text.placedSymbolArray.get(bt.centerJustifiedTextSymbolIndex),Di=a.evaluateSizeForFeature(_.textSizeData,re,so),Gi=E.get("text-padding");Lr=this.collisionIndex.placeCollisionCircles(le,so,_.lineVertexArray,_.glyphOffsetArray,Di,D,j,U,v,Be,de.predicate,bt.collisionCircleDiameter,Gi,$t),Lr.circles.length&&Lr.collisionDetected&&!v&&a.warnOnce("Collisions detected, but collision boxes are not shown"),pn=Ae||Lr.circles.length>0&&!Lr.collisionDetected,Sn=Sn&&Lr.offscreen}if(Qt.iconFeatureIndex&&(Rl=Qt.iconFeatureIndex),Qt.iconBox){const so=Di=>{const Gi=Fe&&Qr?Jt(Di,Qr.x,Qr.y,Ie,Be,this.transform.angle):Di;return this.collisionIndex.placeCollisionBox(Gi,ze,q,D,de.predicate,$t)};ma&&ma.box&&ma.box.length&&Qt.verticalIconBox?(Zo=so(Qt.verticalIconBox),gn=Zo.box.length>0):(Zo=so(Qt.iconBox),gn=Zo.box.length>0),Sn=Sn&&Zo.offscreen}const Zs=ce||bt.numHorizontalGlyphVertices===0&&bt.numVerticalGlyphVertices===0,_c=me||bt.numIconVertices===0;if(Zs||_c?_c?Zs||(gn=gn&&pn):pn=gn&&pn:gn=pn=gn&&pn,pn&&Wr&&Wr.box&&this.collisionIndex.insertCollisionBox(Wr.box,le,E.get("text-ignore-placement"),_.bucketInstanceId,ma&&ma.box&&Ar?Ar:fs,de.ID),gn&&Zo&&this.collisionIndex.insertCollisionBox(Zo.box,ze,E.get("icon-ignore-placement"),_.bucketInstanceId,Rl,de.ID),Lr&&(pn&&this.collisionIndex.insertCollisionCircles(Lr.circles,le,E.get("text-ignore-placement"),_.bucketInstanceId,fs,de.ID),v)){const so=_.bucketInstanceId;let Di=this.collisionCircleArrays[so];Di===void 0&&(Di=this.collisionCircleArrays[so]=new qe);for(let Gi=0;Gi<Lr.circles.length;Gi+=4)Di.circles.push(Lr.circles[Gi+0]),Di.circles.push(Lr.circles[Gi+1]),Di.circles.push(Lr.circles[Gi+2]),Di.circles.push(Lr.collisionDetected?1:0)}if(bt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(_.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[bt.crossTileID]=new $e(pn||nt,gn||tt,Sn||_.justReloaded),p[bt.crossTileID]=!0};if(Ke){if(c.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const bt=_.getSortedSymbolIndexes(this.transform.angle);for(let Qt=bt.length-1;Qt>=0;--Qt){const Nt=bt[Qt];wn(_.symbolInstances.get(Nt),_.collisionArrays[Nt])}}else for(let bt=c.symbolInstanceStart;bt<c.symbolInstanceEnd;bt++)wn(_.symbolInstances.get(bt),_.collisionArrays[bt]);if(v&&_.bucketInstanceId in this.collisionCircleArrays){const bt=this.collisionCircleArrays[_.bucketInstanceId];a.invert(bt.invProjMatrix,D),bt.viewportMatrix=this.collisionIndex.getViewportMatrix()}_.justReloaded=!1}markUsedJustification(c,p,v,_){let E;E=_===a.WritingMode.vertical?v.verticalPlacedTextSymbolIndex:{left:v.leftJustifiedTextSymbolIndex,center:v.centerJustifiedTextSymbolIndex,right:v.rightJustifiedTextSymbolIndex}[a.getAnchorJustification(p)];const D=[v.leftJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.rightJustifiedTextSymbolIndex,v.verticalPlacedTextSymbolIndex];for(const j of D)j>=0&&(c.text.placedSymbolArray.get(j).crossTileID=E>=0&&j!==E?0:v.crossTileID)}markUsedOrientation(c,p,v){const _=p===a.WritingMode.horizontal||p===a.WritingMode.horizontalOnly?p:0,E=p===a.WritingMode.vertical?p:0,D=[v.leftJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.rightJustifiedTextSymbolIndex];for(const j of D)c.text.placedSymbolArray.get(j).placedOrientation=_;v.verticalPlacedTextSymbolIndex&&(c.text.placedSymbolArray.get(v.verticalPlacedTextSymbolIndex).placedOrientation=E)}commit(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;const p=this.prevPlacement;let v=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;const _=p?p.symbolFadeChange(c):1,E=p?p.opacities:{},D=p?p.variableOffsets:{},j=p?p.placedOrientations:{};for(const U in this.placements){const q=this.placements[U],Y=E[U];Y?(this.opacities[U]=new _e(Y,_,q.text,q.icon),v=v||q.text!==Y.text.placed||q.icon!==Y.icon.placed):(this.opacities[U]=new _e(null,_,q.text,q.icon,q.skipFade),v=v||q.text||q.icon)}for(const U in E){const q=E[U];if(!this.opacities[U]){const Y=new _e(q,_,!1,!1);Y.isHidden()||(this.opacities[U]=Y,v=v||q.text.placed||q.icon.placed)}}for(const U in D)this.variableOffsets[U]||!this.opacities[U]||this.opacities[U].isHidden()||(this.variableOffsets[U]=D[U]);for(const U in j)this.placedOrientations[U]||!this.opacities[U]||this.opacities[U].isHidden()||(this.placedOrientations[U]=j[U]);if(p&&p.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");v?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:c)}updateLayerOpacities(c,p){const v={};for(const _ of p){const E=_.getBucket(c);E&&_.latestFeatureIndex&&c.id===E.layerIds[0]&&this.updateBucketOpacities(E,v,_.collisionBoxArray)}}updateBucketOpacities(c,p,v){c.hasTextData()&&(c.text.opacityVertexArray.clear(),c.text.hasVisibleVertices=!1),c.hasIconData()&&(c.icon.opacityVertexArray.clear(),c.icon.hasVisibleVertices=!1),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();const _=c.layers[0],E=_.layout,D=new _e(null,0,!1,!1,!0),j=E.get("text-allow-overlap"),U=E.get("icon-allow-overlap"),q=_._unevaluatedLayout.hasValue("text-variable-anchor")||_._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Y=E.get("text-rotation-alignment")==="map",K=E.get("text-pitch-alignment")==="map",re=E.get("icon-text-fit")!=="none",de=new _e(null,0,j&&(U||!c.hasIconData()||E.get("icon-optional")),U&&(j||!c.hasTextData()||E.get("text-optional")),!0);!c.collisionArrays&&v&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(v);const ce=(me,le,Ae)=>{for(let ze=0;ze<le/4;ze++)me.opacityVertexArray.emplaceBack(Ae);me.hasVisibleVertices=me.hasVisibleVertices||Ae!==ci};for(let me=0;me<c.symbolInstances.length;me++){const le=c.symbolInstances.get(me),{numHorizontalGlyphVertices:Ae,numVerticalGlyphVertices:ze,crossTileID:ve}=le;let Ie=this.opacities[ve];p[ve]?Ie=D:Ie||(Ie=de,this.opacities[ve]=Ie),p[ve]=!0;const Be=le.numIconVertices>0,Fe=this.placedOrientations[le.crossTileID],Ke=Fe===a.WritingMode.vertical,nt=Fe===a.WritingMode.horizontal||Fe===a.WritingMode.horizontalOnly;if(Ae>0||ze>0){const tt=Fn(Ie.text);ce(c.text,Ae,Ke?ci:tt),ce(c.text,ze,nt?ci:tt);const st=Ie.text.isHidden();[le.rightJustifiedTextSymbolIndex,le.centerJustifiedTextSymbolIndex,le.leftJustifiedTextSymbolIndex].forEach(bt=>{bt>=0&&(c.text.placedSymbolArray.get(bt).hidden=st||Ke?1:0)}),le.verticalPlacedTextSymbolIndex>=0&&(c.text.placedSymbolArray.get(le.verticalPlacedTextSymbolIndex).hidden=st||nt?1:0);const $t=this.variableOffsets[le.crossTileID];$t&&this.markUsedJustification(c,$t.anchor,le,Fe);const wn=this.placedOrientations[le.crossTileID];wn&&(this.markUsedJustification(c,"left",le,wn),this.markUsedOrientation(c,wn,le))}if(Be){const tt=Fn(Ie.icon),st=!(re&&le.verticalPlacedIconSymbolIndex&&Ke);le.placedIconSymbolIndex>=0&&(ce(c.icon,le.numIconVertices,st?tt:ci),c.icon.placedSymbolArray.get(le.placedIconSymbolIndex).hidden=Ie.icon.isHidden()),le.verticalPlacedIconSymbolIndex>=0&&(ce(c.icon,le.numVerticalIconVertices,st?ci:tt),c.icon.placedSymbolArray.get(le.verticalPlacedIconSymbolIndex).hidden=Ie.icon.isHidden())}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){const tt=c.collisionArrays[me];if(tt){let st=new a.Point(0,0);if(tt.textBox||tt.verticalTextBox){let wn=!0;if(q){const bt=this.variableOffsets[ve];bt?(st=Lt(bt.anchor,bt.width,bt.height,bt.textOffset,bt.textBoxScale),Y&&st._rotate(K?this.transform.angle:-this.transform.angle)):wn=!1}tt.textBox&&jt(c.textCollisionBox.collisionVertexArray,Ie.text.placed,!wn||Ke,st.x,st.y),tt.verticalTextBox&&jt(c.textCollisionBox.collisionVertexArray,Ie.text.placed,!wn||nt,st.x,st.y)}const $t=!!(!nt&&tt.verticalIconBox);tt.iconBox&&jt(c.iconCollisionBox.collisionVertexArray,Ie.icon.placed,$t,re?st.x:0,re?st.y:0),tt.verticalIconBox&&jt(c.iconCollisionBox.collisionVertexArray,Ie.icon.placed,!$t,re?st.x:0,re?st.y:0)}}}if(c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.text.opacityVertexArray.length!==c.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${c.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${c.text.layoutVertexArray.length}) / 4`);if(c.icon.opacityVertexArray.length!==c.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${c.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${c.icon.layoutVertexArray.length}) / 4`);if(c.bucketInstanceId in this.collisionCircleArrays){const me=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=me.invProjMatrix,c.placementViewportMatrix=me.viewportMatrix,c.collisionCircleArray=me.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}}symbolFadeChange(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(c){return Math.max(0,(this.transform.zoom-c)/1.5)}hasTransitions(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(c,p){const v=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*v>c}setStale(){this.stale=!0}}function jt(w,c,p,v,_){w.emplaceBack(c?1:0,p?1:0,v||0,_||0),w.emplaceBack(c?1:0,p?1:0,v||0,_||0),w.emplaceBack(c?1:0,p?1:0,v||0,_||0),w.emplaceBack(c?1:0,p?1:0,v||0,_||0)}const ln=Math.pow(2,25),Bn=Math.pow(2,24),Yn=Math.pow(2,17),In=Math.pow(2,16),kn=Math.pow(2,9),Pi=Math.pow(2,8),Ut=Math.pow(2,1);function Fn(w){if(w.opacity===0&&!w.placed)return 0;if(w.opacity===1&&w.placed)return 4294967295;const c=w.placed?1:0,p=Math.floor(127*w.opacity);return p*ln+c*Bn+p*Yn+c*In+p*kn+c*Pi+p*Ut+c}const ci=0;class Pl{constructor(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&!c.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(c,p,v,_,E){const D=this._bucketParts;for(;this._currentTileIndex<c.length;)if(p.getBucketParts(D,_,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,E())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,D.sort((j,U)=>j.sortKey-U.sortKey));this._currentPartIndex<D.length;)if(p.placeLayerBucketPart(D[this._currentPartIndex],this._seenCrossTileIDs,v),this._currentPartIndex++,E())return!0;return!1}}class Dx{constructor(c,p,v,_,E,D,j,U){this.placement=new It(c,p,D,j,U),this._currentPlacementIndex=v.length-1,this._forceFullPlacement=_,this._showCollisionBoxes=E,this._done=!1}isDone(){return this._done}continuePlacement(c,p,v){const _=a.browser.now(),E=()=>!this._forceFullPlacement&&a.browser.now()-_>2;for(;this._currentPlacementIndex>=0;){const D=p[c[this._currentPlacementIndex]],j=this.placement.collisionIndex.transform.zoom;if(D.type==="symbol"&&(!D.minzoom||D.minzoom<=j)&&(!D.maxzoom||D.maxzoom>j)){if(this._inProgressLayer||(this._inProgressLayer=new Pl(D)),this._inProgressLayer.continuePlacement(v[D.source],this.placement,this._showCollisionBoxes,D,E))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(c){return this.placement.commit(c),this.placement}}const ss=512/a.EXTENT/2;class Lx{constructor(c,p,v){this.tileID=c,this.bucketInstanceId=v,this._symbolsByKey={};const _=new Map;for(let E=0;E<p.length;E++){const D=p.get(E),j=D.key,U=_.get(j);U?U.push(D):_.set(j,[D])}for(const[E,D]of _){const j={positions:D.map(U=>({x:Math.floor(U.anchorX*ss),y:Math.floor(U.anchorY*ss)})),crossTileIDs:D.map(U=>U.crossTileID)};if(j.positions.length>128){const U=new a.KDBush(j.positions.length,16,Uint16Array);for(const{x:q,y:Y}of j.positions)U.add(q,Y);U.finish(),delete j.positions,j.index=U}this._symbolsByKey[E]=j}}getScaledCoordinates(c,p){const{x:v,y:_,z:E}=this.tileID.canonical,{x:D,y:j,z:U}=p.canonical,q=ss/Math.pow(2,U-E),Y=(j*a.EXTENT+c.anchorY)*q,K=_*a.EXTENT*ss;return{x:Math.floor((D*a.EXTENT+c.anchorX)*q-v*a.EXTENT*ss),y:Math.floor(Y-K)}}findMatches(c,p,v){const _=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z);for(let E=0;E<c.length;E++){const D=c.get(E);if(D.crossTileID)continue;const j=this._symbolsByKey[D.key];if(!j)continue;const U=this.getScaledCoordinates(D,p);if(j.index){const q=j.index.range(U.x-_,U.y-_,U.x+_,U.y+_).sort();for(const Y of q){const K=j.crossTileIDs[Y];if(!v[K]){v[K]=!0,D.crossTileID=K;break}}}else if(j.positions)for(let q=0;q<j.positions.length;q++){const Y=j.positions[q],K=j.crossTileIDs[q];if(Math.abs(Y.x-U.x)<=_&&Math.abs(Y.y-U.y)<=_&&!v[K]){v[K]=!0,D.crossTileID=K;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:c})=>c)}}class VE{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Jn{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(c){const p=Math.round((c-this.lng)/360);if(p!==0)for(const v in this.indexes){const _=this.indexes[v],E={};for(const D in _){const j=_[D];j.tileID=j.tileID.unwrapTo(j.tileID.wrap+p),E[j.tileID.key]=j}this.indexes[v]=E}this.lng=c}addBucket(c,p,v){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(let E=0;E<p.symbolInstances.length;E++)p.symbolInstances.get(E).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});const _=this.usedCrossTileIDs[c.overscaledZ];for(const E in this.indexes){const D=this.indexes[E];if(Number(E)>c.overscaledZ)for(const j in D){const U=D[j];U.tileID.isChildOf(c)&&U.findMatches(p.symbolInstances,c,_)}else{const j=D[c.scaledTo(Number(E)).key];j&&j.findMatches(p.symbolInstances,c,_)}}for(let E=0;E<p.symbolInstances.length;E++){const D=p.symbolInstances.get(E);D.crossTileID||(D.crossTileID=v.generate(),_[D.crossTileID]=!0)}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new Lx(c,p.symbolInstances,p.bucketInstanceId),!0}removeBucketCrossTileIDs(c,p){for(const v of p.getCrossTileIDsLists())for(const _ of v)delete this.usedCrossTileIDs[c][_]}removeStaleBuckets(c){let p=!1;for(const v in this.indexes){const _=this.indexes[v];for(const E in _)c[_[E].bucketInstanceId]||(this.removeBucketCrossTileIDs(v,_[E]),delete _[E],p=!0)}return p}}class Lh{constructor(){this.layerIndexes={},this.crossTileIDs=new VE,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(c,p,v){let _=this.layerIndexes[c.id];_===void 0&&(_=this.layerIndexes[c.id]=new Jn);let E=!1;const D={};_.handleWrapJump(v);for(const j of p){const U=j.getBucket(c);U&&c.id===U.layerIds[0]&&(U.bucketInstanceId||(U.bucketInstanceId=++this.maxBucketInstanceId),_.addBucket(j.tileID,U,this.crossTileIDs)&&(E=!0),D[U.bucketInstanceId]=!0)}return _.removeStaleBuckets(D)&&(E=!0),E}pruneUnusedLayers(c){const p={};c.forEach(v=>{p[v]=!0});for(const v in this.layerIndexes)p[v]||delete this.layerIndexes[v]}}const Su=(w,c)=>a.emitValidationErrors(w,c&&c.filter(p=>p.identifier!=="source.canvas")),Vo=a.pick(a.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),Wo=a.pick(a.operations,["setCenter","setZoom","setBearing","setPitch"]),WE=a.emptyStyle();class Ri extends a.Evented{constructor(c,p={}){super(),this.map=c,this.dispatcher=new dt(Nn(),this,c._getMapId()),this.imageManager=new pe,this.imageManager.setEventedParent(this),this.glyphManager=new Oe(c._requestManager,p.localIdeographFontFamily),this.lineAtlas=new We(256,512),this.crossTileSymbolIndex=new Lh,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());const v=this;this._rtlTextPluginCallback=Ri.registerForPluginStateChange(_=>{v.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:_.pluginStatus,pluginURL:_.pluginURL},(E,D)=>{if(a.triggerPluginCompletionEvent(E),D&&D.every(j=>j))for(const j in v.sourceCaches){const U=v.sourceCaches[j].getSource().type;U!=="vector"&&U!=="geojson"||v.sourceCaches[j].reload()}})}),this.on("data",_=>{if(_.dataType!=="source"||_.sourceDataType!=="metadata")return;const E=this.sourceCaches[_.sourceId];if(!E)return;const D=E.getSource();if(D&&D.vectorLayerIds)for(const j in this._layers){const U=this._layers[j];U.source===D.id&&this._validateLayer(U)}})}loadURL(c,p={},v){this.fire(new a.Event("dataloading",{dataType:"style"})),p.validate=typeof p.validate!="boolean"||p.validate;const _=this.map._requestManager.transformRequest(c,I.Style);this._request=a.getJSON(_,(E,D)=>{this._request=null,E?this.fire(new a.ErrorEvent(E)):D&&this._load(D,p,v)})}loadJSON(c,p={},v){this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(()=>{this._request=null,p.validate=p.validate!==!1,this._load(c,p,v)})}loadEmpty(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(WE,{validate:!1})}_load(c,p,v){var _;const E=p.transformStyle?p.transformStyle(v,c):c;if(!p.validate||!Su(this,a.validateStyle(E))){this._loaded=!0,this.stylesheet=E;for(const D in E.sources)this.addSource(D,E.sources[D],{validate:!1});E.sprite?this._loadSprite(E.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(E.glyphs),this._createLayers(),this.light=new De(this.stylesheet.light),this.map.setTerrain((_=this.stylesheet.terrain)!==null&&_!==void 0?_:null),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}}_createLayers(){const c=a.derefLayers(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",c),this._order=c.map(p=>p.id),this._layers={},this._serializedLayers=null;for(const p of c){const v=a.createStyleLayer(p);v.setEventedParent(this,{layer:{id:p.id}}),this._layers[p.id]=v}}_loadSprite(c,p=!1,v=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(_,E,D,j){const U=G(_),q=U.length,Y=D>1?"@2x":"",K={},re={},de={};for(const{id:ce,url:me}of U){const le=E.transformRequest(E.normalizeSpriteURL(me,Y,".json"),I.SpriteJSON),Ae=`${ce}_${le.url}`;K[Ae]=a.getJSON(le,(Ie,Be)=>{delete K[Ae],re[ce]=Be,J(j,re,de,Ie,q)});const ze=E.transformRequest(E.normalizeSpriteURL(me,Y,".png"),I.SpriteImage),ve=`${ce}_${ze.url}`;K[ve]=A.getImage(ze,(Ie,Be)=>{delete K[ve],de[ce]=Be,J(j,re,de,Ie,q)})}return{cancel(){for(const ce of Object.values(K))ce.cancel()}}}(c,this.map._requestManager,this.map.getPixelRatio(),(_,E)=>{if(this._spriteRequest=null,_)this.fire(new a.ErrorEvent(_));else if(E)for(const D in E){this._spritesImagesIds[D]=[];const j=this._spritesImagesIds[D]?this._spritesImagesIds[D].filter(U=>!(U in E)):[];for(const U of j)this.imageManager.removeImage(U),this._changedImages[U]=!0;for(const U in E[D]){const q=D==="default"?U:`${D}:${U}`;this._spritesImagesIds[D].push(q),q in this.imageManager.images?this.imageManager.updateImage(q,E[D][U],!1):this.imageManager.addImage(q,E[D][U]),p&&(this._changedImages[q]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),p&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"})),v&&v(_)})}_unloadSprite(){for(const c of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(c),this._changedImages[c]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}_validateLayer(c){const p=this.sourceCaches[c.source];if(!p)return;const v=c.sourceLayer;if(!v)return;const _=p.getSource();(_.type==="geojson"||_.vectorLayerIds&&_.vectorLayerIds.indexOf(v)===-1)&&this.fire(new a.ErrorEvent(new Error(`Source layer "${v}" does not exist on source "${_.id}" as specified by style layer "${c.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const c in this.sourceCaches)if(!this.sourceCaches[c].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(c){const p=this._serializedAllLayers();if(!c||c.length===0)return Object.values(p);const v=[];for(const _ of c)p[_]&&v.push(p[_]);return v}_serializedAllLayers(){let c=this._serializedLayers;if(c)return c;c=this._serializedLayers={};const p=Object.keys(this._layers);for(const v of p){const _=this._layers[v];_.type!=="custom"&&(c[v]=_.serialize())}return c}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const c in this.sourceCaches)if(this.sourceCaches[c].hasTransition())return!0;for(const c in this._layers)if(this._layers[c].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(c){if(!this._loaded)return;const p=this._changed;if(this._changed){const _=Object.keys(this._updatedLayers),E=Object.keys(this._removedLayers);(_.length||E.length)&&this._updateWorkerLayers(_,E);for(const D in this._updatedSources){const j=this._updatedSources[D];if(j==="reload")this._reloadSource(D);else{if(j!=="clear")throw new Error(`Invalid action ${j}`);this._clearSource(D)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const D in this._updatedPaintProps)this._layers[D].updateTransitions(c);this.light.updateTransitions(c),this._resetUpdates()}const v={};for(const _ in this.sourceCaches){const E=this.sourceCaches[_];v[_]=E.used,E.used=!1}for(const _ of this._order){const E=this._layers[_];E.recalculate(c,this._availableImages),!E.isHidden(c.zoom)&&E.source&&(this.sourceCaches[E.source].used=!0)}for(const _ in v){const E=this.sourceCaches[_];v[_]!==E.used&&E.fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:_}))}this.light.recalculate(c),this.z=c.zoom,p&&this.fire(new a.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const c=Object.keys(this._changedImages);if(c.length){for(const p in this.sourceCaches)this.sourceCaches[p].reloadTilesForDependencies(["icons","patterns"],c);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const c in this.sourceCaches)this.sourceCaches[c].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(c,p){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(c),removedIds:p})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(c,p={}){this._checkLoaded();const v=this.serialize();if(c=p.transformStyle?p.transformStyle(v,c):c,Su(this,a.validateStyle(c)))return!1;(c=a.clone$1(c)).layers=a.derefLayers(c.layers);const _=a.diffStyles(v,c).filter(D=>!(D.command in Wo));if(_.length===0)return!1;const E=_.filter(D=>!(D.command in Vo));if(E.length>0)throw new Error(`Unimplemented: ${E.map(D=>D.command).join(", ")}.`);for(const D of _)D.command!=="setTransition"&&this[D.command].apply(this,D.args);return this.stylesheet=c,this._serializedLayers=null,!0}addImage(c,p){if(this.getImage(c))return this.fire(new a.ErrorEvent(new Error(`An image named "${c}" already exists.`)));this.imageManager.addImage(c,p),this._afterImageUpdated(c)}updateImage(c,p){this.imageManager.updateImage(c,p)}getImage(c){return this.imageManager.getImage(c)}removeImage(c){if(!this.getImage(c))return this.fire(new a.ErrorEvent(new Error(`An image named "${c}" does not exist.`)));this.imageManager.removeImage(c),this._afterImageUpdated(c)}_afterImageUpdated(c){this._availableImages=this.imageManager.listImages(),this._changedImages[c]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(c,p,v={}){if(this._checkLoaded(),this.sourceCaches[c]!==void 0)throw new Error(`Source "${c}" already exists.`);if(!p.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(p).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(p.type)>=0&&this._validate(a.validateStyle.source,`sources.${c}`,p,null,v))return;this.map&&this.map._collectResourceTiming&&(p.collectResourceTiming=!0);const _=this.sourceCaches[c]=new Ne(c,p,this.dispatcher);_.style=this,_.setEventedParent(this,()=>({isSourceLoaded:_.loaded(),source:_.serialize(),sourceId:c})),_.onAdd(this.map),this._changed=!0}removeSource(c){if(this._checkLoaded(),this.sourceCaches[c]===void 0)throw new Error("There is no source with this ID");for(const v in this._layers)if(this._layers[v].source===c)return this.fire(new a.ErrorEvent(new Error(`Source "${c}" cannot be removed while layer "${v}" is using it.`)));const p=this.sourceCaches[c];delete this.sourceCaches[c],delete this._updatedSources[c],p.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:c})),p.setEventedParent(null),p.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(c,p){if(this._checkLoaded(),this.sourceCaches[c]===void 0)throw new Error(`There is no source with this ID=${c}`);const v=this.sourceCaches[c].getSource();if(v.type!=="geojson")throw new Error(`geojsonSource.type is ${v.type}, which is !== 'geojson`);v.setData(p),this._changed=!0}getSource(c){return this.sourceCaches[c]&&this.sourceCaches[c].getSource()}addLayer(c,p,v={}){this._checkLoaded();const _=c.id;if(this.getLayer(_))return void this.fire(new a.ErrorEvent(new Error(`Layer "${_}" already exists on this map.`)));let E;if(c.type==="custom"){if(Su(this,a.validateCustomStyleLayer(c)))return;E=a.createStyleLayer(c)}else{if("source"in c&&typeof c.source=="object"&&(this.addSource(_,c.source),c=a.clone$1(c),c=a.extend(c,{source:_})),this._validate(a.validateStyle.layer,`layers.${_}`,c,{arrayIndex:-1},v))return;E=a.createStyleLayer(c),this._validateLayer(E),E.setEventedParent(this,{layer:{id:_}})}const D=p?this._order.indexOf(p):this._order.length;if(p&&D===-1)this.fire(new a.ErrorEvent(new Error(`Cannot add layer "${_}" before non-existing layer "${p}".`)));else{if(this._order.splice(D,0,_),this._layerOrderChanged=!0,this._layers[_]=E,this._removedLayers[_]&&E.source&&E.type!=="custom"){const j=this._removedLayers[_];delete this._removedLayers[_],j.type!==E.type?this._updatedSources[E.source]="clear":(this._updatedSources[E.source]="reload",this.sourceCaches[E.source].pause())}this._updateLayer(E),E.onAdd&&E.onAdd(this.map)}}moveLayer(c,p){if(this._checkLoaded(),this._changed=!0,!this._layers[c])return void this.fire(new a.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be moved.`)));if(c===p)return;const v=this._order.indexOf(c);this._order.splice(v,1);const _=p?this._order.indexOf(p):this._order.length;p&&_===-1?this.fire(new a.ErrorEvent(new Error(`Cannot move layer "${c}" before non-existing layer "${p}".`))):(this._order.splice(_,0,c),this._layerOrderChanged=!0)}removeLayer(c){this._checkLoaded();const p=this._layers[c];if(!p)return void this.fire(new a.ErrorEvent(new Error(`Cannot remove non-existing layer "${c}".`)));p.setEventedParent(null);const v=this._order.indexOf(c);this._order.splice(v,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[c]=p,delete this._layers[c],this._serializedLayers&&delete this._serializedLayers[c],delete this._updatedLayers[c],delete this._updatedPaintProps[c],p.onRemove&&p.onRemove(this.map)}getLayer(c){return this._layers[c]}hasLayer(c){return c in this._layers}setLayerZoomRange(c,p,v){this._checkLoaded();const _=this.getLayer(c);_?_.minzoom===p&&_.maxzoom===v||(p!=null&&(_.minzoom=p),v!=null&&(_.maxzoom=v),this._updateLayer(_)):this.fire(new a.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${c}".`)))}setFilter(c,p,v={}){this._checkLoaded();const _=this.getLayer(c);if(_){if(!a.deepEqual(_.filter,p))return p==null?(_.filter=void 0,void this._updateLayer(_)):void(this._validate(a.validateStyle.filter,`layers.${_.id}.filter`,p,null,v)||(_.filter=a.clone$1(p),this._updateLayer(_)))}else this.fire(new a.ErrorEvent(new Error(`Cannot filter non-existing layer "${c}".`)))}getFilter(c){return a.clone$1(this.getLayer(c).filter)}setLayoutProperty(c,p,v,_={}){this._checkLoaded();const E=this.getLayer(c);E?a.deepEqual(E.getLayoutProperty(p),v)||(E.setLayoutProperty(p,v,_),this._updateLayer(E)):this.fire(new a.ErrorEvent(new Error(`Cannot style non-existing layer "${c}".`)))}getLayoutProperty(c,p){const v=this.getLayer(c);if(v)return v.getLayoutProperty(p);this.fire(new a.ErrorEvent(new Error(`Cannot get style of non-existing layer "${c}".`)))}setPaintProperty(c,p,v,_={}){this._checkLoaded();const E=this.getLayer(c);E?a.deepEqual(E.getPaintProperty(p),v)||(E.setPaintProperty(p,v,_)&&this._updateLayer(E),this._changed=!0,this._updatedPaintProps[c]=!0):this.fire(new a.ErrorEvent(new Error(`Cannot style non-existing layer "${c}".`)))}getPaintProperty(c,p){return this.getLayer(c).getPaintProperty(p)}setFeatureState(c,p){this._checkLoaded();const v=c.source,_=c.sourceLayer,E=this.sourceCaches[v];if(E===void 0)return void this.fire(new a.ErrorEvent(new Error(`The source '${v}' does not exist in the map's style.`)));const D=E.getSource().type;D==="geojson"&&_?this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):D!=="vector"||_?(c.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),E.setFeatureState(_,c.id,p)):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(c,p){this._checkLoaded();const v=c.source,_=this.sourceCaches[v];if(_===void 0)return void this.fire(new a.ErrorEvent(new Error(`The source '${v}' does not exist in the map's style.`)));const E=_.getSource().type,D=E==="vector"?c.sourceLayer:void 0;E!=="vector"||D?p&&typeof c.id!="string"&&typeof c.id!="number"?this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):_.removeFeatureState(D,c.id,p):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(c){this._checkLoaded();const p=c.source,v=c.sourceLayer,_=this.sourceCaches[p];if(_!==void 0)return _.getSource().type!=="vector"||v?(c.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),_.getFeatureState(v,c.id)):void this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.ErrorEvent(new Error(`The source '${p}' does not exist in the map's style.`)))}getTransition(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const c=a.mapObject(this.sourceCaches,_=>_.serialize()),p=this._serializeByIds(this._order),v=this.stylesheet;return a.filterObject({version:v.version,name:v.name,metadata:v.metadata,light:v.light,center:v.center,zoom:v.zoom,bearing:v.bearing,pitch:v.pitch,sprite:v.sprite,glyphs:v.glyphs,transition:v.transition,sources:c,layers:p},_=>_!==void 0)}_updateLayer(c){this._updatedLayers[c.id]=!0,c.source&&!this._updatedSources[c.source]&&this.sourceCaches[c.source].getSource().type!=="raster"&&(this._updatedSources[c.source]="reload",this.sourceCaches[c.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(c){const p=D=>this._layers[D].type==="fill-extrusion",v={},_=[];for(let D=this._order.length-1;D>=0;D--){const j=this._order[D];if(p(j)){v[j]=D;for(const U of c){const q=U[j];if(q)for(const Y of q)_.push(Y)}}}_.sort((D,j)=>j.intersectionZ-D.intersectionZ);const E=[];for(let D=this._order.length-1;D>=0;D--){const j=this._order[D];if(p(j))for(let U=_.length-1;U>=0;U--){const q=_[U].feature;if(v[q.layer.id]<D)break;E.push(q),_.pop()}else for(const U of c){const q=U[j];if(q)for(const Y of q)E.push(Y.feature)}}return E}queryRenderedFeatures(c,p,v){p&&p.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",p.filter,null,p);const _={};if(p&&p.layers){if(!Array.isArray(p.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const j of p.layers){const U=this._layers[j];if(!U)return this.fire(new a.ErrorEvent(new Error(`The layer '${j}' does not exist in the map's style and cannot be queried for features.`))),[];_[U.source]=!0}}const E=[];p.availableImages=this._availableImages;const D=this._serializedAllLayers();for(const j in this.sourceCaches)p.layers&&!_[j]||E.push(vn(this.sourceCaches[j],this._layers,D,c,p,v));return this.placement&&E.push(function(j,U,q,Y,K,re,de){const ce={},me=re.queryRenderedSymbols(Y),le=[];for(const Ae of Object.keys(me).map(Number))le.push(de[Ae]);le.sort(Mn);for(const Ae of le){const ze=Ae.featureIndex.lookupSymbolFeatures(me[Ae.bucketInstanceId],U,Ae.bucketIndex,Ae.sourceLayerIndex,K.filter,K.layers,K.availableImages,j);for(const ve in ze){const Ie=ce[ve]=ce[ve]||[],Be=ze[ve];Be.sort((Fe,Ke)=>{const nt=Ae.featureSortOrder;if(nt){const tt=nt.indexOf(Fe.featureIndex);return nt.indexOf(Ke.featureIndex)-tt}return Ke.featureIndex-Fe.featureIndex});for(const Fe of Be)Ie.push(Fe)}}for(const Ae in ce)ce[Ae].forEach(ze=>{const ve=ze.feature,Ie=q[j[Ae].source].getFeatureState(ve.layer["source-layer"],ve.id);ve.source=ve.layer.source,ve.layer["source-layer"]&&(ve.sourceLayer=ve.layer["source-layer"]),ve.state=Ie});return ce}(this._layers,D,this.sourceCaches,c,p,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(E)}querySourceFeatures(c,p){p&&p.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",p.filter,null,p);const v=this.sourceCaches[c];return v?function(_,E){const D=_.getRenderableIds().map(q=>_.getTileByID(q)),j=[],U={};for(let q=0;q<D.length;q++){const Y=D[q],K=Y.tileID.canonical.key;U[K]||(U[K]=!0,Y.querySourceFeatures(j,E))}return j}(v,p):[]}addSourceType(c,p,v){return Tt(c)?v(new Error(`A source type called "${c}" already exists.`)):(((_,E)=>{Ct[_]=E})(c,p),p.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:c,url:p.workerSourceURL},v):v(null,null))}getLight(){return this.light.getLight()}setLight(c,p={}){this._checkLoaded();const v=this.light.getLight();let _=!1;for(const D in c)if(!a.deepEqual(c[D],v[D])){_=!0;break}if(!_)return;const E={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(c,p),this.light.updateTransitions(E)}_validate(c,p,v,_,E={}){return(!E||E.validate!==!1)&&Su(this,c.call(a.validateStyle,a.extend({key:p,style:this.serialize(),value:v,styleSpec:a.v8Spec},_)))}_remove(c=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const p in this._layers)this._layers[p].setEventedParent(null);for(const p in this.sourceCaches){const v=this.sourceCaches[p];v.setEventedParent(null),v.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(c)}_clearSource(c){this.sourceCaches[c].clearTiles()}_reloadSource(c){this.sourceCaches[c].resume(),this.sourceCaches[c].reload()}_updateSources(c){for(const p in this.sourceCaches)this.sourceCaches[p].update(c,this.map.terrain)}_generateCollisionBoxes(){for(const c in this.sourceCaches)this._reloadSource(c)}_updatePlacement(c,p,v,_,E=!1){let D=!1,j=!1;const U={};for(const q of this._order){const Y=this._layers[q];if(Y.type!=="symbol")continue;if(!U[Y.source]){const re=this.sourceCaches[Y.source];U[Y.source]=re.getRenderableIds(!0).map(de=>re.getTileByID(de)).sort((de,ce)=>ce.tileID.overscaledZ-de.tileID.overscaledZ||(de.tileID.isLessThan(ce.tileID)?-1:1))}const K=this.crossTileSymbolIndex.addLayer(Y,U[Y.source],c.center.lng);D=D||K}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((E=E||this._layerOrderChanged||v===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),c.zoom))&&(this.pauseablePlacement=new Dx(c,this.map.terrain,this._order,E,p,v,_,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,U),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),j=!0),D&&this.pauseablePlacement.placement.setStale()),j||D)for(const q of this._order){const Y=this._layers[q];Y.type==="symbol"&&this.placement.updateLayerOpacities(Y,U[Y.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now())}_releaseSymbolFadeTiles(){for(const c in this.sourceCaches)this.sourceCaches[c].releaseSymbolFadeTiles()}getImages(c,p,v){this.imageManager.getImages(p.icons,v),this._updateTilesForChangedImages();const _=this.sourceCaches[p.source];_&&_.setDependencies(p.tileID.key,p.type,p.icons)}getGlyphs(c,p,v){this.glyphManager.getGlyphs(p.stacks,v);const _=this.sourceCaches[p.source];_&&_.setDependencies(p.tileID.key,p.type,[""])}getResource(c,p,v){return a.makeRequest(p,v)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(c,p={}){this._checkLoaded(),c&&this._validate(a.validateStyle.glyphs,"glyphs",c,null,p)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=c,this.glyphManager.entries={},this.glyphManager.setURL(c))}addSprite(c,p,v={},_){this._checkLoaded();const E=[{id:c,url:p}],D=[...G(this.stylesheet.sprite),...E];this._validate(a.validateStyle.sprite,"sprite",D,null,v)||(this.stylesheet.sprite=D,this._loadSprite(E,!0,_))}removeSprite(c){this._checkLoaded();const p=G(this.stylesheet.sprite);if(p.find(v=>v.id===c)){if(this._spritesImagesIds[c])for(const v of this._spritesImagesIds[c])this.imageManager.removeImage(v),this._changedImages[v]=!0;p.splice(p.findIndex(v=>v.id===c),1),this.stylesheet.sprite=p.length>0?p:void 0,delete this._spritesImagesIds[c],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}else this.fire(new a.ErrorEvent(new Error(`Sprite "${c}" doesn't exists on this map.`)))}getSprite(){return G(this.stylesheet.sprite)}setSprite(c,p={},v){this._checkLoaded(),c&&this._validate(a.validateStyle.sprite,"sprite",c,null,p)||(this.stylesheet.sprite=c,c?this._loadSprite(c,!0,v):(this._unloadSprite(),v&&v(null)))}}Ri.registerForPluginStateChange=a.registerForPluginStateChange;var _o=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),Nh="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const Ol={prelude:hn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:hn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:hn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:hn(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:hn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:hn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:hn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:hn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:hn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:hn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:hn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:hn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:hn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:hn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:hn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:hn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:hn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:hn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:hn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:hn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:hn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:hn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:hn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:hn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:hn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:hn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:hn("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Nh),terrainDepth:hn("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Nh),terrainCoords:hn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Nh)};function hn(w,c){const p=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,v=c.match(/attribute ([\w]+) ([\w]+)/g),_=w.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),E=c.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),D=E?E.concat(_):_,j={};return{fragmentSource:w=w.replace(p,(U,q,Y,K,re)=>(j[re]=!0,q==="define"?`
#ifndef HAS_UNIFORM_u_${re}
varying ${Y} ${K} ${re};
#else
uniform ${Y} ${K} u_${re};
#endif
`:`
#ifdef HAS_UNIFORM_u_${re}
    ${Y} ${K} ${re} = u_${re};
#endif
`)),vertexSource:c=c.replace(p,(U,q,Y,K,re)=>{const de=K==="float"?"vec2":"vec4",ce=re.match(/color/)?"color":de;return j[re]?q==="define"?`
#ifndef HAS_UNIFORM_u_${re}
uniform lowp float u_${re}_t;
attribute ${Y} ${de} a_${re};
varying ${Y} ${K} ${re};
#else
uniform ${Y} ${K} u_${re};
#endif
`:ce==="vec4"?`
#ifndef HAS_UNIFORM_u_${re}
    ${re} = a_${re};
#else
    ${Y} ${K} ${re} = u_${re};
#endif
`:`
#ifndef HAS_UNIFORM_u_${re}
    ${re} = unpack_mix_${ce}(a_${re}, u_${re}_t);
#else
    ${Y} ${K} ${re} = u_${re};
#endif
`:q==="define"?`
#ifndef HAS_UNIFORM_u_${re}
uniform lowp float u_${re}_t;
attribute ${Y} ${de} a_${re};
#else
uniform ${Y} ${K} u_${re};
#endif
`:ce==="vec4"?`
#ifndef HAS_UNIFORM_u_${re}
    ${Y} ${K} ${re} = a_${re};
#else
    ${Y} ${K} ${re} = u_${re};
#endif
`:`
#ifndef HAS_UNIFORM_u_${re}
    ${Y} ${K} ${re} = unpack_mix_${ce}(a_${re}, u_${re}_t);
#else
    ${Y} ${K} ${re} = u_${re};
#endif
`}),staticAttributes:v,staticUniforms:D}}class Jd{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(c,p,v,_,E,D,j,U,q){this.context=c;let Y=this.boundPaintVertexBuffers.length!==_.length;for(let K=0;!Y&&K<_.length;K++)this.boundPaintVertexBuffers[K]!==_[K]&&(Y=!0);!this.vao||this.boundProgram!==p||this.boundLayoutVertexBuffer!==v||Y||this.boundIndexBuffer!==E||this.boundVertexOffset!==D||this.boundDynamicVertexBuffer!==j||this.boundDynamicVertexBuffer2!==U||this.boundDynamicVertexBuffer3!==q?this.freshBind(p,v,_,E,D,j,U,q):(c.bindVertexArray.set(this.vao),j&&j.bind(),E&&E.dynamicDraw&&E.bind(),U&&U.bind(),q&&q.bind())}freshBind(c,p,v,_,E,D,j,U){const q=c.numAttributes,Y=this.context,K=Y.gl;this.vao&&this.destroy(),this.vao=Y.createVertexArray(),Y.bindVertexArray.set(this.vao),this.boundProgram=c,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=v,this.boundIndexBuffer=_,this.boundVertexOffset=E,this.boundDynamicVertexBuffer=D,this.boundDynamicVertexBuffer2=j,this.boundDynamicVertexBuffer3=U,p.enableAttributes(K,c);for(const re of v)re.enableAttributes(K,c);D&&D.enableAttributes(K,c),j&&j.enableAttributes(K,c),U&&U.enableAttributes(K,c),p.bind(),p.setVertexAttribPointers(K,c,E);for(const re of v)re.bind(),re.setVertexAttribPointers(K,c,E);D&&(D.bind(),D.setVertexAttribPointers(K,c,E)),_&&_.bind(),j&&(j.bind(),j.setVertexAttribPointers(K,c,E)),U&&(U.bind(),U.setVertexAttribPointers(K,c,E)),Y.currentNumAttributes=q}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function Hs(w){const c=[];for(let p=0;p<w.length;p++){if(w[p]===null)continue;const v=w[p].split(" ");c.push(v.pop())}return c}class Jr{constructor(c,p,v,_,E,D){const j=c.gl;this.program=j.createProgram();const U=Hs(p.staticAttributes),q=v?v.getBinderAttributes():[],Y=U.concat(q),K=Ol.prelude.staticUniforms?Hs(Ol.prelude.staticUniforms):[],re=p.staticUniforms?Hs(p.staticUniforms):[],de=v?v.getBinderUniforms():[],ce=K.concat(re).concat(de),me=[];for(const Fe of ce)me.indexOf(Fe)<0&&me.push(Fe);const le=v?v.defines():[];E&&le.push("#define OVERDRAW_INSPECTOR;"),D&&le.push("#define TERRAIN3D;");const Ae=le.concat(Ol.prelude.fragmentSource,p.fragmentSource).join(`
`),ze=le.concat(Ol.prelude.vertexSource,p.vertexSource).join(`
`),ve=j.createShader(j.FRAGMENT_SHADER);if(j.isContextLost())return void(this.failedToCreate=!0);if(j.shaderSource(ve,Ae),j.compileShader(ve),!j.getShaderParameter(ve,j.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${j.getShaderInfoLog(ve)}`);j.attachShader(this.program,ve);const Ie=j.createShader(j.VERTEX_SHADER);if(j.isContextLost())return void(this.failedToCreate=!0);if(j.shaderSource(Ie,ze),j.compileShader(Ie),!j.getShaderParameter(Ie,j.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${j.getShaderInfoLog(Ie)}`);j.attachShader(this.program,Ie),this.attributes={};const Be={};this.numAttributes=Y.length;for(let Fe=0;Fe<this.numAttributes;Fe++)Y[Fe]&&(j.bindAttribLocation(this.program,Fe,Y[Fe]),this.attributes[Y[Fe]]=Fe);if(j.linkProgram(this.program),!j.getProgramParameter(this.program,j.LINK_STATUS))throw new Error(`Program failed to link: ${j.getProgramInfoLog(this.program)}`);j.deleteShader(Ie),j.deleteShader(ve);for(let Fe=0;Fe<me.length;Fe++){const Ke=me[Fe];if(Ke&&!Be[Ke]){const nt=j.getUniformLocation(this.program,Ke);nt&&(Be[Ke]=nt)}}this.fixedUniforms=_(c,Be),this.terrainUniforms=((Fe,Ke)=>({u_depth:new a.Uniform1i(Fe,Ke.u_depth),u_terrain:new a.Uniform1i(Fe,Ke.u_terrain),u_terrain_dim:new a.Uniform1f(Fe,Ke.u_terrain_dim),u_terrain_matrix:new a.UniformMatrix4f(Fe,Ke.u_terrain_matrix),u_terrain_unpack:new a.Uniform4f(Fe,Ke.u_terrain_unpack),u_terrain_exaggeration:new a.Uniform1f(Fe,Ke.u_terrain_exaggeration)}))(c,Be),this.binderUniforms=v?v.getUniforms(c,Be):[]}draw(c,p,v,_,E,D,j,U,q,Y,K,re,de,ce,me,le,Ae,ze){const ve=c.gl;if(this.failedToCreate)return;if(c.program.set(this.program),c.setDepthMode(v),c.setStencilMode(_),c.setColorMode(E),c.setCullFace(D),U){c.activeTexture.set(ve.TEXTURE2),ve.bindTexture(ve.TEXTURE_2D,U.depthTexture),c.activeTexture.set(ve.TEXTURE3),ve.bindTexture(ve.TEXTURE_2D,U.texture);for(const Be in this.terrainUniforms)this.terrainUniforms[Be].set(U[Be])}for(const Be in this.fixedUniforms)this.fixedUniforms[Be].set(j[Be]);me&&me.setUniforms(c,this.binderUniforms,de,{zoom:ce});let Ie=0;switch(p){case ve.LINES:Ie=2;break;case ve.TRIANGLES:Ie=3;break;case ve.LINE_STRIP:Ie=1}for(const Be of re.get()){const Fe=Be.vaos||(Be.vaos={});(Fe[q]||(Fe[q]=new Jd)).bind(c,this,Y,me?me.getPaintVertexBuffers():[],K,Be.vertexOffset,le,Ae,ze),ve.drawElements(p,Be.primitiveLength*Ie,ve.UNSIGNED_SHORT,Be.primitiveOffset*Ie*2)}}}function Qd(w,c,p){const v=1/Me(p,1,c.transform.tileZoom),_=Math.pow(2,p.tileID.overscaledZ),E=p.tileSize*Math.pow(2,c.transform.tileZoom)/_,D=E*(p.tileID.canonical.x+p.tileID.wrap*_),j=E*p.tileID.canonical.y;return{u_image:0,u_texsize:p.imageAtlasTexture.size,u_scale:[v,w.fromScale,w.toScale],u_fade:w.t,u_pixel_coord_upper:[D>>16,j>>16],u_pixel_coord_lower:[65535&D,65535&j]}}const ha=(w,c,p,v)=>{const _=c.style.light,E=_.properties.get("position"),D=[E.x,E.y,E.z],j=function(){var q=new a.ARRAY_TYPE(9);return a.ARRAY_TYPE!=Float32Array&&(q[1]=0,q[2]=0,q[3]=0,q[5]=0,q[6]=0,q[7]=0),q[0]=1,q[4]=1,q[8]=1,q}();_.properties.get("anchor")==="viewport"&&function(q,Y){var K=Math.sin(Y),re=Math.cos(Y);q[0]=re,q[1]=K,q[2]=0,q[3]=-K,q[4]=re,q[5]=0,q[6]=0,q[7]=0,q[8]=1}(j,-c.transform.angle),function(q,Y,K){var re=Y[0],de=Y[1],ce=Y[2];q[0]=re*K[0]+de*K[3]+ce*K[6],q[1]=re*K[1]+de*K[4]+ce*K[7],q[2]=re*K[2]+de*K[5]+ce*K[8]}(D,D,j);const U=_.properties.get("color");return{u_matrix:w,u_lightpos:D,u_lightintensity:_.properties.get("intensity"),u_lightcolor:[U.r,U.g,U.b],u_vertical_gradient:+p,u_opacity:v}},Nx=(w,c,p,v,_,E,D)=>a.extend(ha(w,c,p,v),Qd(E,c,D),{u_height_factor:-Math.pow(2,_.overscaledZ)/D.tileSize/8}),Ys=w=>({u_matrix:w}),zx=(w,c,p,v)=>a.extend(Ys(w),Qd(p,c,v)),jx=(w,c)=>({u_matrix:w,u_world:c}),zh=(w,c,p,v,_)=>a.extend(zx(w,c,p,v),{u_world:_}),jh=(w,c,p,v)=>{const _=w.transform;let E,D;if(v.paint.get("circle-pitch-alignment")==="map"){const j=Me(p,1,_.zoom);E=!0,D=[j,j]}else E=!1,D=_.pixelsToGLUnits;return{u_camera_to_center_distance:_.cameraToCenterDistance,u_scale_with_map:+(v.paint.get("circle-pitch-scale")==="map"),u_matrix:w.translatePosMatrix(c.posMatrix,p,v.paint.get("circle-translate"),v.paint.get("circle-translate-anchor")),u_pitch_with_map:+E,u_device_pixel_ratio:w.pixelRatio,u_extrude_scale:D}},Al=(w,c,p)=>{const v=Me(p,1,c.zoom),_=Math.pow(2,c.zoom-p.tileID.overscaledZ),E=p.tileID.overscaleFactor();return{u_matrix:w,u_camera_to_center_distance:c.cameraToCenterDistance,u_pixels_to_tile_units:v,u_extrude_scale:[c.pixelsToGLUnits[0]/(v*_),c.pixelsToGLUnits[1]/(v*_)],u_overscale_factor:E}},Bh=(w,c,p=1)=>({u_matrix:w,u_color:c,u_overlay:0,u_overlay_scale:p}),ef=w=>({u_matrix:w}),qE=(w,c,p,v)=>({u_matrix:w,u_extrude_scale:Me(c,1,p),u_intensity:v});function GE(w,c){const p=Math.pow(2,c.canonical.z),v=c.canonical.y;return[new a.MercatorCoordinate(0,v/p).toLngLat().lat,new a.MercatorCoordinate(0,(v+1)/p).toLngLat().lat]}const tf=(w,c,p,v)=>{const _=w.transform;return{u_matrix:Fx(w,c,p,v),u_ratio:1/Me(c,1,_.zoom),u_device_pixel_ratio:w.pixelRatio,u_units_to_pixels:[1/_.pixelsToGLUnits[0],1/_.pixelsToGLUnits[1]]}},HE=(w,c,p,v,_)=>a.extend(tf(w,c,p,_),{u_image:0,u_image_height:v}),Bx=(w,c,p,v,_)=>{const E=w.transform,D=ty(c,E);return{u_matrix:Fx(w,c,p,_),u_texsize:c.imageAtlasTexture.size,u_ratio:1/Me(c,1,E.zoom),u_device_pixel_ratio:w.pixelRatio,u_image:0,u_scale:[D,v.fromScale,v.toScale],u_fade:v.t,u_units_to_pixels:[1/E.pixelsToGLUnits[0],1/E.pixelsToGLUnits[1]]}},YE=(w,c,p,v,_,E)=>{const D=w.lineAtlas,j=ty(c,w.transform),U=p.layout.get("line-cap")==="round",q=D.getDash(v.from,U),Y=D.getDash(v.to,U),K=q.width*_.fromScale,re=Y.width*_.toScale;return a.extend(tf(w,c,p,E),{u_patternscale_a:[j/K,-q.height/2],u_patternscale_b:[j/re,-Y.height/2],u_sdfgamma:D.width/(256*Math.min(K,re)*w.pixelRatio)/2,u_image:0,u_tex_y_a:q.y,u_tex_y_b:Y.y,u_mix:_.t})};function ty(w,c){return 1/Me(w,1,c.tileZoom)}function Fx(w,c,p,v){return w.translatePosMatrix(v?v.posMatrix:c.tileID.posMatrix,c,p.paint.get("line-translate"),p.paint.get("line-translate-anchor"))}const ny=(w,c,p,v,_)=>{return{u_matrix:w,u_tl_parent:c,u_scale_parent:p,u_buffer_scale:1,u_fade_t:v.mix,u_opacity:v.opacity*_.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:_.paint.get("raster-brightness-min"),u_brightness_high:_.paint.get("raster-brightness-max"),u_saturation_factor:(D=_.paint.get("raster-saturation"),D>0?1-1/(1.001-D):-D),u_contrast_factor:(E=_.paint.get("raster-contrast"),E>0?1/(1-E):1+E),u_spin_weights:Ux(_.paint.get("raster-hue-rotate"))};var E,D};function Ux(w){w*=Math.PI/180;const c=Math.sin(w),p=Math.cos(w);return[(2*p+1)/3,(-Math.sqrt(3)*c-p+1)/3,(Math.sqrt(3)*c-p+1)/3]}const ry=(w,c,p,v,_,E,D,j,U,q)=>{const Y=_.transform;return{u_is_size_zoom_constant:+(w==="constant"||w==="source"),u_is_size_feature_constant:+(w==="constant"||w==="camera"),u_size_t:c?c.uSizeT:0,u_size:c?c.uSize:0,u_camera_to_center_distance:Y.cameraToCenterDistance,u_pitch:Y.pitch/360*2*Math.PI,u_rotate_symbol:+p,u_aspect_ratio:Y.width/Y.height,u_fade_change:_.options.fadeDuration?_.symbolFadeChange:1,u_matrix:E,u_label_plane_matrix:D,u_coord_matrix:j,u_is_text:+U,u_pitch_with_map:+v,u_texsize:q,u_texture:0}},iy=(w,c,p,v,_,E,D,j,U,q,Y)=>{const K=_.transform;return a.extend(ry(w,c,p,v,_,E,D,j,U,q),{u_gamma_scale:v?Math.cos(K._pitch)*K.cameraToCenterDistance:1,u_device_pixel_ratio:_.pixelRatio,u_is_halo:+Y})},Vx=(w,c,p,v,_,E,D,j,U,q)=>a.extend(iy(w,c,p,v,_,E,D,j,!0,U,!0),{u_texsize_icon:q,u_texture_icon:1}),yc=(w,c,p)=>({u_matrix:w,u_opacity:c,u_color:p}),Fh=(w,c,p,v,_,E)=>a.extend(function(D,j,U,q){const Y=U.imageManager.getPattern(D.from.toString()),K=U.imageManager.getPattern(D.to.toString()),{width:re,height:de}=U.imageManager.getPixelSize(),ce=Math.pow(2,q.tileID.overscaledZ),me=q.tileSize*Math.pow(2,U.transform.tileZoom)/ce,le=me*(q.tileID.canonical.x+q.tileID.wrap*ce),Ae=me*q.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Y.tl,u_pattern_br_a:Y.br,u_pattern_tl_b:K.tl,u_pattern_br_b:K.br,u_texsize:[re,de],u_mix:j.t,u_pattern_size_a:Y.displaySize,u_pattern_size_b:K.displaySize,u_scale_a:j.fromScale,u_scale_b:j.toScale,u_tile_units_to_pixels:1/Me(q,1,U.transform.tileZoom),u_pixel_coord_upper:[le>>16,Ae>>16],u_pixel_coord_lower:[65535&le,65535&Ae]}}(v,E,p,_),{u_matrix:w,u_opacity:c}),pa={fillExtrusion:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_lightpos:new a.Uniform3f(w,c.u_lightpos),u_lightintensity:new a.Uniform1f(w,c.u_lightintensity),u_lightcolor:new a.Uniform3f(w,c.u_lightcolor),u_vertical_gradient:new a.Uniform1f(w,c.u_vertical_gradient),u_opacity:new a.Uniform1f(w,c.u_opacity)}),fillExtrusionPattern:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_lightpos:new a.Uniform3f(w,c.u_lightpos),u_lightintensity:new a.Uniform1f(w,c.u_lightintensity),u_lightcolor:new a.Uniform3f(w,c.u_lightcolor),u_vertical_gradient:new a.Uniform1f(w,c.u_vertical_gradient),u_height_factor:new a.Uniform1f(w,c.u_height_factor),u_image:new a.Uniform1i(w,c.u_image),u_texsize:new a.Uniform2f(w,c.u_texsize),u_pixel_coord_upper:new a.Uniform2f(w,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(w,c.u_pixel_coord_lower),u_scale:new a.Uniform3f(w,c.u_scale),u_fade:new a.Uniform1f(w,c.u_fade),u_opacity:new a.Uniform1f(w,c.u_opacity)}),fill:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix)}),fillPattern:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_image:new a.Uniform1i(w,c.u_image),u_texsize:new a.Uniform2f(w,c.u_texsize),u_pixel_coord_upper:new a.Uniform2f(w,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(w,c.u_pixel_coord_lower),u_scale:new a.Uniform3f(w,c.u_scale),u_fade:new a.Uniform1f(w,c.u_fade)}),fillOutline:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_world:new a.Uniform2f(w,c.u_world)}),fillOutlinePattern:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_world:new a.Uniform2f(w,c.u_world),u_image:new a.Uniform1i(w,c.u_image),u_texsize:new a.Uniform2f(w,c.u_texsize),u_pixel_coord_upper:new a.Uniform2f(w,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(w,c.u_pixel_coord_lower),u_scale:new a.Uniform3f(w,c.u_scale),u_fade:new a.Uniform1f(w,c.u_fade)}),circle:(w,c)=>({u_camera_to_center_distance:new a.Uniform1f(w,c.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(w,c.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(w,c.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(w,c.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(w,c.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(w,c.u_matrix)}),collisionBox:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_camera_to_center_distance:new a.Uniform1f(w,c.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(w,c.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(w,c.u_extrude_scale),u_overscale_factor:new a.Uniform1f(w,c.u_overscale_factor)}),collisionCircle:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_inv_matrix:new a.UniformMatrix4f(w,c.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(w,c.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(w,c.u_viewport_size)}),debug:(w,c)=>({u_color:new a.UniformColor(w,c.u_color),u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_overlay:new a.Uniform1i(w,c.u_overlay),u_overlay_scale:new a.Uniform1f(w,c.u_overlay_scale)}),clippingMask:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix)}),heatmap:(w,c)=>({u_extrude_scale:new a.Uniform1f(w,c.u_extrude_scale),u_intensity:new a.Uniform1f(w,c.u_intensity),u_matrix:new a.UniformMatrix4f(w,c.u_matrix)}),heatmapTexture:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_world:new a.Uniform2f(w,c.u_world),u_image:new a.Uniform1i(w,c.u_image),u_color_ramp:new a.Uniform1i(w,c.u_color_ramp),u_opacity:new a.Uniform1f(w,c.u_opacity)}),hillshade:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_image:new a.Uniform1i(w,c.u_image),u_latrange:new a.Uniform2f(w,c.u_latrange),u_light:new a.Uniform2f(w,c.u_light),u_shadow:new a.UniformColor(w,c.u_shadow),u_highlight:new a.UniformColor(w,c.u_highlight),u_accent:new a.UniformColor(w,c.u_accent)}),hillshadePrepare:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_image:new a.Uniform1i(w,c.u_image),u_dimension:new a.Uniform2f(w,c.u_dimension),u_zoom:new a.Uniform1f(w,c.u_zoom),u_unpack:new a.Uniform4f(w,c.u_unpack)}),line:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_ratio:new a.Uniform1f(w,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(w,c.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(w,c.u_units_to_pixels)}),lineGradient:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_ratio:new a.Uniform1f(w,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(w,c.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(w,c.u_units_to_pixels),u_image:new a.Uniform1i(w,c.u_image),u_image_height:new a.Uniform1f(w,c.u_image_height)}),linePattern:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_texsize:new a.Uniform2f(w,c.u_texsize),u_ratio:new a.Uniform1f(w,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(w,c.u_device_pixel_ratio),u_image:new a.Uniform1i(w,c.u_image),u_units_to_pixels:new a.Uniform2f(w,c.u_units_to_pixels),u_scale:new a.Uniform3f(w,c.u_scale),u_fade:new a.Uniform1f(w,c.u_fade)}),lineSDF:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_ratio:new a.Uniform1f(w,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(w,c.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(w,c.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(w,c.u_patternscale_a),u_patternscale_b:new a.Uniform2f(w,c.u_patternscale_b),u_sdfgamma:new a.Uniform1f(w,c.u_sdfgamma),u_image:new a.Uniform1i(w,c.u_image),u_tex_y_a:new a.Uniform1f(w,c.u_tex_y_a),u_tex_y_b:new a.Uniform1f(w,c.u_tex_y_b),u_mix:new a.Uniform1f(w,c.u_mix)}),raster:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_tl_parent:new a.Uniform2f(w,c.u_tl_parent),u_scale_parent:new a.Uniform1f(w,c.u_scale_parent),u_buffer_scale:new a.Uniform1f(w,c.u_buffer_scale),u_fade_t:new a.Uniform1f(w,c.u_fade_t),u_opacity:new a.Uniform1f(w,c.u_opacity),u_image0:new a.Uniform1i(w,c.u_image0),u_image1:new a.Uniform1i(w,c.u_image1),u_brightness_low:new a.Uniform1f(w,c.u_brightness_low),u_brightness_high:new a.Uniform1f(w,c.u_brightness_high),u_saturation_factor:new a.Uniform1f(w,c.u_saturation_factor),u_contrast_factor:new a.Uniform1f(w,c.u_contrast_factor),u_spin_weights:new a.Uniform3f(w,c.u_spin_weights)}),symbolIcon:(w,c)=>({u_is_size_zoom_constant:new a.Uniform1i(w,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(w,c.u_is_size_feature_constant),u_size_t:new a.Uniform1f(w,c.u_size_t),u_size:new a.Uniform1f(w,c.u_size),u_camera_to_center_distance:new a.Uniform1f(w,c.u_camera_to_center_distance),u_pitch:new a.Uniform1f(w,c.u_pitch),u_rotate_symbol:new a.Uniform1i(w,c.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(w,c.u_aspect_ratio),u_fade_change:new a.Uniform1f(w,c.u_fade_change),u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(w,c.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(w,c.u_coord_matrix),u_is_text:new a.Uniform1i(w,c.u_is_text),u_pitch_with_map:new a.Uniform1i(w,c.u_pitch_with_map),u_texsize:new a.Uniform2f(w,c.u_texsize),u_texture:new a.Uniform1i(w,c.u_texture)}),symbolSDF:(w,c)=>({u_is_size_zoom_constant:new a.Uniform1i(w,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(w,c.u_is_size_feature_constant),u_size_t:new a.Uniform1f(w,c.u_size_t),u_size:new a.Uniform1f(w,c.u_size),u_camera_to_center_distance:new a.Uniform1f(w,c.u_camera_to_center_distance),u_pitch:new a.Uniform1f(w,c.u_pitch),u_rotate_symbol:new a.Uniform1i(w,c.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(w,c.u_aspect_ratio),u_fade_change:new a.Uniform1f(w,c.u_fade_change),u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(w,c.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(w,c.u_coord_matrix),u_is_text:new a.Uniform1i(w,c.u_is_text),u_pitch_with_map:new a.Uniform1i(w,c.u_pitch_with_map),u_texsize:new a.Uniform2f(w,c.u_texsize),u_texture:new a.Uniform1i(w,c.u_texture),u_gamma_scale:new a.Uniform1f(w,c.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(w,c.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(w,c.u_is_halo)}),symbolTextAndIcon:(w,c)=>({u_is_size_zoom_constant:new a.Uniform1i(w,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(w,c.u_is_size_feature_constant),u_size_t:new a.Uniform1f(w,c.u_size_t),u_size:new a.Uniform1f(w,c.u_size),u_camera_to_center_distance:new a.Uniform1f(w,c.u_camera_to_center_distance),u_pitch:new a.Uniform1f(w,c.u_pitch),u_rotate_symbol:new a.Uniform1i(w,c.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(w,c.u_aspect_ratio),u_fade_change:new a.Uniform1f(w,c.u_fade_change),u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(w,c.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(w,c.u_coord_matrix),u_is_text:new a.Uniform1i(w,c.u_is_text),u_pitch_with_map:new a.Uniform1i(w,c.u_pitch_with_map),u_texsize:new a.Uniform2f(w,c.u_texsize),u_texsize_icon:new a.Uniform2f(w,c.u_texsize_icon),u_texture:new a.Uniform1i(w,c.u_texture),u_texture_icon:new a.Uniform1i(w,c.u_texture_icon),u_gamma_scale:new a.Uniform1f(w,c.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(w,c.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(w,c.u_is_halo)}),background:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_opacity:new a.Uniform1f(w,c.u_opacity),u_color:new a.UniformColor(w,c.u_color)}),backgroundPattern:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_opacity:new a.Uniform1f(w,c.u_opacity),u_image:new a.Uniform1i(w,c.u_image),u_pattern_tl_a:new a.Uniform2f(w,c.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(w,c.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(w,c.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(w,c.u_pattern_br_b),u_texsize:new a.Uniform2f(w,c.u_texsize),u_mix:new a.Uniform1f(w,c.u_mix),u_pattern_size_a:new a.Uniform2f(w,c.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(w,c.u_pattern_size_b),u_scale_a:new a.Uniform1f(w,c.u_scale_a),u_scale_b:new a.Uniform1f(w,c.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(w,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(w,c.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(w,c.u_tile_units_to_pixels)}),terrain:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_texture:new a.Uniform1i(w,c.u_texture),u_ele_delta:new a.Uniform1f(w,c.u_ele_delta)}),terrainDepth:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_ele_delta:new a.Uniform1f(w,c.u_ele_delta)}),terrainCoords:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_texture:new a.Uniform1i(w,c.u_texture),u_terrain_coords_id:new a.Uniform1f(w,c.u_terrain_coords_id),u_ele_delta:new a.Uniform1f(w,c.u_ele_delta)})};class Uh{constructor(c,p,v){this.context=c;const _=c.gl;this.buffer=_.createBuffer(),this.dynamicDraw=!!v,this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),_.bufferData(_.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?_.DYNAMIC_DRAW:_.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(c){const p=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Vh={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class nf{constructor(c,p,v,_){this.length=p.length,this.attributes=v,this.itemSize=p.bytesPerElement,this.dynamicDraw=_,this.context=c;const E=c.gl;this.buffer=E.createBuffer(),c.bindVertexBuffer.set(this.buffer),E.bufferData(E.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?E.DYNAMIC_DRAW:E.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(c){if(c.length!==this.length)throw new Error(`Length of new data is ${c.length}, which doesn't match current length of ${this.length}`);const p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,c.arrayBuffer)}enableAttributes(c,p){for(let v=0;v<this.attributes.length;v++){const _=p.attributes[this.attributes[v].name];_!==void 0&&c.enableVertexAttribArray(_)}}setVertexAttribPointers(c,p,v){for(let _=0;_<this.attributes.length;_++){const E=this.attributes[_],D=p.attributes[E.name];D!==void 0&&c.vertexAttribPointer(D,E.components,c[Vh[E.type]],!1,this.itemSize,E.offset+this.itemSize*(v||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Cu=new WeakMap;function vc(w){if(Cu.has(w))return Cu.get(w);{const c=w.getParameter(w.VERSION).startsWith("WebGL 2.0");return Cu.set(w,c),c}}class zn{constructor(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(c){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class bc extends zn{getDefault(){return a.Color.transparent}set(c){const p=this.current;(c.r!==p.r||c.g!==p.g||c.b!==p.b||c.a!==p.a||this.dirty)&&(this.gl.clearColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Wh extends zn{getDefault(){return 1}set(c){(c!==this.current||this.dirty)&&(this.gl.clearDepth(c),this.current=c,this.dirty=!1)}}class qo extends zn{getDefault(){return 0}set(c){(c!==this.current||this.dirty)&&(this.gl.clearStencil(c),this.current=c,this.dirty=!1)}}class Go extends zn{getDefault(){return[!0,!0,!0,!0]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||this.dirty)&&(this.gl.colorMask(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class oy extends zn{getDefault(){return!0}set(c){(c!==this.current||this.dirty)&&(this.gl.depthMask(c),this.current=c,this.dirty=!1)}}class qh extends zn{getDefault(){return 255}set(c){(c!==this.current||this.dirty)&&(this.gl.stencilMask(c),this.current=c,this.dirty=!1)}}class Gh extends zn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(c){const p=this.current;(c.func!==p.func||c.ref!==p.ref||c.mask!==p.mask||this.dirty)&&(this.gl.stencilFunc(c.func,c.ref,c.mask),this.current=c,this.dirty=!1)}}class ay extends zn{getDefault(){const c=this.gl;return[c.KEEP,c.KEEP,c.KEEP]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||this.dirty)&&(this.gl.stencilOp(c[0],c[1],c[2]),this.current=c,this.dirty=!1)}}class sy extends zn{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.STENCIL_TEST):p.disable(p.STENCIL_TEST),this.current=c,this.dirty=!1}}class Hh extends zn{getDefault(){return[0,1]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||this.dirty)&&(this.gl.depthRange(c[0],c[1]),this.current=c,this.dirty=!1)}}class ly extends zn{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.DEPTH_TEST):p.disable(p.DEPTH_TEST),this.current=c,this.dirty=!1}}class cy extends zn{getDefault(){return this.gl.LESS}set(c){(c!==this.current||this.dirty)&&(this.gl.depthFunc(c),this.current=c,this.dirty=!1)}}class Yh extends zn{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.BLEND):p.disable(p.BLEND),this.current=c,this.dirty=!1}}class Wx extends zn{getDefault(){const c=this.gl;return[c.ONE,c.ZERO]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||this.dirty)&&(this.gl.blendFunc(c[0],c[1]),this.current=c,this.dirty=!1)}}class qx extends zn{getDefault(){return a.Color.transparent}set(c){const p=this.current;(c.r!==p.r||c.g!==p.g||c.b!==p.b||c.a!==p.a||this.dirty)&&(this.gl.blendColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Eu extends zn{getDefault(){return this.gl.FUNC_ADD}set(c){(c!==this.current||this.dirty)&&(this.gl.blendEquation(c),this.current=c,this.dirty=!1)}}class KE extends zn{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.CULL_FACE):p.disable(p.CULL_FACE),this.current=c,this.dirty=!1}}class ZE extends zn{getDefault(){return this.gl.BACK}set(c){(c!==this.current||this.dirty)&&(this.gl.cullFace(c),this.current=c,this.dirty=!1)}}class XE extends zn{getDefault(){return this.gl.CCW}set(c){(c!==this.current||this.dirty)&&(this.gl.frontFace(c),this.current=c,this.dirty=!1)}}class JE extends zn{getDefault(){return null}set(c){(c!==this.current||this.dirty)&&(this.gl.useProgram(c),this.current=c,this.dirty=!1)}}class QE extends zn{getDefault(){return this.gl.TEXTURE0}set(c){(c!==this.current||this.dirty)&&(this.gl.activeTexture(c),this.current=c,this.dirty=!1)}}class eT extends zn{getDefault(){const c=this.gl;return[0,0,c.drawingBufferWidth,c.drawingBufferHeight]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||this.dirty)&&(this.gl.viewport(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class uy extends zn{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindFramebuffer(p.FRAMEBUFFER,c),this.current=c,this.dirty=!1}}class Kh extends zn{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindRenderbuffer(p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class dy extends zn{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindTexture(p.TEXTURE_2D,c),this.current=c,this.dirty=!1}}class fy extends zn{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindBuffer(p.ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class Tu extends zn{getDefault(){return null}set(c){const p=this.gl;p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class Gx extends zn{getDefault(){return null}set(c){var p;if(c===this.current&&!this.dirty)return;const v=this.gl;vc(v)?v.bindVertexArray(c):(p=v.getExtension("OES_vertex_array_object"))===null||p===void 0||p.bindVertexArrayOES(c),this.current=c,this.dirty=!1}}class Hx extends zn{getDefault(){return 4}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_ALIGNMENT,c),this.current=c,this.dirty=!1}}class hy extends zn{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c),this.current=c,this.dirty=!1}}class xc extends zn{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,c),this.current=c,this.dirty=!1}}class Zh extends zn{constructor(c,p){super(c),this.context=c,this.parent=p}getDefault(){return null}}class ku extends Zh{setDirty(){this.dirty=!0}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,c,0),this.current=c,this.dirty=!1}}class Pu extends Zh{set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_ATTACHMENT,p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class Yx extends Zh{set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_STENCIL_ATTACHMENT,p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class py{constructor(c,p,v,_,E){this.context=c,this.width=p,this.height=v;const D=c.gl,j=this.framebuffer=D.createFramebuffer();if(this.colorAttachment=new ku(c,j),_)this.depthAttachment=E?new Yx(c,j):new Pu(c,j);else if(E)throw new Error("Stencil cannot be setted without depth");if(D.checkFramebufferStatus(D.FRAMEBUFFER)!==D.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const c=this.context.gl,p=this.colorAttachment.get();if(p&&c.deleteTexture(p),this.depthAttachment){const v=this.depthAttachment.get();v&&c.deleteRenderbuffer(v)}c.deleteFramebuffer(this.framebuffer)}}class on{constructor(c,p,v){this.blendFunction=c,this.blendColor=p,this.mask=v}}on.Replace=[1,0],on.disabled=new on(on.Replace,a.Color.transparent,[!1,!1,!1,!1]),on.unblended=new on(on.Replace,a.Color.transparent,[!0,!0,!0,!0]),on.alphaBlended=new on([1,771],a.Color.transparent,[!0,!0,!0,!0]);class Xh{constructor(c){var p,v;if(this.gl=c,this.clearColor=new bc(this),this.clearDepth=new Wh(this),this.clearStencil=new qo(this),this.colorMask=new Go(this),this.depthMask=new oy(this),this.stencilMask=new qh(this),this.stencilFunc=new Gh(this),this.stencilOp=new ay(this),this.stencilTest=new sy(this),this.depthRange=new Hh(this),this.depthTest=new ly(this),this.depthFunc=new cy(this),this.blend=new Yh(this),this.blendFunc=new Wx(this),this.blendColor=new qx(this),this.blendEquation=new Eu(this),this.cullFace=new KE(this),this.cullFaceSide=new ZE(this),this.frontFace=new XE(this),this.program=new JE(this),this.activeTexture=new QE(this),this.viewport=new eT(this),this.bindFramebuffer=new uy(this),this.bindRenderbuffer=new Kh(this),this.bindTexture=new dy(this),this.bindVertexBuffer=new fy(this),this.bindElementBuffer=new Tu(this),this.bindVertexArray=new Gx(this),this.pixelStoreUnpack=new Hx(this),this.pixelStoreUnpackPremultiplyAlpha=new hy(this),this.pixelStoreUnpackFlipY=new xc(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE),vc(c)){this.HALF_FLOAT=c.HALF_FLOAT;const _=c.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(p=c.RGBA16F)!==null&&p!==void 0?p:_==null?void 0:_.RGBA16F_EXT,this.RGB16F=(v=c.RGB16F)!==null&&v!==void 0?v:_==null?void 0:_.RGB16F_EXT,c.getExtension("EXT_color_buffer_float")}else{c.getExtension("EXT_color_buffer_half_float"),c.getExtension("OES_texture_half_float_linear");const _=c.getExtension("OES_texture_half_float");this.HALF_FLOAT=_==null?void 0:_.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(c,p){return new Uh(this,c,p)}createVertexBuffer(c,p,v){return new nf(this,c,p,v)}createRenderbuffer(c,p,v){const _=this.gl,E=_.createRenderbuffer();return this.bindRenderbuffer.set(E),_.renderbufferStorage(_.RENDERBUFFER,c,p,v),this.bindRenderbuffer.set(null),E}createFramebuffer(c,p,v,_){return new py(this,c,p,v,_)}clear({color:c,depth:p,stencil:v}){const _=this.gl;let E=0;c&&(E|=_.COLOR_BUFFER_BIT,this.clearColor.set(c),this.colorMask.set([!0,!0,!0,!0])),p!==void 0&&(E|=_.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(p),this.depthMask.set(!0)),v!==void 0&&(E|=_.STENCIL_BUFFER_BIT,this.clearStencil.set(v),this.stencilMask.set(255)),_.clear(E)}setCullFace(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))}setDepthMode(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)}setStencilMode(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)}setColorMode(c){a.deepEqual(c.blendFunction,on.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)}createVertexArray(){var c;return vc(this.gl)?this.gl.createVertexArray():(c=this.gl.getExtension("OES_vertex_array_object"))===null||c===void 0?void 0:c.createVertexArrayOES()}deleteVertexArray(c){var p;return vc(this.gl)?this.gl.deleteVertexArray(c):(p=this.gl.getExtension("OES_vertex_array_object"))===null||p===void 0?void 0:p.deleteVertexArrayOES(c)}unbindVAO(){this.bindVertexArray.set(null)}}class Dn{constructor(c,p,v){this.func=c,this.mask=p,this.range=v}}Dn.ReadOnly=!1,Dn.ReadWrite=!0,Dn.disabled=new Dn(519,Dn.ReadOnly,[0,1]);const Jh=7680;class lr{constructor(c,p,v,_,E,D){this.test=c,this.ref=p,this.mask=v,this.fail=_,this.depthFail=E,this.pass=D}}lr.disabled=new lr({func:519,mask:0},0,0,Jh,Jh,Jh);class Tr{constructor(c,p,v){this.enable=c,this.mode=p,this.frontFace=v}}let Qh;function my(w,c,p,v,_,E,D){const j=w.context,U=j.gl,q=w.useProgram("collisionBox"),Y=[];let K=0,re=0;for(let ve=0;ve<v.length;ve++){const Ie=v[ve],Be=c.getTile(Ie),Fe=Be.getBucket(p);if(!Fe)continue;let Ke=Ie.posMatrix;_[0]===0&&_[1]===0||(Ke=w.translatePosMatrix(Ie.posMatrix,Be,_,E));const nt=D?Fe.textCollisionBox:Fe.iconCollisionBox,tt=Fe.collisionCircleArray;if(tt.length>0){const st=a.create(),$t=Ke;a.mul(st,Fe.placementInvProjMatrix,w.transform.glCoordMatrix),a.mul(st,st,Fe.placementViewportMatrix),Y.push({circleArray:tt,circleOffset:re,transform:$t,invTransform:st,coord:Ie}),K+=tt.length/4,re=K}nt&&q.draw(j,U.LINES,Dn.disabled,lr.disabled,w.colorModeForRenderPass(),Tr.disabled,Al(Ke,w.transform,Be),w.style.map.terrain&&w.style.map.terrain.getTerrainData(Ie),p.id,nt.layoutVertexBuffer,nt.indexBuffer,nt.segments,null,w.transform.zoom,null,null,nt.collisionVertexBuffer)}if(!D||!Y.length)return;const de=w.useProgram("collisionCircle"),ce=new a.CollisionCircleLayoutArray;ce.resize(4*K),ce._trim();let me=0;for(const ve of Y)for(let Ie=0;Ie<ve.circleArray.length/4;Ie++){const Be=4*Ie,Fe=ve.circleArray[Be+0],Ke=ve.circleArray[Be+1],nt=ve.circleArray[Be+2],tt=ve.circleArray[Be+3];ce.emplace(me++,Fe,Ke,nt,tt,0),ce.emplace(me++,Fe,Ke,nt,tt,1),ce.emplace(me++,Fe,Ke,nt,tt,2),ce.emplace(me++,Fe,Ke,nt,tt,3)}(!Qh||Qh.length<2*K)&&(Qh=function(ve){const Ie=2*ve,Be=new a.QuadTriangleArray;Be.resize(Ie),Be._trim();for(let Fe=0;Fe<Ie;Fe++){const Ke=6*Fe;Be.uint16[Ke+0]=4*Fe+0,Be.uint16[Ke+1]=4*Fe+1,Be.uint16[Ke+2]=4*Fe+2,Be.uint16[Ke+3]=4*Fe+2,Be.uint16[Ke+4]=4*Fe+3,Be.uint16[Ke+5]=4*Fe+0}return Be}(K));const le=j.createIndexBuffer(Qh,!0),Ae=j.createVertexBuffer(ce,a.collisionCircleLayout.members,!0);for(const ve of Y){const Ie={u_matrix:ve.transform,u_inv_matrix:ve.invTransform,u_camera_to_center_distance:(ze=w.transform).cameraToCenterDistance,u_viewport_size:[ze.width,ze.height]};de.draw(j,U.TRIANGLES,Dn.disabled,lr.disabled,w.colorModeForRenderPass(),Tr.disabled,Ie,w.style.map.terrain&&w.style.map.terrain.getTerrainData(ve.coord),p.id,Ae,le,a.SegmentVector.simpleSegment(0,2*ve.circleOffset,ve.circleArray.length,ve.circleArray.length/2),null,w.transform.zoom,null,null,null)}var ze;Ae.destroy(),le.destroy()}Tr.disabled=new Tr(!1,1029,2305),Tr.backCCW=new Tr(!0,1029,2305);const tT=a.identity(new Float32Array(16));function gy(w,c,p,v,_,E){const{horizontalAlign:D,verticalAlign:j}=a.getAnchorAlignment(w);return new a.Point((-(D-.5)*c/_+v[0])*E,(-(j-.5)*p/_+v[1])*E)}function ep(w,c,p,v,_,E,D,j,U,q,Y){const K=w.text.placedSymbolArray,re=w.text.dynamicLayoutVertexArray,de=w.icon.dynamicLayoutVertexArray,ce={};re.clear();for(let me=0;me<K.length;me++){const le=K.get(me),Ae=le.hidden||!le.crossTileID||w.allowVerticalPlacement&&!le.placedOrientation?null:v[le.crossTileID];if(Ae){const ze=new a.Point(le.anchorX,le.anchorY),ve=un(ze,p?D:E,Y),Ie=Rn(_.cameraToCenterDistance,ve.signedDistanceFromCamera);let Be=a.evaluateSizeForFeature(w.textSizeData,U,le)*Ie/a.ONE_EM;p&&(Be*=w.tilePixelRatio/j);const{width:Fe,height:Ke,anchor:nt,textOffset:tt,textBoxScale:st}=Ae,$t=gy(nt,Fe,Ke,tt,st,Be),wn=p?un(ze.add($t),E,Y).point:ve.point.add(c?$t.rotate(-_.angle):$t),bt=w.allowVerticalPlacement&&le.placedOrientation===a.WritingMode.vertical?Math.PI/2:0;for(let Qt=0;Qt<le.numGlyphs;Qt++)a.addDynamicAttributes(re,wn,bt);q&&le.associatedIconIndex>=0&&(ce[le.associatedIconIndex]={shiftedAnchor:wn,angle:bt})}else ne(le.numGlyphs,re)}if(q){de.clear();const me=w.icon.placedSymbolArray;for(let le=0;le<me.length;le++){const Ae=me.get(le);if(Ae.hidden)ne(Ae.numGlyphs,de);else{const ze=ce[le];if(ze)for(let ve=0;ve<Ae.numGlyphs;ve++)a.addDynamicAttributes(de,ze.shiftedAnchor,ze.angle);else ne(Ae.numGlyphs,de)}}w.icon.dynamicLayoutVertexBuffer.updateData(de)}w.text.dynamicLayoutVertexBuffer.updateData(re)}function tp(w,c,p){return p.iconsInText&&c?"symbolTextAndIcon":w?"symbolSDF":"symbolIcon"}function np(w,c,p,v,_,E,D,j,U,q,Y,K){const re=w.context,de=re.gl,ce=w.transform,me=j==="map",le=U==="map",Ae=j!=="viewport"&&p.layout.get("symbol-placement")!=="point",ze=me&&!le&&!Ae,ve=!p.layout.get("symbol-sort-key").isConstant();let Ie=!1;const Be=w.depthModeForSublayer(0,Dn.ReadOnly),Fe=p._unevaluatedLayout.hasValue("text-variable-anchor")||p._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Ke=[];for(const nt of v){const tt=c.getTile(nt),st=tt.getBucket(p);if(!st)continue;const $t=_?st.text:st.icon;if(!$t||!$t.segments.get().length||!$t.hasVisibleVertices)continue;const wn=$t.programConfigurations.get(p.id),bt=_||st.sdfIcons,Qt=_?st.textSizeData:st.iconSizeData,Nt=le||ce.pitch!==0,Or=w.useProgram(tp(bt,_,st),wn),pn=a.evaluateSizeForZoom(Qt,ce.zoom),gn=w.style.map.terrain&&w.style.map.terrain.getTerrainData(nt);let Sn,Qr,cr,ma,Wr=[0,0],Lr=null;if(_)Qr=tt.glyphAtlasTexture,cr=de.LINEAR,Sn=tt.glyphAtlasTexture.size,st.iconsInText&&(Wr=tt.imageAtlasTexture.size,Lr=tt.imageAtlasTexture,ma=Nt||w.options.rotating||w.options.zooming||Qt.kind==="composite"||Qt.kind==="camera"?de.LINEAR:de.NEAREST);else{const ei=p.layout.get("icon-size").constantOr(0)!==1||st.iconsNeedLinear;Qr=tt.imageAtlasTexture,cr=bt||w.options.rotating||w.options.zooming||ei||Nt?de.LINEAR:de.NEAREST,Sn=tt.imageAtlasTexture.size}const Zo=Me(tt,1,w.transform.zoom),fs=gi(nt.posMatrix,le,me,w.transform,Zo),Ar=Ue(nt.posMatrix,le,me,w.transform,Zo),Rl=Fe&&st.hasTextData(),Dl=p.layout.get("icon-text-fit")!=="none"&&Rl&&st.hasIconData();if(Ae){const ei=w.style.map.terrain?(Xo,ni)=>w.style.map.terrain.getElevation(nt,Xo,ni):null,ti=p.layout.get("text-rotation-alignment")==="map";qi(st,nt.posMatrix,w,_,fs,Ar,le,q,ti,ei)}const Zs=w.translatePosMatrix(nt.posMatrix,tt,E,D),_c=Ae||_&&Fe||Dl?tT:fs,so=w.translatePosMatrix(Ar,tt,E,D,!0),Di=bt&&p.paint.get(_?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Gi;Gi=bt?st.iconsInText?Vx(Qt.kind,pn,ze,le,w,Zs,_c,so,Sn,Wr):iy(Qt.kind,pn,ze,le,w,Zs,_c,so,_,Sn,!0):ry(Qt.kind,pn,ze,le,w,Zs,_c,so,_,Sn);const vf={program:Or,buffers:$t,uniformValues:Gi,atlasTexture:Qr,atlasTextureIcon:Lr,atlasInterpolation:cr,atlasInterpolationIcon:ma,isSDF:bt,hasHalo:Di};if(ve&&st.canOverlap){Ie=!0;const ei=$t.segments.get();for(const ti of ei)Ke.push({segments:new a.SegmentVector([ti]),sortKey:ti.sortKey,state:vf,terrainData:gn})}else Ke.push({segments:$t.segments,sortKey:0,state:vf,terrainData:gn})}Ie&&Ke.sort((nt,tt)=>nt.sortKey-tt.sortKey);for(const nt of Ke){const tt=nt.state;if(re.activeTexture.set(de.TEXTURE0),tt.atlasTexture.bind(tt.atlasInterpolation,de.CLAMP_TO_EDGE),tt.atlasTextureIcon&&(re.activeTexture.set(de.TEXTURE1),tt.atlasTextureIcon&&tt.atlasTextureIcon.bind(tt.atlasInterpolationIcon,de.CLAMP_TO_EDGE)),tt.isSDF){const st=tt.uniformValues;tt.hasHalo&&(st.u_is_halo=1,rp(tt.buffers,nt.segments,p,w,tt.program,Be,Y,K,st,nt.terrainData)),st.u_is_halo=0}rp(tt.buffers,nt.segments,p,w,tt.program,Be,Y,K,tt.uniformValues,nt.terrainData)}}function rp(w,c,p,v,_,E,D,j,U,q){const Y=v.context;_.draw(Y,Y.gl.TRIANGLES,E,D,j,Tr.disabled,U,q,p.id,w.layoutVertexBuffer,w.indexBuffer,c,p.paint,v.transform.zoom,w.programConfigurations.get(p.id),w.dynamicLayoutVertexBuffer,w.opacityVertexBuffer)}function yy(w,c,p,v,_){if(!p||!v||!v.imageAtlas)return;const E=v.imageAtlas.patternPositions;let D=E[p.to.toString()],j=E[p.from.toString()];if(!D||!j){const U=_.getPaintProperty(c);D=E[U],j=E[U]}D&&j&&w.setConstantPatternPositions(D,j)}function rf(w,c,p,v,_,E,D){const j=w.context.gl,U="fill-pattern",q=p.paint.get(U),Y=q&&q.constantOr(1),K=p.getCrossfadeParameters();let re,de,ce,me,le;D?(de=Y&&!p.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",re=j.LINES):(de=Y?"fillPattern":"fill",re=j.TRIANGLES);const Ae=q.constantOr(null);for(const ze of v){const ve=c.getTile(ze);if(Y&&!ve.patternsLoaded())continue;const Ie=ve.getBucket(p);if(!Ie)continue;const Be=Ie.programConfigurations.get(p.id),Fe=w.useProgram(de,Be),Ke=w.style.map.terrain&&w.style.map.terrain.getTerrainData(ze);Y&&(w.context.activeTexture.set(j.TEXTURE0),ve.imageAtlasTexture.bind(j.LINEAR,j.CLAMP_TO_EDGE),Be.updatePaintBuffers(K)),yy(Be,U,Ae,ve,p);const nt=Ke?ze:null,tt=w.translatePosMatrix(nt?nt.posMatrix:ze.posMatrix,ve,p.paint.get("fill-translate"),p.paint.get("fill-translate-anchor"));if(D){me=Ie.indexBuffer2,le=Ie.segments2;const st=[j.drawingBufferWidth,j.drawingBufferHeight];ce=de==="fillOutlinePattern"&&Y?zh(tt,w,K,ve,st):jx(tt,st)}else me=Ie.indexBuffer,le=Ie.segments,ce=Y?zx(tt,w,K,ve):Ys(tt);Fe.draw(w.context,re,_,w.stencilModeForClipping(ze),E,Tr.disabled,ce,Ke,p.id,Ie.layoutVertexBuffer,me,le,p.paint,w.transform.zoom,Be)}}function Ou(w,c,p,v,_,E,D){const j=w.context,U=j.gl,q="fill-extrusion-pattern",Y=p.paint.get(q),K=Y.constantOr(1),re=p.getCrossfadeParameters(),de=p.paint.get("fill-extrusion-opacity"),ce=Y.constantOr(null);for(const me of v){const le=c.getTile(me),Ae=le.getBucket(p);if(!Ae)continue;const ze=w.style.map.terrain&&w.style.map.terrain.getTerrainData(me),ve=Ae.programConfigurations.get(p.id),Ie=w.useProgram(K?"fillExtrusionPattern":"fillExtrusion",ve);K&&(w.context.activeTexture.set(U.TEXTURE0),le.imageAtlasTexture.bind(U.LINEAR,U.CLAMP_TO_EDGE),ve.updatePaintBuffers(re)),yy(ve,q,ce,le,p);const Be=w.translatePosMatrix(me.posMatrix,le,p.paint.get("fill-extrusion-translate"),p.paint.get("fill-extrusion-translate-anchor")),Fe=p.paint.get("fill-extrusion-vertical-gradient"),Ke=K?Nx(Be,w,Fe,de,me,re,le):ha(Be,w,Fe,de);Ie.draw(j,j.gl.TRIANGLES,_,E,D,Tr.backCCW,Ke,ze,p.id,Ae.layoutVertexBuffer,Ae.indexBuffer,Ae.segments,p.paint,w.transform.zoom,ve,w.style.map.terrain&&Ae.centroidVertexBuffer)}}function vy(w,c,p,v,_,E,D){const j=w.context,U=j.gl,q=p.fbo;if(!q)return;const Y=w.useProgram("hillshade"),K=w.style.map.terrain&&w.style.map.terrain.getTerrainData(c);j.activeTexture.set(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,q.colorAttachment.get()),Y.draw(j,U.TRIANGLES,_,E,D,Tr.disabled,((re,de,ce,me)=>{const le=ce.paint.get("hillshade-shadow-color"),Ae=ce.paint.get("hillshade-highlight-color"),ze=ce.paint.get("hillshade-accent-color");let ve=ce.paint.get("hillshade-illumination-direction")*(Math.PI/180);ce.paint.get("hillshade-illumination-anchor")==="viewport"&&(ve-=re.transform.angle);const Ie=!re.options.moving;return{u_matrix:me?me.posMatrix:re.transform.calculatePosMatrix(de.tileID.toUnwrapped(),Ie),u_image:0,u_latrange:GE(0,de.tileID),u_light:[ce.paint.get("hillshade-exaggeration"),ve],u_shadow:le,u_highlight:Ae,u_accent:ze}})(w,p,v,K?c:null),K,v.id,w.rasterBoundsBuffer,w.quadTriangleIndexBuffer,w.rasterBoundsSegments)}function nT(w,c,p,v,_,E){const D=w.context,j=D.gl,U=c.dem;if(U&&U.data){const q=U.dim,Y=U.stride,K=U.getPixels();if(D.activeTexture.set(j.TEXTURE1),D.pixelStoreUnpackPremultiplyAlpha.set(!1),c.demTexture=c.demTexture||w.getTileTexture(Y),c.demTexture){const de=c.demTexture;de.update(K,{premultiply:!1}),de.bind(j.NEAREST,j.CLAMP_TO_EDGE)}else c.demTexture=new ee(D,K,j.RGBA,{premultiply:!1}),c.demTexture.bind(j.NEAREST,j.CLAMP_TO_EDGE);D.activeTexture.set(j.TEXTURE0);let re=c.fbo;if(!re){const de=new ee(D,{width:q,height:q,data:null},j.RGBA);de.bind(j.LINEAR,j.CLAMP_TO_EDGE),re=c.fbo=D.createFramebuffer(q,q,!0,!1),re.colorAttachment.set(de.texture)}D.bindFramebuffer.set(re.framebuffer),D.viewport.set([0,0,q,q]),w.useProgram("hillshadePrepare").draw(D,j.TRIANGLES,v,_,E,Tr.disabled,((de,ce)=>{const me=ce.stride,le=a.create();return a.ortho(le,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(le,le,[0,-a.EXTENT,0]),{u_matrix:le,u_image:1,u_dimension:[me,me],u_zoom:de.overscaledZ,u_unpack:ce.getUnpackVector()}})(c.tileID,U),null,p.id,w.rasterBoundsBuffer,w.quadTriangleIndexBuffer,w.rasterBoundsSegments),c.needsHillshadePrepare=!1}}function by(w,c,p,v,_,E){const D=v.paint.get("raster-fade-duration");if(!E&&D>0){const j=a.browser.now(),U=(j-w.timeAdded)/D,q=c?(j-c.timeAdded)/D:-1,Y=p.getSource(),K=_.coveringZoomLevel({tileSize:Y.tileSize,roundZoom:Y.roundZoom}),re=!c||Math.abs(c.tileID.overscaledZ-K)>Math.abs(w.tileID.overscaledZ-K),de=re&&w.refreshedUponExpiration?1:a.clamp(re?U:1-q,0,1);return w.refreshedUponExpiration&&U>=1&&(w.refreshedUponExpiration=!1),c?{opacity:1,mix:1-de}:{opacity:de,mix:0}}return{opacity:1,mix:0}}const rT=new a.Color(1,0,0,1),Kx=new a.Color(0,1,0,1),ip=new a.Color(0,0,1,1),xy=new a.Color(1,0,1,1),Zx=new a.Color(0,1,1,1);function _y(w,c,p,v){Au(w,0,c+p/2,w.transform.width,p,v)}function of(w,c,p,v){Au(w,c-p/2,0,p,w.transform.height,v)}function Au(w,c,p,v,_,E){const D=w.context,j=D.gl;j.enable(j.SCISSOR_TEST),j.scissor(c*w.pixelRatio,p*w.pixelRatio,v*w.pixelRatio,_*w.pixelRatio),D.clear({color:E}),j.disable(j.SCISSOR_TEST)}function iT(w,c,p){const v=w.context,_=v.gl,E=p.posMatrix,D=w.useProgram("debug"),j=Dn.disabled,U=lr.disabled,q=w.colorModeForRenderPass(),Y="$debug",K=w.style.map.terrain&&w.style.map.terrain.getTerrainData(p);v.activeTexture.set(_.TEXTURE0);const re=c.getTileByID(p.key).latestRawTileData,de=Math.floor((re&&re.byteLength||0)/1024),ce=c.getTile(p).tileSize,me=512/Math.min(ce,512)*(p.overscaledZ/w.transform.zoom)*.5;let le=p.canonical.toString();p.overscaledZ!==p.canonical.z&&(le+=` => ${p.overscaledZ}`),function(Ae,ze){Ae.initDebugOverlayCanvas();const ve=Ae.debugOverlayCanvas,Ie=Ae.context.gl,Be=Ae.debugOverlayCanvas.getContext("2d");Be.clearRect(0,0,ve.width,ve.height),Be.shadowColor="white",Be.shadowBlur=2,Be.lineWidth=1.5,Be.strokeStyle="white",Be.textBaseline="top",Be.font="bold 36px Open Sans, sans-serif",Be.fillText(ze,5,5),Be.strokeText(ze,5,5),Ae.debugOverlayTexture.update(ve),Ae.debugOverlayTexture.bind(Ie.LINEAR,Ie.CLAMP_TO_EDGE)}(w,`${le} ${de}kB`),D.draw(v,_.TRIANGLES,j,U,on.alphaBlended,Tr.disabled,Bh(E,a.Color.transparent,me),null,Y,w.debugBuffer,w.quadTriangleIndexBuffer,w.debugSegments),D.draw(v,_.LINE_STRIP,j,U,q,Tr.disabled,Bh(E,a.Color.red),K,Y,w.debugBuffer,w.tileBorderIndexBuffer,w.debugSegments)}function wy(w,c,p){const v=w.context,_=v.gl,E=w.colorModeForRenderPass(),D=new Dn(_.LEQUAL,Dn.ReadWrite,w.depthRangeFor3D),j=w.useProgram("terrain"),U=c.getTerrainMesh();v.bindFramebuffer.set(null),v.viewport.set([0,0,w.width,w.height]);for(const q of p){const Y=w.renderToTexture.getTexture(q),K=c.getTerrainData(q.tileID);v.activeTexture.set(_.TEXTURE0),_.bindTexture(_.TEXTURE_2D,Y.texture);const re={u_matrix:w.transform.calculatePosMatrix(q.tileID.toUnwrapped()),u_texture:0,u_ele_delta:c.getMeshFrameDelta(w.transform.zoom)};j.draw(v,_.TRIANGLES,D,lr.disabled,E,Tr.backCCW,re,K,"terrain",U.vertexBuffer,U.indexBuffer,U.segments)}}class Vr{constructor(c,p){this.context=new Xh(c),this.transform=p,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.create(),renderTime:0},this.setup(),this.numSublayers=Ne.maxUnderzooming+Ne.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Lh}resize(c,p,v){if(this.width=Math.floor(c*v),this.height=Math.floor(p*v),this.pixelRatio=v,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const _ of this.style._order)this.style._layers[_].resize()}setup(){const c=this.context,p=new a.PosArray;p.emplaceBack(0,0),p.emplaceBack(a.EXTENT,0),p.emplaceBack(0,a.EXTENT),p.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=c.createVertexBuffer(p,_o.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);const v=new a.PosArray;v.emplaceBack(0,0),v.emplaceBack(a.EXTENT,0),v.emplaceBack(0,a.EXTENT),v.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=c.createVertexBuffer(v,_o.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);const _=new a.RasterBoundsArray;_.emplaceBack(0,0,0,0),_.emplaceBack(a.EXTENT,0,a.EXTENT,0),_.emplaceBack(0,a.EXTENT,0,a.EXTENT),_.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=c.createVertexBuffer(_,He.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);const E=new a.PosArray;E.emplaceBack(0,0),E.emplaceBack(1,0),E.emplaceBack(0,1),E.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(E,_o.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);const D=new a.LineStripIndexArray;D.emplaceBack(0),D.emplaceBack(1),D.emplaceBack(3),D.emplaceBack(2),D.emplaceBack(0),this.tileBorderIndexBuffer=c.createIndexBuffer(D);const j=new a.TriangleIndexArray;j.emplaceBack(0,1,2),j.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(j);const U=this.context.gl;this.stencilClearMode=new lr({func:U.ALWAYS,mask:0},0,255,U.ZERO,U.ZERO,U.ZERO)}clearStencil(){const c=this.context,p=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const v=a.create();a.ortho(v,0,this.width,this.height,0,0,1),a.scale(v,v,[p.drawingBufferWidth,p.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(c,p.TRIANGLES,Dn.disabled,this.stencilClearMode,on.disabled,Tr.disabled,ef(v),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(c,p){if(this.currentStencilSource===c.source||!c.isTileClipped()||!p||!p.length)return;this.currentStencilSource=c.source;const v=this.context,_=v.gl;this.nextStencilID+p.length>256&&this.clearStencil(),v.setColorMode(on.disabled),v.setDepthMode(Dn.disabled);const E=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const D of p){const j=this._tileClippingMaskIDs[D.key]=this.nextStencilID++,U=this.style.map.terrain&&this.style.map.terrain.getTerrainData(D);E.draw(v,_.TRIANGLES,Dn.disabled,new lr({func:_.ALWAYS,mask:0},j,255,_.KEEP,_.KEEP,_.REPLACE),on.disabled,Tr.disabled,ef(D.posMatrix),U,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const c=this.nextStencilID++,p=this.context.gl;return new lr({func:p.NOTEQUAL,mask:255},c,255,p.KEEP,p.KEEP,p.REPLACE)}stencilModeForClipping(c){const p=this.context.gl;return new lr({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,p.KEEP,p.KEEP,p.REPLACE)}stencilConfigForOverlap(c){const p=this.context.gl,v=c.sort((D,j)=>j.overscaledZ-D.overscaledZ),_=v[v.length-1].overscaledZ,E=v[0].overscaledZ-_+1;if(E>1){this.currentStencilSource=void 0,this.nextStencilID+E>256&&this.clearStencil();const D={};for(let j=0;j<E;j++)D[j+_]=new lr({func:p.GEQUAL,mask:255},j+this.nextStencilID,255,p.KEEP,p.KEEP,p.REPLACE);return this.nextStencilID+=E,[D,v]}return[{[_]:lr.disabled},v]}colorModeForRenderPass(){const c=this.context.gl;return this._showOverdrawInspector?new on([c.CONSTANT_COLOR,c.ONE],new a.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?on.unblended:on.alphaBlended}depthModeForSublayer(c,p,v){if(!this.opaquePassEnabledForLayer())return Dn.disabled;const _=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new Dn(v||this.context.gl.LEQUAL,p,[_,_])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(c,p){this.style=c,this.options=p,this.lineAtlas=c.lineAtlas,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();const v=this.style._order,_=this.style.sourceCaches,E={},D={},j={};for(const U in _){const q=_[U];q.used&&q.prepare(this.context),E[U]=q.getVisibleCoordinates(),D[U]=E[U].slice().reverse(),j[U]=q.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let U=0;U<v.length;U++)if(this.style._layers[v[U]].is3D()){this.opaquePassCutoff=U;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const U=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!a.equals(this.terrainFacilitator.matrix,this.transform.projMatrix)||U.length)&&(a.copy(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(q,Y){const K=q.context,re=K.gl,de=on.unblended,ce=new Dn(re.LEQUAL,Dn.ReadWrite,[0,1]),me=Y.getTerrainMesh(),le=Y.sourceCache.getRenderableTiles(),Ae=q.useProgram("terrainDepth");K.bindFramebuffer.set(Y.getFramebuffer("depth").framebuffer),K.viewport.set([0,0,q.width/devicePixelRatio,q.height/devicePixelRatio]),K.clear({color:a.Color.transparent,depth:1});for(const ze of le){const ve=Y.getTerrainData(ze.tileID),Ie={u_matrix:q.transform.calculatePosMatrix(ze.tileID.toUnwrapped()),u_ele_delta:Y.getMeshFrameDelta(q.transform.zoom)};Ae.draw(K,re.TRIANGLES,ce,lr.disabled,de,Tr.backCCW,Ie,ve,"terrain",me.vertexBuffer,me.indexBuffer,me.segments)}K.bindFramebuffer.set(null),K.viewport.set([0,0,q.width,q.height])}(this,this.style.map.terrain),function(q,Y){const K=q.context,re=K.gl,de=on.unblended,ce=new Dn(re.LEQUAL,Dn.ReadWrite,[0,1]),me=Y.getTerrainMesh(),le=Y.getCoordsTexture(),Ae=Y.sourceCache.getRenderableTiles(),ze=q.useProgram("terrainCoords");K.bindFramebuffer.set(Y.getFramebuffer("coords").framebuffer),K.viewport.set([0,0,q.width/devicePixelRatio,q.height/devicePixelRatio]),K.clear({color:a.Color.transparent,depth:1}),Y.coordsIndex=[];for(const ve of Ae){const Ie=Y.getTerrainData(ve.tileID);K.activeTexture.set(re.TEXTURE0),re.bindTexture(re.TEXTURE_2D,le.texture);const Be={u_matrix:q.transform.calculatePosMatrix(ve.tileID.toUnwrapped()),u_terrain_coords_id:(255-Y.coordsIndex.length)/255,u_texture:0,u_ele_delta:Y.getMeshFrameDelta(q.transform.zoom)};ze.draw(K,re.TRIANGLES,ce,lr.disabled,de,Tr.backCCW,Be,Ie,"terrain",me.vertexBuffer,me.indexBuffer,me.segments),Y.coordsIndex.push(ve.tileID.key)}K.bindFramebuffer.set(null),K.viewport.set([0,0,q.width,q.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const U of v){const q=this.style._layers[U];if(!q.hasOffscreenPass()||q.isHidden(this.transform.zoom))continue;const Y=D[q.source];(q.type==="custom"||Y.length)&&this.renderLayer(this,_[q.source],q,Y)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:p.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=p.showOverdrawInspector,this.depthRangeFor3D=[0,1-(c._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=v.length-1;this.currentLayer>=0;this.currentLayer--){const U=this.style._layers[v[this.currentLayer]],q=_[U.source],Y=E[U.source];this._renderTileClippingMasks(U,Y),this.renderLayer(this,q,U,Y)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<v.length;this.currentLayer++){const U=this.style._layers[v[this.currentLayer]],q=_[U.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(U))continue;const Y=(U.type==="symbol"?j:D)[U.source];this._renderTileClippingMasks(U,E[U.source]),this.renderLayer(this,q,U,Y)}if(this.options.showTileBoundaries){const U=function(q,Y){let K=null;const re=Object.values(q._layers).flatMap(le=>le.source&&!le.isHidden(Y)?[q.sourceCaches[le.source]]:[]),de=re.filter(le=>le.getSource().type==="vector"),ce=re.filter(le=>le.getSource().type!=="vector"),me=le=>{(!K||K.getSource().maxzoom<le.getSource().maxzoom)&&(K=le)};return de.forEach(le=>me(le)),K||ce.forEach(le=>me(le)),K}(this.style,this.transform.zoom);U&&function(q,Y,K){for(let re=0;re<K.length;re++)iT(q,Y,K[re])}(this,U,U.getVisibleCoordinates())}this.options.showPadding&&function(U){const q=U.transform.padding;_y(U,U.transform.height-(q.top||0),3,rT),_y(U,q.bottom||0,3,Kx),of(U,q.left||0,3,ip),of(U,U.transform.width-(q.right||0),3,xy);const Y=U.transform.centerPoint;(function(K,re,de,ce){Au(K,re-1,de-10,2,20,ce),Au(K,re-10,de-1,20,2,ce)})(U,Y.x,U.transform.height-Y.y,Zx)}(this),this.context.setDefault()}renderLayer(c,p,v,_){if(!v.isHidden(this.transform.zoom)&&(v.type==="background"||v.type==="custom"||(_||[]).length))switch(this.id=v.id,v.type){case"symbol":(function(E,D,j,U,q){if(E.renderPass!=="translucent")return;const Y=lr.disabled,K=E.colorModeForRenderPass();(j._unevaluatedLayout.hasValue("text-variable-anchor")||j._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(re,de,ce,me,le,Ae,ze){const ve=de.transform,Ie=le==="map",Be=Ae==="map";for(const Fe of re){const Ke=me.getTile(Fe),nt=Ke.getBucket(ce);if(!nt||!nt.text||!nt.text.segments.get().length)continue;const tt=a.evaluateSizeForZoom(nt.textSizeData,ve.zoom),st=Me(Ke,1,de.transform.zoom),$t=gi(Fe.posMatrix,Be,Ie,de.transform,st),wn=ce.layout.get("icon-text-fit")!=="none"&&nt.hasIconData();if(tt){const bt=Math.pow(2,ve.zoom-Ke.tileID.overscaledZ);ep(nt,Ie,Be,ze,ve,$t,Fe.posMatrix,bt,tt,wn,de.style.map.terrain?(Qt,Nt)=>de.style.map.terrain.getElevation(Fe,Qt,Nt):null)}}}(U,E,j,D,j.layout.get("text-rotation-alignment"),j.layout.get("text-pitch-alignment"),q),j.paint.get("icon-opacity").constantOr(1)!==0&&np(E,D,j,U,!1,j.paint.get("icon-translate"),j.paint.get("icon-translate-anchor"),j.layout.get("icon-rotation-alignment"),j.layout.get("icon-pitch-alignment"),j.layout.get("icon-keep-upright"),Y,K),j.paint.get("text-opacity").constantOr(1)!==0&&np(E,D,j,U,!0,j.paint.get("text-translate"),j.paint.get("text-translate-anchor"),j.layout.get("text-rotation-alignment"),j.layout.get("text-pitch-alignment"),j.layout.get("text-keep-upright"),Y,K),D.map.showCollisionBoxes&&(my(E,D,j,U,j.paint.get("text-translate"),j.paint.get("text-translate-anchor"),!0),my(E,D,j,U,j.paint.get("icon-translate"),j.paint.get("icon-translate-anchor"),!1))})(c,p,v,_,this.style.placement.variableOffsets);break;case"circle":(function(E,D,j,U){if(E.renderPass!=="translucent")return;const q=j.paint.get("circle-opacity"),Y=j.paint.get("circle-stroke-width"),K=j.paint.get("circle-stroke-opacity"),re=!j.layout.get("circle-sort-key").isConstant();if(q.constantOr(1)===0&&(Y.constantOr(1)===0||K.constantOr(1)===0))return;const de=E.context,ce=de.gl,me=E.depthModeForSublayer(0,Dn.ReadOnly),le=lr.disabled,Ae=E.colorModeForRenderPass(),ze=[];for(let ve=0;ve<U.length;ve++){const Ie=U[ve],Be=D.getTile(Ie),Fe=Be.getBucket(j);if(!Fe)continue;const Ke=Fe.programConfigurations.get(j.id),nt=E.useProgram("circle",Ke),tt=Fe.layoutVertexBuffer,st=Fe.indexBuffer,$t=E.style.map.terrain&&E.style.map.terrain.getTerrainData(Ie),wn={programConfiguration:Ke,program:nt,layoutVertexBuffer:tt,indexBuffer:st,uniformValues:jh(E,Ie,Be,j),terrainData:$t};if(re){const bt=Fe.segments.get();for(const Qt of bt)ze.push({segments:new a.SegmentVector([Qt]),sortKey:Qt.sortKey,state:wn})}else ze.push({segments:Fe.segments,sortKey:0,state:wn})}re&&ze.sort((ve,Ie)=>ve.sortKey-Ie.sortKey);for(const ve of ze){const{programConfiguration:Ie,program:Be,layoutVertexBuffer:Fe,indexBuffer:Ke,uniformValues:nt,terrainData:tt}=ve.state;Be.draw(de,ce.TRIANGLES,me,le,Ae,Tr.disabled,nt,tt,j.id,Fe,Ke,ve.segments,j.paint,E.transform.zoom,Ie)}})(c,p,v,_);break;case"heatmap":(function(E,D,j,U){if(j.paint.get("heatmap-opacity")!==0)if(E.renderPass==="offscreen"){const q=E.context,Y=q.gl,K=lr.disabled,re=new on([Y.ONE,Y.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(de,ce,me){const le=de.gl;de.activeTexture.set(le.TEXTURE1),de.viewport.set([0,0,ce.width/4,ce.height/4]);let Ae=me.heatmapFbo;if(Ae)le.bindTexture(le.TEXTURE_2D,Ae.colorAttachment.get()),de.bindFramebuffer.set(Ae.framebuffer);else{const ze=le.createTexture();le.bindTexture(le.TEXTURE_2D,ze),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_WRAP_S,le.CLAMP_TO_EDGE),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_WRAP_T,le.CLAMP_TO_EDGE),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_MIN_FILTER,le.LINEAR),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_MAG_FILTER,le.LINEAR),Ae=me.heatmapFbo=de.createFramebuffer(ce.width/4,ce.height/4,!1,!1),function(ve,Ie,Be,Fe){var Ke,nt;const tt=ve.gl,st=(Ke=ve.HALF_FLOAT)!==null&&Ke!==void 0?Ke:tt.UNSIGNED_BYTE,$t=(nt=ve.RGBA16F)!==null&&nt!==void 0?nt:tt.RGBA;tt.texImage2D(tt.TEXTURE_2D,0,$t,Ie.width/4,Ie.height/4,0,tt.RGBA,st,null),Fe.colorAttachment.set(Be)}(de,ce,ze,Ae)}})(q,E,j),q.clear({color:a.Color.transparent});for(let de=0;de<U.length;de++){const ce=U[de];if(D.hasRenderableParent(ce))continue;const me=D.getTile(ce),le=me.getBucket(j);if(!le)continue;const Ae=le.programConfigurations.get(j.id),ze=E.useProgram("heatmap",Ae),{zoom:ve}=E.transform;ze.draw(q,Y.TRIANGLES,Dn.disabled,K,re,Tr.disabled,qE(ce.posMatrix,me,ve,j.paint.get("heatmap-intensity")),null,j.id,le.layoutVertexBuffer,le.indexBuffer,le.segments,j.paint,E.transform.zoom,Ae)}q.viewport.set([0,0,E.width,E.height])}else E.renderPass==="translucent"&&(E.context.setColorMode(E.colorModeForRenderPass()),function(q,Y){const K=q.context,re=K.gl,de=Y.heatmapFbo;if(!de)return;K.activeTexture.set(re.TEXTURE0),re.bindTexture(re.TEXTURE_2D,de.colorAttachment.get()),K.activeTexture.set(re.TEXTURE1);let ce=Y.colorRampTexture;ce||(ce=Y.colorRampTexture=new ee(K,Y.colorRamp,re.RGBA)),ce.bind(re.LINEAR,re.CLAMP_TO_EDGE),q.useProgram("heatmapTexture").draw(K,re.TRIANGLES,Dn.disabled,lr.disabled,q.colorModeForRenderPass(),Tr.disabled,((me,le,Ae,ze)=>{const ve=a.create();a.ortho(ve,0,me.width,me.height,0,0,1);const Ie=me.context.gl;return{u_matrix:ve,u_world:[Ie.drawingBufferWidth,Ie.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:le.paint.get("heatmap-opacity")}})(q,Y),null,Y.id,q.viewportBuffer,q.quadTriangleIndexBuffer,q.viewportSegments,Y.paint,q.transform.zoom)}(E,j))})(c,p,v,_);break;case"line":(function(E,D,j,U){if(E.renderPass!=="translucent")return;const q=j.paint.get("line-opacity"),Y=j.paint.get("line-width");if(q.constantOr(1)===0||Y.constantOr(1)===0)return;const K=E.depthModeForSublayer(0,Dn.ReadOnly),re=E.colorModeForRenderPass(),de=j.paint.get("line-dasharray"),ce=j.paint.get("line-pattern"),me=ce.constantOr(1),le=j.paint.get("line-gradient"),Ae=j.getCrossfadeParameters(),ze=me?"linePattern":de?"lineSDF":le?"lineGradient":"line",ve=E.context,Ie=ve.gl;let Be=!0;for(const Fe of U){const Ke=D.getTile(Fe);if(me&&!Ke.patternsLoaded())continue;const nt=Ke.getBucket(j);if(!nt)continue;const tt=nt.programConfigurations.get(j.id),st=E.context.program.get(),$t=E.useProgram(ze,tt),wn=Be||$t.program!==st,bt=E.style.map.terrain&&E.style.map.terrain.getTerrainData(Fe),Qt=ce.constantOr(null);if(Qt&&Ke.imageAtlas){const pn=Ke.imageAtlas,gn=pn.patternPositions[Qt.to.toString()],Sn=pn.patternPositions[Qt.from.toString()];gn&&Sn&&tt.setConstantPatternPositions(gn,Sn)}const Nt=bt?Fe:null,Or=me?Bx(E,Ke,j,Ae,Nt):de?YE(E,Ke,j,de,Ae,Nt):le?HE(E,Ke,j,nt.lineClipsArray.length,Nt):tf(E,Ke,j,Nt);if(me)ve.activeTexture.set(Ie.TEXTURE0),Ke.imageAtlasTexture.bind(Ie.LINEAR,Ie.CLAMP_TO_EDGE),tt.updatePaintBuffers(Ae);else if(de&&(wn||E.lineAtlas.dirty))ve.activeTexture.set(Ie.TEXTURE0),E.lineAtlas.bind(ve);else if(le){const pn=nt.gradients[j.id];let gn=pn.texture;if(j.gradientVersion!==pn.version){let Sn=256;if(j.stepInterpolant){const Qr=D.getSource().maxzoom,cr=Fe.canonical.z===Qr?Math.ceil(1<<E.transform.maxZoom-Fe.canonical.z):1;Sn=a.clamp(a.nextPowerOfTwo(nt.maxLineLength/a.EXTENT*1024*cr),256,ve.maxTextureSize)}pn.gradient=a.renderColorRamp({expression:j.gradientExpression(),evaluationKey:"lineProgress",resolution:Sn,image:pn.gradient||void 0,clips:nt.lineClipsArray}),pn.texture?pn.texture.update(pn.gradient):pn.texture=new ee(ve,pn.gradient,Ie.RGBA),pn.version=j.gradientVersion,gn=pn.texture}ve.activeTexture.set(Ie.TEXTURE0),gn.bind(j.stepInterpolant?Ie.NEAREST:Ie.LINEAR,Ie.CLAMP_TO_EDGE)}$t.draw(ve,Ie.TRIANGLES,K,E.stencilModeForClipping(Fe),re,Tr.disabled,Or,bt,j.id,nt.layoutVertexBuffer,nt.indexBuffer,nt.segments,j.paint,E.transform.zoom,tt,nt.layoutVertexBuffer2),Be=!1}})(c,p,v,_);break;case"fill":(function(E,D,j,U){const q=j.paint.get("fill-color"),Y=j.paint.get("fill-opacity");if(Y.constantOr(1)===0)return;const K=E.colorModeForRenderPass(),re=j.paint.get("fill-pattern"),de=E.opaquePassEnabledForLayer()&&!re.constantOr(1)&&q.constantOr(a.Color.transparent).a===1&&Y.constantOr(0)===1?"opaque":"translucent";if(E.renderPass===de){const ce=E.depthModeForSublayer(1,E.renderPass==="opaque"?Dn.ReadWrite:Dn.ReadOnly);rf(E,D,j,U,ce,K,!1)}if(E.renderPass==="translucent"&&j.paint.get("fill-antialias")){const ce=E.depthModeForSublayer(j.getPaintProperty("fill-outline-color")?2:0,Dn.ReadOnly);rf(E,D,j,U,ce,K,!0)}})(c,p,v,_);break;case"fill-extrusion":(function(E,D,j,U){const q=j.paint.get("fill-extrusion-opacity");if(q!==0&&E.renderPass==="translucent"){const Y=new Dn(E.context.gl.LEQUAL,Dn.ReadWrite,E.depthRangeFor3D);if(q!==1||j.paint.get("fill-extrusion-pattern").constantOr(1))Ou(E,D,j,U,Y,lr.disabled,on.disabled),Ou(E,D,j,U,Y,E.stencilModeFor3D(),E.colorModeForRenderPass());else{const K=E.colorModeForRenderPass();Ou(E,D,j,U,Y,lr.disabled,K)}}})(c,p,v,_);break;case"hillshade":(function(E,D,j,U){if(E.renderPass!=="offscreen"&&E.renderPass!=="translucent")return;const q=E.context,Y=E.depthModeForSublayer(0,Dn.ReadOnly),K=E.colorModeForRenderPass(),[re,de]=E.renderPass==="translucent"?E.stencilConfigForOverlap(U):[{},U];for(const ce of de){const me=D.getTile(ce);me.needsHillshadePrepare!==void 0&&me.needsHillshadePrepare&&E.renderPass==="offscreen"?nT(E,me,j,Y,lr.disabled,K):E.renderPass==="translucent"&&vy(E,ce,me,j,Y,re[ce.overscaledZ],K)}q.viewport.set([0,0,E.width,E.height])})(c,p,v,_);break;case"raster":(function(E,D,j,U){if(E.renderPass!=="translucent"||j.paint.get("raster-opacity")===0||!U.length)return;const q=E.context,Y=q.gl,K=D.getSource(),re=E.useProgram("raster"),de=E.colorModeForRenderPass(),[ce,me]=K instanceof vt?[{},U]:E.stencilConfigForOverlap(U),le=me[me.length-1].overscaledZ,Ae=!E.options.moving;for(const ze of me){const ve=E.depthModeForSublayer(ze.overscaledZ-le,j.paint.get("raster-opacity")===1?Dn.ReadWrite:Dn.ReadOnly,Y.LESS),Ie=D.getTile(ze);Ie.registerFadeDuration(j.paint.get("raster-fade-duration"));const Be=D.findLoadedParent(ze,0),Fe=by(Ie,Be,D,j,E.transform,E.style.map.terrain);let Ke,nt;const tt=j.paint.get("raster-resampling")==="nearest"?Y.NEAREST:Y.LINEAR;q.activeTexture.set(Y.TEXTURE0),Ie.texture.bind(tt,Y.CLAMP_TO_EDGE,Y.LINEAR_MIPMAP_NEAREST),q.activeTexture.set(Y.TEXTURE1),Be?(Be.texture.bind(tt,Y.CLAMP_TO_EDGE,Y.LINEAR_MIPMAP_NEAREST),Ke=Math.pow(2,Be.tileID.overscaledZ-Ie.tileID.overscaledZ),nt=[Ie.tileID.canonical.x*Ke%1,Ie.tileID.canonical.y*Ke%1]):Ie.texture.bind(tt,Y.CLAMP_TO_EDGE,Y.LINEAR_MIPMAP_NEAREST);const st=E.style.map.terrain&&E.style.map.terrain.getTerrainData(ze),$t=st?ze:null,wn=$t?$t.posMatrix:E.transform.calculatePosMatrix(ze.toUnwrapped(),Ae),bt=ny(wn,nt||[0,0],Ke||1,Fe,j);K instanceof vt?re.draw(q,Y.TRIANGLES,ve,lr.disabled,de,Tr.disabled,bt,st,j.id,K.boundsBuffer,E.quadTriangleIndexBuffer,K.boundsSegments):re.draw(q,Y.TRIANGLES,ve,ce[ze.overscaledZ],de,Tr.disabled,bt,st,j.id,E.rasterBoundsBuffer,E.quadTriangleIndexBuffer,E.rasterBoundsSegments)}})(c,p,v,_);break;case"background":(function(E,D,j,U){const q=j.paint.get("background-color"),Y=j.paint.get("background-opacity");if(Y===0)return;const K=E.context,re=K.gl,de=E.transform,ce=de.tileSize,me=j.paint.get("background-pattern");if(E.isPatternMissing(me))return;const le=!me&&q.a===1&&Y===1&&E.opaquePassEnabledForLayer()?"opaque":"translucent";if(E.renderPass!==le)return;const Ae=lr.disabled,ze=E.depthModeForSublayer(0,le==="opaque"?Dn.ReadWrite:Dn.ReadOnly),ve=E.colorModeForRenderPass(),Ie=E.useProgram(me?"backgroundPattern":"background"),Be=U||de.coveringTiles({tileSize:ce,terrain:E.style.map.terrain});me&&(K.activeTexture.set(re.TEXTURE0),E.imageManager.bind(E.context));const Fe=j.getCrossfadeParameters();for(const Ke of Be){const nt=U?Ke.posMatrix:E.transform.calculatePosMatrix(Ke.toUnwrapped()),tt=me?Fh(nt,Y,E,me,{tileID:Ke,tileSize:ce},Fe):yc(nt,Y,q),st=E.style.map.terrain&&E.style.map.terrain.getTerrainData(Ke);Ie.draw(K,re.TRIANGLES,ze,Ae,ve,Tr.disabled,tt,st,j.id,E.tileExtentBuffer,E.quadTriangleIndexBuffer,E.tileExtentSegments)}})(c,0,v,_);break;case"custom":(function(E,D,j){const U=E.context,q=j.implementation;if(E.renderPass==="offscreen"){const Y=q.prerender;Y&&(E.setCustomLayerDefaults(),U.setColorMode(E.colorModeForRenderPass()),Y.call(q,U.gl,E.transform.customLayerMatrix()),U.setDirty(),E.setBaseState())}else if(E.renderPass==="translucent"){E.setCustomLayerDefaults(),U.setColorMode(E.colorModeForRenderPass()),U.setStencilMode(lr.disabled);const Y=q.renderingMode==="3d"?new Dn(E.context.gl.LEQUAL,Dn.ReadWrite,E.depthRangeFor3D):E.depthModeForSublayer(0,Dn.ReadOnly);U.setDepthMode(Y),q.render(U.gl,E.transform.customLayerMatrix()),U.setDirty(),E.setBaseState(),U.bindFramebuffer.set(null)}})(c,0,v)}}translatePosMatrix(c,p,v,_,E){if(!v[0]&&!v[1])return c;const D=E?_==="map"?this.transform.angle:0:_==="viewport"?-this.transform.angle:0;if(D){const q=Math.sin(D),Y=Math.cos(D);v=[v[0]*Y-v[1]*q,v[0]*q+v[1]*Y]}const j=[E?v[0]:Me(p,v[0],this.transform.zoom),E?v[1]:Me(p,v[1],this.transform.zoom),0],U=new Float32Array(16);return a.translate(U,c,j),U}saveTileTexture(c){const p=this._tileTextures[c.size[0]];p?p.push(c):this._tileTextures[c.size[0]]=[c]}getTileTexture(c){const p=this._tileTextures[c];return p&&p.length>0?p.pop():null}isPatternMissing(c){if(!c)return!1;if(!c.from||!c.to)return!0;const p=this.imageManager.getPattern(c.from.toString()),v=this.imageManager.getPattern(c.to.toString());return!p||!v}useProgram(c,p){this.cache=this.cache||{};const v=c+(p?p.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[v]||(this.cache[v]=new Jr(this.context,Ol[c],p,pa[c],this._showOverdrawInspector,this.style.map.terrain)),this.cache[v]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new ee(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:c,drawingBufferHeight:p}=this.context.gl;return this.width!==c||this.height!==p}}class Ks{constructor(c,p){this.points=c,this.planes=p}static fromInvProjectionMatrix(c,p,v){const _=Math.pow(2,v),E=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(j=>{const U=1/(j=a.transformMat4([],j,c))[3]/p*_;return a.mul$1(j,j,[U,U,1/j[3],U])}),D=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(j=>{const U=function(re,de){var ce=de[0],me=de[1],le=de[2],Ae=ce*ce+me*me+le*le;return Ae>0&&(Ae=1/Math.sqrt(Ae)),re[0]=de[0]*Ae,re[1]=de[1]*Ae,re[2]=de[2]*Ae,re}([],function(re,de,ce){var me=de[0],le=de[1],Ae=de[2],ze=ce[0],ve=ce[1],Ie=ce[2];return re[0]=le*Ie-Ae*ve,re[1]=Ae*ze-me*Ie,re[2]=me*ve-le*ze,re}([],N([],E[j[0]],E[j[1]]),N([],E[j[2]],E[j[1]]))),q=-((Y=U)[0]*(K=E[j[1]])[0]+Y[1]*K[1]+Y[2]*K[2]);var Y,K;return U.concat(q)});return new Ks(E,D)}}class oo{constructor(c,p){this.min=c,this.max=p,this.center=function(v,_,E){return v[0]=.5*_[0],v[1]=.5*_[1],v[2]=.5*_[2],v}([],function(v,_,E){return v[0]=_[0]+E[0],v[1]=_[1]+E[1],v[2]=_[2]+E[2],v}([],this.min,this.max))}quadrant(c){const p=[c%2==0,c<2],v=$(this.min),_=$(this.max);for(let E=0;E<p.length;E++)v[E]=p[E]?this.min[E]:this.center[E],_[E]=p[E]?this.center[E]:this.max[E];return _[2]=this.max[2],new oo(v,_)}distanceX(c){return Math.max(Math.min(this.max[0],c[0]),this.min[0])-c[0]}distanceY(c){return Math.max(Math.min(this.max[1],c[1]),this.min[1])-c[1]}intersects(c){const p=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let v=!0;for(let _=0;_<c.planes.length;_++){const E=c.planes[_];let D=0;for(let j=0;j<p.length;j++)a.dot(E,p[j])>=0&&D++;if(D===0)return 0;D!==p.length&&(v=!1)}if(v)return 2;for(let _=0;_<3;_++){let E=Number.MAX_VALUE,D=-Number.MAX_VALUE;for(let j=0;j<c.points.length;j++){const U=c.points[j][_]-this.min[_];E=Math.min(E,U),D=Math.max(D,U)}if(D<0||E>this.max[_]-this.min[_])return 0}return 1}}class af{constructor(c=0,p=0,v=0,_=0){if(isNaN(c)||c<0||isNaN(p)||p<0||isNaN(v)||v<0||isNaN(_)||_<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=p,this.left=v,this.right=_}interpolate(c,p,v){return p.top!=null&&c.top!=null&&(this.top=a.interpolate.number(c.top,p.top,v)),p.bottom!=null&&c.bottom!=null&&(this.bottom=a.interpolate.number(c.bottom,p.bottom,v)),p.left!=null&&c.left!=null&&(this.left=a.interpolate.number(c.left,p.left,v)),p.right!=null&&c.right!=null&&(this.right=a.interpolate.number(c.right,p.right,v)),this}getCenter(c,p){const v=a.clamp((this.left+c-this.right)/2,0,c),_=a.clamp((this.top+p-this.bottom)/2,0,p);return new a.Point(v,_)}equals(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right}clone(){return new af(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class sf{constructor(c,p,v,_,E){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=E===void 0||!!E,this._minZoom=c||0,this._maxZoom=p||22,this._minPitch=v??0,this._maxPitch=_??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new af,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const c=new sf(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return c.apply(this),c}apply(c){this.tileSize=c.tileSize,this.latRange=c.latRange,this.width=c.width,this.height=c.height,this._center=c._center,this._elevation=c._elevation,this._minEleveationForCurrentTile=c._minEleveationForCurrentTile,this.zoom=c.zoom,this.angle=c.angle,this._fov=c._fov,this._pitch=c._pitch,this._unmodified=c._unmodified,this._edgeInsets=c._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))}get maxZoom(){return this._maxZoom}set maxZoom(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))}get minPitch(){return this._minPitch}set minPitch(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))}get maxPitch(){return this._maxPitch}set maxPitch(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.Point(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(c){const p=-a.wrap(c,-180,180)*Math.PI/180;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=function(){var v=new a.ARRAY_TYPE(4);return a.ARRAY_TYPE!=Float32Array&&(v[1]=0,v[2]=0),v[0]=1,v[3]=1,v}(),function(v,_,E){var D=_[0],j=_[1],U=_[2],q=_[3],Y=Math.sin(E),K=Math.cos(E);v[0]=D*K+U*Y,v[1]=j*K+q*Y,v[2]=D*-Y+U*K,v[3]=j*-Y+q*K}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(c){const p=a.clamp(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=c/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(c){const p=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._zoom=p,this.tileZoom=Math.max(0,Math.floor(p)),this.scale=this.zoomScale(p),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(c){c!==this._elevation&&(this._elevation=c,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(c){return this._edgeInsets.equals(c)}interpolatePadding(c,p,v){this._unmodified=!1,this._edgeInsets.interpolate(c,p,v),this._constrain(),this._calcMatrices()}coveringZoomLevel(c){const p=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,p)}getVisibleUnwrappedCoordinates(c){const p=[new a.UnwrappedTileID(0,c)];if(this._renderWorldCopies){const v=this.pointCoordinate(new a.Point(0,0)),_=this.pointCoordinate(new a.Point(this.width,0)),E=this.pointCoordinate(new a.Point(this.width,this.height)),D=this.pointCoordinate(new a.Point(0,this.height)),j=Math.floor(Math.min(v.x,_.x,E.x,D.x)),U=Math.floor(Math.max(v.x,_.x,E.x,D.x)),q=1;for(let Y=j-q;Y<=U+q;Y++)Y!==0&&p.push(new a.UnwrappedTileID(Y,c))}return p}coveringTiles(c){var p,v;let _=this.coveringZoomLevel(c);const E=_;if(c.minzoom!==void 0&&_<c.minzoom)return[];c.maxzoom!==void 0&&_>c.maxzoom&&(_=c.maxzoom);const D=this.pointCoordinate(this.getCameraPoint()),j=a.MercatorCoordinate.fromLngLat(this.center),U=Math.pow(2,_),q=[U*D.x,U*D.y,0],Y=[U*j.x,U*j.y,0],K=Ks.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,_);let re=c.minzoom||0;!c.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(re=_);const de=c.terrain?2/Math.min(this.tileSize,c.tileSize)*this.tileSize:3,ce=ve=>({aabb:new oo([ve*U,0,0],[(ve+1)*U,U,0]),zoom:0,x:0,y:0,wrap:ve,fullyVisible:!1}),me=[],le=[],Ae=_,ze=c.reparseOverscaled?E:_;if(this._renderWorldCopies)for(let ve=1;ve<=3;ve++)me.push(ce(-ve)),me.push(ce(ve));for(me.push(ce(0));me.length>0;){const ve=me.pop(),Ie=ve.x,Be=ve.y;let Fe=ve.fullyVisible;if(!Fe){const $t=ve.aabb.intersects(K);if($t===0)continue;Fe=$t===2}const Ke=c.terrain?q:Y,nt=ve.aabb.distanceX(Ke),tt=ve.aabb.distanceY(Ke),st=Math.max(Math.abs(nt),Math.abs(tt));if(ve.zoom===Ae||st>de+(1<<Ae-ve.zoom)-2&&ve.zoom>=re){const $t=Ae-ve.zoom,wn=q[0]-.5-(Ie<<$t),bt=q[1]-.5-(Be<<$t);le.push({tileID:new a.OverscaledTileID(ve.zoom===Ae?ze:ve.zoom,ve.wrap,ve.zoom,Ie,Be),distanceSq:F([Y[0]-.5-Ie,Y[1]-.5-Be]),tileDistanceToCamera:Math.sqrt(wn*wn+bt*bt)})}else for(let $t=0;$t<4;$t++){const wn=(Ie<<1)+$t%2,bt=(Be<<1)+($t>>1),Qt=ve.zoom+1;let Nt=ve.aabb.quadrant($t);if(c.terrain){const Or=new a.OverscaledTileID(Qt,ve.wrap,Qt,wn,bt),pn=c.terrain.getMinMaxElevation(Or),gn=(p=pn.minElevation)!==null&&p!==void 0?p:this.elevation,Sn=(v=pn.maxElevation)!==null&&v!==void 0?v:this.elevation;Nt=new oo([Nt.min[0],Nt.min[1],gn],[Nt.max[0],Nt.max[1],Sn])}me.push({aabb:Nt,zoom:Qt,x:wn,y:bt,wrap:ve.wrap,fullyVisible:Fe})}}return le.sort((ve,Ie)=>ve.distanceSq-Ie.distanceSq).map(ve=>ve.tileID)}resize(c,p){this.width=c,this.height=p,this.pixelsToGLUnits=[2/c,-2/p],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(c){return Math.pow(2,c)}scaleZoom(c){return Math.log(c)/Math.LN2}project(c){const p=a.clamp(c.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(c.lng)*this.worldSize,a.mercatorYfromLat(p)*this.worldSize)}unproject(c){return new a.MercatorCoordinate(c.x/this.worldSize,c.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(c){const p=this.pointLocation(this.centerPoint,c),v=c.getElevationForLngLatZoom(p,this.tileZoom);if(!(this.elevation-v))return;const _=this.getCameraPosition(),E=a.MercatorCoordinate.fromLngLat(_.lngLat,_.altitude),D=a.MercatorCoordinate.fromLngLat(p,v),j=E.x-D.x,U=E.y-D.y,q=E.z-D.z,Y=Math.sqrt(j*j+U*U+q*q),K=this.scaleZoom(this.cameraToCenterDistance/Y/this.tileSize);this._elevation=v,this._center=p,this.zoom=K}setLocationAtPoint(c,p){const v=this.pointCoordinate(p),_=this.pointCoordinate(this.centerPoint),E=this.locationCoordinate(c),D=new a.MercatorCoordinate(E.x-(v.x-_.x),E.y-(v.y-_.y));this.center=this.coordinateLocation(D),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(c,p){return p?this.coordinatePoint(this.locationCoordinate(c),p.getElevationForLngLatZoom(c,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(c))}pointLocation(c,p){return this.coordinateLocation(this.pointCoordinate(c,p))}locationCoordinate(c){return a.MercatorCoordinate.fromLngLat(c)}coordinateLocation(c){return c&&c.toLngLat()}pointCoordinate(c,p){if(p){const re=p.pointCoordinate(c);if(re!=null)return re}const v=[c.x,c.y,0,1],_=[c.x,c.y,1,1];a.transformMat4(v,v,this.pixelMatrixInverse),a.transformMat4(_,_,this.pixelMatrixInverse);const E=v[3],D=_[3],j=v[1]/E,U=_[1]/D,q=v[2]/E,Y=_[2]/D,K=q===Y?0:(0-q)/(Y-q);return new a.MercatorCoordinate(a.interpolate.number(v[0]/E,_[0]/D,K)/this.worldSize,a.interpolate.number(j,U,K)/this.worldSize)}coordinatePoint(c,p=0,v=this.pixelMatrix){const _=[c.x*this.worldSize,c.y*this.worldSize,p,1];return a.transformMat4(_,_,v),new a.Point(_[0]/_[3],_[1]/_[3])}getBounds(){const c=Math.max(0,this.height/2-this.getHorizon());return new Je().extend(this.pointLocation(new a.Point(0,c))).extend(this.pointLocation(new a.Point(this.width,c))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new Je([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(c){c?(this.lngRange=[c.getWest(),c.getEast()],this.latRange=[c.getSouth(),c.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(c,p=!1){const v=c.key,_=p?this._alignedPosMatrixCache:this._posMatrixCache;if(_[v])return _[v];const E=c.canonical,D=this.worldSize/this.zoomScale(E.z),j=E.x+Math.pow(2,E.z)*c.wrap,U=a.identity(new Float64Array(16));return a.translate(U,U,[j*D,E.y*D,0]),a.scale(U,U,[D/a.EXTENT,D/a.EXTENT,1]),a.multiply(U,p?this.alignedProjMatrix:this.projMatrix,U),_[v]=new Float32Array(U),_[v]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let c,p,v,_,E=-90,D=90,j=-180,U=180;const q=this.size,Y=this._unmodified;if(this.latRange){const de=this.latRange;E=a.mercatorYfromLat(de[1])*this.worldSize,D=a.mercatorYfromLat(de[0])*this.worldSize,c=D-E<q.y?q.y/(D-E):0}if(this.lngRange){const de=this.lngRange;j=a.wrap(a.mercatorXfromLng(de[0])*this.worldSize,0,this.worldSize),U=a.wrap(a.mercatorXfromLng(de[1])*this.worldSize,0,this.worldSize),U<j&&(U+=this.worldSize),p=U-j<q.x?q.x/(U-j):0}const K=this.point,re=Math.max(p||0,c||0);if(re)return this.center=this.unproject(new a.Point(p?(U+j)/2:K.x,c?(D+E)/2:K.y)),this.zoom+=this.scaleZoom(re),this._unmodified=Y,void(this._constraining=!1);if(this.latRange){const de=K.y,ce=q.y/2;de-ce<E&&(_=E+ce),de+ce>D&&(_=D-ce)}if(this.lngRange){const de=(j+U)/2,ce=a.wrap(K.x,de-this.worldSize/2,de+this.worldSize/2),me=q.x/2;ce-me<j&&(v=j+me),ce+me>U&&(v=U-me)}v===void 0&&_===void 0||(this.center=this.unproject(new a.Point(v!==void 0?v:K.x,_!==void 0?_:K.y)).wrap()),this._unmodified=Y,this._constraining=!1}_calcMatrices(){if(!this.height)return;const c=this.centerOffset,p=this.point.x,v=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let _=a.identity(new Float64Array(16));a.scale(_,_,[this.width/2,-this.height/2,1]),a.translate(_,_,[1,-1,0]),this.labelPlaneMatrix=_,_=a.identity(new Float64Array(16)),a.scale(_,_,[1,-1,1]),a.translate(_,_,[-1,-1,0]),a.scale(_,_,[2/this.width,2/this.height,1]),this.glCoordMatrix=_;const E=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),D=Math.min(this.elevation,this._minEleveationForCurrentTile),j=E-D*this._pixelPerMeter/Math.cos(this._pitch),U=D<0?j:E,q=Math.PI/2+this._pitch,Y=this._fov*(.5+c.y/this.height),K=Math.sin(Y)*U/Math.sin(a.clamp(Math.PI-q-Y,.01,Math.PI-.01)),re=this.getHorizon(),de=2*Math.atan(re/this.cameraToCenterDistance)*(.5+c.y/(2*re)),ce=Math.sin(de)*U/Math.sin(a.clamp(Math.PI-q-de,.01,Math.PI-.01)),me=Math.min(K,ce),le=1.01*(Math.cos(Math.PI/2-this._pitch)*me+U),Ae=this.height/50;_=new Float64Array(16),a.perspective(_,this._fov,this.width/this.height,Ae,le),_[8]=2*-c.x/this.width,_[9]=2*c.y/this.height,a.scale(_,_,[1,-1,1]),a.translate(_,_,[0,0,-this.cameraToCenterDistance]),a.rotateX(_,_,this._pitch),a.rotateZ(_,_,this.angle),a.translate(_,_,[-p,-v,0]),this.mercatorMatrix=a.scale([],_,[this.worldSize,this.worldSize,this.worldSize]),a.scale(_,_,[1,1,this._pixelPerMeter]),this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,_),a.translate(_,_,[0,0,-this.elevation]),this.projMatrix=_,this.invProjMatrix=a.invert([],_),this.pixelMatrix3D=a.multiply(new Float64Array(16),this.labelPlaneMatrix,_);const ze=this.width%2/2,ve=this.height%2/2,Ie=Math.cos(this.angle),Be=Math.sin(this.angle),Fe=p-Math.round(p)+Ie*ze+Be*ve,Ke=v-Math.round(v)+Ie*ve+Be*ze,nt=new Float64Array(_);if(a.translate(nt,nt,[Fe>.5?Fe-1:Fe,Ke>.5?Ke-1:Ke,0]),this.alignedProjMatrix=nt,_=a.invert(new Float64Array(16),this.pixelMatrix),!_)throw new Error("failed to invert matrix");this.pixelMatrixInverse=_,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const c=this.pointCoordinate(new a.Point(0,0)),p=[c.x*this.worldSize,c.y*this.worldSize,0,1];return a.transformMat4(p,p,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,c))}getCameraQueryGeometry(c){const p=this.getCameraPoint();if(c.length===1)return[c[0],p];{let v=p.x,_=p.y,E=p.x,D=p.y;for(const j of c)v=Math.min(v,j.x),_=Math.min(_,j.y),E=Math.max(E,j.x),D=Math.max(D,j.y);return[new a.Point(v,_),new a.Point(E,_),new a.Point(E,D),new a.Point(v,D),new a.Point(v,_)]}}}function Sy(w,c){let p,v=!1,_=null,E=null;const D=()=>{_=null,v&&(w.apply(E,p),_=setTimeout(D,c),v=!1)};return(...j)=>(v=!0,E=this,p=j,_||D(),_)}class Mu{constructor(c){this._getCurrentHash=()=>{const p=window.location.hash.replace("#","");if(this._hashName){let v;return p.split("&").map(_=>_.split("=")).forEach(_=>{_[0]===this._hashName&&(v=_)}),(v&&v[1]||"").split("/")}return p.split("/")},this._onHashChange=()=>{const p=this._getCurrentHash();if(p.length>=3&&!p.some(v=>isNaN(v))){const v=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(p[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+p[2],+p[1]],zoom:+p[0],bearing:v,pitch:+(p[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const p=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,p)}catch{}},this._updateHash=Sy(this._updateHashUnthrottled,300),this._hashName=c&&encodeURIComponent(c)}addTo(c){return this._map=c,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(c){const p=this._map.getCenter(),v=Math.round(100*this._map.getZoom())/100,_=Math.ceil((v*Math.LN2+Math.log(512/360/.5))/Math.LN10),E=Math.pow(10,_),D=Math.round(p.lng*E)/E,j=Math.round(p.lat*E)/E,U=this._map.getBearing(),q=this._map.getPitch();let Y="";if(Y+=c?`/${D}/${j}/${v}`:`${v}/${j}/${D}`,(U||q)&&(Y+="/"+Math.round(10*U)/10),q&&(Y+=`/${Math.round(q)}`),this._hashName){const K=this._hashName;let re=!1;const de=window.location.hash.slice(1).split("&").map(ce=>{const me=ce.split("=")[0];return me===K?(re=!0,`${me}=${Y}`):ce}).filter(ce=>ce);return re||de.push(`${K}=${Y}`),`#${de.join("&")}`}return`#${Y}`}}const Ml={linearity:.3,easing:a.bezier(0,0,.3,1)},Cy=a.extend({deceleration:2500,maxSpeed:1400},Ml),Xx=a.extend({deceleration:20,maxSpeed:1400},Ml),Jx=a.extend({deceleration:1e3,maxSpeed:360},Ml),Qx=a.extend({deceleration:1e3,maxSpeed:90},Ml);class e_{constructor(c){this._map=c,this.clear()}clear(){this._inertiaBuffer=[]}record(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:c})}_drainInertiaBuffer(){const c=this._inertiaBuffer,p=a.browser.now();for(;c.length>0&&p-c[0].time>160;)c.shift()}_onMoveEnd(c){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const p={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:E}of this._inertiaBuffer)p.zoom+=E.zoomDelta||0,p.bearing+=E.bearingDelta||0,p.pitch+=E.pitchDelta||0,E.panDelta&&p.pan._add(E.panDelta),E.around&&(p.around=E.around),E.pinchAround&&(p.pinchAround=E.pinchAround);const v=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,_={};if(p.pan.mag()){const E=ls(p.pan.mag(),v,a.extend({},Cy,c||{}));_.offset=p.pan.mult(E.amount/p.pan.mag()),_.center=this._map.transform.center,lf(_,E)}if(p.zoom){const E=ls(p.zoom,v,Xx);_.zoom=this._map.transform.zoom+E.amount,lf(_,E)}if(p.bearing){const E=ls(p.bearing,v,Jx);_.bearing=this._map.transform.bearing+a.clamp(E.amount,-179,179),lf(_,E)}if(p.pitch){const E=ls(p.pitch,v,Qx);_.pitch=this._map.transform.pitch+E.amount,lf(_,E)}if(_.zoom||_.bearing){const E=p.pinchAround===void 0?p.around:p.pinchAround;_.around=E?this._map.unproject(E):this._map.getCenter()}return this.clear(),a.extend(_,{noMoveStart:!0})}}function lf(w,c){(!w.duration||w.duration<c.duration)&&(w.duration=c.duration,w.easing=c.easing)}function ls(w,c,p){const{maxSpeed:v,linearity:_,deceleration:E}=p,D=a.clamp(w*_/(c/1e3),-v,v),j=Math.abs(D)/(E*_);return{easing:p.easing,duration:1e3*j,amount:D*(j/2)}}class Ho extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,v,_={}){const E=h.mousePos(p.getCanvasContainer(),v),D=p.unproject(E);super(c,a.extend({point:E,lngLat:D,originalEvent:v},_)),this._defaultPrevented=!1,this.target=p}}class cf extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,v){const _=c==="touchend"?v.changedTouches:v.touches,E=h.touchPos(p.getCanvasContainer(),_),D=E.map(U=>p.unproject(U)),j=E.reduce((U,q,Y,K)=>U.add(q.div(K.length)),new a.Point(0,0));super(c,{points:E,point:j,lngLats:D,lngLat:p.unproject(j),originalEvent:v}),this._defaultPrevented=!1}}class t_ extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,v){super(c,{originalEvent:v}),this._defaultPrevented=!1}}class n_{constructor(c,p){this._map=c,this._clickTolerance=p.clickTolerance}reset(){delete this._mousedownPos}wheel(c){return this._firePreventable(new t_(c.type,this._map,c))}mousedown(c,p){return this._mousedownPos=p,this._firePreventable(new Ho(c.type,this._map,c))}mouseup(c){this._map.fire(new Ho(c.type,this._map,c))}click(c,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||this._map.fire(new Ho(c.type,this._map,c))}dblclick(c){return this._firePreventable(new Ho(c.type,this._map,c))}mouseover(c){this._map.fire(new Ho(c.type,this._map,c))}mouseout(c){this._map.fire(new Ho(c.type,this._map,c))}touchstart(c){return this._firePreventable(new cf(c.type,this._map,c))}touchmove(c){this._map.fire(new cf(c.type,this._map,c))}touchend(c){this._map.fire(new cf(c.type,this._map,c))}touchcancel(c){this._map.fire(new cf(c.type,this._map,c))}_firePreventable(c){if(this._map.fire(c),c.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class r_{constructor(c){this._map=c}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(c){this._map.fire(new Ho(c.type,this._map,c))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ho("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(c){this._delayContextMenu?this._contextMenuEvent=c:this._ignoreContextMenu||this._map.fire(new Ho(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Iu{constructor(c){this._map=c}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(c){return this.transform.pointLocation(a.Point.convert(c),this._map.terrain)}}class uf{constructor(c,p){this._map=c,this._tr=new Iu(c),this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=p.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(c,p){this.isEnabled()&&c.shiftKey&&c.button===0&&(h.disableDrag(),this._startPos=this._lastPos=p,this._active=!0)}mousemoveWindow(c,p){if(!this._active)return;const v=p;if(this._lastPos.equals(v)||!this._box&&v.dist(this._startPos)<this._clickTolerance)return;const _=this._startPos;this._lastPos=v,this._box||(this._box=h.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",c));const E=Math.min(_.x,v.x),D=Math.max(_.x,v.x),j=Math.min(_.y,v.y),U=Math.max(_.y,v.y);h.setTransform(this._box,`translate(${E}px,${j}px)`),this._box.style.width=D-E+"px",this._box.style.height=U-j+"px"}mouseupWindow(c,p){if(!this._active||c.button!==0)return;const v=this._startPos,_=p;if(this.reset(),h.suppressClick(),v.x!==_.x||v.y!==_.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:c})),{cameraAnimation:E=>E.fitScreenCoordinates(v,_,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",c)}keydown(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(h.remove(this._box),this._box=null),h.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(c,p){return this._map.fire(new a.Event(c,{originalEvent:p}))}}function op(w,c){if(w.length!==c.length)throw new Error(`The number of touches and points are not equal - touches ${w.length}, points ${c.length}`);const p={};for(let v=0;v<w.length;v++)p[w[v].identifier]=c[v];return p}class cs{constructor(c){this.reset(),this.numTouches=c.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(c,p,v){(this.centroid||v.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=c.timeStamp),v.length===this.numTouches&&(this.centroid=function(_){const E=new a.Point(0,0);for(const D of _)E._add(D);return E.div(_.length)}(p),this.touches=op(v,p)))}touchmove(c,p,v){if(this.aborted||!this.centroid)return;const _=op(v,p);for(const E in this.touches){const D=_[E];(!D||D.dist(this.touches[E])>30)&&(this.aborted=!0)}}touchend(c,p,v){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),v.length===0){const _=!this.aborted&&this.centroid;if(this.reset(),_)return _}}}class Ma{constructor(c){this.singleTap=new cs(c),this.numTaps=c.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(c,p,v){this.singleTap.touchstart(c,p,v)}touchmove(c,p,v){this.singleTap.touchmove(c,p,v)}touchend(c,p,v){const _=this.singleTap.touchend(c,p,v);if(_){const E=c.timeStamp-this.lastTime<500,D=!this.lastTap||this.lastTap.dist(_)<30;if(E&&D||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=_,this.count===this.numTaps)return this.reset(),_}}}class i_{constructor(c){this._tr=new Iu(c),this._zoomIn=new Ma({numTouches:1,numTaps:2}),this._zoomOut=new Ma({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(c,p,v){this._zoomIn.touchstart(c,p,v),this._zoomOut.touchstart(c,p,v)}touchmove(c,p,v){this._zoomIn.touchmove(c,p,v),this._zoomOut.touchmove(c,p,v)}touchend(c,p,v){const _=this._zoomIn.touchend(c,p,v),E=this._zoomOut.touchend(c,p,v),D=this._tr;return _?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:j=>j.easeTo({duration:300,zoom:D.zoom+1,around:D.unproject(_)},{originalEvent:c})}):E?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:j=>j.easeTo({duration:300,zoom:D.zoom-1,around:D.unproject(E)},{originalEvent:c})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Yo{constructor(c){this._enabled=!!c.enable,this._moveStateManager=c.moveStateManager,this._clickTolerance=c.clickTolerance||1,this._moveFunction=c.move,this._activateOnStart=!!c.activateOnStart,c.assignEvents(this),this.reset()}reset(c){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(c)}_move(...c){const p=this._moveFunction(...c);if(p.bearingDelta||p.pitchDelta||p.around||p.panDelta)return this._active=!0,p}dragStart(c,p){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(c)&&(this._moveStateManager.startMove(c),this._lastPoint=p.length?p[0]:p,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(c,p){if(!this.isEnabled())return;const v=this._lastPoint;if(!v)return;if(c.preventDefault(),!this._moveStateManager.isValidMoveEvent(c))return void this.reset(c);const _=p.length?p[0]:p;return!this._moved&&_.dist(v)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=_,this._move(v,_))}dragEnd(c){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(c)&&(this._moved&&h.suppressClick(),this.reset(c))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const df={0:1,2:2};class Ey{constructor(c){this._correctEvent=c.checkCorrectEvent}startMove(c){const p=h.mouseButton(c);this._eventButton=p}endMove(c){delete this._eventButton}isValidStartEvent(c){return this._correctEvent(c)}isValidMoveEvent(c){return!function(p,v){const _=df[v];return p.buttons===void 0||(p.buttons&_)!==_}(c,this._eventButton)}isValidEndEvent(c){return h.mouseButton(c)===this._eventButton}}class o_{constructor(){this._firstTouch=void 0}_isOneFingerTouch(c){return c.targetTouches.length===1}_isSameTouchEvent(c){return c.targetTouches[0].identifier===this._firstTouch}startMove(c){this._firstTouch=c.targetTouches[0].identifier}endMove(c){delete this._firstTouch}isValidStartEvent(c){return this._isOneFingerTouch(c)}isValidMoveEvent(c){return this._isOneFingerTouch(c)&&this._isSameTouchEvent(c)}isValidEndEvent(c){return this._isOneFingerTouch(c)&&this._isSameTouchEvent(c)}}const Ty=w=>{w.mousedown=w.dragStart,w.mousemoveWindow=w.dragMove,w.mouseup=w.dragEnd,w.contextmenu=function(c){c.preventDefault()}},ky=({enable:w,clickTolerance:c,bearingDegreesPerPixelMoved:p=.8})=>{const v=new Ey({checkCorrectEvent:_=>h.mouseButton(_)===0&&_.ctrlKey||h.mouseButton(_)===2});return new Yo({clickTolerance:c,move:(_,E)=>({bearingDelta:(E.x-_.x)*p}),moveStateManager:v,enable:w,assignEvents:Ty})},$u=({enable:w,clickTolerance:c,pitchDegreesPerPixelMoved:p=-.5})=>{const v=new Ey({checkCorrectEvent:_=>h.mouseButton(_)===0&&_.ctrlKey||h.mouseButton(_)===2});return new Yo({clickTolerance:c,move:(_,E)=>({pitchDelta:(E.y-_.y)*p}),moveStateManager:v,enable:w,assignEvents:Ty})};class Il{constructor(c,p){this._minTouches=c.cooperativeGestures?2:1,this._clickTolerance=c.clickTolerance||1,this._map=p,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.Point(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(c,p,v){return this._calculateTransform(c,p,v)}touchmove(c,p,v){if(this._map._cooperativeGestures&&(this._minTouches===2&&v.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(c,!1,v.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(v.length<this._minTouches))return c.preventDefault(),this._calculateTransform(c,p,v)}touchend(c,p,v){this._calculateTransform(c,p,v),this._active&&v.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(c,p,v){v.length>0&&(this._active=!0);const _=op(v,p),E=new a.Point(0,0),D=new a.Point(0,0);let j=0;for(const q in _){const Y=_[q],K=this._touches[q];K&&(E._add(Y),D._add(Y.sub(K)),j++,_[q]=Y)}if(this._touches=_,j<this._minTouches||!D.mag())return;const U=D.div(j);return this._sum._add(U),this._sum.mag()<this._clickTolerance?void 0:{around:E.div(j),panDelta:U}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class kt{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(c,p,v){this._firstTwoTouches||v.length<2||(this._firstTwoTouches=[v[0].identifier,v[1].identifier],this._start([p[0],p[1]]))}touchmove(c,p,v){if(!this._firstTwoTouches)return;c.preventDefault();const[_,E]=this._firstTwoTouches,D=ff(v,p,_),j=ff(v,p,E);if(!D||!j)return;const U=this._aroundCenter?null:D.add(j).div(2);return this._move([D,j],U,c)}touchend(c,p,v){if(!this._firstTwoTouches)return;const[_,E]=this._firstTwoTouches,D=ff(v,p,_),j=ff(v,p,E);D&&j||(this._active&&h.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function ff(w,c,p){for(let v=0;v<w.length;v++)if(w[v].identifier===p)return c[v]}function Ru(w,c){return Math.log(w/c)/Math.LN2}class hf extends kt{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(c){this._startDistance=this._distance=c[0].dist(c[1])}_move(c,p){const v=this._distance;if(this._distance=c[0].dist(c[1]),this._active||!(Math.abs(Ru(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Ru(this._distance,v),pinchAround:p}}}function Py(w,c){return 180*w.angleWith(c)/Math.PI}class St extends kt{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(c){this._startVector=this._vector=c[0].sub(c[1]),this._minDiameter=c[0].dist(c[1])}_move(c,p){const v=this._vector;if(this._vector=c[0].sub(c[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Py(this._vector,v),pinchAround:p}}_isBelowThreshold(c){this._minDiameter=Math.min(this._minDiameter,c.mag());const p=25/(Math.PI*this._minDiameter)*360,v=Py(c,this._startVector);return Math.abs(v)<p}}function pf(w){return Math.abs(w.y)>Math.abs(w.x)}class oT extends kt{constructor(c){super(),this._map=c}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(c,p,v){super.touchstart(c,p,v),this._currentTouchCount=v.length}_start(c){this._lastPoints=c,pf(c[0].sub(c[1]))&&(this._valid=!1)}_move(c,p,v){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const _=c[0].sub(this._lastPoints[0]),E=c[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(_,E,v.timeStamp),this._valid?(this._lastPoints=c,this._active=!0,{pitchDelta:(_.y+E.y)/2*-.5}):void 0}gestureBeginsVertically(c,p,v){if(this._valid!==void 0)return this._valid;const _=c.mag()>=2,E=p.mag()>=2;if(!_&&!E)return;if(!_||!E)return this._firstMove===void 0&&(this._firstMove=v),v-this._firstMove<100&&void 0;const D=c.y>0==p.y>0;return pf(c)&&pf(p)&&D}}const aT={panStep:100,bearingStep:15,pitchStep:10};class Oy{constructor(c){this._tr=new Iu(c);const p=aT;this._panStep=p.panStep,this._bearingStep=p.bearingStep,this._pitchStep=p.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(c){if(c.altKey||c.ctrlKey||c.metaKey)return;let p=0,v=0,_=0,E=0,D=0;switch(c.keyCode){case 61:case 107:case 171:case 187:p=1;break;case 189:case 109:case 173:p=-1;break;case 37:c.shiftKey?v=-1:(c.preventDefault(),E=-1);break;case 39:c.shiftKey?v=1:(c.preventDefault(),E=1);break;case 38:c.shiftKey?_=1:(c.preventDefault(),D=-1);break;case 40:c.shiftKey?_=-1:(c.preventDefault(),D=1);break;default:return}return this._rotationDisabled&&(v=0,_=0),{cameraAnimation:j=>{const U=this._tr;j.easeTo({duration:300,easeId:"keyboardHandler",easing:a_,zoom:p?Math.round(U.zoom)+p*(c.shiftKey?2:1):U.zoom,bearing:U.bearing+v*this._bearingStep,pitch:U.pitch+_*this._pitchStep,offset:[-E*this._panStep,-D*this._panStep],center:U.center},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function a_(w){return w*(2-w)}const Ay=4.000244140625;class sT{constructor(c,p){this._onTimeout=v=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(v)},this._map=c,this._tr=new Iu(c),this._el=c.getCanvasContainer(),this._triggerRenderFrame=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(c){this._defaultZoomRate=c}setWheelZoomRate(c){this._wheelZoomRate=c}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!c&&c.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(c){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!c[this._map._metaKey])return;c.preventDefault()}let p=c.deltaMode===WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY;const v=a.browser.now(),_=v-(this._lastWheelEventTime||0);this._lastWheelEventTime=v,p!==0&&p%Ay==0?this._type="wheel":p!==0&&Math.abs(p)<4?this._type="trackpad":_>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(_*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),c.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=c,this._delta-=p,this._active||this._start(c)),c.preventDefault()}_start(c){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const p=h.mousePos(this._el,c),v=this._tr;this._around=a.LngLat.convert(this._aroundCenter?v.center:v.unproject(p)),this._aroundPoint=v.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const c=this._tr.transform;if(this._delta!==0){const j=this._type==="wheel"&&Math.abs(this._delta)>Ay?this._wheelZoomRate:this._defaultZoomRate;let U=2/(1+Math.exp(-Math.abs(this._delta*j)));this._delta<0&&U!==0&&(U=1/U);const q=typeof this._targetZoom=="number"?c.zoomScale(this._targetZoom):c.scale;this._targetZoom=Math.min(c.maxZoom,Math.max(c.minZoom,c.scaleZoom(q*U))),this._type==="wheel"&&(this._startZoom=c.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const p=typeof this._targetZoom=="number"?this._targetZoom:c.zoom,v=this._startZoom,_=this._easing;let E,D=!1;if(this._type==="wheel"&&v&&_){const j=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),U=_(j);E=a.interpolate.number(v,p,U),j<1?this._frameId||(this._frameId=!0):D=!0}else E=p,D=!0;return this._active=!0,D&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!D,zoomDelta:E-c.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(c){let p=a.defaultEasing;if(this._prevEase){const v=this._prevEase,_=(a.browser.now()-v.start)/v.duration,E=v.easing(_+.01)-v.easing(_),D=.27/Math.sqrt(E*E+1e-4)*.01,j=Math.sqrt(.0729-D*D);p=a.bezier(D,j,.25,1)}return this._prevEase={start:a.browser.now(),duration:c,easing:p},p}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class lT{constructor(c,p){this._clickZoom=c,this._tapZoom=p}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class My{constructor(c){this._tr=new Iu(c),this.reset()}reset(){this._active=!1}dblclick(c,p){return c.preventDefault(),{cameraAnimation:v=>{v.easeTo({duration:300,zoom:this._tr.zoom+(c.shiftKey?-1:1),around:this._tr.unproject(p)},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Iy{constructor(){this._tap=new Ma({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(c,p,v){if(!this._swipePoint)if(this._tapTime){const _=p[0],E=c.timeStamp-this._tapTime<500,D=this._tapPoint.dist(_)<30;E&&D?v.length>0&&(this._swipePoint=_,this._swipeTouch=v[0].identifier):this.reset()}else this._tap.touchstart(c,p,v)}touchmove(c,p,v){if(this._tapTime){if(this._swipePoint){if(v[0].identifier!==this._swipeTouch)return;const _=p[0],E=_.y-this._swipePoint.y;return this._swipePoint=_,c.preventDefault(),this._active=!0,{zoomDelta:E/128}}}else this._tap.touchmove(c,p,v)}touchend(c,p,v){if(this._tapTime)this._swipePoint&&v.length===0&&this.reset();else{const _=this._tap.touchend(c,p,v);_&&(this._tapTime=c.timeStamp,this._tapPoint=_)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class $y{constructor(c,p,v){this._el=c,this._mousePan=p,this._touchPan=v}enable(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Ry{constructor(c,p,v){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=p,this._mousePitch=v}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class wo{constructor(c,p,v,_){this._el=c,this._touchZoom=p,this._touchRotate=v,this._tapDragZoom=_,this._rotationDisabled=!1,this._enabled=!0}enable(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Ia=w=>w.zoom||w.drag||w.pitch||w.rotate;class s_ extends a.Event{}function mf(w){return w.panDelta&&w.panDelta.mag()||w.zoomDelta||w.bearingDelta||w.pitchDelta}class Dy{constructor(c,p){this.handleWindowEvent=_=>{this.handleEvent(_,`${_.type}Window`)},this.handleEvent=(_,E)=>{if(_.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const D=_.type==="renderFrame"?void 0:_,j={needsRenderFrame:!1},U={},q={},Y=_.touches,K=Y?this._getMapTouches(Y):void 0,re=K?h.touchPos(this._el,K):h.mousePos(this._el,_);for(const{handlerName:me,handler:le,allowed:Ae}of this._handlers){if(!le.isEnabled())continue;let ze;this._blockedByActive(q,Ae,me)?le.reset():le[E||_.type]&&(ze=le[E||_.type](_,re,K),this.mergeHandlerResult(j,U,ze,me,D),ze&&ze.needsRenderFrame&&this._triggerRenderFrame()),(ze||le.isActive())&&(q[me]=le)}const de={};for(const me in this._previousActiveHandlers)q[me]||(de[me]=D);this._previousActiveHandlers=q,(Object.keys(de).length||mf(j))&&(this._changes.push([j,U,de]),this._triggerRenderFrame()),(Object.keys(q).length||mf(j))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ce}=j;ce&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ce(this._map))},this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new e_(c),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(p);const v=this._el;this._listeners=[[v,"touchstart",{passive:!0}],[v,"touchmove",{passive:!1}],[v,"touchend",void 0],[v,"touchcancel",void 0],[v,"mousedown",void 0],[v,"mousemove",void 0],[v,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[v,"mouseover",void 0],[v,"mouseout",void 0],[v,"dblclick",void 0],[v,"click",void 0],[v,"keydown",{capture:!1}],[v,"keyup",void 0],[v,"wheel",{passive:!1}],[v,"contextmenu",void 0],[window,"blur",void 0]];for(const[_,E,D]of this._listeners)h.addEventListener(_,E,_===document?this.handleWindowEvent:this.handleEvent,D)}destroy(){for(const[c,p,v]of this._listeners)h.removeEventListener(c,p,c===document?this.handleWindowEvent:this.handleEvent,v)}_addDefaultHandlers(c){const p=this._map,v=p.getCanvasContainer();this._add("mapEvent",new n_(p,c));const _=p.boxZoom=new uf(p,c);this._add("boxZoom",_),c.interactive&&c.boxZoom&&_.enable();const E=new i_(p),D=new My(p);p.doubleClickZoom=new lT(D,E),this._add("tapZoom",E),this._add("clickZoom",D),c.interactive&&c.doubleClickZoom&&p.doubleClickZoom.enable();const j=new Iy;this._add("tapDragZoom",j);const U=p.touchPitch=new oT(p);this._add("touchPitch",U),c.interactive&&c.touchPitch&&p.touchPitch.enable(c.touchPitch);const q=ky(c),Y=$u(c);p.dragRotate=new Ry(c,q,Y),this._add("mouseRotate",q,["mousePitch"]),this._add("mousePitch",Y,["mouseRotate"]),c.interactive&&c.dragRotate&&p.dragRotate.enable();const K=(({enable:Ae,clickTolerance:ze})=>{const ve=new Ey({checkCorrectEvent:Ie=>h.mouseButton(Ie)===0&&!Ie.ctrlKey});return new Yo({clickTolerance:ze,move:(Ie,Be)=>({around:Be,panDelta:Be.sub(Ie)}),activateOnStart:!0,moveStateManager:ve,enable:Ae,assignEvents:Ty})})(c),re=new Il(c,p);p.dragPan=new $y(v,K,re),this._add("mousePan",K),this._add("touchPan",re,["touchZoom","touchRotate"]),c.interactive&&c.dragPan&&p.dragPan.enable(c.dragPan);const de=new St,ce=new hf;p.touchZoomRotate=new wo(v,ce,de,j),this._add("touchRotate",de,["touchPan","touchZoom"]),this._add("touchZoom",ce,["touchPan","touchRotate"]),c.interactive&&c.touchZoomRotate&&p.touchZoomRotate.enable(c.touchZoomRotate);const me=p.scrollZoom=new sT(p,()=>this._triggerRenderFrame());this._add("scrollZoom",me,["mousePan"]),c.interactive&&c.scrollZoom&&p.scrollZoom.enable(c.scrollZoom);const le=p.keyboard=new Oy(p);this._add("keyboard",le),c.interactive&&c.keyboard&&p.keyboard.enable(),this._add("blockableMapEvent",new r_(p))}_add(c,p,v){this._handlers.push({handlerName:c,handler:p,allowed:v}),this._handlersById[c]=p}stop(c){if(!this._updatingCamera){for(const{handler:p}of this._handlers)p.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}}isActive(){for(const{handler:c}of this._handlers)if(c.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Ia(this._eventsInProgress)||this.isZooming()}_blockedByActive(c,p,v){for(const _ in c)if(_!==v&&(!p||p.indexOf(_)<0))return!0;return!1}_getMapTouches(c){const p=[];for(const v of c)this._el.contains(v.target)&&p.push(v);return p}mergeHandlerResult(c,p,v,_,E){if(!v)return;a.extend(c,v);const D={handlerName:_,originalEvent:v.originalEvent||E};v.zoomDelta!==void 0&&(p.zoom=D),v.panDelta!==void 0&&(p.drag=D),v.pitchDelta!==void 0&&(p.pitch=D),v.bearingDelta!==void 0&&(p.rotate=D)}_applyChanges(){const c={},p={},v={};for(const[_,E,D]of this._changes)_.panDelta&&(c.panDelta=(c.panDelta||new a.Point(0,0))._add(_.panDelta)),_.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+_.zoomDelta),_.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+_.bearingDelta),_.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+_.pitchDelta),_.around!==void 0&&(c.around=_.around),_.pinchAround!==void 0&&(c.pinchAround=_.pinchAround),_.noInertia&&(c.noInertia=_.noInertia),a.extend(p,E),a.extend(v,D);this._updateMapTransform(c,p,v),this._changes=[]}_updateMapTransform(c,p,v){const _=this._map,E=_._getTransformForUpdate(),D=_.terrain;if(!(mf(c)||D&&this._terrainMovement))return this._fireEvents(p,v,!0);let{panDelta:j,zoomDelta:U,bearingDelta:q,pitchDelta:Y,around:K,pinchAround:re}=c;re!==void 0&&(K=re),_._stop(!0),K=K||_.transform.centerPoint;const de=E.pointLocation(j?K.sub(j):K);q&&(E.bearing+=q),Y&&(E.pitch+=Y),U&&(E.zoom+=U),D?this._terrainMovement||!p.drag&&!p.zoom?p.drag&&this._terrainMovement?E.center=E.pointLocation(E.centerPoint.sub(j)):E.setLocationAtPoint(de,K):(this._terrainMovement=!0,this._map._elevationFreeze=!0,E.setLocationAtPoint(de,K),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,E.recalculateZoom(_.terrain)})):E.setLocationAtPoint(de,K),_._applyUpdatedTransform(E),this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(p,v,!0)}_fireEvents(c,p,v){const _=Ia(this._eventsInProgress),E=Ia(c),D={};for(const Y in c){const{originalEvent:K}=c[Y];this._eventsInProgress[Y]||(D[`${Y}start`]=K),this._eventsInProgress[Y]=c[Y]}!_&&E&&this._fireEvent("movestart",E.originalEvent);for(const Y in D)this._fireEvent(Y,D[Y]);E&&this._fireEvent("move",E.originalEvent);for(const Y in c){const{originalEvent:K}=c[Y];this._fireEvent(Y,K)}const j={};let U;for(const Y in this._eventsInProgress){const{handlerName:K,originalEvent:re}=this._eventsInProgress[Y];this._handlersById[K].isActive()||(delete this._eventsInProgress[Y],U=p[K]||re,j[`${Y}end`]=U)}for(const Y in j)this._fireEvent(Y,j[Y]);const q=Ia(this._eventsInProgress);if(v&&(_||E)&&!q){this._updatingCamera=!0;const Y=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),K=re=>re!==0&&-this._bearingSnap<re&&re<this._bearingSnap;!Y||!Y.essential&&a.browser.prefersReducedMotion?(this._map.fire(new a.Event("moveend",{originalEvent:U})),K(this._map.getBearing())&&this._map.resetNorth()):(K(Y.bearing||this._map.getBearing())&&(Y.bearing=0),Y.freezeElevation=!0,this._map.easeTo(Y,{originalEvent:U})),this._updatingCamera=!1}}_fireEvent(c,p){this._map.fire(new a.Event(c,p?{originalEvent:p}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(c=>{delete this._frameId,this.handleEvent(new s_("renderFrame",{timeStamp:c})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class Ly extends a.Evented{constructor(c,p){super(),this._renderFrameCallback=()=>{const v=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(v)),v<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=c,this._bearingSnap=p.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(c,p){return this.jumpTo({center:c},p)}panBy(c,p,v){return c=a.Point.convert(c).mult(-1),this.panTo(this.transform.center,a.extend({offset:c},p),v)}panTo(c,p,v){return this.easeTo(a.extend({center:c},p),v)}getZoom(){return this.transform.zoom}setZoom(c,p){return this.jumpTo({zoom:c},p),this}zoomTo(c,p,v){return this.easeTo(a.extend({zoom:c},p),v)}zoomIn(c,p){return this.zoomTo(this.getZoom()+1,c,p),this}zoomOut(c,p){return this.zoomTo(this.getZoom()-1,c,p),this}getBearing(){return this.transform.bearing}setBearing(c,p){return this.jumpTo({bearing:c},p),this}getPadding(){return this.transform.padding}setPadding(c,p){return this.jumpTo({padding:c},p),this}rotateTo(c,p,v){return this.easeTo(a.extend({bearing:c},p),v)}resetNorth(c,p){return this.rotateTo(0,a.extend({duration:1e3},c),p),this}resetNorthPitch(c,p){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},c),p),this}snapToNorth(c,p){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(c,p):this}getPitch(){return this.transform.pitch}setPitch(c,p){return this.jumpTo({pitch:c},p),this}cameraForBounds(c,p){c=Je.convert(c);const v=p&&p.bearing||0;return this._cameraForBoxAndBearing(c.getNorthWest(),c.getSouthEast(),v,p)}_cameraForBoxAndBearing(c,p,v,_){const E={top:0,bottom:0,right:0,left:0};if(typeof(_=a.extend({padding:E,offset:[0,0],maxZoom:this.transform.maxZoom},_)).padding=="number"){const Be=_.padding;_.padding={top:Be,bottom:Be,right:Be,left:Be}}_.padding=a.extend(E,_.padding);const D=this.transform,j=D.padding,U=D.project(a.LngLat.convert(c)),q=D.project(a.LngLat.convert(p)),Y=U.rotate(-v*Math.PI/180),K=q.rotate(-v*Math.PI/180),re=new a.Point(Math.max(Y.x,K.x),Math.max(Y.y,K.y)),de=new a.Point(Math.min(Y.x,K.x),Math.min(Y.y,K.y)),ce=re.sub(de),me=(D.width-(j.left+j.right+_.padding.left+_.padding.right))/ce.x,le=(D.height-(j.top+j.bottom+_.padding.top+_.padding.bottom))/ce.y;if(le<0||me<0)return void a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const Ae=Math.min(D.scaleZoom(D.scale*Math.min(me,le)),_.maxZoom),ze=a.Point.convert(_.offset),ve=new a.Point((_.padding.left-_.padding.right)/2,(_.padding.top-_.padding.bottom)/2).rotate(v*Math.PI/180),Ie=ze.add(ve).mult(D.scale/D.zoomScale(Ae));return{center:D.unproject(U.add(q).div(2).sub(Ie)),zoom:Ae,bearing:v}}fitBounds(c,p,v){return this._fitInternal(this.cameraForBounds(c,p),p,v)}fitScreenCoordinates(c,p,v,_,E){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(c)),this.transform.pointLocation(a.Point.convert(p)),v,_),_,E)}_fitInternal(c,p,v){return c?(delete(p=a.extend(c,p)).padding,p.linear?this.easeTo(p,v):this.flyTo(p,v)):this}jumpTo(c,p){this.stop();const v=this._getTransformForUpdate();let _=!1,E=!1,D=!1;return"zoom"in c&&v.zoom!==+c.zoom&&(_=!0,v.zoom=+c.zoom),c.center!==void 0&&(v.center=a.LngLat.convert(c.center)),"bearing"in c&&v.bearing!==+c.bearing&&(E=!0,v.bearing=+c.bearing),"pitch"in c&&v.pitch!==+c.pitch&&(D=!0,v.pitch=+c.pitch),c.padding==null||v.isPaddingEqual(c.padding)||(v.padding=c.padding),this._applyUpdatedTransform(v),this.fire(new a.Event("movestart",p)).fire(new a.Event("move",p)),_&&this.fire(new a.Event("zoomstart",p)).fire(new a.Event("zoom",p)).fire(new a.Event("zoomend",p)),E&&this.fire(new a.Event("rotatestart",p)).fire(new a.Event("rotate",p)).fire(new a.Event("rotateend",p)),D&&this.fire(new a.Event("pitchstart",p)).fire(new a.Event("pitch",p)).fire(new a.Event("pitchend",p)),this.fire(new a.Event("moveend",p))}calculateCameraOptionsFromTo(c,p,v,_=0){const E=a.MercatorCoordinate.fromLngLat(c,p),D=a.MercatorCoordinate.fromLngLat(v,_),j=D.x-E.x,U=D.y-E.y,q=D.z-E.z,Y=Math.hypot(j,U,q);if(Y===0)throw new Error("Can't calculate camera options with same From and To");const K=Math.hypot(j,U),re=this.transform.scaleZoom(this.transform.cameraToCenterDistance/Y/this.transform.tileSize),de=180*Math.atan2(j,-U)/Math.PI;let ce=180*Math.acos(K/Y)/Math.PI;return ce=q<0?90-ce:90+ce,{center:D.toLngLat(),zoom:re,pitch:ce,bearing:de}}easeTo(c,p){this._stop(!1,c.easeId),((c=a.extend({offset:[0,0],duration:500,easing:a.defaultEasing},c)).animate===!1||!c.essential&&a.browser.prefersReducedMotion)&&(c.duration=0);const v=this._getTransformForUpdate(),_=this.getZoom(),E=this.getBearing(),D=this.getPitch(),j=this.getPadding(),U="zoom"in c?+c.zoom:_,q="bearing"in c?this._normalizeBearing(c.bearing,E):E,Y="pitch"in c?+c.pitch:D,K="padding"in c?c.padding:v.padding,re=a.Point.convert(c.offset);let de=v.centerPoint.add(re);const ce=v.pointLocation(de),me=a.LngLat.convert(c.center||ce);this._normalizeCenter(me);const le=v.project(ce),Ae=v.project(me).sub(le),ze=v.zoomScale(U-_);let ve,Ie;c.around&&(ve=a.LngLat.convert(c.around),Ie=v.locationPoint(ve));const Be={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||U!==_,this._rotating=this._rotating||E!==q,this._pitching=this._pitching||Y!==D,this._padding=!v.isPaddingEqual(K),this._easeId=c.easeId,this._prepareEase(p,c.noMoveStart,Be),this.terrain&&this._prepareElevation(me),this._ease(Fe=>{if(this._zooming&&(v.zoom=a.interpolate.number(_,U,Fe)),this._rotating&&(v.bearing=a.interpolate.number(E,q,Fe)),this._pitching&&(v.pitch=a.interpolate.number(D,Y,Fe)),this._padding&&(v.interpolatePadding(j,K,Fe),de=v.centerPoint.add(re)),this.terrain&&!c.freezeElevation&&this._updateElevation(Fe),ve)v.setLocationAtPoint(ve,Ie);else{const Ke=v.zoomScale(v.zoom-_),nt=U>_?Math.min(2,ze):Math.max(.5,ze),tt=Math.pow(nt,1-Fe),st=v.unproject(le.add(Ae.mult(Fe*tt)).mult(Ke));v.setLocationAtPoint(v.renderWorldCopies?st.wrap():st,de)}this._applyUpdatedTransform(v),this._fireMoveEvents(p)},Fe=>{this.terrain&&this._finalizeElevation(),this._afterEase(p,Fe)},c),this}_prepareEase(c,p,v={}){this._moving=!0,p||v.moving||this.fire(new a.Event("movestart",c)),this._zooming&&!v.zooming&&this.fire(new a.Event("zoomstart",c)),this._rotating&&!v.rotating&&this.fire(new a.Event("rotatestart",c)),this._pitching&&!v.pitching&&this.fire(new a.Event("pitchstart",c))}_prepareElevation(c){this._elevationCenter=c,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(c,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(c){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const p=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(c<1&&p!==this._elevationTarget){const v=this._elevationTarget-this._elevationStart;this._elevationStart+=c*(v-(p-(v*c+this._elevationStart))/(1-c)),this._elevationTarget=p}this.transform.elevation=a.interpolate.number(this._elevationStart,this._elevationTarget,c)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(c){if(!this.transformCameraUpdate)return;const p=c.clone(),{center:v,zoom:_,pitch:E,bearing:D,elevation:j}=this.transformCameraUpdate(p);v&&(p.center=v),_!==void 0&&(p.zoom=_),E!==void 0&&(p.pitch=E),D!==void 0&&(p.bearing=D),j!==void 0&&(p.elevation=j),this.transform.apply(p)}_fireMoveEvents(c){this.fire(new a.Event("move",c)),this._zooming&&this.fire(new a.Event("zoom",c)),this._rotating&&this.fire(new a.Event("rotate",c)),this._pitching&&this.fire(new a.Event("pitch",c))}_afterEase(c,p){if(this._easeId&&p&&this._easeId===p)return;delete this._easeId;const v=this._zooming,_=this._rotating,E=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,v&&this.fire(new a.Event("zoomend",c)),_&&this.fire(new a.Event("rotateend",c)),E&&this.fire(new a.Event("pitchend",c)),this.fire(new a.Event("moveend",c))}flyTo(c,p){if(!c.essential&&a.browser.prefersReducedMotion){const Nt=a.pick(c,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Nt,p)}this.stop(),c=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.defaultEasing},c);const v=this._getTransformForUpdate(),_=this.getZoom(),E=this.getBearing(),D=this.getPitch(),j=this.getPadding(),U="zoom"in c?a.clamp(+c.zoom,v.minZoom,v.maxZoom):_,q="bearing"in c?this._normalizeBearing(c.bearing,E):E,Y="pitch"in c?+c.pitch:D,K="padding"in c?c.padding:v.padding,re=v.zoomScale(U-_),de=a.Point.convert(c.offset);let ce=v.centerPoint.add(de);const me=v.pointLocation(ce),le=a.LngLat.convert(c.center||me);this._normalizeCenter(le);const Ae=v.project(me),ze=v.project(le).sub(Ae);let ve=c.curve;const Ie=Math.max(v.width,v.height),Be=Ie/re,Fe=ze.mag();if("minZoom"in c){const Nt=a.clamp(Math.min(c.minZoom,_,U),v.minZoom,v.maxZoom),Or=Ie/v.zoomScale(Nt-_);ve=Math.sqrt(Or/Fe*2)}const Ke=ve*ve;function nt(Nt){const Or=(Be*Be-Ie*Ie+(Nt?-1:1)*Ke*Ke*Fe*Fe)/(2*(Nt?Be:Ie)*Ke*Fe);return Math.log(Math.sqrt(Or*Or+1)-Or)}function tt(Nt){return(Math.exp(Nt)-Math.exp(-Nt))/2}function st(Nt){return(Math.exp(Nt)+Math.exp(-Nt))/2}const $t=nt(!1);let wn=function(Nt){return st($t)/st($t+ve*Nt)},bt=function(Nt){return Ie*((st($t)*(tt(Or=$t+ve*Nt)/st(Or))-tt($t))/Ke)/Fe;var Or},Qt=(nt(!0)-$t)/ve;if(Math.abs(Fe)<1e-6||!isFinite(Qt)){if(Math.abs(Ie-Be)<1e-6)return this.easeTo(c,p);const Nt=Be<Ie?-1:1;Qt=Math.abs(Math.log(Be/Ie))/ve,bt=function(){return 0},wn=function(Or){return Math.exp(Nt*ve*Or)}}return c.duration="duration"in c?+c.duration:1e3*Qt/("screenSpeed"in c?+c.screenSpeed/ve:+c.speed),c.maxDuration&&c.duration>c.maxDuration&&(c.duration=0),this._zooming=!0,this._rotating=E!==q,this._pitching=Y!==D,this._padding=!v.isPaddingEqual(K),this._prepareEase(p,!1),this.terrain&&this._prepareElevation(le),this._ease(Nt=>{const Or=Nt*Qt,pn=1/wn(Or);v.zoom=Nt===1?U:_+v.scaleZoom(pn),this._rotating&&(v.bearing=a.interpolate.number(E,q,Nt)),this._pitching&&(v.pitch=a.interpolate.number(D,Y,Nt)),this._padding&&(v.interpolatePadding(j,K,Nt),ce=v.centerPoint.add(de)),this.terrain&&!c.freezeElevation&&this._updateElevation(Nt);const gn=Nt===1?le:v.unproject(Ae.add(ze.mult(bt(Or))).mult(pn));v.setLocationAtPoint(v.renderWorldCopies?gn.wrap():gn,ce),this._applyUpdatedTransform(v),this._fireMoveEvents(p)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(p)},c),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(c,p){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const v=this._onEaseEnd;delete this._onEaseEnd,v.call(this,p)}if(!c){const v=this.handlers;v&&v.stop(!1)}return this}_ease(c,p,v){v.animate===!1||v.duration===0?(c(1),p()):(this._easeStart=a.browser.now(),this._easeOptions=v,this._onEaseFrame=c,this._onEaseEnd=p,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(c,p){c=a.wrap(c,-180,180);const v=Math.abs(c-p);return Math.abs(c-360-p)<v&&(c-=360),Math.abs(c+360-p)<v&&(c+=360),c}_normalizeCenter(c){const p=this.transform;if(!p.renderWorldCopies||p.lngRange)return;const v=c.lng-p.center.lng;c.lng+=v>180?-360:v<-180?360:0}queryTerrainElevation(c){return this.terrain?this.terrain.getElevationForLngLatZoom(a.LngLat.convert(c),this.transform.tileZoom)-this.transform.elevation:null}}class Ny{constructor(c={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=p=>{!p||p.sourceDataType!=="metadata"&&p.sourceDataType!=="visibility"&&p.dataType!=="style"&&p.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=c}getDefaultPosition(){return"bottom-right"}onAdd(c){return this._map=c,this._compact=this.options&&this.options.compact,this._container=h.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=h.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=h.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){h.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(c,p){const v=this._map._getUIString(`AttributionControl.${p}`);c.title=v,c.setAttribute("aria-label",v)}_updateAttributions(){if(!this._map.style)return;let c=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=c.concat(this.options.customAttribution.map(_=>typeof _!="string"?"":_)):typeof this.options.customAttribution=="string"&&c.push(this.options.customAttribution)),this._map.style.stylesheet){const _=this._map.style.stylesheet;this.styleOwner=_.owner,this.styleId=_.id}const p=this._map.style.sourceCaches;for(const _ in p){const E=p[_];if(E.used||E.usedForTerrain){const D=E.getSource();D.attribution&&c.indexOf(D.attribution)<0&&c.push(D.attribution)}}c=c.filter(_=>String(_).trim()),c.sort((_,E)=>_.length-E.length),c=c.filter((_,E)=>{for(let D=E+1;D<c.length;D++)if(c[D].indexOf(_)>=0)return!1;return!0});const v=c.join(" | ");v!==this._attribHTML&&(this._attribHTML=v,c.length?(this._innerContainer.innerHTML=v,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Ko{constructor(c={}){this._updateCompact=()=>{const p=this._container.children;if(p.length){const v=p[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&v.classList.add("maplibregl-compact"):v.classList.remove("maplibregl-compact")}},this.options=c}getDefaultPosition(){return"bottom-left"}onAdd(c){this._map=c,this._compact=this.options&&this.options.compact,this._container=h.create("div","maplibregl-ctrl");const p=h.create("a","maplibregl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://maplibre.org/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){h.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class kr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(c){const p=++this._id;return this._queue.push({callback:c,id:p,cancelled:!1}),p}remove(c){const p=this._currentlyRunning,v=p?this._queue.concat(p):this._queue;for(const _ of v)if(_.id===c)return void(_.cancelled=!0)}run(c=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const p=this._currentlyRunning=this._queue;this._queue=[];for(const v of p)if(!v.cancelled&&(v.callback(c),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const ap={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var zy=a.createLayout([{name:"a_pos3d",type:"Int16",components:3}]);class l_ extends a.Evented{constructor(c){super(),this.sourceCache=c,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,c.usedForTerrain=!0,c.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(c,p){this.sourceCache.update(c,p),this._renderableTilesKeys=[];const v={};for(const _ of c.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:p}))v[_.key]=!0,this._renderableTilesKeys.push(_.key),this._tiles[_.key]||(_.posMatrix=new Float64Array(16),a.ortho(_.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),this._tiles[_.key]=new _n(_,this.tileSize));for(const _ in this._tiles)v[_]||delete this._tiles[_]}freeRtt(c){for(const p in this._tiles){const v=this._tiles[p];(!c||v.tileID.equals(c)||v.tileID.isChildOf(c)||c.isChildOf(v.tileID))&&(v.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(c=>this.getTileByID(c))}getTileByID(c){return this._tiles[c]}getTerrainCoords(c){const p={};for(const v of this._renderableTilesKeys){const _=this._tiles[v].tileID;if(_.canonical.equals(c.canonical)){const E=c.clone();E.posMatrix=new Float64Array(16),a.ortho(E.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),p[v]=E}else if(_.canonical.isChildOf(c.canonical)){const E=c.clone();E.posMatrix=new Float64Array(16);const D=_.canonical.z-c.canonical.z,j=_.canonical.x-(_.canonical.x>>D<<D),U=_.canonical.y-(_.canonical.y>>D<<D),q=a.EXTENT>>D;a.ortho(E.posMatrix,0,q,0,q,0,1),a.translate(E.posMatrix,E.posMatrix,[-j*q,-U*q,0]),p[v]=E}else if(c.canonical.isChildOf(_.canonical)){const E=c.clone();E.posMatrix=new Float64Array(16);const D=c.canonical.z-_.canonical.z,j=c.canonical.x-(c.canonical.x>>D<<D),U=c.canonical.y-(c.canonical.y>>D<<D),q=a.EXTENT>>D;a.ortho(E.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),a.translate(E.posMatrix,E.posMatrix,[j*q,U*q,0]),a.scale(E.posMatrix,E.posMatrix,[1/2**D,1/2**D,0]),p[v]=E}}return p}getSourceTile(c,p){const v=this.sourceCache._source;let _=c.overscaledZ-this.deltaZoom;if(_>v.maxzoom&&(_=v.maxzoom),_<v.minzoom)return null;this._sourceTileCache[c.key]||(this._sourceTileCache[c.key]=c.scaledTo(_).key);let E=this.sourceCache.getTileByID(this._sourceTileCache[c.key]);if((!E||!E.dem)&&p)for(;_>=v.minzoom&&(!E||!E.dem);)E=this.sourceCache.getTileByID(c.scaledTo(_--).key);return E}tilesAfterTime(c=Date.now()){return Object.values(this._tiles).filter(p=>p.timeAdded>=c)}}class c_{constructor(c,p,v){this.painter=c,this.sourceCache=new l_(p),this.options=v,this.exaggeration=typeof v.exaggeration=="number"?v.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(c,p,v,_=a.EXTENT){var E;if(!(p>=0&&p<_&&v>=0&&v<_))return 0;const D=this.getTerrainData(c),j=(E=D.tile)===null||E===void 0?void 0:E.dem;if(!j)return 0;const U=function(ce,me,le){var Ae=me[0],ze=me[1];return ce[0]=le[0]*Ae+le[4]*ze+le[12],ce[1]=le[1]*Ae+le[5]*ze+le[13],ce}([],[p/_*a.EXTENT,v/_*a.EXTENT],D.u_terrain_matrix),q=[U[0]*j.dim,U[1]*j.dim],Y=Math.floor(q[0]),K=Math.floor(q[1]),re=q[0]-Y,de=q[1]-K;return j.get(Y,K)*(1-re)*(1-de)+j.get(Y+1,K)*re*(1-de)+j.get(Y,K+1)*(1-re)*de+j.get(Y+1,K+1)*re*de}getElevationForLngLatZoom(c,p){const{tileID:v,mercatorX:_,mercatorY:E}=this._getOverscaledTileIDFromLngLatZoom(c,p);return this.getElevation(v,_%a.EXTENT,E%a.EXTENT,a.EXTENT)}getElevation(c,p,v,_=a.EXTENT){return this.getDEMElevation(c,p,v,_)*this.exaggeration}getTerrainData(c){if(!this._emptyDemTexture){const _=this.painter.context,E=new a.RGBAImage({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new ee(_,E,_.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new ee(_,new a.RGBAImage({width:1,height:1}),_.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(_.gl.NEAREST,_.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.identity([])}const p=this.sourceCache.getSourceTile(c,!0);if(p&&p.dem&&(!p.demTexture||p.needsTerrainPrepare)){const _=this.painter.context;p.demTexture=this.painter.getTileTexture(p.dem.stride),p.demTexture?p.demTexture.update(p.dem.getPixels(),{premultiply:!1}):p.demTexture=new ee(_,p.dem.getPixels(),_.gl.RGBA,{premultiply:!1}),p.demTexture.bind(_.gl.NEAREST,_.gl.CLAMP_TO_EDGE),p.needsTerrainPrepare=!1}const v=p&&p+p.tileID.key+c.key;if(v&&!this._demMatrixCache[v]){const _=this.sourceCache.sourceCache._source.maxzoom;let E=c.canonical.z-p.tileID.canonical.z;c.overscaledZ>c.canonical.z&&(c.canonical.z>=_?E=c.canonical.z-_:a.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const D=c.canonical.x-(c.canonical.x>>E<<E),j=c.canonical.y-(c.canonical.y>>E<<E),U=a.fromScaling(new Float64Array(16),[1/(a.EXTENT<<E),1/(a.EXTENT<<E),0]);a.translate(U,U,[D*a.EXTENT,j*a.EXTENT,0]),this._demMatrixCache[c.key]={matrix:U,coord:c}}return{u_depth:2,u_terrain:3,u_terrain_dim:p&&p.dem&&p.dem.dim||1,u_terrain_matrix:v?this._demMatrixCache[c.key].matrix:this._emptyDemMatrix,u_terrain_unpack:p&&p.dem&&p.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(p&&p.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:p}}getFramebuffer(c){const p=this.painter,v=p.width/devicePixelRatio,_=p.height/devicePixelRatio;return!this._fbo||this._fbo.width===v&&this._fbo.height===_||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new ee(p.context,{width:v,height:_,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new ee(p.context,{width:v,height:_,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=p.context.createFramebuffer(v,_,!0,!1),this._fbo.depthAttachment.set(p.context.createRenderbuffer(p.context.gl.DEPTH_COMPONENT16,v,_))),this._fbo.colorAttachment.set(c==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const c=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const p=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let E=0,D=0;E<this._coordsTextureSize;E++)for(let j=0;j<this._coordsTextureSize;j++,D+=4)p[D+0]=255&j,p[D+1]=255&E,p[D+2]=j>>8<<4|E>>8,p[D+3]=0;const v=new a.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(p.buffer)),_=new ee(c,v,c.gl.RGBA,{premultiply:!1});return _.bind(c.gl.NEAREST,c.gl.CLAMP_TO_EDGE),this._coordsTexture=_,_}pointCoordinate(c){const p=new Uint8Array(4),v=this.painter.context,_=v.gl;v.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),_.readPixels(c.x,this.painter.height/devicePixelRatio-c.y-1,1,1,_.RGBA,_.UNSIGNED_BYTE,p),v.bindFramebuffer.set(null);const E=p[0]+(p[2]>>4<<8),D=p[1]+((15&p[2])<<8),j=this.coordsIndex[255-p[3]],U=j&&this.sourceCache.getTileByID(j);if(!U)return null;const q=this._coordsTextureSize,Y=(1<<U.tileID.canonical.z)*q;return new a.MercatorCoordinate((U.tileID.canonical.x*q+E)/Y,(U.tileID.canonical.y*q+D)/Y,this.getElevation(U.tileID,E,D,q))}getTerrainMesh(){if(this._mesh)return this._mesh;const c=this.painter.context,p=new a.Pos3dArray,v=new a.TriangleIndexArray,_=this.meshSize,E=a.EXTENT/_,D=_*_;for(let K=0;K<=_;K++)for(let re=0;re<=_;re++)p.emplaceBack(re*E,K*E,0);for(let K=0;K<D;K+=_+1)for(let re=0;re<_;re++)v.emplaceBack(re+K,_+re+K+1,_+re+K+2),v.emplaceBack(re+K,_+re+K+2,re+K+1);const j=p.length,U=j+2*(_+1);for(const K of[0,1])for(let re=0;re<=_;re++)for(const de of[0,1])p.emplaceBack(re*E,K*a.EXTENT,de);for(let K=0;K<2*_;K+=2)v.emplaceBack(U+K,U+K+1,U+K+3),v.emplaceBack(U+K,U+K+3,U+K+2),v.emplaceBack(j+K,j+K+3,j+K+1),v.emplaceBack(j+K,j+K+2,j+K+3);const q=p.length,Y=q+2*(_+1);for(const K of[0,1])for(let re=0;re<=_;re++)for(const de of[0,1])p.emplaceBack(K*a.EXTENT,re*E,de);for(let K=0;K<2*_;K+=2)v.emplaceBack(q+K,q+K+1,q+K+3),v.emplaceBack(q+K,q+K+3,q+K+2),v.emplaceBack(Y+K,Y+K+3,Y+K+1),v.emplaceBack(Y+K,Y+K+2,Y+K+3);return this._mesh={indexBuffer:c.createIndexBuffer(v),vertexBuffer:c.createVertexBuffer(p,zy.members),segments:a.SegmentVector.simpleSegment(0,0,p.length,v.length)},this._mesh}getMeshFrameDelta(c){return 2*Math.PI*a.earthRadius/Math.pow(2,c)/5}getMinTileElevationForLngLatZoom(c,p){var v;const{tileID:_}=this._getOverscaledTileIDFromLngLatZoom(c,p);return(v=this.getMinMaxElevation(_).minElevation)!==null&&v!==void 0?v:0}getMinMaxElevation(c){const p=this.getTerrainData(c).tile,v={minElevation:null,maxElevation:null};return p&&p.dem&&(v.minElevation=p.dem.min*this.exaggeration,v.maxElevation=p.dem.max*this.exaggeration),v}_getOverscaledTileIDFromLngLatZoom(c,p){const v=a.MercatorCoordinate.fromLngLat(c.wrap()),_=(1<<p)*a.EXTENT,E=v.x*_,D=v.y*_,j=Math.floor(E/a.EXTENT),U=Math.floor(D/a.EXTENT);return{tileID:new a.OverscaledTileID(p,0,p,j,U),mercatorX:E,mercatorY:D}}}class u_{constructor(c,p,v){this._context=c,this._size=p,this._tileSize=v,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const c of this._objects)c.texture.destroy(),c.fbo.destroy()}_createObject(c){const p=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),v=new ee(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return v.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),p.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),p.colorAttachment.set(v.texture),{id:c,fbo:p,texture:v,stamp:-1,inUse:!1}}getObjectForId(c){return this._objects[c]}useObject(c){c.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(p=>c.id!==p),this._recentlyUsed.push(c.id)}stampObject(c){c.stamp=++this._stamp}getOrCreateFreeObject(){for(const p of this._recentlyUsed)if(!this._objects[p].inUse)return this._objects[p];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const c=this._createObject(this._objects.length);return this._objects.push(c),c}freeObject(c){c.inUse=!1}freeAllObjects(){for(const c of this._objects)this.freeObject(c)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(c=>!c.inUse)===!1}}const Du={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class us{constructor(c,p){this.painter=c,this.terrain=p,this.pool=new u_(c.context,30,p.sourceCache.tileSize*p.qualityFactor)}destruct(){this.pool.destruct()}getTexture(c){return this.pool.getObjectForId(c.rtt[this._stacks.length-1].id).texture}prepareForRender(c,p){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=c._order.filter(v=>!c._layers[v].isHidden(p)),this._coordsDescendingInv={};for(const v in c.sourceCaches){this._coordsDescendingInv[v]={};const _=c.sourceCaches[v].getVisibleCoordinates();for(const E of _){const D=this.terrain.sourceCache.getTerrainCoords(E);for(const j in D)this._coordsDescendingInv[v][j]||(this._coordsDescendingInv[v][j]=[]),this._coordsDescendingInv[v][j].push(D[j])}}this._coordsDescendingInvStr={};for(const v of c._order){const _=c._layers[v],E=_.source;if(Du[_.type]&&!this._coordsDescendingInvStr[E]){this._coordsDescendingInvStr[E]={};for(const D in this._coordsDescendingInv[E])this._coordsDescendingInvStr[E][D]=this._coordsDescendingInv[E][D].map(j=>j.key).sort().join()}}for(const v of this._renderableTiles)for(const _ in this._coordsDescendingInvStr){const E=this._coordsDescendingInvStr[_][v.tileID.key];E&&E!==v.rttCoords[_]&&(v.rtt=[])}}renderLayer(c){if(c.isHidden(this.painter.transform.zoom))return!1;const p=c.type,v=this.painter,_=this._renderableLayerIds[this._renderableLayerIds.length-1]===c.id;if(Du[p]&&(this._prevType&&Du[this._prevType]||this._stacks.push([]),this._prevType=p,this._stacks[this._stacks.length-1].push(c.id),!_))return!0;if(Du[this._prevType]||Du[p]&&_){this._prevType=p;const E=this._stacks.length-1,D=this._stacks[E]||[];for(const j of this._renderableTiles){if(this.pool.isFull()&&(wy(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(j),j.rtt[E]){const q=this.pool.getObjectForId(j.rtt[E].id);if(q.stamp===j.rtt[E].stamp){this.pool.useObject(q);continue}}const U=this.pool.getOrCreateFreeObject();this.pool.useObject(U),this.pool.stampObject(U),j.rtt[E]={id:U.id,stamp:U.stamp},v.context.bindFramebuffer.set(U.fbo.framebuffer),v.context.clear({color:a.Color.transparent,stencil:0}),v.currentStencilSource=void 0;for(let q=0;q<D.length;q++){const Y=v.style._layers[D[q]],K=Y.source?this._coordsDescendingInv[Y.source][j.tileID.key]:[j.tileID];v.context.viewport.set([0,0,U.fbo.width,U.fbo.height]),v._renderTileClippingMasks(Y,K),v.renderLayer(v,v.style.sourceCaches[Y.source],Y,K),Y.source&&(j.rttCoords[Y.source]=this._coordsDescendingInvStr[Y.source][j.tileID.key])}}return wy(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),Du[p]}return!1}}const sp=f,Bt={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:a.config.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},Zt=w=>{w.touchstart=w.dragStart,w.touchmoveWindow=w.dragMove,w.touchend=w.dragEnd},lp={showCompass:!0,showZoom:!0,visualizePitch:!1};class jy{constructor(c,p,v=!1){this.mousedown=D=>{this.startMouse(a.extend({},D,{ctrlKey:!0,preventDefault:()=>D.preventDefault()}),h.mousePos(this.element,D)),h.addEventListener(window,"mousemove",this.mousemove),h.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=D=>{this.moveMouse(D,h.mousePos(this.element,D))},this.mouseup=D=>{this.mouseRotate.dragEnd(D),this.mousePitch&&this.mousePitch.dragEnd(D),this.offTemp()},this.touchstart=D=>{D.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=h.touchPos(this.element,D.targetTouches)[0],this.startTouch(D,this._startPos),h.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),h.addEventListener(window,"touchend",this.touchend))},this.touchmove=D=>{D.targetTouches.length!==1?this.reset():(this._lastPos=h.touchPos(this.element,D.targetTouches)[0],this.moveTouch(D,this._lastPos))},this.touchend=D=>{D.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const _=c.dragRotate._mouseRotate.getClickTolerance(),E=c.dragRotate._mousePitch.getClickTolerance();this.element=p,this.mouseRotate=ky({clickTolerance:_,enable:!0}),this.touchRotate=(({enable:D,clickTolerance:j,bearingDegreesPerPixelMoved:U=.8})=>{const q=new o_;return new Yo({clickTolerance:j,move:(Y,K)=>({bearingDelta:(K.x-Y.x)*U}),moveStateManager:q,enable:D,assignEvents:Zt})})({clickTolerance:_,enable:!0}),this.map=c,v&&(this.mousePitch=$u({clickTolerance:E,enable:!0}),this.touchPitch=(({enable:D,clickTolerance:j,pitchDegreesPerPixelMoved:U=-.5})=>{const q=new o_;return new Yo({clickTolerance:j,move:(Y,K)=>({pitchDelta:(K.y-Y.y)*U}),moveStateManager:q,enable:D,assignEvents:Zt})})({clickTolerance:E,enable:!0})),h.addEventListener(p,"mousedown",this.mousedown),h.addEventListener(p,"touchstart",this.touchstart,{passive:!1}),h.addEventListener(p,"touchcancel",this.reset)}startMouse(c,p){this.mouseRotate.dragStart(c,p),this.mousePitch&&this.mousePitch.dragStart(c,p),h.disableDrag()}startTouch(c,p){this.touchRotate.dragStart(c,p),this.touchPitch&&this.touchPitch.dragStart(c,p),h.disableDrag()}moveMouse(c,p){const v=this.map,{bearingDelta:_}=this.mouseRotate.dragMove(c,p)||{};if(_&&v.setBearing(v.getBearing()+_),this.mousePitch){const{pitchDelta:E}=this.mousePitch.dragMove(c,p)||{};E&&v.setPitch(v.getPitch()+E)}}moveTouch(c,p){const v=this.map,{bearingDelta:_}=this.touchRotate.dragMove(c,p)||{};if(_&&v.setBearing(v.getBearing()+_),this.touchPitch){const{pitchDelta:E}=this.touchPitch.dragMove(c,p)||{};E&&v.setPitch(v.getPitch()+E)}}off(){const c=this.element;h.removeEventListener(c,"mousedown",this.mousedown),h.removeEventListener(c,"touchstart",this.touchstart,{passive:!1}),h.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),h.removeEventListener(window,"touchend",this.touchend),h.removeEventListener(c,"touchcancel",this.reset),this.offTemp()}offTemp(){h.enableDrag(),h.removeEventListener(window,"mousemove",this.mousemove),h.removeEventListener(window,"mouseup",this.mouseup),h.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),h.removeEventListener(window,"touchend",this.touchend)}}let ds;function ao(w,c,p){if(w=new a.LngLat(w.lng,w.lat),c){const v=new a.LngLat(w.lng-360,w.lat),_=new a.LngLat(w.lng+360,w.lat),E=p.locationPoint(w).distSqr(c);p.locationPoint(v).distSqr(c)<E?w=v:p.locationPoint(_).distSqr(c)<E&&(w=_)}for(;Math.abs(w.lng-p.center.lng)>180;){const v=p.locationPoint(w);if(v.x>=0&&v.y>=0&&v.x<=p.width&&v.y<=p.height)break;w.lng>p.center.lng?w.lng-=360:w.lng+=360}return w}const cp={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function $a(w,c,p){const v=w.classList;for(const _ in cp)v.remove(`maplibregl-${p}-anchor-${_}`);v.add(`maplibregl-${p}-anchor-${c}`)}class By extends a.Evented{constructor(c){if(super(),this._onKeyPress=p=>{const v=p.code,_=p.charCode||p.keyCode;v!=="Space"&&v!=="Enter"&&_!==32&&_!==13||this.togglePopup()},this._onMapClick=p=>{const v=p.originalEvent.target,_=this._element;this._popup&&(v===_||_.contains(v))&&this.togglePopup()},this._update=p=>{if(!this._map)return;const v=this._map.loaded()&&!this._map.isMoving();((p==null?void 0:p.type)==="terrain"||(p==null?void 0:p.type)==="render"&&!v)&&this._map.once("render",this._update),this._map.transform.renderWorldCopies&&(this._lngLat=ao(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let _="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?_=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(_=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let E="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?E="rotateX(0deg)":this._pitchAlignment==="map"&&(E=`rotateX(${this._map.getPitch()}deg)`),p&&p.type!=="moveend"||(this._pos=this._pos.round()),h.setTransform(this._element,`${cp[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${E} ${_}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const D=this._map.unproject(this._pos),j=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=D.distanceTo(this._lngLat)>20*j?"0.2":"1.0",this._opacityTimeout=null},100))},this._onMove=p=>{if(!this._isDragging){const v=this._clickTolerance||this._map._clickTolerance;this._isDragging=p.point.dist(this._pointerdownPos)>=v}this._isDragging&&(this._pos=p.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},this._addDragHandler=p=>{this._element.contains(p.originalEvent.target)&&(p.preventDefault(),this._positionDelta=p.point.sub(this._pos).add(this._offset),this._pointerdownPos=p.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=c&&c.anchor||"center",this._color=c&&c.color||"#3FB1CE",this._scale=c&&c.scale||1,this._draggable=c&&c.draggable||!1,this._clickTolerance=c&&c.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=c&&c.rotation||0,this._rotationAlignment=c&&c.rotationAlignment||"auto",this._pitchAlignment=c&&c.pitchAlignment&&c.pitchAlignment!=="auto"?c.pitchAlignment:this._rotationAlignment,c&&c.element)this._element=c.element,this._offset=a.Point.convert(c&&c.offset||[0,0]);else{this._defaultMarker=!0,this._element=h.create("div"),this._element.setAttribute("aria-label","Map marker");const p=h.createNS("http://www.w3.org/2000/svg","svg"),v=41,_=27;p.setAttributeNS(null,"display","block"),p.setAttributeNS(null,"height",`${v}px`),p.setAttributeNS(null,"width",`${_}px`),p.setAttributeNS(null,"viewBox",`0 0 ${_} ${v}`);const E=h.createNS("http://www.w3.org/2000/svg","g");E.setAttributeNS(null,"stroke","none"),E.setAttributeNS(null,"stroke-width","1"),E.setAttributeNS(null,"fill","none"),E.setAttributeNS(null,"fill-rule","evenodd");const D=h.createNS("http://www.w3.org/2000/svg","g");D.setAttributeNS(null,"fill-rule","nonzero");const j=h.createNS("http://www.w3.org/2000/svg","g");j.setAttributeNS(null,"transform","translate(3.0, 29.0)"),j.setAttributeNS(null,"fill","#000000");const U=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const Ae of U){const ze=h.createNS("http://www.w3.org/2000/svg","ellipse");ze.setAttributeNS(null,"opacity","0.04"),ze.setAttributeNS(null,"cx","10.5"),ze.setAttributeNS(null,"cy","5.80029008"),ze.setAttributeNS(null,"rx",Ae.rx),ze.setAttributeNS(null,"ry",Ae.ry),j.appendChild(ze)}const q=h.createNS("http://www.w3.org/2000/svg","g");q.setAttributeNS(null,"fill",this._color);const Y=h.createNS("http://www.w3.org/2000/svg","path");Y.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),q.appendChild(Y);const K=h.createNS("http://www.w3.org/2000/svg","g");K.setAttributeNS(null,"opacity","0.25"),K.setAttributeNS(null,"fill","#000000");const re=h.createNS("http://www.w3.org/2000/svg","path");re.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),K.appendChild(re);const de=h.createNS("http://www.w3.org/2000/svg","g");de.setAttributeNS(null,"transform","translate(6.0, 7.0)"),de.setAttributeNS(null,"fill","#FFFFFF");const ce=h.createNS("http://www.w3.org/2000/svg","g");ce.setAttributeNS(null,"transform","translate(8.0, 8.0)");const me=h.createNS("http://www.w3.org/2000/svg","circle");me.setAttributeNS(null,"fill","#000000"),me.setAttributeNS(null,"opacity","0.25"),me.setAttributeNS(null,"cx","5.5"),me.setAttributeNS(null,"cy","5.5"),me.setAttributeNS(null,"r","5.4999962");const le=h.createNS("http://www.w3.org/2000/svg","circle");le.setAttributeNS(null,"fill","#FFFFFF"),le.setAttributeNS(null,"cx","5.5"),le.setAttributeNS(null,"cy","5.5"),le.setAttributeNS(null,"r","5.4999962"),ce.appendChild(me),ce.appendChild(le),D.appendChild(j),D.appendChild(q),D.appendChild(K),D.appendChild(de),D.appendChild(ce),p.appendChild(D),p.setAttributeNS(null,"height",v*this._scale+"px"),p.setAttributeNS(null,"width",_*this._scale+"px"),this._element.appendChild(p),this._offset=a.Point.convert(c&&c.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",p=>{p.preventDefault()}),this._element.addEventListener("mousedown",p=>{p.preventDefault()}),$a(this._element,this._anchor,"marker"),c&&c.className)for(const p of c.className.split(" "))this._element.classList.add(p);this._popup=null}addTo(c){return this.remove(),this._map=c,c.getCanvasContainer().appendChild(this._element),c.on("move",this._update),c.on("moveend",this._update),c.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),h.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(c){return this._lngLat=a.LngLat.convert(c),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(c){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),c){if(!("offset"in c.options)){const _=Math.abs(13.5)/Math.SQRT2;c.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[_,-1*(38.1-13.5+_)],"bottom-right":[-_,-1*(38.1-13.5+_)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=c,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const c=this._popup;return c?(c.isOpen()?c.remove():c.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(c){return this._offset=a.Point.convert(c),this._update(),this}addClassName(c){this._element.classList.add(c)}removeClassName(c){this._element.classList.remove(c)}toggleClassName(c){return this._element.classList.toggle(c)}setDraggable(c){return this._draggable=!!c,this._map&&(c?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(c){return this._rotation=c||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(c){return this._rotationAlignment=c||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(c){return this._pitchAlignment=c&&c!=="auto"?c:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const gf={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let xr=0,Pr=!1;const d_={maxWidth:100,unit:"metric"};function Lu(w,c,p){const v=p&&p.maxWidth||100,_=w._container.clientHeight/2,E=w.unproject([0,_]),D=w.unproject([v,_]),j=E.distanceTo(D);if(p&&p.unit==="imperial"){const U=3.2808*j;U>5280?$l(c,v,U/5280,w._getUIString("ScaleControl.Miles")):$l(c,v,U,w._getUIString("ScaleControl.Feet"))}else p&&p.unit==="nautical"?$l(c,v,j/1852,w._getUIString("ScaleControl.NauticalMiles")):j>=1e3?$l(c,v,j/1e3,w._getUIString("ScaleControl.Kilometers")):$l(c,v,j,w._getUIString("ScaleControl.Meters"))}function $l(w,c,p,v){const _=function(E){const D=Math.pow(10,`${Math.floor(E)}`.length-1);let j=E/D;return j=j>=10?10:j>=5?5:j>=3?3:j>=2?2:j>=1?1:function(U){const q=Math.pow(10,Math.ceil(-Math.log(U)/Math.LN10));return Math.round(U*q)/q}(j),D*j}(p);w.style.width=c*(_/p)+"px",w.innerHTML=`${_}&nbsp;${v}`}const Fy={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Uy=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function up(w){if(w){if(typeof w=="number"){const c=Math.round(Math.abs(w)/Math.SQRT2);return{center:new a.Point(0,0),top:new a.Point(0,w),"top-left":new a.Point(c,c),"top-right":new a.Point(-c,c),bottom:new a.Point(0,-w),"bottom-left":new a.Point(c,-c),"bottom-right":new a.Point(-c,-c),left:new a.Point(w,0),right:new a.Point(-w,0)}}if(w instanceof a.Point||Array.isArray(w)){const c=a.Point.convert(w);return{center:c,top:c,"top-left":c,"top-right":c,bottom:c,"bottom-left":c,"bottom-right":c,left:c,right:c}}return{center:a.Point.convert(w.center||[0,0]),top:a.Point.convert(w.top||[0,0]),"top-left":a.Point.convert(w["top-left"]||[0,0]),"top-right":a.Point.convert(w["top-right"]||[0,0]),bottom:a.Point.convert(w.bottom||[0,0]),"bottom-left":a.Point.convert(w["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(w["bottom-right"]||[0,0]),left:a.Point.convert(w.left||[0,0]),right:a.Point.convert(w.right||[0,0])}}return up(new a.Point(0,0))}const yf={extend:(w,...c)=>a.extend(w,...c),run(w){w()},logToElement(w,c=!1,p="log"){const v=window.document.getElementById(p);v&&(c&&(v.innerHTML=""),v.innerHTML+=`<br>${w}`)}},Vy=f;class Wn{static get version(){return Vy}static get workerCount(){return Kt.workerCount}static set workerCount(c){Kt.workerCount=c}static get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(c){a.config.MAX_PARALLEL_IMAGE_REQUESTS=c}static get workerUrl(){return a.config.WORKER_URL}static set workerUrl(c){a.config.WORKER_URL=c}static addProtocol(c,p){a.config.REGISTERED_PROTOCOLS[c]=p}static removeProtocol(c){delete a.config.REGISTERED_PROTOCOLS[c]}}return Wn.Map=class extends Ly{constructor(w){if(a.PerformanceUtils.mark(a.PerformanceMarkers.create),(w=a.extend({},Bt,w)).minZoom!=null&&w.maxZoom!=null&&w.minZoom>w.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(w.minPitch!=null&&w.maxPitch!=null&&w.minPitch>w.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(w.minPitch!=null&&w.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(w.maxPitch!=null&&w.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new sf(w.minZoom,w.maxZoom,w.minPitch,w.maxPitch,w.renderWorldCopies),{bearingSnap:w.bearingSnap}),this._cooperativeGesturesOnWheel=c=>{this._onCooperativeGesture(c,c[this._metaKey],1)},this._contextLost=c=>{c.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:c}))},this._contextRestored=c=>{this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:c}))},this._onMapScroll=c=>{if(c.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=w.interactive,this._cooperativeGestures=w.cooperativeGestures,this._metaKey=navigator.platform.indexOf("Mac")===0?"metaKey":"ctrlKey",this._maxTileCacheSize=w.maxTileCacheSize,this._maxTileCacheZoomLevels=w.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=w.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=w.preserveDrawingBuffer,this._antialias=w.antialias,this._trackResize=w.trackResize,this._bearingSnap=w.bearingSnap,this._refreshExpiredTiles=w.refreshExpiredTiles,this._fadeDuration=w.fadeDuration,this._crossSourceCollisions=w.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=w.collectResourceTiming,this._renderTaskQueue=new kr,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},ap,w.locale),this._clickTolerance=w.clickTolerance,this._overridePixelRatio=w.pixelRatio,this._maxCanvasSize=w.maxCanvasSize,this.transformCameraUpdate=w.transformCameraUpdate,this._imageQueueHandle=A.addThrottleControl(()=>this.isMoving()),this._requestManager=new M(w.transformRequest),typeof w.container=="string"){if(this._container=document.getElementById(w.container),!this._container)throw new Error(`Container '${w.container}' not found.`)}else{if(!(w.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=w.container}if(w.maxBounds&&this.setMaxBounds(w.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let c=!1;const p=Sy(v=>{this._trackResize&&!this._removed&&this.resize(v)._update()},50);this._resizeObserver=new ResizeObserver(v=>{c?p(v):c=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Dy(this,w),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=w.hash&&new Mu(typeof w.hash=="string"&&w.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:w.center,zoom:w.zoom,bearing:w.bearing,pitch:w.pitch}),w.bounds&&(this.resize(),this.fitBounds(w.bounds,a.extend({},w.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=w.localIdeographFontFamily,this._validateStyle=w.validateStyle,w.style&&this.setStyle(w.style,{localIdeographFontFamily:w.localIdeographFontFamily}),w.attributionControl&&this.addControl(new Ny({customAttribution:w.customAttribution})),w.maplibreLogo&&this.addControl(new Ko,w.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",c=>{this._update(c.dataType==="style"),this.fire(new a.Event(`${c.dataType}data`,c))}),this.on("dataloading",c=>{this.fire(new a.Event(`${c.dataType}dataloading`,c))}),this.on("dataabort",c=>{this.fire(new a.Event("sourcedataabort",c))})}_getMapId(){return this._mapId}addControl(w,c){if(c===void 0&&(c=w.getDefaultPosition?w.getDefaultPosition():"top-right"),!w||!w.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const p=w.onAdd(this);this._controls.push(w);const v=this._controlPositions[c];return c.indexOf("bottom")!==-1?v.insertBefore(p,v.firstChild):v.appendChild(p),this}removeControl(w){if(!w||!w.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const c=this._controls.indexOf(w);return c>-1&&this._controls.splice(c,1),w.onRemove(this),this}hasControl(w){return this._controls.indexOf(w)>-1}calculateCameraOptionsFromTo(w,c,p,v){return v==null&&this.terrain&&(v=this.terrain.getElevationForLngLatZoom(p,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(w,c,p,v)}resize(w){var c;const p=this._containerDimensions(),v=p[0],_=p[1],E=this._getClampedPixelRatio(v,_);if(this._resizeCanvas(v,_,E),this.painter.resize(v,_,E),this.painter.overLimit()){const j=this.painter.context.gl;this._maxCanvasSize=[j.drawingBufferWidth,j.drawingBufferHeight];const U=this._getClampedPixelRatio(v,_);this._resizeCanvas(v,_,U),this.painter.resize(v,_,U)}this.transform.resize(v,_),(c=this._requestedCameraState)===null||c===void 0||c.resize(v,_);const D=!this._moving;return D&&(this.stop(),this.fire(new a.Event("movestart",w)).fire(new a.Event("move",w))),this.fire(new a.Event("resize",w)),D&&this.fire(new a.Event("moveend",w)),this}_getClampedPixelRatio(w,c){const{0:p,1:v}=this._maxCanvasSize,_=this.getPixelRatio(),E=w*_,D=c*_;return Math.min(E>p?p/E:1,D>v?v/D:1)*_}getPixelRatio(){var w;return(w=this._overridePixelRatio)!==null&&w!==void 0?w:devicePixelRatio}setPixelRatio(w){this._overridePixelRatio=w,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(w){return this.transform.setMaxBounds(Je.convert(w)),this._update()}setMinZoom(w){if((w=w??-2)>=-2&&w<=this.transform.maxZoom)return this.transform.minZoom=w,this._update(),this.getZoom()<w&&this.setZoom(w),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(w){if((w=w??22)>=this.transform.minZoom)return this.transform.maxZoom=w,this._update(),this.getZoom()>w&&this.setZoom(w),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(w){if((w=w??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(w>=0&&w<=this.transform.maxPitch)return this.transform.minPitch=w,this._update(),this.getPitch()<w&&this.setPitch(w),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(w){if((w=w??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(w>=this.transform.minPitch)return this.transform.maxPitch=w,this._update(),this.getPitch()>w&&this.setPitch(w),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(w){return this.transform.renderWorldCopies=w,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(w){return this._cooperativeGestures=w,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(w){return this.transform.locationPoint(a.LngLat.convert(w),this.style&&this.terrain)}unproject(w){return this.transform.pointLocation(a.Point.convert(w),this.terrain)}isMoving(){var w;return this._moving||((w=this.handlers)===null||w===void 0?void 0:w.isMoving())}isZooming(){var w;return this._zooming||((w=this.handlers)===null||w===void 0?void 0:w.isZooming())}isRotating(){var w;return this._rotating||((w=this.handlers)===null||w===void 0?void 0:w.isRotating())}_createDelegatedListener(w,c,p){if(w==="mouseenter"||w==="mouseover"){let v=!1;return{layer:c,listener:p,delegates:{mousemove:E=>{const D=this.getLayer(c)?this.queryRenderedFeatures(E.point,{layers:[c]}):[];D.length?v||(v=!0,p.call(this,new Ho(w,this,E.originalEvent,{features:D}))):v=!1},mouseout:()=>{v=!1}}}}if(w==="mouseleave"||w==="mouseout"){let v=!1;return{layer:c,listener:p,delegates:{mousemove:D=>{(this.getLayer(c)?this.queryRenderedFeatures(D.point,{layers:[c]}):[]).length?v=!0:v&&(v=!1,p.call(this,new Ho(w,this,D.originalEvent)))},mouseout:D=>{v&&(v=!1,p.call(this,new Ho(w,this,D.originalEvent)))}}}}{const v=_=>{const E=this.getLayer(c)?this.queryRenderedFeatures(_.point,{layers:[c]}):[];E.length&&(_.features=E,p.call(this,_),delete _.features)};return{layer:c,listener:p,delegates:{[w]:v}}}}on(w,c,p){if(p===void 0)return super.on(w,c);const v=this._createDelegatedListener(w,c,p);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[w]=this._delegatedListeners[w]||[],this._delegatedListeners[w].push(v);for(const _ in v.delegates)this.on(_,v.delegates[_]);return this}once(w,c,p){if(p===void 0)return super.once(w,c);const v=this._createDelegatedListener(w,c,p);for(const _ in v.delegates)this.once(_,v.delegates[_]);return this}off(w,c,p){return p===void 0?super.off(w,c):(this._delegatedListeners&&this._delegatedListeners[w]&&(v=>{const _=this._delegatedListeners[w];for(let E=0;E<_.length;E++){const D=_[E];if(D.layer===c&&D.listener===p){for(const j in D.delegates)this.off(j,D.delegates[j]);return _.splice(E,1),this}}})(),this)}queryRenderedFeatures(w,c){if(!this.style)return[];let p;const v=w instanceof a.Point||Array.isArray(w),_=v?w:[[0,0],[this.transform.width,this.transform.height]];if(c=c||(v?{}:w)||{},_ instanceof a.Point||typeof _[0]=="number")p=[a.Point.convert(_)];else{const E=a.Point.convert(_[0]),D=a.Point.convert(_[1]);p=[E,new a.Point(D.x,E.y),D,new a.Point(E.x,D.y),E]}return this.style.queryRenderedFeatures(p,c,this.transform)}querySourceFeatures(w,c){return this.style.querySourceFeatures(w,c)}setStyle(w,c){return(c=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},c)).diff!==!1&&c.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&w?(this._diffStyle(w,c),this):(this._localIdeographFontFamily=c.localIdeographFontFamily,this._updateStyle(w,c))}setTransformRequest(w){return this._requestManager.setTransformRequest(w),this}_getUIString(w){const c=this._locale[w];if(c==null)throw new Error(`Missing UI string '${w}'`);return c}_updateStyle(w,c){if(c.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(w,c));const p=this.style&&c.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!w)),w?(this.style=new Ri(this,c||{}),this.style.setEventedParent(this,{style:this.style}),typeof w=="string"?this.style.loadURL(w,c,p):this.style.loadJSON(w,c,p),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Ri(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(w,c){if(typeof w=="string"){const p=this._requestManager.transformRequest(w,I.Style);a.getJSON(p,(v,_)=>{v?this.fire(new a.ErrorEvent(v)):_&&this._updateDiff(_,c)})}else typeof w=="object"&&this._updateDiff(w,c)}_updateDiff(w,c){try{this.style.setState(w,c)&&this._update(!0)}catch(p){a.warnOnce(`Unable to perform style diff: ${p.message||p.error||p}.  Rebuilding the style from scratch.`),this._updateStyle(w,c)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")}addSource(w,c){return this._lazyInitEmptyStyle(),this.style.addSource(w,c),this._update(!0)}isSourceLoaded(w){const c=this.style&&this.style.sourceCaches[w];if(c!==void 0)return c.loaded();this.fire(new a.ErrorEvent(new Error(`There is no source with ID '${w}'`)))}setTerrain(w){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),w){const c=this.style.sourceCaches[w.source];if(!c)throw new Error(`cannot load terrain, because there exists no source with ID: ${w.source}`);for(const p in this.style._layers){const v=this.style._layers[p];v.type==="hillshade"&&v.source===w.source&&a.warnOnce("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new c_(this.painter,c,w),this.painter.renderToTexture=new us(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=p=>{p.dataType==="style"?this.terrain.sourceCache.freeRtt():p.dataType==="source"&&p.tile&&(p.sourceId!==w.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(p.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new a.Event("terrain",{terrain:w})),this}getTerrain(){var w,c;return(c=(w=this.terrain)===null||w===void 0?void 0:w.options)!==null&&c!==void 0?c:null}areTilesLoaded(){const w=this.style&&this.style.sourceCaches;for(const c in w){const p=w[c]._tiles;for(const v in p){const _=p[v];if(_.state!=="loaded"&&_.state!=="errored")return!1}}return!0}addSourceType(w,c,p){return this._lazyInitEmptyStyle(),this.style.addSourceType(w,c,p)}removeSource(w){return this.style.removeSource(w),this._update(!0)}getSource(w){return this.style.getSource(w)}addImage(w,c,p={}){const{pixelRatio:v=1,sdf:_=!1,stretchX:E,stretchY:D,content:j}=p;if(this._lazyInitEmptyStyle(),!(c instanceof HTMLImageElement||a.isImageBitmap(c))){if(c.width===void 0||c.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:U,height:q,data:Y}=c,K=c;return this.style.addImage(w,{data:new a.RGBAImage({width:U,height:q},new Uint8Array(Y)),pixelRatio:v,stretchX:E,stretchY:D,content:j,sdf:_,version:0,userImage:K}),K.onAdd&&K.onAdd(this,w),this}}{const{width:U,height:q,data:Y}=a.browser.getImageData(c);this.style.addImage(w,{data:new a.RGBAImage({width:U,height:q},Y),pixelRatio:v,stretchX:E,stretchY:D,content:j,sdf:_,version:0})}}updateImage(w,c){const p=this.style.getImage(w);if(!p)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const v=c instanceof HTMLImageElement||a.isImageBitmap(c)?a.browser.getImageData(c):c,{width:_,height:E,data:D}=v;if(_===void 0||E===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(_!==p.data.width||E!==p.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const j=!(c instanceof HTMLImageElement||a.isImageBitmap(c));return p.data.replace(D,j),this.style.updateImage(w,p),this}getImage(w){return this.style.getImage(w)}hasImage(w){return w?!!this.style.getImage(w):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(w){this.style.removeImage(w)}loadImage(w,c){A.getImage(this._requestManager.transformRequest(w,I.Image),c)}listImages(){return this.style.listImages()}addLayer(w,c){return this._lazyInitEmptyStyle(),this.style.addLayer(w,c),this._update(!0)}moveLayer(w,c){return this.style.moveLayer(w,c),this._update(!0)}removeLayer(w){return this.style.removeLayer(w),this._update(!0)}getLayer(w){return this.style.getLayer(w)}setLayerZoomRange(w,c,p){return this.style.setLayerZoomRange(w,c,p),this._update(!0)}setFilter(w,c,p={}){return this.style.setFilter(w,c,p),this._update(!0)}getFilter(w){return this.style.getFilter(w)}setPaintProperty(w,c,p,v={}){return this.style.setPaintProperty(w,c,p,v),this._update(!0)}getPaintProperty(w,c){return this.style.getPaintProperty(w,c)}setLayoutProperty(w,c,p,v={}){return this.style.setLayoutProperty(w,c,p,v),this._update(!0)}getLayoutProperty(w,c){return this.style.getLayoutProperty(w,c)}setGlyphs(w,c={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(w,c),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(w,c,p={}){return this._lazyInitEmptyStyle(),this.style.addSprite(w,c,p,v=>{v||this._update(!0)}),this}removeSprite(w){return this._lazyInitEmptyStyle(),this.style.removeSprite(w),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(w,c={}){return this._lazyInitEmptyStyle(),this.style.setSprite(w,c,p=>{p||this._update(!0)}),this}setLight(w,c={}){return this._lazyInitEmptyStyle(),this.style.setLight(w,c),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(w,c){return this.style.setFeatureState(w,c),this._update()}removeFeatureState(w,c){return this.style.removeFeatureState(w,c),this._update()}getFeatureState(w){return this.style.getFeatureState(w)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let w=0,c=0;return this._container&&(w=this._container.clientWidth||400,c=this._container.clientHeight||300),[w,c]}_setupContainer(){const w=this._container;w.classList.add("maplibregl-map");const c=this._canvasContainer=h.create("div","maplibregl-canvas-container",w);this._interactive&&c.classList.add("maplibregl-interactive"),this._canvas=h.create("canvas","maplibregl-canvas",c),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const p=this._containerDimensions(),v=this._getClampedPixelRatio(p[0],p[1]);this._resizeCanvas(p[0],p[1],v);const _=this._controlContainer=h.create("div","maplibregl-control-container",w),E=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(D=>{E[D]=h.create("div",`maplibregl-ctrl-${D} `,_)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=h.create("div","maplibregl-cooperative-gesture-screen",this._container);let w=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(w=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use  + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${w}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){h.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(w,c,p){this._canvas.width=Math.floor(p*w),this._canvas.height=Math.floor(p*c),this._canvas.style.width=`${w}px`,this._canvas.style.height=`${c}px`}_setupPainter(){const w={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let c=null;this._canvas.addEventListener("webglcontextcreationerror",v=>{c={requestedAttributes:w},v&&(c.statusMessage=v.statusMessage,c.type=v.type)},{once:!0});const p=this._canvas.getContext("webgl2",w)||this._canvas.getContext("webgl",w);if(!p){const v="Failed to initialize WebGL";throw c?(c.message=v,new Error(JSON.stringify(c))):new Error(v)}this.painter=new Vr(p,this.transform),g.testSupport(p)}_onCooperativeGesture(w,c,p){return!c&&p<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(w){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||w,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(w){return this._update(),this._renderTaskQueue.add(w)}_cancelRenderFrame(w){this._renderTaskQueue.remove(w)}_render(w){const c=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(w),this._removed)return;let p=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const _=this.transform.zoom,E=a.browser.now();this.style.zoomHistory.update(_,E);const D=new a.EvaluationParameters(_,{now:E,fadeDuration:c,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),j=D.crossFadingFactor();j===1&&j===this._crossFadingFactor||(p=!0,this._crossFadingFactor=j),this.style.update(D)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,c,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:c,showPadding:this.showPadding}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.PerformanceUtils.mark(a.PerformanceMarkers.load),this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||p)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const v=this._sourcesDirty||this._styleDirty||this._placementDirty;return v||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),!this._loaded||this._fullyLoaded||v||(this._fullyLoaded=!0,a.PerformanceUtils.mark(a.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var w;this._hash&&this._hash.remove();for(const p of this._controls)p.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),A.removeThrottleControl(this._imageQueueHandle),(w=this._resizeObserver)===null||w===void 0||w.disconnect();const c=this.painter.context.gl.getExtension("WEBGL_lose_context");c&&c.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),h.remove(this._canvasContainer),h.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),a.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new a.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=a.browser.frame(w=>{a.PerformanceUtils.frame(w),this._frame=null,this._render(w)}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(w){this._showTileBoundaries!==w&&(this._showTileBoundaries=w,this._update())}get showPadding(){return!!this._showPadding}set showPadding(w){this._showPadding!==w&&(this._showPadding=w,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(w){this._showCollisionBoxes!==w&&(this._showCollisionBoxes=w,w?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(w){this._showOverdrawInspector!==w&&(this._showOverdrawInspector=w,this._update())}get repaint(){return!!this._repaint}set repaint(w){this._repaint!==w&&(this._repaint=w,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(w){this._vertices=w,this._update()}get version(){return sp}getCameraTargetElevation(){return this.transform.elevation}},Wn.NavigationControl=class{constructor(w){this._updateZoomButtons=()=>{const c=this._map.getZoom(),p=c===this._map.getMaxZoom(),v=c===this._map.getMinZoom();this._zoomInButton.disabled=p,this._zoomOutButton.disabled=v,this._zoomInButton.setAttribute("aria-disabled",p.toString()),this._zoomOutButton.setAttribute("aria-disabled",v.toString())},this._rotateCompassArrow=()=>{const c=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=c},this._setButtonTitle=(c,p)=>{const v=this._map._getUIString(`NavigationControl.${p}`);c.title=v,c.setAttribute("aria-label",v)},this.options=a.extend({},lp,w),this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",c=>c.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",c=>this._map.zoomIn({},{originalEvent:c})),h.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",c=>this._map.zoomOut({},{originalEvent:c})),h.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",c=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:c}):this._map.resetNorth({},{originalEvent:c})}),this._compassIcon=h.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(w){return this._map=w,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new jy(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){h.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(w,c){const p=h.create("button",w,this._container);return p.type="button",p.addEventListener("click",c),p}},Wn.GeolocateControl=class extends a.Evented{constructor(w){super(),this._onSuccess=c=>{if(this._map){if(this._isOutOfMapMaxBounds(c))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",c)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=c,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(c),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(c),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new a.Event("geolocate",c)),this._finish()}},this._updateCamera=c=>{const p=new a.LngLat(c.coords.longitude,c.coords.latitude),v=c.coords.accuracy,_=this._map.getBearing(),E=a.extend({bearing:_},this.options.fitBoundsOptions),D=Je.fromLngLat(p,v);this._map.fitBounds(D,E,{geolocateSource:!0})},this._updateMarker=c=>{if(c){const p=new a.LngLat(c.coords.longitude,c.coords.latitude);this._accuracyCircleMarker.setLngLat(p).addTo(this._map),this._userLocationDotMarker.setLngLat(p).addTo(this._map),this._accuracy=c.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=c=>{if(this._map){if(this.options.trackUserLocation)if(c.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(c.code===3&&Pr)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new a.Event("error",c)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=c=>{if(this._map){if(this._container.addEventListener("contextmenu",p=>p.preventDefault()),this._geolocateButton=h.create("button","maplibregl-ctrl-geolocate",this._container),h.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",c===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}else{const p=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=h.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new By({element:this._dotElement}),this._circleElement=h.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new By({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",p=>{p.geolocateSource||this._watchState!=="ACTIVE_LOCK"||p.originalEvent&&p.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new a.Event("trackuserlocationend")))})}},this.options=a.extend({},gf,w)}onAdd(w){return this._map=w,this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(c,p=!1){ds===void 0||p?window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(v=>{ds=v.state!=="denied",c(ds)}).catch(()=>{ds=!!window.navigator.geolocation,c(ds)}):(ds=!!window.navigator.geolocation,c(ds)):c(ds)}(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),h.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,xr=0,Pr=!1}_isOutOfMapMaxBounds(w){const c=this._map.getMaxBounds(),p=w.coords;return c&&(p.longitude<c.getWest()||p.longitude>c.getEast()||p.latitude<c.getSouth()||p.latitude>c.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const w=this._map.getBounds(),c=w.getSouthEast(),p=w.getNorthEast(),v=c.distanceTo(p),_=Math.ceil(this._accuracy/(v/this._map._container.clientHeight)*2);this._circleElement.style.width=`${_}px`,this._circleElement.style.height=`${_}px`}trigger(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":xr--,Pr=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let w;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),xr++,xr>1?(w={maximumAge:6e5,timeout:0},Pr=!0):(w=this.options.positionOptions,Pr=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,w)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},Wn.AttributionControl=Ny,Wn.LogoControl=Ko,Wn.ScaleControl=class{constructor(w){this._onMove=()=>{Lu(this._map,this._container,this.options)},this.setUnit=c=>{this.options.unit=c,Lu(this._map,this._container,this.options)},this.options=a.extend({},d_,w)}getDefaultPosition(){return"bottom-left"}onAdd(w){return this._map=w,this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-scale",w.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){h.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},Wn.FullscreenControl=class extends a.Evented{constructor(w={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,w&&w.container&&(w.container instanceof HTMLElement?this._container=w.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(w){return this._map=w,this._container||(this._container=this._map.getContainer()),this._controlContainer=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){h.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const w=this._fullscreenButton=h.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);h.create("span","maplibregl-ctrl-icon",w).setAttribute("aria-hidden","true"),w.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const w=this._getTitle();this._fullscreenButton.setAttribute("aria-label",w),this._fullscreenButton.title=w}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new a.Event("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new a.Event("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},Wn.TerrainControl=class{constructor(w){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=w}onAdd(w){return this._map=w,this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=h.create("button","maplibregl-ctrl-terrain",this._container),h.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){h.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},Wn.Popup=class extends a.Evented{constructor(w){super(),this.remove=()=>(this._content&&h.remove(this._content),this._container&&(h.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this),this._onMouseUp=c=>{this._update(c.point)},this._onMouseMove=c=>{this._update(c.point)},this._onDrag=c=>{this._update(c.point)},this._update=c=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=h.create("div","maplibregl-popup",this._map.getContainer()),this._tip=h.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const D of this.options.className.split(" "))this._container.classList.add(D);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=ao(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!c)return;const p=this._pos=this._trackPointer&&c?c:this._map.project(this._lngLat);let v=this.options.anchor;const _=up(this.options.offset);if(!v){const D=this._container.offsetWidth,j=this._container.offsetHeight;let U;U=p.y+_.bottom.y<j?["top"]:p.y>this._map.transform.height-j?["bottom"]:[],p.x<D/2?U.push("left"):p.x>this._map.transform.width-D/2&&U.push("right"),v=U.length===0?"bottom":U.join("-")}const E=p.add(_[v]).round();h.setTransform(this._container,`${cp[v]} translate(${E.x}px,${E.y}px)`),$a(this._container,v,"popup")},this._onClose=()=>{this.remove()},this.options=a.extend(Object.create(Fy),w)}addTo(w){return this._map&&this.remove(),this._map=w,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(w){return this._lngLat=a.LngLat.convert(w),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(w){return this.setDOMContent(document.createTextNode(w))}setHTML(w){const c=document.createDocumentFragment(),p=document.createElement("body");let v;for(p.innerHTML=w;v=p.firstChild,v;)c.appendChild(v);return this.setDOMContent(c)}getMaxWidth(){var w;return(w=this._container)===null||w===void 0?void 0:w.style.maxWidth}setMaxWidth(w){return this.options.maxWidth=w,this._update(),this}setDOMContent(w){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=h.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(w),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(w){this._container&&this._container.classList.add(w)}removeClassName(w){this._container&&this._container.classList.remove(w)}setOffset(w){return this.options.offset=w,this._update(),this}toggleClassName(w){if(this._container)return this._container.classList.toggle(w)}_createCloseButton(){this.options.closeButton&&(this._closeButton=h.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const w=this._container.querySelector(Uy);w&&w.focus()}},Wn.Marker=By,Wn.Style=Ri,Wn.LngLat=a.LngLat,Wn.LngLatBounds=Je,Wn.Point=a.Point,Wn.MercatorCoordinate=a.MercatorCoordinate,Wn.Evented=a.Evented,Wn.AJAXError=a.AJAXError,Wn.config=a.config,Wn.CanvasSource=Ve,Wn.GeoJSONSource=Ht,Wn.ImageSource=vt,Wn.RasterDEMTileSource=Gt,Wn.RasterTileSource=at,Wn.VectorTileSource=Ot,Wn.VideoSource=yt,Wn.setRTLTextPlugin=a.setRTLTextPlugin,Wn.getRTLTextPluginStatus=a.getRTLTextPluginStatus,Wn.prewarm=function(){Nn().acquire(Dt)},Wn.clearPrewarmedResources=function(){const w=br;w&&(w.isPreloaded()&&w.numActive()===1?(w.release(Dt),br=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},yf.extend(Wn,{isSafari:a.isSafari,getPerformanceMetrics:a.PerformanceUtils.getPerformanceMetrics}),Wn});var s=i;return s})})(z7);var Vbe=z7.exports;const EC=tr(Vbe);class Wbe{constructor(t,n,r){this.onBeforeSwitch=t,this.onSwitch=n,this.onAfterSwitch=r,this.onDocumentClick=this.onDocumentClick.bind(this),this.styles=[],this.currentStyle=null}getDefaultPosition(){return"top-right"}updateStyles(t,n){this.styles=t;let r=null;for(const o of this.styles)if(o.id===(this.currentStyle||n)){r=o.id;break}for(r||(r=this.styles[0].id);this.mapStyleContainer.firstChild;)this.mapStyleContainer.removeChild(this.mapStyleContainer.firstChild);let i;for(const o of this.styles){const s=document.createElement("button");s.type="button",s.innerText=o.title,s.dataset.id=o.id,s.dataset.style=JSON.stringify(o.style),s.addEventListener("click",a=>{const{target:f}=a;f.classList.contains("active")||this.onSelectStyle(f)}),o.id===r&&(i=s,s.classList.add("active")),this.mapStyleContainer.appendChild(s)}this.currentStyle!==r&&(this.onSelectStyle(i),this.currentStyle=r)}onSelectStyle(t){this.onBeforeSwitch();const n=this.styles.find(i=>i.id===t.dataset.id);this.map.setStyle(n.style,{diff:!1}),this.map.setTransformRequest(n.transformRequest),this.onSwitch(t.dataset.id),this.mapStyleContainer.style.display="none",this.styleButton.style.display="block";const r=this.mapStyleContainer.getElementsByClassName("active");for(;r[0];)r[0].classList.remove("active");t.classList.add("active"),this.currentStyle=t.dataset.id,this.onAfterSwitch()}onAdd(t){return this.map=t,this.controlContainer=document.createElement("div"),this.controlContainer.classList.add("maplibregl-ctrl"),this.controlContainer.classList.add("maplibregl-ctrl-group"),this.mapStyleContainer=document.createElement("div"),this.styleButton=document.createElement("button"),this.styleButton.type="button",this.mapStyleContainer.classList.add("maplibregl-style-list"),this.styleButton.classList.add("maplibregl-ctrl-icon"),this.styleButton.classList.add("maplibregl-style-switcher"),this.styleButton.addEventListener("click",()=>{this.styleButton.style.display="none",this.mapStyleContainer.style.display="block"}),document.addEventListener("click",this.onDocumentClick),this.controlContainer.appendChild(this.styleButton),this.controlContainer.appendChild(this.mapStyleContainer),this.controlContainer}onRemove(){!this.controlContainer||!this.controlContainer.parentNode||!this.map||!this.styleButton||(this.styleButton.removeEventListener("click",this.onDocumentClick),this.controlContainer.parentNode.removeChild(this.controlContainer),document.removeEventListener("click",this.onDocumentClick),this.map=void 0)}onDocumentClick(t){this.controlContainer&&!this.controlContainer.contains(t.target)&&this.mapStyleContainer&&this.styleButton&&(this.mapStyleContainer.style.display="none",this.styleButton.style.display="block")}}const qbe=(e,t)=>{window.localStorage.setItem(e,JSON.stringify(t))},Ao=({tiles:e,minZoom:t,maxZoom:n,attribution:r})=>{const i={type:"raster",tiles:e,attribution:r,tileSize:256,minzoom:t,maxzoom:n};let o=window.location.origin.slice(0,-5),s=8484;return Object.keys(i).forEach(a=>i[a]===void 0&&delete i[a]),{version:8,sources:{custom:i},glyphs:`${o}:${s}/map/fonts/{fontstack}/{range}.pbf`,layers:[{id:"custom",type:"raster",source:"custom"}]}},Gbe=()=>{const e="mykey",t="pk.0f147952a41c555a5b70614039fd148b",n="mykey",r="mykey",i="mykey",o="mykey";return[{id:"osm",title:"mapOsm",style:Ao({tiles:["https://tile.openstreetmap.org/{z}/{x}/{y}.png"],maxZoom:19,attribution:' <a target="_top" rel="noopener" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),available:!0},{id:"locationIqStreets",title:"mapLocationIqStreets",style:`https://tiles.locationiq.com/v3/streets/vector.json?key=${t}`,available:!0},{id:"locationIqDark",title:"mapLocationIqDark",style:`https://tiles.locationiq.com/v3/dark/vector.json?key=${t}`,available:!0},{id:"openTopoMap",title:"mapOpenTopoMap",style:Ao({tiles:["a","b","c"].map(s=>`https://${s}.tile.opentopomap.org/{z}/{x}/{y}.png`),maxZoom:17}),available:!0},{id:"carto",title:"mapCarto",style:Ao({tiles:["a","b","c","d"].map(s=>`https://${s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}@2x.png`),maxZoom:22,attribution:' <a target="_top" rel="noopener" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors,  <a target="_top" rel="noopener" href="https://carto.com/attribution">CARTO</a>'}),available:!0},{id:"googleRoad",title:"mapGoogleRoad",style:Ao({tiles:[0,1,2,3].map(s=>`https://mt${s}.google.com/vt/lyrs=m&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:" Google"}),available:!0},{id:"googleSatellite",title:"mapGoogleSatellite",style:Ao({tiles:[0,1,2,3].map(s=>`https://mt${s}.google.com/vt/lyrs=s&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:" Google"}),available:!0},{id:"googleHybrid",title:"mapGoogleHybrid",style:Ao({tiles:[0,1,2,3].map(s=>`https://mt${s}.google.com/vt/lyrs=y&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:" Google"}),available:!0},{id:"mapTilerBasic",title:"mapMapTilerBasic",style:`https://api.maptiler.com/maps/basic/style.json?key=${e}`,available:!!e,attribute:"mapTilerKey"},{id:"mapTilerHybrid",title:"mapMapTilerHybrid",style:`https://api.maptiler.com/maps/hybrid/style.json?key=${e}`,available:!!e,attribute:"mapTilerKey"},{id:"bingRoad",title:"mapBingRoad",style:Ao({tiles:[0,1,2,3].map(s=>`https://t${s}.ssl.ak.dynamic.tiles.virtualearth.net/comp/ch/{quadkey}?mkt=en-US&it=G,L&shading=hill&og=1885&n=z`),maxZoom:21}),available:!!n,attribute:"bingMapsKey"},{id:"bingAerial",title:"mapBingAerial",style:Ao({tiles:[0,1,2,3].map(s=>`https://ecn.t${s}.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=12327`),maxZoom:19}),available:!!n,attribute:"bingMapsKey"},{id:"bingHybrid",title:"mapBingHybrid",style:Ao({tiles:[0,1,2,3].map(s=>`https://t${s}.ssl.ak.dynamic.tiles.virtualearth.net/comp/ch/{quadkey}?mkt=en-US&it=A,G,L&og=1885&n=z`),maxZoom:19}),available:!!n,attribute:"bingMapsKey"},{id:"tomTomBasic",title:"mapTomTomBasic",style:`https://api.tomtom.com/map/1/style/20.0.0-8/basic_main.json?key=${r}`,available:!!r,attribute:"tomTomKey"},{id:"hereBasic",title:"mapHereBasic",style:`https://assets.vector.hereapi.com/styles/berlin/base/mapbox/tilezen?apikey=${i}`,available:!!i,attribute:"hereKey"},{id:"hereHybrid",title:"mapHereHybrid",style:Ao({tiles:[1,2,3,4].map(s=>`https://${s}.aerial.maps.ls.hereapi.com/maptile/2.1/maptile/newest/hybrid.day/{z}/{x}/{y}/256/png8?apiKey=${i}`),maxZoom:20}),available:!!i,attribute:"hereKey"},{id:"hereSatellite",title:"mapHereSatellite",style:Ao({tiles:[1,2,3,4].map(s=>`https://${s}.aerial.maps.ls.hereapi.com/maptile/2.1/maptile/newest/satellite.day/{z}/{x}/{y}/256/png8?apiKey=${i}`),maxZoom:19}),available:!!i,attribute:"hereKey"},{id:"autoNavi",title:"mapAutoNavi",style:Ao({tiles:[1,2,3,4].map(s=>`https://webrd0${s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}`),minZoom:3,maxZoom:18}),available:!0},{id:"ordnanceSurvey",title:"mapOrdnanceSurvey",style:"https://api.os.uk/maps/vector/v1/vts/resources/styles?key=EAZ8p83u72FTGiLjLC2MsTAl1ko6XQHC",transformRequest:s=>({url:`${s}&srs=3857`}),available:!0},{id:"mapboxStreets",title:"mapMapboxStreets",style:Ao({tiles:[`https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22}),available:!!o,attribute:"mapboxAccessToken"},{id:"mapboxOutdoors",title:"mapMapboxOutdoors",style:Ao({tiles:[`https://api.mapbox.com/styles/v1/mapbox/outdoors-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22}),available:!!o,attribute:"mapboxAccessToken"},{id:"mapboxSatelliteStreet",title:"mapMapboxSatellite",style:Ao({tiles:[`https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22}),available:!!o,attribute:"mapboxAccessToken"},{id:"custom",title:"mapCustom",style:Ao({tiles:["http://localhost:8080/tile/{z}/{x}/{y}.png"],maxZoom:19}),available:!0}]},tg=document.createElement("div");tg.style.width="100%";tg.style.height="100%";tg.style.boxSizing="initial";const Ge=new EC.Map({container:tg,attributionControl:!1,zoom:14});let wR=!1;const SR=new Set,Hbe=e=>{SR.add(e),e(wR)},Ybe=e=>{SR.delete(e)},B7=e=>{wR=e,SR.forEach(t=>t(e))},Kbe=async()=>{wR||(Ge.hasImage("background")||(Object.entries(Ic).forEach(([e,t])=>{Ge.addImage(e,t,{pixelRatio:window.devicePixelRatio})}),Ge.easeTo({center:[-6.0025,37.412],zoom:Math.max(Ge.getZoom(),5),offset:[0,-1/2]})),B7(!0))};Ge.addControl(new EC.NavigationControl);const F7=new Wbe(()=>B7(!1),e=>qbe("selectedMapStyle",e),()=>{Ge.once("styledata",()=>{const e=()=>{Ge.loaded()?Kbe():setTimeout(e,33)};e()})});Ge.addControl(F7);const CR=({children:e})=>{const t=V.useRef(null),[n,r]=V.useState(!1),i=Gbe(),o="osm,locationIqStreets,carto,custom",[s]="osm",a="my tocken",f=21;return V.useEffect(()=>{Ge.setMaxZoom(f)},[f]),V.useEffect(()=>{EC.accessToken=a},[a]),V.useEffect(()=>{const h=i.filter(y=>y.available&&o.includes(y.id)),g=h.length?h:i.filter(y=>y.id==="osm");F7.updateStyles(g,s)},[i,s]),V.useEffect(()=>{const h=g=>r(g);return Hbe(h),()=>{Ybe(h)}},[]),V.useLayoutEffect(()=>{const h=t.current;return h.appendChild(tg),Ge.resize(),()=>{h.removeChild(tg)}},[t]),z.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},ref:t,children:n&&e})},ER=Symbol.for("yaml.alias"),zA=Symbol.for("yaml.document"),Td=Symbol.for("yaml.map"),U7=Symbol.for("yaml.pair"),su=Symbol.for("yaml.scalar"),Rg=Symbol.for("yaml.seq"),Bs=Symbol.for("yaml.node.type"),Ah=e=>!!e&&typeof e=="object"&&e[Bs]===ER,Dg=e=>!!e&&typeof e=="object"&&e[Bs]===zA,Lg=e=>!!e&&typeof e=="object"&&e[Bs]===Td,Zr=e=>!!e&&typeof e=="object"&&e[Bs]===U7,Dr=e=>!!e&&typeof e=="object"&&e[Bs]===su,Ng=e=>!!e&&typeof e=="object"&&e[Bs]===Rg;function oi(e){if(e&&typeof e=="object")switch(e[Bs]){case Td:case Rg:return!0}return!1}function Ti(e){if(e&&typeof e=="object")switch(e[Bs]){case ER:case Td:case su:case Rg:return!0}return!1}const Zbe=e=>(Dr(e)||oi(e))&&!!e.anchor,_a=Symbol("break visit"),V7=Symbol("skip children"),rc=Symbol("remove node");function Nd(e,t){const n=W7(t);Dg(e)?sm(null,e.contents,n,Object.freeze([e]))===rc&&(e.contents=null):sm(null,e,n,Object.freeze([]))}Nd.BREAK=_a;Nd.SKIP=V7;Nd.REMOVE=rc;function sm(e,t,n,r){const i=q7(e,t,n,r);if(Ti(i)||Zr(i))return G7(e,r,i),sm(e,i,n,r);if(typeof i!="symbol"){if(oi(t)){r=Object.freeze(r.concat(t));for(let o=0;o<t.items.length;++o){const s=sm(o,t.items[o],n,r);if(typeof s=="number")o=s-1;else{if(s===_a)return _a;s===rc&&(t.items.splice(o,1),o-=1)}}}else if(Zr(t)){r=Object.freeze(r.concat(t));const o=sm("key",t.key,n,r);if(o===_a)return _a;o===rc&&(t.key=null);const s=sm("value",t.value,n,r);if(s===_a)return _a;s===rc&&(t.value=null)}}return i}async function TC(e,t){const n=W7(t);Dg(e)?await lm(null,e.contents,n,Object.freeze([e]))===rc&&(e.contents=null):await lm(null,e,n,Object.freeze([]))}TC.BREAK=_a;TC.SKIP=V7;TC.REMOVE=rc;async function lm(e,t,n,r){const i=await q7(e,t,n,r);if(Ti(i)||Zr(i))return G7(e,r,i),lm(e,i,n,r);if(typeof i!="symbol"){if(oi(t)){r=Object.freeze(r.concat(t));for(let o=0;o<t.items.length;++o){const s=await lm(o,t.items[o],n,r);if(typeof s=="number")o=s-1;else{if(s===_a)return _a;s===rc&&(t.items.splice(o,1),o-=1)}}}else if(Zr(t)){r=Object.freeze(r.concat(t));const o=await lm("key",t.key,n,r);if(o===_a)return _a;o===rc&&(t.key=null);const s=await lm("value",t.value,n,r);if(s===_a)return _a;s===rc&&(t.value=null)}}return i}function W7(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function q7(e,t,n,r){var i,o,s,a,f;if(typeof n=="function")return n(e,t,r);if(Lg(t))return(i=n.Map)==null?void 0:i.call(n,e,t,r);if(Ng(t))return(o=n.Seq)==null?void 0:o.call(n,e,t,r);if(Zr(t))return(s=n.Pair)==null?void 0:s.call(n,e,t,r);if(Dr(t))return(a=n.Scalar)==null?void 0:a.call(n,e,t,r);if(Ah(t))return(f=n.Alias)==null?void 0:f.call(n,e,t,r)}function G7(e,t,n){const r=t[t.length-1];if(oi(r))r.items[e]=n;else if(Zr(r))e==="key"?r.key=n:r.value=n;else if(Dg(r))r.contents=n;else{const i=Ah(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const Xbe={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Jbe=e=>e.replace(/[!,[\]{}]/g,t=>Xbe[t]);class sa{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},sa.defaultYaml,t),this.tags=Object.assign({},sa.defaultTags,n)}clone(){const t=new sa(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new sa(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:sa.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},sa.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:sa.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},sa.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[o,s]=r;return this.tags[o]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[o]=r;if(o==="1.1"||o==="1.2")return this.yaml.version=o,!0;{const s=/^\d+\.\d+$/.test(o);return n(6,`Unsupported YAML version ${o}`,s),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const s=t.slice(2,-1);return s==="!"||s==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),s)}const[,r,i]=t.match(/^(.*!)([^!]*)$/);i||n(`The ${t} tag has no suffix`);const o=this.tags[r];if(o)try{return o+decodeURIComponent(i)}catch(s){return n(String(s)),null}return r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+Jbe(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let i;if(t&&r.length>0&&Ti(t.contents)){const o={};Nd(t.contents,(s,a)=>{Ti(a)&&a.tag&&(o[a.tag]=!0)}),i=Object.keys(o)}else i=[];for(const[o,s]of r)o==="!!"&&s==="tag:yaml.org,2002:"||(!t||i.some(a=>a.startsWith(s)))&&n.push(`%TAG ${o} ${s}`);return n.join(`
`)}}sa.defaultYaml={explicit:!1,version:"1.2"};sa.defaultTags={"!!":"tag:yaml.org,2002:"};function H7(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function Y7(e){const t=new Set;return Nd(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function K7(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function Qbe(e,t){const n=[],r=new Map;let i=null;return{onAnchor:o=>{n.push(o),i||(i=Y7(e));const s=K7(t,i);return i.add(s),s},setAnchors:()=>{for(const o of n){const s=r.get(o);if(typeof s=="object"&&s.anchor&&(Dr(s.node)||oi(s.node)))s.node.anchor=s.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=o,a}}},sourceObjects:r}}function cm(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,o=r.length;i<o;++i){const s=r[i],a=cm(e,r,String(i),s);a===void 0?delete r[i]:a!==s&&(r[i]=a)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const o=r.get(i),s=cm(e,r,i,o);s===void 0?r.delete(i):s!==o&&r.set(i,s)}else if(r instanceof Set)for(const i of Array.from(r)){const o=cm(e,r,i,i);o===void 0?r.delete(i):o!==i&&(r.delete(i),r.add(o))}else for(const[i,o]of Object.entries(r)){const s=cm(e,r,i,o);s===void 0?delete r[i]:s!==o&&(r[i]=s)}return e.call(t,n,r)}function Ms(e,t,n){if(Array.isArray(e))return e.map((r,i)=>Ms(r,String(i),n));if(e&&typeof e.toJSON=="function"){if(!n||!Zbe(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=o=>{r.res=o,delete n.onCreate};const i=e.toJSON(t,n);return n.onCreate&&n.onCreate(i),i}return typeof e=="bigint"&&!(n!=null&&n.keep)?Number(e):e}class TR{constructor(t){Object.defineProperty(this,Bs,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:o}={}){if(!Dg(t))throw new TypeError("A document argument is required");const s={anchors:new Map,doc:t,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},a=Ms(this,"",s);if(typeof i=="function")for(const{count:f,res:h}of s.anchors.values())i(h,f);return typeof o=="function"?cm(o,{"":a},"",a):a}}class kC extends TR{constructor(t){super(ER),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let n;return Nd(t,{Node:(r,i)=>{if(i===this)return Nd.BREAK;i.anchor===this.source&&(n=i)}}),n}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:o}=n,s=this.resolve(i);if(!s){const f=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(f)}let a=r.get(s);if(a||(Ms(s,null,n),a=r.get(s)),!a||a.res===void 0){const f="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(f)}if(o>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=Z1(i,s,r)),a.count*a.aliasCount>o)){const f="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(f)}return a.res}toString(t,n,r){const i=`*${this.source}`;if(t){if(H7(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const o=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(o)}if(t.implicitKey)return`${i} `}return i}}function Z1(e,t,n){if(Ah(t)){const r=t.resolve(e),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(oi(t)){let r=0;for(const i of t.items){const o=Z1(e,i,n);o>r&&(r=o)}return r}else if(Zr(t)){const r=Z1(e,t.key,n),i=Z1(e,t.value,n);return Math.max(r,i)}return 1}const Z7=e=>!e||typeof e!="function"&&typeof e!="object";class Cn extends TR{constructor(t){super(su),this.value=t}toJSON(t,n){return n!=null&&n.keep?this.value:Ms(this.value,t,n)}toString(){return String(this.value)}}Cn.BLOCK_FOLDED="BLOCK_FOLDED";Cn.BLOCK_LITERAL="BLOCK_LITERAL";Cn.PLAIN="PLAIN";Cn.QUOTE_DOUBLE="QUOTE_DOUBLE";Cn.QUOTE_SINGLE="QUOTE_SINGLE";const exe="tag:yaml.org,2002:";function txe(e,t,n){if(t){const r=n.filter(o=>o.tag===t),i=r.find(o=>!o.format)??r[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return n.find(r=>{var i;return((i=r.identify)==null?void 0:i.call(r,e))&&!r.format})}function cb(e,t,n){var y,x,P;if(Dg(e)&&(e=e.contents),Ti(e))return e;if(Zr(e)){const O=(x=(y=n.schema[Td]).createNode)==null?void 0:x.call(y,n.schema,null,n);return O.items.push(e),O}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:o,schema:s,sourceObjects:a}=n;let f;if(r&&e&&typeof e=="object"){if(f=a.get(e),f)return f.anchor||(f.anchor=i(e)),new kC(f.anchor);f={anchor:null,node:null},a.set(e,f)}t!=null&&t.startsWith("!!")&&(t=exe+t.slice(2));let h=txe(e,t,s.tags);if(!h){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const O=new Cn(e);return f&&(f.node=O),O}h=e instanceof Map?s[Td]:Symbol.iterator in Object(e)?s[Rg]:s[Td]}o&&(o(h),delete n.onTagObj);const g=h!=null&&h.createNode?h.createNode(n.schema,e,n):typeof((P=h==null?void 0:h.nodeClass)==null?void 0:P.from)=="function"?h.nodeClass.from(n.schema,e,n):new Cn(e);return t?g.tag=t:h.default||(g.tag=h.tag),f&&(f.node=g),g}function eS(e,t,n){let r=n;for(let i=t.length-1;i>=0;--i){const o=t[i];if(typeof o=="number"&&Number.isInteger(o)&&o>=0){const s=[];s[o]=r,r=s}else r=new Map([[o,r]])}return cb(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const r0=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class PC extends TR{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>Ti(r)||Zr(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(r0(t))this.add(n);else{const[r,...i]=t,o=this.get(r,!0);if(oi(o))o.addIn(i,n);else if(o===void 0&&this.schema)this.set(r,eS(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(oi(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...i]=t,o=this.get(r,!0);return i.length===0?!n&&Dr(o)?o.value:o:oi(o)?o.getIn(i,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!Zr(n))return!1;const r=n.value;return r==null||t&&Dr(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const i=this.get(n,!0);return oi(i)?i.hasIn(r):!1}setIn(t,n){const[r,...i]=t;if(i.length===0)this.set(r,n);else{const o=this.get(r,!0);if(oi(o))o.setIn(i,n);else if(o===void 0&&this.schema)this.set(r,eS(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}PC.maxFlowStringSingleLineLength=60;const nxe=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Vc(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const dd=(e,t,n)=>e.endsWith(`
`)?Vc(n,t):n.includes(`
`)?`
`+Vc(n,t):(e.endsWith(" ")?"":" ")+n,X7="flow",jA="block",X1="quoted";function OC(e,t,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:o=20,onFold:s,onOverflow:a}={}){if(!i||i<0)return e;const f=Math.max(1+o,1+i-t.length);if(e.length<=f)return e;const h=[],g={};let y=i-t.length;typeof r=="number"&&(r>i-Math.max(2,o)?h.push(0):y=i-r);let x,P,O=!1,S=-1,A=-1,I=-1;n===jA&&(S=uB(e,S),S!==-1&&(y=S+f));for(let k;k=e[S+=1];){if(n===X1&&k==="\\"){switch(A=S,e[S+1]){case"x":S+=3;break;case"u":S+=5;break;case"U":S+=9;break;default:S+=1}I=S}if(k===`
`)n===jA&&(S=uB(e,S)),y=S+f,x=void 0;else{if(k===" "&&P&&P!==" "&&P!==`
`&&P!=="	"){const $=e[S+1];$&&$!==" "&&$!==`
`&&$!=="	"&&(x=S)}if(S>=y)if(x)h.push(x),y=x+f,x=void 0;else if(n===X1){for(;P===" "||P==="	";)P=k,k=e[S+=1],O=!0;const $=S>I+1?S-2:A-1;if(g[$])return e;h.push($),g[$]=!0,y=$+f,x=void 0}else O=!0}P=k}if(O&&a&&a(),h.length===0)return e;s&&s();let M=e.slice(0,h[0]);for(let k=0;k<h.length;++k){const $=h[k],L=h[k+1]||e.length;$===0?M=`
${t}${e.slice(0,L)}`:(n===X1&&g[$]&&(M+=`${e[$]}\\`),M+=`
${t}${e.slice($+1,L)}`)}return M}function uB(e,t){let n=e[t+1];for(;n===" "||n==="	";){do n=e[t+=1];while(n&&n!==`
`);n=e[t+1]}return t}const AC=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),MC=e=>/^(%|---|\.\.\.)/m.test(e);function rxe(e,t,n){if(!t||t<0)return!1;const r=t-n,i=e.length;if(i<=r)return!1;for(let o=0,s=0;o<i;++o)if(e[o]===`
`){if(o-s>r)return!0;if(s=o+1,i-s<=r)return!1}return!0}function C0(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,i=t.options.doubleQuotedMinMultiLineLength,o=t.indent||(MC(e)?"  ":"");let s="",a=0;for(let f=0,h=n[f];h;h=n[++f])if(h===" "&&n[f+1]==="\\"&&n[f+2]==="n"&&(s+=n.slice(a,f)+"\\ ",f+=1,a=f,h="\\"),h==="\\")switch(n[f+1]){case"u":{s+=n.slice(a,f);const g=n.substr(f+2,4);switch(g){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:g.substr(0,2)==="00"?s+="\\x"+g.substr(2):s+=n.substr(f,6)}f+=5,a=f+1}break;case"n":if(r||n[f+2]==='"'||n.length<i)f+=1;else{for(s+=n.slice(a,f)+`

`;n[f+2]==="\\"&&n[f+3]==="n"&&n[f+4]!=='"';)s+=`
`,f+=2;s+=o,n[f+2]===" "&&(s+="\\"),f+=1,a=f+1}break;default:f+=1}return s=a?s+n.slice(a):n,r?s:OC(s,o,X1,AC(t,!1))}function BA(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return C0(e,t);const n=t.indent||(MC(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:OC(r,n,X7,AC(t,!1))}function um(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=C0;else{const i=e.includes('"'),o=e.includes("'");i&&!o?r=BA:o&&!i?r=C0:r=n?BA:C0}return r(e,t)}let FA;try{FA=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{FA=/\n+(?!\n|$)/g}function J1({comment:e,type:t,value:n},r,i,o){const{blockQuote:s,commentString:a,lineWidth:f}=r.options;if(!s||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return um(n,r);const h=r.indent||(r.forceBlockIndent||MC(n)?"  ":""),g=s==="literal"?!0:s==="folded"||t===Cn.BLOCK_FOLDED?!1:t===Cn.BLOCK_LITERAL?!0:!rxe(n,f,h.length);if(!n)return g?`|
`:`>
`;let y,x;for(x=n.length;x>0;--x){const N=n[x-1];if(N!==`
`&&N!=="	"&&N!==" ")break}let P=n.substring(x);const O=P.indexOf(`
`);O===-1?y="-":n===P||O!==P.length-1?(y="+",o&&o()):y="",P&&(n=n.slice(0,-P.length),P[P.length-1]===`
`&&(P=P.slice(0,-1)),P=P.replace(FA,`$&${h}`));let S=!1,A,I=-1;for(A=0;A<n.length;++A){const N=n[A];if(N===" ")S=!0;else if(N===`
`)I=A;else break}let M=n.substring(0,I<A?I+1:A);M&&(n=n.substring(M.length),M=M.replace(/\n+/g,`$&${h}`));let $=(g?"|":">")+(S?h?"2":"1":"")+y;if(e&&($+=" "+a(e.replace(/ ?[\r\n]+/g," ")),i&&i()),g)return n=n.replace(/\n+/g,`$&${h}`),`${$}
${h}${M}${n}${P}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${h}`);const L=OC(`${M}${n}${P}`,h,jA,AC(r,!0));return`${$}
${h}${L}`}function ixe(e,t,n,r){const{type:i,value:o}=e,{actualString:s,implicitKey:a,indent:f,indentStep:h,inFlow:g}=t;if(a&&o.includes(`
`)||g&&/[[\]{},]/.test(o))return um(o,t);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return a||g||!o.includes(`
`)?um(o,t):J1(e,t,n,r);if(!a&&!g&&i!==Cn.PLAIN&&o.includes(`
`))return J1(e,t,n,r);if(MC(o)){if(f==="")return t.forceBlockIndent=!0,J1(e,t,n,r);if(a&&f===h)return um(o,t)}const y=o.replace(/\n+/g,`$&
${f}`);if(s){const x=S=>{var A;return S.default&&S.tag!=="tag:yaml.org,2002:str"&&((A=S.test)==null?void 0:A.test(y))},{compat:P,tags:O}=t.doc.schema;if(O.some(x)||P!=null&&P.some(x))return um(o,t)}return a?y:OC(y,f,X7,AC(t,!1))}function gx(e,t,n,r){const{implicitKey:i,inFlow:o}=t,s=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==Cn.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(a=Cn.QUOTE_DOUBLE);const f=g=>{switch(g){case Cn.BLOCK_FOLDED:case Cn.BLOCK_LITERAL:return i||o?um(s.value,t):J1(s,t,n,r);case Cn.QUOTE_DOUBLE:return C0(s.value,t);case Cn.QUOTE_SINGLE:return BA(s.value,t);case Cn.PLAIN:return ixe(s,t,n,r);default:return null}};let h=f(a);if(h===null){const{defaultKeyType:g,defaultStringType:y}=t.options,x=i&&g||y;if(h=f(x),h===null)throw new Error(`Unsupported default string type ${x}`)}return h}function J7(e,t){const n=Object.assign({blockQuote:!0,commentString:nxe,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function oxe(e,t){var i;if(t.tag){const o=e.filter(s=>s.tag===t.tag);if(o.length>0)return o.find(s=>s.format===t.format)??o[0]}let n,r;if(Dr(t)){r=t.value;const o=e.filter(s=>{var a;return(a=s.identify)==null?void 0:a.call(s,r)});n=o.find(s=>s.format===t.format)??o.find(s=>!s.format)}else r=t,n=e.find(o=>o.nodeClass&&r instanceof o.nodeClass);if(!n){const o=((i=r==null?void 0:r.constructor)==null?void 0:i.name)??typeof r;throw new Error(`Tag not resolved for ${o} value`)}return n}function axe(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],o=(Dr(e)||oi(e))&&e.anchor;o&&H7(o)&&(n.add(o),i.push(`&${o}`));const s=e.tag?e.tag:t.default?null:t.tag;return s&&i.push(r.directives.tagString(s)),i.join(" ")}function ng(e,t,n,r){var f;if(Zr(e))return e.toString(t,n,r);if(Ah(e)){if(t.doc.directives)return e.toString(t);if((f=t.resolvedAliases)!=null&&f.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i;const o=Ti(e)?e:t.doc.createNode(e,{onTagObj:h=>i=h});i||(i=oxe(t.doc.schema.tags,o));const s=axe(o,i,t);s.length>0&&(t.indentAtStart=(t.indentAtStart??0)+s.length+1);const a=typeof i.stringify=="function"?i.stringify(o,t,n,r):Dr(o)?gx(o,t,n,r):o.toString(t,n,r);return s?Dr(o)||a[0]==="{"||a[0]==="["?`${s} ${a}`:`${s}
${t.indent}${a}`:a}function sxe({key:e,value:t},n,r,i){const{allNullValues:o,doc:s,indent:a,indentStep:f,options:{commentString:h,indentSeq:g,simpleKeys:y}}=n;let x=Ti(e)&&e.comment||null;if(y){if(x)throw new Error("With simple keys, key nodes cannot have comments");if(oi(e)){const F="With simple keys, collection cannot be used as a key value";throw new Error(F)}}let P=!y&&(!e||x&&t==null&&!n.inFlow||oi(e)||(Dr(e)?e.type===Cn.BLOCK_FOLDED||e.type===Cn.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!P&&(y||!o),indent:a+f});let O=!1,S=!1,A=ng(e,n,()=>O=!0,()=>S=!0);if(!P&&!n.inFlow&&A.length>1024){if(y)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");P=!0}if(n.inFlow){if(o||t==null)return O&&r&&r(),A===""?"?":P?`? ${A}`:A}else if(o&&!y||t==null&&P)return A=`? ${A}`,x&&!O?A+=dd(A,n.indent,h(x)):S&&i&&i(),A;O&&(x=null),P?(x&&(A+=dd(A,n.indent,h(x))),A=`? ${A}
${a}:`):(A=`${A}:`,x&&(A+=dd(A,n.indent,h(x))));let I,M,k;Ti(t)?(I=!!t.spaceBefore,M=t.commentBefore,k=t.comment):(I=!1,M=null,k=null,t&&typeof t=="object"&&(t=s.createNode(t))),n.implicitKey=!1,!P&&!x&&Dr(t)&&(n.indentAtStart=A.length+1),S=!1,!g&&f.length>=2&&!n.inFlow&&!P&&Ng(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let $=!1;const L=ng(t,n,()=>$=!0,()=>S=!0);let N=" ";if(x||I||M){if(N=I?`
`:"",M){const F=h(M);N+=`
${Vc(F,n.indent)}`}L===""&&!n.inFlow?N===`
`&&(N=`

`):N+=`
${n.indent}`}else if(!P&&oi(t)){const F=L[0],G=L.indexOf(`
`),J=G!==-1,ee=n.inFlow??t.flow??t.items.length===0;if(J||!ee){let ae=!1;if(J&&(F==="&"||F==="!")){let pe=L.indexOf(" ");F==="&"&&pe!==-1&&pe<G&&L[pe+1]==="!"&&(pe=L.indexOf(" ",pe+1)),(pe===-1||G<pe)&&(ae=!0)}ae||(N=`
${n.indent}`)}}else(L===""||L[0]===`
`)&&(N="");return A+=N+L,n.inFlow?$&&r&&r():k&&!$?A+=dd(A,n.indent,h(k)):S&&i&&i(),A}function Q7(e,t){(e==="debug"||e==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(t):console.warn(t))}const dB="<<";function eq(e,t,{key:n,value:r}){if(e!=null&&e.doc.schema.merge&&lxe(n))if(r=Ah(r)?r.resolve(e.doc):r,Ng(r))for(const i of r.items)uP(e,t,i);else if(Array.isArray(r))for(const i of r)uP(e,t,i);else uP(e,t,r);else{const i=Ms(n,"",e);if(t instanceof Map)t.set(i,Ms(r,i,e));else if(t instanceof Set)t.add(i);else{const o=cxe(n,i,e),s=Ms(r,o,e);o in t?Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0}):t[o]=s}}return t}const lxe=e=>e===dB||Dr(e)&&e.value===dB&&(!e.type||e.type===Cn.PLAIN);function uP(e,t,n){const r=e&&Ah(n)?n.resolve(e.doc):n;if(!Lg(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,e,Map);for(const[o,s]of i)t instanceof Map?t.has(o)||t.set(o,s):t instanceof Set?t.add(o):Object.prototype.hasOwnProperty.call(t,o)||Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0});return t}function cxe(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(Ti(e)&&(n!=null&&n.doc)){const r=J7(n.doc,{});r.anchors=new Set;for(const o of n.anchors.keys())r.anchors.add(o.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=e.toString(r);if(!n.mapKeyWarned){let o=JSON.stringify(i);o.length>40&&(o=o.substring(0,36)+'..."'),Q7(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(t)}function kR(e,t,n){const r=cb(e,void 0,n),i=cb(t,void 0,n);return new No(r,i)}class No{constructor(t,n=null){Object.defineProperty(this,Bs,{value:U7}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return Ti(n)&&(n=n.clone(t)),Ti(r)&&(r=r.clone(t)),new No(n,r)}toJSON(t,n){const r=n!=null&&n.mapAsMap?new Map:{};return eq(n,r,this)}toString(t,n,r){return t!=null&&t.doc?sxe(this,t,n,r):JSON.stringify(this)}}function tq(e,t,n){return(t.inFlow??e.flow?dxe:uxe)(e,t,n)}function uxe({comment:e,items:t},n,{blockItemPrefix:r,flowChars:i,itemIndent:o,onChompKeep:s,onComment:a}){const{indent:f,options:{commentString:h}}=n,g=Object.assign({},n,{indent:o,type:null});let y=!1;const x=[];for(let O=0;O<t.length;++O){const S=t[O];let A=null;if(Ti(S))!y&&S.spaceBefore&&x.push(""),tS(n,x,S.commentBefore,y),S.comment&&(A=S.comment);else if(Zr(S)){const M=Ti(S.key)?S.key:null;M&&(!y&&M.spaceBefore&&x.push(""),tS(n,x,M.commentBefore,y))}y=!1;let I=ng(S,g,()=>A=null,()=>y=!0);A&&(I+=dd(I,o,h(A))),y&&A&&(y=!1),x.push(r+I)}let P;if(x.length===0)P=i.start+i.end;else{P=x[0];for(let O=1;O<x.length;++O){const S=x[O];P+=S?`
${f}${S}`:`
`}}return e?(P+=`
`+Vc(h(e),f),a&&a()):y&&s&&s(),P}function dxe({comment:e,items:t},n,{flowChars:r,itemIndent:i,onComment:o}){const{indent:s,indentStep:a,flowCollectionPadding:f,options:{commentString:h}}=n;i+=a;const g=Object.assign({},n,{indent:i,inFlow:!0,type:null});let y=!1,x=0;const P=[];for(let I=0;I<t.length;++I){const M=t[I];let k=null;if(Ti(M))M.spaceBefore&&P.push(""),tS(n,P,M.commentBefore,!1),M.comment&&(k=M.comment);else if(Zr(M)){const L=Ti(M.key)?M.key:null;L&&(L.spaceBefore&&P.push(""),tS(n,P,L.commentBefore,!1),L.comment&&(y=!0));const N=Ti(M.value)?M.value:null;N?(N.comment&&(k=N.comment),N.commentBefore&&(y=!0)):M.value==null&&(L!=null&&L.comment)&&(k=L.comment)}k&&(y=!0);let $=ng(M,g,()=>k=null);I<t.length-1&&($+=","),k&&($+=dd($,i,h(k))),!y&&(P.length>x||$.includes(`
`))&&(y=!0),P.push($),x=P.length}let O;const{start:S,end:A}=r;if(P.length===0)O=S+A;else if(y||(y=P.reduce((M,k)=>M+k.length+2,2)>PC.maxFlowStringSingleLineLength),y){O=S;for(const I of P)O+=I?`
${a}${s}${I}`:`
`;O+=`
${s}${A}`}else O=`${S}${f}${P.join(" ")}${f}${A}`;return e&&(O+=dd(O,s,h(e)),o&&o()),O}function tS({indent:e,options:{commentString:t}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){const o=Vc(t(r),e);n.push(o.trimStart())}}function Wf(e,t){const n=Dr(t)?t.value:t;for(const r of e)if(Zr(r)&&(r.key===t||r.key===n||Dr(r.key)&&r.key.value===n))return r}class qa extends PC{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(Td,t),this.items=[]}static from(t,n,r){const{keepUndefined:i,replacer:o}=r,s=new this(t),a=(f,h)=>{if(typeof o=="function")h=o.call(n,f,h);else if(Array.isArray(o)&&!o.includes(f))return;(h!==void 0||i)&&s.items.push(kR(f,h,r))};if(n instanceof Map)for(const[f,h]of n)a(f,h);else if(n&&typeof n=="object")for(const f of Object.keys(n))a(f,n[f]);return typeof t.sortMapEntries=="function"&&s.items.sort(t.sortMapEntries),s}add(t,n){var s;let r;Zr(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new No(t,t==null?void 0:t.value):r=new No(t.key,t.value);const i=Wf(this.items,r.key),o=(s=this.schema)==null?void 0:s.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);Dr(i.value)&&Z7(r.value)?i.value.value=r.value:i.value=r.value}else if(o){const a=this.items.findIndex(f=>o(r,f)<0);a===-1?this.items.push(r):this.items.splice(a,0,r)}else this.items.push(r)}delete(t){const n=Wf(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){const r=Wf(this.items,t),i=r==null?void 0:r.value;return(!n&&Dr(i)?i.value:i)??void 0}has(t){return!!Wf(this.items,t)}set(t,n){this.add(new No(t,n),!0)}toJSON(t,n,r){const i=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(i);for(const o of this.items)eq(n,i,o);return i}toString(t,n,r){if(!t)return JSON.stringify(this);for(const i of this.items)if(!Zr(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),tq(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}const zg={collection:"map",default:!0,nodeClass:qa,tag:"tag:yaml.org,2002:map",resolve(e,t){return Lg(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,n)=>qa.from(e,t,n)};class zd extends PC{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(Rg,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=m1(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=m1(t);if(typeof r!="number")return;const i=this.items[r];return!n&&Dr(i)?i.value:i}has(t){const n=m1(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=m1(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const i=this.items[r];Dr(i)&&Z7(n)?i.value=n:this.items[r]=n}toJSON(t,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let i=0;for(const o of this.items)r.push(Ms(o,String(i++),n));return r}toString(t,n,r){return t?tq(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(t,n,r){const{replacer:i}=r,o=new this(t);if(n&&Symbol.iterator in Object(n)){let s=0;for(let a of n){if(typeof i=="function"){const f=n instanceof Set?a:String(s++);a=i.call(n,f,a)}o.items.push(cb(a,void 0,r))}}return o}}function m1(e){let t=Dr(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const jg={collection:"seq",default:!0,nodeClass:zd,tag:"tag:yaml.org,2002:seq",resolve(e,t){return Ng(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,n)=>zd.from(e,t,n)},IC={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),gx(e,t,n,r)}},$C={identify:e=>e==null,createNode:()=>new Cn(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Cn(null),stringify:({source:e},t)=>typeof e=="string"&&$C.test.test(e)?e:t.options.nullStr},PR={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new Cn(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&PR.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function El({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let o=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(o)){let s=o.indexOf(".");s<0&&(s=o.length,o+=".");let a=t-(o.length-s-1);for(;a-- >0;)o+="0"}return o}const nq={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:El},rq={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():El(e)}},iq={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new Cn(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:El},RC=e=>typeof e=="bigint"||Number.isInteger(e),OR=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function oq(e,t,n){const{value:r}=e;return RC(r)&&r>=0?n+r.toString(t):El(e)}const aq={identify:e=>RC(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>OR(e,2,8,n),stringify:e=>oq(e,8,"0o")},sq={identify:RC,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>OR(e,0,10,n),stringify:El},lq={identify:e=>RC(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>OR(e,2,16,n),stringify:e=>oq(e,16,"0x")},fxe=[zg,jg,IC,$C,PR,aq,sq,lq,nq,rq,iq];function fB(e){return typeof e=="bigint"||Number.isInteger(e)}const g1=({value:e})=>JSON.stringify(e),hxe=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:g1},{identify:e=>e==null,createNode:()=>new Cn(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:g1},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:g1},{identify:fB,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>fB(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:g1}],pxe={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},mxe=[zg,jg].concat(hxe,pxe),AR={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Buffer=="function")return Buffer.from(e,"base64");if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,i,o){const s=n;let a;if(typeof Buffer=="function")a=s instanceof Buffer?s.toString("base64"):Buffer.from(s.buffer).toString("base64");else if(typeof btoa=="function"){let f="";for(let h=0;h<s.length;++h)f+=String.fromCharCode(s[h]);a=btoa(f)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=Cn.BLOCK_LITERAL),t!==Cn.QUOTE_DOUBLE){const f=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),h=Math.ceil(a.length/f),g=new Array(h);for(let y=0,x=0;y<h;++y,x+=f)g[y]=a.substr(x,f);a=g.join(t===Cn.BLOCK_LITERAL?`
`:" ")}return gx({comment:e,type:t,value:a},r,i,o)}};function cq(e,t){if(Ng(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!Zr(r)){if(Lg(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const i=r.items[0]||new No(new Cn(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){const o=i.value??i.key;o.comment=o.comment?`${r.comment}
${o.comment}`:r.comment}r=i}e.items[n]=Zr(r)?r:new No(r)}}else t("Expected a sequence for this tag");return e}function uq(e,t,n){const{replacer:r}=n,i=new zd(e);i.tag="tag:yaml.org,2002:pairs";let o=0;if(t&&Symbol.iterator in Object(t))for(let s of t){typeof r=="function"&&(s=r.call(t,String(o++),s));let a,f;if(Array.isArray(s))if(s.length===2)a=s[0],f=s[1];else throw new TypeError(`Expected [key, value] tuple: ${s}`);else if(s&&s instanceof Object){const h=Object.keys(s);if(h.length===1)a=h[0],f=s[a];else throw new TypeError(`Expected tuple with one key, not ${h.length} keys`)}else a=s;i.items.push(kR(a,f,n))}return i}const MR={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:cq,createNode:uq};class Pm extends zd{constructor(){super(),this.add=qa.prototype.add.bind(this),this.delete=qa.prototype.delete.bind(this),this.get=qa.prototype.get.bind(this),this.has=qa.prototype.has.bind(this),this.set=qa.prototype.set.bind(this),this.tag=Pm.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const i of this.items){let o,s;if(Zr(i)?(o=Ms(i.key,"",n),s=Ms(i.value,o,n)):o=Ms(i,"",n),r.has(o))throw new Error("Ordered maps must not include duplicate keys");r.set(o,s)}return r}static from(t,n,r){const i=uq(t,n,r),o=new this;return o.items=i.items,o}}Pm.tag="tag:yaml.org,2002:omap";const IR={collection:"seq",identify:e=>e instanceof Map,nodeClass:Pm,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=cq(e,t),r=[];for(const{key:i}of n.items)Dr(i)&&(r.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new Pm,n)},createNode:(e,t,n)=>Pm.from(e,t,n)};function dq({value:e,source:t},n){return t&&(e?fq:hq).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const fq={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Cn(!0),stringify:dq},hq={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new Cn(!1),stringify:dq},gxe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:El},yxe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():El(e)}},vxe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new Cn(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:El},yx=e=>typeof e=="bigint"||Number.isInteger(e);function DC(e,t,n,{intAsBigInt:r}){const i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const s=BigInt(e);return i==="-"?BigInt(-1)*s:s}const o=parseInt(e,n);return i==="-"?-1*o:o}function $R(e,t,n){const{value:r}=e;if(yx(r)){const i=r.toString(t);return r<0?"-"+n+i.substr(1):n+i}return El(e)}const bxe={identify:yx,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>DC(e,2,2,n),stringify:e=>$R(e,2,"0b")},xxe={identify:yx,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>DC(e,1,8,n),stringify:e=>$R(e,8,"0")},_xe={identify:yx,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>DC(e,0,10,n),stringify:El},wxe={identify:yx,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>DC(e,2,16,n),stringify:e=>$R(e,16,"0x")};class Om extends qa{constructor(t){super(t),this.tag=Om.tag}add(t){let n;Zr(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new No(t.key,null):n=new No(t,null),Wf(this.items,n.key)||this.items.push(n)}get(t,n){const r=Wf(this.items,t);return!n&&Zr(r)?Dr(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=Wf(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new No(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(t,n,r){const{replacer:i}=r,o=new this(t);if(n&&Symbol.iterator in Object(n))for(let s of n)typeof i=="function"&&(s=i.call(n,s,s)),o.items.push(kR(s,null,r));return o}}Om.tag="tag:yaml.org,2002:set";const RR={collection:"map",identify:e=>e instanceof Set,nodeClass:Om,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>Om.from(e,t,n),resolve(e,t){if(Lg(e)){if(e.hasAllNullValues(!0))return Object.assign(new Om,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function DR(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,i=s=>t?BigInt(s):Number(s),o=r.replace(/_/g,"").split(":").reduce((s,a)=>s*i(60)+i(a),i(0));return n==="-"?i(-1)*o:o}function pq(e){let{value:t}=e,n=s=>s;if(typeof t=="bigint")n=s=>BigInt(s);else if(isNaN(t)||!isFinite(t))return El(e);let r="";t<0&&(r="-",t*=n(-1));const i=n(60),o=[t%i];return t<60?o.unshift(0):(t=(t-o[0])/i,o.unshift(t%i),t>=60&&(t=(t-o[0])/i,o.unshift(t))),r+o.map(s=>String(s).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const mq={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>DR(e,n),stringify:pq},gq={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>DR(e,!1),stringify:pq},LC={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(LC.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,i,o,s,a]=t.map(Number),f=t[7]?Number((t[7]+"00").substr(1,3)):0;let h=Date.UTC(n,r-1,i,o||0,s||0,a||0,f);const g=t[8];if(g&&g!=="Z"){let y=DR(g,!1);Math.abs(y)<30&&(y*=60),h-=6e4*y}return new Date(h)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},hB=[zg,jg,IC,$C,fq,hq,bxe,xxe,_xe,wxe,gxe,yxe,vxe,AR,IR,MR,RR,mq,gq,LC],pB=new Map([["core",fxe],["failsafe",[zg,jg,IC]],["json",mxe],["yaml11",hB],["yaml-1.1",hB]]),mB={binary:AR,bool:PR,float:iq,floatExp:rq,floatNaN:nq,floatTime:gq,int:sq,intHex:lq,intOct:aq,intTime:mq,map:zg,null:$C,omap:IR,pairs:MR,seq:jg,set:RR,timestamp:LC},Sxe={"tag:yaml.org,2002:binary":AR,"tag:yaml.org,2002:omap":IR,"tag:yaml.org,2002:pairs":MR,"tag:yaml.org,2002:set":RR,"tag:yaml.org,2002:timestamp":LC};function dP(e,t){let n=pB.get(t);if(!n)if(Array.isArray(e))n=[];else{const r=Array.from(pB.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${r} or define customTags array`)}if(Array.isArray(e))for(const r of e)n=n.concat(r);else typeof e=="function"&&(n=e(n.slice()));return n.map(r=>{if(typeof r!="string")return r;const i=mB[r];if(i)return i;const o=Object.keys(mB).map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown custom tag "${r}"; use one of ${o}`)})}const Cxe=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class NC{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:i,schema:o,sortMapEntries:s,toStringDefaults:a}){this.compat=Array.isArray(t)?dP(t,"compat"):t?dP(null,t):null,this.merge=!!r,this.name=typeof o=="string"&&o||"core",this.knownTags=i?Sxe:{},this.tags=dP(n,this.name),this.toStringOptions=a??null,Object.defineProperty(this,Td,{value:zg}),Object.defineProperty(this,su,{value:IC}),Object.defineProperty(this,Rg,{value:jg}),this.sortMapEntries=typeof s=="function"?s:s===!0?Cxe:null}clone(){const t=Object.create(NC.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function Exe(e,t){var f;const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const h=e.directives.toString(e);h?(n.push(h),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const i=J7(e,t),{commentString:o}=i.options;if(e.commentBefore){n.length!==1&&n.unshift("");const h=o(e.commentBefore);n.unshift(Vc(h,""))}let s=!1,a=null;if(e.contents){if(Ti(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const y=o(e.contents.commentBefore);n.push(Vc(y,""))}i.forceBlockIndent=!!e.comment,a=e.contents.comment}const h=a?void 0:()=>s=!0;let g=ng(e.contents,i,()=>a=null,h);a&&(g+=dd(g,"",o(a))),(g[0]==="|"||g[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${g}`:n.push(g)}else n.push(ng(e.contents,i));if((f=e.directives)!=null&&f.docEnd)if(e.comment){const h=o(e.comment);h.includes(`
`)?(n.push("..."),n.push(Vc(h,""))):n.push(`... ${h}`)}else n.push("...");else{let h=e.comment;h&&s&&(h=h.replace(/^\n+/,"")),h&&((!s||a)&&n[n.length-1]!==""&&n.push(""),n.push(Vc(o(h),"")))}return n.join(`
`)+`
`}class Bg{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Bs,{value:zA});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);const o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},r);this.options=o;let{version:s}=o;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new sa({version:s}),this.setSchema(s,r),this.contents=t===void 0?null:this.createNode(t,i,r)}clone(){const t=Object.create(Bg.prototype,{[Bs]:{value:zA}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=Ti(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){Rp(this.contents)&&this.contents.add(t)}addIn(t,n){Rp(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=Y7(this);t.anchor=!n||r.has(n)?K7(n||"a",r):n}return new kC(t.anchor)}createNode(t,n,r){let i;if(typeof n=="function")t=n.call({"":t},"",t),i=n;else if(Array.isArray(n)){const A=M=>typeof M=="number"||M instanceof String||M instanceof Number,I=n.filter(A).map(String);I.length>0&&(n=n.concat(I)),i=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:o,anchorPrefix:s,flow:a,keepUndefined:f,onTagObj:h,tag:g}=r??{},{onAnchor:y,setAnchors:x,sourceObjects:P}=Qbe(this,s||"a"),O={aliasDuplicateObjects:o??!0,keepUndefined:f??!1,onAnchor:y,onTagObj:h,replacer:i,schema:this.schema,sourceObjects:P},S=cb(t,g,O);return a&&oi(S)&&(S.flow=!0),x(),S}createPair(t,n,r={}){const i=this.createNode(t,null,r),o=this.createNode(n,null,r);return new No(i,o)}delete(t){return Rp(this.contents)?this.contents.delete(t):!1}deleteIn(t){return r0(t)?this.contents==null?!1:(this.contents=null,!0):Rp(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return oi(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return r0(t)?!n&&Dr(this.contents)?this.contents.value:this.contents:oi(this.contents)?this.contents.getIn(t,n):void 0}has(t){return oi(this.contents)?this.contents.has(t):!1}hasIn(t){return r0(t)?this.contents!==void 0:oi(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=eS(this.schema,[t],n):Rp(this.contents)&&this.contents.set(t,n)}setIn(t,n){r0(t)?this.contents=n:this.contents==null?this.contents=eS(this.schema,Array.from(t),n):Rp(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new sa({version:"1.1"}),r={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new sa({version:t}),r={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new NC(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:o,reviver:s}={}){const a={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},f=Ms(this.contents,n??"",a);if(typeof o=="function")for(const{count:h,res:g}of a.anchors.values())o(g,h);return typeof s=="function"?cm(s,{"":f},"",f):f}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return Exe(this,t)}}function Rp(e){if(oi(e))return!0;throw new Error("Expected a YAML collection as document contents")}class LR extends Error{constructor(t,n,r,i){super(),this.name=t,this.code=r,this.message=i,this.pos=n}}class qf extends LR{constructor(t,n,r){super("YAMLParseError",t,n,r)}}class yq extends LR{constructor(t,n,r){super("YAMLWarning",t,n,r)}}const nS=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>t.linePos(a));const{line:r,col:i}=n.linePos[0];n.message+=` at line ${r}, column ${i}`;let o=i-1,s=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(o>=60&&s.length>80){const a=Math.min(o-39,s.length-79);s=""+s.substring(a),o-=a-1}if(s.length>80&&(s=s.substring(0,79)+""),r>1&&/^ *$/.test(s.substring(0,o))){let a=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);a.length>80&&(a=a.substring(0,79)+`
`),s=a+s}if(/[^ ]/.test(s)){let a=1;const f=n.linePos[1];f&&f.line===r&&f.col>i&&(a=Math.max(1,Math.min(f.col-i,80-o)));const h=" ".repeat(o)+"^".repeat(a);n.message+=`:

${s}
${h}
`}};function rg(e,{flow:t,indicator:n,next:r,offset:i,onError:o,startOnNewline:s}){let a=!1,f=s,h=s,g="",y="",x=!1,P=!1,O=!1,S=null,A=null,I=null,M=null,k=null;for(const N of e)switch(O&&(N.type!=="space"&&N.type!=="newline"&&N.type!=="comma"&&o(N.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),O=!1),N.type){case"space":!t&&f&&n!=="doc-start"&&N.source[0]==="	"&&o(N,"TAB_AS_INDENT","Tabs are not allowed as indentation"),h=!0;break;case"comment":{h||o(N,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const F=N.source.substring(1)||" ";g?g+=y+F:g=F,y="",f=!1;break}case"newline":f?g?g+=N.source:a=!0:y+=N.source,f=!0,x=!0,(S||A)&&(P=!0),h=!0;break;case"anchor":S&&o(N,"MULTIPLE_ANCHORS","A node can have at most one anchor"),N.source.endsWith(":")&&o(N.offset+N.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),S=N,k===null&&(k=N.offset),f=!1,h=!1,O=!0;break;case"tag":{A&&o(N,"MULTIPLE_TAGS","A node can have at most one tag"),A=N,k===null&&(k=N.offset),f=!1,h=!1,O=!0;break}case n:(S||A)&&o(N,"BAD_PROP_ORDER",`Anchors and tags must be after the ${N.source} indicator`),M&&o(N,"UNEXPECTED_TOKEN",`Unexpected ${N.source} in ${t??"collection"}`),M=N,f=!1,h=!1;break;case"comma":if(t){I&&o(N,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),I=N,f=!1,h=!1;break}default:o(N,"UNEXPECTED_TOKEN",`Unexpected ${N.type} token`),f=!1,h=!1}const $=e[e.length-1],L=$?$.offset+$.source.length:i;return O&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&o(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:I,found:M,spaceBefore:a,comment:g,hasNewline:x,hasNewlineAfterProp:P,anchor:S,tag:A,end:L,start:k??L}}function ub(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const n of t.start)if(n.type==="newline")return!0;if(t.sep){for(const n of t.sep)if(n.type==="newline")return!0}if(ub(t.key)||ub(t.value))return!0}return!1;default:return!0}}function UA(e,t,n){if((t==null?void 0:t.type)==="flow-collection"){const r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&ub(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function vq(e,t,n){const{uniqueKeys:r}=e.options;if(r===!1)return!1;const i=typeof r=="function"?r:(o,s)=>o===s||Dr(o)&&Dr(s)&&o.value===s.value&&!(o.value==="<<"&&e.schema.merge);return t.some(o=>i(o.key,n))}const gB="All mapping items must start at the same column";function Txe({composeNode:e,composeEmptyNode:t},n,r,i,o){var g;const s=(o==null?void 0:o.nodeClass)??qa,a=new s(n.schema);n.atRoot&&(n.atRoot=!1);let f=r.offset,h=null;for(const y of r.items){const{start:x,key:P,sep:O,value:S}=y,A=rg(x,{indicator:"explicit-key-ind",next:P??(O==null?void 0:O[0]),offset:f,onError:i,startOnNewline:!0}),I=!A.found;if(I){if(P&&(P.type==="block-seq"?i(f,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in P&&P.indent!==r.indent&&i(f,"BAD_INDENT",gB)),!A.anchor&&!A.tag&&!O){h=A.end,A.comment&&(a.comment?a.comment+=`
`+A.comment:a.comment=A.comment);continue}(A.hasNewlineAfterProp||ub(P))&&i(P??x[x.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((g=A.found)==null?void 0:g.indent)!==r.indent&&i(f,"BAD_INDENT",gB);const M=A.end,k=P?e(n,P,A,i):t(n,M,x,null,A,i);n.schema.compat&&UA(r.indent,P,i),vq(n,a.items,k)&&i(M,"DUPLICATE_KEY","Map keys must be unique");const $=rg(O??[],{indicator:"map-value-ind",next:S,offset:k.range[2],onError:i,startOnNewline:!P||P.type==="block-scalar"});if(f=$.end,$.found){I&&((S==null?void 0:S.type)==="block-map"&&!$.hasNewline&&i(f,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&A.start<$.found.offset-1024&&i(k.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const L=S?e(n,S,$,i):t(n,f,O,null,$,i);n.schema.compat&&UA(r.indent,S,i),f=L.range[2];const N=new No(k,L);n.options.keepSourceTokens&&(N.srcToken=y),a.items.push(N)}else{I&&i(k.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),$.comment&&(k.comment?k.comment+=`
`+$.comment:k.comment=$.comment);const L=new No(k);n.options.keepSourceTokens&&(L.srcToken=y),a.items.push(L)}}return h&&h<f&&i(h,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,f,h??f],a}function kxe({composeNode:e,composeEmptyNode:t},n,r,i,o){const s=(o==null?void 0:o.nodeClass)??zd,a=new s(n.schema);n.atRoot&&(n.atRoot=!1);let f=r.offset,h=null;for(const{start:g,value:y}of r.items){const x=rg(g,{indicator:"seq-item-ind",next:y,offset:f,onError:i,startOnNewline:!0});if(!x.found)if(x.anchor||x.tag||y)y&&y.type==="block-seq"?i(x.end,"BAD_INDENT","All sequence items must start at the same column"):i(f,"MISSING_CHAR","Sequence item without - indicator");else{h=x.end,x.comment&&(a.comment=x.comment);continue}const P=y?e(n,y,x,i):t(n,x.end,g,null,x,i);n.schema.compat&&UA(r.indent,y,i),f=P.range[2],a.items.push(P)}return a.range=[r.offset,f,h??f],a}function vx(e,t,n,r){let i="";if(e){let o=!1,s="";for(const a of e){const{source:f,type:h}=a;switch(h){case"space":o=!0;break;case"comment":{n&&!o&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const g=f.substring(1)||" ";i?i+=s+g:i=g,s="";break}case"newline":i&&(s+=f),o=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${h} at node end`)}t+=f.length}}return{comment:i,offset:t}}const fP="Block collections are not allowed within flow collections",hP=e=>e&&(e.type==="block-map"||e.type==="block-seq");function Pxe({composeNode:e,composeEmptyNode:t},n,r,i,o){const s=r.start.source==="{",a=s?"flow map":"flow sequence",f=(o==null?void 0:o.nodeClass)??(s?qa:zd),h=new f(n.schema);h.flow=!0;const g=n.atRoot;g&&(n.atRoot=!1);let y=r.offset+r.start.source.length;for(let A=0;A<r.items.length;++A){const I=r.items[A],{start:M,key:k,sep:$,value:L}=I,N=rg(M,{flow:a,indicator:"explicit-key-ind",next:k??($==null?void 0:$[0]),offset:y,onError:i,startOnNewline:!1});if(!N.found){if(!N.anchor&&!N.tag&&!$&&!L){A===0&&N.comma?i(N.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):A<r.items.length-1&&i(N.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),N.comment&&(h.comment?h.comment+=`
`+N.comment:h.comment=N.comment),y=N.end;continue}!s&&n.options.strict&&ub(k)&&i(k,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(A===0)N.comma&&i(N.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(N.comma||i(N.start,"MISSING_CHAR",`Missing , between ${a} items`),N.comment){let F="";e:for(const G of M)switch(G.type){case"comma":case"space":break;case"comment":F=G.source.substring(1);break e;default:break e}if(F){let G=h.items[h.items.length-1];Zr(G)&&(G=G.value??G.key),G.comment?G.comment+=`
`+F:G.comment=F,N.comment=N.comment.substring(F.length+1)}}if(!s&&!$&&!N.found){const F=L?e(n,L,N,i):t(n,N.end,$,null,N,i);h.items.push(F),y=F.range[2],hP(L)&&i(F.range,"BLOCK_IN_FLOW",fP)}else{const F=N.end,G=k?e(n,k,N,i):t(n,F,M,null,N,i);hP(k)&&i(G.range,"BLOCK_IN_FLOW",fP);const J=rg($??[],{flow:a,indicator:"map-value-ind",next:L,offset:G.range[2],onError:i,startOnNewline:!1});if(J.found){if(!s&&!N.found&&n.options.strict){if($)for(const pe of $){if(pe===J.found)break;if(pe.type==="newline"){i(pe,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}N.start<J.found.offset-1024&&i(J.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else L&&("source"in L&&L.source&&L.source[0]===":"?i(L,"MISSING_CHAR",`Missing space after : in ${a}`):i(J.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const ee=L?e(n,L,J,i):J.found?t(n,J.end,$,null,J,i):null;ee?hP(L)&&i(ee.range,"BLOCK_IN_FLOW",fP):J.comment&&(G.comment?G.comment+=`
`+J.comment:G.comment=J.comment);const ae=new No(G,ee);if(n.options.keepSourceTokens&&(ae.srcToken=I),s){const pe=h;vq(n,pe.items,G)&&i(F,"DUPLICATE_KEY","Map keys must be unique"),pe.items.push(ae)}else{const pe=new qa(n.schema);pe.flow=!0,pe.items.push(ae),h.items.push(pe)}y=ee?ee.range[2]:J.end}}const x=s?"}":"]",[P,...O]=r.end;let S=y;if(P&&P.source===x)S=P.offset+P.source.length;else{const A=a[0].toUpperCase()+a.substring(1),I=g?`${A} must end with a ${x}`:`${A} in block collection must be sufficiently indented and end with a ${x}`;i(y,g?"MISSING_CHAR":"BAD_INDENT",I),P&&P.source.length!==1&&O.unshift(P)}if(O.length>0){const A=vx(O,S,n.options.strict,i);A.comment&&(h.comment?h.comment+=`
`+A.comment:h.comment=A.comment),h.range=[r.offset,S,A.offset]}else h.range=[r.offset,S,S];return h}function pP(e,t,n,r,i,o){const s=n.type==="block-map"?Txe(e,t,n,r,o):n.type==="block-seq"?kxe(e,t,n,r,o):Pxe(e,t,n,r,o),a=s.constructor;return i==="!"||i===a.tagName?(s.tag=a.tagName,s):(i&&(s.tag=i),s)}function Oxe(e,t,n,r,i){var y;const o=r?t.directives.tagName(r.source,x=>i(r,"TAG_RESOLVE_FAILED",x)):null,s=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!r||!o||o==="!"||o===qa.tagName&&s==="map"||o===zd.tagName&&s==="seq"||!s)return pP(e,t,n,i,o);let a=t.schema.tags.find(x=>x.tag===o&&x.collection===s);if(!a){const x=t.schema.knownTags[o];if(x&&x.collection===s)t.schema.tags.push(Object.assign({},x,{default:!1})),a=x;else return x!=null&&x.collection?i(r,"BAD_COLLECTION_TYPE",`${x.tag} used for ${s} collection, but expects ${x.collection}`,!0):i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),pP(e,t,n,i,o)}const f=pP(e,t,n,i,o,a),h=((y=a.resolve)==null?void 0:y.call(a,f,x=>i(r,"TAG_RESOLVE_FAILED",x),t.options))??f,g=Ti(h)?h:new Cn(h);return g.range=f.range,g.tag=o,a!=null&&a.format&&(g.format=a.format),g}function bq(e,t,n){const r=e.offset,i=Axe(e,t,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};const o=i.mode===">"?Cn.BLOCK_FOLDED:Cn.BLOCK_LITERAL,s=e.source?Mxe(e.source):[];let a=s.length;for(let S=s.length-1;S>=0;--S){const A=s[S][1];if(A===""||A==="\r")a=S;else break}if(a===0){const S=i.chomp==="+"&&s.length>0?`
`.repeat(Math.max(1,s.length-1)):"";let A=r+i.length;return e.source&&(A+=e.source.length),{value:S,type:o,comment:i.comment,range:[r,A,A]}}let f=e.indent+i.indent,h=e.offset+i.length,g=0;for(let S=0;S<a;++S){const[A,I]=s[S];if(I===""||I==="\r")i.indent===0&&A.length>f&&(f=A.length);else{if(A.length<f){const M="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(h+A.length,"MISSING_CHAR",M)}i.indent===0&&(f=A.length),g=S;break}h+=A.length+I.length+1}for(let S=s.length-1;S>=a;--S)s[S][0].length>f&&(a=S+1);let y="",x="",P=!1;for(let S=0;S<g;++S)y+=s[S][0].slice(f)+`
`;for(let S=g;S<a;++S){let[A,I]=s[S];h+=A.length+I.length+1;const M=I[I.length-1]==="\r";if(M&&(I=I.slice(0,-1)),I&&A.length<f){const $=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(h-I.length-(M?2:1),"BAD_INDENT",$),A=""}o===Cn.BLOCK_LITERAL?(y+=x+A.slice(f)+I,x=`
`):A.length>f||I[0]==="	"?(x===" "?x=`
`:!P&&x===`
`&&(x=`

`),y+=x+A.slice(f)+I,x=`
`,P=!0):I===""?x===`
`?y+=`
`:x=`
`:(y+=x+I,x=" ",P=!1)}switch(i.chomp){case"-":break;case"+":for(let S=a;S<s.length;++S)y+=`
`+s[S][0].slice(f);y[y.length-1]!==`
`&&(y+=`
`);break;default:y+=`
`}const O=r+i.length+e.source.length;return{value:y,type:o,comment:i.comment,range:[r,O,O]}}function Axe({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=t[0],o=i[0];let s=0,a="",f=-1;for(let x=1;x<i.length;++x){const P=i[x];if(!a&&(P==="-"||P==="+"))a=P;else{const O=Number(P);!s&&O?s=O:f===-1&&(f=e+x)}}f!==-1&&r(f,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let h=!1,g="",y=i.length;for(let x=1;x<t.length;++x){const P=t[x];switch(P.type){case"space":h=!0;case"newline":y+=P.source.length;break;case"comment":n&&!h&&r(P,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),y+=P.source.length,g=P.source.substring(1);break;case"error":r(P,"UNEXPECTED_TOKEN",P.message),y+=P.source.length;break;default:{const O=`Unexpected token in block scalar header: ${P.type}`;r(P,"UNEXPECTED_TOKEN",O);const S=P.source;S&&typeof S=="string"&&(y+=S.length)}}}return{mode:o,indent:s,chomp:a,comment:g,length:y}}function Mxe(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),o=[r!=null&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let s=1;s<t.length;s+=2)o.push([t[s],t[s+1]]);return o}function xq(e,t,n){const{offset:r,type:i,source:o,end:s}=e;let a,f;const h=(x,P,O)=>n(r+x,P,O);switch(i){case"scalar":a=Cn.PLAIN,f=Ixe(o,h);break;case"single-quoted-scalar":a=Cn.QUOTE_SINGLE,f=$xe(o,h);break;case"double-quoted-scalar":a=Cn.QUOTE_DOUBLE,f=Rxe(o,h);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+o.length,r+o.length]}}const g=r+o.length,y=vx(s,g,t,n);return{value:f,type:a,comment:y.comment,range:[r,g,y.offset]}}function Ixe(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),_q(e)}function $xe(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),_q(e.slice(1,-1)).replace(/''/g,"'")}function _q(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let i=r[1],o=" ",s=t.lastIndex;for(n.lastIndex=s;r=n.exec(e);)r[1]===""?o===`
`?i+=o:o=`
`:(i+=o+r[1],o=" "),s=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=s,r=a.exec(e),i+o+((r==null?void 0:r[1])??"")}function Rxe(e,t){let n="";for(let r=1;r<e.length-1;++r){const i=e[r];if(!(i==="\r"&&e[r+1]===`
`))if(i===`
`){const{fold:o,offset:s}=Dxe(e,r);n+=o,r=s}else if(i==="\\"){let o=e[++r];const s=Lxe[o];if(s)n+=s;else if(o===`
`)for(o=e[r+1];o===" "||o==="	";)o=e[++r+1];else if(o==="\r"&&e[r+1]===`
`)for(o=e[++r+1];o===" "||o==="	";)o=e[++r+1];else if(o==="x"||o==="u"||o==="U"){const a={x:2,u:4,U:8}[o];n+=Nxe(e,r+1,a,t),r+=a}else{const a=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(i===" "||i==="	"){const o=r;let s=e[r+1];for(;s===" "||s==="	";)s=e[++r+1];s!==`
`&&!(s==="\r"&&e[r+2]===`
`)&&(n+=r>o?e.slice(o,r+1):i)}else n+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function Dxe(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}const Lxe={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function Nxe(e,t,n,r){const i=e.substr(t,n),s=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(s)){const a=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(s)}function wq(e,t,n,r){const{value:i,type:o,comment:s,range:a}=t.type==="block-scalar"?bq(t,e.options.strict,r):xq(t,e.options.strict,r),f=n?e.directives.tagName(n.source,y=>r(n,"TAG_RESOLVE_FAILED",y)):null,h=n&&f?zxe(e.schema,i,f,n,r):t.type==="scalar"?jxe(e,i,t,r):e.schema[su];let g;try{const y=h.resolve(i,x=>r(n??t,"TAG_RESOLVE_FAILED",x),e.options);g=Dr(y)?y:new Cn(y)}catch(y){const x=y instanceof Error?y.message:String(y);r(n??t,"TAG_RESOLVE_FAILED",x),g=new Cn(i)}return g.range=a,g.source=i,o&&(g.type=o),f&&(g.tag=f),h.format&&(g.format=h.format),s&&(g.comment=s),g}function zxe(e,t,n,r,i){var a;if(n==="!")return e[su];const o=[];for(const f of e.tags)if(!f.collection&&f.tag===n)if(f.default&&f.test)o.push(f);else return f;for(const f of o)if((a=f.test)!=null&&a.test(t))return f;const s=e.knownTags[n];return s&&!s.collection?(e.tags.push(Object.assign({},s,{default:!1,test:void 0})),s):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[su])}function jxe({directives:e,schema:t},n,r,i){const o=t.tags.find(s=>{var a;return s.default&&((a=s.test)==null?void 0:a.test(n))})||t[su];if(t.compat){const s=t.compat.find(a=>{var f;return a.default&&((f=a.test)==null?void 0:f.test(n))})??t[su];if(o.tag!==s.tag){const a=e.tagString(o.tag),f=e.tagString(s.tag),h=`Value may be parsed as either ${a} or ${f}`;i(r,"TAG_RESOLVE_FAILED",h,!0)}}return o}function Bxe(e,t,n){if(t){n===null&&(n=t.length);for(let r=n-1;r>=0;--r){let i=t[r];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++r];(i==null?void 0:i.type)==="space";)e+=i.source.length,i=t[++r];break}}return e}const Fxe={composeNode:Sq,composeEmptyNode:NR};function Sq(e,t,n,r){const{spaceBefore:i,comment:o,anchor:s,tag:a}=n;let f,h=!0;switch(t.type){case"alias":f=Uxe(e,t,r),(s||a)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":f=wq(e,t,a,r),s&&(f.anchor=s.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":f=Oxe(Fxe,e,t,a,r),s&&(f.anchor=s.source.substring(1));break;default:{const g=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",g),f=NR(e,t.offset,void 0,null,n,r),h=!1}}return s&&f.anchor===""&&r(s,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(f.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?f.comment=o:f.commentBefore=o),e.options.keepSourceTokens&&h&&(f.srcToken=t),f}function NR(e,t,n,r,{spaceBefore:i,comment:o,anchor:s,tag:a,end:f},h){const g={type:"scalar",offset:Bxe(t,n,r),indent:-1,source:""},y=wq(e,g,a,h);return s&&(y.anchor=s.source.substring(1),y.anchor===""&&h(s,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(y.spaceBefore=!0),o&&(y.comment=o,y.range[2]=f),y}function Uxe({options:e},{offset:t,source:n,end:r},i){const o=new kC(n.substring(1));o.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),o.source.endsWith(":")&&i(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const s=t+n.length,a=vx(r,s,e.strict,i);return o.range=[t,s,a.offset],a.comment&&(o.comment=a.comment),o}function Vxe(e,t,{offset:n,start:r,value:i,end:o},s){const a=Object.assign({_directives:t},e),f=new Bg(void 0,a),h={atRoot:!0,directives:f.directives,options:f.options,schema:f.schema},g=rg(r,{indicator:"doc-start",next:i??(o==null?void 0:o[0]),offset:n,onError:s,startOnNewline:!0});g.found&&(f.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!g.hasNewline&&s(g.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),f.contents=i?Sq(h,i,g,s):NR(h,g.end,r,null,g,s);const y=f.contents.range[2],x=vx(o,y,!1,s);return x.comment&&(f.comment=x.comment),f.range=[n,y,x.offset],f}function Mv(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function yB(e){var i;let t="",n=!1,r=!1;for(let o=0;o<e.length;++o){const s=e[o];switch(s[0]){case"#":t+=(t===""?"":r?`

`:`
`)+(s.substring(1)||" "),n=!0,r=!1;break;case"%":((i=e[o+1])==null?void 0:i[0])!=="#"&&(o+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class zR{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,i,o)=>{const s=Mv(n);o?this.warnings.push(new yq(s,r,i)):this.errors.push(new qf(s,r,i))},this.directives=new sa({version:t.version||"1.2"}),this.options=t}decorate(t,n){const{comment:r,afterEmptyLine:i}=yB(this.prelude);if(r){const o=t.contents;if(n)t.comment=t.comment?`${t.comment}
${r}`:r;else if(i||t.directives.docStart||!o)t.commentBefore=r;else if(oi(o)&&!o.flow&&o.items.length>0){let s=o.items[0];Zr(s)&&(s=s.key);const a=s.commentBefore;s.commentBefore=a?`${r}
${a}`:r}else{const s=o.commentBefore;o.commentBefore=s?`${r}
${s}`:r}}n?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:yB(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,n=!1,r=-1){for(const i of t)yield*this.next(i);yield*this.end(n,r)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(n,r,i)=>{const o=Mv(t);o[0]+=n,this.onError(o,"BAD_DIRECTIVE",r,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const n=Vxe(this.options,this.directives,t,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const n=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,r=new qf(Mv(t),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new qf(Mv(t),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=vx(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new qf(Mv(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const r=Object.assign({_directives:this.directives},this.options),i=new Bg(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}function Wxe(e,t=!0,n){if(e){const r=(i,o,s)=>{const a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(n)n(a,o,s);else throw new qf([a,a+1],o,s)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return xq(e,t,r);case"block-scalar":return bq(e,t,r)}}return null}function qxe(e,t){const{implicitKey:n=!1,indent:r,inFlow:i=!1,offset:o=-1,type:s="PLAIN"}=t,a=gx({type:s,value:e},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),f=t.end??[{type:"newline",offset:-1,indent:r,source:`
`}];switch(a[0]){case"|":case">":{const h=a.indexOf(`
`),g=a.substring(0,h),y=a.substring(h+1)+`
`,x=[{type:"block-scalar-header",offset:o,indent:r,source:g}];return Cq(x,f)||x.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:o,indent:r,props:x,source:y}}case'"':return{type:"double-quoted-scalar",offset:o,indent:r,source:a,end:f};case"'":return{type:"single-quoted-scalar",offset:o,indent:r,source:a,end:f};default:return{type:"scalar",offset:o,indent:r,source:a,end:f}}}function Gxe(e,t,n={}){let{afterKey:r=!1,implicitKey:i=!1,inFlow:o=!1,type:s}=n,a="indent"in e?e.indent:null;if(r&&typeof a=="number"&&(a+=2),!s)switch(e.type){case"single-quoted-scalar":s="QUOTE_SINGLE";break;case"double-quoted-scalar":s="QUOTE_DOUBLE";break;case"block-scalar":{const h=e.props[0];if(h.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s=h.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:s="PLAIN"}const f=gx({type:s,value:t},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}});switch(f[0]){case"|":case">":Hxe(e,f);break;case'"':mP(e,f,"double-quoted-scalar");break;case"'":mP(e,f,"single-quoted-scalar");break;default:mP(e,f,"scalar")}}function Hxe(e,t){const n=t.indexOf(`
`),r=t.substring(0,n),i=t.substring(n+1)+`
`;if(e.type==="block-scalar"){const o=e.props[0];if(o.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o.source=r,e.source=i}else{const{offset:o}=e,s="indent"in e?e.indent:-1,a=[{type:"block-scalar-header",offset:o,indent:s,source:r}];Cq(a,"end"in e?e.end:void 0)||a.push({type:"newline",offset:-1,indent:s,source:`
`});for(const f of Object.keys(e))f!=="type"&&f!=="offset"&&delete e[f];Object.assign(e,{type:"block-scalar",indent:s,props:a,source:i})}}function Cq(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function mP(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{const r=e.props.slice(1);let i=t.length;e.props[0].type==="block-scalar-header"&&(i-=e.props[0].source.length);for(const o of r)o.offset+=i;delete e.props,Object.assign(e,{type:n,source:t,end:r});break}case"block-map":case"block-seq":{const i={type:"newline",offset:e.offset+t.length,indent:e.indent,source:`
`};delete e.items,Object.assign(e,{type:n,source:t,end:[i]});break}default:{const r="indent"in e?e.indent:-1,i="end"in e&&Array.isArray(e.end)?e.end.filter(o=>o.type==="space"||o.type==="comment"||o.type==="newline"):[];for(const o of Object.keys(e))o!=="type"&&o!=="offset"&&delete e[o];Object.assign(e,{type:n,indent:r,source:t,end:i})}}}const Yxe=e=>"type"in e?rS(e):Q1(e);function rS(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=rS(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=Q1(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=Q1(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=Q1(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function Q1({start:e,key:t,sep:n,value:r}){let i="";for(const o of e)i+=o.source;if(t&&(i+=rS(t)),n)for(const o of n)i+=o.source;return r&&(i+=rS(r)),i}const VA=Symbol("break visit"),Kxe=Symbol("skip children"),Eq=Symbol("remove item");function Ch(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),Tq(Object.freeze([]),e,t)}Ch.BREAK=VA;Ch.SKIP=Kxe;Ch.REMOVE=Eq;Ch.itemAtPath=(e,t)=>{let n=e;for(const[r,i]of t){const o=n==null?void 0:n[r];if(o&&"items"in o)n=o.items[i];else return}return n};Ch.parentCollection=(e,t)=>{const n=Ch.itemAtPath(e,t.slice(0,-1)),r=t[t.length-1][0],i=n==null?void 0:n[r];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function Tq(e,t,n){let r=n(t,e);if(typeof r=="symbol")return r;for(const i of["key","value"]){const o=t[i];if(o&&"items"in o){for(let s=0;s<o.items.length;++s){const a=Tq(Object.freeze(e.concat([[i,s]])),o.items[s],n);if(typeof a=="number")s=a-1;else{if(a===VA)return VA;a===Eq&&(o.items.splice(s,1),s-=1)}}typeof r=="function"&&i==="key"&&(r=r(t,e))}}return typeof r=="function"?r(t,e):r}const zC="\uFEFF",jC="",BC="",db="",Zxe=e=>!!e&&"items"in e,Xxe=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function Jxe(e){switch(e){case zC:return"<BOM>";case jC:return"<DOC>";case BC:return"<FLOW_END>";case db:return"<SCALAR>";default:return JSON.stringify(e)}}function kq(e){switch(e){case zC:return"byte-order-mark";case jC:return"doc-mode";case BC:return"flow-error-end";case db:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const Qxe=Object.freeze(Object.defineProperty({__proto__:null,BOM:zC,DOCUMENT:jC,FLOW_END:BC,SCALAR:db,createScalarToken:qxe,isCollection:Zxe,isScalar:Xxe,prettyToken:Jxe,resolveAsScalar:Wxe,setScalarValue:Gxe,stringify:Yxe,tokenType:kq,visit:Ch},Symbol.toStringTag,{value:"Module"}));function ys(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const vB="0123456789ABCDEFabcdef".split(""),e_e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),gP=",[]{}".split(""),t_e=` ,[]{}
\r	`.split(""),yP=e=>!e||t_e.includes(e);class Pq{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,n=!1){t&&(this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null),this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let t=this.pos,n=this.buffer[t];for(;n===" "||n==="	";)n=this.buffer[++t];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let n=this.buffer[t];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+t];if(n==="\r"){const i=this.buffer[r+t+1];if(i===`
`||!i&&!this.atEnd)return t+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?t+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(t,3);if((r==="---"||r==="...")&&ys(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===zC&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let n=t.length;const r=t.indexOf("#");if(r!==-1){const o=t[r-1];(o===" "||o==="	")&&(n=r-1)}for(;;){const o=t[n-1];if(o===" "||o==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"}return yield jC,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if(n==="---"&&ys(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(n==="..."&&ys(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!ys(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&ys(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(t[n]){case"#":yield*this.pushCount(t.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(yP),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,n,r=-1;do t=yield*this.pushNewline(),t>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(t+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&i[0]!=="#"||r===0&&(i.startsWith("---")||i.startsWith("..."))&&ys(i[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield BC,yield*this.parseLineStart();let o=0;for(;i[o]===",";)o+=yield*this.pushCount(1),o+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(o+=yield*this.pushIndicators(),i[o]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(yP),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const s=this.charAt(1);if(this.flowKey||ys(s)||s===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let n=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let o=0;for(;this.buffer[n-1-o]==="\\";)o+=1;if(o%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let i=r.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const o=this.continueScalar(i+1);if(o===-1)break;i=r.indexOf(`
`,o)}i!==-1&&(n=i-(r[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const n=this.buffer[++t];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>ys(n)||n==="#")}*parseBlockScalar(){let t=this.pos-1,n=0,r;e:for(let i=this.pos;r=this.buffer[i];++i)switch(r){case" ":n+=1;break;case`
`:t=i,n=0;break;case"\r":{const o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{const i=this.continueScalar(t+1);if(i===-1)break;t=this.buffer.indexOf(`
`,i)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)do{let i=t-1,o=this.buffer[i];o==="\r"&&(o=this.buffer[--i]);const s=i;for(;o===" "||o==="	";)o=this.buffer[--i];if(o===`
`&&i>=this.pos&&i+1+n>s)t=i;else break}while(!0);return yield db,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){const o=this.buffer[r+1];if(ys(o)||t&&o===",")break;n=r}else if(ys(i)){let o=this.buffer[r+1];if(i==="\r"&&(o===`
`?(r+=1,i=`
`,o=this.buffer[r+1]):n=r),o==="#"||t&&gP.includes(o))break;if(i===`
`){const s=this.continueScalar(r+1);if(s===-1)break;r=Math.max(r,s-2)}}else{if(t&&gP.includes(i))break;n=r}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield db,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(yP))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if(ys(n)||t&&gP.includes(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!ys(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(e_e.includes(n))n=this.buffer[++t];else if(n==="%"&&vB.includes(this.buffer[t+1])&&vB.includes(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class Oq{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const o=n+r>>1;this.lineStarts[o]<t?n=o+1:r=o}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const i=this.lineStarts[n-1];return{line:n,col:t-i+1}}}}function ol(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function bB(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function Aq(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function y1(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Dp(e){var n;if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=e[++t])==null?void 0:n.type)==="space";);return e.splice(t,e.length)}function xB(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!ol(t.start,"explicit-key-ind")&&!ol(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,Aq(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class jR{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Pq,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=kq(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(n)if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&xB(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!ol(i.start,"explicit-key-ind");return}break}case"block-seq":{const i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&bB(i.start)===-1&&(n.indent===0||i.start.every(o=>o.type!=="comment"||o.indent<n.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),n.items.splice(-1,1))}}else{const r="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:r}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{bB(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=y1(this.peek(2)),r=Dp(n);let i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];const o={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const i="end"in n.value?n.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2],o=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const i=!this.onKeyLine&&this.indent===t.indent&&n.sep;let o=[];if(i&&n.sep&&!n.value){const s=[];for(let a=0;a<n.sep.length;++a){const f=n.sep[a];switch(f.type){case"newline":s.push(a);break;case"space":break;case"comment":f.indent>t.indent&&(s.length=0);break;default:s.length=0}}s.length>=2&&(o=n.sep.splice(s[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(o.push(this.sourceToken),t.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!ol(n.start,"explicit-key-ind")?n.start.push(this.sourceToken):i||n.value?(o.push(this.sourceToken),t.items.push({start:o})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(ol(n.start,"explicit-key-ind"))if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(ol(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(Aq(n.key)&&!ol(n.sep,"newline")){const s=Dp(n.start),a=n.key,f=n.sep;f.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:a,sep:f}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(ol(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const s=Dp(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?t.items.push({start:o,key:null,sep:[this.sourceToken]}):ol(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);i||n.value?(t.items.push({start:o,key:s,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(s):(Object.assign(n,{key:s,sep:[]}),this.onKeyLine=!0);return}default:{const s=this.startBlockValue(t);if(s){i&&s.type!=="block-seq"&&ol(n.start,"explicit-key-ind")&&t.items.push({start:o}),this.stack.push(s);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const i="end"in n.value?n.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2],o=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||ol(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const i=this.startBlockValue(t);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const i=y1(r),o=Dp(i);xB(t);const s=t.end.splice(1,t.end.length);s.push(this.sourceToken);const a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:o,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=y1(t),r=Dp(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r}]}}case"map-value-ind":{this.onKeyLine=!0;const n=y1(t),r=Dp(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function Mq(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new Oq||null,prettyErrors:t}}function n_e(e,t={}){const{lineCounter:n,prettyErrors:r}=Mq(t),i=new jR(n==null?void 0:n.addNewLine),o=new zR(t),s=Array.from(o.compose(i.parse(e)));if(r&&n)for(const a of s)a.errors.forEach(nS(e,n)),a.warnings.forEach(nS(e,n));return s.length>0?s:Object.assign([],{empty:!0},o.streamInfo())}function Iq(e,t={}){const{lineCounter:n,prettyErrors:r}=Mq(t),i=new jR(n==null?void 0:n.addNewLine),o=new zR(t);let s=null;for(const a of o.compose(i.parse(e),!0,e.length))if(!s)s=a;else if(s.options.logLevel!=="silent"){s.errors.push(new qf(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(s.errors.forEach(nS(e,n)),s.warnings.forEach(nS(e,n))),s}function r_e(e,t,n){let r;typeof t=="function"?r=t:n===void 0&&t&&typeof t=="object"&&(n=t);const i=Iq(e,n);if(!i)return null;if(i.warnings.forEach(o=>Q7(i.options.logLevel,o)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:r},n))}function i_e(e,t,n){let r=null;if(typeof t=="function"||Array.isArray(t)?r=t:n===void 0&&t&&(n=t),typeof n=="string"&&(n=n.length),typeof n=="number"){const i=Math.round(n);n=i<1?void 0:i>8?{indent:8}:{indent:i}}if(e===void 0){const{keepUndefined:i}=n??t??{};if(!i)return}return new Bg(e,r,n).toString(n)}const $q=Object.freeze(Object.defineProperty({__proto__:null,Alias:kC,CST:Qxe,Composer:zR,Document:Bg,Lexer:Pq,LineCounter:Oq,Pair:No,Parser:jR,Scalar:Cn,Schema:NC,YAMLError:LR,YAMLMap:qa,YAMLParseError:qf,YAMLSeq:zd,YAMLWarning:yq,isAlias:Ah,isCollection:oi,isDocument:Dg,isMap:Lg,isNode:Ti,isPair:Zr,isScalar:Dr,isSeq:Ng,parse:r_e,parseAllDocuments:n_e,parseDocument:Iq,stringify:i_e,visit:Nd,visitAsync:TC},Symbol.toStringTag,{value:"Module"})),jd=Pe.createContext();var _B="";const BR=({children:e,notification:t})=>{Ln(M=>M.devices.items);const n=Ln(M=>M.mission),r=Ln(M=>M.session.server),i=Cl(),[o,s]=V.useState(!1),[a,f]=V.useState(!1);V.useState(""),V.useEffect(()=>{s(r)},[r]);const h=async M=>{try{const k=await fetch("/api/rosConnect",{method:"POST",body:new URLSearchParams(`rosState=${encodeURIComponent(o)}`)});if(k.ok){let $=await k.json();$.state==="connect"&&(t("success",$.msg),s(!0)),$.state==="error"&&(s(!1),t("danger",$.msg)),$.state==="disconnect"&&(t("danger",$.msg),s(!1)),console.log($)}else throw Error(await k.text())}catch{s(!1)}},g=async M=>{console.log(M.name+"-"+M.category);try{const k=await fetch("/api/devices",{method:"POST",body:JSON.stringify(M),headers:{"Content-Type":"application/json"}});if(k.ok){let $=await k.json();$.state==="connect"&&t("success",$.msg),$.state==="error"&&t("danger",$.msg),console.log($)}else throw Error(await k.text())}catch{}},y=async()=>{try{const M=await fetch("/api/commands/send",{method:"POST",body:JSON.stringify({deviceId:-1,type:"loadMission",attributes:n.route}),headers:{"Content-Type":"application/json"}});if(M.ok){let k=await M.json();k.state==="connect"&&t("success",k.msg),k.state==="error"&&t("danger",k.msg),console.log(k)}else throw Error(await M.text())}catch{}},x=async()=>{console.log("command mission ");try{const M=await fetch("/api/commands/send",{method:"POST",body:JSON.stringify({deviceId:-1,type:"commandMission"}),headers:{"Content-Type":"application/json"}});if(M.ok){let k=await M.json();k.state==="connect"&&t("success",k.msg),k.state==="error"&&t("danger",k.msg),console.log(k)}else throw Error(await M.text())}catch{}},P=(M,k)=>{if(M.endsWith(".yaml"))_B=$q.parse(k),i(Fc.updateMission({name:M.slice(0,-5),mission:_B}));else if(M.endsWith(".waypoints")){let L=k.split(`
`).map(G=>G.split("	")),N={uav_n:1,uav_1:{}},F=0;L.forEach(G=>{G[3]=="16"&&(N.uav_1["wp_"+F]=[G[8],G[9],G[10]],F=F+1)}),N.uav_1.wp_n=F,i(Fc.updateMission({name:M.slice(0,-10),mission:N}))}else if(M.endsWith(".kml")){let N=new DOMParser().parseFromString(k,"text/xml").querySelector("coordinates").textContent.replace(/(\r\n|\n|\r|\t)/gm,"").split(" ").map(J=>J.split(",")),F={uav_n:1,uav_1:{}},G=0;N.forEach(J=>{J.length==3&&(F.uav_1["wp_"+G]=[J[1],J[0],J[2]],G=G+1)}),F.uav_1.wp_n=G,i(Fc.updateMission({name:M.slice(0,-4),mission:F}))}else if(M.endsWith(".plan")){let $=JSON.parse(k),L={uav_n:1,uav_1:{}},N=0;$.mission.items.forEach(F=>{L.uav_1["wp_"+N]=[F.params[4],F.params[5],F.Altitude],N=N+1}),L.uav_1.wp_n=N,i(Fc.updateMission({name:M.slice(0,-5),mission:L}))}else t("danger","Formato de mission no compatible")},O=()=>{h()};async function S(M){o?g(M):alert(`
Ros no est conectado.

 Por favor conctelo primero.`)}function A(){y()}function I(){x()}return z.jsx("div",{style:{width:"100%",height:"100%"},children:z.jsx(jd.Provider,{value:{rosConnect:O,rosState:o,openMision:P,connectAddUav:S,commandMission:I,loadMission:A,confirmMission:a,setconfirmMission:f},children:e})})},FR=({SetAddUAVOpen:e})=>{const[t,n]=V.useState(!1),r=Cl(),i=kg(),o=()=>{r(Fc.clearMission({}))},s=()=>{const x=document.getElementsByName("otrotest");for(let P=0;P<x.length;P++)x[P].setAttribute("class","mytest");setTimeout(()=>{console.log("1 Segundo esperado");for(let P=0;P<x.length;P++)x[P].setAttribute("class","dropdown-content")},500),n(P=>!P)},a=V.useContext(jd),f=x=>{const P=x.target.files[0];if(!P)return;const O=new FileReader;O.readAsText(P),O.onload=()=>{a.openMision(P.name,O.result)},O.onerror=()=>{console.log("error"),console.log(O.error)}},h=x=>{const P=x.target.files[0];if(!P)return;const O=new FileReader;O.readAsText(P),O.onload=()=>{console.log(O.result);let S=new DOMParser().parseFromString(O.result,"text/xml");console.log(S);let A=S.getElementsByTagName("Point");console.log(A);let I=Object.values(A).map(N=>N.textContent.replace("	1","").replace(/(\r\n|\n|\r|\t)/gm,"").split(","));console.log(I);let M=S.getElementsByTagName("coordinates");console.log(M);let k=Object.values(M).map(N=>N.textContent.replace("	1","").replace(/(\r\n|\n|\r|\t)/gm,"").split(" ")),$=k.map(N=>N.map(F=>F.split(",")));console.log(k),console.log($);let L=[];if(I.length)return console.log("add markers"),L=I.map((N,F,G)=>({latitude:Number(N[1]),longitude:Number(N[0]),image:"base"})),console.log(L),r(rm.addMarker(L)),null;$.length&&(console.log("add towers markers"),$.map((N,F,G)=>{console.log(N),N.map(J=>{console.log(J),J.length>1&&L.push({latitude:Number(J[1]),longitude:Number(J[0]),image:"powerTower"})})}),console.log(L),r(rm.addMarker(L)))},O.onerror=()=>{console.log("error"),console.log(O.error)}};function g(){Ge.easeTo({center:[-6.0025,37.412],zoom:Math.max(Ge.getZoom(),5),offset:[0,-1/2]})}function y(){e(!0)}return z.jsx(Q$,{position:"static",style:{backgroundColor:"#333",height:"52px"},children:z.jsx(Kw,{maxWidth:"x",children:z.jsxs(fx,{disableGutters:!0,children:[z.jsx(hr,{onClick:()=>{g(),i("/")},children:z.jsx(xn,{variant:"h6",noWrap:!0,component:"a",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"#FFFFFF",textDecoration:"none"},children:"Management Tool"})}),z.jsxs("div",{className:"dropdown",children:[z.jsx("button",{className:"dropbtn",children:"ROS "}),z.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[z.jsx("a",{id:"rosConnectNavbar",onClick:()=>{a.rosConnect(),s()},children:"Connect Ros"}),z.jsx("a",{id:"rosConnectNavbar",onClick:()=>{i("/topics"),s()},children:"Show Topics"}),z.jsx("a",{id:"rosConnectNavbar",onClick:()=>{a.rosConnect(),s()},children:"Show servies"})]})]}),z.jsxs("div",{className:"dropdown",children:[z.jsxs("button",{className:"dropbtn",children:["UAV",z.jsx("i",{className:"fa fa-caret-down"})]}),z.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[z.jsx("a",{id:"openAddUavNavbar",onClick:()=>{y(),s()},children:"Connect UAV"}),z.jsx("a",{id:"loadMissionNavbar",onClick:()=>{a.loadMission(),s()},children:"Load Mission UAV's"}),z.jsx("a",{id:"commandMissionNavbar",onClick:()=>{a.setconfirmMission(!0),s()},children:"Command Mission All"})]})]}),z.jsxs("div",{className:"dropdown",children:[z.jsxs("button",{className:"dropbtn",children:["Mission",z.jsx("i",{className:"fa fa-caret-down"})]}),z.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[z.jsx("label",{id:"menuopenmission",htmlFor:"openMissionNavbar",children:"Open Mision"}),z.jsx("input",{accept:".yaml, .plan, .waypoint, .kml",type:"file",multiple:!1,style:{display:"none"},id:"openMissionNavbar",onChange:f}),z.jsx("a",{id:"Clear mission",onClick:()=>{o(),s()},children:"Clear Mission"}),z.jsx("a",{id:"editmission",onClick:()=>{i("/mission"),s()},children:"Edit mission"})]})]}),z.jsxs("div",{className:"dropdown",children:[z.jsxs("button",{className:"dropbtn",children:["View",z.jsx("i",{className:"fa fa-caret-down"})]}),z.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[z.jsx("a",{id:"hideRosterNavbar",onClick:s,children:"Enviroment Features"}),z.jsx("label",{id:"menuopenelements",htmlFor:"openElementsNavbar",children:"add elements"}),z.jsx("input",{accept:".kml",type:"file",multiple:!1,style:{display:"none"},id:"openElementsNavbar",onChange:h}),z.jsx("a",{id:"cameraView",onClick:()=>{i("/camera"),s()},children:"Camera view"})]})]}),z.jsx("div",{className:"dropdown",children:z.jsxs("button",{className:"dropbtn",onClick:()=>{i("/events")},children:["Report",z.jsx("i",{className:"fa fa-caret-down"})]})})]})})})};var UR={},Rq={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Rq);var dr=Rq.exports,vP={};const o_e=FU(Wse);var wB;function fr(){return wB||(wB=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=o_e}(vP)),vP}var a_e=dr;Object.defineProperty(UR,"__esModule",{value:!0});var Dq=UR.default=void 0,s_e=a_e(fr()),l_e=z,c_e=(0,s_e.default)((0,l_e.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");Dq=UR.default=c_e;var VR={},u_e=dr;Object.defineProperty(VR,"__esModule",{value:!0});var Lq=VR.default=void 0,d_e=u_e(fr()),f_e=z,h_e=(0,d_e.default)((0,f_e.jsx)("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}),"Folder");Lq=VR.default=h_e;var WR={},p_e=dr;Object.defineProperty(WR,"__esModule",{value:!0});var Nq=WR.default=void 0,m_e=p_e(fr()),g_e=z,y_e=(0,m_e.default)((0,g_e.jsx)("path",{d:"M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"}),"Flight");Nq=WR.default=y_e;var qR={},v_e=dr;Object.defineProperty(qR,"__esModule",{value:!0});var zq=qR.default=void 0,b_e=v_e(fr()),x_e=z,__e=(0,b_e.default)((0,x_e.jsx)("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"FileUpload");zq=qR.default=__e;var GR={},w_e=dr;Object.defineProperty(GR,"__esModule",{value:!0});var jq=GR.default=void 0,S_e=w_e(fr()),C_e=z,E_e=(0,S_e.default)((0,C_e.jsx)("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h10v4h8v10z"}),"Tab");jq=GR.default=E_e;var HR={},T_e=dr;Object.defineProperty(HR,"__esModule",{value:!0});var Bq=HR.default=void 0,k_e=T_e(fr()),P_e=z,O_e=(0,k_e.default)((0,P_e.jsx)("path",{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"}),"Reply");Bq=HR.default=O_e;var YR={},A_e=dr;Object.defineProperty(YR,"__esModule",{value:!0});var Fq=YR.default=void 0,M_e=A_e(fr()),I_e=z,$_e=(0,M_e.default)((0,I_e.jsx)("path",{d:"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z"}),"CallMade");Fq=YR.default=$_e;var KR={},R_e=dr;Object.defineProperty(KR,"__esModule",{value:!0});var Uq=KR.default=void 0,D_e=R_e(fr()),L_e=z,N_e=(0,D_e.default)((0,L_e.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"ModeEdit");Uq=KR.default=N_e;var ZR={},z_e=dr;Object.defineProperty(ZR,"__esModule",{value:!0});var Vq=ZR.default=void 0,j_e=z_e(fr()),B_e=z,F_e=(0,j_e.default)((0,B_e.jsx)("path",{d:"m19 8-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}),"Cached");Vq=ZR.default=F_e;const U_e=Xr(e=>({toolbar:{height:"36px",background:"linear-gradient(#E7E5E7, #D3D1D3)",borderTop:"1px solid rgba(255, 255, 255, .6)"},mediaButton:{width:"auto",color:ec[700],backgroundColor:"#F9F9F9",boxShadow:"inset 0px -4px 4px 0 rgba(0, 0, 0, 0.1)",maxHeight:"22px",top:"2px",border:"1px solid #C2C0C2",margin:"5px 10px",fontSize:"12px","&:hover":{backgroundColor:ec[300]}},mediaicon:{color:ec[700],width:"15px"}})),XR=({SetAddUAVOpen:e})=>{const t=U_e(),n=V.useContext(jd),[r,i]=V.useState("no load mission"),o=Ln(O=>O.mission.name),s=Ln(O=>O.mission.home),[a,f]=V.useState(!0),h=O=>{const S=O.target.files[0];if(!S)return;const A=new FileReader;A.readAsText(S),A.onload=()=>{console.log(A.result),console.log(S.name),n.openMision(S.name,A.result)},A.onerror=()=>{console.log(A.error)}};function g(){Ge.easeTo({center:[-6.0025,37.412],zoom:Math.max(Ge.getZoom(),5),offset:[0,-1/2]})}function y(){Ge.easeTo({center:[s[1],s[0]],zoom:Math.max(Ge.getZoom(),15),offset:[0,-1/2]})}function x(){e(!0)}const P=()=>{f(!a)};return V.useEffect(()=>{i(o)},[o]),V.useEffect(()=>{y()},[s]),z.jsx("header",{className:t.toolbar,children:z.jsxs("div",{children:[z.jsxs(mfe,{style:{height:"26px",display:"inline",justifyContent:"flex-end"},children:[z.jsx(hr,{onClick:g,className:t.mediaButton,style:{margin:"0px 0px"},children:z.jsx(Dq,{fontSize:"small",className:t.mediaicon})}),z.jsxs(hr,{id:"openMission",className:t.mediaButton,style:{margin:"0px 0px"},children:[z.jsx("label",{htmlFor:"openMissionNavbar",style:{padding:0},children:z.jsx(Lq,{fontSize:"small",className:t.mediaicon,style:{position:"relative",top:"3px"}})}),z.jsx("input",{type:"file",multiple:!1,style:{display:"none"},id:"openMissionNavbar",onChange:h})]}),z.jsx(hr,{id:"openAddUav",onClick:x,className:t.mediaButton,style:{margin:"0px 0px"},children:z.jsx(Nq,{fontSize:"small",className:t.mediaicon,style:{transform:"rotate(90deg)"}})})]}),z.jsx(jd.Consumer,{children:({rosState:O})=>z.jsxs(hr,{id:"rosConnect",onClick:n.rosConnect,className:t.mediaButton,children:[O&&"conectado"," ",!O&&"desconectado"," "]})}),z.jsx(hr,{id:"loadMission",size:"small",onClick:x,className:t.mediaButton,children:z.jsx(zq,{fontSize:"small",className:t.mediaicon})}),z.jsx(hr,{id:"commandMission",onClick:x,className:t.mediaButton,children:"Fly!"}),z.jsxs(hr,{id:"openedmission",onClick:y,className:t.mediaButton,style:{margin:"0px 100px",width:"500px"},children:[" ",r]}),z.jsx(hr,{variant:"filledTonal",onClick:O=>P(),className:t.mediaButton,children:"Status"}),z.jsx(hr,{id:"openTerminal",style:{visibility:!0},className:t.mediaButton,children:z.jsx(jq,{fontSize:"small",className:t.mediaicon})}),z.jsx(hr,{id:"UndoMission",style:{visibility:!0},className:t.mediaButton,children:z.jsx(Bq,{fontSize:"small",className:t.mediaicon})}),z.jsx(hr,{id:"reset",className:t.mediaButton,children:z.jsx(Fq,{fontSize:"small",className:t.mediaicon})}),z.jsx(hr,{id:"showManualMode",className:t.mediaButton,children:z.jsx(Uq,{fontSize:"small",className:t.mediaicon})}),z.jsx(hr,{id:"commandManualMission",style:{visibility:!0},className:t.mediaButton,children:z.jsx(Vq,{fontSize:"small",className:t.mediaicon})})]})})};var JR={},V_e=dr;Object.defineProperty(JR,"__esModule",{value:!0});var lu=JR.default=void 0,W_e=V_e(fr()),q_e=z,G_e=(0,W_e.default)((0,q_e.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");lu=JR.default=G_e;const H_e=Xr(e=>({title:{fontWeight:700,fontSize:"16px",textAlign:"left",marginTop:0,marginBottom:"6px",width:"300px",height:"18px"},mediaButton:{color:"#fff",mixBlendMode:"difference",right:0,top:0},description:{margin:0,textAlign:"left",fontSize:"12px",paddingLeft:"1rem"},toast:{height:"60px",width:"365px",color:"#fff",marginBottom:"1rem"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(.5,1,0,2)},card:{pointerEvents:"auto",height:"60px",width:"365px",color:"#fff",marginBottom:"1rem"},root:{pointerEvents:"none",position:"fixed",zIndex:5,bottom:"1rem",right:"1rem"}})),Y_e=({toastlist:e,position:t,setList:n})=>{const r=H_e(),i=V.useCallback(o=>{const s=e.filter(a=>a.id!==o);n(s)},[e,n]);return V.useEffect(()=>{const o=setInterval(()=>{e.length&&i(e[0].id)},3e3);return()=>{clearInterval(o)}},[e,i]),z.jsx("div",{className:r.root,children:e.map((o,s)=>z.jsxs(yu,{elevation:3,className:r.card,style:{backgroundColor:o.backgroundColor},children:[z.jsxs("div",{className:r.header,children:[z.jsx(xn,{variant:"body2",children:o.title}),z.jsx(Kn,{size:"small",onClick:()=>i(o.id),onTouchStart:()=>i(o.id),children:z.jsx(lu,{fontSize:"small",className:r.mediaButton})})]}),z.jsx("div",{children:z.jsx("p",{className:r.description,children:o.description})})]}))})};var QR={},K_e=dr;Object.defineProperty(QR,"__esModule",{value:!0});var Bd=QR.default=void 0,Z_e=K_e(fr()),X_e=z,J_e=(0,Z_e.default)((0,X_e.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");Bd=QR.default=J_e;const Nc=({label:e,fullWidth:t,multiple:n,value:r,emptyValue:i=0,emptyTitle:o="",onChange:s,endpoint:a,data:f,keyGetter:h=y=>y.id,titleGetter:g=y=>y.name})=>{const[y,x]=V.useState(f);return pR(async()=>{if(a){const P=await fetch(a);if(P.ok)x(await P.json());else throw Error(await P.text())}},[]),y?z.jsxs(cx,{fullWidth:t,children:[z.jsx(ux,{children:e}),z.jsxs(dx,{label:e,multiple:n,value:r,onChange:s,children:[!n&&i!==null&&z.jsx(ks,{value:i,children:o}),y.map(P=>z.jsx(ks,{value:h(P),children:g(P)},h(P)))]})]}):null};var eD={},Q_e=dr;Object.defineProperty(eD,"__esModule",{value:!0});var Eh=eD.default=void 0,e1e=Q_e(fr()),t1e=z,n1e=(0,e1e.default)((0,t1e.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");Eh=eD.default=n1e;const r1e=Xr(e=>({card:{pointerEvents:"auto",display:"block",width:"400px",height:"70vh",transitionDuration:"0.3s",overflowY:"auto"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"50%",top:"20%",transform:"translateX(-50%)"},button:{width:"80%",paddingBottom:"10pt",paddingTop:"10pt"},formControl:{margin:e.spacing(1),gap:e.spacing(2),paddingBottom:"20pt"},inputtext:{paddingBottom:"20px"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},title:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"20pt",textAlign:"left"},closeBtn:{display:"flex",right:"5px",height:"35px",position:"absolute"},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),i1e=({SetAddUAVOpen:e})=>{const t=r1e(),n=V.useContext(jd),[r,i]=V.useState({name:"uav_",category:"dji_M210_noetic",ip:"10.42.0.42",camera:[]});function o(){e(!1)}function s(){console.log("add uav-"+r.name+"-"+r.category),console.log(r),n.connectAddUav(r),e(!1)}const a=h=>{let g=JSON.parse(JSON.stringify(r.camera));g.splice(h,1),i({...r,camera:g})};function f(){let h=JSON.parse(JSON.stringify(r.camera));h.push({type:"WebRTC",source:""}),i({...r,camera:h})}return z.jsx("div",{className:t.root,children:z.jsxs(yu,{elevation:3,className:t.card,children:[z.jsx("div",{className:t.closeBtn,children:z.jsx(Kn,{size:"small",onClick:o,onTouchStart:o,children:z.jsx(lu,{fontSize:"small",className:t.mediaButton})})}),z.jsx("b",{children:z.jsx("div",{className:t.title,children:"Add device "})}),z.jsxs(bh,{defaultExpanded:!0,children:[z.jsx(_h,{expandIcon:z.jsx(Bd,{}),children:z.jsx(xn,{variant:"subtitle1",children:"Datos UAV"})}),z.jsx(xh,{className:t.details,children:z.jsxs(Whe,{style:{margin:"20px"},children:[z.jsx(Qi,{required:!0,label:"UAV ID",name:"uavid",value:r.name,onChange:h=>i({...r,name:h.target.value}),className:t.inputtext}),z.jsx(Nc,{emptyValue:null,value:r.category?r.category:"",onChange:h=>i({...r,category:h.target.value}),endpoint:"/api/category",keyGetter:h=>h,titleGetter:h=>h,label:"Type UAV "}),z.jsx(Qi,{style:{marginTop:"20px"},label:"ip",value:r.ip,onChange:h=>i({...r,ip:h.target.value})})]})})]}),r&&z.jsxs(bh,{children:[z.jsx(_h,{expandIcon:z.jsx(Bd,{}),children:z.jsx(xn,{variant:"subtitle1",children:"Camera"})}),z.jsxs(xh,{className:t.details,children:[r.camera&&r.camera.map((h,g,y)=>z.jsxs(V.Fragment,{children:[z.jsx(xn,{variant:"subtitle1",className:t.attributeName,children:"Camera "+g}),z.jsxs("div",{children:[z.jsxs(cx,{variant:"outlined",children:[z.jsx(ux,{id:"demo-simple-select-outlined-label",children:"CameraType"}),z.jsxs(dx,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:h.type,label:"type",onChange:x=>i({...r,camera:r.camera.map((P,O)=>{let S=JSON.parse(JSON.stringify(P));return g==O&&(S.type=x.target.value),S})}),children:[z.jsx(ks,{value:"WebRTC",children:"WebRTC"}),z.jsx(ks,{value:"WebRTC_env",children:"WebRTCenv"}),z.jsx(ks,{value:"Websocket",children:"Websocket"})]})]}),z.jsx("div",{className:t.actionValue,children:z.jsx(Qi,{required:!0,fullWidth:!0,value:h.source,onChange:x=>i({...r,camera:r.camera.map((P,O)=>{let S=JSON.parse(JSON.stringify(P));return g==O&&(S.source=x.target.value),S})})})}),z.jsx(Kn,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>a(g),className:t.negative,children:z.jsx(Eh,{})})]}),z.jsx(_C,{})]},"fragment-action-"+g)),z.jsx(hr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:f,children:"Add camera source"})]})]}),z.jsx("div",{style:{paddingBottom:"20pt",paddingTop:"20pt",display:"flex",justifyContent:"center"},children:z.jsx(hr,{className:t.button,variant:"contained",onClick:s,children:"ADD"})})]})})},iS="/assets/placeholder-7d04691d.jpg";var tD={},o1e=dr;Object.defineProperty(tD,"__esModule",{value:!0});var nD=tD.default=void 0,a1e=o1e(fr()),s1e=z,l1e=(0,a1e.default)((0,s1e.jsx)("path",{d:"m15 3 2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3h-6zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3v6zm6 12-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6h6zm12-6-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6v-6z"}),"ZoomOutMap");nD=tD.default=l1e;const c1e=Xr(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},card_max:{pointerEvents:"auto",width:"100%"},media:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"360px",top:e.spacing(15),transform:"translateX(1%)"},root_max:{pointerEvents:"none",position:"fixed",zIndex:6,left:"51%",top:"5%",transform:"translateX(-50%)",width:"55%"}})),u1e=({deviceId:e,datacamera:t,onClose:n})=>{const r=c1e(),[i,o]=V.useState(iS),s=Ln(x=>x.devices.items[e]),[a,f]=V.useState(!1);let h=a?r.card_max:r.card,g=a?r.root_max:r.root;function y(){f(!a)}return V.useEffect(()=>{e!=null&&(t!=null?o("data:image/bgr8;base64,"+t.camera):o(iS))},[t]),z.jsx("div",{className:g,children:s&&z.jsxs(yu,{elevation:3,className:h,children:[z.jsxs("div",{style:{display:"flex",right:"5px",height:"35px",position:"absolute"},children:[z.jsx(Kn,{size:"small",onClick:y,onTouchStart:y,children:z.jsx(nD,{fontSize:"small",className:r.mediaButton})}),z.jsx(Kn,{size:"small",onClick:()=>{n(),f(!1)},onTouchStart:n,children:z.jsx(lu,{fontSize:"small",className:r.mediaButton})})]}),z.jsxs("div",{style:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},children:["Image "+s.name," "]}),z.jsx("img",{src:i,className:r.media})]})})};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Wq;function Mt(){return Wq.apply(null,arguments)}function d1e(e){Wq=e}function wl(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function ih(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Qn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function rD(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Qn(e,t))return!1;return!0}function va(e){return e===void 0}function cu(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function bx(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function qq(e,t){var n=[],r,i=e.length;for(r=0;r<i;++r)n.push(t(e[r],r));return n}function fd(e,t){for(var n in t)Qn(t,n)&&(e[n]=t[n]);return Qn(t,"toString")&&(e.toString=t.toString),Qn(t,"valueOf")&&(e.valueOf=t.valueOf),e}function fc(e,t,n,r){return mG(e,t,n,r,!0).utc()}function f1e(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function An(e){return e._pf==null&&(e._pf=f1e()),e._pf}var WA;Array.prototype.some?WA=Array.prototype.some:WA=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function iD(e){if(e._isValid==null){var t=An(e),n=WA.call(t.parsedDateParts,function(i){return i!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function FC(e){var t=fc(NaN);return e!=null?fd(An(t),e):An(t).userInvalidated=!0,t}var SB=Mt.momentProperties=[],bP=!1;function oD(e,t){var n,r,i,o=SB.length;if(va(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),va(t._i)||(e._i=t._i),va(t._f)||(e._f=t._f),va(t._l)||(e._l=t._l),va(t._strict)||(e._strict=t._strict),va(t._tzm)||(e._tzm=t._tzm),va(t._isUTC)||(e._isUTC=t._isUTC),va(t._offset)||(e._offset=t._offset),va(t._pf)||(e._pf=An(t)),va(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)r=SB[n],i=t[r],va(i)||(e[r]=i);return e}function xx(e){oD(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),bP===!1&&(bP=!0,Mt.updateOffset(this),bP=!1)}function Sl(e){return e instanceof xx||e!=null&&e._isAMomentObject!=null}function Gq(e){Mt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Ws(e,t){var n=!0;return fd(function(){if(Mt.deprecationHandler!=null&&Mt.deprecationHandler(null,e),n){var r=[],i,o,s,a=arguments.length;for(o=0;o<a;o++){if(i="",typeof arguments[o]=="object"){i+=`
[`+o+"] ";for(s in arguments[0])Qn(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[o];r.push(i)}Gq(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var CB={};function Hq(e,t){Mt.deprecationHandler!=null&&Mt.deprecationHandler(e,t),CB[e]||(Gq(t),CB[e]=!0)}Mt.suppressDeprecationWarnings=!1;Mt.deprecationHandler=null;function hc(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function h1e(e){var t,n;for(n in e)Qn(e,n)&&(t=e[n],hc(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function qA(e,t){var n=fd({},e),r;for(r in t)Qn(t,r)&&(ih(e[r])&&ih(t[r])?(n[r]={},fd(n[r],e[r]),fd(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)Qn(e,r)&&!Qn(t,r)&&ih(e[r])&&(n[r]=fd({},n[r]));return n}function aD(e){e!=null&&this.set(e)}var GA;Object.keys?GA=Object.keys:GA=function(e){var t,n=[];for(t in e)Qn(e,t)&&n.push(t);return n};var p1e={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function m1e(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return hc(r)?r.call(t,n):r}function lc(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var sD=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,v1=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,xP={},Am={};function an(e,t,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(Am[e]=i),t&&(Am[t[0]]=function(){return lc(i.apply(this,arguments),t[1],t[2])}),n&&(Am[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function g1e(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function y1e(e){var t=e.match(sD),n,r;for(n=0,r=t.length;n<r;n++)Am[t[n]]?t[n]=Am[t[n]]:t[n]=g1e(t[n]);return function(i){var o="",s;for(s=0;s<r;s++)o+=hc(t[s])?t[s].call(i,e):t[s];return o}}function ew(e,t){return e.isValid()?(t=Yq(t,e.localeData()),xP[t]=xP[t]||y1e(t),xP[t](e)):e.localeData().invalidDate()}function Yq(e,t){var n=5;function r(i){return t.longDateFormat(i)||i}for(v1.lastIndex=0;n>=0&&v1.test(e);)e=e.replace(v1,r),v1.lastIndex=0,n-=1;return e}var v1e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function b1e(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(sD).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var x1e="Invalid date";function _1e(){return this._invalidDate}var w1e="%d",S1e=/\d{1,2}/;function C1e(e){return this._ordinal.replace("%d",e)}var E1e={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function T1e(e,t,n,r){var i=this._relativeTime[n];return hc(i)?i(e,t,n,r):i.replace(/%d/i,e)}function k1e(e,t){var n=this._relativeTime[e>0?"future":"past"];return hc(n)?n(t):n.replace(/%s/i,t)}var E0={};function Bo(e,t){var n=e.toLowerCase();E0[n]=E0[n+"s"]=E0[t]=e}function qs(e){return typeof e=="string"?E0[e]||E0[e.toLowerCase()]:void 0}function lD(e){var t={},n,r;for(r in e)Qn(e,r)&&(n=qs(r),n&&(t[n]=e[r]));return t}var Kq={};function Fo(e,t){Kq[e]=t}function P1e(e){var t=[],n;for(n in e)Qn(e,n)&&t.push({unit:n,priority:Kq[n]});return t.sort(function(r,i){return r.priority-i.priority}),t}function UC(e){return e%4===0&&e%100!==0||e%400===0}function Cs(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function jn(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=Cs(t)),n}function Fg(e,t){return function(n){return n!=null?(Zq(this,e,n),Mt.updateOffset(this,t),this):oS(this,e)}}function oS(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Zq(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&UC(e.year())&&e.month()===1&&e.date()===29?(n=jn(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),YC(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function O1e(e){return e=qs(e),hc(this[e])?this[e]():this}function A1e(e,t){if(typeof e=="object"){e=lD(e);var n=P1e(e),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](e[n[r].unit])}else if(e=qs(e),hc(this[e]))return this[e](t);return this}var Xq=/\d/,is=/\d\d/,Jq=/\d{3}/,cD=/\d{4}/,VC=/[+-]?\d{6}/,Ur=/\d\d?/,Qq=/\d\d\d\d?/,eG=/\d\d\d\d\d\d?/,WC=/\d{1,3}/,uD=/\d{1,4}/,qC=/[+-]?\d{1,6}/,Ug=/\d+/,GC=/[+-]?\d+/,M1e=/Z|[+-]\d\d:?\d\d/gi,HC=/Z|[+-]\d\d(?::?\d\d)?/gi,I1e=/[+-]?\d+(\.\d{1,3})?/,_x=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,aS;aS={};function Ft(e,t,n){aS[e]=hc(t)?t:function(r,i){return r&&n?n:t}}function $1e(e,t){return Qn(aS,e)?aS[e](t._strict,t._locale):new RegExp(R1e(e))}function R1e(e){return Va(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,i,o){return n||r||i||o}))}function Va(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var HA={};function Er(e,t){var n,r=t,i;for(typeof e=="string"&&(e=[e]),cu(t)&&(r=function(o,s){s[t]=jn(o)}),i=e.length,n=0;n<i;n++)HA[e[n]]=r}function wx(e,t){Er(e,function(n,r,i,o){i._w=i._w||{},t(n,i._w,i,o)})}function D1e(e,t,n){t!=null&&Qn(HA,e)&&HA[e](t,n._a,n,e)}var zo=0,Wc=1,Kl=2,Bi=3,gl=4,qc=5,Gf=6,L1e=7,N1e=8;function z1e(e,t){return(e%t+t)%t}var Si;Array.prototype.indexOf?Si=Array.prototype.indexOf:Si=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function YC(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=z1e(t,12);return e+=(t-n)/12,n===1?UC(e)?29:28:31-n%7%2}an("M",["MM",2],"Mo",function(){return this.month()+1});an("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});an("MMMM",0,0,function(e){return this.localeData().months(this,e)});Bo("month","M");Fo("month",8);Ft("M",Ur);Ft("MM",Ur,is);Ft("MMM",function(e,t){return t.monthsShortRegex(e)});Ft("MMMM",function(e,t){return t.monthsRegex(e)});Er(["M","MM"],function(e,t){t[Wc]=jn(e)-1});Er(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);i!=null?t[Wc]=i:An(n).invalidMonth=e});var j1e="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tG="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nG=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,B1e=_x,F1e=_x;function U1e(e,t){return e?wl(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nG).test(t)?"format":"standalone"][e.month()]:wl(this._months)?this._months:this._months.standalone}function V1e(e,t){return e?wl(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nG.test(t)?"format":"standalone"][e.month()]:wl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function W1e(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=fc([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?t==="MMM"?(i=Si.call(this._shortMonthsParse,s),i!==-1?i:null):(i=Si.call(this._longMonthsParse,s),i!==-1?i:null):t==="MMM"?(i=Si.call(this._shortMonthsParse,s),i!==-1?i:(i=Si.call(this._longMonthsParse,s),i!==-1?i:null)):(i=Si.call(this._longMonthsParse,s),i!==-1?i:(i=Si.call(this._shortMonthsParse,s),i!==-1?i:null))}function q1e(e,t,n){var r,i,o;if(this._monthsParseExact)return W1e.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=fc([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function rG(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=jn(t);else if(t=e.localeData().monthsParse(t),!cu(t))return e}return n=Math.min(e.date(),YC(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function iG(e){return e!=null?(rG(this,e),Mt.updateOffset(this,!0),this):oS(this,"Month")}function G1e(){return YC(this.year(),this.month())}function H1e(e){return this._monthsParseExact?(Qn(this,"_monthsRegex")||oG.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Qn(this,"_monthsShortRegex")||(this._monthsShortRegex=B1e),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Y1e(e){return this._monthsParseExact?(Qn(this,"_monthsRegex")||oG.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Qn(this,"_monthsRegex")||(this._monthsRegex=F1e),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function oG(){function e(s,a){return a.length-s.length}var t=[],n=[],r=[],i,o;for(i=0;i<12;i++)o=fc([2e3,i]),t.push(this.monthsShort(o,"")),n.push(this.months(o,"")),r.push(this.months(o,"")),r.push(this.monthsShort(o,""));for(t.sort(e),n.sort(e),r.sort(e),i=0;i<12;i++)t[i]=Va(t[i]),n[i]=Va(n[i]);for(i=0;i<24;i++)r[i]=Va(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}an("Y",0,0,function(){var e=this.year();return e<=9999?lc(e,4):"+"+e});an(0,["YY",2],0,function(){return this.year()%100});an(0,["YYYY",4],0,"year");an(0,["YYYYY",5],0,"year");an(0,["YYYYYY",6,!0],0,"year");Bo("year","y");Fo("year",1);Ft("Y",GC);Ft("YY",Ur,is);Ft("YYYY",uD,cD);Ft("YYYYY",qC,VC);Ft("YYYYYY",qC,VC);Er(["YYYYY","YYYYYY"],zo);Er("YYYY",function(e,t){t[zo]=e.length===2?Mt.parseTwoDigitYear(e):jn(e)});Er("YY",function(e,t){t[zo]=Mt.parseTwoDigitYear(e)});Er("Y",function(e,t){t[zo]=parseInt(e,10)});function T0(e){return UC(e)?366:365}Mt.parseTwoDigitYear=function(e){return jn(e)+(jn(e)>68?1900:2e3)};var aG=Fg("FullYear",!0);function K1e(){return UC(this.year())}function Z1e(e,t,n,r,i,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,i,o,s),a}function fb(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function sS(e,t,n){var r=7+t-n,i=(7+fb(e,0,r).getUTCDay()-t)%7;return-i+r-1}function sG(e,t,n,r,i){var o=(7+n-r)%7,s=sS(e,r,i),a=1+7*(t-1)+o+s,f,h;return a<=0?(f=e-1,h=T0(f)+a):a>T0(e)?(f=e+1,h=a-T0(e)):(f=e,h=a),{year:f,dayOfYear:h}}function hb(e,t,n){var r=sS(e.year(),t,n),i=Math.floor((e.dayOfYear()-r-1)/7)+1,o,s;return i<1?(s=e.year()-1,o=i+Xc(s,t,n)):i>Xc(e.year(),t,n)?(o=i-Xc(e.year(),t,n),s=e.year()+1):(s=e.year(),o=i),{week:o,year:s}}function Xc(e,t,n){var r=sS(e,t,n),i=sS(e+1,t,n);return(T0(e)-r+i)/7}an("w",["ww",2],"wo","week");an("W",["WW",2],"Wo","isoWeek");Bo("week","w");Bo("isoWeek","W");Fo("week",5);Fo("isoWeek",5);Ft("w",Ur);Ft("ww",Ur,is);Ft("W",Ur);Ft("WW",Ur,is);wx(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=jn(e)});function X1e(e){return hb(e,this._week.dow,this._week.doy).week}var J1e={dow:0,doy:6};function Q1e(){return this._week.dow}function ewe(){return this._week.doy}function twe(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function nwe(e){var t=hb(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}an("d",0,"do","day");an("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});an("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});an("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});an("e",0,0,"weekday");an("E",0,0,"isoWeekday");Bo("day","d");Bo("weekday","e");Bo("isoWeekday","E");Fo("day",11);Fo("weekday",11);Fo("isoWeekday",11);Ft("d",Ur);Ft("e",Ur);Ft("E",Ur);Ft("dd",function(e,t){return t.weekdaysMinRegex(e)});Ft("ddd",function(e,t){return t.weekdaysShortRegex(e)});Ft("dddd",function(e,t){return t.weekdaysRegex(e)});wx(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);i!=null?t.d=i:An(n).invalidWeekday=e});wx(["d","e","E"],function(e,t,n,r){t[r]=jn(e)});function rwe(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function iwe(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function dD(e,t){return e.slice(t,7).concat(e.slice(0,t))}var owe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),lG="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),awe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),swe=_x,lwe=_x,cwe=_x;function uwe(e,t){var n=wl(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?dD(n,this._week.dow):e?n[e.day()]:n}function dwe(e){return e===!0?dD(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function fwe(e){return e===!0?dD(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function hwe(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=fc([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?t==="dddd"?(i=Si.call(this._weekdaysParse,s),i!==-1?i:null):t==="ddd"?(i=Si.call(this._shortWeekdaysParse,s),i!==-1?i:null):(i=Si.call(this._minWeekdaysParse,s),i!==-1?i:null):t==="dddd"?(i=Si.call(this._weekdaysParse,s),i!==-1||(i=Si.call(this._shortWeekdaysParse,s),i!==-1)?i:(i=Si.call(this._minWeekdaysParse,s),i!==-1?i:null)):t==="ddd"?(i=Si.call(this._shortWeekdaysParse,s),i!==-1||(i=Si.call(this._weekdaysParse,s),i!==-1)?i:(i=Si.call(this._minWeekdaysParse,s),i!==-1?i:null)):(i=Si.call(this._minWeekdaysParse,s),i!==-1||(i=Si.call(this._weekdaysParse,s),i!==-1)?i:(i=Si.call(this._shortWeekdaysParse,s),i!==-1?i:null))}function pwe(e,t,n){var r,i,o;if(this._weekdaysParseExact)return hwe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=fc([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function mwe(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=rwe(e,this.localeData()),this.add(e-t,"d")):t}function gwe(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function ywe(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=iwe(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function vwe(e){return this._weekdaysParseExact?(Qn(this,"_weekdaysRegex")||fD.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Qn(this,"_weekdaysRegex")||(this._weekdaysRegex=swe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function bwe(e){return this._weekdaysParseExact?(Qn(this,"_weekdaysRegex")||fD.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Qn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=lwe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function xwe(e){return this._weekdaysParseExact?(Qn(this,"_weekdaysRegex")||fD.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Qn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=cwe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function fD(){function e(g,y){return y.length-g.length}var t=[],n=[],r=[],i=[],o,s,a,f,h;for(o=0;o<7;o++)s=fc([2e3,1]).day(o),a=Va(this.weekdaysMin(s,"")),f=Va(this.weekdaysShort(s,"")),h=Va(this.weekdays(s,"")),t.push(a),n.push(f),r.push(h),i.push(a),i.push(f),i.push(h);t.sort(e),n.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function hD(){return this.hours()%12||12}function _we(){return this.hours()||24}an("H",["HH",2],0,"hour");an("h",["hh",2],0,hD);an("k",["kk",2],0,_we);an("hmm",0,0,function(){return""+hD.apply(this)+lc(this.minutes(),2)});an("hmmss",0,0,function(){return""+hD.apply(this)+lc(this.minutes(),2)+lc(this.seconds(),2)});an("Hmm",0,0,function(){return""+this.hours()+lc(this.minutes(),2)});an("Hmmss",0,0,function(){return""+this.hours()+lc(this.minutes(),2)+lc(this.seconds(),2)});function cG(e,t){an(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}cG("a",!0);cG("A",!1);Bo("hour","h");Fo("hour",13);function uG(e,t){return t._meridiemParse}Ft("a",uG);Ft("A",uG);Ft("H",Ur);Ft("h",Ur);Ft("k",Ur);Ft("HH",Ur,is);Ft("hh",Ur,is);Ft("kk",Ur,is);Ft("hmm",Qq);Ft("hmmss",eG);Ft("Hmm",Qq);Ft("Hmmss",eG);Er(["H","HH"],Bi);Er(["k","kk"],function(e,t,n){var r=jn(e);t[Bi]=r===24?0:r});Er(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Er(["h","hh"],function(e,t,n){t[Bi]=jn(e),An(n).bigHour=!0});Er("hmm",function(e,t,n){var r=e.length-2;t[Bi]=jn(e.substr(0,r)),t[gl]=jn(e.substr(r)),An(n).bigHour=!0});Er("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Bi]=jn(e.substr(0,r)),t[gl]=jn(e.substr(r,2)),t[qc]=jn(e.substr(i)),An(n).bigHour=!0});Er("Hmm",function(e,t,n){var r=e.length-2;t[Bi]=jn(e.substr(0,r)),t[gl]=jn(e.substr(r))});Er("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Bi]=jn(e.substr(0,r)),t[gl]=jn(e.substr(r,2)),t[qc]=jn(e.substr(i))});function wwe(e){return(e+"").toLowerCase().charAt(0)==="p"}var Swe=/[ap]\.?m?\.?/i,Cwe=Fg("Hours",!0);function Ewe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var dG={calendar:p1e,longDateFormat:v1e,invalidDate:x1e,ordinal:w1e,dayOfMonthOrdinalParse:S1e,relativeTime:E1e,months:j1e,monthsShort:tG,week:J1e,weekdays:owe,weekdaysMin:awe,weekdaysShort:lG,meridiemParse:Swe},Gr={},Iv={},pb;function Twe(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function EB(e){return e&&e.toLowerCase().replace("_","-")}function kwe(e){for(var t=0,n,r,i,o;t<e.length;){for(o=EB(e[t]).split("-"),n=o.length,r=EB(e[t+1]),r=r?r.split("-"):null;n>0;){if(i=KC(o.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&Twe(o,r)>=n-1)break;n--}t++}return pb}function Pwe(e){return e.match("^[^/\\\\]*$")!=null}function KC(e){var t=null,n;if(Gr[e]===void 0&&typeof iw<"u"&&iw&&iw.exports&&Pwe(e))try{t=pb._abbr,n=require,n("./locale/"+e),kd(t)}catch{Gr[e]=null}return Gr[e]}function kd(e,t){var n;return e&&(va(t)?n=vu(e):n=pD(e,t),n?pb=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),pb._abbr}function pD(e,t){if(t!==null){var n,r=dG;if(t.abbr=e,Gr[e]!=null)Hq("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Gr[e]._config;else if(t.parentLocale!=null)if(Gr[t.parentLocale]!=null)r=Gr[t.parentLocale]._config;else if(n=KC(t.parentLocale),n!=null)r=n._config;else return Iv[t.parentLocale]||(Iv[t.parentLocale]=[]),Iv[t.parentLocale].push({name:e,config:t}),null;return Gr[e]=new aD(qA(r,t)),Iv[e]&&Iv[e].forEach(function(i){pD(i.name,i.config)}),kd(e),Gr[e]}else return delete Gr[e],null}function Owe(e,t){if(t!=null){var n,r,i=dG;Gr[e]!=null&&Gr[e].parentLocale!=null?Gr[e].set(qA(Gr[e]._config,t)):(r=KC(e),r!=null&&(i=r._config),t=qA(i,t),r==null&&(t.abbr=e),n=new aD(t),n.parentLocale=Gr[e],Gr[e]=n),kd(e)}else Gr[e]!=null&&(Gr[e].parentLocale!=null?(Gr[e]=Gr[e].parentLocale,e===kd()&&kd(e)):Gr[e]!=null&&delete Gr[e]);return Gr[e]}function vu(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return pb;if(!wl(e)){if(t=KC(e),t)return t;e=[e]}return kwe(e)}function Awe(){return GA(Gr)}function mD(e){var t,n=e._a;return n&&An(e).overflow===-2&&(t=n[Wc]<0||n[Wc]>11?Wc:n[Kl]<1||n[Kl]>YC(n[zo],n[Wc])?Kl:n[Bi]<0||n[Bi]>24||n[Bi]===24&&(n[gl]!==0||n[qc]!==0||n[Gf]!==0)?Bi:n[gl]<0||n[gl]>59?gl:n[qc]<0||n[qc]>59?qc:n[Gf]<0||n[Gf]>999?Gf:-1,An(e)._overflowDayOfYear&&(t<zo||t>Kl)&&(t=Kl),An(e)._overflowWeeks&&t===-1&&(t=L1e),An(e)._overflowWeekday&&t===-1&&(t=N1e),An(e).overflow=t),e}var Mwe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Iwe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,$we=/Z|[+-]\d\d(?::?\d\d)?/,b1=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],_P=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Rwe=/^\/?Date\((-?\d+)/i,Dwe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Lwe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function fG(e){var t,n,r=e._i,i=Mwe.exec(r)||Iwe.exec(r),o,s,a,f,h=b1.length,g=_P.length;if(i){for(An(e).iso=!0,t=0,n=h;t<n;t++)if(b1[t][1].exec(i[1])){s=b1[t][0],o=b1[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(i[3]){for(t=0,n=g;t<n;t++)if(_P[t][1].exec(i[3])){a=(i[2]||" ")+_P[t][0];break}if(a==null){e._isValid=!1;return}}if(!o&&a!=null){e._isValid=!1;return}if(i[4])if($we.exec(i[4]))f="Z";else{e._isValid=!1;return}e._f=s+(a||"")+(f||""),yD(e)}else e._isValid=!1}function Nwe(e,t,n,r,i,o){var s=[zwe(e),tG.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function zwe(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function jwe(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Bwe(e,t,n){if(e){var r=lG.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return An(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function Fwe(e,t,n){if(e)return Lwe[e];if(t)return 0;var r=parseInt(n,10),i=r%100,o=(r-i)/100;return o*60+i}function hG(e){var t=Dwe.exec(jwe(e._i)),n;if(t){if(n=Nwe(t[4],t[3],t[2],t[5],t[6],t[7]),!Bwe(t[1],n,e))return;e._a=n,e._tzm=Fwe(t[8],t[9],t[10]),e._d=fb.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),An(e).rfc2822=!0}else e._isValid=!1}function Uwe(e){var t=Rwe.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(fG(e),e._isValid===!1)delete e._isValid;else return;if(hG(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Mt.createFromInputFallback(e)}Mt.createFromInputFallback=Ws("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Wp(e,t,n){return e??t??n}function Vwe(e){var t=new Date(Mt.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function gD(e){var t,n,r=[],i,o,s;if(!e._d){for(i=Vwe(e),e._w&&e._a[Kl]==null&&e._a[Wc]==null&&Wwe(e),e._dayOfYear!=null&&(s=Wp(e._a[zo],i[zo]),(e._dayOfYear>T0(s)||e._dayOfYear===0)&&(An(e)._overflowDayOfYear=!0),n=fb(s,0,e._dayOfYear),e._a[Wc]=n.getUTCMonth(),e._a[Kl]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Bi]===24&&e._a[gl]===0&&e._a[qc]===0&&e._a[Gf]===0&&(e._nextDay=!0,e._a[Bi]=0),e._d=(e._useUTC?fb:Z1e).apply(null,r),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Bi]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==o&&(An(e).weekdayMismatch=!0)}}function Wwe(e){var t,n,r,i,o,s,a,f,h;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(o=1,s=4,n=Wp(t.GG,e._a[zo],hb(Fr(),1,4).year),r=Wp(t.W,1),i=Wp(t.E,1),(i<1||i>7)&&(f=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,h=hb(Fr(),o,s),n=Wp(t.gg,e._a[zo],h.year),r=Wp(t.w,h.week),t.d!=null?(i=t.d,(i<0||i>6)&&(f=!0)):t.e!=null?(i=t.e+o,(t.e<0||t.e>6)&&(f=!0)):i=o),r<1||r>Xc(n,o,s)?An(e)._overflowWeeks=!0:f!=null?An(e)._overflowWeekday=!0:(a=sG(n,r,i,o,s),e._a[zo]=a.year,e._dayOfYear=a.dayOfYear)}Mt.ISO_8601=function(){};Mt.RFC_2822=function(){};function yD(e){if(e._f===Mt.ISO_8601){fG(e);return}if(e._f===Mt.RFC_2822){hG(e);return}e._a=[],An(e).empty=!0;var t=""+e._i,n,r,i,o,s,a=t.length,f=0,h,g;for(i=Yq(e._f,e._locale).match(sD)||[],g=i.length,n=0;n<g;n++)o=i[n],r=(t.match($1e(o,e))||[])[0],r&&(s=t.substr(0,t.indexOf(r)),s.length>0&&An(e).unusedInput.push(s),t=t.slice(t.indexOf(r)+r.length),f+=r.length),Am[o]?(r?An(e).empty=!1:An(e).unusedTokens.push(o),D1e(o,r,e)):e._strict&&!r&&An(e).unusedTokens.push(o);An(e).charsLeftOver=a-f,t.length>0&&An(e).unusedInput.push(t),e._a[Bi]<=12&&An(e).bigHour===!0&&e._a[Bi]>0&&(An(e).bigHour=void 0),An(e).parsedDateParts=e._a.slice(0),An(e).meridiem=e._meridiem,e._a[Bi]=qwe(e._locale,e._a[Bi],e._meridiem),h=An(e).era,h!==null&&(e._a[zo]=e._locale.erasConvertYear(h,e._a[zo])),gD(e),mD(e)}function qwe(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function Gwe(e){var t,n,r,i,o,s,a=!1,f=e._f.length;if(f===0){An(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<f;i++)o=0,s=!1,t=oD({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],yD(t),iD(t)&&(s=!0),o+=An(t).charsLeftOver,o+=An(t).unusedTokens.length*10,An(t).score=o,a?o<r&&(r=o,n=t):(r==null||o<r||s)&&(r=o,n=t,s&&(a=!0));fd(e,n||t)}function Hwe(e){if(!e._d){var t=lD(e._i),n=t.day===void 0?t.date:t.day;e._a=qq([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),gD(e)}}function Ywe(e){var t=new xx(mD(pG(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function pG(e){var t=e._i,n=e._f;return e._locale=e._locale||vu(e._l),t===null||n===void 0&&t===""?FC({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Sl(t)?new xx(mD(t)):(bx(t)?e._d=t:wl(n)?Gwe(e):n?yD(e):Kwe(e),iD(e)||(e._d=null),e))}function Kwe(e){var t=e._i;va(t)?e._d=new Date(Mt.now()):bx(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Uwe(e):wl(t)?(e._a=qq(t.slice(0),function(n){return parseInt(n,10)}),gD(e)):ih(t)?Hwe(e):cu(t)?e._d=new Date(t):Mt.createFromInputFallback(e)}function mG(e,t,n,r,i){var o={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(ih(e)&&rD(e)||wl(e)&&e.length===0)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,Ywe(o)}function Fr(e,t,n,r){return mG(e,t,n,r,!1)}var Zwe=Ws("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Fr.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:FC()}),Xwe=Ws("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Fr.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:FC()});function gG(e,t){var n,r;if(t.length===1&&wl(t[0])&&(t=t[0]),!t.length)return Fr();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function Jwe(){var e=[].slice.call(arguments,0);return gG("isBefore",e)}function Qwe(){var e=[].slice.call(arguments,0);return gG("isAfter",e)}var eSe=function(){return Date.now?Date.now():+new Date},$v=["year","quarter","month","week","day","hour","minute","second","millisecond"];function tSe(e){var t,n=!1,r,i=$v.length;for(t in e)if(Qn(e,t)&&!(Si.call($v,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<i;++r)if(e[$v[r]]){if(n)return!1;parseFloat(e[$v[r]])!==jn(e[$v[r]])&&(n=!0)}return!0}function nSe(){return this._isValid}function rSe(){return Tl(NaN)}function ZC(e){var t=lD(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,f=t.minute||0,h=t.second||0,g=t.millisecond||0;this._isValid=tSe(t),this._milliseconds=+g+h*1e3+f*6e4+a*1e3*60*60,this._days=+s+o*7,this._months=+i+r*3+n*12,this._data={},this._locale=vu(),this._bubble()}function tw(e){return e instanceof ZC}function YA(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function iSe(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0,s;for(s=0;s<r;s++)(n&&e[s]!==t[s]||!n&&jn(e[s])!==jn(t[s]))&&o++;return o+i}function yG(e,t){an(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+lc(~~(n/60),2)+t+lc(~~n%60,2)})}yG("Z",":");yG("ZZ","");Ft("Z",HC);Ft("ZZ",HC);Er(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=vD(HC,e)});var oSe=/([\+\-]|\d\d)/gi;function vD(e,t){var n=(t||"").match(e),r,i,o;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(oSe)||["-",0,0],o=+(i[1]*60)+jn(i[2]),o===0?0:i[0]==="+"?o:-o)}function bD(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Sl(e)||bx(e)?e.valueOf():Fr(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Mt.updateOffset(n,!1),n):Fr(e).local()}function KA(e){return-Math.round(e._d.getTimezoneOffset())}Mt.updateOffset=function(){};function aSe(e,t,n){var r=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=vD(HC,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(i=KA(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?xG(this,Tl(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Mt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:KA(this)}function sSe(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function lSe(e){return this.utcOffset(0,e)}function cSe(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(KA(this),"m")),this}function uSe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=vD(M1e,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function dSe(e){return this.isValid()?(e=e?Fr(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function fSe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function hSe(){if(!va(this._isDSTShifted))return this._isDSTShifted;var e={},t;return oD(e,this),e=pG(e),e._a?(t=e._isUTC?fc(e._a):Fr(e._a),this._isDSTShifted=this.isValid()&&iSe(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function pSe(){return this.isValid()?!this._isUTC:!1}function mSe(){return this.isValid()?this._isUTC:!1}function vG(){return this.isValid()?this._isUTC&&this._offset===0:!1}var gSe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ySe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Tl(e,t){var n=e,r=null,i,o,s;return tw(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:cu(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=gSe.exec(e))?(i=r[1]==="-"?-1:1,n={y:0,d:jn(r[Kl])*i,h:jn(r[Bi])*i,m:jn(r[gl])*i,s:jn(r[qc])*i,ms:jn(YA(r[Gf]*1e3))*i}):(r=ySe.exec(e))?(i=r[1]==="-"?-1:1,n={y:kf(r[2],i),M:kf(r[3],i),w:kf(r[4],i),d:kf(r[5],i),h:kf(r[6],i),m:kf(r[7],i),s:kf(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=vSe(Fr(n.from),Fr(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),o=new ZC(n),tw(e)&&Qn(e,"_locale")&&(o._locale=e._locale),tw(e)&&Qn(e,"_isValid")&&(o._isValid=e._isValid),o}Tl.fn=ZC.prototype;Tl.invalid=rSe;function kf(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function TB(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function vSe(e,t){var n;return e.isValid()&&t.isValid()?(t=bD(t,e),e.isBefore(t)?n=TB(e,t):(n=TB(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function bG(e,t){return function(n,r){var i,o;return r!==null&&!isNaN(+r)&&(Hq(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),i=Tl(n,r),xG(this,i,e),this}}function xG(e,t,n,r){var i=t._milliseconds,o=YA(t._days),s=YA(t._months);e.isValid()&&(r=r??!0,s&&rG(e,oS(e,"Month")+s*n),o&&Zq(e,"Date",oS(e,"Date")+o*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&Mt.updateOffset(e,o||s))}var bSe=bG(1,"add"),xSe=bG(-1,"subtract");function _G(e){return typeof e=="string"||e instanceof String}function _Se(e){return Sl(e)||bx(e)||_G(e)||cu(e)||SSe(e)||wSe(e)||e===null||e===void 0}function wSe(e){var t=ih(e)&&!rD(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,o,s=r.length;for(i=0;i<s;i+=1)o=r[i],n=n||Qn(e,o);return t&&n}function SSe(e){var t=wl(e),n=!1;return t&&(n=e.filter(function(r){return!cu(r)&&_G(e)}).length===0),t&&n}function CSe(e){var t=ih(e)&&!rD(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,o;for(i=0;i<r.length;i+=1)o=r[i],n=n||Qn(e,o);return t&&n}function ESe(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function TSe(e,t){arguments.length===1&&(arguments[0]?_Se(arguments[0])?(e=arguments[0],t=void 0):CSe(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Fr(),r=bD(n,this).startOf("day"),i=Mt.calendarFormat(this,r)||"sameElse",o=t&&(hc(t[i])?t[i].call(this,n):t[i]);return this.format(o||this.localeData().calendar(i,this,Fr(n)))}function kSe(){return new xx(this)}function PSe(e,t){var n=Sl(e)?e:Fr(e);return this.isValid()&&n.isValid()?(t=qs(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function OSe(e,t){var n=Sl(e)?e:Fr(e);return this.isValid()&&n.isValid()?(t=qs(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function ASe(e,t,n,r){var i=Sl(e)?e:Fr(e),o=Sl(t)?t:Fr(t);return this.isValid()&&i.isValid()&&o.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(o,n):!this.isAfter(o,n))):!1}function MSe(e,t){var n=Sl(e)?e:Fr(e),r;return this.isValid()&&n.isValid()?(t=qs(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function ISe(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function $Se(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function RSe(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(r=bD(e,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,t=qs(t),t){case"year":o=nw(this,r)/12;break;case"month":o=nw(this,r);break;case"quarter":o=nw(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:Cs(o)}function nw(e,t){if(e.date()<t.date())return-nw(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),i,o;return t-r<0?(i=e.clone().add(n-1,"months"),o=(t-r)/(r-i)):(i=e.clone().add(n+1,"months"),o=(t-r)/(i-r)),-(n+o)||0}Mt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Mt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function DSe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function LSe(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?ew(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):hc(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ew(n,"Z")):ew(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function NSe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,i,o;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]',this.format(n+r+i+o)}function zSe(e){e||(e=this.isUtc()?Mt.defaultFormatUtc:Mt.defaultFormat);var t=ew(this,e);return this.localeData().postformat(t)}function jSe(e,t){return this.isValid()&&(Sl(e)&&e.isValid()||Fr(e).isValid())?Tl({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function BSe(e){return this.from(Fr(),e)}function FSe(e,t){return this.isValid()&&(Sl(e)&&e.isValid()||Fr(e).isValid())?Tl({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function USe(e){return this.to(Fr(),e)}function wG(e){var t;return e===void 0?this._locale._abbr:(t=vu(e),t!=null&&(this._locale=t),this)}var SG=Ws("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function CG(){return this._locale}var lS=1e3,Mm=60*lS,cS=60*Mm,EG=(365*400+97)*24*cS;function Im(e,t){return(e%t+t)%t}function TG(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-EG:new Date(e,t,n).valueOf()}function kG(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-EG:Date.UTC(e,t,n)}function VSe(e){var t,n;if(e=qs(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?kG:TG,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Im(t+(this._isUTC?0:this.utcOffset()*Mm),cS);break;case"minute":t=this._d.valueOf(),t-=Im(t,Mm);break;case"second":t=this._d.valueOf(),t-=Im(t,lS);break}return this._d.setTime(t),Mt.updateOffset(this,!0),this}function WSe(e){var t,n;if(e=qs(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?kG:TG,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=cS-Im(t+(this._isUTC?0:this.utcOffset()*Mm),cS)-1;break;case"minute":t=this._d.valueOf(),t+=Mm-Im(t,Mm)-1;break;case"second":t=this._d.valueOf(),t+=lS-Im(t,lS)-1;break}return this._d.setTime(t),Mt.updateOffset(this,!0),this}function qSe(){return this._d.valueOf()-(this._offset||0)*6e4}function GSe(){return Math.floor(this.valueOf()/1e3)}function HSe(){return new Date(this.valueOf())}function YSe(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function KSe(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function ZSe(){return this.isValid()?this.toISOString():null}function XSe(){return iD(this)}function JSe(){return fd({},An(this))}function QSe(){return An(this).overflow}function e2e(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}an("N",0,0,"eraAbbr");an("NN",0,0,"eraAbbr");an("NNN",0,0,"eraAbbr");an("NNNN",0,0,"eraName");an("NNNNN",0,0,"eraNarrow");an("y",["y",1],"yo","eraYear");an("y",["yy",2],0,"eraYear");an("y",["yyy",3],0,"eraYear");an("y",["yyyy",4],0,"eraYear");Ft("N",xD);Ft("NN",xD);Ft("NNN",xD);Ft("NNNN",d2e);Ft("NNNNN",f2e);Er(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?An(n).era=i:An(n).invalidEra=e});Ft("y",Ug);Ft("yy",Ug);Ft("yyy",Ug);Ft("yyyy",Ug);Ft("yo",h2e);Er(["y","yy","yyy","yyyy"],zo);Er(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[zo]=n._locale.eraYearOrdinalParse(e,i):t[zo]=parseInt(e,10)});function t2e(e,t){var n,r,i,o=this._eras||vu("en")._eras;for(n=0,r=o.length;n<r;++n){switch(typeof o[n].since){case"string":i=Mt(o[n].since).startOf("day"),o[n].since=i.valueOf();break}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":i=Mt(o[n].until).startOf("day").valueOf(),o[n].until=i.valueOf();break}}return o}function n2e(e,t,n){var r,i,o=this.eras(),s,a,f;for(e=e.toUpperCase(),r=0,i=o.length;r<i;++r)if(s=o[r].name.toUpperCase(),a=o[r].abbr.toUpperCase(),f=o[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return o[r];break;case"NNNN":if(s===e)return o[r];break;case"NNNNN":if(f===e)return o[r];break}else if([s,a,f].indexOf(e)>=0)return o[r]}function r2e(e,t){var n=e.since<=e.until?1:-1;return t===void 0?Mt(e.since).year():Mt(e.since).year()+(t-e.offset)*n}function i2e(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function o2e(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function a2e(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function s2e(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-Mt(i[e].since).year())*n+i[e].offset;return this.year()}function l2e(e){return Qn(this,"_erasNameRegex")||_D.call(this),e?this._erasNameRegex:this._erasRegex}function c2e(e){return Qn(this,"_erasAbbrRegex")||_D.call(this),e?this._erasAbbrRegex:this._erasRegex}function u2e(e){return Qn(this,"_erasNarrowRegex")||_D.call(this),e?this._erasNarrowRegex:this._erasRegex}function xD(e,t){return t.erasAbbrRegex(e)}function d2e(e,t){return t.erasNameRegex(e)}function f2e(e,t){return t.erasNarrowRegex(e)}function h2e(e,t){return t._eraYearOrdinalRegex||Ug}function _D(){var e=[],t=[],n=[],r=[],i,o,s=this.eras();for(i=0,o=s.length;i<o;++i)t.push(Va(s[i].name)),e.push(Va(s[i].abbr)),n.push(Va(s[i].narrow)),r.push(Va(s[i].name)),r.push(Va(s[i].abbr)),r.push(Va(s[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}an(0,["gg",2],0,function(){return this.weekYear()%100});an(0,["GG",2],0,function(){return this.isoWeekYear()%100});function XC(e,t){an(0,[e,e.length],0,t)}XC("gggg","weekYear");XC("ggggg","weekYear");XC("GGGG","isoWeekYear");XC("GGGGG","isoWeekYear");Bo("weekYear","gg");Bo("isoWeekYear","GG");Fo("weekYear",1);Fo("isoWeekYear",1);Ft("G",GC);Ft("g",GC);Ft("GG",Ur,is);Ft("gg",Ur,is);Ft("GGGG",uD,cD);Ft("gggg",uD,cD);Ft("GGGGG",qC,VC);Ft("ggggg",qC,VC);wx(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=jn(e)});wx(["gg","GG"],function(e,t,n,r){t[r]=Mt.parseTwoDigitYear(e)});function p2e(e){return PG.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function m2e(e){return PG.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function g2e(){return Xc(this.year(),1,4)}function y2e(){return Xc(this.isoWeekYear(),1,4)}function v2e(){var e=this.localeData()._week;return Xc(this.year(),e.dow,e.doy)}function b2e(){var e=this.localeData()._week;return Xc(this.weekYear(),e.dow,e.doy)}function PG(e,t,n,r,i){var o;return e==null?hb(this,r,i).year:(o=Xc(e,r,i),t>o&&(t=o),x2e.call(this,e,t,n,r,i))}function x2e(e,t,n,r,i){var o=sG(e,t,n,r,i),s=fb(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}an("Q",0,"Qo","quarter");Bo("quarter","Q");Fo("quarter",7);Ft("Q",Xq);Er("Q",function(e,t){t[Wc]=(jn(e)-1)*3});function _2e(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}an("D",["DD",2],"Do","date");Bo("date","D");Fo("date",9);Ft("D",Ur);Ft("DD",Ur,is);Ft("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Er(["D","DD"],Kl);Er("Do",function(e,t){t[Kl]=jn(e.match(Ur)[0])});var OG=Fg("Date",!0);an("DDD",["DDDD",3],"DDDo","dayOfYear");Bo("dayOfYear","DDD");Fo("dayOfYear",4);Ft("DDD",WC);Ft("DDDD",Jq);Er(["DDD","DDDD"],function(e,t,n){n._dayOfYear=jn(e)});function w2e(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}an("m",["mm",2],0,"minute");Bo("minute","m");Fo("minute",14);Ft("m",Ur);Ft("mm",Ur,is);Er(["m","mm"],gl);var S2e=Fg("Minutes",!1);an("s",["ss",2],0,"second");Bo("second","s");Fo("second",15);Ft("s",Ur);Ft("ss",Ur,is);Er(["s","ss"],qc);var C2e=Fg("Seconds",!1);an("S",0,0,function(){return~~(this.millisecond()/100)});an(0,["SS",2],0,function(){return~~(this.millisecond()/10)});an(0,["SSS",3],0,"millisecond");an(0,["SSSS",4],0,function(){return this.millisecond()*10});an(0,["SSSSS",5],0,function(){return this.millisecond()*100});an(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});an(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});an(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});an(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Bo("millisecond","ms");Fo("millisecond",16);Ft("S",WC,Xq);Ft("SS",WC,is);Ft("SSS",WC,Jq);var hd,AG;for(hd="SSSS";hd.length<=9;hd+="S")Ft(hd,Ug);function E2e(e,t){t[Gf]=jn(("0."+e)*1e3)}for(hd="S";hd.length<=9;hd+="S")Er(hd,E2e);AG=Fg("Milliseconds",!1);an("z",0,0,"zoneAbbr");an("zz",0,0,"zoneName");function T2e(){return this._isUTC?"UTC":""}function k2e(){return this._isUTC?"Coordinated Universal Time":""}var gt=xx.prototype;gt.add=bSe;gt.calendar=TSe;gt.clone=kSe;gt.diff=RSe;gt.endOf=WSe;gt.format=zSe;gt.from=jSe;gt.fromNow=BSe;gt.to=FSe;gt.toNow=USe;gt.get=O1e;gt.invalidAt=QSe;gt.isAfter=PSe;gt.isBefore=OSe;gt.isBetween=ASe;gt.isSame=MSe;gt.isSameOrAfter=ISe;gt.isSameOrBefore=$Se;gt.isValid=XSe;gt.lang=SG;gt.locale=wG;gt.localeData=CG;gt.max=Xwe;gt.min=Zwe;gt.parsingFlags=JSe;gt.set=A1e;gt.startOf=VSe;gt.subtract=xSe;gt.toArray=YSe;gt.toObject=KSe;gt.toDate=HSe;gt.toISOString=LSe;gt.inspect=NSe;typeof Symbol<"u"&&Symbol.for!=null&&(gt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});gt.toJSON=ZSe;gt.toString=DSe;gt.unix=GSe;gt.valueOf=qSe;gt.creationData=e2e;gt.eraName=i2e;gt.eraNarrow=o2e;gt.eraAbbr=a2e;gt.eraYear=s2e;gt.year=aG;gt.isLeapYear=K1e;gt.weekYear=p2e;gt.isoWeekYear=m2e;gt.quarter=gt.quarters=_2e;gt.month=iG;gt.daysInMonth=G1e;gt.week=gt.weeks=twe;gt.isoWeek=gt.isoWeeks=nwe;gt.weeksInYear=v2e;gt.weeksInWeekYear=b2e;gt.isoWeeksInYear=g2e;gt.isoWeeksInISOWeekYear=y2e;gt.date=OG;gt.day=gt.days=mwe;gt.weekday=gwe;gt.isoWeekday=ywe;gt.dayOfYear=w2e;gt.hour=gt.hours=Cwe;gt.minute=gt.minutes=S2e;gt.second=gt.seconds=C2e;gt.millisecond=gt.milliseconds=AG;gt.utcOffset=aSe;gt.utc=lSe;gt.local=cSe;gt.parseZone=uSe;gt.hasAlignedHourOffset=dSe;gt.isDST=fSe;gt.isLocal=pSe;gt.isUtcOffset=mSe;gt.isUtc=vG;gt.isUTC=vG;gt.zoneAbbr=T2e;gt.zoneName=k2e;gt.dates=Ws("dates accessor is deprecated. Use date instead.",OG);gt.months=Ws("months accessor is deprecated. Use month instead",iG);gt.years=Ws("years accessor is deprecated. Use year instead",aG);gt.zone=Ws("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",sSe);gt.isDSTShifted=Ws("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",hSe);function P2e(e){return Fr(e*1e3)}function O2e(){return Fr.apply(null,arguments).parseZone()}function MG(e){return e}var nr=aD.prototype;nr.calendar=m1e;nr.longDateFormat=b1e;nr.invalidDate=_1e;nr.ordinal=C1e;nr.preparse=MG;nr.postformat=MG;nr.relativeTime=T1e;nr.pastFuture=k1e;nr.set=h1e;nr.eras=t2e;nr.erasParse=n2e;nr.erasConvertYear=r2e;nr.erasAbbrRegex=c2e;nr.erasNameRegex=l2e;nr.erasNarrowRegex=u2e;nr.months=U1e;nr.monthsShort=V1e;nr.monthsParse=q1e;nr.monthsRegex=Y1e;nr.monthsShortRegex=H1e;nr.week=X1e;nr.firstDayOfYear=ewe;nr.firstDayOfWeek=Q1e;nr.weekdays=uwe;nr.weekdaysMin=fwe;nr.weekdaysShort=dwe;nr.weekdaysParse=pwe;nr.weekdaysRegex=vwe;nr.weekdaysShortRegex=bwe;nr.weekdaysMinRegex=xwe;nr.isPM=wwe;nr.meridiem=Ewe;function uS(e,t,n,r){var i=vu(),o=fc().set(r,t);return i[n](o,e)}function IG(e,t,n){if(cu(e)&&(t=e,e=void 0),e=e||"",t!=null)return uS(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=uS(e,r,n,"month");return i}function wD(e,t,n,r){typeof e=="boolean"?(cu(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,cu(t)&&(n=t,t=void 0),t=t||"");var i=vu(),o=e?i._week.dow:0,s,a=[];if(n!=null)return uS(t,(n+o)%7,r,"day");for(s=0;s<7;s++)a[s]=uS(t,(s+o)%7,r,"day");return a}function A2e(e,t){return IG(e,t,"months")}function M2e(e,t){return IG(e,t,"monthsShort")}function I2e(e,t,n){return wD(e,t,n,"weekdays")}function $2e(e,t,n){return wD(e,t,n,"weekdaysShort")}function R2e(e,t,n){return wD(e,t,n,"weekdaysMin")}kd("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=jn(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});Mt.lang=Ws("moment.lang is deprecated. Use moment.locale instead.",kd);Mt.langData=Ws("moment.langData is deprecated. Use moment.localeData instead.",vu);var Ac=Math.abs;function D2e(){var e=this._data;return this._milliseconds=Ac(this._milliseconds),this._days=Ac(this._days),this._months=Ac(this._months),e.milliseconds=Ac(e.milliseconds),e.seconds=Ac(e.seconds),e.minutes=Ac(e.minutes),e.hours=Ac(e.hours),e.months=Ac(e.months),e.years=Ac(e.years),this}function $G(e,t,n,r){var i=Tl(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function L2e(e,t){return $G(this,e,t,1)}function N2e(e,t){return $G(this,e,t,-1)}function kB(e){return e<0?Math.floor(e):Math.ceil(e)}function z2e(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,o,s,a,f;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=kB(ZA(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,i=Cs(e/1e3),r.seconds=i%60,o=Cs(i/60),r.minutes=o%60,s=Cs(o/60),r.hours=s%24,t+=Cs(s/24),f=Cs(RG(t)),n+=f,t-=kB(ZA(f)),a=Cs(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function RG(e){return e*4800/146097}function ZA(e){return e*146097/4800}function j2e(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=qs(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+RG(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(ZA(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function B2e(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+jn(this._months/12)*31536e6:NaN}function bu(e){return function(){return this.as(e)}}var F2e=bu("ms"),U2e=bu("s"),V2e=bu("m"),W2e=bu("h"),q2e=bu("d"),G2e=bu("w"),H2e=bu("M"),Y2e=bu("Q"),K2e=bu("y");function Z2e(){return Tl(this)}function X2e(e){return e=qs(e),this.isValid()?this[e+"s"]():NaN}function Mh(e){return function(){return this.isValid()?this._data[e]:NaN}}var J2e=Mh("milliseconds"),Q2e=Mh("seconds"),eCe=Mh("minutes"),tCe=Mh("hours"),nCe=Mh("days"),rCe=Mh("months"),iCe=Mh("years");function oCe(){return Cs(this.days()/7)}var Rc=Math.round,dm={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function aCe(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function sCe(e,t,n,r){var i=Tl(e).abs(),o=Rc(i.as("s")),s=Rc(i.as("m")),a=Rc(i.as("h")),f=Rc(i.as("d")),h=Rc(i.as("M")),g=Rc(i.as("w")),y=Rc(i.as("y")),x=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||f<=1&&["d"]||f<n.d&&["dd",f];return n.w!=null&&(x=x||g<=1&&["w"]||g<n.w&&["ww",g]),x=x||h<=1&&["M"]||h<n.M&&["MM",h]||y<=1&&["y"]||["yy",y],x[2]=t,x[3]=+e>0,x[4]=r,aCe.apply(null,x)}function lCe(e){return e===void 0?Rc:typeof e=="function"?(Rc=e,!0):!1}function cCe(e,t){return dm[e]===void 0?!1:t===void 0?dm[e]:(dm[e]=t,e==="s"&&(dm.ss=t-1),!0)}function uCe(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=dm,i,o;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},dm,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),i=this.localeData(),o=sCe(this,!n,r,i),n&&(o=i.pastFuture(+this,o)),i.postformat(o)}var wP=Math.abs;function Lp(e){return(e>0)-(e<0)||+e}function JC(){if(!this.isValid())return this.localeData().invalidDate();var e=wP(this._milliseconds)/1e3,t=wP(this._days),n=wP(this._months),r,i,o,s,a=this.asSeconds(),f,h,g,y;return a?(r=Cs(e/60),i=Cs(r/60),e%=60,r%=60,o=Cs(n/12),n%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",f=a<0?"-":"",h=Lp(this._months)!==Lp(a)?"-":"",g=Lp(this._days)!==Lp(a)?"-":"",y=Lp(this._milliseconds)!==Lp(a)?"-":"",f+"P"+(o?h+o+"Y":"")+(n?h+n+"M":"")+(t?g+t+"D":"")+(i||r||e?"T":"")+(i?y+i+"H":"")+(r?y+r+"M":"")+(e?y+s+"S":"")):"P0D"}var Gn=ZC.prototype;Gn.isValid=nSe;Gn.abs=D2e;Gn.add=L2e;Gn.subtract=N2e;Gn.as=j2e;Gn.asMilliseconds=F2e;Gn.asSeconds=U2e;Gn.asMinutes=V2e;Gn.asHours=W2e;Gn.asDays=q2e;Gn.asWeeks=G2e;Gn.asMonths=H2e;Gn.asQuarters=Y2e;Gn.asYears=K2e;Gn.valueOf=B2e;Gn._bubble=z2e;Gn.clone=Z2e;Gn.get=X2e;Gn.milliseconds=J2e;Gn.seconds=Q2e;Gn.minutes=eCe;Gn.hours=tCe;Gn.days=nCe;Gn.weeks=oCe;Gn.months=rCe;Gn.years=iCe;Gn.humanize=uCe;Gn.toISOString=JC;Gn.toString=JC;Gn.toJSON=JC;Gn.locale=wG;Gn.localeData=CG;Gn.toIsoString=Ws("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",JC);Gn.lang=SG;an("X",0,0,"unix");an("x",0,0,"valueOf");Ft("x",GC);Ft("X",I1e);Er("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Er("x",function(e,t,n){n._d=new Date(jn(e))});//! moment.js
Mt.version="2.29.4";d1e(Fr);Mt.fn=gt;Mt.min=Jwe;Mt.max=Qwe;Mt.now=eSe;Mt.utc=fc;Mt.unix=P2e;Mt.months=A2e;Mt.isDate=bx;Mt.locale=kd;Mt.invalid=FC;Mt.duration=Tl;Mt.isMoment=Sl;Mt.weekdays=I2e;Mt.parseZone=O2e;Mt.localeData=vu;Mt.isDuration=tw;Mt.monthsShort=M2e;Mt.weekdaysMin=R2e;Mt.defineLocale=pD;Mt.updateLocale=Owe;Mt.locales=Awe;Mt.weekdaysShort=$2e;Mt.normalizeUnits=qs;Mt.relativeTimeRounding=lCe;Mt.relativeTimeThreshold=cCe;Mt.calendarFormat=ESe;Mt.prototype=gt;Mt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const dCe=e=>{switch(e){case"kmh":return 1.852;case"mph":return 1.15078;case"kn":default:return 1}},fCe=e=>{switch(e){case"kmh":return"Km/h";case"mph":return"sharedMph";case"kn":default:return"Km/h"}},hCe=(e,t)=>e*dCe(t),pCe=e=>{switch(e){case"mi":return 621371e-9;case"nmi":return 539957e-9;case"km":default:return .001}},mCe=e=>{switch(e){case"mi":return"Mi";case"nmi":return"Nmi";case"km":default:return"Km"}},gCe=(e,t)=>e*pCe(t),yCe=e=>{switch(e){case"ft":return 3.28084;case"m":default:return 1}},vCe=e=>{switch(e){case"ft":return"sharedFeet";case"m":default:return"sharedMeters"}},bCe=(e,t)=>e*yCe(t),DG=(e,t)=>e+t.charAt(0).toUpperCase()+t.slice(1),LG=e=>e?"sharedYes":"sharedNo",xCe=(e,t=1)=>Number(e.toFixed(t)),NG=e=>`${e}%`,zG=(e,t,n)=>{if(e){const r=Mt(e);switch(t){case"date":return r.format("YYYY-MM-DD");case"time":return r.format(n?"hh:mm:ss A":"HH:mm:ss");case"minutes":return r.format(n?"YYYY-MM-DD hh:mm A":"YYYY-MM-DD HH:mm");default:return r.format(n?"YYYY-MM-DD hh:mm:ss A":"YYYY-MM-DD HH:mm:ss")}}return""},jG=e=>e?DG("alarm_",e):"",_Ce=e=>{const t=["","","","","","","",""];let n=(e+22.5)%360;return n<0&&(n+=360),e.toFixed()+t[Math.floor(n/45)]},wCe=(e,t,n)=>`${gCe(e,t).toFixed(2)} ${mCe(t)}`,SCe=(e,t,n)=>`${bCe(e,t).toFixed(2)} ${vCe(t)}`,CCe=(e,t,n)=>`${hCe(e,t).toFixed(2)} ${fCe(t)}`,ECe=(e,t)=>{const n=Math.floor(e/36e5),r=Math.floor(e%36e5/6e4);return`${n} ${t("sharedHourAbbreviation")} ${r} ${t("sharedMinuteAbbreviation")}`},PB=(e,t,n)=>{let r,i,o,s;switch(e==="latitude"?r=t>=0?"N":"S":r=t>=0?"E":"W",n){case"ddm":return t=Math.abs(t),i=Math.floor(t),o=(t-i)*60,`${i} ${o.toFixed(6)}' ${r}`;case"dms":return t=Math.abs(t),i=Math.floor(t),o=Math.floor((t-i)*60),s=Math.round((t-i-o/60)*3600),`${i} ${o}' ${s}" ${r}`;default:return`${t.toFixed(6)}`}},BG=e=>{switch(e){case"online":return"positive";case"offline":return"negative";case"unknown":default:return"neutral"}},SD=({positions:e,onClick:t,showStatus:n,selectedPosition:r,titleField:i})=>{const o=V.useId(),s=`${o}-clusters`,a=`${o}-direction`,f=`${o}-mission`,h=Ln(L=>L.devices.items),g=Ln(L=>L.mission.route),y=1,x=!0,P=!1,O="all",S=(L,N,F)=>{const G=L[N.deviceId];let J;switch(O){case"none":J=!1;break;case"all":J=!0;break;default:J=F===N.id;break}let ee=g.find(pe=>pe.uav==G.name),ae=ee?ee.id:null;return{id:N.id,deviceId:N.deviceId,name:G.name,fixTime:zG(N.fixTime,"seconds",P),category:zw(G.category),color:n?BG(G.status):"neutral",rotation:N.course,direction:J,mission:!!ee,missionColor:ae}},A=()=>Ge.getCanvas().style.cursor="pointer",I=()=>Ge.getCanvas().style.cursor="",M=V.useCallback(L=>{!L.defaultPrevented&&t&&t()},[t]),k=V.useCallback(L=>{L.preventDefault();const N=L.features[0];t&&t(N.properties.id,N.properties.deviceId)},[t]),$=V.useCallback(L=>{L.preventDefault();const N=Ge.queryRenderedFeatures(L.point,{layers:[s]}),F=N[0].properties.cluster_id;Ge.getSource(o).getClusterExpansionZoom(F,(G,J)=>{G||Ge.easeTo({center:N[0].geometry.coordinates,zoom:J})})},[s]);return V.useEffect(()=>(Ge.addSource(o,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:x,clusterMaxZoom:14,clusterRadius:50}),Ge.addLayer({id:o,type:"symbol",source:o,filter:["!has","point_count"],layout:{"icon-image":"{category}-{color}","icon-size":y,"icon-allow-overlap":!0,"text-field":`{${i||"name"}}`,"text-allow-overlap":!0,"text-anchor":"bottom","text-offset":[0,-2*y],"text-font":Zc(Ge),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),Ge.addLayer({id:s,type:"symbol",source:o,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":y,"text-field":"{point_count_abbreviated}","text-font":Zc(Ge),"text-size":14}}),Ge.addLayer({id:a,type:"symbol",source:o,filter:["all",["!has","point_count"],["==","direction",!0]],layout:{"icon-image":"direction","icon-size":y,"icon-allow-overlap":!0,"icon-rotate":["get","rotation"],"icon-rotation-alignment":"map"}}),Ge.addLayer({id:f,type:"symbol",source:o,filter:["all",["!has","point_count"],["==","mission",!0]],layout:{"icon-image":"mission-{missionColor}","icon-size":y}}),Ge.on("mouseenter",o,A),Ge.on("mouseleave",o,I),Ge.on("mouseenter",s,A),Ge.on("mouseleave",s,I),Ge.on("click",o,k),Ge.on("click",s,$),Ge.on("click",M),()=>{Ge.off("mouseenter",o,A),Ge.off("mouseleave",o,I),Ge.off("mouseenter",s,A),Ge.off("mouseleave",s,I),Ge.off("click",o,k),Ge.off("click",s,$),Ge.off("click",M),Ge.getLayer(o)&&Ge.removeLayer(o),Ge.getLayer(s)&&Ge.removeLayer(s),Ge.getLayer(a)&&Ge.removeLayer(a),Ge.getLayer(f)&&Ge.removeLayer(f),Ge.getSource(o)&&Ge.removeSource(o)}),[x,s,a,f,k,$]),V.useEffect(()=>{Ge.getSource(o).setData({type:"FeatureCollection",features:e.filter(L=>h.hasOwnProperty(L.deviceId)).map(L=>({type:"Feature",geometry:{type:"Point",coordinates:[L.longitude,L.latitude]},properties:S(h,L,r&&r.id)}))})},[h,e,r]),null},FG=()=>{const e=V.useId(),t=`${e}-points`,n=`${e}-points-clusters`,r=Ln(g=>g.mission.route),i=!0,o=.6,s=(g,y)=>({id:y.id,name:g[y.routeid].name,uav:g[y.routeid].uav,latitude:g[y.routeid].wp[y.id].pos[0],longitude:g[y.routeid].wp[y.id].pos[1],altitud:g[y.routeid].wp[y.id].pos[2],yaw:g[y.routeid].wp[y.id].yaw,speed:g[y.routeid].wp[y.id].speed,gimbal:g[y.routeid].wp[y.id].gimbal,actions:g[y.routeid].wp[y.id].action,attributes:g[y.routeid].attributes,category:"default",color:g[y.routeid].id});function a(g){console.log("target"),console.log(g);let y=`<div style="color: #FF7A59;text-align: center" ><b>UAV: ${g.features[0].properties.uav}</b>
    <span><a href="https://www.google.com/maps?q=${g.features[0].properties.latitude},${g.features[0].properties.longitude}" target="_blank">
    Point_${g.features[0].properties.id}</a></span></div>
        <div><span>Route: ${g.features[0].properties.name}</span></div>
        <div style="display:inline"><span> Height: </span><span>${g.features[0].properties.altitud.toFixed(1)}m </span></div>`;y=g.features[0].properties.hasOwnProperty("speed")?y+`<div style="display:inline"><span>Speed: </span><span>${g.features[0].properties.speed} m/s </span></div>`:y,y=g.features[0].properties.hasOwnProperty("yaw")?y+`<div style="display:inline"><span>Yaw: </span><span>${g.features[0].properties.yaw} </span></div>`:y,y=g.features[0].properties.hasOwnProperty("gimbal")?y+`<div style="display:inline"><span>Gimbal: </span><span>${g.features[0].properties.gimbal} </span></div>`:y;let x="<div><b> Waypoint actions: </b></div>";if(g.features[0].properties.actions){let S=JSON.parse(g.features[0].properties.actions);x=x+Object.keys(S).map(A=>{let I=A=="idle_vel"?"m/s":"";return`<div style="display:inline"><span>${A}: </span><span>${S[A]} ${I} </span></div>`}).join("")}let P="<div><b> Attributes_mission: </b></div>",O=JSON.parse(g.features[0].properties.attributes);P=P+Object.keys(O).map(S=>{let A=S=="idle_vel"||S=="max_vel"?"m/s":"";return`<div style="display:inline"><span>${S}: </span><span>${O[S]} ${A} </span></div>`}).join(""),new EC.Popup().setLngLat(g.lngLat).setHTML(y+x+P).addTo(Ge)}V.useEffect(()=>(Ge.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:i,clusterMaxZoom:10,clusterRadius:50}),Ge.addSource(e,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),Ge.addLayer({source:e,id:"mission-line",type:"line",paint:{"line-color":["get","color"],"line-width":2}}),Ge.addLayer({source:e,id:"mission-title",type:"symbol",layout:{"text-field":"{name}","text-font":Zc(Ge),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),Ge.addLayer({id:"mission-points",type:"symbol",source:t,filter:["!has","point_count"],layout:{"icon-image":"background-{color}","icon-size":o,"icon-allow-overlap":!0,"text-allow-overlap":!0,"text-field":"{id}","text-font":Zc(Ge),"text-size":14},paint:{"text-color":"white"}}),Ge.addLayer({id:n,type:"symbol",source:t,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":o,"text-field":"M","text-font":Zc(Ge),"text-size":14}}),Ge.on("click","mission-points",a),Ge.on("mouseenter","mission-points",()=>{Ge.getCanvas().style.cursor="pointer"}),Ge.on("mouseleave","mission-points",()=>{Ge.getCanvas().style.cursor=""}),()=>{Ge.getLayer("mission-line")&&Ge.removeLayer("mission-line"),Ge.getLayer("mission-title")&&Ge.removeLayer("mission-title"),Ge.getLayer("mission-points")&&Ge.removeLayer("mission-points"),Ge.getLayer(n)&&Ge.removeLayer(n),Ge.getSource(e)&&Ge.removeSource(e),Ge.getSource(t)&&Ge.removeSource(t)}),[]);function f(g){let y=g.wp.map(function(x){return[x.pos[1],x.pos[0]]});return{id:g.id,type:"Feature",geometry:{type:"LineString",coordinates:y},properties:{name:g.uav,color:mh.colors_devices[g.id]}}}function h(g){let y=[];return g.forEach((x,P)=>{x.wp.forEach((O,S)=>{y.push({longitude:O.pos[1],latitude:O.pos[0],id:S,routeid:P})})}),y}return V.useEffect(()=>{let g=h(r);Ge.getSource(t).setData({type:"FeatureCollection",features:g.map(y=>({type:"Feature",geometry:{type:"Point",coordinates:[y.longitude,y.latitude]},properties:s(r,y)}))}),Ge.getSource(e).setData({type:"FeatureCollection",features:r.map(y=>f(y))})},[r]),null},UG=({markers:e,showTitles:t})=>{const n=V.useId();y7();const r=.4;return V.useEffect(()=>(Ge.addSource(n,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),t?Ge.addLayer({id:n,type:"symbol",source:n,filter:["!has","point_count"],layout:{"icon-image":"{image}","icon-size":r,"icon-allow-overlap":!0,"text-field":"{title}","text-allow-overlap":!0,"text-anchor":"bottom","text-offset":[0,-2*r],"text-font":Zc(Ge),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}):Ge.addLayer({id:n,type:"symbol",source:n,layout:{"icon-image":"{image}","icon-size":r,"icon-allow-overlap":!0}}),()=>{Ge.getLayer(n)&&Ge.removeLayer(n),Ge.getSource(n)&&Ge.removeSource(n)}),[t]),V.useEffect(()=>{var i;(i=Ge.getSource(n))==null||i.setData({type:"FeatureCollection",features:e.map(({latitude:o,longitude:s,image:a,title:f})=>({type:"Feature",geometry:{type:"Point",coordinates:[s,o]},properties:{image:a||"default-neutral",title:f||""}}))})},[t,e]),null},TCe=e=>{const t=V.useRef();return V.useEffect(()=>{t.current=e}),t.current},VG=()=>{const e=Ln(o=>o.devices.selectedId),t=TCe(e),n=10,r=!1,i=Ln(o=>o.data.positions[e]);return V.useEffect(()=>{(e!==t||r)&&i&&i.hasOwnProperty("latitude")&&Ge.easeTo({center:[i.longitude,i.latitude],zoom:Math.max(Ge.getZoom(),n),offset:[0,-300/2]})}),null};var OB=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function kCe(e,t){return!!(e===t||OB(e)&&OB(t))}function PCe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!kCe(e[n],t[n]))return!1;return!0}function SP(e,t){t===void 0&&(t=PCe);var n,r=[],i,o=!1;function s(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];return o&&n===this&&t(a,r)||(i=e.apply(this,a),o=!0,n=this,r=a),i}return s}var OCe=typeof performance=="object"&&typeof performance.now=="function",AB=OCe?function(){return performance.now()}:function(){return Date.now()};function MB(e){cancelAnimationFrame(e.id)}function ACe(e,t){var n=AB();function r(){AB()-n>=t?e.call(null):i.id=requestAnimationFrame(r)}var i={id:requestAnimationFrame(r)};return i}var CP=-1;function IB(e){if(e===void 0&&(e=!1),CP===-1||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),CP=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return CP}var Np=null;function $B(e){if(e===void 0&&(e=!1),Np===null||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?Np="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?Np="negative":Np="positive-ascending"),document.body.removeChild(t),Np}return Np}var MCe=150,ICe=function(t,n){return t};function $Ce(e){var t,n=e.getItemOffset,r=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,s=e.getStartIndexForOffset,a=e.getStopIndexForStartIndex,f=e.initInstanceProps,h=e.shouldResetStyleCacheOnItemSizeChange,g=e.validateProps;return t=function(y){ax(x,y);function x(O){var S;return S=y.call(this,O)||this,S._instanceProps=f(S.props,ib(S)),S._outerRef=void 0,S._resetIsScrollingTimeoutId=null,S.state={instance:ib(S),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof S.props.initialScrollOffset=="number"?S.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},S._callOnItemsRendered=void 0,S._callOnItemsRendered=SP(function(A,I,M,k){return S.props.onItemsRendered({overscanStartIndex:A,overscanStopIndex:I,visibleStartIndex:M,visibleStopIndex:k})}),S._callOnScroll=void 0,S._callOnScroll=SP(function(A,I,M){return S.props.onScroll({scrollDirection:A,scrollOffset:I,scrollUpdateWasRequested:M})}),S._getItemStyle=void 0,S._getItemStyle=function(A){var I=S.props,M=I.direction,k=I.itemSize,$=I.layout,L=S._getItemStyleCache(h&&k,h&&$,h&&M),N;if(L.hasOwnProperty(A))N=L[A];else{var F=n(S.props,A,S._instanceProps),G=i(S.props,A,S._instanceProps),J=M==="horizontal"||$==="horizontal",ee=M==="rtl",ae=J?F:0;L[A]=N={position:"absolute",left:ee?void 0:ae,right:ee?ae:void 0,top:J?0:F,height:J?"100%":G,width:J?G:"100%"}}return N},S._getItemStyleCache=void 0,S._getItemStyleCache=SP(function(A,I,M){return{}}),S._onScrollHorizontal=function(A){var I=A.currentTarget,M=I.clientWidth,k=I.scrollLeft,$=I.scrollWidth;S.setState(function(L){if(L.scrollOffset===k)return null;var N=S.props.direction,F=k;if(N==="rtl")switch($B()){case"negative":F=-k;break;case"positive-descending":F=$-M-k;break}return F=Math.max(0,Math.min(F,$-M)),{isScrolling:!0,scrollDirection:L.scrollOffset<k?"forward":"backward",scrollOffset:F,scrollUpdateWasRequested:!1}},S._resetIsScrollingDebounced)},S._onScrollVertical=function(A){var I=A.currentTarget,M=I.clientHeight,k=I.scrollHeight,$=I.scrollTop;S.setState(function(L){if(L.scrollOffset===$)return null;var N=Math.max(0,Math.min($,k-M));return{isScrolling:!0,scrollDirection:L.scrollOffset<N?"forward":"backward",scrollOffset:N,scrollUpdateWasRequested:!1}},S._resetIsScrollingDebounced)},S._outerRefSetter=function(A){var I=S.props.outerRef;S._outerRef=A,typeof I=="function"?I(A):I!=null&&typeof I=="object"&&I.hasOwnProperty("current")&&(I.current=A)},S._resetIsScrollingDebounced=function(){S._resetIsScrollingTimeoutId!==null&&MB(S._resetIsScrollingTimeoutId),S._resetIsScrollingTimeoutId=ACe(S._resetIsScrolling,MCe)},S._resetIsScrolling=function(){S._resetIsScrollingTimeoutId=null,S.setState({isScrolling:!1},function(){S._getItemStyleCache(-1,null)})},S}x.getDerivedStateFromProps=function(S,A){return RCe(S,A),g(S),null};var P=x.prototype;return P.scrollTo=function(S){S=Math.max(0,S),this.setState(function(A){return A.scrollOffset===S?null:{scrollDirection:A.scrollOffset<S?"forward":"backward",scrollOffset:S,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},P.scrollToItem=function(S,A){A===void 0&&(A="auto");var I=this.props,M=I.itemCount,k=I.layout,$=this.state.scrollOffset;S=Math.max(0,Math.min(S,M-1));var L=0;if(this._outerRef){var N=this._outerRef;k==="vertical"?L=N.scrollWidth>N.clientWidth?IB():0:L=N.scrollHeight>N.clientHeight?IB():0}this.scrollTo(o(this.props,S,A,$,this._instanceProps,L))},P.componentDidMount=function(){var S=this.props,A=S.direction,I=S.initialScrollOffset,M=S.layout;if(typeof I=="number"&&this._outerRef!=null){var k=this._outerRef;A==="horizontal"||M==="horizontal"?k.scrollLeft=I:k.scrollTop=I}this._callPropsCallbacks()},P.componentDidUpdate=function(){var S=this.props,A=S.direction,I=S.layout,M=this.state,k=M.scrollOffset,$=M.scrollUpdateWasRequested;if($&&this._outerRef!=null){var L=this._outerRef;if(A==="horizontal"||I==="horizontal")if(A==="rtl")switch($B()){case"negative":L.scrollLeft=-k;break;case"positive-ascending":L.scrollLeft=k;break;default:var N=L.clientWidth,F=L.scrollWidth;L.scrollLeft=F-N-k;break}else L.scrollLeft=k;else L.scrollTop=k}this._callPropsCallbacks()},P.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&MB(this._resetIsScrollingTimeoutId)},P.render=function(){var S=this.props,A=S.children,I=S.className,M=S.direction,k=S.height,$=S.innerRef,L=S.innerElementType,N=S.innerTagName,F=S.itemCount,G=S.itemData,J=S.itemKey,ee=J===void 0?ICe:J,ae=S.layout,pe=S.outerElementType,ye=S.outerTagName,we=S.style,Ce=S.useIsScrolling,Oe=S.width,Ee=this.state.isScrolling,Se=M==="horizontal"||ae==="horizontal",De=Se?this._onScrollHorizontal:this._onScrollVertical,We=this._getRangeToRender(),dt=We[0],ht=We[1],Je=[];if(F>0)for(var it=dt;it<=ht;it++)Je.push(V.createElement(A,{data:G,key:ee(it,G),index:it,isScrolling:Ce?Ee:void 0,style:this._getItemStyle(it)}));var Ot=r(this.props,this._instanceProps);return V.createElement(pe||ye||"div",{className:I,onScroll:De,ref:this._outerRefSetter,style:te({position:"relative",height:k,width:Oe,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:M},we)},V.createElement(L||N||"div",{children:Je,ref:$,style:{height:Se?"100%":Ot,pointerEvents:Ee?"none":void 0,width:Se?Ot:"100%"}}))},P._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var S=this.props.itemCount;if(S>0){var A=this._getRangeToRender(),I=A[0],M=A[1],k=A[2],$=A[3];this._callOnItemsRendered(I,M,k,$)}}if(typeof this.props.onScroll=="function"){var L=this.state,N=L.scrollDirection,F=L.scrollOffset,G=L.scrollUpdateWasRequested;this._callOnScroll(N,F,G)}},P._getRangeToRender=function(){var S=this.props,A=S.itemCount,I=S.overscanCount,M=this.state,k=M.isScrolling,$=M.scrollDirection,L=M.scrollOffset;if(A===0)return[0,0,0,0];var N=s(this.props,L,this._instanceProps),F=a(this.props,N,L,this._instanceProps),G=!k||$==="backward"?Math.max(1,I):1,J=!k||$==="forward"?Math.max(1,I):1;return[Math.max(0,N-G),Math.max(0,Math.min(A-1,F+J)),N,F]},x}(V.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var RCe=function(t,n){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,n.instance},DCe=$Ce({getItemOffset:function(t,n){var r=t.itemSize;return n*r},getItemSize:function(t,n){var r=t.itemSize;return r},getEstimatedTotalSize:function(t){var n=t.itemCount,r=t.itemSize;return r*n},getOffsetForIndexAndAlignment:function(t,n,r,i,o,s){var a=t.direction,f=t.height,h=t.itemCount,g=t.itemSize,y=t.layout,x=t.width,P=a==="horizontal"||y==="horizontal",O=P?x:f,S=Math.max(0,h*g-O),A=Math.min(S,n*g),I=Math.max(0,n*g-O+g+s);switch(r==="smart"&&(i>=I-O&&i<=A+O?r="auto":r="center"),r){case"start":return A;case"end":return I;case"center":{var M=Math.round(I+(A-I)/2);return M<Math.ceil(O/2)?0:M>S+Math.floor(O/2)?S:M}case"auto":default:return i>=I&&i<=A?i:i<I?I:A}},getStartIndexForOffset:function(t,n){var r=t.itemCount,i=t.itemSize;return Math.max(0,Math.min(r-1,Math.floor(n/i)))},getStopIndexForStartIndex:function(t,n,r){var i=t.direction,o=t.height,s=t.itemCount,a=t.itemSize,f=t.layout,h=t.width,g=i==="horizontal"||f==="horizontal",y=n*a,x=g?h:o,P=Math.ceil((x+r-y)/a);return Math.max(0,Math.min(s-1,n+P-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});let Is;typeof window<"u"?Is=window:typeof self<"u"?Is=self:Is=global;let XA=null,JA=null;const RB=20,EP=Is.clearTimeout,DB=Is.setTimeout,TP=Is.cancelAnimationFrame||Is.mozCancelAnimationFrame||Is.webkitCancelAnimationFrame,LB=Is.requestAnimationFrame||Is.mozRequestAnimationFrame||Is.webkitRequestAnimationFrame;TP==null||LB==null?(XA=EP,JA=function(t){return DB(t,RB)}):(XA=function([t,n]){TP(t),EP(n)},JA=function(t){const n=LB(function(){EP(r),t()}),r=DB(function(){TP(n),t()},RB);return[n,r]});function LCe(e){let t,n,r,i,o,s,a;const f=typeof document<"u"&&document.attachEvent;if(!f){s=function(I){const M=I.__resizeTriggers__,k=M.firstElementChild,$=M.lastElementChild,L=k.firstElementChild;$.scrollLeft=$.scrollWidth,$.scrollTop=$.scrollHeight,L.style.width=k.offsetWidth+1+"px",L.style.height=k.offsetHeight+1+"px",k.scrollLeft=k.scrollWidth,k.scrollTop=k.scrollHeight},o=function(I){return I.offsetWidth!==I.__resizeLast__.width||I.offsetHeight!==I.__resizeLast__.height},a=function(I){if(I.target.className&&typeof I.target.className.indexOf=="function"&&I.target.className.indexOf("contract-trigger")<0&&I.target.className.indexOf("expand-trigger")<0)return;const M=this;s(this),this.__resizeRAF__&&XA(this.__resizeRAF__),this.__resizeRAF__=JA(function(){o(M)&&(M.__resizeLast__.width=M.offsetWidth,M.__resizeLast__.height=M.offsetHeight,M.__resizeListeners__.forEach(function(L){L.call(M,I)}))})};let x=!1,P="";r="animationstart";const O="Webkit Moz O ms".split(" ");let S="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),A="";{const I=document.createElement("fakeelement");if(I.style.animationName!==void 0&&(x=!0),x===!1){for(let M=0;M<O.length;M++)if(I.style[O[M]+"AnimationName"]!==void 0){A=O[M],P="-"+A.toLowerCase()+"-",r=S[M],x=!0;break}}}n="resizeanim",t="@"+P+"keyframes "+n+" { from { opacity: 0; } to { opacity: 0; } } ",i=P+"animation: 1ms "+n+"; "}const h=function(x){if(!x.getElementById("detectElementResize")){const P=(t||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',O=x.head||x.getElementsByTagName("head")[0],S=x.createElement("style");S.id="detectElementResize",S.type="text/css",e!=null&&S.setAttribute("nonce",e),S.styleSheet?S.styleSheet.cssText=P:S.appendChild(x.createTextNode(P)),O.appendChild(S)}};return{addResizeListener:function(x,P){if(f)x.attachEvent("onresize",P);else{if(!x.__resizeTriggers__){const O=x.ownerDocument,S=Is.getComputedStyle(x);S&&S.position==="static"&&(x.style.position="relative"),h(O),x.__resizeLast__={},x.__resizeListeners__=[],(x.__resizeTriggers__=O.createElement("div")).className="resize-triggers";const A=O.createElement("div");A.className="expand-trigger",A.appendChild(O.createElement("div"));const I=O.createElement("div");I.className="contract-trigger",x.__resizeTriggers__.appendChild(A),x.__resizeTriggers__.appendChild(I),x.appendChild(x.__resizeTriggers__),s(x),x.addEventListener("scroll",a,!0),r&&(x.__resizeTriggers__.__animationListener__=function(k){k.animationName===n&&s(x)},x.__resizeTriggers__.addEventListener(r,x.__resizeTriggers__.__animationListener__))}x.__resizeListeners__.push(P)}},removeResizeListener:function(x,P){if(f)x.detachEvent("onresize",P);else if(x.__resizeListeners__.splice(x.__resizeListeners__.indexOf(P),1),!x.__resizeListeners__.length){x.removeEventListener("scroll",a,!0),x.__resizeTriggers__.__animationListener__&&(x.__resizeTriggers__.removeEventListener(r,x.__resizeTriggers__.__animationListener__),x.__resizeTriggers__.__animationListener__=null);try{x.__resizeTriggers__=!x.removeChild(x.__resizeTriggers__)}catch{}}}}}class NCe extends V.Component{constructor(...t){super(...t),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:n,disableWidth:r,onResize:i}=this.props;if(this._parentNode){var o,s,a,f;const h=window.getComputedStyle(this._parentNode)||{},g=parseFloat((o=h.paddingLeft)!==null&&o!==void 0?o:"0"),y=parseFloat((s=h.paddingRight)!==null&&s!==void 0?s:"0"),x=parseFloat((a=h.paddingTop)!==null&&a!==void 0?a:"0"),P=parseFloat((f=h.paddingBottom)!==null&&f!==void 0?f:"0"),O=this._parentNode.getBoundingClientRect(),S=O.height-x-P,A=O.width-g-y,I=this._parentNode.offsetHeight-x-P,M=this._parentNode.offsetWidth-g-y;(!n&&(this.state.height!==I||this.state.scaledHeight!==S)||!r&&(this.state.width!==M||this.state.scaledWidth!==A))&&(this.setState({height:I,width:M,scaledHeight:S,scaledWidth:A}),typeof i=="function"&&i({height:I,scaledHeight:S,scaledWidth:A,width:M}))}},this._setRef=n=>{this._autoSizer=n}}componentDidMount(){const{nonce:t}=this.props;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._parentNode!=null&&(typeof ResizeObserver<"u"?(this._resizeObserver=new ResizeObserver(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(this._parentNode)):(this._detectElementResize=LCe(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize)),this._onResize()))}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&(this._resizeObserver.observe(this._parentNode),this._resizeObserver.disconnect()))}render(){const{children:t,defaultHeight:n,defaultWidth:r,disableHeight:i=!1,disableWidth:o=!1,nonce:s,onResize:a,style:f={},tagName:h="div",...g}=this.props,{height:y,scaledHeight:x,scaledWidth:P,width:O}=this.state,S={overflow:"visible"},A={};let I=!1;return i||(y===0&&(I=!0),S.height=0,A.height=y,A.scaledHeight=x),o||(O===0&&(I=!0),S.width=0,A.width=O,A.scaledWidth=P),V.createElement(h,{ref:this._setRef,style:{...S,...f},...g},!I&&t(A))}}var CD={},zCe=dr;Object.defineProperty(CD,"__esModule",{value:!0});var WG=CD.default=void 0,jCe=zCe(fr()),BCe=z,FCe=(0,jCe.default)((0,BCe.jsx)("path",{d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"}),"BatteryFull");WG=CD.default=FCe;var ED={},UCe=dr;Object.defineProperty(ED,"__esModule",{value:!0});var qG=ED.default=void 0,VCe=UCe(fr()),WCe=z,qCe=(0,VCe.default)((0,WCe.jsx)("path",{d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4zM11 20v-5.5H9L13 7v5.5h2L11 20z"}),"BatteryChargingFull");qG=ED.default=qCe;var TD={},GCe=dr;Object.defineProperty(TD,"__esModule",{value:!0});var GG=TD.default=void 0,HCe=KCe(V),YCe=GCe(fr()),kP=z;function HG(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(HG=function(r){return r?n:t})(e)}function KCe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=HG(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var ZCe=(0,YCe.default)((0,kP.jsxs)(HCe.Fragment,{children:[(0,kP.jsx)("path",{fillOpacity:".3",d:"M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V11h10V5.33z"}),(0,kP.jsx)("path",{d:"M7 11v9.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V11H7z"})]}),"Battery60");GG=TD.default=ZCe;var kD={},XCe=dr;Object.defineProperty(kD,"__esModule",{value:!0});var YG=kD.default=void 0,JCe=eEe(V),QCe=XCe(fr()),PP=z;function KG(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(KG=function(r){return r?n:t})(e)}function eEe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=KG(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var tEe=(0,QCe.default)((0,PP.jsxs)(JCe.Fragment,{children:[(0,PP.jsx)("path",{fillOpacity:".3",d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V11h3.87L13 7v4h4V5.33C17 4.6 16.4 4 15.67 4z"}),(0,PP.jsx)("path",{d:"M13 12.5h2L11 20v-5.5H9l1.87-3.5H7v9.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V11h-4v1.5z"})]}),"BatteryCharging60");YG=kD.default=tEe;var PD={},nEe=dr;Object.defineProperty(PD,"__esModule",{value:!0});var ZG=PD.default=void 0,rEe=oEe(V),iEe=nEe(fr()),OP=z;function XG(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(XG=function(r){return r?n:t})(e)}function oEe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=XG(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var aEe=(0,iEe.default)((0,OP.jsxs)(rEe.Fragment,{children:[(0,OP.jsx)("path",{d:"M7 17v3.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V17H7z"}),(0,OP.jsx)("path",{fillOpacity:".3",d:"M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V17h10V5.33z"})]}),"Battery20");ZG=PD.default=aEe;var OD={},sEe=dr;Object.defineProperty(OD,"__esModule",{value:!0});var JG=OD.default=void 0,lEe=uEe(V),cEe=sEe(fr()),AP=z;function QG(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(QG=function(r){return r?n:t})(e)}function uEe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=QG(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var dEe=(0,cEe.default)((0,AP.jsxs)(lEe.Fragment,{children:[(0,AP.jsx)("path",{d:"M11 20v-3H7v3.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V17h-4.4L11 20z"}),(0,AP.jsx)("path",{fillOpacity:".3",d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V17h4v-2.5H9L13 7v5.5h2L12.6 17H17V5.33C17 4.6 16.4 4 15.67 4z"})]}),"BatteryCharging20");JG=OD.default=dEe;var AD={},fEe=dr;Object.defineProperty(AD,"__esModule",{value:!0});var eH=AD.default=void 0,hEe=fEe(fr()),pEe=z,mEe=(0,hEe.default)((0,pEe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");eH=AD.default=mEe;const NB=e=>V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",...e},V.createElement("title",null,"Engine"),V.createElement("path",{fill:"currentColor",d:"M13.778 6.667v2.222h3.333v2.222h2.222v-2.222h3.333v-2.222h-8.889zM13.778 13.333c-0.3 0-0.579 0.121-0.79 0.321l-1.888 1.901h-2.878c-0.611 0-1.111 0.5-1.111 1.111v6.667c0 0.611 0.5 1.111 1.111 1.111h1.888l3.056 2.033c0.178 0.122 0.39 0.189 0.612 0.189h5.556c0.244 0 0.477-0.077 0.666-0.221l4.444-3.333c0.278-0.211 0.445-0.545 0.445-0.89v-7.778c0-0.611-0.5-1.111-1.111-1.111h-10zM27.111 14.444v6.667h2.222v-6.667h-2.222zM17.111 15.556v3.333h2.222l-3.333 5.556v-3.333h-2.222l3.333-5.556zM2.667 16.667v5.556h2.222v-5.556h-2.222z"})),gEe=Xr(e=>({icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},batteryText:{fontSize:"0.75rem",fontWeight:"normal",lineHeight:"0.875rem"},positive:{color:e.palette.colors.positive},medium:{color:e.palette.colors.medium},negative:{color:e.palette.colors.negative},neutral:{color:e.palette.colors.neutral}})),yEe={width:"25px",height:"25px",filter:"brightness(0) invert(1)"},MP={color:ul[500]},zB={color:O$[700]},IP={color:Lc[500]},vEe={color:ec[500]},bEe=({data:e,index:t,style:n})=>{const r=gEe(),i=Cl(),o=e[t],s=Ln(h=>h.data.positions[o.id]),a=o.name,f=()=>{let h;return o.status==="online"||!o.lastUpdate?h=o.status:h=Mt(o.lastUpdate).fromNow(),z.jsxs(Pe.Fragment,{children:[s&&s.attributes.hasOwnProperty("landed_state")&&z.jsx(xn,{component:"span",sx:{display:"block",fontSize:10},children:s.attributes.landed_state}),z.jsx(xn,{component:"span",style:{fontSize:12},className:r[BG(o.status)],children:h})]})};return z.jsx("div",{style:n,children:z.jsxs(dme,{onClick:()=>i(hl.selectId(o.id)),disabled:o.disabled,children:[z.jsx(yme,{children:z.jsx(Mde,{children:z.jsx("img",{style:yEe,src:eb[zw(o.category)],alt:""})})}),z.jsx(Eme,{primary:a,primaryTypographyProps:{noWrap:!0},secondary:f(),secondaryTypographyProps:{noWrap:!0}}),s&&z.jsxs(z.Fragment,{children:[s.attributes.hasOwnProperty("ignition")&&z.jsx(Vp,{title:`positionIgnition: ${LG(s.attributes.ignition)}`,children:z.jsx(Kn,{size:"small",children:s.attributes.ignition?z.jsx(NB,{width:20,height:20,style:MP}):z.jsx(NB,{width:20,height:20,style:vEe})})}),s.hasOwnProperty("speed")&&z.jsx(Vp,{title:`speed: ${s.speed}`,children:z.jsx(Kn,{size:"small",children:z.jsxs("div",{style:{fontSize:"0.9rem"},children:[" V ",Math.round(s.speed),"m/s"]})})}),s.hasOwnProperty("altitude")&&z.jsx(Vp,{title:`altitude: ${Math.round(s.altitude)}`,children:z.jsx(Kn,{size:"small",children:z.jsxs("div",{style:{fontSize:"0.9rem"},children:["H ",Math.round(s.altitude),"m"]})})}),s.attributes.hasOwnProperty("batteryLevel")&&z.jsx(Vp,{title:`BatteryLevel: ${NG(s.attributes.batteryLevel)}`,children:z.jsx(Kn,{size:"small",children:s.attributes.batteryLevel>70?s.attributes.charge?z.jsx(qG,{fontSize:"small",style:MP}):z.jsx(WG,{fontSize:"small",style:MP}):s.attributes.batteryLevel>30?s.attributes.charge?z.jsx(YG,{fontSize:"small",style:zB}):z.jsx(GG,{fontSize:"small",style:zB}):s.attributes.charge?z.jsx(JG,{fontSize:"small",style:IP}):z.jsx(ZG,{fontSize:"small",style:IP})})}),s.attributes.hasOwnProperty("alarm")&&s.attributes.alarm=="threat"&&z.jsx(Vp,{title:`eventAlarm: ${jG(s.attributes.alarm)}`,children:z.jsx(Kn,{size:"small",children:z.jsx(eH,{fontSize:"small",style:IP})})})]})]},o.id)})},xEe=Xr(e=>({list:{maxHeight:"100%"},listInner:{position:"relative",margin:e.spacing(1.5,0)}})),tH=({devices:e})=>{const t=xEe();Cl();const n=V.useRef(null);n.current&&(n.current.className=t.listInner);const[,r]=V.useState(Date.now());return V.useEffect(()=>{const i=setInterval(()=>r(Date.now()),6e4);return()=>{clearInterval(i)}},[]),z.jsx(NCe,{className:t.list,children:({height:i,width:o})=>z.jsx(DCe,{width:o,height:i,itemCount:e.length,itemData:e,itemSize:72,overscanCount:10,innerRef:n,children:bEe})})};var MD={exports:{}},nH={};function rH(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=rH(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function jB(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=rH(e))&&(r&&(r+=" "),r+=t);return r}const _Ee=Object.freeze(Object.defineProperty({__proto__:null,clsx:jB,default:jB},Symbol.toStringTag,{value:"Module"})),wEe=FU(_Ee);var mi={},pc={};Object.defineProperty(pc,"__esModule",{value:!0});pc.dontSetMe=kEe;pc.findInArray=SEe;pc.int=TEe;pc.isFunction=CEe;pc.isNum=EEe;function SEe(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function CEe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function EEe(e){return typeof e=="number"&&!isNaN(e)}function TEe(e){return parseInt(e,10)}function kEe(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var Ih={};Object.defineProperty(Ih,"__esModule",{value:!0});Ih.browserPrefixToKey=oH;Ih.browserPrefixToStyle=PEe;Ih.default=void 0;Ih.getPrefix=iH;const $P=["Moz","Webkit","O","ms"];function iH(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!n||t in n)return"";for(let r=0;r<$P.length;r++)if(oH(t,$P[r])in n)return $P[r];return""}function oH(e,t){return t?"".concat(t).concat(OEe(e)):e}function PEe(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function OEe(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}Ih.default=iH();Object.defineProperty(mi,"__esModule",{value:!0});mi.addClassName=lH;mi.addEvent=IEe;mi.addUserSelectStyles=VEe;mi.createCSSTransform=jEe;mi.createSVGTransform=BEe;mi.getTouch=FEe;mi.getTouchIdentifier=UEe;mi.getTranslation=ID;mi.innerHeight=LEe;mi.innerWidth=NEe;mi.matchesSelector=sH;mi.matchesSelectorAndParentsTo=MEe;mi.offsetXYFromParent=zEe;mi.outerHeight=REe;mi.outerWidth=DEe;mi.removeClassName=cH;mi.removeEvent=$Ee;mi.removeUserSelectStyles=WEe;var Za=pc,BB=AEe(Ih);function aH(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(aH=function(r){return r?n:t})(e)}function AEe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=aH(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}let x1="";function sH(e,t){return x1||(x1=(0,Za.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Za.isFunction)(e[n])})),(0,Za.isFunction)(e[x1])?e[x1](t):!1}function MEe(e,t,n){let r=e;do{if(sH(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function IEe(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function $Ee(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function REe(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Za.int)(n.borderTopWidth),t+=(0,Za.int)(n.borderBottomWidth),t}function DEe(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Za.int)(n.borderLeftWidth),t+=(0,Za.int)(n.borderRightWidth),t}function LEe(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Za.int)(n.paddingTop),t-=(0,Za.int)(n.paddingBottom),t}function NEe(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Za.int)(n.paddingLeft),t-=(0,Za.int)(n.paddingRight),t}function zEe(e,t,n){const i=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-i.left)/n,s=(e.clientY+t.scrollTop-i.top)/n;return{x:o,y:s}}function jEe(e,t){const n=ID(e,t,"px");return{[(0,BB.browserPrefixToKey)("transform",BB.default)]:n}}function BEe(e,t){return ID(e,t,"")}function ID(e,t,n){let{x:r,y:i}=e,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){const s="".concat(typeof t.x=="string"?t.x:t.x+n),a="".concat(typeof t.y=="string"?t.y:t.y+n);o="translate(".concat(s,", ").concat(a,")")+o}return o}function FEe(e,t){return e.targetTouches&&(0,Za.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,Za.findInArray)(e.changedTouches,n=>t===n.identifier)}function UEe(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function VEe(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&lH(e.body,"react-draggable-transparent-selection")}function WEe(e){if(e)try{if(e.body&&cH(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function lH(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function cH(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var mc={};Object.defineProperty(mc,"__esModule",{value:!0});mc.canDragX=HEe;mc.canDragY=YEe;mc.createCoreData=ZEe;mc.createDraggableData=XEe;mc.getBoundPosition=qEe;mc.getControlPosition=KEe;mc.snapToGrid=GEe;var za=pc,fm=mi;function qEe(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:r}=e.props;r=typeof r=="string"?r:JEe(r);const i=$D(e);if(typeof r=="string"){const{ownerDocument:o}=i,s=o.defaultView;let a;if(r==="parent"?a=i.parentNode:a=o.querySelector(r),!(a instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const f=a,h=s.getComputedStyle(i),g=s.getComputedStyle(f);r={left:-i.offsetLeft+(0,za.int)(g.paddingLeft)+(0,za.int)(h.marginLeft),top:-i.offsetTop+(0,za.int)(g.paddingTop)+(0,za.int)(h.marginTop),right:(0,fm.innerWidth)(f)-(0,fm.outerWidth)(i)-i.offsetLeft+(0,za.int)(g.paddingRight)-(0,za.int)(h.marginRight),bottom:(0,fm.innerHeight)(f)-(0,fm.outerHeight)(i)-i.offsetTop+(0,za.int)(g.paddingBottom)-(0,za.int)(h.marginBottom)}}return(0,za.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,za.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,za.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,za.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function GEe(e,t,n){const r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]}function HEe(e){return e.props.axis==="both"||e.props.axis==="x"}function YEe(e){return e.props.axis==="both"||e.props.axis==="y"}function KEe(e,t,n){const r=typeof t=="number"?(0,fm.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;const i=$D(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,fm.offsetXYFromParent)(r||e,o,n.props.scale)}function ZEe(e,t,n){const r=!(0,za.isNum)(e.lastX),i=$D(e);return r?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function XEe(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function JEe(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function $D(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var QC={},eE={};Object.defineProperty(eE,"__esModule",{value:!0});eE.default=QEe;function QEe(){}Object.defineProperty(QC,"__esModule",{value:!0});QC.default=void 0;var RP=tTe(V),ya=RD(M$),eTe=RD(uc),Mo=mi,Yu=mc,DP=pc,Rv=RD(eE);function RD(e){return e&&e.__esModule?e:{default:e}}function uH(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(uH=function(r){return r?n:t})(e)}function tTe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=uH(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function oa(e,t,n){return t=nTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nTe(e){var t=rTe(e,"string");return typeof t=="symbol"?t:String(t)}function rTe(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const il={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Ku=il.mouse,tE=class extends RP.Component{constructor(){super(...arguments),oa(this,"dragging",!1),oa(this,"lastX",NaN),oa(this,"lastY",NaN),oa(this,"touchIdentifier",null),oa(this,"mounted",!1),oa(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(t.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Mo.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,Mo.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&t.preventDefault();const i=(0,Mo.getTouchIdentifier)(t);this.touchIdentifier=i;const o=(0,Yu.getControlPosition)(t,i,this);if(o==null)return;const{x:s,y:a}=o,f=(0,Yu.createCoreData)(this,s,a);(0,Rv.default)("DraggableCore: handleDragStart: %j",f),(0,Rv.default)("calling",this.props.onStart),!(this.props.onStart(t,f)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Mo.addUserSelectStyles)(r),this.dragging=!0,this.lastX=s,this.lastY=a,(0,Mo.addEvent)(r,Ku.move,this.handleDrag),(0,Mo.addEvent)(r,Ku.stop,this.handleDragStop))}),oa(this,"handleDrag",t=>{const n=(0,Yu.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,f=i-this.lastY;if([a,f]=(0,Yu.snapToGrid)(this.props.grid,a,f),!a&&!f)return;r=this.lastX+a,i=this.lastY+f}const o=(0,Yu.createCoreData)(this,r,i);if((0,Rv.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(t,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(f)}return}this.lastX=r,this.lastY=i}),oa(this,"handleDragStop",t=>{if(!this.dragging)return;const n=(0,Yu.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let f=r-this.lastX||0,h=i-this.lastY||0;[f,h]=(0,Yu.snapToGrid)(this.props.grid,f,h),r=this.lastX+f,i=this.lastY+h}const o=(0,Yu.createCoreData)(this,r,i);if(this.props.onStop(t,o)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,Mo.removeUserSelectStyles)(a.ownerDocument),(0,Rv.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,Rv.default)("DraggableCore: Removing handlers"),(0,Mo.removeEvent)(a.ownerDocument,Ku.move,this.handleDrag),(0,Mo.removeEvent)(a.ownerDocument,Ku.stop,this.handleDragStop))}),oa(this,"onMouseDown",t=>(Ku=il.mouse,this.handleDragStart(t))),oa(this,"onMouseUp",t=>(Ku=il.mouse,this.handleDragStop(t))),oa(this,"onTouchStart",t=>(Ku=il.touch,this.handleDragStart(t))),oa(this,"onTouchEnd",t=>(Ku=il.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,Mo.addEvent)(t,il.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:n}=t;(0,Mo.removeEvent)(n,il.mouse.move,this.handleDrag),(0,Mo.removeEvent)(n,il.touch.move,this.handleDrag),(0,Mo.removeEvent)(n,il.mouse.stop,this.handleDragStop),(0,Mo.removeEvent)(n,il.touch.stop,this.handleDragStop),(0,Mo.removeEvent)(t,il.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Mo.removeUserSelectStyles)(n)}}findDOMNode(){var t,n;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:eTe.default.findDOMNode(this)}render(){return RP.cloneElement(RP.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};QC.default=tE;oa(tE,"displayName","DraggableCore");oa(tE,"propTypes",{allowAnyClick:ya.default.bool,children:ya.default.node.isRequired,disabled:ya.default.bool,enableUserSelectHack:ya.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:ya.default.arrayOf(ya.default.number),handle:ya.default.string,cancel:ya.default.string,nodeRef:ya.default.object,onStart:ya.default.func,onDrag:ya.default.func,onStop:ya.default.func,onMouseDown:ya.default.func,scale:ya.default.number,className:DP.dontSetMe,style:DP.dontSetMe,transform:DP.dontSetMe});oa(tE,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),e.default=void 0;var t=x(V),n=g(M$),r=g(uc),i=g(wEe),o=mi,s=mc,a=pc,f=g(QC),h=g(eE);function g(M){return M&&M.__esModule?M:{default:M}}function y(M){if(typeof WeakMap!="function")return null;var k=new WeakMap,$=new WeakMap;return(y=function(L){return L?$:k})(M)}function x(M,k){if(!k&&M&&M.__esModule)return M;if(M===null||typeof M!="object"&&typeof M!="function")return{default:M};var $=y(k);if($&&$.has(M))return $.get(M);var L={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in M)if(F!=="default"&&Object.prototype.hasOwnProperty.call(M,F)){var G=N?Object.getOwnPropertyDescriptor(M,F):null;G&&(G.get||G.set)?Object.defineProperty(L,F,G):L[F]=M[F]}return L.default=M,$&&$.set(M,L),L}function P(){return P=Object.assign?Object.assign.bind():function(M){for(var k=1;k<arguments.length;k++){var $=arguments[k];for(var L in $)Object.prototype.hasOwnProperty.call($,L)&&(M[L]=$[L])}return M},P.apply(this,arguments)}function O(M,k,$){return k=S(k),k in M?Object.defineProperty(M,k,{value:$,enumerable:!0,configurable:!0,writable:!0}):M[k]=$,M}function S(M){var k=A(M,"string");return typeof k=="symbol"?k:String(k)}function A(M,k){if(typeof M!="object"||M===null)return M;var $=M[Symbol.toPrimitive];if($!==void 0){var L=$.call(M,k||"default");if(typeof L!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(k==="string"?String:Number)(M)}class I extends t.Component{static getDerivedStateFromProps(k,$){let{position:L}=k,{prevPropsPosition:N}=$;return L&&(!N||L.x!==N.x||L.y!==N.y)?((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:L,prevPropsPosition:N}),{x:L.x,y:L.y,prevPropsPosition:{...L}}):null}constructor(k){super(k),O(this,"onDragStart",($,L)=>{if((0,h.default)("Draggable: onDragStart: %j",L),this.props.onStart($,(0,s.createDraggableData)(this,L))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),O(this,"onDrag",($,L)=>{if(!this.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",L);const N=(0,s.createDraggableData)(this,L),F={x:N.x,y:N.y,slackX:0,slackY:0};if(this.props.bounds){const{x:J,y:ee}=F;F.x+=this.state.slackX,F.y+=this.state.slackY;const[ae,pe]=(0,s.getBoundPosition)(this,F.x,F.y);F.x=ae,F.y=pe,F.slackX=this.state.slackX+(J-F.x),F.slackY=this.state.slackY+(ee-F.y),N.x=F.x,N.y=F.y,N.deltaX=F.x-this.state.x,N.deltaY=F.y-this.state.y}if(this.props.onDrag($,N)===!1)return!1;this.setState(F)}),O(this,"onDragStop",($,L)=>{if(!this.state.dragging||this.props.onStop($,(0,s.createDraggableData)(this,L))===!1)return!1;(0,h.default)("Draggable: onDragStop: %j",L);const F={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:J,y:ee}=this.props.position;F.x=J,F.y=ee}this.setState(F)}),this.state={dragging:!1,dragged:!1,x:k.position?k.position.x:k.defaultPosition.x,y:k.position?k.position.y:k.defaultPosition.y,prevPropsPosition:{...k.position},slackX:0,slackY:0,isElementSVG:!1},k.position&&!(k.onDrag||k.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var k,$;return(k=($=this.props)===null||$===void 0||($=$.nodeRef)===null||$===void 0?void 0:$.current)!==null&&k!==void 0?k:r.default.findDOMNode(this)}render(){const{axis:k,bounds:$,children:L,defaultPosition:N,defaultClassName:F,defaultClassNameDragging:G,defaultClassNameDragged:J,position:ee,positionOffset:ae,scale:pe,...ye}=this.props;let we={},Ce=null;const Ee=!!!ee||this.state.dragging,Se=ee||N,De={x:(0,s.canDragX)(this)&&Ee?this.state.x:Se.x,y:(0,s.canDragY)(this)&&Ee?this.state.y:Se.y};this.state.isElementSVG?Ce=(0,o.createSVGTransform)(De,ae):we=(0,o.createCSSTransform)(De,ae);const We=(0,i.default)(L.props.className||"",F,{[G]:this.state.dragging,[J]:this.state.dragged});return t.createElement(f.default,P({},ye,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(L),{className:We,style:{...L.props.style,...we},transform:Ce}))}}e.default=I,O(I,"displayName","Draggable"),O(I,"propTypes",{...f.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),O(I,"defaultProps",{...f.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(nH);const{default:dH,DraggableCore:iTe}=nH;MD.exports=dH;MD.exports.default=dH;MD.exports.DraggableCore=iTe;var DD={},oTe=dr;Object.defineProperty(DD,"__esModule",{value:!0});var fH=DD.default=void 0,aTe=oTe(fr()),sTe=z,lTe=(0,aTe.default)((0,sTe.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay");fH=DD.default=lTe;var LD={},cTe=dr;Object.defineProperty(LD,"__esModule",{value:!0});var hH=LD.default=void 0,uTe=cTe(fr()),dTe=z,fTe=(0,uTe.default)((0,dTe.jsx)("path",{d:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"}),"Publish");hH=LD.default=fTe;var ND={},hTe=dr;Object.defineProperty(ND,"__esModule",{value:!0});var pH=ND.default=void 0,pTe=hTe(fr()),mTe=z,gTe=(0,pTe.default)((0,mTe.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");pH=ND.default=gTe;var zD={},yTe=dr;Object.defineProperty(zD,"__esModule",{value:!0});var mH=zD.default=void 0,vTe=yTe(fr()),bTe=z,xTe=(0,vTe.default)((0,bTe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7 13.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"Pending");mH=zD.default=xTe;const QA=({position:e,property:t,attribute:n})=>{const r=Ln(x=>x.devices.items[e.deviceId]),i=t||n,o=t?e[t]:e.attributes[n],s="m",a="m",f="km/s",h="ddm",g=!1,y=()=>{switch(i){case"fixTime":case"deviceTime":case"serverTime":return zG(o,"seconds",g);case"latitude":return PB("latitude",o,h);case"longitude":return PB("longitude",o,h);case"speed":return CCe(o,f);case"course":return _Ce(o);case"altitude":return SCe(o,a);case"batteryLevel":return NG(o);case"alarm":return jG(o);case"gimbal":return o.toString();case"obstacle_info":return o.toString();case"odometer":case"distance":case"totalDistance":return wCe(o,s);case"hours":return ECe(o);default:return typeof o=="number"?xCe(o):typeof o=="boolean"?LG(o):o||""}};switch(i){case"image":case"video":case"audio":return z.jsx(Zpe,{href:`/api/media/${r.uniqueId}/${o}`,target:"_blank",children:o});case"totalDistance":case"hours":case"address":case"network":return"";default:return y()}},_Te=Xr(e=>({root:{[e.breakpoints.down("md")]:{bottom:`calc(${e.dimensions.bottomBarHeight}px + ${e.spacing(1)})`}},button:{height:"auto",marginTop:0,marginBottom:0,color:e.palette.colors.negative}})),wTe=({open:e,endpoint:t,itemId:n,onResult:r})=>{const i=_Te(),o=async()=>{(await fetch(`/api/${t}/${n}`,{method:"DELETE"})).ok?(console.log("elemento eliminado"),r(!0)):r(!1)};return z.jsx(Gge,{className:i.root,open:e,autoHideDuration:2750,onClose:()=>r(!1),message:"confirmar para eliminar",action:z.jsx(hr,{size:"small",className:i.button,onClick:o,children:"Eliminar"})})},gH=Xr(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},media:{height:e.dimensions.popupImageHeight,display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},content:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},negative:{color:e.palette.colors.negative},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},table:{"& .MuiTableCell-sizeSmall":{paddingLeft:0,paddingRight:0}},cell:{borderBottom:"none"},actions:{justifyContent:"space-between"},root:({desktopPadding:t})=>({pointerEvents:"none",position:"fixed",zIndex:5,left:"50%",[e.breakpoints.up("md")]:{left:`calc(50% + ${t} / 2)`,bottom:e.spacing(3)},[e.breakpoints.down("md")]:{left:"50%",bottom:`calc(${e.spacing(3)} + ${e.dimensions.bottomBarHeight}px)`},transform:"translateX(-50%)"})})),LP=({name:e,content:t})=>{const n=gH();return z.jsxs(km,{children:[z.jsx(xa,{className:n.card,children:z.jsx(xn,{variant:"body2",children:e})}),z.jsx(xa,{className:n.cell,children:z.jsx(xn,{variant:"body2",color:"textSecondary",children:t})})]})},STe=({deviceId:e,position:t,onClose:n,disableActions:r,desktopPadding:i=0})=>{var I;const o=gH(),s=kg(),a=Cl(),f=Ln(M=>M.devices.items[e]),h=(I=f==null?void 0:f.attributes)==null?void 0:I.deviceImage,g="speed,course,batteryLevel,gimbal",[y,x]=V.useState(null),[P,O]=V.useState(!1),S=async(M,k,$)=>{console.log("send command uavud: "+M+k);try{const L=await fetch("/api/commands/send",{method:"POST",body:JSON.stringify({deviceId:M,type:k,attributes:$}),headers:{"Content-Type":"application/json"}});if(L.ok){let N=await L.json();console.log(N)}else throw console.log("Error1:"+L),Error(await L.text())}catch(L){console.log("Error2:"+L)}},A=async M=>{if(M){const k=await fetch("/api/devices");if(k.ok){let $=await k.json();a(hl.refresh(Object.values($)))}else throw Error(await k.text())}O(!1)};return z.jsxs(z.Fragment,{children:[z.jsx("div",{className:o.root,children:f&&z.jsxs(yu,{elevation:3,className:o.card,children:[h?z.jsx(zfe,{className:o.media,image:`/api/media/${f.uniqueId}/${h}`,children:z.jsx(Kn,{size:"small",onClick:n,onTouchStart:n,children:z.jsx(lu,{fontSize:"small",className:o.mediaButton})})}):z.jsxs("div",{className:o.header,children:[z.jsx(xn,{variant:"body2",color:"textSecondary",children:f.name}),z.jsx(Kn,{size:"small",onClick:n,onTouchStart:n,children:z.jsx(lu,{fontSize:"small"})})]}),t&&z.jsx(lR,{className:o.content,children:z.jsx(fR,{size:"small",classes:{root:o.table},children:z.jsxs(hR,{children:[t.hasOwnProperty("latitude")&&z.jsx(LP,{name:"Position",content:z.jsx("a",{href:"https://www.google.com/maps?q="+t.latitude+","+t.longitude,target:"_blank",children:"["+t.latitude.toFixed(6)+","+t.longitude.toFixed(6)+"]"})},"latitude"),g.split(",").filter(M=>t.hasOwnProperty(M)||t.attributes.hasOwnProperty(M)).map(M=>z.jsx(LP,{name:M,content:z.jsx(QA,{position:t,property:t.hasOwnProperty(M)?M:null,attribute:t.hasOwnProperty(M)?null:M})},M)),t.attributes.hasOwnProperty("alarm")&&t.attributes.alarm=="threat"&&z.jsx(LP,{name:"Alarm "+t.attributes.alarm,content:z.jsxs("div",{style:{width:"100%"},children:[z.jsx(hr,{variant:"contained",size:"small",color:"primary",style:{margin:"1px",display:"inline-block"},onClick:()=>S(f.id,"threat",{data:!0}),children:"Validate"}),z.jsx(hr,{variant:"contained",size:"small",color:"secondary",style:{margin:"1px",display:"inline-block"},onClick:()=>S(f.id,"threat",{data:!1}),children:"Dismiss"})]})},"alarm1")]})})}),z.jsxs(W9,{classes:{root:o.actions},disableSpacing:!0,children:[z.jsx(Kn,{color:"secondary",onClick:M=>x(M.currentTarget),disabled:!t,children:z.jsx(mH,{})}),z.jsx(Kn,{onClick:()=>S(f.id,"SincroniseFiles"),children:z.jsx(fH,{})}),z.jsx(Kn,{onClick:()=>S(f.id,"commandMission"),disabled:r,children:z.jsx(hH,{})}),z.jsx(Kn,{onClick:()=>s(`/device/${e}`),children:z.jsx(pH,{})}),z.jsx(Kn,{onClick:()=>O(!0),className:o.negative,children:z.jsx(Eh,{})})]})]})}),t&&z.jsxs(n7,{anchorEl:y,open:!!y,onClose:()=>x(null),children:[z.jsx(ks,{onClick:()=>s(`/device/${e}`),children:z.jsx(xn,{color:"secondary",children:"Detalle Dispositivo"})}),z.jsx(ks,{component:"a",target:"_blank",href:`https://www.google.com/maps/search/?api=1&query=${t.latitude}%2C${t.longitude}`,children:"linkGoogleMaps"}),z.jsx(ks,{component:"a",target:"_blank",href:`http://maps.apple.com/?ll=${t.latitude},${t.longitude}`,children:"linkAppleMaps"}),z.jsx(ks,{component:"a",target:"_blank",href:`https://www.google.com/maps/@?api=1&map_action=pano&viewpoint=${t.latitude}%2C${t.longitude}&heading=${t.course}`,children:"linkStreetView"})]}),z.jsx(wTe,{open:P,endpoint:"devices",itemId:e,onResult:M=>A(M)})]})};function CTe(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var ETe=`/* add css styles here (optional) */

.styles_ReactSwipeButton__2WML2 {
  float: left;
  width: 100%;
  height: 50px;
  position: relative;
}
.styles_ReactSwipeButton__2WML2,
.styles_ReactSwipeButton__2WML2 * {
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none;   /* Chrome/Safari/Opera */
  -khtml-user-select: none;    /* Konqueror */
  -moz-user-select: none;      /* Firefox */
  -ms-user-select: none;       /* Internet Explorer/Edge */
  user-select: none;           /* Non-prefixed version, currently
                                  not supported by any browser */
}
.styles_rsbContainer__KXpXK{
  float: left;
  width: 100%;
  height: 100%;
  background: #eee;
  border-radius: 50px;
  position: relative;
  /* box-shadow: inset 1px 1px 4px rgba(0,0,0,0.1); */
  overflow: hidden;
}
.styles_rsbContainerUnlocked__1T0vd{
  width: 50%!important;
  margin-left: 25%;
  transition: 0.5s;
  cursor: default;
}
.styles_rsbContainerUnlocked__1T0vd .styles_rsbcSlider__1yYxD{
  left: 100%!important;
  cursor: default;
  pointer-events: none;
}
.styles_rsbContainerUnlocked__1T0vd .styles_rsbcSliderArrow__2D9q4 {
  transition: 0.5s;
  margin-right: -60px;
}
.styles_rsbContainerUnlocked__1T0vd .styles_rsbcSliderCircle__3G0Zs {
  transition: 0.5s;
  margin-right: -60px;
}
.styles_rsbcSlider__1yYxD {
  float: left;
  width: 100%;
  position: absolute;
  height: 50px;
  top:0;
  left: 50px;
  margin-left:-100%;
  background: #333;
  border-radius: 25px;
  z-index: 100;
  /* box-shadow: 1px 1px 5px rgba(0,0,0,0.3); */
  cursor: pointer;
}
.styles_rsbcSliderText__3h08j{
  position: absolute;
  top:0;
  left:0;
  right:0;
  line-height: 50px;
  text-align: center;
  font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
  letter-spacing: 2px;
  color: #fff;
  font-size: 13px;

}
.styles_rsbcSliderArrow__2D9q4{
  float: left;
  position: absolute;
  transform: rotate(45deg);
  border: 2px solid #fff;
  height: 8px;
  width: 8px;
  top:50%;
  right: 22px;
  margin-top: -6px;
  border-left-color: transparent;
  border-bottom-color: transparent;
  transform-origin: center;
  z-index: 10;
}
.styles_rsbcSliderCircle__3G0Zs {
  position: absolute;
  right: 0;
  background: #444;
  top:0;
  height: 50px;
  width: 50px;
  border-radius: 100%;
}
.styles_rsbcText__16wA0 {
  float: left;
  position: absolute;
  top:0;
  left:0;
  right:0;
  height: 50px;
  line-height: 50px;
  text-align: center;
  font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
  letter-spacing: 2px;
  font-size: 13px;
  color: #aaa;
}`,Zu={ReactSwipeButton:"styles_ReactSwipeButton__2WML2",rsbContainer:"styles_rsbContainer__KXpXK",rsbContainerUnlocked:"styles_rsbContainerUnlocked__1T0vd",rsbcSlider:"styles_rsbcSlider__1yYxD",rsbcSliderArrow:"styles_rsbcSliderArrow__2D9q4",rsbcSliderCircle:"styles_rsbcSliderCircle__3G0Zs",rsbcSliderText:"styles_rsbcSliderText__3h08j",rsbcText:"styles_rsbcText__16wA0"};CTe(ETe);var TTe=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},kTe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),PTe=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},FB=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},UB=Pe.createRef(),_1=Pe.createRef(),NP="ontouchstart"in document.documentElement,OTe=function(e){PTe(t,e);function t(){var n,r,i,o;TTe(this,t);for(var s=arguments.length,a=Array(s),f=0;f<s;f++)a[f]=arguments[f];return o=(r=(i=FB(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(a))),i),i.isDragging=!1,i.sliderLeft=0,i.state={},i.onDrag=function(h){i.unmounted||i.state.unlocked||i.isDragging&&(NP?i.sliderLeft=Math.min(Math.max(0,h.touches[0].clientX-i.startX),i.containerWidth):i.sliderLeft=Math.min(Math.max(0,h.clientX-i.startX),i.containerWidth),i.updateSliderStyle())},i.updateSliderStyle=function(){i.unmounted||i.state.unlocked||(UB.current.style.left=i.sliderLeft+50+"px")},i.stopDrag=function(){i.unmounted||i.state.unlocked||i.isDragging&&(i.isDragging=!1,i.sliderLeft>i.containerWidth*.9?(i.sliderLeft=i.containerWidth,i.onSuccess(),i.props.onSuccess&&i.props.onSuccess()):(i.sliderLeft=0,i.props.onFailure&&i.props.onFailure()),i.updateSliderStyle())},i.startDrag=function(h){i.unmounted||i.state.unlocked||(i.isDragging=!0,NP?i.startX=h.touches[0].clientX:i.startX=h.clientX)},i.onSuccess=function(){_1.current.style.width=_1.current.clientWidth+"px",i.setState({unlocked:!0})},i.getText=function(){return i.state.unlocked?i.props.text_unlocked||"UNLOCKED":i.props.text||"SLIDE"},i.reset=function(){i.unmounted||i.setState({unlocked:!1},function(){i.sliderLeft=0,i.updateSliderStyle()})},r),FB(i,o)}return kTe(t,[{key:"componentDidMount",value:function(){NP?(document.addEventListener("touchmove",this.onDrag),document.addEventListener("touchend",this.stopDrag)):(document.addEventListener("mousemove",this.onDrag),document.addEventListener("mouseup",this.stopDrag)),this.containerWidth=_1.current.clientWidth-50}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){return Pe.createElement("div",{className:Zu.ReactSwipeButton},Pe.createElement("div",{className:Zu.rsbContainer+" "+(this.state.unlocked?Zu.rsbContainerUnlocked:""),ref:_1},Pe.createElement("div",{className:Zu.rsbcSlider,ref:UB,onMouseDown:this.startDrag,style:{background:this.props.color},onTouchStart:this.startDrag},Pe.createElement("span",{className:Zu.rsbcSliderText},this.getText()),Pe.createElement("span",{className:Zu.rsbcSliderArrow}),Pe.createElement("span",{className:Zu.rsbcSliderCircle,style:{background:this.props.color}})),Pe.createElement("div",{className:Zu.rsbcText},this.getText())))}}]),t}(V.Component);const ATe=Xr(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},media:{height:e.dimensions.popupImageHeight,display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},content:{paddingTop:"20px",paddingBottom:"20px"},negative:{color:e.palette.colors.negative},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},table:{"& .MuiTableCell-sizeSmall":{paddingLeft:0,paddingRight:0}},cell:{borderBottom:"none"},actions:{justifyContent:"space-between"},root:{pointerEvents:"none",position:"fixed",zIndex:5,left:"50%",top:"50%",transform:"translate(-50%,-50%)"}})),MTe=({enable:e,onClose:t,onSucces:n})=>{const r=ATe();return z.jsx(z.Fragment,{children:z.jsx("div",{className:r.root,children:e&&z.jsxs(yu,{elevation:5,className:r.card,children:[z.jsxs("div",{className:r.header,children:[z.jsx(xn,{variant:"body2",color:"textSecondary",children:"Confirm mission"}),z.jsx(Kn,{size:"small",onClick:t,onTouchStart:t,children:z.jsx(lu,{fontSize:"small"})})]}),z.jsxs(lR,{className:r.content,children:[z.jsx(xn,{variant:"body1",color:"textSecondary",children:"Send all devices to command the mission load"}),z.jsx("div",{style:{marginTop:"10px",height:"50px"},children:z.jsx(OTe,{text:"Slide to Command Mission",color:"#7393B3",text_unlocked:"Commanded",onSuccess:n})})]})]})})})};var jD={},ITe=dr;Object.defineProperty(jD,"__esModule",{value:!0});var yH=jD.default=void 0,$Te=ITe(fr()),RTe=z,DTe=(0,$Te.default)((0,RTe.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");yH=jD.default=DTe;var BD={},LTe=dr;Object.defineProperty(BD,"__esModule",{value:!0});var vH=BD.default=void 0,NTe=LTe(fr()),zTe=z,jTe=(0,NTe.default)((0,zTe.jsx)("path",{d:"M3 14h4v-4H3v4zm0 5h4v-4H3v4zM3 9h4V5H3v4zm5 5h13v-4H8v4zm0 5h13v-4H8v4zM8 5v4h13V5H8z"}),"ViewList");vH=BD.default=jTe;var FD={},BTe=dr;Object.defineProperty(FD,"__esModule",{value:!0});var bH=FD.default=void 0,FTe=BTe(fr()),UTe=z,VTe=(0,FTe.default)((0,UTe.jsx)("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"}),"Tune");bH=FD.default=VTe;const WTe={display:"flex",gap:"10px 10px",height:"30px",borderBottom:"3px solid rgb(212, 212, 212)"},xH=({SetAddUAVOpen:e})=>z.jsxs(fx,{style:WTe,children:[z.jsx(Kn,{edge:"start",children:z.jsx(vH,{})}),z.jsx(uR,{placeholder:"device",endAdornment:z.jsx(Rpe,{position:"end",children:z.jsx(Kn,{size:"small",edge:"end",children:z.jsx(Kde,{color:"info",variant:"dot",children:z.jsx(bH,{fontSize:"small"})})})}),size:"small",fullWidth:!0}),z.jsx(Kn,{edge:"end",onClick:()=>{e(!0)},children:z.jsx(Vp,{children:z.jsx(yH,{})})})]}),qTe=Xr(e=>({card:{pointerEvents:"auto"},media:{width:e.dimensions.popupMaxWidth,display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},media1:{width:"95vw",height:"90vh",display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},gruopBtn:{display:"flex",right:"5px",height:"40px",position:"absolute"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},tittle:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"360px",top:e.spacing(15),transform:"translateX(1%)"},root_max:{pointerEvents:"none",position:"fixed",zIndex:6,left:"51%",top:"5%",transform:"translateX(-50%)"}})),VB=({deviceId:e,deviceIp:t,camera_src:n,onClose:r})=>{const i=qTe();Ln(O=>O.data.camera[e]);const o=Ln(O=>O.devices.items[e]),s="http://"+t+":8889/"+n,[a,f]=V.useState(!1);let h=i.card,g=a?i.root_max:i.root,y=a?i.media1:i.media;function x(){f(!a)}V.useRef();function P(){r(),f(!1)}return V.useEffect(()=>{e&&console.log("device in camera-"+o.name+"-"+t+"+"+n)},[e]),z.jsx("div",{className:g,children:o&&z.jsxs(yu,{elevation:3,className:h,children:[z.jsxs("div",{className:i.gruopBtn,children:[z.jsx(Kn,{size:"small",onClick:x,onTouchStart:x,children:z.jsx(nD,{fontSize:"small",className:i.mediaButton})}),z.jsx(Kn,{size:"small",onClick:P,children:z.jsx(lu,{fontSize:"small",className:i.mediaButton})})]}),z.jsx("div",{className:i.tittle,children:"Image "+o.name}),z.jsx("iframe",{src:s,className:y})]})})},GTe=Xr(e=>({root:{height:"100%"},sidebarStyle:{pointerEvents:"none",display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 88px)",width:"360px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},contentListStyle:{pointerEvents:"auto",gridArea:"1 / 1",zIndex:4}})),HTe=()=>{const e=GTe(),t=Cl(),n=mu(),r=Ln(Ee=>Ee.devices.items),i=Ln(Ee=>Ee.data.positions),o=Ln(Ee=>Ee.data.camera),s=Ln(Ee=>Ee.devices.selectedId),a=Ln(Ee=>Ee.session.markers),[f,h]=V.useState([]),[g,y]=V.useState([]),[x,P]=V.useState([]),[O,S]=V.useState(),[A,I]=V.useState(),[M,k]=V.useState(),[$,L]=V.useState(),N=`${window.location.hostname}`,F=f.find(Ee=>s&&Ee.deviceId===s),G=x.find(Ee=>s&&Ee.deviceId==s);let J=Object.values(r);V.useContext(jd);const[ee,ae]=V.useState(!1),[pe,ye]=V.useState([]);let we=null;const Ce=(Ee,Se)=>{switch(Ee){case"success":we={id:pe.length+1,title:"Success",description:Se,backgroundColor:"#5cb85c"};break;case"danger":we={id:pe.length+1,title:"Danger",description:Se,backgroundColor:"#d9534f"};break;case"info":we={id:pe.length+1,title:"Info",description:Se,backgroundColor:"#5bc0de"};break;case"warning":we={id:pe.length+1,title:"Warning",description:Se,backgroundColor:"#f0ad4e"};break;default:we=[]}ye([...pe,we])},Oe=V.useCallback((Ee,Se)=>{t(hl.selectId(Se))},[t]);return V.useEffect(()=>{y(a)},[a]),V.useEffect(()=>{h(Object.values(i))},[i]),V.useEffect(()=>{P(Object.values(o))},[o]),V.useEffect(()=>{s?(S(r[s].ip),r[s].camera.length>0?(I(r[s].camera[0].type),k(r[s].camera[0].source)):I(null),L(r[s].name)):(S(null),I(null))},[s]),z.jsx("div",{className:e.root,children:z.jsxs(BR,{notification:Ce,children:[z.jsx(FR,{SetAddUAVOpen:ae}),z.jsx(XR,{SetAddUAVOpen:ae}),z.jsx("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 88px)"},children:z.jsxs(CR,{children:[z.jsx(UG,{markers:g}),z.jsx(FG,{}),z.jsx(SD,{positions:f,onClick:Oe,selectedPosition:F,showStatus:!0}),z.jsx(VG,{})]})}),z.jsx("div",{className:e.sidebarStyle,children:z.jsx("div",{className:e.middleStyle,children:z.jsxs(_l,{square:!0,className:e.contentListStyle,children:[z.jsx(xH,{SetAddUAVOpen:ae}),z.jsx(tH,{devices:J})]})})}),ee&&z.jsx(i1e,{SetAddUAVOpen:ae}),z.jsx(STe,{deviceId:s,position:F,onClose:()=>t(hl.selectId(null)),desktopPadding:n.dimensions.drawerWidthDesktop}),z.jsx(jd.Consumer,{children:({confirmMission:Ee,setconfirmMission:Se,commandMission:De})=>z.jsx(MTe,{enable:Ee,onClose:()=>Se(!1),onSucces:()=>De()})}),A==="WebRTC"&&z.jsx(VB,{deviceId:s,deviceIp:N,camera_src:$+"_"+M,onClose:()=>t(hl.selectId(null))}),A==="WebRTC_env"&&z.jsx(VB,{deviceId:s,deviceIp:O,camera_src:M,onClose:()=>t(hl.selectId(null))}),A==="Websocket"&&z.jsx(u1e,{deviceId:s,datacamera:G,onClose:()=>t(hl.selectId(null))}),z.jsx(Y_e,{toastlist:pe,position:"buttom-right",setList:ye})]})})},UD=Pe.createContext(),YTe=({children:e})=>{const[t,n]=V.useState({route_id:-1,wp_id:-1});return z.jsx("div",{style:{width:"100%",height:"100%"},children:z.jsx(UD.Provider,{value:{changeWp:t,setChangeWp:n},children:e})})};class KTe{constructor(){this.routes=[],this.selecwp={id:-1}}initroute(t){this.routes=JSON.parse(JSON.stringify(t))}getroute(){return this.routes}setroute(t){this.routes=t}getSelectwp(){return this.selecwp}setSelecwp(t){this.selecwp=t}}const ZTe=()=>{const e=V.useId(),t=`${e}-points`,n=`${e}-points-clusters`,r=Ln(A=>A.mission.route);Ln(A=>A.mission.selectpoint);const i=!0,o=.6,s=Cl(),[a,f]=V.useState(new KTe),h=V.useContext(UD);let g=Ge.getCanvasContainer();function y(A){let I=A.lngLat;g.style.cursor="grabbing",console.log("on move point"+I.lng+"-"+I.lat);let M=a.getroute(),k=a.getSelectwp();k.id>=0&&(M[k.route_id].wp[k.id].pos[0]=A.lngLat.lat,M[k.route_id].wp[k.id].pos[1]=A.lngLat.lng);let $=S(M);Ge.getSource(t).setData({type:"FeatureCollection",features:$.map(L=>({type:"Feature",geometry:{type:"Point",coordinates:[L.longitude,L.latitude]},properties:P(M,L)}))}),Ge.getSource(e).setData({type:"FeatureCollection",features:M.map(L=>O(L))})}function x(A){var I=A.lngLat;g.style.cursor="";let M=a.getSelectwp();console.log(`Longitude: ${I.lng} Latitude: ${I.lat}`),h.setChangeWp({wp_id:M.id,route_id:M.route_id,lng:A.lngLat.lng,lat:A.lngLat.lat}),a.setSelecwp({id:-1}),Ge.off("mousemove",y),Ge.off("touchmove",y)}const P=(A,I)=>({id:I.id,route_id:I.routeid,name:A[I.routeid].name,uav:A[I.routeid].uav,latitude:A[I.routeid].wp[I.id].pos[0],longitude:A[I.routeid].wp[I.id].pos[1],altitud:A[I.routeid].wp[I.id].pos[2],yaw:A[I.routeid].wp[I.id].yaw,gimbal:A[I.routeid].wp[I.id].gimbal,actions:A[I.routeid].wp[I.id].action,attributes:A[I.routeid].attributes,category:"default",color:A[I.routeid].id});V.useEffect(()=>(console.log("render"),Ge.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:i,clusterMaxZoom:10,clusterRadius:50}),Ge.addSource(e,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),Ge.addLayer({source:e,id:"mission-line",type:"line",paint:{"line-color":["get","color"],"line-width":2}}),Ge.addLayer({source:e,id:"mission-title",type:"symbol",layout:{"text-field":"{name}","text-font":Zc(Ge),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),Ge.addLayer({id:"mission-points",type:"symbol",source:t,filter:["!has","point_count"],layout:{"icon-image":"background-{color}","icon-size":o,"icon-allow-overlap":!0,"text-allow-overlap":!0,"text-field":"{id}","text-font":Zc(Ge),"text-size":14},paint:{"text-color":"white"}}),Ge.addLayer({id:n,type:"symbol",source:t,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":o,"text-field":"M","text-font":Zc(Ge),"text-size":14}}),Ge.on("mouseenter","mission-points",function(){g.style.cursor="move"}),Ge.on("mouseleave","mission-points",function(){g.style.cursor=""}),Ge.on("mousedown","mission-points",function(A){A.preventDefault(),a.setSelecwp(A.features[0].properties),s(Fc.selectpoint(A.features[0].properties)),g.style.cursor="grab",Ge.on("mousemove",y),Ge.once("mouseup",x)}),Ge.on("touchstart","mission-points",function(A){A.points.length===1&&(console.log("touch start"),A.preventDefault(),Ge.on("touchmove",y),Ge.once("touchend",x))}),Ge.on("click",function(A){console.log("A click event has occurred at "+A.lngLat)}),()=>{Ge.getLayer("mission-line")&&Ge.removeLayer("mission-line"),Ge.getLayer("mission-title")&&Ge.removeLayer("mission-title"),Ge.getLayer("mission-points")&&Ge.removeLayer("mission-points"),Ge.getLayer(n)&&Ge.removeLayer(n),Ge.getSource(e)&&Ge.removeSource(e),Ge.getSource(t)&&Ge.removeSource(t)}),[]);function O(A){let I=Object.values(A.wp).map(function(M){return[M.pos[1],M.pos[0]]});return{id:A.id,type:"Feature",geometry:{type:"LineString",coordinates:I},properties:{name:A.uav,color:mh.colors_devices[A.id]}}}function S(A){let I=[];return A.map((M,k)=>{M.wp.map(($,L)=>{I.push({longitude:$.pos[1],latitude:$.pos[0],id:L,routeid:k})})}),I}return V.useEffect(()=>{console.log("Mapmission upload mission"),a.initroute(r);let A=S(r);Ge.getSource(t).setData({type:"FeatureCollection",features:A.map(I=>({type:"Feature",geometry:{type:"Point",coordinates:[I.longitude,I.latitude]},properties:P(r,I)}))}),Ge.getSource(e).setData({type:"FeatureCollection",features:r.map(I=>O(I))})},[r]),null},XTe=Xr(e=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),JTe=({mission:e,setmission:t,index:n,index_wp:r,waypoint:i,expand_wp:o,AddnewWp:s})=>{const a=XTe(),[f,h]=V.useState(!1),[g,y]=V.useState(!0),[x,P]=V.useState(0),[O,S]=V.useState(!1);V.useEffect(()=>{console.log("render waypoint"+n+"-"+r)},[]),V.useEffect(()=>{S(o)},[o]);const A=N=>(F,G)=>{S(G?N:!1)};async function I(N,F){let G;const J=await fetch("/api/category/actions/dji_M210_noetic");if(J.ok)G=await J.json();else throw Error(await J.text());let ee=G.find(pe=>pe.id==x),ae=JSON.parse(JSON.stringify(e.route));ae[N].wp[F].hasOwnProperty("action")||(ae[N].wp[F].action={}),ee.param?ae[N].wp[F].action[ee.name]=0:ae[N].wp[F].action[ee.name]=!0,t({...e,route:ae}),y(!0)}const M=(N,F)=>{console.log("remove wp"+N+"-"+F);let G=[...e.route],J=[...e.route[N].wp];J.splice(F,1);let ee={...G[N],wp:J};G[N]=ee,t({...e,route:G})},k=(N,F,G)=>{console.log("remove action"+N+"-"+F+"-"+G);let J=JSON.parse(JSON.stringify(e.route));delete J[N].wp[F].action[G],t({...e,route:J})},$=N=>(F,G)=>{h(G?N:!1)},L=N=>(F,G)=>{y(!1)};return z.jsxs(bh,{expanded:O==="wp "+r,onChange:A("wp "+r),children:[z.jsxs(_h,{expandIcon:z.jsx(Bd,{}),children:[z.jsx(xn,{sx:{width:"33%",flexShrink:0},children:"WP "+r}),z.jsx(Kn,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>M(n,r),children:z.jsx(Eh,{})})]}),z.jsx(xh,{className:a.details,children:O==="wp "+r&&z.jsxs(V.Fragment,{children:[z.jsxs(Uc,{component:"form",sx:{"& .MuiTextField-root":{m:1}},children:[z.jsx("div",{children:z.jsx(xn,{variant:"subtitle1",style:{display:"inline"},children:"Position"})}),z.jsx(Qi,{required:!0,label:"Latitud ",type:"number",sx:{width:"15ch"},variant:"standard",inputProps:{maxLength:16,step:1e-4},value:i.pos?i.pos[0]:0,onChange:N=>t({...e,route:e.route.map(F=>{let G=JSON.parse(JSON.stringify(F));return F==e.route[n]?G.wp[r].pos[0]=+N.target.value:G=F,G})})}),z.jsx(Qi,{required:!0,label:"Longitud ",type:"number",variant:"standard",sx:{width:"15ch"},inputProps:{maxLength:16,step:1e-4},value:i.pos?i.pos[1]:0,onChange:N=>t({...e,route:e.route.map(F=>{let G=JSON.parse(JSON.stringify(F));return F==e.route[n]?G.wp[r].pos[1]=+N.target.value:G=F,G})})}),z.jsx(Qi,{required:!0,label:"altura ",type:"number",variant:"standard",sx:{width:"7ch"},value:i.pos?i.pos[2]:0,onChange:N=>t({...e,route:e.route.map(F=>{let G=JSON.parse(JSON.stringify(F));return F==e.route[n]?G.wp[r].pos[2]=+N.target.value:G=F,G})})})]}),z.jsx(Qi,{required:!0,label:"Speed ",type:"number",variant:"standard",value:i.speed?i.speed:e.route[n].attributes.idle_vel,onChange:N=>t({...e,route:e.route.map(F=>{let G=JSON.parse(JSON.stringify(F));return e.route[n]?G.wp[r].speed=+N.target.value:G=F,G})})}),z.jsx(Qi,{required:!0,label:"YAW ",type:"number",variant:"standard",value:i.yaw?i.yaw:0,onChange:N=>t({...e,route:e.route.map(F=>{let G=JSON.parse(JSON.stringify(F));return F==e.route[n]?G.wp[r].yaw=+N.target.value:G=F,G})})}),z.jsx(Qi,{required:!0,label:"Gimbal ",type:"number",variant:"standard",value:i.gimbal?i.gimbal:0,onChange:N=>t({...e,route:e.route.map(F=>{let G=JSON.parse(JSON.stringify(F));return F==e.route[n]?G.wp[r].gimbal=+N.target.value:G=F,G})})}),z.jsxs(bh,{expanded:f==="wp "+r,onChange:$("wp "+r),children:[z.jsx(_h,{expandIcon:z.jsx(Bd,{}),children:z.jsx(xn,{sx:{width:"33%",flexShrink:0},children:"Actions"})}),z.jsxs(xh,{className:a.details,children:[i.action&&Pe.Children.toArray(Object.keys(i.action).map((N,F,G)=>z.jsxs(V.Fragment,{children:[z.jsxs("div",{children:[z.jsx(xn,{variant:"subtitle1",className:a.attributeName,children:N}),z.jsx("div",{className:a.actionValue,children:z.jsx(Qi,{required:!0,fullWidth:!0,value:i.action[N]?i.action[N]:0,onChange:J=>t({...e,route:e.route.map(ee=>{let ae=JSON.parse(JSON.stringify(ee));return ee==e.route[n]?ae.wp[r].action[N]=J.target.value:ae=ee,ae})})})}),z.jsx(Kn,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>k(n,r,N),className:a.negative,children:z.jsx(Eh,{})})]}),z.jsx(_C,{})]},"fragment-action-"+F))),z.jsx(Uc,{textAlign:"center",children:g?z.jsx(hr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:L(),children:"Add new action"}):z.jsxs("div",{children:[z.jsx(xn,{variant:"subtitle1",children:"Tipo de acccion a aadir"}),z.jsx(Nc,{emptyValue:null,fullWidth:!0,value:x,onChange:N=>P(N.target.value),endpoint:"/api/category/actions/dji_M210_noetic",keyGetter:N=>N.id,titleGetter:N=>N.description}),z.jsxs("div",{children:[z.jsx(hr,{onClick:()=>y(!0),children:"Cancel"}),z.jsx(hr,{onClick:()=>I(n,r),children:"Add"})]})]})})]})]}),z.jsx(Uc,{textAlign:"center",children:z.jsx(hr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:()=>s(n,r),children:"Add new Waypoint"})})]})})]})},QTe=Xr(e=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),eke=({mission:e,setmission:t,setScrool:n})=>{const r=QTe(),i=Ln(L=>L.mission),o=Ln(L=>L.mission.selectpoint),s=Cl(),[a,f]=V.useState(!1),[h,g]=V.useState(!1),[y,x]=V.useState(!1),[P,O]=V.useState(!0);V.useEffect(()=>{console.log("render Router list")},[]),V.useEffect(()=>{t(i),i.route.length>0?O(!1):O(!0),f(!0)},[i]),V.useEffect(()=>{a&&(console.log("update mission"),s(Fc.reloadMission(e.route))),e.route.length>0?O(!1):O(!0)},[e.route]),V.useEffect(()=>{a&&s(Fc.reloadName({name:e.name,description:e.description}))},[e.name,e.description]),V.useEffect(()=>{g("Rute "+o.route_id),x("wp "+o.id),n(500+o.route_id*50+o.id*50)},[o]);const S=()=>{t({name:"new Mission",description:"",route:[]}),O(!1),A(),console.log("add new mission")},A=()=>{let L=[...e.route],N=L.length>0?+L.slice(-1)[0].id+1:0,F={max_vel:12,idle_vel:3,mode_yaw:2,mode_gimbal:0,mode_trace:0,mode_landing:2};L.push({name:"",uav:"",id:N,attributes:F,wp:[]}),t({...e,route:L})},I=(L,N)=>{console.log("add new wp"+L);let F=JSON.parse(JSON.stringify(e.route)),G=Ge.getCenter();N>0&&(G.lat=(F[L].wp[N].pos[0]+F[L].wp[N-1].pos[0])/2,G.lng=(F[L].wp[N].pos[1]+F[L].wp[N-1].pos[1])/2),N<0?F[L].wp.push({pos:[G.lat,G.lng,5],action:{}}):F[L].wp.splice(N,0,{pos:[G.lat,G.lng,5],action:{}}),t({...e,route:F})},M=L=>{console.log("remove route"+L);let N=JSON.parse(JSON.stringify(e.route));N.splice(L,1),t({...e,route:N})},k=L=>(N,F)=>{g(F?L:!1)},$=L=>(N,F)=>{x(F?L:!1)};return z.jsx(V.Fragment,{children:P?z.jsx(Uc,{textAlign:"center",children:z.jsx(hr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:S,children:"Create New Mission"})}):z.jsx(V.Fragment,{children:z.jsxs(Uc,{style:{display:"flex",gap:"10px",flexDirection:"column",margin:"20px"},children:[z.jsx(Qi,{required:!0,label:"Name Mission",variant:"standard",value:e.name?e.name:" ",onChange:L=>t({...e,name:L.target.value})}),z.jsx(Qi,{required:!0,label:"Description of mission",variant:"standard",value:e.description?e.description:" ",onChange:L=>t({...e,description:L.target.value})}),Pe.Children.toArray(Object.values(e.route).map((L,N,F)=>z.jsxs(V.Fragment,{children:[z.jsxs(bh,{expanded:h==="Rute "+N,onChange:k("Rute "+N),children:[z.jsxs(_h,{expandIcon:z.jsx(Bd,{}),children:[z.jsx(xn,{sx:{width:"33%",flexShrink:0,color:mh.colors_devices[L.id]},children:"Rute "+N}),z.jsx(xn,{sx:{color:"text.secondary"},children:L.name+"- "+L.uav}),z.jsx(Kn,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>M(N),children:z.jsx(Eh,{})})]}),z.jsx(xh,{className:r.details,children:h==="Rute "+N&&z.jsxs(V.Fragment,{children:[z.jsx(Qi,{required:!0,label:"Route Name",variant:"standard",value:L.name?L.name:"",onChange:G=>t({...e,route:e.route.map(J=>J==e.route[N]?{...L,name:G.target.value}:J)})}),z.jsx(Qi,{required:!0,label:"UAV id",variant:"standard",value:L.uav?L.uav:"uav_",onChange:G=>t({...e,route:e.route.map(J=>J==e.route[N]?{...L,uav:G.target.value}:J)})}),z.jsx(Nc,{emptyValue:null,value:L.uav_type?L.uav_type:"",onChange:G=>t({...e,route:e.route.map(J=>J==e.route[N]?{...L,uav_type:G.target.value}:J)}),endpoint:"/api/category",keyGetter:G=>G,titleGetter:G=>G,label:"Type UAV mission",style:{display:"inline",width:"200px"}}),z.jsxs(bh,{expanded:y==="wp -"+N,onChange:$("wp -"+N),children:[z.jsx(_h,{expandIcon:z.jsx(Bd,{}),children:z.jsx(xn,{sx:{width:"53%",flexShrink:0},children:"Route Attributes"})}),z.jsx(xh,{className:r.details,children:L.attributes&&z.jsxs(V.Fragment,{children:[z.jsxs("div",{children:[z.jsx(xn,{variant:"subtitle1",className:r.attributeName,children:"Speed Mode"}),z.jsx("div",{className:r.attributeValue,children:z.jsx(Nc,{emptyValue:null,fullWidth:!0,value:L.attributes.mode_speed?L.attributes.mode_speed:0,onChange:G=>t({...e,route:e.route.map(J=>{let ee=JSON.parse(JSON.stringify(J));return J===e.route[N]?ee.attributes.mode_speed=G.target.value:ee=J,ee})}),endpoint:"/api/category/atributesparam/dji_M300/mode_speed",keyGetter:G=>G.id,titleGetter:G=>G.name})})]}),z.jsxs("div",{children:[z.jsx(xn,{variant:"subtitle1",className:r.attributeName,children:"Speed idle (m/s):"}),z.jsx(Qi,{fullWidth:!0,required:!0,type:"number",className:r.attributeValue,value:L.attributes.idle_vel?L.attributes.idle_vel:1.85,onChange:G=>t({...e,route:e.route.map(J=>{let ee=JSON.parse(JSON.stringify(J));return J==e.route[N]?ee.attributes.idle_vel=+G.target.value:ee=J,ee})})})]}),z.jsxs("div",{children:[z.jsx(xn,{variant:"subtitle1",className:r.attributeName,children:"Speed MAX (m/s):"}),z.jsx(Qi,{fullWidth:!0,required:!0,type:"number",className:r.attributeValue,value:L.attributes.max_vel?L.attributes.max_vel:12,onChange:G=>t({...e,route:e.route.map(J=>{let ee=JSON.parse(JSON.stringify(J));return J==e.route[N]?ee.attributes.max_vel=+G.target.value:ee=J,ee})})})]}),z.jsxs("div",{children:[z.jsx(xn,{variant:"subtitle1",className:r.attributeName,children:"landing mode"}),z.jsx("div",{className:r.attributeValue,children:z.jsx(Nc,{emptyValue:null,fullWidth:!0,value:L.attributes.mode_landing?L.attributes.mode_landing:0,onChange:G=>t({...e,route:e.route.map(J=>{let ee=JSON.parse(JSON.stringify(J));return J===e.route[N]?ee.attributes.mode_landing=G.target.value:ee=J,ee})}),endpoint:"/api/category/atributesparam/dji_M300/mode_landing",keyGetter:G=>G.id,titleGetter:G=>G.name})})]}),z.jsxs("div",{children:[z.jsx(xn,{variant:"subtitle1",className:r.attributeName,children:"Yaw mode"}),z.jsx("div",{className:r.attributeValue,children:z.jsx(Nc,{emptyValue:null,fullWidth:!0,value:L.attributes.mode_yaw?L.attributes.mode_yaw:0,onChange:G=>t({...e,route:e.route.map(J=>{let ee=JSON.parse(JSON.stringify(J));return J===e.route[N]?ee.attributes.mode_yaw=G.target.value:ee=J,ee})}),endpoint:"/api/category/atributesparam/dji_M300/mode_yaw",keyGetter:G=>G.id,titleGetter:G=>G.name})})]}),z.jsxs("div",{children:[z.jsxs(xn,{variant:"subtitle1",className:r.attributeName,children:[" ","Gimbal mode"," "]}),z.jsx("div",{className:r.attributeValue,children:z.jsx(Nc,{emptyValue:null,fullWidth:!0,value:L.attributes.mode_gimbal?L.attributes.mode_gimbal:0,onChange:G=>t({...e,route:e.route.map(J=>{let ee=JSON.parse(JSON.stringify(J));return J===e.route[N]?ee.attributes.mode_gimbal=G.target.value:ee=J,ee})}),endpoint:"/api/category/atributesparam/dji_M300/mode_gimbal",keyGetter:G=>G.id,titleGetter:G=>G.name})})]}),z.jsxs("div",{children:[z.jsx(xn,{variant:"subtitle1",className:r.attributeName,children:"Trace mode:"}),z.jsx("div",{className:r.attributeValue,children:z.jsx(Nc,{emptyValue:null,fullWidth:!0,value:L.attributes.mode_trace?L.attributes.mode_trace:0,onChange:G=>t({...e,route:e.route.map(J=>{let ee=JSON.parse(JSON.stringify(J));return J===e.route[N]?ee.attributes.mode_trace=G.target.value:ee=J,ee})}),endpoint:"/api/category/atributesparam/dji_M300/mode_trace",keyGetter:G=>G.id,titleGetter:G=>G.name})})]})]},"fragment-route-atri-"+L.id)})]}),z.jsx(xn,{variant:"subtitle1",children:"Waypoints"}),Pe.Children.toArray(Object.values(L.wp).map((G,J,ee)=>z.jsx(JTe,{mission:e,setmission:t,index_wp:J,index:N,waypoint:G,AddnewWp:I,expand_wp:y}))),z.jsx(Uc,{textAlign:"center",children:z.jsx(hr,{value:N,variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:G=>I(G.target.value,-1),children:"Add new Waypoint"})})]})})]}),N<F.length-1?z.jsx(_C,{}):null]},"fragment-route-"+N))),z.jsx(Uc,{textAlign:"center",children:z.jsx(hr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:A,children:"Add new Route"})})]})})})};var VD={},tke=dr;Object.defineProperty(VD,"__esModule",{value:!0});var nE=VD.default=void 0,nke=tke(fr()),rke=z,ike=(0,nke.default)((0,rke.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");nE=VD.default=ike;var WD={},oke=dr;Object.defineProperty(WD,"__esModule",{value:!0});var _H=WD.default=void 0,ake=oke(fr()),ske=z,lke=(0,ake.default)((0,ske.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile");_H=WD.default=lke;var qD={},cke=dr;Object.defineProperty(qD,"__esModule",{value:!0});var wH=qD.default=void 0,uke=cke(fr()),dke=z,fke=(0,uke.default)((0,dke.jsx)("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67 2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt");wH=qD.default=fke;const hke=Xr(e=>({toolbar:{display:"flex",gap:"10px 10px",height:"30px",borderBottom:"3px solid rgb(212, 212, 212)"},list:{maxHeight:"calc(100vh - 152px)",overflowY:"auto"},title:{flexGrow:1},fileInput:{display:"none"}})),pke=({SetOpenSave:e})=>{const t=hke(),n=kg(),r=V.useContext(jd),i=V.useRef(null),[o,s]=Pe.useState(!1),a=V.useContext(UD),f=()=>{s(S=>!S)},[h,g]=V.useState({name:"no mission",description:"",route:[]});V.useEffect(()=>{if(a.changeWp.route_id>=0)if(o){let S=JSON.parse(JSON.stringify(h.route)),A=a.changeWp.lat-S[a.changeWp.route_id].wp[a.changeWp.wp_id].pos[0],I=a.changeWp.lng-S[a.changeWp.route_id].wp[a.changeWp.wp_id].pos[1],M=S[a.changeWp.route_id].wp.map(k=>{let $=k;return $.pos[0]=A+k.pos[0],$.pos[1]=I+k.pos[1],$});S[a.changeWp.route_id].wp=M,g({...h,route:S})}else{let S=JSON.parse(JSON.stringify(h.route));S[a.changeWp.route_id].wp[a.changeWp.wp_id].pos[0]=a.changeWp.lat,S[a.changeWp.route_id].wp[a.changeWp.wp_id].pos[1]=a.changeWp.lng,g({...h,route:S})}},[a.changeWp]);const y=S=>{console.log("scrool"+S),i.current.scroll&&setTimeout(()=>{i.current.scroll(0,S)},1e3)},x=S=>{const A=S.target.files[0];if(!A)return;const I=new FileReader;I.readAsText(A),I.onload=()=>{console.log(I.result),console.log(A.name),r.openMision(A.name,I.result)},I.onerror=()=>{console.log(I.error)}},P=()=>{g({name:"no mission",description:"",route:[]})},O=()=>{console.log("save mission"),e(!0)};return z.jsxs(V.Fragment,{children:[z.jsxs(fx,{className:t.toolbar,children:[z.jsx(Kn,{edge:"start",sx:{mr:2},onClick:()=>n(-1),children:z.jsx(nE,{})}),z.jsx(xn,{variant:"h6",className:t.title,children:"Mission Task"}),z.jsx(xn,{children:"Group Route"}),z.jsx(dye,{checked:o,onChange:f,name:"checkedA",inputProps:{"aria-label":"secondary checkbox"}}),z.jsx(Kn,{onClick:O,children:z.jsx(wH,{})}),z.jsx(Kn,{onClick:P,children:z.jsx(Eh,{})}),z.jsxs("label",{htmlFor:"upload-gpx",children:[z.jsx("input",{accept:".yaml, .plan, .waypoint, .kml",id:"upload-gpx",type:"file",className:t.fileInput,onChange:x}),z.jsx(Kn,{edge:"end",component:"span",onClick:()=>{},children:z.jsx(_H,{})})]})]}),z.jsx("div",{ref:i,className:t.list,children:z.jsx(eke,{mission:h,setmission:g,setScrool:y})})]})};var SH={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var s=typeof o;if(s==="string"||s==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&r.push(a)}}else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var f in o)t.call(o,f)&&o[f]&&r.push(f)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(SH);var mke=SH.exports;const mr=tr(mke);function gke(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Hd=gke;const Vg=tr(Hd);var yke=typeof Gv=="object"&&Gv&&Gv.Object===Object&&Gv,CH=yke,vke=CH,bke=typeof self=="object"&&self&&self.Object===Object&&self,xke=vke||bke||Function("return this")(),gc=xke,_ke=gc,wke=_ke.Symbol,Sx=wke,WB=Sx,EH=Object.prototype,Ske=EH.hasOwnProperty,Cke=EH.toString,Dv=WB?WB.toStringTag:void 0;function Eke(e){var t=Ske.call(e,Dv),n=e[Dv];try{e[Dv]=void 0;var r=!0}catch{}var i=Cke.call(e);return r&&(t?e[Dv]=n:delete e[Dv]),i}var Tke=Eke,kke=Object.prototype,Pke=kke.toString;function Oke(e){return Pke.call(e)}var Ake=Oke,qB=Sx,Mke=Tke,Ike=Ake,$ke="[object Null]",Rke="[object Undefined]",GB=qB?qB.toStringTag:void 0;function Dke(e){return e==null?e===void 0?Rke:$ke:GB&&GB in Object(e)?Mke(e):Ike(e)}var xu=Dke,Lke=xu,Nke=Hd,zke="[object AsyncFunction]",jke="[object Function]",Bke="[object GeneratorFunction]",Fke="[object Proxy]";function Uke(e){if(!Nke(e))return!1;var t=Lke(e);return t==jke||t==Bke||t==zke||t==Fke}var GD=Uke;const yn=tr(GD);var Vke=Array.isArray,fa=Vke;const yo=tr(fa);function Wke(e){return e!=null&&typeof e=="object"}var _u=Wke,qke=xu,Gke=fa,Hke=_u,Yke="[object String]";function Kke(e){return typeof e=="string"||!Gke(e)&&Hke(e)&&qke(e)==Yke}var Zke=Kke;const Cx=tr(Zke);var Xke=xu,Jke=_u,Qke="[object Symbol]";function ePe(e){return typeof e=="symbol"||Jke(e)&&Xke(e)==Qke}var Wg=ePe,tPe=fa,nPe=Wg,rPe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,iPe=/^\w*$/;function oPe(e,t){if(tPe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||nPe(e)?!0:iPe.test(e)||!rPe.test(e)||t!=null&&e in Object(t)}var HD=oPe,aPe=gc,sPe=aPe["__core-js_shared__"],lPe=sPe,zP=lPe,HB=function(){var e=/[^.]+$/.exec(zP&&zP.keys&&zP.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function cPe(e){return!!HB&&HB in e}var uPe=cPe,dPe=Function.prototype,fPe=dPe.toString;function hPe(e){if(e!=null){try{return fPe.call(e)}catch{}try{return e+""}catch{}}return""}var TH=hPe,pPe=GD,mPe=uPe,gPe=Hd,yPe=TH,vPe=/[\\^$.*+?()[\]{}|]/g,bPe=/^\[object .+?Constructor\]$/,xPe=Function.prototype,_Pe=Object.prototype,wPe=xPe.toString,SPe=_Pe.hasOwnProperty,CPe=RegExp("^"+wPe.call(SPe).replace(vPe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function EPe(e){if(!gPe(e)||mPe(e))return!1;var t=pPe(e)?CPe:bPe;return t.test(yPe(e))}var TPe=EPe;function kPe(e,t){return e==null?void 0:e[t]}var PPe=kPe,OPe=TPe,APe=PPe;function MPe(e,t){var n=APe(e,t);return OPe(n)?n:void 0}var $h=MPe,IPe=$h,$Pe=IPe(Object,"create"),rE=$Pe,YB=rE;function RPe(){this.__data__=YB?YB(null):{},this.size=0}var DPe=RPe;function LPe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var NPe=LPe,zPe=rE,jPe="__lodash_hash_undefined__",BPe=Object.prototype,FPe=BPe.hasOwnProperty;function UPe(e){var t=this.__data__;if(zPe){var n=t[e];return n===jPe?void 0:n}return FPe.call(t,e)?t[e]:void 0}var VPe=UPe,WPe=rE,qPe=Object.prototype,GPe=qPe.hasOwnProperty;function HPe(e){var t=this.__data__;return WPe?t[e]!==void 0:GPe.call(t,e)}var YPe=HPe,KPe=rE,ZPe="__lodash_hash_undefined__";function XPe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=KPe&&t===void 0?ZPe:t,this}var JPe=XPe,QPe=DPe,eOe=NPe,tOe=VPe,nOe=YPe,rOe=JPe;function qg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}qg.prototype.clear=QPe;qg.prototype.delete=eOe;qg.prototype.get=tOe;qg.prototype.has=nOe;qg.prototype.set=rOe;var iOe=qg;function oOe(){this.__data__=[],this.size=0}var aOe=oOe;function sOe(e,t){return e===t||e!==e&&t!==t}var YD=sOe,lOe=YD;function cOe(e,t){for(var n=e.length;n--;)if(lOe(e[n][0],t))return n;return-1}var iE=cOe,uOe=iE,dOe=Array.prototype,fOe=dOe.splice;function hOe(e){var t=this.__data__,n=uOe(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():fOe.call(t,n,1),--this.size,!0}var pOe=hOe,mOe=iE;function gOe(e){var t=this.__data__,n=mOe(t,e);return n<0?void 0:t[n][1]}var yOe=gOe,vOe=iE;function bOe(e){return vOe(this.__data__,e)>-1}var xOe=bOe,_Oe=iE;function wOe(e,t){var n=this.__data__,r=_Oe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var SOe=wOe,COe=aOe,EOe=pOe,TOe=yOe,kOe=xOe,POe=SOe;function Gg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Gg.prototype.clear=COe;Gg.prototype.delete=EOe;Gg.prototype.get=TOe;Gg.prototype.has=kOe;Gg.prototype.set=POe;var oE=Gg,OOe=$h,AOe=gc,MOe=OOe(AOe,"Map"),KD=MOe,KB=iOe,IOe=oE,$Oe=KD;function ROe(){this.size=0,this.__data__={hash:new KB,map:new($Oe||IOe),string:new KB}}var DOe=ROe;function LOe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var NOe=LOe,zOe=NOe;function jOe(e,t){var n=e.__data__;return zOe(t)?n[typeof t=="string"?"string":"hash"]:n.map}var aE=jOe,BOe=aE;function FOe(e){var t=BOe(this,e).delete(e);return this.size-=t?1:0,t}var UOe=FOe,VOe=aE;function WOe(e){return VOe(this,e).get(e)}var qOe=WOe,GOe=aE;function HOe(e){return GOe(this,e).has(e)}var YOe=HOe,KOe=aE;function ZOe(e,t){var n=KOe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var XOe=ZOe,JOe=DOe,QOe=UOe,eAe=qOe,tAe=YOe,nAe=XOe;function Hg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Hg.prototype.clear=JOe;Hg.prototype.delete=QOe;Hg.prototype.get=eAe;Hg.prototype.has=tAe;Hg.prototype.set=nAe;var ZD=Hg,kH=ZD,rAe="Expected a function";function XD(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(rAe);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(XD.Cache||kH),n}XD.Cache=kH;var iAe=XD,oAe=iAe,aAe=500;function sAe(e){var t=oAe(e,function(r){return n.size===aAe&&n.clear(),r}),n=t.cache;return t}var lAe=sAe,cAe=lAe,uAe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dAe=/\\(\\)?/g,fAe=cAe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(uAe,function(n,r,i,o){t.push(i?o.replace(dAe,"$1"):r||n)}),t}),hAe=fAe;function pAe(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var JD=pAe,ZB=Sx,mAe=JD,gAe=fa,yAe=Wg,vAe=1/0,XB=ZB?ZB.prototype:void 0,JB=XB?XB.toString:void 0;function PH(e){if(typeof e=="string")return e;if(gAe(e))return mAe(e,PH)+"";if(yAe(e))return JB?JB.call(e):"";var t=e+"";return t=="0"&&1/e==-vAe?"-0":t}var bAe=PH,xAe=bAe;function _Ae(e){return e==null?"":xAe(e)}var OH=_Ae,wAe=fa,SAe=HD,CAe=hAe,EAe=OH;function TAe(e,t){return wAe(e)?e:SAe(e,t)?[e]:CAe(EAe(e))}var AH=TAe,kAe=Wg,PAe=1/0;function OAe(e){if(typeof e=="string"||kAe(e))return e;var t=e+"";return t=="0"&&1/e==-PAe?"-0":t}var sE=OAe,AAe=AH,MAe=sE;function IAe(e,t){t=AAe(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[MAe(t[n++])];return n&&n==r?e:void 0}var QD=IAe,$Ae=QD;function RAe(e,t,n){var r=e==null?void 0:$Ae(e,t);return r===void 0?n:r}var MH=RAe;const $s=tr(MH);function DAe(e){return e==null}var LAe=DAe;const mn=tr(LAe);var IH={exports:{}},vr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ro=typeof Symbol=="function"&&Symbol.for,eL=ro?Symbol.for("react.element"):60103,tL=ro?Symbol.for("react.portal"):60106,lE=ro?Symbol.for("react.fragment"):60107,cE=ro?Symbol.for("react.strict_mode"):60108,uE=ro?Symbol.for("react.profiler"):60114,dE=ro?Symbol.for("react.provider"):60109,fE=ro?Symbol.for("react.context"):60110,nL=ro?Symbol.for("react.async_mode"):60111,hE=ro?Symbol.for("react.concurrent_mode"):60111,pE=ro?Symbol.for("react.forward_ref"):60112,mE=ro?Symbol.for("react.suspense"):60113,NAe=ro?Symbol.for("react.suspense_list"):60120,gE=ro?Symbol.for("react.memo"):60115,yE=ro?Symbol.for("react.lazy"):60116,zAe=ro?Symbol.for("react.block"):60121,jAe=ro?Symbol.for("react.fundamental"):60117,BAe=ro?Symbol.for("react.responder"):60118,FAe=ro?Symbol.for("react.scope"):60119;function os(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case eL:switch(e=e.type,e){case nL:case hE:case lE:case uE:case cE:case mE:return e;default:switch(e=e&&e.$$typeof,e){case fE:case pE:case yE:case gE:case dE:return e;default:return t}}case tL:return t}}}function $H(e){return os(e)===hE}vr.AsyncMode=nL;vr.ConcurrentMode=hE;vr.ContextConsumer=fE;vr.ContextProvider=dE;vr.Element=eL;vr.ForwardRef=pE;vr.Fragment=lE;vr.Lazy=yE;vr.Memo=gE;vr.Portal=tL;vr.Profiler=uE;vr.StrictMode=cE;vr.Suspense=mE;vr.isAsyncMode=function(e){return $H(e)||os(e)===nL};vr.isConcurrentMode=$H;vr.isContextConsumer=function(e){return os(e)===fE};vr.isContextProvider=function(e){return os(e)===dE};vr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===eL};vr.isForwardRef=function(e){return os(e)===pE};vr.isFragment=function(e){return os(e)===lE};vr.isLazy=function(e){return os(e)===yE};vr.isMemo=function(e){return os(e)===gE};vr.isPortal=function(e){return os(e)===tL};vr.isProfiler=function(e){return os(e)===uE};vr.isStrictMode=function(e){return os(e)===cE};vr.isSuspense=function(e){return os(e)===mE};vr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===lE||e===hE||e===uE||e===cE||e===mE||e===NAe||typeof e=="object"&&e!==null&&(e.$$typeof===yE||e.$$typeof===gE||e.$$typeof===dE||e.$$typeof===fE||e.$$typeof===pE||e.$$typeof===jAe||e.$$typeof===BAe||e.$$typeof===FAe||e.$$typeof===zAe)};vr.typeOf=os;IH.exports=vr;var UAe=IH.exports,VAe=xu,WAe=_u,qAe="[object Number]";function GAe(e){return typeof e=="number"||WAe(e)&&VAe(e)==qAe}var RH=GAe;const HAe=tr(RH);var YAe=RH;function KAe(e){return YAe(e)&&e!=+e}var ZAe=KAe;const Ex=tr(ZAe);var yl=function(t){return t===0?0:t>0?1:-1},Hf=function(t){return Cx(t)&&t.indexOf("%")===t.length-1},Et=function(t){return HAe(t)&&!Ex(t)},Fi=function(t){return Et(t)||Cx(t)},XAe=0,Tx=function(t){var n=++XAe;return"".concat(t||"").concat(n)},ig=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Et(t)&&!Cx(t))return r;var o;if(Hf(t)){var s=t.indexOf("%");o=n*parseFloat(t.slice(0,s))/100}else o=+t;return Ex(o)&&(o=r),i&&o>n&&(o=n),o},Qu=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},JAe=function(t){if(!yo(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},dl=function(t,n){return Et(t)&&Et(n)?function(r){return t+r*(n-t)}:function(){return n}};function dS(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):$s(r,t))===n})}function $m(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function eM(e){"@babel/helpers - typeof";return eM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eM(e)}var QAe=["viewBox","children"],eMe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],QB=["points","pathLength"],jP={svg:QAe,polygon:QB,polyline:QB},rL=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],fS=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(V.isValidElement(t)&&(r=t.props),!Vg(r))return null;var i={};return Object.keys(r).forEach(function(o){rL.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},tMe=function(t,n,r){return function(i){return t(n,r,i),null}},hS=function(t,n,r){if(!Vg(t)||eM(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var s=t[o];rL.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=tMe(s,n,r))}),i},nMe=["children"],rMe=["children"];function eF(e,t){if(e==null)return{};var n=iMe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function iMe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function tM(e){"@babel/helpers - typeof";return tM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tM(e)}var tF={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Pd=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},nF=null,BP=null,iL=function e(t){if(t===nF&&yo(BP))return BP;var n=[];return V.Children.forEach(t,function(r){mn(r)||(UAe.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),BP=n,nF=t,n};function Rs(e,t){var n=[],r=[];return yo(t)?r=t.map(function(i){return Pd(i)}):r=[Pd(t)],iL(e).forEach(function(i){var o=$s(i,"type.displayName")||$s(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Gc(e,t){var n=Rs(e,t);return n&&n[0]}var rF=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!Et(r)||r<=0||!Et(i)||i<=0)},oMe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],aMe=function(t){return t&&t.type&&Cx(t.type)&&oMe.indexOf(t.type)>=0},sMe=function(t){return t&&tM(t)==="object"&&"cx"in t&&"cy"in t&&"r"in t},lMe=function(t,n,r,i){var o,s=(o=jP==null?void 0:jP[i])!==null&&o!==void 0?o:[];return!yn(t)&&(i&&s.includes(n)||eMe.includes(n))||r&&rL.includes(n)},qn=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(V.isValidElement(t)&&(i=t.props),!Vg(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;lMe((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},DH=function e(t,n){if(t===n)return!0;var r=V.Children.count(t);if(r!==V.Children.count(n))return!1;if(r===0)return!0;if(r===1)return iF(yo(t)?t[0]:t,yo(n)?n[0]:n);for(var i=0;i<r;i++){var o=t[i],s=n[i];if(yo(o)||yo(s)){if(!e(o,s))return!1}else if(!iF(o,s))return!1}return!0},iF=function(t,n){if(mn(t)&&mn(n))return!0;if(!mn(t)&&!mn(n)){var r=t.props||{},i=r.children,o=eF(r,nMe),s=n.props||{},a=s.children,f=eF(s,rMe);return i&&a?$m(o,f)&&DH(i,a):!i&&!a?$m(o,f):!1}return!1},oF=function(t,n){var r=[],i={};return iL(t).forEach(function(o,s){if(aMe(o))r.push(o);else if(o){var a=Pd(o.type),f=n[a]||{},h=f.handler,g=f.once;if(h&&(!g||!i[a])){var y=h(o,a,s);r.push(y),i[a]=!0}}}),r},cMe=function(t){var n=t&&t.type;return n&&tF[n]?tF[n]:null},uMe=function(t,n){return iL(n).indexOf(t)},dMe=["children","width","height","viewBox","className","style"];function nM(){return nM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nM.apply(this,arguments)}function fMe(e,t){if(e==null)return{};var n=hMe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function hMe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function rM(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,o=e.className,s=e.style,a=fMe(e,dMe),f=i||{width:n,height:r,x:0,y:0},h=mr("recharts-surface",o);return Pe.createElement("svg",nM({},qn(a,!0,"svg"),{className:h,width:n,height:r,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),Pe.createElement("title",null,e.title),Pe.createElement("desc",null,e.desc),t)}var pMe=["children","className"];function iM(){return iM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iM.apply(this,arguments)}function mMe(e,t){if(e==null)return{};var n=gMe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gMe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Ei=Pe.forwardRef(function(e,t){var n=e.children,r=e.className,i=mMe(e,pMe),o=mr("recharts-layer",r);return Pe.createElement("g",iM({className:o},qn(i,!0),{ref:t}),n)}),yMe=oE;function vMe(){this.__data__=new yMe,this.size=0}var bMe=vMe;function xMe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var _Me=xMe;function wMe(e){return this.__data__.get(e)}var SMe=wMe;function CMe(e){return this.__data__.has(e)}var EMe=CMe,TMe=oE,kMe=KD,PMe=ZD,OMe=200;function AMe(e,t){var n=this.__data__;if(n instanceof TMe){var r=n.__data__;if(!kMe||r.length<OMe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new PMe(r)}return n.set(e,t),this.size=n.size,this}var MMe=AMe,IMe=oE,$Me=bMe,RMe=_Me,DMe=SMe,LMe=EMe,NMe=MMe;function Yg(e){var t=this.__data__=new IMe(e);this.size=t.size}Yg.prototype.clear=$Me;Yg.prototype.delete=RMe;Yg.prototype.get=DMe;Yg.prototype.has=LMe;Yg.prototype.set=NMe;var LH=Yg,zMe="__lodash_hash_undefined__";function jMe(e){return this.__data__.set(e,zMe),this}var BMe=jMe;function FMe(e){return this.__data__.has(e)}var UMe=FMe,VMe=ZD,WMe=BMe,qMe=UMe;function pS(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new VMe;++t<n;)this.add(e[t])}pS.prototype.add=pS.prototype.push=WMe;pS.prototype.has=qMe;var NH=pS;function GMe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var zH=GMe;function HMe(e,t){return e.has(t)}var jH=HMe,YMe=NH,KMe=zH,ZMe=jH,XMe=1,JMe=2;function QMe(e,t,n,r,i,o){var s=n&XMe,a=e.length,f=t.length;if(a!=f&&!(s&&f>a))return!1;var h=o.get(e),g=o.get(t);if(h&&g)return h==t&&g==e;var y=-1,x=!0,P=n&JMe?new YMe:void 0;for(o.set(e,t),o.set(t,e);++y<a;){var O=e[y],S=t[y];if(r)var A=s?r(S,O,y,t,e,o):r(O,S,y,e,t,o);if(A!==void 0){if(A)continue;x=!1;break}if(P){if(!KMe(t,function(I,M){if(!ZMe(P,M)&&(O===I||i(O,I,n,r,o)))return P.push(M)})){x=!1;break}}else if(!(O===S||i(O,S,n,r,o))){x=!1;break}}return o.delete(e),o.delete(t),x}var BH=QMe,eIe=gc,tIe=eIe.Uint8Array,nIe=tIe;function rIe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var iIe=rIe;function oIe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var oL=oIe,aF=Sx,sF=nIe,aIe=YD,sIe=BH,lIe=iIe,cIe=oL,uIe=1,dIe=2,fIe="[object Boolean]",hIe="[object Date]",pIe="[object Error]",mIe="[object Map]",gIe="[object Number]",yIe="[object RegExp]",vIe="[object Set]",bIe="[object String]",xIe="[object Symbol]",_Ie="[object ArrayBuffer]",wIe="[object DataView]",lF=aF?aF.prototype:void 0,FP=lF?lF.valueOf:void 0;function SIe(e,t,n,r,i,o,s){switch(n){case wIe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _Ie:return!(e.byteLength!=t.byteLength||!o(new sF(e),new sF(t)));case fIe:case hIe:case gIe:return aIe(+e,+t);case pIe:return e.name==t.name&&e.message==t.message;case yIe:case bIe:return e==t+"";case mIe:var a=lIe;case vIe:var f=r&uIe;if(a||(a=cIe),e.size!=t.size&&!f)return!1;var h=s.get(e);if(h)return h==t;r|=dIe,s.set(e,t);var g=sIe(a(e),a(t),r,i,o,s);return s.delete(e),g;case xIe:if(FP)return FP.call(e)==FP.call(t)}return!1}var CIe=SIe;function EIe(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var FH=EIe,TIe=FH,kIe=fa;function PIe(e,t,n){var r=t(e);return kIe(e)?r:TIe(r,n(e))}var OIe=PIe;function AIe(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}var MIe=AIe;function IIe(){return[]}var $Ie=IIe,RIe=MIe,DIe=$Ie,LIe=Object.prototype,NIe=LIe.propertyIsEnumerable,cF=Object.getOwnPropertySymbols,zIe=cF?function(e){return e==null?[]:(e=Object(e),RIe(cF(e),function(t){return NIe.call(e,t)}))}:DIe,jIe=zIe;function BIe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var FIe=BIe,UIe=xu,VIe=_u,WIe="[object Arguments]";function qIe(e){return VIe(e)&&UIe(e)==WIe}var GIe=qIe,uF=GIe,HIe=_u,UH=Object.prototype,YIe=UH.hasOwnProperty,KIe=UH.propertyIsEnumerable,ZIe=uF(function(){return arguments}())?uF:function(e){return HIe(e)&&YIe.call(e,"callee")&&!KIe.call(e,"callee")},aL=ZIe,mS={exports:{}};function XIe(){return!1}var JIe=XIe;mS.exports;(function(e,t){var n=gc,r=JIe,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?n.Buffer:void 0,f=a?a.isBuffer:void 0,h=f||r;e.exports=h})(mS,mS.exports);var VH=mS.exports,QIe=9007199254740991,e$e=/^(?:0|[1-9]\d*)$/;function t$e(e,t){var n=typeof e;return t=t??QIe,!!t&&(n=="number"||n!="symbol"&&e$e.test(e))&&e>-1&&e%1==0&&e<t}var sL=t$e,n$e=9007199254740991;function r$e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=n$e}var lL=r$e,i$e=xu,o$e=lL,a$e=_u,s$e="[object Arguments]",l$e="[object Array]",c$e="[object Boolean]",u$e="[object Date]",d$e="[object Error]",f$e="[object Function]",h$e="[object Map]",p$e="[object Number]",m$e="[object Object]",g$e="[object RegExp]",y$e="[object Set]",v$e="[object String]",b$e="[object WeakMap]",x$e="[object ArrayBuffer]",_$e="[object DataView]",w$e="[object Float32Array]",S$e="[object Float64Array]",C$e="[object Int8Array]",E$e="[object Int16Array]",T$e="[object Int32Array]",k$e="[object Uint8Array]",P$e="[object Uint8ClampedArray]",O$e="[object Uint16Array]",A$e="[object Uint32Array]",zr={};zr[w$e]=zr[S$e]=zr[C$e]=zr[E$e]=zr[T$e]=zr[k$e]=zr[P$e]=zr[O$e]=zr[A$e]=!0;zr[s$e]=zr[l$e]=zr[x$e]=zr[c$e]=zr[_$e]=zr[u$e]=zr[d$e]=zr[f$e]=zr[h$e]=zr[p$e]=zr[m$e]=zr[g$e]=zr[y$e]=zr[v$e]=zr[b$e]=!1;function M$e(e){return a$e(e)&&o$e(e.length)&&!!zr[i$e(e)]}var I$e=M$e;function $$e(e){return function(t){return e(t)}}var WH=$$e,gS={exports:{}};gS.exports;(function(e,t){var n=CH,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var f=i&&i.require&&i.require("util").types;return f||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(gS,gS.exports);var R$e=gS.exports,D$e=I$e,L$e=WH,dF=R$e,fF=dF&&dF.isTypedArray,N$e=fF?L$e(fF):D$e,qH=N$e,z$e=FIe,j$e=aL,B$e=fa,F$e=VH,U$e=sL,V$e=qH,W$e=Object.prototype,q$e=W$e.hasOwnProperty;function G$e(e,t){var n=B$e(e),r=!n&&j$e(e),i=!n&&!r&&F$e(e),o=!n&&!r&&!i&&V$e(e),s=n||r||i||o,a=s?z$e(e.length,String):[],f=a.length;for(var h in e)(t||q$e.call(e,h))&&!(s&&(h=="length"||i&&(h=="offset"||h=="parent")||o&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||U$e(h,f)))&&a.push(h);return a}var H$e=G$e,Y$e=Object.prototype;function K$e(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Y$e;return e===n}var Z$e=K$e;function X$e(e,t){return function(n){return e(t(n))}}var GH=X$e,J$e=GH,Q$e=J$e(Object.keys,Object),eRe=Q$e,tRe=Z$e,nRe=eRe,rRe=Object.prototype,iRe=rRe.hasOwnProperty;function oRe(e){if(!tRe(e))return nRe(e);var t=[];for(var n in Object(e))iRe.call(e,n)&&n!="constructor"&&t.push(n);return t}var aRe=oRe,sRe=GD,lRe=lL;function cRe(e){return e!=null&&lRe(e.length)&&!sRe(e)}var kx=cRe,uRe=H$e,dRe=aRe,fRe=kx;function hRe(e){return fRe(e)?uRe(e):dRe(e)}var vE=hRe,pRe=OIe,mRe=jIe,gRe=vE;function yRe(e){return pRe(e,gRe,mRe)}var vRe=yRe,hF=vRe,bRe=1,xRe=Object.prototype,_Re=xRe.hasOwnProperty;function wRe(e,t,n,r,i,o){var s=n&bRe,a=hF(e),f=a.length,h=hF(t),g=h.length;if(f!=g&&!s)return!1;for(var y=f;y--;){var x=a[y];if(!(s?x in t:_Re.call(t,x)))return!1}var P=o.get(e),O=o.get(t);if(P&&O)return P==t&&O==e;var S=!0;o.set(e,t),o.set(t,e);for(var A=s;++y<f;){x=a[y];var I=e[x],M=t[x];if(r)var k=s?r(M,I,x,t,e,o):r(I,M,x,e,t,o);if(!(k===void 0?I===M||i(I,M,n,r,o):k)){S=!1;break}A||(A=x=="constructor")}if(S&&!A){var $=e.constructor,L=t.constructor;$!=L&&"constructor"in e&&"constructor"in t&&!(typeof $=="function"&&$ instanceof $&&typeof L=="function"&&L instanceof L)&&(S=!1)}return o.delete(e),o.delete(t),S}var SRe=wRe,CRe=$h,ERe=gc,TRe=CRe(ERe,"DataView"),kRe=TRe,PRe=$h,ORe=gc,ARe=PRe(ORe,"Promise"),MRe=ARe,IRe=$h,$Re=gc,RRe=IRe($Re,"Set"),HH=RRe,DRe=$h,LRe=gc,NRe=DRe(LRe,"WeakMap"),zRe=NRe,oM=kRe,aM=KD,sM=MRe,lM=HH,cM=zRe,YH=xu,Kg=TH,pF="[object Map]",jRe="[object Object]",mF="[object Promise]",gF="[object Set]",yF="[object WeakMap]",vF="[object DataView]",BRe=Kg(oM),FRe=Kg(aM),URe=Kg(sM),VRe=Kg(lM),WRe=Kg(cM),Rf=YH;(oM&&Rf(new oM(new ArrayBuffer(1)))!=vF||aM&&Rf(new aM)!=pF||sM&&Rf(sM.resolve())!=mF||lM&&Rf(new lM)!=gF||cM&&Rf(new cM)!=yF)&&(Rf=function(e){var t=YH(e),n=t==jRe?e.constructor:void 0,r=n?Kg(n):"";if(r)switch(r){case BRe:return vF;case FRe:return pF;case URe:return mF;case VRe:return gF;case WRe:return yF}return t});var qRe=Rf,UP=LH,GRe=BH,HRe=CIe,YRe=SRe,bF=qRe,xF=fa,_F=VH,KRe=qH,ZRe=1,wF="[object Arguments]",SF="[object Array]",w1="[object Object]",XRe=Object.prototype,CF=XRe.hasOwnProperty;function JRe(e,t,n,r,i,o){var s=xF(e),a=xF(t),f=s?SF:bF(e),h=a?SF:bF(t);f=f==wF?w1:f,h=h==wF?w1:h;var g=f==w1,y=h==w1,x=f==h;if(x&&_F(e)){if(!_F(t))return!1;s=!0,g=!1}if(x&&!g)return o||(o=new UP),s||KRe(e)?GRe(e,t,n,r,i,o):HRe(e,t,f,n,r,i,o);if(!(n&ZRe)){var P=g&&CF.call(e,"__wrapped__"),O=y&&CF.call(t,"__wrapped__");if(P||O){var S=P?e.value():e,A=O?t.value():t;return o||(o=new UP),i(S,A,n,r,o)}}return x?(o||(o=new UP),YRe(e,t,n,r,i,o)):!1}var QRe=JRe,eDe=QRe,EF=_u;function KH(e,t,n,r,i){return e===t?!0:e==null||t==null||!EF(e)&&!EF(t)?e!==e&&t!==t:eDe(e,t,n,r,KH,i)}var cL=KH,tDe=LH,nDe=cL,rDe=1,iDe=2;function oDe(e,t,n,r){var i=n.length,o=i,s=!r;if(e==null)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=n[i];var f=a[0],h=e[f],g=a[1];if(s&&a[2]){if(h===void 0&&!(f in e))return!1}else{var y=new tDe;if(r)var x=r(h,g,f,e,t,y);if(!(x===void 0?nDe(g,h,rDe|iDe,r,y):x))return!1}}return!0}var aDe=oDe,sDe=Hd;function lDe(e){return e===e&&!sDe(e)}var ZH=lDe,cDe=ZH,uDe=vE;function dDe(e){for(var t=uDe(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,cDe(i)]}return t}var fDe=dDe;function hDe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var XH=hDe,pDe=aDe,mDe=fDe,gDe=XH;function yDe(e){var t=mDe(e);return t.length==1&&t[0][2]?gDe(t[0][0],t[0][1]):function(n){return n===e||pDe(n,e,t)}}var vDe=yDe;function bDe(e,t){return e!=null&&t in Object(e)}var xDe=bDe,_De=AH,wDe=aL,SDe=fa,CDe=sL,EDe=lL,TDe=sE;function kDe(e,t,n){t=_De(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var s=TDe(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&EDe(i)&&CDe(s,i)&&(SDe(e)||wDe(e)))}var PDe=kDe,ODe=xDe,ADe=PDe;function MDe(e,t){return e!=null&&ADe(e,t,ODe)}var IDe=MDe,$De=cL,RDe=MH,DDe=IDe,LDe=HD,NDe=ZH,zDe=XH,jDe=sE,BDe=1,FDe=2;function UDe(e,t){return LDe(e)&&NDe(t)?zDe(jDe(e),t):function(n){var r=RDe(n,e);return r===void 0&&r===t?DDe(n,e):$De(t,r,BDe|FDe)}}var VDe=UDe;function WDe(e){return e}var Zg=WDe;function qDe(e){return function(t){return t==null?void 0:t[e]}}var GDe=qDe,HDe=QD;function YDe(e){return function(t){return HDe(t,e)}}var KDe=YDe,ZDe=GDe,XDe=KDe,JDe=HD,QDe=sE;function eLe(e){return JDe(e)?ZDe(QDe(e)):XDe(e)}var tLe=eLe,nLe=vDe,rLe=VDe,iLe=Zg,oLe=fa,aLe=tLe;function sLe(e){return typeof e=="function"?e:e==null?iLe:typeof e=="object"?oLe(e)?rLe(e[0],e[1]):nLe(e):aLe(e)}var Yd=sLe;function lLe(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var JH=lLe;function cLe(e){return e!==e}var uLe=cLe;function dLe(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var fLe=dLe,hLe=JH,pLe=uLe,mLe=fLe;function gLe(e,t,n){return t===t?mLe(e,t,n):hLe(e,pLe,n)}var yLe=gLe,vLe=yLe;function bLe(e,t){var n=e==null?0:e.length;return!!n&&vLe(e,t,0)>-1}var xLe=bLe;function _Le(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var wLe=_Le;function SLe(){}var CLe=SLe,VP=HH,ELe=CLe,TLe=oL,kLe=1/0,PLe=VP&&1/TLe(new VP([,-0]))[1]==kLe?function(e){return new VP(e)}:ELe,OLe=PLe,ALe=NH,MLe=xLe,ILe=wLe,$Le=jH,RLe=OLe,DLe=oL,LLe=200;function NLe(e,t,n){var r=-1,i=MLe,o=e.length,s=!0,a=[],f=a;if(n)s=!1,i=ILe;else if(o>=LLe){var h=t?null:RLe(e);if(h)return DLe(h);s=!1,i=$Le,f=new ALe}else f=t?[]:a;e:for(;++r<o;){var g=e[r],y=t?t(g):g;if(g=n||g!==0?g:0,s&&y===y){for(var x=f.length;x--;)if(f[x]===y)continue e;t&&f.push(y),a.push(g)}else i(f,y,n)||(f!==a&&f.push(y),a.push(g))}return a}var zLe=NLe,jLe=Yd,BLe=zLe;function FLe(e,t){return e&&e.length?BLe(e,jLe(t)):[]}var ULe=FLe;const yS=tr(ULe);var oh=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function VLe(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}var WLe=VLe,qLe=WLe;function GLe(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:qLe(e,t,n)}var HLe=GLe,YLe="\\ud800-\\udfff",KLe="\\u0300-\\u036f",ZLe="\\ufe20-\\ufe2f",XLe="\\u20d0-\\u20ff",JLe=KLe+ZLe+XLe,QLe="\\ufe0e\\ufe0f",eNe="\\u200d",tNe=RegExp("["+eNe+YLe+JLe+QLe+"]");function nNe(e){return tNe.test(e)}var QH=nNe;function rNe(e){return e.split("")}var iNe=rNe,eY="\\ud800-\\udfff",oNe="\\u0300-\\u036f",aNe="\\ufe20-\\ufe2f",sNe="\\u20d0-\\u20ff",lNe=oNe+aNe+sNe,cNe="\\ufe0e\\ufe0f",uNe="["+eY+"]",uM="["+lNe+"]",dM="\\ud83c[\\udffb-\\udfff]",dNe="(?:"+uM+"|"+dM+")",tY="[^"+eY+"]",nY="(?:\\ud83c[\\udde6-\\uddff]){2}",rY="[\\ud800-\\udbff][\\udc00-\\udfff]",fNe="\\u200d",iY=dNe+"?",oY="["+cNe+"]?",hNe="(?:"+fNe+"(?:"+[tY,nY,rY].join("|")+")"+oY+iY+")*",pNe=oY+iY+hNe,mNe="(?:"+[tY+uM+"?",uM,nY,rY,uNe].join("|")+")",gNe=RegExp(dM+"(?="+dM+")|"+mNe+pNe,"g");function yNe(e){return e.match(gNe)||[]}var vNe=yNe,bNe=iNe,xNe=QH,_Ne=vNe;function wNe(e){return xNe(e)?_Ne(e):bNe(e)}var SNe=wNe,CNe=HLe,ENe=QH,TNe=SNe,kNe=OH;function PNe(e){return function(t){t=kNe(t);var n=ENe(t)?TNe(t):void 0,r=n?n[0]:t.charAt(0),i=n?CNe(n,1).join(""):t.slice(1);return r[e]()+i}}var ONe=PNe,ANe=ONe,MNe=ANe("toUpperCase"),INe=MNe;const bE=tr(INe);function $r(e){return function(){return e}}const aY=Math.cos,vS=Math.sin,kl=Math.sqrt,bS=Math.PI,xE=2*bS,fM=Math.PI,hM=2*fM,Df=1e-6,$Ne=hM-Df;function sY(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function RNe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return sY;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class DNe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?sY:RNe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,f=r-t,h=i-n,g=s-t,y=a-n,x=g*g+y*y;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(x>Df)if(!(Math.abs(y*f-h*g)>Df)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let P=r-s,O=i-a,S=f*f+h*h,A=P*P+O*O,I=Math.sqrt(S),M=Math.sqrt(x),k=o*Math.tan((fM-Math.acos((S+x-A)/(2*I*M)))/2),$=k/M,L=k/I;Math.abs($-1)>Df&&this._append`L${t+$*g},${n+$*y}`,this._append`A${o},${o},0,0,${+(y*P>g*O)},${this._x1=t+L*f},${this._y1=n+L*h}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),f=r*Math.sin(i),h=t+a,g=n+f,y=1^s,x=s?i-o:o-i;this._x1===null?this._append`M${h},${g}`:(Math.abs(this._x1-h)>Df||Math.abs(this._y1-g)>Df)&&this._append`L${h},${g}`,r&&(x<0&&(x=x%hM+hM),x>$Ne?this._append`A${r},${r},0,1,${y},${t-a},${n-f}A${r},${r},0,1,${y},${this._x1=h},${this._y1=g}`:x>Df&&this._append`A${r},${r},0,${+(x>=fM)},${y},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function uL(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new DNe(t)}function dL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function lY(e){this._context=e}lY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function _E(e){return new lY(e)}function cY(e){return e[0]}function uY(e){return e[1]}function dY(e,t){var n=$r(!0),r=null,i=_E,o=null,s=uL(a);e=typeof e=="function"?e:e===void 0?cY:$r(e),t=typeof t=="function"?t:t===void 0?uY:$r(t);function a(f){var h,g=(f=dL(f)).length,y,x=!1,P;for(r==null&&(o=i(P=s())),h=0;h<=g;++h)!(h<g&&n(y=f[h],h,f))===x&&((x=!x)?o.lineStart():o.lineEnd()),x&&o.point(+e(y,h,f),+t(y,h,f));if(P)return o=null,P+""||null}return a.x=function(f){return arguments.length?(e=typeof f=="function"?f:$r(+f),a):e},a.y=function(f){return arguments.length?(t=typeof f=="function"?f:$r(+f),a):t},a.defined=function(f){return arguments.length?(n=typeof f=="function"?f:$r(!!f),a):n},a.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),a):i},a.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),a):r},a}function S1(e,t,n){var r=null,i=$r(!0),o=null,s=_E,a=null,f=uL(h);e=typeof e=="function"?e:e===void 0?cY:$r(+e),t=typeof t=="function"?t:$r(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?uY:$r(+n);function h(y){var x,P,O,S=(y=dL(y)).length,A,I=!1,M,k=new Array(S),$=new Array(S);for(o==null&&(a=s(M=f())),x=0;x<=S;++x){if(!(x<S&&i(A=y[x],x,y))===I)if(I=!I)P=x,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),O=x-1;O>=P;--O)a.point(k[O],$[O]);a.lineEnd(),a.areaEnd()}I&&(k[x]=+e(A,x,y),$[x]=+t(A,x,y),a.point(r?+r(A,x,y):k[x],n?+n(A,x,y):$[x]))}if(M)return a=null,M+""||null}function g(){return dY().defined(i).curve(s).context(o)}return h.x=function(y){return arguments.length?(e=typeof y=="function"?y:$r(+y),r=null,h):e},h.x0=function(y){return arguments.length?(e=typeof y=="function"?y:$r(+y),h):e},h.x1=function(y){return arguments.length?(r=y==null?null:typeof y=="function"?y:$r(+y),h):r},h.y=function(y){return arguments.length?(t=typeof y=="function"?y:$r(+y),n=null,h):t},h.y0=function(y){return arguments.length?(t=typeof y=="function"?y:$r(+y),h):t},h.y1=function(y){return arguments.length?(n=y==null?null:typeof y=="function"?y:$r(+y),h):n},h.lineX0=h.lineY0=function(){return g().x(e).y(t)},h.lineY1=function(){return g().x(e).y(n)},h.lineX1=function(){return g().x(r).y(t)},h.defined=function(y){return arguments.length?(i=typeof y=="function"?y:$r(!!y),h):i},h.curve=function(y){return arguments.length?(s=y,o!=null&&(a=s(o)),h):s},h.context=function(y){return arguments.length?(y==null?o=a=null:a=s(o=y),h):o},h}class fY{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function LNe(e){return new fY(e,!0)}function NNe(e){return new fY(e,!1)}const fL={draw(e,t){const n=kl(t/bS);e.moveTo(n,0),e.arc(0,0,n,0,xE)}},zNe={draw(e,t){const n=kl(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},hY=kl(1/3),jNe=hY*2,BNe={draw(e,t){const n=kl(t/jNe),r=n*hY;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},FNe={draw(e,t){const n=kl(t),r=-n/2;e.rect(r,r,n,n)}},UNe=.8908130915292852,pY=vS(bS/10)/vS(7*bS/10),VNe=vS(xE/10)*pY,WNe=-aY(xE/10)*pY,qNe={draw(e,t){const n=kl(t*UNe),r=VNe*n,i=WNe*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const s=xE*o/5,a=aY(s),f=vS(s);e.lineTo(f*n,-a*n),e.lineTo(a*r-f*i,f*r+a*i)}e.closePath()}},WP=kl(3),GNe={draw(e,t){const n=-kl(t/(WP*3));e.moveTo(0,n*2),e.lineTo(-WP*n,-n),e.lineTo(WP*n,-n),e.closePath()}},vs=-.5,bs=kl(3)/2,pM=1/kl(12),HNe=(pM/2+1)*3,YNe={draw(e,t){const n=kl(t/HNe),r=n/2,i=n*pM,o=r,s=n*pM+n,a=-o,f=s;e.moveTo(r,i),e.lineTo(o,s),e.lineTo(a,f),e.lineTo(vs*r-bs*i,bs*r+vs*i),e.lineTo(vs*o-bs*s,bs*o+vs*s),e.lineTo(vs*a-bs*f,bs*a+vs*f),e.lineTo(vs*r+bs*i,vs*i-bs*r),e.lineTo(vs*o+bs*s,vs*s-bs*o),e.lineTo(vs*a+bs*f,vs*f-bs*a),e.closePath()}};function KNe(e,t){let n=null,r=uL(i);e=typeof e=="function"?e:$r(e||fL),t=typeof t=="function"?t:$r(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:$r(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:$r(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function xS(){}function _S(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function mY(e){this._context=e}mY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_S(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_S(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ZNe(e){return new mY(e)}function gY(e){this._context=e}gY.prototype={areaStart:xS,areaEnd:xS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:_S(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XNe(e){return new gY(e)}function yY(e){this._context=e}yY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:_S(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function JNe(e){return new yY(e)}function vY(e){this._context=e}vY.prototype={areaStart:xS,areaEnd:xS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function QNe(e){return new vY(e)}function TF(e){return e<0?-1:1}function kF(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(TF(o)+TF(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function PF(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function qP(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function wS(e){this._context=e}wS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qP(this,this._t0,PF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qP(this,PF(this,n=kF(this,e,t)),n);break;default:qP(this,this._t0,n=kF(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function bY(e){this._context=new xY(e)}(bY.prototype=Object.create(wS.prototype)).point=function(e,t){wS.prototype.point.call(this,t,e)};function xY(e){this._context=e}xY.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function eze(e){return new wS(e)}function tze(e){return new bY(e)}function _Y(e){this._context=e}_Y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=OF(e),i=OF(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function OF(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function nze(e){return new _Y(e)}function wE(e,t){this._context=e,this._t=t}wE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function rze(e){return new wE(e,.5)}function ize(e){return new wE(e,0)}function oze(e){return new wE(e,1)}function og(e,t){if((s=e.length)>1)for(var n=1,r,i,o=e[t[0]],s,a=o.length;n<s;++n)for(i=o,o=e[t[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function mM(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function aze(e,t){return e[t]}function sze(e){const t=[];return t.key=e,t}function lze(){var e=$r([]),t=mM,n=og,r=aze;function i(o){var s=Array.from(e.apply(this,arguments),sze),a,f=s.length,h=-1,g;for(const y of o)for(a=0,++h;a<f;++a)(s[a][h]=[0,+r(y,s[a].key,h,o)]).data=y;for(a=0,g=dL(t(s));a<f;++a)s[g[a]].index=a;return n(s,g),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:$r(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:$r(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?mM:typeof o=="function"?o:$r(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??og,i):n},i}function cze(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}og(e,t)}}function uze(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=e[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}og(e,t)}}function dze(e,t){if(!(!((s=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,f=0,h=0;a<s;++a){for(var g=e[t[a]],y=g[r][1]||0,x=g[r-1][1]||0,P=(y-x)/2,O=0;O<a;++O){var S=e[t[O]],A=S[r][1]||0,I=S[r-1][1]||0;P+=A-I}f+=y,h+=P*y}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,og(e,t)}}function mb(e){"@babel/helpers - typeof";return mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mb(e)}var fze=["type","size","sizeType"];function gM(){return gM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gM.apply(this,arguments)}function AF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AF(Object(n),!0).forEach(function(r){hze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hze(e,t,n){return t=pze(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pze(e){var t=mze(e,"string");return mb(t)==="symbol"?t:String(t)}function mze(e,t){if(mb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gze(e,t){if(e==null)return{};var n=yze(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yze(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var wY={symbolCircle:fL,symbolCross:zNe,symbolDiamond:BNe,symbolSquare:FNe,symbolStar:qNe,symbolTriangle:GNe,symbolWye:YNe},vze=Math.PI/180,bze=function(t){var n="symbol".concat(bE(t));return wY[n]||fL},xze=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*vze;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},_ze=function(t,n){wY["symbol".concat(bE(t))]=n},hL=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,o=i===void 0?64:i,s=t.sizeType,a=s===void 0?"area":s,f=gze(t,fze),h=MF(MF({},f),{},{type:r,size:o,sizeType:a}),g=function(){var A=bze(r),I=KNe().type(A).size(xze(o,a,r));return I()},y=h.className,x=h.cx,P=h.cy,O=qn(h,!0);return x===+x&&P===+P&&o===+o?Pe.createElement("path",gM({},O,{className:mr("recharts-symbols",y),transform:"translate(".concat(x,", ").concat(P,")"),d:g()})):null};hL.registerSymbol=_ze;function ag(e){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(e)}function yM(){return yM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yM.apply(this,arguments)}function IF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wze(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IF(Object(n),!0).forEach(function(r){gb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SY(r.key),r)}}function Cze(e,t,n){return t&&$F(e.prototype,t),n&&$F(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Eze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vM(e,t)}function vM(e,t){return vM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vM(e,t)}function Tze(e){var t=Oze();return function(){var r=SS(e),i;if(t){var o=SS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return kze(this,i)}}function kze(e,t){if(t&&(ag(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pze(e)}function Pze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oze(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function SS(e){return SS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},SS(e)}function gb(e,t,n){return t=SY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SY(e){var t=Aze(e,"string");return ag(t)==="symbol"?t:String(t)}function Aze(e,t){if(ag(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ag(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xs=32,pL=function(e){Eze(n,e);var t=Tze(n);function n(){return Sze(this,n),t.apply(this,arguments)}return Cze(n,[{key:"renderIcon",value:function(i){var o=this.props.inactiveColor,s=xs/2,a=xs/6,f=xs/3,h=i.inactive?o:i.color;if(i.type==="plainline")return Pe.createElement("line",{strokeWidth:4,fill:"none",stroke:h,strokeDasharray:i.payload.strokeDasharray,x1:0,y1:s,x2:xs,y2:s,className:"recharts-legend-icon"});if(i.type==="line")return Pe.createElement("path",{strokeWidth:4,fill:"none",stroke:h,d:"M0,".concat(s,"h").concat(f,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*f,",").concat(s,`
            H`).concat(xs,"M").concat(2*f,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(f,",").concat(s),className:"recharts-legend-icon"});if(i.type==="rect")return Pe.createElement("path",{stroke:"none",fill:h,d:"M0,".concat(xs/8,"h").concat(xs,"v").concat(xs*3/4,"h").concat(-xs,"z"),className:"recharts-legend-icon"});if(Pe.isValidElement(i.legendIcon)){var g=wze({},i);return delete g.legendIcon,Pe.cloneElement(i.legendIcon,g)}return Pe.createElement(hL,{fill:h,cx:s,cy:s,size:xs,sizeType:"diameter",type:i.type})}},{key:"renderItems",value:function(){var i=this,o=this.props,s=o.payload,a=o.iconSize,f=o.layout,h=o.formatter,g=o.inactiveColor,y={x:0,y:0,width:xs,height:xs},x={display:f==="horizontal"?"inline-block":"block",marginRight:10},P={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(O,S){var A,I=O.formatter||h,M=mr((A={"recharts-legend-item":!0},gb(A,"legend-item-".concat(S),!0),gb(A,"inactive",O.inactive),A));if(O.type==="none")return null;var k=yn(O.value)?null:O.value;oh(!yn(O.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var $=O.inactive?g:O.color;return Pe.createElement("li",yM({className:M,style:x,key:"legend-item-".concat(S)},hS(i.props,O,S)),Pe.createElement(rM,{width:a,height:a,viewBox:y,style:P},i.renderIcon(O)),Pe.createElement("span",{className:"recharts-legend-item-text",style:{color:$}},I?I(k,O,S):k))})}},{key:"render",value:function(){var i=this.props,o=i.payload,s=i.layout,a=i.align;if(!o||!o.length)return null;var f={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return Pe.createElement("ul",{className:"recharts-default-legend",style:f},this.renderItems())}}]),n}(V.PureComponent);gb(pL,"displayName","Legend");gb(pL,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function sg(e){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sg(e)}var Mze=["ref"];function RF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RF(Object(n),!0).forEach(function(r){SE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ize(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EY(r.key),r)}}function $ze(e,t,n){return t&&DF(e.prototype,t),n&&DF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bM(e,t)}function bM(e,t){return bM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bM(e,t)}function Dze(e){var t=Nze();return function(){var r=CS(e),i;if(t){var o=CS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Lze(this,i)}}function Lze(e,t){if(t&&(sg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CY(e)}function CY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nze(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function CS(e){return CS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},CS(e)}function SE(e,t,n){return t=EY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EY(e){var t=zze(e,"string");return sg(t)==="symbol"?t:String(t)}function zze(e,t){if(sg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jze(e,t){if(e==null)return{};var n=Bze(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Bze(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Fze(e){return e.value}function Uze(e,t){return e===!0?yS(t,Fze):yn(e)?yS(t,e):t}function Vze(e,t){if(Pe.isValidElement(e))return Pe.cloneElement(e,t);if(yn(e))return Pe.createElement(e,t);t.ref;var n=jze(t,Mze);return Pe.createElement(pL,n)}var LF=1,lg=function(e){Rze(n,e);var t=Dze(n);function n(){var r;Ize(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),SE(CY(r),"state",{boxWidth:-1,boxHeight:-1}),r}return $ze(n,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"getBBoxSnapshot",value:function(){var i=this.state,o=i.boxWidth,s=i.boxHeight;return o>=0&&s>=0?{width:o,height:s}:null}},{key:"getDefaultPosition",value:function(i){var o=this.props,s=o.layout,a=o.align,f=o.verticalAlign,h=o.margin,g=o.chartWidth,y=o.chartHeight,x,P;if(!i||(i.left===void 0||i.left===null)&&(i.right===void 0||i.right===null))if(a==="center"&&s==="vertical"){var O=this.getBBoxSnapshot()||{width:0};x={left:((g||0)-O.width)/2}}else x=a==="right"?{right:h&&h.right||0}:{left:h&&h.left||0};if(!i||(i.top===void 0||i.top===null)&&(i.bottom===void 0||i.bottom===null))if(f==="middle"){var S=this.getBBoxSnapshot()||{height:0};P={top:((y||0)-S.height)/2}}else P=f==="bottom"?{bottom:h&&h.bottom||0}:{top:h&&h.top||0};return zp(zp({},x),P)}},{key:"updateBBox",value:function(){var i=this.state,o=i.boxWidth,s=i.boxHeight,a=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var f=this.wrapperNode.getBoundingClientRect();(Math.abs(f.width-o)>LF||Math.abs(f.height-s)>LF)&&this.setState({boxWidth:f.width,boxHeight:f.height},function(){a&&a(f)})}else(o!==-1||s!==-1)&&this.setState({boxWidth:-1,boxHeight:-1},function(){a&&a(null)})}},{key:"render",value:function(){var i=this,o=this.props,s=o.content,a=o.width,f=o.height,h=o.wrapperStyle,g=o.payloadUniqBy,y=o.payload,x=zp(zp({position:"absolute",width:a||"auto",height:f||"auto"},this.getDefaultPosition(h)),h);return Pe.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:function(O){i.wrapperNode=O}},Vze(s,zp(zp({},this.props),{},{payload:Uze(g,y)})))}}],[{key:"getWithHeight",value:function(i,o){var s=i.props.layout;return s==="vertical"&&Et(i.props.height)?{height:i.props.height}:s==="horizontal"?{width:i.props.width||o}:null}}]),n}(V.PureComponent);SE(lg,"displayName","Legend");SE(lg,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Wze=Object.getOwnPropertyNames,qze=Object.getOwnPropertySymbols,Gze=Object.prototype.hasOwnProperty;function NF(e,t){return function(r,i,o){return e(r,i,o)&&t(r,i,o)}}function C1(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var f=e(n,r,i);return o.delete(n),o.delete(r),f}}function zF(e){return Wze(e).concat(qze(e))}var TY=Object.hasOwn||function(e,t){return Gze.call(e,t)};function Xg(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var kY="_owner",jF=Object.getOwnPropertyDescriptor,BF=Object.keys;function Hze(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function Yze(e,t){return Xg(e.getTime(),t.getTime())}function FF(e,t,n){if(e.size!==t.size)return!1;for(var r={},i=e.entries(),o=0,s,a;(s=i.next())&&!s.done;){for(var f=t.entries(),h=!1,g=0;(a=f.next())&&!a.done;){var y=s.value,x=y[0],P=y[1],O=a.value,S=O[0],A=O[1];!h&&!r[g]&&(h=n.equals(x,S,o,g,e,t,n)&&n.equals(P,A,x,S,e,t,n))&&(r[g]=!0),g++}if(!h)return!1;o++}return!0}function Kze(e,t,n){var r=BF(e),i=r.length;if(BF(t).length!==i)return!1;for(var o;i-- >0;)if(o=r[i],o===kY&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!TY(t,o)||!n.equals(e[o],t[o],o,o,e,t,n))return!1;return!0}function Lv(e,t,n){var r=zF(e),i=r.length;if(zF(t).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],o===kY&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!TY(t,o)||!n.equals(e[o],t[o],o,o,e,t,n)||(s=jF(e,o),a=jF(t,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function Zze(e,t){return Xg(e.valueOf(),t.valueOf())}function Xze(e,t){return e.source===t.source&&e.flags===t.flags}function UF(e,t,n){if(e.size!==t.size)return!1;for(var r={},i=e.values(),o,s;(o=i.next())&&!o.done;){for(var a=t.values(),f=!1,h=0;(s=a.next())&&!s.done;)!f&&!r[h]&&(f=n.equals(o.value,s.value,o.value,s.value,e,t,n))&&(r[h]=!0),h++;if(!f)return!1}return!0}function Jze(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}var Qze="[object Arguments]",eje="[object Boolean]",tje="[object Date]",nje="[object Map]",rje="[object Number]",ije="[object Object]",oje="[object RegExp]",aje="[object Set]",sje="[object String]",lje=Array.isArray,VF=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,WF=Object.assign,cje=Object.prototype.toString.call.bind(Object.prototype.toString);function uje(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,i=e.areObjectsEqual,o=e.arePrimitiveWrappersEqual,s=e.areRegExpsEqual,a=e.areSetsEqual,f=e.areTypedArraysEqual;return function(g,y,x){if(g===y)return!0;if(g==null||y==null||typeof g!="object"||typeof y!="object")return g!==g&&y!==y;var P=g.constructor;if(P!==y.constructor)return!1;if(P===Object)return i(g,y,x);if(lje(g))return t(g,y,x);if(VF!=null&&VF(g))return f(g,y,x);if(P===Date)return n(g,y,x);if(P===RegExp)return s(g,y,x);if(P===Map)return r(g,y,x);if(P===Set)return a(g,y,x);var O=cje(g);return O===tje?n(g,y,x):O===oje?s(g,y,x):O===nje?r(g,y,x):O===aje?a(g,y,x):O===ije?typeof g.then!="function"&&typeof y.then!="function"&&i(g,y,x):O===Qze?i(g,y,x):O===eje||O===rje||O===sje?o(g,y,x):!1}}function dje(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?Lv:Hze,areDatesEqual:Yze,areMapsEqual:r?NF(FF,Lv):FF,areObjectsEqual:r?Lv:Kze,arePrimitiveWrappersEqual:Zze,areRegExpsEqual:Xze,areSetsEqual:r?NF(UF,Lv):UF,areTypedArraysEqual:r?Lv:Jze};if(n&&(i=WF({},i,n(i))),t){var o=C1(i.areArraysEqual),s=C1(i.areMapsEqual),a=C1(i.areObjectsEqual),f=C1(i.areSetsEqual);i=WF({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:f})}return i}function fje(e){return function(t,n,r,i,o,s,a){return e(t,n,a)}}function hje(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(f,h){var g=r(),y=g.cache,x=y===void 0?t?new WeakMap:void 0:y,P=g.meta;return n(f,h,{cache:x,equals:i,meta:P,strict:o})};if(t)return function(f,h){return n(f,h,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(f,h){return n(f,h,s)}}var pje=Kd();Kd({strict:!0});Kd({circular:!0});Kd({circular:!0,strict:!0});Kd({createInternalComparator:function(){return Xg}});Kd({strict:!0,createInternalComparator:function(){return Xg}});Kd({circular:!0,createInternalComparator:function(){return Xg}});Kd({circular:!0,createInternalComparator:function(){return Xg},strict:!0});function Kd(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,o=e.strict,s=o===void 0?!1:o,a=dje(e),f=uje(a),h=r?r(f):fje(f);return hje({circular:n,comparator:f,createState:i,equals:h,strict:s})}function mje(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function qF(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>t?(e(o),n=-1):mje(i)};requestAnimationFrame(r)}function xM(e){"@babel/helpers - typeof";return xM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xM(e)}function gje(e){return xje(e)||bje(e)||vje(e)||yje()}function yje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vje(e,t){if(e){if(typeof e=="string")return GF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GF(e,t)}}function GF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xje(e){if(Array.isArray(e))return e}function _je(){var e={},t=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=gje(s),f=a[0],h=a.slice(1);if(typeof f=="number"){qF(i.bind(null,h),f);return}i(f),qF(i.bind(null,h));return}xM(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function yb(e){"@babel/helpers - typeof";return yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yb(e)}function HF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HF(Object(n),!0).forEach(function(r){ES(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ES(e,t,n){return t=wje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wje(e){var t=Sje(e,"string");return yb(t)==="symbol"?t:String(t)}function Sje(e,t){if(yb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cje=["Webkit","Moz","O","ms"],Eje=["-webkit-","-moz-","-o-","-ms-"],Tje=["transform","transformOrigin","transition"],kje=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},Pje=function(t){return t},Oje=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Aje=function(t,n){if(Tje.indexOf(t)===-1)return ES({},t,Number.isNaN(n)?0:n);var r=t==="transition",i=t.replace(/(\w)/,function(s){return s.toUpperCase()}),o=n;return Cje.reduce(function(s,a,f){return r&&(o=n.replace(/(transform|transform-origin)/gim,"".concat(Eje[f],"$1"))),cg(cg({},s),{},ES({},a+i,o))},{})},k0=function(t,n){return Object.keys(n).reduce(function(r,i){return cg(cg({},r),{},ES({},i,t(i,n[i])))},{})},_M=function(t){return Object.keys(t).reduce(function(n,r){return cg(cg({},n),Aje(r,n[r]))},t)},YF=function(t,n,r){return t.map(function(i){return"".concat(Oje(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Mje(e,t){return Rje(e)||$je(e,t)||PY(e,t)||Ije()}function Ije(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $je(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function Rje(e){if(Array.isArray(e))return e}function Dje(e){return zje(e)||Nje(e)||PY(e)||Lje()}function Lje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PY(e,t){if(e){if(typeof e=="string")return wM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wM(e,t)}}function Nje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zje(e){if(Array.isArray(e))return wM(e)}function wM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var TS=1e-4,OY=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},AY=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},KF=function(t,n){return function(r){var i=OY(t,n);return AY(i,r)}},jje=function(t,n){return function(r){var i=OY(t,n),o=[].concat(Dje(i.map(function(s,a){return s*a}).slice(1)),[0]);return AY(o,r)}},ZF=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var f=n[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var h=f[1].split(")")[0].split(",").map(function(A){return parseFloat(A)}),g=Mje(h,4);i=g[0],o=g[1],s=g[2],a=g[3]}}}var y=KF(i,s),x=KF(o,a),P=jje(i,s),O=function(I){return I>1?1:I<0?0:I},S=function(I){for(var M=I>1?1:I,k=M,$=0;$<8;++$){var L=y(k)-M,N=P(k);if(Math.abs(L-M)<TS||N<TS)return x(k);k=O(k-L/N)}return x(k)};return S.isStepper=!1,S},Bje=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,o=i===void 0?8:i,s=t.dt,a=s===void 0?17:s,f=function(g,y,x){var P=-(g-y)*r,O=x*o,S=x+(P-O)*a/1e3,A=x*a/1e3+g;return Math.abs(A-y)<TS&&Math.abs(S)<TS?[y,0]:[A,S]};return f.isStepper=!0,f.dt=a,f},Fje=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ZF(i);case"spring":return Bje();default:if(i.split("(")[0]==="cubic-bezier")return ZF(i)}return typeof i=="function"?i:null};function vb(e){"@babel/helpers - typeof";return vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vb(e)}function XF(e){return Wje(e)||Vje(e)||MY(e)||Uje()}function Uje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wje(e){if(Array.isArray(e))return CM(e)}function JF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ho(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JF(Object(n),!0).forEach(function(r){SM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SM(e,t,n){return t=qje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qje(e){var t=Gje(e,"string");return vb(t)==="symbol"?t:String(t)}function Gje(e,t){if(vb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hje(e,t){return Zje(e)||Kje(e,t)||MY(e,t)||Yje()}function Yje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MY(e,t){if(e){if(typeof e=="string")return CM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CM(e,t)}}function CM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kje(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function Zje(e){if(Array.isArray(e))return e}var kS=function(t,n,r){return t+(n-t)*r},EM=function(t){var n=t.from,r=t.to;return n!==r},Xje=function e(t,n,r){var i=k0(function(o,s){if(EM(s)){var a=t(s.from,s.to,s.velocity),f=Hje(a,2),h=f[0],g=f[1];return ho(ho({},s),{},{from:h,velocity:g})}return s},n);return r<1?k0(function(o,s){return EM(s)?ho(ho({},s),{},{velocity:kS(s.velocity,i[o].velocity,r),from:kS(s.from,i[o].from,r)}):s},n):e(t,i,r-1)};const Jje=function(e,t,n,r,i){var o=kje(e,t),s=o.reduce(function(A,I){return ho(ho({},A),{},SM({},I,[e[I],t[I]]))},{}),a=o.reduce(function(A,I){return ho(ho({},A),{},SM({},I,{from:e[I],velocity:0,to:t[I]}))},{}),f=-1,h,g,y=function(){return null},x=function(){return k0(function(I,M){return M.from},a)},P=function(){return!Object.values(a).filter(EM).length},O=function(I){h||(h=I);var M=I-h,k=M/n.dt;a=Xje(n,a,k),i(ho(ho(ho({},e),t),x())),h=I,P()||(f=requestAnimationFrame(y))},S=function(I){g||(g=I);var M=(I-g)/r,k=k0(function(L,N){return kS.apply(void 0,XF(N).concat([n(M)]))},s);if(i(ho(ho(ho({},e),t),k)),M<1)f=requestAnimationFrame(y);else{var $=k0(function(L,N){return kS.apply(void 0,XF(N).concat([n(1)]))},s);i(ho(ho(ho({},e),t),$))}};return y=n.isStepper?O:S,function(){return requestAnimationFrame(y),function(){cancelAnimationFrame(f)}}};function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}var Qje=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function e5e(e,t){if(e==null)return{};var n=t5e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function t5e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function GP(e){return o5e(e)||i5e(e)||r5e(e)||n5e()}function n5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r5e(e,t){if(e){if(typeof e=="string")return TM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TM(e,t)}}function i5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function o5e(e){if(Array.isArray(e))return TM(e)}function TM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QF(Object(n),!0).forEach(function(r){i0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i0(e,t,n){return t=IY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IY(r.key),r)}}function s5e(e,t,n){return t&&e4(e.prototype,t),n&&e4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function IY(e){var t=l5e(e,"string");return ug(t)==="symbol"?t:String(t)}function l5e(e,t){if(ug(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ug(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kM(e,t)}function kM(e,t){return kM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kM(e,t)}function u5e(e){var t=d5e();return function(){var r=PS(e),i;if(t){var o=PS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return PM(this,i)}}function PM(e,t){if(t&&(ug(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OM(e)}function OM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d5e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function PS(e){return PS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},PS(e)}var uu=function(e){c5e(n,e);var t=u5e(n);function n(r,i){var o;a5e(this,n),o=t.call(this,r,i);var s=o.props,a=s.isActive,f=s.attributeName,h=s.from,g=s.to,y=s.steps,x=s.children,P=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(OM(o)),o.changeStyle=o.changeStyle.bind(OM(o)),!a||P<=0)return o.state={style:{}},typeof x=="function"&&(o.state={style:g}),PM(o);if(y&&y.length)o.state={style:y[0].style};else if(h){if(typeof x=="function")return o.state={style:h},PM(o);o.state={style:f?i0({},f,h):h}}else o.state={style:{}};return o}return s5e(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,f=o.attributeName,h=o.shouldReAnimate,g=o.to,y=o.from,x=this.state.style;if(a){if(!s){var P={style:f?i0({},f,g):g};this.state&&x&&(f&&x[f]!==g||!f&&x!==g)&&this.setState(P);return}if(!(pje(i.to,g)&&i.canBegin&&i.isActive)){var O=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=O||h?y:i.to;if(this.state&&x){var A={style:f?i0({},f,S):S};(f&&[f]!==S||!f&&x!==S)&&this.setState(A)}this.runAnimation(rl(rl({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,f=i.duration,h=i.easing,g=i.begin,y=i.onAnimationEnd,x=i.onAnimationStart,P=Jje(s,a,Fje(h),f,this.changeStyle),O=function(){o.stopJSAnimation=P()};this.manager.start([x,g,O,f,y])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,f=i.onAnimationStart,h=s[0],g=h.style,y=h.duration,x=y===void 0?0:y,P=function(S,A,I){if(I===0)return S;var M=A.duration,k=A.easing,$=k===void 0?"ease":k,L=A.style,N=A.properties,F=A.onAnimationEnd,G=I>0?s[I-1]:A,J=N||Object.keys(L);if(typeof $=="function"||$==="spring")return[].concat(GP(S),[o.runJSAnimation.bind(o,{from:G.style,to:L,duration:M,easing:$}),M]);var ee=YF(J,M,$),ae=rl(rl(rl({},G.style),L),{},{transition:ee});return[].concat(GP(S),[ae,M,F]).filter(Pje)};return this.manager.start([f].concat(GP(s.reduce(P,[g,Math.max(x,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=_je());var o=i.begin,s=i.duration,a=i.attributeName,f=i.to,h=i.easing,g=i.onAnimationStart,y=i.onAnimationEnd,x=i.steps,P=i.children,O=this.manager;if(this.unSubscribe=O.subscribe(this.handleStyleChange),typeof h=="function"||typeof P=="function"||h==="spring"){this.runJSAnimation(i);return}if(x.length>1){this.runStepAnimation(i);return}var S=a?i0({},a,f):f,A=YF(Object.keys(S),s,h);O.start([g,o,rl(rl({},S),{},{transition:A}),s,y])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var f=e5e(i,Qje),h=V.Children.count(o),g=_M(this.state.style);if(typeof o=="function")return o(g);if(!a||h===0||s<=0)return o;var y=function(P){var O=P.props,S=O.style,A=S===void 0?{}:S,I=O.className,M=V.cloneElement(P,rl(rl({},f),{},{style:rl(rl({},A),g),className:I}));return M};return h===1?y(V.Children.only(o)):Pe.createElement("div",null,V.Children.map(o,function(x){return y(x)}))}}]),n}(V.PureComponent);uu.displayName="Animate";uu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};uu.propTypes={from:On.oneOfType([On.object,On.string]),to:On.oneOfType([On.object,On.string]),attributeName:On.string,duration:On.number,begin:On.number,easing:On.oneOfType([On.string,On.func]),steps:On.arrayOf(On.shape({duration:On.number.isRequired,style:On.object.isRequired,easing:On.oneOfType([On.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),On.func]),properties:On.arrayOf("string"),onAnimationEnd:On.func})),children:On.oneOfType([On.node,On.func]),isActive:On.bool,canBegin:On.bool,onAnimationEnd:On.func,shouldReAnimate:On.bool,onAnimationStart:On.func,onAnimationReStart:On.func};Number.isFinite===void 0&&(Number.isFinite=function(e){return typeof e=="number"&&isFinite(e)});On.object,On.object,On.object,On.element;On.object,On.object,On.object,On.oneOfType([On.array,On.element]),On.any;var t4=Sx,f5e=aL,h5e=fa,n4=t4?t4.isConcatSpreadable:void 0;function p5e(e){return h5e(e)||f5e(e)||!!(n4&&e&&e[n4])}var m5e=p5e,g5e=FH,y5e=m5e;function $Y(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=y5e),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?$Y(a,t-1,n,r,i):g5e(i,a):r||(i[i.length]=a)}return i}var RY=$Y;function v5e(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var f=s[e?a:++i];if(n(o[f],f,o)===!1)break}return t}}var b5e=v5e,x5e=b5e,_5e=x5e(),w5e=_5e,S5e=w5e,C5e=vE;function E5e(e,t){return e&&S5e(e,t,C5e)}var DY=E5e,T5e=kx;function k5e(e,t){return function(n,r){if(n==null)return n;if(!T5e(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var P5e=k5e,O5e=DY,A5e=P5e,M5e=A5e(O5e),mL=M5e,I5e=mL,$5e=kx;function R5e(e,t){var n=-1,r=$5e(e)?Array(e.length):[];return I5e(e,function(i,o,s){r[++n]=t(i,o,s)}),r}var LY=R5e;function D5e(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var L5e=D5e,r4=Wg;function N5e(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,o=r4(e),s=t!==void 0,a=t===null,f=t===t,h=r4(t);if(!a&&!h&&!o&&e>t||o&&s&&f&&!a&&!h||r&&s&&f||!n&&f||!i)return 1;if(!r&&!o&&!h&&e<t||h&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!f)return-1}return 0}var z5e=N5e,j5e=z5e;function B5e(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var f=j5e(i[r],o[r]);if(f){if(r>=a)return f;var h=n[r];return f*(h=="desc"?-1:1)}}return e.index-t.index}var F5e=B5e,HP=JD,U5e=QD,V5e=Yd,W5e=LY,q5e=L5e,G5e=WH,H5e=F5e,Y5e=Zg,K5e=fa;function Z5e(e,t,n){t.length?t=HP(t,function(o){return K5e(o)?function(s){return U5e(s,o.length===1?o[0]:o)}:o}):t=[Y5e];var r=-1;t=HP(t,G5e(V5e));var i=W5e(e,function(o,s,a){var f=HP(t,function(h){return h(o)});return{criteria:f,index:++r,value:o}});return q5e(i,function(o,s){return H5e(o,s,n)})}var X5e=Z5e;function J5e(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Q5e=J5e,e3e=Q5e,i4=Math.max;function t3e(e,t,n){return t=i4(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=i4(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),e3e(e,this,a)}}var n3e=t3e;function r3e(e){return function(){return e}}var i3e=r3e,o3e=$h,a3e=function(){try{var e=o3e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),NY=a3e,s3e=i3e,o4=NY,l3e=Zg,c3e=o4?function(e,t){return o4(e,"toString",{configurable:!0,enumerable:!1,value:s3e(t),writable:!0})}:l3e,u3e=c3e,d3e=800,f3e=16,h3e=Date.now;function p3e(e){var t=0,n=0;return function(){var r=h3e(),i=f3e-(r-n);if(n=r,i>0){if(++t>=d3e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var m3e=p3e,g3e=u3e,y3e=m3e,v3e=y3e(g3e),b3e=v3e,x3e=Zg,_3e=n3e,w3e=b3e;function S3e(e,t){return w3e(_3e(e,t,x3e),e+"")}var C3e=S3e,E3e=YD,T3e=kx,k3e=sL,P3e=Hd;function O3e(e,t,n){if(!P3e(n))return!1;var r=typeof t;return(r=="number"?T3e(n)&&k3e(t,n.length):r=="string"&&t in n)?E3e(n[t],e):!1}var CE=O3e,A3e=RY,M3e=X5e,I3e=C3e,a4=CE,$3e=I3e(function(e,t){if(e==null)return[];var n=t.length;return n>1&&a4(e,t[0],t[1])?t=[]:n>2&&a4(t[0],t[1],t[2])&&(t=[t[0]]),M3e(e,A3e(t,1),[])}),R3e=$3e;const gL=tr(R3e);function bb(e){"@babel/helpers - typeof";return bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bb(e)}function D3e(e,t){return j3e(e)||z3e(e,t)||N3e(e,t)||L3e()}function L3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N3e(e,t){if(e){if(typeof e=="string")return s4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s4(e,t)}}function s4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z3e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function j3e(e){if(Array.isArray(e))return e}function l4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l4(Object(n),!0).forEach(function(r){B3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B3e(e,t,n){return t=F3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F3e(e){var t=U3e(e,"string");return bb(t)==="symbol"?t:String(t)}function U3e(e,t){if(bb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V3e(e){return yo(e)&&Fi(e[0])&&Fi(e[1])?e.join(" ~ "):e}var W3e=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,o=i===void 0?{}:i,s=t.itemStyle,a=s===void 0?{}:s,f=t.labelStyle,h=f===void 0?{}:f,g=t.payload,y=t.formatter,x=t.itemSorter,P=t.wrapperClassName,O=t.labelClassName,S=t.label,A=t.labelFormatter,I=function(){if(g&&g.length){var J={padding:0,margin:0},ee=(x?gL(g,x):g).map(function(ae,pe){if(ae.type==="none")return null;var ye=YP({display:"block",paddingTop:4,paddingBottom:4,color:ae.color||"#000"},a),we=ae.formatter||y||V3e,Ce=ae.value,Oe=ae.name,Ee=Ce,Se=Oe;if(we&&Ee!=null&&Se!=null){var De=we(Ce,Oe,ae,pe,g);if(Array.isArray(De)){var We=D3e(De,2);Ee=We[0],Se=We[1]}else Ee=De}return Pe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(pe),style:ye},Fi(Se)?Pe.createElement("span",{className:"recharts-tooltip-item-name"},Se):null,Fi(Se)?Pe.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Pe.createElement("span",{className:"recharts-tooltip-item-value"},Ee),Pe.createElement("span",{className:"recharts-tooltip-item-unit"},ae.unit||""))});return Pe.createElement("ul",{className:"recharts-tooltip-item-list",style:J},ee)}return null},M=YP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),k=YP({margin:0},h),$=!mn(S),L=$?S:"",N=mr("recharts-default-tooltip",P),F=mr("recharts-tooltip-label",O);return $&&A&&g!==void 0&&g!==null&&(L=A(S,g)),Pe.createElement("div",{className:N,style:M},Pe.createElement("p",{className:F,style:k},Pe.isValidElement(L)?L:"".concat(L)),I())},q3e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Jc={isSsr:q3e(),get:function(t){return Jc[t]},set:function(t,n){if(typeof t=="string")Jc[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(i){Jc[i]=t[i]})}}};function dg(e){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dg(e)}function c4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c4(Object(n),!0).forEach(function(r){Vl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zY(r.key),r)}}function H3e(e,t,n){return t&&u4(e.prototype,t),n&&u4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AM(e,t)}function AM(e,t){return AM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AM(e,t)}function K3e(e){var t=X3e();return function(){var r=OS(e),i;if(t){var o=OS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Z3e(this,i)}}function Z3e(e,t){if(t&&(dg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rw(e)}function rw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X3e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function OS(e){return OS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},OS(e)}function Vl(e,t,n){return t=zY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zY(e){var t=J3e(e,"string");return dg(t)==="symbol"?t:String(t)}function J3e(e,t){if(dg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(dg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nv="recharts-tooltip-wrapper",d4=1;function Q3e(e){return e.dataKey}function eBe(e,t){return e===!0?yS(t,Q3e):yn(e)?yS(t,e):t}function tBe(e,t){return Pe.isValidElement(e)?Pe.cloneElement(e,t):yn(e)?Pe.createElement(e,t):Pe.createElement(W3e,t)}var Yf=function(e){Y3e(n,e);var t=K3e(n);function n(){var r;G3e(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Vl(rw(r),"state",{boxWidth:-1,boxHeight:-1,dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Vl(rw(r),"handleKeyDown",function(a){a.key==="Escape"&&r.setState({dismissed:!0,dismissedAtCoordinate:Mc(Mc({},r.state.dismissedAtCoordinate),{},{x:r.props.coordinate.x,y:r.props.coordinate.y})})}),Vl(rw(r),"getTranslate",function(a){var f=a.key,h=a.tooltipDimension,g=a.viewBoxDimension,y=r.props,x=y.allowEscapeViewBox,P=y.reverseDirection,O=y.coordinate,S=y.offset,A=y.position,I=y.viewBox;if(A&&Et(A[f]))return A[f];var M=O[f]-h-S,k=O[f]+S;if(x[f])return P[f]?M:k;if(P[f]){var $=M,L=I[f];return $<L?Math.max(k,I[f]):Math.max(M,I[f])}var N=k+h,F=I[f]+g;return N>F?Math.max(M,I[f]):Math.max(k,I[f])}),r}return H3e(n,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"updateBBox",value:function(){var i=this.state,o=i.boxWidth,s=i.boxHeight,a=i.dismissed;if(a?(document.removeEventListener("keydown",this.handleKeyDown),(this.props.coordinate.x!==this.state.dismissedAtCoordinate.x||this.props.coordinate.y!==this.state.dismissedAtCoordinate.y)&&this.setState({dismissed:!1})):document.addEventListener("keydown",this.handleKeyDown),this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var f=this.wrapperNode.getBoundingClientRect();(Math.abs(f.width-o)>d4||Math.abs(f.height-s)>d4)&&this.setState({boxWidth:f.width,boxHeight:f.height})}else(o!==-1||s!==-1)&&this.setState({boxWidth:-1,boxHeight:-1})}},{key:"render",value:function(){var i,o=this,s=this.props,a=s.payload,f=s.isAnimationActive,h=s.animationDuration,g=s.animationEasing,y=s.filterNull,x=s.payloadUniqBy,P=eBe(x,y&&a&&a.length?a.filter(function(ye){return!mn(ye.value)}):a),O=P&&P.length,S=this.props,A=S.content,I=S.viewBox,M=S.coordinate,k=S.position,$=S.active,L=S.wrapperStyle,N=Mc({pointerEvents:"none",visibility:!this.state.dismissed&&$&&O?"visible":"hidden",position:"absolute",top:0,left:0},L),F,G;if(k&&Et(k.x)&&Et(k.y))F=k.x,G=k.y;else{var J=this.state,ee=J.boxWidth,ae=J.boxHeight;ee>0&&ae>0&&M?(F=this.getTranslate({key:"x",tooltipDimension:ee,viewBoxDimension:I.width}),G=this.getTranslate({key:"y",tooltipDimension:ae,viewBoxDimension:I.height})):N.visibility="hidden"}N=Mc(Mc({},_M({transform:this.props.useTranslate3d?"translate3d(".concat(F,"px, ").concat(G,"px, 0)"):"translate(".concat(F,"px, ").concat(G,"px)")})),N),f&&$&&(N=Mc(Mc({},_M({transition:"transform ".concat(h,"ms ").concat(g)})),N));var pe=mr(Nv,(i={},Vl(i,"".concat(Nv,"-right"),Et(F)&&M&&Et(M.x)&&F>=M.x),Vl(i,"".concat(Nv,"-left"),Et(F)&&M&&Et(M.x)&&F<M.x),Vl(i,"".concat(Nv,"-bottom"),Et(G)&&M&&Et(M.y)&&G>=M.y),Vl(i,"".concat(Nv,"-top"),Et(G)&&M&&Et(M.y)&&G<M.y),i));return Pe.createElement("div",{tabIndex:-1,role:"dialog",className:pe,style:N,ref:function(we){o.wrapperNode=we}},tBe(A,Mc(Mc({},this.props),{},{payload:P})))}}]),n}(V.PureComponent);Vl(Yf,"displayName","Tooltip");Vl(Yf,"defaultProps",{active:!1,allowEscapeViewBox:{x:!1,y:!1},reverseDirection:{x:!1,y:!1},offset:10,viewBox:{x:0,y:0,height:0,width:0},coordinate:{x:0,y:0},cursorStyle:{},separator:" : ",wrapperStyle:{},contentStyle:{},itemStyle:{},labelStyle:{},cursor:!0,trigger:"hover",isAnimationActive:!Jc.isSsr,animationEasing:"ease",animationDuration:400,filterNull:!0,useTranslate3d:!1});var nBe=gc,rBe=function(){return nBe.Date.now()},iBe=rBe,oBe=/\s/;function aBe(e){for(var t=e.length;t--&&oBe.test(e.charAt(t)););return t}var sBe=aBe,lBe=sBe,cBe=/^\s+/;function uBe(e){return e&&e.slice(0,lBe(e)+1).replace(cBe,"")}var dBe=uBe,fBe=dBe,f4=Hd,hBe=Wg,h4=0/0,pBe=/^[-+]0x[0-9a-f]+$/i,mBe=/^0b[01]+$/i,gBe=/^0o[0-7]+$/i,yBe=parseInt;function vBe(e){if(typeof e=="number")return e;if(hBe(e))return h4;if(f4(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=f4(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=fBe(e);var n=mBe.test(e);return n||gBe.test(e)?yBe(e.slice(2),n?2:8):pBe.test(e)?h4:+e}var jY=vBe,bBe=Hd,KP=iBe,p4=jY,xBe="Expected a function",_Be=Math.max,wBe=Math.min;function SBe(e,t,n){var r,i,o,s,a,f,h=0,g=!1,y=!1,x=!0;if(typeof e!="function")throw new TypeError(xBe);t=p4(t)||0,bBe(n)&&(g=!!n.leading,y="maxWait"in n,o=y?_Be(p4(n.maxWait)||0,t):o,x="trailing"in n?!!n.trailing:x);function P(N){var F=r,G=i;return r=i=void 0,h=N,s=e.apply(G,F),s}function O(N){return h=N,a=setTimeout(I,t),g?P(N):s}function S(N){var F=N-f,G=N-h,J=t-F;return y?wBe(J,o-G):J}function A(N){var F=N-f,G=N-h;return f===void 0||F>=t||F<0||y&&G>=o}function I(){var N=KP();if(A(N))return M(N);a=setTimeout(I,S(N))}function M(N){return a=void 0,x&&r?P(N):(r=i=void 0,s)}function k(){a!==void 0&&clearTimeout(a),h=0,r=f=i=a=void 0}function $(){return a===void 0?s:M(KP())}function L(){var N=KP(),F=A(N);if(r=arguments,i=this,f=N,F){if(a===void 0)return O(f);if(y)return clearTimeout(a),a=setTimeout(I,t),P(f)}return a===void 0&&(a=setTimeout(I,t)),s}return L.cancel=k,L.flush=$,L}var BY=SBe;const CBe=tr(BY);var EBe=BY,TBe=Hd,kBe="Expected a function";function PBe(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(kBe);return TBe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),EBe(e,t,{leading:r,maxWait:t,trailing:i})}var OBe=PBe;const FY=tr(OBe);var MM=function(e,t){return MM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},MM(e,t)};function ABe(e,t){MM(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function MBe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var IBe=function(e,t,n,r){switch(t){case"debounce":return CBe(e,n,r);case"throttle":return FY(e,n,r);default:return e}},m4=function(e){return typeof e=="function"},zv=function(){return typeof window>"u"},g4=function(e){return e instanceof Element||e instanceof HTMLDocument},$Be=function(e,t,n){return function(r){var i=r.width,o=r.height;e(function(s){return s.width===i&&s.height===o||s.width===i&&!n||s.height===o&&!t?s:{width:i,height:o}})}},RBe=function(e){ABe(t,e);function t(n){var r=e.call(this,n)||this;r.cancelHandler=function(){r.resizeHandler&&r.resizeHandler.cancel&&(r.resizeHandler.cancel(),r.resizeHandler=null)},r.attachObserver=function(){var h=r.props,g=h.targetRef,y=h.observerOptions;if(!zv()){g&&g.current&&(r.targetRef.current=g.current);var x=r.getElement();x&&(r.observableElement&&r.observableElement===x||(r.observableElement=x,r.resizeObserver.observe(x,y)))}},r.getElement=function(){var h=r.props,g=h.querySelector,y=h.targetDomEl;if(zv())return null;if(g)return document.querySelector(g);if(y&&g4(y))return y;if(r.targetRef&&g4(r.targetRef.current))return r.targetRef.current;var x=uc.findDOMNode(r);if(!x)return null;var P=r.getRenderType();switch(P){case"renderProp":return x;case"childFunction":return x;case"child":return x;case"childArray":return x;default:return x.parentElement}},r.createResizeHandler=function(h){var g=r.props,y=g.handleWidth,x=y===void 0?!0:y,P=g.handleHeight,O=P===void 0?!0:P,S=g.onResize;if(!(!x&&!O)){var A=$Be(function(I){return r.setState(I,function(){return S==null?void 0:S(r.state.width,r.state.height)})},x,O);h.forEach(function(I){var M=I&&I.contentRect||{},k=M.width,$=M.height,L=!r.skipOnMount&&!zv();L&&A({width:k,height:$}),r.skipOnMount=!1})}},r.getRenderType=function(){var h=r.props,g=h.render,y=h.children;return m4(g)?"renderProp":m4(y)?"childFunction":V.isValidElement(y)?"child":Array.isArray(y)?"childArray":"parent"};var i=n.skipOnMount,o=n.refreshMode,s=n.refreshRate,a=s===void 0?1e3:s,f=n.refreshOptions;return r.state={width:void 0,height:void 0},r.skipOnMount=i,r.targetRef=V.createRef(),r.observableElement=null,zv()||(r.resizeHandler=IBe(r.createResizeHandler,o,a,f),r.resizeObserver=new window.ResizeObserver(r.resizeHandler)),r}return t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver()},t.prototype.componentWillUnmount=function(){zv()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var n=this.props,r=n.render,i=n.children,o=n.nodeType,s=o===void 0?"div":o,a=this.state,f=a.width,h=a.height,g={width:f,height:h,targetRef:this.targetRef},y=this.getRenderType();switch(y){case"renderProp":return r==null?void 0:r(g);case"childFunction":{var x=i;return x==null?void 0:x(g)}case"child":{var P=i;if(P.type&&typeof P.type=="string"){g.targetRef;var O=MBe(g,["targetRef"]);return V.cloneElement(P,O)}return V.cloneElement(P,g)}case"childArray":{var S=i;return S.map(function(A){return!!A&&V.cloneElement(A,g)})}default:return Pe.createElement(s,null)}},t}(V.PureComponent);function xb(e){"@babel/helpers - typeof";return xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xb(e)}function IM(){return IM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IM.apply(this,arguments)}function y4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function v4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y4(Object(n),!0).forEach(function(r){DBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DBe(e,t,n){return t=LBe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LBe(e){var t=NBe(e,"string");return xb(t)==="symbol"?t:String(t)}function NBe(e,t){if(xb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zBe(e,t){return UBe(e)||FBe(e,t)||BBe(e,t)||jBe()}function jBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BBe(e,t){if(e){if(typeof e=="string")return b4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b4(e,t)}}function b4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FBe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function UBe(e){if(Array.isArray(e))return e}var VBe=V.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=e.width,s=o===void 0?"100%":o,a=e.height,f=a===void 0?"100%":a,h=e.minWidth,g=h===void 0?0:h,y=e.minHeight,x=e.maxHeight,P=e.children,O=e.debounce,S=O===void 0?0:O,A=e.id,I=e.className,M=e.onResize,k=e.style,$=k===void 0?{}:k,L=V.useState({containerWidth:i.width,containerHeight:i.height}),N=zBe(L,2),F=N[0],G=N[1],J=V.useRef(null);V.useImperativeHandle(t,function(){return J},[J]);var ee=V.useCallback(function(){return J.current?{containerWidth:J.current.clientWidth,containerHeight:J.current.clientHeight}:null},[]),ae=V.useCallback(function(){var we=ee();if(we){var Ce=we.containerWidth,Oe=we.containerHeight;M&&M(Ce,Oe),G(function(Ee){var Se=Ee.containerWidth,De=Ee.containerHeight;return Ce!==Se||Oe!==De?{containerWidth:Ce,containerHeight:Oe}:Ee})}},[ee,M]),pe=V.useMemo(function(){var we=F.containerWidth,Ce=F.containerHeight;if(we<0||Ce<0)return null;oh(Hf(s)||Hf(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,f),oh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Oe=Hf(s)?we:s,Ee=Hf(f)?Ce:f;return n&&n>0&&(Oe?Ee=Oe/n:Ee&&(Oe=Ee*n),x&&Ee>x&&(Ee=x)),oh(Oe>0||Ee>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Oe,Ee,s,f,g,y,n),V.cloneElement(P,{width:Oe,height:Ee})},[n,P,f,x,y,g,F,s]);V.useEffect(function(){var we=ee();we&&G(we)},[ee]);var ye=v4(v4({},$),{},{width:s,height:f,minWidth:g,minHeight:y,maxHeight:x});return Pe.createElement(RBe,{handleWidth:!0,handleHeight:!0,onResize:ae,targetRef:J,refreshMode:S>0?"debounce":void 0,refreshRate:S},Pe.createElement("div",IM({},A!=null?{id:"".concat(A)}:{},{className:mr("recharts-responsive-container",I),style:ye,ref:J}),pe))}),UY=function(t){return null};UY.displayName="Cell";function _b(e){"@babel/helpers - typeof";return _b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_b(e)}function x4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x4(Object(n),!0).forEach(function(r){WBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WBe(e,t,n){return t=qBe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qBe(e){var t=GBe(e,"string");return _b(t)==="symbol"?t:String(t)}function GBe(e,t){if(_b(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_b(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w4(e){return ZBe(e)||KBe(e)||YBe(e)||HBe()}function HBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YBe(e,t){if(e){if(typeof e=="string")return $M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $M(e,t)}}function KBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZBe(e){if(Array.isArray(e))return $M(e)}function $M(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jp={widthCache:{},cacheCount:0},XBe=2e3,JBe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},QBe=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","lineHeight","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],S4="recharts_measurement_span";function eFe(e,t){return QBe.indexOf(e)>=0&&t===+t?"".concat(t,"px"):t}function tFe(e){var t=e.split(""),n=t.reduce(function(r,i){return i===i.toUpperCase()?[].concat(w4(r),["-",i.toLowerCase()]):[].concat(w4(r),[i])},[]);return n.join("")}var nFe=function(t){return Object.keys(t).reduce(function(n,r){return"".concat(n).concat(tFe(r),":").concat(eFe(r,t[r]),";")},"")},P0=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Jc.isSsr)return{width:0,height:0};var r="".concat(t),i=nFe(n),o="".concat(r,"-").concat(i);if(jp.widthCache[o])return jp.widthCache[o];try{var s=document.getElementById(S4);s||(s=document.createElement("span"),s.setAttribute("id",S4),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=_4(_4({},JBe),n);Object.keys(a).map(function(g){return s.style[g]=a[g],g}),s.textContent=r;var f=s.getBoundingClientRect(),h={width:f.width,height:f.height};return jp.widthCache[o]=h,++jp.cacheCount>XBe&&(jp.cacheCount=0,jp.widthCache={}),h}catch{return{width:0,height:0}}},rFe=function(t){var n=t.ownerDocument.documentElement,r={top:0,left:0};return typeof t.getBoundingClientRect<"u"&&(r=t.getBoundingClientRect()),{top:r.top+window.pageYOffset-n.clientTop,left:r.left+window.pageXOffset-n.clientLeft}},iFe=function(t,n){return{chartX:Math.round(t.pageX-n.left),chartY:Math.round(t.pageY-n.top)}};function wb(e){"@babel/helpers - typeof";return wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wb(e)}function AS(e,t){return lFe(e)||sFe(e,t)||aFe(e,t)||oFe()}function oFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aFe(e,t){if(e){if(typeof e=="string")return C4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C4(e,t)}}function C4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sFe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function lFe(e){if(Array.isArray(e))return e}function cFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dFe(r.key),r)}}function uFe(e,t,n){return t&&E4(e.prototype,t),n&&E4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dFe(e){var t=fFe(e,"string");return wb(t)==="symbol"?t:String(t)}function fFe(e,t){if(wb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,k4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hFe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,pFe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VY={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},mFe=Object.keys(VY),hm="NaN";function gFe(e,t){return e*VY[t]}var E1=function(){function e(t,n){cFe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!hFe.test(n)&&(this.num=NaN,this.unit=""),mFe.includes(n)&&(this.num=gFe(t,n),this.unit="px")}return uFe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=pFe.exec(n))!==null&&r!==void 0?r:[],o=AS(i,3),s=o[1],a=o[2];return new e(parseFloat(s),a??"")}}]),e}();function WY(e){if(e.includes(hm))return hm;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=T4.exec(t))!==null&&n!==void 0?n:[],i=AS(r,4),o=i[1],s=i[2],a=i[3],f=E1.parse(o??""),h=E1.parse(a??""),g=s==="*"?f.multiply(h):f.divide(h);if(g.isNaN())return hm;t=t.replace(T4,g.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var y,x=(y=k4.exec(t))!==null&&y!==void 0?y:[],P=AS(x,4),O=P[1],S=P[2],A=P[3],I=E1.parse(O??""),M=E1.parse(A??""),k=S==="+"?I.add(M):I.subtract(M);if(k.isNaN())return hm;t=t.replace(k4,k.toString())}return t}var P4=/\(([^()]*)\)/;function yFe(e){for(var t=e;t.includes("(");){var n=P4.exec(t),r=AS(n,2),i=r[1];t=t.replace(P4,WY(i))}return t}function vFe(e){var t=e.replace(/\s+/g,"");return t=yFe(t),t=WY(t),t}function bFe(e){try{return vFe(e)}catch{return hm}}function ZP(e){var t=bFe(e.slice(5,-1));return t===hm?"":t}var xFe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_Fe=["dx","dy","angle","className","breakAll"];function RM(){return RM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RM.apply(this,arguments)}function O4(e,t){if(e==null)return{};var n=wFe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wFe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function A4(e,t){return TFe(e)||EFe(e,t)||CFe(e,t)||SFe()}function SFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CFe(e,t){if(e){if(typeof e=="string")return M4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M4(e,t)}}function M4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function EFe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function TFe(e){if(Array.isArray(e))return e}var qY=/[ \f\n\r\t\v\u2028\u2029]+/,GY=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var o=[];mn(n)||(r?o=n.toString().split(""):o=n.toString().split(qY));var s=o.map(function(f){return{word:f,width:P0(f,i).width}}),a=r?0:P0("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},kFe=function(t,n,r,i,o){var s=t.maxLines,a=t.children,f=t.style,h=t.breakAll,g=Et(s),y=a,x=function(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Ce.reduce(function(Oe,Ee){var Se=Ee.word,De=Ee.width,We=Oe[Oe.length-1];if(We&&(i==null||o||We.width+De+r<Number(i)))We.words.push(Se),We.width+=De+r;else{var dt={words:[Se],width:De};Oe.push(dt)}return Oe},[])},P=x(n),O=function(Ce){return Ce.reduce(function(Oe,Ee){return Oe.width>Ee.width?Oe:Ee})};if(!g)return P;for(var S="",A=function(Ce){var Oe=y.slice(0,Ce),Ee=GY({breakAll:h,style:f,children:Oe+S}).wordsWithComputedWidth,Se=x(Ee),De=Se.length>s||O(Se).width>Number(i);return[De,Se]},I=0,M=y.length-1,k=0,$;I<=M&&k<=y.length-1;){var L=Math.floor((I+M)/2),N=L-1,F=A(N),G=A4(F,2),J=G[0],ee=G[1],ae=A(L),pe=A4(ae,1),ye=pe[0];if(!J&&!ye&&(I=L+1),J&&ye&&(M=L-1),!J&&ye){$=ee;break}k++}return $||P},I4=function(t){var n=mn(t)?[]:t.toString().split(qY);return[{words:n}]},PFe=function(t){var n=t.width,r=t.scaleToFit,i=t.children,o=t.style,s=t.breakAll,a=t.maxLines;if((n||r)&&!Jc.isSsr){var f,h,g=GY({breakAll:s,children:i,style:o});if(g){var y=g.wordsWithComputedWidth,x=g.spaceWidth;f=y,h=x}else return I4(i);return kFe({breakAll:s,children:i,maxLines:a,style:o},f,h,n,r)}return I4(i)},$4="#808080",MS=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,s=t.lineHeight,a=s===void 0?"1em":s,f=t.capHeight,h=f===void 0?"0.71em":f,g=t.scaleToFit,y=g===void 0?!1:g,x=t.textAnchor,P=x===void 0?"start":x,O=t.verticalAnchor,S=O===void 0?"end":O,A=t.fill,I=A===void 0?$4:A,M=O4(t,xFe),k=V.useMemo(function(){return PFe({breakAll:M.breakAll,children:M.children,maxLines:M.maxLines,scaleToFit:y,style:M.style,width:M.width})},[M.breakAll,M.children,M.maxLines,y,M.style,M.width]),$=M.dx,L=M.dy,N=M.angle,F=M.className,G=M.breakAll,J=O4(M,_Fe);if(!Fi(r)||!Fi(o))return null;var ee=r+(Et($)?$:0),ae=o+(Et(L)?L:0),pe;switch(S){case"start":pe=ZP("calc(".concat(h,")"));break;case"middle":pe=ZP("calc(".concat((k.length-1)/2," * -").concat(a," + (").concat(h," / 2))"));break;default:pe=ZP("calc(".concat(k.length-1," * -").concat(a,")"));break}var ye=[];if(y){var we=k[0].width,Ce=M.width;ye.push("scale(".concat((Et(Ce)?Ce/we:1)/we,")"))}return N&&ye.push("rotate(".concat(N,", ").concat(ee,", ").concat(ae,")")),ye.length&&(J.transform=ye.join(" ")),Pe.createElement("text",RM({},qn(J,!0),{x:ee,y:ae,className:mr("recharts-text",F),textAnchor:P,fill:I.includes("url")?$4:I}),k.map(function(Oe,Ee){return Pe.createElement("tspan",{x:ee,dy:Ee===0?pe:a,key:Ee},Oe.words.join(G?"":" "))}))},OFe=cL;function AFe(e,t){return OFe(e,t)}var MFe=AFe;const EE=tr(MFe);var IFe=Wg;function $Fe(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],s=t(o);if(s!=null&&(a===void 0?s===s&&!IFe(s):n(s,a)))var a=s,f=o}return f}var HY=$Fe;function RFe(e,t){return e>t}var DFe=RFe,LFe=HY,NFe=DFe,zFe=Zg;function jFe(e){return e&&e.length?LFe(e,zFe,NFe):void 0}var BFe=jFe;const TE=tr(BFe);function FFe(e,t){return e<t}var UFe=FFe,VFe=HY,WFe=UFe,qFe=Zg;function GFe(e){return e&&e.length?VFe(e,qFe,WFe):void 0}var HFe=GFe;const kE=tr(HFe);var YFe=JD,KFe=Yd,ZFe=LY,XFe=fa;function JFe(e,t){var n=XFe(e)?YFe:ZFe;return n(e,KFe(t))}var QFe=JFe,e4e=RY,t4e=QFe;function n4e(e,t){return e4e(t4e(e,t),1)}var r4e=n4e;const i4e=tr(r4e);function Od(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function o4e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function YY(e){let t,n,r;e.length!==2?(t=Od,n=(a,f)=>Od(e(a),f),r=(a,f)=>e(a)-f):(t=e===Od||e===o4e?e:a4e,n=e,r=e);function i(a,f,h=0,g=a.length){if(h<g){if(t(f,f)!==0)return g;do{const y=h+g>>>1;n(a[y],f)<0?h=y+1:g=y}while(h<g)}return h}function o(a,f,h=0,g=a.length){if(h<g){if(t(f,f)!==0)return g;do{const y=h+g>>>1;n(a[y],f)<=0?h=y+1:g=y}while(h<g)}return h}function s(a,f,h=0,g=a.length){const y=i(a,f,h,g-1);return y>h&&r(a[y-1],f)>-r(a[y],f)?y-1:y}return{left:i,center:s,right:o}}function a4e(){return 0}function KY(e){return e===null?NaN:+e}function*s4e(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const l4e=YY(Od),c4e=l4e.right;YY(KY).center;const Px=c4e;class R4 extends Map{constructor(t,n=f4e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(D4(this,t))}has(t){return super.has(D4(this,t))}set(t,n){return super.set(u4e(this,t),n)}delete(t){return super.delete(d4e(this,t))}}function D4({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function u4e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function d4e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function f4e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function h4e(e=Od){if(e===Od)return ZY;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function ZY(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const p4e=Math.sqrt(50),m4e=Math.sqrt(10),g4e=Math.sqrt(2);function IS(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=p4e?10:o>=m4e?5:o>=g4e?2:1;let a,f,h;return i<0?(h=Math.pow(10,-i)/s,a=Math.round(e*h),f=Math.round(t*h),a/h<e&&++a,f/h>t&&--f,h=-h):(h=Math.pow(10,i)*s,a=Math.round(e/h),f=Math.round(t/h),a*h<e&&++a,f*h>t&&--f),f<a&&.5<=n&&n<2?IS(e,t,n*2):[a,f,h]}function DM(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?IS(t,e,n):IS(e,t,n);if(!(o>=i))return[];const a=o-i+1,f=new Array(a);if(r)if(s<0)for(let h=0;h<a;++h)f[h]=(o-h)/-s;else for(let h=0;h<a;++h)f[h]=(o-h)*s;else if(s<0)for(let h=0;h<a;++h)f[h]=(i+h)/-s;else for(let h=0;h<a;++h)f[h]=(i+h)*s;return f}function LM(e,t,n){return t=+t,e=+e,n=+n,IS(e,t,n)[2]}function y4e(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?LM(t,e,n):LM(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function L4(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function N4(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function XY(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?ZY:h4e(i);r>n;){if(r-n>600){const f=r-n+1,h=t-n+1,g=Math.log(f),y=.5*Math.exp(2*g/3),x=.5*Math.sqrt(g*y*(f-y)/f)*(h-f/2<0?-1:1),P=Math.max(n,Math.floor(t-h*y/f+x)),O=Math.min(r,Math.floor(t+(f-h)*y/f+x));XY(e,t,P,O,i)}const o=e[t];let s=n,a=r;for(jv(e,n,t),i(e[r],o)>0&&jv(e,n,r);s<a;){for(jv(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?jv(e,n,a):(++a,jv(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function jv(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v4e(e,t,n){if(e=Float64Array.from(s4e(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return N4(e);if(t>=1)return L4(e);var r,i=(r-1)*t,o=Math.floor(i),s=L4(XY(e,o).subarray(0,o+1)),a=N4(e.subarray(o+1));return s+(a-s)*(i-o)}}function b4e(e,t,n=KY){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function x4e(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Gs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function wu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const NM=Symbol("implicit");function yL(){var e=new R4,t=[],n=[],r=NM;function i(o){let s=e.get(o);if(s===void 0){if(r!==NM)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new R4;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return yL(t,n).unknown(r)},Gs.apply(i,arguments),i}function Sb(){var e=yL().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,a=!1,f=0,h=0,g=.5;delete e.unknown;function y(){var x=t().length,P=i<r,O=P?i:r,S=P?r:i;o=(S-O)/Math.max(1,x-f+h*2),a&&(o=Math.floor(o)),O+=(S-O-o*(x-f))*g,s=o*(1-f),a&&(O=Math.round(O),s=Math.round(s));var A=x4e(x).map(function(I){return O+o*I});return n(P?A.reverse():A)}return e.domain=function(x){return arguments.length?(t(x),y()):t()},e.range=function(x){return arguments.length?([r,i]=x,r=+r,i=+i,y()):[r,i]},e.rangeRound=function(x){return[r,i]=x,r=+r,i=+i,a=!0,y()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(x){return arguments.length?(a=!!x,y()):a},e.padding=function(x){return arguments.length?(f=Math.min(1,h=+x),y()):f},e.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),y()):f},e.paddingOuter=function(x){return arguments.length?(h=+x,y()):h},e.align=function(x){return arguments.length?(g=Math.max(0,Math.min(1,x)),y()):g},e.copy=function(){return Sb(t(),[r,i]).round(a).paddingInner(f).paddingOuter(h).align(g)},Gs.apply(y(),arguments)}function JY(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return JY(t())},e}function O0(){return JY(Sb.apply(null,arguments).paddingInner(1))}function vL(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function QY(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ox(){}var Cb=.7,$S=1/Cb,Rm="\\s*([+-]?\\d+)\\s*",Eb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ic="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_4e=/^#([0-9a-f]{3,8})$/,w4e=new RegExp(`^rgb\\(${Rm},${Rm},${Rm}\\)$`),S4e=new RegExp(`^rgb\\(${ic},${ic},${ic}\\)$`),C4e=new RegExp(`^rgba\\(${Rm},${Rm},${Rm},${Eb}\\)$`),E4e=new RegExp(`^rgba\\(${ic},${ic},${ic},${Eb}\\)$`),T4e=new RegExp(`^hsl\\(${Eb},${ic},${ic}\\)$`),k4e=new RegExp(`^hsla\\(${Eb},${ic},${ic},${Eb}\\)$`),z4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vL(Ox,Tb,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:j4,formatHex:j4,formatHex8:P4e,formatHsl:O4e,formatRgb:B4,toString:B4});function j4(){return this.rgb().formatHex()}function P4e(){return this.rgb().formatHex8()}function O4e(){return eK(this).formatHsl()}function B4(){return this.rgb().formatRgb()}function Tb(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=_4e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?F4(t):n===3?new Sa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?T1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?T1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=w4e.exec(e))?new Sa(t[1],t[2],t[3],1):(t=S4e.exec(e))?new Sa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=C4e.exec(e))?T1(t[1],t[2],t[3],t[4]):(t=E4e.exec(e))?T1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=T4e.exec(e))?W4(t[1],t[2]/100,t[3]/100,1):(t=k4e.exec(e))?W4(t[1],t[2]/100,t[3]/100,t[4]):z4.hasOwnProperty(e)?F4(z4[e]):e==="transparent"?new Sa(NaN,NaN,NaN,0):null}function F4(e){return new Sa(e>>16&255,e>>8&255,e&255,1)}function T1(e,t,n,r){return r<=0&&(e=t=n=NaN),new Sa(e,t,n,r)}function A4e(e){return e instanceof Ox||(e=Tb(e)),e?(e=e.rgb(),new Sa(e.r,e.g,e.b,e.opacity)):new Sa}function zM(e,t,n,r){return arguments.length===1?A4e(e):new Sa(e,t,n,r??1)}function Sa(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}vL(Sa,zM,QY(Ox,{brighter(e){return e=e==null?$S:Math.pow($S,e),new Sa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cb:Math.pow(Cb,e),new Sa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sa(ah(this.r),ah(this.g),ah(this.b),RS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:U4,formatHex:U4,formatHex8:M4e,formatRgb:V4,toString:V4}));function U4(){return`#${Kf(this.r)}${Kf(this.g)}${Kf(this.b)}`}function M4e(){return`#${Kf(this.r)}${Kf(this.g)}${Kf(this.b)}${Kf((isNaN(this.opacity)?1:this.opacity)*255)}`}function V4(){const e=RS(this.opacity);return`${e===1?"rgb(":"rgba("}${ah(this.r)}, ${ah(this.g)}, ${ah(this.b)}${e===1?")":`, ${e})`}`}function RS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ah(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Kf(e){return e=ah(e),(e<16?"0":"")+e.toString(16)}function W4(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new pl(e,t,n,r)}function eK(e){if(e instanceof pl)return new pl(e.h,e.s,e.l,e.opacity);if(e instanceof Ox||(e=Tb(e)),!e)return new pl;if(e instanceof pl)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,f=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=f<.5?o+i:2-o-i,s*=60):a=f>0&&f<1?0:s,new pl(s,a,f,e.opacity)}function I4e(e,t,n,r){return arguments.length===1?eK(e):new pl(e,t,n,r??1)}function pl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}vL(pl,I4e,QY(Ox,{brighter(e){return e=e==null?$S:Math.pow($S,e),new pl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cb:Math.pow(Cb,e),new pl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Sa(XP(e>=240?e-240:e+120,i,r),XP(e,i,r),XP(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new pl(q4(this.h),k1(this.s),k1(this.l),RS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=RS(this.opacity);return`${e===1?"hsl(":"hsla("}${q4(this.h)}, ${k1(this.s)*100}%, ${k1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function q4(e){return e=(e||0)%360,e<0?e+360:e}function k1(e){return Math.max(0,Math.min(1,e||0))}function XP(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const bL=e=>()=>e;function $4e(e,t){return function(n){return e+n*t}}function R4e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function D4e(e){return(e=+e)==1?tK:function(t,n){return n-t?R4e(t,n,e):bL(isNaN(t)?n:t)}}function tK(e,t){var n=t-e;return n?$4e(e,n):bL(isNaN(e)?t:e)}const G4=function e(t){var n=D4e(t);function r(i,o){var s=n((i=zM(i)).r,(o=zM(o)).r),a=n(i.g,o.g),f=n(i.b,o.b),h=tK(i.opacity,o.opacity);return function(g){return i.r=s(g),i.g=a(g),i.b=f(g),i.opacity=h(g),i+""}}return r.gamma=e,r}(1);function L4e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function N4e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function z4e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Jg(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function j4e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function DS(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function B4e(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Jg(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var jM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,JP=new RegExp(jM.source,"g");function F4e(e){return function(){return e}}function U4e(e){return function(t){return e(t)+""}}function V4e(e,t){var n=jM.lastIndex=JP.lastIndex=0,r,i,o,s=-1,a=[],f=[];for(e=e+"",t=t+"";(r=jM.exec(e))&&(i=JP.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,f.push({i:s,x:DS(r,i)})),n=JP.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?f[0]?U4e(f[0].x):F4e(t):(t=f.length,function(h){for(var g=0,y;g<t;++g)a[(y=f[g]).i]=y.x(h);return a.join("")})}function Jg(e,t){var n=typeof t,r;return t==null||n==="boolean"?bL(t):(n==="number"?DS:n==="string"?(r=Tb(t))?(t=r,G4):V4e:t instanceof Tb?G4:t instanceof Date?j4e:N4e(t)?L4e:Array.isArray(t)?z4e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?B4e:DS)(e,t)}function xL(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function W4e(e,t){t===void 0&&(t=e,e=Jg);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function q4e(e){return function(){return e}}function LS(e){return+e}var H4=[0,1];function la(e){return e}function BM(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:q4e(isNaN(t)?NaN:.5)}function G4e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function H4e(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=BM(i,r),o=n(s,o)):(r=BM(r,i),o=n(o,s)),function(a){return o(r(a))}}function Y4e(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=BM(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var f=Px(e,a,1,r)-1;return o[f](i[f](a))}}function Ax(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function PE(){var e=H4,t=H4,n=Jg,r,i,o,s=la,a,f,h;function g(){var x=Math.min(e.length,t.length);return s!==la&&(s=G4e(e[0],e[x-1])),a=x>2?Y4e:H4e,f=h=null,y}function y(x){return x==null||isNaN(x=+x)?o:(f||(f=a(e.map(r),t,n)))(r(s(x)))}return y.invert=function(x){return s(i((h||(h=a(t,e.map(r),DS)))(x)))},y.domain=function(x){return arguments.length?(e=Array.from(x,LS),g()):e.slice()},y.range=function(x){return arguments.length?(t=Array.from(x),g()):t.slice()},y.rangeRound=function(x){return t=Array.from(x),n=xL,g()},y.clamp=function(x){return arguments.length?(s=x?!0:la,g()):s!==la},y.interpolate=function(x){return arguments.length?(n=x,g()):n},y.unknown=function(x){return arguments.length?(o=x,y):o},function(x,P){return r=x,i=P,g()}}function _L(){return PE()(la,la)}function K4e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function NS(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function fg(e){return e=NS(Math.abs(e)),e?e[1]:NaN}function Z4e(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],f=0;i>0&&a>0&&(f+a+1>r&&(a=Math.max(1,r-f)),o.push(n.substring(i-=a,i+a)),!((f+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function X4e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var J4e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kb(e){if(!(t=J4e.exec(e)))throw new Error("invalid format: "+e);var t;return new wL({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}kb.prototype=wL.prototype;function wL(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}wL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Q4e(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var nK;function e6e(e,t){var n=NS(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(nK=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+NS(e,Math.max(0,t+o-1))[0]}function Y4(e,t){var n=NS(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const K4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:K4e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Y4(e*100,t),r:Y4,s:e6e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Z4(e){return e}var X4=Array.prototype.map,J4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function t6e(e){var t=e.grouping===void 0||e.thousands===void 0?Z4:Z4e(X4.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Z4:X4e(X4.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function h(y){y=kb(y);var x=y.fill,P=y.align,O=y.sign,S=y.symbol,A=y.zero,I=y.width,M=y.comma,k=y.precision,$=y.trim,L=y.type;L==="n"?(M=!0,L="g"):K4[L]||(k===void 0&&(k=12),$=!0,L="g"),(A||x==="0"&&P==="=")&&(A=!0,x="0",P="=");var N=S==="$"?n:S==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",F=S==="$"?r:/[%p]/.test(L)?s:"",G=K4[L],J=/[defgprs%]/.test(L);k=k===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function ee(ae){var pe=N,ye=F,we,Ce,Oe;if(L==="c")ye=G(ae)+ye,ae="";else{ae=+ae;var Ee=ae<0||1/ae<0;if(ae=isNaN(ae)?f:G(Math.abs(ae),k),$&&(ae=Q4e(ae)),Ee&&+ae==0&&O!=="+"&&(Ee=!1),pe=(Ee?O==="("?O:a:O==="-"||O==="("?"":O)+pe,ye=(L==="s"?J4[8+nK/3]:"")+ye+(Ee&&O==="("?")":""),J){for(we=-1,Ce=ae.length;++we<Ce;)if(Oe=ae.charCodeAt(we),48>Oe||Oe>57){ye=(Oe===46?i+ae.slice(we+1):ae.slice(we))+ye,ae=ae.slice(0,we);break}}}M&&!A&&(ae=t(ae,1/0));var Se=pe.length+ae.length+ye.length,De=Se<I?new Array(I-Se+1).join(x):"";switch(M&&A&&(ae=t(De+ae,De.length?I-ye.length:1/0),De=""),P){case"<":ae=pe+ae+ye+De;break;case"=":ae=pe+De+ae+ye;break;case"^":ae=De.slice(0,Se=De.length>>1)+pe+ae+ye+De.slice(Se);break;default:ae=De+pe+ae+ye;break}return o(ae)}return ee.toString=function(){return y+""},ee}function g(y,x){var P=h((y=kb(y),y.type="f",y)),O=Math.max(-8,Math.min(8,Math.floor(fg(x)/3)))*3,S=Math.pow(10,-O),A=J4[8+O/3];return function(I){return P(S*I)+A}}return{format:h,formatPrefix:g}}var P1,SL,rK;n6e({thousands:",",grouping:[3],currency:["$",""]});function n6e(e){return P1=t6e(e),SL=P1.format,rK=P1.formatPrefix,P1}function r6e(e){return Math.max(0,-fg(Math.abs(e)))}function i6e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fg(t)/3)))*3-fg(Math.abs(e)))}function o6e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,fg(t)-fg(e))+1}function iK(e,t,n,r){var i=y4e(e,t,n),o;switch(r=kb(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=i6e(i,s))&&(r.precision=o),rK(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=o6e(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=r6e(i))&&(r.precision=o-(r.type==="%")*2);break}}return SL(r)}function Zd(e){var t=e.domain;return e.ticks=function(n){var r=t();return DM(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return iK(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],f,h,g=10;for(a<s&&(h=s,s=a,a=h,h=i,i=o,o=h);g-- >0;){if(h=LM(s,a,n),h===f)return r[i]=s,r[o]=a,t(r);if(h>0)s=Math.floor(s/h)*h,a=Math.ceil(a/h)*h;else if(h<0)s=Math.ceil(s*h)/h,a=Math.floor(a*h)/h;else break;f=h}return e},e}function zS(){var e=_L();return e.copy=function(){return Ax(e,zS())},Gs.apply(e,arguments),Zd(e)}function oK(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,LS),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return oK(e).unknown(t)},e=arguments.length?Array.from(e,LS):[0,1],Zd(n)}function aK(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function Q4(e){return Math.log(e)}function e6(e){return Math.exp(e)}function a6e(e){return-Math.log(-e)}function s6e(e){return-Math.exp(-e)}function l6e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function c6e(e){return e===10?l6e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function u6e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function t6(e){return(t,n)=>-e(-t,n)}function CL(e){const t=e(Q4,e6),n=t.domain;let r=10,i,o;function s(){return i=u6e(r),o=c6e(r),n()[0]<0?(i=t6(i),o=t6(o),e(a6e,s6e)):e(Q4,e6),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{const f=n();let h=f[0],g=f[f.length-1];const y=g<h;y&&([h,g]=[g,h]);let x=i(h),P=i(g),O,S;const A=a==null?10:+a;let I=[];if(!(r%1)&&P-x<A){if(x=Math.floor(x),P=Math.ceil(P),h>0){for(;x<=P;++x)for(O=1;O<r;++O)if(S=x<0?O/o(-x):O*o(x),!(S<h)){if(S>g)break;I.push(S)}}else for(;x<=P;++x)for(O=r-1;O>=1;--O)if(S=x>0?O/o(-x):O*o(x),!(S<h)){if(S>g)break;I.push(S)}I.length*2<A&&(I=DM(h,g,A))}else I=DM(x,P,Math.min(P-x,A)).map(o);return y?I.reverse():I},t.tickFormat=(a,f)=>{if(a==null&&(a=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=kb(f)).precision==null&&(f.trim=!0),f=SL(f)),a===1/0)return f;const h=Math.max(1,r*a/t.ticks().length);return g=>{let y=g/o(Math.round(i(g)));return y*r<r-.5&&(y*=r),y<=h?f(g):""}},t.nice=()=>n(aK(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function sK(){const e=CL(PE()).domain([1,10]);return e.copy=()=>Ax(e,sK()).base(e.base()),Gs.apply(e,arguments),e}function n6(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function r6(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function EL(e){var t=1,n=e(n6(t),r6(t));return n.constant=function(r){return arguments.length?e(n6(t=+r),r6(t)):t},Zd(n)}function lK(){var e=EL(PE());return e.copy=function(){return Ax(e,lK()).constant(e.constant())},Gs.apply(e,arguments)}function i6(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function d6e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function f6e(e){return e<0?-e*e:e*e}function TL(e){var t=e(la,la),n=1;function r(){return n===1?e(la,la):n===.5?e(d6e,f6e):e(i6(n),i6(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Zd(t)}function kL(){var e=TL(PE());return e.copy=function(){return Ax(e,kL()).exponent(e.exponent())},Gs.apply(e,arguments),e}function h6e(){return kL.apply(null,arguments).exponent(.5)}function o6(e){return Math.sign(e)*e*e}function p6e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function cK(){var e=_L(),t=[0,1],n=!1,r;function i(o){var s=p6e(e(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return e.invert(o6(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,LS)).map(o6)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return cK(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Gs.apply(i,arguments),Zd(i)}function uK(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=b4e(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[Px(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Od),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return uK().domain(e).range(t).unknown(r)},Gs.apply(o,arguments)}function dK(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(f){return f!=null&&f<=f?i[Px(r,f,0,n)]:o}function a(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return s}return s.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,a()):[e,t]},s.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,a()):i.slice()},s.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[e,r[0]]:h>=n?[r[n-1],t]:[r[h-1],r[h]]},s.unknown=function(f){return arguments.length&&(o=f),s},s.thresholds=function(){return r.slice()},s.copy=function(){return dK().domain([e,t]).range(i).unknown(o)},Gs.apply(Zd(s),arguments)}function fK(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Px(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return fK().domain(e).range(t).unknown(n)},Gs.apply(i,arguments)}const QP=new Date,eO=new Date;function Wi(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const f=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return f;let h;do f.push(h=new Date(+o)),t(o,a),e(o);while(h<o&&o<s);return f},i.filter=o=>Wi(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(QP.setTime(+o),eO.setTime(+s),e(QP),e(eO),Math.floor(n(QP,eO))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const jS=Wi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);jS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Wi(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):jS);jS.range;const Hc=1e3,Ps=Hc*60,Yc=Ps*60,du=Yc*24,PL=du*7,a6=du*30,tO=du*365,Zf=Wi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Hc)},(e,t)=>(t-e)/Hc,e=>e.getUTCSeconds());Zf.range;const OL=Wi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Hc)},(e,t)=>{e.setTime(+e+t*Ps)},(e,t)=>(t-e)/Ps,e=>e.getMinutes());OL.range;const AL=Wi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ps)},(e,t)=>(t-e)/Ps,e=>e.getUTCMinutes());AL.range;const ML=Wi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Hc-e.getMinutes()*Ps)},(e,t)=>{e.setTime(+e+t*Yc)},(e,t)=>(t-e)/Yc,e=>e.getHours());ML.range;const IL=Wi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Yc)},(e,t)=>(t-e)/Yc,e=>e.getUTCHours());IL.range;const Mx=Wi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ps)/du,e=>e.getDate()-1);Mx.range;const OE=Wi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/du,e=>e.getUTCDate()-1);OE.range;const hK=Wi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/du,e=>Math.floor(e/du));hK.range;function Rh(e){return Wi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ps)/PL)}const AE=Rh(0),BS=Rh(1),m6e=Rh(2),g6e=Rh(3),hg=Rh(4),y6e=Rh(5),v6e=Rh(6);AE.range;BS.range;m6e.range;g6e.range;hg.range;y6e.range;v6e.range;function Dh(e){return Wi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/PL)}const ME=Dh(0),FS=Dh(1),b6e=Dh(2),x6e=Dh(3),pg=Dh(4),_6e=Dh(5),w6e=Dh(6);ME.range;FS.range;b6e.range;x6e.range;pg.range;_6e.range;w6e.range;const $L=Wi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());$L.range;const RL=Wi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());RL.range;const fu=Wi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());fu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});fu.range;const hu=Wi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());hu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});hu.range;function nO(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function S6e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function C6e(e){let t,n,r;e.length!==2?(t=nO,n=(a,f)=>nO(e(a),f),r=(a,f)=>e(a)-f):(t=e===nO||e===S6e?e:E6e,n=e,r=e);function i(a,f,h=0,g=a.length){if(h<g){if(t(f,f)!==0)return g;do{const y=h+g>>>1;n(a[y],f)<0?h=y+1:g=y}while(h<g)}return h}function o(a,f,h=0,g=a.length){if(h<g){if(t(f,f)!==0)return g;do{const y=h+g>>>1;n(a[y],f)<=0?h=y+1:g=y}while(h<g)}return h}function s(a,f,h=0,g=a.length){const y=i(a,f,h,g-1);return y>h&&r(a[y-1],f)>-r(a[y],f)?y-1:y}return{left:i,center:s,right:o}}function E6e(){return 0}const T6e=Math.sqrt(50),k6e=Math.sqrt(10),P6e=Math.sqrt(2);function pK(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=T6e?10:o>=k6e?5:o>=P6e?2:1;let a,f,h;return i<0?(h=Math.pow(10,-i)/s,a=Math.round(e*h),f=Math.round(t*h),a/h<e&&++a,f/h>t&&--f,h=-h):(h=Math.pow(10,i)*s,a=Math.round(e/h),f=Math.round(t/h),a*h<e&&++a,f*h>t&&--f),f<a&&.5<=n&&n<2?pK(e,t,n*2):[a,f,h]}function s6(e,t,n){return t=+t,e=+e,n=+n,pK(e,t,n)[2]}function l6(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?s6(t,e,n):s6(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function mK(e,t,n,r,i,o){const s=[[Zf,1,Hc],[Zf,5,5*Hc],[Zf,15,15*Hc],[Zf,30,30*Hc],[o,1,Ps],[o,5,5*Ps],[o,15,15*Ps],[o,30,30*Ps],[i,1,Yc],[i,3,3*Yc],[i,6,6*Yc],[i,12,12*Yc],[r,1,du],[r,2,2*du],[n,1,PL],[t,1,a6],[t,3,3*a6],[e,1,tO]];function a(h,g,y){const x=g<h;x&&([h,g]=[g,h]);const P=y&&typeof y.range=="function"?y:f(h,g,y),O=P?P.range(h,+g+1):[];return x?O.reverse():O}function f(h,g,y){const x=Math.abs(g-h)/y,P=C6e(([,,A])=>A).right(s,x);if(P===s.length)return e.every(l6(h/tO,g/tO,y));if(P===0)return jS.every(Math.max(l6(h,g,y),1));const[O,S]=s[x/s[P-1][2]<s[P][2]/x?P-1:P];return O.every(S)}return[a,f]}const[O6e,A6e]=mK(hu,RL,ME,hK,IL,AL),[M6e,I6e]=mK(fu,$L,AE,Mx,ML,OL);function rO(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function iO(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bv(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function $6e(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,f=e.shortMonths,h=Fv(i),g=Uv(i),y=Fv(o),x=Uv(o),P=Fv(s),O=Uv(s),S=Fv(a),A=Uv(a),I=Fv(f),M=Uv(f),k={a:Ee,A:Se,b:De,B:We,c:null,d:p6,e:p6,f:nUe,g:fUe,G:pUe,H:Q6e,I:eUe,j:tUe,L:gK,m:rUe,M:iUe,p:dt,q:ht,Q:y6,s:v6,S:oUe,u:aUe,U:sUe,V:lUe,w:cUe,W:uUe,x:null,X:null,y:dUe,Y:hUe,Z:mUe,"%":g6},$={a:Je,A:it,b:Ot,B:at,c:null,d:m6,e:m6,f:bUe,g:OUe,G:MUe,H:gUe,I:yUe,j:vUe,L:vK,m:xUe,M:_Ue,p:Gt,q:Ht,Q:y6,s:v6,S:wUe,u:SUe,U:CUe,V:EUe,w:TUe,W:kUe,x:null,X:null,y:PUe,Y:AUe,Z:IUe,"%":g6},L={a:ee,A:ae,b:pe,B:ye,c:we,d:f6,e:f6,f:K6e,g:d6,G:u6,H:h6,I:h6,j:q6e,L:Y6e,m:W6e,M:G6e,p:J,q:V6e,Q:X6e,s:J6e,S:H6e,u:z6e,U:j6e,V:B6e,w:N6e,W:F6e,x:Ce,X:Oe,y:d6,Y:u6,Z:U6e,"%":Z6e};k.x=N(n,k),k.X=N(r,k),k.c=N(t,k),$.x=N(n,$),$.X=N(r,$),$.c=N(t,$);function N(He,vt){return function(yt){var Ve=[],Ct=-1,Tt=0,qt=He.length,vn,Mn,_n;for(yt instanceof Date||(yt=new Date(+yt));++Ct<qt;)He.charCodeAt(Ct)===37&&(Ve.push(He.slice(Tt,Ct)),(Mn=c6[vn=He.charAt(++Ct)])!=null?vn=He.charAt(++Ct):Mn=vn==="e"?" ":"0",(_n=vt[vn])&&(vn=_n(yt,Mn)),Ve.push(vn),Tt=Ct+1);return Ve.push(He.slice(Tt,Ct)),Ve.join("")}}function F(He,vt){return function(yt){var Ve=Bv(1900,void 0,1),Ct=G(Ve,He,yt+="",0),Tt,qt;if(Ct!=yt.length)return null;if("Q"in Ve)return new Date(Ve.Q);if("s"in Ve)return new Date(Ve.s*1e3+("L"in Ve?Ve.L:0));if(vt&&!("Z"in Ve)&&(Ve.Z=0),"p"in Ve&&(Ve.H=Ve.H%12+Ve.p*12),Ve.m===void 0&&(Ve.m="q"in Ve?Ve.q:0),"V"in Ve){if(Ve.V<1||Ve.V>53)return null;"w"in Ve||(Ve.w=1),"Z"in Ve?(Tt=iO(Bv(Ve.y,0,1)),qt=Tt.getUTCDay(),Tt=qt>4||qt===0?FS.ceil(Tt):FS(Tt),Tt=OE.offset(Tt,(Ve.V-1)*7),Ve.y=Tt.getUTCFullYear(),Ve.m=Tt.getUTCMonth(),Ve.d=Tt.getUTCDate()+(Ve.w+6)%7):(Tt=rO(Bv(Ve.y,0,1)),qt=Tt.getDay(),Tt=qt>4||qt===0?BS.ceil(Tt):BS(Tt),Tt=Mx.offset(Tt,(Ve.V-1)*7),Ve.y=Tt.getFullYear(),Ve.m=Tt.getMonth(),Ve.d=Tt.getDate()+(Ve.w+6)%7)}else("W"in Ve||"U"in Ve)&&("w"in Ve||(Ve.w="u"in Ve?Ve.u%7:"W"in Ve?1:0),qt="Z"in Ve?iO(Bv(Ve.y,0,1)).getUTCDay():rO(Bv(Ve.y,0,1)).getDay(),Ve.m=0,Ve.d="W"in Ve?(Ve.w+6)%7+Ve.W*7-(qt+5)%7:Ve.w+Ve.U*7-(qt+6)%7);return"Z"in Ve?(Ve.H+=Ve.Z/100|0,Ve.M+=Ve.Z%100,iO(Ve)):rO(Ve)}}function G(He,vt,yt,Ve){for(var Ct=0,Tt=vt.length,qt=yt.length,vn,Mn;Ct<Tt;){if(Ve>=qt)return-1;if(vn=vt.charCodeAt(Ct++),vn===37){if(vn=vt.charAt(Ct++),Mn=L[vn in c6?vt.charAt(Ct++):vn],!Mn||(Ve=Mn(He,yt,Ve))<0)return-1}else if(vn!=yt.charCodeAt(Ve++))return-1}return Ve}function J(He,vt,yt){var Ve=h.exec(vt.slice(yt));return Ve?(He.p=g.get(Ve[0].toLowerCase()),yt+Ve[0].length):-1}function ee(He,vt,yt){var Ve=P.exec(vt.slice(yt));return Ve?(He.w=O.get(Ve[0].toLowerCase()),yt+Ve[0].length):-1}function ae(He,vt,yt){var Ve=y.exec(vt.slice(yt));return Ve?(He.w=x.get(Ve[0].toLowerCase()),yt+Ve[0].length):-1}function pe(He,vt,yt){var Ve=I.exec(vt.slice(yt));return Ve?(He.m=M.get(Ve[0].toLowerCase()),yt+Ve[0].length):-1}function ye(He,vt,yt){var Ve=S.exec(vt.slice(yt));return Ve?(He.m=A.get(Ve[0].toLowerCase()),yt+Ve[0].length):-1}function we(He,vt,yt){return G(He,t,vt,yt)}function Ce(He,vt,yt){return G(He,n,vt,yt)}function Oe(He,vt,yt){return G(He,r,vt,yt)}function Ee(He){return s[He.getDay()]}function Se(He){return o[He.getDay()]}function De(He){return f[He.getMonth()]}function We(He){return a[He.getMonth()]}function dt(He){return i[+(He.getHours()>=12)]}function ht(He){return 1+~~(He.getMonth()/3)}function Je(He){return s[He.getUTCDay()]}function it(He){return o[He.getUTCDay()]}function Ot(He){return f[He.getUTCMonth()]}function at(He){return a[He.getUTCMonth()]}function Gt(He){return i[+(He.getUTCHours()>=12)]}function Ht(He){return 1+~~(He.getUTCMonth()/3)}return{format:function(He){var vt=N(He+="",k);return vt.toString=function(){return He},vt},parse:function(He){var vt=F(He+="",!1);return vt.toString=function(){return He},vt},utcFormat:function(He){var vt=N(He+="",$);return vt.toString=function(){return He},vt},utcParse:function(He){var vt=F(He+="",!0);return vt.toString=function(){return He},vt}}}var c6={"-":"",_:" ",0:"0"},io=/^\s*\d+/,R6e=/^%/,D6e=/[\\^$*+?|[\]().{}]/g;function er(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function L6e(e){return e.replace(D6e,"\\$&")}function Fv(e){return new RegExp("^(?:"+e.map(L6e).join("|")+")","i")}function Uv(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function N6e(e,t,n){var r=io.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function z6e(e,t,n){var r=io.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function j6e(e,t,n){var r=io.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function B6e(e,t,n){var r=io.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function F6e(e,t,n){var r=io.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function u6(e,t,n){var r=io.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function d6(e,t,n){var r=io.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function U6e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function V6e(e,t,n){var r=io.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function W6e(e,t,n){var r=io.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function f6(e,t,n){var r=io.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function q6e(e,t,n){var r=io.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function h6(e,t,n){var r=io.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function G6e(e,t,n){var r=io.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function H6e(e,t,n){var r=io.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Y6e(e,t,n){var r=io.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function K6e(e,t,n){var r=io.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Z6e(e,t,n){var r=R6e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function X6e(e,t,n){var r=io.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function J6e(e,t,n){var r=io.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function p6(e,t){return er(e.getDate(),t,2)}function Q6e(e,t){return er(e.getHours(),t,2)}function eUe(e,t){return er(e.getHours()%12||12,t,2)}function tUe(e,t){return er(1+Mx.count(fu(e),e),t,3)}function gK(e,t){return er(e.getMilliseconds(),t,3)}function nUe(e,t){return gK(e,t)+"000"}function rUe(e,t){return er(e.getMonth()+1,t,2)}function iUe(e,t){return er(e.getMinutes(),t,2)}function oUe(e,t){return er(e.getSeconds(),t,2)}function aUe(e){var t=e.getDay();return t===0?7:t}function sUe(e,t){return er(AE.count(fu(e)-1,e),t,2)}function yK(e){var t=e.getDay();return t>=4||t===0?hg(e):hg.ceil(e)}function lUe(e,t){return e=yK(e),er(hg.count(fu(e),e)+(fu(e).getDay()===4),t,2)}function cUe(e){return e.getDay()}function uUe(e,t){return er(BS.count(fu(e)-1,e),t,2)}function dUe(e,t){return er(e.getFullYear()%100,t,2)}function fUe(e,t){return e=yK(e),er(e.getFullYear()%100,t,2)}function hUe(e,t){return er(e.getFullYear()%1e4,t,4)}function pUe(e,t){var n=e.getDay();return e=n>=4||n===0?hg(e):hg.ceil(e),er(e.getFullYear()%1e4,t,4)}function mUe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+er(t/60|0,"0",2)+er(t%60,"0",2)}function m6(e,t){return er(e.getUTCDate(),t,2)}function gUe(e,t){return er(e.getUTCHours(),t,2)}function yUe(e,t){return er(e.getUTCHours()%12||12,t,2)}function vUe(e,t){return er(1+OE.count(hu(e),e),t,3)}function vK(e,t){return er(e.getUTCMilliseconds(),t,3)}function bUe(e,t){return vK(e,t)+"000"}function xUe(e,t){return er(e.getUTCMonth()+1,t,2)}function _Ue(e,t){return er(e.getUTCMinutes(),t,2)}function wUe(e,t){return er(e.getUTCSeconds(),t,2)}function SUe(e){var t=e.getUTCDay();return t===0?7:t}function CUe(e,t){return er(ME.count(hu(e)-1,e),t,2)}function bK(e){var t=e.getUTCDay();return t>=4||t===0?pg(e):pg.ceil(e)}function EUe(e,t){return e=bK(e),er(pg.count(hu(e),e)+(hu(e).getUTCDay()===4),t,2)}function TUe(e){return e.getUTCDay()}function kUe(e,t){return er(FS.count(hu(e)-1,e),t,2)}function PUe(e,t){return er(e.getUTCFullYear()%100,t,2)}function OUe(e,t){return e=bK(e),er(e.getUTCFullYear()%100,t,2)}function AUe(e,t){return er(e.getUTCFullYear()%1e4,t,4)}function MUe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?pg(e):pg.ceil(e),er(e.getUTCFullYear()%1e4,t,4)}function IUe(){return"+0000"}function g6(){return"%"}function y6(e){return+e}function v6(e){return Math.floor(+e/1e3)}var Bp,xK,_K;$Ue({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $Ue(e){return Bp=$6e(e),xK=Bp.format,Bp.parse,_K=Bp.utcFormat,Bp.utcParse,Bp}function RUe(e){return new Date(e)}function DUe(e){return e instanceof Date?+e:+new Date(+e)}function DL(e,t,n,r,i,o,s,a,f,h){var g=_L(),y=g.invert,x=g.domain,P=h(".%L"),O=h(":%S"),S=h("%I:%M"),A=h("%I %p"),I=h("%a %d"),M=h("%b %d"),k=h("%B"),$=h("%Y");function L(N){return(f(N)<N?P:a(N)<N?O:s(N)<N?S:o(N)<N?A:r(N)<N?i(N)<N?I:M:n(N)<N?k:$)(N)}return g.invert=function(N){return new Date(y(N))},g.domain=function(N){return arguments.length?x(Array.from(N,DUe)):x().map(RUe)},g.ticks=function(N){var F=x();return e(F[0],F[F.length-1],N??10)},g.tickFormat=function(N,F){return F==null?L:h(F)},g.nice=function(N){var F=x();return(!N||typeof N.range!="function")&&(N=t(F[0],F[F.length-1],N??10)),N?x(aK(F,N)):g},g.copy=function(){return Ax(g,DL(e,t,n,r,i,o,s,a,f,h))},g}function LUe(){return Gs.apply(DL(M6e,I6e,fu,$L,AE,Mx,ML,OL,Zf,xK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function NUe(){return Gs.apply(DL(O6e,A6e,hu,RL,ME,OE,IL,AL,Zf,_K).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function IE(){var e=0,t=1,n,r,i,o,s=la,a=!1,f;function h(y){return y==null||isNaN(y=+y)?f:s(i===0?.5:(y=(o(y)-n)*i,a?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([e,t]=y,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),h):[e,t]},h.clamp=function(y){return arguments.length?(a=!!y,h):a},h.interpolator=function(y){return arguments.length?(s=y,h):s};function g(y){return function(x){var P,O;return arguments.length?([P,O]=x,s=y(P,O),h):[s(0),s(1)]}}return h.range=g(Jg),h.rangeRound=g(xL),h.unknown=function(y){return arguments.length?(f=y,h):f},function(y){return o=y,n=y(e),r=y(t),i=n===r?0:1/(r-n),h}}function Xd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function wK(){var e=Zd(IE()(la));return e.copy=function(){return Xd(e,wK())},wu.apply(e,arguments)}function SK(){var e=CL(IE()).domain([1,10]);return e.copy=function(){return Xd(e,SK()).base(e.base())},wu.apply(e,arguments)}function CK(){var e=EL(IE());return e.copy=function(){return Xd(e,CK()).constant(e.constant())},wu.apply(e,arguments)}function LL(){var e=TL(IE());return e.copy=function(){return Xd(e,LL()).exponent(e.exponent())},wu.apply(e,arguments)}function zUe(){return LL.apply(null,arguments).exponent(.5)}function EK(){var e=[],t=la;function n(r){if(r!=null&&!isNaN(r=+r))return t((Px(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Od),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>v4e(e,o/r))},n.copy=function(){return EK(t).domain(e)},wu.apply(n,arguments)}function $E(){var e=0,t=.5,n=1,r=1,i,o,s,a,f,h=la,g,y=!1,x;function P(S){return isNaN(S=+S)?x:(S=.5+((S=+g(S))-o)*(r*S<r*o?a:f),h(y?Math.max(0,Math.min(1,S)):S))}P.domain=function(S){return arguments.length?([e,t,n]=S,i=g(e=+e),o=g(t=+t),s=g(n=+n),a=i===o?0:.5/(o-i),f=o===s?0:.5/(s-o),r=o<i?-1:1,P):[e,t,n]},P.clamp=function(S){return arguments.length?(y=!!S,P):y},P.interpolator=function(S){return arguments.length?(h=S,P):h};function O(S){return function(A){var I,M,k;return arguments.length?([I,M,k]=A,h=W4e(S,[I,M,k]),P):[h(0),h(.5),h(1)]}}return P.range=O(Jg),P.rangeRound=O(xL),P.unknown=function(S){return arguments.length?(x=S,P):x},function(S){return g=S,i=S(e),o=S(t),s=S(n),a=i===o?0:.5/(o-i),f=o===s?0:.5/(s-o),r=o<i?-1:1,P}}function TK(){var e=Zd($E()(la));return e.copy=function(){return Xd(e,TK())},wu.apply(e,arguments)}function kK(){var e=CL($E()).domain([.1,1,10]);return e.copy=function(){return Xd(e,kK()).base(e.base())},wu.apply(e,arguments)}function PK(){var e=EL($E());return e.copy=function(){return Xd(e,PK()).constant(e.constant())},wu.apply(e,arguments)}function NL(){var e=TL($E());return e.copy=function(){return Xd(e,NL()).exponent(e.exponent())},wu.apply(e,arguments)}function jUe(){return NL.apply(null,arguments).exponent(.5)}const b6=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Sb,scaleDiverging:TK,scaleDivergingLog:kK,scaleDivergingPow:NL,scaleDivergingSqrt:jUe,scaleDivergingSymlog:PK,scaleIdentity:oK,scaleImplicit:NM,scaleLinear:zS,scaleLog:sK,scaleOrdinal:yL,scalePoint:O0,scalePow:kL,scaleQuantile:uK,scaleQuantize:dK,scaleRadial:cK,scaleSequential:wK,scaleSequentialLog:SK,scaleSequentialPow:LL,scaleSequentialQuantile:EK,scaleSequentialSqrt:zUe,scaleSequentialSymlog:CK,scaleSqrt:h6e,scaleSymlog:lK,scaleThreshold:fK,scaleTime:LUe,scaleUtc:NUe,tickFormat:iK},Symbol.toStringTag,{value:"Module"}));var Qg=1e9,BUe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},jL,Kr=!0,Fs="[DecimalError] ",sh=Fs+"Invalid argument: ",zL=Fs+"Exponent out of range: ",ey=Math.floor,Lf=Math.pow,FUe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ga,Xi=1e7,jr=7,OK=9007199254740991,US=ey(OK/jr),Wt={};Wt.absoluteValue=Wt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Wt.comparedTo=Wt.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Wt.decimalPlaces=Wt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*jr;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Wt.dividedBy=Wt.div=function(e){return Qc(this,new this.constructor(e))};Wt.dividedToIntegerBy=Wt.idiv=function(e){var t=this,n=t.constructor;return Ir(Qc(t,new n(e),0,1),n.precision)};Wt.equals=Wt.eq=function(e){return!this.cmp(e)};Wt.exponent=function(){return Mi(this)};Wt.greaterThan=Wt.gt=function(e){return this.cmp(e)>0};Wt.greaterThanOrEqualTo=Wt.gte=function(e){return this.cmp(e)>=0};Wt.isInteger=Wt.isint=function(){return this.e>this.d.length-2};Wt.isNegative=Wt.isneg=function(){return this.s<0};Wt.isPositive=Wt.ispos=function(){return this.s>0};Wt.isZero=function(){return this.s===0};Wt.lessThan=Wt.lt=function(e){return this.cmp(e)<0};Wt.lessThanOrEqualTo=Wt.lte=function(e){return this.cmp(e)<1};Wt.logarithm=Wt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Ga))throw Error(Fs+"NaN");if(n.s<1)throw Error(Fs+(n.s?"NaN":"-Infinity"));return n.eq(Ga)?new r(0):(Kr=!1,t=Qc(Pb(n,o),Pb(e,o),o),Kr=!0,Ir(t,i))};Wt.minus=Wt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?IK(t,e):AK(t,(e.s=-e.s,e))};Wt.modulo=Wt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Fs+"NaN");return n.s?(Kr=!1,t=Qc(n,e,0,1).times(e),Kr=!0,n.minus(t)):Ir(new r(n),i)};Wt.naturalExponential=Wt.exp=function(){return MK(this)};Wt.naturalLogarithm=Wt.ln=function(){return Pb(this)};Wt.negated=Wt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Wt.plus=Wt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?AK(t,e):IK(t,(e.s=-e.s,e))};Wt.precision=Wt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(sh+e);if(t=Mi(i)+1,r=i.d.length-1,n=r*jr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Wt.squareRoot=Wt.sqrt=function(){var e,t,n,r,i,o,s,a=this,f=a.constructor;if(a.s<1){if(!a.s)return new f(0);throw Error(Fs+"NaN")}for(e=Mi(a),Kr=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=Zl(a.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=ey((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(i.toString()),n=f.precision,i=s=n+3;;)if(o=r,r=o.plus(Qc(a,o,s+2)).times(.5),Zl(o.d).slice(0,s)===(t=Zl(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Ir(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(t!="9999")break;s+=4}return Kr=!0,Ir(r,n)};Wt.times=Wt.mul=function(e){var t,n,r,i,o,s,a,f,h,g=this,y=g.constructor,x=g.d,P=(e=new y(e)).d;if(!g.s||!e.s)return new y(0);for(e.s*=g.s,n=g.e+e.e,f=x.length,h=P.length,f<h&&(o=x,x=P,P=o,s=f,f=h,h=s),o=[],s=f+h,r=s;r--;)o.push(0);for(r=h;--r>=0;){for(t=0,i=f+r;i>r;)a=o[i]+P[r]*x[i-r-1]+t,o[i--]=a%Xi|0,t=a/Xi|0;o[i]=(o[i]+t)%Xi|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Kr?Ir(e,y.precision):e};Wt.toDecimalPlaces=Wt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(cc(e,0,Qg),t===void 0?t=r.rounding:cc(t,0,8),Ir(n,e+Mi(n)+1,t))};Wt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Th(r,!0):(cc(e,0,Qg),t===void 0?t=i.rounding:cc(t,0,8),r=Ir(new i(r),e+1,t),n=Th(r,!0,e+1)),n};Wt.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?Th(i):(cc(e,0,Qg),t===void 0?t=o.rounding:cc(t,0,8),r=Ir(new o(i),e+Mi(i)+1,t),n=Th(r.abs(),!1,e+Mi(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Wt.toInteger=Wt.toint=function(){var e=this,t=e.constructor;return Ir(new t(e),Mi(e)+1,t.rounding)};Wt.toNumber=function(){return+this};Wt.toPower=Wt.pow=function(e){var t,n,r,i,o,s,a=this,f=a.constructor,h=12,g=+(e=new f(e));if(!e.s)return new f(Ga);if(a=new f(a),!a.s){if(e.s<1)throw Error(Fs+"Infinity");return a}if(a.eq(Ga))return a;if(r=f.precision,e.eq(Ga))return Ir(a,r);if(t=e.e,n=e.d.length-1,s=t>=n,o=a.s,s){if((n=g<0?-g:g)<=OK){for(i=new f(Ga),t=Math.ceil(r/jr+4),Kr=!1;n%2&&(i=i.times(a),_6(i.d,t)),n=ey(n/2),n!==0;)a=a.times(a),_6(a.d,t);return Kr=!0,e.s<0?new f(Ga).div(i):Ir(i,r)}}else if(o<0)throw Error(Fs+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,a.s=1,Kr=!1,i=e.times(Pb(a,r+h)),Kr=!0,i=MK(i),i.s=o,i};Wt.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Mi(i),r=Th(i,n<=o.toExpNeg||n>=o.toExpPos)):(cc(e,1,Qg),t===void 0?t=o.rounding:cc(t,0,8),i=Ir(new o(i),e,t),n=Mi(i),r=Th(i,e<=n||n<=o.toExpNeg,e)),r};Wt.toSignificantDigits=Wt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(cc(e,1,Qg),t===void 0?t=r.rounding:cc(t,0,8)),Ir(new r(n),e,t)};Wt.toString=Wt.valueOf=Wt.val=Wt.toJSON=Wt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Mi(e),n=e.constructor;return Th(e,t<=n.toExpNeg||t>=n.toExpPos)};function AK(e,t){var n,r,i,o,s,a,f,h,g=e.constructor,y=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),Kr?Ir(t,y):t;if(f=e.d,h=t.d,s=e.e,i=t.e,f=f.slice(),o=s-i,o){for(o<0?(r=f,o=-o,a=h.length):(r=h,i=s,a=f.length),s=Math.ceil(y/jr),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=f.length,o=h.length,a-o<0&&(o=a,r=h,h=f,f=r),n=0;o;)n=(f[--o]=f[o]+h[o]+n)/Xi|0,f[o]%=Xi;for(n&&(f.unshift(n),++i),a=f.length;f[--a]==0;)f.pop();return t.d=f,t.e=i,Kr?Ir(t,y):t}function cc(e,t,n){if(e!==~~e||e<t||e>n)throw Error(sh+e)}function Zl(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)r=e[t]+"",n=jr-r.length,n&&(o+=rd(n)),o+=r;s=e[t],r=s+"",n=jr-r.length,n&&(o+=rd(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Qc=function(){function e(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Xi|0,s=o/Xi|0;return s&&r.unshift(s),r}function t(r,i,o,s){var a,f;if(o!=s)f=o>s?1:-1;else for(a=f=0;a<o;a++)if(r[a]!=i[a]){f=r[a]>i[a]?1:-1;break}return f}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Xi+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,f,h,g,y,x,P,O,S,A,I,M,k,$,L,N,F,G,J=r.constructor,ee=r.s==i.s?1:-1,ae=r.d,pe=i.d;if(!r.s)return new J(r);if(!i.s)throw Error(Fs+"Division by zero");for(f=r.e-i.e,F=pe.length,L=ae.length,P=new J(ee),O=P.d=[],h=0;pe[h]==(ae[h]||0);)++h;if(pe[h]>(ae[h]||0)&&--f,o==null?M=o=J.precision:s?M=o+(Mi(r)-Mi(i))+1:M=o,M<0)return new J(0);if(M=M/jr+2|0,h=0,F==1)for(g=0,pe=pe[0],M++;(h<L||g)&&M--;h++)k=g*Xi+(ae[h]||0),O[h]=k/pe|0,g=k%pe|0;else{for(g=Xi/(pe[0]+1)|0,g>1&&(pe=e(pe,g),ae=e(ae,g),F=pe.length,L=ae.length),$=F,S=ae.slice(0,F),A=S.length;A<F;)S[A++]=0;G=pe.slice(),G.unshift(0),N=pe[0],pe[1]>=Xi/2&&++N;do g=0,a=t(pe,S,F,A),a<0?(I=S[0],F!=A&&(I=I*Xi+(S[1]||0)),g=I/N|0,g>1?(g>=Xi&&(g=Xi-1),y=e(pe,g),x=y.length,A=S.length,a=t(y,S,x,A),a==1&&(g--,n(y,F<x?G:pe,x))):(g==0&&(a=g=1),y=pe.slice()),x=y.length,x<A&&y.unshift(0),n(S,y,A),a==-1&&(A=S.length,a=t(pe,S,F,A),a<1&&(g++,n(S,F<A?G:pe,A))),A=S.length):a===0&&(g++,S=[0]),O[h++]=g,a&&S[0]?S[A++]=ae[$]||0:(S=[ae[$]],A=1);while(($++<L||S[0]!==void 0)&&M--)}return O[0]||O.shift(),P.e=f,Ir(P,s?o+Mi(P)+1:o)}}();function MK(e,t){var n,r,i,o,s,a,f=0,h=0,g=e.constructor,y=g.precision;if(Mi(e)>16)throw Error(zL+Mi(e));if(!e.s)return new g(Ga);for(t==null?(Kr=!1,a=y):a=t,s=new g(.03125);e.abs().gte(.1);)e=e.times(s),h+=5;for(r=Math.log(Lf(2,h))/Math.LN10*2+5|0,a+=r,n=i=o=new g(Ga),g.precision=a;;){if(i=Ir(i.times(e),a),n=n.times(++f),s=o.plus(Qc(i,n,a)),Zl(s.d).slice(0,a)===Zl(o.d).slice(0,a)){for(;h--;)o=Ir(o.times(o),a);return g.precision=y,t==null?(Kr=!0,Ir(o,y)):o}o=s}}function Mi(e){for(var t=e.e*jr,n=e.d[0];n>=10;n/=10)t++;return t}function oO(e,t,n){if(t>e.LN10.sd())throw Kr=!0,n&&(e.precision=n),Error(Fs+"LN10 precision limit exceeded");return Ir(new e(e.LN10),t)}function rd(e){for(var t="";e--;)t+="0";return t}function Pb(e,t){var n,r,i,o,s,a,f,h,g,y=1,x=10,P=e,O=P.d,S=P.constructor,A=S.precision;if(P.s<1)throw Error(Fs+(P.s?"NaN":"-Infinity"));if(P.eq(Ga))return new S(0);if(t==null?(Kr=!1,h=A):h=t,P.eq(10))return t==null&&(Kr=!0),oO(S,h);if(h+=x,S.precision=h,n=Zl(O),r=n.charAt(0),o=Mi(P),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)P=P.times(e),n=Zl(P.d),r=n.charAt(0),y++;o=Mi(P),r>1?(P=new S("0."+n),o++):P=new S(r+"."+n.slice(1))}else return f=oO(S,h+2,A).times(o+""),P=Pb(new S(r+"."+n.slice(1)),h-x).plus(f),S.precision=A,t==null?(Kr=!0,Ir(P,A)):P;for(a=s=P=Qc(P.minus(Ga),P.plus(Ga),h),g=Ir(P.times(P),h),i=3;;){if(s=Ir(s.times(g),h),f=a.plus(Qc(s,new S(i),h)),Zl(f.d).slice(0,h)===Zl(a.d).slice(0,h))return a=a.times(2),o!==0&&(a=a.plus(oO(S,h+2,A).times(o+""))),a=Qc(a,new S(y),h),S.precision=A,t==null?(Kr=!0,Ir(a,A)):a;a=f,i+=2}}function x6(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=ey(n/jr),e.d=[],r=(n+1)%jr,n<0&&(r+=jr),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=jr;r<i;)e.d.push(+t.slice(r,r+=jr));t=t.slice(r),r=jr-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Kr&&(e.e>US||e.e<-US))throw Error(zL+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ir(e,t,n){var r,i,o,s,a,f,h,g,y=e.d;for(s=1,o=y[0];o>=10;o/=10)s++;if(r=t-s,r<0)r+=jr,i=t,h=y[g=0];else{if(g=Math.ceil((r+1)/jr),o=y.length,g>=o)return e;for(h=o=y[g],s=1;o>=10;o/=10)s++;r%=jr,i=r-jr+s}if(n!==void 0&&(o=Lf(10,s-i-1),a=h/o%10|0,f=t<0||y[g+1]!==void 0||h%o,f=n<4?(a||f)&&(n==0||n==(e.s<0?3:2)):a>5||a==5&&(n==4||f||n==6&&(r>0?i>0?h/Lf(10,s-i):0:y[g-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return f?(o=Mi(e),y.length=1,t=t-o-1,y[0]=Lf(10,(jr-t%jr)%jr),e.e=ey(-t/jr)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(r==0?(y.length=g,o=1,g--):(y.length=g+1,o=Lf(10,jr-r),y[g]=i>0?(h/Lf(10,s-i)%Lf(10,i)|0)*o:0),f)for(;;)if(g==0){(y[0]+=o)==Xi&&(y[0]=1,++e.e);break}else{if(y[g]+=o,y[g]!=Xi)break;y[g--]=0,o=1}for(r=y.length;y[--r]===0;)y.pop();if(Kr&&(e.e>US||e.e<-US))throw Error(zL+Mi(e));return e}function IK(e,t){var n,r,i,o,s,a,f,h,g,y,x=e.constructor,P=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),Kr?Ir(t,P):t;if(f=e.d,y=t.d,r=t.e,h=e.e,f=f.slice(),s=h-r,s){for(g=s<0,g?(n=f,s=-s,a=y.length):(n=y,r=h,a=f.length),i=Math.max(Math.ceil(P/jr),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=f.length,a=y.length,g=i<a,g&&(a=i),i=0;i<a;i++)if(f[i]!=y[i]){g=f[i]<y[i];break}s=0}for(g&&(n=f,f=y,y=n,t.s=-t.s),a=f.length,i=y.length-a;i>0;--i)f[a++]=0;for(i=y.length;i>s;){if(f[--i]<y[i]){for(o=i;o&&f[--o]===0;)f[o]=Xi-1;--f[o],f[i]+=Xi}f[i]-=y[i]}for(;f[--a]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,Kr?Ir(t,P):t):new x(0)}function Th(e,t,n){var r,i=Mi(e),o=Zl(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+rd(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+rd(-i-1)+o,n&&(r=n-s)>0&&(o+=rd(r))):i>=s?(o+=rd(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+rd(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=rd(r))),e.s<0?"-"+o:o}function _6(e,t){if(e.length>t)return e.length=t,!0}function $K(e){var t,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(sh+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return x6(s,o.toString())}else if(typeof o!="string")throw Error(sh+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,FUe.test(o))x6(s,o);else throw Error(sh+o)}if(i.prototype=Wt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=$K,i.config=i.set=UUe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function UUe(e){if(!e||typeof e!="object")throw Error(Fs+"Object expected");var t,n,r,i=["precision",1,Qg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(ey(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(sh+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(sh+n+": "+r);return this}var jL=$K(BUe);Ga=new jL(1);const Sr=jL;function VUe(e){return HUe(e)||GUe(e)||qUe(e)||WUe()}function WUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qUe(e,t){if(e){if(typeof e=="string")return FM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FM(e,t)}}function GUe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function HUe(e){if(Array.isArray(e))return FM(e)}function FM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var YUe=function(t){return t},RK={"@@functional/placeholder":!0},DK=function(t){return t===RK},w6=function(t){return function n(){return arguments.length===0||arguments.length===1&&DK(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},KUe=function e(t,n){return t===1?n:w6(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==RK}).length;return s>=t?n.apply(void 0,i):e(t-s,w6(function(){for(var a=arguments.length,f=new Array(a),h=0;h<a;h++)f[h]=arguments[h];var g=i.map(function(y){return DK(y)?f.shift():y});return n.apply(void 0,VUe(g).concat(f))}))})},RE=function(t){return KUe(t.length,t)},UM=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},ZUe=RE(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),XUe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return YUe;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,f){return f(a)},o.apply(void 0,arguments))}},VM=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},LK=function(t){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,f){return a===n[f]})||(n=o,r=t.apply(void 0,o)),r}};function JUe(e){var t;return e===0?t=1:t=Math.floor(new Sr(e).abs().log(10).toNumber())+1,t}function QUe(e,t,n){for(var r=new Sr(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var e8e=RE(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),t8e=RE(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),n8e=RE(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const DE={rangeStep:QUe,getDigitCount:JUe,interpolateNumber:e8e,uninterpolateNumber:t8e,uninterpolateTruncation:n8e};function WM(e){return o8e(e)||i8e(e)||NK(e)||r8e()}function r8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i8e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function o8e(e){if(Array.isArray(e))return qM(e)}function Ob(e,t){return l8e(e)||s8e(e,t)||NK(e,t)||a8e()}function a8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NK(e,t){if(e){if(typeof e=="string")return qM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qM(e,t)}}function qM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s8e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=e[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(t&&n.length===t));r=!0);}catch(f){i=!0,o=f}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function l8e(e){if(Array.isArray(e))return e}function zK(e){var t=Ob(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function jK(e,t,n){if(e.lte(0))return new Sr(0);var r=DE.getDigitCount(e.toNumber()),i=new Sr(10).pow(r),o=e.div(i),s=r!==1?.05:.1,a=new Sr(Math.ceil(o.div(s).toNumber())).add(n).mul(s),f=a.mul(i);return t?f:new Sr(Math.ceil(f))}function c8e(e,t,n){var r=1,i=new Sr(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new Sr(10).pow(DE.getDigitCount(e)-1),i=new Sr(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Sr(Math.floor(e)))}else e===0?i=new Sr(Math.floor((t-1)/2)):n||(i=new Sr(Math.floor(e)));var s=Math.floor((t-1)/2),a=XUe(ZUe(function(f){return i.add(new Sr(f-s).mul(r)).toNumber()}),UM);return a(0,t)}function BK(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Sr(0),tickMin:new Sr(0),tickMax:new Sr(0)};var o=jK(new Sr(t).sub(e).div(n-1),r,i),s;e<=0&&t>=0?s=new Sr(0):(s=new Sr(e).add(t).div(2),s=s.sub(new Sr(s).mod(o)));var a=Math.ceil(s.sub(e).div(o).toNumber()),f=Math.ceil(new Sr(t).sub(s).div(o).toNumber()),h=a+f+1;return h>n?BK(e,t,n,r,i+1):(h<n&&(f=t>0?f+(n-h):f,a=t>0?a:a+(n-h)),{step:o,tickMin:s.sub(new Sr(a).mul(o)),tickMax:s.add(new Sr(f).mul(o))})}function u8e(e){var t=Ob(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=zK([n,r]),f=Ob(a,2),h=f[0],g=f[1];if(h===-1/0||g===1/0){var y=g===1/0?[h].concat(WM(UM(0,i-1).map(function(){return 1/0}))):[].concat(WM(UM(0,i-1).map(function(){return-1/0})),[g]);return n>r?VM(y):y}if(h===g)return c8e(h,i,o);var x=BK(h,g,s,o),P=x.step,O=x.tickMin,S=x.tickMax,A=DE.rangeStep(O,S.add(new Sr(.1).mul(P)),P);return n>r?VM(A):A}function d8e(e,t){var n=Ob(e,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=zK([r,i]),a=Ob(s,2),f=a[0],h=a[1];if(f===-1/0||h===1/0)return[r,i];if(f===h)return[f];var g=Math.max(t,2),y=jK(new Sr(h).sub(f).div(g-1),o,0),x=[].concat(WM(DE.rangeStep(new Sr(f),new Sr(h).sub(new Sr(.99).mul(y)),y)),[h]);return r>i?VM(x):x}var f8e=LK(u8e),h8e=LK(d8e),p8e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function VS(){return VS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VS.apply(this,arguments)}function m8e(e,t){return b8e(e)||v8e(e,t)||y8e(e,t)||g8e()}function g8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y8e(e,t){if(e){if(typeof e=="string")return S6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S6(e,t)}}function S6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v8e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function b8e(e){if(Array.isArray(e))return e}function x8e(e,t){if(e==null)return{};var n=_8e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _8e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Ix(e){var t=e.offset,n=e.layout,r=e.width,i=e.dataKey,o=e.data,s=e.dataPointFormatter,a=e.xAxis,f=e.yAxis,h=x8e(e,p8e),g=qn(h),y=o.map(function(x,P){var O=s(x,i),S=O.x,A=O.y,I=O.value,M=O.errorVal;if(!M)return null;var k=[],$,L;if(Array.isArray(M)){var N=m8e(M,2);$=N[0],L=N[1]}else $=L=M;if(n==="vertical"){var F=a.scale,G=A+t,J=G+r,ee=G-r,ae=F(I-$),pe=F(I+L);k.push({x1:pe,y1:J,x2:pe,y2:ee}),k.push({x1:ae,y1:G,x2:pe,y2:G}),k.push({x1:ae,y1:J,x2:ae,y2:ee})}else if(n==="horizontal"){var ye=f.scale,we=S+t,Ce=we-r,Oe=we+r,Ee=ye(I-$),Se=ye(I+L);k.push({x1:Ce,y1:Se,x2:Oe,y2:Se}),k.push({x1:we,y1:Ee,x2:we,y2:Se}),k.push({x1:Ce,y1:Ee,x2:Oe,y2:Ee})}return Pe.createElement(Ei,VS({className:"recharts-errorBar",key:"bar-".concat(P)},g),k.map(function(De,We){return Pe.createElement("line",VS({},De,{key:"line-".concat(We)}))}))});return Pe.createElement(Ei,{className:"recharts-errorBars"},y)}Ix.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};Ix.displayName="ErrorBar";function Ab(e){"@babel/helpers - typeof";return Ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ab(e)}function C6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C6(Object(n),!0).forEach(function(r){w8e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function w8e(e,t,n){return t=S8e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S8e(e){var t=C8e(e,"string");return Ab(t)==="symbol"?t:String(t)}function C8e(e,t){if(Ab(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ab(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FK=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,s=Gc(n,lg);if(!s)return null;var a;return s.props&&s.props.payload?a=s.props&&s.props.payload:o==="children"?a=(r||[]).reduce(function(f,h){var g=h.item,y=h.props,x=y.sectors||y.data||[];return f.concat(x.map(function(P){return{type:s.props.iconType||g.props.legendType,value:P.name,color:P.fill,payload:P}}))},[]):a=(r||[]).map(function(f){var h=f.item,g=h.props,y=g.dataKey,x=g.name,P=g.legendType,O=g.hide;return{inactive:O,dataKey:y,type:s.props.iconType||P||"square",color:BL(h),value:x||y,payload:h.props}}),aO(aO(aO({},s.props),lg.getWithHeight(s,i)),{},{payload:a,item:s})};function Mb(e){"@babel/helpers - typeof";return Mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mb(e)}function E6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Es(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E6(Object(n),!0).forEach(function(r){Dm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dm(e,t,n){return t=E8e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E8e(e){var t=T8e(e,"string");return Mb(t)==="symbol"?t:String(t)}function T8e(e,t){if(Mb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Mb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T6(e){return A8e(e)||O8e(e)||P8e(e)||k8e()}function k8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P8e(e,t){if(e){if(typeof e=="string")return GM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GM(e,t)}}function O8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function A8e(e){if(Array.isArray(e))return GM(e)}function GM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function es(e,t,n){return mn(e)||mn(t)?n:Fi(t)?$s(e,t,n):yn(t)?t(e):n}function A0(e,t,n,r){var i=i4e(e,function(a){return es(a,t)});if(n==="number"){var o=i.filter(function(a){return Et(a)||parseFloat(a)});return o.length?[kE(o),TE(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!mn(a)}):i;return s.map(function(a){return Fi(a)||a instanceof Date?a:""})}var M8e=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var f=o.range,h=0;h<a;h++){var g=h>0?i[h-1].coordinate:i[a-1].coordinate,y=i[h].coordinate,x=h>=a-1?i[0].coordinate:i[h+1].coordinate,P=void 0;if(yl(y-g)!==yl(x-y)){var O=[];if(yl(x-y)===yl(f[1]-f[0])){P=x;var S=y+f[1]-f[0];O[0]=Math.min(S,(S+g)/2),O[1]=Math.max(S,(S+g)/2)}else{P=g;var A=x+f[1]-f[0];O[0]=Math.min(y,(A+y)/2),O[1]=Math.max(y,(A+y)/2)}var I=[Math.min(y,(P+y)/2),Math.max(y,(P+y)/2)];if(t>I[0]&&t<=I[1]||t>=O[0]&&t<=O[1]){s=i[h].index;break}}else{var M=Math.min(g,x),k=Math.max(g,x);if(t>(M+y)/2&&t<=(k+y)/2){s=i[h].index;break}}}else for(var $=0;$<a;$++)if($===0&&t<=(r[$].coordinate+r[$+1].coordinate)/2||$>0&&$<a-1&&t>(r[$].coordinate+r[$-1].coordinate)/2&&t<=(r[$].coordinate+r[$+1].coordinate)/2||$===a-1&&t>(r[$].coordinate+r[$-1].coordinate)/2){s=r[$].index;break}return s},BL=function(t){var n=t,r=n.type.displayName,i=t.props,o=i.stroke,s=i.fill,a;switch(r){case"Line":a=o;break;case"Area":case"Radar":a=o&&o!=="none"?o:s;break;default:a=s;break}return a},I8e=function(t){var n=t.barSize,r=t.stackGroups,i=r===void 0?{}:r;if(!i)return{};for(var o={},s=Object.keys(i),a=0,f=s.length;a<f;a++)for(var h=i[s[a]].stackGroups,g=Object.keys(h),y=0,x=g.length;y<x;y++){var P=h[g[y]],O=P.items,S=P.cateAxisId,A=O.filter(function(k){return Pd(k.type).indexOf("Bar")>=0});if(A&&A.length){var I=A[0].props.barSize,M=A[0].props[S];o[M]||(o[M]=[]),o[M].push({item:A[0],stackList:A.slice(1),barSize:mn(I)?n:I})}}return o},$8e=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,o=t.sizeList,s=o===void 0?[]:o,a=t.maxBarSize,f=s.length;if(f<1)return null;var h=ig(n,i,0,!0),g,y=[];if(s[0].barSize===+s[0].barSize){var x=!1,P=i/f,O=s.reduce(function($,L){return $+L.barSize||0},0);O+=(f-1)*h,O>=i&&(O-=(f-1)*h,h=0),O>=i&&P>0&&(x=!0,P*=.9,O=f*P);var S=(i-O)/2>>0,A={offset:S-h,size:0};g=s.reduce(function($,L){var N={item:L.item,position:{offset:A.offset+A.size+h,size:x?P:L.barSize}},F=[].concat(T6($),[N]);return A=F[F.length-1].position,L.stackList&&L.stackList.length&&L.stackList.forEach(function(G){F.push({item:G,position:A})}),F},y)}else{var I=ig(r,i,0,!0);i-2*I-(f-1)*h<=0&&(h=0);var M=(i-2*I-(f-1)*h)/f;M>1&&(M>>=0);var k=a===+a?Math.min(M,a):M;g=s.reduce(function($,L,N){var F=[].concat(T6($),[{item:L.item,position:{offset:I+(M+h)*N+(M-k)/2,size:k}}]);return L.stackList&&L.stackList.length&&L.stackList.forEach(function(G){F.push({item:G,position:F[F.length-1].position})}),F},y)}return g},R8e=function(t,n,r,i){var o=r.children,s=r.width,a=r.margin,f=s-(a.left||0)-(a.right||0),h=FK({children:o,legendWidth:f});if(h){var g=i||{},y=g.width,x=g.height,P=h.align,O=h.verticalAlign,S=h.layout;if((S==="vertical"||S==="horizontal"&&O==="middle")&&P!=="center"&&Et(t[P]))return Es(Es({},t),{},Dm({},P,t[P]+(y||0)));if((S==="horizontal"||S==="vertical"&&P==="center")&&O!=="middle"&&Et(t[O]))return Es(Es({},t),{},Dm({},O,t[O]+(x||0)))}return t},D8e=function(t,n,r){return mn(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},UK=function(t,n,r,i,o){var s=n.props.children,a=Rs(s,Ix).filter(function(h){return D8e(i,o,h.props.direction)});if(a&&a.length){var f=a.map(function(h){return h.props.dataKey});return t.reduce(function(h,g){var y=es(g,r,0),x=yo(y)?[kE(y),TE(y)]:[y,y],P=f.reduce(function(O,S){var A=es(g,S,0),I=x[0]-Math.abs(yo(A)?A[0]:A),M=x[1]+Math.abs(yo(A)?A[1]:A);return[Math.min(I,O[0]),Math.max(M,O[1])]},[1/0,-1/0]);return[Math.min(P[0],h[0]),Math.max(P[1],h[1])]},[1/0,-1/0])}return null},L8e=function(t,n,r,i,o){var s=n.map(function(a){return UK(t,a,r,o,i)}).filter(function(a){return!mn(a)});return s&&s.length?s.reduce(function(a,f){return[Math.min(a[0],f[0]),Math.max(a[1],f[1])]},[1/0,-1/0]):null},VK=function(t,n,r,i,o){var s=n.map(function(f){var h=f.props.dataKey;return r==="number"&&h&&UK(t,f,h,i)||A0(t,h,r,o)});if(r==="number")return s.reduce(function(f,h){return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);var a={};return s.reduce(function(f,h){for(var g=0,y=h.length;g<y;g++)a[h[g]]||(a[h[g]]=!0,f.push(h[g]));return f},[])},WK=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},k6=function(t,n,r,i){if(i)return t.map(function(f){return f.coordinate});var o,s,a=t.map(function(f){return f.coordinate===n&&(o=!0),f.coordinate===r&&(s=!0),f.coordinate});return o||a.push(n),s||a.push(r),a},ed=function(t,n,r){if(!t)return null;var i=t.scale,o=t.duplicateDomain,s=t.type,a=t.range,f=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/f:0;if(h=t.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?yl(a[0]-a[1])*2*h:h,n&&(t.ticks||t.niceTicks)){var g=(t.ticks||t.niceTicks).map(function(y){var x=o?o.indexOf(y):y;return{coordinate:i(x)+h,value:y,offset:h}});return g.filter(function(y){return!Ex(y.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(y,x){return{coordinate:i(y)+h,value:y,index:x,offset:h}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(y){return{coordinate:i(y)+h,value:y,offset:h}}):i.domain().map(function(y,x){return{coordinate:i(y)+h,value:o?o[y]:y,index:x,offset:h}})},O1=function(t,n,r){var i;return yn(r)?i=r:yn(n)&&(i=n),yn(t)||i?function(o,s,a,f){yn(t)&&t(o,s,a,f),yn(i)&&i(o,s,a,f)}:null},N8e=function(t,n,r){var i=t.scale,o=t.type,s=t.layout,a=t.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:Sb(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:zS(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:O0(),realScaleType:"point"}:o==="category"?{scale:Sb(),realScaleType:"band"}:{scale:zS(),realScaleType:"linear"};if(Cx(i)){var f="scale".concat(bE(i));return{scale:(b6[f]||O0)(),realScaleType:b6[f]?f:"point"}}return yn(i)?{scale:i}:{scale:O0(),realScaleType:"point"}},P6=1e-4,z8e=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),o=Math.min(i[0],i[1])-P6,s=Math.max(i[0],i[1])+P6,a=t(n[0]),f=t(n[r-1]);(a<o||a>s||f<o||f>s)&&t.domain([n[0],n[r-1]])}},j8e=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},B8e=function(t,n){if(!n||n.length!==2||!Et(n[0])||!Et(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[t[0],t[1]];return(!Et(t[0])||t[0]<r)&&(o[0]=r),(!Et(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},F8e=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var f=Ex(t[a][r][1])?t[a][r][0]:t[a][r][1];f>=0?(t[a][r][0]=o,t[a][r][1]=o+f,o=t[a][r][1]):(t[a][r][0]=s,t[a][r][1]=s+f,s=t[a][r][1])}},U8e=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=Ex(t[s][r][1])?t[s][r][0]:t[s][r][1];a>=0?(t[s][r][0]=o,t[s][r][1]=o+a,o=t[s][r][1]):(t[s][r][0]=0,t[s][r][1]=0)}},V8e={sign:F8e,expand:cze,none:og,silhouette:uze,wiggle:dze,positive:U8e},W8e=function(t,n,r){var i=n.map(function(a){return a.props.dataKey}),o=V8e[r],s=lze().keys(i).value(function(a,f){return+es(a,f,0)}).order(mM).offset(o);return s(t)},q8e=function(t,n,r,i,o,s){if(!t)return null;var a=s?n.reverse():n,f={},h=a.reduce(function(y,x){var P=x.props,O=P.stackId,S=P.hide;if(S)return y;var A=x.props[r],I=y[A]||{hasStack:!1,stackGroups:{}};if(Fi(O)){var M=I.stackGroups[O]||{numericAxisId:r,cateAxisId:i,items:[]};M.items.push(x),I.hasStack=!0,I.stackGroups[O]=M}else I.stackGroups[Tx("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[x]};return Es(Es({},y),{},Dm({},A,I))},f),g={};return Object.keys(h).reduce(function(y,x){var P=h[x];if(P.hasStack){var O={};P.stackGroups=Object.keys(P.stackGroups).reduce(function(S,A){var I=P.stackGroups[A];return Es(Es({},S),{},Dm({},A,{numericAxisId:r,cateAxisId:i,items:I.items,stackedData:W8e(t,I.items,o)}))},O)}return Es(Es({},y),{},Dm({},x,P))},g)},G8e=function(t,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,f=r||n.scale;if(f!=="auto"&&f!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var h=t.domain();if(!h.length)return null;var g=f8e(h,o,a);return t.domain([kE(g),TE(g)]),{niceTicks:g}}if(o&&i==="number"){var y=t.domain(),x=h8e(y,o,a);return{niceTicks:x}}return null},O6=function(t){var n=t.axis,r=t.ticks,i=t.bandSize,o=t.entry,s=t.index,a=t.dataKey;if(n.type==="category"){if(!n.allowDuplicatedCategory&&n.dataKey&&!mn(o[n.dataKey])){var f=dS(r,"value",o[n.dataKey]);if(f)return f.coordinate+i/2}return r[s]?r[s].coordinate+i/2:null}var h=es(o,mn(a)?n.dataKey:a);return mn(h)?null:n.scale(h)},A6=function(t){var n=t.axis,r=t.ticks,i=t.offset,o=t.bandSize,s=t.entry,a=t.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var f=es(s,n.dataKey,n.domain[a]);return mn(f)?null:n.scale(f)-o/2+i},H8e=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Y8e=function(t,n){var r=t.props.stackId;if(Fi(r)){var i=n[r];if(i){var o=i.items.indexOf(t);return o>=0?i.stackedData[o]:null}}return null},K8e=function(t){return t.reduce(function(n,r){return[kE(r.concat([n[0]]).filter(Et)),TE(r.concat([n[1]]).filter(Et))]},[1/0,-1/0])},qK=function(t,n,r){return Object.keys(t).reduce(function(i,o){var s=t[o],a=s.stackedData,f=a.reduce(function(h,g){var y=K8e(g.slice(n,r+1));return[Math.min(h[0],y[0]),Math.max(h[1],y[1])]},[1/0,-1/0]);return[Math.min(f[0],i[0]),Math.max(f[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},M6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,I6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HM=function(t,n,r){if(yn(t))return t(n,r);if(!yo(t))return n;var i=[];if(Et(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(M6.test(t[0])){var o=+M6.exec(t[0])[1];i[0]=n[0]-o}else yn(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(Et(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(I6.test(t[1])){var s=+I6.exec(t[1])[1];i[1]=n[1]+s}else yn(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},WS=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var o=gL(n,function(y){return y.coordinate}),s=1/0,a=1,f=o.length;a<f;a++){var h=o[a],g=o[a-1];s=Math.min((h.coordinate||0)-(g.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},$6=function(t,n,r){return!t||!t.length||EE(t,$s(r,"type.defaultProps.domain"))?n:t},GK=function(t,n){var r=t.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,f=r.tooltipType,h=r.chartType;return Es(Es({},qn(t)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:BL(t),value:es(n,i),type:f,payload:n,chartType:h})};function Ib(e){"@babel/helpers - typeof";return Ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ib(e)}function R6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function D6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R6(Object(n),!0).forEach(function(r){Z8e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z8e(e,t,n){return t=X8e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X8e(e){var t=J8e(e,"string");return Ib(t)==="symbol"?t:String(t)}function J8e(e,t){if(Ib(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ib(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qS=Math.PI/180,Q8e=function(t){return t*180/Math.PI},vo=function(t,n,r,i){return{x:t+Math.cos(-qS*i)*r,y:n+Math.sin(-qS*i)*r}},eVe=function(t,n){var r=t.x,i=t.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},tVe=function(t,n){var r=t.x,i=t.y,o=n.cx,s=n.cy,a=eVe({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var f=(r-o)/a,h=Math.acos(f);return i>s&&(h=2*Math.PI-h),{radius:a,angle:Q8e(h),angleInRadian:h}},nVe=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},rVe=function(t,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return t+a*360},L6=function(t,n){var r=t.x,i=t.y,o=tVe({x:r,y:i},n),s=o.radius,a=o.angle,f=n.innerRadius,h=n.outerRadius;if(s<f||s>h)return!1;if(s===0)return!0;var g=nVe(n),y=g.startAngle,x=g.endAngle,P=a,O;if(y<=x){for(;P>x;)P-=360;for(;P<y;)P+=360;O=P>=y&&P<=x}else{for(;P>y;)P-=360;for(;P<x;)P+=360;O=P>=x&&P<=y}return O?D6(D6({},n),{},{radius:s,angle:rVe(P,n)}):null};function $b(e){"@babel/helpers - typeof";return $b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$b(e)}var iVe=["offset"];function oVe(e){return cVe(e)||lVe(e)||sVe(e)||aVe()}function aVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sVe(e,t){if(e){if(typeof e=="string")return YM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YM(e,t)}}function lVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cVe(e){if(Array.isArray(e))return YM(e)}function YM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uVe(e,t){if(e==null)return{};var n=dVe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dVe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function N6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ni(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N6(Object(n),!0).forEach(function(r){fVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fVe(e,t,n){return t=hVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hVe(e){var t=pVe(e,"string");return $b(t)==="symbol"?t:String(t)}function pVe(e,t){if($b(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($b(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rb.apply(this,arguments)}var mVe=function(t){var n=t.value,r=t.formatter,i=mn(t.children)?n:t.children;return yn(r)?r(i):i},gVe=function(t,n){var r=yl(n-t),i=Math.min(Math.abs(n-t),360);return r*i},yVe=function(t,n,r){var i=t.position,o=t.viewBox,s=t.offset,a=t.className,f=o,h=f.cx,g=f.cy,y=f.innerRadius,x=f.outerRadius,P=f.startAngle,O=f.endAngle,S=f.clockWise,A=(y+x)/2,I=gVe(P,O),M=I>=0?1:-1,k,$;i==="insideStart"?(k=P+M*s,$=S):i==="insideEnd"?(k=O-M*s,$=!S):i==="end"&&(k=O+M*s,$=S),$=I<=0?$:!$;var L=vo(h,g,A,k),N=vo(h,g,A,k+($?1:-1)*359),F="M".concat(L.x,",").concat(L.y,`
    A`).concat(A,",").concat(A,",0,1,").concat($?0:1,`,
    `).concat(N.x,",").concat(N.y),G=mn(t.id)?Tx("recharts-radial-line-"):t.id;return Pe.createElement("text",Rb({},r,{dominantBaseline:"central",className:mr("recharts-radial-bar-label",a)}),Pe.createElement("defs",null,Pe.createElement("path",{id:G,d:F})),Pe.createElement("textPath",{xlinkHref:"#".concat(G)},n))},vVe=function(t){var n=t.viewBox,r=t.offset,i=t.position,o=n,s=o.cx,a=o.cy,f=o.innerRadius,h=o.outerRadius,g=o.startAngle,y=o.endAngle,x=(g+y)/2;if(i==="outside"){var P=vo(s,a,h+r,x),O=P.x,S=P.y;return{x:O,y:S,textAnchor:O>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var A=(f+h)/2,I=vo(s,a,A,x),M=I.x,k=I.y;return{x:M,y:k,textAnchor:"middle",verticalAnchor:"middle"}},bVe=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,o=t.position,s=n,a=s.x,f=s.y,h=s.width,g=s.height,y=g>=0?1:-1,x=y*i,P=y>0?"end":"start",O=y>0?"start":"end",S=h>=0?1:-1,A=S*i,I=S>0?"end":"start",M=S>0?"start":"end";if(o==="top"){var k={x:a+h/2,y:f-y*i,textAnchor:"middle",verticalAnchor:P};return Ni(Ni({},k),r?{height:Math.max(f-r.y,0),width:h}:{})}if(o==="bottom"){var $={x:a+h/2,y:f+g+x,textAnchor:"middle",verticalAnchor:O};return Ni(Ni({},$),r?{height:Math.max(r.y+r.height-(f+g),0),width:h}:{})}if(o==="left"){var L={x:a-A,y:f+g/2,textAnchor:I,verticalAnchor:"middle"};return Ni(Ni({},L),r?{width:Math.max(L.x-r.x,0),height:g}:{})}if(o==="right"){var N={x:a+h+A,y:f+g/2,textAnchor:M,verticalAnchor:"middle"};return Ni(Ni({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:g}:{})}var F=r?{width:h,height:g}:{};return o==="insideLeft"?Ni({x:a+A,y:f+g/2,textAnchor:M,verticalAnchor:"middle"},F):o==="insideRight"?Ni({x:a+h-A,y:f+g/2,textAnchor:I,verticalAnchor:"middle"},F):o==="insideTop"?Ni({x:a+h/2,y:f+x,textAnchor:"middle",verticalAnchor:O},F):o==="insideBottom"?Ni({x:a+h/2,y:f+g-x,textAnchor:"middle",verticalAnchor:P},F):o==="insideTopLeft"?Ni({x:a+A,y:f+x,textAnchor:M,verticalAnchor:O},F):o==="insideTopRight"?Ni({x:a+h-A,y:f+x,textAnchor:I,verticalAnchor:O},F):o==="insideBottomLeft"?Ni({x:a+A,y:f+g-x,textAnchor:M,verticalAnchor:P},F):o==="insideBottomRight"?Ni({x:a+h-A,y:f+g-x,textAnchor:I,verticalAnchor:P},F):Vg(o)&&(Et(o.x)||Hf(o.x))&&(Et(o.y)||Hf(o.y))?Ni({x:a+ig(o.x,h),y:f+ig(o.y,g),textAnchor:"end",verticalAnchor:"end"},F):Ni({x:a+h/2,y:f+g/2,textAnchor:"middle",verticalAnchor:"middle"},F)},xVe=function(t){return"cx"in t&&Et(t.cx)};function Lo(e){var t=e.offset,n=t===void 0?5:t,r=uVe(e,iVe),i=Ni({offset:n},r),o=i.viewBox,s=i.position,a=i.value,f=i.children,h=i.content,g=i.className,y=g===void 0?"":g,x=i.textBreakAll;if(!o||mn(a)&&mn(f)&&!V.isValidElement(h)&&!yn(h))return null;if(V.isValidElement(h))return V.cloneElement(h,i);var P;if(yn(h)){if(P=V.createElement(h,i),V.isValidElement(P))return P}else P=mVe(i);var O=xVe(o),S=qn(i,!0);if(O&&(s==="insideStart"||s==="insideEnd"||s==="end"))return yVe(i,P,S);var A=O?vVe(i):bVe(i);return Pe.createElement(MS,Rb({className:mr("recharts-label",y)},S,A,{breakAll:x}),P)}Lo.displayName="Label";var HK=function(t){var n=t.cx,r=t.cy,i=t.angle,o=t.startAngle,s=t.endAngle,a=t.r,f=t.radius,h=t.innerRadius,g=t.outerRadius,y=t.x,x=t.y,P=t.top,O=t.left,S=t.width,A=t.height,I=t.clockWise,M=t.labelViewBox;if(M)return M;if(Et(S)&&Et(A)){if(Et(y)&&Et(x))return{x:y,y:x,width:S,height:A};if(Et(P)&&Et(O))return{x:P,y:O,width:S,height:A}}return Et(y)&&Et(x)?{x:y,y:x,width:0,height:0}:Et(n)&&Et(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:h||0,outerRadius:g||f||a||0,clockWise:I}:t.viewBox?t.viewBox:{}},_Ve=function(t,n){return t?t===!0?Pe.createElement(Lo,{key:"label-implicit",viewBox:n}):Fi(t)?Pe.createElement(Lo,{key:"label-implicit",viewBox:n,value:t}):V.isValidElement(t)?t.type===Lo?V.cloneElement(t,{key:"label-implicit",viewBox:n}):Pe.createElement(Lo,{key:"label-implicit",content:t,viewBox:n}):yn(t)?Pe.createElement(Lo,{key:"label-implicit",content:t,viewBox:n}):Vg(t)?Pe.createElement(Lo,Rb({viewBox:n},t,{key:"label-implicit"})):null:null},wVe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,o=HK(t),s=Rs(i,Lo).map(function(f,h){return V.cloneElement(f,{viewBox:n||o,key:"label-".concat(h)})});if(!r)return s;var a=_Ve(t.label,n||o);return[a].concat(oVe(s))};Lo.parseViewBox=HK;Lo.renderCallByParent=wVe;function SVe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var CVe=SVe;const EVe=tr(CVe);function Db(e){"@babel/helpers - typeof";return Db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Db(e)}var TVe=["valueAccessor"],kVe=["data","dataKey","clockWise","id","textBreakAll"];function PVe(e){return IVe(e)||MVe(e)||AVe(e)||OVe()}function OVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AVe(e,t){if(e){if(typeof e=="string")return KM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KM(e,t)}}function MVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IVe(e){if(Array.isArray(e))return KM(e)}function KM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GS(){return GS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GS.apply(this,arguments)}function z6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function j6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z6(Object(n),!0).forEach(function(r){$Ve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Ve(e,t,n){return t=RVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RVe(e){var t=DVe(e,"string");return Db(t)==="symbol"?t:String(t)}function DVe(e,t){if(Db(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Db(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B6(e,t){if(e==null)return{};var n=LVe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function LVe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var NVe=function(t){return yo(t.value)?EVe(t.value):t.value};function Ad(e){var t=e.valueAccessor,n=t===void 0?NVe:t,r=B6(e,TVe),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,f=r.textBreakAll,h=B6(r,kVe);return!i||!i.length?null:Pe.createElement(Ei,{className:"recharts-label-list"},i.map(function(g,y){var x=mn(o)?n(g,y):es(g&&g.payload,o),P=mn(a)?{}:{id:"".concat(a,"-").concat(y)};return Pe.createElement(Lo,GS({},qn(g,!0),h,P,{parentViewBox:g.parentViewBox,index:y,value:x,textBreakAll:f,viewBox:Lo.parseViewBox(mn(s)?g:j6(j6({},g),{},{clockWise:s})),key:"label-".concat(y)}))}))}Ad.displayName="LabelList";function zVe(e,t){return e?e===!0?Pe.createElement(Ad,{key:"labelList-implicit",data:t}):Pe.isValidElement(e)||yn(e)?Pe.createElement(Ad,{key:"labelList-implicit",data:t,content:e}):Vg(e)?Pe.createElement(Ad,GS({data:t},e,{key:"labelList-implicit"})):null:null}function jVe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=Rs(r,Ad).map(function(s,a){return V.cloneElement(s,{data:t,key:"labelList-".concat(a)})});if(!n)return i;var o=zVe(e.label,t);return[o].concat(PVe(i))}Ad.renderCallByParent=jVe;function Lb(e){"@babel/helpers - typeof";return Lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lb(e)}function ZM(){return ZM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZM.apply(this,arguments)}function F6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function U6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F6(Object(n),!0).forEach(function(r){BVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BVe(e,t,n){return t=FVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FVe(e){var t=UVe(e,"string");return Lb(t)==="symbol"?t:String(t)}function UVe(e,t){if(Lb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VVe=function(t,n){var r=yl(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},A1=function(t){var n=t.cx,r=t.cy,i=t.radius,o=t.angle,s=t.sign,a=t.isExternal,f=t.cornerRadius,h=t.cornerIsExternal,g=f*(a?1:-1)+i,y=Math.asin(f/g)/qS,x=h?o:o+s*y,P=vo(n,r,g,x),O=vo(n,r,i,x),S=h?o-s*y:o,A=vo(n,r,g*Math.cos(y*qS),S);return{center:P,circleTangency:O,lineTangency:A,theta:y}},YK=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.startAngle,a=t.endAngle,f=VVe(s,a),h=s+f,g=vo(n,r,o,s),y=vo(n,r,o,h),x="M ".concat(g.x,",").concat(g.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(s>h),`,
    `).concat(y.x,",").concat(y.y,`
  `);if(i>0){var P=vo(n,r,i,s),O=vo(n,r,i,h);x+="L ".concat(O.x,",").concat(O.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(s<=h),`,
            `).concat(P.x,",").concat(P.y," Z")}else x+="L ".concat(n,",").concat(r," Z");return x},WVe=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,a=t.forceCornerRadius,f=t.cornerIsExternal,h=t.startAngle,g=t.endAngle,y=yl(g-h),x=A1({cx:n,cy:r,radius:o,angle:h,sign:y,cornerRadius:s,cornerIsExternal:f}),P=x.circleTangency,O=x.lineTangency,S=x.theta,A=A1({cx:n,cy:r,radius:o,angle:g,sign:-y,cornerRadius:s,cornerIsExternal:f}),I=A.circleTangency,M=A.lineTangency,k=A.theta,$=f?Math.abs(h-g):Math.abs(h-g)-S-k;if($<0)return a?"M ".concat(O.x,",").concat(O.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):YK({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:h,endAngle:g});var L="M ".concat(O.x,",").concat(O.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(y<0),",").concat(P.x,",").concat(P.y,`
    A`).concat(o,",").concat(o,",0,").concat(+($>180),",").concat(+(y<0),",").concat(I.x,",").concat(I.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(y<0),",").concat(M.x,",").concat(M.y,`
  `);if(i>0){var N=A1({cx:n,cy:r,radius:i,angle:h,sign:y,isExternal:!0,cornerRadius:s,cornerIsExternal:f}),F=N.circleTangency,G=N.lineTangency,J=N.theta,ee=A1({cx:n,cy:r,radius:i,angle:g,sign:-y,isExternal:!0,cornerRadius:s,cornerIsExternal:f}),ae=ee.circleTangency,pe=ee.lineTangency,ye=ee.theta,we=f?Math.abs(h-g):Math.abs(h-g)-J-ye;if(we<0&&s===0)return"".concat(L,"L").concat(n,",").concat(r,"Z");L+="L".concat(pe.x,",").concat(pe.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(y<0),",").concat(ae.x,",").concat(ae.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(we>180),",").concat(+(y>0),",").concat(F.x,",").concat(F.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(y<0),",").concat(G.x,",").concat(G.y,"Z")}else L+="L".concat(n,",").concat(r,"Z");return L},qVe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},KK=function(t){var n=U6(U6({},qVe),t),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,f=n.forceCornerRadius,h=n.cornerIsExternal,g=n.startAngle,y=n.endAngle,x=n.className;if(s<o||g===y)return null;var P=mr("recharts-sector",x),O=s-o,S=ig(a,O,0,!0),A;return S>0&&Math.abs(g-y)<360?A=WVe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(S,O/2),forceCornerRadius:f,cornerIsExternal:h,startAngle:g,endAngle:y}):A=YK({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:g,endAngle:y}),Pe.createElement("path",ZM({},qn(n,!0),{className:P,d:A,role:"img"}))};function Nb(e){"@babel/helpers - typeof";return Nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nb(e)}function XM(){return XM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XM.apply(this,arguments)}function V6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function W6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V6(Object(n),!0).forEach(function(r){GVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GVe(e,t,n){return t=HVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HVe(e){var t=YVe(e,"string");return Nb(t)==="symbol"?t:String(t)}function YVe(e,t){if(Nb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Nb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q6={curveBasisClosed:XNe,curveBasisOpen:JNe,curveBasis:ZNe,curveBumpX:LNe,curveBumpY:NNe,curveLinearClosed:QNe,curveLinear:_E,curveMonotoneX:eze,curveMonotoneY:tze,curveNatural:nze,curveStep:rze,curveStepAfter:oze,curveStepBefore:ize},M1=function(t){return t.x===+t.x&&t.y===+t.y},Vv=function(t){return t.x},Wv=function(t){return t.y},KVe=function(t,n){if(yn(t))return t;var r="curve".concat(bE(t));return(r==="curveMonotone"||r==="curveBump")&&n?q6["".concat(r).concat(n==="vertical"?"Y":"X")]:q6[r]||_E},ZVe=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,o=i===void 0?[]:i,s=t.baseLine,a=t.layout,f=t.connectNulls,h=f===void 0?!1:f,g=KVe(r,a),y=h?o.filter(function(S){return M1(S)}):o,x;if(yo(s)){var P=h?s.filter(function(S){return M1(S)}):s,O=y.map(function(S,A){return W6(W6({},S),{},{base:P[A]})});return a==="vertical"?x=S1().y(Wv).x1(Vv).x0(function(S){return S.base.x}):x=S1().x(Vv).y1(Wv).y0(function(S){return S.base.y}),x.defined(M1).curve(g),x(O)}return a==="vertical"&&Et(s)?x=S1().y(Wv).x1(Vv).x0(s):Et(s)?x=S1().x(Vv).y1(Wv).y0(s):x=dY().x(Vv).y(Wv),x.defined(M1).curve(g),x(y)},JM=function(t){var n=t.className,r=t.points,i=t.path,o=t.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?ZVe(t):i;return Pe.createElement("path",XM({},qn(t),fS(t),{className:mr("recharts-curve",n),d:s,ref:o}))};function zb(e){"@babel/helpers - typeof";return zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zb(e)}function HS(){return HS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HS.apply(this,arguments)}function XVe(e,t){return tWe(e)||eWe(e,t)||QVe(e,t)||JVe()}function JVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QVe(e,t){if(e){if(typeof e=="string")return G6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G6(e,t)}}function G6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eWe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function tWe(e){if(Array.isArray(e))return e}function H6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Y6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H6(Object(n),!0).forEach(function(r){nWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nWe(e,t,n){return t=rWe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rWe(e){var t=iWe(e,"string");return zb(t)==="symbol"?t:String(t)}function iWe(e,t){if(zb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K6=function(t,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,f=r>=0?1:-1,h=i>=0&&r>=0||i<0&&r<0?1:0,g;if(s>0&&o instanceof Array){for(var y=[0,0,0,0],x=0,P=4;x<P;x++)y[x]=o[x]>s?s:o[x];g="M".concat(t,",").concat(n+a*y[0]),y[0]>0&&(g+="A ".concat(y[0],",").concat(y[0],",0,0,").concat(h,",").concat(t+f*y[0],",").concat(n)),g+="L ".concat(t+r-f*y[1],",").concat(n),y[1]>0&&(g+="A ".concat(y[1],",").concat(y[1],",0,0,").concat(h,`,
        `).concat(t+r,",").concat(n+a*y[1])),g+="L ".concat(t+r,",").concat(n+i-a*y[2]),y[2]>0&&(g+="A ".concat(y[2],",").concat(y[2],",0,0,").concat(h,`,
        `).concat(t+r-f*y[2],",").concat(n+i)),g+="L ".concat(t+f*y[3],",").concat(n+i),y[3]>0&&(g+="A ".concat(y[3],",").concat(y[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(n+i-a*y[3])),g+="Z"}else if(s>0&&o===+o&&o>0){var O=Math.min(s,o);g="M ".concat(t,",").concat(n+a*O,`
            A `).concat(O,",").concat(O,",0,0,").concat(h,",").concat(t+f*O,",").concat(n,`
            L `).concat(t+r-f*O,",").concat(n,`
            A `).concat(O,",").concat(O,",0,0,").concat(h,",").concat(t+r,",").concat(n+a*O,`
            L `).concat(t+r,",").concat(n+i-a*O,`
            A `).concat(O,",").concat(O,",0,0,").concat(h,",").concat(t+r-f*O,",").concat(n+i,`
            L `).concat(t+f*O,",").concat(n+i,`
            A `).concat(O,",").concat(O,",0,0,").concat(h,",").concat(t,",").concat(n+i-a*O," Z")}else g="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return g},oWe=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,o=n.x,s=n.y,a=n.width,f=n.height;if(Math.abs(a)>0&&Math.abs(f)>0){var h=Math.min(o,o+a),g=Math.max(o,o+a),y=Math.min(s,s+f),x=Math.max(s,s+f);return r>=h&&r<=g&&i>=y&&i<=x}return!1},aWe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FL=function(t){var n=Y6(Y6({},aWe),t),r=V.useRef(),i=V.useState(-1),o=XVe(i,2),s=o[0],a=o[1];V.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var $=r.current.getTotalLength();$&&a($)}catch{}},[]);var f=n.x,h=n.y,g=n.width,y=n.height,x=n.radius,P=n.className,O=n.animationEasing,S=n.animationDuration,A=n.animationBegin,I=n.isAnimationActive,M=n.isUpdateAnimationActive;if(f!==+f||h!==+h||g!==+g||y!==+y||g===0||y===0)return null;var k=mr("recharts-rectangle",P);return M?Pe.createElement(uu,{canBegin:s>0,from:{width:g,height:y,x:f,y:h},to:{width:g,height:y,x:f,y:h},duration:S,animationEasing:O,isActive:M},function($){var L=$.width,N=$.height,F=$.x,G=$.y;return Pe.createElement(uu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:S,isActive:I,easing:O},Pe.createElement("path",HS({},qn(n,!0),{className:k,d:K6(F,G,L,N,x),ref:r})))}):Pe.createElement("path",HS({},qn(n,!0),{className:k,d:K6(f,h,g,y,x)}))};function QM(){return QM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QM.apply(this,arguments)}var UL=function(t){var n=t.cx,r=t.cy,i=t.r,o=t.className,s=mr("recharts-dot",o);return n===+n&&r===+r&&i===+i?Pe.createElement("circle",QM({},qn(t),fS(t),{className:s,cx:n,cy:r,r:i})):null};function jb(e){"@babel/helpers - typeof";return jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jb(e)}var sWe=["x","y","top","left","width","height","className"];function eI(){return eI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eI.apply(this,arguments)}function Z6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lWe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z6(Object(n),!0).forEach(function(r){cWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cWe(e,t,n){return t=uWe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uWe(e){var t=dWe(e,"string");return jb(t)==="symbol"?t:String(t)}function dWe(e,t){if(jb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(jb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fWe(e,t){if(e==null)return{};var n=hWe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function hWe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var pWe=function(t,n,r,i,o,s){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},mWe=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,s=t.top,a=s===void 0?0:s,f=t.left,h=f===void 0?0:f,g=t.width,y=g===void 0?0:g,x=t.height,P=x===void 0?0:x,O=t.className,S=fWe(t,sWe),A=lWe({x:r,y:o,top:a,left:h,width:y,height:P},S);return!Et(r)||!Et(o)||!Et(y)||!Et(P)||!Et(a)||!Et(h)?null:Pe.createElement("path",eI({},qn(A,!0),{className:mr("recharts-cross",O),d:pWe(r,o,y,P,a,h)}))},gWe=xu,yWe=_u,vWe="[object Boolean]";function bWe(e){return e===!0||e===!1||yWe(e)&&gWe(e)==vWe}var xWe=bWe;const ZK=tr(xWe);var _We=GH,wWe=_We(Object.getPrototypeOf,Object),SWe=wWe,CWe=xu,EWe=SWe,TWe=_u,kWe="[object Object]",PWe=Function.prototype,OWe=Object.prototype,XK=PWe.toString,AWe=OWe.hasOwnProperty,MWe=XK.call(Object);function IWe(e){if(!TWe(e)||CWe(e)!=kWe)return!1;var t=EWe(e);if(t===null)return!0;var n=AWe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&XK.call(n)==MWe}var $We=IWe;const RWe=tr($We);function Bb(e){"@babel/helpers - typeof";return Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bb(e)}function YS(){return YS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YS.apply(this,arguments)}function DWe(e,t){return jWe(e)||zWe(e,t)||NWe(e,t)||LWe()}function LWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NWe(e,t){if(e){if(typeof e=="string")return X6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X6(e,t)}}function X6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zWe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function jWe(e){if(Array.isArray(e))return e}function J6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Q6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J6(Object(n),!0).forEach(function(r){BWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BWe(e,t,n){return t=FWe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FWe(e){var t=UWe(e,"string");return Bb(t)==="symbol"?t:String(t)}function UWe(e,t){if(Bb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eU=function(t,n,r,i,o){var s=r-i,a;return a="M ".concat(t,",").concat(n),a+="L ".concat(t+r,",").concat(n),a+="L ".concat(t+r-s/2,",").concat(n+o),a+="L ".concat(t+r-s/2-i,",").concat(n+o),a+="L ".concat(t,",").concat(n," Z"),a},VWe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WWe=function(t){var n=Q6(Q6({},VWe),t),r=V.useRef(),i=V.useState(-1),o=DWe(i,2),s=o[0],a=o[1];V.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&a(k)}catch{}},[]);var f=n.x,h=n.y,g=n.upperWidth,y=n.lowerWidth,x=n.height,P=n.className,O=n.animationEasing,S=n.animationDuration,A=n.animationBegin,I=n.isUpdateAnimationActive;if(f!==+f||h!==+h||g!==+g||y!==+y||x!==+x||g===0&&y===0||x===0)return null;var M=mr("recharts-trapezoid",P);return I?Pe.createElement(uu,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:x,x:f,y:h},to:{upperWidth:g,lowerWidth:y,height:x,x:f,y:h},duration:S,animationEasing:O,isActive:I},function(k){var $=k.upperWidth,L=k.lowerWidth,N=k.height,F=k.x,G=k.y;return Pe.createElement(uu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:S,easing:O},Pe.createElement("path",YS({},qn(n,!0),{className:M,d:eU(F,G,$,L,N),ref:r})))}):Pe.createElement("g",null,Pe.createElement("path",YS({},qn(n,!0),{className:M,d:eU(f,h,g,y,x)})))},qWe=["option","shapeType","propTransformer","activeClassName","isActive"];function Fb(e){"@babel/helpers - typeof";return Fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fb(e)}function GWe(e,t){if(e==null)return{};var n=HWe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function HWe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function tU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tU(Object(n),!0).forEach(function(r){YWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YWe(e,t,n){return t=KWe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KWe(e){var t=ZWe(e,"string");return Fb(t)==="symbol"?t:String(t)}function ZWe(e,t){if(Fb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XWe(e,t){return nU(nU({},t),e)}function JWe(e,t){return e==="symbols"}function rU(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return Pe.createElement(FL,n);case"trapezoid":return Pe.createElement(WWe,n);case"sector":return Pe.createElement(KK,n);case"symbols":if(JWe(t))return Pe.createElement(hL,n);break;default:return null}}function QWe(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?XWe:r,o=e.activeClassName,s=o===void 0?"recharts-active-shape":o,a=e.isActive,f=GWe(e,qWe),h;if(V.isValidElement(t))h=V.cloneElement(t,f);else if(yn(t))h=t(f);else if(RWe(t)&&!ZK(t)){var g=f,y=i(t,g);h=Pe.createElement(rU,{shapeType:n,elementProps:y})}else{var x=f;h=Pe.createElement(rU,{shapeType:n,elementProps:x})}return a?Pe.createElement(Ei,{className:s},h):h}function LE(e,t){return"trapezoids"in e.props}function NE(e,t){return"sectors"in e.props}function Ub(e,t){return"points"in e.props}function e9e(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,o=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&o}function t9e(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function n9e(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function r9e(e,t){var n;return LE(e)?n=e9e:NE(e)?n=t9e:Ub(e)&&(n=n9e),n}function i9e(e,t){var n;return LE(e)?n="trapezoids":NE(e)?n="sectors":Ub(e)&&(n="points"),n}function o9e(e,t){if(LE(e)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(NE(e)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Ub(e)?t.payload:{}}function a9e(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=i9e(n),o=o9e(n,t),s=r.filter(function(f,h){var g=EE(o,f),y=n.props[i].filter(function(O){var S=r9e(n);return S(O,t)}),x=n.props[i].indexOf(y[y.length-1]),P=h===x;return g&&P}),a=r.indexOf(s[s.length-1]);return a}var s9e=Math.ceil,l9e=Math.max;function c9e(e,t,n,r){for(var i=-1,o=l9e(s9e((t-e)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=e,e+=n;return s}var u9e=c9e,d9e=jY,iU=1/0,f9e=17976931348623157e292;function h9e(e){if(!e)return e===0?e:0;if(e=d9e(e),e===iU||e===-iU){var t=e<0?-1:1;return t*f9e}return e===e?e:0}var JK=h9e,p9e=u9e,m9e=CE,sO=JK;function g9e(e){return function(t,n,r){return r&&typeof r!="number"&&m9e(t,n,r)&&(n=r=void 0),t=sO(t),n===void 0?(n=t,t=0):n=sO(n),r=r===void 0?t<n?1:-1:sO(r),p9e(t,n,r,e)}}var y9e=g9e,v9e=y9e,b9e=v9e(),x9e=b9e;const KS=tr(x9e);function Vb(e){"@babel/helpers - typeof";return Vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vb(e)}function oU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oU(Object(n),!0).forEach(function(r){QK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QK(e,t,n){return t=_9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _9e(e){var t=w9e(e,"string");return Vb(t)==="symbol"?t:String(t)}function w9e(e,t){if(Vb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S9e=["Webkit","Moz","O","ms"],C9e=function(t,n){if(!t)return null;var r=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=S9e.reduce(function(o,s){return aU(aU({},o),{},QK({},s+r,n))},{});return i[t]=n,i};function mg(e){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mg(e)}function ZS(){return ZS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZS.apply(this,arguments)}function sU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sU(Object(n),!0).forEach(function(r){Fa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eZ(r.key),r)}}function T9e(e,t,n){return t&&lU(e.prototype,t),n&&lU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function k9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tI(e,t)}function tI(e,t){return tI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tI(e,t)}function P9e(e){var t=A9e();return function(){var r=XS(e),i;if(t){var o=XS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return O9e(this,i)}}function O9e(e,t){if(t&&(mg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fl(e)}function Fl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function XS(e){return XS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},XS(e)}function Fa(e,t,n){return t=eZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eZ(e){var t=M9e(e,"string");return mg(t)==="symbol"?t:String(t)}function M9e(e,t){if(mg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I9e=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,o=t.x,s=t.width,a=t.travellerWidth;if(!n||!n.length)return{};var f=n.length,h=O0().domain(KS(0,f)).range([o,o+s-a]),g=h.domain().map(function(y){return h(y)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(r),endX:h(i),scale:h,scaleValues:g}},cU=function(t){return t.changedTouches&&!!t.changedTouches.length},Wb=function(e){k9e(n,e);var t=P9e(n);function n(r){var i;return E9e(this,n),i=t.call(this,r),Fa(Fl(i),"handleDrag",function(o){i.leaveTimer&&(clearTimeout(i.leaveTimer),i.leaveTimer=null),i.state.isTravellerMoving?i.handleTravellerMove(o):i.state.isSlideMoving&&i.handleSlideDrag(o)}),Fa(Fl(i),"handleTouchMove",function(o){o.changedTouches!=null&&o.changedTouches.length>0&&i.handleDrag(o.changedTouches[0])}),Fa(Fl(i),"handleDragEnd",function(){i.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var o=i.props,s=o.endIndex,a=o.onDragEnd,f=o.startIndex;a==null||a({endIndex:s,startIndex:f})}),i.detachDragEndListener()}),Fa(Fl(i),"handleLeaveWrapper",function(){(i.state.isTravellerMoving||i.state.isSlideMoving)&&(i.leaveTimer=window.setTimeout(i.handleDragEnd,i.props.leaveTimeOut))}),Fa(Fl(i),"handleEnterSlideOrTraveller",function(){i.setState({isTextActive:!0})}),Fa(Fl(i),"handleLeaveSlideOrTraveller",function(){i.setState({isTextActive:!1})}),Fa(Fl(i),"handleSlideDragStart",function(o){var s=cU(o)?o.changedTouches[0]:o;i.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),i.attachDragEndListener()}),i.travellerDragStartHandlers={startX:i.handleTravellerDragStart.bind(Fl(i),"startX"),endX:i.handleTravellerDragStart.bind(Fl(i),"endX")},i.state={},i}return T9e(n,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(i){var o=i.startX,s=i.endX,a=this.state.scaleValues,f=this.props,h=f.gap,g=f.data,y=g.length-1,x=Math.min(o,s),P=Math.max(o,s),O=n.getIndexInRange(a,x),S=n.getIndexInRange(a,P);return{startIndex:O-O%h,endIndex:S===y?y:S-S%h}}},{key:"getTextOfTick",value:function(i){var o=this.props,s=o.data,a=o.tickFormatter,f=o.dataKey,h=es(s[i],f,i);return yn(a)?a(h,i):h}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(i){var o=this.state,s=o.slideMoveStartX,a=o.startX,f=o.endX,h=this.props,g=h.x,y=h.width,x=h.travellerWidth,P=h.startIndex,O=h.endIndex,S=h.onChange,A=i.pageX-s;A>0?A=Math.min(A,g+y-x-f,g+y-x-a):A<0&&(A=Math.max(A,g-a,g-f));var I=this.getIndex({startX:a+A,endX:f+A});(I.startIndex!==P||I.endIndex!==O)&&S&&S(I),this.setState({startX:a+A,endX:f+A,slideMoveStartX:i.pageX})}},{key:"handleTravellerDragStart",value:function(i,o){var s=cU(o)?o.changedTouches[0]:o;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:i,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(i){var o,s=this.state,a=s.brushMoveStartX,f=s.movingTravellerId,h=s.endX,g=s.startX,y=this.state[f],x=this.props,P=x.x,O=x.width,S=x.travellerWidth,A=x.onChange,I=x.gap,M=x.data,k={startX:this.state.startX,endX:this.state.endX},$=i.pageX-a;$>0?$=Math.min($,P+O-S-y):$<0&&($=Math.max($,P-y)),k[f]=y+$;var L=this.getIndex(k),N=L.startIndex,F=L.endIndex,G=function(){var ee=M.length-1;return f==="startX"&&(h>g?N%I===0:F%I===0)||h<g&&F===ee||f==="endX"&&(h>g?F%I===0:N%I===0)||h>g&&F===ee};this.setState((o={},Fa(o,f,y+$),Fa(o,"brushMoveStartX",i.pageX),o),function(){A&&G()&&A(L)})}},{key:"handleTravellerMoveKeyboard",value:function(i,o){var s=this,a=this.state,f=a.scaleValues,h=a.startX,g=a.endX,y=this.state[o],x=f.indexOf(y);if(x!==-1){var P=x+i;if(!(P===-1||P>=f.length)){var O=f[P];o==="startX"&&O>=g||o==="endX"&&O<=h||this.setState(Fa({},o,O),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,f=i.height,h=i.fill,g=i.stroke;return Pe.createElement("rect",{stroke:g,fill:h,x:o,y:s,width:a,height:f})}},{key:"renderPanorama",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,f=i.height,h=i.data,g=i.children,y=i.padding,x=V.Children.only(g);return x?Pe.cloneElement(x,{x:o,y:s,width:a,height:f,margin:y,compact:!0,data:h}):null}},{key:"renderTravellerLayer",value:function(i,o){var s=this,a=this.props,f=a.y,h=a.travellerWidth,g=a.height,y=a.traveller,x=Math.max(i,this.props.x),P=lO(lO({},qn(this.props)),{},{x,y:f,width:h,height:g});return Pe.createElement(Ei,{tabIndex:0,role:"slider",className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[o],onTouchStart:this.travellerDragStartHandlers[o],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,o))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},n.renderTraveller(y,P))}},{key:"renderSlide",value:function(i,o){var s=this.props,a=s.y,f=s.height,h=s.stroke,g=s.travellerWidth,y=Math.min(i,o)+g,x=Math.max(Math.abs(o-i)-g,0);return Pe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:h,fillOpacity:.2,x:y,y:a,width:x,height:f})}},{key:"renderText",value:function(){var i=this.props,o=i.startIndex,s=i.endIndex,a=i.y,f=i.height,h=i.travellerWidth,g=i.stroke,y=this.state,x=y.startX,P=y.endX,O=5,S={pointerEvents:"none",fill:g};return Pe.createElement(Ei,{className:"recharts-brush-texts"},Pe.createElement(MS,ZS({textAnchor:"end",verticalAnchor:"middle",x:Math.min(x,P)-O,y:a+f/2},S),this.getTextOfTick(o)),Pe.createElement(MS,ZS({textAnchor:"start",verticalAnchor:"middle",x:Math.max(x,P)+h+O,y:a+f/2},S),this.getTextOfTick(s)))}},{key:"render",value:function(){var i=this.props,o=i.data,s=i.className,a=i.children,f=i.x,h=i.y,g=i.width,y=i.height,x=i.alwaysShowText,P=this.state,O=P.startX,S=P.endX,A=P.isTextActive,I=P.isSlideMoving,M=P.isTravellerMoving,k=P.isTravellerFocused;if(!o||!o.length||!Et(f)||!Et(h)||!Et(g)||!Et(y)||g<=0||y<=0)return null;var $=mr("recharts-brush",s),L=Pe.Children.count(a)===1,N=C9e("userSelect","none");return Pe.createElement(Ei,{className:$,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),L&&this.renderPanorama(),this.renderSlide(O,S),this.renderTravellerLayer(O,"startX"),this.renderTravellerLayer(S,"endX"),(A||I||M||k||x)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(i){var o=i.x,s=i.y,a=i.width,f=i.height,h=i.stroke,g=Math.floor(s+f/2)-1;return Pe.createElement(Pe.Fragment,null,Pe.createElement("rect",{x:o,y:s,width:a,height:f,fill:h,stroke:"none"}),Pe.createElement("line",{x1:o+1,y1:g,x2:o+a-1,y2:g,fill:"none",stroke:"#fff"}),Pe.createElement("line",{x1:o+1,y1:g+2,x2:o+a-1,y2:g+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(i,o){var s;return Pe.isValidElement(i)?s=Pe.cloneElement(i,o):yn(i)?s=i(o):s=n.renderDefaultTraveller(o),s}},{key:"getDerivedStateFromProps",value:function(i,o){var s=i.data,a=i.width,f=i.x,h=i.travellerWidth,g=i.updateId,y=i.startIndex,x=i.endIndex;if(s!==o.prevData||g!==o.prevUpdateId)return lO({prevData:s,prevTravellerWidth:h,prevUpdateId:g,prevX:f,prevWidth:a},s&&s.length?I9e({data:s,width:a,x:f,travellerWidth:h,startIndex:y,endIndex:x}):{scale:null,scaleValues:null});if(o.scale&&(a!==o.prevWidth||f!==o.prevX||h!==o.prevTravellerWidth)){o.scale.range([f,f+a-h]);var P=o.scale.domain().map(function(O){return o.scale(O)});return{prevData:s,prevTravellerWidth:h,prevUpdateId:g,prevX:f,prevWidth:a,startX:o.scale(i.startIndex),endX:o.scale(i.endIndex),scaleValues:P}}return null}},{key:"getIndexInRange",value:function(i,o){for(var s=i.length,a=0,f=s-1;f-a>1;){var h=Math.floor((a+f)/2);i[h]>o?f=h:a=h}return o>=i[f]?f:a}}]),n}(V.PureComponent);Fa(Wb,"displayName","Brush");Fa(Wb,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var $9e=mL;function R9e(e,t){var n;return $9e(e,function(r,i,o){return n=t(r,i,o),!n}),!!n}var D9e=R9e,L9e=zH,N9e=Yd,z9e=D9e,j9e=fa,B9e=CE;function F9e(e,t,n){var r=j9e(e)?L9e:z9e;return n&&B9e(e,t,n)&&(t=void 0),r(e,N9e(t))}var U9e=F9e;const V9e=tr(U9e);var oc=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n};function W9e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var q9e=W9e,G9e=mL;function H9e(e,t){var n=!0;return G9e(e,function(r,i,o){return n=!!t(r,i,o),n}),n}var Y9e=H9e,K9e=q9e,Z9e=Y9e,X9e=Yd,J9e=fa,Q9e=CE;function e7e(e,t,n){var r=J9e(e)?K9e:Z9e;return n&&Q9e(e,t,n)&&(t=void 0),r(e,X9e(t))}var t7e=e7e;const tZ=tr(t7e);var uU=NY;function n7e(e,t,n){t=="__proto__"&&uU?uU(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var r7e=n7e,i7e=r7e,o7e=DY,a7e=Yd;function s7e(e,t){var n={};return t=a7e(t),o7e(e,function(r,i,o){i7e(n,i,t(r,i,o))}),n}var l7e=s7e;const c7e=tr(l7e);function qb(e){"@babel/helpers - typeof";return qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qb(e)}var u7e=["x","y"];function nI(){return nI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nI.apply(this,arguments)}function dU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dU(Object(n),!0).forEach(function(r){d7e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d7e(e,t,n){return t=f7e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f7e(e){var t=h7e(e,"string");return qb(t)==="symbol"?t:String(t)}function h7e(e,t){if(qb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p7e(e,t){if(e==null)return{};var n=m7e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function m7e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function g7e(e,t){var n=e.x,r=e.y,i=p7e(e,u7e),o="".concat(n),s=parseInt(o,10),a="".concat(r),f=parseInt(a,10),h="".concat(t.height||i.height),g=parseInt(h,10),y="".concat(t.width||i.width),x=parseInt(y,10);return qv(qv(qv(qv(qv({},t),i),s?{x:s}:{}),f?{y:f}:{}),{},{height:g,width:x,name:t.name,radius:t.radius})}function fU(e){return Pe.createElement(QWe,nI({shapeType:"rectangle",propTransformer:g7e,activeClassName:"recharts-active-bar"},e))}var y7e=["value","background"];function gg(e){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(e)}function v7e(e,t){if(e==null)return{};var n=b7e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function b7e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function JS(){return JS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JS.apply(this,arguments)}function hU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hU(Object(n),!0).forEach(function(r){pd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nZ(r.key),r)}}function _7e(e,t,n){return t&&pU(e.prototype,t),n&&pU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rI(e,t)}function rI(e,t){return rI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rI(e,t)}function S7e(e){var t=E7e();return function(){var r=QS(e),i;if(t){var o=QS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return C7e(this,i)}}function C7e(e,t){if(t&&(gg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o0(e)}function o0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E7e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function QS(e){return QS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},QS(e)}function pd(e,t,n){return t=nZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nZ(e){var t=T7e(e,"string");return gg(t)==="symbol"?t:String(t)}function T7e(e,t){if(gg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zE=function(e){w7e(n,e);var t=S7e(n);function n(){var r;x7e(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),pd(o0(r),"state",{isAnimationFinished:!1}),pd(o0(r),"id",Tx("recharts-bar-")),pd(o0(r),"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),a&&a()}),pd(o0(r),"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),a&&a()}),r}return _7e(n,[{key:"renderRectanglesStatically",value:function(i){var o=this,s=this.props,a=s.shape,f=s.dataKey,h=s.activeIndex,g=s.activeBar,y=qn(this.props);return i&&i.map(function(x,P){var O=P===h,S=O?g:a,A=Zi(Zi(Zi({},y),x),{},{isActive:O,option:S,index:P,dataKey:f,onAnimationStart:o.handleAnimationStart,onAnimationEnd:o.handleAnimationEnd});return Pe.createElement(Ei,JS({className:"recharts-bar-rectangle"},hS(o.props,x,P),{key:"rectangle-".concat(P)}),Pe.createElement(fU,A))})}},{key:"renderRectanglesWithAnimation",value:function(){var i=this,o=this.props,s=o.data,a=o.layout,f=o.isAnimationActive,h=o.animationBegin,g=o.animationDuration,y=o.animationEasing,x=o.animationId,P=this.state.prevData;return Pe.createElement(uu,{begin:h,duration:g,isActive:f,easing:y,from:{t:0},to:{t:1},key:"bar-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var S=O.t,A=s.map(function(I,M){var k=P&&P[M];if(k){var $=dl(k.x,I.x),L=dl(k.y,I.y),N=dl(k.width,I.width),F=dl(k.height,I.height);return Zi(Zi({},I),{},{x:$(S),y:L(S),width:N(S),height:F(S)})}if(a==="horizontal"){var G=dl(0,I.height),J=G(S);return Zi(Zi({},I),{},{y:I.y+I.height-J,height:J})}var ee=dl(0,I.width),ae=ee(S);return Zi(Zi({},I),{},{width:ae})});return Pe.createElement(Ei,null,i.renderRectanglesStatically(A))})}},{key:"renderRectangles",value:function(){var i=this.props,o=i.data,s=i.isAnimationActive,a=this.state.prevData;return s&&o&&o.length&&(!a||!EE(a,o))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(o)}},{key:"renderBackground",value:function(){var i=this,o=this.props,s=o.data,a=o.dataKey,f=o.activeIndex,h=qn(this.props.background);return s.map(function(g,y){g.value;var x=g.background,P=v7e(g,y7e);if(!x)return null;var O=Zi(Zi(Zi(Zi(Zi({},P),{},{fill:"#eee"},x),h),hS(i.props,g,y)),{},{onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd,dataKey:a,index:y,key:"background-bar-".concat(y),className:"recharts-bar-background-rectangle"});return Pe.createElement(fU,JS({option:i.props.background,isActive:y===f},O))})}},{key:"renderErrorBar",value:function(i,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,f=s.xAxis,h=s.yAxis,g=s.layout,y=s.children,x=Rs(y,Ix);if(!x)return null;var P=g==="vertical"?a[0].height/2:a[0].width/2,O=function(I,M){var k=Array.isArray(I.value)?I.value[1]:I.value;return{x:I.x,y:I.y,value:k,errorVal:es(I,M)}},S={clipPath:i?"url(#clipPath-".concat(o,")"):null};return Pe.createElement(Ei,S,x.map(function(A,I){return Pe.cloneElement(A,{key:"error-bar-".concat(I),data:a,xAxis:f,yAxis:h,layout:g,offset:P,dataPointFormatter:O})}))}},{key:"render",value:function(){var i=this.props,o=i.hide,s=i.data,a=i.className,f=i.xAxis,h=i.yAxis,g=i.left,y=i.top,x=i.width,P=i.height,O=i.isAnimationActive,S=i.background,A=i.id;if(o||!s||!s.length)return null;var I=this.state.isAnimationFinished,M=mr("recharts-bar",a),k=f&&f.allowDataOverflow,$=h&&h.allowDataOverflow,L=k||$,N=mn(A)?this.id:A;return Pe.createElement(Ei,{className:M},k||$?Pe.createElement("defs",null,Pe.createElement("clipPath",{id:"clipPath-".concat(N)},Pe.createElement("rect",{x:k?g:g-x/2,y:$?y:y-P/2,width:k?x:x*2,height:$?P:P*2}))):null,Pe.createElement(Ei,{className:"recharts-bar-rectangles",clipPath:L?"url(#clipPath-".concat(N,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(L,N),(!O||I)&&Ad.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curData:i.data,prevData:o.curData}:i.data!==o.curData?{curData:i.data}:null}}]),n}(V.PureComponent);pd(zE,"displayName","Bar");pd(zE,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!0,isAnimationActive:!Jc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});pd(zE,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,s=e.yAxis,a=e.xAxisTicks,f=e.yAxisTicks,h=e.stackedData,g=e.dataStartIndex,y=e.displayedData,x=e.offset,P=j8e(r,n);if(!P)return null;var O=t.layout,S=n.props,A=S.dataKey,I=S.children,M=S.minPointSize,k=O==="horizontal"?s:o,$=h?k.scale.domain():null,L=H8e({numericAxis:k}),N=Rs(I,UY),F=y.map(function(G,J){var ee,ae,pe,ye,we,Ce;if(h?ee=B8e(h[g+J],$):(ee=es(G,A),yo(ee)||(ee=[L,ee])),O==="horizontal"){var Oe,Ee=[s.scale(ee[0]),s.scale(ee[1])],Se=Ee[0],De=Ee[1];ae=A6({axis:o,ticks:a,bandSize:i,offset:P.offset,entry:G,index:J}),pe=(Oe=De??Se)!==null&&Oe!==void 0?Oe:void 0,ye=P.size;var We=Se-De;if(we=Number.isNaN(We)?0:We,Ce={x:ae,y:s.y,width:ye,height:s.height},Math.abs(M)>0&&Math.abs(we)<Math.abs(M)){var dt=yl(we||M)*(Math.abs(M)-Math.abs(we));pe-=dt,we+=dt}}else{var ht=[o.scale(ee[0]),o.scale(ee[1])],Je=ht[0],it=ht[1];if(ae=Je,pe=A6({axis:s,ticks:f,bandSize:i,offset:P.offset,entry:G,index:J}),ye=it-Je,we=P.size,Ce={x:o.x,y:pe,width:o.width,height:we},Math.abs(M)>0&&Math.abs(ye)<Math.abs(M)){var Ot=yl(ye||M)*(Math.abs(M)-Math.abs(ye));ye+=Ot}}return Zi(Zi(Zi({},G),{},{x:ae,y:pe,width:ye,height:we,value:h?ee:ee[1],payload:G,background:Ce},N&&N[J]&&N[J].props),{},{tooltipPayload:[GK(n,G)],tooltipPosition:{x:ae+ye/2,y:pe+we/2}})});return Zi({data:F,layout:O},x)});function Gb(e){"@babel/helpers - typeof";return Gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gb(e)}function k7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rZ(r.key),r)}}function P7e(e,t,n){return t&&mU(e.prototype,t),n&&mU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ll(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gU(Object(n),!0).forEach(function(r){jE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jE(e,t,n){return t=rZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rZ(e){var t=O7e(e,"string");return Gb(t)==="symbol"?t:String(t)}function O7e(e,t){if(Gb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A7e=function(t,n,r,i,o){var s=t.width,a=t.height,f=t.layout,h=t.children,g=Object.keys(n),y={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},x=!!Gc(h,zE);return g.reduce(function(P,O){var S=n[O],A=S.orientation,I=S.domain,M=S.padding,k=M===void 0?{}:M,$=S.mirror,L=S.reversed,N="".concat(A).concat($?"Mirror":""),F,G,J,ee,ae;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var pe=I[1]-I[0],ye=1/0,we=S.categoricalDomain.sort();we.forEach(function(it,Ot){Ot>0&&(ye=Math.min((it||0)-(we[Ot-1]||0),ye))});var Ce=ye/pe,Oe=S.layout==="vertical"?r.height:r.width;if(S.padding==="gap"&&(F=Ce*Oe/2),S.padding==="no-gap"){var Ee=ig(t.barCategoryGap,Ce*Oe),Se=Ce*Oe/2;F=Se-Ee-(Se-Ee)/Oe*Ee}}i==="xAxis"?G=[r.left+(k.left||0)+(F||0),r.left+r.width-(k.right||0)-(F||0)]:i==="yAxis"?G=f==="horizontal"?[r.top+r.height-(k.bottom||0),r.top+(k.top||0)]:[r.top+(k.top||0)+(F||0),r.top+r.height-(k.bottom||0)-(F||0)]:G=S.range,L&&(G=[G[1],G[0]]);var De=N8e(S,o,x),We=De.scale,dt=De.realScaleType;We.domain(I).range(G),z8e(We);var ht=G8e(We,ll(ll({},S),{},{realScaleType:dt}));i==="xAxis"?(ae=A==="top"&&!$||A==="bottom"&&$,J=r.left,ee=y[N]-ae*S.height):i==="yAxis"&&(ae=A==="left"&&!$||A==="right"&&$,J=y[N]-ae*S.width,ee=r.top);var Je=ll(ll(ll({},S),ht),{},{realScaleType:dt,x:J,y:ee,scale:We,width:i==="xAxis"?r.width:S.width,height:i==="yAxis"?r.height:S.height});return Je.bandSize=WS(Je,ht),!S.hide&&i==="xAxis"?y[N]+=(ae?-1:1)*Je.height:S.hide||(y[N]+=(ae?-1:1)*Je.width),ll(ll({},P),{},jE({},O,Je))},{})},iZ=function(t,n){var r=t.x,i=t.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},M7e=function(t){var n=t.x1,r=t.y1,i=t.x2,o=t.y2;return iZ({x:n,y:r},{x:i,y:o})},oZ=function(){function e(t){k7e(this,e),this.scale=t}return P7e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+f}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}]),e}();jE(oZ,"EPS",1e-4);var VL=function(t){var n=Object.keys(t).reduce(function(r,i){return ll(ll({},r),{},jE({},i,oZ.create(t[i])))},{});return ll(ll({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return c7e(i,function(f,h){return n[h].apply(f,{bandAware:s,position:a})})},isInRange:function(i){return tZ(i,function(o,s){return n[s].isInRange(o)})}})};function I7e(e){return(e%180+180)%180}var $7e=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=I7e(i),s=o*Math.PI/180,a=Math.atan(r/n),f=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(f)};function Hb(e){"@babel/helpers - typeof";return Hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hb(e)}function yU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yU(Object(n),!0).forEach(function(r){R7e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R7e(e,t,n){return t=D7e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D7e(e){var t=L7e(e,"string");return Hb(t)==="symbol"?t:String(t)}function L7e(e,t){if(Hb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N7e(e,t){return F7e(e)||B7e(e,t)||j7e(e,t)||z7e()}function z7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j7e(e,t){if(e){if(typeof e=="string")return bU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bU(e,t)}}function bU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B7e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function F7e(e){if(Array.isArray(e))return e}function iI(){return iI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iI.apply(this,arguments)}var U7e=function(t,n){var r;return Pe.isValidElement(t)?r=Pe.cloneElement(t,n):yn(t)?r=t(n):r=Pe.createElement("line",iI({},n,{className:"recharts-reference-line-line"})),r},V7e=function(t,n,r,i,o){var s=o.viewBox,a=s.x,f=s.y,h=s.width,g=s.height,y=o.position;if(r){var x=o.y,P=o.yAxis.orientation,O=t.y.apply(x,{position:y});if(oc(o,"discard")&&!t.y.isInRange(O))return null;var S=[{x:a+h,y:O},{x:a,y:O}];return P==="left"?S.reverse():S}if(n){var A=o.x,I=o.xAxis.orientation,M=t.x.apply(A,{position:y});if(oc(o,"discard")&&!t.x.isInRange(M))return null;var k=[{x:M,y:f+g},{x:M,y:f}];return I==="top"?k.reverse():k}if(i){var $=o.segment,L=$.map(function(N){return t.apply(N,{position:y})});return oc(o,"discard")&&V9e(L,function(N){return!t.isInRange(N)})?null:L}return null};function WL(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxis,o=e.yAxis,s=e.shape,a=e.className,f=e.alwaysShow,h=e.clipPathId;oh(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=VL({x:i.scale,y:o.scale}),y=Fi(t),x=Fi(n),P=r&&r.length===2,O=V7e(g,y,x,P,e);if(!O)return null;var S=N7e(O,2),A=S[0],I=A.x,M=A.y,k=S[1],$=k.x,L=k.y,N=oc(e,"hidden")?"url(#".concat(h,")"):void 0,F=vU(vU({clipPath:N},qn(e,!0)),{},{x1:I,y1:M,x2:$,y2:L});return Pe.createElement(Ei,{className:mr("recharts-reference-line",a)},U7e(s,F),Lo.renderCallByParent(e,M7e({x1:I,y1:M,x2:$,y2:L})))}WL.displayName="ReferenceLine";WL.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function Yb(e){"@babel/helpers - typeof";return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yb(e)}function oI(){return oI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oI.apply(this,arguments)}function xU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _U(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xU(Object(n),!0).forEach(function(r){W7e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W7e(e,t,n){return t=q7e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q7e(e){var t=G7e(e,"string");return Yb(t)==="symbol"?t:String(t)}function G7e(e,t){if(Yb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H7e=function(t){var n=t.x,r=t.y,i=t.xAxis,o=t.yAxis,s=VL({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return oc(t,"discard")&&!s.isInRange(a)?null:a};function $x(e){var t=e.x,n=e.y,r=e.r,i=e.alwaysShow,o=e.clipPathId,s=Fi(t),a=Fi(n);if(oh(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!a)return null;var f=H7e(e);if(!f)return null;var h=f.x,g=f.y,y=e.shape,x=e.className,P=oc(e,"hidden")?"url(#".concat(o,")"):void 0,O=_U(_U({clipPath:P},qn(e,!0)),{},{cx:h,cy:g});return Pe.createElement(Ei,{className:mr("recharts-reference-dot",x)},$x.renderDot(y,O),Lo.renderCallByParent(e,{x:h-r,y:g-r,width:2*r,height:2*r}))}$x.displayName="ReferenceDot";$x.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};$x.renderDot=function(e,t){var n;return Pe.isValidElement(e)?n=Pe.cloneElement(e,t):yn(e)?n=e(t):n=Pe.createElement(UL,oI({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n};function Kb(e){"@babel/helpers - typeof";return Kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kb(e)}function aI(){return aI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aI.apply(this,arguments)}function wU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wU(Object(n),!0).forEach(function(r){Y7e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y7e(e,t,n){return t=K7e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K7e(e){var t=Z7e(e,"string");return Kb(t)==="symbol"?t:String(t)}function Z7e(e,t){if(Kb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Kb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X7e=function(t,n,r,i,o){var s=o.x1,a=o.x2,f=o.y1,h=o.y2,g=o.xAxis,y=o.yAxis;if(!g||!y)return null;var x=VL({x:g.scale,y:y.scale}),P={x:t?x.x.apply(s,{position:"start"}):x.x.rangeMin,y:r?x.y.apply(f,{position:"start"}):x.y.rangeMin},O={x:n?x.x.apply(a,{position:"end"}):x.x.rangeMax,y:i?x.y.apply(h,{position:"end"}):x.y.rangeMax};return oc(o,"discard")&&(!x.isInRange(P)||!x.isInRange(O))?null:iZ(P,O)};function Rx(e){var t=e.x1,n=e.x2,r=e.y1,i=e.y2,o=e.className,s=e.alwaysShow,a=e.clipPathId;oh(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Fi(t),h=Fi(n),g=Fi(r),y=Fi(i),x=e.shape;if(!f&&!h&&!g&&!y&&!x)return null;var P=X7e(f,h,g,y,e);if(!P&&!x)return null;var O=oc(e,"hidden")?"url(#".concat(a,")"):void 0;return Pe.createElement(Ei,{className:mr("recharts-reference-area",o)},Rx.renderRect(x,SU(SU({clipPath:O},qn(e,!0)),P)),Lo.renderCallByParent(e,P))}Rx.displayName="ReferenceArea";Rx.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};Rx.renderRect=function(e,t){var n;return Pe.isValidElement(e)?n=Pe.cloneElement(e,t):yn(e)?n=e(t):n=Pe.createElement(FL,aI({},t,{className:"recharts-reference-area-rect"})),n};function aZ(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)if(n===void 0||n(e[i])===!0)r.push(e[i]);else return;return r}function J7e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return $7e(r,n)}function Q7e(e,t,n){var r=n==="width",i=e.x,o=e.y,s=e.width,a=e.height;return t===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function e2(e,t,n,r,i){return e*(t-e*n/2-r)>=0&&e*(t+e*n/2-i)<=0}function eqe(e,t){return aZ(e,t+1)}function tqe(e,t,n,r,i){for(var o=(r||[]).slice(),s=t.start,a=t.end,f=0,h=1,g=s;h<=o.length;){var y=r==null?void 0:r[f];if(y===void 0)return aZ(r,h);var x=n(y,f),P=y.coordinate,O=f===0||e2(e,P,x,g,a);O||(f=0,g=s,h+=1),O&&(g=P+e*(x/2+i),f+=h)}return[]}function Zb(e){"@babel/helpers - typeof";return Zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zb(e)}function CU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ro(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CU(Object(n),!0).forEach(function(r){nqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nqe(e,t,n){return t=rqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rqe(e){var t=iqe(e,"string");return Zb(t)==="symbol"?t:String(t)}function iqe(e,t){if(Zb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oqe(e,t,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=t.start,f=t.end,h=s-1;h>=0;h--){var g=o[h],y=n(g,h);if(h===s-1){var x=e*(g.coordinate+e*y/2-f);o[h]=g=Ro(Ro({},g),{},{tickCoord:x>0?g.coordinate-x*e:g.coordinate})}else o[h]=g=Ro(Ro({},g),{},{tickCoord:g.coordinate});var P=e2(e,g.tickCoord,y,a,f);P&&(f=g.tickCoord-e*(y/2+i),o[h]=Ro(Ro({},g),{},{isShow:!0}))}return o}function aqe(e,t,n,r,i,o){var s=(r||[]).slice(),a=s.length,f=t.start,h=t.end;if(o){var g=r[a-1],y=n(g,a-1),x=e*(g.coordinate+e*y/2-h);s[a-1]=g=Ro(Ro({},g),{},{tickCoord:x>0?g.coordinate-x*e:g.coordinate});var P=e2(e,g.tickCoord,y,f,h);P&&(h=g.tickCoord-e*(y/2+i),s[a-1]=Ro(Ro({},g),{},{isShow:!0}))}for(var O=o?a-1:a,S=0;S<O;S++){var A=s[S],I=n(A,S);if(S===0){var M=e*(A.coordinate-e*I/2-f);s[S]=A=Ro(Ro({},A),{},{tickCoord:M<0?A.coordinate-M*e:A.coordinate})}else s[S]=A=Ro(Ro({},A),{},{tickCoord:A.coordinate});var k=e2(e,A.tickCoord,I,f,h);k&&(f=A.tickCoord+e*(I/2+i),s[S]=Ro(Ro({},A),{},{isShow:!0}))}return s}function sI(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,s=e.minTickGap,a=e.orientation,f=e.interval,h=e.tickFormatter,g=e.unit,y=e.angle;if(!i||!i.length||!r)return[];if(Et(f)||Jc.isSsr)return eqe(i,typeof f=="number"&&Et(f)?f:0);var x=[],P=a==="top"||a==="bottom"?"width":"height",O=g&&P==="width"?P0(g,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=function(k,$){var L=yn(h)?h(k.value,$):k.value;return P==="width"?J7e(P0(L,{fontSize:t,letterSpacing:n}),O,y):P0(L,{fontSize:t,letterSpacing:n})[P]},A=i.length>=2?yl(i[1].coordinate-i[0].coordinate):1,I=Q7e(o,A,P);return f==="equidistantPreserveStart"?tqe(A,I,S,i,s):(f==="preserveStart"||f==="preserveStartEnd"?x=aqe(A,I,S,i,s,f==="preserveStartEnd"):x=oqe(A,I,S,i,s),x.filter(function(M){return M.isShow}))}var sqe=["viewBox"],lqe=["viewBox"],cqe=["ticks"];function yg(e){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(e)}function pm(){return pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pm.apply(this,arguments)}function EU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ra(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EU(Object(n),!0).forEach(function(r){qL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cO(e,t){if(e==null)return{};var n=uqe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function uqe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function dqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sZ(r.key),r)}}function fqe(e,t,n){return t&&TU(e.prototype,t),n&&TU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lI(e,t)}function lI(e,t){return lI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lI(e,t)}function pqe(e){var t=yqe();return function(){var r=t2(e),i;if(t){var o=t2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return mqe(this,i)}}function mqe(e,t){if(t&&(yg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gqe(e)}function gqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yqe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function t2(e){return t2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},t2(e)}function qL(e,t,n){return t=sZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sZ(e){var t=vqe(e,"string");return yg(t)==="symbol"?t:String(t)}function vqe(e,t){if(yg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M0=function(e){hqe(n,e);var t=pqe(n);function n(r){var i;return dqe(this,n),i=t.call(this,r),i.state={fontSize:"",letterSpacing:""},i}return fqe(n,[{key:"shouldComponentUpdate",value:function(i,o){var s=i.viewBox,a=cO(i,sqe),f=this.props,h=f.viewBox,g=cO(f,lqe);return!$m(s,h)||!$m(a,g)||!$m(o,this.state)}},{key:"componentDidMount",value:function(){var i=this.layerReference;if(i){var o=i.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];o&&this.setState({fontSize:window.getComputedStyle(o).fontSize,letterSpacing:window.getComputedStyle(o).letterSpacing})}}},{key:"getTickLineCoord",value:function(i){var o=this.props,s=o.x,a=o.y,f=o.width,h=o.height,g=o.orientation,y=o.tickSize,x=o.mirror,P=o.tickMargin,O,S,A,I,M,k,$=x?-1:1,L=i.tickSize||y,N=Et(i.tickCoord)?i.tickCoord:i.coordinate;switch(g){case"top":O=S=i.coordinate,I=a+ +!x*h,A=I-$*L,k=A-$*P,M=N;break;case"left":A=I=i.coordinate,S=s+ +!x*f,O=S-$*L,M=O-$*P,k=N;break;case"right":A=I=i.coordinate,S=s+ +x*f,O=S+$*L,M=O+$*P,k=N;break;default:O=S=i.coordinate,I=a+ +x*h,A=I+$*L,k=A+$*P,M=N;break}return{line:{x1:O,y1:A,x2:S,y2:I},tick:{x:M,y:k}}}},{key:"getTickTextAnchor",value:function(){var i=this.props,o=i.orientation,s=i.mirror,a;switch(o){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var i=this.props,o=i.orientation,s=i.mirror,a="end";switch(o){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,f=i.height,h=i.orientation,g=i.mirror,y=i.axisLine,x=ra(ra(ra({},qn(this.props)),qn(y)),{},{fill:"none"});if(h==="top"||h==="bottom"){var P=+(h==="top"&&!g||h==="bottom"&&g);x=ra(ra({},x),{},{x1:o,y1:s+P*f,x2:o+a,y2:s+P*f})}else{var O=+(h==="left"&&!g||h==="right"&&g);x=ra(ra({},x),{},{x1:o+O*a,y1:s,x2:o+O*a,y2:s+f})}return Pe.createElement("line",pm({},x,{className:mr("recharts-cartesian-axis-line",$s(y,"className"))}))}},{key:"renderTicks",value:function(i,o,s){var a=this,f=this.props,h=f.tickLine,g=f.stroke,y=f.tick,x=f.tickFormatter,P=f.unit,O=sI(ra(ra({},this.props),{},{ticks:i}),o,s),S=this.getTickTextAnchor(),A=this.getTickVerticalAnchor(),I=qn(this.props),M=qn(y),k=ra(ra({},I),{},{fill:"none"},qn(h)),$=O.map(function(L,N){var F=a.getTickLineCoord(L),G=F.line,J=F.tick,ee=ra(ra(ra(ra({textAnchor:S,verticalAnchor:A},I),{},{stroke:"none",fill:g},M),J),{},{index:N,payload:L,visibleTicksCount:O.length,tickFormatter:x});return Pe.createElement(Ei,pm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N)},hS(a.props,L,N)),h&&Pe.createElement("line",pm({},k,G,{className:mr("recharts-cartesian-axis-tick-line",$s(h,"className"))})),y&&n.renderTickItem(y,ee,"".concat(yn(x)?x(L.value,N):L.value).concat(P||"")))});return Pe.createElement("g",{className:"recharts-cartesian-axis-ticks"},$)}},{key:"render",value:function(){var i=this,o=this.props,s=o.axisLine,a=o.width,f=o.height,h=o.ticksGenerator,g=o.className,y=o.hide;if(y)return null;var x=this.props,P=x.ticks,O=cO(x,cqe),S=P;return yn(h)&&(S=P&&P.length>0?h(this.props):h(O)),a<=0||f<=0||!S||!S.length?null:Pe.createElement(Ei,{className:mr("recharts-cartesian-axis",g),ref:function(I){i.layerReference=I}},s&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),Lo.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(i,o,s){var a;return Pe.isValidElement(i)?a=Pe.cloneElement(i,o):yn(i)?a=i(o):a=Pe.createElement(MS,pm({},o,{className:"recharts-cartesian-axis-tick-value"}),s),a}}]),n}(V.Component);qL(M0,"displayName","CartesianAxis");qL(M0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var bqe=["x1","y1","x2","y2","key"],xqe=["offset"];function vg(e){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(e)}function cI(){return cI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cI.apply(this,arguments)}function kU(e,t){if(e==null)return{};var n=_qe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _qe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function PU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PU(Object(n),!0).forEach(function(r){GL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lZ(r.key),r)}}function Sqe(e,t,n){return t&&OU(e.prototype,t),n&&OU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uI(e,t)}function uI(e,t){return uI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uI(e,t)}function Eqe(e){var t=Pqe();return function(){var r=n2(e),i;if(t){var o=n2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Tqe(this,i)}}function Tqe(e,t){if(t&&(vg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kqe(e)}function kqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pqe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function n2(e){return n2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},n2(e)}function GL(e,t,n){return t=lZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lZ(e){var t=Oqe(e,"string");return vg(t)==="symbol"?t:String(t)}function Oqe(e,t){if(vg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HL=function(e){Cqe(n,e);var t=Eqe(n);function n(){return wqe(this,n),t.apply(this,arguments)}return Sqe(n,[{key:"renderHorizontal",value:function(i){var o=this,s=this.props,a=s.x,f=s.width,h=s.horizontal;if(!i||!i.length)return null;var g=i.map(function(y,x){var P=Xu(Xu({},o.props),{},{x1:a,y1:y,x2:a+f,y2:y,key:"line-".concat(x),index:x});return n.renderLineItem(h,P)});return Pe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},g)}},{key:"renderVertical",value:function(i){var o=this,s=this.props,a=s.y,f=s.height,h=s.vertical;if(!i||!i.length)return null;var g=i.map(function(y,x){var P=Xu(Xu({},o.props),{},{x1:y,y1:a,x2:y,y2:a+f,key:"line-".concat(x),index:x});return n.renderLineItem(h,P)});return Pe.createElement("g",{className:"recharts-cartesian-grid-vertical"},g)}},{key:"renderVerticalStripes",value:function(i){var o=this.props.verticalFill;if(!o||!o.length)return null;var s=this.props,a=s.fillOpacity,f=s.x,h=s.y,g=s.width,y=s.height,x=i.map(function(O){return Math.round(O+f-f)}).sort(function(O,S){return O-S});f!==x[0]&&x.unshift(0);var P=x.map(function(O,S){var A=!x[S+1],I=A?f+g-O:x[S+1]-O;if(I<=0)return null;var M=S%o.length;return Pe.createElement("rect",{key:"react-".concat(S),x:O,y:h,width:I,height:y,stroke:"none",fill:o[M],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Pe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},P)}},{key:"renderHorizontalStripes",value:function(i){var o=this.props.horizontalFill;if(!o||!o.length)return null;var s=this.props,a=s.fillOpacity,f=s.x,h=s.y,g=s.width,y=s.height,x=i.map(function(O){return Math.round(O+h-h)}).sort(function(O,S){return O-S});h!==x[0]&&x.unshift(0);var P=x.map(function(O,S){var A=!x[S+1],I=A?h+y-O:x[S+1]-O;if(I<=0)return null;var M=S%o.length;return Pe.createElement("rect",{key:"react-".concat(S),y:O,x:f,height:I,width:g,stroke:"none",fill:o[M],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Pe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},P)}},{key:"renderBackground",value:function(){var i=this.props.fill;if(!i||i==="none")return null;var o=this.props,s=o.fillOpacity,a=o.x,f=o.y,h=o.width,g=o.height;return Pe.createElement("rect",{x:a,y:f,width:h,height:g,stroke:"none",fill:i,fillOpacity:s,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,f=i.height,h=i.horizontal,g=i.vertical,y=i.horizontalCoordinatesGenerator,x=i.verticalCoordinatesGenerator,P=i.xAxis,O=i.yAxis,S=i.offset,A=i.chartWidth,I=i.chartHeight,M=i.syncWithTicks,k=i.horizontalValues,$=i.verticalValues;if(!Et(a)||a<=0||!Et(f)||f<=0||!Et(o)||o!==+o||!Et(s)||s!==+s)return null;var L=this.props,N=L.horizontalPoints,F=L.verticalPoints;if((!N||!N.length)&&yn(y)){var G=k&&k.length;N=y({yAxis:Xu(Xu({},O),{},{ticks:G?k:O.ticks}),width:A,height:I,offset:S},G?!0:M)}if((!F||!F.length)&&yn(x)){var J=$&&$.length;F=x({xAxis:Xu(Xu({},P),{},{ticks:J?$:P.ticks}),width:A,height:I,offset:S},J?!0:M)}return Pe.createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),h&&this.renderHorizontal(N),g&&this.renderVertical(F),h&&this.renderHorizontalStripes(N),g&&this.renderVerticalStripes(F))}}],[{key:"renderLineItem",value:function(i,o){var s;if(Pe.isValidElement(i))s=Pe.cloneElement(i,o);else if(yn(i))s=i(o);else{var a=o.x1,f=o.y1,h=o.x2,g=o.y2,y=o.key,x=kU(o,bqe),P=qn(x);P.offset;var O=kU(P,xqe);s=Pe.createElement("line",cI({},O,{x1:a,y1:f,x2:h,y2:g,fill:"none",key:y}))}return s}}]),n}(V.PureComponent);GL(HL,"displayName","CartesianGrid");GL(HL,"defaultProps",{horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]});var Aqe=["type","layout","connectNulls","ref"];function bg(e){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(e)}function Mqe(e,t){if(e==null)return{};var n=Iqe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Iqe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I0.apply(this,arguments)}function AU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ja(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AU(Object(n),!0).forEach(function(r){Gl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fp(e){return Lqe(e)||Dqe(e)||Rqe(e)||$qe()}function $qe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rqe(e,t){if(e){if(typeof e=="string")return dI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dI(e,t)}}function Dqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lqe(e){if(Array.isArray(e))return dI(e)}function dI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cZ(r.key),r)}}function zqe(e,t,n){return t&&MU(e.prototype,t),n&&MU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fI(e,t)}function fI(e,t){return fI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fI(e,t)}function Bqe(e){var t=Uqe();return function(){var r=r2(e),i;if(t){var o=r2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Fqe(this,i)}}function Fqe(e,t){if(t&&(bg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nf(e)}function Nf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uqe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function r2(e){return r2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r2(e)}function Gl(e,t,n){return t=cZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cZ(e){var t=Vqe(e,"string");return bg(t)==="symbol"?t:String(t)}function Vqe(e,t){if(bg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xg=function(e){jqe(n,e);var t=Bqe(n);function n(){var r;Nqe(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Gl(Nf(r),"state",{isAnimationFinished:!0,totalLength:0}),Gl(Nf(r),"getStrokeDasharray",function(a,f,h){for(var g=h.reduce(function(M,k){return M+k}),y=Math.floor(a/g),x=a%g,P=f-a,O=[],S=0,A=0;;A+=h[S],++S)if(A+h[S]>x){O=[].concat(Fp(h.slice(0,S)),[x-A]);break}var I=O.length%2===0?[0,P]:[P];return[].concat(Fp(n.repeat(h,y)),Fp(O),I).map(function(M){return"".concat(M,"px")}).join(", ")}),Gl(Nf(r),"id",Tx("recharts-line-")),Gl(Nf(r),"pathRef",function(a){r.mainCurve=a}),Gl(Nf(r),"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Gl(Nf(r),"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return zqe(n,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();this.setState({totalLength:i})}}},{key:"getTotalLength",value:function(){var i=this.mainCurve;try{return i&&i.getTotalLength&&i.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(i,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,f=s.xAxis,h=s.yAxis,g=s.layout,y=s.children,x=Rs(y,Ix);if(!x)return null;var P=function(A,I){return{x:A.x,y:A.y,value:A.value,errorVal:es(A.payload,I)}},O={clipPath:i?"url(#clipPath-".concat(o,")"):null};return Pe.createElement(Ei,O,x.map(function(S,A){return Pe.cloneElement(S,{key:"bar-".concat(A),data:a,xAxis:f,yAxis:h,layout:g,dataPointFormatter:P})}))}},{key:"renderDots",value:function(i,o,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var f=this.props,h=f.dot,g=f.points,y=f.dataKey,x=qn(this.props),P=qn(h,!0),O=g.map(function(A,I){var M=ja(ja(ja({key:"dot-".concat(I),r:3},x),P),{},{value:A.value,dataKey:y,cx:A.x,cy:A.y,index:I,payload:A.payload});return n.renderDotItem(h,M)}),S={clipPath:i?"url(#clipPath-".concat(o?"":"dots-").concat(s,")"):null};return Pe.createElement(Ei,I0({className:"recharts-line-dots",key:"dots"},S),O)}},{key:"renderCurveStatically",value:function(i,o,s,a){var f=this.props,h=f.type,g=f.layout,y=f.connectNulls;f.ref;var x=Mqe(f,Aqe),P=ja(ja(ja({},qn(x,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:o?"url(#clipPath-".concat(s,")"):null,points:i},a),{},{type:h,layout:g,connectNulls:y});return Pe.createElement(JM,I0({},P,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(i,o){var s=this,a=this.props,f=a.points,h=a.strokeDasharray,g=a.isAnimationActive,y=a.animationBegin,x=a.animationDuration,P=a.animationEasing,O=a.animationId,S=a.animateNewValues,A=a.width,I=a.height,M=this.state,k=M.prevPoints,$=M.totalLength;return Pe.createElement(uu,{begin:y,duration:x,isActive:g,easing:P,from:{t:0},to:{t:1},key:"line-".concat(O),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(L){var N=L.t;if(k){var F=k.length/f.length,G=f.map(function(ye,we){var Ce=Math.floor(we*F);if(k[Ce]){var Oe=k[Ce],Ee=dl(Oe.x,ye.x),Se=dl(Oe.y,ye.y);return ja(ja({},ye),{},{x:Ee(N),y:Se(N)})}if(S){var De=dl(A*2,ye.x),We=dl(I/2,ye.y);return ja(ja({},ye),{},{x:De(N),y:We(N)})}return ja(ja({},ye),{},{x:ye.x,y:ye.y})});return s.renderCurveStatically(G,i,o)}var J=dl(0,$),ee=J(N),ae;if(h){var pe="".concat(h).split(/[,\s]+/gim).map(function(ye){return parseFloat(ye)});ae=s.getStrokeDasharray(ee,$,pe)}else ae="".concat(ee,"px ").concat($-ee,"px");return s.renderCurveStatically(f,i,o,{strokeDasharray:ae})})}},{key:"renderCurve",value:function(i,o){var s=this.props,a=s.points,f=s.isAnimationActive,h=this.state,g=h.prevPoints,y=h.totalLength;return f&&a&&a.length&&(!g&&y>0||!EE(g,a))?this.renderCurveWithAnimation(i,o):this.renderCurveStatically(a,i,o)}},{key:"render",value:function(){var i,o=this.props,s=o.hide,a=o.dot,f=o.points,h=o.className,g=o.xAxis,y=o.yAxis,x=o.top,P=o.left,O=o.width,S=o.height,A=o.isAnimationActive,I=o.id;if(s||!f||!f.length)return null;var M=this.state.isAnimationFinished,k=f.length===1,$=mr("recharts-line",h),L=g&&g.allowDataOverflow,N=y&&y.allowDataOverflow,F=L||N,G=mn(I)?this.id:I,J=(i=qn(a))!==null&&i!==void 0?i:{r:3,strokeWidth:2},ee=J.r,ae=ee===void 0?3:ee,pe=J.strokeWidth,ye=pe===void 0?2:pe,we=sMe(a)?a:{},Ce=we.clipDot,Oe=Ce===void 0?!0:Ce,Ee=ae*2+ye;return Pe.createElement(Ei,{className:$},L||N?Pe.createElement("defs",null,Pe.createElement("clipPath",{id:"clipPath-".concat(G)},Pe.createElement("rect",{x:L?P:P-O/2,y:N?x:x-S/2,width:L?O:O*2,height:N?S:S*2})),!Oe&&Pe.createElement("clipPath",{id:"clipPath-dots-".concat(G)},Pe.createElement("rect",{x:P-Ee/2,y:x-Ee/2,width:O+Ee,height:S+Ee}))):null,!k&&this.renderCurve(F,G),this.renderErrorBar(F,G),(k||a)&&this.renderDots(F,Oe,G),(!A||M)&&Ad.renderCallByParent(this.props,f))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:o.curPoints}:i.points!==o.curPoints?{curPoints:i.points}:null}},{key:"repeat",value:function(i,o){for(var s=i.length%2!==0?[].concat(Fp(i),[0]):i,a=[],f=0;f<o;++f)a=[].concat(Fp(a),Fp(s));return a}},{key:"renderDotItem",value:function(i,o){var s;if(Pe.isValidElement(i))s=Pe.cloneElement(i,o);else if(yn(i))s=i(o);else{var a=mr("recharts-line-dot",i?i.className:"");s=Pe.createElement(UL,I0({},o,{className:a}))}return s}}]),n}(V.PureComponent);Gl(xg,"displayName","Line");Gl(xg,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Jc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Gl(xg,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,s=e.dataKey,a=e.bandSize,f=e.displayedData,h=e.offset,g=t.layout,y=f.map(function(x,P){var O=es(x,s);return g==="horizontal"?{x:O6({axis:n,ticks:i,bandSize:a,entry:x,index:P}),y:mn(O)?null:r.scale(O),value:O,payload:x}:{x:mn(O)?null:n.scale(O),y:O6({axis:r,ticks:o,bandSize:a,entry:x,index:P}),value:O,payload:x}});return ja({points:y,layout:g},h)});var BE=function(){return null};BE.displayName="XAxis";BE.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var FE=function(){return null};FE.displayName="YAxis";FE.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var Wqe=Yd,qqe=kx,Gqe=vE;function Hqe(e){return function(t,n,r){var i=Object(t);if(!qqe(t)){var o=Wqe(n);t=Gqe(t),n=function(a){return o(i[a],a,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:void 0}}var Yqe=Hqe,Kqe=JK;function Zqe(e){var t=Kqe(e),n=t%1;return t===t?n?t-n:t:0}var Xqe=Zqe,Jqe=JH,Qqe=Yd,eGe=Xqe,tGe=Math.max;function nGe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:eGe(n);return i<0&&(i=tGe(r+i,0)),Jqe(e,Qqe(t),i)}var rGe=nGe,iGe=Yqe,oGe=rGe,aGe=iGe(oGe),sGe=aGe;const lGe=tr(sGe);var cGe="Invariant failed";function uGe(e,t){if(!e)throw new Error(cGe)}function uZ(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle,s=vo(t,n,r,i),a=vo(t,n,r,o);return{points:[s,a],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function IU(e){return pGe(e)||hGe(e)||fGe(e)||dGe()}function dGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fGe(e,t){if(e){if(typeof e=="string")return hI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hI(e,t)}}function hGe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pGe(e){if(Array.isArray(e))return hI(e)}function hI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pI=function(t,n,r,i,o){var s=Rs(t,WL),a=Rs(t,$x),f=[].concat(IU(s),IU(a)),h=Rs(t,Rx),g="".concat(i,"Id"),y=i[0],x=n;if(f.length&&(x=f.reduce(function(S,A){if(A.props[g]===r&&oc(A.props,"extendDomain")&&Et(A.props[y])){var I=A.props[y];return[Math.min(S[0],I),Math.max(S[1],I)]}return S},x)),h.length){var P="".concat(y,"1"),O="".concat(y,"2");x=h.reduce(function(S,A){if(A.props[g]===r&&oc(A.props,"extendDomain")&&Et(A.props[P])&&Et(A.props[O])){var I=A.props[P],M=A.props[O];return[Math.min(S[0],I,M),Math.max(S[1],I,M)]}return S},x)}return o&&o.length&&(x=o.reduce(function(S,A){return Et(A)?[Math.min(S[0],A),Math.max(S[1],A)]:S},x)),x},dZ={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,g){this.fn=f,this.context=h,this.once=g||!1}function o(f,h,g,y,x){if(typeof g!="function")throw new TypeError("The listener must be a function");var P=new i(g,y||f,x),O=n?n+h:h;return f._events[O]?f._events[O].fn?f._events[O]=[f._events[O],P]:f._events[O].push(P):(f._events[O]=P,f._eventsCount++),f}function s(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var h=[],g,y;if(this._eventsCount===0)return h;for(y in g=this._events)t.call(g,y)&&h.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(g)):h},a.prototype.listeners=function(h){var g=n?n+h:h,y=this._events[g];if(!y)return[];if(y.fn)return[y.fn];for(var x=0,P=y.length,O=new Array(P);x<P;x++)O[x]=y[x].fn;return O},a.prototype.listenerCount=function(h){var g=n?n+h:h,y=this._events[g];return y?y.fn?1:y.length:0},a.prototype.emit=function(h,g,y,x,P,O){var S=n?n+h:h;if(!this._events[S])return!1;var A=this._events[S],I=arguments.length,M,k;if(A.fn){switch(A.once&&this.removeListener(h,A.fn,void 0,!0),I){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,g),!0;case 3:return A.fn.call(A.context,g,y),!0;case 4:return A.fn.call(A.context,g,y,x),!0;case 5:return A.fn.call(A.context,g,y,x,P),!0;case 6:return A.fn.call(A.context,g,y,x,P,O),!0}for(k=1,M=new Array(I-1);k<I;k++)M[k-1]=arguments[k];A.fn.apply(A.context,M)}else{var $=A.length,L;for(k=0;k<$;k++)switch(A[k].once&&this.removeListener(h,A[k].fn,void 0,!0),I){case 1:A[k].fn.call(A[k].context);break;case 2:A[k].fn.call(A[k].context,g);break;case 3:A[k].fn.call(A[k].context,g,y);break;case 4:A[k].fn.call(A[k].context,g,y,x);break;default:if(!M)for(L=1,M=new Array(I-1);L<I;L++)M[L-1]=arguments[L];A[k].fn.apply(A[k].context,M)}}return!0},a.prototype.on=function(h,g,y){return o(this,h,g,y,!1)},a.prototype.once=function(h,g,y){return o(this,h,g,y,!0)},a.prototype.removeListener=function(h,g,y,x){var P=n?n+h:h;if(!this._events[P])return this;if(!g)return s(this,P),this;var O=this._events[P];if(O.fn)O.fn===g&&(!x||O.once)&&(!y||O.context===y)&&s(this,P);else{for(var S=0,A=[],I=O.length;S<I;S++)(O[S].fn!==g||x&&!O[S].once||y&&O[S].context!==y)&&A.push(O[S]);A.length?this._events[P]=A.length===1?A[0]:A:s(this,P)}return this},a.prototype.removeAllListeners=function(h){var g;return h?(g=n?n+h:h,this._events[g]&&s(this,g)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(dZ);var mGe=dZ.exports;const gGe=tr(mGe);var Ba=new gGe;Ba.setMaxListeners&&Ba.setMaxListeners(10);var uO="recharts.syncMouseEvents";function Xb(e){"@babel/helpers - typeof";return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xb(e)}function yGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fZ(r.key),r)}}function vGe(e,t,n){return t&&$U(e.prototype,t),n&&$U(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dO(e,t,n){return t=fZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fZ(e){var t=bGe(e,"string");return Xb(t)==="symbol"?t:String(t)}function bGe(e,t){if(Xb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xGe=function(){function e(){yGe(this,e),dO(this,"activeIndex",0),dO(this,"coordinateList",[]),dO(this,"layout","horizontal")}return vGe(e,[{key:"setDetails",value:function(n){var r=n.coordinateList,i=r===void 0?[]:r,o=n.container,s=o===void 0?null:o,a=n.layout,f=a===void 0?null:a,h=n.offset,g=h===void 0?null:h,y=n.mouseHandlerCallback,x=y===void 0?null:y;this.coordinateList=i??this.coordinateList,this.container=s??this.container,this.layout=f??this.layout,this.offset=g??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"spoofMouse",value:function(){if(this.layout==="horizontal"&&this.coordinateList.length!==0){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,o=n.height,s=this.coordinateList[this.activeIndex].coordinate,a=r+s,f=i+this.offset.top+o/2;this.mouseHandlerCallback({pageX:a,pageY:f})}}}]),e}();function _Ge(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&Et(r)&&Et(i))return!0}return!1}function wGe(e){if(typeof requestAnimationFrame=="function"){var t=requestAnimationFrame(e);return function(){return cancelAnimationFrame(t)}}if(typeof setImmediate=="function"){var n=setImmediate(e);return function(){return clearImmediate(n)}}var r=setTimeout(e);return function(){return clearTimeout(r)}}function SGe(e,t,n){var r,i,o,s;if(e==="horizontal")r=t.x,o=r,i=n.top,s=n.top+n.height;else if(e==="vertical")i=t.y,s=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var a=t.cx,f=t.cy,h=t.innerRadius,g=t.outerRadius,y=t.angle,x=vo(a,f,h,y),P=vo(a,f,g,y);r=x.x,i=x.y,o=P.x,s=P.y}else return uZ(t);return[{x:r,y:i},{x:o,y:s}]}function CGe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}var EGe=["item"],TGe=["children","className","width","height","style","compact","title","desc"];function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}function RU(e,t){return OGe(e)||PGe(e,t)||hZ(e,t)||kGe()}function kGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PGe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function OGe(e){if(Array.isArray(e))return e}function mm(){return mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mm.apply(this,arguments)}function DU(e,t){if(e==null)return{};var n=AGe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function AGe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function MGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pZ(r.key),r)}}function IGe(e,t,n){return t&&LU(e.prototype,t),n&&LU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Ge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mI(e,t)}function mI(e,t){return mI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mI(e,t)}function RGe(e){var t=LGe();return function(){var r=i2(e),i;if(t){var o=i2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return DGe(this,i)}}function DGe(e,t){if(t&&(_g(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Un(e)}function Un(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LGe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function i2(e){return i2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},i2(e)}function wg(e){return jGe(e)||zGe(e)||hZ(e)||NGe()}function NGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hZ(e,t){if(e){if(typeof e=="string")return gI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gI(e,t)}}function zGe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jGe(e){if(Array.isArray(e))return gI(e)}function gI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NU(Object(n),!0).forEach(function(r){cn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cn(e,t,n){return t=pZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pZ(e){var t=BGe(e,"string");return _g(t)==="symbol"?t:String(t)}function BGe(e,t){if(_g(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_g(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FGe={xAxis:["bottom","top"],yAxis:["left","right"]},mZ={x:0,y:0},UGe=Number.isFinite?Number.isFinite:isFinite,VGe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},WGe=function(t,n,r,i){var o=n.find(function(g){return g&&g.index===r});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var s=o.coordinate,a=i.radius;return et(et(et({},i),vo(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var f=o.coordinate,h=i.angle;return et(et(et({},i),vo(i.cx,i.cy,f,h)),{},{angle:h,radius:f})}return mZ},UE=function(t,n,r){var i=n.graphicalItems,o=n.dataStartIndex,s=n.dataEndIndex,a=(i||[]).reduce(function(f,h){var g=h.props.data;return g&&g.length?[].concat(wg(f),wg(g)):f},[]);return a&&a.length>0?a:r&&r.props&&r.props.data&&r.props.data.length>0?r.props.data:t&&t.length&&Et(o)&&Et(s)?t.slice(o,s+1):[]};function gZ(e){return e==="number"?[0,"auto"]:void 0}var yZ=function(t,n,r,i){var o=t.graphicalItems,s=t.tooltipAxis,a=UE(n,t);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(f,h){var g=h.props.hide;if(g)return f;var y=h.props.data,x=y===void 0?n:y,P;if(s.dataKey&&!s.allowDuplicatedCategory){var O=x===void 0?a:x;P=dS(O,s.dataKey,i)}else P=x&&x[r]||a[r];return P?[].concat(wg(f),[GK(h,P)]):f},[])},zU=function(t,n,r,i){var o=i||{x:t.chartX,y:t.chartY},s=VGe(o,r),a=t.orderedTooltipTicks,f=t.tooltipAxis,h=t.tooltipTicks,g=M8e(s,a,h,f);if(g>=0&&h){var y=h[g]&&h[g].value,x=yZ(t,n,g,y),P=WGe(r,a,g,o);return{activeTooltipIndex:g,activeLabel:y,activePayload:x,activeCoordinate:P}}return null},qGe=function(t,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,g=t.layout,y=t.children,x=t.stackOffset,P=WK(g,o),O=r.reduce(function(S,A){var I,M=A.props,k=M.type,$=M.dataKey,L=M.allowDataOverflow,N=M.allowDuplicatedCategory,F=M.scale,G=M.ticks,J=M.includeHidden,ee=A.props[s];if(S[ee])return S;var ae=UE(t.data,{graphicalItems:i.filter(function(Je){return Je.props[s]===ee}),dataStartIndex:f,dataEndIndex:h}),pe=ae.length,ye,we,Ce;_Ge(A.props.domain,L,k)&&(ye=HM(A.props.domain,null,L),P&&(k==="number"||F!=="auto")&&(Ce=A0(ae,$,"category")));var Oe=gZ(k);if(!ye||ye.length===0){var Ee,Se=(Ee=A.props.domain)!==null&&Ee!==void 0?Ee:Oe;if($){if(ye=A0(ae,$,k),k==="category"&&P){var De=JAe(ye);N&&De?(we=ye,ye=KS(0,pe)):N||(ye=$6(Se,ye,A).reduce(function(Je,it){return Je.indexOf(it)>=0?Je:[].concat(wg(Je),[it])},[]))}else if(k==="category")N?ye=ye.filter(function(Je){return Je!==""&&!mn(Je)}):ye=$6(Se,ye,A).reduce(function(Je,it){return Je.indexOf(it)>=0||it===""||mn(it)?Je:[].concat(wg(Je),[it])},[]);else if(k==="number"){var We=L8e(ae,i.filter(function(Je){return Je.props[s]===ee&&(J||!Je.props.hide)}),$,o,g);We&&(ye=We)}P&&(k==="number"||F!=="auto")&&(Ce=A0(ae,$,"category"))}else P?ye=KS(0,pe):a&&a[ee]&&a[ee].hasStack&&k==="number"?ye=x==="expand"?[0,1]:qK(a[ee].stackGroups,f,h):ye=VK(ae,i.filter(function(Je){return Je.props[s]===ee&&(J||!Je.props.hide)}),k,g,!0);if(k==="number")ye=pI(y,ye,ee,o,G),Se&&(ye=HM(Se,ye,L));else if(k==="category"&&Se){var dt=Se,ht=ye.every(function(Je){return dt.indexOf(Je)>=0});ht&&(ye=dt)}}return et(et({},S),{},cn({},ee,et(et({},A.props),{},{axisType:o,domain:ye,categoricalDomain:Ce,duplicateDomain:we,originalDomain:(I=A.props.domain)!==null&&I!==void 0?I:Oe,isCategorical:P,layout:g})))},{});return O},GGe=function(t,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,g=t.layout,y=t.children,x=UE(t.data,{graphicalItems:r,dataStartIndex:f,dataEndIndex:h}),P=x.length,O=WK(g,o),S=-1,A=r.reduce(function(I,M){var k=M.props[s],$=gZ("number");if(!I[k]){S++;var L;return O?L=KS(0,P):a&&a[k]&&a[k].hasStack?(L=qK(a[k].stackGroups,f,h),L=pI(y,L,k,o)):(L=HM($,VK(x,r.filter(function(N){return N.props[s]===k&&!N.props.hide}),"number",g),i.defaultProps.allowDataOverflow),L=pI(y,L,k,o)),et(et({},I),{},cn({},k,et(et({axisType:o},i.defaultProps),{},{hide:!0,orientation:$s(FGe,"".concat(o,".").concat(S%2),null),domain:L,originalDomain:$,isCategorical:O,layout:g})))}return I},{});return A},HGe=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,g=t.children,y="".concat(i,"Id"),x=Rs(g,o),P={};return x&&x.length?P=qGe(t,{axes:x,graphicalItems:s,axisType:i,axisIdKey:y,stackGroups:a,dataStartIndex:f,dataEndIndex:h}):s&&s.length&&(P=GGe(t,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:y,stackGroups:a,dataStartIndex:f,dataEndIndex:h})),P},YGe=function(t){var n=Qu(t),r=ed(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:gL(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:WS(n,r)}},jU=function(t){var n,r,i=t.children,o=t.defaultShowTooltip,s=Gc(i,Wb),a=s&&s.props&&s.props.startIndex||0,f=(s==null||(n=s.props)===null||n===void 0?void 0:n.endIndex)!==void 0?s==null||(r=s.props)===null||r===void 0?void 0:r.endIndex:t.data&&t.data.length-1||0;return{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:f,activeTooltipIndex:-1,isTooltipActive:mn(o)?!1:o}},KGe=function(t){return!t||!t.length?!1:t.some(function(n){var r=Pd(n&&n.type);return r&&r.indexOf("Bar")>=0})},BU=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ZGe=function(t,n){var r=t.props,i=t.graphicalItems,o=t.xAxisMap,s=o===void 0?{}:o,a=t.yAxisMap,f=a===void 0?{}:a,h=r.width,g=r.height,y=r.children,x=r.margin||{},P=Gc(y,Wb),O=Gc(y,lg),S=Object.keys(f).reduce(function(k,$){var L=f[$],N=L.orientation;return!L.mirror&&!L.hide?et(et({},k),{},cn({},N,k[N]+L.width)):k},{left:x.left||0,right:x.right||0}),A=Object.keys(s).reduce(function(k,$){var L=s[$],N=L.orientation;return!L.mirror&&!L.hide?et(et({},k),{},cn({},N,$s(k,"".concat(N))+L.height)):k},{top:x.top||0,bottom:x.bottom||0}),I=et(et({},A),S),M=I.bottom;return P&&(I.bottom+=P.props.height||Wb.defaultProps.height),O&&n&&(I=R8e(I,i,r,n)),et(et({brushBottom:M},I),{},{width:h-I.left-I.right,height:g-I.top-I.bottom})},XGe=function(t){var n,r=t.chartName,i=t.GraphicalChild,o=t.defaultTooltipEventType,s=o===void 0?"axis":o,a=t.validateTooltipEventTypes,f=a===void 0?["axis"]:a,h=t.axisComponents,g=t.legendContent,y=t.formatAxisMap,x=t.defaultProps,P=function(A,I){var M=I.graphicalItems,k=I.stackGroups,$=I.offset,L=I.updateId,N=I.dataStartIndex,F=I.dataEndIndex,G=A.barSize,J=A.layout,ee=A.barGap,ae=A.barCategoryGap,pe=A.maxBarSize,ye=BU(J),we=ye.numericAxisName,Ce=ye.cateAxisName,Oe=KGe(M),Ee=Oe&&I8e({barSize:G,stackGroups:k}),Se=[];return M.forEach(function(De,We){var dt=UE(A.data,{dataStartIndex:N,dataEndIndex:F},De),ht=De.props,Je=ht.dataKey,it=ht.maxBarSize,Ot=De.props["".concat(we,"Id")],at=De.props["".concat(Ce,"Id")],Gt={},Ht=h.reduce(function(Ne,$n){var Hn,Dt=I["".concat($n.axisType,"Map")],Kt=De.props["".concat($n.axisType,"Id")];Dt&&Dt[Kt]||$n.axisType==="zAxis"||uGe(!1);var ir=Dt[Kt];return et(et({},Ne),{},(Hn={},cn(Hn,$n.axisType,ir),cn(Hn,"".concat($n.axisType,"Ticks"),ed(ir)),Hn))},Gt),He=Ht[Ce],vt=Ht["".concat(Ce,"Ticks")],yt=k&&k[Ot]&&k[Ot].hasStack&&Y8e(De,k[Ot].stackGroups),Ve=Pd(De.type).indexOf("Bar")>=0,Ct=WS(He,vt),Tt=[];if(Ve){var qt,vn,Mn=mn(it)?pe:it,_n=(qt=(vn=WS(He,vt,!0))!==null&&vn!==void 0?vn:Mn)!==null&&qt!==void 0?qt:0;Tt=$8e({barGap:ee,barCategoryGap:ae,bandSize:_n!==Ct?_n:Ct,sizeList:Ee[at],maxBarSize:Mn}),_n!==Ct&&(Tt=Tt.map(function(Ne){return et(et({},Ne),{},{position:et(et({},Ne.position),{},{offset:Ne.position.offset-_n/2})})}))}var rr=De&&De.type&&De.type.getComposedData;if(rr){var Tn;Se.push({props:et(et({},rr(et(et({},Ht),{},{displayedData:dt,props:A,dataKey:Je,item:De,bandSize:Ct,barPosition:Tt,offset:$,stackedData:yt,layout:J,dataStartIndex:N,dataEndIndex:F}))),{},(Tn={key:De.key||"item-".concat(We)},cn(Tn,we,Ht[we]),cn(Tn,Ce,Ht[Ce]),cn(Tn,"animationId",L),Tn)),childIndex:uMe(De,A.children),item:De})}}),Se},O=function(A,I){var M=A.props,k=A.dataStartIndex,$=A.dataEndIndex,L=A.updateId;if(!rF({props:M}))return null;var N=M.children,F=M.layout,G=M.stackOffset,J=M.data,ee=M.reverseStackOrder,ae=BU(F),pe=ae.numericAxisName,ye=ae.cateAxisName,we=Rs(N,i),Ce=q8e(J,we,"".concat(pe,"Id"),"".concat(ye,"Id"),G,ee),Oe=h.reduce(function(dt,ht){var Je="".concat(ht.axisType,"Map");return et(et({},dt),{},cn({},Je,HGe(M,et(et({},ht),{},{graphicalItems:we,stackGroups:ht.axisType===pe&&Ce,dataStartIndex:k,dataEndIndex:$}))))},{}),Ee=ZGe(et(et({},Oe),{},{props:M,graphicalItems:we}),I==null?void 0:I.legendBBox);Object.keys(Oe).forEach(function(dt){Oe[dt]=y(M,Oe[dt],Ee,dt.replace("Map",""),r)});var Se=Oe["".concat(ye,"Map")],De=YGe(Se),We=P(M,et(et({},Oe),{},{dataStartIndex:k,dataEndIndex:$,updateId:L,graphicalItems:we,stackGroups:Ce,offset:Ee}));return et(et({formattedGraphicalItems:We,graphicalItems:we,offset:Ee,stackGroups:Ce},De),Oe)};return n=function(S){$Ge(I,S);var A=RGe(I);function I(M){var k;return MGe(this,I),k=A.call(this,M),cn(Un(k),"accessibilityManager",new xGe),cn(Un(k),"clearDefer",function(){k.cancelDefer&&(k.cancelDefer(),k.cancelDefer=null)}),cn(Un(k),"handleLegendBBoxUpdate",function($){if($){var L=k.state,N=L.dataStartIndex,F=L.dataEndIndex,G=L.updateId;k.setState(et({legendBBox:$},O({props:k.props,dataStartIndex:N,dataEndIndex:F,updateId:G},et(et({},k.state),{},{legendBBox:$}))))}}),cn(Un(k),"handleReceiveSyncEvent",function($,L,N){var F=k.props.syncId;F===$&&L!==k.uniqueChartId&&(k.clearDefer(),k.cancelDefer=wGe(k.applySyncEvent.bind(Un(k),N)))}),cn(Un(k),"handleBrushChange",function($){var L=$.startIndex,N=$.endIndex;if(L!==k.state.dataStartIndex||N!==k.state.dataEndIndex){var F=k.state.updateId;k.setState(function(){return et({dataStartIndex:L,dataEndIndex:N},O({props:k.props,dataStartIndex:L,dataEndIndex:N,updateId:F},k.state))}),k.triggerSyncEvent({dataStartIndex:L,dataEndIndex:N})}}),cn(Un(k),"handleMouseEnter",function($){var L=k.props.onMouseEnter,N=k.getMouseInfo($);if(N){var F=et(et({},N),{},{isTooltipActive:!0});k.setState(F),k.triggerSyncEvent(F),yn(L)&&L(F,$)}}),cn(Un(k),"triggeredAfterMouseMove",function($){var L=k.props.onMouseMove,N=k.getMouseInfo($),F=N?et(et({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(F),k.triggerSyncEvent(F),yn(L)&&L(F,$)}),cn(Un(k),"handleItemMouseEnter",function($){k.setState(function(){return{isTooltipActive:!0,activeItem:$,activePayload:$.tooltipPayload,activeCoordinate:$.tooltipPosition||{x:$.cx,y:$.cy}}})}),cn(Un(k),"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),cn(Un(k),"handleMouseMove",function($){$&&yn($.persist)&&$.persist(),k.triggeredAfterMouseMove($)}),cn(Un(k),"handleMouseLeave",function($){var L=k.props.onMouseLeave,N={isTooltipActive:!1};k.setState(N),k.triggerSyncEvent(N),yn(L)&&L(N,$),k.cancelThrottledTriggerAfterMouseMove()}),cn(Un(k),"handleOuterEvent",function($){var L=cMe($),N=$s(k.props,"".concat(L));if(L&&yn(N)){var F;/.*touch.*/i.test(L)?F=k.getMouseInfo($.changedTouches[0]):F=k.getMouseInfo($);var G=N;G(F,$)}}),cn(Un(k),"handleClick",function($){var L=k.props.onClick,N=k.getMouseInfo($);if(N){var F=et(et({},N),{},{isTooltipActive:!0});k.setState(F),k.triggerSyncEvent(F),yn(L)&&L(F,$)}}),cn(Un(k),"handleMouseDown",function($){var L=k.props.onMouseDown;if(yn(L)){var N=k.getMouseInfo($);L(N,$)}}),cn(Un(k),"handleMouseUp",function($){var L=k.props.onMouseUp;if(yn(L)){var N=k.getMouseInfo($);L(N,$)}}),cn(Un(k),"handleTouchMove",function($){$.changedTouches!=null&&$.changedTouches.length>0&&k.handleMouseMove($.changedTouches[0])}),cn(Un(k),"handleTouchStart",function($){$.changedTouches!=null&&$.changedTouches.length>0&&k.handleMouseDown($.changedTouches[0])}),cn(Un(k),"handleTouchEnd",function($){$.changedTouches!=null&&$.changedTouches.length>0&&k.handleMouseUp($.changedTouches[0])}),cn(Un(k),"verticalCoordinatesGenerator",function($,L){var N=$.xAxis,F=$.width,G=$.height,J=$.offset;return k6(sI(et(et(et({},M0.defaultProps),N),{},{ticks:ed(N,!0),viewBox:{x:0,y:0,width:F,height:G}})),J.left,J.left+J.width,L)}),cn(Un(k),"horizontalCoordinatesGenerator",function($,L){var N=$.yAxis,F=$.width,G=$.height,J=$.offset;return k6(sI(et(et(et({},M0.defaultProps),N),{},{ticks:ed(N,!0),viewBox:{x:0,y:0,width:F,height:G}})),J.top,J.top+J.height,L)}),cn(Un(k),"axesTicksGenerator",function($){return ed($,!0)}),cn(Un(k),"renderCursor",function($){var L=k.state,N=L.isTooltipActive,F=L.activeCoordinate,G=L.activePayload,J=L.offset,ee=L.activeTooltipIndex,ae=L.tooltipAxisBandSize,pe=k.getTooltipEventType();if(!$||!$.props.cursor||!N||!F||r!=="ScatterChart"&&pe!=="axis")return null;var ye=k.props.layout,we,Ce=JM;if(r==="ScatterChart")we=F,Ce=mWe;else if(r==="BarChart")we=CGe(ye,F,J,ae),Ce=FL;else if(ye==="radial"){var Oe=uZ(F),Ee=Oe.cx,Se=Oe.cy,De=Oe.radius,We=Oe.startAngle,dt=Oe.endAngle;we={cx:Ee,cy:Se,startAngle:We,endAngle:dt,innerRadius:De,outerRadius:De},Ce=KK}else we={points:SGe(ye,F,J)},Ce=JM;var ht=$.key||"_recharts-cursor",Je=et(et(et(et({stroke:"#ccc",pointerEvents:"none"},J),we),qn($.props.cursor)),{},{payload:G,payloadIndex:ee,key:ht,className:"recharts-tooltip-cursor"});return V.isValidElement($.props.cursor)?V.cloneElement($.props.cursor,Je):V.createElement(Ce,Je)}),cn(Un(k),"renderPolarAxis",function($,L,N){var F=$s($,"type.axisType"),G=$s(k.state,"".concat(F,"Map")),J=G&&G[$.props["".concat(F,"Id")]];return V.cloneElement($,et(et({},J),{},{className:F,key:$.key||"".concat(L,"-").concat(N),ticks:ed(J,!0)}))}),cn(Un(k),"renderXAxis",function($,L,N){var F=k.state.xAxisMap,G=F[$.props.xAxisId];return k.renderAxis(G,$,L,N)}),cn(Un(k),"renderYAxis",function($,L,N){var F=k.state.yAxisMap,G=F[$.props.yAxisId];return k.renderAxis(G,$,L,N)}),cn(Un(k),"renderGrid",function($){var L=k.state,N=L.xAxisMap,F=L.yAxisMap,G=L.offset,J=k.props,ee=J.width,ae=J.height,pe=Qu(N),ye=lGe(F,function(Oe){return tZ(Oe.domain,UGe)}),we=ye||Qu(F),Ce=$.props||{};return V.cloneElement($,{key:$.key||"grid",x:Et(Ce.x)?Ce.x:G.left,y:Et(Ce.y)?Ce.y:G.top,width:Et(Ce.width)?Ce.width:G.width,height:Et(Ce.height)?Ce.height:G.height,xAxis:pe,yAxis:we,offset:G,chartWidth:ee,chartHeight:ae,verticalCoordinatesGenerator:Ce.verticalCoordinatesGenerator||k.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:Ce.horizontalCoordinatesGenerator||k.horizontalCoordinatesGenerator})}),cn(Un(k),"renderPolarGrid",function($){var L=$.props,N=L.radialLines,F=L.polarAngles,G=L.polarRadius,J=k.state,ee=J.radiusAxisMap,ae=J.angleAxisMap,pe=Qu(ee),ye=Qu(ae),we=ye.cx,Ce=ye.cy,Oe=ye.innerRadius,Ee=ye.outerRadius;return V.cloneElement($,{polarAngles:yo(F)?F:ed(ye,!0).map(function(Se){return Se.coordinate}),polarRadius:yo(G)?G:ed(pe,!0).map(function(Se){return Se.coordinate}),cx:we,cy:Ce,innerRadius:Oe,outerRadius:Ee,key:$.key||"polar-grid",radialLines:N})}),cn(Un(k),"renderLegend",function(){var $=k.state.formattedGraphicalItems,L=k.props,N=L.children,F=L.width,G=L.height,J=k.props.margin||{},ee=F-(J.left||0)-(J.right||0),ae=FK({children:N,formattedGraphicalItems:$,legendWidth:ee,legendContent:g});if(!ae)return null;var pe=ae.item,ye=DU(ae,EGe);return V.cloneElement(pe,et(et({},ye),{},{chartWidth:F,chartHeight:G,margin:J,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),cn(Un(k),"renderTooltip",function(){var $=k.props.children,L=Gc($,Yf);if(!L)return null;var N=k.state,F=N.isTooltipActive,G=N.activeCoordinate,J=N.activePayload,ee=N.activeLabel,ae=N.offset;return V.cloneElement(L,{viewBox:et(et({},ae),{},{x:ae.left,y:ae.top}),active:F,label:ee,payload:F?J:[],coordinate:G})}),cn(Un(k),"renderBrush",function($){var L=k.props,N=L.margin,F=L.data,G=k.state,J=G.offset,ee=G.dataStartIndex,ae=G.dataEndIndex,pe=G.updateId;return V.cloneElement($,{key:$.key||"_recharts-brush",onChange:O1(k.handleBrushChange,null,$.props.onChange),data:F,x:Et($.props.x)?$.props.x:J.left,y:Et($.props.y)?$.props.y:J.top+J.height+J.brushBottom-(N.bottom||0),width:Et($.props.width)?$.props.width:J.width,startIndex:ee,endIndex:ae,updateId:"brush-".concat(pe)})}),cn(Un(k),"renderReferenceElement",function($,L,N){if(!$)return null;var F=Un(k),G=F.clipPathId,J=k.state,ee=J.xAxisMap,ae=J.yAxisMap,pe=J.offset,ye=$.props,we=ye.xAxisId,Ce=ye.yAxisId;return V.cloneElement($,{key:$.key||"".concat(L,"-").concat(N),xAxis:ee[we],yAxis:ae[Ce],viewBox:{x:pe.left,y:pe.top,width:pe.width,height:pe.height},clipPathId:G})}),cn(Un(k),"renderActivePoints",function($){var L=$.item,N=$.activePoint,F=$.basePoint,G=$.childIndex,J=$.isRange,ee=[],ae=L.props.key,pe=L.item.props,ye=pe.activeDot,we=pe.dataKey,Ce=et(et({index:G,dataKey:we,cx:N.x,cy:N.y,r:4,fill:BL(L.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value,key:"".concat(ae,"-activePoint-").concat(G)},qn(ye)),fS(ye));return ee.push(I.renderActiveDot(ye,Ce)),F?ee.push(I.renderActiveDot(ye,et(et({},Ce),{},{cx:F.x,cy:F.y,key:"".concat(ae,"-basePoint-").concat(G)}))):J&&ee.push(null),ee}),cn(Un(k),"renderGraphicChild",function($,L,N){var F=k.filterFormatItem($,L,N);if(!F)return null;var G=k.getTooltipEventType(),J=k.state,ee=J.isTooltipActive,ae=J.tooltipAxis,pe=J.activeTooltipIndex,ye=J.activeLabel,we=k.props.children,Ce=Gc(we,Yf),Oe=F.props,Ee=Oe.points,Se=Oe.isRange,De=Oe.baseLine,We=F.item.props,dt=We.activeDot,ht=We.hide,Je=We.activeBar,it=We.activeShape,Ot=!!(!ht&&ee&&Ce&&(dt||Je||it)),at={};G!=="axis"&&Ce&&Ce.props.trigger==="click"?at={onClick:O1(k.handleItemMouseEnter,null,$.props.onCLick)}:G!=="axis"&&(at={onMouseLeave:O1(k.handleItemMouseLeave,null,$.props.onMouseLeave),onMouseEnter:O1(k.handleItemMouseEnter,null,$.props.onMouseEnter)});var Gt=V.cloneElement($,et(et({},F.props),at));function Ht(Tn){return typeof ae.dataKey=="function"?ae.dataKey(Tn.payload):null}if(Ot)if(pe>=0){var He,vt;if(ae.dataKey&&!ae.allowDuplicatedCategory){var yt=typeof ae.dataKey=="function"?Ht:"payload.".concat(ae.dataKey.toString());He=dS(Ee,yt,ye),vt=Se&&De&&dS(De,yt,ye)}else He=Ee==null?void 0:Ee[pe],vt=Se&&De&&De[pe];if(it||Je){var Ve=$.props.activeIndex!==void 0?$.props.activeIndex:pe;return[V.cloneElement($,et(et(et({},F.props),at),{},{activeIndex:Ve})),null,null]}if(!mn(He))return[Gt].concat(wg(k.renderActivePoints({item:F,activePoint:He,basePoint:vt,childIndex:pe,isRange:Se})))}else{var Ct,Tt=(Ct=k.getItemByXY(k.state.activeCoordinate))!==null&&Ct!==void 0?Ct:{graphicalItem:Gt},qt=Tt.graphicalItem,vn=qt.item,Mn=vn===void 0?$:vn,_n=qt.childIndex,rr=et(et(et({},F.props),at),{},{activeIndex:_n});return[V.cloneElement(Mn,rr),null,null]}return Se?[Gt,null,null]:[Gt,null]}),cn(Un(k),"renderCustomized",function($,L,N){return V.cloneElement($,et(et({key:"recharts-customized-".concat(N)},k.props),k.state))}),k.uniqueChartId=mn(M.id)?Tx("recharts"):M.id,k.clipPathId="".concat(k.uniqueChartId,"-clip"),M.throttleDelay&&(k.triggeredAfterMouseMove=FY(k.triggeredAfterMouseMove,M.throttleDelay)),k.state={},k}return IGe(I,[{key:"componentDidMount",value:function(){var k,$;mn(this.props.syncId)||this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:($=this.props.margin.top)!==null&&$!==void 0?$:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.handleMouseMove,layout:this.props.layout})}},{key:"getSnapshotBeforeUpdate",value:function(k,$){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==$.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==k.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==k.margin){var L,N;this.accessibilityManager.setDetails({offset:{left:(L=this.props.margin.left)!==null&&L!==void 0?L:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(k){mn(k.syncId)&&!mn(this.props.syncId)&&this.addListener(),!mn(k.syncId)&&mn(this.props.syncId)&&this.removeListener()}},{key:"componentWillUnmount",value:function(){this.clearDefer(),mn(this.props.syncId)||this.removeListener(),this.cancelThrottledTriggerAfterMouseMove()}},{key:"cancelThrottledTriggerAfterMouseMove",value:function(){typeof this.triggeredAfterMouseMove.cancel=="function"&&this.triggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var k=Gc(this.props.children,Yf);if(k&&ZK(k.props.shared)){var $=k.props.shared?"axis":"item";return f.indexOf($)>=0?$:s}return s}},{key:"getMouseInfo",value:function(k){var $;if(!this.container)return null;var L=rFe(this.container),N=iFe(k,L),F=this.container,G=F==null||($=F.getBoundingClientRect())===null||$===void 0?void 0:$.width,J=F.offsetWidth,ee=G/J||1,ae=this.inRange(N.chartX,N.chartY,ee);if(!ae)return null;var pe=this.state,ye=pe.xAxisMap,we=pe.yAxisMap,Ce=this.getTooltipEventType();if(Ce!=="axis"&&ye&&we){var Oe=Qu(ye).scale,Ee=Qu(we).scale,Se=Oe&&Oe.invert?Oe.invert(N.chartX):null,De=Ee&&Ee.invert?Ee.invert(N.chartY):null;return et(et({},N),{},{xValue:Se,yValue:De})}var We=zU(this.state,this.props.data,this.props.layout,ae);return We?et(et({},N),We):null}},{key:"inRange",value:function(k,$){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,F=k/L,G=$/L;if(N==="horizontal"||N==="vertical"){var J=this.state.offset,ee=F>=J.left&&F<=J.left+J.width&&G>=J.top&&G<=J.top+J.height;return ee?{x:F,y:G}:null}var ae=this.state,pe=ae.angleAxisMap,ye=ae.radiusAxisMap;if(pe&&ye){var we=Qu(pe);return L6({x:F,y:G},we)}return null}},{key:"parseEventsOfWrapper",value:function(){var k=this.props.children,$=this.getTooltipEventType(),L=Gc(k,Yf),N={};L&&$==="axis"&&(L.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var F=fS(this.props,this.handleOuterEvent);return et(et({},F),N)}},{key:"addListener",value:function(){Ba.on(uO,this.handleReceiveSyncEvent),Ba.setMaxListeners&&Ba._maxListeners&&Ba.setMaxListeners(Ba._maxListeners+1)}},{key:"removeListener",value:function(){Ba.removeListener(uO,this.handleReceiveSyncEvent),Ba.setMaxListeners&&Ba._maxListeners&&Ba.setMaxListeners(Ba._maxListeners-1)}},{key:"triggerSyncEvent",value:function(k){var $=this.props.syncId;mn($)||Ba.emit(uO,$,this.uniqueChartId,k)}},{key:"applySyncEvent",value:function(k){var $=this.props,L=$.layout,N=$.syncMethod,F=this.state.updateId,G=k.dataStartIndex,J=k.dataEndIndex;if(!mn(k.dataStartIndex)||!mn(k.dataEndIndex))this.setState(et({dataStartIndex:G,dataEndIndex:J},O({props:this.props,dataStartIndex:G,dataEndIndex:J,updateId:F},this.state)));else if(mn(k.activeTooltipIndex))this.setState(k);else{var ee=k.chartX,ae=k.chartY,pe=k.activeTooltipIndex,ye=this.state,we=ye.offset,Ce=ye.tooltipTicks;if(!we)return;if(typeof N=="function")pe=N(Ce,k);else if(N==="value"){pe=-1;for(var Oe=0;Oe<Ce.length;Oe++)if(Ce[Oe].value===k.activeLabel){pe=Oe;break}}var Ee=et(et({},we),{},{x:we.left,y:we.top}),Se=Math.min(ee,Ee.x+Ee.width),De=Math.min(ae,Ee.y+Ee.height),We=Ce[pe]&&Ce[pe].value,dt=yZ(this.state,this.props.data,pe),ht=Ce[pe]?{x:L==="horizontal"?Ce[pe].coordinate:Se,y:L==="horizontal"?De:Ce[pe].coordinate}:mZ;this.setState(et(et({},k),{},{activeLabel:We,activeCoordinate:ht,activePayload:dt,activeTooltipIndex:pe}))}}},{key:"filterFormatItem",value:function(k,$,L){for(var N=this.state.formattedGraphicalItems,F=0,G=N.length;F<G;F++){var J=N[F];if(J.item===k||J.props.key===k.key||$===Pd(J.item.type)&&L===J.childIndex)return J}return null}},{key:"renderAxis",value:function(k,$,L,N){var F=this.props,G=F.width,J=F.height;return Pe.createElement(M0,mm({},k,{className:mr("recharts-".concat(k.axisType," ").concat(k.axisType),k.className),key:$.key||"".concat(L,"-").concat(N),viewBox:{x:0,y:0,width:G,height:J},ticksGenerator:this.axesTicksGenerator}))}},{key:"renderClipPath",value:function(){var k=this.clipPathId,$=this.state.offset,L=$.left,N=$.top,F=$.height,G=$.width;return Pe.createElement("defs",null,Pe.createElement("clipPath",{id:k},Pe.createElement("rect",{x:L,y:N,height:F,width:G})))}},{key:"getXScales",value:function(){var k=this.state.xAxisMap;return k?Object.entries(k).reduce(function($,L){var N=RU(L,2),F=N[0],G=N[1];return et(et({},$),{},cn({},F,G.scale))},{}):null}},{key:"getYScales",value:function(){var k=this.state.yAxisMap;return k?Object.entries(k).reduce(function($,L){var N=RU(L,2),F=N[0],G=N[1];return et(et({},$),{},cn({},F,G.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(k){var $;return($=this.state.xAxisMap)===null||$===void 0||($=$[k])===null||$===void 0?void 0:$.scale}},{key:"getYScaleByAxisId",value:function(k){var $;return($=this.state.yAxisMap)===null||$===void 0||($=$[k])===null||$===void 0?void 0:$.scale}},{key:"getItemByXY",value:function(k){var $=this.state,L=$.formattedGraphicalItems,N=$.activeItem;if(L&&L.length)for(var F=0,G=L.length;F<G;F++){var J=L[F],ee=J.props,ae=J.item,pe=Pd(ae.type);if(pe==="Bar"){var ye=(ee.data||[]).find(function(Ee){return oWe(k,Ee)});if(ye)return{graphicalItem:J,payload:ye}}else if(pe==="RadialBar"){var we=(ee.data||[]).find(function(Ee){return L6(k,Ee)});if(we)return{graphicalItem:J,payload:we}}else if(LE(J)||NE(J)||Ub(J)){var Ce=a9e({graphicalItem:J,activeTooltipItem:N,itemData:ae.props.data}),Oe=ae.props.activeIndex===void 0?Ce:ae.props.activeIndex;return{graphicalItem:et(et({},J),{},{childIndex:Oe}),payload:Ub(J)?ae.props.data[Ce]:J.props.data[Ce]}}}return null}},{key:"render",value:function(){var k=this;if(!rF(this))return null;var $=this.props,L=$.children,N=$.className,F=$.width,G=$.height,J=$.style,ee=$.compact,ae=$.title,pe=$.desc,ye=DU($,TGe),we=qn(ye),Ce={CartesianGrid:{handler:this.renderGrid,once:!0},ReferenceArea:{handler:this.renderReferenceElement},ReferenceLine:{handler:this.renderReferenceElement},ReferenceDot:{handler:this.renderReferenceElement},XAxis:{handler:this.renderXAxis},YAxis:{handler:this.renderYAxis},Brush:{handler:this.renderBrush,once:!0},Bar:{handler:this.renderGraphicChild},Line:{handler:this.renderGraphicChild},Area:{handler:this.renderGraphicChild},Radar:{handler:this.renderGraphicChild},RadialBar:{handler:this.renderGraphicChild},Scatter:{handler:this.renderGraphicChild},Pie:{handler:this.renderGraphicChild},Funnel:{handler:this.renderGraphicChild},Tooltip:{handler:this.renderCursor,once:!0},PolarGrid:{handler:this.renderPolarGrid,once:!0},PolarAngleAxis:{handler:this.renderPolarAxis},PolarRadiusAxis:{handler:this.renderPolarAxis},Customized:{handler:this.renderCustomized}};if(ee)return Pe.createElement(rM,mm({},we,{width:F,height:G,title:ae,desc:pe}),this.renderClipPath(),oF(L,Ce));if(this.props.accessibilityLayer){var Oe,Ee;we.tabIndex=(Oe=0)!==null&&Oe!==void 0?Oe:this.props.tabIndex,we.role=(Ee="img")!==null&&Ee!==void 0?Ee:this.props.role,we.onKeyDown=function(De){k.accessibilityManager.keyboardEvent(De)},we.onFocus=function(){k.accessibilityManager.focus()}}var Se=this.parseEventsOfWrapper();return Pe.createElement("div",mm({className:mr("recharts-wrapper",N),style:et({position:"relative",cursor:"default",width:F,height:G},J)},Se,{ref:function(We){k.container=We},role:"region"}),Pe.createElement(rM,mm({},we,{width:F,height:G,title:ae,desc:pe}),this.renderClipPath(),oF(L,Ce)),this.renderLegend(),this.renderTooltip())}}]),I}(V.Component),cn(n,"displayName",r),cn(n,"defaultProps",et({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},x)),cn(n,"getDerivedStateFromProps",function(S,A){var I=S.data,M=S.children,k=S.width,$=S.height,L=S.layout,N=S.stackOffset,F=S.margin;if(mn(A.updateId)){var G=jU(S);return et(et(et({},G),{},{updateId:0},O(et(et({props:S},G),{},{updateId:0}),A)),{},{prevData:I,prevWidth:k,prevHeight:$,prevLayout:L,prevStackOffset:N,prevMargin:F,prevChildren:M})}if(I!==A.prevData||k!==A.prevWidth||$!==A.prevHeight||L!==A.prevLayout||N!==A.prevStackOffset||!$m(F,A.prevMargin)){var J=jU(S),ee={chartX:A.chartX,chartY:A.chartY,isTooltipActive:A.isTooltipActive},ae=et(et({},zU(A,I,L)),{},{updateId:A.updateId+1}),pe=et(et(et({},J),ee),ae);return et(et(et({},pe),O(et({props:S},pe),A)),{},{prevData:I,prevWidth:k,prevHeight:$,prevLayout:L,prevStackOffset:N,prevMargin:F,prevChildren:M})}if(!DH(M,A.prevChildren)){var ye=!mn(I),we=ye?A.updateId:A.updateId+1;return et(et({updateId:we},O(et(et({props:S},A),{},{updateId:we}),A)),{},{prevChildren:M})}return null}),cn(n,"renderActiveDot",function(S,A){var I;return V.isValidElement(S)?I=V.cloneElement(S,A):yn(S)?I=S(A):I=Pe.createElement(UL,A),Pe.createElement(Ei,{className:"recharts-active-dot",key:A.key},I)}),n},JGe=XGe({chartName:"LineChart",GraphicalChild:xg,axisComponents:[{axisType:"xAxis",AxisComp:BE},{axisType:"yAxis",AxisComp:FE}],formatAxisMap:A7e});const QGe=Xr(e=>({chart:{flexGrow:1,overflow:"hidden"},content:{height:"100%",flexGrow:1,alignItems:"stretch",display:"flex",flexDirection:"column",overflowY:"auto"}})),eHe=()=>{const e=QGe(),[t,n]=V.useState([]),[r,i]=V.useState([]),[o,s]=V.useState([]),a=Pe.createRef();a.current=o;const[f,h]=V.useState(-1),g=Ln(k=>k.mission.route),y=t.map(k=>k.elevation),x=t.map(k=>k.uavheight),P=Math.min(...y),O=Math.max(...x),S=O-P,A=k=>{let $=[];return k.length>0&&k.forEach(L=>{let N=[];L.wp.forEach(F=>{N.push([F.pos[0],F.pos[1],F.pos[2]])}),$.push(N)}),$};async function I(){if(console.log("--------------   LLAMANDO A ELEVATION"),g.length>0){let k=JSON.parse(JSON.stringify(g)),$=k.map(F=>F.id),L=A(k);i(L);let N;try{const F=await fetch("/api/map/elevation",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({routes:L})});if(F.ok)N=await F.json();else throw new Error(F.status)}catch(F){console.log(F)}if(N.status){let F=N.elevation.map((G,J)=>({name:"RT"+J,data:G,color:mh.colors_devices[$[J]]}));h(-1),s(F)}else console.log("no get elevation of point")}}V.useEffect(()=>{console.log("mission Elevation")},[]),V.useEffect(()=>{let k=!1,$=A(g);if(console.log("update elevation"),$.length>r.length)console.log("ruta mayour"),$[+$.length+-1].length>0?k=!0:i($);else if($.length<r.length){console.log(" se ha eliminado  una ruta");let L=[],N=[];r.map((F,G)=>{let J=!1;$.map(ee=>{JSON.stringify(F)===JSON.stringify(ee)&&(J=!0)}),J&&(L.push(F),N.push(a.current[G]))}),s(N),i(L)}else{console.log("ruta de la misma longitud");for(let L=0;L<$.length;L=L+1)if(JSON.stringify($[L])!=JSON.stringify(r[L])){console.log("latitude longitude no equals");let N=r[L].map(G=>[G[0],G[1]]),F=$[L].map(G=>[G[0],G[1]]);if(JSON.stringify(N)===JSON.stringify(F)){for(let G=0;G<r[L].length;G=G+1)if(r[L][G][2]!==$[L][G][2]){console.log("diferent elevation");let J=JSON.parse(JSON.stringify(a.current));for(let ee=0;ee<J[L].data.length;ee=ee+1)J[L].data[ee].hasOwnProperty("wp")&&J[L].data[ee].wp==G&&(console.log("encontrado elev profile wp"),J[L].data[ee].uavheight=+J[L].data[ee].uavheight-+J[L].data[ee].uav+ +$[L][G][2],J[L].data[ee].uav=+$[L][G][2]);console.log(J),s(J)}i($);break}else{console.log("nuevas posiciones"),k=!0;break}}}k&&I()},[g]),V.useEffect(()=>{f==-1?n(o):n([o[f]])},[f,o]);const M=({active:k,payload:$,label:L})=>{if(k&&$&&$.length){let N=[$[0].payload];return N[0].color=$[0].color,$.map(F=>{let G=!0;N.map(J=>{F.payload.rt==J.rt&&(G=!1)}),F.payload.color=F.color,G&&N.push(F.payload)}),N[0].uavheight?z.jsxs("div",{style:{background:"#FFFFFF"},children:[z.jsx("div",{children:`distancia ${L} m `}),N.map(F=>z.jsxs(V.Fragment,{children:[z.jsx("div",{style:{color:F.color,fontSize:16},children:`Ruta ${F.rt} - wp ${F.wp}`},`tr${F.rt}`),z.jsx("div",{style:{color:F.color,fontSize:16},children:`Terreno:${F.elevation} - UAV: ${F.uavheight}`},`dr${F.rt}`)]},"s-"+F.rt))]}):z.jsxs("div",{style:{background:"#FFFFFF"},children:[z.jsx("div",{children:`distancia ${L} m `}),N.map(F=>z.jsxs(V.Fragment,{children:[z.jsx("div",{style:{color:F.color,fontSize:16},children:`Ruta ${F.rt}`},`tr${F.rt}`),z.jsx("div",{style:{color:F.color,fontSize:16},children:`Terreno:${F.elevation} `},`dr${F.rt}`)]},"s-"+F.rt))]})}return null};return z.jsxs("div",{className:e.content,children:[z.jsxs(Uc,{style:{display:"flex",margin:"10px",alignItems:"center"},children:[z.jsx("a",{style:{marginInline:"20px"},children:"Elevation Profile"}),z.jsxs(cx,{children:[z.jsx(ux,{id:"demo-simple-select-label",children:"Route"}),z.jsxs(dx,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:f,label:"Elevation Profile",onChange:k=>h(k.target.value),children:[z.jsx(ks,{value:-1,children:"All Routes"}),o.map((k,$,L)=>z.jsx(ks,{value:$,children:`Route${$}`},`sel${$}`))]})]})]}),t.length>0&&z.jsx("div",{className:e.chart,children:z.jsx(VBe,{width:"100%",height:"100%",children:z.jsxs(JGe,{data:t,margin:{top:10,right:40,left:0,bottom:10},children:[z.jsx(BE,{dataKey:"length",type:"number",domain:["dataMin","dataMax"]}),z.jsx(FE,{type:"number",tickFormatter:k=>k.toFixed(2),domain:[P-S/5,O+S/5]}),z.jsx(HL,{strokeDasharray:"3 3"}),z.jsx(Yf,{content:z.jsx(M,{})}),z.jsx(lg,{}),t.map((k,$,L)=>z.jsxs(V.Fragment,{children:[z.jsx(xg,{type:"monotone",dataKey:"elevation",data:k.data,name:k.name,stroke:k.color,activeDot:{r:8,onClick:(N,F)=>{console.log(F);let G=`https://www.google.com/maps?q=${F.payload.lat},${F.payload.lng}`;window.open(G,"_blank")}}},k.name),z.jsx(xg,{connectNulls:!0,dataKey:"uavheight",data:k.data,name:k.name+"-v",stroke:k.color,strokeDasharray:"5 5",activeDot:{onClick:(N,F)=>{console.log(F)}}},k.name+"-v")]},"s-"+$))]})})})]})},tHe=Xr(e=>({card:{pointerEvents:"auto",width:"500px",height:"180px"},media:{height:e.dimensions.popupImageHeight,display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},content:{paddingTop:"15px",paddingBottom:e.spacing(1)},negative:{color:e.palette.colors.negative},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},table:{"& .MuiTableCell-sizeSmall":{paddingLeft:0,paddingRight:0}},cell:{borderBottom:"none"},actions:{justifyContent:"center"},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"50%",top:"40%",transform:"translateX(-50%)"}})),nHe=({SetOpenSave:e,OpenSave:t})=>{const n=tHe(),r=Ln(g=>g.mission),[i,o]=V.useState("yaml"),[s,a]=V.useState(r.name),f=()=>{let g,y="text/plain";if(i=="yaml"){let S={version:"3"};S.name=r.name,S.route=r.route,g=$q.stringify(S)}if(i=="kml"){y="application/xml";let S=`<?xml version="1.0" encoding="UTF-8"?>
`;S+=`<kml>
`,S+=`<Document>
`,r.route.map((A,I,M)=>{S+=`<Style id="sn_ylw-pushpin1${I}">
`,S+=`<LineStyle>
`,S+=`<color>ff${mh.colors_devices[I].substr(-6)}</color>
`,S+=`<width>3</width>
`,S+=`</LineStyle>
`,S+=`</Style>
`}),r.route.map((A,I)=>{S+=`<Placemark>
`,S+=`<name>${A.uav}-${A.name}</name>
`,S+=`<styleUrl>#sn_ylw-pushpin1${I}</styleUrl>
`,S+=`<open>1</open>
`,S+=`<LineString>
`;let M="";A.wp.map(k=>{M=M+k.pos[1]+","+k.pos[0]+","+k.pos[2]+" "}),S+=`<tessellate>1</tessellate>
`,S+=`<altitudeMode>relativeToGround</altitudeMode>
`,S+=`<coordinates>
`,S+=M+`
`,S+=`</coordinates>
`,S+=`</LineString>
`,S+=`</Placemark>
`}),S+=`</Document>
`,S+="</kml>",g=S}if(i=="plan"){y="application/json";let S={fileType:"Plan"};S.geoFence={circles:[],polygons:[],version:2},S.groundStation="QGroundControl",S.mission={},S.mission.cruiseSpeed=r.route[0].attributes.idle_vel,S.mission.firmwareType=12,S.mission.globalPlanAltitudeMode=0,S.mission.hoverSpeed=5,S.mission.items=[],r.route.map((A,I,M)=>{A.wp.map((k,$,L)=>{let N={AMSLAltAboveTerrain:null,Altitude:k.pos[2],AltitudeMode:1,autoContinue:!0,command:16,doJumpId:1,frame:3,params:[0,0,0,null,k.pos[0],k.pos[1],k.pos[2]],type:"SimpleItem"};$==0&&(N.command=84,S.mission.plannedHomePosition=[k.pos[0],k.pos[1],k.pos[2]]),$+1==L.length&&(N.command=84),S.mission.items.push(N)})}),S.mission.vehicleType=20,S.mission.version=2,S.rallyPoints={points:[],version:2},S.version=1,g=JSON.stringify(S)}if(i=="waypoint"){let S=`QGC WPL 110
`;r.route.map(A=>{A.wp.map((I,M,k)=>{M==0?S+=`${M}	1	0	16	0	0	0	0	${I.pos[0]}	${I.pos[1]}	${I.pos[2]}	1
`:S+=`${M}	0	0	16	0	0	0	0	${I.pos[0]}	${I.pos[1]}	${I.pos[2]}	1
`})}),g=S}const x=new Blob([g],{type:y}),P=URL.createObjectURL(x),O=document.createElement("a");O.download=r.name+"."+i,O.href=P,O.click()},h=()=>{e(!1)};return z.jsx(z.Fragment,{children:z.jsx("div",{className:n.root,children:z.jsxs(yu,{elevation:3,className:n.card,children:[z.jsxs("div",{className:n.header,children:[z.jsx(xn,{variant:"body2",color:"textSecondary",children:"Save Mission"}),z.jsx(Kn,{size:"small",onClick:h,onTouchStart:h,children:z.jsx(lu,{fontSize:"small"})})]}),z.jsxs(lR,{className:n.content,children:[z.jsx(Qi,{required:!0,label:"Name Mission",variant:"standard",value:s||" ",onChange:g=>a(g.target.value),style:{width:"300px",marginRight:"5px"}}),z.jsxs(cx,{children:[z.jsx(ux,{children:"Type file mission"}),z.jsx(dx,{label:"Type file mission",value:i,onChange:g=>o(g.target.value),sx:{width:"120px"},children:["yaml","kml","waypoint","plan"].map(g=>z.jsx(ks,{value:g,children:g},g))})]})]}),z.jsx(W9,{classes:{root:n.actions},disableSpacing:!0,children:z.jsx(hr,{onClick:f,children:"Save Mission"})})]})})})},rHe=Xr(e=>({root:{height:"100%"},sidebarStyle:{display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 95px)",width:"560px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},panelElevation:{display:"flex",flexDirection:"column",position:"fixed",right:0,bottom:0,height:"30vh",width:"calc(100% - 560px)",margin:"0px",zIndex:3}})),iHe=(e,t)=>{switch(e){case"success":toastProperties={id:list.length+1,title:"Success",description:t,backgroundColor:"#5cb85c"};break;case"danger":toastProperties={id:list.length+1,title:"Danger",description:t,backgroundColor:"#d9534f"};break;case"error":toastProperties={id:list.length+1,title:"Danger",description:t,backgroundColor:"#d9534f"};break;case"info":toastProperties={id:list.length+1,title:"Info",description:t,backgroundColor:"#5bc0de"};break;case"warning":toastProperties={id:list.length+1,title:"Warning",description:t,backgroundColor:"#f0ad4e"};break;default:toastProperties=[]}setList([...list,toastProperties])},oHe=()=>{const e=rHe(),[t,n]=V.useState(!1),r=Ln(s=>s.data.positions),[i,o]=V.useState([]);return V.useEffect(()=>{o(Object.values(r))},[r]),z.jsx("div",{className:e.root,children:z.jsx(YTe,{children:z.jsxs(BR,{notification:iHe,children:[z.jsx(FR,{}),z.jsx(XR,{}),z.jsxs("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 95px)"},children:[z.jsx("div",{style:{display:"inline-block",position:"relative",width:"560px",height:"100%"}}),z.jsx("div",{style:{display:"inline-block",position:"relative",width:"calc(100vw - 575px)",height:"100%"},children:z.jsxs(CR,{children:[z.jsx(ZTe,{}),z.jsx(SD,{positions:i,onClick:null,selectedPosition:null,showStatus:!0})]})})]}),z.jsx("div",{className:e.sidebarStyle,children:z.jsx("div",{className:e.middleStyle,children:z.jsx(_l,{square:!0,children:z.jsx(pke,{SetOpenSave:n})})})}),z.jsx("div",{className:e.panelElevation,children:z.jsx("div",{className:e.middleStyle,children:z.jsx(_l,{square:!0,children:z.jsx(eHe,{})})})}),t&&z.jsx(nHe,{SetOpenSave:n})]})})})},aHe=()=>z.jsx("div",{children:"EventPage"}),sHe=()=>z.jsx("div",{children:"ReplayPage"}),lHe=()=>V.useMemo(()=>({custom:[{key:"data",name:"commandData",type:"string"}],positionPeriodic:[{key:"frequency",name:"commandFrequency",type:"number"}],setTimezone:[{key:"timezone",name:"commandTimezone",type:"string"}],sendSms:[{key:"phone",name:"commandPhone",type:"string"},{key:"message",name:"commandMessage",type:"string"}],message:[{key:"message",name:"commandMessage",type:"string"}],sendUssd:[{key:"phone",name:"commandPhone",type:"string"}],sosNumber:[{key:"index",name:"commandIndex",type:"number"},{key:"phone",name:"commandPhone",type:"string"}],silenceTime:[{key:"data",name:"commandData",type:"string"}],setPhonebook:[{key:"data",name:"commandData",type:"string"}],voiceMessage:[{key:"data",name:"commandData",type:"string"}],outputControl:[{key:"index",name:"commandIndex",type:"number"},{key:"data",name:"commandData",type:"string"}],voiceMonitoring:[{key:"enable",name:"commandEnable",type:"boolean"}],setAgps:[{key:"enable",name:"commandEnable",type:"boolean"}],setIndicator:[{key:"data",name:"commandData",type:"string"}],configuration:[{key:"data",name:"commandData",type:"string"}],setConnection:[{key:"server",name:"commandServer",type:"string"},{key:"port",name:"commandPort",type:"number"}],setOdometer:[{key:"data",name:"commandData",type:"string"}],modePowerSaving:[{key:"enable",name:"commandEnable",type:"boolean"}],modeDeepSleep:[{key:"enable",name:"commandEnable",type:"boolean"}],alarmGeofence:[{key:"radius",name:"commandRadius",type:"number"}],alarmBattery:[{key:"enable",name:"commandEnable",type:"boolean"}],alarmSos:[{key:"enable",name:"commandEnable",type:"boolean"}],alarmRemove:[{key:"enable",name:"commandEnable",type:"boolean"}],alarmClock:[{key:"data",name:"commandData",type:"string"}],alarmSpeed:[{key:"data",name:"commandData",type:"string"}],alarmFall:[{key:"enable",name:"commandEnable",type:"boolean"}],alarmVibration:[{key:"data",name:"commandData",type:"string"}],SetupCamera:[{key:"type",name:"Type",type:"number"},{key:"enable",name:"Enable",type:"number"}],Gimbal:[{key:"roll",name:"Roll",type:"number"},{key:"pitch",name:"Pitch",type:"number"},{key:"yaw",name:"Yaw",type:"number"}],GimbalPitch:[{key:"pitch",name:"Pitch",type:"number"}],treat:[{key:"enable",name:"commandEnable",type:"boolean"}],setupcamera:[{key:"cameraType",name:"cameraType",type:"number"},{key:"start",name:"start",type:"number"}]}),[]),cHe=({deviceId:e,item:t,setItem:n})=>{const r=Ln(a=>a.session.server.textEnabled),i=lHe(),[o,s]=V.useState([]);return V.useEffect(()=>{t&&t.type?s(i[t.type]||[]):s([])},[i,t]),z.jsxs(V.Fragment,{children:[z.jsx(Nc,{value:t.type||"",onChange:a=>n({...t,type:a.target.value,attributes:{}}),endpoint:e?`/api/commands/types?${new URLSearchParams({deviceId:e}).toString()}`:"/api/commands/types",keyGetter:a=>a.type,titleGetter:a=>DG("command_",a.type),label:"Command type"}),o.map(({key:a,name:f,type:h})=>h==="boolean"?z.jsx(f3,{control:z.jsx(u3,{checked:t.attributes[a],onChange:g=>{const y={...t,attributes:{...t.attributes}};y.attributes[a]=g.target.checked,n(y)}}),label:f}):z.jsx(Qi,{type:h==="number"?"number":"text",value:t.attributes[a],onChange:g=>{const y={...t,attributes:{...t.attributes}};y.attributes[a]=h==="number"?Number(g.target.value):g.target.value,n(y)},label:f})),r&&z.jsx(f3,{control:z.jsx(u3,{checked:t.textChannel,onChange:a=>n({...t,textChannel:a.target.checked})}),label:"commandSendSms"})]},"sdf")},uHe=Xr(e=>({root:{position:"relative",width:"200px",height:"200px",left:"50px",backgroundColor:"#F7F9F9",overflow:"hidden"},box_down:{width:"100%",height:"50%",backgroundColor:"#5D6D7E",position:"absolute",transition:"bottom 0.3s ease-in-out",bottom:0,left:"50%",transform:"translate(-50%, 100%)",borderTop:"6px solid #1B2631 "},box_right:{width:"50%",height:"100%",backgroundColor:"#5D6D7E",position:"absolute",transition:"right 0.3s ease-in-out",top:"50%",right:0,transform:"translate(100%, -50%)",borderLeft:"6px solid #1B2631 "},box_up:{width:"100%",height:"50%",backgroundColor:"#5D6D7E",position:"absolute",transition:"top 0.3s ease-in-out",top:0,left:"50%",transform:"translate(-50%, -100%)",borderBottom:"6px solid #1B2631 "},box_left:{width:"50%",height:"100%",backgroundColor:"#5D6D7E",position:"absolute",transition:"left 0.3s ease-in-out",top:"50%",left:0,transform:"translate(-100%, -50%)",borderRight:"6px solid #1B2631 "},text_right:{position:"absolute",right:"15%",top:"50%"},text_left:{position:"absolute",left:"15%",top:"50%"},text_down:{position:"absolute",right:"50%",bottom:"15%",transform:"translate(50%, 50%)"},text_up:{position:"absolute",right:"50%",top:"15%",transform:"translate(50%, -50%)"},icon:{position:"absolute",width:"25%",height:"25%",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},centerContent:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})),o2=({device:e,data:t=[10,15,11,0,12,20],sensors:n={down:[0,15],front:[0,15],left:[0,12],back:[0,12],right:[0,12],up:[0,20]},front_view:r=!1,test:i=!1})=>{const o=uHe(),[s,a]=V.useState(0),[f,h]=V.useState(0),[g,y]=V.useState(0),[x,P]=V.useState(0);V.useEffect(()=>{r?(n.hasOwnProperty("down")&&P(40-40*t[0]/n.down[1]),n.hasOwnProperty("left")&&h(40-40*t[2]/n.left[1]),n.hasOwnProperty("right")&&a(40-40*t[4]/n.right[1]),n.hasOwnProperty("up")&&y(40-40*t[5]/n.up[1])):(n.hasOwnProperty("front")&&y(40-40*t[1]/n.front[1]),n.hasOwnProperty("left")&&a(40-40*t[2]/n.left[1]),n.hasOwnProperty("back")&&P(40-40*t[3]/n.down[1]),n.hasOwnProperty("right")&&h(40-50*t[4]/n.right[1]))},[t,e,n]);const O=()=>{a(A=>A-10),h(A=>A-10),y(A=>A-10),P(A=>A-10)},S=()=>{a(A=>A+10),h(A=>A+10),y(A=>A+10),P(A=>A+10)};return z.jsxs("div",{children:[z.jsxs("div",{className:o.root,children:[z.jsx("div",{className:o.box_left,style:{left:`${s}%`}}),z.jsx("div",{className:o.box_right,style:{right:`${f}%`}}),z.jsx("div",{className:o.box_up,style:{top:`${g}%`}}),z.jsx("div",{className:o.box_down,style:{bottom:`${x}%`}}),!r&&z.jsxs(z.Fragment,{children:[s<50&&z.jsxs("div",{className:o.text_left,children:[" ",`${t[2]}m`]}),f<50&&z.jsxs("div",{className:o.text_right,children:[" ",`${t[4]}m`]}),g<50&&z.jsxs("div",{className:o.text_up,children:[" ",`${t[1]}m`]}),x<50&&z.jsxs("div",{className:o.text_down,children:[" ",`${t[3]}m`]}),z.jsx("img",{className:o.icon,src:eb[zw("dji_M210_melodic")],alt:""})]}),r&&z.jsxs(z.Fragment,{children:[s<50&&z.jsxs("div",{className:o.text_left,children:[" ",`${t[4]}m`]}),f<50&&z.jsxs("div",{className:o.text_right,children:[" ",`${t[2]}m`]}),g<50&&z.jsxs("div",{className:o.text_up,children:[" ",`${t[5]}m`]}),x<50&&z.jsxs("div",{className:o.text_down,children:[" ",`${t[0]}m`]}),z.jsx("img",{className:o.icon,src:cie[zw("dji_M210_melodic")],alt:""})]})]}),i&&z.jsxs("div",{children:[z.jsx("button",{onClick:O,children:"Move Left"}),z.jsx("button",{onClick:S,children:"Move Right"})]})]})},dHe=Xr(e=>({card:{pointerEvents:"auto"},media:{height:"20vw",width:"100%",background:"black"},media1:{width:"100%",height:"100%",display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},gruopBtn:{float:"right",height:"40px"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},tittle:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},root:{pointerEvents:"none"},root_max:{pointerEvents:"none"}})),a2=({deviceId:e,deviceIp:t="127.0.0.1",camera_src:n="video0",onClose:r})=>{const i=dHe(),o=e?Ln(g=>g.devices.items[e]):{name:"test"},s="http://"+t+":8889/"+n;V.useState(!1);let a=i.card,f=i.root_max,h=i.media;return V.useRef(),z.jsx("div",{className:f,children:o&&z.jsxs(yu,{className:a,children:[z.jsx("div",{children:z.jsx("div",{className:i.tittle,children:"Id: "+o.name})}),z.jsx("iframe",{src:s,className:h})]})})},fHe=Xr(e=>({card:{pointerEvents:"auto"},media:{width:"100%",height:"20vw",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},tittle:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none"},root_max:{pointerEvents:"none"}})),vZ=({deviceId:e,datacamera:t,onClose:n})=>{const r=fHe(),[i,o]=V.useState(iS),s=Ln(g=>g.devices.items[e]);V.useState(!1);let a=r.card,f=r.root_max;const h=Ln(g=>g.data.camera[e]);return V.useEffect(()=>{e!=null&&(h!=null?o("data:image/bgr8;base64,"+h.camera):o(iS))},[h]),z.jsx("div",{className:f,children:s&&z.jsxs(yu,{className:a,children:[z.jsx("div",{children:z.jsxs("div",{className:r.tittle,children:["Image "+s.name," "]})}),z.jsx("img",{src:i,className:r.media})]})})},hHe=Xr(e=>({root:{height:"100%",display:"flex",flexDirection:"column"},content:{overflow:"auto",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},buttons:{marginTop:e.spacing(2),marginBottom:e.spacing(2),display:"flex",justifyContent:"space-evenly","& > *":{flexBasis:"33%"}},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)}})),pHe=({device:e,myhostname:t})=>{const n=e.camera&&e.camera.length>0?e.camera[0]:{type:""};return z.jsxs(z.Fragment,{children:[n.type==="WebRTC"&&z.jsx(a2,{deviceId:e.id,deviceIp:t,devicename:e.name,camera_src:e.name+"_"+n.source,onClose:()=>{console.log("cerrar ")}}),n.type==="WebRTC_env"&&z.jsx(a2,{deviceId:e.id,deviceIp:e.ip,devicename:e.name,camera_src:n.source,onClose:()=>{console.log("cerrar ")}}),n.type==="Websocket"&&z.jsx(vZ,{deviceId:e.id,datacamera:null,onClose:()=>console.log("cerrar ")})]})},mHe=()=>{const e=hHe(),t=kg(),{id:n}=gte(),[r,i]=V.useState(),[o,s]=V.useState({}),[a,f]=V.useState({}),h=Ln(L=>L.data.positions),g=Ln(L=>L.devices.items),[y,x]=V.useState(0),[P,O]=V.useState([]),[S,A]=V.useState([]),I=`${window.location.hostname}`,M=()=>{};V.useEffect(()=>{n&&i(h[n])},[n,h]),V.useEffect(()=>{n&&(f(g[n]),console.log(g[n]))},[n]);const k=tve(async()=>{let L;if(y){const F=await fetch(`/api/commands/${y}`);if(F.ok)L=await F.json();else throw Error(await F.text())}else L=o;L.deviceId=parseInt(n,10);const N=await fetch("/api/commands/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)});if(N.ok)t(-1);else throw Error(await N.text())}),$=()=>y||o&&o.type;return z.jsxs("div",{className:e.root,children:[z.jsx(Q$,{position:"sticky",color:"inherit",children:z.jsxs(fx,{children:[z.jsx(Kn,{color:"inherit",edge:"start",sx:{mr:2},onClick:()=>t(-1),children:z.jsx(nE,{})}),z.jsx(xn,{variant:"h6",children:a.name})]})}),z.jsxs("div",{children:[z.jsx("div",{style:{position:"relative",display:"inline-block",width:"49vw",height:"50vh"},children:z.jsxs(CR,{children:[z.jsx(UG,{markers:P}),z.jsx(FG,{}),z.jsx(SD,{positions:S,onClick:M,selectedPosition:r,showStatus:!0}),z.jsx(VG,{})]})}),z.jsx("div",{className:e.content,style:{display:"inline-block",position:"relative",width:"45vw",height:"50vh",top:0,right:0},children:z.jsx(Kw,{maxWidth:"sm",children:z.jsx(_l,{children:z.jsxs(fR,{children:[z.jsx(l7,{children:z.jsxs(km,{children:[z.jsx(xa,{children:"stateName"}),z.jsx(xa,{children:"stateValue"})]})}),z.jsxs(hR,{children:[r&&Object.getOwnPropertyNames(r).filter(L=>L!=="attributes").map(L=>z.jsxs(km,{children:[z.jsx(xa,{children:L}),z.jsx(xa,{children:z.jsx(QA,{position:r,property:L})})]},L)),r&&Object.getOwnPropertyNames(r.attributes).map(L=>z.jsxs(km,{children:[z.jsx(xa,{children:L}),z.jsx(xa,{children:z.jsx(QA,{position:r,attribute:L})})]},L))]})]})})})}),z.jsx("div",{style:{display:"inline-block",position:"relative",width:"47vw",height:"40vh"},children:Object.keys(a).length>0&&z.jsx(pHe,{device:a,myhostname:I})}),z.jsxs("div",{style:{display:"inline-block",position:"relative",width:"50vw",height:"40vh"},children:[r&&r.attributes&&z.jsxs("div",{style:{display:"flex"},children:[z.jsx(o2,{front_view:!0,data:r.attributes.obstacle_info}),z.jsx("div",{style:{width:"10px"}}),z.jsx(o2,{front_view:!1,data:r.attributes.obstacle_info})]}),z.jsx("div",{children:z.jsxs(Kw,{maxWidth:"xs",className:e.container,children:[z.jsxs(bh,{defaultExpanded:!0,children:[z.jsx(_h,{expandIcon:z.jsx(Bd,{}),children:z.jsx(xn,{variant:"subtitle1",children:"Command"})}),z.jsx(xh,{className:e.details,children:!y&&z.jsx(cHe,{deviceId:n,item:o,setItem:s})})]}),z.jsxs("div",{className:e.buttons,children:[z.jsx(hr,{type:"button",color:"primary",variant:"outlined",onClick:()=>t(-1),children:"Cancel"}),z.jsx(hr,{type:"button",color:"primary",variant:"contained",onClick:k,disabled:!$(),children:"Send"})]})]})})]})]})]})},gHe=Xr(()=>({root:{height:"100%"},sidebarStyle:{pointerEvents:"none",display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 88px)",width:"360px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},contentListStyle:{pointerEvents:"auto",gridArea:"1 / 1",zIndex:4}})),yHe=(e,t)=>{switch(e){case"success":toastProperties={id:list.length+1,title:"Success",description:t,backgroundColor:"#5cb85c"};break;case"danger":toastProperties={id:list.length+1,title:"Danger",description:t,backgroundColor:"#d9534f"};break;case"info":toastProperties={id:list.length+1,title:"Info",description:t,backgroundColor:"#5bc0de"};break;case"warning":toastProperties={id:list.length+1,title:"Warning",description:t,backgroundColor:"#f0ad4e"};break;default:toastProperties=[]}setList([...list,toastProperties])},vHe=()=>{const[e,t]=V.useState(!1),n=Ln(s=>s.devices.items);let r=Object.values(n);const i=`${window.location.hostname}`,o=gHe();return z.jsx("div",{className:o.root,children:z.jsxs(BR,{notification:yHe,children:[z.jsx(FR,{}),z.jsx(XR,{}),z.jsx("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 90px)"},children:z.jsx(Uc,{component:"div",sx:{overflow:"auto"},style:{backgroundColor:"#000000",width:"calc(100vw - 360px)",height:"calc(100vh - 90px",padding:"20px",float:"right"},children:z.jsx(g3,{container:!0,spacing:2,justifyContent:"space-around",children:Pe.Children.toArray(Object.values(n).map(s=>z.jsx(V.Fragment,{children:s.camera.map((a,f)=>z.jsxs(g3,{item:!0,xs:12,sm:6,children:[a.type==="WebRTC"&&z.jsx(a2,{deviceId:s.id,deviceIp:i,devicename:s.name,camera_src:s.name+"_"+a.source,onClose:()=>{console.log("cerrar ")}}),a.type==="WebRTC_env"&&z.jsx(a2,{deviceId:s.id,deviceIp:s.ip,devicename:s.name,camera_src:a.source,onClose:()=>{console.log("cerrar ")}}),a.type==="Websocket"&&z.jsx(vZ,{deviceId:s.id,datacamera:null,onClose:()=>console.log("cerrar ")})]},"card-"+s.id+"-"+f))},"dev"+s.id)))})})}),z.jsx("div",{className:o.sidebarStyle,children:z.jsx("div",{className:o.middleStyle,children:z.jsxs(_l,{square:!0,className:o.contentListStyle,children:[z.jsx(xH,{SetAddUAVOpen:t}),z.jsx(tH,{devices:r})]})})})]})})},bHe=Xr(e=>({root:{height:"100%",display:"flex",flexDirection:"column"},content:{overflow:"auto",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},buttons:{marginTop:e.spacing(2),marginBottom:e.spacing(2),display:"flex",justifyContent:"space-evenly","& > *":{flexBasis:"33%"}},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)}})),xHe=()=>{const e=bHe(),t=kg(),[n,r]=V.useState([]),[i,o]=V.useState(),s=Ln(f=>f.events.items),a=Ln(f=>f.devices.items);return V.useEffect(()=>{r(s)},[s]),V.useEffect(()=>{o({...a,"-1":{name:"GCS"}})},[a]),Ln(f=>{if(n){const h=f.devices.items[n.deviceId];if(h)return h.name}return null}),z.jsxs("div",{className:e.root,children:[z.jsx(Q$,{position:"sticky",color:"inherit",children:z.jsxs(fx,{children:[z.jsx(Kn,{color:"inherit",edge:"start",sx:{mr:2},onClick:()=>t(-1),children:z.jsx(nE,{})}),z.jsx(xn,{variant:"h6",children:"Events"})]})}),z.jsx("div",{className:e.content,children:z.jsx(Kw,{maxWidth:"sm",children:z.jsx(_l,{children:z.jsxs(fR,{children:[z.jsx(l7,{children:z.jsxs(km,{children:[z.jsx(xa,{children:"UAV"}),z.jsx(xa,{children:"Fecha"}),z.jsx(xa,{children:"Valor"})]})}),z.jsx(hR,{children:n&&n.map(f=>z.jsxs(km,{children:[z.jsx(xa,{children:i[f.deviceId].name}),z.jsx(xa,{children:f.eventTime}),z.jsx(xa,{children:f.attributes.message})]},f.id))})]})})})})]})},_He=()=>z.jsxs("div",{children:[z.jsx("h3",{children:"Move the Square"}),z.jsx(o2,{}),z.jsx(_C,{}),z.jsx(o2,{front_view:!0})]}),wHe=()=>{const e=kg();T2();const t=Ube();return pR(async()=>{e("/")},[t]),z.jsx(Mte,{children:z.jsxs(Bl,{path:"/",element:z.jsx(Fbe,{}),children:[z.jsx(Bl,{index:!0,element:z.jsx(HTe,{})}),z.jsx(Bl,{path:"mission",element:z.jsx(oHe,{})}),z.jsx(Bl,{path:"camera",element:z.jsx(vHe,{})}),z.jsx(Bl,{path:"device/:id",element:z.jsx(mHe,{})}),z.jsx(Bl,{path:"event/:id",element:z.jsx(aHe,{})}),z.jsx(Bl,{path:"events",element:z.jsx(xHe,{})}),z.jsx(Bl,{path:"replay",element:z.jsx(sHe,{})}),z.jsx(Bl,{path:"topics",element:z.jsx(_He,{})})]})})},SHe=()=>{const e={white:ph.white,background:ec[50],primary:VW[900],secondary:ul[800],positive:ul[500],medium:O$[700],negative:Lc[500],neutral:ec[500],geometry:"#3bb2d0"};return{background:{default:e.background},primary:{main:e.primary},secondary:{main:e.secondary,contrastText:e.white},colors:e}},CHe={sidebarWidth:"28%",sidebarWidthTablet:"52px",drawerWidthDesktop:"360px",drawerWidthTablet:"320px",drawerHeightPhone:"250px",filterFormWidth:"160px",eventsDrawerWidth:"320px",bottomBarHeight:56,popupMapOffset:300,popupMaxWidth:288,popupImageHeight:144},EHe={MuiUseMediaQuery:{defaultProps:{noSsr:!0}},MuiOutlinedInput:{styleOverrides:{root:{backgroundColor:ec[50]}}},MuiButton:{styleOverrides:{sizeMedium:{height:"40px"}}},MuiFormControl:{defaultProps:{size:"small"}},MuiSnackbar:{defaultProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"}}}},THe=()=>V.useMemo(()=>K$({palette:SHe(),dimensions:CHe,components:EHe}),[]),kHe=({children:e})=>{const t=THe();return z.jsx(Nse,{theme:t,children:e})};uie();const PHe=tW(document.getElementById("root"));PHe.render(z.jsx(Fne,{store:Ure,children:z.jsx(Coe,{injectFirst:!0,children:z.jsxs(kHe,{children:[z.jsx(she,{}),z.jsx($te,{children:z.jsx(wHe,{})})]})})}))});export default OHe();
