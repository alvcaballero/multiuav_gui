var $J=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var HYe=$J((KYe,hw)=>{function RJ(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function aU(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var sU={exports:{}},g2={},lU={exports:{}},Vn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb=Symbol.for("react.element"),DJ=Symbol.for("react.portal"),jJ=Symbol.for("react.fragment"),LJ=Symbol.for("react.strict_mode"),NJ=Symbol.for("react.profiler"),zJ=Symbol.for("react.provider"),BJ=Symbol.for("react.context"),FJ=Symbol.for("react.forward_ref"),UJ=Symbol.for("react.suspense"),VJ=Symbol.for("react.memo"),WJ=Symbol.for("react.lazy"),WN=Symbol.iterator;function qJ(e){return e===null||typeof e!="object"?null:(e=WN&&e[WN]||e["@@iterator"],typeof e=="function"?e:null)}var cU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uU=Object.assign,dU={};function bg(e,t,n){this.props=e,this.context=t,this.refs=dU,this.updater=n||cU}bg.prototype.isReactComponent={};bg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fU(){}fU.prototype=bg.prototype;function OI(e,t,n){this.props=e,this.context=t,this.refs=dU,this.updater=n||cU}var MI=OI.prototype=new fU;MI.constructor=OI;uU(MI,bg.prototype);MI.isPureReactComponent=!0;var qN=Array.isArray,hU=Object.prototype.hasOwnProperty,AI={current:null},pU={key:!0,ref:!0,__self:!0,__source:!0};function mU(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)hU.call(t,r)&&!pU.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var f=Array(a),h=0;h<a;h++)f[h]=arguments[h+2];i.children=f}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:qb,type:e,key:o,ref:s,props:i,_owner:AI.current}}function HJ(e,t){return{$$typeof:qb,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function II(e){return typeof e=="object"&&e!==null&&e.$$typeof===qb}function GJ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var HN=/\/+/g;function aE(e,t){return typeof e=="object"&&e!==null&&e.key!=null?GJ(""+e.key):t.toString(36)}function B1(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case qb:case DJ:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+aE(s,0):r,qN(i)?(n="",e!=null&&(n=e.replace(HN,"$&/")+"/"),B1(i,t,n,"",function(h){return h})):i!=null&&(II(i)&&(i=HJ(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(HN,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",qN(e))for(var a=0;a<e.length;a++){o=e[a];var f=r+aE(o,a);s+=B1(o,t,n,f,i)}else if(f=qJ(e),typeof f=="function")for(e=f.call(e),a=0;!(o=e.next()).done;)o=o.value,f=r+aE(o,a++),s+=B1(o,t,n,f,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function z_(e,t,n){if(e==null)return e;var r=[],i=0;return B1(e,r,"","",function(o){return t.call(n,o,i++)}),r}function YJ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ma={current:null},F1={transition:null},KJ={ReactCurrentDispatcher:ma,ReactCurrentBatchConfig:F1,ReactCurrentOwner:AI};Vn.Children={map:z_,forEach:function(e,t,n){z_(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return z_(e,function(){t++}),t},toArray:function(e){return z_(e,function(t){return t})||[]},only:function(e){if(!II(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Vn.Component=bg;Vn.Fragment=jJ;Vn.Profiler=NJ;Vn.PureComponent=OI;Vn.StrictMode=LJ;Vn.Suspense=UJ;Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KJ;Vn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=uU({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=AI.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(f in t)hU.call(t,f)&&!pU.hasOwnProperty(f)&&(r[f]=t[f]===void 0&&a!==void 0?a[f]:t[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){a=Array(f);for(var h=0;h<f;h++)a[h]=arguments[h+2];r.children=a}return{$$typeof:qb,type:e.type,key:i,ref:o,props:r,_owner:s}};Vn.createContext=function(e){return e={$$typeof:BJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zJ,_context:e},e.Consumer=e};Vn.createElement=mU;Vn.createFactory=function(e){var t=mU.bind(null,e);return t.type=e,t};Vn.createRef=function(){return{current:null}};Vn.forwardRef=function(e){return{$$typeof:FJ,render:e}};Vn.isValidElement=II;Vn.lazy=function(e){return{$$typeof:WJ,_payload:{_status:-1,_result:e},_init:YJ}};Vn.memo=function(e,t){return{$$typeof:VJ,type:e,compare:t===void 0?null:t}};Vn.startTransition=function(e){var t=F1.transition;F1.transition={};try{e()}finally{F1.transition=t}};Vn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Vn.useCallback=function(e,t){return ma.current.useCallback(e,t)};Vn.useContext=function(e){return ma.current.useContext(e)};Vn.useDebugValue=function(){};Vn.useDeferredValue=function(e){return ma.current.useDeferredValue(e)};Vn.useEffect=function(e,t){return ma.current.useEffect(e,t)};Vn.useId=function(){return ma.current.useId()};Vn.useImperativeHandle=function(e,t,n){return ma.current.useImperativeHandle(e,t,n)};Vn.useInsertionEffect=function(e,t){return ma.current.useInsertionEffect(e,t)};Vn.useLayoutEffect=function(e,t){return ma.current.useLayoutEffect(e,t)};Vn.useMemo=function(e,t){return ma.current.useMemo(e,t)};Vn.useReducer=function(e,t,n){return ma.current.useReducer(e,t,n)};Vn.useRef=function(e){return ma.current.useRef(e)};Vn.useState=function(e){return ma.current.useState(e)};Vn.useSyncExternalStore=function(e,t,n){return ma.current.useSyncExternalStore(e,t,n)};Vn.useTransition=function(){return ma.current.useTransition()};Vn.version="18.2.0";lU.exports=Vn;var U=lU.exports;const Pe=gr(U),pw=RJ({__proto__:null,default:Pe},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZJ=U,XJ=Symbol.for("react.element"),JJ=Symbol.for("react.fragment"),QJ=Object.prototype.hasOwnProperty,eQ=ZJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tQ={key:!0,ref:!0,__self:!0,__source:!0};function gU(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)QJ.call(t,r)&&!tQ.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:XJ,type:e,key:o,ref:s,props:i,_owner:eQ.current}}g2.Fragment=JJ;g2.jsx=gU;g2.jsxs=gU;sU.exports=g2;var $=sU.exports,yU={exports:{}},fs={},vU={exports:{}},bU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ce,Ee){var Re=ce.length;ce.push(Ee);e:for(;0<Re;){var Xe=Re-1>>>1,Ae=ce[Xe];if(0<i(Ae,Ee))ce[Xe]=Ee,ce[Re]=Ae,Re=Xe;else break e}}function n(ce){return ce.length===0?null:ce[0]}function r(ce){if(ce.length===0)return null;var Ee=ce[0],Re=ce.pop();if(Re!==Ee){ce[0]=Re;e:for(var Xe=0,Ae=ce.length,Fe=Ae>>>1;Xe<Fe;){var qe=2*(Xe+1)-1,rt=ce[qe],Je=qe+1,kt=ce[Je];if(0>i(rt,Re))Je<Ae&&0>i(kt,rt)?(ce[Xe]=kt,ce[Je]=Re,Xe=Je):(ce[Xe]=rt,ce[qe]=Re,Xe=qe);else if(Je<Ae&&0>i(kt,Re))ce[Xe]=kt,ce[Je]=Re,Xe=Je;else break e}}return Ee}function i(ce,Ee){var Re=ce.sortIndex-Ee.sortIndex;return Re!==0?Re:ce.id-Ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var f=[],h=[],g=1,y=null,b=3,E=!1,T=!1,w=!1,M=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(ce){for(var Ee=n(h);Ee!==null;){if(Ee.callback===null)r(h);else if(Ee.startTime<=ce)r(h),Ee.sortIndex=Ee.expirationTime,t(f,Ee);else break;Ee=n(h)}}function L(ce){if(w=!1,I(ce),!T)if(n(f)!==null)T=!0,pe(R);else{var Ee=n(h);Ee!==null&&be(L,Ee.startTime-ce)}}function R(ce,Ee){T=!1,w&&(w=!1,A(q),q=-1),E=!0;var Re=b;try{for(I(Ee),y=n(f);y!==null&&(!(y.expirationTime>Ee)||ce&&!ne());){var Xe=y.callback;if(typeof Xe=="function"){y.callback=null,b=y.priorityLevel;var Ae=Xe(y.expirationTime<=Ee);Ee=e.unstable_now(),typeof Ae=="function"?y.callback=Ae:y===n(f)&&r(f),I(Ee)}else r(f);y=n(f)}if(y!==null)var Fe=!0;else{var qe=n(h);qe!==null&&be(L,qe.startTime-Ee),Fe=!1}return Fe}finally{y=null,b=Re,E=!1}}var D=!1,F=null,q=-1,J=5,K=-1;function ne(){return!(e.unstable_now()-K<J)}function le(){if(F!==null){var ce=e.unstable_now();K=ce;var Ee=!0;try{Ee=F(!0,ce)}finally{Ee?ye():(D=!1,F=null)}}else D=!1}var ye;if(typeof O=="function")ye=function(){O(le)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,se=de.port2;de.port1.onmessage=le,ye=function(){se.postMessage(null)}}else ye=function(){M(le,0)};function pe(ce){F=ce,D||(D=!0,ye())}function be(ce,Ee){q=M(function(){ce(e.unstable_now())},Ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ce){ce.callback=null},e.unstable_continueExecution=function(){T||E||(T=!0,pe(R))},e.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<ce?Math.floor(1e3/ce):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(ce){switch(b){case 1:case 2:case 3:var Ee=3;break;default:Ee=b}var Re=b;b=Ee;try{return ce()}finally{b=Re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ce,Ee){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var Re=b;b=ce;try{return Ee()}finally{b=Re}},e.unstable_scheduleCallback=function(ce,Ee,Re){var Xe=e.unstable_now();switch(typeof Re=="object"&&Re!==null?(Re=Re.delay,Re=typeof Re=="number"&&0<Re?Xe+Re:Xe):Re=Xe,ce){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=Re+Ae,ce={id:g++,callback:Ee,priorityLevel:ce,startTime:Re,expirationTime:Ae,sortIndex:-1},Re>Xe?(ce.sortIndex=Re,t(h,ce),n(f)===null&&ce===n(h)&&(w?(A(q),q=-1):w=!0,be(L,Re-Xe))):(ce.sortIndex=Ae,t(f,ce),T||E||(T=!0,pe(R))),ce},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(ce){var Ee=b;return function(){var Re=b;b=Ee;try{return ce.apply(this,arguments)}finally{b=Re}}}})(bU);vU.exports=bU;var nQ=vU.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xU=U,as=nQ;function vt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _U=new Set,C0={};function wh(e,t){Mm(e,t),Mm(e+"Capture",t)}function Mm(e,t){for(C0[e]=t,e=0;e<t.length;e++)_U.add(t[e])}var su=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kO=Object.prototype.hasOwnProperty,rQ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,GN={},YN={};function iQ(e){return kO.call(YN,e)?!0:kO.call(GN,e)?!1:rQ.test(e)?YN[e]=!0:(GN[e]=!0,!1)}function oQ(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function aQ(e,t,n,r){if(t===null||typeof t>"u"||oQ(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ga(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var So={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){So[e]=new ga(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];So[t]=new ga(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){So[e]=new ga(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){So[e]=new ga(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){So[e]=new ga(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){So[e]=new ga(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){So[e]=new ga(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){So[e]=new ga(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){So[e]=new ga(e,5,!1,e.toLowerCase(),null,!1,!1)});var $I=/[\-:]([a-z])/g;function RI(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($I,RI);So[t]=new ga(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($I,RI);So[t]=new ga(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($I,RI);So[t]=new ga(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){So[e]=new ga(e,1,!1,e.toLowerCase(),null,!1,!1)});So.xlinkHref=new ga("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){So[e]=new ga(e,1,!1,e.toLowerCase(),null,!0,!0)});function DI(e,t,n,r){var i=So.hasOwnProperty(t)?So[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(aQ(t,n,i,r)&&(n=null),r||i===null?iQ(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _u=xU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B_=Symbol.for("react.element"),Bp=Symbol.for("react.portal"),Fp=Symbol.for("react.fragment"),jI=Symbol.for("react.strict_mode"),TO=Symbol.for("react.profiler"),wU=Symbol.for("react.provider"),SU=Symbol.for("react.context"),LI=Symbol.for("react.forward_ref"),EO=Symbol.for("react.suspense"),PO=Symbol.for("react.suspense_list"),NI=Symbol.for("react.memo"),ud=Symbol.for("react.lazy"),CU=Symbol.for("react.offscreen"),KN=Symbol.iterator;function tv(e){return e===null||typeof e!="object"?null:(e=KN&&e[KN]||e["@@iterator"],typeof e=="function"?e:null)}var pi=Object.assign,sE;function zv(e){if(sE===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);sE=t&&t[1]||""}return`
`+sE+e}var lE=!1;function cE(e,t){if(!e||lE)return"";lE=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var f=`
`+i[s].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=s&&0<=a);break}}}finally{lE=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?zv(e):""}function sQ(e){switch(e.tag){case 5:return zv(e.type);case 16:return zv("Lazy");case 13:return zv("Suspense");case 19:return zv("SuspenseList");case 0:case 2:case 15:return e=cE(e.type,!1),e;case 11:return e=cE(e.type.render,!1),e;case 1:return e=cE(e.type,!0),e;default:return""}}function OO(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fp:return"Fragment";case Bp:return"Portal";case TO:return"Profiler";case jI:return"StrictMode";case EO:return"Suspense";case PO:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case SU:return(e.displayName||"Context")+".Consumer";case wU:return(e._context.displayName||"Context")+".Provider";case LI:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case NI:return t=e.displayName||null,t!==null?t:OO(e.type)||"Memo";case ud:t=e._payload,e=e._init;try{return OO(e(t))}catch{}}return null}function lQ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return OO(t);case 8:return t===jI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zd(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kU(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cQ(e){var t=kU(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function F_(e){e._valueTracker||(e._valueTracker=cQ(e))}function TU(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=kU(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function mw(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function MO(e,t){var n=t.checked;return pi({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ZN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=zd(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function EU(e,t){t=t.checked,t!=null&&DI(e,"checked",t,!1)}function AO(e,t){EU(e,t);var n=zd(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?IO(e,t.type,n):t.hasOwnProperty("defaultValue")&&IO(e,t.type,zd(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function XN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function IO(e,t,n){(t!=="number"||mw(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Bv=Array.isArray;function um(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+zd(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function $O(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(vt(91));return pi({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function JN(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(vt(92));if(Bv(n)){if(1<n.length)throw Error(vt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:zd(n)}}function PU(e,t){var n=zd(t.value),r=zd(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function QN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function OU(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function RO(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?OU(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var U_,MU=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(U_=U_||document.createElement("div"),U_.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=U_.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function k0(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uQ=["Webkit","ms","Moz","O"];Object.keys(Xv).forEach(function(e){uQ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xv[t]=Xv[e]})});function AU(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xv.hasOwnProperty(e)&&Xv[e]?(""+t).trim():t+"px"}function IU(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=AU(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var dQ=pi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function DO(e,t){if(t){if(dQ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(vt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(vt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(vt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(vt(62))}}function jO(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var LO=null;function zI(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var NO=null,dm=null,fm=null;function ez(e){if(e=Yb(e)){if(typeof NO!="function")throw Error(vt(280));var t=e.stateNode;t&&(t=_2(t),NO(e.stateNode,e.type,t))}}function $U(e){dm?fm?fm.push(e):fm=[e]:dm=e}function RU(){if(dm){var e=dm,t=fm;if(fm=dm=null,ez(e),t)for(e=0;e<t.length;e++)ez(t[e])}}function DU(e,t){return e(t)}function jU(){}var uE=!1;function LU(e,t,n){if(uE)return e(t,n);uE=!0;try{return DU(e,t,n)}finally{uE=!1,(dm!==null||fm!==null)&&(jU(),RU())}}function T0(e,t){var n=e.stateNode;if(n===null)return null;var r=_2(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(vt(231,t,typeof n));return n}var zO=!1;if(su)try{var nv={};Object.defineProperty(nv,"passive",{get:function(){zO=!0}}),window.addEventListener("test",nv,nv),window.removeEventListener("test",nv,nv)}catch{zO=!1}function fQ(e,t,n,r,i,o,s,a,f){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(g){this.onError(g)}}var Jv=!1,gw=null,yw=!1,BO=null,hQ={onError:function(e){Jv=!0,gw=e}};function pQ(e,t,n,r,i,o,s,a,f){Jv=!1,gw=null,fQ.apply(hQ,arguments)}function mQ(e,t,n,r,i,o,s,a,f){if(pQ.apply(this,arguments),Jv){if(Jv){var h=gw;Jv=!1,gw=null}else throw Error(vt(198));yw||(yw=!0,BO=h)}}function Sh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function NU(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tz(e){if(Sh(e)!==e)throw Error(vt(188))}function gQ(e){var t=e.alternate;if(!t){if(t=Sh(e),t===null)throw Error(vt(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tz(i),e;if(o===r)return tz(i),t;o=o.sibling}throw Error(vt(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(vt(189))}}if(n.alternate!==r)throw Error(vt(190))}if(n.tag!==3)throw Error(vt(188));return n.stateNode.current===n?e:t}function zU(e){return e=gQ(e),e!==null?BU(e):null}function BU(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=BU(e);if(t!==null)return t;e=e.sibling}return null}var FU=as.unstable_scheduleCallback,nz=as.unstable_cancelCallback,yQ=as.unstable_shouldYield,vQ=as.unstable_requestPaint,Ai=as.unstable_now,bQ=as.unstable_getCurrentPriorityLevel,BI=as.unstable_ImmediatePriority,UU=as.unstable_UserBlockingPriority,vw=as.unstable_NormalPriority,xQ=as.unstable_LowPriority,VU=as.unstable_IdlePriority,y2=null,rc=null;function _Q(e){if(rc&&typeof rc.onCommitFiberRoot=="function")try{rc.onCommitFiberRoot(y2,e,void 0,(e.current.flags&128)===128)}catch{}}var Ml=Math.clz32?Math.clz32:CQ,wQ=Math.log,SQ=Math.LN2;function CQ(e){return e>>>=0,e===0?32:31-(wQ(e)/SQ|0)|0}var V_=64,W_=4194304;function Fv(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bw(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Fv(a):(o&=s,o!==0&&(r=Fv(o)))}else s=n&~i,s!==0?r=Fv(s):o!==0&&(r=Fv(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ml(t),i=1<<n,r|=e[n],t&=~i;return r}function kQ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TQ(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Ml(o),a=1<<s,f=i[s];f===-1?(!(a&n)||a&r)&&(i[s]=kQ(a,t)):f<=t&&(e.expiredLanes|=a),o&=~a}}function FO(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function WU(){var e=V_;return V_<<=1,!(V_&4194240)&&(V_=64),e}function dE(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hb(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ml(t),e[t]=n}function EQ(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ml(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function FI(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ml(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var br=0;function qU(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var HU,UI,GU,YU,KU,UO=!1,q_=[],Cd=null,kd=null,Td=null,E0=new Map,P0=new Map,hd=[],PQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rz(e,t){switch(e){case"focusin":case"focusout":Cd=null;break;case"dragenter":case"dragleave":kd=null;break;case"mouseover":case"mouseout":Td=null;break;case"pointerover":case"pointerout":E0.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":P0.delete(t.pointerId)}}function rv(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Yb(t),t!==null&&UI(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function OQ(e,t,n,r,i){switch(t){case"focusin":return Cd=rv(Cd,e,t,n,r,i),!0;case"dragenter":return kd=rv(kd,e,t,n,r,i),!0;case"mouseover":return Td=rv(Td,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return E0.set(o,rv(E0.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,P0.set(o,rv(P0.get(o)||null,e,t,n,r,i)),!0}return!1}function ZU(e){var t=Uf(e.target);if(t!==null){var n=Sh(t);if(n!==null){if(t=n.tag,t===13){if(t=NU(n),t!==null){e.blockedOn=t,KU(e.priority,function(){GU(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function U1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=VO(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);LO=r,n.target.dispatchEvent(r),LO=null}else return t=Yb(n),t!==null&&UI(t),e.blockedOn=n,!1;t.shift()}return!0}function iz(e,t,n){U1(e)&&n.delete(t)}function MQ(){UO=!1,Cd!==null&&U1(Cd)&&(Cd=null),kd!==null&&U1(kd)&&(kd=null),Td!==null&&U1(Td)&&(Td=null),E0.forEach(iz),P0.forEach(iz)}function iv(e,t){e.blockedOn===t&&(e.blockedOn=null,UO||(UO=!0,as.unstable_scheduleCallback(as.unstable_NormalPriority,MQ)))}function O0(e){function t(i){return iv(i,e)}if(0<q_.length){iv(q_[0],e);for(var n=1;n<q_.length;n++){var r=q_[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Cd!==null&&iv(Cd,e),kd!==null&&iv(kd,e),Td!==null&&iv(Td,e),E0.forEach(t),P0.forEach(t),n=0;n<hd.length;n++)r=hd[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<hd.length&&(n=hd[0],n.blockedOn===null);)ZU(n),n.blockedOn===null&&hd.shift()}var hm=_u.ReactCurrentBatchConfig,xw=!0;function AQ(e,t,n,r){var i=br,o=hm.transition;hm.transition=null;try{br=1,VI(e,t,n,r)}finally{br=i,hm.transition=o}}function IQ(e,t,n,r){var i=br,o=hm.transition;hm.transition=null;try{br=4,VI(e,t,n,r)}finally{br=i,hm.transition=o}}function VI(e,t,n,r){if(xw){var i=VO(e,t,n,r);if(i===null)_E(e,t,r,_w,n),rz(e,r);else if(OQ(i,e,t,n,r))r.stopPropagation();else if(rz(e,r),t&4&&-1<PQ.indexOf(e)){for(;i!==null;){var o=Yb(i);if(o!==null&&HU(o),o=VO(e,t,n,r),o===null&&_E(e,t,r,_w,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else _E(e,t,r,null,n)}}var _w=null;function VO(e,t,n,r){if(_w=null,e=zI(r),e=Uf(e),e!==null)if(t=Sh(e),t===null)e=null;else if(n=t.tag,n===13){if(e=NU(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _w=e,null}function XU(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bQ()){case BI:return 1;case UU:return 4;case vw:case xQ:return 16;case VU:return 536870912;default:return 16}default:return 16}}var gd=null,WI=null,V1=null;function JU(){if(V1)return V1;var e,t=WI,n=t.length,r,i="value"in gd?gd.value:gd.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return V1=i.slice(e,1<r?1-r:void 0)}function W1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function H_(){return!0}function oz(){return!1}function hs(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?H_:oz,this.isPropagationStopped=oz,this}return pi(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=H_)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=H_)},persist:function(){},isPersistent:H_}),t}var xg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qI=hs(xg),Gb=pi({},xg,{view:0,detail:0}),$Q=hs(Gb),fE,hE,ov,v2=pi({},Gb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:HI,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ov&&(ov&&e.type==="mousemove"?(fE=e.screenX-ov.screenX,hE=e.screenY-ov.screenY):hE=fE=0,ov=e),fE)},movementY:function(e){return"movementY"in e?e.movementY:hE}}),az=hs(v2),RQ=pi({},v2,{dataTransfer:0}),DQ=hs(RQ),jQ=pi({},Gb,{relatedTarget:0}),pE=hs(jQ),LQ=pi({},xg,{animationName:0,elapsedTime:0,pseudoElement:0}),NQ=hs(LQ),zQ=pi({},xg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),BQ=hs(zQ),FQ=pi({},xg,{data:0}),sz=hs(FQ),UQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qQ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=WQ[e])?!!t[e]:!1}function HI(){return qQ}var HQ=pi({},Gb,{key:function(e){if(e.key){var t=UQ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=W1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?VQ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:HI,charCode:function(e){return e.type==="keypress"?W1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?W1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),GQ=hs(HQ),YQ=pi({},v2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lz=hs(YQ),KQ=pi({},Gb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:HI}),ZQ=hs(KQ),XQ=pi({},xg,{propertyName:0,elapsedTime:0,pseudoElement:0}),JQ=hs(XQ),QQ=pi({},v2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),eee=hs(QQ),tee=[9,13,27,32],GI=su&&"CompositionEvent"in window,Qv=null;su&&"documentMode"in document&&(Qv=document.documentMode);var nee=su&&"TextEvent"in window&&!Qv,QU=su&&(!GI||Qv&&8<Qv&&11>=Qv),cz=" ",uz=!1;function eV(e,t){switch(e){case"keyup":return tee.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tV(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Up=!1;function ree(e,t){switch(e){case"compositionend":return tV(t);case"keypress":return t.which!==32?null:(uz=!0,cz);case"textInput":return e=t.data,e===cz&&uz?null:e;default:return null}}function iee(e,t){if(Up)return e==="compositionend"||!GI&&eV(e,t)?(e=JU(),V1=WI=gd=null,Up=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return QU&&t.locale!=="ko"?null:t.data;default:return null}}var oee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dz(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oee[e.type]:t==="textarea"}function nV(e,t,n,r){$U(r),t=ww(t,"onChange"),0<t.length&&(n=new qI("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var e0=null,M0=null;function aee(e){hV(e,0)}function b2(e){var t=qp(e);if(TU(t))return e}function see(e,t){if(e==="change")return t}var rV=!1;if(su){var mE;if(su){var gE="oninput"in document;if(!gE){var fz=document.createElement("div");fz.setAttribute("oninput","return;"),gE=typeof fz.oninput=="function"}mE=gE}else mE=!1;rV=mE&&(!document.documentMode||9<document.documentMode)}function hz(){e0&&(e0.detachEvent("onpropertychange",iV),M0=e0=null)}function iV(e){if(e.propertyName==="value"&&b2(M0)){var t=[];nV(t,M0,e,zI(e)),LU(aee,t)}}function lee(e,t,n){e==="focusin"?(hz(),e0=t,M0=n,e0.attachEvent("onpropertychange",iV)):e==="focusout"&&hz()}function cee(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return b2(M0)}function uee(e,t){if(e==="click")return b2(t)}function dee(e,t){if(e==="input"||e==="change")return b2(t)}function fee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $l=typeof Object.is=="function"?Object.is:fee;function A0(e,t){if($l(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!kO.call(t,i)||!$l(e[i],t[i]))return!1}return!0}function pz(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mz(e,t){var n=pz(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pz(n)}}function oV(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?oV(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function aV(){for(var e=window,t=mw();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mw(e.document)}return t}function YI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hee(e){var t=aV(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&oV(n.ownerDocument.documentElement,n)){if(r!==null&&YI(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=mz(n,o);var s=mz(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pee=su&&"documentMode"in document&&11>=document.documentMode,Vp=null,WO=null,t0=null,qO=!1;function gz(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qO||Vp==null||Vp!==mw(r)||(r=Vp,"selectionStart"in r&&YI(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),t0&&A0(t0,r)||(t0=r,r=ww(WO,"onSelect"),0<r.length&&(t=new qI("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vp)))}function G_(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wp={animationend:G_("Animation","AnimationEnd"),animationiteration:G_("Animation","AnimationIteration"),animationstart:G_("Animation","AnimationStart"),transitionend:G_("Transition","TransitionEnd")},yE={},sV={};su&&(sV=document.createElement("div").style,"AnimationEvent"in window||(delete Wp.animationend.animation,delete Wp.animationiteration.animation,delete Wp.animationstart.animation),"TransitionEvent"in window||delete Wp.transitionend.transition);function x2(e){if(yE[e])return yE[e];if(!Wp[e])return e;var t=Wp[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sV)return yE[e]=t[n];return e}var lV=x2("animationend"),cV=x2("animationiteration"),uV=x2("animationstart"),dV=x2("transitionend"),fV=new Map,yz="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yd(e,t){fV.set(e,t),wh(t,[e])}for(var vE=0;vE<yz.length;vE++){var bE=yz[vE],mee=bE.toLowerCase(),gee=bE[0].toUpperCase()+bE.slice(1);Yd(mee,"on"+gee)}Yd(lV,"onAnimationEnd");Yd(cV,"onAnimationIteration");Yd(uV,"onAnimationStart");Yd("dblclick","onDoubleClick");Yd("focusin","onFocus");Yd("focusout","onBlur");Yd(dV,"onTransitionEnd");Mm("onMouseEnter",["mouseout","mouseover"]);Mm("onMouseLeave",["mouseout","mouseover"]);Mm("onPointerEnter",["pointerout","pointerover"]);Mm("onPointerLeave",["pointerout","pointerover"]);wh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wh("onBeforeInput",["compositionend","keypress","textInput","paste"]);wh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yee=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uv));function vz(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,mQ(r,t,void 0,e),e.currentTarget=null}function hV(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],f=a.instance,h=a.currentTarget;if(a=a.listener,f!==o&&i.isPropagationStopped())break e;vz(i,a,h),o=f}else for(s=0;s<r.length;s++){if(a=r[s],f=a.instance,h=a.currentTarget,a=a.listener,f!==o&&i.isPropagationStopped())break e;vz(i,a,h),o=f}}}if(yw)throw e=BO,yw=!1,BO=null,e}function qr(e,t){var n=t[ZO];n===void 0&&(n=t[ZO]=new Set);var r=e+"__bubble";n.has(r)||(pV(t,e,2,!1),n.add(r))}function xE(e,t,n){var r=0;t&&(r|=4),pV(n,e,r,t)}var Y_="_reactListening"+Math.random().toString(36).slice(2);function I0(e){if(!e[Y_]){e[Y_]=!0,_U.forEach(function(n){n!=="selectionchange"&&(yee.has(n)||xE(n,!1,e),xE(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Y_]||(t[Y_]=!0,xE("selectionchange",!1,t))}}function pV(e,t,n,r){switch(XU(t)){case 1:var i=AQ;break;case 4:i=IQ;break;default:i=VI}n=i.bind(null,t,n,e),i=void 0,!zO||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function _E(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var f=s.tag;if((f===3||f===4)&&(f=s.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Uf(a),s===null)return;if(f=s.tag,f===5||f===6){r=o=s;continue e}a=a.parentNode}}r=r.return}LU(function(){var h=o,g=zI(n),y=[];e:{var b=fV.get(e);if(b!==void 0){var E=qI,T=e;switch(e){case"keypress":if(W1(n)===0)break e;case"keydown":case"keyup":E=GQ;break;case"focusin":T="focus",E=pE;break;case"focusout":T="blur",E=pE;break;case"beforeblur":case"afterblur":E=pE;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=az;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=DQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=ZQ;break;case lV:case cV:case uV:E=NQ;break;case dV:E=JQ;break;case"scroll":E=$Q;break;case"wheel":E=eee;break;case"copy":case"cut":case"paste":E=BQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=lz}var w=(t&4)!==0,M=!w&&e==="scroll",A=w?b!==null?b+"Capture":null:b;w=[];for(var O=h,I;O!==null;){I=O;var L=I.stateNode;if(I.tag===5&&L!==null&&(I=L,A!==null&&(L=T0(O,A),L!=null&&w.push($0(O,L,I)))),M)break;O=O.return}0<w.length&&(b=new E(b,T,null,n,g),y.push({event:b,listeners:w}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",b&&n!==LO&&(T=n.relatedTarget||n.fromElement)&&(Uf(T)||T[lu]))break e;if((E||b)&&(b=g.window===g?g:(b=g.ownerDocument)?b.defaultView||b.parentWindow:window,E?(T=n.relatedTarget||n.toElement,E=h,T=T?Uf(T):null,T!==null&&(M=Sh(T),T!==M||T.tag!==5&&T.tag!==6)&&(T=null)):(E=null,T=h),E!==T)){if(w=az,L="onMouseLeave",A="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(w=lz,L="onPointerLeave",A="onPointerEnter",O="pointer"),M=E==null?b:qp(E),I=T==null?b:qp(T),b=new w(L,O+"leave",E,n,g),b.target=M,b.relatedTarget=I,L=null,Uf(g)===h&&(w=new w(A,O+"enter",T,n,g),w.target=I,w.relatedTarget=M,L=w),M=L,E&&T)t:{for(w=E,A=T,O=0,I=w;I;I=vp(I))O++;for(I=0,L=A;L;L=vp(L))I++;for(;0<O-I;)w=vp(w),O--;for(;0<I-O;)A=vp(A),I--;for(;O--;){if(w===A||A!==null&&w===A.alternate)break t;w=vp(w),A=vp(A)}w=null}else w=null;E!==null&&bz(y,b,E,w,!1),T!==null&&M!==null&&bz(y,M,T,w,!0)}}e:{if(b=h?qp(h):window,E=b.nodeName&&b.nodeName.toLowerCase(),E==="select"||E==="input"&&b.type==="file")var R=see;else if(dz(b))if(rV)R=dee;else{R=cee;var D=lee}else(E=b.nodeName)&&E.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(R=uee);if(R&&(R=R(e,h))){nV(y,R,n,g);break e}D&&D(e,b,h),e==="focusout"&&(D=b._wrapperState)&&D.controlled&&b.type==="number"&&IO(b,"number",b.value)}switch(D=h?qp(h):window,e){case"focusin":(dz(D)||D.contentEditable==="true")&&(Vp=D,WO=h,t0=null);break;case"focusout":t0=WO=Vp=null;break;case"mousedown":qO=!0;break;case"contextmenu":case"mouseup":case"dragend":qO=!1,gz(y,n,g);break;case"selectionchange":if(pee)break;case"keydown":case"keyup":gz(y,n,g)}var F;if(GI)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else Up?eV(e,n)&&(q="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(q="onCompositionStart");q&&(QU&&n.locale!=="ko"&&(Up||q!=="onCompositionStart"?q==="onCompositionEnd"&&Up&&(F=JU()):(gd=g,WI="value"in gd?gd.value:gd.textContent,Up=!0)),D=ww(h,q),0<D.length&&(q=new sz(q,e,null,n,g),y.push({event:q,listeners:D}),F?q.data=F:(F=tV(n),F!==null&&(q.data=F)))),(F=nee?ree(e,n):iee(e,n))&&(h=ww(h,"onBeforeInput"),0<h.length&&(g=new sz("onBeforeInput","beforeinput",null,n,g),y.push({event:g,listeners:h}),g.data=F))}hV(y,t)})}function $0(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ww(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=T0(e,n),o!=null&&r.unshift($0(e,o,i)),o=T0(e,t),o!=null&&r.push($0(e,o,i))),e=e.return}return r}function vp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bz(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,f=a.alternate,h=a.stateNode;if(f!==null&&f===r)break;a.tag===5&&h!==null&&(a=h,i?(f=T0(n,o),f!=null&&s.unshift($0(n,f,a))):i||(f=T0(n,o),f!=null&&s.push($0(n,f,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var vee=/\r\n?/g,bee=/\u0000|\uFFFD/g;function xz(e){return(typeof e=="string"?e:""+e).replace(vee,`
`).replace(bee,"")}function K_(e,t,n){if(t=xz(t),xz(e)!==t&&n)throw Error(vt(425))}function Sw(){}var HO=null,GO=null;function YO(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var KO=typeof setTimeout=="function"?setTimeout:void 0,xee=typeof clearTimeout=="function"?clearTimeout:void 0,_z=typeof Promise=="function"?Promise:void 0,_ee=typeof queueMicrotask=="function"?queueMicrotask:typeof _z<"u"?function(e){return _z.resolve(null).then(e).catch(wee)}:KO;function wee(e){setTimeout(function(){throw e})}function wE(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),O0(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);O0(t)}function Ed(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wz(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var _g=Math.random().toString(36).slice(2),ec="__reactFiber$"+_g,R0="__reactProps$"+_g,lu="__reactContainer$"+_g,ZO="__reactEvents$"+_g,See="__reactListeners$"+_g,Cee="__reactHandles$"+_g;function Uf(e){var t=e[ec];if(t)return t;for(var n=e.parentNode;n;){if(t=n[lu]||n[ec]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wz(e);e!==null;){if(n=e[ec])return n;e=wz(e)}return t}e=n,n=e.parentNode}return null}function Yb(e){return e=e[ec]||e[lu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(vt(33))}function _2(e){return e[R0]||null}var XO=[],Hp=-1;function Kd(e){return{current:e}}function Yr(e){0>Hp||(e.current=XO[Hp],XO[Hp]=null,Hp--)}function zr(e,t){Hp++,XO[Hp]=e.current,e.current=t}var Bd={},Ho=Kd(Bd),$a=Kd(!1),ch=Bd;function Am(e,t){var n=e.type.contextTypes;if(!n)return Bd;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ra(e){return e=e.childContextTypes,e!=null}function Cw(){Yr($a),Yr(Ho)}function Sz(e,t,n){if(Ho.current!==Bd)throw Error(vt(168));zr(Ho,t),zr($a,n)}function mV(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(vt(108,lQ(e)||"Unknown",i));return pi({},n,r)}function kw(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bd,ch=Ho.current,zr(Ho,e),zr($a,$a.current),!0}function Cz(e,t,n){var r=e.stateNode;if(!r)throw Error(vt(169));n?(e=mV(e,t,ch),r.__reactInternalMemoizedMergedChildContext=e,Yr($a),Yr(Ho),zr(Ho,e)):Yr($a),zr($a,n)}var Vc=null,w2=!1,SE=!1;function gV(e){Vc===null?Vc=[e]:Vc.push(e)}function kee(e){w2=!0,gV(e)}function Zd(){if(!SE&&Vc!==null){SE=!0;var e=0,t=br;try{var n=Vc;for(br=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vc=null,w2=!1}catch(i){throw Vc!==null&&(Vc=Vc.slice(e+1)),FU(BI,Zd),i}finally{br=t,SE=!1}}return null}var Gp=[],Yp=0,Tw=null,Ew=0,As=[],Is=0,uh=null,Gc=1,Yc="";function Af(e,t){Gp[Yp++]=Ew,Gp[Yp++]=Tw,Tw=e,Ew=t}function yV(e,t,n){As[Is++]=Gc,As[Is++]=Yc,As[Is++]=uh,uh=e;var r=Gc;e=Yc;var i=32-Ml(r)-1;r&=~(1<<i),n+=1;var o=32-Ml(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Gc=1<<32-Ml(t)+i|n<<i|r,Yc=o+e}else Gc=1<<o|n<<i|r,Yc=e}function KI(e){e.return!==null&&(Af(e,1),yV(e,1,0))}function ZI(e){for(;e===Tw;)Tw=Gp[--Yp],Gp[Yp]=null,Ew=Gp[--Yp],Gp[Yp]=null;for(;e===uh;)uh=As[--Is],As[Is]=null,Yc=As[--Is],As[Is]=null,Gc=As[--Is],As[Is]=null}var rs=null,ns=null,ii=!1,wl=null;function vV(e,t){var n=js(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function kz(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rs=e,ns=Ed(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rs=e,ns=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=uh!==null?{id:Gc,overflow:Yc}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=js(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,rs=e,ns=null,!0):!1;default:return!1}}function JO(e){return(e.mode&1)!==0&&(e.flags&128)===0}function QO(e){if(ii){var t=ns;if(t){var n=t;if(!kz(e,t)){if(JO(e))throw Error(vt(418));t=Ed(n.nextSibling);var r=rs;t&&kz(e,t)?vV(r,n):(e.flags=e.flags&-4097|2,ii=!1,rs=e)}}else{if(JO(e))throw Error(vt(418));e.flags=e.flags&-4097|2,ii=!1,rs=e}}}function Tz(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rs=e}function Z_(e){if(e!==rs)return!1;if(!ii)return Tz(e),ii=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!YO(e.type,e.memoizedProps)),t&&(t=ns)){if(JO(e))throw bV(),Error(vt(418));for(;t;)vV(e,t),t=Ed(t.nextSibling)}if(Tz(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(vt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ns=Ed(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ns=null}}else ns=rs?Ed(e.stateNode.nextSibling):null;return!0}function bV(){for(var e=ns;e;)e=Ed(e.nextSibling)}function Im(){ns=rs=null,ii=!1}function XI(e){wl===null?wl=[e]:wl.push(e)}var Tee=_u.ReactCurrentBatchConfig;function vl(e,t){if(e&&e.defaultProps){t=pi({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Pw=Kd(null),Ow=null,Kp=null,JI=null;function QI(){JI=Kp=Ow=null}function e$(e){var t=Pw.current;Yr(Pw),e._currentValue=t}function eM(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function pm(e,t){Ow=e,JI=Kp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ma=!0),e.firstContext=null)}function qs(e){var t=e._currentValue;if(JI!==e)if(e={context:e,memoizedValue:t,next:null},Kp===null){if(Ow===null)throw Error(vt(308));Kp=e,Ow.dependencies={lanes:0,firstContext:e}}else Kp=Kp.next=e;return t}var Vf=null;function t$(e){Vf===null?Vf=[e]:Vf.push(e)}function xV(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,t$(t)):(n.next=i.next,i.next=n),t.interleaved=n,cu(e,r)}function cu(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var dd=!1;function n$(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _V(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nu(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pd(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,nr&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,cu(e,n)}return i=r.interleaved,i===null?(t.next=t,t$(r)):(t.next=i.next,i.next=t),r.interleaved=t,cu(e,n)}function q1(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,FI(e,n)}}function Ez(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mw(e,t,n,r){var i=e.updateQueue;dd=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var f=a,h=f.next;f.next=null,s===null?o=h:s.next=h,s=f;var g=e.alternate;g!==null&&(g=g.updateQueue,a=g.lastBaseUpdate,a!==s&&(a===null?g.firstBaseUpdate=h:a.next=h,g.lastBaseUpdate=f))}if(o!==null){var y=i.baseState;s=0,g=h=f=null,a=o;do{var b=a.lane,E=a.eventTime;if((r&b)===b){g!==null&&(g=g.next={eventTime:E,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=e,w=a;switch(b=t,E=n,w.tag){case 1:if(T=w.payload,typeof T=="function"){y=T.call(E,y,b);break e}y=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=w.payload,b=typeof T=="function"?T.call(E,y,b):T,b==null)break e;y=pi({},y,b);break e;case 2:dd=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,b=i.effects,b===null?i.effects=[a]:b.push(a))}else E={eventTime:E,lane:b,tag:a.tag,payload:a.payload,callback:a.callback,next:null},g===null?(h=g=E,f=y):g=g.next=E,s|=b;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;b=a,a=b.next,b.next=null,i.lastBaseUpdate=b,i.shared.pending=null}}while(!0);if(g===null&&(f=y),i.baseState=f,i.firstBaseUpdate=h,i.lastBaseUpdate=g,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);fh|=s,e.lanes=s,e.memoizedState=y}}function Pz(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(vt(191,i));i.call(r)}}}var wV=new xU.Component().refs;function tM(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pi({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var S2={isMounted:function(e){return(e=e._reactInternals)?Sh(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pa(),i=Md(e),o=nu(r,i);o.payload=t,n!=null&&(o.callback=n),t=Pd(e,o,i),t!==null&&(Al(t,e,i,r),q1(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pa(),i=Md(e),o=nu(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Pd(e,o,i),t!==null&&(Al(t,e,i,r),q1(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pa(),r=Md(e),i=nu(n,r);i.tag=2,t!=null&&(i.callback=t),t=Pd(e,i,r),t!==null&&(Al(t,e,r,n),q1(t,e,r))}};function Oz(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!A0(n,r)||!A0(i,o):!0}function SV(e,t,n){var r=!1,i=Bd,o=t.contextType;return typeof o=="object"&&o!==null?o=qs(o):(i=Ra(t)?ch:Ho.current,r=t.contextTypes,o=(r=r!=null)?Am(e,i):Bd),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=S2,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Mz(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&S2.enqueueReplaceState(t,t.state,null)}function nM(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=wV,n$(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=qs(o):(o=Ra(t)?ch:Ho.current,i.context=Am(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(tM(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&S2.enqueueReplaceState(i,i.state,null),Mw(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function av(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(vt(309));var r=n.stateNode}if(!r)throw Error(vt(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===wV&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(vt(284));if(!n._owner)throw Error(vt(290,e))}return e}function X_(e,t){throw e=Object.prototype.toString.call(t),Error(vt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Az(e){var t=e._init;return t(e._payload)}function CV(e){function t(A,O){if(e){var I=A.deletions;I===null?(A.deletions=[O],A.flags|=16):I.push(O)}}function n(A,O){if(!e)return null;for(;O!==null;)t(A,O),O=O.sibling;return null}function r(A,O){for(A=new Map;O!==null;)O.key!==null?A.set(O.key,O):A.set(O.index,O),O=O.sibling;return A}function i(A,O){return A=Ad(A,O),A.index=0,A.sibling=null,A}function o(A,O,I){return A.index=I,e?(I=A.alternate,I!==null?(I=I.index,I<O?(A.flags|=2,O):I):(A.flags|=2,O)):(A.flags|=1048576,O)}function s(A){return e&&A.alternate===null&&(A.flags|=2),A}function a(A,O,I,L){return O===null||O.tag!==6?(O=ME(I,A.mode,L),O.return=A,O):(O=i(O,I),O.return=A,O)}function f(A,O,I,L){var R=I.type;return R===Fp?g(A,O,I.props.children,L,I.key):O!==null&&(O.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===ud&&Az(R)===O.type)?(L=i(O,I.props),L.ref=av(A,O,I),L.return=A,L):(L=X1(I.type,I.key,I.props,null,A.mode,L),L.ref=av(A,O,I),L.return=A,L)}function h(A,O,I,L){return O===null||O.tag!==4||O.stateNode.containerInfo!==I.containerInfo||O.stateNode.implementation!==I.implementation?(O=AE(I,A.mode,L),O.return=A,O):(O=i(O,I.children||[]),O.return=A,O)}function g(A,O,I,L,R){return O===null||O.tag!==7?(O=eh(I,A.mode,L,R),O.return=A,O):(O=i(O,I),O.return=A,O)}function y(A,O,I){if(typeof O=="string"&&O!==""||typeof O=="number")return O=ME(""+O,A.mode,I),O.return=A,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case B_:return I=X1(O.type,O.key,O.props,null,A.mode,I),I.ref=av(A,null,O),I.return=A,I;case Bp:return O=AE(O,A.mode,I),O.return=A,O;case ud:var L=O._init;return y(A,L(O._payload),I)}if(Bv(O)||tv(O))return O=eh(O,A.mode,I,null),O.return=A,O;X_(A,O)}return null}function b(A,O,I,L){var R=O!==null?O.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return R!==null?null:a(A,O,""+I,L);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case B_:return I.key===R?f(A,O,I,L):null;case Bp:return I.key===R?h(A,O,I,L):null;case ud:return R=I._init,b(A,O,R(I._payload),L)}if(Bv(I)||tv(I))return R!==null?null:g(A,O,I,L,null);X_(A,I)}return null}function E(A,O,I,L,R){if(typeof L=="string"&&L!==""||typeof L=="number")return A=A.get(I)||null,a(O,A,""+L,R);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case B_:return A=A.get(L.key===null?I:L.key)||null,f(O,A,L,R);case Bp:return A=A.get(L.key===null?I:L.key)||null,h(O,A,L,R);case ud:var D=L._init;return E(A,O,I,D(L._payload),R)}if(Bv(L)||tv(L))return A=A.get(I)||null,g(O,A,L,R,null);X_(O,L)}return null}function T(A,O,I,L){for(var R=null,D=null,F=O,q=O=0,J=null;F!==null&&q<I.length;q++){F.index>q?(J=F,F=null):J=F.sibling;var K=b(A,F,I[q],L);if(K===null){F===null&&(F=J);break}e&&F&&K.alternate===null&&t(A,F),O=o(K,O,q),D===null?R=K:D.sibling=K,D=K,F=J}if(q===I.length)return n(A,F),ii&&Af(A,q),R;if(F===null){for(;q<I.length;q++)F=y(A,I[q],L),F!==null&&(O=o(F,O,q),D===null?R=F:D.sibling=F,D=F);return ii&&Af(A,q),R}for(F=r(A,F);q<I.length;q++)J=E(F,A,q,I[q],L),J!==null&&(e&&J.alternate!==null&&F.delete(J.key===null?q:J.key),O=o(J,O,q),D===null?R=J:D.sibling=J,D=J);return e&&F.forEach(function(ne){return t(A,ne)}),ii&&Af(A,q),R}function w(A,O,I,L){var R=tv(I);if(typeof R!="function")throw Error(vt(150));if(I=R.call(I),I==null)throw Error(vt(151));for(var D=R=null,F=O,q=O=0,J=null,K=I.next();F!==null&&!K.done;q++,K=I.next()){F.index>q?(J=F,F=null):J=F.sibling;var ne=b(A,F,K.value,L);if(ne===null){F===null&&(F=J);break}e&&F&&ne.alternate===null&&t(A,F),O=o(ne,O,q),D===null?R=ne:D.sibling=ne,D=ne,F=J}if(K.done)return n(A,F),ii&&Af(A,q),R;if(F===null){for(;!K.done;q++,K=I.next())K=y(A,K.value,L),K!==null&&(O=o(K,O,q),D===null?R=K:D.sibling=K,D=K);return ii&&Af(A,q),R}for(F=r(A,F);!K.done;q++,K=I.next())K=E(F,A,q,K.value,L),K!==null&&(e&&K.alternate!==null&&F.delete(K.key===null?q:K.key),O=o(K,O,q),D===null?R=K:D.sibling=K,D=K);return e&&F.forEach(function(le){return t(A,le)}),ii&&Af(A,q),R}function M(A,O,I,L){if(typeof I=="object"&&I!==null&&I.type===Fp&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case B_:e:{for(var R=I.key,D=O;D!==null;){if(D.key===R){if(R=I.type,R===Fp){if(D.tag===7){n(A,D.sibling),O=i(D,I.props.children),O.return=A,A=O;break e}}else if(D.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===ud&&Az(R)===D.type){n(A,D.sibling),O=i(D,I.props),O.ref=av(A,D,I),O.return=A,A=O;break e}n(A,D);break}else t(A,D);D=D.sibling}I.type===Fp?(O=eh(I.props.children,A.mode,L,I.key),O.return=A,A=O):(L=X1(I.type,I.key,I.props,null,A.mode,L),L.ref=av(A,O,I),L.return=A,A=L)}return s(A);case Bp:e:{for(D=I.key;O!==null;){if(O.key===D)if(O.tag===4&&O.stateNode.containerInfo===I.containerInfo&&O.stateNode.implementation===I.implementation){n(A,O.sibling),O=i(O,I.children||[]),O.return=A,A=O;break e}else{n(A,O);break}else t(A,O);O=O.sibling}O=AE(I,A.mode,L),O.return=A,A=O}return s(A);case ud:return D=I._init,M(A,O,D(I._payload),L)}if(Bv(I))return T(A,O,I,L);if(tv(I))return w(A,O,I,L);X_(A,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,O!==null&&O.tag===6?(n(A,O.sibling),O=i(O,I),O.return=A,A=O):(n(A,O),O=ME(I,A.mode,L),O.return=A,A=O),s(A)):n(A,O)}return M}var $m=CV(!0),kV=CV(!1),Kb={},ic=Kd(Kb),D0=Kd(Kb),j0=Kd(Kb);function Wf(e){if(e===Kb)throw Error(vt(174));return e}function r$(e,t){switch(zr(j0,t),zr(D0,e),zr(ic,Kb),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:RO(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=RO(t,e)}Yr(ic),zr(ic,t)}function Rm(){Yr(ic),Yr(D0),Yr(j0)}function TV(e){Wf(j0.current);var t=Wf(ic.current),n=RO(t,e.type);t!==n&&(zr(D0,e),zr(ic,n))}function i$(e){D0.current===e&&(Yr(ic),Yr(D0))}var di=Kd(0);function Aw(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var CE=[];function o$(){for(var e=0;e<CE.length;e++)CE[e]._workInProgressVersionPrimary=null;CE.length=0}var H1=_u.ReactCurrentDispatcher,kE=_u.ReactCurrentBatchConfig,dh=0,hi=null,Hi=null,oo=null,Iw=!1,n0=!1,L0=0,Eee=0;function Io(){throw Error(vt(321))}function a$(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$l(e[n],t[n]))return!1;return!0}function s$(e,t,n,r,i,o){if(dh=o,hi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,H1.current=e===null||e.memoizedState===null?Aee:Iee,e=n(r,i),n0){o=0;do{if(n0=!1,L0=0,25<=o)throw Error(vt(301));o+=1,oo=Hi=null,t.updateQueue=null,H1.current=$ee,e=n(r,i)}while(n0)}if(H1.current=$w,t=Hi!==null&&Hi.next!==null,dh=0,oo=Hi=hi=null,Iw=!1,t)throw Error(vt(300));return e}function l$(){var e=L0!==0;return L0=0,e}function Xl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oo===null?hi.memoizedState=oo=e:oo=oo.next=e,oo}function Hs(){if(Hi===null){var e=hi.alternate;e=e!==null?e.memoizedState:null}else e=Hi.next;var t=oo===null?hi.memoizedState:oo.next;if(t!==null)oo=t,Hi=e;else{if(e===null)throw Error(vt(310));Hi=e,e={memoizedState:Hi.memoizedState,baseState:Hi.baseState,baseQueue:Hi.baseQueue,queue:Hi.queue,next:null},oo===null?hi.memoizedState=oo=e:oo=oo.next=e}return oo}function N0(e,t){return typeof t=="function"?t(e):t}function TE(e){var t=Hs(),n=t.queue;if(n===null)throw Error(vt(311));n.lastRenderedReducer=e;var r=Hi,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,f=null,h=o;do{var g=h.lane;if((dh&g)===g)f!==null&&(f=f.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var y={lane:g,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};f===null?(a=f=y,s=r):f=f.next=y,hi.lanes|=g,fh|=g}h=h.next}while(h!==null&&h!==o);f===null?s=r:f.next=a,$l(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=f,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,hi.lanes|=o,fh|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function EE(e){var t=Hs(),n=t.queue;if(n===null)throw Error(vt(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);$l(o,t.memoizedState)||(Ma=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function EV(){}function PV(e,t){var n=hi,r=Hs(),i=t(),o=!$l(r.memoizedState,i);if(o&&(r.memoizedState=i,Ma=!0),r=r.queue,c$(AV.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||oo!==null&&oo.memoizedState.tag&1){if(n.flags|=2048,z0(9,MV.bind(null,n,r,i,t),void 0,null),ao===null)throw Error(vt(349));dh&30||OV(n,t,i)}return i}function OV(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=hi.updateQueue,t===null?(t={lastEffect:null,stores:null},hi.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function MV(e,t,n,r){t.value=n,t.getSnapshot=r,IV(t)&&$V(e)}function AV(e,t,n){return n(function(){IV(t)&&$V(e)})}function IV(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$l(e,n)}catch{return!0}}function $V(e){var t=cu(e,1);t!==null&&Al(t,e,1,-1)}function Iz(e){var t=Xl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:N0,lastRenderedState:e},t.queue=e,e=e.dispatch=Mee.bind(null,hi,e),[t.memoizedState,e]}function z0(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=hi.updateQueue,t===null?(t={lastEffect:null,stores:null},hi.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function RV(){return Hs().memoizedState}function G1(e,t,n,r){var i=Xl();hi.flags|=e,i.memoizedState=z0(1|t,n,void 0,r===void 0?null:r)}function C2(e,t,n,r){var i=Hs();r=r===void 0?null:r;var o=void 0;if(Hi!==null){var s=Hi.memoizedState;if(o=s.destroy,r!==null&&a$(r,s.deps)){i.memoizedState=z0(t,n,o,r);return}}hi.flags|=e,i.memoizedState=z0(1|t,n,o,r)}function $z(e,t){return G1(8390656,8,e,t)}function c$(e,t){return C2(2048,8,e,t)}function DV(e,t){return C2(4,2,e,t)}function jV(e,t){return C2(4,4,e,t)}function LV(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function NV(e,t,n){return n=n!=null?n.concat([e]):null,C2(4,4,LV.bind(null,t,e),n)}function u$(){}function zV(e,t){var n=Hs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&a$(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function BV(e,t){var n=Hs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&a$(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function FV(e,t,n){return dh&21?($l(n,t)||(n=WU(),hi.lanes|=n,fh|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ma=!0),e.memoizedState=n)}function Pee(e,t){var n=br;br=n!==0&&4>n?n:4,e(!0);var r=kE.transition;kE.transition={};try{e(!1),t()}finally{br=n,kE.transition=r}}function UV(){return Hs().memoizedState}function Oee(e,t,n){var r=Md(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},VV(e))WV(t,n);else if(n=xV(e,t,n,r),n!==null){var i=pa();Al(n,e,r,i),qV(n,t,r)}}function Mee(e,t,n){var r=Md(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(VV(e))WV(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,$l(a,s)){var f=t.interleaved;f===null?(i.next=i,t$(t)):(i.next=f.next,f.next=i),t.interleaved=i;return}}catch{}finally{}n=xV(e,t,i,r),n!==null&&(i=pa(),Al(n,e,r,i),qV(n,t,r))}}function VV(e){var t=e.alternate;return e===hi||t!==null&&t===hi}function WV(e,t){n0=Iw=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qV(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,FI(e,n)}}var $w={readContext:qs,useCallback:Io,useContext:Io,useEffect:Io,useImperativeHandle:Io,useInsertionEffect:Io,useLayoutEffect:Io,useMemo:Io,useReducer:Io,useRef:Io,useState:Io,useDebugValue:Io,useDeferredValue:Io,useTransition:Io,useMutableSource:Io,useSyncExternalStore:Io,useId:Io,unstable_isNewReconciler:!1},Aee={readContext:qs,useCallback:function(e,t){return Xl().memoizedState=[e,t===void 0?null:t],e},useContext:qs,useEffect:$z,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,G1(4194308,4,LV.bind(null,t,e),n)},useLayoutEffect:function(e,t){return G1(4194308,4,e,t)},useInsertionEffect:function(e,t){return G1(4,2,e,t)},useMemo:function(e,t){var n=Xl();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xl();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Oee.bind(null,hi,e),[r.memoizedState,e]},useRef:function(e){var t=Xl();return e={current:e},t.memoizedState=e},useState:Iz,useDebugValue:u$,useDeferredValue:function(e){return Xl().memoizedState=e},useTransition:function(){var e=Iz(!1),t=e[0];return e=Pee.bind(null,e[1]),Xl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=hi,i=Xl();if(ii){if(n===void 0)throw Error(vt(407));n=n()}else{if(n=t(),ao===null)throw Error(vt(349));dh&30||OV(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,$z(AV.bind(null,r,o,e),[e]),r.flags|=2048,z0(9,MV.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Xl(),t=ao.identifierPrefix;if(ii){var n=Yc,r=Gc;n=(r&~(1<<32-Ml(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=L0++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Eee++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Iee={readContext:qs,useCallback:zV,useContext:qs,useEffect:c$,useImperativeHandle:NV,useInsertionEffect:DV,useLayoutEffect:jV,useMemo:BV,useReducer:TE,useRef:RV,useState:function(){return TE(N0)},useDebugValue:u$,useDeferredValue:function(e){var t=Hs();return FV(t,Hi.memoizedState,e)},useTransition:function(){var e=TE(N0)[0],t=Hs().memoizedState;return[e,t]},useMutableSource:EV,useSyncExternalStore:PV,useId:UV,unstable_isNewReconciler:!1},$ee={readContext:qs,useCallback:zV,useContext:qs,useEffect:c$,useImperativeHandle:NV,useInsertionEffect:DV,useLayoutEffect:jV,useMemo:BV,useReducer:EE,useRef:RV,useState:function(){return EE(N0)},useDebugValue:u$,useDeferredValue:function(e){var t=Hs();return Hi===null?t.memoizedState=e:FV(t,Hi.memoizedState,e)},useTransition:function(){var e=EE(N0)[0],t=Hs().memoizedState;return[e,t]},useMutableSource:EV,useSyncExternalStore:PV,useId:UV,unstable_isNewReconciler:!1};function Dm(e,t){try{var n="",r=t;do n+=sQ(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function PE(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function rM(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ree=typeof WeakMap=="function"?WeakMap:Map;function HV(e,t,n){n=nu(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Dw||(Dw=!0,hM=r),rM(e,t)},n}function GV(e,t,n){n=nu(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){rM(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){rM(e,t),typeof r!="function"&&(Od===null?Od=new Set([this]):Od.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Rz(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ree;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Yee.bind(null,e,t,n),t.then(e,e))}function Dz(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jz(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=nu(-1,1),t.tag=2,Pd(n,t,1))),n.lanes|=1),e)}var Dee=_u.ReactCurrentOwner,Ma=!1;function la(e,t,n,r){t.child=e===null?kV(t,null,n,r):$m(t,e.child,n,r)}function Lz(e,t,n,r,i){n=n.render;var o=t.ref;return pm(t,i),r=s$(e,t,n,r,o,i),n=l$(),e!==null&&!Ma?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,uu(e,t,i)):(ii&&n&&KI(t),t.flags|=1,la(e,t,r,i),t.child)}function Nz(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!v$(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,YV(e,t,o,r,i)):(e=X1(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:A0,n(s,r)&&e.ref===t.ref)return uu(e,t,i)}return t.flags|=1,e=Ad(o,r),e.ref=t.ref,e.return=t,t.child=e}function YV(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(A0(o,r)&&e.ref===t.ref)if(Ma=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Ma=!0);else return t.lanes=e.lanes,uu(e,t,i)}return iM(e,t,n,r,i)}function KV(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},zr(Xp,Za),Za|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,zr(Xp,Za),Za|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,zr(Xp,Za),Za|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,zr(Xp,Za),Za|=r;return la(e,t,i,n),t.child}function ZV(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function iM(e,t,n,r,i){var o=Ra(n)?ch:Ho.current;return o=Am(t,o),pm(t,i),n=s$(e,t,n,r,o,i),r=l$(),e!==null&&!Ma?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,uu(e,t,i)):(ii&&r&&KI(t),t.flags|=1,la(e,t,n,i),t.child)}function zz(e,t,n,r,i){if(Ra(n)){var o=!0;kw(t)}else o=!1;if(pm(t,i),t.stateNode===null)Y1(e,t),SV(t,n,r),nM(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var f=s.context,h=n.contextType;typeof h=="object"&&h!==null?h=qs(h):(h=Ra(n)?ch:Ho.current,h=Am(t,h));var g=n.getDerivedStateFromProps,y=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function";y||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||f!==h)&&Mz(t,s,r,h),dd=!1;var b=t.memoizedState;s.state=b,Mw(t,r,s,i),f=t.memoizedState,a!==r||b!==f||$a.current||dd?(typeof g=="function"&&(tM(t,n,g,r),f=t.memoizedState),(a=dd||Oz(t,n,a,r,b,f,h))?(y||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=h,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,_V(e,t),a=t.memoizedProps,h=t.type===t.elementType?a:vl(t.type,a),s.props=h,y=t.pendingProps,b=s.context,f=n.contextType,typeof f=="object"&&f!==null?f=qs(f):(f=Ra(n)?ch:Ho.current,f=Am(t,f));var E=n.getDerivedStateFromProps;(g=typeof E=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==y||b!==f)&&Mz(t,s,r,f),dd=!1,b=t.memoizedState,s.state=b,Mw(t,r,s,i);var T=t.memoizedState;a!==y||b!==T||$a.current||dd?(typeof E=="function"&&(tM(t,n,E,r),T=t.memoizedState),(h=dd||Oz(t,n,h,r,b,T,f)||!1)?(g||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,T,f),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,T,f)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=T),s.props=r,s.state=T,s.context=f,r=h):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),r=!1)}return oM(e,t,n,r,o,i)}function oM(e,t,n,r,i,o){ZV(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Cz(t,n,!1),uu(e,t,o);r=t.stateNode,Dee.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=$m(t,e.child,null,o),t.child=$m(t,null,a,o)):la(e,t,a,o),t.memoizedState=r.state,i&&Cz(t,n,!0),t.child}function XV(e){var t=e.stateNode;t.pendingContext?Sz(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sz(e,t.context,!1),r$(e,t.containerInfo)}function Bz(e,t,n,r,i){return Im(),XI(i),t.flags|=256,la(e,t,n,r),t.child}var aM={dehydrated:null,treeContext:null,retryLane:0};function sM(e){return{baseLanes:e,cachePool:null,transitions:null}}function JV(e,t,n){var r=t.pendingProps,i=di.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),zr(di,i&1),e===null)return QO(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=E2(s,r,0,null),e=eh(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=sM(n),t.memoizedState=aM,e):d$(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return jee(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var f={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=f,t.deletions=null):(r=Ad(i,f),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ad(a,o):(o=eh(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?sM(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=aM,r}return o=e.child,e=o.sibling,r=Ad(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function d$(e,t){return t=E2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function J_(e,t,n,r){return r!==null&&XI(r),$m(t,e.child,null,n),e=d$(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jee(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=PE(Error(vt(422))),J_(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=E2({mode:"visible",children:r.children},i,0,null),o=eh(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&$m(t,e.child,null,s),t.child.memoizedState=sM(s),t.memoizedState=aM,o);if(!(t.mode&1))return J_(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(vt(419)),r=PE(o,r,void 0),J_(e,t,s,r)}if(a=(s&e.childLanes)!==0,Ma||a){if(r=ao,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,cu(e,i),Al(r,e,i,-1))}return y$(),r=PE(Error(vt(421))),J_(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Kee.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ns=Ed(i.nextSibling),rs=t,ii=!0,wl=null,e!==null&&(As[Is++]=Gc,As[Is++]=Yc,As[Is++]=uh,Gc=e.id,Yc=e.overflow,uh=t),t=d$(t,r.children),t.flags|=4096,t)}function Fz(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),eM(e.return,t,n)}function OE(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function QV(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(la(e,t,r.children,n),r=di.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fz(e,n,t);else if(e.tag===19)Fz(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(zr(di,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Aw(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),OE(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Aw(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}OE(t,!0,n,null,o);break;case"together":OE(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Y1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function uu(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fh|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(vt(153));if(t.child!==null){for(e=t.child,n=Ad(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ad(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Lee(e,t,n){switch(t.tag){case 3:XV(t),Im();break;case 5:TV(t);break;case 1:Ra(t.type)&&kw(t);break;case 4:r$(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;zr(Pw,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(zr(di,di.current&1),t.flags|=128,null):n&t.child.childLanes?JV(e,t,n):(zr(di,di.current&1),e=uu(e,t,n),e!==null?e.sibling:null);zr(di,di.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return QV(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),zr(di,di.current),r)break;return null;case 22:case 23:return t.lanes=0,KV(e,t,n)}return uu(e,t,n)}var eW,lM,tW,nW;eW=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lM=function(){};tW=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Wf(ic.current);var o=null;switch(n){case"input":i=MO(e,i),r=MO(e,r),o=[];break;case"select":i=pi({},i,{value:void 0}),r=pi({},r,{value:void 0}),o=[];break;case"textarea":i=$O(e,i),r=$O(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Sw)}DO(n,r);var s;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(C0.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var f=r[h];if(a=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&f!==a&&(f!=null||a!=null))if(h==="style")if(a){for(s in a)!a.hasOwnProperty(s)||f&&f.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in f)f.hasOwnProperty(s)&&a[s]!==f[s]&&(n||(n={}),n[s]=f[s])}else n||(o||(o=[]),o.push(h,n)),n=f;else h==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,a=a?a.__html:void 0,f!=null&&a!==f&&(o=o||[]).push(h,f)):h==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(h,""+f):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(C0.hasOwnProperty(h)?(f!=null&&h==="onScroll"&&qr("scroll",e),o||a===f||(o=[])):(o=o||[]).push(h,f))}n&&(o=o||[]).push("style",n);var h=o;(t.updateQueue=h)&&(t.flags|=4)}};nW=function(e,t,n,r){n!==r&&(t.flags|=4)};function sv(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $o(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Nee(e,t,n){var r=t.pendingProps;switch(ZI(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $o(t),null;case 1:return Ra(t.type)&&Cw(),$o(t),null;case 3:return r=t.stateNode,Rm(),Yr($a),Yr(Ho),o$(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Z_(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wl!==null&&(gM(wl),wl=null))),lM(e,t),$o(t),null;case 5:i$(t);var i=Wf(j0.current);if(n=t.type,e!==null&&t.stateNode!=null)tW(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(vt(166));return $o(t),null}if(e=Wf(ic.current),Z_(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ec]=t,r[R0]=o,e=(t.mode&1)!==0,n){case"dialog":qr("cancel",r),qr("close",r);break;case"iframe":case"object":case"embed":qr("load",r);break;case"video":case"audio":for(i=0;i<Uv.length;i++)qr(Uv[i],r);break;case"source":qr("error",r);break;case"img":case"image":case"link":qr("error",r),qr("load",r);break;case"details":qr("toggle",r);break;case"input":ZN(r,o),qr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},qr("invalid",r);break;case"textarea":JN(r,o),qr("invalid",r)}DO(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&K_(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&K_(r.textContent,a,e),i=["children",""+a]):C0.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&qr("scroll",r)}switch(n){case"input":F_(r),XN(r,o,!0);break;case"textarea":F_(r),QN(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Sw)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=OU(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ec]=t,e[R0]=r,eW(e,t,!1,!1),t.stateNode=e;e:{switch(s=jO(n,r),n){case"dialog":qr("cancel",e),qr("close",e),i=r;break;case"iframe":case"object":case"embed":qr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Uv.length;i++)qr(Uv[i],e);i=r;break;case"source":qr("error",e),i=r;break;case"img":case"image":case"link":qr("error",e),qr("load",e),i=r;break;case"details":qr("toggle",e),i=r;break;case"input":ZN(e,r),i=MO(e,r),qr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=pi({},r,{value:void 0}),qr("invalid",e);break;case"textarea":JN(e,r),i=$O(e,r),qr("invalid",e);break;default:i=r}DO(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var f=a[o];o==="style"?IU(e,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&MU(e,f)):o==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&k0(e,f):typeof f=="number"&&k0(e,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(C0.hasOwnProperty(o)?f!=null&&o==="onScroll"&&qr("scroll",e):f!=null&&DI(e,o,f,s))}switch(n){case"input":F_(e),XN(e,r,!1);break;case"textarea":F_(e),QN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+zd(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?um(e,!!r.multiple,o,!1):r.defaultValue!=null&&um(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Sw)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $o(t),null;case 6:if(e&&t.stateNode!=null)nW(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(vt(166));if(n=Wf(j0.current),Wf(ic.current),Z_(t)){if(r=t.stateNode,n=t.memoizedProps,r[ec]=t,(o=r.nodeValue!==n)&&(e=rs,e!==null))switch(e.tag){case 3:K_(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&K_(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ec]=t,t.stateNode=r}return $o(t),null;case 13:if(Yr(di),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ii&&ns!==null&&t.mode&1&&!(t.flags&128))bV(),Im(),t.flags|=98560,o=!1;else if(o=Z_(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(vt(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(vt(317));o[ec]=t}else Im(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$o(t),o=!1}else wl!==null&&(gM(wl),wl=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||di.current&1?Gi===0&&(Gi=3):y$())),t.updateQueue!==null&&(t.flags|=4),$o(t),null);case 4:return Rm(),lM(e,t),e===null&&I0(t.stateNode.containerInfo),$o(t),null;case 10:return e$(t.type._context),$o(t),null;case 17:return Ra(t.type)&&Cw(),$o(t),null;case 19:if(Yr(di),o=t.memoizedState,o===null)return $o(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)sv(o,!1);else{if(Gi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Aw(e),s!==null){for(t.flags|=128,sv(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return zr(di,di.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ai()>jm&&(t.flags|=128,r=!0,sv(o,!1),t.lanes=4194304)}else{if(!r)if(e=Aw(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),sv(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ii)return $o(t),null}else 2*Ai()-o.renderingStartTime>jm&&n!==1073741824&&(t.flags|=128,r=!0,sv(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ai(),t.sibling=null,n=di.current,zr(di,r?n&1|2:n&1),t):($o(t),null);case 22:case 23:return g$(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Za&1073741824&&($o(t),t.subtreeFlags&6&&(t.flags|=8192)):$o(t),null;case 24:return null;case 25:return null}throw Error(vt(156,t.tag))}function zee(e,t){switch(ZI(t),t.tag){case 1:return Ra(t.type)&&Cw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rm(),Yr($a),Yr(Ho),o$(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return i$(t),null;case 13:if(Yr(di),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(vt(340));Im()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Yr(di),null;case 4:return Rm(),null;case 10:return e$(t.type._context),null;case 22:case 23:return g$(),null;case 24:return null;default:return null}}var Q_=!1,zo=!1,Bee=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function Zp(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xi(e,t,r)}else n.current=null}function cM(e,t,n){try{n()}catch(r){xi(e,t,r)}}var Uz=!1;function Fee(e,t){if(HO=xw,e=aV(),YI(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,f=-1,h=0,g=0,y=e,b=null;t:for(;;){for(var E;y!==n||i!==0&&y.nodeType!==3||(a=s+i),y!==o||r!==0&&y.nodeType!==3||(f=s+r),y.nodeType===3&&(s+=y.nodeValue.length),(E=y.firstChild)!==null;)b=y,y=E;for(;;){if(y===e)break t;if(b===n&&++h===i&&(a=s),b===o&&++g===r&&(f=s),(E=y.nextSibling)!==null)break;y=b,b=y.parentNode}y=E}n=a===-1||f===-1?null:{start:a,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(GO={focusedElem:e,selectionRange:n},xw=!1,Yt=t;Yt!==null;)if(t=Yt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Yt=e;else for(;Yt!==null;){t=Yt;try{var T=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var w=T.memoizedProps,M=T.memoizedState,A=t.stateNode,O=A.getSnapshotBeforeUpdate(t.elementType===t.type?w:vl(t.type,w),M);A.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var I=t.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(vt(163))}}catch(L){xi(t,t.return,L)}if(e=t.sibling,e!==null){e.return=t.return,Yt=e;break}Yt=t.return}return T=Uz,Uz=!1,T}function r0(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&cM(t,n,o)}i=i.next}while(i!==r)}}function k2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function uM(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function rW(e){var t=e.alternate;t!==null&&(e.alternate=null,rW(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ec],delete t[R0],delete t[ZO],delete t[See],delete t[Cee])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function iW(e){return e.tag===5||e.tag===3||e.tag===4}function Vz(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||iW(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dM(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Sw));else if(r!==4&&(e=e.child,e!==null))for(dM(e,t,n),e=e.sibling;e!==null;)dM(e,t,n),e=e.sibling}function fM(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fM(e,t,n),e=e.sibling;e!==null;)fM(e,t,n),e=e.sibling}var vo=null,bl=!1;function Ju(e,t,n){for(n=n.child;n!==null;)oW(e,t,n),n=n.sibling}function oW(e,t,n){if(rc&&typeof rc.onCommitFiberUnmount=="function")try{rc.onCommitFiberUnmount(y2,n)}catch{}switch(n.tag){case 5:zo||Zp(n,t);case 6:var r=vo,i=bl;vo=null,Ju(e,t,n),vo=r,bl=i,vo!==null&&(bl?(e=vo,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vo.removeChild(n.stateNode));break;case 18:vo!==null&&(bl?(e=vo,n=n.stateNode,e.nodeType===8?wE(e.parentNode,n):e.nodeType===1&&wE(e,n),O0(e)):wE(vo,n.stateNode));break;case 4:r=vo,i=bl,vo=n.stateNode.containerInfo,bl=!0,Ju(e,t,n),vo=r,bl=i;break;case 0:case 11:case 14:case 15:if(!zo&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&cM(n,t,s),i=i.next}while(i!==r)}Ju(e,t,n);break;case 1:if(!zo&&(Zp(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xi(n,t,a)}Ju(e,t,n);break;case 21:Ju(e,t,n);break;case 22:n.mode&1?(zo=(r=zo)||n.memoizedState!==null,Ju(e,t,n),zo=r):Ju(e,t,n);break;default:Ju(e,t,n)}}function Wz(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Bee),t.forEach(function(r){var i=Zee.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function hl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:vo=a.stateNode,bl=!1;break e;case 3:vo=a.stateNode.containerInfo,bl=!0;break e;case 4:vo=a.stateNode.containerInfo,bl=!0;break e}a=a.return}if(vo===null)throw Error(vt(160));oW(o,s,i),vo=null,bl=!1;var f=i.alternate;f!==null&&(f.return=null),i.return=null}catch(h){xi(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)aW(t,e),t=t.sibling}function aW(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hl(t,e),Kl(e),r&4){try{r0(3,e,e.return),k2(3,e)}catch(w){xi(e,e.return,w)}try{r0(5,e,e.return)}catch(w){xi(e,e.return,w)}}break;case 1:hl(t,e),Kl(e),r&512&&n!==null&&Zp(n,n.return);break;case 5:if(hl(t,e),Kl(e),r&512&&n!==null&&Zp(n,n.return),e.flags&32){var i=e.stateNode;try{k0(i,"")}catch(w){xi(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&EU(i,o),jO(a,s);var h=jO(a,o);for(s=0;s<f.length;s+=2){var g=f[s],y=f[s+1];g==="style"?IU(i,y):g==="dangerouslySetInnerHTML"?MU(i,y):g==="children"?k0(i,y):DI(i,g,y,h)}switch(a){case"input":AO(i,o);break;case"textarea":PU(i,o);break;case"select":var b=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?um(i,!!o.multiple,E,!1):b!==!!o.multiple&&(o.defaultValue!=null?um(i,!!o.multiple,o.defaultValue,!0):um(i,!!o.multiple,o.multiple?[]:"",!1))}i[R0]=o}catch(w){xi(e,e.return,w)}}break;case 6:if(hl(t,e),Kl(e),r&4){if(e.stateNode===null)throw Error(vt(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(w){xi(e,e.return,w)}}break;case 3:if(hl(t,e),Kl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{O0(t.containerInfo)}catch(w){xi(e,e.return,w)}break;case 4:hl(t,e),Kl(e);break;case 13:hl(t,e),Kl(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(p$=Ai())),r&4&&Wz(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(zo=(h=zo)||g,hl(t,e),zo=h):hl(t,e),Kl(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!g&&e.mode&1)for(Yt=e,g=e.child;g!==null;){for(y=Yt=g;Yt!==null;){switch(b=Yt,E=b.child,b.tag){case 0:case 11:case 14:case 15:r0(4,b,b.return);break;case 1:Zp(b,b.return);var T=b.stateNode;if(typeof T.componentWillUnmount=="function"){r=b,n=b.return;try{t=r,T.props=t.memoizedProps,T.state=t.memoizedState,T.componentWillUnmount()}catch(w){xi(r,n,w)}}break;case 5:Zp(b,b.return);break;case 22:if(b.memoizedState!==null){Hz(y);continue}}E!==null?(E.return=b,Yt=E):Hz(y)}g=g.sibling}e:for(g=null,y=e;;){if(y.tag===5){if(g===null){g=y;try{i=y.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=y.stateNode,f=y.memoizedProps.style,s=f!=null&&f.hasOwnProperty("display")?f.display:null,a.style.display=AU("display",s))}catch(w){xi(e,e.return,w)}}}else if(y.tag===6){if(g===null)try{y.stateNode.nodeValue=h?"":y.memoizedProps}catch(w){xi(e,e.return,w)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break e;for(;y.sibling===null;){if(y.return===null||y.return===e)break e;g===y&&(g=null),y=y.return}g===y&&(g=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:hl(t,e),Kl(e),r&4&&Wz(e);break;case 21:break;default:hl(t,e),Kl(e)}}function Kl(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(iW(n)){var r=n;break e}n=n.return}throw Error(vt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(k0(i,""),r.flags&=-33);var o=Vz(e);fM(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Vz(e);dM(e,a,s);break;default:throw Error(vt(161))}}catch(f){xi(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Uee(e,t,n){Yt=e,sW(e)}function sW(e,t,n){for(var r=(e.mode&1)!==0;Yt!==null;){var i=Yt,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Q_;if(!s){var a=i.alternate,f=a!==null&&a.memoizedState!==null||zo;a=Q_;var h=zo;if(Q_=s,(zo=f)&&!h)for(Yt=i;Yt!==null;)s=Yt,f=s.child,s.tag===22&&s.memoizedState!==null?Gz(i):f!==null?(f.return=s,Yt=f):Gz(i);for(;o!==null;)Yt=o,sW(o),o=o.sibling;Yt=i,Q_=a,zo=h}qz(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Yt=o):qz(e)}}function qz(e){for(;Yt!==null;){var t=Yt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:zo||k2(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!zo)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vl(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Pz(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Pz(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var g=h.memoizedState;if(g!==null){var y=g.dehydrated;y!==null&&O0(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(vt(163))}zo||t.flags&512&&uM(t)}catch(b){xi(t,t.return,b)}}if(t===e){Yt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Yt=n;break}Yt=t.return}}function Hz(e){for(;Yt!==null;){var t=Yt;if(t===e){Yt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Yt=n;break}Yt=t.return}}function Gz(e){for(;Yt!==null;){var t=Yt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{k2(4,t)}catch(f){xi(t,n,f)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(f){xi(t,i,f)}}var o=t.return;try{uM(t)}catch(f){xi(t,o,f)}break;case 5:var s=t.return;try{uM(t)}catch(f){xi(t,s,f)}}}catch(f){xi(t,t.return,f)}if(t===e){Yt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Yt=a;break}Yt=t.return}}var Vee=Math.ceil,Rw=_u.ReactCurrentDispatcher,f$=_u.ReactCurrentOwner,zs=_u.ReactCurrentBatchConfig,nr=0,ao=null,Ni=null,wo=0,Za=0,Xp=Kd(0),Gi=0,B0=null,fh=0,T2=0,h$=0,i0=null,Ea=null,p$=0,jm=1/0,Fc=null,Dw=!1,hM=null,Od=null,e1=!1,yd=null,jw=0,o0=0,pM=null,K1=-1,Z1=0;function pa(){return nr&6?Ai():K1!==-1?K1:K1=Ai()}function Md(e){return e.mode&1?nr&2&&wo!==0?wo&-wo:Tee.transition!==null?(Z1===0&&(Z1=WU()),Z1):(e=br,e!==0||(e=window.event,e=e===void 0?16:XU(e.type)),e):1}function Al(e,t,n,r){if(50<o0)throw o0=0,pM=null,Error(vt(185));Hb(e,n,r),(!(nr&2)||e!==ao)&&(e===ao&&(!(nr&2)&&(T2|=n),Gi===4&&pd(e,wo)),Da(e,r),n===1&&nr===0&&!(t.mode&1)&&(jm=Ai()+500,w2&&Zd()))}function Da(e,t){var n=e.callbackNode;TQ(e,t);var r=bw(e,e===ao?wo:0);if(r===0)n!==null&&nz(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&nz(n),t===1)e.tag===0?kee(Yz.bind(null,e)):gV(Yz.bind(null,e)),_ee(function(){!(nr&6)&&Zd()}),n=null;else{switch(qU(r)){case 1:n=BI;break;case 4:n=UU;break;case 16:n=vw;break;case 536870912:n=VU;break;default:n=vw}n=mW(n,lW.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lW(e,t){if(K1=-1,Z1=0,nr&6)throw Error(vt(327));var n=e.callbackNode;if(mm()&&e.callbackNode!==n)return null;var r=bw(e,e===ao?wo:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Lw(e,r);else{t=r;var i=nr;nr|=2;var o=uW();(ao!==e||wo!==t)&&(Fc=null,jm=Ai()+500,Qf(e,t));do try{Hee();break}catch(a){cW(e,a)}while(!0);QI(),Rw.current=o,nr=i,Ni!==null?t=0:(ao=null,wo=0,t=Gi)}if(t!==0){if(t===2&&(i=FO(e),i!==0&&(r=i,t=mM(e,i))),t===1)throw n=B0,Qf(e,0),pd(e,r),Da(e,Ai()),n;if(t===6)pd(e,r);else{if(i=e.current.alternate,!(r&30)&&!Wee(i)&&(t=Lw(e,r),t===2&&(o=FO(e),o!==0&&(r=o,t=mM(e,o))),t===1))throw n=B0,Qf(e,0),pd(e,r),Da(e,Ai()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(vt(345));case 2:If(e,Ea,Fc);break;case 3:if(pd(e,r),(r&130023424)===r&&(t=p$+500-Ai(),10<t)){if(bw(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){pa(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=KO(If.bind(null,e,Ea,Fc),t);break}If(e,Ea,Fc);break;case 4:if(pd(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Ml(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Ai()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Vee(r/1960))-r,10<r){e.timeoutHandle=KO(If.bind(null,e,Ea,Fc),r);break}If(e,Ea,Fc);break;case 5:If(e,Ea,Fc);break;default:throw Error(vt(329))}}}return Da(e,Ai()),e.callbackNode===n?lW.bind(null,e):null}function mM(e,t){var n=i0;return e.current.memoizedState.isDehydrated&&(Qf(e,t).flags|=256),e=Lw(e,t),e!==2&&(t=Ea,Ea=n,t!==null&&gM(t)),e}function gM(e){Ea===null?Ea=e:Ea.push.apply(Ea,e)}function Wee(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!$l(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pd(e,t){for(t&=~h$,t&=~T2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ml(t),r=1<<n;e[n]=-1,t&=~r}}function Yz(e){if(nr&6)throw Error(vt(327));mm();var t=bw(e,0);if(!(t&1))return Da(e,Ai()),null;var n=Lw(e,t);if(e.tag!==0&&n===2){var r=FO(e);r!==0&&(t=r,n=mM(e,r))}if(n===1)throw n=B0,Qf(e,0),pd(e,t),Da(e,Ai()),n;if(n===6)throw Error(vt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,If(e,Ea,Fc),Da(e,Ai()),null}function m$(e,t){var n=nr;nr|=1;try{return e(t)}finally{nr=n,nr===0&&(jm=Ai()+500,w2&&Zd())}}function hh(e){yd!==null&&yd.tag===0&&!(nr&6)&&mm();var t=nr;nr|=1;var n=zs.transition,r=br;try{if(zs.transition=null,br=1,e)return e()}finally{br=r,zs.transition=n,nr=t,!(nr&6)&&Zd()}}function g$(){Za=Xp.current,Yr(Xp)}function Qf(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xee(n)),Ni!==null)for(n=Ni.return;n!==null;){var r=n;switch(ZI(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cw();break;case 3:Rm(),Yr($a),Yr(Ho),o$();break;case 5:i$(r);break;case 4:Rm();break;case 13:Yr(di);break;case 19:Yr(di);break;case 10:e$(r.type._context);break;case 22:case 23:g$()}n=n.return}if(ao=e,Ni=e=Ad(e.current,null),wo=Za=t,Gi=0,B0=null,h$=T2=fh=0,Ea=i0=null,Vf!==null){for(t=0;t<Vf.length;t++)if(n=Vf[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Vf=null}return e}function cW(e,t){do{var n=Ni;try{if(QI(),H1.current=$w,Iw){for(var r=hi.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Iw=!1}if(dh=0,oo=Hi=hi=null,n0=!1,L0=0,f$.current=null,n===null||n.return===null){Gi=1,B0=t,Ni=null;break}e:{var o=e,s=n.return,a=n,f=t;if(t=wo,a.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var h=f,g=a,y=g.tag;if(!(g.mode&1)&&(y===0||y===11||y===15)){var b=g.alternate;b?(g.updateQueue=b.updateQueue,g.memoizedState=b.memoizedState,g.lanes=b.lanes):(g.updateQueue=null,g.memoizedState=null)}var E=Dz(s);if(E!==null){E.flags&=-257,jz(E,s,a,o,t),E.mode&1&&Rz(o,h,t),t=E,f=h;var T=t.updateQueue;if(T===null){var w=new Set;w.add(f),t.updateQueue=w}else T.add(f);break e}else{if(!(t&1)){Rz(o,h,t),y$();break e}f=Error(vt(426))}}else if(ii&&a.mode&1){var M=Dz(s);if(M!==null){!(M.flags&65536)&&(M.flags|=256),jz(M,s,a,o,t),XI(Dm(f,a));break e}}o=f=Dm(f,a),Gi!==4&&(Gi=2),i0===null?i0=[o]:i0.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var A=HV(o,f,t);Ez(o,A);break e;case 1:a=f;var O=o.type,I=o.stateNode;if(!(o.flags&128)&&(typeof O.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Od===null||!Od.has(I)))){o.flags|=65536,t&=-t,o.lanes|=t;var L=GV(o,a,t);Ez(o,L);break e}}o=o.return}while(o!==null)}fW(n)}catch(R){t=R,Ni===n&&n!==null&&(Ni=n=n.return);continue}break}while(!0)}function uW(){var e=Rw.current;return Rw.current=$w,e===null?$w:e}function y$(){(Gi===0||Gi===3||Gi===2)&&(Gi=4),ao===null||!(fh&268435455)&&!(T2&268435455)||pd(ao,wo)}function Lw(e,t){var n=nr;nr|=2;var r=uW();(ao!==e||wo!==t)&&(Fc=null,Qf(e,t));do try{qee();break}catch(i){cW(e,i)}while(!0);if(QI(),nr=n,Rw.current=r,Ni!==null)throw Error(vt(261));return ao=null,wo=0,Gi}function qee(){for(;Ni!==null;)dW(Ni)}function Hee(){for(;Ni!==null&&!yQ();)dW(Ni)}function dW(e){var t=pW(e.alternate,e,Za);e.memoizedProps=e.pendingProps,t===null?fW(e):Ni=t,f$.current=null}function fW(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=zee(n,t),n!==null){n.flags&=32767,Ni=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Gi=6,Ni=null;return}}else if(n=Nee(n,t,Za),n!==null){Ni=n;return}if(t=t.sibling,t!==null){Ni=t;return}Ni=t=e}while(t!==null);Gi===0&&(Gi=5)}function If(e,t,n){var r=br,i=zs.transition;try{zs.transition=null,br=1,Gee(e,t,n,r)}finally{zs.transition=i,br=r}return null}function Gee(e,t,n,r){do mm();while(yd!==null);if(nr&6)throw Error(vt(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(vt(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(EQ(e,o),e===ao&&(Ni=ao=null,wo=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||e1||(e1=!0,mW(vw,function(){return mm(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=zs.transition,zs.transition=null;var s=br;br=1;var a=nr;nr|=4,f$.current=null,Fee(e,n),aW(n,e),hee(GO),xw=!!HO,GO=HO=null,e.current=n,Uee(n),vQ(),nr=a,br=s,zs.transition=o}else e.current=n;if(e1&&(e1=!1,yd=e,jw=i),o=e.pendingLanes,o===0&&(Od=null),_Q(n.stateNode),Da(e,Ai()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Dw)throw Dw=!1,e=hM,hM=null,e;return jw&1&&e.tag!==0&&mm(),o=e.pendingLanes,o&1?e===pM?o0++:(o0=0,pM=e):o0=0,Zd(),null}function mm(){if(yd!==null){var e=qU(jw),t=zs.transition,n=br;try{if(zs.transition=null,br=16>e?16:e,yd===null)var r=!1;else{if(e=yd,yd=null,jw=0,nr&6)throw Error(vt(331));var i=nr;for(nr|=4,Yt=e.current;Yt!==null;){var o=Yt,s=o.child;if(Yt.flags&16){var a=o.deletions;if(a!==null){for(var f=0;f<a.length;f++){var h=a[f];for(Yt=h;Yt!==null;){var g=Yt;switch(g.tag){case 0:case 11:case 15:r0(8,g,o)}var y=g.child;if(y!==null)y.return=g,Yt=y;else for(;Yt!==null;){g=Yt;var b=g.sibling,E=g.return;if(rW(g),g===h){Yt=null;break}if(b!==null){b.return=E,Yt=b;break}Yt=E}}}var T=o.alternate;if(T!==null){var w=T.child;if(w!==null){T.child=null;do{var M=w.sibling;w.sibling=null,w=M}while(w!==null)}}Yt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Yt=s;else e:for(;Yt!==null;){if(o=Yt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:r0(9,o,o.return)}var A=o.sibling;if(A!==null){A.return=o.return,Yt=A;break e}Yt=o.return}}var O=e.current;for(Yt=O;Yt!==null;){s=Yt;var I=s.child;if(s.subtreeFlags&2064&&I!==null)I.return=s,Yt=I;else e:for(s=O;Yt!==null;){if(a=Yt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:k2(9,a)}}catch(R){xi(a,a.return,R)}if(a===s){Yt=null;break e}var L=a.sibling;if(L!==null){L.return=a.return,Yt=L;break e}Yt=a.return}}if(nr=i,Zd(),rc&&typeof rc.onPostCommitFiberRoot=="function")try{rc.onPostCommitFiberRoot(y2,e)}catch{}r=!0}return r}finally{br=n,zs.transition=t}}return!1}function Kz(e,t,n){t=Dm(n,t),t=HV(e,t,1),e=Pd(e,t,1),t=pa(),e!==null&&(Hb(e,1,t),Da(e,t))}function xi(e,t,n){if(e.tag===3)Kz(e,e,n);else for(;t!==null;){if(t.tag===3){Kz(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Od===null||!Od.has(r))){e=Dm(n,e),e=GV(t,e,1),t=Pd(t,e,1),e=pa(),t!==null&&(Hb(t,1,e),Da(t,e));break}}t=t.return}}function Yee(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=pa(),e.pingedLanes|=e.suspendedLanes&n,ao===e&&(wo&n)===n&&(Gi===4||Gi===3&&(wo&130023424)===wo&&500>Ai()-p$?Qf(e,0):h$|=n),Da(e,t)}function hW(e,t){t===0&&(e.mode&1?(t=W_,W_<<=1,!(W_&130023424)&&(W_=4194304)):t=1);var n=pa();e=cu(e,t),e!==null&&(Hb(e,t,n),Da(e,n))}function Kee(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hW(e,n)}function Zee(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(vt(314))}r!==null&&r.delete(t),hW(e,n)}var pW;pW=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$a.current)Ma=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ma=!1,Lee(e,t,n);Ma=!!(e.flags&131072)}else Ma=!1,ii&&t.flags&1048576&&yV(t,Ew,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Y1(e,t),e=t.pendingProps;var i=Am(t,Ho.current);pm(t,n),i=s$(null,t,r,e,i,n);var o=l$();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ra(r)?(o=!0,kw(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,n$(t),i.updater=S2,t.stateNode=i,i._reactInternals=t,nM(t,r,e,n),t=oM(null,t,r,!0,o,n)):(t.tag=0,ii&&o&&KI(t),la(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Y1(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Jee(r),e=vl(r,e),i){case 0:t=iM(null,t,r,e,n);break e;case 1:t=zz(null,t,r,e,n);break e;case 11:t=Lz(null,t,r,e,n);break e;case 14:t=Nz(null,t,r,vl(r.type,e),n);break e}throw Error(vt(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vl(r,i),iM(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vl(r,i),zz(e,t,r,i,n);case 3:e:{if(XV(t),e===null)throw Error(vt(387));r=t.pendingProps,o=t.memoizedState,i=o.element,_V(e,t),Mw(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Dm(Error(vt(423)),t),t=Bz(e,t,r,n,i);break e}else if(r!==i){i=Dm(Error(vt(424)),t),t=Bz(e,t,r,n,i);break e}else for(ns=Ed(t.stateNode.containerInfo.firstChild),rs=t,ii=!0,wl=null,n=kV(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Im(),r===i){t=uu(e,t,n);break e}la(e,t,r,n)}t=t.child}return t;case 5:return TV(t),e===null&&QO(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,YO(r,i)?s=null:o!==null&&YO(r,o)&&(t.flags|=32),ZV(e,t),la(e,t,s,n),t.child;case 6:return e===null&&QO(t),null;case 13:return JV(e,t,n);case 4:return r$(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=$m(t,null,r,n):la(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vl(r,i),Lz(e,t,r,i,n);case 7:return la(e,t,t.pendingProps,n),t.child;case 8:return la(e,t,t.pendingProps.children,n),t.child;case 12:return la(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,zr(Pw,r._currentValue),r._currentValue=s,o!==null)if($l(o.value,s)){if(o.children===i.children&&!$a.current){t=uu(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var f=a.firstContext;f!==null;){if(f.context===r){if(o.tag===1){f=nu(-1,n&-n),f.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var g=h.pending;g===null?f.next=f:(f.next=g.next,g.next=f),h.pending=f}}o.lanes|=n,f=o.alternate,f!==null&&(f.lanes|=n),eM(o.return,n,t),a.lanes|=n;break}f=f.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(vt(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),eM(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}la(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,pm(t,n),i=qs(i),r=r(i),t.flags|=1,la(e,t,r,n),t.child;case 14:return r=t.type,i=vl(r,t.pendingProps),i=vl(r.type,i),Nz(e,t,r,i,n);case 15:return YV(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vl(r,i),Y1(e,t),t.tag=1,Ra(r)?(e=!0,kw(t)):e=!1,pm(t,n),SV(t,r,i),nM(t,r,i,n),oM(null,t,r,!0,e,n);case 19:return QV(e,t,n);case 22:return KV(e,t,n)}throw Error(vt(156,t.tag))};function mW(e,t){return FU(e,t)}function Xee(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function js(e,t,n,r){return new Xee(e,t,n,r)}function v$(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jee(e){if(typeof e=="function")return v$(e)?1:0;if(e!=null){if(e=e.$$typeof,e===LI)return 11;if(e===NI)return 14}return 2}function Ad(e,t){var n=e.alternate;return n===null?(n=js(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function X1(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")v$(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Fp:return eh(n.children,i,o,t);case jI:s=8,i|=8;break;case TO:return e=js(12,n,t,i|2),e.elementType=TO,e.lanes=o,e;case EO:return e=js(13,n,t,i),e.elementType=EO,e.lanes=o,e;case PO:return e=js(19,n,t,i),e.elementType=PO,e.lanes=o,e;case CU:return E2(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wU:s=10;break e;case SU:s=9;break e;case LI:s=11;break e;case NI:s=14;break e;case ud:s=16,r=null;break e}throw Error(vt(130,e==null?e:typeof e,""))}return t=js(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function eh(e,t,n,r){return e=js(7,e,r,t),e.lanes=n,e}function E2(e,t,n,r){return e=js(22,e,r,t),e.elementType=CU,e.lanes=n,e.stateNode={isHidden:!1},e}function ME(e,t,n){return e=js(6,e,null,t),e.lanes=n,e}function AE(e,t,n){return t=js(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qee(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dE(0),this.expirationTimes=dE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dE(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function b$(e,t,n,r,i,o,s,a,f){return e=new Qee(e,t,n,a,f),t===1?(t=1,o===!0&&(t|=8)):t=0,o=js(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},n$(o),e}function ete(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bp,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function gW(e){if(!e)return Bd;e=e._reactInternals;e:{if(Sh(e)!==e||e.tag!==1)throw Error(vt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ra(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(vt(171))}if(e.tag===1){var n=e.type;if(Ra(n))return mV(e,n,t)}return t}function yW(e,t,n,r,i,o,s,a,f){return e=b$(n,r,!0,e,i,o,s,a,f),e.context=gW(null),n=e.current,r=pa(),i=Md(n),o=nu(r,i),o.callback=t??null,Pd(n,o,i),e.current.lanes=i,Hb(e,i,r),Da(e,r),e}function P2(e,t,n,r){var i=t.current,o=pa(),s=Md(i);return n=gW(n),t.context===null?t.context=n:t.pendingContext=n,t=nu(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Pd(i,t,s),e!==null&&(Al(e,i,s,o),q1(e,i,s)),s}function Nw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zz(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function x$(e,t){Zz(e,t),(e=e.alternate)&&Zz(e,t)}function tte(){return null}var vW=typeof reportError=="function"?reportError:function(e){console.error(e)};function _$(e){this._internalRoot=e}O2.prototype.render=_$.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(vt(409));P2(e,t,null,null)};O2.prototype.unmount=_$.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hh(function(){P2(null,e,null,null)}),t[lu]=null}};function O2(e){this._internalRoot=e}O2.prototype.unstable_scheduleHydration=function(e){if(e){var t=YU();e={blockedOn:null,target:e,priority:t};for(var n=0;n<hd.length&&t!==0&&t<hd[n].priority;n++);hd.splice(n,0,e),n===0&&ZU(e)}};function w$(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function M2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xz(){}function nte(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=Nw(s);o.call(h)}}var s=yW(t,r,e,0,null,!1,!1,"",Xz);return e._reactRootContainer=s,e[lu]=s.current,I0(e.nodeType===8?e.parentNode:e),hh(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var h=Nw(f);a.call(h)}}var f=b$(e,0,!1,null,null,!1,!1,"",Xz);return e._reactRootContainer=f,e[lu]=f.current,I0(e.nodeType===8?e.parentNode:e),hh(function(){P2(t,f,n,r)}),f}function A2(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var f=Nw(s);a.call(f)}}P2(t,s,e,i)}else s=nte(n,t,e,i,r);return Nw(s)}HU=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fv(t.pendingLanes);n!==0&&(FI(t,n|1),Da(t,Ai()),!(nr&6)&&(jm=Ai()+500,Zd()))}break;case 13:hh(function(){var r=cu(e,1);if(r!==null){var i=pa();Al(r,e,1,i)}}),x$(e,1)}};UI=function(e){if(e.tag===13){var t=cu(e,134217728);if(t!==null){var n=pa();Al(t,e,134217728,n)}x$(e,134217728)}};GU=function(e){if(e.tag===13){var t=Md(e),n=cu(e,t);if(n!==null){var r=pa();Al(n,e,t,r)}x$(e,t)}};YU=function(){return br};KU=function(e,t){var n=br;try{return br=e,t()}finally{br=n}};NO=function(e,t,n){switch(t){case"input":if(AO(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_2(r);if(!i)throw Error(vt(90));TU(r),AO(r,i)}}}break;case"textarea":PU(e,n);break;case"select":t=n.value,t!=null&&um(e,!!n.multiple,t,!1)}};DU=m$;jU=hh;var rte={usingClientEntryPoint:!1,Events:[Yb,qp,_2,$U,RU,m$]},lv={findFiberByHostInstance:Uf,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ite={bundleType:lv.bundleType,version:lv.version,rendererPackageName:lv.rendererPackageName,rendererConfig:lv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_u.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zU(e),e===null?null:e.stateNode},findFiberByHostInstance:lv.findFiberByHostInstance||tte,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var t1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t1.isDisabled&&t1.supportsFiber)try{y2=t1.inject(ite),rc=t1}catch{}}fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rte;fs.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w$(t))throw Error(vt(200));return ete(e,t,null,n)};fs.createRoot=function(e,t){if(!w$(e))throw Error(vt(299));var n=!1,r="",i=vW;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=b$(e,1,!1,null,null,n,!1,r,i),e[lu]=t.current,I0(e.nodeType===8?e.parentNode:e),new _$(t)};fs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(vt(188)):(e=Object.keys(e).join(","),Error(vt(268,e)));return e=zU(t),e=e===null?null:e.stateNode,e};fs.flushSync=function(e){return hh(e)};fs.hydrate=function(e,t,n){if(!M2(t))throw Error(vt(200));return A2(null,e,t,!0,n)};fs.hydrateRoot=function(e,t,n){if(!w$(e))throw Error(vt(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=vW;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=yW(t,null,e,1,n??null,i,!1,o,s),e[lu]=t.current,I0(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new O2(t)};fs.render=function(e,t,n){if(!M2(t))throw Error(vt(200));return A2(null,e,t,!1,n)};fs.unmountComponentAtNode=function(e){if(!M2(e))throw Error(vt(40));return e._reactRootContainer?(hh(function(){A2(null,null,e,!1,function(){e._reactRootContainer=null,e[lu]=null})}),!0):!1};fs.unstable_batchedUpdates=m$;fs.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!M2(n))throw Error(vt(200));if(e==null||e._reactInternals===void 0)throw Error(vt(38));return A2(e,t,n,!1,r)};fs.version="18.2.0-next-9e3b772b8-20220608";function bW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bW)}catch(e){console.error(e)}}bW(),yU.exports=fs;var wu=yU.exports;const n1=gr(wu);var xW,Jz=wu;xW=Jz.createRoot,Jz.hydrateRoot;/**
 * @remix-run/router v1.14.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function F0(){return F0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F0.apply(this,arguments)}var vd;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(vd||(vd={}));const Qz="popstate";function ote(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return yM("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:_W(i)}return ste(t,n,null,e)}function Zi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function S$(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ate(){return Math.random().toString(36).substr(2,8)}function e3(e,t){return{usr:e.state,key:e.key,idx:t}}function yM(e,t,n,r){return n===void 0&&(n=null),F0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?wg(t):t,{state:n,key:t&&t.key||r||ate()})}function _W(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function wg(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ste(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=vd.Pop,f=null,h=g();h==null&&(h=0,s.replaceState(F0({},s.state,{idx:h}),""));function g(){return(s.state||{idx:null}).idx}function y(){a=vd.Pop;let M=g(),A=M==null?null:M-h;h=M,f&&f({action:a,location:w.location,delta:A})}function b(M,A){a=vd.Push;let O=yM(w.location,M,A);n&&n(O,M),h=g()+1;let I=e3(O,h),L=w.createHref(O);try{s.pushState(I,"",L)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(L)}o&&f&&f({action:a,location:w.location,delta:1})}function E(M,A){a=vd.Replace;let O=yM(w.location,M,A);n&&n(O,M),h=g();let I=e3(O,h),L=w.createHref(O);s.replaceState(I,"",L),o&&f&&f({action:a,location:w.location,delta:0})}function T(M){let A=i.location.origin!=="null"?i.location.origin:i.location.href,O=typeof M=="string"?M:_W(M);return Zi(A,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,A)}let w={get action(){return a},get location(){return e(i,s)},listen(M){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Qz,y),f=M,()=>{i.removeEventListener(Qz,y),f=null}},createHref(M){return t(i,M)},createURL:T,encodeLocation(M){let A=T(M);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:b,replace:E,go(M){return s.go(M)}};return w}var t3;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(t3||(t3={}));function lte(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?wg(t):t,i=CW(r.pathname||"/",n);if(i==null)return null;let o=wW(e);cte(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=vte(o[a],_te(i));return s}function wW(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let f={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};f.relativePath.startsWith("/")&&(Zi(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let h=th([r,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(Zi(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),wW(o.children,t,g,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:gte(h,o.index),routesMeta:g})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let f of SW(o.path))i(o,s,f)}),t}function SW(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=SW(r.join("/")),a=[];return a.push(...s.map(f=>f===""?o:[o,f].join("/"))),i&&a.push(...s),a.map(f=>e.startsWith("/")&&f===""?"/":f)}function cte(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:yte(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ute=/^:\w+$/,dte=3,fte=2,hte=1,pte=10,mte=-2,n3=e=>e==="*";function gte(e,t){let n=e.split("/"),r=n.length;return n.some(n3)&&(r+=mte),t&&(r+=fte),n.filter(i=>!n3(i)).reduce((i,o)=>i+(ute.test(o)?dte:o===""?hte:pte),r)}function yte(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function vte(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],f=s===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",g=bte({path:a.relativePath,caseSensitive:a.caseSensitive,end:f},h);if(!g)return null;Object.assign(r,g.params);let y=a.route;o.push({params:r,pathname:th([i,g.pathname]),pathnameBase:Pte(th([i,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(i=th([i,g.pathnameBase]))}return o}function bte(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=xte(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((h,g,y)=>{let{paramName:b,isOptional:E}=g;if(b==="*"){let w=a[y]||"";s=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const T=a[y];return E&&!T?h[b]=void 0:h[b]=wte(T||"",b),h},{}),pathname:o,pathnameBase:s,pattern:e}}function xte(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),S$(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(s,a,f)=>(r.push({paramName:a,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function _te(e){try{return decodeURI(e)}catch(t){return S$(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function wte(e,t){try{return decodeURIComponent(e)}catch(n){return S$(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function CW(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Ste(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?wg(e):e;return{pathname:n?n.startsWith("/")?n:Cte(n,t):t,search:Ote(r),hash:Mte(i)}}function Cte(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function IE(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kte(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Tte(e,t){let n=kte(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ete(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=wg(e):(i=F0({},e),Zi(!i.pathname||!i.pathname.includes("?"),IE("?","pathname","search",i)),Zi(!i.pathname||!i.pathname.includes("#"),IE("#","pathname","hash",i)),Zi(!i.search||!i.search.includes("#"),IE("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else if(r){let y=t.length===0?[]:t[t.length-1].replace(/^\//,"").split("/");if(s.startsWith("..")){let b=s.split("/");for(;b[0]==="..";)b.shift(),y.pop();i.pathname=b.join("/")}a="/"+y.join("/")}else{let y=t.length-1;if(s.startsWith("..")){let b=s.split("/");for(;b[0]==="..";)b.shift(),y-=1;i.pathname=b.join("/")}a=y>=0?t[y]:"/"}let f=Ste(i,a),h=s&&s!=="/"&&s.endsWith("/"),g=(o||s===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}const th=e=>e.join("/").replace(/\/\/+/g,"/"),Pte=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ote=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Mte=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ate(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const kW=["post","put","patch","delete"];new Set(kW);const Ite=["get",...kW];new Set(Ite);/**
 * React Router v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U0.apply(this,arguments)}const C$=U.createContext(null),$te=U.createContext(null),I2=U.createContext(null),$2=U.createContext(null),Xd=U.createContext({outlet:null,matches:[],isDataRoute:!1}),TW=U.createContext(null);function R2(){return U.useContext($2)!=null}function D2(){return R2()||Zi(!1),U.useContext($2).location}function EW(e){U.useContext(I2).static||U.useLayoutEffect(e)}function Ch(){let{isDataRoute:e}=U.useContext(Xd);return e?Kte():Rte()}function Rte(){R2()||Zi(!1);let e=U.useContext(C$),{basename:t,future:n,navigator:r}=U.useContext(I2),{matches:i}=U.useContext(Xd),{pathname:o}=D2(),s=JSON.stringify(Tte(i,n.v7_relativeSplatPath)),a=U.useRef(!1);return EW(()=>{a.current=!0}),U.useCallback(function(h,g){if(g===void 0&&(g={}),!a.current)return;if(typeof h=="number"){r.go(h);return}let y=Ete(h,JSON.parse(s),o,g.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:th([t,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[t,r,s,o,e])}const Dte=U.createContext(null);function jte(e){let t=U.useContext(Xd).outlet;return t&&U.createElement(Dte.Provider,{value:e},t)}function Lte(){let{matches:e}=U.useContext(Xd),t=e[e.length-1];return t?t.params:{}}function Nte(e,t){return zte(e,t)}function zte(e,t,n,r){R2()||Zi(!1);let{navigator:i}=U.useContext(I2),{matches:o}=U.useContext(Xd),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let f=s?s.pathnameBase:"/";s&&s.route;let h=D2(),g;if(t){var y;let M=typeof t=="string"?wg(t):t;f==="/"||(y=M.pathname)!=null&&y.startsWith(f)||Zi(!1),g=M}else g=h;let b=g.pathname||"/",E=f==="/"?b:b.slice(f.length)||"/",T=lte(e,{pathname:E}),w=Wte(T&&T.map(M=>Object.assign({},M,{params:Object.assign({},a,M.params),pathname:th([f,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?f:th([f,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),o,n,r);return t&&w?U.createElement($2.Provider,{value:{location:U0({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:vd.Pop}},w):w}function Bte(){let e=Yte(),t=Ate(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),n?U.createElement("pre",{style:i},n):null,o)}const Fte=U.createElement(Bte,null);class Ute extends U.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?U.createElement(Xd.Provider,{value:this.props.routeContext},U.createElement(TW.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vte(e){let{routeContext:t,match:n,children:r}=e,i=U.useContext(C$);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(Xd.Provider,{value:t},r)}function Wte(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if((o=n)!=null&&o.errors)e=n.matches;else return null}let s=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let g=s.findIndex(y=>y.route.id&&(a==null?void 0:a[y.route.id]));g>=0||Zi(!1),s=s.slice(0,Math.min(s.length,g+1))}let f=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<s.length;g++){let y=s[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=g),y.route.loader&&y.route.id&&n.loaderData[y.route.id]===void 0&&(!n.errors||n.errors[y.route.id]===void 0)){f=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}return s.reduceRight((g,y,b)=>{let E,T=!1,w=null,M=null;n&&(E=a&&y.route.id?a[y.route.id]:void 0,w=y.route.errorElement||Fte,f&&(h<0&&b===0?(Zte("route-fallback",!1),T=!0,M=null):h===b&&(T=!0,M=y.route.hydrateFallbackElement||null)));let A=t.concat(s.slice(0,b+1)),O=()=>{let I;return E?I=w:T?I=M:y.route.Component?I=U.createElement(y.route.Component,null):y.route.element?I=y.route.element:I=g,U.createElement(Vte,{match:y,routeContext:{outlet:g,matches:A,isDataRoute:n!=null},children:I})};return n&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?U.createElement(Ute,{location:n.location,revalidation:n.revalidation,component:w,error:E,children:O(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):O()},null)}var PW=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(PW||{}),zw=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zw||{});function qte(e){let t=U.useContext(C$);return t||Zi(!1),t}function Hte(e){let t=U.useContext($te);return t||Zi(!1),t}function Gte(e){let t=U.useContext(Xd);return t||Zi(!1),t}function OW(e){let t=Gte(),n=t.matches[t.matches.length-1];return n.route.id||Zi(!1),n.route.id}function Yte(){var e;let t=U.useContext(TW),n=Hte(zw.UseRouteError),r=OW(zw.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Kte(){let{router:e}=qte(PW.UseNavigateStable),t=OW(zw.UseNavigateStable),n=U.useRef(!1);return EW(()=>{n.current=!0}),U.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,U0({fromRouteId:t},o)))},[e,t])}const r3={};function Zte(e,t,n){!t&&!r3[e]&&(r3[e]=!0)}function Xte(e){return jte(e.context)}function ml(e){Zi(!1)}function Jte(e){let{basename:t="/",children:n=null,location:r,navigationType:i=vd.Pop,navigator:o,static:s=!1,future:a}=e;R2()&&Zi(!1);let f=t.replace(/^\/*/,"/"),h=U.useMemo(()=>({basename:f,navigator:o,static:s,future:U0({v7_relativeSplatPath:!1},a)}),[f,a,o,s]);typeof r=="string"&&(r=wg(r));let{pathname:g="/",search:y="",hash:b="",state:E=null,key:T="default"}=r,w=U.useMemo(()=>{let M=CW(g,f);return M==null?null:{location:{pathname:M,search:y,hash:b,state:E,key:T},navigationType:i}},[f,g,y,b,E,T,i]);return w==null?null:U.createElement(I2.Provider,{value:h},U.createElement($2.Provider,{children:n,value:w}))}function Qte(e){let{children:t,location:n}=e;return Nte(vM(t),n)}new Promise(()=>{});function vM(e,t){t===void 0&&(t=[]);let n=[];return U.Children.forEach(e,(r,i)=>{if(!U.isValidElement(r))return;let o=[...t,i];if(r.type===U.Fragment){n.push.apply(n,vM(r.props.children,o));return}r.type!==ml&&Zi(!1),!r.props.index||!r.props.children||Zi(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=vM(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const ene="startTransition",i3=pw[ene];function tne(e){let{basename:t,children:n,future:r,window:i}=e,o=U.useRef();o.current==null&&(o.current=ote({window:i,v5Compat:!0}));let s=o.current,[a,f]=U.useState({action:s.action,location:s.location}),{v7_startTransition:h}=r||{},g=U.useCallback(y=>{h&&i3?i3(()=>f(y)):f(y)},[f,h]);return U.useLayoutEffect(()=>s.listen(g),[s,g]),U.createElement(Jte,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var o3;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(o3||(o3={}));var a3;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(a3||(a3={}));var MW={exports:{}},AW={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm=U;function nne(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rne=typeof Object.is=="function"?Object.is:nne,ine=Lm.useState,one=Lm.useEffect,ane=Lm.useLayoutEffect,sne=Lm.useDebugValue;function lne(e,t){var n=t(),r=ine({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return ane(function(){i.value=n,i.getSnapshot=t,$E(i)&&o({inst:i})},[e,n,t]),one(function(){return $E(i)&&o({inst:i}),e(function(){$E(i)&&o({inst:i})})},[e]),sne(n),n}function $E(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rne(e,n)}catch{return!0}}function cne(e,t){return t()}var une=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cne:lne;AW.useSyncExternalStore=Lm.useSyncExternalStore!==void 0?Lm.useSyncExternalStore:une;MW.exports=AW;var IW=MW.exports,$W={exports:{}},RW={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j2=U,dne=IW;function fne(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hne=typeof Object.is=="function"?Object.is:fne,pne=dne.useSyncExternalStore,mne=j2.useRef,gne=j2.useEffect,yne=j2.useMemo,vne=j2.useDebugValue;RW.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=mne(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=yne(function(){function f(E){if(!h){if(h=!0,g=E,E=r(E),i!==void 0&&s.hasValue){var T=s.value;if(i(T,E))return y=T}return y=E}if(T=y,hne(g,E))return T;var w=r(E);return i!==void 0&&i(T,w)?T:(g=E,y=w)}var h=!1,g,y,b=n===void 0?null:n;return[function(){return f(t())},b===null?void 0:function(){return f(b())}]},[t,n,r,i]);var a=pne(e,o[0],o[1]);return gne(function(){s.hasValue=!0,s.value=a},[a]),vne(a),a};$W.exports=RW;var bne=$W.exports;function xne(e){e()}let DW=xne;const _ne=e=>DW=e,wne=()=>DW,s3=Symbol.for("react-redux-context"),l3=typeof globalThis<"u"?globalThis:{};function Sne(){var e;if(!U.createContext)return{};const t=(e=l3[s3])!=null?e:l3[s3]=new Map;let n=t.get(U.createContext);return n||(n=U.createContext(null),t.set(U.createContext,n)),n}const du=Sne();function k$(e=du){return function(){return U.useContext(e)}}const jW=k$(),LW=()=>{throw new Error("uSES not initialized!")};let NW=LW;const Cne=e=>{NW=e},kne=(e,t)=>e===t;function Tne(e=du){const t=e===du?jW:k$(e);return function(r,i={}){const{equalityFn:o=kne,stabilityCheck:s=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:f,subscription:h,getServerState:g,stabilityCheck:y,noopCheck:b}=t();U.useRef(!0);const E=U.useCallback({[r.name](w){return r(w)}}[r.name],[r,y,s]),T=NW(h.addNestedSub,f.getState,g||f.getState,E,o);return U.useDebugValue(T),T}}const Cn=Tne();function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ee.apply(this,arguments)}function gt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var zW={exports:{}},xr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var so=typeof Symbol=="function"&&Symbol.for,T$=so?Symbol.for("react.element"):60103,E$=so?Symbol.for("react.portal"):60106,L2=so?Symbol.for("react.fragment"):60107,N2=so?Symbol.for("react.strict_mode"):60108,z2=so?Symbol.for("react.profiler"):60114,B2=so?Symbol.for("react.provider"):60109,F2=so?Symbol.for("react.context"):60110,P$=so?Symbol.for("react.async_mode"):60111,U2=so?Symbol.for("react.concurrent_mode"):60111,V2=so?Symbol.for("react.forward_ref"):60112,W2=so?Symbol.for("react.suspense"):60113,Ene=so?Symbol.for("react.suspense_list"):60120,q2=so?Symbol.for("react.memo"):60115,H2=so?Symbol.for("react.lazy"):60116,Pne=so?Symbol.for("react.block"):60121,One=so?Symbol.for("react.fundamental"):60117,Mne=so?Symbol.for("react.responder"):60118,Ane=so?Symbol.for("react.scope"):60119;function ps(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case T$:switch(e=e.type,e){case P$:case U2:case L2:case z2:case N2:case W2:return e;default:switch(e=e&&e.$$typeof,e){case F2:case V2:case H2:case q2:case B2:return e;default:return t}}case E$:return t}}}function BW(e){return ps(e)===U2}xr.AsyncMode=P$;xr.ConcurrentMode=U2;xr.ContextConsumer=F2;xr.ContextProvider=B2;xr.Element=T$;xr.ForwardRef=V2;xr.Fragment=L2;xr.Lazy=H2;xr.Memo=q2;xr.Portal=E$;xr.Profiler=z2;xr.StrictMode=N2;xr.Suspense=W2;xr.isAsyncMode=function(e){return BW(e)||ps(e)===P$};xr.isConcurrentMode=BW;xr.isContextConsumer=function(e){return ps(e)===F2};xr.isContextProvider=function(e){return ps(e)===B2};xr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===T$};xr.isForwardRef=function(e){return ps(e)===V2};xr.isFragment=function(e){return ps(e)===L2};xr.isLazy=function(e){return ps(e)===H2};xr.isMemo=function(e){return ps(e)===q2};xr.isPortal=function(e){return ps(e)===E$};xr.isProfiler=function(e){return ps(e)===z2};xr.isStrictMode=function(e){return ps(e)===N2};xr.isSuspense=function(e){return ps(e)===W2};xr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===L2||e===U2||e===z2||e===N2||e===W2||e===Ene||typeof e=="object"&&e!==null&&(e.$$typeof===H2||e.$$typeof===q2||e.$$typeof===B2||e.$$typeof===F2||e.$$typeof===V2||e.$$typeof===One||e.$$typeof===Mne||e.$$typeof===Ane||e.$$typeof===Pne)};xr.typeOf=ps;zW.exports=xr;var Ine=zW.exports,O$=Ine,$ne={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Rne={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Dne={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},FW={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},M$={};M$[O$.ForwardRef]=Dne;M$[O$.Memo]=FW;function c3(e){return O$.isMemo(e)?FW:M$[e.$$typeof]||$ne}var jne=Object.defineProperty,Lne=Object.getOwnPropertyNames,u3=Object.getOwnPropertySymbols,Nne=Object.getOwnPropertyDescriptor,zne=Object.getPrototypeOf,d3=Object.prototype;function UW(e,t,n){if(typeof t!="string"){if(d3){var r=zne(t);r&&r!==d3&&UW(e,r,n)}var i=Lne(t);u3&&(i=i.concat(u3(t)));for(var o=c3(e),s=c3(t),a=0;a<i.length;++a){var f=i[a];if(!Rne[f]&&!(n&&n[f])&&!(s&&s[f])&&!(o&&o[f])){var h=Nne(t,f);try{jne(e,f,h)}catch{}}}}return e}var Bne=UW;const f3=gr(Bne);var VW={exports:{}},_r={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A$=Symbol.for("react.element"),I$=Symbol.for("react.portal"),G2=Symbol.for("react.fragment"),Y2=Symbol.for("react.strict_mode"),K2=Symbol.for("react.profiler"),Z2=Symbol.for("react.provider"),X2=Symbol.for("react.context"),Fne=Symbol.for("react.server_context"),J2=Symbol.for("react.forward_ref"),Q2=Symbol.for("react.suspense"),eC=Symbol.for("react.suspense_list"),tC=Symbol.for("react.memo"),nC=Symbol.for("react.lazy"),Une=Symbol.for("react.offscreen"),WW;WW=Symbol.for("react.module.reference");function Js(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case A$:switch(e=e.type,e){case G2:case K2:case Y2:case Q2:case eC:return e;default:switch(e=e&&e.$$typeof,e){case Fne:case X2:case J2:case nC:case tC:case Z2:return e;default:return t}}case I$:return t}}}_r.ContextConsumer=X2;_r.ContextProvider=Z2;_r.Element=A$;_r.ForwardRef=J2;_r.Fragment=G2;_r.Lazy=nC;_r.Memo=tC;_r.Portal=I$;_r.Profiler=K2;_r.StrictMode=Y2;_r.Suspense=Q2;_r.SuspenseList=eC;_r.isAsyncMode=function(){return!1};_r.isConcurrentMode=function(){return!1};_r.isContextConsumer=function(e){return Js(e)===X2};_r.isContextProvider=function(e){return Js(e)===Z2};_r.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===A$};_r.isForwardRef=function(e){return Js(e)===J2};_r.isFragment=function(e){return Js(e)===G2};_r.isLazy=function(e){return Js(e)===nC};_r.isMemo=function(e){return Js(e)===tC};_r.isPortal=function(e){return Js(e)===I$};_r.isProfiler=function(e){return Js(e)===K2};_r.isStrictMode=function(e){return Js(e)===Y2};_r.isSuspense=function(e){return Js(e)===Q2};_r.isSuspenseList=function(e){return Js(e)===eC};_r.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===G2||e===K2||e===Y2||e===Q2||e===eC||e===Une||typeof e=="object"&&e!==null&&(e.$$typeof===nC||e.$$typeof===tC||e.$$typeof===Z2||e.$$typeof===X2||e.$$typeof===J2||e.$$typeof===WW||e.getModuleId!==void 0)};_r.typeOf=Js;VW.exports=_r;var Vne=VW.exports;const Wne=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function qne(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let a=!1,f,h,g,y,b;function E(O,I){return f=O,h=I,g=e(f,h),y=t(r,h),b=n(g,y,h),a=!0,b}function T(){return g=e(f,h),t.dependsOnOwnProps&&(y=t(r,h)),b=n(g,y,h),b}function w(){return e.dependsOnOwnProps&&(g=e(f,h)),t.dependsOnOwnProps&&(y=t(r,h)),b=n(g,y,h),b}function M(){const O=e(f,h),I=!s(O,g);return g=O,I&&(b=n(g,y,h)),b}function A(O,I){const L=!o(I,h),R=!i(O,f,I,h);return f=O,h=I,L&&R?T():L?w():R?M():b}return function(I,L){return a?A(I,L):E(I,L)}}function Hne(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:i}=t,o=gt(t,Wne);const s=n(e,o),a=r(e,o),f=i(e,o);return qne(s,a,f,e,o)}function Gne(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...o)=>t(i(...o)))}return n}function bM(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function h3(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function qW(e,t){return function(r,{displayName:i}){const o=function(a,f){return o.dependsOnOwnProps?o.mapToProps(a,f):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,f){o.mapToProps=e,o.dependsOnOwnProps=h3(e);let h=o(a,f);return typeof h=="function"&&(o.mapToProps=h,o.dependsOnOwnProps=h3(h),h=o(a,f)),h},o}}function $$(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function Yne(e){return e&&typeof e=="object"?bM(t=>Gne(e,t)):e?typeof e=="function"?qW(e):$$(e,"mapDispatchToProps"):bM(t=>({dispatch:t}))}function Kne(e){return e?typeof e=="function"?qW(e):$$(e,"mapStateToProps"):bM(()=>({}))}function Zne(e,t,n){return ee({},n,e,t)}function Xne(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let o=!1,s;return function(f,h,g){const y=e(f,h,g);return o?i(y,s)||(s=y):(o=!0,s=y),s}}}function Jne(e){return e?typeof e=="function"?Xne(e):$$(e,"mergeProps"):()=>Zne}function Qne(){const e=wne();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const p3={notify(){},get:()=>[]};function HW(e,t){let n,r=p3,i=0,o=!1;function s(w){g();const M=r.subscribe(w);let A=!1;return()=>{A||(A=!0,M(),y())}}function a(){r.notify()}function f(){T.onStateChange&&T.onStateChange()}function h(){return o}function g(){i++,n||(n=t?t.addNestedSub(f):e.subscribe(f),r=Qne())}function y(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=p3)}function b(){o||(o=!0,g())}function E(){o&&(o=!1,y())}const T={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:f,isSubscribed:h,trySubscribe:b,tryUnsubscribe:E,getListeners:()=>r};return T}const ere=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bw=ere?U.useLayoutEffect:U.useEffect;function m3(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function RE(e,t){if(m3(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!m3(e[n[i]],t[n[i]]))return!1;return!0}const tre=["reactReduxForwardedRef"];let GW=LW;const nre=e=>{GW=e},rre=[null,null];function ire(e,t,n){Bw(()=>e(...t),n)}function ore(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function are(e,t,n,r,i,o,s,a,f,h,g){if(!e)return()=>{};let y=!1,b=null;const E=()=>{if(y||!a.current)return;const w=t.getState();let M,A;try{M=r(w,i.current)}catch(O){A=O,b=O}A||(b=null),M===o.current?s.current||h():(o.current=M,f.current=M,s.current=!0,g())};return n.onStateChange=E,n.trySubscribe(),E(),()=>{if(y=!0,n.tryUnsubscribe(),n.onStateChange=null,b)throw b}}function sre(e,t){return e===t}function lre(e,t,n,{pure:r,areStatesEqual:i=sre,areOwnPropsEqual:o=RE,areStatePropsEqual:s=RE,areMergedPropsEqual:a=RE,forwardRef:f=!1,context:h=du}={}){const g=h,y=Kne(e),b=Yne(t),E=Jne(n),T=!!e;return M=>{const A=M.displayName||M.name||"Component",O=`Connect(${A})`,I={shouldHandleStateChanges:T,displayName:O,wrappedComponentName:A,WrappedComponent:M,initMapStateToProps:y,initMapDispatchToProps:b,initMergeProps:E,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:a};function L(F){const[q,J,K]=U.useMemo(()=>{const{reactReduxForwardedRef:He}=F,Tt=gt(F,tre);return[F.context,He,Tt]},[F]),ne=U.useMemo(()=>q&&q.Consumer&&Vne.isContextConsumer(U.createElement(q.Consumer,null))?q:g,[q,g]),le=U.useContext(ne),ye=!!F.store&&!!F.store.getState&&!!F.store.dispatch,de=!!le&&!!le.store,se=ye?F.store:le.store,pe=de?le.getServerState:se.getState,be=U.useMemo(()=>Hne(se.dispatch,I),[se]),[ce,Ee]=U.useMemo(()=>{if(!T)return rre;const He=HW(se,ye?void 0:le.subscription),Tt=He.notifyNestedSubs.bind(He);return[He,Tt]},[se,ye,le]),Re=U.useMemo(()=>ye?le:ee({},le,{subscription:ce}),[ye,le,ce]),Xe=U.useRef(),Ae=U.useRef(K),Fe=U.useRef(),qe=U.useRef(!1);U.useRef(!1);const rt=U.useRef(!1),Je=U.useRef();Bw(()=>(rt.current=!0,()=>{rt.current=!1}),[]);const kt=U.useMemo(()=>()=>Fe.current&&K===Ae.current?Fe.current:be(se.getState(),K),[se,K]),bt=U.useMemo(()=>Tt=>ce?are(T,se,ce,be,Ae,Xe,qe,rt,Fe,Ee,Tt):()=>{},[ce]);ire(ore,[Ae,Xe,qe,K,Fe,Ee]);let Ye;try{Ye=GW(bt,kt,pe?()=>be(pe(),K):kt)}catch(He){throw Je.current&&(He.message+=`
The error may be correlated with this previous error:
${Je.current.stack}

`),He}Bw(()=>{Je.current=void 0,Fe.current=void 0,Xe.current=Ye});const lt=U.useMemo(()=>U.createElement(M,ee({},Ye,{ref:J})),[J,M,Ye]);return U.useMemo(()=>T?U.createElement(ne.Provider,{value:Re},lt):lt,[ne,lt,Re])}const D=U.memo(L);if(D.WrappedComponent=M,D.displayName=L.displayName=O,f){const q=U.forwardRef(function(K,ne){return U.createElement(D,ee({},K,{reactReduxForwardedRef:ne}))});return q.displayName=O,q.WrappedComponent=M,f3(q,M)}return f3(D,M)}}function cre({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",noopCheck:o="once"}){const s=U.useMemo(()=>{const h=HW(e);return{store:e,subscription:h,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:o}},[e,r,i,o]),a=U.useMemo(()=>e.getState(),[e]);Bw(()=>{const{subscription:h}=s;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),a!==e.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[s,a]);const f=t||du;return U.createElement(f.Provider,{value:s},n)}function YW(e=du){const t=e===du?jW:k$(e);return function(){const{store:r}=t();return r}}const ure=YW();function dre(e=du){const t=e===du?ure:YW(e);return function(){return t().dispatch}}const Ba=dre();Cne(bne.useSyncExternalStoreWithSelector);nre(IW.useSyncExternalStore);_ne(wu.unstable_batchedUpdates);function Tl(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Fd(e){return!!e&&!!e[ri]}function fu(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===xre}(e)||Array.isArray(e)||!!e[w3]||!!(!((t=e.constructor)===null||t===void 0)&&t[w3])||R$(e)||D$(e))}function ph(e,t,n){n===void 0&&(n=!1),Sg(e)===0?(n?Object.keys:ym)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Sg(e){var t=e[ri];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:R$(e)?2:D$(e)?3:0}function gm(e,t){return Sg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function fre(e,t){return Sg(e)===2?e.get(t):e[t]}function KW(e,t,n){var r=Sg(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function ZW(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function R$(e){return vre&&e instanceof Map}function D$(e){return bre&&e instanceof Set}function $f(e){return e.o||e.t}function j$(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=JW(e);delete t[ri];for(var n=ym(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function L$(e,t){return t===void 0&&(t=!1),N$(e)||Fd(e)||!fu(e)||(Sg(e)>1&&(e.set=e.add=e.clear=e.delete=hre),Object.freeze(e),t&&ph(e,function(n,r){return L$(r,!0)},!0)),e}function hre(){Tl(2)}function N$(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function oc(e){var t=SM[e];return t||Tl(18,e),t}function pre(e,t){SM[e]||(SM[e]=t)}function xM(){return V0}function DE(e,t){t&&(oc("Patches"),e.u=[],e.s=[],e.v=t)}function Fw(e){_M(e),e.p.forEach(mre),e.p=null}function _M(e){e===V0&&(V0=e.l)}function g3(e){return V0={p:[],l:V0,h:e,m:!0,_:0}}function mre(e){var t=e[ri];t.i===0||t.i===1?t.j():t.g=!0}function jE(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||oc("ES5").S(t,e,r),r?(n[ri].P&&(Fw(t),Tl(4)),fu(e)&&(e=Uw(t,e),t.l||Vw(t,e)),t.u&&oc("Patches").M(n[ri].t,e,t.u,t.s)):e=Uw(t,n,[]),Fw(t),t.u&&t.v(t.u,t.s),e!==XW?e:void 0}function Uw(e,t,n){if(N$(t))return t;var r=t[ri];if(!r)return ph(t,function(a,f){return y3(e,r,t,a,f,n)},!0),t;if(r.A!==e)return t;if(!r.P)return Vw(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=j$(r.k):r.o,o=i,s=!1;r.i===3&&(o=new Set(i),i.clear(),s=!0),ph(o,function(a,f){return y3(e,r,i,a,f,n,s)}),Vw(e,i,!1),n&&e.u&&oc("Patches").N(r,n,e.u,e.s)}return r.o}function y3(e,t,n,r,i,o,s){if(Fd(i)){var a=Uw(e,i,o&&t&&t.i!==3&&!gm(t.R,r)?o.concat(r):void 0);if(KW(n,r,a),!Fd(a))return;e.m=!1}else s&&n.add(i);if(fu(i)&&!N$(i)){if(!e.h.D&&e._<1)return;Uw(e,i),t&&t.A.l||Vw(e,i)}}function Vw(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&L$(t,n)}function LE(e,t){var n=e[ri];return(n?$f(n):e)[t]}function v3(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function md(e){e.P||(e.P=!0,e.l&&md(e.l))}function NE(e){e.o||(e.o=j$(e.t))}function wM(e,t,n){var r=R$(t)?oc("MapSet").F(t,n):D$(t)?oc("MapSet").T(t,n):e.O?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:xM(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},f=a,h=W0;s&&(f=[a],h=Vv);var g=Proxy.revocable(f,h),y=g.revoke,b=g.proxy;return a.k=b,a.j=y,b}(t,n):oc("ES5").J(t,n);return(n?n.A:xM()).p.push(r),r}function gre(e){return Fd(e)||Tl(22,e),function t(n){if(!fu(n))return n;var r,i=n[ri],o=Sg(n);if(i){if(!i.P&&(i.i<4||!oc("ES5").K(i)))return i.t;i.I=!0,r=b3(n,o),i.I=!1}else r=b3(n,o);return ph(r,function(s,a){i&&fre(i.t,s)===a||KW(r,s,t(a))}),o===3?new Set(r):r}(e)}function b3(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return j$(e)}function yre(){function e(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var f=this[ri];return W0.get(f,o)},set:function(f){var h=this[ri];W0.set(h,o,f)}},a}function t(o){for(var s=o.length-1;s>=0;s--){var a=o[s][ri];if(!a.P)switch(a.i){case 5:r(a)&&md(a);break;case 4:n(a)&&md(a)}}}function n(o){for(var s=o.t,a=o.k,f=ym(a),h=f.length-1;h>=0;h--){var g=f[h];if(g!==ri){var y=s[g];if(y===void 0&&!gm(s,g))return!0;var b=a[g],E=b&&b[ri];if(E?E.t!==y:!ZW(b,y))return!0}}var T=!!s[ri];return f.length!==ym(s).length+(T?0:1)}function r(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var f=0;f<s.length;f++)if(!s.hasOwnProperty(f))return!0;return!1}var i={};pre("ES5",{J:function(o,s){var a=Array.isArray(o),f=function(g,y){if(g){for(var b=Array(y.length),E=0;E<y.length;E++)Object.defineProperty(b,""+E,e(E,!0));return b}var T=JW(y);delete T[ri];for(var w=ym(T),M=0;M<w.length;M++){var A=w[M];T[A]=e(A,g||!!T[A].enumerable)}return Object.create(Object.getPrototypeOf(y),T)}(a,o),h={i:a?5:4,A:s?s.A:xM(),P:!1,I:!1,R:{},l:s,t:o,k:f,o:null,g:!1,C:!1};return Object.defineProperty(f,ri,{value:h,writable:!0}),f},S:function(o,s,a){a?Fd(s)&&s[ri].A===o&&t(o.p):(o.u&&function f(h){if(h&&typeof h=="object"){var g=h[ri];if(g){var y=g.t,b=g.k,E=g.R,T=g.i;if(T===4)ph(b,function(I){I!==ri&&(y[I]!==void 0||gm(y,I)?E[I]||f(b[I]):(E[I]=!0,md(g)))}),ph(y,function(I){b[I]!==void 0||gm(b,I)||(E[I]=!1,md(g))});else if(T===5){if(r(g)&&(md(g),E.length=!0),b.length<y.length)for(var w=b.length;w<y.length;w++)E[w]=!1;else for(var M=y.length;M<b.length;M++)E[M]=!0;for(var A=Math.min(b.length,y.length),O=0;O<A;O++)b.hasOwnProperty(O)||(E[O]=!0),E[O]===void 0&&f(b[O])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var x3,V0,z$=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",vre=typeof Map<"u",bre=typeof Set<"u",_3=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",XW=z$?Symbol.for("immer-nothing"):((x3={})["immer-nothing"]=!0,x3),w3=z$?Symbol.for("immer-draftable"):"__$immer_draftable",ri=z$?Symbol.for("immer-state"):"__$immer_state",xre=""+Object.prototype.constructor,ym=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,JW=Object.getOwnPropertyDescriptors||function(e){var t={};return ym(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},SM={},W0={get:function(e,t){if(t===ri)return e;var n=$f(e);if(!gm(n,t))return function(i,o,s){var a,f=v3(o,s);return f?"value"in f?f.value:(a=f.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!fu(r)?r:r===LE(e.t,t)?(NE(e),e.o[t]=wM(e.A.h,r,e)):r},has:function(e,t){return t in $f(e)},ownKeys:function(e){return Reflect.ownKeys($f(e))},set:function(e,t,n){var r=v3($f(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=LE($f(e),t),o=i==null?void 0:i[ri];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(ZW(n,i)&&(n!==void 0||gm(e.t,t)))return!0;NE(e),md(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return LE(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,NE(e),md(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=$f(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Tl(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Tl(12)}},Vv={};ph(W0,function(e,t){Vv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Vv.deleteProperty=function(e,t){return Vv.set.call(this,e,t,void 0)},Vv.set=function(e,t,n){return W0.set.call(this,e[0],t,n,e[0])};var _re=function(){function e(n){var r=this;this.O=_3,this.D=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var f=r;return function(w){var M=this;w===void 0&&(w=a);for(var A=arguments.length,O=Array(A>1?A-1:0),I=1;I<A;I++)O[I-1]=arguments[I];return f.produce(w,function(L){var R;return(R=o).call.apply(R,[M,L].concat(O))})}}var h;if(typeof o!="function"&&Tl(6),s!==void 0&&typeof s!="function"&&Tl(7),fu(i)){var g=g3(r),y=wM(r,i,void 0),b=!0;try{h=o(y),b=!1}finally{b?Fw(g):_M(g)}return typeof Promise<"u"&&h instanceof Promise?h.then(function(w){return DE(g,s),jE(w,g)},function(w){throw Fw(g),w}):(DE(g,s),jE(h,g))}if(!i||typeof i!="object"){if((h=o(i))===void 0&&(h=i),h===XW&&(h=void 0),r.D&&L$(h,!0),s){var E=[],T=[];oc("Patches").M(i,h,E,T),s(E,T)}return h}Tl(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(h){for(var g=arguments.length,y=Array(g>1?g-1:0),b=1;b<g;b++)y[b-1]=arguments[b];return r.produceWithPatches(h,function(E){return i.apply(void 0,[E].concat(y))})};var s,a,f=r.produce(i,o,function(h,g){s=h,a=g});return typeof Promise<"u"&&f instanceof Promise?f.then(function(h){return[h,s,a]}):[f,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){fu(n)||Tl(8),Fd(n)&&(n=gre(n));var r=g3(this),i=wM(this,n,void 0);return i[ri].C=!0,_M(r),i},t.finishDraft=function(n,r){var i=n&&n[ri],o=i.A;return DE(o,r),jE(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!_3&&Tl(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=oc("Patches").$;return Fd(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e}(),ss=new _re,QW=ss.produce;ss.produceWithPatches.bind(ss);ss.setAutoFreeze.bind(ss);ss.setUseProxies.bind(ss);ss.applyPatches.bind(ss);ss.createDraft.bind(ss);ss.finishDraft.bind(ss);function q0(e){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q0(e)}function wre(e,t){if(q0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(q0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e9(e){var t=wre(e,"string");return q0(t)=="symbol"?t:String(t)}function Sre(e,t,n){return t=e9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function C3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S3(Object(n),!0).forEach(function(r){Sre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lo(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var k3=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),zE=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ww={INIT:"@@redux/INIT"+zE(),REPLACE:"@@redux/REPLACE"+zE(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+zE()}};function Cre(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function t9(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Lo(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Lo(1));return n(t9)(e,t)}if(typeof e!="function")throw new Error(Lo(2));var i=e,o=t,s=[],a=s,f=!1;function h(){a===s&&(a=s.slice())}function g(){if(f)throw new Error(Lo(3));return o}function y(w){if(typeof w!="function")throw new Error(Lo(4));if(f)throw new Error(Lo(5));var M=!0;return h(),a.push(w),function(){if(M){if(f)throw new Error(Lo(6));M=!1,h();var O=a.indexOf(w);a.splice(O,1),s=null}}}function b(w){if(!Cre(w))throw new Error(Lo(7));if(typeof w.type>"u")throw new Error(Lo(8));if(f)throw new Error(Lo(9));try{f=!0,o=i(o,w)}finally{f=!1}for(var M=s=a,A=0;A<M.length;A++){var O=M[A];O()}return w}function E(w){if(typeof w!="function")throw new Error(Lo(10));i=w,b({type:Ww.REPLACE})}function T(){var w,M=y;return w={subscribe:function(O){if(typeof O!="object"||O===null)throw new Error(Lo(11));function I(){O.next&&O.next(g())}I();var L=M(I);return{unsubscribe:L}}},w[k3]=function(){return this},w}return b({type:Ww.INIT}),r={dispatch:b,subscribe:y,getState:g,replaceReducer:E},r[k3]=T,r}function kre(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:Ww.INIT});if(typeof r>"u")throw new Error(Lo(12));if(typeof n(void 0,{type:Ww.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Lo(13))})}function n9(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var o=Object.keys(n),s;try{kre(n)}catch(a){s=a}return function(f,h){if(f===void 0&&(f={}),s)throw s;for(var g=!1,y={},b=0;b<o.length;b++){var E=o[b],T=n[E],w=f[E],M=T(w,h);if(typeof M>"u")throw h&&h.type,new Error(Lo(14));y[E]=M,g=g||M!==w}return g=g||o.length!==Object.keys(f).length,g?y:f}}function qw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Tre(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(Lo(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(f){return f(s)});return o=qw.apply(void 0,a)(i.dispatch),C3(C3({},i),{},{dispatch:o})}}}function r9(e){var t=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,e):s(a)}}};return t}var i9=r9();i9.withExtraArgument=r9;const T3=i9;var o9=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ere=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(h){return function(g){return f([h,g])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){n.label=h[1];break}if(h[0]===6&&n.label<o[1]){n.label=o[1],o=h;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(h);break}o[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(g){h=[6,g],i=0}finally{r=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Nm=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Pre=Object.defineProperty,Ore=Object.defineProperties,Mre=Object.getOwnPropertyDescriptors,E3=Object.getOwnPropertySymbols,Are=Object.prototype.hasOwnProperty,Ire=Object.prototype.propertyIsEnumerable,P3=function(e,t,n){return t in e?Pre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Id=function(e,t){for(var n in t||(t={}))Are.call(t,n)&&P3(e,n,t[n]);if(E3)for(var r=0,i=E3(t);r<i.length;r++){var n=i[r];Ire.call(t,n)&&P3(e,n,t[n])}return e},BE=function(e,t){return Ore(e,Mre(t))},$re=function(e,t,n){return new Promise(function(r,i){var o=function(f){try{a(n.next(f))}catch(h){i(h)}},s=function(f){try{a(n.throw(f))}catch(h){i(h)}},a=function(f){return f.done?r(f.value):Promise.resolve(f.value).then(o,s)};a((n=n.apply(e,t)).next())})},Rre=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qw:qw.apply(null,arguments)};function Dre(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}function $d(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var o=t.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return Id(Id({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}var jre=function(e){o9(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Nm([void 0],n[0].concat(this)))):new(t.bind.apply(t,Nm([void 0],n.concat(this))))},t}(Array),Lre=function(e){o9(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Nm([void 0],n[0].concat(this)))):new(t.bind.apply(t,Nm([void 0],n.concat(this))))},t}(Array);function CM(e){return fu(e)?QW(e,function(){}):e}function Nre(e){return typeof e=="boolean"}function zre(){return function(t){return Bre(t)}}function Bre(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new jre;return n&&(Nre(n)?r.push(T3):r.push(T3.withExtraArgument(n.extraArgument))),r}var Fre=!0;function Ure(e){var t=zre(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,o=n.middleware,s=o===void 0?t():o,a=n.devTools,f=a===void 0?!0:a,h=n.preloadedState,g=h===void 0?void 0:h,y=n.enhancers,b=y===void 0?void 0:y,E;if(typeof i=="function")E=i;else if(Dre(i))E=n9(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var T=s;typeof T=="function"&&(T=T(t));var w=Tre.apply(void 0,T),M=qw;f&&(M=Rre(Id({trace:!Fre},typeof f=="object"&&f)));var A=new Lre(w),O=A;Array.isArray(b)?O=Nm([w],b):typeof b=="function"&&(O=b(A));var I=M.apply(void 0,O);return t9(E,g,I)}function a9(e){var t={},n=[],r,i={addCase:function(o,s){var a=typeof o=="string"?o:o.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=s,i},addMatcher:function(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return r=o,i}};return e(i),[t,n,r]}function Vre(e){return typeof e=="function"}function Wre(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?a9(t):[t,n,r],o=i[0],s=i[1],a=i[2],f;if(Vre(e))f=function(){return CM(e())};else{var h=CM(e);f=function(){return h}}function g(y,b){y===void 0&&(y=f());var E=Nm([o[b.type]],s.filter(function(T){var w=T.matcher;return w(b)}).map(function(T){var w=T.reducer;return w}));return E.filter(function(T){return!!T}).length===0&&(E=[a]),E.reduce(function(T,w){if(w)if(Fd(T)){var M=T,A=w(M,b);return A===void 0?T:A}else{if(fu(T))return QW(T,function(O){return w(O,b)});var A=w(T,b);if(A===void 0){if(T===null)return T;throw Error("A case reducer on a non-draftable value must not return undefined")}return A}return T},y)}return g.getInitialState=f,g}function qre(e,t){return e+"/"+t}function Cg(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:CM(e.initialState),r=e.reducers||{},i=Object.keys(r),o={},s={},a={};i.forEach(function(g){var y=r[g],b=qre(t,g),E,T;"reducer"in y?(E=y.reducer,T=y.prepare):E=y,o[g]=E,s[b]=E,a[g]=T?$d(b,T):$d(b)});function f(){var g=typeof e.extraReducers=="function"?a9(e.extraReducers):[e.extraReducers],y=g[0],b=y===void 0?{}:y,E=g[1],T=E===void 0?[]:E,w=g[2],M=w===void 0?void 0:w,A=Id(Id({},b),s);return Wre(n,function(O){for(var I in A)O.addCase(I,A[I]);for(var L=0,R=T;L<R.length;L++){var D=R[L];O.addMatcher(D.matcher,D.reducer)}M&&O.addDefaultCase(M)})}var h;return{name:t,reducer:function(g,y){return h||(h=f()),h(g,y)},actions:a,caseReducers:o,getInitialState:function(){return h||(h=f()),h.getInitialState()}}}var Hre="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Gre=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=Hre[Math.random()*64|0];return t},Yre=["name","message","stack","code"],FE=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),O3=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),Kre=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=Yre;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=$d(t+"/fulfilled",function(h,g,y,b){return{payload:h,meta:BE(Id({},b||{}),{arg:y,requestId:g,requestStatus:"fulfilled"})}}),o=$d(t+"/pending",function(h,g,y){return{payload:void 0,meta:BE(Id({},y||{}),{arg:g,requestId:h,requestStatus:"pending"})}}),s=$d(t+"/rejected",function(h,g,y,b,E){return{payload:b,error:(r&&r.serializeError||Kre)(h||"Rejected"),meta:BE(Id({},E||{}),{arg:y,requestId:g,rejectedWithValue:!!b,requestStatus:"rejected",aborted:(h==null?void 0:h.name)==="AbortError",condition:(h==null?void 0:h.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function h(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return h.prototype.abort=function(){},h}();function f(h){return function(g,y,b){var E=r!=null&&r.idGenerator?r.idGenerator(h):Gre(),T=new a,w;function M(O){w=O,T.abort()}var A=function(){return $re(this,null,function(){var O,I,L,R,D,F,q;return Ere(this,function(J){switch(J.label){case 0:return J.trys.push([0,4,,5]),R=(O=r==null?void 0:r.condition)==null?void 0:O.call(r,h,{getState:y,extra:b}),Xre(R)?[4,R]:[3,2];case 1:R=J.sent(),J.label=2;case 2:if(R===!1||T.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return D=new Promise(function(K,ne){return T.signal.addEventListener("abort",function(){return ne({name:"AbortError",message:w||"Aborted"})})}),g(o(E,h,(I=r==null?void 0:r.getPendingMeta)==null?void 0:I.call(r,{requestId:E,arg:h},{getState:y,extra:b}))),[4,Promise.race([D,Promise.resolve(n(h,{dispatch:g,getState:y,extra:b,requestId:E,signal:T.signal,abort:M,rejectWithValue:function(K,ne){return new FE(K,ne)},fulfillWithValue:function(K,ne){return new O3(K,ne)}})).then(function(K){if(K instanceof FE)throw K;return K instanceof O3?i(K.payload,E,h,K.meta):i(K,E,h)})])];case 3:return L=J.sent(),[3,5];case 4:return F=J.sent(),L=F instanceof FE?s(null,E,h,F.payload,F.meta):s(F,E,h),[3,5];case 5:return q=r&&!r.dispatchConditionRejection&&s.match(L)&&L.meta.condition,q||g(L),[2,L]}})})}();return Object.assign(A,{abort:M,requestId:E,arg:h,unwrap:function(){return A.then(Zre)}})}}return Object.assign(f,{pending:o,rejected:s,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function Zre(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function Xre(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var B$="listenerMiddleware";$d(B$+"/add");$d(B$+"/removeAll");$d(B$+"/remove");var M3;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);yre();const{reducer:Jre,actions:s9}=Cg({name:"errors",initialState:{errors:[]},reducers:{push(e,t){e.errors.push(t.payload)},pop(e){e.errors.length&&e.errors.shift()}}}),{reducer:Qre,actions:Ja}=Cg({name:"devices",initialState:{items:{},selectedId:null,selectedIds:[]},reducers:{refresh(e,t){e.items={},t.payload.forEach(n=>e.items[n.id]=n)},update1(e,t){e.items[t.payload.id]=t.payload},update(e,t){t.payload.forEach(n=>e.items[n.id]=n)},select(e,t){e.selectedId=t.payload},selectId(e,t){e.selectedId=t.payload,e.selectedIds=[e.selectedId]},selectIds(e,t){e.selectedIds=t.payload,[e.selectedId]=e.selectedIds},remove(e,t){delete e.items[t.payload]},clear(e,t){e.items={}}}}),{reducer:eie,actions:UE}=Cg({name:"data",initialState:{server:null,user:null,socket:null,camera:{},positions:{},history:{}},reducers:{updateServer(e,t){e.server=t.payload},updateUser(e,t){e.user=t.payload},updateSocket(e,t){e.socket=t.payload},updatePositions(e,t){Object.keys(t.payload).length>0&&t.payload.forEach(n=>{e.positions[n.deviceId]=n,e.history={}})},updatePosition(e,t){e.positions[t.payload.deviceId]===void 0&&(e.positions[t.payload.deviceId]={attributes:{}}),t.payload.hasOwnProperty("latitude")&&(e.positions[t.payload.deviceId].id=t.payload.id,e.positions[t.payload.deviceId].deviceId=t.payload.deviceId,e.positions[t.payload.deviceId].latitude=t.payload.latitude,e.positions[t.payload.deviceId].longitude=t.payload.longitude,e.positions[t.payload.deviceId].altitude=t.payload.altitude,e.positions[t.payload.deviceId].deviceTime=t.payload.deviceTime),t.payload.hasOwnProperty("course")&&(e.positions[t.payload.deviceId].course=t.payload.course),t.payload.hasOwnProperty("speed")&&(e.positions[t.payload.deviceId].speed=t.payload.speed),t.payload.hasOwnProperty("batteryLevel")&&(e.positions[t.payload.deviceId].attributes.batteryLevel=t.payload.batteryLevel)},updateCamera(e,t){Object.keys(t.payload).length>0&&t.payload.forEach(n=>{e.camera[n.deviceId]=n})}}}),tie=e=>{let t=[];console.log("version 3"),console.log("longitud"+e.length);for(let n=0;n<e.length;n++){console.log("uav - "+n),t[n]={},e[n].hasOwnProperty("uav")&&(t[n].uav=e[n].uav),t[n].id=n,t[n].name=e[n].name,t[n].wp=[],t[n].attributes={};for(let r=0;r<e[n].wp.length;r++)t[n].wp[r]={},t[n].wp[r].pos=e[n].wp[r].pos,t[n].wp[r].yaw=e[n].wp[r].yaw,t[n].wp[r].gimbal=e[n].wp[r].gimbal,e[n].wp[r].hasOwnProperty("speed")&&(t[n].wp[r].speed=e[n].wp[r].speed),e[n].wp[r].hasOwnProperty("action")&&(t[n].wp[r].action=e[n].wp[r].action);e[n].hasOwnProperty("attributes")?(console.log("have atribute"),e[n].attributes.hasOwnProperty("mode_landing")&&(console.log("have modelanding"+n),t[n].attributes.mode_landing=e[n].attributes.mode_landing),e[n].attributes.hasOwnProperty("mode_yaw")&&(t[n].attributes.mode_yaw=e[n].attributes.mode_yaw),e[n].attributes.hasOwnProperty("mode_gimbal")&&(t[n].attributes.mode_gimbal=e[n].attributes.mode_gimbal),e[n].attributes.hasOwnProperty("mode_trace")&&(t[n].attributes.mode_trace=e[n].attributes.mode_trace),e[n].attributes.hasOwnProperty("idle_vel")&&(t[n].attributes.idle_vel=e[n].attributes.idle_vel),e[n].attributes.hasOwnProperty("max_vel")&&(t[n].attributes.max_vel=e[n].attributes.max_vel)):(e[n].hasOwnProperty("mode_landing")&&(console.log("have modelanding"+n),t[n].attributes.mode_landing=e[n].mode_landing),e[n].hasOwnProperty("mode_yaw")&&(t[n].attributes.mode_yaw=e[n].mode_yaw),e[n].hasOwnProperty("mode_gimbal")&&(t[n].attributes.mode_gimbal=e[n].mode_gimbal),e[n].hasOwnProperty("mode_trace")&&(t[n].attributes.mode_trace=e[n].mode_trace),e[n].hasOwnProperty("idle_vel")&&(t[n].attributes.idle_vel=e[n].idle_vel),e[n].hasOwnProperty("max_vel")&&(t[n].attributes.max_vel=e[n].max_vel))}return console.log("-------------------"),console.log(t),t},nie=e=>{let t=[];console.log("mission < 3");for(let n=1;n<=e.uav_n;n++)if(e.hasOwnProperty("uav_"+n)){let r=n-1;console.log("uav - "+r),t[r]={},t[r].id=r,t[r].uav="uav_"+n,t[r].name="uav_"+n,t[r].wp=[],t[r].attributes={};for(let i=0;i<e["uav_"+n].wp_n;i++)t[r].wp[i]={},e["uav_"+n]["wp_"+i].length==3?(t[r].wp[i].yaw=0,t[r].wp[i].pos=e["uav_"+n]["wp_"+i]):(t[r].wp[i].yaw=e["uav_"+n]["wp_"+i][3],t[r].wp[i].pos=e["uav_"+n]["wp_"+i].slice(0,-1));e.hasOwnProperty("mode_landing")&&(t[r].attributes.mode_landing=e.mode_landing),e.hasOwnProperty("mode_yaw")&&(t[r].attributes.mode_yaw=e.mode_yaw),e.hasOwnProperty("idle_vel")&&(t[r].attributes.idle_vel=e.idle_vel),e["uav_"+n].hasOwnProperty("attributes")?(e["uav_"+n].attributes.hasOwnProperty("mode_landing")&&(console.log("have modelanding"+n),t[r].attributes.mode_landing=e["uav_"+n].attributes.mode_landing),e["uav_"+n].attributes.hasOwnProperty("mode_yaw")&&(t[r].attributes.mode_yaw=e["uav_"+n].attributes.mode_yaw),e["uav_"+n].attributes.hasOwnProperty("idle_vel")&&(t[r].attributes.idle_vel=e["uav_"+n].attributes.idle_vel),e["uav_"+n].attributes.hasOwnProperty("max_vel")&&(t[n].attributes.max_vel=e["uav_"+n].attributes.max_vel)):(e["uav_"+n].hasOwnProperty("mode_landing")&&(t[r].attributes.mode_landing=e["uav_"+n].mode_landing),e["uav_"+n].hasOwnProperty("mode_yaw")&&(t[r].attributes.mode_yaw=e["uav_"+n].mode_yaw),e["uav_"+n].hasOwnProperty("idle_vel")&&(t[r].attributes.idle_vel=e["uav_"+n].idle_vel))}return console.log("-----------   legacy   --------"),console.log(t),t},{reducer:rie,actions:Kc}=Cg({name:"mission",initialState:{name:"Mission no loaded",description:"",home:[0,0],route:[],attributes:{},selectpoint:{id:-1}},reducers:{updateWpPos(e,t){t.payload.route_id>=0&&(e.route[t.payload.route_id].wp[t.payload.wp_id].pos[0]=t.payload.lat,e.route[t.payload.route_id].wp[t.payload.wp_id].pos[1]=t.payload.lng)},selectpoint(e,t){console.log("selec point"),e.selectpoint=t.payload},reloadMission(e,t){e.route=t.payload},reloadName(e,t){e.name=t.payload.name,e.description=t.payload.description},updateMission(e,t){if(e.name=t.payload.name,t.payload.mission.version=="3"){let n=0;e.home=t.payload.mission.route[n].wp[0].pos,e.route=tie(t.payload.mission.route)}else{let n=1;e.home=t.payload.mission["uav_"+n].wp_0,e.route=nie(t.payload.mission)}},clearMission(e,t){console.log("clear mission"),e.name="Mission no loaded",e.route=[],e.attributes={}}}}),{reducer:iie,actions:qc}=Cg({name:"session",initialState:{server:null,user:null,socket:null,positions:{},history:{},markers:{bases:[],elements:[]},planning:{id:1234,name:"no mission",objetivo:{id:0},loc:[],meteo:[],bases:[],settings:{}}},reducers:{updateServer(e,t){e.server=t.payload},updateUser(e,t){e.user=t.payload},updateSocket(e,t){e.socket=t.payload},updatePositions(e,t){const n=e.user.attributes.mapLiveRoutes||e.server.attributes.mapLiveRoutes||"none",r=e.user.attributes["web.liveRouteLength"]||e.user.attributes["web.liveRouteLength"]||10;t.payload.forEach(i=>{if(e.positions[i.deviceId]=i,n!=="none"){const o=e.history[i.deviceId]||[],s=o.at(-1);(!s||s[0]!==i.longitude&&s[1]!==i.latitude)&&(e.history[i.deviceId]=[...o.slice(1-r),[i.longitude,i.latitude]])}else e.history={}})},updateMarker(e,t){e.markers=t.payload},addMarkerElement(e,t){e.markers.elements.push(...t.payload)},addMarkerBase(e,t){e.markers.bases.push(...t.payload)},updatePlanning(e,t){e.planning=t.payload}}}),{reducer:oie,actions:aie}=Cg({name:"events",initialState:{items:[]},reducers:{add(e,t){e.items.unshift(...t.payload),e.items.splice(50)},delete(e,t){e.items=e.items.filter(n=>n.id!==t.payload.id)},deleteAll(e){e.items=[]}}}),A3=3,sie=1500,lie=()=>e=>{const t=[];let n=!1,r=0;return setInterval(()=>{n?(t.length<A3&&(n=!1),wu.unstable_batchedUpdates(()=>t.splice(0,t.length).forEach(i=>e(i)))):(r>A3&&(n=!0),r=0)},sie),i=>i.type==="devices/update"||i.type==="positions/update"?n?(t.push(i),null):(r+=1,e(i)):e(i)},cie=n9({errors:Jre,devices:Qre,data:eie,events:oie,mission:rie,session:iie}),uie=Ure({reducer:cie,middleware:e=>e().concat(lie)}),die={black:"#000",white:"#fff"},mh=die,fie={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Wc=fie,hie={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},bp=hie,pie={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},l9=pie,mie={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},xp=mie,gie={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},_p=gie,yie={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Sl=yie,vie={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"},F$=vie,bie={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},cv=bie,xie={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},ac=xie,uv={white:mh.white,background:ac[50],primary:l9[900],secondary:Sl[800],positive:Sl[500],medium:F$[700],negative:Wc[500],neutral:ac[500],geometry:"#3bb2d0"},_ie={0:"#F34C28",1:"#F39A28",2:"#1EC910",3:"#1012C9",4:"#C310C9",5:"#1FDBF1",6:"#F6FD04",7:"#808080"},Ud={background:{default:uv.background},primary:{main:uv.primary},secondary:{main:uv.secondary,contrastText:uv.white},colors:uv,colors_devices:_ie};var U$={exports:{}};U$.exports=c9;U$.exports.parse=c9;U$.exports.stringify=u9;var I3=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,$3=new RegExp("^"+I3.source+"(\\s"+I3.source+"){1,}");function c9(e){var t=e.split(";"),n=t.pop(),r=(t.shift()||"").split("=").pop(),i=0;function o(O){var I=n.substring(i).match(O);return I?(i+=I[0].length,I[0]):null}function s(O){return O&&r.match(/\d+/)&&(O.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+r}}),O}function a(){o(/^\s*/)}function f(){a();for(var O=0,I=[],L=[I],R=I,D;D=o(/^(\()/)||o(/^(\))/)||o(/^(,)/)||o($3);){if(D==="(")L.push(R),R=[],L[L.length-1].push(R),O++;else if(D===")"){if(R.length===0||(R=L.pop(),!R))return null;if(O--,O===0)break}else if(D===",")R=[],L[L.length-1].push(R);else if(!D.split(/\s/g).some(isNaN))Array.prototype.push.apply(R,D.split(/\s/g).map(parseFloat));else return null;a()}return O!==0?null:I}function h(){for(var O=[],I,L;L=o($3)||o(/^(,)/);)L===","?(O.push(I),I=[]):L.split(/\s/g).some(isNaN)||(I||(I=[]),Array.prototype.push.apply(I,L.split(/\s/g).map(parseFloat))),a();if(I)O.push(I);else return null;return O.length?O:null}function g(){if(!o(/^(point(\sz)?)/i)||(a(),!o(/^(\()/)))return null;var O=h();return!O||(a(),!o(/^(\))/))?null:{type:"Point",coordinates:O[0]}}function y(){if(!o(/^(multipoint)/i))return null;a();var O=n.substring(n.indexOf("(")+1,n.length-1).replace(/\(/g,"").replace(/\)/g,"");n="MULTIPOINT ("+O+")";var I=f();return I?(a(),{type:"MultiPoint",coordinates:I}):null}function b(){if(!o(/^(multilinestring)/i))return null;a();var O=f();return O?(a(),{type:"MultiLineString",coordinates:O}):null}function E(){if(!o(/^(linestring(\sz)?)/i)||(a(),!o(/^(\()/)))return null;var O=h();return!O||!o(/^(\))/)?null:{type:"LineString",coordinates:O}}function T(){if(!o(/^(polygon(\sz)?)/i))return null;a();var O=f();return O?{type:"Polygon",coordinates:O}:null}function w(){if(!o(/^(multipolygon)/i))return null;a();var O=f();return O?{type:"MultiPolygon",coordinates:O}:null}function M(){var O=[],I;if(!o(/^(geometrycollection)/i)||(a(),!o(/^(\()/)))return null;for(;I=A();)O.push(I),a(),o(/^(,)/),a();return o(/^(\))/)?{type:"GeometryCollection",geometries:O}:null}function A(){return g()||E()||T()||y()||b()||w()||M()}return s(A())}function u9(e){e.type==="Feature"&&(e=e.geometry);function t(s){return s.join(" ")}function n(s){return s.map(t).join(", ")}function r(s){return s.map(n).map(o).join(", ")}function i(s){return s.map(r).map(o).join(", ")}function o(s){return"("+s+")"}switch(e.type){case"Point":return"POINT ("+t(e.coordinates)+")";case"LineString":return"LINESTRING ("+n(e.coordinates)+")";case"Polygon":return"POLYGON ("+r(e.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+n(e.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+i(e.coordinates)+")";case"MultiLineString":return"MULTILINESTRING ("+r(e.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+e.geometries.map(u9).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}}const Tf=e=>new Promise(t=>{const n=new Image;n.onload=()=>t(n),n.src=e}),VE=(e,t)=>{const n=document.createElement("canvas");n.width=e.width*devicePixelRatio,n.height=e.height*devicePixelRatio,n.style.width=`${e.width}px`,n.style.height=`${e.height}px`;const r=n.getContext("2d");return r.save(),r.fillStyle=t,r.globalAlpha=1,r.fillRect(0,0,n.width,n.height),r.globalCompositeOperation="destination-atop",r.globalAlpha=1,r.drawImage(e,0,0,n.width,n.height),r.restore(),n},Qu=(e,t,n,r,i)=>{const o=document.createElement("canvas");o.width=e.width*devicePixelRatio,o.height=e.height*devicePixelRatio,o.style.width=`${e.width}px`,o.style.height=`${e.height}px`;const s=o.getContext("2d");if(s.drawImage(e,0,0,o.width,o.height),t){r&&s.drawImage(VE(r,i),0,0,o.width,o.height);const a=.5,f=o.width*a,h=o.height*a;s.drawImage(VE(t,n),(o.width-f)/2,(o.height-h)/2,f,h)}else n&&s.drawImage(VE(e,n),0,0,o.width,o.height);return s.getImageData(0,0,o.width,o.height)},Il=e=>{var s;const t=new Set,{layers:n}=e.getStyle();(s=n==null?void 0:n.forEach)==null||s.call(n,a=>{var f,h,g;(g=(h=(f=a.layout)==null?void 0:f["text-font"])==null?void 0:h.forEach)==null||g.call(h,t.add,t)});const r=[...t],i=r.find(a=>a.includes("Regular"));if(i)return[i];const o=r.find(Boolean);return o?[o]:["Roboto Regular"]},wie="data:image/svg+xml,%3csvg%20width='48px'%20height='48px'%20viewBox='0%200%2010%2010'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cfilter%20id='shadow'%3e%3cfeDropShadow%20dx='0'%20dy='0.1'%20stdDeviation='0.3'%20flood-color='grey'/%3e%3c/filter%3e%3c/defs%3e%3ccircle%20cx='5'%20cy='50%25'%20r='4'%20style='fill:white;%20filter:url(%23shadow);'/%3e%3c/svg%3e",Sie="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='56'%20height='56'%20version='1.1'%20viewBox='0%200%2011.667%2011.667'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m%205.833%200.1%20L%204.2%201.79%20A%205.83%205.83%200,0,1%207.4,1.79%20Z%20'%20fill='%23283593'%20/%3e%3c/svg%3e",Cie="data:image/svg+xml,%3csvg%20width='48px'%20height='48px'%20viewBox='0%200%2010%2010'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='5'%20cy='50%25'%20r='4'%20stroke='black'%20stroke-width='0.5'/%3e%3c/svg%3e",r1="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24'%20height='24'%20fill='%23000000'%3e%3cpath%20d='M8,22h2l4.997-8H20c1.105,0,2-0.895,2-2s-0.895-2-2-2h-5.003L10,2H8l2.493,8H4.996L3.5,8H2l1,4l-1,4h1.5l1.496-2h5.497%20L8,22z'%20fill='%23000000'/%3e%3c/svg%3e",kie="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24'%20height='24'%20fill='%23000000'%3e%3cpath%20d='M%202%203%20L%202%205%20L%209%205%20L%209%203%20L%202%203%20z%20M%2011%203%20L%2011%206.2050781%20C%208.584%206.6840781%207.012375%207.956%206.359375%209%20L%204%209%20L%204%207%20L%202%207%20L%202%2013%20L%204%2013%20L%204%2011%20L%206%2011%20L%206%2013.300781%20C%206%2015.370781%207.8795313%2017%2010.269531%2017%20L%2013.810547%2017%20C%2016.170547%2017%2021.570703%2017%2021.970703%2013%20L%2017%2013%20C%2014.79%2013%2013%2011.21%2013%209%20L%2013%203%20L%2011%203%20z%20M%2015%203%20L%2015%205%20L%2022%205%20L%2022%203%20L%2015%203%20z%20M%2015%206.1699219%20L%2015%209%20C%2015%2010.1%2015.9%2011%2017%2011%20L%2021.740234%2011%20C%2020.940234%208.64%2018.28%206.7299219%2015%206.1699219%20z%20M%2021%2018%20C%2021%2018.552%2020.552%2019%2020%2019%20L%206%2019%20L%206%2021%20L%2020%2021%20C%2021.654%2021%2023%2019.654%2023%2018%20L%2021%2018%20z'%20fill='%23000000'/%3e%3c/svg%3e",Tie="/assets/drone1-vQs42P1F.svg",dv="/assets/drone2-x2UfxKES.svg",Eie="/assets/drone3-EPwZhuDh.svg",Pie="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='47'%20height='37'%20viewBox='0%200%2047%2037'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M23.5%200L46.4497%2036.75H0.550327L23.5%200Z'%20fill='%2300FF0A'/%3e%3c/svg%3e",Oie="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='10.550469mm'%20height='11.099902mm'%20viewBox='0%200%2010.550469%2011.099902'%20version='1.1'%20id='svg5'%20sodipodi:docname='PowerTower.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3csodipodi:namedview%20id='namedview29'%20pagecolor='%23ffffff'%20bordercolor='%23000000'%20borderopacity='0.25'%20inkscape:showpageshadow='2'%20inkscape:pageopacity='0.0'%20inkscape:pagecheckerboard='0'%20inkscape:deskcolor='%23d1d1d1'%20inkscape:document-units='mm'%20showgrid='false'%20/%3e%3cdefs%20id='defs2'%20/%3e%3cg%20id='layer1'%20transform='matrix(1.2914054,0,0,1.2914054,-44.349104,-250.92541)'%20inkscape:export-filename='../8bf6bfef/g329812.svg'%20inkscape:export-xdpi='96'%20inkscape:export-ydpi='96'%3e%3cg%20id='g1611'%20transform='matrix(0.1732213,0,0,0.1732213,28.393016,160.64652)'%3e%3cpath%20style='fill:%23000000;stroke:%23999999;stroke-width:0.264583'%20d='m%2044.755491,243.21009%20c%200.0638,-0.70167%200.12758,-1.40335%200.19137,-2.10502'%20id='path245-8-0'%20/%3e%3cpath%20style='fill:%23000000;stroke-width:0.264583'%20d='m%2042.705671,243.89909%2015.24211,-49.59496%2014.9889,49.61983%20-14.94047,-4.79905%20z'%20id='path366-6-1'%20/%3e%3cpath%20style='fill:none;stroke:%23999999;stroke-width:1.5;stroke-dasharray:none;stroke-dashoffset:0'%20d='m%2065.090551,218.22825%20-14.21776,4.65545%2015.77463,5.18213%20-21.10264,6.73158'%20id='path1500-5-8'%20/%3e%3cpath%20style='fill:none;stroke:%23999999;stroke-width:1.5;stroke-dasharray:none;stroke-dashoffset:0'%20d='m%2050.587581,218.15902%2014.21776,4.65545%20-15.77463,5.18213%2021.10264,6.73158'%20id='path1500-5-6-0'%20/%3e%3cpath%20style='fill:%23000000;stroke:%23b3b3b3;stroke-width:2;stroke-dasharray:none;stroke-dashoffset:0'%20d='m%2037.095893,210.4801%2041.910248,0.11388'%20id='path368-6-4'%20/%3e%3ccircle%20style='fill:%2387decd;stroke:%23000000;stroke-width:0.495712;stroke-dasharray:none;stroke-dashoffset:0'%20id='path3174'%20cx='36.455219'%20cy='210.51549'%20r='1.8656268'%20/%3e%3ccircle%20style='fill:%235fd3bc;stroke:%23000000;stroke-width:0.495712;stroke-dasharray:none;stroke-dashoffset:0'%20id='path3174-8'%20cx='79.391953'%20cy='210.65347'%20r='1.8656268'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Mie="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='4'%20y='4'%20width='32'%20height='32'%20fill='%235144E6'%20stroke='%23FF0A0A'%20stroke-width='8'/%3e%3c/svg%3e",ks="/assets/drone-svgrepo-R6kWQAqP.svg",R3={0:"#F34C28",1:"#F39A28",2:"#1EC910",3:"#1012C9",4:"#C310C9",5:"#1FDBF1",6:"#F6FD04",7:"#808080"},H0={helicopter:kie,plane:r1,drone:Tie,dji_M210_noetic:dv,dji_M210_melodic:dv,dji_M210_noetic_rtk:dv,dji_M210_melodic_rtk:dv,dji_M300:dv,px4:r1,catec:Eie,fuvex:r1,default:r1},Aie={helicopter:ks,plane:ks,drone:ks,dji_M210_noetic:ks,dji_M210_melodic:ks,dji_M210_noetic_rtk:ks,dji_M210_melodic_rtk:ks,dji_M300:ks,px4:ks,catec:ks,fuvex:ks,default:ks},Hw=e=>H0.hasOwnProperty(e)?e:"default",Bc={},Iie=async()=>{const e=await Tf(wie),t=await Tf(Cie);Bc.background=await Qu(e),Bc.item=await Qu(await Tf(Pie)),Bc.powerTower=await Qu(await Tf(Oie)),Bc.base=await Qu(await Tf(Mie)),Bc.direction=await Qu(await Tf(Sie)),Object.keys(Ud.colors_devices).forEach(async n=>{Bc[`background-${n}`]=await Qu(e,null,R3[n]),Bc[`mission-${n}`]=await Qu(t,null,R3[n])}),await Promise.all(Object.keys(H0).map(async n=>{const r=[];["primary","positive","negative","neutral"].forEach(i=>{r.push(Tf(H0[n]).then(o=>{Bc[`${n}-${i}`]=Qu(e,o,Ud.colors[i])}))}),await Promise.all(r)}))};function Hc(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function d9(e){if(!Hc(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=d9(e[n])}),t}function Uo(e,t,n={clone:!0}){const r=n.clone?ee({},e):e;return Hc(e)&&Hc(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(Hc(t[i])&&i in e&&Hc(e[i])?r[i]=Uo(e[i],t[i],n):n.clone?r[i]=Hc(t[i])?d9(t[i]):t[i]:r[i]=t[i])}),r}var f9={exports:{}},$ie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Rie=$ie,Die=Rie;function h9(){}function p9(){}p9.resetWarningCache=h9;var jie=function(){function e(r,i,o,s,a,f){if(f!==Die){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:p9,resetWarningCache:h9};return n.PropTypes=n,n};f9.exports=jie();var V$=f9.exports;const $n=gr(V$);function Vd(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function pt(e){if(typeof e!="string")throw new Error(Vd(7));return e.charAt(0).toUpperCase()+e.slice(1)}function kM(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function Zb(e,t=166){let n;function r(...i){const o=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(o,t)}return r.clear=()=>{clearTimeout(n)},r}function Lie(e,t){return()=>null}function J1(e,t){var n,r;return U.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function zi(e){return e&&e.ownerDocument||document}function fc(e){return zi(e).defaultView||window}function Nie(e,t){return()=>null}function Gw(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const zie=typeof window<"u"?U.useLayoutEffect:U.useEffect,ls=zie;let D3=0;function Bie(e){const[t,n]=U.useState(e),r=e||t;return U.useEffect(()=>{t==null&&(D3+=1,n(`mui-${D3}`))},[t]),r}const j3=pw.useId;function rC(e){if(j3!==void 0){const t=j3();return e??t}return Bie(e)}function Fie(e,t,n,r,i){return null}function zm({controlled:e,default:t,name:n,state:r="value"}){const{current:i}=U.useRef(e!==void 0),[o,s]=U.useState(t),a=i?e:o,f=U.useCallback(h=>{i||s(h)},[]);return[a,f]}function Aa(e){const t=U.useRef(e);return ls(()=>{t.current=e}),U.useRef((...n)=>(0,t.current)(...n)).current}function mi(...e){return U.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{Gw(n,t)})},e)}let iC=!0,TM=!1,L3;const Uie={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Vie(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&Uie[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function Wie(e){e.metaKey||e.altKey||e.ctrlKey||(iC=!0)}function WE(){iC=!1}function qie(){this.visibilityState==="hidden"&&TM&&(iC=!0)}function Hie(e){e.addEventListener("keydown",Wie,!0),e.addEventListener("mousedown",WE,!0),e.addEventListener("pointerdown",WE,!0),e.addEventListener("touchstart",WE,!0),e.addEventListener("visibilitychange",qie,!0)}function Gie(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return iC||Vie(t)}function oC(){const e=U.useCallback(i=>{i!=null&&Hie(i.ownerDocument)},[]),t=U.useRef(!1);function n(){return t.current?(TM=!0,window.clearTimeout(L3),L3=window.setTimeout(()=>{TM=!1},100),t.current=!1,!0):!1}function r(i){return Gie(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function m9(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}let wp;function g9(){if(wp)return wp;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),wp="reverse",e.scrollLeft>0?wp="default":(e.scrollLeft=1,e.scrollLeft===0&&(wp="negative")),document.body.removeChild(e),wp}function Yie(e,t){const n=e.scrollLeft;if(t!=="rtl")return n;switch(g9()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}const Kie=e=>{const t=U.useRef({});return U.useEffect(()=>{t.current=e}),t.current},y9=Kie;function Zie(e){return U.Children.toArray(e).filter(t=>U.isValidElement(t))}function W$(e,t){const n=ee({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=ee({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},o=t[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=ee({},o),Object.keys(i).forEach(s=>{n[r][s]=W$(i[s],o[s])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function rn(e,t,n=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((o,s)=>{if(s){const a=t(s);a!==""&&o.push(a),n&&n[s]&&o.push(n[s])}return o},[]).join(" ")}),r}const N3=e=>e,Xie=()=>{let e=N3;return{configure(t){e=t},generate(t){return e(t)},reset(){e=N3}}},Jie=Xie(),q$=Jie,Qie={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function nn(e,t,n="Mui"){const r=Qie[t];return r?`${n}-${r}`:`${q$.generate(e)}-${t}`}function Qt(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=nn(e,i,n)}),r}const gh="$$material";function v9(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var eoe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,toe=v9(function(e){return eoe.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function noe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function roe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var ioe=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(roe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=noe(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),jo="-ms-",Yw="-moz-",fr="-webkit-",b9="comm",H$="rule",G$="decl",ooe="@import",x9="@keyframes",aoe="@layer",soe=Math.abs,aC=String.fromCharCode,loe=Object.assign;function coe(e,t){return xo(e,0)^45?(((t<<2^xo(e,0))<<2^xo(e,1))<<2^xo(e,2))<<2^xo(e,3):0}function _9(e){return e.trim()}function uoe(e,t){return(e=t.exec(e))?e[0]:e}function hr(e,t,n){return e.replace(t,n)}function EM(e,t){return e.indexOf(t)}function xo(e,t){return e.charCodeAt(t)|0}function G0(e,t,n){return e.slice(t,n)}function Jl(e){return e.length}function Y$(e){return e.length}function i1(e,t){return t.push(e),e}function doe(e,t){return e.map(t).join("")}var sC=1,Bm=1,w9=0,Na=0,Li=0,kg="";function lC(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:sC,column:Bm,length:s,return:""}}function fv(e,t){return loe(lC("",null,null,"",null,null,0),e,{length:-e.length},t)}function foe(){return Li}function hoe(){return Li=Na>0?xo(kg,--Na):0,Bm--,Li===10&&(Bm=1,sC--),Li}function is(){return Li=Na<w9?xo(kg,Na++):0,Bm++,Li===10&&(Bm=1,sC++),Li}function sc(){return xo(kg,Na)}function Q1(){return Na}function Xb(e,t){return G0(kg,e,t)}function Y0(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function S9(e){return sC=Bm=1,w9=Jl(kg=e),Na=0,[]}function C9(e){return kg="",e}function ew(e){return _9(Xb(Na-1,PM(e===91?e+2:e===40?e+1:e)))}function poe(e){for(;(Li=sc())&&Li<33;)is();return Y0(e)>2||Y0(Li)>3?"":" "}function moe(e,t){for(;--t&&is()&&!(Li<48||Li>102||Li>57&&Li<65||Li>70&&Li<97););return Xb(e,Q1()+(t<6&&sc()==32&&is()==32))}function PM(e){for(;is();)switch(Li){case e:return Na;case 34:case 39:e!==34&&e!==39&&PM(Li);break;case 40:e===41&&PM(e);break;case 92:is();break}return Na}function goe(e,t){for(;is()&&e+Li!==57;)if(e+Li===84&&sc()===47)break;return"/*"+Xb(t,Na-1)+"*"+aC(e===47?e:is())}function yoe(e){for(;!Y0(sc());)is();return Xb(e,Na)}function voe(e){return C9(tw("",null,null,null,[""],e=S9(e),0,[0],e))}function tw(e,t,n,r,i,o,s,a,f){for(var h=0,g=0,y=s,b=0,E=0,T=0,w=1,M=1,A=1,O=0,I="",L=i,R=o,D=r,F=I;M;)switch(T=O,O=is()){case 40:if(T!=108&&xo(F,y-1)==58){EM(F+=hr(ew(O),"&","&\f"),"&\f")!=-1&&(A=-1);break}case 34:case 39:case 91:F+=ew(O);break;case 9:case 10:case 13:case 32:F+=poe(T);break;case 92:F+=moe(Q1()-1,7);continue;case 47:switch(sc()){case 42:case 47:i1(boe(goe(is(),Q1()),t,n),f);break;default:F+="/"}break;case 123*w:a[h++]=Jl(F)*A;case 125*w:case 59:case 0:switch(O){case 0:case 125:M=0;case 59+g:A==-1&&(F=hr(F,/\f/g,"")),E>0&&Jl(F)-y&&i1(E>32?B3(F+";",r,n,y-1):B3(hr(F," ","")+";",r,n,y-2),f);break;case 59:F+=";";default:if(i1(D=z3(F,t,n,h,g,i,a,I,L=[],R=[],y),o),O===123)if(g===0)tw(F,t,D,D,L,o,y,a,R);else switch(b===99&&xo(F,3)===110?100:b){case 100:case 108:case 109:case 115:tw(e,D,D,r&&i1(z3(e,D,D,0,0,i,a,I,i,L=[],y),R),i,R,y,a,r?L:R);break;default:tw(F,D,D,D,[""],R,0,a,R)}}h=g=E=0,w=A=1,I=F="",y=s;break;case 58:y=1+Jl(F),E=T;default:if(w<1){if(O==123)--w;else if(O==125&&w++==0&&hoe()==125)continue}switch(F+=aC(O),O*w){case 38:A=g>0?1:(F+="\f",-1);break;case 44:a[h++]=(Jl(F)-1)*A,A=1;break;case 64:sc()===45&&(F+=ew(is())),b=sc(),g=y=Jl(I=F+=yoe(Q1())),O++;break;case 45:T===45&&Jl(F)==2&&(w=0)}}return o}function z3(e,t,n,r,i,o,s,a,f,h,g){for(var y=i-1,b=i===0?o:[""],E=Y$(b),T=0,w=0,M=0;T<r;++T)for(var A=0,O=G0(e,y+1,y=soe(w=s[T])),I=e;A<E;++A)(I=_9(w>0?b[A]+" "+O:hr(O,/&\f/g,b[A])))&&(f[M++]=I);return lC(e,t,n,i===0?H$:a,f,h,g)}function boe(e,t,n){return lC(e,t,n,b9,aC(foe()),G0(e,2,-2),0)}function B3(e,t,n,r){return lC(e,t,n,G$,G0(e,0,r),G0(e,r+1,-1),r)}function vm(e,t){for(var n="",r=Y$(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function xoe(e,t,n,r){switch(e.type){case aoe:if(e.children.length)break;case ooe:case G$:return e.return=e.return||e.value;case b9:return"";case x9:return e.return=e.value+"{"+vm(e.children,r)+"}";case H$:e.value=e.props.join(",")}return Jl(n=vm(e.children,r))?e.return=e.value+"{"+n+"}":""}function _oe(e){var t=Y$(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function woe(e){return function(t){t.root||(t=t.return)&&e(t)}}var Soe=function(t,n,r){for(var i=0,o=0;i=o,o=sc(),i===38&&o===12&&(n[r]=1),!Y0(o);)is();return Xb(t,Na)},Coe=function(t,n){var r=-1,i=44;do switch(Y0(i)){case 0:i===38&&sc()===12&&(n[r]=1),t[r]+=Soe(Na-1,n,r);break;case 2:t[r]+=ew(i);break;case 4:if(i===44){t[++r]=sc()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=aC(i)}while(i=is());return t},koe=function(t,n){return C9(Coe(S9(t),n))},F3=new WeakMap,Toe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!F3.get(r))&&!i){F3.set(t,!0);for(var o=[],s=koe(n,o),a=r.props,f=0,h=0;f<s.length;f++)for(var g=0;g<a.length;g++,h++)t.props[h]=o[f]?s[f].replace(/&\f/g,a[g]):a[g]+" "+s[f]}}},Eoe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function k9(e,t){switch(coe(e,t)){case 5103:return fr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return fr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return fr+e+Yw+e+jo+e+e;case 6828:case 4268:return fr+e+jo+e+e;case 6165:return fr+e+jo+"flex-"+e+e;case 5187:return fr+e+hr(e,/(\w+).+(:[^]+)/,fr+"box-$1$2"+jo+"flex-$1$2")+e;case 5443:return fr+e+jo+"flex-item-"+hr(e,/flex-|-self/,"")+e;case 4675:return fr+e+jo+"flex-line-pack"+hr(e,/align-content|flex-|-self/,"")+e;case 5548:return fr+e+jo+hr(e,"shrink","negative")+e;case 5292:return fr+e+jo+hr(e,"basis","preferred-size")+e;case 6060:return fr+"box-"+hr(e,"-grow","")+fr+e+jo+hr(e,"grow","positive")+e;case 4554:return fr+hr(e,/([^-])(transform)/g,"$1"+fr+"$2")+e;case 6187:return hr(hr(hr(e,/(zoom-|grab)/,fr+"$1"),/(image-set)/,fr+"$1"),e,"")+e;case 5495:case 3959:return hr(e,/(image-set\([^]*)/,fr+"$1$`$1");case 4968:return hr(hr(e,/(.+:)(flex-)?(.*)/,fr+"box-pack:$3"+jo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+fr+e+e;case 4095:case 3583:case 4068:case 2532:return hr(e,/(.+)-inline(.+)/,fr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Jl(e)-1-t>6)switch(xo(e,t+1)){case 109:if(xo(e,t+4)!==45)break;case 102:return hr(e,/(.+:)(.+)-([^]+)/,"$1"+fr+"$2-$3$1"+Yw+(xo(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~EM(e,"stretch")?k9(hr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(xo(e,t+1)!==115)break;case 6444:switch(xo(e,Jl(e)-3-(~EM(e,"!important")&&10))){case 107:return hr(e,":",":"+fr)+e;case 101:return hr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+fr+(xo(e,14)===45?"inline-":"")+"box$3$1"+fr+"$2$3$1"+jo+"$2box$3")+e}break;case 5936:switch(xo(e,t+11)){case 114:return fr+e+jo+hr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return fr+e+jo+hr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return fr+e+jo+hr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return fr+e+jo+e+e}return e}var Poe=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case G$:t.return=k9(t.value,t.length);break;case x9:return vm([fv(t,{value:hr(t.value,"@","@"+fr)})],i);case H$:if(t.length)return doe(t.props,function(o){switch(uoe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return vm([fv(t,{props:[hr(o,/:(read-\w+)/,":"+Yw+"$1")]})],i);case"::placeholder":return vm([fv(t,{props:[hr(o,/:(plac\w+)/,":"+fr+"input-$1")]}),fv(t,{props:[hr(o,/:(plac\w+)/,":"+Yw+"$1")]}),fv(t,{props:[hr(o,/:(plac\w+)/,jo+"input-$1")]})],i)}return""})}},Ooe=[Poe],T9=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var M=w.getAttribute("data-emotion");M.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var i=t.stylisPlugins||Ooe,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(w){for(var M=w.getAttribute("data-emotion").split(" "),A=1;A<M.length;A++)o[M[A]]=!0;a.push(w)});var f,h=[Toe,Eoe];{var g,y=[xoe,woe(function(w){g.insert(w)})],b=_oe(h.concat(i,y)),E=function(M){return vm(voe(M),b)};f=function(M,A,O,I){g=O,E(M?M+"{"+A.styles+"}":A.styles),I&&(T.inserted[A.name]=!0)}}var T={key:n,sheet:new ioe({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:f};return T.sheet.hydrate(a),T},Moe=!0;function Aoe(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var E9=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||Moe===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},P9=function(t,n,r){E9(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function Ioe(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var $oe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Roe=/[A-Z]|^ms/g,Doe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,O9=function(t){return t.charCodeAt(1)===45},U3=function(t){return t!=null&&typeof t!="boolean"},qE=v9(function(e){return O9(e)?e:e.replace(Roe,"-$&").toLowerCase()}),V3=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Doe,function(r,i,o){return Ql={name:i,styles:o,next:Ql},i})}return $oe[t]!==1&&!O9(t)&&typeof n=="number"&&n!==0?n+"px":n};function K0(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Ql={name:n.name,styles:n.styles,next:Ql},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Ql={name:r.name,styles:r.styles,next:Ql},r=r.next;var i=n.styles+";";return i}return joe(e,t,n)}case"function":{if(e!==void 0){var o=Ql,s=n(e);return Ql=o,K0(e,t,s)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function joe(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=K0(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")t!=null&&t[s]!==void 0?r+=o+"{"+t[s]+"}":U3(s)&&(r+=qE(o)+":"+V3(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var a=0;a<s.length;a++)U3(s[a])&&(r+=qE(o)+":"+V3(o,s[a])+";");else{var f=K0(e,t,s);switch(o){case"animation":case"animationName":{r+=qE(o)+":"+f+";";break}default:r+=o+"{"+f+"}"}}}return r}var W3=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ql,K$=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";Ql=void 0;var s=t[0];s==null||s.raw===void 0?(i=!1,o+=K0(r,n,s)):o+=s[0];for(var a=1;a<t.length;a++)o+=K0(r,n,t[a]),i&&(o+=s[a]);W3.lastIndex=0;for(var f="",h;(h=W3.exec(o))!==null;)f+="-"+h[1];var g=Ioe(o)+f;return{name:g,styles:o,next:Ql}},Loe=function(t){return t()},M9=pw.useInsertionEffect?pw.useInsertionEffect:!1,Noe=M9||Loe,q3=M9||U.useLayoutEffect,A9=U.createContext(typeof HTMLElement<"u"?T9({key:"css"}):null),zoe=A9.Provider,I9=function(t){return U.forwardRef(function(n,r){var i=U.useContext(A9);return t(n,i,r)})},cC=U.createContext({}),Boe=I9(function(e,t){var n=e.styles,r=K$([n],void 0,U.useContext(cC)),i=U.useRef();return q3(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,f=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),f!==null&&(a=!0,f.setAttribute("data-emotion",o),s.hydrate([f])),i.current=[s,a],function(){s.flush()}},[t]),q3(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&P9(t,r.next,!0),s.tags.length){var f=s.tags[s.tags.length-1].nextElementSibling;s.before=f,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function Foe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return K$(t)}var Z$=function(){var t=Foe.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Uoe=toe,Voe=function(t){return t!=="theme"},H3=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Uoe:Voe},G3=function(t,n,r){var i;if(n){var o=n.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},Woe=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return E9(n,r,i),Noe(function(){return P9(n,r,i)}),null},qoe=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,s;n!==void 0&&(o=n.label,s=n.target);var a=G3(t,n,r),f=a||H3(i),h=!f("as");return function(){var g=arguments,y=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&y.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)y.push.apply(y,g);else{y.push(g[0][0]);for(var b=g.length,E=1;E<b;E++)y.push(g[E],g[0][E])}var T=I9(function(w,M,A){var O=h&&w.as||i,I="",L=[],R=w;if(w.theme==null){R={};for(var D in w)R[D]=w[D];R.theme=U.useContext(cC)}typeof w.className=="string"?I=Aoe(M.registered,L,w.className):w.className!=null&&(I=w.className+" ");var F=K$(y.concat(L),M.registered,R);I+=M.key+"-"+F.name,s!==void 0&&(I+=" "+s);var q=h&&a===void 0?H3(O):f,J={};for(var K in w)h&&K==="as"||q(K)&&(J[K]=w[K]);return J.className=I,J.ref=A,U.createElement(U.Fragment,null,U.createElement(Woe,{cache:M,serialized:F,isStringTag:typeof O=="string"}),U.createElement(O,J))});return T.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",T.defaultProps=t.defaultProps,T.__emotion_real=T,T.__emotion_base=i,T.__emotion_styles=y,T.__emotion_forwardProp=a,Object.defineProperty(T,"toString",{value:function(){return"."+s}}),T.withComponent=function(w,M){return e(w,ee({},n,M,{shouldForwardProp:G3(T,M,!0)})).apply(void 0,y)},T}},Hoe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],OM=qoe.bind();Hoe.forEach(function(e){OM[e]=OM(e)});let MM;typeof document=="object"&&(MM=T9({key:"css",prepend:!0}));function Goe(e){const{injectFirst:t,children:n}=e;return t&&MM?$.jsx(zoe,{value:MM,children:n}):n}function Yoe(e){return e==null||Object.keys(e).length===0}function Koe(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(Yoe(i)?n:i):t;return $.jsx(Boe,{styles:r})}function $9(e,t){return OM(e,t)}const Zoe=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Xoe=["values","unit","step"],Joe=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>ee({},n,{[r.key]:r.val}),{})};function Qoe(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=gt(e,Xoe),o=Joe(t),s=Object.keys(o);function a(b){return`@media (min-width:${typeof t[b]=="number"?t[b]:b}${n})`}function f(b){return`@media (max-width:${(typeof t[b]=="number"?t[b]:b)-r/100}${n})`}function h(b,E){const T=s.indexOf(E);return`@media (min-width:${typeof t[b]=="number"?t[b]:b}${n}) and (max-width:${(T!==-1&&typeof t[s[T]]=="number"?t[s[T]]:E)-r/100}${n})`}function g(b){return s.indexOf(b)+1<s.length?h(b,s[s.indexOf(b)+1]):a(b)}function y(b){const E=s.indexOf(b);return E===0?a(s[1]):E===s.length-1?f(s[E]):h(b,s[s.indexOf(b)+1]).replace("@media","@media not all and")}return ee({keys:s,values:o,up:a,down:f,between:h,only:g,not:y,unit:n},i)}const eae={borderRadius:4},tae=eae;function a0(e,t){return t?Uo(e,t,{clone:!1}):e}const X$={xs:0,sm:600,md:900,lg:1200,xl:1536},Y3={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${X$[e]}px)`};function Gs(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const o=r.breakpoints||Y3;return t.reduce((s,a,f)=>(s[o.up(o.keys[f])]=n(t[f]),s),{})}if(typeof t=="object"){const o=r.breakpoints||Y3;return Object.keys(t).reduce((s,a)=>{if(Object.keys(o.values||X$).indexOf(a)!==-1){const f=o.up(a);s[f]=n(t[a],a)}else{const f=a;s[f]=t[f]}return s},{})}return n(t)}function nae(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,i)=>{const o=e.up(i);return r[o]={},r},{}))||{}}function rae(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function iae(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,o)=>{o<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function uC({values:e,breakpoints:t,base:n}){const r=n||iae(e,t),i=Object.keys(r);if(i.length===0)return e;let o;return i.reduce((s,a,f)=>(Array.isArray(e)?(s[a]=e[f]!=null?e[f]:e[o],o=f):typeof e=="object"?(s[a]=e[a]!=null?e[a]:e[o],o=a):s[a]=e,s),{})}function Fm(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Kw(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=Fm(e,n)||r,t&&(i=t(i,r,e)),i}function Di(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=s=>{if(s[t]==null)return null;const a=s[t],f=s.theme,h=Fm(f,r)||{};return Gs(s,a,y=>{let b=Kw(h,i,y);return y===b&&typeof y=="string"&&(b=Kw(h,i,`${t}${y==="default"?"":pt(y)}`,y)),n===!1?b:{[n]:b}})};return o.propTypes={},o.filterProps=[t],o}function oae(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const aae={m:"margin",p:"padding"},sae={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},K3={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},lae=oae(e=>{if(e.length>2)if(K3[e])e=K3[e];else return[e];const[t,n]=e.split(""),r=aae[t],i=sae[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),J$=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Q$=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...J$,...Q$];function Jb(e,t,n,r){var i;const o=(i=Fm(e,t,!1))!=null?i:n;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function R9(e){return Jb(e,"spacing",8)}function Qb(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function cae(e,t){return n=>e.reduce((r,i)=>(r[i]=Qb(t,n),r),{})}function uae(e,t,n,r){if(t.indexOf(n)===-1)return null;const i=lae(n),o=cae(i,r),s=e[n];return Gs(e,s,o)}function D9(e,t){const n=R9(e.theme);return Object.keys(e).map(r=>uae(e,t,r,n)).reduce(a0,{})}function vi(e){return D9(e,J$)}vi.propTypes={};vi.filterProps=J$;function bi(e){return D9(e,Q$)}bi.propTypes={};bi.filterProps=Q$;function dae(e=8){if(e.mui)return e;const t=R9({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=t(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function dC(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>t[o]?a0(i,t[o](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function $s(e){return typeof e!="number"?e:`${e}px solid`}function Qs(e,t){return Di({prop:e,themeKey:"borders",transform:t})}const fae=Qs("border",$s),hae=Qs("borderTop",$s),pae=Qs("borderRight",$s),mae=Qs("borderBottom",$s),gae=Qs("borderLeft",$s),yae=Qs("borderColor"),vae=Qs("borderTopColor"),bae=Qs("borderRightColor"),xae=Qs("borderBottomColor"),_ae=Qs("borderLeftColor"),wae=Qs("outline",$s),Sae=Qs("outlineColor"),fC=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Jb(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Qb(t,r)});return Gs(e,e.borderRadius,n)}return null};fC.propTypes={};fC.filterProps=["borderRadius"];dC(fae,hae,pae,mae,gae,yae,vae,bae,xae,_ae,fC,wae,Sae);const hC=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Jb(e.theme,"spacing",8),n=r=>({gap:Qb(t,r)});return Gs(e,e.gap,n)}return null};hC.propTypes={};hC.filterProps=["gap"];const pC=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Jb(e.theme,"spacing",8),n=r=>({columnGap:Qb(t,r)});return Gs(e,e.columnGap,n)}return null};pC.propTypes={};pC.filterProps=["columnGap"];const mC=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Jb(e.theme,"spacing",8),n=r=>({rowGap:Qb(t,r)});return Gs(e,e.rowGap,n)}return null};mC.propTypes={};mC.filterProps=["rowGap"];const Cae=Di({prop:"gridColumn"}),kae=Di({prop:"gridRow"}),Tae=Di({prop:"gridAutoFlow"}),Eae=Di({prop:"gridAutoColumns"}),Pae=Di({prop:"gridAutoRows"}),Oae=Di({prop:"gridTemplateColumns"}),Mae=Di({prop:"gridTemplateRows"}),Aae=Di({prop:"gridTemplateAreas"}),Iae=Di({prop:"gridArea"});dC(hC,pC,mC,Cae,kae,Tae,Eae,Pae,Oae,Mae,Aae,Iae);function bm(e,t){return t==="grey"?t:e}const $ae=Di({prop:"color",themeKey:"palette",transform:bm}),Rae=Di({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:bm}),Dae=Di({prop:"backgroundColor",themeKey:"palette",transform:bm});dC($ae,Rae,Dae);function Qa(e){return e<=1&&e!==0?`${e*100}%`:e}const jae=Di({prop:"width",transform:Qa}),eR=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,i;const o=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||X$[n];return o?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Qa(n)}};return Gs(e,e.maxWidth,t)}return null};eR.filterProps=["maxWidth"];const Lae=Di({prop:"minWidth",transform:Qa}),Nae=Di({prop:"height",transform:Qa}),zae=Di({prop:"maxHeight",transform:Qa}),Bae=Di({prop:"minHeight",transform:Qa});Di({prop:"size",cssProperty:"width",transform:Qa});Di({prop:"size",cssProperty:"height",transform:Qa});const Fae=Di({prop:"boxSizing"});dC(jae,eR,Lae,Nae,zae,Bae,Fae);const Uae={border:{themeKey:"borders",transform:$s},borderTop:{themeKey:"borders",transform:$s},borderRight:{themeKey:"borders",transform:$s},borderBottom:{themeKey:"borders",transform:$s},borderLeft:{themeKey:"borders",transform:$s},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:$s},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:fC},color:{themeKey:"palette",transform:bm},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:bm},backgroundColor:{themeKey:"palette",transform:bm},p:{style:bi},pt:{style:bi},pr:{style:bi},pb:{style:bi},pl:{style:bi},px:{style:bi},py:{style:bi},padding:{style:bi},paddingTop:{style:bi},paddingRight:{style:bi},paddingBottom:{style:bi},paddingLeft:{style:bi},paddingX:{style:bi},paddingY:{style:bi},paddingInline:{style:bi},paddingInlineStart:{style:bi},paddingInlineEnd:{style:bi},paddingBlock:{style:bi},paddingBlockStart:{style:bi},paddingBlockEnd:{style:bi},m:{style:vi},mt:{style:vi},mr:{style:vi},mb:{style:vi},ml:{style:vi},mx:{style:vi},my:{style:vi},margin:{style:vi},marginTop:{style:vi},marginRight:{style:vi},marginBottom:{style:vi},marginLeft:{style:vi},marginX:{style:vi},marginY:{style:vi},marginInline:{style:vi},marginInlineStart:{style:vi},marginInlineEnd:{style:vi},marginBlock:{style:vi},marginBlockStart:{style:vi},marginBlockEnd:{style:vi},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:hC},rowGap:{style:mC},columnGap:{style:pC},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Qa},maxWidth:{style:eR},minWidth:{transform:Qa},height:{transform:Qa},maxHeight:{transform:Qa},minHeight:{transform:Qa},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},gC=Uae;function Vae(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function Wae(e,t){return typeof e=="function"?e(t):e}function qae(){function e(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:f=n,themeKey:h,transform:g,style:y}=a;if(r==null)return null;if(h==="typography"&&r==="inherit")return{[n]:r};const b=Fm(i,h)||{};return y?y(s):Gs(s,r,T=>{let w=Kw(b,g,T);return T===w&&typeof T=="string"&&(w=Kw(b,g,`${n}${T==="default"?"":pt(T)}`,T)),f===!1?w:{[f]:w}})}function t(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:gC;function a(f){let h=f;if(typeof f=="function")h=f(o);else if(typeof f!="object")return f;if(!h)return null;const g=nae(o.breakpoints),y=Object.keys(g);let b=g;return Object.keys(h).forEach(E=>{const T=Wae(h[E],o);if(T!=null)if(typeof T=="object")if(s[E])b=a0(b,e(E,T,o,s));else{const w=Gs({theme:o},T,M=>({[E]:M}));Vae(w,T)?b[E]=t({sx:T,theme:o}):b=a0(b,w)}else b=a0(b,e(E,T,o,s))}),rae(y,b)}return Array.isArray(i)?i.map(a):a(i)}return t}const j9=qae();j9.filterProps=["sx"];const yC=j9,Hae=["breakpoints","palette","spacing","shape"];function vC(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=e,s=gt(e,Hae),a=Qoe(n),f=dae(i);let h=Uo({breakpoints:a,direction:"ltr",components:{},palette:ee({mode:"light"},r),spacing:f,shape:ee({},tae,o)},s);return h=t.reduce((g,y)=>Uo(g,y),h),h.unstable_sxConfig=ee({},gC,s==null?void 0:s.unstable_sxConfig),h.unstable_sx=function(y){return yC({sx:y,theme:this})},h}function Gae(e){return Object.keys(e).length===0}function tR(e=null){const t=U.useContext(cC);return!t||Gae(t)?e:t}const Yae=vC();function bC(e=Yae){return tR(e)}function Kae({styles:e,themeId:t,defaultTheme:n={}}){const r=bC(n),i=typeof e=="function"?e(t&&r[t]||r):e;return $.jsx(Koe,{styles:i})}const Zae=["sx"],Xae=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:gC;return Object.keys(e).forEach(o=>{i[o]?r.systemProps[o]=e[o]:r.otherProps[o]=e[o]}),r};function nR(e){const{sx:t}=e,n=gt(e,Zae),{systemProps:r,otherProps:i}=Xae(n);let o;return Array.isArray(t)?o=[r,...t]:typeof t=="function"?o=(...s)=>{const a=t(...s);return Hc(a)?ee({},r,a):r}:o=ee({},r,t),ee({},i,{sx:o})}function L9(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=L9(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function st(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=L9(e))&&(r&&(r+=" "),r+=t);return r}const Jae=["className","component"];function Qae(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,o=$9("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(yC);return U.forwardRef(function(f,h){const g=bC(n),y=nR(f),{className:b,component:E="div"}=y,T=gt(y,Jae);return $.jsx(o,ee({as:E,ref:h,className:st(b,i?i(r):r),theme:t&&g[t]||g},T))})}const ese=["variant"];function Z3(e){return e.length===0}function N9(e){const{variant:t}=e,n=gt(e,ese);let r=t||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=Z3(r)?e[i]:pt(e[i]):r+=`${Z3(r)?i:pt(i)}${pt(e[i].toString())}`}),r}const tse=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function nse(e){return Object.keys(e).length===0}function rse(e){return typeof e=="string"&&e.charCodeAt(0)>96}const ise=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,Zw=e=>{const t={};return e&&e.forEach(n=>{const r=N9(n.props);t[r]=n.style}),t},ose=(e,t)=>{let n=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants),Zw(n)},Xw=(e,t,n)=>{const{ownerState:r={}}=e,i=[];return n&&n.forEach(o=>{let s=!0;Object.keys(o.props).forEach(a=>{r[a]!==o.props[a]&&e[a]!==o.props[a]&&(s=!1)}),s&&i.push(t[N9(o.props)])}),i},ase=(e,t,n,r)=>{var i;const o=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return Xw(e,t,o)};function s0(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const sse=vC(),lse=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function nw({defaultTheme:e,theme:t,themeId:n}){return nse(t)?e:t[n]||t}function cse(e){return e?(t,n)=>n[e]:null}const X3=({styledArg:e,props:t,defaultTheme:n,themeId:r})=>{const i=e(ee({},t,{theme:nw(ee({},t,{defaultTheme:n,themeId:r}))}));let o;if(i&&i.variants&&(o=i.variants,delete i.variants),o){const s=Xw(t,Zw(o),o);return[i,...s]}return i};function z9(e={}){const{themeId:t,defaultTheme:n=sse,rootShouldForwardProp:r=s0,slotShouldForwardProp:i=s0}=e,o=s=>yC(ee({},s,{theme:nw(ee({},s,{defaultTheme:n,themeId:t}))}));return o.__mui_systemSx=!0,(s,a={})=>{Zoe(s,L=>L.filter(R=>!(R!=null&&R.__mui_systemSx)));const{name:f,slot:h,skipVariantsResolver:g,skipSx:y,overridesResolver:b=cse(lse(h))}=a,E=gt(a,tse),T=g!==void 0?g:h&&h!=="Root"&&h!=="root"||!1,w=y||!1;let M,A=s0;h==="Root"||h==="root"?A=r:h?A=i:rse(s)&&(A=void 0);const O=$9(s,ee({shouldForwardProp:A,label:M},E)),I=(L,...R)=>{const D=R?R.map(K=>{if(typeof K=="function"&&K.__emotion_real!==K)return ne=>X3({styledArg:K,props:ne,defaultTheme:n,themeId:t});if(Hc(K)){let ne=K,le;return K&&K.variants&&(le=K.variants,delete ne.variants,ne=ye=>{let de=K;return Xw(ye,Zw(le),le).forEach(pe=>{de=Uo(de,pe)}),de}),ne}return K}):[];let F=L;if(Hc(L)){let K;L&&L.variants&&(K=L.variants,delete F.variants,F=ne=>{let le=L;return Xw(ne,Zw(K),K).forEach(de=>{le=Uo(le,de)}),le})}else typeof L=="function"&&L.__emotion_real!==L&&(F=K=>X3({styledArg:L,props:K,defaultTheme:n,themeId:t}));f&&b&&D.push(K=>{const ne=nw(ee({},K,{defaultTheme:n,themeId:t})),le=ise(f,ne);if(le){const ye={};return Object.entries(le).forEach(([de,se])=>{ye[de]=typeof se=="function"?se(ee({},K,{theme:ne})):se}),b(K,ye)}return null}),f&&!T&&D.push(K=>{const ne=nw(ee({},K,{defaultTheme:n,themeId:t}));return ase(K,ose(f,ne),ne,f)}),w||D.push(o);const q=D.length-R.length;if(Array.isArray(L)&&q>0){const K=new Array(q).fill("");F=[...L,...K],F.raw=[...L.raw,...K]}const J=O(F,...D);return s.muiName&&(J.muiName=s.muiName),J};return O.withConfig&&(I.withConfig=O.withConfig),I}}const use=z9(),dse=use;function fse(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:W$(t.components[n].defaultProps,r)}function B9({props:e,name:t,defaultTheme:n,themeId:r}){let i=bC(n);return r&&(i=i[r]||i),fse({theme:i,name:t,props:e})}function rR(e,t=0,n=1){return Math.min(Math.max(t,e),n)}function hse(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function yh(e){if(e.type)return e;if(e.charAt(0)==="#")return yh(hse(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Vd(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Vd(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}function xC(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function pse(e){e=yh(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=(h,g=(h+n/30)%12)=>i-o*Math.max(Math.min(g-3,9-g,1),-1);let a="rgb";const f=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(a+="a",f.push(t[3])),xC({type:a,values:f})}function AM(e){e=yh(e);let t=e.type==="hsl"||e.type==="hsla"?yh(pse(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function mse(e,t){const n=AM(e),r=AM(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Ir(e,t){return e=yh(e),t=rR(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,xC(e)}function _C(e,t){if(e=yh(e),t=rR(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return xC(e)}function wC(e,t){if(e=yh(e),t=rR(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return xC(e)}function gse(e,t=.15){return AM(e)>.5?_C(e,t):wC(e,t)}const yse=U.createContext(null),F9=yse;function iR(){return U.useContext(F9)}const vse=typeof Symbol=="function"&&Symbol.for,U9=vse?Symbol.for("mui.nested"):"__THEME_NESTED__";function bse(e,t){return typeof t=="function"?t(e):ee({},e,t)}function xse(e){const{children:t,theme:n}=e,r=iR(),i=U.useMemo(()=>{const o=r===null?n:bse(r,n);return o!=null&&(o[U9]=r!==null),o},[n,r]);return $.jsx(F9.Provider,{value:i,children:t})}const J3={};function Q3(e,t,n,r=!1){return U.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const o=n(i),s=e?ee({},t,{[e]:o}):o;return r?()=>s:s}return e?ee({},t,{[e]:n}):ee({},t,n)},[e,t,n,r])}function _se(e){const{children:t,theme:n,themeId:r}=e,i=tR(J3),o=iR()||J3,s=Q3(r,i,n),a=Q3(r,o,n,!0);return $.jsx(xse,{theme:a,children:$.jsx(cC.Provider,{value:s,children:t})})}const wse=["className","component","disableGutters","fixed","maxWidth","classes"],Sse=vC(),Cse=dse("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${pt(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),kse=e=>B9({props:e,name:"MuiContainer",defaultTheme:Sse}),Tse=(e,t)=>{const n=f=>nn(t,f),{classes:r,fixed:i,disableGutters:o,maxWidth:s}=e,a={root:["root",s&&`maxWidth${pt(String(s))}`,i&&"fixed",o&&"disableGutters"]};return rn(a,n,r)};function Ese(e={}){const{createStyledComponent:t=Cse,useThemeProps:n=kse,componentName:r="MuiContainer"}=e,i=t(({theme:s,ownerState:a})=>ee({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((f,h)=>{const g=h,y=s.breakpoints.values[g];return y!==0&&(f[s.breakpoints.up(g)]={maxWidth:`${y}${s.breakpoints.unit}`}),f},{}),({theme:s,ownerState:a})=>ee({},a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}));return U.forwardRef(function(a,f){const h=n(a),{className:g,component:y="div",disableGutters:b=!1,fixed:E=!1,maxWidth:T="lg"}=h,w=gt(h,wse),M=ee({},h,{component:y,disableGutters:b,fixed:E,maxWidth:T}),A=Tse(M,r);return $.jsx(i,ee({as:y,ownerState:M,className:st(A.root,g),ref:f},w))})}function Pse(e,t){return ee({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const Ose=["mode","contrastThreshold","tonalOffset"],e5={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:mh.white,default:mh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},HE={text:{primary:mh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:mh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function t5(e,t,n,r){const i=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=wC(e.main,i):t==="dark"&&(e.dark=_C(e.main,o)))}function Mse(e="light"){return e==="dark"?{main:xp[200],light:xp[50],dark:xp[400]}:{main:xp[700],light:xp[400],dark:xp[800]}}function Ase(e="light"){return e==="dark"?{main:bp[200],light:bp[50],dark:bp[400]}:{main:bp[500],light:bp[300],dark:bp[700]}}function Ise(e="light"){return e==="dark"?{main:Wc[500],light:Wc[300],dark:Wc[700]}:{main:Wc[700],light:Wc[400],dark:Wc[800]}}function $se(e="light"){return e==="dark"?{main:_p[400],light:_p[300],dark:_p[700]}:{main:_p[700],light:_p[500],dark:_p[900]}}function Rse(e="light"){return e==="dark"?{main:Sl[400],light:Sl[300],dark:Sl[700]}:{main:Sl[800],light:Sl[500],dark:Sl[900]}}function Dse(e="light"){return e==="dark"?{main:cv[400],light:cv[300],dark:cv[700]}:{main:"#ed6c02",light:cv[500],dark:cv[900]}}function jse(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=gt(e,Ose),o=e.primary||Mse(t),s=e.secondary||Ase(t),a=e.error||Ise(t),f=e.info||$se(t),h=e.success||Rse(t),g=e.warning||Dse(t);function y(w){return mse(w,HE.text.primary)>=n?HE.text.primary:e5.text.primary}const b=({color:w,name:M,mainShade:A=500,lightShade:O=300,darkShade:I=700})=>{if(w=ee({},w),!w.main&&w[A]&&(w.main=w[A]),!w.hasOwnProperty("main"))throw new Error(Vd(11,M?` (${M})`:"",A));if(typeof w.main!="string")throw new Error(Vd(12,M?` (${M})`:"",JSON.stringify(w.main)));return t5(w,"light",O,r),t5(w,"dark",I,r),w.contrastText||(w.contrastText=y(w.main)),w},E={dark:HE,light:e5};return Uo(ee({common:ee({},mh),mode:t,primary:b({color:o,name:"primary"}),secondary:b({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:a,name:"error"}),warning:b({color:g,name:"warning"}),info:b({color:f,name:"info"}),success:b({color:h,name:"success"}),grey:ac,contrastThreshold:n,getContrastText:y,augmentColor:b,tonalOffset:r},E[t]),i)}const Lse=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Nse(e){return Math.round(e*1e5)/1e5}const n5={textTransform:"uppercase"},r5='"Roboto", "Helvetica", "Arial", sans-serif';function zse(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=r5,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:f=700,htmlFontSize:h=16,allVariants:g,pxToRem:y}=n,b=gt(n,Lse),E=i/14,T=y||(A=>`${A/h*E}rem`),w=(A,O,I,L,R)=>ee({fontFamily:r,fontWeight:A,fontSize:T(O),lineHeight:I},r===r5?{letterSpacing:`${Nse(L/O)}em`}:{},R,g),M={h1:w(o,96,1.167,-1.5),h2:w(o,60,1.2,-.5),h3:w(s,48,1.167,0),h4:w(s,34,1.235,.25),h5:w(s,24,1.334,0),h6:w(a,20,1.6,.15),subtitle1:w(s,16,1.75,.15),subtitle2:w(a,14,1.57,.1),body1:w(s,16,1.5,.15),body2:w(s,14,1.43,.15),button:w(a,14,1.75,.4,n5),caption:w(s,12,1.66,.4),overline:w(s,12,2.66,1,n5),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Uo(ee({htmlFontSize:h,pxToRem:T,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:f},M),b,{clone:!1})}const Bse=.2,Fse=.14,Use=.12;function ti(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Bse})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Fse})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Use})`].join(",")}const Vse=["none",ti(0,2,1,-1,0,1,1,0,0,1,3,0),ti(0,3,1,-2,0,2,2,0,0,1,5,0),ti(0,3,3,-2,0,3,4,0,0,1,8,0),ti(0,2,4,-1,0,4,5,0,0,1,10,0),ti(0,3,5,-1,0,5,8,0,0,1,14,0),ti(0,3,5,-1,0,6,10,0,0,1,18,0),ti(0,4,5,-2,0,7,10,1,0,2,16,1),ti(0,5,5,-3,0,8,10,1,0,3,14,2),ti(0,5,6,-3,0,9,12,1,0,3,16,2),ti(0,6,6,-3,0,10,14,1,0,4,18,3),ti(0,6,7,-4,0,11,15,1,0,4,20,3),ti(0,7,8,-4,0,12,17,2,0,5,22,4),ti(0,7,8,-4,0,13,19,2,0,5,24,4),ti(0,7,9,-4,0,14,21,2,0,5,26,4),ti(0,8,9,-5,0,15,22,2,0,6,28,5),ti(0,8,10,-5,0,16,24,2,0,6,30,5),ti(0,8,11,-5,0,17,26,2,0,6,32,5),ti(0,9,11,-5,0,18,28,2,0,7,34,6),ti(0,9,12,-6,0,19,29,2,0,7,36,6),ti(0,10,13,-6,0,20,31,3,0,8,38,7),ti(0,10,13,-6,0,21,33,3,0,8,40,7),ti(0,10,14,-6,0,22,35,3,0,8,42,7),ti(0,11,14,-7,0,23,36,3,0,9,44,8),ti(0,11,15,-7,0,24,38,3,0,9,46,8)],Wse=Vse,qse=["duration","easing","delay"],Hse={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},V9={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function i5(e){return`${Math.round(e)}ms`}function Gse(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function Yse(e){const t=ee({},Hse,e.easing),n=ee({},V9,e.duration);return ee({getAutoHeightDuration:Gse,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=t.easeInOut,delay:f=0}=o;return gt(o,qse),(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof s=="string"?s:i5(s)} ${a} ${typeof f=="string"?f:i5(f)}`).join(",")}},e,{easing:t,duration:n})}const Kse={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Zse=Kse,Xse=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function oR(e={},...t){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=e,s=gt(e,Xse);if(e.vars)throw new Error(Vd(18));const a=jse(r),f=vC(e);let h=Uo(f,{mixins:Pse(f.breakpoints,n),palette:a,shadows:Wse.slice(),typography:zse(a,o),transitions:Yse(i),zIndex:ee({},Zse)});return h=Uo(h,s),h=t.reduce((g,y)=>Uo(g,y),h),h.unstable_sxConfig=ee({},gC,s==null?void 0:s.unstable_sxConfig),h.unstable_sx=function(y){return yC({sx:y,theme:this})},h}const Jse=oR(),SC=Jse;function jl(){const e=bC(SC);return e[gh]||e}function on({props:e,name:t}){return B9({props:e,name:t,defaultTheme:SC,themeId:gh})}const Fa=e=>s0(e)&&e!=="classes",Qse=s0,ele=z9({themeId:gh,defaultTheme:SC,rootShouldForwardProp:Fa}),ht=ele,tle=["theme"];function nle(e){let{theme:t}=e,n=gt(e,tle);const r=t[gh];return $.jsx(_se,ee({},n,{themeId:r?gh:void 0,theme:r||t}))}const rle=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)},o5=rle;function ile(e){return nn("MuiSvgIcon",e)}Qt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const ole=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],ale=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${pt(t)}`,`fontSize${pt(n)}`]};return rn(i,ile,r)},sle=ht("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${pt(n.color)}`],t[`fontSize${pt(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,i,o,s,a,f,h,g,y,b,E,T;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=e.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((a=e.typography)==null||(f=a.pxToRem)==null?void 0:f.call(a,24))||"1.5rem",large:((h=e.typography)==null||(g=h.pxToRem)==null?void 0:g.call(h,35))||"2.1875rem"}[t.fontSize],color:(y=(b=(e.vars||e).palette)==null||(b=b[t.color])==null?void 0:b.main)!=null?y:{action:(E=(e.vars||e).palette)==null||(E=E.action)==null?void 0:E.active,disabled:(T=(e.vars||e).palette)==null||(T=T.action)==null?void 0:T.disabled,inherit:void 0}[t.color]}}),W9=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:f="medium",htmlColor:h,inheritViewBox:g=!1,titleAccess:y,viewBox:b="0 0 24 24"}=r,E=gt(r,ole),T=U.isValidElement(i)&&i.type==="svg",w=ee({},r,{color:s,component:a,fontSize:f,instanceFontSize:t.fontSize,inheritViewBox:g,viewBox:b,hasSvgAsChild:T}),M={};g||(M.viewBox=b);const A=ale(w);return $.jsxs(sle,ee({as:a,className:st(A.root,o),focusable:"false",color:h,"aria-hidden":y?void 0:!0,role:y?"img":void 0,ref:n},M,E,T&&i.props,{ownerState:w,children:[T?i.props.children:i,y?$.jsx("title",{children:y}):null]}))});W9.muiName="SvgIcon";const a5=W9;function ex(e,t){function n(r,i){return $.jsx(a5,ee({"data-testid":`${t}Icon`,ref:i},r,{children:e}))}return n.muiName=a5.muiName,U.memo(U.forwardRef(n))}const lle={configure:e=>{q$.configure(e)}},cle=Object.freeze(Object.defineProperty({__proto__:null,capitalize:pt,createChainedFunction:kM,createSvgIcon:ex,debounce:Zb,deprecatedPropType:Lie,isMuiElement:J1,ownerDocument:zi,ownerWindow:fc,requirePropFactory:Nie,setRef:Gw,unstable_ClassNameGenerator:lle,unstable_useEnhancedEffect:ls,unstable_useId:rC,unsupportedProp:Fie,useControlled:zm,useEventCallback:Aa,useForkRef:mi,useIsFocusVisible:oC},Symbol.toStringTag,{value:"Module"}));function IM(e,t){return IM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IM(e,t)}function tx(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,IM(e,t)}const s5={disabled:!1},Jw=Pe.createContext(null);var ule=function(t){return t.scrollTop},Wv="unmounted",Rf="exited",Df="entering",jp="entered",$M="exiting",Su=function(e){tx(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,f;return o.appearStatus=null,r.in?a?(f=Rf,o.appearStatus=Df):f=jp:r.unmountOnExit||r.mountOnEnter?f=Wv:f=Rf,o.state={status:f},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Wv?{status:Rf}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Df&&s!==jp&&(o=Df):(s===Df||s===jp)&&(o=$M)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Df){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:n1.findDOMNode(this);s&&ule(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Rf&&this.setState({status:Wv})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,f=this.props.nodeRef?[a]:[n1.findDOMNode(this),a],h=f[0],g=f[1],y=this.getTimeouts(),b=a?y.appear:y.enter;if(!i&&!s||s5.disabled){this.safeSetState({status:jp},function(){o.props.onEntered(h)});return}this.props.onEnter(h,g),this.safeSetState({status:Df},function(){o.props.onEntering(h,g),o.onTransitionEnd(b,function(){o.safeSetState({status:jp},function(){o.props.onEntered(h,g)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:n1.findDOMNode(this);if(!o||s5.disabled){this.safeSetState({status:Rf},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:$M},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Rf},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:n1.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],h=f[0],g=f[1];this.props.addEndListener(h,g)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Wv)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=gt(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Pe.createElement(Jw.Provider,{value:null},typeof s=="function"?s(i,a):Pe.cloneElement(Pe.Children.only(s),a))},t}(Pe.Component);Su.contextType=Jw;Su.propTypes={};function Sp(){}Su.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Sp,onEntering:Sp,onEntered:Sp,onExit:Sp,onExiting:Sp,onExited:Sp};Su.UNMOUNTED=Wv;Su.EXITED=Rf;Su.ENTERING=Df;Su.ENTERED=jp;Su.EXITING=$M;const aR=Su;function Z0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sR(e,t){var n=function(o){return t&&U.isValidElement(o)?t(o):o},r=Object.create(null);return e&&U.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function dle(e,t){e=e||{},t=t||{};function n(g){return g in t?t[g]:e[g]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var f in t){if(r[f])for(s=0;s<r[f].length;s++){var h=r[f][s];a[r[f][s]]=n(h)}a[f]=n(f)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function qf(e,t,n){return n[t]!=null?n[t]:e.props[t]}function fle(e,t){return sR(e.children,function(n){return U.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:qf(n,"appear",e),enter:qf(n,"enter",e),exit:qf(n,"exit",e)})})}function hle(e,t,n){var r=sR(e.children),i=dle(t,r);return Object.keys(i).forEach(function(o){var s=i[o];if(U.isValidElement(s)){var a=o in t,f=o in r,h=t[o],g=U.isValidElement(h)&&!h.props.in;f&&(!a||g)?i[o]=U.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:qf(s,"exit",e),enter:qf(s,"enter",e)}):!f&&a&&!g?i[o]=U.cloneElement(s,{in:!1}):f&&a&&U.isValidElement(h)&&(i[o]=U.cloneElement(s,{onExited:n.bind(null,s),in:h.props.in,exit:qf(s,"exit",e),enter:qf(s,"enter",e)}))}}),i}var ple=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},mle={component:"div",childFactory:function(t){return t}},lR=function(e){tx(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=o.handleExited.bind(Z0(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,f=o.firstRender;return{children:f?fle(i,a):hle(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=sR(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var f=ee({},a.children);return delete f[i.key],{children:f}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=gt(i,["component","childFactory"]),f=this.state.contextValue,h=ple(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?Pe.createElement(Jw.Provider,{value:f},h):Pe.createElement(Jw.Provider,{value:f},Pe.createElement(o,a,h))},t}(Pe.Component);lR.propTypes={};lR.defaultProps=mle;const gle=lR,q9=e=>e.scrollTop;function Um(e,t){var n,r;const{timeout:i,easing:o,style:s={}}=e;return{duration:(n=s.transitionDuration)!=null?n:typeof i=="number"?i:i[t.mode]||0,easing:(r=s.transitionTimingFunction)!=null?r:typeof o=="object"?o[t.mode]:o,delay:s.transitionDelay}}function yle(e){return nn("MuiCollapse",e)}Qt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const vle=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],ble=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return rn(r,yle,n)},xle=ht("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>ee({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&ee({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),_le=ht("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>ee({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),wle=ht("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>ee({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),H9=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiCollapse"}),{addEndListener:i,children:o,className:s,collapsedSize:a="0px",component:f,easing:h,in:g,onEnter:y,onEntered:b,onEntering:E,onExit:T,onExited:w,onExiting:M,orientation:A="vertical",style:O,timeout:I=V9.standard,TransitionComponent:L=aR}=r,R=gt(r,vle),D=ee({},r,{orientation:A,collapsedSize:a}),F=ble(D),q=jl(),J=U.useRef(),K=U.useRef(null),ne=U.useRef(),le=typeof a=="number"?`${a}px`:a,ye=A==="horizontal",de=ye?"width":"height";U.useEffect(()=>()=>{clearTimeout(J.current)},[]);const se=U.useRef(null),pe=mi(n,se),be=Je=>kt=>{if(Je){const bt=se.current;kt===void 0?Je(bt):Je(bt,kt)}},ce=()=>K.current?K.current[ye?"clientWidth":"clientHeight"]:0,Ee=be((Je,kt)=>{K.current&&ye&&(K.current.style.position="absolute"),Je.style[de]=le,y&&y(Je,kt)}),Re=be((Je,kt)=>{const bt=ce();K.current&&ye&&(K.current.style.position="");const{duration:Ye,easing:lt}=Um({style:O,timeout:I,easing:h},{mode:"enter"});if(I==="auto"){const ct=q.transitions.getAutoHeightDuration(bt);Je.style.transitionDuration=`${ct}ms`,ne.current=ct}else Je.style.transitionDuration=typeof Ye=="string"?Ye:`${Ye}ms`;Je.style[de]=`${bt}px`,Je.style.transitionTimingFunction=lt,E&&E(Je,kt)}),Xe=be((Je,kt)=>{Je.style[de]="auto",b&&b(Je,kt)}),Ae=be(Je=>{Je.style[de]=`${ce()}px`,T&&T(Je)}),Fe=be(w),qe=be(Je=>{const kt=ce(),{duration:bt,easing:Ye}=Um({style:O,timeout:I,easing:h},{mode:"exit"});if(I==="auto"){const lt=q.transitions.getAutoHeightDuration(kt);Je.style.transitionDuration=`${lt}ms`,ne.current=lt}else Je.style.transitionDuration=typeof bt=="string"?bt:`${bt}ms`;Je.style[de]=le,Je.style.transitionTimingFunction=Ye,M&&M(Je)}),rt=Je=>{I==="auto"&&(J.current=setTimeout(Je,ne.current||0)),i&&i(se.current,Je)};return $.jsx(L,ee({in:g,onEnter:Ee,onEntered:Xe,onEntering:Re,onExit:Ae,onExited:Fe,onExiting:qe,addEndListener:rt,nodeRef:se,timeout:I==="auto"?null:I},R,{children:(Je,kt)=>$.jsx(xle,ee({as:f,className:st(F.root,s,{entered:F.entered,exited:!g&&le==="0px"&&F.hidden}[Je]),style:ee({[ye?"minWidth":"minHeight"]:le},O),ownerState:ee({},D,{state:Je}),ref:pe},kt,{children:$.jsx(_le,{ownerState:ee({},D,{state:Je}),className:F.wrapper,ref:K,children:$.jsx(wle,{ownerState:ee({},D,{state:Je}),className:F.wrapperInner,children:o})})}))}))});H9.muiSupportAuto=!0;const Sle=H9;function Cle(e){return nn("MuiPaper",e)}Qt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const kle=["className","component","elevation","square","variant"],Tle=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return rn(o,Cle,i)},Ele=ht("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return ee({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&ee({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Ir("#fff",o5(t.elevation))}, ${Ir("#fff",o5(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),Ple=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:f="elevation"}=r,h=gt(r,kle),g=ee({},r,{component:o,elevation:s,square:a,variant:f}),y=Tle(g);return $.jsx(Ele,ee({as:o,ownerState:g,className:st(y.root,i),ref:n},h))}),Vo=Ple,Ole=U.createContext({}),G9=Ole;function Mle(e){return nn("MuiAccordion",e)}const Ale=Qt("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),o1=Ale,Ile=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],$le=e=>{const{classes:t,square:n,expanded:r,disabled:i,disableGutters:o}=e;return rn({root:["root",!n&&"rounded",r&&"expanded",i&&"disabled",!o&&"gutters"],region:["region"]},Mle,t)},Rle=ht(Vo,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${o1.region}`]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&:before":{display:"none"}},[`&.${o1.expanded}`]:{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}},[`&.${o1.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}},({theme:e,ownerState:t})=>ee({},!t.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!t.disableGutters&&{[`&.${o1.expanded}`]:{margin:"16px 0"}})),Dle=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiAccordion"}),{children:i,className:o,defaultExpanded:s=!1,disabled:a=!1,disableGutters:f=!1,expanded:h,onChange:g,square:y=!1,TransitionComponent:b=Sle,TransitionProps:E}=r,T=gt(r,Ile),[w,M]=zm({controlled:h,default:s,name:"Accordion",state:"expanded"}),A=U.useCallback(F=>{M(!w),g&&g(F,!w)},[w,g,M]),[O,...I]=U.Children.toArray(i),L=U.useMemo(()=>({expanded:w,disabled:a,disableGutters:f,toggle:A}),[w,a,f,A]),R=ee({},r,{square:y,disabled:a,disableGutters:f,expanded:w}),D=$le(R);return $.jsxs(Rle,ee({className:st(D.root,o),ref:n,ownerState:R,square:y},T,{children:[$.jsx(G9.Provider,{value:L,children:O}),$.jsx(b,ee({in:w,timeout:"auto"},E,{children:$.jsx("div",{"aria-labelledby":O.props.id,id:O.props["aria-controls"],role:"region",className:D.region,children:I})}))]}))}),ua=Dle;function jle(e){return nn("MuiAccordionDetails",e)}Qt("MuiAccordionDetails",["root"]);const Lle=["className"],Nle=e=>{const{classes:t}=e;return rn({root:["root"]},jle,t)},zle=ht("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({padding:e.spacing(1,2,2)})),Ble=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiAccordionDetails"}),{className:i}=r,o=gt(r,Lle),s=r,a=Nle(s);return $.jsx(zle,ee({className:st(a.root,i),ref:n,ownerState:s},o))}),da=Ble;function Fle(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:f,timeout:h}=e,[g,y]=U.useState(!1),b=st(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),E={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},T=st(n.child,g&&n.childLeaving,r&&n.childPulsate);return!a&&!g&&y(!0),U.useEffect(()=>{if(!a&&f!=null){const w=setTimeout(f,h);return()=>{clearTimeout(w)}}},[f,a,h]),$.jsx("span",{className:b,style:E,children:$.jsx("span",{className:T})})}const Ule=Qt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Ms=Ule,Vle=["center","classes","className"];let CC=e=>e,l5,c5,u5,d5;const RM=550,Wle=80,qle=Z$(l5||(l5=CC`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Hle=Z$(c5||(c5=CC`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Gle=Z$(u5||(u5=CC`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Yle=ht("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Kle=ht(Fle,{name:"MuiTouchRipple",slot:"Ripple"})(d5||(d5=CC`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Ms.rippleVisible,qle,RM,({theme:e})=>e.transitions.easing.easeInOut,Ms.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,Ms.child,Ms.childLeaving,Hle,RM,({theme:e})=>e.transitions.easing.easeInOut,Ms.childPulsate,Gle,({theme:e})=>e.transitions.easing.easeInOut),Zle=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=gt(r,Vle),[f,h]=U.useState([]),g=U.useRef(0),y=U.useRef(null);U.useEffect(()=>{y.current&&(y.current(),y.current=null)},[f]);const b=U.useRef(!1),E=U.useRef(0),T=U.useRef(null),w=U.useRef(null);U.useEffect(()=>()=>{E.current&&clearTimeout(E.current)},[]);const M=U.useCallback(L=>{const{pulsate:R,rippleX:D,rippleY:F,rippleSize:q,cb:J}=L;h(K=>[...K,$.jsx(Kle,{classes:{ripple:st(o.ripple,Ms.ripple),rippleVisible:st(o.rippleVisible,Ms.rippleVisible),ripplePulsate:st(o.ripplePulsate,Ms.ripplePulsate),child:st(o.child,Ms.child),childLeaving:st(o.childLeaving,Ms.childLeaving),childPulsate:st(o.childPulsate,Ms.childPulsate)},timeout:RM,pulsate:R,rippleX:D,rippleY:F,rippleSize:q},g.current)]),g.current+=1,y.current=J},[o]),A=U.useCallback((L={},R={},D=()=>{})=>{const{pulsate:F=!1,center:q=i||R.pulsate,fakeElement:J=!1}=R;if((L==null?void 0:L.type)==="mousedown"&&b.current){b.current=!1;return}(L==null?void 0:L.type)==="touchstart"&&(b.current=!0);const K=J?null:w.current,ne=K?K.getBoundingClientRect():{width:0,height:0,left:0,top:0};let le,ye,de;if(q||L===void 0||L.clientX===0&&L.clientY===0||!L.clientX&&!L.touches)le=Math.round(ne.width/2),ye=Math.round(ne.height/2);else{const{clientX:se,clientY:pe}=L.touches&&L.touches.length>0?L.touches[0]:L;le=Math.round(se-ne.left),ye=Math.round(pe-ne.top)}if(q)de=Math.sqrt((2*ne.width**2+ne.height**2)/3),de%2===0&&(de+=1);else{const se=Math.max(Math.abs((K?K.clientWidth:0)-le),le)*2+2,pe=Math.max(Math.abs((K?K.clientHeight:0)-ye),ye)*2+2;de=Math.sqrt(se**2+pe**2)}L!=null&&L.touches?T.current===null&&(T.current=()=>{M({pulsate:F,rippleX:le,rippleY:ye,rippleSize:de,cb:D})},E.current=setTimeout(()=>{T.current&&(T.current(),T.current=null)},Wle)):M({pulsate:F,rippleX:le,rippleY:ye,rippleSize:de,cb:D})},[i,M]),O=U.useCallback(()=>{A({},{pulsate:!0})},[A]),I=U.useCallback((L,R)=>{if(clearTimeout(E.current),(L==null?void 0:L.type)==="touchend"&&T.current){T.current(),T.current=null,E.current=setTimeout(()=>{I(L,R)});return}T.current=null,h(D=>D.length>0?D.slice(1):D),y.current=R},[]);return U.useImperativeHandle(n,()=>({pulsate:O,start:A,stop:I}),[O,A,I]),$.jsx(Yle,ee({className:st(Ms.root,o.root,s),ref:w},a,{children:$.jsx(gle,{component:null,exit:!0,children:f})}))}),Xle=Zle;function Jle(e){return nn("MuiButtonBase",e)}const Qle=Qt("MuiButtonBase",["root","disabled","focusVisible"]),ece=Qle,tce=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],nce=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,s=rn({root:["root",t&&"disabled",n&&"focusVisible"]},Jle,i);return n&&r&&(s.root+=` ${r}`),s},rce=ht("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${ece.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ice=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:f="button",disabled:h=!1,disableRipple:g=!1,disableTouchRipple:y=!1,focusRipple:b=!1,LinkComponent:E="a",onBlur:T,onClick:w,onContextMenu:M,onDragLeave:A,onFocus:O,onFocusVisible:I,onKeyDown:L,onKeyUp:R,onMouseDown:D,onMouseLeave:F,onMouseUp:q,onTouchEnd:J,onTouchMove:K,onTouchStart:ne,tabIndex:le=0,TouchRippleProps:ye,touchRippleRef:de,type:se}=r,pe=gt(r,tce),be=U.useRef(null),ce=U.useRef(null),Ee=mi(ce,de),{isFocusVisibleRef:Re,onFocus:Xe,onBlur:Ae,ref:Fe}=oC(),[qe,rt]=U.useState(!1);h&&qe&&rt(!1),U.useImperativeHandle(i,()=>({focusVisible:()=>{rt(!0),be.current.focus()}}),[]);const[Je,kt]=U.useState(!1);U.useEffect(()=>{kt(!0)},[]);const bt=Je&&!g&&!h;U.useEffect(()=>{qe&&b&&!g&&Je&&ce.current.pulsate()},[g,b,qe,Je]);function Ye(Zt,er,Xr=y){return Aa(dt=>(er&&er(dt),!Xr&&ce.current&&ce.current[Zt](dt),!0))}const lt=Ye("start",D),ct=Ye("stop",M),He=Ye("stop",A),Tt=Ye("stop",q),Mt=Ye("stop",Zt=>{qe&&Zt.preventDefault(),F&&F(Zt)}),qt=Ye("start",ne),bn=Ye("stop",J),yn=Ye("stop",K),vn=Ye("stop",Zt=>{Ae(Zt),Re.current===!1&&rt(!1),T&&T(Zt)},!1),Kn=Aa(Zt=>{be.current||(be.current=Zt.currentTarget),Xe(Zt),Re.current===!0&&(rt(!0),I&&I(Zt)),O&&O(Zt)}),Be=()=>{const Zt=be.current;return f&&f!=="button"&&!(Zt.tagName==="A"&&Zt.href)},ln=U.useRef(!1),wn=Aa(Zt=>{b&&!ln.current&&qe&&ce.current&&Zt.key===" "&&(ln.current=!0,ce.current.stop(Zt,()=>{ce.current.start(Zt)})),Zt.target===Zt.currentTarget&&Be()&&Zt.key===" "&&Zt.preventDefault(),L&&L(Zt),Zt.target===Zt.currentTarget&&Be()&&Zt.key==="Enter"&&!h&&(Zt.preventDefault(),w&&w(Zt))}),an=Aa(Zt=>{b&&Zt.key===" "&&ce.current&&qe&&!Zt.defaultPrevented&&(ln.current=!1,ce.current.stop(Zt,()=>{ce.current.pulsate(Zt)})),R&&R(Zt),w&&Zt.target===Zt.currentTarget&&Be()&&Zt.key===" "&&!Zt.defaultPrevented&&w(Zt)});let Rt=f;Rt==="button"&&(pe.href||pe.to)&&(Rt=E);const Un={};Rt==="button"?(Un.type=se===void 0?"button":se,Un.disabled=h):(!pe.href&&!pe.to&&(Un.role="button"),h&&(Un["aria-disabled"]=h));const Qn=mi(n,Fe,be),yr=ee({},r,{centerRipple:o,component:f,disabled:h,disableRipple:g,disableTouchRipple:y,focusRipple:b,tabIndex:le,focusVisible:qe}),Mn=nce(yr);return $.jsxs(rce,ee({as:Rt,className:st(Mn.root,a),ownerState:yr,onBlur:vn,onClick:w,onContextMenu:ct,onFocus:Kn,onKeyDown:wn,onKeyUp:an,onMouseDown:lt,onMouseLeave:Mt,onMouseUp:Tt,onDragLeave:He,onTouchEnd:bn,onTouchMove:yn,onTouchStart:qt,ref:Qn,tabIndex:h?-1:le,type:se},Un,pe,{children:[s,bt?$.jsx(Xle,ee({ref:Ee,center:o},ye)):null]}))}),Cu=ice;function oce(e){return nn("MuiAccordionSummary",e)}const ace=Qt("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Jp=ace,sce=["children","className","expandIcon","focusVisibleClassName","onClick"],lce=e=>{const{classes:t,expanded:n,disabled:r,disableGutters:i}=e;return rn({root:["root",n&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},oce,t)},cce=ht(Cu,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>{const n={duration:e.transitions.duration.shortest};return ee({display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],n),[`&.${Jp.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Jp.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${Jp.disabled})`]:{cursor:"pointer"}},!t.disableGutters&&{[`&.${Jp.expanded}`]:{minHeight:64}})}),uce=ht("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(({theme:e,ownerState:t})=>ee({display:"flex",flexGrow:1,margin:"12px 0"},!t.disableGutters&&{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${Jp.expanded}`]:{margin:"20px 0"}})),dce=ht("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${Jp.expanded}`]:{transform:"rotate(180deg)"}})),fce=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiAccordionSummary"}),{children:i,className:o,expandIcon:s,focusVisibleClassName:a,onClick:f}=r,h=gt(r,sce),{disabled:g=!1,disableGutters:y,expanded:b,toggle:E}=U.useContext(G9),T=A=>{E&&E(A),f&&f(A)},w=ee({},r,{expanded:b,disabled:g,disableGutters:y}),M=lce(w);return $.jsxs(cce,ee({focusRipple:!1,disableRipple:!0,disabled:g,component:"div","aria-expanded":b,className:st(M.root,o),focusVisibleClassName:st(M.focusVisible,a),onClick:T,ref:n,ownerState:w},h,{children:[$.jsx(uce,{className:M.content,ownerState:w,children:i}),s&&$.jsx(dce,{className:M.expandIconWrapper,ownerState:w,children:s})]}))}),fa=fce;function hce(e){return nn("MuiIconButton",e)}const pce=Qt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),mce=pce,gce=["edge","children","className","color","disabled","disableFocusRipple","size"],yce=e=>{const{classes:t,disabled:n,color:r,edge:i,size:o}=e,s={root:["root",n&&"disabled",r!=="default"&&`color${pt(r)}`,i&&`edge${pt(i)}`,`size${pt(o)}`]};return rn(s,hce,t)},vce=ht(Cu,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${pt(n.color)}`],n.edge&&t[`edge${pt(n.edge)}`],t[`size${pt(n.size)}`]]}})(({theme:e,ownerState:t})=>ee({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ir(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return ee({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&ee({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":ee({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ir(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${mce.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),bce=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:f=!1,disableFocusRipple:h=!1,size:g="medium"}=r,y=gt(r,gce),b=ee({},r,{edge:i,color:a,disabled:f,disableFocusRipple:h,size:g}),E=yce(b);return $.jsx(vce,ee({className:st(E.root,s),centerRipple:!0,focusRipple:!h,disabled:f,ref:n,ownerState:b},y,{children:o}))}),En=bce;function xce(e){return nn("MuiTypography",e)}Qt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const _ce=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],wce=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e,a={root:["root",o,e.align!=="inherit"&&`align${pt(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return rn(a,xce,s)},Sce=ht("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${pt(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>ee({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),f5={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Cce={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},kce=e=>Cce[e]||e,Tce=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiTypography"}),i=kce(r.color),o=nR(ee({},r,{color:i})),{align:s="inherit",className:a,component:f,gutterBottom:h=!1,noWrap:g=!1,paragraph:y=!1,variant:b="body1",variantMapping:E=f5}=o,T=gt(o,_ce),w=ee({},o,{align:s,color:i,className:a,component:f,gutterBottom:h,noWrap:g,paragraph:y,variant:b,variantMapping:E}),M=f||(y?"p":E[b]||f5[b])||"span",A=wce(w);return $.jsx(Sce,ee({as:M,ref:n,ownerState:w,className:st(A.root,a)},T))}),tn=Tce;function Ece(e){return nn("MuiAppBar",e)}Qt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Pce=["className","color","enableColorOnDark","position"],Oce=e=>{const{color:t,position:n,classes:r}=e,i={root:["root",`color${pt(t)}`,`position${pt(n)}`]};return rn(i,Ece,r)},a1=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,Mce=ht(Vo,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${pt(n.position)}`],t[`color${pt(n.color)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[900];return ee({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},t.position==="fixed"&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},t.position==="absolute"&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="sticky"&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="static"&&{position:"static"},t.position==="relative"&&{position:"relative"},!e.vars&&ee({},t.color==="default"&&{backgroundColor:n,color:e.palette.getContrastText(n)},t.color&&t.color!=="default"&&t.color!=="inherit"&&t.color!=="transparent"&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},t.color==="inherit"&&{color:"inherit"},e.palette.mode==="dark"&&!t.enableColorOnDark&&{backgroundColor:null,color:null},t.color==="transparent"&&ee({backgroundColor:"transparent",color:"inherit"},e.palette.mode==="dark"&&{backgroundImage:"none"})),e.vars&&ee({},t.color==="default"&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:a1(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:a1(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:a1(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:a1(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:t.color==="inherit"?"inherit":"var(--AppBar-color)"},t.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),Ace=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:s=!1,position:a="fixed"}=r,f=gt(r,Pce),h=ee({},r,{color:o,position:a,enableColorOnDark:s}),g=Oce(h);return $.jsx(Mce,ee({square:!0,component:"header",ownerState:h,elevation:4,className:st(g.root,i,a==="fixed"&&"mui-fixed"),ref:n},f))}),cR=Ace;function Qw(e){return typeof e=="string"}function qv(e,t,n){return e===void 0||Qw(e)?t:ee({},t,{ownerState:ee({},t.ownerState,n)})}const Ice={disableDefaultClasses:!1},$ce=U.createContext(Ice);function Rce(e){const{disableDefaultClasses:t}=U.useContext($ce);return n=>t?"":e(n)}function eS(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function Dce(e,t,n){return typeof e=="function"?e(t,n):e}function h5(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function jce(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const E=st(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),T=ee({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),w=ee({},n,i,r);return E.length>0&&(w.className=E),Object.keys(T).length>0&&(w.style=T),{props:w,internalRef:void 0}}const s=eS(ee({},i,r)),a=h5(r),f=h5(i),h=t(s),g=st(h==null?void 0:h.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),y=ee({},h==null?void 0:h.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),b=ee({},h,n,f,a);return g.length>0&&(b.className=g),Object.keys(y).length>0&&(b.style=y),{props:b,internalRef:h.ref}}const Lce=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function za(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,s=gt(e,Lce),a=o?{}:Dce(r,i),{props:f,internalRef:h}=jce(ee({},s,{externalSlotProps:a})),g=mi(h,a==null?void 0:a.ref,(t=e.additionalProps)==null?void 0:t.ref);return qv(n,ee({},f,{ref:g}),i)}function Nce(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:i=!1}=e,o=y9({badgeContent:t,max:r});let s=n;n===!1&&t===0&&!i&&(s=!0);const{badgeContent:a,max:f=r}=s?o:e,h=a&&Number(a)>f?`${f}+`:a;return{badgeContent:a,invisible:s,max:f,displayValue:h}}function p5(e){return e.substring(2).toLowerCase()}function zce(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function Bce(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:o="onTouchEnd"}=e,s=U.useRef(!1),a=U.useRef(null),f=U.useRef(!1),h=U.useRef(!1);U.useEffect(()=>(setTimeout(()=>{f.current=!0},0),()=>{f.current=!1}),[]);const g=mi(t.ref,a),y=Aa(T=>{const w=h.current;h.current=!1;const M=zi(a.current);if(!f.current||!a.current||"clientX"in T&&zce(T,M))return;if(s.current){s.current=!1;return}let A;T.composedPath?A=T.composedPath().indexOf(a.current)>-1:A=!M.documentElement.contains(T.target)||a.current.contains(T.target),!A&&(n||!w)&&i(T)}),b=T=>w=>{h.current=!0;const M=t.props[T];M&&M(w)},E={ref:g};return o!==!1&&(E[o]=b(o)),U.useEffect(()=>{if(o!==!1){const T=p5(o),w=zi(a.current),M=()=>{s.current=!0};return w.addEventListener(T,y),w.addEventListener("touchmove",M),()=>{w.removeEventListener(T,y),w.removeEventListener("touchmove",M)}}},[y,o]),r!==!1&&(E[r]=b(r)),U.useEffect(()=>{if(r!==!1){const T=p5(r),w=zi(a.current);return w.addEventListener(T,y),()=>{w.removeEventListener(T,y)}}},[y,r]),$.jsx(U.Fragment,{children:U.cloneElement(t,E)})}const Fce=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Uce(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Vce(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function Wce(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Vce(e))}function qce(e){const t=[],n=[];return Array.from(e.querySelectorAll(Fce)).forEach((r,i)=>{const o=Uce(r);o===-1||!Wce(r)||(o===0?t.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function Hce(){return!0}function Gce(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=qce,isEnabled:s=Hce,open:a}=e,f=U.useRef(!1),h=U.useRef(null),g=U.useRef(null),y=U.useRef(null),b=U.useRef(null),E=U.useRef(!1),T=U.useRef(null),w=mi(t.ref,T),M=U.useRef(null);U.useEffect(()=>{!a||!T.current||(E.current=!n)},[n,a]),U.useEffect(()=>{if(!a||!T.current)return;const I=zi(T.current);return T.current.contains(I.activeElement)||(T.current.hasAttribute("tabIndex")||T.current.setAttribute("tabIndex","-1"),E.current&&T.current.focus()),()=>{i||(y.current&&y.current.focus&&(f.current=!0,y.current.focus()),y.current=null)}},[a]),U.useEffect(()=>{if(!a||!T.current)return;const I=zi(T.current),L=F=>{M.current=F,!(r||!s()||F.key!=="Tab")&&I.activeElement===T.current&&F.shiftKey&&(f.current=!0,g.current&&g.current.focus())},R=()=>{const F=T.current;if(F===null)return;if(!I.hasFocus()||!s()||f.current){f.current=!1;return}if(F.contains(I.activeElement)||r&&I.activeElement!==h.current&&I.activeElement!==g.current)return;if(I.activeElement!==b.current)b.current=null;else if(b.current!==null)return;if(!E.current)return;let q=[];if((I.activeElement===h.current||I.activeElement===g.current)&&(q=o(T.current)),q.length>0){var J,K;const ne=!!((J=M.current)!=null&&J.shiftKey&&((K=M.current)==null?void 0:K.key)==="Tab"),le=q[0],ye=q[q.length-1];typeof le!="string"&&typeof ye!="string"&&(ne?ye.focus():le.focus())}else F.focus()};I.addEventListener("focusin",R),I.addEventListener("keydown",L,!0);const D=setInterval(()=>{I.activeElement&&I.activeElement.tagName==="BODY"&&R()},50);return()=>{clearInterval(D),I.removeEventListener("focusin",R),I.removeEventListener("keydown",L,!0)}},[n,r,i,s,a,o]);const A=I=>{y.current===null&&(y.current=I.relatedTarget),E.current=!0,b.current=I.target;const L=t.props.onFocus;L&&L(I)},O=I=>{y.current===null&&(y.current=I.relatedTarget),E.current=!0};return $.jsxs(U.Fragment,{children:[$.jsx("div",{tabIndex:a?0:-1,onFocus:O,ref:h,"data-testid":"sentinelStart"}),U.cloneElement(t,{ref:w,onFocus:A}),$.jsx("div",{tabIndex:a?0:-1,onFocus:O,ref:g,"data-testid":"sentinelEnd"})]})}var ja="top",Ys="bottom",Ks="right",La="left",uR="auto",nx=[ja,Ys,Ks,La],Vm="start",X0="end",Yce="clippingParents",Y9="viewport",hv="popper",Kce="reference",m5=nx.reduce(function(e,t){return e.concat([t+"-"+Vm,t+"-"+X0])},[]),K9=[].concat(nx,[uR]).reduce(function(e,t){return e.concat([t,t+"-"+Vm,t+"-"+X0])},[]),Zce="beforeRead",Xce="read",Jce="afterRead",Qce="beforeMain",eue="main",tue="afterMain",nue="beforeWrite",rue="write",iue="afterWrite",oue=[Zce,Xce,Jce,Qce,eue,tue,nue,rue,iue];function hc(e){return e?(e.nodeName||"").toLowerCase():null}function cs(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function vh(e){var t=cs(e).Element;return e instanceof t||e instanceof Element}function Bs(e){var t=cs(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function dR(e){if(typeof ShadowRoot>"u")return!1;var t=cs(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function aue(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!Bs(o)||!hc(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function sue(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=s.reduce(function(f,h){return f[h]="",f},{});!Bs(i)||!hc(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(f){i.removeAttribute(f)}))})}}const lue={name:"applyStyles",enabled:!0,phase:"write",fn:aue,effect:sue,requires:["computeStyles"]};function lc(e){return e.split("-")[0]}var nh=Math.max,tS=Math.min,Wm=Math.round;function DM(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Z9(){return!/^((?!chrome|android).)*safari/i.test(DM())}function qm(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&Bs(e)&&(i=e.offsetWidth>0&&Wm(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Wm(r.height)/e.offsetHeight||1);var s=vh(e)?cs(e):window,a=s.visualViewport,f=!Z9()&&n,h=(r.left+(f&&a?a.offsetLeft:0))/i,g=(r.top+(f&&a?a.offsetTop:0))/o,y=r.width/i,b=r.height/o;return{width:y,height:b,top:g,right:h+y,bottom:g+b,left:h,x:h,y:g}}function fR(e){var t=qm(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function X9(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&dR(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function hu(e){return cs(e).getComputedStyle(e)}function cue(e){return["table","td","th"].indexOf(hc(e))>=0}function Jd(e){return((vh(e)?e.ownerDocument:e.document)||window.document).documentElement}function kC(e){return hc(e)==="html"?e:e.assignedSlot||e.parentNode||(dR(e)?e.host:null)||Jd(e)}function g5(e){return!Bs(e)||hu(e).position==="fixed"?null:e.offsetParent}function uue(e){var t=/firefox/i.test(DM()),n=/Trident/i.test(DM());if(n&&Bs(e)){var r=hu(e);if(r.position==="fixed")return null}var i=kC(e);for(dR(i)&&(i=i.host);Bs(i)&&["html","body"].indexOf(hc(i))<0;){var o=hu(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function rx(e){for(var t=cs(e),n=g5(e);n&&cue(n)&&hu(n).position==="static";)n=g5(n);return n&&(hc(n)==="html"||hc(n)==="body"&&hu(n).position==="static")?t:n||uue(e)||t}function hR(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function l0(e,t,n){return nh(e,tS(t,n))}function due(e,t,n){var r=l0(e,t,n);return r>n?n:r}function J9(){return{top:0,right:0,bottom:0,left:0}}function Q9(e){return Object.assign({},J9(),e)}function e7(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var fue=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Q9(typeof t!="number"?t:e7(t,nx))};function hue(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=lc(n.placement),f=hR(a),h=[La,Ks].indexOf(a)>=0,g=h?"height":"width";if(!(!o||!s)){var y=fue(i.padding,n),b=fR(o),E=f==="y"?ja:La,T=f==="y"?Ys:Ks,w=n.rects.reference[g]+n.rects.reference[f]-s[f]-n.rects.popper[g],M=s[f]-n.rects.reference[f],A=rx(o),O=A?f==="y"?A.clientHeight||0:A.clientWidth||0:0,I=w/2-M/2,L=y[E],R=O-b[g]-y[T],D=O/2-b[g]/2+I,F=l0(L,D,R),q=f;n.modifiersData[r]=(t={},t[q]=F,t.centerOffset=F-D,t)}}function pue(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||X9(t.elements.popper,i)&&(t.elements.arrow=i))}const mue={name:"arrow",enabled:!0,phase:"main",fn:hue,effect:pue,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Hm(e){return e.split("-")[1]}var gue={top:"auto",right:"auto",bottom:"auto",left:"auto"};function yue(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Wm(n*i)/i||0,y:Wm(r*i)/i||0}}function y5(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,f=e.gpuAcceleration,h=e.adaptive,g=e.roundOffsets,y=e.isFixed,b=s.x,E=b===void 0?0:b,T=s.y,w=T===void 0?0:T,M=typeof g=="function"?g({x:E,y:w}):{x:E,y:w};E=M.x,w=M.y;var A=s.hasOwnProperty("x"),O=s.hasOwnProperty("y"),I=La,L=ja,R=window;if(h){var D=rx(n),F="clientHeight",q="clientWidth";if(D===cs(n)&&(D=Jd(n),hu(D).position!=="static"&&a==="absolute"&&(F="scrollHeight",q="scrollWidth")),D=D,i===ja||(i===La||i===Ks)&&o===X0){L=Ys;var J=y&&D===R&&R.visualViewport?R.visualViewport.height:D[F];w-=J-r.height,w*=f?1:-1}if(i===La||(i===ja||i===Ys)&&o===X0){I=Ks;var K=y&&D===R&&R.visualViewport?R.visualViewport.width:D[q];E-=K-r.width,E*=f?1:-1}}var ne=Object.assign({position:a},h&&gue),le=g===!0?yue({x:E,y:w},cs(n)):{x:E,y:w};if(E=le.x,w=le.y,f){var ye;return Object.assign({},ne,(ye={},ye[L]=O?"0":"",ye[I]=A?"0":"",ye.transform=(R.devicePixelRatio||1)<=1?"translate("+E+"px, "+w+"px)":"translate3d("+E+"px, "+w+"px, 0)",ye))}return Object.assign({},ne,(t={},t[L]=O?w+"px":"",t[I]=A?E+"px":"",t.transform="",t))}function vue(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,f=a===void 0?!0:a,h={placement:lc(t.placement),variation:Hm(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,y5(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:f})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,y5(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const bue={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:vue,data:{}};var s1={passive:!0};function xue(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,f=cs(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&h.forEach(function(g){g.addEventListener("scroll",n.update,s1)}),a&&f.addEventListener("resize",n.update,s1),function(){o&&h.forEach(function(g){g.removeEventListener("scroll",n.update,s1)}),a&&f.removeEventListener("resize",n.update,s1)}}const _ue={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xue,data:{}};var wue={left:"right",right:"left",bottom:"top",top:"bottom"};function rw(e){return e.replace(/left|right|bottom|top/g,function(t){return wue[t]})}var Sue={start:"end",end:"start"};function v5(e){return e.replace(/start|end/g,function(t){return Sue[t]})}function pR(e){var t=cs(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function mR(e){return qm(Jd(e)).left+pR(e).scrollLeft}function Cue(e,t){var n=cs(e),r=Jd(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,f=0;if(i){o=i.width,s=i.height;var h=Z9();(h||!h&&t==="fixed")&&(a=i.offsetLeft,f=i.offsetTop)}return{width:o,height:s,x:a+mR(e),y:f}}function kue(e){var t,n=Jd(e),r=pR(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=nh(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=nh(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+mR(e),f=-r.scrollTop;return hu(i||n).direction==="rtl"&&(a+=nh(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:f}}function gR(e){var t=hu(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function t7(e){return["html","body","#document"].indexOf(hc(e))>=0?e.ownerDocument.body:Bs(e)&&gR(e)?e:t7(kC(e))}function c0(e,t){var n;t===void 0&&(t=[]);var r=t7(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=cs(r),s=i?[o].concat(o.visualViewport||[],gR(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(c0(kC(s)))}function jM(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Tue(e,t){var n=qm(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function b5(e,t,n){return t===Y9?jM(Cue(e,n)):vh(t)?Tue(t,n):jM(kue(Jd(e)))}function Eue(e){var t=c0(kC(e)),n=["absolute","fixed"].indexOf(hu(e).position)>=0,r=n&&Bs(e)?rx(e):e;return vh(r)?t.filter(function(i){return vh(i)&&X9(i,r)&&hc(i)!=="body"}):[]}function Pue(e,t,n,r){var i=t==="clippingParents"?Eue(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(f,h){var g=b5(e,h,r);return f.top=nh(g.top,f.top),f.right=tS(g.right,f.right),f.bottom=tS(g.bottom,f.bottom),f.left=nh(g.left,f.left),f},b5(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function n7(e){var t=e.reference,n=e.element,r=e.placement,i=r?lc(r):null,o=r?Hm(r):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,f;switch(i){case ja:f={x:s,y:t.y-n.height};break;case Ys:f={x:s,y:t.y+t.height};break;case Ks:f={x:t.x+t.width,y:a};break;case La:f={x:t.x-n.width,y:a};break;default:f={x:t.x,y:t.y}}var h=i?hR(i):null;if(h!=null){var g=h==="y"?"height":"width";switch(o){case Vm:f[h]=f[h]-(t[g]/2-n[g]/2);break;case X0:f[h]=f[h]+(t[g]/2-n[g]/2);break}}return f}function J0(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.strategy,s=o===void 0?e.strategy:o,a=n.boundary,f=a===void 0?Yce:a,h=n.rootBoundary,g=h===void 0?Y9:h,y=n.elementContext,b=y===void 0?hv:y,E=n.altBoundary,T=E===void 0?!1:E,w=n.padding,M=w===void 0?0:w,A=Q9(typeof M!="number"?M:e7(M,nx)),O=b===hv?Kce:hv,I=e.rects.popper,L=e.elements[T?O:b],R=Pue(vh(L)?L:L.contextElement||Jd(e.elements.popper),f,g,s),D=qm(e.elements.reference),F=n7({reference:D,element:I,strategy:"absolute",placement:i}),q=jM(Object.assign({},I,F)),J=b===hv?q:D,K={top:R.top-J.top+A.top,bottom:J.bottom-R.bottom+A.bottom,left:R.left-J.left+A.left,right:J.right-R.right+A.right},ne=e.modifiersData.offset;if(b===hv&&ne){var le=ne[i];Object.keys(K).forEach(function(ye){var de=[Ks,Ys].indexOf(ye)>=0?1:-1,se=[ja,Ys].indexOf(ye)>=0?"y":"x";K[ye]+=le[se]*de})}return K}function Oue(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,f=n.allowedAutoPlacements,h=f===void 0?K9:f,g=Hm(r),y=g?a?m5:m5.filter(function(T){return Hm(T)===g}):nx,b=y.filter(function(T){return h.indexOf(T)>=0});b.length===0&&(b=y);var E=b.reduce(function(T,w){return T[w]=J0(e,{placement:w,boundary:i,rootBoundary:o,padding:s})[lc(w)],T},{});return Object.keys(E).sort(function(T,w){return E[T]-E[w]})}function Mue(e){if(lc(e)===uR)return[];var t=rw(e);return[v5(e),t,v5(t)]}function Aue(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,f=n.fallbackPlacements,h=n.padding,g=n.boundary,y=n.rootBoundary,b=n.altBoundary,E=n.flipVariations,T=E===void 0?!0:E,w=n.allowedAutoPlacements,M=t.options.placement,A=lc(M),O=A===M,I=f||(O||!T?[rw(M)]:Mue(M)),L=[M].concat(I).reduce(function(qe,rt){return qe.concat(lc(rt)===uR?Oue(t,{placement:rt,boundary:g,rootBoundary:y,padding:h,flipVariations:T,allowedAutoPlacements:w}):rt)},[]),R=t.rects.reference,D=t.rects.popper,F=new Map,q=!0,J=L[0],K=0;K<L.length;K++){var ne=L[K],le=lc(ne),ye=Hm(ne)===Vm,de=[ja,Ys].indexOf(le)>=0,se=de?"width":"height",pe=J0(t,{placement:ne,boundary:g,rootBoundary:y,altBoundary:b,padding:h}),be=de?ye?Ks:La:ye?Ys:ja;R[se]>D[se]&&(be=rw(be));var ce=rw(be),Ee=[];if(o&&Ee.push(pe[le]<=0),a&&Ee.push(pe[be]<=0,pe[ce]<=0),Ee.every(function(qe){return qe})){J=ne,q=!1;break}F.set(ne,Ee)}if(q)for(var Re=T?3:1,Xe=function(rt){var Je=L.find(function(kt){var bt=F.get(kt);if(bt)return bt.slice(0,rt).every(function(Ye){return Ye})});if(Je)return J=Je,"break"},Ae=Re;Ae>0;Ae--){var Fe=Xe(Ae);if(Fe==="break")break}t.placement!==J&&(t.modifiersData[r]._skip=!0,t.placement=J,t.reset=!0)}}const Iue={name:"flip",enabled:!0,phase:"main",fn:Aue,requiresIfExists:["offset"],data:{_skip:!1}};function x5(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function _5(e){return[ja,Ks,Ys,La].some(function(t){return e[t]>=0})}function $ue(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=J0(t,{elementContext:"reference"}),a=J0(t,{altBoundary:!0}),f=x5(s,r),h=x5(a,i,o),g=_5(f),y=_5(h);t.modifiersData[n]={referenceClippingOffsets:f,popperEscapeOffsets:h,isReferenceHidden:g,hasPopperEscaped:y},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":y})}const Rue={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:$ue};function Due(e,t,n){var r=lc(e),i=[La,ja].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[La,Ks].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function jue(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,s=K9.reduce(function(g,y){return g[y]=Due(y,t.rects,o),g},{}),a=s[t.placement],f=a.x,h=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=f,t.modifiersData.popperOffsets.y+=h),t.modifiersData[r]=s}const Lue={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:jue};function Nue(e){var t=e.state,n=e.name;t.modifiersData[n]=n7({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const zue={name:"popperOffsets",enabled:!0,phase:"read",fn:Nue,data:{}};function Bue(e){return e==="x"?"y":"x"}function Fue(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,f=n.boundary,h=n.rootBoundary,g=n.altBoundary,y=n.padding,b=n.tether,E=b===void 0?!0:b,T=n.tetherOffset,w=T===void 0?0:T,M=J0(t,{boundary:f,rootBoundary:h,padding:y,altBoundary:g}),A=lc(t.placement),O=Hm(t.placement),I=!O,L=hR(A),R=Bue(L),D=t.modifiersData.popperOffsets,F=t.rects.reference,q=t.rects.popper,J=typeof w=="function"?w(Object.assign({},t.rects,{placement:t.placement})):w,K=typeof J=="number"?{mainAxis:J,altAxis:J}:Object.assign({mainAxis:0,altAxis:0},J),ne=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,le={x:0,y:0};if(D){if(o){var ye,de=L==="y"?ja:La,se=L==="y"?Ys:Ks,pe=L==="y"?"height":"width",be=D[L],ce=be+M[de],Ee=be-M[se],Re=E?-q[pe]/2:0,Xe=O===Vm?F[pe]:q[pe],Ae=O===Vm?-q[pe]:-F[pe],Fe=t.elements.arrow,qe=E&&Fe?fR(Fe):{width:0,height:0},rt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:J9(),Je=rt[de],kt=rt[se],bt=l0(0,F[pe],qe[pe]),Ye=I?F[pe]/2-Re-bt-Je-K.mainAxis:Xe-bt-Je-K.mainAxis,lt=I?-F[pe]/2+Re+bt+kt+K.mainAxis:Ae+bt+kt+K.mainAxis,ct=t.elements.arrow&&rx(t.elements.arrow),He=ct?L==="y"?ct.clientTop||0:ct.clientLeft||0:0,Tt=(ye=ne==null?void 0:ne[L])!=null?ye:0,Mt=be+Ye-Tt-He,qt=be+lt-Tt,bn=l0(E?tS(ce,Mt):ce,be,E?nh(Ee,qt):Ee);D[L]=bn,le[L]=bn-be}if(a){var yn,vn=L==="x"?ja:La,Kn=L==="x"?Ys:Ks,Be=D[R],ln=R==="y"?"height":"width",wn=Be+M[vn],an=Be-M[Kn],Rt=[ja,La].indexOf(A)!==-1,Un=(yn=ne==null?void 0:ne[R])!=null?yn:0,Qn=Rt?wn:Be-F[ln]-q[ln]-Un+K.altAxis,yr=Rt?Be+F[ln]+q[ln]-Un-K.altAxis:an,Mn=E&&Rt?due(Qn,Be,yr):l0(E?Qn:wn,Be,E?yr:an);D[R]=Mn,le[R]=Mn-Be}t.modifiersData[r]=le}}const Uue={name:"preventOverflow",enabled:!0,phase:"main",fn:Fue,requiresIfExists:["offset"]};function Vue(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Wue(e){return e===cs(e)||!Bs(e)?pR(e):Vue(e)}function que(e){var t=e.getBoundingClientRect(),n=Wm(t.width)/e.offsetWidth||1,r=Wm(t.height)/e.offsetHeight||1;return n!==1||r!==1}function Hue(e,t,n){n===void 0&&(n=!1);var r=Bs(t),i=Bs(t)&&que(t),o=Jd(t),s=qm(e,i,n),a={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!n)&&((hc(t)!=="body"||gR(o))&&(a=Wue(t)),Bs(t)?(f=qm(t,!0),f.x+=t.clientLeft,f.y+=t.clientTop):o&&(f.x=mR(o))),{x:s.left+a.scrollLeft-f.x,y:s.top+a.scrollTop-f.y,width:s.width,height:s.height}}function Gue(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var f=t.get(a);f&&i(f)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function Yue(e){var t=Gue(e);return oue.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function Kue(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Zue(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var w5={placement:"bottom",modifiers:[],strategy:"absolute"};function S5(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Xue(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?w5:i;return function(a,f,h){h===void 0&&(h=o);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},w5,o),modifiersData:{},elements:{reference:a,popper:f},attributes:{},styles:{}},y=[],b=!1,E={state:g,setOptions:function(A){var O=typeof A=="function"?A(g.options):A;w(),g.options=Object.assign({},o,g.options,O),g.scrollParents={reference:vh(a)?c0(a):a.contextElement?c0(a.contextElement):[],popper:c0(f)};var I=Yue(Zue([].concat(r,g.options.modifiers)));return g.orderedModifiers=I.filter(function(L){return L.enabled}),T(),E.update()},forceUpdate:function(){if(!b){var A=g.elements,O=A.reference,I=A.popper;if(S5(O,I)){g.rects={reference:Hue(O,rx(I),g.options.strategy==="fixed"),popper:fR(I)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(K){return g.modifiersData[K.name]=Object.assign({},K.data)});for(var L=0;L<g.orderedModifiers.length;L++){if(g.reset===!0){g.reset=!1,L=-1;continue}var R=g.orderedModifiers[L],D=R.fn,F=R.options,q=F===void 0?{}:F,J=R.name;typeof D=="function"&&(g=D({state:g,options:q,name:J,instance:E})||g)}}}},update:Kue(function(){return new Promise(function(M){E.forceUpdate(),M(g)})}),destroy:function(){w(),b=!0}};if(!S5(a,f))return E;E.setOptions(h).then(function(M){!b&&h.onFirstUpdate&&h.onFirstUpdate(M)});function T(){g.orderedModifiers.forEach(function(M){var A=M.name,O=M.options,I=O===void 0?{}:O,L=M.effect;if(typeof L=="function"){var R=L({state:g,name:A,instance:E,options:I}),D=function(){};y.push(R||D)}})}function w(){y.forEach(function(M){return M()}),y=[]}return E}}var Jue=[_ue,zue,bue,lue,Lue,Iue,Uue,mue,Rue],Que=Xue({defaultModifiers:Jue});function ede(e){return typeof e=="function"?e():e}const r7=U.forwardRef(function(t,n){const{children:r,container:i,disablePortal:o=!1}=t,[s,a]=U.useState(null),f=mi(U.isValidElement(r)?r.ref:null,n);if(ls(()=>{o||a(ede(i)||document.body)},[i,o]),ls(()=>{if(s&&!o)return Gw(n,s),()=>{Gw(n,null)}},[n,s,o]),o){if(U.isValidElement(r)){const h={ref:f};return U.cloneElement(r,h)}return $.jsx(U.Fragment,{children:r})}return $.jsx(U.Fragment,{children:s&&wu.createPortal(r,s)})});function tde(e){return nn("MuiPopper",e)}Qt("MuiPopper",["root"]);const nde=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],rde=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function ide(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function LM(e){return typeof e=="function"?e():e}function ode(e){return e.nodeType!==void 0}const ade=()=>rn({root:["root"]},Rce(tde)),sde={},lde=U.forwardRef(function(t,n){var r;const{anchorEl:i,children:o,direction:s,disablePortal:a,modifiers:f,open:h,placement:g,popperOptions:y,popperRef:b,slotProps:E={},slots:T={},TransitionProps:w}=t,M=gt(t,nde),A=U.useRef(null),O=mi(A,n),I=U.useRef(null),L=mi(I,b),R=U.useRef(L);ls(()=>{R.current=L},[L]),U.useImperativeHandle(b,()=>I.current,[]);const D=ide(g,s),[F,q]=U.useState(D),[J,K]=U.useState(LM(i));U.useEffect(()=>{I.current&&I.current.forceUpdate()}),U.useEffect(()=>{i&&K(LM(i))},[i]),ls(()=>{if(!J||!h)return;const se=ce=>{q(ce.placement)};let pe=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:ce})=>{se(ce)}}];f!=null&&(pe=pe.concat(f)),y&&y.modifiers!=null&&(pe=pe.concat(y.modifiers));const be=Que(J,A.current,ee({placement:D},y,{modifiers:pe}));return R.current(be),()=>{be.destroy(),R.current(null)}},[J,a,f,h,y,D]);const ne={placement:F};w!==null&&(ne.TransitionProps=w);const le=ade(),ye=(r=T.root)!=null?r:"div",de=za({elementType:ye,externalSlotProps:E.root,externalForwardedProps:M,additionalProps:{role:"tooltip",ref:O},ownerState:t,className:le.root});return $.jsx(ye,ee({},de,{children:typeof o=="function"?o(ne):o}))}),cde=U.forwardRef(function(t,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:f=!1,modifiers:h,open:g,placement:y="bottom",popperOptions:b=sde,popperRef:E,style:T,transition:w=!1,slotProps:M={},slots:A={}}=t,O=gt(t,rde),[I,L]=U.useState(!0),R=()=>{L(!1)},D=()=>{L(!0)};if(!f&&!g&&(!w||I))return null;let F;if(o)F=o;else if(r){const K=LM(r);F=K&&ode(K)?zi(K).body:zi(null).body}const q=!g&&f&&(!w||I)?"none":void 0,J=w?{in:g,onEnter:R,onExited:D}:void 0;return $.jsx(r7,{disablePortal:a,container:F,children:$.jsx(lde,ee({anchorEl:r,direction:s,disablePortal:a,modifiers:h,ref:n,open:w?!I:g,placement:y,popperOptions:b,popperRef:E,slotProps:M,slots:A},O,{style:ee({position:"fixed",top:0,left:0,display:q},T),TransitionProps:J,children:i}))})});function ude(e){const t=zi(e);return t.body===e?fc(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function u0(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function C5(e){return parseInt(fc(e).getComputedStyle(e).paddingRight,10)||0}function dde(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function k5(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,s=>{const a=o.indexOf(s)===-1,f=!dde(s);a&&f&&u0(s,i)})}function GE(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function fde(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(ude(r)){const s=m9(zi(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${C5(r)+s}px`;const a=zi(r).querySelectorAll(".mui-fixed");[].forEach.call(a,f=>{n.push({value:f.style.paddingRight,property:"padding-right",el:f}),f.style.paddingRight=`${C5(f)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=zi(r).body;else{const s=r.parentElement,a=fc(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function hde(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class pde{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&u0(t.modalRef,!1);const i=hde(n);k5(n,t.mount,t.modalRef,i,!0);const o=GE(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=GE(this.containers,o=>o.modals.indexOf(t)!==-1),i=this.containers[r];i.restore||(i.restore=fde(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=GE(this.containers,s=>s.modals.indexOf(t)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&u0(t.modalRef,n),k5(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&u0(s.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function mde(e){return typeof e=="function"?e():e}function gde(e){return e?e.props.hasOwnProperty("in"):!1}const yde=new pde;function vde(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=yde,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:f,onClose:h,open:g,rootRef:y}=e,b=U.useRef({}),E=U.useRef(null),T=U.useRef(null),w=mi(T,y),[M,A]=U.useState(!g),O=gde(f);let I=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(I=!1);const L=()=>zi(E.current),R=()=>(b.current.modalRef=T.current,b.current.mount=E.current,b.current),D=()=>{i.mount(R(),{disableScrollLock:r}),T.current&&(T.current.scrollTop=0)},F=Aa(()=>{const pe=mde(t)||L().body;i.add(R(),pe),T.current&&D()}),q=U.useCallback(()=>i.isTopModal(R()),[i]),J=Aa(pe=>{E.current=pe,pe&&(g&&q()?D():T.current&&u0(T.current,I))}),K=U.useCallback(()=>{i.remove(R(),I)},[I,i]);U.useEffect(()=>()=>{K()},[K]),U.useEffect(()=>{g?F():(!O||!o)&&K()},[g,K,O,o,F]);const ne=pe=>be=>{var ce;(ce=pe.onKeyDown)==null||ce.call(pe,be),!(be.key!=="Escape"||be.which===229||!q())&&(n||(be.stopPropagation(),h&&h(be,"escapeKeyDown")))},le=pe=>be=>{var ce;(ce=pe.onClick)==null||ce.call(pe,be),be.target===be.currentTarget&&h&&h(be,"backdropClick")};return{getRootProps:(pe={})=>{const be=eS(e);delete be.onTransitionEnter,delete be.onTransitionExited;const ce=ee({},be,pe);return ee({role:"presentation"},ce,{onKeyDown:ne(ce),ref:w})},getBackdropProps:(pe={})=>{const be=pe;return ee({"aria-hidden":!0},be,{onClick:le(be),open:g})},getTransitionProps:()=>{const pe=()=>{A(!1),s&&s()},be=()=>{A(!0),a&&a(),o&&K()};return{onEnter:kM(pe,f==null?void 0:f.props.onEnter),onExited:kM(be,f==null?void 0:f.props.onExited)}},rootRef:w,portalRef:J,isTopModal:q,exited:M,hasTransition:O}}function bde(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:o}=e,s=U.useRef();U.useEffect(()=>{if(!i)return;function A(O){O.defaultPrevented||(O.key==="Escape"||O.key==="Esc")&&(r==null||r(O,"escapeKeyDown"))}return document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}},[i,r]);const a=Aa((A,O)=>{r==null||r(A,O)}),f=Aa(A=>{!r||A==null||(clearTimeout(s.current),s.current=setTimeout(()=>{a(null,"timeout")},A))});U.useEffect(()=>(i&&f(t),()=>{clearTimeout(s.current)}),[i,t,f]);const h=A=>{r==null||r(A,"clickaway")},g=()=>{clearTimeout(s.current)},y=U.useCallback(()=>{t!=null&&f(o??t*.5)},[t,o,f]),b=A=>O=>{const I=A.onBlur;I==null||I(O),y()},E=A=>O=>{const I=A.onFocus;I==null||I(O),g()},T=A=>O=>{const I=A.onMouseEnter;I==null||I(O),g()},w=A=>O=>{const I=A.onMouseLeave;I==null||I(O),y()};return U.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",y),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",y),window.removeEventListener("blur",g)}},[n,y,i]),{getRootProps:(A={})=>{const O=ee({},eS(e),eS(A));return ee({role:"presentation"},A,O,{onBlur:b(O),onFocus:E(O),onMouseEnter:T(O),onMouseLeave:w(O)})},onClickAway:h}}const xde=["onChange","maxRows","minRows","style","value"];function l1(e){return parseInt(e,10)||0}const _de={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function T5(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflow}const wde=U.forwardRef(function(t,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a}=t,f=gt(t,xde),{current:h}=U.useRef(a!=null),g=U.useRef(null),y=mi(n,g),b=U.useRef(null),E=U.useRef(0),[T,w]=U.useState({outerHeightStyle:0}),M=U.useCallback(()=>{const L=g.current,D=fc(L).getComputedStyle(L);if(D.width==="0px")return{outerHeightStyle:0};const F=b.current;F.style.width=D.width,F.value=L.value||t.placeholder||"x",F.value.slice(-1)===`
`&&(F.value+=" ");const q=D.boxSizing,J=l1(D.paddingBottom)+l1(D.paddingTop),K=l1(D.borderBottomWidth)+l1(D.borderTopWidth),ne=F.scrollHeight;F.value="x";const le=F.scrollHeight;let ye=ne;o&&(ye=Math.max(Number(o)*le,ye)),i&&(ye=Math.min(Number(i)*le,ye)),ye=Math.max(ye,le);const de=ye+(q==="border-box"?J+K:0),se=Math.abs(ye-ne)<=1;return{outerHeightStyle:de,overflow:se}},[i,o,t.placeholder]),A=(L,R)=>{const{outerHeightStyle:D,overflow:F}=R;return E.current<20&&(D>0&&Math.abs((L.outerHeightStyle||0)-D)>1||L.overflow!==F)?(E.current+=1,{overflow:F,outerHeightStyle:D}):L},O=U.useCallback(()=>{const L=M();T5(L)||w(R=>A(R,L))},[M]);ls(()=>{const L=()=>{const ne=M();T5(ne)||wu.flushSync(()=>{w(le=>A(le,ne))})},R=()=>{E.current=0,L()};let D;const F=Zb(R),q=g.current,J=fc(q);J.addEventListener("resize",F);let K;return typeof ResizeObserver<"u"&&(K=new ResizeObserver(R),K.observe(q)),()=>{F.clear(),cancelAnimationFrame(D),J.removeEventListener("resize",F),K&&K.disconnect()}},[M]),ls(()=>{O()}),U.useEffect(()=>{E.current=0},[a]);const I=L=>{E.current=0,h||O(),r&&r(L)};return $.jsxs(U.Fragment,{children:[$.jsx("textarea",ee({value:a,onChange:I,ref:y,rows:o,style:ee({height:T.outerHeightStyle,overflow:T.overflow?"hidden":void 0},s)},f)),$.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:b,tabIndex:-1,style:ee({},_de.shadow,s,{paddingTop:0,paddingBottom:0})})]})}),Sde=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Cde=ht(cde,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),kde=U.forwardRef(function(t,n){var r;const i=tR(),o=on({props:t,name:"MuiPopper"}),{anchorEl:s,component:a,components:f,componentsProps:h,container:g,disablePortal:y,keepMounted:b,modifiers:E,open:T,placement:w,popperOptions:M,popperRef:A,transition:O,slots:I,slotProps:L}=o,R=gt(o,Sde),D=(r=I==null?void 0:I.root)!=null?r:f==null?void 0:f.Root,F=ee({anchorEl:s,container:g,disablePortal:y,keepMounted:b,modifiers:E,open:T,placement:w,popperOptions:M,popperRef:A,transition:O},R);return $.jsx(Cde,ee({as:a,direction:i==null?void 0:i.direction,slots:{root:D},slotProps:L??h},F,{ref:n}))}),i7=kde;function kh({props:e,states:t,muiFormControl:n}){return t.reduce((r,i)=>(r[i]=e[i],n&&typeof e[i]>"u"&&(r[i]=n[i]),r),{})}const Tde=U.createContext(void 0),TC=Tde;function ku(){return U.useContext(TC)}function o7(e){return $.jsx(Kae,ee({},e,{defaultTheme:SC,themeId:gh}))}function E5(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function nS(e,t=!1){return e&&(E5(e.value)&&e.value!==""||t&&E5(e.defaultValue)&&e.defaultValue!=="")}function Ede(e){return e.startAdornment}function Pde(e){return nn("MuiInputBase",e)}const Ode=Qt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Gm=Ode,Mde=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],EC=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${pt(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},PC=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},Ade=e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:f,hiddenLabel:h,multiline:g,readOnly:y,size:b,startAdornment:E,type:T}=e,w={root:["root",`color${pt(n)}`,r&&"disabled",i&&"error",f&&"fullWidth",s&&"focused",a&&"formControl",b&&b!=="medium"&&`size${pt(b)}`,g&&"multiline",E&&"adornedStart",o&&"adornedEnd",h&&"hiddenLabel",y&&"readOnly"],input:["input",r&&"disabled",T==="search"&&"inputTypeSearch",g&&"inputMultiline",b==="small"&&"inputSizeSmall",h&&"inputHiddenLabel",E&&"inputAdornedStart",o&&"inputAdornedEnd",y&&"readOnly"]};return rn(w,Pde,t)},OC=ht("div",{name:"MuiInputBase",slot:"Root",overridesResolver:EC})(({theme:e,ownerState:t})=>ee({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Gm.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&ee({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),MC=ht("input",{name:"MuiInputBase",slot:"Input",overridesResolver:PC})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",r=ee({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),i={opacity:"0 !important"},o=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return ee({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Gm.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${Gm.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),Ide=$.jsx(o7,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),$de=U.forwardRef(function(t,n){var r;const i=on({props:t,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:f,components:h={},componentsProps:g={},defaultValue:y,disabled:b,disableInjectingGlobalStyles:E,endAdornment:T,fullWidth:w=!1,id:M,inputComponent:A="input",inputProps:O={},inputRef:I,maxRows:L,minRows:R,multiline:D=!1,name:F,onBlur:q,onChange:J,onClick:K,onFocus:ne,onKeyDown:le,onKeyUp:ye,placeholder:de,readOnly:se,renderSuffix:pe,rows:be,slotProps:ce={},slots:Ee={},startAdornment:Re,type:Xe="text",value:Ae}=i,Fe=gt(i,Mde),qe=O.value!=null?O.value:Ae,{current:rt}=U.useRef(qe!=null),Je=U.useRef(),kt=U.useCallback(Mn=>{},[]),bt=mi(Je,I,O.ref,kt),[Ye,lt]=U.useState(!1),ct=ku(),He=kh({props:i,muiFormControl:ct,states:["color","disabled","error","hiddenLabel","size","required","filled"]});He.focused=ct?ct.focused:Ye,U.useEffect(()=>{!ct&&b&&Ye&&(lt(!1),q&&q())},[ct,b,Ye,q]);const Tt=ct&&ct.onFilled,Mt=ct&&ct.onEmpty,qt=U.useCallback(Mn=>{nS(Mn)?Tt&&Tt():Mt&&Mt()},[Tt,Mt]);ls(()=>{rt&&qt({value:qe})},[qe,qt,rt]);const bn=Mn=>{if(He.disabled){Mn.stopPropagation();return}ne&&ne(Mn),O.onFocus&&O.onFocus(Mn),ct&&ct.onFocus?ct.onFocus(Mn):lt(!0)},yn=Mn=>{q&&q(Mn),O.onBlur&&O.onBlur(Mn),ct&&ct.onBlur?ct.onBlur(Mn):lt(!1)},vn=(Mn,...Zt)=>{if(!rt){const er=Mn.target||Je.current;if(er==null)throw new Error(Vd(1));qt({value:er.value})}O.onChange&&O.onChange(Mn,...Zt),J&&J(Mn,...Zt)};U.useEffect(()=>{qt(Je.current)},[]);const Kn=Mn=>{Je.current&&Mn.currentTarget===Mn.target&&Je.current.focus(),K&&K(Mn)};let Be=A,ln=O;D&&Be==="input"&&(be?ln=ee({type:void 0,minRows:be,maxRows:be},ln):ln=ee({type:void 0,maxRows:L,minRows:R},ln),Be=wde);const wn=Mn=>{qt(Mn.animationName==="mui-auto-fill-cancel"?Je.current:{value:"x"})};U.useEffect(()=>{ct&&ct.setAdornedStart(!!Re)},[ct,Re]);const an=ee({},i,{color:He.color||"primary",disabled:He.disabled,endAdornment:T,error:He.error,focused:He.focused,formControl:ct,fullWidth:w,hiddenLabel:He.hiddenLabel,multiline:D,size:He.size,startAdornment:Re,type:Xe}),Rt=Ade(an),Un=Ee.root||h.Root||OC,Qn=ce.root||g.root||{},yr=Ee.input||h.Input||MC;return ln=ee({},ln,(r=ce.input)!=null?r:g.input),$.jsxs(U.Fragment,{children:[!E&&Ide,$.jsxs(Un,ee({},Qn,!Qw(Un)&&{ownerState:ee({},an,Qn.ownerState)},{ref:n,onClick:Kn},Fe,{className:st(Rt.root,Qn.className,f,se&&"MuiInputBase-readOnly"),children:[Re,$.jsx(TC.Provider,{value:null,children:$.jsx(yr,ee({ownerState:an,"aria-invalid":He.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:y,disabled:He.disabled,id:M,onAnimationStart:wn,name:F,placeholder:de,readOnly:se,required:He.required,rows:be,value:qe,onKeyDown:le,onKeyUp:ye,type:Xe},ln,!Qw(yr)&&{as:Be,ownerState:ee({},an,ln.ownerState)},{ref:bt,className:st(Rt.input,ln.className,se&&"MuiInputBase-readOnly"),onBlur:yn,onChange:vn,onFocus:bn}))}),T,pe?pe(ee({},He,{startAdornment:Re})):null]}))]})}),yR=$de;function Rde(e){return nn("MuiInput",e)}const Dde=ee({},Gm,Qt("MuiInput",["root","underline","input"])),pv=Dde;function jde(e){return nn("MuiOutlinedInput",e)}const Lde=ee({},Gm,Qt("MuiOutlinedInput",["root","notchedOutline","input"])),ed=Lde;function Nde(e){return nn("MuiFilledInput",e)}const zde=ee({},Gm,Qt("MuiFilledInput",["root","underline","input"])),Ef=zde,Bde=ex($.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Fde=ex($.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Ude(e){return nn("MuiAvatar",e)}Qt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Vde=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],Wde=e=>{const{classes:t,variant:n,colorDefault:r}=e;return rn({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},Ude,t)},qde=ht("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})(({theme:e,ownerState:t})=>ee({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.variant==="square"&&{borderRadius:0},t.colorDefault&&ee({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600]}))),Hde=ht("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Gde=ht(Fde,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});function Yde({crossOrigin:e,referrerPolicy:t,src:n,srcSet:r}){const[i,o]=U.useState(!1);return U.useEffect(()=>{if(!n&&!r)return;o(!1);let s=!0;const a=new Image;return a.onload=()=>{s&&o("loaded")},a.onerror=()=>{s&&o("error")},a.crossOrigin=e,a.referrerPolicy=t,a.src=n,r&&(a.srcset=r),()=>{s=!1}},[e,t,n,r]),i}const Kde=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:a="div",imgProps:f,sizes:h,src:g,srcSet:y,variant:b="circular"}=r,E=gt(r,Vde);let T=null;const w=Yde(ee({},f,{src:g,srcSet:y})),M=g||y,A=M&&w!=="error",O=ee({},r,{colorDefault:!A,component:a,variant:b}),I=Wde(O);return A?T=$.jsx(Hde,ee({alt:i,srcSet:y,src:g,sizes:h,ownerState:O,className:I.img},f)):o!=null?T=o:M&&i?T=i[0]:T=$.jsx(Gde,{ownerState:O,className:I.fallback}),$.jsx(qde,ee({as:a,ownerState:O,className:st(I.root,s),ref:n},E,{children:T}))}),Zde=Kde,Xde=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Jde={entering:{opacity:1},entered:{opacity:1}},Qde=U.forwardRef(function(t,n){const r=jl(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:f,in:h,onEnter:g,onEntered:y,onEntering:b,onExit:E,onExited:T,onExiting:w,style:M,timeout:A=i,TransitionComponent:O=aR}=t,I=gt(t,Xde),L=U.useRef(null),R=mi(L,a.ref,n),D=de=>se=>{if(de){const pe=L.current;se===void 0?de(pe):de(pe,se)}},F=D(b),q=D((de,se)=>{q9(de);const pe=Um({style:M,timeout:A,easing:f},{mode:"enter"});de.style.webkitTransition=r.transitions.create("opacity",pe),de.style.transition=r.transitions.create("opacity",pe),g&&g(de,se)}),J=D(y),K=D(w),ne=D(de=>{const se=Um({style:M,timeout:A,easing:f},{mode:"exit"});de.style.webkitTransition=r.transitions.create("opacity",se),de.style.transition=r.transitions.create("opacity",se),E&&E(de)}),le=D(T),ye=de=>{o&&o(L.current,de)};return $.jsx(O,ee({appear:s,in:h,nodeRef:L,onEnter:q,onEntered:J,onEntering:F,onExit:ne,onExited:le,onExiting:K,addEndListener:ye,timeout:A},I,{children:(de,se)=>U.cloneElement(a,ee({style:ee({opacity:0,visibility:de==="exited"&&!h?"hidden":void 0},Jde[de],M,a.props.style),ref:R},se))}))}),efe=Qde;function tfe(e){return nn("MuiBackdrop",e)}Qt("MuiBackdrop",["root","invisible"]);const nfe=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],rfe=e=>{const{classes:t,invisible:n}=e;return rn({root:["root",n&&"invisible"]},tfe,t)},ife=ht("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>ee({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),ofe=U.forwardRef(function(t,n){var r,i,o;const s=on({props:t,name:"MuiBackdrop"}),{children:a,className:f,component:h="div",components:g={},componentsProps:y={},invisible:b=!1,open:E,slotProps:T={},slots:w={},TransitionComponent:M=efe,transitionDuration:A}=s,O=gt(s,nfe),I=ee({},s,{component:h,invisible:b}),L=rfe(I),R=(r=T.root)!=null?r:y.root;return $.jsx(M,ee({in:E,timeout:A},O,{children:$.jsx(ife,ee({"aria-hidden":!0},R,{as:(i=(o=w.root)!=null?o:g.Root)!=null?i:h,className:st(L.root,f,R==null?void 0:R.className),ownerState:ee({},I,R==null?void 0:R.ownerState),classes:L,ref:n,children:a}))}))}),afe=ofe;function sfe(e){return nn("MuiBadge",e)}const lfe=Qt("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),td=lfe,cfe=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],YE=10,KE=4,ufe=e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:i,variant:o,classes:s={}}=e,a={root:["root"],badge:["badge",o,r&&"invisible",`anchorOrigin${pt(n.vertical)}${pt(n.horizontal)}`,`anchorOrigin${pt(n.vertical)}${pt(n.horizontal)}${pt(i)}`,`overlap${pt(i)}`,t!=="default"&&`color${pt(t)}`]};return rn(a,sfe,s)},dfe=ht("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),ffe=ht("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${pt(n.anchorOrigin.vertical)}${pt(n.anchorOrigin.horizontal)}${pt(n.overlap)}`],n.color!=="default"&&t[`color${pt(n.color)}`],n.invisible&&t.invisible]}})(({theme:e,ownerState:t})=>ee({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:YE*2,lineHeight:1,padding:"0 6px",height:YE*2,borderRadius:YE,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.variant==="dot"&&{borderRadius:KE,height:KE*2,minWidth:KE*2,padding:0},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${td.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${td.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${td.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${td.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${td.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${td.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${td.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${td.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.invisible&&{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})})),hfe=U.forwardRef(function(t,n){var r,i,o,s,a,f;const h=on({props:t,name:"MuiBadge"}),{anchorOrigin:g={vertical:"top",horizontal:"right"},className:y,component:b,components:E={},componentsProps:T={},children:w,overlap:M="rectangular",color:A="default",invisible:O=!1,max:I=99,badgeContent:L,slots:R,slotProps:D,showZero:F=!1,variant:q="standard"}=h,J=gt(h,cfe),{badgeContent:K,invisible:ne,max:le,displayValue:ye}=Nce({max:I,invisible:O,badgeContent:L,showZero:F}),de=y9({anchorOrigin:g,color:A,overlap:M,variant:q,badgeContent:L}),se=ne||K==null&&q!=="dot",{color:pe=A,overlap:be=M,anchorOrigin:ce=g,variant:Ee=q}=se?de:h,Re=Ee!=="dot"?ye:void 0,Xe=ee({},h,{badgeContent:K,invisible:se,max:le,displayValue:Re,showZero:F,anchorOrigin:ce,color:pe,overlap:be,variant:Ee}),Ae=ufe(Xe),Fe=(r=(i=R==null?void 0:R.root)!=null?i:E.Root)!=null?r:dfe,qe=(o=(s=R==null?void 0:R.badge)!=null?s:E.Badge)!=null?o:ffe,rt=(a=D==null?void 0:D.root)!=null?a:T.root,Je=(f=D==null?void 0:D.badge)!=null?f:T.badge,kt=za({elementType:Fe,externalSlotProps:rt,externalForwardedProps:J,additionalProps:{ref:n,as:b},ownerState:Xe,className:st(rt==null?void 0:rt.className,Ae.root,y)}),bt=za({elementType:qe,externalSlotProps:Je,ownerState:Xe,className:st(Ae.badge,Je==null?void 0:Je.className)});return $.jsxs(Fe,ee({},kt,{children:[w,$.jsx(qe,ee({},bt,{children:Re}))]}))}),pfe=hfe;function mfe(e){return nn("MuiBottomNavigation",e)}Qt("MuiBottomNavigation",["root"]);const gfe=["children","className","component","onChange","showLabels","value"],yfe=e=>{const{classes:t}=e;return rn({root:["root"]},mfe,t)},vfe=ht("div",{name:"MuiBottomNavigation",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"flex",justifyContent:"center",height:56,backgroundColor:(e.vars||e).palette.background.paper})),bfe=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiBottomNavigation"}),{children:i,className:o,component:s="div",onChange:a,showLabels:f=!1,value:h}=r,g=gt(r,gfe),y=ee({},r,{component:s,showLabels:f}),b=yfe(y);return $.jsx(vfe,ee({as:s,className:st(b.root,o),ref:n,ownerState:y},g,{children:U.Children.map(i,(E,T)=>{if(!U.isValidElement(E))return null;const w=E.props.value===void 0?T:E.props.value;return U.cloneElement(E,{selected:w===h,showLabel:E.props.showLabel!==void 0?E.props.showLabel:f,value:w,onChange:a})})}))}),xfe=bfe;function _fe(e){return nn("MuiBottomNavigationAction",e)}const wfe=Qt("MuiBottomNavigationAction",["root","iconOnly","selected","label"]),a7=wfe,Sfe=["className","icon","label","onChange","onClick","selected","showLabel","value"],Cfe=e=>{const{classes:t,showLabel:n,selected:r}=e;return rn({root:["root",!n&&!r&&"iconOnly",r&&"selected"],label:["label",!n&&!r&&"iconOnly",r&&"selected"]},_fe,t)},kfe=ht(Cu,{name:"MuiBottomNavigationAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.showLabel&&!n.selected&&t.iconOnly]}})(({theme:e,ownerState:t})=>ee({transition:e.transitions.create(["color","padding-top"],{duration:e.transitions.duration.short}),padding:"0px 12px",minWidth:80,maxWidth:168,color:(e.vars||e).palette.text.secondary,flexDirection:"column",flex:"1"},!t.showLabel&&!t.selected&&{paddingTop:14},!t.showLabel&&!t.selected&&!t.label&&{paddingTop:0},{[`&.${a7.selected}`]:{color:(e.vars||e).palette.primary.main}})),Tfe=ht("span",{name:"MuiBottomNavigationAction",slot:"Label",overridesResolver:(e,t)=>t.label})(({theme:e,ownerState:t})=>ee({fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(12),opacity:1,transition:"font-size 0.2s, opacity 0.2s",transitionDelay:"0.1s"},!t.showLabel&&!t.selected&&{opacity:0,transitionDelay:"0s"},{[`&.${a7.selected}`]:{fontSize:e.typography.pxToRem(14)}})),Efe=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiBottomNavigationAction"}),{className:i,icon:o,label:s,onChange:a,onClick:f,value:h}=r,g=gt(r,Sfe),y=r,b=Cfe(y),E=T=>{a&&a(T,h),f&&f(T)};return $.jsxs(kfe,ee({ref:n,className:st(b.root,i),focusRipple:!0,onClick:E,ownerState:y},g,{children:[o,$.jsx(Tfe,{className:b.label,ownerState:y,children:s})]}))}),c1=Efe,Pfe=Qt("MuiBox",["root"]),Ofe=Pfe,Mfe=oR(),Afe=Qae({themeId:gh,defaultTheme:Mfe,defaultClassName:Ofe.root,generateClassName:q$.generate}),$i=Afe;function Ife(e){return nn("MuiButton",e)}const $fe=Qt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),u1=$fe,Rfe=U.createContext({}),s7=Rfe,Dfe=U.createContext(void 0),l7=Dfe,jfe=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Lfe=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=e,a={root:["root",o,`${o}${pt(t)}`,`size${pt(i)}`,`${o}Size${pt(i)}`,t==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${pt(i)}`],endIcon:["endIcon",`iconSize${pt(i)}`]},f=rn(a,Ife,s);return ee({},s,f)},c7=e=>ee({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Nfe=ht(Cu,{shouldForwardProp:e=>Fa(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${pt(n.color)}`],t[`size${pt(n.size)}`],t[`${n.variant}Size${pt(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const i=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],o=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return ee({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":ee({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Ir(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ir(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ir(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":ee({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${u1.focusVisible}`]:ee({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${u1.disabled}`]:ee({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${Ir(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:i,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${u1.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${u1.disabled}`]:{boxShadow:"none"}}),zfe=ht("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${pt(n.size)}`]]}})(({ownerState:e})=>ee({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},c7(e))),Bfe=ht("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${pt(n.size)}`]]}})(({ownerState:e})=>ee({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},c7(e))),Ffe=U.forwardRef(function(t,n){const r=U.useContext(s7),i=U.useContext(l7),o=W$(r,t),s=on({props:o,name:"MuiButton"}),{children:a,color:f="primary",component:h="button",className:g,disabled:y=!1,disableElevation:b=!1,disableFocusRipple:E=!1,endIcon:T,focusVisibleClassName:w,fullWidth:M=!1,size:A="medium",startIcon:O,type:I,variant:L="text"}=s,R=gt(s,jfe),D=ee({},s,{color:f,component:h,disabled:y,disableElevation:b,disableFocusRipple:E,fullWidth:M,size:A,type:I,variant:L}),F=Lfe(D),q=O&&$.jsx(zfe,{className:F.startIcon,ownerState:D,children:O}),J=T&&$.jsx(Bfe,{className:F.endIcon,ownerState:D,children:T}),K=i||"";return $.jsxs(Nfe,ee({ownerState:D,className:st(r.className,F.root,g,K),component:h,disabled:y,focusRipple:!E,focusVisibleClassName:st(F.focusVisible,w),ref:n,type:I},R,{classes:F,children:[q,a,J]}))}),or=Ffe;function Ufe(e){return nn("MuiButtonGroup",e)}const Vfe=Qt("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),bo=Vfe,Wfe=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],qfe=(e,t)=>{const{ownerState:n}=e;return[{[`& .${bo.grouped}`]:t.grouped},{[`& .${bo.grouped}`]:t[`grouped${pt(n.orientation)}`]},{[`& .${bo.grouped}`]:t[`grouped${pt(n.variant)}`]},{[`& .${bo.grouped}`]:t[`grouped${pt(n.variant)}${pt(n.orientation)}`]},{[`& .${bo.grouped}`]:t[`grouped${pt(n.variant)}${pt(n.color)}`]},{[`& .${bo.firstButton}`]:t.firstButton},{[`& .${bo.lastButton}`]:t.lastButton},{[`& .${bo.middleButton}`]:t.middleButton},t.root,t[n.variant],n.disableElevation===!0&&t.disableElevation,n.fullWidth&&t.fullWidth,n.orientation==="vertical"&&t.vertical]},Hfe=e=>{const{classes:t,color:n,disabled:r,disableElevation:i,fullWidth:o,orientation:s,variant:a}=e,f={root:["root",a,s==="vertical"&&"vertical",o&&"fullWidth",i&&"disableElevation"],grouped:["grouped",`grouped${pt(s)}`,`grouped${pt(a)}`,`grouped${pt(a)}${pt(s)}`,`grouped${pt(a)}${pt(n)}`,r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return rn(f,Ufe,t)},Gfe=ht("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:qfe})(({theme:e,ownerState:t})=>ee({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${bo.grouped}`]:ee({minWidth:40,"&:hover":ee({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"}),[`& .${bo.firstButton},& .${bo.middleButton}`]:ee({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${bo.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${bo.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:Ir(e.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${bo.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${bo.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":ee({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${bo.lastButton},& .${bo.middleButton}`]:ee({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1})})),Yfe=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiButtonGroup"}),{children:i,className:o,color:s="primary",component:a="div",disabled:f=!1,disableElevation:h=!1,disableFocusRipple:g=!1,disableRipple:y=!1,fullWidth:b=!1,orientation:E="horizontal",size:T="medium",variant:w="outlined"}=r,M=gt(r,Wfe),A=ee({},r,{color:s,component:a,disabled:f,disableElevation:h,disableFocusRipple:g,disableRipple:y,fullWidth:b,orientation:E,size:T,variant:w}),O=Hfe(A),I=U.useMemo(()=>({className:O.grouped,color:s,disabled:f,disableElevation:h,disableFocusRipple:g,disableRipple:y,fullWidth:b,size:T,variant:w}),[s,f,h,g,y,b,T,w,O.grouped]),L=Zie(i),R=L.length,D=F=>{const q=F===0,J=F===R-1;return q&&J?"":q?O.firstButton:J?O.lastButton:O.middleButton};return $.jsx(Gfe,ee({as:a,role:"group",className:st(O.root,o),ref:n,ownerState:A},M,{children:$.jsx(s7.Provider,{value:I,children:L.map((F,q)=>$.jsx(l7.Provider,{value:D(q),children:F},q))})}))}),Kfe=Yfe;function Zfe(e){return nn("MuiCard",e)}Qt("MuiCard",["root"]);const Xfe=["className","raised"],Jfe=e=>{const{classes:t}=e;return rn({root:["root"]},Zfe,t)},Qfe=ht(Vo,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),ehe=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiCard"}),{className:i,raised:o=!1}=r,s=gt(r,Xfe),a=ee({},r,{raised:o}),f=Jfe(a);return $.jsx(Qfe,ee({className:st(f.root,i),elevation:o?8:void 0,ref:n,ownerState:a},s))}),Tu=ehe;function the(e){return nn("MuiCardActions",e)}Qt("MuiCardActions",["root","spacing"]);const nhe=["disableSpacing","className"],rhe=e=>{const{classes:t,disableSpacing:n}=e;return rn({root:["root",!n&&"spacing"]},the,t)},ihe=ht("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>ee({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),ohe=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiCardActions"}),{disableSpacing:i=!1,className:o}=r,s=gt(r,nhe),a=ee({},r,{disableSpacing:i}),f=rhe(a);return $.jsx(ihe,ee({className:st(f.root,o),ownerState:a,ref:n},s))}),u7=ohe;function ahe(e){return nn("MuiCardContent",e)}Qt("MuiCardContent",["root"]);const she=["className","component"],lhe=e=>{const{classes:t}=e;return rn({root:["root"]},ahe,t)},che=ht("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),uhe=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiCardContent"}),{className:i,component:o="div"}=r,s=gt(r,she),a=ee({},r,{component:o}),f=lhe(a);return $.jsx(che,ee({as:o,className:st(f.root,i),ownerState:a,ref:n},s))}),vR=uhe;function dhe(e){return nn("MuiCardMedia",e)}Qt("MuiCardMedia",["root","media","img"]);const fhe=["children","className","component","image","src","style"],hhe=e=>{const{classes:t,isMediaComponent:n,isImageComponent:r}=e;return rn({root:["root",n&&"media",r&&"img"]},dhe,t)},phe=ht("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{isMediaComponent:r,isImageComponent:i}=n;return[t.root,r&&t.media,i&&t.img]}})(({ownerState:e})=>ee({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),mhe=["video","audio","picture","iframe","img"],ghe=["picture","img"],yhe=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiCardMedia"}),{children:i,className:o,component:s="div",image:a,src:f,style:h}=r,g=gt(r,fhe),y=mhe.indexOf(s)!==-1,b=!y&&a?ee({backgroundImage:`url("${a}")`},h):h,E=ee({},r,{component:s,isMediaComponent:y,isImageComponent:ghe.indexOf(s)!==-1}),T=hhe(E);return $.jsx(phe,ee({className:st(T.root,o),as:s,role:!y&&a?"img":void 0,ref:n,style:b,ownerState:E,src:y?a||f:void 0},g,{children:i}))}),vhe=yhe;function bhe(e){return nn("PrivateSwitchBase",e)}Qt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const xhe=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],_he=e=>{const{classes:t,checked:n,disabled:r,edge:i}=e,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${pt(i)}`],input:["input"]};return rn(o,bhe,t)},whe=ht(Cu)(({ownerState:e})=>ee({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),She=ht("input",{shouldForwardProp:Fa})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Che=U.forwardRef(function(t,n){const{autoFocus:r,checked:i,checkedIcon:o,className:s,defaultChecked:a,disabled:f,disableFocusRipple:h=!1,edge:g=!1,icon:y,id:b,inputProps:E,inputRef:T,name:w,onBlur:M,onChange:A,onFocus:O,readOnly:I,required:L=!1,tabIndex:R,type:D,value:F}=t,q=gt(t,xhe),[J,K]=zm({controlled:i,default:!!a,name:"SwitchBase",state:"checked"}),ne=ku(),le=Ee=>{O&&O(Ee),ne&&ne.onFocus&&ne.onFocus(Ee)},ye=Ee=>{M&&M(Ee),ne&&ne.onBlur&&ne.onBlur(Ee)},de=Ee=>{if(Ee.nativeEvent.defaultPrevented)return;const Re=Ee.target.checked;K(Re),A&&A(Ee,Re)};let se=f;ne&&typeof se>"u"&&(se=ne.disabled);const pe=D==="checkbox"||D==="radio",be=ee({},t,{checked:J,disabled:se,disableFocusRipple:h,edge:g}),ce=_he(be);return $.jsxs(whe,ee({component:"span",className:st(ce.root,s),centerRipple:!0,focusRipple:!h,disabled:se,tabIndex:null,role:void 0,onFocus:le,onBlur:ye,ownerState:be,ref:n},q,{children:[$.jsx(She,ee({autoFocus:r,checked:i,defaultChecked:a,className:ce.input,disabled:se,id:pe?b:void 0,name:w,onChange:de,readOnly:I,ref:T,required:L,ownerState:be,tabIndex:R,type:D},D==="checkbox"&&F===void 0?{}:{value:F},E)),J?o:y]}))}),khe=Che,The=Ese({createStyledComponent:ht("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${pt(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>on({props:e,name:"MuiContainer"})}),bR=The,Ehe=(e,t)=>ee({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),Phe=e=>ee({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),Ohe=(e,t=!1)=>{var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([s,a])=>{var f;r[e.getColorSchemeSelector(s).replace(/\s*&/,"")]={colorScheme:(f=a.palette)==null?void 0:f.mode}});let i=ee({html:Ehe(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:ee({margin:0},Phe(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const o=(n=e.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return o&&(i=[i,o]),i};function Mhe(e){const t=on({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return $.jsxs(U.Fragment,{children:[$.jsx(o7,{styles:i=>Ohe(i,r)}),n]})}function Ahe(e){return nn("MuiModal",e)}Qt("MuiModal",["root","hidden","backdrop"]);const Ihe=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],$he=e=>{const{open:t,exited:n,classes:r}=e;return rn({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},Ahe,r)},Rhe=ht("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>ee({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),Dhe=ht(afe,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),jhe=U.forwardRef(function(t,n){var r,i,o,s,a,f;const h=on({name:"MuiModal",props:t}),{BackdropComponent:g=Dhe,BackdropProps:y,className:b,closeAfterTransition:E=!1,children:T,container:w,component:M,components:A={},componentsProps:O={},disableAutoFocus:I=!1,disableEnforceFocus:L=!1,disableEscapeKeyDown:R=!1,disablePortal:D=!1,disableRestoreFocus:F=!1,disableScrollLock:q=!1,hideBackdrop:J=!1,keepMounted:K=!1,onBackdropClick:ne,open:le,slotProps:ye,slots:de}=h,se=gt(h,Ihe),pe=ee({},h,{closeAfterTransition:E,disableAutoFocus:I,disableEnforceFocus:L,disableEscapeKeyDown:R,disablePortal:D,disableRestoreFocus:F,disableScrollLock:q,hideBackdrop:J,keepMounted:K}),{getRootProps:be,getBackdropProps:ce,getTransitionProps:Ee,portalRef:Re,isTopModal:Xe,exited:Ae,hasTransition:Fe}=vde(ee({},pe,{rootRef:n})),qe=ee({},pe,{exited:Ae}),rt=$he(qe),Je={};if(T.props.tabIndex===void 0&&(Je.tabIndex="-1"),Fe){const{onEnter:Tt,onExited:Mt}=Ee();Je.onEnter=Tt,Je.onExited=Mt}const kt=(r=(i=de==null?void 0:de.root)!=null?i:A.Root)!=null?r:Rhe,bt=(o=(s=de==null?void 0:de.backdrop)!=null?s:A.Backdrop)!=null?o:g,Ye=(a=ye==null?void 0:ye.root)!=null?a:O.root,lt=(f=ye==null?void 0:ye.backdrop)!=null?f:O.backdrop,ct=za({elementType:kt,externalSlotProps:Ye,externalForwardedProps:se,getSlotProps:be,additionalProps:{ref:n,as:M},ownerState:qe,className:st(b,Ye==null?void 0:Ye.className,rt==null?void 0:rt.root,!qe.open&&qe.exited&&(rt==null?void 0:rt.hidden))}),He=za({elementType:bt,externalSlotProps:lt,additionalProps:y,getSlotProps:Tt=>ce(ee({},Tt,{onClick:Mt=>{ne&&ne(Mt),Tt!=null&&Tt.onClick&&Tt.onClick(Mt)}})),className:st(lt==null?void 0:lt.className,y==null?void 0:y.className,rt==null?void 0:rt.backdrop),ownerState:qe});return!K&&!le&&(!Fe||Ae)?null:$.jsx(r7,{ref:Re,container:w,disablePortal:D,children:$.jsxs(kt,ee({},ct,{children:[!J&&g?$.jsx(bt,ee({},He)):null,$.jsx(Gce,{disableEnforceFocus:L,disableAutoFocus:I,disableRestoreFocus:F,isEnabled:Xe,open:le,children:U.cloneElement(T,Je)})]}))})}),Lhe=jhe;function Nhe(e){return nn("MuiDivider",e)}const zhe=Qt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),P5=zhe,Bhe=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],Fhe=e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:f}=e;return rn({root:["root",t&&"absolute",f,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},Nhe,r)},Uhe=ht("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>ee({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:Ir(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>ee({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>ee({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`}}),({theme:e,ownerState:t})=>ee({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`}}),({ownerState:e})=>ee({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),Vhe=ht("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>ee({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),d7=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,component:a=o?"div":"hr",flexItem:f=!1,light:h=!1,orientation:g="horizontal",role:y=a!=="hr"?"separator":void 0,textAlign:b="center",variant:E="fullWidth"}=r,T=gt(r,Bhe),w=ee({},r,{absolute:i,component:a,flexItem:f,light:h,orientation:g,role:y,textAlign:b,variant:E}),M=Fhe(w);return $.jsx(Uhe,ee({as:a,className:st(M.root,s),role:y,ref:n,ownerState:w},T,{children:o?$.jsx(Vhe,{className:M.wrapper,ownerState:w,children:o}):null}))});d7.muiSkipListHighlight=!0;const Ym=d7,Whe=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],qhe=e=>{const{classes:t,disableUnderline:n}=e,i=rn({root:["root",!n&&"underline"],input:["input"]},Nde,t);return ee({},t,i)},Hhe=ht(OC,{shouldForwardProp:e=>Fa(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...EC(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var n;const r=e.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return ee({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o}},[`&.${Ef.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o},[`&.${Ef.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:a}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(n=(e.vars||e).palette[t.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ef.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ef.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ef.disabled}, .${Ef.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Ef.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&ee({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),Ghe=ht(MC,{name:"MuiFilledInput",slot:"Input",overridesResolver:PC})(({theme:e,ownerState:t})=>ee({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),f7=U.forwardRef(function(t,n){var r,i,o,s;const a=on({props:t,name:"MuiFilledInput"}),{components:f={},componentsProps:h,fullWidth:g=!1,inputComponent:y="input",multiline:b=!1,slotProps:E,slots:T={},type:w="text"}=a,M=gt(a,Whe),A=ee({},a,{fullWidth:g,inputComponent:y,multiline:b,type:w}),O=qhe(a),I={root:{ownerState:A},input:{ownerState:A}},L=E??h?Uo(I,E??h):I,R=(r=(i=T.root)!=null?i:f.Root)!=null?r:Hhe,D=(o=(s=T.input)!=null?s:f.Input)!=null?o:Ghe;return $.jsx(yR,ee({slots:{root:R,input:D},componentsProps:L,fullWidth:g,inputComponent:y,multiline:b,ref:n,type:w},M,{classes:O}))});f7.muiName="Input";const h7=f7;function Yhe(e){return nn("MuiFormControl",e)}Qt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Khe=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Zhe=e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root",n!=="none"&&`margin${pt(n)}`,r&&"fullWidth"]};return rn(i,Yhe,t)},Xhe=ht("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>ee({},t.root,t[`margin${pt(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>ee({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),Jhe=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:f=!1,error:h=!1,focused:g,fullWidth:y=!1,hiddenLabel:b=!1,margin:E="none",required:T=!1,size:w="medium",variant:M="outlined"}=r,A=gt(r,Khe),O=ee({},r,{color:s,component:a,disabled:f,error:h,fullWidth:y,hiddenLabel:b,margin:E,required:T,size:w,variant:M}),I=Zhe(O),[L,R]=U.useState(()=>{let ye=!1;return i&&U.Children.forEach(i,de=>{if(!J1(de,["Input","Select"]))return;const se=J1(de,["Select"])?de.props.input:de;se&&Ede(se.props)&&(ye=!0)}),ye}),[D,F]=U.useState(()=>{let ye=!1;return i&&U.Children.forEach(i,de=>{J1(de,["Input","Select"])&&(nS(de.props,!0)||nS(de.props.inputProps,!0))&&(ye=!0)}),ye}),[q,J]=U.useState(!1);f&&q&&J(!1);const K=g!==void 0&&!f?g:q;let ne;const le=U.useMemo(()=>({adornedStart:L,setAdornedStart:R,color:s,disabled:f,error:h,filled:D,focused:K,fullWidth:y,hiddenLabel:b,size:w,onBlur:()=>{J(!1)},onEmpty:()=>{F(!1)},onFilled:()=>{F(!0)},onFocus:()=>{J(!0)},registerEffect:ne,required:T,variant:M}),[L,s,f,h,D,K,y,b,ne,T,w,M]);return $.jsx(TC.Provider,{value:le,children:$.jsx(Xhe,ee({as:a,ownerState:O,className:st(I.root,o),ref:n},A,{children:i}))})}),ix=Jhe;function Qhe(e){return nn("MuiFormGroup",e)}Qt("MuiFormGroup",["root","row","error"]);const epe=["className","row"],tpe=e=>{const{classes:t,row:n,error:r}=e;return rn({root:["root",n&&"row",r&&"error"]},Qhe,t)},npe=ht("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})(({ownerState:e})=>ee({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),rpe=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiFormGroup"}),{className:i,row:o=!1}=r,s=gt(r,epe),a=ku(),f=kh({props:r,muiFormControl:a,states:["error"]}),h=ee({},r,{row:o,error:f.error}),g=tpe(h);return $.jsx(npe,ee({className:st(g.root,i),ownerState:h,ref:n},s))}),ipe=rpe;function ope(e){return nn("MuiFormHelperText",e)}const ape=Qt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),O5=ape;var M5;const spe=["children","className","component","disabled","error","filled","focused","margin","required","variant"],lpe=e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:f}=e,h={root:["root",i&&"disabled",o&&"error",r&&`size${pt(r)}`,n&&"contained",a&&"focused",s&&"filled",f&&"required"]};return rn(h,ope,t)},cpe=ht("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${pt(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(({theme:e,ownerState:t})=>ee({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${O5.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${O5.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),upe=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p"}=r,a=gt(r,spe),f=ku(),h=kh({props:r,muiFormControl:f,states:["variant","size","disabled","error","filled","focused","required"]}),g=ee({},r,{component:s,contained:h.variant==="filled"||h.variant==="outlined",variant:h.variant,size:h.size,disabled:h.disabled,error:h.error,filled:h.filled,focused:h.focused,required:h.required}),y=lpe(g);return $.jsx(cpe,ee({as:s,ownerState:g,className:st(y.root,o),ref:n},a,{children:i===" "?M5||(M5=$.jsx("span",{className:"notranslate",children:""})):i}))}),dpe=upe;function fpe(e){return nn("MuiFormLabel",e)}const hpe=Qt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),d0=hpe,ppe=["children","className","color","component","disabled","error","filled","focused","required"],mpe=e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=e,f={root:["root",`color${pt(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return rn(f,fpe,t)},gpe=ht("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>ee({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>ee({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${d0.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${d0.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${d0.error}`]:{color:(e.vars||e).palette.error.main}})),ype=ht("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${d0.error}`]:{color:(e.vars||e).palette.error.main}})),vpe=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiFormLabel"}),{children:i,className:o,component:s="label"}=r,a=gt(r,ppe),f=ku(),h=kh({props:r,muiFormControl:f,states:["color","required","focused","disabled","error","filled"]}),g=ee({},r,{color:h.color||"primary",component:s,disabled:h.disabled,error:h.error,filled:h.filled,focused:h.focused,required:h.required}),y=mpe(g);return $.jsxs(gpe,ee({as:s,ownerState:g,className:st(y.root,o),ref:n},a,{children:[i,h.required&&$.jsxs(ype,{ownerState:g,"aria-hidden":!0,className:y.asterisk,children:["","*"]})]}))}),bpe=vpe,xpe=U.createContext(),A5=xpe;function _pe(e){return nn("MuiGrid",e)}const wpe=[0,1,2,3,4,5,6,7,8,9,10],Spe=["column-reverse","column","row-reverse","row"],Cpe=["nowrap","wrap-reverse","wrap"],mv=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Q0=Qt("MuiGrid",["root","container","item","zeroMinWidth",...wpe.map(e=>`spacing-xs-${e}`),...Spe.map(e=>`direction-xs-${e}`),...Cpe.map(e=>`wrap-xs-${e}`),...mv.map(e=>`grid-xs-${e}`),...mv.map(e=>`grid-sm-${e}`),...mv.map(e=>`grid-md-${e}`),...mv.map(e=>`grid-lg-${e}`),...mv.map(e=>`grid-xl-${e}`)]),kpe=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function xm(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function Tpe({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((r,i)=>{let o={};if(t[i]&&(n=t[i]),!n)return r;if(n===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=uC({values:t.columns,breakpoints:e.breakpoints.values}),a=typeof s=="object"?s[i]:s;if(a==null)return r;const f=`${Math.round(n/a*1e8)/1e6}%`;let h={};if(t.container&&t.item&&t.columnSpacing!==0){const g=e.spacing(t.columnSpacing);if(g!=="0px"){const y=`calc(${f} + ${xm(g)})`;h={flexBasis:y,maxWidth:y}}}o=ee({flexBasis:f,flexGrow:0,maxWidth:f},h)}return e.breakpoints.values[i]===0?Object.assign(r,o):r[e.breakpoints.up(i)]=o,r},{})}function Epe({theme:e,ownerState:t}){const n=uC({values:t.direction,breakpoints:e.breakpoints.values});return Gs({theme:e},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Q0.item}`]={maxWidth:"none"}),i})}function p7({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(i=>{n===""&&t[i]!==0&&(n=i)});const r=Object.keys(e).sort((i,o)=>e[i]-e[o]);return r.slice(0,r.indexOf(n))}function Ppe({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let i={};if(n&&r!==0){const o=uC({values:r,breakpoints:e.breakpoints.values});let s;typeof o=="object"&&(s=p7({breakpoints:e.breakpoints.values,values:o})),i=Gs({theme:e},o,(a,f)=>{var h;const g=e.spacing(a);return g!=="0px"?{marginTop:`-${xm(g)}`,[`& > .${Q0.item}`]:{paddingTop:xm(g)}}:(h=s)!=null&&h.includes(f)?{}:{marginTop:0,[`& > .${Q0.item}`]:{paddingTop:0}}})}return i}function Ope({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let i={};if(n&&r!==0){const o=uC({values:r,breakpoints:e.breakpoints.values});let s;typeof o=="object"&&(s=p7({breakpoints:e.breakpoints.values,values:o})),i=Gs({theme:e},o,(a,f)=>{var h;const g=e.spacing(a);return g!=="0px"?{width:`calc(100% + ${xm(g)})`,marginLeft:`-${xm(g)}`,[`& > .${Q0.item}`]:{paddingLeft:xm(g)}}:(h=s)!=null&&h.includes(f)?{}:{width:"100%",marginLeft:0,[`& > .${Q0.item}`]:{paddingLeft:0}}})}return i}function Mpe(e,t,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(i=>{const o=e[i];Number(o)>0&&r.push(n[`spacing-${i}-${String(o)}`])}),r}const Ape=ht("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:f,breakpoints:h}=n;let g=[];r&&(g=Mpe(s,h,t));const y=[];return h.forEach(b=>{const E=n[b];E&&y.push(t[`grid-${b}-${String(E)}`])}),[t.root,r&&t.container,o&&t.item,f&&t.zeroMinWidth,...g,i!=="row"&&t[`direction-xs-${String(i)}`],a!=="wrap"&&t[`wrap-xs-${String(a)}`],...y]}})(({ownerState:e})=>ee({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),Epe,Ppe,Ope,Tpe);function Ipe(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(r=>{const i=e[r];if(Number(i)>0){const o=`spacing-${r}-${String(i)}`;n.push(o)}}),n}const $pe=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:f}=e;let h=[];n&&(h=Ipe(o,f));const g=[];f.forEach(b=>{const E=e[b];E&&g.push(`grid-${b}-${String(E)}`)});const y={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...h,r!=="row"&&`direction-xs-${String(r)}`,s!=="wrap"&&`wrap-xs-${String(s)}`,...g]};return rn(y,_pe,t)},Rpe=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiGrid"}),{breakpoints:i}=jl(),o=nR(r),{className:s,columns:a,columnSpacing:f,component:h="div",container:g=!1,direction:y="row",item:b=!1,rowSpacing:E,spacing:T=0,wrap:w="wrap",zeroMinWidth:M=!1}=o,A=gt(o,kpe),O=E||T,I=f||T,L=U.useContext(A5),R=g?a||12:L,D={},F=ee({},A);i.keys.forEach(K=>{A[K]!=null&&(D[K]=A[K],delete F[K])});const q=ee({},o,{columns:R,container:g,direction:y,item:b,rowSpacing:O,columnSpacing:I,wrap:w,zeroMinWidth:M,spacing:T},D,{breakpoints:i.keys}),J=$pe(q);return $.jsx(A5.Provider,{value:R,children:$.jsx(Ape,ee({ownerState:q,className:st(J.root,s),as:h,ref:n},F))})}),I5=Rpe,Dpe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function NM(e){return`scale(${e}, ${e**2})`}const jpe={entering:{opacity:1,transform:NM(1)},entered:{opacity:1,transform:"none"}},ZE=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),m7=U.forwardRef(function(t,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:f,onEntered:h,onEntering:g,onExit:y,onExited:b,onExiting:E,style:T,timeout:w="auto",TransitionComponent:M=aR}=t,A=gt(t,Dpe),O=U.useRef(),I=U.useRef(),L=jl(),R=U.useRef(null),D=mi(R,o.ref,n),F=se=>pe=>{if(se){const be=R.current;pe===void 0?se(be):se(be,pe)}},q=F(g),J=F((se,pe)=>{q9(se);const{duration:be,delay:ce,easing:Ee}=Um({style:T,timeout:w,easing:s},{mode:"enter"});let Re;w==="auto"?(Re=L.transitions.getAutoHeightDuration(se.clientHeight),I.current=Re):Re=be,se.style.transition=[L.transitions.create("opacity",{duration:Re,delay:ce}),L.transitions.create("transform",{duration:ZE?Re:Re*.666,delay:ce,easing:Ee})].join(","),f&&f(se,pe)}),K=F(h),ne=F(E),le=F(se=>{const{duration:pe,delay:be,easing:ce}=Um({style:T,timeout:w,easing:s},{mode:"exit"});let Ee;w==="auto"?(Ee=L.transitions.getAutoHeightDuration(se.clientHeight),I.current=Ee):Ee=pe,se.style.transition=[L.transitions.create("opacity",{duration:Ee,delay:be}),L.transitions.create("transform",{duration:ZE?Ee:Ee*.666,delay:ZE?be:be||Ee*.333,easing:ce})].join(","),se.style.opacity=0,se.style.transform=NM(.75),y&&y(se)}),ye=F(b),de=se=>{w==="auto"&&(O.current=setTimeout(se,I.current||0)),r&&r(R.current,se)};return U.useEffect(()=>()=>{clearTimeout(O.current)},[]),$.jsx(M,ee({appear:i,in:a,nodeRef:R,onEnter:J,onEntered:K,onEntering:q,onExit:le,onExited:ye,onExiting:ne,addEndListener:de,timeout:w==="auto"?null:w},A,{children:(se,pe)=>U.cloneElement(o,ee({style:ee({opacity:0,transform:NM(.75),visibility:se==="exited"&&!a?"hidden":void 0},jpe[se],T,o.props.style),ref:D},pe))}))});m7.muiSupportAuto=!0;const rS=m7,Lpe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Npe=e=>{const{classes:t,disableUnderline:n}=e,i=rn({root:["root",!n&&"underline"],input:["input"]},Rde,t);return ee({},t,i)},zpe=ht(OC,{shouldForwardProp:e=>Fa(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...EC(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),ee({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${pv.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${pv.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${pv.disabled}, .${pv.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${pv.disabled}:before`]:{borderBottomStyle:"dotted"}})}),Bpe=ht(MC,{name:"MuiInput",slot:"Input",overridesResolver:PC})({}),g7=U.forwardRef(function(t,n){var r,i,o,s;const a=on({props:t,name:"MuiInput"}),{disableUnderline:f,components:h={},componentsProps:g,fullWidth:y=!1,inputComponent:b="input",multiline:E=!1,slotProps:T,slots:w={},type:M="text"}=a,A=gt(a,Lpe),O=Npe(a),L={root:{ownerState:{disableUnderline:f}}},R=T??g?Uo(T??g,L):L,D=(r=(i=w.root)!=null?i:h.Root)!=null?r:zpe,F=(o=(s=w.input)!=null?s:h.Input)!=null?o:Bpe;return $.jsx(yR,ee({slots:{root:D,input:F},slotProps:R,fullWidth:y,inputComponent:b,multiline:E,ref:n,type:M},A,{classes:O}))});g7.muiName="Input";const y7=g7;function Fpe(e){return nn("MuiInputAdornment",e)}const Upe=Qt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),$5=Upe;var R5;const Vpe=["children","className","component","disablePointerEvents","disableTypography","position","variant"],Wpe=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${pt(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},qpe=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:s}=e,a={root:["root",n&&"disablePointerEvents",i&&`position${pt(i)}`,s,r&&"hiddenLabel",o&&`size${pt(o)}`]};return rn(a,Fpe,t)},Hpe=ht("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:Wpe})(({theme:e,ownerState:t})=>ee({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},t.variant==="filled"&&{[`&.${$5.positionStart}&:not(.${$5.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),Gpe=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiInputAdornment"}),{children:i,className:o,component:s="div",disablePointerEvents:a=!1,disableTypography:f=!1,position:h,variant:g}=r,y=gt(r,Vpe),b=ku()||{};let E=g;g&&b.variant,b&&!E&&(E=b.variant);const T=ee({},r,{hiddenLabel:b.hiddenLabel,size:b.size,disablePointerEvents:a,position:h,variant:E}),w=qpe(T);return $.jsx(TC.Provider,{value:null,children:$.jsx(Hpe,ee({as:s,ownerState:T,className:st(w.root,o),ref:n},y,{children:typeof i=="string"&&!f?$.jsx(tn,{color:"text.secondary",children:i}):$.jsxs(U.Fragment,{children:[h==="start"?R5||(R5=$.jsx("span",{className:"notranslate",children:""})):null,i]})}))})}),Ype=Gpe;function Kpe(e){return nn("MuiInputLabel",e)}Qt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Zpe=["disableAnimation","margin","shrink","variant","className"],Xpe=e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=e,f={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${pt(r)}`,s],asterisk:[a&&"asterisk"]},h=rn(f,Kpe,t);return ee({},t,h)},Jpe=ht(bpe,{shouldForwardProp:e=>Fa(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${d0.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(({theme:e,ownerState:t})=>ee({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&ee({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&ee({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&ee({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Qpe=U.forwardRef(function(t,n){const r=on({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,shrink:o,className:s}=r,a=gt(r,Zpe),f=ku();let h=o;typeof h>"u"&&f&&(h=f.filled||f.focused||f.adornedStart);const g=kh({props:r,muiFormControl:f,states:["size","variant","required","focused"]}),y=ee({},r,{disableAnimation:i,formControl:f,shrink:h,size:g.size,variant:g.variant,required:g.required,focused:g.focused}),b=Xpe(y);return $.jsx(Jpe,ee({"data-shrink":h,ownerState:y,ref:n,className:st(b.root,s)},a,{classes:b}))}),ox=Qpe;function eme(e){return nn("MuiLink",e)}const tme=Qt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),nme=tme,v7={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},rme=e=>v7[e]||e,ime=({theme:e,ownerState:t})=>{const n=rme(t.color),r=Fm(e,`palette.${n}`,!1)||t.color,i=Fm(e,`palette.${n}Channel`);return"vars"in e&&i?`rgba(${i} / 0.4)`:Ir(r,.4)},ome=ime,ame=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],sme=e=>{const{classes:t,component:n,focusVisible:r,underline:i}=e,o={root:["root",`underline${pt(i)}`,n==="button"&&"button",r&&"focusVisible"]};return rn(o,eme,t)},lme=ht(tn,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${pt(n.underline)}`],n.component==="button"&&t.button]}})(({theme:e,ownerState:t})=>ee({},t.underline==="none"&&{textDecoration:"none"},t.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},t.underline==="always"&&ee({textDecoration:"underline"},t.color!=="inherit"&&{textDecorationColor:ome({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),t.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${nme.focusVisible}`]:{outline:"auto"}})),cme=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiLink"}),{className:i,color:o="primary",component:s="a",onBlur:a,onFocus:f,TypographyClasses:h,underline:g="always",variant:y="inherit",sx:b}=r,E=gt(r,ame),{isFocusVisibleRef:T,onBlur:w,onFocus:M,ref:A}=oC(),[O,I]=U.useState(!1),L=mi(n,A),R=J=>{w(J),T.current===!1&&I(!1),a&&a(J)},D=J=>{M(J),T.current===!0&&I(!0),f&&f(J)},F=ee({},r,{color:o,component:s,focusVisible:O,underline:g,variant:y}),q=sme(F);return $.jsx(lme,ee({color:o,className:st(q.root,i),classes:h,component:s,onBlur:R,onFocus:D,ref:L,ownerState:F,variant:y,sx:[...Object.keys(v7).includes(o)?[]:[{color:o}],...Array.isArray(b)?b:[b]]},E))}),ume=cme,dme=U.createContext({}),bh=dme;function fme(e){return nn("MuiList",e)}Qt("MuiList",["root","padding","dense","subheader"]);const hme=["children","className","component","dense","disablePadding","subheader"],pme=e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return rn({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},fme,t)},mme=ht("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(({ownerState:e})=>ee({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),gme=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:f=!1,subheader:h}=r,g=gt(r,hme),y=U.useMemo(()=>({dense:a}),[a]),b=ee({},r,{component:s,dense:a,disablePadding:f}),E=pme(b);return $.jsx(bh.Provider,{value:y,children:$.jsxs(mme,ee({as:s,className:st(E.root,o),ref:n,ownerState:b},g,{children:[h,i]}))})}),yme=gme;function vme(e){return nn("MuiListItemButton",e)}const bme=Qt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),gv=bme,xme=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],_me=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]},wme=e=>{const{alignItems:t,classes:n,dense:r,disabled:i,disableGutters:o,divider:s,selected:a}=e,h=rn({root:["root",r&&"dense",!o&&"gutters",s&&"divider",i&&"disabled",t==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},vme,n);return ee({},n,h)},Sme=ht(Cu,{shouldForwardProp:e=>Fa(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:_me})(({theme:e,ownerState:t})=>ee({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${gv.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ir(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${gv.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ir(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${gv.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ir(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ir(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${gv.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${gv.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.alignItems==="flex-start"&&{alignItems:"flex-start"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.dense&&{paddingTop:4,paddingBottom:4})),Cme=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:s="div",children:a,dense:f=!1,disableGutters:h=!1,divider:g=!1,focusVisibleClassName:y,selected:b=!1,className:E}=r,T=gt(r,xme),w=U.useContext(bh),M=U.useMemo(()=>({dense:f||w.dense||!1,alignItems:i,disableGutters:h}),[i,w.dense,f,h]),A=U.useRef(null);ls(()=>{o&&A.current&&A.current.focus()},[o]);const O=ee({},r,{alignItems:i,dense:M.dense,disableGutters:h,divider:g,selected:b}),I=wme(O),L=mi(A,n);return $.jsx(bh.Provider,{value:M,children:$.jsx(Sme,ee({ref:L,href:T.href||T.to,component:(T.href||T.to)&&s==="div"?"button":s,focusVisibleClassName:st(I.focusVisible,y),ownerState:O,className:st(I.root,E)},T,{classes:I,children:a}))})}),kme=Cme;function Tme(e){return nn("MuiListItemAvatar",e)}Qt("MuiListItemAvatar",["root","alignItemsFlexStart"]);const Eme=["className"],Pme=e=>{const{alignItems:t,classes:n}=e;return rn({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},Tme,n)},Ome=ht("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({ownerState:e})=>ee({minWidth:56,flexShrink:0},e.alignItems==="flex-start"&&{marginTop:8})),Mme=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiListItemAvatar"}),{className:i}=r,o=gt(r,Eme),s=U.useContext(bh),a=ee({},r,{alignItems:s.alignItems}),f=Pme(a);return $.jsx(Ome,ee({className:st(f.root,i),ownerState:a,ref:n},o))}),Ame=Mme,Ime=Qt("MuiListItemIcon",["root","alignItemsFlexStart"]),D5=Ime;function $me(e){return nn("MuiListItemText",e)}const Rme=Qt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),iS=Rme,Dme=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],jme=e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:o}=e;return rn({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},$me,t)},Lme=ht("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${iS.primary}`]:t.primary},{[`& .${iS.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(({ownerState:e})=>ee({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),Nme=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:a=!1,primary:f,primaryTypographyProps:h,secondary:g,secondaryTypographyProps:y}=r,b=gt(r,Dme),{dense:E}=U.useContext(bh);let T=f??i,w=g;const M=ee({},r,{disableTypography:s,inset:a,primary:!!T,secondary:!!w,dense:E}),A=jme(M);return T!=null&&T.type!==tn&&!s&&(T=$.jsx(tn,ee({variant:E?"body2":"body1",className:A.primary,component:h!=null&&h.variant?void 0:"span",display:"block"},h,{children:T}))),w!=null&&w.type!==tn&&!s&&(w=$.jsx(tn,ee({variant:"body2",className:A.secondary,color:"text.secondary",display:"block"},y,{children:w}))),$.jsxs(Lme,ee({className:st(A.root,o),ownerState:M,ref:n},b,{children:[T,w]}))}),zme=Nme,Bme=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function XE(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function j5(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function b7(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.indexOf(t.keys.join(""))===0}function yv(e,t,n,r,i,o){let s=!1,a=i(e,t,t?n:!1);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const f=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!b7(a,o)||f)a=i(e,a,n);else return a.focus(),!0}return!1}const Fme=U.forwardRef(function(t,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:f=!1,disableListWrap:h=!1,onKeyDown:g,variant:y="selectedMenu"}=t,b=gt(t,Bme),E=U.useRef(null),T=U.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ls(()=>{i&&E.current.focus()},[i]),U.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(I,L)=>{const R=!E.current.style.width;if(I.clientHeight<E.current.clientHeight&&R){const D=`${m9(zi(I))}px`;E.current.style[L.direction==="rtl"?"paddingLeft":"paddingRight"]=D,E.current.style.width=`calc(100% + ${D})`}return E.current}}),[]);const w=I=>{const L=E.current,R=I.key,D=zi(L).activeElement;if(R==="ArrowDown")I.preventDefault(),yv(L,D,h,f,XE);else if(R==="ArrowUp")I.preventDefault(),yv(L,D,h,f,j5);else if(R==="Home")I.preventDefault(),yv(L,null,h,f,XE);else if(R==="End")I.preventDefault(),yv(L,null,h,f,j5);else if(R.length===1){const F=T.current,q=R.toLowerCase(),J=performance.now();F.keys.length>0&&(J-F.lastTime>500?(F.keys=[],F.repeating=!0,F.previousKeyMatched=!0):F.repeating&&q!==F.keys[0]&&(F.repeating=!1)),F.lastTime=J,F.keys.push(q);const K=D&&!F.repeating&&b7(D,F);F.previousKeyMatched&&(K||yv(L,D,!1,f,XE,F))?I.preventDefault():F.previousKeyMatched=!1}g&&g(I)},M=mi(E,n);let A=-1;U.Children.forEach(s,(I,L)=>{if(!U.isValidElement(I)){A===L&&(A+=1,A>=s.length&&(A=-1));return}I.props.disabled||(y==="selectedMenu"&&I.props.selected||A===-1)&&(A=L),A===L&&(I.props.disabled||I.props.muiSkipListHighlight||I.type.muiSkipListHighlight)&&(A+=1,A>=s.length&&(A=-1))});const O=U.Children.map(s,(I,L)=>{if(L===A){const R={};return o&&(R.autoFocus=!0),I.props.tabIndex===void 0&&y==="selectedMenu"&&(R.tabIndex=0),U.cloneElement(I,R)}return I});return $.jsx(yme,ee({role:"menu",ref:M,className:a,onKeyDown:w,tabIndex:i?0:-1},b,{children:O}))}),Ume=Fme;function Vme(e){return nn("MuiPopover",e)}Qt("MuiPopover",["root","paper"]);const Wme=["onEntering"],qme=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Hme=["slotProps"];function L5(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function N5(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function z5(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function JE(e){return typeof e=="function"?e():e}const Gme=e=>{const{classes:t}=e;return rn({root:["root"],paper:["paper"]},Vme,t)},Yme=ht(Lhe,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),x7=ht(Vo,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Kme=U.forwardRef(function(t,n){var r,i,o;const s=on({props:t,name:"MuiPopover"}),{action:a,anchorEl:f,anchorOrigin:h={vertical:"top",horizontal:"left"},anchorPosition:g,anchorReference:y="anchorEl",children:b,className:E,container:T,elevation:w=8,marginThreshold:M=16,open:A,PaperProps:O={},slots:I,slotProps:L,transformOrigin:R={vertical:"top",horizontal:"left"},TransitionComponent:D=rS,transitionDuration:F="auto",TransitionProps:{onEntering:q}={},disableScrollLock:J=!1}=s,K=gt(s.TransitionProps,Wme),ne=gt(s,qme),le=(r=L==null?void 0:L.paper)!=null?r:O,ye=U.useRef(),de=mi(ye,le.ref),se=ee({},s,{anchorOrigin:h,anchorReference:y,elevation:w,marginThreshold:M,externalPaperSlotProps:le,transformOrigin:R,TransitionComponent:D,transitionDuration:F,TransitionProps:K}),pe=Gme(se),be=U.useCallback(()=>{if(y==="anchorPosition")return g;const Tt=JE(f),qt=(Tt&&Tt.nodeType===1?Tt:zi(ye.current).body).getBoundingClientRect();return{top:qt.top+L5(qt,h.vertical),left:qt.left+N5(qt,h.horizontal)}},[f,h.horizontal,h.vertical,g,y]),ce=U.useCallback(Tt=>({vertical:L5(Tt,R.vertical),horizontal:N5(Tt,R.horizontal)}),[R.horizontal,R.vertical]),Ee=U.useCallback(Tt=>{const Mt={width:Tt.offsetWidth,height:Tt.offsetHeight},qt=ce(Mt);if(y==="none")return{top:null,left:null,transformOrigin:z5(qt)};const bn=be();let yn=bn.top-qt.vertical,vn=bn.left-qt.horizontal;const Kn=yn+Mt.height,Be=vn+Mt.width,ln=fc(JE(f)),wn=ln.innerHeight-M,an=ln.innerWidth-M;if(M!==null&&yn<M){const Rt=yn-M;yn-=Rt,qt.vertical+=Rt}else if(M!==null&&Kn>wn){const Rt=Kn-wn;yn-=Rt,qt.vertical+=Rt}if(M!==null&&vn<M){const Rt=vn-M;vn-=Rt,qt.horizontal+=Rt}else if(Be>an){const Rt=Be-an;vn-=Rt,qt.horizontal+=Rt}return{top:`${Math.round(yn)}px`,left:`${Math.round(vn)}px`,transformOrigin:z5(qt)}},[f,y,be,ce,M]),[Re,Xe]=U.useState(A),Ae=U.useCallback(()=>{const Tt=ye.current;if(!Tt)return;const Mt=Ee(Tt);Mt.top!==null&&(Tt.style.top=Mt.top),Mt.left!==null&&(Tt.style.left=Mt.left),Tt.style.transformOrigin=Mt.transformOrigin,Xe(!0)},[Ee]);U.useEffect(()=>(J&&window.addEventListener("scroll",Ae),()=>window.removeEventListener("scroll",Ae)),[f,J,Ae]);const Fe=(Tt,Mt)=>{q&&q(Tt,Mt),Ae()},qe=()=>{Xe(!1)};U.useEffect(()=>{A&&Ae()}),U.useImperativeHandle(a,()=>A?{updatePosition:()=>{Ae()}}:null,[A,Ae]),U.useEffect(()=>{if(!A)return;const Tt=Zb(()=>{Ae()}),Mt=fc(f);return Mt.addEventListener("resize",Tt),()=>{Tt.clear(),Mt.removeEventListener("resize",Tt)}},[f,A,Ae]);let rt=F;F==="auto"&&!D.muiSupportAuto&&(rt=void 0);const Je=T||(f?zi(JE(f)).body:void 0),kt=(i=I==null?void 0:I.root)!=null?i:Yme,bt=(o=I==null?void 0:I.paper)!=null?o:x7,Ye=za({elementType:bt,externalSlotProps:ee({},le,{style:Re?le.style:ee({},le.style,{opacity:0})}),additionalProps:{elevation:w,ref:de},ownerState:se,className:st(pe.paper,le==null?void 0:le.className)}),lt=za({elementType:kt,externalSlotProps:(L==null?void 0:L.root)||{},externalForwardedProps:ne,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:Je,open:A},ownerState:se,className:st(pe.root,E)}),{slotProps:ct}=lt,He=gt(lt,Hme);return $.jsx(kt,ee({},He,!Qw(kt)&&{slotProps:ct,disableScrollLock:J},{children:$.jsx(D,ee({appear:!0,in:A,onEntering:Fe,onExited:qe,timeout:rt},K,{children:$.jsx(bt,ee({},Ye,{children:b}))}))}))}),Zme=Kme;function Xme(e){return nn("MuiMenu",e)}Qt("MuiMenu",["root","paper","list"]);const Jme=["onEntering"],Qme=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],ege={vertical:"top",horizontal:"right"},tge={vertical:"top",horizontal:"left"},nge=e=>{const{classes:t}=e;return rn({root:["root"],paper:["paper"],list:["list"]},Xme,t)},rge=ht(Zme,{shouldForwardProp:e=>Fa(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ige=ht(x7,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),oge=ht(Ume,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),age=U.forwardRef(function(t,n){var r,i;const o=on({props:t,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:f,disableAutoFocusItem:h=!1,MenuListProps:g={},onClose:y,open:b,PaperProps:E={},PopoverClasses:T,transitionDuration:w="auto",TransitionProps:{onEntering:M}={},variant:A="selectedMenu",slots:O={},slotProps:I={}}=o,L=gt(o.TransitionProps,Jme),R=gt(o,Qme),D=jl(),F=D.direction==="rtl",q=ee({},o,{autoFocus:s,disableAutoFocusItem:h,MenuListProps:g,onEntering:M,PaperProps:E,transitionDuration:w,TransitionProps:L,variant:A}),J=nge(q),K=s&&!h&&b,ne=U.useRef(null),le=(Ee,Re)=>{ne.current&&ne.current.adjustStyleForScrollbar(Ee,D),M&&M(Ee,Re)},ye=Ee=>{Ee.key==="Tab"&&(Ee.preventDefault(),y&&y(Ee,"tabKeyDown"))};let de=-1;U.Children.map(a,(Ee,Re)=>{U.isValidElement(Ee)&&(Ee.props.disabled||(A==="selectedMenu"&&Ee.props.selected||de===-1)&&(de=Re))});const se=(r=O.paper)!=null?r:ige,pe=(i=I.paper)!=null?i:E,be=za({elementType:O.root,externalSlotProps:I.root,ownerState:q,className:[J.root,f]}),ce=za({elementType:se,externalSlotProps:pe,ownerState:q,className:J.paper});return $.jsx(rge,ee({onClose:y,anchorOrigin:{vertical:"bottom",horizontal:F?"right":"left"},transformOrigin:F?ege:tge,slots:{paper:se,root:O.root},slotProps:{root:be,paper:ce},open:b,ref:n,transitionDuration:w,TransitionProps:ee({onEntering:le},L),ownerState:q},R,{classes:T,children:$.jsx(oge,ee({onKeyDown:ye,actions:ne,autoFocus:s&&(de===-1||h),autoFocusItem:K,variant:A},g,{className:st(J.list,g.className),children:a}))}))}),_7=age;function sge(e){return nn("MuiMenuItem",e)}const lge=Qt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),vv=lge,cge=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],uge=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},dge=e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=e,f=rn({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},sge,s);return ee({},s,f)},fge=ht(Cu,{shouldForwardProp:e=>Fa(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:uge})(({theme:e,ownerState:t})=>ee({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${vv.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ir(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${vv.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ir(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${vv.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ir(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ir(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${vv.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${vv.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${P5.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${P5.inset}`]:{marginLeft:52},[`& .${iS.root}`]:{marginTop:0,marginBottom:0},[`& .${iS.inset}`]:{paddingLeft:36},[`& .${D5.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&ee({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${D5.root} svg`]:{fontSize:"1.25rem"}}))),hge=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:f=!1,focusVisibleClassName:h,role:g="menuitem",tabIndex:y,className:b}=r,E=gt(r,cge),T=U.useContext(bh),w=U.useMemo(()=>({dense:s||T.dense||!1,disableGutters:f}),[T.dense,s,f]),M=U.useRef(null);ls(()=>{i&&M.current&&M.current.focus()},[i]);const A=ee({},r,{dense:w.dense,divider:a,disableGutters:f}),O=dge(r),I=mi(M,n);let L;return r.disabled||(L=y!==void 0?y:-1),$.jsx(bh.Provider,{value:w,children:$.jsx(fge,ee({ref:I,role:g,tabIndex:L,component:o,focusVisibleClassName:st(O.focusVisible,h),className:st(O.root,b)},E,{ownerState:A,classes:O}))})}),Ls=hge;function pge(e){return nn("MuiNativeSelect",e)}const mge=Qt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),xR=mge,gge=["className","disabled","error","IconComponent","inputRef","variant"],yge=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${pt(n)}`,o&&"iconOpen",r&&"disabled"]};return rn(a,pge,t)},w7=({ownerState:e,theme:t})=>ee({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":ee({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${xR.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),vge=ht("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Fa,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${xR.multiple}`]:t.multiple}]}})(w7),S7=({ownerState:e,theme:t})=>ee({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${xR.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),bge=ht("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${pt(n.variant)}`],n.open&&t.iconOpen]}})(S7),xge=U.forwardRef(function(t,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:f="standard"}=t,h=gt(t,gge),g=ee({},t,{disabled:i,variant:f,error:o}),y=yge(g);return $.jsxs(U.Fragment,{children:[$.jsx(vge,ee({ownerState:g,className:st(y.select,r),disabled:i,ref:a||n},h)),t.multiple?null:$.jsx(bge,{as:s,ownerState:g,className:y.icon})]})}),_ge=xge;var B5;const wge=["children","classes","className","label","notched"],Sge=ht("fieldset",{shouldForwardProp:Fa})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Cge=ht("legend",{shouldForwardProp:Fa})(({ownerState:e,theme:t})=>ee({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&ee({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function kge(e){const{className:t,label:n,notched:r}=e,i=gt(e,wge),o=n!=null&&n!=="",s=ee({},e,{notched:r,withLabel:o});return $.jsx(Sge,ee({"aria-hidden":!0,className:t,ownerState:s},i,{children:$.jsx(Cge,{ownerState:s,children:o?$.jsx("span",{children:n}):B5||(B5=$.jsx("span",{className:"notranslate",children:""}))})}))}const Tge=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Ege=e=>{const{classes:t}=e,r=rn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},jde,t);return ee({},t,r)},Pge=ht(OC,{shouldForwardProp:e=>Fa(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:EC})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return ee({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${ed.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${ed.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${ed.focused} .${ed.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${ed.error} .${ed.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${ed.disabled} .${ed.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&ee({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),Oge=ht(kge,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),Mge=ht(MC,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:PC})(({theme:e,ownerState:t})=>ee({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),C7=U.forwardRef(function(t,n){var r,i,o,s,a;const f=on({props:t,name:"MuiOutlinedInput"}),{components:h={},fullWidth:g=!1,inputComponent:y="input",label:b,multiline:E=!1,notched:T,slots:w={},type:M="text"}=f,A=gt(f,Tge),O=Ege(f),I=ku(),L=kh({props:f,muiFormControl:I,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),R=ee({},f,{color:L.color||"primary",disabled:L.disabled,error:L.error,focused:L.focused,formControl:I,fullWidth:g,hiddenLabel:L.hiddenLabel,multiline:E,size:L.size,type:M}),D=(r=(i=w.root)!=null?i:h.Root)!=null?r:Pge,F=(o=(s=w.input)!=null?s:h.Input)!=null?o:Mge;return $.jsx(yR,ee({slots:{root:D,input:F},renderSuffix:q=>$.jsx(Oge,{ownerState:R,className:O.notchedOutline,label:b!=null&&b!==""&&L.required?a||(a=$.jsxs(U.Fragment,{children:[b,"","*"]})):b,notched:typeof T<"u"?T:!!(q.startAdornment||q.filled||q.focused)}),fullWidth:g,inputComponent:y,multiline:E,ref:n,type:M},A,{classes:ee({},O,{notchedOutline:null})}))});C7.muiName="Input";const _R=C7;function Age(e){return nn("MuiSelect",e)}const Ige=Qt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),bv=Ige;var F5;const $ge=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Rge=ht("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${bv.select}`]:t.select},{[`&.${bv.select}`]:t[n.variant]},{[`&.${bv.error}`]:t.error},{[`&.${bv.multiple}`]:t.multiple}]}})(w7,{[`&.${bv.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Dge=ht("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${pt(n.variant)}`],n.open&&t.iconOpen]}})(S7),jge=ht("input",{shouldForwardProp:e=>Qse(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function U5(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function Lge(e){return e==null||typeof e=="string"&&!e.trim()}const Nge=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${pt(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return rn(a,Age,t)},zge=U.forwardRef(function(t,n){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:s,autoWidth:a,children:f,className:h,defaultOpen:g,defaultValue:y,disabled:b,displayEmpty:E,error:T=!1,IconComponent:w,inputRef:M,labelId:A,MenuProps:O={},multiple:I,name:L,onBlur:R,onChange:D,onClose:F,onFocus:q,onOpen:J,open:K,readOnly:ne,renderValue:le,SelectDisplayProps:ye={},tabIndex:de,value:se,variant:pe="standard"}=t,be=gt(t,$ge),[ce,Ee]=zm({controlled:se,default:y,name:"Select"}),[Re,Xe]=zm({controlled:K,default:g,name:"Select"}),Ae=U.useRef(null),Fe=U.useRef(null),[qe,rt]=U.useState(null),{current:Je}=U.useRef(K!=null),[kt,bt]=U.useState(),Ye=mi(n,M),lt=U.useCallback(Vt=>{Fe.current=Vt,Vt&&rt(Vt)},[]),ct=qe==null?void 0:qe.parentNode;U.useImperativeHandle(Ye,()=>({focus:()=>{Fe.current.focus()},node:Ae.current,value:ce}),[ce]),U.useEffect(()=>{g&&Re&&qe&&!Je&&(bt(a?null:ct.clientWidth),Fe.current.focus())},[qe,a]),U.useEffect(()=>{s&&Fe.current.focus()},[s]),U.useEffect(()=>{if(!A)return;const Vt=zi(Fe.current).getElementById(A);if(Vt){const fn=()=>{getSelection().isCollapsed&&Fe.current.focus()};return Vt.addEventListener("click",fn),()=>{Vt.removeEventListener("click",fn)}}},[A]);const He=(Vt,fn)=>{Vt?J&&J(fn):F&&F(fn),Je||(bt(a?null:ct.clientWidth),Xe(Vt))},Tt=Vt=>{Vt.button===0&&(Vt.preventDefault(),Fe.current.focus(),He(!0,Vt))},Mt=Vt=>{He(!1,Vt)},qt=U.Children.toArray(f),bn=Vt=>{const fn=qt.find(xt=>xt.props.value===Vt.target.value);fn!==void 0&&(Ee(fn.props.value),D&&D(Vt,fn))},yn=Vt=>fn=>{let xt;if(fn.currentTarget.hasAttribute("tabindex")){if(I){xt=Array.isArray(ce)?ce.slice():[];const zt=ce.indexOf(Vt.props.value);zt===-1?xt.push(Vt.props.value):xt.splice(zt,1)}else xt=Vt.props.value;if(Vt.props.onClick&&Vt.props.onClick(fn),ce!==xt&&(Ee(xt),D)){const zt=fn.nativeEvent||fn,et=new zt.constructor(zt.type,zt);Object.defineProperty(et,"target",{writable:!0,value:{value:xt,name:L}}),D(et,Vt)}I||He(!1,fn)}},vn=Vt=>{ne||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Vt.key)!==-1&&(Vt.preventDefault(),He(!0,Vt))},Kn=qe!==null&&Re,Be=Vt=>{!Kn&&R&&(Object.defineProperty(Vt,"target",{writable:!0,value:{value:ce,name:L}}),R(Vt))};delete be["aria-invalid"];let ln,wn;const an=[];let Rt=!1;(nS({value:ce})||E)&&(le?ln=le(ce):Rt=!0);const Un=qt.map(Vt=>{if(!U.isValidElement(Vt))return null;let fn;if(I){if(!Array.isArray(ce))throw new Error(Vd(2));fn=ce.some(xt=>U5(xt,Vt.props.value)),fn&&Rt&&an.push(Vt.props.children)}else fn=U5(ce,Vt.props.value),fn&&Rt&&(wn=Vt.props.children);return U.cloneElement(Vt,{"aria-selected":fn?"true":"false",onClick:yn(Vt),onKeyUp:xt=>{xt.key===" "&&xt.preventDefault(),Vt.props.onKeyUp&&Vt.props.onKeyUp(xt)},role:"option",selected:fn,value:void 0,"data-value":Vt.props.value})});Rt&&(I?an.length===0?ln=null:ln=an.reduce((Vt,fn,xt)=>(Vt.push(fn),xt<an.length-1&&Vt.push(", "),Vt),[]):ln=wn);let Qn=kt;!a&&Je&&qe&&(Qn=ct.clientWidth);let yr;typeof de<"u"?yr=de:yr=b?null:0;const Mn=ye.id||(L?`mui-component-select-${L}`:void 0),Zt=ee({},t,{variant:pe,value:ce,open:Kn,error:T}),er=Nge(Zt),Xr=ee({},O.PaperProps,(r=O.slotProps)==null?void 0:r.paper),dt=rC();return $.jsxs(U.Fragment,{children:[$.jsx(Rge,ee({ref:lt,tabIndex:yr,role:"combobox","aria-controls":dt,"aria-disabled":b?"true":void 0,"aria-expanded":Kn?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[A,Mn].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:vn,onMouseDown:b||ne?null:Tt,onBlur:Be,onFocus:q},ye,{ownerState:Zt,className:st(ye.className,er.select,h),id:Mn,children:Lge(ln)?F5||(F5=$.jsx("span",{className:"notranslate",children:""})):ln})),$.jsx(jge,ee({"aria-invalid":T,value:Array.isArray(ce)?ce.join(","):ce,name:L,ref:Ae,"aria-hidden":!0,onChange:bn,tabIndex:-1,disabled:b,className:er.nativeInput,autoFocus:s,ownerState:Zt},be)),$.jsx(Dge,{as:w,className:er.icon,ownerState:Zt}),$.jsx(_7,ee({id:`menu-${L||""}`,anchorEl:ct,open:Kn,onClose:Mt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},O,{MenuListProps:ee({"aria-labelledby":A,role:"listbox","aria-multiselectable":I?"true":void 0,disableListWrap:!0,id:dt},O.MenuListProps),slotProps:ee({},O.slotProps,{paper:ee({},Xr,{style:ee({minWidth:Qn},Xr!=null?Xr.style:null)})}),children:Un}))]})}),Bge=zge,Fge=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Uge=["root"],Vge=e=>{const{classes:t}=e;return t},wR={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Fa(e)&&e!=="variant",slot:"Root"},Wge=ht(y7,wR)(""),qge=ht(_R,wR)(""),Hge=ht(h7,wR)(""),k7=U.forwardRef(function(t,n){const r=on({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:f=!1,displayEmpty:h=!1,IconComponent:g=Bde,id:y,input:b,inputProps:E,label:T,labelId:w,MenuProps:M,multiple:A=!1,native:O=!1,onClose:I,onOpen:L,open:R,renderValue:D,SelectDisplayProps:F,variant:q="outlined"}=r,J=gt(r,Fge),K=O?_ge:Bge,ne=ku(),le=kh({props:r,muiFormControl:ne,states:["variant","error"]}),ye=le.variant||q,de=ee({},r,{variant:ye,classes:s}),se=Vge(de),pe=gt(se,Uge),be=b||{standard:$.jsx(Wge,{ownerState:de}),outlined:$.jsx(qge,{label:T,ownerState:de}),filled:$.jsx(Hge,{ownerState:de})}[ye],ce=mi(n,be.ref);return $.jsx(U.Fragment,{children:U.cloneElement(be,ee({inputComponent:K,inputProps:ee({children:o,error:le.error,IconComponent:g,variant:ye,type:void 0,multiple:A},O?{id:y}:{autoWidth:i,defaultOpen:f,displayEmpty:h,labelId:w,MenuProps:M,onClose:I,onOpen:L,open:R,renderValue:D,SelectDisplayProps:ee({id:y},F)},E,{classes:E?Uo(pe,E.classes):pe},b?b.props.inputProps:{})},A&&O&&ye==="outlined"?{notched:!0}:{},{ref:ce,className:st(be.props.className,a,se.root)},!b&&{variant:ye},J))})});k7.muiName="Select";const ax=k7;function Gge(e){return nn("MuiSnackbarContent",e)}Qt("MuiSnackbarContent",["root","message","action"]);const Yge=["action","className","message","role"],Kge=e=>{const{classes:t}=e;return rn({root:["root"],action:["action"],message:["message"]},Gge,t)},Zge=ht(Vo,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,n=gse(e.palette.background.default,t);return ee({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(n),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),Xge=ht("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),Jge=ht("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Qge=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiSnackbarContent"}),{action:i,className:o,message:s,role:a="alert"}=r,f=gt(r,Yge),h=r,g=Kge(h);return $.jsxs(Zge,ee({role:a,square:!0,elevation:6,className:st(g.root,o),ownerState:h,ref:n},f,{children:[$.jsx(Xge,{className:g.message,ownerState:h,children:s}),i?$.jsx(Jge,{className:g.action,ownerState:h,children:i}):null]}))}),eye=Qge;function tye(e){return nn("MuiSnackbar",e)}Qt("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const nye=["onEnter","onExited"],rye=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],iye=e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${pt(n.vertical)}${pt(n.horizontal)}`]};return rn(r,tye,t)},V5=ht("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${pt(n.anchorOrigin.vertical)}${pt(n.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return ee({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:ee({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&n,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),oye=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiSnackbar"}),i=jl(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:s,anchorOrigin:{vertical:a,horizontal:f}={vertical:"bottom",horizontal:"left"},autoHideDuration:h=null,children:g,className:y,ClickAwayListenerProps:b,ContentProps:E,disableWindowBlurListener:T=!1,message:w,open:M,TransitionComponent:A=rS,transitionDuration:O=o,TransitionProps:{onEnter:I,onExited:L}={}}=r,R=gt(r.TransitionProps,nye),D=gt(r,rye),F=ee({},r,{anchorOrigin:{vertical:a,horizontal:f},autoHideDuration:h,disableWindowBlurListener:T,TransitionComponent:A,transitionDuration:O}),q=iye(F),{getRootProps:J,onClickAway:K}=bde(ee({},F)),[ne,le]=U.useState(!0),ye=za({elementType:V5,getSlotProps:J,externalForwardedProps:D,ownerState:F,additionalProps:{ref:n},className:[q.root,y]}),de=pe=>{le(!0),L&&L(pe)},se=(pe,be)=>{le(!1),I&&I(pe,be)};return!M&&ne?null:$.jsx(Bce,ee({onClickAway:K},b,{children:$.jsx(V5,ee({},ye,{children:$.jsx(A,ee({appear:!0,in:M,timeout:O,direction:a==="top"?"down":"up",onEnter:se,onExited:de},R,{children:g||$.jsx(eye,ee({message:w,action:s},E))}))}))}))}),aye=oye;function sye(e){return nn("MuiTooltip",e)}const lye=Qt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),bd=lye,cye=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function uye(e){return Math.round(e*1e5)/1e5}const dye=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:o}=e,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${pt(o.split("-")[0])}`],arrow:["arrow"]};return rn(s,sye,t)},fye=ht(i7,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(({theme:e,ownerState:t,open:n})=>ee({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${bd.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${bd.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${bd.arrow}`]:ee({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${bd.arrow}`]:ee({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),hye=ht("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${pt(n.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>ee({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Ir(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${uye(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${bd.popper}[data-popper-placement*="left"] &`]:ee({transformOrigin:"right center"},t.isRtl?ee({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):ee({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${bd.popper}[data-popper-placement*="right"] &`]:ee({transformOrigin:"left center"},t.isRtl?ee({marginRight:"14px"},t.touch&&{marginRight:"24px"}):ee({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${bd.popper}[data-popper-placement*="top"] &`]:ee({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${bd.popper}[data-popper-placement*="bottom"] &`]:ee({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),pye=ht("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Ir(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let d1=!1,QE=null,xv={x:0,y:0};function f1(e,t){return n=>{t&&t(n),e(n)}}const mye=U.forwardRef(function(t,n){var r,i,o,s,a,f,h,g,y,b,E,T,w,M,A,O,I,L,R;const D=on({props:t,name:"MuiTooltip"}),{arrow:F=!1,children:q,components:J={},componentsProps:K={},describeChild:ne=!1,disableFocusListener:le=!1,disableHoverListener:ye=!1,disableInteractive:de=!1,disableTouchListener:se=!1,enterDelay:pe=100,enterNextDelay:be=0,enterTouchDelay:ce=700,followCursor:Ee=!1,id:Re,leaveDelay:Xe=0,leaveTouchDelay:Ae=1500,onClose:Fe,onOpen:qe,open:rt,placement:Je="bottom",PopperComponent:kt,PopperProps:bt={},slotProps:Ye={},slots:lt={},title:ct,TransitionComponent:He=rS,TransitionProps:Tt}=D,Mt=gt(D,cye),qt=U.isValidElement(q)?q:$.jsx("span",{children:q}),bn=jl(),yn=bn.direction==="rtl",[vn,Kn]=U.useState(),[Be,ln]=U.useState(null),wn=U.useRef(!1),an=de||Ee,Rt=U.useRef(),Un=U.useRef(),Qn=U.useRef(),yr=U.useRef(),[Mn,Zt]=zm({controlled:rt,default:!1,name:"Tooltip",state:"open"});let er=Mn;const Xr=rC(Re),dt=U.useRef(),Vt=U.useCallback(()=>{dt.current!==void 0&&(document.body.style.WebkitUserSelect=dt.current,dt.current=void 0),clearTimeout(yr.current)},[]);U.useEffect(()=>()=>{clearTimeout(Rt.current),clearTimeout(Un.current),clearTimeout(Qn.current),Vt()},[Vt]);const fn=cn=>{clearTimeout(QE),d1=!0,Zt(!0),qe&&!er&&qe(cn)},xt=Aa(cn=>{clearTimeout(QE),QE=setTimeout(()=>{d1=!1},800+Xe),Zt(!1),Fe&&er&&Fe(cn),clearTimeout(Rt.current),Rt.current=setTimeout(()=>{wn.current=!1},bn.transitions.duration.shortest)}),zt=cn=>{wn.current&&cn.type!=="touchstart"||(vn&&vn.removeAttribute("title"),clearTimeout(Un.current),clearTimeout(Qn.current),pe||d1&&be?Un.current=setTimeout(()=>{fn(cn)},d1?be:pe):fn(cn))},et=cn=>{clearTimeout(Un.current),clearTimeout(Qn.current),Qn.current=setTimeout(()=>{xt(cn)},Xe)},{isFocusVisibleRef:At,onBlur:Lt,onFocus:Wn,ref:Fr}=oC(),[,hn]=U.useState(!1),si=cn=>{Lt(cn),At.current===!1&&(hn(!1),et(cn))},ve=cn=>{vn||Kn(cn.currentTarget),Wn(cn),At.current===!0&&(hn(!0),zt(cn))},Q=cn=>{wn.current=!0;const tr=qt.props;tr.onTouchStart&&tr.onTouchStart(cn)},re=zt,ue=et,_e=cn=>{Q(cn),clearTimeout(Qn.current),clearTimeout(Rt.current),Vt(),dt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",yr.current=setTimeout(()=>{document.body.style.WebkitUserSelect=dt.current,zt(cn)},ce)},Se=cn=>{qt.props.onTouchEnd&&qt.props.onTouchEnd(cn),Vt(),clearTimeout(Qn.current),Qn.current=setTimeout(()=>{xt(cn)},Ae)};U.useEffect(()=>{if(!er)return;function cn(tr){(tr.key==="Escape"||tr.key==="Esc")&&xt(tr)}return document.addEventListener("keydown",cn),()=>{document.removeEventListener("keydown",cn)}},[xt,er]);const Ne=mi(qt.ref,Fr,Kn,n);!ct&&ct!==0&&(er=!1);const Me=U.useRef(),ke=cn=>{const tr=qt.props;tr.onMouseMove&&tr.onMouseMove(cn),xv={x:cn.clientX,y:cn.clientY},Me.current&&Me.current.update()},$e={},Ze=typeof ct=="string";ne?($e.title=!er&&Ze&&!ye?ct:null,$e["aria-describedby"]=er?Xr:null):($e["aria-label"]=Ze?ct:null,$e["aria-labelledby"]=er&&!Ze?Xr:null);const Ke=ee({},$e,Mt,qt.props,{className:st(Mt.className,qt.props.className),onTouchStart:Q,ref:Ne},Ee?{onMouseMove:ke}:{}),Qe={};se||(Ke.onTouchStart=_e,Ke.onTouchEnd=Se),ye||(Ke.onMouseOver=f1(re,Ke.onMouseOver),Ke.onMouseLeave=f1(ue,Ke.onMouseLeave),an||(Qe.onMouseOver=re,Qe.onMouseLeave=ue)),le||(Ke.onFocus=f1(ve,Ke.onFocus),Ke.onBlur=f1(si,Ke.onBlur),an||(Qe.onFocus=ve,Qe.onBlur=si));const Xt=U.useMemo(()=>{var cn;let tr=[{name:"arrow",enabled:!!Be,options:{element:Be,padding:4}}];return(cn=bt.popperOptions)!=null&&cn.modifiers&&(tr=tr.concat(bt.popperOptions.modifiers)),ee({},bt.popperOptions,{modifiers:tr})},[Be,bt]),sn=ee({},D,{isRtl:yn,arrow:F,disableInteractive:an,placement:Je,PopperComponentProp:kt,touch:wn.current}),jt=dye(sn),Jt=(r=(i=lt.popper)!=null?i:J.Popper)!=null?r:fye,mn=(o=(s=(a=lt.transition)!=null?a:J.Transition)!=null?s:He)!=null?o:rS,Bn=(f=(h=lt.tooltip)!=null?h:J.Tooltip)!=null?f:hye,Zn=(g=(y=lt.arrow)!=null?y:J.Arrow)!=null?g:pye,Dn=qv(Jt,ee({},bt,(b=Ye.popper)!=null?b:K.popper,{className:st(jt.popper,bt==null?void 0:bt.className,(E=(T=Ye.popper)!=null?T:K.popper)==null?void 0:E.className)}),sn),An=qv(mn,ee({},Tt,(w=Ye.transition)!=null?w:K.transition),sn),ji=qv(Bn,ee({},(M=Ye.tooltip)!=null?M:K.tooltip,{className:st(jt.tooltip,(A=(O=Ye.tooltip)!=null?O:K.tooltip)==null?void 0:A.className)}),sn),ur=qv(Zn,ee({},(I=Ye.arrow)!=null?I:K.arrow,{className:st(jt.arrow,(L=(R=Ye.arrow)!=null?R:K.arrow)==null?void 0:L.className)}),sn);return $.jsxs(U.Fragment,{children:[U.cloneElement(qt,Ke),$.jsx(Jt,ee({as:kt??i7,placement:Je,anchorEl:Ee?{getBoundingClientRect:()=>({top:xv.y,left:xv.x,right:xv.x,bottom:xv.y,width:0,height:0})}:vn,popperRef:Me,open:vn?er:!1,id:Xr,transition:!0},Qe,Dn,{popperOptions:Xt,children:({TransitionProps:cn})=>$.jsx(mn,ee({timeout:bn.transitions.duration.shorter},cn,An,{children:$.jsxs(Bn,ee({},ji,{children:[ct,F?$.jsx(Zn,ee({},ur,{ref:ln})):null]}))}))}))]})}),Lp=mye;function gye(e){return nn("MuiSwitch",e)}const yye=Qt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),aa=yye,vye=["className","color","edge","size","sx"],bye=e=>{const{classes:t,edge:n,size:r,color:i,checked:o,disabled:s}=e,a={root:["root",n&&`edge${pt(n)}`,`size${pt(r)}`],switchBase:["switchBase",`color${pt(i)}`,o&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},f=rn(a,gye,t);return ee({},t,f)},xye=ht("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${pt(n.edge)}`],t[`size${pt(n.size)}`]]}})(({ownerState:e})=>ee({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},e.edge==="start"&&{marginLeft:-8},e.edge==="end"&&{marginRight:-8},e.size==="small"&&{width:40,height:24,padding:7,[`& .${aa.thumb}`]:{width:16,height:16},[`& .${aa.switchBase}`]:{padding:4,[`&.${aa.checked}`]:{transform:"translateX(16px)"}}})),_ye=ht(khe,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${aa.input}`]:t.input},n.color!=="default"&&t[`color${pt(n.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${aa.checked}`]:{transform:"translateX(20px)"},[`&.${aa.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${aa.checked} + .${aa.track}`]:{opacity:.5},[`&.${aa.disabled} + .${aa.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${aa.input}`]:{left:"-100%",width:"300%"}}),({theme:e,ownerState:t})=>ee({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ir(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${aa.checked}`]:{color:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ir(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${aa.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t.color}DisabledColor`]:`${e.palette.mode==="light"?wC(e.palette[t.color].main,.62):_C(e.palette[t.color].main,.55)}`}},[`&.${aa.checked} + .${aa.track}`]:{backgroundColor:(e.vars||e).palette[t.color].main}})),wye=ht("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),Sye=ht("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Cye=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiSwitch"}),{className:i,color:o="primary",edge:s=!1,size:a="medium",sx:f}=r,h=gt(r,vye),g=ee({},r,{color:o,edge:s,size:a}),y=bye(g),b=$.jsx(Sye,{className:y.thumb,ownerState:g});return $.jsxs(xye,{className:st(y.root,i),sx:f,ownerState:g,children:[$.jsx(_ye,ee({type:"checkbox",icon:b,checkedIcon:b,ref:n,ownerState:g},h,{classes:ee({},y,{root:y.switchBase})})),$.jsx(wye,{className:y.track,ownerState:g})]})}),kye=Cye;function Tye(e){return nn("MuiTab",e)}const Eye=Qt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),Pf=Eye,Pye=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],Oye=e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:i,icon:o,label:s,selected:a,disabled:f}=e,h={root:["root",o&&s&&"labelIcon",`textColor${pt(n)}`,r&&"fullWidth",i&&"wrapped",a&&"selected",f&&"disabled"],iconWrapper:["iconWrapper"]};return rn(h,Tye,t)},Mye=ht(Cu,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${pt(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped]}})(({theme:e,ownerState:t})=>ee({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${Pf.iconWrapper}`]:ee({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:e.spacing(1)},t.iconPosition==="end"&&{marginLeft:e.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${Pf.selected}`]:{opacity:1},[`&.${Pf.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(e.vars||e).palette.text.secondary,[`&.${Pf.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${Pf.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.textColor==="secondary"&&{color:(e.vars||e).palette.text.secondary,[`&.${Pf.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${Pf.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),Aye=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiTab"}),{className:i,disabled:o=!1,disableFocusRipple:s=!1,fullWidth:a,icon:f,iconPosition:h="top",indicator:g,label:y,onChange:b,onClick:E,onFocus:T,selected:w,selectionFollowsFocus:M,textColor:A="inherit",value:O,wrapped:I=!1}=r,L=gt(r,Pye),R=ee({},r,{disabled:o,disableFocusRipple:s,selected:w,icon:!!f,iconPosition:h,label:!!y,fullWidth:a,textColor:A,wrapped:I}),D=Oye(R),F=f&&y&&U.isValidElement(f)?U.cloneElement(f,{className:st(D.iconWrapper,f.props.className)}):f,q=K=>{!w&&b&&b(K,O),E&&E(K)},J=K=>{M&&!w&&b&&b(K,O),T&&T(K)};return $.jsxs(Mye,ee({focusRipple:!s,className:st(D.root,i),ref:n,role:"tab","aria-selected":w,disabled:o,onClick:q,onFocus:J,ownerState:R,tabIndex:w?0:-1},L,{children:[h==="top"||h==="start"?$.jsxs(U.Fragment,{children:[F,y]}):$.jsxs(U.Fragment,{children:[y,F]}),g]}))}),eP=Aye,Iye=U.createContext(),T7=Iye;function $ye(e){return nn("MuiTable",e)}Qt("MuiTable",["root","stickyHeader"]);const Rye=["className","component","padding","size","stickyHeader"],Dye=e=>{const{classes:t,stickyHeader:n}=e;return rn({root:["root",n&&"stickyHeader"]},$ye,t)},jye=ht("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>ee({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":ee({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),W5="table",Lye=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiTable"}),{className:i,component:o=W5,padding:s="normal",size:a="medium",stickyHeader:f=!1}=r,h=gt(r,Rye),g=ee({},r,{component:o,padding:s,size:a,stickyHeader:f}),y=Dye(g),b=U.useMemo(()=>({padding:s,size:a,stickyHeader:f}),[s,a,f]);return $.jsx(T7.Provider,{value:b,children:$.jsx(jye,ee({as:o,role:o===W5?null:"table",ref:n,className:st(y.root,i),ownerState:g},h))})}),SR=Lye,Nye=U.createContext(),AC=Nye;function zye(e){return nn("MuiTableBody",e)}Qt("MuiTableBody",["root"]);const Bye=["className","component"],Fye=e=>{const{classes:t}=e;return rn({root:["root"]},zye,t)},Uye=ht("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),Vye={variant:"body"},q5="tbody",Wye=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiTableBody"}),{className:i,component:o=q5}=r,s=gt(r,Bye),a=ee({},r,{component:o}),f=Fye(a);return $.jsx(AC.Provider,{value:Vye,children:$.jsx(Uye,ee({className:st(f.root,i),as:o,ref:n,role:o===q5?null:"rowgroup",ownerState:a},s))})}),CR=Wye;function qye(e){return nn("MuiTableCell",e)}const Hye=Qt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Gye=Hye,Yye=["align","className","component","padding","scope","size","sortDirection","variant"],Kye=e=>{const{classes:t,variant:n,align:r,padding:i,size:o,stickyHeader:s}=e,a={root:["root",n,s&&"stickyHeader",r!=="inherit"&&`align${pt(r)}`,i!=="normal"&&`padding${pt(i)}`,`size${pt(o)}`]};return rn(a,qye,t)},Zye=ht("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${pt(n.size)}`],n.padding!=="normal"&&t[`padding${pt(n.padding)}`],n.align!=="inherit"&&t[`align${pt(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>ee({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?wC(Ir(e.palette.divider,1),.88):_C(Ir(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${Gye.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),Xye=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiTableCell"}),{align:i="inherit",className:o,component:s,padding:a,scope:f,size:h,sortDirection:g,variant:y}=r,b=gt(r,Yye),E=U.useContext(T7),T=U.useContext(AC),w=T&&T.variant==="head";let M;s?M=s:M=w?"th":"td";let A=f;M==="td"?A=void 0:!A&&w&&(A="col");const O=y||T&&T.variant,I=ee({},r,{align:i,component:M,padding:a||(E&&E.padding?E.padding:"normal"),size:h||(E&&E.size?E.size:"medium"),sortDirection:g,stickyHeader:O==="head"&&E&&E.stickyHeader,variant:O}),L=Kye(I);let R=null;return g&&(R=g==="asc"?"ascending":"descending"),$.jsx(Zye,ee({as:M,ref:n,className:st(L.root,o),"aria-sort":R,scope:A,ownerState:I},b))}),Pa=Xye;function Jye(e){return nn("MuiTableHead",e)}Qt("MuiTableHead",["root"]);const Qye=["className","component"],eve=e=>{const{classes:t}=e;return rn({root:["root"]},Jye,t)},tve=ht("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),nve={variant:"head"},H5="thead",rve=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiTableHead"}),{className:i,component:o=H5}=r,s=gt(r,Qye),a=ee({},r,{component:o}),f=eve(a);return $.jsx(AC.Provider,{value:nve,children:$.jsx(tve,ee({as:o,className:st(f.root,i),ref:n,role:o===H5?null:"rowgroup",ownerState:a},s))})}),E7=rve;function ive(e){return nn("MuiToolbar",e)}Qt("MuiToolbar",["root","gutters","regular","dense"]);const ove=["className","component","disableGutters","variant"],ave=e=>{const{classes:t,disableGutters:n,variant:r}=e;return rn({root:["root",!n&&"gutters",r]},ive,t)},sve=ht("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(({theme:e,ownerState:t})=>ee({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},t.variant==="dense"&&{minHeight:48}),({theme:e,ownerState:t})=>t.variant==="regular"&&e.mixins.toolbar),lve=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:s=!1,variant:a="regular"}=r,f=gt(r,ove),h=ee({},r,{component:o,disableGutters:s,variant:a}),g=ave(h);return $.jsx(sve,ee({as:o,className:st(g.root,i),ref:n,ownerState:h},f))}),Tg=lve,cve=ex($.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),uve=ex($.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function dve(e){return nn("MuiTableRow",e)}const fve=Qt("MuiTableRow",["root","selected","hover","head","footer"]),G5=fve,hve=["className","component","hover","selected"],pve=e=>{const{classes:t,selected:n,hover:r,head:i,footer:o}=e;return rn({root:["root",n&&"selected",r&&"hover",i&&"head",o&&"footer"]},dve,t)},mve=ht("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${G5.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${G5.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ir(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ir(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),Y5="tr",gve=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiTableRow"}),{className:i,component:o=Y5,hover:s=!1,selected:a=!1}=r,f=gt(r,hve),h=U.useContext(AC),g=ee({},r,{component:o,hover:s,selected:a,head:h&&h.variant==="head",footer:h&&h.variant==="footer"}),y=pve(g);return $.jsx(mve,ee({as:o,ref:n,className:st(y.root,i),role:o===Y5?null:"row",ownerState:g},f))}),_m=gve;function yve(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function vve(e,t,n,r={},i=()=>{}){const{ease:o=yve,duration:s=300}=r;let a=null;const f=t[e];let h=!1;const g=()=>{h=!0},y=b=>{if(h){i(new Error("Animation cancelled"));return}a===null&&(a=b);const E=Math.min(1,(b-a)/s);if(t[e]=o(E)*(n-f)+f,E>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(y)};return f===n?(i(new Error("Element already at target position")),g):(requestAnimationFrame(y),g)}const bve=["onChange"],xve={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function _ve(e){const{onChange:t}=e,n=gt(e,bve),r=U.useRef(),i=U.useRef(null),o=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return ls(()=>{const s=Zb(()=>{const f=r.current;o(),f!==r.current&&t(r.current)}),a=fc(i.current);return a.addEventListener("resize",s),()=>{s.clear(),a.removeEventListener("resize",s)}},[t]),U.useEffect(()=>{o(),t(r.current)},[t]),$.jsx("div",ee({style:xve,ref:i},n))}function wve(e){return nn("MuiTabScrollButton",e)}const Sve=Qt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Cve=Sve,kve=["className","slots","slotProps","direction","orientation","disabled"],Tve=e=>{const{classes:t,orientation:n,disabled:r}=e;return rn({root:["root",n,r&&"disabled"]},wve,t)},Eve=ht(Cu,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})(({ownerState:e})=>ee({width:40,flexShrink:0,opacity:.8,[`&.${Cve.disabled}`]:{opacity:0}},e.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),Pve=U.forwardRef(function(t,n){var r,i;const o=on({props:t,name:"MuiTabScrollButton"}),{className:s,slots:a={},slotProps:f={},direction:h}=o,g=gt(o,kve),b=jl().direction==="rtl",E=ee({isRtl:b},o),T=Tve(E),w=(r=a.StartScrollButtonIcon)!=null?r:cve,M=(i=a.EndScrollButtonIcon)!=null?i:uve,A=za({elementType:w,externalSlotProps:f.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:E}),O=za({elementType:M,externalSlotProps:f.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:E});return $.jsx(Eve,ee({component:"div",className:st(T.root,s),ref:n,role:null,ownerState:E,tabIndex:null},g,{children:h==="left"?$.jsx(w,ee({},A)):$.jsx(M,ee({},O))}))}),Ove=Pve;function Mve(e){return nn("MuiTabs",e)}const Ave=Qt("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),tP=Ave,Ive=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],K5=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,Z5=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,h1=(e,t,n)=>{let r=!1,i=n(e,t);for(;i;){if(i===e.firstChild){if(r)return;r=!0}const o=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||o)i=n(e,i);else{i.focus();return}}},$ve=e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:s,scrollButtonsHideMobile:a,classes:f}=e;return rn({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},Mve,f)},Rve=ht("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${tP.scrollButtons}`]:t.scrollButtons},{[`& .${tP.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>ee({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${tP.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),Dve=ht("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})(({ownerState:e})=>ee({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),jve=ht("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})(({ownerState:e})=>ee({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),Lve=ht("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>ee({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},e.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},e.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),Nve=ht(_ve)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),X5={},zve=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiTabs"}),i=jl(),o=i.direction==="rtl",{"aria-label":s,"aria-labelledby":a,action:f,centered:h=!1,children:g,className:y,component:b="div",allowScrollButtonsMobile:E=!1,indicatorColor:T="primary",onChange:w,orientation:M="horizontal",ScrollButtonComponent:A=Ove,scrollButtons:O="auto",selectionFollowsFocus:I,slots:L={},slotProps:R={},TabIndicatorProps:D={},TabScrollButtonProps:F={},textColor:q="primary",value:J,variant:K="standard",visibleScrollbar:ne=!1}=r,le=gt(r,Ive),ye=K==="scrollable",de=M==="vertical",se=de?"scrollTop":"scrollLeft",pe=de?"top":"left",be=de?"bottom":"right",ce=de?"clientHeight":"clientWidth",Ee=de?"height":"width",Re=ee({},r,{component:b,allowScrollButtonsMobile:E,indicatorColor:T,orientation:M,vertical:de,scrollButtons:O,textColor:q,variant:K,visibleScrollbar:ne,fixed:!ye,hideScrollbar:ye&&!ne,scrollableX:ye&&!de,scrollableY:ye&&de,centered:h&&!ye,scrollButtonsHideMobile:!E}),Xe=$ve(Re),Ae=za({elementType:L.StartScrollButtonIcon,externalSlotProps:R.startScrollButtonIcon,ownerState:Re}),Fe=za({elementType:L.EndScrollButtonIcon,externalSlotProps:R.endScrollButtonIcon,ownerState:Re}),[qe,rt]=U.useState(!1),[Je,kt]=U.useState(X5),[bt,Ye]=U.useState(!1),[lt,ct]=U.useState(!1),[He,Tt]=U.useState(!1),[Mt,qt]=U.useState({overflow:"hidden",scrollbarWidth:0}),bn=new Map,yn=U.useRef(null),vn=U.useRef(null),Kn=()=>{const xt=yn.current;let zt;if(xt){const At=xt.getBoundingClientRect();zt={clientWidth:xt.clientWidth,scrollLeft:xt.scrollLeft,scrollTop:xt.scrollTop,scrollLeftNormalized:Yie(xt,i.direction),scrollWidth:xt.scrollWidth,top:At.top,bottom:At.bottom,left:At.left,right:At.right}}let et;if(xt&&J!==!1){const At=vn.current.children;if(At.length>0){const Lt=At[bn.get(J)];et=Lt?Lt.getBoundingClientRect():null}}return{tabsMeta:zt,tabMeta:et}},Be=Aa(()=>{const{tabsMeta:xt,tabMeta:zt}=Kn();let et=0,At;if(de)At="top",zt&&xt&&(et=zt.top-xt.top+xt.scrollTop);else if(At=o?"right":"left",zt&&xt){const Wn=o?xt.scrollLeftNormalized+xt.clientWidth-xt.scrollWidth:xt.scrollLeft;et=(o?-1:1)*(zt[At]-xt[At]+Wn)}const Lt={[At]:et,[Ee]:zt?zt[Ee]:0};if(isNaN(Je[At])||isNaN(Je[Ee]))kt(Lt);else{const Wn=Math.abs(Je[At]-Lt[At]),Fr=Math.abs(Je[Ee]-Lt[Ee]);(Wn>=1||Fr>=1)&&kt(Lt)}}),ln=(xt,{animation:zt=!0}={})=>{zt?vve(se,yn.current,xt,{duration:i.transitions.duration.standard}):yn.current[se]=xt},wn=xt=>{let zt=yn.current[se];de?zt+=xt:(zt+=xt*(o?-1:1),zt*=o&&g9()==="reverse"?-1:1),ln(zt)},an=()=>{const xt=yn.current[ce];let zt=0;const et=Array.from(vn.current.children);for(let At=0;At<et.length;At+=1){const Lt=et[At];if(zt+Lt[ce]>xt){At===0&&(zt=xt);break}zt+=Lt[ce]}return zt},Rt=()=>{wn(-1*an())},Un=()=>{wn(an())},Qn=U.useCallback(xt=>{qt({overflow:null,scrollbarWidth:xt})},[]),yr=()=>{const xt={};xt.scrollbarSizeListener=ye?$.jsx(Nve,{onChange:Qn,className:st(Xe.scrollableX,Xe.hideScrollbar)}):null;const et=ye&&(O==="auto"&&(bt||lt)||O===!0);return xt.scrollButtonStart=et?$.jsx(A,ee({slots:{StartScrollButtonIcon:L.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Ae},orientation:M,direction:o?"right":"left",onClick:Rt,disabled:!bt},F,{className:st(Xe.scrollButtons,F.className)})):null,xt.scrollButtonEnd=et?$.jsx(A,ee({slots:{EndScrollButtonIcon:L.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:Fe},orientation:M,direction:o?"left":"right",onClick:Un,disabled:!lt},F,{className:st(Xe.scrollButtons,F.className)})):null,xt},Mn=Aa(xt=>{const{tabsMeta:zt,tabMeta:et}=Kn();if(!(!et||!zt)){if(et[pe]<zt[pe]){const At=zt[se]+(et[pe]-zt[pe]);ln(At,{animation:xt})}else if(et[be]>zt[be]){const At=zt[se]+(et[be]-zt[be]);ln(At,{animation:xt})}}}),Zt=Aa(()=>{ye&&O!==!1&&Tt(!He)});U.useEffect(()=>{const xt=Zb(()=>{yn.current&&Be()});let zt;const et=Wn=>{Wn.forEach(Fr=>{Fr.removedNodes.forEach(hn=>{var si;(si=zt)==null||si.unobserve(hn)}),Fr.addedNodes.forEach(hn=>{var si;(si=zt)==null||si.observe(hn)})}),xt(),Zt()},At=fc(yn.current);At.addEventListener("resize",xt);let Lt;return typeof ResizeObserver<"u"&&(zt=new ResizeObserver(xt),Array.from(vn.current.children).forEach(Wn=>{zt.observe(Wn)})),typeof MutationObserver<"u"&&(Lt=new MutationObserver(et),Lt.observe(vn.current,{childList:!0})),()=>{var Wn,Fr;xt.clear(),At.removeEventListener("resize",xt),(Wn=Lt)==null||Wn.disconnect(),(Fr=zt)==null||Fr.disconnect()}},[Be,Zt]),U.useEffect(()=>{const xt=Array.from(vn.current.children),zt=xt.length;if(typeof IntersectionObserver<"u"&&zt>0&&ye&&O!==!1){const et=xt[0],At=xt[zt-1],Lt={root:yn.current,threshold:.99},Wn=ve=>{Ye(!ve[0].isIntersecting)},Fr=new IntersectionObserver(Wn,Lt);Fr.observe(et);const hn=ve=>{ct(!ve[0].isIntersecting)},si=new IntersectionObserver(hn,Lt);return si.observe(At),()=>{Fr.disconnect(),si.disconnect()}}},[ye,O,He,g==null?void 0:g.length]),U.useEffect(()=>{rt(!0)},[]),U.useEffect(()=>{Be()}),U.useEffect(()=>{Mn(X5!==Je)},[Mn,Je]),U.useImperativeHandle(f,()=>({updateIndicator:Be,updateScrollButtons:Zt}),[Be,Zt]);const er=$.jsx(Lve,ee({},D,{className:st(Xe.indicator,D.className),ownerState:Re,style:ee({},Je,D.style)}));let Xr=0;const dt=U.Children.map(g,xt=>{if(!U.isValidElement(xt))return null;const zt=xt.props.value===void 0?Xr:xt.props.value;bn.set(zt,Xr);const et=zt===J;return Xr+=1,U.cloneElement(xt,ee({fullWidth:K==="fullWidth",indicator:et&&!qe&&er,selected:et,selectionFollowsFocus:I,onChange:w,textColor:q,value:zt},Xr===1&&J===!1&&!xt.props.tabIndex?{tabIndex:0}:{}))}),Vt=xt=>{const zt=vn.current,et=zi(zt).activeElement;if(et.getAttribute("role")!=="tab")return;let Lt=M==="horizontal"?"ArrowLeft":"ArrowUp",Wn=M==="horizontal"?"ArrowRight":"ArrowDown";switch(M==="horizontal"&&o&&(Lt="ArrowRight",Wn="ArrowLeft"),xt.key){case Lt:xt.preventDefault(),h1(zt,et,Z5);break;case Wn:xt.preventDefault(),h1(zt,et,K5);break;case"Home":xt.preventDefault(),h1(zt,null,K5);break;case"End":xt.preventDefault(),h1(zt,null,Z5);break}},fn=yr();return $.jsxs(Rve,ee({className:st(Xe.root,y),ownerState:Re,ref:n,as:b},le,{children:[fn.scrollButtonStart,fn.scrollbarSizeListener,$.jsxs(Dve,{className:Xe.scroller,ownerState:Re,style:{overflow:Mt.overflow,[de?`margin${o?"Left":"Right"}`:"marginBottom"]:ne?void 0:-Mt.scrollbarWidth},ref:yn,children:[$.jsx(jve,{"aria-label":s,"aria-labelledby":a,"aria-orientation":M==="vertical"?"vertical":null,className:Xe.flexContainer,ownerState:Re,onKeyDown:Vt,ref:vn,role:"tablist",children:dt}),qe&&er]}),fn.scrollButtonEnd]}))}),Bve=zve;function Fve(e){return nn("MuiTextField",e)}Qt("MuiTextField",["root"]);const Uve=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Vve={standard:y7,filled:h7,outlined:_R},Wve=e=>{const{classes:t}=e;return rn({root:["root"]},Fve,t)},qve=ht(ix,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Hve=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:f="primary",defaultValue:h,disabled:g=!1,error:y=!1,FormHelperTextProps:b,fullWidth:E=!1,helperText:T,id:w,InputLabelProps:M,inputProps:A,InputProps:O,inputRef:I,label:L,maxRows:R,minRows:D,multiline:F=!1,name:q,onBlur:J,onChange:K,onFocus:ne,placeholder:le,required:ye=!1,rows:de,select:se=!1,SelectProps:pe,type:be,value:ce,variant:Ee="outlined"}=r,Re=gt(r,Uve),Xe=ee({},r,{autoFocus:o,color:f,disabled:g,error:y,fullWidth:E,multiline:F,required:ye,select:se,variant:Ee}),Ae=Wve(Xe),Fe={};Ee==="outlined"&&(M&&typeof M.shrink<"u"&&(Fe.notched=M.shrink),Fe.label=L),se&&((!pe||!pe.native)&&(Fe.id=void 0),Fe["aria-describedby"]=void 0);const qe=rC(w),rt=T&&qe?`${qe}-helper-text`:void 0,Je=L&&qe?`${qe}-label`:void 0,kt=Vve[Ee],bt=$.jsx(kt,ee({"aria-describedby":rt,autoComplete:i,autoFocus:o,defaultValue:h,fullWidth:E,multiline:F,name:q,rows:de,maxRows:R,minRows:D,type:be,value:ce,id:qe,inputRef:I,onBlur:J,onChange:K,onFocus:ne,placeholder:le,inputProps:A},Fe,O));return $.jsxs(qve,ee({className:st(Ae.root,a),disabled:g,error:y,fullWidth:E,ref:n,required:ye,color:f,variant:Ee,ownerState:Xe},Re,{children:[L!=null&&L!==""&&$.jsx(ox,ee({htmlFor:qe,id:Je},M,{children:L})),se?$.jsx(ax,ee({"aria-describedby":rt,id:qe,labelId:Je,value:ce,input:bt},pe,{children:s})):bt,T&&$.jsx(dpe,ee({id:rt},b,{children:T}))]}))}),ar=Hve,sx=(e,t)=>{const n=Ba(),r=U.useRef();U.useEffect(()=>(e().then(i=>r.current=i).catch(i=>n(s9.push(i.message))),()=>{const i=r.current;i&&i()}),[...t,n])},Gve=e=>{const t=Ba();return(...n)=>{e(...n).catch(r=>t(s9.push(r.message)))}};var J5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lx=(typeof window>"u"?"undefined":J5(window))==="object"&&(typeof document>"u"?"undefined":J5(document))==="object"&&document.nodeType===9;function Q5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,e9(r.key),r)}}function P7(e,t,n){return t&&Q5(e.prototype,t),n&&Q5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Yve={}.constructor;function zM(e){if(e==null||typeof e!="object")return e;if(Array.isArray(e))return e.map(zM);if(e.constructor!==Yve)return e;var t={};for(var n in e)t[n]=zM(e[n]);return t}function kR(e,t,n){e===void 0&&(e="unnamed");var r=n.jss,i=zM(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var eB=function(t,n){for(var r="",i=0;i<t.length&&t[i]!=="!important";i++)r&&(r+=n),r+=t[i];return r},rh=function(t){if(!Array.isArray(t))return t;var n="";if(Array.isArray(t[0]))for(var r=0;r<t.length&&t[r]!=="!important";r++)n&&(n+=", "),n+=eB(t[r]," ");else n=eB(t,", ");return t[t.length-1]==="!important"&&(n+=" !important"),n};function Eg(e){return e&&e.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function _v(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function eb(e,t,n){n===void 0&&(n={});var r="";if(!t)return r;var i=n,o=i.indent,s=o===void 0?0:o,a=t.fallbacks;n.format===!1&&(s=-1/0);var f=Eg(n),h=f.linebreak,g=f.space;if(e&&s++,a)if(Array.isArray(a))for(var y=0;y<a.length;y++){var b=a[y];for(var E in b){var T=b[E];T!=null&&(r&&(r+=h),r+=_v(E+":"+g+rh(T)+";",s))}}else for(var w in a){var M=a[w];M!=null&&(r&&(r+=h),r+=_v(w+":"+g+rh(M)+";",s))}for(var A in t){var O=t[A];O!=null&&A!=="fallbacks"&&(r&&(r+=h),r+=_v(A+":"+g+rh(O)+";",s))}return!r&&!n.allowEmpty||!e?r:(s--,r&&(r=""+h+r+h),_v(""+e+g+"{"+r,s)+_v("}",s))}var Kve=/([[\].#*$><+~=|^:(),"'`\s])/g,tB=typeof CSS<"u"&&CSS.escape,TR=function(e){return tB?tB(e):e.replace(Kve,"\\$1")},O7=function(){function e(n,r,i){this.type="style",this.isProcessed=!1;var o=i.sheet,s=i.Renderer;this.key=n,this.options=i,this.style=r,o?this.renderer=o.renderer:s&&(this.renderer=new s)}var t=e.prototype;return t.prop=function(r,i,o){if(i===void 0)return this.style[r];var s=o?o.force:!1;if(!s&&this.style[r]===i)return this;var a=i;(!o||o.process!==!1)&&(a=this.options.jss.plugins.onChangeValue(i,r,this));var f=a==null||a===!1,h=r in this.style;if(f&&!h&&!s)return this;var g=f&&h;if(g?delete this.style[r]:this.style[r]=a,this.renderable&&this.renderer)return g?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,a),this;var y=this.options.sheet;return y&&y.attached,this},e}(),BM=function(e){tx(t,e);function t(r,i,o){var s;s=e.call(this,r,i,o)||this;var a=o.selector,f=o.scoped,h=o.sheet,g=o.generateId;return a?s.selectorText=a:f!==!1&&(s.id=g(Z0(Z0(s)),h),s.selectorText="."+TR(s.id)),s}var n=t.prototype;return n.applyTo=function(i){var o=this.renderer;if(o){var s=this.toJSON();for(var a in s)o.setProperty(i,a,s[a])}return this},n.toJSON=function(){var i={};for(var o in this.style){var s=this.style[o];typeof s!="object"?i[o]=s:Array.isArray(s)&&(i[o]=rh(s))}return i},n.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,a=s?ee({},i,{allowEmpty:!0}):i;return eb(this.selectorText,this.style,a)},P7(t,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var o=this.renderer,s=this.renderable;if(!(!s||!o)){var a=o.setSelector(s,i);a||o.replaceRule(s,this)}}},get:function(){return this.selectorText}}]),t}(O7),Zve={onCreateRule:function(t,n,r){return t[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new BM(t,n,r)}},nP={indent:1,children:!0},Xve=/@([\w-]+)/,Jve=function(){function e(n,r,i){this.type="conditional",this.isProcessed=!1,this.key=n;var o=n.match(Xve);this.at=o?o[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new IC(ee({},i,{parent:this}));for(var s in r)this.rules.add(s,r[s]);this.rules.process()}var t=e.prototype;return t.getRule=function(r){return this.rules.get(r)},t.indexOf=function(r){return this.rules.indexOf(r)},t.addRule=function(r,i,o){var s=this.rules.add(r,i,o);return s?(this.options.jss.plugins.onProcessRule(s),s):null},t.replaceRule=function(r,i,o){var s=this.rules.replace(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.toString=function(r){r===void 0&&(r=nP);var i=Eg(r),o=i.linebreak;if(r.indent==null&&(r.indent=nP.indent),r.children==null&&(r.children=nP.children),r.children===!1)return this.query+" {}";var s=this.rules.toString(r);return s?this.query+" {"+o+s+o+"}":""},e}(),Qve=/@container|@media|@supports\s+/,e0e={onCreateRule:function(t,n,r){return Qve.test(t)?new Jve(t,n,r):null}},rP={indent:1,children:!0},t0e=/@keyframes\s+([\w-]+)/,FM=function(){function e(n,r,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var o=n.match(t0e);o&&o[1]?this.name=o[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var s=i.scoped,a=i.sheet,f=i.generateId;this.id=s===!1?this.name:TR(f(this,a)),this.rules=new IC(ee({},i,{parent:this}));for(var h in r)this.rules.add(h,r[h],ee({},i,{parent:this}));this.rules.process()}var t=e.prototype;return t.toString=function(r){r===void 0&&(r=rP);var i=Eg(r),o=i.linebreak;if(r.indent==null&&(r.indent=rP.indent),r.children==null&&(r.children=rP.children),r.children===!1)return this.at+" "+this.id+" {}";var s=this.rules.toString(r);return s&&(s=""+o+s+o),this.at+" "+this.id+" {"+s+"}"},e}(),n0e=/@keyframes\s+/,r0e=/\$([\w-]+)/g,UM=function(t,n){return typeof t=="string"?t.replace(r0e,function(r,i){return i in n?n[i]:r}):t},nB=function(t,n,r){var i=t[n],o=UM(i,r);o!==i&&(t[n]=o)},i0e={onCreateRule:function(t,n,r){return typeof t=="string"&&n0e.test(t)?new FM(t,n,r):null},onProcessStyle:function(t,n,r){return n.type!=="style"||!r||("animation-name"in t&&nB(t,"animation-name",r.keyframes),"animation"in t&&nB(t,"animation",r.keyframes)),t},onChangeValue:function(t,n,r){var i=r.options.sheet;if(!i)return t;switch(n){case"animation":return UM(t,i.keyframes);case"animation-name":return UM(t,i.keyframes);default:return t}}},o0e=function(e){tx(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,a=s?ee({},i,{allowEmpty:!0}):i;return eb(this.key,this.style,a)},t}(O7),a0e={onCreateRule:function(t,n,r){return r.parent&&r.parent.type==="keyframes"?new o0e(t,n,r):null}},s0e=function(){function e(n,r,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var t=e.prototype;return t.toString=function(r){var i=Eg(r),o=i.linebreak;if(Array.isArray(this.style)){for(var s="",a=0;a<this.style.length;a++)s+=eb(this.at,this.style[a]),this.style[a+1]&&(s+=o);return s}return eb(this.at,this.style,r)},e}(),l0e=/@font-face/,c0e={onCreateRule:function(t,n,r){return l0e.test(t)?new s0e(t,n,r):null}},u0e=function(){function e(n,r,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var t=e.prototype;return t.toString=function(r){return eb(this.key,this.style,r)},e}(),d0e={onCreateRule:function(t,n,r){return t==="@viewport"||t==="@-ms-viewport"?new u0e(t,n,r):null}},f0e=function(){function e(n,r,i){this.type="simple",this.isProcessed=!1,this.key=n,this.value=r,this.options=i}var t=e.prototype;return t.toString=function(r){if(Array.isArray(this.value)){for(var i="",o=0;o<this.value.length;o++)i+=this.key+" "+this.value[o]+";",this.value[o+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},e}(),h0e={"@charset":!0,"@import":!0,"@namespace":!0},p0e={onCreateRule:function(t,n,r){return t in h0e?new f0e(t,n,r):null}},rB=[Zve,e0e,i0e,a0e,c0e,d0e,p0e],m0e={process:!0},iB={force:!0,process:!0},IC=function(){function e(n){this.map={},this.raw={},this.index=[],this.counter=0,this.options=n,this.classes=n.classes,this.keyframes=n.keyframes}var t=e.prototype;return t.add=function(r,i,o){var s=this.options,a=s.parent,f=s.sheet,h=s.jss,g=s.Renderer,y=s.generateId,b=s.scoped,E=ee({classes:this.classes,parent:a,sheet:f,jss:h,Renderer:g,generateId:y,scoped:b,name:r,keyframes:this.keyframes,selector:void 0},o),T=r;r in this.raw&&(T=r+"-d"+this.counter++),this.raw[T]=i,T in this.classes&&(E.selector="."+TR(this.classes[T]));var w=kR(T,i,E);if(!w)return null;this.register(w);var M=E.index===void 0?this.index.length:E.index;return this.index.splice(M,0,w),w},t.replace=function(r,i,o){var s=this.get(r),a=this.index.indexOf(s);s&&this.remove(s);var f=o;return a!==-1&&(f=ee({},o,{index:a})),this.add(r,i,f)},t.get=function(r){return this.map[r]},t.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},t.indexOf=function(r){return this.index.indexOf(r)},t.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},t.register=function(r){this.map[r.key]=r,r instanceof BM?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof FM&&this.keyframes&&(this.keyframes[r.name]=r.id)},t.unregister=function(r){delete this.map[r.key],r instanceof BM?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof FM&&delete this.keyframes[r.name]},t.update=function(){var r,i,o;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],o=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),i,o);else for(var s=0;s<this.index.length;s++)this.updateOne(this.index[s],i,o)},t.updateOne=function(r,i,o){o===void 0&&(o=m0e);var s=this.options,a=s.jss.plugins,f=s.sheet;if(r.rules instanceof e){r.rules.update(i,o);return}var h=r.style;if(a.onUpdate(i,r,f,o),o.process&&h&&h!==r.style){a.onProcessStyle(r.style,r,f);for(var g in r.style){var y=r.style[g],b=h[g];y!==b&&r.prop(g,y,iB)}for(var E in h){var T=r.style[E],w=h[E];T==null&&T!==w&&r.prop(E,null,iB)}}},t.toString=function(r){for(var i="",o=this.options.sheet,s=o?o.options.link:!1,a=Eg(r),f=a.linebreak,h=0;h<this.index.length;h++){var g=this.index[h],y=g.toString(r);!y&&!s||(i&&(i+=f),i+=y)}return i},e}(),M7=function(){function e(n,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=ee({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new IC(this.options);for(var i in n)this.rules.add(i,n[i]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(r,i,o){var s=this.queue;this.attached&&!s&&(this.queue=[]);var a=this.rules.add(r,i,o);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&(s?s.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),a):(this.deployed=!1,a)):null},t.replaceRule=function(r,i,o){var s=this.rules.get(r);if(!s)return this.addRule(r,i,o);var a=this.rules.replace(r,i,o);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&this.renderer&&(a?s.renderable&&this.renderer.replaceRule(s.renderable,a):this.renderer.deleteRule(s)),a):(this.deployed=!1,a)},t.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},t.addRules=function(r,i){var o=[];for(var s in r){var a=this.addRule(s,r[s],i);a&&o.push(a)}return o},t.getRule=function(r){return this.rules.get(r)},t.deleteRule=function(r){var i=typeof r=="object"?r:this.rules.get(r);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},t.indexOf=function(r){return this.rules.indexOf(r)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},t.updateOne=function(r,i,o){return this.rules.updateOne(r,i,o),this},t.toString=function(r){return this.rules.toString(r)},e}(),g0e=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(r,i,o){for(var s=0;s<this.registry.onCreateRule.length;s++){var a=this.registry.onCreateRule[s](r,i,o);if(a)return a}return null},t.onProcessRule=function(r){if(!r.isProcessed){for(var i=r.options.sheet,o=0;o<this.registry.onProcessRule.length;o++)this.registry.onProcessRule[o](r,i);r.style&&this.onProcessStyle(r.style,r,i),r.isProcessed=!0}},t.onProcessStyle=function(r,i,o){for(var s=0;s<this.registry.onProcessStyle.length;s++)i.style=this.registry.onProcessStyle[s](i.style,i,o)},t.onProcessSheet=function(r){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](r)},t.onUpdate=function(r,i,o,s){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](r,i,o,s)},t.onChangeValue=function(r,i,o){for(var s=r,a=0;a<this.registry.onChangeValue.length;a++)s=this.registry.onChangeValue[a](s,i,o);return s},t.use=function(r,i){i===void 0&&(i={queue:"external"});var o=this.plugins[i.queue];o.indexOf(r)===-1&&(o.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(s,a){for(var f in a)f in s&&s[f].push(a[f]);return s},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),y0e=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(r){var i=this.registry,o=r.options.index;if(i.indexOf(r)===-1){if(i.length===0||o>=this.index){i.push(r);return}for(var s=0;s<i.length;s++)if(i[s].options.index>o){i.splice(s,0,r);return}}},t.reset=function(){this.registry=[]},t.remove=function(r){var i=this.registry.indexOf(r);this.registry.splice(i,1)},t.toString=function(r){for(var i=r===void 0?{}:r,o=i.attached,s=gt(i,["attached"]),a=Eg(s),f=a.linebreak,h="",g=0;g<this.registry.length;g++){var y=this.registry[g];o!=null&&y.attached!==o||(h&&(h+=f),h+=y.toString(s))}return h},P7(e,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),e}(),f0=new y0e,VM=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),WM="2f1acc6c3a606b082e5eef5e54414ffb";VM[WM]==null&&(VM[WM]=0);var oB=VM[WM]++,aB=function(t){t===void 0&&(t={});var n=0,r=function(o,s){n+=1;var a="",f="";return s&&(s.options.classNamePrefix&&(f=s.options.classNamePrefix),s.options.jss.id!=null&&(a=String(s.options.jss.id))),t.minify?""+(f||"c")+oB+a+n:f+o.key+"-"+oB+(a?"-"+a:"")+"-"+n};return r},A7=function(t){var n;return function(){return n||(n=t()),n}},v0e=function(t,n){try{return t.attributeStyleMap?t.attributeStyleMap.get(n):t.style.getPropertyValue(n)}catch{return""}},b0e=function(t,n,r){try{var i=r;if(Array.isArray(r)&&(i=rh(r)),t.attributeStyleMap)t.attributeStyleMap.set(n,i);else{var o=i?i.indexOf("!important"):-1,s=o>-1?i.substr(0,o-1):i;t.style.setProperty(n,s,o>-1?"important":"")}}catch{return!1}return!0},x0e=function(t,n){try{t.attributeStyleMap?t.attributeStyleMap.delete(n):t.style.removeProperty(n)}catch{}},_0e=function(t,n){return t.selectorText=n,t.selectorText===n},I7=A7(function(){return document.querySelector("head")});function w0e(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}function S0e(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}function C0e(e){for(var t=I7(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(r.nodeType===8&&r.nodeValue.trim()===e)return r}return null}function k0e(e){var t=f0.registry;if(t.length>0){var n=w0e(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=S0e(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&typeof r=="string"){var i=C0e(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function T0e(e,t){var n=t.insertionPoint,r=k0e(t);if(r!==!1&&r.parent){r.parent.insertBefore(e,r.node);return}if(n&&typeof n.nodeType=="number"){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling);return}I7().appendChild(e)}var E0e=A7(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),sB=function(t,n,r){try{"insertRule"in t?t.insertRule(n,r):"appendRule"in t&&t.appendRule(n)}catch{return!1}return t.cssRules[r]},lB=function(t,n){var r=t.cssRules.length;return n===void 0||n>r?r:n},P0e=function(){var t=document.createElement("style");return t.textContent=`
`,t},O0e=function(){function e(n){this.getPropertyValue=v0e,this.setProperty=b0e,this.removeProperty=x0e,this.setSelector=_0e,this.hasInsertedRules=!1,this.cssRules=[],n&&f0.add(n),this.sheet=n;var r=this.sheet?this.sheet.options:{},i=r.media,o=r.meta,s=r.element;this.element=s||P0e(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),o&&this.element.setAttribute("data-meta",o);var a=E0e();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!(this.element.parentNode||!this.sheet)){T0e(this.element,this.sheet.options);var r=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},t.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},t.insertRules=function(r,i){for(var o=0;o<r.index.length;o++)this.insertRule(r.index[o],o,i)},t.insertRule=function(r,i,o){if(o===void 0&&(o=this.element.sheet),r.rules){var s=r,a=o;if(r.type==="conditional"||r.type==="keyframes"){var f=lB(o,i);if(a=sB(o,s.toString({children:!1}),f),a===!1)return!1;this.refCssRule(r,f,a)}return this.insertRules(s.rules,a),a}var h=r.toString();if(!h)return!1;var g=lB(o,i),y=sB(o,h,g);return y===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,g,y),y)},t.refCssRule=function(r,i,o){r.renderable=o,r.options.parent instanceof M7&&this.cssRules.splice(i,0,o)},t.deleteRule=function(r){var i=this.element.sheet,o=this.indexOf(r);return o===-1?!1:(i.deleteRule(o),this.cssRules.splice(o,1),!0)},t.indexOf=function(r){return this.cssRules.indexOf(r)},t.replaceRule=function(r,i){var o=this.indexOf(r);return o===-1?!1:(this.element.sheet.deleteRule(o),this.cssRules.splice(o,1),this.insertRule(i,o))},t.getRules=function(){return this.element.sheet.cssRules},e}(),M0e=0,A0e=function(){function e(n){this.id=M0e++,this.version="10.10.0",this.plugins=new g0e,this.options={id:{minify:!1},createGenerateId:aB,Renderer:lx?O0e:null,plugins:[]},this.generateId=aB({minify:!1});for(var r=0;r<rB.length;r++)this.plugins.use(rB[r],{queue:"internal"});this.setup(n)}var t=e.prototype;return t.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=ee({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},t.createStyleSheet=function(r,i){i===void 0&&(i={});var o=i,s=o.index;typeof s!="number"&&(s=f0.index===0?0:f0.index+1);var a=new M7(r,ee({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:s}));return this.plugins.onProcessSheet(a),a},t.removeStyleSheet=function(r){return r.detach(),f0.remove(r),this},t.createRule=function(r,i,o){if(i===void 0&&(i={}),o===void 0&&(o={}),typeof r=="object")return this.createRule(void 0,r,i);var s=ee({},o,{name:r,jss:this,Renderer:this.options.Renderer});s.generateId||(s.generateId=this.generateId),s.classes||(s.classes={}),s.keyframes||(s.keyframes={});var a=kR(r,i,s);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var r=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return o.forEach(function(a){r.plugins.use(a)}),this},e}(),$7=function(t){return new A0e(t)},ER=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function R7(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if(i==="function")t||(t={}),t[n]=r;else if(i==="object"&&r!==null&&!Array.isArray(r)){var o=R7(r);o&&(t||(t={}),t[n]=o)}}return t}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */$7();function D7(e={}){const{baseClasses:t,newClasses:n,Component:r}=e;if(!n)return t;const i=ee({},t);return Object.keys(n).forEach(o=>{n[o]&&(i[o]=`${t[o]} ${n[o]}`)}),i}const I0e={set:(e,t,n,r)=>{let i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:(e,t,n)=>{const r=e.get(t);return r?r.get(n):void 0},delete:(e,t,n)=>{e.get(t).delete(n)}},Qp=I0e;function PR(){var e;const t=iR();return(e=t==null?void 0:t.$$material)!=null?e:t}const $0e=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function R0e(e={}){const{disableGlobal:t=!1,productionPrefix:n="jss",seed:r=""}=e,i=r===""?"":`${r}-`;let o=0;const s=()=>(o+=1,o);return(a,f)=>{const h=f.options.name;if(h&&h.indexOf("Mui")===0&&!f.options.link&&!t){if($0e.indexOf(a.key)!==-1)return`Mui-${a.key}`;const g=`${i}${h}-${a.key}`;return!f.options.theme[U9]||r!==""?g:`${g}-${s()}`}return`${i}${n}${s()}`}}var j7=Date.now(),iP="fnValues"+j7,oP="fnStyle"+ ++j7,D0e=function(){return{onCreateRule:function(n,r,i){if(typeof r!="function")return null;var o=kR(n,{},i);return o[oP]=r,o},onProcessStyle:function(n,r){if(iP in r||oP in r)return n;var i={};for(var o in n){var s=n[o];typeof s=="function"&&(delete n[o],i[o]=s)}return r[iP]=i,n},onUpdate:function(n,r,i,o){var s=r,a=s[oP];a&&(s.style=a(n)||{});var f=s[iP];if(f)for(var h in f)s.prop(h,f[h](n),o)}}};const j0e=D0e;var Rd="@global",qM="@global ",L0e=function(){function e(n,r,i){this.type="global",this.at=Rd,this.isProcessed=!1,this.key=n,this.options=i,this.rules=new IC(ee({},i,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(r){return this.rules.get(r)},t.addRule=function(r,i,o){var s=this.rules.add(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.replaceRule=function(r,i,o){var s=this.rules.replace(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.indexOf=function(r){return this.rules.indexOf(r)},t.toString=function(r){return this.rules.toString(r)},e}(),N0e=function(){function e(n,r,i){this.type="global",this.at=Rd,this.isProcessed=!1,this.key=n,this.options=i;var o=n.substr(qM.length);this.rule=i.jss.createRule(o,r,ee({},i,{parent:this}))}var t=e.prototype;return t.toString=function(r){return this.rule?this.rule.toString(r):""},e}(),z0e=/\s*,\s*/g;function L7(e,t){for(var n=e.split(z0e),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}function B0e(e,t){var n=e.options,r=e.style,i=r?r[Rd]:null;if(i){for(var o in i)t.addRule(o,i[o],ee({},n,{selector:L7(o,e.selector)}));delete r[Rd]}}function F0e(e,t){var n=e.options,r=e.style;for(var i in r)if(!(i[0]!=="@"||i.substr(0,Rd.length)!==Rd)){var o=L7(i.substr(Rd.length),e.selector);t.addRule(o,r[i],ee({},n,{selector:o})),delete r[i]}}function U0e(){function e(n,r,i){if(!n)return null;if(n===Rd)return new L0e(n,r,i);if(n[0]==="@"&&n.substr(0,qM.length)===qM)return new N0e(n,r,i);var o=i.parent;return o&&(o.type==="global"||o.options.parent&&o.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=n),null}function t(n,r){n.type!=="style"||!r||(B0e(n,r),F0e(n,r))}return{onCreateRule:e,onProcessRule:t}}var cB=/\s*,\s*/g,V0e=/&/g,W0e=/\$([\w-]+)/g;function q0e(){function e(i,o){return function(s,a){var f=i.getRule(a)||o&&o.getRule(a);return f?f.selector:a}}function t(i,o){for(var s=o.split(cB),a=i.split(cB),f="",h=0;h<s.length;h++)for(var g=s[h],y=0;y<a.length;y++){var b=a[y];f&&(f+=", "),f+=b.indexOf("&")!==-1?b.replace(V0e,g):g+" "+b}return f}function n(i,o,s){if(s)return ee({},s,{index:s.index+1});var a=i.options.nestingLevel;a=a===void 0?1:a+1;var f=ee({},i.options,{nestingLevel:a,index:o.indexOf(i)+1});return delete f.name,f}function r(i,o,s){if(o.type!=="style")return i;var a=o,f=a.options.parent,h,g;for(var y in i){var b=y.indexOf("&")!==-1,E=y[0]==="@";if(!(!b&&!E)){if(h=n(a,f,h),b){var T=t(y,a.selector);g||(g=e(f,s)),T=T.replace(W0e,g);var w=a.key+"-"+y;"replaceRule"in f?f.replaceRule(w,i[y],ee({},h,{selector:T})):f.addRule(w,i[y],ee({},h,{selector:T}))}else E&&f.addRule(y,{},h).addRule(a.key,i[y],{selector:a.selector});delete i[y]}}return i}return{onProcessStyle:r}}var H0e=/[A-Z]/g,G0e=/^ms-/,aP={};function Y0e(e){return"-"+e.toLowerCase()}function N7(e){if(aP.hasOwnProperty(e))return aP[e];var t=e.replace(H0e,Y0e);return aP[e]=G0e.test(t)?"-"+t:t}function oS(e){var t={};for(var n in e){var r=n.indexOf("--")===0?n:N7(n);t[r]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(oS):t.fallbacks=oS(e.fallbacks)),t}function K0e(){function e(n){if(Array.isArray(n)){for(var r=0;r<n.length;r++)n[r]=oS(n[r]);return n}return oS(n)}function t(n,r,i){if(r.indexOf("--")===0)return n;var o=N7(r);return r===o?n:(i.prop(o,n),null)}return{onProcessStyle:e,onChangeValue:t}}var it=ER&&CSS?CSS.px:"px",p1=ER&&CSS?CSS.ms:"ms",Cp=ER&&CSS?CSS.percent:"%",Z0e={"animation-delay":p1,"animation-duration":p1,"background-position":it,"background-position-x":it,"background-position-y":it,"background-size":it,border:it,"border-bottom":it,"border-bottom-left-radius":it,"border-bottom-right-radius":it,"border-bottom-width":it,"border-left":it,"border-left-width":it,"border-radius":it,"border-right":it,"border-right-width":it,"border-top":it,"border-top-left-radius":it,"border-top-right-radius":it,"border-top-width":it,"border-width":it,"border-block":it,"border-block-end":it,"border-block-end-width":it,"border-block-start":it,"border-block-start-width":it,"border-block-width":it,"border-inline":it,"border-inline-end":it,"border-inline-end-width":it,"border-inline-start":it,"border-inline-start-width":it,"border-inline-width":it,"border-start-start-radius":it,"border-start-end-radius":it,"border-end-start-radius":it,"border-end-end-radius":it,margin:it,"margin-bottom":it,"margin-left":it,"margin-right":it,"margin-top":it,"margin-block":it,"margin-block-end":it,"margin-block-start":it,"margin-inline":it,"margin-inline-end":it,"margin-inline-start":it,padding:it,"padding-bottom":it,"padding-left":it,"padding-right":it,"padding-top":it,"padding-block":it,"padding-block-end":it,"padding-block-start":it,"padding-inline":it,"padding-inline-end":it,"padding-inline-start":it,"mask-position-x":it,"mask-position-y":it,"mask-size":it,height:it,width:it,"min-height":it,"max-height":it,"min-width":it,"max-width":it,bottom:it,left:it,top:it,right:it,inset:it,"inset-block":it,"inset-block-end":it,"inset-block-start":it,"inset-inline":it,"inset-inline-end":it,"inset-inline-start":it,"box-shadow":it,"text-shadow":it,"column-gap":it,"column-rule":it,"column-rule-width":it,"column-width":it,"font-size":it,"font-size-delta":it,"letter-spacing":it,"text-decoration-thickness":it,"text-indent":it,"text-stroke":it,"text-stroke-width":it,"word-spacing":it,motion:it,"motion-offset":it,outline:it,"outline-offset":it,"outline-width":it,perspective:it,"perspective-origin-x":Cp,"perspective-origin-y":Cp,"transform-origin":Cp,"transform-origin-x":Cp,"transform-origin-y":Cp,"transform-origin-z":Cp,"transition-delay":p1,"transition-duration":p1,"vertical-align":it,"flex-basis":it,"shape-margin":it,size:it,gap:it,grid:it,"grid-gap":it,"row-gap":it,"grid-row-gap":it,"grid-column-gap":it,"grid-template-rows":it,"grid-template-columns":it,"grid-auto-rows":it,"grid-auto-columns":it,"box-shadow-x":it,"box-shadow-y":it,"box-shadow-blur":it,"box-shadow-spread":it,"font-line-height":it,"text-shadow-x":it,"text-shadow-y":it,"text-shadow-blur":it};function z7(e){var t=/(-[a-z])/g,n=function(s){return s[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var X0e=z7(Z0e);function h0(e,t,n){if(t==null)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=h0(e,t[r],n);else if(typeof t=="object")if(e==="fallbacks")for(var i in t)t[i]=h0(i,t[i],n);else for(var o in t)t[o]=h0(e+"-"+o,t[o],n);else if(typeof t=="number"&&isNaN(t)===!1){var s=n[e]||X0e[e];return s&&!(t===0&&s===it)?typeof s=="function"?s(t).toString():""+t+s:t.toString()}return t}function J0e(e){e===void 0&&(e={});var t=z7(e);function n(i,o){if(o.type!=="style")return i;for(var s in i)i[s]=h0(s,i[s],t);return i}function r(i,o){return h0(o,i,t)}return{onProcessStyle:n,onChangeValue:r}}function HM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q0e(e){if(Array.isArray(e))return HM(e)}function ebe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tbe(e,t){if(e){if(typeof e=="string")return HM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HM(e,t)}}function nbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rbe(e){return Q0e(e)||ebe(e)||tbe(e)||nbe()}var Hv="",GM="",B7="",F7="",ibe=lx&&"ontouchstart"in document.documentElement;if(lx){var sP={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},obe=document.createElement("p"),lP=obe.style,abe="Transform";for(var cP in sP)if(cP+abe in lP){Hv=cP,GM=sP[cP];break}Hv==="Webkit"&&"msHyphens"in lP&&(Hv="ms",GM=sP.ms,F7="edge"),Hv==="Webkit"&&"-apple-trailing-word"in lP&&(B7="apple")}var On={js:Hv,css:GM,vendor:B7,browser:F7,isTouch:ibe};function sbe(e){return e[1]==="-"||On.js==="ms"?e:"@"+On.css+"keyframes"+e.substr(10)}var lbe={noPrefill:["appearance"],supportedProperty:function(t){return t!=="appearance"?!1:On.js==="ms"?"-webkit-"+t:On.css+t}},cbe={noPrefill:["color-adjust"],supportedProperty:function(t){return t!=="color-adjust"?!1:On.js==="Webkit"?On.css+"print-"+t:t}},ube=/[-\s]+(.)?/g;function dbe(e,t){return t?t.toUpperCase():""}function OR(e){return e.replace(ube,dbe)}function Wd(e){return OR("-"+e)}var fbe={noPrefill:["mask"],supportedProperty:function(t,n){if(!/^mask/.test(t))return!1;if(On.js==="Webkit"){var r="mask-image";if(OR(r)in n)return t;if(On.js+Wd(r)in n)return On.css+t}return t}},hbe={noPrefill:["text-orientation"],supportedProperty:function(t){return t!=="text-orientation"?!1:On.vendor==="apple"&&!On.isTouch?On.css+t:t}},pbe={noPrefill:["transform"],supportedProperty:function(t,n,r){return t!=="transform"?!1:r.transform?t:On.css+t}},mbe={noPrefill:["transition"],supportedProperty:function(t,n,r){return t!=="transition"?!1:r.transition?t:On.css+t}},gbe={noPrefill:["writing-mode"],supportedProperty:function(t){return t!=="writing-mode"?!1:On.js==="Webkit"||On.js==="ms"&&On.browser!=="edge"?On.css+t:t}},ybe={noPrefill:["user-select"],supportedProperty:function(t){return t!=="user-select"?!1:On.js==="Moz"||On.js==="ms"||On.vendor==="apple"?On.css+t:t}},vbe={supportedProperty:function(t,n){if(!/^break-/.test(t))return!1;if(On.js==="Webkit"){var r="WebkitColumn"+Wd(t);return r in n?On.css+"column-"+t:!1}if(On.js==="Moz"){var i="page"+Wd(t);return i in n?"page-"+t:!1}return!1}},bbe={supportedProperty:function(t,n){if(!/^(border|margin|padding)-inline/.test(t))return!1;if(On.js==="Moz")return t;var r=t.replace("-inline","");return On.js+Wd(r)in n?On.css+r:!1}},xbe={supportedProperty:function(t,n){return OR(t)in n?t:!1}},_be={supportedProperty:function(t,n){var r=Wd(t);return t[0]==="-"||t[0]==="-"&&t[1]==="-"?t:On.js+r in n?On.css+t:On.js!=="Webkit"&&"Webkit"+r in n?"-webkit-"+t:!1}},wbe={supportedProperty:function(t){return t.substring(0,11)!=="scroll-snap"?!1:On.js==="ms"?""+On.css+t:t}},Sbe={supportedProperty:function(t){return t!=="overscroll-behavior"?!1:On.js==="ms"?On.css+"scroll-chaining":t}},Cbe={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},kbe={supportedProperty:function(t,n){var r=Cbe[t];return r&&On.js+Wd(r)in n?On.css+r:!1}},U7={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Tbe=Object.keys(U7),Ebe=function(t){return On.css+t},Pbe={supportedProperty:function(t,n,r){var i=r.multiple;if(Tbe.indexOf(t)>-1){var o=U7[t];if(!Array.isArray(o))return On.js+Wd(o)in n?On.css+o:!1;if(!i)return!1;for(var s=0;s<o.length;s++)if(!(On.js+Wd(o[0])in n))return!1;return o.map(Ebe)}return!1}},V7=[lbe,cbe,fbe,hbe,pbe,mbe,gbe,ybe,vbe,bbe,xbe,_be,wbe,Sbe,kbe,Pbe],uB=V7.filter(function(e){return e.supportedProperty}).map(function(e){return e.supportedProperty}),Obe=V7.filter(function(e){return e.noPrefill}).reduce(function(e,t){return e.push.apply(e,rbe(t.noPrefill)),e},[]),Gv,Bf={};if(lx){Gv=document.createElement("p");var uP=window.getComputedStyle(document.documentElement,"");for(var dP in uP)isNaN(dP)||(Bf[uP[dP]]=uP[dP]);Obe.forEach(function(e){return delete Bf[e]})}function YM(e,t){if(t===void 0&&(t={}),!Gv)return e;if(Bf[e]!=null)return Bf[e];(e==="transition"||e==="transform")&&(t[e]=e in Gv.style);for(var n=0;n<uB.length&&(Bf[e]=uB[n](e,Gv.style,t),!Bf[e]);n++);try{Gv.style[e]=""}catch{return!1}return Bf[e]}var kp={},Mbe={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Abe=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,ad;function Ibe(e,t,n){if(t==="var")return"var";if(t==="all")return"all";if(n==="all")return", all";var r=t?YM(t):", "+YM(n);return r||t||n}lx&&(ad=document.createElement("p"));function dB(e,t){var n=t;if(!ad||e==="content")return t;if(typeof n!="string"||!isNaN(parseInt(n,10)))return n;var r=e+n;if(kp[r]!=null)return kp[r];try{ad.style[e]=n}catch{return kp[r]=!1,!1}if(Mbe[e])n=n.replace(Abe,Ibe);else if(ad.style[e]===""&&(n=On.css+n,n==="-ms-flex"&&(ad.style[e]="-ms-flexbox"),ad.style[e]=n,ad.style[e]===""))return kp[r]=!1,!1;return ad.style[e]="",kp[r]=n,kp[r]}function $be(){function e(i){if(i.type==="keyframes"){var o=i;o.at=sbe(o.at)}}function t(i){for(var o in i){var s=i[o];if(o==="fallbacks"&&Array.isArray(s)){i[o]=s.map(t);continue}var a=!1,f=YM(o);f&&f!==o&&(a=!0);var h=!1,g=dB(f,rh(s));g&&g!==s&&(h=!0),(a||h)&&(a&&delete i[o],i[f||o]=g||s)}return i}function n(i,o){return o.type!=="style"?i:t(i)}function r(i,o){return dB(o,rh(i))||i}return{onProcessRule:e,onProcessStyle:n,onChangeValue:r}}function Rbe(){var e=function(n,r){return n.length===r.length?n>r?1:-1:n.length-r.length};return{onProcessStyle:function(n,r){if(r.type!=="style")return n;for(var i={},o=Object.keys(n).sort(e),s=0;s<o.length;s++)i[o[s]]=n[o[s]];return i}}}function Dbe(){return{plugins:[j0e(),U0e(),q0e(),K0e(),J0e(),typeof window>"u"?null:$be(),Rbe()]}}const jbe=$7(Dbe()),Lbe=R0e(),Nbe=new Map,zbe={disableGeneration:!1,generateClassName:Lbe,jss:jbe,sheetsCache:null,sheetsManager:Nbe,sheetsRegistry:null},Bbe=U.createContext(zbe);let fB=-1e9;function Fbe(){return fB+=1,fB}const Ube=["variant"];function hB(e){return e.length===0}function Vbe(e){const{variant:t}=e,n=gt(e,Ube);let r=t||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=hB(r)?e[i]:pt(e[i]):r+=`${hB(r)?i:pt(i)}${pt(e[i].toString())}`}),r}const Wbe={},qbe=Wbe;function Hbe(e){const t=typeof e=="function";return{create:(n,r)=>{let i;try{i=t?e(n):e}catch(f){throw f}if(!r||!n.components||!n.components[r]||!n.components[r].styleOverrides&&!n.components[r].variants)return i;const o=n.components[r].styleOverrides||{},s=n.components[r].variants||[],a=ee({},i);return Object.keys(o).forEach(f=>{a[f]=Uo(a[f]||{},o[f])}),s.forEach(f=>{const h=Vbe(f.props);a[h]=Uo(a[h]||{},f.style)}),a},options:{}}}const Gbe=["name","classNamePrefix","Component","defaultTheme"];function Ybe({state:e,stylesOptions:t},n,r){if(t.disableGeneration)return n||{};e.cacheClasses||(e.cacheClasses={value:null,lastProp:null,lastJSS:{}});let i=!1;return e.classes!==e.cacheClasses.lastJSS&&(e.cacheClasses.lastJSS=e.classes,i=!0),n!==e.cacheClasses.lastProp&&(e.cacheClasses.lastProp=n,i=!0),i&&(e.cacheClasses.value=D7({baseClasses:e.cacheClasses.lastJSS,newClasses:n,Component:r})),e.cacheClasses.value}function Kbe({state:e,theme:t,stylesOptions:n,stylesCreator:r,name:i},o){if(n.disableGeneration)return;let s=Qp.get(n.sheetsManager,r,t);s||(s={refs:0,staticSheet:null,dynamicStyles:null},Qp.set(n.sheetsManager,r,t,s));const a=ee({},r.options,n,{theme:t,flip:typeof n.flip=="boolean"?n.flip:t.direction==="rtl"});a.generateId=a.serverGenerateClassName||a.generateClassName;const f=n.sheetsRegistry;if(s.refs===0){let h;n.sheetsCache&&(h=Qp.get(n.sheetsCache,r,t));const g=r.create(t,i);h||(h=n.jss.createStyleSheet(g,ee({link:!1},a)),h.attach(),n.sheetsCache&&Qp.set(n.sheetsCache,r,t,h)),f&&f.add(h),s.staticSheet=h,s.dynamicStyles=R7(g)}if(s.dynamicStyles){const h=n.jss.createStyleSheet(s.dynamicStyles,ee({link:!0},a));h.update(o),h.attach(),e.dynamicSheet=h,e.classes=D7({baseClasses:s.staticSheet.classes,newClasses:h.classes}),f&&f.add(h)}else e.classes=s.staticSheet.classes;s.refs+=1}function Zbe({state:e},t){e.dynamicSheet&&e.dynamicSheet.update(t)}function Xbe({state:e,theme:t,stylesOptions:n,stylesCreator:r}){if(n.disableGeneration)return;const i=Qp.get(n.sheetsManager,r,t);i.refs-=1;const o=n.sheetsRegistry;i.refs===0&&(Qp.delete(n.sheetsManager,r,t),n.jss.removeStyleSheet(i.staticSheet),o&&o.remove(i.staticSheet)),e.dynamicSheet&&(n.jss.removeStyleSheet(e.dynamicSheet),o&&o.remove(e.dynamicSheet))}function Jbe(e,t){const n=U.useRef([]);let r;const i=U.useMemo(()=>({}),t);n.current!==i&&(n.current=i,r=e()),U.useEffect(()=>()=>{r&&r()},[i])}function wr(e,t={}){const{name:n,classNamePrefix:r,Component:i,defaultTheme:o=qbe}=t,s=gt(t,Gbe),a=Hbe(e),f=n||r||"makeStyles";return a.options={index:Fbe(),name:n,meta:f,classNamePrefix:f},(g={})=>{const y=PR()||o,b=ee({},U.useContext(Bbe),s),E=U.useRef(),T=U.useRef();return Jbe(()=>{const M={name:n,state:{},stylesCreator:a,stylesOptions:b,theme:y};return Kbe(M,g),T.current=!1,E.current=M,()=>{Xbe(M)}},[y,a]),U.useEffect(()=>{T.current&&Zbe(E.current,g),T.current=!0}),Ybe(E.current,g.classes,i)}}const Qbe="/assets/alarm-zNGFGtq_.mp3";function W7(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=W7(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Th(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=W7(e))&&(r&&(r+=" "),r+=t);return r}let exe={data:""},txe=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||exe,nxe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,rxe=/\/\*[^]*?\*\/|  +/g,pB=/\n+/g,Ff=(e,t)=>{let n="",r="",i="";for(let o in e){let s=e[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?Ff(s,o):o+"{"+Ff(s,o[1]=="k"?"":t)+"}":typeof s=="object"?r+=Ff(s,t?t.replace(/([^,])+/g,a=>o.replace(/(^:.*)|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,a):a?a+" "+f:f)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ff.p?Ff.p(o,s):o+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Lc={},q7=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+q7(e[n]);return t}return e},ixe=(e,t,n,r,i)=>{let o=q7(e),s=Lc[o]||(Lc[o]=(f=>{let h=0,g=11;for(;h<f.length;)g=101*g+f.charCodeAt(h++)>>>0;return"go"+g})(o));if(!Lc[s]){let f=o!==e?e:(h=>{let g,y,b=[{}];for(;g=nxe.exec(h.replace(rxe,""));)g[4]?b.shift():g[3]?(y=g[3].replace(pB," ").trim(),b.unshift(b[0][y]=b[0][y]||{})):b[0][g[1]]=g[2].replace(pB," ").trim();return b[0]})(e);Lc[s]=Ff(i?{["@keyframes "+s]:f}:f,n?"":"."+s)}let a=n&&Lc.g?Lc.g:null;return n&&(Lc.g=Lc[s]),((f,h,g,y)=>{y?h.data=h.data.replace(y,f):h.data.indexOf(f)===-1&&(h.data=g?f+h.data:h.data+f)})(Lc[s],t,r,a),s},oxe=(e,t,n)=>e.reduce((r,i,o)=>{let s=t[o];if(s&&s.call){let a=s(n),f=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=f?"."+f:a&&typeof a=="object"?a.props?"":Ff(a,""):a===!1?"":a}return r+i+(s??"")},"");function MR(e){let t=this||{},n=e.call?e(t.p):e;return ixe(n.unshift?n.raw?oxe(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,txe(t.target),t.g,t.o,t.k)}MR.bind({g:1});MR.bind({k:1});function mB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H7(e,t,n){return t&&mB(e.prototype,t),n&&mB(e,n),e}function Er(){return Er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Er.apply(this,arguments)}function G7(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function cx(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function gB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var yB=function(){return""},axe=Pe.createContext({enqueueSnackbar:yB,closeSnackbar:yB}),jf={downXs:"@media (max-width:599.95px)",upSm:"@media (min-width:600px)"},vB=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},AR=function(t){return""+vB(t.vertical)+vB(t.horizontal)},m1=function(t){return!!t||t===0},g1="unmounted",Tp="exited",Ep="entering",wv="entered",bB="exiting",IR=function(e){G7(t,e);function t(r){var i;i=e.call(this,r)||this;var o=r.appear,s;return i.appearStatus=null,r.in?o?(s=Tp,i.appearStatus=Ep):s=wv:r.unmountOnExit||r.mountOnEnter?s=g1:s=Tp,i.state={status:s},i.nextCallback=null,i}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===g1?{status:Tp}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Ep&&s!==wv&&(o=Ep):(s===Ep||s===wv)&&(o=bB)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o=i,s=i;return i!=null&&typeof i!="number"&&typeof i!="string"&&(s=i.exit,o=i.enter),{exit:s,enter:o}},n.updateStatus=function(i,o){i===void 0&&(i=!1),o!==null?(this.cancelNextCallback(),o===Ep?this.performEnter(i):this.performExit()):this.props.unmountOnExit&&this.state.status===Tp&&this.setState({status:g1})},n.performEnter=function(i){var o=this,s=this.props.enter,a=i,f=this.getTimeouts();if(!i&&!s){this.safeSetState({status:wv},function(){o.props.onEntered&&o.props.onEntered(o.node,a)});return}this.props.onEnter&&this.props.onEnter(this.node,a),this.safeSetState({status:Ep},function(){o.props.onEntering&&o.props.onEntering(o.node,a),o.onTransitionEnd(f.enter,function(){o.safeSetState({status:wv},function(){o.props.onEntered&&o.props.onEntered(o.node,a)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts();if(!o){this.safeSetState({status:Tp},function(){i.props.onExited&&i.props.onExited(i.node)});return}this.props.onExit&&this.props.onExit(this.node),this.safeSetState({status:bB},function(){i.props.onExiting&&i.props.onExiting(i.node),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Tp},function(){i.props.onExited&&i.props.onExited(i.node)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&this.nextCallback.cancel&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(){s&&(s=!1,o.nextCallback=null,i())},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=i==null&&!this.props.addEndListener;if(!this.node||s){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(this.node,this.nextCallback),i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===g1)return null;var o=this.props,s=o.children,a=cx(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return s(i,a)},H7(t,[{key:"node",get:function(){var i,o=(i=this.props.nodeRef)===null||i===void 0?void 0:i.current;if(!o)throw new Error("notistack - Custom snackbar is not refForwarding");return o}}]),t}(Pe.Component);function Pp(){}IR.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Pp,onEntering:Pp,onEntered:Pp,onExit:Pp,onExiting:Pp,onExited:Pp};function xB(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function KM(e,t){return U.useMemo(function(){return e==null&&t==null?null:function(n){xB(e,n),xB(t,n)}},[e,t])}function aS(e){var t=e.timeout,n=e.style,r=n===void 0?{}:n,i=e.mode;return{duration:typeof t=="object"?t[i]||0:t,easing:r.transitionTimingFunction,delay:r.transitionDelay}}var ZM={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Y7=function(t){t.scrollTop=t.scrollTop},_B=function(t){return Math.round(t)+"ms"};function em(e,t){e===void 0&&(e=["all"]);var n=t||{},r=n.duration,i=r===void 0?300:r,o=n.easing,s=o===void 0?ZM.easeInOut:o,a=n.delay,f=a===void 0?0:a,h=Array.isArray(e)?e:[e];return h.map(function(g){var y=typeof i=="string"?i:_B(i),b=typeof f=="string"?f:_B(f);return g+" "+y+" "+s+" "+b}).join(",")}function sxe(e){return e&&e.ownerDocument||document}function K7(e){var t=sxe(e);return t.defaultView||window}function lxe(e,t){t===void 0&&(t=166);var n;function r(){for(var i=this,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var f=function(){e.apply(i,s)};clearTimeout(n),n=setTimeout(f,t)}return r.clear=function(){clearTimeout(n)},r}function cxe(e,t){var n=t.getBoundingClientRect(),r=K7(t),i;if(t.fakeTransform)i=t.fakeTransform;else{var o=r.getComputedStyle(t);i=o.getPropertyValue("-webkit-transform")||o.getPropertyValue("transform")}var s=0,a=0;if(i&&i!=="none"&&typeof i=="string"){var f=i.split("(")[1].split(")")[0].split(",");s=parseInt(f[4],10),a=parseInt(f[5],10)}switch(e){case"left":return"translateX("+(r.innerWidth+s-n.left)+"px)";case"right":return"translateX(-"+(n.left+n.width-s)+"px)";case"up":return"translateY("+(r.innerHeight+a-n.top)+"px)";default:return"translateY(-"+(n.top+n.height-a)+"px)"}}function y1(e,t){if(t){var n=cxe(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}}var Z7=U.forwardRef(function(e,t){var n=e.children,r=e.direction,i=r===void 0?"down":r,o=e.in,s=e.style,a=e.timeout,f=a===void 0?0:a,h=e.onEnter,g=e.onEntered,y=e.onExit,b=e.onExited,E=cx(e,["children","direction","in","style","timeout","onEnter","onEntered","onExit","onExited"]),T=U.useRef(null),w=KM(n.ref,T),M=KM(w,t),A=function(F,q){y1(i,F),Y7(F),h&&h(F,q)},O=function(F){var q=(s==null?void 0:s.transitionTimingFunction)||ZM.easeOut,J=aS({timeout:f,mode:"enter",style:Er({},s,{transitionTimingFunction:q})});F.style.webkitTransition=em("-webkit-transform",J),F.style.transition=em("transform",J),F.style.webkitTransform="none",F.style.transform="none"},I=function(F){var q=(s==null?void 0:s.transitionTimingFunction)||ZM.sharp,J=aS({timeout:f,mode:"exit",style:Er({},s,{transitionTimingFunction:q})});F.style.webkitTransition=em("-webkit-transform",J),F.style.transition=em("transform",J),y1(i,F),y&&y(F)},L=function(F){F.style.webkitTransition="",F.style.transition="",b&&b(F)},R=U.useCallback(function(){T.current&&y1(i,T.current)},[i]);return U.useEffect(function(){if(!(o||i==="down"||i==="right")){var D=lxe(function(){T.current&&y1(i,T.current)}),F=K7(T.current);return F.addEventListener("resize",D),function(){D.clear(),F.removeEventListener("resize",D)}}},[i,o]),U.useEffect(function(){o||R()},[o,R]),U.createElement(IR,Object.assign({appear:!0,nodeRef:T,onEnter:A,onEntered:g,onEntering:O,onExit:I,onExited:L,in:o,timeout:f},E),function(D,F){return U.cloneElement(n,Er({ref:M,style:Er({visibility:D==="exited"&&!o?"hidden":void 0},s,{},n.props.style)},F))})});Z7.displayName="Slide";var $C=function(t){return Pe.createElement("svg",Object.assign({viewBox:"0 0 24 24",focusable:"false",style:{fontSize:20,marginInlineEnd:8,userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0}},t))},uxe=function(){return Pe.createElement($C,null,Pe.createElement("path",{d:`M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41
        10.59L10 14.17L17.59 6.58L19 8L10 17Z`}))},dxe=function(){return Pe.createElement($C,null,Pe.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},fxe=function(){return Pe.createElement($C,null,Pe.createElement("path",{d:`M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,
        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,
        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z`}))},hxe=function(){return Pe.createElement($C,null,Pe.createElement("path",{d:`M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,
        0 22,12A10,10 0 0,0 12,2Z`}))},pxe={default:void 0,success:Pe.createElement(uxe,null),warning:Pe.createElement(dxe,null),error:Pe.createElement(fxe,null),info:Pe.createElement(hxe,null)},ih={maxSnack:3,persist:!1,hideIconVariant:!1,disableWindowBlurListener:!1,variant:"default",autoHideDuration:5e3,iconVariant:pxe,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:Z7,transitionDuration:{enter:225,exit:195}},mxe=function(t,n){var r=function(o){return typeof o=="number"||o===null};return r(t)?t:r(n)?n:ih.autoHideDuration},gxe=function(t,n){var r=function(o,s){return s.some(function(a){return typeof o===a})};return r(t,["string","number"])?t:r(t,["object"])?Er({},ih.transitionDuration,{},r(n,["object"])&&n,{},t):r(n,["string","number"])?n:r(n,["object"])?Er({},ih.transitionDuration,{},n):ih.transitionDuration},yxe=function(t,n){return function(r,i){return i===void 0&&(i=!1),i?Er({},ih[r],{},n[r],{},t[r]):r==="autoHideDuration"?mxe(t.autoHideDuration,n.autoHideDuration):r==="transitionDuration"?gxe(t.transitionDuration,n.transitionDuration):t[r]||n[r]||ih[r]}};function ux(e){return Object.entries(e).reduce(function(t,n){var r,i=n[0],o=n[1];return Er({},t,(r={},r[i]=MR(o),r))},{})}var Km={SnackbarContainer:"notistack-SnackbarContainer",Snackbar:"notistack-Snackbar",CollapseWrapper:"notistack-CollapseWrapper",MuiContent:"notistack-MuiContent",MuiContentVariant:function(t){return"notistack-MuiContent-"+t}},wB=ux({root:{height:0},entered:{height:"auto"}}),fP="0px",hP=175,X7=U.forwardRef(function(e,t){var n=e.children,r=e.in,i=e.onExited,o=U.useRef(null),s=U.useRef(null),a=KM(t,s),f=function(){return o.current?o.current.clientHeight:0},h=function(w){w.style.height=fP},g=function(w){var M=f(),A=aS({timeout:hP,mode:"enter"}),O=A.duration,I=A.easing;w.style.transitionDuration=typeof O=="string"?O:O+"ms",w.style.height=M+"px",w.style.transitionTimingFunction=I||""},y=function(w){w.style.height="auto"},b=function(w){w.style.height=f()+"px"},E=function(w){Y7(w);var M=aS({timeout:hP,mode:"exit"}),A=M.duration,O=M.easing;w.style.transitionDuration=typeof A=="string"?A:A+"ms",w.style.height=fP,w.style.transitionTimingFunction=O||""};return U.createElement(IR,{in:r,unmountOnExit:!0,onEnter:h,onEntered:y,onEntering:g,onExit:b,onExited:i,onExiting:E,nodeRef:s,timeout:hP},function(T,w){return U.createElement("div",Object.assign({ref:a,className:Th(wB.root,T==="entered"&&wB.entered),style:Er({pointerEvents:"all",overflow:"hidden",minHeight:fP,transition:em("height")},T==="entered"&&{overflow:"visible"},{},T==="exited"&&!r&&{visibility:"hidden"})},w),U.createElement("div",{ref:o,className:Km.CollapseWrapper,style:{display:"flex",width:"100%"}},n))})});X7.displayName="Collapse";var SB={right:"left",left:"right",bottom:"up",top:"down"},vxe=function(t){return t.horizontal!=="center"?SB[t.horizontal]:SB[t.vertical]},bxe=function(t){return"anchorOrigin"+AR(t)},xxe=function(t){t===void 0&&(t={});var n={containerRoot:!0,containerAnchorOriginTopCenter:!0,containerAnchorOriginBottomCenter:!0,containerAnchorOriginTopRight:!0,containerAnchorOriginBottomRight:!0,containerAnchorOriginTopLeft:!0,containerAnchorOriginBottomLeft:!0};return Object.keys(t).filter(function(r){return!n[r]}).reduce(function(r,i){var o;return Er({},r,(o={},o[i]=t[i],o))},{})},_xe=function(){};function p0(e,t){return e.reduce(function(n,r){return r==null?n:function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var f=[].concat(s);t&&f.indexOf(t)===-1&&f.push(t),n.apply(this,f),r.apply(this,f)}},_xe)}var wxe=typeof window<"u"?U.useLayoutEffect:U.useEffect;function CB(e){var t=U.useRef(e);return wxe(function(){t.current=e}),U.useCallback(function(){return t.current.apply(void 0,arguments)},[])}var J7=U.forwardRef(function(e,t){var n=e.children,r=e.className,i=e.autoHideDuration,o=e.disableWindowBlurListener,s=o===void 0?!1:o,a=e.onClose,f=e.id,h=e.open,g=e.SnackbarProps,y=g===void 0?{}:g,b=U.useRef(),E=CB(function(){a&&a.apply(void 0,arguments)}),T=CB(function(I){!a||I==null||(b.current&&clearTimeout(b.current),b.current=setTimeout(function(){E(null,"timeout",f)},I))});U.useEffect(function(){return h&&T(i),function(){b.current&&clearTimeout(b.current)}},[h,i,T]);var w=function(){b.current&&clearTimeout(b.current)},M=U.useCallback(function(){i!=null&&T(i*.5)},[i,T]),A=function(L){y.onMouseEnter&&y.onMouseEnter(L),w()},O=function(L){y.onMouseLeave&&y.onMouseLeave(L),M()};return U.useEffect(function(){if(!s&&h)return window.addEventListener("focus",M),window.addEventListener("blur",w),function(){window.removeEventListener("focus",M),window.removeEventListener("blur",w)}},[s,M,h]),U.createElement("div",Object.assign({ref:t},y,{className:Th(Km.Snackbar,r),onMouseEnter:A,onMouseLeave:O}),n)});J7.displayName="Snackbar";var pP,Sxe=ux({root:(pP={display:"flex",flexWrap:"wrap",flexGrow:1},pP[jf.upSm]={flexGrow:"initial",minWidth:"288px"},pP)}),Q7=U.forwardRef(function(e,t){var n=e.className,r=cx(e,["className"]);return Pe.createElement("div",Object.assign({ref:t,className:Th(Sxe.root,n)},r))});Q7.displayName="SnackbarContent";var Sv=ux({root:{backgroundColor:"#313131",fontSize:"0.875rem",lineHeight:1.43,letterSpacing:"0.01071em",color:"#fff",alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"},lessPadding:{paddingLeft:8*2.5+"px"},default:{backgroundColor:"#313131"},success:{backgroundColor:"#43a047"},error:{backgroundColor:"#d32f2f"},warning:{backgroundColor:"#ff9800"},info:{backgroundColor:"#2196f3"},message:{display:"flex",alignItems:"center",padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:"16px",marginRight:"-8px"}}),kB="notistack-snackbar",eq=U.forwardRef(function(e,t){var n=e.id,r=e.message,i=e.action,o=e.iconVariant,s=e.variant,a=e.hideIconVariant,f=e.style,h=e.className,g=o[s],y=i;return typeof y=="function"&&(y=y(n)),Pe.createElement(Q7,{ref:t,role:"alert","aria-describedby":kB,style:f,className:Th(Km.MuiContent,Km.MuiContentVariant(s),Sv.root,Sv[s],h,!a&&g&&Sv.lessPadding)},Pe.createElement("div",{id:kB,className:Sv.message},a?null:g,r),y&&Pe.createElement("div",{className:Sv.action},y))});eq.displayName="MaterialDesignContent";var Cxe=U.memo(eq),kxe=ux({wrappedRoot:{width:"100%",position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0,minWidth:"288px"}}),Txe=function(t){var n=U.useRef(),r=U.useState(!0),i=r[0],o=r[1],s=p0([t.snack.onClose,t.onClose]),a=function(){t.snack.requestClose&&s(null,"instructed",t.snack.id)},f=U.useCallback(function(){n.current=setTimeout(function(){o(function(J){return!J})},125)},[]);U.useEffect(function(){return function(){n.current&&clearTimeout(n.current)}},[]);var h=t.snack,g=t.classes,y=t.Component,b=y===void 0?Cxe:y,E=U.useMemo(function(){return xxe(g)},[g]),T=h.open,w=h.SnackbarProps,M=h.TransitionComponent,A=h.TransitionProps,O=h.transitionDuration,I=h.disableWindowBlurListener,L=h.content,R=cx(h,["open","SnackbarProps","TransitionComponent","TransitionProps","transitionDuration","disableWindowBlurListener","content","entered","requestClose","onEnter","onEntered","onExit","onExited"]),D=Er({direction:vxe(R.anchorOrigin),timeout:O},A),F=L;typeof F=="function"&&(F=F(R.id,R.message));var q=["onEnter","onEntered","onExit","onExited"].reduce(function(J,K){var ne;return Er({},J,(ne={},ne[K]=p0([t.snack[K],t[K]],R.id),ne))},{});return Pe.createElement(X7,{in:i,onExited:q.onExited},Pe.createElement(J7,{open:T,id:R.id,disableWindowBlurListener:I,autoHideDuration:R.autoHideDuration,className:Th(kxe.wrappedRoot,E.root,E[bxe(R.anchorOrigin)]),SnackbarProps:w,onClose:s},Pe.createElement(M,Object.assign({},D,{appear:!0,in:T,onExit:q.onExit,onExited:f,onEnter:q.onEnter,onEntered:p0([q.onEntered,a],R.id)}),F||Pe.createElement(b,Object.assign({},R)))))},Cv,mP,v1,b1,gP,Nc={view:{default:20,dense:4},snackbar:{default:6,dense:2}},TB="."+Km.CollapseWrapper,yP=16,x1=ux({root:(Cv={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:1400,height:"auto",width:"auto",transition:em(["top","right","bottom","left","max-width"],{duration:300,easing:"ease"}),pointerEvents:"none"},Cv[TB]={padding:Nc.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},Cv.maxWidth="calc(100% - "+Nc.view.default*2+"px)",Cv[jf.downXs]={width:"100%",maxWidth:"calc(100% - "+yP*2+"px)"},Cv),rootDense:(mP={},mP[TB]={padding:Nc.snackbar.dense+"px 0px"},mP),top:{top:Nc.view.default-Nc.snackbar.default+"px",flexDirection:"column"},bottom:{bottom:Nc.view.default-Nc.snackbar.default+"px",flexDirection:"column-reverse"},left:(v1={left:Nc.view.default+"px"},v1[jf.upSm]={alignItems:"flex-start"},v1[jf.downXs]={left:yP+"px"},v1),right:(b1={right:Nc.view.default+"px"},b1[jf.upSm]={alignItems:"flex-end"},b1[jf.downXs]={right:yP+"px"},b1),center:(gP={left:"50%",transform:"translateX(-50%)"},gP[jf.upSm]={alignItems:"center"},gP)}),Exe=function(t){var n=t.classes,r=n===void 0?{}:n,i=t.anchorOrigin,o=t.dense,s=t.children,a=Th(Km.SnackbarContainer,x1[i.vertical],x1[i.horizontal],x1.root,r.containerRoot,r["containerAnchorOrigin"+AR(i)],o&&x1.rootDense);return Pe.createElement("div",{className:a},s)},Pxe=U.memo(Exe),EB=function(t){var n=typeof t=="string"||U.isValidElement(t);return!n},tq,Oxe=function(e){G7(t,e);function t(r){var i;return i=e.call(this,r)||this,i.enqueueSnackbar=function(o,s){if(s===void 0&&(s={}),o==null)throw new Error("enqueueSnackbar called with invalid argument");var a=EB(o)?o:s,f=EB(o)?o.message:o,h=a.key,g=a.preventDuplicate,y=cx(a,["key","preventDuplicate"]),b=m1(h),E=b?h:new Date().getTime()+Math.random(),T=yxe(y,i.props),w=Er({id:E},y,{message:f,open:!0,entered:!1,requestClose:!1,persist:T("persist"),action:T("action"),content:T("content"),variant:T("variant"),anchorOrigin:T("anchorOrigin"),disableWindowBlurListener:T("disableWindowBlurListener"),autoHideDuration:T("autoHideDuration"),hideIconVariant:T("hideIconVariant"),TransitionComponent:T("TransitionComponent"),transitionDuration:T("transitionDuration"),TransitionProps:T("TransitionProps",!0),iconVariant:T("iconVariant",!0),style:T("style",!0),SnackbarProps:T("SnackbarProps",!0),className:Th(i.props.className,y.className)});return w.persist&&(w.autoHideDuration=void 0),i.setState(function(M){if(g===void 0&&i.props.preventDuplicate||g){var A=function(R){return b?R.id===E:R.message===f},O=M.queue.findIndex(A)>-1,I=M.snacks.findIndex(A)>-1;if(O||I)return M}return i.handleDisplaySnack(Er({},M,{queue:[].concat(M.queue,[w])}))}),E},i.handleDisplaySnack=function(o){var s=o.snacks;return s.length>=i.maxSnack?i.handleDismissOldest(o):i.processQueue(o)},i.processQueue=function(o){var s=o.queue,a=o.snacks;return s.length>0?Er({},o,{snacks:[].concat(a,[s[0]]),queue:s.slice(1,s.length)}):o},i.handleDismissOldest=function(o){if(o.snacks.some(function(g){return!g.open||g.requestClose}))return o;var s=!1,a=!1,f=o.snacks.reduce(function(g,y){return g+(y.open&&y.persist?1:0)},0);f===i.maxSnack&&(a=!0);var h=o.snacks.map(function(g){return!s&&(!g.persist||a)?(s=!0,g.entered?(g.onClose&&g.onClose(null,"maxsnack",g.id),i.props.onClose&&i.props.onClose(null,"maxsnack",g.id),Er({},g,{open:!1})):Er({},g,{requestClose:!0})):Er({},g)});return Er({},o,{snacks:h})},i.handleEnteredSnack=function(o,s,a){if(!m1(a))throw new Error("handleEnteredSnack Cannot be called with undefined key");i.setState(function(f){var h=f.snacks;return{snacks:h.map(function(g){return g.id===a?Er({},g,{entered:!0}):Er({},g)})}})},i.handleCloseSnack=function(o,s,a){i.props.onClose&&i.props.onClose(o,s,a);var f=a===void 0;i.setState(function(h){var g=h.snacks,y=h.queue;return{snacks:g.map(function(b){return!f&&b.id!==a?Er({},b):b.entered?Er({},b,{open:!1}):Er({},b,{requestClose:!0})}),queue:y.filter(function(b){return b.id!==a})}})},i.closeSnackbar=function(o){var s=i.state.snacks.find(function(a){return a.id===o});m1(o)&&s&&s.onClose&&s.onClose(null,"instructed",o),i.handleCloseSnack(null,"instructed",o)},i.handleExitedSnack=function(o,s){if(!m1(s))throw new Error("handleExitedSnack Cannot be called with undefined key");i.setState(function(a){var f=i.processQueue(Er({},a,{snacks:a.snacks.filter(function(h){return h.id!==s})}));return f.queue.length===0?f:i.handleDismissOldest(f)})},tq=i.enqueueSnackbar,i.closeSnackbar,i.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:i.enqueueSnackbar.bind(gB(i)),closeSnackbar:i.closeSnackbar.bind(gB(i))}},i}var n=t.prototype;return n.render=function(){var i=this,o=this.state.contextValue,s=this.props,a=s.domRoot,f=s.children,h=s.dense,g=h===void 0?!1:h,y=s.Components,b=y===void 0?{}:y,E=s.classes,T=this.state.snacks.reduce(function(M,A){var O,I=AR(A.anchorOrigin),L=M[I]||[];return Er({},M,(O={},O[I]=[].concat(L,[A]),O))},{}),w=Object.keys(T).map(function(M){var A=T[M],O=A[0];return Pe.createElement(Pxe,{key:M,dense:g,anchorOrigin:O.anchorOrigin,classes:E},A.map(function(I){return Pe.createElement(Txe,{key:I.id,snack:I,classes:E,Component:b[I.variant],onClose:i.handleCloseSnack,onEnter:i.props.onEnter,onExit:i.props.onExit,onExited:p0([i.handleExitedSnack,i.props.onExited],I.id),onEntered:p0([i.handleEnteredSnack,i.props.onEntered],I.id)})}))});return Pe.createElement(axe.Provider,{value:o},f,a?wu.createPortal(w,a):w)},H7(t,[{key:"maxSnack",get:function(){return this.props.maxSnack||ih.maxSnack}}]),t}(U.Component);const PB=4e3,Mxe=()=>{const e=Ba();Cn(h=>h.devices.items);const t=U.useRef(),[n,r]=U.useState(!0),[i,o]=U.useState([]),[s,a]=U.useState([]),f=()=>{const h=window.location.protocol==="https:"?"wss:":"ws:",g=new WebSocket(`${h}//${window.location.host}/api/socket`);console.log(`${h}//${window.location.host}/api/socket`),t.current=g,console.log("funcion web socket"),g.onopen=()=>{e(qc.updateSocket(!0)),console.log("funcion web socket open")},g.onclose=async y=>{if(console.log("funcion web socket close"),e(qc.updateSocket(!1)),y.code!==PB){try{const b=await fetch("/api/devices");b.ok&&e(Ja.update(await b.json()));const E=await fetch("/api/positions");E.ok&&e(UE.updatePositions(await E.json())),b.status===401||E.status}catch{}setTimeout(()=>f(),6e4)}},g.onmessage=y=>{const b=JSON.parse(y.data);b.devices&&(b.devices.length>0?e(Ja.update(b.devices)):e(Ja.clear())),b.positions&&e(UE.updatePositions(b.positions)),b.camera&&e(UE.updateCamera(b.camera)),b.server&&(b.server.rosState==="connect"?e(qc.updateServer(!0)):e(qc.updateServer(!1))),b.mission&&(console.log("data mission"),console.log(b.mission),e(Kc.updateMission(b.mission))),b.events&&(console.log("add data events -------"),e(aie.add(b.events)),o(b.events),console.log(b.events)),b.markers&&(console.log("add markers"),e(qc.updateMarker(b.markers)))}};return sx(async()=>{if(n){r(!1);const h=await fetch("/api/devices",{method:"GET"});if(h.ok)e(Ja.refresh(await h.json()));else throw Error(await h.text());return console.log("primera conexion --s"),f(),()=>{const g=t.current;g&&g.close(PB)}}else return null},[]),U.useEffect(()=>{console.log("set notifications"),console.log(i);let h=[];i.map(g=>{let y=!0;s.map(b=>{b.id==g.id&&(y=!1)}),y&&h.push({id:g.id,type:g.type,message:g.attributes.message,show:!0})}),console.log("aux console log"),console.log(h),h.length>0&&a(h),h.forEach(g=>{g.type==="error"&&new Audio(Qbe).play()})},[i]),U.useEffect(()=>{console.log("notifications"),s.map(h=>{tq(h.message,{variant:h.type,autoHideDuration:3e3,persist:!1,onClose:()=>o(i.filter(g=>g.id!==h.id))})})},[s]),$.jsx($.Fragment,{children:$.jsx(Oxe,{preventDuplicate:!0,maxSnack:6,autoHideDuration:5e3,anchorOrigin:{vertical:"bottom",horizontal:"right"}})})},Axe=lre()(Mxe),Ixe=wr(()=>({page:{flexGrow:1,overflow:"auto"},menu:{zIndex:4}})),$xe=()=>{const e=Ixe();return jl(),$.jsxs($.Fragment,{children:[$.jsx(Axe,{}),$.jsx("div",{className:e.page,children:$.jsx(Xte,{})})]})},Rxe=()=>{const{search:e}=D2();return U.useMemo(()=>new URLSearchParams(e),[e])};var nq={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(zp,function(){var n,r,i;function o(a,f){if(!n)n=f;else if(!r)r=f;else{var h="var sharedChunk = {}; ("+n+")(sharedChunk); ("+r+")(sharedChunk);",g={};n(g),i=f(g),typeof window<"u"&&(i.workerUrl=window.URL.createObjectURL(new Blob([h],{type:"text/javascript"})))}}o(["exports"],function(a){function f(u,l,d,m){return new(d||(d=Promise))(function(x,C){function P(W){try{B(m.next(W))}catch(G){C(G)}}function j(W){try{B(m.throw(W))}catch(G){C(G)}}function B(W){var G;W.done?x(W.value):(G=W.value,G instanceof d?G:new d(function(X){X(G)})).then(P,j)}B((m=m.apply(u,l||[])).next())})}function h(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}typeof SuppressedError=="function"&&SuppressedError;var g=y;function y(u,l){this.x=u,this.y=l}y.prototype={clone:function(){return new y(this.x,this.y)},add:function(u){return this.clone()._add(u)},sub:function(u){return this.clone()._sub(u)},multByPoint:function(u){return this.clone()._multByPoint(u)},divByPoint:function(u){return this.clone()._divByPoint(u)},mult:function(u){return this.clone()._mult(u)},div:function(u){return this.clone()._div(u)},rotate:function(u){return this.clone()._rotate(u)},rotateAround:function(u,l){return this.clone()._rotateAround(u,l)},matMult:function(u){return this.clone()._matMult(u)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(u){return this.x===u.x&&this.y===u.y},dist:function(u){return Math.sqrt(this.distSqr(u))},distSqr:function(u){var l=u.x-this.x,d=u.y-this.y;return l*l+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(u){return Math.atan2(this.y-u.y,this.x-u.x)},angleWith:function(u){return this.angleWithSep(u.x,u.y)},angleWithSep:function(u,l){return Math.atan2(this.x*l-this.y*u,this.x*u+this.y*l)},_matMult:function(u){var l=u[2]*this.x+u[3]*this.y;return this.x=u[0]*this.x+u[1]*this.y,this.y=l,this},_add:function(u){return this.x+=u.x,this.y+=u.y,this},_sub:function(u){return this.x-=u.x,this.y-=u.y,this},_mult:function(u){return this.x*=u,this.y*=u,this},_div:function(u){return this.x/=u,this.y/=u,this},_multByPoint:function(u){return this.x*=u.x,this.y*=u.y,this},_divByPoint:function(u){return this.x/=u.x,this.y/=u.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var u=this.y;return this.y=this.x,this.x=-u,this},_rotate:function(u){var l=Math.cos(u),d=Math.sin(u),m=d*this.x+l*this.y;return this.x=l*this.x-d*this.y,this.y=m,this},_rotateAround:function(u,l){var d=Math.cos(u),m=Math.sin(u),x=l.y+m*(this.x-l.x)+d*(this.y-l.y);return this.x=l.x+d*(this.x-l.x)-m*(this.y-l.y),this.y=x,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},y.convert=function(u){return u instanceof y?u:Array.isArray(u)?new y(u[0],u[1]):u};var b=h(g),E=T;function T(u,l,d,m){this.cx=3*u,this.bx=3*(d-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(m-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=l,this.p2x=d,this.p2y=m}T.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,l){if(l===void 0&&(l=1e-6),u<0)return 0;if(u>1)return 1;for(var d=u,m=0;m<8;m++){var x=this.sampleCurveX(d)-u;if(Math.abs(x)<l)return d;var C=this.sampleCurveDerivativeX(d);if(Math.abs(C)<1e-6)break;d-=x/C}var P=0,j=1;for(d=u,m=0;m<20&&(x=this.sampleCurveX(d),!(Math.abs(x-u)<l));m++)u>x?P=d:j=d,d=.5*(j-P)+P;return d},solve:function(u,l){return this.sampleCurveY(this.solveCurveX(u,l))}};var w=h(E);let M,A;function O(){return M==null&&(M=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),M}function I(){if(A==null&&(A=!1,O())){const l=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(l){for(let m=0;m<5*5;m++){const x=4*m;l.fillStyle=`rgb(${x},${x+1},${x+2})`,l.fillRect(m%5,Math.floor(m/5),1,1)}const d=l.getImageData(0,0,5,5).data;for(let m=0;m<5*5*4;m++)if(m%4!=3&&d[m]!==m){A=!0;break}}}return A||!1}function L(u,l,d,m){const x=new w(u,l,d,m);return function(C){return x.solve(C)}}const R=L(.25,.1,.25,1);function D(u,l,d){return Math.min(d,Math.max(l,u))}function F(u,l,d){const m=d-l,x=((u-l)%m+m)%m+l;return x===l?d:x}function q(u,...l){for(const d of l)for(const m in d)u[m]=d[m];return u}let J=1;function K(u,l,d){const m={};for(const x in u)m[x]=l.call(d||this,u[x],x,u);return m}function ne(u,l,d){const m={};for(const x in u)l.call(d||this,u[x],x,u)&&(m[x]=u[x]);return m}function le(u){return Array.isArray(u)?u.map(le):typeof u=="object"&&u?K(u,le):u}const ye={};function de(u){ye[u]||(typeof console<"u"&&console.warn(u),ye[u]=!0)}function se(u,l,d){return(d.y-u.y)*(l.x-u.x)>(l.y-u.y)*(d.x-u.x)}function pe(u){let l=0;for(let d,m,x=0,C=u.length,P=C-1;x<C;P=x++)d=u[x],m=u[P],l+=(m.x-d.x)*(d.y+m.y);return l}function be(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let ce=null;function Ee(u){return typeof ImageBitmap<"u"&&u instanceof ImageBitmap}const Re="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Xe(u,l,d,m,x){return f(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const C=new VideoFrame(u,{timestamp:0});try{const P=C==null?void 0:C.format;if(!P||!P.startsWith("BGR")&&!P.startsWith("RGB"))throw new Error(`Unrecognized format ${P}`);const j=P.startsWith("BGR"),B=new Uint8ClampedArray(m*x*4);if(yield C.copyTo(B,function(W,G,X,te,oe){const ae=4*Math.max(-G,0),he=(Math.max(0,X)-X)*te*4+ae,we=4*te,Te=Math.max(0,G),je=Math.max(0,X);return{rect:{x:Te,y:je,width:Math.min(W.width,G+te)-Te,height:Math.min(W.height,X+oe)-je},layout:[{offset:he,stride:we}]}}(u,l,d,m,x)),j)for(let W=0;W<B.length;W+=4){const G=B[W];B[W]=B[W+2],B[W+2]=G}return B}finally{C.close()}})}let Ae,Fe,qe,rt;const Je={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(u){const l=requestAnimationFrame(u);return{cancel:()=>cancelAnimationFrame(l)}},getImageData(u,l=0){return this.getImageCanvasContext(u).getImageData(-l,-l,u.width+2*l,u.height+2*l)},getImageCanvasContext(u){const l=window.document.createElement("canvas"),d=l.getContext("2d",{willReadFrequently:!0});if(!d)throw new Error("failed to create canvas 2d context");return l.width=u.width,l.height=u.height,d.drawImage(u,0,0,u.width,u.height),d},resolveURL:u=>(qe||(qe=document.createElement("a")),qe.href=u,qe.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(rt==null&&(rt=matchMedia("(prefers-reduced-motion: reduce)")),rt.matches)}},kt={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class bt extends Error{constructor(l,d,m,x){super(`AJAXError: ${d} (${l}): ${m}`),this.status=l,this.statusText=d,this.url=m,this.body=x}}const Ye=be()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href,lt=u=>kt.REGISTERED_PROTOCOLS[u.substring(0,u.indexOf("://"))];function ct(u,l){const d=new AbortController,m=new Request(u.url,{method:u.method||"GET",body:u.body,credentials:u.credentials,headers:u.headers,cache:u.cache,referrer:Ye(),signal:d.signal});let x=!1,C=!1;return u.type==="json"&&m.headers.set("Accept","application/json"),C||fetch(m).then(P=>P.ok?(j=>{(u.type==="arrayBuffer"||u.type==="image"?j.arrayBuffer():u.type==="json"?j.json():j.text()).then(B=>{C||(x=!0,l(null,B,j.headers.get("Cache-Control"),j.headers.get("Expires")))}).catch(B=>{C||l(new Error(B.message))})})(P):P.blob().then(j=>l(new bt(P.status,P.statusText,u.url,j)))).catch(P=>{P.code!==20&&l(new Error(P.message))}),{cancel:()=>{C=!0,x||d.abort()}}}const He=function(u,l){if(/:\/\//.test(u.url)&&!/^https?:|^file:/.test(u.url)){if(be()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,l);if(!be())return(lt(u.url)||ct)(u,l)}if(!(/^file:/.test(d=u.url)||/^file:/.test(Ye())&&!/^\w+:/.test(d))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return ct(u,l);if(be()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,l,void 0,!0)}var d;return function(m,x){const C=new XMLHttpRequest;C.open(m.method||"GET",m.url,!0),m.type!=="arrayBuffer"&&m.type!=="image"||(C.responseType="arraybuffer");for(const P in m.headers)C.setRequestHeader(P,m.headers[P]);return m.type==="json"&&(C.responseType="text",C.setRequestHeader("Accept","application/json")),C.withCredentials=m.credentials==="include",C.onerror=()=>{x(new Error(C.statusText))},C.onload=()=>{if((C.status>=200&&C.status<300||C.status===0)&&C.response!==null){let P=C.response;if(m.type==="json")try{P=JSON.parse(C.response)}catch(j){return x(j)}x(null,P,C.getResponseHeader("Cache-Control"),C.getResponseHeader("Expires"))}else{const P=new Blob([C.response],{type:C.getResponseHeader("Content-Type")});x(new bt(C.status,C.statusText,m.url,P))}},C.send(m.body),{cancel:()=>C.abort()}}(u,l)},Tt=function(u,l){return He(q(u,{type:"arrayBuffer"}),l)};function Mt(u){if(!u||u.indexOf("://")<=0||u.indexOf("data:image/")===0||u.indexOf("blob:")===0)return!0;const l=new URL(u),d=window.location;return l.protocol===d.protocol&&l.host===d.host}function qt(u,l,d){d[u]&&d[u].indexOf(l)!==-1||(d[u]=d[u]||[],d[u].push(l))}function bn(u,l,d){if(d&&d[u]){const m=d[u].indexOf(l);m!==-1&&d[u].splice(m,1)}}class yn{constructor(l,d={}){q(this,d),this.type=l}}class vn extends yn{constructor(l,d={}){super("error",q({error:l},d))}}class Kn{on(l,d){return this._listeners=this._listeners||{},qt(l,d,this._listeners),this}off(l,d){return bn(l,d,this._listeners),bn(l,d,this._oneTimeListeners),this}once(l,d){return d?(this._oneTimeListeners=this._oneTimeListeners||{},qt(l,d,this._oneTimeListeners),this):new Promise(m=>this.once(l,m))}fire(l,d){typeof l=="string"&&(l=new yn(l,d||{}));const m=l.type;if(this.listens(m)){l.target=this;const x=this._listeners&&this._listeners[m]?this._listeners[m].slice():[];for(const j of x)j.call(this,l);const C=this._oneTimeListeners&&this._oneTimeListeners[m]?this._oneTimeListeners[m].slice():[];for(const j of C)bn(m,j,this._oneTimeListeners),j.call(this,l);const P=this._eventedParent;P&&(q(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),P.fire(l))}else l instanceof vn&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,d){return this._eventedParent=l,this._eventedParentData=d,this}}var Be={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const ln=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function wn(u,l){const d={};for(const m in u)m!=="ref"&&(d[m]=u[m]);return ln.forEach(m=>{m in l&&(d[m]=l[m])}),d}function an(u,l){if(Array.isArray(u)){if(!Array.isArray(l)||u.length!==l.length)return!1;for(let d=0;d<u.length;d++)if(!an(u[d],l[d]))return!1;return!0}if(typeof u=="object"&&u!==null&&l!==null){if(typeof l!="object"||Object.keys(u).length!==Object.keys(l).length)return!1;for(const d in u)if(!an(u[d],l[d]))return!1;return!0}return u===l}const Rt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Un(u,l,d){d.push({command:Rt.addSource,args:[u,l[u]]})}function Qn(u,l,d){l.push({command:Rt.removeSource,args:[u]}),d[u]=!0}function yr(u,l,d,m){Qn(u,d,m),Un(u,l,d)}function Mn(u,l,d){let m;for(m in u[d])if(Object.prototype.hasOwnProperty.call(u[d],m)&&m!=="data"&&!an(u[d][m],l[d][m]))return!1;for(m in l[d])if(Object.prototype.hasOwnProperty.call(l[d],m)&&m!=="data"&&!an(u[d][m],l[d][m]))return!1;return!0}function Zt(u,l,d,m,x,C){let P;for(P in l=l||{},u=u||{})Object.prototype.hasOwnProperty.call(u,P)&&(an(u[P],l[P])||d.push({command:C,args:[m,P,l[P],x]}));for(P in l)Object.prototype.hasOwnProperty.call(l,P)&&!Object.prototype.hasOwnProperty.call(u,P)&&(an(u[P],l[P])||d.push({command:C,args:[m,P,l[P],x]}))}function er(u){return u.id}function Xr(u,l){return u[l.id]=l,u}class dt{constructor(l,d,m,x){this.message=(l?`${l}: `:"")+m,x&&(this.identifier=x),d!=null&&d.__line__&&(this.line=d.__line__)}}function Vt(u,...l){for(const d of l)for(const m in d)u[m]=d[m];return u}class fn extends Error{constructor(l,d){super(d),this.message=d,this.key=l}}class xt{constructor(l,d=[]){this.parent=l,this.bindings={};for(const[m,x]of d)this.bindings[m]=x}concat(l){return new xt(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}const zt={kind:"null"},et={kind:"number"},At={kind:"string"},Lt={kind:"boolean"},Wn={kind:"color"},Fr={kind:"object"},hn={kind:"value"},si={kind:"collator"},ve={kind:"formatted"},Q={kind:"padding"},re={kind:"resolvedImage"},ue={kind:"variableAnchorOffsetCollection"};function _e(u,l){return{kind:"array",itemType:u,N:l}}function Se(u){if(u.kind==="array"){const l=Se(u.itemType);return typeof u.N=="number"?`array<${l}, ${u.N}>`:u.itemType.kind==="value"?"array":`array<${l}>`}return u.kind}const Ne=[zt,et,At,Lt,Wn,ve,Fr,_e(hn),Q,re,ue];function Me(u,l){if(l.kind==="error")return null;if(u.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!Me(u.itemType,l.itemType))&&(typeof u.N!="number"||u.N===l.N))return null}else{if(u.kind===l.kind)return null;if(u.kind==="value"){for(const d of Ne)if(!Me(d,l))return null}}return`Expected ${Se(u)} but found ${Se(l)} instead.`}function ke(u,l){return l.some(d=>d.kind===u.kind)}function $e(u,l){return l.some(d=>d==="null"?u===null:d==="array"?Array.isArray(u):d==="object"?u&&!Array.isArray(u)&&typeof u=="object":d===typeof u)}function Ze(u,l){return u.kind==="array"&&l.kind==="array"?u.itemType.kind===l.itemType.kind&&typeof u.N=="number":u.kind===l.kind}const Ke=.96422,Qe=.82521,Xt=4/29,sn=6/29,jt=3*sn*sn,Jt=sn*sn*sn,mn=Math.PI/180,Bn=180/Math.PI;function Zn(u){return(u%=360)<0&&(u+=360),u}function Dn([u,l,d,m]){let x,C;const P=ji((.2225045*(u=An(u))+.7168786*(l=An(l))+.0606169*(d=An(d)))/1);u===l&&l===d?x=C=P:(x=ji((.4360747*u+.3850649*l+.1430804*d)/Ke),C=ji((.0139322*u+.0971045*l+.7141733*d)/Qe));const j=116*P-16;return[j<0?0:j,500*(x-P),200*(P-C),m]}function An(u){return u<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function ji(u){return u>Jt?Math.pow(u,1/3):u/jt+Xt}function ur([u,l,d,m]){let x=(u+16)/116,C=isNaN(l)?x:x+l/500,P=isNaN(d)?x:x-d/200;return x=1*tr(x),C=Ke*tr(C),P=Qe*tr(P),[cn(3.1338561*C-1.6168667*x-.4906146*P),cn(-.9787684*C+1.9161415*x+.033454*P),cn(.0719453*C-.2289914*x+1.4052427*P),m]}function cn(u){return(u=u<=.00304?12.92*u:1.055*Math.pow(u,1/2.4)-.055)<0?0:u>1?1:u}function tr(u){return u>sn?u*u*u:jt*(u-Xt)}function ya(u){return parseInt(u.padEnd(2,u),16)/255}function Ix(u,l){return Iu(l?u/100:u,0,1)}function Iu(u,l,d){return Math.min(Math.max(l,u),d)}function $u(u){return!u.some(Number.isNaN)}const Qk={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class rr{constructor(l,d,m,x=1,C=!0){this.r=l,this.g=d,this.b=m,this.a=x,C||(this.r*=x,this.g*=x,this.b*=x,x||this.overwriteGetter("rgb",[l,d,m,x]))}static parse(l){if(l instanceof rr)return l;if(typeof l!="string")return;const d=function(m){if((m=m.toLowerCase().trim())==="transparent")return[0,0,0,0];const x=Qk[m];if(x){const[P,j,B]=x;return[P/255,j/255,B/255,1]}if(m.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(m)){const P=m.length<6?1:2;let j=1;return[ya(m.slice(j,j+=P)),ya(m.slice(j,j+=P)),ya(m.slice(j,j+=P)),ya(m.slice(j,j+P)||"ff")]}if(m.startsWith("rgb")){const P=m.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(P){const[j,B,W,G,X,te,oe,ae,he,we,Te,je]=P,Oe=[G||" ",oe||" ",we].join("");if(Oe==="  "||Oe==="  /"||Oe===",,"||Oe===",,,"){const ze=[W,te,he].join(""),Ve=ze==="%%%"?100:ze===""?255:0;if(Ve){const nt=[Iu(+B/Ve,0,1),Iu(+X/Ve,0,1),Iu(+ae/Ve,0,1),Te?Ix(+Te,je):1];if($u(nt))return nt}}return}}const C=m.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(C){const[P,j,B,W,G,X,te,oe,ae]=C,he=[B||" ",G||" ",te].join("");if(he==="  "||he==="  /"||he===",,"||he===",,,"){const we=[+j,Iu(+W,0,100),Iu(+X,0,100),oe?Ix(+oe,ae):1];if($u(we))return function([Te,je,Oe,ze]){function Ve(nt){const Ot=(nt+Te/30)%12,Ft=je*Math.min(Oe,1-Oe);return Oe-Ft*Math.max(-1,Math.min(Ot-3,9-Ot,1))}return Te=Zn(Te),je/=100,Oe/=100,[Ve(0),Ve(8),Ve(4),ze]}(we)}}}(l);return d?new rr(...d,!1):void 0}get rgb(){const{r:l,g:d,b:m,a:x}=this,C=x||1/0;return this.overwriteGetter("rgb",[l/C,d/C,m/C,x])}get hcl(){return this.overwriteGetter("hcl",function(l){const[d,m,x,C]=Dn(l),P=Math.sqrt(m*m+x*x);return[Math.round(1e4*P)?Zn(Math.atan2(x,m)*Bn):NaN,P,d,C]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Dn(this.rgb))}overwriteGetter(l,d){return Object.defineProperty(this,l,{value:d}),d}toString(){const[l,d,m,x]=this.rgb;return`rgba(${[l,d,m].map(C=>Math.round(255*C)).join(",")},${x})`}}rr.black=new rr(0,0,0,1),rr.white=new rr(1,1,1,1),rr.transparent=new rr(0,0,0,0),rr.red=new rr(1,0,0,1);class Kg{constructor(l,d,m){this.sensitivity=l?d?"variant":"case":d?"accent":"base",this.locale=m,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,d){return this.collator.compare(l,d)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class $h{constructor(l,d,m,x,C){this.text=l,this.image=d,this.scale=m,this.fontStack=x,this.textColor=C}}class Ji{constructor(l){this.sections=l}static fromString(l){return new Ji([new $h(l,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(l=>l.text.length!==0||l.image&&l.image.name.length!==0)}static factory(l){return l instanceof Ji?l:Ji.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map(l=>l.text).join("")}}class Ko{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Ko)return l;if(typeof l=="number")return new Ko([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(const d of l)if(typeof d!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]]}return new Ko(l)}}toString(){return JSON.stringify(this.values)}}const eT=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class va{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof va)return l;if(Array.isArray(l)&&!(l.length<1)&&l.length%2==0){for(let d=0;d<l.length;d+=2){const m=l[d],x=l[d+1];if(typeof m!="string"||!eT.has(m)||!Array.isArray(x)||x.length!==2||typeof x[0]!="number"||typeof x[1]!="number")return}return new va(l)}}toString(){return JSON.stringify(this.values)}}class Fi{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new Fi({name:l,available:!1}):null}}function Rh(u,l,d,m){return typeof u=="number"&&u>=0&&u<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof d=="number"&&d>=0&&d<=255?m===void 0||typeof m=="number"&&m>=0&&m<=1?null:`Invalid rgba value [${[u,l,d,m].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof m=="number"?[u,l,d,m]:[u,l,d]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ru(u){if(u===null||typeof u=="string"||typeof u=="boolean"||typeof u=="number"||u instanceof rr||u instanceof Kg||u instanceof Ji||u instanceof Ko||u instanceof va||u instanceof Fi)return!0;if(Array.isArray(u)){for(const l of u)if(!Ru(l))return!1;return!0}if(typeof u=="object"){for(const l in u)if(!Ru(u[l]))return!1;return!0}return!1}function Rr(u){if(u===null)return zt;if(typeof u=="string")return At;if(typeof u=="boolean")return Lt;if(typeof u=="number")return et;if(u instanceof rr)return Wn;if(u instanceof Kg)return si;if(u instanceof Ji)return ve;if(u instanceof Ko)return Q;if(u instanceof va)return ue;if(u instanceof Fi)return re;if(Array.isArray(u)){const l=u.length;let d;for(const m of u){const x=Rr(m);if(d){if(d===x)continue;d=hn;break}d=x}return _e(d||hn,l)}return Fr}function qn(u){const l=typeof u;return u===null?"":l==="string"||l==="number"||l==="boolean"?String(u):u instanceof rr||u instanceof Ji||u instanceof Ko||u instanceof va||u instanceof Fi?u.toString():JSON.stringify(u)}class _c{constructor(l,d){this.type=l,this.value=d}static parse(l,d){if(l.length!==2)return d.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!Ru(l[1]))return d.error("invalid value");const m=l[1];let x=Rr(m);const C=d.expectedType;return x.kind!=="array"||x.N!==0||!C||C.kind!=="array"||typeof C.N=="number"&&C.N!==0||(x=C),new _c(x,m)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Ur{constructor(l){this.name="ExpressionEvaluationError",this.message=l}toJSON(){return this.message}}const Dh={string:At,number:et,boolean:Lt,object:Fr};class ba{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");let m,x=1;const C=l[0];if(C==="array"){let j,B;if(l.length>2){const W=l[1];if(typeof W!="string"||!(W in Dh)||W==="object")return d.error('The item type argument of "array" must be one of string, number, boolean',1);j=Dh[W],x++}else j=hn;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return d.error('The length argument to "array" must be a positive integer literal',2);B=l[2],x++}m=_e(j,B)}else{if(!Dh[C])throw new Error(`Types doesn't contain name = ${C}`);m=Dh[C]}const P=[];for(;x<l.length;x++){const j=d.parse(l[x],x,hn);if(!j)return null;P.push(j)}return new ba(m,P)}evaluate(l){for(let d=0;d<this.args.length;d++){const m=this.args[d].evaluate(l);if(!Me(this.type,Rr(m)))return m;if(d===this.args.length-1)throw new Ur(`Expected value to be of type ${Se(this.type)}, but found ${Se(Rr(m))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const Zg={"to-boolean":Lt,"to-color":Wn,"to-number":et,"to-string":At};class Bl{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const m=l[0];if(!Zg[m])throw new Error(`Can't parse ${m} as it is not part of the known types`);if((m==="to-boolean"||m==="to-string")&&l.length!==2)return d.error("Expected one argument.");const x=Zg[m],C=[];for(let P=1;P<l.length;P++){const j=d.parse(l[P],P,hn);if(!j)return null;C.push(j)}return new Bl(x,C)}evaluate(l){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(l);case"color":{let d,m;for(const x of this.args){if(d=x.evaluate(l),m=null,d instanceof rr)return d;if(typeof d=="string"){const C=l.parseColor(d);if(C)return C}else if(Array.isArray(d)&&(m=d.length<3||d.length>4?`Invalid rbga value ${JSON.stringify(d)}: expected an array containing either three or four numeric values.`:Rh(d[0],d[1],d[2],d[3]),!m))return new rr(d[0]/255,d[1]/255,d[2]/255,d[3])}throw new Ur(m||`Could not parse color from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"padding":{let d;for(const m of this.args){d=m.evaluate(l);const x=Ko.parse(d);if(x)return x}throw new Ur(`Could not parse padding from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"variableAnchorOffsetCollection":{let d;for(const m of this.args){d=m.evaluate(l);const x=va.parse(d);if(x)return x}throw new Ur(`Could not parse variableAnchorOffsetCollection from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"number":{let d=null;for(const m of this.args){if(d=m.evaluate(l),d===null)return 0;const x=Number(d);if(!isNaN(x))return x}throw new Ur(`Could not convert ${JSON.stringify(d)} to number.`)}case"formatted":return Ji.fromString(qn(this.args[0].evaluate(l)));case"resolvedImage":return Fi.fromString(qn(this.args[0].evaluate(l)));default:return qn(this.args[0].evaluate(l))}}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const $x=["Unknown","Point","LineString","Polygon"];class Xg{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?$x[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let d=this._parseColorCache[l];return d||(d=this._parseColorCache[l]=rr.parse(l)),d}}class jh{constructor(l,d,m=[],x,C=new xt,P=[]){this.registry=l,this.path=m,this.key=m.map(j=>`[${j}]`).join(""),this.scope=C,this.errors=P,this.expectedType=x,this._isConstant=d}parse(l,d,m,x,C={}){return d?this.concat(d,m,x)._parse(l,C):this._parse(l,C)}_parse(l,d){function m(x,C,P){return P==="assert"?new ba(C,[x]):P==="coerce"?new Bl(C,[x]):x}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const x=l[0];if(typeof x!="string")return this.error(`Expression name must be a string, but found ${typeof x} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const C=this.registry[x];if(C){let P=C.parse(l,this);if(!P)return null;if(this.expectedType){const j=this.expectedType,B=P.type;if(j.kind!=="string"&&j.kind!=="number"&&j.kind!=="boolean"&&j.kind!=="object"&&j.kind!=="array"||B.kind!=="value")if(j.kind!=="color"&&j.kind!=="formatted"&&j.kind!=="resolvedImage"||B.kind!=="value"&&B.kind!=="string")if(j.kind!=="padding"||B.kind!=="value"&&B.kind!=="number"&&B.kind!=="array")if(j.kind!=="variableAnchorOffsetCollection"||B.kind!=="value"&&B.kind!=="array"){if(this.checkSubtype(j,B))return null}else P=m(P,j,d.typeAnnotation||"coerce");else P=m(P,j,d.typeAnnotation||"coerce");else P=m(P,j,d.typeAnnotation||"coerce");else P=m(P,j,d.typeAnnotation||"assert")}if(!(P instanceof _c)&&P.type.kind!=="resolvedImage"&&this._isConstant(P)){const j=new Xg;try{P=new _c(P.type,P.evaluate(j))}catch(B){return this.error(B.message),null}}return P}return this.error(`Unknown expression "${x}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof l} instead.`)}concat(l,d,m){const x=typeof l=="number"?this.path.concat(l):this.path,C=m?this.scope.concat(m):this.scope;return new jh(this.registry,this._isConstant,x,d||null,C,this.errors)}error(l,...d){const m=`${this.key}${d.map(x=>`[${x}]`).join("")}`;this.errors.push(new fn(m,l))}checkSubtype(l,d){const m=Me(l,d);return m&&this.error(m),m}}class Lh{constructor(l,d,m){this.type=si,this.locale=m,this.caseSensitive=l,this.diacriticSensitive=d}static parse(l,d){if(l.length!==2)return d.error("Expected one argument.");const m=l[1];if(typeof m!="object"||Array.isArray(m))return d.error("Collator options argument must be an object.");const x=d.parse(m["case-sensitive"]!==void 0&&m["case-sensitive"],1,Lt);if(!x)return null;const C=d.parse(m["diacritic-sensitive"]!==void 0&&m["diacritic-sensitive"],1,Lt);if(!C)return null;let P=null;return m.locale&&(P=d.parse(m.locale,1,At),!P)?null:new Lh(x,C,P)}evaluate(l){return new Kg(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}const Fl=8192;function Jg(u,l){u[0]=Math.min(u[0],l[0]),u[1]=Math.min(u[1],l[1]),u[2]=Math.max(u[2],l[0]),u[3]=Math.max(u[3],l[1])}function of(u,l){return!(u[0]<=l[0]||u[2]>=l[2]||u[1]<=l[1]||u[3]>=l[3])}function Rx(u,l){const d=(180+u[0])/360,m=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u[1]*Math.PI/360)))/360,x=Math.pow(2,l.z);return[Math.round(d*x*Fl),Math.round(m*x*Fl)]}function tT(u,l,d){const m=u[0]-l[0],x=u[1]-l[1],C=u[0]-d[0],P=u[1]-d[1];return m*P-C*x==0&&m*C<=0&&x*P<=0}function Qg(u,l){let d=!1;for(let P=0,j=l.length;P<j;P++){const B=l[P];for(let W=0,G=B.length;W<G-1;W++){if(tT(u,B[W],B[W+1]))return!1;(x=B[W])[1]>(m=u)[1]!=(C=B[W+1])[1]>m[1]&&m[0]<(C[0]-x[0])*(m[1]-x[1])/(C[1]-x[1])+x[0]&&(d=!d)}}var m,x,C;return d}function ey(u,l){for(let d=0;d<l.length;d++)if(Qg(u,l[d]))return!0;return!1}function Dx(u,l,d,m){const x=m[0]-d[0],C=m[1]-d[1],P=(u[0]-d[0])*C-x*(u[1]-d[1]),j=(l[0]-d[0])*C-x*(l[1]-d[1]);return P>0&&j<0||P<0&&j>0}function nT(u,l,d){for(const W of d)for(let G=0;G<W.length-1;++G)if((j=[(P=W[G+1])[0]-(C=W[G])[0],P[1]-C[1]])[0]*(B=[(x=l)[0]-(m=u)[0],x[1]-m[1]])[1]-j[1]*B[0]!=0&&Dx(m,x,C,P)&&Dx(C,P,m,x))return!0;var m,x,C,P,j,B;return!1}function jx(u,l){for(let d=0;d<u.length;++d)if(!Qg(u[d],l))return!1;for(let d=0;d<u.length-1;++d)if(nT(u[d],u[d+1],l))return!1;return!0}function Lx(u,l){for(let d=0;d<l.length;d++)if(jx(u,l[d]))return!0;return!1}function Nh(u,l,d){const m=[];for(let x=0;x<u.length;x++){const C=[];for(let P=0;P<u[x].length;P++){const j=Rx(u[x][P],d);Jg(l,j),C.push(j)}m.push(C)}return m}function Nx(u,l,d){const m=[];for(let x=0;x<u.length;x++){const C=Nh(u[x],l,d);m.push(C)}return m}function zx(u,l,d,m){if(u[0]<d[0]||u[0]>d[2]){const x=.5*m;let C=u[0]-d[0]>x?-m:d[0]-u[0]>x?m:0;C===0&&(C=u[0]-d[2]>x?-m:d[2]-u[0]>x?m:0),u[0]+=C}Jg(l,u)}function ty(u,l,d,m){const x=Math.pow(2,m.z)*Fl,C=[m.x*Fl,m.y*Fl],P=[];for(const j of u)for(const B of j){const W=[B.x+C[0],B.y+C[1]];zx(W,l,d,x),P.push(W)}return P}function ny(u,l,d,m){const x=Math.pow(2,m.z)*Fl,C=[m.x*Fl,m.y*Fl],P=[];for(const B of u){const W=[];for(const G of B){const X=[G.x+C[0],G.y+C[1]];Jg(l,X),W.push(X)}P.push(W)}if(l[2]-l[0]<=x/2){(j=l)[0]=j[1]=1/0,j[2]=j[3]=-1/0;for(const B of P)for(const W of B)zx(W,l,d,x)}var j;return P}class wc{constructor(l,d){this.type=Lt,this.geojson=l,this.geometries=d}static parse(l,d){if(l.length!==2)return d.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if(Ru(l[1])){const m=l[1];if(m.type==="FeatureCollection")for(let x=0;x<m.features.length;++x){const C=m.features[x].geometry.type;if(C==="Polygon"||C==="MultiPolygon")return new wc(m,m.features[x].geometry)}else if(m.type==="Feature"){const x=m.geometry.type;if(x==="Polygon"||x==="MultiPolygon")return new wc(m,m.geometry)}else if(m.type==="Polygon"||m.type==="MultiPolygon")return new wc(m,m)}return d.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return function(d,m){const x=[1/0,1/0,-1/0,-1/0],C=[1/0,1/0,-1/0,-1/0],P=d.canonicalID();if(m.type==="Polygon"){const j=Nh(m.coordinates,C,P),B=ty(d.geometry(),x,C,P);if(!of(x,C))return!1;for(const W of B)if(!Qg(W,j))return!1}if(m.type==="MultiPolygon"){const j=Nx(m.coordinates,C,P),B=ty(d.geometry(),x,C,P);if(!of(x,C))return!1;for(const W of B)if(!ey(W,j))return!1}return!0}(l,this.geometries);if(l.geometryType()==="LineString")return function(d,m){const x=[1/0,1/0,-1/0,-1/0],C=[1/0,1/0,-1/0,-1/0],P=d.canonicalID();if(m.type==="Polygon"){const j=Nh(m.coordinates,C,P),B=ny(d.geometry(),x,C,P);if(!of(x,C))return!1;for(const W of B)if(!jx(W,j))return!1}if(m.type==="MultiPolygon"){const j=Nx(m.coordinates,C,P),B=ny(d.geometry(),x,C,P);if(!of(x,C))return!1;for(const W of B)if(!Lx(W,j))return!1}return!0}(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class zh{constructor(l,d){this.type=d.type,this.name=l,this.boundExpression=d}static parse(l,d){if(l.length!==2||typeof l[1]!="string")return d.error("'var' expression requires exactly one string literal argument.");const m=l[1];return d.scope.has(m)?new zh(m,d.scope.get(m)):d.error(`Unknown variable "${m}". Make sure "${m}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class xa{constructor(l,d,m,x){this.name=l,this.type=d,this._evaluate=m,this.args=x}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,d){const m=l[0],x=xa.definitions[m];if(!x)return d.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0);const C=Array.isArray(x)?x[0]:x.type,P=Array.isArray(x)?[[x[1],x[2]]]:x.overloads,j=P.filter(([W])=>!Array.isArray(W)||W.length===l.length-1);let B=null;for(const[W,G]of j){B=new jh(d.registry,Bh,d.path,null,d.scope);const X=[];let te=!1;for(let oe=1;oe<l.length;oe++){const ae=l[oe],he=Array.isArray(W)?W[oe-1]:W.type,we=B.parse(ae,1+X.length,he);if(!we){te=!0;break}X.push(we)}if(!te)if(Array.isArray(W)&&W.length!==X.length)B.error(`Expected ${W.length} arguments, but found ${X.length} instead.`);else{for(let oe=0;oe<X.length;oe++){const ae=Array.isArray(W)?W[oe]:W.type,he=X[oe];B.concat(oe+1).checkSubtype(ae,he.type)}if(B.errors.length===0)return new xa(m,C,G,X)}}if(j.length===1)d.errors.push(...B.errors);else{const W=(j.length?j:P).map(([X])=>{return te=X,Array.isArray(te)?`(${te.map(Se).join(", ")})`:`(${Se(te.type)}...)`;var te}).join(" | "),G=[];for(let X=1;X<l.length;X++){const te=d.parse(l[X],1+G.length);if(!te)return null;G.push(Se(te.type))}d.error(`Expected arguments of type ${W}, but found (${G.join(", ")}) instead.`)}return null}static register(l,d){xa.definitions=d;for(const m in d)l[m]=xa}}function Bh(u){if(u instanceof zh)return Bh(u.boundExpression);if(u instanceof xa&&u.name==="error"||u instanceof Lh||u instanceof wc)return!1;const l=u instanceof Bl||u instanceof ba;let d=!0;return u.eachChild(m=>{d=l?d&&Bh(m):d&&m instanceof _c}),!!d&&Fh(u)&&Uh(u,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Fh(u){if(u instanceof xa&&(u.name==="get"&&u.args.length===1||u.name==="feature-state"||u.name==="has"&&u.args.length===1||u.name==="properties"||u.name==="geometry-type"||u.name==="id"||/^filter-/.test(u.name))||u instanceof wc)return!1;let l=!0;return u.eachChild(d=>{l&&!Fh(d)&&(l=!1)}),l}function af(u){if(u instanceof xa&&u.name==="feature-state")return!1;let l=!0;return u.eachChild(d=>{l&&!af(d)&&(l=!1)}),l}function Uh(u,l){if(u instanceof xa&&l.indexOf(u.name)>=0)return!1;let d=!0;return u.eachChild(m=>{d&&!Uh(m,l)&&(d=!1)}),d}function Du(u,l){const d=u.length-1;let m,x,C=0,P=d,j=0;for(;C<=P;)if(j=Math.floor((C+P)/2),m=u[j],x=u[j+1],m<=l){if(j===d||l<x)return j;C=j+1}else{if(!(m>l))throw new Ur("Input is not a number.");P=j-1}return 0}class Ul{constructor(l,d,m){this.type=l,this.input=d,this.labels=[],this.outputs=[];for(const[x,C]of m)this.labels.push(x),this.outputs.push(C)}static parse(l,d){if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");const m=d.parse(l[1],1,et);if(!m)return null;const x=[];let C=null;d.expectedType&&d.expectedType.kind!=="value"&&(C=d.expectedType);for(let P=1;P<l.length;P+=2){const j=P===1?-1/0:l[P],B=l[P+1],W=P,G=P+1;if(typeof j!="number")return d.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',W);if(x.length&&x[x.length-1][0]>=j)return d.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',W);const X=d.parse(B,G,C);if(!X)return null;C=C||X.type,x.push([j,X])}return new Ul(C,m,x)}evaluate(l){const d=this.labels,m=this.outputs;if(d.length===1)return m[0].evaluate(l);const x=this.input.evaluate(l);if(x<=d[0])return m[0].evaluate(l);const C=d.length;return x>=d[C-1]?m[C-1].evaluate(l):m[Du(d,x)].evaluate(l)}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function jn(u,l,d){return u+d*(l-u)}function Vh(u,l,d){return u.map((m,x)=>jn(m,l[x],d))}const Zo={number:jn,color:function(u,l,d,m="rgb"){switch(m){case"rgb":{const[x,C,P,j]=Vh(u.rgb,l.rgb,d);return new rr(x,C,P,j,!1)}case"hcl":{const[x,C,P,j]=u.hcl,[B,W,G,X]=l.hcl;let te,oe;if(isNaN(x)||isNaN(B))isNaN(x)?isNaN(B)?te=NaN:(te=B,P!==1&&P!==0||(oe=W)):(te=x,G!==1&&G!==0||(oe=C));else{let je=B-x;B>x&&je>180?je-=360:B<x&&x-B>180&&(je+=360),te=x+d*je}const[ae,he,we,Te]=function([je,Oe,ze,Ve]){return je=isNaN(je)?0:je*mn,ur([ze,Math.cos(je)*Oe,Math.sin(je)*Oe,Ve])}([te,oe??jn(C,W,d),jn(P,G,d),jn(j,X,d)]);return new rr(ae,he,we,Te,!1)}case"lab":{const[x,C,P,j]=ur(Vh(u.lab,l.lab,d));return new rr(x,C,P,j,!1)}}},array:Vh,padding:function(u,l,d){return new Ko(Vh(u.values,l.values,d))},variableAnchorOffsetCollection:function(u,l,d){const m=u.values,x=l.values;if(m.length!==x.length)throw new Ur(`Cannot interpolate values of different length. from: ${u.toString()}, to: ${l.toString()}`);const C=[];for(let P=0;P<m.length;P+=2){if(m[P]!==x[P])throw new Ur(`Cannot interpolate values containing mismatched anchors. from[${P}]: ${m[P]}, to[${P}]: ${x[P]}`);C.push(m[P]);const[j,B]=m[P+1],[W,G]=x[P+1];C.push([jn(j,W,d),jn(B,G,d)])}return new va(C)}};class Xo{constructor(l,d,m,x,C){this.type=l,this.operator=d,this.interpolation=m,this.input=x,this.labels=[],this.outputs=[];for(const[P,j]of C)this.labels.push(P),this.outputs.push(j)}static interpolationFactor(l,d,m,x){let C=0;if(l.name==="exponential")C=ry(d,l.base,m,x);else if(l.name==="linear")C=ry(d,1,m,x);else if(l.name==="cubic-bezier"){const P=l.controlPoints;C=new w(P[0],P[1],P[2],P[3]).solve(ry(d,1,m,x))}return C}static parse(l,d){let[m,x,C,...P]=l;if(!Array.isArray(x)||x.length===0)return d.error("Expected an interpolation type expression.",1);if(x[0]==="linear")x={name:"linear"};else if(x[0]==="exponential"){const W=x[1];if(typeof W!="number")return d.error("Exponential interpolation requires a numeric base.",1,1);x={name:"exponential",base:W}}else{if(x[0]!=="cubic-bezier")return d.error(`Unknown interpolation type ${String(x[0])}`,1,0);{const W=x.slice(1);if(W.length!==4||W.some(G=>typeof G!="number"||G<0||G>1))return d.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);x={name:"cubic-bezier",controlPoints:W}}}if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");if(C=d.parse(C,2,et),!C)return null;const j=[];let B=null;m==="interpolate-hcl"||m==="interpolate-lab"?B=Wn:d.expectedType&&d.expectedType.kind!=="value"&&(B=d.expectedType);for(let W=0;W<P.length;W+=2){const G=P[W],X=P[W+1],te=W+3,oe=W+4;if(typeof G!="number")return d.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',te);if(j.length&&j[j.length-1][0]>=G)return d.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',te);const ae=d.parse(X,oe,B);if(!ae)return null;B=B||ae.type,j.push([G,ae])}return Ze(B,et)||Ze(B,Wn)||Ze(B,Q)||Ze(B,ue)||Ze(B,_e(et))?new Xo(B,m,x,C,j):d.error(`Type ${Se(B)} is not interpolatable.`)}evaluate(l){const d=this.labels,m=this.outputs;if(d.length===1)return m[0].evaluate(l);const x=this.input.evaluate(l);if(x<=d[0])return m[0].evaluate(l);const C=d.length;if(x>=d[C-1])return m[C-1].evaluate(l);const P=Du(d,x),j=Xo.interpolationFactor(this.interpolation,x,d[P],d[P+1]),B=m[P].evaluate(l),W=m[P+1].evaluate(l);switch(this.operator){case"interpolate":return Zo[this.type.kind](B,W,j);case"interpolate-hcl":return Zo.color(B,W,j,"hcl");case"interpolate-lab":return Zo.color(B,W,j,"lab")}}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function ry(u,l,d,m){const x=m-d,C=u-d;return x===0?0:l===1?C/x:(Math.pow(l,C)-1)/(Math.pow(l,x)-1)}class Wh{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expectected at least one argument.");let m=null;const x=d.expectedType;x&&x.kind!=="value"&&(m=x);const C=[];for(const j of l.slice(1)){const B=d.parse(j,1+C.length,m,void 0,{typeAnnotation:"omit"});if(!B)return null;m=m||B.type,C.push(B)}if(!m)throw new Error("No output type");const P=x&&C.some(j=>Me(x,j.type));return new Wh(P?hn:m,C)}evaluate(l){let d,m=null,x=0;for(const C of this.args)if(x++,m=C.evaluate(l),m&&m instanceof Fi&&!m.available&&(d||(d=m.name),m=null,x===this.args.length&&(m=d)),m!==null)break;return m}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}class qh{constructor(l,d){this.type=d.type,this.bindings=[].concat(l),this.result=d}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(const d of this.bindings)l(d[1]);l(this.result)}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);const m=[];for(let C=1;C<l.length-1;C+=2){const P=l[C];if(typeof P!="string")return d.error(`Expected string, but found ${typeof P} instead.`,C);if(/[^a-zA-Z0-9_]/.test(P))return d.error("Variable names must contain only alphanumeric characters or '_'.",C);const j=d.parse(l[C+1],C+1);if(!j)return null;m.push([P,j])}const x=d.parse(l[l.length-1],l.length-1,d.expectedType,m);return x?new qh(m,x):null}outputDefined(){return this.result.outputDefined()}}class iy{constructor(l,d,m){this.type=l,this.index=d,this.input=m}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const m=d.parse(l[1],1,et),x=d.parse(l[2],2,_e(d.expectedType||hn));return m&&x?new iy(x.type.itemType,m,x):null}evaluate(l){const d=this.index.evaluate(l),m=this.input.evaluate(l);if(d<0)throw new Ur(`Array index out of bounds: ${d} < 0.`);if(d>=m.length)throw new Ur(`Array index out of bounds: ${d} > ${m.length-1}.`);if(d!==Math.floor(d))throw new Ur(`Array index must be an integer, but found ${d} instead.`);return m[d]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class oy{constructor(l,d){this.type=Lt,this.needle=l,this.haystack=d}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const m=d.parse(l[1],1,hn),x=d.parse(l[2],2,hn);return m&&x?ke(m.type,[Lt,At,et,zt,hn])?new oy(m,x):d.error(`Expected first argument to be of type boolean, string, number or null, but found ${Se(m.type)} instead`):null}evaluate(l){const d=this.needle.evaluate(l),m=this.haystack.evaluate(l);if(!m)return!1;if(!$e(d,["boolean","string","number","null"]))throw new Ur(`Expected first argument to be of type boolean, string, number or null, but found ${Se(Rr(d))} instead.`);if(!$e(m,["string","array"]))throw new Ur(`Expected second argument to be of type array or string, but found ${Se(Rr(m))} instead.`);return m.indexOf(d)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class Hh{constructor(l,d,m){this.type=et,this.needle=l,this.haystack=d,this.fromIndex=m}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const m=d.parse(l[1],1,hn),x=d.parse(l[2],2,hn);if(!m||!x)return null;if(!ke(m.type,[Lt,At,et,zt,hn]))return d.error(`Expected first argument to be of type boolean, string, number or null, but found ${Se(m.type)} instead`);if(l.length===4){const C=d.parse(l[3],3,et);return C?new Hh(m,x,C):null}return new Hh(m,x)}evaluate(l){const d=this.needle.evaluate(l),m=this.haystack.evaluate(l);if(!$e(d,["boolean","string","number","null"]))throw new Ur(`Expected first argument to be of type boolean, string, number or null, but found ${Se(Rr(d))} instead.`);if(!$e(m,["string","array"]))throw new Ur(`Expected second argument to be of type array or string, but found ${Se(Rr(m))} instead.`);if(this.fromIndex){const x=this.fromIndex.evaluate(l);return m.indexOf(d,x)}return m.indexOf(d)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class ay{constructor(l,d,m,x,C,P){this.inputType=l,this.type=d,this.input=m,this.cases=x,this.outputs=C,this.otherwise=P}static parse(l,d){if(l.length<5)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return d.error("Expected an even number of arguments.");let m,x;d.expectedType&&d.expectedType.kind!=="value"&&(x=d.expectedType);const C={},P=[];for(let W=2;W<l.length-1;W+=2){let G=l[W];const X=l[W+1];Array.isArray(G)||(G=[G]);const te=d.concat(W);if(G.length===0)return te.error("Expected at least one branch label.");for(const ae of G){if(typeof ae!="number"&&typeof ae!="string")return te.error("Branch labels must be numbers or strings.");if(typeof ae=="number"&&Math.abs(ae)>Number.MAX_SAFE_INTEGER)return te.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof ae=="number"&&Math.floor(ae)!==ae)return te.error("Numeric branch labels must be integer values.");if(m){if(te.checkSubtype(m,Rr(ae)))return null}else m=Rr(ae);if(C[String(ae)]!==void 0)return te.error("Branch labels must be unique.");C[String(ae)]=P.length}const oe=d.parse(X,W,x);if(!oe)return null;x=x||oe.type,P.push(oe)}const j=d.parse(l[1],1,hn);if(!j)return null;const B=d.parse(l[l.length-1],l.length-1,x);return B?j.type.kind!=="value"&&d.concat(1).checkSubtype(m,j.type)?null:new ay(m,x,j,C,P,B):null}evaluate(l){const d=this.input.evaluate(l);return(Rr(d)===this.inputType&&this.outputs[this.cases[d]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every(l=>l.outputDefined())&&this.otherwise.outputDefined()}}class sy{constructor(l,d,m){this.type=l,this.branches=d,this.otherwise=m}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return d.error("Expected an odd number of arguments.");let m;d.expectedType&&d.expectedType.kind!=="value"&&(m=d.expectedType);const x=[];for(let P=1;P<l.length-1;P+=2){const j=d.parse(l[P],P,Lt);if(!j)return null;const B=d.parse(l[P+1],P+1,m);if(!B)return null;x.push([j,B]),m=m||B.type}const C=d.parse(l[l.length-1],l.length-1,m);if(!C)return null;if(!m)throw new Error("Can't infer output type");return new sy(m,x,C)}evaluate(l){for(const[d,m]of this.branches)if(d.evaluate(l))return m.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(const[d,m]of this.branches)l(d),l(m);l(this.otherwise)}outputDefined(){return this.branches.every(([l,d])=>d.outputDefined())&&this.otherwise.outputDefined()}}class Gh{constructor(l,d,m,x){this.type=l,this.input=d,this.beginIndex=m,this.endIndex=x}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const m=d.parse(l[1],1,hn),x=d.parse(l[2],2,et);if(!m||!x)return null;if(!ke(m.type,[_e(hn),At,hn]))return d.error(`Expected first argument to be of type array or string, but found ${Se(m.type)} instead`);if(l.length===4){const C=d.parse(l[3],3,et);return C?new Gh(m.type,m,x,C):null}return new Gh(m.type,m,x)}evaluate(l){const d=this.input.evaluate(l),m=this.beginIndex.evaluate(l);if(!$e(d,["string","array"]))throw new Ur(`Expected first argument to be of type array or string, but found ${Se(Rr(d))} instead.`);if(this.endIndex){const x=this.endIndex.evaluate(l);return d.slice(m,x)}return d.slice(m)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function Bx(u,l){return u==="=="||u==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function Fx(u,l,d,m){return m.compare(l,d)===0}function ju(u,l,d){const m=u!=="=="&&u!=="!=";return class rq{constructor(C,P,j){this.type=Lt,this.lhs=C,this.rhs=P,this.collator=j,this.hasUntypedArgument=C.type.kind==="value"||P.type.kind==="value"}static parse(C,P){if(C.length!==3&&C.length!==4)return P.error("Expected two or three arguments.");const j=C[0];let B=P.parse(C[1],1,hn);if(!B)return null;if(!Bx(j,B.type))return P.concat(1).error(`"${j}" comparisons are not supported for type '${Se(B.type)}'.`);let W=P.parse(C[2],2,hn);if(!W)return null;if(!Bx(j,W.type))return P.concat(2).error(`"${j}" comparisons are not supported for type '${Se(W.type)}'.`);if(B.type.kind!==W.type.kind&&B.type.kind!=="value"&&W.type.kind!=="value")return P.error(`Cannot compare types '${Se(B.type)}' and '${Se(W.type)}'.`);m&&(B.type.kind==="value"&&W.type.kind!=="value"?B=new ba(W.type,[B]):B.type.kind!=="value"&&W.type.kind==="value"&&(W=new ba(B.type,[W])));let G=null;if(C.length===4){if(B.type.kind!=="string"&&W.type.kind!=="string"&&B.type.kind!=="value"&&W.type.kind!=="value")return P.error("Cannot use collator to compare non-string types.");if(G=P.parse(C[3],3,si),!G)return null}return new rq(B,W,G)}evaluate(C){const P=this.lhs.evaluate(C),j=this.rhs.evaluate(C);if(m&&this.hasUntypedArgument){const B=Rr(P),W=Rr(j);if(B.kind!==W.kind||B.kind!=="string"&&B.kind!=="number")throw new Ur(`Expected arguments for "${u}" to be (string, string) or (number, number), but found (${B.kind}, ${W.kind}) instead.`)}if(this.collator&&!m&&this.hasUntypedArgument){const B=Rr(P),W=Rr(j);if(B.kind!=="string"||W.kind!=="string")return l(C,P,j)}return this.collator?d(C,P,j,this.collator.evaluate(C)):l(C,P,j)}eachChild(C){C(this.lhs),C(this.rhs),this.collator&&C(this.collator)}outputDefined(){return!0}}}const rT=ju("==",function(u,l,d){return l===d},Fx),iT=ju("!=",function(u,l,d){return l!==d},function(u,l,d,m){return!Fx(0,l,d,m)}),oT=ju("<",function(u,l,d){return l<d},function(u,l,d,m){return m.compare(l,d)<0}),aT=ju(">",function(u,l,d){return l>d},function(u,l,d,m){return m.compare(l,d)>0}),sT=ju("<=",function(u,l,d){return l<=d},function(u,l,d,m){return m.compare(l,d)<=0}),lT=ju(">=",function(u,l,d){return l>=d},function(u,l,d,m){return m.compare(l,d)>=0});class ly{constructor(l,d,m,x,C){this.type=At,this.number=l,this.locale=d,this.currency=m,this.minFractionDigits=x,this.maxFractionDigits=C}static parse(l,d){if(l.length!==3)return d.error("Expected two arguments.");const m=d.parse(l[1],1,et);if(!m)return null;const x=l[2];if(typeof x!="object"||Array.isArray(x))return d.error("NumberFormat options argument must be an object.");let C=null;if(x.locale&&(C=d.parse(x.locale,1,At),!C))return null;let P=null;if(x.currency&&(P=d.parse(x.currency,1,At),!P))return null;let j=null;if(x["min-fraction-digits"]&&(j=d.parse(x["min-fraction-digits"],1,et),!j))return null;let B=null;return x["max-fraction-digits"]&&(B=d.parse(x["max-fraction-digits"],1,et),!B)?null:new ly(m,C,P,j,B)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class Yh{constructor(l){this.type=ve,this.sections=l}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const m=l[1];if(!Array.isArray(m)&&typeof m=="object")return d.error("First argument must be an image or text section.");const x=[];let C=!1;for(let P=1;P<=l.length-1;++P){const j=l[P];if(C&&typeof j=="object"&&!Array.isArray(j)){C=!1;let B=null;if(j["font-scale"]&&(B=d.parse(j["font-scale"],1,et),!B))return null;let W=null;if(j["text-font"]&&(W=d.parse(j["text-font"],1,_e(At)),!W))return null;let G=null;if(j["text-color"]&&(G=d.parse(j["text-color"],1,Wn),!G))return null;const X=x[x.length-1];X.scale=B,X.font=W,X.textColor=G}else{const B=d.parse(l[P],1,hn);if(!B)return null;const W=B.type.kind;if(W!=="string"&&W!=="value"&&W!=="null"&&W!=="resolvedImage")return d.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");C=!0,x.push({content:B,scale:null,font:null,textColor:null})}}return new Yh(x)}evaluate(l){return new Ji(this.sections.map(d=>{const m=d.content.evaluate(l);return Rr(m)===re?new $h("",m,null,null,null):new $h(qn(m),null,d.scale?d.scale.evaluate(l):null,d.font?d.font.evaluate(l).join(","):null,d.textColor?d.textColor.evaluate(l):null)}))}eachChild(l){for(const d of this.sections)l(d.content),d.scale&&l(d.scale),d.font&&l(d.font),d.textColor&&l(d.textColor)}outputDefined(){return!1}}class cy{constructor(l){this.type=re,this.input=l}static parse(l,d){if(l.length!==2)return d.error("Expected two arguments.");const m=d.parse(l[1],1,At);return m?new cy(m):d.error("No image name provided.")}evaluate(l){const d=this.input.evaluate(l),m=Fi.fromString(d);return m&&l.availableImages&&(m.available=l.availableImages.indexOf(d)>-1),m}eachChild(l){l(this.input)}outputDefined(){return!1}}class uy{constructor(l){this.type=et,this.input=l}static parse(l,d){if(l.length!==2)return d.error(`Expected 1 argument, but found ${l.length-1} instead.`);const m=d.parse(l[1],1);return m?m.type.kind!=="array"&&m.type.kind!=="string"&&m.type.kind!=="value"?d.error(`Expected argument of type string or array, but found ${Se(m.type)} instead.`):new uy(m):null}evaluate(l){const d=this.input.evaluate(l);if(typeof d=="string"||Array.isArray(d))return d.length;throw new Ur(`Expected value to be of type string or array, but found ${Se(Rr(d))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}const Lu={"==":rT,"!=":iT,">":aT,"<":oT,">=":lT,"<=":sT,array:ba,at:iy,boolean:ba,case:sy,coalesce:Wh,collator:Lh,format:Yh,image:cy,in:oy,"index-of":Hh,interpolate:Xo,"interpolate-hcl":Xo,"interpolate-lab":Xo,length:uy,let:qh,literal:_c,match:ay,number:ba,"number-format":ly,object:ba,slice:Gh,step:Ul,string:ba,"to-boolean":Bl,"to-color":Bl,"to-number":Bl,"to-string":Bl,var:zh,within:wc};function Ux(u,[l,d,m,x]){l=l.evaluate(u),d=d.evaluate(u),m=m.evaluate(u);const C=x?x.evaluate(u):1,P=Rh(l,d,m,C);if(P)throw new Ur(P);return new rr(l/255,d/255,m/255,C,!1)}function Vx(u,l){return u in l}function dy(u,l){const d=l[u];return d===void 0?null:d}function Sc(u){return{type:u}}function Wx(u){return{result:"success",value:u}}function Vl(u){return{result:"error",value:u}}function Nu(u){return u["property-type"]==="data-driven"||u["property-type"]==="cross-faded-data-driven"}function qx(u){return!!u.expression&&u.expression.parameters.indexOf("zoom")>-1}function fy(u){return!!u.expression&&u.expression.interpolated}function Hn(u){return u instanceof Number?"number":u instanceof String?"string":u instanceof Boolean?"boolean":Array.isArray(u)?"array":u===null?"null":typeof u}function Dr(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)}function cT(u){return u}function Ln(u,l){const d=l.type==="color",m=u.stops&&typeof u.stops[0][0]=="object",x=m||!(m||u.property!==void 0),C=u.type||(fy(l)?"exponential":"interval");if(d||l.type==="padding"){const G=d?rr.parse:Ko.parse;(u=Vt({},u)).stops&&(u.stops=u.stops.map(X=>[X[0],G(X[1])])),u.default=G(u.default?u.default:l.default)}if(u.colorSpace&&(P=u.colorSpace)!=="rgb"&&P!=="hcl"&&P!=="lab")throw new Error(`Unknown color space: "${u.colorSpace}"`);var P;let j,B,W;if(C==="exponential")j=sf;else if(C==="interval")j=Mr;else if(C==="categorical"){j=jr,B=Object.create(null);for(const G of u.stops)B[G[0]]=G[1];W=typeof u.stops[0][0]}else{if(C!=="identity")throw new Error(`Unknown function type "${C}"`);j=Hx}if(m){const G={},X=[];for(let ae=0;ae<u.stops.length;ae++){const he=u.stops[ae],we=he[0].zoom;G[we]===void 0&&(G[we]={zoom:we,type:u.type,property:u.property,default:u.default,stops:[]},X.push(we)),G[we].stops.push([he[0].value,he[1]])}const te=[];for(const ae of X)te.push([G[ae].zoom,Ln(G[ae],l)]);const oe={name:"linear"};return{kind:"composite",interpolationType:oe,interpolationFactor:Xo.interpolationFactor.bind(void 0,oe),zoomStops:te.map(ae=>ae[0]),evaluate:({zoom:ae},he)=>sf({stops:te,base:u.base},l,ae).evaluate(ae,he)}}if(x){const G=C==="exponential"?{name:"exponential",base:u.base!==void 0?u.base:1}:null;return{kind:"camera",interpolationType:G,interpolationFactor:Xo.interpolationFactor.bind(void 0,G),zoomStops:u.stops.map(X=>X[0]),evaluate:({zoom:X})=>j(u,l,X,B,W)}}return{kind:"source",evaluate(G,X){const te=X&&X.properties?X.properties[u.property]:void 0;return te===void 0?Cc(u.default,l.default):j(u,l,te,B,W)}}}function Cc(u,l,d){return u!==void 0?u:l!==void 0?l:d!==void 0?d:void 0}function jr(u,l,d,m,x){return Cc(typeof d===x?m[d]:void 0,u.default,l.default)}function Mr(u,l,d){if(Hn(d)!=="number")return Cc(u.default,l.default);const m=u.stops.length;if(m===1||d<=u.stops[0][0])return u.stops[0][1];if(d>=u.stops[m-1][0])return u.stops[m-1][1];const x=Du(u.stops.map(C=>C[0]),d);return u.stops[x][1]}function sf(u,l,d){const m=u.base!==void 0?u.base:1;if(Hn(d)!=="number")return Cc(u.default,l.default);const x=u.stops.length;if(x===1||d<=u.stops[0][0])return u.stops[0][1];if(d>=u.stops[x-1][0])return u.stops[x-1][1];const C=Du(u.stops.map(G=>G[0]),d),P=function(G,X,te,oe){const ae=oe-te,he=G-te;return ae===0?0:X===1?he/ae:(Math.pow(X,he)-1)/(Math.pow(X,ae)-1)}(d,m,u.stops[C][0],u.stops[C+1][0]),j=u.stops[C][1],B=u.stops[C+1][1],W=Zo[l.type]||cT;return typeof j.evaluate=="function"?{evaluate(...G){const X=j.evaluate.apply(void 0,G),te=B.evaluate.apply(void 0,G);if(X!==void 0&&te!==void 0)return W(X,te,P,u.colorSpace)}}:W(j,B,P,u.colorSpace)}function Hx(u,l,d){switch(l.type){case"color":d=rr.parse(d);break;case"formatted":d=Ji.fromString(d.toString());break;case"resolvedImage":d=Fi.fromString(d.toString());break;case"padding":d=Ko.parse(d);break;default:Hn(d)===l.type||l.type==="enum"&&l.values[d]||(d=void 0)}return Cc(d,u.default,l.default)}xa.register(Lu,{error:[{kind:"error"},[At],(u,[l])=>{throw new Ur(l.evaluate(u))}],typeof:[At,[hn],(u,[l])=>Se(Rr(l.evaluate(u)))],"to-rgba":[_e(et,4),[Wn],(u,[l])=>{const[d,m,x,C]=l.evaluate(u).rgb;return[255*d,255*m,255*x,C]}],rgb:[Wn,[et,et,et],Ux],rgba:[Wn,[et,et,et,et],Ux],has:{type:Lt,overloads:[[[At],(u,[l])=>Vx(l.evaluate(u),u.properties())],[[At,Fr],(u,[l,d])=>Vx(l.evaluate(u),d.evaluate(u))]]},get:{type:hn,overloads:[[[At],(u,[l])=>dy(l.evaluate(u),u.properties())],[[At,Fr],(u,[l,d])=>dy(l.evaluate(u),d.evaluate(u))]]},"feature-state":[hn,[At],(u,[l])=>dy(l.evaluate(u),u.featureState||{})],properties:[Fr,[],u=>u.properties()],"geometry-type":[At,[],u=>u.geometryType()],id:[hn,[],u=>u.id()],zoom:[et,[],u=>u.globals.zoom],"heatmap-density":[et,[],u=>u.globals.heatmapDensity||0],"line-progress":[et,[],u=>u.globals.lineProgress||0],accumulated:[hn,[],u=>u.globals.accumulated===void 0?null:u.globals.accumulated],"+":[et,Sc(et),(u,l)=>{let d=0;for(const m of l)d+=m.evaluate(u);return d}],"*":[et,Sc(et),(u,l)=>{let d=1;for(const m of l)d*=m.evaluate(u);return d}],"-":{type:et,overloads:[[[et,et],(u,[l,d])=>l.evaluate(u)-d.evaluate(u)],[[et],(u,[l])=>-l.evaluate(u)]]},"/":[et,[et,et],(u,[l,d])=>l.evaluate(u)/d.evaluate(u)],"%":[et,[et,et],(u,[l,d])=>l.evaluate(u)%d.evaluate(u)],ln2:[et,[],()=>Math.LN2],pi:[et,[],()=>Math.PI],e:[et,[],()=>Math.E],"^":[et,[et,et],(u,[l,d])=>Math.pow(l.evaluate(u),d.evaluate(u))],sqrt:[et,[et],(u,[l])=>Math.sqrt(l.evaluate(u))],log10:[et,[et],(u,[l])=>Math.log(l.evaluate(u))/Math.LN10],ln:[et,[et],(u,[l])=>Math.log(l.evaluate(u))],log2:[et,[et],(u,[l])=>Math.log(l.evaluate(u))/Math.LN2],sin:[et,[et],(u,[l])=>Math.sin(l.evaluate(u))],cos:[et,[et],(u,[l])=>Math.cos(l.evaluate(u))],tan:[et,[et],(u,[l])=>Math.tan(l.evaluate(u))],asin:[et,[et],(u,[l])=>Math.asin(l.evaluate(u))],acos:[et,[et],(u,[l])=>Math.acos(l.evaluate(u))],atan:[et,[et],(u,[l])=>Math.atan(l.evaluate(u))],min:[et,Sc(et),(u,l)=>Math.min(...l.map(d=>d.evaluate(u)))],max:[et,Sc(et),(u,l)=>Math.max(...l.map(d=>d.evaluate(u)))],abs:[et,[et],(u,[l])=>Math.abs(l.evaluate(u))],round:[et,[et],(u,[l])=>{const d=l.evaluate(u);return d<0?-Math.round(-d):Math.round(d)}],floor:[et,[et],(u,[l])=>Math.floor(l.evaluate(u))],ceil:[et,[et],(u,[l])=>Math.ceil(l.evaluate(u))],"filter-==":[Lt,[At,hn],(u,[l,d])=>u.properties()[l.value]===d.value],"filter-id-==":[Lt,[hn],(u,[l])=>u.id()===l.value],"filter-type-==":[Lt,[At],(u,[l])=>u.geometryType()===l.value],"filter-<":[Lt,[At,hn],(u,[l,d])=>{const m=u.properties()[l.value],x=d.value;return typeof m==typeof x&&m<x}],"filter-id-<":[Lt,[hn],(u,[l])=>{const d=u.id(),m=l.value;return typeof d==typeof m&&d<m}],"filter->":[Lt,[At,hn],(u,[l,d])=>{const m=u.properties()[l.value],x=d.value;return typeof m==typeof x&&m>x}],"filter-id->":[Lt,[hn],(u,[l])=>{const d=u.id(),m=l.value;return typeof d==typeof m&&d>m}],"filter-<=":[Lt,[At,hn],(u,[l,d])=>{const m=u.properties()[l.value],x=d.value;return typeof m==typeof x&&m<=x}],"filter-id-<=":[Lt,[hn],(u,[l])=>{const d=u.id(),m=l.value;return typeof d==typeof m&&d<=m}],"filter->=":[Lt,[At,hn],(u,[l,d])=>{const m=u.properties()[l.value],x=d.value;return typeof m==typeof x&&m>=x}],"filter-id->=":[Lt,[hn],(u,[l])=>{const d=u.id(),m=l.value;return typeof d==typeof m&&d>=m}],"filter-has":[Lt,[hn],(u,[l])=>l.value in u.properties()],"filter-has-id":[Lt,[],u=>u.id()!==null&&u.id()!==void 0],"filter-type-in":[Lt,[_e(At)],(u,[l])=>l.value.indexOf(u.geometryType())>=0],"filter-id-in":[Lt,[_e(hn)],(u,[l])=>l.value.indexOf(u.id())>=0],"filter-in-small":[Lt,[At,_e(hn)],(u,[l,d])=>d.value.indexOf(u.properties()[l.value])>=0],"filter-in-large":[Lt,[At,_e(hn)],(u,[l,d])=>function(m,x,C,P){for(;C<=P;){const j=C+P>>1;if(x[j]===m)return!0;x[j]>m?P=j-1:C=j+1}return!1}(u.properties()[l.value],d.value,0,d.value.length-1)],all:{type:Lt,overloads:[[[Lt,Lt],(u,[l,d])=>l.evaluate(u)&&d.evaluate(u)],[Sc(Lt),(u,l)=>{for(const d of l)if(!d.evaluate(u))return!1;return!0}]]},any:{type:Lt,overloads:[[[Lt,Lt],(u,[l,d])=>l.evaluate(u)||d.evaluate(u)],[Sc(Lt),(u,l)=>{for(const d of l)if(d.evaluate(u))return!0;return!1}]]},"!":[Lt,[Lt],(u,[l])=>!l.evaluate(u)],"is-supported-script":[Lt,[At],(u,[l])=>{const d=u.globals&&u.globals.isSupportedScript;return!d||d(l.evaluate(u))}],upcase:[At,[At],(u,[l])=>l.evaluate(u).toUpperCase()],downcase:[At,[At],(u,[l])=>l.evaluate(u).toLowerCase()],concat:[At,Sc(hn),(u,l)=>l.map(d=>qn(d.evaluate(u))).join("")],"resolved-locale":[At,[si],(u,[l])=>l.evaluate(u).resolvedLocale()]});class hy{constructor(l,d){var m;this.expression=l,this._warningHistory={},this._evaluator=new Xg,this._defaultValue=d?(m=d).type==="color"&&Dr(m.default)?new rr(0,0,0,0):m.type==="color"?rr.parse(m.default)||null:m.type==="padding"?Ko.parse(m.default)||null:m.type==="variableAnchorOffsetCollection"?va.parse(m.default)||null:m.default===void 0?null:m.default:null,this._enumValues=d&&d.type==="enum"?d.values:null}evaluateWithoutErrorHandling(l,d,m,x,C,P){return this._evaluator.globals=l,this._evaluator.feature=d,this._evaluator.featureState=m,this._evaluator.canonical=x,this._evaluator.availableImages=C||null,this._evaluator.formattedSection=P,this.expression.evaluate(this._evaluator)}evaluate(l,d,m,x,C,P){this._evaluator.globals=l,this._evaluator.feature=d||null,this._evaluator.featureState=m||null,this._evaluator.canonical=x,this._evaluator.availableImages=C||null,this._evaluator.formattedSection=P||null;try{const j=this.expression.evaluate(this._evaluator);if(j==null||typeof j=="number"&&j!=j)return this._defaultValue;if(this._enumValues&&!(j in this._enumValues))throw new Ur(`Expected value to be one of ${Object.keys(this._enumValues).map(B=>JSON.stringify(B)).join(", ")}, but found ${JSON.stringify(j)} instead.`);return j}catch(j){return this._warningHistory[j.message]||(this._warningHistory[j.message]=!0,typeof console<"u"&&console.warn(j.message)),this._defaultValue}}}function Kh(u){return Array.isArray(u)&&u.length>0&&typeof u[0]=="string"&&u[0]in Lu}function Zh(u,l){const d=new jh(Lu,Bh,[],l?function(x){const C={color:Wn,string:At,number:et,enum:At,boolean:Lt,formatted:ve,padding:Q,resolvedImage:re,variableAnchorOffsetCollection:ue};return x.type==="array"?_e(C[x.value]||hn,x.length):C[x.type]}(l):void 0),m=d.parse(u,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return m?Wx(new hy(m,l)):Vl(d.errors)}class py{constructor(l,d){this.kind=l,this._styleExpression=d,this.isStateDependent=l!=="constant"&&!af(d.expression)}evaluateWithoutErrorHandling(l,d,m,x,C,P){return this._styleExpression.evaluateWithoutErrorHandling(l,d,m,x,C,P)}evaluate(l,d,m,x,C,P){return this._styleExpression.evaluate(l,d,m,x,C,P)}}class Xh{constructor(l,d,m,x){this.kind=l,this.zoomStops=m,this._styleExpression=d,this.isStateDependent=l!=="camera"&&!af(d.expression),this.interpolationType=x}evaluateWithoutErrorHandling(l,d,m,x,C,P){return this._styleExpression.evaluateWithoutErrorHandling(l,d,m,x,C,P)}evaluate(l,d,m,x,C,P){return this._styleExpression.evaluate(l,d,m,x,C,P)}interpolationFactor(l,d,m){return this.interpolationType?Xo.interpolationFactor(this.interpolationType,l,d,m):0}}function my(u,l){const d=Zh(u,l);if(d.result==="error")return d;const m=d.value.expression,x=Fh(m);if(!x&&!Nu(l))return Vl([new fn("","data expressions not supported")]);const C=Uh(m,["zoom"]);if(!C&&!qx(l))return Vl([new fn("","zoom expressions not supported")]);const P=cf(m);return P||C?P instanceof fn?Vl([P]):P instanceof Xo&&!fy(l)?Vl([new fn("",'"interpolate" expressions cannot be used with this property')]):Wx(P?new Xh(x?"camera":"composite",d.value,P.labels,P instanceof Xo?P.interpolation:void 0):new py(x?"constant":"source",d.value)):Vl([new fn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class lf{constructor(l,d){this._parameters=l,this._specification=d,Vt(this,Ln(this._parameters,this._specification))}static deserialize(l){return new lf(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function cf(u){let l=null;if(u instanceof qh)l=cf(u.result);else if(u instanceof Wh){for(const d of u.args)if(l=cf(d),l)break}else(u instanceof Ul||u instanceof Xo)&&u.input instanceof xa&&u.input.name==="zoom"&&(l=u);return l instanceof fn||u.eachChild(d=>{const m=cf(d);m instanceof fn?l=m:!l&&m?l=new fn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):l&&m&&l!==m&&(l=new fn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),l}function uf(u){if(u===!0||u===!1)return!0;if(!Array.isArray(u)||u.length===0)return!1;switch(u[0]){case"has":return u.length>=2&&u[1]!=="$id"&&u[1]!=="$type";case"in":return u.length>=3&&(typeof u[1]!="string"||Array.isArray(u[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return u.length!==3||Array.isArray(u[1])||Array.isArray(u[2]);case"any":case"all":for(const l of u.slice(1))if(!uf(l)&&typeof l!="boolean")return!1;return!0;default:return!0}}const uT={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function gy(u){if(u==null)return{filter:()=>!0,needGeometry:!1};uf(u)||(u=Jh(u));const l=Zh(u,uT);if(l.result==="error")throw new Error(l.value.map(d=>`${d.key}: ${d.message}`).join(", "));return{filter:(d,m,x)=>l.value.evaluate(d,m,{},x),needGeometry:Gx(u)}}function dT(u,l){return u<l?-1:u>l?1:0}function Gx(u){if(!Array.isArray(u))return!1;if(u[0]==="within")return!0;for(let l=1;l<u.length;l++)if(Gx(u[l]))return!0;return!1}function Jh(u){if(!u)return!0;const l=u[0];return u.length<=1?l!=="any":l==="=="?yy(u[1],u[2],"=="):l==="!="?df(yy(u[1],u[2],"==")):l==="<"||l===">"||l==="<="||l===">="?yy(u[1],u[2],l):l==="any"?(d=u.slice(1),["any"].concat(d.map(Jh))):l==="all"?["all"].concat(u.slice(1).map(Jh)):l==="none"?["all"].concat(u.slice(1).map(Jh).map(df)):l==="in"?Yx(u[1],u.slice(2)):l==="!in"?df(Yx(u[1],u.slice(2))):l==="has"?Kx(u[1]):l==="!has"?df(Kx(u[1])):l!=="within"||u;var d}function yy(u,l,d){switch(u){case"$type":return[`filter-type-${d}`,l];case"$id":return[`filter-id-${d}`,l];default:return[`filter-${d}`,u,l]}}function Yx(u,l){if(l.length===0)return!1;switch(u){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some(d=>typeof d!=typeof l[0])?["filter-in-large",u,["literal",l.sort(dT)]]:["filter-in-small",u,["literal",l]]}}function Kx(u){switch(u){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",u]}}function df(u){return["!",u]}function Qh(u){const l=typeof u;if(l==="number"||l==="boolean"||l==="string"||u==null)return JSON.stringify(u);if(Array.isArray(u)){let x="[";for(const C of u)x+=`${Qh(C)},`;return`${x}]`}const d=Object.keys(u).sort();let m="{";for(let x=0;x<d.length;x++)m+=`${JSON.stringify(d[x])}:${Qh(u[d[x]])},`;return`${m}}`}function ep(u){let l="";for(const d of ln)l+=`/${Qh(u[d])}`;return l}function Zx(u){const l=u.value;return l?[new dt(u.key,l,"constants have been deprecated as of v8")]:[]}function Vr(u){return u instanceof Number||u instanceof String||u instanceof Boolean?u.valueOf():u}function kc(u){if(Array.isArray(u))return u.map(kc);if(u instanceof Object&&!(u instanceof Number||u instanceof String||u instanceof Boolean)){const l={};for(const d in u)l[d]=kc(u[d]);return l}return Vr(u)}function Co(u){const l=u.key,d=u.value,m=u.valueSpec||{},x=u.objectElementValidators||{},C=u.style,P=u.styleSpec,j=u.validateSpec;let B=[];const W=Hn(d);if(W!=="object")return[new dt(l,d,`object expected, ${W} found`)];for(const G in d){const X=G.split(".")[0],te=m[X]||m["*"];let oe;if(x[X])oe=x[X];else if(m[X])oe=j;else if(x["*"])oe=x["*"];else{if(!m["*"]){B.push(new dt(l,d[G],`unknown property "${G}"`));continue}oe=j}B=B.concat(oe({key:(l&&`${l}.`)+G,value:d[G],valueSpec:te,style:C,styleSpec:P,object:d,objectKey:G,validateSpec:j},d))}for(const G in m)x[G]||m[G].required&&m[G].default===void 0&&d[G]===void 0&&B.push(new dt(l,d,`missing required property "${G}"`));return B}function zu(u){const l=u.value,d=u.valueSpec,m=u.style,x=u.styleSpec,C=u.key,P=u.arrayElementValidator||u.validateSpec;if(Hn(l)!=="array")return[new dt(C,l,`array expected, ${Hn(l)} found`)];if(d.length&&l.length!==d.length)return[new dt(C,l,`array length ${d.length} expected, length ${l.length} found`)];if(d["min-length"]&&l.length<d["min-length"])return[new dt(C,l,`array length at least ${d["min-length"]} expected, length ${l.length} found`)];let j={type:d.value,values:d.values};x.$version<7&&(j.function=d.function),Hn(d.value)==="object"&&(j=d.value);let B=[];for(let W=0;W<l.length;W++)B=B.concat(P({array:l,arrayIndex:W,value:l[W],valueSpec:j,validateSpec:u.validateSpec,style:m,styleSpec:x,key:`${C}[${W}]`}));return B}function ff(u){const l=u.key,d=u.value,m=u.valueSpec;let x=Hn(d);return x==="number"&&d!=d&&(x="NaN"),x!=="number"?[new dt(l,d,`number expected, ${x} found`)]:"minimum"in m&&d<m.minimum?[new dt(l,d,`${d} is less than the minimum value ${m.minimum}`)]:"maximum"in m&&d>m.maximum?[new dt(l,d,`${d} is greater than the maximum value ${m.maximum}`)]:[]}function tp(u){const l=u.valueSpec,d=Vr(u.value.type);let m,x,C,P={};const j=d!=="categorical"&&u.value.property===void 0,B=!j,W=Hn(u.value.stops)==="array"&&Hn(u.value.stops[0])==="array"&&Hn(u.value.stops[0][0])==="object",G=Co({key:u.key,value:u.value,valueSpec:u.styleSpec.function,validateSpec:u.validateSpec,style:u.style,styleSpec:u.styleSpec,objectElementValidators:{stops:function(oe){if(d==="identity")return[new dt(oe.key,oe.value,'identity function may not have a "stops" property')];let ae=[];const he=oe.value;return ae=ae.concat(zu({key:oe.key,value:he,valueSpec:oe.valueSpec,validateSpec:oe.validateSpec,style:oe.style,styleSpec:oe.styleSpec,arrayElementValidator:X})),Hn(he)==="array"&&he.length===0&&ae.push(new dt(oe.key,he,"array must have at least one stop")),ae},default:function(oe){return oe.validateSpec({key:oe.key,value:oe.value,valueSpec:l,validateSpec:oe.validateSpec,style:oe.style,styleSpec:oe.styleSpec})}}});return d==="identity"&&j&&G.push(new dt(u.key,u.value,'missing required property "property"')),d==="identity"||u.value.stops||G.push(new dt(u.key,u.value,'missing required property "stops"')),d==="exponential"&&u.valueSpec.expression&&!fy(u.valueSpec)&&G.push(new dt(u.key,u.value,"exponential functions not supported")),u.styleSpec.$version>=8&&(B&&!Nu(u.valueSpec)?G.push(new dt(u.key,u.value,"property functions not supported")):j&&!qx(u.valueSpec)&&G.push(new dt(u.key,u.value,"zoom functions not supported"))),d!=="categorical"&&!W||u.value.property!==void 0||G.push(new dt(u.key,u.value,'"property" property is required')),G;function X(oe){let ae=[];const he=oe.value,we=oe.key;if(Hn(he)!=="array")return[new dt(we,he,`array expected, ${Hn(he)} found`)];if(he.length!==2)return[new dt(we,he,`array length 2 expected, length ${he.length} found`)];if(W){if(Hn(he[0])!=="object")return[new dt(we,he,`object expected, ${Hn(he[0])} found`)];if(he[0].zoom===void 0)return[new dt(we,he,"object stop key must have zoom")];if(he[0].value===void 0)return[new dt(we,he,"object stop key must have value")];if(C&&C>Vr(he[0].zoom))return[new dt(we,he[0].zoom,"stop zoom values must appear in ascending order")];Vr(he[0].zoom)!==C&&(C=Vr(he[0].zoom),x=void 0,P={}),ae=ae.concat(Co({key:`${we}[0]`,value:he[0],valueSpec:{zoom:{}},validateSpec:oe.validateSpec,style:oe.style,styleSpec:oe.styleSpec,objectElementValidators:{zoom:ff,value:te}}))}else ae=ae.concat(te({key:`${we}[0]`,value:he[0],valueSpec:{},validateSpec:oe.validateSpec,style:oe.style,styleSpec:oe.styleSpec},he));return Kh(kc(he[1]))?ae.concat([new dt(`${we}[1]`,he[1],"expressions are not allowed in function stops.")]):ae.concat(oe.validateSpec({key:`${we}[1]`,value:he[1],valueSpec:l,validateSpec:oe.validateSpec,style:oe.style,styleSpec:oe.styleSpec}))}function te(oe,ae){const he=Hn(oe.value),we=Vr(oe.value),Te=oe.value!==null?oe.value:ae;if(m){if(he!==m)return[new dt(oe.key,Te,`${he} stop domain type must match previous stop domain type ${m}`)]}else m=he;if(he!=="number"&&he!=="string"&&he!=="boolean")return[new dt(oe.key,Te,"stop domain value must be a number, string, or boolean")];if(he!=="number"&&d!=="categorical"){let je=`number expected, ${he} found`;return Nu(l)&&d===void 0&&(je+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new dt(oe.key,Te,je)]}return d!=="categorical"||he!=="number"||isFinite(we)&&Math.floor(we)===we?d!=="categorical"&&he==="number"&&x!==void 0&&we<x?[new dt(oe.key,Te,"stop domain values must appear in ascending order")]:(x=we,d==="categorical"&&we in P?[new dt(oe.key,Te,"stop domain values must be unique")]:(P[we]=!0,[])):[new dt(oe.key,Te,`integer expected, found ${we}`)]}}function Tc(u){const l=(u.expressionContext==="property"?my:Zh)(kc(u.value),u.valueSpec);if(l.result==="error")return l.value.map(m=>new dt(`${u.key}${m.key}`,u.value,m.message));const d=l.value.expression||l.value._styleExpression.expression;if(u.expressionContext==="property"&&u.propertyKey==="text-font"&&!d.outputDefined())return[new dt(u.key,u.value,`Invalid data expression for "${u.propertyKey}". Output values must be contained as literals within the expression.`)];if(u.expressionContext==="property"&&u.propertyType==="layout"&&!af(d))return[new dt(u.key,u.value,'"feature-state" data expressions are not supported with layout properties.')];if(u.expressionContext==="filter"&&!af(d))return[new dt(u.key,u.value,'"feature-state" data expressions are not supported with filters.')];if(u.expressionContext&&u.expressionContext.indexOf("cluster")===0){if(!Uh(d,["zoom","feature-state"]))return[new dt(u.key,u.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(u.expressionContext==="cluster-initial"&&!Fh(d))return[new dt(u.key,u.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function hf(u){const l=u.key,d=u.value,m=u.valueSpec,x=[];return Array.isArray(m.values)?m.values.indexOf(Vr(d))===-1&&x.push(new dt(l,d,`expected one of [${m.values.join(", ")}], ${JSON.stringify(d)} found`)):Object.keys(m.values).indexOf(Vr(d))===-1&&x.push(new dt(l,d,`expected one of [${Object.keys(m.values).join(", ")}], ${JSON.stringify(d)} found`)),x}function Bu(u){return uf(kc(u.value))?Tc(Vt({},u,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Xx(u)}function Xx(u){const l=u.value,d=u.key;if(Hn(l)!=="array")return[new dt(d,l,`array expected, ${Hn(l)} found`)];const m=u.styleSpec;let x,C=[];if(l.length<1)return[new dt(d,l,"filter array must have at least 1 element")];switch(C=C.concat(hf({key:`${d}[0]`,value:l[0],valueSpec:m.filter_operator,style:u.style,styleSpec:u.styleSpec})),Vr(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&Vr(l[1])==="$type"&&C.push(new dt(d,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&C.push(new dt(d,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(x=Hn(l[1]),x!=="string"&&C.push(new dt(`${d}[1]`,l[1],`string expected, ${x} found`)));for(let P=2;P<l.length;P++)x=Hn(l[P]),Vr(l[1])==="$type"?C=C.concat(hf({key:`${d}[${P}]`,value:l[P],valueSpec:m.geometry_type,style:u.style,styleSpec:u.styleSpec})):x!=="string"&&x!=="number"&&x!=="boolean"&&C.push(new dt(`${d}[${P}]`,l[P],`string, number, or boolean expected, ${x} found`));break;case"any":case"all":case"none":for(let P=1;P<l.length;P++)C=C.concat(Xx({key:`${d}[${P}]`,value:l[P],style:u.style,styleSpec:u.styleSpec}));break;case"has":case"!has":x=Hn(l[1]),l.length!==2?C.push(new dt(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):x!=="string"&&C.push(new dt(`${d}[1]`,l[1],`string expected, ${x} found`));break;case"within":x=Hn(l[1]),l.length!==2?C.push(new dt(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):x!=="object"&&C.push(new dt(`${d}[1]`,l[1],`object expected, ${x} found`))}return C}function Jx(u,l){const d=u.key,m=u.validateSpec,x=u.style,C=u.styleSpec,P=u.value,j=u.objectKey,B=C[`${l}_${u.layerType}`];if(!B)return[];const W=j.match(/^(.*)-transition$/);if(l==="paint"&&W&&B[W[1]]&&B[W[1]].transition)return m({key:d,value:P,valueSpec:C.transition,style:x,styleSpec:C});const G=u.valueSpec||B[j];if(!G)return[new dt(d,P,`unknown property "${j}"`)];let X;if(Hn(P)==="string"&&Nu(G)&&!G.tokens&&(X=/^{([^}]+)}$/.exec(P)))return[new dt(d,P,`"${j}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(X[1])} }\`.`)];const te=[];return u.layerType==="symbol"&&(j==="text-field"&&x&&!x.glyphs&&te.push(new dt(d,P,'use of "text-field" requires a style "glyphs" property')),j==="text-font"&&Dr(kc(P))&&Vr(P.type)==="identity"&&te.push(new dt(d,P,'"text-font" does not support identity functions'))),te.concat(m({key:u.key,value:P,valueSpec:G,style:x,styleSpec:C,expressionContext:"property",propertyType:l,propertyKey:j}))}function Qx(u){return Jx(u,"paint")}function e_(u){return Jx(u,"layout")}function t_(u){let l=[];const d=u.value,m=u.key,x=u.style,C=u.styleSpec;d.type||d.ref||l.push(new dt(m,d,'either "type" or "ref" is required'));let P=Vr(d.type);const j=Vr(d.ref);if(d.id){const B=Vr(d.id);for(let W=0;W<u.arrayIndex;W++){const G=x.layers[W];Vr(G.id)===B&&l.push(new dt(m,d.id,`duplicate layer id "${d.id}", previously used at line ${G.id.__line__}`))}}if("ref"in d){let B;["type","source","source-layer","filter","layout"].forEach(W=>{W in d&&l.push(new dt(m,d[W],`"${W}" is prohibited for ref layers`))}),x.layers.forEach(W=>{Vr(W.id)===j&&(B=W)}),B?B.ref?l.push(new dt(m,d.ref,"ref cannot reference another ref layer")):P=Vr(B.type):l.push(new dt(m,d.ref,`ref layer "${j}" not found`))}else if(P!=="background")if(d.source){const B=x.sources&&x.sources[d.source],W=B&&Vr(B.type);B?W==="vector"&&P==="raster"?l.push(new dt(m,d.source,`layer "${d.id}" requires a raster source`)):W!=="raster-dem"&&P==="hillshade"?l.push(new dt(m,d.source,`layer "${d.id}" requires a raster-dem source`)):W==="raster"&&P!=="raster"?l.push(new dt(m,d.source,`layer "${d.id}" requires a vector source`)):W!=="vector"||d["source-layer"]?W==="raster-dem"&&P!=="hillshade"?l.push(new dt(m,d.source,"raster-dem source can only be used with layer type 'hillshade'.")):P!=="line"||!d.paint||!d.paint["line-gradient"]||W==="geojson"&&B.lineMetrics||l.push(new dt(m,d,`layer "${d.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new dt(m,d,`layer "${d.id}" must specify a "source-layer"`)):l.push(new dt(m,d.source,`source "${d.source}" not found`))}else l.push(new dt(m,d,'missing required property "source"'));return l=l.concat(Co({key:m,value:d,valueSpec:C.layer,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,objectElementValidators:{"*":()=>[],type:()=>u.validateSpec({key:`${m}.type`,value:d.type,valueSpec:C.layer.type,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,object:d,objectKey:"type"}),filter:Bu,layout:B=>Co({layer:d,key:B.key,value:B.value,style:B.style,styleSpec:B.styleSpec,validateSpec:B.validateSpec,objectElementValidators:{"*":W=>e_(Vt({layerType:P},W))}}),paint:B=>Co({layer:d,key:B.key,value:B.value,style:B.style,styleSpec:B.styleSpec,validateSpec:B.validateSpec,objectElementValidators:{"*":W=>Qx(Vt({layerType:P},W))}})}})),l}function ys(u){const l=u.value,d=u.key,m=Hn(l);return m!=="string"?[new dt(d,l,`string expected, ${m} found`)]:[]}const pf={promoteId:function({key:u,value:l}){if(Hn(l)==="string")return ys({key:u,value:l});{const d=[];for(const m in l)d.push(...ys({key:`${u}.${m}`,value:l[m]}));return d}}};function Jo(u){const l=u.value,d=u.key,m=u.styleSpec,x=u.style,C=u.validateSpec;if(!l.type)return[new dt(d,l,'"type" is required')];const P=Vr(l.type);let j;switch(P){case"vector":case"raster":return j=Co({key:d,value:l,valueSpec:m[`source_${P.replace("-","_")}`],style:u.style,styleSpec:m,objectElementValidators:pf,validateSpec:C}),j;case"raster-dem":return j=function(B){var W;const G=(W=B.sourceName)!==null&&W!==void 0?W:"",X=B.value,te=B.styleSpec,oe=te.source_raster_dem,ae=B.style;let he=[];const we=Hn(X);if(X===void 0)return he;if(we!=="object")return he.push(new dt("source_raster_dem",X,`object expected, ${we} found`)),he;const Te=Vr(X.encoding)==="custom",je=["redFactor","greenFactor","blueFactor","baseShift"],Oe=B.value.encoding?`"${B.value.encoding}"`:"Default";for(const ze in X)!Te&&je.includes(ze)?he.push(new dt(ze,X[ze],`In "${G}": "${ze}" is only valid when "encoding" is set to "custom". ${Oe} encoding found`)):oe[ze]?he=he.concat(B.validateSpec({key:ze,value:X[ze],valueSpec:oe[ze],validateSpec:B.validateSpec,style:ae,styleSpec:te})):he.push(new dt(ze,X[ze],`unknown property "${ze}"`));return he}({sourceName:d,value:l,style:u.style,styleSpec:m,validateSpec:C}),j;case"geojson":if(j=Co({key:d,value:l,valueSpec:m.source_geojson,style:x,styleSpec:m,validateSpec:C,objectElementValidators:pf}),l.cluster)for(const B in l.clusterProperties){const[W,G]=l.clusterProperties[B],X=typeof W=="string"?[W,["accumulated"],["get",B]]:W;j.push(...Tc({key:`${d}.${B}.map`,value:G,validateSpec:C,expressionContext:"cluster-map"})),j.push(...Tc({key:`${d}.${B}.reduce`,value:X,validateSpec:C,expressionContext:"cluster-reduce"}))}return j;case"video":return Co({key:d,value:l,valueSpec:m.source_video,style:x,validateSpec:C,styleSpec:m});case"image":return Co({key:d,value:l,valueSpec:m.source_image,style:x,validateSpec:C,styleSpec:m});case"canvas":return[new dt(d,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return hf({key:`${d}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:x,validateSpec:C,styleSpec:m})}}function mf(u){const l=u.value,d=u.styleSpec,m=d.light,x=u.style;let C=[];const P=Hn(l);if(l===void 0)return C;if(P!=="object")return C=C.concat([new dt("light",l,`object expected, ${P} found`)]),C;for(const j in l){const B=j.match(/^(.*)-transition$/);C=C.concat(B&&m[B[1]]&&m[B[1]].transition?u.validateSpec({key:j,value:l[j],valueSpec:d.transition,validateSpec:u.validateSpec,style:x,styleSpec:d}):m[j]?u.validateSpec({key:j,value:l[j],valueSpec:m[j],validateSpec:u.validateSpec,style:x,styleSpec:d}):[new dt(j,l[j],`unknown property "${j}"`)])}return C}function n_(u){const l=u.value,d=u.styleSpec,m=d.terrain,x=u.style;let C=[];const P=Hn(l);if(l===void 0)return C;if(P!=="object")return C=C.concat([new dt("terrain",l,`object expected, ${P} found`)]),C;for(const j in l)C=C.concat(m[j]?u.validateSpec({key:j,value:l[j],valueSpec:m[j],validateSpec:u.validateSpec,style:x,styleSpec:d}):[new dt(j,l[j],`unknown property "${j}"`)]);return C}function r_(u){let l=[];const d=u.value,m=u.key;if(Array.isArray(d)){const x=[],C=[];for(const P in d)d[P].id&&x.includes(d[P].id)&&l.push(new dt(m,d,`all the sprites' ids must be unique, but ${d[P].id} is duplicated`)),x.push(d[P].id),d[P].url&&C.includes(d[P].url)&&l.push(new dt(m,d,`all the sprites' URLs must be unique, but ${d[P].url} is duplicated`)),C.push(d[P].url),l=l.concat(Co({key:`${m}[${P}]`,value:d[P],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:u.validateSpec}));return l}return ys({key:m,value:d})}const i_={"*":()=>[],array:zu,boolean:function(u){const l=u.value,d=u.key,m=Hn(l);return m!=="boolean"?[new dt(d,l,`boolean expected, ${m} found`)]:[]},number:ff,color:function(u){const l=u.key,d=u.value,m=Hn(d);return m!=="string"?[new dt(l,d,`color expected, ${m} found`)]:rr.parse(String(d))?[]:[new dt(l,d,`color expected, "${d}" found`)]},constants:Zx,enum:hf,filter:Bu,function:tp,layer:t_,object:Co,source:Jo,light:mf,terrain:n_,string:ys,formatted:function(u){return ys(u).length===0?[]:Tc(u)},resolvedImage:function(u){return ys(u).length===0?[]:Tc(u)},padding:function(u){const l=u.key,d=u.value;if(Hn(d)==="array"){if(d.length<1||d.length>4)return[new dt(l,d,`padding requires 1 to 4 values; ${d.length} values found`)];const m={type:"number"};let x=[];for(let C=0;C<d.length;C++)x=x.concat(u.validateSpec({key:`${l}[${C}]`,value:d[C],validateSpec:u.validateSpec,valueSpec:m}));return x}return ff({key:l,value:d,valueSpec:{}})},variableAnchorOffsetCollection:function(u){const l=u.key,d=u.value,m=Hn(d),x=u.styleSpec;if(m!=="array"||d.length<1||d.length%2!=0)return[new dt(l,d,"variableAnchorOffsetCollection requires a non-empty array of even length")];let C=[];for(let P=0;P<d.length;P+=2)C=C.concat(hf({key:`${l}[${P}]`,value:d[P],valueSpec:x.layout_symbol["text-anchor"]})),C=C.concat(zu({key:`${l}[${P+1}]`,value:d[P+1],valueSpec:{length:2,value:"number"},validateSpec:u.validateSpec,style:u.style,styleSpec:x}));return C},sprite:r_};function rl(u){const l=u.value,d=u.valueSpec,m=u.styleSpec;return u.validateSpec=rl,d.expression&&Dr(Vr(l))?tp(u):d.expression&&Kh(kc(l))?Tc(u):d.type&&i_[d.type]?i_[d.type](u):Co(Vt({},u,{valueSpec:d.type?m[d.type]:d}))}function o_(u){const l=u.value,d=u.key,m=ys(u);return m.length||(l.indexOf("{fontstack}")===-1&&m.push(new dt(d,l,'"glyphs" url must include a "{fontstack}" token')),l.indexOf("{range}")===-1&&m.push(new dt(d,l,'"glyphs" url must include a "{range}" token'))),m}function _a(u,l=Be){let d=[];return d=d.concat(rl({key:"",value:u,valueSpec:l.$root,styleSpec:l,style:u,validateSpec:rl,objectElementValidators:{glyphs:o_,"*":()=>[]}})),u.constants&&(d=d.concat(Zx({key:"constants",value:u.constants,style:u,styleSpec:l,validateSpec:rl}))),np(d)}function il(u){return function(l){return u({...l,validateSpec:rl})}}function np(u){return[].concat(u).sort((l,d)=>l.line-d.line)}function ol(u){return function(...l){return np(u.apply(this,l))}}_a.source=ol(il(Jo)),_a.sprite=ol(il(r_)),_a.glyphs=ol(il(o_)),_a.light=ol(il(mf)),_a.terrain=ol(il(n_)),_a.layer=ol(il(t_)),_a.filter=ol(il(Bu)),_a.paintProperty=ol(il(Qx)),_a.layoutProperty=ol(il(e_));const al=_a,fT=al.light,vy=al.paintProperty,a_=al.layoutProperty;function rp(u,l){let d=!1;if(l&&l.length)for(const m of l)u.fire(new vn(new Error(m.message))),d=!0;return d}class Fu{constructor(l,d,m){const x=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;const P=new Int32Array(this.arrayBuffer);l=P[0],this.d=(d=P[1])+2*(m=P[2]);for(let B=0;B<this.d*this.d;B++){const W=P[3+B],G=P[3+B+1];x.push(W===G?null:P.subarray(W,G))}const j=P[3+x.length+1];this.keys=P.subarray(P[3+x.length],j),this.bboxes=P.subarray(j),this.insert=this._insertReadonly}else{this.d=d+2*m;for(let P=0;P<this.d*this.d;P++)x.push([]);this.keys=[],this.bboxes=[]}this.n=d,this.extent=l,this.padding=m,this.scale=d/l,this.uid=0;const C=m/d*l;this.min=-C,this.max=l+C}insert(l,d,m,x,C){this._forEachCell(d,m,x,C,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(d),this.bboxes.push(m),this.bboxes.push(x),this.bboxes.push(C)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,d,m,x,C,P){this.cells[C].push(P)}query(l,d,m,x,C){const P=this.min,j=this.max;if(l<=P&&d<=P&&j<=m&&j<=x&&!C)return Array.prototype.slice.call(this.keys);{const B=[];return this._forEachCell(l,d,m,x,this._queryCell,B,{},C),B}}_queryCell(l,d,m,x,C,P,j,B){const W=this.cells[C];if(W!==null){const G=this.keys,X=this.bboxes;for(let te=0;te<W.length;te++){const oe=W[te];if(j[oe]===void 0){const ae=4*oe;(B?B(X[ae+0],X[ae+1],X[ae+2],X[ae+3]):l<=X[ae+2]&&d<=X[ae+3]&&m>=X[ae+0]&&x>=X[ae+1])?(j[oe]=!0,P.push(G[oe])):j[oe]=!1}}}}_forEachCell(l,d,m,x,C,P,j,B){const W=this._convertToCellCoord(l),G=this._convertToCellCoord(d),X=this._convertToCellCoord(m),te=this._convertToCellCoord(x);for(let oe=W;oe<=X;oe++)for(let ae=G;ae<=te;ae++){const he=this.d*ae+oe;if((!B||B(this._convertFromCellCoord(oe),this._convertFromCellCoord(ae),this._convertFromCellCoord(oe+1),this._convertFromCellCoord(ae+1)))&&C.call(this,l,d,m,x,he,P,j,B))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const l=this.cells,d=3+this.cells.length+1+1;let m=0;for(let P=0;P<this.cells.length;P++)m+=this.cells[P].length;const x=new Int32Array(d+m+this.keys.length+this.bboxes.length);x[0]=this.extent,x[1]=this.n,x[2]=this.padding;let C=d;for(let P=0;P<l.length;P++){const j=l[P];x[3+P]=C,x.set(j,C),C+=j.length}return x[3+l.length]=C,x.set(this.keys,C),C+=this.keys.length,x[3+l.length+1]=C,x.set(this.bboxes,C),C+=this.bboxes.length,x.buffer}static serialize(l,d){const m=l.toArrayBuffer();return d&&d.push(m),{buffer:m}}static deserialize(l){return new Fu(l.buffer)}}const sl={};function $t(u,l,d={}){if(sl[u])throw new Error(`${u} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:u,writeable:!1}),sl[u]={klass:l,omit:d.omit||[],shallow:d.shallow||[]}}$t("Object",Object),$t("TransferableGridIndex",Fu),$t("Color",rr),$t("Error",Error),$t("AJAXError",bt),$t("ResolvedImage",Fi),$t("StylePropertyFunction",lf),$t("StyleExpression",hy,{omit:["_evaluator"]}),$t("ZoomDependentExpression",Xh),$t("ZoomConstantExpression",py),$t("CompoundExpression",xa,{omit:["_evaluate"]});for(const u in Lu)Lu[u]._classRegistryKey||$t(`Expression_${u}`,Lu[u]);function ip(u){return u&&typeof ArrayBuffer<"u"&&(u instanceof ArrayBuffer||u.constructor&&u.constructor.name==="ArrayBuffer")}function Wl(u,l){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob)return u;if(ip(u)||Ee(u))return l&&l.push(u),u;if(ArrayBuffer.isView(u)){const d=u;return l&&l.push(d.buffer),d}if(u instanceof ImageData)return l&&l.push(u.data.buffer),u;if(Array.isArray(u)){const d=[];for(const m of u)d.push(Wl(m,l));return d}if(typeof u=="object"){const d=u.constructor,m=d._classRegistryKey;if(!m)throw new Error("can't serialize object of unregistered class");if(!sl[m])throw new Error(`${m} is not registered.`);const x=d.serialize?d.serialize(u,l):{};if(d.serialize){if(l&&x===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const C in u){if(!u.hasOwnProperty(C)||sl[m].omit.indexOf(C)>=0)continue;const P=u[C];x[C]=sl[m].shallow.indexOf(C)>=0?P:Wl(P,l)}u instanceof Error&&(x.message=u.message)}if(x.$name)throw new Error("$name property is reserved for worker serialization logic.");return m!=="Object"&&(x.$name=m),x}throw new Error("can't serialize object of type "+typeof u)}function Uu(u){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob||ip(u)||Ee(u)||ArrayBuffer.isView(u)||u instanceof ImageData)return u;if(Array.isArray(u))return u.map(Uu);if(typeof u=="object"){const l=u.$name||"Object";if(!sl[l])throw new Error(`can't deserialize unregistered class ${l}`);const{klass:d}=sl[l];if(!d)throw new Error(`can't deserialize unregistered class ${l}`);if(d.deserialize)return d.deserialize(u);const m=Object.create(d.prototype);for(const x of Object.keys(u)){if(x==="$name")continue;const C=u[x];m[x]=sl[l].shallow.indexOf(x)>=0?C:Uu(C)}return m}throw new Error("can't deserialize object of type "+typeof u)}class s_{constructor(){this.first=!0}update(l,d){const m=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=m,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=m,!0):(this.lastFloorZoom>m?(this.lastIntegerZoom=m+1,this.lastIntegerZoomTime=d):this.lastFloorZoom<m&&(this.lastIntegerZoom=m,this.lastIntegerZoomTime=d),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=m,!0))}}const Pt={"Latin-1 Supplement":u=>u>=128&&u<=255,Arabic:u=>u>=1536&&u<=1791,"Arabic Supplement":u=>u>=1872&&u<=1919,"Arabic Extended-A":u=>u>=2208&&u<=2303,"Hangul Jamo":u=>u>=4352&&u<=4607,"Unified Canadian Aboriginal Syllabics":u=>u>=5120&&u<=5759,Khmer:u=>u>=6016&&u<=6143,"Unified Canadian Aboriginal Syllabics Extended":u=>u>=6320&&u<=6399,"General Punctuation":u=>u>=8192&&u<=8303,"Letterlike Symbols":u=>u>=8448&&u<=8527,"Number Forms":u=>u>=8528&&u<=8591,"Miscellaneous Technical":u=>u>=8960&&u<=9215,"Control Pictures":u=>u>=9216&&u<=9279,"Optical Character Recognition":u=>u>=9280&&u<=9311,"Enclosed Alphanumerics":u=>u>=9312&&u<=9471,"Geometric Shapes":u=>u>=9632&&u<=9727,"Miscellaneous Symbols":u=>u>=9728&&u<=9983,"Miscellaneous Symbols and Arrows":u=>u>=11008&&u<=11263,"CJK Radicals Supplement":u=>u>=11904&&u<=12031,"Kangxi Radicals":u=>u>=12032&&u<=12255,"Ideographic Description Characters":u=>u>=12272&&u<=12287,"CJK Symbols and Punctuation":u=>u>=12288&&u<=12351,Hiragana:u=>u>=12352&&u<=12447,Katakana:u=>u>=12448&&u<=12543,Bopomofo:u=>u>=12544&&u<=12591,"Hangul Compatibility Jamo":u=>u>=12592&&u<=12687,Kanbun:u=>u>=12688&&u<=12703,"Bopomofo Extended":u=>u>=12704&&u<=12735,"CJK Strokes":u=>u>=12736&&u<=12783,"Katakana Phonetic Extensions":u=>u>=12784&&u<=12799,"Enclosed CJK Letters and Months":u=>u>=12800&&u<=13055,"CJK Compatibility":u=>u>=13056&&u<=13311,"CJK Unified Ideographs Extension A":u=>u>=13312&&u<=19903,"Yijing Hexagram Symbols":u=>u>=19904&&u<=19967,"CJK Unified Ideographs":u=>u>=19968&&u<=40959,"Yi Syllables":u=>u>=40960&&u<=42127,"Yi Radicals":u=>u>=42128&&u<=42191,"Hangul Jamo Extended-A":u=>u>=43360&&u<=43391,"Hangul Syllables":u=>u>=44032&&u<=55215,"Hangul Jamo Extended-B":u=>u>=55216&&u<=55295,"Private Use Area":u=>u>=57344&&u<=63743,"CJK Compatibility Ideographs":u=>u>=63744&&u<=64255,"Arabic Presentation Forms-A":u=>u>=64336&&u<=65023,"Vertical Forms":u=>u>=65040&&u<=65055,"CJK Compatibility Forms":u=>u>=65072&&u<=65103,"Small Form Variants":u=>u>=65104&&u<=65135,"Arabic Presentation Forms-B":u=>u>=65136&&u<=65279,"Halfwidth and Fullwidth Forms":u=>u>=65280&&u<=65519};function by(u){for(const l of u)if(_y(l.charCodeAt(0)))return!0;return!1}function xy(u){for(const l of u)if(!hT(l.charCodeAt(0)))return!1;return!0}function hT(u){return!(Pt.Arabic(u)||Pt["Arabic Supplement"](u)||Pt["Arabic Extended-A"](u)||Pt["Arabic Presentation Forms-A"](u)||Pt["Arabic Presentation Forms-B"](u))}function _y(u){return!(u!==746&&u!==747&&(u<4352||!(Pt["Bopomofo Extended"](u)||Pt.Bopomofo(u)||Pt["CJK Compatibility Forms"](u)&&!(u>=65097&&u<=65103)||Pt["CJK Compatibility Ideographs"](u)||Pt["CJK Compatibility"](u)||Pt["CJK Radicals Supplement"](u)||Pt["CJK Strokes"](u)||!(!Pt["CJK Symbols and Punctuation"](u)||u>=12296&&u<=12305||u>=12308&&u<=12319||u===12336)||Pt["CJK Unified Ideographs Extension A"](u)||Pt["CJK Unified Ideographs"](u)||Pt["Enclosed CJK Letters and Months"](u)||Pt["Hangul Compatibility Jamo"](u)||Pt["Hangul Jamo Extended-A"](u)||Pt["Hangul Jamo Extended-B"](u)||Pt["Hangul Jamo"](u)||Pt["Hangul Syllables"](u)||Pt.Hiragana(u)||Pt["Ideographic Description Characters"](u)||Pt.Kanbun(u)||Pt["Kangxi Radicals"](u)||Pt["Katakana Phonetic Extensions"](u)||Pt.Katakana(u)&&u!==12540||!(!Pt["Halfwidth and Fullwidth Forms"](u)||u===65288||u===65289||u===65293||u>=65306&&u<=65310||u===65339||u===65341||u===65343||u>=65371&&u<=65503||u===65507||u>=65512&&u<=65519)||!(!Pt["Small Form Variants"](u)||u>=65112&&u<=65118||u>=65123&&u<=65126)||Pt["Unified Canadian Aboriginal Syllabics"](u)||Pt["Unified Canadian Aboriginal Syllabics Extended"](u)||Pt["Vertical Forms"](u)||Pt["Yijing Hexagram Symbols"](u)||Pt["Yi Syllables"](u)||Pt["Yi Radicals"](u))))}function l_(u){return!(_y(u)||function(l){return!!(Pt["Latin-1 Supplement"](l)&&(l===167||l===169||l===174||l===177||l===188||l===189||l===190||l===215||l===247)||Pt["General Punctuation"](l)&&(l===8214||l===8224||l===8225||l===8240||l===8241||l===8251||l===8252||l===8258||l===8263||l===8264||l===8265||l===8273)||Pt["Letterlike Symbols"](l)||Pt["Number Forms"](l)||Pt["Miscellaneous Technical"](l)&&(l>=8960&&l<=8967||l>=8972&&l<=8991||l>=8996&&l<=9e3||l===9003||l>=9085&&l<=9114||l>=9150&&l<=9165||l===9167||l>=9169&&l<=9179||l>=9186&&l<=9215)||Pt["Control Pictures"](l)&&l!==9251||Pt["Optical Character Recognition"](l)||Pt["Enclosed Alphanumerics"](l)||Pt["Geometric Shapes"](l)||Pt["Miscellaneous Symbols"](l)&&!(l>=9754&&l<=9759)||Pt["Miscellaneous Symbols and Arrows"](l)&&(l>=11026&&l<=11055||l>=11088&&l<=11097||l>=11192&&l<=11243)||Pt["CJK Symbols and Punctuation"](l)||Pt.Katakana(l)||Pt["Private Use Area"](l)||Pt["CJK Compatibility Forms"](l)||Pt["Small Form Variants"](l)||Pt["Halfwidth and Fullwidth Forms"](l)||l===8734||l===8756||l===8757||l>=9984&&l<=10087||l>=10102&&l<=10131||l===65532||l===65533)}(u))}function c_(u){return u>=1424&&u<=2303||Pt["Arabic Presentation Forms-A"](u)||Pt["Arabic Presentation Forms-B"](u)}function u_(u,l){return!(!l&&c_(u)||u>=2304&&u<=3583||u>=3840&&u<=4255||Pt.Khmer(u))}function pT(u){for(const l of u)if(c_(l.charCodeAt(0)))return!0;return!1}const wy="deferred",Sy="loading",Cy="loaded";let ky=null,ko="unavailable",ql=null;const gf=function(u){u&&typeof u=="string"&&u.indexOf("NetworkError")>-1&&(ko="error"),ky&&ky(u)};function Ty(){yf.fire(new yn("pluginStateChange",{pluginStatus:ko,pluginURL:ql}))}const yf=new Kn,Ey=function(){return ko},d_=function(){if(ko!==wy||!ql)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ko=Sy,Ty(),ql&&Tt({url:ql},u=>{u?gf(u):(ko=Cy,Ty())})},Qo={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>ko===Cy||Qo.applyArabicShaping!=null,isLoading:()=>ko===Sy,setState(u){if(!be())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");ko=u.pluginStatus,ql=u.pluginURL},isParsed(){if(!be())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return Qo.applyArabicShaping!=null&&Qo.processBidirectionalText!=null&&Qo.processStyledBidirectionalText!=null},getPluginURL(){if(!be())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return ql}};class Cr{constructor(l,d){this.zoom=l,d?(this.now=d.now,this.fadeDuration=d.fadeDuration,this.zoomHistory=d.zoomHistory,this.transition=d.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new s_,this.transition={})}isSupportedScript(l){return function(d,m){for(const x of d)if(!u_(x.charCodeAt(0),m))return!1;return!0}(l,Qo.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const l=this.zoom,d=l-Math.floor(l),m=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:d+(1-d)*m}:{fromScale:.5,toScale:1,t:1-(1-m)*d}}}class op{constructor(l,d){this.property=l,this.value=d,this.expression=function(m,x){if(Dr(m))return new lf(m,x);if(Kh(m)){const C=my(m,x);if(C.result==="error")throw new Error(C.value.map(P=>`${P.key}: ${P.message}`).join(", "));return C.value}{let C=m;return x.type==="color"&&typeof m=="string"?C=rr.parse(m):x.type!=="padding"||typeof m!="number"&&!Array.isArray(m)?x.type==="variableAnchorOffsetCollection"&&Array.isArray(m)&&(C=va.parse(m)):C=Ko.parse(m),{kind:"constant",evaluate:()=>C}}}(d===void 0?l.specification.default:d,l.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(l,d,m){return this.property.possiblyEvaluate(this,l,d,m)}}class Py{constructor(l){this.property=l,this.value=new op(l,void 0)}transitioned(l,d){return new h_(this.property,this.value,d,q({},l.transition,this.transition),l.now)}untransitioned(){return new h_(this.property,this.value,null,{},0)}}class f_{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues)}getValue(l){return le(this._values[l].value.value)}setValue(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new Py(this._values[l].property)),this._values[l].value=new op(this._values[l].property,d===null?void 0:le(d))}getTransition(l){return le(this._values[l].transition)}setTransition(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new Py(this._values[l].property)),this._values[l].transition=le(d)||void 0}serialize(){const l={};for(const d of Object.keys(this._values)){const m=this.getValue(d);m!==void 0&&(l[d]=m);const x=this.getTransition(d);x!==void 0&&(l[`${d}-transition`]=x)}return l}transitioned(l,d){const m=new p_(this._properties);for(const x of Object.keys(this._values))m._values[x]=this._values[x].transitioned(l,d._values[x]);return m}untransitioned(){const l=new p_(this._properties);for(const d of Object.keys(this._values))l._values[d]=this._values[d].untransitioned();return l}}class h_{constructor(l,d,m,x,C){this.property=l,this.value=d,this.begin=C+x.delay||0,this.end=this.begin+x.duration||0,l.specification.transition&&(x.delay||x.duration)&&(this.prior=m)}possiblyEvaluate(l,d,m){const x=l.now||0,C=this.value.possiblyEvaluate(l,d,m),P=this.prior;if(P){if(x>this.end)return this.prior=null,C;if(this.value.isDataDriven())return this.prior=null,C;if(x<this.begin)return P.possiblyEvaluate(l,d,m);{const j=(x-this.begin)/(this.end-this.begin);return this.property.interpolate(P.possiblyEvaluate(l,d,m),C,function(B){if(B<=0)return 0;if(B>=1)return 1;const W=B*B,G=W*B;return 4*(B<.5?G:3*(B-W)+G-.75)}(j))}}return C}}class p_{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,d,m){const x=new ap(this._properties);for(const C of Object.keys(this._values))x._values[C]=this._values[C].possiblyEvaluate(l,d,m);return x}hasTransition(){for(const l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class mT{constructor(l){this._properties=l,this._values=Object.create(l.defaultPropertyValues)}hasValue(l){return this._values[l].value!==void 0}getValue(l){return le(this._values[l].value)}setValue(l,d){this._values[l]=new op(this._values[l].property,d===null?void 0:le(d))}serialize(){const l={};for(const d of Object.keys(this._values)){const m=this.getValue(d);m!==void 0&&(l[d]=m)}return l}possiblyEvaluate(l,d,m){const x=new ap(this._properties);for(const C of Object.keys(this._values))x._values[C]=this._values[C].possiblyEvaluate(l,d,m);return x}}class uo{constructor(l,d,m){this.property=l,this.value=d,this.parameters=m}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,d,m,x){return this.property.evaluate(this.value,this.parameters,l,d,m,x)}}class ap{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class Ht{constructor(l){this.specification=l}possiblyEvaluate(l,d){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(d)}interpolate(l,d,m){const x=Zo[this.specification.type];return x?x(l,d,m):l}}class un{constructor(l,d){this.specification=l,this.overrides=d}possiblyEvaluate(l,d,m,x){return new uo(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(d,null,{},m,x)}:l.expression,d)}interpolate(l,d,m){if(l.value.kind!=="constant"||d.value.kind!=="constant")return l;if(l.value.value===void 0||d.value.value===void 0)return new uo(this,{kind:"constant",value:void 0},l.parameters);const x=Zo[this.specification.type];if(x){const C=x(l.value.value,d.value.value,m);return new uo(this,{kind:"constant",value:C},l.parameters)}return l}evaluate(l,d,m,x,C,P){return l.kind==="constant"?l.value:l.evaluate(d,m,x,C,P)}}class vf extends un{possiblyEvaluate(l,d,m,x){if(l.value===void 0)return new uo(this,{kind:"constant",value:void 0},d);if(l.expression.kind==="constant"){const C=l.expression.evaluate(d,null,{},m,x),P=l.property.specification.type==="resolvedImage"&&typeof C!="string"?C.name:C,j=this._calculate(P,P,P,d);return new uo(this,{kind:"constant",value:j},d)}if(l.expression.kind==="camera"){const C=this._calculate(l.expression.evaluate({zoom:d.zoom-1}),l.expression.evaluate({zoom:d.zoom}),l.expression.evaluate({zoom:d.zoom+1}),d);return new uo(this,{kind:"constant",value:C},d)}return new uo(this,l.expression,d)}evaluate(l,d,m,x,C,P){if(l.kind==="source"){const j=l.evaluate(d,m,x,C,P);return this._calculate(j,j,j,d)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(d.zoom)-1},m,x),l.evaluate({zoom:Math.floor(d.zoom)},m,x),l.evaluate({zoom:Math.floor(d.zoom)+1},m,x),d):l.value}_calculate(l,d,m,x){return x.zoom>x.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:m,to:d}}interpolate(l){return l}}class Oy{constructor(l){this.specification=l}possiblyEvaluate(l,d,m,x){if(l.value!==void 0){if(l.expression.kind==="constant"){const C=l.expression.evaluate(d,null,{},m,x);return this._calculate(C,C,C,d)}return this._calculate(l.expression.evaluate(new Cr(Math.floor(d.zoom-1),d)),l.expression.evaluate(new Cr(Math.floor(d.zoom),d)),l.expression.evaluate(new Cr(Math.floor(d.zoom+1),d)),d)}}_calculate(l,d,m,x){return x.zoom>x.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:m,to:d}}interpolate(l){return l}}class My{constructor(l){this.specification=l}possiblyEvaluate(l,d,m,x){return!!l.expression.evaluate(d,null,{},m,x)}interpolate(){return!1}}class li{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const d in l){const m=l[d];m.specification.overridable&&this.overridableProperties.push(d);const x=this.defaultPropertyValues[d]=new op(m,void 0),C=this.defaultTransitionablePropertyValues[d]=new Py(m);this.defaultTransitioningPropertyValues[d]=C.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=x.possiblyEvaluate({})}}}$t("DataDrivenProperty",un),$t("DataConstantProperty",Ht),$t("CrossFadedDataDrivenProperty",vf),$t("CrossFadedProperty",Oy),$t("ColorRampProperty",My);const Ay="-transition";class wa extends Kn{constructor(l,d){if(super(),this.id=l.id,this.type=l.type,this._featureFilter={filter:()=>!0,needGeometry:!1},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter),d.layout&&(this._unevaluatedLayout=new mT(d.layout)),d.paint)){this._transitionablePaint=new f_(d.paint);for(const m in l.paint)this.setPaintProperty(m,l.paint[m],{validate:!1});for(const m in l.layout)this.setLayoutProperty(m,l.layout[m],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ap(d.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}setLayoutProperty(l,d,m={}){d!=null&&this._validate(a_,`layers.${this.id}.layout.${l}`,l,d,m)||(l!=="visibility"?this._unevaluatedLayout.setValue(l,d):this.visibility=d)}getPaintProperty(l){return l.endsWith(Ay)?this._transitionablePaint.getTransition(l.slice(0,-11)):this._transitionablePaint.getValue(l)}setPaintProperty(l,d,m={}){if(d!=null&&this._validate(vy,`layers.${this.id}.paint.${l}`,l,d,m))return!1;if(l.endsWith(Ay))return this._transitionablePaint.setTransition(l.slice(0,-11),d||void 0),!1;{const x=this._transitionablePaint._values[l],C=x.property.specification["property-type"]==="cross-faded-data-driven",P=x.value.isDataDriven(),j=x.value;this._transitionablePaint.setValue(l,d),this._handleSpecialPaintPropertyUpdate(l);const B=this._transitionablePaint._values[l].value;return B.isDataDriven()||P||C||this._handleOverridablePaintPropertyUpdate(l,j,B)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,d,m){return!1}isHidden(l){return!!(this.minzoom&&l<this.minzoom)||!!(this.maxzoom&&l>=this.maxzoom)||this.visibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(l,d){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,d)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,d)}serialize(){const l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),ne(l,(d,m)=>!(d===void 0||m==="layout"&&!Object.keys(d).length||m==="paint"&&!Object.keys(d).length))}_validate(l,d,m,x,C={}){return(!C||C.validate!==!1)&&rp(this,l.call(al,{key:d,layerType:this.type,objectKey:m,value:x,styleSpec:Be,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const l in this.paint._values){const d=this.paint.get(l);if(d instanceof uo&&Nu(d.property.specification)&&(d.value.kind==="source"||d.value.kind==="composite")&&d.value.isStateDependent)return!0}return!1}}const m_={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Ec{constructor(l,d){this._structArray=l,this._pos1=d*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Wr{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,d){return l._trim(),d&&(l.isTransferred=!0,d.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){const d=Object.create(this.prototype);return d.arrayBuffer=l.arrayBuffer,d.length=l.length,d.capacity=l.arrayBuffer.byteLength/d.bytesPerElement,d._refreshViews(),d}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const d=this.uint8;this._refreshViews(),d&&this.uint8.set(d)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Lr(u,l=1){let d=0,m=0;return{members:u.map(x=>{const C=m_[x.type].BYTES_PER_ELEMENT,P=d=Vu(d,Math.max(l,C)),j=x.components||1;return m=Math.max(m,C),d+=C*j,{name:x.name,type:x.type,components:j,offset:P}}),size:Vu(d,Math.max(m,l)),alignment:l}}function Vu(u,l){return Math.ceil(u/l)*l}class bf extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d){const m=this.length;return this.resize(m+1),this.emplace(m,l,d)}emplace(l,d,m){const x=2*l;return this.int16[x+0]=d,this.int16[x+1]=m,l}}bf.prototype.bytesPerElement=4,$t("StructArrayLayout2i4",bf);class xf extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m){const x=this.length;return this.resize(x+1),this.emplace(x,l,d,m)}emplace(l,d,m,x){const C=3*l;return this.int16[C+0]=d,this.int16[C+1]=m,this.int16[C+2]=x,l}}xf.prototype.bytesPerElement=6,$t("StructArrayLayout3i6",xf);class Pc extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,x){const C=this.length;return this.resize(C+1),this.emplace(C,l,d,m,x)}emplace(l,d,m,x,C){const P=4*l;return this.int16[P+0]=d,this.int16[P+1]=m,this.int16[P+2]=x,this.int16[P+3]=C,l}}Pc.prototype.bytesPerElement=8,$t("StructArrayLayout4i8",Pc);class Iy extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,x,C,P){const j=this.length;return this.resize(j+1),this.emplace(j,l,d,m,x,C,P)}emplace(l,d,m,x,C,P,j){const B=6*l;return this.int16[B+0]=d,this.int16[B+1]=m,this.int16[B+2]=x,this.int16[B+3]=C,this.int16[B+4]=P,this.int16[B+5]=j,l}}Iy.prototype.bytesPerElement=12,$t("StructArrayLayout2i4i12",Iy);class $y extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,x,C,P){const j=this.length;return this.resize(j+1),this.emplace(j,l,d,m,x,C,P)}emplace(l,d,m,x,C,P,j){const B=4*l,W=8*l;return this.int16[B+0]=d,this.int16[B+1]=m,this.uint8[W+4]=x,this.uint8[W+5]=C,this.uint8[W+6]=P,this.uint8[W+7]=j,l}}$y.prototype.bytesPerElement=8,$t("StructArrayLayout2i4ub8",$y);class Wu extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d){const m=this.length;return this.resize(m+1),this.emplace(m,l,d)}emplace(l,d,m){const x=2*l;return this.float32[x+0]=d,this.float32[x+1]=m,l}}Wu.prototype.bytesPerElement=8,$t("StructArrayLayout2f8",Wu);class Ry extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m,x,C,P,j,B,W,G){const X=this.length;return this.resize(X+1),this.emplace(X,l,d,m,x,C,P,j,B,W,G)}emplace(l,d,m,x,C,P,j,B,W,G,X){const te=10*l;return this.uint16[te+0]=d,this.uint16[te+1]=m,this.uint16[te+2]=x,this.uint16[te+3]=C,this.uint16[te+4]=P,this.uint16[te+5]=j,this.uint16[te+6]=B,this.uint16[te+7]=W,this.uint16[te+8]=G,this.uint16[te+9]=X,l}}Ry.prototype.bytesPerElement=20,$t("StructArrayLayout10ui20",Ry);class Dy extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m,x,C,P,j,B,W,G,X,te){const oe=this.length;return this.resize(oe+1),this.emplace(oe,l,d,m,x,C,P,j,B,W,G,X,te)}emplace(l,d,m,x,C,P,j,B,W,G,X,te,oe){const ae=12*l;return this.int16[ae+0]=d,this.int16[ae+1]=m,this.int16[ae+2]=x,this.int16[ae+3]=C,this.uint16[ae+4]=P,this.uint16[ae+5]=j,this.uint16[ae+6]=B,this.uint16[ae+7]=W,this.int16[ae+8]=G,this.int16[ae+9]=X,this.int16[ae+10]=te,this.int16[ae+11]=oe,l}}Dy.prototype.bytesPerElement=24,$t("StructArrayLayout4i4ui4i24",Dy);class Gn extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m){const x=this.length;return this.resize(x+1),this.emplace(x,l,d,m)}emplace(l,d,m,x){const C=3*l;return this.float32[C+0]=d,this.float32[C+1]=m,this.float32[C+2]=x,l}}Gn.prototype.bytesPerElement=12,$t("StructArrayLayout3f12",Gn);class S extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint32[1*l+0]=d,l}}S.prototype.bytesPerElement=4,$t("StructArrayLayout1ul4",S);class c extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m,x,C,P,j,B,W){const G=this.length;return this.resize(G+1),this.emplace(G,l,d,m,x,C,P,j,B,W)}emplace(l,d,m,x,C,P,j,B,W,G){const X=10*l,te=5*l;return this.int16[X+0]=d,this.int16[X+1]=m,this.int16[X+2]=x,this.int16[X+3]=C,this.int16[X+4]=P,this.int16[X+5]=j,this.uint32[te+3]=B,this.uint16[X+8]=W,this.uint16[X+9]=G,l}}c.prototype.bytesPerElement=20,$t("StructArrayLayout6i1ul2ui20",c);class p extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,x,C,P){const j=this.length;return this.resize(j+1),this.emplace(j,l,d,m,x,C,P)}emplace(l,d,m,x,C,P,j){const B=6*l;return this.int16[B+0]=d,this.int16[B+1]=m,this.int16[B+2]=x,this.int16[B+3]=C,this.int16[B+4]=P,this.int16[B+5]=j,l}}p.prototype.bytesPerElement=12,$t("StructArrayLayout2i2i2i12",p);class v extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,x,C){const P=this.length;return this.resize(P+1),this.emplace(P,l,d,m,x,C)}emplace(l,d,m,x,C,P){const j=4*l,B=8*l;return this.float32[j+0]=d,this.float32[j+1]=m,this.float32[j+2]=x,this.int16[B+6]=C,this.int16[B+7]=P,l}}v.prototype.bytesPerElement=16,$t("StructArrayLayout2f1f2i16",v);class _ extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m,x){const C=this.length;return this.resize(C+1),this.emplace(C,l,d,m,x)}emplace(l,d,m,x,C){const P=12*l,j=3*l;return this.uint8[P+0]=d,this.uint8[P+1]=m,this.float32[j+1]=x,this.float32[j+2]=C,l}}_.prototype.bytesPerElement=12,$t("StructArrayLayout2ub2f12",_);class k extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m){const x=this.length;return this.resize(x+1),this.emplace(x,l,d,m)}emplace(l,d,m,x){const C=3*l;return this.uint16[C+0]=d,this.uint16[C+1]=m,this.uint16[C+2]=x,l}}k.prototype.bytesPerElement=6,$t("StructArrayLayout3ui6",k);class N extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m,x,C,P,j,B,W,G,X,te,oe,ae,he,we,Te){const je=this.length;return this.resize(je+1),this.emplace(je,l,d,m,x,C,P,j,B,W,G,X,te,oe,ae,he,we,Te)}emplace(l,d,m,x,C,P,j,B,W,G,X,te,oe,ae,he,we,Te,je){const Oe=24*l,ze=12*l,Ve=48*l;return this.int16[Oe+0]=d,this.int16[Oe+1]=m,this.uint16[Oe+2]=x,this.uint16[Oe+3]=C,this.uint32[ze+2]=P,this.uint32[ze+3]=j,this.uint32[ze+4]=B,this.uint16[Oe+10]=W,this.uint16[Oe+11]=G,this.uint16[Oe+12]=X,this.float32[ze+7]=te,this.float32[ze+8]=oe,this.uint8[Ve+36]=ae,this.uint8[Ve+37]=he,this.uint8[Ve+38]=we,this.uint32[ze+10]=Te,this.int16[Oe+22]=je,l}}N.prototype.bytesPerElement=48,$t("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",N);class z extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m,x,C,P,j,B,W,G,X,te,oe,ae,he,we,Te,je,Oe,ze,Ve,nt,Ot,Ft,Et,Ct,yt,Dt){const _t=this.length;return this.resize(_t+1),this.emplace(_t,l,d,m,x,C,P,j,B,W,G,X,te,oe,ae,he,we,Te,je,Oe,ze,Ve,nt,Ot,Ft,Et,Ct,yt,Dt)}emplace(l,d,m,x,C,P,j,B,W,G,X,te,oe,ae,he,we,Te,je,Oe,ze,Ve,nt,Ot,Ft,Et,Ct,yt,Dt,_t){const ft=32*l,en=16*l;return this.int16[ft+0]=d,this.int16[ft+1]=m,this.int16[ft+2]=x,this.int16[ft+3]=C,this.int16[ft+4]=P,this.int16[ft+5]=j,this.int16[ft+6]=B,this.int16[ft+7]=W,this.uint16[ft+8]=G,this.uint16[ft+9]=X,this.uint16[ft+10]=te,this.uint16[ft+11]=oe,this.uint16[ft+12]=ae,this.uint16[ft+13]=he,this.uint16[ft+14]=we,this.uint16[ft+15]=Te,this.uint16[ft+16]=je,this.uint16[ft+17]=Oe,this.uint16[ft+18]=ze,this.uint16[ft+19]=Ve,this.uint16[ft+20]=nt,this.uint16[ft+21]=Ot,this.uint16[ft+22]=Ft,this.uint32[en+12]=Et,this.float32[en+13]=Ct,this.float32[en+14]=yt,this.uint16[ft+30]=Dt,this.uint16[ft+31]=_t,l}}z.prototype.bytesPerElement=64,$t("StructArrayLayout8i15ui1ul2f2ui64",z);class V extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.float32[1*l+0]=d,l}}V.prototype.bytesPerElement=4,$t("StructArrayLayout1f4",V);class H extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m){const x=this.length;return this.resize(x+1),this.emplace(x,l,d,m)}emplace(l,d,m,x){const C=3*l;return this.uint16[6*l+0]=d,this.float32[C+1]=m,this.float32[C+2]=x,l}}H.prototype.bytesPerElement=12,$t("StructArrayLayout1ui2f12",H);class Y extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m){const x=this.length;return this.resize(x+1),this.emplace(x,l,d,m)}emplace(l,d,m,x){const C=4*l;return this.uint32[2*l+0]=d,this.uint16[C+2]=m,this.uint16[C+3]=x,l}}Y.prototype.bytesPerElement=8,$t("StructArrayLayout1ul2ui8",Y);class Z extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d){const m=this.length;return this.resize(m+1),this.emplace(m,l,d)}emplace(l,d,m){const x=2*l;return this.uint16[x+0]=d,this.uint16[x+1]=m,l}}Z.prototype.bytesPerElement=4,$t("StructArrayLayout2ui4",Z);class ie extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint16[1*l+0]=d,l}}ie.prototype.bytesPerElement=2,$t("StructArrayLayout1ui2",ie);class ge extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m,x){const C=this.length;return this.resize(C+1),this.emplace(C,l,d,m,x)}emplace(l,d,m,x,C){const P=4*l;return this.float32[P+0]=d,this.float32[P+1]=m,this.float32[P+2]=x,this.float32[P+3]=C,l}}ge.prototype.bytesPerElement=16,$t("StructArrayLayout4f16",ge);class me extends Ec{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new b(this.anchorPointX,this.anchorPointY)}}me.prototype.size=20;class xe extends c{get(l){return new me(this,l)}}$t("CollisionBoxArray",xe);class fe extends Ec{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}fe.prototype.size=48;class Ie extends N{get(l){return new fe(this,l)}}$t("PlacedSymbolArray",Ie);class Ue extends Ec{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Ue.prototype.size=64;class Ce extends z{get(l){return new Ue(this,l)}}$t("SymbolInstanceArray",Ce);class De extends V{getoffsetX(l){return this.float32[1*l+0]}}$t("GlyphOffsetArray",De);class We extends xf{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}$t("SymbolLineVertexArray",We);class Ge extends Ec{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Ge.prototype.size=12;class tt extends H{get(l){return new Ge(this,l)}}$t("TextAnchorOffsetArray",tt);class ut extends Ec{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}ut.prototype.size=8;class at extends Y{get(l){return new ut(this,l)}}$t("FeatureIndexArray",at);class mt extends bf{}class Bt extends bf{}class kn extends bf{}class St extends Iy{}class dn extends $y{}class Ut extends Wu{}class ir extends Ry{}class Sn extends Dy{}class xn extends Gn{}class Tn extends S{}class Jr extends p{}class vr extends _{}class Ui extends k{}class wi extends Z{}const ci=Lr([{name:"a_pos",components:2,type:"Int16"}],4),{members:ea}=ci;class kr{constructor(l=[]){this.segments=l}prepareSegment(l,d,m,x){let C=this.segments[this.segments.length-1];return l>kr.MAX_VERTEX_ARRAY_LENGTH&&de(`Max vertices per segment is ${kr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}`),(!C||C.vertexLength+l>kr.MAX_VERTEX_ARRAY_LENGTH||C.sortKey!==x)&&(C={vertexOffset:d.length,primitiveOffset:m.length,vertexLength:0,primitiveLength:0},x!==void 0&&(C.sortKey=x),this.segments.push(C)),C}get(){return this.segments}destroy(){for(const l of this.segments)for(const d in l.vaos)l.vaos[d].destroy()}static simpleSegment(l,d,m,x){return new kr([{vertexOffset:l,primitiveOffset:d,vertexLength:m,primitiveLength:x,vaos:{},sortKey:0}])}}function vs(u,l){return 256*(u=D(Math.floor(u),0,255))+D(Math.floor(l),0,255)}kr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,$t("SegmentVector",kr);const bs=Lr([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Hl={exports:{}},Oc={exports:{}};Oc.exports=function(u,l){var d,m,x,C,P,j,B,W;for(m=u.length-(d=3&u.length),x=l,P=3432918353,j=461845907,W=0;W<m;)B=255&u.charCodeAt(W)|(255&u.charCodeAt(++W))<<8|(255&u.charCodeAt(++W))<<16|(255&u.charCodeAt(++W))<<24,++W,x=27492+(65535&(C=5*(65535&(x=(x^=B=(65535&(B=(B=(65535&B)*P+(((B>>>16)*P&65535)<<16)&4294967295)<<15|B>>>17))*j+(((B>>>16)*j&65535)<<16)&4294967295)<<13|x>>>19))+((5*(x>>>16)&65535)<<16)&4294967295))+((58964+(C>>>16)&65535)<<16);switch(B=0,d){case 3:B^=(255&u.charCodeAt(W+2))<<16;case 2:B^=(255&u.charCodeAt(W+1))<<8;case 1:x^=B=(65535&(B=(B=(65535&(B^=255&u.charCodeAt(W)))*P+(((B>>>16)*P&65535)<<16)&4294967295)<<15|B>>>17))*j+(((B>>>16)*j&65535)<<16)&4294967295}return x^=u.length,x=2246822507*(65535&(x^=x>>>16))+((2246822507*(x>>>16)&65535)<<16)&4294967295,x=3266489909*(65535&(x^=x>>>13))+((3266489909*(x>>>16)&65535)<<16)&4294967295,(x^=x>>>16)>>>0};var qu=Oc.exports,Qi={exports:{}};Qi.exports=function(u,l){for(var d,m=u.length,x=l^m,C=0;m>=4;)d=1540483477*(65535&(d=255&u.charCodeAt(C)|(255&u.charCodeAt(++C))<<8|(255&u.charCodeAt(++C))<<16|(255&u.charCodeAt(++C))<<24))+((1540483477*(d>>>16)&65535)<<16),x=1540483477*(65535&x)+((1540483477*(x>>>16)&65535)<<16)^(d=1540483477*(65535&(d^=d>>>24))+((1540483477*(d>>>16)&65535)<<16)),m-=4,++C;switch(m){case 3:x^=(255&u.charCodeAt(C+2))<<16;case 2:x^=(255&u.charCodeAt(C+1))<<8;case 1:x=1540483477*(65535&(x^=255&u.charCodeAt(C)))+((1540483477*(x>>>16)&65535)<<16)}return x=1540483477*(65535&(x^=x>>>13))+((1540483477*(x>>>16)&65535)<<16),(x^=x>>>15)>>>0};var Vi=qu,fo=Qi.exports;Hl.exports=Vi,Hl.exports.murmur3=Vi,Hl.exports.murmur2=fo;var Mc=h(Hl.exports);class Qr{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,d,m,x){this.ids.push(Si(l)),this.positions.push(d,m,x)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const d=Si(l);let m=0,x=this.ids.length-1;for(;m<x;){const P=m+x>>1;this.ids[P]>=d?x=P:m=P+1}const C=[];for(;this.ids[m]===d;)C.push({index:this.positions[3*m],start:this.positions[3*m+1],end:this.positions[3*m+2]}),m++;return C}static serialize(l,d){const m=new Float64Array(l.ids),x=new Uint32Array(l.positions);return To(m,x,0,m.length-1),d&&d.push(m.buffer,x.buffer),{ids:m,positions:x}}static deserialize(l){const d=new Qr;return d.ids=l.ids,d.positions=l.positions,d.indexed=!0,d}}function Si(u){const l=+u;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:Mc(String(u))}function To(u,l,d,m){for(;d<m;){const x=u[d+m>>1];let C=d-1,P=m+1;for(;;){do C++;while(u[C]<x);do P--;while(u[P]>x);if(C>=P)break;ei(u,C,P),ei(l,3*C,3*P),ei(l,3*C+1,3*P+1),ei(l,3*C+2,3*P+2)}P-d<m-P?(To(u,l,d,P),d=P+1):(To(u,l,P+1,m),m=P)}}function ei(u,l,d){const m=u[l];u[l]=u[d],u[d]=m}$t("FeaturePositionMap",Qr);class Ac{constructor(l,d){this.gl=l.gl,this.location=d}}class sp extends Ac{constructor(l,d){super(l,d),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class g_ extends Ac{constructor(l,d){super(l,d),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class y_ extends Ac{constructor(l,d){super(l,d),this.current=rr.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}const gT=new Float32Array(16);function jy(u){return[vs(255*u.r,255*u.g),vs(255*u.b,255*u.a)]}class xs{constructor(l,d,m){this.value=l,this.uniformNames=d.map(x=>`u_${x}`),this.type=m}setUniform(l,d,m){l.set(m.constantOr(this.value))}getBinding(l,d,m){return this.type==="color"?new y_(l,d):new sp(l,d)}}class Ic{constructor(l,d){this.uniformNames=d.map(m=>`u_${m}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,d){this.pixelRatioFrom=d.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=d.tlbr,this.patternTo=l.tlbr}setUniform(l,d,m,x){const C=x==="u_pattern_to"?this.patternTo:x==="u_pattern_from"?this.patternFrom:x==="u_pixel_ratio_to"?this.pixelRatioTo:x==="u_pixel_ratio_from"?this.pixelRatioFrom:null;C&&l.set(C)}getBinding(l,d,m){return m.substr(0,9)==="u_pattern"?new g_(l,d):new sp(l,d)}}class _s{constructor(l,d,m,x){this.expression=l,this.type=m,this.maxValue=0,this.paintVertexAttributes=d.map(C=>({name:`a_${C}`,type:"Float32",components:m==="color"?2:1,offset:0})),this.paintVertexArray=new x}populatePaintArray(l,d,m,x,C){const P=this.paintVertexArray.length,j=this.expression.evaluate(new Cr(0),d,{},x,[],C);this.paintVertexArray.resize(l),this._setPaintValue(P,l,j)}updatePaintArray(l,d,m,x){const C=this.expression.evaluate({zoom:0},m,x);this._setPaintValue(l,d,C)}_setPaintValue(l,d,m){if(this.type==="color"){const x=jy(m);for(let C=l;C<d;C++)this.paintVertexArray.emplace(C,x[0],x[1])}else{for(let x=l;x<d;x++)this.paintVertexArray.emplace(x,m);this.maxValue=Math.max(this.maxValue,Math.abs(m))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Sa{constructor(l,d,m,x,C,P){this.expression=l,this.uniformNames=d.map(j=>`u_${j}_t`),this.type=m,this.useIntegerZoom=x,this.zoom=C,this.maxValue=0,this.paintVertexAttributes=d.map(j=>({name:`a_${j}`,type:"Float32",components:m==="color"?4:2,offset:0})),this.paintVertexArray=new P}populatePaintArray(l,d,m,x,C){const P=this.expression.evaluate(new Cr(this.zoom),d,{},x,[],C),j=this.expression.evaluate(new Cr(this.zoom+1),d,{},x,[],C),B=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(B,l,P,j)}updatePaintArray(l,d,m,x){const C=this.expression.evaluate({zoom:this.zoom},m,x),P=this.expression.evaluate({zoom:this.zoom+1},m,x);this._setPaintValue(l,d,C,P)}_setPaintValue(l,d,m,x){if(this.type==="color"){const C=jy(m),P=jy(x);for(let j=l;j<d;j++)this.paintVertexArray.emplace(j,C[0],C[1],P[0],P[1])}else{for(let C=l;C<d;C++)this.paintVertexArray.emplace(C,m,x);this.maxValue=Math.max(this.maxValue,Math.abs(m),Math.abs(x))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,d){const m=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,x=D(this.expression.interpolationFactor(m,this.zoom,this.zoom+1),0,1);l.set(x)}getBinding(l,d,m){return new sp(l,d)}}class ws{constructor(l,d,m,x,C,P){this.expression=l,this.type=d,this.useIntegerZoom=m,this.zoom=x,this.layerId=P,this.zoomInPaintVertexArray=new C,this.zoomOutPaintVertexArray=new C}populatePaintArray(l,d,m){const x=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(x,l,d.patterns&&d.patterns[this.layerId],m)}updatePaintArray(l,d,m,x,C){this._setPaintValues(l,d,m.patterns&&m.patterns[this.layerId],C)}_setPaintValues(l,d,m,x){if(!x||!m)return;const{min:C,mid:P,max:j}=m,B=x[C],W=x[P],G=x[j];if(B&&W&&G)for(let X=l;X<d;X++)this.zoomInPaintVertexArray.emplace(X,W.tl[0],W.tl[1],W.br[0],W.br[1],B.tl[0],B.tl[1],B.br[0],B.br[1],W.pixelRatio,B.pixelRatio),this.zoomOutPaintVertexArray.emplace(X,W.tl[0],W.tl[1],W.br[0],W.br[1],G.tl[0],G.tl[1],G.br[0],G.br[1],W.pixelRatio,G.pixelRatio)}upload(l){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,bs.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,bs.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Ly{constructor(l,d,m){this.binders={},this._buffers=[];const x=[];for(const C in l.paint._values){if(!m(C))continue;const P=l.paint.get(C);if(!(P instanceof uo&&Nu(P.property.specification)))continue;const j=zZ(C,l.type),B=P.value,W=P.property.specification.type,G=P.property.useIntegerZoom,X=P.property.specification["property-type"],te=X==="cross-faded"||X==="cross-faded-data-driven";if(B.kind==="constant")this.binders[C]=te?new Ic(B.value,j):new xs(B.value,j,W),x.push(`/u_${C}`);else if(B.kind==="source"||te){const oe=uL(C,W,"source");this.binders[C]=te?new ws(B,W,G,d,oe,l.id):new _s(B,j,W,oe),x.push(`/a_${C}`)}else{const oe=uL(C,W,"composite");this.binders[C]=new Sa(B,j,W,G,d,oe),x.push(`/z_${C}`)}}this.cacheKey=x.sort().join("")}getMaxValue(l){const d=this.binders[l];return d instanceof _s||d instanceof Sa?d.maxValue:0}populatePaintArrays(l,d,m,x,C){for(const P in this.binders){const j=this.binders[P];(j instanceof _s||j instanceof Sa||j instanceof ws)&&j.populatePaintArray(l,d,m,x,C)}}setConstantPatternPositions(l,d){for(const m in this.binders){const x=this.binders[m];x instanceof Ic&&x.setConstantPatternPositions(l,d)}}updatePaintArrays(l,d,m,x,C){let P=!1;for(const j in l){const B=d.getPositions(j);for(const W of B){const G=m.feature(W.index);for(const X in this.binders){const te=this.binders[X];if((te instanceof _s||te instanceof Sa||te instanceof ws)&&te.expression.isStateDependent===!0){const oe=x.paint.get(X);te.expression=oe.value,te.updatePaintArray(W.start,W.end,G,l[j],C),P=!0}}}}return P}defines(){const l=[];for(const d in this.binders){const m=this.binders[d];(m instanceof xs||m instanceof Ic)&&l.push(...m.uniformNames.map(x=>`#define HAS_UNIFORM_${x}`))}return l}getBinderAttributes(){const l=[];for(const d in this.binders){const m=this.binders[d];if(m instanceof _s||m instanceof Sa)for(let x=0;x<m.paintVertexAttributes.length;x++)l.push(m.paintVertexAttributes[x].name);else if(m instanceof ws)for(let x=0;x<bs.members.length;x++)l.push(bs.members[x].name)}return l}getBinderUniforms(){const l=[];for(const d in this.binders){const m=this.binders[d];if(m instanceof xs||m instanceof Ic||m instanceof Sa)for(const x of m.uniformNames)l.push(x)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,d){const m=[];for(const x in this.binders){const C=this.binders[x];if(C instanceof xs||C instanceof Ic||C instanceof Sa){for(const P of C.uniformNames)if(d[P]){const j=C.getBinding(l,d[P],P);m.push({name:P,property:x,binding:j})}}}return m}setUniforms(l,d,m,x){for(const{name:C,property:P,binding:j}of d)this.binders[P].setUniform(j,x,m.get(P),C)}updatePaintBuffers(l){this._buffers=[];for(const d in this.binders){const m=this.binders[d];if(l&&m instanceof ws){const x=l.fromScale===2?m.zoomInPaintVertexBuffer:m.zoomOutPaintVertexBuffer;x&&this._buffers.push(x)}else(m instanceof _s||m instanceof Sa)&&m.paintVertexBuffer&&this._buffers.push(m.paintVertexBuffer)}}upload(l){for(const d in this.binders){const m=this.binders[d];(m instanceof _s||m instanceof Sa||m instanceof ws)&&m.upload(l)}this.updatePaintBuffers()}destroy(){for(const l in this.binders){const d=this.binders[l];(d instanceof _s||d instanceof Sa||d instanceof ws)&&d.destroy()}}}class ll{constructor(l,d,m=()=>!0){this.programConfigurations={};for(const x of l)this.programConfigurations[x.id]=new Ly(x,d,m);this.needsUpload=!1,this._featureMap=new Qr,this._bufferOffset=0}populatePaintArrays(l,d,m,x,C,P){for(const j in this.programConfigurations)this.programConfigurations[j].populatePaintArrays(l,d,x,C,P);d.id!==void 0&&this._featureMap.add(d.id,m,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,d,m,x){for(const C of m)this.needsUpload=this.programConfigurations[C.id].updatePaintArrays(l,this._featureMap,d,C,x)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(const d in this.programConfigurations)this.programConfigurations[d].upload(l);this.needsUpload=!1}}destroy(){for(const l in this.programConfigurations)this.programConfigurations[l].destroy()}}function zZ(u,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[u]||[u.replace(`${l}-`,"").replace(/-/g,"_")]}function uL(u,l,d){const m={color:{source:Wu,composite:ge},number:{source:V,composite:Wu}},x=function(C){return{"line-pattern":{source:ir,composite:ir},"fill-pattern":{source:ir,composite:ir},"fill-extrusion-pattern":{source:ir,composite:ir}}[C]}(u);return x&&x[d]||m[l][d]}$t("ConstantBinder",xs),$t("CrossFadedConstantBinder",Ic),$t("SourceExpressionBinder",_s),$t("CrossFadedCompositeBinder",ws),$t("CompositeExpressionBinder",Sa),$t("ProgramConfiguration",Ly,{omit:["_buffers"]}),$t("ProgramConfigurationSet",ll);const gi=8192,yT=Math.pow(2,14)-1,dL=-yT-1;function _f(u){const l=gi/u.extent,d=u.loadGeometry();for(let m=0;m<d.length;m++){const x=d[m];for(let C=0;C<x.length;C++){const P=x[C],j=Math.round(P.x*l),B=Math.round(P.y*l);P.x=D(j,dL,yT),P.y=D(B,dL,yT),(j<P.x||j>P.x+1||B<P.y||B>P.y+1)&&de("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return d}function wf(u,l){return{type:u.type,id:u.id,properties:u.properties,geometry:l?_f(u):[]}}function v_(u,l,d,m,x){u.emplaceBack(2*l+(m+1)/2,2*d+(x+1)/2)}class vT{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new Bt,this.indexArray=new Ui,this.segments=new kr,this.programConfigurations=new ll(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,m){const x=this.layers[0],C=[];let P=null,j=!1;x.type==="circle"&&(P=x.layout.get("circle-sort-key"),j=!P.isConstant());for(const{feature:B,id:W,index:G,sourceLayerIndex:X}of l){const te=this.layers[0]._featureFilter.needGeometry,oe=wf(B,te);if(!this.layers[0]._featureFilter.filter(new Cr(this.zoom),oe,m))continue;const ae=j?P.evaluate(oe,{},m):void 0,he={id:W,properties:B.properties,type:B.type,sourceLayerIndex:X,index:G,geometry:te?oe.geometry:_f(B),patterns:{},sortKey:ae};C.push(he)}j&&C.sort((B,W)=>B.sortKey-W.sortKey);for(const B of C){const{geometry:W,index:G,sourceLayerIndex:X}=B,te=l[G].feature;this.addFeature(B,W,G,m),d.featureIndex.insert(te,W,G,X,this.index)}}update(l,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,ea),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,d,m,x){for(const C of d)for(const P of C){const j=P.x,B=P.y;if(j<0||j>=gi||B<0||B>=gi)continue;const W=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,l.sortKey),G=W.vertexLength;v_(this.layoutVertexArray,j,B,-1,-1),v_(this.layoutVertexArray,j,B,1,-1),v_(this.layoutVertexArray,j,B,1,1),v_(this.layoutVertexArray,j,B,-1,1),this.indexArray.emplaceBack(G,G+1,G+2),this.indexArray.emplaceBack(G,G+3,G+2),W.vertexLength+=4,W.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,{},x)}}function fL(u,l){for(let d=0;d<u.length;d++)if(lp(l,u[d]))return!0;for(let d=0;d<l.length;d++)if(lp(u,l[d]))return!0;return!!bT(u,l)}function BZ(u,l,d){return!!lp(u,l)||!!xT(l,u,d)}function hL(u,l){if(u.length===1)return mL(l,u[0]);for(let d=0;d<l.length;d++){const m=l[d];for(let x=0;x<m.length;x++)if(lp(u,m[x]))return!0}for(let d=0;d<u.length;d++)if(mL(l,u[d]))return!0;for(let d=0;d<l.length;d++)if(bT(u,l[d]))return!0;return!1}function FZ(u,l,d){if(u.length>1){if(bT(u,l))return!0;for(let m=0;m<l.length;m++)if(xT(l[m],u,d))return!0}for(let m=0;m<u.length;m++)if(xT(u[m],l,d))return!0;return!1}function bT(u,l){if(u.length===0||l.length===0)return!1;for(let d=0;d<u.length-1;d++){const m=u[d],x=u[d+1];for(let C=0;C<l.length-1;C++)if(UZ(m,x,l[C],l[C+1]))return!0}return!1}function UZ(u,l,d,m){return se(u,d,m)!==se(l,d,m)&&se(u,l,d)!==se(u,l,m)}function xT(u,l,d){const m=d*d;if(l.length===1)return u.distSqr(l[0])<m;for(let x=1;x<l.length;x++)if(pL(u,l[x-1],l[x])<m)return!0;return!1}function pL(u,l,d){const m=l.distSqr(d);if(m===0)return u.distSqr(l);const x=((u.x-l.x)*(d.x-l.x)+(u.y-l.y)*(d.y-l.y))/m;return u.distSqr(x<0?l:x>1?d:d.sub(l)._mult(x)._add(l))}function mL(u,l){let d,m,x,C=!1;for(let P=0;P<u.length;P++){d=u[P];for(let j=0,B=d.length-1;j<d.length;B=j++)m=d[j],x=d[B],m.y>l.y!=x.y>l.y&&l.x<(x.x-m.x)*(l.y-m.y)/(x.y-m.y)+m.x&&(C=!C)}return C}function lp(u,l){let d=!1;for(let m=0,x=u.length-1;m<u.length;x=m++){const C=u[m],P=u[x];C.y>l.y!=P.y>l.y&&l.x<(P.x-C.x)*(l.y-C.y)/(P.y-C.y)+C.x&&(d=!d)}return d}function VZ(u,l,d){const m=d[0],x=d[2];if(u.x<m.x&&l.x<m.x||u.x>x.x&&l.x>x.x||u.y<m.y&&l.y<m.y||u.y>x.y&&l.y>x.y)return!1;const C=se(u,l,d[0]);return C!==se(u,l,d[1])||C!==se(u,l,d[2])||C!==se(u,l,d[3])}function Ny(u,l,d){const m=l.paint.get(u).value;return m.kind==="constant"?m.value:d.programConfigurations.get(l.id).getMaxValue(u)}function b_(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function x_(u,l,d,m,x){if(!l[0]&&!l[1])return u;const C=b.convert(l)._mult(x);d==="viewport"&&C._rotate(-m);const P=[];for(let j=0;j<u.length;j++)P.push(u[j].sub(C));return P}let gL,yL;$t("CircleBucket",vT,{omit:["layers"]});var WZ={get paint(){return yL=yL||new li({"circle-radius":new un(Be.paint_circle["circle-radius"]),"circle-color":new un(Be.paint_circle["circle-color"]),"circle-blur":new un(Be.paint_circle["circle-blur"]),"circle-opacity":new un(Be.paint_circle["circle-opacity"]),"circle-translate":new Ht(Be.paint_circle["circle-translate"]),"circle-translate-anchor":new Ht(Be.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Ht(Be.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Ht(Be.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new un(Be.paint_circle["circle-stroke-width"]),"circle-stroke-color":new un(Be.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new un(Be.paint_circle["circle-stroke-opacity"])})},get layout(){return gL=gL||new li({"circle-sort-key":new un(Be.layout_circle["circle-sort-key"])})}},Eo=1e-6,cp=typeof Float32Array<"u"?Float32Array:Array;function _T(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}function vL(u,l,d){var m=l[0],x=l[1],C=l[2],P=l[3],j=l[4],B=l[5],W=l[6],G=l[7],X=l[8],te=l[9],oe=l[10],ae=l[11],he=l[12],we=l[13],Te=l[14],je=l[15],Oe=d[0],ze=d[1],Ve=d[2],nt=d[3];return u[0]=Oe*m+ze*j+Ve*X+nt*he,u[1]=Oe*x+ze*B+Ve*te+nt*we,u[2]=Oe*C+ze*W+Ve*oe+nt*Te,u[3]=Oe*P+ze*G+Ve*ae+nt*je,u[4]=(Oe=d[4])*m+(ze=d[5])*j+(Ve=d[6])*X+(nt=d[7])*he,u[5]=Oe*x+ze*B+Ve*te+nt*we,u[6]=Oe*C+ze*W+Ve*oe+nt*Te,u[7]=Oe*P+ze*G+Ve*ae+nt*je,u[8]=(Oe=d[8])*m+(ze=d[9])*j+(Ve=d[10])*X+(nt=d[11])*he,u[9]=Oe*x+ze*B+Ve*te+nt*we,u[10]=Oe*C+ze*W+Ve*oe+nt*Te,u[11]=Oe*P+ze*G+Ve*ae+nt*je,u[12]=(Oe=d[12])*m+(ze=d[13])*j+(Ve=d[14])*X+(nt=d[15])*he,u[13]=Oe*x+ze*B+Ve*te+nt*we,u[14]=Oe*C+ze*W+Ve*oe+nt*Te,u[15]=Oe*P+ze*G+Ve*ae+nt*je,u}Math.hypot||(Math.hypot=function(){for(var u=0,l=arguments.length;l--;)u+=arguments[l]*arguments[l];return Math.sqrt(u)});var zy,qZ=vL;function __(u,l,d){var m=l[0],x=l[1],C=l[2],P=l[3];return u[0]=d[0]*m+d[4]*x+d[8]*C+d[12]*P,u[1]=d[1]*m+d[5]*x+d[9]*C+d[13]*P,u[2]=d[2]*m+d[6]*x+d[10]*C+d[14]*P,u[3]=d[3]*m+d[7]*x+d[11]*C+d[15]*P,u}zy=new cp(4),cp!=Float32Array&&(zy[0]=0,zy[1]=0,zy[2]=0,zy[3]=0);class HZ extends wa{constructor(l){super(l,WZ)}createBucket(l){return new vT(l)}queryRadius(l){const d=l;return Ny("circle-radius",this,d)+Ny("circle-stroke-width",this,d)+b_(this.paint.get("circle-translate"))}queryIntersectsFeature(l,d,m,x,C,P,j,B){const W=x_(l,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),P.angle,j),G=this.paint.get("circle-radius").evaluate(d,m)+this.paint.get("circle-stroke-width").evaluate(d,m),X=this.paint.get("circle-pitch-alignment")==="map",te=X?W:function(ae,he){return ae.map(we=>bL(we,he))}(W,B),oe=X?G*j:G;for(const ae of x)for(const he of ae){const we=X?he:bL(he,B);let Te=oe;const je=__([],[he.x,he.y,0,1],B);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Te*=je[3]/P.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Te*=P.cameraToCenterDistance/je[3]),BZ(te,we,Te))return!0}return!1}}function bL(u,l){const d=__([],[u.x,u.y,0,1],l);return new b(d[0]/d[3],d[1]/d[3])}class xL extends vT{}let _L;$t("HeatmapBucket",xL,{omit:["layers"]});var GZ={get paint(){return _L=_L||new li({"heatmap-radius":new un(Be.paint_heatmap["heatmap-radius"]),"heatmap-weight":new un(Be.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Ht(Be.paint_heatmap["heatmap-intensity"]),"heatmap-color":new My(Be.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Ht(Be.paint_heatmap["heatmap-opacity"])})}};function wT(u,{width:l,height:d},m,x){if(x){if(x instanceof Uint8ClampedArray)x=new Uint8Array(x.buffer);else if(x.length!==l*d*m)throw new RangeError(`mismatched image size. expected: ${x.length} but got: ${l*d*m}`)}else x=new Uint8Array(l*d*m);return u.width=l,u.height=d,u.data=x,u}function wL(u,{width:l,height:d},m){if(l===u.width&&d===u.height)return;const x=wT({},{width:l,height:d},m);ST(u,x,{x:0,y:0},{x:0,y:0},{width:Math.min(u.width,l),height:Math.min(u.height,d)},m),u.width=l,u.height=d,u.data=x.data}function ST(u,l,d,m,x,C){if(x.width===0||x.height===0)return l;if(x.width>u.width||x.height>u.height||d.x>u.width-x.width||d.y>u.height-x.height)throw new RangeError("out of range source coordinates for image copy");if(x.width>l.width||x.height>l.height||m.x>l.width-x.width||m.y>l.height-x.height)throw new RangeError("out of range destination coordinates for image copy");const P=u.data,j=l.data;if(P===j)throw new Error("srcData equals dstData, so image is already copied");for(let B=0;B<x.height;B++){const W=((d.y+B)*u.width+d.x)*C,G=((m.y+B)*l.width+m.x)*C;for(let X=0;X<x.width*C;X++)j[G+X]=P[W+X]}return l}class By{constructor(l,d){wT(this,l,1,d)}resize(l){wL(this,l,1)}clone(){return new By({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,m,x,C){ST(l,d,m,x,C,1)}}class Va{constructor(l,d){wT(this,l,4,d)}resize(l){wL(this,l,4)}replace(l,d){d?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new Va({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,m,x,C){ST(l,d,m,x,C,4)}}function SL(u){const l={},d=u.resolution||256,m=u.clips?u.clips.length:1,x=u.image||new Va({width:d,height:m});if(Math.log(d)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${d}`);const C=(P,j,B)=>{l[u.evaluationKey]=B;const W=u.expression.evaluate(l);x.data[P+j+0]=Math.floor(255*W.r/W.a),x.data[P+j+1]=Math.floor(255*W.g/W.a),x.data[P+j+2]=Math.floor(255*W.b/W.a),x.data[P+j+3]=Math.floor(255*W.a)};if(u.clips)for(let P=0,j=0;P<m;++P,j+=4*d)for(let B=0,W=0;B<d;B++,W+=4){const G=B/(d-1),{start:X,end:te}=u.clips[P];C(j,W,X*(1-G)+te*G)}else for(let P=0,j=0;P<d;P++,j+=4)C(0,j,P/(d-1));return x}$t("AlphaImage",By),$t("RGBAImage",Va);class YZ extends wa{createBucket(l){return new xL(l)}constructor(l){super(l,GZ),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=SL({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let CL;var KZ={get paint(){return CL=CL||new li({"hillshade-illumination-direction":new Ht(Be.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Ht(Be.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Ht(Be.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Ht(Be.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Ht(Be.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Ht(Be.paint_hillshade["hillshade-accent-color"])})}};class ZZ extends wa{constructor(l){super(l,KZ)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const XZ=Lr([{name:"a_pos",components:2,type:"Int16"}],4),{members:JZ}=XZ;var CT={exports:{}};function w_(u,l,d){d=d||2;var m,x,C,P,j,B,W,G=l&&l.length,X=G?l[0]*d:u.length,te=kL(u,0,X,d,!0),oe=[];if(!te||te.next===te.prev)return oe;if(G&&(te=function(he,we,Te,je){var Oe,ze,Ve,nt=[];for(Oe=0,ze=we.length;Oe<ze;Oe++)(Ve=kL(he,we[Oe]*je,Oe<ze-1?we[Oe+1]*je:he.length,je,!1))===Ve.next&&(Ve.steiner=!0),nt.push(aX(Ve));for(nt.sort(rX),Oe=0;Oe<nt.length;Oe++)Te=iX(nt[Oe],Te);return Te}(u,l,te,d)),u.length>80*d){m=C=u[0],x=P=u[1];for(var ae=d;ae<X;ae+=d)(j=u[ae])<m&&(m=j),(B=u[ae+1])<x&&(x=B),j>C&&(C=j),B>P&&(P=B);W=(W=Math.max(C-m,P-x))!==0?32767/W:0}return Fy(te,oe,d,m,x,W,0),oe}function kL(u,l,d,m,x){var C,P;if(x===ET(u,l,d,m)>0)for(C=l;C<d;C+=m)P=PL(C,u[C],u[C+1],P);else for(C=d-m;C>=l;C-=m)P=PL(C,u[C],u[C+1],P);return P&&S_(P,P.next)&&(Vy(P),P=P.next),P}function Sf(u,l){if(!u)return u;l||(l=u);var d,m=u;do if(d=!1,m.steiner||!S_(m,m.next)&&ui(m.prev,m,m.next)!==0)m=m.next;else{if(Vy(m),(m=l=m.prev)===m.next)break;d=!0}while(d||m!==l);return l}function Fy(u,l,d,m,x,C,P){if(u){!P&&C&&function(G,X,te,oe){var ae=G;do ae.z===0&&(ae.z=kT(ae.x,ae.y,X,te,oe)),ae.prevZ=ae.prev,ae.nextZ=ae.next,ae=ae.next;while(ae!==G);ae.prevZ.nextZ=null,ae.prevZ=null,function(he){var we,Te,je,Oe,ze,Ve,nt,Ot,Ft=1;do{for(Te=he,he=null,ze=null,Ve=0;Te;){for(Ve++,je=Te,nt=0,we=0;we<Ft&&(nt++,je=je.nextZ);we++);for(Ot=Ft;nt>0||Ot>0&&je;)nt!==0&&(Ot===0||!je||Te.z<=je.z)?(Oe=Te,Te=Te.nextZ,nt--):(Oe=je,je=je.nextZ,Ot--),ze?ze.nextZ=Oe:he=Oe,Oe.prevZ=ze,ze=Oe;Te=je}ze.nextZ=null,Ft*=2}while(Ve>1)}(ae)}(u,m,x,C);for(var j,B,W=u;u.prev!==u.next;)if(j=u.prev,B=u.next,C?eX(u,m,x,C):QZ(u))l.push(j.i/d|0),l.push(u.i/d|0),l.push(B.i/d|0),Vy(u),u=B.next,W=B.next;else if((u=B)===W){P?P===1?Fy(u=tX(Sf(u),l,d),l,d,m,x,C,2):P===2&&nX(u,l,d,m,x,C):Fy(Sf(u),l,d,m,x,C,1);break}}}function QZ(u){var l=u.prev,d=u,m=u.next;if(ui(l,d,m)>=0)return!1;for(var x=l.x,C=d.x,P=m.x,j=l.y,B=d.y,W=m.y,G=x<C?x<P?x:P:C<P?C:P,X=j<B?j<W?j:W:B<W?B:W,te=x>C?x>P?x:P:C>P?C:P,oe=j>B?j>W?j:W:B>W?B:W,ae=m.next;ae!==l;){if(ae.x>=G&&ae.x<=te&&ae.y>=X&&ae.y<=oe&&up(x,j,C,B,P,W,ae.x,ae.y)&&ui(ae.prev,ae,ae.next)>=0)return!1;ae=ae.next}return!0}function eX(u,l,d,m){var x=u.prev,C=u,P=u.next;if(ui(x,C,P)>=0)return!1;for(var j=x.x,B=C.x,W=P.x,G=x.y,X=C.y,te=P.y,oe=j<B?j<W?j:W:B<W?B:W,ae=G<X?G<te?G:te:X<te?X:te,he=j>B?j>W?j:W:B>W?B:W,we=G>X?G>te?G:te:X>te?X:te,Te=kT(oe,ae,l,d,m),je=kT(he,we,l,d,m),Oe=u.prevZ,ze=u.nextZ;Oe&&Oe.z>=Te&&ze&&ze.z<=je;){if(Oe.x>=oe&&Oe.x<=he&&Oe.y>=ae&&Oe.y<=we&&Oe!==x&&Oe!==P&&up(j,G,B,X,W,te,Oe.x,Oe.y)&&ui(Oe.prev,Oe,Oe.next)>=0||(Oe=Oe.prevZ,ze.x>=oe&&ze.x<=he&&ze.y>=ae&&ze.y<=we&&ze!==x&&ze!==P&&up(j,G,B,X,W,te,ze.x,ze.y)&&ui(ze.prev,ze,ze.next)>=0))return!1;ze=ze.nextZ}for(;Oe&&Oe.z>=Te;){if(Oe.x>=oe&&Oe.x<=he&&Oe.y>=ae&&Oe.y<=we&&Oe!==x&&Oe!==P&&up(j,G,B,X,W,te,Oe.x,Oe.y)&&ui(Oe.prev,Oe,Oe.next)>=0)return!1;Oe=Oe.prevZ}for(;ze&&ze.z<=je;){if(ze.x>=oe&&ze.x<=he&&ze.y>=ae&&ze.y<=we&&ze!==x&&ze!==P&&up(j,G,B,X,W,te,ze.x,ze.y)&&ui(ze.prev,ze,ze.next)>=0)return!1;ze=ze.nextZ}return!0}function tX(u,l,d){var m=u;do{var x=m.prev,C=m.next.next;!S_(x,C)&&TL(x,m,m.next,C)&&Uy(x,C)&&Uy(C,x)&&(l.push(x.i/d|0),l.push(m.i/d|0),l.push(C.i/d|0),Vy(m),Vy(m.next),m=u=C),m=m.next}while(m!==u);return Sf(m)}function nX(u,l,d,m,x,C){var P=u;do{for(var j=P.next.next;j!==P.prev;){if(P.i!==j.i&&sX(P,j)){var B=EL(P,j);return P=Sf(P,P.next),B=Sf(B,B.next),Fy(P,l,d,m,x,C,0),void Fy(B,l,d,m,x,C,0)}j=j.next}P=P.next}while(P!==u)}function rX(u,l){return u.x-l.x}function iX(u,l){var d=function(x,C){var P,j=C,B=x.x,W=x.y,G=-1/0;do{if(W<=j.y&&W>=j.next.y&&j.next.y!==j.y){var X=j.x+(W-j.y)*(j.next.x-j.x)/(j.next.y-j.y);if(X<=B&&X>G&&(G=X,P=j.x<j.next.x?j:j.next,X===B))return P}j=j.next}while(j!==C);if(!P)return null;var te,oe=P,ae=P.x,he=P.y,we=1/0;j=P;do B>=j.x&&j.x>=ae&&B!==j.x&&up(W<he?B:G,W,ae,he,W<he?G:B,W,j.x,j.y)&&(te=Math.abs(W-j.y)/(B-j.x),Uy(j,x)&&(te<we||te===we&&(j.x>P.x||j.x===P.x&&oX(P,j)))&&(P=j,we=te)),j=j.next;while(j!==oe);return P}(u,l);if(!d)return l;var m=EL(d,u);return Sf(m,m.next),Sf(d,d.next)}function oX(u,l){return ui(u.prev,u,l.prev)<0&&ui(l.next,u,u.next)<0}function kT(u,l,d,m,x){return(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-d)*x|0)|u<<8))|u<<4))|u<<2))|u<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-m)*x|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function aX(u){var l=u,d=u;do(l.x<d.x||l.x===d.x&&l.y<d.y)&&(d=l),l=l.next;while(l!==u);return d}function up(u,l,d,m,x,C,P,j){return(x-P)*(l-j)>=(u-P)*(C-j)&&(u-P)*(m-j)>=(d-P)*(l-j)&&(d-P)*(C-j)>=(x-P)*(m-j)}function sX(u,l){return u.next.i!==l.i&&u.prev.i!==l.i&&!function(d,m){var x=d;do{if(x.i!==d.i&&x.next.i!==d.i&&x.i!==m.i&&x.next.i!==m.i&&TL(x,x.next,d,m))return!0;x=x.next}while(x!==d);return!1}(u,l)&&(Uy(u,l)&&Uy(l,u)&&function(d,m){var x=d,C=!1,P=(d.x+m.x)/2,j=(d.y+m.y)/2;do x.y>j!=x.next.y>j&&x.next.y!==x.y&&P<(x.next.x-x.x)*(j-x.y)/(x.next.y-x.y)+x.x&&(C=!C),x=x.next;while(x!==d);return C}(u,l)&&(ui(u.prev,u,l.prev)||ui(u,l.prev,l))||S_(u,l)&&ui(u.prev,u,u.next)>0&&ui(l.prev,l,l.next)>0)}function ui(u,l,d){return(l.y-u.y)*(d.x-l.x)-(l.x-u.x)*(d.y-l.y)}function S_(u,l){return u.x===l.x&&u.y===l.y}function TL(u,l,d,m){var x=k_(ui(u,l,d)),C=k_(ui(u,l,m)),P=k_(ui(d,m,u)),j=k_(ui(d,m,l));return x!==C&&P!==j||!(x!==0||!C_(u,d,l))||!(C!==0||!C_(u,m,l))||!(P!==0||!C_(d,u,m))||!(j!==0||!C_(d,l,m))}function C_(u,l,d){return l.x<=Math.max(u.x,d.x)&&l.x>=Math.min(u.x,d.x)&&l.y<=Math.max(u.y,d.y)&&l.y>=Math.min(u.y,d.y)}function k_(u){return u>0?1:u<0?-1:0}function Uy(u,l){return ui(u.prev,u,u.next)<0?ui(u,l,u.next)>=0&&ui(u,u.prev,l)>=0:ui(u,l,u.prev)<0||ui(u,u.next,l)<0}function EL(u,l){var d=new TT(u.i,u.x,u.y),m=new TT(l.i,l.x,l.y),x=u.next,C=l.prev;return u.next=l,l.prev=u,d.next=x,x.prev=d,m.next=d,d.prev=m,C.next=m,m.prev=C,m}function PL(u,l,d,m){var x=new TT(u,l,d);return m?(x.next=m.next,x.prev=m,m.next.prev=x,m.next=x):(x.prev=x,x.next=x),x}function Vy(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function TT(u,l,d){this.i=u,this.x=l,this.y=d,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ET(u,l,d,m){for(var x=0,C=l,P=d-m;C<d;C+=m)x+=(u[P]-u[C])*(u[C+1]+u[P+1]),P=C;return x}CT.exports=w_,CT.exports.default=w_,w_.deviation=function(u,l,d,m){var x=l&&l.length,C=Math.abs(ET(u,0,x?l[0]*d:u.length,d));if(x)for(var P=0,j=l.length;P<j;P++)C-=Math.abs(ET(u,l[P]*d,P<j-1?l[P+1]*d:u.length,d));var B=0;for(P=0;P<m.length;P+=3){var W=m[P]*d,G=m[P+1]*d,X=m[P+2]*d;B+=Math.abs((u[W]-u[X])*(u[G+1]-u[W+1])-(u[W]-u[G])*(u[X+1]-u[W+1]))}return C===0&&B===0?0:Math.abs((B-C)/C)},w_.flatten=function(u){for(var l=u[0][0].length,d={vertices:[],holes:[],dimensions:l},m=0,x=0;x<u.length;x++){for(var C=0;C<u[x].length;C++)for(var P=0;P<l;P++)d.vertices.push(u[x][C][P]);x>0&&d.holes.push(m+=u[x-1].length)}return d};var OL=h(CT.exports);function lX(u,l,d,m,x){ML(u,l,d||0,m||u.length-1,x||cX)}function ML(u,l,d,m,x){for(;m>d;){if(m-d>600){var C=m-d+1,P=l-d+1,j=Math.log(C),B=.5*Math.exp(2*j/3),W=.5*Math.sqrt(j*B*(C-B)/C)*(P-C/2<0?-1:1);ML(u,l,Math.max(d,Math.floor(l-P*B/C+W)),Math.min(m,Math.floor(l+(C-P)*B/C+W)),x)}var G=u[l],X=d,te=m;for(Wy(u,d,l),x(u[m],G)>0&&Wy(u,d,m);X<te;){for(Wy(u,X,te),X++,te--;x(u[X],G)<0;)X++;for(;x(u[te],G)>0;)te--}x(u[d],G)===0?Wy(u,d,te):Wy(u,++te,m),te<=l&&(d=te+1),l<=te&&(m=te-1)}}function Wy(u,l,d){var m=u[l];u[l]=u[d],u[d]=m}function cX(u,l){return u<l?-1:u>l?1:0}function PT(u,l){const d=u.length;if(d<=1)return[u];const m=[];let x,C;for(let P=0;P<d;P++){const j=pe(u[P]);j!==0&&(u[P].area=Math.abs(j),C===void 0&&(C=j<0),C===j<0?(x&&m.push(x),x=[u[P]]):x.push(u[P]))}if(x&&m.push(x),l>1)for(let P=0;P<m.length;P++)m[P].length<=l||(lX(m[P],l,1,m[P].length-1,uX),m[P]=m[P].slice(0,l));return m}function uX(u,l){return l.area-u.area}function OT(u,l,d){const m=d.patternDependencies;let x=!1;for(const C of l){const P=C.paint.get(`${u}-pattern`);P.isConstant()||(x=!0);const j=P.constantOr(null);j&&(x=!0,m[j.to]=!0,m[j.from]=!0)}return x}function MT(u,l,d,m,x){const C=x.patternDependencies;for(const P of l){const j=P.paint.get(`${u}-pattern`).value;if(j.kind!=="constant"){let B=j.evaluate({zoom:m-1},d,{},x.availableImages),W=j.evaluate({zoom:m},d,{},x.availableImages),G=j.evaluate({zoom:m+1},d,{},x.availableImages);B=B&&B.name?B.name:B,W=W&&W.name?W.name:W,G=G&&G.name?G.name:G,C[B]=!0,C[W]=!0,C[G]=!0,d.patterns[P.id]={min:B,mid:W,max:G}}}return d}class AT{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new kn,this.indexArray=new Ui,this.indexArray2=new wi,this.programConfigurations=new ll(l.layers,l.zoom),this.segments=new kr,this.segments2=new kr,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,m){this.hasPattern=OT("fill",this.layers,d);const x=this.layers[0].layout.get("fill-sort-key"),C=!x.isConstant(),P=[];for(const{feature:j,id:B,index:W,sourceLayerIndex:G}of l){const X=this.layers[0]._featureFilter.needGeometry,te=wf(j,X);if(!this.layers[0]._featureFilter.filter(new Cr(this.zoom),te,m))continue;const oe=C?x.evaluate(te,{},m,d.availableImages):void 0,ae={id:B,properties:j.properties,type:j.type,sourceLayerIndex:G,index:W,geometry:X?te.geometry:_f(j),patterns:{},sortKey:oe};P.push(ae)}C&&P.sort((j,B)=>j.sortKey-B.sortKey);for(const j of P){const{geometry:B,index:W,sourceLayerIndex:G}=j;if(this.hasPattern){const X=MT("fill",this.layers,j,this.zoom,d);this.patternFeatures.push(X)}else this.addFeature(j,B,W,m,{});d.featureIndex.insert(l[W].feature,B,W,G,this.index)}}update(l,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,m)}addFeatures(l,d,m){for(const x of this.patternFeatures)this.addFeature(x,x.geometry,x.index,d,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,JZ),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,d,m,x,C){for(const P of PT(d,500)){let j=0;for(const oe of P)j+=oe.length;const B=this.segments.prepareSegment(j,this.layoutVertexArray,this.indexArray),W=B.vertexLength,G=[],X=[];for(const oe of P){if(oe.length===0)continue;oe!==P[0]&&X.push(G.length/2);const ae=this.segments2.prepareSegment(oe.length,this.layoutVertexArray,this.indexArray2),he=ae.vertexLength;this.layoutVertexArray.emplaceBack(oe[0].x,oe[0].y),this.indexArray2.emplaceBack(he+oe.length-1,he),G.push(oe[0].x),G.push(oe[0].y);for(let we=1;we<oe.length;we++)this.layoutVertexArray.emplaceBack(oe[we].x,oe[we].y),this.indexArray2.emplaceBack(he+we-1,he+we),G.push(oe[we].x),G.push(oe[we].y);ae.vertexLength+=oe.length,ae.primitiveLength+=oe.length}const te=OL(G,X);for(let oe=0;oe<te.length;oe+=3)this.indexArray.emplaceBack(W+te[oe],W+te[oe+1],W+te[oe+2]);B.vertexLength+=j,B.primitiveLength+=te.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,C,x)}}let AL,IL;$t("FillBucket",AT,{omit:["layers","patternFeatures"]});var dX={get paint(){return IL=IL||new li({"fill-antialias":new Ht(Be.paint_fill["fill-antialias"]),"fill-opacity":new un(Be.paint_fill["fill-opacity"]),"fill-color":new un(Be.paint_fill["fill-color"]),"fill-outline-color":new un(Be.paint_fill["fill-outline-color"]),"fill-translate":new Ht(Be.paint_fill["fill-translate"]),"fill-translate-anchor":new Ht(Be.paint_fill["fill-translate-anchor"]),"fill-pattern":new vf(Be.paint_fill["fill-pattern"])})},get layout(){return AL=AL||new li({"fill-sort-key":new un(Be.layout_fill["fill-sort-key"])})}};class fX extends wa{constructor(l){super(l,dX)}recalculate(l,d){super.recalculate(l,d);const m=this.paint._values["fill-outline-color"];m.value.kind==="constant"&&m.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(l){return new AT(l)}queryRadius(){return b_(this.paint.get("fill-translate"))}queryIntersectsFeature(l,d,m,x,C,P,j){return hL(x_(l,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),P.angle,j),x)}isTileClipped(){return!0}}const hX=Lr([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),pX=Lr([{name:"a_centroid",components:2,type:"Int16"}],4),{members:mX}=hX;var Hu={},gX=g,$L=dp;function dp(u,l,d,m,x){this.properties={},this.extent=d,this.type=0,this._pbf=u,this._geometry=-1,this._keys=m,this._values=x,u.readFields(yX,this,l)}function yX(u,l,d){u==1?l.id=d.readVarint():u==2?function(m,x){for(var C=m.readVarint()+m.pos;m.pos<C;){var P=x._keys[m.readVarint()],j=x._values[m.readVarint()];x.properties[P]=j}}(d,l):u==3?l.type=d.readVarint():u==4&&(l._geometry=d.pos)}function vX(u){for(var l,d,m=0,x=0,C=u.length,P=C-1;x<C;P=x++)m+=((d=u[P]).x-(l=u[x]).x)*(l.y+d.y);return m}dp.types=["Unknown","Point","LineString","Polygon"],dp.prototype.loadGeometry=function(){var u=this._pbf;u.pos=this._geometry;for(var l,d=u.readVarint()+u.pos,m=1,x=0,C=0,P=0,j=[];u.pos<d;){if(x<=0){var B=u.readVarint();m=7&B,x=B>>3}if(x--,m===1||m===2)C+=u.readSVarint(),P+=u.readSVarint(),m===1&&(l&&j.push(l),l=[]),l.push(new gX(C,P));else{if(m!==7)throw new Error("unknown command "+m);l&&l.push(l[0].clone())}}return l&&j.push(l),j},dp.prototype.bbox=function(){var u=this._pbf;u.pos=this._geometry;for(var l=u.readVarint()+u.pos,d=1,m=0,x=0,C=0,P=1/0,j=-1/0,B=1/0,W=-1/0;u.pos<l;){if(m<=0){var G=u.readVarint();d=7&G,m=G>>3}if(m--,d===1||d===2)(x+=u.readSVarint())<P&&(P=x),x>j&&(j=x),(C+=u.readSVarint())<B&&(B=C),C>W&&(W=C);else if(d!==7)throw new Error("unknown command "+d)}return[P,B,j,W]},dp.prototype.toGeoJSON=function(u,l,d){var m,x,C=this.extent*Math.pow(2,d),P=this.extent*u,j=this.extent*l,B=this.loadGeometry(),W=dp.types[this.type];function G(oe){for(var ae=0;ae<oe.length;ae++){var he=oe[ae];oe[ae]=[360*(he.x+P)/C-180,360/Math.PI*Math.atan(Math.exp((180-360*(he.y+j)/C)*Math.PI/180))-90]}}switch(this.type){case 1:var X=[];for(m=0;m<B.length;m++)X[m]=B[m][0];G(B=X);break;case 2:for(m=0;m<B.length;m++)G(B[m]);break;case 3:for(B=function(oe){var ae=oe.length;if(ae<=1)return[oe];for(var he,we,Te=[],je=0;je<ae;je++){var Oe=vX(oe[je]);Oe!==0&&(we===void 0&&(we=Oe<0),we===Oe<0?(he&&Te.push(he),he=[oe[je]]):he.push(oe[je]))}return he&&Te.push(he),Te}(B),m=0;m<B.length;m++)for(x=0;x<B[m].length;x++)G(B[m][x])}B.length===1?B=B[0]:W="Multi"+W;var te={type:"Feature",geometry:{type:W,coordinates:B},properties:this.properties};return"id"in this&&(te.id=this.id),te};var bX=$L,RL=DL;function DL(u,l){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=u,this._keys=[],this._values=[],this._features=[],u.readFields(xX,this,l),this.length=this._features.length}function xX(u,l,d){u===15?l.version=d.readVarint():u===1?l.name=d.readString():u===5?l.extent=d.readVarint():u===2?l._features.push(d.pos):u===3?l._keys.push(d.readString()):u===4&&l._values.push(function(m){for(var x=null,C=m.readVarint()+m.pos;m.pos<C;){var P=m.readVarint()>>3;x=P===1?m.readString():P===2?m.readFloat():P===3?m.readDouble():P===4?m.readVarint64():P===5?m.readVarint():P===6?m.readSVarint():P===7?m.readBoolean():null}return x}(d))}DL.prototype.feature=function(u){if(u<0||u>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[u];var l=this._pbf.readVarint()+this._pbf.pos;return new bX(this._pbf,l,this.extent,this._keys,this._values)};var _X=RL;function wX(u,l,d){if(u===3){var m=new _X(d,d.readVarint()+d.pos);m.length&&(l[m.name]=m)}}Hu.VectorTile=function(u,l){this.layers=u.readFields(wX,{},l)},Hu.VectorTileFeature=$L,Hu.VectorTileLayer=RL;const SX=Hu.VectorTileFeature.types,IT=Math.pow(2,13);function qy(u,l,d,m,x,C,P,j){u.emplaceBack(l,d,2*Math.floor(m*IT)+P,x*IT*2,C*IT*2,Math.round(j))}class $T{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new St,this.centroidVertexArray=new mt,this.indexArray=new Ui,this.programConfigurations=new ll(l.layers,l.zoom),this.segments=new kr,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,m){this.features=[],this.hasPattern=OT("fill-extrusion",this.layers,d);for(const{feature:x,id:C,index:P,sourceLayerIndex:j}of l){const B=this.layers[0]._featureFilter.needGeometry,W=wf(x,B);if(!this.layers[0]._featureFilter.filter(new Cr(this.zoom),W,m))continue;const G={id:C,sourceLayerIndex:j,index:P,geometry:B?W.geometry:_f(x),properties:x.properties,type:x.type,patterns:{}};this.hasPattern?this.features.push(MT("fill-extrusion",this.layers,G,this.zoom,d)):this.addFeature(G,G.geometry,P,m,{}),d.featureIndex.insert(x,G.geometry,P,j,this.index,!0)}}addFeatures(l,d,m){for(const x of this.features){const{geometry:C}=x;this.addFeature(x,C,x.index,d,m)}}update(l,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,m)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,mX),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,pX.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,d,m,x,C){const P={x:0,y:0,vertexCount:0};for(const j of PT(d,500)){let B=0;for(const ae of j)B+=ae.length;let W=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const ae of j){if(ae.length===0||kX(ae))continue;let he=0;for(let we=0;we<ae.length;we++){const Te=ae[we];if(we>=1){const je=ae[we-1];if(!CX(Te,je)){W.vertexLength+4>kr.MAX_VERTEX_ARRAY_LENGTH&&(W=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const Oe=Te.sub(je)._perp()._unit(),ze=je.dist(Te);he+ze>32768&&(he=0),qy(this.layoutVertexArray,Te.x,Te.y,Oe.x,Oe.y,0,0,he),qy(this.layoutVertexArray,Te.x,Te.y,Oe.x,Oe.y,0,1,he),P.x+=2*Te.x,P.y+=2*Te.y,P.vertexCount+=2,he+=ze,qy(this.layoutVertexArray,je.x,je.y,Oe.x,Oe.y,0,0,he),qy(this.layoutVertexArray,je.x,je.y,Oe.x,Oe.y,0,1,he),P.x+=2*je.x,P.y+=2*je.y,P.vertexCount+=2;const Ve=W.vertexLength;this.indexArray.emplaceBack(Ve,Ve+2,Ve+1),this.indexArray.emplaceBack(Ve+1,Ve+2,Ve+3),W.vertexLength+=4,W.primitiveLength+=2}}}}if(W.vertexLength+B>kr.MAX_VERTEX_ARRAY_LENGTH&&(W=this.segments.prepareSegment(B,this.layoutVertexArray,this.indexArray)),SX[l.type]!=="Polygon")continue;const G=[],X=[],te=W.vertexLength;for(const ae of j)if(ae.length!==0){ae!==j[0]&&X.push(G.length/2);for(let he=0;he<ae.length;he++){const we=ae[he];qy(this.layoutVertexArray,we.x,we.y,0,0,1,1,0),P.x+=we.x,P.y+=we.y,P.vertexCount+=1,G.push(we.x),G.push(we.y)}}const oe=OL(G,X);for(let ae=0;ae<oe.length;ae+=3)this.indexArray.emplaceBack(te+oe[ae],te+oe[ae+2],te+oe[ae+1]);W.primitiveLength+=oe.length/3,W.vertexLength+=B}for(let j=0;j<P.vertexCount;j++)this.centroidVertexArray.emplaceBack(Math.floor(P.x/P.vertexCount),Math.floor(P.y/P.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,C,x)}}function CX(u,l){return u.x===l.x&&(u.x<0||u.x>gi)||u.y===l.y&&(u.y<0||u.y>gi)}function kX(u){return u.every(l=>l.x<0)||u.every(l=>l.x>gi)||u.every(l=>l.y<0)||u.every(l=>l.y>gi)}let jL;$t("FillExtrusionBucket",$T,{omit:["layers","features"]});var TX={get paint(){return jL=jL||new li({"fill-extrusion-opacity":new Ht(Be["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new un(Be["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Ht(Be["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Ht(Be["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new vf(Be["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new un(Be["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new un(Be["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Ht(Be["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class EX extends wa{constructor(l){super(l,TX)}createBucket(l){return new $T(l)}queryRadius(){return b_(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(l,d,m,x,C,P,j,B){const W=x_(l,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),P.angle,j),G=this.paint.get("fill-extrusion-height").evaluate(d,m),X=this.paint.get("fill-extrusion-base").evaluate(d,m),te=function(ae,he,we,Te){const je=[];for(const Oe of ae){const ze=[Oe.x,Oe.y,0,1];__(ze,ze,he),je.push(new b(ze[0]/ze[3],ze[1]/ze[3]))}return je}(W,B),oe=function(ae,he,we,Te){const je=[],Oe=[],ze=Te[8]*he,Ve=Te[9]*he,nt=Te[10]*he,Ot=Te[11]*he,Ft=Te[8]*we,Et=Te[9]*we,Ct=Te[10]*we,yt=Te[11]*we;for(const Dt of ae){const _t=[],ft=[];for(const en of Dt){const Wt=en.x,_n=en.y,Tr=Te[0]*Wt+Te[4]*_n+Te[12],Ar=Te[1]*Wt+Te[5]*_n+Te[13],ki=Te[2]*Wt+Te[6]*_n+Te[14],Ca=Te[3]*Wt+Te[7]*_n+Te[15],Po=ki+nt,yi=Ca+Ot,Wi=Tr+Ft,to=Ar+Et,Oo=ki+Ct,Mo=Ca+yt,Ti=new b((Tr+ze)/yi,(Ar+Ve)/yi);Ti.z=Po/yi,_t.push(Ti);const Ei=new b(Wi/Mo,to/Mo);Ei.z=Oo/Mo,ft.push(Ei)}je.push(_t),Oe.push(ft)}return[je,Oe]}(x,X,G,B);return function(ae,he,we){let Te=1/0;hL(we,he)&&(Te=LL(we,he[0]));for(let je=0;je<he.length;je++){const Oe=he[je],ze=ae[je];for(let Ve=0;Ve<Oe.length-1;Ve++){const nt=Oe[Ve],Ot=[nt,Oe[Ve+1],ze[Ve+1],ze[Ve],nt];fL(we,Ot)&&(Te=Math.min(Te,LL(we,Ot)))}}return Te!==1/0&&Te}(oe[0],oe[1],te)}}function Hy(u,l){return u.x*l.x+u.y*l.y}function LL(u,l){if(u.length===1){let d=0;const m=l[d++];let x;for(;!x||m.equals(x);)if(x=l[d++],!x)return 1/0;for(;d<l.length;d++){const C=l[d],P=u[0],j=x.sub(m),B=C.sub(m),W=P.sub(m),G=Hy(j,j),X=Hy(j,B),te=Hy(B,B),oe=Hy(W,j),ae=Hy(W,B),he=G*te-X*X,we=(te*oe-X*ae)/he,Te=(G*ae-X*oe)/he,je=m.z*(1-we-Te)+x.z*we+C.z*Te;if(isFinite(je))return je}return 1/0}{let d=1/0;for(const m of l)d=Math.min(d,m.z);return d}}const PX=Lr([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:OX}=PX,MX=Lr([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:AX}=MX,IX=Hu.VectorTileFeature.types,$X=Math.cos(Math.PI/180*37.5),NL=Math.pow(2,14)/.5;class RT{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(d=>{this.gradients[d.id]={}}),this.layoutVertexArray=new dn,this.layoutVertexArray2=new Ut,this.indexArray=new Ui,this.programConfigurations=new ll(l.layers,l.zoom),this.segments=new kr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,m){this.hasPattern=OT("line",this.layers,d);const x=this.layers[0].layout.get("line-sort-key"),C=!x.isConstant(),P=[];for(const{feature:j,id:B,index:W,sourceLayerIndex:G}of l){const X=this.layers[0]._featureFilter.needGeometry,te=wf(j,X);if(!this.layers[0]._featureFilter.filter(new Cr(this.zoom),te,m))continue;const oe=C?x.evaluate(te,{},m):void 0,ae={id:B,properties:j.properties,type:j.type,sourceLayerIndex:G,index:W,geometry:X?te.geometry:_f(j),patterns:{},sortKey:oe};P.push(ae)}C&&P.sort((j,B)=>j.sortKey-B.sortKey);for(const j of P){const{geometry:B,index:W,sourceLayerIndex:G}=j;if(this.hasPattern){const X=MT("line",this.layers,j,this.zoom,d);this.patternFeatures.push(X)}else this.addFeature(j,B,W,m,{});d.featureIndex.insert(l[W].feature,B,W,G,this.index)}}update(l,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,m)}addFeatures(l,d,m){for(const x of this.patternFeatures)this.addFeature(x,x.geometry,x.index,d,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,AX)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,OX),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,d,m,x,C){const P=this.layers[0].layout,j=P.get("line-join").evaluate(l,{}),B=P.get("line-cap"),W=P.get("line-miter-limit"),G=P.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(const X of d)this.addLine(X,l,j,B,W,G);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,C,x)}addLine(l,d,m,x,C,P){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Te=0;Te<l.length-1;Te++)this.totalDistance+=l[Te].dist(l[Te+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const j=IX[d.type]==="Polygon";let B=l.length;for(;B>=2&&l[B-1].equals(l[B-2]);)B--;let W=0;for(;W<B-1&&l[W].equals(l[W+1]);)W++;if(B<(j?3:2))return;m==="bevel"&&(C=1.05);const G=this.overscaling<=16?15*gi/(512*this.overscaling):0,X=this.segments.prepareSegment(10*B,this.layoutVertexArray,this.indexArray);let te,oe,ae,he,we;this.e1=this.e2=-1,j&&(te=l[B-2],we=l[W].sub(te)._unit()._perp());for(let Te=W;Te<B;Te++){if(ae=Te===B-1?j?l[W+1]:void 0:l[Te+1],ae&&l[Te].equals(ae))continue;we&&(he=we),te&&(oe=te),te=l[Te],we=ae?ae.sub(te)._unit()._perp():he,he=he||we;let je=he.add(we);je.x===0&&je.y===0||je._unit();const Oe=he.x*we.x+he.y*we.y,ze=je.x*we.x+je.y*we.y,Ve=ze!==0?1/ze:1/0,nt=2*Math.sqrt(2-2*ze),Ot=ze<$X&&oe&&ae,Ft=he.x*we.y-he.y*we.x>0;if(Ot&&Te>W){const yt=te.dist(oe);if(yt>2*G){const Dt=te.sub(te.sub(oe)._mult(G/yt)._round());this.updateDistance(oe,Dt),this.addCurrentVertex(Dt,he,0,0,X),oe=Dt}}const Et=oe&&ae;let Ct=Et?m:j?"butt":x;if(Et&&Ct==="round"&&(Ve<P?Ct="miter":Ve<=2&&(Ct="fakeround")),Ct==="miter"&&Ve>C&&(Ct="bevel"),Ct==="bevel"&&(Ve>2&&(Ct="flipbevel"),Ve<C&&(Ct="miter")),oe&&this.updateDistance(oe,te),Ct==="miter")je._mult(Ve),this.addCurrentVertex(te,je,0,0,X);else if(Ct==="flipbevel"){if(Ve>100)je=we.mult(-1);else{const yt=Ve*he.add(we).mag()/he.sub(we).mag();je._perp()._mult(yt*(Ft?-1:1))}this.addCurrentVertex(te,je,0,0,X),this.addCurrentVertex(te,je.mult(-1),0,0,X)}else if(Ct==="bevel"||Ct==="fakeround"){const yt=-Math.sqrt(Ve*Ve-1),Dt=Ft?yt:0,_t=Ft?0:yt;if(oe&&this.addCurrentVertex(te,he,Dt,_t,X),Ct==="fakeround"){const ft=Math.round(180*nt/Math.PI/20);for(let en=1;en<ft;en++){let Wt=en/ft;if(Wt!==.5){const Tr=Wt-.5;Wt+=Wt*Tr*(Wt-1)*((1.0904+Oe*(Oe*(3.55645-1.43519*Oe)-3.2452))*Tr*Tr+(.848013+Oe*(.215638*Oe-1.06021)))}const _n=we.sub(he)._mult(Wt)._add(he)._unit()._mult(Ft?-1:1);this.addHalfVertex(te,_n.x,_n.y,!1,Ft,0,X)}}ae&&this.addCurrentVertex(te,we,-Dt,-_t,X)}else if(Ct==="butt")this.addCurrentVertex(te,je,0,0,X);else if(Ct==="square"){const yt=oe?1:-1;this.addCurrentVertex(te,je,yt,yt,X)}else Ct==="round"&&(oe&&(this.addCurrentVertex(te,he,0,0,X),this.addCurrentVertex(te,he,1,1,X,!0)),ae&&(this.addCurrentVertex(te,we,-1,-1,X,!0),this.addCurrentVertex(te,we,0,0,X)));if(Ot&&Te<B-1){const yt=te.dist(ae);if(yt>2*G){const Dt=te.add(ae.sub(te)._mult(G/yt)._round());this.updateDistance(te,Dt),this.addCurrentVertex(Dt,we,0,0,X),te=Dt}}}}addCurrentVertex(l,d,m,x,C,P=!1){const j=d.y*x-d.x,B=-d.y-d.x*x;this.addHalfVertex(l,d.x+d.y*m,d.y-d.x*m,P,!1,m,C),this.addHalfVertex(l,j,B,P,!0,-x,C),this.distance>NL/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(l,d,m,x,C,P))}addHalfVertex({x:l,y:d},m,x,C,P,j,B){const W=.5*(this.lineClips?this.scaledDistance*(NL-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(C?1:0),(d<<1)+(P?1:0),Math.round(63*m)+128,Math.round(63*x)+128,1+(j===0?0:j<0?-1:1)|(63&W)<<2,W>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const G=B.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,G),B.primitiveLength++),P?this.e2=G:this.e1=G}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,d){this.distance+=l.dist(d),this.updateScaledDistance()}}let zL,BL;$t("LineBucket",RT,{omit:["layers","patternFeatures"]});var FL={get paint(){return BL=BL||new li({"line-opacity":new un(Be.paint_line["line-opacity"]),"line-color":new un(Be.paint_line["line-color"]),"line-translate":new Ht(Be.paint_line["line-translate"]),"line-translate-anchor":new Ht(Be.paint_line["line-translate-anchor"]),"line-width":new un(Be.paint_line["line-width"]),"line-gap-width":new un(Be.paint_line["line-gap-width"]),"line-offset":new un(Be.paint_line["line-offset"]),"line-blur":new un(Be.paint_line["line-blur"]),"line-dasharray":new Oy(Be.paint_line["line-dasharray"]),"line-pattern":new vf(Be.paint_line["line-pattern"]),"line-gradient":new My(Be.paint_line["line-gradient"])})},get layout(){return zL=zL||new li({"line-cap":new Ht(Be.layout_line["line-cap"]),"line-join":new un(Be.layout_line["line-join"]),"line-miter-limit":new Ht(Be.layout_line["line-miter-limit"]),"line-round-limit":new Ht(Be.layout_line["line-round-limit"]),"line-sort-key":new un(Be.layout_line["line-sort-key"])})}};class RX extends un{possiblyEvaluate(l,d){return d=new Cr(Math.floor(d.zoom),{now:d.now,fadeDuration:d.fadeDuration,zoomHistory:d.zoomHistory,transition:d.transition}),super.possiblyEvaluate(l,d)}evaluate(l,d,m,x){return d=q({},d,{zoom:Math.floor(d.zoom)}),super.evaluate(l,d,m,x)}}let T_;class DX extends wa{constructor(l){super(l,FL),this.gradientVersion=0,T_||(T_=new RX(FL.paint.properties["line-width"].specification),T_.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(l){if(l==="line-gradient"){const d=this.gradientExpression();this.stepInterpolant=!!function(m){return m._styleExpression!==void 0}(d)&&d._styleExpression.expression instanceof Ul,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(l,d){super.recalculate(l,d),this.paint._values["line-floorwidth"]=T_.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)}createBucket(l){return new RT(l)}queryRadius(l){const d=l,m=UL(Ny("line-width",this,d),Ny("line-gap-width",this,d)),x=Ny("line-offset",this,d);return m/2+Math.abs(x)+b_(this.paint.get("line-translate"))}queryIntersectsFeature(l,d,m,x,C,P,j){const B=x_(l,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),P.angle,j),W=j/2*UL(this.paint.get("line-width").evaluate(d,m),this.paint.get("line-gap-width").evaluate(d,m)),G=this.paint.get("line-offset").evaluate(d,m);return G&&(x=function(X,te){const oe=[];for(let ae=0;ae<X.length;ae++){const he=X[ae],we=[];for(let Te=0;Te<he.length;Te++){const je=he[Te-1],Oe=he[Te],ze=he[Te+1],Ve=Te===0?new b(0,0):Oe.sub(je)._unit()._perp(),nt=Te===he.length-1?new b(0,0):ze.sub(Oe)._unit()._perp(),Ot=Ve._add(nt)._unit(),Ft=Ot.x*nt.x+Ot.y*nt.y;Ft!==0&&Ot._mult(1/Ft),we.push(Ot._mult(te)._add(Oe))}oe.push(we)}return oe}(x,G*j)),function(X,te,oe){for(let ae=0;ae<te.length;ae++){const he=te[ae];if(X.length>=3){for(let we=0;we<he.length;we++)if(lp(X,he[we]))return!0}if(FZ(X,he,oe))return!0}return!1}(B,x,W)}isTileClipped(){return!0}}function UL(u,l){return l>0?l+2*u:u}const jX=Lr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),LX=Lr([{name:"a_projected_pos",components:3,type:"Float32"}],4);Lr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const NX=Lr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Lr([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const VL=Lr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),zX=Lr([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function BX(u,l,d){return u.sections.forEach(m=>{m.text=function(x,C,P){const j=C.layout.get("text-transform").evaluate(P,{});return j==="uppercase"?x=x.toLocaleUpperCase():j==="lowercase"&&(x=x.toLocaleLowerCase()),Qo.applyArabicShaping&&(x=Qo.applyArabicShaping(x)),x}(m.text,l,d)}),u}Lr([{name:"triangle",components:3,type:"Uint16"}]),Lr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Lr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Lr([{type:"Float32",name:"offsetX"}]),Lr([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Lr([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Gy={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var Ci=24,WL=dr,qL=function(u,l,d,m,x){var C,P,j=8*x-m-1,B=(1<<j)-1,W=B>>1,G=-7,X=d?x-1:0,te=d?-1:1,oe=u[l+X];for(X+=te,C=oe&(1<<-G)-1,oe>>=-G,G+=j;G>0;C=256*C+u[l+X],X+=te,G-=8);for(P=C&(1<<-G)-1,C>>=-G,G+=m;G>0;P=256*P+u[l+X],X+=te,G-=8);if(C===0)C=1-W;else{if(C===B)return P?NaN:1/0*(oe?-1:1);P+=Math.pow(2,m),C-=W}return(oe?-1:1)*P*Math.pow(2,C-m)},HL=function(u,l,d,m,x,C){var P,j,B,W=8*C-x-1,G=(1<<W)-1,X=G>>1,te=x===23?Math.pow(2,-24)-Math.pow(2,-77):0,oe=m?0:C-1,ae=m?1:-1,he=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(j=isNaN(l)?1:0,P=G):(P=Math.floor(Math.log(l)/Math.LN2),l*(B=Math.pow(2,-P))<1&&(P--,B*=2),(l+=P+X>=1?te/B:te*Math.pow(2,1-X))*B>=2&&(P++,B/=2),P+X>=G?(j=0,P=G):P+X>=1?(j=(l*B-1)*Math.pow(2,x),P+=X):(j=l*Math.pow(2,X-1)*Math.pow(2,x),P=0));x>=8;u[d+oe]=255&j,oe+=ae,j/=256,x-=8);for(P=P<<x|j,W+=x;W>0;u[d+oe]=255&P,oe+=ae,P/=256,W-=8);u[d+oe-ae]|=128*he};function dr(u){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(u)?u:new Uint8Array(u||0),this.pos=0,this.type=0,this.length=this.buf.length}dr.Varint=0,dr.Fixed64=1,dr.Bytes=2,dr.Fixed32=5;var DT=4294967296,GL=1/DT,YL=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function $c(u){return u.type===dr.Bytes?u.readVarint()+u.pos:u.pos+1}function fp(u,l,d){return d?4294967296*l+(u>>>0):4294967296*(l>>>0)+(u>>>0)}function KL(u,l,d){var m=l<=16383?1:l<=2097151?2:l<=268435455?3:Math.floor(Math.log(l)/(7*Math.LN2));d.realloc(m);for(var x=d.pos-1;x>=u;x--)d.buf[x+m]=d.buf[x]}function FX(u,l){for(var d=0;d<u.length;d++)l.writeVarint(u[d])}function UX(u,l){for(var d=0;d<u.length;d++)l.writeSVarint(u[d])}function VX(u,l){for(var d=0;d<u.length;d++)l.writeFloat(u[d])}function WX(u,l){for(var d=0;d<u.length;d++)l.writeDouble(u[d])}function qX(u,l){for(var d=0;d<u.length;d++)l.writeBoolean(u[d])}function HX(u,l){for(var d=0;d<u.length;d++)l.writeFixed32(u[d])}function GX(u,l){for(var d=0;d<u.length;d++)l.writeSFixed32(u[d])}function YX(u,l){for(var d=0;d<u.length;d++)l.writeFixed64(u[d])}function KX(u,l){for(var d=0;d<u.length;d++)l.writeSFixed64(u[d])}function E_(u,l){return(u[l]|u[l+1]<<8|u[l+2]<<16)+16777216*u[l+3]}function hp(u,l,d){u[d]=l,u[d+1]=l>>>8,u[d+2]=l>>>16,u[d+3]=l>>>24}function ZL(u,l){return(u[l]|u[l+1]<<8|u[l+2]<<16)+(u[l+3]<<24)}dr.prototype={destroy:function(){this.buf=null},readFields:function(u,l,d){for(d=d||this.length;this.pos<d;){var m=this.readVarint(),x=m>>3,C=this.pos;this.type=7&m,u(x,l,this),this.pos===C&&this.skip(m)}return l},readMessage:function(u,l){return this.readFields(u,l,this.readVarint()+this.pos)},readFixed32:function(){var u=E_(this.buf,this.pos);return this.pos+=4,u},readSFixed32:function(){var u=ZL(this.buf,this.pos);return this.pos+=4,u},readFixed64:function(){var u=E_(this.buf,this.pos)+E_(this.buf,this.pos+4)*DT;return this.pos+=8,u},readSFixed64:function(){var u=E_(this.buf,this.pos)+ZL(this.buf,this.pos+4)*DT;return this.pos+=8,u},readFloat:function(){var u=qL(this.buf,this.pos,!0,23,4);return this.pos+=4,u},readDouble:function(){var u=qL(this.buf,this.pos,!0,52,8);return this.pos+=8,u},readVarint:function(u){var l,d,m=this.buf;return l=127&(d=m[this.pos++]),d<128?l:(l|=(127&(d=m[this.pos++]))<<7,d<128?l:(l|=(127&(d=m[this.pos++]))<<14,d<128?l:(l|=(127&(d=m[this.pos++]))<<21,d<128?l:function(x,C,P){var j,B,W=P.buf;if(j=(112&(B=W[P.pos++]))>>4,B<128||(j|=(127&(B=W[P.pos++]))<<3,B<128)||(j|=(127&(B=W[P.pos++]))<<10,B<128)||(j|=(127&(B=W[P.pos++]))<<17,B<128)||(j|=(127&(B=W[P.pos++]))<<24,B<128)||(j|=(1&(B=W[P.pos++]))<<31,B<128))return fp(x,j,C);throw new Error("Expected varint not more than 10 bytes")}(l|=(15&(d=m[this.pos]))<<28,u,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var u=this.readVarint();return u%2==1?(u+1)/-2:u/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var u=this.readVarint()+this.pos,l=this.pos;return this.pos=u,u-l>=12&&YL?function(d,m,x){return YL.decode(d.subarray(m,x))}(this.buf,l,u):function(d,m,x){for(var C="",P=m;P<x;){var j,B,W,G=d[P],X=null,te=G>239?4:G>223?3:G>191?2:1;if(P+te>x)break;te===1?G<128&&(X=G):te===2?(192&(j=d[P+1]))==128&&(X=(31&G)<<6|63&j)<=127&&(X=null):te===3?(B=d[P+2],(192&(j=d[P+1]))==128&&(192&B)==128&&((X=(15&G)<<12|(63&j)<<6|63&B)<=2047||X>=55296&&X<=57343)&&(X=null)):te===4&&(B=d[P+2],W=d[P+3],(192&(j=d[P+1]))==128&&(192&B)==128&&(192&W)==128&&((X=(15&G)<<18|(63&j)<<12|(63&B)<<6|63&W)<=65535||X>=1114112)&&(X=null)),X===null?(X=65533,te=1):X>65535&&(X-=65536,C+=String.fromCharCode(X>>>10&1023|55296),X=56320|1023&X),C+=String.fromCharCode(X),P+=te}return C}(this.buf,l,u)},readBytes:function(){var u=this.readVarint()+this.pos,l=this.buf.subarray(this.pos,u);return this.pos=u,l},readPackedVarint:function(u,l){if(this.type!==dr.Bytes)return u.push(this.readVarint(l));var d=$c(this);for(u=u||[];this.pos<d;)u.push(this.readVarint(l));return u},readPackedSVarint:function(u){if(this.type!==dr.Bytes)return u.push(this.readSVarint());var l=$c(this);for(u=u||[];this.pos<l;)u.push(this.readSVarint());return u},readPackedBoolean:function(u){if(this.type!==dr.Bytes)return u.push(this.readBoolean());var l=$c(this);for(u=u||[];this.pos<l;)u.push(this.readBoolean());return u},readPackedFloat:function(u){if(this.type!==dr.Bytes)return u.push(this.readFloat());var l=$c(this);for(u=u||[];this.pos<l;)u.push(this.readFloat());return u},readPackedDouble:function(u){if(this.type!==dr.Bytes)return u.push(this.readDouble());var l=$c(this);for(u=u||[];this.pos<l;)u.push(this.readDouble());return u},readPackedFixed32:function(u){if(this.type!==dr.Bytes)return u.push(this.readFixed32());var l=$c(this);for(u=u||[];this.pos<l;)u.push(this.readFixed32());return u},readPackedSFixed32:function(u){if(this.type!==dr.Bytes)return u.push(this.readSFixed32());var l=$c(this);for(u=u||[];this.pos<l;)u.push(this.readSFixed32());return u},readPackedFixed64:function(u){if(this.type!==dr.Bytes)return u.push(this.readFixed64());var l=$c(this);for(u=u||[];this.pos<l;)u.push(this.readFixed64());return u},readPackedSFixed64:function(u){if(this.type!==dr.Bytes)return u.push(this.readSFixed64());var l=$c(this);for(u=u||[];this.pos<l;)u.push(this.readSFixed64());return u},skip:function(u){var l=7&u;if(l===dr.Varint)for(;this.buf[this.pos++]>127;);else if(l===dr.Bytes)this.pos=this.readVarint()+this.pos;else if(l===dr.Fixed32)this.pos+=4;else{if(l!==dr.Fixed64)throw new Error("Unimplemented type: "+l);this.pos+=8}},writeTag:function(u,l){this.writeVarint(u<<3|l)},realloc:function(u){for(var l=this.length||16;l<this.pos+u;)l*=2;if(l!==this.length){var d=new Uint8Array(l);d.set(this.buf),this.buf=d,this.length=l}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(u){this.realloc(4),hp(this.buf,u,this.pos),this.pos+=4},writeSFixed32:function(u){this.realloc(4),hp(this.buf,u,this.pos),this.pos+=4},writeFixed64:function(u){this.realloc(8),hp(this.buf,-1&u,this.pos),hp(this.buf,Math.floor(u*GL),this.pos+4),this.pos+=8},writeSFixed64:function(u){this.realloc(8),hp(this.buf,-1&u,this.pos),hp(this.buf,Math.floor(u*GL),this.pos+4),this.pos+=8},writeVarint:function(u){(u=+u||0)>268435455||u<0?function(l,d){var m,x;if(l>=0?(m=l%4294967296|0,x=l/4294967296|0):(x=~(-l/4294967296),4294967295^(m=~(-l%4294967296))?m=m+1|0:(m=0,x=x+1|0)),l>=18446744073709552e3||l<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");d.realloc(10),function(C,P,j){j.buf[j.pos++]=127&C|128,C>>>=7,j.buf[j.pos++]=127&C|128,C>>>=7,j.buf[j.pos++]=127&C|128,C>>>=7,j.buf[j.pos++]=127&C|128,j.buf[j.pos]=127&(C>>>=7)}(m,0,d),function(C,P){var j=(7&C)<<4;P.buf[P.pos++]|=j|((C>>>=3)?128:0),C&&(P.buf[P.pos++]=127&C|((C>>>=7)?128:0),C&&(P.buf[P.pos++]=127&C|((C>>>=7)?128:0),C&&(P.buf[P.pos++]=127&C|((C>>>=7)?128:0),C&&(P.buf[P.pos++]=127&C|((C>>>=7)?128:0),C&&(P.buf[P.pos++]=127&C)))))}(x,d)}(u,this):(this.realloc(4),this.buf[this.pos++]=127&u|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=u>>>7&127))))},writeSVarint:function(u){this.writeVarint(u<0?2*-u-1:2*u)},writeBoolean:function(u){this.writeVarint(!!u)},writeString:function(u){u=String(u),this.realloc(4*u.length),this.pos++;var l=this.pos;this.pos=function(m,x,C){for(var P,j,B=0;B<x.length;B++){if((P=x.charCodeAt(B))>55295&&P<57344){if(!j){P>56319||B+1===x.length?(m[C++]=239,m[C++]=191,m[C++]=189):j=P;continue}if(P<56320){m[C++]=239,m[C++]=191,m[C++]=189,j=P;continue}P=j-55296<<10|P-56320|65536,j=null}else j&&(m[C++]=239,m[C++]=191,m[C++]=189,j=null);P<128?m[C++]=P:(P<2048?m[C++]=P>>6|192:(P<65536?m[C++]=P>>12|224:(m[C++]=P>>18|240,m[C++]=P>>12&63|128),m[C++]=P>>6&63|128),m[C++]=63&P|128)}return C}(this.buf,u,this.pos);var d=this.pos-l;d>=128&&KL(l,d,this),this.pos=l-1,this.writeVarint(d),this.pos+=d},writeFloat:function(u){this.realloc(4),HL(this.buf,u,this.pos,!0,23,4),this.pos+=4},writeDouble:function(u){this.realloc(8),HL(this.buf,u,this.pos,!0,52,8),this.pos+=8},writeBytes:function(u){var l=u.length;this.writeVarint(l),this.realloc(l);for(var d=0;d<l;d++)this.buf[this.pos++]=u[d]},writeRawMessage:function(u,l){this.pos++;var d=this.pos;u(l,this);var m=this.pos-d;m>=128&&KL(d,m,this),this.pos=d-1,this.writeVarint(m),this.pos+=m},writeMessage:function(u,l,d){this.writeTag(u,dr.Bytes),this.writeRawMessage(l,d)},writePackedVarint:function(u,l){l.length&&this.writeMessage(u,FX,l)},writePackedSVarint:function(u,l){l.length&&this.writeMessage(u,UX,l)},writePackedBoolean:function(u,l){l.length&&this.writeMessage(u,qX,l)},writePackedFloat:function(u,l){l.length&&this.writeMessage(u,VX,l)},writePackedDouble:function(u,l){l.length&&this.writeMessage(u,WX,l)},writePackedFixed32:function(u,l){l.length&&this.writeMessage(u,HX,l)},writePackedSFixed32:function(u,l){l.length&&this.writeMessage(u,GX,l)},writePackedFixed64:function(u,l){l.length&&this.writeMessage(u,YX,l)},writePackedSFixed64:function(u,l){l.length&&this.writeMessage(u,KX,l)},writeBytesField:function(u,l){this.writeTag(u,dr.Bytes),this.writeBytes(l)},writeFixed32Field:function(u,l){this.writeTag(u,dr.Fixed32),this.writeFixed32(l)},writeSFixed32Field:function(u,l){this.writeTag(u,dr.Fixed32),this.writeSFixed32(l)},writeFixed64Field:function(u,l){this.writeTag(u,dr.Fixed64),this.writeFixed64(l)},writeSFixed64Field:function(u,l){this.writeTag(u,dr.Fixed64),this.writeSFixed64(l)},writeVarintField:function(u,l){this.writeTag(u,dr.Varint),this.writeVarint(l)},writeSVarintField:function(u,l){this.writeTag(u,dr.Varint),this.writeSVarint(l)},writeStringField:function(u,l){this.writeTag(u,dr.Bytes),this.writeString(l)},writeFloatField:function(u,l){this.writeTag(u,dr.Fixed32),this.writeFloat(l)},writeDoubleField:function(u,l){this.writeTag(u,dr.Fixed64),this.writeDouble(l)},writeBooleanField:function(u,l){this.writeVarintField(u,!!l)}};var jT=h(WL);const LT=3;function ZX(u,l,d){u===1&&d.readMessage(XX,l)}function XX(u,l,d){if(u===3){const{id:m,bitmap:x,width:C,height:P,left:j,top:B,advance:W}=d.readMessage(JX,{});l.push({id:m,bitmap:new By({width:C+2*LT,height:P+2*LT},x),metrics:{width:C,height:P,left:j,top:B,advance:W}})}}function JX(u,l,d){u===1?l.id=d.readVarint():u===2?l.bitmap=d.readBytes():u===3?l.width=d.readVarint():u===4?l.height=d.readVarint():u===5?l.left=d.readSVarint():u===6?l.top=d.readSVarint():u===7&&(l.advance=d.readVarint())}const XL=LT;function JL(u){let l=0,d=0;for(const P of u)l+=P.w*P.h,d=Math.max(d,P.w);u.sort((P,j)=>j.h-P.h);const m=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),d),h:1/0}];let x=0,C=0;for(const P of u)for(let j=m.length-1;j>=0;j--){const B=m[j];if(!(P.w>B.w||P.h>B.h)){if(P.x=B.x,P.y=B.y,C=Math.max(C,P.y+P.h),x=Math.max(x,P.x+P.w),P.w===B.w&&P.h===B.h){const W=m.pop();j<m.length&&(m[j]=W)}else P.h===B.h?(B.x+=P.w,B.w-=P.w):P.w===B.w?(B.y+=P.h,B.h-=P.h):(m.push({x:B.x+P.w,y:B.y,w:B.w-P.w,h:P.h}),B.y+=P.h,B.h-=P.h);break}}return{w:x,h:C,fill:l/(x*C)||0}}const ta=1;class NT{constructor(l,{pixelRatio:d,version:m,stretchX:x,stretchY:C,content:P}){this.paddedRect=l,this.pixelRatio=d,this.stretchX=x,this.stretchY=C,this.content=P,this.version=m}get tl(){return[this.paddedRect.x+ta,this.paddedRect.y+ta]}get br(){return[this.paddedRect.x+this.paddedRect.w-ta,this.paddedRect.y+this.paddedRect.h-ta]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*ta)/this.pixelRatio,(this.paddedRect.h-2*ta)/this.pixelRatio]}}class QL{constructor(l,d){const m={},x={};this.haveRenderCallbacks=[];const C=[];this.addImages(l,m,C),this.addImages(d,x,C);const{w:P,h:j}=JL(C),B=new Va({width:P||1,height:j||1});for(const W in l){const G=l[W],X=m[W].paddedRect;Va.copy(G.data,B,{x:0,y:0},{x:X.x+ta,y:X.y+ta},G.data)}for(const W in d){const G=d[W],X=x[W].paddedRect,te=X.x+ta,oe=X.y+ta,ae=G.data.width,he=G.data.height;Va.copy(G.data,B,{x:0,y:0},{x:te,y:oe},G.data),Va.copy(G.data,B,{x:0,y:he-1},{x:te,y:oe-1},{width:ae,height:1}),Va.copy(G.data,B,{x:0,y:0},{x:te,y:oe+he},{width:ae,height:1}),Va.copy(G.data,B,{x:ae-1,y:0},{x:te-1,y:oe},{width:1,height:he}),Va.copy(G.data,B,{x:0,y:0},{x:te+ae,y:oe},{width:1,height:he})}this.image=B,this.iconPositions=m,this.patternPositions=x}addImages(l,d,m){for(const x in l){const C=l[x],P={x:0,y:0,w:C.data.width+2*ta,h:C.data.height+2*ta};m.push(P),d[x]=new NT(P,C),C.hasRenderCallback&&this.haveRenderCallbacks.push(x)}}patchUpdatedImages(l,d){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const m in l.updatedImages)this.patchUpdatedImage(this.iconPositions[m],l.getImage(m),d),this.patchUpdatedImage(this.patternPositions[m],l.getImage(m),d)}patchUpdatedImage(l,d,m){if(!l||!d||l.version===d.version)return;l.version=d.version;const[x,C]=l.tl;m.update(d.data,void 0,{x,y:C})}}var Gu;$t("ImagePosition",NT),$t("ImageAtlas",QL),a.ai=void 0,(Gu=a.ai||(a.ai={}))[Gu.none=0]="none",Gu[Gu.horizontal=1]="horizontal",Gu[Gu.vertical=2]="vertical",Gu[Gu.horizontalOnly=3]="horizontalOnly";const Yy=-17;class Ky{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(l,d){const m=new Ky;return m.scale=l||1,m.fontStack=d,m}static forImage(l){const d=new Ky;return d.imageName=l,d}}class pp{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(l,d){const m=new pp;for(let x=0;x<l.sections.length;x++){const C=l.sections[x];C.image?m.addImageSection(C):m.addTextSection(C,d)}return m}length(){return this.text.length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}getCharCode(l){return this.text.charCodeAt(l)}verticalizePunctuation(){this.text=function(l){let d="";for(let m=0;m<l.length;m++){const x=l.charCodeAt(m+1)||null,C=l.charCodeAt(m-1)||null;d+=x&&l_(x)&&!Gy[l[m+1]]||C&&l_(C)&&!Gy[l[m-1]]||!Gy[l[m]]?l[m]:Gy[l[m]]}return d}(this.text)}trim(){let l=0;for(let m=0;m<this.text.length&&O_[this.text.charCodeAt(m)];m++)l++;let d=this.text.length;for(let m=this.text.length-1;m>=0&&m>=l&&O_[this.text.charCodeAt(m)];m--)d--;this.text=this.text.substring(l,d),this.sectionIndex=this.sectionIndex.slice(l,d)}substring(l,d){const m=new pp;return m.text=this.text.substring(l,d),m.sectionIndex=this.sectionIndex.slice(l,d),m.sections=this.sections,m}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((l,d)=>Math.max(l,this.sections[d].scale),0)}addTextSection(l,d){this.text+=l.text,this.sections.push(Ky.forText(l.scale,l.fontStack||d));const m=this.sections.length-1;for(let x=0;x<l.text.length;++x)this.sectionIndex.push(m)}addImageSection(l){const d=l.image?l.image.name:"";if(d.length===0)return void de("Can't add FormattedSection with an empty image.");const m=this.getNextImageSectionCharCode();m?(this.text+=String.fromCharCode(m),this.sections.push(Ky.forImage(d)),this.sectionIndex.push(this.sections.length-1)):de("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function P_(u,l,d,m,x,C,P,j,B,W,G,X,te,oe,ae,he){const we=pp.fromFeature(u,x);let Te;X===a.ai.vertical&&we.verticalizePunctuation();const{processBidirectionalText:je,processStyledBidirectionalText:Oe}=Qo;if(je&&we.sections.length===1){Te=[];const nt=je(we.toString(),zT(we,W,C,l,m,oe,ae));for(const Ot of nt){const Ft=new pp;Ft.text=Ot,Ft.sections=we.sections;for(let Et=0;Et<Ot.length;Et++)Ft.sectionIndex.push(0);Te.push(Ft)}}else if(Oe){Te=[];const nt=Oe(we.text,we.sectionIndex,zT(we,W,C,l,m,oe,ae));for(const Ot of nt){const Ft=new pp;Ft.text=Ot[0],Ft.sectionIndex=Ot[1],Ft.sections=we.sections,Te.push(Ft)}}else Te=function(nt,Ot){const Ft=[],Et=nt.text;let Ct=0;for(const yt of Ot)Ft.push(nt.substring(Ct,yt)),Ct=yt;return Ct<Et.length&&Ft.push(nt.substring(Ct,Et.length)),Ft}(we,zT(we,W,C,l,m,oe,ae));const ze=[],Ve={positionedLines:ze,text:we.toString(),top:G[1],bottom:G[1],left:G[0],right:G[0],writingMode:X,iconsInText:!1,verticalizable:!1};return function(nt,Ot,Ft,Et,Ct,yt,Dt,_t,ft,en,Wt,_n){let Tr=0,Ar=Yy,ki=0,Ca=0;const Po=_t==="right"?1:_t==="left"?0:.5;let yi=0;for(const Ti of Ct){Ti.trim();const Ei=Ti.getMaxScale(),ho=(Ei-1)*Ci,Ao={positionedGlyphs:[],lineOffset:0};nt.positionedLines[yi]=Ao;const po=Ao.positionedGlyphs;let na=0;if(!Ti.length()){Ar+=yt,++yi;continue}for(let Pi=0;Pi<Ti.length();Pi++){const In=Ti.getSection(Pi),mo=Ti.getSectionIndex(Pi),no=Ti.getCharCode(Pi);let Oi=0,Ss=null,cl=null,ul=null,Rc=Ci;const Cs=!(ft===a.ai.horizontal||!Wt&&!_y(no)||Wt&&(O_[no]||(Wi=no,Pt.Arabic(Wi)||Pt["Arabic Supplement"](Wi)||Pt["Arabic Extended-A"](Wi)||Pt["Arabic Presentation Forms-A"](Wi)||Pt["Arabic Presentation Forms-B"](Wi))));if(In.imageName){const qa=Et[In.imageName];if(!qa)continue;ul=In.imageName,nt.iconsInText=nt.iconsInText||!0,cl=qa.paddedRect;const ia=qa.displaySize;In.scale=In.scale*Ci/_n,Ss={width:ia[0],height:ia[1],left:ta,top:-XL,advance:Cs?ia[1]:ia[0]},Oi=ho+(Ci-ia[1]*In.scale),Rc=Ss.advance;const Dc=Cs?ia[0]*In.scale-Ci*Ei:ia[1]*In.scale-Ci*Ei;Dc>0&&Dc>na&&(na=Dc)}else{const qa=Ft[In.fontStack],ia=qa&&qa[no];if(ia&&ia.rect)cl=ia.rect,Ss=ia.metrics;else{const Dc=Ot[In.fontStack],ev=Dc&&Dc[no];if(!ev)continue;Ss=ev.metrics}Oi=(Ei-In.scale)*Ci}Cs?(nt.verticalizable=!0,po.push({glyph:no,imageName:ul,x:Tr,y:Ar+Oi,vertical:Cs,scale:In.scale,fontStack:In.fontStack,sectionIndex:mo,metrics:Ss,rect:cl}),Tr+=Rc*In.scale+en):(po.push({glyph:no,imageName:ul,x:Tr,y:Ar+Oi,vertical:Cs,scale:In.scale,fontStack:In.fontStack,sectionIndex:mo,metrics:Ss,rect:cl}),Tr+=Ss.advance*In.scale+en)}po.length!==0&&(ki=Math.max(Tr-en,ki),tJ(po,0,po.length-1,Po,na)),Tr=0;const ra=yt*Ei+na;Ao.lineOffset=Math.max(na,ho),Ar+=ra,Ca=Math.max(ra,Ca),++yi}var Wi;const to=Ar-Yy,{horizontalAlign:Oo,verticalAlign:Mo}=BT(Dt);(function(Ti,Ei,ho,Ao,po,na,ra,Pi,In){const mo=(Ei-ho)*po;let no=0;no=na!==ra?-Pi*Ao-Yy:(-Ao*In+.5)*ra;for(const Oi of Ti)for(const Ss of Oi.positionedGlyphs)Ss.x+=mo,Ss.y+=no})(nt.positionedLines,Po,Oo,Mo,ki,Ca,yt,to,Ct.length),nt.top+=-Mo*to,nt.bottom=nt.top+to,nt.left+=-Oo*ki,nt.right=nt.left+ki}(Ve,l,d,m,Te,P,j,B,X,W,te,he),!function(nt){for(const Ot of nt)if(Ot.positionedGlyphs.length!==0)return!1;return!0}(ze)&&Ve}const O_={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},QX={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function eN(u,l,d,m,x,C){if(l.imageName){const P=m[l.imageName];return P?P.displaySize[0]*l.scale*Ci/C+x:0}{const P=d[l.fontStack],j=P&&P[u];return j?j.metrics.advance*l.scale+x:0}}function tN(u,l,d,m){const x=Math.pow(u-l,2);return m?u<l?x/2:2*x:x+Math.abs(d)*d}function eJ(u,l,d){let m=0;return u===10&&(m-=1e4),d&&(m+=150),u!==40&&u!==65288||(m+=50),l!==41&&l!==65289||(m+=50),m}function nN(u,l,d,m,x,C){let P=null,j=tN(l,d,x,C);for(const B of m){const W=tN(l-B.x,d,x,C)+B.badness;W<=j&&(P=B,j=W)}return{index:u,x:l,priorBreak:P,badness:j}}function rN(u){return u?rN(u.priorBreak).concat(u.index):[]}function zT(u,l,d,m,x,C,P){if(C!=="point")return[];if(!u)return[];const j=[],B=function(te,oe,ae,he,we,Te){let je=0;for(let Oe=0;Oe<te.length();Oe++){const ze=te.getSection(Oe);je+=eN(te.getCharCode(Oe),ze,he,we,oe,Te)}return je/Math.max(1,Math.ceil(je/ae))}(u,l,d,m,x,P),W=u.text.indexOf("")>=0;let G=0;for(let te=0;te<u.length();te++){const oe=u.getSection(te),ae=u.getCharCode(te);if(O_[ae]||(G+=eN(ae,oe,m,x,l,P)),te<u.length()-1){const he=!((X=ae)<11904||!(Pt["Bopomofo Extended"](X)||Pt.Bopomofo(X)||Pt["CJK Compatibility Forms"](X)||Pt["CJK Compatibility Ideographs"](X)||Pt["CJK Compatibility"](X)||Pt["CJK Radicals Supplement"](X)||Pt["CJK Strokes"](X)||Pt["CJK Symbols and Punctuation"](X)||Pt["CJK Unified Ideographs Extension A"](X)||Pt["CJK Unified Ideographs"](X)||Pt["Enclosed CJK Letters and Months"](X)||Pt["Halfwidth and Fullwidth Forms"](X)||Pt.Hiragana(X)||Pt["Ideographic Description Characters"](X)||Pt["Kangxi Radicals"](X)||Pt["Katakana Phonetic Extensions"](X)||Pt.Katakana(X)||Pt["Vertical Forms"](X)||Pt["Yi Radicals"](X)||Pt["Yi Syllables"](X)));(QX[ae]||he||oe.imageName)&&j.push(nN(te+1,G,B,j,eJ(ae,u.getCharCode(te+1),he&&W),!1))}}var X;return rN(nN(u.length(),G,B,j,0,!0))}function BT(u){let l=.5,d=.5;switch(u){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(u){case"bottom":case"bottom-right":case"bottom-left":d=1;break;case"top":case"top-right":case"top-left":d=0}return{horizontalAlign:l,verticalAlign:d}}function tJ(u,l,d,m,x){if(!m&&!x)return;const C=u[d],P=(u[d].x+C.metrics.advance*C.scale)*m;for(let j=l;j<=d;j++)u[j].x-=P,u[j].y+=x}function nJ(u,l,d){const{horizontalAlign:m,verticalAlign:x}=BT(d),C=l[0]-u.displaySize[0]*m,P=l[1]-u.displaySize[1]*x;return{image:u,top:P,bottom:P+u.displaySize[1],left:C,right:C+u.displaySize[0]}}function iN(u,l,d,m,x,C){const P=u.image;let j;if(P.content){const we=P.content,Te=P.pixelRatio||1;j=[we[0]/Te,we[1]/Te,P.displaySize[0]-we[2]/Te,P.displaySize[1]-we[3]/Te]}const B=l.left*C,W=l.right*C;let G,X,te,oe;d==="width"||d==="both"?(oe=x[0]+B-m[3],X=x[0]+W+m[1]):(oe=x[0]+(B+W-P.displaySize[0])/2,X=oe+P.displaySize[0]);const ae=l.top*C,he=l.bottom*C;return d==="height"||d==="both"?(G=x[1]+ae-m[0],te=x[1]+he+m[2]):(G=x[1]+(ae+he-P.displaySize[1])/2,te=G+P.displaySize[1]),{image:P,top:G,right:X,bottom:te,left:oe,collisionPadding:j}}const Zy=255,Gl=128,Yu=Zy*Gl;function oN(u,l){const{expression:d}=l;if(d.kind==="constant")return{kind:"constant",layoutSize:d.evaluate(new Cr(u+1))};if(d.kind==="source")return{kind:"source"};{const{zoomStops:m,interpolationType:x}=d;let C=0;for(;C<m.length&&m[C]<=u;)C++;C=Math.max(0,C-1);let P=C;for(;P<m.length&&m[P]<u+1;)P++;P=Math.min(m.length-1,P);const j=m[C],B=m[P];return d.kind==="composite"?{kind:"composite",minZoom:j,maxZoom:B,interpolationType:x}:{kind:"camera",minZoom:j,maxZoom:B,minSize:d.evaluate(new Cr(j)),maxSize:d.evaluate(new Cr(B)),interpolationType:x}}}function FT(u,l,d){let m="never";const x=u.get(l);return x?m=x:u.get(d)&&(m="always"),m}const rJ=Hu.VectorTileFeature.types,iJ=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function M_(u,l,d,m,x,C,P,j,B,W,G,X,te){const oe=j?Math.min(Yu,Math.round(j[0])):0,ae=j?Math.min(Yu,Math.round(j[1])):0;u.emplaceBack(l,d,Math.round(32*m),Math.round(32*x),C,P,(oe<<1)+(B?1:0),ae,16*W,16*G,256*X,256*te)}function UT(u,l,d){u.emplaceBack(l.x,l.y,d),u.emplaceBack(l.x,l.y,d),u.emplaceBack(l.x,l.y,d),u.emplaceBack(l.x,l.y,d)}function oJ(u){for(const l of u.sections)if(pT(l.text))return!0;return!1}class VT{constructor(l){this.layoutVertexArray=new Sn,this.indexArray=new Ui,this.programConfigurations=l,this.segments=new kr,this.dynamicLayoutVertexArray=new xn,this.opacityVertexArray=new Tn,this.hasVisibleVertices=!1,this.placedSymbolArray=new Ie}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,d,m,x){this.isEmpty()||(m&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,jX.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,d),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,LX.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,iJ,!0),this.opacityVertexBuffer.itemSize=1),(m||x)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}$t("SymbolBuffers",VT);class WT{constructor(l,d,m){this.layoutVertexArray=new l,this.layoutAttributes=d,this.indexArray=new m,this.segments=new kr,this.collisionVertexArray=new vr}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,NX.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}$t("CollisionBuffers",WT);class mp{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(P=>P.id),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=_T([]),this.placementViewportMatrix=_T([]);const d=this.layers[0]._unevaluatedLayout._values;this.textSizeData=oN(this.zoom,d["text-size"]),this.iconSizeData=oN(this.zoom,d["icon-size"]);const m=this.layers[0].layout,x=m.get("symbol-sort-key"),C=m.get("symbol-z-order");this.canOverlap=FT(m,"text-overlap","text-allow-overlap")!=="never"||FT(m,"icon-overlap","icon-allow-overlap")!=="never"||m.get("text-ignore-placement")||m.get("icon-ignore-placement"),this.sortFeaturesByKey=C!=="viewport-y"&&!x.isConstant(),this.sortFeaturesByY=(C==="viewport-y"||C==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,m.get("symbol-placement")==="point"&&(this.writingModes=m.get("text-writing-mode").map(P=>a.ai[P])),this.stateDependentLayerIds=this.layers.filter(P=>P.isStateDependent()).map(P=>P.id),this.sourceID=l.sourceID}createArrays(){this.text=new VT(new ll(this.layers,this.zoom,l=>/^text/.test(l))),this.icon=new VT(new ll(this.layers,this.zoom,l=>/^icon/.test(l))),this.glyphOffsetArray=new De,this.lineVertexArray=new We,this.symbolInstances=new Ce,this.textAnchorOffsets=new tt}calculateGlyphDependencies(l,d,m,x,C){for(let P=0;P<l.length;P++)if(d[l.charCodeAt(P)]=!0,(m||x)&&C){const j=Gy[l.charAt(P)];j&&(d[j.charCodeAt(0)]=!0)}}populate(l,d,m){const x=this.layers[0],C=x.layout,P=C.get("text-font"),j=C.get("text-field"),B=C.get("icon-image"),W=(j.value.kind!=="constant"||j.value.value instanceof Ji&&!j.value.value.isEmpty()||j.value.value.toString().length>0)&&(P.value.kind!=="constant"||P.value.value.length>0),G=B.value.kind!=="constant"||!!B.value.value||Object.keys(B.parameters).length>0,X=C.get("symbol-sort-key");if(this.features=[],!W&&!G)return;const te=d.iconDependencies,oe=d.glyphDependencies,ae=d.availableImages,he=new Cr(this.zoom);for(const{feature:we,id:Te,index:je,sourceLayerIndex:Oe}of l){const ze=x._featureFilter.needGeometry,Ve=wf(we,ze);if(!x._featureFilter.filter(he,Ve,m))continue;let nt,Ot;if(ze||(Ve.geometry=_f(we)),W){const Et=x.getValueAndResolveTokens("text-field",Ve,m,ae),Ct=Ji.factory(Et);oJ(Ct)&&(this.hasRTLText=!0),(!this.hasRTLText||Ey()==="unavailable"||this.hasRTLText&&Qo.isParsed())&&(nt=BX(Ct,x,Ve))}if(G){const Et=x.getValueAndResolveTokens("icon-image",Ve,m,ae);Ot=Et instanceof Fi?Et:Fi.fromString(Et)}if(!nt&&!Ot)continue;const Ft=this.sortFeaturesByKey?X.evaluate(Ve,{},m):void 0;if(this.features.push({id:Te,text:nt,icon:Ot,index:je,sourceLayerIndex:Oe,geometry:Ve.geometry,properties:we.properties,type:rJ[we.type],sortKey:Ft}),Ot&&(te[Ot.name]=!0),nt){const Et=P.evaluate(Ve,{},m).join(","),Ct=C.get("text-rotation-alignment")!=="viewport"&&C.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(a.ai.vertical)>=0;for(const yt of nt.sections)if(yt.image)te[yt.image.name]=!0;else{const Dt=by(nt.toString()),_t=yt.fontStack||Et,ft=oe[_t]=oe[_t]||{};this.calculateGlyphDependencies(yt.text,ft,Ct,this.allowVerticalPlacement,Dt)}}}C.get("symbol-placement")==="line"&&(this.features=function(we){const Te={},je={},Oe=[];let ze=0;function Ve(Et){Oe.push(we[Et]),ze++}function nt(Et,Ct,yt){const Dt=je[Et];return delete je[Et],je[Ct]=Dt,Oe[Dt].geometry[0].pop(),Oe[Dt].geometry[0]=Oe[Dt].geometry[0].concat(yt[0]),Dt}function Ot(Et,Ct,yt){const Dt=Te[Ct];return delete Te[Ct],Te[Et]=Dt,Oe[Dt].geometry[0].shift(),Oe[Dt].geometry[0]=yt[0].concat(Oe[Dt].geometry[0]),Dt}function Ft(Et,Ct,yt){const Dt=yt?Ct[0][Ct[0].length-1]:Ct[0][0];return`${Et}:${Dt.x}:${Dt.y}`}for(let Et=0;Et<we.length;Et++){const Ct=we[Et],yt=Ct.geometry,Dt=Ct.text?Ct.text.toString():null;if(!Dt){Ve(Et);continue}const _t=Ft(Dt,yt),ft=Ft(Dt,yt,!0);if(_t in je&&ft in Te&&je[_t]!==Te[ft]){const en=Ot(_t,ft,yt),Wt=nt(_t,ft,Oe[en].geometry);delete Te[_t],delete je[ft],je[Ft(Dt,Oe[Wt].geometry,!0)]=Wt,Oe[en].geometry=null}else _t in je?nt(_t,ft,yt):ft in Te?Ot(_t,ft,yt):(Ve(Et),Te[_t]=ze-1,je[ft]=ze-1)}return Oe.filter(Et=>Et.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((we,Te)=>we.sortKey-Te.sortKey)}update(l,d,m){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,d,this.layers,m),this.icon.programConfigurations.updatePaintArrays(l,d,this.layers,m))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,d){const m=this.lineVertexArray.length;if(l.segment!==void 0){let x=l.dist(d[l.segment+1]),C=l.dist(d[l.segment]);const P={};for(let j=l.segment+1;j<d.length;j++)P[j]={x:d[j].x,y:d[j].y,tileUnitDistanceFromAnchor:x},j<d.length-1&&(x+=d[j+1].dist(d[j]));for(let j=l.segment||0;j>=0;j--)P[j]={x:d[j].x,y:d[j].y,tileUnitDistanceFromAnchor:C},j>0&&(C+=d[j-1].dist(d[j]));for(let j=0;j<d.length;j++){const B=P[j];this.lineVertexArray.emplaceBack(B.x,B.y,B.tileUnitDistanceFromAnchor)}}return{lineStartIndex:m,lineLength:this.lineVertexArray.length-m}}addSymbols(l,d,m,x,C,P,j,B,W,G,X,te){const oe=l.indexArray,ae=l.layoutVertexArray,he=l.segments.prepareSegment(4*d.length,ae,oe,this.canOverlap?P.sortKey:void 0),we=this.glyphOffsetArray.length,Te=he.vertexLength,je=this.allowVerticalPlacement&&j===a.ai.vertical?Math.PI/2:0,Oe=P.text&&P.text.sections;for(let ze=0;ze<d.length;ze++){const{tl:Ve,tr:nt,bl:Ot,br:Ft,tex:Et,pixelOffsetTL:Ct,pixelOffsetBR:yt,minFontScaleX:Dt,minFontScaleY:_t,glyphOffset:ft,isSDF:en,sectionIndex:Wt}=d[ze],_n=he.vertexLength,Tr=ft[1];M_(ae,B.x,B.y,Ve.x,Tr+Ve.y,Et.x,Et.y,m,en,Ct.x,Ct.y,Dt,_t),M_(ae,B.x,B.y,nt.x,Tr+nt.y,Et.x+Et.w,Et.y,m,en,yt.x,Ct.y,Dt,_t),M_(ae,B.x,B.y,Ot.x,Tr+Ot.y,Et.x,Et.y+Et.h,m,en,Ct.x,yt.y,Dt,_t),M_(ae,B.x,B.y,Ft.x,Tr+Ft.y,Et.x+Et.w,Et.y+Et.h,m,en,yt.x,yt.y,Dt,_t),UT(l.dynamicLayoutVertexArray,B,je),oe.emplaceBack(_n,_n+1,_n+2),oe.emplaceBack(_n+1,_n+2,_n+3),he.vertexLength+=4,he.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ft[0]),ze!==d.length-1&&Wt===d[ze+1].sectionIndex||l.programConfigurations.populatePaintArrays(ae.length,P,P.index,{},te,Oe&&Oe[Wt])}l.placedSymbolArray.emplaceBack(B.x,B.y,we,this.glyphOffsetArray.length-we,Te,W,G,B.segment,m?m[0]:0,m?m[1]:0,x[0],x[1],j,0,!1,0,X)}_addCollisionDebugVertex(l,d,m,x,C,P){return d.emplaceBack(0,0),l.emplaceBack(m.x,m.y,x,C,Math.round(P.x),Math.round(P.y))}addCollisionDebugVertices(l,d,m,x,C,P,j){const B=C.segments.prepareSegment(4,C.layoutVertexArray,C.indexArray),W=B.vertexLength,G=C.layoutVertexArray,X=C.collisionVertexArray,te=j.anchorX,oe=j.anchorY;this._addCollisionDebugVertex(G,X,P,te,oe,new b(l,d)),this._addCollisionDebugVertex(G,X,P,te,oe,new b(m,d)),this._addCollisionDebugVertex(G,X,P,te,oe,new b(m,x)),this._addCollisionDebugVertex(G,X,P,te,oe,new b(l,x)),B.vertexLength+=4;const ae=C.indexArray;ae.emplaceBack(W,W+1),ae.emplaceBack(W+1,W+2),ae.emplaceBack(W+2,W+3),ae.emplaceBack(W+3,W),B.primitiveLength+=4}addDebugCollisionBoxes(l,d,m,x){for(let C=l;C<d;C++){const P=this.collisionBoxArray.get(C);this.addCollisionDebugVertices(P.x1,P.y1,P.x2,P.y2,x?this.textCollisionBox:this.iconCollisionBox,P.anchorPoint,m)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new WT(Jr,VL.members,wi),this.iconCollisionBox=new WT(Jr,VL.members,wi);for(let l=0;l<this.symbolInstances.length;l++){const d=this.symbolInstances.get(l);this.addDebugCollisionBoxes(d.textBoxStartIndex,d.textBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.iconBoxStartIndex,d.iconBoxEndIndex,d,!1),this.addDebugCollisionBoxes(d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex,d,!1)}}_deserializeCollisionBoxesForSymbol(l,d,m,x,C,P,j,B,W){const G={};for(let X=d;X<m;X++){const te=l.get(X);G.textBox={x1:te.x1,y1:te.y1,x2:te.x2,y2:te.y2,anchorPointX:te.anchorPointX,anchorPointY:te.anchorPointY},G.textFeatureIndex=te.featureIndex;break}for(let X=x;X<C;X++){const te=l.get(X);G.verticalTextBox={x1:te.x1,y1:te.y1,x2:te.x2,y2:te.y2,anchorPointX:te.anchorPointX,anchorPointY:te.anchorPointY},G.verticalTextFeatureIndex=te.featureIndex;break}for(let X=P;X<j;X++){const te=l.get(X);G.iconBox={x1:te.x1,y1:te.y1,x2:te.x2,y2:te.y2,anchorPointX:te.anchorPointX,anchorPointY:te.anchorPointY},G.iconFeatureIndex=te.featureIndex;break}for(let X=B;X<W;X++){const te=l.get(X);G.verticalIconBox={x1:te.x1,y1:te.y1,x2:te.x2,y2:te.y2,anchorPointX:te.anchorPointX,anchorPointY:te.anchorPointY},G.verticalIconFeatureIndex=te.featureIndex;break}return G}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let d=0;d<this.symbolInstances.length;d++){const m=this.symbolInstances.get(d);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,m.textBoxStartIndex,m.textBoxEndIndex,m.verticalTextBoxStartIndex,m.verticalTextBoxEndIndex,m.iconBoxStartIndex,m.iconBoxEndIndex,m.verticalIconBoxStartIndex,m.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,d){const m=l.placedSymbolArray.get(d),x=m.vertexStartIndex+4*m.numGlyphs;for(let C=m.vertexStartIndex;C<x;C+=4)l.indexArray.emplaceBack(C,C+1,C+2),l.indexArray.emplaceBack(C+1,C+2,C+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const d=Math.sin(l),m=Math.cos(l),x=[],C=[],P=[];for(let j=0;j<this.symbolInstances.length;++j){P.push(j);const B=this.symbolInstances.get(j);x.push(0|Math.round(d*B.anchorX+m*B.anchorY)),C.push(B.featureIndex)}return P.sort((j,B)=>x[j]-x[B]||C[B]-C[j]),P}addToSortKeyRanges(l,d){const m=this.sortKeyRanges[this.sortKeyRanges.length-1];m&&m.sortKey===d?m.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:d,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const d of this.symbolInstanceIndexes){const m=this.symbolInstances.get(d);this.featureSortOrder.push(m.featureIndex),[m.rightJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.leftJustifiedTextSymbolIndex].forEach((x,C,P)=>{x>=0&&P.indexOf(x)===C&&this.addIndicesForPlacedSymbol(this.text,x)}),m.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,m.verticalPlacedTextSymbolIndex),m.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.placedIconSymbolIndex),m.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let aN,sN;$t("SymbolBucket",mp,{omit:["layers","collisionBoxArray","features","compareText"]}),mp.MAX_GLYPHS=65535,mp.addDynamicAttributes=UT;var qT={get paint(){return sN=sN||new li({"icon-opacity":new un(Be.paint_symbol["icon-opacity"]),"icon-color":new un(Be.paint_symbol["icon-color"]),"icon-halo-color":new un(Be.paint_symbol["icon-halo-color"]),"icon-halo-width":new un(Be.paint_symbol["icon-halo-width"]),"icon-halo-blur":new un(Be.paint_symbol["icon-halo-blur"]),"icon-translate":new Ht(Be.paint_symbol["icon-translate"]),"icon-translate-anchor":new Ht(Be.paint_symbol["icon-translate-anchor"]),"text-opacity":new un(Be.paint_symbol["text-opacity"]),"text-color":new un(Be.paint_symbol["text-color"],{runtimeType:Wn,getOverride:u=>u.textColor,hasOverride:u=>!!u.textColor}),"text-halo-color":new un(Be.paint_symbol["text-halo-color"]),"text-halo-width":new un(Be.paint_symbol["text-halo-width"]),"text-halo-blur":new un(Be.paint_symbol["text-halo-blur"]),"text-translate":new Ht(Be.paint_symbol["text-translate"]),"text-translate-anchor":new Ht(Be.paint_symbol["text-translate-anchor"])})},get layout(){return aN=aN||new li({"symbol-placement":new Ht(Be.layout_symbol["symbol-placement"]),"symbol-spacing":new Ht(Be.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Ht(Be.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new un(Be.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Ht(Be.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Ht(Be.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Ht(Be.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Ht(Be.layout_symbol["icon-ignore-placement"]),"icon-optional":new Ht(Be.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Ht(Be.layout_symbol["icon-rotation-alignment"]),"icon-size":new un(Be.layout_symbol["icon-size"]),"icon-text-fit":new Ht(Be.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Ht(Be.layout_symbol["icon-text-fit-padding"]),"icon-image":new un(Be.layout_symbol["icon-image"]),"icon-rotate":new un(Be.layout_symbol["icon-rotate"]),"icon-padding":new un(Be.layout_symbol["icon-padding"]),"icon-keep-upright":new Ht(Be.layout_symbol["icon-keep-upright"]),"icon-offset":new un(Be.layout_symbol["icon-offset"]),"icon-anchor":new un(Be.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Ht(Be.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Ht(Be.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Ht(Be.layout_symbol["text-rotation-alignment"]),"text-field":new un(Be.layout_symbol["text-field"]),"text-font":new un(Be.layout_symbol["text-font"]),"text-size":new un(Be.layout_symbol["text-size"]),"text-max-width":new un(Be.layout_symbol["text-max-width"]),"text-line-height":new Ht(Be.layout_symbol["text-line-height"]),"text-letter-spacing":new un(Be.layout_symbol["text-letter-spacing"]),"text-justify":new un(Be.layout_symbol["text-justify"]),"text-radial-offset":new un(Be.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Ht(Be.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new un(Be.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new un(Be.layout_symbol["text-anchor"]),"text-max-angle":new Ht(Be.layout_symbol["text-max-angle"]),"text-writing-mode":new Ht(Be.layout_symbol["text-writing-mode"]),"text-rotate":new un(Be.layout_symbol["text-rotate"]),"text-padding":new Ht(Be.layout_symbol["text-padding"]),"text-keep-upright":new Ht(Be.layout_symbol["text-keep-upright"]),"text-transform":new un(Be.layout_symbol["text-transform"]),"text-offset":new un(Be.layout_symbol["text-offset"]),"text-allow-overlap":new Ht(Be.layout_symbol["text-allow-overlap"]),"text-overlap":new Ht(Be.layout_symbol["text-overlap"]),"text-ignore-placement":new Ht(Be.layout_symbol["text-ignore-placement"]),"text-optional":new Ht(Be.layout_symbol["text-optional"])})}};class lN{constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:zt,this.defaultValue=l}evaluate(l){if(l.formattedSection){const d=this.defaultValue.property.overrides;if(d&&d.hasOverride(l.formattedSection))return d.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}$t("FormatSectionOverride",lN,{omit:["defaultValue"]});class A_ extends wa{constructor(l){super(l,qT)}recalculate(l,d){if(super.recalculate(l,d),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const m=this.layout.get("text-writing-mode");if(m){const x=[];for(const C of m)x.indexOf(C)<0&&x.push(C);this.layout._values["text-writing-mode"]=x}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,d,m,x){const C=this.layout.get(l).evaluate(d,{},m,x),P=this._unevaluatedLayout._values[l];return P.isDataDriven()||Kh(P.value)||!C?C:function(j,B){return B.replace(/{([^{}]+)}/g,(W,G)=>j&&G in j?String(j[G]):"")}(d.properties,C)}createBucket(l){return new mp(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const l of qT.paint.overridableProperties){if(!A_.hasPaintOverride(this.layout,l))continue;const d=this.paint.get(l),m=new lN(d),x=new hy(m,d.property.specification);let C=null;C=d.value.kind==="constant"||d.value.kind==="source"?new py("source",x):new Xh("composite",x,d.value.zoomStops),this.paint._values[l]=new uo(d.property,C,d.parameters)}}_handleOverridablePaintPropertyUpdate(l,d,m){return!(!this.layout||d.isDataDriven()||m.isDataDriven())&&A_.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,d){const m=l.get("text-field"),x=qT.paint.properties[d];let C=!1;const P=j=>{for(const B of j)if(x.overrides&&x.overrides.hasOverride(B))return void(C=!0)};if(m.value.kind==="constant"&&m.value.value instanceof Ji)P(m.value.value.sections);else if(m.value.kind==="source"){const j=W=>{C||(W instanceof _c&&Rr(W.value)===ve?P(W.value.sections):W instanceof Yh?P(W.sections):W.eachChild(j))},B=m.value;B._styleExpression&&j(B._styleExpression.expression)}return C}}let cN;var aJ={get paint(){return cN=cN||new li({"background-color":new Ht(Be.paint_background["background-color"]),"background-pattern":new Oy(Be.paint_background["background-pattern"]),"background-opacity":new Ht(Be.paint_background["background-opacity"])})}};class sJ extends wa{constructor(l){super(l,aJ)}}let uN;var lJ={get paint(){return uN=uN||new li({"raster-opacity":new Ht(Be.paint_raster["raster-opacity"]),"raster-hue-rotate":new Ht(Be.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Ht(Be.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Ht(Be.paint_raster["raster-brightness-max"]),"raster-saturation":new Ht(Be.paint_raster["raster-saturation"]),"raster-contrast":new Ht(Be.paint_raster["raster-contrast"]),"raster-resampling":new Ht(Be.paint_raster["raster-resampling"]),"raster-fade-duration":new Ht(Be.paint_raster["raster-fade-duration"])})}};class cJ extends wa{constructor(l){super(l,lJ)}}class uJ extends wa{constructor(l){super(l,{}),this.onAdd=d=>{this.implementation.onAdd&&this.implementation.onAdd(d,d.painter.context.gl)},this.onRemove=d=>{this.implementation.onRemove&&this.implementation.onRemove(d,d.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class dJ{constructor(l){this._callback=l,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const HT=63710088e-1;class Ku{constructor(l,d){if(isNaN(l)||isNaN(d))throw new Error(`Invalid LngLat object: (${l}, ${d})`);if(this.lng=+l,this.lat=+d,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Ku(F(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){const d=Math.PI/180,m=this.lat*d,x=l.lat*d,C=Math.sin(m)*Math.sin(x)+Math.cos(m)*Math.cos(x)*Math.cos((l.lng-this.lng)*d);return HT*Math.acos(Math.min(C,1))}static convert(l){if(l instanceof Ku)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new Ku(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new Ku(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const dN=2*Math.PI*HT;function fN(u){return dN*Math.cos(u*Math.PI/180)}function hN(u){return(180+u)/360}function pN(u){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u*Math.PI/360)))/360}function mN(u,l){return u/fN(l)}function gN(u){return 360*u-180}function GT(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}class I_{constructor(l,d,m=0){this.x=+l,this.y=+d,this.z=+m}static fromLngLat(l,d=0){const m=Ku.convert(l);return new I_(hN(m.lng),pN(m.lat),mN(d,m.lat))}toLngLat(){return new Ku(gN(this.x),GT(this.y))}toAltitude(){return this.z*fN(GT(this.y))}meterInMercatorCoordinateUnits(){return 1/dN*(l=GT(this.y),1/Math.cos(l*Math.PI/180));var l}}function yN(u,l,d){var m=2*Math.PI*6378137/256/Math.pow(2,d);return[u*m-2*Math.PI*6378137/2,l*m-2*Math.PI*6378137/2]}class YT{constructor(l,d,m){if(l<0||l>25||m<0||m>=Math.pow(2,l)||d<0||d>=Math.pow(2,l))throw new Error(`x=${d}, y=${m}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=d,this.y=m,this.key=Xy(0,l,l,d,m)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,d,m){const x=(P=this.y,j=this.z,B=yN(256*(C=this.x),256*(P=Math.pow(2,j)-P-1),j),W=yN(256*(C+1),256*(P+1),j),B[0]+","+B[1]+","+W[0]+","+W[1]);var C,P,j,B,W;const G=function(X,te,oe){let ae,he="";for(let we=X;we>0;we--)ae=1<<we-1,he+=(te&ae?1:0)+(oe&ae?2:0);return he}(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(m==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,d>1?"@2x":"").replace(/{quadkey}/g,G).replace(/{bbox-epsg-3857}/g,x)}isChildOf(l){const d=this.z-l.z;return d>0&&l.x===this.x>>d&&l.y===this.y>>d}getTilePoint(l){const d=Math.pow(2,this.z);return new b((l.x*d-this.x)*gi,(l.y*d-this.y)*gi)}toString(){return`${this.z}/${this.x}/${this.y}`}}class vN{constructor(l,d){this.wrap=l,this.canonical=d,this.key=Xy(l,d.z,d.z,d.x,d.y)}}class Wa{constructor(l,d,m,x,C){if(l<m)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${m}`);this.overscaledZ=l,this.wrap=d,this.canonical=new YT(m,+x,+C),this.key=Xy(d,l,m,x,C)}clone(){return new Wa(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const d=this.canonical.z-l;return l>this.canonical.z?new Wa(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Wa(l,this.wrap,l,this.canonical.x>>d,this.canonical.y>>d)}calculateScaledKey(l,d){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const m=this.canonical.z-l;return l>this.canonical.z?Xy(this.wrap*+d,l,this.canonical.z,this.canonical.x,this.canonical.y):Xy(this.wrap*+d,l,l,this.canonical.x>>m,this.canonical.y>>m)}isChildOf(l){if(l.wrap!==this.wrap)return!1;const d=this.canonical.z-l.canonical.z;return l.overscaledZ===0||l.overscaledZ<this.overscaledZ&&l.canonical.x===this.canonical.x>>d&&l.canonical.y===this.canonical.y>>d}children(l){if(this.overscaledZ>=l)return[new Wa(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const d=this.canonical.z+1,m=2*this.canonical.x,x=2*this.canonical.y;return[new Wa(d,this.wrap,d,m,x),new Wa(d,this.wrap,d,m+1,x),new Wa(d,this.wrap,d,m,x+1),new Wa(d,this.wrap,d,m+1,x+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new Wa(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new Wa(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new vN(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new I_(l.x-this.wrap,l.y))}}function Xy(u,l,d,m,x){(u*=2)<0&&(u=-1*u-1);const C=1<<d;return(C*C*u+C*x+m).toString(36)+d.toString(36)+l.toString(36)}$t("CanonicalTileID",YT),$t("OverscaledTileID",Wa,{omit:["posMatrix"]});class bN{constructor(l,d,m,x=1,C=1,P=1,j=0){if(this.uid=l,d.height!==d.width)throw new RangeError("DEM tiles must be square");if(m&&!["mapbox","terrarium","custom"].includes(m))return void de(`"${m}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=d.height;const B=this.dim=d.height-2;switch(this.data=new Uint32Array(d.data.buffer),m){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=x,this.greenFactor=C,this.blueFactor=P,this.baseShift=j;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let W=0;W<B;W++)this.data[this._idx(-1,W)]=this.data[this._idx(0,W)],this.data[this._idx(B,W)]=this.data[this._idx(B-1,W)],this.data[this._idx(W,-1)]=this.data[this._idx(W,0)],this.data[this._idx(W,B)]=this.data[this._idx(W,B-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(B,-1)]=this.data[this._idx(B-1,0)],this.data[this._idx(-1,B)]=this.data[this._idx(0,B-1)],this.data[this._idx(B,B)]=this.data[this._idx(B-1,B-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let W=0;W<B;W++)for(let G=0;G<B;G++){const X=this.get(W,G);X>this.max&&(this.max=X),X<this.min&&(this.min=X)}}get(l,d){const m=new Uint8Array(this.data.buffer),x=4*this._idx(l,d);return this.unpack(m[x],m[x+1],m[x+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(l,d){if(l<-1||l>=this.dim+1||d<-1||d>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(d+1)*this.stride+(l+1)}unpack(l,d,m){return l*this.redFactor+d*this.greenFactor+m*this.blueFactor-this.baseShift}getPixels(){return new Va({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,d,m){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let x=d*this.dim,C=d*this.dim+this.dim,P=m*this.dim,j=m*this.dim+this.dim;switch(d){case-1:x=C-1;break;case 1:C=x+1}switch(m){case-1:P=j-1;break;case 1:j=P+1}const B=-d*this.dim,W=-m*this.dim;for(let G=P;G<j;G++)for(let X=x;X<C;X++)this.data[this._idx(X,G)]=l.data[this._idx(X+B,G+W)]}}$t("DEMData",bN);class xN{constructor(l){this._stringToNumber={},this._numberToString=[];for(let d=0;d<l.length;d++){const m=l[d];this._stringToNumber[m]=d,this._numberToString[d]=m}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class _N{constructor(l,d,m,x,C){this.type="Feature",this._vectorTileFeature=l,l._z=d,l._x=m,l._y=x,this.properties=l.properties,this.id=C}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(l){this._geometry=l}toJSON(){const l={geometry:this.geometry};for(const d in this)d!=="_geometry"&&d!=="_vectorTileFeature"&&(l[d]=this[d]);return l}}class wN{constructor(l,d){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new Fu(gi,16,0),this.grid3D=new Fu(gi,16,0),this.featureIndexArray=new at,this.promoteId=d}insert(l,d,m,x,C,P){const j=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(m,x,C);const B=P?this.grid3D:this.grid;for(let W=0;W<d.length;W++){const G=d[W],X=[1/0,1/0,-1/0,-1/0];for(let te=0;te<G.length;te++){const oe=G[te];X[0]=Math.min(X[0],oe.x),X[1]=Math.min(X[1],oe.y),X[2]=Math.max(X[2],oe.x),X[3]=Math.max(X[3],oe.y)}X[0]<gi&&X[1]<gi&&X[2]>=0&&X[3]>=0&&B.insert(j,X[0],X[1],X[2],X[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Hu.VectorTile(new jT(this.rawTileData)).layers,this.sourceLayerCoder=new xN(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(l,d,m,x){this.loadVTLayers();const C=l.params||{},P=gi/l.tileSize/l.scale,j=gy(C.filter),B=l.queryGeometry,W=l.queryPadding*P,G=CN(B),X=this.grid.query(G.minX-W,G.minY-W,G.maxX+W,G.maxY+W),te=CN(l.cameraQueryGeometry),oe=this.grid3D.query(te.minX-W,te.minY-W,te.maxX+W,te.maxY+W,(we,Te,je,Oe)=>function(ze,Ve,nt,Ot,Ft){for(const Ct of ze)if(Ve<=Ct.x&&nt<=Ct.y&&Ot>=Ct.x&&Ft>=Ct.y)return!0;const Et=[new b(Ve,nt),new b(Ve,Ft),new b(Ot,Ft),new b(Ot,nt)];if(ze.length>2){for(const Ct of Et)if(lp(ze,Ct))return!0}for(let Ct=0;Ct<ze.length-1;Ct++)if(VZ(ze[Ct],ze[Ct+1],Et))return!0;return!1}(l.cameraQueryGeometry,we-W,Te-W,je+W,Oe+W));for(const we of oe)X.push(we);X.sort(fJ);const ae={};let he;for(let we=0;we<X.length;we++){const Te=X[we];if(Te===he)continue;he=Te;const je=this.featureIndexArray.get(Te);let Oe=null;this.loadMatchingFeature(ae,je.bucketIndex,je.sourceLayerIndex,je.featureIndex,j,C.layers,C.availableImages,d,m,x,(ze,Ve,nt)=>(Oe||(Oe=_f(ze)),Ve.queryIntersectsFeature(B,ze,nt,Oe,this.z,l.transform,P,l.pixelPosMatrix)))}return ae}loadMatchingFeature(l,d,m,x,C,P,j,B,W,G,X){const te=this.bucketLayerIDs[d];if(P&&!function(we,Te){for(let je=0;je<we.length;je++)if(Te.indexOf(we[je])>=0)return!0;return!1}(P,te))return;const oe=this.sourceLayerCoder.decode(m),ae=this.vtLayers[oe].feature(x);if(C.needGeometry){const we=wf(ae,!0);if(!C.filter(new Cr(this.tileID.overscaledZ),we,this.tileID.canonical))return}else if(!C.filter(new Cr(this.tileID.overscaledZ),ae))return;const he=this.getId(ae,oe);for(let we=0;we<te.length;we++){const Te=te[we];if(P&&P.indexOf(Te)<0)continue;const je=B[Te];if(!je)continue;let Oe={};he&&G&&(Oe=G.getState(je.sourceLayer||"_geojsonTileLayer",he));const ze=q({},W[Te]);ze.paint=SN(ze.paint,je.paint,ae,Oe,j),ze.layout=SN(ze.layout,je.layout,ae,Oe,j);const Ve=!X||X(ae,je,Oe);if(!Ve)continue;const nt=new _N(ae,this.z,this.x,this.y,he);nt.layer=ze;let Ot=l[Te];Ot===void 0&&(Ot=l[Te]=[]),Ot.push({featureIndex:x,feature:nt,intersectionZ:Ve})}}lookupSymbolFeatures(l,d,m,x,C,P,j,B){const W={};this.loadVTLayers();const G=gy(C);for(const X of l)this.loadMatchingFeature(W,m,x,X,G,P,j,B,d);return W}hasLayer(l){for(const d of this.bucketLayerIDs)for(const m of d)if(l===m)return!0;return!1}getId(l,d){let m=l.id;return this.promoteId&&(m=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[d]],typeof m=="boolean"&&(m=Number(m))),m}}function SN(u,l,d,m,x){return K(u,(C,P)=>{const j=l instanceof ap?l.get(P):null;return j&&j.evaluate?j.evaluate(d,m,x):j})}function CN(u){let l=1/0,d=1/0,m=-1/0,x=-1/0;for(const C of u)l=Math.min(l,C.x),d=Math.min(d,C.y),m=Math.max(m,C.x),x=Math.max(x,C.y);return{minX:l,minY:d,maxX:m,maxY:x}}function fJ(u,l){return l-u}function kN(u,l,d,m,x){const C=[];for(let P=0;P<u.length;P++){const j=u[P];let B;for(let W=0;W<j.length-1;W++){let G=j[W],X=j[W+1];G.x<l&&X.x<l||(G.x<l?G=new b(l,G.y+(l-G.x)/(X.x-G.x)*(X.y-G.y))._round():X.x<l&&(X=new b(l,G.y+(l-G.x)/(X.x-G.x)*(X.y-G.y))._round()),G.y<d&&X.y<d||(G.y<d?G=new b(G.x+(d-G.y)/(X.y-G.y)*(X.x-G.x),d)._round():X.y<d&&(X=new b(G.x+(d-G.y)/(X.y-G.y)*(X.x-G.x),d)._round()),G.x>=m&&X.x>=m||(G.x>=m?G=new b(m,G.y+(m-G.x)/(X.x-G.x)*(X.y-G.y))._round():X.x>=m&&(X=new b(m,G.y+(m-G.x)/(X.x-G.x)*(X.y-G.y))._round()),G.y>=x&&X.y>=x||(G.y>=x?G=new b(G.x+(x-G.y)/(X.y-G.y)*(X.x-G.x),x)._round():X.y>=x&&(X=new b(G.x+(x-G.y)/(X.y-G.y)*(X.x-G.x),x)._round()),B&&G.equals(B[B.length-1])||(B=[G],C.push(B)),B.push(X)))))}}return C}$t("FeatureIndex",wN,{omit:["rawTileData","sourceLayerCoder"]});class Zu extends b{constructor(l,d,m,x){super(l,d),this.angle=m,x!==void 0&&(this.segment=x)}clone(){return new Zu(this.x,this.y,this.angle,this.segment)}}function TN(u,l,d,m,x){if(l.segment===void 0||d===0)return!0;let C=l,P=l.segment+1,j=0;for(;j>-d/2;){if(P--,P<0)return!1;j-=u[P].dist(C),C=u[P]}j+=u[P].dist(u[P+1]),P++;const B=[];let W=0;for(;j<d/2;){const G=u[P],X=u[P+1];if(!X)return!1;let te=u[P-1].angleTo(G)-G.angleTo(X);for(te=Math.abs((te+3*Math.PI)%(2*Math.PI)-Math.PI),B.push({distance:j,angleDelta:te}),W+=te;j-B[0].distance>m;)W-=B.shift().angleDelta;if(W>x)return!1;P++,j+=G.dist(X)}return!0}function EN(u){let l=0;for(let d=0;d<u.length-1;d++)l+=u[d].dist(u[d+1]);return l}function PN(u,l,d){return u?.6*l*d:0}function ON(u,l){return Math.max(u?u.right-u.left:0,l?l.right-l.left:0)}function hJ(u,l,d,m,x,C){const P=PN(d,x,C),j=ON(d,m)*C;let B=0;const W=EN(u)/2;for(let G=0;G<u.length-1;G++){const X=u[G],te=u[G+1],oe=X.dist(te);if(B+oe>W){const ae=(W-B)/oe,he=Zo.number(X.x,te.x,ae),we=Zo.number(X.y,te.y,ae),Te=new Zu(he,we,te.angleTo(X),G);return Te._round(),!P||TN(u,Te,j,P,l)?Te:void 0}B+=oe}}function pJ(u,l,d,m,x,C,P,j,B){const W=PN(m,C,P),G=ON(m,x),X=G*P,te=u[0].x===0||u[0].x===B||u[0].y===0||u[0].y===B;return l-X<l/4&&(l=X+l/4),MN(u,te?l/2*j%l:(G/2+2*C)*P*j%l,l,W,d,X,te,!1,B)}function MN(u,l,d,m,x,C,P,j,B){const W=C/2,G=EN(u);let X=0,te=l-d,oe=[];for(let ae=0;ae<u.length-1;ae++){const he=u[ae],we=u[ae+1],Te=he.dist(we),je=we.angleTo(he);for(;te+d<X+Te;){te+=d;const Oe=(te-X)/Te,ze=Zo.number(he.x,we.x,Oe),Ve=Zo.number(he.y,we.y,Oe);if(ze>=0&&ze<B&&Ve>=0&&Ve<B&&te-W>=0&&te+W<=G){const nt=new Zu(ze,Ve,je,ae);nt._round(),m&&!TN(u,nt,C,m,x)||oe.push(nt)}}X+=Te}return j||oe.length||P||(oe=MN(u,X/2,d,m,x,C,P,!0,B)),oe}$t("Anchor",Zu);const gp=ta;function AN(u,l,d,m){const x=[],C=u.image,P=C.pixelRatio,j=C.paddedRect.w-2*gp,B=C.paddedRect.h-2*gp,W=u.right-u.left,G=u.bottom-u.top,X=C.stretchX||[[0,j]],te=C.stretchY||[[0,B]],oe=(yt,Dt)=>yt+Dt[1]-Dt[0],ae=X.reduce(oe,0),he=te.reduce(oe,0),we=j-ae,Te=B-he;let je=0,Oe=ae,ze=0,Ve=he,nt=0,Ot=we,Ft=0,Et=Te;if(C.content&&m){const yt=C.content;je=$_(X,0,yt[0]),ze=$_(te,0,yt[1]),Oe=$_(X,yt[0],yt[2]),Ve=$_(te,yt[1],yt[3]),nt=yt[0]-je,Ft=yt[1]-ze,Ot=yt[2]-yt[0]-Oe,Et=yt[3]-yt[1]-Ve}const Ct=(yt,Dt,_t,ft)=>{const en=R_(yt.stretch-je,Oe,W,u.left),Wt=D_(yt.fixed-nt,Ot,yt.stretch,ae),_n=R_(Dt.stretch-ze,Ve,G,u.top),Tr=D_(Dt.fixed-Ft,Et,Dt.stretch,he),Ar=R_(_t.stretch-je,Oe,W,u.left),ki=D_(_t.fixed-nt,Ot,_t.stretch,ae),Ca=R_(ft.stretch-ze,Ve,G,u.top),Po=D_(ft.fixed-Ft,Et,ft.stretch,he),yi=new b(en,_n),Wi=new b(Ar,_n),to=new b(Ar,Ca),Oo=new b(en,Ca),Mo=new b(Wt/P,Tr/P),Ti=new b(ki/P,Po/P),Ei=l*Math.PI/180;if(Ei){const po=Math.sin(Ei),na=Math.cos(Ei),ra=[na,-po,po,na];yi._matMult(ra),Wi._matMult(ra),Oo._matMult(ra),to._matMult(ra)}const ho=yt.stretch+yt.fixed,Ao=Dt.stretch+Dt.fixed;return{tl:yi,tr:Wi,bl:Oo,br:to,tex:{x:C.paddedRect.x+gp+ho,y:C.paddedRect.y+gp+Ao,w:_t.stretch+_t.fixed-ho,h:ft.stretch+ft.fixed-Ao},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Mo,pixelOffsetBR:Ti,minFontScaleX:Ot/P/W,minFontScaleY:Et/P/G,isSDF:d}};if(m&&(C.stretchX||C.stretchY)){const yt=IN(X,we,ae),Dt=IN(te,Te,he);for(let _t=0;_t<yt.length-1;_t++){const ft=yt[_t],en=yt[_t+1];for(let Wt=0;Wt<Dt.length-1;Wt++)x.push(Ct(ft,Dt[Wt],en,Dt[Wt+1]))}}else x.push(Ct({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:j+1},{fixed:0,stretch:B+1}));return x}function $_(u,l,d){let m=0;for(const x of u)m+=Math.max(l,Math.min(d,x[1]))-Math.max(l,Math.min(d,x[0]));return m}function IN(u,l,d){const m=[{fixed:-gp,stretch:0}];for(const[x,C]of u){const P=m[m.length-1];m.push({fixed:x-P.stretch,stretch:P.stretch}),m.push({fixed:x-P.stretch,stretch:P.stretch+(C-x)})}return m.push({fixed:l+gp,stretch:d}),m}function R_(u,l,d,m){return u/l*d+m}function D_(u,l,d,m){return u-l*d/m}class j_{constructor(l,d,m,x,C,P,j,B,W,G){if(this.boxStartIndex=l.length,W){let X=P.top,te=P.bottom;const oe=P.collisionPadding;oe&&(X-=oe[1],te+=oe[3]);let ae=te-X;ae>0&&(ae=Math.max(10,ae),this.circleDiameter=ae)}else{let X=P.top*j-B[0],te=P.bottom*j+B[2],oe=P.left*j-B[3],ae=P.right*j+B[1];const he=P.collisionPadding;if(he&&(oe-=he[0]*j,X-=he[1]*j,ae+=he[2]*j,te+=he[3]*j),G){const we=new b(oe,X),Te=new b(ae,X),je=new b(oe,te),Oe=new b(ae,te),ze=G*Math.PI/180;we._rotate(ze),Te._rotate(ze),je._rotate(ze),Oe._rotate(ze),oe=Math.min(we.x,Te.x,je.x,Oe.x),ae=Math.max(we.x,Te.x,je.x,Oe.x),X=Math.min(we.y,Te.y,je.y,Oe.y),te=Math.max(we.y,Te.y,je.y,Oe.y)}l.emplaceBack(d.x,d.y,oe,X,ae,te,m,x,C)}this.boxEndIndex=l.length}}class mJ{constructor(l=[],d=gJ){if(this.data=l,this.length=this.data.length,this.compare=d,this.length>0)for(let m=(this.length>>1)-1;m>=0;m--)this._down(m)}push(l){this.data.push(l),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const l=this.data[0],d=this.data.pop();return this.length--,this.length>0&&(this.data[0]=d,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:d,compare:m}=this,x=d[l];for(;l>0;){const C=l-1>>1,P=d[C];if(m(x,P)>=0)break;d[l]=P,l=C}d[l]=x}_down(l){const{data:d,compare:m}=this,x=this.length>>1,C=d[l];for(;l<x;){let P=1+(l<<1),j=d[P];const B=P+1;if(B<this.length&&m(d[B],j)<0&&(P=B,j=d[B]),m(j,C)>=0)break;d[l]=j,l=P}d[l]=C}}function gJ(u,l){return u<l?-1:u>l?1:0}function yJ(u,l=1,d=!1){let m=1/0,x=1/0,C=-1/0,P=-1/0;const j=u[0];for(let oe=0;oe<j.length;oe++){const ae=j[oe];(!oe||ae.x<m)&&(m=ae.x),(!oe||ae.y<x)&&(x=ae.y),(!oe||ae.x>C)&&(C=ae.x),(!oe||ae.y>P)&&(P=ae.y)}const B=Math.min(C-m,P-x);let W=B/2;const G=new mJ([],vJ);if(B===0)return new b(m,x);for(let oe=m;oe<C;oe+=B)for(let ae=x;ae<P;ae+=B)G.push(new yp(oe+W,ae+W,W,u));let X=function(oe){let ae=0,he=0,we=0;const Te=oe[0];for(let je=0,Oe=Te.length,ze=Oe-1;je<Oe;ze=je++){const Ve=Te[je],nt=Te[ze],Ot=Ve.x*nt.y-nt.x*Ve.y;he+=(Ve.x+nt.x)*Ot,we+=(Ve.y+nt.y)*Ot,ae+=3*Ot}return new yp(he/ae,we/ae,0,oe)}(u),te=G.length;for(;G.length;){const oe=G.pop();(oe.d>X.d||!X.d)&&(X=oe,d&&console.log("found best %d after %d probes",Math.round(1e4*oe.d)/1e4,te)),oe.max-X.d<=l||(W=oe.h/2,G.push(new yp(oe.p.x-W,oe.p.y-W,W,u)),G.push(new yp(oe.p.x+W,oe.p.y-W,W,u)),G.push(new yp(oe.p.x-W,oe.p.y+W,W,u)),G.push(new yp(oe.p.x+W,oe.p.y+W,W,u)),te+=4)}return d&&(console.log(`num probes: ${te}`),console.log(`best distance: ${X.d}`)),X.p}function vJ(u,l){return l.max-u.max}function yp(u,l,d,m){this.p=new b(u,l),this.h=d,this.d=function(x,C){let P=!1,j=1/0;for(let B=0;B<C.length;B++){const W=C[B];for(let G=0,X=W.length,te=X-1;G<X;te=G++){const oe=W[G],ae=W[te];oe.y>x.y!=ae.y>x.y&&x.x<(ae.x-oe.x)*(x.y-oe.y)/(ae.y-oe.y)+oe.x&&(P=!P),j=Math.min(j,pL(x,oe,ae))}}return(P?1:-1)*Math.sqrt(j)}(this.p,m),this.max=this.d+this.h*Math.SQRT2}var eo;a.aq=void 0,(eo=a.aq||(a.aq={}))[eo.center=1]="center",eo[eo.left=2]="left",eo[eo.right=3]="right",eo[eo.top=4]="top",eo[eo.bottom=5]="bottom",eo[eo["top-left"]=6]="top-left",eo[eo["top-right"]=7]="top-right",eo[eo["bottom-left"]=8]="bottom-left",eo[eo["bottom-right"]=9]="bottom-right";const Xu=7,KT=Number.POSITIVE_INFINITY;function $N(u,l){return l[1]!==KT?function(d,m,x){let C=0,P=0;switch(m=Math.abs(m),x=Math.abs(x),d){case"top-right":case"top-left":case"top":P=x-Xu;break;case"bottom-right":case"bottom-left":case"bottom":P=-x+Xu}switch(d){case"top-right":case"bottom-right":case"right":C=-m;break;case"top-left":case"bottom-left":case"left":C=m}return[C,P]}(u,l[0],l[1]):function(d,m){let x=0,C=0;m<0&&(m=0);const P=m/Math.SQRT2;switch(d){case"top-right":case"top-left":C=P-Xu;break;case"bottom-right":case"bottom-left":C=-P+Xu;break;case"bottom":C=-m+Xu;break;case"top":C=m-Xu}switch(d){case"top-right":case"bottom-right":x=-P;break;case"top-left":case"bottom-left":x=P;break;case"left":x=m;break;case"right":x=-m}return[x,C]}(u,l[0])}function RN(u,l,d){var m;const x=u.layout,C=(m=x.get("text-variable-anchor-offset"))===null||m===void 0?void 0:m.evaluate(l,{},d);if(C){const j=C.values,B=[];for(let W=0;W<j.length;W+=2){const G=B[W]=j[W],X=j[W+1].map(te=>te*Ci);G.startsWith("top")?X[1]-=Xu:G.startsWith("bottom")&&(X[1]+=Xu),B[W+1]=X}return new va(B)}const P=x.get("text-variable-anchor");if(P){let j;j=u._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[x.get("text-radial-offset").evaluate(l,{},d)*Ci,KT]:x.get("text-offset").evaluate(l,{},d).map(W=>W*Ci);const B=[];for(const W of P)B.push(W,$N(W,j));return new va(B)}return null}function ZT(u){switch(u){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function bJ(u,l,d,m,x,C,P,j,B,W,G){let X=C.textMaxSize.evaluate(l,{});X===void 0&&(X=P);const te=u.layers[0].layout,oe=te.get("icon-offset").evaluate(l,{},G),ae=jN(d.horizontal),he=P/24,we=u.tilePixelRatio*he,Te=u.tilePixelRatio*X/24,je=u.tilePixelRatio*j,Oe=u.tilePixelRatio*te.get("symbol-spacing"),ze=te.get("text-padding")*u.tilePixelRatio,Ve=function(ft,en,Wt,_n=1){const Tr=ft.get("icon-padding").evaluate(en,{},Wt),Ar=Tr&&Tr.values;return[Ar[0]*_n,Ar[1]*_n,Ar[2]*_n,Ar[3]*_n]}(te,l,G,u.tilePixelRatio),nt=te.get("text-max-angle")/180*Math.PI,Ot=te.get("text-rotation-alignment")!=="viewport"&&te.get("symbol-placement")!=="point",Ft=te.get("icon-rotation-alignment")==="map"&&te.get("symbol-placement")!=="point",Et=te.get("symbol-placement"),Ct=Oe/2,yt=te.get("icon-text-fit");let Dt;m&&yt!=="none"&&(u.allowVerticalPlacement&&d.vertical&&(Dt=iN(m,d.vertical,yt,te.get("icon-text-fit-padding"),oe,he)),ae&&(m=iN(m,ae,yt,te.get("icon-text-fit-padding"),oe,he)));const _t=(ft,en)=>{en.x<0||en.x>=gi||en.y<0||en.y>=gi||function(Wt,_n,Tr,Ar,ki,Ca,Po,yi,Wi,to,Oo,Mo,Ti,Ei,ho,Ao,po,na,ra,Pi,In,mo,no,Oi,Ss){const cl=Wt.addToLineVertexArray(_n,Tr);let ul,Rc,Cs,qa,ia=0,Dc=0,ev=0,BN=0,iE=-1,oE=-1;const jc={};let FN=Mc("");if(Wt.allowVerticalPlacement&&Ar.vertical){const go=yi.layout.get("text-rotate").evaluate(In,{},Oi)+90;Cs=new j_(Wi,_n,to,Oo,Mo,Ar.vertical,Ti,Ei,ho,go),Po&&(qa=new j_(Wi,_n,to,Oo,Mo,Po,po,na,ho,go))}if(ki){const go=yi.layout.get("icon-rotate").evaluate(In,{}),Ha=yi.layout.get("icon-text-fit")!=="none",Cf=AN(ki,go,no,Ha),fl=Po?AN(Po,go,no,Ha):void 0;Rc=new j_(Wi,_n,to,Oo,Mo,ki,po,na,!1,go),ia=4*Cf.length;const kf=Wt.iconSizeData;let Yl=null;kf.kind==="source"?(Yl=[Gl*yi.layout.get("icon-size").evaluate(In,{})],Yl[0]>Yu&&de(`${Wt.layerIds[0]}: Value for "icon-size" is >= ${Zy}. Reduce your "icon-size".`)):kf.kind==="composite"&&(Yl=[Gl*mo.compositeIconSizes[0].evaluate(In,{},Oi),Gl*mo.compositeIconSizes[1].evaluate(In,{},Oi)],(Yl[0]>Yu||Yl[1]>Yu)&&de(`${Wt.layerIds[0]}: Value for "icon-size" is >= ${Zy}. Reduce your "icon-size".`)),Wt.addSymbols(Wt.icon,Cf,Yl,Pi,ra,In,a.ai.none,_n,cl.lineStartIndex,cl.lineLength,-1,Oi),iE=Wt.icon.placedSymbolArray.length-1,fl&&(Dc=4*fl.length,Wt.addSymbols(Wt.icon,fl,Yl,Pi,ra,In,a.ai.vertical,_n,cl.lineStartIndex,cl.lineLength,-1,Oi),oE=Wt.icon.placedSymbolArray.length-1)}const UN=Object.keys(Ar.horizontal);for(const go of UN){const Ha=Ar.horizontal[go];if(!ul){FN=Mc(Ha.text);const fl=yi.layout.get("text-rotate").evaluate(In,{},Oi);ul=new j_(Wi,_n,to,Oo,Mo,Ha,Ti,Ei,ho,fl)}const Cf=Ha.positionedLines.length===1;if(ev+=DN(Wt,_n,Ha,Ca,yi,ho,In,Ao,cl,Ar.vertical?a.ai.horizontal:a.ai.horizontalOnly,Cf?UN:[go],jc,iE,mo,Oi),Cf)break}Ar.vertical&&(BN+=DN(Wt,_n,Ar.vertical,Ca,yi,ho,In,Ao,cl,a.ai.vertical,["vertical"],jc,oE,mo,Oi));const wJ=ul?ul.boxStartIndex:Wt.collisionBoxArray.length,SJ=ul?ul.boxEndIndex:Wt.collisionBoxArray.length,CJ=Cs?Cs.boxStartIndex:Wt.collisionBoxArray.length,kJ=Cs?Cs.boxEndIndex:Wt.collisionBoxArray.length,TJ=Rc?Rc.boxStartIndex:Wt.collisionBoxArray.length,EJ=Rc?Rc.boxEndIndex:Wt.collisionBoxArray.length,PJ=qa?qa.boxStartIndex:Wt.collisionBoxArray.length,OJ=qa?qa.boxEndIndex:Wt.collisionBoxArray.length;let dl=-1;const N_=(go,Ha)=>go&&go.circleDiameter?Math.max(go.circleDiameter,Ha):Ha;dl=N_(ul,dl),dl=N_(Cs,dl),dl=N_(Rc,dl),dl=N_(qa,dl);const VN=dl>-1?1:0;VN&&(dl*=Ss/Ci),Wt.glyphOffsetArray.length>=mp.MAX_GLYPHS&&de("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),In.sortKey!==void 0&&Wt.addToSortKeyRanges(Wt.symbolInstances.length,In.sortKey);const MJ=RN(yi,In,Oi),[AJ,IJ]=function(go,Ha){const Cf=go.length,fl=Ha==null?void 0:Ha.values;if((fl==null?void 0:fl.length)>0)for(let kf=0;kf<fl.length;kf+=2){const Yl=fl[kf+1];go.emplaceBack(a.aq[fl[kf]],Yl[0],Yl[1])}return[Cf,go.length]}(Wt.textAnchorOffsets,MJ);Wt.symbolInstances.emplaceBack(_n.x,_n.y,jc.right>=0?jc.right:-1,jc.center>=0?jc.center:-1,jc.left>=0?jc.left:-1,jc.vertical||-1,iE,oE,FN,wJ,SJ,CJ,kJ,TJ,EJ,PJ,OJ,to,ev,BN,ia,Dc,VN,0,Ti,dl,AJ,IJ)}(u,en,ft,d,m,x,Dt,u.layers[0],u.collisionBoxArray,l.index,l.sourceLayerIndex,u.index,we,[ze,ze,ze,ze],Ot,B,je,Ve,Ft,oe,l,C,W,G,P)};if(Et==="line")for(const ft of kN(l.geometry,0,0,gi,gi)){const en=pJ(ft,Oe,nt,d.vertical||ae,m,24,Te,u.overscaling,gi);for(const Wt of en)ae&&xJ(u,ae.text,Ct,Wt)||_t(ft,Wt)}else if(Et==="line-center"){for(const ft of l.geometry)if(ft.length>1){const en=hJ(ft,nt,d.vertical||ae,m,24,Te);en&&_t(ft,en)}}else if(l.type==="Polygon")for(const ft of PT(l.geometry,0)){const en=yJ(ft,16);_t(ft[0],new Zu(en.x,en.y,0))}else if(l.type==="LineString")for(const ft of l.geometry)_t(ft,new Zu(ft[0].x,ft[0].y,0));else if(l.type==="Point")for(const ft of l.geometry)for(const en of ft)_t([en],new Zu(en.x,en.y,0))}function DN(u,l,d,m,x,C,P,j,B,W,G,X,te,oe,ae){const he=function(je,Oe,ze,Ve,nt,Ot,Ft,Et){const Ct=Ve.layout.get("text-rotate").evaluate(Ot,{})*Math.PI/180,yt=[];for(const Dt of Oe.positionedLines)for(const _t of Dt.positionedGlyphs){if(!_t.rect)continue;const ft=_t.rect||{};let en=XL+1,Wt=!0,_n=1,Tr=0;const Ar=(nt||Et)&&_t.vertical,ki=_t.metrics.advance*_t.scale/2;if(Et&&Oe.verticalizable&&(Tr=Dt.lineOffset/2-(_t.imageName?-(Ci-_t.metrics.width*_t.scale)/2:(_t.scale-1)*Ci)),_t.imageName){const Pi=Ft[_t.imageName];Wt=Pi.sdf,_n=Pi.pixelRatio,en=ta/_n}const Ca=nt?[_t.x+ki,_t.y]:[0,0];let Po=nt?[0,0]:[_t.x+ki+ze[0],_t.y+ze[1]-Tr],yi=[0,0];Ar&&(yi=Po,Po=[0,0]);const Wi=_t.metrics.isDoubleResolution?2:1,to=(_t.metrics.left-en)*_t.scale-ki+Po[0],Oo=(-_t.metrics.top-en)*_t.scale+Po[1],Mo=to+ft.w/Wi*_t.scale/_n,Ti=Oo+ft.h/Wi*_t.scale/_n,Ei=new b(to,Oo),ho=new b(Mo,Oo),Ao=new b(to,Ti),po=new b(Mo,Ti);if(Ar){const Pi=new b(-ki,ki-Yy),In=-Math.PI/2,mo=Ci/2-ki,no=new b(5-Yy-mo,-(_t.imageName?mo:0)),Oi=new b(...yi);Ei._rotateAround(In,Pi)._add(no)._add(Oi),ho._rotateAround(In,Pi)._add(no)._add(Oi),Ao._rotateAround(In,Pi)._add(no)._add(Oi),po._rotateAround(In,Pi)._add(no)._add(Oi)}if(Ct){const Pi=Math.sin(Ct),In=Math.cos(Ct),mo=[In,-Pi,Pi,In];Ei._matMult(mo),ho._matMult(mo),Ao._matMult(mo),po._matMult(mo)}const na=new b(0,0),ra=new b(0,0);yt.push({tl:Ei,tr:ho,bl:Ao,br:po,tex:ft,writingMode:Oe.writingMode,glyphOffset:Ca,sectionIndex:_t.sectionIndex,isSDF:Wt,pixelOffsetTL:na,pixelOffsetBR:ra,minFontScaleX:0,minFontScaleY:0})}return yt}(0,d,j,x,C,P,m,u.allowVerticalPlacement),we=u.textSizeData;let Te=null;we.kind==="source"?(Te=[Gl*x.layout.get("text-size").evaluate(P,{})],Te[0]>Yu&&de(`${u.layerIds[0]}: Value for "text-size" is >= ${Zy}. Reduce your "text-size".`)):we.kind==="composite"&&(Te=[Gl*oe.compositeTextSizes[0].evaluate(P,{},ae),Gl*oe.compositeTextSizes[1].evaluate(P,{},ae)],(Te[0]>Yu||Te[1]>Yu)&&de(`${u.layerIds[0]}: Value for "text-size" is >= ${Zy}. Reduce your "text-size".`)),u.addSymbols(u.text,he,Te,j,C,P,W,l,B.lineStartIndex,B.lineLength,te,ae);for(const je of G)X[je]=u.text.placedSymbolArray.length-1;return 4*he.length}function jN(u){for(const l in u)return u[l];return null}function xJ(u,l,d,m){const x=u.compareText;if(l in x){const C=x[l];for(let P=C.length-1;P>=0;P--)if(m.dist(C[P])<d)return!0}else x[l]=[];return x[l].push(m),!1}const LN=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class XT{static from(l){if(!(l instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[d,m]=new Uint8Array(l,0,2);if(d!==219)throw new Error("Data does not appear to be in a KDBush format.");const x=m>>4;if(x!==1)throw new Error(`Got v${x} data when expected v1.`);const C=LN[15&m];if(!C)throw new Error("Unrecognized array type.");const[P]=new Uint16Array(l,2,1),[j]=new Uint32Array(l,4,1);return new XT(j,P,C,l)}constructor(l,d=64,m=Float64Array,x){if(isNaN(l)||l<0)throw new Error(`Unpexpected numItems value: ${l}.`);this.numItems=+l,this.nodeSize=Math.min(Math.max(+d,2),65535),this.ArrayType=m,this.IndexArrayType=l<65536?Uint16Array:Uint32Array;const C=LN.indexOf(this.ArrayType),P=2*l*this.ArrayType.BYTES_PER_ELEMENT,j=l*this.IndexArrayType.BYTES_PER_ELEMENT,B=(8-j%8)%8;if(C<0)throw new Error(`Unexpected typed array class: ${m}.`);x&&x instanceof ArrayBuffer?(this.data=x,this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+j+B,2*l),this._pos=2*l,this._finished=!0):(this.data=new ArrayBuffer(8+P+j+B),this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+j+B,2*l),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+C]),new Uint16Array(this.data,2,1)[0]=d,new Uint32Array(this.data,4,1)[0]=l)}add(l,d){const m=this._pos>>1;return this.ids[m]=m,this.coords[this._pos++]=l,this.coords[this._pos++]=d,m}finish(){const l=this._pos>>1;if(l!==this.numItems)throw new Error(`Added ${l} items when expected ${this.numItems}.`);return JT(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(l,d,m,x){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:C,coords:P,nodeSize:j}=this,B=[0,C.length-1,0],W=[];for(;B.length;){const G=B.pop()||0,X=B.pop()||0,te=B.pop()||0;if(X-te<=j){for(let we=te;we<=X;we++){const Te=P[2*we],je=P[2*we+1];Te>=l&&Te<=m&&je>=d&&je<=x&&W.push(C[we])}continue}const oe=te+X>>1,ae=P[2*oe],he=P[2*oe+1];ae>=l&&ae<=m&&he>=d&&he<=x&&W.push(C[oe]),(G===0?l<=ae:d<=he)&&(B.push(te),B.push(oe-1),B.push(1-G)),(G===0?m>=ae:x>=he)&&(B.push(oe+1),B.push(X),B.push(1-G))}return W}within(l,d,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:x,coords:C,nodeSize:P}=this,j=[0,x.length-1,0],B=[],W=m*m;for(;j.length;){const G=j.pop()||0,X=j.pop()||0,te=j.pop()||0;if(X-te<=P){for(let we=te;we<=X;we++)zN(C[2*we],C[2*we+1],l,d)<=W&&B.push(x[we]);continue}const oe=te+X>>1,ae=C[2*oe],he=C[2*oe+1];zN(ae,he,l,d)<=W&&B.push(x[oe]),(G===0?l-m<=ae:d-m<=he)&&(j.push(te),j.push(oe-1),j.push(1-G)),(G===0?l+m>=ae:d+m>=he)&&(j.push(oe+1),j.push(X),j.push(1-G))}return B}}function JT(u,l,d,m,x,C){if(x-m<=d)return;const P=m+x>>1;NN(u,l,P,m,x,C),JT(u,l,d,m,P-1,1-C),JT(u,l,d,P+1,x,1-C)}function NN(u,l,d,m,x,C){for(;x>m;){if(x-m>600){const W=x-m+1,G=d-m+1,X=Math.log(W),te=.5*Math.exp(2*X/3),oe=.5*Math.sqrt(X*te*(W-te)/W)*(G-W/2<0?-1:1);NN(u,l,d,Math.max(m,Math.floor(d-G*te/W+oe)),Math.min(x,Math.floor(d+(W-G)*te/W+oe)),C)}const P=l[2*d+C];let j=m,B=x;for(Jy(u,l,m,d),l[2*x+C]>P&&Jy(u,l,m,x);j<B;){for(Jy(u,l,j,B),j++,B--;l[2*j+C]<P;)j++;for(;l[2*B+C]>P;)B--}l[2*m+C]===P?Jy(u,l,m,B):(B++,Jy(u,l,B,x)),B<=d&&(m=B+1),d<=B&&(x=B-1)}}function Jy(u,l,d,m){QT(u,d,m),QT(l,2*d,2*m),QT(l,2*d+1,2*m+1)}function QT(u,l,d){const m=u[l];u[l]=u[d],u[d]=m}function zN(u,l,d,m){const x=u-d,C=l-m;return x*x+C*C}var eE;a.bh=void 0,(eE=a.bh||(a.bh={})).create="create",eE.load="load",eE.fullLoad="fullLoad";let L_=null,Qy=[];const tE=1e3/60,nE="loadTime",rE="fullLoadTime",_J={mark(u){performance.mark(u)},frame(u){const l=u;L_!=null&&Qy.push(l-L_),L_=l},clearMetrics(){L_=null,Qy=[],performance.clearMeasures(nE),performance.clearMeasures(rE);for(const u in a.bh)performance.clearMarks(a.bh[u])},getPerformanceMetrics(){performance.measure(nE,a.bh.create,a.bh.load),performance.measure(rE,a.bh.create,a.bh.fullLoad);const u=performance.getEntriesByName(nE)[0].duration,l=performance.getEntriesByName(rE)[0].duration,d=Qy.length,m=1/(Qy.reduce((C,P)=>C+P,0)/d/1e3),x=Qy.filter(C=>C>tE).reduce((C,P)=>C+(P-tE)/tE,0);return{loadTime:u,fullLoadTime:l,fps:m,percentDroppedFrames:x/(d+x)*100,totalFrames:d}}};a.$=function(u,l,d){var m,x,C,P,j,B,W,G,X,te,oe,ae,he=d[0],we=d[1],Te=d[2];return l===u?(u[12]=l[0]*he+l[4]*we+l[8]*Te+l[12],u[13]=l[1]*he+l[5]*we+l[9]*Te+l[13],u[14]=l[2]*he+l[6]*we+l[10]*Te+l[14],u[15]=l[3]*he+l[7]*we+l[11]*Te+l[15]):(x=l[1],C=l[2],P=l[3],j=l[4],B=l[5],W=l[6],G=l[7],X=l[8],te=l[9],oe=l[10],ae=l[11],u[0]=m=l[0],u[1]=x,u[2]=C,u[3]=P,u[4]=j,u[5]=B,u[6]=W,u[7]=G,u[8]=X,u[9]=te,u[10]=oe,u[11]=ae,u[12]=m*he+j*we+X*Te+l[12],u[13]=x*he+B*we+te*Te+l[13],u[14]=C*he+W*we+oe*Te+l[14],u[15]=P*he+G*we+ae*Te+l[15]),u},a.A=cp,a.B=Zo,a.C=class{constructor(u,l,d){this.receive=m=>{const x=m.data,C=x.id;if(C&&(!x.targetMapId||this.mapId===x.targetMapId))if(x.type==="<cancel>"){delete this.tasks[C];const P=this.cancelCallbacks[C];delete this.cancelCallbacks[C],P&&P()}else be()||x.mustQueue?(this.tasks[C]=x,this.taskQueue.push(C),this.invoker.trigger()):this.processTask(C,x)},this.process=()=>{if(!this.taskQueue.length)return;const m=this.taskQueue.shift(),x=this.tasks[m];delete this.tasks[m],this.taskQueue.length&&this.invoker.trigger(),x&&this.processTask(m,x)},this.target=u,this.parent=l,this.mapId=d,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new dJ(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=be()?u:window}send(u,l,d,m,x=!1){const C=Math.round(1e18*Math.random()).toString(36).substring(0,10);d&&(this.callbacks[C]=d);const P=[],j={id:C,type:u,hasCallback:!!d,targetMapId:m,mustQueue:x,sourceMapId:this.mapId,data:Wl(l,P)};return this.target.postMessage(j,{transfer:P}),{cancel:()=>{d&&delete this.callbacks[C],this.target.postMessage({id:C,type:"<cancel>",targetMapId:m,sourceMapId:this.mapId})}}}processTask(u,l){if(l.type==="<response>"){const d=this.callbacks[u];delete this.callbacks[u],d&&(l.error?d(Uu(l.error)):d(null,Uu(l.data)))}else{let d=!1;const m=[],x=l.hasCallback?(j,B)=>{d=!0,delete this.cancelCallbacks[u];const W={id:u,type:"<response>",sourceMapId:this.mapId,error:j?Wl(j):null,data:Wl(B,m)};this.target.postMessage(W,{transfer:m})}:j=>{d=!0};let C=null;const P=Uu(l.data);if(this.parent[l.type])C=this.parent[l.type](l.sourceMapId,P,x);else if("getWorkerSource"in this.parent){const j=l.type.split(".");C=this.parent.getWorkerSource(l.sourceMapId,j[0],P.source)[j[1]](P,x)}else x(new Error(`Could not find function ${l.type}`));!d&&C&&C.cancel&&(this.cancelCallbacks[u]=C.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},a.D=Ht,a.E=Kn,a.F=function(u,l){const d={};for(let m=0;m<l.length;m++){const x=l[m];x in u&&(d[x]=u[x])}return d},a.G=hN,a.H=pN,a.I=NT,a.J=O,a.K=I,a.L=Ku,a.M=Xe,a.N=gi,a.O=Wa,a.P=b,a.Q=Lr,a.R=Va,a.S=kr,a.T=f_,a.U=I_,a.V=class extends Pc{},a.W=YT,a.X=function(u,l){const d=window.document.createElement("video");d.muted=!0,d.onloadstart=function(){l(null,d)};for(let m=0;m<u.length;m++){const x=window.document.createElement("source");Mt(u[m])||(d.crossOrigin="Anonymous"),x.src=u[m],d.appendChild(x)}return{cancel:()=>{}}},a.Y=dt,a.Z=function(){var u=new cp(16);return cp!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=0,u[12]=0,u[13]=0,u[14]=0),u[0]=1,u[5]=1,u[10]=1,u[15]=1,u},a._=f,a.a=Ee,a.a$=class extends ie{},a.a0=function(u,l,d){var m=d[0],x=d[1],C=d[2];return u[0]=l[0]*m,u[1]=l[1]*m,u[2]=l[2]*m,u[3]=l[3]*m,u[4]=l[4]*x,u[5]=l[5]*x,u[6]=l[6]*x,u[7]=l[7]*x,u[8]=l[8]*C,u[9]=l[9]*C,u[10]=l[10]*C,u[11]=l[11]*C,u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15],u},a.a1=vL,a.a2=function(){return J++},a.a3=xe,a.a4=mp,a.a5=function(){Qo.isLoading()||Qo.isLoaded()||Ey()!=="deferred"||d_()},a.a6=gy,a.a7=wf,a.a8=Cr,a.a9=_N,a.aA=gf,a.aB=function(u){u=u.slice();const l=Object.create(null);for(let d=0;d<u.length;d++)l[u[d].id]=u[d];for(let d=0;d<u.length;d++)"ref"in u[d]&&(u[d]=wn(u[d],l[u[d].ref]));return u},a.aC=function(u){if(u.type==="custom")return new uJ(u);switch(u.type){case"background":return new sJ(u);case"circle":return new HZ(u);case"fill":return new fX(u);case"fill-extrusion":return new EX(u);case"heatmap":return new YZ(u);case"hillshade":return new ZZ(u);case"line":return new DX(u);case"raster":return new cJ(u);case"symbol":return new A_(u)}},a.aD=le,a.aE=function(u,l){if(!u)return[{command:Rt.setStyle,args:[l]}];let d=[];try{if(!an(u.version,l.version))return[{command:Rt.setStyle,args:[l]}];an(u.center,l.center)||d.push({command:Rt.setCenter,args:[l.center]}),an(u.zoom,l.zoom)||d.push({command:Rt.setZoom,args:[l.zoom]}),an(u.bearing,l.bearing)||d.push({command:Rt.setBearing,args:[l.bearing]}),an(u.pitch,l.pitch)||d.push({command:Rt.setPitch,args:[l.pitch]}),an(u.sprite,l.sprite)||d.push({command:Rt.setSprite,args:[l.sprite]}),an(u.glyphs,l.glyphs)||d.push({command:Rt.setGlyphs,args:[l.glyphs]}),an(u.transition,l.transition)||d.push({command:Rt.setTransition,args:[l.transition]}),an(u.light,l.light)||d.push({command:Rt.setLight,args:[l.light]});const m={},x=[];(function(P,j,B,W){let G;for(G in j=j||{},P=P||{})Object.prototype.hasOwnProperty.call(P,G)&&(Object.prototype.hasOwnProperty.call(j,G)||Qn(G,B,W));for(G in j)Object.prototype.hasOwnProperty.call(j,G)&&(Object.prototype.hasOwnProperty.call(P,G)?an(P[G],j[G])||(P[G].type==="geojson"&&j[G].type==="geojson"&&Mn(P,j,G)?B.push({command:Rt.setGeoJSONSourceData,args:[G,j[G].data]}):yr(G,j,B,W)):Un(G,j,B))})(u.sources,l.sources,x,m);const C=[];u.layers&&u.layers.forEach(P=>{m[P.source]?d.push({command:Rt.removeLayer,args:[P.id]}):C.push(P)}),d=d.concat(x),function(P,j,B){j=j||[];const W=(P=P||[]).map(er),G=j.map(er),X=P.reduce(Xr,{}),te=j.reduce(Xr,{}),oe=W.slice(),ae=Object.create(null);let he,we,Te,je,Oe,ze,Ve;for(he=0,we=0;he<W.length;he++)Te=W[he],Object.prototype.hasOwnProperty.call(te,Te)?we++:(B.push({command:Rt.removeLayer,args:[Te]}),oe.splice(oe.indexOf(Te,we),1));for(he=0,we=0;he<G.length;he++)Te=G[G.length-1-he],oe[oe.length-1-he]!==Te&&(Object.prototype.hasOwnProperty.call(X,Te)?(B.push({command:Rt.removeLayer,args:[Te]}),oe.splice(oe.lastIndexOf(Te,oe.length-we),1)):we++,ze=oe[oe.length-he],B.push({command:Rt.addLayer,args:[te[Te],ze]}),oe.splice(oe.length-he,0,Te),ae[Te]=!0);for(he=0;he<G.length;he++)if(Te=G[he],je=X[Te],Oe=te[Te],!ae[Te]&&!an(je,Oe))if(an(je.source,Oe.source)&&an(je["source-layer"],Oe["source-layer"])&&an(je.type,Oe.type)){for(Ve in Zt(je.layout,Oe.layout,B,Te,null,Rt.setLayoutProperty),Zt(je.paint,Oe.paint,B,Te,null,Rt.setPaintProperty),an(je.filter,Oe.filter)||B.push({command:Rt.setFilter,args:[Te,Oe.filter]}),an(je.minzoom,Oe.minzoom)&&an(je.maxzoom,Oe.maxzoom)||B.push({command:Rt.setLayerZoomRange,args:[Te,Oe.minzoom,Oe.maxzoom]}),je)Object.prototype.hasOwnProperty.call(je,Ve)&&Ve!=="layout"&&Ve!=="paint"&&Ve!=="filter"&&Ve!=="metadata"&&Ve!=="minzoom"&&Ve!=="maxzoom"&&(Ve.indexOf("paint.")===0?Zt(je[Ve],Oe[Ve],B,Te,Ve.slice(6),Rt.setPaintProperty):an(je[Ve],Oe[Ve])||B.push({command:Rt.setLayerProperty,args:[Te,Ve,Oe[Ve]]}));for(Ve in Oe)Object.prototype.hasOwnProperty.call(Oe,Ve)&&!Object.prototype.hasOwnProperty.call(je,Ve)&&Ve!=="layout"&&Ve!=="paint"&&Ve!=="filter"&&Ve!=="metadata"&&Ve!=="minzoom"&&Ve!=="maxzoom"&&(Ve.indexOf("paint.")===0?Zt(je[Ve],Oe[Ve],B,Te,Ve.slice(6),Rt.setPaintProperty):an(je[Ve],Oe[Ve])||B.push({command:Rt.setLayerProperty,args:[Te,Ve,Oe[Ve]]}))}else B.push({command:Rt.removeLayer,args:[Te]}),ze=oe[oe.lastIndexOf(Te)+1],B.push({command:Rt.addLayer,args:[Oe,ze]})}(C,l.layers,d)}catch(m){console.warn("Unable to compute style diff:",m),d=[{command:Rt.setStyle,args:[l]}]}return d},a.aF=function(u){const l=[],d=u.id;return d===void 0&&l.push({message:`layers.${d}: missing required property "id"`}),u.render===void 0&&l.push({message:`layers.${d}: missing required method "render"`}),u.renderingMode&&u.renderingMode!=="2d"&&u.renderingMode!=="3d"&&l.push({message:`layers.${d}: property "renderingMode" must be either "2d" or "3d"`}),l},a.aG=function u(l,d){if(Array.isArray(l)){if(!Array.isArray(d)||l.length!==d.length)return!1;for(let m=0;m<l.length;m++)if(!u(l[m],d[m]))return!1;return!0}if(typeof l=="object"&&l!==null&&d!==null){if(typeof d!="object"||Object.keys(l).length!==Object.keys(d).length)return!1;for(const m in l)if(!u(l[m],d[m]))return!1;return!0}return l===d},a.aH=K,a.aI=ne,a.aJ=yf,a.aK=function(u){return u({pluginStatus:ko,pluginURL:ql}),yf.on("pluginStateChange",u),u},a.aL=class extends Ac{constructor(u,l){super(u,l),this.current=0}set(u){this.current!==u&&(this.current=u,this.gl.uniform1i(this.location,u))}},a.aM=sp,a.aN=class extends Ac{constructor(u,l){super(u,l),this.current=gT}set(u){if(u[12]!==this.current[12]||u[0]!==this.current[0])return this.current=u,void this.gl.uniformMatrix4fv(this.location,!1,u);for(let l=1;l<16;l++)if(u[l]!==this.current[l]){this.current=u,this.gl.uniformMatrix4fv(this.location,!1,u);break}}},a.aO=g_,a.aP=class extends Ac{constructor(u,l){super(u,l),this.current=[0,0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]||(this.current=u,this.gl.uniform3f(this.location,u[0],u[1],u[2]))}},a.aQ=class extends Ac{constructor(u,l){super(u,l),this.current=[0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]||(this.current=u,this.gl.uniform2f(this.location,u[0],u[1]))}},a.aR=y_,a.aS=function(u,l,d,m,x,C,P){var j=1/(l-d),B=1/(m-x),W=1/(C-P);return u[0]=-2*j,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*B,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2*W,u[11]=0,u[12]=(l+d)*j,u[13]=(x+m)*B,u[14]=(P+C)*W,u[15]=1,u},a.aT=rr,a.aU=qZ,a.aV=class extends v{},a.aW=zX,a.aX=class extends k{},a.aY=function(u){return u<=1?1:Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))},a.aZ=SL,a.a_=mt,a.aa=function(u){const l={};if(u.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(d,m,x,C)=>{const P=x||C;return l[m]=!P||P.toLowerCase(),""}),l["max-age"]){const d=parseInt(l["max-age"],10);isNaN(d)?delete l["max-age"]:l["max-age"]=d}return l},a.ab=function(u,l){const d=[];for(const m in u)m in l||d.push(m);return d},a.ac=function(u){if(ce==null){const l=u.navigator?u.navigator.userAgent:null;ce=!!u.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return ce},a.ad=D,a.ae=function(u,l,d){var m=Math.sin(d),x=Math.cos(d),C=l[0],P=l[1],j=l[2],B=l[3],W=l[4],G=l[5],X=l[6],te=l[7];return l!==u&&(u[8]=l[8],u[9]=l[9],u[10]=l[10],u[11]=l[11],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15]),u[0]=C*x+W*m,u[1]=P*x+G*m,u[2]=j*x+X*m,u[3]=B*x+te*m,u[4]=W*x-C*m,u[5]=G*x-P*m,u[6]=X*x-j*m,u[7]=te*x-B*m,u},a.af=function(u){var l=new cp(16);return l[0]=u[0],l[1]=u[1],l[2]=u[2],l[3]=u[3],l[4]=u[4],l[5]=u[5],l[6]=u[6],l[7]=u[7],l[8]=u[8],l[9]=u[9],l[10]=u[10],l[11]=u[11],l[12]=u[12],l[13]=u[13],l[14]=u[14],l[15]=u[15],l},a.ag=__,a.ah=function(u,l){let d=0,m=0;if(u.kind==="constant")m=u.layoutSize;else if(u.kind!=="source"){const{interpolationType:x,minZoom:C,maxZoom:P}=u,j=x?D(Xo.interpolationFactor(x,l,C,P),0,1):0;u.kind==="camera"?m=Zo.number(u.minSize,u.maxSize,j):d=j}return{uSizeT:d,uSize:m}},a.aj=function(u,{uSize:l,uSizeT:d},{lowerSize:m,upperSize:x}){return u.kind==="source"?m/Gl:u.kind==="composite"?Zo.number(m/Gl,x/Gl,d):l},a.ak=UT,a.al=function(u,l,d,m){const x=l.y-u.y,C=l.x-u.x,P=m.y-d.y,j=m.x-d.x,B=P*C-j*x;if(B===0)return null;const W=(j*(u.y-d.y)-P*(u.x-d.x))/B;return new b(u.x+W*C,u.y+W*x)},a.am=kN,a.an=fL,a.ao=_T,a.ap=Ci,a.ar=FT,a.as=function(u,l){var d=l[0],m=l[1],x=l[2],C=l[3],P=l[4],j=l[5],B=l[6],W=l[7],G=l[8],X=l[9],te=l[10],oe=l[11],ae=l[12],he=l[13],we=l[14],Te=l[15],je=d*j-m*P,Oe=d*B-x*P,ze=d*W-C*P,Ve=m*B-x*j,nt=m*W-C*j,Ot=x*W-C*B,Ft=G*he-X*ae,Et=G*we-te*ae,Ct=G*Te-oe*ae,yt=X*we-te*he,Dt=X*Te-oe*he,_t=te*Te-oe*we,ft=je*_t-Oe*Dt+ze*yt+Ve*Ct-nt*Et+Ot*Ft;return ft?(u[0]=(j*_t-B*Dt+W*yt)*(ft=1/ft),u[1]=(x*Dt-m*_t-C*yt)*ft,u[2]=(he*Ot-we*nt+Te*Ve)*ft,u[3]=(te*nt-X*Ot-oe*Ve)*ft,u[4]=(B*Ct-P*_t-W*Et)*ft,u[5]=(d*_t-x*Ct+C*Et)*ft,u[6]=(we*ze-ae*Ot-Te*Oe)*ft,u[7]=(G*Ot-te*ze+oe*Oe)*ft,u[8]=(P*Dt-j*Ct+W*Ft)*ft,u[9]=(m*Ct-d*Dt-C*Ft)*ft,u[10]=(ae*nt-he*ze+Te*je)*ft,u[11]=(X*ze-G*nt-oe*je)*ft,u[12]=(j*Et-P*yt-B*Ft)*ft,u[13]=(d*yt-m*Et+x*Ft)*ft,u[14]=(he*Oe-ae*Ve-we*je)*ft,u[15]=(G*Ve-X*Oe+te*je)*ft,u):null},a.at=ZT,a.au=BT,a.av=XT,a.aw=function(){const u={},l=Be.$version;for(const d in Be.$root){const m=Be.$root[d];if(m.required){let x=null;x=d==="version"?l:m.type==="array"?[]:{},x!=null&&(u[d]=x)}}return u},a.ax=Rt,a.ay=s_,a.az=Ye,a.b=function(u,l){const d=new Blob([new Uint8Array(u)],{type:"image/png"});createImageBitmap(d).then(m=>{l(null,m)}).catch(m=>{l(new Error(`Could not load image because of ${m.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},a.b0=Ui,a.b1=function(u,l){var d=u[0],m=u[1],x=u[2],C=u[3],P=u[4],j=u[5],B=u[6],W=u[7],G=u[8],X=u[9],te=u[10],oe=u[11],ae=u[12],he=u[13],we=u[14],Te=u[15],je=l[0],Oe=l[1],ze=l[2],Ve=l[3],nt=l[4],Ot=l[5],Ft=l[6],Et=l[7],Ct=l[8],yt=l[9],Dt=l[10],_t=l[11],ft=l[12],en=l[13],Wt=l[14],_n=l[15];return Math.abs(d-je)<=Eo*Math.max(1,Math.abs(d),Math.abs(je))&&Math.abs(m-Oe)<=Eo*Math.max(1,Math.abs(m),Math.abs(Oe))&&Math.abs(x-ze)<=Eo*Math.max(1,Math.abs(x),Math.abs(ze))&&Math.abs(C-Ve)<=Eo*Math.max(1,Math.abs(C),Math.abs(Ve))&&Math.abs(P-nt)<=Eo*Math.max(1,Math.abs(P),Math.abs(nt))&&Math.abs(j-Ot)<=Eo*Math.max(1,Math.abs(j),Math.abs(Ot))&&Math.abs(B-Ft)<=Eo*Math.max(1,Math.abs(B),Math.abs(Ft))&&Math.abs(W-Et)<=Eo*Math.max(1,Math.abs(W),Math.abs(Et))&&Math.abs(G-Ct)<=Eo*Math.max(1,Math.abs(G),Math.abs(Ct))&&Math.abs(X-yt)<=Eo*Math.max(1,Math.abs(X),Math.abs(yt))&&Math.abs(te-Dt)<=Eo*Math.max(1,Math.abs(te),Math.abs(Dt))&&Math.abs(oe-_t)<=Eo*Math.max(1,Math.abs(oe),Math.abs(_t))&&Math.abs(ae-ft)<=Eo*Math.max(1,Math.abs(ae),Math.abs(ft))&&Math.abs(he-en)<=Eo*Math.max(1,Math.abs(he),Math.abs(en))&&Math.abs(we-Wt)<=Eo*Math.max(1,Math.abs(we),Math.abs(Wt))&&Math.abs(Te-_n)<=Eo*Math.max(1,Math.abs(Te),Math.abs(_n))},a.b2=function(u,l){return u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[4]=l[4],u[5]=l[5],u[6]=l[6],u[7]=l[7],u[8]=l[8],u[9]=l[9],u[10]=l[10],u[11]=l[11],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15],u},a.b3=function(u,l,d){return u[0]=l[0]*d[0],u[1]=l[1]*d[1],u[2]=l[2]*d[2],u[3]=l[3]*d[3],u},a.b4=function(u,l){return u[0]*l[0]+u[1]*l[1]+u[2]*l[2]+u[3]*l[3]},a.b5=F,a.b6=vN,a.b7=mN,a.b8=function(u,l,d,m,x){var C,P=1/Math.tan(l/2);return u[0]=P/d,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=P,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=-1,u[12]=0,u[13]=0,u[15]=0,x!=null&&x!==1/0?(u[10]=(x+m)*(C=1/(m-x)),u[14]=2*x*m*C):(u[10]=-1,u[14]=-2*m),u},a.b9=function(u,l,d){var m=Math.sin(d),x=Math.cos(d),C=l[4],P=l[5],j=l[6],B=l[7],W=l[8],G=l[9],X=l[10],te=l[11];return l!==u&&(u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15]),u[4]=C*x+W*m,u[5]=P*x+G*m,u[6]=j*x+X*m,u[7]=B*x+te*m,u[8]=W*x-C*m,u[9]=G*x-P*m,u[10]=X*x-j*m,u[11]=te*x-B*m,u},a.bA=g,a.bB=WL,a.bC=Zh,a.bD=Qo,a.ba=L,a.bb=R,a.bc=function(u,l){return u[0]=l[0],u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=l[1],u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=l[2],u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},a.bd=class extends xf{},a.be=HT,a.bf=gN,a.bg=_J,a.bi=bt,a.bj=function(u,l,d=!1){if(ko===wy||ko===Sy||ko===Cy)throw new Error("setRTLTextPlugin cannot be called multiple times.");ql=Je.resolveURL(u),ko=wy,ky=l,Ty(),d||d_()},a.bk=Ey,a.bl=function(u,l){const d={};for(let x=0;x<u.length;x++){const C=l&&l[u[x].id]||ep(u[x]);l&&(l[u[x].id]=C);let P=d[C];P||(P=d[C]=[]),P.push(u[x])}const m=[];for(const x in d)m.push(d[x]);return m},a.bm=$t,a.bn=xN,a.bo=wN,a.bp=QL,a.bq=function(u){u.bucket.createArrays(),u.bucket.tilePixelRatio=gi/(512*u.bucket.overscaling),u.bucket.compareText={},u.bucket.iconsNeedLinear=!1;const l=u.bucket.layers[0],d=l.layout,m=l._unevaluatedLayout._values,x={layoutIconSize:m["icon-size"].possiblyEvaluate(new Cr(u.bucket.zoom+1),u.canonical),layoutTextSize:m["text-size"].possiblyEvaluate(new Cr(u.bucket.zoom+1),u.canonical),textMaxSize:m["text-size"].possiblyEvaluate(new Cr(18))};if(u.bucket.textSizeData.kind==="composite"){const{minZoom:W,maxZoom:G}=u.bucket.textSizeData;x.compositeTextSizes=[m["text-size"].possiblyEvaluate(new Cr(W),u.canonical),m["text-size"].possiblyEvaluate(new Cr(G),u.canonical)]}if(u.bucket.iconSizeData.kind==="composite"){const{minZoom:W,maxZoom:G}=u.bucket.iconSizeData;x.compositeIconSizes=[m["icon-size"].possiblyEvaluate(new Cr(W),u.canonical),m["icon-size"].possiblyEvaluate(new Cr(G),u.canonical)]}const C=d.get("text-line-height")*Ci,P=d.get("text-rotation-alignment")!=="viewport"&&d.get("symbol-placement")!=="point",j=d.get("text-keep-upright"),B=d.get("text-size");for(const W of u.bucket.features){const G=d.get("text-font").evaluate(W,{},u.canonical).join(","),X=B.evaluate(W,{},u.canonical),te=x.layoutTextSize.evaluate(W,{},u.canonical),oe=x.layoutIconSize.evaluate(W,{},u.canonical),ae={horizontal:{},vertical:void 0},he=W.text;let we,Te=[0,0];if(he){const ze=he.toString(),Ve=d.get("text-letter-spacing").evaluate(W,{},u.canonical)*Ci,nt=xy(ze)?Ve:0,Ot=d.get("text-anchor").evaluate(W,{},u.canonical),Ft=RN(l,W,u.canonical);if(!Ft){const _t=d.get("text-radial-offset").evaluate(W,{},u.canonical);Te=_t?$N(Ot,[_t*Ci,KT]):d.get("text-offset").evaluate(W,{},u.canonical).map(ft=>ft*Ci)}let Et=P?"center":d.get("text-justify").evaluate(W,{},u.canonical);const Ct=d.get("symbol-placement"),yt=Ct==="point"?d.get("text-max-width").evaluate(W,{},u.canonical)*Ci:0,Dt=()=>{u.bucket.allowVerticalPlacement&&by(ze)&&(ae.vertical=P_(he,u.glyphMap,u.glyphPositions,u.imagePositions,G,yt,C,Ot,"left",nt,Te,a.ai.vertical,!0,Ct,te,X))};if(!P&&Ft){const _t=new Set;if(Et==="auto")for(let en=0;en<Ft.values.length;en+=2)_t.add(ZT(Ft.values[en]));else _t.add(Et);let ft=!1;for(const en of _t)if(!ae.horizontal[en])if(ft)ae.horizontal[en]=ae.horizontal[0];else{const Wt=P_(he,u.glyphMap,u.glyphPositions,u.imagePositions,G,yt,C,"center",en,nt,Te,a.ai.horizontal,!1,Ct,te,X);Wt&&(ae.horizontal[en]=Wt,ft=Wt.positionedLines.length===1)}Dt()}else{Et==="auto"&&(Et=ZT(Ot));const _t=P_(he,u.glyphMap,u.glyphPositions,u.imagePositions,G,yt,C,Ot,Et,nt,Te,a.ai.horizontal,!1,Ct,te,X);_t&&(ae.horizontal[Et]=_t),Dt(),by(ze)&&P&&j&&(ae.vertical=P_(he,u.glyphMap,u.glyphPositions,u.imagePositions,G,yt,C,Ot,Et,nt,Te,a.ai.vertical,!1,Ct,te,X))}}let je=!1;if(W.icon&&W.icon.name){const ze=u.imageMap[W.icon.name];ze&&(we=nJ(u.imagePositions[W.icon.name],d.get("icon-offset").evaluate(W,{},u.canonical),d.get("icon-anchor").evaluate(W,{},u.canonical)),je=!!ze.sdf,u.bucket.sdfIcons===void 0?u.bucket.sdfIcons=je:u.bucket.sdfIcons!==je&&de("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ze.pixelRatio!==u.bucket.pixelRatio||d.get("icon-rotate").constantOr(1)!==0)&&(u.bucket.iconsNeedLinear=!0))}const Oe=jN(ae.horizontal)||ae.vertical;u.bucket.iconsInText=!!Oe&&Oe.iconsInText,(Oe||we)&&bJ(u.bucket,W,ae,we,u.imageMap,x,te,oe,Te,je,u.canonical)}u.showCollisionBoxes&&u.bucket.generateCollisionDebugBuffers()},a.br=RT,a.bs=AT,a.bt=$T,a.bu=class{constructor(u){this._marks={start:[u.url,"start"].join("#"),end:[u.url,"end"].join("#"),measure:u.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let u=performance.getEntriesByName(this._marks.measure);return u.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),u=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),u}},a.bv=jT,a.bw=Hu,a.bx=function(u,l,d,m,x){return f(this,void 0,void 0,function*(){if(I())try{return yield Xe(u,l,d,m,x)}catch{}return function(C,P,j,B,W){const G=C.width,X=C.height;Ae&&Fe||(Ae=new OffscreenCanvas(G,X),Fe=Ae.getContext("2d",{willReadFrequently:!0})),Ae.width=G,Ae.height=X,Fe.drawImage(C,0,0,G,X);const te=Fe.getImageData(P,j,B,W);return Fe.clearRect(0,0,G,X),te.data}(u,l,d,m,x)})},a.by=bN,a.bz=h,a.c=kt,a.d=function(u,l){const d=new Image;d.onload=()=>{l(null,d),URL.revokeObjectURL(d.src),d.onload=null,window.requestAnimationFrame(()=>{d.src=Re})},d.onerror=()=>l(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const m=new Blob([new Uint8Array(u)],{type:"image/png"});d.src=u.byteLength?URL.createObjectURL(m):Re},a.e=q,a.f=function(u,l){return He(q(u,{type:"json"}),l)},a.g=lt,a.h=Je,a.i=be,a.j=vn,a.k=yn,a.l=Tt,a.m=He,a.n=function(u){return new jT(u).readFields(ZX,[])},a.o=function(u,l,d){if(!u.length)return d(null,[]);let m=u.length;const x=new Array(u.length);let C=null;u.forEach((P,j)=>{l(P,(B,W)=>{B&&(C=B),x[j]=W,--m==0&&d(C,x)})})},a.p=JL,a.q=By,a.r=li,a.s=Mt,a.t=fT,a.u=Pt,a.v=Be,a.w=de,a.x=rp,a.y=al,a.z=function([u,l,d]){return l+=90,l*=Math.PI/180,d*=Math.PI/180,{x:u*Math.cos(l)*Math.sin(d),y:u*Math.sin(l)*Math.sin(d),z:u*Math.cos(d)}}}),o(["./shared"],function(a){class f{constructor(Q){this.keyCache={},Q&&this.replace(Q)}replace(Q){this._layerConfigs={},this._layers={},this.update(Q,[])}update(Q,re){for(const _e of Q){this._layerConfigs[_e.id]=_e;const Se=this._layers[_e.id]=a.aC(_e);Se._featureFilter=a.a6(Se.filter),this.keyCache[_e.id]&&delete this.keyCache[_e.id]}for(const _e of re)delete this.keyCache[_e],delete this._layerConfigs[_e],delete this._layers[_e];this.familiesBySource={};const ue=a.bl(Object.values(this._layerConfigs),this.keyCache);for(const _e of ue){const Se=_e.map(Ke=>this._layers[Ke.id]),Ne=Se[0];if(Ne.visibility==="none")continue;const Me=Ne.source||"";let ke=this.familiesBySource[Me];ke||(ke=this.familiesBySource[Me]={});const $e=Ne.sourceLayer||"_geojsonTileLayer";let Ze=ke[$e];Ze||(Ze=ke[$e]=[]),Ze.push(Se)}}}class h{constructor(Q){const re={},ue=[];for(const Me in Q){const ke=Q[Me],$e=re[Me]={};for(const Ze in ke){const Ke=ke[+Ze];if(!Ke||Ke.bitmap.width===0||Ke.bitmap.height===0)continue;const Qe={x:0,y:0,w:Ke.bitmap.width+2,h:Ke.bitmap.height+2};ue.push(Qe),$e[Ze]={rect:Qe,metrics:Ke.metrics}}}const{w:_e,h:Se}=a.p(ue),Ne=new a.q({width:_e||1,height:Se||1});for(const Me in Q){const ke=Q[Me];for(const $e in ke){const Ze=ke[+$e];if(!Ze||Ze.bitmap.width===0||Ze.bitmap.height===0)continue;const Ke=re[Me][$e].rect;a.q.copy(Ze.bitmap,Ne,{x:0,y:0},{x:Ke.x+1,y:Ke.y+1},Ze.bitmap)}}this.image=Ne,this.positions=re}}a.bm("GlyphAtlas",h);class g{constructor(Q){this.tileID=new a.O(Q.tileID.overscaledZ,Q.tileID.wrap,Q.tileID.canonical.z,Q.tileID.canonical.x,Q.tileID.canonical.y),this.uid=Q.uid,this.zoom=Q.zoom,this.pixelRatio=Q.pixelRatio,this.tileSize=Q.tileSize,this.source=Q.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Q.showCollisionBoxes,this.collectResourceTiming=!!Q.collectResourceTiming,this.returnDependencies=!!Q.returnDependencies,this.promoteId=Q.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(Q,re,ue,_e,Se){this.status="parsing",this.data=Q,this.collisionBoxArray=new a.a3;const Ne=new a.bn(Object.keys(Q.layers).sort()),Me=new a.bo(this.tileID,this.promoteId);Me.bucketLayerIDs=[];const ke={},$e={featureIndex:Me,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:ue},Ze=re.familiesBySource[this.source];for(const Dn in Ze){const An=Q.layers[Dn];if(!An)continue;An.version===1&&a.w(`Vector tile source "${this.source}" layer "${Dn}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const ji=Ne.encode(Dn),ur=[];for(let cn=0;cn<An.length;cn++){const tr=An.feature(cn),ya=Me.getId(tr,Dn);ur.push({feature:tr,id:ya,index:cn,sourceLayerIndex:ji})}for(const cn of Ze[Dn]){const tr=cn[0];tr.source!==this.source&&a.w(`layer.source = ${tr.source} does not equal this.source = ${this.source}`),tr.minzoom&&this.zoom<Math.floor(tr.minzoom)||tr.maxzoom&&this.zoom>=tr.maxzoom||tr.visibility!=="none"&&(y(cn,this.zoom,ue),(ke[tr.id]=tr.createBucket({index:Me.bucketLayerIDs.length,layers:cn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:ji,sourceID:this.source})).populate(ur,$e,this.tileID.canonical),Me.bucketLayerIDs.push(cn.map(ya=>ya.id)))}}let Ke,Qe,Xt,sn;const jt=a.aH($e.glyphDependencies,Dn=>Object.keys(Dn).map(Number));this.inFlightDependencies.forEach(Dn=>Dn==null?void 0:Dn.cancel()),this.inFlightDependencies=[];const Jt=++this.dependencySentinel;Object.keys(jt).length?this.inFlightDependencies.push(_e.send("getGlyphs",{uid:this.uid,stacks:jt,source:this.source,tileID:this.tileID,type:"glyphs"},(Dn,An)=>{Jt===this.dependencySentinel&&(Ke||(Ke=Dn,Qe=An,Zn.call(this)))})):Qe={};const mn=Object.keys($e.iconDependencies);mn.length?this.inFlightDependencies.push(_e.send("getImages",{icons:mn,source:this.source,tileID:this.tileID,type:"icons"},(Dn,An)=>{Jt===this.dependencySentinel&&(Ke||(Ke=Dn,Xt=An,Zn.call(this)))})):Xt={};const Bn=Object.keys($e.patternDependencies);function Zn(){if(Ke)return Se(Ke);if(Qe&&Xt&&sn){const Dn=new h(Qe),An=new a.bp(Xt,sn);for(const ji in ke){const ur=ke[ji];ur instanceof a.a4?(y(ur.layers,this.zoom,ue),a.bq({bucket:ur,glyphMap:Qe,glyphPositions:Dn.positions,imageMap:Xt,imagePositions:An.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):ur.hasPattern&&(ur instanceof a.br||ur instanceof a.bs||ur instanceof a.bt)&&(y(ur.layers,this.zoom,ue),ur.addFeatures($e,this.tileID.canonical,An.patternPositions))}this.status="done",Se(null,{buckets:Object.values(ke).filter(ji=>!ji.isEmpty()),featureIndex:Me,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Dn.image,imageAtlas:An,glyphMap:this.returnDependencies?Qe:null,iconMap:this.returnDependencies?Xt:null,glyphPositions:this.returnDependencies?Dn.positions:null})}}Bn.length?this.inFlightDependencies.push(_e.send("getImages",{icons:Bn,source:this.source,tileID:this.tileID,type:"patterns"},(Dn,An)=>{Jt===this.dependencySentinel&&(Ke||(Ke=Dn,sn=An,Zn.call(this)))})):sn={},Zn.call(this)}}function y(ve,Q,re){const ue=new a.a8(Q);for(const _e of ve)_e.recalculate(ue,re)}function b(ve,Q){const re=a.l(ve.request,(ue,_e,Se,Ne)=>{if(ue)Q(ue);else if(_e)try{const Me=new a.bw.VectorTile(new a.bv(_e));Q(null,{vectorTile:Me,rawData:_e,cacheControl:Se,expires:Ne})}catch(Me){const ke=new Uint8Array(_e);let $e=`Unable to parse the tile at ${ve.request.url}, `;$e+=ke[0]===31&&ke[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Me.messge}`,Q(new Error($e))}});return()=>{re.cancel(),Q()}}class E{constructor(Q,re,ue,_e){this.actor=Q,this.layerIndex=re,this.availableImages=ue,this.loadVectorData=_e||b,this.fetching={},this.loading={},this.loaded={}}loadTile(Q,re){const ue=Q.uid;this.loading||(this.loading={});const _e=!!(Q&&Q.request&&Q.request.collectResourceTiming)&&new a.bu(Q.request),Se=this.loading[ue]=new g(Q);Se.abort=this.loadVectorData(Q,(Ne,Me)=>{if(delete this.loading[ue],Ne||!Me)return Se.status="done",this.loaded[ue]=Se,re(Ne);const ke=Me.rawData,$e={};Me.expires&&($e.expires=Me.expires),Me.cacheControl&&($e.cacheControl=Me.cacheControl);const Ze={};if(_e){const Ke=_e.finish();Ke&&(Ze.resourceTiming=JSON.parse(JSON.stringify(Ke)))}Se.vectorTile=Me.vectorTile,Se.parse(Me.vectorTile,this.layerIndex,this.availableImages,this.actor,(Ke,Qe)=>{if(delete this.fetching[ue],Ke||!Qe)return re(Ke);re(null,a.e({rawTileData:ke.slice(0)},Qe,$e,Ze))}),this.loaded=this.loaded||{},this.loaded[ue]=Se,this.fetching[ue]={rawTileData:ke,cacheControl:$e,resourceTiming:Ze}})}reloadTile(Q,re){const ue=this.loaded,_e=Q.uid;if(ue&&ue[_e]){const Se=ue[_e];Se.showCollisionBoxes=Q.showCollisionBoxes,Se.status==="parsing"?Se.parse(Se.vectorTile,this.layerIndex,this.availableImages,this.actor,(Ne,Me)=>{if(Ne||!Me)return re(Ne,Me);let ke;if(this.fetching[_e]){const{rawTileData:$e,cacheControl:Ze,resourceTiming:Ke}=this.fetching[_e];delete this.fetching[_e],ke=a.e({rawTileData:$e.slice(0)},Me,Ze,Ke)}else ke=Me;re(null,ke)}):Se.status==="done"&&(Se.vectorTile?Se.parse(Se.vectorTile,this.layerIndex,this.availableImages,this.actor,re):re())}}abortTile(Q,re){const ue=this.loading,_e=Q.uid;ue&&ue[_e]&&ue[_e].abort&&(ue[_e].abort(),delete ue[_e]),re()}removeTile(Q,re){const ue=this.loaded,_e=Q.uid;ue&&ue[_e]&&delete ue[_e],re()}}class T{constructor(){this.loaded={}}loadTile(Q,re){return a._(this,void 0,void 0,function*(){const{uid:ue,encoding:_e,rawImageData:Se,redFactor:Ne,greenFactor:Me,blueFactor:ke,baseShift:$e}=Q,Ze=Se.width+2,Ke=Se.height+2,Qe=a.a(Se)?new a.R({width:Ze,height:Ke},yield a.bx(Se,-1,-1,Ze,Ke)):Se,Xt=new a.by(ue,Qe,_e,Ne,Me,ke,$e);this.loaded=this.loaded||{},this.loaded[ue]=Xt,re(null,Xt)})}removeTile(Q){const re=this.loaded,ue=Q.uid;re&&re[ue]&&delete re[ue]}}function w(ve,Q){if(ve.length!==0){M(ve[0],Q);for(var re=1;re<ve.length;re++)M(ve[re],!Q)}}function M(ve,Q){for(var re=0,ue=0,_e=0,Se=ve.length,Ne=Se-1;_e<Se;Ne=_e++){var Me=(ve[_e][0]-ve[Ne][0])*(ve[Ne][1]+ve[_e][1]),ke=re+Me;ue+=Math.abs(re)>=Math.abs(Me)?re-ke+Me:Me-ke+re,re=ke}re+ue>=0!=!!Q&&ve.reverse()}var A=a.bz(function ve(Q,re){var ue,_e=Q&&Q.type;if(_e==="FeatureCollection")for(ue=0;ue<Q.features.length;ue++)ve(Q.features[ue],re);else if(_e==="GeometryCollection")for(ue=0;ue<Q.geometries.length;ue++)ve(Q.geometries[ue],re);else if(_e==="Feature")ve(Q.geometry,re);else if(_e==="Polygon")w(Q.coordinates,re);else if(_e==="MultiPolygon")for(ue=0;ue<Q.coordinates.length;ue++)w(Q.coordinates[ue],re);return Q});const O=a.bw.VectorTileFeature.prototype.toGeoJSON;var I={exports:{}},L=a.bA,R=a.bw.VectorTileFeature,D=F;function F(ve,Q){this.options=Q||{},this.features=ve,this.length=ve.length}function q(ve,Q){this.id=typeof ve.id=="number"?ve.id:void 0,this.type=ve.type,this.rawGeometry=ve.type===1?[ve.geometry]:ve.geometry,this.properties=ve.tags,this.extent=Q||4096}F.prototype.feature=function(ve){return new q(this.features[ve],this.options.extent)},q.prototype.loadGeometry=function(){var ve=this.rawGeometry;this.geometry=[];for(var Q=0;Q<ve.length;Q++){for(var re=ve[Q],ue=[],_e=0;_e<re.length;_e++)ue.push(new L(re[_e][0],re[_e][1]));this.geometry.push(ue)}return this.geometry},q.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ve=this.geometry,Q=1/0,re=-1/0,ue=1/0,_e=-1/0,Se=0;Se<ve.length;Se++)for(var Ne=ve[Se],Me=0;Me<Ne.length;Me++){var ke=Ne[Me];Q=Math.min(Q,ke.x),re=Math.max(re,ke.x),ue=Math.min(ue,ke.y),_e=Math.max(_e,ke.y)}return[Q,ue,re,_e]},q.prototype.toGeoJSON=R.prototype.toGeoJSON;var J=a.bB,K=D;function ne(ve){var Q=new J;return function(re,ue){for(var _e in re.layers)ue.writeMessage(3,le,re.layers[_e])}(ve,Q),Q.finish()}function le(ve,Q){var re;Q.writeVarintField(15,ve.version||1),Q.writeStringField(1,ve.name||""),Q.writeVarintField(5,ve.extent||4096);var ue={keys:[],values:[],keycache:{},valuecache:{}};for(re=0;re<ve.length;re++)ue.feature=ve.feature(re),Q.writeMessage(2,ye,ue);var _e=ue.keys;for(re=0;re<_e.length;re++)Q.writeStringField(3,_e[re]);var Se=ue.values;for(re=0;re<Se.length;re++)Q.writeMessage(4,ce,Se[re])}function ye(ve,Q){var re=ve.feature;re.id!==void 0&&Q.writeVarintField(1,re.id),Q.writeMessage(2,de,ve),Q.writeVarintField(3,re.type),Q.writeMessage(4,be,re)}function de(ve,Q){var re=ve.feature,ue=ve.keys,_e=ve.values,Se=ve.keycache,Ne=ve.valuecache;for(var Me in re.properties){var ke=re.properties[Me],$e=Se[Me];if(ke!==null){$e===void 0&&(ue.push(Me),Se[Me]=$e=ue.length-1),Q.writeVarint($e);var Ze=typeof ke;Ze!=="string"&&Ze!=="boolean"&&Ze!=="number"&&(ke=JSON.stringify(ke));var Ke=Ze+":"+ke,Qe=Ne[Ke];Qe===void 0&&(_e.push(ke),Ne[Ke]=Qe=_e.length-1),Q.writeVarint(Qe)}}}function se(ve,Q){return(Q<<3)+(7&ve)}function pe(ve){return ve<<1^ve>>31}function be(ve,Q){for(var re=ve.loadGeometry(),ue=ve.type,_e=0,Se=0,Ne=re.length,Me=0;Me<Ne;Me++){var ke=re[Me],$e=1;ue===1&&($e=ke.length),Q.writeVarint(se(1,$e));for(var Ze=ue===3?ke.length-1:ke.length,Ke=0;Ke<Ze;Ke++){Ke===1&&ue!==1&&Q.writeVarint(se(2,Ze-1));var Qe=ke[Ke].x-_e,Xt=ke[Ke].y-Se;Q.writeVarint(pe(Qe)),Q.writeVarint(pe(Xt)),_e+=Qe,Se+=Xt}ue===3&&Q.writeVarint(se(7,1))}}function ce(ve,Q){var re=typeof ve;re==="string"?Q.writeStringField(1,ve):re==="boolean"?Q.writeBooleanField(7,ve):re==="number"&&(ve%1!=0?Q.writeDoubleField(3,ve):ve<0?Q.writeSVarintField(6,ve):Q.writeVarintField(5,ve))}I.exports=ne,I.exports.fromVectorTileJs=ne,I.exports.fromGeojsonVt=function(ve,Q){Q=Q||{};var re={};for(var ue in ve)re[ue]=new K(ve[ue].features,Q),re[ue].name=ue,re[ue].version=Q.version,re[ue].extent=Q.extent;return ne({layers:re})},I.exports.GeoJSONWrapper=K;var Ee=a.bz(I.exports);const Re={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ve=>ve},Xe=Math.fround||(Ae=new Float32Array(1),ve=>(Ae[0]=+ve,Ae[0]));var Ae;const Fe=3,qe=5,rt=6;class Je{constructor(Q){this.options=Object.assign(Object.create(Re),Q),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(Q){const{log:re,minZoom:ue,maxZoom:_e}=this.options;re&&console.time("total time");const Se=`prepare ${Q.length} points`;re&&console.time(Se),this.points=Q;const Ne=[];for(let ke=0;ke<Q.length;ke++){const $e=Q[ke];if(!$e.geometry)continue;const[Ze,Ke]=$e.geometry.coordinates,Qe=Xe(Ye(Ze)),Xt=Xe(lt(Ke));Ne.push(Qe,Xt,1/0,ke,-1,1),this.options.reduce&&Ne.push(0)}let Me=this.trees[_e+1]=this._createTree(Ne);re&&console.timeEnd(Se);for(let ke=_e;ke>=ue;ke--){const $e=+Date.now();Me=this.trees[ke]=this._createTree(this._cluster(Me,ke)),re&&console.log("z%d: %d clusters in %dms",ke,Me.numItems,+Date.now()-$e)}return re&&console.timeEnd("total time"),this}getClusters(Q,re){let ue=((Q[0]+180)%360+360)%360-180;const _e=Math.max(-90,Math.min(90,Q[1]));let Se=Q[2]===180?180:((Q[2]+180)%360+360)%360-180;const Ne=Math.max(-90,Math.min(90,Q[3]));if(Q[2]-Q[0]>=360)ue=-180,Se=180;else if(ue>Se){const Ke=this.getClusters([ue,_e,180,Ne],re),Qe=this.getClusters([-180,_e,Se,Ne],re);return Ke.concat(Qe)}const Me=this.trees[this._limitZoom(re)],ke=Me.range(Ye(ue),lt(Ne),Ye(Se),lt(_e)),$e=Me.data,Ze=[];for(const Ke of ke){const Qe=this.stride*Ke;Ze.push($e[Qe+qe]>1?kt($e,Qe,this.clusterProps):this.points[$e[Qe+Fe]])}return Ze}getChildren(Q){const re=this._getOriginId(Q),ue=this._getOriginZoom(Q),_e="No cluster with the specified id.",Se=this.trees[ue];if(!Se)throw new Error(_e);const Ne=Se.data;if(re*this.stride>=Ne.length)throw new Error(_e);const Me=this.options.radius/(this.options.extent*Math.pow(2,ue-1)),ke=Se.within(Ne[re*this.stride],Ne[re*this.stride+1],Me),$e=[];for(const Ze of ke){const Ke=Ze*this.stride;Ne[Ke+4]===Q&&$e.push(Ne[Ke+qe]>1?kt(Ne,Ke,this.clusterProps):this.points[Ne[Ke+Fe]])}if($e.length===0)throw new Error(_e);return $e}getLeaves(Q,re,ue){const _e=[];return this._appendLeaves(_e,Q,re=re||10,ue=ue||0,0),_e}getTile(Q,re,ue){const _e=this.trees[this._limitZoom(Q)],Se=Math.pow(2,Q),{extent:Ne,radius:Me}=this.options,ke=Me/Ne,$e=(ue-ke)/Se,Ze=(ue+1+ke)/Se,Ke={features:[]};return this._addTileFeatures(_e.range((re-ke)/Se,$e,(re+1+ke)/Se,Ze),_e.data,re,ue,Se,Ke),re===0&&this._addTileFeatures(_e.range(1-ke/Se,$e,1,Ze),_e.data,Se,ue,Se,Ke),re===Se-1&&this._addTileFeatures(_e.range(0,$e,ke/Se,Ze),_e.data,-1,ue,Se,Ke),Ke.features.length?Ke:null}getClusterExpansionZoom(Q){let re=this._getOriginZoom(Q)-1;for(;re<=this.options.maxZoom;){const ue=this.getChildren(Q);if(re++,ue.length!==1)break;Q=ue[0].properties.cluster_id}return re}_appendLeaves(Q,re,ue,_e,Se){const Ne=this.getChildren(re);for(const Me of Ne){const ke=Me.properties;if(ke&&ke.cluster?Se+ke.point_count<=_e?Se+=ke.point_count:Se=this._appendLeaves(Q,ke.cluster_id,ue,_e,Se):Se<_e?Se++:Q.push(Me),Q.length===ue)break}return Se}_createTree(Q){const re=new a.av(Q.length/this.stride|0,this.options.nodeSize,Float32Array);for(let ue=0;ue<Q.length;ue+=this.stride)re.add(Q[ue],Q[ue+1]);return re.finish(),re.data=Q,re}_addTileFeatures(Q,re,ue,_e,Se,Ne){for(const Me of Q){const ke=Me*this.stride,$e=re[ke+qe]>1;let Ze,Ke,Qe;if($e)Ze=bt(re,ke,this.clusterProps),Ke=re[ke],Qe=re[ke+1];else{const jt=this.points[re[ke+Fe]];Ze=jt.properties;const[Jt,mn]=jt.geometry.coordinates;Ke=Ye(Jt),Qe=lt(mn)}const Xt={type:1,geometry:[[Math.round(this.options.extent*(Ke*Se-ue)),Math.round(this.options.extent*(Qe*Se-_e))]],tags:Ze};let sn;sn=$e||this.options.generateId?re[ke+Fe]:this.points[re[ke+Fe]].id,sn!==void 0&&(Xt.id=sn),Ne.features.push(Xt)}}_limitZoom(Q){return Math.max(this.options.minZoom,Math.min(Math.floor(+Q),this.options.maxZoom+1))}_cluster(Q,re){const{radius:ue,extent:_e,reduce:Se,minPoints:Ne}=this.options,Me=ue/(_e*Math.pow(2,re)),ke=Q.data,$e=[],Ze=this.stride;for(let Ke=0;Ke<ke.length;Ke+=Ze){if(ke[Ke+2]<=re)continue;ke[Ke+2]=re;const Qe=ke[Ke],Xt=ke[Ke+1],sn=Q.within(ke[Ke],ke[Ke+1],Me),jt=ke[Ke+qe];let Jt=jt;for(const mn of sn){const Bn=mn*Ze;ke[Bn+2]>re&&(Jt+=ke[Bn+qe])}if(Jt>jt&&Jt>=Ne){let mn,Bn=Qe*jt,Zn=Xt*jt,Dn=-1;const An=((Ke/Ze|0)<<5)+(re+1)+this.points.length;for(const ji of sn){const ur=ji*Ze;if(ke[ur+2]<=re)continue;ke[ur+2]=re;const cn=ke[ur+qe];Bn+=ke[ur]*cn,Zn+=ke[ur+1]*cn,ke[ur+4]=An,Se&&(mn||(mn=this._map(ke,Ke,!0),Dn=this.clusterProps.length,this.clusterProps.push(mn)),Se(mn,this._map(ke,ur)))}ke[Ke+4]=An,$e.push(Bn/Jt,Zn/Jt,1/0,An,-1,Jt),Se&&$e.push(Dn)}else{for(let mn=0;mn<Ze;mn++)$e.push(ke[Ke+mn]);if(Jt>1)for(const mn of sn){const Bn=mn*Ze;if(!(ke[Bn+2]<=re)){ke[Bn+2]=re;for(let Zn=0;Zn<Ze;Zn++)$e.push(ke[Bn+Zn])}}}}return $e}_getOriginId(Q){return Q-this.points.length>>5}_getOriginZoom(Q){return(Q-this.points.length)%32}_map(Q,re,ue){if(Q[re+qe]>1){const Ne=this.clusterProps[Q[re+rt]];return ue?Object.assign({},Ne):Ne}const _e=this.points[Q[re+Fe]].properties,Se=this.options.map(_e);return ue&&Se===_e?Object.assign({},Se):Se}}function kt(ve,Q,re){return{type:"Feature",id:ve[Q+Fe],properties:bt(ve,Q,re),geometry:{type:"Point",coordinates:[(ue=ve[Q],360*(ue-.5)),ct(ve[Q+1])]}};var ue}function bt(ve,Q,re){const ue=ve[Q+qe],_e=ue>=1e4?`${Math.round(ue/1e3)}k`:ue>=1e3?Math.round(ue/100)/10+"k":ue,Se=ve[Q+rt],Ne=Se===-1?{}:Object.assign({},re[Se]);return Object.assign(Ne,{cluster:!0,cluster_id:ve[Q+Fe],point_count:ue,point_count_abbreviated:_e})}function Ye(ve){return ve/360+.5}function lt(ve){const Q=Math.sin(ve*Math.PI/180),re=.5-.25*Math.log((1+Q)/(1-Q))/Math.PI;return re<0?0:re>1?1:re}function ct(ve){const Q=(180-360*ve)*Math.PI/180;return 360*Math.atan(Math.exp(Q))/Math.PI-90}function He(ve,Q,re,ue){for(var _e,Se=ue,Ne=re-Q>>1,Me=re-Q,ke=ve[Q],$e=ve[Q+1],Ze=ve[re],Ke=ve[re+1],Qe=Q+3;Qe<re;Qe+=3){var Xt=Tt(ve[Qe],ve[Qe+1],ke,$e,Ze,Ke);if(Xt>Se)_e=Qe,Se=Xt;else if(Xt===Se){var sn=Math.abs(Qe-Ne);sn<Me&&(_e=Qe,Me=sn)}}Se>ue&&(_e-Q>3&&He(ve,Q,_e,ue),ve[_e+2]=Se,re-_e>3&&He(ve,_e,re,ue))}function Tt(ve,Q,re,ue,_e,Se){var Ne=_e-re,Me=Se-ue;if(Ne!==0||Me!==0){var ke=((ve-re)*Ne+(Q-ue)*Me)/(Ne*Ne+Me*Me);ke>1?(re=_e,ue=Se):ke>0&&(re+=Ne*ke,ue+=Me*ke)}return(Ne=ve-re)*Ne+(Me=Q-ue)*Me}function Mt(ve,Q,re,ue){var _e={id:ve===void 0?null:ve,type:Q,geometry:re,tags:ue,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Se){var Ne=Se.geometry,Me=Se.type;if(Me==="Point"||Me==="MultiPoint"||Me==="LineString")qt(Se,Ne);else if(Me==="Polygon"||Me==="MultiLineString")for(var ke=0;ke<Ne.length;ke++)qt(Se,Ne[ke]);else if(Me==="MultiPolygon")for(ke=0;ke<Ne.length;ke++)for(var $e=0;$e<Ne[ke].length;$e++)qt(Se,Ne[ke][$e])}(_e),_e}function qt(ve,Q){for(var re=0;re<Q.length;re+=3)ve.minX=Math.min(ve.minX,Q[re]),ve.minY=Math.min(ve.minY,Q[re+1]),ve.maxX=Math.max(ve.maxX,Q[re]),ve.maxY=Math.max(ve.maxY,Q[re+1])}function bn(ve,Q,re,ue){if(Q.geometry){var _e=Q.geometry.coordinates,Se=Q.geometry.type,Ne=Math.pow(re.tolerance/((1<<re.maxZoom)*re.extent),2),Me=[],ke=Q.id;if(re.promoteId?ke=Q.properties[re.promoteId]:re.generateId&&(ke=ue||0),Se==="Point")yn(_e,Me);else if(Se==="MultiPoint")for(var $e=0;$e<_e.length;$e++)yn(_e[$e],Me);else if(Se==="LineString")vn(_e,Me,Ne,!1);else if(Se==="MultiLineString"){if(re.lineMetrics){for($e=0;$e<_e.length;$e++)vn(_e[$e],Me=[],Ne,!1),ve.push(Mt(ke,"LineString",Me,Q.properties));return}Kn(_e,Me,Ne,!1)}else if(Se==="Polygon")Kn(_e,Me,Ne,!0);else{if(Se!=="MultiPolygon"){if(Se==="GeometryCollection"){for($e=0;$e<Q.geometry.geometries.length;$e++)bn(ve,{id:ke,geometry:Q.geometry.geometries[$e],properties:Q.properties},re,ue);return}throw new Error("Input data is not a valid GeoJSON object.")}for($e=0;$e<_e.length;$e++){var Ze=[];Kn(_e[$e],Ze,Ne,!0),Me.push(Ze)}}ve.push(Mt(ke,Se,Me,Q.properties))}}function yn(ve,Q){Q.push(Be(ve[0])),Q.push(ln(ve[1])),Q.push(0)}function vn(ve,Q,re,ue){for(var _e,Se,Ne=0,Me=0;Me<ve.length;Me++){var ke=Be(ve[Me][0]),$e=ln(ve[Me][1]);Q.push(ke),Q.push($e),Q.push(0),Me>0&&(Ne+=ue?(_e*$e-ke*Se)/2:Math.sqrt(Math.pow(ke-_e,2)+Math.pow($e-Se,2))),_e=ke,Se=$e}var Ze=Q.length-3;Q[2]=1,He(Q,0,Ze,re),Q[Ze+2]=1,Q.size=Math.abs(Ne),Q.start=0,Q.end=Q.size}function Kn(ve,Q,re,ue){for(var _e=0;_e<ve.length;_e++){var Se=[];vn(ve[_e],Se,re,ue),Q.push(Se)}}function Be(ve){return ve/360+.5}function ln(ve){var Q=Math.sin(ve*Math.PI/180),re=.5-.25*Math.log((1+Q)/(1-Q))/Math.PI;return re<0?0:re>1?1:re}function wn(ve,Q,re,ue,_e,Se,Ne,Me){if(ue/=Q,Se>=(re/=Q)&&Ne<ue)return ve;if(Ne<re||Se>=ue)return null;for(var ke=[],$e=0;$e<ve.length;$e++){var Ze=ve[$e],Ke=Ze.geometry,Qe=Ze.type,Xt=_e===0?Ze.minX:Ze.minY,sn=_e===0?Ze.maxX:Ze.maxY;if(Xt>=re&&sn<ue)ke.push(Ze);else if(!(sn<re||Xt>=ue)){var jt=[];if(Qe==="Point"||Qe==="MultiPoint")an(Ke,jt,re,ue,_e);else if(Qe==="LineString")Rt(Ke,jt,re,ue,_e,!1,Me.lineMetrics);else if(Qe==="MultiLineString")Qn(Ke,jt,re,ue,_e,!1);else if(Qe==="Polygon")Qn(Ke,jt,re,ue,_e,!0);else if(Qe==="MultiPolygon")for(var Jt=0;Jt<Ke.length;Jt++){var mn=[];Qn(Ke[Jt],mn,re,ue,_e,!0),mn.length&&jt.push(mn)}if(jt.length){if(Me.lineMetrics&&Qe==="LineString"){for(Jt=0;Jt<jt.length;Jt++)ke.push(Mt(Ze.id,Qe,jt[Jt],Ze.tags));continue}Qe!=="LineString"&&Qe!=="MultiLineString"||(jt.length===1?(Qe="LineString",jt=jt[0]):Qe="MultiLineString"),Qe!=="Point"&&Qe!=="MultiPoint"||(Qe=jt.length===3?"Point":"MultiPoint"),ke.push(Mt(Ze.id,Qe,jt,Ze.tags))}}}return ke.length?ke:null}function an(ve,Q,re,ue,_e){for(var Se=0;Se<ve.length;Se+=3){var Ne=ve[Se+_e];Ne>=re&&Ne<=ue&&(Q.push(ve[Se]),Q.push(ve[Se+1]),Q.push(ve[Se+2]))}}function Rt(ve,Q,re,ue,_e,Se,Ne){for(var Me,ke,$e=Un(ve),Ze=_e===0?Mn:Zt,Ke=ve.start,Qe=0;Qe<ve.length-3;Qe+=3){var Xt=ve[Qe],sn=ve[Qe+1],jt=ve[Qe+2],Jt=ve[Qe+3],mn=ve[Qe+4],Bn=_e===0?Xt:sn,Zn=_e===0?Jt:mn,Dn=!1;Ne&&(Me=Math.sqrt(Math.pow(Xt-Jt,2)+Math.pow(sn-mn,2))),Bn<re?Zn>re&&(ke=Ze($e,Xt,sn,Jt,mn,re),Ne&&($e.start=Ke+Me*ke)):Bn>ue?Zn<ue&&(ke=Ze($e,Xt,sn,Jt,mn,ue),Ne&&($e.start=Ke+Me*ke)):yr($e,Xt,sn,jt),Zn<re&&Bn>=re&&(ke=Ze($e,Xt,sn,Jt,mn,re),Dn=!0),Zn>ue&&Bn<=ue&&(ke=Ze($e,Xt,sn,Jt,mn,ue),Dn=!0),!Se&&Dn&&(Ne&&($e.end=Ke+Me*ke),Q.push($e),$e=Un(ve)),Ne&&(Ke+=Me)}var An=ve.length-3;Xt=ve[An],sn=ve[An+1],jt=ve[An+2],(Bn=_e===0?Xt:sn)>=re&&Bn<=ue&&yr($e,Xt,sn,jt),An=$e.length-3,Se&&An>=3&&($e[An]!==$e[0]||$e[An+1]!==$e[1])&&yr($e,$e[0],$e[1],$e[2]),$e.length&&Q.push($e)}function Un(ve){var Q=[];return Q.size=ve.size,Q.start=ve.start,Q.end=ve.end,Q}function Qn(ve,Q,re,ue,_e,Se){for(var Ne=0;Ne<ve.length;Ne++)Rt(ve[Ne],Q,re,ue,_e,Se,!1)}function yr(ve,Q,re,ue){ve.push(Q),ve.push(re),ve.push(ue)}function Mn(ve,Q,re,ue,_e,Se){var Ne=(Se-Q)/(ue-Q);return ve.push(Se),ve.push(re+(_e-re)*Ne),ve.push(1),Ne}function Zt(ve,Q,re,ue,_e,Se){var Ne=(Se-re)/(_e-re);return ve.push(Q+(ue-Q)*Ne),ve.push(Se),ve.push(1),Ne}function er(ve,Q){for(var re=[],ue=0;ue<ve.length;ue++){var _e,Se=ve[ue],Ne=Se.type;if(Ne==="Point"||Ne==="MultiPoint"||Ne==="LineString")_e=Xr(Se.geometry,Q);else if(Ne==="MultiLineString"||Ne==="Polygon"){_e=[];for(var Me=0;Me<Se.geometry.length;Me++)_e.push(Xr(Se.geometry[Me],Q))}else if(Ne==="MultiPolygon")for(_e=[],Me=0;Me<Se.geometry.length;Me++){for(var ke=[],$e=0;$e<Se.geometry[Me].length;$e++)ke.push(Xr(Se.geometry[Me][$e],Q));_e.push(ke)}re.push(Mt(Se.id,Ne,_e,Se.tags))}return re}function Xr(ve,Q){var re=[];re.size=ve.size,ve.start!==void 0&&(re.start=ve.start,re.end=ve.end);for(var ue=0;ue<ve.length;ue+=3)re.push(ve[ue]+Q,ve[ue+1],ve[ue+2]);return re}function dt(ve,Q){if(ve.transformed)return ve;var re,ue,_e,Se=1<<ve.z,Ne=ve.x,Me=ve.y;for(re=0;re<ve.features.length;re++){var ke=ve.features[re],$e=ke.geometry,Ze=ke.type;if(ke.geometry=[],Ze===1)for(ue=0;ue<$e.length;ue+=2)ke.geometry.push(Vt($e[ue],$e[ue+1],Q,Se,Ne,Me));else for(ue=0;ue<$e.length;ue++){var Ke=[];for(_e=0;_e<$e[ue].length;_e+=2)Ke.push(Vt($e[ue][_e],$e[ue][_e+1],Q,Se,Ne,Me));ke.geometry.push(Ke)}}return ve.transformed=!0,ve}function Vt(ve,Q,re,ue,_e,Se){return[Math.round(re*(ve*ue-_e)),Math.round(re*(Q*ue-Se))]}function fn(ve,Q,re,ue,_e){for(var Se=Q===_e.maxZoom?0:_e.tolerance/((1<<Q)*_e.extent),Ne={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:re,y:ue,z:Q,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Me=0;Me<ve.length;Me++){Ne.numFeatures++,xt(Ne,ve[Me],Se,_e);var ke=ve[Me].minX,$e=ve[Me].minY,Ze=ve[Me].maxX,Ke=ve[Me].maxY;ke<Ne.minX&&(Ne.minX=ke),$e<Ne.minY&&(Ne.minY=$e),Ze>Ne.maxX&&(Ne.maxX=Ze),Ke>Ne.maxY&&(Ne.maxY=Ke)}return Ne}function xt(ve,Q,re,ue){var _e=Q.geometry,Se=Q.type,Ne=[];if(Se==="Point"||Se==="MultiPoint")for(var Me=0;Me<_e.length;Me+=3)Ne.push(_e[Me]),Ne.push(_e[Me+1]),ve.numPoints++,ve.numSimplified++;else if(Se==="LineString")zt(Ne,_e,ve,re,!1,!1);else if(Se==="MultiLineString"||Se==="Polygon")for(Me=0;Me<_e.length;Me++)zt(Ne,_e[Me],ve,re,Se==="Polygon",Me===0);else if(Se==="MultiPolygon")for(var ke=0;ke<_e.length;ke++){var $e=_e[ke];for(Me=0;Me<$e.length;Me++)zt(Ne,$e[Me],ve,re,!0,Me===0)}if(Ne.length){var Ze=Q.tags||null;if(Se==="LineString"&&ue.lineMetrics){for(var Ke in Ze={},Q.tags)Ze[Ke]=Q.tags[Ke];Ze.mapbox_clip_start=_e.start/_e.size,Ze.mapbox_clip_end=_e.end/_e.size}var Qe={geometry:Ne,type:Se==="Polygon"||Se==="MultiPolygon"?3:Se==="LineString"||Se==="MultiLineString"?2:1,tags:Ze};Q.id!==null&&(Qe.id=Q.id),ve.features.push(Qe)}}function zt(ve,Q,re,ue,_e,Se){var Ne=ue*ue;if(ue>0&&Q.size<(_e?Ne:ue))re.numPoints+=Q.length/3;else{for(var Me=[],ke=0;ke<Q.length;ke+=3)(ue===0||Q[ke+2]>Ne)&&(re.numSimplified++,Me.push(Q[ke]),Me.push(Q[ke+1])),re.numPoints++;_e&&function($e,Ze){for(var Ke=0,Qe=0,Xt=$e.length,sn=Xt-2;Qe<Xt;sn=Qe,Qe+=2)Ke+=($e[Qe]-$e[sn])*($e[Qe+1]+$e[sn+1]);if(Ke>0===Ze)for(Qe=0,Xt=$e.length;Qe<Xt/2;Qe+=2){var jt=$e[Qe],Jt=$e[Qe+1];$e[Qe]=$e[Xt-2-Qe],$e[Qe+1]=$e[Xt-1-Qe],$e[Xt-2-Qe]=jt,$e[Xt-1-Qe]=Jt}}(Me,Se),ve.push(Me)}}function et(ve,Q){var re=(Q=this.options=function(_e,Se){for(var Ne in Se)_e[Ne]=Se[Ne];return _e}(Object.create(this.options),Q)).debug;if(re&&console.time("preprocess data"),Q.maxZoom<0||Q.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Q.promoteId&&Q.generateId)throw new Error("promoteId and generateId cannot be used together.");var ue=function(_e,Se){var Ne=[];if(_e.type==="FeatureCollection")for(var Me=0;Me<_e.features.length;Me++)bn(Ne,_e.features[Me],Se,Me);else bn(Ne,_e.type==="Feature"?_e:{geometry:_e},Se);return Ne}(ve,Q);this.tiles={},this.tileCoords=[],re&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Q.indexMaxZoom,Q.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ue=function(_e,Se){var Ne=Se.buffer/Se.extent,Me=_e,ke=wn(_e,1,-1-Ne,Ne,0,-1,2,Se),$e=wn(_e,1,1-Ne,2+Ne,0,-1,2,Se);return(ke||$e)&&(Me=wn(_e,1,-Ne,1+Ne,0,-1,2,Se)||[],ke&&(Me=er(ke,1).concat(Me)),$e&&(Me=Me.concat(er($e,-1)))),Me}(ue,Q),ue.length&&this.splitTile(ue,0,0,0),re&&(ue.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function At(ve,Q,re){return 32*((1<<ve)*re+Q)+ve}function Lt(ve,Q){return Q?ve.properties[Q]:ve.id}function Wn(ve,Q){if(ve==null)return!0;if(ve.type==="Feature")return Lt(ve,Q)!=null;if(ve.type==="FeatureCollection"){const re=new Set;for(const ue of ve.features){const _e=Lt(ue,Q);if(_e==null||re.has(_e))return!1;re.add(_e)}return!0}return!1}function Fr(ve,Q){const re=new Map;if(ve!=null)if(ve.type==="Feature")re.set(Lt(ve,Q),ve);else for(const ue of ve.features)re.set(Lt(ue,Q),ue);return re}et.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},et.prototype.splitTile=function(ve,Q,re,ue,_e,Se,Ne){for(var Me=[ve,Q,re,ue],ke=this.options,$e=ke.debug;Me.length;){ue=Me.pop(),re=Me.pop(),Q=Me.pop(),ve=Me.pop();var Ze=1<<Q,Ke=At(Q,re,ue),Qe=this.tiles[Ke];if(!Qe&&($e>1&&console.time("creation"),Qe=this.tiles[Ke]=fn(ve,Q,re,ue,ke),this.tileCoords.push({z:Q,x:re,y:ue}),$e)){$e>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Q,re,ue,Qe.numFeatures,Qe.numPoints,Qe.numSimplified),console.timeEnd("creation"));var Xt="z"+Q;this.stats[Xt]=(this.stats[Xt]||0)+1,this.total++}if(Qe.source=ve,_e){if(Q===ke.maxZoom||Q===_e)continue;var sn=1<<_e-Q;if(re!==Math.floor(Se/sn)||ue!==Math.floor(Ne/sn))continue}else if(Q===ke.indexMaxZoom||Qe.numPoints<=ke.indexMaxPoints)continue;if(Qe.source=null,ve.length!==0){$e>1&&console.time("clipping");var jt,Jt,mn,Bn,Zn,Dn,An=.5*ke.buffer/ke.extent,ji=.5-An,ur=.5+An,cn=1+An;jt=Jt=mn=Bn=null,Zn=wn(ve,Ze,re-An,re+ur,0,Qe.minX,Qe.maxX,ke),Dn=wn(ve,Ze,re+ji,re+cn,0,Qe.minX,Qe.maxX,ke),ve=null,Zn&&(jt=wn(Zn,Ze,ue-An,ue+ur,1,Qe.minY,Qe.maxY,ke),Jt=wn(Zn,Ze,ue+ji,ue+cn,1,Qe.minY,Qe.maxY,ke),Zn=null),Dn&&(mn=wn(Dn,Ze,ue-An,ue+ur,1,Qe.minY,Qe.maxY,ke),Bn=wn(Dn,Ze,ue+ji,ue+cn,1,Qe.minY,Qe.maxY,ke),Dn=null),$e>1&&console.timeEnd("clipping"),Me.push(jt||[],Q+1,2*re,2*ue),Me.push(Jt||[],Q+1,2*re,2*ue+1),Me.push(mn||[],Q+1,2*re+1,2*ue),Me.push(Bn||[],Q+1,2*re+1,2*ue+1)}}},et.prototype.getTile=function(ve,Q,re){var ue=this.options,_e=ue.extent,Se=ue.debug;if(ve<0||ve>24)return null;var Ne=1<<ve,Me=At(ve,Q=(Q%Ne+Ne)%Ne,re);if(this.tiles[Me])return dt(this.tiles[Me],_e);Se>1&&console.log("drilling down to z%d-%d-%d",ve,Q,re);for(var ke,$e=ve,Ze=Q,Ke=re;!ke&&$e>0;)$e--,Ze=Math.floor(Ze/2),Ke=Math.floor(Ke/2),ke=this.tiles[At($e,Ze,Ke)];return ke&&ke.source?(Se>1&&console.log("found parent tile z%d-%d-%d",$e,Ze,Ke),Se>1&&console.time("drilling down"),this.splitTile(ke.source,$e,Ze,Ke,ve,Q,re),Se>1&&console.timeEnd("drilling down"),this.tiles[Me]?dt(this.tiles[Me],_e):null):null};class hn extends E{constructor(Q,re,ue,_e){super(Q,re,ue),this._dataUpdateable=new Map,this.loadGeoJSON=(Se,Ne)=>{const{promoteId:Me}=Se;if(Se.request)return a.f(Se.request,(ke,$e,Ze,Ke)=>{this._dataUpdateable=Wn($e,Me)?Fr($e,Me):void 0,Ne(ke,$e,Ze,Ke)});if(typeof Se.data=="string")try{const ke=JSON.parse(Se.data);this._dataUpdateable=Wn(ke,Me)?Fr(ke,Me):void 0,Ne(null,ke)}catch{Ne(new Error(`Input data given to '${Se.source}' is not a valid GeoJSON object.`))}else Se.dataDiff?this._dataUpdateable?(function(ke,$e,Ze){var Ke,Qe,Xt,sn;if($e.removeAll&&ke.clear(),$e.remove)for(const jt of $e.remove)ke.delete(jt);if($e.add)for(const jt of $e.add){const Jt=Lt(jt,Ze);Jt!=null&&ke.set(Jt,jt)}if($e.update)for(const jt of $e.update){let Jt=ke.get(jt.id);if(Jt==null)continue;const mn=!jt.removeAllProperties&&(((Ke=jt.removeProperties)===null||Ke===void 0?void 0:Ke.length)>0||((Qe=jt.addOrUpdateProperties)===null||Qe===void 0?void 0:Qe.length)>0);if((jt.newGeometry||jt.removeAllProperties||mn)&&(Jt=Object.assign({},Jt),ke.set(jt.id,Jt),mn&&(Jt.properties=Object.assign({},Jt.properties))),jt.newGeometry&&(Jt.geometry=jt.newGeometry),jt.removeAllProperties)Jt.properties={};else if(((Xt=jt.removeProperties)===null||Xt===void 0?void 0:Xt.length)>0)for(const Bn of jt.removeProperties)Object.prototype.hasOwnProperty.call(Jt.properties,Bn)&&delete Jt.properties[Bn];if(((sn=jt.addOrUpdateProperties)===null||sn===void 0?void 0:sn.length)>0)for(const{key:Bn,value:Zn}of jt.addOrUpdateProperties)Jt.properties[Bn]=Zn}}(this._dataUpdateable,Se.dataDiff,Me),Ne(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):Ne(new Error(`Cannot update existing geojson data in ${Se.source}`)):Ne(new Error(`Input data given to '${Se.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},this.loadVectorData=this.loadGeoJSONTile,_e&&(this.loadGeoJSON=_e)}loadGeoJSONTile(Q,re){const ue=Q.tileID.canonical;if(!this._geoJSONIndex)return re(null,null);const _e=this._geoJSONIndex.getTile(ue.z,ue.x,ue.y);if(!_e)return re(null,null);const Se=new class{constructor(Me){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.N,this.length=Me.length,this._features=Me}feature(Me){return new class{constructor(ke){this._feature=ke,this.extent=a.N,this.type=ke.type,this.properties=ke.tags,"id"in ke&&!isNaN(ke.id)&&(this.id=parseInt(ke.id,10))}loadGeometry(){if(this._feature.type===1){const ke=[];for(const $e of this._feature.geometry)ke.push([new a.P($e[0],$e[1])]);return ke}{const ke=[];for(const $e of this._feature.geometry){const Ze=[];for(const Ke of $e)Ze.push(new a.P(Ke[0],Ke[1]));ke.push(Ze)}return ke}}toGeoJSON(ke,$e,Ze){return O.call(this,ke,$e,Ze)}}(this._features[Me])}}(_e.features);let Ne=Ee(Se);Ne.byteOffset===0&&Ne.byteLength===Ne.buffer.byteLength||(Ne=new Uint8Array(Ne)),re(null,{vectorTile:Se,rawData:Ne.buffer})}loadData(Q,re){var ue;(ue=this._pendingRequest)===null||ue===void 0||ue.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const _e=!!(Q&&Q.request&&Q.request.collectResourceTiming)&&new a.bu(Q.request);this._pendingCallback=re,this._pendingRequest=this.loadGeoJSON(Q,(Se,Ne)=>{if(delete this._pendingCallback,delete this._pendingRequest,Se||!Ne)return re(Se);if(typeof Ne!="object")return re(new Error(`Input data given to '${Q.source}' is not a valid GeoJSON object.`));{A(Ne,!0);try{if(Q.filter){const ke=a.bC(Q.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ke.result==="error")throw new Error(ke.value.map(Ze=>`${Ze.key}: ${Ze.message}`).join(", "));Ne={type:"FeatureCollection",features:Ne.features.filter(Ze=>ke.value.evaluate({zoom:0},Ze))}}this._geoJSONIndex=Q.cluster?new Je(function({superclusterOptions:ke,clusterProperties:$e}){if(!$e||!ke)return ke;const Ze={},Ke={},Qe={accumulated:null,zoom:0},Xt={properties:null},sn=Object.keys($e);for(const jt of sn){const[Jt,mn]=$e[jt],Bn=a.bC(mn),Zn=a.bC(typeof Jt=="string"?[Jt,["accumulated"],["get",jt]]:Jt);Ze[jt]=Bn.value,Ke[jt]=Zn.value}return ke.map=jt=>{Xt.properties=jt;const Jt={};for(const mn of sn)Jt[mn]=Ze[mn].evaluate(Qe,Xt);return Jt},ke.reduce=(jt,Jt)=>{Xt.properties=Jt;for(const mn of sn)Qe.accumulated=jt[mn],jt[mn]=Ke[mn].evaluate(Qe,Xt)},ke}(Q)).load(Ne.features):function(ke,$e){return new et(ke,$e)}(Ne,Q.geojsonVtOptions)}catch(ke){return re(ke)}this.loaded={};const Me={};if(_e){const ke=_e.finish();ke&&(Me.resourceTiming={},Me.resourceTiming[Q.source]=JSON.parse(JSON.stringify(ke)))}re(null,Me)}})}reloadTile(Q,re){const ue=this.loaded;return ue&&ue[Q.uid]?super.reloadTile(Q,re):this.loadTile(Q,re)}removeSource(Q,re){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),re()}getClusterExpansionZoom(Q,re){try{re(null,this._geoJSONIndex.getClusterExpansionZoom(Q.clusterId))}catch(ue){re(ue)}}getClusterChildren(Q,re){try{re(null,this._geoJSONIndex.getChildren(Q.clusterId))}catch(ue){re(ue)}}getClusterLeaves(Q,re){try{re(null,this._geoJSONIndex.getLeaves(Q.clusterId,Q.limit,Q.offset))}catch(ue){re(ue)}}}class si{constructor(Q){this.self=Q,this.actor=new a.C(Q,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:E,geojson:hn},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(re,ue)=>{if(this.workerSourceTypes[re])throw new Error(`Worker source with name "${re}" already registered.`);this.workerSourceTypes[re]=ue},this.self.registerRTLTextPlugin=re=>{if(a.bD.isParsed())throw new Error("RTL text plugin already registered.");a.bD.applyArabicShaping=re.applyArabicShaping,a.bD.processBidirectionalText=re.processBidirectionalText,a.bD.processStyledBidirectionalText=re.processStyledBidirectionalText}}setReferrer(Q,re){this.referrer=re}setImages(Q,re,ue){this.availableImages[Q]=re;for(const _e in this.workerSources[Q]){const Se=this.workerSources[Q][_e];for(const Ne in Se)Se[Ne].availableImages=re}ue()}setLayers(Q,re,ue){this.getLayerIndex(Q).replace(re),ue()}updateLayers(Q,re,ue){this.getLayerIndex(Q).update(re.layers,re.removedIds),ue()}loadTile(Q,re,ue){this.getWorkerSource(Q,re.type,re.source).loadTile(re,ue)}loadDEMTile(Q,re,ue){this.getDEMWorkerSource(Q,re.source).loadTile(re,ue)}reloadTile(Q,re,ue){this.getWorkerSource(Q,re.type,re.source).reloadTile(re,ue)}abortTile(Q,re,ue){this.getWorkerSource(Q,re.type,re.source).abortTile(re,ue)}removeTile(Q,re,ue){this.getWorkerSource(Q,re.type,re.source).removeTile(re,ue)}removeDEMTile(Q,re){this.getDEMWorkerSource(Q,re.source).removeTile(re)}removeSource(Q,re,ue){if(!this.workerSources[Q]||!this.workerSources[Q][re.type]||!this.workerSources[Q][re.type][re.source])return;const _e=this.workerSources[Q][re.type][re.source];delete this.workerSources[Q][re.type][re.source],_e.removeSource!==void 0?_e.removeSource(re,ue):ue()}loadWorkerSource(Q,re,ue){try{this.self.importScripts(re.url),ue()}catch(_e){ue(_e.toString())}}syncRTLPluginState(Q,re,ue){try{a.bD.setState(re);const _e=a.bD.getPluginURL();if(a.bD.isLoaded()&&!a.bD.isParsed()&&_e!=null){this.self.importScripts(_e);const Se=a.bD.isParsed();ue(Se?void 0:new Error(`RTL Text Plugin failed to import scripts from ${_e}`),Se)}}catch(_e){ue(_e.toString())}}getAvailableImages(Q){let re=this.availableImages[Q];return re||(re=[]),re}getLayerIndex(Q){let re=this.layerIndexes[Q];return re||(re=this.layerIndexes[Q]=new f),re}getWorkerSource(Q,re,ue){return this.workerSources[Q]||(this.workerSources[Q]={}),this.workerSources[Q][re]||(this.workerSources[Q][re]={}),this.workerSources[Q][re][ue]||(this.workerSources[Q][re][ue]=new this.workerSourceTypes[re]({send:(_e,Se,Ne)=>{this.actor.send(_e,Se,Ne,Q)}},this.getLayerIndex(Q),this.getAvailableImages(Q))),this.workerSources[Q][re][ue]}getDEMWorkerSource(Q,re){return this.demWorkerSources[Q]||(this.demWorkerSources[Q]={}),this.demWorkerSources[Q][re]||(this.demWorkerSources[Q][re]=new T),this.demWorkerSources[Q][re]}}return a.i()&&(self.worker=new si(self)),si}),o(["./shared"],function(a){var f="3.6.2";class h{static testProp(c){if(!h.docStyle)return c[0];for(let p=0;p<c.length;p++)if(c[p]in h.docStyle)return c[p];return c[0]}static create(c,p,v){const _=window.document.createElement(c);return p!==void 0&&(_.className=p),v&&v.appendChild(_),_}static createNS(c,p){return window.document.createElementNS(c,p)}static disableDrag(){h.docStyle&&h.selectProp&&(h.userSelect=h.docStyle[h.selectProp],h.docStyle[h.selectProp]="none")}static enableDrag(){h.docStyle&&h.selectProp&&(h.docStyle[h.selectProp]=h.userSelect)}static setTransform(c,p){c.style[h.transformProp]=p}static addEventListener(c,p,v,_={}){c.addEventListener(p,v,"passive"in _?_:_.capture)}static removeEventListener(c,p,v,_={}){c.removeEventListener(p,v,"passive"in _?_:_.capture)}static suppressClickInternal(c){c.preventDefault(),c.stopPropagation(),window.removeEventListener("click",h.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",h.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",h.suppressClickInternal,!0)},0)}static mousePos(c,p){const v=c.getBoundingClientRect();return new a.P(p.clientX-v.left-c.clientLeft,p.clientY-v.top-c.clientTop)}static touchPos(c,p){const v=c.getBoundingClientRect(),_=[];for(let k=0;k<p.length;k++)_.push(new a.P(p[k].clientX-v.left-c.clientLeft,p[k].clientY-v.top-c.clientTop));return _}static mouseButton(c){return c.button}static remove(c){c.parentNode&&c.parentNode.removeChild(c)}}h.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,h.selectProp=h.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),h.transformProp=h.testProp(["transform","WebkitTransform"]);const g={supported:!1,testSupport:function(S){!E&&b&&(T?w(S):y=S)}};let y,b,E=!1,T=!1;function w(S){const c=S.createTexture();S.bindTexture(S.TEXTURE_2D,c);try{if(S.texImage2D(S.TEXTURE_2D,0,S.RGBA,S.RGBA,S.UNSIGNED_BYTE,b),S.isContextLost())return;g.supported=!0}catch{}S.deleteTexture(c),E=!0}var M,A;typeof document<"u"&&(b=document.createElement("img"),b.onload=function(){y&&w(y),y=null,T=!0},b.onerror=function(){E=!0,y=null},b.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(S){let c,p,v,_;S.resetRequestQueue=()=>{c=[],p=0,v=0,_={}},S.addThrottleControl=H=>{const Y=v++;return _[Y]=H,Y},S.removeThrottleControl=H=>{delete _[H],z()},S.getImage=(H,Y,Z=!0)=>{g.supported&&(H.headers||(H.headers={}),H.headers.accept="image/webp,*/*");const ie={requestParameters:H,supportImageRefresh:Z,callback:Y,cancelled:!1,completed:!1,cancel:()=>{ie.completed||ie.cancelled||(ie.cancelled=!0,ie.innerRequest&&(ie.innerRequest.cancel(),p--),z())}};return c.push(ie),z(),ie};const k=H=>{const{requestParameters:Y,supportImageRefresh:Z,callback:ie}=H;return a.e(Y,{type:"image"}),(Z!==!1||a.i()||a.g(Y.url)||Y.headers&&!Object.keys(Y.headers).reduce((ge,me)=>ge&&me==="accept",!0)?a.m:V)(Y,(ge,me,xe,fe)=>{N(H,ie,ge,me,xe,fe)})},N=(H,Y,Z,ie,ge,me)=>{Z?Y(Z):ie instanceof HTMLImageElement||a.a(ie)?Y(null,ie):ie&&((xe,fe)=>{typeof createImageBitmap=="function"?a.b(xe,fe):a.d(xe,fe)})(ie,(xe,fe)=>{xe!=null?Y(xe):fe!=null&&Y(null,fe,{cacheControl:ge,expires:me})}),H.cancelled||(H.completed=!0,p--,z())},z=()=>{const H=(()=>{const Y=Object.keys(_);let Z=!1;if(Y.length>0){for(const ie of Y)if(Z=_[ie](),Z)break}return Z})()?a.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:a.c.MAX_PARALLEL_IMAGE_REQUESTS;for(let Y=p;Y<H&&c.length>0;Y++){const Z=c.shift();if(Z.cancelled){Y--;continue}const ie=k(Z);p++,Z.innerRequest=ie}},V=(H,Y)=>{const Z=new Image,ie=H.url;let ge=!1;const me=H.credentials;return me&&me==="include"?Z.crossOrigin="use-credentials":(me&&me==="same-origin"||!a.s(ie))&&(Z.crossOrigin="anonymous"),Z.fetchPriority="high",Z.onload=()=>{Y(null,Z),Z.onerror=Z.onload=null},Z.onerror=()=>{ge||Y(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),Z.onerror=Z.onload=null},Z.src=ie,{cancel:()=>{ge=!0,Z.src=""}}}}(M||(M={})),M.resetRequestQueue(),function(S){S.Glyphs="Glyphs",S.Image="Image",S.Source="Source",S.SpriteImage="SpriteImage",S.SpriteJSON="SpriteJSON",S.Style="Style",S.Tile="Tile",S.Unknown="Unknown"}(A||(A={}));class O{constructor(c){this._transformRequestFn=c}transformRequest(c,p){return this._transformRequestFn&&this._transformRequestFn(c,p)||{url:c}}normalizeSpriteURL(c,p,v){const _=function(k){const N=k.match(I);if(!N)throw new Error(`Unable to parse URL "${k}"`);return{protocol:N[1],authority:N[2],path:N[3]||"/",params:N[4]?N[4].split("&"):[]}}(c);return _.path+=`${p}${v}`,function(k){const N=k.params.length?`?${k.params.join("&")}`:"";return`${k.protocol}://${k.authority}${k.path}${N}`}(_)}setTransformRequest(c){this._transformRequestFn=c}}const I=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function L(S){var c=new a.A(3);return c[0]=S[0],c[1]=S[1],c[2]=S[2],c}var R,D=function(S,c,p){return S[0]=c[0]-p[0],S[1]=c[1]-p[1],S[2]=c[2]-p[2],S};R=new a.A(3),a.A!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0);var F=function(S){var c=S[0],p=S[1];return c*c+p*p};function q(S){const c=[];if(typeof S=="string")c.push({id:"default",url:S});else if(S&&S.length>0){const p=[];for(const{id:v,url:_}of S){const k=`${v}${_}`;p.indexOf(k)===-1&&(p.push(k),c.push({id:v,url:_}))}}return c}function J(S,c,p,v,_){if(v)return void S(v);if(_!==Object.values(c).length||_!==Object.values(p).length)return;const k={};for(const N in c){k[N]={};const z=a.h.getImageCanvasContext(p[N]),V=c[N];for(const H in V){const{width:Y,height:Z,x:ie,y:ge,sdf:me,pixelRatio:xe,stretchX:fe,stretchY:Ie,content:Ue}=V[H];k[N][H]={data:null,pixelRatio:xe,sdf:me,stretchX:fe,stretchY:Ie,content:Ue,spriteData:{width:Y,height:Z,x:ie,y:ge,context:z}}}}S(null,k)}(function(){var S=new a.A(2);a.A!=Float32Array&&(S[0]=0,S[1]=0)})();class K{constructor(c,p,v,_){this.context=c,this.format=v,this.texture=c.gl.createTexture(),this.update(p,_)}update(c,p,v){const{width:_,height:k}=c,N=!(this.size&&this.size[0]===_&&this.size[1]===k||v),{context:z}=this,{gl:V}=z;if(this.useMipmap=!!(p&&p.useMipmap),V.bindTexture(V.TEXTURE_2D,this.texture),z.pixelStoreUnpackFlipY.set(!1),z.pixelStoreUnpack.set(1),z.pixelStoreUnpackPremultiplyAlpha.set(this.format===V.RGBA&&(!p||p.premultiply!==!1)),N)this.size=[_,k],c instanceof HTMLImageElement||c instanceof HTMLCanvasElement||c instanceof HTMLVideoElement||c instanceof ImageData||a.a(c)?V.texImage2D(V.TEXTURE_2D,0,this.format,this.format,V.UNSIGNED_BYTE,c):V.texImage2D(V.TEXTURE_2D,0,this.format,_,k,0,this.format,V.UNSIGNED_BYTE,c.data);else{const{x:H,y:Y}=v||{x:0,y:0};c instanceof HTMLImageElement||c instanceof HTMLCanvasElement||c instanceof HTMLVideoElement||c instanceof ImageData||a.a(c)?V.texSubImage2D(V.TEXTURE_2D,0,H,Y,V.RGBA,V.UNSIGNED_BYTE,c):V.texSubImage2D(V.TEXTURE_2D,0,H,Y,_,k,V.RGBA,V.UNSIGNED_BYTE,c.data)}this.useMipmap&&this.isSizePowerOfTwo()&&V.generateMipmap(V.TEXTURE_2D)}bind(c,p,v){const{context:_}=this,{gl:k}=_;k.bindTexture(k.TEXTURE_2D,this.texture),v!==k.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(v=k.LINEAR),c!==this.filter&&(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,c),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,v||c),this.filter=c),p!==this.wrap&&(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,p),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,p),this.wrap=p)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:c}=this.context;c.deleteTexture(this.texture),this.texture=null}}function ne(S){const{userImage:c}=S;return!!(c&&c.render&&c.render())&&(S.data.replace(new Uint8Array(c.data.buffer)),!0)}class le extends a.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(c){if(this.loaded!==c&&(this.loaded=c,c)){for(const{ids:p,callback:v}of this.requestors)this._notify(p,v);this.requestors=[]}}getImage(c){const p=this.images[c];if(p&&!p.data&&p.spriteData){const v=p.spriteData;p.data=new a.R({width:v.width,height:v.height},v.context.getImageData(v.x,v.y,v.width,v.height).data),p.spriteData=null}return p}addImage(c,p){if(this.images[c])throw new Error(`Image id ${c} already exist, use updateImage instead`);this._validate(c,p)&&(this.images[c]=p)}_validate(c,p){let v=!0;const _=p.data||p.spriteData;return this._validateStretch(p.stretchX,_&&_.width)||(this.fire(new a.j(new Error(`Image "${c}" has invalid "stretchX" value`))),v=!1),this._validateStretch(p.stretchY,_&&_.height)||(this.fire(new a.j(new Error(`Image "${c}" has invalid "stretchY" value`))),v=!1),this._validateContent(p.content,p)||(this.fire(new a.j(new Error(`Image "${c}" has invalid "content" value`))),v=!1),v}_validateStretch(c,p){if(!c)return!0;let v=0;for(const _ of c){if(_[0]<v||_[1]<_[0]||p<_[1])return!1;v=_[1]}return!0}_validateContent(c,p){if(!c)return!0;if(c.length!==4)return!1;const v=p.spriteData,_=v&&v.width||p.data.width,k=v&&v.height||p.data.height;return!(c[0]<0||_<c[0]||c[1]<0||k<c[1]||c[2]<0||_<c[2]||c[3]<0||k<c[3]||c[2]<c[0]||c[3]<c[1])}updateImage(c,p,v=!0){const _=this.getImage(c);if(v&&(_.data.width!==p.data.width||_.data.height!==p.data.height))throw new Error(`size mismatch between old image (${_.data.width}x${_.data.height}) and new image (${p.data.width}x${p.data.height}).`);p.version=_.version+1,this.images[c]=p,this.updatedImages[c]=!0}removeImage(c){const p=this.images[c];delete this.images[c],delete this.patterns[c],p.userImage&&p.userImage.onRemove&&p.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(c,p){let v=!0;if(!this.isLoaded())for(const _ of c)this.images[_]||(v=!1);this.isLoaded()||v?this._notify(c,p):this.requestors.push({ids:c,callback:p})}_notify(c,p){const v={};for(const _ of c){let k=this.getImage(_);k||(this.fire(new a.k("styleimagemissing",{id:_})),k=this.getImage(_)),k?v[_]={data:k.data.clone(),pixelRatio:k.pixelRatio,sdf:k.sdf,version:k.version,stretchX:k.stretchX,stretchY:k.stretchY,content:k.content,hasRenderCallback:!!(k.userImage&&k.userImage.render)}:a.w(`Image "${_}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}p(null,v)}getPixelSize(){const{width:c,height:p}=this.atlasImage;return{width:c,height:p}}getPattern(c){const p=this.patterns[c],v=this.getImage(c);if(!v)return null;if(p&&p.position.version===v.version)return p.position;if(p)p.position.version=v.version;else{const _={w:v.data.width+2,h:v.data.height+2,x:0,y:0},k=new a.I(_,v);this.patterns[c]={bin:_,position:k}}return this._updatePatternAtlas(),this.patterns[c].position}bind(c){const p=c.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new K(c,this.atlasImage,p.RGBA),this.atlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE)}_updatePatternAtlas(){const c=[];for(const k in this.patterns)c.push(this.patterns[k].bin);const{w:p,h:v}=a.p(c),_=this.atlasImage;_.resize({width:p||1,height:v||1});for(const k in this.patterns){const{bin:N}=this.patterns[k],z=N.x+1,V=N.y+1,H=this.getImage(k).data,Y=H.width,Z=H.height;a.R.copy(H,_,{x:0,y:0},{x:z,y:V},{width:Y,height:Z}),a.R.copy(H,_,{x:0,y:Z-1},{x:z,y:V-1},{width:Y,height:1}),a.R.copy(H,_,{x:0,y:0},{x:z,y:V+Z},{width:Y,height:1}),a.R.copy(H,_,{x:Y-1,y:0},{x:z-1,y:V},{width:1,height:Z}),a.R.copy(H,_,{x:0,y:0},{x:z+Y,y:V},{width:1,height:Z})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(c){for(const p of c){if(this.callbackDispatchedThisFrame[p])continue;this.callbackDispatchedThisFrame[p]=!0;const v=this.getImage(p);v||a.w(`Image with ID: "${p}" was not found`),ne(v)&&this.updateImage(p,v)}}}const ye=1e20;function de(S,c,p,v,_,k,N,z,V){for(let H=c;H<c+v;H++)se(S,p*k+H,k,_,N,z,V);for(let H=p;H<p+_;H++)se(S,H*k+c,1,v,N,z,V)}function se(S,c,p,v,_,k,N){k[0]=0,N[0]=-ye,N[1]=ye,_[0]=S[c];for(let z=1,V=0,H=0;z<v;z++){_[z]=S[c+z*p];const Y=z*z;do{const Z=k[V];H=(_[z]-_[Z]+Y-Z*Z)/(z-Z)/2}while(H<=N[V]&&--V>-1);V++,k[V]=z,N[V]=H,N[V+1]=ye}for(let z=0,V=0;z<v;z++){for(;N[V+1]<z;)V++;const H=k[V],Y=z-H;S[c+z*p]=_[H]+Y*Y}}class pe{constructor(c,p){this.requestManager=c,this.localIdeographFontFamily=p,this.entries={}}setURL(c){this.url=c}getGlyphs(c,p){const v=[];for(const _ in c)for(const k of c[_])v.push({stack:_,id:k});a.o(v,({stack:_,id:k},N)=>{let z=this.entries[_];z||(z=this.entries[_]={glyphs:{},requests:{},ranges:{}});let V=z.glyphs[k];if(V!==void 0)return void N(null,{stack:_,id:k,glyph:V});if(V=this._tinySDF(z,_,k),V)return z.glyphs[k]=V,void N(null,{stack:_,id:k,glyph:V});const H=Math.floor(k/256);if(256*H>65535)return void N(new Error("glyphs > 65535 not supported"));if(z.ranges[H])return void N(null,{stack:_,id:k,glyph:V});if(!this.url)return void N(new Error("glyphsUrl is not set"));let Y=z.requests[H];Y||(Y=z.requests[H]=[],pe.loadGlyphRange(_,H,this.url,this.requestManager,(Z,ie)=>{if(ie){for(const ge in ie)this._doesCharSupportLocalGlyph(+ge)||(z.glyphs[+ge]=ie[+ge]);z.ranges[H]=!0}for(const ge of Y)ge(Z,ie);delete z.requests[H]})),Y.push((Z,ie)=>{Z?N(Z):ie&&N(null,{stack:_,id:k,glyph:ie[k]||null})})},(_,k)=>{if(_)p(_);else if(k){const N={};for(const{stack:z,id:V,glyph:H}of k)(N[z]||(N[z]={}))[V]=H&&{id:H.id,bitmap:H.bitmap.clone(),metrics:H.metrics};p(null,N)}})}_doesCharSupportLocalGlyph(c){return!!this.localIdeographFontFamily&&(a.u["CJK Unified Ideographs"](c)||a.u["Hangul Syllables"](c)||a.u.Hiragana(c)||a.u.Katakana(c))}_tinySDF(c,p,v){const _=this.localIdeographFontFamily;if(!_||!this._doesCharSupportLocalGlyph(v))return;let k=c.tinySDF;if(!k){let z="400";/bold/i.test(p)?z="900":/medium/i.test(p)?z="500":/light/i.test(p)&&(z="200"),k=c.tinySDF=new pe.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:_,fontWeight:z})}const N=k.draw(String.fromCharCode(v));return{id:v,bitmap:new a.q({width:N.width||60,height:N.height||60},N.data),metrics:{width:N.glyphWidth/2||24,height:N.glyphHeight/2||24,left:N.glyphLeft/2+.5||0,top:N.glyphTop/2-27.5||-8,advance:N.glyphAdvance/2||24,isDoubleResolution:!0}}}}pe.loadGlyphRange=function(S,c,p,v,_){const k=256*c,N=k+255,z=v.transformRequest(p.replace("{fontstack}",S).replace("{range}",`${k}-${N}`),A.Glyphs);a.l(z,(V,H)=>{if(V)_(V);else if(H){const Y={};for(const Z of a.n(H))Y[Z.id]=Z;_(null,Y)}})},pe.TinySDF=class{constructor({fontSize:S=24,buffer:c=3,radius:p=8,cutoff:v=.25,fontFamily:_="sans-serif",fontWeight:k="normal",fontStyle:N="normal"}={}){this.buffer=c,this.cutoff=v,this.radius=p;const z=this.size=S+4*c,V=this._createCanvas(z),H=this.ctx=V.getContext("2d",{willReadFrequently:!0});H.font=`${N} ${k} ${S}px ${_}`,H.textBaseline="alphabetic",H.textAlign="left",H.fillStyle="black",this.gridOuter=new Float64Array(z*z),this.gridInner=new Float64Array(z*z),this.f=new Float64Array(z),this.z=new Float64Array(z+1),this.v=new Uint16Array(z)}_createCanvas(S){const c=document.createElement("canvas");return c.width=c.height=S,c}draw(S){const{width:c,actualBoundingBoxAscent:p,actualBoundingBoxDescent:v,actualBoundingBoxLeft:_,actualBoundingBoxRight:k}=this.ctx.measureText(S),N=Math.ceil(p),z=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(k-_))),V=Math.min(this.size-this.buffer,N+Math.ceil(v)),H=z+2*this.buffer,Y=V+2*this.buffer,Z=Math.max(H*Y,0),ie=new Uint8ClampedArray(Z),ge={data:ie,width:H,height:Y,glyphWidth:z,glyphHeight:V,glyphTop:N,glyphLeft:0,glyphAdvance:c};if(z===0||V===0)return ge;const{ctx:me,buffer:xe,gridInner:fe,gridOuter:Ie}=this;me.clearRect(xe,xe,z,V),me.fillText(S,xe,xe+N);const Ue=me.getImageData(xe,xe,z,V);Ie.fill(ye,0,Z),fe.fill(0,0,Z);for(let Ce=0;Ce<V;Ce++)for(let De=0;De<z;De++){const We=Ue.data[4*(Ce*z+De)+3]/255;if(We===0)continue;const Ge=(Ce+xe)*H+De+xe;if(We===1)Ie[Ge]=0,fe[Ge]=ye;else{const tt=.5-We;Ie[Ge]=tt>0?tt*tt:0,fe[Ge]=tt<0?tt*tt:0}}de(Ie,0,0,H,Y,H,this.f,this.v,this.z),de(fe,xe,xe,z,V,H,this.f,this.v,this.z);for(let Ce=0;Ce<Z;Ce++){const De=Math.sqrt(Ie[Ce])-Math.sqrt(fe[Ce]);ie[Ce]=Math.round(255-255*(De/this.radius+this.cutoff))}return ge}};class be{constructor(){this.specification=a.v.light.position}possiblyEvaluate(c,p){return a.z(c.expression.evaluate(p))}interpolate(c,p,v){return{x:a.B.number(c.x,p.x,v),y:a.B.number(c.y,p.y,v),z:a.B.number(c.z,p.z,v)}}}let ce;class Ee extends a.E{constructor(c){super(),ce=ce||new a.r({anchor:new a.D(a.v.light.anchor),position:new be,color:new a.D(a.v.light.color),intensity:new a.D(a.v.light.intensity)}),this._transitionable=new a.T(ce),this.setLight(c),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(c,p={}){if(!this._validate(a.t,c,p))for(const v in c){const _=c[v];v.endsWith("-transition")?this._transitionable.setTransition(v.slice(0,-11),_):this._transitionable.setValue(v,_)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,p,v){return(!v||v.validate!==!1)&&a.x(this,c.call(a.y,a.e({value:p,style:{glyphs:!0,sprite:!0},styleSpec:a.v})))}}class Re{constructor(c,p){this.width=c,this.height=p,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(c,p){const v=c.join(",")+String(p);return this.dashEntry[v]||(this.dashEntry[v]=this.addDash(c,p)),this.dashEntry[v]}getDashRanges(c,p,v){const _=[];let k=c.length%2==1?-c[c.length-1]*v:0,N=c[0]*v,z=!0;_.push({left:k,right:N,isDash:z,zeroLength:c[0]===0});let V=c[0];for(let H=1;H<c.length;H++){z=!z;const Y=c[H];k=V*v,V+=Y,N=V*v,_.push({left:k,right:N,isDash:z,zeroLength:Y===0})}return _}addRoundDash(c,p,v){const _=p/2;for(let k=-v;k<=v;k++){const N=this.width*(this.nextRow+v+k);let z=0,V=c[z];for(let H=0;H<this.width;H++){H/V.right>1&&(V=c[++z]);const Y=Math.abs(H-V.left),Z=Math.abs(H-V.right),ie=Math.min(Y,Z);let ge;const me=k/v*(_+1);if(V.isDash){const xe=_-Math.abs(me);ge=Math.sqrt(ie*ie+xe*xe)}else ge=_-Math.sqrt(ie*ie+me*me);this.data[N+H]=Math.max(0,Math.min(255,ge+128))}}}addRegularDash(c){for(let z=c.length-1;z>=0;--z){const V=c[z],H=c[z+1];V.zeroLength?c.splice(z,1):H&&H.isDash===V.isDash&&(H.left=V.left,c.splice(z,1))}const p=c[0],v=c[c.length-1];p.isDash===v.isDash&&(p.left=v.left-this.width,v.right=p.right+this.width);const _=this.width*this.nextRow;let k=0,N=c[k];for(let z=0;z<this.width;z++){z/N.right>1&&(N=c[++k]);const V=Math.abs(z-N.left),H=Math.abs(z-N.right),Y=Math.min(V,H);this.data[_+z]=Math.max(0,Math.min(255,(N.isDash?Y:-Y)+128))}}addDash(c,p){const v=p?7:0,_=2*v+1;if(this.nextRow+_>this.height)return a.w("LineAtlas out of space"),null;let k=0;for(let z=0;z<c.length;z++)k+=c[z];if(k!==0){const z=this.width/k,V=this.getDashRanges(c,this.width,z);p?this.addRoundDash(V,z,v):this.addRegularDash(V)}const N={y:(this.nextRow+v+.5)/this.height,height:2*v/this.height,width:k};return this.nextRow+=_,this.dirty=!0,N}bind(c){const p=c.gl;this.texture?(p.bindTexture(p.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,p.texSubImage2D(p.TEXTURE_2D,0,0,0,this.width,this.height,p.ALPHA,p.UNSIGNED_BYTE,this.data))):(this.texture=p.createTexture(),p.bindTexture(p.TEXTURE_2D,this.texture),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texImage2D(p.TEXTURE_2D,0,p.ALPHA,this.width,this.height,0,p.ALPHA,p.UNSIGNED_BYTE,this.data))}}class Xe{constructor(c,p,v){this.workerPool=c,this.actors=[],this.currentActor=0,this.id=v;const _=this.workerPool.acquire(v);for(let k=0;k<_.length;k++){const N=new a.C(_[k],p,v);N.name=`Worker ${k}`,this.actors.push(N)}if(!this.actors.length)throw new Error("No actors found")}broadcast(c,p,v){a.o(this.actors,(_,k)=>{_.send(c,p,k)},v=v||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(c=!0){this.actors.forEach(p=>{p.remove()}),this.actors=[],c&&this.workerPool.release(this.id)}}function Ae(S,c,p){const v=function(_,k){if(_)return p(_);if(k){const N=a.F(a.e(k,S),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);k.vector_layers&&(N.vectorLayers=k.vector_layers,N.vectorLayerIds=N.vectorLayers.map(z=>z.id)),p(null,N)}};return S.url?a.f(c.transformRequest(S.url,A.Source),v):a.h.frame(()=>v(null,S))}class Fe{constructor(c,p){c&&(p?this.setSouthWest(c).setNorthEast(p):Array.isArray(c)&&(c.length===4?this.setSouthWest([c[0],c[1]]).setNorthEast([c[2],c[3]]):this.setSouthWest(c[0]).setNorthEast(c[1])))}setNorthEast(c){return this._ne=c instanceof a.L?new a.L(c.lng,c.lat):a.L.convert(c),this}setSouthWest(c){return this._sw=c instanceof a.L?new a.L(c.lng,c.lat):a.L.convert(c),this}extend(c){const p=this._sw,v=this._ne;let _,k;if(c instanceof a.L)_=c,k=c;else{if(!(c instanceof Fe))return Array.isArray(c)?c.length===4||c.every(Array.isArray)?this.extend(Fe.convert(c)):this.extend(a.L.convert(c)):c&&("lng"in c||"lon"in c)&&"lat"in c?this.extend(a.L.convert(c)):this;if(_=c._sw,k=c._ne,!_||!k)return this}return p||v?(p.lng=Math.min(_.lng,p.lng),p.lat=Math.min(_.lat,p.lat),v.lng=Math.max(k.lng,v.lng),v.lat=Math.max(k.lat,v.lat)):(this._sw=new a.L(_.lng,_.lat),this._ne=new a.L(k.lng,k.lat)),this}getCenter(){return new a.L((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new a.L(this.getWest(),this.getNorth())}getSouthEast(){return new a.L(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(c){const{lng:p,lat:v}=a.L.convert(c);let _=this._sw.lng<=p&&p<=this._ne.lng;return this._sw.lng>this._ne.lng&&(_=this._sw.lng>=p&&p>=this._ne.lng),this._sw.lat<=v&&v<=this._ne.lat&&_}static convert(c){return c instanceof Fe?c:c&&new Fe(c)}static fromLngLat(c,p=0){const v=360*p/40075017,_=v/Math.cos(Math.PI/180*c.lat);return new Fe(new a.L(c.lng-_,c.lat-v),new a.L(c.lng+_,c.lat+v))}}class qe{constructor(c,p,v){this.bounds=Fe.convert(this.validateBounds(c)),this.minzoom=p||0,this.maxzoom=v||24}validateBounds(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]}contains(c){const p=Math.pow(2,c.z),v=Math.floor(a.G(this.bounds.getWest())*p),_=Math.floor(a.H(this.bounds.getNorth())*p),k=Math.ceil(a.G(this.bounds.getEast())*p),N=Math.ceil(a.H(this.bounds.getSouth())*p);return c.x>=v&&c.x<k&&c.y>=_&&c.y<N}}class rt extends a.E{constructor(c,p,v,_){if(super(),this.load=()=>{this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this._tileJSONRequest=Ae(this._options,this.map._requestManager,(k,N)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),k?this.fire(new a.j(k)):N&&(a.e(this,N),N.bounds&&(this.tileBounds=new qe(N.bounds,this.minzoom,this.maxzoom)),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})))})},this.serialize=()=>a.e({},this._options),this.id=c,this.dispatcher=v,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.e(this,a.F(p,["url","scheme","tileSize","promoteId"])),this._options=a.e({type:"vector"},p),this._collectResourceTiming=p.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(_)}loaded(){return this._loaded}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}onAdd(c){this.map=c,this.load()}setSourceProperty(c){this._tileJSONRequest&&this._tileJSONRequest.cancel(),c(),this.load()}setTiles(c){return this.setSourceProperty(()=>{this._options.tiles=c}),this}setUrl(c){return this.setSourceProperty(()=>{this.url=c,this._options.url=c}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(c,p){const v=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_={request:this.map._requestManager.transformRequest(v,A.Tile),uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,tileSize:this.tileSize*c.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function k(N,z){return delete c.request,c.aborted?p(null):N&&N.status!==404?p(N):(z&&z.resourceTiming&&(c.resourceTiming=z.resourceTiming),this.map._refreshExpiredTiles&&z&&c.setExpiryData(z),c.loadVectorData(z,this.map.painter),p(null),void(c.reloadCallback&&(this.loadTile(c,c.reloadCallback),c.reloadCallback=null)))}_.request.collectResourceTiming=this._collectResourceTiming,c.actor&&c.state!=="expired"?c.state==="loading"?c.reloadCallback=p:c.request=c.actor.send("reloadTile",_,k.bind(this)):(c.actor=this.dispatcher.getActor(),c.request=c.actor.send("loadTile",_,k.bind(this)))}abortTile(c){c.request&&(c.request.cancel(),delete c.request),c.actor&&c.actor.send("abortTile",{uid:c.uid,type:this.type,source:this.id},void 0)}unloadTile(c){c.unloadVectorData(),c.actor&&c.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class Je extends a.E{constructor(c,p,v,_){super(),this.id=c,this.dispatcher=v,this.setEventedParent(_),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.e({type:"raster"},p),a.e(this,a.F(p,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this._tileJSONRequest=Ae(this._options,this.map._requestManager,(c,p)=>{this._tileJSONRequest=null,this._loaded=!0,c?this.fire(new a.j(c)):p&&(a.e(this,p),p.bounds&&(this.tileBounds=new qe(p.bounds,this.minzoom,this.maxzoom)),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(c){this.map=c,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}setSourceProperty(c){this._tileJSONRequest&&this._tileJSONRequest.cancel(),c(),this.load()}setTiles(c){return this.setSourceProperty(()=>{this._options.tiles=c}),this}serialize(){return a.e({},this._options)}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}loadTile(c,p){const v=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);c.request=M.getImage(this.map._requestManager.transformRequest(v,A.Tile),(_,k,N)=>{if(delete c.request,c.aborted)c.state="unloaded",p(null);else if(_)c.state="errored",p(_);else if(k){this.map._refreshExpiredTiles&&N&&c.setExpiryData(N);const z=this.map.painter.context,V=z.gl;c.texture=this.map.painter.getTileTexture(k.width),c.texture?c.texture.update(k,{useMipmap:!0}):(c.texture=new K(z,k,V.RGBA,{useMipmap:!0}),c.texture.bind(V.LINEAR,V.CLAMP_TO_EDGE,V.LINEAR_MIPMAP_NEAREST),z.extTextureFilterAnisotropic&&V.texParameterf(V.TEXTURE_2D,z.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,z.extTextureFilterAnisotropicMax)),c.state="loaded",p(null)}},this.map._refreshExpiredTiles)}abortTile(c,p){c.request&&(c.request.cancel(),delete c.request),p()}unloadTile(c,p){c.texture&&this.map.painter.saveTileTexture(c.texture),p()}hasTransition(){return!1}}class kt extends Je{constructor(c,p,v,_){super(c,p,v,_),this.type="raster-dem",this.maxzoom=22,this._options=a.e({type:"raster-dem"},p),this.encoding=p.encoding||"mapbox",this.redFactor=p.redFactor,this.greenFactor=p.greenFactor,this.blueFactor=p.blueFactor,this.baseShift=p.baseShift}loadTile(c,p){const v=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_=this.map._requestManager.transformRequest(v,A.Tile);function k(N,z){N&&(c.state="errored",p(N)),z&&(c.dem=z,c.needsHillshadePrepare=!0,c.needsTerrainPrepare=!0,c.state="loaded",p(null))}c.neighboringTiles=this._getNeighboringTiles(c.tileID),c.request=M.getImage(_,(N,z,V)=>a._(this,void 0,void 0,function*(){if(delete c.request,c.aborted)c.state="unloaded",p(null);else if(N)c.state="errored",p(N);else if(z){this.map._refreshExpiredTiles&&c.setExpiryData(V);const H=a.a(z)&&a.J()?z:yield function(Z){return a._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&a.K()){const ie=Z.width+2,ge=Z.height+2;try{return new a.R({width:ie,height:ge},yield a.M(Z,-1,-1,ie,ge))}catch{}}return a.h.getImageData(Z,1)})}(z),Y={uid:c.uid,coord:c.tileID,source:this.id,rawImageData:H,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};c.actor&&c.state!=="expired"||(c.actor=this.dispatcher.getActor(),c.actor.send("loadDEMTile",Y,k))}}),this.map._refreshExpiredTiles)}_getNeighboringTiles(c){const p=c.canonical,v=Math.pow(2,p.z),_=(p.x-1+v)%v,k=p.x===0?c.wrap-1:c.wrap,N=(p.x+1+v)%v,z=p.x+1===v?c.wrap+1:c.wrap,V={};return V[new a.O(c.overscaledZ,k,p.z,_,p.y).key]={backfilled:!1},V[new a.O(c.overscaledZ,z,p.z,N,p.y).key]={backfilled:!1},p.y>0&&(V[new a.O(c.overscaledZ,k,p.z,_,p.y-1).key]={backfilled:!1},V[new a.O(c.overscaledZ,c.wrap,p.z,p.x,p.y-1).key]={backfilled:!1},V[new a.O(c.overscaledZ,z,p.z,N,p.y-1).key]={backfilled:!1}),p.y+1<v&&(V[new a.O(c.overscaledZ,k,p.z,_,p.y+1).key]={backfilled:!1},V[new a.O(c.overscaledZ,c.wrap,p.z,p.x,p.y+1).key]={backfilled:!1},V[new a.O(c.overscaledZ,z,p.z,N,p.y+1).key]={backfilled:!1}),V}unloadTile(c){c.demTexture&&this.map.painter.saveTileTexture(c.demTexture),c.fbo&&(c.fbo.destroy(),delete c.fbo),c.dem&&delete c.dem,delete c.neighboringTiles,c.state="unloaded",c.actor&&c.actor.send("removeDEMTile",{uid:c.uid,source:this.id})}}class bt extends a.E{constructor(c,p,v,_){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>a.e({},this._options,{type:this.type,data:this._data}),this.id=c,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=v.getActor(),this.setEventedParent(_),this._data=p.data,this._options=a.e({},p),this._collectResourceTiming=p.collectResourceTiming,p.maxzoom!==void 0&&(this.maxzoom=p.maxzoom),p.type&&(this.type=p.type),p.attribution&&(this.attribution=p.attribution),this.promoteId=p.promoteId;const k=a.N/this.tileSize;this.workerOptions=a.e({source:this.id,cluster:p.cluster||!1,geojsonVtOptions:{buffer:(p.buffer!==void 0?p.buffer:128)*k,tolerance:(p.tolerance!==void 0?p.tolerance:.375)*k,extent:a.N,maxZoom:this.maxzoom,lineMetrics:p.lineMetrics||!1,generateId:p.generateId||!1},superclusterOptions:{maxZoom:p.clusterMaxZoom!==void 0?p.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,p.clusterMinPoints||2),extent:a.N,radius:(p.clusterRadius||50)*k,log:!1,generateId:p.generateId||!1},clusterProperties:p.clusterProperties,filter:p.filter},p.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}onAdd(c){this.map=c,this.load()}setData(c){return this._data=c,this._updateWorkerData(),this}updateData(c){return this._updateWorkerData(c),this}setClusterOptions(c){return this.workerOptions.cluster=c.cluster,c&&(c.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=c.clusterRadius),c.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=c.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(c,p){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:c,source:this.id},p),this}getClusterChildren(c,p){return this.actor.send("geojson.getClusterChildren",{clusterId:c,source:this.id},p),this}getClusterLeaves(c,p,v,_){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:c,limit:p,offset:v},_),this}_updateWorkerData(c){const p=a.e({},this.workerOptions);c?p.dataDiff=c:typeof this._data=="string"?(p.request=this.map._requestManager.transformRequest(a.h.resolveURL(this._data),A.Source),p.request.collectResourceTiming=this._collectResourceTiming):p.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new a.k("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,p,(v,_)=>{if(this._pendingLoads--,this._removed||_&&_.abandoned)return void this.fire(new a.k("dataabort",{dataType:"source"}));let k=null;if(_&&_.resourceTiming&&_.resourceTiming[this.id]&&(k=_.resourceTiming[this.id].slice(0)),v)return void this.fire(new a.j(v));const N={dataType:"source"};this._collectResourceTiming&&k&&k.length>0&&a.e(N,{resourceTiming:k}),this.fire(new a.k("data",Object.assign(Object.assign({},N),{sourceDataType:"metadata"}))),this.fire(new a.k("data",Object.assign(Object.assign({},N),{sourceDataType:"content"})))})}loaded(){return this._pendingLoads===0}loadTile(c,p){const v=c.actor?"reloadTile":"loadTile";c.actor=this.actor;const _={type:this.type,uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};c.request=this.actor.send(v,_,(k,N)=>(delete c.request,c.unloadVectorData(),c.aborted?p(null):k?p(k):(c.loadVectorData(N,this.map.painter,v==="reloadTile"),p(null))))}abortTile(c){c.request&&(c.request.cancel(),delete c.request),c.aborted=!0}unloadTile(c){c.unloadVectorData(),this.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var Ye=a.Q([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class lt extends a.E{constructor(c,p,v,_){super(),this.load=(k,N)=>{this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=M.getImage(this.map._requestManager.transformRequest(this.url,A.Image),(z,V)=>{this._request=null,this._loaded=!0,z?this.fire(new a.j(z)):V&&(this.image=V,k&&(this.coordinates=k),N&&N(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||!this.image)return;const k=this.map.painter.context,N=k.gl;this.boundsBuffer||(this.boundsBuffer=k.createVertexBuffer(this._boundsArray,Ye.members)),this.boundsSegments||(this.boundsSegments=a.S.simpleSegment(0,0,4,2)),this.texture||(this.texture=new K(k,this.image,N.RGBA),this.texture.bind(N.LINEAR,N.CLAMP_TO_EDGE));let z=!1;for(const V in this.tiles){const H=this.tiles[V];H.state!=="loaded"&&(H.state="loaded",H.texture=this.texture,z=!0)}z&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=c,this.dispatcher=v,this.coordinates=p.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(_),this.options=p}loaded(){return this._loaded}updateImage(c){return c.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=c.url,this.load(c.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(c){this.map=c,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(c){this.coordinates=c;const p=c.map(a.U.fromLngLat);this.tileID=function(_){let k=1/0,N=1/0,z=-1/0,V=-1/0;for(const ie of _)k=Math.min(k,ie.x),N=Math.min(N,ie.y),z=Math.max(z,ie.x),V=Math.max(V,ie.y);const H=Math.max(z-k,V-N),Y=Math.max(0,Math.floor(-Math.log(H)/Math.LN2)),Z=Math.pow(2,Y);return new a.W(Y,Math.floor((k+z)/2*Z),Math.floor((N+V)/2*Z))}(p),this.minzoom=this.maxzoom=this.tileID.z;const v=p.map(_=>this.tileID.getTilePoint(_)._round());return this._boundsArray=new a.V,this._boundsArray.emplaceBack(v[0].x,v[0].y,0,0),this._boundsArray.emplaceBack(v[1].x,v[1].y,a.N,0),this._boundsArray.emplaceBack(v[3].x,v[3].y,0,a.N),this._boundsArray.emplaceBack(v[2].x,v[2].y,a.N,a.N),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(c,p){this.tileID&&this.tileID.equals(c.tileID.canonical)?(this.tiles[String(c.tileID.wrap)]=c,c.buckets={},p(null)):(c.state="errored",p(null))}hasTransition(){return!1}}class ct extends lt{constructor(c,p,v,_){super(c,p,v,_),this.load=()=>{this._loaded=!1;const k=this.options;this.urls=[];for(const N of k.urls)this.urls.push(this.map._requestManager.transformRequest(N,A.Source).url);a.X(this.urls,(N,z)=>{this._loaded=!0,N?this.fire(new a.j(N)):z&&(this.video=z,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const k=this.map.painter.context,N=k.gl;this.boundsBuffer||(this.boundsBuffer=k.createVertexBuffer(this._boundsArray,Ye.members)),this.boundsSegments||(this.boundsSegments=a.S.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(N.LINEAR,N.CLAMP_TO_EDGE),N.texSubImage2D(N.TEXTURE_2D,0,0,0,N.RGBA,N.UNSIGNED_BYTE,this.video)):(this.texture=new K(k,this.video,N.RGBA),this.texture.bind(N.LINEAR,N.CLAMP_TO_EDGE));let z=!1;for(const V in this.tiles){const H=this.tiles[V];H.state!=="loaded"&&(H.state="loaded",H.texture=this.texture,z=!0)}z&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=p}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(c){if(this.video){const p=this.video.seekable;c<p.start(0)||c>p.end(0)?this.fire(new a.j(new a.Y(`sources.${this.id}`,null,`Playback for this video can be set only between the ${p.start(0)} and ${p.end(0)}-second mark.`))):this.video.currentTime=c}}getVideo(){return this.video}onAdd(c){this.map||(this.map=c,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class He extends lt{constructor(c,p,v,_){super(c,p,v,_),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let k=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,k=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,k=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const N=this.map.painter.context,z=N.gl;this.boundsBuffer||(this.boundsBuffer=N.createVertexBuffer(this._boundsArray,Ye.members)),this.boundsSegments||(this.boundsSegments=a.S.simpleSegment(0,0,4,2)),this.texture?(k||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new K(N,this.canvas,z.RGBA,{premultiply:!0});let V=!1;for(const H in this.tiles){const Y=this.tiles[H];Y.state!=="loaded"&&(Y.state="loaded",Y.texture=this.texture,V=!0)}V&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),p.coordinates?Array.isArray(p.coordinates)&&p.coordinates.length===4&&!p.coordinates.some(k=>!Array.isArray(k)||k.length!==2||k.some(N=>typeof N!="number"))||this.fire(new a.j(new a.Y(`sources.${c}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.j(new a.Y(`sources.${c}`,null,'missing required property "coordinates"'))),p.animate&&typeof p.animate!="boolean"&&this.fire(new a.j(new a.Y(`sources.${c}`,null,'optional "animate" property must be a boolean value'))),p.canvas?typeof p.canvas=="string"||p.canvas instanceof HTMLCanvasElement||this.fire(new a.j(new a.Y(`sources.${c}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.j(new a.Y(`sources.${c}`,null,'missing required property "canvas"'))),this.options=p,this.animate=p.animate===void 0||p.animate}getCanvas(){return this.canvas}onAdd(c){this.map=c,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const c of[this.canvas.width,this.canvas.height])if(isNaN(c)||c<=0)return!0;return!1}}const Tt={},Mt=S=>{switch(S){case"geojson":return bt;case"image":return lt;case"raster":return Je;case"raster-dem":return kt;case"vector":return rt;case"video":return ct;case"canvas":return He}return Tt[S]};function qt(S,c){const p=a.Z();return a.$(p,p,[1,1,0]),a.a0(p,p,[.5*S.width,.5*S.height,1]),a.a1(p,p,S.calculatePosMatrix(c.toUnwrapped()))}function bn(S,c,p,v,_,k){const N=function(Z,ie,ge){if(Z)for(const me of Z){const xe=ie[me];if(xe&&xe.source===ge&&xe.type==="fill-extrusion")return!0}else for(const me in ie){const xe=ie[me];if(xe.source===ge&&xe.type==="fill-extrusion")return!0}return!1}(_&&_.layers,c,S.id),z=k.maxPitchScaleFactor(),V=S.tilesIn(v,z,N);V.sort(yn);const H=[];for(const Z of V)H.push({wrappedTileID:Z.tileID.wrapped().key,queryResults:Z.tile.queryRenderedFeatures(c,p,S._state,Z.queryGeometry,Z.cameraQueryGeometry,Z.scale,_,k,z,qt(S.transform,Z.tileID))});const Y=function(Z){const ie={},ge={};for(const me of Z){const xe=me.queryResults,fe=me.wrappedTileID,Ie=ge[fe]=ge[fe]||{};for(const Ue in xe){const Ce=xe[Ue],De=Ie[Ue]=Ie[Ue]||{},We=ie[Ue]=ie[Ue]||[];for(const Ge of Ce)De[Ge.featureIndex]||(De[Ge.featureIndex]=!0,We.push(Ge))}}return ie}(H);for(const Z in Y)Y[Z].forEach(ie=>{const ge=ie.feature,me=S.getFeatureState(ge.layer["source-layer"],ge.id);ge.source=ge.layer.source,ge.layer["source-layer"]&&(ge.sourceLayer=ge.layer["source-layer"]),ge.state=me});return Y}function yn(S,c){const p=S.tileID,v=c.tileID;return p.overscaledZ-v.overscaledZ||p.canonical.y-v.canonical.y||p.wrap-v.wrap||p.canonical.x-v.canonical.x}class vn{constructor(c,p){this.timeAdded=0,this.fadeEndTime=0,this.tileID=c,this.uid=a.a2(),this.uses=0,this.tileSize=p,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(c){const p=c+this.timeAdded;p<this.fadeEndTime||(this.fadeEndTime=p)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(c){this.demTexture&&c.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(c,p,v){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",c){c.featureIndex&&(this.latestFeatureIndex=c.featureIndex,c.rawTileData?(this.latestRawTileData=c.rawTileData,this.latestFeatureIndex.rawTileData=c.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=c.collisionBoxArray,this.buckets=function(_,k){const N={};if(!k)return N;for(const z of _){const V=z.layerIds.map(H=>k.getLayer(H)).filter(Boolean);if(V.length!==0){z.layers=V,z.stateDependentLayerIds&&(z.stateDependentLayers=z.stateDependentLayerIds.map(H=>V.filter(Y=>Y.id===H)[0]));for(const H of V)N[H.id]=z}}return N}(c.buckets,p.style),this.hasSymbolBuckets=!1;for(const _ in this.buckets){const k=this.buckets[_];if(k instanceof a.a4){if(this.hasSymbolBuckets=!0,!v)break;k.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const _ in this.buckets){const k=this.buckets[_];if(k instanceof a.a4&&k.hasRTLText){this.hasRTLText=!0,a.a5();break}}this.queryPadding=0;for(const _ in this.buckets){const k=this.buckets[_];this.queryPadding=Math.max(this.queryPadding,p.style.getLayer(_).queryRadius(k))}c.imageAtlas&&(this.imageAtlas=c.imageAtlas),c.glyphAtlasImage&&(this.glyphAtlasImage=c.glyphAtlasImage)}else this.collisionBoxArray=new a.a3}unloadVectorData(){for(const c in this.buckets)this.buckets[c].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(c){return this.buckets[c.id]}upload(c){for(const v in this.buckets){const _=this.buckets[v];_.uploadPending()&&_.upload(c)}const p=c.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new K(c,this.imageAtlas.image,p.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new K(c,this.glyphAtlasImage,p.ALPHA),this.glyphAtlasImage=null)}prepare(c){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(c,this.imageAtlasTexture)}queryRenderedFeatures(c,p,v,_,k,N,z,V,H,Y){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:_,cameraQueryGeometry:k,scale:N,tileSize:this.tileSize,pixelPosMatrix:Y,transform:V,params:z,queryPadding:this.queryPadding*H},c,p,v):{}}querySourceFeatures(c,p){const v=this.latestFeatureIndex;if(!v||!v.rawTileData)return;const _=v.loadVTLayers(),k=p&&p.sourceLayer?p.sourceLayer:"",N=_._geojsonTileLayer||_[k];if(!N)return;const z=a.a6(p&&p.filter),{z:V,x:H,y:Y}=this.tileID.canonical,Z={z:V,x:H,y:Y};for(let ie=0;ie<N.length;ie++){const ge=N.feature(ie);if(z.needGeometry){const fe=a.a7(ge,!0);if(!z.filter(new a.a8(this.tileID.overscaledZ),fe,this.tileID.canonical))continue}else if(!z.filter(new a.a8(this.tileID.overscaledZ),ge))continue;const me=v.getId(ge,k),xe=new a.a9(ge,V,H,Y,me);xe.tile=Z,c.push(xe)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(c){const p=this.expirationTime;if(c.cacheControl){const v=a.aa(c.cacheControl);v["max-age"]&&(this.expirationTime=Date.now()+1e3*v["max-age"])}else c.expires&&(this.expirationTime=new Date(c.expires).getTime());if(this.expirationTime){const v=Date.now();let _=!1;if(this.expirationTime>v)_=!1;else if(p)if(this.expirationTime<p)_=!0;else{const k=this.expirationTime-p;k?this.expirationTime=v+Math.max(k,3e4):_=!0}else _=!0;_?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(c,p){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(c).length===0)return;const v=this.latestFeatureIndex.loadVTLayers();for(const _ in this.buckets){if(!p.style.hasLayer(_))continue;const k=this.buckets[_],N=k.layers[0].sourceLayer||"_geojsonTileLayer",z=v[N],V=c[N];if(!z||!V||Object.keys(V).length===0)continue;k.update(V,z,this.imageAtlas&&this.imageAtlas.patternPositions||{});const H=p&&p.style&&p.style.getLayer(_);H&&(this.queryPadding=Math.max(this.queryPadding,H.queryRadius(k)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<a.h.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(c){this.symbolFadeHoldUntil=a.h.now()+c}setDependencies(c,p){const v={};for(const _ of p)v[_]=!0;this.dependencies[c]=v}hasDependency(c,p){for(const v of c){const _=this.dependencies[v];if(_){for(const k of p)if(_[k])return!0}}return!1}}class Kn{constructor(c,p){this.max=c,this.onRemove=p,this.reset()}reset(){for(const c in this.data)for(const p of this.data[c])p.timeout&&clearTimeout(p.timeout),this.onRemove(p.value);return this.data={},this.order=[],this}add(c,p,v){const _=c.wrapped().key;this.data[_]===void 0&&(this.data[_]=[]);const k={value:p,timeout:void 0};if(v!==void 0&&(k.timeout=setTimeout(()=>{this.remove(c,k)},v)),this.data[_].push(k),this.order.push(_),this.order.length>this.max){const N=this._getAndRemoveByKey(this.order[0]);N&&this.onRemove(N)}return this}has(c){return c.wrapped().key in this.data}getAndRemove(c){return this.has(c)?this._getAndRemoveByKey(c.wrapped().key):null}_getAndRemoveByKey(c){const p=this.data[c].shift();return p.timeout&&clearTimeout(p.timeout),this.data[c].length===0&&delete this.data[c],this.order.splice(this.order.indexOf(c),1),p.value}getByKey(c){const p=this.data[c];return p?p[0].value:null}get(c){return this.has(c)?this.data[c.wrapped().key][0].value:null}remove(c,p){if(!this.has(c))return this;const v=c.wrapped().key,_=p===void 0?0:this.data[v].indexOf(p),k=this.data[v][_];return this.data[v].splice(_,1),k.timeout&&clearTimeout(k.timeout),this.data[v].length===0&&delete this.data[v],this.onRemove(k.value),this.order.splice(this.order.indexOf(v),1),this}setMaxSize(c){for(this.max=c;this.order.length>this.max;){const p=this._getAndRemoveByKey(this.order[0]);p&&this.onRemove(p)}return this}filter(c){const p=[];for(const v in this.data)for(const _ of this.data[v])c(_.value)||p.push(_);for(const v of p)this.remove(v.value.tileID,v)}}class Be{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(c,p,v){const _=String(p);if(this.stateChanges[c]=this.stateChanges[c]||{},this.stateChanges[c][_]=this.stateChanges[c][_]||{},a.e(this.stateChanges[c][_],v),this.deletedStates[c]===null){this.deletedStates[c]={};for(const k in this.state[c])k!==_&&(this.deletedStates[c][k]=null)}else if(this.deletedStates[c]&&this.deletedStates[c][_]===null){this.deletedStates[c][_]={};for(const k in this.state[c][_])v[k]||(this.deletedStates[c][_][k]=null)}else for(const k in v)this.deletedStates[c]&&this.deletedStates[c][_]&&this.deletedStates[c][_][k]===null&&delete this.deletedStates[c][_][k]}removeFeatureState(c,p,v){if(this.deletedStates[c]===null)return;const _=String(p);if(this.deletedStates[c]=this.deletedStates[c]||{},v&&p!==void 0)this.deletedStates[c][_]!==null&&(this.deletedStates[c][_]=this.deletedStates[c][_]||{},this.deletedStates[c][_][v]=null);else if(p!==void 0)if(this.stateChanges[c]&&this.stateChanges[c][_])for(v in this.deletedStates[c][_]={},this.stateChanges[c][_])this.deletedStates[c][_][v]=null;else this.deletedStates[c][_]=null;else this.deletedStates[c]=null}getState(c,p){const v=String(p),_=a.e({},(this.state[c]||{})[v],(this.stateChanges[c]||{})[v]);if(this.deletedStates[c]===null)return{};if(this.deletedStates[c]){const k=this.deletedStates[c][p];if(k===null)return{};for(const N in k)delete _[N]}return _}initializeTileState(c,p){c.setFeatureState(this.state,p)}coalesceChanges(c,p){const v={};for(const _ in this.stateChanges){this.state[_]=this.state[_]||{};const k={};for(const N in this.stateChanges[_])this.state[_][N]||(this.state[_][N]={}),a.e(this.state[_][N],this.stateChanges[_][N]),k[N]=this.state[_][N];v[_]=k}for(const _ in this.deletedStates){this.state[_]=this.state[_]||{};const k={};if(this.deletedStates[_]===null)for(const N in this.state[_])k[N]={},this.state[_][N]={};else for(const N in this.deletedStates[_]){if(this.deletedStates[_][N]===null)this.state[_][N]={};else for(const z of Object.keys(this.deletedStates[_][N]))delete this.state[_][N][z];k[N]=this.state[_][N]}v[_]=v[_]||{},a.e(v[_],k)}if(this.stateChanges={},this.deletedStates={},Object.keys(v).length!==0)for(const _ in c)c[_].setFeatureState(v,p)}}class ln extends a.E{constructor(c,p,v){super(),this.id=c,this.dispatcher=v,this.on("data",_=>{_.dataType==="source"&&_.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&_.dataType==="source"&&_.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((_,k,N,z)=>{const V=new(Mt(k.type))(_,k,N,z);if(V.id!==_)throw new Error(`Expected Source id to be ${_} instead of ${V.id}`);return V})(c,p,v,this),this._tiles={},this._cache=new Kn(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Be,this._didEmitContent=!1,this._updated=!1}onAdd(c){this.map=c,this._maxTileCacheSize=c?c._maxTileCacheSize:null,this._maxTileCacheZoomLevels=c?c._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(c)}onRemove(c){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(c)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const c in this._tiles){const p=this._tiles[c];if(p.state!=="loaded"&&p.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const c=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,c&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(c,p){return this._source.loadTile(c,p)}_unloadTile(c){if(this._source.unloadTile)return this._source.unloadTile(c,()=>{})}_abortTile(c){this._source.abortTile&&this._source.abortTile(c,()=>{}),this._source.fire(new a.k("dataabort",{tile:c,coord:c.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(c){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const p in this._tiles){const v=this._tiles[p];v.upload(c),v.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(c=>c.tileID).sort(wn).map(c=>c.key)}getRenderableIds(c){const p=[];for(const v in this._tiles)this._isIdRenderable(v,c)&&p.push(this._tiles[v]);return c?p.sort((v,_)=>{const k=v.tileID,N=_.tileID,z=new a.P(k.canonical.x,k.canonical.y)._rotate(this.transform.angle),V=new a.P(N.canonical.x,N.canonical.y)._rotate(this.transform.angle);return k.overscaledZ-N.overscaledZ||V.y-z.y||V.x-z.x}).map(v=>v.tileID.key):p.map(v=>v.tileID).sort(wn).map(v=>v.key)}hasRenderableParent(c){const p=this.findLoadedParent(c,0);return!!p&&this._isIdRenderable(p.tileID.key)}_isIdRenderable(c,p){return this._tiles[c]&&this._tiles[c].hasData()&&!this._coveredTiles[c]&&(p||!this._tiles[c].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const c in this._tiles)this._tiles[c].state!=="errored"&&this._reloadTile(c,"reloading")}}_reloadTile(c,p){const v=this._tiles[c];v&&(v.state!=="loading"&&(v.state=p),this._loadTile(v,this._tileLoaded.bind(this,v,c,p)))}_tileLoaded(c,p,v,_){if(_)return c.state="errored",void(_.status!==404?this._source.fire(new a.j(_,{tile:c})):this.update(this.transform,this.terrain));c.timeAdded=a.h.now(),v==="expired"&&(c.refreshedUponExpiration=!0),this._setTileReloadTimer(p,c),this.getSource().type==="raster-dem"&&c.dem&&this._backfillDEM(c),this._state.initializeTileState(c,this.map?this.map.painter:null),c.aborted||this._source.fire(new a.k("data",{dataType:"source",tile:c,coord:c.tileID}))}_backfillDEM(c){const p=this.getRenderableIds();for(let _=0;_<p.length;_++){const k=p[_];if(c.neighboringTiles&&c.neighboringTiles[k]){const N=this.getTileByID(k);v(c,N),v(N,c)}}function v(_,k){_.needsHillshadePrepare=!0,_.needsTerrainPrepare=!0;let N=k.tileID.canonical.x-_.tileID.canonical.x;const z=k.tileID.canonical.y-_.tileID.canonical.y,V=Math.pow(2,_.tileID.canonical.z),H=k.tileID.key;N===0&&z===0||Math.abs(z)>1||(Math.abs(N)>1&&(Math.abs(N+V)===1?N+=V:Math.abs(N-V)===1&&(N-=V)),k.dem&&_.dem&&(_.dem.backfillBorder(k.dem,N,z),_.neighboringTiles&&_.neighboringTiles[H]&&(_.neighboringTiles[H].backfilled=!0)))}}getTile(c){return this.getTileByID(c.key)}getTileByID(c){return this._tiles[c]}_retainLoadedChildren(c,p,v,_){for(const k in this._tiles){let N=this._tiles[k];if(_[k]||!N.hasData()||N.tileID.overscaledZ<=p||N.tileID.overscaledZ>v)continue;let z=N.tileID;for(;N&&N.tileID.overscaledZ>p+1;){const H=N.tileID.scaledTo(N.tileID.overscaledZ-1);N=this._tiles[H.key],N&&N.hasData()&&(z=H)}let V=z;for(;V.overscaledZ>p;)if(V=V.scaledTo(V.overscaledZ-1),c[V.key]){_[z.key]=z;break}}}findLoadedParent(c,p){if(c.key in this._loadedParentTiles){const v=this._loadedParentTiles[c.key];return v&&v.tileID.overscaledZ>=p?v:null}for(let v=c.overscaledZ-1;v>=p;v--){const _=c.scaledTo(v),k=this._getLoadedTile(_);if(k)return k}}_getLoadedTile(c){const p=this._tiles[c.key];return p&&p.hasData()?p:this._cache.getByKey(c.wrapped().key)}updateCacheSize(c){const p=Math.ceil(c.width/this._source.tileSize)+1,v=Math.ceil(c.height/this._source.tileSize)+1,_=Math.floor(p*v*(this._maxTileCacheZoomLevels===null?a.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),k=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,_):_;this._cache.setMaxSize(k)}handleWrapJump(c){const p=Math.round((c-(this._prevLng===void 0?c:this._prevLng))/360);if(this._prevLng=c,p){const v={};for(const _ in this._tiles){const k=this._tiles[_];k.tileID=k.tileID.unwrapTo(k.tileID.wrap+p),v[k.tileID.key]=k}this._tiles=v;for(const _ in this._timers)clearTimeout(this._timers[_]),delete this._timers[_];for(const _ in this._tiles)this._setTileReloadTimer(_,this._tiles[_])}}update(c,p){if(this.transform=c,this.terrain=p,!this._sourceLoaded||this._paused)return;let v;this.updateCacheSize(c),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?v=c.getVisibleUnwrappedCoordinates(this._source.tileID).map(Y=>new a.O(Y.canonical.z,Y.wrap,Y.canonical.z,Y.canonical.x,Y.canonical.y)):(v=c.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:p}),this._source.hasTile&&(v=v.filter(Y=>this._source.hasTile(Y)))):v=[];const _=c.coveringZoomLevel(this._source),k=Math.max(_-ln.maxOverzooming,this._source.minzoom),N=Math.max(_+ln.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const Y={};for(const Z of v)if(Z.canonical.z>this._source.minzoom){const ie=Z.scaledTo(Z.canonical.z-1);Y[ie.key]=ie;const ge=Z.scaledTo(Math.max(this._source.minzoom,Math.min(Z.canonical.z,5)));Y[ge.key]=ge}v=v.concat(Object.values(Y))}const z=v.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,z&&this.fire(new a.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const V=this._updateRetainedTiles(v,_);if(an(this._source.type)){const Y={},Z={},ie=Object.keys(V),ge=a.h.now();for(const me of ie){const xe=V[me],fe=this._tiles[me];if(!fe||fe.fadeEndTime!==0&&fe.fadeEndTime<=ge)continue;const Ie=this.findLoadedParent(xe,k);Ie&&(this._addTile(Ie.tileID),Y[Ie.tileID.key]=Ie.tileID),Z[me]=xe}this._retainLoadedChildren(Z,_,N,V);for(const me in Y)V[me]||(this._coveredTiles[me]=!0,V[me]=Y[me]);if(p){const me={},xe={};for(const fe of v)this._tiles[fe.key].hasData()?me[fe.key]=fe:xe[fe.key]=fe;for(const fe in xe){const Ie=xe[fe].children(this._source.maxzoom);this._tiles[Ie[0].key]&&this._tiles[Ie[1].key]&&this._tiles[Ie[2].key]&&this._tiles[Ie[3].key]&&(me[Ie[0].key]=V[Ie[0].key]=Ie[0],me[Ie[1].key]=V[Ie[1].key]=Ie[1],me[Ie[2].key]=V[Ie[2].key]=Ie[2],me[Ie[3].key]=V[Ie[3].key]=Ie[3],delete xe[fe])}for(const fe in xe){const Ie=this.findLoadedParent(xe[fe],this._source.minzoom);if(Ie){me[Ie.tileID.key]=V[Ie.tileID.key]=Ie.tileID;for(const Ue in me)me[Ue].isChildOf(Ie.tileID)&&delete me[Ue]}}for(const fe in this._tiles)me[fe]||(this._coveredTiles[fe]=!0)}}for(const Y in V)this._tiles[Y].clearFadeHold();const H=a.ab(this._tiles,V);for(const Y of H){const Z=this._tiles[Y];Z.hasSymbolBuckets&&!Z.holdingForFade()?Z.setHoldDuration(this.map._fadeDuration):Z.hasSymbolBuckets&&!Z.symbolFadeFinished()||this._removeTile(Y)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const c in this._tiles)this._tiles[c].holdingForFade()&&this._removeTile(c)}_updateRetainedTiles(c,p){const v={},_={},k=Math.max(p-ln.maxOverzooming,this._source.minzoom),N=Math.max(p+ln.maxUnderzooming,this._source.minzoom),z={};for(const V of c){const H=this._addTile(V);v[V.key]=V,H.hasData()||p<this._source.maxzoom&&(z[V.key]=V)}this._retainLoadedChildren(z,p,N,v);for(const V of c){let H=this._tiles[V.key];if(H.hasData())continue;if(p+1>this._source.maxzoom){const Z=V.children(this._source.maxzoom)[0],ie=this.getTile(Z);if(ie&&ie.hasData()){v[Z.key]=Z;continue}}else{const Z=V.children(this._source.maxzoom);if(v[Z[0].key]&&v[Z[1].key]&&v[Z[2].key]&&v[Z[3].key])continue}let Y=H.wasRequested();for(let Z=V.overscaledZ-1;Z>=k;--Z){const ie=V.scaledTo(Z);if(_[ie.key])break;if(_[ie.key]=!0,H=this.getTile(ie),!H&&Y&&(H=this._addTile(ie)),H){const ge=H.hasData();if((Y||ge)&&(v[ie.key]=ie),Y=H.wasRequested(),ge)break}}}return v}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const c in this._tiles){const p=[];let v,_=this._tiles[c].tileID;for(;_.overscaledZ>0;){if(_.key in this._loadedParentTiles){v=this._loadedParentTiles[_.key];break}p.push(_.key);const k=_.scaledTo(_.overscaledZ-1);if(v=this._getLoadedTile(k),v)break;_=k}for(const k of p)this._loadedParentTiles[k]=v}}_addTile(c){let p=this._tiles[c.key];if(p)return p;p=this._cache.getAndRemove(c),p&&(this._setTileReloadTimer(c.key,p),p.tileID=c,this._state.initializeTileState(p,this.map?this.map.painter:null),this._cacheTimers[c.key]&&(clearTimeout(this._cacheTimers[c.key]),delete this._cacheTimers[c.key],this._setTileReloadTimer(c.key,p)));const v=p;return p||(p=new vn(c,this._source.tileSize*c.overscaleFactor()),this._loadTile(p,this._tileLoaded.bind(this,p,c.key,p.state))),p.uses++,this._tiles[c.key]=p,v||this._source.fire(new a.k("dataloading",{tile:p,coord:p.tileID,dataType:"source"})),p}_setTileReloadTimer(c,p){c in this._timers&&(clearTimeout(this._timers[c]),delete this._timers[c]);const v=p.getExpiryTimeout();v&&(this._timers[c]=setTimeout(()=>{this._reloadTile(c,"expired"),delete this._timers[c]},v))}_removeTile(c){const p=this._tiles[c];p&&(p.uses--,delete this._tiles[c],this._timers[c]&&(clearTimeout(this._timers[c]),delete this._timers[c]),p.uses>0||(p.hasData()&&p.state!=="reloading"?this._cache.add(p.tileID,p,p.getExpiryTimeout()):(p.aborted=!0,this._abortTile(p),this._unloadTile(p))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const c in this._tiles)this._removeTile(c);this._cache.reset()}tilesIn(c,p,v){const _=[],k=this.transform;if(!k)return _;const N=v?k.getCameraQueryGeometry(c):c,z=c.map(me=>k.pointCoordinate(me,this.terrain)),V=N.map(me=>k.pointCoordinate(me,this.terrain)),H=this.getIds();let Y=1/0,Z=1/0,ie=-1/0,ge=-1/0;for(const me of V)Y=Math.min(Y,me.x),Z=Math.min(Z,me.y),ie=Math.max(ie,me.x),ge=Math.max(ge,me.y);for(let me=0;me<H.length;me++){const xe=this._tiles[H[me]];if(xe.holdingForFade())continue;const fe=xe.tileID,Ie=Math.pow(2,k.zoom-xe.tileID.overscaledZ),Ue=p*xe.queryPadding*a.N/xe.tileSize/Ie,Ce=[fe.getTilePoint(new a.U(Y,Z)),fe.getTilePoint(new a.U(ie,ge))];if(Ce[0].x-Ue<a.N&&Ce[0].y-Ue<a.N&&Ce[1].x+Ue>=0&&Ce[1].y+Ue>=0){const De=z.map(Ge=>fe.getTilePoint(Ge)),We=V.map(Ge=>fe.getTilePoint(Ge));_.push({tile:xe,tileID:fe,queryGeometry:De,cameraQueryGeometry:We,scale:Ie})}}return _}getVisibleCoordinates(c){const p=this.getRenderableIds(c).map(v=>this._tiles[v].tileID);for(const v of p)v.posMatrix=this.transform.calculatePosMatrix(v.toUnwrapped());return p}hasTransition(){if(this._source.hasTransition())return!0;if(an(this._source.type)){const c=a.h.now();for(const p in this._tiles)if(this._tiles[p].fadeEndTime>=c)return!0}return!1}setFeatureState(c,p,v){this._state.updateState(c=c||"_geojsonTileLayer",p,v)}removeFeatureState(c,p,v){this._state.removeFeatureState(c=c||"_geojsonTileLayer",p,v)}getFeatureState(c,p){return this._state.getState(c=c||"_geojsonTileLayer",p)}setDependencies(c,p,v){const _=this._tiles[c];_&&_.setDependencies(p,v)}reloadTilesForDependencies(c,p){for(const v in this._tiles)this._tiles[v].hasDependency(c,p)&&this._reloadTile(v,"reloading");this._cache.filter(v=>!v.hasDependency(c,p))}}function wn(S,c){const p=Math.abs(2*S.wrap)-+(S.wrap<0),v=Math.abs(2*c.wrap)-+(c.wrap<0);return S.overscaledZ-c.overscaledZ||v-p||c.canonical.y-S.canonical.y||c.canonical.x-S.canonical.x}function an(S){return S==="raster"||S==="image"||S==="video"}ln.maxOverzooming=10,ln.maxUnderzooming=3;const Rt="mapboxgl_preloaded_worker_pool";class Un{constructor(){this.active={}}acquire(c){if(!this.workers)for(this.workers=[];this.workers.length<Un.workerCount;)this.workers.push(new Worker(a.c.WORKER_URL));return this.active[c]=!0,this.workers.slice()}release(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach(p=>{p.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Rt]}numActive(){return Object.keys(this.active).length}}const Qn=Math.floor(a.h.hardwareConcurrency/2);let yr;function Mn(){return yr||(yr=new Un),yr}Un.workerCount=a.ac(globalThis)?Math.max(Math.min(Qn,3),1):1;class Zt{constructor(c,p){this.reset(c,p)}reset(c,p){this.points=c||[],this._distances=[0];for(let v=1;v<this.points.length;v++)this._distances[v]=this._distances[v-1]+this.points[v].dist(this.points[v-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(c){if(this.points.length===1)return this.points[0];c=a.ad(c,0,1);let p=1,v=this._distances[p];const _=c*this.paddedLength+this.padding;for(;v<_&&p<this._distances.length;)v=this._distances[++p];const k=p-1,N=this._distances[k],z=v-N,V=z>0?(_-N)/z:0;return this.points[k].mult(1-V).add(this.points[p].mult(V))}}function er(S,c){let p=!0;return S==="always"||S!=="never"&&c!=="never"||(p=!1),p}class Xr{constructor(c,p,v){const _=this.boxCells=[],k=this.circleCells=[];this.xCellCount=Math.ceil(c/v),this.yCellCount=Math.ceil(p/v);for(let N=0;N<this.xCellCount*this.yCellCount;N++)_.push([]),k.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=p,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(c,p,v,_,k){this._forEachCell(p,v,_,k,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(p),this.bboxes.push(v),this.bboxes.push(_),this.bboxes.push(k)}insertCircle(c,p,v,_){this._forEachCell(p-_,v-_,p+_,v+_,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(p),this.circles.push(v),this.circles.push(_)}_insertBoxCell(c,p,v,_,k,N){this.boxCells[k].push(N)}_insertCircleCell(c,p,v,_,k,N){this.circleCells[k].push(N)}_query(c,p,v,_,k,N,z){if(v<0||c>this.width||_<0||p>this.height)return[];const V=[];if(c<=0&&p<=0&&this.width<=v&&this.height<=_){if(k)return[{key:null,x1:c,y1:p,x2:v,y2:_}];for(let H=0;H<this.boxKeys.length;H++)V.push({key:this.boxKeys[H],x1:this.bboxes[4*H],y1:this.bboxes[4*H+1],x2:this.bboxes[4*H+2],y2:this.bboxes[4*H+3]});for(let H=0;H<this.circleKeys.length;H++){const Y=this.circles[3*H],Z=this.circles[3*H+1],ie=this.circles[3*H+2];V.push({key:this.circleKeys[H],x1:Y-ie,y1:Z-ie,x2:Y+ie,y2:Z+ie})}}else this._forEachCell(c,p,v,_,this._queryCell,V,{hitTest:k,overlapMode:N,seenUids:{box:{},circle:{}}},z);return V}query(c,p,v,_){return this._query(c,p,v,_,!1,null)}hitTest(c,p,v,_,k,N){return this._query(c,p,v,_,!0,k,N).length>0}hitTestCircle(c,p,v,_,k){const N=c-v,z=c+v,V=p-v,H=p+v;if(z<0||N>this.width||H<0||V>this.height)return!1;const Y=[];return this._forEachCell(N,V,z,H,this._queryCellCircle,Y,{hitTest:!0,overlapMode:_,circle:{x:c,y:p,radius:v},seenUids:{box:{},circle:{}}},k),Y.length>0}_queryCell(c,p,v,_,k,N,z,V){const{seenUids:H,hitTest:Y,overlapMode:Z}=z,ie=this.boxCells[k];if(ie!==null){const me=this.bboxes;for(const xe of ie)if(!H.box[xe]){H.box[xe]=!0;const fe=4*xe,Ie=this.boxKeys[xe];if(c<=me[fe+2]&&p<=me[fe+3]&&v>=me[fe+0]&&_>=me[fe+1]&&(!V||V(Ie))&&(!Y||!er(Z,Ie.overlapMode))&&(N.push({key:Ie,x1:me[fe],y1:me[fe+1],x2:me[fe+2],y2:me[fe+3]}),Y))return!0}}const ge=this.circleCells[k];if(ge!==null){const me=this.circles;for(const xe of ge)if(!H.circle[xe]){H.circle[xe]=!0;const fe=3*xe,Ie=this.circleKeys[xe];if(this._circleAndRectCollide(me[fe],me[fe+1],me[fe+2],c,p,v,_)&&(!V||V(Ie))&&(!Y||!er(Z,Ie.overlapMode))){const Ue=me[fe],Ce=me[fe+1],De=me[fe+2];if(N.push({key:Ie,x1:Ue-De,y1:Ce-De,x2:Ue+De,y2:Ce+De}),Y)return!0}}}return!1}_queryCellCircle(c,p,v,_,k,N,z,V){const{circle:H,seenUids:Y,overlapMode:Z}=z,ie=this.boxCells[k];if(ie!==null){const me=this.bboxes;for(const xe of ie)if(!Y.box[xe]){Y.box[xe]=!0;const fe=4*xe,Ie=this.boxKeys[xe];if(this._circleAndRectCollide(H.x,H.y,H.radius,me[fe+0],me[fe+1],me[fe+2],me[fe+3])&&(!V||V(Ie))&&!er(Z,Ie.overlapMode))return N.push(!0),!0}}const ge=this.circleCells[k];if(ge!==null){const me=this.circles;for(const xe of ge)if(!Y.circle[xe]){Y.circle[xe]=!0;const fe=3*xe,Ie=this.circleKeys[xe];if(this._circlesCollide(me[fe],me[fe+1],me[fe+2],H.x,H.y,H.radius)&&(!V||V(Ie))&&!er(Z,Ie.overlapMode))return N.push(!0),!0}}}_forEachCell(c,p,v,_,k,N,z,V){const H=this._convertToXCellCoord(c),Y=this._convertToYCellCoord(p),Z=this._convertToXCellCoord(v),ie=this._convertToYCellCoord(_);for(let ge=H;ge<=Z;ge++)for(let me=Y;me<=ie;me++)if(k.call(this,c,p,v,_,this.xCellCount*me+ge,N,z,V))return}_convertToXCellCoord(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))}_convertToYCellCoord(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))}_circlesCollide(c,p,v,_,k,N){const z=_-c,V=k-p,H=v+N;return H*H>z*z+V*V}_circleAndRectCollide(c,p,v,_,k,N,z){const V=(N-_)/2,H=Math.abs(c-(_+V));if(H>V+v)return!1;const Y=(z-k)/2,Z=Math.abs(p-(k+Y));if(Z>Y+v)return!1;if(H<=V||Z<=Y)return!0;const ie=H-V,ge=Z-Y;return ie*ie+ge*ge<=v*v}}function dt(S,c,p,v,_){const k=a.Z();return c?(a.a0(k,k,[1/_,1/_,1]),p||a.ae(k,k,v.angle)):a.a1(k,v.labelPlaneMatrix,S),k}function Vt(S,c,p,v,_){if(c){const k=a.af(S);return a.a0(k,k,[_,_,1]),p||a.ae(k,k,-v.angle),k}return v.glCoordMatrix}function fn(S,c,p){let v;p?(v=[S.x,S.y,p(S.x,S.y),1],a.ag(v,v,c)):(v=[S.x,S.y,0,1],_e(v,v,c));const _=v[3];return{point:new a.P(v[0]/_,v[1]/_),signedDistanceFromCamera:_}}function xt(S,c){return .5+S/c*.5}function zt(S,c){const p=S[0]/S[3],v=S[1]/S[3];return p>=-c[0]&&p<=c[0]&&v>=-c[1]&&v<=c[1]}function et(S,c,p,v,_,k,N,z,V,H){const Y=v?S.textSizeData:S.iconSizeData,Z=a.ah(Y,p.transform.zoom),ie=[256/p.width*2+1,256/p.height*2+1],ge=v?S.text.dynamicLayoutVertexArray:S.icon.dynamicLayoutVertexArray;ge.clear();const me=S.lineVertexArray,xe=v?S.text.placedSymbolArray:S.icon.placedSymbolArray,fe=p.transform.width/p.transform.height;let Ie=!1;for(let Ue=0;Ue<xe.length;Ue++){const Ce=xe.get(Ue);if(Ce.hidden||Ce.writingMode===a.ai.vertical&&!Ie){ue(Ce.numGlyphs,ge);continue}let De;if(Ie=!1,H?(De=[Ce.anchorX,Ce.anchorY,H(Ce.anchorX,Ce.anchorY),1],a.ag(De,De,c)):(De=[Ce.anchorX,Ce.anchorY,0,1],_e(De,De,c)),!zt(De,ie)){ue(Ce.numGlyphs,ge);continue}const We=xt(p.transform.cameraToCenterDistance,De[3]),Ge=a.aj(Y,Z,Ce),tt=N?Ge/We:Ge*We,ut=new a.P(Ce.anchorX,Ce.anchorY),at=fn(ut,_,H).point,mt={projections:{},offsets:{}},Bt=Wn(Ce,tt,!1,z,c,_,k,S.glyphOffsetArray,me,ge,at,ut,mt,fe,V,H);Ie=Bt.useVertical,(Bt.notEnoughRoom||Ie||Bt.needsFlipping&&Wn(Ce,tt,!0,z,c,_,k,S.glyphOffsetArray,me,ge,at,ut,mt,fe,V,H).notEnoughRoom)&&ue(Ce.numGlyphs,ge)}v?S.text.dynamicLayoutVertexBuffer.updateData(ge):S.icon.dynamicLayoutVertexBuffer.updateData(ge)}function At(S,c,p,v,_,k,N,z,V,H,Y,Z,ie){const ge=z.glyphStartIndex+z.numGlyphs,me=z.lineStartIndex,xe=z.lineStartIndex+z.lineLength,fe=c.getoffsetX(z.glyphStartIndex),Ie=c.getoffsetX(ge-1),Ue=Q(S*fe,p,v,_,k,N,z.segment,me,xe,V,H,Y,Z,ie);if(!Ue)return null;const Ce=Q(S*Ie,p,v,_,k,N,z.segment,me,xe,V,H,Y,Z,ie);return Ce?{first:Ue,last:Ce}:null}function Lt(S,c,p,v){return S===a.ai.horizontal&&Math.abs(p.y-c.y)>Math.abs(p.x-c.x)*v?{useVertical:!0}:(S===a.ai.vertical?c.y<p.y:c.x>p.x)?{needsFlipping:!0}:null}function Wn(S,c,p,v,_,k,N,z,V,H,Y,Z,ie,ge,me,xe){const fe=c/24,Ie=S.lineOffsetX*fe,Ue=S.lineOffsetY*fe;let Ce;if(S.numGlyphs>1){const De=S.glyphStartIndex+S.numGlyphs,We=S.lineStartIndex,Ge=S.lineStartIndex+S.lineLength,tt=At(fe,z,Ie,Ue,p,Y,Z,S,V,k,ie,me,xe);if(!tt)return{notEnoughRoom:!0};const ut=fn(tt.first.point,N,xe).point,at=fn(tt.last.point,N,xe).point;if(v&&!p){const mt=Lt(S.writingMode,ut,at,ge);if(mt)return mt}Ce=[tt.first];for(let mt=S.glyphStartIndex+1;mt<De-1;mt++)Ce.push(Q(fe*z.getoffsetX(mt),Ie,Ue,p,Y,Z,S.segment,We,Ge,V,k,ie,me,xe));Ce.push(tt.last)}else{if(v&&!p){const We=fn(Z,_,xe).point,Ge=S.lineStartIndex+S.segment+1,tt=new a.P(V.getx(Ge),V.gety(Ge)),ut=fn(tt,_,xe),at=ut.signedDistanceFromCamera>0?ut.point:Fr(Z,tt,We,1,_,xe),mt=Lt(S.writingMode,We,at,ge);if(mt)return mt}const De=Q(fe*z.getoffsetX(S.glyphStartIndex),Ie,Ue,p,Y,Z,S.segment,S.lineStartIndex,S.lineStartIndex+S.lineLength,V,k,ie,me,xe);if(!De)return{notEnoughRoom:!0};Ce=[De]}for(const De of Ce)a.ak(H,De.point,De.angle);return{}}function Fr(S,c,p,v,_,k){const N=fn(S.add(S.sub(c)._unit()),_,k).point,z=p.sub(N);return p.add(z._mult(v/z.mag()))}function hn(S,c){const{projectionCache:p,lineVertexArray:v,labelPlaneMatrix:_,tileAnchorPoint:k,distanceFromAnchor:N,getElevation:z,previousVertex:V,direction:H,absOffsetX:Y}=c;if(p.projections[S])return p.projections[S];const Z=new a.P(v.getx(S),v.gety(S)),ie=fn(Z,_,z);if(ie.signedDistanceFromCamera>0)return p.projections[S]=ie.point,ie.point;const ge=S-H;return Fr(N===0?k:new a.P(v.getx(ge),v.gety(ge)),Z,V,Y-N+1,_,z)}function si(S,c,p){return S._unit()._perp()._mult(c*p)}function ve(S,c,p,v,_,k,N,z){const{projectionCache:V,direction:H}=z;if(V.offsets[S])return V.offsets[S];const Y=p.add(c);if(S+H<v||S+H>=_)return V.offsets[S]=Y,Y;const Z=hn(S+H,z),ie=si(Z.sub(p),N,H),ge=p.add(ie),me=Z.add(ie);return V.offsets[S]=a.al(k,Y,ge,me)||Y,V.offsets[S]}function Q(S,c,p,v,_,k,N,z,V,H,Y,Z,ie,ge){const me=v?S-c:S+c;let xe=me>0?1:-1,fe=0;v&&(xe*=-1,fe=Math.PI),xe<0&&(fe+=Math.PI);let Ie,Ue,Ce=xe>0?z+N:z+N+1,De=_,We=_,Ge=0,tt=0;const ut=Math.abs(me),at=[];let mt;for(;Ge+tt<=ut;){if(Ce+=xe,Ce<z||Ce>=V)return null;Ge+=tt,We=De,Ue=Ie;const St={projectionCache:Z,lineVertexArray:H,labelPlaneMatrix:Y,tileAnchorPoint:k,distanceFromAnchor:Ge,getElevation:ge,previousVertex:We,direction:xe,absOffsetX:ut};if(De=hn(Ce,St),p===0)at.push(We),mt=De.sub(We);else{let dn;const Ut=De.sub(We);dn=Ut.mag()===0?si(hn(Ce+xe,St).sub(De),p,xe):si(Ut,p,xe),Ue||(Ue=We.add(dn)),Ie=ve(Ce,dn,De,z,V,Ue,p,St),at.push(Ue),mt=Ie.sub(Ue)}tt=mt.mag()}const Bt=mt._mult((ut-Ge)/tt)._add(Ue||We),kn=fe+Math.atan2(De.y-We.y,De.x-We.x);return at.push(Bt),{point:Bt,angle:ie?kn:0,path:at}}const re=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ue(S,c){for(let p=0;p<S;p++){const v=c.length;c.resize(v+4),c.float32.set(re,3*v)}}function _e(S,c,p){const v=c[0],_=c[1];return S[0]=p[0]*v+p[4]*_+p[12],S[1]=p[1]*v+p[5]*_+p[13],S[3]=p[3]*v+p[7]*_+p[15],S}const Se=100;class Ne{constructor(c,p=new Xr(c.width+200,c.height+200,25),v=new Xr(c.width+200,c.height+200,25)){this.transform=c,this.grid=p,this.ignoredGrid=v,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+Se,this.screenBottomBoundary=c.height+Se,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(c,p,v,_,k,N){const z=this.projectAndGetPerspectiveRatio(_,c.anchorPointX,c.anchorPointY,N),V=v*z.perspectiveRatio,H=c.x1*V+z.point.x,Y=c.y1*V+z.point.y,Z=c.x2*V+z.point.x,ie=c.y2*V+z.point.y;return!this.isInsideGrid(H,Y,Z,ie)||p!=="always"&&this.grid.hitTest(H,Y,Z,ie,p,k)||z.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[H,Y,Z,ie],offscreen:this.isOffscreen(H,Y,Z,ie)}}placeCollisionCircles(c,p,v,_,k,N,z,V,H,Y,Z,ie,ge,me){const xe=[],fe=new a.P(p.anchorX,p.anchorY),Ie=fn(fe,N,me),Ue=xt(this.transform.cameraToCenterDistance,Ie.signedDistanceFromCamera),Ce=(Y?k/Ue:k*Ue)/a.ap,De=fn(fe,z,me).point,We=At(Ce,_,p.lineOffsetX*Ce,p.lineOffsetY*Ce,!1,De,fe,p,v,z,{projections:{},offsets:{}},!1,me);let Ge=!1,tt=!1,ut=!0;if(We){const at=.5*ie*Ue+ge,mt=new a.P(-100,-100),Bt=new a.P(this.screenRightBoundary,this.screenBottomBoundary),kn=new Zt,St=We.first,dn=We.last;let Ut=[];for(let xn=St.path.length-1;xn>=1;xn--)Ut.push(St.path[xn]);for(let xn=1;xn<dn.path.length;xn++)Ut.push(dn.path[xn]);const ir=2.5*at;if(V){const xn=Ut.map(Tn=>fn(Tn,V,me));Ut=xn.some(Tn=>Tn.signedDistanceFromCamera<=0)?[]:xn.map(Tn=>Tn.point)}let Sn=[];if(Ut.length>0){const xn=Ut[0].clone(),Tn=Ut[0].clone();for(let Jr=1;Jr<Ut.length;Jr++)xn.x=Math.min(xn.x,Ut[Jr].x),xn.y=Math.min(xn.y,Ut[Jr].y),Tn.x=Math.max(Tn.x,Ut[Jr].x),Tn.y=Math.max(Tn.y,Ut[Jr].y);Sn=xn.x>=mt.x&&Tn.x<=Bt.x&&xn.y>=mt.y&&Tn.y<=Bt.y?[Ut]:Tn.x<mt.x||xn.x>Bt.x||Tn.y<mt.y||xn.y>Bt.y?[]:a.am([Ut],mt.x,mt.y,Bt.x,Bt.y)}for(const xn of Sn){kn.reset(xn,.25*at);let Tn=0;Tn=kn.length<=.5*at?1:Math.ceil(kn.paddedLength/ir)+1;for(let Jr=0;Jr<Tn;Jr++){const vr=Jr/Math.max(Tn-1,1),Ui=kn.lerp(vr),wi=Ui.x+Se,ci=Ui.y+Se;xe.push(wi,ci,at,0);const ea=wi-at,kr=ci-at,vs=wi+at,bs=ci+at;if(ut=ut&&this.isOffscreen(ea,kr,vs,bs),tt=tt||this.isInsideGrid(ea,kr,vs,bs),c!=="always"&&this.grid.hitTestCircle(wi,ci,at,c,Z)&&(Ge=!0,!H))return{circles:[],offscreen:!1,collisionDetected:Ge}}}}return{circles:!H&&Ge||!tt||Ue<this.perspectiveRatioCutoff?[]:xe,offscreen:ut,collisionDetected:Ge}}queryRenderedSymbols(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const p=[];let v=1/0,_=1/0,k=-1/0,N=-1/0;for(const Y of c){const Z=new a.P(Y.x+Se,Y.y+Se);v=Math.min(v,Z.x),_=Math.min(_,Z.y),k=Math.max(k,Z.x),N=Math.max(N,Z.y),p.push(Z)}const z=this.grid.query(v,_,k,N).concat(this.ignoredGrid.query(v,_,k,N)),V={},H={};for(const Y of z){const Z=Y.key;if(V[Z.bucketInstanceId]===void 0&&(V[Z.bucketInstanceId]={}),V[Z.bucketInstanceId][Z.featureIndex])continue;const ie=[new a.P(Y.x1,Y.y1),new a.P(Y.x2,Y.y1),new a.P(Y.x2,Y.y2),new a.P(Y.x1,Y.y2)];a.an(p,ie)&&(V[Z.bucketInstanceId][Z.featureIndex]=!0,H[Z.bucketInstanceId]===void 0&&(H[Z.bucketInstanceId]=[]),H[Z.bucketInstanceId].push(Z.featureIndex))}return H}insertCollisionBox(c,p,v,_,k,N){(v?this.ignoredGrid:this.grid).insert({bucketInstanceId:_,featureIndex:k,collisionGroupID:N,overlapMode:p},c[0],c[1],c[2],c[3])}insertCollisionCircles(c,p,v,_,k,N){const z=v?this.ignoredGrid:this.grid,V={bucketInstanceId:_,featureIndex:k,collisionGroupID:N,overlapMode:p};for(let H=0;H<c.length;H+=4)z.insertCircle(V,c[H],c[H+1],c[H+2])}projectAndGetPerspectiveRatio(c,p,v,_){let k;return _?(k=[p,v,_(p,v),1],a.ag(k,k,c)):(k=[p,v,0,1],_e(k,k,c)),{point:new a.P((k[0]/k[3]+1)/2*this.transform.width+Se,(-k[1]/k[3]+1)/2*this.transform.height+Se),perspectiveRatio:.5+this.transform.cameraToCenterDistance/k[3]*.5}}isOffscreen(c,p,v,_){return v<Se||c>=this.screenRightBoundary||_<Se||p>this.screenBottomBoundary}isInsideGrid(c,p,v,_){return v>=0&&c<this.gridRightBoundary&&_>=0&&p<this.gridBottomBoundary}getViewportMatrix(){const c=a.ao([]);return a.$(c,c,[-100,-100,0]),c}}function Me(S,c,p){return c*(a.N/(S.tileSize*Math.pow(2,p-S.tileID.overscaledZ)))}class ke{constructor(c,p,v,_){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?p:-p))):_&&v?1:0,this.placed=v}isHidden(){return this.opacity===0&&!this.placed}}class $e{constructor(c,p,v,_,k){this.text=new ke(c?c.text:null,p,v,k),this.icon=new ke(c?c.icon:null,p,_,k)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ze{constructor(c,p,v){this.text=c,this.icon=p,this.skipFade=v}}class Ke{constructor(){this.invProjMatrix=a.Z(),this.viewportMatrix=a.Z(),this.circles=[]}}class Qe{constructor(c,p,v,_,k){this.bucketInstanceId=c,this.featureIndex=p,this.sourceLayerIndex=v,this.bucketIndex=_,this.tileID=k}}class Xt{constructor(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}}get(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){const p=++this.maxGroupID;this.collisionGroups[c]={ID:p,predicate:v=>v.collisionGroupID===p}}return this.collisionGroups[c]}}function sn(S,c,p,v,_){const{horizontalAlign:k,verticalAlign:N}=a.au(S);return new a.P(-(k-.5)*c+v[0]*_,-(N-.5)*p+v[1]*_)}function jt(S,c,p,v,_,k){const{x1:N,x2:z,y1:V,y2:H,anchorPointX:Y,anchorPointY:Z}=S,ie=new a.P(c,p);return v&&ie._rotate(_?k:-k),{x1:N+ie.x,y1:V+ie.y,x2:z+ie.x,y2:H+ie.y,anchorPointX:Y,anchorPointY:Z}}class Jt{constructor(c,p,v,_,k){this.transform=c.clone(),this.terrain=p,this.collisionIndex=new Ne(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=v,this.retainedQueryData={},this.collisionGroups=new Xt(_),this.collisionCircleArrays={},this.prevPlacement=k,k&&(k.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(c,p,v,_){const k=v.getBucket(p),N=v.latestFeatureIndex;if(!k||!N||p.id!==k.layerIds[0])return;const z=v.collisionBoxArray,V=k.layers[0].layout,H=Math.pow(2,this.transform.zoom-v.tileID.overscaledZ),Y=v.tileSize/a.N,Z=this.transform.calculatePosMatrix(v.tileID.toUnwrapped()),ie=V.get("text-pitch-alignment")==="map",ge=V.get("text-rotation-alignment")==="map",me=Me(v,1,this.transform.zoom),xe=dt(Z,ie,ge,this.transform,me);let fe=null;if(ie){const Ue=Vt(Z,ie,ge,this.transform,me);fe=a.a1([],this.transform.labelPlaneMatrix,Ue)}this.retainedQueryData[k.bucketInstanceId]=new Qe(k.bucketInstanceId,N,k.sourceLayerIndex,k.index,v.tileID);const Ie={bucket:k,layout:V,posMatrix:Z,textLabelPlaneMatrix:xe,labelToScreenMatrix:fe,scale:H,textPixelRatio:Y,holdingForFade:v.holdingForFade(),collisionBoxArray:z,partiallyEvaluatedTextSize:a.ah(k.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(k.sourceID)};if(_)for(const Ue of k.sortKeyRanges){const{sortKey:Ce,symbolInstanceStart:De,symbolInstanceEnd:We}=Ue;c.push({sortKey:Ce,symbolInstanceStart:De,symbolInstanceEnd:We,parameters:Ie})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:k.symbolInstances.length,parameters:Ie})}attemptAnchorPlacement(c,p,v,_,k,N,z,V,H,Y,Z,ie,ge,me,xe,fe){const Ie=a.aq[c.textAnchor],Ue=[c.textOffset0,c.textOffset1],Ce=sn(Ie,v,_,Ue,k),De=this.collisionIndex.placeCollisionBox(jt(p,Ce.x,Ce.y,N,z,this.transform.angle),Z,V,H,Y.predicate,fe);if((!xe||this.collisionIndex.placeCollisionBox(jt(xe,Ce.x,Ce.y,N,z,this.transform.angle),Z,V,H,Y.predicate,fe).box.length!==0)&&De.box.length>0){let We;if(this.prevPlacement&&this.prevPlacement.variableOffsets[ie.crossTileID]&&this.prevPlacement.placements[ie.crossTileID]&&this.prevPlacement.placements[ie.crossTileID].text&&(We=this.prevPlacement.variableOffsets[ie.crossTileID].anchor),ie.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[ie.crossTileID]={textOffset:Ue,width:v,height:_,anchor:Ie,textBoxScale:k,prevAnchor:We},this.markUsedJustification(ge,Ie,ie,me),ge.allowVerticalPlacement&&(this.markUsedOrientation(ge,me,ie),this.placedOrientations[ie.crossTileID]=me),{shift:Ce,placedGlyphBoxes:De}}}placeLayerBucketPart(c,p,v){const{bucket:_,layout:k,posMatrix:N,textLabelPlaneMatrix:z,labelToScreenMatrix:V,textPixelRatio:H,holdingForFade:Y,collisionBoxArray:Z,partiallyEvaluatedTextSize:ie,collisionGroup:ge}=c.parameters,me=k.get("text-optional"),xe=k.get("icon-optional"),fe=a.ar(k,"text-overlap","text-allow-overlap"),Ie=fe==="always",Ue=a.ar(k,"icon-overlap","icon-allow-overlap"),Ce=Ue==="always",De=k.get("text-rotation-alignment")==="map",We=k.get("text-pitch-alignment")==="map",Ge=k.get("icon-text-fit")!=="none",tt=k.get("symbol-z-order")==="viewport-y",ut=Ie&&(Ce||!_.hasIconData()||xe),at=Ce&&(Ie||!_.hasTextData()||me);!_.collisionArrays&&Z&&_.deserializeCollisionBoxes(Z);const mt=this.retainedQueryData[_.bucketInstanceId].tileID,Bt=this.terrain?(St,dn)=>this.terrain.getElevation(mt,St,dn):null,kn=(St,dn)=>{var Ut,ir;if(p[St.crossTileID])return;if(Y)return void(this.placements[St.crossTileID]=new Ze(!1,!1,!1));let Sn=!1,xn=!1,Tn=!0,Jr=null,vr={box:null,offscreen:null},Ui={box:null,offscreen:null},wi=null,ci=null,ea=null,kr=0,vs=0,bs=0;dn.textFeatureIndex?kr=dn.textFeatureIndex:St.useRuntimeCollisionCircles&&(kr=St.featureIndex),dn.verticalTextFeatureIndex&&(vs=dn.verticalTextFeatureIndex);const Hl=dn.textBox;if(Hl){const Qi=Qr=>{let Si=a.ai.horizontal;if(_.allowVerticalPlacement&&!Qr&&this.prevPlacement){const To=this.prevPlacement.placedOrientations[St.crossTileID];To&&(this.placedOrientations[St.crossTileID]=To,Si=To,this.markUsedOrientation(_,Si,St))}return Si},Vi=(Qr,Si)=>{if(_.allowVerticalPlacement&&St.numVerticalGlyphVertices>0&&dn.verticalTextBox){for(const To of _.writingModes)if(To===a.ai.vertical?(vr=Si(),Ui=vr):vr=Qr(),vr&&vr.box&&vr.box.length)break}else vr=Qr()},fo=St.textAnchorOffsetStartIndex,Mc=St.textAnchorOffsetEndIndex;if(Mc===fo){const Qr=(Si,To)=>{const ei=this.collisionIndex.placeCollisionBox(Si,fe,H,N,ge.predicate,Bt);return ei&&ei.box&&ei.box.length&&(this.markUsedOrientation(_,To,St),this.placedOrientations[St.crossTileID]=To),ei};Vi(()=>Qr(Hl,a.ai.horizontal),()=>{const Si=dn.verticalTextBox;return _.allowVerticalPlacement&&St.numVerticalGlyphVertices>0&&Si?Qr(Si,a.ai.vertical):{box:null,offscreen:null}}),Qi(vr&&vr.box&&vr.box.length)}else{let Qr=a.aq[(ir=(Ut=this.prevPlacement)===null||Ut===void 0?void 0:Ut.variableOffsets[St.crossTileID])===null||ir===void 0?void 0:ir.anchor];const Si=(ei,Ac,sp)=>{const g_=ei.x2-ei.x1,y_=ei.y2-ei.y1,gT=St.textBoxScale,jy=Ge&&Ue==="never"?Ac:null;let xs={box:[],offscreen:!1},Ic=fe==="never"?1:2,_s="never";Qr&&Ic++;for(let Sa=0;Sa<Ic;Sa++){for(let ws=fo;ws<Mc;ws++){const Ly=_.textAnchorOffsets.get(ws);if(Qr&&Ly.textAnchor!==Qr)continue;const ll=this.attemptAnchorPlacement(Ly,ei,g_,y_,gT,De,We,H,N,ge,_s,St,_,sp,jy,Bt);if(ll&&(xs=ll.placedGlyphBoxes,xs&&xs.box&&xs.box.length))return Sn=!0,Jr=ll.shift,xs}Qr?Qr=null:_s=fe}return xs};Vi(()=>Si(Hl,dn.iconBox,a.ai.horizontal),()=>{const ei=dn.verticalTextBox;return _.allowVerticalPlacement&&!(vr&&vr.box&&vr.box.length)&&St.numVerticalGlyphVertices>0&&ei?Si(ei,dn.verticalIconBox,a.ai.vertical):{box:null,offscreen:null}}),vr&&(Sn=vr.box,Tn=vr.offscreen);const To=Qi(vr&&vr.box);if(!Sn&&this.prevPlacement){const ei=this.prevPlacement.variableOffsets[St.crossTileID];ei&&(this.variableOffsets[St.crossTileID]=ei,this.markUsedJustification(_,ei.anchor,St,To))}}}if(wi=vr,Sn=wi&&wi.box&&wi.box.length>0,Tn=wi&&wi.offscreen,St.useRuntimeCollisionCircles){const Qi=_.text.placedSymbolArray.get(St.centerJustifiedTextSymbolIndex),Vi=a.aj(_.textSizeData,ie,Qi),fo=k.get("text-padding");ci=this.collisionIndex.placeCollisionCircles(fe,Qi,_.lineVertexArray,_.glyphOffsetArray,Vi,N,z,V,v,We,ge.predicate,St.collisionCircleDiameter,fo,Bt),ci.circles.length&&ci.collisionDetected&&!v&&a.w("Collisions detected, but collision boxes are not shown"),Sn=Ie||ci.circles.length>0&&!ci.collisionDetected,Tn=Tn&&ci.offscreen}if(dn.iconFeatureIndex&&(bs=dn.iconFeatureIndex),dn.iconBox){const Qi=Vi=>{const fo=Ge&&Jr?jt(Vi,Jr.x,Jr.y,De,We,this.transform.angle):Vi;return this.collisionIndex.placeCollisionBox(fo,Ue,H,N,ge.predicate,Bt)};Ui&&Ui.box&&Ui.box.length&&dn.verticalIconBox?(ea=Qi(dn.verticalIconBox),xn=ea.box.length>0):(ea=Qi(dn.iconBox),xn=ea.box.length>0),Tn=Tn&&ea.offscreen}const Oc=me||St.numHorizontalGlyphVertices===0&&St.numVerticalGlyphVertices===0,qu=xe||St.numIconVertices===0;if(Oc||qu?qu?Oc||(xn=xn&&Sn):Sn=xn&&Sn:xn=Sn=xn&&Sn,Sn&&wi&&wi.box&&this.collisionIndex.insertCollisionBox(wi.box,fe,k.get("text-ignore-placement"),_.bucketInstanceId,Ui&&Ui.box&&vs?vs:kr,ge.ID),xn&&ea&&this.collisionIndex.insertCollisionBox(ea.box,Ue,k.get("icon-ignore-placement"),_.bucketInstanceId,bs,ge.ID),ci&&(Sn&&this.collisionIndex.insertCollisionCircles(ci.circles,fe,k.get("text-ignore-placement"),_.bucketInstanceId,kr,ge.ID),v)){const Qi=_.bucketInstanceId;let Vi=this.collisionCircleArrays[Qi];Vi===void 0&&(Vi=this.collisionCircleArrays[Qi]=new Ke);for(let fo=0;fo<ci.circles.length;fo+=4)Vi.circles.push(ci.circles[fo+0]),Vi.circles.push(ci.circles[fo+1]),Vi.circles.push(ci.circles[fo+2]),Vi.circles.push(ci.collisionDetected?1:0)}if(St.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(_.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[St.crossTileID]=new Ze(Sn||ut,xn||at,Tn||_.justReloaded),p[St.crossTileID]=!0};if(tt){if(c.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const St=_.getSortedSymbolIndexes(this.transform.angle);for(let dn=St.length-1;dn>=0;--dn){const Ut=St[dn];kn(_.symbolInstances.get(Ut),_.collisionArrays[Ut])}}else for(let St=c.symbolInstanceStart;St<c.symbolInstanceEnd;St++)kn(_.symbolInstances.get(St),_.collisionArrays[St]);if(v&&_.bucketInstanceId in this.collisionCircleArrays){const St=this.collisionCircleArrays[_.bucketInstanceId];a.as(St.invProjMatrix,N),St.viewportMatrix=this.collisionIndex.getViewportMatrix()}_.justReloaded=!1}markUsedJustification(c,p,v,_){let k;k=_===a.ai.vertical?v.verticalPlacedTextSymbolIndex:{left:v.leftJustifiedTextSymbolIndex,center:v.centerJustifiedTextSymbolIndex,right:v.rightJustifiedTextSymbolIndex}[a.at(p)];const N=[v.leftJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.rightJustifiedTextSymbolIndex,v.verticalPlacedTextSymbolIndex];for(const z of N)z>=0&&(c.text.placedSymbolArray.get(z).crossTileID=k>=0&&z!==k?0:v.crossTileID)}markUsedOrientation(c,p,v){const _=p===a.ai.horizontal||p===a.ai.horizontalOnly?p:0,k=p===a.ai.vertical?p:0,N=[v.leftJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.rightJustifiedTextSymbolIndex];for(const z of N)c.text.placedSymbolArray.get(z).placedOrientation=_;v.verticalPlacedTextSymbolIndex&&(c.text.placedSymbolArray.get(v.verticalPlacedTextSymbolIndex).placedOrientation=k)}commit(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;const p=this.prevPlacement;let v=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;const _=p?p.symbolFadeChange(c):1,k=p?p.opacities:{},N=p?p.variableOffsets:{},z=p?p.placedOrientations:{};for(const V in this.placements){const H=this.placements[V],Y=k[V];Y?(this.opacities[V]=new $e(Y,_,H.text,H.icon),v=v||H.text!==Y.text.placed||H.icon!==Y.icon.placed):(this.opacities[V]=new $e(null,_,H.text,H.icon,H.skipFade),v=v||H.text||H.icon)}for(const V in k){const H=k[V];if(!this.opacities[V]){const Y=new $e(H,_,!1,!1);Y.isHidden()||(this.opacities[V]=Y,v=v||H.text.placed||H.icon.placed)}}for(const V in N)this.variableOffsets[V]||!this.opacities[V]||this.opacities[V].isHidden()||(this.variableOffsets[V]=N[V]);for(const V in z)this.placedOrientations[V]||!this.opacities[V]||this.opacities[V].isHidden()||(this.placedOrientations[V]=z[V]);if(p&&p.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");v?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:c)}updateLayerOpacities(c,p){const v={};for(const _ of p){const k=_.getBucket(c);k&&_.latestFeatureIndex&&c.id===k.layerIds[0]&&this.updateBucketOpacities(k,v,_.collisionBoxArray)}}updateBucketOpacities(c,p,v){c.hasTextData()&&(c.text.opacityVertexArray.clear(),c.text.hasVisibleVertices=!1),c.hasIconData()&&(c.icon.opacityVertexArray.clear(),c.icon.hasVisibleVertices=!1),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();const _=c.layers[0],k=_.layout,N=new $e(null,0,!1,!1,!0),z=k.get("text-allow-overlap"),V=k.get("icon-allow-overlap"),H=_._unevaluatedLayout.hasValue("text-variable-anchor")||_._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Y=k.get("text-rotation-alignment")==="map",Z=k.get("text-pitch-alignment")==="map",ie=k.get("icon-text-fit")!=="none",ge=new $e(null,0,z&&(V||!c.hasIconData()||k.get("icon-optional")),V&&(z||!c.hasTextData()||k.get("text-optional")),!0);!c.collisionArrays&&v&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(v);const me=(xe,fe,Ie)=>{for(let Ue=0;Ue<fe/4;Ue++)xe.opacityVertexArray.emplaceBack(Ie);xe.hasVisibleVertices=xe.hasVisibleVertices||Ie!==ya};for(let xe=0;xe<c.symbolInstances.length;xe++){const fe=c.symbolInstances.get(xe),{numHorizontalGlyphVertices:Ie,numVerticalGlyphVertices:Ue,crossTileID:Ce}=fe;let De=this.opacities[Ce];p[Ce]?De=N:De||(De=ge,this.opacities[Ce]=De),p[Ce]=!0;const We=fe.numIconVertices>0,Ge=this.placedOrientations[fe.crossTileID],tt=Ge===a.ai.vertical,ut=Ge===a.ai.horizontal||Ge===a.ai.horizontalOnly;if(Ie>0||Ue>0){const at=tr(De.text);me(c.text,Ie,tt?ya:at),me(c.text,Ue,ut?ya:at);const mt=De.text.isHidden();[fe.rightJustifiedTextSymbolIndex,fe.centerJustifiedTextSymbolIndex,fe.leftJustifiedTextSymbolIndex].forEach(St=>{St>=0&&(c.text.placedSymbolArray.get(St).hidden=mt||tt?1:0)}),fe.verticalPlacedTextSymbolIndex>=0&&(c.text.placedSymbolArray.get(fe.verticalPlacedTextSymbolIndex).hidden=mt||ut?1:0);const Bt=this.variableOffsets[fe.crossTileID];Bt&&this.markUsedJustification(c,Bt.anchor,fe,Ge);const kn=this.placedOrientations[fe.crossTileID];kn&&(this.markUsedJustification(c,"left",fe,kn),this.markUsedOrientation(c,kn,fe))}if(We){const at=tr(De.icon),mt=!(ie&&fe.verticalPlacedIconSymbolIndex&&tt);fe.placedIconSymbolIndex>=0&&(me(c.icon,fe.numIconVertices,mt?at:ya),c.icon.placedSymbolArray.get(fe.placedIconSymbolIndex).hidden=De.icon.isHidden()),fe.verticalPlacedIconSymbolIndex>=0&&(me(c.icon,fe.numVerticalIconVertices,mt?ya:at),c.icon.placedSymbolArray.get(fe.verticalPlacedIconSymbolIndex).hidden=De.icon.isHidden())}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){const at=c.collisionArrays[xe];if(at){let mt=new a.P(0,0);if(at.textBox||at.verticalTextBox){let kn=!0;if(H){const St=this.variableOffsets[Ce];St?(mt=sn(St.anchor,St.width,St.height,St.textOffset,St.textBoxScale),Y&&mt._rotate(Z?this.transform.angle:-this.transform.angle)):kn=!1}at.textBox&&mn(c.textCollisionBox.collisionVertexArray,De.text.placed,!kn||tt,mt.x,mt.y),at.verticalTextBox&&mn(c.textCollisionBox.collisionVertexArray,De.text.placed,!kn||ut,mt.x,mt.y)}const Bt=!!(!ut&&at.verticalIconBox);at.iconBox&&mn(c.iconCollisionBox.collisionVertexArray,De.icon.placed,Bt,ie?mt.x:0,ie?mt.y:0),at.verticalIconBox&&mn(c.iconCollisionBox.collisionVertexArray,De.icon.placed,!Bt,ie?mt.x:0,ie?mt.y:0)}}}if(c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.text.opacityVertexArray.length!==c.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${c.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${c.text.layoutVertexArray.length}) / 4`);if(c.icon.opacityVertexArray.length!==c.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${c.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${c.icon.layoutVertexArray.length}) / 4`);if(c.bucketInstanceId in this.collisionCircleArrays){const xe=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=xe.invProjMatrix,c.placementViewportMatrix=xe.viewportMatrix,c.collisionCircleArray=xe.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}}symbolFadeChange(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(c){return Math.max(0,(this.transform.zoom-c)/1.5)}hasTransitions(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(c,p){const v=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*v>c}setStale(){this.stale=!0}}function mn(S,c,p,v,_){S.emplaceBack(c?1:0,p?1:0,v||0,_||0),S.emplaceBack(c?1:0,p?1:0,v||0,_||0),S.emplaceBack(c?1:0,p?1:0,v||0,_||0),S.emplaceBack(c?1:0,p?1:0,v||0,_||0)}const Bn=Math.pow(2,25),Zn=Math.pow(2,24),Dn=Math.pow(2,17),An=Math.pow(2,16),ji=Math.pow(2,9),ur=Math.pow(2,8),cn=Math.pow(2,1);function tr(S){if(S.opacity===0&&!S.placed)return 0;if(S.opacity===1&&S.placed)return 4294967295;const c=S.placed?1:0,p=Math.floor(127*S.opacity);return p*Bn+c*Zn+p*Dn+c*An+p*ji+c*ur+p*cn+c}const ya=0;class Ix{constructor(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&!c.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(c,p,v,_,k){const N=this._bucketParts;for(;this._currentTileIndex<c.length;)if(p.getBucketParts(N,_,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,k())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,N.sort((z,V)=>z.sortKey-V.sortKey));this._currentPartIndex<N.length;)if(p.placeLayerBucketPart(N[this._currentPartIndex],this._seenCrossTileIDs,v),this._currentPartIndex++,k())return!0;return!1}}class Iu{constructor(c,p,v,_,k,N,z,V){this.placement=new Jt(c,p,N,z,V),this._currentPlacementIndex=v.length-1,this._forceFullPlacement=_,this._showCollisionBoxes=k,this._done=!1}isDone(){return this._done}continuePlacement(c,p,v){const _=a.h.now(),k=()=>!this._forceFullPlacement&&a.h.now()-_>2;for(;this._currentPlacementIndex>=0;){const N=p[c[this._currentPlacementIndex]],z=this.placement.collisionIndex.transform.zoom;if(N.type==="symbol"&&(!N.minzoom||N.minzoom<=z)&&(!N.maxzoom||N.maxzoom>z)){if(this._inProgressLayer||(this._inProgressLayer=new Ix(N)),this._inProgressLayer.continuePlacement(v[N.source],this.placement,this._showCollisionBoxes,N,k))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(c){return this.placement.commit(c),this.placement}}const $u=512/a.N/2;class Qk{constructor(c,p,v){this.tileID=c,this.bucketInstanceId=v,this._symbolsByKey={};const _=new Map;for(let k=0;k<p.length;k++){const N=p.get(k),z=N.key,V=_.get(z);V?V.push(N):_.set(z,[N])}for(const[k,N]of _){const z={positions:N.map(V=>({x:Math.floor(V.anchorX*$u),y:Math.floor(V.anchorY*$u)})),crossTileIDs:N.map(V=>V.crossTileID)};if(z.positions.length>128){const V=new a.av(z.positions.length,16,Uint16Array);for(const{x:H,y:Y}of z.positions)V.add(H,Y);V.finish(),delete z.positions,z.index=V}this._symbolsByKey[k]=z}}getScaledCoordinates(c,p){const{x:v,y:_,z:k}=this.tileID.canonical,{x:N,y:z,z:V}=p.canonical,H=$u/Math.pow(2,V-k),Y=(z*a.N+c.anchorY)*H,Z=_*a.N*$u;return{x:Math.floor((N*a.N+c.anchorX)*H-v*a.N*$u),y:Math.floor(Y-Z)}}findMatches(c,p,v){const _=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z);for(let k=0;k<c.length;k++){const N=c.get(k);if(N.crossTileID)continue;const z=this._symbolsByKey[N.key];if(!z)continue;const V=this.getScaledCoordinates(N,p);if(z.index){const H=z.index.range(V.x-_,V.y-_,V.x+_,V.y+_).sort();for(const Y of H){const Z=z.crossTileIDs[Y];if(!v[Z]){v[Z]=!0,N.crossTileID=Z;break}}}else if(z.positions)for(let H=0;H<z.positions.length;H++){const Y=z.positions[H],Z=z.crossTileIDs[H];if(Math.abs(Y.x-V.x)<=_&&Math.abs(Y.y-V.y)<=_&&!v[Z]){v[Z]=!0,N.crossTileID=Z;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:c})=>c)}}class rr{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Kg{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(c){const p=Math.round((c-this.lng)/360);if(p!==0)for(const v in this.indexes){const _=this.indexes[v],k={};for(const N in _){const z=_[N];z.tileID=z.tileID.unwrapTo(z.tileID.wrap+p),k[z.tileID.key]=z}this.indexes[v]=k}this.lng=c}addBucket(c,p,v){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(let k=0;k<p.symbolInstances.length;k++)p.symbolInstances.get(k).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});const _=this.usedCrossTileIDs[c.overscaledZ];for(const k in this.indexes){const N=this.indexes[k];if(Number(k)>c.overscaledZ)for(const z in N){const V=N[z];V.tileID.isChildOf(c)&&V.findMatches(p.symbolInstances,c,_)}else{const z=N[c.scaledTo(Number(k)).key];z&&z.findMatches(p.symbolInstances,c,_)}}for(let k=0;k<p.symbolInstances.length;k++){const N=p.symbolInstances.get(k);N.crossTileID||(N.crossTileID=v.generate(),_[N.crossTileID]=!0)}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new Qk(c,p.symbolInstances,p.bucketInstanceId),!0}removeBucketCrossTileIDs(c,p){for(const v of p.getCrossTileIDsLists())for(const _ of v)delete this.usedCrossTileIDs[c][_]}removeStaleBuckets(c){let p=!1;for(const v in this.indexes){const _=this.indexes[v];for(const k in _)c[_[k].bucketInstanceId]||(this.removeBucketCrossTileIDs(v,_[k]),delete _[k],p=!0)}return p}}class $h{constructor(){this.layerIndexes={},this.crossTileIDs=new rr,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(c,p,v){let _=this.layerIndexes[c.id];_===void 0&&(_=this.layerIndexes[c.id]=new Kg);let k=!1;const N={};_.handleWrapJump(v);for(const z of p){const V=z.getBucket(c);V&&c.id===V.layerIds[0]&&(V.bucketInstanceId||(V.bucketInstanceId=++this.maxBucketInstanceId),_.addBucket(z.tileID,V,this.crossTileIDs)&&(k=!0),N[V.bucketInstanceId]=!0)}return _.removeStaleBuckets(N)&&(k=!0),k}pruneUnusedLayers(c){const p={};c.forEach(v=>{p[v]=!0});for(const v in this.layerIndexes)p[v]||delete this.layerIndexes[v]}}const Ji=(S,c)=>a.x(S,c&&c.filter(p=>p.identifier!=="source.canvas")),Ko=a.F(a.ax,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),eT=a.F(a.ax,["setCenter","setZoom","setBearing","setPitch"]),va=a.aw();class Fi extends a.E{constructor(c,p={}){super(),this.map=c,this.dispatcher=new Xe(Mn(),this,c._getMapId()),this.imageManager=new le,this.imageManager.setEventedParent(this),this.glyphManager=new pe(c._requestManager,p.localIdeographFontFamily),this.lineAtlas=new Re(256,512),this.crossTileSymbolIndex=new $h,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ay,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.az());const v=this;this._rtlTextPluginCallback=Fi.registerForPluginStateChange(_=>{v.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:_.pluginStatus,pluginURL:_.pluginURL},(k,N)=>{if(a.aA(k),N&&N.every(z=>z))for(const z in v.sourceCaches){const V=v.sourceCaches[z].getSource().type;V!=="vector"&&V!=="geojson"||v.sourceCaches[z].reload()}})}),this.on("data",_=>{if(_.dataType!=="source"||_.sourceDataType!=="metadata")return;const k=this.sourceCaches[_.sourceId];if(!k)return;const N=k.getSource();if(N&&N.vectorLayerIds)for(const z in this._layers){const V=this._layers[z];V.source===N.id&&this._validateLayer(V)}})}loadURL(c,p={},v){this.fire(new a.k("dataloading",{dataType:"style"})),p.validate=typeof p.validate!="boolean"||p.validate;const _=this.map._requestManager.transformRequest(c,A.Style);this._request=a.f(_,(k,N)=>{this._request=null,k?this.fire(new a.j(k)):N&&this._load(N,p,v)})}loadJSON(c,p={},v){this.fire(new a.k("dataloading",{dataType:"style"})),this._request=a.h.frame(()=>{this._request=null,p.validate=p.validate!==!1,this._load(c,p,v)})}loadEmpty(){this.fire(new a.k("dataloading",{dataType:"style"})),this._load(va,{validate:!1})}_load(c,p,v){var _;const k=p.transformStyle?p.transformStyle(v,c):c;if(!p.validate||!Ji(this,a.y(k))){this._loaded=!0,this.stylesheet=k;for(const N in k.sources)this.addSource(N,k.sources[N],{validate:!1});k.sprite?this._loadSprite(k.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(k.glyphs),this._createLayers(),this.light=new Ee(this.stylesheet.light),this.map.setTerrain((_=this.stylesheet.terrain)!==null&&_!==void 0?_:null),this.fire(new a.k("data",{dataType:"style"})),this.fire(new a.k("style.load"))}}_createLayers(){const c=a.aB(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",c),this._order=c.map(p=>p.id),this._layers={},this._serializedLayers=null;for(const p of c){const v=a.aC(p);v.setEventedParent(this,{layer:{id:p.id}}),this._layers[p.id]=v}}_loadSprite(c,p=!1,v=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(_,k,N,z){const V=q(_),H=V.length,Y=N>1?"@2x":"",Z={},ie={},ge={};for(const{id:me,url:xe}of V){const fe=k.transformRequest(k.normalizeSpriteURL(xe,Y,".json"),A.SpriteJSON),Ie=`${me}_${fe.url}`;Z[Ie]=a.f(fe,(De,We)=>{delete Z[Ie],ie[me]=We,J(z,ie,ge,De,H)});const Ue=k.transformRequest(k.normalizeSpriteURL(xe,Y,".png"),A.SpriteImage),Ce=`${me}_${Ue.url}`;Z[Ce]=M.getImage(Ue,(De,We)=>{delete Z[Ce],ge[me]=We,J(z,ie,ge,De,H)})}return{cancel(){for(const me of Object.values(Z))me.cancel()}}}(c,this.map._requestManager,this.map.getPixelRatio(),(_,k)=>{if(this._spriteRequest=null,_)this.fire(new a.j(_));else if(k)for(const N in k){this._spritesImagesIds[N]=[];const z=this._spritesImagesIds[N]?this._spritesImagesIds[N].filter(V=>!(V in k)):[];for(const V of z)this.imageManager.removeImage(V),this._changedImages[V]=!0;for(const V in k[N]){const H=N==="default"?V:`${N}:${V}`;this._spritesImagesIds[N].push(H),H in this.imageManager.images?this.imageManager.updateImage(H,k[N][V],!1):this.imageManager.addImage(H,k[N][V]),p&&(this._changedImages[H]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),p&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"})),v&&v(_)})}_unloadSprite(){for(const c of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(c),this._changedImages[c]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}_validateLayer(c){const p=this.sourceCaches[c.source];if(!p)return;const v=c.sourceLayer;if(!v)return;const _=p.getSource();(_.type==="geojson"||_.vectorLayerIds&&_.vectorLayerIds.indexOf(v)===-1)&&this.fire(new a.j(new Error(`Source layer "${v}" does not exist on source "${_.id}" as specified by style layer "${c.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const c in this.sourceCaches)if(!this.sourceCaches[c].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(c){const p=this._serializedAllLayers();if(!c||c.length===0)return Object.values(p);const v=[];for(const _ of c)p[_]&&v.push(p[_]);return v}_serializedAllLayers(){let c=this._serializedLayers;if(c)return c;c=this._serializedLayers={};const p=Object.keys(this._layers);for(const v of p){const _=this._layers[v];_.type!=="custom"&&(c[v]=_.serialize())}return c}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const c in this.sourceCaches)if(this.sourceCaches[c].hasTransition())return!0;for(const c in this._layers)if(this._layers[c].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(c){if(!this._loaded)return;const p=this._changed;if(this._changed){const _=Object.keys(this._updatedLayers),k=Object.keys(this._removedLayers);(_.length||k.length)&&this._updateWorkerLayers(_,k);for(const N in this._updatedSources){const z=this._updatedSources[N];if(z==="reload")this._reloadSource(N);else{if(z!=="clear")throw new Error(`Invalid action ${z}`);this._clearSource(N)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const N in this._updatedPaintProps)this._layers[N].updateTransitions(c);this.light.updateTransitions(c),this._resetUpdates()}const v={};for(const _ in this.sourceCaches){const k=this.sourceCaches[_];v[_]=k.used,k.used=!1}for(const _ of this._order){const k=this._layers[_];k.recalculate(c,this._availableImages),!k.isHidden(c.zoom)&&k.source&&(this.sourceCaches[k.source].used=!0)}for(const _ in v){const k=this.sourceCaches[_];v[_]!==k.used&&k.fire(new a.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:_}))}this.light.recalculate(c),this.z=c.zoom,p&&this.fire(new a.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const c=Object.keys(this._changedImages);if(c.length){for(const p in this.sourceCaches)this.sourceCaches[p].reloadTilesForDependencies(["icons","patterns"],c);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const c in this.sourceCaches)this.sourceCaches[c].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(c,p){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(c),removedIds:p})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(c,p={}){this._checkLoaded();const v=this.serialize();if(c=p.transformStyle?p.transformStyle(v,c):c,Ji(this,a.y(c)))return!1;(c=a.aD(c)).layers=a.aB(c.layers);const _=a.aE(v,c).filter(N=>!(N.command in eT));if(_.length===0)return!1;const k=_.filter(N=>!(N.command in Ko));if(k.length>0)throw new Error(`Unimplemented: ${k.map(N=>N.command).join(", ")}.`);for(const N of _)N.command!=="setTransition"&&this[N.command].apply(this,N.args);return this.stylesheet=c,this._serializedLayers=null,!0}addImage(c,p){if(this.getImage(c))return this.fire(new a.j(new Error(`An image named "${c}" already exists.`)));this.imageManager.addImage(c,p),this._afterImageUpdated(c)}updateImage(c,p){this.imageManager.updateImage(c,p)}getImage(c){return this.imageManager.getImage(c)}removeImage(c){if(!this.getImage(c))return this.fire(new a.j(new Error(`An image named "${c}" does not exist.`)));this.imageManager.removeImage(c),this._afterImageUpdated(c)}_afterImageUpdated(c){this._availableImages=this.imageManager.listImages(),this._changedImages[c]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(c,p,v={}){if(this._checkLoaded(),this.sourceCaches[c]!==void 0)throw new Error(`Source "${c}" already exists.`);if(!p.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(p).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(p.type)>=0&&this._validate(a.y.source,`sources.${c}`,p,null,v))return;this.map&&this.map._collectResourceTiming&&(p.collectResourceTiming=!0);const _=this.sourceCaches[c]=new ln(c,p,this.dispatcher);_.style=this,_.setEventedParent(this,()=>({isSourceLoaded:_.loaded(),source:_.serialize(),sourceId:c})),_.onAdd(this.map),this._changed=!0}removeSource(c){if(this._checkLoaded(),this.sourceCaches[c]===void 0)throw new Error("There is no source with this ID");for(const v in this._layers)if(this._layers[v].source===c)return this.fire(new a.j(new Error(`Source "${c}" cannot be removed while layer "${v}" is using it.`)));const p=this.sourceCaches[c];delete this.sourceCaches[c],delete this._updatedSources[c],p.fire(new a.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:c})),p.setEventedParent(null),p.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(c,p){if(this._checkLoaded(),this.sourceCaches[c]===void 0)throw new Error(`There is no source with this ID=${c}`);const v=this.sourceCaches[c].getSource();if(v.type!=="geojson")throw new Error(`geojsonSource.type is ${v.type}, which is !== 'geojson`);v.setData(p),this._changed=!0}getSource(c){return this.sourceCaches[c]&&this.sourceCaches[c].getSource()}addLayer(c,p,v={}){this._checkLoaded();const _=c.id;if(this.getLayer(_))return void this.fire(new a.j(new Error(`Layer "${_}" already exists on this map.`)));let k;if(c.type==="custom"){if(Ji(this,a.aF(c)))return;k=a.aC(c)}else{if("source"in c&&typeof c.source=="object"&&(this.addSource(_,c.source),c=a.aD(c),c=a.e(c,{source:_})),this._validate(a.y.layer,`layers.${_}`,c,{arrayIndex:-1},v))return;k=a.aC(c),this._validateLayer(k),k.setEventedParent(this,{layer:{id:_}})}const N=p?this._order.indexOf(p):this._order.length;if(p&&N===-1)this.fire(new a.j(new Error(`Cannot add layer "${_}" before non-existing layer "${p}".`)));else{if(this._order.splice(N,0,_),this._layerOrderChanged=!0,this._layers[_]=k,this._removedLayers[_]&&k.source&&k.type!=="custom"){const z=this._removedLayers[_];delete this._removedLayers[_],z.type!==k.type?this._updatedSources[k.source]="clear":(this._updatedSources[k.source]="reload",this.sourceCaches[k.source].pause())}this._updateLayer(k),k.onAdd&&k.onAdd(this.map)}}moveLayer(c,p){if(this._checkLoaded(),this._changed=!0,!this._layers[c])return void this.fire(new a.j(new Error(`The layer '${c}' does not exist in the map's style and cannot be moved.`)));if(c===p)return;const v=this._order.indexOf(c);this._order.splice(v,1);const _=p?this._order.indexOf(p):this._order.length;p&&_===-1?this.fire(new a.j(new Error(`Cannot move layer "${c}" before non-existing layer "${p}".`))):(this._order.splice(_,0,c),this._layerOrderChanged=!0)}removeLayer(c){this._checkLoaded();const p=this._layers[c];if(!p)return void this.fire(new a.j(new Error(`Cannot remove non-existing layer "${c}".`)));p.setEventedParent(null);const v=this._order.indexOf(c);this._order.splice(v,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[c]=p,delete this._layers[c],this._serializedLayers&&delete this._serializedLayers[c],delete this._updatedLayers[c],delete this._updatedPaintProps[c],p.onRemove&&p.onRemove(this.map)}getLayer(c){return this._layers[c]}getLayersOrder(){return[...this._order]}hasLayer(c){return c in this._layers}setLayerZoomRange(c,p,v){this._checkLoaded();const _=this.getLayer(c);_?_.minzoom===p&&_.maxzoom===v||(p!=null&&(_.minzoom=p),v!=null&&(_.maxzoom=v),this._updateLayer(_)):this.fire(new a.j(new Error(`Cannot set the zoom range of non-existing layer "${c}".`)))}setFilter(c,p,v={}){this._checkLoaded();const _=this.getLayer(c);if(_){if(!a.aG(_.filter,p))return p==null?(_.filter=void 0,void this._updateLayer(_)):void(this._validate(a.y.filter,`layers.${_.id}.filter`,p,null,v)||(_.filter=a.aD(p),this._updateLayer(_)))}else this.fire(new a.j(new Error(`Cannot filter non-existing layer "${c}".`)))}getFilter(c){return a.aD(this.getLayer(c).filter)}setLayoutProperty(c,p,v,_={}){this._checkLoaded();const k=this.getLayer(c);k?a.aG(k.getLayoutProperty(p),v)||(k.setLayoutProperty(p,v,_),this._updateLayer(k)):this.fire(new a.j(new Error(`Cannot style non-existing layer "${c}".`)))}getLayoutProperty(c,p){const v=this.getLayer(c);if(v)return v.getLayoutProperty(p);this.fire(new a.j(new Error(`Cannot get style of non-existing layer "${c}".`)))}setPaintProperty(c,p,v,_={}){this._checkLoaded();const k=this.getLayer(c);k?a.aG(k.getPaintProperty(p),v)||(k.setPaintProperty(p,v,_)&&this._updateLayer(k),this._changed=!0,this._updatedPaintProps[c]=!0):this.fire(new a.j(new Error(`Cannot style non-existing layer "${c}".`)))}getPaintProperty(c,p){return this.getLayer(c).getPaintProperty(p)}setFeatureState(c,p){this._checkLoaded();const v=c.source,_=c.sourceLayer,k=this.sourceCaches[v];if(k===void 0)return void this.fire(new a.j(new Error(`The source '${v}' does not exist in the map's style.`)));const N=k.getSource().type;N==="geojson"&&_?this.fire(new a.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):N!=="vector"||_?(c.id===void 0&&this.fire(new a.j(new Error("The feature id parameter must be provided."))),k.setFeatureState(_,c.id,p)):this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(c,p){this._checkLoaded();const v=c.source,_=this.sourceCaches[v];if(_===void 0)return void this.fire(new a.j(new Error(`The source '${v}' does not exist in the map's style.`)));const k=_.getSource().type,N=k==="vector"?c.sourceLayer:void 0;k!=="vector"||N?p&&typeof c.id!="string"&&typeof c.id!="number"?this.fire(new a.j(new Error("A feature id is required to remove its specific state property."))):_.removeFeatureState(N,c.id,p):this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(c){this._checkLoaded();const p=c.source,v=c.sourceLayer,_=this.sourceCaches[p];if(_!==void 0)return _.getSource().type!=="vector"||v?(c.id===void 0&&this.fire(new a.j(new Error("The feature id parameter must be provided."))),_.getFeatureState(v,c.id)):void this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.j(new Error(`The source '${p}' does not exist in the map's style.`)))}getTransition(){return a.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const c=a.aH(this.sourceCaches,k=>k.serialize()),p=this._serializeByIds(this._order),v=this.map.getTerrain()||void 0,_=this.stylesheet;return a.aI({version:_.version,name:_.name,metadata:_.metadata,light:_.light,center:_.center,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch,sprite:_.sprite,glyphs:_.glyphs,transition:_.transition,sources:c,layers:p,terrain:v},k=>k!==void 0)}_updateLayer(c){this._updatedLayers[c.id]=!0,c.source&&!this._updatedSources[c.source]&&this.sourceCaches[c.source].getSource().type!=="raster"&&(this._updatedSources[c.source]="reload",this.sourceCaches[c.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(c){const p=N=>this._layers[N].type==="fill-extrusion",v={},_=[];for(let N=this._order.length-1;N>=0;N--){const z=this._order[N];if(p(z)){v[z]=N;for(const V of c){const H=V[z];if(H)for(const Y of H)_.push(Y)}}}_.sort((N,z)=>z.intersectionZ-N.intersectionZ);const k=[];for(let N=this._order.length-1;N>=0;N--){const z=this._order[N];if(p(z))for(let V=_.length-1;V>=0;V--){const H=_[V].feature;if(v[H.layer.id]<N)break;k.push(H),_.pop()}else for(const V of c){const H=V[z];if(H)for(const Y of H)k.push(Y.feature)}}return k}queryRenderedFeatures(c,p,v){p&&p.filter&&this._validate(a.y.filter,"queryRenderedFeatures.filter",p.filter,null,p);const _={};if(p&&p.layers){if(!Array.isArray(p.layers))return this.fire(new a.j(new Error("parameters.layers must be an Array."))),[];for(const z of p.layers){const V=this._layers[z];if(!V)return this.fire(new a.j(new Error(`The layer '${z}' does not exist in the map's style and cannot be queried for features.`))),[];_[V.source]=!0}}const k=[];p.availableImages=this._availableImages;const N=this._serializedAllLayers();for(const z in this.sourceCaches)p.layers&&!_[z]||k.push(bn(this.sourceCaches[z],this._layers,N,c,p,v));return this.placement&&k.push(function(z,V,H,Y,Z,ie,ge){const me={},xe=ie.queryRenderedSymbols(Y),fe=[];for(const Ie of Object.keys(xe).map(Number))fe.push(ge[Ie]);fe.sort(yn);for(const Ie of fe){const Ue=Ie.featureIndex.lookupSymbolFeatures(xe[Ie.bucketInstanceId],V,Ie.bucketIndex,Ie.sourceLayerIndex,Z.filter,Z.layers,Z.availableImages,z);for(const Ce in Ue){const De=me[Ce]=me[Ce]||[],We=Ue[Ce];We.sort((Ge,tt)=>{const ut=Ie.featureSortOrder;if(ut){const at=ut.indexOf(Ge.featureIndex);return ut.indexOf(tt.featureIndex)-at}return tt.featureIndex-Ge.featureIndex});for(const Ge of We)De.push(Ge)}}for(const Ie in me)me[Ie].forEach(Ue=>{const Ce=Ue.feature,De=H[z[Ie].source].getFeatureState(Ce.layer["source-layer"],Ce.id);Ce.source=Ce.layer.source,Ce.layer["source-layer"]&&(Ce.sourceLayer=Ce.layer["source-layer"]),Ce.state=De});return me}(this._layers,N,this.sourceCaches,c,p,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(k)}querySourceFeatures(c,p){p&&p.filter&&this._validate(a.y.filter,"querySourceFeatures.filter",p.filter,null,p);const v=this.sourceCaches[c];return v?function(_,k){const N=_.getRenderableIds().map(H=>_.getTileByID(H)),z=[],V={};for(let H=0;H<N.length;H++){const Y=N[H],Z=Y.tileID.canonical.key;V[Z]||(V[Z]=!0,Y.querySourceFeatures(z,k))}return z}(v,p):[]}addSourceType(c,p,v){return Mt(c)?v(new Error(`A source type called "${c}" already exists.`)):(((_,k)=>{Tt[_]=k})(c,p),p.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:c,url:p.workerSourceURL},v):v(null,null))}getLight(){return this.light.getLight()}setLight(c,p={}){this._checkLoaded();const v=this.light.getLight();let _=!1;for(const N in c)if(!a.aG(c[N],v[N])){_=!0;break}if(!_)return;const k={now:a.h.now(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(c,p),this.light.updateTransitions(k)}_validate(c,p,v,_,k={}){return(!k||k.validate!==!1)&&Ji(this,c.call(a.y,a.e({key:p,style:this.serialize(),value:v,styleSpec:a.v},_)))}_remove(c=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.aJ.off("pluginStateChange",this._rtlTextPluginCallback);for(const p in this._layers)this._layers[p].setEventedParent(null);for(const p in this.sourceCaches){const v=this.sourceCaches[p];v.setEventedParent(null),v.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(c)}_clearSource(c){this.sourceCaches[c].clearTiles()}_reloadSource(c){this.sourceCaches[c].resume(),this.sourceCaches[c].reload()}_updateSources(c){for(const p in this.sourceCaches)this.sourceCaches[p].update(c,this.map.terrain)}_generateCollisionBoxes(){for(const c in this.sourceCaches)this._reloadSource(c)}_updatePlacement(c,p,v,_,k=!1){let N=!1,z=!1;const V={};for(const H of this._order){const Y=this._layers[H];if(Y.type!=="symbol")continue;if(!V[Y.source]){const ie=this.sourceCaches[Y.source];V[Y.source]=ie.getRenderableIds(!0).map(ge=>ie.getTileByID(ge)).sort((ge,me)=>me.tileID.overscaledZ-ge.tileID.overscaledZ||(ge.tileID.isLessThan(me.tileID)?-1:1))}const Z=this.crossTileSymbolIndex.addLayer(Y,V[Y.source],c.center.lng);N=N||Z}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((k=k||this._layerOrderChanged||v===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.h.now(),c.zoom))&&(this.pauseablePlacement=new Iu(c,this.map.terrain,this._order,k,p,v,_,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,V),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.h.now()),z=!0),N&&this.pauseablePlacement.placement.setStale()),z||N)for(const H of this._order){const Y=this._layers[H];Y.type==="symbol"&&this.placement.updateLayerOpacities(Y,V[Y.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.h.now())}_releaseSymbolFadeTiles(){for(const c in this.sourceCaches)this.sourceCaches[c].releaseSymbolFadeTiles()}getImages(c,p,v){this.imageManager.getImages(p.icons,v),this._updateTilesForChangedImages();const _=this.sourceCaches[p.source];_&&_.setDependencies(p.tileID.key,p.type,p.icons)}getGlyphs(c,p,v){this.glyphManager.getGlyphs(p.stacks,v);const _=this.sourceCaches[p.source];_&&_.setDependencies(p.tileID.key,p.type,[""])}getResource(c,p,v){return a.m(p,v)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(c,p={}){this._checkLoaded(),c&&this._validate(a.y.glyphs,"glyphs",c,null,p)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=c,this.glyphManager.entries={},this.glyphManager.setURL(c))}addSprite(c,p,v={},_){this._checkLoaded();const k=[{id:c,url:p}],N=[...q(this.stylesheet.sprite),...k];this._validate(a.y.sprite,"sprite",N,null,v)||(this.stylesheet.sprite=N,this._loadSprite(k,!0,_))}removeSprite(c){this._checkLoaded();const p=q(this.stylesheet.sprite);if(p.find(v=>v.id===c)){if(this._spritesImagesIds[c])for(const v of this._spritesImagesIds[c])this.imageManager.removeImage(v),this._changedImages[v]=!0;p.splice(p.findIndex(v=>v.id===c),1),this.stylesheet.sprite=p.length>0?p:void 0,delete this._spritesImagesIds[c],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}else this.fire(new a.j(new Error(`Sprite "${c}" doesn't exists on this map.`)))}getSprite(){return q(this.stylesheet.sprite)}setSprite(c,p={},v){this._checkLoaded(),c&&this._validate(a.y.sprite,"sprite",c,null,p)||(this.stylesheet.sprite=c,c?this._loadSprite(c,!0,v):(this._unloadSprite(),v&&v(null)))}}Fi.registerForPluginStateChange=a.aK;var Rh=a.Q([{name:"a_pos",type:"Int16",components:2}]),Ru="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const Rr={prelude:qn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:qn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:qn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:qn(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:qn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:qn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:qn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:qn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:qn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:qn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:qn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:qn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:qn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:qn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:qn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:qn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:qn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:qn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:qn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:qn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:qn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:qn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:qn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:qn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:qn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:qn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:qn("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Ru),terrainDepth:qn("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Ru),terrainCoords:qn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Ru)};function qn(S,c){const p=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,v=c.match(/attribute ([\w]+) ([\w]+)/g),_=S.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),k=c.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),N=k?k.concat(_):_,z={};return{fragmentSource:S=S.replace(p,(V,H,Y,Z,ie)=>(z[ie]=!0,H==="define"?`
#ifndef HAS_UNIFORM_u_${ie}
varying ${Y} ${Z} ${ie};
#else
uniform ${Y} ${Z} u_${ie};
#endif
`:`
#ifdef HAS_UNIFORM_u_${ie}
    ${Y} ${Z} ${ie} = u_${ie};
#endif
`)),vertexSource:c=c.replace(p,(V,H,Y,Z,ie)=>{const ge=Z==="float"?"vec2":"vec4",me=ie.match(/color/)?"color":ge;return z[ie]?H==="define"?`
#ifndef HAS_UNIFORM_u_${ie}
uniform lowp float u_${ie}_t;
attribute ${Y} ${ge} a_${ie};
varying ${Y} ${Z} ${ie};
#else
uniform ${Y} ${Z} u_${ie};
#endif
`:me==="vec4"?`
#ifndef HAS_UNIFORM_u_${ie}
    ${ie} = a_${ie};
#else
    ${Y} ${Z} ${ie} = u_${ie};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ie}
    ${ie} = unpack_mix_${me}(a_${ie}, u_${ie}_t);
#else
    ${Y} ${Z} ${ie} = u_${ie};
#endif
`:H==="define"?`
#ifndef HAS_UNIFORM_u_${ie}
uniform lowp float u_${ie}_t;
attribute ${Y} ${ge} a_${ie};
#else
uniform ${Y} ${Z} u_${ie};
#endif
`:me==="vec4"?`
#ifndef HAS_UNIFORM_u_${ie}
    ${Y} ${Z} ${ie} = a_${ie};
#else
    ${Y} ${Z} ${ie} = u_${ie};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ie}
    ${Y} ${Z} ${ie} = unpack_mix_${me}(a_${ie}, u_${ie}_t);
#else
    ${Y} ${Z} ${ie} = u_${ie};
#endif
`}),staticAttributes:v,staticUniforms:N}}class _c{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(c,p,v,_,k,N,z,V,H){this.context=c;let Y=this.boundPaintVertexBuffers.length!==_.length;for(let Z=0;!Y&&Z<_.length;Z++)this.boundPaintVertexBuffers[Z]!==_[Z]&&(Y=!0);!this.vao||this.boundProgram!==p||this.boundLayoutVertexBuffer!==v||Y||this.boundIndexBuffer!==k||this.boundVertexOffset!==N||this.boundDynamicVertexBuffer!==z||this.boundDynamicVertexBuffer2!==V||this.boundDynamicVertexBuffer3!==H?this.freshBind(p,v,_,k,N,z,V,H):(c.bindVertexArray.set(this.vao),z&&z.bind(),k&&k.dynamicDraw&&k.bind(),V&&V.bind(),H&&H.bind())}freshBind(c,p,v,_,k,N,z,V){const H=c.numAttributes,Y=this.context,Z=Y.gl;this.vao&&this.destroy(),this.vao=Y.createVertexArray(),Y.bindVertexArray.set(this.vao),this.boundProgram=c,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=v,this.boundIndexBuffer=_,this.boundVertexOffset=k,this.boundDynamicVertexBuffer=N,this.boundDynamicVertexBuffer2=z,this.boundDynamicVertexBuffer3=V,p.enableAttributes(Z,c);for(const ie of v)ie.enableAttributes(Z,c);N&&N.enableAttributes(Z,c),z&&z.enableAttributes(Z,c),V&&V.enableAttributes(Z,c),p.bind(),p.setVertexAttribPointers(Z,c,k);for(const ie of v)ie.bind(),ie.setVertexAttribPointers(Z,c,k);N&&(N.bind(),N.setVertexAttribPointers(Z,c,k)),_&&_.bind(),z&&(z.bind(),z.setVertexAttribPointers(Z,c,k)),V&&(V.bind(),V.setVertexAttribPointers(Z,c,k)),Y.currentNumAttributes=H}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function Ur(S){const c=[];for(let p=0;p<S.length;p++){if(S[p]===null)continue;const v=S[p].split(" ");c.push(v.pop())}return c}class Dh{constructor(c,p,v,_,k,N){const z=c.gl;this.program=z.createProgram();const V=Ur(p.staticAttributes),H=v?v.getBinderAttributes():[],Y=V.concat(H),Z=Rr.prelude.staticUniforms?Ur(Rr.prelude.staticUniforms):[],ie=p.staticUniforms?Ur(p.staticUniforms):[],ge=v?v.getBinderUniforms():[],me=Z.concat(ie).concat(ge),xe=[];for(const Ge of me)xe.indexOf(Ge)<0&&xe.push(Ge);const fe=v?v.defines():[];k&&fe.push("#define OVERDRAW_INSPECTOR;"),N&&fe.push("#define TERRAIN3D;");const Ie=fe.concat(Rr.prelude.fragmentSource,p.fragmentSource).join(`
`),Ue=fe.concat(Rr.prelude.vertexSource,p.vertexSource).join(`
`),Ce=z.createShader(z.FRAGMENT_SHADER);if(z.isContextLost())return void(this.failedToCreate=!0);if(z.shaderSource(Ce,Ie),z.compileShader(Ce),!z.getShaderParameter(Ce,z.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${z.getShaderInfoLog(Ce)}`);z.attachShader(this.program,Ce);const De=z.createShader(z.VERTEX_SHADER);if(z.isContextLost())return void(this.failedToCreate=!0);if(z.shaderSource(De,Ue),z.compileShader(De),!z.getShaderParameter(De,z.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${z.getShaderInfoLog(De)}`);z.attachShader(this.program,De),this.attributes={};const We={};this.numAttributes=Y.length;for(let Ge=0;Ge<this.numAttributes;Ge++)Y[Ge]&&(z.bindAttribLocation(this.program,Ge,Y[Ge]),this.attributes[Y[Ge]]=Ge);if(z.linkProgram(this.program),!z.getProgramParameter(this.program,z.LINK_STATUS))throw new Error(`Program failed to link: ${z.getProgramInfoLog(this.program)}`);z.deleteShader(De),z.deleteShader(Ce);for(let Ge=0;Ge<xe.length;Ge++){const tt=xe[Ge];if(tt&&!We[tt]){const ut=z.getUniformLocation(this.program,tt);ut&&(We[tt]=ut)}}this.fixedUniforms=_(c,We),this.terrainUniforms=((Ge,tt)=>({u_depth:new a.aL(Ge,tt.u_depth),u_terrain:new a.aL(Ge,tt.u_terrain),u_terrain_dim:new a.aM(Ge,tt.u_terrain_dim),u_terrain_matrix:new a.aN(Ge,tt.u_terrain_matrix),u_terrain_unpack:new a.aO(Ge,tt.u_terrain_unpack),u_terrain_exaggeration:new a.aM(Ge,tt.u_terrain_exaggeration)}))(c,We),this.binderUniforms=v?v.getUniforms(c,We):[]}draw(c,p,v,_,k,N,z,V,H,Y,Z,ie,ge,me,xe,fe,Ie,Ue){const Ce=c.gl;if(this.failedToCreate)return;if(c.program.set(this.program),c.setDepthMode(v),c.setStencilMode(_),c.setColorMode(k),c.setCullFace(N),V){c.activeTexture.set(Ce.TEXTURE2),Ce.bindTexture(Ce.TEXTURE_2D,V.depthTexture),c.activeTexture.set(Ce.TEXTURE3),Ce.bindTexture(Ce.TEXTURE_2D,V.texture);for(const We in this.terrainUniforms)this.terrainUniforms[We].set(V[We])}for(const We in this.fixedUniforms)this.fixedUniforms[We].set(z[We]);xe&&xe.setUniforms(c,this.binderUniforms,ge,{zoom:me});let De=0;switch(p){case Ce.LINES:De=2;break;case Ce.TRIANGLES:De=3;break;case Ce.LINE_STRIP:De=1}for(const We of ie.get()){const Ge=We.vaos||(We.vaos={});(Ge[H]||(Ge[H]=new _c)).bind(c,this,Y,xe?xe.getPaintVertexBuffers():[],Z,We.vertexOffset,fe,Ie,Ue),Ce.drawElements(p,We.primitiveLength*De,Ce.UNSIGNED_SHORT,We.primitiveOffset*De*2)}}}function ba(S,c,p){const v=1/Me(p,1,c.transform.tileZoom),_=Math.pow(2,p.tileID.overscaledZ),k=p.tileSize*Math.pow(2,c.transform.tileZoom)/_,N=k*(p.tileID.canonical.x+p.tileID.wrap*_),z=k*p.tileID.canonical.y;return{u_image:0,u_texsize:p.imageAtlasTexture.size,u_scale:[v,S.fromScale,S.toScale],u_fade:S.t,u_pixel_coord_upper:[N>>16,z>>16],u_pixel_coord_lower:[65535&N,65535&z]}}const Zg=(S,c,p,v)=>{const _=c.style.light,k=_.properties.get("position"),N=[k.x,k.y,k.z],z=function(){var H=new a.A(9);return a.A!=Float32Array&&(H[1]=0,H[2]=0,H[3]=0,H[5]=0,H[6]=0,H[7]=0),H[0]=1,H[4]=1,H[8]=1,H}();_.properties.get("anchor")==="viewport"&&function(H,Y){var Z=Math.sin(Y),ie=Math.cos(Y);H[0]=ie,H[1]=Z,H[2]=0,H[3]=-Z,H[4]=ie,H[5]=0,H[6]=0,H[7]=0,H[8]=1}(z,-c.transform.angle),function(H,Y,Z){var ie=Y[0],ge=Y[1],me=Y[2];H[0]=ie*Z[0]+ge*Z[3]+me*Z[6],H[1]=ie*Z[1]+ge*Z[4]+me*Z[7],H[2]=ie*Z[2]+ge*Z[5]+me*Z[8]}(N,N,z);const V=_.properties.get("color");return{u_matrix:S,u_lightpos:N,u_lightintensity:_.properties.get("intensity"),u_lightcolor:[V.r,V.g,V.b],u_vertical_gradient:+p,u_opacity:v}},Bl=(S,c,p,v,_,k,N)=>a.e(Zg(S,c,p,v),ba(k,c,N),{u_height_factor:-Math.pow(2,_.overscaledZ)/N.tileSize/8}),$x=S=>({u_matrix:S}),Xg=(S,c,p,v)=>a.e($x(S),ba(p,c,v)),jh=(S,c)=>({u_matrix:S,u_world:c}),Lh=(S,c,p,v,_)=>a.e(Xg(S,c,p,v),{u_world:_}),Fl=(S,c,p,v)=>{const _=S.transform;let k,N;if(v.paint.get("circle-pitch-alignment")==="map"){const z=Me(p,1,_.zoom);k=!0,N=[z,z]}else k=!1,N=_.pixelsToGLUnits;return{u_camera_to_center_distance:_.cameraToCenterDistance,u_scale_with_map:+(v.paint.get("circle-pitch-scale")==="map"),u_matrix:S.translatePosMatrix(c.posMatrix,p,v.paint.get("circle-translate"),v.paint.get("circle-translate-anchor")),u_pitch_with_map:+k,u_device_pixel_ratio:S.pixelRatio,u_extrude_scale:N}},Jg=(S,c,p)=>{const v=Me(p,1,c.zoom),_=Math.pow(2,c.zoom-p.tileID.overscaledZ),k=p.tileID.overscaleFactor();return{u_matrix:S,u_camera_to_center_distance:c.cameraToCenterDistance,u_pixels_to_tile_units:v,u_extrude_scale:[c.pixelsToGLUnits[0]/(v*_),c.pixelsToGLUnits[1]/(v*_)],u_overscale_factor:k}},of=(S,c,p=1)=>({u_matrix:S,u_color:c,u_overlay:0,u_overlay_scale:p}),Rx=S=>({u_matrix:S}),tT=(S,c,p,v)=>({u_matrix:S,u_extrude_scale:Me(c,1,p),u_intensity:v});function Qg(S,c){const p=Math.pow(2,c.canonical.z),v=c.canonical.y;return[new a.U(0,v/p).toLngLat().lat,new a.U(0,(v+1)/p).toLngLat().lat]}const ey=(S,c,p,v)=>{const _=S.transform;return{u_matrix:Nh(S,c,p,v),u_ratio:1/Me(c,1,_.zoom),u_device_pixel_ratio:S.pixelRatio,u_units_to_pixels:[1/_.pixelsToGLUnits[0],1/_.pixelsToGLUnits[1]]}},Dx=(S,c,p,v,_)=>a.e(ey(S,c,p,_),{u_image:0,u_image_height:v}),nT=(S,c,p,v,_)=>{const k=S.transform,N=Lx(c,k);return{u_matrix:Nh(S,c,p,_),u_texsize:c.imageAtlasTexture.size,u_ratio:1/Me(c,1,k.zoom),u_device_pixel_ratio:S.pixelRatio,u_image:0,u_scale:[N,v.fromScale,v.toScale],u_fade:v.t,u_units_to_pixels:[1/k.pixelsToGLUnits[0],1/k.pixelsToGLUnits[1]]}},jx=(S,c,p,v,_,k)=>{const N=S.lineAtlas,z=Lx(c,S.transform),V=p.layout.get("line-cap")==="round",H=N.getDash(v.from,V),Y=N.getDash(v.to,V),Z=H.width*_.fromScale,ie=Y.width*_.toScale;return a.e(ey(S,c,p,k),{u_patternscale_a:[z/Z,-H.height/2],u_patternscale_b:[z/ie,-Y.height/2],u_sdfgamma:N.width/(256*Math.min(Z,ie)*S.pixelRatio)/2,u_image:0,u_tex_y_a:H.y,u_tex_y_b:Y.y,u_mix:_.t})};function Lx(S,c){return 1/Me(S,1,c.tileZoom)}function Nh(S,c,p,v){return S.translatePosMatrix(v?v.posMatrix:c.tileID.posMatrix,c,p.paint.get("line-translate"),p.paint.get("line-translate-anchor"))}const Nx=(S,c,p,v,_)=>{return{u_matrix:S,u_tl_parent:c,u_scale_parent:p,u_buffer_scale:1,u_fade_t:v.mix,u_opacity:v.opacity*_.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:_.paint.get("raster-brightness-min"),u_brightness_high:_.paint.get("raster-brightness-max"),u_saturation_factor:(N=_.paint.get("raster-saturation"),N>0?1-1/(1.001-N):-N),u_contrast_factor:(k=_.paint.get("raster-contrast"),k>0?1/(1-k):1+k),u_spin_weights:zx(_.paint.get("raster-hue-rotate"))};var k,N};function zx(S){S*=Math.PI/180;const c=Math.sin(S),p=Math.cos(S);return[(2*p+1)/3,(-Math.sqrt(3)*c-p+1)/3,(Math.sqrt(3)*c-p+1)/3]}const ty=(S,c,p,v,_,k,N,z,V,H)=>{const Y=_.transform;return{u_is_size_zoom_constant:+(S==="constant"||S==="source"),u_is_size_feature_constant:+(S==="constant"||S==="camera"),u_size_t:c?c.uSizeT:0,u_size:c?c.uSize:0,u_camera_to_center_distance:Y.cameraToCenterDistance,u_pitch:Y.pitch/360*2*Math.PI,u_rotate_symbol:+p,u_aspect_ratio:Y.width/Y.height,u_fade_change:_.options.fadeDuration?_.symbolFadeChange:1,u_matrix:k,u_label_plane_matrix:N,u_coord_matrix:z,u_is_text:+V,u_pitch_with_map:+v,u_texsize:H,u_texture:0}},ny=(S,c,p,v,_,k,N,z,V,H,Y)=>{const Z=_.transform;return a.e(ty(S,c,p,v,_,k,N,z,V,H),{u_gamma_scale:v?Math.cos(Z._pitch)*Z.cameraToCenterDistance:1,u_device_pixel_ratio:_.pixelRatio,u_is_halo:+Y})},wc=(S,c,p,v,_,k,N,z,V,H)=>a.e(ny(S,c,p,v,_,k,N,z,!0,V,!0),{u_texsize_icon:H,u_texture_icon:1}),zh=(S,c,p)=>({u_matrix:S,u_opacity:c,u_color:p}),xa=(S,c,p,v,_,k)=>a.e(function(N,z,V,H){const Y=V.imageManager.getPattern(N.from.toString()),Z=V.imageManager.getPattern(N.to.toString()),{width:ie,height:ge}=V.imageManager.getPixelSize(),me=Math.pow(2,H.tileID.overscaledZ),xe=H.tileSize*Math.pow(2,V.transform.tileZoom)/me,fe=xe*(H.tileID.canonical.x+H.tileID.wrap*me),Ie=xe*H.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Y.tl,u_pattern_br_a:Y.br,u_pattern_tl_b:Z.tl,u_pattern_br_b:Z.br,u_texsize:[ie,ge],u_mix:z.t,u_pattern_size_a:Y.displaySize,u_pattern_size_b:Z.displaySize,u_scale_a:z.fromScale,u_scale_b:z.toScale,u_tile_units_to_pixels:1/Me(H,1,V.transform.tileZoom),u_pixel_coord_upper:[fe>>16,Ie>>16],u_pixel_coord_lower:[65535&fe,65535&Ie]}}(v,k,p,_),{u_matrix:S,u_opacity:c}),Bh={fillExtrusion:(S,c)=>({u_matrix:new a.aN(S,c.u_matrix),u_lightpos:new a.aP(S,c.u_lightpos),u_lightintensity:new a.aM(S,c.u_lightintensity),u_lightcolor:new a.aP(S,c.u_lightcolor),u_vertical_gradient:new a.aM(S,c.u_vertical_gradient),u_opacity:new a.aM(S,c.u_opacity)}),fillExtrusionPattern:(S,c)=>({u_matrix:new a.aN(S,c.u_matrix),u_lightpos:new a.aP(S,c.u_lightpos),u_lightintensity:new a.aM(S,c.u_lightintensity),u_lightcolor:new a.aP(S,c.u_lightcolor),u_vertical_gradient:new a.aM(S,c.u_vertical_gradient),u_height_factor:new a.aM(S,c.u_height_factor),u_image:new a.aL(S,c.u_image),u_texsize:new a.aQ(S,c.u_texsize),u_pixel_coord_upper:new a.aQ(S,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.aQ(S,c.u_pixel_coord_lower),u_scale:new a.aP(S,c.u_scale),u_fade:new a.aM(S,c.u_fade),u_opacity:new a.aM(S,c.u_opacity)}),fill:(S,c)=>({u_matrix:new a.aN(S,c.u_matrix)}),fillPattern:(S,c)=>({u_matrix:new a.aN(S,c.u_matrix),u_image:new a.aL(S,c.u_image),u_texsize:new a.aQ(S,c.u_texsize),u_pixel_coord_upper:new a.aQ(S,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.aQ(S,c.u_pixel_coord_lower),u_scale:new a.aP(S,c.u_scale),u_fade:new a.aM(S,c.u_fade)}),fillOutline:(S,c)=>({u_matrix:new a.aN(S,c.u_matrix),u_world:new a.aQ(S,c.u_world)}),fillOutlinePattern:(S,c)=>({u_matrix:new a.aN(S,c.u_matrix),u_world:new a.aQ(S,c.u_world),u_image:new a.aL(S,c.u_image),u_texsize:new a.aQ(S,c.u_texsize),u_pixel_coord_upper:new a.aQ(S,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.aQ(S,c.u_pixel_coord_lower),u_scale:new a.aP(S,c.u_scale),u_fade:new a.aM(S,c.u_fade)}),circle:(S,c)=>({u_camera_to_center_distance:new a.aM(S,c.u_camera_to_center_distance),u_scale_with_map:new a.aL(S,c.u_scale_with_map),u_pitch_with_map:new a.aL(S,c.u_pitch_with_map),u_extrude_scale:new a.aQ(S,c.u_extrude_scale),u_device_pixel_ratio:new a.aM(S,c.u_device_pixel_ratio),u_matrix:new a.aN(S,c.u_matrix)}),collisionBox:(S,c)=>({u_matrix:new a.aN(S,c.u_matrix),u_camera_to_center_distance:new a.aM(S,c.u_camera_to_center_distance),u_pixels_to_tile_units:new a.aM(S,c.u_pixels_to_tile_units),u_extrude_scale:new a.aQ(S,c.u_extrude_scale),u_overscale_factor:new a.aM(S,c.u_overscale_factor)}),collisionCircle:(S,c)=>({u_matrix:new a.aN(S,c.u_matrix),u_inv_matrix:new a.aN(S,c.u_inv_matrix),u_camera_to_center_distance:new a.aM(S,c.u_camera_to_center_distance),u_viewport_size:new a.aQ(S,c.u_viewport_size)}),debug:(S,c)=>({u_color:new a.aR(S,c.u_color),u_matrix:new a.aN(S,c.u_matrix),u_overlay:new a.aL(S,c.u_overlay),u_overlay_scale:new a.aM(S,c.u_overlay_scale)}),clippingMask:(S,c)=>({u_matrix:new a.aN(S,c.u_matrix)}),heatmap:(S,c)=>({u_extrude_scale:new a.aM(S,c.u_extrude_scale),u_intensity:new a.aM(S,c.u_intensity),u_matrix:new a.aN(S,c.u_matrix)}),heatmapTexture:(S,c)=>({u_matrix:new a.aN(S,c.u_matrix),u_world:new a.aQ(S,c.u_world),u_image:new a.aL(S,c.u_image),u_color_ramp:new a.aL(S,c.u_color_ramp),u_opacity:new a.aM(S,c.u_opacity)}),hillshade:(S,c)=>({u_matrix:new a.aN(S,c.u_matrix),u_image:new a.aL(S,c.u_image),u_latrange:new a.aQ(S,c.u_latrange),u_light:new a.aQ(S,c.u_light),u_shadow:new a.aR(S,c.u_shadow),u_highlight:new a.aR(S,c.u_highlight),u_accent:new a.aR(S,c.u_accent)}),hillshadePrepare:(S,c)=>({u_matrix:new a.aN(S,c.u_matrix),u_image:new a.aL(S,c.u_image),u_dimension:new a.aQ(S,c.u_dimension),u_zoom:new a.aM(S,c.u_zoom),u_unpack:new a.aO(S,c.u_unpack)}),line:(S,c)=>({u_matrix:new a.aN(S,c.u_matrix),u_ratio:new a.aM(S,c.u_ratio),u_device_pixel_ratio:new a.aM(S,c.u_device_pixel_ratio),u_units_to_pixels:new a.aQ(S,c.u_units_to_pixels)}),lineGradient:(S,c)=>({u_matrix:new a.aN(S,c.u_matrix),u_ratio:new a.aM(S,c.u_ratio),u_device_pixel_ratio:new a.aM(S,c.u_device_pixel_ratio),u_units_to_pixels:new a.aQ(S,c.u_units_to_pixels),u_image:new a.aL(S,c.u_image),u_image_height:new a.aM(S,c.u_image_height)}),linePattern:(S,c)=>({u_matrix:new a.aN(S,c.u_matrix),u_texsize:new a.aQ(S,c.u_texsize),u_ratio:new a.aM(S,c.u_ratio),u_device_pixel_ratio:new a.aM(S,c.u_device_pixel_ratio),u_image:new a.aL(S,c.u_image),u_units_to_pixels:new a.aQ(S,c.u_units_to_pixels),u_scale:new a.aP(S,c.u_scale),u_fade:new a.aM(S,c.u_fade)}),lineSDF:(S,c)=>({u_matrix:new a.aN(S,c.u_matrix),u_ratio:new a.aM(S,c.u_ratio),u_device_pixel_ratio:new a.aM(S,c.u_device_pixel_ratio),u_units_to_pixels:new a.aQ(S,c.u_units_to_pixels),u_patternscale_a:new a.aQ(S,c.u_patternscale_a),u_patternscale_b:new a.aQ(S,c.u_patternscale_b),u_sdfgamma:new a.aM(S,c.u_sdfgamma),u_image:new a.aL(S,c.u_image),u_tex_y_a:new a.aM(S,c.u_tex_y_a),u_tex_y_b:new a.aM(S,c.u_tex_y_b),u_mix:new a.aM(S,c.u_mix)}),raster:(S,c)=>({u_matrix:new a.aN(S,c.u_matrix),u_tl_parent:new a.aQ(S,c.u_tl_parent),u_scale_parent:new a.aM(S,c.u_scale_parent),u_buffer_scale:new a.aM(S,c.u_buffer_scale),u_fade_t:new a.aM(S,c.u_fade_t),u_opacity:new a.aM(S,c.u_opacity),u_image0:new a.aL(S,c.u_image0),u_image1:new a.aL(S,c.u_image1),u_brightness_low:new a.aM(S,c.u_brightness_low),u_brightness_high:new a.aM(S,c.u_brightness_high),u_saturation_factor:new a.aM(S,c.u_saturation_factor),u_contrast_factor:new a.aM(S,c.u_contrast_factor),u_spin_weights:new a.aP(S,c.u_spin_weights)}),symbolIcon:(S,c)=>({u_is_size_zoom_constant:new a.aL(S,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.aL(S,c.u_is_size_feature_constant),u_size_t:new a.aM(S,c.u_size_t),u_size:new a.aM(S,c.u_size),u_camera_to_center_distance:new a.aM(S,c.u_camera_to_center_distance),u_pitch:new a.aM(S,c.u_pitch),u_rotate_symbol:new a.aL(S,c.u_rotate_symbol),u_aspect_ratio:new a.aM(S,c.u_aspect_ratio),u_fade_change:new a.aM(S,c.u_fade_change),u_matrix:new a.aN(S,c.u_matrix),u_label_plane_matrix:new a.aN(S,c.u_label_plane_matrix),u_coord_matrix:new a.aN(S,c.u_coord_matrix),u_is_text:new a.aL(S,c.u_is_text),u_pitch_with_map:new a.aL(S,c.u_pitch_with_map),u_texsize:new a.aQ(S,c.u_texsize),u_texture:new a.aL(S,c.u_texture)}),symbolSDF:(S,c)=>({u_is_size_zoom_constant:new a.aL(S,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.aL(S,c.u_is_size_feature_constant),u_size_t:new a.aM(S,c.u_size_t),u_size:new a.aM(S,c.u_size),u_camera_to_center_distance:new a.aM(S,c.u_camera_to_center_distance),u_pitch:new a.aM(S,c.u_pitch),u_rotate_symbol:new a.aL(S,c.u_rotate_symbol),u_aspect_ratio:new a.aM(S,c.u_aspect_ratio),u_fade_change:new a.aM(S,c.u_fade_change),u_matrix:new a.aN(S,c.u_matrix),u_label_plane_matrix:new a.aN(S,c.u_label_plane_matrix),u_coord_matrix:new a.aN(S,c.u_coord_matrix),u_is_text:new a.aL(S,c.u_is_text),u_pitch_with_map:new a.aL(S,c.u_pitch_with_map),u_texsize:new a.aQ(S,c.u_texsize),u_texture:new a.aL(S,c.u_texture),u_gamma_scale:new a.aM(S,c.u_gamma_scale),u_device_pixel_ratio:new a.aM(S,c.u_device_pixel_ratio),u_is_halo:new a.aL(S,c.u_is_halo)}),symbolTextAndIcon:(S,c)=>({u_is_size_zoom_constant:new a.aL(S,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.aL(S,c.u_is_size_feature_constant),u_size_t:new a.aM(S,c.u_size_t),u_size:new a.aM(S,c.u_size),u_camera_to_center_distance:new a.aM(S,c.u_camera_to_center_distance),u_pitch:new a.aM(S,c.u_pitch),u_rotate_symbol:new a.aL(S,c.u_rotate_symbol),u_aspect_ratio:new a.aM(S,c.u_aspect_ratio),u_fade_change:new a.aM(S,c.u_fade_change),u_matrix:new a.aN(S,c.u_matrix),u_label_plane_matrix:new a.aN(S,c.u_label_plane_matrix),u_coord_matrix:new a.aN(S,c.u_coord_matrix),u_is_text:new a.aL(S,c.u_is_text),u_pitch_with_map:new a.aL(S,c.u_pitch_with_map),u_texsize:new a.aQ(S,c.u_texsize),u_texsize_icon:new a.aQ(S,c.u_texsize_icon),u_texture:new a.aL(S,c.u_texture),u_texture_icon:new a.aL(S,c.u_texture_icon),u_gamma_scale:new a.aM(S,c.u_gamma_scale),u_device_pixel_ratio:new a.aM(S,c.u_device_pixel_ratio),u_is_halo:new a.aL(S,c.u_is_halo)}),background:(S,c)=>({u_matrix:new a.aN(S,c.u_matrix),u_opacity:new a.aM(S,c.u_opacity),u_color:new a.aR(S,c.u_color)}),backgroundPattern:(S,c)=>({u_matrix:new a.aN(S,c.u_matrix),u_opacity:new a.aM(S,c.u_opacity),u_image:new a.aL(S,c.u_image),u_pattern_tl_a:new a.aQ(S,c.u_pattern_tl_a),u_pattern_br_a:new a.aQ(S,c.u_pattern_br_a),u_pattern_tl_b:new a.aQ(S,c.u_pattern_tl_b),u_pattern_br_b:new a.aQ(S,c.u_pattern_br_b),u_texsize:new a.aQ(S,c.u_texsize),u_mix:new a.aM(S,c.u_mix),u_pattern_size_a:new a.aQ(S,c.u_pattern_size_a),u_pattern_size_b:new a.aQ(S,c.u_pattern_size_b),u_scale_a:new a.aM(S,c.u_scale_a),u_scale_b:new a.aM(S,c.u_scale_b),u_pixel_coord_upper:new a.aQ(S,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.aQ(S,c.u_pixel_coord_lower),u_tile_units_to_pixels:new a.aM(S,c.u_tile_units_to_pixels)}),terrain:(S,c)=>({u_matrix:new a.aN(S,c.u_matrix),u_texture:new a.aL(S,c.u_texture),u_ele_delta:new a.aM(S,c.u_ele_delta)}),terrainDepth:(S,c)=>({u_matrix:new a.aN(S,c.u_matrix),u_ele_delta:new a.aM(S,c.u_ele_delta)}),terrainCoords:(S,c)=>({u_matrix:new a.aN(S,c.u_matrix),u_texture:new a.aL(S,c.u_texture),u_terrain_coords_id:new a.aM(S,c.u_terrain_coords_id),u_ele_delta:new a.aM(S,c.u_ele_delta)})};class Fh{constructor(c,p,v){this.context=c;const _=c.gl;this.buffer=_.createBuffer(),this.dynamicDraw=!!v,this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),_.bufferData(_.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?_.DYNAMIC_DRAW:_.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(c){const p=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const af={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Uh{constructor(c,p,v,_){this.length=p.length,this.attributes=v,this.itemSize=p.bytesPerElement,this.dynamicDraw=_,this.context=c;const k=c.gl;this.buffer=k.createBuffer(),c.bindVertexBuffer.set(this.buffer),k.bufferData(k.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?k.DYNAMIC_DRAW:k.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(c){if(c.length!==this.length)throw new Error(`Length of new data is ${c.length}, which doesn't match current length of ${this.length}`);const p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,c.arrayBuffer)}enableAttributes(c,p){for(let v=0;v<this.attributes.length;v++){const _=p.attributes[this.attributes[v].name];_!==void 0&&c.enableVertexAttribArray(_)}}setVertexAttribPointers(c,p,v){for(let _=0;_<this.attributes.length;_++){const k=this.attributes[_],N=p.attributes[k.name];N!==void 0&&c.vertexAttribPointer(N,k.components,c[af[k.type]],!1,this.itemSize,k.offset+this.itemSize*(v||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Du=new WeakMap;function Ul(S){var c;if(Du.has(S))return Du.get(S);{const p=(c=S.getParameter(S.VERSION))===null||c===void 0?void 0:c.startsWith("WebGL 2.0");return Du.set(S,p),p}}class jn{constructor(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(c){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Vh extends jn{getDefault(){return a.aT.transparent}set(c){const p=this.current;(c.r!==p.r||c.g!==p.g||c.b!==p.b||c.a!==p.a||this.dirty)&&(this.gl.clearColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Zo extends jn{getDefault(){return 1}set(c){(c!==this.current||this.dirty)&&(this.gl.clearDepth(c),this.current=c,this.dirty=!1)}}class Xo extends jn{getDefault(){return 0}set(c){(c!==this.current||this.dirty)&&(this.gl.clearStencil(c),this.current=c,this.dirty=!1)}}class ry extends jn{getDefault(){return[!0,!0,!0,!0]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||this.dirty)&&(this.gl.colorMask(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class Wh extends jn{getDefault(){return!0}set(c){(c!==this.current||this.dirty)&&(this.gl.depthMask(c),this.current=c,this.dirty=!1)}}class qh extends jn{getDefault(){return 255}set(c){(c!==this.current||this.dirty)&&(this.gl.stencilMask(c),this.current=c,this.dirty=!1)}}class iy extends jn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(c){const p=this.current;(c.func!==p.func||c.ref!==p.ref||c.mask!==p.mask||this.dirty)&&(this.gl.stencilFunc(c.func,c.ref,c.mask),this.current=c,this.dirty=!1)}}class oy extends jn{getDefault(){const c=this.gl;return[c.KEEP,c.KEEP,c.KEEP]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||this.dirty)&&(this.gl.stencilOp(c[0],c[1],c[2]),this.current=c,this.dirty=!1)}}class Hh extends jn{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.STENCIL_TEST):p.disable(p.STENCIL_TEST),this.current=c,this.dirty=!1}}class ay extends jn{getDefault(){return[0,1]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||this.dirty)&&(this.gl.depthRange(c[0],c[1]),this.current=c,this.dirty=!1)}}class sy extends jn{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.DEPTH_TEST):p.disable(p.DEPTH_TEST),this.current=c,this.dirty=!1}}class Gh extends jn{getDefault(){return this.gl.LESS}set(c){(c!==this.current||this.dirty)&&(this.gl.depthFunc(c),this.current=c,this.dirty=!1)}}class Bx extends jn{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.BLEND):p.disable(p.BLEND),this.current=c,this.dirty=!1}}class Fx extends jn{getDefault(){const c=this.gl;return[c.ONE,c.ZERO]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||this.dirty)&&(this.gl.blendFunc(c[0],c[1]),this.current=c,this.dirty=!1)}}class ju extends jn{getDefault(){return a.aT.transparent}set(c){const p=this.current;(c.r!==p.r||c.g!==p.g||c.b!==p.b||c.a!==p.a||this.dirty)&&(this.gl.blendColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class rT extends jn{getDefault(){return this.gl.FUNC_ADD}set(c){(c!==this.current||this.dirty)&&(this.gl.blendEquation(c),this.current=c,this.dirty=!1)}}class iT extends jn{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.CULL_FACE):p.disable(p.CULL_FACE),this.current=c,this.dirty=!1}}class oT extends jn{getDefault(){return this.gl.BACK}set(c){(c!==this.current||this.dirty)&&(this.gl.cullFace(c),this.current=c,this.dirty=!1)}}class aT extends jn{getDefault(){return this.gl.CCW}set(c){(c!==this.current||this.dirty)&&(this.gl.frontFace(c),this.current=c,this.dirty=!1)}}class sT extends jn{getDefault(){return null}set(c){(c!==this.current||this.dirty)&&(this.gl.useProgram(c),this.current=c,this.dirty=!1)}}class lT extends jn{getDefault(){return this.gl.TEXTURE0}set(c){(c!==this.current||this.dirty)&&(this.gl.activeTexture(c),this.current=c,this.dirty=!1)}}class ly extends jn{getDefault(){const c=this.gl;return[0,0,c.drawingBufferWidth,c.drawingBufferHeight]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||this.dirty)&&(this.gl.viewport(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class Yh extends jn{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindFramebuffer(p.FRAMEBUFFER,c),this.current=c,this.dirty=!1}}class cy extends jn{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindRenderbuffer(p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class uy extends jn{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindTexture(p.TEXTURE_2D,c),this.current=c,this.dirty=!1}}class Lu extends jn{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindBuffer(p.ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class Ux extends jn{getDefault(){return null}set(c){const p=this.gl;p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class Vx extends jn{getDefault(){return null}set(c){var p;if(c===this.current&&!this.dirty)return;const v=this.gl;Ul(v)?v.bindVertexArray(c):(p=v.getExtension("OES_vertex_array_object"))===null||p===void 0||p.bindVertexArrayOES(c),this.current=c,this.dirty=!1}}class dy extends jn{getDefault(){return 4}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_ALIGNMENT,c),this.current=c,this.dirty=!1}}class Sc extends jn{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c),this.current=c,this.dirty=!1}}class Wx extends jn{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,c),this.current=c,this.dirty=!1}}class Vl extends jn{constructor(c,p){super(c),this.context=c,this.parent=p}getDefault(){return null}}class Nu extends Vl{setDirty(){this.dirty=!0}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,c,0),this.current=c,this.dirty=!1}}class qx extends Vl{set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_ATTACHMENT,p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class fy extends Vl{set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_STENCIL_ATTACHMENT,p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class Hn{constructor(c,p,v,_,k){this.context=c,this.width=p,this.height=v;const N=c.gl,z=this.framebuffer=N.createFramebuffer();if(this.colorAttachment=new Nu(c,z),_)this.depthAttachment=k?new fy(c,z):new qx(c,z);else if(k)throw new Error("Stencil cannot be setted without depth");if(N.checkFramebufferStatus(N.FRAMEBUFFER)!==N.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const c=this.context.gl,p=this.colorAttachment.get();if(p&&c.deleteTexture(p),this.depthAttachment){const v=this.depthAttachment.get();v&&c.deleteRenderbuffer(v)}c.deleteFramebuffer(this.framebuffer)}}class Dr{constructor(c,p,v){this.blendFunction=c,this.blendColor=p,this.mask=v}}Dr.Replace=[1,0],Dr.disabled=new Dr(Dr.Replace,a.aT.transparent,[!1,!1,!1,!1]),Dr.unblended=new Dr(Dr.Replace,a.aT.transparent,[!0,!0,!0,!0]),Dr.alphaBlended=new Dr([1,771],a.aT.transparent,[!0,!0,!0,!0]);class cT{constructor(c){var p,v;if(this.gl=c,this.clearColor=new Vh(this),this.clearDepth=new Zo(this),this.clearStencil=new Xo(this),this.colorMask=new ry(this),this.depthMask=new Wh(this),this.stencilMask=new qh(this),this.stencilFunc=new iy(this),this.stencilOp=new oy(this),this.stencilTest=new Hh(this),this.depthRange=new ay(this),this.depthTest=new sy(this),this.depthFunc=new Gh(this),this.blend=new Bx(this),this.blendFunc=new Fx(this),this.blendColor=new ju(this),this.blendEquation=new rT(this),this.cullFace=new iT(this),this.cullFaceSide=new oT(this),this.frontFace=new aT(this),this.program=new sT(this),this.activeTexture=new lT(this),this.viewport=new ly(this),this.bindFramebuffer=new Yh(this),this.bindRenderbuffer=new cy(this),this.bindTexture=new uy(this),this.bindVertexBuffer=new Lu(this),this.bindElementBuffer=new Ux(this),this.bindVertexArray=new Vx(this),this.pixelStoreUnpack=new dy(this),this.pixelStoreUnpackPremultiplyAlpha=new Sc(this),this.pixelStoreUnpackFlipY=new Wx(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE),Ul(c)){this.HALF_FLOAT=c.HALF_FLOAT;const _=c.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(p=c.RGBA16F)!==null&&p!==void 0?p:_==null?void 0:_.RGBA16F_EXT,this.RGB16F=(v=c.RGB16F)!==null&&v!==void 0?v:_==null?void 0:_.RGB16F_EXT,c.getExtension("EXT_color_buffer_float")}else{c.getExtension("EXT_color_buffer_half_float"),c.getExtension("OES_texture_half_float_linear");const _=c.getExtension("OES_texture_half_float");this.HALF_FLOAT=_==null?void 0:_.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(c,p){return new Fh(this,c,p)}createVertexBuffer(c,p,v){return new Uh(this,c,p,v)}createRenderbuffer(c,p,v){const _=this.gl,k=_.createRenderbuffer();return this.bindRenderbuffer.set(k),_.renderbufferStorage(_.RENDERBUFFER,c,p,v),this.bindRenderbuffer.set(null),k}createFramebuffer(c,p,v,_){return new Hn(this,c,p,v,_)}clear({color:c,depth:p,stencil:v}){const _=this.gl;let k=0;c&&(k|=_.COLOR_BUFFER_BIT,this.clearColor.set(c),this.colorMask.set([!0,!0,!0,!0])),p!==void 0&&(k|=_.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(p),this.depthMask.set(!0)),v!==void 0&&(k|=_.STENCIL_BUFFER_BIT,this.clearStencil.set(v),this.stencilMask.set(255)),_.clear(k)}setCullFace(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))}setDepthMode(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)}setStencilMode(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)}setColorMode(c){a.aG(c.blendFunction,Dr.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)}createVertexArray(){var c;return Ul(this.gl)?this.gl.createVertexArray():(c=this.gl.getExtension("OES_vertex_array_object"))===null||c===void 0?void 0:c.createVertexArrayOES()}deleteVertexArray(c){var p;return Ul(this.gl)?this.gl.deleteVertexArray(c):(p=this.gl.getExtension("OES_vertex_array_object"))===null||p===void 0?void 0:p.deleteVertexArrayOES(c)}unbindVAO(){this.bindVertexArray.set(null)}}class Ln{constructor(c,p,v){this.func=c,this.mask=p,this.range=v}}Ln.ReadOnly=!1,Ln.ReadWrite=!0,Ln.disabled=new Ln(519,Ln.ReadOnly,[0,1]);const Cc=7680;class jr{constructor(c,p,v,_,k,N){this.test=c,this.ref=p,this.mask=v,this.fail=_,this.depthFail=k,this.pass=N}}jr.disabled=new jr({func:519,mask:0},0,0,Cc,Cc,Cc);class Mr{constructor(c,p,v){this.enable=c,this.mode=p,this.frontFace=v}}let sf;function Hx(S,c,p,v,_,k,N){const z=S.context,V=z.gl,H=S.useProgram("collisionBox"),Y=[];let Z=0,ie=0;for(let Ce=0;Ce<v.length;Ce++){const De=v[Ce],We=c.getTile(De),Ge=We.getBucket(p);if(!Ge)continue;let tt=De.posMatrix;_[0]===0&&_[1]===0||(tt=S.translatePosMatrix(De.posMatrix,We,_,k));const ut=N?Ge.textCollisionBox:Ge.iconCollisionBox,at=Ge.collisionCircleArray;if(at.length>0){const mt=a.Z(),Bt=tt;a.aU(mt,Ge.placementInvProjMatrix,S.transform.glCoordMatrix),a.aU(mt,mt,Ge.placementViewportMatrix),Y.push({circleArray:at,circleOffset:ie,transform:Bt,invTransform:mt,coord:De}),Z+=at.length/4,ie=Z}ut&&H.draw(z,V.LINES,Ln.disabled,jr.disabled,S.colorModeForRenderPass(),Mr.disabled,Jg(tt,S.transform,We),S.style.map.terrain&&S.style.map.terrain.getTerrainData(De),p.id,ut.layoutVertexBuffer,ut.indexBuffer,ut.segments,null,S.transform.zoom,null,null,ut.collisionVertexBuffer)}if(!N||!Y.length)return;const ge=S.useProgram("collisionCircle"),me=new a.aV;me.resize(4*Z),me._trim();let xe=0;for(const Ce of Y)for(let De=0;De<Ce.circleArray.length/4;De++){const We=4*De,Ge=Ce.circleArray[We+0],tt=Ce.circleArray[We+1],ut=Ce.circleArray[We+2],at=Ce.circleArray[We+3];me.emplace(xe++,Ge,tt,ut,at,0),me.emplace(xe++,Ge,tt,ut,at,1),me.emplace(xe++,Ge,tt,ut,at,2),me.emplace(xe++,Ge,tt,ut,at,3)}(!sf||sf.length<2*Z)&&(sf=function(Ce){const De=2*Ce,We=new a.aX;We.resize(De),We._trim();for(let Ge=0;Ge<De;Ge++){const tt=6*Ge;We.uint16[tt+0]=4*Ge+0,We.uint16[tt+1]=4*Ge+1,We.uint16[tt+2]=4*Ge+2,We.uint16[tt+3]=4*Ge+2,We.uint16[tt+4]=4*Ge+3,We.uint16[tt+5]=4*Ge+0}return We}(Z));const fe=z.createIndexBuffer(sf,!0),Ie=z.createVertexBuffer(me,a.aW.members,!0);for(const Ce of Y){const De={u_matrix:Ce.transform,u_inv_matrix:Ce.invTransform,u_camera_to_center_distance:(Ue=S.transform).cameraToCenterDistance,u_viewport_size:[Ue.width,Ue.height]};ge.draw(z,V.TRIANGLES,Ln.disabled,jr.disabled,S.colorModeForRenderPass(),Mr.disabled,De,S.style.map.terrain&&S.style.map.terrain.getTerrainData(Ce.coord),p.id,Ie,fe,a.S.simpleSegment(0,2*Ce.circleOffset,Ce.circleArray.length,Ce.circleArray.length/2),null,S.transform.zoom,null,null,null)}var Ue;Ie.destroy(),fe.destroy()}Mr.disabled=new Mr(!1,1029,2305),Mr.backCCW=new Mr(!0,1029,2305);const hy=a.ao(new Float32Array(16));function Kh(S,c,p,v,_,k){const{horizontalAlign:N,verticalAlign:z}=a.au(S);return new a.P((-(N-.5)*c/_+v[0])*k,(-(z-.5)*p/_+v[1])*k)}function Zh(S,c,p,v,_,k,N,z,V,H,Y){const Z=S.text.placedSymbolArray,ie=S.text.dynamicLayoutVertexArray,ge=S.icon.dynamicLayoutVertexArray,me={};ie.clear();for(let xe=0;xe<Z.length;xe++){const fe=Z.get(xe),Ie=fe.hidden||!fe.crossTileID||S.allowVerticalPlacement&&!fe.placedOrientation?null:v[fe.crossTileID];if(Ie){const Ue=new a.P(fe.anchorX,fe.anchorY),Ce=fn(Ue,p?N:k,Y),De=xt(_.cameraToCenterDistance,Ce.signedDistanceFromCamera);let We=a.aj(S.textSizeData,V,fe)*De/a.ap;p&&(We*=S.tilePixelRatio/z);const{width:Ge,height:tt,anchor:ut,textOffset:at,textBoxScale:mt}=Ie,Bt=Kh(ut,Ge,tt,at,mt,We),kn=p?fn(Ue.add(Bt),k,Y).point:Ce.point.add(c?Bt.rotate(-_.angle):Bt),St=S.allowVerticalPlacement&&fe.placedOrientation===a.ai.vertical?Math.PI/2:0;for(let dn=0;dn<fe.numGlyphs;dn++)a.ak(ie,kn,St);H&&fe.associatedIconIndex>=0&&(me[fe.associatedIconIndex]={shiftedAnchor:kn,angle:St})}else ue(fe.numGlyphs,ie)}if(H){ge.clear();const xe=S.icon.placedSymbolArray;for(let fe=0;fe<xe.length;fe++){const Ie=xe.get(fe);if(Ie.hidden)ue(Ie.numGlyphs,ge);else{const Ue=me[fe];if(Ue)for(let Ce=0;Ce<Ie.numGlyphs;Ce++)a.ak(ge,Ue.shiftedAnchor,Ue.angle);else ue(Ie.numGlyphs,ge)}}S.icon.dynamicLayoutVertexBuffer.updateData(ge)}S.text.dynamicLayoutVertexBuffer.updateData(ie)}function py(S,c,p){return p.iconsInText&&c?"symbolTextAndIcon":S?"symbolSDF":"symbolIcon"}function Xh(S,c,p,v,_,k,N,z,V,H,Y,Z){const ie=S.context,ge=ie.gl,me=S.transform,xe=z==="map",fe=V==="map",Ie=z!=="viewport"&&p.layout.get("symbol-placement")!=="point",Ue=xe&&!fe&&!Ie,Ce=!p.layout.get("symbol-sort-key").isConstant();let De=!1;const We=S.depthModeForSublayer(0,Ln.ReadOnly),Ge=p._unevaluatedLayout.hasValue("text-variable-anchor")||p._unevaluatedLayout.hasValue("text-variable-anchor-offset"),tt=[];for(const ut of v){const at=c.getTile(ut),mt=at.getBucket(p);if(!mt)continue;const Bt=_?mt.text:mt.icon;if(!Bt||!Bt.segments.get().length||!Bt.hasVisibleVertices)continue;const kn=Bt.programConfigurations.get(p.id),St=_||mt.sdfIcons,dn=_?mt.textSizeData:mt.iconSizeData,Ut=fe||me.pitch!==0,ir=S.useProgram(py(St,_,mt),kn),Sn=a.ah(dn,me.zoom),xn=S.style.map.terrain&&S.style.map.terrain.getTerrainData(ut);let Tn,Jr,vr,Ui,wi=[0,0],ci=null;if(_)Jr=at.glyphAtlasTexture,vr=ge.LINEAR,Tn=at.glyphAtlasTexture.size,mt.iconsInText&&(wi=at.imageAtlasTexture.size,ci=at.imageAtlasTexture,Ui=Ut||S.options.rotating||S.options.zooming||dn.kind==="composite"||dn.kind==="camera"?ge.LINEAR:ge.NEAREST);else{const Qr=p.layout.get("icon-size").constantOr(0)!==1||mt.iconsNeedLinear;Jr=at.imageAtlasTexture,vr=St||S.options.rotating||S.options.zooming||Qr||Ut?ge.LINEAR:ge.NEAREST,Tn=at.imageAtlasTexture.size}const ea=Me(at,1,S.transform.zoom),kr=dt(ut.posMatrix,fe,xe,S.transform,ea),vs=Vt(ut.posMatrix,fe,xe,S.transform,ea),bs=Ge&&mt.hasTextData(),Hl=p.layout.get("icon-text-fit")!=="none"&&bs&&mt.hasIconData();if(Ie){const Qr=S.style.map.terrain?(To,ei)=>S.style.map.terrain.getElevation(ut,To,ei):null,Si=p.layout.get("text-rotation-alignment")==="map";et(mt,ut.posMatrix,S,_,kr,vs,fe,H,Si,Qr)}const Oc=S.translatePosMatrix(ut.posMatrix,at,k,N),qu=Ie||_&&Ge||Hl?hy:kr,Qi=S.translatePosMatrix(vs,at,k,N,!0),Vi=St&&p.paint.get(_?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let fo;fo=St?mt.iconsInText?wc(dn.kind,Sn,Ue,fe,S,Oc,qu,Qi,Tn,wi):ny(dn.kind,Sn,Ue,fe,S,Oc,qu,Qi,_,Tn,!0):ty(dn.kind,Sn,Ue,fe,S,Oc,qu,Qi,_,Tn);const Mc={program:ir,buffers:Bt,uniformValues:fo,atlasTexture:Jr,atlasTextureIcon:ci,atlasInterpolation:vr,atlasInterpolationIcon:Ui,isSDF:St,hasHalo:Vi};if(Ce&&mt.canOverlap){De=!0;const Qr=Bt.segments.get();for(const Si of Qr)tt.push({segments:new a.S([Si]),sortKey:Si.sortKey,state:Mc,terrainData:xn})}else tt.push({segments:Bt.segments,sortKey:0,state:Mc,terrainData:xn})}De&&tt.sort((ut,at)=>ut.sortKey-at.sortKey);for(const ut of tt){const at=ut.state;if(ie.activeTexture.set(ge.TEXTURE0),at.atlasTexture.bind(at.atlasInterpolation,ge.CLAMP_TO_EDGE),at.atlasTextureIcon&&(ie.activeTexture.set(ge.TEXTURE1),at.atlasTextureIcon&&at.atlasTextureIcon.bind(at.atlasInterpolationIcon,ge.CLAMP_TO_EDGE)),at.isSDF){const mt=at.uniformValues;at.hasHalo&&(mt.u_is_halo=1,my(at.buffers,ut.segments,p,S,at.program,We,Y,Z,mt,ut.terrainData)),mt.u_is_halo=0}my(at.buffers,ut.segments,p,S,at.program,We,Y,Z,at.uniformValues,ut.terrainData)}}function my(S,c,p,v,_,k,N,z,V,H){const Y=v.context;_.draw(Y,Y.gl.TRIANGLES,k,N,z,Mr.disabled,V,H,p.id,S.layoutVertexBuffer,S.indexBuffer,c,p.paint,v.transform.zoom,S.programConfigurations.get(p.id),S.dynamicLayoutVertexBuffer,S.opacityVertexBuffer)}function lf(S,c,p,v,_){if(!p||!v||!v.imageAtlas)return;const k=v.imageAtlas.patternPositions;let N=k[p.to.toString()],z=k[p.from.toString()];if(!N&&z&&(N=z),!z&&N&&(z=N),!N||!z){const V=_.getPaintProperty(c);N=k[V],z=k[V]}N&&z&&S.setConstantPatternPositions(N,z)}function cf(S,c,p,v,_,k,N){const z=S.context.gl,V="fill-pattern",H=p.paint.get(V),Y=H&&H.constantOr(1),Z=p.getCrossfadeParameters();let ie,ge,me,xe,fe;N?(ge=Y&&!p.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ie=z.LINES):(ge=Y?"fillPattern":"fill",ie=z.TRIANGLES);const Ie=H.constantOr(null);for(const Ue of v){const Ce=c.getTile(Ue);if(Y&&!Ce.patternsLoaded())continue;const De=Ce.getBucket(p);if(!De)continue;const We=De.programConfigurations.get(p.id),Ge=S.useProgram(ge,We),tt=S.style.map.terrain&&S.style.map.terrain.getTerrainData(Ue);Y&&(S.context.activeTexture.set(z.TEXTURE0),Ce.imageAtlasTexture.bind(z.LINEAR,z.CLAMP_TO_EDGE),We.updatePaintBuffers(Z)),lf(We,V,Ie,Ce,p);const ut=tt?Ue:null,at=S.translatePosMatrix(ut?ut.posMatrix:Ue.posMatrix,Ce,p.paint.get("fill-translate"),p.paint.get("fill-translate-anchor"));if(N){xe=De.indexBuffer2,fe=De.segments2;const mt=[z.drawingBufferWidth,z.drawingBufferHeight];me=ge==="fillOutlinePattern"&&Y?Lh(at,S,Z,Ce,mt):jh(at,mt)}else xe=De.indexBuffer,fe=De.segments,me=Y?Xg(at,S,Z,Ce):$x(at);Ge.draw(S.context,ie,_,S.stencilModeForClipping(Ue),k,Mr.disabled,me,tt,p.id,De.layoutVertexBuffer,xe,fe,p.paint,S.transform.zoom,We)}}function uf(S,c,p,v,_,k,N){const z=S.context,V=z.gl,H="fill-extrusion-pattern",Y=p.paint.get(H),Z=Y.constantOr(1),ie=p.getCrossfadeParameters(),ge=p.paint.get("fill-extrusion-opacity"),me=Y.constantOr(null);for(const xe of v){const fe=c.getTile(xe),Ie=fe.getBucket(p);if(!Ie)continue;const Ue=S.style.map.terrain&&S.style.map.terrain.getTerrainData(xe),Ce=Ie.programConfigurations.get(p.id),De=S.useProgram(Z?"fillExtrusionPattern":"fillExtrusion",Ce);Z&&(S.context.activeTexture.set(V.TEXTURE0),fe.imageAtlasTexture.bind(V.LINEAR,V.CLAMP_TO_EDGE),Ce.updatePaintBuffers(ie)),lf(Ce,H,me,fe,p);const We=S.translatePosMatrix(xe.posMatrix,fe,p.paint.get("fill-extrusion-translate"),p.paint.get("fill-extrusion-translate-anchor")),Ge=p.paint.get("fill-extrusion-vertical-gradient"),tt=Z?Bl(We,S,Ge,ge,xe,ie,fe):Zg(We,S,Ge,ge);De.draw(z,z.gl.TRIANGLES,_,k,N,Mr.backCCW,tt,Ue,p.id,Ie.layoutVertexBuffer,Ie.indexBuffer,Ie.segments,p.paint,S.transform.zoom,Ce,S.style.map.terrain&&Ie.centroidVertexBuffer)}}function uT(S,c,p,v,_,k,N){const z=S.context,V=z.gl,H=p.fbo;if(!H)return;const Y=S.useProgram("hillshade"),Z=S.style.map.terrain&&S.style.map.terrain.getTerrainData(c);z.activeTexture.set(V.TEXTURE0),V.bindTexture(V.TEXTURE_2D,H.colorAttachment.get()),Y.draw(z,V.TRIANGLES,_,k,N,Mr.disabled,((ie,ge,me,xe)=>{const fe=me.paint.get("hillshade-shadow-color"),Ie=me.paint.get("hillshade-highlight-color"),Ue=me.paint.get("hillshade-accent-color");let Ce=me.paint.get("hillshade-illumination-direction")*(Math.PI/180);me.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ce-=ie.transform.angle);const De=!ie.options.moving;return{u_matrix:xe?xe.posMatrix:ie.transform.calculatePosMatrix(ge.tileID.toUnwrapped(),De),u_image:0,u_latrange:Qg(0,ge.tileID),u_light:[me.paint.get("hillshade-exaggeration"),Ce],u_shadow:fe,u_highlight:Ie,u_accent:Ue}})(S,p,v,Z?c:null),Z,v.id,S.rasterBoundsBuffer,S.quadTriangleIndexBuffer,S.rasterBoundsSegments)}function gy(S,c,p,v,_,k){const N=S.context,z=N.gl,V=c.dem;if(V&&V.data){const H=V.dim,Y=V.stride,Z=V.getPixels();if(N.activeTexture.set(z.TEXTURE1),N.pixelStoreUnpackPremultiplyAlpha.set(!1),c.demTexture=c.demTexture||S.getTileTexture(Y),c.demTexture){const ge=c.demTexture;ge.update(Z,{premultiply:!1}),ge.bind(z.NEAREST,z.CLAMP_TO_EDGE)}else c.demTexture=new K(N,Z,z.RGBA,{premultiply:!1}),c.demTexture.bind(z.NEAREST,z.CLAMP_TO_EDGE);N.activeTexture.set(z.TEXTURE0);let ie=c.fbo;if(!ie){const ge=new K(N,{width:H,height:H,data:null},z.RGBA);ge.bind(z.LINEAR,z.CLAMP_TO_EDGE),ie=c.fbo=N.createFramebuffer(H,H,!0,!1),ie.colorAttachment.set(ge.texture)}N.bindFramebuffer.set(ie.framebuffer),N.viewport.set([0,0,H,H]),S.useProgram("hillshadePrepare").draw(N,z.TRIANGLES,v,_,k,Mr.disabled,((ge,me)=>{const xe=me.stride,fe=a.Z();return a.aS(fe,0,a.N,-a.N,0,0,1),a.$(fe,fe,[0,-a.N,0]),{u_matrix:fe,u_image:1,u_dimension:[xe,xe],u_zoom:ge.overscaledZ,u_unpack:me.getUnpackVector()}})(c.tileID,V),null,p.id,S.rasterBoundsBuffer,S.quadTriangleIndexBuffer,S.rasterBoundsSegments),c.needsHillshadePrepare=!1}}function dT(S,c,p,v,_,k){const N=v.paint.get("raster-fade-duration");if(!k&&N>0){const z=a.h.now(),V=(z-S.timeAdded)/N,H=c?(z-c.timeAdded)/N:-1,Y=p.getSource(),Z=_.coveringZoomLevel({tileSize:Y.tileSize,roundZoom:Y.roundZoom}),ie=!c||Math.abs(c.tileID.overscaledZ-Z)>Math.abs(S.tileID.overscaledZ-Z),ge=ie&&S.refreshedUponExpiration?1:a.ad(ie?V:1-H,0,1);return S.refreshedUponExpiration&&V>=1&&(S.refreshedUponExpiration=!1),c?{opacity:1,mix:1-ge}:{opacity:ge,mix:0}}return{opacity:1,mix:0}}const Gx=new a.aT(1,0,0,1),Jh=new a.aT(0,1,0,1),yy=new a.aT(0,0,1,1),Yx=new a.aT(1,0,1,1),Kx=new a.aT(0,1,1,1);function df(S,c,p,v){ep(S,0,c+p/2,S.transform.width,p,v)}function Qh(S,c,p,v){ep(S,c-p/2,0,p,S.transform.height,v)}function ep(S,c,p,v,_,k){const N=S.context,z=N.gl;z.enable(z.SCISSOR_TEST),z.scissor(c*S.pixelRatio,p*S.pixelRatio,v*S.pixelRatio,_*S.pixelRatio),N.clear({color:k}),z.disable(z.SCISSOR_TEST)}function Zx(S,c,p){const v=S.context,_=v.gl,k=p.posMatrix,N=S.useProgram("debug"),z=Ln.disabled,V=jr.disabled,H=S.colorModeForRenderPass(),Y="$debug",Z=S.style.map.terrain&&S.style.map.terrain.getTerrainData(p);v.activeTexture.set(_.TEXTURE0);const ie=c.getTileByID(p.key).latestRawTileData,ge=Math.floor((ie&&ie.byteLength||0)/1024),me=c.getTile(p).tileSize,xe=512/Math.min(me,512)*(p.overscaledZ/S.transform.zoom)*.5;let fe=p.canonical.toString();p.overscaledZ!==p.canonical.z&&(fe+=` => ${p.overscaledZ}`),function(Ie,Ue){Ie.initDebugOverlayCanvas();const Ce=Ie.debugOverlayCanvas,De=Ie.context.gl,We=Ie.debugOverlayCanvas.getContext("2d");We.clearRect(0,0,Ce.width,Ce.height),We.shadowColor="white",We.shadowBlur=2,We.lineWidth=1.5,We.strokeStyle="white",We.textBaseline="top",We.font="bold 36px Open Sans, sans-serif",We.fillText(Ue,5,5),We.strokeText(Ue,5,5),Ie.debugOverlayTexture.update(Ce),Ie.debugOverlayTexture.bind(De.LINEAR,De.CLAMP_TO_EDGE)}(S,`${fe} ${ge}kB`),N.draw(v,_.TRIANGLES,z,V,Dr.alphaBlended,Mr.disabled,of(k,a.aT.transparent,xe),null,Y,S.debugBuffer,S.quadTriangleIndexBuffer,S.debugSegments),N.draw(v,_.LINE_STRIP,z,V,H,Mr.disabled,of(k,a.aT.red),Z,Y,S.debugBuffer,S.tileBorderIndexBuffer,S.debugSegments)}function Vr(S,c,p){const v=S.context,_=v.gl,k=S.colorModeForRenderPass(),N=new Ln(_.LEQUAL,Ln.ReadWrite,S.depthRangeFor3D),z=S.useProgram("terrain"),V=c.getTerrainMesh();v.bindFramebuffer.set(null),v.viewport.set([0,0,S.width,S.height]);for(const H of p){const Y=S.renderToTexture.getTexture(H),Z=c.getTerrainData(H.tileID);v.activeTexture.set(_.TEXTURE0),_.bindTexture(_.TEXTURE_2D,Y.texture);const ie={u_matrix:S.transform.calculatePosMatrix(H.tileID.toUnwrapped()),u_texture:0,u_ele_delta:c.getMeshFrameDelta(S.transform.zoom)};z.draw(v,_.TRIANGLES,N,jr.disabled,k,Mr.backCCW,ie,Z,"terrain",V.vertexBuffer,V.indexBuffer,V.segments)}}class kc{constructor(c,p){this.context=new cT(c),this.transform=p,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.Z(),renderTime:0},this.setup(),this.numSublayers=ln.maxUnderzooming+ln.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new $h}resize(c,p,v){if(this.width=Math.floor(c*v),this.height=Math.floor(p*v),this.pixelRatio=v,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const _ of this.style._order)this.style._layers[_].resize()}setup(){const c=this.context,p=new a.a_;p.emplaceBack(0,0),p.emplaceBack(a.N,0),p.emplaceBack(0,a.N),p.emplaceBack(a.N,a.N),this.tileExtentBuffer=c.createVertexBuffer(p,Rh.members),this.tileExtentSegments=a.S.simpleSegment(0,0,4,2);const v=new a.a_;v.emplaceBack(0,0),v.emplaceBack(a.N,0),v.emplaceBack(0,a.N),v.emplaceBack(a.N,a.N),this.debugBuffer=c.createVertexBuffer(v,Rh.members),this.debugSegments=a.S.simpleSegment(0,0,4,5);const _=new a.V;_.emplaceBack(0,0,0,0),_.emplaceBack(a.N,0,a.N,0),_.emplaceBack(0,a.N,0,a.N),_.emplaceBack(a.N,a.N,a.N,a.N),this.rasterBoundsBuffer=c.createVertexBuffer(_,Ye.members),this.rasterBoundsSegments=a.S.simpleSegment(0,0,4,2);const k=new a.a_;k.emplaceBack(0,0),k.emplaceBack(1,0),k.emplaceBack(0,1),k.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(k,Rh.members),this.viewportSegments=a.S.simpleSegment(0,0,4,2);const N=new a.a$;N.emplaceBack(0),N.emplaceBack(1),N.emplaceBack(3),N.emplaceBack(2),N.emplaceBack(0),this.tileBorderIndexBuffer=c.createIndexBuffer(N);const z=new a.b0;z.emplaceBack(0,1,2),z.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(z);const V=this.context.gl;this.stencilClearMode=new jr({func:V.ALWAYS,mask:0},0,255,V.ZERO,V.ZERO,V.ZERO)}clearStencil(){const c=this.context,p=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const v=a.Z();a.aS(v,0,this.width,this.height,0,0,1),a.a0(v,v,[p.drawingBufferWidth,p.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(c,p.TRIANGLES,Ln.disabled,this.stencilClearMode,Dr.disabled,Mr.disabled,Rx(v),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(c,p){if(this.currentStencilSource===c.source||!c.isTileClipped()||!p||!p.length)return;this.currentStencilSource=c.source;const v=this.context,_=v.gl;this.nextStencilID+p.length>256&&this.clearStencil(),v.setColorMode(Dr.disabled),v.setDepthMode(Ln.disabled);const k=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const N of p){const z=this._tileClippingMaskIDs[N.key]=this.nextStencilID++,V=this.style.map.terrain&&this.style.map.terrain.getTerrainData(N);k.draw(v,_.TRIANGLES,Ln.disabled,new jr({func:_.ALWAYS,mask:0},z,255,_.KEEP,_.KEEP,_.REPLACE),Dr.disabled,Mr.disabled,Rx(N.posMatrix),V,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const c=this.nextStencilID++,p=this.context.gl;return new jr({func:p.NOTEQUAL,mask:255},c,255,p.KEEP,p.KEEP,p.REPLACE)}stencilModeForClipping(c){const p=this.context.gl;return new jr({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,p.KEEP,p.KEEP,p.REPLACE)}stencilConfigForOverlap(c){const p=this.context.gl,v=c.sort((N,z)=>z.overscaledZ-N.overscaledZ),_=v[v.length-1].overscaledZ,k=v[0].overscaledZ-_+1;if(k>1){this.currentStencilSource=void 0,this.nextStencilID+k>256&&this.clearStencil();const N={};for(let z=0;z<k;z++)N[z+_]=new jr({func:p.GEQUAL,mask:255},z+this.nextStencilID,255,p.KEEP,p.KEEP,p.REPLACE);return this.nextStencilID+=k,[N,v]}return[{[_]:jr.disabled},v]}colorModeForRenderPass(){const c=this.context.gl;return this._showOverdrawInspector?new Dr([c.CONSTANT_COLOR,c.ONE],new a.aT(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Dr.unblended:Dr.alphaBlended}depthModeForSublayer(c,p,v){if(!this.opaquePassEnabledForLayer())return Ln.disabled;const _=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new Ln(v||this.context.gl.LEQUAL,p,[_,_])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(c,p){this.style=c,this.options=p,this.lineAtlas=c.lineAtlas,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(a.h.now()),this.imageManager.beginFrame();const v=this.style._order,_=this.style.sourceCaches,k={},N={},z={};for(const V in _){const H=_[V];H.used&&H.prepare(this.context),k[V]=H.getVisibleCoordinates(),N[V]=k[V].slice().reverse(),z[V]=H.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let V=0;V<v.length;V++)if(this.style._layers[v[V]].is3D()){this.opaquePassCutoff=V;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const V=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!a.b1(this.terrainFacilitator.matrix,this.transform.projMatrix)||V.length)&&(a.b2(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(H,Y){const Z=H.context,ie=Z.gl,ge=Dr.unblended,me=new Ln(ie.LEQUAL,Ln.ReadWrite,[0,1]),xe=Y.getTerrainMesh(),fe=Y.sourceCache.getRenderableTiles(),Ie=H.useProgram("terrainDepth");Z.bindFramebuffer.set(Y.getFramebuffer("depth").framebuffer),Z.viewport.set([0,0,H.width/devicePixelRatio,H.height/devicePixelRatio]),Z.clear({color:a.aT.transparent,depth:1});for(const Ue of fe){const Ce=Y.getTerrainData(Ue.tileID),De={u_matrix:H.transform.calculatePosMatrix(Ue.tileID.toUnwrapped()),u_ele_delta:Y.getMeshFrameDelta(H.transform.zoom)};Ie.draw(Z,ie.TRIANGLES,me,jr.disabled,ge,Mr.backCCW,De,Ce,"terrain",xe.vertexBuffer,xe.indexBuffer,xe.segments)}Z.bindFramebuffer.set(null),Z.viewport.set([0,0,H.width,H.height])}(this,this.style.map.terrain),function(H,Y){const Z=H.context,ie=Z.gl,ge=Dr.unblended,me=new Ln(ie.LEQUAL,Ln.ReadWrite,[0,1]),xe=Y.getTerrainMesh(),fe=Y.getCoordsTexture(),Ie=Y.sourceCache.getRenderableTiles(),Ue=H.useProgram("terrainCoords");Z.bindFramebuffer.set(Y.getFramebuffer("coords").framebuffer),Z.viewport.set([0,0,H.width/devicePixelRatio,H.height/devicePixelRatio]),Z.clear({color:a.aT.transparent,depth:1}),Y.coordsIndex=[];for(const Ce of Ie){const De=Y.getTerrainData(Ce.tileID);Z.activeTexture.set(ie.TEXTURE0),ie.bindTexture(ie.TEXTURE_2D,fe.texture);const We={u_matrix:H.transform.calculatePosMatrix(Ce.tileID.toUnwrapped()),u_terrain_coords_id:(255-Y.coordsIndex.length)/255,u_texture:0,u_ele_delta:Y.getMeshFrameDelta(H.transform.zoom)};Ue.draw(Z,ie.TRIANGLES,me,jr.disabled,ge,Mr.backCCW,We,De,"terrain",xe.vertexBuffer,xe.indexBuffer,xe.segments),Y.coordsIndex.push(Ce.tileID.key)}Z.bindFramebuffer.set(null),Z.viewport.set([0,0,H.width,H.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const V of v){const H=this.style._layers[V];if(!H.hasOffscreenPass()||H.isHidden(this.transform.zoom))continue;const Y=N[H.source];(H.type==="custom"||Y.length)&&this.renderLayer(this,_[H.source],H,Y)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:p.showOverdrawInspector?a.aT.black:a.aT.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=p.showOverdrawInspector,this.depthRangeFor3D=[0,1-(c._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=v.length-1;this.currentLayer>=0;this.currentLayer--){const V=this.style._layers[v[this.currentLayer]],H=_[V.source],Y=k[V.source];this._renderTileClippingMasks(V,Y),this.renderLayer(this,H,V,Y)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<v.length;this.currentLayer++){const V=this.style._layers[v[this.currentLayer]],H=_[V.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(V))continue;const Y=(V.type==="symbol"?z:N)[V.source];this._renderTileClippingMasks(V,k[V.source]),this.renderLayer(this,H,V,Y)}if(this.options.showTileBoundaries){const V=function(H,Y){let Z=null;const ie=Object.values(H._layers).flatMap(fe=>fe.source&&!fe.isHidden(Y)?[H.sourceCaches[fe.source]]:[]),ge=ie.filter(fe=>fe.getSource().type==="vector"),me=ie.filter(fe=>fe.getSource().type!=="vector"),xe=fe=>{(!Z||Z.getSource().maxzoom<fe.getSource().maxzoom)&&(Z=fe)};return ge.forEach(fe=>xe(fe)),Z||me.forEach(fe=>xe(fe)),Z}(this.style,this.transform.zoom);V&&function(H,Y,Z){for(let ie=0;ie<Z.length;ie++)Zx(H,Y,Z[ie])}(this,V,V.getVisibleCoordinates())}this.options.showPadding&&function(V){const H=V.transform.padding;df(V,V.transform.height-(H.top||0),3,Gx),df(V,H.bottom||0,3,Jh),Qh(V,H.left||0,3,yy),Qh(V,V.transform.width-(H.right||0),3,Yx);const Y=V.transform.centerPoint;(function(Z,ie,ge,me){ep(Z,ie-1,ge-10,2,20,me),ep(Z,ie-10,ge-1,20,2,me)})(V,Y.x,V.transform.height-Y.y,Kx)}(this),this.context.setDefault()}renderLayer(c,p,v,_){if(!v.isHidden(this.transform.zoom)&&(v.type==="background"||v.type==="custom"||(_||[]).length))switch(this.id=v.id,v.type){case"symbol":(function(k,N,z,V,H){if(k.renderPass!=="translucent")return;const Y=jr.disabled,Z=k.colorModeForRenderPass();(z._unevaluatedLayout.hasValue("text-variable-anchor")||z._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(ie,ge,me,xe,fe,Ie,Ue){const Ce=ge.transform,De=fe==="map",We=Ie==="map";for(const Ge of ie){const tt=xe.getTile(Ge),ut=tt.getBucket(me);if(!ut||!ut.text||!ut.text.segments.get().length)continue;const at=a.ah(ut.textSizeData,Ce.zoom),mt=Me(tt,1,ge.transform.zoom),Bt=dt(Ge.posMatrix,We,De,ge.transform,mt),kn=me.layout.get("icon-text-fit")!=="none"&&ut.hasIconData();if(at){const St=Math.pow(2,Ce.zoom-tt.tileID.overscaledZ);Zh(ut,De,We,Ue,Ce,Bt,Ge.posMatrix,St,at,kn,ge.style.map.terrain?(dn,Ut)=>ge.style.map.terrain.getElevation(Ge,dn,Ut):null)}}}(V,k,z,N,z.layout.get("text-rotation-alignment"),z.layout.get("text-pitch-alignment"),H),z.paint.get("icon-opacity").constantOr(1)!==0&&Xh(k,N,z,V,!1,z.paint.get("icon-translate"),z.paint.get("icon-translate-anchor"),z.layout.get("icon-rotation-alignment"),z.layout.get("icon-pitch-alignment"),z.layout.get("icon-keep-upright"),Y,Z),z.paint.get("text-opacity").constantOr(1)!==0&&Xh(k,N,z,V,!0,z.paint.get("text-translate"),z.paint.get("text-translate-anchor"),z.layout.get("text-rotation-alignment"),z.layout.get("text-pitch-alignment"),z.layout.get("text-keep-upright"),Y,Z),N.map.showCollisionBoxes&&(Hx(k,N,z,V,z.paint.get("text-translate"),z.paint.get("text-translate-anchor"),!0),Hx(k,N,z,V,z.paint.get("icon-translate"),z.paint.get("icon-translate-anchor"),!1))})(c,p,v,_,this.style.placement.variableOffsets);break;case"circle":(function(k,N,z,V){if(k.renderPass!=="translucent")return;const H=z.paint.get("circle-opacity"),Y=z.paint.get("circle-stroke-width"),Z=z.paint.get("circle-stroke-opacity"),ie=!z.layout.get("circle-sort-key").isConstant();if(H.constantOr(1)===0&&(Y.constantOr(1)===0||Z.constantOr(1)===0))return;const ge=k.context,me=ge.gl,xe=k.depthModeForSublayer(0,Ln.ReadOnly),fe=jr.disabled,Ie=k.colorModeForRenderPass(),Ue=[];for(let Ce=0;Ce<V.length;Ce++){const De=V[Ce],We=N.getTile(De),Ge=We.getBucket(z);if(!Ge)continue;const tt=Ge.programConfigurations.get(z.id),ut=k.useProgram("circle",tt),at=Ge.layoutVertexBuffer,mt=Ge.indexBuffer,Bt=k.style.map.terrain&&k.style.map.terrain.getTerrainData(De),kn={programConfiguration:tt,program:ut,layoutVertexBuffer:at,indexBuffer:mt,uniformValues:Fl(k,De,We,z),terrainData:Bt};if(ie){const St=Ge.segments.get();for(const dn of St)Ue.push({segments:new a.S([dn]),sortKey:dn.sortKey,state:kn})}else Ue.push({segments:Ge.segments,sortKey:0,state:kn})}ie&&Ue.sort((Ce,De)=>Ce.sortKey-De.sortKey);for(const Ce of Ue){const{programConfiguration:De,program:We,layoutVertexBuffer:Ge,indexBuffer:tt,uniformValues:ut,terrainData:at}=Ce.state;We.draw(ge,me.TRIANGLES,xe,fe,Ie,Mr.disabled,ut,at,z.id,Ge,tt,Ce.segments,z.paint,k.transform.zoom,De)}})(c,p,v,_);break;case"heatmap":(function(k,N,z,V){if(z.paint.get("heatmap-opacity")!==0)if(k.renderPass==="offscreen"){const H=k.context,Y=H.gl,Z=jr.disabled,ie=new Dr([Y.ONE,Y.ONE],a.aT.transparent,[!0,!0,!0,!0]);(function(ge,me,xe){const fe=ge.gl;ge.activeTexture.set(fe.TEXTURE1),ge.viewport.set([0,0,me.width/4,me.height/4]);let Ie=xe.heatmapFbo;if(Ie)fe.bindTexture(fe.TEXTURE_2D,Ie.colorAttachment.get()),ge.bindFramebuffer.set(Ie.framebuffer);else{const Ue=fe.createTexture();fe.bindTexture(fe.TEXTURE_2D,Ue),fe.texParameteri(fe.TEXTURE_2D,fe.TEXTURE_WRAP_S,fe.CLAMP_TO_EDGE),fe.texParameteri(fe.TEXTURE_2D,fe.TEXTURE_WRAP_T,fe.CLAMP_TO_EDGE),fe.texParameteri(fe.TEXTURE_2D,fe.TEXTURE_MIN_FILTER,fe.LINEAR),fe.texParameteri(fe.TEXTURE_2D,fe.TEXTURE_MAG_FILTER,fe.LINEAR),Ie=xe.heatmapFbo=ge.createFramebuffer(me.width/4,me.height/4,!1,!1),function(Ce,De,We,Ge){var tt,ut;const at=Ce.gl,mt=(tt=Ce.HALF_FLOAT)!==null&&tt!==void 0?tt:at.UNSIGNED_BYTE,Bt=(ut=Ce.RGBA16F)!==null&&ut!==void 0?ut:at.RGBA;at.texImage2D(at.TEXTURE_2D,0,Bt,De.width/4,De.height/4,0,at.RGBA,mt,null),Ge.colorAttachment.set(We)}(ge,me,Ue,Ie)}})(H,k,z),H.clear({color:a.aT.transparent});for(let ge=0;ge<V.length;ge++){const me=V[ge];if(N.hasRenderableParent(me))continue;const xe=N.getTile(me),fe=xe.getBucket(z);if(!fe)continue;const Ie=fe.programConfigurations.get(z.id),Ue=k.useProgram("heatmap",Ie),{zoom:Ce}=k.transform;Ue.draw(H,Y.TRIANGLES,Ln.disabled,Z,ie,Mr.disabled,tT(me.posMatrix,xe,Ce,z.paint.get("heatmap-intensity")),null,z.id,fe.layoutVertexBuffer,fe.indexBuffer,fe.segments,z.paint,k.transform.zoom,Ie)}H.viewport.set([0,0,k.width,k.height])}else k.renderPass==="translucent"&&(k.context.setColorMode(k.colorModeForRenderPass()),function(H,Y){const Z=H.context,ie=Z.gl,ge=Y.heatmapFbo;if(!ge)return;Z.activeTexture.set(ie.TEXTURE0),ie.bindTexture(ie.TEXTURE_2D,ge.colorAttachment.get()),Z.activeTexture.set(ie.TEXTURE1);let me=Y.colorRampTexture;me||(me=Y.colorRampTexture=new K(Z,Y.colorRamp,ie.RGBA)),me.bind(ie.LINEAR,ie.CLAMP_TO_EDGE),H.useProgram("heatmapTexture").draw(Z,ie.TRIANGLES,Ln.disabled,jr.disabled,H.colorModeForRenderPass(),Mr.disabled,((xe,fe,Ie,Ue)=>{const Ce=a.Z();a.aS(Ce,0,xe.width,xe.height,0,0,1);const De=xe.context.gl;return{u_matrix:Ce,u_world:[De.drawingBufferWidth,De.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:fe.paint.get("heatmap-opacity")}})(H,Y),null,Y.id,H.viewportBuffer,H.quadTriangleIndexBuffer,H.viewportSegments,Y.paint,H.transform.zoom)}(k,z))})(c,p,v,_);break;case"line":(function(k,N,z,V){if(k.renderPass!=="translucent")return;const H=z.paint.get("line-opacity"),Y=z.paint.get("line-width");if(H.constantOr(1)===0||Y.constantOr(1)===0)return;const Z=k.depthModeForSublayer(0,Ln.ReadOnly),ie=k.colorModeForRenderPass(),ge=z.paint.get("line-dasharray"),me=z.paint.get("line-pattern"),xe=me.constantOr(1),fe=z.paint.get("line-gradient"),Ie=z.getCrossfadeParameters(),Ue=xe?"linePattern":ge?"lineSDF":fe?"lineGradient":"line",Ce=k.context,De=Ce.gl;let We=!0;for(const Ge of V){const tt=N.getTile(Ge);if(xe&&!tt.patternsLoaded())continue;const ut=tt.getBucket(z);if(!ut)continue;const at=ut.programConfigurations.get(z.id),mt=k.context.program.get(),Bt=k.useProgram(Ue,at),kn=We||Bt.program!==mt,St=k.style.map.terrain&&k.style.map.terrain.getTerrainData(Ge),dn=me.constantOr(null);if(dn&&tt.imageAtlas){const Sn=tt.imageAtlas,xn=Sn.patternPositions[dn.to.toString()],Tn=Sn.patternPositions[dn.from.toString()];xn&&Tn&&at.setConstantPatternPositions(xn,Tn)}const Ut=St?Ge:null,ir=xe?nT(k,tt,z,Ie,Ut):ge?jx(k,tt,z,ge,Ie,Ut):fe?Dx(k,tt,z,ut.lineClipsArray.length,Ut):ey(k,tt,z,Ut);if(xe)Ce.activeTexture.set(De.TEXTURE0),tt.imageAtlasTexture.bind(De.LINEAR,De.CLAMP_TO_EDGE),at.updatePaintBuffers(Ie);else if(ge&&(kn||k.lineAtlas.dirty))Ce.activeTexture.set(De.TEXTURE0),k.lineAtlas.bind(Ce);else if(fe){const Sn=ut.gradients[z.id];let xn=Sn.texture;if(z.gradientVersion!==Sn.version){let Tn=256;if(z.stepInterpolant){const Jr=N.getSource().maxzoom,vr=Ge.canonical.z===Jr?Math.ceil(1<<k.transform.maxZoom-Ge.canonical.z):1;Tn=a.ad(a.aY(ut.maxLineLength/a.N*1024*vr),256,Ce.maxTextureSize)}Sn.gradient=a.aZ({expression:z.gradientExpression(),evaluationKey:"lineProgress",resolution:Tn,image:Sn.gradient||void 0,clips:ut.lineClipsArray}),Sn.texture?Sn.texture.update(Sn.gradient):Sn.texture=new K(Ce,Sn.gradient,De.RGBA),Sn.version=z.gradientVersion,xn=Sn.texture}Ce.activeTexture.set(De.TEXTURE0),xn.bind(z.stepInterpolant?De.NEAREST:De.LINEAR,De.CLAMP_TO_EDGE)}Bt.draw(Ce,De.TRIANGLES,Z,k.stencilModeForClipping(Ge),ie,Mr.disabled,ir,St,z.id,ut.layoutVertexBuffer,ut.indexBuffer,ut.segments,z.paint,k.transform.zoom,at,ut.layoutVertexBuffer2),We=!1}})(c,p,v,_);break;case"fill":(function(k,N,z,V){const H=z.paint.get("fill-color"),Y=z.paint.get("fill-opacity");if(Y.constantOr(1)===0)return;const Z=k.colorModeForRenderPass(),ie=z.paint.get("fill-pattern"),ge=k.opaquePassEnabledForLayer()&&!ie.constantOr(1)&&H.constantOr(a.aT.transparent).a===1&&Y.constantOr(0)===1?"opaque":"translucent";if(k.renderPass===ge){const me=k.depthModeForSublayer(1,k.renderPass==="opaque"?Ln.ReadWrite:Ln.ReadOnly);cf(k,N,z,V,me,Z,!1)}if(k.renderPass==="translucent"&&z.paint.get("fill-antialias")){const me=k.depthModeForSublayer(z.getPaintProperty("fill-outline-color")?2:0,Ln.ReadOnly);cf(k,N,z,V,me,Z,!0)}})(c,p,v,_);break;case"fill-extrusion":(function(k,N,z,V){const H=z.paint.get("fill-extrusion-opacity");if(H!==0&&k.renderPass==="translucent"){const Y=new Ln(k.context.gl.LEQUAL,Ln.ReadWrite,k.depthRangeFor3D);if(H!==1||z.paint.get("fill-extrusion-pattern").constantOr(1))uf(k,N,z,V,Y,jr.disabled,Dr.disabled),uf(k,N,z,V,Y,k.stencilModeFor3D(),k.colorModeForRenderPass());else{const Z=k.colorModeForRenderPass();uf(k,N,z,V,Y,jr.disabled,Z)}}})(c,p,v,_);break;case"hillshade":(function(k,N,z,V){if(k.renderPass!=="offscreen"&&k.renderPass!=="translucent")return;const H=k.context,Y=k.depthModeForSublayer(0,Ln.ReadOnly),Z=k.colorModeForRenderPass(),[ie,ge]=k.renderPass==="translucent"?k.stencilConfigForOverlap(V):[{},V];for(const me of ge){const xe=N.getTile(me);xe.needsHillshadePrepare!==void 0&&xe.needsHillshadePrepare&&k.renderPass==="offscreen"?gy(k,xe,z,Y,jr.disabled,Z):k.renderPass==="translucent"&&uT(k,me,xe,z,Y,ie[me.overscaledZ],Z)}H.viewport.set([0,0,k.width,k.height])})(c,p,v,_);break;case"raster":(function(k,N,z,V){if(k.renderPass!=="translucent"||z.paint.get("raster-opacity")===0||!V.length)return;const H=k.context,Y=H.gl,Z=N.getSource(),ie=k.useProgram("raster"),ge=k.colorModeForRenderPass(),[me,xe]=Z instanceof lt?[{},V]:k.stencilConfigForOverlap(V),fe=xe[xe.length-1].overscaledZ,Ie=!k.options.moving;for(const Ue of xe){const Ce=k.depthModeForSublayer(Ue.overscaledZ-fe,z.paint.get("raster-opacity")===1?Ln.ReadWrite:Ln.ReadOnly,Y.LESS),De=N.getTile(Ue);De.registerFadeDuration(z.paint.get("raster-fade-duration"));const We=N.findLoadedParent(Ue,0),Ge=dT(De,We,N,z,k.transform,k.style.map.terrain);let tt,ut;const at=z.paint.get("raster-resampling")==="nearest"?Y.NEAREST:Y.LINEAR;H.activeTexture.set(Y.TEXTURE0),De.texture.bind(at,Y.CLAMP_TO_EDGE,Y.LINEAR_MIPMAP_NEAREST),H.activeTexture.set(Y.TEXTURE1),We?(We.texture.bind(at,Y.CLAMP_TO_EDGE,Y.LINEAR_MIPMAP_NEAREST),tt=Math.pow(2,We.tileID.overscaledZ-De.tileID.overscaledZ),ut=[De.tileID.canonical.x*tt%1,De.tileID.canonical.y*tt%1]):De.texture.bind(at,Y.CLAMP_TO_EDGE,Y.LINEAR_MIPMAP_NEAREST);const mt=k.style.map.terrain&&k.style.map.terrain.getTerrainData(Ue),Bt=mt?Ue:null,kn=Bt?Bt.posMatrix:k.transform.calculatePosMatrix(Ue.toUnwrapped(),Ie),St=Nx(kn,ut||[0,0],tt||1,Ge,z);Z instanceof lt?ie.draw(H,Y.TRIANGLES,Ce,jr.disabled,ge,Mr.disabled,St,mt,z.id,Z.boundsBuffer,k.quadTriangleIndexBuffer,Z.boundsSegments):ie.draw(H,Y.TRIANGLES,Ce,me[Ue.overscaledZ],ge,Mr.disabled,St,mt,z.id,k.rasterBoundsBuffer,k.quadTriangleIndexBuffer,k.rasterBoundsSegments)}})(c,p,v,_);break;case"background":(function(k,N,z,V){const H=z.paint.get("background-color"),Y=z.paint.get("background-opacity");if(Y===0)return;const Z=k.context,ie=Z.gl,ge=k.transform,me=ge.tileSize,xe=z.paint.get("background-pattern");if(k.isPatternMissing(xe))return;const fe=!xe&&H.a===1&&Y===1&&k.opaquePassEnabledForLayer()?"opaque":"translucent";if(k.renderPass!==fe)return;const Ie=jr.disabled,Ue=k.depthModeForSublayer(0,fe==="opaque"?Ln.ReadWrite:Ln.ReadOnly),Ce=k.colorModeForRenderPass(),De=k.useProgram(xe?"backgroundPattern":"background"),We=V||ge.coveringTiles({tileSize:me,terrain:k.style.map.terrain});xe&&(Z.activeTexture.set(ie.TEXTURE0),k.imageManager.bind(k.context));const Ge=z.getCrossfadeParameters();for(const tt of We){const ut=V?tt.posMatrix:k.transform.calculatePosMatrix(tt.toUnwrapped()),at=xe?xa(ut,Y,k,xe,{tileID:tt,tileSize:me},Ge):zh(ut,Y,H),mt=k.style.map.terrain&&k.style.map.terrain.getTerrainData(tt);De.draw(Z,ie.TRIANGLES,Ue,Ie,Ce,Mr.disabled,at,mt,z.id,k.tileExtentBuffer,k.quadTriangleIndexBuffer,k.tileExtentSegments)}})(c,0,v,_);break;case"custom":(function(k,N,z){const V=k.context,H=z.implementation;if(k.renderPass==="offscreen"){const Y=H.prerender;Y&&(k.setCustomLayerDefaults(),V.setColorMode(k.colorModeForRenderPass()),Y.call(H,V.gl,k.transform.customLayerMatrix()),V.setDirty(),k.setBaseState())}else if(k.renderPass==="translucent"){k.setCustomLayerDefaults(),V.setColorMode(k.colorModeForRenderPass()),V.setStencilMode(jr.disabled);const Y=H.renderingMode==="3d"?new Ln(k.context.gl.LEQUAL,Ln.ReadWrite,k.depthRangeFor3D):k.depthModeForSublayer(0,Ln.ReadOnly);V.setDepthMode(Y),H.render(V.gl,k.transform.customLayerMatrix()),V.setDirty(),k.setBaseState(),V.bindFramebuffer.set(null)}})(c,0,v)}}translatePosMatrix(c,p,v,_,k){if(!v[0]&&!v[1])return c;const N=k?_==="map"?this.transform.angle:0:_==="viewport"?-this.transform.angle:0;if(N){const H=Math.sin(N),Y=Math.cos(N);v=[v[0]*Y-v[1]*H,v[0]*H+v[1]*Y]}const z=[k?v[0]:Me(p,v[0],this.transform.zoom),k?v[1]:Me(p,v[1],this.transform.zoom),0],V=new Float32Array(16);return a.$(V,c,z),V}saveTileTexture(c){const p=this._tileTextures[c.size[0]];p?p.push(c):this._tileTextures[c.size[0]]=[c]}getTileTexture(c){const p=this._tileTextures[c];return p&&p.length>0?p.pop():null}isPatternMissing(c){if(!c)return!1;if(!c.from||!c.to)return!0;const p=this.imageManager.getPattern(c.from.toString()),v=this.imageManager.getPattern(c.to.toString());return!p||!v}useProgram(c,p){this.cache=this.cache||{};const v=c+(p?p.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[v]||(this.cache[v]=new Dh(this.context,Rr[c],p,Bh[c],this._showOverdrawInspector,this.style.map.terrain)),this.cache[v]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new K(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:c,drawingBufferHeight:p}=this.context.gl;return this.width!==c||this.height!==p}}class Co{constructor(c,p){this.points=c,this.planes=p}static fromInvProjectionMatrix(c,p,v){const _=Math.pow(2,v),k=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(z=>{const V=1/(z=a.ag([],z,c))[3]/p*_;return a.b3(z,z,[V,V,1/z[3],V])}),N=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(z=>{const V=function(ie,ge){var me=ge[0],xe=ge[1],fe=ge[2],Ie=me*me+xe*xe+fe*fe;return Ie>0&&(Ie=1/Math.sqrt(Ie)),ie[0]=ge[0]*Ie,ie[1]=ge[1]*Ie,ie[2]=ge[2]*Ie,ie}([],function(ie,ge,me){var xe=ge[0],fe=ge[1],Ie=ge[2],Ue=me[0],Ce=me[1],De=me[2];return ie[0]=fe*De-Ie*Ce,ie[1]=Ie*Ue-xe*De,ie[2]=xe*Ce-fe*Ue,ie}([],D([],k[z[0]],k[z[1]]),D([],k[z[2]],k[z[1]]))),H=-((Y=V)[0]*(Z=k[z[1]])[0]+Y[1]*Z[1]+Y[2]*Z[2]);var Y,Z;return V.concat(H)});return new Co(k,N)}}class zu{constructor(c,p){this.min=c,this.max=p,this.center=function(v,_,k){return v[0]=.5*_[0],v[1]=.5*_[1],v[2]=.5*_[2],v}([],function(v,_,k){return v[0]=_[0]+k[0],v[1]=_[1]+k[1],v[2]=_[2]+k[2],v}([],this.min,this.max))}quadrant(c){const p=[c%2==0,c<2],v=L(this.min),_=L(this.max);for(let k=0;k<p.length;k++)v[k]=p[k]?this.min[k]:this.center[k],_[k]=p[k]?this.center[k]:this.max[k];return _[2]=this.max[2],new zu(v,_)}distanceX(c){return Math.max(Math.min(this.max[0],c[0]),this.min[0])-c[0]}distanceY(c){return Math.max(Math.min(this.max[1],c[1]),this.min[1])-c[1]}intersects(c){const p=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let v=!0;for(let _=0;_<c.planes.length;_++){const k=c.planes[_];let N=0;for(let z=0;z<p.length;z++)a.b4(k,p[z])>=0&&N++;if(N===0)return 0;N!==p.length&&(v=!1)}if(v)return 2;for(let _=0;_<3;_++){let k=Number.MAX_VALUE,N=-Number.MAX_VALUE;for(let z=0;z<c.points.length;z++){const V=c.points[z][_]-this.min[_];k=Math.min(k,V),N=Math.max(N,V)}if(N<0||k>this.max[_]-this.min[_])return 0}return 1}}class ff{constructor(c=0,p=0,v=0,_=0){if(isNaN(c)||c<0||isNaN(p)||p<0||isNaN(v)||v<0||isNaN(_)||_<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=p,this.left=v,this.right=_}interpolate(c,p,v){return p.top!=null&&c.top!=null&&(this.top=a.B.number(c.top,p.top,v)),p.bottom!=null&&c.bottom!=null&&(this.bottom=a.B.number(c.bottom,p.bottom,v)),p.left!=null&&c.left!=null&&(this.left=a.B.number(c.left,p.left,v)),p.right!=null&&c.right!=null&&(this.right=a.B.number(c.right,p.right,v)),this}getCenter(c,p){const v=a.ad((this.left+c-this.right)/2,0,c),_=a.ad((this.top+p-this.bottom)/2,0,p);return new a.P(v,_)}equals(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right}clone(){return new ff(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class tp{constructor(c,p,v,_,k){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=k===void 0||!!k,this._minZoom=c||0,this._maxZoom=p||22,this._minPitch=v??0,this._maxPitch=_??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.L(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new ff,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const c=new tp(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return c.apply(this),c}apply(c){this.tileSize=c.tileSize,this.latRange=c.latRange,this.width=c.width,this.height=c.height,this._center=c._center,this._elevation=c._elevation,this._minEleveationForCurrentTile=c._minEleveationForCurrentTile,this.zoom=c.zoom,this.angle=c.angle,this._fov=c._fov,this._pitch=c._pitch,this._unmodified=c._unmodified,this._edgeInsets=c._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))}get maxZoom(){return this._maxZoom}set maxZoom(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))}get minPitch(){return this._minPitch}set minPitch(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))}get maxPitch(){return this._maxPitch}set maxPitch(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(c){const p=-a.b5(c,-180,180)*Math.PI/180;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=function(){var v=new a.A(4);return a.A!=Float32Array&&(v[1]=0,v[2]=0),v[0]=1,v[3]=1,v}(),function(v,_,k){var N=_[0],z=_[1],V=_[2],H=_[3],Y=Math.sin(k),Z=Math.cos(k);v[0]=N*Z+V*Y,v[1]=z*Z+H*Y,v[2]=N*-Y+V*Z,v[3]=z*-Y+H*Z}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(c){const p=a.ad(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=c/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(c){const p=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._zoom=p,this.tileZoom=Math.max(0,Math.floor(p)),this.scale=this.zoomScale(p),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(c){c!==this._elevation&&(this._elevation=c,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(c){return this._edgeInsets.equals(c)}interpolatePadding(c,p,v){this._unmodified=!1,this._edgeInsets.interpolate(c,p,v),this._constrain(),this._calcMatrices()}coveringZoomLevel(c){const p=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,p)}getVisibleUnwrappedCoordinates(c){const p=[new a.b6(0,c)];if(this._renderWorldCopies){const v=this.pointCoordinate(new a.P(0,0)),_=this.pointCoordinate(new a.P(this.width,0)),k=this.pointCoordinate(new a.P(this.width,this.height)),N=this.pointCoordinate(new a.P(0,this.height)),z=Math.floor(Math.min(v.x,_.x,k.x,N.x)),V=Math.floor(Math.max(v.x,_.x,k.x,N.x)),H=1;for(let Y=z-H;Y<=V+H;Y++)Y!==0&&p.push(new a.b6(Y,c))}return p}coveringTiles(c){var p,v;let _=this.coveringZoomLevel(c);const k=_;if(c.minzoom!==void 0&&_<c.minzoom)return[];c.maxzoom!==void 0&&_>c.maxzoom&&(_=c.maxzoom);const N=this.pointCoordinate(this.getCameraPoint()),z=a.U.fromLngLat(this.center),V=Math.pow(2,_),H=[V*N.x,V*N.y,0],Y=[V*z.x,V*z.y,0],Z=Co.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,_);let ie=c.minzoom||0;!c.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(ie=_);const ge=c.terrain?2/Math.min(this.tileSize,c.tileSize)*this.tileSize:3,me=Ce=>({aabb:new zu([Ce*V,0,0],[(Ce+1)*V,V,0]),zoom:0,x:0,y:0,wrap:Ce,fullyVisible:!1}),xe=[],fe=[],Ie=_,Ue=c.reparseOverscaled?k:_;if(this._renderWorldCopies)for(let Ce=1;Ce<=3;Ce++)xe.push(me(-Ce)),xe.push(me(Ce));for(xe.push(me(0));xe.length>0;){const Ce=xe.pop(),De=Ce.x,We=Ce.y;let Ge=Ce.fullyVisible;if(!Ge){const Bt=Ce.aabb.intersects(Z);if(Bt===0)continue;Ge=Bt===2}const tt=c.terrain?H:Y,ut=Ce.aabb.distanceX(tt),at=Ce.aabb.distanceY(tt),mt=Math.max(Math.abs(ut),Math.abs(at));if(Ce.zoom===Ie||mt>ge+(1<<Ie-Ce.zoom)-2&&Ce.zoom>=ie){const Bt=Ie-Ce.zoom,kn=H[0]-.5-(De<<Bt),St=H[1]-.5-(We<<Bt);fe.push({tileID:new a.O(Ce.zoom===Ie?Ue:Ce.zoom,Ce.wrap,Ce.zoom,De,We),distanceSq:F([Y[0]-.5-De,Y[1]-.5-We]),tileDistanceToCamera:Math.sqrt(kn*kn+St*St)})}else for(let Bt=0;Bt<4;Bt++){const kn=(De<<1)+Bt%2,St=(We<<1)+(Bt>>1),dn=Ce.zoom+1;let Ut=Ce.aabb.quadrant(Bt);if(c.terrain){const ir=new a.O(dn,Ce.wrap,dn,kn,St),Sn=c.terrain.getMinMaxElevation(ir),xn=(p=Sn.minElevation)!==null&&p!==void 0?p:this.elevation,Tn=(v=Sn.maxElevation)!==null&&v!==void 0?v:this.elevation;Ut=new zu([Ut.min[0],Ut.min[1],xn],[Ut.max[0],Ut.max[1],Tn])}xe.push({aabb:Ut,zoom:dn,x:kn,y:St,wrap:Ce.wrap,fullyVisible:Ge})}}return fe.sort((Ce,De)=>Ce.distanceSq-De.distanceSq).map(Ce=>Ce.tileID)}resize(c,p){this.width=c,this.height=p,this.pixelsToGLUnits=[2/c,-2/p],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(c){return Math.pow(2,c)}scaleZoom(c){return Math.log(c)/Math.LN2}project(c){const p=a.ad(c.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.P(a.G(c.lng)*this.worldSize,a.H(p)*this.worldSize)}unproject(c){return new a.U(c.x/this.worldSize,c.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(c){const p=this.pointLocation(this.centerPoint,c),v=c.getElevationForLngLatZoom(p,this.tileZoom);if(!(this.elevation-v))return;const _=this.getCameraPosition(),k=a.U.fromLngLat(_.lngLat,_.altitude),N=a.U.fromLngLat(p,v),z=k.x-N.x,V=k.y-N.y,H=k.z-N.z,Y=Math.sqrt(z*z+V*V+H*H),Z=this.scaleZoom(this.cameraToCenterDistance/Y/this.tileSize);this._elevation=v,this._center=p,this.zoom=Z}setLocationAtPoint(c,p){const v=this.pointCoordinate(p),_=this.pointCoordinate(this.centerPoint),k=this.locationCoordinate(c),N=new a.U(k.x-(v.x-_.x),k.y-(v.y-_.y));this.center=this.coordinateLocation(N),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(c,p){return p?this.coordinatePoint(this.locationCoordinate(c),p.getElevationForLngLatZoom(c,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(c))}pointLocation(c,p){return this.coordinateLocation(this.pointCoordinate(c,p))}locationCoordinate(c){return a.U.fromLngLat(c)}coordinateLocation(c){return c&&c.toLngLat()}pointCoordinate(c,p){if(p){const ie=p.pointCoordinate(c);if(ie!=null)return ie}const v=[c.x,c.y,0,1],_=[c.x,c.y,1,1];a.ag(v,v,this.pixelMatrixInverse),a.ag(_,_,this.pixelMatrixInverse);const k=v[3],N=_[3],z=v[1]/k,V=_[1]/N,H=v[2]/k,Y=_[2]/N,Z=H===Y?0:(0-H)/(Y-H);return new a.U(a.B.number(v[0]/k,_[0]/N,Z)/this.worldSize,a.B.number(z,V,Z)/this.worldSize)}coordinatePoint(c,p=0,v=this.pixelMatrix){const _=[c.x*this.worldSize,c.y*this.worldSize,p,1];return a.ag(_,_,v),new a.P(_[0]/_[3],_[1]/_[3])}getBounds(){const c=Math.max(0,this.height/2-this.getHorizon());return new Fe().extend(this.pointLocation(new a.P(0,c))).extend(this.pointLocation(new a.P(this.width,c))).extend(this.pointLocation(new a.P(this.width,this.height))).extend(this.pointLocation(new a.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new Fe([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(c){c?(this.lngRange=[c.getWest(),c.getEast()],this.latRange=[c.getSouth(),c.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(c,p=!1){const v=c.key,_=p?this._alignedPosMatrixCache:this._posMatrixCache;if(_[v])return _[v];const k=c.canonical,N=this.worldSize/this.zoomScale(k.z),z=k.x+Math.pow(2,k.z)*c.wrap,V=a.ao(new Float64Array(16));return a.$(V,V,[z*N,k.y*N,0]),a.a0(V,V,[N/a.N,N/a.N,1]),a.a1(V,p?this.alignedProjMatrix:this.projMatrix,V),_[v]=new Float32Array(V),_[v]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let c,p,v,_,k=-90,N=90,z=-180,V=180;const H=this.size,Y=this._unmodified;if(this.latRange){const ge=this.latRange;k=a.H(ge[1])*this.worldSize,N=a.H(ge[0])*this.worldSize,c=N-k<H.y?H.y/(N-k):0}if(this.lngRange){const ge=this.lngRange;z=a.b5(a.G(ge[0])*this.worldSize,0,this.worldSize),V=a.b5(a.G(ge[1])*this.worldSize,0,this.worldSize),V<z&&(V+=this.worldSize),p=V-z<H.x?H.x/(V-z):0}const Z=this.point,ie=Math.max(p||0,c||0);if(ie)return this.center=this.unproject(new a.P(p?(V+z)/2:Z.x,c?(N+k)/2:Z.y)),this.zoom+=this.scaleZoom(ie),this._unmodified=Y,void(this._constraining=!1);if(this.latRange){const ge=Z.y,me=H.y/2;ge-me<k&&(_=k+me),ge+me>N&&(_=N-me)}if(this.lngRange){const ge=(z+V)/2,me=a.b5(Z.x,ge-this.worldSize/2,ge+this.worldSize/2),xe=H.x/2;me-xe<z&&(v=z+xe),me+xe>V&&(v=V-xe)}v===void 0&&_===void 0||(this.center=this.unproject(new a.P(v!==void 0?v:Z.x,_!==void 0?_:Z.y)).wrap()),this._unmodified=Y,this._constraining=!1}_calcMatrices(){if(!this.height)return;const c=this.centerOffset,p=this.point.x,v=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=a.b7(1,this.center.lat)*this.worldSize;let _=a.ao(new Float64Array(16));a.a0(_,_,[this.width/2,-this.height/2,1]),a.$(_,_,[1,-1,0]),this.labelPlaneMatrix=_,_=a.ao(new Float64Array(16)),a.a0(_,_,[1,-1,1]),a.$(_,_,[-1,-1,0]),a.a0(_,_,[2/this.width,2/this.height,1]),this.glCoordMatrix=_;const k=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),N=Math.min(this.elevation,this._minEleveationForCurrentTile),z=k-N*this._pixelPerMeter/Math.cos(this._pitch),V=N<0?z:k,H=Math.PI/2+this._pitch,Y=this._fov*(.5+c.y/this.height),Z=Math.sin(Y)*V/Math.sin(a.ad(Math.PI-H-Y,.01,Math.PI-.01)),ie=this.getHorizon(),ge=2*Math.atan(ie/this.cameraToCenterDistance)*(.5+c.y/(2*ie)),me=Math.sin(ge)*V/Math.sin(a.ad(Math.PI-H-ge,.01,Math.PI-.01)),xe=Math.min(Z,me),fe=1.01*(Math.cos(Math.PI/2-this._pitch)*xe+V),Ie=this.height/50;_=new Float64Array(16),a.b8(_,this._fov,this.width/this.height,Ie,fe),_[8]=2*-c.x/this.width,_[9]=2*c.y/this.height,a.a0(_,_,[1,-1,1]),a.$(_,_,[0,0,-this.cameraToCenterDistance]),a.b9(_,_,this._pitch),a.ae(_,_,this.angle),a.$(_,_,[-p,-v,0]),this.mercatorMatrix=a.a0([],_,[this.worldSize,this.worldSize,this.worldSize]),a.a0(_,_,[1,1,this._pixelPerMeter]),this.pixelMatrix=a.a1(new Float64Array(16),this.labelPlaneMatrix,_),a.$(_,_,[0,0,-this.elevation]),this.projMatrix=_,this.invProjMatrix=a.as([],_),this.pixelMatrix3D=a.a1(new Float64Array(16),this.labelPlaneMatrix,_);const Ue=this.width%2/2,Ce=this.height%2/2,De=Math.cos(this.angle),We=Math.sin(this.angle),Ge=p-Math.round(p)+De*Ue+We*Ce,tt=v-Math.round(v)+De*Ce+We*Ue,ut=new Float64Array(_);if(a.$(ut,ut,[Ge>.5?Ge-1:Ge,tt>.5?tt-1:tt,0]),this.alignedProjMatrix=ut,_=a.as(new Float64Array(16),this.pixelMatrix),!_)throw new Error("failed to invert matrix");this.pixelMatrixInverse=_,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const c=this.pointCoordinate(new a.P(0,0)),p=[c.x*this.worldSize,c.y*this.worldSize,0,1];return a.ag(p,p,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.P(0,c))}getCameraQueryGeometry(c){const p=this.getCameraPoint();if(c.length===1)return[c[0],p];{let v=p.x,_=p.y,k=p.x,N=p.y;for(const z of c)v=Math.min(v,z.x),_=Math.min(_,z.y),k=Math.max(k,z.x),N=Math.max(N,z.y);return[new a.P(v,_),new a.P(k,_),new a.P(k,N),new a.P(v,N),new a.P(v,_)]}}}function Tc(S,c){let p,v=!1,_=null,k=null;const N=()=>{_=null,v&&(S.apply(k,p),_=setTimeout(N,c),v=!1)};return(...z)=>(v=!0,k=this,p=z,_||N(),_)}class hf{constructor(c){this._getCurrentHash=()=>{const p=window.location.hash.replace("#","");if(this._hashName){let v;return p.split("&").map(_=>_.split("=")).forEach(_=>{_[0]===this._hashName&&(v=_)}),(v&&v[1]||"").split("/")}return p.split("/")},this._onHashChange=()=>{const p=this._getCurrentHash();if(p.length>=3&&!p.some(v=>isNaN(v))){const v=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(p[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+p[2],+p[1]],zoom:+p[0],bearing:v,pitch:+(p[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const p=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,p)}catch{}},this._updateHash=Tc(this._updateHashUnthrottled,300),this._hashName=c&&encodeURIComponent(c)}addTo(c){return this._map=c,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(c){const p=this._map.getCenter(),v=Math.round(100*this._map.getZoom())/100,_=Math.ceil((v*Math.LN2+Math.log(512/360/.5))/Math.LN10),k=Math.pow(10,_),N=Math.round(p.lng*k)/k,z=Math.round(p.lat*k)/k,V=this._map.getBearing(),H=this._map.getPitch();let Y="";if(Y+=c?`/${N}/${z}/${v}`:`${v}/${z}/${N}`,(V||H)&&(Y+="/"+Math.round(10*V)/10),H&&(Y+=`/${Math.round(H)}`),this._hashName){const Z=this._hashName;let ie=!1;const ge=window.location.hash.slice(1).split("&").map(me=>{const xe=me.split("=")[0];return xe===Z?(ie=!0,`${xe}=${Y}`):me}).filter(me=>me);return ie||ge.push(`${Z}=${Y}`),`#${ge.join("&")}`}return`#${Y}`}}const Bu={linearity:.3,easing:a.ba(0,0,.3,1)},Xx=a.e({deceleration:2500,maxSpeed:1400},Bu),Jx=a.e({deceleration:20,maxSpeed:1400},Bu),Qx=a.e({deceleration:1e3,maxSpeed:360},Bu),e_=a.e({deceleration:1e3,maxSpeed:90},Bu);class t_{constructor(c){this._map=c,this.clear()}clear(){this._inertiaBuffer=[]}record(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.h.now(),settings:c})}_drainInertiaBuffer(){const c=this._inertiaBuffer,p=a.h.now();for(;c.length>0&&p-c[0].time>160;)c.shift()}_onMoveEnd(c){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const p={zoom:0,bearing:0,pitch:0,pan:new a.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:k}of this._inertiaBuffer)p.zoom+=k.zoomDelta||0,p.bearing+=k.bearingDelta||0,p.pitch+=k.pitchDelta||0,k.panDelta&&p.pan._add(k.panDelta),k.around&&(p.around=k.around),k.pinchAround&&(p.pinchAround=k.pinchAround);const v=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,_={};if(p.pan.mag()){const k=pf(p.pan.mag(),v,a.e({},Xx,c||{}));_.offset=p.pan.mult(k.amount/p.pan.mag()),_.center=this._map.transform.center,ys(_,k)}if(p.zoom){const k=pf(p.zoom,v,Jx);_.zoom=this._map.transform.zoom+k.amount,ys(_,k)}if(p.bearing){const k=pf(p.bearing,v,Qx);_.bearing=this._map.transform.bearing+a.ad(k.amount,-179,179),ys(_,k)}if(p.pitch){const k=pf(p.pitch,v,e_);_.pitch=this._map.transform.pitch+k.amount,ys(_,k)}if(_.zoom||_.bearing){const k=p.pinchAround===void 0?p.around:p.pinchAround;_.around=k?this._map.unproject(k):this._map.getCenter()}return this.clear(),a.e(_,{noMoveStart:!0})}}function ys(S,c){(!S.duration||S.duration<c.duration)&&(S.duration=c.duration,S.easing=c.easing)}function pf(S,c,p){const{maxSpeed:v,linearity:_,deceleration:k}=p,N=a.ad(S*_/(c/1e3),-v,v),z=Math.abs(N)/(k*_);return{easing:p.easing,duration:1e3*z,amount:N*(z/2)}}class Jo extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,v,_={}){const k=h.mousePos(p.getCanvasContainer(),v),N=p.unproject(k);super(c,a.e({point:k,lngLat:N,originalEvent:v},_)),this._defaultPrevented=!1,this.target=p}}class mf extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,v){const _=c==="touchend"?v.changedTouches:v.touches,k=h.touchPos(p.getCanvasContainer(),_),N=k.map(V=>p.unproject(V)),z=k.reduce((V,H,Y,Z)=>V.add(H.div(Z.length)),new a.P(0,0));super(c,{points:k,point:z,lngLats:N,lngLat:p.unproject(z),originalEvent:v}),this._defaultPrevented=!1}}class n_ extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,v){super(c,{originalEvent:v}),this._defaultPrevented=!1}}class r_{constructor(c,p){this._map=c,this._clickTolerance=p.clickTolerance}reset(){delete this._mousedownPos}wheel(c){return this._firePreventable(new n_(c.type,this._map,c))}mousedown(c,p){return this._mousedownPos=p,this._firePreventable(new Jo(c.type,this._map,c))}mouseup(c){this._map.fire(new Jo(c.type,this._map,c))}click(c,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||this._map.fire(new Jo(c.type,this._map,c))}dblclick(c){return this._firePreventable(new Jo(c.type,this._map,c))}mouseover(c){this._map.fire(new Jo(c.type,this._map,c))}mouseout(c){this._map.fire(new Jo(c.type,this._map,c))}touchstart(c){return this._firePreventable(new mf(c.type,this._map,c))}touchmove(c){this._map.fire(new mf(c.type,this._map,c))}touchend(c){this._map.fire(new mf(c.type,this._map,c))}touchcancel(c){this._map.fire(new mf(c.type,this._map,c))}_firePreventable(c){if(this._map.fire(c),c.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class i_{constructor(c){this._map=c}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(c){this._map.fire(new Jo(c.type,this._map,c))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Jo("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(c){this._delayContextMenu?this._contextMenuEvent=c:this._ignoreContextMenu||this._map.fire(new Jo(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class rl{constructor(c){this._map=c}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(c){return this.transform.pointLocation(a.P.convert(c),this._map.terrain)}}class o_{constructor(c,p){this._map=c,this._tr=new rl(c),this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=p.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(c,p){this.isEnabled()&&c.shiftKey&&c.button===0&&(h.disableDrag(),this._startPos=this._lastPos=p,this._active=!0)}mousemoveWindow(c,p){if(!this._active)return;const v=p;if(this._lastPos.equals(v)||!this._box&&v.dist(this._startPos)<this._clickTolerance)return;const _=this._startPos;this._lastPos=v,this._box||(this._box=h.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",c));const k=Math.min(_.x,v.x),N=Math.max(_.x,v.x),z=Math.min(_.y,v.y),V=Math.max(_.y,v.y);h.setTransform(this._box,`translate(${k}px,${z}px)`),this._box.style.width=N-k+"px",this._box.style.height=V-z+"px"}mouseupWindow(c,p){if(!this._active||c.button!==0)return;const v=this._startPos,_=p;if(this.reset(),h.suppressClick(),v.x!==_.x||v.y!==_.y)return this._map.fire(new a.k("boxzoomend",{originalEvent:c})),{cameraAnimation:k=>k.fitScreenCoordinates(v,_,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",c)}keydown(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(h.remove(this._box),this._box=null),h.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(c,p){return this._map.fire(new a.k(c,{originalEvent:p}))}}function _a(S,c){if(S.length!==c.length)throw new Error(`The number of touches and points are not equal - touches ${S.length}, points ${c.length}`);const p={};for(let v=0;v<S.length;v++)p[S[v].identifier]=c[v];return p}class il{constructor(c){this.reset(),this.numTouches=c.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(c,p,v){(this.centroid||v.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=c.timeStamp),v.length===this.numTouches&&(this.centroid=function(_){const k=new a.P(0,0);for(const N of _)k._add(N);return k.div(_.length)}(p),this.touches=_a(v,p)))}touchmove(c,p,v){if(this.aborted||!this.centroid)return;const _=_a(v,p);for(const k in this.touches){const N=_[k];(!N||N.dist(this.touches[k])>30)&&(this.aborted=!0)}}touchend(c,p,v){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),v.length===0){const _=!this.aborted&&this.centroid;if(this.reset(),_)return _}}}class np{constructor(c){this.singleTap=new il(c),this.numTaps=c.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(c,p,v){this.singleTap.touchstart(c,p,v)}touchmove(c,p,v){this.singleTap.touchmove(c,p,v)}touchend(c,p,v){const _=this.singleTap.touchend(c,p,v);if(_){const k=c.timeStamp-this.lastTime<500,N=!this.lastTap||this.lastTap.dist(_)<30;if(k&&N||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=_,this.count===this.numTaps)return this.reset(),_}}}class ol{constructor(c){this._tr=new rl(c),this._zoomIn=new np({numTouches:1,numTaps:2}),this._zoomOut=new np({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(c,p,v){this._zoomIn.touchstart(c,p,v),this._zoomOut.touchstart(c,p,v)}touchmove(c,p,v){this._zoomIn.touchmove(c,p,v),this._zoomOut.touchmove(c,p,v)}touchend(c,p,v){const _=this._zoomIn.touchend(c,p,v),k=this._zoomOut.touchend(c,p,v),N=this._tr;return _?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:z=>z.easeTo({duration:300,zoom:N.zoom+1,around:N.unproject(_)},{originalEvent:c})}):k?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:z=>z.easeTo({duration:300,zoom:N.zoom-1,around:N.unproject(k)},{originalEvent:c})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class al{constructor(c){this._enabled=!!c.enable,this._moveStateManager=c.moveStateManager,this._clickTolerance=c.clickTolerance||1,this._moveFunction=c.move,this._activateOnStart=!!c.activateOnStart,c.assignEvents(this),this.reset()}reset(c){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(c)}_move(...c){const p=this._moveFunction(...c);if(p.bearingDelta||p.pitchDelta||p.around||p.panDelta)return this._active=!0,p}dragStart(c,p){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(c)&&(this._moveStateManager.startMove(c),this._lastPoint=p.length?p[0]:p,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(c,p){if(!this.isEnabled())return;const v=this._lastPoint;if(!v)return;if(c.preventDefault(),!this._moveStateManager.isValidMoveEvent(c))return void this.reset(c);const _=p.length?p[0]:p;return!this._moved&&_.dist(v)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=_,this._move(v,_))}dragEnd(c){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(c)&&(this._moved&&h.suppressClick(),this.reset(c))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const fT={0:1,2:2};class vy{constructor(c){this._correctEvent=c.checkCorrectEvent}startMove(c){const p=h.mouseButton(c);this._eventButton=p}endMove(c){delete this._eventButton}isValidStartEvent(c){return this._correctEvent(c)}isValidMoveEvent(c){return!function(p,v){const _=fT[v];return p.buttons===void 0||(p.buttons&_)!==_}(c,this._eventButton)}isValidEndEvent(c){return h.mouseButton(c)===this._eventButton}}class a_{constructor(){this._firstTouch=void 0}_isOneFingerTouch(c){return c.targetTouches.length===1}_isSameTouchEvent(c){return c.targetTouches[0].identifier===this._firstTouch}startMove(c){this._firstTouch=c.targetTouches[0].identifier}endMove(c){delete this._firstTouch}isValidStartEvent(c){return this._isOneFingerTouch(c)}isValidMoveEvent(c){return this._isOneFingerTouch(c)&&this._isSameTouchEvent(c)}isValidEndEvent(c){return this._isOneFingerTouch(c)&&this._isSameTouchEvent(c)}}const rp=S=>{S.mousedown=S.dragStart,S.mousemoveWindow=S.dragMove,S.mouseup=S.dragEnd,S.contextmenu=function(c){c.preventDefault()}},Fu=({enable:S,clickTolerance:c,bearingDegreesPerPixelMoved:p=.8})=>{const v=new vy({checkCorrectEvent:_=>h.mouseButton(_)===0&&_.ctrlKey||h.mouseButton(_)===2});return new al({clickTolerance:c,move:(_,k)=>({bearingDelta:(k.x-_.x)*p}),moveStateManager:v,enable:S,assignEvents:rp})},sl=({enable:S,clickTolerance:c,pitchDegreesPerPixelMoved:p=-.5})=>{const v=new vy({checkCorrectEvent:_=>h.mouseButton(_)===0&&_.ctrlKey||h.mouseButton(_)===2});return new al({clickTolerance:c,move:(_,k)=>({pitchDelta:(k.y-_.y)*p}),moveStateManager:v,enable:S,assignEvents:rp})};class $t{constructor(c,p){this._minTouches=c.cooperativeGestures?2:1,this._clickTolerance=c.clickTolerance||1,this._map=p,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.P(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(c,p,v){return this._calculateTransform(c,p,v)}touchmove(c,p,v){if(this._map._cooperativeGestures&&(this._minTouches===2&&v.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(c,!1,v.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(v.length<this._minTouches))return c.preventDefault(),this._calculateTransform(c,p,v)}touchend(c,p,v){this._calculateTransform(c,p,v),this._active&&v.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(c,p,v){v.length>0&&(this._active=!0);const _=_a(v,p),k=new a.P(0,0),N=new a.P(0,0);let z=0;for(const H in _){const Y=_[H],Z=this._touches[H];Z&&(k._add(Y),N._add(Y.sub(Z)),z++,_[H]=Y)}if(this._touches=_,z<this._minTouches||!N.mag())return;const V=N.div(z);return this._sum._add(V),this._sum.mag()<this._clickTolerance?void 0:{around:k.div(z),panDelta:V}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ip{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(c,p,v){this._firstTwoTouches||v.length<2||(this._firstTwoTouches=[v[0].identifier,v[1].identifier],this._start([p[0],p[1]]))}touchmove(c,p,v){if(!this._firstTwoTouches)return;c.preventDefault();const[_,k]=this._firstTwoTouches,N=Wl(v,p,_),z=Wl(v,p,k);if(!N||!z)return;const V=this._aroundCenter?null:N.add(z).div(2);return this._move([N,z],V,c)}touchend(c,p,v){if(!this._firstTwoTouches)return;const[_,k]=this._firstTwoTouches,N=Wl(v,p,_),z=Wl(v,p,k);N&&z||(this._active&&h.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Wl(S,c,p){for(let v=0;v<S.length;v++)if(S[v].identifier===p)return c[v]}function Uu(S,c){return Math.log(S/c)/Math.LN2}class s_ extends ip{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(c){this._startDistance=this._distance=c[0].dist(c[1])}_move(c,p){const v=this._distance;if(this._distance=c[0].dist(c[1]),this._active||!(Math.abs(Uu(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Uu(this._distance,v),pinchAround:p}}}function Pt(S,c){return 180*S.angleWith(c)/Math.PI}class by extends ip{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(c){this._startVector=this._vector=c[0].sub(c[1]),this._minDiameter=c[0].dist(c[1])}_move(c,p){const v=this._vector;if(this._vector=c[0].sub(c[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Pt(this._vector,v),pinchAround:p}}_isBelowThreshold(c){this._minDiameter=Math.min(this._minDiameter,c.mag());const p=25/(Math.PI*this._minDiameter)*360,v=Pt(c,this._startVector);return Math.abs(v)<p}}function xy(S){return Math.abs(S.y)>Math.abs(S.x)}class hT extends ip{constructor(c){super(),this._map=c}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(c,p,v){super.touchstart(c,p,v),this._currentTouchCount=v.length}_start(c){this._lastPoints=c,xy(c[0].sub(c[1]))&&(this._valid=!1)}_move(c,p,v){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const _=c[0].sub(this._lastPoints[0]),k=c[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(_,k,v.timeStamp),this._valid?(this._lastPoints=c,this._active=!0,{pitchDelta:(_.y+k.y)/2*-.5}):void 0}gestureBeginsVertically(c,p,v){if(this._valid!==void 0)return this._valid;const _=c.mag()>=2,k=p.mag()>=2;if(!_&&!k)return;if(!_||!k)return this._firstMove===void 0&&(this._firstMove=v),v-this._firstMove<100&&void 0;const N=c.y>0==p.y>0;return xy(c)&&xy(p)&&N}}const _y={panStep:100,bearingStep:15,pitchStep:10};class l_{constructor(c){this._tr=new rl(c);const p=_y;this._panStep=p.panStep,this._bearingStep=p.bearingStep,this._pitchStep=p.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(c){if(c.altKey||c.ctrlKey||c.metaKey)return;let p=0,v=0,_=0,k=0,N=0;switch(c.keyCode){case 61:case 107:case 171:case 187:p=1;break;case 189:case 109:case 173:p=-1;break;case 37:c.shiftKey?v=-1:(c.preventDefault(),k=-1);break;case 39:c.shiftKey?v=1:(c.preventDefault(),k=1);break;case 38:c.shiftKey?_=1:(c.preventDefault(),N=-1);break;case 40:c.shiftKey?_=-1:(c.preventDefault(),N=1);break;default:return}return this._rotationDisabled&&(v=0,_=0),{cameraAnimation:z=>{const V=this._tr;z.easeTo({duration:300,easeId:"keyboardHandler",easing:c_,zoom:p?Math.round(V.zoom)+p*(c.shiftKey?2:1):V.zoom,bearing:V.bearing+v*this._bearingStep,pitch:V.pitch+_*this._pitchStep,offset:[-k*this._panStep,-N*this._panStep],center:V.center},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function c_(S){return S*(2-S)}const u_=4.000244140625;class pT{constructor(c,p){this._onTimeout=v=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(v)},this._map=c,this._tr=new rl(c),this._el=c.getCanvasContainer(),this._triggerRenderFrame=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(c){this._defaultZoomRate=c}setWheelZoomRate(c){this._wheelZoomRate=c}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!c&&c.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(c){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!c[this._map._metaKey])return;c.preventDefault()}let p=c.deltaMode===WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY;const v=a.h.now(),_=v-(this._lastWheelEventTime||0);this._lastWheelEventTime=v,p!==0&&p%u_==0?this._type="wheel":p!==0&&Math.abs(p)<4?this._type="trackpad":_>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(_*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),c.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=c,this._delta-=p,this._active||this._start(c)),c.preventDefault()}_start(c){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const p=h.mousePos(this._el,c),v=this._tr;this._around=a.L.convert(this._aroundCenter?v.center:v.unproject(p)),this._aroundPoint=v.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const c=this._tr.transform;if(this._delta!==0){const z=this._type==="wheel"&&Math.abs(this._delta)>u_?this._wheelZoomRate:this._defaultZoomRate;let V=2/(1+Math.exp(-Math.abs(this._delta*z)));this._delta<0&&V!==0&&(V=1/V);const H=typeof this._targetZoom=="number"?c.zoomScale(this._targetZoom):c.scale;this._targetZoom=Math.min(c.maxZoom,Math.max(c.minZoom,c.scaleZoom(H*V))),this._type==="wheel"&&(this._startZoom=c.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const p=typeof this._targetZoom=="number"?this._targetZoom:c.zoom,v=this._startZoom,_=this._easing;let k,N=!1;if(this._type==="wheel"&&v&&_){const z=Math.min((a.h.now()-this._lastWheelEventTime)/200,1),V=_(z);k=a.B.number(v,p,V),z<1?this._frameId||(this._frameId=!0):N=!0}else k=p,N=!0;return this._active=!0,N&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!N,zoomDelta:k-c.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(c){let p=a.bb;if(this._prevEase){const v=this._prevEase,_=(a.h.now()-v.start)/v.duration,k=v.easing(_+.01)-v.easing(_),N=.27/Math.sqrt(k*k+1e-4)*.01,z=Math.sqrt(.0729-N*N);p=a.ba(N,z,.25,1)}return this._prevEase={start:a.h.now(),duration:c,easing:p},p}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class wy{constructor(c,p){this._clickZoom=c,this._tapZoom=p}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Sy{constructor(c){this._tr=new rl(c),this.reset()}reset(){this._active=!1}dblclick(c,p){return c.preventDefault(),{cameraAnimation:v=>{v.easeTo({duration:300,zoom:this._tr.zoom+(c.shiftKey?-1:1),around:this._tr.unproject(p)},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Cy{constructor(){this._tap=new np({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(c,p,v){if(!this._swipePoint)if(this._tapTime){const _=p[0],k=c.timeStamp-this._tapTime<500,N=this._tapPoint.dist(_)<30;k&&N?v.length>0&&(this._swipePoint=_,this._swipeTouch=v[0].identifier):this.reset()}else this._tap.touchstart(c,p,v)}touchmove(c,p,v){if(this._tapTime){if(this._swipePoint){if(v[0].identifier!==this._swipeTouch)return;const _=p[0],k=_.y-this._swipePoint.y;return this._swipePoint=_,c.preventDefault(),this._active=!0,{zoomDelta:k/128}}}else this._tap.touchmove(c,p,v)}touchend(c,p,v){if(this._tapTime)this._swipePoint&&v.length===0&&this.reset();else{const _=this._tap.touchend(c,p,v);_&&(this._tapTime=c.timeStamp,this._tapPoint=_)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ky{constructor(c,p,v){this._el=c,this._mousePan=p,this._touchPan=v}enable(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class ko{constructor(c,p,v){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=p,this._mousePitch=v}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class ql{constructor(c,p,v,_){this._el=c,this._touchZoom=p,this._touchRotate=v,this._tapDragZoom=_,this._rotationDisabled=!1,this._enabled=!0}enable(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const gf=S=>S.zoom||S.drag||S.pitch||S.rotate;class Ty extends a.k{}function yf(S){return S.panDelta&&S.panDelta.mag()||S.zoomDelta||S.bearingDelta||S.pitchDelta}class Ey{constructor(c,p){this.handleWindowEvent=_=>{this.handleEvent(_,`${_.type}Window`)},this.handleEvent=(_,k)=>{if(_.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const N=_.type==="renderFrame"?void 0:_,z={needsRenderFrame:!1},V={},H={},Y=_.touches,Z=Y?this._getMapTouches(Y):void 0,ie=Z?h.touchPos(this._el,Z):h.mousePos(this._el,_);for(const{handlerName:xe,handler:fe,allowed:Ie}of this._handlers){if(!fe.isEnabled())continue;let Ue;this._blockedByActive(H,Ie,xe)?fe.reset():fe[k||_.type]&&(Ue=fe[k||_.type](_,ie,Z),this.mergeHandlerResult(z,V,Ue,xe,N),Ue&&Ue.needsRenderFrame&&this._triggerRenderFrame()),(Ue||fe.isActive())&&(H[xe]=fe)}const ge={};for(const xe in this._previousActiveHandlers)H[xe]||(ge[xe]=N);this._previousActiveHandlers=H,(Object.keys(ge).length||yf(z))&&(this._changes.push([z,V,ge]),this._triggerRenderFrame()),(Object.keys(H).length||yf(z))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:me}=z;me&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],me(this._map))},this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new t_(c),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(p);const v=this._el;this._listeners=[[v,"touchstart",{passive:!0}],[v,"touchmove",{passive:!1}],[v,"touchend",void 0],[v,"touchcancel",void 0],[v,"mousedown",void 0],[v,"mousemove",void 0],[v,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[v,"mouseover",void 0],[v,"mouseout",void 0],[v,"dblclick",void 0],[v,"click",void 0],[v,"keydown",{capture:!1}],[v,"keyup",void 0],[v,"wheel",{passive:!1}],[v,"contextmenu",void 0],[window,"blur",void 0]];for(const[_,k,N]of this._listeners)h.addEventListener(_,k,_===document?this.handleWindowEvent:this.handleEvent,N)}destroy(){for(const[c,p,v]of this._listeners)h.removeEventListener(c,p,c===document?this.handleWindowEvent:this.handleEvent,v)}_addDefaultHandlers(c){const p=this._map,v=p.getCanvasContainer();this._add("mapEvent",new r_(p,c));const _=p.boxZoom=new o_(p,c);this._add("boxZoom",_),c.interactive&&c.boxZoom&&_.enable();const k=new ol(p),N=new Sy(p);p.doubleClickZoom=new wy(N,k),this._add("tapZoom",k),this._add("clickZoom",N),c.interactive&&c.doubleClickZoom&&p.doubleClickZoom.enable();const z=new Cy;this._add("tapDragZoom",z);const V=p.touchPitch=new hT(p);this._add("touchPitch",V),c.interactive&&c.touchPitch&&p.touchPitch.enable(c.touchPitch);const H=Fu(c),Y=sl(c);p.dragRotate=new ko(c,H,Y),this._add("mouseRotate",H,["mousePitch"]),this._add("mousePitch",Y,["mouseRotate"]),c.interactive&&c.dragRotate&&p.dragRotate.enable();const Z=(({enable:Ie,clickTolerance:Ue})=>{const Ce=new vy({checkCorrectEvent:De=>h.mouseButton(De)===0&&!De.ctrlKey});return new al({clickTolerance:Ue,move:(De,We)=>({around:We,panDelta:We.sub(De)}),activateOnStart:!0,moveStateManager:Ce,enable:Ie,assignEvents:rp})})(c),ie=new $t(c,p);p.dragPan=new ky(v,Z,ie),this._add("mousePan",Z),this._add("touchPan",ie,["touchZoom","touchRotate"]),c.interactive&&c.dragPan&&p.dragPan.enable(c.dragPan);const ge=new by,me=new s_;p.touchZoomRotate=new ql(v,me,ge,z),this._add("touchRotate",ge,["touchPan","touchZoom"]),this._add("touchZoom",me,["touchPan","touchRotate"]),c.interactive&&c.touchZoomRotate&&p.touchZoomRotate.enable(c.touchZoomRotate);const xe=p.scrollZoom=new pT(p,()=>this._triggerRenderFrame());this._add("scrollZoom",xe,["mousePan"]),c.interactive&&c.scrollZoom&&p.scrollZoom.enable(c.scrollZoom);const fe=p.keyboard=new l_(p);this._add("keyboard",fe),c.interactive&&c.keyboard&&p.keyboard.enable(),this._add("blockableMapEvent",new i_(p))}_add(c,p,v){this._handlers.push({handlerName:c,handler:p,allowed:v}),this._handlersById[c]=p}stop(c){if(!this._updatingCamera){for(const{handler:p}of this._handlers)p.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}}isActive(){for(const{handler:c}of this._handlers)if(c.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!gf(this._eventsInProgress)||this.isZooming()}_blockedByActive(c,p,v){for(const _ in c)if(_!==v&&(!p||p.indexOf(_)<0))return!0;return!1}_getMapTouches(c){const p=[];for(const v of c)this._el.contains(v.target)&&p.push(v);return p}mergeHandlerResult(c,p,v,_,k){if(!v)return;a.e(c,v);const N={handlerName:_,originalEvent:v.originalEvent||k};v.zoomDelta!==void 0&&(p.zoom=N),v.panDelta!==void 0&&(p.drag=N),v.pitchDelta!==void 0&&(p.pitch=N),v.bearingDelta!==void 0&&(p.rotate=N)}_applyChanges(){const c={},p={},v={};for(const[_,k,N]of this._changes)_.panDelta&&(c.panDelta=(c.panDelta||new a.P(0,0))._add(_.panDelta)),_.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+_.zoomDelta),_.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+_.bearingDelta),_.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+_.pitchDelta),_.around!==void 0&&(c.around=_.around),_.pinchAround!==void 0&&(c.pinchAround=_.pinchAround),_.noInertia&&(c.noInertia=_.noInertia),a.e(p,k),a.e(v,N);this._updateMapTransform(c,p,v),this._changes=[]}_updateMapTransform(c,p,v){const _=this._map,k=_._getTransformForUpdate(),N=_.terrain;if(!(yf(c)||N&&this._terrainMovement))return this._fireEvents(p,v,!0);let{panDelta:z,zoomDelta:V,bearingDelta:H,pitchDelta:Y,around:Z,pinchAround:ie}=c;ie!==void 0&&(Z=ie),_._stop(!0),Z=Z||_.transform.centerPoint;const ge=k.pointLocation(z?Z.sub(z):Z);H&&(k.bearing+=H),Y&&(k.pitch+=Y),V&&(k.zoom+=V),N?this._terrainMovement||!p.drag&&!p.zoom?p.drag&&this._terrainMovement?k.center=k.pointLocation(k.centerPoint.sub(z)):k.setLocationAtPoint(ge,Z):(this._terrainMovement=!0,this._map._elevationFreeze=!0,k.setLocationAtPoint(ge,Z),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,k.recalculateZoom(_.terrain)})):k.setLocationAtPoint(ge,Z),_._applyUpdatedTransform(k),this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(p,v,!0)}_fireEvents(c,p,v){const _=gf(this._eventsInProgress),k=gf(c),N={};for(const Y in c){const{originalEvent:Z}=c[Y];this._eventsInProgress[Y]||(N[`${Y}start`]=Z),this._eventsInProgress[Y]=c[Y]}!_&&k&&this._fireEvent("movestart",k.originalEvent);for(const Y in N)this._fireEvent(Y,N[Y]);k&&this._fireEvent("move",k.originalEvent);for(const Y in c){const{originalEvent:Z}=c[Y];this._fireEvent(Y,Z)}const z={};let V;for(const Y in this._eventsInProgress){const{handlerName:Z,originalEvent:ie}=this._eventsInProgress[Y];this._handlersById[Z].isActive()||(delete this._eventsInProgress[Y],V=p[Z]||ie,z[`${Y}end`]=V)}for(const Y in z)this._fireEvent(Y,z[Y]);const H=gf(this._eventsInProgress);if(v&&(_||k)&&!H){this._updatingCamera=!0;const Y=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Z=ie=>ie!==0&&-this._bearingSnap<ie&&ie<this._bearingSnap;!Y||!Y.essential&&a.h.prefersReducedMotion?(this._map.fire(new a.k("moveend",{originalEvent:V})),Z(this._map.getBearing())&&this._map.resetNorth()):(Z(Y.bearing||this._map.getBearing())&&(Y.bearing=0),Y.freezeElevation=!0,this._map.easeTo(Y,{originalEvent:V})),this._updatingCamera=!1}}_fireEvent(c,p){this._map.fire(new a.k(c,p?{originalEvent:p}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(c=>{delete this._frameId,this.handleEvent(new Ty("renderFrame",{timeStamp:c})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class d_ extends a.E{constructor(c,p){super(),this._renderFrameCallback=()=>{const v=Math.min((a.h.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(v)),v<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=c,this._bearingSnap=p.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new a.L(this.transform.center.lng,this.transform.center.lat)}setCenter(c,p){return this.jumpTo({center:c},p)}panBy(c,p,v){return c=a.P.convert(c).mult(-1),this.panTo(this.transform.center,a.e({offset:c},p),v)}panTo(c,p,v){return this.easeTo(a.e({center:c},p),v)}getZoom(){return this.transform.zoom}setZoom(c,p){return this.jumpTo({zoom:c},p),this}zoomTo(c,p,v){return this.easeTo(a.e({zoom:c},p),v)}zoomIn(c,p){return this.zoomTo(this.getZoom()+1,c,p),this}zoomOut(c,p){return this.zoomTo(this.getZoom()-1,c,p),this}getBearing(){return this.transform.bearing}setBearing(c,p){return this.jumpTo({bearing:c},p),this}getPadding(){return this.transform.padding}setPadding(c,p){return this.jumpTo({padding:c},p),this}rotateTo(c,p,v){return this.easeTo(a.e({bearing:c},p),v)}resetNorth(c,p){return this.rotateTo(0,a.e({duration:1e3},c),p),this}resetNorthPitch(c,p){return this.easeTo(a.e({bearing:0,pitch:0,duration:1e3},c),p),this}snapToNorth(c,p){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(c,p):this}getPitch(){return this.transform.pitch}setPitch(c,p){return this.jumpTo({pitch:c},p),this}cameraForBounds(c,p){c=Fe.convert(c);const v=p&&p.bearing||0;return this._cameraForBoxAndBearing(c.getNorthWest(),c.getSouthEast(),v,p)}_cameraForBoxAndBearing(c,p,v,_){const k={top:0,bottom:0,right:0,left:0};if(typeof(_=a.e({padding:k,offset:[0,0],maxZoom:this.transform.maxZoom},_)).padding=="number"){const We=_.padding;_.padding={top:We,bottom:We,right:We,left:We}}_.padding=a.e(k,_.padding);const N=this.transform,z=N.padding,V=N.project(a.L.convert(c)),H=N.project(a.L.convert(p)),Y=V.rotate(-v*Math.PI/180),Z=H.rotate(-v*Math.PI/180),ie=new a.P(Math.max(Y.x,Z.x),Math.max(Y.y,Z.y)),ge=new a.P(Math.min(Y.x,Z.x),Math.min(Y.y,Z.y)),me=ie.sub(ge),xe=(N.width-(z.left+z.right+_.padding.left+_.padding.right))/me.x,fe=(N.height-(z.top+z.bottom+_.padding.top+_.padding.bottom))/me.y;if(fe<0||xe<0)return void a.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const Ie=Math.min(N.scaleZoom(N.scale*Math.min(xe,fe)),_.maxZoom),Ue=a.P.convert(_.offset),Ce=new a.P((_.padding.left-_.padding.right)/2,(_.padding.top-_.padding.bottom)/2).rotate(v*Math.PI/180),De=Ue.add(Ce).mult(N.scale/N.zoomScale(Ie));return{center:N.unproject(V.add(H).div(2).sub(De)),zoom:Ie,bearing:v}}fitBounds(c,p,v){return this._fitInternal(this.cameraForBounds(c,p),p,v)}fitScreenCoordinates(c,p,v,_,k){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.P.convert(c)),this.transform.pointLocation(a.P.convert(p)),v,_),_,k)}_fitInternal(c,p,v){return c?(delete(p=a.e(c,p)).padding,p.linear?this.easeTo(p,v):this.flyTo(p,v)):this}jumpTo(c,p){this.stop();const v=this._getTransformForUpdate();let _=!1,k=!1,N=!1;return"zoom"in c&&v.zoom!==+c.zoom&&(_=!0,v.zoom=+c.zoom),c.center!==void 0&&(v.center=a.L.convert(c.center)),"bearing"in c&&v.bearing!==+c.bearing&&(k=!0,v.bearing=+c.bearing),"pitch"in c&&v.pitch!==+c.pitch&&(N=!0,v.pitch=+c.pitch),c.padding==null||v.isPaddingEqual(c.padding)||(v.padding=c.padding),this._applyUpdatedTransform(v),this.fire(new a.k("movestart",p)).fire(new a.k("move",p)),_&&this.fire(new a.k("zoomstart",p)).fire(new a.k("zoom",p)).fire(new a.k("zoomend",p)),k&&this.fire(new a.k("rotatestart",p)).fire(new a.k("rotate",p)).fire(new a.k("rotateend",p)),N&&this.fire(new a.k("pitchstart",p)).fire(new a.k("pitch",p)).fire(new a.k("pitchend",p)),this.fire(new a.k("moveend",p))}calculateCameraOptionsFromTo(c,p,v,_=0){const k=a.U.fromLngLat(c,p),N=a.U.fromLngLat(v,_),z=N.x-k.x,V=N.y-k.y,H=N.z-k.z,Y=Math.hypot(z,V,H);if(Y===0)throw new Error("Can't calculate camera options with same From and To");const Z=Math.hypot(z,V),ie=this.transform.scaleZoom(this.transform.cameraToCenterDistance/Y/this.transform.tileSize),ge=180*Math.atan2(z,-V)/Math.PI;let me=180*Math.acos(Z/Y)/Math.PI;return me=H<0?90-me:90+me,{center:N.toLngLat(),zoom:ie,pitch:me,bearing:ge}}easeTo(c,p){this._stop(!1,c.easeId),((c=a.e({offset:[0,0],duration:500,easing:a.bb},c)).animate===!1||!c.essential&&a.h.prefersReducedMotion)&&(c.duration=0);const v=this._getTransformForUpdate(),_=this.getZoom(),k=this.getBearing(),N=this.getPitch(),z=this.getPadding(),V="zoom"in c?+c.zoom:_,H="bearing"in c?this._normalizeBearing(c.bearing,k):k,Y="pitch"in c?+c.pitch:N,Z="padding"in c?c.padding:v.padding,ie=a.P.convert(c.offset);let ge=v.centerPoint.add(ie);const me=v.pointLocation(ge),xe=a.L.convert(c.center||me);this._normalizeCenter(xe);const fe=v.project(me),Ie=v.project(xe).sub(fe),Ue=v.zoomScale(V-_);let Ce,De;c.around&&(Ce=a.L.convert(c.around),De=v.locationPoint(Ce));const We={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||V!==_,this._rotating=this._rotating||k!==H,this._pitching=this._pitching||Y!==N,this._padding=!v.isPaddingEqual(Z),this._easeId=c.easeId,this._prepareEase(p,c.noMoveStart,We),this.terrain&&this._prepareElevation(xe),this._ease(Ge=>{if(this._zooming&&(v.zoom=a.B.number(_,V,Ge)),this._rotating&&(v.bearing=a.B.number(k,H,Ge)),this._pitching&&(v.pitch=a.B.number(N,Y,Ge)),this._padding&&(v.interpolatePadding(z,Z,Ge),ge=v.centerPoint.add(ie)),this.terrain&&!c.freezeElevation&&this._updateElevation(Ge),Ce)v.setLocationAtPoint(Ce,De);else{const tt=v.zoomScale(v.zoom-_),ut=V>_?Math.min(2,Ue):Math.max(.5,Ue),at=Math.pow(ut,1-Ge),mt=v.unproject(fe.add(Ie.mult(Ge*at)).mult(tt));v.setLocationAtPoint(v.renderWorldCopies?mt.wrap():mt,ge)}this._applyUpdatedTransform(v),this._fireMoveEvents(p)},Ge=>{this.terrain&&this._finalizeElevation(),this._afterEase(p,Ge)},c),this}_prepareEase(c,p,v={}){this._moving=!0,p||v.moving||this.fire(new a.k("movestart",c)),this._zooming&&!v.zooming&&this.fire(new a.k("zoomstart",c)),this._rotating&&!v.rotating&&this.fire(new a.k("rotatestart",c)),this._pitching&&!v.pitching&&this.fire(new a.k("pitchstart",c))}_prepareElevation(c){this._elevationCenter=c,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(c,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(c){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const p=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(c<1&&p!==this._elevationTarget){const v=this._elevationTarget-this._elevationStart;this._elevationStart+=c*(v-(p-(v*c+this._elevationStart))/(1-c)),this._elevationTarget=p}this.transform.elevation=a.B.number(this._elevationStart,this._elevationTarget,c)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(c){if(!this.transformCameraUpdate)return;const p=c.clone(),{center:v,zoom:_,pitch:k,bearing:N,elevation:z}=this.transformCameraUpdate(p);v&&(p.center=v),_!==void 0&&(p.zoom=_),k!==void 0&&(p.pitch=k),N!==void 0&&(p.bearing=N),z!==void 0&&(p.elevation=z),this.transform.apply(p)}_fireMoveEvents(c){this.fire(new a.k("move",c)),this._zooming&&this.fire(new a.k("zoom",c)),this._rotating&&this.fire(new a.k("rotate",c)),this._pitching&&this.fire(new a.k("pitch",c))}_afterEase(c,p){if(this._easeId&&p&&this._easeId===p)return;delete this._easeId;const v=this._zooming,_=this._rotating,k=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,v&&this.fire(new a.k("zoomend",c)),_&&this.fire(new a.k("rotateend",c)),k&&this.fire(new a.k("pitchend",c)),this.fire(new a.k("moveend",c))}flyTo(c,p){if(!c.essential&&a.h.prefersReducedMotion){const Ut=a.F(c,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ut,p)}this.stop(),c=a.e({offset:[0,0],speed:1.2,curve:1.42,easing:a.bb},c);const v=this._getTransformForUpdate(),_=this.getZoom(),k=this.getBearing(),N=this.getPitch(),z=this.getPadding(),V="zoom"in c?a.ad(+c.zoom,v.minZoom,v.maxZoom):_,H="bearing"in c?this._normalizeBearing(c.bearing,k):k,Y="pitch"in c?+c.pitch:N,Z="padding"in c?c.padding:v.padding,ie=v.zoomScale(V-_),ge=a.P.convert(c.offset);let me=v.centerPoint.add(ge);const xe=v.pointLocation(me),fe=a.L.convert(c.center||xe);this._normalizeCenter(fe);const Ie=v.project(xe),Ue=v.project(fe).sub(Ie);let Ce=c.curve;const De=Math.max(v.width,v.height),We=De/ie,Ge=Ue.mag();if("minZoom"in c){const Ut=a.ad(Math.min(c.minZoom,_,V),v.minZoom,v.maxZoom),ir=De/v.zoomScale(Ut-_);Ce=Math.sqrt(ir/Ge*2)}const tt=Ce*Ce;function ut(Ut){const ir=(We*We-De*De+(Ut?-1:1)*tt*tt*Ge*Ge)/(2*(Ut?We:De)*tt*Ge);return Math.log(Math.sqrt(ir*ir+1)-ir)}function at(Ut){return(Math.exp(Ut)-Math.exp(-Ut))/2}function mt(Ut){return(Math.exp(Ut)+Math.exp(-Ut))/2}const Bt=ut(!1);let kn=function(Ut){return mt(Bt)/mt(Bt+Ce*Ut)},St=function(Ut){return De*((mt(Bt)*(at(ir=Bt+Ce*Ut)/mt(ir))-at(Bt))/tt)/Ge;var ir},dn=(ut(!0)-Bt)/Ce;if(Math.abs(Ge)<1e-6||!isFinite(dn)){if(Math.abs(De-We)<1e-6)return this.easeTo(c,p);const Ut=We<De?-1:1;dn=Math.abs(Math.log(We/De))/Ce,St=function(){return 0},kn=function(ir){return Math.exp(Ut*Ce*ir)}}return c.duration="duration"in c?+c.duration:1e3*dn/("screenSpeed"in c?+c.screenSpeed/Ce:+c.speed),c.maxDuration&&c.duration>c.maxDuration&&(c.duration=0),this._zooming=!0,this._rotating=k!==H,this._pitching=Y!==N,this._padding=!v.isPaddingEqual(Z),this._prepareEase(p,!1),this.terrain&&this._prepareElevation(fe),this._ease(Ut=>{const ir=Ut*dn,Sn=1/kn(ir);v.zoom=Ut===1?V:_+v.scaleZoom(Sn),this._rotating&&(v.bearing=a.B.number(k,H,Ut)),this._pitching&&(v.pitch=a.B.number(N,Y,Ut)),this._padding&&(v.interpolatePadding(z,Z,Ut),me=v.centerPoint.add(ge)),this.terrain&&!c.freezeElevation&&this._updateElevation(Ut);const xn=Ut===1?fe:v.unproject(Ie.add(Ue.mult(St(ir))).mult(Sn));v.setLocationAtPoint(v.renderWorldCopies?xn.wrap():xn,me),this._applyUpdatedTransform(v),this._fireMoveEvents(p)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(p)},c),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(c,p){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const v=this._onEaseEnd;delete this._onEaseEnd,v.call(this,p)}if(!c){const v=this.handlers;v&&v.stop(!1)}return this}_ease(c,p,v){v.animate===!1||v.duration===0?(c(1),p()):(this._easeStart=a.h.now(),this._easeOptions=v,this._onEaseFrame=c,this._onEaseEnd=p,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(c,p){c=a.b5(c,-180,180);const v=Math.abs(c-p);return Math.abs(c-360-p)<v&&(c-=360),Math.abs(c+360-p)<v&&(c+=360),c}_normalizeCenter(c){const p=this.transform;if(!p.renderWorldCopies||p.lngRange)return;const v=c.lng-p.center.lng;c.lng+=v>180?-360:v<-180?360:0}queryTerrainElevation(c){return this.terrain?this.terrain.getElevationForLngLatZoom(a.L.convert(c),this.transform.tileZoom)-this.transform.elevation:null}}class Qo{constructor(c={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=p=>{!p||p.sourceDataType!=="metadata"&&p.sourceDataType!=="visibility"&&p.dataType!=="style"&&p.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=c}getDefaultPosition(){return"bottom-right"}onAdd(c){return this._map=c,this._compact=this.options&&this.options.compact,this._container=h.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=h.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=h.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){h.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(c,p){const v=this._map._getUIString(`AttributionControl.${p}`);c.title=v,c.setAttribute("aria-label",v)}_updateAttributions(){if(!this._map.style)return;let c=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=c.concat(this.options.customAttribution.map(_=>typeof _!="string"?"":_)):typeof this.options.customAttribution=="string"&&c.push(this.options.customAttribution)),this._map.style.stylesheet){const _=this._map.style.stylesheet;this.styleOwner=_.owner,this.styleId=_.id}const p=this._map.style.sourceCaches;for(const _ in p){const k=p[_];if(k.used||k.usedForTerrain){const N=k.getSource();N.attribution&&c.indexOf(N.attribution)<0&&c.push(N.attribution)}}c=c.filter(_=>String(_).trim()),c.sort((_,k)=>_.length-k.length),c=c.filter((_,k)=>{for(let N=k+1;N<c.length;N++)if(c[N].indexOf(_)>=0)return!1;return!0});const v=c.join(" | ");v!==this._attribHTML&&(this._attribHTML=v,c.length?(this._innerContainer.innerHTML=v,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Cr{constructor(c={}){this._updateCompact=()=>{const p=this._container.children;if(p.length){const v=p[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&v.classList.add("maplibregl-compact"):v.classList.remove("maplibregl-compact")}},this.options=c}getDefaultPosition(){return"bottom-left"}onAdd(c){this._map=c,this._compact=this.options&&this.options.compact,this._container=h.create("div","maplibregl-ctrl");const p=h.create("a","maplibregl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://maplibre.org/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){h.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class op{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(c){const p=++this._id;return this._queue.push({callback:c,id:p,cancelled:!1}),p}remove(c){const p=this._currentlyRunning,v=p?this._queue.concat(p):this._queue;for(const _ of v)if(_.id===c)return void(_.cancelled=!0)}run(c=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const p=this._currentlyRunning=this._queue;this._queue=[];for(const v of p)if(!v.cancelled&&(v.callback(c),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const Py={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var f_=a.Q([{name:"a_pos3d",type:"Int16",components:3}]);class h_ extends a.E{constructor(c){super(),this.sourceCache=c,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,c.usedForTerrain=!0,c.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(c,p){this.sourceCache.update(c,p),this._renderableTilesKeys=[];const v={};for(const _ of c.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:p}))v[_.key]=!0,this._renderableTilesKeys.push(_.key),this._tiles[_.key]||(_.posMatrix=new Float64Array(16),a.aS(_.posMatrix,0,a.N,0,a.N,0,1),this._tiles[_.key]=new vn(_,this.tileSize));for(const _ in this._tiles)v[_]||delete this._tiles[_]}freeRtt(c){for(const p in this._tiles){const v=this._tiles[p];(!c||v.tileID.equals(c)||v.tileID.isChildOf(c)||c.isChildOf(v.tileID))&&(v.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(c=>this.getTileByID(c))}getTileByID(c){return this._tiles[c]}getTerrainCoords(c){const p={};for(const v of this._renderableTilesKeys){const _=this._tiles[v].tileID;if(_.canonical.equals(c.canonical)){const k=c.clone();k.posMatrix=new Float64Array(16),a.aS(k.posMatrix,0,a.N,0,a.N,0,1),p[v]=k}else if(_.canonical.isChildOf(c.canonical)){const k=c.clone();k.posMatrix=new Float64Array(16);const N=_.canonical.z-c.canonical.z,z=_.canonical.x-(_.canonical.x>>N<<N),V=_.canonical.y-(_.canonical.y>>N<<N),H=a.N>>N;a.aS(k.posMatrix,0,H,0,H,0,1),a.$(k.posMatrix,k.posMatrix,[-z*H,-V*H,0]),p[v]=k}else if(c.canonical.isChildOf(_.canonical)){const k=c.clone();k.posMatrix=new Float64Array(16);const N=c.canonical.z-_.canonical.z,z=c.canonical.x-(c.canonical.x>>N<<N),V=c.canonical.y-(c.canonical.y>>N<<N),H=a.N>>N;a.aS(k.posMatrix,0,a.N,0,a.N,0,1),a.$(k.posMatrix,k.posMatrix,[z*H,V*H,0]),a.a0(k.posMatrix,k.posMatrix,[1/2**N,1/2**N,0]),p[v]=k}}return p}getSourceTile(c,p){const v=this.sourceCache._source;let _=c.overscaledZ-this.deltaZoom;if(_>v.maxzoom&&(_=v.maxzoom),_<v.minzoom)return null;this._sourceTileCache[c.key]||(this._sourceTileCache[c.key]=c.scaledTo(_).key);let k=this.sourceCache.getTileByID(this._sourceTileCache[c.key]);if((!k||!k.dem)&&p)for(;_>=v.minzoom&&(!k||!k.dem);)k=this.sourceCache.getTileByID(c.scaledTo(_--).key);return k}tilesAfterTime(c=Date.now()){return Object.values(this._tiles).filter(p=>p.timeAdded>=c)}}class p_{constructor(c,p,v){this.painter=c,this.sourceCache=new h_(p),this.options=v,this.exaggeration=typeof v.exaggeration=="number"?v.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(c,p,v,_=a.N){var k;if(!(p>=0&&p<_&&v>=0&&v<_))return 0;const N=this.getTerrainData(c),z=(k=N.tile)===null||k===void 0?void 0:k.dem;if(!z)return 0;const V=function(me,xe,fe){var Ie=xe[0],Ue=xe[1];return me[0]=fe[0]*Ie+fe[4]*Ue+fe[12],me[1]=fe[1]*Ie+fe[5]*Ue+fe[13],me}([],[p/_*a.N,v/_*a.N],N.u_terrain_matrix),H=[V[0]*z.dim,V[1]*z.dim],Y=Math.floor(H[0]),Z=Math.floor(H[1]),ie=H[0]-Y,ge=H[1]-Z;return z.get(Y,Z)*(1-ie)*(1-ge)+z.get(Y+1,Z)*ie*(1-ge)+z.get(Y,Z+1)*(1-ie)*ge+z.get(Y+1,Z+1)*ie*ge}getElevationForLngLatZoom(c,p){const{tileID:v,mercatorX:_,mercatorY:k}=this._getOverscaledTileIDFromLngLatZoom(c,p);return this.getElevation(v,_%a.N,k%a.N,a.N)}getElevation(c,p,v,_=a.N){return this.getDEMElevation(c,p,v,_)*this.exaggeration}getTerrainData(c){if(!this._emptyDemTexture){const _=this.painter.context,k=new a.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new K(_,k,_.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new K(_,new a.R({width:1,height:1}),_.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(_.gl.NEAREST,_.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.ao([])}const p=this.sourceCache.getSourceTile(c,!0);if(p&&p.dem&&(!p.demTexture||p.needsTerrainPrepare)){const _=this.painter.context;p.demTexture=this.painter.getTileTexture(p.dem.stride),p.demTexture?p.demTexture.update(p.dem.getPixels(),{premultiply:!1}):p.demTexture=new K(_,p.dem.getPixels(),_.gl.RGBA,{premultiply:!1}),p.demTexture.bind(_.gl.NEAREST,_.gl.CLAMP_TO_EDGE),p.needsTerrainPrepare=!1}const v=p&&p+p.tileID.key+c.key;if(v&&!this._demMatrixCache[v]){const _=this.sourceCache.sourceCache._source.maxzoom;let k=c.canonical.z-p.tileID.canonical.z;c.overscaledZ>c.canonical.z&&(c.canonical.z>=_?k=c.canonical.z-_:a.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const N=c.canonical.x-(c.canonical.x>>k<<k),z=c.canonical.y-(c.canonical.y>>k<<k),V=a.bc(new Float64Array(16),[1/(a.N<<k),1/(a.N<<k),0]);a.$(V,V,[N*a.N,z*a.N,0]),this._demMatrixCache[c.key]={matrix:V,coord:c}}return{u_depth:2,u_terrain:3,u_terrain_dim:p&&p.dem&&p.dem.dim||1,u_terrain_matrix:v?this._demMatrixCache[c.key].matrix:this._emptyDemMatrix,u_terrain_unpack:p&&p.dem&&p.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(p&&p.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:p}}getFramebuffer(c){const p=this.painter,v=p.width/devicePixelRatio,_=p.height/devicePixelRatio;return!this._fbo||this._fbo.width===v&&this._fbo.height===_||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new K(p.context,{width:v,height:_,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new K(p.context,{width:v,height:_,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=p.context.createFramebuffer(v,_,!0,!1),this._fbo.depthAttachment.set(p.context.createRenderbuffer(p.context.gl.DEPTH_COMPONENT16,v,_))),this._fbo.colorAttachment.set(c==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const c=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const p=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let k=0,N=0;k<this._coordsTextureSize;k++)for(let z=0;z<this._coordsTextureSize;z++,N+=4)p[N+0]=255&z,p[N+1]=255&k,p[N+2]=z>>8<<4|k>>8,p[N+3]=0;const v=new a.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(p.buffer)),_=new K(c,v,c.gl.RGBA,{premultiply:!1});return _.bind(c.gl.NEAREST,c.gl.CLAMP_TO_EDGE),this._coordsTexture=_,_}pointCoordinate(c){const p=new Uint8Array(4),v=this.painter.context,_=v.gl;v.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),_.readPixels(c.x,this.painter.height/devicePixelRatio-c.y-1,1,1,_.RGBA,_.UNSIGNED_BYTE,p),v.bindFramebuffer.set(null);const k=p[0]+(p[2]>>4<<8),N=p[1]+((15&p[2])<<8),z=this.coordsIndex[255-p[3]],V=z&&this.sourceCache.getTileByID(z);if(!V)return null;const H=this._coordsTextureSize,Y=(1<<V.tileID.canonical.z)*H;return new a.U(this._allowMercatorOverflow(c,(V.tileID.canonical.x*H+k)/Y),(V.tileID.canonical.y*H+N)/Y,this.getElevation(V.tileID,k,N,H))}getTerrainMesh(){if(this._mesh)return this._mesh;const c=this.painter.context,p=new a.bd,v=new a.b0,_=this.meshSize,k=a.N/_,N=_*_;for(let Z=0;Z<=_;Z++)for(let ie=0;ie<=_;ie++)p.emplaceBack(ie*k,Z*k,0);for(let Z=0;Z<N;Z+=_+1)for(let ie=0;ie<_;ie++)v.emplaceBack(ie+Z,_+ie+Z+1,_+ie+Z+2),v.emplaceBack(ie+Z,_+ie+Z+2,ie+Z+1);const z=p.length,V=z+2*(_+1);for(const Z of[0,1])for(let ie=0;ie<=_;ie++)for(const ge of[0,1])p.emplaceBack(ie*k,Z*a.N,ge);for(let Z=0;Z<2*_;Z+=2)v.emplaceBack(V+Z,V+Z+1,V+Z+3),v.emplaceBack(V+Z,V+Z+3,V+Z+2),v.emplaceBack(z+Z,z+Z+3,z+Z+1),v.emplaceBack(z+Z,z+Z+2,z+Z+3);const H=p.length,Y=H+2*(_+1);for(const Z of[0,1])for(let ie=0;ie<=_;ie++)for(const ge of[0,1])p.emplaceBack(Z*a.N,ie*k,ge);for(let Z=0;Z<2*_;Z+=2)v.emplaceBack(H+Z,H+Z+1,H+Z+3),v.emplaceBack(H+Z,H+Z+3,H+Z+2),v.emplaceBack(Y+Z,Y+Z+3,Y+Z+1),v.emplaceBack(Y+Z,Y+Z+2,Y+Z+3);return this._mesh={indexBuffer:c.createIndexBuffer(v),vertexBuffer:c.createVertexBuffer(p,f_.members),segments:a.S.simpleSegment(0,0,p.length,v.length)},this._mesh}getMeshFrameDelta(c){return 2*Math.PI*a.be/Math.pow(2,c)/5}getMinTileElevationForLngLatZoom(c,p){var v;const{tileID:_}=this._getOverscaledTileIDFromLngLatZoom(c,p);return(v=this.getMinMaxElevation(_).minElevation)!==null&&v!==void 0?v:0}getMinMaxElevation(c){const p=this.getTerrainData(c).tile,v={minElevation:null,maxElevation:null};return p&&p.dem&&(v.minElevation=p.dem.min*this.exaggeration,v.maxElevation=p.dem.max*this.exaggeration),v}_getOverscaledTileIDFromLngLatZoom(c,p){const v=a.U.fromLngLat(c.wrap()),_=(1<<p)*a.N,k=v.x*_,N=v.y*_,z=Math.floor(k/a.N),V=Math.floor(N/a.N);return{tileID:new a.O(p,0,p,z,V),mercatorX:k,mercatorY:N}}_allowMercatorOverflow(c,p){const v=c.x<this.painter.width/2;let _=a.bf(p);const k=this.painter.transform.center.lng;return v&&Math.sign(_)>0&&Math.sign(k)<0||!v&&Math.sign(_)<0&&Math.sign(k)>0?(_=360*Math.sign(k)+_,a.G(_)):p}}class mT{constructor(c,p,v){this._context=c,this._size=p,this._tileSize=v,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const c of this._objects)c.texture.destroy(),c.fbo.destroy()}_createObject(c){const p=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),v=new K(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return v.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),p.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),p.colorAttachment.set(v.texture),{id:c,fbo:p,texture:v,stamp:-1,inUse:!1}}getObjectForId(c){return this._objects[c]}useObject(c){c.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(p=>c.id!==p),this._recentlyUsed.push(c.id)}stampObject(c){c.stamp=++this._stamp}getOrCreateFreeObject(){for(const p of this._recentlyUsed)if(!this._objects[p].inUse)return this._objects[p];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const c=this._createObject(this._objects.length);return this._objects.push(c),c}freeObject(c){c.inUse=!1}freeAllObjects(){for(const c of this._objects)this.freeObject(c)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(c=>!c.inUse)===!1}}const uo={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class ap{constructor(c,p){this.painter=c,this.terrain=p,this.pool=new mT(c.context,30,p.sourceCache.tileSize*p.qualityFactor)}destruct(){this.pool.destruct()}getTexture(c){return this.pool.getObjectForId(c.rtt[this._stacks.length-1].id).texture}prepareForRender(c,p){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=c._order.filter(v=>!c._layers[v].isHidden(p)),this._coordsDescendingInv={};for(const v in c.sourceCaches){this._coordsDescendingInv[v]={};const _=c.sourceCaches[v].getVisibleCoordinates();for(const k of _){const N=this.terrain.sourceCache.getTerrainCoords(k);for(const z in N)this._coordsDescendingInv[v][z]||(this._coordsDescendingInv[v][z]=[]),this._coordsDescendingInv[v][z].push(N[z])}}this._coordsDescendingInvStr={};for(const v of c._order){const _=c._layers[v],k=_.source;if(uo[_.type]&&!this._coordsDescendingInvStr[k]){this._coordsDescendingInvStr[k]={};for(const N in this._coordsDescendingInv[k])this._coordsDescendingInvStr[k][N]=this._coordsDescendingInv[k][N].map(z=>z.key).sort().join()}}for(const v of this._renderableTiles)for(const _ in this._coordsDescendingInvStr){const k=this._coordsDescendingInvStr[_][v.tileID.key];k&&k!==v.rttCoords[_]&&(v.rtt=[])}}renderLayer(c){if(c.isHidden(this.painter.transform.zoom))return!1;const p=c.type,v=this.painter,_=this._renderableLayerIds[this._renderableLayerIds.length-1]===c.id;if(uo[p]&&(this._prevType&&uo[this._prevType]||this._stacks.push([]),this._prevType=p,this._stacks[this._stacks.length-1].push(c.id),!_))return!0;if(uo[this._prevType]||uo[p]&&_){this._prevType=p;const k=this._stacks.length-1,N=this._stacks[k]||[];for(const z of this._renderableTiles){if(this.pool.isFull()&&(Vr(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(z),z.rtt[k]){const H=this.pool.getObjectForId(z.rtt[k].id);if(H.stamp===z.rtt[k].stamp){this.pool.useObject(H);continue}}const V=this.pool.getOrCreateFreeObject();this.pool.useObject(V),this.pool.stampObject(V),z.rtt[k]={id:V.id,stamp:V.stamp},v.context.bindFramebuffer.set(V.fbo.framebuffer),v.context.clear({color:a.aT.transparent,stencil:0}),v.currentStencilSource=void 0;for(let H=0;H<N.length;H++){const Y=v.style._layers[N[H]],Z=Y.source?this._coordsDescendingInv[Y.source][z.tileID.key]:[z.tileID];v.context.viewport.set([0,0,V.fbo.width,V.fbo.height]),v._renderTileClippingMasks(Y,Z),v.renderLayer(v,v.style.sourceCaches[Y.source],Y,Z),Y.source&&(z.rttCoords[Y.source]=this._coordsDescendingInvStr[Y.source][z.tileID.key])}}return Vr(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),uo[p]}return!1}}const Ht=f,un={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:a.c.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},vf=S=>{S.touchstart=S.dragStart,S.touchmoveWindow=S.dragMove,S.touchend=S.dragEnd},Oy={showCompass:!0,showZoom:!0,visualizePitch:!1};class My{constructor(c,p,v=!1){this.mousedown=N=>{this.startMouse(a.e({},N,{ctrlKey:!0,preventDefault:()=>N.preventDefault()}),h.mousePos(this.element,N)),h.addEventListener(window,"mousemove",this.mousemove),h.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=N=>{this.moveMouse(N,h.mousePos(this.element,N))},this.mouseup=N=>{this.mouseRotate.dragEnd(N),this.mousePitch&&this.mousePitch.dragEnd(N),this.offTemp()},this.touchstart=N=>{N.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=h.touchPos(this.element,N.targetTouches)[0],this.startTouch(N,this._startPos),h.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),h.addEventListener(window,"touchend",this.touchend))},this.touchmove=N=>{N.targetTouches.length!==1?this.reset():(this._lastPos=h.touchPos(this.element,N.targetTouches)[0],this.moveTouch(N,this._lastPos))},this.touchend=N=>{N.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const _=c.dragRotate._mouseRotate.getClickTolerance(),k=c.dragRotate._mousePitch.getClickTolerance();this.element=p,this.mouseRotate=Fu({clickTolerance:_,enable:!0}),this.touchRotate=(({enable:N,clickTolerance:z,bearingDegreesPerPixelMoved:V=.8})=>{const H=new a_;return new al({clickTolerance:z,move:(Y,Z)=>({bearingDelta:(Z.x-Y.x)*V}),moveStateManager:H,enable:N,assignEvents:vf})})({clickTolerance:_,enable:!0}),this.map=c,v&&(this.mousePitch=sl({clickTolerance:k,enable:!0}),this.touchPitch=(({enable:N,clickTolerance:z,pitchDegreesPerPixelMoved:V=-.5})=>{const H=new a_;return new al({clickTolerance:z,move:(Y,Z)=>({pitchDelta:(Z.y-Y.y)*V}),moveStateManager:H,enable:N,assignEvents:vf})})({clickTolerance:k,enable:!0})),h.addEventListener(p,"mousedown",this.mousedown),h.addEventListener(p,"touchstart",this.touchstart,{passive:!1}),h.addEventListener(p,"touchcancel",this.reset)}startMouse(c,p){this.mouseRotate.dragStart(c,p),this.mousePitch&&this.mousePitch.dragStart(c,p),h.disableDrag()}startTouch(c,p){this.touchRotate.dragStart(c,p),this.touchPitch&&this.touchPitch.dragStart(c,p),h.disableDrag()}moveMouse(c,p){const v=this.map,{bearingDelta:_}=this.mouseRotate.dragMove(c,p)||{};if(_&&v.setBearing(v.getBearing()+_),this.mousePitch){const{pitchDelta:k}=this.mousePitch.dragMove(c,p)||{};k&&v.setPitch(v.getPitch()+k)}}moveTouch(c,p){const v=this.map,{bearingDelta:_}=this.touchRotate.dragMove(c,p)||{};if(_&&v.setBearing(v.getBearing()+_),this.touchPitch){const{pitchDelta:k}=this.touchPitch.dragMove(c,p)||{};k&&v.setPitch(v.getPitch()+k)}}off(){const c=this.element;h.removeEventListener(c,"mousedown",this.mousedown),h.removeEventListener(c,"touchstart",this.touchstart,{passive:!1}),h.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),h.removeEventListener(window,"touchend",this.touchend),h.removeEventListener(c,"touchcancel",this.reset),this.offTemp()}offTemp(){h.enableDrag(),h.removeEventListener(window,"mousemove",this.mousemove),h.removeEventListener(window,"mouseup",this.mouseup),h.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),h.removeEventListener(window,"touchend",this.touchend)}}let li;function Ay(S,c,p){if(S=new a.L(S.lng,S.lat),c){const v=new a.L(S.lng-360,S.lat),_=new a.L(S.lng+360,S.lat),k=p.locationPoint(S).distSqr(c);p.locationPoint(v).distSqr(c)<k?S=v:p.locationPoint(_).distSqr(c)<k&&(S=_)}for(;Math.abs(S.lng-p.center.lng)>180;){const v=p.locationPoint(S);if(v.x>=0&&v.y>=0&&v.x<=p.width&&v.y<=p.height)break;S.lng>p.center.lng?S.lng-=360:S.lng+=360}return S}const wa={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function m_(S,c,p){const v=S.classList;for(const _ in wa)v.remove(`maplibregl-${p}-anchor-${_}`);v.add(`maplibregl-${p}-anchor-${c}`)}class Ec extends a.E{constructor(c){if(super(),this._onKeyPress=p=>{const v=p.code,_=p.charCode||p.keyCode;v!=="Space"&&v!=="Enter"&&_!==32&&_!==13||this.togglePopup()},this._onMapClick=p=>{const v=p.originalEvent.target,_=this._element;this._popup&&(v===_||_.contains(v))&&this.togglePopup()},this._update=p=>{if(!this._map)return;const v=this._map.loaded()&&!this._map.isMoving();((p==null?void 0:p.type)==="terrain"||(p==null?void 0:p.type)==="render"&&!v)&&this._map.once("render",this._update),this._map.transform.renderWorldCopies&&(this._lngLat=Ay(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let _="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?_=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(_=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let k="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?k="rotateX(0deg)":this._pitchAlignment==="map"&&(k=`rotateX(${this._map.getPitch()}deg)`),p&&p.type!=="moveend"||(this._pos=this._pos.round()),h.setTransform(this._element,`${wa[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${k} ${_}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const N=this._map.unproject(this._pos),z=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=N.distanceTo(this._lngLat)>20*z?"0.2":"1.0",this._opacityTimeout=null},100))},this._onMove=p=>{if(!this._isDragging){const v=this._clickTolerance||this._map._clickTolerance;this._isDragging=p.point.dist(this._pointerdownPos)>=v}this._isDragging&&(this._pos=p.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.k("dragstart"))),this.fire(new a.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.k("dragend")),this._state="inactive"},this._addDragHandler=p=>{this._element.contains(p.originalEvent.target)&&(p.preventDefault(),this._positionDelta=p.point.sub(this._pos).add(this._offset),this._pointerdownPos=p.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=c&&c.anchor||"center",this._color=c&&c.color||"#3FB1CE",this._scale=c&&c.scale||1,this._draggable=c&&c.draggable||!1,this._clickTolerance=c&&c.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=c&&c.rotation||0,this._rotationAlignment=c&&c.rotationAlignment||"auto",this._pitchAlignment=c&&c.pitchAlignment&&c.pitchAlignment!=="auto"?c.pitchAlignment:this._rotationAlignment,c&&c.element)this._element=c.element,this._offset=a.P.convert(c&&c.offset||[0,0]);else{this._defaultMarker=!0,this._element=h.create("div"),this._element.setAttribute("aria-label","Map marker");const p=h.createNS("http://www.w3.org/2000/svg","svg"),v=41,_=27;p.setAttributeNS(null,"display","block"),p.setAttributeNS(null,"height",`${v}px`),p.setAttributeNS(null,"width",`${_}px`),p.setAttributeNS(null,"viewBox",`0 0 ${_} ${v}`);const k=h.createNS("http://www.w3.org/2000/svg","g");k.setAttributeNS(null,"stroke","none"),k.setAttributeNS(null,"stroke-width","1"),k.setAttributeNS(null,"fill","none"),k.setAttributeNS(null,"fill-rule","evenodd");const N=h.createNS("http://www.w3.org/2000/svg","g");N.setAttributeNS(null,"fill-rule","nonzero");const z=h.createNS("http://www.w3.org/2000/svg","g");z.setAttributeNS(null,"transform","translate(3.0, 29.0)"),z.setAttributeNS(null,"fill","#000000");const V=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const Ie of V){const Ue=h.createNS("http://www.w3.org/2000/svg","ellipse");Ue.setAttributeNS(null,"opacity","0.04"),Ue.setAttributeNS(null,"cx","10.5"),Ue.setAttributeNS(null,"cy","5.80029008"),Ue.setAttributeNS(null,"rx",Ie.rx),Ue.setAttributeNS(null,"ry",Ie.ry),z.appendChild(Ue)}const H=h.createNS("http://www.w3.org/2000/svg","g");H.setAttributeNS(null,"fill",this._color);const Y=h.createNS("http://www.w3.org/2000/svg","path");Y.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),H.appendChild(Y);const Z=h.createNS("http://www.w3.org/2000/svg","g");Z.setAttributeNS(null,"opacity","0.25"),Z.setAttributeNS(null,"fill","#000000");const ie=h.createNS("http://www.w3.org/2000/svg","path");ie.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Z.appendChild(ie);const ge=h.createNS("http://www.w3.org/2000/svg","g");ge.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ge.setAttributeNS(null,"fill","#FFFFFF");const me=h.createNS("http://www.w3.org/2000/svg","g");me.setAttributeNS(null,"transform","translate(8.0, 8.0)");const xe=h.createNS("http://www.w3.org/2000/svg","circle");xe.setAttributeNS(null,"fill","#000000"),xe.setAttributeNS(null,"opacity","0.25"),xe.setAttributeNS(null,"cx","5.5"),xe.setAttributeNS(null,"cy","5.5"),xe.setAttributeNS(null,"r","5.4999962");const fe=h.createNS("http://www.w3.org/2000/svg","circle");fe.setAttributeNS(null,"fill","#FFFFFF"),fe.setAttributeNS(null,"cx","5.5"),fe.setAttributeNS(null,"cy","5.5"),fe.setAttributeNS(null,"r","5.4999962"),me.appendChild(xe),me.appendChild(fe),N.appendChild(z),N.appendChild(H),N.appendChild(Z),N.appendChild(ge),N.appendChild(me),p.appendChild(N),p.setAttributeNS(null,"height",v*this._scale+"px"),p.setAttributeNS(null,"width",_*this._scale+"px"),this._element.appendChild(p),this._offset=a.P.convert(c&&c.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",p=>{p.preventDefault()}),this._element.addEventListener("mousedown",p=>{p.preventDefault()}),m_(this._element,this._anchor,"marker"),c&&c.className)for(const p of c.className.split(" "))this._element.classList.add(p);this._popup=null}addTo(c){return this.remove(),this._map=c,c.getCanvasContainer().appendChild(this._element),c.on("move",this._update),c.on("moveend",this._update),c.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),h.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(c){return this._lngLat=a.L.convert(c),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(c){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),c){if(!("offset"in c.options)){const _=Math.abs(13.5)/Math.SQRT2;c.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[_,-1*(38.1-13.5+_)],"bottom-right":[-_,-1*(38.1-13.5+_)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=c,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const c=this._popup;return c?(c.isOpen()?c.remove():c.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(c){return this._offset=a.P.convert(c),this._update(),this}addClassName(c){this._element.classList.add(c)}removeClassName(c){this._element.classList.remove(c)}toggleClassName(c){return this._element.classList.toggle(c)}setDraggable(c){return this._draggable=!!c,this._map&&(c?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(c){return this._rotation=c||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(c){return this._rotationAlignment=c||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(c){return this._pitchAlignment=c&&c!=="auto"?c:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const Wr={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Lr=0,Vu=!1;const bf={maxWidth:100,unit:"metric"};function xf(S,c,p){const v=p&&p.maxWidth||100,_=S._container.clientHeight/2,k=S.unproject([0,_]),N=S.unproject([v,_]),z=k.distanceTo(N);if(p&&p.unit==="imperial"){const V=3.2808*z;V>5280?Pc(c,v,V/5280,S._getUIString("ScaleControl.Miles")):Pc(c,v,V,S._getUIString("ScaleControl.Feet"))}else p&&p.unit==="nautical"?Pc(c,v,z/1852,S._getUIString("ScaleControl.NauticalMiles")):z>=1e3?Pc(c,v,z/1e3,S._getUIString("ScaleControl.Kilometers")):Pc(c,v,z,S._getUIString("ScaleControl.Meters"))}function Pc(S,c,p,v){const _=function(k){const N=Math.pow(10,`${Math.floor(k)}`.length-1);let z=k/N;return z=z>=10?10:z>=5?5:z>=3?3:z>=2?2:z>=1?1:function(V){const H=Math.pow(10,Math.ceil(-Math.log(V)/Math.LN10));return Math.round(V*H)/H}(z),N*z}(p);S.style.width=c*(_/p)+"px",S.innerHTML=`${_}&nbsp;${v}`}const Iy={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},$y=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Wu(S){if(S){if(typeof S=="number"){const c=Math.round(Math.abs(S)/Math.SQRT2);return{center:new a.P(0,0),top:new a.P(0,S),"top-left":new a.P(c,c),"top-right":new a.P(-c,c),bottom:new a.P(0,-S),"bottom-left":new a.P(c,-c),"bottom-right":new a.P(-c,-c),left:new a.P(S,0),right:new a.P(-S,0)}}if(S instanceof a.P||Array.isArray(S)){const c=a.P.convert(S);return{center:c,top:c,"top-left":c,"top-right":c,bottom:c,"bottom-left":c,"bottom-right":c,left:c,right:c}}return{center:a.P.convert(S.center||[0,0]),top:a.P.convert(S.top||[0,0]),"top-left":a.P.convert(S["top-left"]||[0,0]),"top-right":a.P.convert(S["top-right"]||[0,0]),bottom:a.P.convert(S.bottom||[0,0]),"bottom-left":a.P.convert(S["bottom-left"]||[0,0]),"bottom-right":a.P.convert(S["bottom-right"]||[0,0]),left:a.P.convert(S.left||[0,0]),right:a.P.convert(S.right||[0,0])}}return Wu(new a.P(0,0))}const Ry={extend:(S,...c)=>a.e(S,...c),run(S){S()},logToElement(S,c=!1,p="log"){const v=window.document.getElementById(p);v&&(c&&(v.innerHTML=""),v.innerHTML+=`<br>${S}`)}},Dy=f;class Gn{static get version(){return Dy}static get workerCount(){return Un.workerCount}static set workerCount(c){Un.workerCount=c}static get maxParallelImageRequests(){return a.c.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(c){a.c.MAX_PARALLEL_IMAGE_REQUESTS=c}static get workerUrl(){return a.c.WORKER_URL}static set workerUrl(c){a.c.WORKER_URL=c}static addProtocol(c,p){a.c.REGISTERED_PROTOCOLS[c]=p}static removeProtocol(c){delete a.c.REGISTERED_PROTOCOLS[c]}}return Gn.Map=class extends d_{constructor(S){if(a.bg.mark(a.bh.create),(S=a.e({},un,S)).minZoom!=null&&S.maxZoom!=null&&S.minZoom>S.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(S.minPitch!=null&&S.maxPitch!=null&&S.minPitch>S.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(S.minPitch!=null&&S.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(S.maxPitch!=null&&S.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new tp(S.minZoom,S.maxZoom,S.minPitch,S.maxPitch,S.renderWorldCopies),{bearingSnap:S.bearingSnap}),this._cooperativeGesturesOnWheel=c=>{this._onCooperativeGesture(c,c[this._metaKey],1)},this._contextLost=c=>{c.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.k("webglcontextlost",{originalEvent:c}))},this._contextRestored=c=>{this._setupPainter(),this.resize(),this._update(),this.fire(new a.k("webglcontextrestored",{originalEvent:c}))},this._onMapScroll=c=>{if(c.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=S.interactive,this._cooperativeGestures=S.cooperativeGestures,this._metaKey=navigator.platform.indexOf("Mac")===0?"metaKey":"ctrlKey",this._maxTileCacheSize=S.maxTileCacheSize,this._maxTileCacheZoomLevels=S.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=S.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=S.preserveDrawingBuffer,this._antialias=S.antialias,this._trackResize=S.trackResize,this._bearingSnap=S.bearingSnap,this._refreshExpiredTiles=S.refreshExpiredTiles,this._fadeDuration=S.fadeDuration,this._crossSourceCollisions=S.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=S.collectResourceTiming,this._renderTaskQueue=new op,this._controls=[],this._mapId=a.a2(),this._locale=a.e({},Py,S.locale),this._clickTolerance=S.clickTolerance,this._overridePixelRatio=S.pixelRatio,this._maxCanvasSize=S.maxCanvasSize,this.transformCameraUpdate=S.transformCameraUpdate,this._imageQueueHandle=M.addThrottleControl(()=>this.isMoving()),this._requestManager=new O(S.transformRequest),typeof S.container=="string"){if(this._container=document.getElementById(S.container),!this._container)throw new Error(`Container '${S.container}' not found.`)}else{if(!(S.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=S.container}if(S.maxBounds&&this.setMaxBounds(S.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let c=!1;const p=Tc(v=>{this._trackResize&&!this._removed&&this.resize(v)._update()},50);this._resizeObserver=new ResizeObserver(v=>{c?p(v):c=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Ey(this,S),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=S.hash&&new hf(typeof S.hash=="string"&&S.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:S.center,zoom:S.zoom,bearing:S.bearing,pitch:S.pitch}),S.bounds&&(this.resize(),this.fitBounds(S.bounds,a.e({},S.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=S.localIdeographFontFamily,this._validateStyle=S.validateStyle,S.style&&this.setStyle(S.style,{localIdeographFontFamily:S.localIdeographFontFamily}),S.attributionControl&&this.addControl(new Qo({customAttribution:S.customAttribution})),S.maplibreLogo&&this.addControl(new Cr,S.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",c=>{this._update(c.dataType==="style"),this.fire(new a.k(`${c.dataType}data`,c))}),this.on("dataloading",c=>{this.fire(new a.k(`${c.dataType}dataloading`,c))}),this.on("dataabort",c=>{this.fire(new a.k("sourcedataabort",c))})}_getMapId(){return this._mapId}addControl(S,c){if(c===void 0&&(c=S.getDefaultPosition?S.getDefaultPosition():"top-right"),!S||!S.onAdd)return this.fire(new a.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const p=S.onAdd(this);this._controls.push(S);const v=this._controlPositions[c];return c.indexOf("bottom")!==-1?v.insertBefore(p,v.firstChild):v.appendChild(p),this}removeControl(S){if(!S||!S.onRemove)return this.fire(new a.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const c=this._controls.indexOf(S);return c>-1&&this._controls.splice(c,1),S.onRemove(this),this}hasControl(S){return this._controls.indexOf(S)>-1}calculateCameraOptionsFromTo(S,c,p,v){return v==null&&this.terrain&&(v=this.terrain.getElevationForLngLatZoom(p,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(S,c,p,v)}resize(S){var c;const p=this._containerDimensions(),v=p[0],_=p[1],k=this._getClampedPixelRatio(v,_);if(this._resizeCanvas(v,_,k),this.painter.resize(v,_,k),this.painter.overLimit()){const z=this.painter.context.gl;this._maxCanvasSize=[z.drawingBufferWidth,z.drawingBufferHeight];const V=this._getClampedPixelRatio(v,_);this._resizeCanvas(v,_,V),this.painter.resize(v,_,V)}this.transform.resize(v,_),(c=this._requestedCameraState)===null||c===void 0||c.resize(v,_);const N=!this._moving;return N&&(this.stop(),this.fire(new a.k("movestart",S)).fire(new a.k("move",S))),this.fire(new a.k("resize",S)),N&&this.fire(new a.k("moveend",S)),this}_getClampedPixelRatio(S,c){const{0:p,1:v}=this._maxCanvasSize,_=this.getPixelRatio(),k=S*_,N=c*_;return Math.min(k>p?p/k:1,N>v?v/N:1)*_}getPixelRatio(){var S;return(S=this._overridePixelRatio)!==null&&S!==void 0?S:devicePixelRatio}setPixelRatio(S){this._overridePixelRatio=S,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(S){return this.transform.setMaxBounds(Fe.convert(S)),this._update()}setMinZoom(S){if((S=S??-2)>=-2&&S<=this.transform.maxZoom)return this.transform.minZoom=S,this._update(),this.getZoom()<S&&this.setZoom(S),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(S){if((S=S??22)>=this.transform.minZoom)return this.transform.maxZoom=S,this._update(),this.getZoom()>S&&this.setZoom(S),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(S){if((S=S??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(S>=0&&S<=this.transform.maxPitch)return this.transform.minPitch=S,this._update(),this.getPitch()<S&&this.setPitch(S),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(S){if((S=S??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(S>=this.transform.minPitch)return this.transform.maxPitch=S,this._update(),this.getPitch()>S&&this.setPitch(S),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(S){return this.transform.renderWorldCopies=S,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(S){return this._cooperativeGestures=S,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(S){return this.transform.locationPoint(a.L.convert(S),this.style&&this.terrain)}unproject(S){return this.transform.pointLocation(a.P.convert(S),this.terrain)}isMoving(){var S;return this._moving||((S=this.handlers)===null||S===void 0?void 0:S.isMoving())}isZooming(){var S;return this._zooming||((S=this.handlers)===null||S===void 0?void 0:S.isZooming())}isRotating(){var S;return this._rotating||((S=this.handlers)===null||S===void 0?void 0:S.isRotating())}_createDelegatedListener(S,c,p){if(S==="mouseenter"||S==="mouseover"){let v=!1;return{layer:c,listener:p,delegates:{mousemove:k=>{const N=this.getLayer(c)?this.queryRenderedFeatures(k.point,{layers:[c]}):[];N.length?v||(v=!0,p.call(this,new Jo(S,this,k.originalEvent,{features:N}))):v=!1},mouseout:()=>{v=!1}}}}if(S==="mouseleave"||S==="mouseout"){let v=!1;return{layer:c,listener:p,delegates:{mousemove:N=>{(this.getLayer(c)?this.queryRenderedFeatures(N.point,{layers:[c]}):[]).length?v=!0:v&&(v=!1,p.call(this,new Jo(S,this,N.originalEvent)))},mouseout:N=>{v&&(v=!1,p.call(this,new Jo(S,this,N.originalEvent)))}}}}{const v=_=>{const k=this.getLayer(c)?this.queryRenderedFeatures(_.point,{layers:[c]}):[];k.length&&(_.features=k,p.call(this,_),delete _.features)};return{layer:c,listener:p,delegates:{[S]:v}}}}on(S,c,p){if(p===void 0)return super.on(S,c);const v=this._createDelegatedListener(S,c,p);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[S]=this._delegatedListeners[S]||[],this._delegatedListeners[S].push(v);for(const _ in v.delegates)this.on(_,v.delegates[_]);return this}once(S,c,p){if(p===void 0)return super.once(S,c);const v=this._createDelegatedListener(S,c,p);for(const _ in v.delegates)this.once(_,v.delegates[_]);return this}off(S,c,p){return p===void 0?super.off(S,c):(this._delegatedListeners&&this._delegatedListeners[S]&&(v=>{const _=this._delegatedListeners[S];for(let k=0;k<_.length;k++){const N=_[k];if(N.layer===c&&N.listener===p){for(const z in N.delegates)this.off(z,N.delegates[z]);return _.splice(k,1),this}}})(),this)}queryRenderedFeatures(S,c){if(!this.style)return[];let p;const v=S instanceof a.P||Array.isArray(S),_=v?S:[[0,0],[this.transform.width,this.transform.height]];if(c=c||(v?{}:S)||{},_ instanceof a.P||typeof _[0]=="number")p=[a.P.convert(_)];else{const k=a.P.convert(_[0]),N=a.P.convert(_[1]);p=[k,new a.P(N.x,k.y),N,new a.P(k.x,N.y),k]}return this.style.queryRenderedFeatures(p,c,this.transform)}querySourceFeatures(S,c){return this.style.querySourceFeatures(S,c)}setStyle(S,c){return(c=a.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},c)).diff!==!1&&c.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&S?(this._diffStyle(S,c),this):(this._localIdeographFontFamily=c.localIdeographFontFamily,this._updateStyle(S,c))}setTransformRequest(S){return this._requestManager.setTransformRequest(S),this}_getUIString(S){const c=this._locale[S];if(c==null)throw new Error(`Missing UI string '${S}'`);return c}_updateStyle(S,c){if(c.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(S,c));const p=this.style&&c.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!S)),S?(this.style=new Fi(this,c||{}),this.style.setEventedParent(this,{style:this.style}),typeof S=="string"?this.style.loadURL(S,c,p):this.style.loadJSON(S,c,p),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Fi(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(S,c){if(typeof S=="string"){const p=this._requestManager.transformRequest(S,A.Style);a.f(p,(v,_)=>{v?this.fire(new a.j(v)):_&&this._updateDiff(_,c)})}else typeof S=="object"&&this._updateDiff(S,c)}_updateDiff(S,c){try{this.style.setState(S,c)&&this._update(!0)}catch(p){a.w(`Unable to perform style diff: ${p.message||p.error||p}.  Rebuilding the style from scratch.`),this._updateStyle(S,c)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():a.w("There is no style added to the map.")}addSource(S,c){return this._lazyInitEmptyStyle(),this.style.addSource(S,c),this._update(!0)}isSourceLoaded(S){const c=this.style&&this.style.sourceCaches[S];if(c!==void 0)return c.loaded();this.fire(new a.j(new Error(`There is no source with ID '${S}'`)))}setTerrain(S){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),S){const c=this.style.sourceCaches[S.source];if(!c)throw new Error(`cannot load terrain, because there exists no source with ID: ${S.source}`);for(const p in this.style._layers){const v=this.style._layers[p];v.type==="hillshade"&&v.source===S.source&&a.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new p_(this.painter,c,S),this.painter.renderToTexture=new ap(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=p=>{p.dataType==="style"?this.terrain.sourceCache.freeRtt():p.dataType==="source"&&p.tile&&(p.sourceId!==S.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(p.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new a.k("terrain",{terrain:S})),this}getTerrain(){var S,c;return(c=(S=this.terrain)===null||S===void 0?void 0:S.options)!==null&&c!==void 0?c:null}areTilesLoaded(){const S=this.style&&this.style.sourceCaches;for(const c in S){const p=S[c]._tiles;for(const v in p){const _=p[v];if(_.state!=="loaded"&&_.state!=="errored")return!1}}return!0}addSourceType(S,c,p){return this._lazyInitEmptyStyle(),this.style.addSourceType(S,c,p)}removeSource(S){return this.style.removeSource(S),this._update(!0)}getSource(S){return this.style.getSource(S)}addImage(S,c,p={}){const{pixelRatio:v=1,sdf:_=!1,stretchX:k,stretchY:N,content:z}=p;if(this._lazyInitEmptyStyle(),!(c instanceof HTMLImageElement||a.a(c))){if(c.width===void 0||c.height===void 0)return this.fire(new a.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:V,height:H,data:Y}=c,Z=c;return this.style.addImage(S,{data:new a.R({width:V,height:H},new Uint8Array(Y)),pixelRatio:v,stretchX:k,stretchY:N,content:z,sdf:_,version:0,userImage:Z}),Z.onAdd&&Z.onAdd(this,S),this}}{const{width:V,height:H,data:Y}=a.h.getImageData(c);this.style.addImage(S,{data:new a.R({width:V,height:H},Y),pixelRatio:v,stretchX:k,stretchY:N,content:z,sdf:_,version:0})}}updateImage(S,c){const p=this.style.getImage(S);if(!p)return this.fire(new a.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const v=c instanceof HTMLImageElement||a.a(c)?a.h.getImageData(c):c,{width:_,height:k,data:N}=v;if(_===void 0||k===void 0)return this.fire(new a.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(_!==p.data.width||k!==p.data.height)return this.fire(new a.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const z=!(c instanceof HTMLImageElement||a.a(c));return p.data.replace(N,z),this.style.updateImage(S,p),this}getImage(S){return this.style.getImage(S)}hasImage(S){return S?!!this.style.getImage(S):(this.fire(new a.j(new Error("Missing required image id"))),!1)}removeImage(S){this.style.removeImage(S)}loadImage(S,c){M.getImage(this._requestManager.transformRequest(S,A.Image),c)}listImages(){return this.style.listImages()}addLayer(S,c){return this._lazyInitEmptyStyle(),this.style.addLayer(S,c),this._update(!0)}moveLayer(S,c){return this.style.moveLayer(S,c),this._update(!0)}removeLayer(S){return this.style.removeLayer(S),this._update(!0)}getLayer(S){return this.style.getLayer(S)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(S,c,p){return this.style.setLayerZoomRange(S,c,p),this._update(!0)}setFilter(S,c,p={}){return this.style.setFilter(S,c,p),this._update(!0)}getFilter(S){return this.style.getFilter(S)}setPaintProperty(S,c,p,v={}){return this.style.setPaintProperty(S,c,p,v),this._update(!0)}getPaintProperty(S,c){return this.style.getPaintProperty(S,c)}setLayoutProperty(S,c,p,v={}){return this.style.setLayoutProperty(S,c,p,v),this._update(!0)}getLayoutProperty(S,c){return this.style.getLayoutProperty(S,c)}setGlyphs(S,c={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(S,c),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(S,c,p={}){return this._lazyInitEmptyStyle(),this.style.addSprite(S,c,p,v=>{v||this._update(!0)}),this}removeSprite(S){return this._lazyInitEmptyStyle(),this.style.removeSprite(S),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(S,c={}){return this._lazyInitEmptyStyle(),this.style.setSprite(S,c,p=>{p||this._update(!0)}),this}setLight(S,c={}){return this._lazyInitEmptyStyle(),this.style.setLight(S,c),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(S,c){return this.style.setFeatureState(S,c),this._update()}removeFeatureState(S,c){return this.style.removeFeatureState(S,c),this._update()}getFeatureState(S){return this.style.getFeatureState(S)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let S=0,c=0;return this._container&&(S=this._container.clientWidth||400,c=this._container.clientHeight||300),[S,c]}_setupContainer(){const S=this._container;S.classList.add("maplibregl-map");const c=this._canvasContainer=h.create("div","maplibregl-canvas-container",S);this._interactive&&c.classList.add("maplibregl-interactive"),this._canvas=h.create("canvas","maplibregl-canvas",c),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const p=this._containerDimensions(),v=this._getClampedPixelRatio(p[0],p[1]);this._resizeCanvas(p[0],p[1],v);const _=this._controlContainer=h.create("div","maplibregl-control-container",S),k=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(N=>{k[N]=h.create("div",`maplibregl-ctrl-${N} `,_)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=h.create("div","maplibregl-cooperative-gesture-screen",this._container);let S=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(S=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use  + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${S}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){h.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(S,c,p){this._canvas.width=Math.floor(p*S),this._canvas.height=Math.floor(p*c),this._canvas.style.width=`${S}px`,this._canvas.style.height=`${c}px`}_setupPainter(){const S={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let c=null;this._canvas.addEventListener("webglcontextcreationerror",v=>{c={requestedAttributes:S},v&&(c.statusMessage=v.statusMessage,c.type=v.type)},{once:!0});const p=this._canvas.getContext("webgl2",S)||this._canvas.getContext("webgl",S);if(!p){const v="Failed to initialize WebGL";throw c?(c.message=v,new Error(JSON.stringify(c))):new Error(v)}this.painter=new kc(p,this.transform),g.testSupport(p)}_onCooperativeGesture(S,c,p){return!c&&p<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(S){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||S,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(S){return this._update(),this._renderTaskQueue.add(S)}_cancelRenderFrame(S){this._renderTaskQueue.remove(S)}_render(S){const c=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(S),this._removed)return;let p=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const _=this.transform.zoom,k=a.h.now();this.style.zoomHistory.update(_,k);const N=new a.a8(_,{now:k,fadeDuration:c,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),z=N.crossFadingFactor();z===1&&z===this._crossFadingFactor||(p=!0,this._crossFadingFactor=z),this.style.update(N)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,c,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:c,showPadding:this.showPadding}),this.fire(new a.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.bg.mark(a.bh.load),this.fire(new a.k("load"))),this.style&&(this.style.hasTransitions()||p)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const v=this._sourcesDirty||this._styleDirty||this._placementDirty;return v||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.k("idle")),!this._loaded||this._fullyLoaded||v||(this._fullyLoaded=!0,a.bg.mark(a.bh.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var S;this._hash&&this._hash.remove();for(const p of this._controls)p.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),M.removeThrottleControl(this._imageQueueHandle),(S=this._resizeObserver)===null||S===void 0||S.disconnect();const c=this.painter.context.gl.getExtension("WEBGL_lose_context");c&&c.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),h.remove(this._canvasContainer),h.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),a.bg.clearMetrics(),this._removed=!0,this.fire(new a.k("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=a.h.frame(S=>{a.bg.frame(S),this._frame=null,this._render(S)}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(S){this._showTileBoundaries!==S&&(this._showTileBoundaries=S,this._update())}get showPadding(){return!!this._showPadding}set showPadding(S){this._showPadding!==S&&(this._showPadding=S,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(S){this._showCollisionBoxes!==S&&(this._showCollisionBoxes=S,S?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(S){this._showOverdrawInspector!==S&&(this._showOverdrawInspector=S,this._update())}get repaint(){return!!this._repaint}set repaint(S){this._repaint!==S&&(this._repaint=S,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(S){this._vertices=S,this._update()}get version(){return Ht}getCameraTargetElevation(){return this.transform.elevation}},Gn.NavigationControl=class{constructor(S){this._updateZoomButtons=()=>{const c=this._map.getZoom(),p=c===this._map.getMaxZoom(),v=c===this._map.getMinZoom();this._zoomInButton.disabled=p,this._zoomOutButton.disabled=v,this._zoomInButton.setAttribute("aria-disabled",p.toString()),this._zoomOutButton.setAttribute("aria-disabled",v.toString())},this._rotateCompassArrow=()=>{const c=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=c},this._setButtonTitle=(c,p)=>{const v=this._map._getUIString(`NavigationControl.${p}`);c.title=v,c.setAttribute("aria-label",v)},this.options=a.e({},Oy,S),this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",c=>c.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",c=>this._map.zoomIn({},{originalEvent:c})),h.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",c=>this._map.zoomOut({},{originalEvent:c})),h.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",c=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:c}):this._map.resetNorth({},{originalEvent:c})}),this._compassIcon=h.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(S){return this._map=S,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new My(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){h.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(S,c){const p=h.create("button",S,this._container);return p.type="button",p.addEventListener("click",c),p}},Gn.GeolocateControl=class extends a.E{constructor(S){super(),this._onSuccess=c=>{if(this._map){if(this._isOutOfMapMaxBounds(c))return this._setErrorState(),this.fire(new a.k("outofmaxbounds",c)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=c,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(c),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(c),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new a.k("geolocate",c)),this._finish()}},this._updateCamera=c=>{const p=new a.L(c.coords.longitude,c.coords.latitude),v=c.coords.accuracy,_=this._map.getBearing(),k=a.e({bearing:_},this.options.fitBoundsOptions),N=Fe.fromLngLat(p,v);this._map.fitBounds(N,k,{geolocateSource:!0})},this._updateMarker=c=>{if(c){const p=new a.L(c.coords.longitude,c.coords.latitude);this._accuracyCircleMarker.setLngLat(p).addTo(this._map),this._userLocationDotMarker.setLngLat(p).addTo(this._map),this._accuracy=c.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=c=>{if(this._map){if(this.options.trackUserLocation)if(c.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(c.code===3&&Vu)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new a.k("error",c)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=c=>{if(this._map){if(this._container.addEventListener("contextmenu",p=>p.preventDefault()),this._geolocateButton=h.create("button","maplibregl-ctrl-geolocate",this._container),h.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",c===!1){a.w("Geolocation support is not available so the GeolocateControl will be disabled.");const p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}else{const p=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=h.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Ec({element:this._dotElement}),this._circleElement=h.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Ec({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",p=>{p.geolocateSource||this._watchState!=="ACTIVE_LOCK"||p.originalEvent&&p.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new a.k("trackuserlocationend")))})}},this.options=a.e({},Wr,S)}onAdd(S){return this._map=S,this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(c,p=!1){li===void 0||p?window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(v=>{li=v.state!=="denied",c(li)}).catch(()=>{li=!!window.navigator.geolocation,c(li)}):(li=!!window.navigator.geolocation,c(li)):c(li)}(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),h.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Lr=0,Vu=!1}_isOutOfMapMaxBounds(S){const c=this._map.getMaxBounds(),p=S.coords;return c&&(p.longitude<c.getWest()||p.longitude>c.getEast()||p.latitude<c.getSouth()||p.latitude>c.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const S=this._map.getBounds(),c=S.getSouthEast(),p=S.getNorthEast(),v=c.distanceTo(p),_=Math.ceil(this._accuracy/(v/this._map._container.clientHeight)*2);this._circleElement.style.width=`${_}px`,this._circleElement.style.height=`${_}px`}trigger(){if(!this._setup)return a.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Lr--,Vu=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new a.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.k("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let S;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Lr++,Lr>1?(S={maximumAge:6e5,timeout:0},Vu=!0):(S=this.options.positionOptions,Vu=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,S)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},Gn.AttributionControl=Qo,Gn.LogoControl=Cr,Gn.ScaleControl=class{constructor(S){this._onMove=()=>{xf(this._map,this._container,this.options)},this.setUnit=c=>{this.options.unit=c,xf(this._map,this._container,this.options)},this.options=a.e({},bf,S)}getDefaultPosition(){return"bottom-left"}onAdd(S){return this._map=S,this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-scale",S.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){h.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},Gn.FullscreenControl=class extends a.E{constructor(S={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,S&&S.container&&(S.container instanceof HTMLElement?this._container=S.container:a.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(S){return this._map=S,this._container||(this._container=this._map.getContainer()),this._controlContainer=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){h.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const S=this._fullscreenButton=h.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);h.create("span","maplibregl-ctrl-icon",S).setAttribute("aria-hidden","true"),S.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const S=this._getTitle();this._fullscreenButton.setAttribute("aria-label",S),this._fullscreenButton.title=S}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new a.k("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new a.k("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},Gn.TerrainControl=class{constructor(S){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=S}onAdd(S){return this._map=S,this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=h.create("button","maplibregl-ctrl-terrain",this._container),h.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){h.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},Gn.Popup=class extends a.E{constructor(S){super(),this.remove=()=>(this._content&&h.remove(this._content),this._container&&(h.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.k("close")),this),this._onMouseUp=c=>{this._update(c.point)},this._onMouseMove=c=>{this._update(c.point)},this._onDrag=c=>{this._update(c.point)},this._update=c=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=h.create("div","maplibregl-popup",this._map.getContainer()),this._tip=h.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const N of this.options.className.split(" "))this._container.classList.add(N);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ay(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!c)return;const p=this._pos=this._trackPointer&&c?c:this._map.project(this._lngLat);let v=this.options.anchor;const _=Wu(this.options.offset);if(!v){const N=this._container.offsetWidth,z=this._container.offsetHeight;let V;V=p.y+_.bottom.y<z?["top"]:p.y>this._map.transform.height-z?["bottom"]:[],p.x<N/2?V.push("left"):p.x>this._map.transform.width-N/2&&V.push("right"),v=V.length===0?"bottom":V.join("-")}const k=p.add(_[v]).round();h.setTransform(this._container,`${wa[v]} translate(${k.x}px,${k.y}px)`),m_(this._container,v,"popup")},this._onClose=()=>{this.remove()},this.options=a.e(Object.create(Iy),S)}addTo(S){return this._map&&this.remove(),this._map=S,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new a.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(S){return this._lngLat=a.L.convert(S),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(S){return this.setDOMContent(document.createTextNode(S))}setHTML(S){const c=document.createDocumentFragment(),p=document.createElement("body");let v;for(p.innerHTML=S;v=p.firstChild,v;)c.appendChild(v);return this.setDOMContent(c)}getMaxWidth(){var S;return(S=this._container)===null||S===void 0?void 0:S.style.maxWidth}setMaxWidth(S){return this.options.maxWidth=S,this._update(),this}setDOMContent(S){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=h.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(S),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(S){this._container&&this._container.classList.add(S)}removeClassName(S){this._container&&this._container.classList.remove(S)}setOffset(S){return this.options.offset=S,this._update(),this}toggleClassName(S){if(this._container)return this._container.classList.toggle(S)}_createCloseButton(){this.options.closeButton&&(this._closeButton=h.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const S=this._container.querySelector($y);S&&S.focus()}},Gn.Marker=Ec,Gn.Style=Fi,Gn.LngLat=a.L,Gn.LngLatBounds=Fe,Gn.Point=a.P,Gn.MercatorCoordinate=a.U,Gn.Evented=a.E,Gn.AJAXError=a.bi,Gn.config=a.c,Gn.CanvasSource=He,Gn.GeoJSONSource=bt,Gn.ImageSource=lt,Gn.RasterDEMTileSource=kt,Gn.RasterTileSource=Je,Gn.VectorTileSource=rt,Gn.VideoSource=ct,Gn.setRTLTextPlugin=a.bj,Gn.getRTLTextPluginStatus=a.bk,Gn.prewarm=function(){Mn().acquire(Rt)},Gn.clearPrewarmedResources=function(){const S=yr;S&&(S.isPreloaded()&&S.numActive()===1?(S.release(Rt),yr=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},Ry.extend(Gn,{isSafari:a.ac,getPerformanceMetrics:a.bg.getPerformanceMetrics}),Gn});var s=i;return s})})(nq);var Dxe=nq.exports;const dx=gr(Dxe);class jxe{constructor(t,n,r){this.onBeforeSwitch=t,this.onSwitch=n,this.onAfterSwitch=r,this.onDocumentClick=this.onDocumentClick.bind(this),this.styles=[],this.currentStyle=null}getDefaultPosition(){return"top-right"}updateStyles(t,n){this.styles=t;let r=null;for(const o of this.styles)if(o.id===(this.currentStyle||n)){r=o.id;break}for(r||(r=this.styles[0].id);this.mapStyleContainer.firstChild;)this.mapStyleContainer.removeChild(this.mapStyleContainer.firstChild);let i;for(const o of this.styles){const s=document.createElement("button");s.type="button",s.innerText=o.title,s.dataset.id=o.id,s.dataset.style=JSON.stringify(o.style),s.addEventListener("click",a=>{const{target:f}=a;f.classList.contains("active")||this.onSelectStyle(f)}),o.id===r&&(i=s,s.classList.add("active")),this.mapStyleContainer.appendChild(s)}this.currentStyle!==r&&(this.onSelectStyle(i),this.currentStyle=r)}onSelectStyle(t){this.onBeforeSwitch();const n=this.styles.find(i=>i.id===t.dataset.id);this.map.setStyle(n.style,{diff:!1}),this.map.setTransformRequest(n.transformRequest),this.onSwitch(t.dataset.id),this.mapStyleContainer.style.display="none",this.styleButton.style.display="block";const r=this.mapStyleContainer.getElementsByClassName("active");for(;r[0];)r[0].classList.remove("active");t.classList.add("active"),this.currentStyle=t.dataset.id,this.onAfterSwitch()}onAdd(t){return this.map=t,this.controlContainer=document.createElement("div"),this.controlContainer.classList.add("maplibregl-ctrl"),this.controlContainer.classList.add("maplibregl-ctrl-group"),this.mapStyleContainer=document.createElement("div"),this.styleButton=document.createElement("button"),this.styleButton.type="button",this.mapStyleContainer.classList.add("maplibregl-style-list"),this.styleButton.classList.add("maplibregl-ctrl-icon"),this.styleButton.classList.add("maplibregl-style-switcher"),this.styleButton.addEventListener("click",()=>{this.styleButton.style.display="none",this.mapStyleContainer.style.display="block"}),document.addEventListener("click",this.onDocumentClick),this.controlContainer.appendChild(this.styleButton),this.controlContainer.appendChild(this.mapStyleContainer),this.controlContainer}onRemove(){!this.controlContainer||!this.controlContainer.parentNode||!this.map||!this.styleButton||(this.styleButton.removeEventListener("click",this.onDocumentClick),this.controlContainer.parentNode.removeChild(this.controlContainer),document.removeEventListener("click",this.onDocumentClick),this.map=void 0)}onDocumentClick(t){this.controlContainer&&!this.controlContainer.contains(t.target)&&this.mapStyleContainer&&this.styleButton&&(this.mapStyleContainer.style.display="none",this.styleButton.style.display="block")}}const iq=(e,t)=>{window.localStorage.setItem(e,JSON.stringify(t))},vP=(e,t)=>{const[n,r]=U.useState(()=>{const i=window.localStorage.getItem(e);return i?JSON.parse(i):t});return U.useEffect(()=>{n!==t?iq(e,n):window.localStorage.removeItem(e)},[e,n]),[n,r]},Ro=({tiles:e,minZoom:t,maxZoom:n,attribution:r})=>{const i={type:"raster",tiles:e,attribution:r,tileSize:256,minzoom:t,maxzoom:n};let o=window.location.origin.slice(0,-5),s=8484;return Object.keys(i).forEach(a=>i[a]===void 0&&delete i[a]),{version:8,sources:{custom:i},glyphs:`${o}:${s}/map/fonts/{fontstack}/{range}.pbf`,layers:[{id:"custom",type:"raster",source:"custom"}]}},Lxe=()=>{const e="mykey",t="pk.0f147952a41c555a5b70614039fd148b",n="mykey",r="mykey",i="mykey",o="mykey";return[{id:"osm",title:"mapOsm",style:Ro({tiles:["https://tile.openstreetmap.org/{z}/{x}/{y}.png"],maxZoom:19,attribution:' <a target="_top" rel="noopener" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),available:!0},{id:"locationIqStreets",title:"mapLocationIqStreets",style:`https://tiles.locationiq.com/v3/streets/vector.json?key=${t}`,available:!0},{id:"locationIqDark",title:"mapLocationIqDark",style:`https://tiles.locationiq.com/v3/dark/vector.json?key=${t}`,available:!0},{id:"openTopoMap",title:"mapOpenTopoMap",style:Ro({tiles:["a","b","c"].map(s=>`https://${s}.tile.opentopomap.org/{z}/{x}/{y}.png`),maxZoom:17}),available:!0},{id:"carto",title:"mapCarto",style:Ro({tiles:["a","b","c","d"].map(s=>`https://${s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}@2x.png`),maxZoom:22,attribution:' <a target="_top" rel="noopener" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors,  <a target="_top" rel="noopener" href="https://carto.com/attribution">CARTO</a>'}),available:!0},{id:"googleRoad",title:"mapGoogleRoad",style:Ro({tiles:[0,1,2,3].map(s=>`https://mt${s}.google.com/vt/lyrs=m&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:" Google"}),available:!0},{id:"googleSatellite",title:"mapGoogleSatellite",style:Ro({tiles:[0,1,2,3].map(s=>`https://mt${s}.google.com/vt/lyrs=s&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:" Google"}),available:!0},{id:"googleHybrid",title:"mapGoogleHybrid",style:Ro({tiles:[0,1,2,3].map(s=>`https://mt${s}.google.com/vt/lyrs=y&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:" Google"}),available:!0},{id:"mapTilerBasic",title:"mapMapTilerBasic",style:`https://api.maptiler.com/maps/basic/style.json?key=${e}`,available:!!e,attribute:"mapTilerKey"},{id:"mapTilerHybrid",title:"mapMapTilerHybrid",style:`https://api.maptiler.com/maps/hybrid/style.json?key=${e}`,available:!!e,attribute:"mapTilerKey"},{id:"bingRoad",title:"mapBingRoad",style:Ro({tiles:[0,1,2,3].map(s=>`https://t${s}.ssl.ak.dynamic.tiles.virtualearth.net/comp/ch/{quadkey}?mkt=en-US&it=G,L&shading=hill&og=1885&n=z`),maxZoom:21}),available:!!n,attribute:"bingMapsKey"},{id:"bingAerial",title:"mapBingAerial",style:Ro({tiles:[0,1,2,3].map(s=>`https://ecn.t${s}.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=12327`),maxZoom:19}),available:!!n,attribute:"bingMapsKey"},{id:"bingHybrid",title:"mapBingHybrid",style:Ro({tiles:[0,1,2,3].map(s=>`https://t${s}.ssl.ak.dynamic.tiles.virtualearth.net/comp/ch/{quadkey}?mkt=en-US&it=A,G,L&og=1885&n=z`),maxZoom:19}),available:!!n,attribute:"bingMapsKey"},{id:"tomTomBasic",title:"mapTomTomBasic",style:`https://api.tomtom.com/map/1/style/20.0.0-8/basic_main.json?key=${r}`,available:!!r,attribute:"tomTomKey"},{id:"hereBasic",title:"mapHereBasic",style:`https://assets.vector.hereapi.com/styles/berlin/base/mapbox/tilezen?apikey=${i}`,available:!!i,attribute:"hereKey"},{id:"hereHybrid",title:"mapHereHybrid",style:Ro({tiles:[1,2,3,4].map(s=>`https://${s}.aerial.maps.ls.hereapi.com/maptile/2.1/maptile/newest/hybrid.day/{z}/{x}/{y}/256/png8?apiKey=${i}`),maxZoom:20}),available:!!i,attribute:"hereKey"},{id:"hereSatellite",title:"mapHereSatellite",style:Ro({tiles:[1,2,3,4].map(s=>`https://${s}.aerial.maps.ls.hereapi.com/maptile/2.1/maptile/newest/satellite.day/{z}/{x}/{y}/256/png8?apiKey=${i}`),maxZoom:19}),available:!!i,attribute:"hereKey"},{id:"autoNavi",title:"mapAutoNavi",style:Ro({tiles:[1,2,3,4].map(s=>`https://webrd0${s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}`),minZoom:3,maxZoom:18}),available:!0},{id:"ordnanceSurvey",title:"mapOrdnanceSurvey",style:"https://api.os.uk/maps/vector/v1/vts/resources/styles?key=EAZ8p83u72FTGiLjLC2MsTAl1ko6XQHC",transformRequest:s=>({url:`${s}&srs=3857`}),available:!0},{id:"mapboxStreets",title:"mapMapboxStreets",style:Ro({tiles:[`https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22}),available:!!o,attribute:"mapboxAccessToken"},{id:"mapboxOutdoors",title:"mapMapboxOutdoors",style:Ro({tiles:[`https://api.mapbox.com/styles/v1/mapbox/outdoors-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22}),available:!!o,attribute:"mapboxAccessToken"},{id:"mapboxSatelliteStreet",title:"mapMapboxSatellite",style:Ro({tiles:[`https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22}),available:!!o,attribute:"mapboxAccessToken"},{id:"custom",title:"mapCustom",style:Ro({tiles:["http://localhost:8080/tile/{z}/{x}/{y}.png"],maxZoom:19}),available:!0}]},Zm=document.createElement("div");Zm.style.width="100%";Zm.style.height="100%";Zm.style.boxSizing="initial";const Le=new dx.Map({container:Zm,attributionControl:!1,zoom:14});let $R=!1;const RR=new Set,Nxe=e=>{RR.add(e),e($R)},zxe=e=>{RR.delete(e)},oq=e=>{$R=e,RR.forEach(t=>t(e))},Bxe=async()=>{$R||(Le.hasImage("background")||(Object.entries(Bc).forEach(([e,t])=>{Le.addImage(e,t,{pixelRatio:window.devicePixelRatio})}),Le.easeTo({center:[-6.0025,37.412],zoom:Math.max(Le.getZoom(),5),offset:[0,-1/2]})),oq(!0))};Le.addControl(new dx.NavigationControl);const aq=new jxe(()=>oq(!1),e=>iq("selectedMapStyle",e),()=>{Le.once("styledata",()=>{const e=()=>{Le.loaded()?Bxe():setTimeout(e,33)};e()})});Le.addControl(aq);const DR=({children:e})=>{const t=U.useRef(null),[n,r]=U.useState(!1),i=Lxe(),o="osm,locationIqStreets,carto,custom",[s]="osm",a="my tocken",f=21;return U.useEffect(()=>{Le.setMaxZoom(f)},[f]),U.useEffect(()=>{dx.accessToken=a},[a]),U.useEffect(()=>{const h=i.filter(y=>y.available&&o.includes(y.id)),g=h.length?h:i.filter(y=>y.id==="osm");aq.updateStyles(g,s)},[i,s]),U.useEffect(()=>{const h=g=>r(g);return Nxe(h),()=>{zxe(h)}},[]),U.useLayoutEffect(()=>{const h=t.current;return h.appendChild(Zm),Le.resize(),()=>{h.removeChild(Zm)}},[t]),$.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},ref:t,children:n&&e})},jR=Symbol.for("yaml.alias"),XM=Symbol.for("yaml.document"),Dd=Symbol.for("yaml.map"),sq=Symbol.for("yaml.pair"),pu=Symbol.for("yaml.scalar"),Pg=Symbol.for("yaml.seq"),Zs=Symbol.for("yaml.node.type"),Eh=e=>!!e&&typeof e=="object"&&e[Zs]===jR,Og=e=>!!e&&typeof e=="object"&&e[Zs]===XM,Mg=e=>!!e&&typeof e=="object"&&e[Zs]===Dd,ai=e=>!!e&&typeof e=="object"&&e[Zs]===sq,Br=e=>!!e&&typeof e=="object"&&e[Zs]===pu,Ag=e=>!!e&&typeof e=="object"&&e[Zs]===Pg;function fi(e){if(e&&typeof e=="object")switch(e[Zs]){case Dd:case Pg:return!0}return!1}function Ri(e){if(e&&typeof e=="object")switch(e[Zs]){case jR:case Dd:case pu:case Pg:return!0}return!1}const Fxe=e=>(Br(e)||fi(e))&&!!e.anchor,Oa=Symbol("break visit"),lq=Symbol("skip children"),cc=Symbol("remove node");function qd(e,t){const n=cq(t);Og(e)?tm(null,e.contents,n,Object.freeze([e]))===cc&&(e.contents=null):tm(null,e,n,Object.freeze([]))}qd.BREAK=Oa;qd.SKIP=lq;qd.REMOVE=cc;function tm(e,t,n,r){const i=uq(e,t,n,r);if(Ri(i)||ai(i))return dq(e,r,i),tm(e,i,n,r);if(typeof i!="symbol"){if(fi(t)){r=Object.freeze(r.concat(t));for(let o=0;o<t.items.length;++o){const s=tm(o,t.items[o],n,r);if(typeof s=="number")o=s-1;else{if(s===Oa)return Oa;s===cc&&(t.items.splice(o,1),o-=1)}}}else if(ai(t)){r=Object.freeze(r.concat(t));const o=tm("key",t.key,n,r);if(o===Oa)return Oa;o===cc&&(t.key=null);const s=tm("value",t.value,n,r);if(s===Oa)return Oa;s===cc&&(t.value=null)}}return i}async function RC(e,t){const n=cq(t);Og(e)?await nm(null,e.contents,n,Object.freeze([e]))===cc&&(e.contents=null):await nm(null,e,n,Object.freeze([]))}RC.BREAK=Oa;RC.SKIP=lq;RC.REMOVE=cc;async function nm(e,t,n,r){const i=await uq(e,t,n,r);if(Ri(i)||ai(i))return dq(e,r,i),nm(e,i,n,r);if(typeof i!="symbol"){if(fi(t)){r=Object.freeze(r.concat(t));for(let o=0;o<t.items.length;++o){const s=await nm(o,t.items[o],n,r);if(typeof s=="number")o=s-1;else{if(s===Oa)return Oa;s===cc&&(t.items.splice(o,1),o-=1)}}}else if(ai(t)){r=Object.freeze(r.concat(t));const o=await nm("key",t.key,n,r);if(o===Oa)return Oa;o===cc&&(t.key=null);const s=await nm("value",t.value,n,r);if(s===Oa)return Oa;s===cc&&(t.value=null)}}return i}function cq(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function uq(e,t,n,r){var i,o,s,a,f;if(typeof n=="function")return n(e,t,r);if(Mg(t))return(i=n.Map)==null?void 0:i.call(n,e,t,r);if(Ag(t))return(o=n.Seq)==null?void 0:o.call(n,e,t,r);if(ai(t))return(s=n.Pair)==null?void 0:s.call(n,e,t,r);if(Br(t))return(a=n.Scalar)==null?void 0:a.call(n,e,t,r);if(Eh(t))return(f=n.Alias)==null?void 0:f.call(n,e,t,r)}function dq(e,t,n){const r=t[t.length-1];if(fi(r))r.items[e]=n;else if(ai(r))e==="key"?r.key=n:r.value=n;else if(Og(r))r.contents=n;else{const i=Eh(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const Uxe={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Vxe=e=>e.replace(/[!,[\]{}]/g,t=>Uxe[t]);class ca{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},ca.defaultYaml,t),this.tags=Object.assign({},ca.defaultTags,n)}clone(){const t=new ca(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new ca(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:ca.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},ca.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:ca.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},ca.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[o,s]=r;return this.tags[o]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[o]=r;if(o==="1.1"||o==="1.2")return this.yaml.version=o,!0;{const s=/^\d+\.\d+$/.test(o);return n(6,`Unsupported YAML version ${o}`,s),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const s=t.slice(2,-1);return s==="!"||s==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),s)}const[,r,i]=t.match(/^(.*!)([^!]*)$/s);i||n(`The ${t} tag has no suffix`);const o=this.tags[r];if(o)try{return o+decodeURIComponent(i)}catch(s){return n(String(s)),null}return r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+Vxe(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let i;if(t&&r.length>0&&Ri(t.contents)){const o={};qd(t.contents,(s,a)=>{Ri(a)&&a.tag&&(o[a.tag]=!0)}),i=Object.keys(o)}else i=[];for(const[o,s]of r)o==="!!"&&s==="tag:yaml.org,2002:"||(!t||i.some(a=>a.startsWith(s)))&&n.push(`%TAG ${o} ${s}`);return n.join(`
`)}}ca.defaultYaml={explicit:!1,version:"1.2"};ca.defaultTags={"!!":"tag:yaml.org,2002:"};function fq(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function hq(e){const t=new Set;return qd(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function pq(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function Wxe(e,t){const n=[],r=new Map;let i=null;return{onAnchor:o=>{n.push(o),i||(i=hq(e));const s=pq(t,i);return i.add(s),s},setAnchors:()=>{for(const o of n){const s=r.get(o);if(typeof s=="object"&&s.anchor&&(Br(s.node)||fi(s.node)))s.node.anchor=s.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=o,a}}},sourceObjects:r}}function rm(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,o=r.length;i<o;++i){const s=r[i],a=rm(e,r,String(i),s);a===void 0?delete r[i]:a!==s&&(r[i]=a)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const o=r.get(i),s=rm(e,r,i,o);s===void 0?r.delete(i):s!==o&&r.set(i,s)}else if(r instanceof Set)for(const i of Array.from(r)){const o=rm(e,r,i,i);o===void 0?r.delete(i):o!==i&&(r.delete(i),r.add(o))}else for(const[i,o]of Object.entries(r)){const s=rm(e,r,i,o);s===void 0?delete r[i]:s!==o&&(r[i]=s)}return e.call(t,n,r)}function Fs(e,t,n){if(Array.isArray(e))return e.map((r,i)=>Fs(r,String(i),n));if(e&&typeof e.toJSON=="function"){if(!n||!Fxe(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=o=>{r.res=o,delete n.onCreate};const i=e.toJSON(t,n);return n.onCreate&&n.onCreate(i),i}return typeof e=="bigint"&&!(n!=null&&n.keep)?Number(e):e}class LR{constructor(t){Object.defineProperty(this,Zs,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:o}={}){if(!Og(t))throw new TypeError("A document argument is required");const s={anchors:new Map,doc:t,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},a=Fs(this,"",s);if(typeof i=="function")for(const{count:f,res:h}of s.anchors.values())i(h,f);return typeof o=="function"?rm(o,{"":a},"",a):a}}class DC extends LR{constructor(t){super(jR),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let n;return qd(t,{Node:(r,i)=>{if(i===this)return qd.BREAK;i.anchor===this.source&&(n=i)}}),n}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:o}=n,s=this.resolve(i);if(!s){const f=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(f)}let a=r.get(s);if(a||(Fs(s,null,n),a=r.get(s)),!a||a.res===void 0){const f="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(f)}if(o>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=iw(i,s,r)),a.count*a.aliasCount>o)){const f="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(f)}return a.res}toString(t,n,r){const i=`*${this.source}`;if(t){if(fq(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const o=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(o)}if(t.implicitKey)return`${i} `}return i}}function iw(e,t,n){if(Eh(t)){const r=t.resolve(e),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(fi(t)){let r=0;for(const i of t.items){const o=iw(e,i,n);o>r&&(r=o)}return r}else if(ai(t)){const r=iw(e,t.key,n),i=iw(e,t.value,n);return Math.max(r,i)}return 1}const mq=e=>!e||typeof e!="function"&&typeof e!="object";class Pn extends LR{constructor(t){super(pu),this.value=t}toJSON(t,n){return n!=null&&n.keep?this.value:Fs(this.value,t,n)}toString(){return String(this.value)}}Pn.BLOCK_FOLDED="BLOCK_FOLDED";Pn.BLOCK_LITERAL="BLOCK_LITERAL";Pn.PLAIN="PLAIN";Pn.QUOTE_DOUBLE="QUOTE_DOUBLE";Pn.QUOTE_SINGLE="QUOTE_SINGLE";const qxe="tag:yaml.org,2002:";function Hxe(e,t,n){if(t){const r=n.filter(o=>o.tag===t),i=r.find(o=>!o.format)??r[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return n.find(r=>{var i;return((i=r.identify)==null?void 0:i.call(r,e))&&!r.format})}function tb(e,t,n){var y,b,E;if(Og(e)&&(e=e.contents),Ri(e))return e;if(ai(e)){const T=(b=(y=n.schema[Dd]).createNode)==null?void 0:b.call(y,n.schema,null,n);return T.items.push(e),T}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:o,schema:s,sourceObjects:a}=n;let f;if(r&&e&&typeof e=="object"){if(f=a.get(e),f)return f.anchor||(f.anchor=i(e)),new DC(f.anchor);f={anchor:null,node:null},a.set(e,f)}t!=null&&t.startsWith("!!")&&(t=qxe+t.slice(2));let h=Hxe(e,t,s.tags);if(!h){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const T=new Pn(e);return f&&(f.node=T),T}h=e instanceof Map?s[Dd]:Symbol.iterator in Object(e)?s[Pg]:s[Dd]}o&&(o(h),delete n.onTagObj);const g=h!=null&&h.createNode?h.createNode(n.schema,e,n):typeof((E=h==null?void 0:h.nodeClass)==null?void 0:E.from)=="function"?h.nodeClass.from(n.schema,e,n):new Pn(e);return t?g.tag=t:h.default||(g.tag=h.tag),f&&(f.node=g),g}function sS(e,t,n){let r=n;for(let i=t.length-1;i>=0;--i){const o=t[i];if(typeof o=="number"&&Number.isInteger(o)&&o>=0){const s=[];s[o]=r,r=s}else r=new Map([[o,r]])}return tb(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const Yv=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class jC extends LR{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>Ri(r)||ai(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(Yv(t))this.add(n);else{const[r,...i]=t,o=this.get(r,!0);if(fi(o))o.addIn(i,n);else if(o===void 0&&this.schema)this.set(r,sS(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(fi(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...i]=t,o=this.get(r,!0);return i.length===0?!n&&Br(o)?o.value:o:fi(o)?o.getIn(i,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!ai(n))return!1;const r=n.value;return r==null||t&&Br(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const i=this.get(n,!0);return fi(i)?i.hasIn(r):!1}setIn(t,n){const[r,...i]=t;if(i.length===0)this.set(r,n);else{const o=this.get(r,!0);if(fi(o))o.setIn(i,n);else if(o===void 0&&this.schema)this.set(r,sS(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}jC.maxFlowStringSingleLineLength=60;const Gxe=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Zc(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const xd=(e,t,n)=>e.endsWith(`
`)?Zc(n,t):n.includes(`
`)?`
`+Zc(n,t):(e.endsWith(" ")?"":" ")+n,gq="flow",JM="block",ow="quoted";function LC(e,t,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:o=20,onFold:s,onOverflow:a}={}){if(!i||i<0)return e;const f=Math.max(1+o,1+i-t.length);if(e.length<=f)return e;const h=[],g={};let y=i-t.length;typeof r=="number"&&(r>i-Math.max(2,o)?h.push(0):y=i-r);let b,E,T=!1,w=-1,M=-1,A=-1;n===JM&&(w=OB(e,w),w!==-1&&(y=w+f));for(let I;I=e[w+=1];){if(n===ow&&I==="\\"){switch(M=w,e[w+1]){case"x":w+=3;break;case"u":w+=5;break;case"U":w+=9;break;default:w+=1}A=w}if(I===`
`)n===JM&&(w=OB(e,w)),y=w+f,b=void 0;else{if(I===" "&&E&&E!==" "&&E!==`
`&&E!=="	"){const L=e[w+1];L&&L!==" "&&L!==`
`&&L!=="	"&&(b=w)}if(w>=y)if(b)h.push(b),y=b+f,b=void 0;else if(n===ow){for(;E===" "||E==="	";)E=I,I=e[w+=1],T=!0;const L=w>A+1?w-2:M-1;if(g[L])return e;h.push(L),g[L]=!0,y=L+f,b=void 0}else T=!0}E=I}if(T&&a&&a(),h.length===0)return e;s&&s();let O=e.slice(0,h[0]);for(let I=0;I<h.length;++I){const L=h[I],R=h[I+1]||e.length;L===0?O=`
${t}${e.slice(0,R)}`:(n===ow&&g[L]&&(O+=`${e[L]}\\`),O+=`
${t}${e.slice(L+1,R)}`)}return O}function OB(e,t){let n=e[t+1];for(;n===" "||n==="	";){do n=e[t+=1];while(n&&n!==`
`);n=e[t+1]}return t}const NC=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),zC=e=>/^(%|---|\.\.\.)/m.test(e);function Yxe(e,t,n){if(!t||t<0)return!1;const r=t-n,i=e.length;if(i<=r)return!1;for(let o=0,s=0;o<i;++o)if(e[o]===`
`){if(o-s>r)return!0;if(s=o+1,i-s<=r)return!1}return!0}function m0(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,i=t.options.doubleQuotedMinMultiLineLength,o=t.indent||(zC(e)?"  ":"");let s="",a=0;for(let f=0,h=n[f];h;h=n[++f])if(h===" "&&n[f+1]==="\\"&&n[f+2]==="n"&&(s+=n.slice(a,f)+"\\ ",f+=1,a=f,h="\\"),h==="\\")switch(n[f+1]){case"u":{s+=n.slice(a,f);const g=n.substr(f+2,4);switch(g){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:g.substr(0,2)==="00"?s+="\\x"+g.substr(2):s+=n.substr(f,6)}f+=5,a=f+1}break;case"n":if(r||n[f+2]==='"'||n.length<i)f+=1;else{for(s+=n.slice(a,f)+`

`;n[f+2]==="\\"&&n[f+3]==="n"&&n[f+4]!=='"';)s+=`
`,f+=2;s+=o,n[f+2]===" "&&(s+="\\"),f+=1,a=f+1}break;default:f+=1}return s=a?s+n.slice(a):n,r?s:LC(s,o,ow,NC(t,!1))}function QM(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return m0(e,t);const n=t.indent||(zC(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:LC(r,n,gq,NC(t,!1))}function im(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=m0;else{const i=e.includes('"'),o=e.includes("'");i&&!o?r=QM:o&&!i?r=m0:r=n?QM:m0}return r(e,t)}let eA;try{eA=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{eA=/\n+(?!\n|$)/g}function aw({comment:e,type:t,value:n},r,i,o){const{blockQuote:s,commentString:a,lineWidth:f}=r.options;if(!s||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return im(n,r);const h=r.indent||(r.forceBlockIndent||zC(n)?"  ":""),g=s==="literal"?!0:s==="folded"||t===Pn.BLOCK_FOLDED?!1:t===Pn.BLOCK_LITERAL?!0:!Yxe(n,f,h.length);if(!n)return g?`|
`:`>
`;let y,b;for(b=n.length;b>0;--b){const D=n[b-1];if(D!==`
`&&D!=="	"&&D!==" ")break}let E=n.substring(b);const T=E.indexOf(`
`);T===-1?y="-":n===E||T!==E.length-1?(y="+",o&&o()):y="",E&&(n=n.slice(0,-E.length),E[E.length-1]===`
`&&(E=E.slice(0,-1)),E=E.replace(eA,`$&${h}`));let w=!1,M,A=-1;for(M=0;M<n.length;++M){const D=n[M];if(D===" ")w=!0;else if(D===`
`)A=M;else break}let O=n.substring(0,A<M?A+1:M);O&&(n=n.substring(O.length),O=O.replace(/\n+/g,`$&${h}`));let L=(g?"|":">")+(w?h?"2":"1":"")+y;if(e&&(L+=" "+a(e.replace(/ ?[\r\n]+/g," ")),i&&i()),g)return n=n.replace(/\n+/g,`$&${h}`),`${L}
${h}${O}${n}${E}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${h}`);const R=LC(`${O}${n}${E}`,h,JM,NC(r,!0));return`${L}
${h}${R}`}function Kxe(e,t,n,r){const{type:i,value:o}=e,{actualString:s,implicitKey:a,indent:f,indentStep:h,inFlow:g}=t;if(a&&o.includes(`
`)||g&&/[[\]{},]/.test(o))return im(o,t);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return a||g||!o.includes(`
`)?im(o,t):aw(e,t,n,r);if(!a&&!g&&i!==Pn.PLAIN&&o.includes(`
`))return aw(e,t,n,r);if(zC(o)){if(f==="")return t.forceBlockIndent=!0,aw(e,t,n,r);if(a&&f===h)return im(o,t)}const y=o.replace(/\n+/g,`$&
${f}`);if(s){const b=w=>{var M;return w.default&&w.tag!=="tag:yaml.org,2002:str"&&((M=w.test)==null?void 0:M.test(y))},{compat:E,tags:T}=t.doc.schema;if(T.some(b)||E!=null&&E.some(b))return im(o,t)}return a?y:LC(y,f,gq,NC(t,!1))}function fx(e,t,n,r){const{implicitKey:i,inFlow:o}=t,s=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==Pn.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(a=Pn.QUOTE_DOUBLE);const f=g=>{switch(g){case Pn.BLOCK_FOLDED:case Pn.BLOCK_LITERAL:return i||o?im(s.value,t):aw(s,t,n,r);case Pn.QUOTE_DOUBLE:return m0(s.value,t);case Pn.QUOTE_SINGLE:return QM(s.value,t);case Pn.PLAIN:return Kxe(s,t,n,r);default:return null}};let h=f(a);if(h===null){const{defaultKeyType:g,defaultStringType:y}=t.options,b=i&&g||y;if(h=f(b),h===null)throw new Error(`Unsupported default string type ${b}`)}return h}function yq(e,t){const n=Object.assign({blockQuote:!0,commentString:Gxe,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function Zxe(e,t){var i;if(t.tag){const o=e.filter(s=>s.tag===t.tag);if(o.length>0)return o.find(s=>s.format===t.format)??o[0]}let n,r;if(Br(t)){r=t.value;const o=e.filter(s=>{var a;return(a=s.identify)==null?void 0:a.call(s,r)});n=o.find(s=>s.format===t.format)??o.find(s=>!s.format)}else r=t,n=e.find(o=>o.nodeClass&&r instanceof o.nodeClass);if(!n){const o=((i=r==null?void 0:r.constructor)==null?void 0:i.name)??typeof r;throw new Error(`Tag not resolved for ${o} value`)}return n}function Xxe(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],o=(Br(e)||fi(e))&&e.anchor;o&&fq(o)&&(n.add(o),i.push(`&${o}`));const s=e.tag?e.tag:t.default?null:t.tag;return s&&i.push(r.directives.tagString(s)),i.join(" ")}function Xm(e,t,n,r){var f;if(ai(e))return e.toString(t,n,r);if(Eh(e)){if(t.doc.directives)return e.toString(t);if((f=t.resolvedAliases)!=null&&f.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i;const o=Ri(e)?e:t.doc.createNode(e,{onTagObj:h=>i=h});i||(i=Zxe(t.doc.schema.tags,o));const s=Xxe(o,i,t);s.length>0&&(t.indentAtStart=(t.indentAtStart??0)+s.length+1);const a=typeof i.stringify=="function"?i.stringify(o,t,n,r):Br(o)?fx(o,t,n,r):o.toString(t,n,r);return s?Br(o)||a[0]==="{"||a[0]==="["?`${s} ${a}`:`${s}
${t.indent}${a}`:a}function Jxe({key:e,value:t},n,r,i){const{allNullValues:o,doc:s,indent:a,indentStep:f,options:{commentString:h,indentSeq:g,simpleKeys:y}}=n;let b=Ri(e)&&e.comment||null;if(y){if(b)throw new Error("With simple keys, key nodes cannot have comments");if(fi(e)){const F="With simple keys, collection cannot be used as a key value";throw new Error(F)}}let E=!y&&(!e||b&&t==null&&!n.inFlow||fi(e)||(Br(e)?e.type===Pn.BLOCK_FOLDED||e.type===Pn.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!E&&(y||!o),indent:a+f});let T=!1,w=!1,M=Xm(e,n,()=>T=!0,()=>w=!0);if(!E&&!n.inFlow&&M.length>1024){if(y)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");E=!0}if(n.inFlow){if(o||t==null)return T&&r&&r(),M===""?"?":E?`? ${M}`:M}else if(o&&!y||t==null&&E)return M=`? ${M}`,b&&!T?M+=xd(M,n.indent,h(b)):w&&i&&i(),M;T&&(b=null),E?(b&&(M+=xd(M,n.indent,h(b))),M=`? ${M}
${a}:`):(M=`${M}:`,b&&(M+=xd(M,n.indent,h(b))));let A,O,I;Ri(t)?(A=!!t.spaceBefore,O=t.commentBefore,I=t.comment):(A=!1,O=null,I=null,t&&typeof t=="object"&&(t=s.createNode(t))),n.implicitKey=!1,!E&&!b&&Br(t)&&(n.indentAtStart=M.length+1),w=!1,!g&&f.length>=2&&!n.inFlow&&!E&&Ag(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let L=!1;const R=Xm(t,n,()=>L=!0,()=>w=!0);let D=" ";if(b||A||O){if(D=A?`
`:"",O){const F=h(O);D+=`
${Zc(F,n.indent)}`}R===""&&!n.inFlow?D===`
`&&(D=`

`):D+=`
${n.indent}`}else if(!E&&fi(t)){const F=R[0],q=R.indexOf(`
`),J=q!==-1,K=n.inFlow??t.flow??t.items.length===0;if(J||!K){let ne=!1;if(J&&(F==="&"||F==="!")){let le=R.indexOf(" ");F==="&"&&le!==-1&&le<q&&R[le+1]==="!"&&(le=R.indexOf(" ",le+1)),(le===-1||q<le)&&(ne=!0)}ne||(D=`
${n.indent}`)}}else(R===""||R[0]===`
`)&&(D="");return M+=D+R,n.inFlow?L&&r&&r():I&&!L?M+=xd(M,n.indent,h(I)):w&&i&&i(),M}function vq(e,t){(e==="debug"||e==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(t):console.warn(t))}const MB="<<";function bq(e,t,{key:n,value:r}){if(e!=null&&e.doc.schema.merge&&Qxe(n))if(r=Eh(r)?r.resolve(e.doc):r,Ag(r))for(const i of r.items)bP(e,t,i);else if(Array.isArray(r))for(const i of r)bP(e,t,i);else bP(e,t,r);else{const i=Fs(n,"",e);if(t instanceof Map)t.set(i,Fs(r,i,e));else if(t instanceof Set)t.add(i);else{const o=e_e(n,i,e),s=Fs(r,o,e);o in t?Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0}):t[o]=s}}return t}const Qxe=e=>e===MB||Br(e)&&e.value===MB&&(!e.type||e.type===Pn.PLAIN);function bP(e,t,n){const r=e&&Eh(n)?n.resolve(e.doc):n;if(!Mg(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,e,Map);for(const[o,s]of i)t instanceof Map?t.has(o)||t.set(o,s):t instanceof Set?t.add(o):Object.prototype.hasOwnProperty.call(t,o)||Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0});return t}function e_e(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(Ri(e)&&(n!=null&&n.doc)){const r=yq(n.doc,{});r.anchors=new Set;for(const o of n.anchors.keys())r.anchors.add(o.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=e.toString(r);if(!n.mapKeyWarned){let o=JSON.stringify(i);o.length>40&&(o=o.substring(0,36)+'..."'),vq(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(t)}function NR(e,t,n){const r=tb(e,void 0,n),i=tb(t,void 0,n);return new Wo(r,i)}class Wo{constructor(t,n=null){Object.defineProperty(this,Zs,{value:sq}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return Ri(n)&&(n=n.clone(t)),Ri(r)&&(r=r.clone(t)),new Wo(n,r)}toJSON(t,n){const r=n!=null&&n.mapAsMap?new Map:{};return bq(n,r,this)}toString(t,n,r){return t!=null&&t.doc?Jxe(this,t,n,r):JSON.stringify(this)}}function xq(e,t,n){return(t.inFlow??e.flow?n_e:t_e)(e,t,n)}function t_e({comment:e,items:t},n,{blockItemPrefix:r,flowChars:i,itemIndent:o,onChompKeep:s,onComment:a}){const{indent:f,options:{commentString:h}}=n,g=Object.assign({},n,{indent:o,type:null});let y=!1;const b=[];for(let T=0;T<t.length;++T){const w=t[T];let M=null;if(Ri(w))!y&&w.spaceBefore&&b.push(""),lS(n,b,w.commentBefore,y),w.comment&&(M=w.comment);else if(ai(w)){const O=Ri(w.key)?w.key:null;O&&(!y&&O.spaceBefore&&b.push(""),lS(n,b,O.commentBefore,y))}y=!1;let A=Xm(w,g,()=>M=null,()=>y=!0);M&&(A+=xd(A,o,h(M))),y&&M&&(y=!1),b.push(r+A)}let E;if(b.length===0)E=i.start+i.end;else{E=b[0];for(let T=1;T<b.length;++T){const w=b[T];E+=w?`
${f}${w}`:`
`}}return e?(E+=`
`+Zc(h(e),f),a&&a()):y&&s&&s(),E}function n_e({comment:e,items:t},n,{flowChars:r,itemIndent:i,onComment:o}){const{indent:s,indentStep:a,flowCollectionPadding:f,options:{commentString:h}}=n;i+=a;const g=Object.assign({},n,{indent:i,inFlow:!0,type:null});let y=!1,b=0;const E=[];for(let A=0;A<t.length;++A){const O=t[A];let I=null;if(Ri(O))O.spaceBefore&&E.push(""),lS(n,E,O.commentBefore,!1),O.comment&&(I=O.comment);else if(ai(O)){const R=Ri(O.key)?O.key:null;R&&(R.spaceBefore&&E.push(""),lS(n,E,R.commentBefore,!1),R.comment&&(y=!0));const D=Ri(O.value)?O.value:null;D?(D.comment&&(I=D.comment),D.commentBefore&&(y=!0)):O.value==null&&(R!=null&&R.comment)&&(I=R.comment)}I&&(y=!0);let L=Xm(O,g,()=>I=null);A<t.length-1&&(L+=","),I&&(L+=xd(L,i,h(I))),!y&&(E.length>b||L.includes(`
`))&&(y=!0),E.push(L),b=E.length}let T;const{start:w,end:M}=r;if(E.length===0)T=w+M;else if(y||(y=E.reduce((O,I)=>O+I.length+2,2)>jC.maxFlowStringSingleLineLength),y){T=w;for(const A of E)T+=A?`
${a}${s}${A}`:`
`;T+=`
${s}${M}`}else T=`${w}${f}${E.join(" ")}${f}${M}`;return e&&(T+=xd(T,s,h(e)),o&&o()),T}function lS({indent:e,options:{commentString:t}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){const o=Zc(t(r),e);n.push(o.trimStart())}}function Hf(e,t){const n=Br(t)?t.value:t;for(const r of e)if(ai(r)&&(r.key===t||r.key===n||Br(r.key)&&r.key.value===n))return r}class es extends jC{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(Dd,t),this.items=[]}static from(t,n,r){const{keepUndefined:i,replacer:o}=r,s=new this(t),a=(f,h)=>{if(typeof o=="function")h=o.call(n,f,h);else if(Array.isArray(o)&&!o.includes(f))return;(h!==void 0||i)&&s.items.push(NR(f,h,r))};if(n instanceof Map)for(const[f,h]of n)a(f,h);else if(n&&typeof n=="object")for(const f of Object.keys(n))a(f,n[f]);return typeof t.sortMapEntries=="function"&&s.items.sort(t.sortMapEntries),s}add(t,n){var s;let r;ai(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new Wo(t,t==null?void 0:t.value):r=new Wo(t.key,t.value);const i=Hf(this.items,r.key),o=(s=this.schema)==null?void 0:s.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);Br(i.value)&&mq(r.value)?i.value.value=r.value:i.value=r.value}else if(o){const a=this.items.findIndex(f=>o(r,f)<0);a===-1?this.items.push(r):this.items.splice(a,0,r)}else this.items.push(r)}delete(t){const n=Hf(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){const r=Hf(this.items,t),i=r==null?void 0:r.value;return(!n&&Br(i)?i.value:i)??void 0}has(t){return!!Hf(this.items,t)}set(t,n){this.add(new Wo(t,n),!0)}toJSON(t,n,r){const i=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(i);for(const o of this.items)bq(n,i,o);return i}toString(t,n,r){if(!t)return JSON.stringify(this);for(const i of this.items)if(!ai(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),xq(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}const Ig={collection:"map",default:!0,nodeClass:es,tag:"tag:yaml.org,2002:map",resolve(e,t){return Mg(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,n)=>es.from(e,t,n)};class Hd extends jC{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(Pg,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=_1(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=_1(t);if(typeof r!="number")return;const i=this.items[r];return!n&&Br(i)?i.value:i}has(t){const n=_1(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=_1(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const i=this.items[r];Br(i)&&mq(n)?i.value=n:this.items[r]=n}toJSON(t,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let i=0;for(const o of this.items)r.push(Fs(o,String(i++),n));return r}toString(t,n,r){return t?xq(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(t,n,r){const{replacer:i}=r,o=new this(t);if(n&&Symbol.iterator in Object(n)){let s=0;for(let a of n){if(typeof i=="function"){const f=n instanceof Set?a:String(s++);a=i.call(n,f,a)}o.items.push(tb(a,void 0,r))}}return o}}function _1(e){let t=Br(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const $g={collection:"seq",default:!0,nodeClass:Hd,tag:"tag:yaml.org,2002:seq",resolve(e,t){return Ag(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,n)=>Hd.from(e,t,n)},BC={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),fx(e,t,n,r)}},FC={identify:e=>e==null,createNode:()=>new Pn(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Pn(null),stringify:({source:e},t)=>typeof e=="string"&&FC.test.test(e)?e:t.options.nullStr},zR={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new Pn(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&zR.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function Ll({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let o=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(o)){let s=o.indexOf(".");s<0&&(s=o.length,o+=".");let a=t-(o.length-s-1);for(;a-- >0;)o+="0"}return o}const _q={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ll},wq={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Ll(e)}},Sq={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new Pn(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:Ll},UC=e=>typeof e=="bigint"||Number.isInteger(e),BR=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function Cq(e,t,n){const{value:r}=e;return UC(r)&&r>=0?n+r.toString(t):Ll(e)}const kq={identify:e=>UC(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>BR(e,2,8,n),stringify:e=>Cq(e,8,"0o")},Tq={identify:UC,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>BR(e,0,10,n),stringify:Ll},Eq={identify:e=>UC(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>BR(e,2,16,n),stringify:e=>Cq(e,16,"0x")},r_e=[Ig,$g,BC,FC,zR,kq,Tq,Eq,_q,wq,Sq];function AB(e){return typeof e=="bigint"||Number.isInteger(e)}const w1=({value:e})=>JSON.stringify(e),i_e=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:w1},{identify:e=>e==null,createNode:()=>new Pn(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:w1},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:w1},{identify:AB,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>AB(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:w1}],o_e={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},a_e=[Ig,$g].concat(i_e,o_e),FR={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Buffer=="function")return Buffer.from(e,"base64");if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,i,o){const s=n;let a;if(typeof Buffer=="function")a=s instanceof Buffer?s.toString("base64"):Buffer.from(s.buffer).toString("base64");else if(typeof btoa=="function"){let f="";for(let h=0;h<s.length;++h)f+=String.fromCharCode(s[h]);a=btoa(f)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=Pn.BLOCK_LITERAL),t!==Pn.QUOTE_DOUBLE){const f=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),h=Math.ceil(a.length/f),g=new Array(h);for(let y=0,b=0;y<h;++y,b+=f)g[y]=a.substr(b,f);a=g.join(t===Pn.BLOCK_LITERAL?`
`:" ")}return fx({comment:e,type:t,value:a},r,i,o)}};function Pq(e,t){if(Ag(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!ai(r)){if(Mg(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const i=r.items[0]||new Wo(new Pn(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){const o=i.value??i.key;o.comment=o.comment?`${r.comment}
${o.comment}`:r.comment}r=i}e.items[n]=ai(r)?r:new Wo(r)}}else t("Expected a sequence for this tag");return e}function Oq(e,t,n){const{replacer:r}=n,i=new Hd(e);i.tag="tag:yaml.org,2002:pairs";let o=0;if(t&&Symbol.iterator in Object(t))for(let s of t){typeof r=="function"&&(s=r.call(t,String(o++),s));let a,f;if(Array.isArray(s))if(s.length===2)a=s[0],f=s[1];else throw new TypeError(`Expected [key, value] tuple: ${s}`);else if(s&&s instanceof Object){const h=Object.keys(s);if(h.length===1)a=h[0],f=s[a];else throw new TypeError(`Expected tuple with one key, not ${h.length} keys`)}else a=s;i.items.push(NR(a,f,n))}return i}const UR={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Pq,createNode:Oq};class wm extends Hd{constructor(){super(),this.add=es.prototype.add.bind(this),this.delete=es.prototype.delete.bind(this),this.get=es.prototype.get.bind(this),this.has=es.prototype.has.bind(this),this.set=es.prototype.set.bind(this),this.tag=wm.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const i of this.items){let o,s;if(ai(i)?(o=Fs(i.key,"",n),s=Fs(i.value,o,n)):o=Fs(i,"",n),r.has(o))throw new Error("Ordered maps must not include duplicate keys");r.set(o,s)}return r}static from(t,n,r){const i=Oq(t,n,r),o=new this;return o.items=i.items,o}}wm.tag="tag:yaml.org,2002:omap";const VR={collection:"seq",identify:e=>e instanceof Map,nodeClass:wm,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=Pq(e,t),r=[];for(const{key:i}of n.items)Br(i)&&(r.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new wm,n)},createNode:(e,t,n)=>wm.from(e,t,n)};function Mq({value:e,source:t},n){return t&&(e?Aq:Iq).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const Aq={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Pn(!0),stringify:Mq},Iq={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new Pn(!1),stringify:Mq},s_e={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ll},l_e={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Ll(e)}},c_e={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new Pn(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:Ll},hx=e=>typeof e=="bigint"||Number.isInteger(e);function VC(e,t,n,{intAsBigInt:r}){const i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const s=BigInt(e);return i==="-"?BigInt(-1)*s:s}const o=parseInt(e,n);return i==="-"?-1*o:o}function WR(e,t,n){const{value:r}=e;if(hx(r)){const i=r.toString(t);return r<0?"-"+n+i.substr(1):n+i}return Ll(e)}const u_e={identify:hx,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>VC(e,2,2,n),stringify:e=>WR(e,2,"0b")},d_e={identify:hx,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>VC(e,1,8,n),stringify:e=>WR(e,8,"0")},f_e={identify:hx,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>VC(e,0,10,n),stringify:Ll},h_e={identify:hx,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>VC(e,2,16,n),stringify:e=>WR(e,16,"0x")};class Sm extends es{constructor(t){super(t),this.tag=Sm.tag}add(t){let n;ai(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new Wo(t.key,null):n=new Wo(t,null),Hf(this.items,n.key)||this.items.push(n)}get(t,n){const r=Hf(this.items,t);return!n&&ai(r)?Br(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=Hf(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Wo(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(t,n,r){const{replacer:i}=r,o=new this(t);if(n&&Symbol.iterator in Object(n))for(let s of n)typeof i=="function"&&(s=i.call(n,s,s)),o.items.push(NR(s,null,r));return o}}Sm.tag="tag:yaml.org,2002:set";const qR={collection:"map",identify:e=>e instanceof Set,nodeClass:Sm,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>Sm.from(e,t,n),resolve(e,t){if(Mg(e)){if(e.hasAllNullValues(!0))return Object.assign(new Sm,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function HR(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,i=s=>t?BigInt(s):Number(s),o=r.replace(/_/g,"").split(":").reduce((s,a)=>s*i(60)+i(a),i(0));return n==="-"?i(-1)*o:o}function $q(e){let{value:t}=e,n=s=>s;if(typeof t=="bigint")n=s=>BigInt(s);else if(isNaN(t)||!isFinite(t))return Ll(e);let r="";t<0&&(r="-",t*=n(-1));const i=n(60),o=[t%i];return t<60?o.unshift(0):(t=(t-o[0])/i,o.unshift(t%i),t>=60&&(t=(t-o[0])/i,o.unshift(t))),r+o.map(s=>String(s).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const Rq={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>HR(e,n),stringify:$q},Dq={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>HR(e,!1),stringify:$q},WC={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(WC.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,i,o,s,a]=t.map(Number),f=t[7]?Number((t[7]+"00").substr(1,3)):0;let h=Date.UTC(n,r-1,i,o||0,s||0,a||0,f);const g=t[8];if(g&&g!=="Z"){let y=HR(g,!1);Math.abs(y)<30&&(y*=60),h-=6e4*y}return new Date(h)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},IB=[Ig,$g,BC,FC,Aq,Iq,u_e,d_e,f_e,h_e,s_e,l_e,c_e,FR,VR,UR,qR,Rq,Dq,WC],$B=new Map([["core",r_e],["failsafe",[Ig,$g,BC]],["json",a_e],["yaml11",IB],["yaml-1.1",IB]]),RB={binary:FR,bool:zR,float:Sq,floatExp:wq,floatNaN:_q,floatTime:Dq,int:Tq,intHex:Eq,intOct:kq,intTime:Rq,map:Ig,null:FC,omap:VR,pairs:UR,seq:$g,set:qR,timestamp:WC},p_e={"tag:yaml.org,2002:binary":FR,"tag:yaml.org,2002:omap":VR,"tag:yaml.org,2002:pairs":UR,"tag:yaml.org,2002:set":qR,"tag:yaml.org,2002:timestamp":WC};function xP(e,t){let n=$B.get(t);if(!n)if(Array.isArray(e))n=[];else{const r=Array.from($B.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${r} or define customTags array`)}if(Array.isArray(e))for(const r of e)n=n.concat(r);else typeof e=="function"&&(n=e(n.slice()));return n.map(r=>{if(typeof r!="string")return r;const i=RB[r];if(i)return i;const o=Object.keys(RB).map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown custom tag "${r}"; use one of ${o}`)})}const m_e=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class qC{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:i,schema:o,sortMapEntries:s,toStringDefaults:a}){this.compat=Array.isArray(t)?xP(t,"compat"):t?xP(null,t):null,this.merge=!!r,this.name=typeof o=="string"&&o||"core",this.knownTags=i?p_e:{},this.tags=xP(n,this.name),this.toStringOptions=a??null,Object.defineProperty(this,Dd,{value:Ig}),Object.defineProperty(this,pu,{value:BC}),Object.defineProperty(this,Pg,{value:$g}),this.sortMapEntries=typeof s=="function"?s:s===!0?m_e:null}clone(){const t=Object.create(qC.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function g_e(e,t){var f;const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const h=e.directives.toString(e);h?(n.push(h),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const i=yq(e,t),{commentString:o}=i.options;if(e.commentBefore){n.length!==1&&n.unshift("");const h=o(e.commentBefore);n.unshift(Zc(h,""))}let s=!1,a=null;if(e.contents){if(Ri(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const y=o(e.contents.commentBefore);n.push(Zc(y,""))}i.forceBlockIndent=!!e.comment,a=e.contents.comment}const h=a?void 0:()=>s=!0;let g=Xm(e.contents,i,()=>a=null,h);a&&(g+=xd(g,"",o(a))),(g[0]==="|"||g[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${g}`:n.push(g)}else n.push(Xm(e.contents,i));if((f=e.directives)!=null&&f.docEnd)if(e.comment){const h=o(e.comment);h.includes(`
`)?(n.push("..."),n.push(Zc(h,""))):n.push(`... ${h}`)}else n.push("...");else{let h=e.comment;h&&s&&(h=h.replace(/^\n+/,"")),h&&((!s||a)&&n[n.length-1]!==""&&n.push(""),n.push(Zc(o(h),"")))}return n.join(`
`)+`
`}class Rg{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Zs,{value:XM});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);const o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},r);this.options=o;let{version:s}=o;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new ca({version:s}),this.setSchema(s,r),this.contents=t===void 0?null:this.createNode(t,i,r)}clone(){const t=Object.create(Rg.prototype,{[Zs]:{value:XM}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=Ri(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){Op(this.contents)&&this.contents.add(t)}addIn(t,n){Op(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=hq(this);t.anchor=!n||r.has(n)?pq(n||"a",r):n}return new DC(t.anchor)}createNode(t,n,r){let i;if(typeof n=="function")t=n.call({"":t},"",t),i=n;else if(Array.isArray(n)){const M=O=>typeof O=="number"||O instanceof String||O instanceof Number,A=n.filter(M).map(String);A.length>0&&(n=n.concat(A)),i=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:o,anchorPrefix:s,flow:a,keepUndefined:f,onTagObj:h,tag:g}=r??{},{onAnchor:y,setAnchors:b,sourceObjects:E}=Wxe(this,s||"a"),T={aliasDuplicateObjects:o??!0,keepUndefined:f??!1,onAnchor:y,onTagObj:h,replacer:i,schema:this.schema,sourceObjects:E},w=tb(t,g,T);return a&&fi(w)&&(w.flow=!0),b(),w}createPair(t,n,r={}){const i=this.createNode(t,null,r),o=this.createNode(n,null,r);return new Wo(i,o)}delete(t){return Op(this.contents)?this.contents.delete(t):!1}deleteIn(t){return Yv(t)?this.contents==null?!1:(this.contents=null,!0):Op(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return fi(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return Yv(t)?!n&&Br(this.contents)?this.contents.value:this.contents:fi(this.contents)?this.contents.getIn(t,n):void 0}has(t){return fi(this.contents)?this.contents.has(t):!1}hasIn(t){return Yv(t)?this.contents!==void 0:fi(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=sS(this.schema,[t],n):Op(this.contents)&&this.contents.set(t,n)}setIn(t,n){Yv(t)?this.contents=n:this.contents==null?this.contents=sS(this.schema,Array.from(t),n):Op(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new ca({version:"1.1"}),r={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new ca({version:t}),r={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new qC(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:o,reviver:s}={}){const a={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},f=Fs(this.contents,n??"",a);if(typeof o=="function")for(const{count:h,res:g}of a.anchors.values())o(g,h);return typeof s=="function"?rm(s,{"":f},"",f):f}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return g_e(this,t)}}function Op(e){if(fi(e))return!0;throw new Error("Expected a YAML collection as document contents")}class GR extends Error{constructor(t,n,r,i){super(),this.name=t,this.code=r,this.message=i,this.pos=n}}class Gf extends GR{constructor(t,n,r){super("YAMLParseError",t,n,r)}}class jq extends GR{constructor(t,n,r){super("YAMLWarning",t,n,r)}}const cS=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>t.linePos(a));const{line:r,col:i}=n.linePos[0];n.message+=` at line ${r}, column ${i}`;let o=i-1,s=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(o>=60&&s.length>80){const a=Math.min(o-39,s.length-79);s=""+s.substring(a),o-=a-1}if(s.length>80&&(s=s.substring(0,79)+""),r>1&&/^ *$/.test(s.substring(0,o))){let a=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);a.length>80&&(a=a.substring(0,79)+`
`),s=a+s}if(/[^ ]/.test(s)){let a=1;const f=n.linePos[1];f&&f.line===r&&f.col>i&&(a=Math.max(1,Math.min(f.col-i,80-o)));const h=" ".repeat(o)+"^".repeat(a);n.message+=`:

${s}
${h}
`}};function Jm(e,{flow:t,indicator:n,next:r,offset:i,onError:o,startOnNewline:s}){let a=!1,f=s,h=s,g="",y="",b=!1,E=!1,T=!1,w=null,M=null,A=null,O=null,I=null;for(const D of e)switch(T&&(D.type!=="space"&&D.type!=="newline"&&D.type!=="comma"&&o(D.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),T=!1),D.type){case"space":!t&&f&&n!=="doc-start"&&D.source[0]==="	"&&o(D,"TAB_AS_INDENT","Tabs are not allowed as indentation"),h=!0;break;case"comment":{h||o(D,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const F=D.source.substring(1)||" ";g?g+=y+F:g=F,y="",f=!1;break}case"newline":f?g?g+=D.source:a=!0:y+=D.source,f=!0,b=!0,(w||M)&&(E=!0),h=!0;break;case"anchor":w&&o(D,"MULTIPLE_ANCHORS","A node can have at most one anchor"),D.source.endsWith(":")&&o(D.offset+D.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),w=D,I===null&&(I=D.offset),f=!1,h=!1,T=!0;break;case"tag":{M&&o(D,"MULTIPLE_TAGS","A node can have at most one tag"),M=D,I===null&&(I=D.offset),f=!1,h=!1,T=!0;break}case n:(w||M)&&o(D,"BAD_PROP_ORDER",`Anchors and tags must be after the ${D.source} indicator`),O&&o(D,"UNEXPECTED_TOKEN",`Unexpected ${D.source} in ${t??"collection"}`),O=D,f=!1,h=!1;break;case"comma":if(t){A&&o(D,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),A=D,f=!1,h=!1;break}default:o(D,"UNEXPECTED_TOKEN",`Unexpected ${D.type} token`),f=!1,h=!1}const L=e[e.length-1],R=L?L.offset+L.source.length:i;return T&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&o(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:A,found:O,spaceBefore:a,comment:g,hasNewline:b,hasNewlineAfterProp:E,anchor:w,tag:M,end:R,start:I??R}}function nb(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const n of t.start)if(n.type==="newline")return!0;if(t.sep){for(const n of t.sep)if(n.type==="newline")return!0}if(nb(t.key)||nb(t.value))return!0}return!1;default:return!0}}function tA(e,t,n){if((t==null?void 0:t.type)==="flow-collection"){const r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&nb(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Lq(e,t,n){const{uniqueKeys:r}=e.options;if(r===!1)return!1;const i=typeof r=="function"?r:(o,s)=>o===s||Br(o)&&Br(s)&&o.value===s.value&&!(o.value==="<<"&&e.schema.merge);return t.some(o=>i(o.key,n))}const DB="All mapping items must start at the same column";function y_e({composeNode:e,composeEmptyNode:t},n,r,i,o){var g;const s=(o==null?void 0:o.nodeClass)??es,a=new s(n.schema);n.atRoot&&(n.atRoot=!1);let f=r.offset,h=null;for(const y of r.items){const{start:b,key:E,sep:T,value:w}=y,M=Jm(b,{indicator:"explicit-key-ind",next:E??(T==null?void 0:T[0]),offset:f,onError:i,startOnNewline:!0}),A=!M.found;if(A){if(E&&(E.type==="block-seq"?i(f,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in E&&E.indent!==r.indent&&i(f,"BAD_INDENT",DB)),!M.anchor&&!M.tag&&!T){h=M.end,M.comment&&(a.comment?a.comment+=`
`+M.comment:a.comment=M.comment);continue}(M.hasNewlineAfterProp||nb(E))&&i(E??b[b.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((g=M.found)==null?void 0:g.indent)!==r.indent&&i(f,"BAD_INDENT",DB);const O=M.end,I=E?e(n,E,M,i):t(n,O,b,null,M,i);n.schema.compat&&tA(r.indent,E,i),Lq(n,a.items,I)&&i(O,"DUPLICATE_KEY","Map keys must be unique");const L=Jm(T??[],{indicator:"map-value-ind",next:w,offset:I.range[2],onError:i,startOnNewline:!E||E.type==="block-scalar"});if(f=L.end,L.found){A&&((w==null?void 0:w.type)==="block-map"&&!L.hasNewline&&i(f,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&M.start<L.found.offset-1024&&i(I.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const R=w?e(n,w,L,i):t(n,f,T,null,L,i);n.schema.compat&&tA(r.indent,w,i),f=R.range[2];const D=new Wo(I,R);n.options.keepSourceTokens&&(D.srcToken=y),a.items.push(D)}else{A&&i(I.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),L.comment&&(I.comment?I.comment+=`
`+L.comment:I.comment=L.comment);const R=new Wo(I);n.options.keepSourceTokens&&(R.srcToken=y),a.items.push(R)}}return h&&h<f&&i(h,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,f,h??f],a}function v_e({composeNode:e,composeEmptyNode:t},n,r,i,o){const s=(o==null?void 0:o.nodeClass)??Hd,a=new s(n.schema);n.atRoot&&(n.atRoot=!1);let f=r.offset,h=null;for(const{start:g,value:y}of r.items){const b=Jm(g,{indicator:"seq-item-ind",next:y,offset:f,onError:i,startOnNewline:!0});if(!b.found)if(b.anchor||b.tag||y)y&&y.type==="block-seq"?i(b.end,"BAD_INDENT","All sequence items must start at the same column"):i(f,"MISSING_CHAR","Sequence item without - indicator");else{h=b.end,b.comment&&(a.comment=b.comment);continue}const E=y?e(n,y,b,i):t(n,b.end,g,null,b,i);n.schema.compat&&tA(r.indent,y,i),f=E.range[2],a.items.push(E)}return a.range=[r.offset,f,h??f],a}function px(e,t,n,r){let i="";if(e){let o=!1,s="";for(const a of e){const{source:f,type:h}=a;switch(h){case"space":o=!0;break;case"comment":{n&&!o&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const g=f.substring(1)||" ";i?i+=s+g:i=g,s="";break}case"newline":i&&(s+=f),o=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${h} at node end`)}t+=f.length}}return{comment:i,offset:t}}const _P="Block collections are not allowed within flow collections",wP=e=>e&&(e.type==="block-map"||e.type==="block-seq");function b_e({composeNode:e,composeEmptyNode:t},n,r,i,o){const s=r.start.source==="{",a=s?"flow map":"flow sequence",f=(o==null?void 0:o.nodeClass)??(s?es:Hd),h=new f(n.schema);h.flow=!0;const g=n.atRoot;g&&(n.atRoot=!1);let y=r.offset+r.start.source.length;for(let M=0;M<r.items.length;++M){const A=r.items[M],{start:O,key:I,sep:L,value:R}=A,D=Jm(O,{flow:a,indicator:"explicit-key-ind",next:I??(L==null?void 0:L[0]),offset:y,onError:i,startOnNewline:!1});if(!D.found){if(!D.anchor&&!D.tag&&!L&&!R){M===0&&D.comma?i(D.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):M<r.items.length-1&&i(D.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),D.comment&&(h.comment?h.comment+=`
`+D.comment:h.comment=D.comment),y=D.end;continue}!s&&n.options.strict&&nb(I)&&i(I,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(M===0)D.comma&&i(D.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(D.comma||i(D.start,"MISSING_CHAR",`Missing , between ${a} items`),D.comment){let F="";e:for(const q of O)switch(q.type){case"comma":case"space":break;case"comment":F=q.source.substring(1);break e;default:break e}if(F){let q=h.items[h.items.length-1];ai(q)&&(q=q.value??q.key),q.comment?q.comment+=`
`+F:q.comment=F,D.comment=D.comment.substring(F.length+1)}}if(!s&&!L&&!D.found){const F=R?e(n,R,D,i):t(n,D.end,L,null,D,i);h.items.push(F),y=F.range[2],wP(R)&&i(F.range,"BLOCK_IN_FLOW",_P)}else{const F=D.end,q=I?e(n,I,D,i):t(n,F,O,null,D,i);wP(I)&&i(q.range,"BLOCK_IN_FLOW",_P);const J=Jm(L??[],{flow:a,indicator:"map-value-ind",next:R,offset:q.range[2],onError:i,startOnNewline:!1});if(J.found){if(!s&&!D.found&&n.options.strict){if(L)for(const le of L){if(le===J.found)break;if(le.type==="newline"){i(le,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}D.start<J.found.offset-1024&&i(J.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else R&&("source"in R&&R.source&&R.source[0]===":"?i(R,"MISSING_CHAR",`Missing space after : in ${a}`):i(J.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const K=R?e(n,R,J,i):J.found?t(n,J.end,L,null,J,i):null;K?wP(R)&&i(K.range,"BLOCK_IN_FLOW",_P):J.comment&&(q.comment?q.comment+=`
`+J.comment:q.comment=J.comment);const ne=new Wo(q,K);if(n.options.keepSourceTokens&&(ne.srcToken=A),s){const le=h;Lq(n,le.items,q)&&i(F,"DUPLICATE_KEY","Map keys must be unique"),le.items.push(ne)}else{const le=new es(n.schema);le.flow=!0,le.items.push(ne),h.items.push(le)}y=K?K.range[2]:J.end}}const b=s?"}":"]",[E,...T]=r.end;let w=y;if(E&&E.source===b)w=E.offset+E.source.length;else{const M=a[0].toUpperCase()+a.substring(1),A=g?`${M} must end with a ${b}`:`${M} in block collection must be sufficiently indented and end with a ${b}`;i(y,g?"MISSING_CHAR":"BAD_INDENT",A),E&&E.source.length!==1&&T.unshift(E)}if(T.length>0){const M=px(T,w,n.options.strict,i);M.comment&&(h.comment?h.comment+=`
`+M.comment:h.comment=M.comment),h.range=[r.offset,w,M.offset]}else h.range=[r.offset,w,w];return h}function SP(e,t,n,r,i,o){const s=n.type==="block-map"?y_e(e,t,n,r,o):n.type==="block-seq"?v_e(e,t,n,r,o):b_e(e,t,n,r,o),a=s.constructor;return i==="!"||i===a.tagName?(s.tag=a.tagName,s):(i&&(s.tag=i),s)}function x_e(e,t,n,r,i){var y;const o=r?t.directives.tagName(r.source,b=>i(r,"TAG_RESOLVE_FAILED",b)):null,s=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!r||!o||o==="!"||o===es.tagName&&s==="map"||o===Hd.tagName&&s==="seq"||!s)return SP(e,t,n,i,o);let a=t.schema.tags.find(b=>b.tag===o&&b.collection===s);if(!a){const b=t.schema.knownTags[o];if(b&&b.collection===s)t.schema.tags.push(Object.assign({},b,{default:!1})),a=b;else return b!=null&&b.collection?i(r,"BAD_COLLECTION_TYPE",`${b.tag} used for ${s} collection, but expects ${b.collection}`,!0):i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),SP(e,t,n,i,o)}const f=SP(e,t,n,i,o,a),h=((y=a.resolve)==null?void 0:y.call(a,f,b=>i(r,"TAG_RESOLVE_FAILED",b),t.options))??f,g=Ri(h)?h:new Pn(h);return g.range=f.range,g.tag=o,a!=null&&a.format&&(g.format=a.format),g}function Nq(e,t,n){const r=e.offset,i=__e(e,t,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};const o=i.mode===">"?Pn.BLOCK_FOLDED:Pn.BLOCK_LITERAL,s=e.source?w_e(e.source):[];let a=s.length;for(let w=s.length-1;w>=0;--w){const M=s[w][1];if(M===""||M==="\r")a=w;else break}if(a===0){const w=i.chomp==="+"&&s.length>0?`
`.repeat(Math.max(1,s.length-1)):"";let M=r+i.length;return e.source&&(M+=e.source.length),{value:w,type:o,comment:i.comment,range:[r,M,M]}}let f=e.indent+i.indent,h=e.offset+i.length,g=0;for(let w=0;w<a;++w){const[M,A]=s[w];if(A===""||A==="\r")i.indent===0&&M.length>f&&(f=M.length);else{if(M.length<f){const O="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(h+M.length,"MISSING_CHAR",O)}i.indent===0&&(f=M.length),g=w;break}h+=M.length+A.length+1}for(let w=s.length-1;w>=a;--w)s[w][0].length>f&&(a=w+1);let y="",b="",E=!1;for(let w=0;w<g;++w)y+=s[w][0].slice(f)+`
`;for(let w=g;w<a;++w){let[M,A]=s[w];h+=M.length+A.length+1;const O=A[A.length-1]==="\r";if(O&&(A=A.slice(0,-1)),A&&M.length<f){const L=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(h-A.length-(O?2:1),"BAD_INDENT",L),M=""}o===Pn.BLOCK_LITERAL?(y+=b+M.slice(f)+A,b=`
`):M.length>f||A[0]==="	"?(b===" "?b=`
`:!E&&b===`
`&&(b=`

`),y+=b+M.slice(f)+A,b=`
`,E=!0):A===""?b===`
`?y+=`
`:b=`
`:(y+=b+A,b=" ",E=!1)}switch(i.chomp){case"-":break;case"+":for(let w=a;w<s.length;++w)y+=`
`+s[w][0].slice(f);y[y.length-1]!==`
`&&(y+=`
`);break;default:y+=`
`}const T=r+i.length+e.source.length;return{value:y,type:o,comment:i.comment,range:[r,T,T]}}function __e({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=t[0],o=i[0];let s=0,a="",f=-1;for(let b=1;b<i.length;++b){const E=i[b];if(!a&&(E==="-"||E==="+"))a=E;else{const T=Number(E);!s&&T?s=T:f===-1&&(f=e+b)}}f!==-1&&r(f,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let h=!1,g="",y=i.length;for(let b=1;b<t.length;++b){const E=t[b];switch(E.type){case"space":h=!0;case"newline":y+=E.source.length;break;case"comment":n&&!h&&r(E,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),y+=E.source.length,g=E.source.substring(1);break;case"error":r(E,"UNEXPECTED_TOKEN",E.message),y+=E.source.length;break;default:{const T=`Unexpected token in block scalar header: ${E.type}`;r(E,"UNEXPECTED_TOKEN",T);const w=E.source;w&&typeof w=="string"&&(y+=w.length)}}}return{mode:o,indent:s,chomp:a,comment:g,length:y}}function w_e(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),o=[r!=null&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let s=1;s<t.length;s+=2)o.push([t[s],t[s+1]]);return o}function zq(e,t,n){const{offset:r,type:i,source:o,end:s}=e;let a,f;const h=(b,E,T)=>n(r+b,E,T);switch(i){case"scalar":a=Pn.PLAIN,f=S_e(o,h);break;case"single-quoted-scalar":a=Pn.QUOTE_SINGLE,f=C_e(o,h);break;case"double-quoted-scalar":a=Pn.QUOTE_DOUBLE,f=k_e(o,h);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+o.length,r+o.length]}}const g=r+o.length,y=px(s,g,t,n);return{value:f,type:a,comment:y.comment,range:[r,g,y.offset]}}function S_e(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),Bq(e)}function C_e(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),Bq(e.slice(1,-1)).replace(/''/g,"'")}function Bq(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let i=r[1],o=" ",s=t.lastIndex;for(n.lastIndex=s;r=n.exec(e);)r[1]===""?o===`
`?i+=o:o=`
`:(i+=o+r[1],o=" "),s=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=s,r=a.exec(e),i+o+((r==null?void 0:r[1])??"")}function k_e(e,t){let n="";for(let r=1;r<e.length-1;++r){const i=e[r];if(!(i==="\r"&&e[r+1]===`
`))if(i===`
`){const{fold:o,offset:s}=T_e(e,r);n+=o,r=s}else if(i==="\\"){let o=e[++r];const s=E_e[o];if(s)n+=s;else if(o===`
`)for(o=e[r+1];o===" "||o==="	";)o=e[++r+1];else if(o==="\r"&&e[r+1]===`
`)for(o=e[++r+1];o===" "||o==="	";)o=e[++r+1];else if(o==="x"||o==="u"||o==="U"){const a={x:2,u:4,U:8}[o];n+=P_e(e,r+1,a,t),r+=a}else{const a=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(i===" "||i==="	"){const o=r;let s=e[r+1];for(;s===" "||s==="	";)s=e[++r+1];s!==`
`&&!(s==="\r"&&e[r+2]===`
`)&&(n+=r>o?e.slice(o,r+1):i)}else n+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function T_e(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}const E_e={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function P_e(e,t,n,r){const i=e.substr(t,n),s=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(s)){const a=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(s)}function Fq(e,t,n,r){const{value:i,type:o,comment:s,range:a}=t.type==="block-scalar"?Nq(t,e.options.strict,r):zq(t,e.options.strict,r),f=n?e.directives.tagName(n.source,y=>r(n,"TAG_RESOLVE_FAILED",y)):null,h=n&&f?O_e(e.schema,i,f,n,r):t.type==="scalar"?M_e(e,i,t,r):e.schema[pu];let g;try{const y=h.resolve(i,b=>r(n??t,"TAG_RESOLVE_FAILED",b),e.options);g=Br(y)?y:new Pn(y)}catch(y){const b=y instanceof Error?y.message:String(y);r(n??t,"TAG_RESOLVE_FAILED",b),g=new Pn(i)}return g.range=a,g.source=i,o&&(g.type=o),f&&(g.tag=f),h.format&&(g.format=h.format),s&&(g.comment=s),g}function O_e(e,t,n,r,i){var a;if(n==="!")return e[pu];const o=[];for(const f of e.tags)if(!f.collection&&f.tag===n)if(f.default&&f.test)o.push(f);else return f;for(const f of o)if((a=f.test)!=null&&a.test(t))return f;const s=e.knownTags[n];return s&&!s.collection?(e.tags.push(Object.assign({},s,{default:!1,test:void 0})),s):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[pu])}function M_e({directives:e,schema:t},n,r,i){const o=t.tags.find(s=>{var a;return s.default&&((a=s.test)==null?void 0:a.test(n))})||t[pu];if(t.compat){const s=t.compat.find(a=>{var f;return a.default&&((f=a.test)==null?void 0:f.test(n))})??t[pu];if(o.tag!==s.tag){const a=e.tagString(o.tag),f=e.tagString(s.tag),h=`Value may be parsed as either ${a} or ${f}`;i(r,"TAG_RESOLVE_FAILED",h,!0)}}return o}function A_e(e,t,n){if(t){n===null&&(n=t.length);for(let r=n-1;r>=0;--r){let i=t[r];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++r];(i==null?void 0:i.type)==="space";)e+=i.source.length,i=t[++r];break}}return e}const I_e={composeNode:Uq,composeEmptyNode:YR};function Uq(e,t,n,r){const{spaceBefore:i,comment:o,anchor:s,tag:a}=n;let f,h=!0;switch(t.type){case"alias":f=$_e(e,t,r),(s||a)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":f=Fq(e,t,a,r),s&&(f.anchor=s.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":f=x_e(I_e,e,t,a,r),s&&(f.anchor=s.source.substring(1));break;default:{const g=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",g),f=YR(e,t.offset,void 0,null,n,r),h=!1}}return s&&f.anchor===""&&r(s,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(f.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?f.comment=o:f.commentBefore=o),e.options.keepSourceTokens&&h&&(f.srcToken=t),f}function YR(e,t,n,r,{spaceBefore:i,comment:o,anchor:s,tag:a,end:f},h){const g={type:"scalar",offset:A_e(t,n,r),indent:-1,source:""},y=Fq(e,g,a,h);return s&&(y.anchor=s.source.substring(1),y.anchor===""&&h(s,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(y.spaceBefore=!0),o&&(y.comment=o,y.range[2]=f),y}function $_e({options:e},{offset:t,source:n,end:r},i){const o=new DC(n.substring(1));o.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),o.source.endsWith(":")&&i(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const s=t+n.length,a=px(r,s,e.strict,i);return o.range=[t,s,a.offset],a.comment&&(o.comment=a.comment),o}function R_e(e,t,{offset:n,start:r,value:i,end:o},s){const a=Object.assign({_directives:t},e),f=new Rg(void 0,a),h={atRoot:!0,directives:f.directives,options:f.options,schema:f.schema},g=Jm(r,{indicator:"doc-start",next:i??(o==null?void 0:o[0]),offset:n,onError:s,startOnNewline:!0});g.found&&(f.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!g.hasNewline&&s(g.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),f.contents=i?Uq(h,i,g,s):YR(h,g.end,r,null,g,s);const y=f.contents.range[2],b=px(o,y,!1,s);return b.comment&&(f.comment=b.comment),f.range=[n,y,b.offset],f}function kv(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function jB(e){var i;let t="",n=!1,r=!1;for(let o=0;o<e.length;++o){const s=e[o];switch(s[0]){case"#":t+=(t===""?"":r?`

`:`
`)+(s.substring(1)||" "),n=!0,r=!1;break;case"%":((i=e[o+1])==null?void 0:i[0])!=="#"&&(o+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class KR{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,i,o)=>{const s=kv(n);o?this.warnings.push(new jq(s,r,i)):this.errors.push(new Gf(s,r,i))},this.directives=new ca({version:t.version||"1.2"}),this.options=t}decorate(t,n){const{comment:r,afterEmptyLine:i}=jB(this.prelude);if(r){const o=t.contents;if(n)t.comment=t.comment?`${t.comment}
${r}`:r;else if(i||t.directives.docStart||!o)t.commentBefore=r;else if(fi(o)&&!o.flow&&o.items.length>0){let s=o.items[0];ai(s)&&(s=s.key);const a=s.commentBefore;s.commentBefore=a?`${r}
${a}`:r}else{const s=o.commentBefore;o.commentBefore=s?`${r}
${s}`:r}}n?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:jB(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,n=!1,r=-1){for(const i of t)yield*this.next(i);yield*this.end(n,r)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(n,r,i)=>{const o=kv(t);o[0]+=n,this.onError(o,"BAD_DIRECTIVE",r,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const n=R_e(this.options,this.directives,t,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const n=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,r=new Gf(kv(t),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new Gf(kv(t),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=px(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Gf(kv(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const r=Object.assign({_directives:this.directives},this.options),i=new Rg(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}function D_e(e,t=!0,n){if(e){const r=(i,o,s)=>{const a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(n)n(a,o,s);else throw new Gf([a,a+1],o,s)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return zq(e,t,r);case"block-scalar":return Nq(e,t,r)}}return null}function j_e(e,t){const{implicitKey:n=!1,indent:r,inFlow:i=!1,offset:o=-1,type:s="PLAIN"}=t,a=fx({type:s,value:e},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),f=t.end??[{type:"newline",offset:-1,indent:r,source:`
`}];switch(a[0]){case"|":case">":{const h=a.indexOf(`
`),g=a.substring(0,h),y=a.substring(h+1)+`
`,b=[{type:"block-scalar-header",offset:o,indent:r,source:g}];return Vq(b,f)||b.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:o,indent:r,props:b,source:y}}case'"':return{type:"double-quoted-scalar",offset:o,indent:r,source:a,end:f};case"'":return{type:"single-quoted-scalar",offset:o,indent:r,source:a,end:f};default:return{type:"scalar",offset:o,indent:r,source:a,end:f}}}function L_e(e,t,n={}){let{afterKey:r=!1,implicitKey:i=!1,inFlow:o=!1,type:s}=n,a="indent"in e?e.indent:null;if(r&&typeof a=="number"&&(a+=2),!s)switch(e.type){case"single-quoted-scalar":s="QUOTE_SINGLE";break;case"double-quoted-scalar":s="QUOTE_DOUBLE";break;case"block-scalar":{const h=e.props[0];if(h.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s=h.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:s="PLAIN"}const f=fx({type:s,value:t},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}});switch(f[0]){case"|":case">":N_e(e,f);break;case'"':CP(e,f,"double-quoted-scalar");break;case"'":CP(e,f,"single-quoted-scalar");break;default:CP(e,f,"scalar")}}function N_e(e,t){const n=t.indexOf(`
`),r=t.substring(0,n),i=t.substring(n+1)+`
`;if(e.type==="block-scalar"){const o=e.props[0];if(o.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o.source=r,e.source=i}else{const{offset:o}=e,s="indent"in e?e.indent:-1,a=[{type:"block-scalar-header",offset:o,indent:s,source:r}];Vq(a,"end"in e?e.end:void 0)||a.push({type:"newline",offset:-1,indent:s,source:`
`});for(const f of Object.keys(e))f!=="type"&&f!=="offset"&&delete e[f];Object.assign(e,{type:"block-scalar",indent:s,props:a,source:i})}}function Vq(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function CP(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{const r=e.props.slice(1);let i=t.length;e.props[0].type==="block-scalar-header"&&(i-=e.props[0].source.length);for(const o of r)o.offset+=i;delete e.props,Object.assign(e,{type:n,source:t,end:r});break}case"block-map":case"block-seq":{const i={type:"newline",offset:e.offset+t.length,indent:e.indent,source:`
`};delete e.items,Object.assign(e,{type:n,source:t,end:[i]});break}default:{const r="indent"in e?e.indent:-1,i="end"in e&&Array.isArray(e.end)?e.end.filter(o=>o.type==="space"||o.type==="comment"||o.type==="newline"):[];for(const o of Object.keys(e))o!=="type"&&o!=="offset"&&delete e[o];Object.assign(e,{type:n,indent:r,source:t,end:i})}}}const z_e=e=>"type"in e?uS(e):sw(e);function uS(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=uS(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=sw(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=sw(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=sw(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function sw({start:e,key:t,sep:n,value:r}){let i="";for(const o of e)i+=o.source;if(t&&(i+=uS(t)),n)for(const o of n)i+=o.source;return r&&(i+=uS(r)),i}const nA=Symbol("break visit"),B_e=Symbol("skip children"),Wq=Symbol("remove item");function xh(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),qq(Object.freeze([]),e,t)}xh.BREAK=nA;xh.SKIP=B_e;xh.REMOVE=Wq;xh.itemAtPath=(e,t)=>{let n=e;for(const[r,i]of t){const o=n==null?void 0:n[r];if(o&&"items"in o)n=o.items[i];else return}return n};xh.parentCollection=(e,t)=>{const n=xh.itemAtPath(e,t.slice(0,-1)),r=t[t.length-1][0],i=n==null?void 0:n[r];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function qq(e,t,n){let r=n(t,e);if(typeof r=="symbol")return r;for(const i of["key","value"]){const o=t[i];if(o&&"items"in o){for(let s=0;s<o.items.length;++s){const a=qq(Object.freeze(e.concat([[i,s]])),o.items[s],n);if(typeof a=="number")s=a-1;else{if(a===nA)return nA;a===Wq&&(o.items.splice(s,1),s-=1)}}typeof r=="function"&&i==="key"&&(r=r(t,e))}}return typeof r=="function"?r(t,e):r}const HC="\uFEFF",GC="",YC="",rb="",F_e=e=>!!e&&"items"in e,U_e=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function V_e(e){switch(e){case HC:return"<BOM>";case GC:return"<DOC>";case YC:return"<FLOW_END>";case rb:return"<SCALAR>";default:return JSON.stringify(e)}}function Hq(e){switch(e){case HC:return"byte-order-mark";case GC:return"doc-mode";case YC:return"flow-error-end";case rb:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const W_e=Object.freeze(Object.defineProperty({__proto__:null,BOM:HC,DOCUMENT:GC,FLOW_END:YC,SCALAR:rb,createScalarToken:j_e,isCollection:F_e,isScalar:U_e,prettyToken:V_e,resolveAsScalar:D_e,setScalarValue:L_e,stringify:z_e,tokenType:Hq,visit:xh},Symbol.toStringTag,{value:"Module"}));function Ts(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const LB="0123456789ABCDEFabcdef".split(""),q_e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),kP=",[]{}".split(""),H_e=` ,[]{}
\r	`.split(""),TP=e=>!e||H_e.includes(e);class Gq{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,n=!1){t&&(this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null),this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let t=this.pos,n=this.buffer[t];for(;n===" "||n==="	";)n=this.buffer[++t];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let n=this.buffer[t];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+t];if(n==="\r"){const i=this.buffer[r+t+1];if(i===`
`||!i&&!this.atEnd)return t+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?t+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(t,3);if((r==="---"||r==="...")&&Ts(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===HC&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let n=t.length;const r=t.indexOf("#");if(r!==-1){const o=t[r-1];(o===" "||o==="	")&&(n=r-1)}for(;;){const o=t[n-1];if(o===" "||o==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"}return yield GC,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if(n==="---"&&Ts(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(n==="..."&&Ts(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Ts(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&Ts(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(t[n]){case"#":yield*this.pushCount(t.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(TP),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,n,r=-1;do t=yield*this.pushNewline(),t>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(t+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&i[0]!=="#"||r===0&&(i.startsWith("---")||i.startsWith("..."))&&Ts(i[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield YC,yield*this.parseLineStart();let o=0;for(;i[o]===",";)o+=yield*this.pushCount(1),o+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(o+=yield*this.pushIndicators(),i[o]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(TP),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const s=this.charAt(1);if(this.flowKey||Ts(s)||s===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let n=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let o=0;for(;this.buffer[n-1-o]==="\\";)o+=1;if(o%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let i=r.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const o=this.continueScalar(i+1);if(o===-1)break;i=r.indexOf(`
`,o)}i!==-1&&(n=i-(r[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const n=this.buffer[++t];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>Ts(n)||n==="#")}*parseBlockScalar(){let t=this.pos-1,n=0,r;e:for(let i=this.pos;r=this.buffer[i];++i)switch(r){case" ":n+=1;break;case`
`:t=i,n=0;break;case"\r":{const o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{const i=this.continueScalar(t+1);if(i===-1)break;t=this.buffer.indexOf(`
`,i)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)do{let i=t-1,o=this.buffer[i];o==="\r"&&(o=this.buffer[--i]);const s=i;for(;o===" "||o==="	";)o=this.buffer[--i];if(o===`
`&&i>=this.pos&&i+1+n>s)t=i;else break}while(!0);return yield rb,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){const o=this.buffer[r+1];if(Ts(o)||t&&o===",")break;n=r}else if(Ts(i)){let o=this.buffer[r+1];if(i==="\r"&&(o===`
`?(r+=1,i=`
`,o=this.buffer[r+1]):n=r),o==="#"||t&&kP.includes(o))break;if(i===`
`){const s=this.continueScalar(r+1);if(s===-1)break;r=Math.max(r,s-2)}}else{if(t&&kP.includes(i))break;n=r}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield rb,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(TP))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if(Ts(n)||t&&kP.includes(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!Ts(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(q_e.includes(n))n=this.buffer[++t];else if(n==="%"&&LB.includes(this.buffer[t+1])&&LB.includes(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class Yq{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const o=n+r>>1;this.lineStarts[o]<t?n=o+1:r=o}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const i=this.lineStarts[n-1];return{line:n,col:t-i+1}}}}function yl(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function NB(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function Kq(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function S1(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Mp(e){var n;if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=e[++t])==null?void 0:n.type)==="space";);return e.splice(t,e.length)}function zB(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!yl(t.start,"explicit-key-ind")&&!yl(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,Kq(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class ZR{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Gq,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=Hq(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(n)if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&zB(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!yl(i.start,"explicit-key-ind");return}break}case"block-seq":{const i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&NB(i.start)===-1&&(n.indent===0||i.start.every(o=>o.type!=="comment"||o.indent<n.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),n.items.splice(-1,1))}}else{const r="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:r}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{NB(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=S1(this.peek(2)),r=Mp(n);let i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];const o={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const i="end"in n.value?n.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2],o=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const i=!this.onKeyLine&&this.indent===t.indent&&n.sep;let o=[];if(i&&n.sep&&!n.value){const s=[];for(let a=0;a<n.sep.length;++a){const f=n.sep[a];switch(f.type){case"newline":s.push(a);break;case"space":break;case"comment":f.indent>t.indent&&(s.length=0);break;default:s.length=0}}s.length>=2&&(o=n.sep.splice(s[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(o.push(this.sourceToken),t.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!yl(n.start,"explicit-key-ind")?n.start.push(this.sourceToken):i||n.value?(o.push(this.sourceToken),t.items.push({start:o})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(yl(n.start,"explicit-key-ind"))if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(yl(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(Kq(n.key)&&!yl(n.sep,"newline")){const s=Mp(n.start),a=n.key,f=n.sep;f.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:a,sep:f}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(yl(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const s=Mp(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?t.items.push({start:o,key:null,sep:[this.sourceToken]}):yl(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);i||n.value?(t.items.push({start:o,key:s,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(s):(Object.assign(n,{key:s,sep:[]}),this.onKeyLine=!0);return}default:{const s=this.startBlockValue(t);if(s){i&&s.type!=="block-seq"&&yl(n.start,"explicit-key-ind")&&t.items.push({start:o}),this.stack.push(s);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const i="end"in n.value?n.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2],o=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||yl(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const i=this.startBlockValue(t);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const i=S1(r),o=Mp(i);zB(t);const s=t.end.splice(1,t.end.length);s.push(this.sourceToken);const a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:o,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=S1(t),r=Mp(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r}]}}case"map-value-ind":{this.onKeyLine=!0;const n=S1(t),r=Mp(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function Zq(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new Yq||null,prettyErrors:t}}function G_e(e,t={}){const{lineCounter:n,prettyErrors:r}=Zq(t),i=new ZR(n==null?void 0:n.addNewLine),o=new KR(t),s=Array.from(o.compose(i.parse(e)));if(r&&n)for(const a of s)a.errors.forEach(cS(e,n)),a.warnings.forEach(cS(e,n));return s.length>0?s:Object.assign([],{empty:!0},o.streamInfo())}function Xq(e,t={}){const{lineCounter:n,prettyErrors:r}=Zq(t),i=new ZR(n==null?void 0:n.addNewLine),o=new KR(t);let s=null;for(const a of o.compose(i.parse(e),!0,e.length))if(!s)s=a;else if(s.options.logLevel!=="silent"){s.errors.push(new Gf(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(s.errors.forEach(cS(e,n)),s.warnings.forEach(cS(e,n))),s}function Y_e(e,t,n){let r;typeof t=="function"?r=t:n===void 0&&t&&typeof t=="object"&&(n=t);const i=Xq(e,n);if(!i)return null;if(i.warnings.forEach(o=>vq(i.options.logLevel,o)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:r},n))}function K_e(e,t,n){let r=null;if(typeof t=="function"||Array.isArray(t)?r=t:n===void 0&&t&&(n=t),typeof n=="string"&&(n=n.length),typeof n=="number"){const i=Math.round(n);n=i<1?void 0:i>8?{indent:8}:{indent:i}}if(e===void 0){const{keepUndefined:i}=n??t??{};if(!i)return}return new Rg(e,r,n).toString(n)}const dS=Object.freeze(Object.defineProperty({__proto__:null,Alias:DC,CST:W_e,Composer:KR,Document:Rg,Lexer:Gq,LineCounter:Yq,Pair:Wo,Parser:ZR,Scalar:Pn,Schema:qC,YAMLError:GR,YAMLMap:es,YAMLParseError:Gf,YAMLSeq:Hd,YAMLWarning:jq,isAlias:Eh,isCollection:fi,isDocument:Og,isMap:Mg,isNode:Ri,isPair:ai,isScalar:Br,isSeq:Ag,parse:Y_e,parseAllDocuments:G_e,parseDocument:Xq,stringify:K_e,visit:qd,visitAsync:RC},Symbol.toStringTag,{value:"Module"})),Gd=Pe.createContext();var BB="";const KC=({children:e,notification:t})=>{Cn(O=>O.devices.items);const n=Cn(O=>O.mission),r=Cn(O=>O.session.server),i=Ba(),[o,s]=U.useState(!1),[a,f]=U.useState(!1);U.useState(""),U.useEffect(()=>{s(r)},[r]);const h=async O=>{try{const I=await fetch("/api/rosConnect",{method:"POST",body:new URLSearchParams(`rosState=${encodeURIComponent(o)}`)});if(I.ok){let L=await I.json();L.state==="connect"&&(t("success",L.msg),s(!0)),L.state==="error"&&(s(!1),t("danger",L.msg)),L.state==="disconnect"&&(t("danger",L.msg),s(!1)),console.log(L)}else throw Error(await I.text())}catch{s(!1)}},g=async O=>{console.log(O.name+"-"+O.category);try{const I=await fetch("/api/devices",{method:"POST",body:JSON.stringify(O),headers:{"Content-Type":"application/json"}});if(I.ok){let L=await I.json();L.state==="connect"&&t("success",L.msg),L.state==="error"&&t("danger",L.msg),console.log(L)}else throw Error(await I.text())}catch{}},y=async()=>{try{const O=await fetch("/api/commands/send",{method:"POST",body:JSON.stringify({deviceId:-1,type:"loadMission",attributes:n.route}),headers:{"Content-Type":"application/json"}});if(O.ok){let I=await O.json();I.state==="connect"&&t("success",I.msg),I.state==="error"&&t("danger",I.msg),console.log(I)}else throw Error(await O.text())}catch{}},b=async()=>{console.log("command mission ");try{const O=await fetch("/api/commands/send",{method:"POST",body:JSON.stringify({deviceId:-1,type:"commandMission"}),headers:{"Content-Type":"application/json"}});if(O.ok){let I=await O.json();I.state==="connect"&&t("success",I.msg),I.state==="error"&&t("danger",I.msg),console.log(I)}else throw Error(await O.text())}catch{}},E=(O,I)=>{if(O.endsWith(".yaml"))BB=dS.parse(I),i(Kc.updateMission({name:O.slice(0,-5),mission:BB}));else if(O.endsWith(".waypoints")){let R=I.split(`
`).map(q=>q.split("	")),D={uav_n:1,uav_1:{}},F=0;R.forEach(q=>{q[3]=="16"&&(D.uav_1["wp_"+F]=[q[8],q[9],q[10]],F=F+1)}),D.uav_1.wp_n=F,i(Kc.updateMission({name:O.slice(0,-10),mission:D}))}else if(O.endsWith(".kml")){let R=new DOMParser().parseFromString(I,"text/xml").getElementsByTagName("coordinates"),D=Object.values(R).map(J=>J.textContent.replace("	1","").replace(/(\r\n|\n|\r|\t)/gm,"").split(" ").map(ne=>ne.split(","))),F={uav_n:D.length},q=1;D.forEach(J=>{console.log(J);let K=0;F["uav_"+q]={},J.forEach(ne=>{ne.length==3&&(F["uav_"+q]["wp_"+K]=[ne[1],ne[0],ne[2]],K=K+1)}),F["uav_"+q].wp_n=K,q=q+1}),console.log(F),i(Kc.updateMission({name:O.slice(0,-4),mission:F}))}else if(O.endsWith(".plan")){let L=JSON.parse(I),R={uav_n:1,uav_1:{}},D=0;L.mission.items.forEach(F=>{R.uav_1["wp_"+D]=[F.params[4],F.params[5],F.Altitude],D=D+1}),R.uav_1.wp_n=D,i(Kc.updateMission({name:O.slice(0,-5),mission:R}))}else t("danger","Formato de mission no compatible")},T=()=>{h()};async function w(O){o?g(O):alert(`
Ros no est conectado.

 Por favor conctelo primero.`)}function M(){y()}function A(){b()}return $.jsx("div",{style:{width:"100%",height:"100%"},children:$.jsx(Gd.Provider,{value:{rosConnect:T,rosState:o,openMision:E,connectAddUav:w,commandMission:A,loadMission:M,confirmMission:a,setconfirmMission:f},children:e})})},ZC=({SetAddUAVOpen:e})=>{const[t,n]=U.useState(!1),r=Ba(),i=Ch(),o=()=>{r(Kc.clearMission({}))},s=()=>{const b=document.getElementsByName("otrotest");for(let E=0;E<b.length;E++)b[E].setAttribute("class","mytest");setTimeout(()=>{console.log("1 Segundo esperado");for(let E=0;E<b.length;E++)b[E].setAttribute("class","dropdown-content")},500),n(E=>!E)},a=U.useContext(Gd),f=b=>{const E=b.target.files[0];if(!E)return;const T=new FileReader;T.readAsText(E),T.onload=()=>{a.openMision(E.name,T.result)},T.onerror=()=>{console.log("error"),console.log(T.error)}},h=b=>{const E=b.target.files[0];if(!E)return;const T=new FileReader;T.readAsText(E),T.onload=()=>{console.log(T.result);let w=new DOMParser().parseFromString(T.result,"text/xml");console.log(w);let M=w.getElementsByTagName("Point");console.log(M);let A=Object.values(M).map(D=>D.textContent.replace("	1","").replace(/(\r\n|\n|\r|\t)/gm,"").split(","));console.log(A);let O=w.getElementsByTagName("coordinates");console.log(O);const I=Object.values(O).map(D=>D.textContent.replace("	1","").replace(/(\r\n|\n|\r|\t)/gm,"").split(" ")),L=I.map(D=>D.map(F=>F.split(",")));console.log(I),console.log(L);let R=[];if(A.length)return console.log("add markers"),R=A.map((D,F,q)=>({latitude:Number(D[1]),longitude:Number(D[0]),image:"base"})),console.log(R),r(qc.addMarkerBase(R)),null;L.length&&(console.log("add towers markers"),L.map(D=>{console.log(D);const F=[];D.map(q=>(console.log(q),q.length>1&&F.push({latitude:Number(q[1]),longitude:Number(q[0])}),null)),R.push({type:"powerTower",items:F})}),console.log(R),r(qc.addMarkerElement(R)))},T.onerror=()=>{console.log("error"),console.log(T.error)}};function g(){Le.easeTo({center:[-6.0025,37.412],zoom:Math.max(Le.getZoom(),5),offset:[0,-1/2]})}function y(){e(!0)}return $.jsx(cR,{position:"static",style:{backgroundColor:"#333",height:"52px"},children:$.jsx(bR,{maxWidth:"x",children:$.jsxs(Tg,{disableGutters:!0,children:[$.jsx(or,{onClick:()=>{g(),i("/")},children:$.jsx(tn,{variant:"h6",noWrap:!0,component:"a",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"#FFFFFF",textDecoration:"none"},children:"Management Tool"})}),$.jsxs("div",{className:"dropdown",children:[$.jsx("button",{className:"dropbtn",children:"ROS "}),$.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[$.jsx("a",{id:"rosConnectNavbar",onClick:()=>{a.rosConnect(),s()},children:"Connect Ros"}),$.jsx("a",{id:"rosConnectNavbar",onClick:()=>{i("/topics"),s()},children:"Show Topics"}),$.jsx("a",{id:"rosConnectNavbar",onClick:()=>{a.rosConnect(),s()},children:"Show servies"})]})]}),$.jsxs("div",{className:"dropdown",children:[$.jsxs("button",{className:"dropbtn",children:["UAV",$.jsx("i",{className:"fa fa-caret-down"})]}),$.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[$.jsx("a",{id:"openAddUavNavbar",onClick:()=>{y(),s()},children:"Connect UAV"}),$.jsx("a",{id:"loadMissionNavbar",onClick:()=>{a.loadMission(),s()},children:"Load Mission UAV's"}),$.jsx("a",{id:"commandMissionNavbar",onClick:()=>{a.setconfirmMission(!0),s()},children:"Command Mission All"})]})]}),$.jsxs("div",{className:"dropdown",children:[$.jsxs("button",{className:"dropbtn",children:["Mission",$.jsx("i",{className:"fa fa-caret-down"})]}),$.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[$.jsx("label",{id:"menuopenmission",htmlFor:"openMissionNavbar",children:"Open Mision"}),$.jsx("input",{accept:".yaml, .plan, .waypoint, .kml",type:"file",multiple:!1,style:{display:"none"},id:"openMissionNavbar",onChange:f}),$.jsx("a",{id:"Clear mission",onClick:()=>{o(),s()},children:"Clear Mission"}),$.jsx("a",{id:"editmission",onClick:()=>{i("/mission"),s()},children:"Edit mission"}),$.jsx("a",{id:"planning",onClick:()=>{i("/planning"),s()},children:"Planning"})]})]}),$.jsxs("div",{className:"dropdown",children:[$.jsxs("button",{className:"dropbtn",children:["View",$.jsx("i",{className:"fa fa-caret-down"})]}),$.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[$.jsx("a",{id:"hideRosterNavbar",onClick:s,children:"Enviroment Features"}),$.jsx("label",{id:"menuopenelements",htmlFor:"openElementsNavbar",children:"add elements"}),$.jsx("input",{accept:".kml",type:"file",multiple:!1,style:{display:"none"},id:"openElementsNavbar",onChange:h}),$.jsx("a",{id:"cameraView",onClick:()=>{i("/camera"),s()},children:"Camera view"})]})]}),$.jsx("div",{className:"dropdown",children:$.jsxs("button",{className:"dropbtn",onClick:()=>{i("/events")},children:["Report",$.jsx("i",{className:"fa fa-caret-down"})]})})]})})})};var XR={},Jq={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Jq);var pr=Jq.exports,EP={};const Z_e=aU(cle);var FB;function mr(){return FB||(FB=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Z_e}(EP)),EP}var X_e=pr;Object.defineProperty(XR,"__esModule",{value:!0});var Qq=XR.default=void 0,J_e=X_e(mr()),Q_e=$,e1e=(0,J_e.default)((0,Q_e.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");Qq=XR.default=e1e;var JR={},t1e=pr;Object.defineProperty(JR,"__esModule",{value:!0});var eH=JR.default=void 0,n1e=t1e(mr()),r1e=$,i1e=(0,n1e.default)((0,r1e.jsx)("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}),"Folder");eH=JR.default=i1e;var QR={},o1e=pr;Object.defineProperty(QR,"__esModule",{value:!0});var tH=QR.default=void 0,a1e=o1e(mr()),s1e=$,l1e=(0,a1e.default)((0,s1e.jsx)("path",{d:"M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"}),"Flight");tH=QR.default=l1e;var eD={},c1e=pr;Object.defineProperty(eD,"__esModule",{value:!0});var nH=eD.default=void 0,u1e=c1e(mr()),d1e=$,f1e=(0,u1e.default)((0,d1e.jsx)("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"FileUpload");nH=eD.default=f1e;var tD={},h1e=pr;Object.defineProperty(tD,"__esModule",{value:!0});var rH=tD.default=void 0,p1e=h1e(mr()),m1e=$,g1e=(0,p1e.default)((0,m1e.jsx)("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h10v4h8v10z"}),"Tab");rH=tD.default=g1e;var nD={},y1e=pr;Object.defineProperty(nD,"__esModule",{value:!0});var iH=nD.default=void 0,v1e=y1e(mr()),b1e=$,x1e=(0,v1e.default)((0,b1e.jsx)("path",{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"}),"Reply");iH=nD.default=x1e;var rD={},_1e=pr;Object.defineProperty(rD,"__esModule",{value:!0});var oH=rD.default=void 0,w1e=_1e(mr()),S1e=$,C1e=(0,w1e.default)((0,S1e.jsx)("path",{d:"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z"}),"CallMade");oH=rD.default=C1e;var iD={},k1e=pr;Object.defineProperty(iD,"__esModule",{value:!0});var aH=iD.default=void 0,T1e=k1e(mr()),E1e=$,P1e=(0,T1e.default)((0,E1e.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"ModeEdit");aH=iD.default=P1e;var oD={},O1e=pr;Object.defineProperty(oD,"__esModule",{value:!0});var sH=oD.default=void 0,M1e=O1e(mr()),A1e=$,I1e=(0,M1e.default)((0,A1e.jsx)("path",{d:"m19 8-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}),"Cached");sH=oD.default=I1e;const $1e=wr(e=>({toolbar:{height:"36px",background:"linear-gradient(#E7E5E7, #D3D1D3)",borderTop:"1px solid rgba(255, 255, 255, .6)"},mediaButton:{width:"auto",color:ac[700],backgroundColor:"#F9F9F9",boxShadow:"inset 0px -4px 4px 0 rgba(0, 0, 0, 0.1)",maxHeight:"22px",top:"2px",border:"1px solid #C2C0C2",margin:"5px 10px",fontSize:"12px","&:hover":{backgroundColor:ac[300]}},mediaicon:{color:ac[700],width:"15px"}})),XC=({SetAddUAVOpen:e})=>{const t=$1e(),n=U.useContext(Gd),[r,i]=U.useState("no load mission"),o=Cn(T=>T.mission.name),s=Cn(T=>T.mission.home),[a,f]=U.useState(!0),h=T=>{const w=T.target.files[0];if(!w)return;const M=new FileReader;M.readAsText(w),M.onload=()=>{console.log(M.result),console.log(w.name),n.openMision(w.name,M.result)},M.onerror=()=>{console.log(M.error)}};function g(){Le.easeTo({center:[-6.0025,37.412],zoom:Math.max(Le.getZoom(),5),offset:[0,-1/2]})}function y(){Le.easeTo({center:[s[1],s[0]],zoom:Math.max(Le.getZoom(),15),offset:[0,-1/2]})}function b(){e(!0)}const E=()=>{f(!a)};return U.useEffect(()=>{i(o)},[o]),U.useEffect(()=>{y()},[s]),$.jsx("header",{className:t.toolbar,children:$.jsxs("div",{children:[$.jsxs(Kfe,{style:{height:"26px",display:"inline",justifyContent:"flex-end"},children:[$.jsx(or,{onClick:g,className:t.mediaButton,style:{margin:"0px 0px"},children:$.jsx(Qq,{fontSize:"small",className:t.mediaicon})}),$.jsxs(or,{id:"openMission",className:t.mediaButton,style:{margin:"0px 0px"},children:[$.jsx("label",{htmlFor:"openMissionNavbar",style:{padding:0},children:$.jsx(eH,{fontSize:"small",className:t.mediaicon,style:{position:"relative",top:"3px"}})}),$.jsx("input",{type:"file",multiple:!1,style:{display:"none"},id:"openMissionNavbar",onChange:h})]}),$.jsx(or,{id:"openAddUav",onClick:b,className:t.mediaButton,style:{margin:"0px 0px"},children:$.jsx(tH,{fontSize:"small",className:t.mediaicon,style:{transform:"rotate(90deg)"}})})]}),$.jsx(Gd.Consumer,{children:({rosState:T})=>$.jsxs(or,{id:"rosConnect",onClick:n.rosConnect,className:t.mediaButton,children:[T&&"conectado"," ",!T&&"desconectado"," "]})}),$.jsx(or,{id:"loadMission",size:"small",onClick:b,className:t.mediaButton,children:$.jsx(nH,{fontSize:"small",className:t.mediaicon})}),$.jsx(or,{id:"commandMission",onClick:b,className:t.mediaButton,children:"Fly!"}),$.jsxs(or,{id:"openedmission",onClick:y,className:t.mediaButton,style:{margin:"0px 100px",width:"500px"},children:[" ",r]}),$.jsx(or,{variant:"filledTonal",onClick:T=>E(),className:t.mediaButton,children:"Status"}),$.jsx(or,{id:"openTerminal",style:{visibility:!0},className:t.mediaButton,children:$.jsx(rH,{fontSize:"small",className:t.mediaicon})}),$.jsx(or,{id:"UndoMission",style:{visibility:!0},className:t.mediaButton,children:$.jsx(iH,{fontSize:"small",className:t.mediaicon})}),$.jsx(or,{id:"reset",className:t.mediaButton,children:$.jsx(oH,{fontSize:"small",className:t.mediaicon})}),$.jsx(or,{id:"showManualMode",className:t.mediaButton,children:$.jsx(aH,{fontSize:"small",className:t.mediaicon})}),$.jsx(or,{id:"commandManualMission",style:{visibility:!0},className:t.mediaButton,children:$.jsx(sH,{fontSize:"small",className:t.mediaicon})})]})})};var aD={},R1e=pr;Object.defineProperty(aD,"__esModule",{value:!0});var mu=aD.default=void 0,D1e=R1e(mr()),j1e=$,L1e=(0,D1e.default)((0,j1e.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");mu=aD.default=L1e;const N1e=wr(e=>({title:{fontWeight:700,fontSize:"16px",textAlign:"left",marginTop:0,marginBottom:"6px",width:"300px",height:"18px"},mediaButton:{color:"#fff",mixBlendMode:"difference",right:0,top:0},description:{margin:0,textAlign:"left",fontSize:"12px",paddingLeft:"1rem"},toast:{height:"60px",width:"365px",color:"#fff",marginBottom:"1rem"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(.5,1,0,2)},card:{pointerEvents:"auto",height:"60px",width:"365px",color:"#fff",marginBottom:"1rem"},root:{pointerEvents:"none",position:"fixed",zIndex:5,bottom:"1rem",right:"1rem"}})),z1e=({toastlist:e,position:t,setList:n})=>{const r=N1e(),i=U.useCallback(o=>{const s=e.filter(a=>a.id!==o);n(s)},[e,n]);return U.useEffect(()=>{const o=setInterval(()=>{e.length&&i(e[0].id)},3e3);return()=>{clearInterval(o)}},[e,i]),$.jsx("div",{className:r.root,children:e.map((o,s)=>$.jsxs(Tu,{elevation:3,className:r.card,style:{backgroundColor:o.backgroundColor},children:[$.jsxs("div",{className:r.header,children:[$.jsx(tn,{variant:"body2",children:o.title}),$.jsx(En,{size:"small",onClick:()=>i(o.id),onTouchStart:()=>i(o.id),children:$.jsx(mu,{fontSize:"small",className:r.mediaButton})})]}),$.jsx("div",{children:$.jsx("p",{className:r.description,children:o.description})})]}))})};var sD={},B1e=pr;Object.defineProperty(sD,"__esModule",{value:!0});var Fo=sD.default=void 0,F1e=B1e(mr()),U1e=$,V1e=(0,F1e.default)((0,U1e.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");Fo=sD.default=V1e;const Cl=({label:e,fullWidth:t,multiple:n,value:r,emptyValue:i=0,emptyTitle:o="",onChange:s,endpoint:a,data:f,keyGetter:h=b=>b.id,titleGetter:g=b=>b.name,getItems:y=b=>b})=>{const[b,E]=U.useState(f);return sx(async()=>{if(a){const T=await fetch(a);if(T.ok)E(await T.json());else throw Error(await T.text())}},[]),U.useEffect(()=>{typeof b<"u"&&y(b[r])},[b]),b?$.jsxs(ix,{fullWidth:t,children:[$.jsx(ox,{children:e}),$.jsxs(ax,{label:e,multiple:n,value:r,onChange:T=>s(T,b),children:[!n&&i!==null&&$.jsx(Ls,{value:i,children:o}),b.map(T=>$.jsx(Ls,{value:h(T),children:g(T)},h(T)))]})]}):null};var lD={},W1e=pr;Object.defineProperty(lD,"__esModule",{value:!0});var us=lD.default=void 0,q1e=W1e(mr()),H1e=$,G1e=(0,q1e.default)((0,H1e.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");us=lD.default=G1e;const Y1e=wr(e=>({card:{pointerEvents:"auto",display:"block",width:"400px",height:"70vh",transitionDuration:"0.3s",overflowY:"auto"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"50%",top:"20%",transform:"translateX(-50%)"},button:{width:"80%",paddingBottom:"10pt",paddingTop:"10pt"},formControl:{margin:e.spacing(1),gap:e.spacing(2),paddingBottom:"20pt"},inputtext:{paddingBottom:"20px"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},title:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"20pt",textAlign:"left"},closeBtn:{display:"flex",right:"5px",height:"35px",position:"absolute"},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),K1e=({SetAddUAVOpen:e})=>{const t=Y1e(),n=U.useContext(Gd),[r,i]=U.useState({name:"uav_",category:"dji_M210_noetic",ip:"10.42.0.42",camera:[]});function o(){e(!1)}function s(){console.log("add uav-"+r.name+"-"+r.category),console.log(r),n.connectAddUav(r),e(!1)}const a=h=>{let g=JSON.parse(JSON.stringify(r.camera));g.splice(h,1),i({...r,camera:g})};function f(){let h=JSON.parse(JSON.stringify(r.camera));h.push({type:"WebRTC",source:""}),i({...r,camera:h})}return $.jsx("div",{className:t.root,children:$.jsxs(Tu,{elevation:3,className:t.card,children:[$.jsx("div",{className:t.closeBtn,children:$.jsx(En,{size:"small",onClick:o,onTouchStart:o,children:$.jsx(mu,{fontSize:"small",className:t.mediaButton})})}),$.jsx("b",{children:$.jsx("div",{className:t.title,children:"Add device "})}),$.jsxs(ua,{defaultExpanded:!0,children:[$.jsx(fa,{expandIcon:$.jsx(Fo,{}),children:$.jsx(tn,{variant:"subtitle1",children:"Datos UAV"})}),$.jsx(da,{className:t.details,children:$.jsxs(ipe,{style:{margin:"20px"},children:[$.jsx(ar,{required:!0,label:"UAV ID",name:"uavid",value:r.name,onChange:h=>i({...r,name:h.target.value}),className:t.inputtext}),$.jsx(Cl,{emptyValue:null,value:r.category?r.category:"",onChange:h=>i({...r,category:h.target.value}),endpoint:"/api/category",keyGetter:h=>h,titleGetter:h=>h,label:"Type UAV "}),$.jsx(ar,{style:{marginTop:"20px"},label:"ip",value:r.ip,onChange:h=>i({...r,ip:h.target.value})})]})})]}),r&&$.jsxs(ua,{children:[$.jsx(fa,{expandIcon:$.jsx(Fo,{}),children:$.jsx(tn,{variant:"subtitle1",children:"Camera"})}),$.jsxs(da,{className:t.details,children:[r.camera&&r.camera.map((h,g,y)=>$.jsxs(U.Fragment,{children:[$.jsx(tn,{variant:"subtitle1",className:t.attributeName,children:"Camera "+g}),$.jsxs("div",{children:[$.jsxs(ix,{variant:"outlined",children:[$.jsx(ox,{id:"demo-simple-select-outlined-label",children:"CameraType"}),$.jsxs(ax,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:h.type,label:"type",onChange:b=>i({...r,camera:r.camera.map((E,T)=>{let w=JSON.parse(JSON.stringify(E));return g==T&&(w.type=b.target.value),w})}),children:[$.jsx(Ls,{value:"WebRTC",children:"WebRTC"}),$.jsx(Ls,{value:"WebRTC_env",children:"WebRTCenv"}),$.jsx(Ls,{value:"Websocket",children:"Websocket"})]})]}),$.jsx("div",{className:t.actionValue,children:$.jsx(ar,{required:!0,fullWidth:!0,value:h.source,onChange:b=>i({...r,camera:r.camera.map((E,T)=>{let w=JSON.parse(JSON.stringify(E));return g==T&&(w.source=b.target.value),w})})})}),$.jsx(En,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>a(g),className:t.negative,children:$.jsx(us,{})})]}),$.jsx(Ym,{})]},"fragment-action-"+g)),$.jsx(or,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:f,children:"Add camera source"})]})]}),$.jsx("div",{style:{paddingBottom:"20pt",paddingTop:"20pt",display:"flex",justifyContent:"center"},children:$.jsx(or,{className:t.button,variant:"contained",onClick:s,children:"ADD"})})]})})},fS="/assets/placeholder-IqVYhB-0.jpg";var cD={},Z1e=pr;Object.defineProperty(cD,"__esModule",{value:!0});var uD=cD.default=void 0,X1e=Z1e(mr()),J1e=$,Q1e=(0,X1e.default)((0,J1e.jsx)("path",{d:"m15 3 2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3h-6zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3v6zm6 12-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6h6zm12-6-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6v-6z"}),"ZoomOutMap");uD=cD.default=Q1e;const ewe=wr(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},card_max:{pointerEvents:"auto",width:"100%"},media:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"360px",top:e.spacing(15),transform:"translateX(1%)"},root_max:{pointerEvents:"none",position:"fixed",zIndex:6,left:"51%",top:"5%",transform:"translateX(-50%)",width:"55%"}})),twe=({deviceId:e,datacamera:t,onClose:n})=>{const r=ewe(),[i,o]=U.useState(fS),s=Cn(b=>b.devices.items[e]),[a,f]=U.useState(!1);let h=a?r.card_max:r.card,g=a?r.root_max:r.root;function y(){f(!a)}return U.useEffect(()=>{e!=null&&(t!=null?o("data:image/bgr8;base64,"+t.camera):o(fS))},[t]),$.jsx("div",{className:g,children:s&&$.jsxs(Tu,{elevation:3,className:h,children:[$.jsxs("div",{style:{display:"flex",right:"5px",height:"35px",position:"absolute"},children:[$.jsx(En,{size:"small",onClick:y,onTouchStart:y,children:$.jsx(uD,{fontSize:"small",className:r.mediaButton})}),$.jsx(En,{size:"small",onClick:()=>{n(),f(!1)},onTouchStart:n,children:$.jsx(mu,{fontSize:"small",className:r.mediaButton})})]}),$.jsxs("div",{style:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},children:["Image "+s.name," "]}),$.jsx("img",{src:i,className:r.media})]})})};var UB=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function nwe(e,t){return!!(e===t||UB(e)&&UB(t))}function rwe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!nwe(e[n],t[n]))return!1;return!0}function PP(e,t){t===void 0&&(t=rwe);var n,r=[],i,o=!1;function s(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];return o&&n===this&&t(a,r)||(i=e.apply(this,a),o=!0,n=this,r=a),i}return s}var iwe=typeof performance=="object"&&typeof performance.now=="function",VB=iwe?function(){return performance.now()}:function(){return Date.now()};function WB(e){cancelAnimationFrame(e.id)}function owe(e,t){var n=VB();function r(){VB()-n>=t?e.call(null):i.id=requestAnimationFrame(r)}var i={id:requestAnimationFrame(r)};return i}var OP=-1;function qB(e){if(e===void 0&&(e=!1),OP===-1||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),OP=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return OP}var Ap=null;function HB(e){if(e===void 0&&(e=!1),Ap===null||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?Ap="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?Ap="negative":Ap="positive-ascending"),document.body.removeChild(t),Ap}return Ap}var awe=150,swe=function(t,n){return t};function lwe(e){var t,n=e.getItemOffset,r=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,s=e.getStartIndexForOffset,a=e.getStopIndexForStartIndex,f=e.initInstanceProps,h=e.shouldResetStyleCacheOnItemSizeChange,g=e.validateProps;return t=function(y){tx(b,y);function b(T){var w;return w=y.call(this,T)||this,w._instanceProps=f(w.props,Z0(w)),w._outerRef=void 0,w._resetIsScrollingTimeoutId=null,w.state={instance:Z0(w),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof w.props.initialScrollOffset=="number"?w.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},w._callOnItemsRendered=void 0,w._callOnItemsRendered=PP(function(M,A,O,I){return w.props.onItemsRendered({overscanStartIndex:M,overscanStopIndex:A,visibleStartIndex:O,visibleStopIndex:I})}),w._callOnScroll=void 0,w._callOnScroll=PP(function(M,A,O){return w.props.onScroll({scrollDirection:M,scrollOffset:A,scrollUpdateWasRequested:O})}),w._getItemStyle=void 0,w._getItemStyle=function(M){var A=w.props,O=A.direction,I=A.itemSize,L=A.layout,R=w._getItemStyleCache(h&&I,h&&L,h&&O),D;if(R.hasOwnProperty(M))D=R[M];else{var F=n(w.props,M,w._instanceProps),q=i(w.props,M,w._instanceProps),J=O==="horizontal"||L==="horizontal",K=O==="rtl",ne=J?F:0;R[M]=D={position:"absolute",left:K?void 0:ne,right:K?ne:void 0,top:J?0:F,height:J?"100%":q,width:J?q:"100%"}}return D},w._getItemStyleCache=void 0,w._getItemStyleCache=PP(function(M,A,O){return{}}),w._onScrollHorizontal=function(M){var A=M.currentTarget,O=A.clientWidth,I=A.scrollLeft,L=A.scrollWidth;w.setState(function(R){if(R.scrollOffset===I)return null;var D=w.props.direction,F=I;if(D==="rtl")switch(HB()){case"negative":F=-I;break;case"positive-descending":F=L-O-I;break}return F=Math.max(0,Math.min(F,L-O)),{isScrolling:!0,scrollDirection:R.scrollOffset<F?"forward":"backward",scrollOffset:F,scrollUpdateWasRequested:!1}},w._resetIsScrollingDebounced)},w._onScrollVertical=function(M){var A=M.currentTarget,O=A.clientHeight,I=A.scrollHeight,L=A.scrollTop;w.setState(function(R){if(R.scrollOffset===L)return null;var D=Math.max(0,Math.min(L,I-O));return{isScrolling:!0,scrollDirection:R.scrollOffset<D?"forward":"backward",scrollOffset:D,scrollUpdateWasRequested:!1}},w._resetIsScrollingDebounced)},w._outerRefSetter=function(M){var A=w.props.outerRef;w._outerRef=M,typeof A=="function"?A(M):A!=null&&typeof A=="object"&&A.hasOwnProperty("current")&&(A.current=M)},w._resetIsScrollingDebounced=function(){w._resetIsScrollingTimeoutId!==null&&WB(w._resetIsScrollingTimeoutId),w._resetIsScrollingTimeoutId=owe(w._resetIsScrolling,awe)},w._resetIsScrolling=function(){w._resetIsScrollingTimeoutId=null,w.setState({isScrolling:!1},function(){w._getItemStyleCache(-1,null)})},w}b.getDerivedStateFromProps=function(w,M){return cwe(w,M),g(w),null};var E=b.prototype;return E.scrollTo=function(w){w=Math.max(0,w),this.setState(function(M){return M.scrollOffset===w?null:{scrollDirection:M.scrollOffset<w?"forward":"backward",scrollOffset:w,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},E.scrollToItem=function(w,M){M===void 0&&(M="auto");var A=this.props,O=A.itemCount,I=A.layout,L=this.state.scrollOffset;w=Math.max(0,Math.min(w,O-1));var R=0;if(this._outerRef){var D=this._outerRef;I==="vertical"?R=D.scrollWidth>D.clientWidth?qB():0:R=D.scrollHeight>D.clientHeight?qB():0}this.scrollTo(o(this.props,w,M,L,this._instanceProps,R))},E.componentDidMount=function(){var w=this.props,M=w.direction,A=w.initialScrollOffset,O=w.layout;if(typeof A=="number"&&this._outerRef!=null){var I=this._outerRef;M==="horizontal"||O==="horizontal"?I.scrollLeft=A:I.scrollTop=A}this._callPropsCallbacks()},E.componentDidUpdate=function(){var w=this.props,M=w.direction,A=w.layout,O=this.state,I=O.scrollOffset,L=O.scrollUpdateWasRequested;if(L&&this._outerRef!=null){var R=this._outerRef;if(M==="horizontal"||A==="horizontal")if(M==="rtl")switch(HB()){case"negative":R.scrollLeft=-I;break;case"positive-ascending":R.scrollLeft=I;break;default:var D=R.clientWidth,F=R.scrollWidth;R.scrollLeft=F-D-I;break}else R.scrollLeft=I;else R.scrollTop=I}this._callPropsCallbacks()},E.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&WB(this._resetIsScrollingTimeoutId)},E.render=function(){var w=this.props,M=w.children,A=w.className,O=w.direction,I=w.height,L=w.innerRef,R=w.innerElementType,D=w.innerTagName,F=w.itemCount,q=w.itemData,J=w.itemKey,K=J===void 0?swe:J,ne=w.layout,le=w.outerElementType,ye=w.outerTagName,de=w.style,se=w.useIsScrolling,pe=w.width,be=this.state.isScrolling,ce=O==="horizontal"||ne==="horizontal",Ee=ce?this._onScrollHorizontal:this._onScrollVertical,Re=this._getRangeToRender(),Xe=Re[0],Ae=Re[1],Fe=[];if(F>0)for(var qe=Xe;qe<=Ae;qe++)Fe.push(U.createElement(M,{data:q,key:K(qe,q),index:qe,isScrolling:se?be:void 0,style:this._getItemStyle(qe)}));var rt=r(this.props,this._instanceProps);return U.createElement(le||ye||"div",{className:A,onScroll:Ee,ref:this._outerRefSetter,style:ee({position:"relative",height:I,width:pe,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:O},de)},U.createElement(R||D||"div",{children:Fe,ref:L,style:{height:ce?"100%":rt,pointerEvents:be?"none":void 0,width:ce?rt:"100%"}}))},E._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var w=this.props.itemCount;if(w>0){var M=this._getRangeToRender(),A=M[0],O=M[1],I=M[2],L=M[3];this._callOnItemsRendered(A,O,I,L)}}if(typeof this.props.onScroll=="function"){var R=this.state,D=R.scrollDirection,F=R.scrollOffset,q=R.scrollUpdateWasRequested;this._callOnScroll(D,F,q)}},E._getRangeToRender=function(){var w=this.props,M=w.itemCount,A=w.overscanCount,O=this.state,I=O.isScrolling,L=O.scrollDirection,R=O.scrollOffset;if(M===0)return[0,0,0,0];var D=s(this.props,R,this._instanceProps),F=a(this.props,D,R,this._instanceProps),q=!I||L==="backward"?Math.max(1,A):1,J=!I||L==="forward"?Math.max(1,A):1;return[Math.max(0,D-q),Math.max(0,Math.min(M-1,F+J)),D,F]},b}(U.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var cwe=function(t,n){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,n.instance},uwe=lwe({getItemOffset:function(t,n){var r=t.itemSize;return n*r},getItemSize:function(t,n){var r=t.itemSize;return r},getEstimatedTotalSize:function(t){var n=t.itemCount,r=t.itemSize;return r*n},getOffsetForIndexAndAlignment:function(t,n,r,i,o,s){var a=t.direction,f=t.height,h=t.itemCount,g=t.itemSize,y=t.layout,b=t.width,E=a==="horizontal"||y==="horizontal",T=E?b:f,w=Math.max(0,h*g-T),M=Math.min(w,n*g),A=Math.max(0,n*g-T+g+s);switch(r==="smart"&&(i>=A-T&&i<=M+T?r="auto":r="center"),r){case"start":return M;case"end":return A;case"center":{var O=Math.round(A+(M-A)/2);return O<Math.ceil(T/2)?0:O>w+Math.floor(T/2)?w:O}case"auto":default:return i>=A&&i<=M?i:i<A?A:M}},getStartIndexForOffset:function(t,n){var r=t.itemCount,i=t.itemSize;return Math.max(0,Math.min(r-1,Math.floor(n/i)))},getStopIndexForStartIndex:function(t,n,r){var i=t.direction,o=t.height,s=t.itemCount,a=t.itemSize,f=t.layout,h=t.width,g=i==="horizontal"||f==="horizontal",y=n*a,b=g?h:o,E=Math.ceil((b+r-y)/a);return Math.max(0,Math.min(s-1,n+E-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});let Us;typeof window<"u"?Us=window:typeof self<"u"?Us=self:Us=global;let rA=null,iA=null;const GB=20,MP=Us.clearTimeout,YB=Us.setTimeout,AP=Us.cancelAnimationFrame||Us.mozCancelAnimationFrame||Us.webkitCancelAnimationFrame,KB=Us.requestAnimationFrame||Us.mozRequestAnimationFrame||Us.webkitRequestAnimationFrame;AP==null||KB==null?(rA=MP,iA=function(t){return YB(t,GB)}):(rA=function([t,n]){AP(t),MP(n)},iA=function(t){const n=KB(function(){MP(r),t()}),r=YB(function(){AP(n),t()},GB);return[n,r]});function dwe(e){let t,n,r,i,o,s,a;const f=typeof document<"u"&&document.attachEvent;if(!f){s=function(A){const O=A.__resizeTriggers__,I=O.firstElementChild,L=O.lastElementChild,R=I.firstElementChild;L.scrollLeft=L.scrollWidth,L.scrollTop=L.scrollHeight,R.style.width=I.offsetWidth+1+"px",R.style.height=I.offsetHeight+1+"px",I.scrollLeft=I.scrollWidth,I.scrollTop=I.scrollHeight},o=function(A){return A.offsetWidth!==A.__resizeLast__.width||A.offsetHeight!==A.__resizeLast__.height},a=function(A){if(A.target.className&&typeof A.target.className.indexOf=="function"&&A.target.className.indexOf("contract-trigger")<0&&A.target.className.indexOf("expand-trigger")<0)return;const O=this;s(this),this.__resizeRAF__&&rA(this.__resizeRAF__),this.__resizeRAF__=iA(function(){o(O)&&(O.__resizeLast__.width=O.offsetWidth,O.__resizeLast__.height=O.offsetHeight,O.__resizeListeners__.forEach(function(R){R.call(O,A)}))})};let b=!1,E="";r="animationstart";const T="Webkit Moz O ms".split(" ");let w="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),M="";{const A=document.createElement("fakeelement");if(A.style.animationName!==void 0&&(b=!0),b===!1){for(let O=0;O<T.length;O++)if(A.style[T[O]+"AnimationName"]!==void 0){M=T[O],E="-"+M.toLowerCase()+"-",r=w[O],b=!0;break}}}n="resizeanim",t="@"+E+"keyframes "+n+" { from { opacity: 0; } to { opacity: 0; } } ",i=E+"animation: 1ms "+n+"; "}const h=function(b){if(!b.getElementById("detectElementResize")){const E=(t||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',T=b.head||b.getElementsByTagName("head")[0],w=b.createElement("style");w.id="detectElementResize",w.type="text/css",e!=null&&w.setAttribute("nonce",e),w.styleSheet?w.styleSheet.cssText=E:w.appendChild(b.createTextNode(E)),T.appendChild(w)}};return{addResizeListener:function(b,E){if(f)b.attachEvent("onresize",E);else{if(!b.__resizeTriggers__){const T=b.ownerDocument,w=Us.getComputedStyle(b);w&&w.position==="static"&&(b.style.position="relative"),h(T),b.__resizeLast__={},b.__resizeListeners__=[],(b.__resizeTriggers__=T.createElement("div")).className="resize-triggers";const M=T.createElement("div");M.className="expand-trigger",M.appendChild(T.createElement("div"));const A=T.createElement("div");A.className="contract-trigger",b.__resizeTriggers__.appendChild(M),b.__resizeTriggers__.appendChild(A),b.appendChild(b.__resizeTriggers__),s(b),b.addEventListener("scroll",a,!0),r&&(b.__resizeTriggers__.__animationListener__=function(I){I.animationName===n&&s(b)},b.__resizeTriggers__.addEventListener(r,b.__resizeTriggers__.__animationListener__))}b.__resizeListeners__.push(E)}},removeResizeListener:function(b,E){if(f)b.detachEvent("onresize",E);else if(b.__resizeListeners__.splice(b.__resizeListeners__.indexOf(E),1),!b.__resizeListeners__.length){b.removeEventListener("scroll",a,!0),b.__resizeTriggers__.__animationListener__&&(b.__resizeTriggers__.removeEventListener(r,b.__resizeTriggers__.__animationListener__),b.__resizeTriggers__.__animationListener__=null);try{b.__resizeTriggers__=!b.removeChild(b.__resizeTriggers__)}catch{}}}}}class fwe extends U.Component{constructor(...t){super(...t),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:n,disableWidth:r,onResize:i}=this.props;if(this._parentNode){var o,s,a,f;const h=window.getComputedStyle(this._parentNode)||{},g=parseFloat((o=h.paddingLeft)!==null&&o!==void 0?o:"0"),y=parseFloat((s=h.paddingRight)!==null&&s!==void 0?s:"0"),b=parseFloat((a=h.paddingTop)!==null&&a!==void 0?a:"0"),E=parseFloat((f=h.paddingBottom)!==null&&f!==void 0?f:"0"),T=this._parentNode.getBoundingClientRect(),w=T.height-b-E,M=T.width-g-y,A=this._parentNode.offsetHeight-b-E,O=this._parentNode.offsetWidth-g-y;(!n&&(this.state.height!==A||this.state.scaledHeight!==w)||!r&&(this.state.width!==O||this.state.scaledWidth!==M))&&(this.setState({height:A,width:O,scaledHeight:w,scaledWidth:M}),typeof i=="function"&&i({height:A,scaledHeight:w,scaledWidth:M,width:O}))}},this._setRef=n=>{this._autoSizer=n}}componentDidMount(){const{nonce:t}=this.props;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._parentNode!=null&&(typeof ResizeObserver<"u"?(this._resizeObserver=new ResizeObserver(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(this._parentNode)):(this._detectElementResize=dwe(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize)),this._onResize()))}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&(this._resizeObserver.observe(this._parentNode),this._resizeObserver.disconnect()))}render(){const{children:t,defaultHeight:n,defaultWidth:r,disableHeight:i=!1,disableWidth:o=!1,nonce:s,onResize:a,style:f={},tagName:h="div",...g}=this.props,{height:y,scaledHeight:b,scaledWidth:E,width:T}=this.state,w={overflow:"visible"},M={};let A=!1;return i||(y===0&&(A=!0),w.height=0,M.height=y,M.scaledHeight=b),o||(T===0&&(A=!0),w.width=0,M.width=T,M.scaledWidth=E),U.createElement(h,{ref:this._setRef,style:{...w,...f},...g},!A&&t(M))}}var dD={},hwe=pr;Object.defineProperty(dD,"__esModule",{value:!0});var lH=dD.default=void 0,pwe=hwe(mr()),mwe=$,gwe=(0,pwe.default)((0,mwe.jsx)("path",{d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"}),"BatteryFull");lH=dD.default=gwe;var fD={},ywe=pr;Object.defineProperty(fD,"__esModule",{value:!0});var cH=fD.default=void 0,vwe=ywe(mr()),bwe=$,xwe=(0,vwe.default)((0,bwe.jsx)("path",{d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4zM11 20v-5.5H9L13 7v5.5h2L11 20z"}),"BatteryChargingFull");cH=fD.default=xwe;var hD={},_we=pr;Object.defineProperty(hD,"__esModule",{value:!0});var uH=hD.default=void 0,wwe=Cwe(U),Swe=_we(mr()),IP=$;function dH(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(dH=function(r){return r?n:t})(e)}function Cwe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=dH(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var kwe=(0,Swe.default)((0,IP.jsxs)(wwe.Fragment,{children:[(0,IP.jsx)("path",{fillOpacity:".3",d:"M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V11h10V5.33z"}),(0,IP.jsx)("path",{d:"M7 11v9.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V11H7z"})]}),"Battery60");uH=hD.default=kwe;var pD={},Twe=pr;Object.defineProperty(pD,"__esModule",{value:!0});var fH=pD.default=void 0,Ewe=Owe(U),Pwe=Twe(mr()),$P=$;function hH(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(hH=function(r){return r?n:t})(e)}function Owe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=hH(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var Mwe=(0,Pwe.default)((0,$P.jsxs)(Ewe.Fragment,{children:[(0,$P.jsx)("path",{fillOpacity:".3",d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V11h3.87L13 7v4h4V5.33C17 4.6 16.4 4 15.67 4z"}),(0,$P.jsx)("path",{d:"M13 12.5h2L11 20v-5.5H9l1.87-3.5H7v9.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V11h-4v1.5z"})]}),"BatteryCharging60");fH=pD.default=Mwe;var mD={},Awe=pr;Object.defineProperty(mD,"__esModule",{value:!0});var pH=mD.default=void 0,Iwe=Rwe(U),$we=Awe(mr()),RP=$;function mH(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(mH=function(r){return r?n:t})(e)}function Rwe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=mH(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var Dwe=(0,$we.default)((0,RP.jsxs)(Iwe.Fragment,{children:[(0,RP.jsx)("path",{d:"M7 17v3.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V17H7z"}),(0,RP.jsx)("path",{fillOpacity:".3",d:"M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V17h10V5.33z"})]}),"Battery20");pH=mD.default=Dwe;var gD={},jwe=pr;Object.defineProperty(gD,"__esModule",{value:!0});var gH=gD.default=void 0,Lwe=zwe(U),Nwe=jwe(mr()),DP=$;function yH(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(yH=function(r){return r?n:t})(e)}function zwe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=yH(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var Bwe=(0,Nwe.default)((0,DP.jsxs)(Lwe.Fragment,{children:[(0,DP.jsx)("path",{d:"M11 20v-3H7v3.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V17h-4.4L11 20z"}),(0,DP.jsx)("path",{fillOpacity:".3",d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V17h4v-2.5H9L13 7v5.5h2L12.6 17H17V5.33C17 4.6 16.4 4 15.67 4z"})]}),"BatteryCharging20");gH=gD.default=Bwe;var yD={},Fwe=pr;Object.defineProperty(yD,"__esModule",{value:!0});var vH=yD.default=void 0,Uwe=Fwe(mr()),Vwe=$,Wwe=(0,Uwe.default)((0,Vwe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");vH=yD.default=Wwe;//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var bH;function Nt(){return bH.apply(null,arguments)}function qwe(e){bH=e}function Rl(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function oh(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function sr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function vD(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(sr(e,t))return!1;return!0}function Ta(e){return e===void 0}function gu(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function mx(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function xH(e,t){var n=[],r,i=e.length;for(r=0;r<i;++r)n.push(t(e[r],r));return n}function _d(e,t){for(var n in t)sr(t,n)&&(e[n]=t[n]);return sr(t,"toString")&&(e.toString=t.toString),sr(t,"valueOf")&&(e.valueOf=t.valueOf),e}function gc(e,t,n,r){return WH(e,t,n,r,!0).utc()}function Hwe(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Rn(e){return e._pf==null&&(e._pf=Hwe()),e._pf}var oA;Array.prototype.some?oA=Array.prototype.some:oA=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function bD(e){if(e._isValid==null){var t=Rn(e),n=oA.call(t.parsedDateParts,function(i){return i!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function JC(e){var t=gc(NaN);return e!=null?_d(Rn(t),e):Rn(t).userInvalidated=!0,t}var ZB=Nt.momentProperties=[],jP=!1;function xD(e,t){var n,r,i,o=ZB.length;if(Ta(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Ta(t._i)||(e._i=t._i),Ta(t._f)||(e._f=t._f),Ta(t._l)||(e._l=t._l),Ta(t._strict)||(e._strict=t._strict),Ta(t._tzm)||(e._tzm=t._tzm),Ta(t._isUTC)||(e._isUTC=t._isUTC),Ta(t._offset)||(e._offset=t._offset),Ta(t._pf)||(e._pf=Rn(t)),Ta(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)r=ZB[n],i=t[r],Ta(i)||(e[r]=i);return e}function gx(e){xD(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),jP===!1&&(jP=!0,Nt.updateOffset(this),jP=!1)}function Dl(e){return e instanceof gx||e!=null&&e._isAMomentObject!=null}function _H(e){Nt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function el(e,t){var n=!0;return _d(function(){if(Nt.deprecationHandler!=null&&Nt.deprecationHandler(null,e),n){var r=[],i,o,s,a=arguments.length;for(o=0;o<a;o++){if(i="",typeof arguments[o]=="object"){i+=`
[`+o+"] ";for(s in arguments[0])sr(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[o];r.push(i)}_H(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var XB={};function wH(e,t){Nt.deprecationHandler!=null&&Nt.deprecationHandler(e,t),XB[e]||(_H(t),XB[e]=!0)}Nt.suppressDeprecationWarnings=!1;Nt.deprecationHandler=null;function yc(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function Gwe(e){var t,n;for(n in e)sr(e,n)&&(t=e[n],yc(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function aA(e,t){var n=_d({},e),r;for(r in t)sr(t,r)&&(oh(e[r])&&oh(t[r])?(n[r]={},_d(n[r],e[r]),_d(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)sr(e,r)&&!sr(t,r)&&oh(e[r])&&(n[r]=_d({},n[r]));return n}function _D(e){e!=null&&this.set(e)}var sA;Object.keys?sA=Object.keys:sA=function(e){var t,n=[];for(t in e)sr(e,t)&&n.push(t);return n};var Ywe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Kwe(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return yc(r)?r.call(t,n):r}function pc(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var wD=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,C1=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,LP={},Cm={};function pn(e,t,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(Cm[e]=i),t&&(Cm[t[0]]=function(){return pc(i.apply(this,arguments),t[1],t[2])}),n&&(Cm[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Zwe(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Xwe(e){var t=e.match(wD),n,r;for(n=0,r=t.length;n<r;n++)Cm[t[n]]?t[n]=Cm[t[n]]:t[n]=Zwe(t[n]);return function(i){var o="",s;for(s=0;s<r;s++)o+=yc(t[s])?t[s].call(i,e):t[s];return o}}function lw(e,t){return e.isValid()?(t=SH(t,e.localeData()),LP[t]=LP[t]||Xwe(t),LP[t](e)):e.localeData().invalidDate()}function SH(e,t){var n=5;function r(i){return t.longDateFormat(i)||i}for(C1.lastIndex=0;n>=0&&C1.test(e);)e=e.replace(C1,r),C1.lastIndex=0,n-=1;return e}var Jwe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Qwe(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(wD).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var eSe="Invalid date";function tSe(){return this._invalidDate}var nSe="%d",rSe=/\d{1,2}/;function iSe(e){return this._ordinal.replace("%d",e)}var oSe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function aSe(e,t,n,r){var i=this._relativeTime[n];return yc(i)?i(e,t,n,r):i.replace(/%d/i,e)}function sSe(e,t){var n=this._relativeTime[e>0?"future":"past"];return yc(n)?n(t):n.replace(/%s/i,t)}var g0={};function Go(e,t){var n=e.toLowerCase();g0[n]=g0[n+"s"]=g0[t]=e}function tl(e){return typeof e=="string"?g0[e]||g0[e.toLowerCase()]:void 0}function SD(e){var t={},n,r;for(r in e)sr(e,r)&&(n=tl(r),n&&(t[n]=e[r]));return t}var CH={};function Yo(e,t){CH[e]=t}function lSe(e){var t=[],n;for(n in e)sr(e,n)&&t.push({unit:n,priority:CH[n]});return t.sort(function(r,i){return r.priority-i.priority}),t}function QC(e){return e%4===0&&e%100!==0||e%400===0}function Rs(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function zn(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=Rs(t)),n}function Dg(e,t){return function(n){return n!=null?(kH(this,e,n),Nt.updateOffset(this,t),this):hS(this,e)}}function hS(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function kH(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&QC(e.year())&&e.month()===1&&e.date()===29?(n=zn(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ok(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function cSe(e){return e=tl(e),yc(this[e])?this[e]():this}function uSe(e,t){if(typeof e=="object"){e=SD(e);var n=lSe(e),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](e[n[r].unit])}else if(e=tl(e),yc(this[e]))return this[e](t);return this}var TH=/\d/,ms=/\d\d/,EH=/\d{3}/,CD=/\d{4}/,ek=/[+-]?\d{6}/,Zr=/\d\d?/,PH=/\d\d\d\d?/,OH=/\d\d\d\d\d\d?/,tk=/\d{1,3}/,kD=/\d{1,4}/,nk=/[+-]?\d{1,6}/,jg=/\d+/,rk=/[+-]?\d+/,dSe=/Z|[+-]\d\d:?\d\d/gi,ik=/Z|[+-]\d\d(?::?\d\d)?/gi,fSe=/[+-]?\d+(\.\d{1,3})?/,yx=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,pS;pS={};function Gt(e,t,n){pS[e]=yc(t)?t:function(r,i){return r&&n?n:t}}function hSe(e,t){return sr(pS,e)?pS[e](t._strict,t._locale):new RegExp(pSe(e))}function pSe(e){return Xa(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,i,o){return n||r||i||o}))}function Xa(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var lA={};function Or(e,t){var n,r=t,i;for(typeof e=="string"&&(e=[e]),gu(t)&&(r=function(o,s){s[t]=zn(o)}),i=e.length,n=0;n<i;n++)lA[e[n]]=r}function vx(e,t){Or(e,function(n,r,i,o){i._w=i._w||{},t(n,i._w,i,o)})}function mSe(e,t,n){t!=null&&sr(lA,e)&&lA[e](t,n._a,n,e)}var qo=0,Xc=1,tc=2,Yi=3,Pl=4,Jc=5,Yf=6,gSe=7,ySe=8;function vSe(e,t){return(e%t+t)%t}var Mi;Array.prototype.indexOf?Mi=Array.prototype.indexOf:Mi=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function ok(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=vSe(t,12);return e+=(t-n)/12,n===1?QC(e)?29:28:31-n%7%2}pn("M",["MM",2],"Mo",function(){return this.month()+1});pn("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});pn("MMMM",0,0,function(e){return this.localeData().months(this,e)});Go("month","M");Yo("month",8);Gt("M",Zr);Gt("MM",Zr,ms);Gt("MMM",function(e,t){return t.monthsShortRegex(e)});Gt("MMMM",function(e,t){return t.monthsRegex(e)});Or(["M","MM"],function(e,t){t[Xc]=zn(e)-1});Or(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);i!=null?t[Xc]=i:Rn(n).invalidMonth=e});var bSe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),MH="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),AH=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,xSe=yx,_Se=yx;function wSe(e,t){return e?Rl(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||AH).test(t)?"format":"standalone"][e.month()]:Rl(this._months)?this._months:this._months.standalone}function SSe(e,t){return e?Rl(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[AH.test(t)?"format":"standalone"][e.month()]:Rl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function CSe(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=gc([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?t==="MMM"?(i=Mi.call(this._shortMonthsParse,s),i!==-1?i:null):(i=Mi.call(this._longMonthsParse,s),i!==-1?i:null):t==="MMM"?(i=Mi.call(this._shortMonthsParse,s),i!==-1?i:(i=Mi.call(this._longMonthsParse,s),i!==-1?i:null)):(i=Mi.call(this._longMonthsParse,s),i!==-1?i:(i=Mi.call(this._shortMonthsParse,s),i!==-1?i:null))}function kSe(e,t,n){var r,i,o;if(this._monthsParseExact)return CSe.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=gc([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function IH(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=zn(t);else if(t=e.localeData().monthsParse(t),!gu(t))return e}return n=Math.min(e.date(),ok(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function $H(e){return e!=null?(IH(this,e),Nt.updateOffset(this,!0),this):hS(this,"Month")}function TSe(){return ok(this.year(),this.month())}function ESe(e){return this._monthsParseExact?(sr(this,"_monthsRegex")||RH.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(sr(this,"_monthsShortRegex")||(this._monthsShortRegex=xSe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function PSe(e){return this._monthsParseExact?(sr(this,"_monthsRegex")||RH.call(this),e?this._monthsStrictRegex:this._monthsRegex):(sr(this,"_monthsRegex")||(this._monthsRegex=_Se),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function RH(){function e(s,a){return a.length-s.length}var t=[],n=[],r=[],i,o;for(i=0;i<12;i++)o=gc([2e3,i]),t.push(this.monthsShort(o,"")),n.push(this.months(o,"")),r.push(this.months(o,"")),r.push(this.monthsShort(o,""));for(t.sort(e),n.sort(e),r.sort(e),i=0;i<12;i++)t[i]=Xa(t[i]),n[i]=Xa(n[i]);for(i=0;i<24;i++)r[i]=Xa(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}pn("Y",0,0,function(){var e=this.year();return e<=9999?pc(e,4):"+"+e});pn(0,["YY",2],0,function(){return this.year()%100});pn(0,["YYYY",4],0,"year");pn(0,["YYYYY",5],0,"year");pn(0,["YYYYYY",6,!0],0,"year");Go("year","y");Yo("year",1);Gt("Y",rk);Gt("YY",Zr,ms);Gt("YYYY",kD,CD);Gt("YYYYY",nk,ek);Gt("YYYYYY",nk,ek);Or(["YYYYY","YYYYYY"],qo);Or("YYYY",function(e,t){t[qo]=e.length===2?Nt.parseTwoDigitYear(e):zn(e)});Or("YY",function(e,t){t[qo]=Nt.parseTwoDigitYear(e)});Or("Y",function(e,t){t[qo]=parseInt(e,10)});function y0(e){return QC(e)?366:365}Nt.parseTwoDigitYear=function(e){return zn(e)+(zn(e)>68?1900:2e3)};var DH=Dg("FullYear",!0);function OSe(){return QC(this.year())}function MSe(e,t,n,r,i,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,i,o,s),a}function ib(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function mS(e,t,n){var r=7+t-n,i=(7+ib(e,0,r).getUTCDay()-t)%7;return-i+r-1}function jH(e,t,n,r,i){var o=(7+n-r)%7,s=mS(e,r,i),a=1+7*(t-1)+o+s,f,h;return a<=0?(f=e-1,h=y0(f)+a):a>y0(e)?(f=e+1,h=a-y0(e)):(f=e,h=a),{year:f,dayOfYear:h}}function ob(e,t,n){var r=mS(e.year(),t,n),i=Math.floor((e.dayOfYear()-r-1)/7)+1,o,s;return i<1?(s=e.year()-1,o=i+ru(s,t,n)):i>ru(e.year(),t,n)?(o=i-ru(e.year(),t,n),s=e.year()+1):(s=e.year(),o=i),{week:o,year:s}}function ru(e,t,n){var r=mS(e,t,n),i=mS(e+1,t,n);return(y0(e)-r+i)/7}pn("w",["ww",2],"wo","week");pn("W",["WW",2],"Wo","isoWeek");Go("week","w");Go("isoWeek","W");Yo("week",5);Yo("isoWeek",5);Gt("w",Zr);Gt("ww",Zr,ms);Gt("W",Zr);Gt("WW",Zr,ms);vx(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=zn(e)});function ASe(e){return ob(e,this._week.dow,this._week.doy).week}var ISe={dow:0,doy:6};function $Se(){return this._week.dow}function RSe(){return this._week.doy}function DSe(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function jSe(e){var t=ob(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}pn("d",0,"do","day");pn("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});pn("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});pn("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});pn("e",0,0,"weekday");pn("E",0,0,"isoWeekday");Go("day","d");Go("weekday","e");Go("isoWeekday","E");Yo("day",11);Yo("weekday",11);Yo("isoWeekday",11);Gt("d",Zr);Gt("e",Zr);Gt("E",Zr);Gt("dd",function(e,t){return t.weekdaysMinRegex(e)});Gt("ddd",function(e,t){return t.weekdaysShortRegex(e)});Gt("dddd",function(e,t){return t.weekdaysRegex(e)});vx(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);i!=null?t.d=i:Rn(n).invalidWeekday=e});vx(["d","e","E"],function(e,t,n,r){t[r]=zn(e)});function LSe(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function NSe(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function TD(e,t){return e.slice(t,7).concat(e.slice(0,t))}var zSe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),LH="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),BSe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),FSe=yx,USe=yx,VSe=yx;function WSe(e,t){var n=Rl(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?TD(n,this._week.dow):e?n[e.day()]:n}function qSe(e){return e===!0?TD(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function HSe(e){return e===!0?TD(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function GSe(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=gc([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?t==="dddd"?(i=Mi.call(this._weekdaysParse,s),i!==-1?i:null):t==="ddd"?(i=Mi.call(this._shortWeekdaysParse,s),i!==-1?i:null):(i=Mi.call(this._minWeekdaysParse,s),i!==-1?i:null):t==="dddd"?(i=Mi.call(this._weekdaysParse,s),i!==-1||(i=Mi.call(this._shortWeekdaysParse,s),i!==-1)?i:(i=Mi.call(this._minWeekdaysParse,s),i!==-1?i:null)):t==="ddd"?(i=Mi.call(this._shortWeekdaysParse,s),i!==-1||(i=Mi.call(this._weekdaysParse,s),i!==-1)?i:(i=Mi.call(this._minWeekdaysParse,s),i!==-1?i:null)):(i=Mi.call(this._minWeekdaysParse,s),i!==-1||(i=Mi.call(this._weekdaysParse,s),i!==-1)?i:(i=Mi.call(this._shortWeekdaysParse,s),i!==-1?i:null))}function YSe(e,t,n){var r,i,o;if(this._weekdaysParseExact)return GSe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=gc([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function KSe(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=LSe(e,this.localeData()),this.add(e-t,"d")):t}function ZSe(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function XSe(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=NSe(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function JSe(e){return this._weekdaysParseExact?(sr(this,"_weekdaysRegex")||ED.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(sr(this,"_weekdaysRegex")||(this._weekdaysRegex=FSe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function QSe(e){return this._weekdaysParseExact?(sr(this,"_weekdaysRegex")||ED.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(sr(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=USe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function e2e(e){return this._weekdaysParseExact?(sr(this,"_weekdaysRegex")||ED.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(sr(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=VSe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function ED(){function e(g,y){return y.length-g.length}var t=[],n=[],r=[],i=[],o,s,a,f,h;for(o=0;o<7;o++)s=gc([2e3,1]).day(o),a=Xa(this.weekdaysMin(s,"")),f=Xa(this.weekdaysShort(s,"")),h=Xa(this.weekdays(s,"")),t.push(a),n.push(f),r.push(h),i.push(a),i.push(f),i.push(h);t.sort(e),n.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function PD(){return this.hours()%12||12}function t2e(){return this.hours()||24}pn("H",["HH",2],0,"hour");pn("h",["hh",2],0,PD);pn("k",["kk",2],0,t2e);pn("hmm",0,0,function(){return""+PD.apply(this)+pc(this.minutes(),2)});pn("hmmss",0,0,function(){return""+PD.apply(this)+pc(this.minutes(),2)+pc(this.seconds(),2)});pn("Hmm",0,0,function(){return""+this.hours()+pc(this.minutes(),2)});pn("Hmmss",0,0,function(){return""+this.hours()+pc(this.minutes(),2)+pc(this.seconds(),2)});function NH(e,t){pn(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}NH("a",!0);NH("A",!1);Go("hour","h");Yo("hour",13);function zH(e,t){return t._meridiemParse}Gt("a",zH);Gt("A",zH);Gt("H",Zr);Gt("h",Zr);Gt("k",Zr);Gt("HH",Zr,ms);Gt("hh",Zr,ms);Gt("kk",Zr,ms);Gt("hmm",PH);Gt("hmmss",OH);Gt("Hmm",PH);Gt("Hmmss",OH);Or(["H","HH"],Yi);Or(["k","kk"],function(e,t,n){var r=zn(e);t[Yi]=r===24?0:r});Or(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Or(["h","hh"],function(e,t,n){t[Yi]=zn(e),Rn(n).bigHour=!0});Or("hmm",function(e,t,n){var r=e.length-2;t[Yi]=zn(e.substr(0,r)),t[Pl]=zn(e.substr(r)),Rn(n).bigHour=!0});Or("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Yi]=zn(e.substr(0,r)),t[Pl]=zn(e.substr(r,2)),t[Jc]=zn(e.substr(i)),Rn(n).bigHour=!0});Or("Hmm",function(e,t,n){var r=e.length-2;t[Yi]=zn(e.substr(0,r)),t[Pl]=zn(e.substr(r))});Or("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Yi]=zn(e.substr(0,r)),t[Pl]=zn(e.substr(r,2)),t[Jc]=zn(e.substr(i))});function n2e(e){return(e+"").toLowerCase().charAt(0)==="p"}var r2e=/[ap]\.?m?\.?/i,i2e=Dg("Hours",!0);function o2e(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var BH={calendar:Ywe,longDateFormat:Jwe,invalidDate:eSe,ordinal:nSe,dayOfMonthOrdinalParse:rSe,relativeTime:oSe,months:bSe,monthsShort:MH,week:ISe,weekdays:zSe,weekdaysMin:BSe,weekdaysShort:LH,meridiemParse:r2e},ni={},Tv={},ab;function a2e(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function JB(e){return e&&e.toLowerCase().replace("_","-")}function s2e(e){for(var t=0,n,r,i,o;t<e.length;){for(o=JB(e[t]).split("-"),n=o.length,r=JB(e[t+1]),r=r?r.split("-"):null;n>0;){if(i=ak(o.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&a2e(o,r)>=n-1)break;n--}t++}return ab}function l2e(e){return e.match("^[^/\\\\]*$")!=null}function ak(e){var t=null,n;if(ni[e]===void 0&&typeof hw<"u"&&hw&&hw.exports&&l2e(e))try{t=ab._abbr,n=require,n("./locale/"+e),jd(t)}catch{ni[e]=null}return ni[e]}function jd(e,t){var n;return e&&(Ta(t)?n=Eu(e):n=OD(e,t),n?ab=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ab._abbr}function OD(e,t){if(t!==null){var n,r=BH;if(t.abbr=e,ni[e]!=null)wH("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ni[e]._config;else if(t.parentLocale!=null)if(ni[t.parentLocale]!=null)r=ni[t.parentLocale]._config;else if(n=ak(t.parentLocale),n!=null)r=n._config;else return Tv[t.parentLocale]||(Tv[t.parentLocale]=[]),Tv[t.parentLocale].push({name:e,config:t}),null;return ni[e]=new _D(aA(r,t)),Tv[e]&&Tv[e].forEach(function(i){OD(i.name,i.config)}),jd(e),ni[e]}else return delete ni[e],null}function c2e(e,t){if(t!=null){var n,r,i=BH;ni[e]!=null&&ni[e].parentLocale!=null?ni[e].set(aA(ni[e]._config,t)):(r=ak(e),r!=null&&(i=r._config),t=aA(i,t),r==null&&(t.abbr=e),n=new _D(t),n.parentLocale=ni[e],ni[e]=n),jd(e)}else ni[e]!=null&&(ni[e].parentLocale!=null?(ni[e]=ni[e].parentLocale,e===jd()&&jd(e)):ni[e]!=null&&delete ni[e]);return ni[e]}function Eu(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ab;if(!Rl(e)){if(t=ak(e),t)return t;e=[e]}return s2e(e)}function u2e(){return sA(ni)}function MD(e){var t,n=e._a;return n&&Rn(e).overflow===-2&&(t=n[Xc]<0||n[Xc]>11?Xc:n[tc]<1||n[tc]>ok(n[qo],n[Xc])?tc:n[Yi]<0||n[Yi]>24||n[Yi]===24&&(n[Pl]!==0||n[Jc]!==0||n[Yf]!==0)?Yi:n[Pl]<0||n[Pl]>59?Pl:n[Jc]<0||n[Jc]>59?Jc:n[Yf]<0||n[Yf]>999?Yf:-1,Rn(e)._overflowDayOfYear&&(t<qo||t>tc)&&(t=tc),Rn(e)._overflowWeeks&&t===-1&&(t=gSe),Rn(e)._overflowWeekday&&t===-1&&(t=ySe),Rn(e).overflow=t),e}var d2e=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,f2e=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,h2e=/Z|[+-]\d\d(?::?\d\d)?/,k1=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],NP=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],p2e=/^\/?Date\((-?\d+)/i,m2e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,g2e={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function FH(e){var t,n,r=e._i,i=d2e.exec(r)||f2e.exec(r),o,s,a,f,h=k1.length,g=NP.length;if(i){for(Rn(e).iso=!0,t=0,n=h;t<n;t++)if(k1[t][1].exec(i[1])){s=k1[t][0],o=k1[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(i[3]){for(t=0,n=g;t<n;t++)if(NP[t][1].exec(i[3])){a=(i[2]||" ")+NP[t][0];break}if(a==null){e._isValid=!1;return}}if(!o&&a!=null){e._isValid=!1;return}if(i[4])if(h2e.exec(i[4]))f="Z";else{e._isValid=!1;return}e._f=s+(a||"")+(f||""),ID(e)}else e._isValid=!1}function y2e(e,t,n,r,i,o){var s=[v2e(e),MH.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function v2e(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function b2e(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function x2e(e,t,n){if(e){var r=LH.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return Rn(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function _2e(e,t,n){if(e)return g2e[e];if(t)return 0;var r=parseInt(n,10),i=r%100,o=(r-i)/100;return o*60+i}function UH(e){var t=m2e.exec(b2e(e._i)),n;if(t){if(n=y2e(t[4],t[3],t[2],t[5],t[6],t[7]),!x2e(t[1],n,e))return;e._a=n,e._tzm=_2e(t[8],t[9],t[10]),e._d=ib.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Rn(e).rfc2822=!0}else e._isValid=!1}function w2e(e){var t=p2e.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(FH(e),e._isValid===!1)delete e._isValid;else return;if(UH(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Nt.createFromInputFallback(e)}Nt.createFromInputFallback=el("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Np(e,t,n){return e??t??n}function S2e(e){var t=new Date(Nt.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function AD(e){var t,n,r=[],i,o,s;if(!e._d){for(i=S2e(e),e._w&&e._a[tc]==null&&e._a[Xc]==null&&C2e(e),e._dayOfYear!=null&&(s=Np(e._a[qo],i[qo]),(e._dayOfYear>y0(s)||e._dayOfYear===0)&&(Rn(e)._overflowDayOfYear=!0),n=ib(s,0,e._dayOfYear),e._a[Xc]=n.getUTCMonth(),e._a[tc]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Yi]===24&&e._a[Pl]===0&&e._a[Jc]===0&&e._a[Yf]===0&&(e._nextDay=!0,e._a[Yi]=0),e._d=(e._useUTC?ib:MSe).apply(null,r),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Yi]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==o&&(Rn(e).weekdayMismatch=!0)}}function C2e(e){var t,n,r,i,o,s,a,f,h;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(o=1,s=4,n=Np(t.GG,e._a[qo],ob(Kr(),1,4).year),r=Np(t.W,1),i=Np(t.E,1),(i<1||i>7)&&(f=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,h=ob(Kr(),o,s),n=Np(t.gg,e._a[qo],h.year),r=Np(t.w,h.week),t.d!=null?(i=t.d,(i<0||i>6)&&(f=!0)):t.e!=null?(i=t.e+o,(t.e<0||t.e>6)&&(f=!0)):i=o),r<1||r>ru(n,o,s)?Rn(e)._overflowWeeks=!0:f!=null?Rn(e)._overflowWeekday=!0:(a=jH(n,r,i,o,s),e._a[qo]=a.year,e._dayOfYear=a.dayOfYear)}Nt.ISO_8601=function(){};Nt.RFC_2822=function(){};function ID(e){if(e._f===Nt.ISO_8601){FH(e);return}if(e._f===Nt.RFC_2822){UH(e);return}e._a=[],Rn(e).empty=!0;var t=""+e._i,n,r,i,o,s,a=t.length,f=0,h,g;for(i=SH(e._f,e._locale).match(wD)||[],g=i.length,n=0;n<g;n++)o=i[n],r=(t.match(hSe(o,e))||[])[0],r&&(s=t.substr(0,t.indexOf(r)),s.length>0&&Rn(e).unusedInput.push(s),t=t.slice(t.indexOf(r)+r.length),f+=r.length),Cm[o]?(r?Rn(e).empty=!1:Rn(e).unusedTokens.push(o),mSe(o,r,e)):e._strict&&!r&&Rn(e).unusedTokens.push(o);Rn(e).charsLeftOver=a-f,t.length>0&&Rn(e).unusedInput.push(t),e._a[Yi]<=12&&Rn(e).bigHour===!0&&e._a[Yi]>0&&(Rn(e).bigHour=void 0),Rn(e).parsedDateParts=e._a.slice(0),Rn(e).meridiem=e._meridiem,e._a[Yi]=k2e(e._locale,e._a[Yi],e._meridiem),h=Rn(e).era,h!==null&&(e._a[qo]=e._locale.erasConvertYear(h,e._a[qo])),AD(e),MD(e)}function k2e(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function T2e(e){var t,n,r,i,o,s,a=!1,f=e._f.length;if(f===0){Rn(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<f;i++)o=0,s=!1,t=xD({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],ID(t),bD(t)&&(s=!0),o+=Rn(t).charsLeftOver,o+=Rn(t).unusedTokens.length*10,Rn(t).score=o,a?o<r&&(r=o,n=t):(r==null||o<r||s)&&(r=o,n=t,s&&(a=!0));_d(e,n||t)}function E2e(e){if(!e._d){var t=SD(e._i),n=t.day===void 0?t.date:t.day;e._a=xH([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),AD(e)}}function P2e(e){var t=new gx(MD(VH(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function VH(e){var t=e._i,n=e._f;return e._locale=e._locale||Eu(e._l),t===null||n===void 0&&t===""?JC({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Dl(t)?new gx(MD(t)):(mx(t)?e._d=t:Rl(n)?T2e(e):n?ID(e):O2e(e),bD(e)||(e._d=null),e))}function O2e(e){var t=e._i;Ta(t)?e._d=new Date(Nt.now()):mx(t)?e._d=new Date(t.valueOf()):typeof t=="string"?w2e(e):Rl(t)?(e._a=xH(t.slice(0),function(n){return parseInt(n,10)}),AD(e)):oh(t)?E2e(e):gu(t)?e._d=new Date(t):Nt.createFromInputFallback(e)}function WH(e,t,n,r,i){var o={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(oh(e)&&vD(e)||Rl(e)&&e.length===0)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,P2e(o)}function Kr(e,t,n,r){return WH(e,t,n,r,!1)}var M2e=el("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Kr.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:JC()}),A2e=el("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Kr.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:JC()});function qH(e,t){var n,r;if(t.length===1&&Rl(t[0])&&(t=t[0]),!t.length)return Kr();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function I2e(){var e=[].slice.call(arguments,0);return qH("isBefore",e)}function $2e(){var e=[].slice.call(arguments,0);return qH("isAfter",e)}var R2e=function(){return Date.now?Date.now():+new Date},Ev=["year","quarter","month","week","day","hour","minute","second","millisecond"];function D2e(e){var t,n=!1,r,i=Ev.length;for(t in e)if(sr(e,t)&&!(Mi.call(Ev,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<i;++r)if(e[Ev[r]]){if(n)return!1;parseFloat(e[Ev[r]])!==zn(e[Ev[r]])&&(n=!0)}return!0}function j2e(){return this._isValid}function L2e(){return Nl(NaN)}function sk(e){var t=SD(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,f=t.minute||0,h=t.second||0,g=t.millisecond||0;this._isValid=D2e(t),this._milliseconds=+g+h*1e3+f*6e4+a*1e3*60*60,this._days=+s+o*7,this._months=+i+r*3+n*12,this._data={},this._locale=Eu(),this._bubble()}function cw(e){return e instanceof sk}function cA(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function N2e(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0,s;for(s=0;s<r;s++)(n&&e[s]!==t[s]||!n&&zn(e[s])!==zn(t[s]))&&o++;return o+i}function HH(e,t){pn(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+pc(~~(n/60),2)+t+pc(~~n%60,2)})}HH("Z",":");HH("ZZ","");Gt("Z",ik);Gt("ZZ",ik);Or(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=$D(ik,e)});var z2e=/([\+\-]|\d\d)/gi;function $D(e,t){var n=(t||"").match(e),r,i,o;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(z2e)||["-",0,0],o=+(i[1]*60)+zn(i[2]),o===0?0:i[0]==="+"?o:-o)}function RD(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Dl(e)||mx(e)?e.valueOf():Kr(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Nt.updateOffset(n,!1),n):Kr(e).local()}function uA(e){return-Math.round(e._d.getTimezoneOffset())}Nt.updateOffset=function(){};function B2e(e,t,n){var r=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=$D(ik,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(i=uA(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?KH(this,Nl(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Nt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:uA(this)}function F2e(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function U2e(e){return this.utcOffset(0,e)}function V2e(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(uA(this),"m")),this}function W2e(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=$D(dSe,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function q2e(e){return this.isValid()?(e=e?Kr(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function H2e(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function G2e(){if(!Ta(this._isDSTShifted))return this._isDSTShifted;var e={},t;return xD(e,this),e=VH(e),e._a?(t=e._isUTC?gc(e._a):Kr(e._a),this._isDSTShifted=this.isValid()&&N2e(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Y2e(){return this.isValid()?!this._isUTC:!1}function K2e(){return this.isValid()?this._isUTC:!1}function GH(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Z2e=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,X2e=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Nl(e,t){var n=e,r=null,i,o,s;return cw(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:gu(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=Z2e.exec(e))?(i=r[1]==="-"?-1:1,n={y:0,d:zn(r[tc])*i,h:zn(r[Yi])*i,m:zn(r[Pl])*i,s:zn(r[Jc])*i,ms:zn(cA(r[Yf]*1e3))*i}):(r=X2e.exec(e))?(i=r[1]==="-"?-1:1,n={y:Of(r[2],i),M:Of(r[3],i),w:Of(r[4],i),d:Of(r[5],i),h:Of(r[6],i),m:Of(r[7],i),s:Of(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=J2e(Kr(n.from),Kr(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),o=new sk(n),cw(e)&&sr(e,"_locale")&&(o._locale=e._locale),cw(e)&&sr(e,"_isValid")&&(o._isValid=e._isValid),o}Nl.fn=sk.prototype;Nl.invalid=L2e;function Of(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function QB(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function J2e(e,t){var n;return e.isValid()&&t.isValid()?(t=RD(t,e),e.isBefore(t)?n=QB(e,t):(n=QB(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function YH(e,t){return function(n,r){var i,o;return r!==null&&!isNaN(+r)&&(wH(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),i=Nl(n,r),KH(this,i,e),this}}function KH(e,t,n,r){var i=t._milliseconds,o=cA(t._days),s=cA(t._months);e.isValid()&&(r=r??!0,s&&IH(e,hS(e,"Month")+s*n),o&&kH(e,"Date",hS(e,"Date")+o*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&Nt.updateOffset(e,o||s))}var Q2e=YH(1,"add"),eCe=YH(-1,"subtract");function ZH(e){return typeof e=="string"||e instanceof String}function tCe(e){return Dl(e)||mx(e)||ZH(e)||gu(e)||rCe(e)||nCe(e)||e===null||e===void 0}function nCe(e){var t=oh(e)&&!vD(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,o,s=r.length;for(i=0;i<s;i+=1)o=r[i],n=n||sr(e,o);return t&&n}function rCe(e){var t=Rl(e),n=!1;return t&&(n=e.filter(function(r){return!gu(r)&&ZH(e)}).length===0),t&&n}function iCe(e){var t=oh(e)&&!vD(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,o;for(i=0;i<r.length;i+=1)o=r[i],n=n||sr(e,o);return t&&n}function oCe(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function aCe(e,t){arguments.length===1&&(arguments[0]?tCe(arguments[0])?(e=arguments[0],t=void 0):iCe(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Kr(),r=RD(n,this).startOf("day"),i=Nt.calendarFormat(this,r)||"sameElse",o=t&&(yc(t[i])?t[i].call(this,n):t[i]);return this.format(o||this.localeData().calendar(i,this,Kr(n)))}function sCe(){return new gx(this)}function lCe(e,t){var n=Dl(e)?e:Kr(e);return this.isValid()&&n.isValid()?(t=tl(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function cCe(e,t){var n=Dl(e)?e:Kr(e);return this.isValid()&&n.isValid()?(t=tl(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function uCe(e,t,n,r){var i=Dl(e)?e:Kr(e),o=Dl(t)?t:Kr(t);return this.isValid()&&i.isValid()&&o.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(o,n):!this.isAfter(o,n))):!1}function dCe(e,t){var n=Dl(e)?e:Kr(e),r;return this.isValid()&&n.isValid()?(t=tl(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function fCe(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function hCe(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function pCe(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(r=RD(e,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,t=tl(t),t){case"year":o=uw(this,r)/12;break;case"month":o=uw(this,r);break;case"quarter":o=uw(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:Rs(o)}function uw(e,t){if(e.date()<t.date())return-uw(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),i,o;return t-r<0?(i=e.clone().add(n-1,"months"),o=(t-r)/(r-i)):(i=e.clone().add(n+1,"months"),o=(t-r)/(i-r)),-(n+o)||0}Nt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Nt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function mCe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function gCe(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?lw(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):yc(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",lw(n,"Z")):lw(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function yCe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,i,o;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]',this.format(n+r+i+o)}function vCe(e){e||(e=this.isUtc()?Nt.defaultFormatUtc:Nt.defaultFormat);var t=lw(this,e);return this.localeData().postformat(t)}function bCe(e,t){return this.isValid()&&(Dl(e)&&e.isValid()||Kr(e).isValid())?Nl({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function xCe(e){return this.from(Kr(),e)}function _Ce(e,t){return this.isValid()&&(Dl(e)&&e.isValid()||Kr(e).isValid())?Nl({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function wCe(e){return this.to(Kr(),e)}function XH(e){var t;return e===void 0?this._locale._abbr:(t=Eu(e),t!=null&&(this._locale=t),this)}var JH=el("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function QH(){return this._locale}var gS=1e3,km=60*gS,yS=60*km,eG=(365*400+97)*24*yS;function Tm(e,t){return(e%t+t)%t}function tG(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-eG:new Date(e,t,n).valueOf()}function nG(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-eG:Date.UTC(e,t,n)}function SCe(e){var t,n;if(e=tl(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?nG:tG,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Tm(t+(this._isUTC?0:this.utcOffset()*km),yS);break;case"minute":t=this._d.valueOf(),t-=Tm(t,km);break;case"second":t=this._d.valueOf(),t-=Tm(t,gS);break}return this._d.setTime(t),Nt.updateOffset(this,!0),this}function CCe(e){var t,n;if(e=tl(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?nG:tG,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=yS-Tm(t+(this._isUTC?0:this.utcOffset()*km),yS)-1;break;case"minute":t=this._d.valueOf(),t+=km-Tm(t,km)-1;break;case"second":t=this._d.valueOf(),t+=gS-Tm(t,gS)-1;break}return this._d.setTime(t),Nt.updateOffset(this,!0),this}function kCe(){return this._d.valueOf()-(this._offset||0)*6e4}function TCe(){return Math.floor(this.valueOf()/1e3)}function ECe(){return new Date(this.valueOf())}function PCe(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function OCe(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function MCe(){return this.isValid()?this.toISOString():null}function ACe(){return bD(this)}function ICe(){return _d({},Rn(this))}function $Ce(){return Rn(this).overflow}function RCe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}pn("N",0,0,"eraAbbr");pn("NN",0,0,"eraAbbr");pn("NNN",0,0,"eraAbbr");pn("NNNN",0,0,"eraName");pn("NNNNN",0,0,"eraNarrow");pn("y",["y",1],"yo","eraYear");pn("y",["yy",2],0,"eraYear");pn("y",["yyy",3],0,"eraYear");pn("y",["yyyy",4],0,"eraYear");Gt("N",DD);Gt("NN",DD);Gt("NNN",DD);Gt("NNNN",qCe);Gt("NNNNN",HCe);Or(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?Rn(n).era=i:Rn(n).invalidEra=e});Gt("y",jg);Gt("yy",jg);Gt("yyy",jg);Gt("yyyy",jg);Gt("yo",GCe);Or(["y","yy","yyy","yyyy"],qo);Or(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[qo]=n._locale.eraYearOrdinalParse(e,i):t[qo]=parseInt(e,10)});function DCe(e,t){var n,r,i,o=this._eras||Eu("en")._eras;for(n=0,r=o.length;n<r;++n){switch(typeof o[n].since){case"string":i=Nt(o[n].since).startOf("day"),o[n].since=i.valueOf();break}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":i=Nt(o[n].until).startOf("day").valueOf(),o[n].until=i.valueOf();break}}return o}function jCe(e,t,n){var r,i,o=this.eras(),s,a,f;for(e=e.toUpperCase(),r=0,i=o.length;r<i;++r)if(s=o[r].name.toUpperCase(),a=o[r].abbr.toUpperCase(),f=o[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return o[r];break;case"NNNN":if(s===e)return o[r];break;case"NNNNN":if(f===e)return o[r];break}else if([s,a,f].indexOf(e)>=0)return o[r]}function LCe(e,t){var n=e.since<=e.until?1:-1;return t===void 0?Nt(e.since).year():Nt(e.since).year()+(t-e.offset)*n}function NCe(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function zCe(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function BCe(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function FCe(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-Nt(i[e].since).year())*n+i[e].offset;return this.year()}function UCe(e){return sr(this,"_erasNameRegex")||jD.call(this),e?this._erasNameRegex:this._erasRegex}function VCe(e){return sr(this,"_erasAbbrRegex")||jD.call(this),e?this._erasAbbrRegex:this._erasRegex}function WCe(e){return sr(this,"_erasNarrowRegex")||jD.call(this),e?this._erasNarrowRegex:this._erasRegex}function DD(e,t){return t.erasAbbrRegex(e)}function qCe(e,t){return t.erasNameRegex(e)}function HCe(e,t){return t.erasNarrowRegex(e)}function GCe(e,t){return t._eraYearOrdinalRegex||jg}function jD(){var e=[],t=[],n=[],r=[],i,o,s=this.eras();for(i=0,o=s.length;i<o;++i)t.push(Xa(s[i].name)),e.push(Xa(s[i].abbr)),n.push(Xa(s[i].narrow)),r.push(Xa(s[i].name)),r.push(Xa(s[i].abbr)),r.push(Xa(s[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}pn(0,["gg",2],0,function(){return this.weekYear()%100});pn(0,["GG",2],0,function(){return this.isoWeekYear()%100});function lk(e,t){pn(0,[e,e.length],0,t)}lk("gggg","weekYear");lk("ggggg","weekYear");lk("GGGG","isoWeekYear");lk("GGGGG","isoWeekYear");Go("weekYear","gg");Go("isoWeekYear","GG");Yo("weekYear",1);Yo("isoWeekYear",1);Gt("G",rk);Gt("g",rk);Gt("GG",Zr,ms);Gt("gg",Zr,ms);Gt("GGGG",kD,CD);Gt("gggg",kD,CD);Gt("GGGGG",nk,ek);Gt("ggggg",nk,ek);vx(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=zn(e)});vx(["gg","GG"],function(e,t,n,r){t[r]=Nt.parseTwoDigitYear(e)});function YCe(e){return rG.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function KCe(e){return rG.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function ZCe(){return ru(this.year(),1,4)}function XCe(){return ru(this.isoWeekYear(),1,4)}function JCe(){var e=this.localeData()._week;return ru(this.year(),e.dow,e.doy)}function QCe(){var e=this.localeData()._week;return ru(this.weekYear(),e.dow,e.doy)}function rG(e,t,n,r,i){var o;return e==null?ob(this,r,i).year:(o=ru(e,r,i),t>o&&(t=o),eke.call(this,e,t,n,r,i))}function eke(e,t,n,r,i){var o=jH(e,t,n,r,i),s=ib(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}pn("Q",0,"Qo","quarter");Go("quarter","Q");Yo("quarter",7);Gt("Q",TH);Or("Q",function(e,t){t[Xc]=(zn(e)-1)*3});function tke(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}pn("D",["DD",2],"Do","date");Go("date","D");Yo("date",9);Gt("D",Zr);Gt("DD",Zr,ms);Gt("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Or(["D","DD"],tc);Or("Do",function(e,t){t[tc]=zn(e.match(Zr)[0])});var iG=Dg("Date",!0);pn("DDD",["DDDD",3],"DDDo","dayOfYear");Go("dayOfYear","DDD");Yo("dayOfYear",4);Gt("DDD",tk);Gt("DDDD",EH);Or(["DDD","DDDD"],function(e,t,n){n._dayOfYear=zn(e)});function nke(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}pn("m",["mm",2],0,"minute");Go("minute","m");Yo("minute",14);Gt("m",Zr);Gt("mm",Zr,ms);Or(["m","mm"],Pl);var rke=Dg("Minutes",!1);pn("s",["ss",2],0,"second");Go("second","s");Yo("second",15);Gt("s",Zr);Gt("ss",Zr,ms);Or(["s","ss"],Jc);var ike=Dg("Seconds",!1);pn("S",0,0,function(){return~~(this.millisecond()/100)});pn(0,["SS",2],0,function(){return~~(this.millisecond()/10)});pn(0,["SSS",3],0,"millisecond");pn(0,["SSSS",4],0,function(){return this.millisecond()*10});pn(0,["SSSSS",5],0,function(){return this.millisecond()*100});pn(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});pn(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});pn(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});pn(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Go("millisecond","ms");Yo("millisecond",16);Gt("S",tk,TH);Gt("SS",tk,ms);Gt("SSS",tk,EH);var wd,oG;for(wd="SSSS";wd.length<=9;wd+="S")Gt(wd,jg);function oke(e,t){t[Yf]=zn(("0."+e)*1e3)}for(wd="S";wd.length<=9;wd+="S")Or(wd,oke);oG=Dg("Milliseconds",!1);pn("z",0,0,"zoneAbbr");pn("zz",0,0,"zoneName");function ake(){return this._isUTC?"UTC":""}function ske(){return this._isUTC?"Coordinated Universal Time":""}var wt=gx.prototype;wt.add=Q2e;wt.calendar=aCe;wt.clone=sCe;wt.diff=pCe;wt.endOf=CCe;wt.format=vCe;wt.from=bCe;wt.fromNow=xCe;wt.to=_Ce;wt.toNow=wCe;wt.get=cSe;wt.invalidAt=$Ce;wt.isAfter=lCe;wt.isBefore=cCe;wt.isBetween=uCe;wt.isSame=dCe;wt.isSameOrAfter=fCe;wt.isSameOrBefore=hCe;wt.isValid=ACe;wt.lang=JH;wt.locale=XH;wt.localeData=QH;wt.max=A2e;wt.min=M2e;wt.parsingFlags=ICe;wt.set=uSe;wt.startOf=SCe;wt.subtract=eCe;wt.toArray=PCe;wt.toObject=OCe;wt.toDate=ECe;wt.toISOString=gCe;wt.inspect=yCe;typeof Symbol<"u"&&Symbol.for!=null&&(wt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});wt.toJSON=MCe;wt.toString=mCe;wt.unix=TCe;wt.valueOf=kCe;wt.creationData=RCe;wt.eraName=NCe;wt.eraNarrow=zCe;wt.eraAbbr=BCe;wt.eraYear=FCe;wt.year=DH;wt.isLeapYear=OSe;wt.weekYear=YCe;wt.isoWeekYear=KCe;wt.quarter=wt.quarters=tke;wt.month=$H;wt.daysInMonth=TSe;wt.week=wt.weeks=DSe;wt.isoWeek=wt.isoWeeks=jSe;wt.weeksInYear=JCe;wt.weeksInWeekYear=QCe;wt.isoWeeksInYear=ZCe;wt.isoWeeksInISOWeekYear=XCe;wt.date=iG;wt.day=wt.days=KSe;wt.weekday=ZSe;wt.isoWeekday=XSe;wt.dayOfYear=nke;wt.hour=wt.hours=i2e;wt.minute=wt.minutes=rke;wt.second=wt.seconds=ike;wt.millisecond=wt.milliseconds=oG;wt.utcOffset=B2e;wt.utc=U2e;wt.local=V2e;wt.parseZone=W2e;wt.hasAlignedHourOffset=q2e;wt.isDST=H2e;wt.isLocal=Y2e;wt.isUtcOffset=K2e;wt.isUtc=GH;wt.isUTC=GH;wt.zoneAbbr=ake;wt.zoneName=ske;wt.dates=el("dates accessor is deprecated. Use date instead.",iG);wt.months=el("months accessor is deprecated. Use month instead",$H);wt.years=el("years accessor is deprecated. Use year instead",DH);wt.zone=el("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",F2e);wt.isDSTShifted=el("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",G2e);function lke(e){return Kr(e*1e3)}function cke(){return Kr.apply(null,arguments).parseZone()}function aG(e){return e}var cr=_D.prototype;cr.calendar=Kwe;cr.longDateFormat=Qwe;cr.invalidDate=tSe;cr.ordinal=iSe;cr.preparse=aG;cr.postformat=aG;cr.relativeTime=aSe;cr.pastFuture=sSe;cr.set=Gwe;cr.eras=DCe;cr.erasParse=jCe;cr.erasConvertYear=LCe;cr.erasAbbrRegex=VCe;cr.erasNameRegex=UCe;cr.erasNarrowRegex=WCe;cr.months=wSe;cr.monthsShort=SSe;cr.monthsParse=kSe;cr.monthsRegex=PSe;cr.monthsShortRegex=ESe;cr.week=ASe;cr.firstDayOfYear=RSe;cr.firstDayOfWeek=$Se;cr.weekdays=WSe;cr.weekdaysMin=HSe;cr.weekdaysShort=qSe;cr.weekdaysParse=YSe;cr.weekdaysRegex=JSe;cr.weekdaysShortRegex=QSe;cr.weekdaysMinRegex=e2e;cr.isPM=n2e;cr.meridiem=o2e;function vS(e,t,n,r){var i=Eu(),o=gc().set(r,t);return i[n](o,e)}function sG(e,t,n){if(gu(e)&&(t=e,e=void 0),e=e||"",t!=null)return vS(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=vS(e,r,n,"month");return i}function LD(e,t,n,r){typeof e=="boolean"?(gu(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,gu(t)&&(n=t,t=void 0),t=t||"");var i=Eu(),o=e?i._week.dow:0,s,a=[];if(n!=null)return vS(t,(n+o)%7,r,"day");for(s=0;s<7;s++)a[s]=vS(t,(s+o)%7,r,"day");return a}function uke(e,t){return sG(e,t,"months")}function dke(e,t){return sG(e,t,"monthsShort")}function fke(e,t,n){return LD(e,t,n,"weekdays")}function hke(e,t,n){return LD(e,t,n,"weekdaysShort")}function pke(e,t,n){return LD(e,t,n,"weekdaysMin")}jd("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=zn(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});Nt.lang=el("moment.lang is deprecated. Use moment.locale instead.",jd);Nt.langData=el("moment.langData is deprecated. Use moment.localeData instead.",Eu);var zc=Math.abs;function mke(){var e=this._data;return this._milliseconds=zc(this._milliseconds),this._days=zc(this._days),this._months=zc(this._months),e.milliseconds=zc(e.milliseconds),e.seconds=zc(e.seconds),e.minutes=zc(e.minutes),e.hours=zc(e.hours),e.months=zc(e.months),e.years=zc(e.years),this}function lG(e,t,n,r){var i=Nl(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function gke(e,t){return lG(this,e,t,1)}function yke(e,t){return lG(this,e,t,-1)}function e4(e){return e<0?Math.floor(e):Math.ceil(e)}function vke(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,o,s,a,f;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=e4(dA(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,i=Rs(e/1e3),r.seconds=i%60,o=Rs(i/60),r.minutes=o%60,s=Rs(o/60),r.hours=s%24,t+=Rs(s/24),f=Rs(cG(t)),n+=f,t-=e4(dA(f)),a=Rs(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function cG(e){return e*4800/146097}function dA(e){return e*146097/4800}function bke(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=tl(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+cG(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(dA(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function xke(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+zn(this._months/12)*31536e6:NaN}function Pu(e){return function(){return this.as(e)}}var _ke=Pu("ms"),wke=Pu("s"),Ske=Pu("m"),Cke=Pu("h"),kke=Pu("d"),Tke=Pu("w"),Eke=Pu("M"),Pke=Pu("Q"),Oke=Pu("y");function Mke(){return Nl(this)}function Ake(e){return e=tl(e),this.isValid()?this[e+"s"]():NaN}function Ph(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ike=Ph("milliseconds"),$ke=Ph("seconds"),Rke=Ph("minutes"),Dke=Ph("hours"),jke=Ph("days"),Lke=Ph("months"),Nke=Ph("years");function zke(){return Rs(this.days()/7)}var Uc=Math.round,om={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Bke(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Fke(e,t,n,r){var i=Nl(e).abs(),o=Uc(i.as("s")),s=Uc(i.as("m")),a=Uc(i.as("h")),f=Uc(i.as("d")),h=Uc(i.as("M")),g=Uc(i.as("w")),y=Uc(i.as("y")),b=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||f<=1&&["d"]||f<n.d&&["dd",f];return n.w!=null&&(b=b||g<=1&&["w"]||g<n.w&&["ww",g]),b=b||h<=1&&["M"]||h<n.M&&["MM",h]||y<=1&&["y"]||["yy",y],b[2]=t,b[3]=+e>0,b[4]=r,Bke.apply(null,b)}function Uke(e){return e===void 0?Uc:typeof e=="function"?(Uc=e,!0):!1}function Vke(e,t){return om[e]===void 0?!1:t===void 0?om[e]:(om[e]=t,e==="s"&&(om.ss=t-1),!0)}function Wke(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=om,i,o;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},om,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),i=this.localeData(),o=Fke(this,!n,r,i),n&&(o=i.pastFuture(+this,o)),i.postformat(o)}var zP=Math.abs;function Ip(e){return(e>0)-(e<0)||+e}function ck(){if(!this.isValid())return this.localeData().invalidDate();var e=zP(this._milliseconds)/1e3,t=zP(this._days),n=zP(this._months),r,i,o,s,a=this.asSeconds(),f,h,g,y;return a?(r=Rs(e/60),i=Rs(r/60),e%=60,r%=60,o=Rs(n/12),n%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",f=a<0?"-":"",h=Ip(this._months)!==Ip(a)?"-":"",g=Ip(this._days)!==Ip(a)?"-":"",y=Ip(this._milliseconds)!==Ip(a)?"-":"",f+"P"+(o?h+o+"Y":"")+(n?h+n+"M":"")+(t?g+t+"D":"")+(i||r||e?"T":"")+(i?y+i+"H":"")+(r?y+r+"M":"")+(e?y+s+"S":"")):"P0D"}var Jn=sk.prototype;Jn.isValid=j2e;Jn.abs=mke;Jn.add=gke;Jn.subtract=yke;Jn.as=bke;Jn.asMilliseconds=_ke;Jn.asSeconds=wke;Jn.asMinutes=Ske;Jn.asHours=Cke;Jn.asDays=kke;Jn.asWeeks=Tke;Jn.asMonths=Eke;Jn.asQuarters=Pke;Jn.asYears=Oke;Jn.valueOf=xke;Jn._bubble=vke;Jn.clone=Mke;Jn.get=Ake;Jn.milliseconds=Ike;Jn.seconds=$ke;Jn.minutes=Rke;Jn.hours=Dke;Jn.days=jke;Jn.weeks=zke;Jn.months=Lke;Jn.years=Nke;Jn.humanize=Wke;Jn.toISOString=ck;Jn.toString=ck;Jn.toJSON=ck;Jn.locale=XH;Jn.localeData=QH;Jn.toIsoString=el("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ck);Jn.lang=JH;pn("X",0,0,"unix");pn("x",0,0,"valueOf");Gt("x",rk);Gt("X",fSe);Or("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Or("x",function(e,t,n){n._d=new Date(zn(e))});//! moment.js
Nt.version="2.29.4";qwe(Kr);Nt.fn=wt;Nt.min=I2e;Nt.max=$2e;Nt.now=R2e;Nt.utc=gc;Nt.unix=lke;Nt.months=uke;Nt.isDate=mx;Nt.locale=jd;Nt.invalid=JC;Nt.duration=Nl;Nt.isMoment=Dl;Nt.weekdays=fke;Nt.parseZone=cke;Nt.localeData=Eu;Nt.isDuration=cw;Nt.monthsShort=dke;Nt.weekdaysMin=pke;Nt.defineLocale=OD;Nt.updateLocale=c2e;Nt.locales=u2e;Nt.weekdaysShort=hke;Nt.normalizeUnits=tl;Nt.relativeTimeRounding=Uke;Nt.relativeTimeThreshold=Vke;Nt.calendarFormat=oCe;Nt.prototype=wt;Nt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const qke=e=>{switch(e){case"kmh":return 1.852;case"mph":return 1.15078;case"kn":default:return 1}},Hke=e=>{switch(e){case"kmh":return"Km/h";case"mph":return"sharedMph";case"kn":default:return"Km/h"}},Gke=(e,t)=>e*qke(t),Yke=e=>{switch(e){case"mi":return 621371e-9;case"nmi":return 539957e-9;case"km":default:return .001}},Kke=e=>{switch(e){case"mi":return"Mi";case"nmi":return"Nmi";case"km":default:return"Km"}},Zke=(e,t)=>e*Yke(t),Xke=e=>{switch(e){case"ft":return 3.28084;case"m":default:return 1}},Jke=e=>{switch(e){case"ft":return"sharedFeet";case"m":default:return"sharedMeters"}},Qke=(e,t)=>e*Xke(t),eTe=(e,t)=>e+t.charAt(0).toUpperCase()+t.slice(1),uG=e=>e?"sharedYes":"sharedNo",tTe=(e,t=1)=>Number(e.toFixed(t)),dG=e=>`${e}%`,fG=(e,t,n)=>{if(e){const r=Nt(e);switch(t){case"date":return r.format("YYYY-MM-DD");case"time":return r.format(n?"hh:mm:ss A":"HH:mm:ss");case"minutes":return r.format(n?"YYYY-MM-DD hh:mm A":"YYYY-MM-DD HH:mm");default:return r.format(n?"YYYY-MM-DD hh:mm:ss A":"YYYY-MM-DD HH:mm:ss")}}return""},hG=e=>e?eTe("alarm_",e):"",nTe=e=>{const t=["","","","","","","",""];let n=(e+22.5)%360;return n<0&&(n+=360),e.toFixed()+t[Math.floor(n/45)]},rTe=(e,t,n)=>`${Zke(e,t).toFixed(2)} ${Kke(t)}`,iTe=(e,t,n)=>`${Qke(e,t).toFixed(2)} ${Jke(t)}`,oTe=(e,t,n)=>`${Gke(e,t).toFixed(2)} ${Hke(t)}`,aTe=(e,t)=>{const n=Math.floor(e/36e5),r=Math.floor(e%36e5/6e4);return`${n} ${t("sharedHourAbbreviation")} ${r} ${t("sharedMinuteAbbreviation")}`},t4=(e,t,n)=>{let r,i,o,s;switch(e==="latitude"?r=t>=0?"N":"S":r=t>=0?"E":"W",n){case"ddm":return t=Math.abs(t),i=Math.floor(t),o=(t-i)*60,`${i} ${o.toFixed(6)}' ${r}`;case"dms":return t=Math.abs(t),i=Math.floor(t),o=Math.floor((t-i)*60),s=Math.round((t-i-o/60)*3600),`${i} ${o}' ${s}" ${r}`;default:return`${t.toFixed(6)}`}},pG=e=>{switch(e){case"online":return"positive";case"offline":return"negative";case"unknown":default:return"neutral"}},n4="data:image/svg+xml,%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%3e%3ctitle%3eEngine%3c/title%3e%3cpath%20fill='currentColor'%20d='M13.778%206.667v2.222h3.333v2.222h2.222v-2.222h3.333v-2.222h-8.889zM13.778%2013.333c-0.3%200-0.579%200.121-0.79%200.321l-1.888%201.901h-2.878c-0.611%200-1.111%200.5-1.111%201.111v6.667c0%200.611%200.5%201.111%201.111%201.111h1.888l3.056%202.033c0.178%200.122%200.39%200.189%200.612%200.189h5.556c0.244%200%200.477-0.077%200.666-0.221l4.444-3.333c0.278-0.211%200.445-0.545%200.445-0.89v-7.778c0-0.611-0.5-1.111-1.111-1.111h-10zM27.111%2014.444v6.667h2.222v-6.667h-2.222zM17.111%2015.556v3.333h2.222l-3.333%205.556v-3.333h-2.222l3.333-5.556zM2.667%2016.667v5.556h2.222v-5.556h-2.222z'%3e%3c/path%3e%3c/svg%3e",sTe=wr(e=>({icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},batteryText:{fontSize:"0.75rem",fontWeight:"normal",lineHeight:"0.875rem"},positive:{color:e.palette.colors.positive},medium:{color:e.palette.colors.medium},negative:{color:e.palette.colors.negative},neutral:{color:e.palette.colors.neutral}})),lTe={width:"25px",height:"25px",filter:"brightness(0) invert(1)"},BP={color:Sl[500]},r4={color:F$[700]},FP={color:Wc[500]},cTe={color:ac[500]},uTe=({data:e,index:t,style:n})=>{const r=sTe(),i=Ba(),o=e[t],s=Cn(h=>h.data.positions[o.id]),a=o.name,f=()=>{let h;return o.status==="online"||!o.lastUpdate?h=o.status:h=Nt(o.lastUpdate).fromNow(),$.jsxs(Pe.Fragment,{children:[s&&s.attributes.hasOwnProperty("landed_state")&&$.jsx(tn,{component:"span",sx:{display:"block",fontSize:10},children:s.attributes.landed_state}),$.jsx(tn,{component:"span",style:{fontSize:12},className:r[pG(o.status)],children:h})]})};return $.jsx("div",{style:n,children:$.jsxs(kme,{onClick:()=>i(Ja.selectId(o.id)),disabled:o.disabled,children:[$.jsx(Ame,{children:$.jsx(Zde,{children:$.jsx("img",{style:lTe,src:H0[Hw(o.category)],alt:""})})}),$.jsx(zme,{primary:a,primaryTypographyProps:{noWrap:!0},secondary:f(),secondaryTypographyProps:{noWrap:!0}}),s&&$.jsxs($.Fragment,{children:[s.attributes.hasOwnProperty("ignition")&&$.jsx(Lp,{title:`positionIgnition: ${uG(s.attributes.ignition)}`,children:$.jsx(En,{size:"small",children:s.attributes.ignition?$.jsx(n4,{width:20,height:20,style:BP}):$.jsx(n4,{width:20,height:20,style:cTe})})}),s.hasOwnProperty("speed")&&$.jsx(Lp,{title:`speed: ${s.speed}`,children:$.jsx(En,{size:"small",children:$.jsxs("div",{style:{fontSize:"0.9rem"},children:[" V ",Math.round(s.speed),"m/s"]})})}),s.hasOwnProperty("altitude")&&$.jsx(Lp,{title:`altitude: ${Math.round(s.altitude)}`,children:$.jsx(En,{size:"small",children:$.jsxs("div",{style:{fontSize:"0.9rem"},children:["H ",Math.round(s.altitude),"m"]})})}),s.attributes.hasOwnProperty("batteryLevel")&&$.jsx(Lp,{title:`BatteryLevel: ${dG(s.attributes.batteryLevel)}`,children:$.jsx(En,{size:"small",children:s.attributes.batteryLevel>70?s.attributes.charge?$.jsx(cH,{fontSize:"small",style:BP}):$.jsx(lH,{fontSize:"small",style:BP}):s.attributes.batteryLevel>30?s.attributes.charge?$.jsx(fH,{fontSize:"small",style:r4}):$.jsx(uH,{fontSize:"small",style:r4}):s.attributes.charge?$.jsx(gH,{fontSize:"small",style:FP}):$.jsx(pH,{fontSize:"small",style:FP})})}),s.attributes.hasOwnProperty("alarm")&&s.attributes.alarm=="threat"&&$.jsx(Lp,{title:`eventAlarm: ${hG(s.attributes.alarm)}`,children:$.jsx(En,{size:"small",children:$.jsx(vH,{fontSize:"small",style:FP})})})]})]},o.id)})},dTe=wr(e=>({list:{maxHeight:"100%"},listInner:{position:"relative",margin:e.spacing(1.5,0)}})),mG=({devices:e})=>{const t=dTe(),n=Ba(),r=U.useRef(null);r.current&&(r.current.className=t.listInner);const[,i]=U.useState(Date.now());return U.useEffect(()=>{const o=setInterval(()=>i(Date.now()),6e4);return()=>{clearInterval(o)}},[]),sx(async()=>{const o=await fetch("/api/devices");if(o.ok)n(Ja.refresh(await o.json()));else throw Error(await o.text())},[]),$.jsx(fwe,{className:t.list,children:({height:o,width:s})=>$.jsx(uwe,{width:s,height:o,itemCount:e.length,itemData:e,itemSize:72,overscanCount:10,innerRef:r,children:uTe})})};var ND={exports:{}},gG={};function yG(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=yG(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function i4(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=yG(e))&&(r&&(r+=" "),r+=t);return r}const fTe=Object.freeze(Object.defineProperty({__proto__:null,clsx:i4,default:i4},Symbol.toStringTag,{value:"Module"})),hTe=aU(fTe);var _i={},vc={};Object.defineProperty(vc,"__esModule",{value:!0});vc.dontSetMe=vTe;vc.findInArray=pTe;vc.int=yTe;vc.isFunction=mTe;vc.isNum=gTe;function pTe(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function mTe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function gTe(e){return typeof e=="number"&&!isNaN(e)}function yTe(e){return parseInt(e,10)}function vTe(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var Oh={};Object.defineProperty(Oh,"__esModule",{value:!0});Oh.browserPrefixToKey=bG;Oh.browserPrefixToStyle=bTe;Oh.default=void 0;Oh.getPrefix=vG;const UP=["Moz","Webkit","O","ms"];function vG(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!n||t in n)return"";for(let r=0;r<UP.length;r++)if(bG(t,UP[r])in n)return UP[r];return""}function bG(e,t){return t?"".concat(t).concat(xTe(e)):e}function bTe(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function xTe(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}Oh.default=vG();Object.defineProperty(_i,"__esModule",{value:!0});_i.addClassName=wG;_i.addEvent=STe;_i.addUserSelectStyles=RTe;_i.createCSSTransform=MTe;_i.createSVGTransform=ATe;_i.getTouch=ITe;_i.getTouchIdentifier=$Te;_i.getTranslation=zD;_i.innerHeight=ETe;_i.innerWidth=PTe;_i.matchesSelector=_G;_i.matchesSelectorAndParentsTo=wTe;_i.offsetXYFromParent=OTe;_i.outerHeight=kTe;_i.outerWidth=TTe;_i.removeClassName=SG;_i.removeEvent=CTe;_i.removeUserSelectStyles=DTe;var os=vc,o4=_Te(Oh);function xG(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(xG=function(r){return r?n:t})(e)}function _Te(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=xG(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}let T1="";function _G(e,t){return T1||(T1=(0,os.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,os.isFunction)(e[n])})),(0,os.isFunction)(e[T1])?e[T1](t):!1}function wTe(e,t,n){let r=e;do{if(_G(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function STe(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function CTe(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function kTe(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,os.int)(n.borderTopWidth),t+=(0,os.int)(n.borderBottomWidth),t}function TTe(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,os.int)(n.borderLeftWidth),t+=(0,os.int)(n.borderRightWidth),t}function ETe(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,os.int)(n.paddingTop),t-=(0,os.int)(n.paddingBottom),t}function PTe(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,os.int)(n.paddingLeft),t-=(0,os.int)(n.paddingRight),t}function OTe(e,t,n){const i=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-i.left)/n,s=(e.clientY+t.scrollTop-i.top)/n;return{x:o,y:s}}function MTe(e,t){const n=zD(e,t,"px");return{[(0,o4.browserPrefixToKey)("transform",o4.default)]:n}}function ATe(e,t){return zD(e,t,"")}function zD(e,t,n){let{x:r,y:i}=e,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){const s="".concat(typeof t.x=="string"?t.x:t.x+n),a="".concat(typeof t.y=="string"?t.y:t.y+n);o="translate(".concat(s,", ").concat(a,")")+o}return o}function ITe(e,t){return e.targetTouches&&(0,os.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,os.findInArray)(e.changedTouches,n=>t===n.identifier)}function $Te(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function RTe(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&wG(e.body,"react-draggable-transparent-selection")}function DTe(e){if(e)try{if(e.body&&SG(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function wG(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function SG(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var bc={};Object.defineProperty(bc,"__esModule",{value:!0});bc.canDragX=NTe;bc.canDragY=zTe;bc.createCoreData=FTe;bc.createDraggableData=UTe;bc.getBoundPosition=jTe;bc.getControlPosition=BTe;bc.snapToGrid=LTe;var Ga=vc,am=_i;function jTe(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:r}=e.props;r=typeof r=="string"?r:VTe(r);const i=BD(e);if(typeof r=="string"){const{ownerDocument:o}=i,s=o.defaultView;let a;if(r==="parent"?a=i.parentNode:a=o.querySelector(r),!(a instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const f=a,h=s.getComputedStyle(i),g=s.getComputedStyle(f);r={left:-i.offsetLeft+(0,Ga.int)(g.paddingLeft)+(0,Ga.int)(h.marginLeft),top:-i.offsetTop+(0,Ga.int)(g.paddingTop)+(0,Ga.int)(h.marginTop),right:(0,am.innerWidth)(f)-(0,am.outerWidth)(i)-i.offsetLeft+(0,Ga.int)(g.paddingRight)-(0,Ga.int)(h.marginRight),bottom:(0,am.innerHeight)(f)-(0,am.outerHeight)(i)-i.offsetTop+(0,Ga.int)(g.paddingBottom)-(0,Ga.int)(h.marginBottom)}}return(0,Ga.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,Ga.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Ga.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,Ga.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function LTe(e,t,n){const r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]}function NTe(e){return e.props.axis==="both"||e.props.axis==="x"}function zTe(e){return e.props.axis==="both"||e.props.axis==="y"}function BTe(e,t,n){const r=typeof t=="number"?(0,am.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;const i=BD(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,am.offsetXYFromParent)(r||e,o,n.props.scale)}function FTe(e,t,n){const r=!(0,Ga.isNum)(e.lastX),i=BD(e);return r?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function UTe(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function VTe(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function BD(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var uk={},dk={};Object.defineProperty(dk,"__esModule",{value:!0});dk.default=WTe;function WTe(){}Object.defineProperty(uk,"__esModule",{value:!0});uk.default=void 0;var VP=HTe(U),ka=FD(V$),qTe=FD(wu),Do=_i,nd=bc,WP=vc,Pv=FD(dk);function FD(e){return e&&e.__esModule?e:{default:e}}function CG(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(CG=function(r){return r?n:t})(e)}function HTe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=CG(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function sa(e,t,n){return t=GTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GTe(e){var t=YTe(e,"string");return typeof t=="symbol"?t:String(t)}function YTe(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const gl={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let rd=gl.mouse,fk=class extends VP.Component{constructor(){super(...arguments),sa(this,"dragging",!1),sa(this,"lastX",NaN),sa(this,"lastY",NaN),sa(this,"touchIdentifier",null),sa(this,"mounted",!1),sa(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(t.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Do.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,Do.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&t.preventDefault();const i=(0,Do.getTouchIdentifier)(t);this.touchIdentifier=i;const o=(0,nd.getControlPosition)(t,i,this);if(o==null)return;const{x:s,y:a}=o,f=(0,nd.createCoreData)(this,s,a);(0,Pv.default)("DraggableCore: handleDragStart: %j",f),(0,Pv.default)("calling",this.props.onStart),!(this.props.onStart(t,f)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Do.addUserSelectStyles)(r),this.dragging=!0,this.lastX=s,this.lastY=a,(0,Do.addEvent)(r,rd.move,this.handleDrag),(0,Do.addEvent)(r,rd.stop,this.handleDragStop))}),sa(this,"handleDrag",t=>{const n=(0,nd.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,f=i-this.lastY;if([a,f]=(0,nd.snapToGrid)(this.props.grid,a,f),!a&&!f)return;r=this.lastX+a,i=this.lastY+f}const o=(0,nd.createCoreData)(this,r,i);if((0,Pv.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(t,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(f)}return}this.lastX=r,this.lastY=i}),sa(this,"handleDragStop",t=>{if(!this.dragging)return;const n=(0,nd.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let f=r-this.lastX||0,h=i-this.lastY||0;[f,h]=(0,nd.snapToGrid)(this.props.grid,f,h),r=this.lastX+f,i=this.lastY+h}const o=(0,nd.createCoreData)(this,r,i);if(this.props.onStop(t,o)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,Do.removeUserSelectStyles)(a.ownerDocument),(0,Pv.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,Pv.default)("DraggableCore: Removing handlers"),(0,Do.removeEvent)(a.ownerDocument,rd.move,this.handleDrag),(0,Do.removeEvent)(a.ownerDocument,rd.stop,this.handleDragStop))}),sa(this,"onMouseDown",t=>(rd=gl.mouse,this.handleDragStart(t))),sa(this,"onMouseUp",t=>(rd=gl.mouse,this.handleDragStop(t))),sa(this,"onTouchStart",t=>(rd=gl.touch,this.handleDragStart(t))),sa(this,"onTouchEnd",t=>(rd=gl.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,Do.addEvent)(t,gl.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:n}=t;(0,Do.removeEvent)(n,gl.mouse.move,this.handleDrag),(0,Do.removeEvent)(n,gl.touch.move,this.handleDrag),(0,Do.removeEvent)(n,gl.mouse.stop,this.handleDragStop),(0,Do.removeEvent)(n,gl.touch.stop,this.handleDragStop),(0,Do.removeEvent)(t,gl.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Do.removeUserSelectStyles)(n)}}findDOMNode(){var t,n;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:qTe.default.findDOMNode(this)}render(){return VP.cloneElement(VP.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};uk.default=fk;sa(fk,"displayName","DraggableCore");sa(fk,"propTypes",{allowAnyClick:ka.default.bool,children:ka.default.node.isRequired,disabled:ka.default.bool,enableUserSelectHack:ka.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:ka.default.arrayOf(ka.default.number),handle:ka.default.string,cancel:ka.default.string,nodeRef:ka.default.object,onStart:ka.default.func,onDrag:ka.default.func,onStop:ka.default.func,onMouseDown:ka.default.func,scale:ka.default.number,className:WP.dontSetMe,style:WP.dontSetMe,transform:WP.dontSetMe});sa(fk,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),e.default=void 0;var t=b(U),n=g(V$),r=g(wu),i=g(hTe),o=_i,s=bc,a=vc,f=g(uk),h=g(dk);function g(O){return O&&O.__esModule?O:{default:O}}function y(O){if(typeof WeakMap!="function")return null;var I=new WeakMap,L=new WeakMap;return(y=function(R){return R?L:I})(O)}function b(O,I){if(!I&&O&&O.__esModule)return O;if(O===null||typeof O!="object"&&typeof O!="function")return{default:O};var L=y(I);if(L&&L.has(O))return L.get(O);var R={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in O)if(F!=="default"&&Object.prototype.hasOwnProperty.call(O,F)){var q=D?Object.getOwnPropertyDescriptor(O,F):null;q&&(q.get||q.set)?Object.defineProperty(R,F,q):R[F]=O[F]}return R.default=O,L&&L.set(O,R),R}function E(){return E=Object.assign?Object.assign.bind():function(O){for(var I=1;I<arguments.length;I++){var L=arguments[I];for(var R in L)Object.prototype.hasOwnProperty.call(L,R)&&(O[R]=L[R])}return O},E.apply(this,arguments)}function T(O,I,L){return I=w(I),I in O?Object.defineProperty(O,I,{value:L,enumerable:!0,configurable:!0,writable:!0}):O[I]=L,O}function w(O){var I=M(O,"string");return typeof I=="symbol"?I:String(I)}function M(O,I){if(typeof O!="object"||O===null)return O;var L=O[Symbol.toPrimitive];if(L!==void 0){var R=L.call(O,I||"default");if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(O)}class A extends t.Component{static getDerivedStateFromProps(I,L){let{position:R}=I,{prevPropsPosition:D}=L;return R&&(!D||R.x!==D.x||R.y!==D.y)?((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:R,prevPropsPosition:D}),{x:R.x,y:R.y,prevPropsPosition:{...R}}):null}constructor(I){super(I),T(this,"onDragStart",(L,R)=>{if((0,h.default)("Draggable: onDragStart: %j",R),this.props.onStart(L,(0,s.createDraggableData)(this,R))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),T(this,"onDrag",(L,R)=>{if(!this.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",R);const D=(0,s.createDraggableData)(this,R),F={x:D.x,y:D.y,slackX:0,slackY:0};if(this.props.bounds){const{x:J,y:K}=F;F.x+=this.state.slackX,F.y+=this.state.slackY;const[ne,le]=(0,s.getBoundPosition)(this,F.x,F.y);F.x=ne,F.y=le,F.slackX=this.state.slackX+(J-F.x),F.slackY=this.state.slackY+(K-F.y),D.x=F.x,D.y=F.y,D.deltaX=F.x-this.state.x,D.deltaY=F.y-this.state.y}if(this.props.onDrag(L,D)===!1)return!1;this.setState(F)}),T(this,"onDragStop",(L,R)=>{if(!this.state.dragging||this.props.onStop(L,(0,s.createDraggableData)(this,R))===!1)return!1;(0,h.default)("Draggable: onDragStop: %j",R);const F={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:J,y:K}=this.props.position;F.x=J,F.y=K}this.setState(F)}),this.state={dragging:!1,dragged:!1,x:I.position?I.position.x:I.defaultPosition.x,y:I.position?I.position.y:I.defaultPosition.y,prevPropsPosition:{...I.position},slackX:0,slackY:0,isElementSVG:!1},I.position&&!(I.onDrag||I.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var I,L;return(I=(L=this.props)===null||L===void 0||(L=L.nodeRef)===null||L===void 0?void 0:L.current)!==null&&I!==void 0?I:r.default.findDOMNode(this)}render(){const{axis:I,bounds:L,children:R,defaultPosition:D,defaultClassName:F,defaultClassNameDragging:q,defaultClassNameDragged:J,position:K,positionOffset:ne,scale:le,...ye}=this.props;let de={},se=null;const be=!!!K||this.state.dragging,ce=K||D,Ee={x:(0,s.canDragX)(this)&&be?this.state.x:ce.x,y:(0,s.canDragY)(this)&&be?this.state.y:ce.y};this.state.isElementSVG?se=(0,o.createSVGTransform)(Ee,ne):de=(0,o.createCSSTransform)(Ee,ne);const Re=(0,i.default)(R.props.className||"",F,{[q]:this.state.dragging,[J]:this.state.dragged});return t.createElement(f.default,E({},ye,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(R),{className:Re,style:{...R.props.style,...de},transform:se}))}}e.default=A,T(A,"displayName","Draggable"),T(A,"propTypes",{...f.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),T(A,"defaultProps",{...f.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(gG);const{default:kG,DraggableCore:KTe}=gG;ND.exports=kG;ND.exports.default=kG;ND.exports.DraggableCore=KTe;var UD={},ZTe=pr;Object.defineProperty(UD,"__esModule",{value:!0});var VD=UD.default=void 0,XTe=ZTe(mr()),JTe=$,QTe=(0,XTe.default)((0,JTe.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay");VD=UD.default=QTe;var WD={},eEe=pr;Object.defineProperty(WD,"__esModule",{value:!0});var qD=WD.default=void 0,tEe=eEe(mr()),nEe=$,rEe=(0,tEe.default)((0,nEe.jsx)("path",{d:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"}),"Publish");qD=WD.default=rEe;var HD={},iEe=pr;Object.defineProperty(HD,"__esModule",{value:!0});var GD=HD.default=void 0,oEe=iEe(mr()),aEe=$,sEe=(0,oEe.default)((0,aEe.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");GD=HD.default=sEe;var YD={},lEe=pr;Object.defineProperty(YD,"__esModule",{value:!0});var TG=YD.default=void 0,cEe=lEe(mr()),uEe=$,dEe=(0,cEe.default)((0,uEe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7 13.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"Pending");TG=YD.default=dEe;const fA=({position:e,property:t,attribute:n})=>{const r=Cn(b=>b.devices.items[e.deviceId]),i=t||n,o=t?e[t]:e.attributes[n],s="m",a="m",f="km/s",h="ddm",g=!1,y=()=>{switch(i){case"fixTime":case"deviceTime":case"serverTime":return fG(o,"seconds",g);case"latitude":return t4("latitude",o,h);case"longitude":return t4("longitude",o,h);case"speed":return oTe(o,f);case"course":return nTe(o);case"altitude":return iTe(o,a);case"batteryLevel":return dG(o);case"alarm":return hG(o);case"gimbal":return o.toString();case"obstacle_info":return o.toString();case"odometer":case"distance":case"totalDistance":return rTe(o,s);case"hours":return aTe(o);default:return typeof o=="number"?tTe(o):typeof o=="boolean"?uG(o):o||""}};switch(i){case"image":case"video":case"audio":return $.jsx(ume,{href:`/api/media/${r.uniqueId}/${o}`,target:"_blank",children:o});case"totalDistance":case"hours":case"address":case"network":return"";default:return y()}},fEe=wr(e=>({root:{[e.breakpoints.down("md")]:{bottom:`calc(${e.dimensions.bottomBarHeight}px + ${e.spacing(1)})`}},button:{height:"auto",marginTop:0,marginBottom:0,color:e.palette.colors.negative}})),hEe=({open:e,endpoint:t,itemId:n,onResult:r})=>{const i=fEe(),o=async()=>{(await fetch(`/api/${t}/${n}`,{method:"DELETE"})).ok?(console.log("elemento eliminado"),r(!0)):r(!1)};return $.jsx(aye,{className:i.root,open:e,autoHideDuration:2750,onClose:()=>r(!1),message:"confirmar para eliminar",action:$.jsx(or,{size:"small",className:i.button,onClick:o,children:"Eliminar"})})},EG=wr(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},media:{height:e.dimensions.popupImageHeight,display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},content:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},negative:{color:e.palette.colors.negative},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},table:{"& .MuiTableCell-sizeSmall":{paddingLeft:0,paddingRight:0}},cell:{borderBottom:"none"},actions:{justifyContent:"space-between"},root:({desktopPadding:t})=>({pointerEvents:"none",position:"fixed",zIndex:5,left:"50%",[e.breakpoints.up("md")]:{left:`calc(50% + ${t} / 2)`,bottom:e.spacing(3)},[e.breakpoints.down("md")]:{left:"50%",bottom:`calc(${e.spacing(3)} + ${e.dimensions.bottomBarHeight}px)`},transform:"translateX(-50%)"})})),qP=({name:e,content:t})=>{const n=EG();return $.jsxs(_m,{children:[$.jsx(Pa,{className:n.card,children:$.jsx(tn,{variant:"body2",children:e})}),$.jsx(Pa,{className:n.cell,children:$.jsx(tn,{variant:"body2",color:"textSecondary",children:t})})]})},pEe=({deviceId:e,position:t,onClose:n,disableActions:r,desktopPadding:i=0})=>{var A;const o=EG(),s=Ch(),a=Ba(),f=Cn(O=>O.devices.items[e]),h=(A=f==null?void 0:f.attributes)==null?void 0:A.deviceImage,g="speed,course,batteryLevel,gimbal",[y,b]=U.useState(null),[E,T]=U.useState(!1),w=async(O,I,L)=>{console.log("send command uavud: "+O+I);try{const R=await fetch("/api/commands/send",{method:"POST",body:JSON.stringify({deviceId:O,type:I,attributes:L}),headers:{"Content-Type":"application/json"}});if(R.ok){let D=await R.json();console.log(D)}else throw console.log("Error1:"+R),Error(await R.text())}catch(R){console.log("Error2:"+R)}},M=async O=>{if(O){const I=await fetch("/api/devices");if(I.ok){let L=await I.json();a(Ja.refresh(Object.values(L)))}else throw Error(await I.text())}T(!1)};return $.jsxs($.Fragment,{children:[$.jsx("div",{className:o.root,children:f&&$.jsxs(Tu,{elevation:3,className:o.card,children:[h?$.jsx(vhe,{className:o.media,image:`/api/media/${f.uniqueId}/${h}`,children:$.jsx(En,{size:"small",onClick:n,onTouchStart:n,children:$.jsx(mu,{fontSize:"small",className:o.mediaButton})})}):$.jsxs("div",{className:o.header,children:[$.jsx(tn,{variant:"body2",color:"textSecondary",children:f.name}),$.jsx(En,{size:"small",onClick:n,onTouchStart:n,children:$.jsx(mu,{fontSize:"small"})})]}),t&&$.jsx(vR,{className:o.content,children:$.jsx(SR,{size:"small",classes:{root:o.table},children:$.jsxs(CR,{children:[t.hasOwnProperty("latitude")&&$.jsx(qP,{name:"Position",content:$.jsx("a",{href:"https://www.google.com/maps?q="+t.latitude+","+t.longitude,target:"_blank",children:"["+t.latitude.toFixed(6)+","+t.longitude.toFixed(6)+"]"})},"latitude"),g.split(",").filter(O=>t.hasOwnProperty(O)||t.attributes.hasOwnProperty(O)).map(O=>$.jsx(qP,{name:O,content:$.jsx(fA,{position:t,property:t.hasOwnProperty(O)?O:null,attribute:t.hasOwnProperty(O)?null:O})},O)),t.attributes.hasOwnProperty("alarm")&&t.attributes.alarm=="threat"&&$.jsx(qP,{name:"Alarm "+t.attributes.alarm,content:$.jsxs("div",{style:{width:"100%"},children:[$.jsx(or,{variant:"contained",size:"small",color:"primary",style:{margin:"1px",display:"inline-block"},onClick:()=>w(f.id,"threat",{data:!0}),children:"Validate"}),$.jsx(or,{variant:"contained",size:"small",color:"secondary",style:{margin:"1px",display:"inline-block"},onClick:()=>w(f.id,"threat",{data:!1}),children:"Dismiss"})]})},"alarm1")]})})}),$.jsxs(u7,{classes:{root:o.actions},disableSpacing:!0,children:[$.jsx(En,{color:"secondary",onClick:O=>b(O.currentTarget),disabled:!t,children:$.jsx(TG,{})}),$.jsx(En,{onClick:()=>w(f.id,"SincroniseFiles"),children:$.jsx(VD,{})}),$.jsx(En,{onClick:()=>w(f.id,"commandMission"),disabled:r,children:$.jsx(qD,{})}),$.jsx(En,{onClick:()=>s(`/device/${e}`),children:$.jsx(GD,{})}),$.jsx(En,{onClick:()=>T(!0),className:o.negative,children:$.jsx(us,{})})]})]})}),t&&$.jsxs(_7,{anchorEl:y,open:!!y,onClose:()=>b(null),children:[$.jsx(Ls,{onClick:()=>s(`/device/${e}`),children:$.jsx(tn,{color:"secondary",children:"Detalle Dispositivo"})}),$.jsx(Ls,{component:"a",target:"_blank",href:`https://www.google.com/maps/search/?api=1&query=${t.latitude}%2C${t.longitude}`,children:"linkGoogleMaps"}),$.jsx(Ls,{component:"a",target:"_blank",href:`http://maps.apple.com/?ll=${t.latitude},${t.longitude}`,children:"linkAppleMaps"}),$.jsx(Ls,{component:"a",target:"_blank",href:`https://www.google.com/maps/@?api=1&map_action=pano&viewpoint=${t.latitude}%2C${t.longitude}&heading=${t.course}`,children:"linkStreetView"})]}),$.jsx(hEe,{open:E,endpoint:"devices",itemId:e,onResult:O=>M(O)})]})};function mEe(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var gEe=`/* add css styles here (optional) */

.styles_ReactSwipeButton__2WML2 {
  float: left;
  width: 100%;
  height: 50px;
  position: relative;
}
.styles_ReactSwipeButton__2WML2,
.styles_ReactSwipeButton__2WML2 * {
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none;   /* Chrome/Safari/Opera */
  -khtml-user-select: none;    /* Konqueror */
  -moz-user-select: none;      /* Firefox */
  -ms-user-select: none;       /* Internet Explorer/Edge */
  user-select: none;           /* Non-prefixed version, currently
                                  not supported by any browser */
}
.styles_rsbContainer__KXpXK{
  float: left;
  width: 100%;
  height: 100%;
  background: #eee;
  border-radius: 50px;
  position: relative;
  /* box-shadow: inset 1px 1px 4px rgba(0,0,0,0.1); */
  overflow: hidden;
}
.styles_rsbContainerUnlocked__1T0vd{
  width: 50%!important;
  margin-left: 25%;
  transition: 0.5s;
  cursor: default;
}
.styles_rsbContainerUnlocked__1T0vd .styles_rsbcSlider__1yYxD{
  left: 100%!important;
  cursor: default;
  pointer-events: none;
}
.styles_rsbContainerUnlocked__1T0vd .styles_rsbcSliderArrow__2D9q4 {
  transition: 0.5s;
  margin-right: -60px;
}
.styles_rsbContainerUnlocked__1T0vd .styles_rsbcSliderCircle__3G0Zs {
  transition: 0.5s;
  margin-right: -60px;
}
.styles_rsbcSlider__1yYxD {
  float: left;
  width: 100%;
  position: absolute;
  height: 50px;
  top:0;
  left: 50px;
  margin-left:-100%;
  background: #333;
  border-radius: 25px;
  z-index: 100;
  /* box-shadow: 1px 1px 5px rgba(0,0,0,0.3); */
  cursor: pointer;
}
.styles_rsbcSliderText__3h08j{
  position: absolute;
  top:0;
  left:0;
  right:0;
  line-height: 50px;
  text-align: center;
  font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
  letter-spacing: 2px;
  color: #fff;
  font-size: 13px;

}
.styles_rsbcSliderArrow__2D9q4{
  float: left;
  position: absolute;
  transform: rotate(45deg);
  border: 2px solid #fff;
  height: 8px;
  width: 8px;
  top:50%;
  right: 22px;
  margin-top: -6px;
  border-left-color: transparent;
  border-bottom-color: transparent;
  transform-origin: center;
  z-index: 10;
}
.styles_rsbcSliderCircle__3G0Zs {
  position: absolute;
  right: 0;
  background: #444;
  top:0;
  height: 50px;
  width: 50px;
  border-radius: 100%;
}
.styles_rsbcText__16wA0 {
  float: left;
  position: absolute;
  top:0;
  left:0;
  right:0;
  height: 50px;
  line-height: 50px;
  text-align: center;
  font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
  letter-spacing: 2px;
  font-size: 13px;
  color: #aaa;
}`,id={ReactSwipeButton:"styles_ReactSwipeButton__2WML2",rsbContainer:"styles_rsbContainer__KXpXK",rsbContainerUnlocked:"styles_rsbContainerUnlocked__1T0vd",rsbcSlider:"styles_rsbcSlider__1yYxD",rsbcSliderArrow:"styles_rsbcSliderArrow__2D9q4",rsbcSliderCircle:"styles_rsbcSliderCircle__3G0Zs",rsbcSliderText:"styles_rsbcSliderText__3h08j",rsbcText:"styles_rsbcText__16wA0"};mEe(gEe);var yEe=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},vEe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),bEe=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},a4=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},s4=Pe.createRef(),E1=Pe.createRef(),HP="ontouchstart"in document.documentElement,xEe=function(e){bEe(t,e);function t(){var n,r,i,o;yEe(this,t);for(var s=arguments.length,a=Array(s),f=0;f<s;f++)a[f]=arguments[f];return o=(r=(i=a4(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(a))),i),i.isDragging=!1,i.sliderLeft=0,i.state={},i.onDrag=function(h){i.unmounted||i.state.unlocked||i.isDragging&&(HP?i.sliderLeft=Math.min(Math.max(0,h.touches[0].clientX-i.startX),i.containerWidth):i.sliderLeft=Math.min(Math.max(0,h.clientX-i.startX),i.containerWidth),i.updateSliderStyle())},i.updateSliderStyle=function(){i.unmounted||i.state.unlocked||(s4.current.style.left=i.sliderLeft+50+"px")},i.stopDrag=function(){i.unmounted||i.state.unlocked||i.isDragging&&(i.isDragging=!1,i.sliderLeft>i.containerWidth*.9?(i.sliderLeft=i.containerWidth,i.onSuccess(),i.props.onSuccess&&i.props.onSuccess()):(i.sliderLeft=0,i.props.onFailure&&i.props.onFailure()),i.updateSliderStyle())},i.startDrag=function(h){i.unmounted||i.state.unlocked||(i.isDragging=!0,HP?i.startX=h.touches[0].clientX:i.startX=h.clientX)},i.onSuccess=function(){E1.current.style.width=E1.current.clientWidth+"px",i.setState({unlocked:!0})},i.getText=function(){return i.state.unlocked?i.props.text_unlocked||"UNLOCKED":i.props.text||"SLIDE"},i.reset=function(){i.unmounted||i.setState({unlocked:!1},function(){i.sliderLeft=0,i.updateSliderStyle()})},r),a4(i,o)}return vEe(t,[{key:"componentDidMount",value:function(){HP?(document.addEventListener("touchmove",this.onDrag),document.addEventListener("touchend",this.stopDrag)):(document.addEventListener("mousemove",this.onDrag),document.addEventListener("mouseup",this.stopDrag)),this.containerWidth=E1.current.clientWidth-50}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){return Pe.createElement("div",{className:id.ReactSwipeButton},Pe.createElement("div",{className:id.rsbContainer+" "+(this.state.unlocked?id.rsbContainerUnlocked:""),ref:E1},Pe.createElement("div",{className:id.rsbcSlider,ref:s4,onMouseDown:this.startDrag,style:{background:this.props.color},onTouchStart:this.startDrag},Pe.createElement("span",{className:id.rsbcSliderText},this.getText()),Pe.createElement("span",{className:id.rsbcSliderArrow}),Pe.createElement("span",{className:id.rsbcSliderCircle,style:{background:this.props.color}})),Pe.createElement("div",{className:id.rsbcText},this.getText())))}}]),t}(U.Component);const _Ee=wr(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},media:{height:e.dimensions.popupImageHeight,display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},content:{paddingTop:"20px",paddingBottom:"20px"},negative:{color:e.palette.colors.negative},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},table:{"& .MuiTableCell-sizeSmall":{paddingLeft:0,paddingRight:0}},cell:{borderBottom:"none"},actions:{justifyContent:"space-between"},root:{pointerEvents:"none",position:"fixed",zIndex:5,left:"50%",top:"50%",transform:"translate(-50%,-50%)"}})),wEe=({enable:e,onClose:t,onSucces:n})=>{const r=_Ee();return $.jsx($.Fragment,{children:$.jsx("div",{className:r.root,children:e&&$.jsxs(Tu,{elevation:5,className:r.card,children:[$.jsxs("div",{className:r.header,children:[$.jsx(tn,{variant:"body2",color:"textSecondary",children:"Confirm mission"}),$.jsx(En,{size:"small",onClick:t,onTouchStart:t,children:$.jsx(mu,{fontSize:"small"})})]}),$.jsxs(vR,{className:r.content,children:[$.jsx(tn,{variant:"body1",color:"textSecondary",children:"Send all devices to command the mission load"}),$.jsx("div",{style:{marginTop:"10px",height:"50px"},children:$.jsx(xEe,{text:"Slide to Command Mission",color:"#7393B3",text_unlocked:"Commanded",onSuccess:n})})]})]})})})};var KD={},SEe=pr;Object.defineProperty(KD,"__esModule",{value:!0});var PG=KD.default=void 0,CEe=SEe(mr()),kEe=$,TEe=(0,CEe.default)((0,kEe.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");PG=KD.default=TEe;var ZD={},EEe=pr;Object.defineProperty(ZD,"__esModule",{value:!0});var OG=ZD.default=void 0,PEe=EEe(mr()),OEe=$,MEe=(0,PEe.default)((0,OEe.jsx)("path",{d:"M3 14h4v-4H3v4zm0 5h4v-4H3v4zM3 9h4V5H3v4zm5 5h13v-4H8v4zm0 5h13v-4H8v4zM8 5v4h13V5H8z"}),"ViewList");OG=ZD.default=MEe;var XD={},AEe=pr;Object.defineProperty(XD,"__esModule",{value:!0});var MG=XD.default=void 0,IEe=AEe(mr()),$Ee=$,REe=(0,IEe.default)((0,$Ee.jsx)("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"}),"Tune");MG=XD.default=REe;const DEe={display:"flex",gap:"10px 10px",height:"30px",borderBottom:"3px solid rgb(212, 212, 212)"},AG=({SetAddUAVOpen:e})=>$.jsxs(Tg,{style:DEe,children:[$.jsx(En,{edge:"start",children:$.jsx(OG,{})}),$.jsx(_R,{placeholder:"device",endAdornment:$.jsx(Ype,{position:"end",children:$.jsx(En,{size:"small",edge:"end",children:$.jsx(pfe,{color:"info",variant:"dot",children:$.jsx(MG,{fontSize:"small"})})})}),size:"small",fullWidth:!0}),$.jsx(En,{edge:"end",onClick:()=>{e(!0)},children:$.jsx(Lp,{children:$.jsx(PG,{})})})]}),jEe=wr(e=>({card:{pointerEvents:"auto"},media:{width:e.dimensions.popupMaxWidth,display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},media1:{width:"95vw",height:"90vh",display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},gruopBtn:{display:"flex",right:"5px",height:"40px",position:"absolute"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},tittle:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"360px",top:e.spacing(15),transform:"translateX(1%)"},root_max:{pointerEvents:"none",position:"fixed",zIndex:6,left:"51%",top:"5%",transform:"translateX(-50%)"}})),l4=({deviceId:e,deviceIp:t,camera_src:n,onClose:r})=>{const i=jEe();Cn(T=>T.data.camera[e]);const o=Cn(T=>T.devices.items[e]),s="http://"+t+":8889/"+n,[a,f]=U.useState(!1);let h=i.card,g=a?i.root_max:i.root,y=a?i.media1:i.media;function b(){f(!a)}U.useRef();function E(){r(),f(!1)}return U.useEffect(()=>{e&&console.log("device in camera-"+o.name+"-"+t+"+"+n)},[e]),$.jsx("div",{className:g,children:o&&$.jsxs(Tu,{elevation:3,className:h,children:[$.jsxs("div",{className:i.gruopBtn,children:[$.jsx(En,{size:"small",onClick:b,onTouchStart:b,children:$.jsx(uD,{fontSize:"small",className:i.mediaButton})}),$.jsx(En,{size:"small",onClick:E,children:$.jsx(mu,{fontSize:"small",className:i.mediaButton})})]}),$.jsx("div",{className:i.tittle,children:"Image "+o.name}),$.jsx("iframe",{src:s,className:y})]})})},IG=({filtereddeviceid:e=-1})=>{const t=U.useId(),n=`${t}-points`,r=`${t}-points-clusters`,i=Cn(T=>T.mission.route),o=Cn(T=>T.devices.items),s=!0,a=.6,f=()=>Le.getCanvas().style.cursor="pointer",h=()=>Le.getCanvas().style.cursor="",g=(T,w)=>({id:w.id,name:T[w.routeid].name,uav:T[w.routeid].uav,latitude:T[w.routeid].wp[w.id].pos[0],longitude:T[w.routeid].wp[w.id].pos[1],altitud:T[w.routeid].wp[w.id].pos[2],yaw:T[w.routeid].wp[w.id].yaw,speed:T[w.routeid].wp[w.id].speed,gimbal:T[w.routeid].wp[w.id].gimbal,actions:T[w.routeid].wp[w.id].action,attributes:T[w.routeid].attributes,category:"default",color:T[w.routeid].id}),y=T=>{console.log("target"),console.log(T);let w=`<div style="color: #FF7A59;text-align: center" ><b>UAV: ${T.features[0].properties.uav}</b>
      <span><a href="https://www.google.com/maps?q=${T.features[0].properties.latitude},${T.features[0].properties.longitude}" target="_blank">
      Point_${T.features[0].properties.id}</a></span></div>
          <div><span>Route: ${T.features[0].properties.name}</span></div>
          <div style="display:inline"><span> Height: </span><span>${T.features[0].properties.altitud.toFixed(1)}m </span></div>`;w=T.features[0].properties.hasOwnProperty("speed")?w+`<div style="display:inline"><span>Speed: </span><span>${T.features[0].properties.speed} m/s </span></div>`:w,w=T.features[0].properties.hasOwnProperty("yaw")?w+`<div style="display:inline"><span>Yaw: </span><span>${T.features[0].properties.yaw} </span></div>`:w,w=T.features[0].properties.hasOwnProperty("gimbal")?w+`<div style="display:inline"><span>Gimbal: </span><span>${T.features[0].properties.gimbal} </span></div>`:w;let M="<div><b> Waypoint actions: </b></div>";if(T.features[0].properties.actions){let I=JSON.parse(T.features[0].properties.actions);M=M+Object.keys(I).map(L=>{let R=L=="idle_vel"?"m/s":"";return`<div style="display:inline"><span>${L}: </span><span>${I[L]} ${R} </span></div>`}).join("")}let A="<div><b> Attributes_mission: </b></div>",O=JSON.parse(T.features[0].properties.attributes);A=A+Object.keys(O).map(I=>{let L=I=="idle_vel"||I=="max_vel"?"m/s":"";return`<div style="display:inline"><span>${I}: </span><span>${O[I]} ${L} </span></div>`}).join(""),new dx.Popup().setLngLat(T.lngLat).setHTML(w+M+A).addTo(Le)};U.useEffect(()=>(Le.addSource(n,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:s,clusterMaxZoom:10,clusterRadius:50}),Le.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),Le.addLayer({source:t,id:"mission-line",type:"line",paint:{"line-color":["get","color"],"line-width":2}}),Le.addLayer({source:t,id:"mission-title",type:"symbol",layout:{"text-field":"{name}","text-font":Il(Le),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),Le.addLayer({id:"mission-points",type:"symbol",source:n,filter:["!has","point_count"],layout:{"icon-image":"background-{color}","icon-size":a,"icon-allow-overlap":!0,"text-allow-overlap":!0,"text-field":"{id}","text-font":Il(Le),"text-size":14},paint:{"text-color":"white"}}),Le.addLayer({id:r,type:"symbol",source:n,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":a,"text-field":"M","text-font":Il(Le),"text-size":14}}),Le.on("click","mission-points",y),Le.on("mouseenter","mission-points",f),Le.on("mouseleave","mission-points",h),()=>{Le.off("click","mission-points",y),Le.off("mouseenter","mission-points",f),Le.off("mouseleave","mission-points",h),Le.getLayer("mission-line")&&Le.removeLayer("mission-line"),Le.getLayer("mission-title")&&Le.removeLayer("mission-title"),Le.getLayer("mission-points")&&Le.removeLayer("mission-points"),Le.getLayer(r)&&Le.removeLayer(r),Le.getSource(t)&&Le.removeSource(t),Le.getSource(n)&&Le.removeSource(n)}),[]);function b(T){let w=T.wp.map(function(M){return[M.pos[1],M.pos[0]]});return{id:T.id,type:"Feature",geometry:{type:"LineString",coordinates:w},properties:{name:T.uav,color:Ud.colors_devices[T.id]}}}function E(T){let w=[];return T.forEach((M,A)=>{M.wp.forEach((O,I)=>{w.push({longitude:O.pos[1],latitude:O.pos[0],id:I,routeid:A})})}),w}return U.useEffect(()=>{let T=i.filter(M=>e<0||M.uav==o[e].name);console.log("mission filtered"),console.log(T);let w=E(T);Le.getSource(n).setData({type:"FeatureCollection",features:w.map(M=>({type:"Feature",geometry:{type:"Point",coordinates:[M.longitude,M.latitude]},properties:g(T,M)}))}),Le.getSource(t).setData({type:"FeatureCollection",features:T.map(M=>b(M))})},[i]),null},LEe=({markers:e,showTitles:t})=>{const n=U.useId();PR();const r=.4;U.useEffect(()=>(Le.addSource(n,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),t?Le.addLayer({id:n,type:"symbol",source:n,filter:["!has","point_count"],layout:{"icon-image":"{image}","icon-size":r,"icon-allow-overlap":!0,"text-field":"{title}","text-allow-overlap":!0,"text-anchor":"bottom","text-offset":[0,-2*r],"text-font":Il(Le),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}):Le.addLayer({id:n,type:"symbol",source:n,layout:{"icon-image":"{image}","icon-size":r,"icon-allow-overlap":!0}}),()=>{Le.getLayer(n)&&Le.removeLayer(n),Le.getSource(n)&&Le.removeSource(n)}),[t]);function i(o){const s=[];return o.elements&&o.elements.forEach((a,f)=>{a.items.forEach((h,g)=>{s.push({...h,image:a.type,title:`${f}-${g}`})})}),o.bases&&o.bases.forEach((a,f)=>{s.push({...a,image:"base",title:f})}),s}return U.useEffect(()=>{var s;let o=i(e);(s=Le.getSource(n))==null||s.setData({type:"FeatureCollection",features:o.map(({latitude:a,longitude:f,image:h,title:g})=>({type:"Feature",geometry:{type:"Point",coordinates:[f,a]},properties:{image:h||"default-neutral",title:g||""}}))})},[t,e]),null},$G=({positions:e,onClick:t,showStatus:n,selectedPosition:r,titleField:i})=>{const o=U.useId(),s=`${o}-clusters`,a=`${o}-direction`,f=`${o}-mission`,h=Cn(R=>R.devices.items),g=Cn(R=>R.mission.route),y=1,b=!0,E=!1,T="all",w=(R,D,F)=>{const q=R[D.deviceId];let J;switch(T){case"none":J=!1;break;case"all":J=!0;break;default:J=F===D.id;break}let K=g.find(le=>le.uav==q.name),ne=K?K.id:null;return{id:D.id,deviceId:D.deviceId,name:q.name,fixTime:fG(D.fixTime,"seconds",E),category:Hw(q.category),color:n?pG(q.status):"neutral",rotation:D.course,direction:J,mission:!!K,missionColor:ne}},M=()=>Le.getCanvas().style.cursor="pointer",A=()=>Le.getCanvas().style.cursor="",O=U.useCallback(R=>{!R.defaultPrevented&&t&&t()},[t]),I=U.useCallback(R=>{R.preventDefault();const D=R.features[0];t&&t(D.properties.id,D.properties.deviceId)},[t]),L=U.useCallback(R=>{R.preventDefault();const D=Le.queryRenderedFeatures(R.point,{layers:[s]}),F=D[0].properties.cluster_id;Le.getSource(o).getClusterExpansionZoom(F,(q,J)=>{q||Le.easeTo({center:D[0].geometry.coordinates,zoom:J})})},[s]);return U.useEffect(()=>(Le.addSource(o,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:b,clusterMaxZoom:14,clusterRadius:50}),Le.addLayer({id:o,type:"symbol",source:o,filter:["!has","point_count"],layout:{"icon-image":"{category}-{color}","icon-size":y,"icon-allow-overlap":!0,"text-field":`{${i||"name"}}`,"text-allow-overlap":!0,"text-anchor":"bottom","text-offset":[0,-2*y],"text-font":Il(Le),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),Le.addLayer({id:s,type:"symbol",source:o,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":y,"text-field":"{point_count_abbreviated}","text-font":Il(Le),"text-size":14}}),Le.addLayer({id:a,type:"symbol",source:o,filter:["all",["!has","point_count"],["==","direction",!0]],layout:{"icon-image":"direction","icon-size":y,"icon-allow-overlap":!0,"icon-rotate":["get","rotation"],"icon-rotation-alignment":"map"}}),Le.addLayer({id:f,type:"symbol",source:o,filter:["all",["!has","point_count"],["==","mission",!0]],layout:{"icon-image":"mission-{missionColor}","icon-size":y}}),Le.on("mouseenter",o,M),Le.on("mouseleave",o,A),Le.on("mouseenter",s,M),Le.on("mouseleave",s,A),Le.on("click",o,I),Le.on("click",s,L),Le.on("click",O),()=>{Le.off("mouseenter",o,M),Le.off("mouseleave",o,A),Le.off("mouseenter",s,M),Le.off("mouseleave",s,A),Le.off("click",o,I),Le.off("click",s,L),Le.off("click",O),Le.getLayer(o)&&Le.removeLayer(o),Le.getLayer(s)&&Le.removeLayer(s),Le.getLayer(a)&&Le.removeLayer(a),Le.getLayer(f)&&Le.removeLayer(f),Le.getSource(o)&&Le.removeSource(o)}),[b,s,a,f,I,L]),U.useEffect(()=>{Le.getSource(o).setData({type:"FeatureCollection",features:e.filter(R=>h.hasOwnProperty(R.deviceId)).map(R=>({type:"Feature",geometry:{type:"Point",coordinates:[R.longitude,R.latitude]},properties:w(h,R,r&&r.id)}))})},[h,e,r]),null},NEe=e=>{const t=U.useRef();return U.useEffect(()=>{t.current=e}),t.current},zEe=()=>{const e=Cn(o=>o.devices.selectedId),t=NEe(e),n=10,r=!1,i=Cn(o=>o.data.positions[e]);return U.useEffect(()=>{(e!==t||r)&&i&&i.hasOwnProperty("latitude")&&Le.easeTo({center:[i.longitude,i.latitude],zoom:Math.max(Le.getZoom(),n),offset:[0,-300/2]})}),null},JD=()=>{const e="km",t=U.useMemo(()=>new dx.ScaleControl,[]);return U.useEffect(()=>(Le.addControl(t,"bottom-right"),()=>Le.removeControl(t)),[t]),U.useEffect(()=>{switch(e){case"mi":t.setUnit("imperial");break;case"nmi":t.setUnit("nautical");break;case"km":default:t.setUnit("metric");break}},[t,e]),null},RG=({filteredPositions:e,markers:t=[],selectedPosition:n,filteredMissiondeviceid:r=-1,onEventsClick:i})=>{const o=Ba(),s=U.useCallback((a,f)=>{o(Ja.selectId(f))},[o]);return $.jsxs($.Fragment,{children:[$.jsxs(DR,{children:[$.jsx(LEe,{markers:t}),$.jsx(IG,{filtereddeviceid:r}),$.jsx($G,{positions:e,onClick:s,selectedPosition:n,showStatus:!0}),$.jsx(zEe,{})]}),$.jsx(JD,{})]})},BEe=wr(e=>({root:{height:"100%"},sidebar:{pointerEvents:"none",display:"flex",flexDirection:"column",[e.breakpoints.up("md")]:{position:"fixed",left:0,top:0,height:`calc(100% - ${e.spacing(3)})`,width:e.dimensions.drawerWidthDesktop,margin:e.spacing(1.5),zIndex:3},[e.breakpoints.down("md")]:{height:"100%",width:"100%"}},header:{pointerEvents:"auto",zIndex:6},footer:{pointerEvents:"auto",zIndex:5},middle:{flex:1,display:"grid"},contentMap:{pointerEvents:"auto",gridArea:"1 / 1"},contentList:{pointerEvents:"auto",gridArea:"1 / 1",zIndex:4},sidebarStyle:{pointerEvents:"none",display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 88px)",width:"360px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"}})),FEe=()=>{const e=BEe(),t=Ba(),n=jl(),r=Cn(se=>se.devices.items),i=Cn(se=>se.data.positions),o=Cn(se=>se.data.camera),s=Cn(se=>se.devices.selectedId),a=Cn(se=>se.session.markers),[f,h]=U.useState([]),[g,y]=U.useState([]),[b,E]=U.useState([]),[T,w]=U.useState(),[M,A]=U.useState(),[O,I]=U.useState(),[L,R]=U.useState(),D=`${window.location.hostname}`,F=f.find(se=>s&&se.deviceId===s),q=b.find(se=>s&&se.deviceId==s);let J=Object.values(r);U.useContext(Gd);const[K,ne]=U.useState(!1),[le,ye]=U.useState([]),de=(se,pe)=>{console.log(`${se} - ${pe}`)};return U.useCallback((se,pe)=>{t(Ja.selectId(pe))},[t]),U.useEffect(()=>{y(a)},[a]),U.useEffect(()=>{h(Object.values(i))},[i]),U.useEffect(()=>{E(Object.values(o))},[o]),U.useEffect(()=>{s?(w(r[s].ip),r[s].camera.length>0?(A(r[s].camera[0].type),I(r[s].camera[0].source)):A(null),R(r[s].name)):(w(null),A(null))},[s]),$.jsx("div",{className:e.root,children:$.jsxs(KC,{notification:de,children:[$.jsx(ZC,{SetAddUAVOpen:ne}),$.jsx(XC,{SetAddUAVOpen:ne}),$.jsx("div",{style:{position:"relative",float:"right",width:"calc(100% - 360px)",height:"calc(100vh - 88px)"},children:$.jsx(RG,{filteredPositions:f,markers:g,selectedPosition:F})}),$.jsxs("div",{className:e.sidebarStyle,children:[$.jsx(Vo,{square:!0,elevation:3,className:e.header,children:$.jsx(AG,{SetAddUAVOpen:ne})}),$.jsx("div",{className:e.middleStyle,children:$.jsx(Vo,{square:!0,className:e.contentList,children:$.jsx(mG,{devices:J})})})]}),K&&$.jsx(K1e,{SetAddUAVOpen:ne}),$.jsx(pEe,{deviceId:s,position:F,onClose:()=>t(Ja.selectId(null)),desktopPadding:n.dimensions.drawerWidthDesktop}),$.jsx(Gd.Consumer,{children:({confirmMission:se,setconfirmMission:pe,commandMission:be})=>$.jsx(wEe,{enable:se,onClose:()=>pe(!1),onSucces:()=>be()})}),M==="WebRTC"&&$.jsx(l4,{deviceId:s,deviceIp:D,camera_src:L+"_"+O,onClose:()=>t(Ja.selectId(null))}),M==="WebRTC_env"&&$.jsx(l4,{deviceId:s,deviceIp:T,camera_src:O,onClose:()=>t(Ja.selectId(null))}),M==="Websocket"&&$.jsx(twe,{deviceId:s,datacamera:q,onClose:()=>t(Ja.selectId(null))}),$.jsx(z1e,{toastlist:le,position:"buttom-right",setList:ye})]})})},QD=Pe.createContext(),DG=({children:e})=>{const[t,n]=U.useState({route_id:-1,wp_id:-1});return $.jsx("div",{style:{width:"100%",height:"100%"},children:$.jsx(QD.Provider,{value:{changeWp:t,setChangeWp:n},children:e})})};class UEe{constructor(){this.routes=[],this.selecwp={id:-1}}initroute(t){this.routes=JSON.parse(JSON.stringify(t))}getroute(){return this.routes}setroute(t){this.routes=t}getSelectwp(){return this.selecwp}setSelecwp(t){this.selecwp=t}}const VEe=()=>{const e=U.useId(),t=`${e}-points`,n=`${e}-points-clusters`,r=Cn(L=>L.mission.route);Cn(L=>L.mission.selectpoint);const i=!0,o=.6,s=Ba(),[a,f]=U.useState(new UEe),h=U.useContext(QD);let g=Le.getCanvasContainer();const y=()=>Le.getCanvas().style.cursor="move",b=()=>Le.getCanvas().style.cursor="",E=L=>{let R=L.lngLat;g.style.cursor="grabbing",console.log("on move point"+R.lng+"-"+R.lat);let D=a.getroute(),F=a.getSelectwp();F.id>=0&&(D[F.route_id].wp[F.id].pos[0]=L.lngLat.lat,D[F.route_id].wp[F.id].pos[1]=L.lngLat.lng);let q=I(D);Le.getSource(t).setData({type:"FeatureCollection",features:q.map(J=>({type:"Feature",geometry:{type:"Point",coordinates:[J.longitude,J.latitude]},properties:A(D,J)}))}),Le.getSource(e).setData({type:"FeatureCollection",features:D.map(J=>O(J))})},T=L=>{let R=L.lngLat;g.style.cursor="";let D=a.getSelectwp();console.log(`Longitude: ${R.lng} Latitude: ${R.lat}`),h.setChangeWp({wp_id:D.id,route_id:D.route_id,lng:L.lngLat.lng,lat:L.lngLat.lat}),a.setSelecwp({id:-1}),Le.off("mousemove",E),Le.off("touchmove",E)},w=L=>{L.preventDefault(),a.setSelecwp(L.features[0].properties),s(Kc.selectpoint(L.features[0].properties)),g.style.cursor="grab",Le.on("mousemove",E),Le.once("mouseup",T)},M=L=>{L.points.length===1&&(console.log("touch start"),L.preventDefault(),Le.on("touchmove",E),Le.once("touchend",T))},A=(L,R)=>({id:R.id,route_id:R.routeid,name:L[R.routeid].name,uav:L[R.routeid].uav,latitude:L[R.routeid].wp[R.id].pos[0],longitude:L[R.routeid].wp[R.id].pos[1],altitud:L[R.routeid].wp[R.id].pos[2],yaw:L[R.routeid].wp[R.id].yaw,gimbal:L[R.routeid].wp[R.id].gimbal,actions:L[R.routeid].wp[R.id].action,attributes:L[R.routeid].attributes,category:"default",color:L[R.routeid].id});U.useEffect(()=>(console.log("render"),Le.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:i,clusterMaxZoom:10,clusterRadius:50}),Le.addSource(e,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),Le.addLayer({source:e,id:"mission-line",type:"line",paint:{"line-color":["get","color"],"line-width":2}}),Le.addLayer({source:e,id:"mission-title",type:"symbol",layout:{"text-field":"{name}","text-font":Il(Le),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),Le.addLayer({id:"mission-points",type:"symbol",source:t,filter:["!has","point_count"],layout:{"icon-image":"background-{color}","icon-size":o,"icon-allow-overlap":!0,"text-allow-overlap":!0,"text-field":"{id}","text-font":Il(Le),"text-size":14},paint:{"text-color":"white"}}),Le.addLayer({id:n,type:"symbol",source:t,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":o,"text-field":"M","text-font":Il(Le),"text-size":14}}),Le.on("mouseenter","mission-points",y),Le.on("mouseleave","mission-points",b),Le.on("mousedown","mission-points",w),Le.on("touchstart","mission-points",M),()=>{Le.off("mouseenter","mission-points",y),Le.off("mouseleave","mission-points",b),Le.off("mousedown","mission-points",w),Le.off("touchstart","mission-points",M),Le.getLayer("mission-line")&&Le.removeLayer("mission-line"),Le.getLayer("mission-title")&&Le.removeLayer("mission-title"),Le.getLayer("mission-points")&&Le.removeLayer("mission-points"),Le.getLayer(n)&&Le.removeLayer(n),Le.getSource(e)&&Le.removeSource(e),Le.getSource(t)&&Le.removeSource(t)}),[]);function O(L){let R=Object.values(L.wp).map(function(D){return[D.pos[1],D.pos[0]]});return{id:L.id,type:"Feature",geometry:{type:"LineString",coordinates:R},properties:{name:L.uav,color:Ud.colors_devices[L.id]}}}function I(L){let R=[];return L.map((D,F)=>{D.wp.map((q,J)=>{R.push({longitude:q.pos[1],latitude:q.pos[0],id:J,routeid:F})})}),R}return U.useEffect(()=>{console.log("Mapmission upload mission"),a.initroute(r);let L=I(r);Le.getSource(t).setData({type:"FeatureCollection",features:L.map(R=>({type:"Feature",geometry:{type:"Point",coordinates:[R.longitude,R.latitude]},properties:A(r,R)}))}),Le.getSource(e).setData({type:"FeatureCollection",features:r.map(R=>O(R))})},[r]),null};var ej={},WEe=pr;Object.defineProperty(ej,"__esModule",{value:!0});var jG=ej.default=void 0,qEe=WEe(mr()),HEe=$,GEe=(0,qEe.default)((0,HEe.jsx)("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}),"MyLocation");jG=ej.default=GEe;const YEe=wr(e=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),KEe=({mission:e,setmission:t,index:n,index_wp:r,waypoint:i,expand_wp:o,AddnewWp:s})=>{const a=YEe(),[f,h]=U.useState(!1),[g,y]=U.useState(!0),[b,E]=U.useState(0),[T,w]=U.useState(!1);U.useEffect(()=>{console.log("render waypoint"+n+"-"+r)},[]),U.useEffect(()=>{w(o)},[o]);const M=D=>(F,q)=>{w(q?D:!1)};async function A(D,F){let q;const J=await fetch("/api/category/actions/dji_M210_noetic");if(J.ok)q=await J.json();else throw Error(await J.text());let K=q.find(le=>le.id==b),ne=JSON.parse(JSON.stringify(e.route));ne[D].wp[F].hasOwnProperty("action")||(ne[D].wp[F].action={}),K.param?ne[D].wp[F].action[K.name]=0:ne[D].wp[F].action[K.name]=!0,t({...e,route:ne}),y(!0)}const O=(D,F)=>{console.log("remove wp"+D+"-"+F);let q=[...e.route],J=[...e.route[D].wp];J.splice(F,1);let K={...q[D],wp:J};q[D]=K,t({...e,route:q})},I=(D,F,q)=>{console.log("remove action"+D+"-"+F+"-"+q);let J=JSON.parse(JSON.stringify(e.route));delete J[D].wp[F].action[q],t({...e,route:J})},L=D=>(F,q)=>{h(q?D:!1)},R=D=>(F,q)=>{y(!1)};return $.jsxs(ua,{expanded:T==="wp "+r,onChange:M("wp "+r),children:[$.jsxs(fa,{expandIcon:$.jsx(Fo,{}),children:[$.jsx(tn,{sx:{width:"33%",flexShrink:0},children:"WP "+r}),$.jsx(En,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>O(n,r),children:$.jsx(us,{})})]}),$.jsx(da,{className:a.details,children:T==="wp "+r&&$.jsxs(U.Fragment,{children:[$.jsxs($i,{component:"form",sx:{"& .MuiTextField-root":{m:1}},children:[$.jsx("div",{children:$.jsx(tn,{variant:"subtitle1",style:{display:"inline"},children:"Position"})}),$.jsx(ar,{required:!0,label:"Latitud ",type:"number",sx:{width:"15ch"},variant:"standard",inputProps:{maxLength:16,step:1e-4},value:i.pos?i.pos[0]:0,onChange:D=>t({...e,route:e.route.map(F=>{let q=JSON.parse(JSON.stringify(F));return F==e.route[n]?q.wp[r].pos[0]=+D.target.value:q=F,q})})}),$.jsx(ar,{required:!0,label:"Longitud ",type:"number",variant:"standard",sx:{width:"15ch"},inputProps:{maxLength:16,step:1e-4},value:i.pos?i.pos[1]:0,onChange:D=>t({...e,route:e.route.map(F=>{let q=JSON.parse(JSON.stringify(F));return F==e.route[n]?q.wp[r].pos[1]=+D.target.value:q=F,q})})}),$.jsx(ar,{required:!0,label:"altura ",type:"number",variant:"standard",sx:{width:"7ch"},value:i.pos?i.pos[2]:0,onChange:D=>t({...e,route:e.route.map(F=>{let q=JSON.parse(JSON.stringify(F));return F==e.route[n]?q.wp[r].pos[2]=+D.target.value:q=F,q})})})]}),$.jsx(ar,{required:!0,label:"Speed ",type:"number",variant:"standard",value:i.speed?i.speed:e.route[n].attributes.idle_vel,onChange:D=>t({...e,route:e.route.map(F=>{let q=JSON.parse(JSON.stringify(F));return e.route[n]?q.wp[r].speed=+D.target.value:q=F,q})})}),$.jsx(ar,{required:!0,label:"YAW ",type:"number",variant:"standard",value:i.yaw?i.yaw:0,onChange:D=>t({...e,route:e.route.map(F=>{let q=JSON.parse(JSON.stringify(F));return F==e.route[n]?q.wp[r].yaw=+D.target.value:q=F,q})})}),$.jsx(ar,{required:!0,label:"Gimbal ",type:"number",variant:"standard",value:i.gimbal?i.gimbal:0,onChange:D=>t({...e,route:e.route.map(F=>{let q=JSON.parse(JSON.stringify(F));return F==e.route[n]?q.wp[r].gimbal=+D.target.value:q=F,q})})}),$.jsxs(ua,{expanded:f==="wp "+r,onChange:L("wp "+r),children:[$.jsx(fa,{expandIcon:$.jsx(Fo,{}),children:$.jsx(tn,{sx:{width:"33%",flexShrink:0},children:"Actions"})}),$.jsxs(da,{className:a.details,children:[i.action&&Pe.Children.toArray(Object.keys(i.action).map((D,F,q)=>$.jsxs(U.Fragment,{children:[$.jsxs("div",{children:[$.jsx(tn,{variant:"subtitle1",className:a.attributeName,children:D}),$.jsx("div",{className:a.actionValue,children:$.jsx(ar,{required:!0,fullWidth:!0,value:i.action[D]?i.action[D]:0,onChange:J=>t({...e,route:e.route.map(K=>{let ne=JSON.parse(JSON.stringify(K));return K==e.route[n]?ne.wp[r].action[D]=J.target.value:ne=K,ne})})})}),$.jsx(En,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>I(n,r,D),className:a.negative,children:$.jsx(us,{})})]}),$.jsx(Ym,{})]},"fragment-action-"+F))),$.jsx($i,{textAlign:"center",children:g?$.jsx(or,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:R(),children:"Add new action"}):$.jsxs("div",{children:[$.jsx(tn,{variant:"subtitle1",children:"Tipo de acccion a aadir"}),$.jsx(Cl,{emptyValue:null,fullWidth:!0,value:b,onChange:D=>E(D.target.value),endpoint:"/api/category/actions/dji_M210_noetic",keyGetter:D=>D.id,titleGetter:D=>D.description}),$.jsxs("div",{children:[$.jsx(or,{onClick:()=>y(!0),children:"Cancel"}),$.jsx(or,{onClick:()=>A(n,r),children:"Add"})]})]})})]})]}),$.jsx($i,{textAlign:"center",children:$.jsx(or,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:()=>s(n,r),children:"Add new Waypoint"})})]})})]})},ZEe=wr(e=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},attribute:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),XEe=({mission:e,setmission:t,setScrool:n})=>{const r=ZEe(),i=Cn(R=>R.mission),o=Cn(R=>R.mission.selectpoint),s=Ba(),[a,f]=U.useState(!1),[h,g]=U.useState(!1),[y,b]=U.useState(!1),[E,T]=U.useState(!0);U.useEffect(()=>{console.log("render Router list")},[]),U.useEffect(()=>{t(i),i.route.length>0?T(!1):T(!0),f(!0)},[i]),U.useEffect(()=>{a&&(console.log("update mission"),s(Kc.reloadMission(e.route))),e.route.length>0?T(!1):T(!0)},[e.route]),U.useEffect(()=>{a&&s(Kc.reloadName({name:e.name,description:e.description}))},[e.name,e.description]),U.useEffect(()=>{g("Rute "+o.route_id),b("wp "+o.id),n(500+o.route_id*50+o.id*50)},[o]);const w=()=>{t({name:"new Mission",description:"",route:[]}),T(!1),M(),console.log("add new mission")},M=()=>{let R=[...e.route],D=R.length>0?+R.slice(-1)[0].id+1:0,F={max_vel:12,idle_vel:3,mode_yaw:2,mode_gimbal:0,mode_trace:0,mode_landing:2};R.push({name:"",uav:"",id:D,attributes:F,wp:[]}),t({...e,route:R})},A=(R,D)=>{console.log("add new wp"+R);let F=JSON.parse(JSON.stringify(e.route)),q=Le.getCenter();D>0&&(q.lat=(F[R].wp[D].pos[0]+F[R].wp[D-1].pos[0])/2,q.lng=(F[R].wp[D].pos[1]+F[R].wp[D-1].pos[1])/2),D<0?F[R].wp.push({pos:[q.lat,q.lng,5],action:{}}):F[R].wp.splice(D,0,{pos:[q.lat,q.lng,5],action:{}}),t({...e,route:F})},O=R=>{console.log("remove route"+R);let D=JSON.parse(JSON.stringify(e.route));D.splice(R,1),t({...e,route:D})},I=R=>(D,F)=>{g(F?R:!1)},L=R=>(D,F)=>{b(F?R:!1)};return $.jsx(U.Fragment,{children:E?$.jsx($i,{textAlign:"center",children:$.jsx(or,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:w,children:"Create New Mission"})}):$.jsx(U.Fragment,{children:$.jsxs($i,{style:{display:"flex",gap:"10px",flexDirection:"column",margin:"20px"},children:[$.jsx(ar,{required:!0,label:"Name Mission",variant:"standard",value:e.name?e.name:" ",onChange:R=>t({...e,name:R.target.value})}),$.jsx(ar,{required:!0,label:"Description of mission",variant:"standard",value:e.description?e.description:" ",onChange:R=>t({...e,description:R.target.value})}),Pe.Children.toArray(Object.values(e.route).map((R,D,F)=>$.jsxs(U.Fragment,{children:[$.jsxs(ua,{expanded:h==="Rute "+D,onChange:I("Rute "+D),children:[$.jsxs(fa,{expandIcon:$.jsx(Fo,{}),children:[$.jsx(tn,{sx:{width:"33%",flexShrink:0,color:Ud.colors_devices[R.id]},children:"Rute "+D}),$.jsx(tn,{sx:{color:"text.secondary"},children:R.name+"- "+R.uav}),$.jsx(En,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>O(D),children:$.jsx(us,{})})]}),$.jsx(da,{className:r.details,children:h==="Rute "+D&&$.jsxs(U.Fragment,{children:[$.jsx(ar,{required:!0,label:"Route Name",variant:"standard",value:R.name?R.name:"",onChange:q=>t({...e,route:e.route.map(J=>J==e.route[D]?{...R,name:q.target.value}:J)})}),$.jsx(ar,{required:!0,label:"UAV id",variant:"standard",value:R.uav?R.uav:"uav_",onChange:q=>t({...e,route:e.route.map(J=>J==e.route[D]?{...R,uav:q.target.value}:J)})}),$.jsx(Cl,{emptyValue:null,value:R.uav_type?R.uav_type:"",onChange:q=>t({...e,route:e.route.map(J=>J==e.route[D]?{...R,uav_type:q.target.value}:J)}),endpoint:"/api/category",keyGetter:q=>q,titleGetter:q=>q,label:"Type UAV mission",style:{display:"inline",width:"200px"}}),$.jsxs(ua,{expanded:y==="wp -"+D,onChange:L("wp -"+D),children:[$.jsx(fa,{expandIcon:$.jsx(Fo,{}),children:$.jsx(tn,{sx:{width:"53%",flexShrink:0},children:"Route Attributes"})}),$.jsx(da,{className:r.details,children:R.attributes&&$.jsxs(U.Fragment,{children:[$.jsxs("div",{children:[$.jsx(tn,{variant:"subtitle1",className:r.attribute,children:"Speed Mode"}),$.jsx("div",{className:r.attributeValue,children:$.jsx(Cl,{emptyValue:null,fullWidth:!0,value:R.attributes.mode_speed?R.attributes.mode_speed:0,onChange:q=>t({...e,route:e.route.map(J=>{let K=JSON.parse(JSON.stringify(J));return J===e.route[D]?K.attributes.mode_speed=q.target.value:K=J,K})}),endpoint:"/api/category/atributesparam/dji_M300/mode_speed",keyGetter:q=>q.id,titleGetter:q=>q.name})})]}),$.jsxs("div",{children:[$.jsx(tn,{variant:"subtitle1",className:r.attribute,children:"Speed idle (m/s):"}),$.jsx(ar,{fullWidth:!0,required:!0,type:"number",className:r.attributeValue,value:R.attributes.idle_vel?R.attributes.idle_vel:1.85,onChange:q=>t({...e,route:e.route.map(J=>{let K=JSON.parse(JSON.stringify(J));return J==e.route[D]?K.attributes.idle_vel=+q.target.value:K=J,K})})})]}),$.jsxs("div",{children:[$.jsx(tn,{variant:"subtitle1",className:r.attribute,children:"Speed MAX (m/s):"}),$.jsx(ar,{fullWidth:!0,required:!0,type:"number",className:r.attributeValue,value:R.attributes.max_vel?R.attributes.max_vel:12,onChange:q=>t({...e,route:e.route.map(J=>{let K=JSON.parse(JSON.stringify(J));return J==e.route[D]?K.attributes.max_vel=+q.target.value:K=J,K})})})]}),$.jsxs("div",{children:[$.jsx(tn,{variant:"subtitle1",className:r.attribute,children:"landing mode"}),$.jsx("div",{className:r.attributeValue,children:$.jsx(Cl,{emptyValue:null,fullWidth:!0,value:R.attributes.mode_landing?R.attributes.mode_landing:0,onChange:q=>t({...e,route:e.route.map(J=>{let K=JSON.parse(JSON.stringify(J));return J===e.route[D]?K.attributes.mode_landing=q.target.value:K=J,K})}),endpoint:"/api/category/atributesparam/dji_M300/mode_landing",keyGetter:q=>q.id,titleGetter:q=>q.name})})]}),$.jsxs("div",{children:[$.jsx(tn,{variant:"subtitle1",className:r.attribute,children:"Yaw mode"}),$.jsx("div",{className:r.attributeValue,children:$.jsx(Cl,{emptyValue:null,fullWidth:!0,value:R.attributes.mode_yaw?R.attributes.mode_yaw:0,onChange:q=>t({...e,route:e.route.map(J=>{let K=JSON.parse(JSON.stringify(J));return J===e.route[D]?K.attributes.mode_yaw=q.target.value:K=J,K})}),endpoint:"/api/category/atributesparam/dji_M300/mode_yaw",keyGetter:q=>q.id,titleGetter:q=>q.name})})]}),$.jsxs("div",{children:[$.jsx(tn,{variant:"subtitle1",className:r.attribute,children:"Gimbal mode"}),$.jsx("div",{className:r.attributeValue,children:$.jsx(Cl,{emptyValue:null,fullWidth:!0,value:R.attributes.mode_gimbal?R.attributes.mode_gimbal:0,onChange:q=>t({...e,route:e.route.map(J=>{let K=JSON.parse(JSON.stringify(J));return J===e.route[D]?K.attributes.mode_gimbal=q.target.value:K=J,K})}),endpoint:"/api/category/atributesparam/dji_M300/mode_gimbal",keyGetter:q=>q.id,titleGetter:q=>q.name})})]}),$.jsxs("div",{children:[$.jsx(tn,{variant:"subtitle1",className:r.attribute,children:"Trace mode:"}),$.jsx("div",{className:r.attributeValue,children:$.jsx(Cl,{emptyValue:null,fullWidth:!0,value:R.attributes.mode_trace?R.attributes.mode_trace:0,onChange:q=>t({...e,route:e.route.map(J=>{let K=JSON.parse(JSON.stringify(J));return J===e.route[D]?K.attributes.mode_trace=q.target.value:K=J,K})}),endpoint:"/api/category/atributesparam/dji_M300/mode_trace",keyGetter:q=>q.id,titleGetter:q=>q.name})})]})]},"fragment-route-atri-"+R.id)})]}),$.jsx(tn,{variant:"subtitle1",children:"Waypoints"}),Pe.Children.toArray(Object.values(R.wp).map((q,J,K)=>$.jsx(KEe,{mission:e,setmission:t,index_wp:J,index:D,waypoint:q,AddnewWp:A,expand_wp:y}))),$.jsx($i,{textAlign:"center",children:$.jsx(or,{value:D,variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:q=>A(q.target.value,-1),children:"Add new Waypoint"})})]})})]}),D<F.length-1?$.jsx(Ym,{}):null]},"fragment-route-"+D))),$.jsx($i,{textAlign:"center",children:$.jsx(or,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:M,children:"Add new Route"})})]})})})};var tj={},JEe=pr;Object.defineProperty(tj,"__esModule",{value:!0});var bx=tj.default=void 0,QEe=JEe(mr()),ePe=$,tPe=(0,QEe.default)((0,ePe.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");bx=tj.default=tPe;var nj={},nPe=pr;Object.defineProperty(nj,"__esModule",{value:!0});var rj=nj.default=void 0,rPe=nPe(mr()),iPe=$,oPe=(0,rPe.default)((0,iPe.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile");rj=nj.default=oPe;var ij={},aPe=pr;Object.defineProperty(ij,"__esModule",{value:!0});var oj=ij.default=void 0,sPe=aPe(mr()),lPe=$,cPe=(0,sPe.default)((0,lPe.jsx)("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67 2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt");oj=ij.default=cPe;const uPe=wr(e=>({toolbar:{display:"flex",gap:"10px 10px",height:"30px",borderBottom:"3px solid rgb(212, 212, 212)"},list:{maxHeight:"calc(100vh - 152px)",overflowY:"auto"},title:{flexGrow:1},fileInput:{display:"none"}})),dPe=({SetOpenSave:e})=>{const t=uPe(),n=Ch(),r=U.useContext(Gd),i=U.useRef(null),[o,s]=Pe.useState(!1),a=U.useContext(QD),f=()=>{s(w=>!w)},[h,g]=U.useState({name:"no mission",description:"",route:[]});U.useEffect(()=>{if(a.changeWp.route_id>=0)if(o){let w=JSON.parse(JSON.stringify(h.route)),M=a.changeWp.lat-w[a.changeWp.route_id].wp[a.changeWp.wp_id].pos[0],A=a.changeWp.lng-w[a.changeWp.route_id].wp[a.changeWp.wp_id].pos[1],O=w[a.changeWp.route_id].wp.map(I=>{let L=I;return L.pos[0]=M+I.pos[0],L.pos[1]=A+I.pos[1],L});w[a.changeWp.route_id].wp=O,g({...h,route:w})}else{let w=JSON.parse(JSON.stringify(h.route));w[a.changeWp.route_id].wp[a.changeWp.wp_id].pos[0]=a.changeWp.lat,w[a.changeWp.route_id].wp[a.changeWp.wp_id].pos[1]=a.changeWp.lng,g({...h,route:w})}},[a.changeWp]);const y=w=>{console.log("scrool"+w),i.current.scroll&&setTimeout(()=>{i.current.scroll(0,w)},1e3)},b=w=>{const M=w.target.files[0];if(!M)return;const A=new FileReader;A.readAsText(M),A.onload=()=>{console.log(A.result),console.log(M.name),r.openMision(M.name,A.result)},A.onerror=()=>{console.log(A.error)}},E=()=>{g({name:"no mission",description:"",route:[]})},T=()=>{console.log("save mission"),e(!0)};return $.jsxs(U.Fragment,{children:[$.jsxs(Tg,{className:t.toolbar,children:[$.jsx(En,{edge:"start",sx:{mr:2},onClick:()=>n(-1),children:$.jsx(bx,{})}),$.jsx(tn,{variant:"h6",className:t.title,children:"Mission Task"}),$.jsx(tn,{children:"Group Route"}),$.jsx(kye,{checked:o,onChange:f,name:"checkedA",inputProps:{"aria-label":"secondary checkbox"}}),$.jsx(En,{onClick:T,children:$.jsx(oj,{})}),$.jsx(En,{onClick:E,children:$.jsx(us,{})}),$.jsxs("label",{htmlFor:"upload-gpx",children:[$.jsx("input",{accept:".yaml, .plan, .waypoint, .kml",id:"upload-gpx",type:"file",className:t.fileInput,onChange:b}),$.jsx(En,{edge:"end",component:"span",onClick:()=>{},children:$.jsx(rj,{})})]})]}),$.jsx("div",{ref:i,className:t.list,children:$.jsx(XEe,{mission:h,setmission:g,setScrool:y})})]})};var fPe=Array.isArray,Ua=fPe,hPe=typeof zp=="object"&&zp&&zp.Object===Object&&zp,LG=hPe,pPe=LG,mPe=typeof self=="object"&&self&&self.Object===Object&&self,gPe=pPe||mPe||Function("return this")(),xc=gPe,yPe=xc,vPe=yPe.Symbol,xx=vPe,c4=xx,NG=Object.prototype,bPe=NG.hasOwnProperty,xPe=NG.toString,Ov=c4?c4.toStringTag:void 0;function _Pe(e){var t=bPe.call(e,Ov),n=e[Ov];try{e[Ov]=void 0;var r=!0}catch{}var i=xPe.call(e);return r&&(t?e[Ov]=n:delete e[Ov]),i}var wPe=_Pe,SPe=Object.prototype,CPe=SPe.toString;function kPe(e){return CPe.call(e)}var TPe=kPe,u4=xx,EPe=wPe,PPe=TPe,OPe="[object Null]",MPe="[object Undefined]",d4=u4?u4.toStringTag:void 0;function APe(e){return e==null?e===void 0?MPe:OPe:d4&&d4 in Object(e)?EPe(e):PPe(e)}var Ou=APe;function IPe(e){return e!=null&&typeof e=="object"}var Mu=IPe,$Pe=Ou,RPe=Mu,DPe="[object Symbol]";function jPe(e){return typeof e=="symbol"||RPe(e)&&$Pe(e)==DPe}var Lg=jPe,LPe=Ua,NPe=Lg,zPe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,BPe=/^\w*$/;function FPe(e,t){if(LPe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||NPe(e)?!0:BPe.test(e)||!zPe.test(e)||t!=null&&e in Object(t)}var aj=FPe;function UPe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Qd=UPe;const Ng=gr(Qd);var VPe=Ou,WPe=Qd,qPe="[object AsyncFunction]",HPe="[object Function]",GPe="[object GeneratorFunction]",YPe="[object Proxy]";function KPe(e){if(!WPe(e))return!1;var t=VPe(e);return t==HPe||t==GPe||t==qPe||t==YPe}var sj=KPe;const Fn=gr(sj);var ZPe=xc,XPe=ZPe["__core-js_shared__"],JPe=XPe,GP=JPe,f4=function(){var e=/[^.]+$/.exec(GP&&GP.keys&&GP.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function QPe(e){return!!f4&&f4 in e}var eOe=QPe,tOe=Function.prototype,nOe=tOe.toString;function rOe(e){if(e!=null){try{return nOe.call(e)}catch{}try{return e+""}catch{}}return""}var zG=rOe,iOe=sj,oOe=eOe,aOe=Qd,sOe=zG,lOe=/[\\^$.*+?()[\]{}|]/g,cOe=/^\[object .+?Constructor\]$/,uOe=Function.prototype,dOe=Object.prototype,fOe=uOe.toString,hOe=dOe.hasOwnProperty,pOe=RegExp("^"+fOe.call(hOe).replace(lOe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mOe(e){if(!aOe(e)||oOe(e))return!1;var t=iOe(e)?pOe:cOe;return t.test(sOe(e))}var gOe=mOe;function yOe(e,t){return e==null?void 0:e[t]}var vOe=yOe,bOe=gOe,xOe=vOe;function _Oe(e,t){var n=xOe(e,t);return bOe(n)?n:void 0}var Mh=_Oe,wOe=Mh,SOe=wOe(Object,"create"),hk=SOe,h4=hk;function COe(){this.__data__=h4?h4(null):{},this.size=0}var kOe=COe;function TOe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var EOe=TOe,POe=hk,OOe="__lodash_hash_undefined__",MOe=Object.prototype,AOe=MOe.hasOwnProperty;function IOe(e){var t=this.__data__;if(POe){var n=t[e];return n===OOe?void 0:n}return AOe.call(t,e)?t[e]:void 0}var $Oe=IOe,ROe=hk,DOe=Object.prototype,jOe=DOe.hasOwnProperty;function LOe(e){var t=this.__data__;return ROe?t[e]!==void 0:jOe.call(t,e)}var NOe=LOe,zOe=hk,BOe="__lodash_hash_undefined__";function FOe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=zOe&&t===void 0?BOe:t,this}var UOe=FOe,VOe=kOe,WOe=EOe,qOe=$Oe,HOe=NOe,GOe=UOe;function zg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}zg.prototype.clear=VOe;zg.prototype.delete=WOe;zg.prototype.get=qOe;zg.prototype.has=HOe;zg.prototype.set=GOe;var YOe=zg;function KOe(){this.__data__=[],this.size=0}var ZOe=KOe;function XOe(e,t){return e===t||e!==e&&t!==t}var lj=XOe,JOe=lj;function QOe(e,t){for(var n=e.length;n--;)if(JOe(e[n][0],t))return n;return-1}var pk=QOe,eMe=pk,tMe=Array.prototype,nMe=tMe.splice;function rMe(e){var t=this.__data__,n=eMe(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():nMe.call(t,n,1),--this.size,!0}var iMe=rMe,oMe=pk;function aMe(e){var t=this.__data__,n=oMe(t,e);return n<0?void 0:t[n][1]}var sMe=aMe,lMe=pk;function cMe(e){return lMe(this.__data__,e)>-1}var uMe=cMe,dMe=pk;function fMe(e,t){var n=this.__data__,r=dMe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var hMe=fMe,pMe=ZOe,mMe=iMe,gMe=sMe,yMe=uMe,vMe=hMe;function Bg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Bg.prototype.clear=pMe;Bg.prototype.delete=mMe;Bg.prototype.get=gMe;Bg.prototype.has=yMe;Bg.prototype.set=vMe;var mk=Bg,bMe=Mh,xMe=xc,_Me=bMe(xMe,"Map"),cj=_Me,p4=YOe,wMe=mk,SMe=cj;function CMe(){this.size=0,this.__data__={hash:new p4,map:new(SMe||wMe),string:new p4}}var kMe=CMe;function TMe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var EMe=TMe,PMe=EMe;function OMe(e,t){var n=e.__data__;return PMe(t)?n[typeof t=="string"?"string":"hash"]:n.map}var gk=OMe,MMe=gk;function AMe(e){var t=MMe(this,e).delete(e);return this.size-=t?1:0,t}var IMe=AMe,$Me=gk;function RMe(e){return $Me(this,e).get(e)}var DMe=RMe,jMe=gk;function LMe(e){return jMe(this,e).has(e)}var NMe=LMe,zMe=gk;function BMe(e,t){var n=zMe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var FMe=BMe,UMe=kMe,VMe=IMe,WMe=DMe,qMe=NMe,HMe=FMe;function Fg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Fg.prototype.clear=UMe;Fg.prototype.delete=VMe;Fg.prototype.get=WMe;Fg.prototype.has=qMe;Fg.prototype.set=HMe;var uj=Fg,BG=uj,GMe="Expected a function";function dj(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(GMe);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(dj.Cache||BG),n}dj.Cache=BG;var YMe=dj,KMe=YMe,ZMe=500;function XMe(e){var t=KMe(e,function(r){return n.size===ZMe&&n.clear(),r}),n=t.cache;return t}var JMe=XMe,QMe=JMe,eAe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tAe=/\\(\\)?/g,nAe=QMe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(eAe,function(n,r,i,o){t.push(i?o.replace(tAe,"$1"):r||n)}),t}),rAe=nAe;function iAe(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var fj=iAe,m4=xx,oAe=fj,aAe=Ua,sAe=Lg,lAe=1/0,g4=m4?m4.prototype:void 0,y4=g4?g4.toString:void 0;function FG(e){if(typeof e=="string")return e;if(aAe(e))return oAe(e,FG)+"";if(sAe(e))return y4?y4.call(e):"";var t=e+"";return t=="0"&&1/e==-lAe?"-0":t}var cAe=FG,uAe=cAe;function dAe(e){return e==null?"":uAe(e)}var UG=dAe,fAe=Ua,hAe=aj,pAe=rAe,mAe=UG;function gAe(e,t){return fAe(e)?e:hAe(e,t)?[e]:pAe(mAe(e))}var VG=gAe,yAe=Lg,vAe=1/0;function bAe(e){if(typeof e=="string"||yAe(e))return e;var t=e+"";return t=="0"&&1/e==-vAe?"-0":t}var yk=bAe,xAe=VG,_Ae=yk;function wAe(e,t){t=xAe(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[_Ae(t[n++])];return n&&n==r?e:void 0}var hj=wAe,SAe=hj;function CAe(e,t,n){var r=e==null?void 0:SAe(e,t);return r===void 0?n:r}var WG=CAe;const Vs=gr(WG);function kAe(e){return e==null}var TAe=kAe;const Xn=gr(TAe);var EAe=Ou,PAe=Ua,OAe=Mu,MAe="[object String]";function AAe(e){return typeof e=="string"||!PAe(e)&&OAe(e)&&EAe(e)==MAe}var IAe=AAe;const _x=gr(IAe);var qG={exports:{}},Sr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lo=typeof Symbol=="function"&&Symbol.for,pj=lo?Symbol.for("react.element"):60103,mj=lo?Symbol.for("react.portal"):60106,vk=lo?Symbol.for("react.fragment"):60107,bk=lo?Symbol.for("react.strict_mode"):60108,xk=lo?Symbol.for("react.profiler"):60114,_k=lo?Symbol.for("react.provider"):60109,wk=lo?Symbol.for("react.context"):60110,gj=lo?Symbol.for("react.async_mode"):60111,Sk=lo?Symbol.for("react.concurrent_mode"):60111,Ck=lo?Symbol.for("react.forward_ref"):60112,kk=lo?Symbol.for("react.suspense"):60113,$Ae=lo?Symbol.for("react.suspense_list"):60120,Tk=lo?Symbol.for("react.memo"):60115,Ek=lo?Symbol.for("react.lazy"):60116,RAe=lo?Symbol.for("react.block"):60121,DAe=lo?Symbol.for("react.fundamental"):60117,jAe=lo?Symbol.for("react.responder"):60118,LAe=lo?Symbol.for("react.scope"):60119;function gs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case pj:switch(e=e.type,e){case gj:case Sk:case vk:case xk:case bk:case kk:return e;default:switch(e=e&&e.$$typeof,e){case wk:case Ck:case Ek:case Tk:case _k:return e;default:return t}}case mj:return t}}}function HG(e){return gs(e)===Sk}Sr.AsyncMode=gj;Sr.ConcurrentMode=Sk;Sr.ContextConsumer=wk;Sr.ContextProvider=_k;Sr.Element=pj;Sr.ForwardRef=Ck;Sr.Fragment=vk;Sr.Lazy=Ek;Sr.Memo=Tk;Sr.Portal=mj;Sr.Profiler=xk;Sr.StrictMode=bk;Sr.Suspense=kk;Sr.isAsyncMode=function(e){return HG(e)||gs(e)===gj};Sr.isConcurrentMode=HG;Sr.isContextConsumer=function(e){return gs(e)===wk};Sr.isContextProvider=function(e){return gs(e)===_k};Sr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pj};Sr.isForwardRef=function(e){return gs(e)===Ck};Sr.isFragment=function(e){return gs(e)===vk};Sr.isLazy=function(e){return gs(e)===Ek};Sr.isMemo=function(e){return gs(e)===Tk};Sr.isPortal=function(e){return gs(e)===mj};Sr.isProfiler=function(e){return gs(e)===xk};Sr.isStrictMode=function(e){return gs(e)===bk};Sr.isSuspense=function(e){return gs(e)===kk};Sr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===vk||e===Sk||e===xk||e===bk||e===kk||e===$Ae||typeof e=="object"&&e!==null&&(e.$$typeof===Ek||e.$$typeof===Tk||e.$$typeof===_k||e.$$typeof===wk||e.$$typeof===Ck||e.$$typeof===DAe||e.$$typeof===jAe||e.$$typeof===LAe||e.$$typeof===RAe)};Sr.typeOf=gs;qG.exports=Sr;var hA=qG.exports,NAe=Ou,zAe=Mu,BAe="[object Number]";function FAe(e){return typeof e=="number"||zAe(e)&&NAe(e)==BAe}var GG=FAe;const UAe=gr(GG);var VAe=GG;function WAe(e){return VAe(e)&&e!=+e}var qAe=WAe;const wx=gr(qAe);var Ol=function(t){return t===0?0:t>0?1:-1},Kf=function(t){return _x(t)&&t.indexOf("%")===t.length-1},It=function(t){return UAe(t)&&!wx(t)},Ki=function(t){return It(t)||_x(t)},HAe=0,Sx=function(t){var n=++HAe;return"".concat(t||"").concat(n)},Qm=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!It(t)&&!_x(t))return r;var o;if(Kf(t)){var s=t.indexOf("%");o=n*parseFloat(t.slice(0,s))/100}else o=+t;return wx(o)&&(o=r),i&&o>n&&(o=n),o},sd=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},GAe=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},kl=function(t,n){return It(t)&&It(n)?function(r){return t+r*(n-t)}:function(){return n}};function bS(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Vs(r,t))===n})}function Em(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function pA(e){"@babel/helpers - typeof";return pA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pA(e)}var YAe=["viewBox","children"],KAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],v4=["points","pathLength"],YP={svg:YAe,polygon:v4,polyline:v4},yj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],xS=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(U.isValidElement(t)&&(r=t.props),!Ng(r))return null;var i={};return Object.keys(r).forEach(function(o){yj.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},ZAe=function(t,n,r){return function(i){return t(n,r,i),null}},_S=function(t,n,r){if(!Ng(t)||pA(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var s=t[o];yj.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=ZAe(s,n,r))}),i},XAe=["children"],JAe=["children"];function b4(e,t){if(e==null)return{};var n=QAe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function QAe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function mA(e){"@babel/helpers - typeof";return mA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mA(e)}var x4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},iu=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},_4=null,KP=null,vj=function e(t){if(t===_4&&Array.isArray(KP))return KP;var n=[];return U.Children.forEach(t,function(r){Xn(r)||(hA.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),KP=n,_4=t,n};function Ws(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return iu(i)}):r=[iu(t)],vj(e).forEach(function(i){var o=Vs(i,"type.displayName")||Vs(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Qc(e,t){var n=Ws(e,t);return n&&n[0]}var w4=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!It(r)||r<=0||!It(i)||i<=0)},eIe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],tIe=function(t){return t&&t.type&&_x(t.type)&&eIe.indexOf(t.type)>=0},nIe=function(t){return t&&mA(t)==="object"&&"cx"in t&&"cy"in t&&"r"in t},rIe=function(t,n,r,i){var o,s=(o=YP==null?void 0:YP[i])!==null&&o!==void 0?o:[];return!Fn(t)&&(i&&s.includes(n)||KAe.includes(n))||r&&yj.includes(n)},Yn=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(U.isValidElement(t)&&(i=t.props),!Ng(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;rIe((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},YG=function e(t,n){if(t===n)return!0;var r=U.Children.count(t);if(r!==U.Children.count(n))return!1;if(r===0)return!0;if(r===1)return S4(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=t[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!e(o,s))return!1}else if(!S4(o,s))return!1}return!0},S4=function(t,n){if(Xn(t)&&Xn(n))return!0;if(!Xn(t)&&!Xn(n)){var r=t.props||{},i=r.children,o=b4(r,XAe),s=n.props||{},a=s.children,f=b4(s,JAe);return i&&a?Em(o,f)&&YG(i,a):!i&&!a?Em(o,f):!1}return!1},C4=function(t,n){var r=[],i={};return vj(t).forEach(function(o,s){if(tIe(o))r.push(o);else if(o){var a=iu(o.type),f=n[a]||{},h=f.handler,g=f.once;if(h&&(!g||!i[a])){var y=h(o,a,s);r.push(y),i[a]=!0}}}),r},iIe=function(t){var n=t&&t.type;return n&&x4[n]?x4[n]:null},oIe=function(t,n){return vj(n).indexOf(t)},aIe=["children","width","height","viewBox","className","style","title","desc"];function gA(){return gA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gA.apply(this,arguments)}function sIe(e,t){if(e==null)return{};var n=lIe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lIe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function yA(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,o=e.className,s=e.style,a=e.title,f=e.desc,h=sIe(e,aIe),g=i||{width:n,height:r,x:0,y:0},y=st("recharts-surface",o);return Pe.createElement("svg",gA({},Yn(h,!0,"svg"),{className:y,width:n,height:r,style:s,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height)}),Pe.createElement("title",null,a),Pe.createElement("desc",null,f),t)}var cIe=["children","className"];function vA(){return vA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vA.apply(this,arguments)}function uIe(e,t){if(e==null)return{};var n=dIe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dIe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Ii=Pe.forwardRef(function(e,t){var n=e.children,r=e.className,i=uIe(e,cIe),o=st("recharts-layer",r);return Pe.createElement("g",vA({className:o},Yn(i,!0),{ref:t}),n)}),ah=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function fIe(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}var hIe=fIe,pIe=hIe;function mIe(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:pIe(e,t,n)}var gIe=mIe,yIe="\\ud800-\\udfff",vIe="\\u0300-\\u036f",bIe="\\ufe20-\\ufe2f",xIe="\\u20d0-\\u20ff",_Ie=vIe+bIe+xIe,wIe="\\ufe0e\\ufe0f",SIe="\\u200d",CIe=RegExp("["+SIe+yIe+_Ie+wIe+"]");function kIe(e){return CIe.test(e)}var KG=kIe;function TIe(e){return e.split("")}var EIe=TIe,ZG="\\ud800-\\udfff",PIe="\\u0300-\\u036f",OIe="\\ufe20-\\ufe2f",MIe="\\u20d0-\\u20ff",AIe=PIe+OIe+MIe,IIe="\\ufe0e\\ufe0f",$Ie="["+ZG+"]",bA="["+AIe+"]",xA="\\ud83c[\\udffb-\\udfff]",RIe="(?:"+bA+"|"+xA+")",XG="[^"+ZG+"]",JG="(?:\\ud83c[\\udde6-\\uddff]){2}",QG="[\\ud800-\\udbff][\\udc00-\\udfff]",DIe="\\u200d",eY=RIe+"?",tY="["+IIe+"]?",jIe="(?:"+DIe+"(?:"+[XG,JG,QG].join("|")+")"+tY+eY+")*",LIe=tY+eY+jIe,NIe="(?:"+[XG+bA+"?",bA,JG,QG,$Ie].join("|")+")",zIe=RegExp(xA+"(?="+xA+")|"+NIe+LIe,"g");function BIe(e){return e.match(zIe)||[]}var FIe=BIe,UIe=EIe,VIe=KG,WIe=FIe;function qIe(e){return VIe(e)?WIe(e):UIe(e)}var HIe=qIe,GIe=gIe,YIe=KG,KIe=HIe,ZIe=UG;function XIe(e){return function(t){t=ZIe(t);var n=YIe(t)?KIe(t):void 0,r=n?n[0]:t.charAt(0),i=n?GIe(n,1).join(""):t.slice(1);return r[e]()+i}}var JIe=XIe,QIe=JIe,e$e=QIe("toUpperCase"),t$e=e$e;const Pk=gr(t$e);function Nr(e){return function(){return e}}const nY=Math.cos,wS=Math.sin,zl=Math.sqrt,SS=Math.PI,Ok=2*SS,_A=Math.PI,wA=2*_A,Lf=1e-6,n$e=wA-Lf;function rY(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function r$e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return rY;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class i$e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?rY:r$e(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,f=r-t,h=i-n,g=s-t,y=a-n,b=g*g+y*y;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(b>Lf)if(!(Math.abs(y*f-h*g)>Lf)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let E=r-s,T=i-a,w=f*f+h*h,M=E*E+T*T,A=Math.sqrt(w),O=Math.sqrt(b),I=o*Math.tan((_A-Math.acos((w+b-M)/(2*A*O)))/2),L=I/O,R=I/A;Math.abs(L-1)>Lf&&this._append`L${t+L*g},${n+L*y}`,this._append`A${o},${o},0,0,${+(y*E>g*T)},${this._x1=t+R*f},${this._y1=n+R*h}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),f=r*Math.sin(i),h=t+a,g=n+f,y=1^s,b=s?i-o:o-i;this._x1===null?this._append`M${h},${g}`:(Math.abs(this._x1-h)>Lf||Math.abs(this._y1-g)>Lf)&&this._append`L${h},${g}`,r&&(b<0&&(b=b%wA+wA),b>n$e?this._append`A${r},${r},0,1,${y},${t-a},${n-f}A${r},${r},0,1,${y},${this._x1=h},${this._y1=g}`:b>Lf&&this._append`A${r},${r},0,${+(b>=_A)},${y},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function bj(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new i$e(t)}function xj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function iY(e){this._context=e}iY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Mk(e){return new iY(e)}function oY(e){return e[0]}function aY(e){return e[1]}function sY(e,t){var n=Nr(!0),r=null,i=Mk,o=null,s=bj(a);e=typeof e=="function"?e:e===void 0?oY:Nr(e),t=typeof t=="function"?t:t===void 0?aY:Nr(t);function a(f){var h,g=(f=xj(f)).length,y,b=!1,E;for(r==null&&(o=i(E=s())),h=0;h<=g;++h)!(h<g&&n(y=f[h],h,f))===b&&((b=!b)?o.lineStart():o.lineEnd()),b&&o.point(+e(y,h,f),+t(y,h,f));if(E)return o=null,E+""||null}return a.x=function(f){return arguments.length?(e=typeof f=="function"?f:Nr(+f),a):e},a.y=function(f){return arguments.length?(t=typeof f=="function"?f:Nr(+f),a):t},a.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Nr(!!f),a):n},a.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),a):i},a.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),a):r},a}function P1(e,t,n){var r=null,i=Nr(!0),o=null,s=Mk,a=null,f=bj(h);e=typeof e=="function"?e:e===void 0?oY:Nr(+e),t=typeof t=="function"?t:Nr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?aY:Nr(+n);function h(y){var b,E,T,w=(y=xj(y)).length,M,A=!1,O,I=new Array(w),L=new Array(w);for(o==null&&(a=s(O=f())),b=0;b<=w;++b){if(!(b<w&&i(M=y[b],b,y))===A)if(A=!A)E=b,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),T=b-1;T>=E;--T)a.point(I[T],L[T]);a.lineEnd(),a.areaEnd()}A&&(I[b]=+e(M,b,y),L[b]=+t(M,b,y),a.point(r?+r(M,b,y):I[b],n?+n(M,b,y):L[b]))}if(O)return a=null,O+""||null}function g(){return sY().defined(i).curve(s).context(o)}return h.x=function(y){return arguments.length?(e=typeof y=="function"?y:Nr(+y),r=null,h):e},h.x0=function(y){return arguments.length?(e=typeof y=="function"?y:Nr(+y),h):e},h.x1=function(y){return arguments.length?(r=y==null?null:typeof y=="function"?y:Nr(+y),h):r},h.y=function(y){return arguments.length?(t=typeof y=="function"?y:Nr(+y),n=null,h):t},h.y0=function(y){return arguments.length?(t=typeof y=="function"?y:Nr(+y),h):t},h.y1=function(y){return arguments.length?(n=y==null?null:typeof y=="function"?y:Nr(+y),h):n},h.lineX0=h.lineY0=function(){return g().x(e).y(t)},h.lineY1=function(){return g().x(e).y(n)},h.lineX1=function(){return g().x(r).y(t)},h.defined=function(y){return arguments.length?(i=typeof y=="function"?y:Nr(!!y),h):i},h.curve=function(y){return arguments.length?(s=y,o!=null&&(a=s(o)),h):s},h.context=function(y){return arguments.length?(y==null?o=a=null:a=s(o=y),h):o},h}class lY{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function o$e(e){return new lY(e,!0)}function a$e(e){return new lY(e,!1)}const _j={draw(e,t){const n=zl(t/SS);e.moveTo(n,0),e.arc(0,0,n,0,Ok)}},s$e={draw(e,t){const n=zl(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},cY=zl(1/3),l$e=cY*2,c$e={draw(e,t){const n=zl(t/l$e),r=n*cY;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},u$e={draw(e,t){const n=zl(t),r=-n/2;e.rect(r,r,n,n)}},d$e=.8908130915292852,uY=wS(SS/10)/wS(7*SS/10),f$e=wS(Ok/10)*uY,h$e=-nY(Ok/10)*uY,p$e={draw(e,t){const n=zl(t*d$e),r=f$e*n,i=h$e*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const s=Ok*o/5,a=nY(s),f=wS(s);e.lineTo(f*n,-a*n),e.lineTo(a*r-f*i,f*r+a*i)}e.closePath()}},ZP=zl(3),m$e={draw(e,t){const n=-zl(t/(ZP*3));e.moveTo(0,n*2),e.lineTo(-ZP*n,-n),e.lineTo(ZP*n,-n),e.closePath()}},Es=-.5,Ps=zl(3)/2,SA=1/zl(12),g$e=(SA/2+1)*3,y$e={draw(e,t){const n=zl(t/g$e),r=n/2,i=n*SA,o=r,s=n*SA+n,a=-o,f=s;e.moveTo(r,i),e.lineTo(o,s),e.lineTo(a,f),e.lineTo(Es*r-Ps*i,Ps*r+Es*i),e.lineTo(Es*o-Ps*s,Ps*o+Es*s),e.lineTo(Es*a-Ps*f,Ps*a+Es*f),e.lineTo(Es*r+Ps*i,Es*i-Ps*r),e.lineTo(Es*o+Ps*s,Es*s-Ps*o),e.lineTo(Es*a+Ps*f,Es*f-Ps*a),e.closePath()}};function v$e(e,t){let n=null,r=bj(i);e=typeof e=="function"?e:Nr(e||_j),t=typeof t=="function"?t:Nr(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Nr(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Nr(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function CS(){}function kS(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function dY(e){this._context=e}dY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function b$e(e){return new dY(e)}function fY(e){this._context=e}fY.prototype={areaStart:CS,areaEnd:CS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:kS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function x$e(e){return new fY(e)}function hY(e){this._context=e}hY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:kS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _$e(e){return new hY(e)}function pY(e){this._context=e}pY.prototype={areaStart:CS,areaEnd:CS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function w$e(e){return new pY(e)}function k4(e){return e<0?-1:1}function T4(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(k4(o)+k4(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function E4(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function XP(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function TS(e){this._context=e}TS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:XP(this,this._t0,E4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,XP(this,E4(this,n=T4(this,e,t)),n);break;default:XP(this,this._t0,n=T4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function mY(e){this._context=new gY(e)}(mY.prototype=Object.create(TS.prototype)).point=function(e,t){TS.prototype.point.call(this,t,e)};function gY(e){this._context=e}gY.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function S$e(e){return new TS(e)}function C$e(e){return new mY(e)}function yY(e){this._context=e}yY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=P4(e),i=P4(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function P4(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function k$e(e){return new yY(e)}function Ak(e,t){this._context=e,this._t=t}Ak.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function T$e(e){return new Ak(e,.5)}function E$e(e){return new Ak(e,0)}function P$e(e){return new Ak(e,1)}function eg(e,t){if((s=e.length)>1)for(var n=1,r,i,o=e[t[0]],s,a=o.length;n<s;++n)for(i=o,o=e[t[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function CA(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function O$e(e,t){return e[t]}function M$e(e){const t=[];return t.key=e,t}function A$e(){var e=Nr([]),t=CA,n=eg,r=O$e;function i(o){var s=Array.from(e.apply(this,arguments),M$e),a,f=s.length,h=-1,g;for(const y of o)for(a=0,++h;a<f;++a)(s[a][h]=[0,+r(y,s[a].key,h,o)]).data=y;for(a=0,g=xj(t(s));a<f;++a)s[g[a]].index=a;return n(s,g),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Nr(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Nr(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?CA:typeof o=="function"?o:Nr(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??eg,i):n},i}function I$e(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}eg(e,t)}}function $$e(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=e[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}eg(e,t)}}function R$e(e,t){if(!(!((s=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,f=0,h=0;a<s;++a){for(var g=e[t[a]],y=g[r][1]||0,b=g[r-1][1]||0,E=(y-b)/2,T=0;T<a;++T){var w=e[t[T]],M=w[r][1]||0,A=w[r-1][1]||0;E+=M-A}f+=y,h+=E*y}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,eg(e,t)}}function sb(e){"@babel/helpers - typeof";return sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sb(e)}var D$e=["type","size","sizeType"];function kA(){return kA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kA.apply(this,arguments)}function O4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function M4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O4(Object(n),!0).forEach(function(r){j$e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j$e(e,t,n){return t=L$e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L$e(e){var t=N$e(e,"string");return sb(t)==="symbol"?t:String(t)}function N$e(e,t){if(sb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z$e(e,t){if(e==null)return{};var n=B$e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function B$e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var vY={symbolCircle:_j,symbolCross:s$e,symbolDiamond:c$e,symbolSquare:u$e,symbolStar:p$e,symbolTriangle:m$e,symbolWye:y$e},F$e=Math.PI/180,U$e=function(t){var n="symbol".concat(Pk(t));return vY[n]||_j},V$e=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*F$e;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},W$e=function(t,n){vY["symbol".concat(Pk(t))]=n},wj=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,o=i===void 0?64:i,s=t.sizeType,a=s===void 0?"area":s,f=z$e(t,D$e),h=M4(M4({},f),{},{type:r,size:o,sizeType:a}),g=function(){var M=U$e(r),A=v$e().type(M).size(V$e(o,a,r));return A()},y=h.className,b=h.cx,E=h.cy,T=Yn(h,!0);return b===+b&&E===+E&&o===+o?Pe.createElement("path",kA({},T,{className:st("recharts-symbols",y),transform:"translate(".concat(b,", ").concat(E,")"),d:g()})):null};wj.registerSymbol=W$e;function tg(e){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tg(e)}function TA(){return TA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TA.apply(this,arguments)}function A4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function q$e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A4(Object(n),!0).forEach(function(r){lb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bY(r.key),r)}}function G$e(e,t,n){return t&&I4(e.prototype,t),n&&I4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EA(e,t)}function EA(e,t){return EA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EA(e,t)}function K$e(e){var t=J$e();return function(){var r=ES(e),i;if(t){var o=ES(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Z$e(this,i)}}function Z$e(e,t){if(t&&(tg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X$e(e)}function X$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J$e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ES(e){return ES=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ES(e)}function lb(e,t,n){return t=bY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bY(e){var t=Q$e(e,"string");return tg(t)==="symbol"?t:String(t)}function Q$e(e,t){if(tg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(tg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Os=32,Sj=function(e){Y$e(n,e);var t=K$e(n);function n(){return H$e(this,n),t.apply(this,arguments)}return G$e(n,[{key:"renderIcon",value:function(i){var o=this.props.inactiveColor,s=Os/2,a=Os/6,f=Os/3,h=i.inactive?o:i.color;if(i.type==="plainline")return Pe.createElement("line",{strokeWidth:4,fill:"none",stroke:h,strokeDasharray:i.payload.strokeDasharray,x1:0,y1:s,x2:Os,y2:s,className:"recharts-legend-icon"});if(i.type==="line")return Pe.createElement("path",{strokeWidth:4,fill:"none",stroke:h,d:"M0,".concat(s,"h").concat(f,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*f,",").concat(s,`
            H`).concat(Os,"M").concat(2*f,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(f,",").concat(s),className:"recharts-legend-icon"});if(i.type==="rect")return Pe.createElement("path",{stroke:"none",fill:h,d:"M0,".concat(Os/8,"h").concat(Os,"v").concat(Os*3/4,"h").concat(-Os,"z"),className:"recharts-legend-icon"});if(Pe.isValidElement(i.legendIcon)){var g=q$e({},i);return delete g.legendIcon,Pe.cloneElement(i.legendIcon,g)}return Pe.createElement(wj,{fill:h,cx:s,cy:s,size:Os,sizeType:"diameter",type:i.type})}},{key:"renderItems",value:function(){var i=this,o=this.props,s=o.payload,a=o.iconSize,f=o.layout,h=o.formatter,g=o.inactiveColor,y={x:0,y:0,width:Os,height:Os},b={display:f==="horizontal"?"inline-block":"block",marginRight:10},E={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(T,w){var M,A=T.formatter||h,O=st((M={"recharts-legend-item":!0},lb(M,"legend-item-".concat(w),!0),lb(M,"inactive",T.inactive),M));if(T.type==="none")return null;var I=Fn(T.value)?null:T.value;ah(!Fn(T.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var L=T.inactive?g:T.color;return Pe.createElement("li",TA({className:O,style:b,key:"legend-item-".concat(w)},_S(i.props,T,w)),Pe.createElement(yA,{width:a,height:a,viewBox:y,style:E},i.renderIcon(T)),Pe.createElement("span",{className:"recharts-legend-item-text",style:{color:L}},A?A(I,T,w):I))})}},{key:"render",value:function(){var i=this.props,o=i.payload,s=i.layout,a=i.align;if(!o||!o.length)return null;var f={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return Pe.createElement("ul",{className:"recharts-default-legend",style:f},this.renderItems())}}]),n}(U.PureComponent);lb(Sj,"displayName","Legend");lb(Sj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var eRe=mk;function tRe(){this.__data__=new eRe,this.size=0}var nRe=tRe;function rRe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var iRe=rRe;function oRe(e){return this.__data__.get(e)}var aRe=oRe;function sRe(e){return this.__data__.has(e)}var lRe=sRe,cRe=mk,uRe=cj,dRe=uj,fRe=200;function hRe(e,t){var n=this.__data__;if(n instanceof cRe){var r=n.__data__;if(!uRe||r.length<fRe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new dRe(r)}return n.set(e,t),this.size=n.size,this}var pRe=hRe,mRe=mk,gRe=nRe,yRe=iRe,vRe=aRe,bRe=lRe,xRe=pRe;function Ug(e){var t=this.__data__=new mRe(e);this.size=t.size}Ug.prototype.clear=gRe;Ug.prototype.delete=yRe;Ug.prototype.get=vRe;Ug.prototype.has=bRe;Ug.prototype.set=xRe;var xY=Ug,_Re="__lodash_hash_undefined__";function wRe(e){return this.__data__.set(e,_Re),this}var SRe=wRe;function CRe(e){return this.__data__.has(e)}var kRe=CRe,TRe=uj,ERe=SRe,PRe=kRe;function PS(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new TRe;++t<n;)this.add(e[t])}PS.prototype.add=PS.prototype.push=ERe;PS.prototype.has=PRe;var _Y=PS;function ORe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var wY=ORe;function MRe(e,t){return e.has(t)}var SY=MRe,ARe=_Y,IRe=wY,$Re=SY,RRe=1,DRe=2;function jRe(e,t,n,r,i,o){var s=n&RRe,a=e.length,f=t.length;if(a!=f&&!(s&&f>a))return!1;var h=o.get(e),g=o.get(t);if(h&&g)return h==t&&g==e;var y=-1,b=!0,E=n&DRe?new ARe:void 0;for(o.set(e,t),o.set(t,e);++y<a;){var T=e[y],w=t[y];if(r)var M=s?r(w,T,y,t,e,o):r(T,w,y,e,t,o);if(M!==void 0){if(M)continue;b=!1;break}if(E){if(!IRe(t,function(A,O){if(!$Re(E,O)&&(T===A||i(T,A,n,r,o)))return E.push(O)})){b=!1;break}}else if(!(T===w||i(T,w,n,r,o))){b=!1;break}}return o.delete(e),o.delete(t),b}var CY=jRe,LRe=xc,NRe=LRe.Uint8Array,zRe=NRe;function BRe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var FRe=BRe;function URe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Cj=URe,$4=xx,R4=zRe,VRe=lj,WRe=CY,qRe=FRe,HRe=Cj,GRe=1,YRe=2,KRe="[object Boolean]",ZRe="[object Date]",XRe="[object Error]",JRe="[object Map]",QRe="[object Number]",eDe="[object RegExp]",tDe="[object Set]",nDe="[object String]",rDe="[object Symbol]",iDe="[object ArrayBuffer]",oDe="[object DataView]",D4=$4?$4.prototype:void 0,JP=D4?D4.valueOf:void 0;function aDe(e,t,n,r,i,o,s){switch(n){case oDe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case iDe:return!(e.byteLength!=t.byteLength||!o(new R4(e),new R4(t)));case KRe:case ZRe:case QRe:return VRe(+e,+t);case XRe:return e.name==t.name&&e.message==t.message;case eDe:case nDe:return e==t+"";case JRe:var a=qRe;case tDe:var f=r&GRe;if(a||(a=HRe),e.size!=t.size&&!f)return!1;var h=s.get(e);if(h)return h==t;r|=YRe,s.set(e,t);var g=WRe(a(e),a(t),r,i,o,s);return s.delete(e),g;case rDe:if(JP)return JP.call(e)==JP.call(t)}return!1}var sDe=aDe;function lDe(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var kY=lDe,cDe=kY,uDe=Ua;function dDe(e,t,n){var r=t(e);return uDe(e)?r:cDe(r,n(e))}var fDe=dDe;function hDe(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}var pDe=hDe;function mDe(){return[]}var gDe=mDe,yDe=pDe,vDe=gDe,bDe=Object.prototype,xDe=bDe.propertyIsEnumerable,j4=Object.getOwnPropertySymbols,_De=j4?function(e){return e==null?[]:(e=Object(e),yDe(j4(e),function(t){return xDe.call(e,t)}))}:vDe,wDe=_De;function SDe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var CDe=SDe,kDe=Ou,TDe=Mu,EDe="[object Arguments]";function PDe(e){return TDe(e)&&kDe(e)==EDe}var ODe=PDe,L4=ODe,MDe=Mu,TY=Object.prototype,ADe=TY.hasOwnProperty,IDe=TY.propertyIsEnumerable,$De=L4(function(){return arguments}())?L4:function(e){return MDe(e)&&ADe.call(e,"callee")&&!IDe.call(e,"callee")},kj=$De,OS={exports:{}};function RDe(){return!1}var DDe=RDe;OS.exports;(function(e,t){var n=xc,r=DDe,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?n.Buffer:void 0,f=a?a.isBuffer:void 0,h=f||r;e.exports=h})(OS,OS.exports);var EY=OS.exports,jDe=9007199254740991,LDe=/^(?:0|[1-9]\d*)$/;function NDe(e,t){var n=typeof e;return t=t??jDe,!!t&&(n=="number"||n!="symbol"&&LDe.test(e))&&e>-1&&e%1==0&&e<t}var Tj=NDe,zDe=9007199254740991;function BDe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=zDe}var Ej=BDe,FDe=Ou,UDe=Ej,VDe=Mu,WDe="[object Arguments]",qDe="[object Array]",HDe="[object Boolean]",GDe="[object Date]",YDe="[object Error]",KDe="[object Function]",ZDe="[object Map]",XDe="[object Number]",JDe="[object Object]",QDe="[object RegExp]",eje="[object Set]",tje="[object String]",nje="[object WeakMap]",rje="[object ArrayBuffer]",ije="[object DataView]",oje="[object Float32Array]",aje="[object Float64Array]",sje="[object Int8Array]",lje="[object Int16Array]",cje="[object Int32Array]",uje="[object Uint8Array]",dje="[object Uint8ClampedArray]",fje="[object Uint16Array]",hje="[object Uint32Array]",Hr={};Hr[oje]=Hr[aje]=Hr[sje]=Hr[lje]=Hr[cje]=Hr[uje]=Hr[dje]=Hr[fje]=Hr[hje]=!0;Hr[WDe]=Hr[qDe]=Hr[rje]=Hr[HDe]=Hr[ije]=Hr[GDe]=Hr[YDe]=Hr[KDe]=Hr[ZDe]=Hr[XDe]=Hr[JDe]=Hr[QDe]=Hr[eje]=Hr[tje]=Hr[nje]=!1;function pje(e){return VDe(e)&&UDe(e.length)&&!!Hr[FDe(e)]}var mje=pje;function gje(e){return function(t){return e(t)}}var PY=gje,MS={exports:{}};MS.exports;(function(e,t){var n=LG,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var f=i&&i.require&&i.require("util").types;return f||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(MS,MS.exports);var yje=MS.exports,vje=mje,bje=PY,N4=yje,z4=N4&&N4.isTypedArray,xje=z4?bje(z4):vje,OY=xje,_je=CDe,wje=kj,Sje=Ua,Cje=EY,kje=Tj,Tje=OY,Eje=Object.prototype,Pje=Eje.hasOwnProperty;function Oje(e,t){var n=Sje(e),r=!n&&wje(e),i=!n&&!r&&Cje(e),o=!n&&!r&&!i&&Tje(e),s=n||r||i||o,a=s?_je(e.length,String):[],f=a.length;for(var h in e)(t||Pje.call(e,h))&&!(s&&(h=="length"||i&&(h=="offset"||h=="parent")||o&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||kje(h,f)))&&a.push(h);return a}var Mje=Oje,Aje=Object.prototype;function Ije(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Aje;return e===n}var $je=Ije;function Rje(e,t){return function(n){return e(t(n))}}var MY=Rje,Dje=MY,jje=Dje(Object.keys,Object),Lje=jje,Nje=$je,zje=Lje,Bje=Object.prototype,Fje=Bje.hasOwnProperty;function Uje(e){if(!Nje(e))return zje(e);var t=[];for(var n in Object(e))Fje.call(e,n)&&n!="constructor"&&t.push(n);return t}var Vje=Uje,Wje=sj,qje=Ej;function Hje(e){return e!=null&&qje(e.length)&&!Wje(e)}var Cx=Hje,Gje=Mje,Yje=Vje,Kje=Cx;function Zje(e){return Kje(e)?Gje(e):Yje(e)}var Ik=Zje,Xje=fDe,Jje=wDe,Qje=Ik;function eLe(e){return Xje(e,Qje,Jje)}var tLe=eLe,B4=tLe,nLe=1,rLe=Object.prototype,iLe=rLe.hasOwnProperty;function oLe(e,t,n,r,i,o){var s=n&nLe,a=B4(e),f=a.length,h=B4(t),g=h.length;if(f!=g&&!s)return!1;for(var y=f;y--;){var b=a[y];if(!(s?b in t:iLe.call(t,b)))return!1}var E=o.get(e),T=o.get(t);if(E&&T)return E==t&&T==e;var w=!0;o.set(e,t),o.set(t,e);for(var M=s;++y<f;){b=a[y];var A=e[b],O=t[b];if(r)var I=s?r(O,A,b,t,e,o):r(A,O,b,e,t,o);if(!(I===void 0?A===O||i(A,O,n,r,o):I)){w=!1;break}M||(M=b=="constructor")}if(w&&!M){var L=e.constructor,R=t.constructor;L!=R&&"constructor"in e&&"constructor"in t&&!(typeof L=="function"&&L instanceof L&&typeof R=="function"&&R instanceof R)&&(w=!1)}return o.delete(e),o.delete(t),w}var aLe=oLe,sLe=Mh,lLe=xc,cLe=sLe(lLe,"DataView"),uLe=cLe,dLe=Mh,fLe=xc,hLe=dLe(fLe,"Promise"),pLe=hLe,mLe=Mh,gLe=xc,yLe=mLe(gLe,"Set"),AY=yLe,vLe=Mh,bLe=xc,xLe=vLe(bLe,"WeakMap"),_Le=xLe,PA=uLe,OA=cj,MA=pLe,AA=AY,IA=_Le,IY=Ou,Vg=zG,F4="[object Map]",wLe="[object Object]",U4="[object Promise]",V4="[object Set]",W4="[object WeakMap]",q4="[object DataView]",SLe=Vg(PA),CLe=Vg(OA),kLe=Vg(MA),TLe=Vg(AA),ELe=Vg(IA),Nf=IY;(PA&&Nf(new PA(new ArrayBuffer(1)))!=q4||OA&&Nf(new OA)!=F4||MA&&Nf(MA.resolve())!=U4||AA&&Nf(new AA)!=V4||IA&&Nf(new IA)!=W4)&&(Nf=function(e){var t=IY(e),n=t==wLe?e.constructor:void 0,r=n?Vg(n):"";if(r)switch(r){case SLe:return q4;case CLe:return F4;case kLe:return U4;case TLe:return V4;case ELe:return W4}return t});var PLe=Nf,QP=xY,OLe=CY,MLe=sDe,ALe=aLe,H4=PLe,G4=Ua,Y4=EY,ILe=OY,$Le=1,K4="[object Arguments]",Z4="[object Array]",O1="[object Object]",RLe=Object.prototype,X4=RLe.hasOwnProperty;function DLe(e,t,n,r,i,o){var s=G4(e),a=G4(t),f=s?Z4:H4(e),h=a?Z4:H4(t);f=f==K4?O1:f,h=h==K4?O1:h;var g=f==O1,y=h==O1,b=f==h;if(b&&Y4(e)){if(!Y4(t))return!1;s=!0,g=!1}if(b&&!g)return o||(o=new QP),s||ILe(e)?OLe(e,t,n,r,i,o):MLe(e,t,f,n,r,i,o);if(!(n&$Le)){var E=g&&X4.call(e,"__wrapped__"),T=y&&X4.call(t,"__wrapped__");if(E||T){var w=E?e.value():e,M=T?t.value():t;return o||(o=new QP),i(w,M,n,r,o)}}return b?(o||(o=new QP),ALe(e,t,n,r,i,o)):!1}var jLe=DLe,LLe=jLe,J4=Mu;function $Y(e,t,n,r,i){return e===t?!0:e==null||t==null||!J4(e)&&!J4(t)?e!==e&&t!==t:LLe(e,t,n,r,$Y,i)}var Pj=$Y,NLe=xY,zLe=Pj,BLe=1,FLe=2;function ULe(e,t,n,r){var i=n.length,o=i,s=!r;if(e==null)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=n[i];var f=a[0],h=e[f],g=a[1];if(s&&a[2]){if(h===void 0&&!(f in e))return!1}else{var y=new NLe;if(r)var b=r(h,g,f,e,t,y);if(!(b===void 0?zLe(g,h,BLe|FLe,r,y):b))return!1}}return!0}var VLe=ULe,WLe=Qd;function qLe(e){return e===e&&!WLe(e)}var RY=qLe,HLe=RY,GLe=Ik;function YLe(e){for(var t=GLe(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,HLe(i)]}return t}var KLe=YLe;function ZLe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var DY=ZLe,XLe=VLe,JLe=KLe,QLe=DY;function eNe(e){var t=JLe(e);return t.length==1&&t[0][2]?QLe(t[0][0],t[0][1]):function(n){return n===e||XLe(n,e,t)}}var tNe=eNe;function nNe(e,t){return e!=null&&t in Object(e)}var rNe=nNe,iNe=VG,oNe=kj,aNe=Ua,sNe=Tj,lNe=Ej,cNe=yk;function uNe(e,t,n){t=iNe(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var s=cNe(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&lNe(i)&&sNe(s,i)&&(aNe(e)||oNe(e)))}var dNe=uNe,fNe=rNe,hNe=dNe;function pNe(e,t){return e!=null&&hNe(e,t,fNe)}var mNe=pNe,gNe=Pj,yNe=WG,vNe=mNe,bNe=aj,xNe=RY,_Ne=DY,wNe=yk,SNe=1,CNe=2;function kNe(e,t){return bNe(e)&&xNe(t)?_Ne(wNe(e),t):function(n){var r=yNe(n,e);return r===void 0&&r===t?vNe(n,e):gNe(t,r,SNe|CNe)}}var TNe=kNe;function ENe(e){return e}var Wg=ENe;function PNe(e){return function(t){return t==null?void 0:t[e]}}var ONe=PNe,MNe=hj;function ANe(e){return function(t){return MNe(t,e)}}var INe=ANe,$Ne=ONe,RNe=INe,DNe=aj,jNe=yk;function LNe(e){return DNe(e)?$Ne(jNe(e)):RNe(e)}var NNe=LNe,zNe=tNe,BNe=TNe,FNe=Wg,UNe=Ua,VNe=NNe;function WNe(e){return typeof e=="function"?e:e==null?FNe:typeof e=="object"?UNe(e)?BNe(e[0],e[1]):zNe(e):VNe(e)}var ef=WNe;function qNe(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var jY=qNe;function HNe(e){return e!==e}var GNe=HNe;function YNe(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var KNe=YNe,ZNe=jY,XNe=GNe,JNe=KNe;function QNe(e,t,n){return t===t?JNe(e,t,n):ZNe(e,XNe,n)}var eze=QNe,tze=eze;function nze(e,t){var n=e==null?0:e.length;return!!n&&tze(e,t,0)>-1}var rze=nze;function ize(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var oze=ize;function aze(){}var sze=aze,eO=AY,lze=sze,cze=Cj,uze=1/0,dze=eO&&1/cze(new eO([,-0]))[1]==uze?function(e){return new eO(e)}:lze,fze=dze,hze=_Y,pze=rze,mze=oze,gze=SY,yze=fze,vze=Cj,bze=200;function xze(e,t,n){var r=-1,i=pze,o=e.length,s=!0,a=[],f=a;if(n)s=!1,i=mze;else if(o>=bze){var h=t?null:yze(e);if(h)return vze(h);s=!1,i=gze,f=new hze}else f=t?[]:a;e:for(;++r<o;){var g=e[r],y=t?t(g):g;if(g=n||g!==0?g:0,s&&y===y){for(var b=f.length;b--;)if(f[b]===y)continue e;t&&f.push(y),a.push(g)}else i(f,y,n)||(f!==a&&f.push(y),a.push(g))}return a}var _ze=xze,wze=ef,Sze=_ze;function Cze(e,t){return e&&e.length?Sze(e,wze(t)):[]}var kze=Cze;const Q4=gr(kze);function LY(e,t,n){return t===!0?Q4(e,n):Fn(t)?Q4(e,t):e}function ng(e){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ng(e)}var Tze=["ref"];function eF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eF(Object(n),!0).forEach(function(r){$k(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zY(r.key),r)}}function Pze(e,t,n){return t&&tF(e.prototype,t),n&&tF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$A(e,t)}function $A(e,t){return $A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$A(e,t)}function Mze(e){var t=Ize();return function(){var r=AS(e),i;if(t){var o=AS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Aze(this,i)}}function Aze(e,t){if(t&&(ng(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NY(e)}function NY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ize(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function AS(e){return AS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},AS(e)}function $k(e,t,n){return t=zY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zY(e){var t=$ze(e,"string");return ng(t)==="symbol"?t:String(t)}function $ze(e,t){if(ng(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ng(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rze(e,t){if(e==null)return{};var n=Dze(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Dze(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function jze(e){return e.value}function Lze(e,t){if(Pe.isValidElement(e))return Pe.cloneElement(e,t);if(typeof e=="function")return Pe.createElement(e,t);t.ref;var n=Rze(t,Tze);return Pe.createElement(Sj,n)}var nF=1,rg=function(e){Oze(n,e);var t=Mze(n);function n(){var r;Eze(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),$k(NY(r),"lastBoundingBox",{width:-1,height:-1}),r}return Pze(n,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"updateBBox",value:function(){var i=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var o=this.wrapperNode.getBoundingClientRect();(Math.abs(o.width-this.lastBoundingBox.width)>nF||Math.abs(o.height-this.lastBoundingBox.height)>nF)&&(this.lastBoundingBox.width=o.width,this.lastBoundingBox.height=o.height,i&&i(o))}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,i&&i(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Mf({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(i){var o=this.props,s=o.layout,a=o.align,f=o.verticalAlign,h=o.margin,g=o.chartWidth,y=o.chartHeight,b,E;if(!i||(i.left===void 0||i.left===null)&&(i.right===void 0||i.right===null))if(a==="center"&&s==="vertical"){var T=this.getBBoxSnapshot();b={left:((g||0)-T.width)/2}}else b=a==="right"?{right:h&&h.right||0}:{left:h&&h.left||0};if(!i||(i.top===void 0||i.top===null)&&(i.bottom===void 0||i.bottom===null))if(f==="middle"){var w=this.getBBoxSnapshot();E={top:((y||0)-w.height)/2}}else E=f==="bottom"?{bottom:h&&h.bottom||0}:{top:h&&h.top||0};return Mf(Mf({},b),E)}},{key:"render",value:function(){var i=this,o=this.props,s=o.content,a=o.width,f=o.height,h=o.wrapperStyle,g=o.payloadUniqBy,y=o.payload,b=Mf(Mf({position:"absolute",width:a||"auto",height:f||"auto"},this.getDefaultPosition(h)),h);return Pe.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:function(T){i.wrapperNode=T}},Lze(s,Mf(Mf({},this.props),{},{payload:LY(y,g,jze)})))}}],[{key:"getWithHeight",value:function(i,o){var s=i.props.layout;return s==="vertical"&&It(i.props.height)?{height:i.props.height}:s==="horizontal"?{width:i.props.width||o}:null}}]),n}(U.PureComponent);$k(rg,"displayName","Legend");$k(rg,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var rF=xx,Nze=kj,zze=Ua,iF=rF?rF.isConcatSpreadable:void 0;function Bze(e){return zze(e)||Nze(e)||!!(iF&&e&&e[iF])}var Fze=Bze,Uze=kY,Vze=Fze;function BY(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=Vze),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?BY(a,t-1,n,r,i):Uze(i,a):r||(i[i.length]=a)}return i}var FY=BY;function Wze(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var f=s[e?a:++i];if(n(o[f],f,o)===!1)break}return t}}var qze=Wze,Hze=qze,Gze=Hze(),Yze=Gze,Kze=Yze,Zze=Ik;function Xze(e,t){return e&&Kze(e,t,Zze)}var UY=Xze,Jze=Cx;function Qze(e,t){return function(n,r){if(n==null)return n;if(!Jze(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var e3e=Qze,t3e=UY,n3e=e3e,r3e=n3e(t3e),Oj=r3e,i3e=Oj,o3e=Cx;function a3e(e,t){var n=-1,r=o3e(e)?Array(e.length):[];return i3e(e,function(i,o,s){r[++n]=t(i,o,s)}),r}var VY=a3e;function s3e(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var l3e=s3e,oF=Lg;function c3e(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,o=oF(e),s=t!==void 0,a=t===null,f=t===t,h=oF(t);if(!a&&!h&&!o&&e>t||o&&s&&f&&!a&&!h||r&&s&&f||!n&&f||!i)return 1;if(!r&&!o&&!h&&e<t||h&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!f)return-1}return 0}var u3e=c3e,d3e=u3e;function f3e(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var f=d3e(i[r],o[r]);if(f){if(r>=a)return f;var h=n[r];return f*(h=="desc"?-1:1)}}return e.index-t.index}var h3e=f3e,tO=fj,p3e=hj,m3e=ef,g3e=VY,y3e=l3e,v3e=PY,b3e=h3e,x3e=Wg,_3e=Ua;function w3e(e,t,n){t.length?t=tO(t,function(o){return _3e(o)?function(s){return p3e(s,o.length===1?o[0]:o)}:o}):t=[x3e];var r=-1;t=tO(t,v3e(m3e));var i=g3e(e,function(o,s,a){var f=tO(t,function(h){return h(o)});return{criteria:f,index:++r,value:o}});return y3e(i,function(o,s){return b3e(o,s,n)})}var S3e=w3e;function C3e(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var k3e=C3e,T3e=k3e,aF=Math.max;function E3e(e,t,n){return t=aF(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=aF(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),T3e(e,this,a)}}var P3e=E3e;function O3e(e){return function(){return e}}var M3e=O3e,A3e=Mh,I3e=function(){try{var e=A3e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),WY=I3e,$3e=M3e,sF=WY,R3e=Wg,D3e=sF?function(e,t){return sF(e,"toString",{configurable:!0,enumerable:!1,value:$3e(t),writable:!0})}:R3e,j3e=D3e,L3e=800,N3e=16,z3e=Date.now;function B3e(e){var t=0,n=0;return function(){var r=z3e(),i=N3e-(r-n);if(n=r,i>0){if(++t>=L3e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var F3e=B3e,U3e=j3e,V3e=F3e,W3e=V3e(U3e),q3e=W3e,H3e=Wg,G3e=P3e,Y3e=q3e;function K3e(e,t){return Y3e(G3e(e,t,H3e),e+"")}var Z3e=K3e,X3e=lj,J3e=Cx,Q3e=Tj,e5e=Qd;function t5e(e,t,n){if(!e5e(n))return!1;var r=typeof t;return(r=="number"?J3e(n)&&Q3e(t,n.length):r=="string"&&t in n)?X3e(n[t],e):!1}var Rk=t5e,n5e=FY,r5e=S3e,i5e=Z3e,lF=Rk,o5e=i5e(function(e,t){if(e==null)return[];var n=t.length;return n>1&&lF(e,t[0],t[1])?t=[]:n>2&&lF(t[0],t[1],t[2])&&(t=[t[0]]),r5e(e,n5e(t,1),[])}),a5e=o5e;const Mj=gr(a5e);function cb(e){"@babel/helpers - typeof";return cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cb(e)}function s5e(e,t){return d5e(e)||u5e(e,t)||c5e(e,t)||l5e()}function l5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c5e(e,t){if(e){if(typeof e=="string")return cF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cF(e,t)}}function cF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u5e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function d5e(e){if(Array.isArray(e))return e}function uF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uF(Object(n),!0).forEach(function(r){f5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f5e(e,t,n){return t=h5e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h5e(e){var t=p5e(e,"string");return cb(t)==="symbol"?t:String(t)}function p5e(e,t){if(cb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(cb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m5e(e){return Array.isArray(e)&&Ki(e[0])&&Ki(e[1])?e.join(" ~ "):e}var g5e=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,o=i===void 0?{}:i,s=t.itemStyle,a=s===void 0?{}:s,f=t.labelStyle,h=f===void 0?{}:f,g=t.payload,y=t.formatter,b=t.itemSorter,E=t.wrapperClassName,T=t.labelClassName,w=t.label,M=t.labelFormatter,A=function(){if(g&&g.length){var J={padding:0,margin:0},K=(b?Mj(g,b):g).map(function(ne,le){if(ne.type==="none")return null;var ye=nO({display:"block",paddingTop:4,paddingBottom:4,color:ne.color||"#000"},a),de=ne.formatter||y||m5e,se=ne.value,pe=ne.name,be=se,ce=pe;if(de&&be!=null&&ce!=null){var Ee=de(se,pe,ne,le,g);if(Array.isArray(Ee)){var Re=s5e(Ee,2);be=Re[0],ce=Re[1]}else be=Ee}return Pe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(le),style:ye},Ki(ce)?Pe.createElement("span",{className:"recharts-tooltip-item-name"},ce):null,Ki(ce)?Pe.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Pe.createElement("span",{className:"recharts-tooltip-item-value"},be),Pe.createElement("span",{className:"recharts-tooltip-item-unit"},ne.unit||""))});return Pe.createElement("ul",{className:"recharts-tooltip-item-list",style:J},K)}return null},O=nO({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),I=nO({margin:0},h),L=!Xn(w),R=L?w:"",D=st("recharts-default-tooltip",E),F=st("recharts-tooltip-label",T);return L&&M&&g!==void 0&&g!==null&&(R=M(w,g)),Pe.createElement("div",{className:D,style:O},Pe.createElement("p",{className:F,style:I},Pe.isValidElement(R)?R:"".concat(R)),A())},y5e=Object.getOwnPropertyNames,v5e=Object.getOwnPropertySymbols,b5e=Object.prototype.hasOwnProperty;function dF(e,t){return function(r,i,o){return e(r,i,o)&&t(r,i,o)}}function M1(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var f=e(n,r,i);return o.delete(n),o.delete(r),f}}function fF(e){return y5e(e).concat(v5e(e))}var qY=Object.hasOwn||function(e,t){return b5e.call(e,t)};function qg(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var HY="_owner",hF=Object.getOwnPropertyDescriptor,pF=Object.keys;function x5e(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function _5e(e,t){return qg(e.getTime(),t.getTime())}function mF(e,t,n){if(e.size!==t.size)return!1;for(var r={},i=e.entries(),o=0,s,a;(s=i.next())&&!s.done;){for(var f=t.entries(),h=!1,g=0;(a=f.next())&&!a.done;){var y=s.value,b=y[0],E=y[1],T=a.value,w=T[0],M=T[1];!h&&!r[g]&&(h=n.equals(b,w,o,g,e,t,n)&&n.equals(E,M,b,w,e,t,n))&&(r[g]=!0),g++}if(!h)return!1;o++}return!0}function w5e(e,t,n){var r=pF(e),i=r.length;if(pF(t).length!==i)return!1;for(var o;i-- >0;)if(o=r[i],o===HY&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!qY(t,o)||!n.equals(e[o],t[o],o,o,e,t,n))return!1;return!0}function Mv(e,t,n){var r=fF(e),i=r.length;if(fF(t).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],o===HY&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!qY(t,o)||!n.equals(e[o],t[o],o,o,e,t,n)||(s=hF(e,o),a=hF(t,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function S5e(e,t){return qg(e.valueOf(),t.valueOf())}function C5e(e,t){return e.source===t.source&&e.flags===t.flags}function gF(e,t,n){if(e.size!==t.size)return!1;for(var r={},i=e.values(),o,s;(o=i.next())&&!o.done;){for(var a=t.values(),f=!1,h=0;(s=a.next())&&!s.done;)!f&&!r[h]&&(f=n.equals(o.value,s.value,o.value,s.value,e,t,n))&&(r[h]=!0),h++;if(!f)return!1}return!0}function k5e(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}var T5e="[object Arguments]",E5e="[object Boolean]",P5e="[object Date]",O5e="[object Map]",M5e="[object Number]",A5e="[object Object]",I5e="[object RegExp]",$5e="[object Set]",R5e="[object String]",D5e=Array.isArray,yF=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,vF=Object.assign,j5e=Object.prototype.toString.call.bind(Object.prototype.toString);function L5e(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,i=e.areObjectsEqual,o=e.arePrimitiveWrappersEqual,s=e.areRegExpsEqual,a=e.areSetsEqual,f=e.areTypedArraysEqual;return function(g,y,b){if(g===y)return!0;if(g==null||y==null||typeof g!="object"||typeof y!="object")return g!==g&&y!==y;var E=g.constructor;if(E!==y.constructor)return!1;if(E===Object)return i(g,y,b);if(D5e(g))return t(g,y,b);if(yF!=null&&yF(g))return f(g,y,b);if(E===Date)return n(g,y,b);if(E===RegExp)return s(g,y,b);if(E===Map)return r(g,y,b);if(E===Set)return a(g,y,b);var T=j5e(g);return T===P5e?n(g,y,b):T===I5e?s(g,y,b):T===O5e?r(g,y,b):T===$5e?a(g,y,b):T===A5e?typeof g.then!="function"&&typeof y.then!="function"&&i(g,y,b):T===T5e?i(g,y,b):T===E5e||T===M5e||T===R5e?o(g,y,b):!1}}function N5e(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?Mv:x5e,areDatesEqual:_5e,areMapsEqual:r?dF(mF,Mv):mF,areObjectsEqual:r?Mv:w5e,arePrimitiveWrappersEqual:S5e,areRegExpsEqual:C5e,areSetsEqual:r?dF(gF,Mv):gF,areTypedArraysEqual:r?Mv:k5e};if(n&&(i=vF({},i,n(i))),t){var o=M1(i.areArraysEqual),s=M1(i.areMapsEqual),a=M1(i.areObjectsEqual),f=M1(i.areSetsEqual);i=vF({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:f})}return i}function z5e(e){return function(t,n,r,i,o,s,a){return e(t,n,a)}}function B5e(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(f,h){var g=r(),y=g.cache,b=y===void 0?t?new WeakMap:void 0:y,E=g.meta;return n(f,h,{cache:b,equals:i,meta:E,strict:o})};if(t)return function(f,h){return n(f,h,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(f,h){return n(f,h,s)}}var F5e=tf();tf({strict:!0});tf({circular:!0});tf({circular:!0,strict:!0});tf({createInternalComparator:function(){return qg}});tf({strict:!0,createInternalComparator:function(){return qg}});tf({circular:!0,createInternalComparator:function(){return qg}});tf({circular:!0,createInternalComparator:function(){return qg},strict:!0});function tf(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,o=e.strict,s=o===void 0?!1:o,a=N5e(e),f=L5e(a),h=r?r(f):z5e(f);return B5e({circular:n,comparator:f,createState:i,equals:h,strict:s})}function U5e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function bF(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>t?(e(o),n=-1):U5e(i)};requestAnimationFrame(r)}function RA(e){"@babel/helpers - typeof";return RA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RA(e)}function V5e(e){return G5e(e)||H5e(e)||q5e(e)||W5e()}function W5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q5e(e,t){if(e){if(typeof e=="string")return xF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xF(e,t)}}function xF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G5e(e){if(Array.isArray(e))return e}function Y5e(){var e={},t=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=V5e(s),f=a[0],h=a.slice(1);if(typeof f=="number"){bF(i.bind(null,h),f);return}i(f),bF(i.bind(null,h));return}RA(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function ub(e){"@babel/helpers - typeof";return ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ub(e)}function _F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ig(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_F(Object(n),!0).forEach(function(r){IS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_F(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IS(e,t,n){return t=K5e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K5e(e){var t=Z5e(e,"string");return ub(t)==="symbol"?t:String(t)}function Z5e(e,t){if(ub(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ub(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X5e=["Webkit","Moz","O","ms"],J5e=["-webkit-","-moz-","-o-","-ms-"],Q5e=["transform","transformOrigin","transition"],eBe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},tBe=function(t){return t},nBe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},rBe=function(t,n){if(Q5e.indexOf(t)===-1)return IS({},t,Number.isNaN(n)?0:n);var r=t==="transition",i=t.replace(/(\w)/,function(s){return s.toUpperCase()}),o=n;return X5e.reduce(function(s,a,f){return r&&(o=n.replace(/(transform|transform-origin)/gim,"".concat(J5e[f],"$1"))),ig(ig({},s),{},IS({},a+i,o))},{})},v0=function(t,n){return Object.keys(n).reduce(function(r,i){return ig(ig({},r),{},IS({},i,t(i,n[i])))},{})},Aj=function(t){return Object.keys(t).reduce(function(n,r){return ig(ig({},n),rBe(r,n[r]))},t)},wF=function(t,n,r){return t.map(function(i){return"".concat(nBe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function iBe(e,t){return sBe(e)||aBe(e,t)||GY(e,t)||oBe()}function oBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aBe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function sBe(e){if(Array.isArray(e))return e}function lBe(e){return dBe(e)||uBe(e)||GY(e)||cBe()}function cBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GY(e,t){if(e){if(typeof e=="string")return DA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DA(e,t)}}function uBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dBe(e){if(Array.isArray(e))return DA(e)}function DA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $S=1e-4,YY=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},KY=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},SF=function(t,n){return function(r){var i=YY(t,n);return KY(i,r)}},fBe=function(t,n){return function(r){var i=YY(t,n),o=[].concat(lBe(i.map(function(s,a){return s*a}).slice(1)),[0]);return KY(o,r)}},CF=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var f=n[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var h=f[1].split(")")[0].split(",").map(function(M){return parseFloat(M)}),g=iBe(h,4);i=g[0],o=g[1],s=g[2],a=g[3]}}}var y=SF(i,s),b=SF(o,a),E=fBe(i,s),T=function(A){return A>1?1:A<0?0:A},w=function(A){for(var O=A>1?1:A,I=O,L=0;L<8;++L){var R=y(I)-O,D=E(I);if(Math.abs(R-O)<$S||D<$S)return b(I);I=T(I-R/D)}return b(I)};return w.isStepper=!1,w},hBe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,o=i===void 0?8:i,s=t.dt,a=s===void 0?17:s,f=function(g,y,b){var E=-(g-y)*r,T=b*o,w=b+(E-T)*a/1e3,M=b*a/1e3+g;return Math.abs(M-y)<$S&&Math.abs(w)<$S?[y,0]:[M,w]};return f.isStepper=!0,f.dt=a,f},pBe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return CF(i);case"spring":return hBe();default:if(i.split("(")[0]==="cubic-bezier")return CF(i)}return typeof i=="function"?i:null};function db(e){"@babel/helpers - typeof";return db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},db(e)}function kF(e){return yBe(e)||gBe(e)||ZY(e)||mBe()}function mBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yBe(e){if(Array.isArray(e))return LA(e)}function TF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TF(Object(n),!0).forEach(function(r){jA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jA(e,t,n){return t=vBe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vBe(e){var t=bBe(e,"string");return db(t)==="symbol"?t:String(t)}function bBe(e,t){if(db(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(db(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xBe(e,t){return SBe(e)||wBe(e,t)||ZY(e,t)||_Be()}function _Be(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZY(e,t){if(e){if(typeof e=="string")return LA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LA(e,t)}}function LA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wBe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function SBe(e){if(Array.isArray(e))return e}var RS=function(t,n,r){return t+(n-t)*r},NA=function(t){var n=t.from,r=t.to;return n!==r},CBe=function e(t,n,r){var i=v0(function(o,s){if(NA(s)){var a=t(s.from,s.to,s.velocity),f=xBe(a,2),h=f[0],g=f[1];return yo(yo({},s),{},{from:h,velocity:g})}return s},n);return r<1?v0(function(o,s){return NA(s)?yo(yo({},s),{},{velocity:RS(s.velocity,i[o].velocity,r),from:RS(s.from,i[o].from,r)}):s},n):e(t,i,r-1)};const kBe=function(e,t,n,r,i){var o=eBe(e,t),s=o.reduce(function(M,A){return yo(yo({},M),{},jA({},A,[e[A],t[A]]))},{}),a=o.reduce(function(M,A){return yo(yo({},M),{},jA({},A,{from:e[A],velocity:0,to:t[A]}))},{}),f=-1,h,g,y=function(){return null},b=function(){return v0(function(A,O){return O.from},a)},E=function(){return!Object.values(a).filter(NA).length},T=function(A){h||(h=A);var O=A-h,I=O/n.dt;a=CBe(n,a,I),i(yo(yo(yo({},e),t),b())),h=A,E()||(f=requestAnimationFrame(y))},w=function(A){g||(g=A);var O=(A-g)/r,I=v0(function(R,D){return RS.apply(void 0,kF(D).concat([n(O)]))},s);if(i(yo(yo(yo({},e),t),I)),O<1)f=requestAnimationFrame(y);else{var L=v0(function(R,D){return RS.apply(void 0,kF(D).concat([n(1)]))},s);i(yo(yo(yo({},e),t),L))}};return y=n.isStepper?T:w,function(){return requestAnimationFrame(y),function(){cancelAnimationFrame(f)}}};function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}var TBe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function EBe(e,t){if(e==null)return{};var n=PBe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function PBe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function rO(e){return IBe(e)||ABe(e)||MBe(e)||OBe()}function OBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MBe(e,t){if(e){if(typeof e=="string")return zA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zA(e,t)}}function ABe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IBe(e){if(Array.isArray(e))return zA(e)}function zA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function EF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EF(Object(n),!0).forEach(function(r){Kv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kv(e,t,n){return t=XY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XY(r.key),r)}}function RBe(e,t,n){return t&&PF(e.prototype,t),n&&PF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function XY(e){var t=DBe(e,"string");return og(t)==="symbol"?t:String(t)}function DBe(e,t){if(og(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(og(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BA(e,t)}function BA(e,t){return BA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BA(e,t)}function LBe(e){var t=NBe();return function(){var r=DS(e),i;if(t){var o=DS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return FA(this,i)}}function FA(e,t){if(t&&(og(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UA(e)}function UA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NBe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function DS(e){return DS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},DS(e)}var yu=function(e){jBe(n,e);var t=LBe(n);function n(r,i){var o;$Be(this,n),o=t.call(this,r,i);var s=o.props,a=s.isActive,f=s.attributeName,h=s.from,g=s.to,y=s.steps,b=s.children,E=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(UA(o)),o.changeStyle=o.changeStyle.bind(UA(o)),!a||E<=0)return o.state={style:{}},typeof b=="function"&&(o.state={style:g}),FA(o);if(y&&y.length)o.state={style:y[0].style};else if(h){if(typeof b=="function")return o.state={style:h},FA(o);o.state={style:f?Kv({},f,h):h}}else o.state={style:{}};return o}return RBe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,f=o.attributeName,h=o.shouldReAnimate,g=o.to,y=o.from,b=this.state.style;if(a){if(!s){var E={style:f?Kv({},f,g):g};this.state&&b&&(f&&b[f]!==g||!f&&b!==g)&&this.setState(E);return}if(!(F5e(i.to,g)&&i.canBegin&&i.isActive)){var T=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=T||h?y:i.to;if(this.state&&b){var M={style:f?Kv({},f,w):w};(f&&[f]!==w||!f&&b!==w)&&this.setState(M)}this.runAnimation(pl(pl({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,f=i.duration,h=i.easing,g=i.begin,y=i.onAnimationEnd,b=i.onAnimationStart,E=kBe(s,a,pBe(h),f,this.changeStyle),T=function(){o.stopJSAnimation=E()};this.manager.start([b,g,T,f,y])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,f=i.onAnimationStart,h=s[0],g=h.style,y=h.duration,b=y===void 0?0:y,E=function(w,M,A){if(A===0)return w;var O=M.duration,I=M.easing,L=I===void 0?"ease":I,R=M.style,D=M.properties,F=M.onAnimationEnd,q=A>0?s[A-1]:M,J=D||Object.keys(R);if(typeof L=="function"||L==="spring")return[].concat(rO(w),[o.runJSAnimation.bind(o,{from:q.style,to:R,duration:O,easing:L}),O]);var K=wF(J,O,L),ne=pl(pl(pl({},q.style),R),{},{transition:K});return[].concat(rO(w),[ne,O,F]).filter(tBe)};return this.manager.start([f].concat(rO(s.reduce(E,[g,Math.max(b,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Y5e());var o=i.begin,s=i.duration,a=i.attributeName,f=i.to,h=i.easing,g=i.onAnimationStart,y=i.onAnimationEnd,b=i.steps,E=i.children,T=this.manager;if(this.unSubscribe=T.subscribe(this.handleStyleChange),typeof h=="function"||typeof E=="function"||h==="spring"){this.runJSAnimation(i);return}if(b.length>1){this.runStepAnimation(i);return}var w=a?Kv({},a,f):f,M=wF(Object.keys(w),s,h);T.start([g,o,pl(pl({},w),{},{transition:M}),s,y])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var f=EBe(i,TBe),h=U.Children.count(o),g=Aj(this.state.style);if(typeof o=="function")return o(g);if(!a||h===0||s<=0)return o;var y=function(E){var T=E.props,w=T.style,M=w===void 0?{}:w,A=T.className,O=U.cloneElement(E,pl(pl({},f),{},{style:pl(pl({},M),g),className:A}));return O};return h===1?y(U.Children.only(o)):Pe.createElement("div",null,U.Children.map(o,function(b){return y(b)}))}}]),n}(U.PureComponent);yu.displayName="Animate";yu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};yu.propTypes={from:$n.oneOfType([$n.object,$n.string]),to:$n.oneOfType([$n.object,$n.string]),attributeName:$n.string,duration:$n.number,begin:$n.number,easing:$n.oneOfType([$n.string,$n.func]),steps:$n.arrayOf($n.shape({duration:$n.number.isRequired,style:$n.object.isRequired,easing:$n.oneOfType([$n.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),$n.func]),properties:$n.arrayOf("string"),onAnimationEnd:$n.func})),children:$n.oneOfType([$n.node,$n.func]),isActive:$n.bool,canBegin:$n.bool,onAnimationEnd:$n.func,shouldReAnimate:$n.bool,onAnimationStart:$n.func,onAnimationReStart:$n.func};Number.isFinite===void 0&&(Number.isFinite=function(e){return typeof e=="number"&&isFinite(e)});$n.object,$n.object,$n.object,$n.element;$n.object,$n.object,$n.object,$n.oneOfType([$n.array,$n.element]),$n.any;function fb(e){"@babel/helpers - typeof";return fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fb(e)}function A1(e,t,n){return t=zBe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zBe(e){var t=BBe(e,"string");return fb(t)==="symbol"?t:String(t)}function BBe(e,t){if(fb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Av="recharts-tooltip-wrapper",FBe={visibility:"hidden"};function UBe(e){var t,n=e.coordinate,r=e.translateX,i=e.translateY;return st(Av,(t={},A1(t,"".concat(Av,"-right"),It(r)&&n&&It(n.x)&&r>=n.x),A1(t,"".concat(Av,"-left"),It(r)&&n&&It(n.x)&&r<n.x),A1(t,"".concat(Av,"-bottom"),It(i)&&n&&It(n.y)&&i>=n.y),A1(t,"".concat(Av,"-top"),It(i)&&n&&It(n.y)&&i<n.y),t))}function OF(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,s=e.reverseDirection,a=e.tooltipDimension,f=e.viewBox,h=e.viewBoxDimension;if(o&&It(o[r]))return o[r];var g=n[r]-a-i,y=n[r]+i;if(t[r])return s[r]?g:y;if(s[r]){var b=g,E=f[r];return b<E?Math.max(y,f[r]):Math.max(g,f[r])}var T=y+a,w=f[r]+h;return T>w?Math.max(g,f[r]):Math.max(y,f[r])}function VBe(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return Aj({transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")})}function WBe(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipBox,a=e.useTranslate3d,f=e.viewBox,h,g,y;return s.height>0&&s.width>0&&n?(g=OF({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:f,viewBoxDimension:f.width}),y=OF({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:f,viewBoxDimension:f.height}),h=VBe({translateX:g,translateY:y,useTranslate3d:a})):h=FBe,{cssProperties:h,cssClasses:UBe({translateX:g,translateY:y,coordinate:n})}}function ag(e){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(e)}function MF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MF(Object(n),!0).forEach(function(r){fw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JY(r.key),r)}}function HBe(e,t,n){return t&&AF(e.prototype,t),n&&AF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function GBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VA(e,t)}function VA(e,t){return VA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VA(e,t)}function YBe(e){var t=ZBe();return function(){var r=jS(e),i;if(t){var o=jS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return KBe(this,i)}}function KBe(e,t){if(t&&(ag(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dw(e)}function dw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZBe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jS(e){return jS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jS(e)}function fw(e,t,n){return t=JY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JY(e){var t=XBe(e,"string");return ag(t)==="symbol"?t:String(t)}function XBe(e,t){if(ag(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ag(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IF=1,JBe=function(e){GBe(n,e);var t=YBe(n);function n(){var r;qBe(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),fw(dw(r),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),fw(dw(r),"lastBoundingBox",{width:-1,height:-1}),fw(dw(r),"handleKeyDown",function(a){if(a.key==="Escape"){var f,h,g,y;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(f=(h=r.props.coordinate)===null||h===void 0?void 0:h.x)!==null&&f!==void 0?f:0,y:(g=(y=r.props.coordinate)===null||y===void 0?void 0:y.y)!==null&&g!==void 0?g:0}})}}),r}return HBe(n,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();(Math.abs(i.width-this.lastBoundingBox.width)>IF||Math.abs(i.height-this.lastBoundingBox.height)>IF)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height)}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1)}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var i,o;this.props.active&&this.updateBBox(),this.state.dismissed&&(((i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==this.state.dismissedAtCoordinate.x||((o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var i=this,o=this.props,s=o.active,a=o.allowEscapeViewBox,f=o.animationDuration,h=o.animationEasing,g=o.children,y=o.coordinate,b=o.hasPayload,E=o.isAnimationActive,T=o.offset,w=o.position,M=o.reverseDirection,A=o.useTranslate3d,O=o.viewBox,I=o.wrapperStyle,L=WBe({allowEscapeViewBox:a,coordinate:y,offsetTopLeft:T,position:w,reverseDirection:M,tooltipBox:{height:this.lastBoundingBox.height,width:this.lastBoundingBox.width},useTranslate3d:A,viewBox:O}),R=L.cssClasses,D=L.cssProperties,F=iO(iO(iO({},E&&s&&Aj({transition:"transform ".concat(f,"ms ").concat(h)})),D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&b?"visible":"hidden",position:"absolute",top:0,left:0},I);return Pe.createElement("div",{tabIndex:-1,role:"dialog",className:R,style:F,ref:function(J){i.wrapperNode=J}},g)}}]),n}(U.PureComponent),QBe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ou={isSsr:QBe(),get:function(t){return ou[t]},set:function(t,n){if(typeof t=="string")ou[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(i){ou[i]=t[i]})}}};function sg(e){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sg(e)}function $F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$F(Object(n),!0).forEach(function(r){Ij(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$F(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QY(r.key),r)}}function t4e(e,t,n){return t&&DF(e.prototype,t),n&&DF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function n4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WA(e,t)}function WA(e,t){return WA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WA(e,t)}function r4e(e){var t=a4e();return function(){var r=LS(e),i;if(t){var o=LS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return i4e(this,i)}}function i4e(e,t){if(t&&(sg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o4e(e)}function o4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a4e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function LS(e){return LS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},LS(e)}function Ij(e,t,n){return t=QY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QY(e){var t=s4e(e,"string");return sg(t)==="symbol"?t:String(t)}function s4e(e,t){if(sg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l4e(e){return e.dataKey}function c4e(e,t){return Pe.isValidElement(e)?Pe.cloneElement(e,t):typeof e=="function"?Pe.createElement(e,t):Pe.createElement(g5e,t)}var Zf=function(e){n4e(n,e);var t=r4e(n);function n(){return e4e(this,n),t.apply(this,arguments)}return t4e(n,[{key:"render",value:function(){var i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,f=i.animationEasing,h=i.content,g=i.coordinate,y=i.filterNull,b=i.isAnimationActive,E=i.offset,T=i.payload,w=i.payloadUniqBy,M=i.position,A=i.reverseDirection,O=i.useTranslate3d,I=i.viewBox,L=i.wrapperStyle,R=T??[];y&&R.length&&(R=LY(T.filter(function(F){return F.value!=null}),w,l4e));var D=R.length>0;return Pe.createElement(JBe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:f,isAnimationActive:b,active:o,coordinate:g,hasPayload:D,offset:E,position:M,reverseDirection:A,useTranslate3d:O,viewBox:I,wrapperStyle:L},c4e(h,RF(RF({},this.props),{},{payload:R})))}}]),n}(U.PureComponent);Ij(Zf,"displayName","Tooltip");Ij(Zf,"defaultProps",{allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ou.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var u4e=xc,d4e=function(){return u4e.Date.now()},f4e=d4e,h4e=/\s/;function p4e(e){for(var t=e.length;t--&&h4e.test(e.charAt(t)););return t}var m4e=p4e,g4e=m4e,y4e=/^\s+/;function v4e(e){return e&&e.slice(0,g4e(e)+1).replace(y4e,"")}var b4e=v4e,x4e=b4e,jF=Qd,_4e=Lg,LF=NaN,w4e=/^[-+]0x[0-9a-f]+$/i,S4e=/^0b[01]+$/i,C4e=/^0o[0-7]+$/i,k4e=parseInt;function T4e(e){if(typeof e=="number")return e;if(_4e(e))return LF;if(jF(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=jF(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=x4e(e);var n=S4e.test(e);return n||C4e.test(e)?k4e(e.slice(2),n?2:8):w4e.test(e)?LF:+e}var eK=T4e,E4e=Qd,oO=f4e,NF=eK,P4e="Expected a function",O4e=Math.max,M4e=Math.min;function A4e(e,t,n){var r,i,o,s,a,f,h=0,g=!1,y=!1,b=!0;if(typeof e!="function")throw new TypeError(P4e);t=NF(t)||0,E4e(n)&&(g=!!n.leading,y="maxWait"in n,o=y?O4e(NF(n.maxWait)||0,t):o,b="trailing"in n?!!n.trailing:b);function E(D){var F=r,q=i;return r=i=void 0,h=D,s=e.apply(q,F),s}function T(D){return h=D,a=setTimeout(A,t),g?E(D):s}function w(D){var F=D-f,q=D-h,J=t-F;return y?M4e(J,o-q):J}function M(D){var F=D-f,q=D-h;return f===void 0||F>=t||F<0||y&&q>=o}function A(){var D=oO();if(M(D))return O(D);a=setTimeout(A,w(D))}function O(D){return a=void 0,b&&r?E(D):(r=i=void 0,s)}function I(){a!==void 0&&clearTimeout(a),h=0,r=f=i=a=void 0}function L(){return a===void 0?s:O(oO())}function R(){var D=oO(),F=M(D);if(r=arguments,i=this,f=D,F){if(a===void 0)return T(f);if(y)return clearTimeout(a),a=setTimeout(A,t),E(f)}return a===void 0&&(a=setTimeout(A,t)),s}return R.cancel=I,R.flush=L,R}var I4e=A4e,$4e=I4e,R4e=Qd,D4e="Expected a function";function j4e(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(D4e);return R4e(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),$4e(e,t,{leading:r,maxWait:t,trailing:i})}var L4e=j4e;const tK=gr(L4e);function hb(e){"@babel/helpers - typeof";return hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hb(e)}function zF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function I1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zF(Object(n),!0).forEach(function(r){N4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N4e(e,t,n){return t=z4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z4e(e){var t=B4e(e,"string");return hb(t)==="symbol"?t:String(t)}function B4e(e,t){if(hb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F4e(e,t){return q4e(e)||W4e(e,t)||V4e(e,t)||U4e()}function U4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V4e(e,t){if(e){if(typeof e=="string")return BF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BF(e,t)}}function BF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W4e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function q4e(e){if(Array.isArray(e))return e}var H4e=U.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=e.width,s=o===void 0?"100%":o,a=e.height,f=a===void 0?"100%":a,h=e.minWidth,g=h===void 0?0:h,y=e.minHeight,b=e.maxHeight,E=e.children,T=e.debounce,w=T===void 0?0:T,M=e.id,A=e.className,O=e.onResize,I=e.style,L=I===void 0?{}:I,R=U.useRef(null),D=U.useRef();D.current=O,U.useImperativeHandle(t,function(){return R});var F=U.useState({containerWidth:i.width,containerHeight:i.height}),q=F4e(F,2),J=q[0],K=q[1],ne=U.useCallback(function(ye,de){K(function(se){var pe=Math.round(ye),be=Math.round(de);return se.containerWidth===pe&&se.containerHeight===be?se:{containerWidth:pe,containerHeight:be}})},[]);U.useEffect(function(){var ye=function(Ee){var Re,Xe=Ee[0].contentRect,Ae=Xe.width,Fe=Xe.height;ne(Ae,Fe),(Re=D.current)===null||Re===void 0||Re.call(D,Ae,Fe)};w>0&&(ye=tK(ye,w,{trailing:!0,leading:!1}));var de=new ResizeObserver(ye),se=R.current.getBoundingClientRect(),pe=se.width,be=se.height;return ne(pe,be),de.observe(R.current),function(){de.disconnect()}},[ne,w]);var le=U.useMemo(function(){var ye=J.containerWidth,de=J.containerHeight;if(ye<0||de<0)return null;ah(Kf(s)||Kf(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,f),ah(!n||n>0,"The aspect(%s) must be greater than zero.",n);var se=Kf(s)?ye:s,pe=Kf(f)?de:f;n&&n>0&&(se?pe=se/n:pe&&(se=pe*n),b&&pe>b&&(pe=b)),ah(se>0||pe>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,se,pe,s,f,g,y,n);var be=!Array.isArray(E)&&hA.isElement(E)&&iu(E.type).endsWith("Chart");return Pe.Children.map(E,function(ce){return hA.isElement(ce)?U.cloneElement(ce,I1({width:se,height:pe},be?{style:I1({height:"100%",width:"100%",maxHeight:pe,maxWidth:se},ce.props.style)}:{})):ce})},[n,E,f,b,y,g,J,s]);return Pe.createElement("div",{id:M?"".concat(M):void 0,className:st("recharts-responsive-container",A),style:I1(I1({},L),{},{width:s,height:f,minWidth:g,minHeight:y,maxHeight:b}),ref:R},le)}),nK=function(t){return null};nK.displayName="Cell";function pb(e){"@babel/helpers - typeof";return pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pb(e)}function FF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FF(Object(n),!0).forEach(function(r){G4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G4e(e,t,n){return t=Y4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y4e(e){var t=K4e(e,"string");return pb(t)==="symbol"?t:String(t)}function K4e(e,t){if(pb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $p={widthCache:{},cacheCount:0},Z4e=2e3,X4e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},UF="recharts_measurement_span";function J4e(e){var t=qA({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var b0=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ou.isSsr)return{width:0,height:0};var r=J4e(n),i=JSON.stringify({text:t,copyStyle:r});if($p.widthCache[i])return $p.widthCache[i];try{var o=document.getElementById(UF);o||(o=document.createElement("span"),o.setAttribute("id",UF),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=qA(qA({},X4e),r);Object.assign(o.style,s),o.textContent="".concat(t);var a=o.getBoundingClientRect(),f={width:a.width,height:a.height};return $p.widthCache[i]=f,++$p.cacheCount>Z4e&&($p.cacheCount=0,$p.widthCache={}),f}catch{return{width:0,height:0}}},Q4e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function mb(e){"@babel/helpers - typeof";return mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mb(e)}function NS(e,t){return rFe(e)||nFe(e,t)||tFe(e,t)||eFe()}function eFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tFe(e,t){if(e){if(typeof e=="string")return VF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VF(e,t)}}function VF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nFe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function rFe(e){if(Array.isArray(e))return e}function iFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aFe(r.key),r)}}function oFe(e,t,n){return t&&WF(e.prototype,t),n&&WF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function aFe(e){var t=sFe(e,"string");return mb(t)==="symbol"?t:String(t)}function sFe(e,t){if(mb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lFe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,cFe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,rK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},uFe=Object.keys(rK),sm="NaN";function dFe(e,t){return e*rK[t]}var $1=function(){function e(t,n){iFe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!lFe.test(n)&&(this.num=NaN,this.unit=""),uFe.includes(n)&&(this.num=dFe(t,n),this.unit="px")}return oFe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=cFe.exec(n))!==null&&r!==void 0?r:[],o=NS(i,3),s=o[1],a=o[2];return new e(parseFloat(s),a??"")}}]),e}();function iK(e){if(e.includes(sm))return sm;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=qF.exec(t))!==null&&n!==void 0?n:[],i=NS(r,4),o=i[1],s=i[2],a=i[3],f=$1.parse(o??""),h=$1.parse(a??""),g=s==="*"?f.multiply(h):f.divide(h);if(g.isNaN())return sm;t=t.replace(qF,g.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var y,b=(y=HF.exec(t))!==null&&y!==void 0?y:[],E=NS(b,4),T=E[1],w=E[2],M=E[3],A=$1.parse(T??""),O=$1.parse(M??""),I=w==="+"?A.add(O):A.subtract(O);if(I.isNaN())return sm;t=t.replace(HF,I.toString())}return t}var GF=/\(([^()]*)\)/;function fFe(e){for(var t=e;t.includes("(");){var n=GF.exec(t),r=NS(n,2),i=r[1];t=t.replace(GF,iK(i))}return t}function hFe(e){var t=e.replace(/\s+/g,"");return t=fFe(t),t=iK(t),t}function pFe(e){try{return hFe(e)}catch{return sm}}function aO(e){var t=pFe(e.slice(5,-1));return t===sm?"":t}var mFe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],gFe=["dx","dy","angle","className","breakAll"];function HA(){return HA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HA.apply(this,arguments)}function YF(e,t){if(e==null)return{};var n=yFe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yFe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function KF(e,t){return _Fe(e)||xFe(e,t)||bFe(e,t)||vFe()}function vFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bFe(e,t){if(e){if(typeof e=="string")return ZF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZF(e,t)}}function ZF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xFe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function _Fe(e){if(Array.isArray(e))return e}var oK=/[ \f\n\r\t\v\u2028\u2029]+/,aK=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var o=[];Xn(n)||(r?o=n.toString().split(""):o=n.toString().split(oK));var s=o.map(function(f){return{word:f,width:b0(f,i).width}}),a=r?0:b0("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},wFe=function(t,n,r,i,o){var s=t.maxLines,a=t.children,f=t.style,h=t.breakAll,g=It(s),y=a,b=function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return se.reduce(function(pe,be){var ce=be.word,Ee=be.width,Re=pe[pe.length-1];if(Re&&(i==null||o||Re.width+Ee+r<Number(i)))Re.words.push(ce),Re.width+=Ee+r;else{var Xe={words:[ce],width:Ee};pe.push(Xe)}return pe},[])},E=b(n),T=function(se){return se.reduce(function(pe,be){return pe.width>be.width?pe:be})};if(!g)return E;for(var w="",M=function(se){var pe=y.slice(0,se),be=aK({breakAll:h,style:f,children:pe+w}).wordsWithComputedWidth,ce=b(be),Ee=ce.length>s||T(ce).width>Number(i);return[Ee,ce]},A=0,O=y.length-1,I=0,L;A<=O&&I<=y.length-1;){var R=Math.floor((A+O)/2),D=R-1,F=M(D),q=KF(F,2),J=q[0],K=q[1],ne=M(R),le=KF(ne,1),ye=le[0];if(!J&&!ye&&(A=R+1),J&&ye&&(O=R-1),!J&&ye){L=K;break}I++}return L||E},XF=function(t){var n=Xn(t)?[]:t.toString().split(oK);return[{words:n}]},SFe=function(t){var n=t.width,r=t.scaleToFit,i=t.children,o=t.style,s=t.breakAll,a=t.maxLines;if((n||r)&&!ou.isSsr){var f,h,g=aK({breakAll:s,children:i,style:o});if(g){var y=g.wordsWithComputedWidth,b=g.spaceWidth;f=y,h=b}else return XF(i);return wFe({breakAll:s,children:i,maxLines:a,style:o},f,h,n,r)}return XF(i)},JF="#808080",zS=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,s=t.lineHeight,a=s===void 0?"1em":s,f=t.capHeight,h=f===void 0?"0.71em":f,g=t.scaleToFit,y=g===void 0?!1:g,b=t.textAnchor,E=b===void 0?"start":b,T=t.verticalAnchor,w=T===void 0?"end":T,M=t.fill,A=M===void 0?JF:M,O=YF(t,mFe),I=U.useMemo(function(){return SFe({breakAll:O.breakAll,children:O.children,maxLines:O.maxLines,scaleToFit:y,style:O.style,width:O.width})},[O.breakAll,O.children,O.maxLines,y,O.style,O.width]),L=O.dx,R=O.dy,D=O.angle,F=O.className,q=O.breakAll,J=YF(O,gFe);if(!Ki(r)||!Ki(o))return null;var K=r+(It(L)?L:0),ne=o+(It(R)?R:0),le;switch(w){case"start":le=aO("calc(".concat(h,")"));break;case"middle":le=aO("calc(".concat((I.length-1)/2," * -").concat(a," + (").concat(h," / 2))"));break;default:le=aO("calc(".concat(I.length-1," * -").concat(a,")"));break}var ye=[];if(y){var de=I[0].width,se=O.width;ye.push("scale(".concat((It(se)?se/de:1)/de,")"))}return D&&ye.push("rotate(".concat(D,", ").concat(K,", ").concat(ne,")")),ye.length&&(J.transform=ye.join(" ")),Pe.createElement("text",HA({},Yn(J,!0),{x:K,y:ne,className:st("recharts-text",F),textAnchor:E,fill:A.includes("url")?JF:A}),I.map(function(pe,be){var ce=pe.words.join(q?"":" ");return Pe.createElement("tspan",{x:K,dy:be===0?le:a,key:ce},ce)}))};function Ld(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function CFe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sK(e){let t,n,r;e.length!==2?(t=Ld,n=(a,f)=>Ld(e(a),f),r=(a,f)=>e(a)-f):(t=e===Ld||e===CFe?e:kFe,n=e,r=e);function i(a,f,h=0,g=a.length){if(h<g){if(t(f,f)!==0)return g;do{const y=h+g>>>1;n(a[y],f)<0?h=y+1:g=y}while(h<g)}return h}function o(a,f,h=0,g=a.length){if(h<g){if(t(f,f)!==0)return g;do{const y=h+g>>>1;n(a[y],f)<=0?h=y+1:g=y}while(h<g)}return h}function s(a,f,h=0,g=a.length){const y=i(a,f,h,g-1);return y>h&&r(a[y-1],f)>-r(a[y],f)?y-1:y}return{left:i,center:s,right:o}}function kFe(){return 0}function lK(e){return e===null?NaN:+e}function*TFe(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const EFe=sK(Ld),PFe=EFe.right;sK(lK).center;const kx=PFe;class QF extends Map{constructor(t,n=AFe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(e6(this,t))}has(t){return super.has(e6(this,t))}set(t,n){return super.set(OFe(this,t),n)}delete(t){return super.delete(MFe(this,t))}}function e6({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function OFe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function MFe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function AFe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function IFe(e=Ld){if(e===Ld)return cK;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function cK(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const $Fe=Math.sqrt(50),RFe=Math.sqrt(10),DFe=Math.sqrt(2);function BS(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=$Fe?10:o>=RFe?5:o>=DFe?2:1;let a,f,h;return i<0?(h=Math.pow(10,-i)/s,a=Math.round(e*h),f=Math.round(t*h),a/h<e&&++a,f/h>t&&--f,h=-h):(h=Math.pow(10,i)*s,a=Math.round(e/h),f=Math.round(t/h),a*h<e&&++a,f*h>t&&--f),f<a&&.5<=n&&n<2?BS(e,t,n*2):[a,f,h]}function GA(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?BS(t,e,n):BS(e,t,n);if(!(o>=i))return[];const a=o-i+1,f=new Array(a);if(r)if(s<0)for(let h=0;h<a;++h)f[h]=(o-h)/-s;else for(let h=0;h<a;++h)f[h]=(o-h)*s;else if(s<0)for(let h=0;h<a;++h)f[h]=(i+h)/-s;else for(let h=0;h<a;++h)f[h]=(i+h)*s;return f}function YA(e,t,n){return t=+t,e=+e,n=+n,BS(e,t,n)[2]}function jFe(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?YA(t,e,n):YA(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function t6(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function n6(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function uK(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?cK:IFe(i);r>n;){if(r-n>600){const f=r-n+1,h=t-n+1,g=Math.log(f),y=.5*Math.exp(2*g/3),b=.5*Math.sqrt(g*y*(f-y)/f)*(h-f/2<0?-1:1),E=Math.max(n,Math.floor(t-h*y/f+b)),T=Math.min(r,Math.floor(t+(f-h)*y/f+b));uK(e,t,E,T,i)}const o=e[t];let s=n,a=r;for(Iv(e,n,t),i(e[r],o)>0&&Iv(e,n,r);s<a;){for(Iv(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?Iv(e,n,a):(++a,Iv(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function Iv(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function LFe(e,t,n){if(e=Float64Array.from(TFe(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return n6(e);if(t>=1)return t6(e);var r,i=(r-1)*t,o=Math.floor(i),s=t6(uK(e,o).subarray(0,o+1)),a=n6(e.subarray(o+1));return s+(a-s)*(i-o)}}function NFe(e,t,n=lK){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function zFe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function nl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Au(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const KA=Symbol("implicit");function $j(){var e=new QF,t=[],n=[],r=KA;function i(o){let s=e.get(o);if(s===void 0){if(r!==KA)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new QF;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return $j(t,n).unknown(r)},nl.apply(i,arguments),i}function gb(){var e=$j().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,a=!1,f=0,h=0,g=.5;delete e.unknown;function y(){var b=t().length,E=i<r,T=E?i:r,w=E?r:i;o=(w-T)/Math.max(1,b-f+h*2),a&&(o=Math.floor(o)),T+=(w-T-o*(b-f))*g,s=o*(1-f),a&&(T=Math.round(T),s=Math.round(s));var M=zFe(b).map(function(A){return T+o*A});return n(E?M.reverse():M)}return e.domain=function(b){return arguments.length?(t(b),y()):t()},e.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,y()):[r,i]},e.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,a=!0,y()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(b){return arguments.length?(a=!!b,y()):a},e.padding=function(b){return arguments.length?(f=Math.min(1,h=+b),y()):f},e.paddingInner=function(b){return arguments.length?(f=Math.min(1,b),y()):f},e.paddingOuter=function(b){return arguments.length?(h=+b,y()):h},e.align=function(b){return arguments.length?(g=Math.max(0,Math.min(1,b)),y()):g},e.copy=function(){return gb(t(),[r,i]).round(a).paddingInner(f).paddingOuter(h).align(g)},nl.apply(y(),arguments)}function dK(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return dK(t())},e}function x0(){return dK(gb.apply(null,arguments).paddingInner(1))}function Rj(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function fK(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Tx(){}var yb=.7,FS=1/yb,Pm="\\s*([+-]?\\d+)\\s*",vb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",uc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",BFe=/^#([0-9a-f]{3,8})$/,FFe=new RegExp(`^rgb\\(${Pm},${Pm},${Pm}\\)$`),UFe=new RegExp(`^rgb\\(${uc},${uc},${uc}\\)$`),VFe=new RegExp(`^rgba\\(${Pm},${Pm},${Pm},${vb}\\)$`),WFe=new RegExp(`^rgba\\(${uc},${uc},${uc},${vb}\\)$`),qFe=new RegExp(`^hsl\\(${vb},${uc},${uc}\\)$`),HFe=new RegExp(`^hsla\\(${vb},${uc},${uc},${vb}\\)$`),r6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Rj(Tx,bb,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:i6,formatHex:i6,formatHex8:GFe,formatHsl:YFe,formatRgb:o6,toString:o6});function i6(){return this.rgb().formatHex()}function GFe(){return this.rgb().formatHex8()}function YFe(){return hK(this).formatHsl()}function o6(){return this.rgb().formatRgb()}function bb(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=BFe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?a6(t):n===3?new Ia(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?R1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?R1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=FFe.exec(e))?new Ia(t[1],t[2],t[3],1):(t=UFe.exec(e))?new Ia(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=VFe.exec(e))?R1(t[1],t[2],t[3],t[4]):(t=WFe.exec(e))?R1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=qFe.exec(e))?c6(t[1],t[2]/100,t[3]/100,1):(t=HFe.exec(e))?c6(t[1],t[2]/100,t[3]/100,t[4]):r6.hasOwnProperty(e)?a6(r6[e]):e==="transparent"?new Ia(NaN,NaN,NaN,0):null}function a6(e){return new Ia(e>>16&255,e>>8&255,e&255,1)}function R1(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ia(e,t,n,r)}function KFe(e){return e instanceof Tx||(e=bb(e)),e?(e=e.rgb(),new Ia(e.r,e.g,e.b,e.opacity)):new Ia}function ZA(e,t,n,r){return arguments.length===1?KFe(e):new Ia(e,t,n,r??1)}function Ia(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Rj(Ia,ZA,fK(Tx,{brighter(e){return e=e==null?FS:Math.pow(FS,e),new Ia(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?yb:Math.pow(yb,e),new Ia(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ia(sh(this.r),sh(this.g),sh(this.b),US(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:s6,formatHex:s6,formatHex8:ZFe,formatRgb:l6,toString:l6}));function s6(){return`#${Xf(this.r)}${Xf(this.g)}${Xf(this.b)}`}function ZFe(){return`#${Xf(this.r)}${Xf(this.g)}${Xf(this.b)}${Xf((isNaN(this.opacity)?1:this.opacity)*255)}`}function l6(){const e=US(this.opacity);return`${e===1?"rgb(":"rgba("}${sh(this.r)}, ${sh(this.g)}, ${sh(this.b)}${e===1?")":`, ${e})`}`}function US(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function sh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xf(e){return e=sh(e),(e<16?"0":"")+e.toString(16)}function c6(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new El(e,t,n,r)}function hK(e){if(e instanceof El)return new El(e.h,e.s,e.l,e.opacity);if(e instanceof Tx||(e=bb(e)),!e)return new El;if(e instanceof El)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,f=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=f<.5?o+i:2-o-i,s*=60):a=f>0&&f<1?0:s,new El(s,a,f,e.opacity)}function XFe(e,t,n,r){return arguments.length===1?hK(e):new El(e,t,n,r??1)}function El(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Rj(El,XFe,fK(Tx,{brighter(e){return e=e==null?FS:Math.pow(FS,e),new El(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?yb:Math.pow(yb,e),new El(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ia(sO(e>=240?e-240:e+120,i,r),sO(e,i,r),sO(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new El(u6(this.h),D1(this.s),D1(this.l),US(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=US(this.opacity);return`${e===1?"hsl(":"hsla("}${u6(this.h)}, ${D1(this.s)*100}%, ${D1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function u6(e){return e=(e||0)%360,e<0?e+360:e}function D1(e){return Math.max(0,Math.min(1,e||0))}function sO(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Dj=e=>()=>e;function JFe(e,t){return function(n){return e+n*t}}function QFe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function e6e(e){return(e=+e)==1?pK:function(t,n){return n-t?QFe(t,n,e):Dj(isNaN(t)?n:t)}}function pK(e,t){var n=t-e;return n?JFe(e,n):Dj(isNaN(e)?t:e)}const d6=function e(t){var n=e6e(t);function r(i,o){var s=n((i=ZA(i)).r,(o=ZA(o)).r),a=n(i.g,o.g),f=n(i.b,o.b),h=pK(i.opacity,o.opacity);return function(g){return i.r=s(g),i.g=a(g),i.b=f(g),i.opacity=h(g),i+""}}return r.gamma=e,r}(1);function t6e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function n6e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function r6e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Hg(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function i6e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function VS(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function o6e(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Hg(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var XA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lO=new RegExp(XA.source,"g");function a6e(e){return function(){return e}}function s6e(e){return function(t){return e(t)+""}}function l6e(e,t){var n=XA.lastIndex=lO.lastIndex=0,r,i,o,s=-1,a=[],f=[];for(e=e+"",t=t+"";(r=XA.exec(e))&&(i=lO.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,f.push({i:s,x:VS(r,i)})),n=lO.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?f[0]?s6e(f[0].x):a6e(t):(t=f.length,function(h){for(var g=0,y;g<t;++g)a[(y=f[g]).i]=y.x(h);return a.join("")})}function Hg(e,t){var n=typeof t,r;return t==null||n==="boolean"?Dj(t):(n==="number"?VS:n==="string"?(r=bb(t))?(t=r,d6):l6e:t instanceof bb?d6:t instanceof Date?i6e:n6e(t)?t6e:Array.isArray(t)?r6e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?o6e:VS)(e,t)}function jj(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function c6e(e,t){t===void 0&&(t=e,e=Hg);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function u6e(e){return function(){return e}}function WS(e){return+e}var f6=[0,1];function ha(e){return e}function JA(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:u6e(isNaN(t)?NaN:.5)}function d6e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function f6e(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=JA(i,r),o=n(s,o)):(r=JA(r,i),o=n(o,s)),function(a){return o(r(a))}}function h6e(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=JA(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var f=kx(e,a,1,r)-1;return o[f](i[f](a))}}function Ex(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Dk(){var e=f6,t=f6,n=Hg,r,i,o,s=ha,a,f,h;function g(){var b=Math.min(e.length,t.length);return s!==ha&&(s=d6e(e[0],e[b-1])),a=b>2?h6e:f6e,f=h=null,y}function y(b){return b==null||isNaN(b=+b)?o:(f||(f=a(e.map(r),t,n)))(r(s(b)))}return y.invert=function(b){return s(i((h||(h=a(t,e.map(r),VS)))(b)))},y.domain=function(b){return arguments.length?(e=Array.from(b,WS),g()):e.slice()},y.range=function(b){return arguments.length?(t=Array.from(b),g()):t.slice()},y.rangeRound=function(b){return t=Array.from(b),n=jj,g()},y.clamp=function(b){return arguments.length?(s=b?!0:ha,g()):s!==ha},y.interpolate=function(b){return arguments.length?(n=b,g()):n},y.unknown=function(b){return arguments.length?(o=b,y):o},function(b,E){return r=b,i=E,g()}}function Lj(){return Dk()(ha,ha)}function p6e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function qS(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function lg(e){return e=qS(Math.abs(e)),e?e[1]:NaN}function m6e(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],f=0;i>0&&a>0&&(f+a+1>r&&(a=Math.max(1,r-f)),o.push(n.substring(i-=a,i+a)),!((f+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function g6e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var y6e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xb(e){if(!(t=y6e.exec(e)))throw new Error("invalid format: "+e);var t;return new Nj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}xb.prototype=Nj.prototype;function Nj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Nj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function v6e(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var mK;function b6e(e,t){var n=qS(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(mK=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+qS(e,Math.max(0,t+o-1))[0]}function h6(e,t){var n=qS(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const p6={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:p6e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>h6(e*100,t),r:h6,s:b6e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function m6(e){return e}var g6=Array.prototype.map,y6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function x6e(e){var t=e.grouping===void 0||e.thousands===void 0?m6:m6e(g6.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?m6:g6e(g6.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function h(y){y=xb(y);var b=y.fill,E=y.align,T=y.sign,w=y.symbol,M=y.zero,A=y.width,O=y.comma,I=y.precision,L=y.trim,R=y.type;R==="n"?(O=!0,R="g"):p6[R]||(I===void 0&&(I=12),L=!0,R="g"),(M||b==="0"&&E==="=")&&(M=!0,b="0",E="=");var D=w==="$"?n:w==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",F=w==="$"?r:/[%p]/.test(R)?s:"",q=p6[R],J=/[defgprs%]/.test(R);I=I===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function K(ne){var le=D,ye=F,de,se,pe;if(R==="c")ye=q(ne)+ye,ne="";else{ne=+ne;var be=ne<0||1/ne<0;if(ne=isNaN(ne)?f:q(Math.abs(ne),I),L&&(ne=v6e(ne)),be&&+ne==0&&T!=="+"&&(be=!1),le=(be?T==="("?T:a:T==="-"||T==="("?"":T)+le,ye=(R==="s"?y6[8+mK/3]:"")+ye+(be&&T==="("?")":""),J){for(de=-1,se=ne.length;++de<se;)if(pe=ne.charCodeAt(de),48>pe||pe>57){ye=(pe===46?i+ne.slice(de+1):ne.slice(de))+ye,ne=ne.slice(0,de);break}}}O&&!M&&(ne=t(ne,1/0));var ce=le.length+ne.length+ye.length,Ee=ce<A?new Array(A-ce+1).join(b):"";switch(O&&M&&(ne=t(Ee+ne,Ee.length?A-ye.length:1/0),Ee=""),E){case"<":ne=le+ne+ye+Ee;break;case"=":ne=le+Ee+ne+ye;break;case"^":ne=Ee.slice(0,ce=Ee.length>>1)+le+ne+ye+Ee.slice(ce);break;default:ne=Ee+le+ne+ye;break}return o(ne)}return K.toString=function(){return y+""},K}function g(y,b){var E=h((y=xb(y),y.type="f",y)),T=Math.max(-8,Math.min(8,Math.floor(lg(b)/3)))*3,w=Math.pow(10,-T),M=y6[8+T/3];return function(A){return E(w*A)+M}}return{format:h,formatPrefix:g}}var j1,zj,gK;_6e({thousands:",",grouping:[3],currency:["$",""]});function _6e(e){return j1=x6e(e),zj=j1.format,gK=j1.formatPrefix,j1}function w6e(e){return Math.max(0,-lg(Math.abs(e)))}function S6e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lg(t)/3)))*3-lg(Math.abs(e)))}function C6e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,lg(t)-lg(e))+1}function yK(e,t,n,r){var i=jFe(e,t,n),o;switch(r=xb(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=S6e(i,s))&&(r.precision=o),gK(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=C6e(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=w6e(i))&&(r.precision=o-(r.type==="%")*2);break}}return zj(r)}function nf(e){var t=e.domain;return e.ticks=function(n){var r=t();return GA(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return yK(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],f,h,g=10;for(a<s&&(h=s,s=a,a=h,h=i,i=o,o=h);g-- >0;){if(h=YA(s,a,n),h===f)return r[i]=s,r[o]=a,t(r);if(h>0)s=Math.floor(s/h)*h,a=Math.ceil(a/h)*h;else if(h<0)s=Math.ceil(s*h)/h,a=Math.floor(a*h)/h;else break;f=h}return e},e}function HS(){var e=Lj();return e.copy=function(){return Ex(e,HS())},nl.apply(e,arguments),nf(e)}function vK(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,WS),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return vK(e).unknown(t)},e=arguments.length?Array.from(e,WS):[0,1],nf(n)}function bK(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function v6(e){return Math.log(e)}function b6(e){return Math.exp(e)}function k6e(e){return-Math.log(-e)}function T6e(e){return-Math.exp(-e)}function E6e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function P6e(e){return e===10?E6e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function O6e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function x6(e){return(t,n)=>-e(-t,n)}function Bj(e){const t=e(v6,b6),n=t.domain;let r=10,i,o;function s(){return i=O6e(r),o=P6e(r),n()[0]<0?(i=x6(i),o=x6(o),e(k6e,T6e)):e(v6,b6),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{const f=n();let h=f[0],g=f[f.length-1];const y=g<h;y&&([h,g]=[g,h]);let b=i(h),E=i(g),T,w;const M=a==null?10:+a;let A=[];if(!(r%1)&&E-b<M){if(b=Math.floor(b),E=Math.ceil(E),h>0){for(;b<=E;++b)for(T=1;T<r;++T)if(w=b<0?T/o(-b):T*o(b),!(w<h)){if(w>g)break;A.push(w)}}else for(;b<=E;++b)for(T=r-1;T>=1;--T)if(w=b>0?T/o(-b):T*o(b),!(w<h)){if(w>g)break;A.push(w)}A.length*2<M&&(A=GA(h,g,M))}else A=GA(b,E,Math.min(E-b,M)).map(o);return y?A.reverse():A},t.tickFormat=(a,f)=>{if(a==null&&(a=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=xb(f)).precision==null&&(f.trim=!0),f=zj(f)),a===1/0)return f;const h=Math.max(1,r*a/t.ticks().length);return g=>{let y=g/o(Math.round(i(g)));return y*r<r-.5&&(y*=r),y<=h?f(g):""}},t.nice=()=>n(bK(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function xK(){const e=Bj(Dk()).domain([1,10]);return e.copy=()=>Ex(e,xK()).base(e.base()),nl.apply(e,arguments),e}function _6(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function w6(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Fj(e){var t=1,n=e(_6(t),w6(t));return n.constant=function(r){return arguments.length?e(_6(t=+r),w6(t)):t},nf(n)}function _K(){var e=Fj(Dk());return e.copy=function(){return Ex(e,_K()).constant(e.constant())},nl.apply(e,arguments)}function S6(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function M6e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function A6e(e){return e<0?-e*e:e*e}function Uj(e){var t=e(ha,ha),n=1;function r(){return n===1?e(ha,ha):n===.5?e(M6e,A6e):e(S6(n),S6(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},nf(t)}function Vj(){var e=Uj(Dk());return e.copy=function(){return Ex(e,Vj()).exponent(e.exponent())},nl.apply(e,arguments),e}function I6e(){return Vj.apply(null,arguments).exponent(.5)}function C6(e){return Math.sign(e)*e*e}function $6e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function wK(){var e=Lj(),t=[0,1],n=!1,r;function i(o){var s=$6e(e(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return e.invert(C6(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,WS)).map(C6)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return wK(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},nl.apply(i,arguments),nf(i)}function SK(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=NFe(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[kx(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ld),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return SK().domain(e).range(t).unknown(r)},nl.apply(o,arguments)}function CK(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(f){return f!=null&&f<=f?i[kx(r,f,0,n)]:o}function a(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return s}return s.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,a()):[e,t]},s.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,a()):i.slice()},s.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[e,r[0]]:h>=n?[r[n-1],t]:[r[h-1],r[h]]},s.unknown=function(f){return arguments.length&&(o=f),s},s.thresholds=function(){return r.slice()},s.copy=function(){return CK().domain([e,t]).range(i).unknown(o)},nl.apply(nf(s),arguments)}function kK(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[kx(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return kK().domain(e).range(t).unknown(n)},nl.apply(i,arguments)}const cO=new Date,uO=new Date;function Xi(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const f=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return f;let h;do f.push(h=new Date(+o)),t(o,a),e(o);while(h<o&&o<s);return f},i.filter=o=>Xi(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(cO.setTime(+o),uO.setTime(+s),e(cO),e(uO),Math.floor(n(cO,uO))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const GS=Xi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);GS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Xi(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):GS);GS.range;const eu=1e3,Ns=eu*60,tu=Ns*60,vu=tu*24,Wj=vu*7,k6=vu*30,dO=vu*365,Jf=Xi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*eu)},(e,t)=>(t-e)/eu,e=>e.getUTCSeconds());Jf.range;const qj=Xi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*eu)},(e,t)=>{e.setTime(+e+t*Ns)},(e,t)=>(t-e)/Ns,e=>e.getMinutes());qj.range;const Hj=Xi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ns)},(e,t)=>(t-e)/Ns,e=>e.getUTCMinutes());Hj.range;const Gj=Xi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*eu-e.getMinutes()*Ns)},(e,t)=>{e.setTime(+e+t*tu)},(e,t)=>(t-e)/tu,e=>e.getHours());Gj.range;const Yj=Xi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*tu)},(e,t)=>(t-e)/tu,e=>e.getUTCHours());Yj.range;const Px=Xi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ns)/vu,e=>e.getDate()-1);Px.range;const jk=Xi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vu,e=>e.getUTCDate()-1);jk.range;const TK=Xi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vu,e=>Math.floor(e/vu));TK.range;function Ah(e){return Xi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ns)/Wj)}const Lk=Ah(0),YS=Ah(1),R6e=Ah(2),D6e=Ah(3),cg=Ah(4),j6e=Ah(5),L6e=Ah(6);Lk.range;YS.range;R6e.range;D6e.range;cg.range;j6e.range;L6e.range;function Ih(e){return Xi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Wj)}const Nk=Ih(0),KS=Ih(1),N6e=Ih(2),z6e=Ih(3),ug=Ih(4),B6e=Ih(5),F6e=Ih(6);Nk.range;KS.range;N6e.range;z6e.range;ug.range;B6e.range;F6e.range;const Kj=Xi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Kj.range;const Zj=Xi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Zj.range;const bu=Xi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());bu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});bu.range;const xu=Xi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());xu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});xu.range;function fO(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function U6e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function V6e(e){let t,n,r;e.length!==2?(t=fO,n=(a,f)=>fO(e(a),f),r=(a,f)=>e(a)-f):(t=e===fO||e===U6e?e:W6e,n=e,r=e);function i(a,f,h=0,g=a.length){if(h<g){if(t(f,f)!==0)return g;do{const y=h+g>>>1;n(a[y],f)<0?h=y+1:g=y}while(h<g)}return h}function o(a,f,h=0,g=a.length){if(h<g){if(t(f,f)!==0)return g;do{const y=h+g>>>1;n(a[y],f)<=0?h=y+1:g=y}while(h<g)}return h}function s(a,f,h=0,g=a.length){const y=i(a,f,h,g-1);return y>h&&r(a[y-1],f)>-r(a[y],f)?y-1:y}return{left:i,center:s,right:o}}function W6e(){return 0}const q6e=Math.sqrt(50),H6e=Math.sqrt(10),G6e=Math.sqrt(2);function EK(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=q6e?10:o>=H6e?5:o>=G6e?2:1;let a,f,h;return i<0?(h=Math.pow(10,-i)/s,a=Math.round(e*h),f=Math.round(t*h),a/h<e&&++a,f/h>t&&--f,h=-h):(h=Math.pow(10,i)*s,a=Math.round(e/h),f=Math.round(t/h),a*h<e&&++a,f*h>t&&--f),f<a&&.5<=n&&n<2?EK(e,t,n*2):[a,f,h]}function T6(e,t,n){return t=+t,e=+e,n=+n,EK(e,t,n)[2]}function E6(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?T6(t,e,n):T6(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function PK(e,t,n,r,i,o){const s=[[Jf,1,eu],[Jf,5,5*eu],[Jf,15,15*eu],[Jf,30,30*eu],[o,1,Ns],[o,5,5*Ns],[o,15,15*Ns],[o,30,30*Ns],[i,1,tu],[i,3,3*tu],[i,6,6*tu],[i,12,12*tu],[r,1,vu],[r,2,2*vu],[n,1,Wj],[t,1,k6],[t,3,3*k6],[e,1,dO]];function a(h,g,y){const b=g<h;b&&([h,g]=[g,h]);const E=y&&typeof y.range=="function"?y:f(h,g,y),T=E?E.range(h,+g+1):[];return b?T.reverse():T}function f(h,g,y){const b=Math.abs(g-h)/y,E=V6e(([,,M])=>M).right(s,b);if(E===s.length)return e.every(E6(h/dO,g/dO,y));if(E===0)return GS.every(Math.max(E6(h,g,y),1));const[T,w]=s[b/s[E-1][2]<s[E][2]/b?E-1:E];return T.every(w)}return[a,f]}const[Y6e,K6e]=PK(xu,Zj,Nk,TK,Yj,Hj),[Z6e,X6e]=PK(bu,Kj,Lk,Px,Gj,qj);function hO(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function pO(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $v(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function J6e(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,f=e.shortMonths,h=Rv(i),g=Dv(i),y=Rv(o),b=Dv(o),E=Rv(s),T=Dv(s),w=Rv(a),M=Dv(a),A=Rv(f),O=Dv(f),I={a:be,A:ce,b:Ee,B:Re,c:null,d:$6,e:$6,f:_8e,g:A8e,G:$8e,H:v8e,I:b8e,j:x8e,L:OK,m:w8e,M:S8e,p:Xe,q:Ae,Q:j6,s:L6,S:C8e,u:k8e,U:T8e,V:E8e,w:P8e,W:O8e,x:null,X:null,y:M8e,Y:I8e,Z:R8e,"%":D6},L={a:Fe,A:qe,b:rt,B:Je,c:null,d:R6,e:R6,f:N8e,g:Y8e,G:Z8e,H:D8e,I:j8e,j:L8e,L:AK,m:z8e,M:B8e,p:kt,q:bt,Q:j6,s:L6,S:F8e,u:U8e,U:V8e,V:W8e,w:q8e,W:H8e,x:null,X:null,y:G8e,Y:K8e,Z:X8e,"%":D6},R={a:K,A:ne,b:le,B:ye,c:de,d:A6,e:A6,f:p8e,g:M6,G:O6,H:I6,I:I6,j:u8e,L:h8e,m:c8e,M:d8e,p:J,q:l8e,Q:g8e,s:y8e,S:f8e,u:r8e,U:i8e,V:o8e,w:n8e,W:a8e,x:se,X:pe,y:M6,Y:O6,Z:s8e,"%":m8e};I.x=D(n,I),I.X=D(r,I),I.c=D(t,I),L.x=D(n,L),L.X=D(r,L),L.c=D(t,L);function D(Ye,lt){return function(ct){var He=[],Tt=-1,Mt=0,qt=Ye.length,bn,yn,vn;for(ct instanceof Date||(ct=new Date(+ct));++Tt<qt;)Ye.charCodeAt(Tt)===37&&(He.push(Ye.slice(Mt,Tt)),(yn=P6[bn=Ye.charAt(++Tt)])!=null?bn=Ye.charAt(++Tt):yn=bn==="e"?" ":"0",(vn=lt[bn])&&(bn=vn(ct,yn)),He.push(bn),Mt=Tt+1);return He.push(Ye.slice(Mt,Tt)),He.join("")}}function F(Ye,lt){return function(ct){var He=$v(1900,void 0,1),Tt=q(He,Ye,ct+="",0),Mt,qt;if(Tt!=ct.length)return null;if("Q"in He)return new Date(He.Q);if("s"in He)return new Date(He.s*1e3+("L"in He?He.L:0));if(lt&&!("Z"in He)&&(He.Z=0),"p"in He&&(He.H=He.H%12+He.p*12),He.m===void 0&&(He.m="q"in He?He.q:0),"V"in He){if(He.V<1||He.V>53)return null;"w"in He||(He.w=1),"Z"in He?(Mt=pO($v(He.y,0,1)),qt=Mt.getUTCDay(),Mt=qt>4||qt===0?KS.ceil(Mt):KS(Mt),Mt=jk.offset(Mt,(He.V-1)*7),He.y=Mt.getUTCFullYear(),He.m=Mt.getUTCMonth(),He.d=Mt.getUTCDate()+(He.w+6)%7):(Mt=hO($v(He.y,0,1)),qt=Mt.getDay(),Mt=qt>4||qt===0?YS.ceil(Mt):YS(Mt),Mt=Px.offset(Mt,(He.V-1)*7),He.y=Mt.getFullYear(),He.m=Mt.getMonth(),He.d=Mt.getDate()+(He.w+6)%7)}else("W"in He||"U"in He)&&("w"in He||(He.w="u"in He?He.u%7:"W"in He?1:0),qt="Z"in He?pO($v(He.y,0,1)).getUTCDay():hO($v(He.y,0,1)).getDay(),He.m=0,He.d="W"in He?(He.w+6)%7+He.W*7-(qt+5)%7:He.w+He.U*7-(qt+6)%7);return"Z"in He?(He.H+=He.Z/100|0,He.M+=He.Z%100,pO(He)):hO(He)}}function q(Ye,lt,ct,He){for(var Tt=0,Mt=lt.length,qt=ct.length,bn,yn;Tt<Mt;){if(He>=qt)return-1;if(bn=lt.charCodeAt(Tt++),bn===37){if(bn=lt.charAt(Tt++),yn=R[bn in P6?lt.charAt(Tt++):bn],!yn||(He=yn(Ye,ct,He))<0)return-1}else if(bn!=ct.charCodeAt(He++))return-1}return He}function J(Ye,lt,ct){var He=h.exec(lt.slice(ct));return He?(Ye.p=g.get(He[0].toLowerCase()),ct+He[0].length):-1}function K(Ye,lt,ct){var He=E.exec(lt.slice(ct));return He?(Ye.w=T.get(He[0].toLowerCase()),ct+He[0].length):-1}function ne(Ye,lt,ct){var He=y.exec(lt.slice(ct));return He?(Ye.w=b.get(He[0].toLowerCase()),ct+He[0].length):-1}function le(Ye,lt,ct){var He=A.exec(lt.slice(ct));return He?(Ye.m=O.get(He[0].toLowerCase()),ct+He[0].length):-1}function ye(Ye,lt,ct){var He=w.exec(lt.slice(ct));return He?(Ye.m=M.get(He[0].toLowerCase()),ct+He[0].length):-1}function de(Ye,lt,ct){return q(Ye,t,lt,ct)}function se(Ye,lt,ct){return q(Ye,n,lt,ct)}function pe(Ye,lt,ct){return q(Ye,r,lt,ct)}function be(Ye){return s[Ye.getDay()]}function ce(Ye){return o[Ye.getDay()]}function Ee(Ye){return f[Ye.getMonth()]}function Re(Ye){return a[Ye.getMonth()]}function Xe(Ye){return i[+(Ye.getHours()>=12)]}function Ae(Ye){return 1+~~(Ye.getMonth()/3)}function Fe(Ye){return s[Ye.getUTCDay()]}function qe(Ye){return o[Ye.getUTCDay()]}function rt(Ye){return f[Ye.getUTCMonth()]}function Je(Ye){return a[Ye.getUTCMonth()]}function kt(Ye){return i[+(Ye.getUTCHours()>=12)]}function bt(Ye){return 1+~~(Ye.getUTCMonth()/3)}return{format:function(Ye){var lt=D(Ye+="",I);return lt.toString=function(){return Ye},lt},parse:function(Ye){var lt=F(Ye+="",!1);return lt.toString=function(){return Ye},lt},utcFormat:function(Ye){var lt=D(Ye+="",L);return lt.toString=function(){return Ye},lt},utcParse:function(Ye){var lt=F(Ye+="",!0);return lt.toString=function(){return Ye},lt}}}var P6={"-":"",_:" ",0:"0"},co=/^\s*\d+/,Q6e=/^%/,e8e=/[\\^$*+?|[\]().{}]/g;function lr(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function t8e(e){return e.replace(e8e,"\\$&")}function Rv(e){return new RegExp("^(?:"+e.map(t8e).join("|")+")","i")}function Dv(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function n8e(e,t,n){var r=co.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function r8e(e,t,n){var r=co.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function i8e(e,t,n){var r=co.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function o8e(e,t,n){var r=co.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function a8e(e,t,n){var r=co.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function O6(e,t,n){var r=co.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function M6(e,t,n){var r=co.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function s8e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function l8e(e,t,n){var r=co.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function c8e(e,t,n){var r=co.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function A6(e,t,n){var r=co.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function u8e(e,t,n){var r=co.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function I6(e,t,n){var r=co.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function d8e(e,t,n){var r=co.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function f8e(e,t,n){var r=co.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function h8e(e,t,n){var r=co.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function p8e(e,t,n){var r=co.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function m8e(e,t,n){var r=Q6e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function g8e(e,t,n){var r=co.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function y8e(e,t,n){var r=co.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function $6(e,t){return lr(e.getDate(),t,2)}function v8e(e,t){return lr(e.getHours(),t,2)}function b8e(e,t){return lr(e.getHours()%12||12,t,2)}function x8e(e,t){return lr(1+Px.count(bu(e),e),t,3)}function OK(e,t){return lr(e.getMilliseconds(),t,3)}function _8e(e,t){return OK(e,t)+"000"}function w8e(e,t){return lr(e.getMonth()+1,t,2)}function S8e(e,t){return lr(e.getMinutes(),t,2)}function C8e(e,t){return lr(e.getSeconds(),t,2)}function k8e(e){var t=e.getDay();return t===0?7:t}function T8e(e,t){return lr(Lk.count(bu(e)-1,e),t,2)}function MK(e){var t=e.getDay();return t>=4||t===0?cg(e):cg.ceil(e)}function E8e(e,t){return e=MK(e),lr(cg.count(bu(e),e)+(bu(e).getDay()===4),t,2)}function P8e(e){return e.getDay()}function O8e(e,t){return lr(YS.count(bu(e)-1,e),t,2)}function M8e(e,t){return lr(e.getFullYear()%100,t,2)}function A8e(e,t){return e=MK(e),lr(e.getFullYear()%100,t,2)}function I8e(e,t){return lr(e.getFullYear()%1e4,t,4)}function $8e(e,t){var n=e.getDay();return e=n>=4||n===0?cg(e):cg.ceil(e),lr(e.getFullYear()%1e4,t,4)}function R8e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+lr(t/60|0,"0",2)+lr(t%60,"0",2)}function R6(e,t){return lr(e.getUTCDate(),t,2)}function D8e(e,t){return lr(e.getUTCHours(),t,2)}function j8e(e,t){return lr(e.getUTCHours()%12||12,t,2)}function L8e(e,t){return lr(1+jk.count(xu(e),e),t,3)}function AK(e,t){return lr(e.getUTCMilliseconds(),t,3)}function N8e(e,t){return AK(e,t)+"000"}function z8e(e,t){return lr(e.getUTCMonth()+1,t,2)}function B8e(e,t){return lr(e.getUTCMinutes(),t,2)}function F8e(e,t){return lr(e.getUTCSeconds(),t,2)}function U8e(e){var t=e.getUTCDay();return t===0?7:t}function V8e(e,t){return lr(Nk.count(xu(e)-1,e),t,2)}function IK(e){var t=e.getUTCDay();return t>=4||t===0?ug(e):ug.ceil(e)}function W8e(e,t){return e=IK(e),lr(ug.count(xu(e),e)+(xu(e).getUTCDay()===4),t,2)}function q8e(e){return e.getUTCDay()}function H8e(e,t){return lr(KS.count(xu(e)-1,e),t,2)}function G8e(e,t){return lr(e.getUTCFullYear()%100,t,2)}function Y8e(e,t){return e=IK(e),lr(e.getUTCFullYear()%100,t,2)}function K8e(e,t){return lr(e.getUTCFullYear()%1e4,t,4)}function Z8e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ug(e):ug.ceil(e),lr(e.getUTCFullYear()%1e4,t,4)}function X8e(){return"+0000"}function D6(){return"%"}function j6(e){return+e}function L6(e){return Math.floor(+e/1e3)}var Rp,$K,RK;J8e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function J8e(e){return Rp=J6e(e),$K=Rp.format,Rp.parse,RK=Rp.utcFormat,Rp.utcParse,Rp}function Q8e(e){return new Date(e)}function eUe(e){return e instanceof Date?+e:+new Date(+e)}function Xj(e,t,n,r,i,o,s,a,f,h){var g=Lj(),y=g.invert,b=g.domain,E=h(".%L"),T=h(":%S"),w=h("%I:%M"),M=h("%I %p"),A=h("%a %d"),O=h("%b %d"),I=h("%B"),L=h("%Y");function R(D){return(f(D)<D?E:a(D)<D?T:s(D)<D?w:o(D)<D?M:r(D)<D?i(D)<D?A:O:n(D)<D?I:L)(D)}return g.invert=function(D){return new Date(y(D))},g.domain=function(D){return arguments.length?b(Array.from(D,eUe)):b().map(Q8e)},g.ticks=function(D){var F=b();return e(F[0],F[F.length-1],D??10)},g.tickFormat=function(D,F){return F==null?R:h(F)},g.nice=function(D){var F=b();return(!D||typeof D.range!="function")&&(D=t(F[0],F[F.length-1],D??10)),D?b(bK(F,D)):g},g.copy=function(){return Ex(g,Xj(e,t,n,r,i,o,s,a,f,h))},g}function tUe(){return nl.apply(Xj(Z6e,X6e,bu,Kj,Lk,Px,Gj,qj,Jf,$K).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nUe(){return nl.apply(Xj(Y6e,K6e,xu,Zj,Nk,jk,Yj,Hj,Jf,RK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function zk(){var e=0,t=1,n,r,i,o,s=ha,a=!1,f;function h(y){return y==null||isNaN(y=+y)?f:s(i===0?.5:(y=(o(y)-n)*i,a?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([e,t]=y,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),h):[e,t]},h.clamp=function(y){return arguments.length?(a=!!y,h):a},h.interpolator=function(y){return arguments.length?(s=y,h):s};function g(y){return function(b){var E,T;return arguments.length?([E,T]=b,s=y(E,T),h):[s(0),s(1)]}}return h.range=g(Hg),h.rangeRound=g(jj),h.unknown=function(y){return arguments.length?(f=y,h):f},function(y){return o=y,n=y(e),r=y(t),i=n===r?0:1/(r-n),h}}function rf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function DK(){var e=nf(zk()(ha));return e.copy=function(){return rf(e,DK())},Au.apply(e,arguments)}function jK(){var e=Bj(zk()).domain([1,10]);return e.copy=function(){return rf(e,jK()).base(e.base())},Au.apply(e,arguments)}function LK(){var e=Fj(zk());return e.copy=function(){return rf(e,LK()).constant(e.constant())},Au.apply(e,arguments)}function Jj(){var e=Uj(zk());return e.copy=function(){return rf(e,Jj()).exponent(e.exponent())},Au.apply(e,arguments)}function rUe(){return Jj.apply(null,arguments).exponent(.5)}function NK(){var e=[],t=ha;function n(r){if(r!=null&&!isNaN(r=+r))return t((kx(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ld),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>LFe(e,o/r))},n.copy=function(){return NK(t).domain(e)},Au.apply(n,arguments)}function Bk(){var e=0,t=.5,n=1,r=1,i,o,s,a,f,h=ha,g,y=!1,b;function E(w){return isNaN(w=+w)?b:(w=.5+((w=+g(w))-o)*(r*w<r*o?a:f),h(y?Math.max(0,Math.min(1,w)):w))}E.domain=function(w){return arguments.length?([e,t,n]=w,i=g(e=+e),o=g(t=+t),s=g(n=+n),a=i===o?0:.5/(o-i),f=o===s?0:.5/(s-o),r=o<i?-1:1,E):[e,t,n]},E.clamp=function(w){return arguments.length?(y=!!w,E):y},E.interpolator=function(w){return arguments.length?(h=w,E):h};function T(w){return function(M){var A,O,I;return arguments.length?([A,O,I]=M,h=c6e(w,[A,O,I]),E):[h(0),h(.5),h(1)]}}return E.range=T(Hg),E.rangeRound=T(jj),E.unknown=function(w){return arguments.length?(b=w,E):b},function(w){return g=w,i=w(e),o=w(t),s=w(n),a=i===o?0:.5/(o-i),f=o===s?0:.5/(s-o),r=o<i?-1:1,E}}function zK(){var e=nf(Bk()(ha));return e.copy=function(){return rf(e,zK())},Au.apply(e,arguments)}function BK(){var e=Bj(Bk()).domain([.1,1,10]);return e.copy=function(){return rf(e,BK()).base(e.base())},Au.apply(e,arguments)}function FK(){var e=Fj(Bk());return e.copy=function(){return rf(e,FK()).constant(e.constant())},Au.apply(e,arguments)}function Qj(){var e=Uj(Bk());return e.copy=function(){return rf(e,Qj()).exponent(e.exponent())},Au.apply(e,arguments)}function iUe(){return Qj.apply(null,arguments).exponent(.5)}const N6=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:gb,scaleDiverging:zK,scaleDivergingLog:BK,scaleDivergingPow:Qj,scaleDivergingSqrt:iUe,scaleDivergingSymlog:FK,scaleIdentity:vK,scaleImplicit:KA,scaleLinear:HS,scaleLog:xK,scaleOrdinal:$j,scalePoint:x0,scalePow:Vj,scaleQuantile:SK,scaleQuantize:CK,scaleRadial:wK,scaleSequential:DK,scaleSequentialLog:jK,scaleSequentialPow:Jj,scaleSequentialQuantile:NK,scaleSequentialSqrt:rUe,scaleSequentialSymlog:LK,scaleSqrt:I6e,scaleSymlog:_K,scaleThreshold:kK,scaleTime:tUe,scaleUtc:nUe,tickFormat:yK},Symbol.toStringTag,{value:"Module"}));var oUe=Lg;function aUe(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],s=t(o);if(s!=null&&(a===void 0?s===s&&!oUe(s):n(s,a)))var a=s,f=o}return f}var UK=aUe;function sUe(e,t){return e>t}var lUe=sUe,cUe=UK,uUe=lUe,dUe=Wg;function fUe(e){return e&&e.length?cUe(e,dUe,uUe):void 0}var hUe=fUe;const Fk=gr(hUe);function pUe(e,t){return e<t}var mUe=pUe,gUe=UK,yUe=mUe,vUe=Wg;function bUe(e){return e&&e.length?gUe(e,vUe,yUe):void 0}var xUe=bUe;const Uk=gr(xUe);var _Ue=fj,wUe=ef,SUe=VY,CUe=Ua;function kUe(e,t){var n=CUe(e)?_Ue:SUe;return n(e,wUe(t))}var TUe=kUe,EUe=FY,PUe=TUe;function OUe(e,t){return EUe(PUe(e,t),1)}var MUe=OUe;const AUe=gr(MUe);var IUe=Pj;function $Ue(e,t){return IUe(e,t)}var RUe=$Ue;const Vk=gr(RUe);var Gg=1e9,DUe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},tL,oi=!0,Xs="[DecimalError] ",lh=Xs+"Invalid argument: ",eL=Xs+"Exponent out of range: ",Yg=Math.floor,zf=Math.pow,jUe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ts,io=1e7,Gr=7,VK=9007199254740991,ZS=Yg(VK/Gr),Kt={};Kt.absoluteValue=Kt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Kt.comparedTo=Kt.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Kt.decimalPlaces=Kt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Gr;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Kt.dividedBy=Kt.div=function(e){return au(this,new this.constructor(e))};Kt.dividedToIntegerBy=Kt.idiv=function(e){var t=this,n=t.constructor;return $r(au(t,new n(e),0,1),n.precision)};Kt.equals=Kt.eq=function(e){return!this.cmp(e)};Kt.exponent=function(){return Bi(this)};Kt.greaterThan=Kt.gt=function(e){return this.cmp(e)>0};Kt.greaterThanOrEqualTo=Kt.gte=function(e){return this.cmp(e)>=0};Kt.isInteger=Kt.isint=function(){return this.e>this.d.length-2};Kt.isNegative=Kt.isneg=function(){return this.s<0};Kt.isPositive=Kt.ispos=function(){return this.s>0};Kt.isZero=function(){return this.s===0};Kt.lessThan=Kt.lt=function(e){return this.cmp(e)<0};Kt.lessThanOrEqualTo=Kt.lte=function(e){return this.cmp(e)<1};Kt.logarithm=Kt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ts))throw Error(Xs+"NaN");if(n.s<1)throw Error(Xs+(n.s?"NaN":"-Infinity"));return n.eq(ts)?new r(0):(oi=!1,t=au(_b(n,o),_b(e,o),o),oi=!0,$r(t,i))};Kt.minus=Kt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?HK(t,e):WK(t,(e.s=-e.s,e))};Kt.modulo=Kt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Xs+"NaN");return n.s?(oi=!1,t=au(n,e,0,1).times(e),oi=!0,n.minus(t)):$r(new r(n),i)};Kt.naturalExponential=Kt.exp=function(){return qK(this)};Kt.naturalLogarithm=Kt.ln=function(){return _b(this)};Kt.negated=Kt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Kt.plus=Kt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?WK(t,e):HK(t,(e.s=-e.s,e))};Kt.precision=Kt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(lh+e);if(t=Bi(i)+1,r=i.d.length-1,n=r*Gr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Kt.squareRoot=Kt.sqrt=function(){var e,t,n,r,i,o,s,a=this,f=a.constructor;if(a.s<1){if(!a.s)return new f(0);throw Error(Xs+"NaN")}for(e=Bi(a),oi=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=nc(a.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Yg((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(i.toString()),n=f.precision,i=s=n+3;;)if(o=r,r=o.plus(au(a,o,s+2)).times(.5),nc(o.d).slice(0,s)===(t=nc(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if($r(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(t!="9999")break;s+=4}return oi=!0,$r(r,n)};Kt.times=Kt.mul=function(e){var t,n,r,i,o,s,a,f,h,g=this,y=g.constructor,b=g.d,E=(e=new y(e)).d;if(!g.s||!e.s)return new y(0);for(e.s*=g.s,n=g.e+e.e,f=b.length,h=E.length,f<h&&(o=b,b=E,E=o,s=f,f=h,h=s),o=[],s=f+h,r=s;r--;)o.push(0);for(r=h;--r>=0;){for(t=0,i=f+r;i>r;)a=o[i]+E[r]*b[i-r-1]+t,o[i--]=a%io|0,t=a/io|0;o[i]=(o[i]+t)%io|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,oi?$r(e,y.precision):e};Kt.toDecimalPlaces=Kt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(mc(e,0,Gg),t===void 0?t=r.rounding:mc(t,0,8),$r(n,e+Bi(n)+1,t))};Kt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=_h(r,!0):(mc(e,0,Gg),t===void 0?t=i.rounding:mc(t,0,8),r=$r(new i(r),e+1,t),n=_h(r,!0,e+1)),n};Kt.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?_h(i):(mc(e,0,Gg),t===void 0?t=o.rounding:mc(t,0,8),r=$r(new o(i),e+Bi(i)+1,t),n=_h(r.abs(),!1,e+Bi(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Kt.toInteger=Kt.toint=function(){var e=this,t=e.constructor;return $r(new t(e),Bi(e)+1,t.rounding)};Kt.toNumber=function(){return+this};Kt.toPower=Kt.pow=function(e){var t,n,r,i,o,s,a=this,f=a.constructor,h=12,g=+(e=new f(e));if(!e.s)return new f(ts);if(a=new f(a),!a.s){if(e.s<1)throw Error(Xs+"Infinity");return a}if(a.eq(ts))return a;if(r=f.precision,e.eq(ts))return $r(a,r);if(t=e.e,n=e.d.length-1,s=t>=n,o=a.s,s){if((n=g<0?-g:g)<=VK){for(i=new f(ts),t=Math.ceil(r/Gr+4),oi=!1;n%2&&(i=i.times(a),B6(i.d,t)),n=Yg(n/2),n!==0;)a=a.times(a),B6(a.d,t);return oi=!0,e.s<0?new f(ts).div(i):$r(i,r)}}else if(o<0)throw Error(Xs+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,a.s=1,oi=!1,i=e.times(_b(a,r+h)),oi=!0,i=qK(i),i.s=o,i};Kt.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Bi(i),r=_h(i,n<=o.toExpNeg||n>=o.toExpPos)):(mc(e,1,Gg),t===void 0?t=o.rounding:mc(t,0,8),i=$r(new o(i),e,t),n=Bi(i),r=_h(i,e<=n||n<=o.toExpNeg,e)),r};Kt.toSignificantDigits=Kt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(mc(e,1,Gg),t===void 0?t=r.rounding:mc(t,0,8)),$r(new r(n),e,t)};Kt.toString=Kt.valueOf=Kt.val=Kt.toJSON=Kt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Bi(e),n=e.constructor;return _h(e,t<=n.toExpNeg||t>=n.toExpPos)};function WK(e,t){var n,r,i,o,s,a,f,h,g=e.constructor,y=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),oi?$r(t,y):t;if(f=e.d,h=t.d,s=e.e,i=t.e,f=f.slice(),o=s-i,o){for(o<0?(r=f,o=-o,a=h.length):(r=h,i=s,a=f.length),s=Math.ceil(y/Gr),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=f.length,o=h.length,a-o<0&&(o=a,r=h,h=f,f=r),n=0;o;)n=(f[--o]=f[o]+h[o]+n)/io|0,f[o]%=io;for(n&&(f.unshift(n),++i),a=f.length;f[--a]==0;)f.pop();return t.d=f,t.e=i,oi?$r(t,y):t}function mc(e,t,n){if(e!==~~e||e<t||e>n)throw Error(lh+e)}function nc(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)r=e[t]+"",n=Gr-r.length,n&&(o+=fd(n)),o+=r;s=e[t],r=s+"",n=Gr-r.length,n&&(o+=fd(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var au=function(){function e(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%io|0,s=o/io|0;return s&&r.unshift(s),r}function t(r,i,o,s){var a,f;if(o!=s)f=o>s?1:-1;else for(a=f=0;a<o;a++)if(r[a]!=i[a]){f=r[a]>i[a]?1:-1;break}return f}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*io+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,f,h,g,y,b,E,T,w,M,A,O,I,L,R,D,F,q,J=r.constructor,K=r.s==i.s?1:-1,ne=r.d,le=i.d;if(!r.s)return new J(r);if(!i.s)throw Error(Xs+"Division by zero");for(f=r.e-i.e,F=le.length,R=ne.length,E=new J(K),T=E.d=[],h=0;le[h]==(ne[h]||0);)++h;if(le[h]>(ne[h]||0)&&--f,o==null?O=o=J.precision:s?O=o+(Bi(r)-Bi(i))+1:O=o,O<0)return new J(0);if(O=O/Gr+2|0,h=0,F==1)for(g=0,le=le[0],O++;(h<R||g)&&O--;h++)I=g*io+(ne[h]||0),T[h]=I/le|0,g=I%le|0;else{for(g=io/(le[0]+1)|0,g>1&&(le=e(le,g),ne=e(ne,g),F=le.length,R=ne.length),L=F,w=ne.slice(0,F),M=w.length;M<F;)w[M++]=0;q=le.slice(),q.unshift(0),D=le[0],le[1]>=io/2&&++D;do g=0,a=t(le,w,F,M),a<0?(A=w[0],F!=M&&(A=A*io+(w[1]||0)),g=A/D|0,g>1?(g>=io&&(g=io-1),y=e(le,g),b=y.length,M=w.length,a=t(y,w,b,M),a==1&&(g--,n(y,F<b?q:le,b))):(g==0&&(a=g=1),y=le.slice()),b=y.length,b<M&&y.unshift(0),n(w,y,M),a==-1&&(M=w.length,a=t(le,w,F,M),a<1&&(g++,n(w,F<M?q:le,M))),M=w.length):a===0&&(g++,w=[0]),T[h++]=g,a&&w[0]?w[M++]=ne[L]||0:(w=[ne[L]],M=1);while((L++<R||w[0]!==void 0)&&O--)}return T[0]||T.shift(),E.e=f,$r(E,s?o+Bi(E)+1:o)}}();function qK(e,t){var n,r,i,o,s,a,f=0,h=0,g=e.constructor,y=g.precision;if(Bi(e)>16)throw Error(eL+Bi(e));if(!e.s)return new g(ts);for(t==null?(oi=!1,a=y):a=t,s=new g(.03125);e.abs().gte(.1);)e=e.times(s),h+=5;for(r=Math.log(zf(2,h))/Math.LN10*2+5|0,a+=r,n=i=o=new g(ts),g.precision=a;;){if(i=$r(i.times(e),a),n=n.times(++f),s=o.plus(au(i,n,a)),nc(s.d).slice(0,a)===nc(o.d).slice(0,a)){for(;h--;)o=$r(o.times(o),a);return g.precision=y,t==null?(oi=!0,$r(o,y)):o}o=s}}function Bi(e){for(var t=e.e*Gr,n=e.d[0];n>=10;n/=10)t++;return t}function mO(e,t,n){if(t>e.LN10.sd())throw oi=!0,n&&(e.precision=n),Error(Xs+"LN10 precision limit exceeded");return $r(new e(e.LN10),t)}function fd(e){for(var t="";e--;)t+="0";return t}function _b(e,t){var n,r,i,o,s,a,f,h,g,y=1,b=10,E=e,T=E.d,w=E.constructor,M=w.precision;if(E.s<1)throw Error(Xs+(E.s?"NaN":"-Infinity"));if(E.eq(ts))return new w(0);if(t==null?(oi=!1,h=M):h=t,E.eq(10))return t==null&&(oi=!0),mO(w,h);if(h+=b,w.precision=h,n=nc(T),r=n.charAt(0),o=Bi(E),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)E=E.times(e),n=nc(E.d),r=n.charAt(0),y++;o=Bi(E),r>1?(E=new w("0."+n),o++):E=new w(r+"."+n.slice(1))}else return f=mO(w,h+2,M).times(o+""),E=_b(new w(r+"."+n.slice(1)),h-b).plus(f),w.precision=M,t==null?(oi=!0,$r(E,M)):E;for(a=s=E=au(E.minus(ts),E.plus(ts),h),g=$r(E.times(E),h),i=3;;){if(s=$r(s.times(g),h),f=a.plus(au(s,new w(i),h)),nc(f.d).slice(0,h)===nc(a.d).slice(0,h))return a=a.times(2),o!==0&&(a=a.plus(mO(w,h+2,M).times(o+""))),a=au(a,new w(y),h),w.precision=M,t==null?(oi=!0,$r(a,M)):a;a=f,i+=2}}function z6(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Yg(n/Gr),e.d=[],r=(n+1)%Gr,n<0&&(r+=Gr),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Gr;r<i;)e.d.push(+t.slice(r,r+=Gr));t=t.slice(r),r=Gr-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),oi&&(e.e>ZS||e.e<-ZS))throw Error(eL+n)}else e.s=0,e.e=0,e.d=[0];return e}function $r(e,t,n){var r,i,o,s,a,f,h,g,y=e.d;for(s=1,o=y[0];o>=10;o/=10)s++;if(r=t-s,r<0)r+=Gr,i=t,h=y[g=0];else{if(g=Math.ceil((r+1)/Gr),o=y.length,g>=o)return e;for(h=o=y[g],s=1;o>=10;o/=10)s++;r%=Gr,i=r-Gr+s}if(n!==void 0&&(o=zf(10,s-i-1),a=h/o%10|0,f=t<0||y[g+1]!==void 0||h%o,f=n<4?(a||f)&&(n==0||n==(e.s<0?3:2)):a>5||a==5&&(n==4||f||n==6&&(r>0?i>0?h/zf(10,s-i):0:y[g-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return f?(o=Bi(e),y.length=1,t=t-o-1,y[0]=zf(10,(Gr-t%Gr)%Gr),e.e=Yg(-t/Gr)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(r==0?(y.length=g,o=1,g--):(y.length=g+1,o=zf(10,Gr-r),y[g]=i>0?(h/zf(10,s-i)%zf(10,i)|0)*o:0),f)for(;;)if(g==0){(y[0]+=o)==io&&(y[0]=1,++e.e);break}else{if(y[g]+=o,y[g]!=io)break;y[g--]=0,o=1}for(r=y.length;y[--r]===0;)y.pop();if(oi&&(e.e>ZS||e.e<-ZS))throw Error(eL+Bi(e));return e}function HK(e,t){var n,r,i,o,s,a,f,h,g,y,b=e.constructor,E=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),oi?$r(t,E):t;if(f=e.d,y=t.d,r=t.e,h=e.e,f=f.slice(),s=h-r,s){for(g=s<0,g?(n=f,s=-s,a=y.length):(n=y,r=h,a=f.length),i=Math.max(Math.ceil(E/Gr),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=f.length,a=y.length,g=i<a,g&&(a=i),i=0;i<a;i++)if(f[i]!=y[i]){g=f[i]<y[i];break}s=0}for(g&&(n=f,f=y,y=n,t.s=-t.s),a=f.length,i=y.length-a;i>0;--i)f[a++]=0;for(i=y.length;i>s;){if(f[--i]<y[i]){for(o=i;o&&f[--o]===0;)f[o]=io-1;--f[o],f[i]+=io}f[i]-=y[i]}for(;f[--a]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,oi?$r(t,E):t):new b(0)}function _h(e,t,n){var r,i=Bi(e),o=nc(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+fd(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+fd(-i-1)+o,n&&(r=n-s)>0&&(o+=fd(r))):i>=s?(o+=fd(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+fd(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=fd(r))),e.s<0?"-"+o:o}function B6(e,t){if(e.length>t)return e.length=t,!0}function GK(e){var t,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(lh+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return z6(s,o.toString())}else if(typeof o!="string")throw Error(lh+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,jUe.test(o))z6(s,o);else throw Error(lh+o)}if(i.prototype=Kt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=GK,i.config=i.set=LUe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function LUe(e){if(!e||typeof e!="object")throw Error(Xs+"Object expected");var t,n,r,i=["precision",1,Gg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Yg(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(lh+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(lh+n+": "+r);return this}var tL=GK(DUe);ts=new tL(1);const Pr=tL;function NUe(e){return UUe(e)||FUe(e)||BUe(e)||zUe()}function zUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BUe(e,t){if(e){if(typeof e=="string")return QA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QA(e,t)}}function FUe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function UUe(e){if(Array.isArray(e))return QA(e)}function QA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var VUe=function(t){return t},YK={"@@functional/placeholder":!0},KK=function(t){return t===YK},F6=function(t){return function n(){return arguments.length===0||arguments.length===1&&KK(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},WUe=function e(t,n){return t===1?n:F6(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==YK}).length;return s>=t?n.apply(void 0,i):e(t-s,F6(function(){for(var a=arguments.length,f=new Array(a),h=0;h<a;h++)f[h]=arguments[h];var g=i.map(function(y){return KK(y)?f.shift():y});return n.apply(void 0,NUe(g).concat(f))}))})},Wk=function(t){return WUe(t.length,t)},eI=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},qUe=Wk(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),HUe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return VUe;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,f){return f(a)},o.apply(void 0,arguments))}},tI=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},ZK=function(t){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,f){return a===n[f]})||(n=o,r=t.apply(void 0,o)),r}};function GUe(e){var t;return e===0?t=1:t=Math.floor(new Pr(e).abs().log(10).toNumber())+1,t}function YUe(e,t,n){for(var r=new Pr(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var KUe=Wk(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),ZUe=Wk(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),XUe=Wk(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const qk={rangeStep:YUe,getDigitCount:GUe,interpolateNumber:KUe,uninterpolateNumber:ZUe,uninterpolateTruncation:XUe};function nI(e){return eVe(e)||QUe(e)||XK(e)||JUe()}function JUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QUe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function eVe(e){if(Array.isArray(e))return rI(e)}function wb(e,t){return rVe(e)||nVe(e,t)||XK(e,t)||tVe()}function tVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XK(e,t){if(e){if(typeof e=="string")return rI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rI(e,t)}}function rI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nVe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=e[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(t&&n.length===t));r=!0);}catch(f){i=!0,o=f}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function rVe(e){if(Array.isArray(e))return e}function JK(e){var t=wb(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function QK(e,t,n){if(e.lte(0))return new Pr(0);var r=qk.getDigitCount(e.toNumber()),i=new Pr(10).pow(r),o=e.div(i),s=r!==1?.05:.1,a=new Pr(Math.ceil(o.div(s).toNumber())).add(n).mul(s),f=a.mul(i);return t?f:new Pr(Math.ceil(f))}function iVe(e,t,n){var r=1,i=new Pr(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new Pr(10).pow(qk.getDigitCount(e)-1),i=new Pr(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Pr(Math.floor(e)))}else e===0?i=new Pr(Math.floor((t-1)/2)):n||(i=new Pr(Math.floor(e)));var s=Math.floor((t-1)/2),a=HUe(qUe(function(f){return i.add(new Pr(f-s).mul(r)).toNumber()}),eI);return a(0,t)}function eZ(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Pr(0),tickMin:new Pr(0),tickMax:new Pr(0)};var o=QK(new Pr(t).sub(e).div(n-1),r,i),s;e<=0&&t>=0?s=new Pr(0):(s=new Pr(e).add(t).div(2),s=s.sub(new Pr(s).mod(o)));var a=Math.ceil(s.sub(e).div(o).toNumber()),f=Math.ceil(new Pr(t).sub(s).div(o).toNumber()),h=a+f+1;return h>n?eZ(e,t,n,r,i+1):(h<n&&(f=t>0?f+(n-h):f,a=t>0?a:a+(n-h)),{step:o,tickMin:s.sub(new Pr(a).mul(o)),tickMax:s.add(new Pr(f).mul(o))})}function oVe(e){var t=wb(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=JK([n,r]),f=wb(a,2),h=f[0],g=f[1];if(h===-1/0||g===1/0){var y=g===1/0?[h].concat(nI(eI(0,i-1).map(function(){return 1/0}))):[].concat(nI(eI(0,i-1).map(function(){return-1/0})),[g]);return n>r?tI(y):y}if(h===g)return iVe(h,i,o);var b=eZ(h,g,s,o),E=b.step,T=b.tickMin,w=b.tickMax,M=qk.rangeStep(T,w.add(new Pr(.1).mul(E)),E);return n>r?tI(M):M}function aVe(e,t){var n=wb(e,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=JK([r,i]),a=wb(s,2),f=a[0],h=a[1];if(f===-1/0||h===1/0)return[r,i];if(f===h)return[f];var g=Math.max(t,2),y=QK(new Pr(h).sub(f).div(g-1),o,0),b=[].concat(nI(qk.rangeStep(new Pr(f),new Pr(h).sub(new Pr(.99).mul(y)),y)),[h]);return r>i?tI(b):b}var sVe=ZK(oVe),lVe=ZK(aVe),cVe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function XS(){return XS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XS.apply(this,arguments)}function uVe(e,t){return pVe(e)||hVe(e,t)||fVe(e,t)||dVe()}function dVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fVe(e,t){if(e){if(typeof e=="string")return U6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U6(e,t)}}function U6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hVe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function pVe(e){if(Array.isArray(e))return e}function mVe(e,t){if(e==null)return{};var n=gVe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gVe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Ox(e){var t=e.offset,n=e.layout,r=e.width,i=e.dataKey,o=e.data,s=e.dataPointFormatter,a=e.xAxis,f=e.yAxis,h=mVe(e,cVe),g=Yn(h),y=o.map(function(b){var E=s(b,i),T=E.x,w=E.y,M=E.value,A=E.errorVal;if(!A)return null;var O=[],I,L;if(Array.isArray(A)){var R=uVe(A,2);I=R[0],L=R[1]}else I=L=A;if(n==="vertical"){var D=a.scale,F=w+t,q=F+r,J=F-r,K=D(M-I),ne=D(M+L);O.push({x1:ne,y1:q,x2:ne,y2:J}),O.push({x1:K,y1:F,x2:ne,y2:F}),O.push({x1:K,y1:q,x2:K,y2:J})}else if(n==="horizontal"){var le=f.scale,ye=T+t,de=ye-r,se=ye+r,pe=le(M-I),be=le(M+L);O.push({x1:de,y1:be,x2:se,y2:be}),O.push({x1:ye,y1:pe,x2:ye,y2:be}),O.push({x1:de,y1:pe,x2:se,y2:pe})}return Pe.createElement(Ii,XS({className:"recharts-errorBar",key:"bar-".concat(O.map(function(ce){return"".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2)}))},g),O.map(function(ce){return Pe.createElement("line",XS({},ce,{key:"line-".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2)}))}))});return Pe.createElement(Ii,{className:"recharts-errorBars"},y)}Ox.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};Ox.displayName="ErrorBar";function Sb(e){"@babel/helpers - typeof";return Sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sb(e)}function V6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V6(Object(n),!0).forEach(function(r){yVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yVe(e,t,n){return t=vVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vVe(e){var t=bVe(e,"string");return Sb(t)==="symbol"?t:String(t)}function bVe(e,t){if(Sb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Sb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tZ=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,s=Qc(n,rg);if(!s)return null;var a;return s.props&&s.props.payload?a=s.props&&s.props.payload:o==="children"?a=(r||[]).reduce(function(f,h){var g=h.item,y=h.props,b=y.sectors||y.data||[];return f.concat(b.map(function(E){return{type:s.props.iconType||g.props.legendType,value:E.name,color:E.fill,payload:E}}))},[]):a=(r||[]).map(function(f){var h=f.item,g=h.props,y=g.dataKey,b=g.name,E=g.legendType,T=g.hide;return{inactive:T,dataKey:y,type:s.props.iconType||E||"square",color:nL(h),value:b||y,payload:h.props}}),gO(gO(gO({},s.props),rg.getWithHeight(s,i)),{},{payload:a,item:s})};function Cb(e){"@babel/helpers - typeof";return Cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cb(e)}function W6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ds(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W6(Object(n),!0).forEach(function(r){Om(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Om(e,t,n){return t=xVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xVe(e){var t=_Ve(e,"string");return Cb(t)==="symbol"?t:String(t)}function _Ve(e,t){if(Cb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Cb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q6(e){return kVe(e)||CVe(e)||SVe(e)||wVe()}function wVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SVe(e,t){if(e){if(typeof e=="string")return iI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iI(e,t)}}function CVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kVe(e){if(Array.isArray(e))return iI(e)}function iI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ds(e,t,n){return Xn(e)||Xn(t)?n:Ki(t)?Vs(e,t,n):Fn(t)?t(e):n}function _0(e,t,n,r){var i=AUe(e,function(a){return ds(a,t)});if(n==="number"){var o=i.filter(function(a){return It(a)||parseFloat(a)});return o.length?[Uk(o),Fk(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!Xn(a)}):i;return s.map(function(a){return Ki(a)||a instanceof Date?a:""})}var TVe=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var f=o.range,h=0;h<a;h++){var g=h>0?i[h-1].coordinate:i[a-1].coordinate,y=i[h].coordinate,b=h>=a-1?i[0].coordinate:i[h+1].coordinate,E=void 0;if(Ol(y-g)!==Ol(b-y)){var T=[];if(Ol(b-y)===Ol(f[1]-f[0])){E=b;var w=y+f[1]-f[0];T[0]=Math.min(w,(w+g)/2),T[1]=Math.max(w,(w+g)/2)}else{E=g;var M=b+f[1]-f[0];T[0]=Math.min(y,(M+y)/2),T[1]=Math.max(y,(M+y)/2)}var A=[Math.min(y,(E+y)/2),Math.max(y,(E+y)/2)];if(t>A[0]&&t<=A[1]||t>=T[0]&&t<=T[1]){s=i[h].index;break}}else{var O=Math.min(g,b),I=Math.max(g,b);if(t>(O+y)/2&&t<=(I+y)/2){s=i[h].index;break}}}else for(var L=0;L<a;L++)if(L===0&&t<=(r[L].coordinate+r[L+1].coordinate)/2||L>0&&L<a-1&&t>(r[L].coordinate+r[L-1].coordinate)/2&&t<=(r[L].coordinate+r[L+1].coordinate)/2||L===a-1&&t>(r[L].coordinate+r[L-1].coordinate)/2){s=r[L].index;break}return s},nL=function(t){var n=t,r=n.type.displayName,i=t.props,o=i.stroke,s=i.fill,a;switch(r){case"Line":a=o;break;case"Area":case"Radar":a=o&&o!=="none"?o:s;break;default:a=s;break}return a},EVe=function(t){var n=t.barSize,r=t.stackGroups,i=r===void 0?{}:r;if(!i)return{};for(var o={},s=Object.keys(i),a=0,f=s.length;a<f;a++)for(var h=i[s[a]].stackGroups,g=Object.keys(h),y=0,b=g.length;y<b;y++){var E=h[g[y]],T=E.items,w=E.cateAxisId,M=T.filter(function(I){return iu(I.type).indexOf("Bar")>=0});if(M&&M.length){var A=M[0].props.barSize,O=M[0].props[w];o[O]||(o[O]=[]),o[O].push({item:M[0],stackList:M.slice(1),barSize:Xn(A)?n:A})}}return o},PVe=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,o=t.sizeList,s=o===void 0?[]:o,a=t.maxBarSize,f=s.length;if(f<1)return null;var h=Qm(n,i,0,!0),g,y=[];if(s[0].barSize===+s[0].barSize){var b=!1,E=i/f,T=s.reduce(function(L,R){return L+R.barSize||0},0);T+=(f-1)*h,T>=i&&(T-=(f-1)*h,h=0),T>=i&&E>0&&(b=!0,E*=.9,T=f*E);var w=(i-T)/2>>0,M={offset:w-h,size:0};g=s.reduce(function(L,R){var D={item:R.item,position:{offset:M.offset+M.size+h,size:b?E:R.barSize}},F=[].concat(q6(L),[D]);return M=F[F.length-1].position,R.stackList&&R.stackList.length&&R.stackList.forEach(function(q){F.push({item:q,position:M})}),F},y)}else{var A=Qm(r,i,0,!0);i-2*A-(f-1)*h<=0&&(h=0);var O=(i-2*A-(f-1)*h)/f;O>1&&(O>>=0);var I=a===+a?Math.min(O,a):O;g=s.reduce(function(L,R,D){var F=[].concat(q6(L),[{item:R.item,position:{offset:A+(O+h)*D+(O-I)/2,size:I}}]);return R.stackList&&R.stackList.length&&R.stackList.forEach(function(q){F.push({item:q,position:F[F.length-1].position})}),F},y)}return g},OVe=function(t,n,r,i){var o=r.children,s=r.width,a=r.margin,f=s-(a.left||0)-(a.right||0),h=tZ({children:o,legendWidth:f});if(h){var g=i||{},y=g.width,b=g.height,E=h.align,T=h.verticalAlign,w=h.layout;if((w==="vertical"||w==="horizontal"&&T==="middle")&&E!=="center"&&It(t[E]))return Ds(Ds({},t),{},Om({},E,t[E]+(y||0)));if((w==="horizontal"||w==="vertical"&&E==="center")&&T!=="middle"&&It(t[T]))return Ds(Ds({},t),{},Om({},T,t[T]+(b||0)))}return t},MVe=function(t,n,r){return Xn(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},nZ=function(t,n,r,i,o){var s=n.props.children,a=Ws(s,Ox).filter(function(h){return MVe(i,o,h.props.direction)});if(a&&a.length){var f=a.map(function(h){return h.props.dataKey});return t.reduce(function(h,g){var y=ds(g,r,0),b=Array.isArray(y)?[Uk(y),Fk(y)]:[y,y],E=f.reduce(function(T,w){var M=ds(g,w,0),A=b[0]-Math.abs(Array.isArray(M)?M[0]:M),O=b[1]+Math.abs(Array.isArray(M)?M[1]:M);return[Math.min(A,T[0]),Math.max(O,T[1])]},[1/0,-1/0]);return[Math.min(E[0],h[0]),Math.max(E[1],h[1])]},[1/0,-1/0])}return null},AVe=function(t,n,r,i,o){var s=n.map(function(a){return nZ(t,a,r,o,i)}).filter(function(a){return!Xn(a)});return s&&s.length?s.reduce(function(a,f){return[Math.min(a[0],f[0]),Math.max(a[1],f[1])]},[1/0,-1/0]):null},rZ=function(t,n,r,i,o){var s=n.map(function(f){var h=f.props.dataKey;return r==="number"&&h&&nZ(t,f,h,i)||_0(t,h,r,o)});if(r==="number")return s.reduce(function(f,h){return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);var a={};return s.reduce(function(f,h){for(var g=0,y=h.length;g<y;g++)a[h[g]]||(a[h[g]]=!0,f.push(h[g]));return f},[])},iZ=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},H6=function(t,n,r,i){if(i)return t.map(function(f){return f.coordinate});var o,s,a=t.map(function(f){return f.coordinate===n&&(o=!0),f.coordinate===r&&(s=!0),f.coordinate});return o||a.push(n),s||a.push(r),a},ld=function(t,n,r){if(!t)return null;var i=t.scale,o=t.duplicateDomain,s=t.type,a=t.range,f=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/f:0;if(h=t.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Ol(a[0]-a[1])*2*h:h,n&&(t.ticks||t.niceTicks)){var g=(t.ticks||t.niceTicks).map(function(y){var b=o?o.indexOf(y):y;return{coordinate:i(b)+h,value:y,offset:h}});return g.filter(function(y){return!wx(y.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(y,b){return{coordinate:i(y)+h,value:y,index:b,offset:h}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(y){return{coordinate:i(y)+h,value:y,offset:h}}):i.domain().map(function(y,b){return{coordinate:i(y)+h,value:o?o[y]:y,index:b,offset:h}})},yO=new WeakMap,L1=function(t,n){if(typeof n!="function")return t;yO.has(t)||yO.set(t,new WeakMap);var r=yO.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},IVe=function(t,n,r){var i=t.scale,o=t.type,s=t.layout,a=t.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:gb(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:HS(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:x0(),realScaleType:"point"}:o==="category"?{scale:gb(),realScaleType:"band"}:{scale:HS(),realScaleType:"linear"};if(_x(i)){var f="scale".concat(Pk(i));return{scale:(N6[f]||x0)(),realScaleType:N6[f]?f:"point"}}return Fn(i)?{scale:i}:{scale:x0(),realScaleType:"point"}},G6=1e-4,$Ve=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),o=Math.min(i[0],i[1])-G6,s=Math.max(i[0],i[1])+G6,a=t(n[0]),f=t(n[r-1]);(a<o||a>s||f<o||f>s)&&t.domain([n[0],n[r-1]])}},RVe=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},DVe=function(t,n){if(!n||n.length!==2||!It(n[0])||!It(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[t[0],t[1]];return(!It(t[0])||t[0]<r)&&(o[0]=r),(!It(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},jVe=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var f=wx(t[a][r][1])?t[a][r][0]:t[a][r][1];f>=0?(t[a][r][0]=o,t[a][r][1]=o+f,o=t[a][r][1]):(t[a][r][0]=s,t[a][r][1]=s+f,s=t[a][r][1])}},LVe=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=wx(t[s][r][1])?t[s][r][0]:t[s][r][1];a>=0?(t[s][r][0]=o,t[s][r][1]=o+a,o=t[s][r][1]):(t[s][r][0]=0,t[s][r][1]=0)}},NVe={sign:jVe,expand:I$e,none:eg,silhouette:$$e,wiggle:R$e,positive:LVe},zVe=function(t,n,r){var i=n.map(function(a){return a.props.dataKey}),o=NVe[r],s=A$e().keys(i).value(function(a,f){return+ds(a,f,0)}).order(CA).offset(o);return s(t)},BVe=function(t,n,r,i,o,s){if(!t)return null;var a=s?n.reverse():n,f={},h=a.reduce(function(y,b){var E=b.props,T=E.stackId,w=E.hide;if(w)return y;var M=b.props[r],A=y[M]||{hasStack:!1,stackGroups:{}};if(Ki(T)){var O=A.stackGroups[T]||{numericAxisId:r,cateAxisId:i,items:[]};O.items.push(b),A.hasStack=!0,A.stackGroups[T]=O}else A.stackGroups[Sx("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[b]};return Ds(Ds({},y),{},Om({},M,A))},f),g={};return Object.keys(h).reduce(function(y,b){var E=h[b];if(E.hasStack){var T={};E.stackGroups=Object.keys(E.stackGroups).reduce(function(w,M){var A=E.stackGroups[M];return Ds(Ds({},w),{},Om({},M,{numericAxisId:r,cateAxisId:i,items:A.items,stackedData:zVe(t,A.items,o)}))},T)}return Ds(Ds({},y),{},Om({},b,E))},g)},FVe=function(t,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,f=r||n.scale;if(f!=="auto"&&f!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var h=t.domain();if(!h.length)return null;var g=sVe(h,o,a);return t.domain([Uk(g),Fk(g)]),{niceTicks:g}}if(o&&i==="number"){var y=t.domain(),b=lVe(y,o,a);return{niceTicks:b}}return null},Y6=function(t){var n=t.axis,r=t.ticks,i=t.bandSize,o=t.entry,s=t.index,a=t.dataKey;if(n.type==="category"){if(!n.allowDuplicatedCategory&&n.dataKey&&!Xn(o[n.dataKey])){var f=bS(r,"value",o[n.dataKey]);if(f)return f.coordinate+i/2}return r[s]?r[s].coordinate+i/2:null}var h=ds(o,Xn(a)?n.dataKey:a);return Xn(h)?null:n.scale(h)},K6=function(t){var n=t.axis,r=t.ticks,i=t.offset,o=t.bandSize,s=t.entry,a=t.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var f=ds(s,n.dataKey,n.domain[a]);return Xn(f)?null:n.scale(f)-o/2+i},UVe=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},VVe=function(t,n){var r=t.props.stackId;if(Ki(r)){var i=n[r];if(i){var o=i.items.indexOf(t);return o>=0?i.stackedData[o]:null}}return null},WVe=function(t){return t.reduce(function(n,r){return[Uk(r.concat([n[0]]).filter(It)),Fk(r.concat([n[1]]).filter(It))]},[1/0,-1/0])},oZ=function(t,n,r){return Object.keys(t).reduce(function(i,o){var s=t[o],a=s.stackedData,f=a.reduce(function(h,g){var y=WVe(g.slice(n,r+1));return[Math.min(h[0],y[0]),Math.max(h[1],y[1])]},[1/0,-1/0]);return[Math.min(f[0],i[0]),Math.max(f[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Z6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,X6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oI=function(t,n,r){if(Fn(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(It(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(Z6.test(t[0])){var o=+Z6.exec(t[0])[1];i[0]=n[0]-o}else Fn(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(It(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(X6.test(t[1])){var s=+X6.exec(t[1])[1];i[1]=n[1]+s}else Fn(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},JS=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var o=Mj(n,function(y){return y.coordinate}),s=1/0,a=1,f=o.length;a<f;a++){var h=o[a],g=o[a-1];s=Math.min((h.coordinate||0)-(g.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},J6=function(t,n,r){return!t||!t.length||Vk(t,Vs(r,"type.defaultProps.domain"))?n:t},aZ=function(t,n){var r=t.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,f=r.tooltipType,h=r.chartType;return Ds(Ds({},Yn(t)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:nL(t),value:ds(n,i),type:f,payload:n,chartType:h})};function kb(e){"@babel/helpers - typeof";return kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kb(e)}function Q6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function e8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q6(Object(n),!0).forEach(function(r){qVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qVe(e,t,n){return t=HVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HVe(e){var t=GVe(e,"string");return kb(t)==="symbol"?t:String(t)}function GVe(e,t){if(kb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(kb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QS=Math.PI/180,YVe=function(t){return t*180/Math.PI},_o=function(t,n,r,i){return{x:t+Math.cos(-QS*i)*r,y:n+Math.sin(-QS*i)*r}},KVe=function(t,n){var r=t.x,i=t.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},ZVe=function(t,n){var r=t.x,i=t.y,o=n.cx,s=n.cy,a=KVe({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var f=(r-o)/a,h=Math.acos(f);return i>s&&(h=2*Math.PI-h),{radius:a,angle:YVe(h),angleInRadian:h}},XVe=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},JVe=function(t,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return t+a*360},t8=function(t,n){var r=t.x,i=t.y,o=ZVe({x:r,y:i},n),s=o.radius,a=o.angle,f=n.innerRadius,h=n.outerRadius;if(s<f||s>h)return!1;if(s===0)return!0;var g=XVe(n),y=g.startAngle,b=g.endAngle,E=a,T;if(y<=b){for(;E>b;)E-=360;for(;E<y;)E+=360;T=E>=y&&E<=b}else{for(;E>y;)E-=360;for(;E<b;)E+=360;T=E>=b&&E<=y}return T?e8(e8({},n),{},{radius:s,angle:JVe(E,n)}):null};function Tb(e){"@babel/helpers - typeof";return Tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tb(e)}var QVe=["offset"];function eWe(e){return iWe(e)||rWe(e)||nWe(e)||tWe()}function tWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nWe(e,t){if(e){if(typeof e=="string")return aI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aI(e,t)}}function rWe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iWe(e){if(Array.isArray(e))return aI(e)}function aI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oWe(e,t){if(e==null)return{};var n=aWe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function aWe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function n8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n8(Object(n),!0).forEach(function(r){sWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sWe(e,t,n){return t=lWe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lWe(e){var t=cWe(e,"string");return Tb(t)==="symbol"?t:String(t)}function cWe(e,t){if(Tb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Tb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eb.apply(this,arguments)}var uWe=function(t){var n=t.value,r=t.formatter,i=Xn(t.children)?n:t.children;return Fn(r)?r(i):i},dWe=function(t,n){var r=Ol(n-t),i=Math.min(Math.abs(n-t),360);return r*i},fWe=function(t,n,r){var i=t.position,o=t.viewBox,s=t.offset,a=t.className,f=o,h=f.cx,g=f.cy,y=f.innerRadius,b=f.outerRadius,E=f.startAngle,T=f.endAngle,w=f.clockWise,M=(y+b)/2,A=dWe(E,T),O=A>=0?1:-1,I,L;i==="insideStart"?(I=E+O*s,L=w):i==="insideEnd"?(I=T-O*s,L=!w):i==="end"&&(I=T+O*s,L=w),L=A<=0?L:!L;var R=_o(h,g,M,I),D=_o(h,g,M,I+(L?1:-1)*359),F="M".concat(R.x,",").concat(R.y,`
    A`).concat(M,",").concat(M,",0,1,").concat(L?0:1,`,
    `).concat(D.x,",").concat(D.y),q=Xn(t.id)?Sx("recharts-radial-line-"):t.id;return Pe.createElement("text",Eb({},r,{dominantBaseline:"central",className:st("recharts-radial-bar-label",a)}),Pe.createElement("defs",null,Pe.createElement("path",{id:q,d:F})),Pe.createElement("textPath",{xlinkHref:"#".concat(q)},n))},hWe=function(t){var n=t.viewBox,r=t.offset,i=t.position,o=n,s=o.cx,a=o.cy,f=o.innerRadius,h=o.outerRadius,g=o.startAngle,y=o.endAngle,b=(g+y)/2;if(i==="outside"){var E=_o(s,a,h+r,b),T=E.x,w=E.y;return{x:T,y:w,textAnchor:T>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var M=(f+h)/2,A=_o(s,a,M,b),O=A.x,I=A.y;return{x:O,y:I,textAnchor:"middle",verticalAnchor:"middle"}},pWe=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,o=t.position,s=n,a=s.x,f=s.y,h=s.width,g=s.height,y=g>=0?1:-1,b=y*i,E=y>0?"end":"start",T=y>0?"start":"end",w=h>=0?1:-1,M=w*i,A=w>0?"end":"start",O=w>0?"start":"end";if(o==="top"){var I={x:a+h/2,y:f-y*i,textAnchor:"middle",verticalAnchor:E};return qi(qi({},I),r?{height:Math.max(f-r.y,0),width:h}:{})}if(o==="bottom"){var L={x:a+h/2,y:f+g+b,textAnchor:"middle",verticalAnchor:T};return qi(qi({},L),r?{height:Math.max(r.y+r.height-(f+g),0),width:h}:{})}if(o==="left"){var R={x:a-M,y:f+g/2,textAnchor:A,verticalAnchor:"middle"};return qi(qi({},R),r?{width:Math.max(R.x-r.x,0),height:g}:{})}if(o==="right"){var D={x:a+h+M,y:f+g/2,textAnchor:O,verticalAnchor:"middle"};return qi(qi({},D),r?{width:Math.max(r.x+r.width-D.x,0),height:g}:{})}var F=r?{width:h,height:g}:{};return o==="insideLeft"?qi({x:a+M,y:f+g/2,textAnchor:O,verticalAnchor:"middle"},F):o==="insideRight"?qi({x:a+h-M,y:f+g/2,textAnchor:A,verticalAnchor:"middle"},F):o==="insideTop"?qi({x:a+h/2,y:f+b,textAnchor:"middle",verticalAnchor:T},F):o==="insideBottom"?qi({x:a+h/2,y:f+g-b,textAnchor:"middle",verticalAnchor:E},F):o==="insideTopLeft"?qi({x:a+M,y:f+b,textAnchor:O,verticalAnchor:T},F):o==="insideTopRight"?qi({x:a+h-M,y:f+b,textAnchor:A,verticalAnchor:T},F):o==="insideBottomLeft"?qi({x:a+M,y:f+g-b,textAnchor:O,verticalAnchor:E},F):o==="insideBottomRight"?qi({x:a+h-M,y:f+g-b,textAnchor:A,verticalAnchor:E},F):Ng(o)&&(It(o.x)||Kf(o.x))&&(It(o.y)||Kf(o.y))?qi({x:a+Qm(o.x,h),y:f+Qm(o.y,g),textAnchor:"end",verticalAnchor:"end"},F):qi({x:a+h/2,y:f+g/2,textAnchor:"middle",verticalAnchor:"middle"},F)},mWe=function(t){return"cx"in t&&It(t.cx)};function Bo(e){var t=e.offset,n=t===void 0?5:t,r=oWe(e,QVe),i=qi({offset:n},r),o=i.viewBox,s=i.position,a=i.value,f=i.children,h=i.content,g=i.className,y=g===void 0?"":g,b=i.textBreakAll;if(!o||Xn(a)&&Xn(f)&&!U.isValidElement(h)&&!Fn(h))return null;if(U.isValidElement(h))return U.cloneElement(h,i);var E;if(Fn(h)){if(E=U.createElement(h,i),U.isValidElement(E))return E}else E=uWe(i);var T=mWe(o),w=Yn(i,!0);if(T&&(s==="insideStart"||s==="insideEnd"||s==="end"))return fWe(i,E,w);var M=T?hWe(i):pWe(i);return Pe.createElement(zS,Eb({className:st("recharts-label",y)},w,M,{breakAll:b}),E)}Bo.displayName="Label";var sZ=function(t){var n=t.cx,r=t.cy,i=t.angle,o=t.startAngle,s=t.endAngle,a=t.r,f=t.radius,h=t.innerRadius,g=t.outerRadius,y=t.x,b=t.y,E=t.top,T=t.left,w=t.width,M=t.height,A=t.clockWise,O=t.labelViewBox;if(O)return O;if(It(w)&&It(M)){if(It(y)&&It(b))return{x:y,y:b,width:w,height:M};if(It(E)&&It(T))return{x:E,y:T,width:w,height:M}}return It(y)&&It(b)?{x:y,y:b,width:0,height:0}:It(n)&&It(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:h||0,outerRadius:g||f||a||0,clockWise:A}:t.viewBox?t.viewBox:{}},gWe=function(t,n){return t?t===!0?Pe.createElement(Bo,{key:"label-implicit",viewBox:n}):Ki(t)?Pe.createElement(Bo,{key:"label-implicit",viewBox:n,value:t}):U.isValidElement(t)?t.type===Bo?U.cloneElement(t,{key:"label-implicit",viewBox:n}):Pe.createElement(Bo,{key:"label-implicit",content:t,viewBox:n}):Fn(t)?Pe.createElement(Bo,{key:"label-implicit",content:t,viewBox:n}):Ng(t)?Pe.createElement(Bo,Eb({viewBox:n},t,{key:"label-implicit"})):null:null},yWe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,o=sZ(t),s=Ws(i,Bo).map(function(f,h){return U.cloneElement(f,{viewBox:n||o,key:"label-".concat(h)})});if(!r)return s;var a=gWe(t.label,n||o);return[a].concat(eWe(s))};Bo.parseViewBox=sZ;Bo.renderCallByParent=yWe;function vWe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var bWe=vWe;const xWe=gr(bWe);function Pb(e){"@babel/helpers - typeof";return Pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pb(e)}var _We=["valueAccessor"],wWe=["data","dataKey","clockWise","id","textBreakAll"];function SWe(e){return EWe(e)||TWe(e)||kWe(e)||CWe()}function CWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kWe(e,t){if(e){if(typeof e=="string")return sI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sI(e,t)}}function TWe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EWe(e){if(Array.isArray(e))return sI(e)}function sI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function e2(){return e2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e2.apply(this,arguments)}function r8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function i8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r8(Object(n),!0).forEach(function(r){PWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PWe(e,t,n){return t=OWe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OWe(e){var t=MWe(e,"string");return Pb(t)==="symbol"?t:String(t)}function MWe(e,t){if(Pb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Pb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o8(e,t){if(e==null)return{};var n=AWe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function AWe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var IWe=function(t){return Array.isArray(t.value)?xWe(t.value):t.value};function Nd(e){var t=e.valueAccessor,n=t===void 0?IWe:t,r=o8(e,_We),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,f=r.textBreakAll,h=o8(r,wWe);return!i||!i.length?null:Pe.createElement(Ii,{className:"recharts-label-list"},i.map(function(g,y){var b=Xn(o)?n(g,y):ds(g&&g.payload,o),E=Xn(a)?{}:{id:"".concat(a,"-").concat(y)};return Pe.createElement(Bo,e2({},Yn(g,!0),h,E,{parentViewBox:g.parentViewBox,value:b,textBreakAll:f,viewBox:Bo.parseViewBox(Xn(s)?g:i8(i8({},g),{},{clockWise:s})),key:"label-".concat(y),index:y}))}))}Nd.displayName="LabelList";function $We(e,t){return e?e===!0?Pe.createElement(Nd,{key:"labelList-implicit",data:t}):Pe.isValidElement(e)||Fn(e)?Pe.createElement(Nd,{key:"labelList-implicit",data:t,content:e}):Ng(e)?Pe.createElement(Nd,e2({data:t},e,{key:"labelList-implicit"})):null:null}function RWe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=Ws(r,Nd).map(function(s,a){return U.cloneElement(s,{data:t,key:"labelList-".concat(a)})});if(!n)return i;var o=$We(e.label,t);return[o].concat(SWe(i))}Nd.renderCallByParent=RWe;function Ob(e){"@babel/helpers - typeof";return Ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ob(e)}function lI(){return lI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lI.apply(this,arguments)}function a8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function s8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a8(Object(n),!0).forEach(function(r){DWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DWe(e,t,n){return t=jWe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jWe(e){var t=LWe(e,"string");return Ob(t)==="symbol"?t:String(t)}function LWe(e,t){if(Ob(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ob(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NWe=function(t,n){var r=Ol(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},N1=function(t){var n=t.cx,r=t.cy,i=t.radius,o=t.angle,s=t.sign,a=t.isExternal,f=t.cornerRadius,h=t.cornerIsExternal,g=f*(a?1:-1)+i,y=Math.asin(f/g)/QS,b=h?o:o+s*y,E=_o(n,r,g,b),T=_o(n,r,i,b),w=h?o-s*y:o,M=_o(n,r,g*Math.cos(y*QS),w);return{center:E,circleTangency:T,lineTangency:M,theta:y}},lZ=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.startAngle,a=t.endAngle,f=NWe(s,a),h=s+f,g=_o(n,r,o,s),y=_o(n,r,o,h),b="M ".concat(g.x,",").concat(g.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(s>h),`,
    `).concat(y.x,",").concat(y.y,`
  `);if(i>0){var E=_o(n,r,i,s),T=_o(n,r,i,h);b+="L ".concat(T.x,",").concat(T.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(s<=h),`,
            `).concat(E.x,",").concat(E.y," Z")}else b+="L ".concat(n,",").concat(r," Z");return b},zWe=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,a=t.forceCornerRadius,f=t.cornerIsExternal,h=t.startAngle,g=t.endAngle,y=Ol(g-h),b=N1({cx:n,cy:r,radius:o,angle:h,sign:y,cornerRadius:s,cornerIsExternal:f}),E=b.circleTangency,T=b.lineTangency,w=b.theta,M=N1({cx:n,cy:r,radius:o,angle:g,sign:-y,cornerRadius:s,cornerIsExternal:f}),A=M.circleTangency,O=M.lineTangency,I=M.theta,L=f?Math.abs(h-g):Math.abs(h-g)-w-I;if(L<0)return a?"M ".concat(T.x,",").concat(T.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):lZ({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:h,endAngle:g});var R="M ".concat(T.x,",").concat(T.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(y<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(L>180),",").concat(+(y<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(y<0),",").concat(O.x,",").concat(O.y,`
  `);if(i>0){var D=N1({cx:n,cy:r,radius:i,angle:h,sign:y,isExternal:!0,cornerRadius:s,cornerIsExternal:f}),F=D.circleTangency,q=D.lineTangency,J=D.theta,K=N1({cx:n,cy:r,radius:i,angle:g,sign:-y,isExternal:!0,cornerRadius:s,cornerIsExternal:f}),ne=K.circleTangency,le=K.lineTangency,ye=K.theta,de=f?Math.abs(h-g):Math.abs(h-g)-J-ye;if(de<0&&s===0)return"".concat(R,"L").concat(n,",").concat(r,"Z");R+="L".concat(le.x,",").concat(le.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(y<0),",").concat(ne.x,",").concat(ne.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(de>180),",").concat(+(y>0),",").concat(F.x,",").concat(F.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(y<0),",").concat(q.x,",").concat(q.y,"Z")}else R+="L".concat(n,",").concat(r,"Z");return R},BWe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},cZ=function(t){var n=s8(s8({},BWe),t),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,f=n.forceCornerRadius,h=n.cornerIsExternal,g=n.startAngle,y=n.endAngle,b=n.className;if(s<o||g===y)return null;var E=st("recharts-sector",b),T=s-o,w=Qm(a,T,0,!0),M;return w>0&&Math.abs(g-y)<360?M=zWe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(w,T/2),forceCornerRadius:f,cornerIsExternal:h,startAngle:g,endAngle:y}):M=lZ({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:g,endAngle:y}),Pe.createElement("path",lI({},Yn(n,!0),{className:E,d:M,role:"img"}))};function Mb(e){"@babel/helpers - typeof";return Mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mb(e)}function cI(){return cI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cI.apply(this,arguments)}function l8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function c8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l8(Object(n),!0).forEach(function(r){FWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FWe(e,t,n){return t=UWe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UWe(e){var t=VWe(e,"string");return Mb(t)==="symbol"?t:String(t)}function VWe(e,t){if(Mb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Mb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u8={curveBasisClosed:x$e,curveBasisOpen:_$e,curveBasis:b$e,curveBumpX:o$e,curveBumpY:a$e,curveLinearClosed:w$e,curveLinear:Mk,curveMonotoneX:S$e,curveMonotoneY:C$e,curveNatural:k$e,curveStep:T$e,curveStepAfter:P$e,curveStepBefore:E$e},z1=function(t){return t.x===+t.x&&t.y===+t.y},jv=function(t){return t.x},Lv=function(t){return t.y},WWe=function(t,n){if(Fn(t))return t;var r="curve".concat(Pk(t));return(r==="curveMonotone"||r==="curveBump")&&n?u8["".concat(r).concat(n==="vertical"?"Y":"X")]:u8[r]||Mk},qWe=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,o=i===void 0?[]:i,s=t.baseLine,a=t.layout,f=t.connectNulls,h=f===void 0?!1:f,g=WWe(r,a),y=h?o.filter(function(w){return z1(w)}):o,b;if(Array.isArray(s)){var E=h?s.filter(function(w){return z1(w)}):s,T=y.map(function(w,M){return c8(c8({},w),{},{base:E[M]})});return a==="vertical"?b=P1().y(Lv).x1(jv).x0(function(w){return w.base.x}):b=P1().x(jv).y1(Lv).y0(function(w){return w.base.y}),b.defined(z1).curve(g),b(T)}return a==="vertical"&&It(s)?b=P1().y(Lv).x1(jv).x0(s):It(s)?b=P1().x(jv).y1(Lv).y0(s):b=sY().x(jv).y(Lv),b.defined(z1).curve(g),b(y)},uI=function(t){var n=t.className,r=t.points,i=t.path,o=t.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?qWe(t):i;return Pe.createElement("path",cI({},Yn(t),xS(t),{className:st("recharts-curve",n),d:s,ref:o}))};function Ab(e){"@babel/helpers - typeof";return Ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ab(e)}function t2(){return t2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t2.apply(this,arguments)}function HWe(e,t){return ZWe(e)||KWe(e,t)||YWe(e,t)||GWe()}function GWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YWe(e,t){if(e){if(typeof e=="string")return d8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d8(e,t)}}function d8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KWe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function ZWe(e){if(Array.isArray(e))return e}function f8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function h8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f8(Object(n),!0).forEach(function(r){XWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XWe(e,t,n){return t=JWe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JWe(e){var t=QWe(e,"string");return Ab(t)==="symbol"?t:String(t)}function QWe(e,t){if(Ab(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ab(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p8=function(t,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,f=r>=0?1:-1,h=i>=0&&r>=0||i<0&&r<0?1:0,g;if(s>0&&o instanceof Array){for(var y=[0,0,0,0],b=0,E=4;b<E;b++)y[b]=o[b]>s?s:o[b];g="M".concat(t,",").concat(n+a*y[0]),y[0]>0&&(g+="A ".concat(y[0],",").concat(y[0],",0,0,").concat(h,",").concat(t+f*y[0],",").concat(n)),g+="L ".concat(t+r-f*y[1],",").concat(n),y[1]>0&&(g+="A ".concat(y[1],",").concat(y[1],",0,0,").concat(h,`,
        `).concat(t+r,",").concat(n+a*y[1])),g+="L ".concat(t+r,",").concat(n+i-a*y[2]),y[2]>0&&(g+="A ".concat(y[2],",").concat(y[2],",0,0,").concat(h,`,
        `).concat(t+r-f*y[2],",").concat(n+i)),g+="L ".concat(t+f*y[3],",").concat(n+i),y[3]>0&&(g+="A ".concat(y[3],",").concat(y[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(n+i-a*y[3])),g+="Z"}else if(s>0&&o===+o&&o>0){var T=Math.min(s,o);g="M ".concat(t,",").concat(n+a*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(h,",").concat(t+f*T,",").concat(n,`
            L `).concat(t+r-f*T,",").concat(n,`
            A `).concat(T,",").concat(T,",0,0,").concat(h,",").concat(t+r,",").concat(n+a*T,`
            L `).concat(t+r,",").concat(n+i-a*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(h,",").concat(t+r-f*T,",").concat(n+i,`
            L `).concat(t+f*T,",").concat(n+i,`
            A `).concat(T,",").concat(T,",0,0,").concat(h,",").concat(t,",").concat(n+i-a*T," Z")}else g="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return g},e9e=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,o=n.x,s=n.y,a=n.width,f=n.height;if(Math.abs(a)>0&&Math.abs(f)>0){var h=Math.min(o,o+a),g=Math.max(o,o+a),y=Math.min(s,s+f),b=Math.max(s,s+f);return r>=h&&r<=g&&i>=y&&i<=b}return!1},t9e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rL=function(t){var n=h8(h8({},t9e),t),r=U.useRef(),i=U.useState(-1),o=HWe(i,2),s=o[0],a=o[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var L=r.current.getTotalLength();L&&a(L)}catch{}},[]);var f=n.x,h=n.y,g=n.width,y=n.height,b=n.radius,E=n.className,T=n.animationEasing,w=n.animationDuration,M=n.animationBegin,A=n.isAnimationActive,O=n.isUpdateAnimationActive;if(f!==+f||h!==+h||g!==+g||y!==+y||g===0||y===0)return null;var I=st("recharts-rectangle",E);return O?Pe.createElement(yu,{canBegin:s>0,from:{width:g,height:y,x:f,y:h},to:{width:g,height:y,x:f,y:h},duration:w,animationEasing:T,isActive:O},function(L){var R=L.width,D=L.height,F=L.x,q=L.y;return Pe.createElement(yu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:M,duration:w,isActive:A,easing:T},Pe.createElement("path",t2({},Yn(n,!0),{className:I,d:p8(F,q,R,D,b),ref:r})))}):Pe.createElement("path",t2({},Yn(n,!0),{className:I,d:p8(f,h,g,y,b)}))};function dI(){return dI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dI.apply(this,arguments)}var iL=function(t){var n=t.cx,r=t.cy,i=t.r,o=t.className,s=st("recharts-dot",o);return n===+n&&r===+r&&i===+i?Pe.createElement("circle",dI({},Yn(t),xS(t),{className:s,cx:n,cy:r,r:i})):null};function Ib(e){"@babel/helpers - typeof";return Ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ib(e)}var n9e=["x","y","top","left","width","height","className"];function fI(){return fI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fI.apply(this,arguments)}function m8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function r9e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m8(Object(n),!0).forEach(function(r){i9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i9e(e,t,n){return t=o9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o9e(e){var t=a9e(e,"string");return Ib(t)==="symbol"?t:String(t)}function a9e(e,t){if(Ib(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ib(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s9e(e,t){if(e==null)return{};var n=l9e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function l9e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var c9e=function(t,n,r,i,o,s){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},u9e=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,s=t.top,a=s===void 0?0:s,f=t.left,h=f===void 0?0:f,g=t.width,y=g===void 0?0:g,b=t.height,E=b===void 0?0:b,T=t.className,w=s9e(t,n9e),M=r9e({x:r,y:o,top:a,left:h,width:y,height:E},w);return!It(r)||!It(o)||!It(y)||!It(E)||!It(a)||!It(h)?null:Pe.createElement("path",fI({},Yn(M,!0),{className:st("recharts-cross",T),d:c9e(r,o,y,E,a,h)}))},d9e=MY,f9e=d9e(Object.getPrototypeOf,Object),h9e=f9e,p9e=Ou,m9e=h9e,g9e=Mu,y9e="[object Object]",v9e=Function.prototype,b9e=Object.prototype,uZ=v9e.toString,x9e=b9e.hasOwnProperty,_9e=uZ.call(Object);function w9e(e){if(!g9e(e)||p9e(e)!=y9e)return!1;var t=m9e(e);if(t===null)return!0;var n=x9e.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&uZ.call(n)==_9e}var S9e=w9e;const C9e=gr(S9e);var k9e=Ou,T9e=Mu,E9e="[object Boolean]";function P9e(e){return e===!0||e===!1||T9e(e)&&k9e(e)==E9e}var O9e=P9e;const M9e=gr(O9e);function $b(e){"@babel/helpers - typeof";return $b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$b(e)}function n2(){return n2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n2.apply(this,arguments)}function A9e(e,t){return D9e(e)||R9e(e,t)||$9e(e,t)||I9e()}function I9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $9e(e,t){if(e){if(typeof e=="string")return g8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g8(e,t)}}function g8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R9e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function D9e(e){if(Array.isArray(e))return e}function y8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function v8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y8(Object(n),!0).forEach(function(r){j9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j9e(e,t,n){return t=L9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L9e(e){var t=N9e(e,"string");return $b(t)==="symbol"?t:String(t)}function N9e(e,t){if($b(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($b(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b8=function(t,n,r,i,o){var s=r-i,a;return a="M ".concat(t,",").concat(n),a+="L ".concat(t+r,",").concat(n),a+="L ".concat(t+r-s/2,",").concat(n+o),a+="L ".concat(t+r-s/2-i,",").concat(n+o),a+="L ".concat(t,",").concat(n," Z"),a},z9e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},B9e=function(t){var n=v8(v8({},z9e),t),r=U.useRef(),i=U.useState(-1),o=A9e(i,2),s=o[0],a=o[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var I=r.current.getTotalLength();I&&a(I)}catch{}},[]);var f=n.x,h=n.y,g=n.upperWidth,y=n.lowerWidth,b=n.height,E=n.className,T=n.animationEasing,w=n.animationDuration,M=n.animationBegin,A=n.isUpdateAnimationActive;if(f!==+f||h!==+h||g!==+g||y!==+y||b!==+b||g===0&&y===0||b===0)return null;var O=st("recharts-trapezoid",E);return A?Pe.createElement(yu,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:b,x:f,y:h},to:{upperWidth:g,lowerWidth:y,height:b,x:f,y:h},duration:w,animationEasing:T,isActive:A},function(I){var L=I.upperWidth,R=I.lowerWidth,D=I.height,F=I.x,q=I.y;return Pe.createElement(yu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:M,duration:w,easing:T},Pe.createElement("path",n2({},Yn(n,!0),{className:O,d:b8(F,q,L,R,D),ref:r})))}):Pe.createElement("g",null,Pe.createElement("path",n2({},Yn(n,!0),{className:O,d:b8(f,h,g,y,b)})))},F9e=["option","shapeType","propTransformer","activeClassName","isActive"];function Rb(e){"@babel/helpers - typeof";return Rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rb(e)}function U9e(e,t){if(e==null)return{};var n=V9e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function V9e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function x8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function r2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x8(Object(n),!0).forEach(function(r){W9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W9e(e,t,n){return t=q9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q9e(e){var t=H9e(e,"string");return Rb(t)==="symbol"?t:String(t)}function H9e(e,t){if(Rb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G9e(e,t){return r2(r2({},t),e)}function Y9e(e,t){return e==="symbols"}function _8(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return Pe.createElement(rL,n);case"trapezoid":return Pe.createElement(B9e,n);case"sector":return Pe.createElement(cZ,n);case"symbols":if(Y9e(t))return Pe.createElement(wj,n);break;default:return null}}function K9e(e){return U.isValidElement(e)?e.props:e}function Z9e(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?G9e:r,o=e.activeClassName,s=o===void 0?"recharts-active-shape":o,a=e.isActive,f=U9e(e,F9e),h;if(U.isValidElement(t))h=U.cloneElement(t,r2(r2({},f),K9e(t)));else if(Fn(t))h=t(f);else if(C9e(t)&&!M9e(t)){var g=i(t,f);h=Pe.createElement(_8,{shapeType:n,elementProps:g})}else{var y=f;h=Pe.createElement(_8,{shapeType:n,elementProps:y})}return a?Pe.createElement(Ii,{className:s},h):h}function Hk(e,t){return t!=null&&"trapezoids"in e.props}function Gk(e,t){return t!=null&&"sectors"in e.props}function Db(e,t){return t!=null&&"points"in e.props}function X9e(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,o=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&o}function J9e(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function Q9e(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function e7e(e,t){var n;return Hk(e,t)?n=X9e:Gk(e,t)?n=J9e:Db(e,t)&&(n=Q9e),n}function t7e(e,t){var n;return Hk(e,t)?n="trapezoids":Gk(e,t)?n="sectors":Db(e,t)&&(n="points"),n}function n7e(e,t){if(Hk(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Gk(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Db(e,t)?t.payload:{}}function r7e(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=t7e(n,t),o=n7e(n,t),s=r.filter(function(f,h){var g=Vk(o,f),y=n.props[i].filter(function(T){var w=e7e(n,t);return w(T,t)}),b=n.props[i].indexOf(y[y.length-1]),E=h===b;return g&&E}),a=r.indexOf(s[s.length-1]);return a}var i7e=Math.ceil,o7e=Math.max;function a7e(e,t,n,r){for(var i=-1,o=o7e(i7e((t-e)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=e,e+=n;return s}var s7e=a7e,l7e=eK,w8=1/0,c7e=17976931348623157e292;function u7e(e){if(!e)return e===0?e:0;if(e=l7e(e),e===w8||e===-w8){var t=e<0?-1:1;return t*c7e}return e===e?e:0}var dZ=u7e,d7e=s7e,f7e=Rk,vO=dZ;function h7e(e){return function(t,n,r){return r&&typeof r!="number"&&f7e(t,n,r)&&(n=r=void 0),t=vO(t),n===void 0?(n=t,t=0):n=vO(n),r=r===void 0?t<n?1:-1:vO(r),d7e(t,n,r,e)}}var p7e=h7e,m7e=p7e,g7e=m7e(),y7e=g7e;const i2=gr(y7e);function jb(e){"@babel/helpers - typeof";return jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jb(e)}function S8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function C8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(n),!0).forEach(function(r){fZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fZ(e,t,n){return t=v7e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v7e(e){var t=b7e(e,"string");return jb(t)==="symbol"?t:String(t)}function b7e(e,t){if(jb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(jb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x7e=["Webkit","Moz","O","ms"],_7e=function(t,n){if(!t)return null;var r=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=x7e.reduce(function(o,s){return C8(C8({},o),{},fZ({},s+r,n))},{});return i[t]=n,i};function dg(e){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dg(e)}function o2(){return o2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o2.apply(this,arguments)}function k8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k8(Object(n),!0).forEach(function(r){Ka(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function w7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hZ(r.key),r)}}function S7e(e,t,n){return t&&T8(e.prototype,t),n&&T8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function C7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hI(e,t)}function hI(e,t){return hI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hI(e,t)}function k7e(e){var t=E7e();return function(){var r=a2(e),i;if(t){var o=a2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return T7e(this,i)}}function T7e(e,t){if(t&&(dg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zl(e)}function Zl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E7e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function a2(e){return a2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},a2(e)}function Ka(e,t,n){return t=hZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hZ(e){var t=P7e(e,"string");return dg(t)==="symbol"?t:String(t)}function P7e(e,t){if(dg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(dg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O7e=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,o=t.x,s=t.width,a=t.travellerWidth;if(!n||!n.length)return{};var f=n.length,h=x0().domain(i2(0,f)).range([o,o+s-a]),g=h.domain().map(function(y){return h(y)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(r),endX:h(i),scale:h,scaleValues:g}},E8=function(t){return t.changedTouches&&!!t.changedTouches.length},Lb=function(e){C7e(n,e);var t=k7e(n);function n(r){var i;return w7e(this,n),i=t.call(this,r),Ka(Zl(i),"handleDrag",function(o){i.leaveTimer&&(clearTimeout(i.leaveTimer),i.leaveTimer=null),i.state.isTravellerMoving?i.handleTravellerMove(o):i.state.isSlideMoving&&i.handleSlideDrag(o)}),Ka(Zl(i),"handleTouchMove",function(o){o.changedTouches!=null&&o.changedTouches.length>0&&i.handleDrag(o.changedTouches[0])}),Ka(Zl(i),"handleDragEnd",function(){i.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var o=i.props,s=o.endIndex,a=o.onDragEnd,f=o.startIndex;a==null||a({endIndex:s,startIndex:f})}),i.detachDragEndListener()}),Ka(Zl(i),"handleLeaveWrapper",function(){(i.state.isTravellerMoving||i.state.isSlideMoving)&&(i.leaveTimer=window.setTimeout(i.handleDragEnd,i.props.leaveTimeOut))}),Ka(Zl(i),"handleEnterSlideOrTraveller",function(){i.setState({isTextActive:!0})}),Ka(Zl(i),"handleLeaveSlideOrTraveller",function(){i.setState({isTextActive:!1})}),Ka(Zl(i),"handleSlideDragStart",function(o){var s=E8(o)?o.changedTouches[0]:o;i.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),i.attachDragEndListener()}),i.travellerDragStartHandlers={startX:i.handleTravellerDragStart.bind(Zl(i),"startX"),endX:i.handleTravellerDragStart.bind(Zl(i),"endX")},i.state={},i}return S7e(n,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(i){var o=i.startX,s=i.endX,a=this.state.scaleValues,f=this.props,h=f.gap,g=f.data,y=g.length-1,b=Math.min(o,s),E=Math.max(o,s),T=n.getIndexInRange(a,b),w=n.getIndexInRange(a,E);return{startIndex:T-T%h,endIndex:w===y?y:w-w%h}}},{key:"getTextOfTick",value:function(i){var o=this.props,s=o.data,a=o.tickFormatter,f=o.dataKey,h=ds(s[i],f,i);return Fn(a)?a(h,i):h}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(i){var o=this.state,s=o.slideMoveStartX,a=o.startX,f=o.endX,h=this.props,g=h.x,y=h.width,b=h.travellerWidth,E=h.startIndex,T=h.endIndex,w=h.onChange,M=i.pageX-s;M>0?M=Math.min(M,g+y-b-f,g+y-b-a):M<0&&(M=Math.max(M,g-a,g-f));var A=this.getIndex({startX:a+M,endX:f+M});(A.startIndex!==E||A.endIndex!==T)&&w&&w(A),this.setState({startX:a+M,endX:f+M,slideMoveStartX:i.pageX})}},{key:"handleTravellerDragStart",value:function(i,o){var s=E8(o)?o.changedTouches[0]:o;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:i,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(i){var o,s=this.state,a=s.brushMoveStartX,f=s.movingTravellerId,h=s.endX,g=s.startX,y=this.state[f],b=this.props,E=b.x,T=b.width,w=b.travellerWidth,M=b.onChange,A=b.gap,O=b.data,I={startX:this.state.startX,endX:this.state.endX},L=i.pageX-a;L>0?L=Math.min(L,E+T-w-y):L<0&&(L=Math.max(L,E-y)),I[f]=y+L;var R=this.getIndex(I),D=R.startIndex,F=R.endIndex,q=function(){var K=O.length-1;return f==="startX"&&(h>g?D%A===0:F%A===0)||h<g&&F===K||f==="endX"&&(h>g?F%A===0:D%A===0)||h>g&&F===K};this.setState((o={},Ka(o,f,y+L),Ka(o,"brushMoveStartX",i.pageX),o),function(){M&&q()&&M(R)})}},{key:"handleTravellerMoveKeyboard",value:function(i,o){var s=this,a=this.state,f=a.scaleValues,h=a.startX,g=a.endX,y=this.state[o],b=f.indexOf(y);if(b!==-1){var E=b+i;if(!(E===-1||E>=f.length)){var T=f[E];o==="startX"&&T>=g||o==="endX"&&T<=h||this.setState(Ka({},o,T),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,f=i.height,h=i.fill,g=i.stroke;return Pe.createElement("rect",{stroke:g,fill:h,x:o,y:s,width:a,height:f})}},{key:"renderPanorama",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,f=i.height,h=i.data,g=i.children,y=i.padding,b=U.Children.only(g);return b?Pe.cloneElement(b,{x:o,y:s,width:a,height:f,margin:y,compact:!0,data:h}):null}},{key:"renderTravellerLayer",value:function(i,o){var s=this,a=this.props,f=a.y,h=a.travellerWidth,g=a.height,y=a.traveller,b=a.ariaLabel,E=a.data,T=a.startIndex,w=a.endIndex,M=Math.max(i,this.props.x),A=bO(bO({},Yn(this.props)),{},{x:M,y:f,width:h,height:g}),O=b||"Min value: ".concat(E[T].name,", Max value: ").concat(E[w].name);return Pe.createElement(Ii,{tabIndex:0,role:"slider","aria-label":O,"aria-valuenow":i,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[o],onTouchStart:this.travellerDragStartHandlers[o],onKeyDown:function(L){["ArrowLeft","ArrowRight"].includes(L.key)&&(L.preventDefault(),L.stopPropagation(),s.handleTravellerMoveKeyboard(L.key==="ArrowRight"?1:-1,o))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},n.renderTraveller(y,A))}},{key:"renderSlide",value:function(i,o){var s=this.props,a=s.y,f=s.height,h=s.stroke,g=s.travellerWidth,y=Math.min(i,o)+g,b=Math.max(Math.abs(o-i)-g,0);return Pe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:h,fillOpacity:.2,x:y,y:a,width:b,height:f})}},{key:"renderText",value:function(){var i=this.props,o=i.startIndex,s=i.endIndex,a=i.y,f=i.height,h=i.travellerWidth,g=i.stroke,y=this.state,b=y.startX,E=y.endX,T=5,w={pointerEvents:"none",fill:g};return Pe.createElement(Ii,{className:"recharts-brush-texts"},Pe.createElement(zS,o2({textAnchor:"end",verticalAnchor:"middle",x:Math.min(b,E)-T,y:a+f/2},w),this.getTextOfTick(o)),Pe.createElement(zS,o2({textAnchor:"start",verticalAnchor:"middle",x:Math.max(b,E)+h+T,y:a+f/2},w),this.getTextOfTick(s)))}},{key:"render",value:function(){var i=this.props,o=i.data,s=i.className,a=i.children,f=i.x,h=i.y,g=i.width,y=i.height,b=i.alwaysShowText,E=this.state,T=E.startX,w=E.endX,M=E.isTextActive,A=E.isSlideMoving,O=E.isTravellerMoving,I=E.isTravellerFocused;if(!o||!o.length||!It(f)||!It(h)||!It(g)||!It(y)||g<=0||y<=0)return null;var L=st("recharts-brush",s),R=Pe.Children.count(a)===1,D=_7e("userSelect","none");return Pe.createElement(Ii,{className:L,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:D},this.renderBackground(),R&&this.renderPanorama(),this.renderSlide(T,w),this.renderTravellerLayer(T,"startX"),this.renderTravellerLayer(w,"endX"),(M||A||O||I||b)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(i){var o=i.x,s=i.y,a=i.width,f=i.height,h=i.stroke,g=Math.floor(s+f/2)-1;return Pe.createElement(Pe.Fragment,null,Pe.createElement("rect",{x:o,y:s,width:a,height:f,fill:h,stroke:"none"}),Pe.createElement("line",{x1:o+1,y1:g,x2:o+a-1,y2:g,fill:"none",stroke:"#fff"}),Pe.createElement("line",{x1:o+1,y1:g+2,x2:o+a-1,y2:g+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(i,o){var s;return Pe.isValidElement(i)?s=Pe.cloneElement(i,o):Fn(i)?s=i(o):s=n.renderDefaultTraveller(o),s}},{key:"getDerivedStateFromProps",value:function(i,o){var s=i.data,a=i.width,f=i.x,h=i.travellerWidth,g=i.updateId,y=i.startIndex,b=i.endIndex;if(s!==o.prevData||g!==o.prevUpdateId)return bO({prevData:s,prevTravellerWidth:h,prevUpdateId:g,prevX:f,prevWidth:a},s&&s.length?O7e({data:s,width:a,x:f,travellerWidth:h,startIndex:y,endIndex:b}):{scale:null,scaleValues:null});if(o.scale&&(a!==o.prevWidth||f!==o.prevX||h!==o.prevTravellerWidth)){o.scale.range([f,f+a-h]);var E=o.scale.domain().map(function(T){return o.scale(T)});return{prevData:s,prevTravellerWidth:h,prevUpdateId:g,prevX:f,prevWidth:a,startX:o.scale(i.startIndex),endX:o.scale(i.endIndex),scaleValues:E}}return null}},{key:"getIndexInRange",value:function(i,o){for(var s=i.length,a=0,f=s-1;f-a>1;){var h=Math.floor((a+f)/2);i[h]>o?f=h:a=h}return o>=i[f]?f:a}}]),n}(U.PureComponent);Ka(Lb,"displayName","Brush");Ka(Lb,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var M7e=Oj;function A7e(e,t){var n;return M7e(e,function(r,i,o){return n=t(r,i,o),!n}),!!n}var I7e=A7e,$7e=wY,R7e=ef,D7e=I7e,j7e=Ua,L7e=Rk;function N7e(e,t,n){var r=j7e(e)?$7e:D7e;return n&&L7e(e,t,n)&&(t=void 0),r(e,R7e(t))}var z7e=N7e;const B7e=gr(z7e);var dc=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},P8=WY;function F7e(e,t,n){t=="__proto__"&&P8?P8(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var U7e=F7e,V7e=U7e,W7e=UY,q7e=ef;function H7e(e,t){var n={};return t=q7e(t),W7e(e,function(r,i,o){V7e(n,i,t(r,i,o))}),n}var G7e=H7e;const Y7e=gr(G7e);function K7e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var Z7e=K7e,X7e=Oj;function J7e(e,t){var n=!0;return X7e(e,function(r,i,o){return n=!!t(r,i,o),n}),n}var Q7e=J7e,eqe=Z7e,tqe=Q7e,nqe=ef,rqe=Ua,iqe=Rk;function oqe(e,t,n){var r=rqe(e)?eqe:tqe;return n&&iqe(e,t,n)&&(t=void 0),r(e,nqe(t))}var aqe=oqe;const pZ=gr(aqe);function Nb(e){"@babel/helpers - typeof";return Nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nb(e)}var sqe=["x","y"];function pI(){return pI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pI.apply(this,arguments)}function O8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O8(Object(n),!0).forEach(function(r){lqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lqe(e,t,n){return t=cqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cqe(e){var t=uqe(e,"string");return Nb(t)==="symbol"?t:String(t)}function uqe(e,t){if(Nb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Nb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dqe(e,t){if(e==null)return{};var n=fqe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function fqe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function hqe(e,t){var n=e.x,r=e.y,i=dqe(e,sqe),o="".concat(n),s=parseInt(o,10),a="".concat(r),f=parseInt(a,10),h="".concat(t.height||i.height),g=parseInt(h,10),y="".concat(t.width||i.width),b=parseInt(y,10);return Nv(Nv(Nv(Nv(Nv({},t),i),s?{x:s}:{}),f?{y:f}:{}),{},{height:g,width:b,name:t.name,radius:t.radius})}function M8(e){return Pe.createElement(Z9e,pI({shapeType:"rectangle",propTransformer:hqe,activeClassName:"recharts-active-bar"},e))}var pqe=["value","background"];function fg(e){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(e)}function mqe(e,t){if(e==null)return{};var n=gqe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gqe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function s2(){return s2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s2.apply(this,arguments)}function A8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ro(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A8(Object(n),!0).forEach(function(r){Sd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mZ(r.key),r)}}function vqe(e,t,n){return t&&I8(e.prototype,t),n&&I8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mI(e,t)}function mI(e,t){return mI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mI(e,t)}function xqe(e){var t=wqe();return function(){var r=l2(e),i;if(t){var o=l2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return _qe(this,i)}}function _qe(e,t){if(t&&(fg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zv(e)}function Zv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wqe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function l2(e){return l2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},l2(e)}function Sd(e,t,n){return t=mZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mZ(e){var t=Sqe(e,"string");return fg(t)==="symbol"?t:String(t)}function Sqe(e,t){if(fg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yk=function(e){bqe(n,e);var t=xqe(n);function n(){var r;yqe(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Sd(Zv(r),"state",{isAnimationFinished:!1}),Sd(Zv(r),"id",Sx("recharts-bar-")),Sd(Zv(r),"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),a&&a()}),Sd(Zv(r),"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),a&&a()}),r}return vqe(n,[{key:"renderRectanglesStatically",value:function(i){var o=this,s=this.props,a=s.shape,f=s.dataKey,h=s.activeIndex,g=s.activeBar,y=Yn(this.props);return i&&i.map(function(b,E){var T=E===h,w=T?g:a,M=ro(ro(ro({},y),b),{},{isActive:T,option:w,index:E,dataKey:f,onAnimationStart:o.handleAnimationStart,onAnimationEnd:o.handleAnimationEnd});return Pe.createElement(Ii,s2({className:"recharts-bar-rectangle"},_S(o.props,b,E),{key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value)}),Pe.createElement(M8,M))})}},{key:"renderRectanglesWithAnimation",value:function(){var i=this,o=this.props,s=o.data,a=o.layout,f=o.isAnimationActive,h=o.animationBegin,g=o.animationDuration,y=o.animationEasing,b=o.animationId,E=this.state.prevData;return Pe.createElement(yu,{begin:h,duration:g,isActive:f,easing:y,from:{t:0},to:{t:1},key:"bar-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var w=T.t,M=s.map(function(A,O){var I=E&&E[O];if(I){var L=kl(I.x,A.x),R=kl(I.y,A.y),D=kl(I.width,A.width),F=kl(I.height,A.height);return ro(ro({},A),{},{x:L(w),y:R(w),width:D(w),height:F(w)})}if(a==="horizontal"){var q=kl(0,A.height),J=q(w);return ro(ro({},A),{},{y:A.y+A.height-J,height:J})}var K=kl(0,A.width),ne=K(w);return ro(ro({},A),{},{width:ne})});return Pe.createElement(Ii,null,i.renderRectanglesStatically(M))})}},{key:"renderRectangles",value:function(){var i=this.props,o=i.data,s=i.isAnimationActive,a=this.state.prevData;return s&&o&&o.length&&(!a||!Vk(a,o))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(o)}},{key:"renderBackground",value:function(){var i=this,o=this.props,s=o.data,a=o.dataKey,f=o.activeIndex,h=Yn(this.props.background);return s.map(function(g,y){g.value;var b=g.background,E=mqe(g,pqe);if(!b)return null;var T=ro(ro(ro(ro(ro({},E),{},{fill:"#eee"},b),h),_S(i.props,g,y)),{},{onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd,dataKey:a,index:y,key:"background-bar-".concat(y),className:"recharts-bar-background-rectangle"});return Pe.createElement(M8,s2({option:i.props.background,isActive:y===f},T))})}},{key:"renderErrorBar",value:function(i,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,f=s.xAxis,h=s.yAxis,g=s.layout,y=s.children,b=Ws(y,Ox);if(!b)return null;var E=g==="vertical"?a[0].height/2:a[0].width/2,T=function(A,O){var I=Array.isArray(A.value)?A.value[1]:A.value;return{x:A.x,y:A.y,value:I,errorVal:ds(A,O)}},w={clipPath:i?"url(#clipPath-".concat(o,")"):null};return Pe.createElement(Ii,w,b.map(function(M){return Pe.cloneElement(M,{key:"error-bar-".concat(o,"-").concat(M.props.dataKey),data:a,xAxis:f,yAxis:h,layout:g,offset:E,dataPointFormatter:T})}))}},{key:"render",value:function(){var i=this.props,o=i.hide,s=i.data,a=i.className,f=i.xAxis,h=i.yAxis,g=i.left,y=i.top,b=i.width,E=i.height,T=i.isAnimationActive,w=i.background,M=i.id;if(o||!s||!s.length)return null;var A=this.state.isAnimationFinished,O=st("recharts-bar",a),I=f&&f.allowDataOverflow,L=h&&h.allowDataOverflow,R=I||L,D=Xn(M)?this.id:M;return Pe.createElement(Ii,{className:O},I||L?Pe.createElement("defs",null,Pe.createElement("clipPath",{id:"clipPath-".concat(D)},Pe.createElement("rect",{x:I?g:g-b/2,y:L?y:y-E/2,width:I?b:b*2,height:L?E:E*2}))):null,Pe.createElement(Ii,{className:"recharts-bar-rectangles",clipPath:R?"url(#clipPath-".concat(D,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(R,D),(!T||A)&&Nd.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curData:i.data,prevData:o.curData}:i.data!==o.curData?{curData:i.data}:null}}]),n}(U.PureComponent);Sd(Yk,"displayName","Bar");Sd(Yk,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!0,isAnimationActive:!ou.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Sd(Yk,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,s=e.yAxis,a=e.xAxisTicks,f=e.yAxisTicks,h=e.stackedData,g=e.dataStartIndex,y=e.displayedData,b=e.offset,E=RVe(r,n);if(!E)return null;var T=t.layout,w=n.props,M=w.dataKey,A=w.children,O=w.minPointSize,I=T==="horizontal"?s:o,L=h?I.scale.domain():null,R=UVe({numericAxis:I}),D=Ws(A,nK),F=y.map(function(q,J){var K,ne,le,ye,de,se;if(h?K=DVe(h[g+J],L):(K=ds(q,M),Array.isArray(K)||(K=[R,K])),T==="horizontal"){var pe,be=[s.scale(K[0]),s.scale(K[1])],ce=be[0],Ee=be[1];ne=K6({axis:o,ticks:a,bandSize:i,offset:E.offset,entry:q,index:J}),le=(pe=Ee??ce)!==null&&pe!==void 0?pe:void 0,ye=E.size;var Re=ce-Ee;if(de=Number.isNaN(Re)?0:Re,se={x:ne,y:s.y,width:ye,height:s.height},Math.abs(O)>0&&Math.abs(de)<Math.abs(O)){var Xe=Ol(de||O)*(Math.abs(O)-Math.abs(de));le-=Xe,de+=Xe}}else{var Ae=[o.scale(K[0]),o.scale(K[1])],Fe=Ae[0],qe=Ae[1];if(ne=Fe,le=K6({axis:s,ticks:f,bandSize:i,offset:E.offset,entry:q,index:J}),ye=qe-Fe,de=E.size,se={x:o.x,y:le,width:o.width,height:de},Math.abs(O)>0&&Math.abs(ye)<Math.abs(O)){var rt=Ol(ye||O)*(Math.abs(O)-Math.abs(ye));ye+=rt}}return ro(ro(ro({},q),{},{x:ne,y:le,width:ye,height:de,value:h?K:K[1],payload:q,background:se},D&&D[J]&&D[J].props),{},{tooltipPayload:[aZ(n,q)],tooltipPosition:{x:ne+ye/2,y:le+de/2}})});return ro({data:F,layout:T},b)});function zb(e){"@babel/helpers - typeof";return zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zb(e)}function Cqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gZ(r.key),r)}}function kqe(e,t,n){return t&&$8(e.prototype,t),n&&$8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function R8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R8(Object(n),!0).forEach(function(r){Kk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kk(e,t,n){return t=gZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gZ(e){var t=Tqe(e,"string");return zb(t)==="symbol"?t:String(t)}function Tqe(e,t){if(zb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eqe=function(t,n,r,i,o){var s=t.width,a=t.height,f=t.layout,h=t.children,g=Object.keys(n),y={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},b=!!Qc(h,Yk);return g.reduce(function(E,T){var w=n[T],M=w.orientation,A=w.domain,O=w.padding,I=O===void 0?{}:O,L=w.mirror,R=w.reversed,D="".concat(M).concat(L?"Mirror":""),F,q,J,K,ne;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var le=A[1]-A[0],ye=1/0,de=w.categoricalDomain.sort();de.forEach(function(qe,rt){rt>0&&(ye=Math.min((qe||0)-(de[rt-1]||0),ye))});var se=ye/le,pe=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(F=se*pe/2),w.padding==="no-gap"){var be=Qm(t.barCategoryGap,se*pe),ce=se*pe/2;F=ce-be-(ce-be)/pe*be}}i==="xAxis"?q=[r.left+(I.left||0)+(F||0),r.left+r.width-(I.right||0)-(F||0)]:i==="yAxis"?q=f==="horizontal"?[r.top+r.height-(I.bottom||0),r.top+(I.top||0)]:[r.top+(I.top||0)+(F||0),r.top+r.height-(I.bottom||0)-(F||0)]:q=w.range,R&&(q=[q[1],q[0]]);var Ee=IVe(w,o,b),Re=Ee.scale,Xe=Ee.realScaleType;Re.domain(A).range(q),$Ve(Re);var Ae=FVe(Re,xl(xl({},w),{},{realScaleType:Xe}));i==="xAxis"?(ne=M==="top"&&!L||M==="bottom"&&L,J=r.left,K=y[D]-ne*w.height):i==="yAxis"&&(ne=M==="left"&&!L||M==="right"&&L,J=y[D]-ne*w.width,K=r.top);var Fe=xl(xl(xl({},w),Ae),{},{realScaleType:Xe,x:J,y:K,scale:Re,width:i==="xAxis"?r.width:w.width,height:i==="yAxis"?r.height:w.height});return Fe.bandSize=JS(Fe,Ae),!w.hide&&i==="xAxis"?y[D]+=(ne?-1:1)*Fe.height:w.hide||(y[D]+=(ne?-1:1)*Fe.width),xl(xl({},E),{},Kk({},T,Fe))},{})},yZ=function(t,n){var r=t.x,i=t.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},Pqe=function(t){var n=t.x1,r=t.y1,i=t.x2,o=t.y2;return yZ({x:n,y:r},{x:i,y:o})},vZ=function(){function e(t){Cqe(this,e),this.scale=t}return kqe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+f}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}]),e}();Kk(vZ,"EPS",1e-4);var oL=function(t){var n=Object.keys(t).reduce(function(r,i){return xl(xl({},r),{},Kk({},i,vZ.create(t[i])))},{});return xl(xl({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return Y7e(i,function(f,h){return n[h].apply(f,{bandAware:s,position:a})})},isInRange:function(i){return pZ(i,function(o,s){return n[s].isInRange(o)})}})};function Oqe(e){return(e%180+180)%180}var Mqe=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Oqe(i),s=o*Math.PI/180,a=Math.atan(r/n),f=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(f)};function Bb(e){"@babel/helpers - typeof";return Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bb(e)}function D8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function j8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D8(Object(n),!0).forEach(function(r){Aqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Aqe(e,t,n){return t=Iqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iqe(e){var t=$qe(e,"string");return Bb(t)==="symbol"?t:String(t)}function $qe(e,t){if(Bb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rqe(e,t){return Nqe(e)||Lqe(e,t)||jqe(e,t)||Dqe()}function Dqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jqe(e,t){if(e){if(typeof e=="string")return L8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L8(e,t)}}function L8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lqe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function Nqe(e){if(Array.isArray(e))return e}function gI(){return gI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gI.apply(this,arguments)}var zqe=function(t,n){var r;return Pe.isValidElement(t)?r=Pe.cloneElement(t,n):Fn(t)?r=t(n):r=Pe.createElement("line",gI({},n,{className:"recharts-reference-line-line"})),r},Bqe=function(t,n,r,i,o){var s=o.viewBox,a=s.x,f=s.y,h=s.width,g=s.height,y=o.position;if(r){var b=o.y,E=o.yAxis.orientation,T=t.y.apply(b,{position:y});if(dc(o,"discard")&&!t.y.isInRange(T))return null;var w=[{x:a+h,y:T},{x:a,y:T}];return E==="left"?w.reverse():w}if(n){var M=o.x,A=o.xAxis.orientation,O=t.x.apply(M,{position:y});if(dc(o,"discard")&&!t.x.isInRange(O))return null;var I=[{x:O,y:f+g},{x:O,y:f}];return A==="top"?I.reverse():I}if(i){var L=o.segment,R=L.map(function(D){return t.apply(D,{position:y})});return dc(o,"discard")&&B7e(R,function(D){return!t.isInRange(D)})?null:R}return null};function aL(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxis,o=e.yAxis,s=e.shape,a=e.className,f=e.alwaysShow,h=e.clipPathId;ah(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=oL({x:i.scale,y:o.scale}),y=Ki(t),b=Ki(n),E=r&&r.length===2,T=Bqe(g,y,b,E,e);if(!T)return null;var w=Rqe(T,2),M=w[0],A=M.x,O=M.y,I=w[1],L=I.x,R=I.y,D=dc(e,"hidden")?"url(#".concat(h,")"):void 0,F=j8(j8({clipPath:D},Yn(e,!0)),{},{x1:A,y1:O,x2:L,y2:R});return Pe.createElement(Ii,{className:st("recharts-reference-line",a)},zqe(s,F),Bo.renderCallByParent(e,Pqe({x1:A,y1:O,x2:L,y2:R})))}aL.displayName="ReferenceLine";aL.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function Fb(e){"@babel/helpers - typeof";return Fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fb(e)}function yI(){return yI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yI.apply(this,arguments)}function N8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function z8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N8(Object(n),!0).forEach(function(r){Fqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fqe(e,t,n){return t=Uqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uqe(e){var t=Vqe(e,"string");return Fb(t)==="symbol"?t:String(t)}function Vqe(e,t){if(Fb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wqe=function(t){var n=t.x,r=t.y,i=t.xAxis,o=t.yAxis,s=oL({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return dc(t,"discard")&&!s.isInRange(a)?null:a};function Mx(e){var t=e.x,n=e.y,r=e.r,i=e.alwaysShow,o=e.clipPathId,s=Ki(t),a=Ki(n);if(ah(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!a)return null;var f=Wqe(e);if(!f)return null;var h=f.x,g=f.y,y=e.shape,b=e.className,E=dc(e,"hidden")?"url(#".concat(o,")"):void 0,T=z8(z8({clipPath:E},Yn(e,!0)),{},{cx:h,cy:g});return Pe.createElement(Ii,{className:st("recharts-reference-dot",b)},Mx.renderDot(y,T),Bo.renderCallByParent(e,{x:h-r,y:g-r,width:2*r,height:2*r}))}Mx.displayName="ReferenceDot";Mx.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};Mx.renderDot=function(e,t){var n;return Pe.isValidElement(e)?n=Pe.cloneElement(e,t):Fn(e)?n=e(t):n=Pe.createElement(iL,yI({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n};function Ub(e){"@babel/helpers - typeof";return Ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ub(e)}function vI(){return vI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vI.apply(this,arguments)}function B8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function F8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B8(Object(n),!0).forEach(function(r){qqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qqe(e,t,n){return t=Hqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hqe(e){var t=Gqe(e,"string");return Ub(t)==="symbol"?t:String(t)}function Gqe(e,t){if(Ub(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ub(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yqe=function(t,n,r,i,o){var s=o.x1,a=o.x2,f=o.y1,h=o.y2,g=o.xAxis,y=o.yAxis;if(!g||!y)return null;var b=oL({x:g.scale,y:y.scale}),E={x:t?b.x.apply(s,{position:"start"}):b.x.rangeMin,y:r?b.y.apply(f,{position:"start"}):b.y.rangeMin},T={x:n?b.x.apply(a,{position:"end"}):b.x.rangeMax,y:i?b.y.apply(h,{position:"end"}):b.y.rangeMax};return dc(o,"discard")&&(!b.isInRange(E)||!b.isInRange(T))?null:yZ(E,T)};function Ax(e){var t=e.x1,n=e.x2,r=e.y1,i=e.y2,o=e.className,s=e.alwaysShow,a=e.clipPathId;ah(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ki(t),h=Ki(n),g=Ki(r),y=Ki(i),b=e.shape;if(!f&&!h&&!g&&!y&&!b)return null;var E=Yqe(f,h,g,y,e);if(!E&&!b)return null;var T=dc(e,"hidden")?"url(#".concat(a,")"):void 0;return Pe.createElement(Ii,{className:st("recharts-reference-area",o)},Ax.renderRect(b,F8(F8({clipPath:T},Yn(e,!0)),E)),Bo.renderCallByParent(e,E))}Ax.displayName="ReferenceArea";Ax.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};Ax.renderRect=function(e,t){var n;return Pe.isValidElement(e)?n=Pe.cloneElement(e,t):Fn(e)?n=e(t):n=Pe.createElement(rL,vI({},t,{className:"recharts-reference-area-rect"})),n};function bZ(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)if(n===void 0||n(e[i])===!0)r.push(e[i]);else return;return r}function Kqe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Mqe(r,n)}function Zqe(e,t,n){var r=n==="width",i=e.x,o=e.y,s=e.width,a=e.height;return t===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function c2(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function Xqe(e,t){return bZ(e,t+1)}function Jqe(e,t,n,r,i){for(var o=(r||[]).slice(),s=t.start,a=t.end,f=0,h=1,g=s,y=function(){var T=r==null?void 0:r[f];if(T===void 0)return{v:bZ(r,h)};var w=f,M,A=function(){return M===void 0&&(M=n(T,w)),M},O=T.coordinate,I=f===0||c2(e,O,A,g,a);I||(f=0,g=s,h+=1),I&&(g=O+e*(A()/2+i),f+=h)},b;h<=o.length;)if(b=y(),b)return b.v;return[]}function Vb(e){"@babel/helpers - typeof";return Vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vb(e)}function U8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function No(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U8(Object(n),!0).forEach(function(r){Qqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qqe(e,t,n){return t=eHe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eHe(e){var t=tHe(e,"string");return Vb(t)==="symbol"?t:String(t)}function tHe(e,t){if(Vb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nHe(e,t,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=t.start,f=t.end,h=function(b){var E=o[b],T,w=function(){return T===void 0&&(T=n(E,b)),T};if(b===s-1){var M=e*(E.coordinate+e*w()/2-f);o[b]=E=No(No({},E),{},{tickCoord:M>0?E.coordinate-M*e:E.coordinate})}else o[b]=E=No(No({},E),{},{tickCoord:E.coordinate});var A=c2(e,E.tickCoord,w,a,f);A&&(f=E.tickCoord-e*(w()/2+i),o[b]=No(No({},E),{},{isShow:!0}))},g=s-1;g>=0;g--)h(g);return o}function rHe(e,t,n,r,i,o){var s=(r||[]).slice(),a=s.length,f=t.start,h=t.end;if(o){var g=r[a-1],y=n(g,a-1),b=e*(g.coordinate+e*y/2-h);s[a-1]=g=No(No({},g),{},{tickCoord:b>0?g.coordinate-b*e:g.coordinate});var E=c2(e,g.tickCoord,function(){return y},f,h);E&&(h=g.tickCoord-e*(y/2+i),s[a-1]=No(No({},g),{},{isShow:!0}))}for(var T=o?a-1:a,w=function(O){var I=s[O],L,R=function(){return L===void 0&&(L=n(I,O)),L};if(O===0){var D=e*(I.coordinate-e*R()/2-f);s[O]=I=No(No({},I),{},{tickCoord:D<0?I.coordinate-D*e:I.coordinate})}else s[O]=I=No(No({},I),{},{tickCoord:I.coordinate});var F=c2(e,I.tickCoord,R,f,h);F&&(f=I.tickCoord+e*(R()/2+i),s[O]=No(No({},I),{},{isShow:!0}))},M=0;M<T;M++)w(M);return s}function bI(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,s=e.minTickGap,a=e.orientation,f=e.interval,h=e.tickFormatter,g=e.unit,y=e.angle;if(!i||!i.length||!r)return[];if(It(f)||ou.isSsr)return Xqe(i,typeof f=="number"&&It(f)?f:0);var b=[],E=a==="top"||a==="bottom"?"width":"height",T=g&&E==="width"?b0(g,{fontSize:t,letterSpacing:n}):{width:0,height:0},w=function(I,L){var R=Fn(h)?h(I.value,L):I.value;return E==="width"?Kqe(b0(R,{fontSize:t,letterSpacing:n}),T,y):b0(R,{fontSize:t,letterSpacing:n})[E]},M=i.length>=2?Ol(i[1].coordinate-i[0].coordinate):1,A=Zqe(o,M,E);return f==="equidistantPreserveStart"?Jqe(M,A,w,i,s):(f==="preserveStart"||f==="preserveStartEnd"?b=rHe(M,A,w,i,s,f==="preserveStartEnd"):b=nHe(M,A,w,i,s),b.filter(function(O){return O.isShow}))}var iHe=["viewBox"],oHe=["viewBox"],aHe=["ticks"];function hg(e){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(e)}function lm(){return lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lm.apply(this,arguments)}function V8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V8(Object(n),!0).forEach(function(r){sL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xO(e,t){if(e==null)return{};var n=sHe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sHe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function lHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xZ(r.key),r)}}function cHe(e,t,n){return t&&W8(e.prototype,t),n&&W8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function uHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xI(e,t)}function xI(e,t){return xI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xI(e,t)}function dHe(e){var t=pHe();return function(){var r=u2(e),i;if(t){var o=u2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return fHe(this,i)}}function fHe(e,t){if(t&&(hg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hHe(e)}function hHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pHe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function u2(e){return u2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},u2(e)}function sL(e,t,n){return t=xZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xZ(e){var t=mHe(e,"string");return hg(t)==="symbol"?t:String(t)}function mHe(e,t){if(hg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w0=function(e){uHe(n,e);var t=dHe(n);function n(r){var i;return lHe(this,n),i=t.call(this,r),i.state={fontSize:"",letterSpacing:""},i}return cHe(n,[{key:"shouldComponentUpdate",value:function(i,o){var s=i.viewBox,a=xO(i,iHe),f=this.props,h=f.viewBox,g=xO(f,oHe);return!Em(s,h)||!Em(a,g)||!Em(o,this.state)}},{key:"componentDidMount",value:function(){var i=this.layerReference;if(i){var o=i.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];o&&this.setState({fontSize:window.getComputedStyle(o).fontSize,letterSpacing:window.getComputedStyle(o).letterSpacing})}}},{key:"getTickLineCoord",value:function(i){var o=this.props,s=o.x,a=o.y,f=o.width,h=o.height,g=o.orientation,y=o.tickSize,b=o.mirror,E=o.tickMargin,T,w,M,A,O,I,L=b?-1:1,R=i.tickSize||y,D=It(i.tickCoord)?i.tickCoord:i.coordinate;switch(g){case"top":T=w=i.coordinate,A=a+ +!b*h,M=A-L*R,I=M-L*E,O=D;break;case"left":M=A=i.coordinate,w=s+ +!b*f,T=w-L*R,O=T-L*E,I=D;break;case"right":M=A=i.coordinate,w=s+ +b*f,T=w+L*R,O=T+L*E,I=D;break;default:T=w=i.coordinate,A=a+ +b*h,M=A+L*R,I=M+L*E,O=D;break}return{line:{x1:T,y1:M,x2:w,y2:A},tick:{x:O,y:I}}}},{key:"getTickTextAnchor",value:function(){var i=this.props,o=i.orientation,s=i.mirror,a;switch(o){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var i=this.props,o=i.orientation,s=i.mirror,a="end";switch(o){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,f=i.height,h=i.orientation,g=i.mirror,y=i.axisLine,b=oa(oa(oa({},Yn(this.props)),Yn(y)),{},{fill:"none"});if(h==="top"||h==="bottom"){var E=+(h==="top"&&!g||h==="bottom"&&g);b=oa(oa({},b),{},{x1:o,y1:s+E*f,x2:o+a,y2:s+E*f})}else{var T=+(h==="left"&&!g||h==="right"&&g);b=oa(oa({},b),{},{x1:o+T*a,y1:s,x2:o+T*a,y2:s+f})}return Pe.createElement("line",lm({},b,{className:st("recharts-cartesian-axis-line",Vs(y,"className"))}))}},{key:"renderTicks",value:function(i,o,s){var a=this,f=this.props,h=f.tickLine,g=f.stroke,y=f.tick,b=f.tickFormatter,E=f.unit,T=bI(oa(oa({},this.props),{},{ticks:i}),o,s),w=this.getTickTextAnchor(),M=this.getTickVerticalAnchor(),A=Yn(this.props),O=Yn(y),I=oa(oa({},A),{},{fill:"none"},Yn(h)),L=T.map(function(R,D){var F=a.getTickLineCoord(R),q=F.line,J=F.tick,K=oa(oa(oa(oa({textAnchor:w,verticalAnchor:M},A),{},{stroke:"none",fill:g},O),J),{},{index:D,payload:R,visibleTicksCount:T.length,tickFormatter:b});return Pe.createElement(Ii,lm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},_S(a.props,R,D)),h&&Pe.createElement("line",lm({},I,q,{className:st("recharts-cartesian-axis-tick-line",Vs(h,"className"))})),y&&n.renderTickItem(y,K,"".concat(Fn(b)?b(R.value,D):R.value).concat(E||"")))});return Pe.createElement("g",{className:"recharts-cartesian-axis-ticks"},L)}},{key:"render",value:function(){var i=this,o=this.props,s=o.axisLine,a=o.width,f=o.height,h=o.ticksGenerator,g=o.className,y=o.hide;if(y)return null;var b=this.props,E=b.ticks,T=xO(b,aHe),w=E;return Fn(h)&&(w=E&&E.length>0?h(this.props):h(T)),a<=0||f<=0||!w||!w.length?null:Pe.createElement(Ii,{className:st("recharts-cartesian-axis",g),ref:function(A){i.layerReference=A}},s&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),Bo.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(i,o,s){var a;return Pe.isValidElement(i)?a=Pe.cloneElement(i,o):Fn(i)?a=i(o):a=Pe.createElement(zS,lm({},o,{className:"recharts-cartesian-axis-tick-value"}),s),a}}]),n}(U.Component);sL(w0,"displayName","CartesianAxis");sL(w0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var gHe=["x1","y1","x2","y2","key"],yHe=["offset"];function pg(e){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pg(e)}function _I(){return _I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_I.apply(this,arguments)}function q8(e,t){if(e==null)return{};var n=vHe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function vHe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function H8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H8(Object(n),!0).forEach(function(r){lL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_Z(r.key),r)}}function xHe(e,t,n){return t&&G8(e.prototype,t),n&&G8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _He(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wI(e,t)}function wI(e,t){return wI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wI(e,t)}function wHe(e){var t=kHe();return function(){var r=d2(e),i;if(t){var o=d2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return SHe(this,i)}}function SHe(e,t){if(t&&(pg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CHe(e)}function CHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kHe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function d2(e){return d2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},d2(e)}function lL(e,t,n){return t=_Z(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Z(e){var t=THe(e,"string");return pg(t)==="symbol"?t:String(t)}function THe(e,t){if(pg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cL=function(e){_He(n,e);var t=wHe(n);function n(){return bHe(this,n),t.apply(this,arguments)}return xHe(n,[{key:"renderHorizontal",value:function(i){var o=this,s=this.props,a=s.x,f=s.width,h=s.horizontal;if(!i||!i.length)return null;var g=i.map(function(y,b){var E=od(od({},o.props),{},{x1:a,y1:y,x2:a+f,y2:y,key:"line-".concat(b),index:b});return n.renderLineItem(h,E)});return Pe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},g)}},{key:"renderVertical",value:function(i){var o=this,s=this.props,a=s.y,f=s.height,h=s.vertical;if(!i||!i.length)return null;var g=i.map(function(y,b){var E=od(od({},o.props),{},{x1:y,y1:a,x2:y,y2:a+f,key:"line-".concat(b),index:b});return n.renderLineItem(h,E)});return Pe.createElement("g",{className:"recharts-cartesian-grid-vertical"},g)}},{key:"renderVerticalStripes",value:function(i){var o=this.props.verticalFill;if(!o||!o.length)return null;var s=this.props,a=s.fillOpacity,f=s.x,h=s.y,g=s.width,y=s.height,b=i.map(function(T){return Math.round(T+f-f)}).sort(function(T,w){return T-w});f!==b[0]&&b.unshift(0);var E=b.map(function(T,w){var M=!b[w+1],A=M?f+g-T:b[w+1]-T;if(A<=0)return null;var O=w%o.length;return Pe.createElement("rect",{key:"react-".concat(w),x:T,y:h,width:A,height:y,stroke:"none",fill:o[O],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Pe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},E)}},{key:"renderHorizontalStripes",value:function(i){var o=this.props.horizontalFill;if(!o||!o.length)return null;var s=this.props,a=s.fillOpacity,f=s.x,h=s.y,g=s.width,y=s.height,b=i.map(function(T){return Math.round(T+h-h)}).sort(function(T,w){return T-w});h!==b[0]&&b.unshift(0);var E=b.map(function(T,w){var M=!b[w+1],A=M?h+y-T:b[w+1]-T;if(A<=0)return null;var O=w%o.length;return Pe.createElement("rect",{key:"react-".concat(w),y:T,x:f,height:A,width:g,stroke:"none",fill:o[O],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Pe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},E)}},{key:"renderBackground",value:function(){var i=this.props.fill;if(!i||i==="none")return null;var o=this.props,s=o.fillOpacity,a=o.x,f=o.y,h=o.width,g=o.height;return Pe.createElement("rect",{x:a,y:f,width:h,height:g,stroke:"none",fill:i,fillOpacity:s,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,f=i.height,h=i.horizontal,g=i.vertical,y=i.horizontalCoordinatesGenerator,b=i.verticalCoordinatesGenerator,E=i.xAxis,T=i.yAxis,w=i.offset,M=i.chartWidth,A=i.chartHeight,O=i.syncWithTicks,I=i.horizontalValues,L=i.verticalValues;if(!It(a)||a<=0||!It(f)||f<=0||!It(o)||o!==+o||!It(s)||s!==+s)return null;var R=this.props,D=R.horizontalPoints,F=R.verticalPoints;if((!D||!D.length)&&Fn(y)){var q=I&&I.length;D=y({yAxis:T?od(od({},T),{},{ticks:q?I:T.ticks}):void 0,width:M,height:A,offset:w},q?!0:O)}if((!F||!F.length)&&Fn(b)){var J=L&&L.length;F=b({xAxis:E?od(od({},E),{},{ticks:J?L:E.ticks}):void 0,width:M,height:A,offset:w},J?!0:O)}return Pe.createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),h&&this.renderHorizontal(D),g&&this.renderVertical(F),h&&this.renderHorizontalStripes(D),g&&this.renderVerticalStripes(F))}}],[{key:"renderLineItem",value:function(i,o){var s;if(Pe.isValidElement(i))s=Pe.cloneElement(i,o);else if(Fn(i))s=i(o);else{var a=o.x1,f=o.y1,h=o.x2,g=o.y2,y=o.key,b=q8(o,gHe),E=Yn(b);E.offset;var T=q8(E,yHe);s=Pe.createElement("line",_I({},T,{x1:a,y1:f,x2:h,y2:g,fill:"none",key:y}))}return s}}]),n}(U.PureComponent);lL(cL,"displayName","CartesianGrid");lL(cL,"defaultProps",{horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]});var EHe=["type","layout","connectNulls","ref"];function mg(e){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mg(e)}function PHe(e,t){if(e==null)return{};var n=OHe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function OHe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S0.apply(this,arguments)}function Y8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ya(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y8(Object(n),!0).forEach(function(r){_l(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dp(e){return $He(e)||IHe(e)||AHe(e)||MHe()}function MHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AHe(e,t){if(e){if(typeof e=="string")return SI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SI(e,t)}}function IHe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $He(e){if(Array.isArray(e))return SI(e)}function SI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wZ(r.key),r)}}function DHe(e,t,n){return t&&K8(e.prototype,t),n&&K8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CI(e,t)}function CI(e,t){return CI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CI(e,t)}function LHe(e){var t=zHe();return function(){var r=f2(e),i;if(t){var o=f2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return NHe(this,i)}}function NHe(e,t){if(t&&(mg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cd(e)}function cd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zHe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f2(e){return f2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},f2(e)}function _l(e,t,n){return t=wZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wZ(e){var t=BHe(e,"string");return mg(t)==="symbol"?t:String(t)}function BHe(e,t){if(mg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gg=function(e){jHe(n,e);var t=LHe(n);function n(){var r;RHe(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),_l(cd(r),"state",{isAnimationFinished:!0,totalLength:0}),_l(cd(r),"generateSimpleStrokeDasharray",function(a,f){return"".concat(f,"px ").concat(a-f,"px")}),_l(cd(r),"getStrokeDasharray",function(a,f,h){var g=h.reduce(function(O,I){return O+I});if(!g)return r.generateSimpleStrokeDasharray(f,a);for(var y=Math.floor(a/g),b=a%g,E=f-a,T=[],w=0,M=0;w<h.length;M+=h[w],++w)if(M+h[w]>b){T=[].concat(Dp(h.slice(0,w)),[b-M]);break}var A=T.length%2===0?[0,E]:[E];return[].concat(Dp(n.repeat(h,y)),Dp(T),A).map(function(O){return"".concat(O,"px")}).join(", ")}),_l(cd(r),"id",Sx("recharts-line-")),_l(cd(r),"pathRef",function(a){r.mainCurve=a}),_l(cd(r),"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),_l(cd(r),"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return DHe(n,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();this.setState({totalLength:i})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();i!==this.state.totalLength&&this.setState({totalLength:i})}}},{key:"getTotalLength",value:function(){var i=this.mainCurve;try{return i&&i.getTotalLength&&i.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(i,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,f=s.xAxis,h=s.yAxis,g=s.layout,y=s.children,b=Ws(y,Ox);if(!b)return null;var E=function(M,A){return{x:M.x,y:M.y,value:M.value,errorVal:ds(M.payload,A)}},T={clipPath:i?"url(#clipPath-".concat(o,")"):null};return Pe.createElement(Ii,T,b.map(function(w){return Pe.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:a,xAxis:f,yAxis:h,layout:g,dataPointFormatter:E})}))}},{key:"renderDots",value:function(i,o,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var f=this.props,h=f.dot,g=f.points,y=f.dataKey,b=Yn(this.props),E=Yn(h,!0),T=g.map(function(M,A){var O=Ya(Ya(Ya({key:"dot-".concat(A),r:3},b),E),{},{value:M.value,dataKey:y,cx:M.x,cy:M.y,index:A,payload:M.payload});return n.renderDotItem(h,O)}),w={clipPath:i?"url(#clipPath-".concat(o?"":"dots-").concat(s,")"):null};return Pe.createElement(Ii,S0({className:"recharts-line-dots",key:"dots"},w),T)}},{key:"renderCurveStatically",value:function(i,o,s,a){var f=this.props,h=f.type,g=f.layout,y=f.connectNulls;f.ref;var b=PHe(f,EHe),E=Ya(Ya(Ya({},Yn(b,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:o?"url(#clipPath-".concat(s,")"):null,points:i},a),{},{type:h,layout:g,connectNulls:y});return Pe.createElement(uI,S0({},E,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(i,o){var s=this,a=this.props,f=a.points,h=a.strokeDasharray,g=a.isAnimationActive,y=a.animationBegin,b=a.animationDuration,E=a.animationEasing,T=a.animationId,w=a.animateNewValues,M=a.width,A=a.height,O=this.state,I=O.prevPoints,L=O.totalLength;return Pe.createElement(yu,{begin:y,duration:b,isActive:g,easing:E,from:{t:0},to:{t:1},key:"line-".concat(T),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(R){var D=R.t;if(I){var F=I.length/f.length,q=f.map(function(ye,de){var se=Math.floor(de*F);if(I[se]){var pe=I[se],be=kl(pe.x,ye.x),ce=kl(pe.y,ye.y);return Ya(Ya({},ye),{},{x:be(D),y:ce(D)})}if(w){var Ee=kl(M*2,ye.x),Re=kl(A/2,ye.y);return Ya(Ya({},ye),{},{x:Ee(D),y:Re(D)})}return Ya(Ya({},ye),{},{x:ye.x,y:ye.y})});return s.renderCurveStatically(q,i,o)}var J=kl(0,L),K=J(D),ne;if(h){var le="".concat(h).split(/[,\s]+/gim).map(function(ye){return parseFloat(ye)});ne=s.getStrokeDasharray(K,L,le)}else ne=s.generateSimpleStrokeDasharray(L,K);return s.renderCurveStatically(f,i,o,{strokeDasharray:ne})})}},{key:"renderCurve",value:function(i,o){var s=this.props,a=s.points,f=s.isAnimationActive,h=this.state,g=h.prevPoints,y=h.totalLength;return f&&a&&a.length&&(!g&&y>0||!Vk(g,a))?this.renderCurveWithAnimation(i,o):this.renderCurveStatically(a,i,o)}},{key:"render",value:function(){var i,o=this.props,s=o.hide,a=o.dot,f=o.points,h=o.className,g=o.xAxis,y=o.yAxis,b=o.top,E=o.left,T=o.width,w=o.height,M=o.isAnimationActive,A=o.id;if(s||!f||!f.length)return null;var O=this.state.isAnimationFinished,I=f.length===1,L=st("recharts-line",h),R=g&&g.allowDataOverflow,D=y&&y.allowDataOverflow,F=R||D,q=Xn(A)?this.id:A,J=(i=Yn(a))!==null&&i!==void 0?i:{r:3,strokeWidth:2},K=J.r,ne=K===void 0?3:K,le=J.strokeWidth,ye=le===void 0?2:le,de=nIe(a)?a:{},se=de.clipDot,pe=se===void 0?!0:se,be=ne*2+ye;return Pe.createElement(Ii,{className:L},R||D?Pe.createElement("defs",null,Pe.createElement("clipPath",{id:"clipPath-".concat(q)},Pe.createElement("rect",{x:R?E:E-T/2,y:D?b:b-w/2,width:R?T:T*2,height:D?w:w*2})),!pe&&Pe.createElement("clipPath",{id:"clipPath-dots-".concat(q)},Pe.createElement("rect",{x:E-be/2,y:b-be/2,width:T+be,height:w+be}))):null,!I&&this.renderCurve(F,q),this.renderErrorBar(F,q),(I||a)&&this.renderDots(F,pe,q),(!M||O)&&Nd.renderCallByParent(this.props,f))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:o.curPoints}:i.points!==o.curPoints?{curPoints:i.points}:null}},{key:"repeat",value:function(i,o){for(var s=i.length%2!==0?[].concat(Dp(i),[0]):i,a=[],f=0;f<o;++f)a=[].concat(Dp(a),Dp(s));return a}},{key:"renderDotItem",value:function(i,o){var s;if(Pe.isValidElement(i))s=Pe.cloneElement(i,o);else if(Fn(i))s=i(o);else{var a=st("recharts-line-dot",i?i.className:"");s=Pe.createElement(iL,S0({},o,{className:a}))}return s}}]),n}(U.PureComponent);_l(gg,"displayName","Line");_l(gg,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ou.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});_l(gg,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,s=e.dataKey,a=e.bandSize,f=e.displayedData,h=e.offset,g=t.layout,y=f.map(function(b,E){var T=ds(b,s);return g==="horizontal"?{x:Y6({axis:n,ticks:i,bandSize:a,entry:b,index:E}),y:Xn(T)?null:r.scale(T),value:T,payload:b}:{x:Xn(T)?null:n.scale(T),y:Y6({axis:r,ticks:o,bandSize:a,entry:b,index:E}),value:T,payload:b}});return Ya({points:y,layout:g},h)});var Zk=function(){return null};Zk.displayName="XAxis";Zk.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var Xk=function(){return null};Xk.displayName="YAxis";Xk.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var FHe=ef,UHe=Cx,VHe=Ik;function WHe(e){return function(t,n,r){var i=Object(t);if(!UHe(t)){var o=FHe(n);t=VHe(t),n=function(a){return o(i[a],a,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:void 0}}var qHe=WHe,HHe=dZ;function GHe(e){var t=HHe(e),n=t%1;return t===t?n?t-n:t:0}var YHe=GHe,KHe=jY,ZHe=ef,XHe=YHe,JHe=Math.max;function QHe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:XHe(n);return i<0&&(i=JHe(r+i,0)),KHe(e,ZHe(t),i)}var eGe=QHe,tGe=qHe,nGe=eGe,rGe=tGe(nGe),iGe=rGe;const oGe=gr(iGe);var aGe="Invariant failed";function sGe(e,t){if(!e)throw new Error(aGe)}function SZ(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle,s=_o(t,n,r,i),a=_o(t,n,r,o);return{points:[s,a],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function Z8(e){return dGe(e)||uGe(e)||cGe(e)||lGe()}function lGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cGe(e,t){if(e){if(typeof e=="string")return kI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kI(e,t)}}function uGe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dGe(e){if(Array.isArray(e))return kI(e)}function kI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var TI=function(t,n,r,i,o){var s=Ws(t,aL),a=Ws(t,Mx),f=[].concat(Z8(s),Z8(a)),h=Ws(t,Ax),g="".concat(i,"Id"),y=i[0],b=n;if(f.length&&(b=f.reduce(function(w,M){if(M.props[g]===r&&dc(M.props,"extendDomain")&&It(M.props[y])){var A=M.props[y];return[Math.min(w[0],A),Math.max(w[1],A)]}return w},b)),h.length){var E="".concat(y,"1"),T="".concat(y,"2");b=h.reduce(function(w,M){if(M.props[g]===r&&dc(M.props,"extendDomain")&&It(M.props[E])&&It(M.props[T])){var A=M.props[E],O=M.props[T];return[Math.min(w[0],A,O),Math.max(w[1],A,O)]}return w},b)}return o&&o.length&&(b=o.reduce(function(w,M){return It(M)?[Math.min(w[0],M),Math.max(w[1],M)]:w},b)),b},CZ={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,g){this.fn=f,this.context=h,this.once=g||!1}function o(f,h,g,y,b){if(typeof g!="function")throw new TypeError("The listener must be a function");var E=new i(g,y||f,b),T=n?n+h:h;return f._events[T]?f._events[T].fn?f._events[T]=[f._events[T],E]:f._events[T].push(E):(f._events[T]=E,f._eventsCount++),f}function s(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var h=[],g,y;if(this._eventsCount===0)return h;for(y in g=this._events)t.call(g,y)&&h.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(g)):h},a.prototype.listeners=function(h){var g=n?n+h:h,y=this._events[g];if(!y)return[];if(y.fn)return[y.fn];for(var b=0,E=y.length,T=new Array(E);b<E;b++)T[b]=y[b].fn;return T},a.prototype.listenerCount=function(h){var g=n?n+h:h,y=this._events[g];return y?y.fn?1:y.length:0},a.prototype.emit=function(h,g,y,b,E,T){var w=n?n+h:h;if(!this._events[w])return!1;var M=this._events[w],A=arguments.length,O,I;if(M.fn){switch(M.once&&this.removeListener(h,M.fn,void 0,!0),A){case 1:return M.fn.call(M.context),!0;case 2:return M.fn.call(M.context,g),!0;case 3:return M.fn.call(M.context,g,y),!0;case 4:return M.fn.call(M.context,g,y,b),!0;case 5:return M.fn.call(M.context,g,y,b,E),!0;case 6:return M.fn.call(M.context,g,y,b,E,T),!0}for(I=1,O=new Array(A-1);I<A;I++)O[I-1]=arguments[I];M.fn.apply(M.context,O)}else{var L=M.length,R;for(I=0;I<L;I++)switch(M[I].once&&this.removeListener(h,M[I].fn,void 0,!0),A){case 1:M[I].fn.call(M[I].context);break;case 2:M[I].fn.call(M[I].context,g);break;case 3:M[I].fn.call(M[I].context,g,y);break;case 4:M[I].fn.call(M[I].context,g,y,b);break;default:if(!O)for(R=1,O=new Array(A-1);R<A;R++)O[R-1]=arguments[R];M[I].fn.apply(M[I].context,O)}}return!0},a.prototype.on=function(h,g,y){return o(this,h,g,y,!1)},a.prototype.once=function(h,g,y){return o(this,h,g,y,!0)},a.prototype.removeListener=function(h,g,y,b){var E=n?n+h:h;if(!this._events[E])return this;if(!g)return s(this,E),this;var T=this._events[E];if(T.fn)T.fn===g&&(!b||T.once)&&(!y||T.context===y)&&s(this,E);else{for(var w=0,M=[],A=T.length;w<A;w++)(T[w].fn!==g||b&&!T[w].once||y&&T[w].context!==y)&&M.push(T[w]);M.length?this._events[E]=M.length===1?M[0]:M:s(this,E)}return this},a.prototype.removeAllListeners=function(h){var g;return h?(g=n?n+h:h,this._events[g]&&s(this,g)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(CZ);var fGe=CZ.exports;const hGe=gr(fGe);var _O=new hGe,wO="recharts.syncMouseEvents";function Wb(e){"@babel/helpers - typeof";return Wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wb(e)}function pGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kZ(r.key),r)}}function mGe(e,t,n){return t&&X8(e.prototype,t),n&&X8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function SO(e,t,n){return t=kZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kZ(e){var t=gGe(e,"string");return Wb(t)==="symbol"?t:String(t)}function gGe(e,t){if(Wb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yGe=function(){function e(){pGe(this,e),SO(this,"activeIndex",0),SO(this,"coordinateList",[]),SO(this,"layout","horizontal")}return mGe(e,[{key:"setDetails",value:function(n){var r=n.coordinateList,i=r===void 0?[]:r,o=n.container,s=o===void 0?null:o,a=n.layout,f=a===void 0?null:a,h=n.offset,g=h===void 0?null:h,y=n.mouseHandlerCallback,b=y===void 0?null:y;this.coordinateList=i??this.coordinateList,this.container=s??this.container,this.layout=f??this.layout,this.offset=g??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,f=this.coordinateList[this.activeIndex].coordinate,h=((n=window)===null||n===void 0?void 0:n.scrollX)||0,g=((r=window)===null||r===void 0?void 0:r.scrollY)||0,y=o+f+h,b=s+this.offset.top+a/2+g;this.mouseHandlerCallback({pageX:y,pageY:b})}}}]),e}();function vGe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&It(r)&&It(i))return!0}return!1}function bGe(e,t,n){var r,i,o,s;if(e==="horizontal")r=t.x,o=r,i=n.top,s=n.top+n.height;else if(e==="vertical")i=t.y,s=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var a=t.cx,f=t.cy,h=t.innerRadius,g=t.outerRadius,y=t.angle,b=_o(a,f,h,y),E=_o(a,f,g,y);r=b.x,i=b.y,o=E.x,s=E.y}else return SZ(t);return[{x:r,y:i},{x:o,y:s}]}function xGe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}var _Ge=["item"],wGe=["children","className","width","height","style","compact","title","desc"];function yg(e){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(e)}function J8(e,t){return kGe(e)||CGe(e,t)||TZ(e,t)||SGe()}function SGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CGe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function kGe(e){if(Array.isArray(e))return e}function cm(){return cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cm.apply(this,arguments)}function Q8(e,t){if(e==null)return{};var n=TGe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function TGe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function EGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EZ(r.key),r)}}function PGe(e,t,n){return t&&eU(e.prototype,t),n&&eU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function OGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EI(e,t)}function EI(e,t){return EI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EI(e,t)}function MGe(e){var t=IGe();return function(){var r=h2(e),i;if(t){var o=h2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return AGe(this,i)}}function AGe(e,t){if(t&&(yg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nn(e)}function Nn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IGe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function h2(e){return h2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},h2(e)}function vg(e){return DGe(e)||RGe(e)||TZ(e)||$Ge()}function $Ge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TZ(e,t){if(e){if(typeof e=="string")return PI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PI(e,t)}}function RGe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DGe(e){if(Array.isArray(e))return PI(e)}function PI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tU(Object(n),!0).forEach(function(r){gn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gn(e,t,n){return t=EZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EZ(e){var t=jGe(e,"string");return yg(t)==="symbol"?t:String(t)}function jGe(e,t){if(yg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LGe={xAxis:["bottom","top"],yAxis:["left","right"]},NGe={width:"100%",height:"100%"},PZ={x:0,y:0},zGe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},BGe=function(t,n,r,i){var o=n.find(function(g){return g&&g.index===r});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var s=o.coordinate,a=i.radius;return ot(ot(ot({},i),_o(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var f=o.coordinate,h=i.angle;return ot(ot(ot({},i),_o(i.cx,i.cy,f,h)),{},{angle:h,radius:f})}return PZ},Jk=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,f){var h=f.props.data;return h&&h.length?[].concat(vg(a),vg(h)):a},[]);return s.length>0?s:t&&t.length&&It(i)&&It(o)?t.slice(i,o+1):[]};function OZ(e){return e==="number"?[0,"auto"]:void 0}var MZ=function(t,n,r,i){var o=t.graphicalItems,s=t.tooltipAxis,a=Jk(n,t);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(f,h){var g,y=h.props.hide;if(y)return f;var b=(g=h.props.data)!==null&&g!==void 0?g:n;b&&t.dataStartIndex+t.dataEndIndex!==0&&(b=b.slice(t.dataStartIndex,t.dataEndIndex+1));var E;if(s.dataKey&&!s.allowDuplicatedCategory){var T=b===void 0?a:b;E=bS(T,s.dataKey,i)}else E=b&&b[r]||a[r];return E?[].concat(vg(f),[aZ(h,E)]):f},[])},nU=function(t,n,r,i){var o=i||{x:t.chartX,y:t.chartY},s=zGe(o,r),a=t.orderedTooltipTicks,f=t.tooltipAxis,h=t.tooltipTicks,g=TVe(s,a,h,f);if(g>=0&&h){var y=h[g]&&h[g].value,b=MZ(t,n,g,y),E=BGe(r,a,g,o);return{activeTooltipIndex:g,activeLabel:y,activePayload:b,activeCoordinate:E}}return null},FGe=function(t,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,g=t.layout,y=t.children,b=t.stackOffset,E=iZ(g,o);return r.reduce(function(T,w){var M,A=w.props,O=A.type,I=A.dataKey,L=A.allowDataOverflow,R=A.allowDuplicatedCategory,D=A.scale,F=A.ticks,q=A.includeHidden,J=w.props[s];if(T[J])return T;var K=Jk(t.data,{graphicalItems:i.filter(function(Ae){return Ae.props[s]===J}),dataStartIndex:f,dataEndIndex:h}),ne=K.length,le,ye,de;vGe(w.props.domain,L,O)&&(le=oI(w.props.domain,null,L),E&&(O==="number"||D!=="auto")&&(de=_0(K,I,"category")));var se=OZ(O);if(!le||le.length===0){var pe,be=(pe=w.props.domain)!==null&&pe!==void 0?pe:se;if(I){if(le=_0(K,I,O),O==="category"&&E){var ce=GAe(le);R&&ce?(ye=le,le=i2(0,ne)):R||(le=J6(be,le,w).reduce(function(Ae,Fe){return Ae.indexOf(Fe)>=0?Ae:[].concat(vg(Ae),[Fe])},[]))}else if(O==="category")R?le=le.filter(function(Ae){return Ae!==""&&!Xn(Ae)}):le=J6(be,le,w).reduce(function(Ae,Fe){return Ae.indexOf(Fe)>=0||Fe===""||Xn(Fe)?Ae:[].concat(vg(Ae),[Fe])},[]);else if(O==="number"){var Ee=AVe(K,i.filter(function(Ae){return Ae.props[s]===J&&(q||!Ae.props.hide)}),I,o,g);Ee&&(le=Ee)}E&&(O==="number"||D!=="auto")&&(de=_0(K,I,"category"))}else E?le=i2(0,ne):a&&a[J]&&a[J].hasStack&&O==="number"?le=b==="expand"?[0,1]:oZ(a[J].stackGroups,f,h):le=rZ(K,i.filter(function(Ae){return Ae.props[s]===J&&(q||!Ae.props.hide)}),O,g,!0);if(O==="number")le=TI(y,le,J,o,F),be&&(le=oI(be,le,L));else if(O==="category"&&be){var Re=be,Xe=le.every(function(Ae){return Re.indexOf(Ae)>=0});Xe&&(le=Re)}}return ot(ot({},T),{},gn({},J,ot(ot({},w.props),{},{axisType:o,domain:le,categoricalDomain:de,duplicateDomain:ye,originalDomain:(M=w.props.domain)!==null&&M!==void 0?M:se,isCategorical:E,layout:g})))},{})},UGe=function(t,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,g=t.layout,y=t.children,b=Jk(t.data,{graphicalItems:r,dataStartIndex:f,dataEndIndex:h}),E=b.length,T=iZ(g,o),w=-1;return r.reduce(function(M,A){var O=A.props[s],I=OZ("number");if(!M[O]){w++;var L;return T?L=i2(0,E):a&&a[O]&&a[O].hasStack?(L=oZ(a[O].stackGroups,f,h),L=TI(y,L,O,o)):(L=oI(I,rZ(b,r.filter(function(R){return R.props[s]===O&&!R.props.hide}),"number",g),i.defaultProps.allowDataOverflow),L=TI(y,L,O,o)),ot(ot({},M),{},gn({},O,ot(ot({axisType:o},i.defaultProps),{},{hide:!0,orientation:Vs(LGe,"".concat(o,".").concat(w%2),null),domain:L,originalDomain:I,isCategorical:T,layout:g})))}return M},{})},VGe=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,g=t.children,y="".concat(i,"Id"),b=Ws(g,o),E={};return b&&b.length?E=FGe(t,{axes:b,graphicalItems:s,axisType:i,axisIdKey:y,stackGroups:a,dataStartIndex:f,dataEndIndex:h}):s&&s.length&&(E=UGe(t,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:y,stackGroups:a,dataStartIndex:f,dataEndIndex:h})),E},WGe=function(t){var n=sd(t),r=ld(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Mj(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:JS(n,r)}},rU=function(t){var n=t.children,r=t.defaultShowTooltip,i=Qc(n,Lb),o=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},qGe=function(t){return!t||!t.length?!1:t.some(function(n){var r=iu(n&&n.type);return r&&r.indexOf("Bar")>=0})},iU=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},HGe=function(t,n){var r=t.props,i=t.graphicalItems,o=t.xAxisMap,s=o===void 0?{}:o,a=t.yAxisMap,f=a===void 0?{}:a,h=r.width,g=r.height,y=r.children,b=r.margin||{},E=Qc(y,Lb),T=Qc(y,rg),w=Object.keys(f).reduce(function(R,D){var F=f[D],q=F.orientation;return!F.mirror&&!F.hide?ot(ot({},R),{},gn({},q,R[q]+F.width)):R},{left:b.left||0,right:b.right||0}),M=Object.keys(s).reduce(function(R,D){var F=s[D],q=F.orientation;return!F.mirror&&!F.hide?ot(ot({},R),{},gn({},q,Vs(R,"".concat(q))+F.height)):R},{top:b.top||0,bottom:b.bottom||0}),A=ot(ot({},M),w),O=A.bottom;E&&(A.bottom+=E.props.height||Lb.defaultProps.height),T&&n&&(A=OVe(A,i,r,n));var I=h-A.left-A.right,L=g-A.top-A.bottom;return ot(ot({brushBottom:O},A),{},{width:Math.max(I,0),height:Math.max(L,0)})},GGe=function(t){var n,r=t.chartName,i=t.GraphicalChild,o=t.defaultTooltipEventType,s=o===void 0?"axis":o,a=t.validateTooltipEventTypes,f=a===void 0?["axis"]:a,h=t.axisComponents,g=t.legendContent,y=t.formatAxisMap,b=t.defaultProps,E=function(M,A){var O=A.graphicalItems,I=A.stackGroups,L=A.offset,R=A.updateId,D=A.dataStartIndex,F=A.dataEndIndex,q=M.barSize,J=M.layout,K=M.barGap,ne=M.barCategoryGap,le=M.maxBarSize,ye=iU(J),de=ye.numericAxisName,se=ye.cateAxisName,pe=qGe(O),be=pe&&EVe({barSize:q,stackGroups:I}),ce=[];return O.forEach(function(Ee,Re){var Xe=Jk(M.data,{graphicalItems:[Ee],dataStartIndex:D,dataEndIndex:F}),Ae=Ee.props,Fe=Ae.dataKey,qe=Ae.maxBarSize,rt=Ee.props["".concat(de,"Id")],Je=Ee.props["".concat(se,"Id")],kt={},bt=h.reduce(function(ln,wn){var an,Rt=A["".concat(wn.axisType,"Map")],Un=Ee.props["".concat(wn.axisType,"Id")];Rt&&Rt[Un]||wn.axisType==="zAxis"||sGe(!1);var Qn=Rt[Un];return ot(ot({},ln),{},(an={},gn(an,wn.axisType,Qn),gn(an,"".concat(wn.axisType,"Ticks"),ld(Qn)),an))},kt),Ye=bt[se],lt=bt["".concat(se,"Ticks")],ct=I&&I[rt]&&I[rt].hasStack&&VVe(Ee,I[rt].stackGroups),He=iu(Ee.type).indexOf("Bar")>=0,Tt=JS(Ye,lt),Mt=[];if(He){var qt,bn,yn=Xn(qe)?le:qe,vn=(qt=(bn=JS(Ye,lt,!0))!==null&&bn!==void 0?bn:yn)!==null&&qt!==void 0?qt:0;Mt=PVe({barGap:K,barCategoryGap:ne,bandSize:vn!==Tt?vn:Tt,sizeList:be[Je],maxBarSize:yn}),vn!==Tt&&(Mt=Mt.map(function(ln){return ot(ot({},ln),{},{position:ot(ot({},ln.position),{},{offset:ln.position.offset-vn/2})})}))}var Kn=Ee&&Ee.type&&Ee.type.getComposedData;if(Kn){var Be;ce.push({props:ot(ot({},Kn(ot(ot({},bt),{},{displayedData:Xe,props:M,dataKey:Fe,item:Ee,bandSize:Tt,barPosition:Mt,offset:L,stackedData:ct,layout:J,dataStartIndex:D,dataEndIndex:F}))),{},(Be={key:Ee.key||"item-".concat(Re)},gn(Be,de,bt[de]),gn(Be,se,bt[se]),gn(Be,"animationId",R),Be)),childIndex:oIe(Ee,M.children),item:Ee})}}),ce},T=function(M,A){var O=M.props,I=M.dataStartIndex,L=M.dataEndIndex,R=M.updateId;if(!w4({props:O}))return null;var D=O.children,F=O.layout,q=O.stackOffset,J=O.data,K=O.reverseStackOrder,ne=iU(F),le=ne.numericAxisName,ye=ne.cateAxisName,de=Ws(D,i),se=BVe(J,de,"".concat(le,"Id"),"".concat(ye,"Id"),q,K),pe=h.reduce(function(Xe,Ae){var Fe="".concat(Ae.axisType,"Map");return ot(ot({},Xe),{},gn({},Fe,VGe(O,ot(ot({},Ae),{},{graphicalItems:de,stackGroups:Ae.axisType===le&&se,dataStartIndex:I,dataEndIndex:L}))))},{}),be=HGe(ot(ot({},pe),{},{props:O,graphicalItems:de}),A==null?void 0:A.legendBBox);Object.keys(pe).forEach(function(Xe){pe[Xe]=y(O,pe[Xe],be,Xe.replace("Map",""),r)});var ce=pe["".concat(ye,"Map")],Ee=WGe(ce),Re=E(O,ot(ot({},pe),{},{dataStartIndex:I,dataEndIndex:L,updateId:R,graphicalItems:de,stackGroups:se,offset:be}));return ot(ot({formattedGraphicalItems:Re,graphicalItems:de,offset:be,stackGroups:se},Ee),pe)};return n=function(w){OGe(A,w);var M=MGe(A);function A(O){var I,L,R;return EGe(this,A),R=M.call(this,O),gn(Nn(R),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),gn(Nn(R),"accessibilityManager",new yGe),gn(Nn(R),"handleLegendBBoxUpdate",function(D){if(D){var F=R.state,q=F.dataStartIndex,J=F.dataEndIndex,K=F.updateId;R.setState(ot({legendBBox:D},T({props:R.props,dataStartIndex:q,dataEndIndex:J,updateId:K},ot(ot({},R.state),{},{legendBBox:D}))))}}),gn(Nn(R),"handleReceiveSyncEvent",function(D,F,q){if(R.props.syncId===D){if(q===R.eventEmitterSymbol&&typeof R.props.syncMethod!="function")return;R.applySyncEvent(F)}}),gn(Nn(R),"handleBrushChange",function(D){var F=D.startIndex,q=D.endIndex;if(F!==R.state.dataStartIndex||q!==R.state.dataEndIndex){var J=R.state.updateId;R.setState(function(){return ot({dataStartIndex:F,dataEndIndex:q},T({props:R.props,dataStartIndex:F,dataEndIndex:q,updateId:J},R.state))}),R.triggerSyncEvent({dataStartIndex:F,dataEndIndex:q})}}),gn(Nn(R),"handleMouseEnter",function(D){var F=R.getMouseInfo(D);if(F){var q=ot(ot({},F),{},{isTooltipActive:!0});R.setState(q),R.triggerSyncEvent(q);var J=R.props.onMouseEnter;Fn(J)&&J(q,D)}}),gn(Nn(R),"triggeredAfterMouseMove",function(D){var F=R.getMouseInfo(D),q=F?ot(ot({},F),{},{isTooltipActive:!0}):{isTooltipActive:!1};R.setState(q),R.triggerSyncEvent(q);var J=R.props.onMouseMove;Fn(J)&&J(q,D)}),gn(Nn(R),"handleItemMouseEnter",function(D){R.setState(function(){return{isTooltipActive:!0,activeItem:D,activePayload:D.tooltipPayload,activeCoordinate:D.tooltipPosition||{x:D.cx,y:D.cy}}})}),gn(Nn(R),"handleItemMouseLeave",function(){R.setState(function(){return{isTooltipActive:!1}})}),gn(Nn(R),"handleMouseMove",function(D){D.persist(),R.throttleTriggeredAfterMouseMove(D)}),gn(Nn(R),"handleMouseLeave",function(D){var F={isTooltipActive:!1};R.setState(F),R.triggerSyncEvent(F);var q=R.props.onMouseLeave;Fn(q)&&q(F,D)}),gn(Nn(R),"handleOuterEvent",function(D){var F=iIe(D),q=Vs(R.props,"".concat(F));if(F&&Fn(q)){var J,K;/.*touch.*/i.test(F)?K=R.getMouseInfo(D.changedTouches[0]):K=R.getMouseInfo(D),q((J=K)!==null&&J!==void 0?J:{},D)}}),gn(Nn(R),"handleClick",function(D){var F=R.getMouseInfo(D);if(F){var q=ot(ot({},F),{},{isTooltipActive:!0});R.setState(q),R.triggerSyncEvent(q);var J=R.props.onClick;Fn(J)&&J(q,D)}}),gn(Nn(R),"handleMouseDown",function(D){var F=R.props.onMouseDown;if(Fn(F)){var q=R.getMouseInfo(D);F(q,D)}}),gn(Nn(R),"handleMouseUp",function(D){var F=R.props.onMouseUp;if(Fn(F)){var q=R.getMouseInfo(D);F(q,D)}}),gn(Nn(R),"handleTouchMove",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&R.throttleTriggeredAfterMouseMove(D.changedTouches[0])}),gn(Nn(R),"handleTouchStart",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&R.handleMouseDown(D.changedTouches[0])}),gn(Nn(R),"handleTouchEnd",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&R.handleMouseUp(D.changedTouches[0])}),gn(Nn(R),"triggerSyncEvent",function(D){R.props.syncId!==void 0&&_O.emit(wO,R.props.syncId,D,R.eventEmitterSymbol)}),gn(Nn(R),"applySyncEvent",function(D){var F=R.props,q=F.layout,J=F.syncMethod,K=R.state.updateId,ne=D.dataStartIndex,le=D.dataEndIndex;if(D.dataStartIndex!==void 0||D.dataEndIndex!==void 0)R.setState(ot({dataStartIndex:ne,dataEndIndex:le},T({props:R.props,dataStartIndex:ne,dataEndIndex:le,updateId:K},R.state)));else if(D.activeTooltipIndex!==void 0){var ye=D.chartX,de=D.chartY,se=D.activeTooltipIndex,pe=R.state,be=pe.offset,ce=pe.tooltipTicks;if(!be)return;if(typeof J=="function")se=J(ce,D);else if(J==="value"){se=-1;for(var Ee=0;Ee<ce.length;Ee++)if(ce[Ee].value===D.activeLabel){se=Ee;break}}var Re=ot(ot({},be),{},{x:be.left,y:be.top}),Xe=Math.min(ye,Re.x+Re.width),Ae=Math.min(de,Re.y+Re.height),Fe=ce[se]&&ce[se].value,qe=MZ(R.state,R.props.data,se),rt=ce[se]?{x:q==="horizontal"?ce[se].coordinate:Xe,y:q==="horizontal"?Ae:ce[se].coordinate}:PZ;R.setState(ot(ot({},D),{},{activeLabel:Fe,activeCoordinate:rt,activePayload:qe,activeTooltipIndex:se}))}else R.setState(D)}),gn(Nn(R),"verticalCoordinatesGenerator",function(D,F){var q=D.xAxis,J=D.width,K=D.height,ne=D.offset;return H6(bI(ot(ot(ot({},w0.defaultProps),q),{},{ticks:ld(q,!0),viewBox:{x:0,y:0,width:J,height:K}})),ne.left,ne.left+ne.width,F)}),gn(Nn(R),"horizontalCoordinatesGenerator",function(D,F){var q=D.yAxis,J=D.width,K=D.height,ne=D.offset;return H6(bI(ot(ot(ot({},w0.defaultProps),q),{},{ticks:ld(q,!0),viewBox:{x:0,y:0,width:J,height:K}})),ne.top,ne.top+ne.height,F)}),gn(Nn(R),"axesTicksGenerator",function(D){return ld(D,!0)}),gn(Nn(R),"renderCursor",function(D){var F,q=R.state,J=q.isTooltipActive,K=q.activeCoordinate,ne=q.activePayload,le=q.offset,ye=q.activeTooltipIndex,de=q.tooltipAxisBandSize,se=R.getTooltipEventType(),pe=(F=D.props.active)!==null&&F!==void 0?F:J;if(!D||!D.props.cursor||!pe||!K||r!=="ScatterChart"&&se!=="axis")return null;var be=R.props.layout,ce,Ee=uI;if(r==="ScatterChart")ce=K,Ee=u9e;else if(r==="BarChart")ce=xGe(be,K,le,de),Ee=rL;else if(be==="radial"){var Re=SZ(K),Xe=Re.cx,Ae=Re.cy,Fe=Re.radius,qe=Re.startAngle,rt=Re.endAngle;ce={cx:Xe,cy:Ae,startAngle:qe,endAngle:rt,innerRadius:Fe,outerRadius:Fe},Ee=cZ}else ce={points:bGe(be,K,le)},Ee=uI;var Je=D.key||"_recharts-cursor",kt=ot(ot(ot(ot({stroke:"#ccc",pointerEvents:"none"},le),ce),Yn(D.props.cursor)),{},{payload:ne,payloadIndex:ye,key:Je,className:"recharts-tooltip-cursor"});return U.isValidElement(D.props.cursor)?U.cloneElement(D.props.cursor,kt):U.createElement(Ee,kt)}),gn(Nn(R),"renderPolarAxis",function(D,F,q){var J=Vs(D,"type.axisType"),K=Vs(R.state,"".concat(J,"Map")),ne=K&&K[D.props["".concat(J,"Id")]];return U.cloneElement(D,ot(ot({},ne),{},{className:J,key:D.key||"".concat(F,"-").concat(q),ticks:ld(ne,!0)}))}),gn(Nn(R),"renderXAxis",function(D,F,q){var J=R.state.xAxisMap,K=J[D.props.xAxisId];return R.renderAxis(K,D,F,q)}),gn(Nn(R),"renderYAxis",function(D,F,q){var J=R.state.yAxisMap,K=J[D.props.yAxisId];return R.renderAxis(K,D,F,q)}),gn(Nn(R),"renderGrid",function(D){var F=R.state,q=F.xAxisMap,J=F.yAxisMap,K=F.offset,ne=R.props,le=ne.width,ye=ne.height,de=sd(q),se=oGe(J,function(ce){return pZ(ce.domain,Number.isFinite)}),pe=se||sd(J),be=D.props||{};return U.cloneElement(D,{key:D.key||"grid",x:It(be.x)?be.x:K.left,y:It(be.y)?be.y:K.top,width:It(be.width)?be.width:K.width,height:It(be.height)?be.height:K.height,xAxis:de,yAxis:pe,offset:K,chartWidth:le,chartHeight:ye,verticalCoordinatesGenerator:be.verticalCoordinatesGenerator||R.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:be.horizontalCoordinatesGenerator||R.horizontalCoordinatesGenerator})}),gn(Nn(R),"renderPolarGrid",function(D){var F=D.props,q=F.radialLines,J=F.polarAngles,K=F.polarRadius,ne=R.state,le=ne.radiusAxisMap,ye=ne.angleAxisMap,de=sd(le),se=sd(ye),pe=se.cx,be=se.cy,ce=se.innerRadius,Ee=se.outerRadius;return U.cloneElement(D,{polarAngles:Array.isArray(J)?J:ld(se,!0).map(function(Re){return Re.coordinate}),polarRadius:Array.isArray(K)?K:ld(de,!0).map(function(Re){return Re.coordinate}),cx:pe,cy:be,innerRadius:ce,outerRadius:Ee,key:D.key||"polar-grid",radialLines:q})}),gn(Nn(R),"renderLegend",function(){var D=R.state.formattedGraphicalItems,F=R.props,q=F.children,J=F.width,K=F.height,ne=R.props.margin||{},le=J-(ne.left||0)-(ne.right||0),ye=tZ({children:q,formattedGraphicalItems:D,legendWidth:le,legendContent:g});if(!ye)return null;var de=ye.item,se=Q8(ye,_Ge);return U.cloneElement(de,ot(ot({},se),{},{chartWidth:J,chartHeight:K,margin:ne,onBBoxUpdate:R.handleLegendBBoxUpdate}))}),gn(Nn(R),"renderTooltip",function(){var D,F=R.props.children,q=Qc(F,Zf);if(!q)return null;var J=R.state,K=J.isTooltipActive,ne=J.activeCoordinate,le=J.activePayload,ye=J.activeLabel,de=J.offset,se=(D=q.props.active)!==null&&D!==void 0?D:K;return U.cloneElement(q,{viewBox:ot(ot({},de),{},{x:de.left,y:de.top}),active:se,label:ye,payload:se?le:[],coordinate:ne})}),gn(Nn(R),"renderBrush",function(D){var F=R.props,q=F.margin,J=F.data,K=R.state,ne=K.offset,le=K.dataStartIndex,ye=K.dataEndIndex,de=K.updateId;return U.cloneElement(D,{key:D.key||"_recharts-brush",onChange:L1(R.handleBrushChange,D.props.onChange),data:J,x:It(D.props.x)?D.props.x:ne.left,y:It(D.props.y)?D.props.y:ne.top+ne.height+ne.brushBottom-(q.bottom||0),width:It(D.props.width)?D.props.width:ne.width,startIndex:le,endIndex:ye,updateId:"brush-".concat(de)})}),gn(Nn(R),"renderReferenceElement",function(D,F,q){if(!D)return null;var J=Nn(R),K=J.clipPathId,ne=R.state,le=ne.xAxisMap,ye=ne.yAxisMap,de=ne.offset,se=D.props,pe=se.xAxisId,be=se.yAxisId;return U.cloneElement(D,{key:D.key||"".concat(F,"-").concat(q),xAxis:le[pe],yAxis:ye[be],viewBox:{x:de.left,y:de.top,width:de.width,height:de.height},clipPathId:K})}),gn(Nn(R),"renderActivePoints",function(D){var F=D.item,q=D.activePoint,J=D.basePoint,K=D.childIndex,ne=D.isRange,le=[],ye=F.props.key,de=F.item.props,se=de.activeDot,pe=de.dataKey,be=ot(ot({index:K,dataKey:pe,cx:q.x,cy:q.y,r:4,fill:nL(F.item),strokeWidth:2,stroke:"#fff",payload:q.payload,value:q.value,key:"".concat(ye,"-activePoint-").concat(K)},Yn(se)),xS(se));return le.push(A.renderActiveDot(se,be)),J?le.push(A.renderActiveDot(se,ot(ot({},be),{},{cx:J.x,cy:J.y,key:"".concat(ye,"-basePoint-").concat(K)}))):ne&&le.push(null),le}),gn(Nn(R),"renderGraphicChild",function(D,F,q){var J=R.filterFormatItem(D,F,q);if(!J)return null;var K=R.getTooltipEventType(),ne=R.state,le=ne.isTooltipActive,ye=ne.tooltipAxis,de=ne.activeTooltipIndex,se=ne.activeLabel,pe=R.props.children,be=Qc(pe,Zf),ce=J.props,Ee=ce.points,Re=ce.isRange,Xe=ce.baseLine,Ae=J.item.props,Fe=Ae.activeDot,qe=Ae.hide,rt=Ae.activeBar,Je=Ae.activeShape,kt=!!(!qe&&le&&be&&(Fe||rt||Je)),bt={};K!=="axis"&&be&&be.props.trigger==="click"?bt={onClick:L1(R.handleItemMouseEnter,D.props.onClick)}:K!=="axis"&&(bt={onMouseLeave:L1(R.handleItemMouseLeave,D.props.onMouseLeave),onMouseEnter:L1(R.handleItemMouseEnter,D.props.onMouseEnter)});var Ye=U.cloneElement(D,ot(ot({},J.props),bt));function lt(wn){return typeof ye.dataKey=="function"?ye.dataKey(wn.payload):null}if(kt)if(de>=0){var ct,He;if(ye.dataKey&&!ye.allowDuplicatedCategory){var Tt=typeof ye.dataKey=="function"?lt:"payload.".concat(ye.dataKey.toString());ct=bS(Ee,Tt,se),He=Re&&Xe&&bS(Xe,Tt,se)}else ct=Ee==null?void 0:Ee[de],He=Re&&Xe&&Xe[de];if(Je||rt){var Mt=D.props.activeIndex!==void 0?D.props.activeIndex:de;return[U.cloneElement(D,ot(ot(ot({},J.props),bt),{},{activeIndex:Mt})),null,null]}if(!Xn(ct))return[Ye].concat(vg(R.renderActivePoints({item:J,activePoint:ct,basePoint:He,childIndex:de,isRange:Re})))}else{var qt,bn=(qt=R.getItemByXY(R.state.activeCoordinate))!==null&&qt!==void 0?qt:{graphicalItem:Ye},yn=bn.graphicalItem,vn=yn.item,Kn=vn===void 0?D:vn,Be=yn.childIndex,ln=ot(ot(ot({},J.props),bt),{},{activeIndex:Be});return[U.cloneElement(Kn,ln),null,null]}return Re?[Ye,null,null]:[Ye,null]}),gn(Nn(R),"renderCustomized",function(D,F,q){return U.cloneElement(D,ot(ot({key:"recharts-customized-".concat(q)},R.props),R.state))}),gn(Nn(R),"renderMap",{CartesianGrid:{handler:R.renderGrid,once:!0},ReferenceArea:{handler:R.renderReferenceElement},ReferenceLine:{handler:R.renderReferenceElement},ReferenceDot:{handler:R.renderReferenceElement},XAxis:{handler:R.renderXAxis},YAxis:{handler:R.renderYAxis},Brush:{handler:R.renderBrush,once:!0},Bar:{handler:R.renderGraphicChild},Line:{handler:R.renderGraphicChild},Area:{handler:R.renderGraphicChild},Radar:{handler:R.renderGraphicChild},RadialBar:{handler:R.renderGraphicChild},Scatter:{handler:R.renderGraphicChild},Pie:{handler:R.renderGraphicChild},Funnel:{handler:R.renderGraphicChild},Tooltip:{handler:R.renderCursor,once:!0},PolarGrid:{handler:R.renderPolarGrid,once:!0},PolarAngleAxis:{handler:R.renderPolarAxis},PolarRadiusAxis:{handler:R.renderPolarAxis},Customized:{handler:R.renderCustomized}}),R.clipPathId="".concat((I=O.id)!==null&&I!==void 0?I:Sx("recharts"),"-clip"),R.throttleTriggeredAfterMouseMove=tK(R.triggeredAfterMouseMove,(L=O.throttleDelay)!==null&&L!==void 0?L:1e3/60),R.state={},R}return PGe(A,[{key:"componentDidMount",value:function(){var I,L;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(L=this.props.margin.top)!==null&&L!==void 0?L:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout})}},{key:"getSnapshotBeforeUpdate",value:function(I,L){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==L.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==I.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==I.margin){var R,D;this.accessibilityManager.setDetails({offset:{left:(R=this.props.margin.left)!==null&&R!==void 0?R:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0}})}return null}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var I=Qc(this.props.children,Zf);if(I&&typeof I.props.shared=="boolean"){var L=I.props.shared?"axis":"item";return f.indexOf(L)>=0?L:s}return s}},{key:"getMouseInfo",value:function(I){if(!this.container)return null;var L=this.container,R=L.getBoundingClientRect(),D=Q4e(R),F={chartX:Math.round(I.pageX-D.left),chartY:Math.round(I.pageY-D.top)},q=R.width/L.offsetWidth||1,J=this.inRange(F.chartX,F.chartY,q);if(!J)return null;var K=this.state,ne=K.xAxisMap,le=K.yAxisMap,ye=this.getTooltipEventType();if(ye!=="axis"&&ne&&le){var de=sd(ne).scale,se=sd(le).scale,pe=de&&de.invert?de.invert(F.chartX):null,be=se&&se.invert?se.invert(F.chartY):null;return ot(ot({},F),{},{xValue:pe,yValue:be})}var ce=nU(this.state,this.props.data,this.props.layout,J);return ce?ot(ot({},F),ce):null}},{key:"inRange",value:function(I,L){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,D=this.props.layout,F=I/R,q=L/R;if(D==="horizontal"||D==="vertical"){var J=this.state.offset,K=F>=J.left&&F<=J.left+J.width&&q>=J.top&&q<=J.top+J.height;return K?{x:F,y:q}:null}var ne=this.state,le=ne.angleAxisMap,ye=ne.radiusAxisMap;if(le&&ye){var de=sd(le);return t8({x:F,y:q},de)}return null}},{key:"parseEventsOfWrapper",value:function(){var I=this.props.children,L=this.getTooltipEventType(),R=Qc(I,Zf),D={};R&&L==="axis"&&(R.props.trigger==="click"?D={onClick:this.handleClick}:D={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var F=xS(this.props,this.handleOuterEvent);return ot(ot({},F),D)}},{key:"addListener",value:function(){_O.on(wO,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){_O.removeListener(wO,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(I,L,R){for(var D=this.state.formattedGraphicalItems,F=0,q=D.length;F<q;F++){var J=D[F];if(J.item===I||J.props.key===I.key||L===iu(J.item.type)&&R===J.childIndex)return J}return null}},{key:"renderAxis",value:function(I,L,R,D){var F=this.props,q=F.width,J=F.height;return Pe.createElement(w0,cm({},I,{className:st("recharts-".concat(I.axisType," ").concat(I.axisType),I.className),key:L.key||"".concat(R,"-").concat(D),viewBox:{x:0,y:0,width:q,height:J},ticksGenerator:this.axesTicksGenerator}))}},{key:"renderClipPath",value:function(){var I=this.clipPathId,L=this.state.offset,R=L.left,D=L.top,F=L.height,q=L.width;return Pe.createElement("defs",null,Pe.createElement("clipPath",{id:I},Pe.createElement("rect",{x:R,y:D,height:F,width:q})))}},{key:"getXScales",value:function(){var I=this.state.xAxisMap;return I?Object.entries(I).reduce(function(L,R){var D=J8(R,2),F=D[0],q=D[1];return ot(ot({},L),{},gn({},F,q.scale))},{}):null}},{key:"getYScales",value:function(){var I=this.state.yAxisMap;return I?Object.entries(I).reduce(function(L,R){var D=J8(R,2),F=D[0],q=D[1];return ot(ot({},L),{},gn({},F,q.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(I){var L;return(L=this.state.xAxisMap)===null||L===void 0||(L=L[I])===null||L===void 0?void 0:L.scale}},{key:"getYScaleByAxisId",value:function(I){var L;return(L=this.state.yAxisMap)===null||L===void 0||(L=L[I])===null||L===void 0?void 0:L.scale}},{key:"getItemByXY",value:function(I){var L=this.state,R=L.formattedGraphicalItems,D=L.activeItem;if(R&&R.length)for(var F=0,q=R.length;F<q;F++){var J=R[F],K=J.props,ne=J.item,le=iu(ne.type);if(le==="Bar"){var ye=(K.data||[]).find(function(be){return e9e(I,be)});if(ye)return{graphicalItem:J,payload:ye}}else if(le==="RadialBar"){var de=(K.data||[]).find(function(be){return t8(I,be)});if(de)return{graphicalItem:J,payload:de}}else if(Hk(J,D)||Gk(J,D)||Db(J,D)){var se=r7e({graphicalItem:J,activeTooltipItem:D,itemData:ne.props.data}),pe=ne.props.activeIndex===void 0?se:ne.props.activeIndex;return{graphicalItem:ot(ot({},J),{},{childIndex:pe}),payload:Db(J,D)?ne.props.data[se]:J.props.data[se]}}}return null}},{key:"render",value:function(){var I=this;if(!w4(this))return null;var L=this.props,R=L.children,D=L.className,F=L.width,q=L.height,J=L.style,K=L.compact,ne=L.title,le=L.desc,ye=Q8(L,wGe),de=Yn(ye);if(K)return Pe.createElement(yA,cm({},de,{width:F,height:q,title:ne,desc:le}),this.renderClipPath(),C4(R,this.renderMap));if(this.props.accessibilityLayer){var se,pe;de.tabIndex=(se=this.props.tabIndex)!==null&&se!==void 0?se:0,de.role=(pe=this.props.role)!==null&&pe!==void 0?pe:"img",de.onKeyDown=function(ce){I.accessibilityManager.keyboardEvent(ce)},de.onFocus=function(){I.accessibilityManager.focus()}}var be=this.parseEventsOfWrapper();return Pe.createElement("div",cm({className:st("recharts-wrapper",D),style:ot({position:"relative",cursor:"default",width:F,height:q},J)},be,{ref:function(Ee){I.container=Ee},role:"region"}),Pe.createElement(yA,cm({},de,{width:F,height:q,title:ne,desc:le,style:NGe}),this.renderClipPath(),C4(R,this.renderMap)),this.renderLegend(),this.renderTooltip())}}]),A}(U.Component),gn(n,"displayName",r),gn(n,"defaultProps",ot({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},b)),gn(n,"getDerivedStateFromProps",function(w,M){var A=w.dataKey,O=w.data,I=w.children,L=w.width,R=w.height,D=w.layout,F=w.stackOffset,q=w.margin;if(M.updateId===void 0){var J=rU(w);return ot(ot(ot({},J),{},{updateId:0},T(ot(ot({props:w},J),{},{updateId:0}),M)),{},{prevDataKey:A,prevData:O,prevWidth:L,prevHeight:R,prevLayout:D,prevStackOffset:F,prevMargin:q,prevChildren:I})}if(A!==M.prevDataKey||O!==M.prevData||L!==M.prevWidth||R!==M.prevHeight||D!==M.prevLayout||F!==M.prevStackOffset||!Em(q,M.prevMargin)){var K=rU(w),ne={chartX:M.chartX,chartY:M.chartY,isTooltipActive:M.isTooltipActive},le=ot(ot({},nU(M,O,D)),{},{updateId:M.updateId+1}),ye=ot(ot(ot({},K),ne),le);return ot(ot(ot({},ye),T(ot({props:w},ye),M)),{},{prevDataKey:A,prevData:O,prevWidth:L,prevHeight:R,prevLayout:D,prevStackOffset:F,prevMargin:q,prevChildren:I})}if(!YG(I,M.prevChildren)){var de=!Xn(O),se=de?M.updateId:M.updateId+1;return ot(ot({updateId:se},T(ot(ot({props:w},M),{},{updateId:se}),M)),{},{prevChildren:I})}return null}),gn(n,"renderActiveDot",function(w,M){var A;return U.isValidElement(w)?A=U.cloneElement(w,M):Fn(w)?A=w(M):A=Pe.createElement(iL,M),Pe.createElement(Ii,{className:"recharts-active-dot",key:M.key},A)}),n},YGe=GGe({chartName:"LineChart",GraphicalChild:gg,axisComponents:[{axisType:"xAxis",AxisComp:Zk},{axisType:"yAxis",AxisComp:Xk}],formatAxisMap:Eqe});const KGe=wr(e=>({chart:{flexGrow:1,overflow:"hidden"},content:{height:"100%",flexGrow:1,alignItems:"stretch",display:"flex",flexDirection:"column",overflowY:"auto"}})),AZ=()=>{const e=KGe(),[t,n]=U.useState([]),[r,i]=U.useState([]),[o,s]=U.useState([]),a=Pe.createRef();a.current=o;const[f,h]=U.useState(-1),g=Cn(I=>I.mission.route),y=t.map(I=>I.elevation),b=t.map(I=>I.uavheight),E=Math.min(...y),T=Math.max(...b),w=T-E,M=I=>{let L=[];return I.length>0&&I.forEach(R=>{let D=[];R.wp.forEach(F=>{D.push([F.pos[0],F.pos[1],F.pos[2]])}),L.push(D)}),L};async function A(){if(console.log("--------------   LLAMANDO A ELEVATION"),g.length>0){let I=JSON.parse(JSON.stringify(g)),L=I.map(F=>F.id),R=M(I);i(R);let D;try{const F=await fetch("/api/map/elevation",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({routes:R})});if(F.ok)D=await F.json();else throw new Error(F.status)}catch(F){console.log(F)}if(D.status){let F=D.elevation.map((q,J)=>({name:"RT"+J,data:q,color:Ud.colors_devices[L[J]]}));h(-1),s(F)}else console.log("no get elevation of point")}}U.useEffect(()=>{console.log("mission Elevation")},[]),U.useEffect(()=>{let I=!1,L=M(g);if(console.log("update elevation"),L.length>r.length)console.log("ruta mayour"),L[+L.length+-1].length>0?I=!0:i(L);else if(L.length<r.length){console.log(" se ha eliminado  una ruta");let R=[],D=[];r.map((F,q)=>{let J=!1;L.map(K=>{JSON.stringify(F)===JSON.stringify(K)&&(J=!0)}),J&&(R.push(F),D.push(a.current[q]))}),s(D),i(R)}else{console.log("ruta de la misma longitud");for(let R=0;R<L.length;R=R+1)if(JSON.stringify(L[R])!=JSON.stringify(r[R])){console.log("latitude longitude no equals");let D=r[R].map(q=>[q[0],q[1]]),F=L[R].map(q=>[q[0],q[1]]);if(JSON.stringify(D)===JSON.stringify(F)){for(let q=0;q<r[R].length;q=q+1)if(r[R][q][2]!==L[R][q][2]){console.log("diferent elevation");let J=JSON.parse(JSON.stringify(a.current));for(let K=0;K<J[R].data.length;K=K+1)J[R].data[K].hasOwnProperty("wp")&&J[R].data[K].wp==q&&(console.log("encontrado elev profile wp"),J[R].data[K].uavheight=+J[R].data[K].uavheight-+J[R].data[K].uav+ +L[R][q][2],J[R].data[K].uav=+L[R][q][2]);console.log(J),s(J)}i(L);break}else{console.log("nuevas posiciones"),I=!0;break}}}I&&A()},[g]),U.useEffect(()=>{f==-1?n(o):n([o[f]])},[f,o]);const O=({active:I,payload:L,label:R})=>{if(I&&L&&L.length){let D=[L[0].payload];return D[0].color=L[0].color,L.map(F=>{let q=!0;D.map(J=>{F.payload.rt==J.rt&&(q=!1)}),F.payload.color=F.color,q&&D.push(F.payload)}),D[0].uavheight?$.jsxs("div",{style:{background:"#FFFFFF"},children:[$.jsx("div",{children:`distancia ${R} m `}),D.map(F=>$.jsxs(U.Fragment,{children:[$.jsx("div",{style:{color:F.color,fontSize:16},children:`Ruta ${F.rt} - wp ${F.wp}`},`tr${F.rt}`),$.jsx("div",{style:{color:F.color,fontSize:16},children:`Terreno:${F.elevation} - UAV: ${F.uavheight}`},`dr${F.rt}`)]},"s-"+F.rt))]}):$.jsxs("div",{style:{background:"#FFFFFF"},children:[$.jsx("div",{children:`distancia ${R} m `}),D.map(F=>$.jsxs(U.Fragment,{children:[$.jsx("div",{style:{color:F.color,fontSize:16},children:`Ruta ${F.rt}`},`tr${F.rt}`),$.jsx("div",{style:{color:F.color,fontSize:16},children:`Terreno:${F.elevation} `},`dr${F.rt}`)]},"s-"+F.rt))]})}return null};return $.jsxs("div",{className:e.content,children:[$.jsxs($i,{style:{display:"flex",margin:"10px",alignItems:"center"},children:[$.jsx("a",{style:{marginInline:"20px"},children:"Elevation Profile"}),$.jsxs(ix,{children:[$.jsx(ox,{id:"demo-simple-select-label",children:"Route"}),$.jsxs(ax,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:f,label:"Elevation Profile",onChange:I=>h(I.target.value),children:[$.jsx(Ls,{value:-1,children:"All Routes"}),o.map((I,L,R)=>$.jsx(Ls,{value:L,children:`Route${L}`},`sel${L}`))]})]})]}),t.length>0&&$.jsx("div",{className:e.chart,children:$.jsx(H4e,{width:"100%",height:"100%",children:$.jsxs(YGe,{data:t,margin:{top:10,right:40,left:0,bottom:10},children:[$.jsx(Zk,{dataKey:"length",type:"number",domain:["dataMin","dataMax"]}),$.jsx(Xk,{type:"number",tickFormatter:I=>I.toFixed(2),domain:[E-w/5,T+w/5]}),$.jsx(cL,{strokeDasharray:"3 3"}),$.jsx(Zf,{content:$.jsx(O,{})}),$.jsx(rg,{}),t.map((I,L,R)=>$.jsxs(U.Fragment,{children:[$.jsx(gg,{type:"monotone",dataKey:"elevation",data:I.data,name:I.name,stroke:I.color,activeDot:{r:8,onClick:(D,F)=>{console.log(F);let q=`https://www.google.com/maps?q=${F.payload.lat},${F.payload.lng}`;window.open(q,"_blank")}}},I.name),$.jsx(gg,{connectNulls:!0,dataKey:"uavheight",data:I.data,name:I.name+"-v",stroke:I.color,strokeDasharray:"5 5",activeDot:{onClick:(D,F)=>{console.log(F)}}},I.name+"-v")]},"s-"+L))]})})})]})},ZGe=wr(e=>({card:{pointerEvents:"auto",width:"500px",height:"180px"},media:{height:e.dimensions.popupImageHeight,display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},content:{paddingTop:"15px",paddingBottom:e.spacing(1)},negative:{color:e.palette.colors.negative},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},table:{"& .MuiTableCell-sizeSmall":{paddingLeft:0,paddingRight:0}},cell:{borderBottom:"none"},actions:{justifyContent:"center"},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"50%",top:"40%",transform:"translateX(-50%)"}})),XGe=({SetOpenSave:e,OpenSave:t})=>{const n=ZGe(),r=Cn(g=>g.mission),[i,o]=U.useState("yaml"),[s,a]=U.useState(r.name),f=async()=>{let g,y="text/plain";if(i=="yaml"){let w={version:"3"};w.name=r.name,w.route=r.route,g=dS.stringify(w)}if(i=="kml"){y="application/xml";let w=`<?xml version="1.0" encoding="UTF-8"?>
`;w+=`<kml>
`,w+=`<Document>
`,r.route.map((A,O,I)=>{w+=`<Style id="sn_ylw-pushpin1${O}">
`,w+=`<LineStyle>
`,w+=`<color>ff${Ud.colors_devices[O].substr(-6)}</color>
`,w+=`<width>3</width>
`,w+=`</LineStyle>
`,w+=`</Style>
`});let M=[];for(const A of r.route)if(A.wp.length){let O=await fetch(`/api/map/elevation?locations=[[${A.wp[0].pos[0]},${A.wp[0].pos[1]}]]`);if(O.ok){let I=await O.json();M.push(I.results[0].elevation)}else M.push(0)}else M.push(0);r.route.map((A,O)=>{w+=`<Placemark>
`,w+=`<name>${A.uav}-${A.name}</name>
`,w+=`<styleUrl>#sn_ylw-pushpin1${O}</styleUrl>
`,w+=`<open>1</open>
`,w+=`<LineString>
`;let I="";A.wp.map(L=>{I=I+L.pos[1]+","+L.pos[0]+","+(+L.pos[2]+ +M[O])+" "}),w+=`<tessellate>1</tessellate>
`,w+=`<altitudeMode>absolute</altitudeMode>
`,w+=`<coordinates>
`,w+=I+`
`,w+=`</coordinates>
`,w+=`</LineString>
`,w+=`</Placemark>
`}),w+=`</Document>
`,w+="</kml>",g=w}if(i=="plan"){y="application/json";let w={fileType:"Plan"};w.geoFence={circles:[],polygons:[],version:2},w.groundStation="QGroundControl",w.mission={},w.mission.cruiseSpeed=r.route[0].attributes.idle_vel,w.mission.firmwareType=12,w.mission.globalPlanAltitudeMode=0,w.mission.hoverSpeed=5,w.mission.items=[],r.route.map((M,A,O)=>{M.wp.map((I,L,R)=>{let D={AMSLAltAboveTerrain:null,Altitude:I.pos[2],AltitudeMode:1,autoContinue:!0,command:16,doJumpId:1,frame:3,params:[0,0,0,null,I.pos[0],I.pos[1],I.pos[2]],type:"SimpleItem"};L==0&&(D.command=84,w.mission.plannedHomePosition=[I.pos[0],I.pos[1],I.pos[2]]),L+1==R.length&&(D.command=84),w.mission.items.push(D)})}),w.mission.vehicleType=20,w.mission.version=2,w.rallyPoints={points:[],version:2},w.version=1,g=JSON.stringify(w)}if(i=="waypoint"){let w=`QGC WPL 110
`;r.route.map(M=>{M.wp.map((A,O,I)=>{O==0?w+=`${O}	1	0	16	0	0	0	0	${A.pos[0]}	${A.pos[1]}	${A.pos[2]}	1
`:w+=`${O}	0	0	16	0	0	0	0	${A.pos[0]}	${A.pos[1]}	${A.pos[2]}	1
`})}),g=w}const b=new Blob([g],{type:y}),E=URL.createObjectURL(b),T=document.createElement("a");T.download=r.name+"."+i,T.href=E,T.click()},h=()=>{e(!1)};return $.jsx("div",{className:n.root,children:$.jsxs(Tu,{elevation:3,className:n.card,children:[$.jsxs("div",{className:n.header,children:[$.jsx(tn,{variant:"body2",color:"textSecondary",children:"Save Mission"}),$.jsx(En,{size:"small",onClick:h,onTouchStart:h,children:$.jsx(mu,{fontSize:"small"})})]}),$.jsxs(vR,{className:n.content,children:[$.jsx(ar,{required:!0,label:"Name Mission",variant:"standard",value:s||" ",onChange:g=>a(g.target.value),style:{width:"300px",marginRight:"5px"}}),$.jsxs(ix,{children:[$.jsx(ox,{children:"Type file mission"}),$.jsx(ax,{label:"Type file mission",value:i,onChange:g=>o(g.target.value),sx:{width:"120px"},children:["yaml","kml","waypoint","plan"].map(g=>$.jsx(Ls,{value:g,children:g},g))})]})]}),$.jsx(u7,{classes:{root:n.actions},disableSpacing:!0,children:$.jsx(or,{onClick:f,children:"Save Mission"})})]})})},JGe=wr(e=>({root:{margin:"0",height:"100vh"},sidebarStyle:{display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 95px)",width:"560px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},panelElevation:{display:"flex",flexDirection:"column",position:"fixed",right:0,bottom:0,height:"30vh",width:"calc(100% - 560px)",margin:"0px",zIndex:3}})),QGe=(e,t)=>{setList([...list,toastProperties])},eYe=()=>{const e=JGe(),[t,n]=U.useState(!1),r=Cn(s=>s.data.positions),[i,o]=U.useState([]);return U.useEffect(()=>{o(Object.values(r))},[r]),$.jsx("div",{className:e.root,children:$.jsx(DG,{children:$.jsxs(KC,{notification:QGe,children:[$.jsx(ZC,{}),$.jsx(XC,{}),$.jsxs("div",{style:{float:"right",width:"calc(100% - 560px)",height:"calc(70vh - 95px)",right:"0px",margin:"auto"},children:[$.jsxs(DR,{children:[$.jsx(VEe,{}),$.jsx($G,{positions:i,onClick:null,selectedPosition:null,showStatus:!0})]}),$.jsx(JD,{})]}),$.jsx("div",{className:e.sidebarStyle,children:$.jsx("div",{className:e.middleStyle,children:$.jsx(Vo,{square:!0,children:$.jsx(dPe,{SetOpenSave:n})})})}),$.jsx("div",{className:e.panelElevation,children:$.jsx("div",{className:e.middleStyle,children:$.jsx(Vo,{square:!0,children:$.jsx(AZ,{})})})}),t&&$.jsx(XGe,{SetOpenSave:n})]})})})},tYe=()=>$.jsx("div",{children:"EventPage"}),nYe=()=>$.jsx("div",{children:"ReplayPage"}),rYe=wr(e=>({root:{position:"relative",width:"200px",height:"200px",backgroundColor:"#F7F9F9",overflow:"hidden",margin:"auto"},box_down:{width:"100%",height:"50%",backgroundColor:"#5D6D7E",position:"absolute",transition:"bottom 0.3s ease-in-out",bottom:0,left:"50%",transform:"translate(-50%, 100%)",borderTop:"6px solid #1B2631 "},box_right:{width:"50%",height:"100%",backgroundColor:"#5D6D7E",position:"absolute",transition:"right 0.3s ease-in-out",top:"50%",right:0,transform:"translate(100%, -50%)",borderLeft:"6px solid #1B2631 "},box_up:{width:"100%",height:"50%",backgroundColor:"#5D6D7E",position:"absolute",transition:"top 0.3s ease-in-out",top:0,left:"50%",transform:"translate(-50%, -100%)",borderBottom:"6px solid #1B2631 "},box_left:{width:"50%",height:"100%",backgroundColor:"#5D6D7E",position:"absolute",transition:"left 0.3s ease-in-out",top:"50%",left:0,transform:"translate(-100%, -50%)",borderRight:"6px solid #1B2631 "},text_right:{position:"absolute",right:"15%",top:"50%"},text_left:{position:"absolute",left:"15%",top:"50%"},text_down:{position:"absolute",right:"50%",bottom:"15%",transform:"translate(50%, 50%)"},text_up:{position:"absolute",right:"50%",top:"15%",transform:"translate(50%, -50%)"},icon:{position:"absolute",width:"25%",height:"25%",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},centerContent:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})),p2=({device:e,data:t=[10,15,11,0,12,20],sensors:n={down:[0,15],front:[0,15],left:[0,12],back:[0,12],right:[0,12],up:[0,20]},front_view:r=!1,test:i=!1})=>{const o=rYe(),[s,a]=U.useState(0),[f,h]=U.useState(0),[g,y]=U.useState(0),[b,E]=U.useState(0);U.useEffect(()=>{r?(n.hasOwnProperty("down")&&E(40-40*t[0]/n.down[1]),n.hasOwnProperty("left")&&h(40-40*t[2]/n.left[1]),n.hasOwnProperty("right")&&a(40-40*t[4]/n.right[1]),n.hasOwnProperty("up")&&y(40-40*t[5]/n.up[1])):(n.hasOwnProperty("front")&&y(40-40*t[1]/n.front[1]),n.hasOwnProperty("left")&&a(40-40*t[2]/n.left[1]),n.hasOwnProperty("back")&&E(40-40*t[3]/n.down[1]),n.hasOwnProperty("right")&&h(40-50*t[4]/n.right[1]))},[t,e,n]);const T=()=>{a(M=>M-10),h(M=>M-10),y(M=>M-10),E(M=>M-10)},w=()=>{a(M=>M+10),h(M=>M+10),y(M=>M+10),E(M=>M+10)};return $.jsxs("div",{style:{flex:1,margin:"10px"},children:[$.jsxs("div",{className:o.root,children:[$.jsx("div",{className:o.box_left,style:{left:`${s}%`}}),$.jsx("div",{className:o.box_right,style:{right:`${f}%`}}),$.jsx("div",{className:o.box_up,style:{top:`${g}%`}}),$.jsx("div",{className:o.box_down,style:{bottom:`${b}%`}}),!r&&$.jsxs($.Fragment,{children:[s<50&&$.jsxs("div",{className:o.text_left,children:[" ",`${t[2]}m`]}),f<50&&$.jsxs("div",{className:o.text_right,children:[" ",`${t[4]}m`]}),g<50&&$.jsxs("div",{className:o.text_up,children:[" ",`${t[1]}m`]}),b<50&&$.jsxs("div",{className:o.text_down,children:[" ",`${t[3]}m`]}),$.jsx("img",{className:o.icon,src:H0[Hw("dji_M210_melodic")],alt:""})]}),r&&$.jsxs($.Fragment,{children:[s<50&&$.jsxs("div",{className:o.text_left,children:[" ",`${t[4]}m`]}),f<50&&$.jsxs("div",{className:o.text_right,children:[" ",`${t[2]}m`]}),g<50&&$.jsxs("div",{className:o.text_up,children:[" ",`${t[5]}m`]}),b<50&&$.jsxs("div",{className:o.text_down,children:[" ",`${t[0]}m`]}),$.jsx("img",{className:o.icon,src:Aie[Hw("dji_M210_melodic")],alt:""})]})]}),!r&&$.jsx(tn,{align:"center",children:"Top view"}),r&&$.jsx(tn,{align:"center",children:"Front view"}),i&&$.jsxs("div",{children:[$.jsx("button",{onClick:T,children:"Move Left"}),$.jsx("button",{onClick:w,children:"Move Right"})]})]})};var IZ={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(zp,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",s="second",a="minute",f="hour",h="day",g="week",y="month",b="quarter",E="year",T="date",w="Invalid Date",M=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,A=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,O={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(de){var se=["th","st","nd","rd"],pe=de%100;return"["+de+(se[(pe-20)%10]||se[pe]||se[0])+"]"}},I=function(de,se,pe){var be=String(de);return!be||be.length>=se?de:""+Array(se+1-be.length).join(pe)+de},L={s:I,z:function(de){var se=-de.utcOffset(),pe=Math.abs(se),be=Math.floor(pe/60),ce=pe%60;return(se<=0?"+":"-")+I(be,2,"0")+":"+I(ce,2,"0")},m:function de(se,pe){if(se.date()<pe.date())return-de(pe,se);var be=12*(pe.year()-se.year())+(pe.month()-se.month()),ce=se.clone().add(be,y),Ee=pe-ce<0,Re=se.clone().add(be+(Ee?-1:1),y);return+(-(be+(pe-ce)/(Ee?ce-Re:Re-ce))||0)},a:function(de){return de<0?Math.ceil(de)||0:Math.floor(de)},p:function(de){return{M:y,y:E,w:g,d:h,D:T,h:f,m:a,s,ms:o,Q:b}[de]||String(de||"").toLowerCase().replace(/s$/,"")},u:function(de){return de===void 0}},R="en",D={};D[R]=O;var F="$isDayjsObject",q=function(de){return de instanceof le||!(!de||!de[F])},J=function de(se,pe,be){var ce;if(!se)return R;if(typeof se=="string"){var Ee=se.toLowerCase();D[Ee]&&(ce=Ee),pe&&(D[Ee]=pe,ce=Ee);var Re=se.split("-");if(!ce&&Re.length>1)return de(Re[0])}else{var Xe=se.name;D[Xe]=se,ce=Xe}return!be&&ce&&(R=ce),ce||!be&&R},K=function(de,se){if(q(de))return de.clone();var pe=typeof se=="object"?se:{};return pe.date=de,pe.args=arguments,new le(pe)},ne=L;ne.l=J,ne.i=q,ne.w=function(de,se){return K(de,{locale:se.$L,utc:se.$u,x:se.$x,$offset:se.$offset})};var le=function(){function de(pe){this.$L=J(pe.locale,null,!0),this.parse(pe),this.$x=this.$x||pe.x||{},this[F]=!0}var se=de.prototype;return se.parse=function(pe){this.$d=function(be){var ce=be.date,Ee=be.utc;if(ce===null)return new Date(NaN);if(ne.u(ce))return new Date;if(ce instanceof Date)return new Date(ce);if(typeof ce=="string"&&!/Z$/i.test(ce)){var Re=ce.match(M);if(Re){var Xe=Re[2]-1||0,Ae=(Re[7]||"0").substring(0,3);return Ee?new Date(Date.UTC(Re[1],Xe,Re[3]||1,Re[4]||0,Re[5]||0,Re[6]||0,Ae)):new Date(Re[1],Xe,Re[3]||1,Re[4]||0,Re[5]||0,Re[6]||0,Ae)}}return new Date(ce)}(pe),this.init()},se.init=function(){var pe=this.$d;this.$y=pe.getFullYear(),this.$M=pe.getMonth(),this.$D=pe.getDate(),this.$W=pe.getDay(),this.$H=pe.getHours(),this.$m=pe.getMinutes(),this.$s=pe.getSeconds(),this.$ms=pe.getMilliseconds()},se.$utils=function(){return ne},se.isValid=function(){return this.$d.toString()!==w},se.isSame=function(pe,be){var ce=K(pe);return this.startOf(be)<=ce&&ce<=this.endOf(be)},se.isAfter=function(pe,be){return K(pe)<this.startOf(be)},se.isBefore=function(pe,be){return this.endOf(be)<K(pe)},se.$g=function(pe,be,ce){return ne.u(pe)?this[be]:this.set(ce,pe)},se.unix=function(){return Math.floor(this.valueOf()/1e3)},se.valueOf=function(){return this.$d.getTime()},se.startOf=function(pe,be){var ce=this,Ee=!!ne.u(be)||be,Re=ne.p(pe),Xe=function(Ye,lt){var ct=ne.w(ce.$u?Date.UTC(ce.$y,lt,Ye):new Date(ce.$y,lt,Ye),ce);return Ee?ct:ct.endOf(h)},Ae=function(Ye,lt){return ne.w(ce.toDate()[Ye].apply(ce.toDate("s"),(Ee?[0,0,0,0]:[23,59,59,999]).slice(lt)),ce)},Fe=this.$W,qe=this.$M,rt=this.$D,Je="set"+(this.$u?"UTC":"");switch(Re){case E:return Ee?Xe(1,0):Xe(31,11);case y:return Ee?Xe(1,qe):Xe(0,qe+1);case g:var kt=this.$locale().weekStart||0,bt=(Fe<kt?Fe+7:Fe)-kt;return Xe(Ee?rt-bt:rt+(6-bt),qe);case h:case T:return Ae(Je+"Hours",0);case f:return Ae(Je+"Minutes",1);case a:return Ae(Je+"Seconds",2);case s:return Ae(Je+"Milliseconds",3);default:return this.clone()}},se.endOf=function(pe){return this.startOf(pe,!1)},se.$set=function(pe,be){var ce,Ee=ne.p(pe),Re="set"+(this.$u?"UTC":""),Xe=(ce={},ce[h]=Re+"Date",ce[T]=Re+"Date",ce[y]=Re+"Month",ce[E]=Re+"FullYear",ce[f]=Re+"Hours",ce[a]=Re+"Minutes",ce[s]=Re+"Seconds",ce[o]=Re+"Milliseconds",ce)[Ee],Ae=Ee===h?this.$D+(be-this.$W):be;if(Ee===y||Ee===E){var Fe=this.clone().set(T,1);Fe.$d[Xe](Ae),Fe.init(),this.$d=Fe.set(T,Math.min(this.$D,Fe.daysInMonth())).$d}else Xe&&this.$d[Xe](Ae);return this.init(),this},se.set=function(pe,be){return this.clone().$set(pe,be)},se.get=function(pe){return this[ne.p(pe)]()},se.add=function(pe,be){var ce,Ee=this;pe=Number(pe);var Re=ne.p(be),Xe=function(qe){var rt=K(Ee);return ne.w(rt.date(rt.date()+Math.round(qe*pe)),Ee)};if(Re===y)return this.set(y,this.$M+pe);if(Re===E)return this.set(E,this.$y+pe);if(Re===h)return Xe(1);if(Re===g)return Xe(7);var Ae=(ce={},ce[a]=r,ce[f]=i,ce[s]=n,ce)[Re]||1,Fe=this.$d.getTime()+pe*Ae;return ne.w(Fe,this)},se.subtract=function(pe,be){return this.add(-1*pe,be)},se.format=function(pe){var be=this,ce=this.$locale();if(!this.isValid())return ce.invalidDate||w;var Ee=pe||"YYYY-MM-DDTHH:mm:ssZ",Re=ne.z(this),Xe=this.$H,Ae=this.$m,Fe=this.$M,qe=ce.weekdays,rt=ce.months,Je=ce.meridiem,kt=function(lt,ct,He,Tt){return lt&&(lt[ct]||lt(be,Ee))||He[ct].slice(0,Tt)},bt=function(lt){return ne.s(Xe%12||12,lt,"0")},Ye=Je||function(lt,ct,He){var Tt=lt<12?"AM":"PM";return He?Tt.toLowerCase():Tt};return Ee.replace(A,function(lt,ct){return ct||function(He){switch(He){case"YY":return String(be.$y).slice(-2);case"YYYY":return ne.s(be.$y,4,"0");case"M":return Fe+1;case"MM":return ne.s(Fe+1,2,"0");case"MMM":return kt(ce.monthsShort,Fe,rt,3);case"MMMM":return kt(rt,Fe);case"D":return be.$D;case"DD":return ne.s(be.$D,2,"0");case"d":return String(be.$W);case"dd":return kt(ce.weekdaysMin,be.$W,qe,2);case"ddd":return kt(ce.weekdaysShort,be.$W,qe,3);case"dddd":return qe[be.$W];case"H":return String(Xe);case"HH":return ne.s(Xe,2,"0");case"h":return bt(1);case"hh":return bt(2);case"a":return Ye(Xe,Ae,!0);case"A":return Ye(Xe,Ae,!1);case"m":return String(Ae);case"mm":return ne.s(Ae,2,"0");case"s":return String(be.$s);case"ss":return ne.s(be.$s,2,"0");case"SSS":return ne.s(be.$ms,3,"0");case"Z":return Re}return null}(lt)||Re.replace(":","")})},se.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},se.diff=function(pe,be,ce){var Ee,Re=this,Xe=ne.p(be),Ae=K(pe),Fe=(Ae.utcOffset()-this.utcOffset())*r,qe=this-Ae,rt=function(){return ne.m(Re,Ae)};switch(Xe){case E:Ee=rt()/12;break;case y:Ee=rt();break;case b:Ee=rt()/3;break;case g:Ee=(qe-Fe)/6048e5;break;case h:Ee=(qe-Fe)/864e5;break;case f:Ee=qe/i;break;case a:Ee=qe/r;break;case s:Ee=qe/n;break;default:Ee=qe}return ce?Ee:ne.a(Ee)},se.daysInMonth=function(){return this.endOf(y).$D},se.$locale=function(){return D[this.$L]},se.locale=function(pe,be){if(!pe)return this.$L;var ce=this.clone(),Ee=J(pe,be,!0);return Ee&&(ce.$L=Ee),ce},se.clone=function(){return ne.w(this.$d,this)},se.toDate=function(){return new Date(this.valueOf())},se.toJSON=function(){return this.isValid()?this.toISOString():null},se.toISOString=function(){return this.$d.toISOString()},se.toString=function(){return this.$d.toUTCString()},de}(),ye=le.prototype;return K.prototype=ye,[["$ms",o],["$s",s],["$m",a],["$H",f],["$W",h],["$M",y],["$y",E],["$D",T]].forEach(function(de){ye[de[1]]=function(se){return this.$g(se,de[0],de[1])}}),K.extend=function(de,se){return de.$i||(de(se,le,K),de.$i=!0),K},K.locale=J,K.isDayjs=q,K.unix=function(de){return K(1e3*de)},K.en=D[R],K.Ls=D,K.p={},K})})(IZ);var iYe=IZ.exports;const oU=gr(iYe),oYe=(e,t,n,r,i,o,s)=>{const a=Cn(f=>f.devices.items);U.useEffect(()=>{const f=Object.values(a).filter(h=>!t.statuses.length||t.statuses.includes(h.status)).filter(h=>{const g=e.toLowerCase();return[h.name,h.uniqueId,h.phone,h.model,h.contact].some(y=>y&&y.toLowerCase().includes(g))});switch(n){case"name":f.sort((h,g)=>h.name.localeCompare(g.name));break;case"lastUpdate":f.sort((h,g)=>{const y=h.lastUpdate?oU(h.lastUpdate).valueOf():0;return(g.lastUpdate?oU(g.lastUpdate).valueOf():0)-y});break}o(f),s(r?f.map(h=>i[h.id]).filter(Boolean):Object.values(i))},[e,t,n,r,a,i,o,s])},aYe=wr(e=>({card:{pointerEvents:"auto"},media:{height:"20vw",width:"100%",background:"black"},media1:{width:"100%",height:"100%",display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},gruopBtn:{float:"right",height:"40px"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},tittle:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},root:{pointerEvents:"none"},root_max:{pointerEvents:"none"}})),m2=({deviceId:e,deviceIp:t="127.0.0.1",camera_src:n="video0",onClose:r})=>{const i=aYe(),o=e?Cn(g=>g.devices.items[e]):{name:"test"},s="http://"+t+":8889/"+n;U.useState(!1);let a=i.card,f=i.root_max,h=i.media;return U.useRef(),$.jsx("div",{className:f,children:o&&$.jsxs(Tu,{className:a,children:[$.jsx("div",{children:$.jsx("div",{className:i.tittle,children:"Id: "+o.name})}),$.jsx("iframe",{src:s,className:h})]})})},sYe=wr(e=>({card:{pointerEvents:"auto"},media:{width:"100%",height:"20vw",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},tittle:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none"},root_max:{pointerEvents:"none"}})),$Z=({deviceId:e,datacamera:t,onClose:n})=>{const r=sYe(),[i,o]=U.useState(fS),s=Cn(g=>g.devices.items[e]);U.useState(!1);let a=r.card,f=r.root_max;const h=Cn(g=>g.data.camera[e]);return U.useEffect(()=>{e!=null&&(h!=null?o("data:image/bgr8;base64,"+h.camera):o(fS))},[h]),$.jsx("div",{className:f,children:s&&$.jsxs(Tu,{className:a,children:[$.jsx("div",{children:$.jsxs("div",{className:r.tittle,children:["Image "+s.name," "]})}),$.jsx("img",{src:i,className:r.media})]})})},lYe=wr(e=>({root:{margin:"0",height:"100vh",display:"flex",flexDirection:"column"},content:{overflow:"auto",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},buttons:{marginTop:e.spacing(2),marginBottom:e.spacing(2),display:"flex",justifyContent:"space-evenly","& > *":{flexBasis:"33%"}},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)}})),cYe=({device:e,myhostname:t})=>{const n=e.camera&&e.camera.length>0?e.camera[0]:{type:""};return $.jsxs($.Fragment,{children:[n.type==="WebRTC"&&$.jsx(m2,{deviceId:e.id,deviceIp:t,devicename:e.name,camera_src:e.name+"_"+n.source,onClose:()=>{console.log("cerrar ")}}),n.type==="WebRTC_env"&&$.jsx(m2,{deviceId:e.id,deviceIp:e.ip,devicename:e.name,camera_src:n.source,onClose:()=>{console.log("cerrar ")}}),n.type==="Websocket"&&$.jsx($Z,{deviceId:e.id,datacamera:null,onClose:()=>console.log("cerrar ")})]})},uYe=()=>{const e=lYe(),t=Ch(),{id:n}=Lte(),[r,i]=Pe.useState(0),[o,s]=U.useState(),[a,f]=U.useState({}),h=Cn(ne=>ne.data.positions),g=Cn(ne=>ne.devices.items),y=Cn(ne=>ne.session.markers);U.useState(0);const[b,E]=U.useState([]),T=`${window.location.hostname}`,[w,M]=U.useState([]),[A,O]=U.useState([]),[I,L]=U.useState(""),[R,D]=vP("filter",{statuses:[],groups:[]}),[F,q]=vP("filterSort",""),[J,K]=vP("filterMap",!1);return oYe(I,R,F,J,h,O,M),U.useEffect(()=>{E(y)},[y]),U.useEffect(()=>{n&&s(h[n])},[n,h]),U.useEffect(()=>{n&&(f(g[n]),console.log(g[n]))},[n]),$.jsxs("div",{className:e.root,children:[$.jsx(cR,{position:"sticky",color:"inherit",children:$.jsxs(Tg,{children:[$.jsx(En,{color:"inherit",edge:"start",sx:{mr:2},onClick:()=>t(-1),children:$.jsx(bx,{})}),$.jsx(tn,{variant:"h6",children:a.name})]})}),$.jsxs("div",{style:{display:"flex",flex:1,overflow:"hidden"},children:[$.jsxs("div",{style:{flex:1},children:[$.jsx("div",{style:{height:"50vh"},children:$.jsx(RG,{filteredPositions:w,markers:b,selectedPosition:n,filteredMissiondeviceid:n})}),$.jsx("div",{children:Object.keys(a).length>0&&$.jsx(cYe,{device:a,myhostname:T})})]}),$.jsxs("div",{style:{flex:1,justifyContent:"space-between",display:"flex",flexDirection:"column"},children:[$.jsx("div",{style:{height:"50vh"},className:e.content,children:$.jsx(bR,{maxWidth:"false",children:$.jsx(Vo,{children:$.jsxs(SR,{"aria-label":"simple table",children:[$.jsx(E7,{children:$.jsxs(_m,{children:[$.jsx(Pa,{sx:{fontWeight:"bold"},children:"Attributes"}),$.jsx(Pa,{sx:{fontWeight:"bold"},children:"Value"})]})}),$.jsxs(CR,{children:[o&&Object.getOwnPropertyNames(o).filter(ne=>ne!=="attributes").map(ne=>$.jsxs(_m,{children:[$.jsx(Pa,{children:ne}),$.jsx(Pa,{children:$.jsx(fA,{position:o,property:ne})})]},ne)),o&&Object.getOwnPropertyNames(o.attributes).map(ne=>$.jsxs(_m,{children:[$.jsx(Pa,{children:ne}),$.jsx(Pa,{children:$.jsx(fA,{position:o,attribute:ne})})]},ne))]})]})})})}),$.jsx("div",{style:{padding:"15px",margin:"10px"},children:$.jsxs(Vo,{children:[$.jsx(tn,{align:"center",variant:"h5",component:"div",style:{padding:"15px"},children:"Avoidance sensor"}),o&&o.attributes&&$.jsxs("div",{style:{display:"flex",flex:1},children:[$.jsx(p2,{front_view:!0,data:o.attributes.obstacle_info}),$.jsx(p2,{front_view:!1,data:o.attributes.obstacle_info})]})]})}),$.jsx("div",{style:{padding:"15px",marginTop:"auto"},children:$.jsx(Vo,{children:$.jsxs(xfe,{showLabels:!0,value:r,onChange:(ne,le)=>{i(le)},children:[$.jsx(c1,{label:"Edit",icon:$.jsx(GD,{})}),$.jsx(c1,{label:"Result",icon:$.jsx(VD,{})}),$.jsx(c1,{label:"Command",icon:$.jsx(qD,{})}),$.jsx(c1,{label:"Delete",icon:$.jsx(us,{})})]})})})]})]})]})},dYe=wr(()=>({root:{height:"100%"},sidebarStyle:{pointerEvents:"none",display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 88px)",width:"360px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},contentListStyle:{pointerEvents:"auto",gridArea:"1 / 1",zIndex:4}})),fYe=(e,t)=>{switch(e){case"success":toastProperties={id:list.length+1,title:"Success",description:t,backgroundColor:"#5cb85c"};break;case"danger":toastProperties={id:list.length+1,title:"Danger",description:t,backgroundColor:"#d9534f"};break;case"info":toastProperties={id:list.length+1,title:"Info",description:t,backgroundColor:"#5bc0de"};break;case"warning":toastProperties={id:list.length+1,title:"Warning",description:t,backgroundColor:"#f0ad4e"};break;default:toastProperties=[]}setList([...list,toastProperties])},hYe=()=>{const[e,t]=U.useState(!1),n=Cn(s=>s.devices.items);let r=Object.values(n);const i=`${window.location.hostname}`,o=dYe();return $.jsx("div",{className:o.root,children:$.jsxs(KC,{notification:fYe,children:[$.jsx(ZC,{}),$.jsx(XC,{}),$.jsx("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 90px)"},children:$.jsx($i,{component:"div",sx:{overflow:"auto"},style:{backgroundColor:"#000000",width:"calc(100vw - 360px)",height:"calc(100vh - 90px",padding:"20px",float:"right"},children:$.jsx(I5,{container:!0,spacing:2,justifyContent:"space-around",children:Pe.Children.toArray(Object.values(n).map(s=>$.jsx(U.Fragment,{children:s.camera.map((a,f)=>$.jsxs(I5,{item:!0,xs:12,sm:6,children:[a.type==="WebRTC"&&$.jsx(m2,{deviceId:s.id,deviceIp:i,devicename:s.name,camera_src:s.name+"_"+a.source,onClose:()=>{console.log("cerrar ")}}),a.type==="WebRTC_env"&&$.jsx(m2,{deviceId:s.id,deviceIp:s.ip,devicename:s.name,camera_src:a.source,onClose:()=>{console.log("cerrar ")}}),a.type==="Websocket"&&$.jsx($Z,{deviceId:s.id,datacamera:null,onClose:()=>console.log("cerrar ")})]},"card-"+s.id+"-"+f))},"dev"+s.id)))})})}),$.jsx("div",{className:o.sidebarStyle,children:$.jsx("div",{className:o.middleStyle,children:$.jsxs(Vo,{square:!0,className:o.contentListStyle,children:[$.jsx(AG,{SetAddUAVOpen:t}),$.jsx(mG,{devices:r})]})})})]})})},pYe=wr(e=>({root:{height:"100%",display:"flex",flexDirection:"column"},content:{overflow:"auto",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},buttons:{marginTop:e.spacing(2),marginBottom:e.spacing(2),display:"flex",justifyContent:"space-evenly","& > *":{flexBasis:"33%"}},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)}})),mYe=()=>{const e=pYe(),t=Ch(),[n,r]=U.useState([]),[i,o]=U.useState(),s=Cn(f=>f.events.items),a=Cn(f=>f.devices.items);return U.useEffect(()=>{r(s)},[s]),U.useEffect(()=>{o({...a,"-1":{name:"GCS"}})},[a]),Cn(f=>{if(n){const h=f.devices.items[n.deviceId];if(h)return h.name}return null}),$.jsxs("div",{className:e.root,children:[$.jsx(cR,{position:"sticky",color:"inherit",children:$.jsxs(Tg,{children:[$.jsx(En,{color:"inherit",edge:"start",sx:{mr:2},onClick:()=>t(-1),children:$.jsx(bx,{})}),$.jsx(tn,{variant:"h6",children:"Events"})]})}),$.jsx("div",{className:e.content,children:$.jsx(bR,{maxWidth:"sm",children:$.jsx(Vo,{children:$.jsxs(SR,{children:[$.jsx(E7,{children:$.jsxs(_m,{children:[$.jsx(Pa,{children:"UAV"}),$.jsx(Pa,{children:"Fecha"}),$.jsx(Pa,{children:"Valor"})]})}),$.jsx(CR,{children:n&&n.map(f=>$.jsxs(_m,{children:[$.jsx(Pa,{children:i[f.deviceId].name}),$.jsx(Pa,{children:f.eventTime}),$.jsx(Pa,{children:f.attributes.message})]},f.id))})]})})})})]})},gYe=()=>$.jsxs("div",{children:[$.jsx("h3",{children:"Move the Square"}),$.jsx(p2,{}),$.jsx(Ym,{}),$.jsx(p2,{front_view:!0})]}),RZ=U.createContext(null);function yYe(){const[e,t]=U.useState(null);return U.useEffect(()=>{t(`mui-p-${Math.round(Math.random()*1e5)}`)},[]),e}function vYe(e){const{children:t,value:n}=e,r=yYe(),i=U.useMemo(()=>({idPrefix:r,value:n}),[r,n]);return $.jsx(RZ.Provider,{value:i,children:t})}function DZ(){return U.useContext(RZ)}function jZ(e,t){const{idPrefix:n}=e;return n===null?null:`${e.idPrefix}-P-${t}`}function LZ(e,t){const{idPrefix:n}=e;return n===null?null:`${e.idPrefix}-T-${t}`}const bYe=["children"],xYe=U.forwardRef(function(t,n){const{children:r}=t,i=gt(t,bYe),o=DZ();if(o===null)throw new TypeError("No TabContext provided");const s=U.Children.map(r,a=>U.isValidElement(a)?U.cloneElement(a,{"aria-controls":jZ(o,a.props.value),id:LZ(o,a.props.value)}):null);return $.jsx(Bve,ee({},i,{ref:n,value:o.value,children:s}))}),_Ye=xYe;function wYe(e){return nn("MuiTabPanel",e)}Qt("MuiTabPanel",["root"]);const SYe=["children","className","value"],CYe=e=>{const{classes:t}=e;return rn({root:["root"]},wYe,t)},kYe=ht("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({padding:e.spacing(3)})),TYe=U.forwardRef(function(t,n){const r=on({props:t,name:"MuiTabPanel"}),{children:i,className:o,value:s}=r,a=gt(r,SYe),f=ee({},r),h=CYe(f),g=DZ();if(g===null)throw new TypeError("No TabContext provided");const y=jZ(g,s),b=LZ(g,s);return $.jsx(kYe,ee({"aria-labelledby":b,className:st(h.root,o),hidden:s!==g.value,id:y,ref:n,role:"tabpanel",ownerState:f},a,{children:s===g.value&&i}))}),CO=TYe,EYe=wr(e=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attribute:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),NZ=({markers:e,setMarkers:t,type:n="Base"})=>{const r=EYe(),[i,o]=U.useState(!1),[s,a]=U.useState(!0),f=E=>(T,w)=>{o(w?E:!1)},h=()=>{let E=Le.getCenter(),T=JSON.parse(JSON.stringify(e));T.push({latitude:E.lat,longitude:E.lng}),t(T,{meth:"add",index:-1})},g=E=>{let T=JSON.parse(JSON.stringify(e));T.splice(E,1),t(T,{meth:"del",index:E})},y=(E,T)=>{let w=JSON.parse(JSON.stringify(e));w[E].latitude=T,t(w,{meth:"mod",index:E})},b=(E,T)=>{let w=JSON.parse(JSON.stringify(e));w[E].longitude=T,t(w,{meth:"mod",index:E})};return U.useEffect(()=>{e&&(e.length>0?a(!1):a(!0))},[e]),$.jsx(U.Fragment,{children:s?$.jsx($i,{textAlign:"center",children:$.jsx(or,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:h,children:"Create New Base"})}):$.jsxs("div",{className:r.details,children:[Pe.Children.toArray(Object.values(e).map((E,T,w)=>$.jsxs(ua,{expanded:i==="wp "+T,onChange:f("wp "+T),children:[$.jsxs(fa,{expandIcon:$.jsx(Fo,{}),children:[$.jsx(tn,{sx:{width:"33%",flexShrink:0},children:n+" "+T}),$.jsx(En,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>g(T),children:$.jsx(us,{})})]}),$.jsx(da,{className:r.details,children:i==="wp "+T&&$.jsx(U.Fragment,{children:$.jsxs($i,{component:"form",sx:{"& .MuiTextField-root":{m:1}},children:[$.jsx("div",{children:$.jsx(tn,{variant:"subtitle1",style:{display:"inline"},children:"Position"})}),$.jsx(ar,{required:!0,label:"Latitude ",type:"number",sx:{width:"15ch"},variant:"standard",inputProps:{maxLength:8,step:1e-4},value:E.latitude,onChange:M=>{y(T,M.target.value)}}),$.jsx(ar,{required:!0,label:"Longitud ",type:"number",variant:"standard",sx:{width:"15ch"},inputProps:{maxLength:8,step:1e-4},value:E.longitude,onChange:M=>{b(T,M.target.value)}})]})})})]}))),$.jsx($i,{textAlign:"center",children:$.jsx(or,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:h,children:"Create new Base"})})]})})},PYe=wr(e=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attribute:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),OYe=({data:e,param:t,setData:n,type:r="Base"})=>{const i=PYe(),[o,s]=U.useState(!1),[a,f]=U.useState(!1),h=y=>(b,E)=>{s(E?y:!1)},g=(y=0,b="mission",E,T)=>{let w=JSON.parse(JSON.stringify(e));w[y][b][E]=T,n(w)};return U.useEffect(()=>{e&&(e.length>0?f(!1):f(!0))},[e]),$.jsx("div",{children:a?$.jsx($i,{textAlign:"center",children:$.jsx(tn,{children:"dont exits base"})}):$.jsx("div",{className:i.details,children:Pe.Children.toArray(Object.values(e).map((y,b,E)=>$.jsxs(ua,{expanded:o===`wp ${b}`,onChange:h(`wp ${b}`),children:[$.jsxs(fa,{expandIcon:$.jsx(Fo,{}),children:[$.jsx(tn,{sx:{width:"33%",flexShrink:0},children:`${r} ${b}`}),$.jsx(En,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>console.log("button"),children:$.jsx(jG,{})})]}),$.jsx(da,{className:i.details,children:o===`wp ${b}`&&$.jsxs($i,{component:"form",sx:{"& .MuiTextField-root":{m:1}},children:[$.jsx("div",{children:$.jsx(tn,{variant:"subtitle1",style:{display:"inline"},children:"Device params"})}),$.jsx("div",{children:t.devices&&Pe.Children.toArray(Object.keys(t.devices).map((T,w,M)=>$.jsx("div",{children:T=="deviceId"?$.jsx(Cl,{emptyValue:null,fullWidth:!0,label:"device",value:y.devices[T],endpoint:"/api/devices",keyGetter:A=>A.id,titleGetter:A=>`${A.name} - ${A.category}`,onChange:A=>{g(b,"devices",T,A.target.value)}}):$.jsxs($.Fragment,{children:[$.jsx(tn,{variant:"subtitle1",className:i.attributeName,children:t.devices[T].name}),$.jsx("div",{className:i.actionValue,children:$.jsx(ar,{required:!0,fullWidth:!0,type:"number",value:y.devices[T]?y.devices[T]:t.devices[T].default,onChange:A=>{g(b,"devices",T,A.target.value)}})})]})})))}),$.jsx("div",{children:$.jsx(tn,{variant:"subtitle1",style:{display:"inline"},children:"Mission Params"})}),$.jsx("div",{children:t.mission&&Pe.Children.toArray(Object.keys(t.mission).map(T=>$.jsxs("div",{children:[$.jsx(tn,{variant:"subtitle1",className:i.attributeName,children:T}),$.jsx("div",{className:i.actionValue,children:$.jsx(ar,{required:!0,fullWidth:!0,type:"number",value:y.mission[T]?y.mission[T]:t.devices[T].default,onChange:w=>{g(b,"mission",T,w.target.value)}})})]})))})]})})]})))})})};class MYe{constructor(){this.markers={},this.select={id:-1}}initMarkers(t){this.markers=JSON.parse(JSON.stringify(t))}getMarkers(){return this.markers}setMarkers(t){this.markers=t}getSelect(){return this.select}setSelect(t){this.select=t}}const AYe=({markers:e,selectMarkers:t=[],showTitles:n,showLines:r,moveMarkers:i,setMarkers:o,SelectItems:s,CreateItems:a,setLocations:f})=>{const h=U.useId(),g=`${h}-lines`,y=`${h}-select`;PR();const b=.4,[E,T]=U.useState(new MYe),w=()=>Le.getCanvas().style.cursor="move",M=()=>Le.getCanvas().style.cursor="pointer",A=()=>Le.getCanvas().style.cursor="",O=K=>{K.hasOwnProperty("features")?K.features[0].properties.type=="element"&&f({...K.features[0].properties,type:"object"}):f({latitude:K.lngLat.lat,longitude:K.lngLat.lng,groupId:0,id:0,type:"point"})},I=K=>{var de;Le.getCanvas().style.cursor="grabbing",console.log("on move point"+K.lngLat.lng+"-"+K.lngLat.lat);let ne=E.getMarkers(),le=E.getSelect();console.log(ne),console.log(le),le.id>=0&&(le.type=="base"&&(ne.bases[le.id].latitude=K.lngLat.lat,ne.bases[le.id].longitude=K.lngLat.lng),le.type=="element"&&(ne.elements[le.groupId].items[le.id].latitude=K.lngLat.lat,ne.elements[le.groupId].items[le.id].longitude=K.lngLat.lng));let ye=F(ne);(de=Le.getSource(h))==null||de.setData({type:"FeatureCollection",features:ye.map(se=>({type:"Feature",geometry:{type:"Point",coordinates:[se.longitude,se.latitude]},properties:{...se}}))})},L=K=>{let ne=K.lngLat;Le.getCanvas().style.cursor="";let le=E.getMarkers(),ye=E.getSelect();console.log(le),console.log(ye),ye.id>=0&&(ye.type=="base"&&(le.bases[ye.id].latitude=K.lngLat.lat,le.bases[ye.id].longitude=K.lngLat.lng),ye.type=="element"&&(le.elements[ye.groupId].items[ye.id].latitude=K.lngLat.lat,le.elements[ye.groupId].items[ye.id].longitude=K.lngLat.lng)),E.getSelect({id:-1}),o(le),console.log(`Longitude: ${ne.lng} Latitude: ${ne.lat}`),Le.off("mousemove",I),Le.off("touchmove",I)},R=K=>{K.preventDefault(),E.setSelect(K.features[0].properties),Le.getCanvas().style.cursor="grab",Le.on("mousemove",I),Le.once("mouseup",L)},D=K=>{K.points.length===1&&(console.log("touch start"),K.preventDefault(),Le.on("touchmove",I),Le.once("touchend",L))};U.useEffect(()=>(Le.addSource(h,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),Le.addSource(g,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),Le.addSource(y,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),Le.addLayer({id:y,type:"symbol",source:y,filter:["!has","point_count"],layout:{"icon-image":"background-{groupId}","icon-size":b*1.2,"icon-allow-overlap":!0,"text-allow-overlap":!0,"text-field":"{title}","text-font":Il(Le),"text-size":14},paint:{"text-color":"white"}}),r&&Le.addLayer({source:g,id:g,type:"line",paint:{"line-color":["get","color"],"line-width":2}}),n?Le.addLayer({id:h,type:"symbol",source:h,filter:["!has","point_count"],layout:{"icon-image":"{image}","icon-size":b,"icon-allow-overlap":!0,"text-field":"{title}","text-allow-overlap":!0,"text-anchor":"bottom","text-offset":[0,-2*b],"text-font":Il(Le),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}):Le.addLayer({id:h,type:"symbol",source:h,layout:{"icon-image":"{image}","icon-size":b,"icon-allow-overlap":!0}}),s&&(Le.on("mouseenter",h,M),Le.on("mouseleave",h,A),Le.on("click",h,O)),a&&Le.on("click",O),i&&(Le.on("mouseenter",h,w),Le.on("mouseleave",h,A),Le.on("mousedown",h,R),Le.on("touchstart",h,D)),()=>{Le.off("click",O),Le.off("click",h,O),Le.off("mouseenter",h,M),Le.off("mouseenter",h,w),Le.off("mouseleave",h,A),Le.off("mousedown",h,R),Le.off("touchstart",h,D),Le.getLayer(h)&&Le.removeLayer(h),Le.getLayer(y)&&Le.removeLayer(y),Le.getLayer(g)&&Le.removeLayer(g),Le.getSource(h)&&Le.removeSource(h),Le.getSource(g)&&Le.removeSource(g),Le.getSource(y)&&Le.removeSource(y)}),[n,r,i,s,a]);function F(K){const ne=[];return K.elements&&K.elements.forEach((le,ye)=>{le.items.forEach((de,se)=>{ne.push({...de,type:"element",groupId:ye,id:se,image:le.type,title:`${ye}-${se}`})})}),K.bases&&K.bases.forEach((le,ye)=>{ne.push({...le,type:"base",groupId:0,id:ye,image:"base",title:`b-${ye}`})}),ne}function q(K,ne){let le=Object.values(K.items).map(ye=>[ye.longitude,ye.latitude]);return{id:K.id,type:"Feature",geometry:{type:"LineString",coordinates:le},properties:{name:K.name,color:Ud.colors_devices[ne]}}}function J(K){console.log(K);const ne=[];return K.length>0&&K.forEach((le,ye)=>{le.items.forEach((de,se)=>{ne.push({...de,type:"element",groupId:ye,id:se,image:le.type,title:`${ye}-${se}`})})}),ne}return U.useEffect(()=>{var ne;E.initMarkers(e);let K=F(e);(ne=Le.getSource(h))==null||ne.setData({type:"FeatureCollection",features:K.map(le=>({type:"Feature",geometry:{type:"Point",coordinates:[le.longitude,le.latitude]},properties:{...le}}))}),Le.getSource(g).setData({type:"FeatureCollection",features:e.elements.map((le,ye)=>q(le,ye))})},[e]),U.useEffect(()=>{let K=J(t);Le.getSource(y).setData({type:"FeatureCollection",features:K.map(ne=>({type:"Feature",geometry:{type:"Point",coordinates:[ne.longitude,ne.latitude]},properties:{...ne}}))})},[t]),null},IYe=wr(e=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),$Ye=({markers:e,setMarkers:t})=>{const n=IYe();Ba(),U.useState(!1),U.useState(!1);const[r,i]=U.useState(!1),[o,s]=U.useState(!0),a=(y,b)=>{let E=JSON.parse(JSON.stringify(e));E[y].items=b,t(E)},f=y=>{let b=JSON.parse(JSON.stringify(e));b.splice(y,1),t(b)},h=()=>{let y=JSON.parse(JSON.stringify(e));y.push({type:"powerTower",name:"Elements",linea:!0,items:[]}),t(y)},g=y=>(b,E)=>{i(E?y:!1)};return U.useEffect(()=>{e&&(e.length>0?s(!1):s(!0)),console.log(e)},[e]),$.jsx(U.Fragment,{children:o?$.jsx($i,{textAlign:"center",children:$.jsx(or,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:h,children:"Create New Base"})}):$.jsxs("div",{className:n.details,children:[Pe.Children.toArray(Object.values(e).map((y,b,E)=>$.jsxs(ua,{expanded:r==="Elements "+b,onChange:g("Elements "+b),children:[$.jsxs(fa,{expandIcon:$.jsx(Fo,{}),children:[$.jsx(tn,{sx:{width:"33%",flexShrink:0},children:"Group "+b}),$.jsx(En,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>f(b),children:$.jsx(us,{})})]}),$.jsx(da,{className:n.details,children:r==="Elements "+b&&$.jsxs(U.Fragment,{children:[$.jsx(ar,{required:!0,label:"Name",variant:"standard",value:y.name?y.name:""}),$.jsx(Cl,{emptyValue:null,value:0,data:[{id:0,name:"Power Tower"},{id:1,name:"wind turbine"},{id:2,name:"Solar Panel"}],label:"Type",style:{display:"inline",width:"200px"}}),$.jsx(NZ,{markers:y.items,setMarkers:T=>a(b,T),type:"Element"})]})})]}))),$.jsx($i,{textAlign:"center",children:$.jsx(or,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:h,children:"Create List of Elements"})})]})})},RYe=wr(e=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),DYe=({Data:e,setData:t})=>{const n=RYe(),[r,i]=U.useState(!1),[o,s]=U.useState(!1),[a,f]=U.useState(!1),h=E=>{let T=JSON.parse(JSON.stringify(e));T.splice(E,1),t(T)},g=(E,T)=>{let w=JSON.parse(JSON.stringify(e));w[E].items.splice(T,1),t(w)},y=E=>(T,w)=>{s(w?E:!1)},b=E=>(T,w)=>{i(w?E:!1)};return U.useEffect(()=>{e&&(e.length>0?f(!0):f(!1))},[e]),$.jsx("div",{children:a&&$.jsx("div",{className:n.details,children:Pe.Children.toArray(Object.values(e).map((E,T,w)=>$.jsxs(ua,{expanded:r===`Elements ${T}`,onChange:b(`Elements ${T}`),children:[$.jsxs(fa,{expandIcon:$.jsx(Fo,{}),children:[$.jsx(tn,{sx:{width:"33%",flexShrink:0},children:`Group ${T}`}),$.jsx(En,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>h(T),children:$.jsx(us,{})})]}),$.jsx(da,{className:n.details,children:r===`Elements ${T}`&&$.jsxs($.Fragment,{children:[$.jsx(ar,{required:!0,label:"Name",variant:"standard",value:E.name?E.name:""}),$.jsx("div",{className:n.details,children:Pe.Children.toArray(Object.values(E.items).map((M,A,O)=>$.jsxs(ua,{expanded:o===`Elements ${A}`,onChange:y(`Elements ${A}`),children:[$.jsxs(fa,{expandIcon:$.jsx(Fo,{}),children:[M.title?$.jsx(tn,{sx:{width:"33%",flexShrink:0},children:`Element ${M.title}`}):$.jsx(tn,{sx:{width:"33%",flexShrink:0},children:`Element ${A}`}),$.jsx(En,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>g(T,A),children:$.jsx(us,{})})]}),$.jsx(da,{className:n.details,children:o===`Elements ${A}`&&$.jsxs($i,{component:"form",sx:{"& .MuiTextField-root":{m:1}},children:[$.jsx(ar,{disabled:!0,label:"Latitude ",type:"number",sx:{width:"15ch"},variant:"standard",inputProps:{maxLength:8,step:1e-4},value:M.latitude}),$.jsx(ar,{disabled:!0,label:"Longitud ",type:"number",variant:"standard",sx:{width:"15ch"},inputProps:{maxLength:8,step:1e-4},value:M.longitude})]})})]})))})]})})]})))})})},jYe=wr(e=>({root:{margin:"0",height:"100vh"},sidebarStyle:{display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 95px)",width:"560px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},panelElevation:{display:"flex",flexDirection:"column",position:"fixed",right:0,bottom:0,height:"30vh",width:"calc(100% - 560px)",margin:"0px",zIndex:3},toolbar:{display:"flex",gap:"10px 10px",height:"30px",borderBottom:"3px solid rgb(212, 212, 212)"},list:{maxHeight:"calc(100vh - 152px)",overflowY:"auto"},title:{flexGrow:1},fileInput:{display:"none"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)}})),LYe=(e,t)=>{setList([...list,toastProperties])},NYe=()=>{const e=jYe(),t=Ch(),n=Ba(),[r,i]=U.useState(!0),[o,s]=U.useState(!1),[a,f]=U.useState(!1),[h,g]=U.useState(!1),[y,b]=U.useState(!1),E=Cn(Ae=>Ae.session.markers),T=Cn(Ae=>Ae.session.planning),[w,M]=U.useState(E),[A,O]=U.useState(T),[I,L]=U.useState("2"),[R,D]=U.useState(""),[F,q]=U.useState(""),J=Gve(async()=>{let Ae={};Ae.id=A.id,Ae.name=A.name,Ae.objetivo=A.objetivo.id,Ae.bases=w.bases,Ae.meteo=A.meteo;let Fe=A.loc.map(bt=>{let Ye=bt.items.map(lt=>({latitude:lt.latitude,longitude:lt.longitude}));return{name:bt.name,items:Ye}});Ae.loc=Fe;let qe=A.bases.map(bt=>bt.devices.deviceId),rt=!1;if(qe.map((bt,Ye)=>{qe.map((lt,ct)=>{Ye!==ct&&bt==lt&&(rt=!0)})}),rt)return q("the device is repeated please change"),null;q("");let Je=[];const kt=await fetch("/api/devices");if(kt.ok)Je=await kt.json();else throw Error(await kt.text());console.log(Je),console.log(A.bases),Ae.settings=A.bases.map(bt=>{let Ye=JSON.parse(JSON.stringify(bt)),lt=Je.find(ct=>ct.id==bt.devices.deviceId);return console.log(lt),Ye.devices.category=lt.category,Ye}),console.log(Ae);{const bt=await fetch("http://192.168.1.180:8004/mission_request",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ae)});if(bt.ok){let Ye=await bt.json();console.log(Ye),console.log("real planning OK")}else console.log("real planning OK")}}),K=()=>{console.log("uno")},ne=Ae=>{console.log("save mission");let Fe=dS.stringify(Ae);const qe=new Blob([Fe],{type:"text/plain"}),rt=URL.createObjectURL(qe),Je=document.createElement("a");Je.download=Ae.name+".yaml",Je.href=rt,Je.click()},le=Ae=>{const Fe=Ae.target.files[0];if(!Fe)return;const qe=new FileReader;qe.readAsText(Fe),qe.onload=()=>{let rt=dS.parse(qe.result);console.log(rt),console.log(Fe.name),M(Je=>({...Je,bases:rt.markersbase})),rt.hasOwnProperty("markersbase")&&delete rt.markersbase,O(rt)},qe.onerror=()=>{console.log(qe.error)}},ye=Ae=>{O({...A,bases:Ae})},de=(Ae,Fe)=>{L(Fe),Fe==2||Fe==1?i(!0):i(!1),Fe==1?s(!0):s(!1),Fe==1?f(!0):f(!1)},se=(Ae,Fe={})=>{M({...w,bases:Ae}),Fe.hasOwnProperty("meth")&&(Fe.meth=="add"&&O(qe=>{let rt=JSON.parse(JSON.stringify(qe.bases)),Je={};return Object.keys(R).map(kt=>{Je[kt]={}}),Object.keys(R.devices).map(kt=>{Je.devices[kt]=R.devices[kt].default}),Object.keys(R.mission).map(kt=>{Je.mission[kt]=R.mission[kt].default}),rt.push(Je),{...qe,bases:rt}}),Fe.meth=="del"&&O(qe=>{let rt=JSON.parse(JSON.stringify(qe.bases));return rt.split(Fe.index,1),{...qe,bases:rt}}))},pe=Ae=>{M({...w,elements:Ae})},be=Ae=>{M(Ae)},ce=Ae=>{O({...A,loc:Ae})},Ee=(Ae,Fe,qe)=>(qe=="path-object"&&(Ae.length==0?Ae.push({type:"powerTower",name:"Elements",linea:!0,items:[Fe]}):Ae.find(Je=>Je.items[0].groupId==Fe.groupId)===void 0?Ae.push({type:"powerTower",name:"Elements",linea:!0,items:[Fe]}):Ae[+Ae.length-1].items.push(Fe)),qe=="object"&&Ae.push({type:"powerTower",name:"Elements",linea:!0,items:[Fe]}),qe=="point"&&Ae.push({type:"powerTower",name:"Elements",linea:!0,items:[Fe]}),Ae),Re=Ae=>{console.log(Ae),O(Fe=>{let qe=JSON.parse(JSON.stringify(Fe.loc));return console.log(Fe.objetivo.type),{...Fe,loc:Ee(qe,Ae,Fe.objetivo.type)}})},Xe=Ae=>{O(Fe=>{let qe=JSON.parse(JSON.stringify(Fe));return qe.objetivo=Ae,Ae.type!==Fe.objetivo.type&&(qe.loc=[]),qe})};return sx(async()=>{const Ae=await fetch(`/api/planning/missionparam/${A.objetivo.id}`);if(Ae.ok)D(await Ae.json());else throw Error(await Ae.text())},[A.objetivo]),U.useEffect(()=>{if(console.log(R),R.hasOwnProperty("mission"))if(A.bases.length==0){let Ae=[];w.bases.forEach(Fe=>{let qe={};Object.keys(R).map(rt=>{qe[rt]={}}),Object.keys(R.devices).map(rt=>{qe.devices[rt]=R.devices[rt].default}),Object.keys(R.mission).map(rt=>{qe.mission[rt]=R.mission[rt].default}),Ae.push(qe)}),O(Fe=>{let qe=JSON.parse(JSON.stringify(Fe));return qe.bases=Ae,qe.settings=R,qe})}else O({...A,settings:R})},[R]),U.useEffect(()=>{I==2&&A.objetivo.id!=3?g(!0):g(!1),I==2&&A.objetivo.id==3?b(!0):b(!1)},[I,A.objetivo]),U.useEffect(()=>{M(E)},[E]),U.useEffect(()=>{O(T)},[T]),U.useEffect(()=>{n(qc.updateMarker(w))},[w]),U.useEffect(()=>{n(qc.updatePlanning(A))},[A]),$.jsx("div",{className:e.root,children:$.jsx(DG,{children:$.jsxs(KC,{notification:LYe,children:[$.jsx(ZC,{}),$.jsx(XC,{}),$.jsxs("div",{style:{float:"right",width:"calc(100% - 560px)",height:"calc(70vh - 95px)",right:"0px",margin:"auto"},children:[$.jsxs(DR,{children:[$.jsx(IG,{}),$.jsx(AYe,{markers:w,selectMarkers:A.loc,showTitles:r,showLines:o,moveMarkers:a,setMarkers:be,SelectItems:h,CreateItems:y,setLocations:Re})]}),$.jsx(JD,{})]}),$.jsx("div",{className:e.sidebarStyle,children:$.jsx("div",{className:e.middleStyle,children:$.jsxs(Vo,{square:!0,children:[$.jsxs(Tg,{className:e.toolbar,children:[$.jsx(En,{edge:"start",sx:{mr:2},onClick:()=>t(-1),children:$.jsx(bx,{})}),$.jsx(tn,{variant:"h6",className:e.title,children:"Planning mission"}),$.jsx(En,{onClick:()=>{ne({...A,markersbase:w.bases})},children:$.jsx(oj,{})}),$.jsx(En,{onClick:K,children:$.jsx(us,{})}),$.jsxs("label",{htmlFor:"upload-gpx",children:[$.jsx("input",{accept:".yaml, .plan, .waypoint, .kml",id:"upload-gpx",type:"file",className:e.fileInput,onChange:le}),$.jsx(En,{edge:"end",component:"span",onClick:()=>{},children:$.jsx(rj,{})})]})]}),$.jsx("div",{className:e.list,children:$.jsx($i,{style:{display:"flex",gap:"10px",flexDirection:"column",margin:"20px"},children:$.jsxs(vYe,{value:I,children:[$.jsx($i,{sx:{borderBottom:1,borderColor:"divider"},children:$.jsxs(_Ye,{onChange:de,"aria-label":"lab API tabs example",children:[$.jsx(eP,{label:"Elements",value:"1"}),$.jsx(eP,{label:"Planning",value:"2"}),$.jsx(eP,{label:"Settings",value:"3"})]})}),$.jsx(CO,{value:"1",children:$.jsxs("div",{className:e.details,children:[$.jsxs(ua,{children:[$.jsx(fa,{expandIcon:$.jsx(Fo,{}),children:$.jsx(tn,{children:"Base elements"})}),$.jsx(da,{className:e.details,children:$.jsx(NZ,{markers:w.bases,setMarkers:se})})]}),$.jsx(Ym,{}),$.jsxs(ua,{children:[$.jsx(fa,{expandIcon:$.jsx(Fo,{}),children:$.jsx(tn,{children:"Interest Elements"})}),$.jsx(da,{className:e.details,children:$.jsx($Ye,{markers:w.elements,setMarkers:pe})})]})]})}),$.jsx(CO,{value:"2",children:$.jsxs($i,{className:e.details,children:[$.jsx(ar,{required:!0,fullWidth:!0,label:"id",type:"number",variant:"standard",value:A.id?A.id:123,onChange:Ae=>O({...A,id:Ae.target.value})}),$.jsx(ar,{required:!0,fullWidth:!0,label:"Name Mission",variant:"standard",value:A.name?A.name:" ",onChange:Ae=>O({...A,name:Ae.target.value})}),$.jsx(Cl,{emptyValue:null,fullWidth:!0,label:"objetive",value:A.objetivo.id,endpoint:"/api/planning/missionstype",keyGetter:Ae=>Ae.id,titleGetter:Ae=>Ae.name,onChange:(Ae,Fe)=>{Xe(Fe[Ae.target.value])},getItems:Ae=>{console.log(Ae),O({...A,objetivo:Ae})}}),$.jsxs(ua,{children:[$.jsx(fa,{expandIcon:$.jsx(Fo,{}),children:$.jsx(tn,{children:"Points to inspect "})}),$.jsx(da,{className:e.details,children:$.jsxs("div",{className:e.details,children:[A.objetivo.hasOwnProperty("description")?$.jsx(tn,{children:A.objetivo.description}):$.jsx(tn,{children:"select doing click in the map"}),$.jsx(DYe,{Data:A.loc,setData:ce})]})})]}),$.jsx(Ym,{}),$.jsxs(ua,{children:[$.jsx(fa,{expandIcon:$.jsx(Fo,{}),children:$.jsx(tn,{children:"Meteo"})}),$.jsxs(da,{className:e.details,children:[$.jsx(ar,{required:!0,fullWidth:!0,label:"wind speed",type:"number",variant:"standard",value:12}),$.jsx(ar,{required:!0,fullWidth:!0,label:"Wind direction",type:"number",variant:"standard",value:12}),$.jsx(ar,{required:!0,fullWidth:!0,label:"Temperature",type:"number",variant:"standard",value:12}),$.jsx(ar,{required:!0,fullWidth:!0,label:"Humidity",type:"number",variant:"standard",value:12}),$.jsx(ar,{required:!0,fullWidth:!0,label:"Pressure",type:"number",variant:"standard",value:12})]})]})]})}),$.jsx(CO,{value:"3",children:$.jsxs("div",{className:e.details,children:[$.jsx(OYe,{data:A.bases,param:A.settings,setData:ye}),$.jsx($i,{textAlign:"center",children:$.jsx(or,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:J,children:"Plannig"})}),$.jsx(tn,{children:F})]})})]})})})]})})}),$.jsx("div",{className:e.panelElevation,children:$.jsx("div",{className:e.middleStyle,children:$.jsx(Vo,{square:!0,children:$.jsx(AZ,{})})})})]})})})},zYe=()=>{const e=Ch();D2();const t=Rxe();return sx(async()=>{e("/")},[t]),$.jsx(Qte,{children:$.jsxs(ml,{path:"/",element:$.jsx($xe,{}),children:[$.jsx(ml,{index:!0,element:$.jsx(FEe,{})}),$.jsx(ml,{path:"mission",element:$.jsx(eYe,{})}),$.jsx(ml,{path:"planning",element:$.jsx(NYe,{})}),$.jsx(ml,{path:"camera",element:$.jsx(hYe,{})}),$.jsx(ml,{path:"device/:id",element:$.jsx(uYe,{})}),$.jsx(ml,{path:"event/:id",element:$.jsx(tYe,{})}),$.jsx(ml,{path:"events",element:$.jsx(mYe,{})}),$.jsx(ml,{path:"replay",element:$.jsx(nYe,{})}),$.jsx(ml,{path:"topics",element:$.jsx(gYe,{})})]})})},BYe=()=>{const e={white:mh.white,background:ac[50],primary:l9[900],secondary:Sl[800],positive:Sl[500],medium:F$[700],negative:Wc[500],neutral:ac[500],geometry:"#3bb2d0"};return{background:{default:e.background},primary:{main:e.primary},secondary:{main:e.secondary,contrastText:e.white},colors:e}},FYe={sidebarWidth:"28%",sidebarWidthTablet:"52px",drawerWidthDesktop:"360px",drawerWidthTablet:"320px",drawerHeightPhone:"250px",filterFormWidth:"160px",eventsDrawerWidth:"320px",bottomBarHeight:56,popupMapOffset:300,popupMaxWidth:288,popupImageHeight:144},UYe={MuiUseMediaQuery:{defaultProps:{noSsr:!0}},MuiOutlinedInput:{styleOverrides:{root:{backgroundColor:ac[50]}}},MuiButton:{styleOverrides:{sizeMedium:{height:"40px"}}},MuiFormControl:{defaultProps:{size:"small"}},MuiSnackbar:{defaultProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"}}}},VYe=()=>U.useMemo(()=>oR({palette:BYe(),dimensions:FYe,components:UYe}),[]),WYe=({children:e})=>{const t=VYe();return $.jsx(nle,{theme:t,children:e})};Iie();const qYe=xW(document.getElementById("root"));qYe.render($.jsx(cre,{store:uie,children:$.jsx(Goe,{injectFirst:!0,children:$.jsxs(WYe,{children:[$.jsx(Mhe,{}),$.jsx(tne,{children:$.jsx(zYe,{})})]})})}))});export default HYe();
