var MJ=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var kGe=MJ((EGe,fw)=>{function AJ(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Z8(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var X8={exports:{}},h2={},J8={exports:{}},Nn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx=Symbol.for("react.element"),IJ=Symbol.for("react.portal"),$J=Symbol.for("react.fragment"),RJ=Symbol.for("react.strict_mode"),DJ=Symbol.for("react.profiler"),LJ=Symbol.for("react.provider"),jJ=Symbol.for("react.context"),NJ=Symbol.for("react.forward_ref"),zJ=Symbol.for("react.suspense"),BJ=Symbol.for("react.memo"),FJ=Symbol.for("react.lazy"),NN=Symbol.iterator;function UJ(e){return e===null||typeof e!="object"?null:(e=NN&&e[NN]||e["@@iterator"],typeof e=="function"?e:null)}var Q8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eU=Object.assign,tU={};function yg(e,t,n){this.props=e,this.context=t,this.refs=tU,this.updater=n||Q8}yg.prototype.isReactComponent={};yg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nU(){}nU.prototype=yg.prototype;function kI(e,t,n){this.props=e,this.context=t,this.refs=tU,this.updater=n||Q8}var TI=kI.prototype=new nU;TI.constructor=kI;eU(TI,yg.prototype);TI.isPureReactComponent=!0;var zN=Array.isArray,rU=Object.prototype.hasOwnProperty,PI={current:null},iU={key:!0,ref:!0,__self:!0,__source:!0};function oU(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)rU.call(t,r)&&!iU.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var f=Array(a),h=0;h<a;h++)f[h]=arguments[h+2];i.children=f}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:qx,type:e,key:o,ref:s,props:i,_owner:PI.current}}function VJ(e,t){return{$$typeof:qx,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function EI(e){return typeof e=="object"&&e!==null&&e.$$typeof===qx}function WJ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var BN=/\/+/g;function nP(e,t){return typeof e=="object"&&e!==null&&e.key!=null?WJ(""+e.key):t.toString(36)}function z1(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case qx:case IJ:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+nP(s,0):r,zN(i)?(n="",e!=null&&(n=e.replace(BN,"$&/")+"/"),z1(i,t,n,"",function(h){return h})):i!=null&&(EI(i)&&(i=VJ(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(BN,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",zN(e))for(var a=0;a<e.length;a++){o=e[a];var f=r+nP(o,a);s+=z1(o,t,n,f,i)}else if(f=UJ(e),typeof f=="function")for(e=f.call(e),a=0;!(o=e.next()).done;)o=o.value,f=r+nP(o,a++),s+=z1(o,t,n,f,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N_(e,t,n){if(e==null)return e;var r=[],i=0;return z1(e,r,"","",function(o){return t.call(n,o,i++)}),r}function qJ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ca={current:null},B1={transition:null},HJ={ReactCurrentDispatcher:ca,ReactCurrentBatchConfig:B1,ReactCurrentOwner:PI};Nn.Children={map:N_,forEach:function(e,t,n){N_(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N_(e,function(){t++}),t},toArray:function(e){return N_(e,function(t){return t})||[]},only:function(e){if(!EI(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Nn.Component=yg;Nn.Fragment=$J;Nn.Profiler=DJ;Nn.PureComponent=kI;Nn.StrictMode=RJ;Nn.Suspense=zJ;Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HJ;Nn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=eU({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=PI.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(f in t)rU.call(t,f)&&!iU.hasOwnProperty(f)&&(r[f]=t[f]===void 0&&a!==void 0?a[f]:t[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){a=Array(f);for(var h=0;h<f;h++)a[h]=arguments[h+2];r.children=a}return{$$typeof:qx,type:e.type,key:i,ref:o,props:r,_owner:s}};Nn.createContext=function(e){return e={$$typeof:jJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:LJ,_context:e},e.Consumer=e};Nn.createElement=oU;Nn.createFactory=function(e){var t=oU.bind(null,e);return t.type=e,t};Nn.createRef=function(){return{current:null}};Nn.forwardRef=function(e){return{$$typeof:NJ,render:e}};Nn.isValidElement=EI;Nn.lazy=function(e){return{$$typeof:FJ,_payload:{_status:-1,_result:e},_init:qJ}};Nn.memo=function(e,t){return{$$typeof:BJ,type:e,compare:t===void 0?null:t}};Nn.startTransition=function(e){var t=B1.transition;B1.transition={};try{e()}finally{B1.transition=t}};Nn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Nn.useCallback=function(e,t){return ca.current.useCallback(e,t)};Nn.useContext=function(e){return ca.current.useContext(e)};Nn.useDebugValue=function(){};Nn.useDeferredValue=function(e){return ca.current.useDeferredValue(e)};Nn.useEffect=function(e,t){return ca.current.useEffect(e,t)};Nn.useId=function(){return ca.current.useId()};Nn.useImperativeHandle=function(e,t,n){return ca.current.useImperativeHandle(e,t,n)};Nn.useInsertionEffect=function(e,t){return ca.current.useInsertionEffect(e,t)};Nn.useLayoutEffect=function(e,t){return ca.current.useLayoutEffect(e,t)};Nn.useMemo=function(e,t){return ca.current.useMemo(e,t)};Nn.useReducer=function(e,t,n){return ca.current.useReducer(e,t,n)};Nn.useRef=function(e){return ca.current.useRef(e)};Nn.useState=function(e){return ca.current.useState(e)};Nn.useSyncExternalStore=function(e,t,n){return ca.current.useSyncExternalStore(e,t,n)};Nn.useTransition=function(){return ca.current.useTransition()};Nn.version="18.2.0";J8.exports=Nn;var U=J8.exports;const Ee=cr(U),hw=AJ({__proto__:null,default:Ee},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GJ=U,YJ=Symbol.for("react.element"),KJ=Symbol.for("react.fragment"),ZJ=Object.prototype.hasOwnProperty,XJ=GJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JJ={key:!0,ref:!0,__self:!0,__source:!0};function aU(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)ZJ.call(t,r)&&!JJ.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:YJ,type:e,key:o,ref:s,props:i,_owner:XJ.current}}h2.Fragment=KJ;h2.jsx=aU;h2.jsxs=aU;X8.exports=h2;var L=X8.exports,sU={exports:{}},is={},lU={exports:{}},cU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(le,Pe){var je=le.length;le.push(Pe);e:for(;0<je;){var Qe=je-1>>>1,We=le[Qe];if(0<i(We,Pe))le[Qe]=Pe,le[je]=We,je=Qe;else break e}}function n(le){return le.length===0?null:le[0]}function r(le){if(le.length===0)return null;var Pe=le[0],je=le.pop();if(je!==Pe){le[0]=je;e:for(var Qe=0,We=le.length,Ke=We>>>1;Qe<Ke;){var nt=2*(Qe+1)-1,mt=le[nt],st=nt+1,Nt=le[st];if(0>i(mt,je))st<We&&0>i(Nt,mt)?(le[Qe]=Nt,le[st]=je,Qe=st):(le[Qe]=mt,le[nt]=je,Qe=nt);else if(st<We&&0>i(Nt,je))le[Qe]=Nt,le[st]=je,Qe=st;else break e}}return Pe}function i(le,Pe){var je=le.sortIndex-Pe.sortIndex;return je!==0?je:le.id-Pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var f=[],h=[],g=1,y=null,x=3,T=!1,E=!1,C=!1,O=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(le){for(var Pe=n(h);Pe!==null;){if(Pe.callback===null)r(h);else if(Pe.startTime<=le)r(h),Pe.sortIndex=Pe.expirationTime,t(f,Pe);else break;Pe=n(h)}}function N(le){if(C=!1,I(le),!E)if(n(f)!==null)E=!0,ue($);else{var Pe=n(h);Pe!==null&&xe(N,Pe.startTime-le)}}function $(le,Pe){E=!1,C&&(C=!1,A(q),q=-1),T=!0;var je=x;try{for(I(Pe),y=n(f);y!==null&&(!(y.expirationTime>Pe)||le&&!ie());){var Qe=y.callback;if(typeof Qe=="function"){y.callback=null,x=y.priorityLevel;var We=Qe(y.expirationTime<=Pe);Pe=e.unstable_now(),typeof We=="function"?y.callback=We:y===n(f)&&r(f),I(Pe)}else r(f);y=n(f)}if(y!==null)var Ke=!0;else{var nt=n(h);nt!==null&&xe(N,nt.startTime-Pe),Ke=!1}return Ke}finally{y=null,x=je,T=!1}}var D=!1,F=null,q=-1,X=5,J=-1;function ie(){return!(e.unstable_now()-J<X)}function ge(){if(F!==null){var le=e.unstable_now();J=le;var Pe=!0;try{Pe=F(!0,le)}finally{Pe?Ce():(D=!1,F=null)}}else D=!1}var Ce;if(typeof M=="function")Ce=function(){M(ge)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ce=fe.port2;fe.port1.onmessage=ge,Ce=function(){ce.postMessage(null)}}else Ce=function(){O(ge,0)};function ue(le){F=le,D||(D=!0,Ce())}function xe(le,Pe){q=O(function(){le(e.unstable_now())},Pe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(le){le.callback=null},e.unstable_continueExecution=function(){E||T||(E=!0,ue($))},e.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<le?Math.floor(1e3/le):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(le){switch(x){case 1:case 2:case 3:var Pe=3;break;default:Pe=x}var je=x;x=Pe;try{return le()}finally{x=je}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(le,Pe){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var je=x;x=le;try{return Pe()}finally{x=je}},e.unstable_scheduleCallback=function(le,Pe,je){var Qe=e.unstable_now();switch(typeof je=="object"&&je!==null?(je=je.delay,je=typeof je=="number"&&0<je?Qe+je:Qe):je=Qe,le){case 1:var We=-1;break;case 2:We=250;break;case 5:We=1073741823;break;case 4:We=1e4;break;default:We=5e3}return We=je+We,le={id:g++,callback:Pe,priorityLevel:le,startTime:je,expirationTime:We,sortIndex:-1},je>Qe?(le.sortIndex=je,t(h,le),n(f)===null&&le===n(h)&&(C?(A(q),q=-1):C=!0,xe(N,je-Qe))):(le.sortIndex=We,t(f,le),E||T||(E=!0,ue($))),le},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(le){var Pe=x;return function(){var je=x;x=Pe;try{return le.apply(this,arguments)}finally{x=je}}}})(cU);lU.exports=cU;var QJ=lU.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uU=U,es=QJ;function yt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dU=new Set,C0={};function _h(e,t){Em(e,t),Em(e+"Capture",t)}function Em(e,t){for(C0[e]=t,e=0;e<t.length;e++)dU.add(t[e])}var au=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xO=Object.prototype.hasOwnProperty,eQ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,FN={},UN={};function tQ(e){return xO.call(UN,e)?!0:xO.call(FN,e)?!1:eQ.test(e)?UN[e]=!0:(FN[e]=!0,!1)}function nQ(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rQ(e,t,n,r){if(t===null||typeof t>"u"||nQ(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ua(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var bo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bo[e]=new ua(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];bo[t]=new ua(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bo[e]=new ua(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bo[e]=new ua(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bo[e]=new ua(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bo[e]=new ua(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bo[e]=new ua(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bo[e]=new ua(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bo[e]=new ua(e,5,!1,e.toLowerCase(),null,!1,!1)});var OI=/[\-:]([a-z])/g;function MI(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(OI,MI);bo[t]=new ua(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(OI,MI);bo[t]=new ua(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(OI,MI);bo[t]=new ua(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bo[e]=new ua(e,1,!1,e.toLowerCase(),null,!1,!1)});bo.xlinkHref=new ua("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bo[e]=new ua(e,1,!1,e.toLowerCase(),null,!0,!0)});function AI(e,t,n,r){var i=bo.hasOwnProperty(t)?bo[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rQ(t,n,i,r)&&(n=null),r||i===null?tQ(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var bu=uU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z_=Symbol.for("react.element"),zp=Symbol.for("react.portal"),Bp=Symbol.for("react.fragment"),II=Symbol.for("react.strict_mode"),bO=Symbol.for("react.profiler"),fU=Symbol.for("react.provider"),hU=Symbol.for("react.context"),$I=Symbol.for("react.forward_ref"),_O=Symbol.for("react.suspense"),wO=Symbol.for("react.suspense_list"),RI=Symbol.for("react.memo"),sd=Symbol.for("react.lazy"),pU=Symbol.for("react.offscreen"),VN=Symbol.iterator;function tv(e){return e===null||typeof e!="object"?null:(e=VN&&e[VN]||e["@@iterator"],typeof e=="function"?e:null)}var ci=Object.assign,rP;function zv(e){if(rP===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);rP=t&&t[1]||""}return`
`+rP+e}var iP=!1;function oP(e,t){if(!e||iP)return"";iP=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var f=`
`+i[s].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=s&&0<=a);break}}}finally{iP=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?zv(e):""}function iQ(e){switch(e.tag){case 5:return zv(e.type);case 16:return zv("Lazy");case 13:return zv("Suspense");case 19:return zv("SuspenseList");case 0:case 2:case 15:return e=oP(e.type,!1),e;case 11:return e=oP(e.type.render,!1),e;case 1:return e=oP(e.type,!0),e;default:return""}}function SO(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bp:return"Fragment";case zp:return"Portal";case bO:return"Profiler";case II:return"StrictMode";case _O:return"Suspense";case wO:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hU:return(e.displayName||"Context")+".Consumer";case fU:return(e._context.displayName||"Context")+".Provider";case $I:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case RI:return t=e.displayName||null,t!==null?t:SO(e.type)||"Memo";case sd:t=e._payload,e=e._init;try{return SO(e(t))}catch{}}return null}function oQ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return SO(t);case 8:return t===II?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ld(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mU(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function aQ(e){var t=mU(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function B_(e){e._valueTracker||(e._valueTracker=aQ(e))}function gU(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=mU(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function pw(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function CO(e,t){var n=t.checked;return ci({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function WN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ld(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yU(e,t){t=t.checked,t!=null&&AI(e,"checked",t,!1)}function kO(e,t){yU(e,t);var n=Ld(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?TO(e,t.type,n):t.hasOwnProperty("defaultValue")&&TO(e,t.type,Ld(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function TO(e,t,n){(t!=="number"||pw(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Bv=Array.isArray;function lm(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ld(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function PO(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(yt(91));return ci({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function HN(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(yt(92));if(Bv(n)){if(1<n.length)throw Error(yt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ld(n)}}function vU(e,t){var n=Ld(t.value),r=Ld(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function GN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xU(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function EO(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xU(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var F_,bU=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(F_=F_||document.createElement("div"),F_.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=F_.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function k0(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sQ=["Webkit","ms","Moz","O"];Object.keys(Xv).forEach(function(e){sQ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xv[t]=Xv[e]})});function _U(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xv.hasOwnProperty(e)&&Xv[e]?(""+t).trim():t+"px"}function wU(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_U(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var lQ=ci({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function OO(e,t){if(t){if(lQ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(yt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(yt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(yt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(yt(62))}}function MO(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AO=null;function DI(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var IO=null,cm=null,um=null;function YN(e){if(e=Yx(e)){if(typeof IO!="function")throw Error(yt(280));var t=e.stateNode;t&&(t=v2(t),IO(e.stateNode,e.type,t))}}function SU(e){cm?um?um.push(e):um=[e]:cm=e}function CU(){if(cm){var e=cm,t=um;if(um=cm=null,YN(e),t)for(e=0;e<t.length;e++)YN(t[e])}}function kU(e,t){return e(t)}function TU(){}var aP=!1;function PU(e,t,n){if(aP)return e(t,n);aP=!0;try{return kU(e,t,n)}finally{aP=!1,(cm!==null||um!==null)&&(TU(),CU())}}function T0(e,t){var n=e.stateNode;if(n===null)return null;var r=v2(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(yt(231,t,typeof n));return n}var $O=!1;if(au)try{var nv={};Object.defineProperty(nv,"passive",{get:function(){$O=!0}}),window.addEventListener("test",nv,nv),window.removeEventListener("test",nv,nv)}catch{$O=!1}function cQ(e,t,n,r,i,o,s,a,f){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(g){this.onError(g)}}var Jv=!1,mw=null,gw=!1,RO=null,uQ={onError:function(e){Jv=!0,mw=e}};function dQ(e,t,n,r,i,o,s,a,f){Jv=!1,mw=null,cQ.apply(uQ,arguments)}function fQ(e,t,n,r,i,o,s,a,f){if(dQ.apply(this,arguments),Jv){if(Jv){var h=mw;Jv=!1,mw=null}else throw Error(yt(198));gw||(gw=!0,RO=h)}}function wh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function EU(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function KN(e){if(wh(e)!==e)throw Error(yt(188))}function hQ(e){var t=e.alternate;if(!t){if(t=wh(e),t===null)throw Error(yt(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return KN(i),e;if(o===r)return KN(i),t;o=o.sibling}throw Error(yt(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(yt(189))}}if(n.alternate!==r)throw Error(yt(190))}if(n.tag!==3)throw Error(yt(188));return n.stateNode.current===n?e:t}function OU(e){return e=hQ(e),e!==null?MU(e):null}function MU(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=MU(e);if(t!==null)return t;e=e.sibling}return null}var AU=es.unstable_scheduleCallback,ZN=es.unstable_cancelCallback,pQ=es.unstable_shouldYield,mQ=es.unstable_requestPaint,Ei=es.unstable_now,gQ=es.unstable_getCurrentPriorityLevel,LI=es.unstable_ImmediatePriority,IU=es.unstable_UserBlockingPriority,yw=es.unstable_NormalPriority,yQ=es.unstable_LowPriority,$U=es.unstable_IdlePriority,p2=null,ec=null;function vQ(e){if(ec&&typeof ec.onCommitFiberRoot=="function")try{ec.onCommitFiberRoot(p2,e,void 0,(e.current.flags&128)===128)}catch{}}var Cl=Math.clz32?Math.clz32:_Q,xQ=Math.log,bQ=Math.LN2;function _Q(e){return e>>>=0,e===0?32:31-(xQ(e)/bQ|0)|0}var U_=64,V_=4194304;function Fv(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vw(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Fv(a):(o&=s,o!==0&&(r=Fv(o)))}else s=n&~i,s!==0?r=Fv(s):o!==0&&(r=Fv(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Cl(t),i=1<<n,r|=e[n],t&=~i;return r}function wQ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SQ(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Cl(o),a=1<<s,f=i[s];f===-1?(!(a&n)||a&r)&&(i[s]=wQ(a,t)):f<=t&&(e.expiredLanes|=a),o&=~a}}function DO(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function RU(){var e=U_;return U_<<=1,!(U_&4194240)&&(U_=64),e}function sP(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hx(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Cl(t),e[t]=n}function CQ(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Cl(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function jI(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Cl(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gr=0;function DU(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var LU,NI,jU,NU,zU,LO=!1,W_=[],_d=null,wd=null,Sd=null,P0=new Map,E0=new Map,ud=[],kQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function XN(e,t){switch(e){case"focusin":case"focusout":_d=null;break;case"dragenter":case"dragleave":wd=null;break;case"mouseover":case"mouseout":Sd=null;break;case"pointerover":case"pointerout":P0.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":E0.delete(t.pointerId)}}function rv(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Yx(t),t!==null&&NI(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function TQ(e,t,n,r,i){switch(t){case"focusin":return _d=rv(_d,e,t,n,r,i),!0;case"dragenter":return wd=rv(wd,e,t,n,r,i),!0;case"mouseover":return Sd=rv(Sd,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return P0.set(o,rv(P0.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,E0.set(o,rv(E0.get(o)||null,e,t,n,r,i)),!0}return!1}function BU(e){var t=Bf(e.target);if(t!==null){var n=wh(t);if(n!==null){if(t=n.tag,t===13){if(t=EU(n),t!==null){e.blockedOn=t,zU(e.priority,function(){jU(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function F1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jO(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);AO=r,n.target.dispatchEvent(r),AO=null}else return t=Yx(n),t!==null&&NI(t),e.blockedOn=n,!1;t.shift()}return!0}function JN(e,t,n){F1(e)&&n.delete(t)}function PQ(){LO=!1,_d!==null&&F1(_d)&&(_d=null),wd!==null&&F1(wd)&&(wd=null),Sd!==null&&F1(Sd)&&(Sd=null),P0.forEach(JN),E0.forEach(JN)}function iv(e,t){e.blockedOn===t&&(e.blockedOn=null,LO||(LO=!0,es.unstable_scheduleCallback(es.unstable_NormalPriority,PQ)))}function O0(e){function t(i){return iv(i,e)}if(0<W_.length){iv(W_[0],e);for(var n=1;n<W_.length;n++){var r=W_[n];r.blockedOn===e&&(r.blockedOn=null)}}for(_d!==null&&iv(_d,e),wd!==null&&iv(wd,e),Sd!==null&&iv(Sd,e),P0.forEach(t),E0.forEach(t),n=0;n<ud.length;n++)r=ud[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ud.length&&(n=ud[0],n.blockedOn===null);)BU(n),n.blockedOn===null&&ud.shift()}var dm=bu.ReactCurrentBatchConfig,xw=!0;function EQ(e,t,n,r){var i=gr,o=dm.transition;dm.transition=null;try{gr=1,zI(e,t,n,r)}finally{gr=i,dm.transition=o}}function OQ(e,t,n,r){var i=gr,o=dm.transition;dm.transition=null;try{gr=4,zI(e,t,n,r)}finally{gr=i,dm.transition=o}}function zI(e,t,n,r){if(xw){var i=jO(e,t,n,r);if(i===null)yP(e,t,r,bw,n),XN(e,r);else if(TQ(i,e,t,n,r))r.stopPropagation();else if(XN(e,r),t&4&&-1<kQ.indexOf(e)){for(;i!==null;){var o=Yx(i);if(o!==null&&LU(o),o=jO(e,t,n,r),o===null&&yP(e,t,r,bw,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else yP(e,t,r,null,n)}}var bw=null;function jO(e,t,n,r){if(bw=null,e=DI(r),e=Bf(e),e!==null)if(t=wh(e),t===null)e=null;else if(n=t.tag,n===13){if(e=EU(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bw=e,null}function FU(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gQ()){case LI:return 1;case IU:return 4;case yw:case yQ:return 16;case $U:return 536870912;default:return 16}default:return 16}}var hd=null,BI=null,U1=null;function UU(){if(U1)return U1;var e,t=BI,n=t.length,r,i="value"in hd?hd.value:hd.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return U1=i.slice(e,1<r?1-r:void 0)}function V1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function q_(){return!0}function QN(){return!1}function os(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?q_:QN,this.isPropagationStopped=QN,this}return ci(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=q_)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=q_)},persist:function(){},isPersistent:q_}),t}var vg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},FI=os(vg),Gx=ci({},vg,{view:0,detail:0}),MQ=os(Gx),lP,cP,ov,m2=ci({},Gx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:UI,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ov&&(ov&&e.type==="mousemove"?(lP=e.screenX-ov.screenX,cP=e.screenY-ov.screenY):cP=lP=0,ov=e),lP)},movementY:function(e){return"movementY"in e?e.movementY:cP}}),ez=os(m2),AQ=ci({},m2,{dataTransfer:0}),IQ=os(AQ),$Q=ci({},Gx,{relatedTarget:0}),uP=os($Q),RQ=ci({},vg,{animationName:0,elapsedTime:0,pseudoElement:0}),DQ=os(RQ),LQ=ci({},vg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jQ=os(LQ),NQ=ci({},vg,{data:0}),tz=os(NQ),zQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UQ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=FQ[e])?!!t[e]:!1}function UI(){return UQ}var VQ=ci({},Gx,{key:function(e){if(e.key){var t=zQ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=V1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?BQ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:UI,charCode:function(e){return e.type==="keypress"?V1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?V1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),WQ=os(VQ),qQ=ci({},m2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nz=os(qQ),HQ=ci({},Gx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:UI}),GQ=os(HQ),YQ=ci({},vg,{propertyName:0,elapsedTime:0,pseudoElement:0}),KQ=os(YQ),ZQ=ci({},m2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),XQ=os(ZQ),JQ=[9,13,27,32],VI=au&&"CompositionEvent"in window,Qv=null;au&&"documentMode"in document&&(Qv=document.documentMode);var QQ=au&&"TextEvent"in window&&!Qv,VU=au&&(!VI||Qv&&8<Qv&&11>=Qv),rz=" ",iz=!1;function WU(e,t){switch(e){case"keyup":return JQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qU(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fp=!1;function eee(e,t){switch(e){case"compositionend":return qU(t);case"keypress":return t.which!==32?null:(iz=!0,rz);case"textInput":return e=t.data,e===rz&&iz?null:e;default:return null}}function tee(e,t){if(Fp)return e==="compositionend"||!VI&&WU(e,t)?(e=UU(),U1=BI=hd=null,Fp=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return VU&&t.locale!=="ko"?null:t.data;default:return null}}var nee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oz(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nee[e.type]:t==="textarea"}function HU(e,t,n,r){SU(r),t=_w(t,"onChange"),0<t.length&&(n=new FI("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var e0=null,M0=null;function ree(e){rV(e,0)}function g2(e){var t=Wp(e);if(gU(t))return e}function iee(e,t){if(e==="change")return t}var GU=!1;if(au){var dP;if(au){var fP="oninput"in document;if(!fP){var az=document.createElement("div");az.setAttribute("oninput","return;"),fP=typeof az.oninput=="function"}dP=fP}else dP=!1;GU=dP&&(!document.documentMode||9<document.documentMode)}function sz(){e0&&(e0.detachEvent("onpropertychange",YU),M0=e0=null)}function YU(e){if(e.propertyName==="value"&&g2(M0)){var t=[];HU(t,M0,e,DI(e)),PU(ree,t)}}function oee(e,t,n){e==="focusin"?(sz(),e0=t,M0=n,e0.attachEvent("onpropertychange",YU)):e==="focusout"&&sz()}function aee(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return g2(M0)}function see(e,t){if(e==="click")return g2(t)}function lee(e,t){if(e==="input"||e==="change")return g2(t)}function cee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tl=typeof Object.is=="function"?Object.is:cee;function A0(e,t){if(Tl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xO.call(t,i)||!Tl(e[i],t[i]))return!1}return!0}function lz(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cz(e,t){var n=lz(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lz(n)}}function KU(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?KU(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ZU(){for(var e=window,t=pw();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=pw(e.document)}return t}function WI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uee(e){var t=ZU(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&KU(n.ownerDocument.documentElement,n)){if(r!==null&&WI(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cz(n,o);var s=cz(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dee=au&&"documentMode"in document&&11>=document.documentMode,Up=null,NO=null,t0=null,zO=!1;function uz(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zO||Up==null||Up!==pw(r)||(r=Up,"selectionStart"in r&&WI(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),t0&&A0(t0,r)||(t0=r,r=_w(NO,"onSelect"),0<r.length&&(t=new FI("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Up)))}function H_(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vp={animationend:H_("Animation","AnimationEnd"),animationiteration:H_("Animation","AnimationIteration"),animationstart:H_("Animation","AnimationStart"),transitionend:H_("Transition","TransitionEnd")},hP={},XU={};au&&(XU=document.createElement("div").style,"AnimationEvent"in window||(delete Vp.animationend.animation,delete Vp.animationiteration.animation,delete Vp.animationstart.animation),"TransitionEvent"in window||delete Vp.transitionend.transition);function y2(e){if(hP[e])return hP[e];if(!Vp[e])return e;var t=Vp[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in XU)return hP[e]=t[n];return e}var JU=y2("animationend"),QU=y2("animationiteration"),eV=y2("animationstart"),tV=y2("transitionend"),nV=new Map,dz="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hd(e,t){nV.set(e,t),_h(t,[e])}for(var pP=0;pP<dz.length;pP++){var mP=dz[pP],fee=mP.toLowerCase(),hee=mP[0].toUpperCase()+mP.slice(1);Hd(fee,"on"+hee)}Hd(JU,"onAnimationEnd");Hd(QU,"onAnimationIteration");Hd(eV,"onAnimationStart");Hd("dblclick","onDoubleClick");Hd("focusin","onFocus");Hd("focusout","onBlur");Hd(tV,"onTransitionEnd");Em("onMouseEnter",["mouseout","mouseover"]);Em("onMouseLeave",["mouseout","mouseover"]);Em("onPointerEnter",["pointerout","pointerover"]);Em("onPointerLeave",["pointerout","pointerover"]);_h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_h("onBeforeInput",["compositionend","keypress","textInput","paste"]);_h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pee=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uv));function fz(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,fQ(r,t,void 0,e),e.currentTarget=null}function rV(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],f=a.instance,h=a.currentTarget;if(a=a.listener,f!==o&&i.isPropagationStopped())break e;fz(i,a,h),o=f}else for(s=0;s<r.length;s++){if(a=r[s],f=a.instance,h=a.currentTarget,a=a.listener,f!==o&&i.isPropagationStopped())break e;fz(i,a,h),o=f}}}if(gw)throw e=RO,gw=!1,RO=null,e}function Ur(e,t){var n=t[WO];n===void 0&&(n=t[WO]=new Set);var r=e+"__bubble";n.has(r)||(iV(t,e,2,!1),n.add(r))}function gP(e,t,n){var r=0;t&&(r|=4),iV(n,e,r,t)}var G_="_reactListening"+Math.random().toString(36).slice(2);function I0(e){if(!e[G_]){e[G_]=!0,dU.forEach(function(n){n!=="selectionchange"&&(pee.has(n)||gP(n,!1,e),gP(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[G_]||(t[G_]=!0,gP("selectionchange",!1,t))}}function iV(e,t,n,r){switch(FU(t)){case 1:var i=EQ;break;case 4:i=OQ;break;default:i=zI}n=i.bind(null,t,n,e),i=void 0,!$O||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function yP(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var f=s.tag;if((f===3||f===4)&&(f=s.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Bf(a),s===null)return;if(f=s.tag,f===5||f===6){r=o=s;continue e}a=a.parentNode}}r=r.return}PU(function(){var h=o,g=DI(n),y=[];e:{var x=nV.get(e);if(x!==void 0){var T=FI,E=e;switch(e){case"keypress":if(V1(n)===0)break e;case"keydown":case"keyup":T=WQ;break;case"focusin":E="focus",T=uP;break;case"focusout":E="blur",T=uP;break;case"beforeblur":case"afterblur":T=uP;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=ez;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=IQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=GQ;break;case JU:case QU:case eV:T=DQ;break;case tV:T=KQ;break;case"scroll":T=MQ;break;case"wheel":T=XQ;break;case"copy":case"cut":case"paste":T=jQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=nz}var C=(t&4)!==0,O=!C&&e==="scroll",A=C?x!==null?x+"Capture":null:x;C=[];for(var M=h,I;M!==null;){I=M;var N=I.stateNode;if(I.tag===5&&N!==null&&(I=N,A!==null&&(N=T0(M,A),N!=null&&C.push($0(M,N,I)))),O)break;M=M.return}0<C.length&&(x=new T(x,E,null,n,g),y.push({event:x,listeners:C}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",T=e==="mouseout"||e==="pointerout",x&&n!==AO&&(E=n.relatedTarget||n.fromElement)&&(Bf(E)||E[su]))break e;if((T||x)&&(x=g.window===g?g:(x=g.ownerDocument)?x.defaultView||x.parentWindow:window,T?(E=n.relatedTarget||n.toElement,T=h,E=E?Bf(E):null,E!==null&&(O=wh(E),E!==O||E.tag!==5&&E.tag!==6)&&(E=null)):(T=null,E=h),T!==E)){if(C=ez,N="onMouseLeave",A="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(C=nz,N="onPointerLeave",A="onPointerEnter",M="pointer"),O=T==null?x:Wp(T),I=E==null?x:Wp(E),x=new C(N,M+"leave",T,n,g),x.target=O,x.relatedTarget=I,N=null,Bf(g)===h&&(C=new C(A,M+"enter",E,n,g),C.target=I,C.relatedTarget=O,N=C),O=N,T&&E)t:{for(C=T,A=E,M=0,I=C;I;I=yp(I))M++;for(I=0,N=A;N;N=yp(N))I++;for(;0<M-I;)C=yp(C),M--;for(;0<I-M;)A=yp(A),I--;for(;M--;){if(C===A||A!==null&&C===A.alternate)break t;C=yp(C),A=yp(A)}C=null}else C=null;T!==null&&hz(y,x,T,C,!1),E!==null&&O!==null&&hz(y,O,E,C,!0)}}e:{if(x=h?Wp(h):window,T=x.nodeName&&x.nodeName.toLowerCase(),T==="select"||T==="input"&&x.type==="file")var $=iee;else if(oz(x))if(GU)$=lee;else{$=aee;var D=oee}else(T=x.nodeName)&&T.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&($=see);if($&&($=$(e,h))){HU(y,$,n,g);break e}D&&D(e,x,h),e==="focusout"&&(D=x._wrapperState)&&D.controlled&&x.type==="number"&&TO(x,"number",x.value)}switch(D=h?Wp(h):window,e){case"focusin":(oz(D)||D.contentEditable==="true")&&(Up=D,NO=h,t0=null);break;case"focusout":t0=NO=Up=null;break;case"mousedown":zO=!0;break;case"contextmenu":case"mouseup":case"dragend":zO=!1,uz(y,n,g);break;case"selectionchange":if(dee)break;case"keydown":case"keyup":uz(y,n,g)}var F;if(VI)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else Fp?WU(e,n)&&(q="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(q="onCompositionStart");q&&(VU&&n.locale!=="ko"&&(Fp||q!=="onCompositionStart"?q==="onCompositionEnd"&&Fp&&(F=UU()):(hd=g,BI="value"in hd?hd.value:hd.textContent,Fp=!0)),D=_w(h,q),0<D.length&&(q=new tz(q,e,null,n,g),y.push({event:q,listeners:D}),F?q.data=F:(F=qU(n),F!==null&&(q.data=F)))),(F=QQ?eee(e,n):tee(e,n))&&(h=_w(h,"onBeforeInput"),0<h.length&&(g=new tz("onBeforeInput","beforeinput",null,n,g),y.push({event:g,listeners:h}),g.data=F))}rV(y,t)})}function $0(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _w(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=T0(e,n),o!=null&&r.unshift($0(e,o,i)),o=T0(e,t),o!=null&&r.push($0(e,o,i))),e=e.return}return r}function yp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hz(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,f=a.alternate,h=a.stateNode;if(f!==null&&f===r)break;a.tag===5&&h!==null&&(a=h,i?(f=T0(n,o),f!=null&&s.unshift($0(n,f,a))):i||(f=T0(n,o),f!=null&&s.push($0(n,f,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var mee=/\r\n?/g,gee=/\u0000|\uFFFD/g;function pz(e){return(typeof e=="string"?e:""+e).replace(mee,`
`).replace(gee,"")}function Y_(e,t,n){if(t=pz(t),pz(e)!==t&&n)throw Error(yt(425))}function ww(){}var BO=null,FO=null;function UO(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var VO=typeof setTimeout=="function"?setTimeout:void 0,yee=typeof clearTimeout=="function"?clearTimeout:void 0,mz=typeof Promise=="function"?Promise:void 0,vee=typeof queueMicrotask=="function"?queueMicrotask:typeof mz<"u"?function(e){return mz.resolve(null).then(e).catch(xee)}:VO;function xee(e){setTimeout(function(){throw e})}function vP(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),O0(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);O0(t)}function Cd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gz(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var xg=Math.random().toString(36).slice(2),Gl="__reactFiber$"+xg,R0="__reactProps$"+xg,su="__reactContainer$"+xg,WO="__reactEvents$"+xg,bee="__reactListeners$"+xg,_ee="__reactHandles$"+xg;function Bf(e){var t=e[Gl];if(t)return t;for(var n=e.parentNode;n;){if(t=n[su]||n[Gl]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gz(e);e!==null;){if(n=e[Gl])return n;e=gz(e)}return t}e=n,n=e.parentNode}return null}function Yx(e){return e=e[Gl]||e[su],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(yt(33))}function v2(e){return e[R0]||null}var qO=[],qp=-1;function Gd(e){return{current:e}}function qr(e){0>qp||(e.current=qO[qp],qO[qp]=null,qp--)}function Lr(e,t){qp++,qO[qp]=e.current,e.current=t}var jd={},Uo=Gd(jd),Ea=Gd(!1),ah=jd;function Om(e,t){var n=e.type.contextTypes;if(!n)return jd;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Oa(e){return e=e.childContextTypes,e!=null}function Sw(){qr(Ea),qr(Uo)}function yz(e,t,n){if(Uo.current!==jd)throw Error(yt(168));Lr(Uo,t),Lr(Ea,n)}function oV(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(yt(108,oQ(e)||"Unknown",i));return ci({},n,r)}function Cw(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jd,ah=Uo.current,Lr(Uo,e),Lr(Ea,Ea.current),!0}function vz(e,t,n){var r=e.stateNode;if(!r)throw Error(yt(169));n?(e=oV(e,t,ah),r.__reactInternalMemoizedMergedChildContext=e,qr(Ea),qr(Uo),Lr(Uo,e)):qr(Ea),Lr(Ea,n)}var Bc=null,x2=!1,xP=!1;function aV(e){Bc===null?Bc=[e]:Bc.push(e)}function wee(e){x2=!0,aV(e)}function Yd(){if(!xP&&Bc!==null){xP=!0;var e=0,t=gr;try{var n=Bc;for(gr=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Bc=null,x2=!1}catch(i){throw Bc!==null&&(Bc=Bc.slice(e+1)),AU(LI,Yd),i}finally{gr=t,xP=!1}}return null}var Hp=[],Gp=0,kw=null,Tw=0,Ss=[],Cs=0,sh=null,Wc=1,qc="";function Ef(e,t){Hp[Gp++]=Tw,Hp[Gp++]=kw,kw=e,Tw=t}function sV(e,t,n){Ss[Cs++]=Wc,Ss[Cs++]=qc,Ss[Cs++]=sh,sh=e;var r=Wc;e=qc;var i=32-Cl(r)-1;r&=~(1<<i),n+=1;var o=32-Cl(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Wc=1<<32-Cl(t)+i|n<<i|r,qc=o+e}else Wc=1<<o|n<<i|r,qc=e}function qI(e){e.return!==null&&(Ef(e,1),sV(e,1,0))}function HI(e){for(;e===kw;)kw=Hp[--Gp],Hp[Gp]=null,Tw=Hp[--Gp],Hp[Gp]=null;for(;e===sh;)sh=Ss[--Cs],Ss[Cs]=null,qc=Ss[--Cs],Ss[Cs]=null,Wc=Ss[--Cs],Ss[Cs]=null}var Xa=null,Ka=null,ei=!1,ml=null;function lV(e,t){var n=Es(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function xz(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xa=e,Ka=Cd(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xa=e,Ka=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=sh!==null?{id:Wc,overflow:qc}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Es(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xa=e,Ka=null,!0):!1;default:return!1}}function HO(e){return(e.mode&1)!==0&&(e.flags&128)===0}function GO(e){if(ei){var t=Ka;if(t){var n=t;if(!xz(e,t)){if(HO(e))throw Error(yt(418));t=Cd(n.nextSibling);var r=Xa;t&&xz(e,t)?lV(r,n):(e.flags=e.flags&-4097|2,ei=!1,Xa=e)}}else{if(HO(e))throw Error(yt(418));e.flags=e.flags&-4097|2,ei=!1,Xa=e}}}function bz(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xa=e}function K_(e){if(e!==Xa)return!1;if(!ei)return bz(e),ei=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!UO(e.type,e.memoizedProps)),t&&(t=Ka)){if(HO(e))throw cV(),Error(yt(418));for(;t;)lV(e,t),t=Cd(t.nextSibling)}if(bz(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(yt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ka=Cd(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ka=null}}else Ka=Xa?Cd(e.stateNode.nextSibling):null;return!0}function cV(){for(var e=Ka;e;)e=Cd(e.nextSibling)}function Mm(){Ka=Xa=null,ei=!1}function GI(e){ml===null?ml=[e]:ml.push(e)}var See=bu.ReactCurrentBatchConfig;function dl(e,t){if(e&&e.defaultProps){t=ci({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Pw=Gd(null),Ew=null,Yp=null,YI=null;function KI(){YI=Yp=Ew=null}function ZI(e){var t=Pw.current;qr(Pw),e._currentValue=t}function YO(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fm(e,t){Ew=e,YI=Yp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ta=!0),e.firstContext=null)}function js(e){var t=e._currentValue;if(YI!==e)if(e={context:e,memoizedValue:t,next:null},Yp===null){if(Ew===null)throw Error(yt(308));Yp=e,Ew.dependencies={lanes:0,firstContext:e}}else Yp=Yp.next=e;return t}var Ff=null;function XI(e){Ff===null?Ff=[e]:Ff.push(e)}function uV(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,XI(t)):(n.next=i.next,i.next=n),t.interleaved=n,lu(e,r)}function lu(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ld=!1;function JI(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dV(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function kd(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Zn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,lu(e,n)}return i=r.interleaved,i===null?(t.next=t,XI(r)):(t.next=i.next,i.next=t),r.interleaved=t,lu(e,n)}function W1(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jI(e,n)}}function _z(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ow(e,t,n,r){var i=e.updateQueue;ld=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var f=a,h=f.next;f.next=null,s===null?o=h:s.next=h,s=f;var g=e.alternate;g!==null&&(g=g.updateQueue,a=g.lastBaseUpdate,a!==s&&(a===null?g.firstBaseUpdate=h:a.next=h,g.lastBaseUpdate=f))}if(o!==null){var y=i.baseState;s=0,g=h=f=null,a=o;do{var x=a.lane,T=a.eventTime;if((r&x)===x){g!==null&&(g=g.next={eventTime:T,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=e,C=a;switch(x=t,T=n,C.tag){case 1:if(E=C.payload,typeof E=="function"){y=E.call(T,y,x);break e}y=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=C.payload,x=typeof E=="function"?E.call(T,y,x):E,x==null)break e;y=ci({},y,x);break e;case 2:ld=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,x=i.effects,x===null?i.effects=[a]:x.push(a))}else T={eventTime:T,lane:x,tag:a.tag,payload:a.payload,callback:a.callback,next:null},g===null?(h=g=T,f=y):g=g.next=T,s|=x;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;x=a,a=x.next,x.next=null,i.lastBaseUpdate=x,i.shared.pending=null}}while(!0);if(g===null&&(f=y),i.baseState=f,i.firstBaseUpdate=h,i.lastBaseUpdate=g,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);ch|=s,e.lanes=s,e.memoizedState=y}}function wz(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(yt(191,i));i.call(r)}}}var fV=new uU.Component().refs;function KO(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ci({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var b2={isMounted:function(e){return(e=e._reactInternals)?wh(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=sa(),i=Pd(e),o=Qc(r,i);o.payload=t,n!=null&&(o.callback=n),t=kd(e,o,i),t!==null&&(kl(t,e,i,r),W1(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=sa(),i=Pd(e),o=Qc(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=kd(e,o,i),t!==null&&(kl(t,e,i,r),W1(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=sa(),r=Pd(e),i=Qc(n,r);i.tag=2,t!=null&&(i.callback=t),t=kd(e,i,r),t!==null&&(kl(t,e,r,n),W1(t,e,r))}};function Sz(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!A0(n,r)||!A0(i,o):!0}function hV(e,t,n){var r=!1,i=jd,o=t.contextType;return typeof o=="object"&&o!==null?o=js(o):(i=Oa(t)?ah:Uo.current,r=t.contextTypes,o=(r=r!=null)?Om(e,i):jd),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=b2,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Cz(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&b2.enqueueReplaceState(t,t.state,null)}function ZO(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=fV,JI(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=js(o):(o=Oa(t)?ah:Uo.current,i.context=Om(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(KO(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&b2.enqueueReplaceState(i,i.state,null),Ow(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function av(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(yt(309));var r=n.stateNode}if(!r)throw Error(yt(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===fV&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(yt(284));if(!n._owner)throw Error(yt(290,e))}return e}function Z_(e,t){throw e=Object.prototype.toString.call(t),Error(yt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kz(e){var t=e._init;return t(e._payload)}function pV(e){function t(A,M){if(e){var I=A.deletions;I===null?(A.deletions=[M],A.flags|=16):I.push(M)}}function n(A,M){if(!e)return null;for(;M!==null;)t(A,M),M=M.sibling;return null}function r(A,M){for(A=new Map;M!==null;)M.key!==null?A.set(M.key,M):A.set(M.index,M),M=M.sibling;return A}function i(A,M){return A=Ed(A,M),A.index=0,A.sibling=null,A}function o(A,M,I){return A.index=I,e?(I=A.alternate,I!==null?(I=I.index,I<M?(A.flags|=2,M):I):(A.flags|=2,M)):(A.flags|=1048576,M)}function s(A){return e&&A.alternate===null&&(A.flags|=2),A}function a(A,M,I,N){return M===null||M.tag!==6?(M=TP(I,A.mode,N),M.return=A,M):(M=i(M,I),M.return=A,M)}function f(A,M,I,N){var $=I.type;return $===Bp?g(A,M,I.props.children,N,I.key):M!==null&&(M.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===sd&&kz($)===M.type)?(N=i(M,I.props),N.ref=av(A,M,I),N.return=A,N):(N=Z1(I.type,I.key,I.props,null,A.mode,N),N.ref=av(A,M,I),N.return=A,N)}function h(A,M,I,N){return M===null||M.tag!==4||M.stateNode.containerInfo!==I.containerInfo||M.stateNode.implementation!==I.implementation?(M=PP(I,A.mode,N),M.return=A,M):(M=i(M,I.children||[]),M.return=A,M)}function g(A,M,I,N,$){return M===null||M.tag!==7?(M=Jf(I,A.mode,N,$),M.return=A,M):(M=i(M,I),M.return=A,M)}function y(A,M,I){if(typeof M=="string"&&M!==""||typeof M=="number")return M=TP(""+M,A.mode,I),M.return=A,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case z_:return I=Z1(M.type,M.key,M.props,null,A.mode,I),I.ref=av(A,null,M),I.return=A,I;case zp:return M=PP(M,A.mode,I),M.return=A,M;case sd:var N=M._init;return y(A,N(M._payload),I)}if(Bv(M)||tv(M))return M=Jf(M,A.mode,I,null),M.return=A,M;Z_(A,M)}return null}function x(A,M,I,N){var $=M!==null?M.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return $!==null?null:a(A,M,""+I,N);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case z_:return I.key===$?f(A,M,I,N):null;case zp:return I.key===$?h(A,M,I,N):null;case sd:return $=I._init,x(A,M,$(I._payload),N)}if(Bv(I)||tv(I))return $!==null?null:g(A,M,I,N,null);Z_(A,I)}return null}function T(A,M,I,N,$){if(typeof N=="string"&&N!==""||typeof N=="number")return A=A.get(I)||null,a(M,A,""+N,$);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case z_:return A=A.get(N.key===null?I:N.key)||null,f(M,A,N,$);case zp:return A=A.get(N.key===null?I:N.key)||null,h(M,A,N,$);case sd:var D=N._init;return T(A,M,I,D(N._payload),$)}if(Bv(N)||tv(N))return A=A.get(I)||null,g(M,A,N,$,null);Z_(M,N)}return null}function E(A,M,I,N){for(var $=null,D=null,F=M,q=M=0,X=null;F!==null&&q<I.length;q++){F.index>q?(X=F,F=null):X=F.sibling;var J=x(A,F,I[q],N);if(J===null){F===null&&(F=X);break}e&&F&&J.alternate===null&&t(A,F),M=o(J,M,q),D===null?$=J:D.sibling=J,D=J,F=X}if(q===I.length)return n(A,F),ei&&Ef(A,q),$;if(F===null){for(;q<I.length;q++)F=y(A,I[q],N),F!==null&&(M=o(F,M,q),D===null?$=F:D.sibling=F,D=F);return ei&&Ef(A,q),$}for(F=r(A,F);q<I.length;q++)X=T(F,A,q,I[q],N),X!==null&&(e&&X.alternate!==null&&F.delete(X.key===null?q:X.key),M=o(X,M,q),D===null?$=X:D.sibling=X,D=X);return e&&F.forEach(function(ie){return t(A,ie)}),ei&&Ef(A,q),$}function C(A,M,I,N){var $=tv(I);if(typeof $!="function")throw Error(yt(150));if(I=$.call(I),I==null)throw Error(yt(151));for(var D=$=null,F=M,q=M=0,X=null,J=I.next();F!==null&&!J.done;q++,J=I.next()){F.index>q?(X=F,F=null):X=F.sibling;var ie=x(A,F,J.value,N);if(ie===null){F===null&&(F=X);break}e&&F&&ie.alternate===null&&t(A,F),M=o(ie,M,q),D===null?$=ie:D.sibling=ie,D=ie,F=X}if(J.done)return n(A,F),ei&&Ef(A,q),$;if(F===null){for(;!J.done;q++,J=I.next())J=y(A,J.value,N),J!==null&&(M=o(J,M,q),D===null?$=J:D.sibling=J,D=J);return ei&&Ef(A,q),$}for(F=r(A,F);!J.done;q++,J=I.next())J=T(F,A,q,J.value,N),J!==null&&(e&&J.alternate!==null&&F.delete(J.key===null?q:J.key),M=o(J,M,q),D===null?$=J:D.sibling=J,D=J);return e&&F.forEach(function(ge){return t(A,ge)}),ei&&Ef(A,q),$}function O(A,M,I,N){if(typeof I=="object"&&I!==null&&I.type===Bp&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case z_:e:{for(var $=I.key,D=M;D!==null;){if(D.key===$){if($=I.type,$===Bp){if(D.tag===7){n(A,D.sibling),M=i(D,I.props.children),M.return=A,A=M;break e}}else if(D.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===sd&&kz($)===D.type){n(A,D.sibling),M=i(D,I.props),M.ref=av(A,D,I),M.return=A,A=M;break e}n(A,D);break}else t(A,D);D=D.sibling}I.type===Bp?(M=Jf(I.props.children,A.mode,N,I.key),M.return=A,A=M):(N=Z1(I.type,I.key,I.props,null,A.mode,N),N.ref=av(A,M,I),N.return=A,A=N)}return s(A);case zp:e:{for(D=I.key;M!==null;){if(M.key===D)if(M.tag===4&&M.stateNode.containerInfo===I.containerInfo&&M.stateNode.implementation===I.implementation){n(A,M.sibling),M=i(M,I.children||[]),M.return=A,A=M;break e}else{n(A,M);break}else t(A,M);M=M.sibling}M=PP(I,A.mode,N),M.return=A,A=M}return s(A);case sd:return D=I._init,O(A,M,D(I._payload),N)}if(Bv(I))return E(A,M,I,N);if(tv(I))return C(A,M,I,N);Z_(A,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,M!==null&&M.tag===6?(n(A,M.sibling),M=i(M,I),M.return=A,A=M):(n(A,M),M=TP(I,A.mode,N),M.return=A,A=M),s(A)):n(A,M)}return O}var Am=pV(!0),mV=pV(!1),Kx={},tc=Gd(Kx),D0=Gd(Kx),L0=Gd(Kx);function Uf(e){if(e===Kx)throw Error(yt(174));return e}function QI(e,t){switch(Lr(L0,t),Lr(D0,e),Lr(tc,Kx),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:EO(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=EO(t,e)}qr(tc),Lr(tc,t)}function Im(){qr(tc),qr(D0),qr(L0)}function gV(e){Uf(L0.current);var t=Uf(tc.current),n=EO(t,e.type);t!==n&&(Lr(D0,e),Lr(tc,n))}function e$(e){D0.current===e&&(qr(tc),qr(D0))}var ai=Gd(0);function Mw(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bP=[];function t$(){for(var e=0;e<bP.length;e++)bP[e]._workInProgressVersionPrimary=null;bP.length=0}var q1=bu.ReactCurrentDispatcher,_P=bu.ReactCurrentBatchConfig,lh=0,li=null,Ui=null,no=null,Aw=!1,n0=!1,j0=0,Cee=0;function Oo(){throw Error(yt(321))}function n$(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tl(e[n],t[n]))return!1;return!0}function r$(e,t,n,r,i,o){if(lh=o,li=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q1.current=e===null||e.memoizedState===null?Eee:Oee,e=n(r,i),n0){o=0;do{if(n0=!1,j0=0,25<=o)throw Error(yt(301));o+=1,no=Ui=null,t.updateQueue=null,q1.current=Mee,e=n(r,i)}while(n0)}if(q1.current=Iw,t=Ui!==null&&Ui.next!==null,lh=0,no=Ui=li=null,Aw=!1,t)throw Error(yt(300));return e}function i$(){var e=j0!==0;return j0=0,e}function Vl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return no===null?li.memoizedState=no=e:no=no.next=e,no}function Ns(){if(Ui===null){var e=li.alternate;e=e!==null?e.memoizedState:null}else e=Ui.next;var t=no===null?li.memoizedState:no.next;if(t!==null)no=t,Ui=e;else{if(e===null)throw Error(yt(310));Ui=e,e={memoizedState:Ui.memoizedState,baseState:Ui.baseState,baseQueue:Ui.baseQueue,queue:Ui.queue,next:null},no===null?li.memoizedState=no=e:no=no.next=e}return no}function N0(e,t){return typeof t=="function"?t(e):t}function wP(e){var t=Ns(),n=t.queue;if(n===null)throw Error(yt(311));n.lastRenderedReducer=e;var r=Ui,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,f=null,h=o;do{var g=h.lane;if((lh&g)===g)f!==null&&(f=f.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var y={lane:g,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};f===null?(a=f=y,s=r):f=f.next=y,li.lanes|=g,ch|=g}h=h.next}while(h!==null&&h!==o);f===null?s=r:f.next=a,Tl(r,t.memoizedState)||(Ta=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=f,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,li.lanes|=o,ch|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function SP(e){var t=Ns(),n=t.queue;if(n===null)throw Error(yt(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Tl(o,t.memoizedState)||(Ta=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function yV(){}function vV(e,t){var n=li,r=Ns(),i=t(),o=!Tl(r.memoizedState,i);if(o&&(r.memoizedState=i,Ta=!0),r=r.queue,o$(_V.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||no!==null&&no.memoizedState.tag&1){if(n.flags|=2048,z0(9,bV.bind(null,n,r,i,t),void 0,null),ro===null)throw Error(yt(349));lh&30||xV(n,t,i)}return i}function xV(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=li.updateQueue,t===null?(t={lastEffect:null,stores:null},li.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function bV(e,t,n,r){t.value=n,t.getSnapshot=r,wV(t)&&SV(e)}function _V(e,t,n){return n(function(){wV(t)&&SV(e)})}function wV(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tl(e,n)}catch{return!0}}function SV(e){var t=lu(e,1);t!==null&&kl(t,e,1,-1)}function Tz(e){var t=Vl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:N0,lastRenderedState:e},t.queue=e,e=e.dispatch=Pee.bind(null,li,e),[t.memoizedState,e]}function z0(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=li.updateQueue,t===null?(t={lastEffect:null,stores:null},li.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function CV(){return Ns().memoizedState}function H1(e,t,n,r){var i=Vl();li.flags|=e,i.memoizedState=z0(1|t,n,void 0,r===void 0?null:r)}function _2(e,t,n,r){var i=Ns();r=r===void 0?null:r;var o=void 0;if(Ui!==null){var s=Ui.memoizedState;if(o=s.destroy,r!==null&&n$(r,s.deps)){i.memoizedState=z0(t,n,o,r);return}}li.flags|=e,i.memoizedState=z0(1|t,n,o,r)}function Pz(e,t){return H1(8390656,8,e,t)}function o$(e,t){return _2(2048,8,e,t)}function kV(e,t){return _2(4,2,e,t)}function TV(e,t){return _2(4,4,e,t)}function PV(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function EV(e,t,n){return n=n!=null?n.concat([e]):null,_2(4,4,PV.bind(null,t,e),n)}function a$(){}function OV(e,t){var n=Ns();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&n$(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function MV(e,t){var n=Ns();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&n$(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function AV(e,t,n){return lh&21?(Tl(n,t)||(n=RU(),li.lanes|=n,ch|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ta=!0),e.memoizedState=n)}function kee(e,t){var n=gr;gr=n!==0&&4>n?n:4,e(!0);var r=_P.transition;_P.transition={};try{e(!1),t()}finally{gr=n,_P.transition=r}}function IV(){return Ns().memoizedState}function Tee(e,t,n){var r=Pd(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$V(e))RV(t,n);else if(n=uV(e,t,n,r),n!==null){var i=sa();kl(n,e,r,i),DV(n,t,r)}}function Pee(e,t,n){var r=Pd(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($V(e))RV(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Tl(a,s)){var f=t.interleaved;f===null?(i.next=i,XI(t)):(i.next=f.next,f.next=i),t.interleaved=i;return}}catch{}finally{}n=uV(e,t,i,r),n!==null&&(i=sa(),kl(n,e,r,i),DV(n,t,r))}}function $V(e){var t=e.alternate;return e===li||t!==null&&t===li}function RV(e,t){n0=Aw=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function DV(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jI(e,n)}}var Iw={readContext:js,useCallback:Oo,useContext:Oo,useEffect:Oo,useImperativeHandle:Oo,useInsertionEffect:Oo,useLayoutEffect:Oo,useMemo:Oo,useReducer:Oo,useRef:Oo,useState:Oo,useDebugValue:Oo,useDeferredValue:Oo,useTransition:Oo,useMutableSource:Oo,useSyncExternalStore:Oo,useId:Oo,unstable_isNewReconciler:!1},Eee={readContext:js,useCallback:function(e,t){return Vl().memoizedState=[e,t===void 0?null:t],e},useContext:js,useEffect:Pz,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,H1(4194308,4,PV.bind(null,t,e),n)},useLayoutEffect:function(e,t){return H1(4194308,4,e,t)},useInsertionEffect:function(e,t){return H1(4,2,e,t)},useMemo:function(e,t){var n=Vl();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Vl();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Tee.bind(null,li,e),[r.memoizedState,e]},useRef:function(e){var t=Vl();return e={current:e},t.memoizedState=e},useState:Tz,useDebugValue:a$,useDeferredValue:function(e){return Vl().memoizedState=e},useTransition:function(){var e=Tz(!1),t=e[0];return e=kee.bind(null,e[1]),Vl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=li,i=Vl();if(ei){if(n===void 0)throw Error(yt(407));n=n()}else{if(n=t(),ro===null)throw Error(yt(349));lh&30||xV(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Pz(_V.bind(null,r,o,e),[e]),r.flags|=2048,z0(9,bV.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Vl(),t=ro.identifierPrefix;if(ei){var n=qc,r=Wc;n=(r&~(1<<32-Cl(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=j0++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Cee++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Oee={readContext:js,useCallback:OV,useContext:js,useEffect:o$,useImperativeHandle:EV,useInsertionEffect:kV,useLayoutEffect:TV,useMemo:MV,useReducer:wP,useRef:CV,useState:function(){return wP(N0)},useDebugValue:a$,useDeferredValue:function(e){var t=Ns();return AV(t,Ui.memoizedState,e)},useTransition:function(){var e=wP(N0)[0],t=Ns().memoizedState;return[e,t]},useMutableSource:yV,useSyncExternalStore:vV,useId:IV,unstable_isNewReconciler:!1},Mee={readContext:js,useCallback:OV,useContext:js,useEffect:o$,useImperativeHandle:EV,useInsertionEffect:kV,useLayoutEffect:TV,useMemo:MV,useReducer:SP,useRef:CV,useState:function(){return SP(N0)},useDebugValue:a$,useDeferredValue:function(e){var t=Ns();return Ui===null?t.memoizedState=e:AV(t,Ui.memoizedState,e)},useTransition:function(){var e=SP(N0)[0],t=Ns().memoizedState;return[e,t]},useMutableSource:yV,useSyncExternalStore:vV,useId:IV,unstable_isNewReconciler:!1};function $m(e,t){try{var n="",r=t;do n+=iQ(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function CP(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function XO(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Aee=typeof WeakMap=="function"?WeakMap:Map;function LV(e,t,n){n=Qc(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rw||(Rw=!0,sM=r),XO(e,t)},n}function jV(e,t,n){n=Qc(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){XO(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){XO(e,t),typeof r!="function"&&(Td===null?Td=new Set([this]):Td.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Ez(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Aee;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=qee.bind(null,e,t,n),t.then(e,e))}function Oz(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mz(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Qc(-1,1),t.tag=2,kd(n,t,1))),n.lanes|=1),e)}var Iee=bu.ReactCurrentOwner,Ta=!1;function ia(e,t,n,r){t.child=e===null?mV(t,null,n,r):Am(t,e.child,n,r)}function Az(e,t,n,r,i){n=n.render;var o=t.ref;return fm(t,i),r=r$(e,t,n,r,o,i),n=i$(),e!==null&&!Ta?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,cu(e,t,i)):(ei&&n&&qI(t),t.flags|=1,ia(e,t,r,i),t.child)}function Iz(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!p$(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,NV(e,t,o,r,i)):(e=Z1(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:A0,n(s,r)&&e.ref===t.ref)return cu(e,t,i)}return t.flags|=1,e=Ed(o,r),e.ref=t.ref,e.return=t,t.child=e}function NV(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(A0(o,r)&&e.ref===t.ref)if(Ta=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Ta=!0);else return t.lanes=e.lanes,cu(e,t,i)}return JO(e,t,n,r,i)}function zV(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Lr(Zp,Va),Va|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Lr(Zp,Va),Va|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Lr(Zp,Va),Va|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Lr(Zp,Va),Va|=r;return ia(e,t,i,n),t.child}function BV(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function JO(e,t,n,r,i){var o=Oa(n)?ah:Uo.current;return o=Om(t,o),fm(t,i),n=r$(e,t,n,r,o,i),r=i$(),e!==null&&!Ta?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,cu(e,t,i)):(ei&&r&&qI(t),t.flags|=1,ia(e,t,n,i),t.child)}function $z(e,t,n,r,i){if(Oa(n)){var o=!0;Cw(t)}else o=!1;if(fm(t,i),t.stateNode===null)G1(e,t),hV(t,n,r),ZO(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var f=s.context,h=n.contextType;typeof h=="object"&&h!==null?h=js(h):(h=Oa(n)?ah:Uo.current,h=Om(t,h));var g=n.getDerivedStateFromProps,y=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function";y||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||f!==h)&&Cz(t,s,r,h),ld=!1;var x=t.memoizedState;s.state=x,Ow(t,r,s,i),f=t.memoizedState,a!==r||x!==f||Ea.current||ld?(typeof g=="function"&&(KO(t,n,g,r),f=t.memoizedState),(a=ld||Sz(t,n,a,r,x,f,h))?(y||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=h,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,dV(e,t),a=t.memoizedProps,h=t.type===t.elementType?a:dl(t.type,a),s.props=h,y=t.pendingProps,x=s.context,f=n.contextType,typeof f=="object"&&f!==null?f=js(f):(f=Oa(n)?ah:Uo.current,f=Om(t,f));var T=n.getDerivedStateFromProps;(g=typeof T=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==y||x!==f)&&Cz(t,s,r,f),ld=!1,x=t.memoizedState,s.state=x,Ow(t,r,s,i);var E=t.memoizedState;a!==y||x!==E||Ea.current||ld?(typeof T=="function"&&(KO(t,n,T,r),E=t.memoizedState),(h=ld||Sz(t,n,h,r,x,E,f)||!1)?(g||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,E,f),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,E,f)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=E),s.props=r,s.state=E,s.context=f,r=h):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),r=!1)}return QO(e,t,n,r,o,i)}function QO(e,t,n,r,i,o){BV(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&vz(t,n,!1),cu(e,t,o);r=t.stateNode,Iee.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Am(t,e.child,null,o),t.child=Am(t,null,a,o)):ia(e,t,a,o),t.memoizedState=r.state,i&&vz(t,n,!0),t.child}function FV(e){var t=e.stateNode;t.pendingContext?yz(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yz(e,t.context,!1),QI(e,t.containerInfo)}function Rz(e,t,n,r,i){return Mm(),GI(i),t.flags|=256,ia(e,t,n,r),t.child}var eM={dehydrated:null,treeContext:null,retryLane:0};function tM(e){return{baseLanes:e,cachePool:null,transitions:null}}function UV(e,t,n){var r=t.pendingProps,i=ai.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Lr(ai,i&1),e===null)return GO(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=C2(s,r,0,null),e=Jf(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=tM(n),t.memoizedState=eM,e):s$(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return $ee(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var f={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=f,t.deletions=null):(r=Ed(i,f),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ed(a,o):(o=Jf(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?tM(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=eM,r}return o=e.child,e=o.sibling,r=Ed(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function s$(e,t){return t=C2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function X_(e,t,n,r){return r!==null&&GI(r),Am(t,e.child,null,n),e=s$(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $ee(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=CP(Error(yt(422))),X_(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=C2({mode:"visible",children:r.children},i,0,null),o=Jf(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Am(t,e.child,null,s),t.child.memoizedState=tM(s),t.memoizedState=eM,o);if(!(t.mode&1))return X_(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(yt(419)),r=CP(o,r,void 0),X_(e,t,s,r)}if(a=(s&e.childLanes)!==0,Ta||a){if(r=ro,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,lu(e,i),kl(r,e,i,-1))}return h$(),r=CP(Error(yt(421))),X_(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Hee.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Ka=Cd(i.nextSibling),Xa=t,ei=!0,ml=null,e!==null&&(Ss[Cs++]=Wc,Ss[Cs++]=qc,Ss[Cs++]=sh,Wc=e.id,qc=e.overflow,sh=t),t=s$(t,r.children),t.flags|=4096,t)}function Dz(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),YO(e.return,t,n)}function kP(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function VV(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ia(e,t,r.children,n),r=ai.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dz(e,n,t);else if(e.tag===19)Dz(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Lr(ai,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Mw(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),kP(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Mw(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}kP(t,!0,n,null,o);break;case"together":kP(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function G1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cu(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ch|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(yt(153));if(t.child!==null){for(e=t.child,n=Ed(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ed(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ree(e,t,n){switch(t.tag){case 3:FV(t),Mm();break;case 5:gV(t);break;case 1:Oa(t.type)&&Cw(t);break;case 4:QI(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Lr(Pw,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Lr(ai,ai.current&1),t.flags|=128,null):n&t.child.childLanes?UV(e,t,n):(Lr(ai,ai.current&1),e=cu(e,t,n),e!==null?e.sibling:null);Lr(ai,ai.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return VV(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Lr(ai,ai.current),r)break;return null;case 22:case 23:return t.lanes=0,zV(e,t,n)}return cu(e,t,n)}var WV,nM,qV,HV;WV=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nM=function(){};qV=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Uf(tc.current);var o=null;switch(n){case"input":i=CO(e,i),r=CO(e,r),o=[];break;case"select":i=ci({},i,{value:void 0}),r=ci({},r,{value:void 0}),o=[];break;case"textarea":i=PO(e,i),r=PO(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ww)}OO(n,r);var s;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(C0.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var f=r[h];if(a=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&f!==a&&(f!=null||a!=null))if(h==="style")if(a){for(s in a)!a.hasOwnProperty(s)||f&&f.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in f)f.hasOwnProperty(s)&&a[s]!==f[s]&&(n||(n={}),n[s]=f[s])}else n||(o||(o=[]),o.push(h,n)),n=f;else h==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,a=a?a.__html:void 0,f!=null&&a!==f&&(o=o||[]).push(h,f)):h==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(h,""+f):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(C0.hasOwnProperty(h)?(f!=null&&h==="onScroll"&&Ur("scroll",e),o||a===f||(o=[])):(o=o||[]).push(h,f))}n&&(o=o||[]).push("style",n);var h=o;(t.updateQueue=h)&&(t.flags|=4)}};HV=function(e,t,n,r){n!==r&&(t.flags|=4)};function sv(e,t){if(!ei)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Mo(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Dee(e,t,n){var r=t.pendingProps;switch(HI(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mo(t),null;case 1:return Oa(t.type)&&Sw(),Mo(t),null;case 3:return r=t.stateNode,Im(),qr(Ea),qr(Uo),t$(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(K_(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ml!==null&&(uM(ml),ml=null))),nM(e,t),Mo(t),null;case 5:e$(t);var i=Uf(L0.current);if(n=t.type,e!==null&&t.stateNode!=null)qV(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(yt(166));return Mo(t),null}if(e=Uf(tc.current),K_(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Gl]=t,r[R0]=o,e=(t.mode&1)!==0,n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Uv.length;i++)Ur(Uv[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":WN(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":HN(r,o),Ur("invalid",r)}OO(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Y_(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Y_(r.textContent,a,e),i=["children",""+a]):C0.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ur("scroll",r)}switch(n){case"input":B_(r),qN(r,o,!0);break;case"textarea":B_(r),GN(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ww)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xU(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Gl]=t,e[R0]=r,WV(e,t,!1,!1),t.stateNode=e;e:{switch(s=MO(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Uv.length;i++)Ur(Uv[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":WN(e,r),i=CO(e,r),Ur("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ci({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":HN(e,r),i=PO(e,r),Ur("invalid",e);break;default:i=r}OO(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var f=a[o];o==="style"?wU(e,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&bU(e,f)):o==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&k0(e,f):typeof f=="number"&&k0(e,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(C0.hasOwnProperty(o)?f!=null&&o==="onScroll"&&Ur("scroll",e):f!=null&&AI(e,o,f,s))}switch(n){case"input":B_(e),qN(e,r,!1);break;case"textarea":B_(e),GN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ld(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?lm(e,!!r.multiple,o,!1):r.defaultValue!=null&&lm(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ww)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Mo(t),null;case 6:if(e&&t.stateNode!=null)HV(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(yt(166));if(n=Uf(L0.current),Uf(tc.current),K_(t)){if(r=t.stateNode,n=t.memoizedProps,r[Gl]=t,(o=r.nodeValue!==n)&&(e=Xa,e!==null))switch(e.tag){case 3:Y_(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Y_(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gl]=t,t.stateNode=r}return Mo(t),null;case 13:if(qr(ai),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ei&&Ka!==null&&t.mode&1&&!(t.flags&128))cV(),Mm(),t.flags|=98560,o=!1;else if(o=K_(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(yt(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(yt(317));o[Gl]=t}else Mm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Mo(t),o=!1}else ml!==null&&(uM(ml),ml=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ai.current&1?Vi===0&&(Vi=3):h$())),t.updateQueue!==null&&(t.flags|=4),Mo(t),null);case 4:return Im(),nM(e,t),e===null&&I0(t.stateNode.containerInfo),Mo(t),null;case 10:return ZI(t.type._context),Mo(t),null;case 17:return Oa(t.type)&&Sw(),Mo(t),null;case 19:if(qr(ai),o=t.memoizedState,o===null)return Mo(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)sv(o,!1);else{if(Vi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Mw(e),s!==null){for(t.flags|=128,sv(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Lr(ai,ai.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ei()>Rm&&(t.flags|=128,r=!0,sv(o,!1),t.lanes=4194304)}else{if(!r)if(e=Mw(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),sv(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ei)return Mo(t),null}else 2*Ei()-o.renderingStartTime>Rm&&n!==1073741824&&(t.flags|=128,r=!0,sv(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ei(),t.sibling=null,n=ai.current,Lr(ai,r?n&1|2:n&1),t):(Mo(t),null);case 22:case 23:return f$(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Va&1073741824&&(Mo(t),t.subtreeFlags&6&&(t.flags|=8192)):Mo(t),null;case 24:return null;case 25:return null}throw Error(yt(156,t.tag))}function Lee(e,t){switch(HI(t),t.tag){case 1:return Oa(t.type)&&Sw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Im(),qr(Ea),qr(Uo),t$(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return e$(t),null;case 13:if(qr(ai),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(yt(340));Mm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qr(ai),null;case 4:return Im(),null;case 10:return ZI(t.type._context),null;case 22:case 23:return f$(),null;case 24:return null;default:return null}}var J_=!1,Lo=!1,jee=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function Kp(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gi(e,t,r)}else n.current=null}function rM(e,t,n){try{n()}catch(r){gi(e,t,r)}}var Lz=!1;function Nee(e,t){if(BO=xw,e=ZU(),WI(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,f=-1,h=0,g=0,y=e,x=null;t:for(;;){for(var T;y!==n||i!==0&&y.nodeType!==3||(a=s+i),y!==o||r!==0&&y.nodeType!==3||(f=s+r),y.nodeType===3&&(s+=y.nodeValue.length),(T=y.firstChild)!==null;)x=y,y=T;for(;;){if(y===e)break t;if(x===n&&++h===i&&(a=s),x===o&&++g===r&&(f=s),(T=y.nextSibling)!==null)break;y=x,x=y.parentNode}y=T}n=a===-1||f===-1?null:{start:a,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(FO={focusedElem:e,selectionRange:n},xw=!1,Wt=t;Wt!==null;)if(t=Wt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Wt=e;else for(;Wt!==null;){t=Wt;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var C=E.memoizedProps,O=E.memoizedState,A=t.stateNode,M=A.getSnapshotBeforeUpdate(t.elementType===t.type?C:dl(t.type,C),O);A.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var I=t.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(yt(163))}}catch(N){gi(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Wt=e;break}Wt=t.return}return E=Lz,Lz=!1,E}function r0(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&rM(t,n,o)}i=i.next}while(i!==r)}}function w2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iM(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function GV(e){var t=e.alternate;t!==null&&(e.alternate=null,GV(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gl],delete t[R0],delete t[WO],delete t[bee],delete t[_ee])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function YV(e){return e.tag===5||e.tag===3||e.tag===4}function jz(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||YV(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function oM(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ww));else if(r!==4&&(e=e.child,e!==null))for(oM(e,t,n),e=e.sibling;e!==null;)oM(e,t,n),e=e.sibling}function aM(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(aM(e,t,n),e=e.sibling;e!==null;)aM(e,t,n),e=e.sibling}var mo=null,fl=!1;function Xu(e,t,n){for(n=n.child;n!==null;)KV(e,t,n),n=n.sibling}function KV(e,t,n){if(ec&&typeof ec.onCommitFiberUnmount=="function")try{ec.onCommitFiberUnmount(p2,n)}catch{}switch(n.tag){case 5:Lo||Kp(n,t);case 6:var r=mo,i=fl;mo=null,Xu(e,t,n),mo=r,fl=i,mo!==null&&(fl?(e=mo,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):mo.removeChild(n.stateNode));break;case 18:mo!==null&&(fl?(e=mo,n=n.stateNode,e.nodeType===8?vP(e.parentNode,n):e.nodeType===1&&vP(e,n),O0(e)):vP(mo,n.stateNode));break;case 4:r=mo,i=fl,mo=n.stateNode.containerInfo,fl=!0,Xu(e,t,n),mo=r,fl=i;break;case 0:case 11:case 14:case 15:if(!Lo&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&rM(n,t,s),i=i.next}while(i!==r)}Xu(e,t,n);break;case 1:if(!Lo&&(Kp(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){gi(n,t,a)}Xu(e,t,n);break;case 21:Xu(e,t,n);break;case 22:n.mode&1?(Lo=(r=Lo)||n.memoizedState!==null,Xu(e,t,n),Lo=r):Xu(e,t,n);break;default:Xu(e,t,n)}}function Nz(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jee),t.forEach(function(r){var i=Gee.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function al(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:mo=a.stateNode,fl=!1;break e;case 3:mo=a.stateNode.containerInfo,fl=!0;break e;case 4:mo=a.stateNode.containerInfo,fl=!0;break e}a=a.return}if(mo===null)throw Error(yt(160));KV(o,s,i),mo=null,fl=!1;var f=i.alternate;f!==null&&(f.return=null),i.return=null}catch(h){gi(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ZV(t,e),t=t.sibling}function ZV(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(al(t,e),Fl(e),r&4){try{r0(3,e,e.return),w2(3,e)}catch(C){gi(e,e.return,C)}try{r0(5,e,e.return)}catch(C){gi(e,e.return,C)}}break;case 1:al(t,e),Fl(e),r&512&&n!==null&&Kp(n,n.return);break;case 5:if(al(t,e),Fl(e),r&512&&n!==null&&Kp(n,n.return),e.flags&32){var i=e.stateNode;try{k0(i,"")}catch(C){gi(e,e.return,C)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&yU(i,o),MO(a,s);var h=MO(a,o);for(s=0;s<f.length;s+=2){var g=f[s],y=f[s+1];g==="style"?wU(i,y):g==="dangerouslySetInnerHTML"?bU(i,y):g==="children"?k0(i,y):AI(i,g,y,h)}switch(a){case"input":kO(i,o);break;case"textarea":vU(i,o);break;case"select":var x=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var T=o.value;T!=null?lm(i,!!o.multiple,T,!1):x!==!!o.multiple&&(o.defaultValue!=null?lm(i,!!o.multiple,o.defaultValue,!0):lm(i,!!o.multiple,o.multiple?[]:"",!1))}i[R0]=o}catch(C){gi(e,e.return,C)}}break;case 6:if(al(t,e),Fl(e),r&4){if(e.stateNode===null)throw Error(yt(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(C){gi(e,e.return,C)}}break;case 3:if(al(t,e),Fl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{O0(t.containerInfo)}catch(C){gi(e,e.return,C)}break;case 4:al(t,e),Fl(e);break;case 13:al(t,e),Fl(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(u$=Ei())),r&4&&Nz(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(Lo=(h=Lo)||g,al(t,e),Lo=h):al(t,e),Fl(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!g&&e.mode&1)for(Wt=e,g=e.child;g!==null;){for(y=Wt=g;Wt!==null;){switch(x=Wt,T=x.child,x.tag){case 0:case 11:case 14:case 15:r0(4,x,x.return);break;case 1:Kp(x,x.return);var E=x.stateNode;if(typeof E.componentWillUnmount=="function"){r=x,n=x.return;try{t=r,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(C){gi(r,n,C)}}break;case 5:Kp(x,x.return);break;case 22:if(x.memoizedState!==null){Bz(y);continue}}T!==null?(T.return=x,Wt=T):Bz(y)}g=g.sibling}e:for(g=null,y=e;;){if(y.tag===5){if(g===null){g=y;try{i=y.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=y.stateNode,f=y.memoizedProps.style,s=f!=null&&f.hasOwnProperty("display")?f.display:null,a.style.display=_U("display",s))}catch(C){gi(e,e.return,C)}}}else if(y.tag===6){if(g===null)try{y.stateNode.nodeValue=h?"":y.memoizedProps}catch(C){gi(e,e.return,C)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break e;for(;y.sibling===null;){if(y.return===null||y.return===e)break e;g===y&&(g=null),y=y.return}g===y&&(g=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:al(t,e),Fl(e),r&4&&Nz(e);break;case 21:break;default:al(t,e),Fl(e)}}function Fl(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(YV(n)){var r=n;break e}n=n.return}throw Error(yt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(k0(i,""),r.flags&=-33);var o=jz(e);aM(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=jz(e);oM(e,a,s);break;default:throw Error(yt(161))}}catch(f){gi(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zee(e,t,n){Wt=e,XV(e)}function XV(e,t,n){for(var r=(e.mode&1)!==0;Wt!==null;){var i=Wt,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||J_;if(!s){var a=i.alternate,f=a!==null&&a.memoizedState!==null||Lo;a=J_;var h=Lo;if(J_=s,(Lo=f)&&!h)for(Wt=i;Wt!==null;)s=Wt,f=s.child,s.tag===22&&s.memoizedState!==null?Fz(i):f!==null?(f.return=s,Wt=f):Fz(i);for(;o!==null;)Wt=o,XV(o),o=o.sibling;Wt=i,J_=a,Lo=h}zz(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Wt=o):zz(e)}}function zz(e){for(;Wt!==null;){var t=Wt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Lo||w2(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Lo)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:dl(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&wz(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}wz(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var g=h.memoizedState;if(g!==null){var y=g.dehydrated;y!==null&&O0(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(yt(163))}Lo||t.flags&512&&iM(t)}catch(x){gi(t,t.return,x)}}if(t===e){Wt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Wt=n;break}Wt=t.return}}function Bz(e){for(;Wt!==null;){var t=Wt;if(t===e){Wt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Wt=n;break}Wt=t.return}}function Fz(e){for(;Wt!==null;){var t=Wt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{w2(4,t)}catch(f){gi(t,n,f)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(f){gi(t,i,f)}}var o=t.return;try{iM(t)}catch(f){gi(t,o,f)}break;case 5:var s=t.return;try{iM(t)}catch(f){gi(t,s,f)}}}catch(f){gi(t,t.return,f)}if(t===e){Wt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Wt=a;break}Wt=t.return}}var Bee=Math.ceil,$w=bu.ReactCurrentDispatcher,l$=bu.ReactCurrentOwner,As=bu.ReactCurrentBatchConfig,Zn=0,ro=null,$i=null,xo=0,Va=0,Zp=Gd(0),Vi=0,B0=null,ch=0,S2=0,c$=0,i0=null,Sa=null,u$=0,Rm=1/0,Nc=null,Rw=!1,sM=null,Td=null,Q_=!1,pd=null,Dw=0,o0=0,lM=null,Y1=-1,K1=0;function sa(){return Zn&6?Ei():Y1!==-1?Y1:Y1=Ei()}function Pd(e){return e.mode&1?Zn&2&&xo!==0?xo&-xo:See.transition!==null?(K1===0&&(K1=RU()),K1):(e=gr,e!==0||(e=window.event,e=e===void 0?16:FU(e.type)),e):1}function kl(e,t,n,r){if(50<o0)throw o0=0,lM=null,Error(yt(185));Hx(e,n,r),(!(Zn&2)||e!==ro)&&(e===ro&&(!(Zn&2)&&(S2|=n),Vi===4&&dd(e,xo)),Ma(e,r),n===1&&Zn===0&&!(t.mode&1)&&(Rm=Ei()+500,x2&&Yd()))}function Ma(e,t){var n=e.callbackNode;SQ(e,t);var r=vw(e,e===ro?xo:0);if(r===0)n!==null&&ZN(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ZN(n),t===1)e.tag===0?wee(Uz.bind(null,e)):aV(Uz.bind(null,e)),vee(function(){!(Zn&6)&&Yd()}),n=null;else{switch(DU(r)){case 1:n=LI;break;case 4:n=IU;break;case 16:n=yw;break;case 536870912:n=$U;break;default:n=yw}n=oW(n,JV.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function JV(e,t){if(Y1=-1,K1=0,Zn&6)throw Error(yt(327));var n=e.callbackNode;if(hm()&&e.callbackNode!==n)return null;var r=vw(e,e===ro?xo:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Lw(e,r);else{t=r;var i=Zn;Zn|=2;var o=eW();(ro!==e||xo!==t)&&(Nc=null,Rm=Ei()+500,Xf(e,t));do try{Vee();break}catch(a){QV(e,a)}while(!0);KI(),$w.current=o,Zn=i,$i!==null?t=0:(ro=null,xo=0,t=Vi)}if(t!==0){if(t===2&&(i=DO(e),i!==0&&(r=i,t=cM(e,i))),t===1)throw n=B0,Xf(e,0),dd(e,r),Ma(e,Ei()),n;if(t===6)dd(e,r);else{if(i=e.current.alternate,!(r&30)&&!Fee(i)&&(t=Lw(e,r),t===2&&(o=DO(e),o!==0&&(r=o,t=cM(e,o))),t===1))throw n=B0,Xf(e,0),dd(e,r),Ma(e,Ei()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(yt(345));case 2:Of(e,Sa,Nc);break;case 3:if(dd(e,r),(r&130023424)===r&&(t=u$+500-Ei(),10<t)){if(vw(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){sa(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=VO(Of.bind(null,e,Sa,Nc),t);break}Of(e,Sa,Nc);break;case 4:if(dd(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Cl(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Ei()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Bee(r/1960))-r,10<r){e.timeoutHandle=VO(Of.bind(null,e,Sa,Nc),r);break}Of(e,Sa,Nc);break;case 5:Of(e,Sa,Nc);break;default:throw Error(yt(329))}}}return Ma(e,Ei()),e.callbackNode===n?JV.bind(null,e):null}function cM(e,t){var n=i0;return e.current.memoizedState.isDehydrated&&(Xf(e,t).flags|=256),e=Lw(e,t),e!==2&&(t=Sa,Sa=n,t!==null&&uM(t)),e}function uM(e){Sa===null?Sa=e:Sa.push.apply(Sa,e)}function Fee(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Tl(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dd(e,t){for(t&=~c$,t&=~S2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Cl(t),r=1<<n;e[n]=-1,t&=~r}}function Uz(e){if(Zn&6)throw Error(yt(327));hm();var t=vw(e,0);if(!(t&1))return Ma(e,Ei()),null;var n=Lw(e,t);if(e.tag!==0&&n===2){var r=DO(e);r!==0&&(t=r,n=cM(e,r))}if(n===1)throw n=B0,Xf(e,0),dd(e,t),Ma(e,Ei()),n;if(n===6)throw Error(yt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Of(e,Sa,Nc),Ma(e,Ei()),null}function d$(e,t){var n=Zn;Zn|=1;try{return e(t)}finally{Zn=n,Zn===0&&(Rm=Ei()+500,x2&&Yd())}}function uh(e){pd!==null&&pd.tag===0&&!(Zn&6)&&hm();var t=Zn;Zn|=1;var n=As.transition,r=gr;try{if(As.transition=null,gr=1,e)return e()}finally{gr=r,As.transition=n,Zn=t,!(Zn&6)&&Yd()}}function f$(){Va=Zp.current,qr(Zp)}function Xf(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,yee(n)),$i!==null)for(n=$i.return;n!==null;){var r=n;switch(HI(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sw();break;case 3:Im(),qr(Ea),qr(Uo),t$();break;case 5:e$(r);break;case 4:Im();break;case 13:qr(ai);break;case 19:qr(ai);break;case 10:ZI(r.type._context);break;case 22:case 23:f$()}n=n.return}if(ro=e,$i=e=Ed(e.current,null),xo=Va=t,Vi=0,B0=null,c$=S2=ch=0,Sa=i0=null,Ff!==null){for(t=0;t<Ff.length;t++)if(n=Ff[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ff=null}return e}function QV(e,t){do{var n=$i;try{if(KI(),q1.current=Iw,Aw){for(var r=li.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Aw=!1}if(lh=0,no=Ui=li=null,n0=!1,j0=0,l$.current=null,n===null||n.return===null){Vi=1,B0=t,$i=null;break}e:{var o=e,s=n.return,a=n,f=t;if(t=xo,a.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var h=f,g=a,y=g.tag;if(!(g.mode&1)&&(y===0||y===11||y===15)){var x=g.alternate;x?(g.updateQueue=x.updateQueue,g.memoizedState=x.memoizedState,g.lanes=x.lanes):(g.updateQueue=null,g.memoizedState=null)}var T=Oz(s);if(T!==null){T.flags&=-257,Mz(T,s,a,o,t),T.mode&1&&Ez(o,h,t),t=T,f=h;var E=t.updateQueue;if(E===null){var C=new Set;C.add(f),t.updateQueue=C}else E.add(f);break e}else{if(!(t&1)){Ez(o,h,t),h$();break e}f=Error(yt(426))}}else if(ei&&a.mode&1){var O=Oz(s);if(O!==null){!(O.flags&65536)&&(O.flags|=256),Mz(O,s,a,o,t),GI($m(f,a));break e}}o=f=$m(f,a),Vi!==4&&(Vi=2),i0===null?i0=[o]:i0.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var A=LV(o,f,t);_z(o,A);break e;case 1:a=f;var M=o.type,I=o.stateNode;if(!(o.flags&128)&&(typeof M.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Td===null||!Td.has(I)))){o.flags|=65536,t&=-t,o.lanes|=t;var N=jV(o,a,t);_z(o,N);break e}}o=o.return}while(o!==null)}nW(n)}catch($){t=$,$i===n&&n!==null&&($i=n=n.return);continue}break}while(!0)}function eW(){var e=$w.current;return $w.current=Iw,e===null?Iw:e}function h$(){(Vi===0||Vi===3||Vi===2)&&(Vi=4),ro===null||!(ch&268435455)&&!(S2&268435455)||dd(ro,xo)}function Lw(e,t){var n=Zn;Zn|=2;var r=eW();(ro!==e||xo!==t)&&(Nc=null,Xf(e,t));do try{Uee();break}catch(i){QV(e,i)}while(!0);if(KI(),Zn=n,$w.current=r,$i!==null)throw Error(yt(261));return ro=null,xo=0,Vi}function Uee(){for(;$i!==null;)tW($i)}function Vee(){for(;$i!==null&&!pQ();)tW($i)}function tW(e){var t=iW(e.alternate,e,Va);e.memoizedProps=e.pendingProps,t===null?nW(e):$i=t,l$.current=null}function nW(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Lee(n,t),n!==null){n.flags&=32767,$i=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vi=6,$i=null;return}}else if(n=Dee(n,t,Va),n!==null){$i=n;return}if(t=t.sibling,t!==null){$i=t;return}$i=t=e}while(t!==null);Vi===0&&(Vi=5)}function Of(e,t,n){var r=gr,i=As.transition;try{As.transition=null,gr=1,Wee(e,t,n,r)}finally{As.transition=i,gr=r}return null}function Wee(e,t,n,r){do hm();while(pd!==null);if(Zn&6)throw Error(yt(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(yt(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(CQ(e,o),e===ro&&($i=ro=null,xo=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Q_||(Q_=!0,oW(yw,function(){return hm(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=As.transition,As.transition=null;var s=gr;gr=1;var a=Zn;Zn|=4,l$.current=null,Nee(e,n),ZV(n,e),uee(FO),xw=!!BO,FO=BO=null,e.current=n,zee(n),mQ(),Zn=a,gr=s,As.transition=o}else e.current=n;if(Q_&&(Q_=!1,pd=e,Dw=i),o=e.pendingLanes,o===0&&(Td=null),vQ(n.stateNode),Ma(e,Ei()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Rw)throw Rw=!1,e=sM,sM=null,e;return Dw&1&&e.tag!==0&&hm(),o=e.pendingLanes,o&1?e===lM?o0++:(o0=0,lM=e):o0=0,Yd(),null}function hm(){if(pd!==null){var e=DU(Dw),t=As.transition,n=gr;try{if(As.transition=null,gr=16>e?16:e,pd===null)var r=!1;else{if(e=pd,pd=null,Dw=0,Zn&6)throw Error(yt(331));var i=Zn;for(Zn|=4,Wt=e.current;Wt!==null;){var o=Wt,s=o.child;if(Wt.flags&16){var a=o.deletions;if(a!==null){for(var f=0;f<a.length;f++){var h=a[f];for(Wt=h;Wt!==null;){var g=Wt;switch(g.tag){case 0:case 11:case 15:r0(8,g,o)}var y=g.child;if(y!==null)y.return=g,Wt=y;else for(;Wt!==null;){g=Wt;var x=g.sibling,T=g.return;if(GV(g),g===h){Wt=null;break}if(x!==null){x.return=T,Wt=x;break}Wt=T}}}var E=o.alternate;if(E!==null){var C=E.child;if(C!==null){E.child=null;do{var O=C.sibling;C.sibling=null,C=O}while(C!==null)}}Wt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Wt=s;else e:for(;Wt!==null;){if(o=Wt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:r0(9,o,o.return)}var A=o.sibling;if(A!==null){A.return=o.return,Wt=A;break e}Wt=o.return}}var M=e.current;for(Wt=M;Wt!==null;){s=Wt;var I=s.child;if(s.subtreeFlags&2064&&I!==null)I.return=s,Wt=I;else e:for(s=M;Wt!==null;){if(a=Wt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:w2(9,a)}}catch($){gi(a,a.return,$)}if(a===s){Wt=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,Wt=N;break e}Wt=a.return}}if(Zn=i,Yd(),ec&&typeof ec.onPostCommitFiberRoot=="function")try{ec.onPostCommitFiberRoot(p2,e)}catch{}r=!0}return r}finally{gr=n,As.transition=t}}return!1}function Vz(e,t,n){t=$m(n,t),t=LV(e,t,1),e=kd(e,t,1),t=sa(),e!==null&&(Hx(e,1,t),Ma(e,t))}function gi(e,t,n){if(e.tag===3)Vz(e,e,n);else for(;t!==null;){if(t.tag===3){Vz(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Td===null||!Td.has(r))){e=$m(n,e),e=jV(t,e,1),t=kd(t,e,1),e=sa(),t!==null&&(Hx(t,1,e),Ma(t,e));break}}t=t.return}}function qee(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=sa(),e.pingedLanes|=e.suspendedLanes&n,ro===e&&(xo&n)===n&&(Vi===4||Vi===3&&(xo&130023424)===xo&&500>Ei()-u$?Xf(e,0):c$|=n),Ma(e,t)}function rW(e,t){t===0&&(e.mode&1?(t=V_,V_<<=1,!(V_&130023424)&&(V_=4194304)):t=1);var n=sa();e=lu(e,t),e!==null&&(Hx(e,t,n),Ma(e,n))}function Hee(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),rW(e,n)}function Gee(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(yt(314))}r!==null&&r.delete(t),rW(e,n)}var iW;iW=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ea.current)Ta=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ta=!1,Ree(e,t,n);Ta=!!(e.flags&131072)}else Ta=!1,ei&&t.flags&1048576&&sV(t,Tw,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;G1(e,t),e=t.pendingProps;var i=Om(t,Uo.current);fm(t,n),i=r$(null,t,r,e,i,n);var o=i$();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oa(r)?(o=!0,Cw(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,JI(t),i.updater=b2,t.stateNode=i,i._reactInternals=t,ZO(t,r,e,n),t=QO(null,t,r,!0,o,n)):(t.tag=0,ei&&o&&qI(t),ia(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(G1(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Kee(r),e=dl(r,e),i){case 0:t=JO(null,t,r,e,n);break e;case 1:t=$z(null,t,r,e,n);break e;case 11:t=Az(null,t,r,e,n);break e;case 14:t=Iz(null,t,r,dl(r.type,e),n);break e}throw Error(yt(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:dl(r,i),JO(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:dl(r,i),$z(e,t,r,i,n);case 3:e:{if(FV(t),e===null)throw Error(yt(387));r=t.pendingProps,o=t.memoizedState,i=o.element,dV(e,t),Ow(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=$m(Error(yt(423)),t),t=Rz(e,t,r,n,i);break e}else if(r!==i){i=$m(Error(yt(424)),t),t=Rz(e,t,r,n,i);break e}else for(Ka=Cd(t.stateNode.containerInfo.firstChild),Xa=t,ei=!0,ml=null,n=mV(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mm(),r===i){t=cu(e,t,n);break e}ia(e,t,r,n)}t=t.child}return t;case 5:return gV(t),e===null&&GO(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,UO(r,i)?s=null:o!==null&&UO(r,o)&&(t.flags|=32),BV(e,t),ia(e,t,s,n),t.child;case 6:return e===null&&GO(t),null;case 13:return UV(e,t,n);case 4:return QI(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Am(t,null,r,n):ia(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:dl(r,i),Az(e,t,r,i,n);case 7:return ia(e,t,t.pendingProps,n),t.child;case 8:return ia(e,t,t.pendingProps.children,n),t.child;case 12:return ia(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Lr(Pw,r._currentValue),r._currentValue=s,o!==null)if(Tl(o.value,s)){if(o.children===i.children&&!Ea.current){t=cu(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var f=a.firstContext;f!==null;){if(f.context===r){if(o.tag===1){f=Qc(-1,n&-n),f.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var g=h.pending;g===null?f.next=f:(f.next=g.next,g.next=f),h.pending=f}}o.lanes|=n,f=o.alternate,f!==null&&(f.lanes|=n),YO(o.return,n,t),a.lanes|=n;break}f=f.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(yt(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),YO(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ia(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,fm(t,n),i=js(i),r=r(i),t.flags|=1,ia(e,t,r,n),t.child;case 14:return r=t.type,i=dl(r,t.pendingProps),i=dl(r.type,i),Iz(e,t,r,i,n);case 15:return NV(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:dl(r,i),G1(e,t),t.tag=1,Oa(r)?(e=!0,Cw(t)):e=!1,fm(t,n),hV(t,r,i),ZO(t,r,i,n),QO(null,t,r,!0,e,n);case 19:return VV(e,t,n);case 22:return zV(e,t,n)}throw Error(yt(156,t.tag))};function oW(e,t){return AU(e,t)}function Yee(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Es(e,t,n,r){return new Yee(e,t,n,r)}function p$(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kee(e){if(typeof e=="function")return p$(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$I)return 11;if(e===RI)return 14}return 2}function Ed(e,t){var n=e.alternate;return n===null?(n=Es(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Z1(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")p$(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Bp:return Jf(n.children,i,o,t);case II:s=8,i|=8;break;case bO:return e=Es(12,n,t,i|2),e.elementType=bO,e.lanes=o,e;case _O:return e=Es(13,n,t,i),e.elementType=_O,e.lanes=o,e;case wO:return e=Es(19,n,t,i),e.elementType=wO,e.lanes=o,e;case pU:return C2(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fU:s=10;break e;case hU:s=9;break e;case $I:s=11;break e;case RI:s=14;break e;case sd:s=16,r=null;break e}throw Error(yt(130,e==null?e:typeof e,""))}return t=Es(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Jf(e,t,n,r){return e=Es(7,e,r,t),e.lanes=n,e}function C2(e,t,n,r){return e=Es(22,e,r,t),e.elementType=pU,e.lanes=n,e.stateNode={isHidden:!1},e}function TP(e,t,n){return e=Es(6,e,null,t),e.lanes=n,e}function PP(e,t,n){return t=Es(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zee(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sP(0),this.expirationTimes=sP(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sP(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function m$(e,t,n,r,i,o,s,a,f){return e=new Zee(e,t,n,a,f),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Es(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},JI(o),e}function Xee(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zp,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function aW(e){if(!e)return jd;e=e._reactInternals;e:{if(wh(e)!==e||e.tag!==1)throw Error(yt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(yt(171))}if(e.tag===1){var n=e.type;if(Oa(n))return oV(e,n,t)}return t}function sW(e,t,n,r,i,o,s,a,f){return e=m$(n,r,!0,e,i,o,s,a,f),e.context=aW(null),n=e.current,r=sa(),i=Pd(n),o=Qc(r,i),o.callback=t??null,kd(n,o,i),e.current.lanes=i,Hx(e,i,r),Ma(e,r),e}function k2(e,t,n,r){var i=t.current,o=sa(),s=Pd(i);return n=aW(n),t.context===null?t.context=n:t.pendingContext=n,t=Qc(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=kd(i,t,s),e!==null&&(kl(e,i,s,o),W1(e,i,s)),s}function jw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wz(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function g$(e,t){Wz(e,t),(e=e.alternate)&&Wz(e,t)}function Jee(){return null}var lW=typeof reportError=="function"?reportError:function(e){console.error(e)};function y$(e){this._internalRoot=e}T2.prototype.render=y$.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(yt(409));k2(e,t,null,null)};T2.prototype.unmount=y$.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;uh(function(){k2(null,e,null,null)}),t[su]=null}};function T2(e){this._internalRoot=e}T2.prototype.unstable_scheduleHydration=function(e){if(e){var t=NU();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ud.length&&t!==0&&t<ud[n].priority;n++);ud.splice(n,0,e),n===0&&BU(e)}};function v$(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function P2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qz(){}function Qee(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=jw(s);o.call(h)}}var s=sW(t,r,e,0,null,!1,!1,"",qz);return e._reactRootContainer=s,e[su]=s.current,I0(e.nodeType===8?e.parentNode:e),uh(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var h=jw(f);a.call(h)}}var f=m$(e,0,!1,null,null,!1,!1,"",qz);return e._reactRootContainer=f,e[su]=f.current,I0(e.nodeType===8?e.parentNode:e),uh(function(){k2(t,f,n,r)}),f}function E2(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var f=jw(s);a.call(f)}}k2(t,s,e,i)}else s=Qee(n,t,e,i,r);return jw(s)}LU=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fv(t.pendingLanes);n!==0&&(jI(t,n|1),Ma(t,Ei()),!(Zn&6)&&(Rm=Ei()+500,Yd()))}break;case 13:uh(function(){var r=lu(e,1);if(r!==null){var i=sa();kl(r,e,1,i)}}),g$(e,1)}};NI=function(e){if(e.tag===13){var t=lu(e,134217728);if(t!==null){var n=sa();kl(t,e,134217728,n)}g$(e,134217728)}};jU=function(e){if(e.tag===13){var t=Pd(e),n=lu(e,t);if(n!==null){var r=sa();kl(n,e,t,r)}g$(e,t)}};NU=function(){return gr};zU=function(e,t){var n=gr;try{return gr=e,t()}finally{gr=n}};IO=function(e,t,n){switch(t){case"input":if(kO(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=v2(r);if(!i)throw Error(yt(90));gU(r),kO(r,i)}}}break;case"textarea":vU(e,n);break;case"select":t=n.value,t!=null&&lm(e,!!n.multiple,t,!1)}};kU=d$;TU=uh;var ete={usingClientEntryPoint:!1,Events:[Yx,Wp,v2,SU,CU,d$]},lv={findFiberByHostInstance:Bf,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},tte={bundleType:lv.bundleType,version:lv.version,rendererPackageName:lv.rendererPackageName,rendererConfig:lv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=OU(e),e===null?null:e.stateNode},findFiberByHostInstance:lv.findFiberByHostInstance||Jee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var e1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!e1.isDisabled&&e1.supportsFiber)try{p2=e1.inject(tte),ec=e1}catch{}}is.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ete;is.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v$(t))throw Error(yt(200));return Xee(e,t,null,n)};is.createRoot=function(e,t){if(!v$(e))throw Error(yt(299));var n=!1,r="",i=lW;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=m$(e,1,!1,null,null,n,!1,r,i),e[su]=t.current,I0(e.nodeType===8?e.parentNode:e),new y$(t)};is.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(yt(188)):(e=Object.keys(e).join(","),Error(yt(268,e)));return e=OU(t),e=e===null?null:e.stateNode,e};is.flushSync=function(e){return uh(e)};is.hydrate=function(e,t,n){if(!P2(t))throw Error(yt(200));return E2(null,e,t,!0,n)};is.hydrateRoot=function(e,t,n){if(!v$(e))throw Error(yt(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=lW;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=sW(t,null,e,1,n??null,i,!1,o,s),e[su]=t.current,I0(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new T2(t)};is.render=function(e,t,n){if(!P2(t))throw Error(yt(200));return E2(null,e,t,!1,n)};is.unmountComponentAtNode=function(e){if(!P2(e))throw Error(yt(40));return e._reactRootContainer?(uh(function(){E2(null,null,e,!1,function(){e._reactRootContainer=null,e[su]=null})}),!0):!1};is.unstable_batchedUpdates=d$;is.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!P2(n))throw Error(yt(200));if(e==null||e._reactInternals===void 0)throw Error(yt(38));return E2(e,t,n,!1,r)};is.version="18.2.0-next-9e3b772b8-20220608";function cW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cW)}catch(e){console.error(e)}}cW(),sU.exports=is;var _u=sU.exports;const t1=cr(_u);var uW,Hz=_u;uW=Hz.createRoot,Hz.hydrateRoot;/**
 * @remix-run/router v1.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function F0(){return F0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F0.apply(this,arguments)}var md;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(md||(md={}));const Gz="popstate";function nte(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return dM("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:dW(i)}return ite(t,n,null,e)}function Hi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function x$(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rte(){return Math.random().toString(36).substr(2,8)}function Yz(e,t){return{usr:e.state,key:e.key,idx:t}}function dM(e,t,n,r){return n===void 0&&(n=null),F0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?bg(t):t,{state:n,key:t&&t.key||r||rte()})}function dW(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function bg(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ite(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=md.Pop,f=null,h=g();h==null&&(h=0,s.replaceState(F0({},s.state,{idx:h}),""));function g(){return(s.state||{idx:null}).idx}function y(){a=md.Pop;let O=g(),A=O==null?null:O-h;h=O,f&&f({action:a,location:C.location,delta:A})}function x(O,A){a=md.Push;let M=dM(C.location,O,A);n&&n(M,O),h=g()+1;let I=Yz(M,h),N=C.createHref(M);try{s.pushState(I,"",N)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(N)}o&&f&&f({action:a,location:C.location,delta:1})}function T(O,A){a=md.Replace;let M=dM(C.location,O,A);n&&n(M,O),h=g();let I=Yz(M,h),N=C.createHref(M);s.replaceState(I,"",N),o&&f&&f({action:a,location:C.location,delta:0})}function E(O){let A=i.location.origin!=="null"?i.location.origin:i.location.href,M=typeof O=="string"?O:dW(O);return Hi(A,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,A)}let C={get action(){return a},get location(){return e(i,s)},listen(O){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Gz,y),f=O,()=>{i.removeEventListener(Gz,y),f=null}},createHref(O){return t(i,O)},createURL:E,encodeLocation(O){let A=E(O);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:x,replace:T,go(O){return s.go(O)}};return C}var Kz;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Kz||(Kz={}));function ote(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?bg(t):t,i=pW(r.pathname||"/",n);if(i==null)return null;let o=fW(e);ate(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=mte(o[a],vte(i));return s}function fW(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let f={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};f.relativePath.startsWith("/")&&(Hi(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let h=Qf([r,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(Hi(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),fW(o.children,t,g,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:hte(h,o.index),routesMeta:g})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let f of hW(o.path))i(o,s,f)}),t}function hW(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=hW(r.join("/")),a=[];return a.push(...s.map(f=>f===""?o:[o,f].join("/"))),i&&a.push(...s),a.map(f=>e.startsWith("/")&&f===""?"/":f)}function ate(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:pte(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ste=/^:[\w-]+$/,lte=3,cte=2,ute=1,dte=10,fte=-2,Zz=e=>e==="*";function hte(e,t){let n=e.split("/"),r=n.length;return n.some(Zz)&&(r+=fte),t&&(r+=cte),n.filter(i=>!Zz(i)).reduce((i,o)=>i+(ste.test(o)?lte:o===""?ute:dte),r)}function pte(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function mte(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],f=s===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",g=gte({path:a.relativePath,caseSensitive:a.caseSensitive,end:f},h);if(!g)return null;Object.assign(r,g.params);let y=a.route;o.push({params:r,pathname:Qf([i,g.pathname]),pathnameBase:kte(Qf([i,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(i=Qf([i,g.pathnameBase]))}return o}function gte(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=yte(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((h,g,y)=>{let{paramName:x,isOptional:T}=g;if(x==="*"){let C=a[y]||"";s=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const E=a[y];return T&&!E?h[x]=void 0:h[x]=xte(E||"",x),h},{}),pathname:o,pathnameBase:s,pattern:e}}function yte(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),x$(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,f)=>(r.push({paramName:a,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function vte(e){try{return decodeURI(e)}catch(t){return x$(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function xte(e,t){try{return decodeURIComponent(e)}catch(n){return x$(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function pW(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function bte(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?bg(e):e;return{pathname:n?n.startsWith("/")?n:_te(n,t):t,search:Tte(r),hash:Pte(i)}}function _te(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function EP(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wte(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ste(e,t){let n=wte(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Cte(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=bg(e):(i=F0({},e),Hi(!i.pathname||!i.pathname.includes("?"),EP("?","pathname","search",i)),Hi(!i.pathname||!i.pathname.includes("#"),EP("#","pathname","hash",i)),Hi(!i.search||!i.search.includes("#"),EP("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let y=t.length-1;if(!r&&s.startsWith("..")){let x=s.split("/");for(;x[0]==="..";)x.shift(),y-=1;i.pathname=x.join("/")}a=y>=0?t[y]:"/"}let f=bte(i,a),h=s&&s!=="/"&&s.endsWith("/"),g=(o||s===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}const Qf=e=>e.join("/").replace(/\/\/+/g,"/"),kte=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Tte=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Pte=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ete(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const mW=["post","put","patch","delete"];new Set(mW);const Ote=["get",...mW];new Set(Ote);/**
 * React Router v6.21.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U0.apply(this,arguments)}const b$=U.createContext(null),Mte=U.createContext(null),O2=U.createContext(null),M2=U.createContext(null),Kd=U.createContext({outlet:null,matches:[],isDataRoute:!1}),gW=U.createContext(null);function A2(){return U.useContext(M2)!=null}function I2(){return A2()||Hi(!1),U.useContext(M2).location}function yW(e){U.useContext(O2).static||U.useLayoutEffect(e)}function _g(){let{isDataRoute:e}=U.useContext(Kd);return e?Hte():Ate()}function Ate(){A2()||Hi(!1);let e=U.useContext(b$),{basename:t,future:n,navigator:r}=U.useContext(O2),{matches:i}=U.useContext(Kd),{pathname:o}=I2(),s=JSON.stringify(Ste(i,n.v7_relativeSplatPath)),a=U.useRef(!1);return yW(()=>{a.current=!0}),U.useCallback(function(h,g){if(g===void 0&&(g={}),!a.current)return;if(typeof h=="number"){r.go(h);return}let y=Cte(h,JSON.parse(s),o,g.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Qf([t,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[t,r,s,o,e])}const Ite=U.createContext(null);function $te(e){let t=U.useContext(Kd).outlet;return t&&U.createElement(Ite.Provider,{value:e},t)}function Rte(){let{matches:e}=U.useContext(Kd),t=e[e.length-1];return t?t.params:{}}function Dte(e,t){return Lte(e,t)}function Lte(e,t,n,r){A2()||Hi(!1);let{navigator:i}=U.useContext(O2),{matches:o}=U.useContext(Kd),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let f=s?s.pathnameBase:"/";s&&s.route;let h=I2(),g;if(t){var y;let O=typeof t=="string"?bg(t):t;f==="/"||(y=O.pathname)!=null&&y.startsWith(f)||Hi(!1),g=O}else g=h;let x=g.pathname||"/",T=f==="/"?x:x.slice(f.length)||"/",E=ote(e,{pathname:T}),C=Fte(E&&E.map(O=>Object.assign({},O,{params:Object.assign({},a,O.params),pathname:Qf([f,i.encodeLocation?i.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?f:Qf([f,i.encodeLocation?i.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),o,n,r);return t&&C?U.createElement(M2.Provider,{value:{location:U0({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:md.Pop}},C):C}function jte(){let e=qte(),t=Ete(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),n?U.createElement("pre",{style:i},n):null,null)}const Nte=U.createElement(jte,null);class zte extends U.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?U.createElement(Kd.Provider,{value:this.props.routeContext},U.createElement(gW.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Bte(e){let{routeContext:t,match:n,children:r}=e,i=U.useContext(b$);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(Kd.Provider,{value:t},r)}function Fte(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if((o=n)!=null&&o.errors)e=n.matches;else return null}let s=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let g=s.findIndex(y=>y.route.id&&(a==null?void 0:a[y.route.id]));g>=0||Hi(!1),s=s.slice(0,Math.min(s.length,g+1))}let f=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<s.length;g++){let y=s[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=g),y.route.id){let{loaderData:x,errors:T}=n,E=y.route.loader&&x[y.route.id]===void 0&&(!T||T[y.route.id]===void 0);if(y.route.lazy||E){f=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((g,y,x)=>{let T,E=!1,C=null,O=null;n&&(T=a&&y.route.id?a[y.route.id]:void 0,C=y.route.errorElement||Nte,f&&(h<0&&x===0?(Gte("route-fallback",!1),E=!0,O=null):h===x&&(E=!0,O=y.route.hydrateFallbackElement||null)));let A=t.concat(s.slice(0,x+1)),M=()=>{let I;return T?I=C:E?I=O:y.route.Component?I=U.createElement(y.route.Component,null):y.route.element?I=y.route.element:I=g,U.createElement(Bte,{match:y,routeContext:{outlet:g,matches:A,isDataRoute:n!=null},children:I})};return n&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?U.createElement(zte,{location:n.location,revalidation:n.revalidation,component:C,error:T,children:M(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):M()},null)}var vW=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(vW||{}),Nw=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Nw||{});function Ute(e){let t=U.useContext(b$);return t||Hi(!1),t}function Vte(e){let t=U.useContext(Mte);return t||Hi(!1),t}function Wte(e){let t=U.useContext(Kd);return t||Hi(!1),t}function xW(e){let t=Wte(),n=t.matches[t.matches.length-1];return n.route.id||Hi(!1),n.route.id}function qte(){var e;let t=U.useContext(gW),n=Vte(Nw.UseRouteError),r=xW(Nw.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Hte(){let{router:e}=Ute(vW.UseNavigateStable),t=xW(Nw.UseNavigateStable),n=U.useRef(!1);return yW(()=>{n.current=!0}),U.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,U0({fromRouteId:t},o)))},[e,t])}const Xz={};function Gte(e,t,n){!t&&!Xz[e]&&(Xz[e]=!0)}function Yte(e){return $te(e.context)}function ll(e){Hi(!1)}function Kte(e){let{basename:t="/",children:n=null,location:r,navigationType:i=md.Pop,navigator:o,static:s=!1,future:a}=e;A2()&&Hi(!1);let f=t.replace(/^\/*/,"/"),h=U.useMemo(()=>({basename:f,navigator:o,static:s,future:U0({v7_relativeSplatPath:!1},a)}),[f,a,o,s]);typeof r=="string"&&(r=bg(r));let{pathname:g="/",search:y="",hash:x="",state:T=null,key:E="default"}=r,C=U.useMemo(()=>{let O=pW(g,f);return O==null?null:{location:{pathname:O,search:y,hash:x,state:T,key:E},navigationType:i}},[f,g,y,x,T,E,i]);return C==null?null:U.createElement(O2.Provider,{value:h},U.createElement(M2.Provider,{children:n,value:C}))}function Zte(e){let{children:t,location:n}=e;return Dte(fM(t),n)}new Promise(()=>{});function fM(e,t){t===void 0&&(t=[]);let n=[];return U.Children.forEach(e,(r,i)=>{if(!U.isValidElement(r))return;let o=[...t,i];if(r.type===U.Fragment){n.push.apply(n,fM(r.props.children,o));return}r.type!==ll&&Hi(!1),!r.props.index||!r.props.children||Hi(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=fM(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.21.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Xte="startTransition",Jz=hw[Xte];function Jte(e){let{basename:t,children:n,future:r,window:i}=e,o=U.useRef();o.current==null&&(o.current=nte({window:i,v5Compat:!0}));let s=o.current,[a,f]=U.useState({action:s.action,location:s.location}),{v7_startTransition:h}=r||{},g=U.useCallback(y=>{h&&Jz?Jz(()=>f(y)):f(y)},[f,h]);return U.useLayoutEffect(()=>s.listen(g),[s,g]),U.createElement(Kte,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var Qz;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qz||(Qz={}));var e5;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(e5||(e5={}));var bW={exports:{}},_W={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm=U;function Qte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ene=typeof Object.is=="function"?Object.is:Qte,tne=Dm.useState,nne=Dm.useEffect,rne=Dm.useLayoutEffect,ine=Dm.useDebugValue;function one(e,t){var n=t(),r=tne({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return rne(function(){i.value=n,i.getSnapshot=t,OP(i)&&o({inst:i})},[e,n,t]),nne(function(){return OP(i)&&o({inst:i}),e(function(){OP(i)&&o({inst:i})})},[e]),ine(n),n}function OP(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ene(e,n)}catch{return!0}}function ane(e,t){return t()}var sne=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ane:one;_W.useSyncExternalStore=Dm.useSyncExternalStore!==void 0?Dm.useSyncExternalStore:sne;bW.exports=_W;var wW=bW.exports,SW={exports:{}},CW={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2=U,lne=wW;function cne(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var une=typeof Object.is=="function"?Object.is:cne,dne=lne.useSyncExternalStore,fne=$2.useRef,hne=$2.useEffect,pne=$2.useMemo,mne=$2.useDebugValue;CW.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=fne(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=pne(function(){function f(T){if(!h){if(h=!0,g=T,T=r(T),i!==void 0&&s.hasValue){var E=s.value;if(i(E,T))return y=E}return y=T}if(E=y,une(g,T))return E;var C=r(T);return i!==void 0&&i(E,C)?E:(g=T,y=C)}var h=!1,g,y,x=n===void 0?null:n;return[function(){return f(t())},x===null?void 0:function(){return f(x())}]},[t,n,r,i]);var a=dne(e,o[0],o[1]);return hne(function(){s.hasValue=!0,s.value=a},[a]),mne(a),a};SW.exports=CW;var gne=SW.exports;function yne(e){e()}let kW=yne;const vne=e=>kW=e,xne=()=>kW,t5=Symbol.for("react-redux-context"),n5=typeof globalThis<"u"?globalThis:{};function bne(){var e;if(!U.createContext)return{};const t=(e=n5[t5])!=null?e:n5[t5]=new Map;let n=t.get(U.createContext);return n||(n=U.createContext(null),t.set(U.createContext,n)),n}const uu=bne();function _$(e=uu){return function(){return U.useContext(e)}}const TW=_$(),PW=()=>{throw new Error("uSES not initialized!")};let EW=PW;const _ne=e=>{EW=e},wne=(e,t)=>e===t;function Sne(e=uu){const t=e===uu?TW:_$(e);return function(r,i={}){const{equalityFn:o=wne,stabilityCheck:s=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:f,subscription:h,getServerState:g,stabilityCheck:y,noopCheck:x}=t();U.useRef(!0);const T=U.useCallback({[r.name](C){return r(C)}}[r.name],[r,y,s]),E=EW(h.addNestedSub,f.getState,g||f.getState,T,o);return U.useDebugValue(E),E}}const yn=Sne();function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},te.apply(this,arguments)}function bt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var OW={exports:{}},yr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var io=typeof Symbol=="function"&&Symbol.for,w$=io?Symbol.for("react.element"):60103,S$=io?Symbol.for("react.portal"):60106,R2=io?Symbol.for("react.fragment"):60107,D2=io?Symbol.for("react.strict_mode"):60108,L2=io?Symbol.for("react.profiler"):60114,j2=io?Symbol.for("react.provider"):60109,N2=io?Symbol.for("react.context"):60110,C$=io?Symbol.for("react.async_mode"):60111,z2=io?Symbol.for("react.concurrent_mode"):60111,B2=io?Symbol.for("react.forward_ref"):60112,F2=io?Symbol.for("react.suspense"):60113,Cne=io?Symbol.for("react.suspense_list"):60120,U2=io?Symbol.for("react.memo"):60115,V2=io?Symbol.for("react.lazy"):60116,kne=io?Symbol.for("react.block"):60121,Tne=io?Symbol.for("react.fundamental"):60117,Pne=io?Symbol.for("react.responder"):60118,Ene=io?Symbol.for("react.scope"):60119;function as(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case w$:switch(e=e.type,e){case C$:case z2:case R2:case L2:case D2:case F2:return e;default:switch(e=e&&e.$$typeof,e){case N2:case B2:case V2:case U2:case j2:return e;default:return t}}case S$:return t}}}function MW(e){return as(e)===z2}yr.AsyncMode=C$;yr.ConcurrentMode=z2;yr.ContextConsumer=N2;yr.ContextProvider=j2;yr.Element=w$;yr.ForwardRef=B2;yr.Fragment=R2;yr.Lazy=V2;yr.Memo=U2;yr.Portal=S$;yr.Profiler=L2;yr.StrictMode=D2;yr.Suspense=F2;yr.isAsyncMode=function(e){return MW(e)||as(e)===C$};yr.isConcurrentMode=MW;yr.isContextConsumer=function(e){return as(e)===N2};yr.isContextProvider=function(e){return as(e)===j2};yr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===w$};yr.isForwardRef=function(e){return as(e)===B2};yr.isFragment=function(e){return as(e)===R2};yr.isLazy=function(e){return as(e)===V2};yr.isMemo=function(e){return as(e)===U2};yr.isPortal=function(e){return as(e)===S$};yr.isProfiler=function(e){return as(e)===L2};yr.isStrictMode=function(e){return as(e)===D2};yr.isSuspense=function(e){return as(e)===F2};yr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===R2||e===z2||e===L2||e===D2||e===F2||e===Cne||typeof e=="object"&&e!==null&&(e.$$typeof===V2||e.$$typeof===U2||e.$$typeof===j2||e.$$typeof===N2||e.$$typeof===B2||e.$$typeof===Tne||e.$$typeof===Pne||e.$$typeof===Ene||e.$$typeof===kne)};yr.typeOf=as;OW.exports=yr;var One=OW.exports,k$=One,Mne={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Ane={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ine={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},AW={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},T$={};T$[k$.ForwardRef]=Ine;T$[k$.Memo]=AW;function r5(e){return k$.isMemo(e)?AW:T$[e.$$typeof]||Mne}var $ne=Object.defineProperty,Rne=Object.getOwnPropertyNames,i5=Object.getOwnPropertySymbols,Dne=Object.getOwnPropertyDescriptor,Lne=Object.getPrototypeOf,o5=Object.prototype;function IW(e,t,n){if(typeof t!="string"){if(o5){var r=Lne(t);r&&r!==o5&&IW(e,r,n)}var i=Rne(t);i5&&(i=i.concat(i5(t)));for(var o=r5(e),s=r5(t),a=0;a<i.length;++a){var f=i[a];if(!Ane[f]&&!(n&&n[f])&&!(s&&s[f])&&!(o&&o[f])){var h=Dne(t,f);try{$ne(e,f,h)}catch{}}}}return e}var jne=IW;const a5=cr(jne);var $W={exports:{}},vr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P$=Symbol.for("react.element"),E$=Symbol.for("react.portal"),W2=Symbol.for("react.fragment"),q2=Symbol.for("react.strict_mode"),H2=Symbol.for("react.profiler"),G2=Symbol.for("react.provider"),Y2=Symbol.for("react.context"),Nne=Symbol.for("react.server_context"),K2=Symbol.for("react.forward_ref"),Z2=Symbol.for("react.suspense"),X2=Symbol.for("react.suspense_list"),J2=Symbol.for("react.memo"),Q2=Symbol.for("react.lazy"),zne=Symbol.for("react.offscreen"),RW;RW=Symbol.for("react.module.reference");function qs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case P$:switch(e=e.type,e){case W2:case H2:case q2:case Z2:case X2:return e;default:switch(e=e&&e.$$typeof,e){case Nne:case Y2:case K2:case Q2:case J2:case G2:return e;default:return t}}case E$:return t}}}vr.ContextConsumer=Y2;vr.ContextProvider=G2;vr.Element=P$;vr.ForwardRef=K2;vr.Fragment=W2;vr.Lazy=Q2;vr.Memo=J2;vr.Portal=E$;vr.Profiler=H2;vr.StrictMode=q2;vr.Suspense=Z2;vr.SuspenseList=X2;vr.isAsyncMode=function(){return!1};vr.isConcurrentMode=function(){return!1};vr.isContextConsumer=function(e){return qs(e)===Y2};vr.isContextProvider=function(e){return qs(e)===G2};vr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===P$};vr.isForwardRef=function(e){return qs(e)===K2};vr.isFragment=function(e){return qs(e)===W2};vr.isLazy=function(e){return qs(e)===Q2};vr.isMemo=function(e){return qs(e)===J2};vr.isPortal=function(e){return qs(e)===E$};vr.isProfiler=function(e){return qs(e)===H2};vr.isStrictMode=function(e){return qs(e)===q2};vr.isSuspense=function(e){return qs(e)===Z2};vr.isSuspenseList=function(e){return qs(e)===X2};vr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===W2||e===H2||e===q2||e===Z2||e===X2||e===zne||typeof e=="object"&&e!==null&&(e.$$typeof===Q2||e.$$typeof===J2||e.$$typeof===G2||e.$$typeof===Y2||e.$$typeof===K2||e.$$typeof===RW||e.getModuleId!==void 0)};vr.typeOf=qs;$W.exports=vr;var Bne=$W.exports;const Fne=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Une(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let a=!1,f,h,g,y,x;function T(M,I){return f=M,h=I,g=e(f,h),y=t(r,h),x=n(g,y,h),a=!0,x}function E(){return g=e(f,h),t.dependsOnOwnProps&&(y=t(r,h)),x=n(g,y,h),x}function C(){return e.dependsOnOwnProps&&(g=e(f,h)),t.dependsOnOwnProps&&(y=t(r,h)),x=n(g,y,h),x}function O(){const M=e(f,h),I=!s(M,g);return g=M,I&&(x=n(g,y,h)),x}function A(M,I){const N=!o(I,h),$=!i(M,f,I,h);return f=M,h=I,N&&$?E():N?C():$?O():x}return function(I,N){return a?A(I,N):T(I,N)}}function Vne(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:i}=t,o=bt(t,Fne);const s=n(e,o),a=r(e,o),f=i(e,o);return Une(s,a,f,e,o)}function Wne(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...o)=>t(i(...o)))}return n}function hM(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function s5(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function DW(e,t){return function(r,{displayName:i}){const o=function(a,f){return o.dependsOnOwnProps?o.mapToProps(a,f):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,f){o.mapToProps=e,o.dependsOnOwnProps=s5(e);let h=o(a,f);return typeof h=="function"&&(o.mapToProps=h,o.dependsOnOwnProps=s5(h),h=o(a,f)),h},o}}function O$(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function qne(e){return e&&typeof e=="object"?hM(t=>Wne(e,t)):e?typeof e=="function"?DW(e):O$(e,"mapDispatchToProps"):hM(t=>({dispatch:t}))}function Hne(e){return e?typeof e=="function"?DW(e):O$(e,"mapStateToProps"):hM(()=>({}))}function Gne(e,t,n){return te({},n,e,t)}function Yne(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let o=!1,s;return function(f,h,g){const y=e(f,h,g);return o?i(y,s)||(s=y):(o=!0,s=y),s}}}function Kne(e){return e?typeof e=="function"?Yne(e):O$(e,"mergeProps"):()=>Gne}function Zne(){const e=xne();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const l5={notify(){},get:()=>[]};function LW(e,t){let n,r=l5,i=0,o=!1;function s(C){g();const O=r.subscribe(C);let A=!1;return()=>{A||(A=!0,O(),y())}}function a(){r.notify()}function f(){E.onStateChange&&E.onStateChange()}function h(){return o}function g(){i++,n||(n=t?t.addNestedSub(f):e.subscribe(f),r=Zne())}function y(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=l5)}function x(){o||(o=!0,g())}function T(){o&&(o=!1,y())}const E={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:f,isSubscribed:h,trySubscribe:x,tryUnsubscribe:T,getListeners:()=>r};return E}const Xne=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zw=Xne?U.useLayoutEffect:U.useEffect;function c5(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function MP(e,t){if(c5(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!c5(e[n[i]],t[n[i]]))return!1;return!0}const Jne=["reactReduxForwardedRef"];let jW=PW;const Qne=e=>{jW=e},ere=[null,null];function tre(e,t,n){zw(()=>e(...t),n)}function nre(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function rre(e,t,n,r,i,o,s,a,f,h,g){if(!e)return()=>{};let y=!1,x=null;const T=()=>{if(y||!a.current)return;const C=t.getState();let O,A;try{O=r(C,i.current)}catch(M){A=M,x=M}A||(x=null),O===o.current?s.current||h():(o.current=O,f.current=O,s.current=!0,g())};return n.onStateChange=T,n.trySubscribe(),T(),()=>{if(y=!0,n.tryUnsubscribe(),n.onStateChange=null,x)throw x}}function ire(e,t){return e===t}function ore(e,t,n,{pure:r,areStatesEqual:i=ire,areOwnPropsEqual:o=MP,areStatePropsEqual:s=MP,areMergedPropsEqual:a=MP,forwardRef:f=!1,context:h=uu}={}){const g=h,y=Hne(e),x=qne(t),T=Kne(n),E=!!e;return O=>{const A=O.displayName||O.name||"Component",M=`Connect(${A})`,I={shouldHandleStateChanges:E,displayName:M,wrappedComponentName:A,WrappedComponent:O,initMapStateToProps:y,initMapDispatchToProps:x,initMergeProps:T,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:a};function N(F){const[q,X,J]=U.useMemo(()=>{const{reactReduxForwardedRef:Ve}=F,Tt=bt(F,Jne);return[F.context,Ve,Tt]},[F]),ie=U.useMemo(()=>q&&q.Consumer&&Bne.isContextConsumer(U.createElement(q.Consumer,null))?q:g,[q,g]),ge=U.useContext(ie),Ce=!!F.store&&!!F.store.getState&&!!F.store.dispatch,fe=!!ge&&!!ge.store,ce=Ce?F.store:ge.store,ue=fe?ge.getServerState:ce.getState,xe=U.useMemo(()=>Vne(ce.dispatch,I),[ce]),[le,Pe]=U.useMemo(()=>{if(!E)return ere;const Ve=LW(ce,Ce?void 0:ge.subscription),Tt=Ve.notifyNestedSubs.bind(Ve);return[Ve,Tt]},[ce,Ce,ge]),je=U.useMemo(()=>Ce?ge:te({},ge,{subscription:le}),[Ce,ge,le]),Qe=U.useRef(),We=U.useRef(J),Ke=U.useRef(),nt=U.useRef(!1);U.useRef(!1);const mt=U.useRef(!1),st=U.useRef();zw(()=>(mt.current=!0,()=>{mt.current=!1}),[]);const Nt=U.useMemo(()=>()=>Ke.current&&J===We.current?Ke.current:xe(ce.getState(),J),[ce,J]),Mt=U.useMemo(()=>Tt=>le?rre(E,ce,le,xe,We,Qe,nt,mt,Ke,Pe,Tt):()=>{},[le]);tre(nre,[We,Qe,nt,J,Ke,Pe]);let He;try{He=jW(Mt,Nt,ue?()=>xe(ue(),J):Nt)}catch(Ve){throw st.current&&(Ve.message+=`
The error may be correlated with this previous error:
${st.current.stack}

`),Ve}zw(()=>{st.current=void 0,Ke.current=void 0,Qe.current=He});const ct=U.useMemo(()=>U.createElement(O,te({},He,{ref:X})),[X,O,He]);return U.useMemo(()=>E?U.createElement(ie.Provider,{value:je},ct):ct,[ie,ct,je])}const D=U.memo(N);if(D.WrappedComponent=O,D.displayName=N.displayName=M,f){const q=U.forwardRef(function(J,ie){return U.createElement(D,te({},J,{reactReduxForwardedRef:ie}))});return q.displayName=M,q.WrappedComponent=O,a5(q,O)}return a5(D,O)}}function are({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",noopCheck:o="once"}){const s=U.useMemo(()=>{const h=LW(e);return{store:e,subscription:h,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:o}},[e,r,i,o]),a=U.useMemo(()=>e.getState(),[e]);zw(()=>{const{subscription:h}=s;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),a!==e.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[s,a]);const f=t||uu;return U.createElement(f.Provider,{value:s},n)}function NW(e=uu){const t=e===uu?TW:_$(e);return function(){const{store:r}=t();return r}}const sre=NW();function lre(e=uu){const t=e===uu?sre:NW(e);return function(){return t().dispatch}}const Hs=lre();_ne(gne.useSyncExternalStoreWithSelector);Qne(wW.useSyncExternalStore);vne(_u.unstable_batchedUpdates);function vl(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Nd(e){return!!e&&!!e[Qr]}function du(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===yre}(e)||Array.isArray(e)||!!e[g5]||!!(!((t=e.constructor)===null||t===void 0)&&t[g5])||M$(e)||A$(e))}function dh(e,t,n){n===void 0&&(n=!1),wg(e)===0?(n?Object.keys:mm)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function wg(e){var t=e[Qr];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:M$(e)?2:A$(e)?3:0}function pm(e,t){return wg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function cre(e,t){return wg(e)===2?e.get(t):e[t]}function zW(e,t,n){var r=wg(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function BW(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function M$(e){return mre&&e instanceof Map}function A$(e){return gre&&e instanceof Set}function Mf(e){return e.o||e.t}function I$(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=UW(e);delete t[Qr];for(var n=mm(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function $$(e,t){return t===void 0&&(t=!1),R$(e)||Nd(e)||!du(e)||(wg(e)>1&&(e.set=e.add=e.clear=e.delete=ure),Object.freeze(e),t&&dh(e,function(n,r){return $$(r,!0)},!0)),e}function ure(){vl(2)}function R$(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function nc(e){var t=yM[e];return t||vl(18,e),t}function dre(e,t){yM[e]||(yM[e]=t)}function pM(){return V0}function AP(e,t){t&&(nc("Patches"),e.u=[],e.s=[],e.v=t)}function Bw(e){mM(e),e.p.forEach(fre),e.p=null}function mM(e){e===V0&&(V0=e.l)}function u5(e){return V0={p:[],l:V0,h:e,m:!0,_:0}}function fre(e){var t=e[Qr];t.i===0||t.i===1?t.j():t.g=!0}function IP(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||nc("ES5").S(t,e,r),r?(n[Qr].P&&(Bw(t),vl(4)),du(e)&&(e=Fw(t,e),t.l||Uw(t,e)),t.u&&nc("Patches").M(n[Qr].t,e,t.u,t.s)):e=Fw(t,n,[]),Bw(t),t.u&&t.v(t.u,t.s),e!==FW?e:void 0}function Fw(e,t,n){if(R$(t))return t;var r=t[Qr];if(!r)return dh(t,function(a,f){return d5(e,r,t,a,f,n)},!0),t;if(r.A!==e)return t;if(!r.P)return Uw(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=I$(r.k):r.o,o=i,s=!1;r.i===3&&(o=new Set(i),i.clear(),s=!0),dh(o,function(a,f){return d5(e,r,i,a,f,n,s)}),Uw(e,i,!1),n&&e.u&&nc("Patches").N(r,n,e.u,e.s)}return r.o}function d5(e,t,n,r,i,o,s){if(Nd(i)){var a=Fw(e,i,o&&t&&t.i!==3&&!pm(t.R,r)?o.concat(r):void 0);if(zW(n,r,a),!Nd(a))return;e.m=!1}else s&&n.add(i);if(du(i)&&!R$(i)){if(!e.h.D&&e._<1)return;Fw(e,i),t&&t.A.l||Uw(e,i)}}function Uw(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&$$(t,n)}function $P(e,t){var n=e[Qr];return(n?Mf(n):e)[t]}function f5(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function fd(e){e.P||(e.P=!0,e.l&&fd(e.l))}function RP(e){e.o||(e.o=I$(e.t))}function gM(e,t,n){var r=M$(t)?nc("MapSet").F(t,n):A$(t)?nc("MapSet").T(t,n):e.O?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:pM(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},f=a,h=W0;s&&(f=[a],h=Vv);var g=Proxy.revocable(f,h),y=g.revoke,x=g.proxy;return a.k=x,a.j=y,x}(t,n):nc("ES5").J(t,n);return(n?n.A:pM()).p.push(r),r}function hre(e){return Nd(e)||vl(22,e),function t(n){if(!du(n))return n;var r,i=n[Qr],o=wg(n);if(i){if(!i.P&&(i.i<4||!nc("ES5").K(i)))return i.t;i.I=!0,r=h5(n,o),i.I=!1}else r=h5(n,o);return dh(r,function(s,a){i&&cre(i.t,s)===a||zW(r,s,t(a))}),o===3?new Set(r):r}(e)}function h5(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return I$(e)}function pre(){function e(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var f=this[Qr];return W0.get(f,o)},set:function(f){var h=this[Qr];W0.set(h,o,f)}},a}function t(o){for(var s=o.length-1;s>=0;s--){var a=o[s][Qr];if(!a.P)switch(a.i){case 5:r(a)&&fd(a);break;case 4:n(a)&&fd(a)}}}function n(o){for(var s=o.t,a=o.k,f=mm(a),h=f.length-1;h>=0;h--){var g=f[h];if(g!==Qr){var y=s[g];if(y===void 0&&!pm(s,g))return!0;var x=a[g],T=x&&x[Qr];if(T?T.t!==y:!BW(x,y))return!0}}var E=!!s[Qr];return f.length!==mm(s).length+(E?0:1)}function r(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var f=0;f<s.length;f++)if(!s.hasOwnProperty(f))return!0;return!1}var i={};dre("ES5",{J:function(o,s){var a=Array.isArray(o),f=function(g,y){if(g){for(var x=Array(y.length),T=0;T<y.length;T++)Object.defineProperty(x,""+T,e(T,!0));return x}var E=UW(y);delete E[Qr];for(var C=mm(E),O=0;O<C.length;O++){var A=C[O];E[A]=e(A,g||!!E[A].enumerable)}return Object.create(Object.getPrototypeOf(y),E)}(a,o),h={i:a?5:4,A:s?s.A:pM(),P:!1,I:!1,R:{},l:s,t:o,k:f,o:null,g:!1,C:!1};return Object.defineProperty(f,Qr,{value:h,writable:!0}),f},S:function(o,s,a){a?Nd(s)&&s[Qr].A===o&&t(o.p):(o.u&&function f(h){if(h&&typeof h=="object"){var g=h[Qr];if(g){var y=g.t,x=g.k,T=g.R,E=g.i;if(E===4)dh(x,function(I){I!==Qr&&(y[I]!==void 0||pm(y,I)?T[I]||f(x[I]):(T[I]=!0,fd(g)))}),dh(y,function(I){x[I]!==void 0||pm(x,I)||(T[I]=!1,fd(g))});else if(E===5){if(r(g)&&(fd(g),T.length=!0),x.length<y.length)for(var C=x.length;C<y.length;C++)T[C]=!1;else for(var O=y.length;O<x.length;O++)T[O]=!0;for(var A=Math.min(x.length,y.length),M=0;M<A;M++)x.hasOwnProperty(M)||(T[M]=!0),T[M]===void 0&&f(x[M])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var p5,V0,D$=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",mre=typeof Map<"u",gre=typeof Set<"u",m5=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",FW=D$?Symbol.for("immer-nothing"):((p5={})["immer-nothing"]=!0,p5),g5=D$?Symbol.for("immer-draftable"):"__$immer_draftable",Qr=D$?Symbol.for("immer-state"):"__$immer_state",yre=""+Object.prototype.constructor,mm=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,UW=Object.getOwnPropertyDescriptors||function(e){var t={};return mm(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},yM={},W0={get:function(e,t){if(t===Qr)return e;var n=Mf(e);if(!pm(n,t))return function(i,o,s){var a,f=f5(o,s);return f?"value"in f?f.value:(a=f.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!du(r)?r:r===$P(e.t,t)?(RP(e),e.o[t]=gM(e.A.h,r,e)):r},has:function(e,t){return t in Mf(e)},ownKeys:function(e){return Reflect.ownKeys(Mf(e))},set:function(e,t,n){var r=f5(Mf(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=$P(Mf(e),t),o=i==null?void 0:i[Qr];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(BW(n,i)&&(n!==void 0||pm(e.t,t)))return!0;RP(e),fd(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return $P(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,RP(e),fd(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Mf(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){vl(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){vl(12)}},Vv={};dh(W0,function(e,t){Vv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Vv.deleteProperty=function(e,t){return Vv.set.call(this,e,t,void 0)},Vv.set=function(e,t,n){return W0.set.call(this,e[0],t,n,e[0])};var vre=function(){function e(n){var r=this;this.O=m5,this.D=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var f=r;return function(C){var O=this;C===void 0&&(C=a);for(var A=arguments.length,M=Array(A>1?A-1:0),I=1;I<A;I++)M[I-1]=arguments[I];return f.produce(C,function(N){var $;return($=o).call.apply($,[O,N].concat(M))})}}var h;if(typeof o!="function"&&vl(6),s!==void 0&&typeof s!="function"&&vl(7),du(i)){var g=u5(r),y=gM(r,i,void 0),x=!0;try{h=o(y),x=!1}finally{x?Bw(g):mM(g)}return typeof Promise<"u"&&h instanceof Promise?h.then(function(C){return AP(g,s),IP(C,g)},function(C){throw Bw(g),C}):(AP(g,s),IP(h,g))}if(!i||typeof i!="object"){if((h=o(i))===void 0&&(h=i),h===FW&&(h=void 0),r.D&&$$(h,!0),s){var T=[],E=[];nc("Patches").M(i,h,T,E),s(T,E)}return h}vl(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(h){for(var g=arguments.length,y=Array(g>1?g-1:0),x=1;x<g;x++)y[x-1]=arguments[x];return r.produceWithPatches(h,function(T){return i.apply(void 0,[T].concat(y))})};var s,a,f=r.produce(i,o,function(h,g){s=h,a=g});return typeof Promise<"u"&&f instanceof Promise?f.then(function(h){return[h,s,a]}):[f,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){du(n)||vl(8),Nd(n)&&(n=hre(n));var r=u5(this),i=gM(this,n,void 0);return i[Qr].C=!0,mM(r),i},t.finishDraft=function(n,r){var i=n&&n[Qr],o=i.A;return AP(o,r),IP(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!m5&&vl(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=nc("Patches").$;return Nd(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e}(),ts=new vre,VW=ts.produce;ts.produceWithPatches.bind(ts);ts.setAutoFreeze.bind(ts);ts.setUseProxies.bind(ts);ts.applyPatches.bind(ts);ts.createDraft.bind(ts);ts.finishDraft.bind(ts);function q0(e){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q0(e)}function xre(e,t){if(q0(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(q0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WW(e){var t=xre(e,"string");return q0(t)==="symbol"?t:String(t)}function bre(e,t,n){return t=WW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function v5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y5(Object(n),!0).forEach(function(r){bre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ro(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var x5=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),DP=function(){return Math.random().toString(36).substring(7).split("").join(".")},Vw={INIT:"@@redux/INIT"+DP(),REPLACE:"@@redux/REPLACE"+DP(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+DP()}};function _re(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function qW(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ro(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ro(1));return n(qW)(e,t)}if(typeof e!="function")throw new Error(Ro(2));var i=e,o=t,s=[],a=s,f=!1;function h(){a===s&&(a=s.slice())}function g(){if(f)throw new Error(Ro(3));return o}function y(C){if(typeof C!="function")throw new Error(Ro(4));if(f)throw new Error(Ro(5));var O=!0;return h(),a.push(C),function(){if(O){if(f)throw new Error(Ro(6));O=!1,h();var M=a.indexOf(C);a.splice(M,1),s=null}}}function x(C){if(!_re(C))throw new Error(Ro(7));if(typeof C.type>"u")throw new Error(Ro(8));if(f)throw new Error(Ro(9));try{f=!0,o=i(o,C)}finally{f=!1}for(var O=s=a,A=0;A<O.length;A++){var M=O[A];M()}return C}function T(C){if(typeof C!="function")throw new Error(Ro(10));i=C,x({type:Vw.REPLACE})}function E(){var C,O=y;return C={subscribe:function(M){if(typeof M!="object"||M===null)throw new Error(Ro(11));function I(){M.next&&M.next(g())}I();var N=O(I);return{unsubscribe:N}}},C[x5]=function(){return this},C}return x({type:Vw.INIT}),r={dispatch:x,subscribe:y,getState:g,replaceReducer:T},r[x5]=E,r}function wre(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:Vw.INIT});if(typeof r>"u")throw new Error(Ro(12));if(typeof n(void 0,{type:Vw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ro(13))})}function HW(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var o=Object.keys(n),s;try{wre(n)}catch(a){s=a}return function(f,h){if(f===void 0&&(f={}),s)throw s;for(var g=!1,y={},x=0;x<o.length;x++){var T=o[x],E=n[T],C=f[T],O=E(C,h);if(typeof O>"u")throw h&&h.type,new Error(Ro(14));y[T]=O,g=g||O!==C}return g=g||o.length!==Object.keys(f).length,g?y:f}}function Ww(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Sre(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(Ro(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(f){return f(s)});return o=Ww.apply(void 0,a)(i.dispatch),v5(v5({},i),{},{dispatch:o})}}}function GW(e){var t=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,e):s(a)}}};return t}var YW=GW();YW.withExtraArgument=GW;const b5=YW;var KW=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cre=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(h){return function(g){return f([h,g])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){n.label=h[1];break}if(h[0]===6&&n.label<o[1]){n.label=o[1],o=h;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(h);break}o[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(g){h=[6,g],i=0}finally{r=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Lm=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},kre=Object.defineProperty,Tre=Object.defineProperties,Pre=Object.getOwnPropertyDescriptors,_5=Object.getOwnPropertySymbols,Ere=Object.prototype.hasOwnProperty,Ore=Object.prototype.propertyIsEnumerable,w5=function(e,t,n){return t in e?kre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Od=function(e,t){for(var n in t||(t={}))Ere.call(t,n)&&w5(e,n,t[n]);if(_5)for(var r=0,i=_5(t);r<i.length;r++){var n=i[r];Ore.call(t,n)&&w5(e,n,t[n])}return e},LP=function(e,t){return Tre(e,Pre(t))},Mre=function(e,t,n){return new Promise(function(r,i){var o=function(f){try{a(n.next(f))}catch(h){i(h)}},s=function(f){try{a(n.throw(f))}catch(h){i(h)}},a=function(f){return f.done?r(f.value):Promise.resolve(f.value).then(o,s)};a((n=n.apply(e,t)).next())})},Are=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ww:Ww.apply(null,arguments)};function Ire(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}function Md(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var o=t.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return Od(Od({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}var $re=function(e){KW(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Lm([void 0],n[0].concat(this)))):new(t.bind.apply(t,Lm([void 0],n.concat(this))))},t}(Array),Rre=function(e){KW(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Lm([void 0],n[0].concat(this)))):new(t.bind.apply(t,Lm([void 0],n.concat(this))))},t}(Array);function vM(e){return du(e)?VW(e,function(){}):e}function Dre(e){return typeof e=="boolean"}function Lre(){return function(t){return jre(t)}}function jre(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new $re;return n&&(Dre(n)?r.push(b5):r.push(b5.withExtraArgument(n.extraArgument))),r}var Nre=!0;function zre(e){var t=Lre(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,o=n.middleware,s=o===void 0?t():o,a=n.devTools,f=a===void 0?!0:a,h=n.preloadedState,g=h===void 0?void 0:h,y=n.enhancers,x=y===void 0?void 0:y,T;if(typeof i=="function")T=i;else if(Ire(i))T=HW(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var E=s;typeof E=="function"&&(E=E(t));var C=Sre.apply(void 0,E),O=Ww;f&&(O=Are(Od({trace:!Nre},typeof f=="object"&&f)));var A=new Rre(C),M=A;Array.isArray(x)?M=Lm([C],x):typeof x=="function"&&(M=x(A));var I=O.apply(void 0,M);return qW(T,g,I)}function ZW(e){var t={},n=[],r,i={addCase:function(o,s){var a=typeof o=="string"?o:o.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=s,i},addMatcher:function(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return r=o,i}};return e(i),[t,n,r]}function Bre(e){return typeof e=="function"}function Fre(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?ZW(t):[t,n,r],o=i[0],s=i[1],a=i[2],f;if(Bre(e))f=function(){return vM(e())};else{var h=vM(e);f=function(){return h}}function g(y,x){y===void 0&&(y=f());var T=Lm([o[x.type]],s.filter(function(E){var C=E.matcher;return C(x)}).map(function(E){var C=E.reducer;return C}));return T.filter(function(E){return!!E}).length===0&&(T=[a]),T.reduce(function(E,C){if(C)if(Nd(E)){var O=E,A=C(O,x);return A===void 0?E:A}else{if(du(E))return VW(E,function(M){return C(M,x)});var A=C(E,x);if(A===void 0){if(E===null)return E;throw Error("A case reducer on a non-draftable value must not return undefined")}return A}return E},y)}return g.getInitialState=f,g}function Ure(e,t){return e+"/"+t}function Sg(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:vM(e.initialState),r=e.reducers||{},i=Object.keys(r),o={},s={},a={};i.forEach(function(g){var y=r[g],x=Ure(t,g),T,E;"reducer"in y?(T=y.reducer,E=y.prepare):T=y,o[g]=T,s[x]=T,a[g]=E?Md(x,E):Md(x)});function f(){var g=typeof e.extraReducers=="function"?ZW(e.extraReducers):[e.extraReducers],y=g[0],x=y===void 0?{}:y,T=g[1],E=T===void 0?[]:T,C=g[2],O=C===void 0?void 0:C,A=Od(Od({},x),s);return Fre(n,function(M){for(var I in A)M.addCase(I,A[I]);for(var N=0,$=E;N<$.length;N++){var D=$[N];M.addMatcher(D.matcher,D.reducer)}O&&M.addDefaultCase(O)})}var h;return{name:t,reducer:function(g,y){return h||(h=f()),h(g,y)},actions:a,caseReducers:o,getInitialState:function(){return h||(h=f()),h.getInitialState()}}}var Vre="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Wre=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=Vre[Math.random()*64|0];return t},qre=["name","message","stack","code"],jP=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),S5=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),Hre=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=qre;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=Md(t+"/fulfilled",function(h,g,y,x){return{payload:h,meta:LP(Od({},x||{}),{arg:y,requestId:g,requestStatus:"fulfilled"})}}),o=Md(t+"/pending",function(h,g,y){return{payload:void 0,meta:LP(Od({},y||{}),{arg:g,requestId:h,requestStatus:"pending"})}}),s=Md(t+"/rejected",function(h,g,y,x,T){return{payload:x,error:(r&&r.serializeError||Hre)(h||"Rejected"),meta:LP(Od({},T||{}),{arg:y,requestId:g,rejectedWithValue:!!x,requestStatus:"rejected",aborted:(h==null?void 0:h.name)==="AbortError",condition:(h==null?void 0:h.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function h(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return h.prototype.abort=function(){},h}();function f(h){return function(g,y,x){var T=r!=null&&r.idGenerator?r.idGenerator(h):Wre(),E=new a,C;function O(M){C=M,E.abort()}var A=function(){return Mre(this,null,function(){var M,I,N,$,D,F,q;return Cre(this,function(X){switch(X.label){case 0:return X.trys.push([0,4,,5]),$=(M=r==null?void 0:r.condition)==null?void 0:M.call(r,h,{getState:y,extra:x}),Yre($)?[4,$]:[3,2];case 1:$=X.sent(),X.label=2;case 2:if($===!1||E.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return D=new Promise(function(J,ie){return E.signal.addEventListener("abort",function(){return ie({name:"AbortError",message:C||"Aborted"})})}),g(o(T,h,(I=r==null?void 0:r.getPendingMeta)==null?void 0:I.call(r,{requestId:T,arg:h},{getState:y,extra:x}))),[4,Promise.race([D,Promise.resolve(n(h,{dispatch:g,getState:y,extra:x,requestId:T,signal:E.signal,abort:O,rejectWithValue:function(J,ie){return new jP(J,ie)},fulfillWithValue:function(J,ie){return new S5(J,ie)}})).then(function(J){if(J instanceof jP)throw J;return J instanceof S5?i(J.payload,T,h,J.meta):i(J,T,h)})])];case 3:return N=X.sent(),[3,5];case 4:return F=X.sent(),N=F instanceof jP?s(null,T,h,F.payload,F.meta):s(F,T,h),[3,5];case 5:return q=r&&!r.dispatchConditionRejection&&s.match(N)&&N.meta.condition,q||g(N),[2,N]}})})}();return Object.assign(A,{abort:O,requestId:T,arg:h,unwrap:function(){return A.then(Gre)}})}}return Object.assign(f,{pending:o,rejected:s,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function Gre(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function Yre(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var L$="listenerMiddleware";Md(L$+"/add");Md(L$+"/removeAll");Md(L$+"/remove");var C5;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);pre();const{reducer:Kre,actions:Zre}=Sg({name:"errors",initialState:{errors:[]},reducers:{push(e,t){e.errors.push(t.payload)},pop(e){e.errors.length&&e.errors.shift()}}}),{reducer:Xre,actions:Ps}=Sg({name:"devices",initialState:{items:{},selectedId:null,selectedIds:[]},reducers:{refresh(e,t){console.log(t.payload),e.items={},t.payload.forEach(n=>e.items[n.id]=n)},update1(e,t){e.items[t.payload.id]=t.payload},update(e,t){t.payload.forEach(n=>e.items[n.id]=n)},select(e,t){e.selectedId=t.payload},selectId(e,t){e.selectedId=t.payload,e.selectedIds=[e.selectedId]},selectIds(e,t){e.selectedIds=t.payload,[e.selectedId]=e.selectedIds},remove(e,t){delete e.items[t.payload]},clear(e,t){e.items={}}}}),{reducer:Jre,actions:NP}=Sg({name:"data",initialState:{server:null,user:null,socket:null,camera:{},positions:{},history:{}},reducers:{updateServer(e,t){e.server=t.payload},updateUser(e,t){e.user=t.payload},updateSocket(e,t){e.socket=t.payload},updatePositions(e,t){Object.keys(t.payload).length>0&&t.payload.forEach(n=>{e.positions[n.deviceId]=n,e.history={}})},updatePosition(e,t){e.positions[t.payload.deviceId]===void 0&&(e.positions[t.payload.deviceId]={attributes:{}}),t.payload.hasOwnProperty("latitude")&&(e.positions[t.payload.deviceId].id=t.payload.id,e.positions[t.payload.deviceId].deviceId=t.payload.deviceId,e.positions[t.payload.deviceId].latitude=t.payload.latitude,e.positions[t.payload.deviceId].longitude=t.payload.longitude,e.positions[t.payload.deviceId].altitude=t.payload.altitude,e.positions[t.payload.deviceId].deviceTime=t.payload.deviceTime),t.payload.hasOwnProperty("course")&&(e.positions[t.payload.deviceId].course=t.payload.course),t.payload.hasOwnProperty("speed")&&(e.positions[t.payload.deviceId].speed=t.payload.speed),t.payload.hasOwnProperty("batteryLevel")&&(e.positions[t.payload.deviceId].attributes.batteryLevel=t.payload.batteryLevel)},updateCamera(e,t){Object.keys(t.payload).length>0&&t.payload.forEach(n=>{e.camera[n.deviceId]=n})}}}),Qre=e=>{let t=[];console.log("version 3"),console.log("longitud"+e.length);for(let n=0;n<e.length;n++){console.log("uav - "+n),t[n]={},e[n].hasOwnProperty("uav")&&(t[n].uav=e[n].uav),t[n].id=n,t[n].name=e[n].name,t[n].wp=[],t[n].attributes={};for(let r=0;r<e[n].wp.length;r++)t[n].wp[r]={},t[n].wp[r].pos=e[n].wp[r].pos,t[n].wp[r].yaw=e[n].wp[r].yaw,t[n].wp[r].gimbal=e[n].wp[r].gimbal,e[n].wp[r].hasOwnProperty("speed")&&(t[n].wp[r].speed=e[n].wp[r].speed),e[n].wp[r].hasOwnProperty("action")&&(t[n].wp[r].action=e[n].wp[r].action);e[n].hasOwnProperty("attributes")?(console.log("have atribute"),e[n].attributes.hasOwnProperty("mode_landing")&&(console.log("have modelanding"+n),t[n].attributes.mode_landing=e[n].attributes.mode_landing),e[n].attributes.hasOwnProperty("mode_yaw")&&(t[n].attributes.mode_yaw=e[n].attributes.mode_yaw),e[n].attributes.hasOwnProperty("mode_gimbal")&&(t[n].attributes.mode_gimbal=e[n].attributes.mode_gimbal),e[n].attributes.hasOwnProperty("mode_trace")&&(t[n].attributes.mode_trace=e[n].attributes.mode_trace),e[n].attributes.hasOwnProperty("idle_vel")&&(t[n].attributes.idle_vel=e[n].attributes.idle_vel),e[n].attributes.hasOwnProperty("max_vel")&&(t[n].attributes.max_vel=e[n].attributes.max_vel)):(e[n].hasOwnProperty("mode_landing")&&(console.log("have modelanding"+n),t[n].attributes.mode_landing=e[n].mode_landing),e[n].hasOwnProperty("mode_yaw")&&(t[n].attributes.mode_yaw=e[n].mode_yaw),e[n].hasOwnProperty("mode_gimbal")&&(t[n].attributes.mode_gimbal=e[n].mode_gimbal),e[n].hasOwnProperty("mode_trace")&&(t[n].attributes.mode_trace=e[n].mode_trace),e[n].hasOwnProperty("idle_vel")&&(t[n].attributes.idle_vel=e[n].idle_vel),e[n].hasOwnProperty("max_vel")&&(t[n].attributes.max_vel=e[n].max_vel))}return console.log("-------------------"),console.log(t),t},eie=e=>{let t=[];console.log("mission < 3");for(let n=1;n<=e.uav_n;n++)if(e.hasOwnProperty("uav_"+n)){let r=n-1;console.log("uav - "+r),t[r]={},t[r].id=r,t[r].uav="uav_"+n,t[r].name="uav_"+n,t[r].wp=[],t[r].attributes={};for(let i=0;i<e["uav_"+n].wp_n;i++)t[r].wp[i]={},e["uav_"+n]["wp_"+i].length==3?(t[r].wp[i].yaw=0,t[r].wp[i].pos=e["uav_"+n]["wp_"+i]):(t[r].wp[i].yaw=e["uav_"+n]["wp_"+i][3],t[r].wp[i].pos=e["uav_"+n]["wp_"+i].slice(0,-1));e.hasOwnProperty("mode_landing")&&(t[r].attributes.mode_landing=e.mode_landing),e.hasOwnProperty("mode_yaw")&&(t[r].attributes.mode_yaw=e.mode_yaw),e.hasOwnProperty("idle_vel")&&(t[r].attributes.idle_vel=e.idle_vel),e["uav_"+n].hasOwnProperty("attributes")?(e["uav_"+n].attributes.hasOwnProperty("mode_landing")&&(console.log("have modelanding"+n),t[r].attributes.mode_landing=e["uav_"+n].attributes.mode_landing),e["uav_"+n].attributes.hasOwnProperty("mode_yaw")&&(t[r].attributes.mode_yaw=e["uav_"+n].attributes.mode_yaw),e["uav_"+n].attributes.hasOwnProperty("idle_vel")&&(t[r].attributes.idle_vel=e["uav_"+n].attributes.idle_vel),e["uav_"+n].attributes.hasOwnProperty("max_vel")&&(t[n].attributes.max_vel=e["uav_"+n].attributes.max_vel)):(e["uav_"+n].hasOwnProperty("mode_landing")&&(t[r].attributes.mode_landing=e["uav_"+n].mode_landing),e["uav_"+n].hasOwnProperty("mode_yaw")&&(t[r].attributes.mode_yaw=e["uav_"+n].mode_yaw),e["uav_"+n].hasOwnProperty("idle_vel")&&(t[r].attributes.idle_vel=e["uav_"+n].idle_vel))}return console.log("-----------   legacy   --------"),console.log(t),t},{reducer:tie,actions:Hc}=Sg({name:"mission",initialState:{name:"Mission no loaded",description:"",home:[0,0],route:[],attributes:{},selectpoint:{id:-1}},reducers:{updateWpPos(e,t){t.payload.route_id>=0&&(e.route[t.payload.route_id].wp[t.payload.wp_id].pos[0]=t.payload.lat,e.route[t.payload.route_id].wp[t.payload.wp_id].pos[1]=t.payload.lng)},selectpoint(e,t){console.log("selec point"),e.selectpoint=t.payload},reloadMission(e,t){e.route=t.payload},reloadName(e,t){e.name=t.payload.name,e.description=t.payload.description},updateMission(e,t){if(e.name=t.payload.name,t.payload.mission.version=="3"){let n=0;e.home=t.payload.mission.route[n].wp[0].pos,e.route=Qre(t.payload.mission.route)}else{let n=1;e.home=t.payload.mission["uav_"+n].wp_0,e.route=eie(t.payload.mission)}},clearMission(e,t){console.log("clear mission"),e.name="Mission no loaded",e.route=[],e.attributes={}}}}),{reducer:nie,actions:jf}=Sg({name:"session",initialState:{server:null,user:null,socket:null,positions:{},history:{},markers:[]},reducers:{updateServer(e,t){e.server=t.payload},updateUser(e,t){e.user=t.payload},updateSocket(e,t){e.socket=t.payload},updatePositions(e,t){const n=e.user.attributes.mapLiveRoutes||e.server.attributes.mapLiveRoutes||"none",r=e.user.attributes["web.liveRouteLength"]||e.user.attributes["web.liveRouteLength"]||10;t.payload.forEach(i=>{if(e.positions[i.deviceId]=i,n!=="none"){const o=e.history[i.deviceId]||[],s=o.at(-1);(!s||s[0]!==i.longitude&&s[1]!==i.latitude)&&(e.history[i.deviceId]=[...o.slice(1-r),[i.longitude,i.latitude]])}else e.history={}})},updateMarker(e,t){e.markers=t.payload},addMarker(e,t){e.markers.push(...t.payload)}}}),{reducer:rie,actions:iie}=Sg({name:"events",initialState:{items:[]},reducers:{add(e,t){e.items.unshift(...t.payload),e.items.splice(50)},delete(e,t){e.items=e.items.filter(n=>n.id!==t.payload.id)},deleteAll(e){e.items=[]}}}),k5=3,oie=1500,aie=()=>e=>{const t=[];let n=!1,r=0;return setInterval(()=>{n?(t.length<k5&&(n=!1),_u.unstable_batchedUpdates(()=>t.splice(0,t.length).forEach(i=>e(i)))):(r>k5&&(n=!0),r=0)},oie),i=>i.type==="devices/update"||i.type==="positions/update"?n?(t.push(i),null):(r+=1,e(i)):e(i)},sie=HW({errors:Kre,devices:Xre,data:Jre,events:rie,mission:tie,session:nie}),lie=zre({reducer:sie,middleware:e=>e().concat(aie)}),fh={black:"#000",white:"#fff"},Fc={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},cie={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},vp=cie,XW={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},uie={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},xp=uie,die={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},bp=die,gl={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},j$={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"},fie={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},cv=fie,rc={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},uv={white:fh.white,background:rc[50],primary:XW[900],secondary:gl[800],positive:gl[500],medium:j$[700],negative:Fc[500],neutral:rc[500],geometry:"#3bb2d0"},hie={0:"#F34C28",1:"#F39A28",2:"#1EC910",3:"#1012C9",4:"#C310C9",5:"#1FDBF1",6:"#F6FD04",7:"#808080"},hh={background:{default:uv.background},primary:{main:uv.primary},secondary:{main:uv.secondary,contrastText:uv.white},colors:uv,colors_devices:hie};var N$={exports:{}};N$.exports=JW;N$.exports.parse=JW;N$.exports.stringify=QW;var T5=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,P5=new RegExp("^"+T5.source+"(\\s"+T5.source+"){1,}");function JW(e){var t=e.split(";"),n=t.pop(),r=(t.shift()||"").split("=").pop(),i=0;function o(M){var I=n.substring(i).match(M);return I?(i+=I[0].length,I[0]):null}function s(M){return M&&r.match(/\d+/)&&(M.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+r}}),M}function a(){o(/^\s*/)}function f(){a();for(var M=0,I=[],N=[I],$=I,D;D=o(/^(\()/)||o(/^(\))/)||o(/^(,)/)||o(P5);){if(D==="(")N.push($),$=[],N[N.length-1].push($),M++;else if(D===")"){if($.length===0||($=N.pop(),!$))return null;if(M--,M===0)break}else if(D===",")$=[],N[N.length-1].push($);else if(!D.split(/\s/g).some(isNaN))Array.prototype.push.apply($,D.split(/\s/g).map(parseFloat));else return null;a()}return M!==0?null:I}function h(){for(var M=[],I,N;N=o(P5)||o(/^(,)/);)N===","?(M.push(I),I=[]):N.split(/\s/g).some(isNaN)||(I||(I=[]),Array.prototype.push.apply(I,N.split(/\s/g).map(parseFloat))),a();if(I)M.push(I);else return null;return M.length?M:null}function g(){if(!o(/^(point(\sz)?)/i)||(a(),!o(/^(\()/)))return null;var M=h();return!M||(a(),!o(/^(\))/))?null:{type:"Point",coordinates:M[0]}}function y(){if(!o(/^(multipoint)/i))return null;a();var M=n.substring(n.indexOf("(")+1,n.length-1).replace(/\(/g,"").replace(/\)/g,"");n="MULTIPOINT ("+M+")";var I=f();return I?(a(),{type:"MultiPoint",coordinates:I}):null}function x(){if(!o(/^(multilinestring)/i))return null;a();var M=f();return M?(a(),{type:"MultiLineString",coordinates:M}):null}function T(){if(!o(/^(linestring(\sz)?)/i)||(a(),!o(/^(\()/)))return null;var M=h();return!M||!o(/^(\))/)?null:{type:"LineString",coordinates:M}}function E(){if(!o(/^(polygon(\sz)?)/i))return null;a();var M=f();return M?{type:"Polygon",coordinates:M}:null}function C(){if(!o(/^(multipolygon)/i))return null;a();var M=f();return M?{type:"MultiPolygon",coordinates:M}:null}function O(){var M=[],I;if(!o(/^(geometrycollection)/i)||(a(),!o(/^(\()/)))return null;for(;I=A();)M.push(I),a(),o(/^(,)/),a();return o(/^(\))/)?{type:"GeometryCollection",geometries:M}:null}function A(){return g()||T()||E()||y()||x()||C()||O()}return s(A())}function QW(e){e.type==="Feature"&&(e=e.geometry);function t(s){return s.join(" ")}function n(s){return s.map(t).join(", ")}function r(s){return s.map(n).map(o).join(", ")}function i(s){return s.map(r).map(o).join(", ")}function o(s){return"("+s+")"}switch(e.type){case"Point":return"POINT ("+t(e.coordinates)+")";case"LineString":return"LINESTRING ("+n(e.coordinates)+")";case"Polygon":return"POLYGON ("+r(e.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+n(e.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+i(e.coordinates)+")";case"MultiLineString":return"MULTILINESTRING ("+r(e.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+e.geometries.map(QW).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}}const Cf=e=>new Promise(t=>{const n=new Image;n.onload=()=>t(n),n.src=e}),zP=(e,t)=>{const n=document.createElement("canvas");n.width=e.width*devicePixelRatio,n.height=e.height*devicePixelRatio,n.style.width=`${e.width}px`,n.style.height=`${e.height}px`;const r=n.getContext("2d");return r.save(),r.fillStyle=t,r.globalAlpha=1,r.fillRect(0,0,n.width,n.height),r.globalCompositeOperation="destination-atop",r.globalAlpha=1,r.drawImage(e,0,0,n.width,n.height),r.restore(),n},Ju=(e,t,n,r,i)=>{const o=document.createElement("canvas");o.width=e.width*devicePixelRatio,o.height=e.height*devicePixelRatio,o.style.width=`${e.width}px`,o.style.height=`${e.height}px`;const s=o.getContext("2d");if(s.drawImage(e,0,0,o.width,o.height),t){r&&s.drawImage(zP(r,i),0,0,o.width,o.height);const a=.5,f=o.width*a,h=o.height*a;s.drawImage(zP(t,n),(o.width-f)/2,(o.height-h)/2,f,h)}else n&&s.drawImage(zP(e,n),0,0,o.width,o.height);return s.getImageData(0,0,o.width,o.height)},eu=e=>{var s;const t=new Set,{layers:n}=e.getStyle();(s=n==null?void 0:n.forEach)==null||s.call(n,a=>{var f,h,g;(g=(h=(f=a.layout)==null?void 0:f["text-font"])==null?void 0:h.forEach)==null||g.call(h,t.add,t)});const r=[...t],i=r.find(a=>a.includes("Regular"));if(i)return[i];const o=r.find(Boolean);return o?[o]:["Roboto Regular"]},pie="data:image/svg+xml,%3csvg%20width='48px'%20height='48px'%20viewBox='0%200%2010%2010'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cfilter%20id='shadow'%3e%3cfeDropShadow%20dx='0'%20dy='0.1'%20stdDeviation='0.3'%20flood-color='grey'/%3e%3c/filter%3e%3c/defs%3e%3ccircle%20cx='5'%20cy='50%25'%20r='4'%20style='fill:white;%20filter:url(%23shadow);'/%3e%3c/svg%3e",mie="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='56'%20height='56'%20version='1.1'%20viewBox='0%200%2011.667%2011.667'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m%205.833%200.1%20L%204.2%201.79%20A%205.83%205.83%200,0,1%207.4,1.79%20Z%20'%20fill='%23283593'%20/%3e%3c/svg%3e",gie="data:image/svg+xml,%3csvg%20width='48px'%20height='48px'%20viewBox='0%200%2010%2010'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='5'%20cy='50%25'%20r='4'%20stroke='black'%20stroke-width='0.5'/%3e%3c/svg%3e",n1="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24'%20height='24'%20fill='%23000000'%3e%3cpath%20d='M8,22h2l4.997-8H20c1.105,0,2-0.895,2-2s-0.895-2-2-2h-5.003L10,2H8l2.493,8H4.996L3.5,8H2l1,4l-1,4h1.5l1.496-2h5.497%20L8,22z'%20fill='%23000000'/%3e%3c/svg%3e",yie="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24'%20height='24'%20fill='%23000000'%3e%3cpath%20d='M%202%203%20L%202%205%20L%209%205%20L%209%203%20L%202%203%20z%20M%2011%203%20L%2011%206.2050781%20C%208.584%206.6840781%207.012375%207.956%206.359375%209%20L%204%209%20L%204%207%20L%202%207%20L%202%2013%20L%204%2013%20L%204%2011%20L%206%2011%20L%206%2013.300781%20C%206%2015.370781%207.8795313%2017%2010.269531%2017%20L%2013.810547%2017%20C%2016.170547%2017%2021.570703%2017%2021.970703%2013%20L%2017%2013%20C%2014.79%2013%2013%2011.21%2013%209%20L%2013%203%20L%2011%203%20z%20M%2015%203%20L%2015%205%20L%2022%205%20L%2022%203%20L%2015%203%20z%20M%2015%206.1699219%20L%2015%209%20C%2015%2010.1%2015.9%2011%2017%2011%20L%2021.740234%2011%20C%2020.940234%208.64%2018.28%206.7299219%2015%206.1699219%20z%20M%2021%2018%20C%2021%2018.552%2020.552%2019%2020%2019%20L%206%2019%20L%206%2021%20L%2020%2021%20C%2021.654%2021%2023%2019.654%2023%2018%20L%2021%2018%20z'%20fill='%23000000'/%3e%3c/svg%3e",vie="/assets/drone1-vQs42P1F.svg",dv="/assets/drone2-x2UfxKES.svg",xie="/assets/drone3-EPwZhuDh.svg",bie="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='47'%20height='37'%20viewBox='0%200%2047%2037'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M23.5%200L46.4497%2036.75H0.550327L23.5%200Z'%20fill='%2300FF0A'/%3e%3c/svg%3e",_ie="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='10.550469mm'%20height='11.099902mm'%20viewBox='0%200%2010.550469%2011.099902'%20version='1.1'%20id='svg5'%20sodipodi:docname='PowerTower.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3csodipodi:namedview%20id='namedview29'%20pagecolor='%23ffffff'%20bordercolor='%23000000'%20borderopacity='0.25'%20inkscape:showpageshadow='2'%20inkscape:pageopacity='0.0'%20inkscape:pagecheckerboard='0'%20inkscape:deskcolor='%23d1d1d1'%20inkscape:document-units='mm'%20showgrid='false'%20/%3e%3cdefs%20id='defs2'%20/%3e%3cg%20id='layer1'%20transform='matrix(1.2914054,0,0,1.2914054,-44.349104,-250.92541)'%20inkscape:export-filename='../8bf6bfef/g329812.svg'%20inkscape:export-xdpi='96'%20inkscape:export-ydpi='96'%3e%3cg%20id='g1611'%20transform='matrix(0.1732213,0,0,0.1732213,28.393016,160.64652)'%3e%3cpath%20style='fill:%23000000;stroke:%23999999;stroke-width:0.264583'%20d='m%2044.755491,243.21009%20c%200.0638,-0.70167%200.12758,-1.40335%200.19137,-2.10502'%20id='path245-8-0'%20/%3e%3cpath%20style='fill:%23000000;stroke-width:0.264583'%20d='m%2042.705671,243.89909%2015.24211,-49.59496%2014.9889,49.61983%20-14.94047,-4.79905%20z'%20id='path366-6-1'%20/%3e%3cpath%20style='fill:none;stroke:%23999999;stroke-width:1.5;stroke-dasharray:none;stroke-dashoffset:0'%20d='m%2065.090551,218.22825%20-14.21776,4.65545%2015.77463,5.18213%20-21.10264,6.73158'%20id='path1500-5-8'%20/%3e%3cpath%20style='fill:none;stroke:%23999999;stroke-width:1.5;stroke-dasharray:none;stroke-dashoffset:0'%20d='m%2050.587581,218.15902%2014.21776,4.65545%20-15.77463,5.18213%2021.10264,6.73158'%20id='path1500-5-6-0'%20/%3e%3cpath%20style='fill:%23000000;stroke:%23b3b3b3;stroke-width:2;stroke-dasharray:none;stroke-dashoffset:0'%20d='m%2037.095893,210.4801%2041.910248,0.11388'%20id='path368-6-4'%20/%3e%3ccircle%20style='fill:%2387decd;stroke:%23000000;stroke-width:0.495712;stroke-dasharray:none;stroke-dashoffset:0'%20id='path3174'%20cx='36.455219'%20cy='210.51549'%20r='1.8656268'%20/%3e%3ccircle%20style='fill:%235fd3bc;stroke:%23000000;stroke-width:0.495712;stroke-dasharray:none;stroke-dashoffset:0'%20id='path3174-8'%20cx='79.391953'%20cy='210.65347'%20r='1.8656268'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",wie="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='4'%20y='4'%20width='32'%20height='32'%20fill='%235144E6'%20stroke='%23FF0A0A'%20stroke-width='8'/%3e%3c/svg%3e",ys="/assets/drone-svgrepo-R6kWQAqP.svg",E5={0:"#F34C28",1:"#F39A28",2:"#1EC910",3:"#1012C9",4:"#C310C9",5:"#1FDBF1",6:"#F6FD04",7:"#808080"},H0={helicopter:yie,plane:n1,drone:vie,dji_M210_noetic:dv,dji_M210_melodic:dv,dji_M210_noetic_rtk:dv,dji_M210_melodic_rtk:dv,dji_M300:dv,px4:n1,catec:xie,fuvex:n1,default:n1},Sie={helicopter:ys,plane:ys,drone:ys,dji_M210_noetic:ys,dji_M210_melodic:ys,dji_M210_noetic_rtk:ys,dji_M210_melodic_rtk:ys,dji_M300:ys,px4:ys,catec:ys,fuvex:ys,default:ys},qw=e=>H0.hasOwnProperty(e)?e:"default",jc={},Cie=async()=>{const e=await Cf(pie),t=await Cf(gie);jc.background=await Ju(e),jc.item=await Ju(await Cf(bie)),jc.powerTower=await Ju(await Cf(_ie)),jc.base=await Ju(await Cf(wie)),jc.direction=await Ju(await Cf(mie)),Object.keys(hh.colors_devices).forEach(async n=>{jc[`background-${n}`]=await Ju(e,null,E5[n]),jc[`mission-${n}`]=await Ju(t,null,E5[n])}),await Promise.all(Object.keys(H0).map(async n=>{const r=[];["primary","positive","negative","neutral"].forEach(i=>{r.push(Cf(H0[n]).then(o=>{jc[`${n}-${i}`]=Ju(e,o,hh.colors[i])}))}),await Promise.all(r)}))};function Vc(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function e9(e){if(!Vc(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=e9(e[n])}),t}function zo(e,t,n={clone:!0}){const r=n.clone?te({},e):e;return Vc(e)&&Vc(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(Vc(t[i])&&i in e&&Vc(e[i])?r[i]=zo(e[i],t[i],n):n.clone?r[i]=Vc(t[i])?e9(t[i]):t[i]:r[i]=t[i])}),r}var t9={exports:{}},kie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Tie=kie,Pie=Tie;function n9(){}function r9(){}r9.resetWarningCache=n9;var Eie=function(){function e(r,i,o,s,a,f){if(f!==Pie){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r9,resetWarningCache:n9};return n.PropTypes=n,n};t9.exports=Eie();var z$=t9.exports;const En=cr(z$);function zd(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function ft(e){if(typeof e!="string")throw new Error(zd(7));return e.charAt(0).toUpperCase()+e.slice(1)}function xM(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function B$(e,t=166){let n;function r(...i){const o=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(o,t)}return r.clear=()=>{clearTimeout(n)},r}function Oie(e,t){return()=>null}function X1(e,t){var n,r;return U.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Gi(e){return e&&e.ownerDocument||document}function Bd(e){return Gi(e).defaultView||window}function Mie(e,t){return()=>null}function Hw(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const zs=typeof window<"u"?U.useLayoutEffect:U.useEffect;let O5=0;function Aie(e){const[t,n]=U.useState(e),r=e||t;return U.useEffect(()=>{t==null&&(O5+=1,n(`mui-${O5}`))},[t]),r}const M5=hw.useId;function eC(e){if(M5!==void 0){const t=M5();return e??t}return Aie(e)}function Iie(e,t,n,r,i){return null}function jm({controlled:e,default:t,name:n,state:r="value"}){const{current:i}=U.useRef(e!==void 0),[o,s]=U.useState(t),a=i?e:o,f=U.useCallback(h=>{i||s(h)},[]);return[a,f]}function bl(e){const t=U.useRef(e);return zs(()=>{t.current=e}),U.useRef((...n)=>(0,t.current)(...n)).current}function ui(...e){return U.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{Hw(n,t)})},e)}let tC=!0,bM=!1,A5;const $ie={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Rie(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&$ie[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function Die(e){e.metaKey||e.altKey||e.ctrlKey||(tC=!0)}function BP(){tC=!1}function Lie(){this.visibilityState==="hidden"&&bM&&(tC=!0)}function jie(e){e.addEventListener("keydown",Die,!0),e.addEventListener("mousedown",BP,!0),e.addEventListener("pointerdown",BP,!0),e.addEventListener("touchstart",BP,!0),e.addEventListener("visibilitychange",Lie,!0)}function Nie(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return tC||Rie(t)}function nC(){const e=U.useCallback(i=>{i!=null&&jie(i.ownerDocument)},[]),t=U.useRef(!1);function n(){return t.current?(bM=!0,window.clearTimeout(A5),A5=window.setTimeout(()=>{bM=!1},100),t.current=!1,!0):!1}function r(i){return Nie(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function i9(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const o9=e=>{const t=U.useRef({});return U.useEffect(()=>{t.current=e}),t.current};function zie(e){return U.Children.toArray(e).filter(t=>U.isValidElement(t))}function F$(e,t){const n=te({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=te({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},o=t[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=te({},o),Object.keys(i).forEach(s=>{n[r][s]=F$(i[s],o[s])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function nn(e,t,n=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((o,s)=>{if(s){const a=t(s);a!==""&&o.push(a),n&&n[s]&&o.push(n[s])}return o},[]).join(" ")}),r}const I5=e=>e,Bie=()=>{let e=I5;return{configure(t){e=t},generate(t){return e(t)},reset(){e=I5}}},Fie=Bie(),U$=Fie,Uie={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function en(e,t,n="Mui"){const r=Uie[t];return r?`${n}-${r}`:`${U$.generate(e)}-${t}`}function tn(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=en(e,i,n)}),r}const ph="$$material";function a9(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Vie=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Wie=a9(function(e){return Vie.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function qie(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Hie(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Gie=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Hie(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=qie(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),$o="-ms-",Gw="-moz-",sr="-webkit-",s9="comm",V$="rule",W$="decl",Yie="@import",l9="@keyframes",Kie="@layer",Zie=Math.abs,rC=String.fromCharCode,Xie=Object.assign;function Jie(e,t){return yo(e,0)^45?(((t<<2^yo(e,0))<<2^yo(e,1))<<2^yo(e,2))<<2^yo(e,3):0}function c9(e){return e.trim()}function Qie(e,t){return(e=t.exec(e))?e[0]:e}function lr(e,t,n){return e.replace(t,n)}function _M(e,t){return e.indexOf(t)}function yo(e,t){return e.charCodeAt(t)|0}function G0(e,t,n){return e.slice(t,n)}function ql(e){return e.length}function q$(e){return e.length}function r1(e,t){return t.push(e),e}function eoe(e,t){return e.map(t).join("")}var iC=1,Nm=1,u9=0,$a=0,Ii=0,Cg="";function oC(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:iC,column:Nm,length:s,return:""}}function fv(e,t){return Xie(oC("",null,null,"",null,null,0),e,{length:-e.length},t)}function toe(){return Ii}function noe(){return Ii=$a>0?yo(Cg,--$a):0,Nm--,Ii===10&&(Nm=1,iC--),Ii}function Ja(){return Ii=$a<u9?yo(Cg,$a++):0,Nm++,Ii===10&&(Nm=1,iC++),Ii}function ic(){return yo(Cg,$a)}function J1(){return $a}function Zx(e,t){return G0(Cg,e,t)}function Y0(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function d9(e){return iC=Nm=1,u9=ql(Cg=e),$a=0,[]}function f9(e){return Cg="",e}function Q1(e){return c9(Zx($a-1,wM(e===91?e+2:e===40?e+1:e)))}function roe(e){for(;(Ii=ic())&&Ii<33;)Ja();return Y0(e)>2||Y0(Ii)>3?"":" "}function ioe(e,t){for(;--t&&Ja()&&!(Ii<48||Ii>102||Ii>57&&Ii<65||Ii>70&&Ii<97););return Zx(e,J1()+(t<6&&ic()==32&&Ja()==32))}function wM(e){for(;Ja();)switch(Ii){case e:return $a;case 34:case 39:e!==34&&e!==39&&wM(Ii);break;case 40:e===41&&wM(e);break;case 92:Ja();break}return $a}function ooe(e,t){for(;Ja()&&e+Ii!==57;)if(e+Ii===84&&ic()===47)break;return"/*"+Zx(t,$a-1)+"*"+rC(e===47?e:Ja())}function aoe(e){for(;!Y0(ic());)Ja();return Zx(e,$a)}function soe(e){return f9(ew("",null,null,null,[""],e=d9(e),0,[0],e))}function ew(e,t,n,r,i,o,s,a,f){for(var h=0,g=0,y=s,x=0,T=0,E=0,C=1,O=1,A=1,M=0,I="",N=i,$=o,D=r,F=I;O;)switch(E=M,M=Ja()){case 40:if(E!=108&&yo(F,y-1)==58){_M(F+=lr(Q1(M),"&","&\f"),"&\f")!=-1&&(A=-1);break}case 34:case 39:case 91:F+=Q1(M);break;case 9:case 10:case 13:case 32:F+=roe(E);break;case 92:F+=ioe(J1()-1,7);continue;case 47:switch(ic()){case 42:case 47:r1(loe(ooe(Ja(),J1()),t,n),f);break;default:F+="/"}break;case 123*C:a[h++]=ql(F)*A;case 125*C:case 59:case 0:switch(M){case 0:case 125:O=0;case 59+g:A==-1&&(F=lr(F,/\f/g,"")),T>0&&ql(F)-y&&r1(T>32?R5(F+";",r,n,y-1):R5(lr(F," ","")+";",r,n,y-2),f);break;case 59:F+=";";default:if(r1(D=$5(F,t,n,h,g,i,a,I,N=[],$=[],y),o),M===123)if(g===0)ew(F,t,D,D,N,o,y,a,$);else switch(x===99&&yo(F,3)===110?100:x){case 100:case 108:case 109:case 115:ew(e,D,D,r&&r1($5(e,D,D,0,0,i,a,I,i,N=[],y),$),i,$,y,a,r?N:$);break;default:ew(F,D,D,D,[""],$,0,a,$)}}h=g=T=0,C=A=1,I=F="",y=s;break;case 58:y=1+ql(F),T=E;default:if(C<1){if(M==123)--C;else if(M==125&&C++==0&&noe()==125)continue}switch(F+=rC(M),M*C){case 38:A=g>0?1:(F+="\f",-1);break;case 44:a[h++]=(ql(F)-1)*A,A=1;break;case 64:ic()===45&&(F+=Q1(Ja())),x=ic(),g=y=ql(I=F+=aoe(J1())),M++;break;case 45:E===45&&ql(F)==2&&(C=0)}}return o}function $5(e,t,n,r,i,o,s,a,f,h,g){for(var y=i-1,x=i===0?o:[""],T=q$(x),E=0,C=0,O=0;E<r;++E)for(var A=0,M=G0(e,y+1,y=Zie(C=s[E])),I=e;A<T;++A)(I=c9(C>0?x[A]+" "+M:lr(M,/&\f/g,x[A])))&&(f[O++]=I);return oC(e,t,n,i===0?V$:a,f,h,g)}function loe(e,t,n){return oC(e,t,n,s9,rC(toe()),G0(e,2,-2),0)}function R5(e,t,n,r){return oC(e,t,n,W$,G0(e,0,r),G0(e,r+1,-1),r)}function gm(e,t){for(var n="",r=q$(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function coe(e,t,n,r){switch(e.type){case Kie:if(e.children.length)break;case Yie:case W$:return e.return=e.return||e.value;case s9:return"";case l9:return e.return=e.value+"{"+gm(e.children,r)+"}";case V$:e.value=e.props.join(",")}return ql(n=gm(e.children,r))?e.return=e.value+"{"+n+"}":""}function uoe(e){var t=q$(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function doe(e){return function(t){t.root||(t=t.return)&&e(t)}}var foe=function(t,n,r){for(var i=0,o=0;i=o,o=ic(),i===38&&o===12&&(n[r]=1),!Y0(o);)Ja();return Zx(t,$a)},hoe=function(t,n){var r=-1,i=44;do switch(Y0(i)){case 0:i===38&&ic()===12&&(n[r]=1),t[r]+=foe($a-1,n,r);break;case 2:t[r]+=Q1(i);break;case 4:if(i===44){t[++r]=ic()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=rC(i)}while(i=Ja());return t},poe=function(t,n){return f9(hoe(d9(t),n))},D5=new WeakMap,moe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!D5.get(r))&&!i){D5.set(t,!0);for(var o=[],s=poe(n,o),a=r.props,f=0,h=0;f<s.length;f++)for(var g=0;g<a.length;g++,h++)t.props[h]=o[f]?s[f].replace(/&\f/g,a[g]):a[g]+" "+s[f]}}},goe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function h9(e,t){switch(Jie(e,t)){case 5103:return sr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return sr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return sr+e+Gw+e+$o+e+e;case 6828:case 4268:return sr+e+$o+e+e;case 6165:return sr+e+$o+"flex-"+e+e;case 5187:return sr+e+lr(e,/(\w+).+(:[^]+)/,sr+"box-$1$2"+$o+"flex-$1$2")+e;case 5443:return sr+e+$o+"flex-item-"+lr(e,/flex-|-self/,"")+e;case 4675:return sr+e+$o+"flex-line-pack"+lr(e,/align-content|flex-|-self/,"")+e;case 5548:return sr+e+$o+lr(e,"shrink","negative")+e;case 5292:return sr+e+$o+lr(e,"basis","preferred-size")+e;case 6060:return sr+"box-"+lr(e,"-grow","")+sr+e+$o+lr(e,"grow","positive")+e;case 4554:return sr+lr(e,/([^-])(transform)/g,"$1"+sr+"$2")+e;case 6187:return lr(lr(lr(e,/(zoom-|grab)/,sr+"$1"),/(image-set)/,sr+"$1"),e,"")+e;case 5495:case 3959:return lr(e,/(image-set\([^]*)/,sr+"$1$`$1");case 4968:return lr(lr(e,/(.+:)(flex-)?(.*)/,sr+"box-pack:$3"+$o+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+sr+e+e;case 4095:case 3583:case 4068:case 2532:return lr(e,/(.+)-inline(.+)/,sr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ql(e)-1-t>6)switch(yo(e,t+1)){case 109:if(yo(e,t+4)!==45)break;case 102:return lr(e,/(.+:)(.+)-([^]+)/,"$1"+sr+"$2-$3$1"+Gw+(yo(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~_M(e,"stretch")?h9(lr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(yo(e,t+1)!==115)break;case 6444:switch(yo(e,ql(e)-3-(~_M(e,"!important")&&10))){case 107:return lr(e,":",":"+sr)+e;case 101:return lr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+sr+(yo(e,14)===45?"inline-":"")+"box$3$1"+sr+"$2$3$1"+$o+"$2box$3")+e}break;case 5936:switch(yo(e,t+11)){case 114:return sr+e+$o+lr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return sr+e+$o+lr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return sr+e+$o+lr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return sr+e+$o+e+e}return e}var yoe=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case W$:t.return=h9(t.value,t.length);break;case l9:return gm([fv(t,{value:lr(t.value,"@","@"+sr)})],i);case V$:if(t.length)return eoe(t.props,function(o){switch(Qie(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return gm([fv(t,{props:[lr(o,/:(read-\w+)/,":"+Gw+"$1")]})],i);case"::placeholder":return gm([fv(t,{props:[lr(o,/:(plac\w+)/,":"+sr+"input-$1")]}),fv(t,{props:[lr(o,/:(plac\w+)/,":"+Gw+"$1")]}),fv(t,{props:[lr(o,/:(plac\w+)/,$o+"input-$1")]})],i)}return""})}},voe=[yoe],p9=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(C){var O=C.getAttribute("data-emotion");O.indexOf(" ")!==-1&&(document.head.appendChild(C),C.setAttribute("data-s",""))})}var i=t.stylisPlugins||voe,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(C){for(var O=C.getAttribute("data-emotion").split(" "),A=1;A<O.length;A++)o[O[A]]=!0;a.push(C)});var f,h=[moe,goe];{var g,y=[coe,doe(function(C){g.insert(C)})],x=uoe(h.concat(i,y)),T=function(O){return gm(soe(O),x)};f=function(O,A,M,I){g=M,T(O?O+"{"+A.styles+"}":A.styles),I&&(E.inserted[A.name]=!0)}}var E={key:n,sheet:new Gie({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:f};return E.sheet.hydrate(a),E},xoe=!0;function boe(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var m9=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||xoe===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},g9=function(t,n,r){m9(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function _oe(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var woe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Soe=/[A-Z]|^ms/g,Coe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,y9=function(t){return t.charCodeAt(1)===45},L5=function(t){return t!=null&&typeof t!="boolean"},FP=a9(function(e){return y9(e)?e:e.replace(Soe,"-$&").toLowerCase()}),j5=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Coe,function(r,i,o){return Hl={name:i,styles:o,next:Hl},i})}return woe[t]!==1&&!y9(t)&&typeof n=="number"&&n!==0?n+"px":n};function K0(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Hl={name:n.name,styles:n.styles,next:Hl},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Hl={name:r.name,styles:r.styles,next:Hl},r=r.next;var i=n.styles+";";return i}return koe(e,t,n)}case"function":{if(e!==void 0){var o=Hl,s=n(e);return Hl=o,K0(e,t,s)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function koe(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=K0(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")t!=null&&t[s]!==void 0?r+=o+"{"+t[s]+"}":L5(s)&&(r+=FP(o)+":"+j5(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var a=0;a<s.length;a++)L5(s[a])&&(r+=FP(o)+":"+j5(o,s[a])+";");else{var f=K0(e,t,s);switch(o){case"animation":case"animationName":{r+=FP(o)+":"+f+";";break}default:r+=o+"{"+f+"}"}}}return r}var N5=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Hl,H$=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";Hl=void 0;var s=t[0];s==null||s.raw===void 0?(i=!1,o+=K0(r,n,s)):o+=s[0];for(var a=1;a<t.length;a++)o+=K0(r,n,t[a]),i&&(o+=s[a]);N5.lastIndex=0;for(var f="",h;(h=N5.exec(o))!==null;)f+="-"+h[1];var g=_oe(o)+f;return{name:g,styles:o,next:Hl}},Toe=function(t){return t()},v9=hw.useInsertionEffect?hw.useInsertionEffect:!1,Poe=v9||Toe,z5=v9||U.useLayoutEffect,x9=U.createContext(typeof HTMLElement<"u"?p9({key:"css"}):null),Eoe=x9.Provider,b9=function(t){return U.forwardRef(function(n,r){var i=U.useContext(x9);return t(n,i,r)})},aC=U.createContext({}),Ooe=b9(function(e,t){var n=e.styles,r=H$([n],void 0,U.useContext(aC)),i=U.useRef();return z5(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,f=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),f!==null&&(a=!0,f.setAttribute("data-emotion",o),s.hydrate([f])),i.current=[s,a],function(){s.flush()}},[t]),z5(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&g9(t,r.next,!0),s.tags.length){var f=s.tags[s.tags.length-1].nextElementSibling;s.before=f,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function Moe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return H$(t)}var G$=function(){var t=Moe.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Aoe=Wie,Ioe=function(t){return t!=="theme"},B5=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Aoe:Ioe},F5=function(t,n,r){var i;if(n){var o=n.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},$oe=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return m9(n,r,i),Poe(function(){return g9(n,r,i)}),null},Roe=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,s;n!==void 0&&(o=n.label,s=n.target);var a=F5(t,n,r),f=a||B5(i),h=!f("as");return function(){var g=arguments,y=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&y.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)y.push.apply(y,g);else{y.push(g[0][0]);for(var x=g.length,T=1;T<x;T++)y.push(g[T],g[0][T])}var E=b9(function(C,O,A){var M=h&&C.as||i,I="",N=[],$=C;if(C.theme==null){$={};for(var D in C)$[D]=C[D];$.theme=U.useContext(aC)}typeof C.className=="string"?I=boe(O.registered,N,C.className):C.className!=null&&(I=C.className+" ");var F=H$(y.concat(N),O.registered,$);I+=O.key+"-"+F.name,s!==void 0&&(I+=" "+s);var q=h&&a===void 0?B5(M):f,X={};for(var J in C)h&&J==="as"||q(J)&&(X[J]=C[J]);return X.className=I,X.ref=A,U.createElement(U.Fragment,null,U.createElement($oe,{cache:O,serialized:F,isStringTag:typeof M=="string"}),U.createElement(M,X))});return E.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",E.defaultProps=t.defaultProps,E.__emotion_real=E,E.__emotion_base=i,E.__emotion_styles=y,E.__emotion_forwardProp=a,Object.defineProperty(E,"toString",{value:function(){return"."+s}}),E.withComponent=function(C,O){return e(C,te({},n,O,{shouldForwardProp:F5(E,O,!0)})).apply(void 0,y)},E}},Doe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],SM=Roe.bind();Doe.forEach(function(e){SM[e]=SM(e)});let CM;typeof document=="object"&&(CM=p9({key:"css",prepend:!0}));function Loe(e){const{injectFirst:t,children:n}=e;return t&&CM?L.jsx(Eoe,{value:CM,children:n}):n}function joe(e){return e==null||Object.keys(e).length===0}function Noe(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(joe(i)?n:i):t;return L.jsx(Ooe,{styles:r})}function _9(e,t){return SM(e,t)}const zoe=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Boe=["values","unit","step"],Foe=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>te({},n,{[r.key]:r.val}),{})};function Uoe(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=bt(e,Boe),o=Foe(t),s=Object.keys(o);function a(x){return`@media (min-width:${typeof t[x]=="number"?t[x]:x}${n})`}function f(x){return`@media (max-width:${(typeof t[x]=="number"?t[x]:x)-r/100}${n})`}function h(x,T){const E=s.indexOf(T);return`@media (min-width:${typeof t[x]=="number"?t[x]:x}${n}) and (max-width:${(E!==-1&&typeof t[s[E]]=="number"?t[s[E]]:T)-r/100}${n})`}function g(x){return s.indexOf(x)+1<s.length?h(x,s[s.indexOf(x)+1]):a(x)}function y(x){const T=s.indexOf(x);return T===0?a(s[1]):T===s.length-1?f(s[T]):h(x,s[s.indexOf(x)+1]).replace("@media","@media not all and")}return te({keys:s,values:o,up:a,down:f,between:h,only:g,not:y,unit:n},i)}const Voe={borderRadius:4},Woe=Voe;function a0(e,t){return t?zo(e,t,{clone:!1}):e}const Y$={xs:0,sm:600,md:900,lg:1200,xl:1536},U5={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Y$[e]}px)`};function Bs(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const o=r.breakpoints||U5;return t.reduce((s,a,f)=>(s[o.up(o.keys[f])]=n(t[f]),s),{})}if(typeof t=="object"){const o=r.breakpoints||U5;return Object.keys(t).reduce((s,a)=>{if(Object.keys(o.values||Y$).indexOf(a)!==-1){const f=o.up(a);s[f]=n(t[a],a)}else{const f=a;s[f]=t[f]}return s},{})}return n(t)}function qoe(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,i)=>{const o=e.up(i);return r[o]={},r},{}))||{}}function Hoe(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function Goe(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,o)=>{o<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function sC({values:e,breakpoints:t,base:n}){const r=n||Goe(e,t),i=Object.keys(r);if(i.length===0)return e;let o;return i.reduce((s,a,f)=>(Array.isArray(e)?(s[a]=e[f]!=null?e[f]:e[o],o=f):typeof e=="object"?(s[a]=e[a]!=null?e[a]:e[o],o=a):s[a]=e,s),{})}function zm(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Yw(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=zm(e,n)||r,t&&(i=t(i,r,e)),i}function dr(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=s=>{if(s[t]==null)return null;const a=s[t],f=s.theme,h=zm(f,r)||{};return Bs(s,a,y=>{let x=Yw(h,i,y);return y===x&&typeof y=="string"&&(x=Yw(h,i,`${t}${y==="default"?"":ft(y)}`,y)),n===!1?x:{[n]:x}})};return o.propTypes={},o.filterProps=[t],o}function Yoe(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const Koe={m:"margin",p:"padding"},Zoe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},V5={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Xoe=Yoe(e=>{if(e.length>2)if(V5[e])e=V5[e];else return[e];const[t,n]=e.split(""),r=Koe[t],i=Zoe[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),K$=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Z$=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...K$,...Z$];function Xx(e,t,n,r){var i;const o=(i=zm(e,t,!1))!=null?i:n;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function w9(e){return Xx(e,"spacing",8)}function Jx(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function Joe(e,t){return n=>e.reduce((r,i)=>(r[i]=Jx(t,n),r),{})}function Qoe(e,t,n,r){if(t.indexOf(n)===-1)return null;const i=Xoe(n),o=Joe(i,r),s=e[n];return Bs(e,s,o)}function S9(e,t){const n=w9(e.theme);return Object.keys(e).map(r=>Qoe(e,t,r,n)).reduce(a0,{})}function pi(e){return S9(e,K$)}pi.propTypes={};pi.filterProps=K$;function mi(e){return S9(e,Z$)}mi.propTypes={};mi.filterProps=Z$;function eae(e=8){if(e.mui)return e;const t=w9({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=t(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function lC(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>t[o]?a0(i,t[o](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Yl(e){return typeof e!="number"?e:`${e}px solid`}const tae=dr({prop:"border",themeKey:"borders",transform:Yl}),nae=dr({prop:"borderTop",themeKey:"borders",transform:Yl}),rae=dr({prop:"borderRight",themeKey:"borders",transform:Yl}),iae=dr({prop:"borderBottom",themeKey:"borders",transform:Yl}),oae=dr({prop:"borderLeft",themeKey:"borders",transform:Yl}),aae=dr({prop:"borderColor",themeKey:"palette"}),sae=dr({prop:"borderTopColor",themeKey:"palette"}),lae=dr({prop:"borderRightColor",themeKey:"palette"}),cae=dr({prop:"borderBottomColor",themeKey:"palette"}),uae=dr({prop:"borderLeftColor",themeKey:"palette"}),cC=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Xx(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Jx(t,r)});return Bs(e,e.borderRadius,n)}return null};cC.propTypes={};cC.filterProps=["borderRadius"];lC(tae,nae,rae,iae,oae,aae,sae,lae,cae,uae,cC);const uC=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Xx(e.theme,"spacing",8),n=r=>({gap:Jx(t,r)});return Bs(e,e.gap,n)}return null};uC.propTypes={};uC.filterProps=["gap"];const dC=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Xx(e.theme,"spacing",8),n=r=>({columnGap:Jx(t,r)});return Bs(e,e.columnGap,n)}return null};dC.propTypes={};dC.filterProps=["columnGap"];const fC=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Xx(e.theme,"spacing",8),n=r=>({rowGap:Jx(t,r)});return Bs(e,e.rowGap,n)}return null};fC.propTypes={};fC.filterProps=["rowGap"];const dae=dr({prop:"gridColumn"}),fae=dr({prop:"gridRow"}),hae=dr({prop:"gridAutoFlow"}),pae=dr({prop:"gridAutoColumns"}),mae=dr({prop:"gridAutoRows"}),gae=dr({prop:"gridTemplateColumns"}),yae=dr({prop:"gridTemplateRows"}),vae=dr({prop:"gridTemplateAreas"}),xae=dr({prop:"gridArea"});lC(uC,dC,fC,dae,fae,hae,pae,mae,gae,yae,vae,xae);function ym(e,t){return t==="grey"?t:e}const bae=dr({prop:"color",themeKey:"palette",transform:ym}),_ae=dr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ym}),wae=dr({prop:"backgroundColor",themeKey:"palette",transform:ym});lC(bae,_ae,wae);function Ha(e){return e<=1&&e!==0?`${e*100}%`:e}const Sae=dr({prop:"width",transform:Ha}),X$=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,i;const o=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||Y$[n];return o?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Ha(n)}};return Bs(e,e.maxWidth,t)}return null};X$.filterProps=["maxWidth"];const Cae=dr({prop:"minWidth",transform:Ha}),kae=dr({prop:"height",transform:Ha}),Tae=dr({prop:"maxHeight",transform:Ha}),Pae=dr({prop:"minHeight",transform:Ha});dr({prop:"size",cssProperty:"width",transform:Ha});dr({prop:"size",cssProperty:"height",transform:Ha});const Eae=dr({prop:"boxSizing"});lC(Sae,X$,Cae,kae,Tae,Pae,Eae);const Oae={border:{themeKey:"borders",transform:Yl},borderTop:{themeKey:"borders",transform:Yl},borderRight:{themeKey:"borders",transform:Yl},borderBottom:{themeKey:"borders",transform:Yl},borderLeft:{themeKey:"borders",transform:Yl},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:cC},color:{themeKey:"palette",transform:ym},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ym},backgroundColor:{themeKey:"palette",transform:ym},p:{style:mi},pt:{style:mi},pr:{style:mi},pb:{style:mi},pl:{style:mi},px:{style:mi},py:{style:mi},padding:{style:mi},paddingTop:{style:mi},paddingRight:{style:mi},paddingBottom:{style:mi},paddingLeft:{style:mi},paddingX:{style:mi},paddingY:{style:mi},paddingInline:{style:mi},paddingInlineStart:{style:mi},paddingInlineEnd:{style:mi},paddingBlock:{style:mi},paddingBlockStart:{style:mi},paddingBlockEnd:{style:mi},m:{style:pi},mt:{style:pi},mr:{style:pi},mb:{style:pi},ml:{style:pi},mx:{style:pi},my:{style:pi},margin:{style:pi},marginTop:{style:pi},marginRight:{style:pi},marginBottom:{style:pi},marginLeft:{style:pi},marginX:{style:pi},marginY:{style:pi},marginInline:{style:pi},marginInlineStart:{style:pi},marginInlineEnd:{style:pi},marginBlock:{style:pi},marginBlockStart:{style:pi},marginBlockEnd:{style:pi},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:uC},rowGap:{style:fC},columnGap:{style:dC},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ha},maxWidth:{style:X$},minWidth:{transform:Ha},height:{transform:Ha},maxHeight:{transform:Ha},minHeight:{transform:Ha},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},hC=Oae;function Mae(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function Aae(e,t){return typeof e=="function"?e(t):e}function Iae(){function e(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:f=n,themeKey:h,transform:g,style:y}=a;if(r==null)return null;if(h==="typography"&&r==="inherit")return{[n]:r};const x=zm(i,h)||{};return y?y(s):Bs(s,r,E=>{let C=Yw(x,g,E);return E===C&&typeof E=="string"&&(C=Yw(x,g,`${n}${E==="default"?"":ft(E)}`,E)),f===!1?C:{[f]:C}})}function t(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:hC;function a(f){let h=f;if(typeof f=="function")h=f(o);else if(typeof f!="object")return f;if(!h)return null;const g=qoe(o.breakpoints),y=Object.keys(g);let x=g;return Object.keys(h).forEach(T=>{const E=Aae(h[T],o);if(E!=null)if(typeof E=="object")if(s[T])x=a0(x,e(T,E,o,s));else{const C=Bs({theme:o},E,O=>({[T]:O}));Mae(C,E)?x[T]=t({sx:E,theme:o}):x=a0(x,C)}else x=a0(x,e(T,E,o,s))}),Hoe(y,x)}return Array.isArray(i)?i.map(a):a(i)}return t}const Qx=Iae();Qx.filterProps=["sx"];const $ae=["breakpoints","palette","spacing","shape"];function pC(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=e,s=bt(e,$ae),a=Uoe(n),f=eae(i);let h=zo({breakpoints:a,direction:"ltr",components:{},palette:te({mode:"light"},r),spacing:f,shape:te({},Woe,o)},s);return h=t.reduce((g,y)=>zo(g,y),h),h.unstable_sxConfig=te({},hC,s==null?void 0:s.unstable_sxConfig),h.unstable_sx=function(y){return Qx({sx:y,theme:this})},h}function Rae(e){return Object.keys(e).length===0}function J$(e=null){const t=U.useContext(aC);return!t||Rae(t)?e:t}const Dae=pC();function mC(e=Dae){return J$(e)}function Lae({styles:e,themeId:t,defaultTheme:n={}}){const r=mC(n),i=typeof e=="function"?e(t&&r[t]||r):e;return L.jsx(Noe,{styles:i})}const jae=["sx"],Nae=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:hC;return Object.keys(e).forEach(o=>{i[o]?r.systemProps[o]=e[o]:r.otherProps[o]=e[o]}),r};function Q$(e){const{sx:t}=e,n=bt(e,jae),{systemProps:r,otherProps:i}=Nae(n);let o;return Array.isArray(t)?o=[r,...t]:typeof t=="function"?o=(...s)=>{const a=t(...s);return Vc(a)?te({},r,a):r}:o=te({},r,t),te({},i,{sx:o})}function C9(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=C9(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function at(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=C9(e))&&(r&&(r+=" "),r+=t);return r}const zae=["className","component"];function Bae(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,o=_9("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Qx);return U.forwardRef(function(f,h){const g=mC(n),y=Q$(f),{className:x,component:T="div"}=y,E=bt(y,zae);return L.jsx(o,te({as:T,ref:h,className:at(x,i?i(r):r),theme:t&&g[t]||g},E))})}const Fae=["variant"];function W5(e){return e.length===0}function k9(e){const{variant:t}=e,n=bt(e,Fae);let r=t||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=W5(r)?e[i]:ft(e[i]):r+=`${W5(r)?i:ft(i)}${ft(e[i].toString())}`}),r}const Uae=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Vae(e){return Object.keys(e).length===0}function Wae(e){return typeof e=="string"&&e.charCodeAt(0)>96}const qae=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,Kw=e=>{const t={};return e&&e.forEach(n=>{const r=k9(n.props);t[r]=n.style}),t},Hae=(e,t)=>{let n=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants),Kw(n)},Zw=(e,t,n)=>{const{ownerState:r={}}=e,i=[];return n&&n.forEach(o=>{let s=!0;Object.keys(o.props).forEach(a=>{r[a]!==o.props[a]&&e[a]!==o.props[a]&&(s=!1)}),s&&i.push(t[k9(o.props)])}),i},Gae=(e,t,n,r)=>{var i;const o=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return Zw(e,t,o)};function s0(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Yae=pC(),Kae=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function tw({defaultTheme:e,theme:t,themeId:n}){return Vae(t)?e:t[n]||t}function Zae(e){return e?(t,n)=>n[e]:null}const q5=({styledArg:e,props:t,defaultTheme:n,themeId:r})=>{const i=e(te({},t,{theme:tw(te({},t,{defaultTheme:n,themeId:r}))}));let o;if(i&&i.variants&&(o=i.variants,delete i.variants),o){const s=Zw(t,Kw(o),o);return[i,...s]}return i};function T9(e={}){const{themeId:t,defaultTheme:n=Yae,rootShouldForwardProp:r=s0,slotShouldForwardProp:i=s0}=e,o=s=>Qx(te({},s,{theme:tw(te({},s,{defaultTheme:n,themeId:t}))}));return o.__mui_systemSx=!0,(s,a={})=>{zoe(s,N=>N.filter($=>!($!=null&&$.__mui_systemSx)));const{name:f,slot:h,skipVariantsResolver:g,skipSx:y,overridesResolver:x=Zae(Kae(h))}=a,T=bt(a,Uae),E=g!==void 0?g:h&&h!=="Root"&&h!=="root"||!1,C=y||!1;let O,A=s0;h==="Root"||h==="root"?A=r:h?A=i:Wae(s)&&(A=void 0);const M=_9(s,te({shouldForwardProp:A,label:O},T)),I=(N,...$)=>{const D=$?$.map(J=>{if(typeof J=="function"&&J.__emotion_real!==J)return ie=>q5({styledArg:J,props:ie,defaultTheme:n,themeId:t});if(Vc(J)){let ie=J,ge;return J&&J.variants&&(ge=J.variants,delete ie.variants,ie=Ce=>{let fe=J;return Zw(Ce,Kw(ge),ge).forEach(ue=>{fe=zo(fe,ue)}),fe}),ie}return J}):[];let F=N;if(Vc(N)){let J;N&&N.variants&&(J=N.variants,delete F.variants,F=ie=>{let ge=N;return Zw(ie,Kw(J),J).forEach(fe=>{ge=zo(ge,fe)}),ge})}else typeof N=="function"&&N.__emotion_real!==N&&(F=J=>q5({styledArg:N,props:J,defaultTheme:n,themeId:t}));f&&x&&D.push(J=>{const ie=tw(te({},J,{defaultTheme:n,themeId:t})),ge=qae(f,ie);if(ge){const Ce={};return Object.entries(ge).forEach(([fe,ce])=>{Ce[fe]=typeof ce=="function"?ce(te({},J,{theme:ie})):ce}),x(J,Ce)}return null}),f&&!E&&D.push(J=>{const ie=tw(te({},J,{defaultTheme:n,themeId:t}));return Gae(J,Hae(f,ie),ie,f)}),C||D.push(o);const q=D.length-$.length;if(Array.isArray(N)&&q>0){const J=new Array(q).fill("");F=[...N,...J],F.raw=[...N.raw,...J]}const X=M(F,...D);return s.muiName&&(X.muiName=s.muiName),X};return M.withConfig&&(I.withConfig=M.withConfig),I}}const Xae=T9();function Jae(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:F$(t.components[n].defaultProps,r)}function P9({props:e,name:t,defaultTheme:n,themeId:r}){let i=mC(n);return r&&(i=i[r]||i),Jae({theme:i,name:t,props:e})}function eR(e,t=0,n=1){return Math.min(Math.max(t,e),n)}function Qae(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function mh(e){if(e.type)return e;if(e.charAt(0)==="#")return mh(Qae(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(zd(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(zd(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}function gC(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function ese(e){e=mh(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=(h,g=(h+n/30)%12)=>i-o*Math.max(Math.min(g-3,9-g,1),-1);let a="rgb";const f=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(a+="a",f.push(t[3])),gC({type:a,values:f})}function kM(e){e=mh(e);let t=e.type==="hsl"||e.type==="hsla"?mh(ese(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function tse(e,t){const n=kM(e),r=kM(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Or(e,t){return e=mh(e),t=eR(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,gC(e)}function yC(e,t){if(e=mh(e),t=eR(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return gC(e)}function vC(e,t){if(e=mh(e),t=eR(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return gC(e)}function nse(e,t=.15){return kM(e)>.5?yC(e,t):vC(e,t)}const rse=U.createContext(null),E9=rse;function tR(){return U.useContext(E9)}const ise=typeof Symbol=="function"&&Symbol.for,O9=ise?Symbol.for("mui.nested"):"__THEME_NESTED__";function ose(e,t){return typeof t=="function"?t(e):te({},e,t)}function ase(e){const{children:t,theme:n}=e,r=tR(),i=U.useMemo(()=>{const o=r===null?n:ose(r,n);return o!=null&&(o[O9]=r!==null),o},[n,r]);return L.jsx(E9.Provider,{value:i,children:t})}const H5={};function G5(e,t,n,r=!1){return U.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const o=n(i),s=e?te({},t,{[e]:o}):o;return r?()=>s:s}return e?te({},t,{[e]:n}):te({},t,n)},[e,t,n,r])}function sse(e){const{children:t,theme:n,themeId:r}=e,i=J$(H5),o=tR()||H5,s=G5(r,i,n),a=G5(r,o,n,!0);return L.jsx(ase,{theme:a,children:L.jsx(aC.Provider,{value:s,children:t})})}const lse=["className","component","disableGutters","fixed","maxWidth","classes"],cse=pC(),use=Xae("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${ft(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),dse=e=>P9({props:e,name:"MuiContainer",defaultTheme:cse}),fse=(e,t)=>{const n=f=>en(t,f),{classes:r,fixed:i,disableGutters:o,maxWidth:s}=e,a={root:["root",s&&`maxWidth${ft(String(s))}`,i&&"fixed",o&&"disableGutters"]};return nn(a,n,r)};function hse(e={}){const{createStyledComponent:t=use,useThemeProps:n=dse,componentName:r="MuiContainer"}=e,i=t(({theme:s,ownerState:a})=>te({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((f,h)=>{const g=h,y=s.breakpoints.values[g];return y!==0&&(f[s.breakpoints.up(g)]={maxWidth:`${y}${s.breakpoints.unit}`}),f},{}),({theme:s,ownerState:a})=>te({},a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}));return U.forwardRef(function(a,f){const h=n(a),{className:g,component:y="div",disableGutters:x=!1,fixed:T=!1,maxWidth:E="lg"}=h,C=bt(h,lse),O=te({},h,{component:y,disableGutters:x,fixed:T,maxWidth:E}),A=fse(O,r);return L.jsx(i,te({as:y,ownerState:O,className:at(A.root,g),ref:f},C))})}function pse(e,t){return te({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const mse=["mode","contrastThreshold","tonalOffset"],Y5={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:fh.white,default:fh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},UP={text:{primary:fh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:fh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function K5(e,t,n,r){const i=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=vC(e.main,i):t==="dark"&&(e.dark=yC(e.main,o)))}function gse(e="light"){return e==="dark"?{main:xp[200],light:xp[50],dark:xp[400]}:{main:xp[700],light:xp[400],dark:xp[800]}}function yse(e="light"){return e==="dark"?{main:vp[200],light:vp[50],dark:vp[400]}:{main:vp[500],light:vp[300],dark:vp[700]}}function vse(e="light"){return e==="dark"?{main:Fc[500],light:Fc[300],dark:Fc[700]}:{main:Fc[700],light:Fc[400],dark:Fc[800]}}function xse(e="light"){return e==="dark"?{main:bp[400],light:bp[300],dark:bp[700]}:{main:bp[700],light:bp[500],dark:bp[900]}}function bse(e="light"){return e==="dark"?{main:gl[400],light:gl[300],dark:gl[700]}:{main:gl[800],light:gl[500],dark:gl[900]}}function _se(e="light"){return e==="dark"?{main:cv[400],light:cv[300],dark:cv[700]}:{main:"#ed6c02",light:cv[500],dark:cv[900]}}function wse(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=bt(e,mse),o=e.primary||gse(t),s=e.secondary||yse(t),a=e.error||vse(t),f=e.info||xse(t),h=e.success||bse(t),g=e.warning||_se(t);function y(C){return tse(C,UP.text.primary)>=n?UP.text.primary:Y5.text.primary}const x=({color:C,name:O,mainShade:A=500,lightShade:M=300,darkShade:I=700})=>{if(C=te({},C),!C.main&&C[A]&&(C.main=C[A]),!C.hasOwnProperty("main"))throw new Error(zd(11,O?` (${O})`:"",A));if(typeof C.main!="string")throw new Error(zd(12,O?` (${O})`:"",JSON.stringify(C.main)));return K5(C,"light",M,r),K5(C,"dark",I,r),C.contrastText||(C.contrastText=y(C.main)),C},T={dark:UP,light:Y5};return zo(te({common:te({},fh),mode:t,primary:x({color:o,name:"primary"}),secondary:x({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:x({color:a,name:"error"}),warning:x({color:g,name:"warning"}),info:x({color:f,name:"info"}),success:x({color:h,name:"success"}),grey:rc,contrastThreshold:n,getContrastText:y,augmentColor:x,tonalOffset:r},T[t]),i)}const Sse=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Cse(e){return Math.round(e*1e5)/1e5}const Z5={textTransform:"uppercase"},X5='"Roboto", "Helvetica", "Arial", sans-serif';function kse(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=X5,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:f=700,htmlFontSize:h=16,allVariants:g,pxToRem:y}=n,x=bt(n,Sse),T=i/14,E=y||(A=>`${A/h*T}rem`),C=(A,M,I,N,$)=>te({fontFamily:r,fontWeight:A,fontSize:E(M),lineHeight:I},r===X5?{letterSpacing:`${Cse(N/M)}em`}:{},$,g),O={h1:C(o,96,1.167,-1.5),h2:C(o,60,1.2,-.5),h3:C(s,48,1.167,0),h4:C(s,34,1.235,.25),h5:C(s,24,1.334,0),h6:C(a,20,1.6,.15),subtitle1:C(s,16,1.75,.15),subtitle2:C(a,14,1.57,.1),body1:C(s,16,1.5,.15),body2:C(s,14,1.43,.15),button:C(a,14,1.75,.4,Z5),caption:C(s,12,1.66,.4),overline:C(s,12,2.66,1,Z5),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return zo(te({htmlFontSize:h,pxToRem:E,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:f},O),x,{clone:!1})}const Tse=.2,Pse=.14,Ese=.12;function Xr(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Tse})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Pse})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Ese})`].join(",")}const Ose=["none",Xr(0,2,1,-1,0,1,1,0,0,1,3,0),Xr(0,3,1,-2,0,2,2,0,0,1,5,0),Xr(0,3,3,-2,0,3,4,0,0,1,8,0),Xr(0,2,4,-1,0,4,5,0,0,1,10,0),Xr(0,3,5,-1,0,5,8,0,0,1,14,0),Xr(0,3,5,-1,0,6,10,0,0,1,18,0),Xr(0,4,5,-2,0,7,10,1,0,2,16,1),Xr(0,5,5,-3,0,8,10,1,0,3,14,2),Xr(0,5,6,-3,0,9,12,1,0,3,16,2),Xr(0,6,6,-3,0,10,14,1,0,4,18,3),Xr(0,6,7,-4,0,11,15,1,0,4,20,3),Xr(0,7,8,-4,0,12,17,2,0,5,22,4),Xr(0,7,8,-4,0,13,19,2,0,5,24,4),Xr(0,7,9,-4,0,14,21,2,0,5,26,4),Xr(0,8,9,-5,0,15,22,2,0,6,28,5),Xr(0,8,10,-5,0,16,24,2,0,6,30,5),Xr(0,8,11,-5,0,17,26,2,0,6,32,5),Xr(0,9,11,-5,0,18,28,2,0,7,34,6),Xr(0,9,12,-6,0,19,29,2,0,7,36,6),Xr(0,10,13,-6,0,20,31,3,0,8,38,7),Xr(0,10,13,-6,0,21,33,3,0,8,40,7),Xr(0,10,14,-6,0,22,35,3,0,8,42,7),Xr(0,11,14,-7,0,23,36,3,0,9,44,8),Xr(0,11,15,-7,0,24,38,3,0,9,46,8)],Mse=["duration","easing","delay"],Ase={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},M9={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function J5(e){return`${Math.round(e)}ms`}function Ise(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function $se(e){const t=te({},Ase,e.easing),n=te({},M9,e.duration);return te({getAutoHeightDuration:Ise,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=t.easeInOut,delay:f=0}=o;return bt(o,Mse),(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof s=="string"?s:J5(s)} ${a} ${typeof f=="string"?f:J5(f)}`).join(",")}},e,{easing:t,duration:n})}const Rse={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Dse=Rse,Lse=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function nR(e={},...t){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=e,s=bt(e,Lse);if(e.vars)throw new Error(zd(18));const a=wse(r),f=pC(e);let h=zo(f,{mixins:pse(f.breakpoints,n),palette:a,shadows:Ose.slice(),typography:kse(a,o),transitions:$se(i),zIndex:te({},Dse)});return h=zo(h,s),h=t.reduce((g,y)=>zo(g,y),h),h.unstable_sxConfig=te({},hC,s==null?void 0:s.unstable_sxConfig),h.unstable_sx=function(y){return Qx({sx:y,theme:this})},h}const jse=nR(),xC=jse;function wu(){const e=mC(xC);return e[ph]||e}function rn({props:e,name:t}){return P9({props:e,name:t,defaultTheme:xC,themeId:ph})}const Ra=e=>s0(e)&&e!=="classes",Nse=s0,pt=T9({themeId:ph,defaultTheme:xC,rootShouldForwardProp:Ra}),zse=["theme"];function Bse(e){let{theme:t}=e,n=bt(e,zse);const r=t[ph];return L.jsx(sse,te({},n,{themeId:r?ph:void 0,theme:r||t}))}const Fse=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)},Q5=Fse;function Use(e){return en("MuiSvgIcon",e)}tn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Vse=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Wse=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${ft(t)}`,`fontSize${ft(n)}`]};return nn(i,Use,r)},qse=pt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${ft(n.color)}`],t[`fontSize${ft(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,i,o,s,a,f,h,g,y,x,T,E;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=e.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((a=e.typography)==null||(f=a.pxToRem)==null?void 0:f.call(a,24))||"1.5rem",large:((h=e.typography)==null||(g=h.pxToRem)==null?void 0:g.call(h,35))||"2.1875rem"}[t.fontSize],color:(y=(x=(e.vars||e).palette)==null||(x=x[t.color])==null?void 0:x.main)!=null?y:{action:(T=(e.vars||e).palette)==null||(T=T.action)==null?void 0:T.active,disabled:(E=(e.vars||e).palette)==null||(E=E.action)==null?void 0:E.disabled,inherit:void 0}[t.color]}}),TM=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:f="medium",htmlColor:h,inheritViewBox:g=!1,titleAccess:y,viewBox:x="0 0 24 24"}=r,T=bt(r,Vse),E=U.isValidElement(i)&&i.type==="svg",C=te({},r,{color:s,component:a,fontSize:f,instanceFontSize:t.fontSize,inheritViewBox:g,viewBox:x,hasSvgAsChild:E}),O={};g||(O.viewBox=x);const A=Wse(C);return L.jsxs(qse,te({as:a,className:at(A.root,o),focusable:"false",color:h,"aria-hidden":y?void 0:!0,role:y?"img":void 0,ref:n},O,T,E&&i.props,{ownerState:C,children:[E?i.props.children:i,y?L.jsx("title",{children:y}):null]}))});TM.muiName="SvgIcon";function rR(e,t){function n(r,i){return L.jsx(TM,te({"data-testid":`${t}Icon`,ref:i},r,{children:e}))}return n.muiName=TM.muiName,U.memo(U.forwardRef(n))}const Hse={configure:e=>{U$.configure(e)}},Gse=Object.freeze(Object.defineProperty({__proto__:null,capitalize:ft,createChainedFunction:xM,createSvgIcon:rR,debounce:B$,deprecatedPropType:Oie,isMuiElement:X1,ownerDocument:Gi,ownerWindow:Bd,requirePropFactory:Mie,setRef:Hw,unstable_ClassNameGenerator:Hse,unstable_useEnhancedEffect:zs,unstable_useId:eC,unsupportedProp:Iie,useControlled:jm,useEventCallback:bl,useForkRef:ui,useIsFocusVisible:nC},Symbol.toStringTag,{value:"Module"}));function PM(e,t){return PM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PM(e,t)}function eb(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,PM(e,t)}const e3={disabled:!1},Xw=Ee.createContext(null);var Yse=function(t){return t.scrollTop},Wv="unmounted",Af="exited",If="entering",Dp="entered",EM="exiting",Su=function(e){eb(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,f;return o.appearStatus=null,r.in?a?(f=Af,o.appearStatus=If):f=Dp:r.unmountOnExit||r.mountOnEnter?f=Wv:f=Af,o.state={status:f},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Wv?{status:Af}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==If&&s!==Dp&&(o=If):(s===If||s===Dp)&&(o=EM)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===If){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:t1.findDOMNode(this);s&&Yse(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Af&&this.setState({status:Wv})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,f=this.props.nodeRef?[a]:[t1.findDOMNode(this),a],h=f[0],g=f[1],y=this.getTimeouts(),x=a?y.appear:y.enter;if(!i&&!s||e3.disabled){this.safeSetState({status:Dp},function(){o.props.onEntered(h)});return}this.props.onEnter(h,g),this.safeSetState({status:If},function(){o.props.onEntering(h,g),o.onTransitionEnd(x,function(){o.safeSetState({status:Dp},function(){o.props.onEntered(h,g)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:t1.findDOMNode(this);if(!o||e3.disabled){this.safeSetState({status:Af},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:EM},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Af},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:t1.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],h=f[0],g=f[1];this.props.addEndListener(h,g)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Wv)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=bt(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ee.createElement(Xw.Provider,{value:null},typeof s=="function"?s(i,a):Ee.cloneElement(Ee.Children.only(s),a))},t}(Ee.Component);Su.contextType=Xw;Su.propTypes={};function _p(){}Su.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:_p,onEntering:_p,onEntered:_p,onExit:_p,onExiting:_p,onExited:_p};Su.UNMOUNTED=Wv;Su.EXITED=Af;Su.ENTERING=If;Su.ENTERED=Dp;Su.EXITING=EM;const iR=Su;function Z0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oR(e,t){var n=function(o){return t&&U.isValidElement(o)?t(o):o},r=Object.create(null);return e&&U.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Kse(e,t){e=e||{},t=t||{};function n(g){return g in t?t[g]:e[g]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var f in t){if(r[f])for(s=0;s<r[f].length;s++){var h=r[f][s];a[r[f][s]]=n(h)}a[f]=n(f)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function Vf(e,t,n){return n[t]!=null?n[t]:e.props[t]}function Zse(e,t){return oR(e.children,function(n){return U.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Vf(n,"appear",e),enter:Vf(n,"enter",e),exit:Vf(n,"exit",e)})})}function Xse(e,t,n){var r=oR(e.children),i=Kse(t,r);return Object.keys(i).forEach(function(o){var s=i[o];if(U.isValidElement(s)){var a=o in t,f=o in r,h=t[o],g=U.isValidElement(h)&&!h.props.in;f&&(!a||g)?i[o]=U.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Vf(s,"exit",e),enter:Vf(s,"enter",e)}):!f&&a&&!g?i[o]=U.cloneElement(s,{in:!1}):f&&a&&U.isValidElement(h)&&(i[o]=U.cloneElement(s,{onExited:n.bind(null,s),in:h.props.in,exit:Vf(s,"exit",e),enter:Vf(s,"enter",e)}))}}),i}var Jse=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Qse={component:"div",childFactory:function(t){return t}},aR=function(e){eb(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=o.handleExited.bind(Z0(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,f=o.firstRender;return{children:f?Zse(i,a):Xse(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=oR(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var f=te({},a.children);return delete f[i.key],{children:f}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=bt(i,["component","childFactory"]),f=this.state.contextValue,h=Jse(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?Ee.createElement(Xw.Provider,{value:f},h):Ee.createElement(Xw.Provider,{value:f},Ee.createElement(o,a,h))},t}(Ee.Component);aR.propTypes={};aR.defaultProps=Qse;const ele=aR,A9=e=>e.scrollTop;function Bm(e,t){var n,r;const{timeout:i,easing:o,style:s={}}=e;return{duration:(n=s.transitionDuration)!=null?n:typeof i=="number"?i:i[t.mode]||0,easing:(r=s.transitionTimingFunction)!=null?r:typeof o=="object"?o[t.mode]:o,delay:s.transitionDelay}}function tle(e){return en("MuiCollapse",e)}tn("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const nle=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],rle=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return nn(r,tle,n)},ile=pt("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>te({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&te({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),ole=pt("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>te({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),ale=pt("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>te({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),I9=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiCollapse"}),{addEndListener:i,children:o,className:s,collapsedSize:a="0px",component:f,easing:h,in:g,onEnter:y,onEntered:x,onEntering:T,onExit:E,onExited:C,onExiting:O,orientation:A="vertical",style:M,timeout:I=M9.standard,TransitionComponent:N=iR}=r,$=bt(r,nle),D=te({},r,{orientation:A,collapsedSize:a}),F=rle(D),q=wu(),X=U.useRef(),J=U.useRef(null),ie=U.useRef(),ge=typeof a=="number"?`${a}px`:a,Ce=A==="horizontal",fe=Ce?"width":"height";U.useEffect(()=>()=>{clearTimeout(X.current)},[]);const ce=U.useRef(null),ue=ui(n,ce),xe=st=>Nt=>{if(st){const Mt=ce.current;Nt===void 0?st(Mt):st(Mt,Nt)}},le=()=>J.current?J.current[Ce?"clientWidth":"clientHeight"]:0,Pe=xe((st,Nt)=>{J.current&&Ce&&(J.current.style.position="absolute"),st.style[fe]=ge,y&&y(st,Nt)}),je=xe((st,Nt)=>{const Mt=le();J.current&&Ce&&(J.current.style.position="");const{duration:He,easing:ct}=Bm({style:M,timeout:I,easing:h},{mode:"enter"});if(I==="auto"){const ut=q.transitions.getAutoHeightDuration(Mt);st.style.transitionDuration=`${ut}ms`,ie.current=ut}else st.style.transitionDuration=typeof He=="string"?He:`${He}ms`;st.style[fe]=`${Mt}px`,st.style.transitionTimingFunction=ct,T&&T(st,Nt)}),Qe=xe((st,Nt)=>{st.style[fe]="auto",x&&x(st,Nt)}),We=xe(st=>{st.style[fe]=`${le()}px`,E&&E(st)}),Ke=xe(C),nt=xe(st=>{const Nt=le(),{duration:Mt,easing:He}=Bm({style:M,timeout:I,easing:h},{mode:"exit"});if(I==="auto"){const ct=q.transitions.getAutoHeightDuration(Nt);st.style.transitionDuration=`${ct}ms`,ie.current=ct}else st.style.transitionDuration=typeof Mt=="string"?Mt:`${Mt}ms`;st.style[fe]=ge,st.style.transitionTimingFunction=He,O&&O(st)}),mt=st=>{I==="auto"&&(X.current=setTimeout(st,ie.current||0)),i&&i(ce.current,st)};return L.jsx(N,te({in:g,onEnter:Pe,onEntered:Qe,onEntering:je,onExit:We,onExited:Ke,onExiting:nt,addEndListener:mt,nodeRef:ce,timeout:I==="auto"?null:I},$,{children:(st,Nt)=>L.jsx(ile,te({as:f,className:at(F.root,s,{entered:F.entered,exited:!g&&ge==="0px"&&F.hidden}[st]),style:te({[Ce?"minWidth":"minHeight"]:ge},M),ownerState:te({},D,{state:st}),ref:ue},Nt,{children:L.jsx(ole,{ownerState:te({},D,{state:st}),className:F.wrapper,ref:J,children:L.jsx(ale,{ownerState:te({},D,{state:st}),className:F.wrapperInner,children:o})})}))}))});I9.muiSupportAuto=!0;const sle=I9;function lle(e){return en("MuiPaper",e)}tn("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const cle=["className","component","elevation","square","variant"],ule=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return nn(o,lle,i)},dle=pt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return te({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&te({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Or("#fff",Q5(t.elevation))}, ${Or("#fff",Q5(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),fle=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:f="elevation"}=r,h=bt(r,cle),g=te({},r,{component:o,elevation:s,square:a,variant:f}),y=ule(g);return L.jsx(dle,te({as:o,ownerState:g,className:at(y.root,i),ref:n},h))}),la=fle,$9=U.createContext({});function hle(e){return en("MuiAccordion",e)}const ple=tn("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),i1=ple,mle=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],gle=e=>{const{classes:t,square:n,expanded:r,disabled:i,disableGutters:o}=e;return nn({root:["root",!n&&"rounded",r&&"expanded",i&&"disabled",!o&&"gutters"],region:["region"]},hle,t)},yle=pt(la,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${i1.region}`]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&:before":{display:"none"}},[`&.${i1.expanded}`]:{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}},[`&.${i1.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}},({theme:e,ownerState:t})=>te({},!t.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!t.disableGutters&&{[`&.${i1.expanded}`]:{margin:"16px 0"}})),vle=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiAccordion"}),{children:i,className:o,defaultExpanded:s=!1,disabled:a=!1,disableGutters:f=!1,expanded:h,onChange:g,square:y=!1,TransitionComponent:x=sle,TransitionProps:T}=r,E=bt(r,mle),[C,O]=jm({controlled:h,default:s,name:"Accordion",state:"expanded"}),A=U.useCallback(F=>{O(!C),g&&g(F,!C)},[C,g,O]),[M,...I]=U.Children.toArray(i),N=U.useMemo(()=>({expanded:C,disabled:a,disableGutters:f,toggle:A}),[C,a,f,A]),$=te({},r,{square:y,disabled:a,disableGutters:f,expanded:C}),D=gle($);return L.jsxs(yle,te({className:at(D.root,o),ref:n,ownerState:$,square:y},E,{children:[L.jsx($9.Provider,{value:N,children:M}),L.jsx(x,te({in:C,timeout:"auto"},T,{children:L.jsx("div",{"aria-labelledby":M.props.id,id:M.props["aria-controls"],role:"region",className:D.region,children:I})}))]}))}),Zl=vle;function xle(e){return en("MuiAccordionDetails",e)}tn("MuiAccordionDetails",["root"]);const ble=["className"],_le=e=>{const{classes:t}=e;return nn({root:["root"]},xle,t)},wle=pt("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({padding:e.spacing(1,2,2)})),Sle=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiAccordionDetails"}),{className:i}=r,o=bt(r,ble),s=r,a=_le(s);return L.jsx(wle,te({className:at(a.root,i),ref:n,ownerState:s},o))}),Xl=Sle;function Cle(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:f,timeout:h}=e,[g,y]=U.useState(!1),x=at(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),T={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},E=at(n.child,g&&n.childLeaving,r&&n.childPulsate);return!a&&!g&&y(!0),U.useEffect(()=>{if(!a&&f!=null){const C=setTimeout(f,h);return()=>{clearTimeout(C)}}},[f,a,h]),L.jsx("span",{className:x,style:T,children:L.jsx("span",{className:E})})}const ws=tn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),kle=["center","classes","className"];let bC=e=>e,t3,n3,r3,i3;const OM=550,Tle=80,Ple=G$(t3||(t3=bC`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Ele=G$(n3||(n3=bC`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Ole=G$(r3||(r3=bC`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Mle=pt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Ale=pt(Cle,{name:"MuiTouchRipple",slot:"Ripple"})(i3||(i3=bC`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ws.rippleVisible,Ple,OM,({theme:e})=>e.transitions.easing.easeInOut,ws.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,ws.child,ws.childLeaving,Ele,OM,({theme:e})=>e.transitions.easing.easeInOut,ws.childPulsate,Ole,({theme:e})=>e.transitions.easing.easeInOut),Ile=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=bt(r,kle),[f,h]=U.useState([]),g=U.useRef(0),y=U.useRef(null);U.useEffect(()=>{y.current&&(y.current(),y.current=null)},[f]);const x=U.useRef(!1),T=U.useRef(0),E=U.useRef(null),C=U.useRef(null);U.useEffect(()=>()=>{T.current&&clearTimeout(T.current)},[]);const O=U.useCallback(N=>{const{pulsate:$,rippleX:D,rippleY:F,rippleSize:q,cb:X}=N;h(J=>[...J,L.jsx(Ale,{classes:{ripple:at(o.ripple,ws.ripple),rippleVisible:at(o.rippleVisible,ws.rippleVisible),ripplePulsate:at(o.ripplePulsate,ws.ripplePulsate),child:at(o.child,ws.child),childLeaving:at(o.childLeaving,ws.childLeaving),childPulsate:at(o.childPulsate,ws.childPulsate)},timeout:OM,pulsate:$,rippleX:D,rippleY:F,rippleSize:q},g.current)]),g.current+=1,y.current=X},[o]),A=U.useCallback((N={},$={},D=()=>{})=>{const{pulsate:F=!1,center:q=i||$.pulsate,fakeElement:X=!1}=$;if((N==null?void 0:N.type)==="mousedown"&&x.current){x.current=!1;return}(N==null?void 0:N.type)==="touchstart"&&(x.current=!0);const J=X?null:C.current,ie=J?J.getBoundingClientRect():{width:0,height:0,left:0,top:0};let ge,Ce,fe;if(q||N===void 0||N.clientX===0&&N.clientY===0||!N.clientX&&!N.touches)ge=Math.round(ie.width/2),Ce=Math.round(ie.height/2);else{const{clientX:ce,clientY:ue}=N.touches&&N.touches.length>0?N.touches[0]:N;ge=Math.round(ce-ie.left),Ce=Math.round(ue-ie.top)}if(q)fe=Math.sqrt((2*ie.width**2+ie.height**2)/3),fe%2===0&&(fe+=1);else{const ce=Math.max(Math.abs((J?J.clientWidth:0)-ge),ge)*2+2,ue=Math.max(Math.abs((J?J.clientHeight:0)-Ce),Ce)*2+2;fe=Math.sqrt(ce**2+ue**2)}N!=null&&N.touches?E.current===null&&(E.current=()=>{O({pulsate:F,rippleX:ge,rippleY:Ce,rippleSize:fe,cb:D})},T.current=setTimeout(()=>{E.current&&(E.current(),E.current=null)},Tle)):O({pulsate:F,rippleX:ge,rippleY:Ce,rippleSize:fe,cb:D})},[i,O]),M=U.useCallback(()=>{A({},{pulsate:!0})},[A]),I=U.useCallback((N,$)=>{if(clearTimeout(T.current),(N==null?void 0:N.type)==="touchend"&&E.current){E.current(),E.current=null,T.current=setTimeout(()=>{I(N,$)});return}E.current=null,h(D=>D.length>0?D.slice(1):D),y.current=$},[]);return U.useImperativeHandle(n,()=>({pulsate:M,start:A,stop:I}),[M,A,I]),L.jsx(Mle,te({className:at(ws.root,o.root,s),ref:C},a,{children:L.jsx(ele,{component:null,exit:!0,children:f})}))}),$le=Ile;function Rle(e){return en("MuiButtonBase",e)}const Dle=tn("MuiButtonBase",["root","disabled","focusVisible"]),Lle=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],jle=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,s=nn({root:["root",t&&"disabled",n&&"focusVisible"]},Rle,i);return n&&r&&(s.root+=` ${r}`),s},Nle=pt("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Dle.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),zle=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:f="button",disabled:h=!1,disableRipple:g=!1,disableTouchRipple:y=!1,focusRipple:x=!1,LinkComponent:T="a",onBlur:E,onClick:C,onContextMenu:O,onDragLeave:A,onFocus:M,onFocusVisible:I,onKeyDown:N,onKeyUp:$,onMouseDown:D,onMouseLeave:F,onMouseUp:q,onTouchEnd:X,onTouchMove:J,onTouchStart:ie,tabIndex:ge=0,TouchRippleProps:Ce,touchRippleRef:fe,type:ce}=r,ue=bt(r,Lle),xe=U.useRef(null),le=U.useRef(null),Pe=ui(le,fe),{isFocusVisibleRef:je,onFocus:Qe,onBlur:We,ref:Ke}=nC(),[nt,mt]=U.useState(!1);h&&nt&&mt(!1),U.useImperativeHandle(i,()=>({focusVisible:()=>{mt(!0),xe.current.focus()}}),[]);const[st,Nt]=U.useState(!1);U.useEffect(()=>{Nt(!0)},[]);const Mt=st&&!g&&!h;U.useEffect(()=>{nt&&x&&!g&&st&&le.current.pulsate()},[g,x,nt,st]);function He(Kt,ur,Di=y){return bl(lt=>(ur&&ur(lt),!Di&&le.current&&le.current[Kt](lt),!0))}const ct=He("start",D),ut=He("stop",O),Ve=He("stop",A),Tt=He("stop",q),Pt=He("stop",Kt=>{nt&&Kt.preventDefault(),F&&F(Kt)}),Vt=He("start",ie),gn=He("stop",X),bn=He("stop",J),_n=He("stop",Kt=>{We(Kt),je.current===!1&&mt(!1),E&&E(Kt)},!1),rr=bl(Kt=>{xe.current||(xe.current=Kt.currentTarget),Qe(Kt),je.current===!0&&(mt(!0),I&&I(Kt)),M&&M(Kt)}),ze=()=>{const Kt=xe.current;return f&&f!=="button"&&!(Kt.tagName==="A"&&Kt.href)},an=U.useRef(!1),Mn=bl(Kt=>{x&&!an.current&&nt&&le.current&&Kt.key===" "&&(an.current=!0,le.current.stop(Kt,()=>{le.current.start(Kt)})),Kt.target===Kt.currentTarget&&ze()&&Kt.key===" "&&Kt.preventDefault(),N&&N(Kt),Kt.target===Kt.currentTarget&&ze()&&Kt.key==="Enter"&&!h&&(Kt.preventDefault(),C&&C(Kt))}),on=bl(Kt=>{x&&Kt.key===" "&&le.current&&nt&&!Kt.defaultPrevented&&(an.current=!1,le.current.stop(Kt,()=>{le.current.pulsate(Kt)})),$&&$(Kt),C&&Kt.target===Kt.currentTarget&&ze()&&Kt.key===" "&&!Kt.defaultPrevented&&C(Kt)});let $t=f;$t==="button"&&(ue.href||ue.to)&&($t=T);const Vn={};$t==="button"?(Vn.type=ce===void 0?"button":ce,Vn.disabled=h):(!ue.href&&!ue.to&&(Vn.role="button"),h&&(Vn["aria-disabled"]=h));const ir=ui(n,Ke,xe),Tr=te({},r,{centerRipple:o,component:f,disabled:h,disableRipple:g,disableTouchRipple:y,focusRipple:x,tabIndex:ge,focusVisible:nt}),Rn=jle(Tr);return L.jsxs(Nle,te({as:$t,className:at(Rn.root,a),ownerState:Tr,onBlur:_n,onClick:C,onContextMenu:ut,onFocus:rr,onKeyDown:Mn,onKeyUp:on,onMouseDown:ct,onMouseLeave:Pt,onMouseUp:Tt,onDragLeave:Ve,onTouchEnd:gn,onTouchMove:bn,onTouchStart:Vt,ref:ir,tabIndex:h?-1:ge,type:ce},Vn,ue,{children:[s,Mt?L.jsx($le,te({ref:Pe,center:o},Ce)):null]}))}),Sh=zle;function Ble(e){return en("MuiAccordionSummary",e)}const Fle=tn("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Xp=Fle,Ule=["children","className","expandIcon","focusVisibleClassName","onClick"],Vle=e=>{const{classes:t,expanded:n,disabled:r,disableGutters:i}=e;return nn({root:["root",n&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},Ble,t)},Wle=pt(Sh,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>{const n={duration:e.transitions.duration.shortest};return te({display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],n),[`&.${Xp.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Xp.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${Xp.disabled})`]:{cursor:"pointer"}},!t.disableGutters&&{[`&.${Xp.expanded}`]:{minHeight:64}})}),qle=pt("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(({theme:e,ownerState:t})=>te({display:"flex",flexGrow:1,margin:"12px 0"},!t.disableGutters&&{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${Xp.expanded}`]:{margin:"20px 0"}})),Hle=pt("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${Xp.expanded}`]:{transform:"rotate(180deg)"}})),Gle=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiAccordionSummary"}),{children:i,className:o,expandIcon:s,focusVisibleClassName:a,onClick:f}=r,h=bt(r,Ule),{disabled:g=!1,disableGutters:y,expanded:x,toggle:T}=U.useContext($9),E=A=>{T&&T(A),f&&f(A)},C=te({},r,{expanded:x,disabled:g,disableGutters:y}),O=Vle(C);return L.jsxs(Wle,te({focusRipple:!1,disableRipple:!0,disabled:g,component:"div","aria-expanded":x,className:at(O.root,o),focusVisibleClassName:at(O.focusVisible,a),onClick:E,ref:n,ownerState:C},h,{children:[L.jsx(qle,{className:O.content,ownerState:C,children:i}),s&&L.jsx(Hle,{className:O.expandIconWrapper,ownerState:C,children:s})]}))}),Jl=Gle;function Yle(e){return en("MuiIconButton",e)}const Kle=tn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Zle=["edge","children","className","color","disabled","disableFocusRipple","size"],Xle=e=>{const{classes:t,disabled:n,color:r,edge:i,size:o}=e,s={root:["root",n&&"disabled",r!=="default"&&`color${ft(r)}`,i&&`edge${ft(i)}`,`size${ft(o)}`]};return nn(s,Yle,t)},Jle=pt(Sh,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${ft(n.color)}`],n.edge&&t[`edge${ft(n.edge)}`],t[`size${ft(n.size)}`]]}})(({theme:e,ownerState:t})=>te({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Or(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return te({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&te({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":te({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Or(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${Kle.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),Qle=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:f=!1,disableFocusRipple:h=!1,size:g="medium"}=r,y=bt(r,Zle),x=te({},r,{edge:i,color:a,disabled:f,disableFocusRipple:h,size:g}),T=Xle(x);return L.jsx(Jle,te({className:at(T.root,s),centerRipple:!0,focusRipple:!h,disabled:f,ref:n,ownerState:x},y,{children:o}))}),Hn=Qle;function ece(e){return en("MuiTypography",e)}tn("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const tce=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],nce=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e,a={root:["root",o,e.align!=="inherit"&&`align${ft(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return nn(a,ece,s)},rce=pt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${ft(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>te({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),o3={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},ice={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},oce=e=>ice[e]||e,ace=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiTypography"}),i=oce(r.color),o=Q$(te({},r,{color:i})),{align:s="inherit",className:a,component:f,gutterBottom:h=!1,noWrap:g=!1,paragraph:y=!1,variant:x="body1",variantMapping:T=o3}=o,E=bt(o,tce),C=te({},o,{align:s,color:i,className:a,component:f,gutterBottom:h,noWrap:g,paragraph:y,variant:x,variantMapping:T}),O=f||(y?"p":T[x]||o3[x])||"span",A=nce(C);return L.jsx(rce,te({as:O,ref:n,ownerState:C,className:at(A.root,a)},E))}),pn=ace;function sce(e){return en("MuiAppBar",e)}tn("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const lce=["className","color","enableColorOnDark","position"],cce=e=>{const{color:t,position:n,classes:r}=e,i={root:["root",`color${ft(t)}`,`position${ft(n)}`]};return nn(i,sce,r)},o1=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,uce=pt(la,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${ft(n.position)}`],t[`color${ft(n.color)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[900];return te({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},t.position==="fixed"&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},t.position==="absolute"&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="sticky"&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="static"&&{position:"static"},t.position==="relative"&&{position:"relative"},!e.vars&&te({},t.color==="default"&&{backgroundColor:n,color:e.palette.getContrastText(n)},t.color&&t.color!=="default"&&t.color!=="inherit"&&t.color!=="transparent"&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},t.color==="inherit"&&{color:"inherit"},e.palette.mode==="dark"&&!t.enableColorOnDark&&{backgroundColor:null,color:null},t.color==="transparent"&&te({backgroundColor:"transparent",color:"inherit"},e.palette.mode==="dark"&&{backgroundImage:"none"})),e.vars&&te({},t.color==="default"&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:o1(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:o1(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:o1(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:o1(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:t.color==="inherit"?"inherit":"var(--AppBar-color)"},t.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),dce=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:s=!1,position:a="fixed"}=r,f=bt(r,lce),h=te({},r,{color:o,position:a,enableColorOnDark:s}),g=cce(h);return L.jsx(uce,te({square:!0,component:"header",ownerState:h,elevation:4,className:at(g.root,i,a==="fixed"&&"mui-fixed"),ref:n},f))}),sR=dce;function Jw(e){return typeof e=="string"}function qv(e,t,n){return e===void 0||Jw(e)?t:te({},t,{ownerState:te({},t.ownerState,n)})}const fce={disableDefaultClasses:!1},hce=U.createContext(fce);function pce(e){const{disableDefaultClasses:t}=U.useContext(hce);return n=>t?"":e(n)}function Qw(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function mce(e,t,n){return typeof e=="function"?e(t,n):e}function a3(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function gce(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const T=at(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),E=te({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),C=te({},n,i,r);return T.length>0&&(C.className=T),Object.keys(E).length>0&&(C.style=E),{props:C,internalRef:void 0}}const s=Qw(te({},i,r)),a=a3(r),f=a3(i),h=t(s),g=at(h==null?void 0:h.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),y=te({},h==null?void 0:h.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),x=te({},h,n,f,a);return g.length>0&&(x.className=g),Object.keys(y).length>0&&(x.style=y),{props:x,internalRef:h.ref}}const yce=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function cc(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,s=bt(e,yce),a=o?{}:mce(r,i),{props:f,internalRef:h}=gce(te({},s,{externalSlotProps:a})),g=ui(h,a==null?void 0:a.ref,(t=e.additionalProps)==null?void 0:t.ref);return qv(n,te({},f,{ref:g}),i)}function vce(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:i=!1}=e,o=o9({badgeContent:t,max:r});let s=n;n===!1&&t===0&&!i&&(s=!0);const{badgeContent:a,max:f=r}=s?o:e,h=a&&Number(a)>f?`${f}+`:a;return{badgeContent:a,invisible:s,max:f,displayValue:h}}function s3(e){return e.substring(2).toLowerCase()}function xce(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function bce(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:o="onTouchEnd"}=e,s=U.useRef(!1),a=U.useRef(null),f=U.useRef(!1),h=U.useRef(!1);U.useEffect(()=>(setTimeout(()=>{f.current=!0},0),()=>{f.current=!1}),[]);const g=ui(t.ref,a),y=bl(E=>{const C=h.current;h.current=!1;const O=Gi(a.current);if(!f.current||!a.current||"clientX"in E&&xce(E,O))return;if(s.current){s.current=!1;return}let A;E.composedPath?A=E.composedPath().indexOf(a.current)>-1:A=!O.documentElement.contains(E.target)||a.current.contains(E.target),!A&&(n||!C)&&i(E)}),x=E=>C=>{h.current=!0;const O=t.props[E];O&&O(C)},T={ref:g};return o!==!1&&(T[o]=x(o)),U.useEffect(()=>{if(o!==!1){const E=s3(o),C=Gi(a.current),O=()=>{s.current=!0};return C.addEventListener(E,y),C.addEventListener("touchmove",O),()=>{C.removeEventListener(E,y),C.removeEventListener("touchmove",O)}}},[y,o]),r!==!1&&(T[r]=x(r)),U.useEffect(()=>{if(r!==!1){const E=s3(r),C=Gi(a.current);return C.addEventListener(E,y),()=>{C.removeEventListener(E,y)}}},[y,r]),L.jsx(U.Fragment,{children:U.cloneElement(t,T)})}const _ce=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function wce(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Sce(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function Cce(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Sce(e))}function kce(e){const t=[],n=[];return Array.from(e.querySelectorAll(_ce)).forEach((r,i)=>{const o=wce(r);o===-1||!Cce(r)||(o===0?t.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function Tce(){return!0}function Pce(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=kce,isEnabled:s=Tce,open:a}=e,f=U.useRef(!1),h=U.useRef(null),g=U.useRef(null),y=U.useRef(null),x=U.useRef(null),T=U.useRef(!1),E=U.useRef(null),C=ui(t.ref,E),O=U.useRef(null);U.useEffect(()=>{!a||!E.current||(T.current=!n)},[n,a]),U.useEffect(()=>{if(!a||!E.current)return;const I=Gi(E.current);return E.current.contains(I.activeElement)||(E.current.hasAttribute("tabIndex")||E.current.setAttribute("tabIndex","-1"),T.current&&E.current.focus()),()=>{i||(y.current&&y.current.focus&&(f.current=!0,y.current.focus()),y.current=null)}},[a]),U.useEffect(()=>{if(!a||!E.current)return;const I=Gi(E.current),N=F=>{O.current=F,!(r||!s()||F.key!=="Tab")&&I.activeElement===E.current&&F.shiftKey&&(f.current=!0,g.current&&g.current.focus())},$=()=>{const F=E.current;if(F===null)return;if(!I.hasFocus()||!s()||f.current){f.current=!1;return}if(F.contains(I.activeElement)||r&&I.activeElement!==h.current&&I.activeElement!==g.current)return;if(I.activeElement!==x.current)x.current=null;else if(x.current!==null)return;if(!T.current)return;let q=[];if((I.activeElement===h.current||I.activeElement===g.current)&&(q=o(E.current)),q.length>0){var X,J;const ie=!!((X=O.current)!=null&&X.shiftKey&&((J=O.current)==null?void 0:J.key)==="Tab"),ge=q[0],Ce=q[q.length-1];typeof ge!="string"&&typeof Ce!="string"&&(ie?Ce.focus():ge.focus())}else F.focus()};I.addEventListener("focusin",$),I.addEventListener("keydown",N,!0);const D=setInterval(()=>{I.activeElement&&I.activeElement.tagName==="BODY"&&$()},50);return()=>{clearInterval(D),I.removeEventListener("focusin",$),I.removeEventListener("keydown",N,!0)}},[n,r,i,s,a,o]);const A=I=>{y.current===null&&(y.current=I.relatedTarget),T.current=!0,x.current=I.target;const N=t.props.onFocus;N&&N(I)},M=I=>{y.current===null&&(y.current=I.relatedTarget),T.current=!0};return L.jsxs(U.Fragment,{children:[L.jsx("div",{tabIndex:a?0:-1,onFocus:M,ref:h,"data-testid":"sentinelStart"}),U.cloneElement(t,{ref:C,onFocus:A}),L.jsx("div",{tabIndex:a?0:-1,onFocus:M,ref:g,"data-testid":"sentinelEnd"})]})}var Aa="top",Fs="bottom",Us="right",Ia="left",lR="auto",tb=[Aa,Fs,Us,Ia],Fm="start",X0="end",Ece="clippingParents",R9="viewport",hv="popper",Oce="reference",l3=tb.reduce(function(e,t){return e.concat([t+"-"+Fm,t+"-"+X0])},[]),D9=[].concat(tb,[lR]).reduce(function(e,t){return e.concat([t,t+"-"+Fm,t+"-"+X0])},[]),Mce="beforeRead",Ace="read",Ice="afterRead",$ce="beforeMain",Rce="main",Dce="afterMain",Lce="beforeWrite",jce="write",Nce="afterWrite",zce=[Mce,Ace,Ice,$ce,Rce,Dce,Lce,jce,Nce];function uc(e){return e?(e.nodeName||"").toLowerCase():null}function ns(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function gh(e){var t=ns(e).Element;return e instanceof t||e instanceof Element}function Is(e){var t=ns(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function cR(e){if(typeof ShadowRoot>"u")return!1;var t=ns(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Bce(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!Is(o)||!uc(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function Fce(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=s.reduce(function(f,h){return f[h]="",f},{});!Is(i)||!uc(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(f){i.removeAttribute(f)}))})}}const Uce={name:"applyStyles",enabled:!0,phase:"write",fn:Bce,effect:Fce,requires:["computeStyles"]};function oc(e){return e.split("-")[0]}var eh=Math.max,eS=Math.min,Um=Math.round;function MM(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function L9(){return!/^((?!chrome|android).)*safari/i.test(MM())}function Vm(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&Is(e)&&(i=e.offsetWidth>0&&Um(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Um(r.height)/e.offsetHeight||1);var s=gh(e)?ns(e):window,a=s.visualViewport,f=!L9()&&n,h=(r.left+(f&&a?a.offsetLeft:0))/i,g=(r.top+(f&&a?a.offsetTop:0))/o,y=r.width/i,x=r.height/o;return{width:y,height:x,top:g,right:h+y,bottom:g+x,left:h,x:h,y:g}}function uR(e){var t=Vm(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function j9(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&cR(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function fu(e){return ns(e).getComputedStyle(e)}function Vce(e){return["table","td","th"].indexOf(uc(e))>=0}function Zd(e){return((gh(e)?e.ownerDocument:e.document)||window.document).documentElement}function _C(e){return uc(e)==="html"?e:e.assignedSlot||e.parentNode||(cR(e)?e.host:null)||Zd(e)}function c3(e){return!Is(e)||fu(e).position==="fixed"?null:e.offsetParent}function Wce(e){var t=/firefox/i.test(MM()),n=/Trident/i.test(MM());if(n&&Is(e)){var r=fu(e);if(r.position==="fixed")return null}var i=_C(e);for(cR(i)&&(i=i.host);Is(i)&&["html","body"].indexOf(uc(i))<0;){var o=fu(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function nb(e){for(var t=ns(e),n=c3(e);n&&Vce(n)&&fu(n).position==="static";)n=c3(n);return n&&(uc(n)==="html"||uc(n)==="body"&&fu(n).position==="static")?t:n||Wce(e)||t}function dR(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function l0(e,t,n){return eh(e,eS(t,n))}function qce(e,t,n){var r=l0(e,t,n);return r>n?n:r}function N9(){return{top:0,right:0,bottom:0,left:0}}function z9(e){return Object.assign({},N9(),e)}function B9(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var Hce=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,z9(typeof t!="number"?t:B9(t,tb))};function Gce(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=oc(n.placement),f=dR(a),h=[Ia,Us].indexOf(a)>=0,g=h?"height":"width";if(!(!o||!s)){var y=Hce(i.padding,n),x=uR(o),T=f==="y"?Aa:Ia,E=f==="y"?Fs:Us,C=n.rects.reference[g]+n.rects.reference[f]-s[f]-n.rects.popper[g],O=s[f]-n.rects.reference[f],A=nb(o),M=A?f==="y"?A.clientHeight||0:A.clientWidth||0:0,I=C/2-O/2,N=y[T],$=M-x[g]-y[E],D=M/2-x[g]/2+I,F=l0(N,D,$),q=f;n.modifiersData[r]=(t={},t[q]=F,t.centerOffset=F-D,t)}}function Yce(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||j9(t.elements.popper,i)&&(t.elements.arrow=i))}const Kce={name:"arrow",enabled:!0,phase:"main",fn:Gce,effect:Yce,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wm(e){return e.split("-")[1]}var Zce={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Xce(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Um(n*i)/i||0,y:Um(r*i)/i||0}}function u3(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,f=e.gpuAcceleration,h=e.adaptive,g=e.roundOffsets,y=e.isFixed,x=s.x,T=x===void 0?0:x,E=s.y,C=E===void 0?0:E,O=typeof g=="function"?g({x:T,y:C}):{x:T,y:C};T=O.x,C=O.y;var A=s.hasOwnProperty("x"),M=s.hasOwnProperty("y"),I=Ia,N=Aa,$=window;if(h){var D=nb(n),F="clientHeight",q="clientWidth";if(D===ns(n)&&(D=Zd(n),fu(D).position!=="static"&&a==="absolute"&&(F="scrollHeight",q="scrollWidth")),D=D,i===Aa||(i===Ia||i===Us)&&o===X0){N=Fs;var X=y&&D===$&&$.visualViewport?$.visualViewport.height:D[F];C-=X-r.height,C*=f?1:-1}if(i===Ia||(i===Aa||i===Fs)&&o===X0){I=Us;var J=y&&D===$&&$.visualViewport?$.visualViewport.width:D[q];T-=J-r.width,T*=f?1:-1}}var ie=Object.assign({position:a},h&&Zce),ge=g===!0?Xce({x:T,y:C},ns(n)):{x:T,y:C};if(T=ge.x,C=ge.y,f){var Ce;return Object.assign({},ie,(Ce={},Ce[N]=M?"0":"",Ce[I]=A?"0":"",Ce.transform=($.devicePixelRatio||1)<=1?"translate("+T+"px, "+C+"px)":"translate3d("+T+"px, "+C+"px, 0)",Ce))}return Object.assign({},ie,(t={},t[N]=M?C+"px":"",t[I]=A?T+"px":"",t.transform="",t))}function Jce(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,f=a===void 0?!0:a,h={placement:oc(t.placement),variation:Wm(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,u3(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:f})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,u3(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Qce={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Jce,data:{}};var a1={passive:!0};function eue(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,f=ns(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&h.forEach(function(g){g.addEventListener("scroll",n.update,a1)}),a&&f.addEventListener("resize",n.update,a1),function(){o&&h.forEach(function(g){g.removeEventListener("scroll",n.update,a1)}),a&&f.removeEventListener("resize",n.update,a1)}}const tue={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:eue,data:{}};var nue={left:"right",right:"left",bottom:"top",top:"bottom"};function nw(e){return e.replace(/left|right|bottom|top/g,function(t){return nue[t]})}var rue={start:"end",end:"start"};function d3(e){return e.replace(/start|end/g,function(t){return rue[t]})}function fR(e){var t=ns(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function hR(e){return Vm(Zd(e)).left+fR(e).scrollLeft}function iue(e,t){var n=ns(e),r=Zd(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,f=0;if(i){o=i.width,s=i.height;var h=L9();(h||!h&&t==="fixed")&&(a=i.offsetLeft,f=i.offsetTop)}return{width:o,height:s,x:a+hR(e),y:f}}function oue(e){var t,n=Zd(e),r=fR(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=eh(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=eh(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+hR(e),f=-r.scrollTop;return fu(i||n).direction==="rtl"&&(a+=eh(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:f}}function pR(e){var t=fu(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function F9(e){return["html","body","#document"].indexOf(uc(e))>=0?e.ownerDocument.body:Is(e)&&pR(e)?e:F9(_C(e))}function c0(e,t){var n;t===void 0&&(t=[]);var r=F9(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=ns(r),s=i?[o].concat(o.visualViewport||[],pR(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(c0(_C(s)))}function AM(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function aue(e,t){var n=Vm(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function f3(e,t,n){return t===R9?AM(iue(e,n)):gh(t)?aue(t,n):AM(oue(Zd(e)))}function sue(e){var t=c0(_C(e)),n=["absolute","fixed"].indexOf(fu(e).position)>=0,r=n&&Is(e)?nb(e):e;return gh(r)?t.filter(function(i){return gh(i)&&j9(i,r)&&uc(i)!=="body"}):[]}function lue(e,t,n,r){var i=t==="clippingParents"?sue(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(f,h){var g=f3(e,h,r);return f.top=eh(g.top,f.top),f.right=eS(g.right,f.right),f.bottom=eS(g.bottom,f.bottom),f.left=eh(g.left,f.left),f},f3(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function U9(e){var t=e.reference,n=e.element,r=e.placement,i=r?oc(r):null,o=r?Wm(r):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,f;switch(i){case Aa:f={x:s,y:t.y-n.height};break;case Fs:f={x:s,y:t.y+t.height};break;case Us:f={x:t.x+t.width,y:a};break;case Ia:f={x:t.x-n.width,y:a};break;default:f={x:t.x,y:t.y}}var h=i?dR(i):null;if(h!=null){var g=h==="y"?"height":"width";switch(o){case Fm:f[h]=f[h]-(t[g]/2-n[g]/2);break;case X0:f[h]=f[h]+(t[g]/2-n[g]/2);break}}return f}function J0(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.strategy,s=o===void 0?e.strategy:o,a=n.boundary,f=a===void 0?Ece:a,h=n.rootBoundary,g=h===void 0?R9:h,y=n.elementContext,x=y===void 0?hv:y,T=n.altBoundary,E=T===void 0?!1:T,C=n.padding,O=C===void 0?0:C,A=z9(typeof O!="number"?O:B9(O,tb)),M=x===hv?Oce:hv,I=e.rects.popper,N=e.elements[E?M:x],$=lue(gh(N)?N:N.contextElement||Zd(e.elements.popper),f,g,s),D=Vm(e.elements.reference),F=U9({reference:D,element:I,strategy:"absolute",placement:i}),q=AM(Object.assign({},I,F)),X=x===hv?q:D,J={top:$.top-X.top+A.top,bottom:X.bottom-$.bottom+A.bottom,left:$.left-X.left+A.left,right:X.right-$.right+A.right},ie=e.modifiersData.offset;if(x===hv&&ie){var ge=ie[i];Object.keys(J).forEach(function(Ce){var fe=[Us,Fs].indexOf(Ce)>=0?1:-1,ce=[Aa,Fs].indexOf(Ce)>=0?"y":"x";J[Ce]+=ge[ce]*fe})}return J}function cue(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,f=n.allowedAutoPlacements,h=f===void 0?D9:f,g=Wm(r),y=g?a?l3:l3.filter(function(E){return Wm(E)===g}):tb,x=y.filter(function(E){return h.indexOf(E)>=0});x.length===0&&(x=y);var T=x.reduce(function(E,C){return E[C]=J0(e,{placement:C,boundary:i,rootBoundary:o,padding:s})[oc(C)],E},{});return Object.keys(T).sort(function(E,C){return T[E]-T[C]})}function uue(e){if(oc(e)===lR)return[];var t=nw(e);return[d3(e),t,d3(t)]}function due(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,f=n.fallbackPlacements,h=n.padding,g=n.boundary,y=n.rootBoundary,x=n.altBoundary,T=n.flipVariations,E=T===void 0?!0:T,C=n.allowedAutoPlacements,O=t.options.placement,A=oc(O),M=A===O,I=f||(M||!E?[nw(O)]:uue(O)),N=[O].concat(I).reduce(function(nt,mt){return nt.concat(oc(mt)===lR?cue(t,{placement:mt,boundary:g,rootBoundary:y,padding:h,flipVariations:E,allowedAutoPlacements:C}):mt)},[]),$=t.rects.reference,D=t.rects.popper,F=new Map,q=!0,X=N[0],J=0;J<N.length;J++){var ie=N[J],ge=oc(ie),Ce=Wm(ie)===Fm,fe=[Aa,Fs].indexOf(ge)>=0,ce=fe?"width":"height",ue=J0(t,{placement:ie,boundary:g,rootBoundary:y,altBoundary:x,padding:h}),xe=fe?Ce?Us:Ia:Ce?Fs:Aa;$[ce]>D[ce]&&(xe=nw(xe));var le=nw(xe),Pe=[];if(o&&Pe.push(ue[ge]<=0),a&&Pe.push(ue[xe]<=0,ue[le]<=0),Pe.every(function(nt){return nt})){X=ie,q=!1;break}F.set(ie,Pe)}if(q)for(var je=E?3:1,Qe=function(mt){var st=N.find(function(Nt){var Mt=F.get(Nt);if(Mt)return Mt.slice(0,mt).every(function(He){return He})});if(st)return X=st,"break"},We=je;We>0;We--){var Ke=Qe(We);if(Ke==="break")break}t.placement!==X&&(t.modifiersData[r]._skip=!0,t.placement=X,t.reset=!0)}}const fue={name:"flip",enabled:!0,phase:"main",fn:due,requiresIfExists:["offset"],data:{_skip:!1}};function h3(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function p3(e){return[Aa,Us,Fs,Ia].some(function(t){return e[t]>=0})}function hue(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=J0(t,{elementContext:"reference"}),a=J0(t,{altBoundary:!0}),f=h3(s,r),h=h3(a,i,o),g=p3(f),y=p3(h);t.modifiersData[n]={referenceClippingOffsets:f,popperEscapeOffsets:h,isReferenceHidden:g,hasPopperEscaped:y},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":y})}const pue={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hue};function mue(e,t,n){var r=oc(e),i=[Ia,Aa].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Ia,Us].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function gue(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,s=D9.reduce(function(g,y){return g[y]=mue(y,t.rects,o),g},{}),a=s[t.placement],f=a.x,h=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=f,t.modifiersData.popperOffsets.y+=h),t.modifiersData[r]=s}const yue={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:gue};function vue(e){var t=e.state,n=e.name;t.modifiersData[n]=U9({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const xue={name:"popperOffsets",enabled:!0,phase:"read",fn:vue,data:{}};function bue(e){return e==="x"?"y":"x"}function _ue(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,f=n.boundary,h=n.rootBoundary,g=n.altBoundary,y=n.padding,x=n.tether,T=x===void 0?!0:x,E=n.tetherOffset,C=E===void 0?0:E,O=J0(t,{boundary:f,rootBoundary:h,padding:y,altBoundary:g}),A=oc(t.placement),M=Wm(t.placement),I=!M,N=dR(A),$=bue(N),D=t.modifiersData.popperOffsets,F=t.rects.reference,q=t.rects.popper,X=typeof C=="function"?C(Object.assign({},t.rects,{placement:t.placement})):C,J=typeof X=="number"?{mainAxis:X,altAxis:X}:Object.assign({mainAxis:0,altAxis:0},X),ie=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,ge={x:0,y:0};if(D){if(o){var Ce,fe=N==="y"?Aa:Ia,ce=N==="y"?Fs:Us,ue=N==="y"?"height":"width",xe=D[N],le=xe+O[fe],Pe=xe-O[ce],je=T?-q[ue]/2:0,Qe=M===Fm?F[ue]:q[ue],We=M===Fm?-q[ue]:-F[ue],Ke=t.elements.arrow,nt=T&&Ke?uR(Ke):{width:0,height:0},mt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:N9(),st=mt[fe],Nt=mt[ce],Mt=l0(0,F[ue],nt[ue]),He=I?F[ue]/2-je-Mt-st-J.mainAxis:Qe-Mt-st-J.mainAxis,ct=I?-F[ue]/2+je+Mt+Nt+J.mainAxis:We+Mt+Nt+J.mainAxis,ut=t.elements.arrow&&nb(t.elements.arrow),Ve=ut?N==="y"?ut.clientTop||0:ut.clientLeft||0:0,Tt=(Ce=ie==null?void 0:ie[N])!=null?Ce:0,Pt=xe+He-Tt-Ve,Vt=xe+ct-Tt,gn=l0(T?eS(le,Pt):le,xe,T?eh(Pe,Vt):Pe);D[N]=gn,ge[N]=gn-xe}if(a){var bn,_n=N==="x"?Aa:Ia,rr=N==="x"?Fs:Us,ze=D[$],an=$==="y"?"height":"width",Mn=ze+O[_n],on=ze-O[rr],$t=[Aa,Ia].indexOf(A)!==-1,Vn=(bn=ie==null?void 0:ie[$])!=null?bn:0,ir=$t?Mn:ze-F[an]-q[an]-Vn+J.altAxis,Tr=$t?ze+F[an]+q[an]-Vn-J.altAxis:on,Rn=T&&$t?qce(ir,ze,Tr):l0(T?ir:Mn,ze,T?Tr:on);D[$]=Rn,ge[$]=Rn-ze}t.modifiersData[r]=ge}}const wue={name:"preventOverflow",enabled:!0,phase:"main",fn:_ue,requiresIfExists:["offset"]};function Sue(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Cue(e){return e===ns(e)||!Is(e)?fR(e):Sue(e)}function kue(e){var t=e.getBoundingClientRect(),n=Um(t.width)/e.offsetWidth||1,r=Um(t.height)/e.offsetHeight||1;return n!==1||r!==1}function Tue(e,t,n){n===void 0&&(n=!1);var r=Is(t),i=Is(t)&&kue(t),o=Zd(t),s=Vm(e,i,n),a={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!n)&&((uc(t)!=="body"||pR(o))&&(a=Cue(t)),Is(t)?(f=Vm(t,!0),f.x+=t.clientLeft,f.y+=t.clientTop):o&&(f.x=hR(o))),{x:s.left+a.scrollLeft-f.x,y:s.top+a.scrollTop-f.y,width:s.width,height:s.height}}function Pue(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var f=t.get(a);f&&i(f)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function Eue(e){var t=Pue(e);return zce.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function Oue(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Mue(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var m3={placement:"bottom",modifiers:[],strategy:"absolute"};function g3(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Aue(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?m3:i;return function(a,f,h){h===void 0&&(h=o);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},m3,o),modifiersData:{},elements:{reference:a,popper:f},attributes:{},styles:{}},y=[],x=!1,T={state:g,setOptions:function(A){var M=typeof A=="function"?A(g.options):A;C(),g.options=Object.assign({},o,g.options,M),g.scrollParents={reference:gh(a)?c0(a):a.contextElement?c0(a.contextElement):[],popper:c0(f)};var I=Eue(Mue([].concat(r,g.options.modifiers)));return g.orderedModifiers=I.filter(function(N){return N.enabled}),E(),T.update()},forceUpdate:function(){if(!x){var A=g.elements,M=A.reference,I=A.popper;if(g3(M,I)){g.rects={reference:Tue(M,nb(I),g.options.strategy==="fixed"),popper:uR(I)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(J){return g.modifiersData[J.name]=Object.assign({},J.data)});for(var N=0;N<g.orderedModifiers.length;N++){if(g.reset===!0){g.reset=!1,N=-1;continue}var $=g.orderedModifiers[N],D=$.fn,F=$.options,q=F===void 0?{}:F,X=$.name;typeof D=="function"&&(g=D({state:g,options:q,name:X,instance:T})||g)}}}},update:Oue(function(){return new Promise(function(O){T.forceUpdate(),O(g)})}),destroy:function(){C(),x=!0}};if(!g3(a,f))return T;T.setOptions(h).then(function(O){!x&&h.onFirstUpdate&&h.onFirstUpdate(O)});function E(){g.orderedModifiers.forEach(function(O){var A=O.name,M=O.options,I=M===void 0?{}:M,N=O.effect;if(typeof N=="function"){var $=N({state:g,name:A,instance:T,options:I}),D=function(){};y.push($||D)}})}function C(){y.forEach(function(O){return O()}),y=[]}return T}}var Iue=[tue,xue,Qce,Uce,yue,fue,wue,Kce,pue],$ue=Aue({defaultModifiers:Iue});function Rue(e){return typeof e=="function"?e():e}const V9=U.forwardRef(function(t,n){const{children:r,container:i,disablePortal:o=!1}=t,[s,a]=U.useState(null),f=ui(U.isValidElement(r)?r.ref:null,n);if(zs(()=>{o||a(Rue(i)||document.body)},[i,o]),zs(()=>{if(s&&!o)return Hw(n,s),()=>{Hw(n,null)}},[n,s,o]),o){if(U.isValidElement(r)){const h={ref:f};return U.cloneElement(r,h)}return L.jsx(U.Fragment,{children:r})}return L.jsx(U.Fragment,{children:s&&_u.createPortal(r,s)})});function Due(e){return en("MuiPopper",e)}tn("MuiPopper",["root"]);const Lue=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],jue=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Nue(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function IM(e){return typeof e=="function"?e():e}function zue(e){return e.nodeType!==void 0}const Bue=()=>nn({root:["root"]},pce(Due)),Fue={},Uue=U.forwardRef(function(t,n){var r;const{anchorEl:i,children:o,direction:s,disablePortal:a,modifiers:f,open:h,placement:g,popperOptions:y,popperRef:x,slotProps:T={},slots:E={},TransitionProps:C}=t,O=bt(t,Lue),A=U.useRef(null),M=ui(A,n),I=U.useRef(null),N=ui(I,x),$=U.useRef(N);zs(()=>{$.current=N},[N]),U.useImperativeHandle(x,()=>I.current,[]);const D=Nue(g,s),[F,q]=U.useState(D),[X,J]=U.useState(IM(i));U.useEffect(()=>{I.current&&I.current.forceUpdate()}),U.useEffect(()=>{i&&J(IM(i))},[i]),zs(()=>{if(!X||!h)return;const ce=le=>{q(le.placement)};let ue=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:le})=>{ce(le)}}];f!=null&&(ue=ue.concat(f)),y&&y.modifiers!=null&&(ue=ue.concat(y.modifiers));const xe=$ue(X,A.current,te({placement:D},y,{modifiers:ue}));return $.current(xe),()=>{xe.destroy(),$.current(null)}},[X,a,f,h,y,D]);const ie={placement:F};C!==null&&(ie.TransitionProps=C);const ge=Bue(),Ce=(r=E.root)!=null?r:"div",fe=cc({elementType:Ce,externalSlotProps:T.root,externalForwardedProps:O,additionalProps:{role:"tooltip",ref:M},ownerState:t,className:ge.root});return L.jsx(Ce,te({},fe,{children:typeof o=="function"?o(ie):o}))}),Vue=U.forwardRef(function(t,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:f=!1,modifiers:h,open:g,placement:y="bottom",popperOptions:x=Fue,popperRef:T,style:E,transition:C=!1,slotProps:O={},slots:A={}}=t,M=bt(t,jue),[I,N]=U.useState(!0),$=()=>{N(!1)},D=()=>{N(!0)};if(!f&&!g&&(!C||I))return null;let F;if(o)F=o;else if(r){const J=IM(r);F=J&&zue(J)?Gi(J).body:Gi(null).body}const q=!g&&f&&(!C||I)?"none":void 0,X=C?{in:g,onEnter:$,onExited:D}:void 0;return L.jsx(V9,{disablePortal:a,container:F,children:L.jsx(Uue,te({anchorEl:r,direction:s,disablePortal:a,modifiers:h,ref:n,open:C?!I:g,placement:y,popperOptions:x,popperRef:T,slotProps:O,slots:A},M,{style:te({position:"fixed",top:0,left:0,display:q},E),TransitionProps:X,children:i}))})});function Wue(e){const t=Gi(e);return t.body===e?Bd(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function u0(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function y3(e){return parseInt(Bd(e).getComputedStyle(e).paddingRight,10)||0}function que(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function v3(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,s=>{const a=o.indexOf(s)===-1,f=!que(s);a&&f&&u0(s,i)})}function VP(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function Hue(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(Wue(r)){const s=i9(Gi(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${y3(r)+s}px`;const a=Gi(r).querySelectorAll(".mui-fixed");[].forEach.call(a,f=>{n.push({value:f.style.paddingRight,property:"padding-right",el:f}),f.style.paddingRight=`${y3(f)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Gi(r).body;else{const s=r.parentElement,a=Bd(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function Gue(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class Yue{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&u0(t.modalRef,!1);const i=Gue(n);v3(n,t.mount,t.modalRef,i,!0);const o=VP(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=VP(this.containers,o=>o.modals.indexOf(t)!==-1),i=this.containers[r];i.restore||(i.restore=Hue(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=VP(this.containers,s=>s.modals.indexOf(t)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&u0(t.modalRef,n),v3(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&u0(s.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function Kue(e){return typeof e=="function"?e():e}function Zue(e){return e?e.props.hasOwnProperty("in"):!1}const Xue=new Yue;function Jue(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=Xue,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:f,onClose:h,open:g,rootRef:y}=e,x=U.useRef({}),T=U.useRef(null),E=U.useRef(null),C=ui(E,y),[O,A]=U.useState(!g),M=Zue(f);let I=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(I=!1);const N=()=>Gi(T.current),$=()=>(x.current.modalRef=E.current,x.current.mount=T.current,x.current),D=()=>{i.mount($(),{disableScrollLock:r}),E.current&&(E.current.scrollTop=0)},F=bl(()=>{const ue=Kue(t)||N().body;i.add($(),ue),E.current&&D()}),q=U.useCallback(()=>i.isTopModal($()),[i]),X=bl(ue=>{T.current=ue,ue&&(g&&q()?D():E.current&&u0(E.current,I))}),J=U.useCallback(()=>{i.remove($(),I)},[I,i]);U.useEffect(()=>()=>{J()},[J]),U.useEffect(()=>{g?F():(!M||!o)&&J()},[g,J,M,o,F]);const ie=ue=>xe=>{var le;(le=ue.onKeyDown)==null||le.call(ue,xe),!(xe.key!=="Escape"||xe.which===229||!q())&&(n||(xe.stopPropagation(),h&&h(xe,"escapeKeyDown")))},ge=ue=>xe=>{var le;(le=ue.onClick)==null||le.call(ue,xe),xe.target===xe.currentTarget&&h&&h(xe,"backdropClick")};return{getRootProps:(ue={})=>{const xe=Qw(e);delete xe.onTransitionEnter,delete xe.onTransitionExited;const le=te({},xe,ue);return te({role:"presentation"},le,{onKeyDown:ie(le),ref:C})},getBackdropProps:(ue={})=>{const xe=ue;return te({"aria-hidden":!0},xe,{onClick:ge(xe),open:g})},getTransitionProps:()=>{const ue=()=>{A(!1),s&&s()},xe=()=>{A(!0),a&&a(),o&&J()};return{onEnter:xM(ue,f==null?void 0:f.props.onEnter),onExited:xM(xe,f==null?void 0:f.props.onExited)}},rootRef:C,portalRef:X,isTopModal:q,exited:O,hasTransition:M}}function Que(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:o}=e,s=U.useRef();U.useEffect(()=>{if(!i)return;function A(M){M.defaultPrevented||(M.key==="Escape"||M.key==="Esc")&&(r==null||r(M,"escapeKeyDown"))}return document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}},[i,r]);const a=bl((A,M)=>{r==null||r(A,M)}),f=bl(A=>{!r||A==null||(clearTimeout(s.current),s.current=setTimeout(()=>{a(null,"timeout")},A))});U.useEffect(()=>(i&&f(t),()=>{clearTimeout(s.current)}),[i,t,f]);const h=A=>{r==null||r(A,"clickaway")},g=()=>{clearTimeout(s.current)},y=U.useCallback(()=>{t!=null&&f(o??t*.5)},[t,o,f]),x=A=>M=>{const I=A.onBlur;I==null||I(M),y()},T=A=>M=>{const I=A.onFocus;I==null||I(M),g()},E=A=>M=>{const I=A.onMouseEnter;I==null||I(M),g()},C=A=>M=>{const I=A.onMouseLeave;I==null||I(M),y()};return U.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",y),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",y),window.removeEventListener("blur",g)}},[n,y,i]),{getRootProps:(A={})=>{const M=te({},Qw(e),Qw(A));return te({role:"presentation"},A,M,{onBlur:x(M),onFocus:T(M),onMouseEnter:E(M),onMouseLeave:C(M)})},onClickAway:h}}const ede=["onChange","maxRows","minRows","style","value"];function s1(e){return parseInt(e,10)||0}const tde={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function x3(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflow}const nde=U.forwardRef(function(t,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a}=t,f=bt(t,ede),{current:h}=U.useRef(a!=null),g=U.useRef(null),y=ui(n,g),x=U.useRef(null),T=U.useRef(0),[E,C]=U.useState({outerHeightStyle:0}),O=U.useCallback(()=>{const N=g.current,D=Bd(N).getComputedStyle(N);if(D.width==="0px")return{outerHeightStyle:0};const F=x.current;F.style.width=D.width,F.value=N.value||t.placeholder||"x",F.value.slice(-1)===`
`&&(F.value+=" ");const q=D.boxSizing,X=s1(D.paddingBottom)+s1(D.paddingTop),J=s1(D.borderBottomWidth)+s1(D.borderTopWidth),ie=F.scrollHeight;F.value="x";const ge=F.scrollHeight;let Ce=ie;o&&(Ce=Math.max(Number(o)*ge,Ce)),i&&(Ce=Math.min(Number(i)*ge,Ce)),Ce=Math.max(Ce,ge);const fe=Ce+(q==="border-box"?X+J:0),ce=Math.abs(Ce-ie)<=1;return{outerHeightStyle:fe,overflow:ce}},[i,o,t.placeholder]),A=(N,$)=>{const{outerHeightStyle:D,overflow:F}=$;return T.current<20&&(D>0&&Math.abs((N.outerHeightStyle||0)-D)>1||N.overflow!==F)?(T.current+=1,{overflow:F,outerHeightStyle:D}):N},M=U.useCallback(()=>{const N=O();x3(N)||C($=>A($,N))},[O]);zs(()=>{const N=()=>{const ie=O();x3(ie)||_u.flushSync(()=>{C(ge=>A(ge,ie))})},$=()=>{T.current=0,N()};let D;const F=B$($),q=g.current,X=Bd(q);X.addEventListener("resize",F);let J;return typeof ResizeObserver<"u"&&(J=new ResizeObserver($),J.observe(q)),()=>{F.clear(),cancelAnimationFrame(D),X.removeEventListener("resize",F),J&&J.disconnect()}},[O]),zs(()=>{M()}),U.useEffect(()=>{T.current=0},[a]);const I=N=>{T.current=0,h||M(),r&&r(N)};return L.jsxs(U.Fragment,{children:[L.jsx("textarea",te({value:a,onChange:I,ref:y,rows:o,style:te({height:E.outerHeightStyle,overflow:E.overflow?"hidden":void 0},s)},f)),L.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:x,tabIndex:-1,style:te({},tde.shadow,s,{paddingTop:0,paddingBottom:0})})]})}),rde=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],ide=pt(Vue,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ode=U.forwardRef(function(t,n){var r;const i=J$(),o=rn({props:t,name:"MuiPopper"}),{anchorEl:s,component:a,components:f,componentsProps:h,container:g,disablePortal:y,keepMounted:x,modifiers:T,open:E,placement:C,popperOptions:O,popperRef:A,transition:M,slots:I,slotProps:N}=o,$=bt(o,rde),D=(r=I==null?void 0:I.root)!=null?r:f==null?void 0:f.Root,F=te({anchorEl:s,container:g,disablePortal:y,keepMounted:x,modifiers:T,open:E,placement:C,popperOptions:O,popperRef:A,transition:M},$);return L.jsx(ide,te({as:a,direction:i==null?void 0:i.direction,slots:{root:D},slotProps:N??h},F,{ref:n}))}),W9=ode;function Ch({props:e,states:t,muiFormControl:n}){return t.reduce((r,i)=>(r[i]=e[i],n&&typeof e[i]>"u"&&(r[i]=n[i]),r),{})}const ade=U.createContext(void 0),wC=ade;function Cu(){return U.useContext(wC)}function q9(e){return L.jsx(Lae,te({},e,{defaultTheme:xC,themeId:ph}))}function b3(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function tS(e,t=!1){return e&&(b3(e.value)&&e.value!==""||t&&b3(e.defaultValue)&&e.defaultValue!=="")}function sde(e){return e.startAdornment}function lde(e){return en("MuiInputBase",e)}const cde=tn("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),qm=cde,ude=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],SC=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${ft(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},CC=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},dde=e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:f,hiddenLabel:h,multiline:g,readOnly:y,size:x,startAdornment:T,type:E}=e,C={root:["root",`color${ft(n)}`,r&&"disabled",i&&"error",f&&"fullWidth",s&&"focused",a&&"formControl",x&&x!=="medium"&&`size${ft(x)}`,g&&"multiline",T&&"adornedStart",o&&"adornedEnd",h&&"hiddenLabel",y&&"readOnly"],input:["input",r&&"disabled",E==="search"&&"inputTypeSearch",g&&"inputMultiline",x==="small"&&"inputSizeSmall",h&&"inputHiddenLabel",T&&"inputAdornedStart",o&&"inputAdornedEnd",y&&"readOnly"]};return nn(C,lde,t)},kC=pt("div",{name:"MuiInputBase",slot:"Root",overridesResolver:SC})(({theme:e,ownerState:t})=>te({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${qm.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&te({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),TC=pt("input",{name:"MuiInputBase",slot:"Input",overridesResolver:CC})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",r=te({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),i={opacity:"0 !important"},o=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return te({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${qm.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${qm.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),fde=L.jsx(q9,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),hde=U.forwardRef(function(t,n){var r;const i=rn({props:t,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:f,components:h={},componentsProps:g={},defaultValue:y,disabled:x,disableInjectingGlobalStyles:T,endAdornment:E,fullWidth:C=!1,id:O,inputComponent:A="input",inputProps:M={},inputRef:I,maxRows:N,minRows:$,multiline:D=!1,name:F,onBlur:q,onChange:X,onClick:J,onFocus:ie,onKeyDown:ge,onKeyUp:Ce,placeholder:fe,readOnly:ce,renderSuffix:ue,rows:xe,slotProps:le={},slots:Pe={},startAdornment:je,type:Qe="text",value:We}=i,Ke=bt(i,ude),nt=M.value!=null?M.value:We,{current:mt}=U.useRef(nt!=null),st=U.useRef(),Nt=U.useCallback(Rn=>{},[]),Mt=ui(st,I,M.ref,Nt),[He,ct]=U.useState(!1),ut=Cu(),Ve=Ch({props:i,muiFormControl:ut,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ve.focused=ut?ut.focused:He,U.useEffect(()=>{!ut&&x&&He&&(ct(!1),q&&q())},[ut,x,He,q]);const Tt=ut&&ut.onFilled,Pt=ut&&ut.onEmpty,Vt=U.useCallback(Rn=>{tS(Rn)?Tt&&Tt():Pt&&Pt()},[Tt,Pt]);zs(()=>{mt&&Vt({value:nt})},[nt,Vt,mt]);const gn=Rn=>{if(Ve.disabled){Rn.stopPropagation();return}ie&&ie(Rn),M.onFocus&&M.onFocus(Rn),ut&&ut.onFocus?ut.onFocus(Rn):ct(!0)},bn=Rn=>{q&&q(Rn),M.onBlur&&M.onBlur(Rn),ut&&ut.onBlur?ut.onBlur(Rn):ct(!1)},_n=(Rn,...Kt)=>{if(!mt){const ur=Rn.target||st.current;if(ur==null)throw new Error(zd(1));Vt({value:ur.value})}M.onChange&&M.onChange(Rn,...Kt),X&&X(Rn,...Kt)};U.useEffect(()=>{Vt(st.current)},[]);const rr=Rn=>{st.current&&Rn.currentTarget===Rn.target&&st.current.focus(),J&&J(Rn)};let ze=A,an=M;D&&ze==="input"&&(xe?an=te({type:void 0,minRows:xe,maxRows:xe},an):an=te({type:void 0,maxRows:N,minRows:$},an),ze=nde);const Mn=Rn=>{Vt(Rn.animationName==="mui-auto-fill-cancel"?st.current:{value:"x"})};U.useEffect(()=>{ut&&ut.setAdornedStart(!!je)},[ut,je]);const on=te({},i,{color:Ve.color||"primary",disabled:Ve.disabled,endAdornment:E,error:Ve.error,focused:Ve.focused,formControl:ut,fullWidth:C,hiddenLabel:Ve.hiddenLabel,multiline:D,size:Ve.size,startAdornment:je,type:Qe}),$t=dde(on),Vn=Pe.root||h.Root||kC,ir=le.root||g.root||{},Tr=Pe.input||h.Input||TC;return an=te({},an,(r=le.input)!=null?r:g.input),L.jsxs(U.Fragment,{children:[!T&&fde,L.jsxs(Vn,te({},ir,!Jw(Vn)&&{ownerState:te({},on,ir.ownerState)},{ref:n,onClick:rr},Ke,{className:at($t.root,ir.className,f,ce&&"MuiInputBase-readOnly"),children:[je,L.jsx(wC.Provider,{value:null,children:L.jsx(Tr,te({ownerState:on,"aria-invalid":Ve.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:y,disabled:Ve.disabled,id:O,onAnimationStart:Mn,name:F,placeholder:fe,readOnly:ce,required:Ve.required,rows:xe,value:nt,onKeyDown:ge,onKeyUp:Ce,type:Qe},an,!Jw(Tr)&&{as:ze,ownerState:te({},on,an.ownerState)},{ref:Mt,className:at($t.input,an.className,ce&&"MuiInputBase-readOnly"),onBlur:bn,onChange:_n,onFocus:gn}))}),E,ue?ue(te({},Ve,{startAdornment:je})):null]}))]})}),mR=hde;function pde(e){return en("MuiInput",e)}const mde=te({},qm,tn("MuiInput",["root","underline","input"])),pv=mde;function gde(e){return en("MuiOutlinedInput",e)}const yde=te({},qm,tn("MuiOutlinedInput",["root","notchedOutline","input"])),Qu=yde;function vde(e){return en("MuiFilledInput",e)}const xde=te({},qm,tn("MuiFilledInput",["root","underline","input"])),kf=xde,bde=rR(L.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),_de=rR(L.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function wde(e){return en("MuiAvatar",e)}tn("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Sde=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],Cde=e=>{const{classes:t,variant:n,colorDefault:r}=e;return nn({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},wde,t)},kde=pt("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})(({theme:e,ownerState:t})=>te({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.variant==="square"&&{borderRadius:0},t.colorDefault&&te({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600]}))),Tde=pt("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Pde=pt(_de,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});function Ede({crossOrigin:e,referrerPolicy:t,src:n,srcSet:r}){const[i,o]=U.useState(!1);return U.useEffect(()=>{if(!n&&!r)return;o(!1);let s=!0;const a=new Image;return a.onload=()=>{s&&o("loaded")},a.onerror=()=>{s&&o("error")},a.crossOrigin=e,a.referrerPolicy=t,a.src=n,r&&(a.srcset=r),()=>{s=!1}},[e,t,n,r]),i}const Ode=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:a="div",imgProps:f,sizes:h,src:g,srcSet:y,variant:x="circular"}=r,T=bt(r,Sde);let E=null;const C=Ede(te({},f,{src:g,srcSet:y})),O=g||y,A=O&&C!=="error",M=te({},r,{colorDefault:!A,component:a,variant:x}),I=Cde(M);return A?E=L.jsx(Tde,te({alt:i,srcSet:y,src:g,sizes:h,ownerState:M,className:I.img},f)):o!=null?E=o:O&&i?E=i[0]:E=L.jsx(Pde,{ownerState:M,className:I.fallback}),L.jsx(kde,te({as:a,ownerState:M,className:at(I.root,s),ref:n},T,{children:E}))}),Mde=Ode,Ade=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Ide={entering:{opacity:1},entered:{opacity:1}},$de=U.forwardRef(function(t,n){const r=wu(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:f,in:h,onEnter:g,onEntered:y,onEntering:x,onExit:T,onExited:E,onExiting:C,style:O,timeout:A=i,TransitionComponent:M=iR}=t,I=bt(t,Ade),N=U.useRef(null),$=ui(N,a.ref,n),D=fe=>ce=>{if(fe){const ue=N.current;ce===void 0?fe(ue):fe(ue,ce)}},F=D(x),q=D((fe,ce)=>{A9(fe);const ue=Bm({style:O,timeout:A,easing:f},{mode:"enter"});fe.style.webkitTransition=r.transitions.create("opacity",ue),fe.style.transition=r.transitions.create("opacity",ue),g&&g(fe,ce)}),X=D(y),J=D(C),ie=D(fe=>{const ce=Bm({style:O,timeout:A,easing:f},{mode:"exit"});fe.style.webkitTransition=r.transitions.create("opacity",ce),fe.style.transition=r.transitions.create("opacity",ce),T&&T(fe)}),ge=D(E),Ce=fe=>{o&&o(N.current,fe)};return L.jsx(M,te({appear:s,in:h,nodeRef:N,onEnter:q,onEntered:X,onEntering:F,onExit:ie,onExited:ge,onExiting:J,addEndListener:Ce,timeout:A},I,{children:(fe,ce)=>U.cloneElement(a,te({style:te({opacity:0,visibility:fe==="exited"&&!h?"hidden":void 0},Ide[fe],O,a.props.style),ref:$},ce))}))}),Rde=$de;function Dde(e){return en("MuiBackdrop",e)}tn("MuiBackdrop",["root","invisible"]);const Lde=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],jde=e=>{const{classes:t,invisible:n}=e;return nn({root:["root",n&&"invisible"]},Dde,t)},Nde=pt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>te({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),zde=U.forwardRef(function(t,n){var r,i,o;const s=rn({props:t,name:"MuiBackdrop"}),{children:a,className:f,component:h="div",components:g={},componentsProps:y={},invisible:x=!1,open:T,slotProps:E={},slots:C={},TransitionComponent:O=Rde,transitionDuration:A}=s,M=bt(s,Lde),I=te({},s,{component:h,invisible:x}),N=jde(I),$=(r=E.root)!=null?r:y.root;return L.jsx(O,te({in:T,timeout:A},M,{children:L.jsx(Nde,te({"aria-hidden":!0},$,{as:(i=(o=C.root)!=null?o:g.Root)!=null?i:h,className:at(N.root,f,$==null?void 0:$.className),ownerState:te({},I,$==null?void 0:$.ownerState),classes:N,ref:n,children:a}))}))}),Bde=zde;function Fde(e){return en("MuiBadge",e)}const Ude=tn("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),ed=Ude,Vde=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],WP=10,qP=4,Wde=e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:i,variant:o,classes:s={}}=e,a={root:["root"],badge:["badge",o,r&&"invisible",`anchorOrigin${ft(n.vertical)}${ft(n.horizontal)}`,`anchorOrigin${ft(n.vertical)}${ft(n.horizontal)}${ft(i)}`,`overlap${ft(i)}`,t!=="default"&&`color${ft(t)}`]};return nn(a,Fde,s)},qde=pt("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Hde=pt("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${ft(n.anchorOrigin.vertical)}${ft(n.anchorOrigin.horizontal)}${ft(n.overlap)}`],n.color!=="default"&&t[`color${ft(n.color)}`],n.invisible&&t.invisible]}})(({theme:e,ownerState:t})=>te({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:WP*2,lineHeight:1,padding:"0 6px",height:WP*2,borderRadius:WP,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.variant==="dot"&&{borderRadius:qP,height:qP*2,minWidth:qP*2,padding:0},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${ed.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${ed.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${ed.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${ed.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${ed.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${ed.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${ed.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${ed.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.invisible&&{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})})),Gde=U.forwardRef(function(t,n){var r,i,o,s,a,f;const h=rn({props:t,name:"MuiBadge"}),{anchorOrigin:g={vertical:"top",horizontal:"right"},className:y,component:x,components:T={},componentsProps:E={},children:C,overlap:O="rectangular",color:A="default",invisible:M=!1,max:I=99,badgeContent:N,slots:$,slotProps:D,showZero:F=!1,variant:q="standard"}=h,X=bt(h,Vde),{badgeContent:J,invisible:ie,max:ge,displayValue:Ce}=vce({max:I,invisible:M,badgeContent:N,showZero:F}),fe=o9({anchorOrigin:g,color:A,overlap:O,variant:q,badgeContent:N}),ce=ie||J==null&&q!=="dot",{color:ue=A,overlap:xe=O,anchorOrigin:le=g,variant:Pe=q}=ce?fe:h,je=Pe!=="dot"?Ce:void 0,Qe=te({},h,{badgeContent:J,invisible:ce,max:ge,displayValue:je,showZero:F,anchorOrigin:le,color:ue,overlap:xe,variant:Pe}),We=Wde(Qe),Ke=(r=(i=$==null?void 0:$.root)!=null?i:T.Root)!=null?r:qde,nt=(o=(s=$==null?void 0:$.badge)!=null?s:T.Badge)!=null?o:Hde,mt=(a=D==null?void 0:D.root)!=null?a:E.root,st=(f=D==null?void 0:D.badge)!=null?f:E.badge,Nt=cc({elementType:Ke,externalSlotProps:mt,externalForwardedProps:X,additionalProps:{ref:n,as:x},ownerState:Qe,className:at(mt==null?void 0:mt.className,We.root,y)}),Mt=cc({elementType:nt,externalSlotProps:st,ownerState:Qe,className:at(We.badge,st==null?void 0:st.className)});return L.jsxs(Ke,te({},Nt,{children:[C,L.jsx(nt,te({},Mt,{children:je}))]}))}),Yde=Gde;function Kde(e){return en("MuiBottomNavigation",e)}tn("MuiBottomNavigation",["root"]);const Zde=["children","className","component","onChange","showLabels","value"],Xde=e=>{const{classes:t}=e;return nn({root:["root"]},Kde,t)},Jde=pt("div",{name:"MuiBottomNavigation",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"flex",justifyContent:"center",height:56,backgroundColor:(e.vars||e).palette.background.paper})),Qde=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiBottomNavigation"}),{children:i,className:o,component:s="div",onChange:a,showLabels:f=!1,value:h}=r,g=bt(r,Zde),y=te({},r,{component:s,showLabels:f}),x=Xde(y);return L.jsx(Jde,te({as:s,className:at(x.root,o),ref:n,ownerState:y},g,{children:U.Children.map(i,(T,E)=>{if(!U.isValidElement(T))return null;const C=T.props.value===void 0?E:T.props.value;return U.cloneElement(T,{selected:C===h,showLabel:T.props.showLabel!==void 0?T.props.showLabel:f,value:C,onChange:a})})}))}),efe=Qde;function tfe(e){return en("MuiBottomNavigationAction",e)}const H9=tn("MuiBottomNavigationAction",["root","iconOnly","selected","label"]),nfe=["className","icon","label","onChange","onClick","selected","showLabel","value"],rfe=e=>{const{classes:t,showLabel:n,selected:r}=e;return nn({root:["root",!n&&!r&&"iconOnly",r&&"selected"],label:["label",!n&&!r&&"iconOnly",r&&"selected"]},tfe,t)},ife=pt(Sh,{name:"MuiBottomNavigationAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.showLabel&&!n.selected&&t.iconOnly]}})(({theme:e,ownerState:t})=>te({transition:e.transitions.create(["color","padding-top"],{duration:e.transitions.duration.short}),padding:"0px 12px",minWidth:80,maxWidth:168,color:(e.vars||e).palette.text.secondary,flexDirection:"column",flex:"1"},!t.showLabel&&!t.selected&&{paddingTop:14},!t.showLabel&&!t.selected&&!t.label&&{paddingTop:0},{[`&.${H9.selected}`]:{color:(e.vars||e).palette.primary.main}})),ofe=pt("span",{name:"MuiBottomNavigationAction",slot:"Label",overridesResolver:(e,t)=>t.label})(({theme:e,ownerState:t})=>te({fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(12),opacity:1,transition:"font-size 0.2s, opacity 0.2s",transitionDelay:"0.1s"},!t.showLabel&&!t.selected&&{opacity:0,transitionDelay:"0s"},{[`&.${H9.selected}`]:{fontSize:e.typography.pxToRem(14)}})),afe=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiBottomNavigationAction"}),{className:i,icon:o,label:s,onChange:a,onClick:f,value:h}=r,g=bt(r,nfe),y=r,x=rfe(y),T=E=>{a&&a(E,h),f&&f(E)};return L.jsxs(ife,te({ref:n,className:at(x.root,i),focusRipple:!0,onClick:T,ownerState:y},g,{children:[o,L.jsx(ofe,{className:x.label,ownerState:y,children:s})]}))}),l1=afe,sfe=nR(),lfe=Bae({themeId:ph,defaultTheme:sfe,defaultClassName:"MuiBox-root",generateClassName:U$.generate}),Za=lfe;function cfe(e){return en("MuiButton",e)}const ufe=tn("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),c1=ufe,dfe=U.createContext({}),G9=dfe,ffe=U.createContext(void 0),Y9=ffe,hfe=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],pfe=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=e,a={root:["root",o,`${o}${ft(t)}`,`size${ft(i)}`,`${o}Size${ft(i)}`,t==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${ft(i)}`],endIcon:["endIcon",`iconSize${ft(i)}`]},f=nn(a,cfe,s);return te({},s,f)},K9=e=>te({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),mfe=pt(Sh,{shouldForwardProp:e=>Ra(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${ft(n.color)}`],t[`size${ft(n.size)}`],t[`${n.variant}Size${ft(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const i=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],o=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return te({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":te({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Or(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Or(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Or(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":te({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${c1.focusVisible}`]:te({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${c1.disabled}`]:te({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${Or(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:i,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${c1.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${c1.disabled}`]:{boxShadow:"none"}}),gfe=pt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${ft(n.size)}`]]}})(({ownerState:e})=>te({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},K9(e))),yfe=pt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${ft(n.size)}`]]}})(({ownerState:e})=>te({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},K9(e))),vfe=U.forwardRef(function(t,n){const r=U.useContext(G9),i=U.useContext(Y9),o=F$(r,t),s=rn({props:o,name:"MuiButton"}),{children:a,color:f="primary",component:h="button",className:g,disabled:y=!1,disableElevation:x=!1,disableFocusRipple:T=!1,endIcon:E,focusVisibleClassName:C,fullWidth:O=!1,size:A="medium",startIcon:M,type:I,variant:N="text"}=s,$=bt(s,hfe),D=te({},s,{color:f,component:h,disabled:y,disableElevation:x,disableFocusRipple:T,fullWidth:O,size:A,type:I,variant:N}),F=pfe(D),q=M&&L.jsx(gfe,{className:F.startIcon,ownerState:D,children:M}),X=E&&L.jsx(yfe,{className:F.endIcon,ownerState:D,children:E}),J=i||"";return L.jsxs(mfe,te({ownerState:D,className:at(r.className,F.root,g,J),component:h,disabled:y,focusRipple:!T,focusVisibleClassName:at(F.focusVisible,C),ref:n,type:I},$,{classes:F,children:[q,a,X]}))}),mr=vfe;function xfe(e){return en("MuiButtonGroup",e)}const go=tn("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),bfe=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],_fe=(e,t)=>{const{ownerState:n}=e;return[{[`& .${go.grouped}`]:t.grouped},{[`& .${go.grouped}`]:t[`grouped${ft(n.orientation)}`]},{[`& .${go.grouped}`]:t[`grouped${ft(n.variant)}`]},{[`& .${go.grouped}`]:t[`grouped${ft(n.variant)}${ft(n.orientation)}`]},{[`& .${go.grouped}`]:t[`grouped${ft(n.variant)}${ft(n.color)}`]},{[`& .${go.firstButton}`]:t.firstButton},{[`& .${go.lastButton}`]:t.lastButton},{[`& .${go.middleButton}`]:t.middleButton},t.root,t[n.variant],n.disableElevation===!0&&t.disableElevation,n.fullWidth&&t.fullWidth,n.orientation==="vertical"&&t.vertical]},wfe=e=>{const{classes:t,color:n,disabled:r,disableElevation:i,fullWidth:o,orientation:s,variant:a}=e,f={root:["root",a,s==="vertical"&&"vertical",o&&"fullWidth",i&&"disableElevation"],grouped:["grouped",`grouped${ft(s)}`,`grouped${ft(a)}`,`grouped${ft(a)}${ft(s)}`,`grouped${ft(a)}${ft(n)}`,r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return nn(f,xfe,t)},Sfe=pt("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:_fe})(({theme:e,ownerState:t})=>te({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${go.grouped}`]:te({minWidth:40,"&:hover":te({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"}),[`& .${go.firstButton},& .${go.middleButton}`]:te({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${go.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${go.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:Or(e.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${go.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${go.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":te({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${go.lastButton},& .${go.middleButton}`]:te({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1})})),Cfe=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiButtonGroup"}),{children:i,className:o,color:s="primary",component:a="div",disabled:f=!1,disableElevation:h=!1,disableFocusRipple:g=!1,disableRipple:y=!1,fullWidth:x=!1,orientation:T="horizontal",size:E="medium",variant:C="outlined"}=r,O=bt(r,bfe),A=te({},r,{color:s,component:a,disabled:f,disableElevation:h,disableFocusRipple:g,disableRipple:y,fullWidth:x,orientation:T,size:E,variant:C}),M=wfe(A),I=U.useMemo(()=>({className:M.grouped,color:s,disabled:f,disableElevation:h,disableFocusRipple:g,disableRipple:y,fullWidth:x,size:E,variant:C}),[s,f,h,g,y,x,E,C,M.grouped]),N=zie(i),$=N.length,D=F=>{const q=F===0,X=F===$-1;return q&&X?"":q?M.firstButton:X?M.lastButton:M.middleButton};return L.jsx(Sfe,te({as:a,role:"group",className:at(M.root,o),ref:n,ownerState:A},O,{children:L.jsx(G9.Provider,{value:I,children:N.map((F,q)=>L.jsx(Y9.Provider,{value:D(q),children:F},q))})}))}),kfe=Cfe;function Tfe(e){return en("MuiCard",e)}tn("MuiCard",["root"]);const Pfe=["className","raised"],Efe=e=>{const{classes:t}=e;return nn({root:["root"]},Tfe,t)},Ofe=pt(la,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),Mfe=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiCard"}),{className:i,raised:o=!1}=r,s=bt(r,Pfe),a=te({},r,{raised:o}),f=Efe(a);return L.jsx(Ofe,te({className:at(f.root,i),elevation:o?8:void 0,ref:n,ownerState:a},s))}),ku=Mfe;function Afe(e){return en("MuiCardActions",e)}tn("MuiCardActions",["root","spacing"]);const Ife=["disableSpacing","className"],$fe=e=>{const{classes:t,disableSpacing:n}=e;return nn({root:["root",!n&&"spacing"]},Afe,t)},Rfe=pt("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>te({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),Dfe=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiCardActions"}),{disableSpacing:i=!1,className:o}=r,s=bt(r,Ife),a=te({},r,{disableSpacing:i}),f=$fe(a);return L.jsx(Rfe,te({className:at(f.root,o),ownerState:a,ref:n},s))}),Z9=Dfe;function Lfe(e){return en("MuiCardContent",e)}tn("MuiCardContent",["root"]);const jfe=["className","component"],Nfe=e=>{const{classes:t}=e;return nn({root:["root"]},Lfe,t)},zfe=pt("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Bfe=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiCardContent"}),{className:i,component:o="div"}=r,s=bt(r,jfe),a=te({},r,{component:o}),f=Nfe(a);return L.jsx(zfe,te({as:o,className:at(f.root,i),ownerState:a,ref:n},s))}),gR=Bfe;function Ffe(e){return en("MuiCardMedia",e)}tn("MuiCardMedia",["root","media","img"]);const Ufe=["children","className","component","image","src","style"],Vfe=e=>{const{classes:t,isMediaComponent:n,isImageComponent:r}=e;return nn({root:["root",n&&"media",r&&"img"]},Ffe,t)},Wfe=pt("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{isMediaComponent:r,isImageComponent:i}=n;return[t.root,r&&t.media,i&&t.img]}})(({ownerState:e})=>te({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),qfe=["video","audio","picture","iframe","img"],Hfe=["picture","img"],Gfe=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiCardMedia"}),{children:i,className:o,component:s="div",image:a,src:f,style:h}=r,g=bt(r,Ufe),y=qfe.indexOf(s)!==-1,x=!y&&a?te({backgroundImage:`url("${a}")`},h):h,T=te({},r,{component:s,isMediaComponent:y,isImageComponent:Hfe.indexOf(s)!==-1}),E=Vfe(T);return L.jsx(Wfe,te({className:at(E.root,o),as:s,role:!y&&a?"img":void 0,ref:n,style:x,ownerState:T,src:y?a||f:void 0},g,{children:i}))}),Yfe=Gfe;function Kfe(e){return en("PrivateSwitchBase",e)}tn("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Zfe=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],Xfe=e=>{const{classes:t,checked:n,disabled:r,edge:i}=e,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${ft(i)}`],input:["input"]};return nn(o,Kfe,t)},Jfe=pt(Sh)(({ownerState:e})=>te({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),Qfe=pt("input",{shouldForwardProp:Ra})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),ehe=U.forwardRef(function(t,n){const{autoFocus:r,checked:i,checkedIcon:o,className:s,defaultChecked:a,disabled:f,disableFocusRipple:h=!1,edge:g=!1,icon:y,id:x,inputProps:T,inputRef:E,name:C,onBlur:O,onChange:A,onFocus:M,readOnly:I,required:N=!1,tabIndex:$,type:D,value:F}=t,q=bt(t,Zfe),[X,J]=jm({controlled:i,default:!!a,name:"SwitchBase",state:"checked"}),ie=Cu(),ge=Pe=>{M&&M(Pe),ie&&ie.onFocus&&ie.onFocus(Pe)},Ce=Pe=>{O&&O(Pe),ie&&ie.onBlur&&ie.onBlur(Pe)},fe=Pe=>{if(Pe.nativeEvent.defaultPrevented)return;const je=Pe.target.checked;J(je),A&&A(Pe,je)};let ce=f;ie&&typeof ce>"u"&&(ce=ie.disabled);const ue=D==="checkbox"||D==="radio",xe=te({},t,{checked:X,disabled:ce,disableFocusRipple:h,edge:g}),le=Xfe(xe);return L.jsxs(Jfe,te({component:"span",className:at(le.root,s),centerRipple:!0,focusRipple:!h,disabled:ce,tabIndex:null,role:void 0,onFocus:ge,onBlur:Ce,ownerState:xe,ref:n},q,{children:[L.jsx(Qfe,te({autoFocus:r,checked:i,defaultChecked:a,className:le.input,disabled:ce,id:ue?x:void 0,name:C,onChange:fe,readOnly:I,ref:E,required:N,ownerState:xe,tabIndex:$,type:D},D==="checkbox"&&F===void 0?{}:{value:F},T)),X?o:y]}))}),the=ehe,nhe=hse({createStyledComponent:pt("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${ft(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>rn({props:e,name:"MuiContainer"})}),yR=nhe,rhe=(e,t)=>te({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),ihe=e=>te({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),ohe=(e,t=!1)=>{var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([s,a])=>{var f;r[e.getColorSchemeSelector(s).replace(/\s*&/,"")]={colorScheme:(f=a.palette)==null?void 0:f.mode}});let i=te({html:rhe(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:te({margin:0},ihe(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const o=(n=e.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return o&&(i=[i,o]),i};function ahe(e){const t=rn({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return L.jsxs(U.Fragment,{children:[L.jsx(q9,{styles:i=>ohe(i,r)}),n]})}function she(e){return en("MuiModal",e)}tn("MuiModal",["root","hidden","backdrop"]);const lhe=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],che=e=>{const{open:t,exited:n,classes:r}=e;return nn({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},she,r)},uhe=pt("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>te({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),dhe=pt(Bde,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),fhe=U.forwardRef(function(t,n){var r,i,o,s,a,f;const h=rn({name:"MuiModal",props:t}),{BackdropComponent:g=dhe,BackdropProps:y,className:x,closeAfterTransition:T=!1,children:E,container:C,component:O,components:A={},componentsProps:M={},disableAutoFocus:I=!1,disableEnforceFocus:N=!1,disableEscapeKeyDown:$=!1,disablePortal:D=!1,disableRestoreFocus:F=!1,disableScrollLock:q=!1,hideBackdrop:X=!1,keepMounted:J=!1,onBackdropClick:ie,open:ge,slotProps:Ce,slots:fe}=h,ce=bt(h,lhe),ue=te({},h,{closeAfterTransition:T,disableAutoFocus:I,disableEnforceFocus:N,disableEscapeKeyDown:$,disablePortal:D,disableRestoreFocus:F,disableScrollLock:q,hideBackdrop:X,keepMounted:J}),{getRootProps:xe,getBackdropProps:le,getTransitionProps:Pe,portalRef:je,isTopModal:Qe,exited:We,hasTransition:Ke}=Jue(te({},ue,{rootRef:n})),nt=te({},ue,{exited:We}),mt=che(nt),st={};if(E.props.tabIndex===void 0&&(st.tabIndex="-1"),Ke){const{onEnter:Tt,onExited:Pt}=Pe();st.onEnter=Tt,st.onExited=Pt}const Nt=(r=(i=fe==null?void 0:fe.root)!=null?i:A.Root)!=null?r:uhe,Mt=(o=(s=fe==null?void 0:fe.backdrop)!=null?s:A.Backdrop)!=null?o:g,He=(a=Ce==null?void 0:Ce.root)!=null?a:M.root,ct=(f=Ce==null?void 0:Ce.backdrop)!=null?f:M.backdrop,ut=cc({elementType:Nt,externalSlotProps:He,externalForwardedProps:ce,getSlotProps:xe,additionalProps:{ref:n,as:O},ownerState:nt,className:at(x,He==null?void 0:He.className,mt==null?void 0:mt.root,!nt.open&&nt.exited&&(mt==null?void 0:mt.hidden))}),Ve=cc({elementType:Mt,externalSlotProps:ct,additionalProps:y,getSlotProps:Tt=>le(te({},Tt,{onClick:Pt=>{ie&&ie(Pt),Tt!=null&&Tt.onClick&&Tt.onClick(Pt)}})),className:at(ct==null?void 0:ct.className,y==null?void 0:y.className,mt==null?void 0:mt.backdrop),ownerState:nt});return!J&&!ge&&(!Ke||We)?null:L.jsx(V9,{ref:je,container:C,disablePortal:D,children:L.jsxs(Nt,te({},ut,{children:[!X&&g?L.jsx(Mt,te({},Ve)):null,L.jsx(Pce,{disableEnforceFocus:N,disableAutoFocus:I,disableRestoreFocus:F,isEnabled:Qe,open:ge,children:U.cloneElement(E,st)})]}))})}),hhe=fhe;function phe(e){return en("MuiDivider",e)}const mhe=tn("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),_3=mhe,ghe=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],yhe=e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:f}=e;return nn({root:["root",t&&"absolute",f,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},phe,r)},vhe=pt("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>te({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:Or(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>te({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>te({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`}}),({theme:e,ownerState:t})=>te({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`}}),({ownerState:e})=>te({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),xhe=pt("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>te({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),X9=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,component:a=o?"div":"hr",flexItem:f=!1,light:h=!1,orientation:g="horizontal",role:y=a!=="hr"?"separator":void 0,textAlign:x="center",variant:T="fullWidth"}=r,E=bt(r,ghe),C=te({},r,{absolute:i,component:a,flexItem:f,light:h,orientation:g,role:y,textAlign:x,variant:T}),O=yhe(C);return L.jsx(vhe,te({as:a,className:at(O.root,s),role:y,ref:n,ownerState:C},E,{children:o?L.jsx(xhe,{className:O.wrapper,ownerState:C,children:o}):null}))});X9.muiSkipListHighlight=!0;const rb=X9,bhe=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],_he=e=>{const{classes:t,disableUnderline:n}=e,i=nn({root:["root",!n&&"underline"],input:["input"]},vde,t);return te({},t,i)},whe=pt(kC,{shouldForwardProp:e=>Ra(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...SC(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var n;const r=e.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return te({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o}},[`&.${kf.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o},[`&.${kf.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:a}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(n=(e.vars||e).palette[t.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${kf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${kf.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${kf.disabled}, .${kf.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${kf.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&te({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),She=pt(TC,{name:"MuiFilledInput",slot:"Input",overridesResolver:CC})(({theme:e,ownerState:t})=>te({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),J9=U.forwardRef(function(t,n){var r,i,o,s;const a=rn({props:t,name:"MuiFilledInput"}),{components:f={},componentsProps:h,fullWidth:g=!1,inputComponent:y="input",multiline:x=!1,slotProps:T,slots:E={},type:C="text"}=a,O=bt(a,bhe),A=te({},a,{fullWidth:g,inputComponent:y,multiline:x,type:C}),M=_he(a),I={root:{ownerState:A},input:{ownerState:A}},N=T??h?zo(T??h,I):I,$=(r=(i=E.root)!=null?i:f.Root)!=null?r:whe,D=(o=(s=E.input)!=null?s:f.Input)!=null?o:She;return L.jsx(mR,te({slots:{root:$,input:D},componentsProps:N,fullWidth:g,inputComponent:y,multiline:x,ref:n,type:C},O,{classes:M}))});J9.muiName="Input";const Q9=J9;function Che(e){return en("MuiFormControl",e)}tn("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const khe=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],The=e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root",n!=="none"&&`margin${ft(n)}`,r&&"fullWidth"]};return nn(i,Che,t)},Phe=pt("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>te({},t.root,t[`margin${ft(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>te({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),Ehe=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:f=!1,error:h=!1,focused:g,fullWidth:y=!1,hiddenLabel:x=!1,margin:T="none",required:E=!1,size:C="medium",variant:O="outlined"}=r,A=bt(r,khe),M=te({},r,{color:s,component:a,disabled:f,error:h,fullWidth:y,hiddenLabel:x,margin:T,required:E,size:C,variant:O}),I=The(M),[N,$]=U.useState(()=>{let Ce=!1;return i&&U.Children.forEach(i,fe=>{if(!X1(fe,["Input","Select"]))return;const ce=X1(fe,["Select"])?fe.props.input:fe;ce&&sde(ce.props)&&(Ce=!0)}),Ce}),[D,F]=U.useState(()=>{let Ce=!1;return i&&U.Children.forEach(i,fe=>{X1(fe,["Input","Select"])&&(tS(fe.props,!0)||tS(fe.props.inputProps,!0))&&(Ce=!0)}),Ce}),[q,X]=U.useState(!1);f&&q&&X(!1);const J=g!==void 0&&!f?g:q;let ie;const ge=U.useMemo(()=>({adornedStart:N,setAdornedStart:$,color:s,disabled:f,error:h,filled:D,focused:J,fullWidth:y,hiddenLabel:x,size:C,onBlur:()=>{X(!1)},onEmpty:()=>{F(!1)},onFilled:()=>{F(!0)},onFocus:()=>{X(!0)},registerEffect:ie,required:E,variant:O}),[N,s,f,h,D,J,y,x,ie,E,C,O]);return L.jsx(wC.Provider,{value:ge,children:L.jsx(Phe,te({as:a,ownerState:M,className:at(I.root,o),ref:n},A,{children:i}))})}),ib=Ehe;function Ohe(e){return en("MuiFormGroup",e)}tn("MuiFormGroup",["root","row","error"]);const Mhe=["className","row"],Ahe=e=>{const{classes:t,row:n,error:r}=e;return nn({root:["root",n&&"row",r&&"error"]},Ohe,t)},Ihe=pt("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})(({ownerState:e})=>te({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),$he=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiFormGroup"}),{className:i,row:o=!1}=r,s=bt(r,Mhe),a=Cu(),f=Ch({props:r,muiFormControl:a,states:["error"]}),h=te({},r,{row:o,error:f.error}),g=Ahe(h);return L.jsx(Ihe,te({className:at(g.root,i),ownerState:h,ref:n},s))}),Rhe=$he;function Dhe(e){return en("MuiFormHelperText",e)}const Lhe=tn("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),w3=Lhe;var S3;const jhe=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Nhe=e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:f}=e,h={root:["root",i&&"disabled",o&&"error",r&&`size${ft(r)}`,n&&"contained",a&&"focused",s&&"filled",f&&"required"]};return nn(h,Dhe,t)},zhe=pt("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${ft(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(({theme:e,ownerState:t})=>te({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${w3.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${w3.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),Bhe=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p"}=r,a=bt(r,jhe),f=Cu(),h=Ch({props:r,muiFormControl:f,states:["variant","size","disabled","error","filled","focused","required"]}),g=te({},r,{component:s,contained:h.variant==="filled"||h.variant==="outlined",variant:h.variant,size:h.size,disabled:h.disabled,error:h.error,filled:h.filled,focused:h.focused,required:h.required}),y=Nhe(g);return L.jsx(zhe,te({as:s,ownerState:g,className:at(y.root,o),ref:n},a,{children:i===" "?S3||(S3=L.jsx("span",{className:"notranslate",children:""})):i}))}),Fhe=Bhe;function Uhe(e){return en("MuiFormLabel",e)}const Vhe=tn("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),d0=Vhe,Whe=["children","className","color","component","disabled","error","filled","focused","required"],qhe=e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=e,f={root:["root",`color${ft(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return nn(f,Uhe,t)},Hhe=pt("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>te({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>te({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${d0.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${d0.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${d0.error}`]:{color:(e.vars||e).palette.error.main}})),Ghe=pt("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${d0.error}`]:{color:(e.vars||e).palette.error.main}})),Yhe=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiFormLabel"}),{children:i,className:o,component:s="label"}=r,a=bt(r,Whe),f=Cu(),h=Ch({props:r,muiFormControl:f,states:["color","required","focused","disabled","error","filled"]}),g=te({},r,{color:h.color||"primary",component:s,disabled:h.disabled,error:h.error,filled:h.filled,focused:h.focused,required:h.required}),y=qhe(g);return L.jsxs(Hhe,te({as:s,ownerState:g,className:at(y.root,o),ref:n},a,{children:[i,h.required&&L.jsxs(Ghe,{ownerState:g,"aria-hidden":!0,className:y.asterisk,children:["","*"]})]}))}),Khe=Yhe,Zhe=U.createContext(),C3=Zhe;function Xhe(e){return en("MuiGrid",e)}const Jhe=[0,1,2,3,4,5,6,7,8,9,10],Qhe=["column-reverse","column","row-reverse","row"],epe=["nowrap","wrap-reverse","wrap"],mv=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Q0=tn("MuiGrid",["root","container","item","zeroMinWidth",...Jhe.map(e=>`spacing-xs-${e}`),...Qhe.map(e=>`direction-xs-${e}`),...epe.map(e=>`wrap-xs-${e}`),...mv.map(e=>`grid-xs-${e}`),...mv.map(e=>`grid-sm-${e}`),...mv.map(e=>`grid-md-${e}`),...mv.map(e=>`grid-lg-${e}`),...mv.map(e=>`grid-xl-${e}`)]),tpe=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function vm(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function npe({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((r,i)=>{let o={};if(t[i]&&(n=t[i]),!n)return r;if(n===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=sC({values:t.columns,breakpoints:e.breakpoints.values}),a=typeof s=="object"?s[i]:s;if(a==null)return r;const f=`${Math.round(n/a*1e8)/1e6}%`;let h={};if(t.container&&t.item&&t.columnSpacing!==0){const g=e.spacing(t.columnSpacing);if(g!=="0px"){const y=`calc(${f} + ${vm(g)})`;h={flexBasis:y,maxWidth:y}}}o=te({flexBasis:f,flexGrow:0,maxWidth:f},h)}return e.breakpoints.values[i]===0?Object.assign(r,o):r[e.breakpoints.up(i)]=o,r},{})}function rpe({theme:e,ownerState:t}){const n=sC({values:t.direction,breakpoints:e.breakpoints.values});return Bs({theme:e},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Q0.item}`]={maxWidth:"none"}),i})}function e7({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(i=>{n===""&&t[i]!==0&&(n=i)});const r=Object.keys(e).sort((i,o)=>e[i]-e[o]);return r.slice(0,r.indexOf(n))}function ipe({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let i={};if(n&&r!==0){const o=sC({values:r,breakpoints:e.breakpoints.values});let s;typeof o=="object"&&(s=e7({breakpoints:e.breakpoints.values,values:o})),i=Bs({theme:e},o,(a,f)=>{var h;const g=e.spacing(a);return g!=="0px"?{marginTop:`-${vm(g)}`,[`& > .${Q0.item}`]:{paddingTop:vm(g)}}:(h=s)!=null&&h.includes(f)?{}:{marginTop:0,[`& > .${Q0.item}`]:{paddingTop:0}}})}return i}function ope({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let i={};if(n&&r!==0){const o=sC({values:r,breakpoints:e.breakpoints.values});let s;typeof o=="object"&&(s=e7({breakpoints:e.breakpoints.values,values:o})),i=Bs({theme:e},o,(a,f)=>{var h;const g=e.spacing(a);return g!=="0px"?{width:`calc(100% + ${vm(g)})`,marginLeft:`-${vm(g)}`,[`& > .${Q0.item}`]:{paddingLeft:vm(g)}}:(h=s)!=null&&h.includes(f)?{}:{width:"100%",marginLeft:0,[`& > .${Q0.item}`]:{paddingLeft:0}}})}return i}function ape(e,t,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(i=>{const o=e[i];Number(o)>0&&r.push(n[`spacing-${i}-${String(o)}`])}),r}const spe=pt("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:f,breakpoints:h}=n;let g=[];r&&(g=ape(s,h,t));const y=[];return h.forEach(x=>{const T=n[x];T&&y.push(t[`grid-${x}-${String(T)}`])}),[t.root,r&&t.container,o&&t.item,f&&t.zeroMinWidth,...g,i!=="row"&&t[`direction-xs-${String(i)}`],a!=="wrap"&&t[`wrap-xs-${String(a)}`],...y]}})(({ownerState:e})=>te({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),rpe,ipe,ope,npe);function lpe(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(r=>{const i=e[r];if(Number(i)>0){const o=`spacing-${r}-${String(i)}`;n.push(o)}}),n}const cpe=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:f}=e;let h=[];n&&(h=lpe(o,f));const g=[];f.forEach(x=>{const T=e[x];T&&g.push(`grid-${x}-${String(T)}`)});const y={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...h,r!=="row"&&`direction-xs-${String(r)}`,s!=="wrap"&&`wrap-xs-${String(s)}`,...g]};return nn(y,Xhe,t)},upe=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiGrid"}),{breakpoints:i}=wu(),o=Q$(r),{className:s,columns:a,columnSpacing:f,component:h="div",container:g=!1,direction:y="row",item:x=!1,rowSpacing:T,spacing:E=0,wrap:C="wrap",zeroMinWidth:O=!1}=o,A=bt(o,tpe),M=T||E,I=f||E,N=U.useContext(C3),$=g?a||12:N,D={},F=te({},A);i.keys.forEach(J=>{A[J]!=null&&(D[J]=A[J],delete F[J])});const q=te({},o,{columns:$,container:g,direction:y,item:x,rowSpacing:M,columnSpacing:I,wrap:C,zeroMinWidth:O,spacing:E},D,{breakpoints:i.keys}),X=cpe(q);return L.jsx(C3.Provider,{value:$,children:L.jsx(spe,te({ownerState:q,className:at(X.root,s),as:h,ref:n},F))})}),k3=upe,dpe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function $M(e){return`scale(${e}, ${e**2})`}const fpe={entering:{opacity:1,transform:$M(1)},entered:{opacity:1,transform:"none"}},HP=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),t7=U.forwardRef(function(t,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:f,onEntered:h,onEntering:g,onExit:y,onExited:x,onExiting:T,style:E,timeout:C="auto",TransitionComponent:O=iR}=t,A=bt(t,dpe),M=U.useRef(),I=U.useRef(),N=wu(),$=U.useRef(null),D=ui($,o.ref,n),F=ce=>ue=>{if(ce){const xe=$.current;ue===void 0?ce(xe):ce(xe,ue)}},q=F(g),X=F((ce,ue)=>{A9(ce);const{duration:xe,delay:le,easing:Pe}=Bm({style:E,timeout:C,easing:s},{mode:"enter"});let je;C==="auto"?(je=N.transitions.getAutoHeightDuration(ce.clientHeight),I.current=je):je=xe,ce.style.transition=[N.transitions.create("opacity",{duration:je,delay:le}),N.transitions.create("transform",{duration:HP?je:je*.666,delay:le,easing:Pe})].join(","),f&&f(ce,ue)}),J=F(h),ie=F(T),ge=F(ce=>{const{duration:ue,delay:xe,easing:le}=Bm({style:E,timeout:C,easing:s},{mode:"exit"});let Pe;C==="auto"?(Pe=N.transitions.getAutoHeightDuration(ce.clientHeight),I.current=Pe):Pe=ue,ce.style.transition=[N.transitions.create("opacity",{duration:Pe,delay:xe}),N.transitions.create("transform",{duration:HP?Pe:Pe*.666,delay:HP?xe:xe||Pe*.333,easing:le})].join(","),ce.style.opacity=0,ce.style.transform=$M(.75),y&&y(ce)}),Ce=F(x),fe=ce=>{C==="auto"&&(M.current=setTimeout(ce,I.current||0)),r&&r($.current,ce)};return U.useEffect(()=>()=>{clearTimeout(M.current)},[]),L.jsx(O,te({appear:i,in:a,nodeRef:$,onEnter:X,onEntered:J,onEntering:q,onExit:ge,onExited:Ce,onExiting:ie,addEndListener:fe,timeout:C==="auto"?null:C},A,{children:(ce,ue)=>U.cloneElement(o,te({style:te({opacity:0,transform:$M(.75),visibility:ce==="exited"&&!a?"hidden":void 0},fpe[ce],E,o.props.style),ref:D},ue))}))});t7.muiSupportAuto=!0;const nS=t7,hpe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],ppe=e=>{const{classes:t,disableUnderline:n}=e,i=nn({root:["root",!n&&"underline"],input:["input"]},pde,t);return te({},t,i)},mpe=pt(kC,{shouldForwardProp:e=>Ra(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...SC(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),te({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${pv.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${pv.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${pv.disabled}, .${pv.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${pv.disabled}:before`]:{borderBottomStyle:"dotted"}})}),gpe=pt(TC,{name:"MuiInput",slot:"Input",overridesResolver:CC})({}),n7=U.forwardRef(function(t,n){var r,i,o,s;const a=rn({props:t,name:"MuiInput"}),{disableUnderline:f,components:h={},componentsProps:g,fullWidth:y=!1,inputComponent:x="input",multiline:T=!1,slotProps:E,slots:C={},type:O="text"}=a,A=bt(a,hpe),M=ppe(a),N={root:{ownerState:{disableUnderline:f}}},$=E??g?zo(E??g,N):N,D=(r=(i=C.root)!=null?i:h.Root)!=null?r:mpe,F=(o=(s=C.input)!=null?s:h.Input)!=null?o:gpe;return L.jsx(mR,te({slots:{root:D,input:F},slotProps:$,fullWidth:y,inputComponent:x,multiline:T,ref:n,type:O},A,{classes:M}))});n7.muiName="Input";const r7=n7;function ype(e){return en("MuiInputAdornment",e)}const vpe=tn("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),T3=vpe;var P3;const xpe=["children","className","component","disablePointerEvents","disableTypography","position","variant"],bpe=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${ft(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},_pe=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:s}=e,a={root:["root",n&&"disablePointerEvents",i&&`position${ft(i)}`,s,r&&"hiddenLabel",o&&`size${ft(o)}`]};return nn(a,ype,t)},wpe=pt("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:bpe})(({theme:e,ownerState:t})=>te({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},t.variant==="filled"&&{[`&.${T3.positionStart}&:not(.${T3.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),Spe=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiInputAdornment"}),{children:i,className:o,component:s="div",disablePointerEvents:a=!1,disableTypography:f=!1,position:h,variant:g}=r,y=bt(r,xpe),x=Cu()||{};let T=g;g&&x.variant,x&&!T&&(T=x.variant);const E=te({},r,{hiddenLabel:x.hiddenLabel,size:x.size,disablePointerEvents:a,position:h,variant:T}),C=_pe(E);return L.jsx(wC.Provider,{value:null,children:L.jsx(wpe,te({as:s,ownerState:E,className:at(C.root,o),ref:n},y,{children:typeof i=="string"&&!f?L.jsx(pn,{color:"text.secondary",children:i}):L.jsxs(U.Fragment,{children:[h==="start"?P3||(P3=L.jsx("span",{className:"notranslate",children:""})):null,i]})}))})}),Cpe=Spe;function kpe(e){return en("MuiInputLabel",e)}tn("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Tpe=["disableAnimation","margin","shrink","variant","className"],Ppe=e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=e,f={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${ft(r)}`,s],asterisk:[a&&"asterisk"]},h=nn(f,kpe,t);return te({},t,h)},Epe=pt(Khe,{shouldForwardProp:e=>Ra(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${d0.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(({theme:e,ownerState:t})=>te({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&te({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&te({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&te({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Ope=U.forwardRef(function(t,n){const r=rn({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,shrink:o,className:s}=r,a=bt(r,Tpe),f=Cu();let h=o;typeof h>"u"&&f&&(h=f.filled||f.focused||f.adornedStart);const g=Ch({props:r,muiFormControl:f,states:["size","variant","required","focused"]}),y=te({},r,{disableAnimation:i,formControl:f,shrink:h,size:g.size,variant:g.variant,required:g.required,focused:g.focused}),x=Ppe(y);return L.jsx(Epe,te({"data-shrink":h,ownerState:y,ref:n,className:at(x.root,s)},a,{classes:x}))}),ob=Ope;function Mpe(e){return en("MuiLink",e)}const Ape=tn("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),Ipe=Ape,i7={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},$pe=e=>i7[e]||e,Rpe=({theme:e,ownerState:t})=>{const n=$pe(t.color),r=zm(e,`palette.${n}`,!1)||t.color,i=zm(e,`palette.${n}Channel`);return"vars"in e&&i?`rgba(${i} / 0.4)`:Or(r,.4)},Dpe=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],Lpe=e=>{const{classes:t,component:n,focusVisible:r,underline:i}=e,o={root:["root",`underline${ft(i)}`,n==="button"&&"button",r&&"focusVisible"]};return nn(o,Mpe,t)},jpe=pt(pn,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${ft(n.underline)}`],n.component==="button"&&t.button]}})(({theme:e,ownerState:t})=>te({},t.underline==="none"&&{textDecoration:"none"},t.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},t.underline==="always"&&te({textDecoration:"underline"},t.color!=="inherit"&&{textDecorationColor:Rpe({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),t.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Ipe.focusVisible}`]:{outline:"auto"}})),Npe=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiLink"}),{className:i,color:o="primary",component:s="a",onBlur:a,onFocus:f,TypographyClasses:h,underline:g="always",variant:y="inherit",sx:x}=r,T=bt(r,Dpe),{isFocusVisibleRef:E,onBlur:C,onFocus:O,ref:A}=nC(),[M,I]=U.useState(!1),N=ui(n,A),$=X=>{C(X),E.current===!1&&I(!1),a&&a(X)},D=X=>{O(X),E.current===!0&&I(!0),f&&f(X)},F=te({},r,{color:o,component:s,focusVisible:M,underline:g,variant:y}),q=Lpe(F);return L.jsx(jpe,te({color:o,className:at(q.root,i),classes:h,component:s,onBlur:$,onFocus:D,ref:N,ownerState:F,variant:y,sx:[...Object.keys(i7).includes(o)?[]:[{color:o}],...Array.isArray(x)?x:[x]]},T))}),zpe=Npe,Bpe=U.createContext({}),yh=Bpe;function Fpe(e){return en("MuiList",e)}tn("MuiList",["root","padding","dense","subheader"]);const Upe=["children","className","component","dense","disablePadding","subheader"],Vpe=e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return nn({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},Fpe,t)},Wpe=pt("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(({ownerState:e})=>te({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),qpe=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:f=!1,subheader:h}=r,g=bt(r,Upe),y=U.useMemo(()=>({dense:a}),[a]),x=te({},r,{component:s,dense:a,disablePadding:f}),T=Vpe(x);return L.jsx(yh.Provider,{value:y,children:L.jsxs(Wpe,te({as:s,className:at(T.root,o),ref:n,ownerState:x},g,{children:[h,i]}))})}),Hpe=qpe;function Gpe(e){return en("MuiListItemButton",e)}const Ype=tn("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),gv=Ype,Kpe=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],Zpe=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]},Xpe=e=>{const{alignItems:t,classes:n,dense:r,disabled:i,disableGutters:o,divider:s,selected:a}=e,h=nn({root:["root",r&&"dense",!o&&"gutters",s&&"divider",i&&"disabled",t==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},Gpe,n);return te({},n,h)},Jpe=pt(Sh,{shouldForwardProp:e=>Ra(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Zpe})(({theme:e,ownerState:t})=>te({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${gv.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Or(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${gv.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Or(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${gv.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Or(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Or(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${gv.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${gv.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.alignItems==="flex-start"&&{alignItems:"flex-start"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.dense&&{paddingTop:4,paddingBottom:4})),Qpe=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:s="div",children:a,dense:f=!1,disableGutters:h=!1,divider:g=!1,focusVisibleClassName:y,selected:x=!1,className:T}=r,E=bt(r,Kpe),C=U.useContext(yh),O=U.useMemo(()=>({dense:f||C.dense||!1,alignItems:i,disableGutters:h}),[i,C.dense,f,h]),A=U.useRef(null);zs(()=>{o&&A.current&&A.current.focus()},[o]);const M=te({},r,{alignItems:i,dense:O.dense,disableGutters:h,divider:g,selected:x}),I=Xpe(M),N=ui(A,n);return L.jsx(yh.Provider,{value:O,children:L.jsx(Jpe,te({ref:N,href:E.href||E.to,component:(E.href||E.to)&&s==="div"?"button":s,focusVisibleClassName:at(I.focusVisible,y),ownerState:M,className:at(I.root,T)},E,{classes:I,children:a}))})}),eme=Qpe;function tme(e){return en("MuiListItemAvatar",e)}tn("MuiListItemAvatar",["root","alignItemsFlexStart"]);const nme=["className"],rme=e=>{const{alignItems:t,classes:n}=e;return nn({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},tme,n)},ime=pt("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({ownerState:e})=>te({minWidth:56,flexShrink:0},e.alignItems==="flex-start"&&{marginTop:8})),ome=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiListItemAvatar"}),{className:i}=r,o=bt(r,nme),s=U.useContext(yh),a=te({},r,{alignItems:s.alignItems}),f=rme(a);return L.jsx(ime,te({className:at(f.root,i),ownerState:a,ref:n},o))}),ame=ome,sme=tn("MuiListItemIcon",["root","alignItemsFlexStart"]),E3=sme;function lme(e){return en("MuiListItemText",e)}const cme=tn("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),rS=cme,ume=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],dme=e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:o}=e;return nn({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},lme,t)},fme=pt("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${rS.primary}`]:t.primary},{[`& .${rS.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(({ownerState:e})=>te({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),hme=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:a=!1,primary:f,primaryTypographyProps:h,secondary:g,secondaryTypographyProps:y}=r,x=bt(r,ume),{dense:T}=U.useContext(yh);let E=f??i,C=g;const O=te({},r,{disableTypography:s,inset:a,primary:!!E,secondary:!!C,dense:T}),A=dme(O);return E!=null&&E.type!==pn&&!s&&(E=L.jsx(pn,te({variant:T?"body2":"body1",className:A.primary,component:h!=null&&h.variant?void 0:"span",display:"block"},h,{children:E}))),C!=null&&C.type!==pn&&!s&&(C=L.jsx(pn,te({variant:"body2",className:A.secondary,color:"text.secondary",display:"block"},y,{children:C}))),L.jsxs(fme,te({className:at(A.root,o),ownerState:O,ref:n},x,{children:[E,C]}))}),pme=hme,mme=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function GP(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function O3(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function o7(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.indexOf(t.keys.join(""))===0}function yv(e,t,n,r,i,o){let s=!1,a=i(e,t,t?n:!1);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const f=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!o7(a,o)||f)a=i(e,a,n);else return a.focus(),!0}return!1}const gme=U.forwardRef(function(t,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:f=!1,disableListWrap:h=!1,onKeyDown:g,variant:y="selectedMenu"}=t,x=bt(t,mme),T=U.useRef(null),E=U.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});zs(()=>{i&&T.current.focus()},[i]),U.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(I,N)=>{const $=!T.current.style.width;if(I.clientHeight<T.current.clientHeight&&$){const D=`${i9(Gi(I))}px`;T.current.style[N.direction==="rtl"?"paddingLeft":"paddingRight"]=D,T.current.style.width=`calc(100% + ${D})`}return T.current}}),[]);const C=I=>{const N=T.current,$=I.key,D=Gi(N).activeElement;if($==="ArrowDown")I.preventDefault(),yv(N,D,h,f,GP);else if($==="ArrowUp")I.preventDefault(),yv(N,D,h,f,O3);else if($==="Home")I.preventDefault(),yv(N,null,h,f,GP);else if($==="End")I.preventDefault(),yv(N,null,h,f,O3);else if($.length===1){const F=E.current,q=$.toLowerCase(),X=performance.now();F.keys.length>0&&(X-F.lastTime>500?(F.keys=[],F.repeating=!0,F.previousKeyMatched=!0):F.repeating&&q!==F.keys[0]&&(F.repeating=!1)),F.lastTime=X,F.keys.push(q);const J=D&&!F.repeating&&o7(D,F);F.previousKeyMatched&&(J||yv(N,D,!1,f,GP,F))?I.preventDefault():F.previousKeyMatched=!1}g&&g(I)},O=ui(T,n);let A=-1;U.Children.forEach(s,(I,N)=>{if(!U.isValidElement(I)){A===N&&(A+=1,A>=s.length&&(A=-1));return}I.props.disabled||(y==="selectedMenu"&&I.props.selected||A===-1)&&(A=N),A===N&&(I.props.disabled||I.props.muiSkipListHighlight||I.type.muiSkipListHighlight)&&(A+=1,A>=s.length&&(A=-1))});const M=U.Children.map(s,(I,N)=>{if(N===A){const $={};return o&&($.autoFocus=!0),I.props.tabIndex===void 0&&y==="selectedMenu"&&($.tabIndex=0),U.cloneElement(I,$)}return I});return L.jsx(Hpe,te({role:"menu",ref:O,className:a,onKeyDown:C,tabIndex:i?0:-1},x,{children:M}))}),yme=gme;function vme(e){return en("MuiPopover",e)}tn("MuiPopover",["root","paper"]);const xme=["onEntering"],bme=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],_me=["slotProps"];function M3(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function A3(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function I3(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function YP(e){return typeof e=="function"?e():e}const wme=e=>{const{classes:t}=e;return nn({root:["root"],paper:["paper"]},vme,t)},Sme=pt(hhe,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),a7=pt(la,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Cme=U.forwardRef(function(t,n){var r,i,o;const s=rn({props:t,name:"MuiPopover"}),{action:a,anchorEl:f,anchorOrigin:h={vertical:"top",horizontal:"left"},anchorPosition:g,anchorReference:y="anchorEl",children:x,className:T,container:E,elevation:C=8,marginThreshold:O=16,open:A,PaperProps:M={},slots:I,slotProps:N,transformOrigin:$={vertical:"top",horizontal:"left"},TransitionComponent:D=nS,transitionDuration:F="auto",TransitionProps:{onEntering:q}={},disableScrollLock:X=!1}=s,J=bt(s.TransitionProps,xme),ie=bt(s,bme),ge=(r=N==null?void 0:N.paper)!=null?r:M,Ce=U.useRef(),fe=ui(Ce,ge.ref),ce=te({},s,{anchorOrigin:h,anchorReference:y,elevation:C,marginThreshold:O,externalPaperSlotProps:ge,transformOrigin:$,TransitionComponent:D,transitionDuration:F,TransitionProps:J}),ue=wme(ce),xe=U.useCallback(()=>{if(y==="anchorPosition")return g;const Tt=YP(f),Vt=(Tt&&Tt.nodeType===1?Tt:Gi(Ce.current).body).getBoundingClientRect();return{top:Vt.top+M3(Vt,h.vertical),left:Vt.left+A3(Vt,h.horizontal)}},[f,h.horizontal,h.vertical,g,y]),le=U.useCallback(Tt=>({vertical:M3(Tt,$.vertical),horizontal:A3(Tt,$.horizontal)}),[$.horizontal,$.vertical]),Pe=U.useCallback(Tt=>{const Pt={width:Tt.offsetWidth,height:Tt.offsetHeight},Vt=le(Pt);if(y==="none")return{top:null,left:null,transformOrigin:I3(Vt)};const gn=xe();let bn=gn.top-Vt.vertical,_n=gn.left-Vt.horizontal;const rr=bn+Pt.height,ze=_n+Pt.width,an=Bd(YP(f)),Mn=an.innerHeight-O,on=an.innerWidth-O;if(O!==null&&bn<O){const $t=bn-O;bn-=$t,Vt.vertical+=$t}else if(O!==null&&rr>Mn){const $t=rr-Mn;bn-=$t,Vt.vertical+=$t}if(O!==null&&_n<O){const $t=_n-O;_n-=$t,Vt.horizontal+=$t}else if(ze>on){const $t=ze-on;_n-=$t,Vt.horizontal+=$t}return{top:`${Math.round(bn)}px`,left:`${Math.round(_n)}px`,transformOrigin:I3(Vt)}},[f,y,xe,le,O]),[je,Qe]=U.useState(A),We=U.useCallback(()=>{const Tt=Ce.current;if(!Tt)return;const Pt=Pe(Tt);Pt.top!==null&&(Tt.style.top=Pt.top),Pt.left!==null&&(Tt.style.left=Pt.left),Tt.style.transformOrigin=Pt.transformOrigin,Qe(!0)},[Pe]);U.useEffect(()=>(X&&window.addEventListener("scroll",We),()=>window.removeEventListener("scroll",We)),[f,X,We]);const Ke=(Tt,Pt)=>{q&&q(Tt,Pt),We()},nt=()=>{Qe(!1)};U.useEffect(()=>{A&&We()}),U.useImperativeHandle(a,()=>A?{updatePosition:()=>{We()}}:null,[A,We]),U.useEffect(()=>{if(!A)return;const Tt=B$(()=>{We()}),Pt=Bd(f);return Pt.addEventListener("resize",Tt),()=>{Tt.clear(),Pt.removeEventListener("resize",Tt)}},[f,A,We]);let mt=F;F==="auto"&&!D.muiSupportAuto&&(mt=void 0);const st=E||(f?Gi(YP(f)).body:void 0),Nt=(i=I==null?void 0:I.root)!=null?i:Sme,Mt=(o=I==null?void 0:I.paper)!=null?o:a7,He=cc({elementType:Mt,externalSlotProps:te({},ge,{style:je?ge.style:te({},ge.style,{opacity:0})}),additionalProps:{elevation:C,ref:fe},ownerState:ce,className:at(ue.paper,ge==null?void 0:ge.className)}),ct=cc({elementType:Nt,externalSlotProps:(N==null?void 0:N.root)||{},externalForwardedProps:ie,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:st,open:A},ownerState:ce,className:at(ue.root,T)}),{slotProps:ut}=ct,Ve=bt(ct,_me);return L.jsx(Nt,te({},Ve,!Jw(Nt)&&{slotProps:ut,disableScrollLock:X},{children:L.jsx(D,te({appear:!0,in:A,onEntering:Ke,onExited:nt,timeout:mt},J,{children:L.jsx(Mt,te({},He,{children:x}))}))}))}),kme=Cme;function Tme(e){return en("MuiMenu",e)}tn("MuiMenu",["root","paper","list"]);const Pme=["onEntering"],Eme=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Ome={vertical:"top",horizontal:"right"},Mme={vertical:"top",horizontal:"left"},Ame=e=>{const{classes:t}=e;return nn({root:["root"],paper:["paper"],list:["list"]},Tme,t)},Ime=pt(kme,{shouldForwardProp:e=>Ra(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),$me=pt(a7,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Rme=pt(yme,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),Dme=U.forwardRef(function(t,n){var r,i;const o=rn({props:t,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:f,disableAutoFocusItem:h=!1,MenuListProps:g={},onClose:y,open:x,PaperProps:T={},PopoverClasses:E,transitionDuration:C="auto",TransitionProps:{onEntering:O}={},variant:A="selectedMenu",slots:M={},slotProps:I={}}=o,N=bt(o.TransitionProps,Pme),$=bt(o,Eme),D=wu(),F=D.direction==="rtl",q=te({},o,{autoFocus:s,disableAutoFocusItem:h,MenuListProps:g,onEntering:O,PaperProps:T,transitionDuration:C,TransitionProps:N,variant:A}),X=Ame(q),J=s&&!h&&x,ie=U.useRef(null),ge=(Pe,je)=>{ie.current&&ie.current.adjustStyleForScrollbar(Pe,D),O&&O(Pe,je)},Ce=Pe=>{Pe.key==="Tab"&&(Pe.preventDefault(),y&&y(Pe,"tabKeyDown"))};let fe=-1;U.Children.map(a,(Pe,je)=>{U.isValidElement(Pe)&&(Pe.props.disabled||(A==="selectedMenu"&&Pe.props.selected||fe===-1)&&(fe=je))});const ce=(r=M.paper)!=null?r:$me,ue=(i=I.paper)!=null?i:T,xe=cc({elementType:M.root,externalSlotProps:I.root,ownerState:q,className:[X.root,f]}),le=cc({elementType:ce,externalSlotProps:ue,ownerState:q,className:X.paper});return L.jsx(Ime,te({onClose:y,anchorOrigin:{vertical:"bottom",horizontal:F?"right":"left"},transformOrigin:F?Ome:Mme,slots:{paper:ce,root:M.root},slotProps:{root:xe,paper:le},open:x,ref:n,transitionDuration:C,TransitionProps:te({onEntering:ge},N),ownerState:q},$,{classes:E,children:L.jsx(Rme,te({onKeyDown:Ce,actions:ie,autoFocus:s&&(fe===-1||h),autoFocusItem:J,variant:A},g,{className:at(X.list,g.className),children:a}))}))}),s7=Dme;function Lme(e){return en("MuiMenuItem",e)}const jme=tn("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),vv=jme,Nme=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],zme=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},Bme=e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=e,f=nn({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},Lme,s);return te({},s,f)},Fme=pt(Sh,{shouldForwardProp:e=>Ra(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:zme})(({theme:e,ownerState:t})=>te({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${vv.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Or(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${vv.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Or(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${vv.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Or(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Or(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${vv.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${vv.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${_3.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${_3.inset}`]:{marginLeft:52},[`& .${rS.root}`]:{marginTop:0,marginBottom:0},[`& .${rS.inset}`]:{paddingLeft:36},[`& .${E3.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&te({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${E3.root} svg`]:{fontSize:"1.25rem"}}))),Ume=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:f=!1,focusVisibleClassName:h,role:g="menuitem",tabIndex:y,className:x}=r,T=bt(r,Nme),E=U.useContext(yh),C=U.useMemo(()=>({dense:s||E.dense||!1,disableGutters:f}),[E.dense,s,f]),O=U.useRef(null);zs(()=>{i&&O.current&&O.current.focus()},[i]);const A=te({},r,{dense:C.dense,divider:a,disableGutters:f}),M=Bme(r),I=ui(O,n);let N;return r.disabled||(N=y!==void 0?y:-1),L.jsx(yh.Provider,{value:C,children:L.jsx(Fme,te({ref:I,role:g,tabIndex:N,component:o,focusVisibleClassName:at(M.focusVisible,h),className:at(M.root,x)},T,{ownerState:A,classes:M}))})}),Os=Ume;function Vme(e){return en("MuiNativeSelect",e)}const Wme=tn("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),vR=Wme,qme=["className","disabled","error","IconComponent","inputRef","variant"],Hme=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${ft(n)}`,o&&"iconOpen",r&&"disabled"]};return nn(a,Vme,t)},l7=({ownerState:e,theme:t})=>te({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":te({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${vR.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),Gme=pt("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ra,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${vR.multiple}`]:t.multiple}]}})(l7),c7=({ownerState:e,theme:t})=>te({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${vR.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),Yme=pt("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${ft(n.variant)}`],n.open&&t.iconOpen]}})(c7),Kme=U.forwardRef(function(t,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:f="standard"}=t,h=bt(t,qme),g=te({},t,{disabled:i,variant:f,error:o}),y=Hme(g);return L.jsxs(U.Fragment,{children:[L.jsx(Gme,te({ownerState:g,className:at(y.select,r),disabled:i,ref:a||n},h)),t.multiple?null:L.jsx(Yme,{as:s,ownerState:g,className:y.icon})]})}),Zme=Kme;var $3;const Xme=["children","classes","className","label","notched"],Jme=pt("fieldset",{shouldForwardProp:Ra})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Qme=pt("legend",{shouldForwardProp:Ra})(({ownerState:e,theme:t})=>te({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&te({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function ege(e){const{className:t,label:n,notched:r}=e,i=bt(e,Xme),o=n!=null&&n!=="",s=te({},e,{notched:r,withLabel:o});return L.jsx(Jme,te({"aria-hidden":!0,className:t,ownerState:s},i,{children:L.jsx(Qme,{ownerState:s,children:o?L.jsx("span",{children:n}):$3||($3=L.jsx("span",{className:"notranslate",children:""}))})}))}const tge=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],nge=e=>{const{classes:t}=e,r=nn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},gde,t);return te({},t,r)},rge=pt(kC,{shouldForwardProp:e=>Ra(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:SC})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return te({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Qu.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Qu.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Qu.focused} .${Qu.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${Qu.error} .${Qu.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Qu.disabled} .${Qu.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&te({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),ige=pt(ege,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),oge=pt(TC,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:CC})(({theme:e,ownerState:t})=>te({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),u7=U.forwardRef(function(t,n){var r,i,o,s,a;const f=rn({props:t,name:"MuiOutlinedInput"}),{components:h={},fullWidth:g=!1,inputComponent:y="input",label:x,multiline:T=!1,notched:E,slots:C={},type:O="text"}=f,A=bt(f,tge),M=nge(f),I=Cu(),N=Ch({props:f,muiFormControl:I,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),$=te({},f,{color:N.color||"primary",disabled:N.disabled,error:N.error,focused:N.focused,formControl:I,fullWidth:g,hiddenLabel:N.hiddenLabel,multiline:T,size:N.size,type:O}),D=(r=(i=C.root)!=null?i:h.Root)!=null?r:rge,F=(o=(s=C.input)!=null?s:h.Input)!=null?o:oge;return L.jsx(mR,te({slots:{root:D,input:F},renderSuffix:q=>L.jsx(ige,{ownerState:$,className:M.notchedOutline,label:x!=null&&x!==""&&N.required?a||(a=L.jsxs(U.Fragment,{children:[x,"","*"]})):x,notched:typeof E<"u"?E:!!(q.startAdornment||q.filled||q.focused)}),fullWidth:g,inputComponent:y,multiline:T,ref:n,type:O},A,{classes:te({},M,{notchedOutline:null})}))});u7.muiName="Input";const xR=u7;function age(e){return en("MuiSelect",e)}const xv=tn("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var R3;const sge=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],lge=pt("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${xv.select}`]:t.select},{[`&.${xv.select}`]:t[n.variant]},{[`&.${xv.error}`]:t.error},{[`&.${xv.multiple}`]:t.multiple}]}})(l7,{[`&.${xv.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),cge=pt("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${ft(n.variant)}`],n.open&&t.iconOpen]}})(c7),uge=pt("input",{shouldForwardProp:e=>Nse(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function D3(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function dge(e){return e==null||typeof e=="string"&&!e.trim()}const fge=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${ft(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return nn(a,age,t)},hge=U.forwardRef(function(t,n){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:s,autoWidth:a,children:f,className:h,defaultOpen:g,defaultValue:y,disabled:x,displayEmpty:T,error:E=!1,IconComponent:C,inputRef:O,labelId:A,MenuProps:M={},multiple:I,name:N,onBlur:$,onChange:D,onClose:F,onFocus:q,onOpen:X,open:J,readOnly:ie,renderValue:ge,SelectDisplayProps:Ce={},tabIndex:fe,value:ce,variant:ue="standard"}=t,xe=bt(t,sge),[le,Pe]=jm({controlled:ce,default:y,name:"Select"}),[je,Qe]=jm({controlled:J,default:g,name:"Select"}),We=U.useRef(null),Ke=U.useRef(null),[nt,mt]=U.useState(null),{current:st}=U.useRef(J!=null),[Nt,Mt]=U.useState(),He=ui(n,O),ct=U.useCallback(Bt=>{Ke.current=Bt,Bt&&mt(Bt)},[]),ut=nt==null?void 0:nt.parentNode;U.useImperativeHandle(He,()=>({focus:()=>{Ke.current.focus()},node:We.current,value:le}),[le]),U.useEffect(()=>{g&&je&&nt&&!st&&(Mt(a?null:ut.clientWidth),Ke.current.focus())},[nt,a]),U.useEffect(()=>{s&&Ke.current.focus()},[s]),U.useEffect(()=>{if(!A)return;const Bt=Gi(Ke.current).getElementById(A);if(Bt){const ln=()=>{getSelection().isCollapsed&&Ke.current.focus()};return Bt.addEventListener("click",ln),()=>{Bt.removeEventListener("click",ln)}}},[A]);const Ve=(Bt,ln)=>{Bt?X&&X(ln):F&&F(ln),st||(Mt(a?null:ut.clientWidth),Qe(Bt))},Tt=Bt=>{Bt.button===0&&(Bt.preventDefault(),Ke.current.focus(),Ve(!0,Bt))},Pt=Bt=>{Ve(!1,Bt)},Vt=U.Children.toArray(f),gn=Bt=>{const ln=Vt.find(Xn=>Xn.props.value===Bt.target.value);ln!==void 0&&(Pe(ln.props.value),D&&D(Bt,ln))},bn=Bt=>ln=>{let Xn;if(ln.currentTarget.hasAttribute("tabindex")){if(I){Xn=Array.isArray(le)?le.slice():[];const di=le.indexOf(Bt.props.value);di===-1?Xn.push(Bt.props.value):Xn.splice(di,1)}else Xn=Bt.props.value;if(Bt.props.onClick&&Bt.props.onClick(ln),le!==Xn&&(Pe(Xn),D)){const di=ln.nativeEvent||ln,ht=new di.constructor(di.type,di);Object.defineProperty(ht,"target",{writable:!0,value:{value:Xn,name:N}}),D(ht,Bt)}I||Ve(!1,ln)}},_n=Bt=>{ie||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Bt.key)!==-1&&(Bt.preventDefault(),Ve(!0,Bt))},rr=nt!==null&&je,ze=Bt=>{!rr&&$&&(Object.defineProperty(Bt,"target",{writable:!0,value:{value:le,name:N}}),$(Bt))};delete xe["aria-invalid"];let an,Mn;const on=[];let $t=!1;(tS({value:le})||T)&&(ge?an=ge(le):$t=!0);const Vn=Vt.map(Bt=>{if(!U.isValidElement(Bt))return null;let ln;if(I){if(!Array.isArray(le))throw new Error(zd(2));ln=le.some(Xn=>D3(Xn,Bt.props.value)),ln&&$t&&on.push(Bt.props.children)}else ln=D3(le,Bt.props.value),ln&&$t&&(Mn=Bt.props.children);return U.cloneElement(Bt,{"aria-selected":ln?"true":"false",onClick:bn(Bt),onKeyUp:Xn=>{Xn.key===" "&&Xn.preventDefault(),Bt.props.onKeyUp&&Bt.props.onKeyUp(Xn)},role:"option",selected:ln,value:void 0,"data-value":Bt.props.value})});$t&&(I?on.length===0?an=null:an=on.reduce((Bt,ln,Xn)=>(Bt.push(ln),Xn<on.length-1&&Bt.push(", "),Bt),[]):an=Mn);let ir=Nt;!a&&st&&nt&&(ir=ut.clientWidth);let Tr;typeof fe<"u"?Tr=fe:Tr=x?null:0;const Rn=Ce.id||(N?`mui-component-select-${N}`:void 0),Kt=te({},t,{variant:ue,value:le,open:rr,error:E}),ur=fge(Kt),Di=te({},M.PaperProps,(r=M.slotProps)==null?void 0:r.paper),lt=eC();return L.jsxs(U.Fragment,{children:[L.jsx(lge,te({ref:ct,tabIndex:Tr,role:"combobox","aria-controls":lt,"aria-disabled":x?"true":void 0,"aria-expanded":rr?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[A,Rn].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:_n,onMouseDown:x||ie?null:Tt,onBlur:ze,onFocus:q},Ce,{ownerState:Kt,className:at(Ce.className,ur.select,h),id:Rn,children:dge(an)?R3||(R3=L.jsx("span",{className:"notranslate",children:""})):an})),L.jsx(uge,te({"aria-invalid":E,value:Array.isArray(le)?le.join(","):le,name:N,ref:We,"aria-hidden":!0,onChange:gn,tabIndex:-1,disabled:x,className:ur.nativeInput,autoFocus:s,ownerState:Kt},xe)),L.jsx(cge,{as:C,className:ur.icon,ownerState:Kt}),L.jsx(s7,te({id:`menu-${N||""}`,anchorEl:ut,open:rr,onClose:Pt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},M,{MenuListProps:te({"aria-labelledby":A,role:"listbox","aria-multiselectable":I?"true":void 0,disableListWrap:!0,id:lt},M.MenuListProps),slotProps:te({},M.slotProps,{paper:te({},Di,{style:te({minWidth:ir},Di!=null?Di.style:null)})}),children:Vn}))]})}),pge=hge,mge=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],gge=["root"],yge=e=>{const{classes:t}=e;return t},bR={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Ra(e)&&e!=="variant",slot:"Root"},vge=pt(r7,bR)(""),xge=pt(xR,bR)(""),bge=pt(Q9,bR)(""),d7=U.forwardRef(function(t,n){const r=rn({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:f=!1,displayEmpty:h=!1,IconComponent:g=bde,id:y,input:x,inputProps:T,label:E,labelId:C,MenuProps:O,multiple:A=!1,native:M=!1,onClose:I,onOpen:N,open:$,renderValue:D,SelectDisplayProps:F,variant:q="outlined"}=r,X=bt(r,mge),J=M?Zme:pge,ie=Cu(),ge=Ch({props:r,muiFormControl:ie,states:["variant","error"]}),Ce=ge.variant||q,fe=te({},r,{variant:Ce,classes:s}),ce=yge(fe),ue=bt(ce,gge),xe=x||{standard:L.jsx(vge,{ownerState:fe}),outlined:L.jsx(xge,{label:E,ownerState:fe}),filled:L.jsx(bge,{ownerState:fe})}[Ce],le=ui(n,xe.ref);return L.jsx(U.Fragment,{children:U.cloneElement(xe,te({inputComponent:J,inputProps:te({children:o,error:ge.error,IconComponent:g,variant:Ce,type:void 0,multiple:A},M?{id:y}:{autoWidth:i,defaultOpen:f,displayEmpty:h,labelId:C,MenuProps:O,onClose:I,onOpen:N,open:$,renderValue:D,SelectDisplayProps:te({id:y},F)},T,{classes:T?zo(ue,T.classes):ue},x?x.props.inputProps:{})},A&&M&&Ce==="outlined"?{notched:!0}:{},{ref:le,className:at(xe.props.className,a,ce.root)},!x&&{variant:Ce},X))})});d7.muiName="Select";const ab=d7;function _ge(e){return en("MuiSnackbarContent",e)}tn("MuiSnackbarContent",["root","message","action"]);const wge=["action","className","message","role"],Sge=e=>{const{classes:t}=e;return nn({root:["root"],action:["action"],message:["message"]},_ge,t)},Cge=pt(la,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,n=nse(e.palette.background.default,t);return te({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(n),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),kge=pt("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),Tge=pt("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Pge=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiSnackbarContent"}),{action:i,className:o,message:s,role:a="alert"}=r,f=bt(r,wge),h=r,g=Sge(h);return L.jsxs(Cge,te({role:a,square:!0,elevation:6,className:at(g.root,o),ownerState:h,ref:n},f,{children:[L.jsx(kge,{className:g.message,ownerState:h,children:s}),i?L.jsx(Tge,{className:g.action,ownerState:h,children:i}):null]}))}),Ege=Pge;function Oge(e){return en("MuiSnackbar",e)}tn("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Mge=["onEnter","onExited"],Age=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],Ige=e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${ft(n.vertical)}${ft(n.horizontal)}`]};return nn(r,Oge,t)},L3=pt("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${ft(n.anchorOrigin.vertical)}${ft(n.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return te({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:te({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&n,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),$ge=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiSnackbar"}),i=wu(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:s,anchorOrigin:{vertical:a,horizontal:f}={vertical:"bottom",horizontal:"left"},autoHideDuration:h=null,children:g,className:y,ClickAwayListenerProps:x,ContentProps:T,disableWindowBlurListener:E=!1,message:C,open:O,TransitionComponent:A=nS,transitionDuration:M=o,TransitionProps:{onEnter:I,onExited:N}={}}=r,$=bt(r.TransitionProps,Mge),D=bt(r,Age),F=te({},r,{anchorOrigin:{vertical:a,horizontal:f},autoHideDuration:h,disableWindowBlurListener:E,TransitionComponent:A,transitionDuration:M}),q=Ige(F),{getRootProps:X,onClickAway:J}=Que(te({},F)),[ie,ge]=U.useState(!0),Ce=cc({elementType:L3,getSlotProps:X,externalForwardedProps:D,ownerState:F,additionalProps:{ref:n},className:[q.root,y]}),fe=ue=>{ge(!0),N&&N(ue)},ce=(ue,xe)=>{ge(!1),I&&I(ue,xe)};return!O&&ie?null:L.jsx(bce,te({onClickAway:J},x,{children:L.jsx(L3,te({},Ce,{children:L.jsx(A,te({appear:!0,in:O,timeout:M,direction:a==="top"?"down":"up",onEnter:ce,onExited:fe},$,{children:g||L.jsx(Ege,te({message:C,action:s},T))}))}))}))}),Rge=$ge;function Dge(e){return en("MuiTooltip",e)}const Lge=tn("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),gd=Lge,jge=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function Nge(e){return Math.round(e*1e5)/1e5}const zge=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:o}=e,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${ft(o.split("-")[0])}`],arrow:["arrow"]};return nn(s,Dge,t)},Bge=pt(W9,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(({theme:e,ownerState:t,open:n})=>te({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${gd.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${gd.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${gd.arrow}`]:te({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${gd.arrow}`]:te({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),Fge=pt("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${ft(n.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>te({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Or(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${Nge(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${gd.popper}[data-popper-placement*="left"] &`]:te({transformOrigin:"right center"},t.isRtl?te({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):te({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${gd.popper}[data-popper-placement*="right"] &`]:te({transformOrigin:"left center"},t.isRtl?te({marginRight:"14px"},t.touch&&{marginRight:"24px"}):te({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${gd.popper}[data-popper-placement*="top"] &`]:te({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${gd.popper}[data-popper-placement*="bottom"] &`]:te({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),Uge=pt("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Or(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let u1=!1,KP=null,bv={x:0,y:0};function d1(e,t){return n=>{t&&t(n),e(n)}}const Vge=U.forwardRef(function(t,n){var r,i,o,s,a,f,h,g,y,x,T,E,C,O,A,M,I,N,$;const D=rn({props:t,name:"MuiTooltip"}),{arrow:F=!1,children:q,components:X={},componentsProps:J={},describeChild:ie=!1,disableFocusListener:ge=!1,disableHoverListener:Ce=!1,disableInteractive:fe=!1,disableTouchListener:ce=!1,enterDelay:ue=100,enterNextDelay:xe=0,enterTouchDelay:le=700,followCursor:Pe=!1,id:je,leaveDelay:Qe=0,leaveTouchDelay:We=1500,onClose:Ke,onOpen:nt,open:mt,placement:st="bottom",PopperComponent:Nt,PopperProps:Mt={},slotProps:He={},slots:ct={},title:ut,TransitionComponent:Ve=nS,TransitionProps:Tt}=D,Pt=bt(D,jge),Vt=U.isValidElement(q)?q:L.jsx("span",{children:q}),gn=wu(),bn=gn.direction==="rtl",[_n,rr]=U.useState(),[ze,an]=U.useState(null),Mn=U.useRef(!1),on=fe||Pe,$t=U.useRef(),Vn=U.useRef(),ir=U.useRef(),Tr=U.useRef(),[Rn,Kt]=jm({controlled:mt,default:!1,name:"Tooltip",state:"open"});let ur=Rn;const Di=eC(je),lt=U.useRef(),Bt=U.useCallback(()=>{lt.current!==void 0&&(document.body.style.WebkitUserSelect=lt.current,lt.current=void 0),clearTimeout(Tr.current)},[]);U.useEffect(()=>()=>{clearTimeout($t.current),clearTimeout(Vn.current),clearTimeout(ir.current),Bt()},[Bt]);const ln=Xt=>{clearTimeout(KP),u1=!0,Kt(!0),nt&&!ur&&nt(Xt)},Xn=bl(Xt=>{clearTimeout(KP),KP=setTimeout(()=>{u1=!1},800+Qe),Kt(!1),Ke&&ur&&Ke(Xt),clearTimeout($t.current),$t.current=setTimeout(()=>{Mn.current=!1},gn.transitions.duration.shortest)}),di=Xt=>{Mn.current&&Xt.type!=="touchstart"||(_n&&_n.removeAttribute("title"),clearTimeout(Vn.current),clearTimeout(ir.current),ue||u1&&xe?Vn.current=setTimeout(()=>{ln(Xt)},u1?xe:ue):ln(Xt))},ht=Xt=>{clearTimeout(Vn.current),clearTimeout(ir.current),ir.current=setTimeout(()=>{Xn(Xt)},Qe)},{isFocusVisibleRef:fn,onBlur:un,onFocus:Li,ref:da}=nC(),[,dn]=U.useState(!1),fa=Xt=>{un(Xt),fn.current===!1&&(dn(!1),ht(Xt))},ye=Xt=>{_n||rr(Xt.currentTarget),Li(Xt),fn.current===!0&&(dn(!0),di(Xt))},Q=Xt=>{Mn.current=!0;const Kn=Vt.props;Kn.onTouchStart&&Kn.onTouchStart(Xt)},ne=di,se=ht,be=Xt=>{Q(Xt),clearTimeout(ir.current),clearTimeout($t.current),Bt(),lt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Tr.current=setTimeout(()=>{document.body.style.WebkitUserSelect=lt.current,di(Xt)},le)},we=Xt=>{Vt.props.onTouchEnd&&Vt.props.onTouchEnd(Xt),Bt(),clearTimeout(ir.current),ir.current=setTimeout(()=>{Xn(Xt)},We)};U.useEffect(()=>{if(!ur)return;function Xt(Kn){(Kn.key==="Escape"||Kn.key==="Esc")&&Xn(Kn)}return document.addEventListener("keydown",Xt),()=>{document.removeEventListener("keydown",Xt)}},[Xn,ur]);const De=ui(Vt.ref,da,rr,n);!ut&&ut!==0&&(ur=!1);const Me=U.useRef(),ke=Xt=>{const Kn=Vt.props;Kn.onMouseMove&&Kn.onMouseMove(Xt),bv={x:Xt.clientX,y:Xt.clientY},Me.current&&Me.current.update()},Ie={},Ge=typeof ut=="string";ie?(Ie.title=!ur&&Ge&&!Ce?ut:null,Ie["aria-describedby"]=ur?Di:null):(Ie["aria-label"]=Ge?ut:null,Ie["aria-labelledby"]=ur&&!Ge?Di:null);const qe=te({},Ie,Pt,Vt.props,{className:at(Pt.className,Vt.props.className),onTouchStart:Q,ref:De},Pe?{onMouseMove:ke}:{}),Ze={};ce||(qe.onTouchStart=be,qe.onTouchEnd=we),Ce||(qe.onMouseOver=d1(ne,qe.onMouseOver),qe.onMouseLeave=d1(se,qe.onMouseLeave),on||(Ze.onMouseOver=ne,Ze.onMouseLeave=se)),ge||(qe.onFocus=d1(ye,qe.onFocus),qe.onBlur=d1(fa,qe.onBlur),on||(Ze.onFocus=ye,Ze.onBlur=fa));const Ht=U.useMemo(()=>{var Xt;let Kn=[{name:"arrow",enabled:!!ze,options:{element:ze,padding:4}}];return(Xt=Mt.popperOptions)!=null&&Xt.modifiers&&(Kn=Kn.concat(Mt.popperOptions.modifiers)),te({},Mt.popperOptions,{modifiers:Kn})},[ze,Mt]),Zt=te({},D,{isRtl:bn,arrow:F,disableInteractive:on,placement:st,PopperComponentProp:Nt,touch:Mn.current}),It=zge(Zt),Gt=(r=(i=ct.popper)!=null?i:X.Popper)!=null?r:Bge,cn=(o=(s=(a=ct.transition)!=null?a:X.Transition)!=null?s:Ve)!=null?o:nS,Ln=(f=(h=ct.tooltip)!=null?h:X.Tooltip)!=null?f:Fge,Wn=(g=(y=ct.arrow)!=null?y:X.Arrow)!=null?g:Uge,An=qv(Gt,te({},Mt,(x=He.popper)!=null?x:J.popper,{className:at(It.popper,Mt==null?void 0:Mt.className,(T=(E=He.popper)!=null?E:J.popper)==null?void 0:T.className)}),Zt),Tn=qv(cn,te({},Tt,(C=He.transition)!=null?C:J.transition),Zt),Ai=qv(Ln,te({},(O=He.tooltip)!=null?O:J.tooltip,{className:at(It.tooltip,(A=(M=He.tooltip)!=null?M:J.tooltip)==null?void 0:A.className)}),Zt),or=qv(Wn,te({},(I=He.arrow)!=null?I:J.arrow,{className:at(It.arrow,(N=($=He.arrow)!=null?$:J.arrow)==null?void 0:N.className)}),Zt);return L.jsxs(U.Fragment,{children:[U.cloneElement(Vt,qe),L.jsx(Gt,te({as:Nt??W9,placement:st,anchorEl:Pe?{getBoundingClientRect:()=>({top:bv.y,left:bv.x,right:bv.x,bottom:bv.y,width:0,height:0})}:_n,popperRef:Me,open:_n?ur:!1,id:Di,transition:!0},Ze,An,{popperOptions:Ht,children:({TransitionProps:Xt})=>L.jsx(cn,te({timeout:gn.transitions.duration.shorter},Xt,Tn,{children:L.jsxs(Ln,te({},Ai,{children:[ut,F?L.jsx(Wn,te({},or,{ref:an})):null]}))}))}))]})}),Lp=Vge;function Wge(e){return en("MuiSwitch",e)}const qge=tn("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),na=qge,Hge=["className","color","edge","size","sx"],Gge=e=>{const{classes:t,edge:n,size:r,color:i,checked:o,disabled:s}=e,a={root:["root",n&&`edge${ft(n)}`,`size${ft(r)}`],switchBase:["switchBase",`color${ft(i)}`,o&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},f=nn(a,Wge,t);return te({},t,f)},Yge=pt("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${ft(n.edge)}`],t[`size${ft(n.size)}`]]}})(({ownerState:e})=>te({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},e.edge==="start"&&{marginLeft:-8},e.edge==="end"&&{marginRight:-8},e.size==="small"&&{width:40,height:24,padding:7,[`& .${na.thumb}`]:{width:16,height:16},[`& .${na.switchBase}`]:{padding:4,[`&.${na.checked}`]:{transform:"translateX(16px)"}}})),Kge=pt(the,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${na.input}`]:t.input},n.color!=="default"&&t[`color${ft(n.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${na.checked}`]:{transform:"translateX(20px)"},[`&.${na.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${na.checked} + .${na.track}`]:{opacity:.5},[`&.${na.disabled} + .${na.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${na.input}`]:{left:"-100%",width:"300%"}}),({theme:e,ownerState:t})=>te({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Or(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${na.checked}`]:{color:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Or(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${na.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t.color}DisabledColor`]:`${e.palette.mode==="light"?vC(e.palette[t.color].main,.62):yC(e.palette[t.color].main,.55)}`}},[`&.${na.checked} + .${na.track}`]:{backgroundColor:(e.vars||e).palette[t.color].main}})),Zge=pt("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),Xge=pt("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Jge=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiSwitch"}),{className:i,color:o="primary",edge:s=!1,size:a="medium",sx:f}=r,h=bt(r,Hge),g=te({},r,{color:o,edge:s,size:a}),y=Gge(g),x=L.jsx(Xge,{className:y.thumb,ownerState:g});return L.jsxs(Yge,{className:at(y.root,i),sx:f,ownerState:g,children:[L.jsx(Kge,te({type:"checkbox",icon:x,checkedIcon:x,ref:n,ownerState:g},h,{classes:te({},y,{root:y.switchBase})})),L.jsx(Zge,{className:y.track,ownerState:g})]})}),Qge=Jge,eye=U.createContext(),f7=eye;function tye(e){return en("MuiTable",e)}tn("MuiTable",["root","stickyHeader"]);const nye=["className","component","padding","size","stickyHeader"],rye=e=>{const{classes:t,stickyHeader:n}=e;return nn({root:["root",n&&"stickyHeader"]},tye,t)},iye=pt("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>te({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":te({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),j3="table",oye=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiTable"}),{className:i,component:o=j3,padding:s="normal",size:a="medium",stickyHeader:f=!1}=r,h=bt(r,nye),g=te({},r,{component:o,padding:s,size:a,stickyHeader:f}),y=rye(g),x=U.useMemo(()=>({padding:s,size:a,stickyHeader:f}),[s,a,f]);return L.jsx(f7.Provider,{value:x,children:L.jsx(iye,te({as:o,role:o===j3?null:"table",ref:n,className:at(y.root,i),ownerState:g},h))})}),_R=oye,aye=U.createContext(),PC=aye;function sye(e){return en("MuiTableBody",e)}tn("MuiTableBody",["root"]);const lye=["className","component"],cye=e=>{const{classes:t}=e;return nn({root:["root"]},sye,t)},uye=pt("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),dye={variant:"body"},N3="tbody",fye=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiTableBody"}),{className:i,component:o=N3}=r,s=bt(r,lye),a=te({},r,{component:o}),f=cye(a);return L.jsx(PC.Provider,{value:dye,children:L.jsx(uye,te({className:at(f.root,i),as:o,ref:n,role:o===N3?null:"rowgroup",ownerState:a},s))})}),wR=fye;function hye(e){return en("MuiTableCell",e)}const pye=tn("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),mye=pye,gye=["align","className","component","padding","scope","size","sortDirection","variant"],yye=e=>{const{classes:t,variant:n,align:r,padding:i,size:o,stickyHeader:s}=e,a={root:["root",n,s&&"stickyHeader",r!=="inherit"&&`align${ft(r)}`,i!=="normal"&&`padding${ft(i)}`,`size${ft(o)}`]};return nn(a,hye,t)},vye=pt("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${ft(n.size)}`],n.padding!=="normal"&&t[`padding${ft(n.padding)}`],n.align!=="inherit"&&t[`align${ft(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>te({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?vC(Or(e.palette.divider,1),.88):yC(Or(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${mye.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),xye=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiTableCell"}),{align:i="inherit",className:o,component:s,padding:a,scope:f,size:h,sortDirection:g,variant:y}=r,x=bt(r,gye),T=U.useContext(f7),E=U.useContext(PC),C=E&&E.variant==="head";let O;s?O=s:O=C?"th":"td";let A=f;O==="td"?A=void 0:!A&&C&&(A="col");const M=y||E&&E.variant,I=te({},r,{align:i,component:O,padding:a||(T&&T.padding?T.padding:"normal"),size:h||(T&&T.size?T.size:"medium"),sortDirection:g,stickyHeader:M==="head"&&T&&T.stickyHeader,variant:M}),N=yye(I);let $=null;return g&&($=g==="asc"?"ascending":"descending"),L.jsx(vye,te({as:O,ref:n,className:at(N.root,o),"aria-sort":$,scope:A,ownerState:I},x))}),Ca=xye;function bye(e){return en("MuiTableHead",e)}tn("MuiTableHead",["root"]);const _ye=["className","component"],wye=e=>{const{classes:t}=e;return nn({root:["root"]},bye,t)},Sye=pt("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),Cye={variant:"head"},z3="thead",kye=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiTableHead"}),{className:i,component:o=z3}=r,s=bt(r,_ye),a=te({},r,{component:o}),f=wye(a);return L.jsx(PC.Provider,{value:Cye,children:L.jsx(Sye,te({as:o,className:at(f.root,i),ref:n,role:o===z3?null:"rowgroup",ownerState:a},s))})}),h7=kye;function Tye(e){return en("MuiToolbar",e)}tn("MuiToolbar",["root","gutters","regular","dense"]);const Pye=["className","component","disableGutters","variant"],Eye=e=>{const{classes:t,disableGutters:n,variant:r}=e;return nn({root:["root",!n&&"gutters",r]},Tye,t)},Oye=pt("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(({theme:e,ownerState:t})=>te({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},t.variant==="dense"&&{minHeight:48}),({theme:e,ownerState:t})=>t.variant==="regular"&&e.mixins.toolbar),Mye=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:s=!1,variant:a="regular"}=r,f=bt(r,Pye),h=te({},r,{component:o,disableGutters:s,variant:a}),g=Eye(h);return L.jsx(Oye,te({as:o,className:at(g.root,i),ref:n,ownerState:h},f))}),kg=Mye;function Aye(e){return en("MuiTableRow",e)}const Iye=tn("MuiTableRow",["root","selected","hover","head","footer"]),B3=Iye,$ye=["className","component","hover","selected"],Rye=e=>{const{classes:t,selected:n,hover:r,head:i,footer:o}=e;return nn({root:["root",n&&"selected",r&&"hover",i&&"head",o&&"footer"]},Aye,t)},Dye=pt("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${B3.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${B3.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Or(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Or(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),F3="tr",Lye=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiTableRow"}),{className:i,component:o=F3,hover:s=!1,selected:a=!1}=r,f=bt(r,$ye),h=U.useContext(PC),g=te({},r,{component:o,hover:s,selected:a,head:h&&h.variant==="head",footer:h&&h.variant==="footer"}),y=Rye(g);return L.jsx(Dye,te({as:o,ref:n,className:at(y.root,i),role:o===F3?null:"row",ownerState:g},f))}),xm=Lye;function jye(e){return en("MuiTextField",e)}tn("MuiTextField",["root"]);const Nye=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],zye={standard:r7,filled:Q9,outlined:xR},Bye=e=>{const{classes:t}=e;return nn({root:["root"]},jye,t)},Fye=pt(ib,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Uye=U.forwardRef(function(t,n){const r=rn({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:f="primary",defaultValue:h,disabled:g=!1,error:y=!1,FormHelperTextProps:x,fullWidth:T=!1,helperText:E,id:C,InputLabelProps:O,inputProps:A,InputProps:M,inputRef:I,label:N,maxRows:$,minRows:D,multiline:F=!1,name:q,onBlur:X,onChange:J,onFocus:ie,placeholder:ge,required:Ce=!1,rows:fe,select:ce=!1,SelectProps:ue,type:xe,value:le,variant:Pe="outlined"}=r,je=bt(r,Nye),Qe=te({},r,{autoFocus:o,color:f,disabled:g,error:y,fullWidth:T,multiline:F,required:Ce,select:ce,variant:Pe}),We=Bye(Qe),Ke={};Pe==="outlined"&&(O&&typeof O.shrink<"u"&&(Ke.notched=O.shrink),Ke.label=N),ce&&((!ue||!ue.native)&&(Ke.id=void 0),Ke["aria-describedby"]=void 0);const nt=eC(C),mt=E&&nt?`${nt}-helper-text`:void 0,st=N&&nt?`${nt}-label`:void 0,Nt=zye[Pe],Mt=L.jsx(Nt,te({"aria-describedby":mt,autoComplete:i,autoFocus:o,defaultValue:h,fullWidth:T,multiline:F,name:q,rows:fe,maxRows:$,minRows:D,type:xe,value:le,id:nt,inputRef:I,onBlur:X,onChange:J,onFocus:ie,placeholder:ge,inputProps:A},Ke,M));return L.jsxs(Fye,te({className:at(We.root,a),disabled:g,error:y,fullWidth:T,ref:n,required:Ce,color:f,variant:Pe,ownerState:Qe},je,{children:[N!=null&&N!==""&&L.jsx(ob,te({htmlFor:nt,id:st},O,{children:N})),ce?L.jsx(ab,te({"aria-describedby":mt,id:nt,labelId:st,value:le,input:Mt},ue,{children:s})):Mt,E&&L.jsx(Fhe,te({id:mt},x,{children:E}))]}))}),Pi=Uye,SR=(e,t)=>{const n=Hs(),r=U.useRef();U.useEffect(()=>(e().then(i=>r.current=i).catch(i=>n(Zre.push(i.message))),()=>{const i=r.current;i&&i()}),[...t,n])};var U3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sb=(typeof window>"u"?"undefined":U3(window))==="object"&&(typeof document>"u"?"undefined":U3(document))==="object"&&document.nodeType===9;function V3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WW(r.key),r)}}function p7(e,t,n){return t&&V3(e.prototype,t),n&&V3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Vye={}.constructor;function RM(e){if(e==null||typeof e!="object")return e;if(Array.isArray(e))return e.map(RM);if(e.constructor!==Vye)return e;var t={};for(var n in e)t[n]=RM(e[n]);return t}function CR(e,t,n){e===void 0&&(e="unnamed");var r=n.jss,i=RM(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var W3=function(t,n){for(var r="",i=0;i<t.length&&t[i]!=="!important";i++)r&&(r+=n),r+=t[i];return r},th=function(t){if(!Array.isArray(t))return t;var n="";if(Array.isArray(t[0]))for(var r=0;r<t.length&&t[r]!=="!important";r++)n&&(n+=", "),n+=W3(t[r]," ");else n=W3(t,", ");return t[t.length-1]==="!important"&&(n+=" !important"),n};function Tg(e){return e&&e.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function _v(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function ex(e,t,n){n===void 0&&(n={});var r="";if(!t)return r;var i=n,o=i.indent,s=o===void 0?0:o,a=t.fallbacks;n.format===!1&&(s=-1/0);var f=Tg(n),h=f.linebreak,g=f.space;if(e&&s++,a)if(Array.isArray(a))for(var y=0;y<a.length;y++){var x=a[y];for(var T in x){var E=x[T];E!=null&&(r&&(r+=h),r+=_v(T+":"+g+th(E)+";",s))}}else for(var C in a){var O=a[C];O!=null&&(r&&(r+=h),r+=_v(C+":"+g+th(O)+";",s))}for(var A in t){var M=t[A];M!=null&&A!=="fallbacks"&&(r&&(r+=h),r+=_v(A+":"+g+th(M)+";",s))}return!r&&!n.allowEmpty||!e?r:(s--,r&&(r=""+h+r+h),_v(""+e+g+"{"+r,s)+_v("}",s))}var Wye=/([[\].#*$><+~=|^:(),"'`\s])/g,q3=typeof CSS<"u"&&CSS.escape,kR=function(e){return q3?q3(e):e.replace(Wye,"\\$1")},m7=function(){function e(n,r,i){this.type="style",this.isProcessed=!1;var o=i.sheet,s=i.Renderer;this.key=n,this.options=i,this.style=r,o?this.renderer=o.renderer:s&&(this.renderer=new s)}var t=e.prototype;return t.prop=function(r,i,o){if(i===void 0)return this.style[r];var s=o?o.force:!1;if(!s&&this.style[r]===i)return this;var a=i;(!o||o.process!==!1)&&(a=this.options.jss.plugins.onChangeValue(i,r,this));var f=a==null||a===!1,h=r in this.style;if(f&&!h&&!s)return this;var g=f&&h;if(g?delete this.style[r]:this.style[r]=a,this.renderable&&this.renderer)return g?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,a),this;var y=this.options.sheet;return y&&y.attached,this},e}(),DM=function(e){eb(t,e);function t(r,i,o){var s;s=e.call(this,r,i,o)||this;var a=o.selector,f=o.scoped,h=o.sheet,g=o.generateId;return a?s.selectorText=a:f!==!1&&(s.id=g(Z0(Z0(s)),h),s.selectorText="."+kR(s.id)),s}var n=t.prototype;return n.applyTo=function(i){var o=this.renderer;if(o){var s=this.toJSON();for(var a in s)o.setProperty(i,a,s[a])}return this},n.toJSON=function(){var i={};for(var o in this.style){var s=this.style[o];typeof s!="object"?i[o]=s:Array.isArray(s)&&(i[o]=th(s))}return i},n.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,a=s?te({},i,{allowEmpty:!0}):i;return ex(this.selectorText,this.style,a)},p7(t,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var o=this.renderer,s=this.renderable;if(!(!s||!o)){var a=o.setSelector(s,i);a||o.replaceRule(s,this)}}},get:function(){return this.selectorText}}]),t}(m7),qye={onCreateRule:function(t,n,r){return t[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new DM(t,n,r)}},ZP={indent:1,children:!0},Hye=/@([\w-]+)/,Gye=function(){function e(n,r,i){this.type="conditional",this.isProcessed=!1,this.key=n;var o=n.match(Hye);this.at=o?o[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new EC(te({},i,{parent:this}));for(var s in r)this.rules.add(s,r[s]);this.rules.process()}var t=e.prototype;return t.getRule=function(r){return this.rules.get(r)},t.indexOf=function(r){return this.rules.indexOf(r)},t.addRule=function(r,i,o){var s=this.rules.add(r,i,o);return s?(this.options.jss.plugins.onProcessRule(s),s):null},t.replaceRule=function(r,i,o){var s=this.rules.replace(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.toString=function(r){r===void 0&&(r=ZP);var i=Tg(r),o=i.linebreak;if(r.indent==null&&(r.indent=ZP.indent),r.children==null&&(r.children=ZP.children),r.children===!1)return this.query+" {}";var s=this.rules.toString(r);return s?this.query+" {"+o+s+o+"}":""},e}(),Yye=/@container|@media|@supports\s+/,Kye={onCreateRule:function(t,n,r){return Yye.test(t)?new Gye(t,n,r):null}},XP={indent:1,children:!0},Zye=/@keyframes\s+([\w-]+)/,LM=function(){function e(n,r,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var o=n.match(Zye);o&&o[1]?this.name=o[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var s=i.scoped,a=i.sheet,f=i.generateId;this.id=s===!1?this.name:kR(f(this,a)),this.rules=new EC(te({},i,{parent:this}));for(var h in r)this.rules.add(h,r[h],te({},i,{parent:this}));this.rules.process()}var t=e.prototype;return t.toString=function(r){r===void 0&&(r=XP);var i=Tg(r),o=i.linebreak;if(r.indent==null&&(r.indent=XP.indent),r.children==null&&(r.children=XP.children),r.children===!1)return this.at+" "+this.id+" {}";var s=this.rules.toString(r);return s&&(s=""+o+s+o),this.at+" "+this.id+" {"+s+"}"},e}(),Xye=/@keyframes\s+/,Jye=/\$([\w-]+)/g,jM=function(t,n){return typeof t=="string"?t.replace(Jye,function(r,i){return i in n?n[i]:r}):t},H3=function(t,n,r){var i=t[n],o=jM(i,r);o!==i&&(t[n]=o)},Qye={onCreateRule:function(t,n,r){return typeof t=="string"&&Xye.test(t)?new LM(t,n,r):null},onProcessStyle:function(t,n,r){return n.type!=="style"||!r||("animation-name"in t&&H3(t,"animation-name",r.keyframes),"animation"in t&&H3(t,"animation",r.keyframes)),t},onChangeValue:function(t,n,r){var i=r.options.sheet;if(!i)return t;switch(n){case"animation":return jM(t,i.keyframes);case"animation-name":return jM(t,i.keyframes);default:return t}}},eve=function(e){eb(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,a=s?te({},i,{allowEmpty:!0}):i;return ex(this.key,this.style,a)},t}(m7),tve={onCreateRule:function(t,n,r){return r.parent&&r.parent.type==="keyframes"?new eve(t,n,r):null}},nve=function(){function e(n,r,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var t=e.prototype;return t.toString=function(r){var i=Tg(r),o=i.linebreak;if(Array.isArray(this.style)){for(var s="",a=0;a<this.style.length;a++)s+=ex(this.at,this.style[a]),this.style[a+1]&&(s+=o);return s}return ex(this.at,this.style,r)},e}(),rve=/@font-face/,ive={onCreateRule:function(t,n,r){return rve.test(t)?new nve(t,n,r):null}},ove=function(){function e(n,r,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var t=e.prototype;return t.toString=function(r){return ex(this.key,this.style,r)},e}(),ave={onCreateRule:function(t,n,r){return t==="@viewport"||t==="@-ms-viewport"?new ove(t,n,r):null}},sve=function(){function e(n,r,i){this.type="simple",this.isProcessed=!1,this.key=n,this.value=r,this.options=i}var t=e.prototype;return t.toString=function(r){if(Array.isArray(this.value)){for(var i="",o=0;o<this.value.length;o++)i+=this.key+" "+this.value[o]+";",this.value[o+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},e}(),lve={"@charset":!0,"@import":!0,"@namespace":!0},cve={onCreateRule:function(t,n,r){return t in lve?new sve(t,n,r):null}},G3=[qye,Kye,Qye,tve,ive,ave,cve],uve={process:!0},Y3={force:!0,process:!0},EC=function(){function e(n){this.map={},this.raw={},this.index=[],this.counter=0,this.options=n,this.classes=n.classes,this.keyframes=n.keyframes}var t=e.prototype;return t.add=function(r,i,o){var s=this.options,a=s.parent,f=s.sheet,h=s.jss,g=s.Renderer,y=s.generateId,x=s.scoped,T=te({classes:this.classes,parent:a,sheet:f,jss:h,Renderer:g,generateId:y,scoped:x,name:r,keyframes:this.keyframes,selector:void 0},o),E=r;r in this.raw&&(E=r+"-d"+this.counter++),this.raw[E]=i,E in this.classes&&(T.selector="."+kR(this.classes[E]));var C=CR(E,i,T);if(!C)return null;this.register(C);var O=T.index===void 0?this.index.length:T.index;return this.index.splice(O,0,C),C},t.replace=function(r,i,o){var s=this.get(r),a=this.index.indexOf(s);s&&this.remove(s);var f=o;return a!==-1&&(f=te({},o,{index:a})),this.add(r,i,f)},t.get=function(r){return this.map[r]},t.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},t.indexOf=function(r){return this.index.indexOf(r)},t.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},t.register=function(r){this.map[r.key]=r,r instanceof DM?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof LM&&this.keyframes&&(this.keyframes[r.name]=r.id)},t.unregister=function(r){delete this.map[r.key],r instanceof DM?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof LM&&delete this.keyframes[r.name]},t.update=function(){var r,i,o;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],o=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),i,o);else for(var s=0;s<this.index.length;s++)this.updateOne(this.index[s],i,o)},t.updateOne=function(r,i,o){o===void 0&&(o=uve);var s=this.options,a=s.jss.plugins,f=s.sheet;if(r.rules instanceof e){r.rules.update(i,o);return}var h=r.style;if(a.onUpdate(i,r,f,o),o.process&&h&&h!==r.style){a.onProcessStyle(r.style,r,f);for(var g in r.style){var y=r.style[g],x=h[g];y!==x&&r.prop(g,y,Y3)}for(var T in h){var E=r.style[T],C=h[T];E==null&&E!==C&&r.prop(T,null,Y3)}}},t.toString=function(r){for(var i="",o=this.options.sheet,s=o?o.options.link:!1,a=Tg(r),f=a.linebreak,h=0;h<this.index.length;h++){var g=this.index[h],y=g.toString(r);!y&&!s||(i&&(i+=f),i+=y)}return i},e}(),g7=function(){function e(n,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=te({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new EC(this.options);for(var i in n)this.rules.add(i,n[i]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(r,i,o){var s=this.queue;this.attached&&!s&&(this.queue=[]);var a=this.rules.add(r,i,o);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&(s?s.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),a):(this.deployed=!1,a)):null},t.replaceRule=function(r,i,o){var s=this.rules.get(r);if(!s)return this.addRule(r,i,o);var a=this.rules.replace(r,i,o);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&this.renderer&&(a?s.renderable&&this.renderer.replaceRule(s.renderable,a):this.renderer.deleteRule(s)),a):(this.deployed=!1,a)},t.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},t.addRules=function(r,i){var o=[];for(var s in r){var a=this.addRule(s,r[s],i);a&&o.push(a)}return o},t.getRule=function(r){return this.rules.get(r)},t.deleteRule=function(r){var i=typeof r=="object"?r:this.rules.get(r);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},t.indexOf=function(r){return this.rules.indexOf(r)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},t.updateOne=function(r,i,o){return this.rules.updateOne(r,i,o),this},t.toString=function(r){return this.rules.toString(r)},e}(),dve=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(r,i,o){for(var s=0;s<this.registry.onCreateRule.length;s++){var a=this.registry.onCreateRule[s](r,i,o);if(a)return a}return null},t.onProcessRule=function(r){if(!r.isProcessed){for(var i=r.options.sheet,o=0;o<this.registry.onProcessRule.length;o++)this.registry.onProcessRule[o](r,i);r.style&&this.onProcessStyle(r.style,r,i),r.isProcessed=!0}},t.onProcessStyle=function(r,i,o){for(var s=0;s<this.registry.onProcessStyle.length;s++)i.style=this.registry.onProcessStyle[s](i.style,i,o)},t.onProcessSheet=function(r){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](r)},t.onUpdate=function(r,i,o,s){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](r,i,o,s)},t.onChangeValue=function(r,i,o){for(var s=r,a=0;a<this.registry.onChangeValue.length;a++)s=this.registry.onChangeValue[a](s,i,o);return s},t.use=function(r,i){i===void 0&&(i={queue:"external"});var o=this.plugins[i.queue];o.indexOf(r)===-1&&(o.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(s,a){for(var f in a)f in s&&s[f].push(a[f]);return s},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),fve=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(r){var i=this.registry,o=r.options.index;if(i.indexOf(r)===-1){if(i.length===0||o>=this.index){i.push(r);return}for(var s=0;s<i.length;s++)if(i[s].options.index>o){i.splice(s,0,r);return}}},t.reset=function(){this.registry=[]},t.remove=function(r){var i=this.registry.indexOf(r);this.registry.splice(i,1)},t.toString=function(r){for(var i=r===void 0?{}:r,o=i.attached,s=bt(i,["attached"]),a=Tg(s),f=a.linebreak,h="",g=0;g<this.registry.length;g++){var y=this.registry[g];o!=null&&y.attached!==o||(h&&(h+=f),h+=y.toString(s))}return h},p7(e,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),e}(),f0=new fve,NM=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),zM="2f1acc6c3a606b082e5eef5e54414ffb";NM[zM]==null&&(NM[zM]=0);var K3=NM[zM]++,Z3=function(t){t===void 0&&(t={});var n=0,r=function(o,s){n+=1;var a="",f="";return s&&(s.options.classNamePrefix&&(f=s.options.classNamePrefix),s.options.jss.id!=null&&(a=String(s.options.jss.id))),t.minify?""+(f||"c")+K3+a+n:f+o.key+"-"+K3+(a?"-"+a:"")+"-"+n};return r},y7=function(t){var n;return function(){return n||(n=t()),n}},hve=function(t,n){try{return t.attributeStyleMap?t.attributeStyleMap.get(n):t.style.getPropertyValue(n)}catch{return""}},pve=function(t,n,r){try{var i=r;if(Array.isArray(r)&&(i=th(r)),t.attributeStyleMap)t.attributeStyleMap.set(n,i);else{var o=i?i.indexOf("!important"):-1,s=o>-1?i.substr(0,o-1):i;t.style.setProperty(n,s,o>-1?"important":"")}}catch{return!1}return!0},mve=function(t,n){try{t.attributeStyleMap?t.attributeStyleMap.delete(n):t.style.removeProperty(n)}catch{}},gve=function(t,n){return t.selectorText=n,t.selectorText===n},v7=y7(function(){return document.querySelector("head")});function yve(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}function vve(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}function xve(e){for(var t=v7(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(r.nodeType===8&&r.nodeValue.trim()===e)return r}return null}function bve(e){var t=f0.registry;if(t.length>0){var n=yve(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=vve(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&typeof r=="string"){var i=xve(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function _ve(e,t){var n=t.insertionPoint,r=bve(t);if(r!==!1&&r.parent){r.parent.insertBefore(e,r.node);return}if(n&&typeof n.nodeType=="number"){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling);return}v7().appendChild(e)}var wve=y7(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),X3=function(t,n,r){try{"insertRule"in t?t.insertRule(n,r):"appendRule"in t&&t.appendRule(n)}catch{return!1}return t.cssRules[r]},J3=function(t,n){var r=t.cssRules.length;return n===void 0||n>r?r:n},Sve=function(){var t=document.createElement("style");return t.textContent=`
`,t},Cve=function(){function e(n){this.getPropertyValue=hve,this.setProperty=pve,this.removeProperty=mve,this.setSelector=gve,this.hasInsertedRules=!1,this.cssRules=[],n&&f0.add(n),this.sheet=n;var r=this.sheet?this.sheet.options:{},i=r.media,o=r.meta,s=r.element;this.element=s||Sve(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),o&&this.element.setAttribute("data-meta",o);var a=wve();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!(this.element.parentNode||!this.sheet)){_ve(this.element,this.sheet.options);var r=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},t.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},t.insertRules=function(r,i){for(var o=0;o<r.index.length;o++)this.insertRule(r.index[o],o,i)},t.insertRule=function(r,i,o){if(o===void 0&&(o=this.element.sheet),r.rules){var s=r,a=o;if(r.type==="conditional"||r.type==="keyframes"){var f=J3(o,i);if(a=X3(o,s.toString({children:!1}),f),a===!1)return!1;this.refCssRule(r,f,a)}return this.insertRules(s.rules,a),a}var h=r.toString();if(!h)return!1;var g=J3(o,i),y=X3(o,h,g);return y===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,g,y),y)},t.refCssRule=function(r,i,o){r.renderable=o,r.options.parent instanceof g7&&this.cssRules.splice(i,0,o)},t.deleteRule=function(r){var i=this.element.sheet,o=this.indexOf(r);return o===-1?!1:(i.deleteRule(o),this.cssRules.splice(o,1),!0)},t.indexOf=function(r){return this.cssRules.indexOf(r)},t.replaceRule=function(r,i){var o=this.indexOf(r);return o===-1?!1:(this.element.sheet.deleteRule(o),this.cssRules.splice(o,1),this.insertRule(i,o))},t.getRules=function(){return this.element.sheet.cssRules},e}(),kve=0,Tve=function(){function e(n){this.id=kve++,this.version="10.10.0",this.plugins=new dve,this.options={id:{minify:!1},createGenerateId:Z3,Renderer:sb?Cve:null,plugins:[]},this.generateId=Z3({minify:!1});for(var r=0;r<G3.length;r++)this.plugins.use(G3[r],{queue:"internal"});this.setup(n)}var t=e.prototype;return t.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=te({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},t.createStyleSheet=function(r,i){i===void 0&&(i={});var o=i,s=o.index;typeof s!="number"&&(s=f0.index===0?0:f0.index+1);var a=new g7(r,te({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:s}));return this.plugins.onProcessSheet(a),a},t.removeStyleSheet=function(r){return r.detach(),f0.remove(r),this},t.createRule=function(r,i,o){if(i===void 0&&(i={}),o===void 0&&(o={}),typeof r=="object")return this.createRule(void 0,r,i);var s=te({},o,{name:r,jss:this,Renderer:this.options.Renderer});s.generateId||(s.generateId=this.generateId),s.classes||(s.classes={}),s.keyframes||(s.keyframes={});var a=CR(r,i,s);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var r=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return o.forEach(function(a){r.plugins.use(a)}),this},e}(),x7=function(t){return new Tve(t)},TR=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function b7(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if(i==="function")t||(t={}),t[n]=r;else if(i==="object"&&r!==null&&!Array.isArray(r)){var o=b7(r);o&&(t||(t={}),t[n]=o)}}return t}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */x7();function _7(e={}){const{baseClasses:t,newClasses:n,Component:r}=e;if(!n)return t;const i=te({},t);return Object.keys(n).forEach(o=>{n[o]&&(i[o]=`${t[o]} ${n[o]}`)}),i}const Pve={set:(e,t,n,r)=>{let i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:(e,t,n)=>{const r=e.get(t);return r?r.get(n):void 0},delete:(e,t,n)=>{e.get(t).delete(n)}},Jp=Pve;function w7(){var e;const t=tR();return(e=t==null?void 0:t.$$material)!=null?e:t}const Eve=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function Ove(e={}){const{disableGlobal:t=!1,productionPrefix:n="jss",seed:r=""}=e,i=r===""?"":`${r}-`;let o=0;const s=()=>(o+=1,o);return(a,f)=>{const h=f.options.name;if(h&&h.indexOf("Mui")===0&&!f.options.link&&!t){if(Eve.indexOf(a.key)!==-1)return`Mui-${a.key}`;const g=`${i}${h}-${a.key}`;return!f.options.theme[O9]||r!==""?g:`${g}-${s()}`}return`${i}${n}${s()}`}}var S7=Date.now(),JP="fnValues"+S7,QP="fnStyle"+ ++S7,Mve=function(){return{onCreateRule:function(n,r,i){if(typeof r!="function")return null;var o=CR(n,{},i);return o[QP]=r,o},onProcessStyle:function(n,r){if(JP in r||QP in r)return n;var i={};for(var o in n){var s=n[o];typeof s=="function"&&(delete n[o],i[o]=s)}return r[JP]=i,n},onUpdate:function(n,r,i,o){var s=r,a=s[QP];a&&(s.style=a(n)||{});var f=s[JP];if(f)for(var h in f)s.prop(h,f[h](n),o)}}},Ad="@global",BM="@global ",Ave=function(){function e(n,r,i){this.type="global",this.at=Ad,this.isProcessed=!1,this.key=n,this.options=i,this.rules=new EC(te({},i,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(r){return this.rules.get(r)},t.addRule=function(r,i,o){var s=this.rules.add(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.replaceRule=function(r,i,o){var s=this.rules.replace(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.indexOf=function(r){return this.rules.indexOf(r)},t.toString=function(r){return this.rules.toString(r)},e}(),Ive=function(){function e(n,r,i){this.type="global",this.at=Ad,this.isProcessed=!1,this.key=n,this.options=i;var o=n.substr(BM.length);this.rule=i.jss.createRule(o,r,te({},i,{parent:this}))}var t=e.prototype;return t.toString=function(r){return this.rule?this.rule.toString(r):""},e}(),$ve=/\s*,\s*/g;function C7(e,t){for(var n=e.split($ve),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}function Rve(e,t){var n=e.options,r=e.style,i=r?r[Ad]:null;if(i){for(var o in i)t.addRule(o,i[o],te({},n,{selector:C7(o,e.selector)}));delete r[Ad]}}function Dve(e,t){var n=e.options,r=e.style;for(var i in r)if(!(i[0]!=="@"||i.substr(0,Ad.length)!==Ad)){var o=C7(i.substr(Ad.length),e.selector);t.addRule(o,r[i],te({},n,{selector:o})),delete r[i]}}function Lve(){function e(n,r,i){if(!n)return null;if(n===Ad)return new Ave(n,r,i);if(n[0]==="@"&&n.substr(0,BM.length)===BM)return new Ive(n,r,i);var o=i.parent;return o&&(o.type==="global"||o.options.parent&&o.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=n),null}function t(n,r){n.type!=="style"||!r||(Rve(n,r),Dve(n,r))}return{onCreateRule:e,onProcessRule:t}}var Q3=/\s*,\s*/g,jve=/&/g,Nve=/\$([\w-]+)/g;function zve(){function e(i,o){return function(s,a){var f=i.getRule(a)||o&&o.getRule(a);return f?f.selector:a}}function t(i,o){for(var s=o.split(Q3),a=i.split(Q3),f="",h=0;h<s.length;h++)for(var g=s[h],y=0;y<a.length;y++){var x=a[y];f&&(f+=", "),f+=x.indexOf("&")!==-1?x.replace(jve,g):g+" "+x}return f}function n(i,o,s){if(s)return te({},s,{index:s.index+1});var a=i.options.nestingLevel;a=a===void 0?1:a+1;var f=te({},i.options,{nestingLevel:a,index:o.indexOf(i)+1});return delete f.name,f}function r(i,o,s){if(o.type!=="style")return i;var a=o,f=a.options.parent,h,g;for(var y in i){var x=y.indexOf("&")!==-1,T=y[0]==="@";if(!(!x&&!T)){if(h=n(a,f,h),x){var E=t(y,a.selector);g||(g=e(f,s)),E=E.replace(Nve,g);var C=a.key+"-"+y;"replaceRule"in f?f.replaceRule(C,i[y],te({},h,{selector:E})):f.addRule(C,i[y],te({},h,{selector:E}))}else T&&f.addRule(y,{},h).addRule(a.key,i[y],{selector:a.selector});delete i[y]}}return i}return{onProcessStyle:r}}var Bve=/[A-Z]/g,Fve=/^ms-/,eE={};function Uve(e){return"-"+e.toLowerCase()}function k7(e){if(eE.hasOwnProperty(e))return eE[e];var t=e.replace(Bve,Uve);return eE[e]=Fve.test(t)?"-"+t:t}function iS(e){var t={};for(var n in e){var r=n.indexOf("--")===0?n:k7(n);t[r]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(iS):t.fallbacks=iS(e.fallbacks)),t}function Vve(){function e(n){if(Array.isArray(n)){for(var r=0;r<n.length;r++)n[r]=iS(n[r]);return n}return iS(n)}function t(n,r,i){if(r.indexOf("--")===0)return n;var o=k7(r);return r===o?n:(i.prop(o,n),null)}return{onProcessStyle:e,onChangeValue:t}}var et=TR&&CSS?CSS.px:"px",f1=TR&&CSS?CSS.ms:"ms",wp=TR&&CSS?CSS.percent:"%",Wve={"animation-delay":f1,"animation-duration":f1,"background-position":et,"background-position-x":et,"background-position-y":et,"background-size":et,border:et,"border-bottom":et,"border-bottom-left-radius":et,"border-bottom-right-radius":et,"border-bottom-width":et,"border-left":et,"border-left-width":et,"border-radius":et,"border-right":et,"border-right-width":et,"border-top":et,"border-top-left-radius":et,"border-top-right-radius":et,"border-top-width":et,"border-width":et,"border-block":et,"border-block-end":et,"border-block-end-width":et,"border-block-start":et,"border-block-start-width":et,"border-block-width":et,"border-inline":et,"border-inline-end":et,"border-inline-end-width":et,"border-inline-start":et,"border-inline-start-width":et,"border-inline-width":et,"border-start-start-radius":et,"border-start-end-radius":et,"border-end-start-radius":et,"border-end-end-radius":et,margin:et,"margin-bottom":et,"margin-left":et,"margin-right":et,"margin-top":et,"margin-block":et,"margin-block-end":et,"margin-block-start":et,"margin-inline":et,"margin-inline-end":et,"margin-inline-start":et,padding:et,"padding-bottom":et,"padding-left":et,"padding-right":et,"padding-top":et,"padding-block":et,"padding-block-end":et,"padding-block-start":et,"padding-inline":et,"padding-inline-end":et,"padding-inline-start":et,"mask-position-x":et,"mask-position-y":et,"mask-size":et,height:et,width:et,"min-height":et,"max-height":et,"min-width":et,"max-width":et,bottom:et,left:et,top:et,right:et,inset:et,"inset-block":et,"inset-block-end":et,"inset-block-start":et,"inset-inline":et,"inset-inline-end":et,"inset-inline-start":et,"box-shadow":et,"text-shadow":et,"column-gap":et,"column-rule":et,"column-rule-width":et,"column-width":et,"font-size":et,"font-size-delta":et,"letter-spacing":et,"text-decoration-thickness":et,"text-indent":et,"text-stroke":et,"text-stroke-width":et,"word-spacing":et,motion:et,"motion-offset":et,outline:et,"outline-offset":et,"outline-width":et,perspective:et,"perspective-origin-x":wp,"perspective-origin-y":wp,"transform-origin":wp,"transform-origin-x":wp,"transform-origin-y":wp,"transform-origin-z":wp,"transition-delay":f1,"transition-duration":f1,"vertical-align":et,"flex-basis":et,"shape-margin":et,size:et,gap:et,grid:et,"grid-gap":et,"row-gap":et,"grid-row-gap":et,"grid-column-gap":et,"grid-template-rows":et,"grid-template-columns":et,"grid-auto-rows":et,"grid-auto-columns":et,"box-shadow-x":et,"box-shadow-y":et,"box-shadow-blur":et,"box-shadow-spread":et,"font-line-height":et,"text-shadow-x":et,"text-shadow-y":et,"text-shadow-blur":et};function T7(e){var t=/(-[a-z])/g,n=function(s){return s[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var qve=T7(Wve);function h0(e,t,n){if(t==null)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=h0(e,t[r],n);else if(typeof t=="object")if(e==="fallbacks")for(var i in t)t[i]=h0(i,t[i],n);else for(var o in t)t[o]=h0(e+"-"+o,t[o],n);else if(typeof t=="number"&&isNaN(t)===!1){var s=n[e]||qve[e];return s&&!(t===0&&s===et)?typeof s=="function"?s(t).toString():""+t+s:t.toString()}return t}function Hve(e){e===void 0&&(e={});var t=T7(e);function n(i,o){if(o.type!=="style")return i;for(var s in i)i[s]=h0(s,i[s],t);return i}function r(i,o){return h0(o,i,t)}return{onProcessStyle:n,onChangeValue:r}}function FM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gve(e){if(Array.isArray(e))return FM(e)}function Yve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kve(e,t){if(e){if(typeof e=="string")return FM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FM(e,t)}}function Zve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xve(e){return Gve(e)||Yve(e)||Kve(e)||Zve()}var Hv="",UM="",P7="",E7="",Jve=sb&&"ontouchstart"in document.documentElement;if(sb){var tE={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Qve=document.createElement("p"),nE=Qve.style,e0e="Transform";for(var rE in tE)if(rE+e0e in nE){Hv=rE,UM=tE[rE];break}Hv==="Webkit"&&"msHyphens"in nE&&(Hv="ms",UM=tE.ms,E7="edge"),Hv==="Webkit"&&"-apple-trailing-word"in nE&&(P7="apple")}var kn={js:Hv,css:UM,vendor:P7,browser:E7,isTouch:Jve};function t0e(e){return e[1]==="-"||kn.js==="ms"?e:"@"+kn.css+"keyframes"+e.substr(10)}var n0e={noPrefill:["appearance"],supportedProperty:function(t){return t!=="appearance"?!1:kn.js==="ms"?"-webkit-"+t:kn.css+t}},r0e={noPrefill:["color-adjust"],supportedProperty:function(t){return t!=="color-adjust"?!1:kn.js==="Webkit"?kn.css+"print-"+t:t}},i0e=/[-\s]+(.)?/g;function o0e(e,t){return t?t.toUpperCase():""}function PR(e){return e.replace(i0e,o0e)}function Fd(e){return PR("-"+e)}var a0e={noPrefill:["mask"],supportedProperty:function(t,n){if(!/^mask/.test(t))return!1;if(kn.js==="Webkit"){var r="mask-image";if(PR(r)in n)return t;if(kn.js+Fd(r)in n)return kn.css+t}return t}},s0e={noPrefill:["text-orientation"],supportedProperty:function(t){return t!=="text-orientation"?!1:kn.vendor==="apple"&&!kn.isTouch?kn.css+t:t}},l0e={noPrefill:["transform"],supportedProperty:function(t,n,r){return t!=="transform"?!1:r.transform?t:kn.css+t}},c0e={noPrefill:["transition"],supportedProperty:function(t,n,r){return t!=="transition"?!1:r.transition?t:kn.css+t}},u0e={noPrefill:["writing-mode"],supportedProperty:function(t){return t!=="writing-mode"?!1:kn.js==="Webkit"||kn.js==="ms"&&kn.browser!=="edge"?kn.css+t:t}},d0e={noPrefill:["user-select"],supportedProperty:function(t){return t!=="user-select"?!1:kn.js==="Moz"||kn.js==="ms"||kn.vendor==="apple"?kn.css+t:t}},f0e={supportedProperty:function(t,n){if(!/^break-/.test(t))return!1;if(kn.js==="Webkit"){var r="WebkitColumn"+Fd(t);return r in n?kn.css+"column-"+t:!1}if(kn.js==="Moz"){var i="page"+Fd(t);return i in n?"page-"+t:!1}return!1}},h0e={supportedProperty:function(t,n){if(!/^(border|margin|padding)-inline/.test(t))return!1;if(kn.js==="Moz")return t;var r=t.replace("-inline","");return kn.js+Fd(r)in n?kn.css+r:!1}},p0e={supportedProperty:function(t,n){return PR(t)in n?t:!1}},m0e={supportedProperty:function(t,n){var r=Fd(t);return t[0]==="-"||t[0]==="-"&&t[1]==="-"?t:kn.js+r in n?kn.css+t:kn.js!=="Webkit"&&"Webkit"+r in n?"-webkit-"+t:!1}},g0e={supportedProperty:function(t){return t.substring(0,11)!=="scroll-snap"?!1:kn.js==="ms"?""+kn.css+t:t}},y0e={supportedProperty:function(t){return t!=="overscroll-behavior"?!1:kn.js==="ms"?kn.css+"scroll-chaining":t}},v0e={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},x0e={supportedProperty:function(t,n){var r=v0e[t];return r&&kn.js+Fd(r)in n?kn.css+r:!1}},O7={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},b0e=Object.keys(O7),_0e=function(t){return kn.css+t},w0e={supportedProperty:function(t,n,r){var i=r.multiple;if(b0e.indexOf(t)>-1){var o=O7[t];if(!Array.isArray(o))return kn.js+Fd(o)in n?kn.css+o:!1;if(!i)return!1;for(var s=0;s<o.length;s++)if(!(kn.js+Fd(o[0])in n))return!1;return o.map(_0e)}return!1}},M7=[n0e,r0e,a0e,s0e,l0e,c0e,u0e,d0e,f0e,h0e,p0e,m0e,g0e,y0e,x0e,w0e],eB=M7.filter(function(e){return e.supportedProperty}).map(function(e){return e.supportedProperty}),S0e=M7.filter(function(e){return e.noPrefill}).reduce(function(e,t){return e.push.apply(e,Xve(t.noPrefill)),e},[]),Gv,Nf={};if(sb){Gv=document.createElement("p");var iE=window.getComputedStyle(document.documentElement,"");for(var oE in iE)isNaN(oE)||(Nf[iE[oE]]=iE[oE]);S0e.forEach(function(e){return delete Nf[e]})}function VM(e,t){if(t===void 0&&(t={}),!Gv)return e;if(Nf[e]!=null)return Nf[e];(e==="transition"||e==="transform")&&(t[e]=e in Gv.style);for(var n=0;n<eB.length&&(Nf[e]=eB[n](e,Gv.style,t),!Nf[e]);n++);try{Gv.style[e]=""}catch{return!1}return Nf[e]}var Sp={},C0e={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},k0e=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,id;function T0e(e,t,n){if(t==="var")return"var";if(t==="all")return"all";if(n==="all")return", all";var r=t?VM(t):", "+VM(n);return r||t||n}sb&&(id=document.createElement("p"));function tB(e,t){var n=t;if(!id||e==="content")return t;if(typeof n!="string"||!isNaN(parseInt(n,10)))return n;var r=e+n;if(Sp[r]!=null)return Sp[r];try{id.style[e]=n}catch{return Sp[r]=!1,!1}if(C0e[e])n=n.replace(k0e,T0e);else if(id.style[e]===""&&(n=kn.css+n,n==="-ms-flex"&&(id.style[e]="-ms-flexbox"),id.style[e]=n,id.style[e]===""))return Sp[r]=!1,!1;return id.style[e]="",Sp[r]=n,Sp[r]}function P0e(){function e(i){if(i.type==="keyframes"){var o=i;o.at=t0e(o.at)}}function t(i){for(var o in i){var s=i[o];if(o==="fallbacks"&&Array.isArray(s)){i[o]=s.map(t);continue}var a=!1,f=VM(o);f&&f!==o&&(a=!0);var h=!1,g=tB(f,th(s));g&&g!==s&&(h=!0),(a||h)&&(a&&delete i[o],i[f||o]=g||s)}return i}function n(i,o){return o.type!=="style"?i:t(i)}function r(i,o){return tB(o,th(i))||i}return{onProcessRule:e,onProcessStyle:n,onChangeValue:r}}function E0e(){var e=function(n,r){return n.length===r.length?n>r?1:-1:n.length-r.length};return{onProcessStyle:function(n,r){if(r.type!=="style")return n;for(var i={},o=Object.keys(n).sort(e),s=0;s<o.length;s++)i[o[s]]=n[o[s]];return i}}}function O0e(){return{plugins:[Mve(),Lve(),zve(),Vve(),Hve(),typeof window>"u"?null:P0e(),E0e()]}}const M0e=x7(O0e()),A0e=Ove(),I0e=new Map,$0e={disableGeneration:!1,generateClassName:A0e,jss:M0e,sheetsCache:null,sheetsManager:I0e,sheetsRegistry:null},R0e=U.createContext($0e);let nB=-1e9;function D0e(){return nB+=1,nB}const L0e=["variant"];function rB(e){return e.length===0}function j0e(e){const{variant:t}=e,n=bt(e,L0e);let r=t||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=rB(r)?e[i]:ft(e[i]):r+=`${rB(r)?i:ft(i)}${ft(e[i].toString())}`}),r}const N0e={},z0e=N0e;function B0e(e){const t=typeof e=="function";return{create:(n,r)=>{let i;try{i=t?e(n):e}catch(f){throw f}if(!r||!n.components||!n.components[r]||!n.components[r].styleOverrides&&!n.components[r].variants)return i;const o=n.components[r].styleOverrides||{},s=n.components[r].variants||[],a=te({},i);return Object.keys(o).forEach(f=>{a[f]=zo(a[f]||{},o[f])}),s.forEach(f=>{const h=j0e(f.props);a[h]=zo(a[h]||{},f.style)}),a},options:{}}}const F0e=["name","classNamePrefix","Component","defaultTheme"];function U0e({state:e,stylesOptions:t},n,r){if(t.disableGeneration)return n||{};e.cacheClasses||(e.cacheClasses={value:null,lastProp:null,lastJSS:{}});let i=!1;return e.classes!==e.cacheClasses.lastJSS&&(e.cacheClasses.lastJSS=e.classes,i=!0),n!==e.cacheClasses.lastProp&&(e.cacheClasses.lastProp=n,i=!0),i&&(e.cacheClasses.value=_7({baseClasses:e.cacheClasses.lastJSS,newClasses:n,Component:r})),e.cacheClasses.value}function V0e({state:e,theme:t,stylesOptions:n,stylesCreator:r,name:i},o){if(n.disableGeneration)return;let s=Jp.get(n.sheetsManager,r,t);s||(s={refs:0,staticSheet:null,dynamicStyles:null},Jp.set(n.sheetsManager,r,t,s));const a=te({},r.options,n,{theme:t,flip:typeof n.flip=="boolean"?n.flip:t.direction==="rtl"});a.generateId=a.serverGenerateClassName||a.generateClassName;const f=n.sheetsRegistry;if(s.refs===0){let h;n.sheetsCache&&(h=Jp.get(n.sheetsCache,r,t));const g=r.create(t,i);h||(h=n.jss.createStyleSheet(g,te({link:!1},a)),h.attach(),n.sheetsCache&&Jp.set(n.sheetsCache,r,t,h)),f&&f.add(h),s.staticSheet=h,s.dynamicStyles=b7(g)}if(s.dynamicStyles){const h=n.jss.createStyleSheet(s.dynamicStyles,te({link:!0},a));h.update(o),h.attach(),e.dynamicSheet=h,e.classes=_7({baseClasses:s.staticSheet.classes,newClasses:h.classes}),f&&f.add(h)}else e.classes=s.staticSheet.classes;s.refs+=1}function W0e({state:e},t){e.dynamicSheet&&e.dynamicSheet.update(t)}function q0e({state:e,theme:t,stylesOptions:n,stylesCreator:r}){if(n.disableGeneration)return;const i=Jp.get(n.sheetsManager,r,t);i.refs-=1;const o=n.sheetsRegistry;i.refs===0&&(Jp.delete(n.sheetsManager,r,t),n.jss.removeStyleSheet(i.staticSheet),o&&o.remove(i.staticSheet)),e.dynamicSheet&&(n.jss.removeStyleSheet(e.dynamicSheet),o&&o.remove(e.dynamicSheet))}function H0e(e,t){const n=U.useRef([]);let r;const i=U.useMemo(()=>({}),t);n.current!==i&&(n.current=i,r=e()),U.useEffect(()=>()=>{r&&r()},[i])}function Nr(e,t={}){const{name:n,classNamePrefix:r,Component:i,defaultTheme:o=z0e}=t,s=bt(t,F0e),a=B0e(e),f=n||r||"makeStyles";return a.options={index:D0e(),name:n,meta:f,classNamePrefix:f},(g={})=>{const y=w7()||o,x=te({},U.useContext(R0e),s),T=U.useRef(),E=U.useRef();return H0e(()=>{const O={name:n,state:{},stylesCreator:a,stylesOptions:x,theme:y};return V0e(O,g),E.current=!1,T.current=O,()=>{q0e(O)}},[y,a]),U.useEffect(()=>{E.current&&W0e(T.current,g),E.current=!0}),U0e(T.current,g.classes,i)}}const G0e="/assets/alarm-zNGFGtq_.mp3";function A7(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=A7(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function kh(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=A7(e))&&(r&&(r+=" "),r+=t);return r}let Y0e={data:""},K0e=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Y0e,Z0e=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,X0e=/\/\*[^]*?\*\/|  +/g,iB=/\n+/g,zf=(e,t)=>{let n="",r="",i="";for(let o in e){let s=e[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?zf(s,o):o+"{"+zf(s,o[1]=="k"?"":t)+"}":typeof s=="object"?r+=zf(s,t?t.replace(/([^,])+/g,a=>o.replace(/(^:.*)|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,a):a?a+" "+f:f)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=zf.p?zf.p(o,s):o+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Rc={},I7=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+I7(e[n]);return t}return e},J0e=(e,t,n,r,i)=>{let o=I7(e),s=Rc[o]||(Rc[o]=(f=>{let h=0,g=11;for(;h<f.length;)g=101*g+f.charCodeAt(h++)>>>0;return"go"+g})(o));if(!Rc[s]){let f=o!==e?e:(h=>{let g,y,x=[{}];for(;g=Z0e.exec(h.replace(X0e,""));)g[4]?x.shift():g[3]?(y=g[3].replace(iB," ").trim(),x.unshift(x[0][y]=x[0][y]||{})):x[0][g[1]]=g[2].replace(iB," ").trim();return x[0]})(e);Rc[s]=zf(i?{["@keyframes "+s]:f}:f,n?"":"."+s)}let a=n&&Rc.g?Rc.g:null;return n&&(Rc.g=Rc[s]),((f,h,g,y)=>{y?h.data=h.data.replace(y,f):h.data.indexOf(f)===-1&&(h.data=g?f+h.data:h.data+f)})(Rc[s],t,r,a),s},Q0e=(e,t,n)=>e.reduce((r,i,o)=>{let s=t[o];if(s&&s.call){let a=s(n),f=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=f?"."+f:a&&typeof a=="object"?a.props?"":zf(a,""):a===!1?"":a}return r+i+(s??"")},"");function ER(e){let t=this||{},n=e.call?e(t.p):e;return J0e(n.unshift?n.raw?Q0e(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,K0e(t.target),t.g,t.o,t.k)}ER.bind({g:1});ER.bind({k:1});function oB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $7(e,t,n){return t&&oB(e.prototype,t),n&&oB(e,n),e}function Sr(){return Sr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sr.apply(this,arguments)}function R7(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function lb(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function aB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var sB=function(){return""},exe=Ee.createContext({enqueueSnackbar:sB,closeSnackbar:sB}),$f={downXs:"@media (max-width:599.95px)",upSm:"@media (min-width:600px)"},lB=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},OR=function(t){return""+lB(t.vertical)+lB(t.horizontal)},h1=function(t){return!!t||t===0},p1="unmounted",Cp="exited",kp="entering",wv="entered",cB="exiting",MR=function(e){R7(t,e);function t(r){var i;i=e.call(this,r)||this;var o=r.appear,s;return i.appearStatus=null,r.in?o?(s=Cp,i.appearStatus=kp):s=wv:r.unmountOnExit||r.mountOnEnter?s=p1:s=Cp,i.state={status:s},i.nextCallback=null,i}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===p1?{status:Cp}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==kp&&s!==wv&&(o=kp):(s===kp||s===wv)&&(o=cB)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o=i,s=i;return i!=null&&typeof i!="number"&&typeof i!="string"&&(s=i.exit,o=i.enter),{exit:s,enter:o}},n.updateStatus=function(i,o){i===void 0&&(i=!1),o!==null?(this.cancelNextCallback(),o===kp?this.performEnter(i):this.performExit()):this.props.unmountOnExit&&this.state.status===Cp&&this.setState({status:p1})},n.performEnter=function(i){var o=this,s=this.props.enter,a=i,f=this.getTimeouts();if(!i&&!s){this.safeSetState({status:wv},function(){o.props.onEntered&&o.props.onEntered(o.node,a)});return}this.props.onEnter&&this.props.onEnter(this.node,a),this.safeSetState({status:kp},function(){o.props.onEntering&&o.props.onEntering(o.node,a),o.onTransitionEnd(f.enter,function(){o.safeSetState({status:wv},function(){o.props.onEntered&&o.props.onEntered(o.node,a)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts();if(!o){this.safeSetState({status:Cp},function(){i.props.onExited&&i.props.onExited(i.node)});return}this.props.onExit&&this.props.onExit(this.node),this.safeSetState({status:cB},function(){i.props.onExiting&&i.props.onExiting(i.node),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Cp},function(){i.props.onExited&&i.props.onExited(i.node)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&this.nextCallback.cancel&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(){s&&(s=!1,o.nextCallback=null,i())},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=i==null&&!this.props.addEndListener;if(!this.node||s){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(this.node,this.nextCallback),i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===p1)return null;var o=this.props,s=o.children,a=lb(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return s(i,a)},$7(t,[{key:"node",get:function(){var i,o=(i=this.props.nodeRef)===null||i===void 0?void 0:i.current;if(!o)throw new Error("notistack - Custom snackbar is not refForwarding");return o}}]),t}(Ee.Component);function Tp(){}MR.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Tp,onEntering:Tp,onEntered:Tp,onExit:Tp,onExiting:Tp,onExited:Tp};function uB(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function WM(e,t){return U.useMemo(function(){return e==null&&t==null?null:function(n){uB(e,n),uB(t,n)}},[e,t])}function oS(e){var t=e.timeout,n=e.style,r=n===void 0?{}:n,i=e.mode;return{duration:typeof t=="object"?t[i]||0:t,easing:r.transitionTimingFunction,delay:r.transitionDelay}}var qM={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},D7=function(t){t.scrollTop=t.scrollTop},dB=function(t){return Math.round(t)+"ms"};function Qp(e,t){e===void 0&&(e=["all"]);var n=t||{},r=n.duration,i=r===void 0?300:r,o=n.easing,s=o===void 0?qM.easeInOut:o,a=n.delay,f=a===void 0?0:a,h=Array.isArray(e)?e:[e];return h.map(function(g){var y=typeof i=="string"?i:dB(i),x=typeof f=="string"?f:dB(f);return g+" "+y+" "+s+" "+x}).join(",")}function txe(e){return e&&e.ownerDocument||document}function L7(e){var t=txe(e);return t.defaultView||window}function nxe(e,t){t===void 0&&(t=166);var n;function r(){for(var i=this,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var f=function(){e.apply(i,s)};clearTimeout(n),n=setTimeout(f,t)}return r.clear=function(){clearTimeout(n)},r}function rxe(e,t){var n=t.getBoundingClientRect(),r=L7(t),i;if(t.fakeTransform)i=t.fakeTransform;else{var o=r.getComputedStyle(t);i=o.getPropertyValue("-webkit-transform")||o.getPropertyValue("transform")}var s=0,a=0;if(i&&i!=="none"&&typeof i=="string"){var f=i.split("(")[1].split(")")[0].split(",");s=parseInt(f[4],10),a=parseInt(f[5],10)}switch(e){case"left":return"translateX("+(r.innerWidth+s-n.left)+"px)";case"right":return"translateX(-"+(n.left+n.width-s)+"px)";case"up":return"translateY("+(r.innerHeight+a-n.top)+"px)";default:return"translateY(-"+(n.top+n.height-a)+"px)"}}function m1(e,t){if(t){var n=rxe(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}}var j7=U.forwardRef(function(e,t){var n=e.children,r=e.direction,i=r===void 0?"down":r,o=e.in,s=e.style,a=e.timeout,f=a===void 0?0:a,h=e.onEnter,g=e.onEntered,y=e.onExit,x=e.onExited,T=lb(e,["children","direction","in","style","timeout","onEnter","onEntered","onExit","onExited"]),E=U.useRef(null),C=WM(n.ref,E),O=WM(C,t),A=function(F,q){m1(i,F),D7(F),h&&h(F,q)},M=function(F){var q=(s==null?void 0:s.transitionTimingFunction)||qM.easeOut,X=oS({timeout:f,mode:"enter",style:Sr({},s,{transitionTimingFunction:q})});F.style.webkitTransition=Qp("-webkit-transform",X),F.style.transition=Qp("transform",X),F.style.webkitTransform="none",F.style.transform="none"},I=function(F){var q=(s==null?void 0:s.transitionTimingFunction)||qM.sharp,X=oS({timeout:f,mode:"exit",style:Sr({},s,{transitionTimingFunction:q})});F.style.webkitTransition=Qp("-webkit-transform",X),F.style.transition=Qp("transform",X),m1(i,F),y&&y(F)},N=function(F){F.style.webkitTransition="",F.style.transition="",x&&x(F)},$=U.useCallback(function(){E.current&&m1(i,E.current)},[i]);return U.useEffect(function(){if(!(o||i==="down"||i==="right")){var D=nxe(function(){E.current&&m1(i,E.current)}),F=L7(E.current);return F.addEventListener("resize",D),function(){D.clear(),F.removeEventListener("resize",D)}}},[i,o]),U.useEffect(function(){o||$()},[o,$]),U.createElement(MR,Object.assign({appear:!0,nodeRef:E,onEnter:A,onEntered:g,onEntering:M,onExit:I,onExited:N,in:o,timeout:f},T),function(D,F){return U.cloneElement(n,Sr({ref:O,style:Sr({visibility:D==="exited"&&!o?"hidden":void 0},s,{},n.props.style)},F))})});j7.displayName="Slide";var OC=function(t){return Ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",focusable:"false",style:{fontSize:20,marginInlineEnd:8,userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0}},t))},ixe=function(){return Ee.createElement(OC,null,Ee.createElement("path",{d:`M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41
        10.59L10 14.17L17.59 6.58L19 8L10 17Z`}))},oxe=function(){return Ee.createElement(OC,null,Ee.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},axe=function(){return Ee.createElement(OC,null,Ee.createElement("path",{d:`M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,
        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,
        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z`}))},sxe=function(){return Ee.createElement(OC,null,Ee.createElement("path",{d:`M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,
        0 22,12A10,10 0 0,0 12,2Z`}))},lxe={default:void 0,success:Ee.createElement(ixe,null),warning:Ee.createElement(oxe,null),error:Ee.createElement(axe,null),info:Ee.createElement(sxe,null)},nh={maxSnack:3,persist:!1,hideIconVariant:!1,disableWindowBlurListener:!1,variant:"default",autoHideDuration:5e3,iconVariant:lxe,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:j7,transitionDuration:{enter:225,exit:195}},cxe=function(t,n){var r=function(o){return typeof o=="number"||o===null};return r(t)?t:r(n)?n:nh.autoHideDuration},uxe=function(t,n){var r=function(o,s){return s.some(function(a){return typeof o===a})};return r(t,["string","number"])?t:r(t,["object"])?Sr({},nh.transitionDuration,{},r(n,["object"])&&n,{},t):r(n,["string","number"])?n:r(n,["object"])?Sr({},nh.transitionDuration,{},n):nh.transitionDuration},dxe=function(t,n){return function(r,i){return i===void 0&&(i=!1),i?Sr({},nh[r],{},n[r],{},t[r]):r==="autoHideDuration"?cxe(t.autoHideDuration,n.autoHideDuration):r==="transitionDuration"?uxe(t.transitionDuration,n.transitionDuration):t[r]||n[r]||nh[r]}};function cb(e){return Object.entries(e).reduce(function(t,n){var r,i=n[0],o=n[1];return Sr({},t,(r={},r[i]=ER(o),r))},{})}var Hm={SnackbarContainer:"notistack-SnackbarContainer",Snackbar:"notistack-Snackbar",CollapseWrapper:"notistack-CollapseWrapper",MuiContent:"notistack-MuiContent",MuiContentVariant:function(t){return"notistack-MuiContent-"+t}},fB=cb({root:{height:0},entered:{height:"auto"}}),aE="0px",sE=175,N7=U.forwardRef(function(e,t){var n=e.children,r=e.in,i=e.onExited,o=U.useRef(null),s=U.useRef(null),a=WM(t,s),f=function(){return o.current?o.current.clientHeight:0},h=function(C){C.style.height=aE},g=function(C){var O=f(),A=oS({timeout:sE,mode:"enter"}),M=A.duration,I=A.easing;C.style.transitionDuration=typeof M=="string"?M:M+"ms",C.style.height=O+"px",C.style.transitionTimingFunction=I||""},y=function(C){C.style.height="auto"},x=function(C){C.style.height=f()+"px"},T=function(C){D7(C);var O=oS({timeout:sE,mode:"exit"}),A=O.duration,M=O.easing;C.style.transitionDuration=typeof A=="string"?A:A+"ms",C.style.height=aE,C.style.transitionTimingFunction=M||""};return U.createElement(MR,{in:r,unmountOnExit:!0,onEnter:h,onEntered:y,onEntering:g,onExit:x,onExited:i,onExiting:T,nodeRef:s,timeout:sE},function(E,C){return U.createElement("div",Object.assign({ref:a,className:kh(fB.root,E==="entered"&&fB.entered),style:Sr({pointerEvents:"all",overflow:"hidden",minHeight:aE,transition:Qp("height")},E==="entered"&&{overflow:"visible"},{},E==="exited"&&!r&&{visibility:"hidden"})},C),U.createElement("div",{ref:o,className:Hm.CollapseWrapper,style:{display:"flex",width:"100%"}},n))})});N7.displayName="Collapse";var hB={right:"left",left:"right",bottom:"up",top:"down"},fxe=function(t){return t.horizontal!=="center"?hB[t.horizontal]:hB[t.vertical]},hxe=function(t){return"anchorOrigin"+OR(t)},pxe=function(t){t===void 0&&(t={});var n={containerRoot:!0,containerAnchorOriginTopCenter:!0,containerAnchorOriginBottomCenter:!0,containerAnchorOriginTopRight:!0,containerAnchorOriginBottomRight:!0,containerAnchorOriginTopLeft:!0,containerAnchorOriginBottomLeft:!0};return Object.keys(t).filter(function(r){return!n[r]}).reduce(function(r,i){var o;return Sr({},r,(o={},o[i]=t[i],o))},{})},mxe=function(){};function p0(e,t){return e.reduce(function(n,r){return r==null?n:function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var f=[].concat(s);t&&f.indexOf(t)===-1&&f.push(t),n.apply(this,f),r.apply(this,f)}},mxe)}var gxe=typeof window<"u"?U.useLayoutEffect:U.useEffect;function pB(e){var t=U.useRef(e);return gxe(function(){t.current=e}),U.useCallback(function(){return t.current.apply(void 0,arguments)},[])}var z7=U.forwardRef(function(e,t){var n=e.children,r=e.className,i=e.autoHideDuration,o=e.disableWindowBlurListener,s=o===void 0?!1:o,a=e.onClose,f=e.id,h=e.open,g=e.SnackbarProps,y=g===void 0?{}:g,x=U.useRef(),T=pB(function(){a&&a.apply(void 0,arguments)}),E=pB(function(I){!a||I==null||(x.current&&clearTimeout(x.current),x.current=setTimeout(function(){T(null,"timeout",f)},I))});U.useEffect(function(){return h&&E(i),function(){x.current&&clearTimeout(x.current)}},[h,i,E]);var C=function(){x.current&&clearTimeout(x.current)},O=U.useCallback(function(){i!=null&&E(i*.5)},[i,E]),A=function(N){y.onMouseEnter&&y.onMouseEnter(N),C()},M=function(N){y.onMouseLeave&&y.onMouseLeave(N),O()};return U.useEffect(function(){if(!s&&h)return window.addEventListener("focus",O),window.addEventListener("blur",C),function(){window.removeEventListener("focus",O),window.removeEventListener("blur",C)}},[s,O,h]),U.createElement("div",Object.assign({ref:t},y,{className:kh(Hm.Snackbar,r),onMouseEnter:A,onMouseLeave:M}),n)});z7.displayName="Snackbar";var lE,yxe=cb({root:(lE={display:"flex",flexWrap:"wrap",flexGrow:1},lE[$f.upSm]={flexGrow:"initial",minWidth:"288px"},lE)}),B7=U.forwardRef(function(e,t){var n=e.className,r=lb(e,["className"]);return Ee.createElement("div",Object.assign({ref:t,className:kh(yxe.root,n)},r))});B7.displayName="SnackbarContent";var Sv=cb({root:{backgroundColor:"#313131",fontSize:"0.875rem",lineHeight:1.43,letterSpacing:"0.01071em",color:"#fff",alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"},lessPadding:{paddingLeft:8*2.5+"px"},default:{backgroundColor:"#313131"},success:{backgroundColor:"#43a047"},error:{backgroundColor:"#d32f2f"},warning:{backgroundColor:"#ff9800"},info:{backgroundColor:"#2196f3"},message:{display:"flex",alignItems:"center",padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:"16px",marginRight:"-8px"}}),mB="notistack-snackbar",F7=U.forwardRef(function(e,t){var n=e.id,r=e.message,i=e.action,o=e.iconVariant,s=e.variant,a=e.hideIconVariant,f=e.style,h=e.className,g=o[s],y=i;return typeof y=="function"&&(y=y(n)),Ee.createElement(B7,{ref:t,role:"alert","aria-describedby":mB,style:f,className:kh(Hm.MuiContent,Hm.MuiContentVariant(s),Sv.root,Sv[s],h,!a&&g&&Sv.lessPadding)},Ee.createElement("div",{id:mB,className:Sv.message},a?null:g,r),y&&Ee.createElement("div",{className:Sv.action},y))});F7.displayName="MaterialDesignContent";var vxe=U.memo(F7),xxe=cb({wrappedRoot:{width:"100%",position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0,minWidth:"288px"}}),bxe=function(t){var n=U.useRef(),r=U.useState(!0),i=r[0],o=r[1],s=p0([t.snack.onClose,t.onClose]),a=function(){t.snack.requestClose&&s(null,"instructed",t.snack.id)},f=U.useCallback(function(){n.current=setTimeout(function(){o(function(X){return!X})},125)},[]);U.useEffect(function(){return function(){n.current&&clearTimeout(n.current)}},[]);var h=t.snack,g=t.classes,y=t.Component,x=y===void 0?vxe:y,T=U.useMemo(function(){return pxe(g)},[g]),E=h.open,C=h.SnackbarProps,O=h.TransitionComponent,A=h.TransitionProps,M=h.transitionDuration,I=h.disableWindowBlurListener,N=h.content,$=lb(h,["open","SnackbarProps","TransitionComponent","TransitionProps","transitionDuration","disableWindowBlurListener","content","entered","requestClose","onEnter","onEntered","onExit","onExited"]),D=Sr({direction:fxe($.anchorOrigin),timeout:M},A),F=N;typeof F=="function"&&(F=F($.id,$.message));var q=["onEnter","onEntered","onExit","onExited"].reduce(function(X,J){var ie;return Sr({},X,(ie={},ie[J]=p0([t.snack[J],t[J]],$.id),ie))},{});return Ee.createElement(N7,{in:i,onExited:q.onExited},Ee.createElement(z7,{open:E,id:$.id,disableWindowBlurListener:I,autoHideDuration:$.autoHideDuration,className:kh(xxe.wrappedRoot,T.root,T[hxe($.anchorOrigin)]),SnackbarProps:C,onClose:s},Ee.createElement(O,Object.assign({},D,{appear:!0,in:E,onExit:q.onExit,onExited:f,onEnter:q.onEnter,onEntered:p0([q.onEntered,a],$.id)}),F||Ee.createElement(x,Object.assign({},$)))))},Cv,cE,g1,y1,uE,Dc={view:{default:20,dense:4},snackbar:{default:6,dense:2}},gB="."+Hm.CollapseWrapper,dE=16,v1=cb({root:(Cv={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:1400,height:"auto",width:"auto",transition:Qp(["top","right","bottom","left","max-width"],{duration:300,easing:"ease"}),pointerEvents:"none"},Cv[gB]={padding:Dc.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},Cv.maxWidth="calc(100% - "+Dc.view.default*2+"px)",Cv[$f.downXs]={width:"100%",maxWidth:"calc(100% - "+dE*2+"px)"},Cv),rootDense:(cE={},cE[gB]={padding:Dc.snackbar.dense+"px 0px"},cE),top:{top:Dc.view.default-Dc.snackbar.default+"px",flexDirection:"column"},bottom:{bottom:Dc.view.default-Dc.snackbar.default+"px",flexDirection:"column-reverse"},left:(g1={left:Dc.view.default+"px"},g1[$f.upSm]={alignItems:"flex-start"},g1[$f.downXs]={left:dE+"px"},g1),right:(y1={right:Dc.view.default+"px"},y1[$f.upSm]={alignItems:"flex-end"},y1[$f.downXs]={right:dE+"px"},y1),center:(uE={left:"50%",transform:"translateX(-50%)"},uE[$f.upSm]={alignItems:"center"},uE)}),_xe=function(t){var n=t.classes,r=n===void 0?{}:n,i=t.anchorOrigin,o=t.dense,s=t.children,a=kh(Hm.SnackbarContainer,v1[i.vertical],v1[i.horizontal],v1.root,r.containerRoot,r["containerAnchorOrigin"+OR(i)],o&&v1.rootDense);return Ee.createElement("div",{className:a},s)},wxe=U.memo(_xe),yB=function(t){var n=typeof t=="string"||U.isValidElement(t);return!n},U7,Sxe=function(e){R7(t,e);function t(r){var i;return i=e.call(this,r)||this,i.enqueueSnackbar=function(o,s){if(s===void 0&&(s={}),o==null)throw new Error("enqueueSnackbar called with invalid argument");var a=yB(o)?o:s,f=yB(o)?o.message:o,h=a.key,g=a.preventDuplicate,y=lb(a,["key","preventDuplicate"]),x=h1(h),T=x?h:new Date().getTime()+Math.random(),E=dxe(y,i.props),C=Sr({id:T},y,{message:f,open:!0,entered:!1,requestClose:!1,persist:E("persist"),action:E("action"),content:E("content"),variant:E("variant"),anchorOrigin:E("anchorOrigin"),disableWindowBlurListener:E("disableWindowBlurListener"),autoHideDuration:E("autoHideDuration"),hideIconVariant:E("hideIconVariant"),TransitionComponent:E("TransitionComponent"),transitionDuration:E("transitionDuration"),TransitionProps:E("TransitionProps",!0),iconVariant:E("iconVariant",!0),style:E("style",!0),SnackbarProps:E("SnackbarProps",!0),className:kh(i.props.className,y.className)});return C.persist&&(C.autoHideDuration=void 0),i.setState(function(O){if(g===void 0&&i.props.preventDuplicate||g){var A=function($){return x?$.id===T:$.message===f},M=O.queue.findIndex(A)>-1,I=O.snacks.findIndex(A)>-1;if(M||I)return O}return i.handleDisplaySnack(Sr({},O,{queue:[].concat(O.queue,[C])}))}),T},i.handleDisplaySnack=function(o){var s=o.snacks;return s.length>=i.maxSnack?i.handleDismissOldest(o):i.processQueue(o)},i.processQueue=function(o){var s=o.queue,a=o.snacks;return s.length>0?Sr({},o,{snacks:[].concat(a,[s[0]]),queue:s.slice(1,s.length)}):o},i.handleDismissOldest=function(o){if(o.snacks.some(function(g){return!g.open||g.requestClose}))return o;var s=!1,a=!1,f=o.snacks.reduce(function(g,y){return g+(y.open&&y.persist?1:0)},0);f===i.maxSnack&&(a=!0);var h=o.snacks.map(function(g){return!s&&(!g.persist||a)?(s=!0,g.entered?(g.onClose&&g.onClose(null,"maxsnack",g.id),i.props.onClose&&i.props.onClose(null,"maxsnack",g.id),Sr({},g,{open:!1})):Sr({},g,{requestClose:!0})):Sr({},g)});return Sr({},o,{snacks:h})},i.handleEnteredSnack=function(o,s,a){if(!h1(a))throw new Error("handleEnteredSnack Cannot be called with undefined key");i.setState(function(f){var h=f.snacks;return{snacks:h.map(function(g){return g.id===a?Sr({},g,{entered:!0}):Sr({},g)})}})},i.handleCloseSnack=function(o,s,a){i.props.onClose&&i.props.onClose(o,s,a);var f=a===void 0;i.setState(function(h){var g=h.snacks,y=h.queue;return{snacks:g.map(function(x){return!f&&x.id!==a?Sr({},x):x.entered?Sr({},x,{open:!1}):Sr({},x,{requestClose:!0})}),queue:y.filter(function(x){return x.id!==a})}})},i.closeSnackbar=function(o){var s=i.state.snacks.find(function(a){return a.id===o});h1(o)&&s&&s.onClose&&s.onClose(null,"instructed",o),i.handleCloseSnack(null,"instructed",o)},i.handleExitedSnack=function(o,s){if(!h1(s))throw new Error("handleExitedSnack Cannot be called with undefined key");i.setState(function(a){var f=i.processQueue(Sr({},a,{snacks:a.snacks.filter(function(h){return h.id!==s})}));return f.queue.length===0?f:i.handleDismissOldest(f)})},U7=i.enqueueSnackbar,i.closeSnackbar,i.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:i.enqueueSnackbar.bind(aB(i)),closeSnackbar:i.closeSnackbar.bind(aB(i))}},i}var n=t.prototype;return n.render=function(){var i=this,o=this.state.contextValue,s=this.props,a=s.domRoot,f=s.children,h=s.dense,g=h===void 0?!1:h,y=s.Components,x=y===void 0?{}:y,T=s.classes,E=this.state.snacks.reduce(function(O,A){var M,I=OR(A.anchorOrigin),N=O[I]||[];return Sr({},O,(M={},M[I]=[].concat(N,[A]),M))},{}),C=Object.keys(E).map(function(O){var A=E[O],M=A[0];return Ee.createElement(wxe,{key:O,dense:g,anchorOrigin:M.anchorOrigin,classes:T},A.map(function(I){return Ee.createElement(bxe,{key:I.id,snack:I,classes:T,Component:x[I.variant],onClose:i.handleCloseSnack,onEnter:i.props.onEnter,onExit:i.props.onExit,onExited:p0([i.handleExitedSnack,i.props.onExited],I.id),onEntered:p0([i.handleEnteredSnack,i.props.onEntered],I.id)})}))});return Ee.createElement(exe.Provider,{value:o},f,a?_u.createPortal(C,a):C)},$7(t,[{key:"maxSnack",get:function(){return this.props.maxSnack||nh.maxSnack}}]),t}(U.Component);const vB=4e3,Cxe=()=>{const e=Hs();yn(h=>h.devices.items);const t=U.useRef(),[n,r]=U.useState(!0),[i,o]=U.useState([]),[s,a]=U.useState([]),f=()=>{const h=window.location.protocol==="https:"?"wss:":"ws:",g=new WebSocket(`${h}//${window.location.host}/api/socket`);console.log(`${h}//${window.location.host}/api/socket`),t.current=g,console.log("funcion web socket"),g.onopen=()=>{e(jf.updateSocket(!0)),console.log("funcion web socket open")},g.onclose=async y=>{if(console.log("funcion web socket close"),e(jf.updateSocket(!1)),y.code!==vB){try{const x=await fetch("/api/devices");x.ok&&e(Ps.update(await x.json()));const T=await fetch("/api/positions");T.ok&&e(NP.updatePositions(await T.json())),x.status===401||T.status}catch{}setTimeout(()=>f(),6e4)}},g.onmessage=y=>{const x=JSON.parse(y.data);x.devices&&(x.devices.length>0?e(Ps.update(x.devices)):e(Ps.clear())),x.positions&&e(NP.updatePositions(x.positions)),x.camera&&e(NP.updateCamera(x.camera)),x.server&&(x.server.rosState==="connect"?e(jf.updateServer(!0)):e(jf.updateServer(!1))),x.mission&&(console.log("data mission"),console.log(x.mission),e(Hc.updateMission(x.mission))),x.events&&(console.log("add data events -------"),e(iie.add(x.events)),o(x.events),console.log(x.events)),x.markers&&(console.log("add markers"),e(jf.updateMarker(x.markers)))}};return SR(async()=>{if(n){r(!1);const h=await fetch("/api/devices",{method:"GET"});if(h.ok)e(Ps.refresh(await h.json()));else throw Error(await h.text());return console.log("primera conexion --s"),f(),()=>{const g=t.current;g&&g.close(vB)}}else return null},[]),U.useEffect(()=>{console.log("set notifications"),console.log(i);let h=[];i.map(g=>{let y=!0;s.map(x=>{x.id==g.id&&(y=!1)}),y&&h.push({id:g.id,type:g.type,message:g.attributes.message,show:!0})}),console.log("aux console log"),console.log(h),h.length>0&&a(h),h.forEach(g=>{g.type==="error"&&new Audio(G0e).play()})},[i]),U.useEffect(()=>{console.log("notifications"),s.map(h=>{U7(h.message,{variant:h.type,autoHideDuration:3e3,persist:!1,onClose:()=>o(i.filter(g=>g.id!==h.id))})})},[s]),L.jsx(L.Fragment,{children:L.jsx(Sxe,{preventDuplicate:!0,maxSnack:6,autoHideDuration:5e3,anchorOrigin:{vertical:"bottom",horizontal:"right"}})})},kxe=ore()(Cxe),Txe=Nr(()=>({page:{flexGrow:1,overflow:"auto"},menu:{zIndex:4}})),Pxe=()=>{const e=Txe();return wu(),L.jsxs(L.Fragment,{children:[L.jsx(kxe,{}),L.jsx("div",{className:e.page,children:L.jsx(Yte,{})})]})},Exe=()=>{const{search:e}=I2();return U.useMemo(()=>new URLSearchParams(e),[e])};var V7={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Np,function(){var n,r,i;function o(a,f){if(!n)n=f;else if(!r)r=f;else{var h="var sharedChunk = {}; ("+n+")(sharedChunk); ("+r+")(sharedChunk);",g={};n(g),i=f(g),typeof window<"u"&&(i.workerUrl=window.URL.createObjectURL(new Blob([h],{type:"text/javascript"})))}}o(["exports"],function(a){function f(u,l,d,m){return new(d||(d=Promise))(function(b,S){function P(W){try{B(m.next(W))}catch(G){S(G)}}function R(W){try{B(m.throw(W))}catch(G){S(G)}}function B(W){var G;W.done?b(W.value):(G=W.value,G instanceof d?G:new d(function(Z){Z(G)})).then(P,R)}B((m=m.apply(u,l||[])).next())})}function h(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}typeof SuppressedError=="function"&&SuppressedError;var g=y;function y(u,l){this.x=u,this.y=l}y.prototype={clone:function(){return new y(this.x,this.y)},add:function(u){return this.clone()._add(u)},sub:function(u){return this.clone()._sub(u)},multByPoint:function(u){return this.clone()._multByPoint(u)},divByPoint:function(u){return this.clone()._divByPoint(u)},mult:function(u){return this.clone()._mult(u)},div:function(u){return this.clone()._div(u)},rotate:function(u){return this.clone()._rotate(u)},rotateAround:function(u,l){return this.clone()._rotateAround(u,l)},matMult:function(u){return this.clone()._matMult(u)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(u){return this.x===u.x&&this.y===u.y},dist:function(u){return Math.sqrt(this.distSqr(u))},distSqr:function(u){var l=u.x-this.x,d=u.y-this.y;return l*l+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(u){return Math.atan2(this.y-u.y,this.x-u.x)},angleWith:function(u){return this.angleWithSep(u.x,u.y)},angleWithSep:function(u,l){return Math.atan2(this.x*l-this.y*u,this.x*u+this.y*l)},_matMult:function(u){var l=u[2]*this.x+u[3]*this.y;return this.x=u[0]*this.x+u[1]*this.y,this.y=l,this},_add:function(u){return this.x+=u.x,this.y+=u.y,this},_sub:function(u){return this.x-=u.x,this.y-=u.y,this},_mult:function(u){return this.x*=u,this.y*=u,this},_div:function(u){return this.x/=u,this.y/=u,this},_multByPoint:function(u){return this.x*=u.x,this.y*=u.y,this},_divByPoint:function(u){return this.x/=u.x,this.y/=u.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var u=this.y;return this.y=this.x,this.x=-u,this},_rotate:function(u){var l=Math.cos(u),d=Math.sin(u),m=d*this.x+l*this.y;return this.x=l*this.x-d*this.y,this.y=m,this},_rotateAround:function(u,l){var d=Math.cos(u),m=Math.sin(u),b=l.y+m*(this.x-l.x)+d*(this.y-l.y);return this.x=l.x+d*(this.x-l.x)-m*(this.y-l.y),this.y=b,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},y.convert=function(u){return u instanceof y?u:Array.isArray(u)?new y(u[0],u[1]):u};var x=h(g),T=E;function E(u,l,d,m){this.cx=3*u,this.bx=3*(d-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(m-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=l,this.p2x=d,this.p2y=m}E.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,l){if(l===void 0&&(l=1e-6),u<0)return 0;if(u>1)return 1;for(var d=u,m=0;m<8;m++){var b=this.sampleCurveX(d)-u;if(Math.abs(b)<l)return d;var S=this.sampleCurveDerivativeX(d);if(Math.abs(S)<1e-6)break;d-=b/S}var P=0,R=1;for(d=u,m=0;m<20&&(b=this.sampleCurveX(d),!(Math.abs(b-u)<l));m++)u>b?P=d:R=d,d=.5*(R-P)+P;return d},solve:function(u,l){return this.sampleCurveY(this.solveCurveX(u,l))}};var C=h(T);let O,A;function M(){return O==null&&(O=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),O}function I(){if(A==null&&(A=!1,M())){const l=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(l){for(let m=0;m<5*5;m++){const b=4*m;l.fillStyle=`rgb(${b},${b+1},${b+2})`,l.fillRect(m%5,Math.floor(m/5),1,1)}const d=l.getImageData(0,0,5,5).data;for(let m=0;m<5*5*4;m++)if(m%4!=3&&d[m]!==m){A=!0;break}}}return A||!1}function N(u,l,d,m){const b=new C(u,l,d,m);return function(S){return b.solve(S)}}const $=N(.25,.1,.25,1);function D(u,l,d){return Math.min(d,Math.max(l,u))}function F(u,l,d){const m=d-l,b=((u-l)%m+m)%m+l;return b===l?d:b}function q(u,...l){for(const d of l)for(const m in d)u[m]=d[m];return u}let X=1;function J(u,l,d){const m={};for(const b in u)m[b]=l.call(d||this,u[b],b,u);return m}function ie(u,l,d){const m={};for(const b in u)l.call(d||this,u[b],b,u)&&(m[b]=u[b]);return m}function ge(u){return Array.isArray(u)?u.map(ge):typeof u=="object"&&u?J(u,ge):u}const Ce={};function fe(u){Ce[u]||(typeof console<"u"&&console.warn(u),Ce[u]=!0)}function ce(u,l,d){return(d.y-u.y)*(l.x-u.x)>(l.y-u.y)*(d.x-u.x)}function ue(u){let l=0;for(let d,m,b=0,S=u.length,P=S-1;b<S;P=b++)d=u[b],m=u[P],l+=(m.x-d.x)*(d.y+m.y);return l}function xe(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let le=null;function Pe(u){return typeof ImageBitmap<"u"&&u instanceof ImageBitmap}const je="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Qe(u,l,d,m,b){return f(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const S=new VideoFrame(u,{timestamp:0});try{const P=S==null?void 0:S.format;if(!P||!P.startsWith("BGR")&&!P.startsWith("RGB"))throw new Error(`Unrecognized format ${P}`);const R=P.startsWith("BGR"),B=new Uint8ClampedArray(m*b*4);if(yield S.copyTo(B,function(W,G,Z,ee,oe){const ae=4*Math.max(-G,0),he=(Math.max(0,Z)-Z)*ee*4+ae,_e=4*ee,Te=Math.max(0,G),Re=Math.max(0,Z);return{rect:{x:Te,y:Re,width:Math.min(W.width,G+ee)-Te,height:Math.min(W.height,Z+oe)-Re},layout:[{offset:he,stride:_e}]}}(u,l,d,m,b)),R)for(let W=0;W<B.length;W+=4){const G=B[W];B[W]=B[W+2],B[W+2]=G}return B}finally{S.close()}})}let We,Ke,nt,mt;const st={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(u){const l=requestAnimationFrame(u);return{cancel:()=>cancelAnimationFrame(l)}},getImageData(u,l=0){return this.getImageCanvasContext(u).getImageData(-l,-l,u.width+2*l,u.height+2*l)},getImageCanvasContext(u){const l=window.document.createElement("canvas"),d=l.getContext("2d",{willReadFrequently:!0});if(!d)throw new Error("failed to create canvas 2d context");return l.width=u.width,l.height=u.height,d.drawImage(u,0,0,u.width,u.height),d},resolveURL:u=>(nt||(nt=document.createElement("a")),nt.href=u,nt.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(mt==null&&(mt=matchMedia("(prefers-reduced-motion: reduce)")),mt.matches)}},Nt={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class Mt extends Error{constructor(l,d,m,b){super(`AJAXError: ${d} (${l}): ${m}`),this.status=l,this.statusText=d,this.url=m,this.body=b}}const He=xe()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href,ct=u=>Nt.REGISTERED_PROTOCOLS[u.substring(0,u.indexOf("://"))];function ut(u,l){const d=new AbortController,m=new Request(u.url,{method:u.method||"GET",body:u.body,credentials:u.credentials,headers:u.headers,cache:u.cache,referrer:He(),signal:d.signal});let b=!1,S=!1;return u.type==="json"&&m.headers.set("Accept","application/json"),S||fetch(m).then(P=>P.ok?(R=>{(u.type==="arrayBuffer"||u.type==="image"?R.arrayBuffer():u.type==="json"?R.json():R.text()).then(B=>{S||(b=!0,l(null,B,R.headers.get("Cache-Control"),R.headers.get("Expires")))}).catch(B=>{S||l(new Error(B.message))})})(P):P.blob().then(R=>l(new Mt(P.status,P.statusText,u.url,R)))).catch(P=>{P.code!==20&&l(new Error(P.message))}),{cancel:()=>{S=!0,b||d.abort()}}}const Ve=function(u,l){if(/:\/\//.test(u.url)&&!/^https?:|^file:/.test(u.url)){if(xe()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,l);if(!xe())return(ct(u.url)||ut)(u,l)}if(!(/^file:/.test(d=u.url)||/^file:/.test(He())&&!/^\w+:/.test(d))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return ut(u,l);if(xe()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,l,void 0,!0)}var d;return function(m,b){const S=new XMLHttpRequest;S.open(m.method||"GET",m.url,!0),m.type!=="arrayBuffer"&&m.type!=="image"||(S.responseType="arraybuffer");for(const P in m.headers)S.setRequestHeader(P,m.headers[P]);return m.type==="json"&&(S.responseType="text",S.setRequestHeader("Accept","application/json")),S.withCredentials=m.credentials==="include",S.onerror=()=>{b(new Error(S.statusText))},S.onload=()=>{if((S.status>=200&&S.status<300||S.status===0)&&S.response!==null){let P=S.response;if(m.type==="json")try{P=JSON.parse(S.response)}catch(R){return b(R)}b(null,P,S.getResponseHeader("Cache-Control"),S.getResponseHeader("Expires"))}else{const P=new Blob([S.response],{type:S.getResponseHeader("Content-Type")});b(new Mt(S.status,S.statusText,m.url,P))}},S.send(m.body),{cancel:()=>S.abort()}}(u,l)},Tt=function(u,l){return Ve(q(u,{type:"arrayBuffer"}),l)};function Pt(u){if(!u||u.indexOf("://")<=0||u.indexOf("data:image/")===0||u.indexOf("blob:")===0)return!0;const l=new URL(u),d=window.location;return l.protocol===d.protocol&&l.host===d.host}function Vt(u,l,d){d[u]&&d[u].indexOf(l)!==-1||(d[u]=d[u]||[],d[u].push(l))}function gn(u,l,d){if(d&&d[u]){const m=d[u].indexOf(l);m!==-1&&d[u].splice(m,1)}}class bn{constructor(l,d={}){q(this,d),this.type=l}}class _n extends bn{constructor(l,d={}){super("error",q({error:l},d))}}class rr{on(l,d){return this._listeners=this._listeners||{},Vt(l,d,this._listeners),this}off(l,d){return gn(l,d,this._listeners),gn(l,d,this._oneTimeListeners),this}once(l,d){return d?(this._oneTimeListeners=this._oneTimeListeners||{},Vt(l,d,this._oneTimeListeners),this):new Promise(m=>this.once(l,m))}fire(l,d){typeof l=="string"&&(l=new bn(l,d||{}));const m=l.type;if(this.listens(m)){l.target=this;const b=this._listeners&&this._listeners[m]?this._listeners[m].slice():[];for(const R of b)R.call(this,l);const S=this._oneTimeListeners&&this._oneTimeListeners[m]?this._oneTimeListeners[m].slice():[];for(const R of S)gn(m,R,this._oneTimeListeners),R.call(this,l);const P=this._eventedParent;P&&(q(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),P.fire(l))}else l instanceof _n&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,d){return this._eventedParent=l,this._eventedParentData=d,this}}var ze={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const an=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Mn(u,l){const d={};for(const m in u)m!=="ref"&&(d[m]=u[m]);return an.forEach(m=>{m in l&&(d[m]=l[m])}),d}function on(u,l){if(Array.isArray(u)){if(!Array.isArray(l)||u.length!==l.length)return!1;for(let d=0;d<u.length;d++)if(!on(u[d],l[d]))return!1;return!0}if(typeof u=="object"&&u!==null&&l!==null){if(typeof l!="object"||Object.keys(u).length!==Object.keys(l).length)return!1;for(const d in u)if(!on(u[d],l[d]))return!1;return!0}return u===l}const $t={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Vn(u,l,d){d.push({command:$t.addSource,args:[u,l[u]]})}function ir(u,l,d){l.push({command:$t.removeSource,args:[u]}),d[u]=!0}function Tr(u,l,d,m){ir(u,d,m),Vn(u,l,d)}function Rn(u,l,d){let m;for(m in u[d])if(Object.prototype.hasOwnProperty.call(u[d],m)&&m!=="data"&&!on(u[d][m],l[d][m]))return!1;for(m in l[d])if(Object.prototype.hasOwnProperty.call(l[d],m)&&m!=="data"&&!on(u[d][m],l[d][m]))return!1;return!0}function Kt(u,l,d,m,b,S){let P;for(P in l=l||{},u=u||{})Object.prototype.hasOwnProperty.call(u,P)&&(on(u[P],l[P])||d.push({command:S,args:[m,P,l[P],b]}));for(P in l)Object.prototype.hasOwnProperty.call(l,P)&&!Object.prototype.hasOwnProperty.call(u,P)&&(on(u[P],l[P])||d.push({command:S,args:[m,P,l[P],b]}))}function ur(u){return u.id}function Di(u,l){return u[l.id]=l,u}class lt{constructor(l,d,m,b){this.message=(l?`${l}: `:"")+m,b&&(this.identifier=b),d!=null&&d.__line__&&(this.line=d.__line__)}}function Bt(u,...l){for(const d of l)for(const m in d)u[m]=d[m];return u}class ln extends Error{constructor(l,d){super(d),this.message=d,this.key=l}}class Xn{constructor(l,d=[]){this.parent=l,this.bindings={};for(const[m,b]of d)this.bindings[m]=b}concat(l){return new Xn(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}const di={kind:"null"},ht={kind:"number"},fn={kind:"string"},un={kind:"boolean"},Li={kind:"color"},da={kind:"object"},dn={kind:"value"},fa={kind:"collator"},ye={kind:"formatted"},Q={kind:"padding"},ne={kind:"resolvedImage"},se={kind:"variableAnchorOffsetCollection"};function be(u,l){return{kind:"array",itemType:u,N:l}}function we(u){if(u.kind==="array"){const l=we(u.itemType);return typeof u.N=="number"?`array<${l}, ${u.N}>`:u.itemType.kind==="value"?"array":`array<${l}>`}return u.kind}const De=[di,ht,fn,un,Li,ye,da,be(dn),Q,ne,se];function Me(u,l){if(l.kind==="error")return null;if(u.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!Me(u.itemType,l.itemType))&&(typeof u.N!="number"||u.N===l.N))return null}else{if(u.kind===l.kind)return null;if(u.kind==="value"){for(const d of De)if(!Me(d,l))return null}}return`Expected ${we(u)} but found ${we(l)} instead.`}function ke(u,l){return l.some(d=>d.kind===u.kind)}function Ie(u,l){return l.some(d=>d==="null"?u===null:d==="array"?Array.isArray(u):d==="object"?u&&!Array.isArray(u)&&typeof u=="object":d===typeof u)}function Ge(u,l){return u.kind==="array"&&l.kind==="array"?u.itemType.kind===l.itemType.kind&&typeof u.N=="number":u.kind===l.kind}const qe=.96422,Ze=.82521,Ht=4/29,Zt=6/29,It=3*Zt*Zt,Gt=Zt*Zt*Zt,cn=Math.PI/180,Ln=180/Math.PI;function Wn(u){return(u%=360)<0&&(u+=360),u}function An([u,l,d,m]){let b,S;const P=Ai((.2225045*(u=Tn(u))+.7168786*(l=Tn(l))+.0606169*(d=Tn(d)))/1);u===l&&l===d?b=S=P:(b=Ai((.4360747*u+.3850649*l+.1430804*d)/qe),S=Ai((.0139322*u+.0971045*l+.7141733*d)/Ze));const R=116*P-16;return[R<0?0:R,500*(b-P),200*(P-S),m]}function Tn(u){return u<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function Ai(u){return u>Gt?Math.pow(u,1/3):u/It+Ht}function or([u,l,d,m]){let b=(u+16)/116,S=isNaN(l)?b:b+l/500,P=isNaN(d)?b:b-d/200;return b=1*Kn(b),S=qe*Kn(S),P=Ze*Kn(P),[Xt(3.1338561*S-1.6168667*b-.4906146*P),Xt(-.9787684*S+1.9161415*b+.033454*P),Xt(.0719453*S-.2289914*b+1.4052427*P),m]}function Xt(u){return(u=u<=.00304?12.92*u:1.055*Math.pow(u,1/2.4)-.055)<0?0:u>1?1:u}function Kn(u){return u>Zt?u*u*u:It*(u-Ht)}function ha(u){return parseInt(u.padEnd(2,u),16)/255}function Ab(u,l){return Au(l?u/100:u,0,1)}function Au(u,l,d){return Math.min(Math.max(l,u),d)}function Iu(u){return!u.some(Number.isNaN)}const Kk={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class Jn{constructor(l,d,m,b=1,S=!0){this.r=l,this.g=d,this.b=m,this.a=b,S||(this.r*=b,this.g*=b,this.b*=b,b||this.overwriteGetter("rgb",[l,d,m,b]))}static parse(l){if(l instanceof Jn)return l;if(typeof l!="string")return;const d=function(m){if((m=m.toLowerCase().trim())==="transparent")return[0,0,0,0];const b=Kk[m];if(b){const[P,R,B]=b;return[P/255,R/255,B/255,1]}if(m.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(m)){const P=m.length<6?1:2;let R=1;return[ha(m.slice(R,R+=P)),ha(m.slice(R,R+=P)),ha(m.slice(R,R+=P)),ha(m.slice(R,R+P)||"ff")]}if(m.startsWith("rgb")){const P=m.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(P){const[R,B,W,G,Z,ee,oe,ae,he,_e,Te,Re]=P,Oe=[G||" ",oe||" ",_e].join("");if(Oe==="  "||Oe==="  /"||Oe===",,"||Oe===",,,"){const Le=[W,ee,he].join(""),Be=Le==="%%%"?100:Le===""?255:0;if(Be){const Je=[Au(+B/Be,0,1),Au(+Z/Be,0,1),Au(+ae/Be,0,1),Te?Ab(+Te,Re):1];if(Iu(Je))return Je}}return}}const S=m.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(S){const[P,R,B,W,G,Z,ee,oe,ae]=S,he=[B||" ",G||" ",ee].join("");if(he==="  "||he==="  /"||he===",,"||he===",,,"){const _e=[+R,Au(+W,0,100),Au(+Z,0,100),oe?Ab(+oe,ae):1];if(Iu(_e))return function([Te,Re,Oe,Le]){function Be(Je){const kt=(Je+Te/30)%12,Lt=Re*Math.min(Oe,1-Oe);return Oe-Lt*Math.max(-1,Math.min(kt-3,9-kt,1))}return Te=Wn(Te),Re/=100,Oe/=100,[Be(0),Be(8),Be(4),Le]}(_e)}}}(l);return d?new Jn(...d,!1):void 0}get rgb(){const{r:l,g:d,b:m,a:b}=this,S=b||1/0;return this.overwriteGetter("rgb",[l/S,d/S,m/S,b])}get hcl(){return this.overwriteGetter("hcl",function(l){const[d,m,b,S]=An(l),P=Math.sqrt(m*m+b*b);return[Math.round(1e4*P)?Wn(Math.atan2(b,m)*Ln):NaN,P,d,S]}(this.rgb))}get lab(){return this.overwriteGetter("lab",An(this.rgb))}overwriteGetter(l,d){return Object.defineProperty(this,l,{value:d}),d}toString(){const[l,d,m,b]=this.rgb;return`rgba(${[l,d,m].map(S=>Math.round(255*S)).join(",")},${b})`}}Jn.black=new Jn(0,0,0,1),Jn.white=new Jn(1,1,1,1),Jn.transparent=new Jn(0,0,0,0),Jn.red=new Jn(1,0,0,1);class Kg{constructor(l,d,m){this.sensitivity=l?d?"variant":"case":d?"accent":"base",this.locale=m,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,d){return this.collator.compare(l,d)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Ih{constructor(l,d,m,b,S){this.text=l,this.image=d,this.scale=m,this.fontStack=b,this.textColor=S}}class Ki{constructor(l){this.sections=l}static fromString(l){return new Ki([new Ih(l,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(l=>l.text.length!==0||l.image&&l.image.name.length!==0)}static factory(l){return l instanceof Ki?l:Ki.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map(l=>l.text).join("")}}class qo{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof qo)return l;if(typeof l=="number")return new qo([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(const d of l)if(typeof d!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]]}return new qo(l)}}toString(){return JSON.stringify(this.values)}}const Zk=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class pa{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof pa)return l;if(Array.isArray(l)&&!(l.length<1)&&l.length%2==0){for(let d=0;d<l.length;d+=2){const m=l[d],b=l[d+1];if(typeof m!="string"||!Zk.has(m)||!Array.isArray(b)||b.length!==2||typeof b[0]!="number"||typeof b[1]!="number")return}return new pa(l)}}toString(){return JSON.stringify(this.values)}}class ji{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new ji({name:l,available:!1}):null}}function $h(u,l,d,m){return typeof u=="number"&&u>=0&&u<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof d=="number"&&d>=0&&d<=255?m===void 0||typeof m=="number"&&m>=0&&m<=1?null:`Invalid rgba value [${[u,l,d,m].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof m=="number"?[u,l,d,m]:[u,l,d]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function $u(u){if(u===null||typeof u=="string"||typeof u=="boolean"||typeof u=="number"||u instanceof Jn||u instanceof Kg||u instanceof Ki||u instanceof qo||u instanceof pa||u instanceof ji)return!0;if(Array.isArray(u)){for(const l of u)if(!$u(l))return!1;return!0}if(typeof u=="object"){for(const l in u)if(!$u(u[l]))return!1;return!0}return!1}function Ar(u){if(u===null)return di;if(typeof u=="string")return fn;if(typeof u=="boolean")return un;if(typeof u=="number")return ht;if(u instanceof Jn)return Li;if(u instanceof Kg)return fa;if(u instanceof Ki)return ye;if(u instanceof qo)return Q;if(u instanceof pa)return se;if(u instanceof ji)return ne;if(Array.isArray(u)){const l=u.length;let d;for(const m of u){const b=Ar(m);if(d){if(d===b)continue;d=dn;break}d=b}return be(d||dn,l)}return da}function zn(u){const l=typeof u;return u===null?"":l==="string"||l==="number"||l==="boolean"?String(u):u instanceof Jn||u instanceof Ki||u instanceof qo||u instanceof pa||u instanceof ji?u.toString():JSON.stringify(u)}class vc{constructor(l,d){this.type=l,this.value=d}static parse(l,d){if(l.length!==2)return d.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!$u(l[1]))return d.error("invalid value");const m=l[1];let b=Ar(m);const S=d.expectedType;return b.kind!=="array"||b.N!==0||!S||S.kind!=="array"||typeof S.N=="number"&&S.N!==0||(b=S),new vc(b,m)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class zr{constructor(l){this.name="ExpressionEvaluationError",this.message=l}toJSON(){return this.message}}const Rh={string:fn,number:ht,boolean:un,object:da};class ma{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");let m,b=1;const S=l[0];if(S==="array"){let R,B;if(l.length>2){const W=l[1];if(typeof W!="string"||!(W in Rh)||W==="object")return d.error('The item type argument of "array" must be one of string, number, boolean',1);R=Rh[W],b++}else R=dn;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return d.error('The length argument to "array" must be a positive integer literal',2);B=l[2],b++}m=be(R,B)}else{if(!Rh[S])throw new Error(`Types doesn't contain name = ${S}`);m=Rh[S]}const P=[];for(;b<l.length;b++){const R=d.parse(l[b],b,dn);if(!R)return null;P.push(R)}return new ma(m,P)}evaluate(l){for(let d=0;d<this.args.length;d++){const m=this.args[d].evaluate(l);if(!Me(this.type,Ar(m)))return m;if(d===this.args.length-1)throw new zr(`Expected value to be of type ${we(this.type)}, but found ${we(Ar(m))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const Zg={"to-boolean":un,"to-color":Li,"to-number":ht,"to-string":fn};class Il{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const m=l[0];if(!Zg[m])throw new Error(`Can't parse ${m} as it is not part of the known types`);if((m==="to-boolean"||m==="to-string")&&l.length!==2)return d.error("Expected one argument.");const b=Zg[m],S=[];for(let P=1;P<l.length;P++){const R=d.parse(l[P],P,dn);if(!R)return null;S.push(R)}return new Il(b,S)}evaluate(l){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(l);case"color":{let d,m;for(const b of this.args){if(d=b.evaluate(l),m=null,d instanceof Jn)return d;if(typeof d=="string"){const S=l.parseColor(d);if(S)return S}else if(Array.isArray(d)&&(m=d.length<3||d.length>4?`Invalid rbga value ${JSON.stringify(d)}: expected an array containing either three or four numeric values.`:$h(d[0],d[1],d[2],d[3]),!m))return new Jn(d[0]/255,d[1]/255,d[2]/255,d[3])}throw new zr(m||`Could not parse color from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"padding":{let d;for(const m of this.args){d=m.evaluate(l);const b=qo.parse(d);if(b)return b}throw new zr(`Could not parse padding from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"variableAnchorOffsetCollection":{let d;for(const m of this.args){d=m.evaluate(l);const b=pa.parse(d);if(b)return b}throw new zr(`Could not parse variableAnchorOffsetCollection from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"number":{let d=null;for(const m of this.args){if(d=m.evaluate(l),d===null)return 0;const b=Number(d);if(!isNaN(b))return b}throw new zr(`Could not convert ${JSON.stringify(d)} to number.`)}case"formatted":return Ki.fromString(zn(this.args[0].evaluate(l)));case"resolvedImage":return ji.fromString(zn(this.args[0].evaluate(l)));default:return zn(this.args[0].evaluate(l))}}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const Ib=["Unknown","Point","LineString","Polygon"];class Xg{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Ib[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let d=this._parseColorCache[l];return d||(d=this._parseColorCache[l]=Jn.parse(l)),d}}class Dh{constructor(l,d,m=[],b,S=new Xn,P=[]){this.registry=l,this.path=m,this.key=m.map(R=>`[${R}]`).join(""),this.scope=S,this.errors=P,this.expectedType=b,this._isConstant=d}parse(l,d,m,b,S={}){return d?this.concat(d,m,b)._parse(l,S):this._parse(l,S)}_parse(l,d){function m(b,S,P){return P==="assert"?new ma(S,[b]):P==="coerce"?new Il(S,[b]):b}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const b=l[0];if(typeof b!="string")return this.error(`Expression name must be a string, but found ${typeof b} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const S=this.registry[b];if(S){let P=S.parse(l,this);if(!P)return null;if(this.expectedType){const R=this.expectedType,B=P.type;if(R.kind!=="string"&&R.kind!=="number"&&R.kind!=="boolean"&&R.kind!=="object"&&R.kind!=="array"||B.kind!=="value")if(R.kind!=="color"&&R.kind!=="formatted"&&R.kind!=="resolvedImage"||B.kind!=="value"&&B.kind!=="string")if(R.kind!=="padding"||B.kind!=="value"&&B.kind!=="number"&&B.kind!=="array")if(R.kind!=="variableAnchorOffsetCollection"||B.kind!=="value"&&B.kind!=="array"){if(this.checkSubtype(R,B))return null}else P=m(P,R,d.typeAnnotation||"coerce");else P=m(P,R,d.typeAnnotation||"coerce");else P=m(P,R,d.typeAnnotation||"coerce");else P=m(P,R,d.typeAnnotation||"assert")}if(!(P instanceof vc)&&P.type.kind!=="resolvedImage"&&this._isConstant(P)){const R=new Xg;try{P=new vc(P.type,P.evaluate(R))}catch(B){return this.error(B.message),null}}return P}return this.error(`Unknown expression "${b}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof l} instead.`)}concat(l,d,m){const b=typeof l=="number"?this.path.concat(l):this.path,S=m?this.scope.concat(m):this.scope;return new Dh(this.registry,this._isConstant,b,d||null,S,this.errors)}error(l,...d){const m=`${this.key}${d.map(b=>`[${b}]`).join("")}`;this.errors.push(new ln(m,l))}checkSubtype(l,d){const m=Me(l,d);return m&&this.error(m),m}}class Lh{constructor(l,d,m){this.type=fa,this.locale=m,this.caseSensitive=l,this.diacriticSensitive=d}static parse(l,d){if(l.length!==2)return d.error("Expected one argument.");const m=l[1];if(typeof m!="object"||Array.isArray(m))return d.error("Collator options argument must be an object.");const b=d.parse(m["case-sensitive"]!==void 0&&m["case-sensitive"],1,un);if(!b)return null;const S=d.parse(m["diacritic-sensitive"]!==void 0&&m["diacritic-sensitive"],1,un);if(!S)return null;let P=null;return m.locale&&(P=d.parse(m.locale,1,fn),!P)?null:new Lh(b,S,P)}evaluate(l){return new Kg(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}const $l=8192;function Jg(u,l){u[0]=Math.min(u[0],l[0]),u[1]=Math.min(u[1],l[1]),u[2]=Math.max(u[2],l[0]),u[3]=Math.max(u[3],l[1])}function nf(u,l){return!(u[0]<=l[0]||u[2]>=l[2]||u[1]<=l[1]||u[3]>=l[3])}function $b(u,l){const d=(180+u[0])/360,m=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u[1]*Math.PI/360)))/360,b=Math.pow(2,l.z);return[Math.round(d*b*$l),Math.round(m*b*$l)]}function Xk(u,l,d){const m=u[0]-l[0],b=u[1]-l[1],S=u[0]-d[0],P=u[1]-d[1];return m*P-S*b==0&&m*S<=0&&b*P<=0}function Qg(u,l){let d=!1;for(let P=0,R=l.length;P<R;P++){const B=l[P];for(let W=0,G=B.length;W<G-1;W++){if(Xk(u,B[W],B[W+1]))return!1;(b=B[W])[1]>(m=u)[1]!=(S=B[W+1])[1]>m[1]&&m[0]<(S[0]-b[0])*(m[1]-b[1])/(S[1]-b[1])+b[0]&&(d=!d)}}var m,b,S;return d}function ey(u,l){for(let d=0;d<l.length;d++)if(Qg(u,l[d]))return!0;return!1}function Rb(u,l,d,m){const b=m[0]-d[0],S=m[1]-d[1],P=(u[0]-d[0])*S-b*(u[1]-d[1]),R=(l[0]-d[0])*S-b*(l[1]-d[1]);return P>0&&R<0||P<0&&R>0}function Jk(u,l,d){for(const W of d)for(let G=0;G<W.length-1;++G)if((R=[(P=W[G+1])[0]-(S=W[G])[0],P[1]-S[1]])[0]*(B=[(b=l)[0]-(m=u)[0],b[1]-m[1]])[1]-R[1]*B[0]!=0&&Rb(m,b,S,P)&&Rb(S,P,m,b))return!0;var m,b,S,P,R,B;return!1}function Db(u,l){for(let d=0;d<u.length;++d)if(!Qg(u[d],l))return!1;for(let d=0;d<u.length-1;++d)if(Jk(u[d],u[d+1],l))return!1;return!0}function Lb(u,l){for(let d=0;d<l.length;d++)if(Db(u,l[d]))return!0;return!1}function jh(u,l,d){const m=[];for(let b=0;b<u.length;b++){const S=[];for(let P=0;P<u[b].length;P++){const R=$b(u[b][P],d);Jg(l,R),S.push(R)}m.push(S)}return m}function jb(u,l,d){const m=[];for(let b=0;b<u.length;b++){const S=jh(u[b],l,d);m.push(S)}return m}function Nb(u,l,d,m){if(u[0]<d[0]||u[0]>d[2]){const b=.5*m;let S=u[0]-d[0]>b?-m:d[0]-u[0]>b?m:0;S===0&&(S=u[0]-d[2]>b?-m:d[2]-u[0]>b?m:0),u[0]+=S}Jg(l,u)}function ty(u,l,d,m){const b=Math.pow(2,m.z)*$l,S=[m.x*$l,m.y*$l],P=[];for(const R of u)for(const B of R){const W=[B.x+S[0],B.y+S[1]];Nb(W,l,d,b),P.push(W)}return P}function ny(u,l,d,m){const b=Math.pow(2,m.z)*$l,S=[m.x*$l,m.y*$l],P=[];for(const B of u){const W=[];for(const G of B){const Z=[G.x+S[0],G.y+S[1]];Jg(l,Z),W.push(Z)}P.push(W)}if(l[2]-l[0]<=b/2){(R=l)[0]=R[1]=1/0,R[2]=R[3]=-1/0;for(const B of P)for(const W of B)Nb(W,l,d,b)}var R;return P}class xc{constructor(l,d){this.type=un,this.geojson=l,this.geometries=d}static parse(l,d){if(l.length!==2)return d.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if($u(l[1])){const m=l[1];if(m.type==="FeatureCollection")for(let b=0;b<m.features.length;++b){const S=m.features[b].geometry.type;if(S==="Polygon"||S==="MultiPolygon")return new xc(m,m.features[b].geometry)}else if(m.type==="Feature"){const b=m.geometry.type;if(b==="Polygon"||b==="MultiPolygon")return new xc(m,m.geometry)}else if(m.type==="Polygon"||m.type==="MultiPolygon")return new xc(m,m)}return d.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return function(d,m){const b=[1/0,1/0,-1/0,-1/0],S=[1/0,1/0,-1/0,-1/0],P=d.canonicalID();if(m.type==="Polygon"){const R=jh(m.coordinates,S,P),B=ty(d.geometry(),b,S,P);if(!nf(b,S))return!1;for(const W of B)if(!Qg(W,R))return!1}if(m.type==="MultiPolygon"){const R=jb(m.coordinates,S,P),B=ty(d.geometry(),b,S,P);if(!nf(b,S))return!1;for(const W of B)if(!ey(W,R))return!1}return!0}(l,this.geometries);if(l.geometryType()==="LineString")return function(d,m){const b=[1/0,1/0,-1/0,-1/0],S=[1/0,1/0,-1/0,-1/0],P=d.canonicalID();if(m.type==="Polygon"){const R=jh(m.coordinates,S,P),B=ny(d.geometry(),b,S,P);if(!nf(b,S))return!1;for(const W of B)if(!Db(W,R))return!1}if(m.type==="MultiPolygon"){const R=jb(m.coordinates,S,P),B=ny(d.geometry(),b,S,P);if(!nf(b,S))return!1;for(const W of B)if(!Lb(W,R))return!1}return!0}(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Nh{constructor(l,d){this.type=d.type,this.name=l,this.boundExpression=d}static parse(l,d){if(l.length!==2||typeof l[1]!="string")return d.error("'var' expression requires exactly one string literal argument.");const m=l[1];return d.scope.has(m)?new Nh(m,d.scope.get(m)):d.error(`Unknown variable "${m}". Make sure "${m}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class ga{constructor(l,d,m,b){this.name=l,this.type=d,this._evaluate=m,this.args=b}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,d){const m=l[0],b=ga.definitions[m];if(!b)return d.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0);const S=Array.isArray(b)?b[0]:b.type,P=Array.isArray(b)?[[b[1],b[2]]]:b.overloads,R=P.filter(([W])=>!Array.isArray(W)||W.length===l.length-1);let B=null;for(const[W,G]of R){B=new Dh(d.registry,zh,d.path,null,d.scope);const Z=[];let ee=!1;for(let oe=1;oe<l.length;oe++){const ae=l[oe],he=Array.isArray(W)?W[oe-1]:W.type,_e=B.parse(ae,1+Z.length,he);if(!_e){ee=!0;break}Z.push(_e)}if(!ee)if(Array.isArray(W)&&W.length!==Z.length)B.error(`Expected ${W.length} arguments, but found ${Z.length} instead.`);else{for(let oe=0;oe<Z.length;oe++){const ae=Array.isArray(W)?W[oe]:W.type,he=Z[oe];B.concat(oe+1).checkSubtype(ae,he.type)}if(B.errors.length===0)return new ga(m,S,G,Z)}}if(R.length===1)d.errors.push(...B.errors);else{const W=(R.length?R:P).map(([Z])=>{return ee=Z,Array.isArray(ee)?`(${ee.map(we).join(", ")})`:`(${we(ee.type)}...)`;var ee}).join(" | "),G=[];for(let Z=1;Z<l.length;Z++){const ee=d.parse(l[Z],1+G.length);if(!ee)return null;G.push(we(ee.type))}d.error(`Expected arguments of type ${W}, but found (${G.join(", ")}) instead.`)}return null}static register(l,d){ga.definitions=d;for(const m in d)l[m]=ga}}function zh(u){if(u instanceof Nh)return zh(u.boundExpression);if(u instanceof ga&&u.name==="error"||u instanceof Lh||u instanceof xc)return!1;const l=u instanceof Il||u instanceof ma;let d=!0;return u.eachChild(m=>{d=l?d&&zh(m):d&&m instanceof vc}),!!d&&Bh(u)&&Fh(u,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Bh(u){if(u instanceof ga&&(u.name==="get"&&u.args.length===1||u.name==="feature-state"||u.name==="has"&&u.args.length===1||u.name==="properties"||u.name==="geometry-type"||u.name==="id"||/^filter-/.test(u.name))||u instanceof xc)return!1;let l=!0;return u.eachChild(d=>{l&&!Bh(d)&&(l=!1)}),l}function rf(u){if(u instanceof ga&&u.name==="feature-state")return!1;let l=!0;return u.eachChild(d=>{l&&!rf(d)&&(l=!1)}),l}function Fh(u,l){if(u instanceof ga&&l.indexOf(u.name)>=0)return!1;let d=!0;return u.eachChild(m=>{d&&!Fh(m,l)&&(d=!1)}),d}function Ru(u,l){const d=u.length-1;let m,b,S=0,P=d,R=0;for(;S<=P;)if(R=Math.floor((S+P)/2),m=u[R],b=u[R+1],m<=l){if(R===d||l<b)return R;S=R+1}else{if(!(m>l))throw new zr("Input is not a number.");P=R-1}return 0}class Rl{constructor(l,d,m){this.type=l,this.input=d,this.labels=[],this.outputs=[];for(const[b,S]of m)this.labels.push(b),this.outputs.push(S)}static parse(l,d){if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");const m=d.parse(l[1],1,ht);if(!m)return null;const b=[];let S=null;d.expectedType&&d.expectedType.kind!=="value"&&(S=d.expectedType);for(let P=1;P<l.length;P+=2){const R=P===1?-1/0:l[P],B=l[P+1],W=P,G=P+1;if(typeof R!="number")return d.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',W);if(b.length&&b[b.length-1][0]>=R)return d.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',W);const Z=d.parse(B,G,S);if(!Z)return null;S=S||Z.type,b.push([R,Z])}return new Rl(S,m,b)}evaluate(l){const d=this.labels,m=this.outputs;if(d.length===1)return m[0].evaluate(l);const b=this.input.evaluate(l);if(b<=d[0])return m[0].evaluate(l);const S=d.length;return b>=d[S-1]?m[S-1].evaluate(l):m[Ru(d,b)].evaluate(l)}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function In(u,l,d){return u+d*(l-u)}function Uh(u,l,d){return u.map((m,b)=>In(m,l[b],d))}const Ho={number:In,color:function(u,l,d,m="rgb"){switch(m){case"rgb":{const[b,S,P,R]=Uh(u.rgb,l.rgb,d);return new Jn(b,S,P,R,!1)}case"hcl":{const[b,S,P,R]=u.hcl,[B,W,G,Z]=l.hcl;let ee,oe;if(isNaN(b)||isNaN(B))isNaN(b)?isNaN(B)?ee=NaN:(ee=B,P!==1&&P!==0||(oe=W)):(ee=b,G!==1&&G!==0||(oe=S));else{let Re=B-b;B>b&&Re>180?Re-=360:B<b&&b-B>180&&(Re+=360),ee=b+d*Re}const[ae,he,_e,Te]=function([Re,Oe,Le,Be]){return Re=isNaN(Re)?0:Re*cn,or([Le,Math.cos(Re)*Oe,Math.sin(Re)*Oe,Be])}([ee,oe??In(S,W,d),In(P,G,d),In(R,Z,d)]);return new Jn(ae,he,_e,Te,!1)}case"lab":{const[b,S,P,R]=or(Uh(u.lab,l.lab,d));return new Jn(b,S,P,R,!1)}}},array:Uh,padding:function(u,l,d){return new qo(Uh(u.values,l.values,d))},variableAnchorOffsetCollection:function(u,l,d){const m=u.values,b=l.values;if(m.length!==b.length)throw new zr(`Cannot interpolate values of different length. from: ${u.toString()}, to: ${l.toString()}`);const S=[];for(let P=0;P<m.length;P+=2){if(m[P]!==b[P])throw new zr(`Cannot interpolate values containing mismatched anchors. from[${P}]: ${m[P]}, to[${P}]: ${b[P]}`);S.push(m[P]);const[R,B]=m[P+1],[W,G]=b[P+1];S.push([In(R,W,d),In(B,G,d)])}return new pa(S)}};class Go{constructor(l,d,m,b,S){this.type=l,this.operator=d,this.interpolation=m,this.input=b,this.labels=[],this.outputs=[];for(const[P,R]of S)this.labels.push(P),this.outputs.push(R)}static interpolationFactor(l,d,m,b){let S=0;if(l.name==="exponential")S=ry(d,l.base,m,b);else if(l.name==="linear")S=ry(d,1,m,b);else if(l.name==="cubic-bezier"){const P=l.controlPoints;S=new C(P[0],P[1],P[2],P[3]).solve(ry(d,1,m,b))}return S}static parse(l,d){let[m,b,S,...P]=l;if(!Array.isArray(b)||b.length===0)return d.error("Expected an interpolation type expression.",1);if(b[0]==="linear")b={name:"linear"};else if(b[0]==="exponential"){const W=b[1];if(typeof W!="number")return d.error("Exponential interpolation requires a numeric base.",1,1);b={name:"exponential",base:W}}else{if(b[0]!=="cubic-bezier")return d.error(`Unknown interpolation type ${String(b[0])}`,1,0);{const W=b.slice(1);if(W.length!==4||W.some(G=>typeof G!="number"||G<0||G>1))return d.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);b={name:"cubic-bezier",controlPoints:W}}}if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");if(S=d.parse(S,2,ht),!S)return null;const R=[];let B=null;m==="interpolate-hcl"||m==="interpolate-lab"?B=Li:d.expectedType&&d.expectedType.kind!=="value"&&(B=d.expectedType);for(let W=0;W<P.length;W+=2){const G=P[W],Z=P[W+1],ee=W+3,oe=W+4;if(typeof G!="number")return d.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ee);if(R.length&&R[R.length-1][0]>=G)return d.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',ee);const ae=d.parse(Z,oe,B);if(!ae)return null;B=B||ae.type,R.push([G,ae])}return Ge(B,ht)||Ge(B,Li)||Ge(B,Q)||Ge(B,se)||Ge(B,be(ht))?new Go(B,m,b,S,R):d.error(`Type ${we(B)} is not interpolatable.`)}evaluate(l){const d=this.labels,m=this.outputs;if(d.length===1)return m[0].evaluate(l);const b=this.input.evaluate(l);if(b<=d[0])return m[0].evaluate(l);const S=d.length;if(b>=d[S-1])return m[S-1].evaluate(l);const P=Ru(d,b),R=Go.interpolationFactor(this.interpolation,b,d[P],d[P+1]),B=m[P].evaluate(l),W=m[P+1].evaluate(l);switch(this.operator){case"interpolate":return Ho[this.type.kind](B,W,R);case"interpolate-hcl":return Ho.color(B,W,R,"hcl");case"interpolate-lab":return Ho.color(B,W,R,"lab")}}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function ry(u,l,d,m){const b=m-d,S=u-d;return b===0?0:l===1?S/b:(Math.pow(l,S)-1)/(Math.pow(l,b)-1)}class Vh{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expectected at least one argument.");let m=null;const b=d.expectedType;b&&b.kind!=="value"&&(m=b);const S=[];for(const R of l.slice(1)){const B=d.parse(R,1+S.length,m,void 0,{typeAnnotation:"omit"});if(!B)return null;m=m||B.type,S.push(B)}if(!m)throw new Error("No output type");const P=b&&S.some(R=>Me(b,R.type));return new Vh(P?dn:m,S)}evaluate(l){let d,m=null,b=0;for(const S of this.args)if(b++,m=S.evaluate(l),m&&m instanceof ji&&!m.available&&(d||(d=m.name),m=null,b===this.args.length&&(m=d)),m!==null)break;return m}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}class Wh{constructor(l,d){this.type=d.type,this.bindings=[].concat(l),this.result=d}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(const d of this.bindings)l(d[1]);l(this.result)}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);const m=[];for(let S=1;S<l.length-1;S+=2){const P=l[S];if(typeof P!="string")return d.error(`Expected string, but found ${typeof P} instead.`,S);if(/[^a-zA-Z0-9_]/.test(P))return d.error("Variable names must contain only alphanumeric characters or '_'.",S);const R=d.parse(l[S+1],S+1);if(!R)return null;m.push([P,R])}const b=d.parse(l[l.length-1],l.length-1,d.expectedType,m);return b?new Wh(m,b):null}outputDefined(){return this.result.outputDefined()}}class iy{constructor(l,d,m){this.type=l,this.index=d,this.input=m}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const m=d.parse(l[1],1,ht),b=d.parse(l[2],2,be(d.expectedType||dn));return m&&b?new iy(b.type.itemType,m,b):null}evaluate(l){const d=this.index.evaluate(l),m=this.input.evaluate(l);if(d<0)throw new zr(`Array index out of bounds: ${d} < 0.`);if(d>=m.length)throw new zr(`Array index out of bounds: ${d} > ${m.length-1}.`);if(d!==Math.floor(d))throw new zr(`Array index must be an integer, but found ${d} instead.`);return m[d]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class oy{constructor(l,d){this.type=un,this.needle=l,this.haystack=d}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const m=d.parse(l[1],1,dn),b=d.parse(l[2],2,dn);return m&&b?ke(m.type,[un,fn,ht,di,dn])?new oy(m,b):d.error(`Expected first argument to be of type boolean, string, number or null, but found ${we(m.type)} instead`):null}evaluate(l){const d=this.needle.evaluate(l),m=this.haystack.evaluate(l);if(!m)return!1;if(!Ie(d,["boolean","string","number","null"]))throw new zr(`Expected first argument to be of type boolean, string, number or null, but found ${we(Ar(d))} instead.`);if(!Ie(m,["string","array"]))throw new zr(`Expected second argument to be of type array or string, but found ${we(Ar(m))} instead.`);return m.indexOf(d)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class qh{constructor(l,d,m){this.type=ht,this.needle=l,this.haystack=d,this.fromIndex=m}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const m=d.parse(l[1],1,dn),b=d.parse(l[2],2,dn);if(!m||!b)return null;if(!ke(m.type,[un,fn,ht,di,dn]))return d.error(`Expected first argument to be of type boolean, string, number or null, but found ${we(m.type)} instead`);if(l.length===4){const S=d.parse(l[3],3,ht);return S?new qh(m,b,S):null}return new qh(m,b)}evaluate(l){const d=this.needle.evaluate(l),m=this.haystack.evaluate(l);if(!Ie(d,["boolean","string","number","null"]))throw new zr(`Expected first argument to be of type boolean, string, number or null, but found ${we(Ar(d))} instead.`);if(!Ie(m,["string","array"]))throw new zr(`Expected second argument to be of type array or string, but found ${we(Ar(m))} instead.`);if(this.fromIndex){const b=this.fromIndex.evaluate(l);return m.indexOf(d,b)}return m.indexOf(d)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class ay{constructor(l,d,m,b,S,P){this.inputType=l,this.type=d,this.input=m,this.cases=b,this.outputs=S,this.otherwise=P}static parse(l,d){if(l.length<5)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return d.error("Expected an even number of arguments.");let m,b;d.expectedType&&d.expectedType.kind!=="value"&&(b=d.expectedType);const S={},P=[];for(let W=2;W<l.length-1;W+=2){let G=l[W];const Z=l[W+1];Array.isArray(G)||(G=[G]);const ee=d.concat(W);if(G.length===0)return ee.error("Expected at least one branch label.");for(const ae of G){if(typeof ae!="number"&&typeof ae!="string")return ee.error("Branch labels must be numbers or strings.");if(typeof ae=="number"&&Math.abs(ae)>Number.MAX_SAFE_INTEGER)return ee.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof ae=="number"&&Math.floor(ae)!==ae)return ee.error("Numeric branch labels must be integer values.");if(m){if(ee.checkSubtype(m,Ar(ae)))return null}else m=Ar(ae);if(S[String(ae)]!==void 0)return ee.error("Branch labels must be unique.");S[String(ae)]=P.length}const oe=d.parse(Z,W,b);if(!oe)return null;b=b||oe.type,P.push(oe)}const R=d.parse(l[1],1,dn);if(!R)return null;const B=d.parse(l[l.length-1],l.length-1,b);return B?R.type.kind!=="value"&&d.concat(1).checkSubtype(m,R.type)?null:new ay(m,b,R,S,P,B):null}evaluate(l){const d=this.input.evaluate(l);return(Ar(d)===this.inputType&&this.outputs[this.cases[d]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every(l=>l.outputDefined())&&this.otherwise.outputDefined()}}class sy{constructor(l,d,m){this.type=l,this.branches=d,this.otherwise=m}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return d.error("Expected an odd number of arguments.");let m;d.expectedType&&d.expectedType.kind!=="value"&&(m=d.expectedType);const b=[];for(let P=1;P<l.length-1;P+=2){const R=d.parse(l[P],P,un);if(!R)return null;const B=d.parse(l[P+1],P+1,m);if(!B)return null;b.push([R,B]),m=m||B.type}const S=d.parse(l[l.length-1],l.length-1,m);if(!S)return null;if(!m)throw new Error("Can't infer output type");return new sy(m,b,S)}evaluate(l){for(const[d,m]of this.branches)if(d.evaluate(l))return m.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(const[d,m]of this.branches)l(d),l(m);l(this.otherwise)}outputDefined(){return this.branches.every(([l,d])=>d.outputDefined())&&this.otherwise.outputDefined()}}class Hh{constructor(l,d,m,b){this.type=l,this.input=d,this.beginIndex=m,this.endIndex=b}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const m=d.parse(l[1],1,dn),b=d.parse(l[2],2,ht);if(!m||!b)return null;if(!ke(m.type,[be(dn),fn,dn]))return d.error(`Expected first argument to be of type array or string, but found ${we(m.type)} instead`);if(l.length===4){const S=d.parse(l[3],3,ht);return S?new Hh(m.type,m,b,S):null}return new Hh(m.type,m,b)}evaluate(l){const d=this.input.evaluate(l),m=this.beginIndex.evaluate(l);if(!Ie(d,["string","array"]))throw new zr(`Expected first argument to be of type array or string, but found ${we(Ar(d))} instead.`);if(this.endIndex){const b=this.endIndex.evaluate(l);return d.slice(m,b)}return d.slice(m)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function zb(u,l){return u==="=="||u==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function Bb(u,l,d,m){return m.compare(l,d)===0}function Du(u,l,d){const m=u!=="=="&&u!=="!=";return class W7{constructor(S,P,R){this.type=un,this.lhs=S,this.rhs=P,this.collator=R,this.hasUntypedArgument=S.type.kind==="value"||P.type.kind==="value"}static parse(S,P){if(S.length!==3&&S.length!==4)return P.error("Expected two or three arguments.");const R=S[0];let B=P.parse(S[1],1,dn);if(!B)return null;if(!zb(R,B.type))return P.concat(1).error(`"${R}" comparisons are not supported for type '${we(B.type)}'.`);let W=P.parse(S[2],2,dn);if(!W)return null;if(!zb(R,W.type))return P.concat(2).error(`"${R}" comparisons are not supported for type '${we(W.type)}'.`);if(B.type.kind!==W.type.kind&&B.type.kind!=="value"&&W.type.kind!=="value")return P.error(`Cannot compare types '${we(B.type)}' and '${we(W.type)}'.`);m&&(B.type.kind==="value"&&W.type.kind!=="value"?B=new ma(W.type,[B]):B.type.kind!=="value"&&W.type.kind==="value"&&(W=new ma(B.type,[W])));let G=null;if(S.length===4){if(B.type.kind!=="string"&&W.type.kind!=="string"&&B.type.kind!=="value"&&W.type.kind!=="value")return P.error("Cannot use collator to compare non-string types.");if(G=P.parse(S[3],3,fa),!G)return null}return new W7(B,W,G)}evaluate(S){const P=this.lhs.evaluate(S),R=this.rhs.evaluate(S);if(m&&this.hasUntypedArgument){const B=Ar(P),W=Ar(R);if(B.kind!==W.kind||B.kind!=="string"&&B.kind!=="number")throw new zr(`Expected arguments for "${u}" to be (string, string) or (number, number), but found (${B.kind}, ${W.kind}) instead.`)}if(this.collator&&!m&&this.hasUntypedArgument){const B=Ar(P),W=Ar(R);if(B.kind!=="string"||W.kind!=="string")return l(S,P,R)}return this.collator?d(S,P,R,this.collator.evaluate(S)):l(S,P,R)}eachChild(S){S(this.lhs),S(this.rhs),this.collator&&S(this.collator)}outputDefined(){return!0}}}const Qk=Du("==",function(u,l,d){return l===d},Bb),eT=Du("!=",function(u,l,d){return l!==d},function(u,l,d,m){return!Bb(0,l,d,m)}),tT=Du("<",function(u,l,d){return l<d},function(u,l,d,m){return m.compare(l,d)<0}),nT=Du(">",function(u,l,d){return l>d},function(u,l,d,m){return m.compare(l,d)>0}),rT=Du("<=",function(u,l,d){return l<=d},function(u,l,d,m){return m.compare(l,d)<=0}),iT=Du(">=",function(u,l,d){return l>=d},function(u,l,d,m){return m.compare(l,d)>=0});class ly{constructor(l,d,m,b,S){this.type=fn,this.number=l,this.locale=d,this.currency=m,this.minFractionDigits=b,this.maxFractionDigits=S}static parse(l,d){if(l.length!==3)return d.error("Expected two arguments.");const m=d.parse(l[1],1,ht);if(!m)return null;const b=l[2];if(typeof b!="object"||Array.isArray(b))return d.error("NumberFormat options argument must be an object.");let S=null;if(b.locale&&(S=d.parse(b.locale,1,fn),!S))return null;let P=null;if(b.currency&&(P=d.parse(b.currency,1,fn),!P))return null;let R=null;if(b["min-fraction-digits"]&&(R=d.parse(b["min-fraction-digits"],1,ht),!R))return null;let B=null;return b["max-fraction-digits"]&&(B=d.parse(b["max-fraction-digits"],1,ht),!B)?null:new ly(m,S,P,R,B)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class Gh{constructor(l){this.type=ye,this.sections=l}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const m=l[1];if(!Array.isArray(m)&&typeof m=="object")return d.error("First argument must be an image or text section.");const b=[];let S=!1;for(let P=1;P<=l.length-1;++P){const R=l[P];if(S&&typeof R=="object"&&!Array.isArray(R)){S=!1;let B=null;if(R["font-scale"]&&(B=d.parse(R["font-scale"],1,ht),!B))return null;let W=null;if(R["text-font"]&&(W=d.parse(R["text-font"],1,be(fn)),!W))return null;let G=null;if(R["text-color"]&&(G=d.parse(R["text-color"],1,Li),!G))return null;const Z=b[b.length-1];Z.scale=B,Z.font=W,Z.textColor=G}else{const B=d.parse(l[P],1,dn);if(!B)return null;const W=B.type.kind;if(W!=="string"&&W!=="value"&&W!=="null"&&W!=="resolvedImage")return d.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");S=!0,b.push({content:B,scale:null,font:null,textColor:null})}}return new Gh(b)}evaluate(l){return new Ki(this.sections.map(d=>{const m=d.content.evaluate(l);return Ar(m)===ne?new Ih("",m,null,null,null):new Ih(zn(m),null,d.scale?d.scale.evaluate(l):null,d.font?d.font.evaluate(l).join(","):null,d.textColor?d.textColor.evaluate(l):null)}))}eachChild(l){for(const d of this.sections)l(d.content),d.scale&&l(d.scale),d.font&&l(d.font),d.textColor&&l(d.textColor)}outputDefined(){return!1}}class cy{constructor(l){this.type=ne,this.input=l}static parse(l,d){if(l.length!==2)return d.error("Expected two arguments.");const m=d.parse(l[1],1,fn);return m?new cy(m):d.error("No image name provided.")}evaluate(l){const d=this.input.evaluate(l),m=ji.fromString(d);return m&&l.availableImages&&(m.available=l.availableImages.indexOf(d)>-1),m}eachChild(l){l(this.input)}outputDefined(){return!1}}class uy{constructor(l){this.type=ht,this.input=l}static parse(l,d){if(l.length!==2)return d.error(`Expected 1 argument, but found ${l.length-1} instead.`);const m=d.parse(l[1],1);return m?m.type.kind!=="array"&&m.type.kind!=="string"&&m.type.kind!=="value"?d.error(`Expected argument of type string or array, but found ${we(m.type)} instead.`):new uy(m):null}evaluate(l){const d=this.input.evaluate(l);if(typeof d=="string"||Array.isArray(d))return d.length;throw new zr(`Expected value to be of type string or array, but found ${we(Ar(d))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}const Lu={"==":Qk,"!=":eT,">":nT,"<":tT,">=":iT,"<=":rT,array:ma,at:iy,boolean:ma,case:sy,coalesce:Vh,collator:Lh,format:Gh,image:cy,in:oy,"index-of":qh,interpolate:Go,"interpolate-hcl":Go,"interpolate-lab":Go,length:uy,let:Wh,literal:vc,match:ay,number:ma,"number-format":ly,object:ma,slice:Hh,step:Rl,string:ma,"to-boolean":Il,"to-color":Il,"to-number":Il,"to-string":Il,var:Nh,within:xc};function Fb(u,[l,d,m,b]){l=l.evaluate(u),d=d.evaluate(u),m=m.evaluate(u);const S=b?b.evaluate(u):1,P=$h(l,d,m,S);if(P)throw new zr(P);return new Jn(l/255,d/255,m/255,S,!1)}function Ub(u,l){return u in l}function dy(u,l){const d=l[u];return d===void 0?null:d}function bc(u){return{type:u}}function Vb(u){return{result:"success",value:u}}function Dl(u){return{result:"error",value:u}}function ju(u){return u["property-type"]==="data-driven"||u["property-type"]==="cross-faded-data-driven"}function Wb(u){return!!u.expression&&u.expression.parameters.indexOf("zoom")>-1}function fy(u){return!!u.expression&&u.expression.interpolated}function Bn(u){return u instanceof Number?"number":u instanceof String?"string":u instanceof Boolean?"boolean":Array.isArray(u)?"array":u===null?"null":typeof u}function Ir(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)}function oT(u){return u}function $n(u,l){const d=l.type==="color",m=u.stops&&typeof u.stops[0][0]=="object",b=m||!(m||u.property!==void 0),S=u.type||(fy(l)?"exponential":"interval");if(d||l.type==="padding"){const G=d?Jn.parse:qo.parse;(u=Bt({},u)).stops&&(u.stops=u.stops.map(Z=>[Z[0],G(Z[1])])),u.default=G(u.default?u.default:l.default)}if(u.colorSpace&&(P=u.colorSpace)!=="rgb"&&P!=="hcl"&&P!=="lab")throw new Error(`Unknown color space: "${u.colorSpace}"`);var P;let R,B,W;if(S==="exponential")R=of;else if(S==="interval")R=Pr;else if(S==="categorical"){R=$r,B=Object.create(null);for(const G of u.stops)B[G[0]]=G[1];W=typeof u.stops[0][0]}else{if(S!=="identity")throw new Error(`Unknown function type "${S}"`);R=qb}if(m){const G={},Z=[];for(let ae=0;ae<u.stops.length;ae++){const he=u.stops[ae],_e=he[0].zoom;G[_e]===void 0&&(G[_e]={zoom:_e,type:u.type,property:u.property,default:u.default,stops:[]},Z.push(_e)),G[_e].stops.push([he[0].value,he[1]])}const ee=[];for(const ae of Z)ee.push([G[ae].zoom,$n(G[ae],l)]);const oe={name:"linear"};return{kind:"composite",interpolationType:oe,interpolationFactor:Go.interpolationFactor.bind(void 0,oe),zoomStops:ee.map(ae=>ae[0]),evaluate:({zoom:ae},he)=>of({stops:ee,base:u.base},l,ae).evaluate(ae,he)}}if(b){const G=S==="exponential"?{name:"exponential",base:u.base!==void 0?u.base:1}:null;return{kind:"camera",interpolationType:G,interpolationFactor:Go.interpolationFactor.bind(void 0,G),zoomStops:u.stops.map(Z=>Z[0]),evaluate:({zoom:Z})=>R(u,l,Z,B,W)}}return{kind:"source",evaluate(G,Z){const ee=Z&&Z.properties?Z.properties[u.property]:void 0;return ee===void 0?_c(u.default,l.default):R(u,l,ee,B,W)}}}function _c(u,l,d){return u!==void 0?u:l!==void 0?l:d!==void 0?d:void 0}function $r(u,l,d,m,b){return _c(typeof d===b?m[d]:void 0,u.default,l.default)}function Pr(u,l,d){if(Bn(d)!=="number")return _c(u.default,l.default);const m=u.stops.length;if(m===1||d<=u.stops[0][0])return u.stops[0][1];if(d>=u.stops[m-1][0])return u.stops[m-1][1];const b=Ru(u.stops.map(S=>S[0]),d);return u.stops[b][1]}function of(u,l,d){const m=u.base!==void 0?u.base:1;if(Bn(d)!=="number")return _c(u.default,l.default);const b=u.stops.length;if(b===1||d<=u.stops[0][0])return u.stops[0][1];if(d>=u.stops[b-1][0])return u.stops[b-1][1];const S=Ru(u.stops.map(G=>G[0]),d),P=function(G,Z,ee,oe){const ae=oe-ee,he=G-ee;return ae===0?0:Z===1?he/ae:(Math.pow(Z,he)-1)/(Math.pow(Z,ae)-1)}(d,m,u.stops[S][0],u.stops[S+1][0]),R=u.stops[S][1],B=u.stops[S+1][1],W=Ho[l.type]||oT;return typeof R.evaluate=="function"?{evaluate(...G){const Z=R.evaluate.apply(void 0,G),ee=B.evaluate.apply(void 0,G);if(Z!==void 0&&ee!==void 0)return W(Z,ee,P,u.colorSpace)}}:W(R,B,P,u.colorSpace)}function qb(u,l,d){switch(l.type){case"color":d=Jn.parse(d);break;case"formatted":d=Ki.fromString(d.toString());break;case"resolvedImage":d=ji.fromString(d.toString());break;case"padding":d=qo.parse(d);break;default:Bn(d)===l.type||l.type==="enum"&&l.values[d]||(d=void 0)}return _c(d,u.default,l.default)}ga.register(Lu,{error:[{kind:"error"},[fn],(u,[l])=>{throw new zr(l.evaluate(u))}],typeof:[fn,[dn],(u,[l])=>we(Ar(l.evaluate(u)))],"to-rgba":[be(ht,4),[Li],(u,[l])=>{const[d,m,b,S]=l.evaluate(u).rgb;return[255*d,255*m,255*b,S]}],rgb:[Li,[ht,ht,ht],Fb],rgba:[Li,[ht,ht,ht,ht],Fb],has:{type:un,overloads:[[[fn],(u,[l])=>Ub(l.evaluate(u),u.properties())],[[fn,da],(u,[l,d])=>Ub(l.evaluate(u),d.evaluate(u))]]},get:{type:dn,overloads:[[[fn],(u,[l])=>dy(l.evaluate(u),u.properties())],[[fn,da],(u,[l,d])=>dy(l.evaluate(u),d.evaluate(u))]]},"feature-state":[dn,[fn],(u,[l])=>dy(l.evaluate(u),u.featureState||{})],properties:[da,[],u=>u.properties()],"geometry-type":[fn,[],u=>u.geometryType()],id:[dn,[],u=>u.id()],zoom:[ht,[],u=>u.globals.zoom],"heatmap-density":[ht,[],u=>u.globals.heatmapDensity||0],"line-progress":[ht,[],u=>u.globals.lineProgress||0],accumulated:[dn,[],u=>u.globals.accumulated===void 0?null:u.globals.accumulated],"+":[ht,bc(ht),(u,l)=>{let d=0;for(const m of l)d+=m.evaluate(u);return d}],"*":[ht,bc(ht),(u,l)=>{let d=1;for(const m of l)d*=m.evaluate(u);return d}],"-":{type:ht,overloads:[[[ht,ht],(u,[l,d])=>l.evaluate(u)-d.evaluate(u)],[[ht],(u,[l])=>-l.evaluate(u)]]},"/":[ht,[ht,ht],(u,[l,d])=>l.evaluate(u)/d.evaluate(u)],"%":[ht,[ht,ht],(u,[l,d])=>l.evaluate(u)%d.evaluate(u)],ln2:[ht,[],()=>Math.LN2],pi:[ht,[],()=>Math.PI],e:[ht,[],()=>Math.E],"^":[ht,[ht,ht],(u,[l,d])=>Math.pow(l.evaluate(u),d.evaluate(u))],sqrt:[ht,[ht],(u,[l])=>Math.sqrt(l.evaluate(u))],log10:[ht,[ht],(u,[l])=>Math.log(l.evaluate(u))/Math.LN10],ln:[ht,[ht],(u,[l])=>Math.log(l.evaluate(u))],log2:[ht,[ht],(u,[l])=>Math.log(l.evaluate(u))/Math.LN2],sin:[ht,[ht],(u,[l])=>Math.sin(l.evaluate(u))],cos:[ht,[ht],(u,[l])=>Math.cos(l.evaluate(u))],tan:[ht,[ht],(u,[l])=>Math.tan(l.evaluate(u))],asin:[ht,[ht],(u,[l])=>Math.asin(l.evaluate(u))],acos:[ht,[ht],(u,[l])=>Math.acos(l.evaluate(u))],atan:[ht,[ht],(u,[l])=>Math.atan(l.evaluate(u))],min:[ht,bc(ht),(u,l)=>Math.min(...l.map(d=>d.evaluate(u)))],max:[ht,bc(ht),(u,l)=>Math.max(...l.map(d=>d.evaluate(u)))],abs:[ht,[ht],(u,[l])=>Math.abs(l.evaluate(u))],round:[ht,[ht],(u,[l])=>{const d=l.evaluate(u);return d<0?-Math.round(-d):Math.round(d)}],floor:[ht,[ht],(u,[l])=>Math.floor(l.evaluate(u))],ceil:[ht,[ht],(u,[l])=>Math.ceil(l.evaluate(u))],"filter-==":[un,[fn,dn],(u,[l,d])=>u.properties()[l.value]===d.value],"filter-id-==":[un,[dn],(u,[l])=>u.id()===l.value],"filter-type-==":[un,[fn],(u,[l])=>u.geometryType()===l.value],"filter-<":[un,[fn,dn],(u,[l,d])=>{const m=u.properties()[l.value],b=d.value;return typeof m==typeof b&&m<b}],"filter-id-<":[un,[dn],(u,[l])=>{const d=u.id(),m=l.value;return typeof d==typeof m&&d<m}],"filter->":[un,[fn,dn],(u,[l,d])=>{const m=u.properties()[l.value],b=d.value;return typeof m==typeof b&&m>b}],"filter-id->":[un,[dn],(u,[l])=>{const d=u.id(),m=l.value;return typeof d==typeof m&&d>m}],"filter-<=":[un,[fn,dn],(u,[l,d])=>{const m=u.properties()[l.value],b=d.value;return typeof m==typeof b&&m<=b}],"filter-id-<=":[un,[dn],(u,[l])=>{const d=u.id(),m=l.value;return typeof d==typeof m&&d<=m}],"filter->=":[un,[fn,dn],(u,[l,d])=>{const m=u.properties()[l.value],b=d.value;return typeof m==typeof b&&m>=b}],"filter-id->=":[un,[dn],(u,[l])=>{const d=u.id(),m=l.value;return typeof d==typeof m&&d>=m}],"filter-has":[un,[dn],(u,[l])=>l.value in u.properties()],"filter-has-id":[un,[],u=>u.id()!==null&&u.id()!==void 0],"filter-type-in":[un,[be(fn)],(u,[l])=>l.value.indexOf(u.geometryType())>=0],"filter-id-in":[un,[be(dn)],(u,[l])=>l.value.indexOf(u.id())>=0],"filter-in-small":[un,[fn,be(dn)],(u,[l,d])=>d.value.indexOf(u.properties()[l.value])>=0],"filter-in-large":[un,[fn,be(dn)],(u,[l,d])=>function(m,b,S,P){for(;S<=P;){const R=S+P>>1;if(b[R]===m)return!0;b[R]>m?P=R-1:S=R+1}return!1}(u.properties()[l.value],d.value,0,d.value.length-1)],all:{type:un,overloads:[[[un,un],(u,[l,d])=>l.evaluate(u)&&d.evaluate(u)],[bc(un),(u,l)=>{for(const d of l)if(!d.evaluate(u))return!1;return!0}]]},any:{type:un,overloads:[[[un,un],(u,[l,d])=>l.evaluate(u)||d.evaluate(u)],[bc(un),(u,l)=>{for(const d of l)if(d.evaluate(u))return!0;return!1}]]},"!":[un,[un],(u,[l])=>!l.evaluate(u)],"is-supported-script":[un,[fn],(u,[l])=>{const d=u.globals&&u.globals.isSupportedScript;return!d||d(l.evaluate(u))}],upcase:[fn,[fn],(u,[l])=>l.evaluate(u).toUpperCase()],downcase:[fn,[fn],(u,[l])=>l.evaluate(u).toLowerCase()],concat:[fn,bc(dn),(u,l)=>l.map(d=>zn(d.evaluate(u))).join("")],"resolved-locale":[fn,[fa],(u,[l])=>l.evaluate(u).resolvedLocale()]});class hy{constructor(l,d){var m;this.expression=l,this._warningHistory={},this._evaluator=new Xg,this._defaultValue=d?(m=d).type==="color"&&Ir(m.default)?new Jn(0,0,0,0):m.type==="color"?Jn.parse(m.default)||null:m.type==="padding"?qo.parse(m.default)||null:m.type==="variableAnchorOffsetCollection"?pa.parse(m.default)||null:m.default===void 0?null:m.default:null,this._enumValues=d&&d.type==="enum"?d.values:null}evaluateWithoutErrorHandling(l,d,m,b,S,P){return this._evaluator.globals=l,this._evaluator.feature=d,this._evaluator.featureState=m,this._evaluator.canonical=b,this._evaluator.availableImages=S||null,this._evaluator.formattedSection=P,this.expression.evaluate(this._evaluator)}evaluate(l,d,m,b,S,P){this._evaluator.globals=l,this._evaluator.feature=d||null,this._evaluator.featureState=m||null,this._evaluator.canonical=b,this._evaluator.availableImages=S||null,this._evaluator.formattedSection=P||null;try{const R=this.expression.evaluate(this._evaluator);if(R==null||typeof R=="number"&&R!=R)return this._defaultValue;if(this._enumValues&&!(R in this._enumValues))throw new zr(`Expected value to be one of ${Object.keys(this._enumValues).map(B=>JSON.stringify(B)).join(", ")}, but found ${JSON.stringify(R)} instead.`);return R}catch(R){return this._warningHistory[R.message]||(this._warningHistory[R.message]=!0,typeof console<"u"&&console.warn(R.message)),this._defaultValue}}}function Yh(u){return Array.isArray(u)&&u.length>0&&typeof u[0]=="string"&&u[0]in Lu}function Kh(u,l){const d=new Dh(Lu,zh,[],l?function(b){const S={color:Li,string:fn,number:ht,enum:fn,boolean:un,formatted:ye,padding:Q,resolvedImage:ne,variableAnchorOffsetCollection:se};return b.type==="array"?be(S[b.value]||dn,b.length):S[b.type]}(l):void 0),m=d.parse(u,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return m?Vb(new hy(m,l)):Dl(d.errors)}class py{constructor(l,d){this.kind=l,this._styleExpression=d,this.isStateDependent=l!=="constant"&&!rf(d.expression)}evaluateWithoutErrorHandling(l,d,m,b,S,P){return this._styleExpression.evaluateWithoutErrorHandling(l,d,m,b,S,P)}evaluate(l,d,m,b,S,P){return this._styleExpression.evaluate(l,d,m,b,S,P)}}class Zh{constructor(l,d,m,b){this.kind=l,this.zoomStops=m,this._styleExpression=d,this.isStateDependent=l!=="camera"&&!rf(d.expression),this.interpolationType=b}evaluateWithoutErrorHandling(l,d,m,b,S,P){return this._styleExpression.evaluateWithoutErrorHandling(l,d,m,b,S,P)}evaluate(l,d,m,b,S,P){return this._styleExpression.evaluate(l,d,m,b,S,P)}interpolationFactor(l,d,m){return this.interpolationType?Go.interpolationFactor(this.interpolationType,l,d,m):0}}function my(u,l){const d=Kh(u,l);if(d.result==="error")return d;const m=d.value.expression,b=Bh(m);if(!b&&!ju(l))return Dl([new ln("","data expressions not supported")]);const S=Fh(m,["zoom"]);if(!S&&!Wb(l))return Dl([new ln("","zoom expressions not supported")]);const P=sf(m);return P||S?P instanceof ln?Dl([P]):P instanceof Go&&!fy(l)?Dl([new ln("",'"interpolate" expressions cannot be used with this property')]):Vb(P?new Zh(b?"camera":"composite",d.value,P.labels,P instanceof Go?P.interpolation:void 0):new py(b?"constant":"source",d.value)):Dl([new ln("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class af{constructor(l,d){this._parameters=l,this._specification=d,Bt(this,$n(this._parameters,this._specification))}static deserialize(l){return new af(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function sf(u){let l=null;if(u instanceof Wh)l=sf(u.result);else if(u instanceof Vh){for(const d of u.args)if(l=sf(d),l)break}else(u instanceof Rl||u instanceof Go)&&u.input instanceof ga&&u.input.name==="zoom"&&(l=u);return l instanceof ln||u.eachChild(d=>{const m=sf(d);m instanceof ln?l=m:!l&&m?l=new ln("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):l&&m&&l!==m&&(l=new ln("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),l}function lf(u){if(u===!0||u===!1)return!0;if(!Array.isArray(u)||u.length===0)return!1;switch(u[0]){case"has":return u.length>=2&&u[1]!=="$id"&&u[1]!=="$type";case"in":return u.length>=3&&(typeof u[1]!="string"||Array.isArray(u[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return u.length!==3||Array.isArray(u[1])||Array.isArray(u[2]);case"any":case"all":for(const l of u.slice(1))if(!lf(l)&&typeof l!="boolean")return!1;return!0;default:return!0}}const aT={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function gy(u){if(u==null)return{filter:()=>!0,needGeometry:!1};lf(u)||(u=Xh(u));const l=Kh(u,aT);if(l.result==="error")throw new Error(l.value.map(d=>`${d.key}: ${d.message}`).join(", "));return{filter:(d,m,b)=>l.value.evaluate(d,m,{},b),needGeometry:Hb(u)}}function sT(u,l){return u<l?-1:u>l?1:0}function Hb(u){if(!Array.isArray(u))return!1;if(u[0]==="within")return!0;for(let l=1;l<u.length;l++)if(Hb(u[l]))return!0;return!1}function Xh(u){if(!u)return!0;const l=u[0];return u.length<=1?l!=="any":l==="=="?yy(u[1],u[2],"=="):l==="!="?cf(yy(u[1],u[2],"==")):l==="<"||l===">"||l==="<="||l===">="?yy(u[1],u[2],l):l==="any"?(d=u.slice(1),["any"].concat(d.map(Xh))):l==="all"?["all"].concat(u.slice(1).map(Xh)):l==="none"?["all"].concat(u.slice(1).map(Xh).map(cf)):l==="in"?Gb(u[1],u.slice(2)):l==="!in"?cf(Gb(u[1],u.slice(2))):l==="has"?Yb(u[1]):l==="!has"?cf(Yb(u[1])):l!=="within"||u;var d}function yy(u,l,d){switch(u){case"$type":return[`filter-type-${d}`,l];case"$id":return[`filter-id-${d}`,l];default:return[`filter-${d}`,u,l]}}function Gb(u,l){if(l.length===0)return!1;switch(u){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some(d=>typeof d!=typeof l[0])?["filter-in-large",u,["literal",l.sort(sT)]]:["filter-in-small",u,["literal",l]]}}function Yb(u){switch(u){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",u]}}function cf(u){return["!",u]}function Jh(u){const l=typeof u;if(l==="number"||l==="boolean"||l==="string"||u==null)return JSON.stringify(u);if(Array.isArray(u)){let b="[";for(const S of u)b+=`${Jh(S)},`;return`${b}]`}const d=Object.keys(u).sort();let m="{";for(let b=0;b<d.length;b++)m+=`${JSON.stringify(d[b])}:${Jh(u[d[b]])},`;return`${m}}`}function Qh(u){let l="";for(const d of an)l+=`/${Jh(u[d])}`;return l}function Kb(u){const l=u.value;return l?[new lt(u.key,l,"constants have been deprecated as of v8")]:[]}function Br(u){return u instanceof Number||u instanceof String||u instanceof Boolean?u.valueOf():u}function wc(u){if(Array.isArray(u))return u.map(wc);if(u instanceof Object&&!(u instanceof Number||u instanceof String||u instanceof Boolean)){const l={};for(const d in u)l[d]=wc(u[d]);return l}return Br(u)}function _o(u){const l=u.key,d=u.value,m=u.valueSpec||{},b=u.objectElementValidators||{},S=u.style,P=u.styleSpec,R=u.validateSpec;let B=[];const W=Bn(d);if(W!=="object")return[new lt(l,d,`object expected, ${W} found`)];for(const G in d){const Z=G.split(".")[0],ee=m[Z]||m["*"];let oe;if(b[Z])oe=b[Z];else if(m[Z])oe=R;else if(b["*"])oe=b["*"];else{if(!m["*"]){B.push(new lt(l,d[G],`unknown property "${G}"`));continue}oe=R}B=B.concat(oe({key:(l&&`${l}.`)+G,value:d[G],valueSpec:ee,style:S,styleSpec:P,object:d,objectKey:G,validateSpec:R},d))}for(const G in m)b[G]||m[G].required&&m[G].default===void 0&&d[G]===void 0&&B.push(new lt(l,d,`missing required property "${G}"`));return B}function Nu(u){const l=u.value,d=u.valueSpec,m=u.style,b=u.styleSpec,S=u.key,P=u.arrayElementValidator||u.validateSpec;if(Bn(l)!=="array")return[new lt(S,l,`array expected, ${Bn(l)} found`)];if(d.length&&l.length!==d.length)return[new lt(S,l,`array length ${d.length} expected, length ${l.length} found`)];if(d["min-length"]&&l.length<d["min-length"])return[new lt(S,l,`array length at least ${d["min-length"]} expected, length ${l.length} found`)];let R={type:d.value,values:d.values};b.$version<7&&(R.function=d.function),Bn(d.value)==="object"&&(R=d.value);let B=[];for(let W=0;W<l.length;W++)B=B.concat(P({array:l,arrayIndex:W,value:l[W],valueSpec:R,validateSpec:u.validateSpec,style:m,styleSpec:b,key:`${S}[${W}]`}));return B}function uf(u){const l=u.key,d=u.value,m=u.valueSpec;let b=Bn(d);return b==="number"&&d!=d&&(b="NaN"),b!=="number"?[new lt(l,d,`number expected, ${b} found`)]:"minimum"in m&&d<m.minimum?[new lt(l,d,`${d} is less than the minimum value ${m.minimum}`)]:"maximum"in m&&d>m.maximum?[new lt(l,d,`${d} is greater than the maximum value ${m.maximum}`)]:[]}function ep(u){const l=u.valueSpec,d=Br(u.value.type);let m,b,S,P={};const R=d!=="categorical"&&u.value.property===void 0,B=!R,W=Bn(u.value.stops)==="array"&&Bn(u.value.stops[0])==="array"&&Bn(u.value.stops[0][0])==="object",G=_o({key:u.key,value:u.value,valueSpec:u.styleSpec.function,validateSpec:u.validateSpec,style:u.style,styleSpec:u.styleSpec,objectElementValidators:{stops:function(oe){if(d==="identity")return[new lt(oe.key,oe.value,'identity function may not have a "stops" property')];let ae=[];const he=oe.value;return ae=ae.concat(Nu({key:oe.key,value:he,valueSpec:oe.valueSpec,validateSpec:oe.validateSpec,style:oe.style,styleSpec:oe.styleSpec,arrayElementValidator:Z})),Bn(he)==="array"&&he.length===0&&ae.push(new lt(oe.key,he,"array must have at least one stop")),ae},default:function(oe){return oe.validateSpec({key:oe.key,value:oe.value,valueSpec:l,validateSpec:oe.validateSpec,style:oe.style,styleSpec:oe.styleSpec})}}});return d==="identity"&&R&&G.push(new lt(u.key,u.value,'missing required property "property"')),d==="identity"||u.value.stops||G.push(new lt(u.key,u.value,'missing required property "stops"')),d==="exponential"&&u.valueSpec.expression&&!fy(u.valueSpec)&&G.push(new lt(u.key,u.value,"exponential functions not supported")),u.styleSpec.$version>=8&&(B&&!ju(u.valueSpec)?G.push(new lt(u.key,u.value,"property functions not supported")):R&&!Wb(u.valueSpec)&&G.push(new lt(u.key,u.value,"zoom functions not supported"))),d!=="categorical"&&!W||u.value.property!==void 0||G.push(new lt(u.key,u.value,'"property" property is required')),G;function Z(oe){let ae=[];const he=oe.value,_e=oe.key;if(Bn(he)!=="array")return[new lt(_e,he,`array expected, ${Bn(he)} found`)];if(he.length!==2)return[new lt(_e,he,`array length 2 expected, length ${he.length} found`)];if(W){if(Bn(he[0])!=="object")return[new lt(_e,he,`object expected, ${Bn(he[0])} found`)];if(he[0].zoom===void 0)return[new lt(_e,he,"object stop key must have zoom")];if(he[0].value===void 0)return[new lt(_e,he,"object stop key must have value")];if(S&&S>Br(he[0].zoom))return[new lt(_e,he[0].zoom,"stop zoom values must appear in ascending order")];Br(he[0].zoom)!==S&&(S=Br(he[0].zoom),b=void 0,P={}),ae=ae.concat(_o({key:`${_e}[0]`,value:he[0],valueSpec:{zoom:{}},validateSpec:oe.validateSpec,style:oe.style,styleSpec:oe.styleSpec,objectElementValidators:{zoom:uf,value:ee}}))}else ae=ae.concat(ee({key:`${_e}[0]`,value:he[0],valueSpec:{},validateSpec:oe.validateSpec,style:oe.style,styleSpec:oe.styleSpec},he));return Yh(wc(he[1]))?ae.concat([new lt(`${_e}[1]`,he[1],"expressions are not allowed in function stops.")]):ae.concat(oe.validateSpec({key:`${_e}[1]`,value:he[1],valueSpec:l,validateSpec:oe.validateSpec,style:oe.style,styleSpec:oe.styleSpec}))}function ee(oe,ae){const he=Bn(oe.value),_e=Br(oe.value),Te=oe.value!==null?oe.value:ae;if(m){if(he!==m)return[new lt(oe.key,Te,`${he} stop domain type must match previous stop domain type ${m}`)]}else m=he;if(he!=="number"&&he!=="string"&&he!=="boolean")return[new lt(oe.key,Te,"stop domain value must be a number, string, or boolean")];if(he!=="number"&&d!=="categorical"){let Re=`number expected, ${he} found`;return ju(l)&&d===void 0&&(Re+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new lt(oe.key,Te,Re)]}return d!=="categorical"||he!=="number"||isFinite(_e)&&Math.floor(_e)===_e?d!=="categorical"&&he==="number"&&b!==void 0&&_e<b?[new lt(oe.key,Te,"stop domain values must appear in ascending order")]:(b=_e,d==="categorical"&&_e in P?[new lt(oe.key,Te,"stop domain values must be unique")]:(P[_e]=!0,[])):[new lt(oe.key,Te,`integer expected, found ${_e}`)]}}function Sc(u){const l=(u.expressionContext==="property"?my:Kh)(wc(u.value),u.valueSpec);if(l.result==="error")return l.value.map(m=>new lt(`${u.key}${m.key}`,u.value,m.message));const d=l.value.expression||l.value._styleExpression.expression;if(u.expressionContext==="property"&&u.propertyKey==="text-font"&&!d.outputDefined())return[new lt(u.key,u.value,`Invalid data expression for "${u.propertyKey}". Output values must be contained as literals within the expression.`)];if(u.expressionContext==="property"&&u.propertyType==="layout"&&!rf(d))return[new lt(u.key,u.value,'"feature-state" data expressions are not supported with layout properties.')];if(u.expressionContext==="filter"&&!rf(d))return[new lt(u.key,u.value,'"feature-state" data expressions are not supported with filters.')];if(u.expressionContext&&u.expressionContext.indexOf("cluster")===0){if(!Fh(d,["zoom","feature-state"]))return[new lt(u.key,u.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(u.expressionContext==="cluster-initial"&&!Bh(d))return[new lt(u.key,u.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function df(u){const l=u.key,d=u.value,m=u.valueSpec,b=[];return Array.isArray(m.values)?m.values.indexOf(Br(d))===-1&&b.push(new lt(l,d,`expected one of [${m.values.join(", ")}], ${JSON.stringify(d)} found`)):Object.keys(m.values).indexOf(Br(d))===-1&&b.push(new lt(l,d,`expected one of [${Object.keys(m.values).join(", ")}], ${JSON.stringify(d)} found`)),b}function zu(u){return lf(wc(u.value))?Sc(Bt({},u,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Zb(u)}function Zb(u){const l=u.value,d=u.key;if(Bn(l)!=="array")return[new lt(d,l,`array expected, ${Bn(l)} found`)];const m=u.styleSpec;let b,S=[];if(l.length<1)return[new lt(d,l,"filter array must have at least 1 element")];switch(S=S.concat(df({key:`${d}[0]`,value:l[0],valueSpec:m.filter_operator,style:u.style,styleSpec:u.styleSpec})),Br(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&Br(l[1])==="$type"&&S.push(new lt(d,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&S.push(new lt(d,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(b=Bn(l[1]),b!=="string"&&S.push(new lt(`${d}[1]`,l[1],`string expected, ${b} found`)));for(let P=2;P<l.length;P++)b=Bn(l[P]),Br(l[1])==="$type"?S=S.concat(df({key:`${d}[${P}]`,value:l[P],valueSpec:m.geometry_type,style:u.style,styleSpec:u.styleSpec})):b!=="string"&&b!=="number"&&b!=="boolean"&&S.push(new lt(`${d}[${P}]`,l[P],`string, number, or boolean expected, ${b} found`));break;case"any":case"all":case"none":for(let P=1;P<l.length;P++)S=S.concat(Zb({key:`${d}[${P}]`,value:l[P],style:u.style,styleSpec:u.styleSpec}));break;case"has":case"!has":b=Bn(l[1]),l.length!==2?S.push(new lt(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):b!=="string"&&S.push(new lt(`${d}[1]`,l[1],`string expected, ${b} found`));break;case"within":b=Bn(l[1]),l.length!==2?S.push(new lt(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):b!=="object"&&S.push(new lt(`${d}[1]`,l[1],`object expected, ${b} found`))}return S}function Xb(u,l){const d=u.key,m=u.validateSpec,b=u.style,S=u.styleSpec,P=u.value,R=u.objectKey,B=S[`${l}_${u.layerType}`];if(!B)return[];const W=R.match(/^(.*)-transition$/);if(l==="paint"&&W&&B[W[1]]&&B[W[1]].transition)return m({key:d,value:P,valueSpec:S.transition,style:b,styleSpec:S});const G=u.valueSpec||B[R];if(!G)return[new lt(d,P,`unknown property "${R}"`)];let Z;if(Bn(P)==="string"&&ju(G)&&!G.tokens&&(Z=/^{([^}]+)}$/.exec(P)))return[new lt(d,P,`"${R}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Z[1])} }\`.`)];const ee=[];return u.layerType==="symbol"&&(R==="text-field"&&b&&!b.glyphs&&ee.push(new lt(d,P,'use of "text-field" requires a style "glyphs" property')),R==="text-font"&&Ir(wc(P))&&Br(P.type)==="identity"&&ee.push(new lt(d,P,'"text-font" does not support identity functions'))),ee.concat(m({key:u.key,value:P,valueSpec:G,style:b,styleSpec:S,expressionContext:"property",propertyType:l,propertyKey:R}))}function Jb(u){return Xb(u,"paint")}function Qb(u){return Xb(u,"layout")}function e_(u){let l=[];const d=u.value,m=u.key,b=u.style,S=u.styleSpec;d.type||d.ref||l.push(new lt(m,d,'either "type" or "ref" is required'));let P=Br(d.type);const R=Br(d.ref);if(d.id){const B=Br(d.id);for(let W=0;W<u.arrayIndex;W++){const G=b.layers[W];Br(G.id)===B&&l.push(new lt(m,d.id,`duplicate layer id "${d.id}", previously used at line ${G.id.__line__}`))}}if("ref"in d){let B;["type","source","source-layer","filter","layout"].forEach(W=>{W in d&&l.push(new lt(m,d[W],`"${W}" is prohibited for ref layers`))}),b.layers.forEach(W=>{Br(W.id)===R&&(B=W)}),B?B.ref?l.push(new lt(m,d.ref,"ref cannot reference another ref layer")):P=Br(B.type):l.push(new lt(m,d.ref,`ref layer "${R}" not found`))}else if(P!=="background")if(d.source){const B=b.sources&&b.sources[d.source],W=B&&Br(B.type);B?W==="vector"&&P==="raster"?l.push(new lt(m,d.source,`layer "${d.id}" requires a raster source`)):W!=="raster-dem"&&P==="hillshade"?l.push(new lt(m,d.source,`layer "${d.id}" requires a raster-dem source`)):W==="raster"&&P!=="raster"?l.push(new lt(m,d.source,`layer "${d.id}" requires a vector source`)):W!=="vector"||d["source-layer"]?W==="raster-dem"&&P!=="hillshade"?l.push(new lt(m,d.source,"raster-dem source can only be used with layer type 'hillshade'.")):P!=="line"||!d.paint||!d.paint["line-gradient"]||W==="geojson"&&B.lineMetrics||l.push(new lt(m,d,`layer "${d.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new lt(m,d,`layer "${d.id}" must specify a "source-layer"`)):l.push(new lt(m,d.source,`source "${d.source}" not found`))}else l.push(new lt(m,d,'missing required property "source"'));return l=l.concat(_o({key:m,value:d,valueSpec:S.layer,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,objectElementValidators:{"*":()=>[],type:()=>u.validateSpec({key:`${m}.type`,value:d.type,valueSpec:S.layer.type,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,object:d,objectKey:"type"}),filter:zu,layout:B=>_o({layer:d,key:B.key,value:B.value,style:B.style,styleSpec:B.styleSpec,validateSpec:B.validateSpec,objectElementValidators:{"*":W=>Qb(Bt({layerType:P},W))}}),paint:B=>_o({layer:d,key:B.key,value:B.value,style:B.style,styleSpec:B.styleSpec,validateSpec:B.validateSpec,objectElementValidators:{"*":W=>Jb(Bt({layerType:P},W))}})}})),l}function cs(u){const l=u.value,d=u.key,m=Bn(l);return m!=="string"?[new lt(d,l,`string expected, ${m} found`)]:[]}const ff={promoteId:function({key:u,value:l}){if(Bn(l)==="string")return cs({key:u,value:l});{const d=[];for(const m in l)d.push(...cs({key:`${u}.${m}`,value:l[m]}));return d}}};function Yo(u){const l=u.value,d=u.key,m=u.styleSpec,b=u.style,S=u.validateSpec;if(!l.type)return[new lt(d,l,'"type" is required')];const P=Br(l.type);let R;switch(P){case"vector":case"raster":return R=_o({key:d,value:l,valueSpec:m[`source_${P.replace("-","_")}`],style:u.style,styleSpec:m,objectElementValidators:ff,validateSpec:S}),R;case"raster-dem":return R=function(B){var W;const G=(W=B.sourceName)!==null&&W!==void 0?W:"",Z=B.value,ee=B.styleSpec,oe=ee.source_raster_dem,ae=B.style;let he=[];const _e=Bn(Z);if(Z===void 0)return he;if(_e!=="object")return he.push(new lt("source_raster_dem",Z,`object expected, ${_e} found`)),he;const Te=Br(Z.encoding)==="custom",Re=["redFactor","greenFactor","blueFactor","baseShift"],Oe=B.value.encoding?`"${B.value.encoding}"`:"Default";for(const Le in Z)!Te&&Re.includes(Le)?he.push(new lt(Le,Z[Le],`In "${G}": "${Le}" is only valid when "encoding" is set to "custom". ${Oe} encoding found`)):oe[Le]?he=he.concat(B.validateSpec({key:Le,value:Z[Le],valueSpec:oe[Le],validateSpec:B.validateSpec,style:ae,styleSpec:ee})):he.push(new lt(Le,Z[Le],`unknown property "${Le}"`));return he}({sourceName:d,value:l,style:u.style,styleSpec:m,validateSpec:S}),R;case"geojson":if(R=_o({key:d,value:l,valueSpec:m.source_geojson,style:b,styleSpec:m,validateSpec:S,objectElementValidators:ff}),l.cluster)for(const B in l.clusterProperties){const[W,G]=l.clusterProperties[B],Z=typeof W=="string"?[W,["accumulated"],["get",B]]:W;R.push(...Sc({key:`${d}.${B}.map`,value:G,validateSpec:S,expressionContext:"cluster-map"})),R.push(...Sc({key:`${d}.${B}.reduce`,value:Z,validateSpec:S,expressionContext:"cluster-reduce"}))}return R;case"video":return _o({key:d,value:l,valueSpec:m.source_video,style:b,validateSpec:S,styleSpec:m});case"image":return _o({key:d,value:l,valueSpec:m.source_image,style:b,validateSpec:S,styleSpec:m});case"canvas":return[new lt(d,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return df({key:`${d}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:b,validateSpec:S,styleSpec:m})}}function hf(u){const l=u.value,d=u.styleSpec,m=d.light,b=u.style;let S=[];const P=Bn(l);if(l===void 0)return S;if(P!=="object")return S=S.concat([new lt("light",l,`object expected, ${P} found`)]),S;for(const R in l){const B=R.match(/^(.*)-transition$/);S=S.concat(B&&m[B[1]]&&m[B[1]].transition?u.validateSpec({key:R,value:l[R],valueSpec:d.transition,validateSpec:u.validateSpec,style:b,styleSpec:d}):m[R]?u.validateSpec({key:R,value:l[R],valueSpec:m[R],validateSpec:u.validateSpec,style:b,styleSpec:d}):[new lt(R,l[R],`unknown property "${R}"`)])}return S}function t_(u){const l=u.value,d=u.styleSpec,m=d.terrain,b=u.style;let S=[];const P=Bn(l);if(l===void 0)return S;if(P!=="object")return S=S.concat([new lt("terrain",l,`object expected, ${P} found`)]),S;for(const R in l)S=S.concat(m[R]?u.validateSpec({key:R,value:l[R],valueSpec:m[R],validateSpec:u.validateSpec,style:b,styleSpec:d}):[new lt(R,l[R],`unknown property "${R}"`)]);return S}function n_(u){let l=[];const d=u.value,m=u.key;if(Array.isArray(d)){const b=[],S=[];for(const P in d)d[P].id&&b.includes(d[P].id)&&l.push(new lt(m,d,`all the sprites' ids must be unique, but ${d[P].id} is duplicated`)),b.push(d[P].id),d[P].url&&S.includes(d[P].url)&&l.push(new lt(m,d,`all the sprites' URLs must be unique, but ${d[P].url} is duplicated`)),S.push(d[P].url),l=l.concat(_o({key:`${m}[${P}]`,value:d[P],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:u.validateSpec}));return l}return cs({key:m,value:d})}const r_={"*":()=>[],array:Nu,boolean:function(u){const l=u.value,d=u.key,m=Bn(l);return m!=="boolean"?[new lt(d,l,`boolean expected, ${m} found`)]:[]},number:uf,color:function(u){const l=u.key,d=u.value,m=Bn(d);return m!=="string"?[new lt(l,d,`color expected, ${m} found`)]:Jn.parse(String(d))?[]:[new lt(l,d,`color expected, "${d}" found`)]},constants:Kb,enum:df,filter:zu,function:ep,layer:e_,object:_o,source:Yo,light:hf,terrain:t_,string:cs,formatted:function(u){return cs(u).length===0?[]:Sc(u)},resolvedImage:function(u){return cs(u).length===0?[]:Sc(u)},padding:function(u){const l=u.key,d=u.value;if(Bn(d)==="array"){if(d.length<1||d.length>4)return[new lt(l,d,`padding requires 1 to 4 values; ${d.length} values found`)];const m={type:"number"};let b=[];for(let S=0;S<d.length;S++)b=b.concat(u.validateSpec({key:`${l}[${S}]`,value:d[S],validateSpec:u.validateSpec,valueSpec:m}));return b}return uf({key:l,value:d,valueSpec:{}})},variableAnchorOffsetCollection:function(u){const l=u.key,d=u.value,m=Bn(d),b=u.styleSpec;if(m!=="array"||d.length<1||d.length%2!=0)return[new lt(l,d,"variableAnchorOffsetCollection requires a non-empty array of even length")];let S=[];for(let P=0;P<d.length;P+=2)S=S.concat(df({key:`${l}[${P}]`,value:d[P],valueSpec:b.layout_symbol["text-anchor"]})),S=S.concat(Nu({key:`${l}[${P+1}]`,value:d[P+1],valueSpec:{length:2,value:"number"},validateSpec:u.validateSpec,style:u.style,styleSpec:b}));return S},sprite:n_};function Zs(u){const l=u.value,d=u.valueSpec,m=u.styleSpec;return u.validateSpec=Zs,d.expression&&Ir(Br(l))?ep(u):d.expression&&Yh(wc(l))?Sc(u):d.type&&r_[d.type]?r_[d.type](u):_o(Bt({},u,{valueSpec:d.type?m[d.type]:d}))}function i_(u){const l=u.value,d=u.key,m=cs(u);return m.length||(l.indexOf("{fontstack}")===-1&&m.push(new lt(d,l,'"glyphs" url must include a "{fontstack}" token')),l.indexOf("{range}")===-1&&m.push(new lt(d,l,'"glyphs" url must include a "{range}" token'))),m}function ya(u,l=ze){let d=[];return d=d.concat(Zs({key:"",value:u,valueSpec:l.$root,styleSpec:l,style:u,validateSpec:Zs,objectElementValidators:{glyphs:i_,"*":()=>[]}})),u.constants&&(d=d.concat(Kb({key:"constants",value:u.constants,style:u,styleSpec:l,validateSpec:Zs}))),tp(d)}function Xs(u){return function(l){return u({...l,validateSpec:Zs})}}function tp(u){return[].concat(u).sort((l,d)=>l.line-d.line)}function Js(u){return function(...l){return tp(u.apply(this,l))}}ya.source=Js(Xs(Yo)),ya.sprite=Js(Xs(n_)),ya.glyphs=Js(Xs(i_)),ya.light=Js(Xs(hf)),ya.terrain=Js(Xs(t_)),ya.layer=Js(Xs(e_)),ya.filter=Js(Xs(zu)),ya.paintProperty=Js(Xs(Jb)),ya.layoutProperty=Js(Xs(Qb));const Qs=ya,lT=Qs.light,vy=Qs.paintProperty,o_=Qs.layoutProperty;function np(u,l){let d=!1;if(l&&l.length)for(const m of l)u.fire(new _n(new Error(m.message))),d=!0;return d}class Bu{constructor(l,d,m){const b=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;const P=new Int32Array(this.arrayBuffer);l=P[0],this.d=(d=P[1])+2*(m=P[2]);for(let B=0;B<this.d*this.d;B++){const W=P[3+B],G=P[3+B+1];b.push(W===G?null:P.subarray(W,G))}const R=P[3+b.length+1];this.keys=P.subarray(P[3+b.length],R),this.bboxes=P.subarray(R),this.insert=this._insertReadonly}else{this.d=d+2*m;for(let P=0;P<this.d*this.d;P++)b.push([]);this.keys=[],this.bboxes=[]}this.n=d,this.extent=l,this.padding=m,this.scale=d/l,this.uid=0;const S=m/d*l;this.min=-S,this.max=l+S}insert(l,d,m,b,S){this._forEachCell(d,m,b,S,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(d),this.bboxes.push(m),this.bboxes.push(b),this.bboxes.push(S)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,d,m,b,S,P){this.cells[S].push(P)}query(l,d,m,b,S){const P=this.min,R=this.max;if(l<=P&&d<=P&&R<=m&&R<=b&&!S)return Array.prototype.slice.call(this.keys);{const B=[];return this._forEachCell(l,d,m,b,this._queryCell,B,{},S),B}}_queryCell(l,d,m,b,S,P,R,B){const W=this.cells[S];if(W!==null){const G=this.keys,Z=this.bboxes;for(let ee=0;ee<W.length;ee++){const oe=W[ee];if(R[oe]===void 0){const ae=4*oe;(B?B(Z[ae+0],Z[ae+1],Z[ae+2],Z[ae+3]):l<=Z[ae+2]&&d<=Z[ae+3]&&m>=Z[ae+0]&&b>=Z[ae+1])?(R[oe]=!0,P.push(G[oe])):R[oe]=!1}}}}_forEachCell(l,d,m,b,S,P,R,B){const W=this._convertToCellCoord(l),G=this._convertToCellCoord(d),Z=this._convertToCellCoord(m),ee=this._convertToCellCoord(b);for(let oe=W;oe<=Z;oe++)for(let ae=G;ae<=ee;ae++){const he=this.d*ae+oe;if((!B||B(this._convertFromCellCoord(oe),this._convertFromCellCoord(ae),this._convertFromCellCoord(oe+1),this._convertFromCellCoord(ae+1)))&&S.call(this,l,d,m,b,he,P,R,B))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const l=this.cells,d=3+this.cells.length+1+1;let m=0;for(let P=0;P<this.cells.length;P++)m+=this.cells[P].length;const b=new Int32Array(d+m+this.keys.length+this.bboxes.length);b[0]=this.extent,b[1]=this.n,b[2]=this.padding;let S=d;for(let P=0;P<l.length;P++){const R=l[P];b[3+P]=S,b.set(R,S),S+=R.length}return b[3+l.length]=S,b.set(this.keys,S),S+=this.keys.length,b[3+l.length+1]=S,b.set(this.bboxes,S),S+=this.bboxes.length,b.buffer}static serialize(l,d){const m=l.toArrayBuffer();return d&&d.push(m),{buffer:m}}static deserialize(l){return new Bu(l.buffer)}}const el={};function Ot(u,l,d={}){if(el[u])throw new Error(`${u} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:u,writeable:!1}),el[u]={klass:l,omit:d.omit||[],shallow:d.shallow||[]}}Ot("Object",Object),Ot("TransferableGridIndex",Bu),Ot("Color",Jn),Ot("Error",Error),Ot("AJAXError",Mt),Ot("ResolvedImage",ji),Ot("StylePropertyFunction",af),Ot("StyleExpression",hy,{omit:["_evaluator"]}),Ot("ZoomDependentExpression",Zh),Ot("ZoomConstantExpression",py),Ot("CompoundExpression",ga,{omit:["_evaluate"]});for(const u in Lu)Lu[u]._classRegistryKey||Ot(`Expression_${u}`,Lu[u]);function rp(u){return u&&typeof ArrayBuffer<"u"&&(u instanceof ArrayBuffer||u.constructor&&u.constructor.name==="ArrayBuffer")}function Ll(u,l){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob)return u;if(rp(u)||Pe(u))return l&&l.push(u),u;if(ArrayBuffer.isView(u)){const d=u;return l&&l.push(d.buffer),d}if(u instanceof ImageData)return l&&l.push(u.data.buffer),u;if(Array.isArray(u)){const d=[];for(const m of u)d.push(Ll(m,l));return d}if(typeof u=="object"){const d=u.constructor,m=d._classRegistryKey;if(!m)throw new Error("can't serialize object of unregistered class");if(!el[m])throw new Error(`${m} is not registered.`);const b=d.serialize?d.serialize(u,l):{};if(d.serialize){if(l&&b===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const S in u){if(!u.hasOwnProperty(S)||el[m].omit.indexOf(S)>=0)continue;const P=u[S];b[S]=el[m].shallow.indexOf(S)>=0?P:Ll(P,l)}u instanceof Error&&(b.message=u.message)}if(b.$name)throw new Error("$name property is reserved for worker serialization logic.");return m!=="Object"&&(b.$name=m),b}throw new Error("can't serialize object of type "+typeof u)}function Fu(u){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob||rp(u)||Pe(u)||ArrayBuffer.isView(u)||u instanceof ImageData)return u;if(Array.isArray(u))return u.map(Fu);if(typeof u=="object"){const l=u.$name||"Object";if(!el[l])throw new Error(`can't deserialize unregistered class ${l}`);const{klass:d}=el[l];if(!d)throw new Error(`can't deserialize unregistered class ${l}`);if(d.deserialize)return d.deserialize(u);const m=Object.create(d.prototype);for(const b of Object.keys(u)){if(b==="$name")continue;const S=u[b];m[b]=el[l].shallow.indexOf(b)>=0?S:Fu(S)}return m}throw new Error("can't deserialize object of type "+typeof u)}class a_{constructor(){this.first=!0}update(l,d){const m=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=m,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=m,!0):(this.lastFloorZoom>m?(this.lastIntegerZoom=m+1,this.lastIntegerZoomTime=d):this.lastFloorZoom<m&&(this.lastIntegerZoom=m,this.lastIntegerZoomTime=d),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=m,!0))}}const Ct={"Latin-1 Supplement":u=>u>=128&&u<=255,Arabic:u=>u>=1536&&u<=1791,"Arabic Supplement":u=>u>=1872&&u<=1919,"Arabic Extended-A":u=>u>=2208&&u<=2303,"Hangul Jamo":u=>u>=4352&&u<=4607,"Unified Canadian Aboriginal Syllabics":u=>u>=5120&&u<=5759,Khmer:u=>u>=6016&&u<=6143,"Unified Canadian Aboriginal Syllabics Extended":u=>u>=6320&&u<=6399,"General Punctuation":u=>u>=8192&&u<=8303,"Letterlike Symbols":u=>u>=8448&&u<=8527,"Number Forms":u=>u>=8528&&u<=8591,"Miscellaneous Technical":u=>u>=8960&&u<=9215,"Control Pictures":u=>u>=9216&&u<=9279,"Optical Character Recognition":u=>u>=9280&&u<=9311,"Enclosed Alphanumerics":u=>u>=9312&&u<=9471,"Geometric Shapes":u=>u>=9632&&u<=9727,"Miscellaneous Symbols":u=>u>=9728&&u<=9983,"Miscellaneous Symbols and Arrows":u=>u>=11008&&u<=11263,"CJK Radicals Supplement":u=>u>=11904&&u<=12031,"Kangxi Radicals":u=>u>=12032&&u<=12255,"Ideographic Description Characters":u=>u>=12272&&u<=12287,"CJK Symbols and Punctuation":u=>u>=12288&&u<=12351,Hiragana:u=>u>=12352&&u<=12447,Katakana:u=>u>=12448&&u<=12543,Bopomofo:u=>u>=12544&&u<=12591,"Hangul Compatibility Jamo":u=>u>=12592&&u<=12687,Kanbun:u=>u>=12688&&u<=12703,"Bopomofo Extended":u=>u>=12704&&u<=12735,"CJK Strokes":u=>u>=12736&&u<=12783,"Katakana Phonetic Extensions":u=>u>=12784&&u<=12799,"Enclosed CJK Letters and Months":u=>u>=12800&&u<=13055,"CJK Compatibility":u=>u>=13056&&u<=13311,"CJK Unified Ideographs Extension A":u=>u>=13312&&u<=19903,"Yijing Hexagram Symbols":u=>u>=19904&&u<=19967,"CJK Unified Ideographs":u=>u>=19968&&u<=40959,"Yi Syllables":u=>u>=40960&&u<=42127,"Yi Radicals":u=>u>=42128&&u<=42191,"Hangul Jamo Extended-A":u=>u>=43360&&u<=43391,"Hangul Syllables":u=>u>=44032&&u<=55215,"Hangul Jamo Extended-B":u=>u>=55216&&u<=55295,"Private Use Area":u=>u>=57344&&u<=63743,"CJK Compatibility Ideographs":u=>u>=63744&&u<=64255,"Arabic Presentation Forms-A":u=>u>=64336&&u<=65023,"Vertical Forms":u=>u>=65040&&u<=65055,"CJK Compatibility Forms":u=>u>=65072&&u<=65103,"Small Form Variants":u=>u>=65104&&u<=65135,"Arabic Presentation Forms-B":u=>u>=65136&&u<=65279,"Halfwidth and Fullwidth Forms":u=>u>=65280&&u<=65519};function xy(u){for(const l of u)if(_y(l.charCodeAt(0)))return!0;return!1}function by(u){for(const l of u)if(!cT(l.charCodeAt(0)))return!1;return!0}function cT(u){return!(Ct.Arabic(u)||Ct["Arabic Supplement"](u)||Ct["Arabic Extended-A"](u)||Ct["Arabic Presentation Forms-A"](u)||Ct["Arabic Presentation Forms-B"](u))}function _y(u){return!(u!==746&&u!==747&&(u<4352||!(Ct["Bopomofo Extended"](u)||Ct.Bopomofo(u)||Ct["CJK Compatibility Forms"](u)&&!(u>=65097&&u<=65103)||Ct["CJK Compatibility Ideographs"](u)||Ct["CJK Compatibility"](u)||Ct["CJK Radicals Supplement"](u)||Ct["CJK Strokes"](u)||!(!Ct["CJK Symbols and Punctuation"](u)||u>=12296&&u<=12305||u>=12308&&u<=12319||u===12336)||Ct["CJK Unified Ideographs Extension A"](u)||Ct["CJK Unified Ideographs"](u)||Ct["Enclosed CJK Letters and Months"](u)||Ct["Hangul Compatibility Jamo"](u)||Ct["Hangul Jamo Extended-A"](u)||Ct["Hangul Jamo Extended-B"](u)||Ct["Hangul Jamo"](u)||Ct["Hangul Syllables"](u)||Ct.Hiragana(u)||Ct["Ideographic Description Characters"](u)||Ct.Kanbun(u)||Ct["Kangxi Radicals"](u)||Ct["Katakana Phonetic Extensions"](u)||Ct.Katakana(u)&&u!==12540||!(!Ct["Halfwidth and Fullwidth Forms"](u)||u===65288||u===65289||u===65293||u>=65306&&u<=65310||u===65339||u===65341||u===65343||u>=65371&&u<=65503||u===65507||u>=65512&&u<=65519)||!(!Ct["Small Form Variants"](u)||u>=65112&&u<=65118||u>=65123&&u<=65126)||Ct["Unified Canadian Aboriginal Syllabics"](u)||Ct["Unified Canadian Aboriginal Syllabics Extended"](u)||Ct["Vertical Forms"](u)||Ct["Yijing Hexagram Symbols"](u)||Ct["Yi Syllables"](u)||Ct["Yi Radicals"](u))))}function s_(u){return!(_y(u)||function(l){return!!(Ct["Latin-1 Supplement"](l)&&(l===167||l===169||l===174||l===177||l===188||l===189||l===190||l===215||l===247)||Ct["General Punctuation"](l)&&(l===8214||l===8224||l===8225||l===8240||l===8241||l===8251||l===8252||l===8258||l===8263||l===8264||l===8265||l===8273)||Ct["Letterlike Symbols"](l)||Ct["Number Forms"](l)||Ct["Miscellaneous Technical"](l)&&(l>=8960&&l<=8967||l>=8972&&l<=8991||l>=8996&&l<=9e3||l===9003||l>=9085&&l<=9114||l>=9150&&l<=9165||l===9167||l>=9169&&l<=9179||l>=9186&&l<=9215)||Ct["Control Pictures"](l)&&l!==9251||Ct["Optical Character Recognition"](l)||Ct["Enclosed Alphanumerics"](l)||Ct["Geometric Shapes"](l)||Ct["Miscellaneous Symbols"](l)&&!(l>=9754&&l<=9759)||Ct["Miscellaneous Symbols and Arrows"](l)&&(l>=11026&&l<=11055||l>=11088&&l<=11097||l>=11192&&l<=11243)||Ct["CJK Symbols and Punctuation"](l)||Ct.Katakana(l)||Ct["Private Use Area"](l)||Ct["CJK Compatibility Forms"](l)||Ct["Small Form Variants"](l)||Ct["Halfwidth and Fullwidth Forms"](l)||l===8734||l===8756||l===8757||l>=9984&&l<=10087||l>=10102&&l<=10131||l===65532||l===65533)}(u))}function l_(u){return u>=1424&&u<=2303||Ct["Arabic Presentation Forms-A"](u)||Ct["Arabic Presentation Forms-B"](u)}function c_(u,l){return!(!l&&l_(u)||u>=2304&&u<=3583||u>=3840&&u<=4255||Ct.Khmer(u))}function uT(u){for(const l of u)if(l_(l.charCodeAt(0)))return!0;return!1}const wy="deferred",Sy="loading",Cy="loaded";let ky=null,wo="unavailable",jl=null;const pf=function(u){u&&typeof u=="string"&&u.indexOf("NetworkError")>-1&&(wo="error"),ky&&ky(u)};function Ty(){mf.fire(new bn("pluginStateChange",{pluginStatus:wo,pluginURL:jl}))}const mf=new rr,Py=function(){return wo},u_=function(){if(wo!==wy||!jl)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");wo=Sy,Ty(),jl&&Tt({url:jl},u=>{u?pf(u):(wo=Cy,Ty())})},Ko={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>wo===Cy||Ko.applyArabicShaping!=null,isLoading:()=>wo===Sy,setState(u){if(!xe())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");wo=u.pluginStatus,jl=u.pluginURL},isParsed(){if(!xe())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return Ko.applyArabicShaping!=null&&Ko.processBidirectionalText!=null&&Ko.processStyledBidirectionalText!=null},getPluginURL(){if(!xe())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return jl}};class br{constructor(l,d){this.zoom=l,d?(this.now=d.now,this.fadeDuration=d.fadeDuration,this.zoomHistory=d.zoomHistory,this.transition=d.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new a_,this.transition={})}isSupportedScript(l){return function(d,m){for(const b of d)if(!c_(b.charCodeAt(0),m))return!1;return!0}(l,Ko.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const l=this.zoom,d=l-Math.floor(l),m=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:d+(1-d)*m}:{fromScale:.5,toScale:1,t:1-(1-m)*d}}}class ip{constructor(l,d){this.property=l,this.value=d,this.expression=function(m,b){if(Ir(m))return new af(m,b);if(Yh(m)){const S=my(m,b);if(S.result==="error")throw new Error(S.value.map(P=>`${P.key}: ${P.message}`).join(", "));return S.value}{let S=m;return b.type==="color"&&typeof m=="string"?S=Jn.parse(m):b.type!=="padding"||typeof m!="number"&&!Array.isArray(m)?b.type==="variableAnchorOffsetCollection"&&Array.isArray(m)&&(S=pa.parse(m)):S=qo.parse(m),{kind:"constant",evaluate:()=>S}}}(d===void 0?l.specification.default:d,l.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(l,d,m){return this.property.possiblyEvaluate(this,l,d,m)}}class Ey{constructor(l){this.property=l,this.value=new ip(l,void 0)}transitioned(l,d){return new f_(this.property,this.value,d,q({},l.transition,this.transition),l.now)}untransitioned(){return new f_(this.property,this.value,null,{},0)}}class d_{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues)}getValue(l){return ge(this._values[l].value.value)}setValue(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new Ey(this._values[l].property)),this._values[l].value=new ip(this._values[l].property,d===null?void 0:ge(d))}getTransition(l){return ge(this._values[l].transition)}setTransition(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new Ey(this._values[l].property)),this._values[l].transition=ge(d)||void 0}serialize(){const l={};for(const d of Object.keys(this._values)){const m=this.getValue(d);m!==void 0&&(l[d]=m);const b=this.getTransition(d);b!==void 0&&(l[`${d}-transition`]=b)}return l}transitioned(l,d){const m=new h_(this._properties);for(const b of Object.keys(this._values))m._values[b]=this._values[b].transitioned(l,d._values[b]);return m}untransitioned(){const l=new h_(this._properties);for(const d of Object.keys(this._values))l._values[d]=this._values[d].untransitioned();return l}}class f_{constructor(l,d,m,b,S){this.property=l,this.value=d,this.begin=S+b.delay||0,this.end=this.begin+b.duration||0,l.specification.transition&&(b.delay||b.duration)&&(this.prior=m)}possiblyEvaluate(l,d,m){const b=l.now||0,S=this.value.possiblyEvaluate(l,d,m),P=this.prior;if(P){if(b>this.end)return this.prior=null,S;if(this.value.isDataDriven())return this.prior=null,S;if(b<this.begin)return P.possiblyEvaluate(l,d,m);{const R=(b-this.begin)/(this.end-this.begin);return this.property.interpolate(P.possiblyEvaluate(l,d,m),S,function(B){if(B<=0)return 0;if(B>=1)return 1;const W=B*B,G=W*B;return 4*(B<.5?G:3*(B-W)+G-.75)}(R))}}return S}}class h_{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,d,m){const b=new op(this._properties);for(const S of Object.keys(this._values))b._values[S]=this._values[S].possiblyEvaluate(l,d,m);return b}hasTransition(){for(const l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class dT{constructor(l){this._properties=l,this._values=Object.create(l.defaultPropertyValues)}hasValue(l){return this._values[l].value!==void 0}getValue(l){return ge(this._values[l].value)}setValue(l,d){this._values[l]=new ip(this._values[l].property,d===null?void 0:ge(d))}serialize(){const l={};for(const d of Object.keys(this._values)){const m=this.getValue(d);m!==void 0&&(l[d]=m)}return l}possiblyEvaluate(l,d,m){const b=new op(this._properties);for(const S of Object.keys(this._values))b._values[S]=this._values[S].possiblyEvaluate(l,d,m);return b}}class so{constructor(l,d,m){this.property=l,this.value=d,this.parameters=m}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,d,m,b){return this.property.evaluate(this.value,this.parameters,l,d,m,b)}}class op{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class Ft{constructor(l){this.specification=l}possiblyEvaluate(l,d){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(d)}interpolate(l,d,m){const b=Ho[this.specification.type];return b?b(l,d,m):l}}class Jt{constructor(l,d){this.specification=l,this.overrides=d}possiblyEvaluate(l,d,m,b){return new so(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(d,null,{},m,b)}:l.expression,d)}interpolate(l,d,m){if(l.value.kind!=="constant"||d.value.kind!=="constant")return l;if(l.value.value===void 0||d.value.value===void 0)return new so(this,{kind:"constant",value:void 0},l.parameters);const b=Ho[this.specification.type];if(b){const S=b(l.value.value,d.value.value,m);return new so(this,{kind:"constant",value:S},l.parameters)}return l}evaluate(l,d,m,b,S,P){return l.kind==="constant"?l.value:l.evaluate(d,m,b,S,P)}}class gf extends Jt{possiblyEvaluate(l,d,m,b){if(l.value===void 0)return new so(this,{kind:"constant",value:void 0},d);if(l.expression.kind==="constant"){const S=l.expression.evaluate(d,null,{},m,b),P=l.property.specification.type==="resolvedImage"&&typeof S!="string"?S.name:S,R=this._calculate(P,P,P,d);return new so(this,{kind:"constant",value:R},d)}if(l.expression.kind==="camera"){const S=this._calculate(l.expression.evaluate({zoom:d.zoom-1}),l.expression.evaluate({zoom:d.zoom}),l.expression.evaluate({zoom:d.zoom+1}),d);return new so(this,{kind:"constant",value:S},d)}return new so(this,l.expression,d)}evaluate(l,d,m,b,S,P){if(l.kind==="source"){const R=l.evaluate(d,m,b,S,P);return this._calculate(R,R,R,d)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(d.zoom)-1},m,b),l.evaluate({zoom:Math.floor(d.zoom)},m,b),l.evaluate({zoom:Math.floor(d.zoom)+1},m,b),d):l.value}_calculate(l,d,m,b){return b.zoom>b.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:m,to:d}}interpolate(l){return l}}class Oy{constructor(l){this.specification=l}possiblyEvaluate(l,d,m,b){if(l.value!==void 0){if(l.expression.kind==="constant"){const S=l.expression.evaluate(d,null,{},m,b);return this._calculate(S,S,S,d)}return this._calculate(l.expression.evaluate(new br(Math.floor(d.zoom-1),d)),l.expression.evaluate(new br(Math.floor(d.zoom),d)),l.expression.evaluate(new br(Math.floor(d.zoom+1),d)),d)}}_calculate(l,d,m,b){return b.zoom>b.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:m,to:d}}interpolate(l){return l}}class My{constructor(l){this.specification=l}possiblyEvaluate(l,d,m,b){return!!l.expression.evaluate(d,null,{},m,b)}interpolate(){return!1}}class ri{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const d in l){const m=l[d];m.specification.overridable&&this.overridableProperties.push(d);const b=this.defaultPropertyValues[d]=new ip(m,void 0),S=this.defaultTransitionablePropertyValues[d]=new Ey(m);this.defaultTransitioningPropertyValues[d]=S.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=b.possiblyEvaluate({})}}}Ot("DataDrivenProperty",Jt),Ot("DataConstantProperty",Ft),Ot("CrossFadedDataDrivenProperty",gf),Ot("CrossFadedProperty",Oy),Ot("ColorRampProperty",My);const Ay="-transition";class va extends rr{constructor(l,d){if(super(),this.id=l.id,this.type=l.type,this._featureFilter={filter:()=>!0,needGeometry:!1},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter),d.layout&&(this._unevaluatedLayout=new dT(d.layout)),d.paint)){this._transitionablePaint=new d_(d.paint);for(const m in l.paint)this.setPaintProperty(m,l.paint[m],{validate:!1});for(const m in l.layout)this.setLayoutProperty(m,l.layout[m],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new op(d.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}setLayoutProperty(l,d,m={}){d!=null&&this._validate(o_,`layers.${this.id}.layout.${l}`,l,d,m)||(l!=="visibility"?this._unevaluatedLayout.setValue(l,d):this.visibility=d)}getPaintProperty(l){return l.endsWith(Ay)?this._transitionablePaint.getTransition(l.slice(0,-11)):this._transitionablePaint.getValue(l)}setPaintProperty(l,d,m={}){if(d!=null&&this._validate(vy,`layers.${this.id}.paint.${l}`,l,d,m))return!1;if(l.endsWith(Ay))return this._transitionablePaint.setTransition(l.slice(0,-11),d||void 0),!1;{const b=this._transitionablePaint._values[l],S=b.property.specification["property-type"]==="cross-faded-data-driven",P=b.value.isDataDriven(),R=b.value;this._transitionablePaint.setValue(l,d),this._handleSpecialPaintPropertyUpdate(l);const B=this._transitionablePaint._values[l].value;return B.isDataDriven()||P||S||this._handleOverridablePaintPropertyUpdate(l,R,B)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,d,m){return!1}isHidden(l){return!!(this.minzoom&&l<this.minzoom)||!!(this.maxzoom&&l>=this.maxzoom)||this.visibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(l,d){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,d)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,d)}serialize(){const l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),ie(l,(d,m)=>!(d===void 0||m==="layout"&&!Object.keys(d).length||m==="paint"&&!Object.keys(d).length))}_validate(l,d,m,b,S={}){return(!S||S.validate!==!1)&&np(this,l.call(Qs,{key:d,layerType:this.type,objectKey:m,value:b,styleSpec:ze,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const l in this.paint._values){const d=this.paint.get(l);if(d instanceof so&&ju(d.property.specification)&&(d.value.kind==="source"||d.value.kind==="composite")&&d.value.isStateDependent)return!0}return!1}}const p_={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Cc{constructor(l,d){this._structArray=l,this._pos1=d*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Fr{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,d){return l._trim(),d&&(l.isTransferred=!0,d.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){const d=Object.create(this.prototype);return d.arrayBuffer=l.arrayBuffer,d.length=l.length,d.capacity=l.arrayBuffer.byteLength/d.bytesPerElement,d._refreshViews(),d}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const d=this.uint8;this._refreshViews(),d&&this.uint8.set(d)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Rr(u,l=1){let d=0,m=0;return{members:u.map(b=>{const S=p_[b.type].BYTES_PER_ELEMENT,P=d=Uu(d,Math.max(l,S)),R=b.components||1;return m=Math.max(m,S),d+=S*R,{name:b.name,type:b.type,components:R,offset:P}}),size:Uu(d,Math.max(m,l)),alignment:l}}function Uu(u,l){return Math.ceil(u/l)*l}class yf extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d){const m=this.length;return this.resize(m+1),this.emplace(m,l,d)}emplace(l,d,m){const b=2*l;return this.int16[b+0]=d,this.int16[b+1]=m,l}}yf.prototype.bytesPerElement=4,Ot("StructArrayLayout2i4",yf);class vf extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m){const b=this.length;return this.resize(b+1),this.emplace(b,l,d,m)}emplace(l,d,m,b){const S=3*l;return this.int16[S+0]=d,this.int16[S+1]=m,this.int16[S+2]=b,l}}vf.prototype.bytesPerElement=6,Ot("StructArrayLayout3i6",vf);class kc extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,b){const S=this.length;return this.resize(S+1),this.emplace(S,l,d,m,b)}emplace(l,d,m,b,S){const P=4*l;return this.int16[P+0]=d,this.int16[P+1]=m,this.int16[P+2]=b,this.int16[P+3]=S,l}}kc.prototype.bytesPerElement=8,Ot("StructArrayLayout4i8",kc);class Iy extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,S,P){const R=this.length;return this.resize(R+1),this.emplace(R,l,d,m,b,S,P)}emplace(l,d,m,b,S,P,R){const B=6*l;return this.int16[B+0]=d,this.int16[B+1]=m,this.int16[B+2]=b,this.int16[B+3]=S,this.int16[B+4]=P,this.int16[B+5]=R,l}}Iy.prototype.bytesPerElement=12,Ot("StructArrayLayout2i4i12",Iy);class $y extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,S,P){const R=this.length;return this.resize(R+1),this.emplace(R,l,d,m,b,S,P)}emplace(l,d,m,b,S,P,R){const B=4*l,W=8*l;return this.int16[B+0]=d,this.int16[B+1]=m,this.uint8[W+4]=b,this.uint8[W+5]=S,this.uint8[W+6]=P,this.uint8[W+7]=R,l}}$y.prototype.bytesPerElement=8,Ot("StructArrayLayout2i4ub8",$y);class Vu extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d){const m=this.length;return this.resize(m+1),this.emplace(m,l,d)}emplace(l,d,m){const b=2*l;return this.float32[b+0]=d,this.float32[b+1]=m,l}}Vu.prototype.bytesPerElement=8,Ot("StructArrayLayout2f8",Vu);class Ry extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,S,P,R,B,W,G){const Z=this.length;return this.resize(Z+1),this.emplace(Z,l,d,m,b,S,P,R,B,W,G)}emplace(l,d,m,b,S,P,R,B,W,G,Z){const ee=10*l;return this.uint16[ee+0]=d,this.uint16[ee+1]=m,this.uint16[ee+2]=b,this.uint16[ee+3]=S,this.uint16[ee+4]=P,this.uint16[ee+5]=R,this.uint16[ee+6]=B,this.uint16[ee+7]=W,this.uint16[ee+8]=G,this.uint16[ee+9]=Z,l}}Ry.prototype.bytesPerElement=20,Ot("StructArrayLayout10ui20",Ry);class Dy extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,S,P,R,B,W,G,Z,ee){const oe=this.length;return this.resize(oe+1),this.emplace(oe,l,d,m,b,S,P,R,B,W,G,Z,ee)}emplace(l,d,m,b,S,P,R,B,W,G,Z,ee,oe){const ae=12*l;return this.int16[ae+0]=d,this.int16[ae+1]=m,this.int16[ae+2]=b,this.int16[ae+3]=S,this.uint16[ae+4]=P,this.uint16[ae+5]=R,this.uint16[ae+6]=B,this.uint16[ae+7]=W,this.int16[ae+8]=G,this.int16[ae+9]=Z,this.int16[ae+10]=ee,this.int16[ae+11]=oe,l}}Dy.prototype.bytesPerElement=24,Ot("StructArrayLayout4i4ui4i24",Dy);class Fn extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m){const b=this.length;return this.resize(b+1),this.emplace(b,l,d,m)}emplace(l,d,m,b){const S=3*l;return this.float32[S+0]=d,this.float32[S+1]=m,this.float32[S+2]=b,l}}Fn.prototype.bytesPerElement=12,Ot("StructArrayLayout3f12",Fn);class w extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint32[1*l+0]=d,l}}w.prototype.bytesPerElement=4,Ot("StructArrayLayout1ul4",w);class c extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,S,P,R,B,W){const G=this.length;return this.resize(G+1),this.emplace(G,l,d,m,b,S,P,R,B,W)}emplace(l,d,m,b,S,P,R,B,W,G){const Z=10*l,ee=5*l;return this.int16[Z+0]=d,this.int16[Z+1]=m,this.int16[Z+2]=b,this.int16[Z+3]=S,this.int16[Z+4]=P,this.int16[Z+5]=R,this.uint32[ee+3]=B,this.uint16[Z+8]=W,this.uint16[Z+9]=G,l}}c.prototype.bytesPerElement=20,Ot("StructArrayLayout6i1ul2ui20",c);class p extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,S,P){const R=this.length;return this.resize(R+1),this.emplace(R,l,d,m,b,S,P)}emplace(l,d,m,b,S,P,R){const B=6*l;return this.int16[B+0]=d,this.int16[B+1]=m,this.int16[B+2]=b,this.int16[B+3]=S,this.int16[B+4]=P,this.int16[B+5]=R,l}}p.prototype.bytesPerElement=12,Ot("StructArrayLayout2i2i2i12",p);class v extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,S){const P=this.length;return this.resize(P+1),this.emplace(P,l,d,m,b,S)}emplace(l,d,m,b,S,P){const R=4*l,B=8*l;return this.float32[R+0]=d,this.float32[R+1]=m,this.float32[R+2]=b,this.int16[B+6]=S,this.int16[B+7]=P,l}}v.prototype.bytesPerElement=16,Ot("StructArrayLayout2f1f2i16",v);class _ extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m,b){const S=this.length;return this.resize(S+1),this.emplace(S,l,d,m,b)}emplace(l,d,m,b,S){const P=12*l,R=3*l;return this.uint8[P+0]=d,this.uint8[P+1]=m,this.float32[R+1]=b,this.float32[R+2]=S,l}}_.prototype.bytesPerElement=12,Ot("StructArrayLayout2ub2f12",_);class k extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m){const b=this.length;return this.resize(b+1),this.emplace(b,l,d,m)}emplace(l,d,m,b){const S=3*l;return this.uint16[S+0]=d,this.uint16[S+1]=m,this.uint16[S+2]=b,l}}k.prototype.bytesPerElement=6,Ot("StructArrayLayout3ui6",k);class j extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m,b,S,P,R,B,W,G,Z,ee,oe,ae,he,_e,Te){const Re=this.length;return this.resize(Re+1),this.emplace(Re,l,d,m,b,S,P,R,B,W,G,Z,ee,oe,ae,he,_e,Te)}emplace(l,d,m,b,S,P,R,B,W,G,Z,ee,oe,ae,he,_e,Te,Re){const Oe=24*l,Le=12*l,Be=48*l;return this.int16[Oe+0]=d,this.int16[Oe+1]=m,this.uint16[Oe+2]=b,this.uint16[Oe+3]=S,this.uint32[Le+2]=P,this.uint32[Le+3]=R,this.uint32[Le+4]=B,this.uint16[Oe+10]=W,this.uint16[Oe+11]=G,this.uint16[Oe+12]=Z,this.float32[Le+7]=ee,this.float32[Le+8]=oe,this.uint8[Be+36]=ae,this.uint8[Be+37]=he,this.uint8[Be+38]=_e,this.uint32[Le+10]=Te,this.int16[Oe+22]=Re,l}}j.prototype.bytesPerElement=48,Ot("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",j);class z extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m,b,S,P,R,B,W,G,Z,ee,oe,ae,he,_e,Te,Re,Oe,Le,Be,Je,kt,Lt,St,wt,gt,At){const vt=this.length;return this.resize(vt+1),this.emplace(vt,l,d,m,b,S,P,R,B,W,G,Z,ee,oe,ae,he,_e,Te,Re,Oe,Le,Be,Je,kt,Lt,St,wt,gt,At)}emplace(l,d,m,b,S,P,R,B,W,G,Z,ee,oe,ae,he,_e,Te,Re,Oe,Le,Be,Je,kt,Lt,St,wt,gt,At,vt){const ot=32*l,Yt=16*l;return this.int16[ot+0]=d,this.int16[ot+1]=m,this.int16[ot+2]=b,this.int16[ot+3]=S,this.int16[ot+4]=P,this.int16[ot+5]=R,this.int16[ot+6]=B,this.int16[ot+7]=W,this.uint16[ot+8]=G,this.uint16[ot+9]=Z,this.uint16[ot+10]=ee,this.uint16[ot+11]=oe,this.uint16[ot+12]=ae,this.uint16[ot+13]=he,this.uint16[ot+14]=_e,this.uint16[ot+15]=Te,this.uint16[ot+16]=Re,this.uint16[ot+17]=Oe,this.uint16[ot+18]=Le,this.uint16[ot+19]=Be,this.uint16[ot+20]=Je,this.uint16[ot+21]=kt,this.uint16[ot+22]=Lt,this.uint32[Yt+12]=St,this.float32[Yt+13]=wt,this.float32[Yt+14]=gt,this.uint16[ot+30]=At,this.uint16[ot+31]=vt,l}}z.prototype.bytesPerElement=64,Ot("StructArrayLayout8i15ui1ul2f2ui64",z);class V extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.float32[1*l+0]=d,l}}V.prototype.bytesPerElement=4,Ot("StructArrayLayout1f4",V);class H extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m){const b=this.length;return this.resize(b+1),this.emplace(b,l,d,m)}emplace(l,d,m,b){const S=3*l;return this.uint16[6*l+0]=d,this.float32[S+1]=m,this.float32[S+2]=b,l}}H.prototype.bytesPerElement=12,Ot("StructArrayLayout1ui2f12",H);class Y extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m){const b=this.length;return this.resize(b+1),this.emplace(b,l,d,m)}emplace(l,d,m,b){const S=4*l;return this.uint32[2*l+0]=d,this.uint16[S+2]=m,this.uint16[S+3]=b,l}}Y.prototype.bytesPerElement=8,Ot("StructArrayLayout1ul2ui8",Y);class K extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d){const m=this.length;return this.resize(m+1),this.emplace(m,l,d)}emplace(l,d,m){const b=2*l;return this.uint16[b+0]=d,this.uint16[b+1]=m,l}}K.prototype.bytesPerElement=4,Ot("StructArrayLayout2ui4",K);class re extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint16[1*l+0]=d,l}}re.prototype.bytesPerElement=2,Ot("StructArrayLayout1ui2",re);class me extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m,b){const S=this.length;return this.resize(S+1),this.emplace(S,l,d,m,b)}emplace(l,d,m,b,S){const P=4*l;return this.float32[P+0]=d,this.float32[P+1]=m,this.float32[P+2]=b,this.float32[P+3]=S,l}}me.prototype.bytesPerElement=16,Ot("StructArrayLayout4f16",me);class pe extends Cc{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new x(this.anchorPointX,this.anchorPointY)}}pe.prototype.size=20;class ve extends c{get(l){return new pe(this,l)}}Ot("CollisionBoxArray",ve);class de extends Cc{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}de.prototype.size=48;class Ae extends j{get(l){return new de(this,l)}}Ot("PlacedSymbolArray",Ae);class Ne extends Cc{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Ne.prototype.size=64;class Se extends z{get(l){return new Ne(this,l)}}Ot("SymbolInstanceArray",Se);class $e extends V{getoffsetX(l){return this.float32[1*l+0]}}Ot("GlyphOffsetArray",$e);class Fe extends vf{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}Ot("SymbolLineVertexArray",Fe);class Ue extends Cc{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Ue.prototype.size=12;class Xe extends H{get(l){return new Ue(this,l)}}Ot("TextAnchorOffsetArray",Xe);class it extends Cc{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}it.prototype.size=8;class tt extends Y{get(l){return new it(this,l)}}Ot("FeatureIndexArray",tt);class dt extends yf{}class Dt extends yf{}class wn extends yf{}class _t extends Iy{}class Qt extends $y{}class jt extends Vu{}class Qn extends Ry{}class xn extends Dy{}class mn extends Fn{}class Sn extends w{}class Yr extends p{}class pr extends _{}class Ni extends k{}class vi extends K{}const ii=Rr([{name:"a_pos",components:2,type:"Int16"}],4),{members:Zo}=ii;class _r{constructor(l=[]){this.segments=l}prepareSegment(l,d,m,b){let S=this.segments[this.segments.length-1];return l>_r.MAX_VERTEX_ARRAY_LENGTH&&fe(`Max vertices per segment is ${_r.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}`),(!S||S.vertexLength+l>_r.MAX_VERTEX_ARRAY_LENGTH||S.sortKey!==b)&&(S={vertexOffset:d.length,primitiveOffset:m.length,vertexLength:0,primitiveLength:0},b!==void 0&&(S.sortKey=b),this.segments.push(S)),S}get(){return this.segments}destroy(){for(const l of this.segments)for(const d in l.vaos)l.vaos[d].destroy()}static simpleSegment(l,d,m,b){return new _r([{vertexOffset:l,primitiveOffset:d,vertexLength:m,primitiveLength:b,vaos:{},sortKey:0}])}}function us(u,l){return 256*(u=D(Math.floor(u),0,255))+D(Math.floor(l),0,255)}_r.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ot("SegmentVector",_r);const ds=Rr([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Nl={exports:{}},Tc={exports:{}};Tc.exports=function(u,l){var d,m,b,S,P,R,B,W;for(m=u.length-(d=3&u.length),b=l,P=3432918353,R=461845907,W=0;W<m;)B=255&u.charCodeAt(W)|(255&u.charCodeAt(++W))<<8|(255&u.charCodeAt(++W))<<16|(255&u.charCodeAt(++W))<<24,++W,b=27492+(65535&(S=5*(65535&(b=(b^=B=(65535&(B=(B=(65535&B)*P+(((B>>>16)*P&65535)<<16)&4294967295)<<15|B>>>17))*R+(((B>>>16)*R&65535)<<16)&4294967295)<<13|b>>>19))+((5*(b>>>16)&65535)<<16)&4294967295))+((58964+(S>>>16)&65535)<<16);switch(B=0,d){case 3:B^=(255&u.charCodeAt(W+2))<<16;case 2:B^=(255&u.charCodeAt(W+1))<<8;case 1:b^=B=(65535&(B=(B=(65535&(B^=255&u.charCodeAt(W)))*P+(((B>>>16)*P&65535)<<16)&4294967295)<<15|B>>>17))*R+(((B>>>16)*R&65535)<<16)&4294967295}return b^=u.length,b=2246822507*(65535&(b^=b>>>16))+((2246822507*(b>>>16)&65535)<<16)&4294967295,b=3266489909*(65535&(b^=b>>>13))+((3266489909*(b>>>16)&65535)<<16)&4294967295,(b^=b>>>16)>>>0};var Wu=Tc.exports,Zi={exports:{}};Zi.exports=function(u,l){for(var d,m=u.length,b=l^m,S=0;m>=4;)d=1540483477*(65535&(d=255&u.charCodeAt(S)|(255&u.charCodeAt(++S))<<8|(255&u.charCodeAt(++S))<<16|(255&u.charCodeAt(++S))<<24))+((1540483477*(d>>>16)&65535)<<16),b=1540483477*(65535&b)+((1540483477*(b>>>16)&65535)<<16)^(d=1540483477*(65535&(d^=d>>>24))+((1540483477*(d>>>16)&65535)<<16)),m-=4,++S;switch(m){case 3:b^=(255&u.charCodeAt(S+2))<<16;case 2:b^=(255&u.charCodeAt(S+1))<<8;case 1:b=1540483477*(65535&(b^=255&u.charCodeAt(S)))+((1540483477*(b>>>16)&65535)<<16)}return b=1540483477*(65535&(b^=b>>>13))+((1540483477*(b>>>16)&65535)<<16),(b^=b>>>15)>>>0};var zi=Wu,lo=Zi.exports;Nl.exports=zi,Nl.exports.murmur3=zi,Nl.exports.murmur2=lo;var Pc=h(Nl.exports);class Kr{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,d,m,b){this.ids.push(xi(l)),this.positions.push(d,m,b)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const d=xi(l);let m=0,b=this.ids.length-1;for(;m<b;){const P=m+b>>1;this.ids[P]>=d?b=P:m=P+1}const S=[];for(;this.ids[m]===d;)S.push({index:this.positions[3*m],start:this.positions[3*m+1],end:this.positions[3*m+2]}),m++;return S}static serialize(l,d){const m=new Float64Array(l.ids),b=new Uint32Array(l.positions);return So(m,b,0,m.length-1),d&&d.push(m.buffer,b.buffer),{ids:m,positions:b}}static deserialize(l){const d=new Kr;return d.ids=l.ids,d.positions=l.positions,d.indexed=!0,d}}function xi(u){const l=+u;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:Pc(String(u))}function So(u,l,d,m){for(;d<m;){const b=u[d+m>>1];let S=d-1,P=m+1;for(;;){do S++;while(u[S]<b);do P--;while(u[P]>b);if(S>=P)break;Zr(u,S,P),Zr(l,3*S,3*P),Zr(l,3*S+1,3*P+1),Zr(l,3*S+2,3*P+2)}P-d<m-P?(So(u,l,d,P),d=P+1):(So(u,l,P+1,m),m=P)}}function Zr(u,l,d){const m=u[l];u[l]=u[d],u[d]=m}Ot("FeaturePositionMap",Kr);class Ec{constructor(l,d){this.gl=l.gl,this.location=d}}class ap extends Ec{constructor(l,d){super(l,d),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class m_ extends Ec{constructor(l,d){super(l,d),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class g_ extends Ec{constructor(l,d){super(l,d),this.current=Jn.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}const fT=new Float32Array(16);function Ly(u){return[us(255*u.r,255*u.g),us(255*u.b,255*u.a)]}class fs{constructor(l,d,m){this.value=l,this.uniformNames=d.map(b=>`u_${b}`),this.type=m}setUniform(l,d,m){l.set(m.constantOr(this.value))}getBinding(l,d,m){return this.type==="color"?new g_(l,d):new ap(l,d)}}class Oc{constructor(l,d){this.uniformNames=d.map(m=>`u_${m}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,d){this.pixelRatioFrom=d.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=d.tlbr,this.patternTo=l.tlbr}setUniform(l,d,m,b){const S=b==="u_pattern_to"?this.patternTo:b==="u_pattern_from"?this.patternFrom:b==="u_pixel_ratio_to"?this.pixelRatioTo:b==="u_pixel_ratio_from"?this.pixelRatioFrom:null;S&&l.set(S)}getBinding(l,d,m){return m.substr(0,9)==="u_pattern"?new m_(l,d):new ap(l,d)}}class hs{constructor(l,d,m,b){this.expression=l,this.type=m,this.maxValue=0,this.paintVertexAttributes=d.map(S=>({name:`a_${S}`,type:"Float32",components:m==="color"?2:1,offset:0})),this.paintVertexArray=new b}populatePaintArray(l,d,m,b,S){const P=this.paintVertexArray.length,R=this.expression.evaluate(new br(0),d,{},b,[],S);this.paintVertexArray.resize(l),this._setPaintValue(P,l,R)}updatePaintArray(l,d,m,b){const S=this.expression.evaluate({zoom:0},m,b);this._setPaintValue(l,d,S)}_setPaintValue(l,d,m){if(this.type==="color"){const b=Ly(m);for(let S=l;S<d;S++)this.paintVertexArray.emplace(S,b[0],b[1])}else{for(let b=l;b<d;b++)this.paintVertexArray.emplace(b,m);this.maxValue=Math.max(this.maxValue,Math.abs(m))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class xa{constructor(l,d,m,b,S,P){this.expression=l,this.uniformNames=d.map(R=>`u_${R}_t`),this.type=m,this.useIntegerZoom=b,this.zoom=S,this.maxValue=0,this.paintVertexAttributes=d.map(R=>({name:`a_${R}`,type:"Float32",components:m==="color"?4:2,offset:0})),this.paintVertexArray=new P}populatePaintArray(l,d,m,b,S){const P=this.expression.evaluate(new br(this.zoom),d,{},b,[],S),R=this.expression.evaluate(new br(this.zoom+1),d,{},b,[],S),B=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(B,l,P,R)}updatePaintArray(l,d,m,b){const S=this.expression.evaluate({zoom:this.zoom},m,b),P=this.expression.evaluate({zoom:this.zoom+1},m,b);this._setPaintValue(l,d,S,P)}_setPaintValue(l,d,m,b){if(this.type==="color"){const S=Ly(m),P=Ly(b);for(let R=l;R<d;R++)this.paintVertexArray.emplace(R,S[0],S[1],P[0],P[1])}else{for(let S=l;S<d;S++)this.paintVertexArray.emplace(S,m,b);this.maxValue=Math.max(this.maxValue,Math.abs(m),Math.abs(b))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,d){const m=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,b=D(this.expression.interpolationFactor(m,this.zoom,this.zoom+1),0,1);l.set(b)}getBinding(l,d,m){return new ap(l,d)}}class ps{constructor(l,d,m,b,S,P){this.expression=l,this.type=d,this.useIntegerZoom=m,this.zoom=b,this.layerId=P,this.zoomInPaintVertexArray=new S,this.zoomOutPaintVertexArray=new S}populatePaintArray(l,d,m){const b=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(b,l,d.patterns&&d.patterns[this.layerId],m)}updatePaintArray(l,d,m,b,S){this._setPaintValues(l,d,m.patterns&&m.patterns[this.layerId],S)}_setPaintValues(l,d,m,b){if(!b||!m)return;const{min:S,mid:P,max:R}=m,B=b[S],W=b[P],G=b[R];if(B&&W&&G)for(let Z=l;Z<d;Z++)this.zoomInPaintVertexArray.emplace(Z,W.tl[0],W.tl[1],W.br[0],W.br[1],B.tl[0],B.tl[1],B.br[0],B.br[1],W.pixelRatio,B.pixelRatio),this.zoomOutPaintVertexArray.emplace(Z,W.tl[0],W.tl[1],W.br[0],W.br[1],G.tl[0],G.tl[1],G.br[0],G.br[1],W.pixelRatio,G.pixelRatio)}upload(l){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,ds.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,ds.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class jy{constructor(l,d,m){this.binders={},this._buffers=[];const b=[];for(const S in l.paint._values){if(!m(S))continue;const P=l.paint.get(S);if(!(P instanceof so&&ju(P.property.specification)))continue;const R=LZ(S,l.type),B=P.value,W=P.property.specification.type,G=P.property.useIntegerZoom,Z=P.property.specification["property-type"],ee=Z==="cross-faded"||Z==="cross-faded-data-driven";if(B.kind==="constant")this.binders[S]=ee?new Oc(B.value,R):new fs(B.value,R,W),b.push(`/u_${S}`);else if(B.kind==="source"||ee){const oe=oj(S,W,"source");this.binders[S]=ee?new ps(B,W,G,d,oe,l.id):new hs(B,R,W,oe),b.push(`/a_${S}`)}else{const oe=oj(S,W,"composite");this.binders[S]=new xa(B,R,W,G,d,oe),b.push(`/z_${S}`)}}this.cacheKey=b.sort().join("")}getMaxValue(l){const d=this.binders[l];return d instanceof hs||d instanceof xa?d.maxValue:0}populatePaintArrays(l,d,m,b,S){for(const P in this.binders){const R=this.binders[P];(R instanceof hs||R instanceof xa||R instanceof ps)&&R.populatePaintArray(l,d,m,b,S)}}setConstantPatternPositions(l,d){for(const m in this.binders){const b=this.binders[m];b instanceof Oc&&b.setConstantPatternPositions(l,d)}}updatePaintArrays(l,d,m,b,S){let P=!1;for(const R in l){const B=d.getPositions(R);for(const W of B){const G=m.feature(W.index);for(const Z in this.binders){const ee=this.binders[Z];if((ee instanceof hs||ee instanceof xa||ee instanceof ps)&&ee.expression.isStateDependent===!0){const oe=b.paint.get(Z);ee.expression=oe.value,ee.updatePaintArray(W.start,W.end,G,l[R],S),P=!0}}}}return P}defines(){const l=[];for(const d in this.binders){const m=this.binders[d];(m instanceof fs||m instanceof Oc)&&l.push(...m.uniformNames.map(b=>`#define HAS_UNIFORM_${b}`))}return l}getBinderAttributes(){const l=[];for(const d in this.binders){const m=this.binders[d];if(m instanceof hs||m instanceof xa)for(let b=0;b<m.paintVertexAttributes.length;b++)l.push(m.paintVertexAttributes[b].name);else if(m instanceof ps)for(let b=0;b<ds.members.length;b++)l.push(ds.members[b].name)}return l}getBinderUniforms(){const l=[];for(const d in this.binders){const m=this.binders[d];if(m instanceof fs||m instanceof Oc||m instanceof xa)for(const b of m.uniformNames)l.push(b)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,d){const m=[];for(const b in this.binders){const S=this.binders[b];if(S instanceof fs||S instanceof Oc||S instanceof xa){for(const P of S.uniformNames)if(d[P]){const R=S.getBinding(l,d[P],P);m.push({name:P,property:b,binding:R})}}}return m}setUniforms(l,d,m,b){for(const{name:S,property:P,binding:R}of d)this.binders[P].setUniform(R,b,m.get(P),S)}updatePaintBuffers(l){this._buffers=[];for(const d in this.binders){const m=this.binders[d];if(l&&m instanceof ps){const b=l.fromScale===2?m.zoomInPaintVertexBuffer:m.zoomOutPaintVertexBuffer;b&&this._buffers.push(b)}else(m instanceof hs||m instanceof xa)&&m.paintVertexBuffer&&this._buffers.push(m.paintVertexBuffer)}}upload(l){for(const d in this.binders){const m=this.binders[d];(m instanceof hs||m instanceof xa||m instanceof ps)&&m.upload(l)}this.updatePaintBuffers()}destroy(){for(const l in this.binders){const d=this.binders[l];(d instanceof hs||d instanceof xa||d instanceof ps)&&d.destroy()}}}class tl{constructor(l,d,m=()=>!0){this.programConfigurations={};for(const b of l)this.programConfigurations[b.id]=new jy(b,d,m);this.needsUpload=!1,this._featureMap=new Kr,this._bufferOffset=0}populatePaintArrays(l,d,m,b,S,P){for(const R in this.programConfigurations)this.programConfigurations[R].populatePaintArrays(l,d,b,S,P);d.id!==void 0&&this._featureMap.add(d.id,m,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,d,m,b){for(const S of m)this.needsUpload=this.programConfigurations[S.id].updatePaintArrays(l,this._featureMap,d,S,b)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(const d in this.programConfigurations)this.programConfigurations[d].upload(l);this.needsUpload=!1}}destroy(){for(const l in this.programConfigurations)this.programConfigurations[l].destroy()}}function LZ(u,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[u]||[u.replace(`${l}-`,"").replace(/-/g,"_")]}function oj(u,l,d){const m={color:{source:Vu,composite:me},number:{source:V,composite:Vu}},b=function(S){return{"line-pattern":{source:Qn,composite:Qn},"fill-pattern":{source:Qn,composite:Qn},"fill-extrusion-pattern":{source:Qn,composite:Qn}}[S]}(u);return b&&b[d]||m[l][d]}Ot("ConstantBinder",fs),Ot("CrossFadedConstantBinder",Oc),Ot("SourceExpressionBinder",hs),Ot("CrossFadedCompositeBinder",ps),Ot("CompositeExpressionBinder",xa),Ot("ProgramConfiguration",jy,{omit:["_buffers"]}),Ot("ProgramConfigurationSet",tl);const fi=8192,hT=Math.pow(2,14)-1,aj=-hT-1;function xf(u){const l=fi/u.extent,d=u.loadGeometry();for(let m=0;m<d.length;m++){const b=d[m];for(let S=0;S<b.length;S++){const P=b[S],R=Math.round(P.x*l),B=Math.round(P.y*l);P.x=D(R,aj,hT),P.y=D(B,aj,hT),(R<P.x||R>P.x+1||B<P.y||B>P.y+1)&&fe("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return d}function bf(u,l){return{type:u.type,id:u.id,properties:u.properties,geometry:l?xf(u):[]}}function y_(u,l,d,m,b){u.emplaceBack(2*l+(m+1)/2,2*d+(b+1)/2)}class pT{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new Dt,this.indexArray=new Ni,this.segments=new _r,this.programConfigurations=new tl(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,m){const b=this.layers[0],S=[];let P=null,R=!1;b.type==="circle"&&(P=b.layout.get("circle-sort-key"),R=!P.isConstant());for(const{feature:B,id:W,index:G,sourceLayerIndex:Z}of l){const ee=this.layers[0]._featureFilter.needGeometry,oe=bf(B,ee);if(!this.layers[0]._featureFilter.filter(new br(this.zoom),oe,m))continue;const ae=R?P.evaluate(oe,{},m):void 0,he={id:W,properties:B.properties,type:B.type,sourceLayerIndex:Z,index:G,geometry:ee?oe.geometry:xf(B),patterns:{},sortKey:ae};S.push(he)}R&&S.sort((B,W)=>B.sortKey-W.sortKey);for(const B of S){const{geometry:W,index:G,sourceLayerIndex:Z}=B,ee=l[G].feature;this.addFeature(B,W,G,m),d.featureIndex.insert(ee,W,G,Z,this.index)}}update(l,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Zo),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,d,m,b){for(const S of d)for(const P of S){const R=P.x,B=P.y;if(R<0||R>=fi||B<0||B>=fi)continue;const W=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,l.sortKey),G=W.vertexLength;y_(this.layoutVertexArray,R,B,-1,-1),y_(this.layoutVertexArray,R,B,1,-1),y_(this.layoutVertexArray,R,B,1,1),y_(this.layoutVertexArray,R,B,-1,1),this.indexArray.emplaceBack(G,G+1,G+2),this.indexArray.emplaceBack(G,G+3,G+2),W.vertexLength+=4,W.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,{},b)}}function sj(u,l){for(let d=0;d<u.length;d++)if(sp(l,u[d]))return!0;for(let d=0;d<l.length;d++)if(sp(u,l[d]))return!0;return!!mT(u,l)}function jZ(u,l,d){return!!sp(u,l)||!!gT(l,u,d)}function lj(u,l){if(u.length===1)return uj(l,u[0]);for(let d=0;d<l.length;d++){const m=l[d];for(let b=0;b<m.length;b++)if(sp(u,m[b]))return!0}for(let d=0;d<u.length;d++)if(uj(l,u[d]))return!0;for(let d=0;d<l.length;d++)if(mT(u,l[d]))return!0;return!1}function NZ(u,l,d){if(u.length>1){if(mT(u,l))return!0;for(let m=0;m<l.length;m++)if(gT(l[m],u,d))return!0}for(let m=0;m<u.length;m++)if(gT(u[m],l,d))return!0;return!1}function mT(u,l){if(u.length===0||l.length===0)return!1;for(let d=0;d<u.length-1;d++){const m=u[d],b=u[d+1];for(let S=0;S<l.length-1;S++)if(zZ(m,b,l[S],l[S+1]))return!0}return!1}function zZ(u,l,d,m){return ce(u,d,m)!==ce(l,d,m)&&ce(u,l,d)!==ce(u,l,m)}function gT(u,l,d){const m=d*d;if(l.length===1)return u.distSqr(l[0])<m;for(let b=1;b<l.length;b++)if(cj(u,l[b-1],l[b])<m)return!0;return!1}function cj(u,l,d){const m=l.distSqr(d);if(m===0)return u.distSqr(l);const b=((u.x-l.x)*(d.x-l.x)+(u.y-l.y)*(d.y-l.y))/m;return u.distSqr(b<0?l:b>1?d:d.sub(l)._mult(b)._add(l))}function uj(u,l){let d,m,b,S=!1;for(let P=0;P<u.length;P++){d=u[P];for(let R=0,B=d.length-1;R<d.length;B=R++)m=d[R],b=d[B],m.y>l.y!=b.y>l.y&&l.x<(b.x-m.x)*(l.y-m.y)/(b.y-m.y)+m.x&&(S=!S)}return S}function sp(u,l){let d=!1;for(let m=0,b=u.length-1;m<u.length;b=m++){const S=u[m],P=u[b];S.y>l.y!=P.y>l.y&&l.x<(P.x-S.x)*(l.y-S.y)/(P.y-S.y)+S.x&&(d=!d)}return d}function BZ(u,l,d){const m=d[0],b=d[2];if(u.x<m.x&&l.x<m.x||u.x>b.x&&l.x>b.x||u.y<m.y&&l.y<m.y||u.y>b.y&&l.y>b.y)return!1;const S=ce(u,l,d[0]);return S!==ce(u,l,d[1])||S!==ce(u,l,d[2])||S!==ce(u,l,d[3])}function Ny(u,l,d){const m=l.paint.get(u).value;return m.kind==="constant"?m.value:d.programConfigurations.get(l.id).getMaxValue(u)}function v_(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function x_(u,l,d,m,b){if(!l[0]&&!l[1])return u;const S=x.convert(l)._mult(b);d==="viewport"&&S._rotate(-m);const P=[];for(let R=0;R<u.length;R++)P.push(u[R].sub(S));return P}let dj,fj;Ot("CircleBucket",pT,{omit:["layers"]});var FZ={get paint(){return fj=fj||new ri({"circle-radius":new Jt(ze.paint_circle["circle-radius"]),"circle-color":new Jt(ze.paint_circle["circle-color"]),"circle-blur":new Jt(ze.paint_circle["circle-blur"]),"circle-opacity":new Jt(ze.paint_circle["circle-opacity"]),"circle-translate":new Ft(ze.paint_circle["circle-translate"]),"circle-translate-anchor":new Ft(ze.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Ft(ze.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Ft(ze.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Jt(ze.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Jt(ze.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Jt(ze.paint_circle["circle-stroke-opacity"])})},get layout(){return dj=dj||new ri({"circle-sort-key":new Jt(ze.layout_circle["circle-sort-key"])})}},Co=1e-6,lp=typeof Float32Array<"u"?Float32Array:Array;function yT(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}function hj(u,l,d){var m=l[0],b=l[1],S=l[2],P=l[3],R=l[4],B=l[5],W=l[6],G=l[7],Z=l[8],ee=l[9],oe=l[10],ae=l[11],he=l[12],_e=l[13],Te=l[14],Re=l[15],Oe=d[0],Le=d[1],Be=d[2],Je=d[3];return u[0]=Oe*m+Le*R+Be*Z+Je*he,u[1]=Oe*b+Le*B+Be*ee+Je*_e,u[2]=Oe*S+Le*W+Be*oe+Je*Te,u[3]=Oe*P+Le*G+Be*ae+Je*Re,u[4]=(Oe=d[4])*m+(Le=d[5])*R+(Be=d[6])*Z+(Je=d[7])*he,u[5]=Oe*b+Le*B+Be*ee+Je*_e,u[6]=Oe*S+Le*W+Be*oe+Je*Te,u[7]=Oe*P+Le*G+Be*ae+Je*Re,u[8]=(Oe=d[8])*m+(Le=d[9])*R+(Be=d[10])*Z+(Je=d[11])*he,u[9]=Oe*b+Le*B+Be*ee+Je*_e,u[10]=Oe*S+Le*W+Be*oe+Je*Te,u[11]=Oe*P+Le*G+Be*ae+Je*Re,u[12]=(Oe=d[12])*m+(Le=d[13])*R+(Be=d[14])*Z+(Je=d[15])*he,u[13]=Oe*b+Le*B+Be*ee+Je*_e,u[14]=Oe*S+Le*W+Be*oe+Je*Te,u[15]=Oe*P+Le*G+Be*ae+Je*Re,u}Math.hypot||(Math.hypot=function(){for(var u=0,l=arguments.length;l--;)u+=arguments[l]*arguments[l];return Math.sqrt(u)});var zy,UZ=hj;function b_(u,l,d){var m=l[0],b=l[1],S=l[2],P=l[3];return u[0]=d[0]*m+d[4]*b+d[8]*S+d[12]*P,u[1]=d[1]*m+d[5]*b+d[9]*S+d[13]*P,u[2]=d[2]*m+d[6]*b+d[10]*S+d[14]*P,u[3]=d[3]*m+d[7]*b+d[11]*S+d[15]*P,u}zy=new lp(4),lp!=Float32Array&&(zy[0]=0,zy[1]=0,zy[2]=0,zy[3]=0);class VZ extends va{constructor(l){super(l,FZ)}createBucket(l){return new pT(l)}queryRadius(l){const d=l;return Ny("circle-radius",this,d)+Ny("circle-stroke-width",this,d)+v_(this.paint.get("circle-translate"))}queryIntersectsFeature(l,d,m,b,S,P,R,B){const W=x_(l,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),P.angle,R),G=this.paint.get("circle-radius").evaluate(d,m)+this.paint.get("circle-stroke-width").evaluate(d,m),Z=this.paint.get("circle-pitch-alignment")==="map",ee=Z?W:function(ae,he){return ae.map(_e=>pj(_e,he))}(W,B),oe=Z?G*R:G;for(const ae of b)for(const he of ae){const _e=Z?he:pj(he,B);let Te=oe;const Re=b_([],[he.x,he.y,0,1],B);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Te*=Re[3]/P.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Te*=P.cameraToCenterDistance/Re[3]),jZ(ee,_e,Te))return!0}return!1}}function pj(u,l){const d=b_([],[u.x,u.y,0,1],l);return new x(d[0]/d[3],d[1]/d[3])}class mj extends pT{}let gj;Ot("HeatmapBucket",mj,{omit:["layers"]});var WZ={get paint(){return gj=gj||new ri({"heatmap-radius":new Jt(ze.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Jt(ze.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Ft(ze.paint_heatmap["heatmap-intensity"]),"heatmap-color":new My(ze.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Ft(ze.paint_heatmap["heatmap-opacity"])})}};function vT(u,{width:l,height:d},m,b){if(b){if(b instanceof Uint8ClampedArray)b=new Uint8Array(b.buffer);else if(b.length!==l*d*m)throw new RangeError(`mismatched image size. expected: ${b.length} but got: ${l*d*m}`)}else b=new Uint8Array(l*d*m);return u.width=l,u.height=d,u.data=b,u}function yj(u,{width:l,height:d},m){if(l===u.width&&d===u.height)return;const b=vT({},{width:l,height:d},m);xT(u,b,{x:0,y:0},{x:0,y:0},{width:Math.min(u.width,l),height:Math.min(u.height,d)},m),u.width=l,u.height=d,u.data=b.data}function xT(u,l,d,m,b,S){if(b.width===0||b.height===0)return l;if(b.width>u.width||b.height>u.height||d.x>u.width-b.width||d.y>u.height-b.height)throw new RangeError("out of range source coordinates for image copy");if(b.width>l.width||b.height>l.height||m.x>l.width-b.width||m.y>l.height-b.height)throw new RangeError("out of range destination coordinates for image copy");const P=u.data,R=l.data;if(P===R)throw new Error("srcData equals dstData, so image is already copied");for(let B=0;B<b.height;B++){const W=((d.y+B)*u.width+d.x)*S,G=((m.y+B)*l.width+m.x)*S;for(let Z=0;Z<b.width*S;Z++)R[G+Z]=P[W+Z]}return l}class By{constructor(l,d){vT(this,l,1,d)}resize(l){yj(this,l,1)}clone(){return new By({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,m,b,S){xT(l,d,m,b,S,1)}}class La{constructor(l,d){vT(this,l,4,d)}resize(l){yj(this,l,4)}replace(l,d){d?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new La({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,m,b,S){xT(l,d,m,b,S,4)}}function vj(u){const l={},d=u.resolution||256,m=u.clips?u.clips.length:1,b=u.image||new La({width:d,height:m});if(Math.log(d)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${d}`);const S=(P,R,B)=>{l[u.evaluationKey]=B;const W=u.expression.evaluate(l);b.data[P+R+0]=Math.floor(255*W.r/W.a),b.data[P+R+1]=Math.floor(255*W.g/W.a),b.data[P+R+2]=Math.floor(255*W.b/W.a),b.data[P+R+3]=Math.floor(255*W.a)};if(u.clips)for(let P=0,R=0;P<m;++P,R+=4*d)for(let B=0,W=0;B<d;B++,W+=4){const G=B/(d-1),{start:Z,end:ee}=u.clips[P];S(R,W,Z*(1-G)+ee*G)}else for(let P=0,R=0;P<d;P++,R+=4)S(0,R,P/(d-1));return b}Ot("AlphaImage",By),Ot("RGBAImage",La);class qZ extends va{createBucket(l){return new mj(l)}constructor(l){super(l,WZ),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=vj({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let xj;var HZ={get paint(){return xj=xj||new ri({"hillshade-illumination-direction":new Ft(ze.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Ft(ze.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Ft(ze.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Ft(ze.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Ft(ze.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Ft(ze.paint_hillshade["hillshade-accent-color"])})}};class GZ extends va{constructor(l){super(l,HZ)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const YZ=Rr([{name:"a_pos",components:2,type:"Int16"}],4),{members:KZ}=YZ;var bT={exports:{}};function __(u,l,d){d=d||2;var m,b,S,P,R,B,W,G=l&&l.length,Z=G?l[0]*d:u.length,ee=bj(u,0,Z,d,!0),oe=[];if(!ee||ee.next===ee.prev)return oe;if(G&&(ee=function(he,_e,Te,Re){var Oe,Le,Be,Je=[];for(Oe=0,Le=_e.length;Oe<Le;Oe++)(Be=bj(he,_e[Oe]*Re,Oe<Le-1?_e[Oe+1]*Re:he.length,Re,!1))===Be.next&&(Be.steiner=!0),Je.push(rX(Be));for(Je.sort(eX),Oe=0;Oe<Je.length;Oe++)Te=tX(Je[Oe],Te);return Te}(u,l,ee,d)),u.length>80*d){m=S=u[0],b=P=u[1];for(var ae=d;ae<Z;ae+=d)(R=u[ae])<m&&(m=R),(B=u[ae+1])<b&&(b=B),R>S&&(S=R),B>P&&(P=B);W=(W=Math.max(S-m,P-b))!==0?32767/W:0}return Fy(ee,oe,d,m,b,W,0),oe}function bj(u,l,d,m,b){var S,P;if(b===ST(u,l,d,m)>0)for(S=l;S<d;S+=m)P=Sj(S,u[S],u[S+1],P);else for(S=d-m;S>=l;S-=m)P=Sj(S,u[S],u[S+1],P);return P&&w_(P,P.next)&&(Vy(P),P=P.next),P}function _f(u,l){if(!u)return u;l||(l=u);var d,m=u;do if(d=!1,m.steiner||!w_(m,m.next)&&oi(m.prev,m,m.next)!==0)m=m.next;else{if(Vy(m),(m=l=m.prev)===m.next)break;d=!0}while(d||m!==l);return l}function Fy(u,l,d,m,b,S,P){if(u){!P&&S&&function(G,Z,ee,oe){var ae=G;do ae.z===0&&(ae.z=_T(ae.x,ae.y,Z,ee,oe)),ae.prevZ=ae.prev,ae.nextZ=ae.next,ae=ae.next;while(ae!==G);ae.prevZ.nextZ=null,ae.prevZ=null,function(he){var _e,Te,Re,Oe,Le,Be,Je,kt,Lt=1;do{for(Te=he,he=null,Le=null,Be=0;Te;){for(Be++,Re=Te,Je=0,_e=0;_e<Lt&&(Je++,Re=Re.nextZ);_e++);for(kt=Lt;Je>0||kt>0&&Re;)Je!==0&&(kt===0||!Re||Te.z<=Re.z)?(Oe=Te,Te=Te.nextZ,Je--):(Oe=Re,Re=Re.nextZ,kt--),Le?Le.nextZ=Oe:he=Oe,Oe.prevZ=Le,Le=Oe;Te=Re}Le.nextZ=null,Lt*=2}while(Be>1)}(ae)}(u,m,b,S);for(var R,B,W=u;u.prev!==u.next;)if(R=u.prev,B=u.next,S?XZ(u,m,b,S):ZZ(u))l.push(R.i/d|0),l.push(u.i/d|0),l.push(B.i/d|0),Vy(u),u=B.next,W=B.next;else if((u=B)===W){P?P===1?Fy(u=JZ(_f(u),l,d),l,d,m,b,S,2):P===2&&QZ(u,l,d,m,b,S):Fy(_f(u),l,d,m,b,S,1);break}}}function ZZ(u){var l=u.prev,d=u,m=u.next;if(oi(l,d,m)>=0)return!1;for(var b=l.x,S=d.x,P=m.x,R=l.y,B=d.y,W=m.y,G=b<S?b<P?b:P:S<P?S:P,Z=R<B?R<W?R:W:B<W?B:W,ee=b>S?b>P?b:P:S>P?S:P,oe=R>B?R>W?R:W:B>W?B:W,ae=m.next;ae!==l;){if(ae.x>=G&&ae.x<=ee&&ae.y>=Z&&ae.y<=oe&&cp(b,R,S,B,P,W,ae.x,ae.y)&&oi(ae.prev,ae,ae.next)>=0)return!1;ae=ae.next}return!0}function XZ(u,l,d,m){var b=u.prev,S=u,P=u.next;if(oi(b,S,P)>=0)return!1;for(var R=b.x,B=S.x,W=P.x,G=b.y,Z=S.y,ee=P.y,oe=R<B?R<W?R:W:B<W?B:W,ae=G<Z?G<ee?G:ee:Z<ee?Z:ee,he=R>B?R>W?R:W:B>W?B:W,_e=G>Z?G>ee?G:ee:Z>ee?Z:ee,Te=_T(oe,ae,l,d,m),Re=_T(he,_e,l,d,m),Oe=u.prevZ,Le=u.nextZ;Oe&&Oe.z>=Te&&Le&&Le.z<=Re;){if(Oe.x>=oe&&Oe.x<=he&&Oe.y>=ae&&Oe.y<=_e&&Oe!==b&&Oe!==P&&cp(R,G,B,Z,W,ee,Oe.x,Oe.y)&&oi(Oe.prev,Oe,Oe.next)>=0||(Oe=Oe.prevZ,Le.x>=oe&&Le.x<=he&&Le.y>=ae&&Le.y<=_e&&Le!==b&&Le!==P&&cp(R,G,B,Z,W,ee,Le.x,Le.y)&&oi(Le.prev,Le,Le.next)>=0))return!1;Le=Le.nextZ}for(;Oe&&Oe.z>=Te;){if(Oe.x>=oe&&Oe.x<=he&&Oe.y>=ae&&Oe.y<=_e&&Oe!==b&&Oe!==P&&cp(R,G,B,Z,W,ee,Oe.x,Oe.y)&&oi(Oe.prev,Oe,Oe.next)>=0)return!1;Oe=Oe.prevZ}for(;Le&&Le.z<=Re;){if(Le.x>=oe&&Le.x<=he&&Le.y>=ae&&Le.y<=_e&&Le!==b&&Le!==P&&cp(R,G,B,Z,W,ee,Le.x,Le.y)&&oi(Le.prev,Le,Le.next)>=0)return!1;Le=Le.nextZ}return!0}function JZ(u,l,d){var m=u;do{var b=m.prev,S=m.next.next;!w_(b,S)&&_j(b,m,m.next,S)&&Uy(b,S)&&Uy(S,b)&&(l.push(b.i/d|0),l.push(m.i/d|0),l.push(S.i/d|0),Vy(m),Vy(m.next),m=u=S),m=m.next}while(m!==u);return _f(m)}function QZ(u,l,d,m,b,S){var P=u;do{for(var R=P.next.next;R!==P.prev;){if(P.i!==R.i&&iX(P,R)){var B=wj(P,R);return P=_f(P,P.next),B=_f(B,B.next),Fy(P,l,d,m,b,S,0),void Fy(B,l,d,m,b,S,0)}R=R.next}P=P.next}while(P!==u)}function eX(u,l){return u.x-l.x}function tX(u,l){var d=function(b,S){var P,R=S,B=b.x,W=b.y,G=-1/0;do{if(W<=R.y&&W>=R.next.y&&R.next.y!==R.y){var Z=R.x+(W-R.y)*(R.next.x-R.x)/(R.next.y-R.y);if(Z<=B&&Z>G&&(G=Z,P=R.x<R.next.x?R:R.next,Z===B))return P}R=R.next}while(R!==S);if(!P)return null;var ee,oe=P,ae=P.x,he=P.y,_e=1/0;R=P;do B>=R.x&&R.x>=ae&&B!==R.x&&cp(W<he?B:G,W,ae,he,W<he?G:B,W,R.x,R.y)&&(ee=Math.abs(W-R.y)/(B-R.x),Uy(R,b)&&(ee<_e||ee===_e&&(R.x>P.x||R.x===P.x&&nX(P,R)))&&(P=R,_e=ee)),R=R.next;while(R!==oe);return P}(u,l);if(!d)return l;var m=wj(d,u);return _f(m,m.next),_f(d,d.next)}function nX(u,l){return oi(u.prev,u,l.prev)<0&&oi(l.next,u,u.next)<0}function _T(u,l,d,m,b){return(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-d)*b|0)|u<<8))|u<<4))|u<<2))|u<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-m)*b|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function rX(u){var l=u,d=u;do(l.x<d.x||l.x===d.x&&l.y<d.y)&&(d=l),l=l.next;while(l!==u);return d}function cp(u,l,d,m,b,S,P,R){return(b-P)*(l-R)>=(u-P)*(S-R)&&(u-P)*(m-R)>=(d-P)*(l-R)&&(d-P)*(S-R)>=(b-P)*(m-R)}function iX(u,l){return u.next.i!==l.i&&u.prev.i!==l.i&&!function(d,m){var b=d;do{if(b.i!==d.i&&b.next.i!==d.i&&b.i!==m.i&&b.next.i!==m.i&&_j(b,b.next,d,m))return!0;b=b.next}while(b!==d);return!1}(u,l)&&(Uy(u,l)&&Uy(l,u)&&function(d,m){var b=d,S=!1,P=(d.x+m.x)/2,R=(d.y+m.y)/2;do b.y>R!=b.next.y>R&&b.next.y!==b.y&&P<(b.next.x-b.x)*(R-b.y)/(b.next.y-b.y)+b.x&&(S=!S),b=b.next;while(b!==d);return S}(u,l)&&(oi(u.prev,u,l.prev)||oi(u,l.prev,l))||w_(u,l)&&oi(u.prev,u,u.next)>0&&oi(l.prev,l,l.next)>0)}function oi(u,l,d){return(l.y-u.y)*(d.x-l.x)-(l.x-u.x)*(d.y-l.y)}function w_(u,l){return u.x===l.x&&u.y===l.y}function _j(u,l,d,m){var b=C_(oi(u,l,d)),S=C_(oi(u,l,m)),P=C_(oi(d,m,u)),R=C_(oi(d,m,l));return b!==S&&P!==R||!(b!==0||!S_(u,d,l))||!(S!==0||!S_(u,m,l))||!(P!==0||!S_(d,u,m))||!(R!==0||!S_(d,l,m))}function S_(u,l,d){return l.x<=Math.max(u.x,d.x)&&l.x>=Math.min(u.x,d.x)&&l.y<=Math.max(u.y,d.y)&&l.y>=Math.min(u.y,d.y)}function C_(u){return u>0?1:u<0?-1:0}function Uy(u,l){return oi(u.prev,u,u.next)<0?oi(u,l,u.next)>=0&&oi(u,u.prev,l)>=0:oi(u,l,u.prev)<0||oi(u,u.next,l)<0}function wj(u,l){var d=new wT(u.i,u.x,u.y),m=new wT(l.i,l.x,l.y),b=u.next,S=l.prev;return u.next=l,l.prev=u,d.next=b,b.prev=d,m.next=d,d.prev=m,S.next=m,m.prev=S,m}function Sj(u,l,d,m){var b=new wT(u,l,d);return m?(b.next=m.next,b.prev=m,m.next.prev=b,m.next=b):(b.prev=b,b.next=b),b}function Vy(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function wT(u,l,d){this.i=u,this.x=l,this.y=d,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ST(u,l,d,m){for(var b=0,S=l,P=d-m;S<d;S+=m)b+=(u[P]-u[S])*(u[S+1]+u[P+1]),P=S;return b}bT.exports=__,bT.exports.default=__,__.deviation=function(u,l,d,m){var b=l&&l.length,S=Math.abs(ST(u,0,b?l[0]*d:u.length,d));if(b)for(var P=0,R=l.length;P<R;P++)S-=Math.abs(ST(u,l[P]*d,P<R-1?l[P+1]*d:u.length,d));var B=0;for(P=0;P<m.length;P+=3){var W=m[P]*d,G=m[P+1]*d,Z=m[P+2]*d;B+=Math.abs((u[W]-u[Z])*(u[G+1]-u[W+1])-(u[W]-u[G])*(u[Z+1]-u[W+1]))}return S===0&&B===0?0:Math.abs((B-S)/S)},__.flatten=function(u){for(var l=u[0][0].length,d={vertices:[],holes:[],dimensions:l},m=0,b=0;b<u.length;b++){for(var S=0;S<u[b].length;S++)for(var P=0;P<l;P++)d.vertices.push(u[b][S][P]);b>0&&d.holes.push(m+=u[b-1].length)}return d};var Cj=h(bT.exports);function oX(u,l,d,m,b){kj(u,l,d||0,m||u.length-1,b||aX)}function kj(u,l,d,m,b){for(;m>d;){if(m-d>600){var S=m-d+1,P=l-d+1,R=Math.log(S),B=.5*Math.exp(2*R/3),W=.5*Math.sqrt(R*B*(S-B)/S)*(P-S/2<0?-1:1);kj(u,l,Math.max(d,Math.floor(l-P*B/S+W)),Math.min(m,Math.floor(l+(S-P)*B/S+W)),b)}var G=u[l],Z=d,ee=m;for(Wy(u,d,l),b(u[m],G)>0&&Wy(u,d,m);Z<ee;){for(Wy(u,Z,ee),Z++,ee--;b(u[Z],G)<0;)Z++;for(;b(u[ee],G)>0;)ee--}b(u[d],G)===0?Wy(u,d,ee):Wy(u,++ee,m),ee<=l&&(d=ee+1),l<=ee&&(m=ee-1)}}function Wy(u,l,d){var m=u[l];u[l]=u[d],u[d]=m}function aX(u,l){return u<l?-1:u>l?1:0}function CT(u,l){const d=u.length;if(d<=1)return[u];const m=[];let b,S;for(let P=0;P<d;P++){const R=ue(u[P]);R!==0&&(u[P].area=Math.abs(R),S===void 0&&(S=R<0),S===R<0?(b&&m.push(b),b=[u[P]]):b.push(u[P]))}if(b&&m.push(b),l>1)for(let P=0;P<m.length;P++)m[P].length<=l||(oX(m[P],l,1,m[P].length-1,sX),m[P]=m[P].slice(0,l));return m}function sX(u,l){return l.area-u.area}function kT(u,l,d){const m=d.patternDependencies;let b=!1;for(const S of l){const P=S.paint.get(`${u}-pattern`);P.isConstant()||(b=!0);const R=P.constantOr(null);R&&(b=!0,m[R.to]=!0,m[R.from]=!0)}return b}function TT(u,l,d,m,b){const S=b.patternDependencies;for(const P of l){const R=P.paint.get(`${u}-pattern`).value;if(R.kind!=="constant"){let B=R.evaluate({zoom:m-1},d,{},b.availableImages),W=R.evaluate({zoom:m},d,{},b.availableImages),G=R.evaluate({zoom:m+1},d,{},b.availableImages);B=B&&B.name?B.name:B,W=W&&W.name?W.name:W,G=G&&G.name?G.name:G,S[B]=!0,S[W]=!0,S[G]=!0,d.patterns[P.id]={min:B,mid:W,max:G}}}return d}class PT{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new wn,this.indexArray=new Ni,this.indexArray2=new vi,this.programConfigurations=new tl(l.layers,l.zoom),this.segments=new _r,this.segments2=new _r,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,m){this.hasPattern=kT("fill",this.layers,d);const b=this.layers[0].layout.get("fill-sort-key"),S=!b.isConstant(),P=[];for(const{feature:R,id:B,index:W,sourceLayerIndex:G}of l){const Z=this.layers[0]._featureFilter.needGeometry,ee=bf(R,Z);if(!this.layers[0]._featureFilter.filter(new br(this.zoom),ee,m))continue;const oe=S?b.evaluate(ee,{},m,d.availableImages):void 0,ae={id:B,properties:R.properties,type:R.type,sourceLayerIndex:G,index:W,geometry:Z?ee.geometry:xf(R),patterns:{},sortKey:oe};P.push(ae)}S&&P.sort((R,B)=>R.sortKey-B.sortKey);for(const R of P){const{geometry:B,index:W,sourceLayerIndex:G}=R;if(this.hasPattern){const Z=TT("fill",this.layers,R,this.zoom,d);this.patternFeatures.push(Z)}else this.addFeature(R,B,W,m,{});d.featureIndex.insert(l[W].feature,B,W,G,this.index)}}update(l,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,m)}addFeatures(l,d,m){for(const b of this.patternFeatures)this.addFeature(b,b.geometry,b.index,d,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,KZ),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,d,m,b,S){for(const P of CT(d,500)){let R=0;for(const oe of P)R+=oe.length;const B=this.segments.prepareSegment(R,this.layoutVertexArray,this.indexArray),W=B.vertexLength,G=[],Z=[];for(const oe of P){if(oe.length===0)continue;oe!==P[0]&&Z.push(G.length/2);const ae=this.segments2.prepareSegment(oe.length,this.layoutVertexArray,this.indexArray2),he=ae.vertexLength;this.layoutVertexArray.emplaceBack(oe[0].x,oe[0].y),this.indexArray2.emplaceBack(he+oe.length-1,he),G.push(oe[0].x),G.push(oe[0].y);for(let _e=1;_e<oe.length;_e++)this.layoutVertexArray.emplaceBack(oe[_e].x,oe[_e].y),this.indexArray2.emplaceBack(he+_e-1,he+_e),G.push(oe[_e].x),G.push(oe[_e].y);ae.vertexLength+=oe.length,ae.primitiveLength+=oe.length}const ee=Cj(G,Z);for(let oe=0;oe<ee.length;oe+=3)this.indexArray.emplaceBack(W+ee[oe],W+ee[oe+1],W+ee[oe+2]);B.vertexLength+=R,B.primitiveLength+=ee.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,S,b)}}let Tj,Pj;Ot("FillBucket",PT,{omit:["layers","patternFeatures"]});var lX={get paint(){return Pj=Pj||new ri({"fill-antialias":new Ft(ze.paint_fill["fill-antialias"]),"fill-opacity":new Jt(ze.paint_fill["fill-opacity"]),"fill-color":new Jt(ze.paint_fill["fill-color"]),"fill-outline-color":new Jt(ze.paint_fill["fill-outline-color"]),"fill-translate":new Ft(ze.paint_fill["fill-translate"]),"fill-translate-anchor":new Ft(ze.paint_fill["fill-translate-anchor"]),"fill-pattern":new gf(ze.paint_fill["fill-pattern"])})},get layout(){return Tj=Tj||new ri({"fill-sort-key":new Jt(ze.layout_fill["fill-sort-key"])})}};class cX extends va{constructor(l){super(l,lX)}recalculate(l,d){super.recalculate(l,d);const m=this.paint._values["fill-outline-color"];m.value.kind==="constant"&&m.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(l){return new PT(l)}queryRadius(){return v_(this.paint.get("fill-translate"))}queryIntersectsFeature(l,d,m,b,S,P,R){return lj(x_(l,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),P.angle,R),b)}isTileClipped(){return!0}}const uX=Rr([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),dX=Rr([{name:"a_centroid",components:2,type:"Int16"}],4),{members:fX}=uX;var qu={},hX=g,Ej=up;function up(u,l,d,m,b){this.properties={},this.extent=d,this.type=0,this._pbf=u,this._geometry=-1,this._keys=m,this._values=b,u.readFields(pX,this,l)}function pX(u,l,d){u==1?l.id=d.readVarint():u==2?function(m,b){for(var S=m.readVarint()+m.pos;m.pos<S;){var P=b._keys[m.readVarint()],R=b._values[m.readVarint()];b.properties[P]=R}}(d,l):u==3?l.type=d.readVarint():u==4&&(l._geometry=d.pos)}function mX(u){for(var l,d,m=0,b=0,S=u.length,P=S-1;b<S;P=b++)m+=((d=u[P]).x-(l=u[b]).x)*(l.y+d.y);return m}up.types=["Unknown","Point","LineString","Polygon"],up.prototype.loadGeometry=function(){var u=this._pbf;u.pos=this._geometry;for(var l,d=u.readVarint()+u.pos,m=1,b=0,S=0,P=0,R=[];u.pos<d;){if(b<=0){var B=u.readVarint();m=7&B,b=B>>3}if(b--,m===1||m===2)S+=u.readSVarint(),P+=u.readSVarint(),m===1&&(l&&R.push(l),l=[]),l.push(new hX(S,P));else{if(m!==7)throw new Error("unknown command "+m);l&&l.push(l[0].clone())}}return l&&R.push(l),R},up.prototype.bbox=function(){var u=this._pbf;u.pos=this._geometry;for(var l=u.readVarint()+u.pos,d=1,m=0,b=0,S=0,P=1/0,R=-1/0,B=1/0,W=-1/0;u.pos<l;){if(m<=0){var G=u.readVarint();d=7&G,m=G>>3}if(m--,d===1||d===2)(b+=u.readSVarint())<P&&(P=b),b>R&&(R=b),(S+=u.readSVarint())<B&&(B=S),S>W&&(W=S);else if(d!==7)throw new Error("unknown command "+d)}return[P,B,R,W]},up.prototype.toGeoJSON=function(u,l,d){var m,b,S=this.extent*Math.pow(2,d),P=this.extent*u,R=this.extent*l,B=this.loadGeometry(),W=up.types[this.type];function G(oe){for(var ae=0;ae<oe.length;ae++){var he=oe[ae];oe[ae]=[360*(he.x+P)/S-180,360/Math.PI*Math.atan(Math.exp((180-360*(he.y+R)/S)*Math.PI/180))-90]}}switch(this.type){case 1:var Z=[];for(m=0;m<B.length;m++)Z[m]=B[m][0];G(B=Z);break;case 2:for(m=0;m<B.length;m++)G(B[m]);break;case 3:for(B=function(oe){var ae=oe.length;if(ae<=1)return[oe];for(var he,_e,Te=[],Re=0;Re<ae;Re++){var Oe=mX(oe[Re]);Oe!==0&&(_e===void 0&&(_e=Oe<0),_e===Oe<0?(he&&Te.push(he),he=[oe[Re]]):he.push(oe[Re]))}return he&&Te.push(he),Te}(B),m=0;m<B.length;m++)for(b=0;b<B[m].length;b++)G(B[m][b])}B.length===1?B=B[0]:W="Multi"+W;var ee={type:"Feature",geometry:{type:W,coordinates:B},properties:this.properties};return"id"in this&&(ee.id=this.id),ee};var gX=Ej,Oj=Mj;function Mj(u,l){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=u,this._keys=[],this._values=[],this._features=[],u.readFields(yX,this,l),this.length=this._features.length}function yX(u,l,d){u===15?l.version=d.readVarint():u===1?l.name=d.readString():u===5?l.extent=d.readVarint():u===2?l._features.push(d.pos):u===3?l._keys.push(d.readString()):u===4&&l._values.push(function(m){for(var b=null,S=m.readVarint()+m.pos;m.pos<S;){var P=m.readVarint()>>3;b=P===1?m.readString():P===2?m.readFloat():P===3?m.readDouble():P===4?m.readVarint64():P===5?m.readVarint():P===6?m.readSVarint():P===7?m.readBoolean():null}return b}(d))}Mj.prototype.feature=function(u){if(u<0||u>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[u];var l=this._pbf.readVarint()+this._pbf.pos;return new gX(this._pbf,l,this.extent,this._keys,this._values)};var vX=Oj;function xX(u,l,d){if(u===3){var m=new vX(d,d.readVarint()+d.pos);m.length&&(l[m.name]=m)}}qu.VectorTile=function(u,l){this.layers=u.readFields(xX,{},l)},qu.VectorTileFeature=Ej,qu.VectorTileLayer=Oj;const bX=qu.VectorTileFeature.types,ET=Math.pow(2,13);function qy(u,l,d,m,b,S,P,R){u.emplaceBack(l,d,2*Math.floor(m*ET)+P,b*ET*2,S*ET*2,Math.round(R))}class OT{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new _t,this.centroidVertexArray=new dt,this.indexArray=new Ni,this.programConfigurations=new tl(l.layers,l.zoom),this.segments=new _r,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,m){this.features=[],this.hasPattern=kT("fill-extrusion",this.layers,d);for(const{feature:b,id:S,index:P,sourceLayerIndex:R}of l){const B=this.layers[0]._featureFilter.needGeometry,W=bf(b,B);if(!this.layers[0]._featureFilter.filter(new br(this.zoom),W,m))continue;const G={id:S,sourceLayerIndex:R,index:P,geometry:B?W.geometry:xf(b),properties:b.properties,type:b.type,patterns:{}};this.hasPattern?this.features.push(TT("fill-extrusion",this.layers,G,this.zoom,d)):this.addFeature(G,G.geometry,P,m,{}),d.featureIndex.insert(b,G.geometry,P,R,this.index,!0)}}addFeatures(l,d,m){for(const b of this.features){const{geometry:S}=b;this.addFeature(b,S,b.index,d,m)}}update(l,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,m)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,fX),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,dX.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,d,m,b,S){const P={x:0,y:0,vertexCount:0};for(const R of CT(d,500)){let B=0;for(const ae of R)B+=ae.length;let W=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const ae of R){if(ae.length===0||wX(ae))continue;let he=0;for(let _e=0;_e<ae.length;_e++){const Te=ae[_e];if(_e>=1){const Re=ae[_e-1];if(!_X(Te,Re)){W.vertexLength+4>_r.MAX_VERTEX_ARRAY_LENGTH&&(W=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const Oe=Te.sub(Re)._perp()._unit(),Le=Re.dist(Te);he+Le>32768&&(he=0),qy(this.layoutVertexArray,Te.x,Te.y,Oe.x,Oe.y,0,0,he),qy(this.layoutVertexArray,Te.x,Te.y,Oe.x,Oe.y,0,1,he),P.x+=2*Te.x,P.y+=2*Te.y,P.vertexCount+=2,he+=Le,qy(this.layoutVertexArray,Re.x,Re.y,Oe.x,Oe.y,0,0,he),qy(this.layoutVertexArray,Re.x,Re.y,Oe.x,Oe.y,0,1,he),P.x+=2*Re.x,P.y+=2*Re.y,P.vertexCount+=2;const Be=W.vertexLength;this.indexArray.emplaceBack(Be,Be+2,Be+1),this.indexArray.emplaceBack(Be+1,Be+2,Be+3),W.vertexLength+=4,W.primitiveLength+=2}}}}if(W.vertexLength+B>_r.MAX_VERTEX_ARRAY_LENGTH&&(W=this.segments.prepareSegment(B,this.layoutVertexArray,this.indexArray)),bX[l.type]!=="Polygon")continue;const G=[],Z=[],ee=W.vertexLength;for(const ae of R)if(ae.length!==0){ae!==R[0]&&Z.push(G.length/2);for(let he=0;he<ae.length;he++){const _e=ae[he];qy(this.layoutVertexArray,_e.x,_e.y,0,0,1,1,0),P.x+=_e.x,P.y+=_e.y,P.vertexCount+=1,G.push(_e.x),G.push(_e.y)}}const oe=Cj(G,Z);for(let ae=0;ae<oe.length;ae+=3)this.indexArray.emplaceBack(ee+oe[ae],ee+oe[ae+2],ee+oe[ae+1]);W.primitiveLength+=oe.length/3,W.vertexLength+=B}for(let R=0;R<P.vertexCount;R++)this.centroidVertexArray.emplaceBack(Math.floor(P.x/P.vertexCount),Math.floor(P.y/P.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,S,b)}}function _X(u,l){return u.x===l.x&&(u.x<0||u.x>fi)||u.y===l.y&&(u.y<0||u.y>fi)}function wX(u){return u.every(l=>l.x<0)||u.every(l=>l.x>fi)||u.every(l=>l.y<0)||u.every(l=>l.y>fi)}let Aj;Ot("FillExtrusionBucket",OT,{omit:["layers","features"]});var SX={get paint(){return Aj=Aj||new ri({"fill-extrusion-opacity":new Ft(ze["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Jt(ze["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Ft(ze["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Ft(ze["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new gf(ze["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Jt(ze["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Jt(ze["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Ft(ze["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class CX extends va{constructor(l){super(l,SX)}createBucket(l){return new OT(l)}queryRadius(){return v_(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(l,d,m,b,S,P,R,B){const W=x_(l,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),P.angle,R),G=this.paint.get("fill-extrusion-height").evaluate(d,m),Z=this.paint.get("fill-extrusion-base").evaluate(d,m),ee=function(ae,he,_e,Te){const Re=[];for(const Oe of ae){const Le=[Oe.x,Oe.y,0,1];b_(Le,Le,he),Re.push(new x(Le[0]/Le[3],Le[1]/Le[3]))}return Re}(W,B),oe=function(ae,he,_e,Te){const Re=[],Oe=[],Le=Te[8]*he,Be=Te[9]*he,Je=Te[10]*he,kt=Te[11]*he,Lt=Te[8]*_e,St=Te[9]*_e,wt=Te[10]*_e,gt=Te[11]*_e;for(const At of ae){const vt=[],ot=[];for(const Yt of At){const zt=Yt.x,vn=Yt.y,wr=Te[0]*zt+Te[4]*vn+Te[12],Er=Te[1]*zt+Te[5]*vn+Te[13],_i=Te[2]*zt+Te[6]*vn+Te[14],ba=Te[3]*zt+Te[7]*vn+Te[15],ko=_i+Je,hi=ba+kt,Bi=wr+Lt,Ji=Er+St,To=_i+wt,Po=ba+gt,wi=new x((wr+Le)/hi,(Er+Be)/hi);wi.z=ko/hi,vt.push(wi);const Si=new x(Bi/Po,Ji/Po);Si.z=To/Po,ot.push(Si)}Re.push(vt),Oe.push(ot)}return[Re,Oe]}(b,Z,G,B);return function(ae,he,_e){let Te=1/0;lj(_e,he)&&(Te=Ij(_e,he[0]));for(let Re=0;Re<he.length;Re++){const Oe=he[Re],Le=ae[Re];for(let Be=0;Be<Oe.length-1;Be++){const Je=Oe[Be],kt=[Je,Oe[Be+1],Le[Be+1],Le[Be],Je];sj(_e,kt)&&(Te=Math.min(Te,Ij(_e,kt)))}}return Te!==1/0&&Te}(oe[0],oe[1],ee)}}function Hy(u,l){return u.x*l.x+u.y*l.y}function Ij(u,l){if(u.length===1){let d=0;const m=l[d++];let b;for(;!b||m.equals(b);)if(b=l[d++],!b)return 1/0;for(;d<l.length;d++){const S=l[d],P=u[0],R=b.sub(m),B=S.sub(m),W=P.sub(m),G=Hy(R,R),Z=Hy(R,B),ee=Hy(B,B),oe=Hy(W,R),ae=Hy(W,B),he=G*ee-Z*Z,_e=(ee*oe-Z*ae)/he,Te=(G*ae-Z*oe)/he,Re=m.z*(1-_e-Te)+b.z*_e+S.z*Te;if(isFinite(Re))return Re}return 1/0}{let d=1/0;for(const m of l)d=Math.min(d,m.z);return d}}const kX=Rr([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:TX}=kX,PX=Rr([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:EX}=PX,OX=qu.VectorTileFeature.types,MX=Math.cos(Math.PI/180*37.5),$j=Math.pow(2,14)/.5;class MT{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(d=>{this.gradients[d.id]={}}),this.layoutVertexArray=new Qt,this.layoutVertexArray2=new jt,this.indexArray=new Ni,this.programConfigurations=new tl(l.layers,l.zoom),this.segments=new _r,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,m){this.hasPattern=kT("line",this.layers,d);const b=this.layers[0].layout.get("line-sort-key"),S=!b.isConstant(),P=[];for(const{feature:R,id:B,index:W,sourceLayerIndex:G}of l){const Z=this.layers[0]._featureFilter.needGeometry,ee=bf(R,Z);if(!this.layers[0]._featureFilter.filter(new br(this.zoom),ee,m))continue;const oe=S?b.evaluate(ee,{},m):void 0,ae={id:B,properties:R.properties,type:R.type,sourceLayerIndex:G,index:W,geometry:Z?ee.geometry:xf(R),patterns:{},sortKey:oe};P.push(ae)}S&&P.sort((R,B)=>R.sortKey-B.sortKey);for(const R of P){const{geometry:B,index:W,sourceLayerIndex:G}=R;if(this.hasPattern){const Z=TT("line",this.layers,R,this.zoom,d);this.patternFeatures.push(Z)}else this.addFeature(R,B,W,m,{});d.featureIndex.insert(l[W].feature,B,W,G,this.index)}}update(l,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,m)}addFeatures(l,d,m){for(const b of this.patternFeatures)this.addFeature(b,b.geometry,b.index,d,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,EX)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,TX),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,d,m,b,S){const P=this.layers[0].layout,R=P.get("line-join").evaluate(l,{}),B=P.get("line-cap"),W=P.get("line-miter-limit"),G=P.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(const Z of d)this.addLine(Z,l,R,B,W,G);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,S,b)}addLine(l,d,m,b,S,P){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Te=0;Te<l.length-1;Te++)this.totalDistance+=l[Te].dist(l[Te+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const R=OX[d.type]==="Polygon";let B=l.length;for(;B>=2&&l[B-1].equals(l[B-2]);)B--;let W=0;for(;W<B-1&&l[W].equals(l[W+1]);)W++;if(B<(R?3:2))return;m==="bevel"&&(S=1.05);const G=this.overscaling<=16?15*fi/(512*this.overscaling):0,Z=this.segments.prepareSegment(10*B,this.layoutVertexArray,this.indexArray);let ee,oe,ae,he,_e;this.e1=this.e2=-1,R&&(ee=l[B-2],_e=l[W].sub(ee)._unit()._perp());for(let Te=W;Te<B;Te++){if(ae=Te===B-1?R?l[W+1]:void 0:l[Te+1],ae&&l[Te].equals(ae))continue;_e&&(he=_e),ee&&(oe=ee),ee=l[Te],_e=ae?ae.sub(ee)._unit()._perp():he,he=he||_e;let Re=he.add(_e);Re.x===0&&Re.y===0||Re._unit();const Oe=he.x*_e.x+he.y*_e.y,Le=Re.x*_e.x+Re.y*_e.y,Be=Le!==0?1/Le:1/0,Je=2*Math.sqrt(2-2*Le),kt=Le<MX&&oe&&ae,Lt=he.x*_e.y-he.y*_e.x>0;if(kt&&Te>W){const gt=ee.dist(oe);if(gt>2*G){const At=ee.sub(ee.sub(oe)._mult(G/gt)._round());this.updateDistance(oe,At),this.addCurrentVertex(At,he,0,0,Z),oe=At}}const St=oe&&ae;let wt=St?m:R?"butt":b;if(St&&wt==="round"&&(Be<P?wt="miter":Be<=2&&(wt="fakeround")),wt==="miter"&&Be>S&&(wt="bevel"),wt==="bevel"&&(Be>2&&(wt="flipbevel"),Be<S&&(wt="miter")),oe&&this.updateDistance(oe,ee),wt==="miter")Re._mult(Be),this.addCurrentVertex(ee,Re,0,0,Z);else if(wt==="flipbevel"){if(Be>100)Re=_e.mult(-1);else{const gt=Be*he.add(_e).mag()/he.sub(_e).mag();Re._perp()._mult(gt*(Lt?-1:1))}this.addCurrentVertex(ee,Re,0,0,Z),this.addCurrentVertex(ee,Re.mult(-1),0,0,Z)}else if(wt==="bevel"||wt==="fakeround"){const gt=-Math.sqrt(Be*Be-1),At=Lt?gt:0,vt=Lt?0:gt;if(oe&&this.addCurrentVertex(ee,he,At,vt,Z),wt==="fakeround"){const ot=Math.round(180*Je/Math.PI/20);for(let Yt=1;Yt<ot;Yt++){let zt=Yt/ot;if(zt!==.5){const wr=zt-.5;zt+=zt*wr*(zt-1)*((1.0904+Oe*(Oe*(3.55645-1.43519*Oe)-3.2452))*wr*wr+(.848013+Oe*(.215638*Oe-1.06021)))}const vn=_e.sub(he)._mult(zt)._add(he)._unit()._mult(Lt?-1:1);this.addHalfVertex(ee,vn.x,vn.y,!1,Lt,0,Z)}}ae&&this.addCurrentVertex(ee,_e,-At,-vt,Z)}else if(wt==="butt")this.addCurrentVertex(ee,Re,0,0,Z);else if(wt==="square"){const gt=oe?1:-1;this.addCurrentVertex(ee,Re,gt,gt,Z)}else wt==="round"&&(oe&&(this.addCurrentVertex(ee,he,0,0,Z),this.addCurrentVertex(ee,he,1,1,Z,!0)),ae&&(this.addCurrentVertex(ee,_e,-1,-1,Z,!0),this.addCurrentVertex(ee,_e,0,0,Z)));if(kt&&Te<B-1){const gt=ee.dist(ae);if(gt>2*G){const At=ee.add(ae.sub(ee)._mult(G/gt)._round());this.updateDistance(ee,At),this.addCurrentVertex(At,_e,0,0,Z),ee=At}}}}addCurrentVertex(l,d,m,b,S,P=!1){const R=d.y*b-d.x,B=-d.y-d.x*b;this.addHalfVertex(l,d.x+d.y*m,d.y-d.x*m,P,!1,m,S),this.addHalfVertex(l,R,B,P,!0,-b,S),this.distance>$j/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(l,d,m,b,S,P))}addHalfVertex({x:l,y:d},m,b,S,P,R,B){const W=.5*(this.lineClips?this.scaledDistance*($j-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(S?1:0),(d<<1)+(P?1:0),Math.round(63*m)+128,Math.round(63*b)+128,1+(R===0?0:R<0?-1:1)|(63&W)<<2,W>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const G=B.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,G),B.primitiveLength++),P?this.e2=G:this.e1=G}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,d){this.distance+=l.dist(d),this.updateScaledDistance()}}let Rj,Dj;Ot("LineBucket",MT,{omit:["layers","patternFeatures"]});var Lj={get paint(){return Dj=Dj||new ri({"line-opacity":new Jt(ze.paint_line["line-opacity"]),"line-color":new Jt(ze.paint_line["line-color"]),"line-translate":new Ft(ze.paint_line["line-translate"]),"line-translate-anchor":new Ft(ze.paint_line["line-translate-anchor"]),"line-width":new Jt(ze.paint_line["line-width"]),"line-gap-width":new Jt(ze.paint_line["line-gap-width"]),"line-offset":new Jt(ze.paint_line["line-offset"]),"line-blur":new Jt(ze.paint_line["line-blur"]),"line-dasharray":new Oy(ze.paint_line["line-dasharray"]),"line-pattern":new gf(ze.paint_line["line-pattern"]),"line-gradient":new My(ze.paint_line["line-gradient"])})},get layout(){return Rj=Rj||new ri({"line-cap":new Ft(ze.layout_line["line-cap"]),"line-join":new Jt(ze.layout_line["line-join"]),"line-miter-limit":new Ft(ze.layout_line["line-miter-limit"]),"line-round-limit":new Ft(ze.layout_line["line-round-limit"]),"line-sort-key":new Jt(ze.layout_line["line-sort-key"])})}};class AX extends Jt{possiblyEvaluate(l,d){return d=new br(Math.floor(d.zoom),{now:d.now,fadeDuration:d.fadeDuration,zoomHistory:d.zoomHistory,transition:d.transition}),super.possiblyEvaluate(l,d)}evaluate(l,d,m,b){return d=q({},d,{zoom:Math.floor(d.zoom)}),super.evaluate(l,d,m,b)}}let k_;class IX extends va{constructor(l){super(l,Lj),this.gradientVersion=0,k_||(k_=new AX(Lj.paint.properties["line-width"].specification),k_.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(l){if(l==="line-gradient"){const d=this.gradientExpression();this.stepInterpolant=!!function(m){return m._styleExpression!==void 0}(d)&&d._styleExpression.expression instanceof Rl,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(l,d){super.recalculate(l,d),this.paint._values["line-floorwidth"]=k_.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)}createBucket(l){return new MT(l)}queryRadius(l){const d=l,m=jj(Ny("line-width",this,d),Ny("line-gap-width",this,d)),b=Ny("line-offset",this,d);return m/2+Math.abs(b)+v_(this.paint.get("line-translate"))}queryIntersectsFeature(l,d,m,b,S,P,R){const B=x_(l,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),P.angle,R),W=R/2*jj(this.paint.get("line-width").evaluate(d,m),this.paint.get("line-gap-width").evaluate(d,m)),G=this.paint.get("line-offset").evaluate(d,m);return G&&(b=function(Z,ee){const oe=[];for(let ae=0;ae<Z.length;ae++){const he=Z[ae],_e=[];for(let Te=0;Te<he.length;Te++){const Re=he[Te-1],Oe=he[Te],Le=he[Te+1],Be=Te===0?new x(0,0):Oe.sub(Re)._unit()._perp(),Je=Te===he.length-1?new x(0,0):Le.sub(Oe)._unit()._perp(),kt=Be._add(Je)._unit(),Lt=kt.x*Je.x+kt.y*Je.y;Lt!==0&&kt._mult(1/Lt),_e.push(kt._mult(ee)._add(Oe))}oe.push(_e)}return oe}(b,G*R)),function(Z,ee,oe){for(let ae=0;ae<ee.length;ae++){const he=ee[ae];if(Z.length>=3){for(let _e=0;_e<he.length;_e++)if(sp(Z,he[_e]))return!0}if(NZ(Z,he,oe))return!0}return!1}(B,b,W)}isTileClipped(){return!0}}function jj(u,l){return l>0?l+2*u:u}const $X=Rr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),RX=Rr([{name:"a_projected_pos",components:3,type:"Float32"}],4);Rr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const DX=Rr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Rr([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Nj=Rr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),LX=Rr([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function jX(u,l,d){return u.sections.forEach(m=>{m.text=function(b,S,P){const R=S.layout.get("text-transform").evaluate(P,{});return R==="uppercase"?b=b.toLocaleUpperCase():R==="lowercase"&&(b=b.toLocaleLowerCase()),Ko.applyArabicShaping&&(b=Ko.applyArabicShaping(b)),b}(m.text,l,d)}),u}Rr([{name:"triangle",components:3,type:"Uint16"}]),Rr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Rr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Rr([{type:"Float32",name:"offsetX"}]),Rr([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Rr([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Gy={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var bi=24,zj=ar,Bj=function(u,l,d,m,b){var S,P,R=8*b-m-1,B=(1<<R)-1,W=B>>1,G=-7,Z=d?b-1:0,ee=d?-1:1,oe=u[l+Z];for(Z+=ee,S=oe&(1<<-G)-1,oe>>=-G,G+=R;G>0;S=256*S+u[l+Z],Z+=ee,G-=8);for(P=S&(1<<-G)-1,S>>=-G,G+=m;G>0;P=256*P+u[l+Z],Z+=ee,G-=8);if(S===0)S=1-W;else{if(S===B)return P?NaN:1/0*(oe?-1:1);P+=Math.pow(2,m),S-=W}return(oe?-1:1)*P*Math.pow(2,S-m)},Fj=function(u,l,d,m,b,S){var P,R,B,W=8*S-b-1,G=(1<<W)-1,Z=G>>1,ee=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,oe=m?0:S-1,ae=m?1:-1,he=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(R=isNaN(l)?1:0,P=G):(P=Math.floor(Math.log(l)/Math.LN2),l*(B=Math.pow(2,-P))<1&&(P--,B*=2),(l+=P+Z>=1?ee/B:ee*Math.pow(2,1-Z))*B>=2&&(P++,B/=2),P+Z>=G?(R=0,P=G):P+Z>=1?(R=(l*B-1)*Math.pow(2,b),P+=Z):(R=l*Math.pow(2,Z-1)*Math.pow(2,b),P=0));b>=8;u[d+oe]=255&R,oe+=ae,R/=256,b-=8);for(P=P<<b|R,W+=b;W>0;u[d+oe]=255&P,oe+=ae,P/=256,W-=8);u[d+oe-ae]|=128*he};function ar(u){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(u)?u:new Uint8Array(u||0),this.pos=0,this.type=0,this.length=this.buf.length}ar.Varint=0,ar.Fixed64=1,ar.Bytes=2,ar.Fixed32=5;var AT=4294967296,Uj=1/AT,Vj=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Mc(u){return u.type===ar.Bytes?u.readVarint()+u.pos:u.pos+1}function dp(u,l,d){return d?4294967296*l+(u>>>0):4294967296*(l>>>0)+(u>>>0)}function Wj(u,l,d){var m=l<=16383?1:l<=2097151?2:l<=268435455?3:Math.floor(Math.log(l)/(7*Math.LN2));d.realloc(m);for(var b=d.pos-1;b>=u;b--)d.buf[b+m]=d.buf[b]}function NX(u,l){for(var d=0;d<u.length;d++)l.writeVarint(u[d])}function zX(u,l){for(var d=0;d<u.length;d++)l.writeSVarint(u[d])}function BX(u,l){for(var d=0;d<u.length;d++)l.writeFloat(u[d])}function FX(u,l){for(var d=0;d<u.length;d++)l.writeDouble(u[d])}function UX(u,l){for(var d=0;d<u.length;d++)l.writeBoolean(u[d])}function VX(u,l){for(var d=0;d<u.length;d++)l.writeFixed32(u[d])}function WX(u,l){for(var d=0;d<u.length;d++)l.writeSFixed32(u[d])}function qX(u,l){for(var d=0;d<u.length;d++)l.writeFixed64(u[d])}function HX(u,l){for(var d=0;d<u.length;d++)l.writeSFixed64(u[d])}function T_(u,l){return(u[l]|u[l+1]<<8|u[l+2]<<16)+16777216*u[l+3]}function fp(u,l,d){u[d]=l,u[d+1]=l>>>8,u[d+2]=l>>>16,u[d+3]=l>>>24}function qj(u,l){return(u[l]|u[l+1]<<8|u[l+2]<<16)+(u[l+3]<<24)}ar.prototype={destroy:function(){this.buf=null},readFields:function(u,l,d){for(d=d||this.length;this.pos<d;){var m=this.readVarint(),b=m>>3,S=this.pos;this.type=7&m,u(b,l,this),this.pos===S&&this.skip(m)}return l},readMessage:function(u,l){return this.readFields(u,l,this.readVarint()+this.pos)},readFixed32:function(){var u=T_(this.buf,this.pos);return this.pos+=4,u},readSFixed32:function(){var u=qj(this.buf,this.pos);return this.pos+=4,u},readFixed64:function(){var u=T_(this.buf,this.pos)+T_(this.buf,this.pos+4)*AT;return this.pos+=8,u},readSFixed64:function(){var u=T_(this.buf,this.pos)+qj(this.buf,this.pos+4)*AT;return this.pos+=8,u},readFloat:function(){var u=Bj(this.buf,this.pos,!0,23,4);return this.pos+=4,u},readDouble:function(){var u=Bj(this.buf,this.pos,!0,52,8);return this.pos+=8,u},readVarint:function(u){var l,d,m=this.buf;return l=127&(d=m[this.pos++]),d<128?l:(l|=(127&(d=m[this.pos++]))<<7,d<128?l:(l|=(127&(d=m[this.pos++]))<<14,d<128?l:(l|=(127&(d=m[this.pos++]))<<21,d<128?l:function(b,S,P){var R,B,W=P.buf;if(R=(112&(B=W[P.pos++]))>>4,B<128||(R|=(127&(B=W[P.pos++]))<<3,B<128)||(R|=(127&(B=W[P.pos++]))<<10,B<128)||(R|=(127&(B=W[P.pos++]))<<17,B<128)||(R|=(127&(B=W[P.pos++]))<<24,B<128)||(R|=(1&(B=W[P.pos++]))<<31,B<128))return dp(b,R,S);throw new Error("Expected varint not more than 10 bytes")}(l|=(15&(d=m[this.pos]))<<28,u,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var u=this.readVarint();return u%2==1?(u+1)/-2:u/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var u=this.readVarint()+this.pos,l=this.pos;return this.pos=u,u-l>=12&&Vj?function(d,m,b){return Vj.decode(d.subarray(m,b))}(this.buf,l,u):function(d,m,b){for(var S="",P=m;P<b;){var R,B,W,G=d[P],Z=null,ee=G>239?4:G>223?3:G>191?2:1;if(P+ee>b)break;ee===1?G<128&&(Z=G):ee===2?(192&(R=d[P+1]))==128&&(Z=(31&G)<<6|63&R)<=127&&(Z=null):ee===3?(B=d[P+2],(192&(R=d[P+1]))==128&&(192&B)==128&&((Z=(15&G)<<12|(63&R)<<6|63&B)<=2047||Z>=55296&&Z<=57343)&&(Z=null)):ee===4&&(B=d[P+2],W=d[P+3],(192&(R=d[P+1]))==128&&(192&B)==128&&(192&W)==128&&((Z=(15&G)<<18|(63&R)<<12|(63&B)<<6|63&W)<=65535||Z>=1114112)&&(Z=null)),Z===null?(Z=65533,ee=1):Z>65535&&(Z-=65536,S+=String.fromCharCode(Z>>>10&1023|55296),Z=56320|1023&Z),S+=String.fromCharCode(Z),P+=ee}return S}(this.buf,l,u)},readBytes:function(){var u=this.readVarint()+this.pos,l=this.buf.subarray(this.pos,u);return this.pos=u,l},readPackedVarint:function(u,l){if(this.type!==ar.Bytes)return u.push(this.readVarint(l));var d=Mc(this);for(u=u||[];this.pos<d;)u.push(this.readVarint(l));return u},readPackedSVarint:function(u){if(this.type!==ar.Bytes)return u.push(this.readSVarint());var l=Mc(this);for(u=u||[];this.pos<l;)u.push(this.readSVarint());return u},readPackedBoolean:function(u){if(this.type!==ar.Bytes)return u.push(this.readBoolean());var l=Mc(this);for(u=u||[];this.pos<l;)u.push(this.readBoolean());return u},readPackedFloat:function(u){if(this.type!==ar.Bytes)return u.push(this.readFloat());var l=Mc(this);for(u=u||[];this.pos<l;)u.push(this.readFloat());return u},readPackedDouble:function(u){if(this.type!==ar.Bytes)return u.push(this.readDouble());var l=Mc(this);for(u=u||[];this.pos<l;)u.push(this.readDouble());return u},readPackedFixed32:function(u){if(this.type!==ar.Bytes)return u.push(this.readFixed32());var l=Mc(this);for(u=u||[];this.pos<l;)u.push(this.readFixed32());return u},readPackedSFixed32:function(u){if(this.type!==ar.Bytes)return u.push(this.readSFixed32());var l=Mc(this);for(u=u||[];this.pos<l;)u.push(this.readSFixed32());return u},readPackedFixed64:function(u){if(this.type!==ar.Bytes)return u.push(this.readFixed64());var l=Mc(this);for(u=u||[];this.pos<l;)u.push(this.readFixed64());return u},readPackedSFixed64:function(u){if(this.type!==ar.Bytes)return u.push(this.readSFixed64());var l=Mc(this);for(u=u||[];this.pos<l;)u.push(this.readSFixed64());return u},skip:function(u){var l=7&u;if(l===ar.Varint)for(;this.buf[this.pos++]>127;);else if(l===ar.Bytes)this.pos=this.readVarint()+this.pos;else if(l===ar.Fixed32)this.pos+=4;else{if(l!==ar.Fixed64)throw new Error("Unimplemented type: "+l);this.pos+=8}},writeTag:function(u,l){this.writeVarint(u<<3|l)},realloc:function(u){for(var l=this.length||16;l<this.pos+u;)l*=2;if(l!==this.length){var d=new Uint8Array(l);d.set(this.buf),this.buf=d,this.length=l}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(u){this.realloc(4),fp(this.buf,u,this.pos),this.pos+=4},writeSFixed32:function(u){this.realloc(4),fp(this.buf,u,this.pos),this.pos+=4},writeFixed64:function(u){this.realloc(8),fp(this.buf,-1&u,this.pos),fp(this.buf,Math.floor(u*Uj),this.pos+4),this.pos+=8},writeSFixed64:function(u){this.realloc(8),fp(this.buf,-1&u,this.pos),fp(this.buf,Math.floor(u*Uj),this.pos+4),this.pos+=8},writeVarint:function(u){(u=+u||0)>268435455||u<0?function(l,d){var m,b;if(l>=0?(m=l%4294967296|0,b=l/4294967296|0):(b=~(-l/4294967296),4294967295^(m=~(-l%4294967296))?m=m+1|0:(m=0,b=b+1|0)),l>=18446744073709552e3||l<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");d.realloc(10),function(S,P,R){R.buf[R.pos++]=127&S|128,S>>>=7,R.buf[R.pos++]=127&S|128,S>>>=7,R.buf[R.pos++]=127&S|128,S>>>=7,R.buf[R.pos++]=127&S|128,R.buf[R.pos]=127&(S>>>=7)}(m,0,d),function(S,P){var R=(7&S)<<4;P.buf[P.pos++]|=R|((S>>>=3)?128:0),S&&(P.buf[P.pos++]=127&S|((S>>>=7)?128:0),S&&(P.buf[P.pos++]=127&S|((S>>>=7)?128:0),S&&(P.buf[P.pos++]=127&S|((S>>>=7)?128:0),S&&(P.buf[P.pos++]=127&S|((S>>>=7)?128:0),S&&(P.buf[P.pos++]=127&S)))))}(b,d)}(u,this):(this.realloc(4),this.buf[this.pos++]=127&u|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=u>>>7&127))))},writeSVarint:function(u){this.writeVarint(u<0?2*-u-1:2*u)},writeBoolean:function(u){this.writeVarint(!!u)},writeString:function(u){u=String(u),this.realloc(4*u.length),this.pos++;var l=this.pos;this.pos=function(m,b,S){for(var P,R,B=0;B<b.length;B++){if((P=b.charCodeAt(B))>55295&&P<57344){if(!R){P>56319||B+1===b.length?(m[S++]=239,m[S++]=191,m[S++]=189):R=P;continue}if(P<56320){m[S++]=239,m[S++]=191,m[S++]=189,R=P;continue}P=R-55296<<10|P-56320|65536,R=null}else R&&(m[S++]=239,m[S++]=191,m[S++]=189,R=null);P<128?m[S++]=P:(P<2048?m[S++]=P>>6|192:(P<65536?m[S++]=P>>12|224:(m[S++]=P>>18|240,m[S++]=P>>12&63|128),m[S++]=P>>6&63|128),m[S++]=63&P|128)}return S}(this.buf,u,this.pos);var d=this.pos-l;d>=128&&Wj(l,d,this),this.pos=l-1,this.writeVarint(d),this.pos+=d},writeFloat:function(u){this.realloc(4),Fj(this.buf,u,this.pos,!0,23,4),this.pos+=4},writeDouble:function(u){this.realloc(8),Fj(this.buf,u,this.pos,!0,52,8),this.pos+=8},writeBytes:function(u){var l=u.length;this.writeVarint(l),this.realloc(l);for(var d=0;d<l;d++)this.buf[this.pos++]=u[d]},writeRawMessage:function(u,l){this.pos++;var d=this.pos;u(l,this);var m=this.pos-d;m>=128&&Wj(d,m,this),this.pos=d-1,this.writeVarint(m),this.pos+=m},writeMessage:function(u,l,d){this.writeTag(u,ar.Bytes),this.writeRawMessage(l,d)},writePackedVarint:function(u,l){l.length&&this.writeMessage(u,NX,l)},writePackedSVarint:function(u,l){l.length&&this.writeMessage(u,zX,l)},writePackedBoolean:function(u,l){l.length&&this.writeMessage(u,UX,l)},writePackedFloat:function(u,l){l.length&&this.writeMessage(u,BX,l)},writePackedDouble:function(u,l){l.length&&this.writeMessage(u,FX,l)},writePackedFixed32:function(u,l){l.length&&this.writeMessage(u,VX,l)},writePackedSFixed32:function(u,l){l.length&&this.writeMessage(u,WX,l)},writePackedFixed64:function(u,l){l.length&&this.writeMessage(u,qX,l)},writePackedSFixed64:function(u,l){l.length&&this.writeMessage(u,HX,l)},writeBytesField:function(u,l){this.writeTag(u,ar.Bytes),this.writeBytes(l)},writeFixed32Field:function(u,l){this.writeTag(u,ar.Fixed32),this.writeFixed32(l)},writeSFixed32Field:function(u,l){this.writeTag(u,ar.Fixed32),this.writeSFixed32(l)},writeFixed64Field:function(u,l){this.writeTag(u,ar.Fixed64),this.writeFixed64(l)},writeSFixed64Field:function(u,l){this.writeTag(u,ar.Fixed64),this.writeSFixed64(l)},writeVarintField:function(u,l){this.writeTag(u,ar.Varint),this.writeVarint(l)},writeSVarintField:function(u,l){this.writeTag(u,ar.Varint),this.writeSVarint(l)},writeStringField:function(u,l){this.writeTag(u,ar.Bytes),this.writeString(l)},writeFloatField:function(u,l){this.writeTag(u,ar.Fixed32),this.writeFloat(l)},writeDoubleField:function(u,l){this.writeTag(u,ar.Fixed64),this.writeDouble(l)},writeBooleanField:function(u,l){this.writeVarintField(u,!!l)}};var IT=h(zj);const $T=3;function GX(u,l,d){u===1&&d.readMessage(YX,l)}function YX(u,l,d){if(u===3){const{id:m,bitmap:b,width:S,height:P,left:R,top:B,advance:W}=d.readMessage(KX,{});l.push({id:m,bitmap:new By({width:S+2*$T,height:P+2*$T},b),metrics:{width:S,height:P,left:R,top:B,advance:W}})}}function KX(u,l,d){u===1?l.id=d.readVarint():u===2?l.bitmap=d.readBytes():u===3?l.width=d.readVarint():u===4?l.height=d.readVarint():u===5?l.left=d.readSVarint():u===6?l.top=d.readSVarint():u===7&&(l.advance=d.readVarint())}const Hj=$T;function Gj(u){let l=0,d=0;for(const P of u)l+=P.w*P.h,d=Math.max(d,P.w);u.sort((P,R)=>R.h-P.h);const m=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),d),h:1/0}];let b=0,S=0;for(const P of u)for(let R=m.length-1;R>=0;R--){const B=m[R];if(!(P.w>B.w||P.h>B.h)){if(P.x=B.x,P.y=B.y,S=Math.max(S,P.y+P.h),b=Math.max(b,P.x+P.w),P.w===B.w&&P.h===B.h){const W=m.pop();R<m.length&&(m[R]=W)}else P.h===B.h?(B.x+=P.w,B.w-=P.w):P.w===B.w?(B.y+=P.h,B.h-=P.h):(m.push({x:B.x+P.w,y:B.y,w:B.w-P.w,h:P.h}),B.y+=P.h,B.h-=P.h);break}}return{w:b,h:S,fill:l/(b*S)||0}}const Xo=1;class RT{constructor(l,{pixelRatio:d,version:m,stretchX:b,stretchY:S,content:P}){this.paddedRect=l,this.pixelRatio=d,this.stretchX=b,this.stretchY=S,this.content=P,this.version=m}get tl(){return[this.paddedRect.x+Xo,this.paddedRect.y+Xo]}get br(){return[this.paddedRect.x+this.paddedRect.w-Xo,this.paddedRect.y+this.paddedRect.h-Xo]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Xo)/this.pixelRatio,(this.paddedRect.h-2*Xo)/this.pixelRatio]}}class Yj{constructor(l,d){const m={},b={};this.haveRenderCallbacks=[];const S=[];this.addImages(l,m,S),this.addImages(d,b,S);const{w:P,h:R}=Gj(S),B=new La({width:P||1,height:R||1});for(const W in l){const G=l[W],Z=m[W].paddedRect;La.copy(G.data,B,{x:0,y:0},{x:Z.x+Xo,y:Z.y+Xo},G.data)}for(const W in d){const G=d[W],Z=b[W].paddedRect,ee=Z.x+Xo,oe=Z.y+Xo,ae=G.data.width,he=G.data.height;La.copy(G.data,B,{x:0,y:0},{x:ee,y:oe},G.data),La.copy(G.data,B,{x:0,y:he-1},{x:ee,y:oe-1},{width:ae,height:1}),La.copy(G.data,B,{x:0,y:0},{x:ee,y:oe+he},{width:ae,height:1}),La.copy(G.data,B,{x:ae-1,y:0},{x:ee-1,y:oe},{width:1,height:he}),La.copy(G.data,B,{x:0,y:0},{x:ee+ae,y:oe},{width:1,height:he})}this.image=B,this.iconPositions=m,this.patternPositions=b}addImages(l,d,m){for(const b in l){const S=l[b],P={x:0,y:0,w:S.data.width+2*Xo,h:S.data.height+2*Xo};m.push(P),d[b]=new RT(P,S),S.hasRenderCallback&&this.haveRenderCallbacks.push(b)}}patchUpdatedImages(l,d){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const m in l.updatedImages)this.patchUpdatedImage(this.iconPositions[m],l.getImage(m),d),this.patchUpdatedImage(this.patternPositions[m],l.getImage(m),d)}patchUpdatedImage(l,d,m){if(!l||!d||l.version===d.version)return;l.version=d.version;const[b,S]=l.tl;m.update(d.data,void 0,{x:b,y:S})}}var Hu;Ot("ImagePosition",RT),Ot("ImageAtlas",Yj),a.ai=void 0,(Hu=a.ai||(a.ai={}))[Hu.none=0]="none",Hu[Hu.horizontal=1]="horizontal",Hu[Hu.vertical=2]="vertical",Hu[Hu.horizontalOnly=3]="horizontalOnly";const Yy=-17;class Ky{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(l,d){const m=new Ky;return m.scale=l||1,m.fontStack=d,m}static forImage(l){const d=new Ky;return d.imageName=l,d}}class hp{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(l,d){const m=new hp;for(let b=0;b<l.sections.length;b++){const S=l.sections[b];S.image?m.addImageSection(S):m.addTextSection(S,d)}return m}length(){return this.text.length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}getCharCode(l){return this.text.charCodeAt(l)}verticalizePunctuation(){this.text=function(l){let d="";for(let m=0;m<l.length;m++){const b=l.charCodeAt(m+1)||null,S=l.charCodeAt(m-1)||null;d+=b&&s_(b)&&!Gy[l[m+1]]||S&&s_(S)&&!Gy[l[m-1]]||!Gy[l[m]]?l[m]:Gy[l[m]]}return d}(this.text)}trim(){let l=0;for(let m=0;m<this.text.length&&E_[this.text.charCodeAt(m)];m++)l++;let d=this.text.length;for(let m=this.text.length-1;m>=0&&m>=l&&E_[this.text.charCodeAt(m)];m--)d--;this.text=this.text.substring(l,d),this.sectionIndex=this.sectionIndex.slice(l,d)}substring(l,d){const m=new hp;return m.text=this.text.substring(l,d),m.sectionIndex=this.sectionIndex.slice(l,d),m.sections=this.sections,m}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((l,d)=>Math.max(l,this.sections[d].scale),0)}addTextSection(l,d){this.text+=l.text,this.sections.push(Ky.forText(l.scale,l.fontStack||d));const m=this.sections.length-1;for(let b=0;b<l.text.length;++b)this.sectionIndex.push(m)}addImageSection(l){const d=l.image?l.image.name:"";if(d.length===0)return void fe("Can't add FormattedSection with an empty image.");const m=this.getNextImageSectionCharCode();m?(this.text+=String.fromCharCode(m),this.sections.push(Ky.forImage(d)),this.sectionIndex.push(this.sections.length-1)):fe("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function P_(u,l,d,m,b,S,P,R,B,W,G,Z,ee,oe,ae,he){const _e=hp.fromFeature(u,b);let Te;Z===a.ai.vertical&&_e.verticalizePunctuation();const{processBidirectionalText:Re,processStyledBidirectionalText:Oe}=Ko;if(Re&&_e.sections.length===1){Te=[];const Je=Re(_e.toString(),DT(_e,W,S,l,m,oe,ae));for(const kt of Je){const Lt=new hp;Lt.text=kt,Lt.sections=_e.sections;for(let St=0;St<kt.length;St++)Lt.sectionIndex.push(0);Te.push(Lt)}}else if(Oe){Te=[];const Je=Oe(_e.text,_e.sectionIndex,DT(_e,W,S,l,m,oe,ae));for(const kt of Je){const Lt=new hp;Lt.text=kt[0],Lt.sectionIndex=kt[1],Lt.sections=_e.sections,Te.push(Lt)}}else Te=function(Je,kt){const Lt=[],St=Je.text;let wt=0;for(const gt of kt)Lt.push(Je.substring(wt,gt)),wt=gt;return wt<St.length&&Lt.push(Je.substring(wt,St.length)),Lt}(_e,DT(_e,W,S,l,m,oe,ae));const Le=[],Be={positionedLines:Le,text:_e.toString(),top:G[1],bottom:G[1],left:G[0],right:G[0],writingMode:Z,iconsInText:!1,verticalizable:!1};return function(Je,kt,Lt,St,wt,gt,At,vt,ot,Yt,zt,vn){let wr=0,Er=Yy,_i=0,ba=0;const ko=vt==="right"?1:vt==="left"?0:.5;let hi=0;for(const wi of wt){wi.trim();const Si=wi.getMaxScale(),co=(Si-1)*bi,Eo={positionedGlyphs:[],lineOffset:0};Je.positionedLines[hi]=Eo;const uo=Eo.positionedGlyphs;let Jo=0;if(!wi.length()){Er+=gt,++hi;continue}for(let Ci=0;Ci<wi.length();Ci++){const Pn=wi.getSection(Ci),fo=wi.getSectionIndex(Ci),Qi=wi.getCharCode(Ci);let ki=0,ms=null,nl=null,rl=null,Ac=bi;const gs=!(ot===a.ai.horizontal||!zt&&!_y(Qi)||zt&&(E_[Qi]||(Bi=Qi,Ct.Arabic(Bi)||Ct["Arabic Supplement"](Bi)||Ct["Arabic Extended-A"](Bi)||Ct["Arabic Presentation Forms-A"](Bi)||Ct["Arabic Presentation Forms-B"](Bi))));if(Pn.imageName){const Na=St[Pn.imageName];if(!Na)continue;rl=Pn.imageName,Je.iconsInText=Je.iconsInText||!0,nl=Na.paddedRect;const ea=Na.displaySize;Pn.scale=Pn.scale*bi/vn,ms={width:ea[0],height:ea[1],left:Xo,top:-Hj,advance:gs?ea[1]:ea[0]},ki=co+(bi-ea[1]*Pn.scale),Ac=ms.advance;const Ic=gs?ea[0]*Pn.scale-bi*Si:ea[1]*Pn.scale-bi*Si;Ic>0&&Ic>Jo&&(Jo=Ic)}else{const Na=Lt[Pn.fontStack],ea=Na&&Na[Qi];if(ea&&ea.rect)nl=ea.rect,ms=ea.metrics;else{const Ic=kt[Pn.fontStack],ev=Ic&&Ic[Qi];if(!ev)continue;ms=ev.metrics}ki=(Si-Pn.scale)*bi}gs?(Je.verticalizable=!0,uo.push({glyph:Qi,imageName:rl,x:wr,y:Er+ki,vertical:gs,scale:Pn.scale,fontStack:Pn.fontStack,sectionIndex:fo,metrics:ms,rect:nl}),wr+=Ac*Pn.scale+Yt):(uo.push({glyph:Qi,imageName:rl,x:wr,y:Er+ki,vertical:gs,scale:Pn.scale,fontStack:Pn.fontStack,sectionIndex:fo,metrics:ms,rect:nl}),wr+=ms.advance*Pn.scale+Yt)}uo.length!==0&&(_i=Math.max(wr-Yt,_i),JX(uo,0,uo.length-1,ko,Jo)),wr=0;const Qo=gt*Si+Jo;Eo.lineOffset=Math.max(Jo,co),Er+=Qo,ba=Math.max(Qo,ba),++hi}var Bi;const Ji=Er-Yy,{horizontalAlign:To,verticalAlign:Po}=LT(At);(function(wi,Si,co,Eo,uo,Jo,Qo,Ci,Pn){const fo=(Si-co)*uo;let Qi=0;Qi=Jo!==Qo?-Ci*Eo-Yy:(-Eo*Pn+.5)*Qo;for(const ki of wi)for(const ms of ki.positionedGlyphs)ms.x+=fo,ms.y+=Qi})(Je.positionedLines,ko,To,Po,_i,ba,gt,Ji,wt.length),Je.top+=-Po*Ji,Je.bottom=Je.top+Ji,Je.left+=-To*_i,Je.right=Je.left+_i}(Be,l,d,m,Te,P,R,B,Z,W,ee,he),!function(Je){for(const kt of Je)if(kt.positionedGlyphs.length!==0)return!1;return!0}(Le)&&Be}const E_={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},ZX={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Kj(u,l,d,m,b,S){if(l.imageName){const P=m[l.imageName];return P?P.displaySize[0]*l.scale*bi/S+b:0}{const P=d[l.fontStack],R=P&&P[u];return R?R.metrics.advance*l.scale+b:0}}function Zj(u,l,d,m){const b=Math.pow(u-l,2);return m?u<l?b/2:2*b:b+Math.abs(d)*d}function XX(u,l,d){let m=0;return u===10&&(m-=1e4),d&&(m+=150),u!==40&&u!==65288||(m+=50),l!==41&&l!==65289||(m+=50),m}function Xj(u,l,d,m,b,S){let P=null,R=Zj(l,d,b,S);for(const B of m){const W=Zj(l-B.x,d,b,S)+B.badness;W<=R&&(P=B,R=W)}return{index:u,x:l,priorBreak:P,badness:R}}function Jj(u){return u?Jj(u.priorBreak).concat(u.index):[]}function DT(u,l,d,m,b,S,P){if(S!=="point")return[];if(!u)return[];const R=[],B=function(ee,oe,ae,he,_e,Te){let Re=0;for(let Oe=0;Oe<ee.length();Oe++){const Le=ee.getSection(Oe);Re+=Kj(ee.getCharCode(Oe),Le,he,_e,oe,Te)}return Re/Math.max(1,Math.ceil(Re/ae))}(u,l,d,m,b,P),W=u.text.indexOf("")>=0;let G=0;for(let ee=0;ee<u.length();ee++){const oe=u.getSection(ee),ae=u.getCharCode(ee);if(E_[ae]||(G+=Kj(ae,oe,m,b,l,P)),ee<u.length()-1){const he=!((Z=ae)<11904||!(Ct["Bopomofo Extended"](Z)||Ct.Bopomofo(Z)||Ct["CJK Compatibility Forms"](Z)||Ct["CJK Compatibility Ideographs"](Z)||Ct["CJK Compatibility"](Z)||Ct["CJK Radicals Supplement"](Z)||Ct["CJK Strokes"](Z)||Ct["CJK Symbols and Punctuation"](Z)||Ct["CJK Unified Ideographs Extension A"](Z)||Ct["CJK Unified Ideographs"](Z)||Ct["Enclosed CJK Letters and Months"](Z)||Ct["Halfwidth and Fullwidth Forms"](Z)||Ct.Hiragana(Z)||Ct["Ideographic Description Characters"](Z)||Ct["Kangxi Radicals"](Z)||Ct["Katakana Phonetic Extensions"](Z)||Ct.Katakana(Z)||Ct["Vertical Forms"](Z)||Ct["Yi Radicals"](Z)||Ct["Yi Syllables"](Z)));(ZX[ae]||he||oe.imageName)&&R.push(Xj(ee+1,G,B,R,XX(ae,u.getCharCode(ee+1),he&&W),!1))}}var Z;return Jj(Xj(u.length(),G,B,R,0,!0))}function LT(u){let l=.5,d=.5;switch(u){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(u){case"bottom":case"bottom-right":case"bottom-left":d=1;break;case"top":case"top-right":case"top-left":d=0}return{horizontalAlign:l,verticalAlign:d}}function JX(u,l,d,m,b){if(!m&&!b)return;const S=u[d],P=(u[d].x+S.metrics.advance*S.scale)*m;for(let R=l;R<=d;R++)u[R].x-=P,u[R].y+=b}function QX(u,l,d){const{horizontalAlign:m,verticalAlign:b}=LT(d),S=l[0]-u.displaySize[0]*m,P=l[1]-u.displaySize[1]*b;return{image:u,top:P,bottom:P+u.displaySize[1],left:S,right:S+u.displaySize[0]}}function Qj(u,l,d,m,b,S){const P=u.image;let R;if(P.content){const _e=P.content,Te=P.pixelRatio||1;R=[_e[0]/Te,_e[1]/Te,P.displaySize[0]-_e[2]/Te,P.displaySize[1]-_e[3]/Te]}const B=l.left*S,W=l.right*S;let G,Z,ee,oe;d==="width"||d==="both"?(oe=b[0]+B-m[3],Z=b[0]+W+m[1]):(oe=b[0]+(B+W-P.displaySize[0])/2,Z=oe+P.displaySize[0]);const ae=l.top*S,he=l.bottom*S;return d==="height"||d==="both"?(G=b[1]+ae-m[0],ee=b[1]+he+m[2]):(G=b[1]+(ae+he-P.displaySize[1])/2,ee=G+P.displaySize[1]),{image:P,top:G,right:Z,bottom:ee,left:oe,collisionPadding:R}}const Zy=255,zl=128,Gu=Zy*zl;function eN(u,l){const{expression:d}=l;if(d.kind==="constant")return{kind:"constant",layoutSize:d.evaluate(new br(u+1))};if(d.kind==="source")return{kind:"source"};{const{zoomStops:m,interpolationType:b}=d;let S=0;for(;S<m.length&&m[S]<=u;)S++;S=Math.max(0,S-1);let P=S;for(;P<m.length&&m[P]<u+1;)P++;P=Math.min(m.length-1,P);const R=m[S],B=m[P];return d.kind==="composite"?{kind:"composite",minZoom:R,maxZoom:B,interpolationType:b}:{kind:"camera",minZoom:R,maxZoom:B,minSize:d.evaluate(new br(R)),maxSize:d.evaluate(new br(B)),interpolationType:b}}}function jT(u,l,d){let m="never";const b=u.get(l);return b?m=b:u.get(d)&&(m="always"),m}const eJ=qu.VectorTileFeature.types,tJ=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function O_(u,l,d,m,b,S,P,R,B,W,G,Z,ee){const oe=R?Math.min(Gu,Math.round(R[0])):0,ae=R?Math.min(Gu,Math.round(R[1])):0;u.emplaceBack(l,d,Math.round(32*m),Math.round(32*b),S,P,(oe<<1)+(B?1:0),ae,16*W,16*G,256*Z,256*ee)}function NT(u,l,d){u.emplaceBack(l.x,l.y,d),u.emplaceBack(l.x,l.y,d),u.emplaceBack(l.x,l.y,d),u.emplaceBack(l.x,l.y,d)}function nJ(u){for(const l of u.sections)if(uT(l.text))return!0;return!1}class zT{constructor(l){this.layoutVertexArray=new xn,this.indexArray=new Ni,this.programConfigurations=l,this.segments=new _r,this.dynamicLayoutVertexArray=new mn,this.opacityVertexArray=new Sn,this.hasVisibleVertices=!1,this.placedSymbolArray=new Ae}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,d,m,b){this.isEmpty()||(m&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,$X.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,d),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,RX.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,tJ,!0),this.opacityVertexBuffer.itemSize=1),(m||b)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Ot("SymbolBuffers",zT);class BT{constructor(l,d,m){this.layoutVertexArray=new l,this.layoutAttributes=d,this.indexArray=new m,this.segments=new _r,this.collisionVertexArray=new pr}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,DX.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Ot("CollisionBuffers",BT);class pp{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(P=>P.id),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=yT([]),this.placementViewportMatrix=yT([]);const d=this.layers[0]._unevaluatedLayout._values;this.textSizeData=eN(this.zoom,d["text-size"]),this.iconSizeData=eN(this.zoom,d["icon-size"]);const m=this.layers[0].layout,b=m.get("symbol-sort-key"),S=m.get("symbol-z-order");this.canOverlap=jT(m,"text-overlap","text-allow-overlap")!=="never"||jT(m,"icon-overlap","icon-allow-overlap")!=="never"||m.get("text-ignore-placement")||m.get("icon-ignore-placement"),this.sortFeaturesByKey=S!=="viewport-y"&&!b.isConstant(),this.sortFeaturesByY=(S==="viewport-y"||S==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,m.get("symbol-placement")==="point"&&(this.writingModes=m.get("text-writing-mode").map(P=>a.ai[P])),this.stateDependentLayerIds=this.layers.filter(P=>P.isStateDependent()).map(P=>P.id),this.sourceID=l.sourceID}createArrays(){this.text=new zT(new tl(this.layers,this.zoom,l=>/^text/.test(l))),this.icon=new zT(new tl(this.layers,this.zoom,l=>/^icon/.test(l))),this.glyphOffsetArray=new $e,this.lineVertexArray=new Fe,this.symbolInstances=new Se,this.textAnchorOffsets=new Xe}calculateGlyphDependencies(l,d,m,b,S){for(let P=0;P<l.length;P++)if(d[l.charCodeAt(P)]=!0,(m||b)&&S){const R=Gy[l.charAt(P)];R&&(d[R.charCodeAt(0)]=!0)}}populate(l,d,m){const b=this.layers[0],S=b.layout,P=S.get("text-font"),R=S.get("text-field"),B=S.get("icon-image"),W=(R.value.kind!=="constant"||R.value.value instanceof Ki&&!R.value.value.isEmpty()||R.value.value.toString().length>0)&&(P.value.kind!=="constant"||P.value.value.length>0),G=B.value.kind!=="constant"||!!B.value.value||Object.keys(B.parameters).length>0,Z=S.get("symbol-sort-key");if(this.features=[],!W&&!G)return;const ee=d.iconDependencies,oe=d.glyphDependencies,ae=d.availableImages,he=new br(this.zoom);for(const{feature:_e,id:Te,index:Re,sourceLayerIndex:Oe}of l){const Le=b._featureFilter.needGeometry,Be=bf(_e,Le);if(!b._featureFilter.filter(he,Be,m))continue;let Je,kt;if(Le||(Be.geometry=xf(_e)),W){const St=b.getValueAndResolveTokens("text-field",Be,m,ae),wt=Ki.factory(St);nJ(wt)&&(this.hasRTLText=!0),(!this.hasRTLText||Py()==="unavailable"||this.hasRTLText&&Ko.isParsed())&&(Je=jX(wt,b,Be))}if(G){const St=b.getValueAndResolveTokens("icon-image",Be,m,ae);kt=St instanceof ji?St:ji.fromString(St)}if(!Je&&!kt)continue;const Lt=this.sortFeaturesByKey?Z.evaluate(Be,{},m):void 0;if(this.features.push({id:Te,text:Je,icon:kt,index:Re,sourceLayerIndex:Oe,geometry:Be.geometry,properties:_e.properties,type:eJ[_e.type],sortKey:Lt}),kt&&(ee[kt.name]=!0),Je){const St=P.evaluate(Be,{},m).join(","),wt=S.get("text-rotation-alignment")!=="viewport"&&S.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(a.ai.vertical)>=0;for(const gt of Je.sections)if(gt.image)ee[gt.image.name]=!0;else{const At=xy(Je.toString()),vt=gt.fontStack||St,ot=oe[vt]=oe[vt]||{};this.calculateGlyphDependencies(gt.text,ot,wt,this.allowVerticalPlacement,At)}}}S.get("symbol-placement")==="line"&&(this.features=function(_e){const Te={},Re={},Oe=[];let Le=0;function Be(St){Oe.push(_e[St]),Le++}function Je(St,wt,gt){const At=Re[St];return delete Re[St],Re[wt]=At,Oe[At].geometry[0].pop(),Oe[At].geometry[0]=Oe[At].geometry[0].concat(gt[0]),At}function kt(St,wt,gt){const At=Te[wt];return delete Te[wt],Te[St]=At,Oe[At].geometry[0].shift(),Oe[At].geometry[0]=gt[0].concat(Oe[At].geometry[0]),At}function Lt(St,wt,gt){const At=gt?wt[0][wt[0].length-1]:wt[0][0];return`${St}:${At.x}:${At.y}`}for(let St=0;St<_e.length;St++){const wt=_e[St],gt=wt.geometry,At=wt.text?wt.text.toString():null;if(!At){Be(St);continue}const vt=Lt(At,gt),ot=Lt(At,gt,!0);if(vt in Re&&ot in Te&&Re[vt]!==Te[ot]){const Yt=kt(vt,ot,gt),zt=Je(vt,ot,Oe[Yt].geometry);delete Te[vt],delete Re[ot],Re[Lt(At,Oe[zt].geometry,!0)]=zt,Oe[Yt].geometry=null}else vt in Re?Je(vt,ot,gt):ot in Te?kt(vt,ot,gt):(Be(St),Te[vt]=Le-1,Re[ot]=Le-1)}return Oe.filter(St=>St.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((_e,Te)=>_e.sortKey-Te.sortKey)}update(l,d,m){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,d,this.layers,m),this.icon.programConfigurations.updatePaintArrays(l,d,this.layers,m))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,d){const m=this.lineVertexArray.length;if(l.segment!==void 0){let b=l.dist(d[l.segment+1]),S=l.dist(d[l.segment]);const P={};for(let R=l.segment+1;R<d.length;R++)P[R]={x:d[R].x,y:d[R].y,tileUnitDistanceFromAnchor:b},R<d.length-1&&(b+=d[R+1].dist(d[R]));for(let R=l.segment||0;R>=0;R--)P[R]={x:d[R].x,y:d[R].y,tileUnitDistanceFromAnchor:S},R>0&&(S+=d[R-1].dist(d[R]));for(let R=0;R<d.length;R++){const B=P[R];this.lineVertexArray.emplaceBack(B.x,B.y,B.tileUnitDistanceFromAnchor)}}return{lineStartIndex:m,lineLength:this.lineVertexArray.length-m}}addSymbols(l,d,m,b,S,P,R,B,W,G,Z,ee){const oe=l.indexArray,ae=l.layoutVertexArray,he=l.segments.prepareSegment(4*d.length,ae,oe,this.canOverlap?P.sortKey:void 0),_e=this.glyphOffsetArray.length,Te=he.vertexLength,Re=this.allowVerticalPlacement&&R===a.ai.vertical?Math.PI/2:0,Oe=P.text&&P.text.sections;for(let Le=0;Le<d.length;Le++){const{tl:Be,tr:Je,bl:kt,br:Lt,tex:St,pixelOffsetTL:wt,pixelOffsetBR:gt,minFontScaleX:At,minFontScaleY:vt,glyphOffset:ot,isSDF:Yt,sectionIndex:zt}=d[Le],vn=he.vertexLength,wr=ot[1];O_(ae,B.x,B.y,Be.x,wr+Be.y,St.x,St.y,m,Yt,wt.x,wt.y,At,vt),O_(ae,B.x,B.y,Je.x,wr+Je.y,St.x+St.w,St.y,m,Yt,gt.x,wt.y,At,vt),O_(ae,B.x,B.y,kt.x,wr+kt.y,St.x,St.y+St.h,m,Yt,wt.x,gt.y,At,vt),O_(ae,B.x,B.y,Lt.x,wr+Lt.y,St.x+St.w,St.y+St.h,m,Yt,gt.x,gt.y,At,vt),NT(l.dynamicLayoutVertexArray,B,Re),oe.emplaceBack(vn,vn+1,vn+2),oe.emplaceBack(vn+1,vn+2,vn+3),he.vertexLength+=4,he.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ot[0]),Le!==d.length-1&&zt===d[Le+1].sectionIndex||l.programConfigurations.populatePaintArrays(ae.length,P,P.index,{},ee,Oe&&Oe[zt])}l.placedSymbolArray.emplaceBack(B.x,B.y,_e,this.glyphOffsetArray.length-_e,Te,W,G,B.segment,m?m[0]:0,m?m[1]:0,b[0],b[1],R,0,!1,0,Z)}_addCollisionDebugVertex(l,d,m,b,S,P){return d.emplaceBack(0,0),l.emplaceBack(m.x,m.y,b,S,Math.round(P.x),Math.round(P.y))}addCollisionDebugVertices(l,d,m,b,S,P,R){const B=S.segments.prepareSegment(4,S.layoutVertexArray,S.indexArray),W=B.vertexLength,G=S.layoutVertexArray,Z=S.collisionVertexArray,ee=R.anchorX,oe=R.anchorY;this._addCollisionDebugVertex(G,Z,P,ee,oe,new x(l,d)),this._addCollisionDebugVertex(G,Z,P,ee,oe,new x(m,d)),this._addCollisionDebugVertex(G,Z,P,ee,oe,new x(m,b)),this._addCollisionDebugVertex(G,Z,P,ee,oe,new x(l,b)),B.vertexLength+=4;const ae=S.indexArray;ae.emplaceBack(W,W+1),ae.emplaceBack(W+1,W+2),ae.emplaceBack(W+2,W+3),ae.emplaceBack(W+3,W),B.primitiveLength+=4}addDebugCollisionBoxes(l,d,m,b){for(let S=l;S<d;S++){const P=this.collisionBoxArray.get(S);this.addCollisionDebugVertices(P.x1,P.y1,P.x2,P.y2,b?this.textCollisionBox:this.iconCollisionBox,P.anchorPoint,m)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new BT(Yr,Nj.members,vi),this.iconCollisionBox=new BT(Yr,Nj.members,vi);for(let l=0;l<this.symbolInstances.length;l++){const d=this.symbolInstances.get(l);this.addDebugCollisionBoxes(d.textBoxStartIndex,d.textBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.iconBoxStartIndex,d.iconBoxEndIndex,d,!1),this.addDebugCollisionBoxes(d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex,d,!1)}}_deserializeCollisionBoxesForSymbol(l,d,m,b,S,P,R,B,W){const G={};for(let Z=d;Z<m;Z++){const ee=l.get(Z);G.textBox={x1:ee.x1,y1:ee.y1,x2:ee.x2,y2:ee.y2,anchorPointX:ee.anchorPointX,anchorPointY:ee.anchorPointY},G.textFeatureIndex=ee.featureIndex;break}for(let Z=b;Z<S;Z++){const ee=l.get(Z);G.verticalTextBox={x1:ee.x1,y1:ee.y1,x2:ee.x2,y2:ee.y2,anchorPointX:ee.anchorPointX,anchorPointY:ee.anchorPointY},G.verticalTextFeatureIndex=ee.featureIndex;break}for(let Z=P;Z<R;Z++){const ee=l.get(Z);G.iconBox={x1:ee.x1,y1:ee.y1,x2:ee.x2,y2:ee.y2,anchorPointX:ee.anchorPointX,anchorPointY:ee.anchorPointY},G.iconFeatureIndex=ee.featureIndex;break}for(let Z=B;Z<W;Z++){const ee=l.get(Z);G.verticalIconBox={x1:ee.x1,y1:ee.y1,x2:ee.x2,y2:ee.y2,anchorPointX:ee.anchorPointX,anchorPointY:ee.anchorPointY},G.verticalIconFeatureIndex=ee.featureIndex;break}return G}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let d=0;d<this.symbolInstances.length;d++){const m=this.symbolInstances.get(d);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,m.textBoxStartIndex,m.textBoxEndIndex,m.verticalTextBoxStartIndex,m.verticalTextBoxEndIndex,m.iconBoxStartIndex,m.iconBoxEndIndex,m.verticalIconBoxStartIndex,m.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,d){const m=l.placedSymbolArray.get(d),b=m.vertexStartIndex+4*m.numGlyphs;for(let S=m.vertexStartIndex;S<b;S+=4)l.indexArray.emplaceBack(S,S+1,S+2),l.indexArray.emplaceBack(S+1,S+2,S+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const d=Math.sin(l),m=Math.cos(l),b=[],S=[],P=[];for(let R=0;R<this.symbolInstances.length;++R){P.push(R);const B=this.symbolInstances.get(R);b.push(0|Math.round(d*B.anchorX+m*B.anchorY)),S.push(B.featureIndex)}return P.sort((R,B)=>b[R]-b[B]||S[B]-S[R]),P}addToSortKeyRanges(l,d){const m=this.sortKeyRanges[this.sortKeyRanges.length-1];m&&m.sortKey===d?m.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:d,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const d of this.symbolInstanceIndexes){const m=this.symbolInstances.get(d);this.featureSortOrder.push(m.featureIndex),[m.rightJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.leftJustifiedTextSymbolIndex].forEach((b,S,P)=>{b>=0&&P.indexOf(b)===S&&this.addIndicesForPlacedSymbol(this.text,b)}),m.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,m.verticalPlacedTextSymbolIndex),m.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.placedIconSymbolIndex),m.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let tN,nN;Ot("SymbolBucket",pp,{omit:["layers","collisionBoxArray","features","compareText"]}),pp.MAX_GLYPHS=65535,pp.addDynamicAttributes=NT;var FT={get paint(){return nN=nN||new ri({"icon-opacity":new Jt(ze.paint_symbol["icon-opacity"]),"icon-color":new Jt(ze.paint_symbol["icon-color"]),"icon-halo-color":new Jt(ze.paint_symbol["icon-halo-color"]),"icon-halo-width":new Jt(ze.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Jt(ze.paint_symbol["icon-halo-blur"]),"icon-translate":new Ft(ze.paint_symbol["icon-translate"]),"icon-translate-anchor":new Ft(ze.paint_symbol["icon-translate-anchor"]),"text-opacity":new Jt(ze.paint_symbol["text-opacity"]),"text-color":new Jt(ze.paint_symbol["text-color"],{runtimeType:Li,getOverride:u=>u.textColor,hasOverride:u=>!!u.textColor}),"text-halo-color":new Jt(ze.paint_symbol["text-halo-color"]),"text-halo-width":new Jt(ze.paint_symbol["text-halo-width"]),"text-halo-blur":new Jt(ze.paint_symbol["text-halo-blur"]),"text-translate":new Ft(ze.paint_symbol["text-translate"]),"text-translate-anchor":new Ft(ze.paint_symbol["text-translate-anchor"])})},get layout(){return tN=tN||new ri({"symbol-placement":new Ft(ze.layout_symbol["symbol-placement"]),"symbol-spacing":new Ft(ze.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Ft(ze.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Jt(ze.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Ft(ze.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Ft(ze.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Ft(ze.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Ft(ze.layout_symbol["icon-ignore-placement"]),"icon-optional":new Ft(ze.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Ft(ze.layout_symbol["icon-rotation-alignment"]),"icon-size":new Jt(ze.layout_symbol["icon-size"]),"icon-text-fit":new Ft(ze.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Ft(ze.layout_symbol["icon-text-fit-padding"]),"icon-image":new Jt(ze.layout_symbol["icon-image"]),"icon-rotate":new Jt(ze.layout_symbol["icon-rotate"]),"icon-padding":new Jt(ze.layout_symbol["icon-padding"]),"icon-keep-upright":new Ft(ze.layout_symbol["icon-keep-upright"]),"icon-offset":new Jt(ze.layout_symbol["icon-offset"]),"icon-anchor":new Jt(ze.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Ft(ze.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Ft(ze.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Ft(ze.layout_symbol["text-rotation-alignment"]),"text-field":new Jt(ze.layout_symbol["text-field"]),"text-font":new Jt(ze.layout_symbol["text-font"]),"text-size":new Jt(ze.layout_symbol["text-size"]),"text-max-width":new Jt(ze.layout_symbol["text-max-width"]),"text-line-height":new Ft(ze.layout_symbol["text-line-height"]),"text-letter-spacing":new Jt(ze.layout_symbol["text-letter-spacing"]),"text-justify":new Jt(ze.layout_symbol["text-justify"]),"text-radial-offset":new Jt(ze.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Ft(ze.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Jt(ze.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Jt(ze.layout_symbol["text-anchor"]),"text-max-angle":new Ft(ze.layout_symbol["text-max-angle"]),"text-writing-mode":new Ft(ze.layout_symbol["text-writing-mode"]),"text-rotate":new Jt(ze.layout_symbol["text-rotate"]),"text-padding":new Ft(ze.layout_symbol["text-padding"]),"text-keep-upright":new Ft(ze.layout_symbol["text-keep-upright"]),"text-transform":new Jt(ze.layout_symbol["text-transform"]),"text-offset":new Jt(ze.layout_symbol["text-offset"]),"text-allow-overlap":new Ft(ze.layout_symbol["text-allow-overlap"]),"text-overlap":new Ft(ze.layout_symbol["text-overlap"]),"text-ignore-placement":new Ft(ze.layout_symbol["text-ignore-placement"]),"text-optional":new Ft(ze.layout_symbol["text-optional"])})}};class rN{constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:di,this.defaultValue=l}evaluate(l){if(l.formattedSection){const d=this.defaultValue.property.overrides;if(d&&d.hasOverride(l.formattedSection))return d.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Ot("FormatSectionOverride",rN,{omit:["defaultValue"]});class M_ extends va{constructor(l){super(l,FT)}recalculate(l,d){if(super.recalculate(l,d),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const m=this.layout.get("text-writing-mode");if(m){const b=[];for(const S of m)b.indexOf(S)<0&&b.push(S);this.layout._values["text-writing-mode"]=b}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,d,m,b){const S=this.layout.get(l).evaluate(d,{},m,b),P=this._unevaluatedLayout._values[l];return P.isDataDriven()||Yh(P.value)||!S?S:function(R,B){return B.replace(/{([^{}]+)}/g,(W,G)=>R&&G in R?String(R[G]):"")}(d.properties,S)}createBucket(l){return new pp(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const l of FT.paint.overridableProperties){if(!M_.hasPaintOverride(this.layout,l))continue;const d=this.paint.get(l),m=new rN(d),b=new hy(m,d.property.specification);let S=null;S=d.value.kind==="constant"||d.value.kind==="source"?new py("source",b):new Zh("composite",b,d.value.zoomStops),this.paint._values[l]=new so(d.property,S,d.parameters)}}_handleOverridablePaintPropertyUpdate(l,d,m){return!(!this.layout||d.isDataDriven()||m.isDataDriven())&&M_.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,d){const m=l.get("text-field"),b=FT.paint.properties[d];let S=!1;const P=R=>{for(const B of R)if(b.overrides&&b.overrides.hasOverride(B))return void(S=!0)};if(m.value.kind==="constant"&&m.value.value instanceof Ki)P(m.value.value.sections);else if(m.value.kind==="source"){const R=W=>{S||(W instanceof vc&&Ar(W.value)===ye?P(W.value.sections):W instanceof Gh?P(W.sections):W.eachChild(R))},B=m.value;B._styleExpression&&R(B._styleExpression.expression)}return S}}let iN;var rJ={get paint(){return iN=iN||new ri({"background-color":new Ft(ze.paint_background["background-color"]),"background-pattern":new Oy(ze.paint_background["background-pattern"]),"background-opacity":new Ft(ze.paint_background["background-opacity"])})}};class iJ extends va{constructor(l){super(l,rJ)}}let oN;var oJ={get paint(){return oN=oN||new ri({"raster-opacity":new Ft(ze.paint_raster["raster-opacity"]),"raster-hue-rotate":new Ft(ze.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Ft(ze.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Ft(ze.paint_raster["raster-brightness-max"]),"raster-saturation":new Ft(ze.paint_raster["raster-saturation"]),"raster-contrast":new Ft(ze.paint_raster["raster-contrast"]),"raster-resampling":new Ft(ze.paint_raster["raster-resampling"]),"raster-fade-duration":new Ft(ze.paint_raster["raster-fade-duration"])})}};class aJ extends va{constructor(l){super(l,oJ)}}class sJ extends va{constructor(l){super(l,{}),this.onAdd=d=>{this.implementation.onAdd&&this.implementation.onAdd(d,d.painter.context.gl)},this.onRemove=d=>{this.implementation.onRemove&&this.implementation.onRemove(d,d.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class lJ{constructor(l){this._callback=l,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const UT=63710088e-1;class Yu{constructor(l,d){if(isNaN(l)||isNaN(d))throw new Error(`Invalid LngLat object: (${l}, ${d})`);if(this.lng=+l,this.lat=+d,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Yu(F(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){const d=Math.PI/180,m=this.lat*d,b=l.lat*d,S=Math.sin(m)*Math.sin(b)+Math.cos(m)*Math.cos(b)*Math.cos((l.lng-this.lng)*d);return UT*Math.acos(Math.min(S,1))}static convert(l){if(l instanceof Yu)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new Yu(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new Yu(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const aN=2*Math.PI*UT;function sN(u){return aN*Math.cos(u*Math.PI/180)}function lN(u){return(180+u)/360}function cN(u){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u*Math.PI/360)))/360}function uN(u,l){return u/sN(l)}function VT(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}class A_{constructor(l,d,m=0){this.x=+l,this.y=+d,this.z=+m}static fromLngLat(l,d=0){const m=Yu.convert(l);return new A_(lN(m.lng),cN(m.lat),uN(d,m.lat))}toLngLat(){return new Yu(360*this.x-180,VT(this.y))}toAltitude(){return this.z*sN(VT(this.y))}meterInMercatorCoordinateUnits(){return 1/aN*(l=VT(this.y),1/Math.cos(l*Math.PI/180));var l}}function dN(u,l,d){var m=2*Math.PI*6378137/256/Math.pow(2,d);return[u*m-2*Math.PI*6378137/2,l*m-2*Math.PI*6378137/2]}class WT{constructor(l,d,m){if(l<0||l>25||m<0||m>=Math.pow(2,l)||d<0||d>=Math.pow(2,l))throw new Error(`x=${d}, y=${m}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=d,this.y=m,this.key=Xy(0,l,l,d,m)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,d,m){const b=(P=this.y,R=this.z,B=dN(256*(S=this.x),256*(P=Math.pow(2,R)-P-1),R),W=dN(256*(S+1),256*(P+1),R),B[0]+","+B[1]+","+W[0]+","+W[1]);var S,P,R,B,W;const G=function(Z,ee,oe){let ae,he="";for(let _e=Z;_e>0;_e--)ae=1<<_e-1,he+=(ee&ae?1:0)+(oe&ae?2:0);return he}(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(m==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,d>1?"@2x":"").replace(/{quadkey}/g,G).replace(/{bbox-epsg-3857}/g,b)}isChildOf(l){const d=this.z-l.z;return d>0&&l.x===this.x>>d&&l.y===this.y>>d}getTilePoint(l){const d=Math.pow(2,this.z);return new x((l.x*d-this.x)*fi,(l.y*d-this.y)*fi)}toString(){return`${this.z}/${this.x}/${this.y}`}}class fN{constructor(l,d){this.wrap=l,this.canonical=d,this.key=Xy(l,d.z,d.z,d.x,d.y)}}class ja{constructor(l,d,m,b,S){if(l<m)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${m}`);this.overscaledZ=l,this.wrap=d,this.canonical=new WT(m,+b,+S),this.key=Xy(d,l,m,b,S)}clone(){return new ja(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const d=this.canonical.z-l;return l>this.canonical.z?new ja(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ja(l,this.wrap,l,this.canonical.x>>d,this.canonical.y>>d)}calculateScaledKey(l,d){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const m=this.canonical.z-l;return l>this.canonical.z?Xy(this.wrap*+d,l,this.canonical.z,this.canonical.x,this.canonical.y):Xy(this.wrap*+d,l,l,this.canonical.x>>m,this.canonical.y>>m)}isChildOf(l){if(l.wrap!==this.wrap)return!1;const d=this.canonical.z-l.canonical.z;return l.overscaledZ===0||l.overscaledZ<this.overscaledZ&&l.canonical.x===this.canonical.x>>d&&l.canonical.y===this.canonical.y>>d}children(l){if(this.overscaledZ>=l)return[new ja(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const d=this.canonical.z+1,m=2*this.canonical.x,b=2*this.canonical.y;return[new ja(d,this.wrap,d,m,b),new ja(d,this.wrap,d,m+1,b),new ja(d,this.wrap,d,m,b+1),new ja(d,this.wrap,d,m+1,b+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new ja(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new ja(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new fN(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new A_(l.x-this.wrap,l.y))}}function Xy(u,l,d,m,b){(u*=2)<0&&(u=-1*u-1);const S=1<<d;return(S*S*u+S*b+m).toString(36)+d.toString(36)+l.toString(36)}Ot("CanonicalTileID",WT),Ot("OverscaledTileID",ja,{omit:["posMatrix"]});class hN{constructor(l,d,m,b=1,S=1,P=1,R=0){if(this.uid=l,d.height!==d.width)throw new RangeError("DEM tiles must be square");if(m&&!["mapbox","terrarium","custom"].includes(m))return void fe(`"${m}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=d.height;const B=this.dim=d.height-2;switch(this.data=new Uint32Array(d.data.buffer),m){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=b,this.greenFactor=S,this.blueFactor=P,this.baseShift=R;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let W=0;W<B;W++)this.data[this._idx(-1,W)]=this.data[this._idx(0,W)],this.data[this._idx(B,W)]=this.data[this._idx(B-1,W)],this.data[this._idx(W,-1)]=this.data[this._idx(W,0)],this.data[this._idx(W,B)]=this.data[this._idx(W,B-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(B,-1)]=this.data[this._idx(B-1,0)],this.data[this._idx(-1,B)]=this.data[this._idx(0,B-1)],this.data[this._idx(B,B)]=this.data[this._idx(B-1,B-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let W=0;W<B;W++)for(let G=0;G<B;G++){const Z=this.get(W,G);Z>this.max&&(this.max=Z),Z<this.min&&(this.min=Z)}}get(l,d){const m=new Uint8Array(this.data.buffer),b=4*this._idx(l,d);return this.unpack(m[b],m[b+1],m[b+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(l,d){if(l<-1||l>=this.dim+1||d<-1||d>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(d+1)*this.stride+(l+1)}unpack(l,d,m){return l*this.redFactor+d*this.greenFactor+m*this.blueFactor-this.baseShift}getPixels(){return new La({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,d,m){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let b=d*this.dim,S=d*this.dim+this.dim,P=m*this.dim,R=m*this.dim+this.dim;switch(d){case-1:b=S-1;break;case 1:S=b+1}switch(m){case-1:P=R-1;break;case 1:R=P+1}const B=-d*this.dim,W=-m*this.dim;for(let G=P;G<R;G++)for(let Z=b;Z<S;Z++)this.data[this._idx(Z,G)]=l.data[this._idx(Z+B,G+W)]}}Ot("DEMData",hN);class pN{constructor(l){this._stringToNumber={},this._numberToString=[];for(let d=0;d<l.length;d++){const m=l[d];this._stringToNumber[m]=d,this._numberToString[d]=m}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class mN{constructor(l,d,m,b,S){this.type="Feature",this._vectorTileFeature=l,l._z=d,l._x=m,l._y=b,this.properties=l.properties,this.id=S}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(l){this._geometry=l}toJSON(){const l={geometry:this.geometry};for(const d in this)d!=="_geometry"&&d!=="_vectorTileFeature"&&(l[d]=this[d]);return l}}class gN{constructor(l,d){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new Bu(fi,16,0),this.grid3D=new Bu(fi,16,0),this.featureIndexArray=new tt,this.promoteId=d}insert(l,d,m,b,S,P){const R=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(m,b,S);const B=P?this.grid3D:this.grid;for(let W=0;W<d.length;W++){const G=d[W],Z=[1/0,1/0,-1/0,-1/0];for(let ee=0;ee<G.length;ee++){const oe=G[ee];Z[0]=Math.min(Z[0],oe.x),Z[1]=Math.min(Z[1],oe.y),Z[2]=Math.max(Z[2],oe.x),Z[3]=Math.max(Z[3],oe.y)}Z[0]<fi&&Z[1]<fi&&Z[2]>=0&&Z[3]>=0&&B.insert(R,Z[0],Z[1],Z[2],Z[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new qu.VectorTile(new IT(this.rawTileData)).layers,this.sourceLayerCoder=new pN(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(l,d,m,b){this.loadVTLayers();const S=l.params||{},P=fi/l.tileSize/l.scale,R=gy(S.filter),B=l.queryGeometry,W=l.queryPadding*P,G=vN(B),Z=this.grid.query(G.minX-W,G.minY-W,G.maxX+W,G.maxY+W),ee=vN(l.cameraQueryGeometry),oe=this.grid3D.query(ee.minX-W,ee.minY-W,ee.maxX+W,ee.maxY+W,(_e,Te,Re,Oe)=>function(Le,Be,Je,kt,Lt){for(const wt of Le)if(Be<=wt.x&&Je<=wt.y&&kt>=wt.x&&Lt>=wt.y)return!0;const St=[new x(Be,Je),new x(Be,Lt),new x(kt,Lt),new x(kt,Je)];if(Le.length>2){for(const wt of St)if(sp(Le,wt))return!0}for(let wt=0;wt<Le.length-1;wt++)if(BZ(Le[wt],Le[wt+1],St))return!0;return!1}(l.cameraQueryGeometry,_e-W,Te-W,Re+W,Oe+W));for(const _e of oe)Z.push(_e);Z.sort(cJ);const ae={};let he;for(let _e=0;_e<Z.length;_e++){const Te=Z[_e];if(Te===he)continue;he=Te;const Re=this.featureIndexArray.get(Te);let Oe=null;this.loadMatchingFeature(ae,Re.bucketIndex,Re.sourceLayerIndex,Re.featureIndex,R,S.layers,S.availableImages,d,m,b,(Le,Be,Je)=>(Oe||(Oe=xf(Le)),Be.queryIntersectsFeature(B,Le,Je,Oe,this.z,l.transform,P,l.pixelPosMatrix)))}return ae}loadMatchingFeature(l,d,m,b,S,P,R,B,W,G,Z){const ee=this.bucketLayerIDs[d];if(P&&!function(_e,Te){for(let Re=0;Re<_e.length;Re++)if(Te.indexOf(_e[Re])>=0)return!0;return!1}(P,ee))return;const oe=this.sourceLayerCoder.decode(m),ae=this.vtLayers[oe].feature(b);if(S.needGeometry){const _e=bf(ae,!0);if(!S.filter(new br(this.tileID.overscaledZ),_e,this.tileID.canonical))return}else if(!S.filter(new br(this.tileID.overscaledZ),ae))return;const he=this.getId(ae,oe);for(let _e=0;_e<ee.length;_e++){const Te=ee[_e];if(P&&P.indexOf(Te)<0)continue;const Re=B[Te];if(!Re)continue;let Oe={};he&&G&&(Oe=G.getState(Re.sourceLayer||"_geojsonTileLayer",he));const Le=q({},W[Te]);Le.paint=yN(Le.paint,Re.paint,ae,Oe,R),Le.layout=yN(Le.layout,Re.layout,ae,Oe,R);const Be=!Z||Z(ae,Re,Oe);if(!Be)continue;const Je=new mN(ae,this.z,this.x,this.y,he);Je.layer=Le;let kt=l[Te];kt===void 0&&(kt=l[Te]=[]),kt.push({featureIndex:b,feature:Je,intersectionZ:Be})}}lookupSymbolFeatures(l,d,m,b,S,P,R,B){const W={};this.loadVTLayers();const G=gy(S);for(const Z of l)this.loadMatchingFeature(W,m,b,Z,G,P,R,B,d);return W}hasLayer(l){for(const d of this.bucketLayerIDs)for(const m of d)if(l===m)return!0;return!1}getId(l,d){let m=l.id;return this.promoteId&&(m=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[d]],typeof m=="boolean"&&(m=Number(m))),m}}function yN(u,l,d,m,b){return J(u,(S,P)=>{const R=l instanceof op?l.get(P):null;return R&&R.evaluate?R.evaluate(d,m,b):R})}function vN(u){let l=1/0,d=1/0,m=-1/0,b=-1/0;for(const S of u)l=Math.min(l,S.x),d=Math.min(d,S.y),m=Math.max(m,S.x),b=Math.max(b,S.y);return{minX:l,minY:d,maxX:m,maxY:b}}function cJ(u,l){return l-u}function xN(u,l,d,m,b){const S=[];for(let P=0;P<u.length;P++){const R=u[P];let B;for(let W=0;W<R.length-1;W++){let G=R[W],Z=R[W+1];G.x<l&&Z.x<l||(G.x<l?G=new x(l,G.y+(l-G.x)/(Z.x-G.x)*(Z.y-G.y))._round():Z.x<l&&(Z=new x(l,G.y+(l-G.x)/(Z.x-G.x)*(Z.y-G.y))._round()),G.y<d&&Z.y<d||(G.y<d?G=new x(G.x+(d-G.y)/(Z.y-G.y)*(Z.x-G.x),d)._round():Z.y<d&&(Z=new x(G.x+(d-G.y)/(Z.y-G.y)*(Z.x-G.x),d)._round()),G.x>=m&&Z.x>=m||(G.x>=m?G=new x(m,G.y+(m-G.x)/(Z.x-G.x)*(Z.y-G.y))._round():Z.x>=m&&(Z=new x(m,G.y+(m-G.x)/(Z.x-G.x)*(Z.y-G.y))._round()),G.y>=b&&Z.y>=b||(G.y>=b?G=new x(G.x+(b-G.y)/(Z.y-G.y)*(Z.x-G.x),b)._round():Z.y>=b&&(Z=new x(G.x+(b-G.y)/(Z.y-G.y)*(Z.x-G.x),b)._round()),B&&G.equals(B[B.length-1])||(B=[G],S.push(B)),B.push(Z)))))}}return S}Ot("FeatureIndex",gN,{omit:["rawTileData","sourceLayerCoder"]});class Ku extends x{constructor(l,d,m,b){super(l,d),this.angle=m,b!==void 0&&(this.segment=b)}clone(){return new Ku(this.x,this.y,this.angle,this.segment)}}function bN(u,l,d,m,b){if(l.segment===void 0||d===0)return!0;let S=l,P=l.segment+1,R=0;for(;R>-d/2;){if(P--,P<0)return!1;R-=u[P].dist(S),S=u[P]}R+=u[P].dist(u[P+1]),P++;const B=[];let W=0;for(;R<d/2;){const G=u[P],Z=u[P+1];if(!Z)return!1;let ee=u[P-1].angleTo(G)-G.angleTo(Z);for(ee=Math.abs((ee+3*Math.PI)%(2*Math.PI)-Math.PI),B.push({distance:R,angleDelta:ee}),W+=ee;R-B[0].distance>m;)W-=B.shift().angleDelta;if(W>b)return!1;P++,R+=G.dist(Z)}return!0}function _N(u){let l=0;for(let d=0;d<u.length-1;d++)l+=u[d].dist(u[d+1]);return l}function wN(u,l,d){return u?.6*l*d:0}function SN(u,l){return Math.max(u?u.right-u.left:0,l?l.right-l.left:0)}function uJ(u,l,d,m,b,S){const P=wN(d,b,S),R=SN(d,m)*S;let B=0;const W=_N(u)/2;for(let G=0;G<u.length-1;G++){const Z=u[G],ee=u[G+1],oe=Z.dist(ee);if(B+oe>W){const ae=(W-B)/oe,he=Ho.number(Z.x,ee.x,ae),_e=Ho.number(Z.y,ee.y,ae),Te=new Ku(he,_e,ee.angleTo(Z),G);return Te._round(),!P||bN(u,Te,R,P,l)?Te:void 0}B+=oe}}function dJ(u,l,d,m,b,S,P,R,B){const W=wN(m,S,P),G=SN(m,b),Z=G*P,ee=u[0].x===0||u[0].x===B||u[0].y===0||u[0].y===B;return l-Z<l/4&&(l=Z+l/4),CN(u,ee?l/2*R%l:(G/2+2*S)*P*R%l,l,W,d,Z,ee,!1,B)}function CN(u,l,d,m,b,S,P,R,B){const W=S/2,G=_N(u);let Z=0,ee=l-d,oe=[];for(let ae=0;ae<u.length-1;ae++){const he=u[ae],_e=u[ae+1],Te=he.dist(_e),Re=_e.angleTo(he);for(;ee+d<Z+Te;){ee+=d;const Oe=(ee-Z)/Te,Le=Ho.number(he.x,_e.x,Oe),Be=Ho.number(he.y,_e.y,Oe);if(Le>=0&&Le<B&&Be>=0&&Be<B&&ee-W>=0&&ee+W<=G){const Je=new Ku(Le,Be,Re,ae);Je._round(),m&&!bN(u,Je,S,m,b)||oe.push(Je)}}Z+=Te}return R||oe.length||P||(oe=CN(u,Z/2,d,m,b,S,P,!0,B)),oe}Ot("Anchor",Ku);const mp=Xo;function kN(u,l,d,m){const b=[],S=u.image,P=S.pixelRatio,R=S.paddedRect.w-2*mp,B=S.paddedRect.h-2*mp,W=u.right-u.left,G=u.bottom-u.top,Z=S.stretchX||[[0,R]],ee=S.stretchY||[[0,B]],oe=(gt,At)=>gt+At[1]-At[0],ae=Z.reduce(oe,0),he=ee.reduce(oe,0),_e=R-ae,Te=B-he;let Re=0,Oe=ae,Le=0,Be=he,Je=0,kt=_e,Lt=0,St=Te;if(S.content&&m){const gt=S.content;Re=I_(Z,0,gt[0]),Le=I_(ee,0,gt[1]),Oe=I_(Z,gt[0],gt[2]),Be=I_(ee,gt[1],gt[3]),Je=gt[0]-Re,Lt=gt[1]-Le,kt=gt[2]-gt[0]-Oe,St=gt[3]-gt[1]-Be}const wt=(gt,At,vt,ot)=>{const Yt=$_(gt.stretch-Re,Oe,W,u.left),zt=R_(gt.fixed-Je,kt,gt.stretch,ae),vn=$_(At.stretch-Le,Be,G,u.top),wr=R_(At.fixed-Lt,St,At.stretch,he),Er=$_(vt.stretch-Re,Oe,W,u.left),_i=R_(vt.fixed-Je,kt,vt.stretch,ae),ba=$_(ot.stretch-Le,Be,G,u.top),ko=R_(ot.fixed-Lt,St,ot.stretch,he),hi=new x(Yt,vn),Bi=new x(Er,vn),Ji=new x(Er,ba),To=new x(Yt,ba),Po=new x(zt/P,wr/P),wi=new x(_i/P,ko/P),Si=l*Math.PI/180;if(Si){const uo=Math.sin(Si),Jo=Math.cos(Si),Qo=[Jo,-uo,uo,Jo];hi._matMult(Qo),Bi._matMult(Qo),To._matMult(Qo),Ji._matMult(Qo)}const co=gt.stretch+gt.fixed,Eo=At.stretch+At.fixed;return{tl:hi,tr:Bi,bl:To,br:Ji,tex:{x:S.paddedRect.x+mp+co,y:S.paddedRect.y+mp+Eo,w:vt.stretch+vt.fixed-co,h:ot.stretch+ot.fixed-Eo},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Po,pixelOffsetBR:wi,minFontScaleX:kt/P/W,minFontScaleY:St/P/G,isSDF:d}};if(m&&(S.stretchX||S.stretchY)){const gt=TN(Z,_e,ae),At=TN(ee,Te,he);for(let vt=0;vt<gt.length-1;vt++){const ot=gt[vt],Yt=gt[vt+1];for(let zt=0;zt<At.length-1;zt++)b.push(wt(ot,At[zt],Yt,At[zt+1]))}}else b.push(wt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:R+1},{fixed:0,stretch:B+1}));return b}function I_(u,l,d){let m=0;for(const b of u)m+=Math.max(l,Math.min(d,b[1]))-Math.max(l,Math.min(d,b[0]));return m}function TN(u,l,d){const m=[{fixed:-mp,stretch:0}];for(const[b,S]of u){const P=m[m.length-1];m.push({fixed:b-P.stretch,stretch:P.stretch}),m.push({fixed:b-P.stretch,stretch:P.stretch+(S-b)})}return m.push({fixed:l+mp,stretch:d}),m}function $_(u,l,d,m){return u/l*d+m}function R_(u,l,d,m){return u-l*d/m}class D_{constructor(l,d,m,b,S,P,R,B,W,G){if(this.boxStartIndex=l.length,W){let Z=P.top,ee=P.bottom;const oe=P.collisionPadding;oe&&(Z-=oe[1],ee+=oe[3]);let ae=ee-Z;ae>0&&(ae=Math.max(10,ae),this.circleDiameter=ae)}else{let Z=P.top*R-B[0],ee=P.bottom*R+B[2],oe=P.left*R-B[3],ae=P.right*R+B[1];const he=P.collisionPadding;if(he&&(oe-=he[0]*R,Z-=he[1]*R,ae+=he[2]*R,ee+=he[3]*R),G){const _e=new x(oe,Z),Te=new x(ae,Z),Re=new x(oe,ee),Oe=new x(ae,ee),Le=G*Math.PI/180;_e._rotate(Le),Te._rotate(Le),Re._rotate(Le),Oe._rotate(Le),oe=Math.min(_e.x,Te.x,Re.x,Oe.x),ae=Math.max(_e.x,Te.x,Re.x,Oe.x),Z=Math.min(_e.y,Te.y,Re.y,Oe.y),ee=Math.max(_e.y,Te.y,Re.y,Oe.y)}l.emplaceBack(d.x,d.y,oe,Z,ae,ee,m,b,S)}this.boxEndIndex=l.length}}class fJ{constructor(l=[],d=hJ){if(this.data=l,this.length=this.data.length,this.compare=d,this.length>0)for(let m=(this.length>>1)-1;m>=0;m--)this._down(m)}push(l){this.data.push(l),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const l=this.data[0],d=this.data.pop();return this.length--,this.length>0&&(this.data[0]=d,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:d,compare:m}=this,b=d[l];for(;l>0;){const S=l-1>>1,P=d[S];if(m(b,P)>=0)break;d[l]=P,l=S}d[l]=b}_down(l){const{data:d,compare:m}=this,b=this.length>>1,S=d[l];for(;l<b;){let P=1+(l<<1),R=d[P];const B=P+1;if(B<this.length&&m(d[B],R)<0&&(P=B,R=d[B]),m(R,S)>=0)break;d[l]=R,l=P}d[l]=S}}function hJ(u,l){return u<l?-1:u>l?1:0}function pJ(u,l=1,d=!1){let m=1/0,b=1/0,S=-1/0,P=-1/0;const R=u[0];for(let oe=0;oe<R.length;oe++){const ae=R[oe];(!oe||ae.x<m)&&(m=ae.x),(!oe||ae.y<b)&&(b=ae.y),(!oe||ae.x>S)&&(S=ae.x),(!oe||ae.y>P)&&(P=ae.y)}const B=Math.min(S-m,P-b);let W=B/2;const G=new fJ([],mJ);if(B===0)return new x(m,b);for(let oe=m;oe<S;oe+=B)for(let ae=b;ae<P;ae+=B)G.push(new gp(oe+W,ae+W,W,u));let Z=function(oe){let ae=0,he=0,_e=0;const Te=oe[0];for(let Re=0,Oe=Te.length,Le=Oe-1;Re<Oe;Le=Re++){const Be=Te[Re],Je=Te[Le],kt=Be.x*Je.y-Je.x*Be.y;he+=(Be.x+Je.x)*kt,_e+=(Be.y+Je.y)*kt,ae+=3*kt}return new gp(he/ae,_e/ae,0,oe)}(u),ee=G.length;for(;G.length;){const oe=G.pop();(oe.d>Z.d||!Z.d)&&(Z=oe,d&&console.log("found best %d after %d probes",Math.round(1e4*oe.d)/1e4,ee)),oe.max-Z.d<=l||(W=oe.h/2,G.push(new gp(oe.p.x-W,oe.p.y-W,W,u)),G.push(new gp(oe.p.x+W,oe.p.y-W,W,u)),G.push(new gp(oe.p.x-W,oe.p.y+W,W,u)),G.push(new gp(oe.p.x+W,oe.p.y+W,W,u)),ee+=4)}return d&&(console.log(`num probes: ${ee}`),console.log(`best distance: ${Z.d}`)),Z.p}function mJ(u,l){return l.max-u.max}function gp(u,l,d,m){this.p=new x(u,l),this.h=d,this.d=function(b,S){let P=!1,R=1/0;for(let B=0;B<S.length;B++){const W=S[B];for(let G=0,Z=W.length,ee=Z-1;G<Z;ee=G++){const oe=W[G],ae=W[ee];oe.y>b.y!=ae.y>b.y&&b.x<(ae.x-oe.x)*(b.y-oe.y)/(ae.y-oe.y)+oe.x&&(P=!P),R=Math.min(R,cj(b,oe,ae))}}return(P?1:-1)*Math.sqrt(R)}(this.p,m),this.max=this.d+this.h*Math.SQRT2}var Xi;a.aq=void 0,(Xi=a.aq||(a.aq={}))[Xi.center=1]="center",Xi[Xi.left=2]="left",Xi[Xi.right=3]="right",Xi[Xi.top=4]="top",Xi[Xi.bottom=5]="bottom",Xi[Xi["top-left"]=6]="top-left",Xi[Xi["top-right"]=7]="top-right",Xi[Xi["bottom-left"]=8]="bottom-left",Xi[Xi["bottom-right"]=9]="bottom-right";const Zu=7,qT=Number.POSITIVE_INFINITY;function PN(u,l){return l[1]!==qT?function(d,m,b){let S=0,P=0;switch(m=Math.abs(m),b=Math.abs(b),d){case"top-right":case"top-left":case"top":P=b-Zu;break;case"bottom-right":case"bottom-left":case"bottom":P=-b+Zu}switch(d){case"top-right":case"bottom-right":case"right":S=-m;break;case"top-left":case"bottom-left":case"left":S=m}return[S,P]}(u,l[0],l[1]):function(d,m){let b=0,S=0;m<0&&(m=0);const P=m/Math.SQRT2;switch(d){case"top-right":case"top-left":S=P-Zu;break;case"bottom-right":case"bottom-left":S=-P+Zu;break;case"bottom":S=-m+Zu;break;case"top":S=m-Zu}switch(d){case"top-right":case"bottom-right":b=-P;break;case"top-left":case"bottom-left":b=P;break;case"left":b=m;break;case"right":b=-m}return[b,S]}(u,l[0])}function EN(u,l,d){var m;const b=u.layout,S=(m=b.get("text-variable-anchor-offset"))===null||m===void 0?void 0:m.evaluate(l,{},d);if(S){const R=S.values,B=[];for(let W=0;W<R.length;W+=2){const G=B[W]=R[W],Z=R[W+1].map(ee=>ee*bi);G.startsWith("top")?Z[1]-=Zu:G.startsWith("bottom")&&(Z[1]+=Zu),B[W+1]=Z}return new pa(B)}const P=b.get("text-variable-anchor");if(P){let R;R=u._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[b.get("text-radial-offset").evaluate(l,{},d)*bi,qT]:b.get("text-offset").evaluate(l,{},d).map(W=>W*bi);const B=[];for(const W of P)B.push(W,PN(W,R));return new pa(B)}return null}function HT(u){switch(u){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function gJ(u,l,d,m,b,S,P,R,B,W,G){let Z=S.textMaxSize.evaluate(l,{});Z===void 0&&(Z=P);const ee=u.layers[0].layout,oe=ee.get("icon-offset").evaluate(l,{},G),ae=MN(d.horizontal),he=P/24,_e=u.tilePixelRatio*he,Te=u.tilePixelRatio*Z/24,Re=u.tilePixelRatio*R,Oe=u.tilePixelRatio*ee.get("symbol-spacing"),Le=ee.get("text-padding")*u.tilePixelRatio,Be=function(ot,Yt,zt,vn=1){const wr=ot.get("icon-padding").evaluate(Yt,{},zt),Er=wr&&wr.values;return[Er[0]*vn,Er[1]*vn,Er[2]*vn,Er[3]*vn]}(ee,l,G,u.tilePixelRatio),Je=ee.get("text-max-angle")/180*Math.PI,kt=ee.get("text-rotation-alignment")!=="viewport"&&ee.get("symbol-placement")!=="point",Lt=ee.get("icon-rotation-alignment")==="map"&&ee.get("symbol-placement")!=="point",St=ee.get("symbol-placement"),wt=Oe/2,gt=ee.get("icon-text-fit");let At;m&&gt!=="none"&&(u.allowVerticalPlacement&&d.vertical&&(At=Qj(m,d.vertical,gt,ee.get("icon-text-fit-padding"),oe,he)),ae&&(m=Qj(m,ae,gt,ee.get("icon-text-fit-padding"),oe,he)));const vt=(ot,Yt)=>{Yt.x<0||Yt.x>=fi||Yt.y<0||Yt.y>=fi||function(zt,vn,wr,Er,_i,ba,ko,hi,Bi,Ji,To,Po,wi,Si,co,Eo,uo,Jo,Qo,Ci,Pn,fo,Qi,ki,ms){const nl=zt.addToLineVertexArray(vn,wr);let rl,Ac,gs,Na,ea=0,Ic=0,ev=0,RN=0,eP=-1,tP=-1;const $c={};let DN=Pc("");if(zt.allowVerticalPlacement&&Er.vertical){const ho=hi.layout.get("text-rotate").evaluate(Pn,{},ki)+90;gs=new D_(Bi,vn,Ji,To,Po,Er.vertical,wi,Si,co,ho),ko&&(Na=new D_(Bi,vn,Ji,To,Po,ko,uo,Jo,co,ho))}if(_i){const ho=hi.layout.get("icon-rotate").evaluate(Pn,{}),za=hi.layout.get("icon-text-fit")!=="none",wf=kN(_i,ho,Qi,za),ol=ko?kN(ko,ho,Qi,za):void 0;Ac=new D_(Bi,vn,Ji,To,Po,_i,uo,Jo,!1,ho),ea=4*wf.length;const Sf=zt.iconSizeData;let Bl=null;Sf.kind==="source"?(Bl=[zl*hi.layout.get("icon-size").evaluate(Pn,{})],Bl[0]>Gu&&fe(`${zt.layerIds[0]}: Value for "icon-size" is >= ${Zy}. Reduce your "icon-size".`)):Sf.kind==="composite"&&(Bl=[zl*fo.compositeIconSizes[0].evaluate(Pn,{},ki),zl*fo.compositeIconSizes[1].evaluate(Pn,{},ki)],(Bl[0]>Gu||Bl[1]>Gu)&&fe(`${zt.layerIds[0]}: Value for "icon-size" is >= ${Zy}. Reduce your "icon-size".`)),zt.addSymbols(zt.icon,wf,Bl,Ci,Qo,Pn,a.ai.none,vn,nl.lineStartIndex,nl.lineLength,-1,ki),eP=zt.icon.placedSymbolArray.length-1,ol&&(Ic=4*ol.length,zt.addSymbols(zt.icon,ol,Bl,Ci,Qo,Pn,a.ai.vertical,vn,nl.lineStartIndex,nl.lineLength,-1,ki),tP=zt.icon.placedSymbolArray.length-1)}const LN=Object.keys(Er.horizontal);for(const ho of LN){const za=Er.horizontal[ho];if(!rl){DN=Pc(za.text);const ol=hi.layout.get("text-rotate").evaluate(Pn,{},ki);rl=new D_(Bi,vn,Ji,To,Po,za,wi,Si,co,ol)}const wf=za.positionedLines.length===1;if(ev+=ON(zt,vn,za,ba,hi,co,Pn,Eo,nl,Er.vertical?a.ai.horizontal:a.ai.horizontalOnly,wf?LN:[ho],$c,eP,fo,ki),wf)break}Er.vertical&&(RN+=ON(zt,vn,Er.vertical,ba,hi,co,Pn,Eo,nl,a.ai.vertical,["vertical"],$c,tP,fo,ki));const xJ=rl?rl.boxStartIndex:zt.collisionBoxArray.length,bJ=rl?rl.boxEndIndex:zt.collisionBoxArray.length,_J=gs?gs.boxStartIndex:zt.collisionBoxArray.length,wJ=gs?gs.boxEndIndex:zt.collisionBoxArray.length,SJ=Ac?Ac.boxStartIndex:zt.collisionBoxArray.length,CJ=Ac?Ac.boxEndIndex:zt.collisionBoxArray.length,kJ=Na?Na.boxStartIndex:zt.collisionBoxArray.length,TJ=Na?Na.boxEndIndex:zt.collisionBoxArray.length;let il=-1;const j_=(ho,za)=>ho&&ho.circleDiameter?Math.max(ho.circleDiameter,za):za;il=j_(rl,il),il=j_(gs,il),il=j_(Ac,il),il=j_(Na,il);const jN=il>-1?1:0;jN&&(il*=ms/bi),zt.glyphOffsetArray.length>=pp.MAX_GLYPHS&&fe("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Pn.sortKey!==void 0&&zt.addToSortKeyRanges(zt.symbolInstances.length,Pn.sortKey);const PJ=EN(hi,Pn,ki),[EJ,OJ]=function(ho,za){const wf=ho.length,ol=za==null?void 0:za.values;if((ol==null?void 0:ol.length)>0)for(let Sf=0;Sf<ol.length;Sf+=2){const Bl=ol[Sf+1];ho.emplaceBack(a.aq[ol[Sf]],Bl[0],Bl[1])}return[wf,ho.length]}(zt.textAnchorOffsets,PJ);zt.symbolInstances.emplaceBack(vn.x,vn.y,$c.right>=0?$c.right:-1,$c.center>=0?$c.center:-1,$c.left>=0?$c.left:-1,$c.vertical||-1,eP,tP,DN,xJ,bJ,_J,wJ,SJ,CJ,kJ,TJ,Ji,ev,RN,ea,Ic,jN,0,wi,il,EJ,OJ)}(u,Yt,ot,d,m,b,At,u.layers[0],u.collisionBoxArray,l.index,l.sourceLayerIndex,u.index,_e,[Le,Le,Le,Le],kt,B,Re,Be,Lt,oe,l,S,W,G,P)};if(St==="line")for(const ot of xN(l.geometry,0,0,fi,fi)){const Yt=dJ(ot,Oe,Je,d.vertical||ae,m,24,Te,u.overscaling,fi);for(const zt of Yt)ae&&yJ(u,ae.text,wt,zt)||vt(ot,zt)}else if(St==="line-center"){for(const ot of l.geometry)if(ot.length>1){const Yt=uJ(ot,Je,d.vertical||ae,m,24,Te);Yt&&vt(ot,Yt)}}else if(l.type==="Polygon")for(const ot of CT(l.geometry,0)){const Yt=pJ(ot,16);vt(ot[0],new Ku(Yt.x,Yt.y,0))}else if(l.type==="LineString")for(const ot of l.geometry)vt(ot,new Ku(ot[0].x,ot[0].y,0));else if(l.type==="Point")for(const ot of l.geometry)for(const Yt of ot)vt([Yt],new Ku(Yt.x,Yt.y,0))}function ON(u,l,d,m,b,S,P,R,B,W,G,Z,ee,oe,ae){const he=function(Re,Oe,Le,Be,Je,kt,Lt,St){const wt=Be.layout.get("text-rotate").evaluate(kt,{})*Math.PI/180,gt=[];for(const At of Oe.positionedLines)for(const vt of At.positionedGlyphs){if(!vt.rect)continue;const ot=vt.rect||{};let Yt=Hj+1,zt=!0,vn=1,wr=0;const Er=(Je||St)&&vt.vertical,_i=vt.metrics.advance*vt.scale/2;if(St&&Oe.verticalizable&&(wr=At.lineOffset/2-(vt.imageName?-(bi-vt.metrics.width*vt.scale)/2:(vt.scale-1)*bi)),vt.imageName){const Ci=Lt[vt.imageName];zt=Ci.sdf,vn=Ci.pixelRatio,Yt=Xo/vn}const ba=Je?[vt.x+_i,vt.y]:[0,0];let ko=Je?[0,0]:[vt.x+_i+Le[0],vt.y+Le[1]-wr],hi=[0,0];Er&&(hi=ko,ko=[0,0]);const Bi=vt.metrics.isDoubleResolution?2:1,Ji=(vt.metrics.left-Yt)*vt.scale-_i+ko[0],To=(-vt.metrics.top-Yt)*vt.scale+ko[1],Po=Ji+ot.w/Bi*vt.scale/vn,wi=To+ot.h/Bi*vt.scale/vn,Si=new x(Ji,To),co=new x(Po,To),Eo=new x(Ji,wi),uo=new x(Po,wi);if(Er){const Ci=new x(-_i,_i-Yy),Pn=-Math.PI/2,fo=bi/2-_i,Qi=new x(5-Yy-fo,-(vt.imageName?fo:0)),ki=new x(...hi);Si._rotateAround(Pn,Ci)._add(Qi)._add(ki),co._rotateAround(Pn,Ci)._add(Qi)._add(ki),Eo._rotateAround(Pn,Ci)._add(Qi)._add(ki),uo._rotateAround(Pn,Ci)._add(Qi)._add(ki)}if(wt){const Ci=Math.sin(wt),Pn=Math.cos(wt),fo=[Pn,-Ci,Ci,Pn];Si._matMult(fo),co._matMult(fo),Eo._matMult(fo),uo._matMult(fo)}const Jo=new x(0,0),Qo=new x(0,0);gt.push({tl:Si,tr:co,bl:Eo,br:uo,tex:ot,writingMode:Oe.writingMode,glyphOffset:ba,sectionIndex:vt.sectionIndex,isSDF:zt,pixelOffsetTL:Jo,pixelOffsetBR:Qo,minFontScaleX:0,minFontScaleY:0})}return gt}(0,d,R,b,S,P,m,u.allowVerticalPlacement),_e=u.textSizeData;let Te=null;_e.kind==="source"?(Te=[zl*b.layout.get("text-size").evaluate(P,{})],Te[0]>Gu&&fe(`${u.layerIds[0]}: Value for "text-size" is >= ${Zy}. Reduce your "text-size".`)):_e.kind==="composite"&&(Te=[zl*oe.compositeTextSizes[0].evaluate(P,{},ae),zl*oe.compositeTextSizes[1].evaluate(P,{},ae)],(Te[0]>Gu||Te[1]>Gu)&&fe(`${u.layerIds[0]}: Value for "text-size" is >= ${Zy}. Reduce your "text-size".`)),u.addSymbols(u.text,he,Te,R,S,P,W,l,B.lineStartIndex,B.lineLength,ee,ae);for(const Re of G)Z[Re]=u.text.placedSymbolArray.length-1;return 4*he.length}function MN(u){for(const l in u)return u[l];return null}function yJ(u,l,d,m){const b=u.compareText;if(l in b){const S=b[l];for(let P=S.length-1;P>=0;P--)if(m.dist(S[P])<d)return!0}else b[l]=[];return b[l].push(m),!1}const AN=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class GT{static from(l){if(!(l instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[d,m]=new Uint8Array(l,0,2);if(d!==219)throw new Error("Data does not appear to be in a KDBush format.");const b=m>>4;if(b!==1)throw new Error(`Got v${b} data when expected v1.`);const S=AN[15&m];if(!S)throw new Error("Unrecognized array type.");const[P]=new Uint16Array(l,2,1),[R]=new Uint32Array(l,4,1);return new GT(R,P,S,l)}constructor(l,d=64,m=Float64Array,b){if(isNaN(l)||l<0)throw new Error(`Unpexpected numItems value: ${l}.`);this.numItems=+l,this.nodeSize=Math.min(Math.max(+d,2),65535),this.ArrayType=m,this.IndexArrayType=l<65536?Uint16Array:Uint32Array;const S=AN.indexOf(this.ArrayType),P=2*l*this.ArrayType.BYTES_PER_ELEMENT,R=l*this.IndexArrayType.BYTES_PER_ELEMENT,B=(8-R%8)%8;if(S<0)throw new Error(`Unexpected typed array class: ${m}.`);b&&b instanceof ArrayBuffer?(this.data=b,this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+R+B,2*l),this._pos=2*l,this._finished=!0):(this.data=new ArrayBuffer(8+P+R+B),this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+R+B,2*l),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+S]),new Uint16Array(this.data,2,1)[0]=d,new Uint32Array(this.data,4,1)[0]=l)}add(l,d){const m=this._pos>>1;return this.ids[m]=m,this.coords[this._pos++]=l,this.coords[this._pos++]=d,m}finish(){const l=this._pos>>1;if(l!==this.numItems)throw new Error(`Added ${l} items when expected ${this.numItems}.`);return YT(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(l,d,m,b){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:S,coords:P,nodeSize:R}=this,B=[0,S.length-1,0],W=[];for(;B.length;){const G=B.pop()||0,Z=B.pop()||0,ee=B.pop()||0;if(Z-ee<=R){for(let _e=ee;_e<=Z;_e++){const Te=P[2*_e],Re=P[2*_e+1];Te>=l&&Te<=m&&Re>=d&&Re<=b&&W.push(S[_e])}continue}const oe=ee+Z>>1,ae=P[2*oe],he=P[2*oe+1];ae>=l&&ae<=m&&he>=d&&he<=b&&W.push(S[oe]),(G===0?l<=ae:d<=he)&&(B.push(ee),B.push(oe-1),B.push(1-G)),(G===0?m>=ae:b>=he)&&(B.push(oe+1),B.push(Z),B.push(1-G))}return W}within(l,d,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:b,coords:S,nodeSize:P}=this,R=[0,b.length-1,0],B=[],W=m*m;for(;R.length;){const G=R.pop()||0,Z=R.pop()||0,ee=R.pop()||0;if(Z-ee<=P){for(let _e=ee;_e<=Z;_e++)$N(S[2*_e],S[2*_e+1],l,d)<=W&&B.push(b[_e]);continue}const oe=ee+Z>>1,ae=S[2*oe],he=S[2*oe+1];$N(ae,he,l,d)<=W&&B.push(b[oe]),(G===0?l-m<=ae:d-m<=he)&&(R.push(ee),R.push(oe-1),R.push(1-G)),(G===0?l+m>=ae:d+m>=he)&&(R.push(oe+1),R.push(Z),R.push(1-G))}return B}}function YT(u,l,d,m,b,S){if(b-m<=d)return;const P=m+b>>1;IN(u,l,P,m,b,S),YT(u,l,d,m,P-1,1-S),YT(u,l,d,P+1,b,1-S)}function IN(u,l,d,m,b,S){for(;b>m;){if(b-m>600){const W=b-m+1,G=d-m+1,Z=Math.log(W),ee=.5*Math.exp(2*Z/3),oe=.5*Math.sqrt(Z*ee*(W-ee)/W)*(G-W/2<0?-1:1);IN(u,l,d,Math.max(m,Math.floor(d-G*ee/W+oe)),Math.min(b,Math.floor(d+(W-G)*ee/W+oe)),S)}const P=l[2*d+S];let R=m,B=b;for(Jy(u,l,m,d),l[2*b+S]>P&&Jy(u,l,m,b);R<B;){for(Jy(u,l,R,B),R++,B--;l[2*R+S]<P;)R++;for(;l[2*B+S]>P;)B--}l[2*m+S]===P?Jy(u,l,m,B):(B++,Jy(u,l,B,b)),B<=d&&(m=B+1),d<=B&&(b=B-1)}}function Jy(u,l,d,m){KT(u,d,m),KT(l,2*d,2*m),KT(l,2*d+1,2*m+1)}function KT(u,l,d){const m=u[l];u[l]=u[d],u[d]=m}function $N(u,l,d,m){const b=u-d,S=l-m;return b*b+S*S}var ZT;a.bg=void 0,(ZT=a.bg||(a.bg={})).create="create",ZT.load="load",ZT.fullLoad="fullLoad";let L_=null,Qy=[];const XT=1e3/60,JT="loadTime",QT="fullLoadTime",vJ={mark(u){performance.mark(u)},frame(u){const l=u;L_!=null&&Qy.push(l-L_),L_=l},clearMetrics(){L_=null,Qy=[],performance.clearMeasures(JT),performance.clearMeasures(QT);for(const u in a.bg)performance.clearMarks(a.bg[u])},getPerformanceMetrics(){performance.measure(JT,a.bg.create,a.bg.load),performance.measure(QT,a.bg.create,a.bg.fullLoad);const u=performance.getEntriesByName(JT)[0].duration,l=performance.getEntriesByName(QT)[0].duration,d=Qy.length,m=1/(Qy.reduce((S,P)=>S+P,0)/d/1e3),b=Qy.filter(S=>S>XT).reduce((S,P)=>S+(P-XT)/XT,0);return{loadTime:u,fullLoadTime:l,fps:m,percentDroppedFrames:b/(d+b)*100,totalFrames:d}}};a.$=function(u,l,d){var m,b,S,P,R,B,W,G,Z,ee,oe,ae,he=d[0],_e=d[1],Te=d[2];return l===u?(u[12]=l[0]*he+l[4]*_e+l[8]*Te+l[12],u[13]=l[1]*he+l[5]*_e+l[9]*Te+l[13],u[14]=l[2]*he+l[6]*_e+l[10]*Te+l[14],u[15]=l[3]*he+l[7]*_e+l[11]*Te+l[15]):(b=l[1],S=l[2],P=l[3],R=l[4],B=l[5],W=l[6],G=l[7],Z=l[8],ee=l[9],oe=l[10],ae=l[11],u[0]=m=l[0],u[1]=b,u[2]=S,u[3]=P,u[4]=R,u[5]=B,u[6]=W,u[7]=G,u[8]=Z,u[9]=ee,u[10]=oe,u[11]=ae,u[12]=m*he+R*_e+Z*Te+l[12],u[13]=b*he+B*_e+ee*Te+l[13],u[14]=S*he+W*_e+oe*Te+l[14],u[15]=P*he+G*_e+ae*Te+l[15]),u},a.A=lp,a.B=Ho,a.C=class{constructor(u,l,d){this.receive=m=>{const b=m.data,S=b.id;if(S&&(!b.targetMapId||this.mapId===b.targetMapId))if(b.type==="<cancel>"){delete this.tasks[S];const P=this.cancelCallbacks[S];delete this.cancelCallbacks[S],P&&P()}else xe()||b.mustQueue?(this.tasks[S]=b,this.taskQueue.push(S),this.invoker.trigger()):this.processTask(S,b)},this.process=()=>{if(!this.taskQueue.length)return;const m=this.taskQueue.shift(),b=this.tasks[m];delete this.tasks[m],this.taskQueue.length&&this.invoker.trigger(),b&&this.processTask(m,b)},this.target=u,this.parent=l,this.mapId=d,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new lJ(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=xe()?u:window}send(u,l,d,m,b=!1){const S=Math.round(1e18*Math.random()).toString(36).substring(0,10);d&&(this.callbacks[S]=d);const P=[],R={id:S,type:u,hasCallback:!!d,targetMapId:m,mustQueue:b,sourceMapId:this.mapId,data:Ll(l,P)};return this.target.postMessage(R,{transfer:P}),{cancel:()=>{d&&delete this.callbacks[S],this.target.postMessage({id:S,type:"<cancel>",targetMapId:m,sourceMapId:this.mapId})}}}processTask(u,l){if(l.type==="<response>"){const d=this.callbacks[u];delete this.callbacks[u],d&&(l.error?d(Fu(l.error)):d(null,Fu(l.data)))}else{let d=!1;const m=[],b=l.hasCallback?(R,B)=>{d=!0,delete this.cancelCallbacks[u];const W={id:u,type:"<response>",sourceMapId:this.mapId,error:R?Ll(R):null,data:Ll(B,m)};this.target.postMessage(W,{transfer:m})}:R=>{d=!0};let S=null;const P=Fu(l.data);if(this.parent[l.type])S=this.parent[l.type](l.sourceMapId,P,b);else if("getWorkerSource"in this.parent){const R=l.type.split(".");S=this.parent.getWorkerSource(l.sourceMapId,R[0],P.source)[R[1]](P,b)}else b(new Error(`Could not find function ${l.type}`));!d&&S&&S.cancel&&(this.cancelCallbacks[u]=S.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},a.D=Ft,a.E=rr,a.F=function(u,l){const d={};for(let m=0;m<l.length;m++){const b=l[m];b in u&&(d[b]=u[b])}return d},a.G=lN,a.H=cN,a.I=RT,a.J=M,a.K=I,a.L=Yu,a.M=Qe,a.N=fi,a.O=ja,a.P=x,a.Q=Rr,a.R=La,a.S=_r,a.T=d_,a.U=A_,a.V=class extends kc{},a.W=WT,a.X=function(u,l){const d=window.document.createElement("video");d.muted=!0,d.onloadstart=function(){l(null,d)};for(let m=0;m<u.length;m++){const b=window.document.createElement("source");Pt(u[m])||(d.crossOrigin="Anonymous"),b.src=u[m],d.appendChild(b)}return{cancel:()=>{}}},a.Y=lt,a.Z=function(){var u=new lp(16);return lp!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=0,u[12]=0,u[13]=0,u[14]=0),u[0]=1,u[5]=1,u[10]=1,u[15]=1,u},a._=f,a.a=Pe,a.a$=class extends re{},a.a0=function(u,l,d){var m=d[0],b=d[1],S=d[2];return u[0]=l[0]*m,u[1]=l[1]*m,u[2]=l[2]*m,u[3]=l[3]*m,u[4]=l[4]*b,u[5]=l[5]*b,u[6]=l[6]*b,u[7]=l[7]*b,u[8]=l[8]*S,u[9]=l[9]*S,u[10]=l[10]*S,u[11]=l[11]*S,u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15],u},a.a1=hj,a.a2=function(){return X++},a.a3=ve,a.a4=pp,a.a5=function(){Ko.isLoading()||Ko.isLoaded()||Py()!=="deferred"||u_()},a.a6=gy,a.a7=bf,a.a8=br,a.a9=mN,a.aA=pf,a.aB=function(u){u=u.slice();const l=Object.create(null);for(let d=0;d<u.length;d++)l[u[d].id]=u[d];for(let d=0;d<u.length;d++)"ref"in u[d]&&(u[d]=Mn(u[d],l[u[d].ref]));return u},a.aC=function(u){if(u.type==="custom")return new sJ(u);switch(u.type){case"background":return new iJ(u);case"circle":return new VZ(u);case"fill":return new cX(u);case"fill-extrusion":return new CX(u);case"heatmap":return new qZ(u);case"hillshade":return new GZ(u);case"line":return new IX(u);case"raster":return new aJ(u);case"symbol":return new M_(u)}},a.aD=ge,a.aE=function(u,l){if(!u)return[{command:$t.setStyle,args:[l]}];let d=[];try{if(!on(u.version,l.version))return[{command:$t.setStyle,args:[l]}];on(u.center,l.center)||d.push({command:$t.setCenter,args:[l.center]}),on(u.zoom,l.zoom)||d.push({command:$t.setZoom,args:[l.zoom]}),on(u.bearing,l.bearing)||d.push({command:$t.setBearing,args:[l.bearing]}),on(u.pitch,l.pitch)||d.push({command:$t.setPitch,args:[l.pitch]}),on(u.sprite,l.sprite)||d.push({command:$t.setSprite,args:[l.sprite]}),on(u.glyphs,l.glyphs)||d.push({command:$t.setGlyphs,args:[l.glyphs]}),on(u.transition,l.transition)||d.push({command:$t.setTransition,args:[l.transition]}),on(u.light,l.light)||d.push({command:$t.setLight,args:[l.light]});const m={},b=[];(function(P,R,B,W){let G;for(G in R=R||{},P=P||{})Object.prototype.hasOwnProperty.call(P,G)&&(Object.prototype.hasOwnProperty.call(R,G)||ir(G,B,W));for(G in R)Object.prototype.hasOwnProperty.call(R,G)&&(Object.prototype.hasOwnProperty.call(P,G)?on(P[G],R[G])||(P[G].type==="geojson"&&R[G].type==="geojson"&&Rn(P,R,G)?B.push({command:$t.setGeoJSONSourceData,args:[G,R[G].data]}):Tr(G,R,B,W)):Vn(G,R,B))})(u.sources,l.sources,b,m);const S=[];u.layers&&u.layers.forEach(P=>{m[P.source]?d.push({command:$t.removeLayer,args:[P.id]}):S.push(P)}),d=d.concat(b),function(P,R,B){R=R||[];const W=(P=P||[]).map(ur),G=R.map(ur),Z=P.reduce(Di,{}),ee=R.reduce(Di,{}),oe=W.slice(),ae=Object.create(null);let he,_e,Te,Re,Oe,Le,Be;for(he=0,_e=0;he<W.length;he++)Te=W[he],Object.prototype.hasOwnProperty.call(ee,Te)?_e++:(B.push({command:$t.removeLayer,args:[Te]}),oe.splice(oe.indexOf(Te,_e),1));for(he=0,_e=0;he<G.length;he++)Te=G[G.length-1-he],oe[oe.length-1-he]!==Te&&(Object.prototype.hasOwnProperty.call(Z,Te)?(B.push({command:$t.removeLayer,args:[Te]}),oe.splice(oe.lastIndexOf(Te,oe.length-_e),1)):_e++,Le=oe[oe.length-he],B.push({command:$t.addLayer,args:[ee[Te],Le]}),oe.splice(oe.length-he,0,Te),ae[Te]=!0);for(he=0;he<G.length;he++)if(Te=G[he],Re=Z[Te],Oe=ee[Te],!ae[Te]&&!on(Re,Oe))if(on(Re.source,Oe.source)&&on(Re["source-layer"],Oe["source-layer"])&&on(Re.type,Oe.type)){for(Be in Kt(Re.layout,Oe.layout,B,Te,null,$t.setLayoutProperty),Kt(Re.paint,Oe.paint,B,Te,null,$t.setPaintProperty),on(Re.filter,Oe.filter)||B.push({command:$t.setFilter,args:[Te,Oe.filter]}),on(Re.minzoom,Oe.minzoom)&&on(Re.maxzoom,Oe.maxzoom)||B.push({command:$t.setLayerZoomRange,args:[Te,Oe.minzoom,Oe.maxzoom]}),Re)Object.prototype.hasOwnProperty.call(Re,Be)&&Be!=="layout"&&Be!=="paint"&&Be!=="filter"&&Be!=="metadata"&&Be!=="minzoom"&&Be!=="maxzoom"&&(Be.indexOf("paint.")===0?Kt(Re[Be],Oe[Be],B,Te,Be.slice(6),$t.setPaintProperty):on(Re[Be],Oe[Be])||B.push({command:$t.setLayerProperty,args:[Te,Be,Oe[Be]]}));for(Be in Oe)Object.prototype.hasOwnProperty.call(Oe,Be)&&!Object.prototype.hasOwnProperty.call(Re,Be)&&Be!=="layout"&&Be!=="paint"&&Be!=="filter"&&Be!=="metadata"&&Be!=="minzoom"&&Be!=="maxzoom"&&(Be.indexOf("paint.")===0?Kt(Re[Be],Oe[Be],B,Te,Be.slice(6),$t.setPaintProperty):on(Re[Be],Oe[Be])||B.push({command:$t.setLayerProperty,args:[Te,Be,Oe[Be]]}))}else B.push({command:$t.removeLayer,args:[Te]}),Le=oe[oe.lastIndexOf(Te)+1],B.push({command:$t.addLayer,args:[Oe,Le]})}(S,l.layers,d)}catch(m){console.warn("Unable to compute style diff:",m),d=[{command:$t.setStyle,args:[l]}]}return d},a.aF=function(u){const l=[],d=u.id;return d===void 0&&l.push({message:`layers.${d}: missing required property "id"`}),u.render===void 0&&l.push({message:`layers.${d}: missing required method "render"`}),u.renderingMode&&u.renderingMode!=="2d"&&u.renderingMode!=="3d"&&l.push({message:`layers.${d}: property "renderingMode" must be either "2d" or "3d"`}),l},a.aG=function u(l,d){if(Array.isArray(l)){if(!Array.isArray(d)||l.length!==d.length)return!1;for(let m=0;m<l.length;m++)if(!u(l[m],d[m]))return!1;return!0}if(typeof l=="object"&&l!==null&&d!==null){if(typeof d!="object"||Object.keys(l).length!==Object.keys(d).length)return!1;for(const m in l)if(!u(l[m],d[m]))return!1;return!0}return l===d},a.aH=J,a.aI=ie,a.aJ=mf,a.aK=function(u){return u({pluginStatus:wo,pluginURL:jl}),mf.on("pluginStateChange",u),u},a.aL=class extends Ec{constructor(u,l){super(u,l),this.current=0}set(u){this.current!==u&&(this.current=u,this.gl.uniform1i(this.location,u))}},a.aM=ap,a.aN=class extends Ec{constructor(u,l){super(u,l),this.current=fT}set(u){if(u[12]!==this.current[12]||u[0]!==this.current[0])return this.current=u,void this.gl.uniformMatrix4fv(this.location,!1,u);for(let l=1;l<16;l++)if(u[l]!==this.current[l]){this.current=u,this.gl.uniformMatrix4fv(this.location,!1,u);break}}},a.aO=m_,a.aP=class extends Ec{constructor(u,l){super(u,l),this.current=[0,0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]||(this.current=u,this.gl.uniform3f(this.location,u[0],u[1],u[2]))}},a.aQ=class extends Ec{constructor(u,l){super(u,l),this.current=[0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]||(this.current=u,this.gl.uniform2f(this.location,u[0],u[1]))}},a.aR=g_,a.aS=function(u,l,d,m,b,S,P){var R=1/(l-d),B=1/(m-b),W=1/(S-P);return u[0]=-2*R,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*B,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2*W,u[11]=0,u[12]=(l+d)*R,u[13]=(b+m)*B,u[14]=(P+S)*W,u[15]=1,u},a.aT=Jn,a.aU=UZ,a.aV=class extends v{},a.aW=LX,a.aX=class extends k{},a.aY=function(u){return u<=1?1:Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))},a.aZ=vj,a.a_=dt,a.aa=function(u){const l={};if(u.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(d,m,b,S)=>{const P=b||S;return l[m]=!P||P.toLowerCase(),""}),l["max-age"]){const d=parseInt(l["max-age"],10);isNaN(d)?delete l["max-age"]:l["max-age"]=d}return l},a.ab=function(u,l){const d=[];for(const m in u)m in l||d.push(m);return d},a.ac=function(u){if(le==null){const l=u.navigator?u.navigator.userAgent:null;le=!!u.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return le},a.ad=D,a.ae=function(u,l,d){var m=Math.sin(d),b=Math.cos(d),S=l[0],P=l[1],R=l[2],B=l[3],W=l[4],G=l[5],Z=l[6],ee=l[7];return l!==u&&(u[8]=l[8],u[9]=l[9],u[10]=l[10],u[11]=l[11],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15]),u[0]=S*b+W*m,u[1]=P*b+G*m,u[2]=R*b+Z*m,u[3]=B*b+ee*m,u[4]=W*b-S*m,u[5]=G*b-P*m,u[6]=Z*b-R*m,u[7]=ee*b-B*m,u},a.af=function(u){var l=new lp(16);return l[0]=u[0],l[1]=u[1],l[2]=u[2],l[3]=u[3],l[4]=u[4],l[5]=u[5],l[6]=u[6],l[7]=u[7],l[8]=u[8],l[9]=u[9],l[10]=u[10],l[11]=u[11],l[12]=u[12],l[13]=u[13],l[14]=u[14],l[15]=u[15],l},a.ag=b_,a.ah=function(u,l){let d=0,m=0;if(u.kind==="constant")m=u.layoutSize;else if(u.kind!=="source"){const{interpolationType:b,minZoom:S,maxZoom:P}=u,R=b?D(Go.interpolationFactor(b,l,S,P),0,1):0;u.kind==="camera"?m=Ho.number(u.minSize,u.maxSize,R):d=R}return{uSizeT:d,uSize:m}},a.aj=function(u,{uSize:l,uSizeT:d},{lowerSize:m,upperSize:b}){return u.kind==="source"?m/zl:u.kind==="composite"?Ho.number(m/zl,b/zl,d):l},a.ak=NT,a.al=function(u,l,d,m){const b=l.y-u.y,S=l.x-u.x,P=m.y-d.y,R=m.x-d.x,B=P*S-R*b;if(B===0)return null;const W=(R*(u.y-d.y)-P*(u.x-d.x))/B;return new x(u.x+W*S,u.y+W*b)},a.am=xN,a.an=sj,a.ao=yT,a.ap=bi,a.ar=jT,a.as=function(u,l){var d=l[0],m=l[1],b=l[2],S=l[3],P=l[4],R=l[5],B=l[6],W=l[7],G=l[8],Z=l[9],ee=l[10],oe=l[11],ae=l[12],he=l[13],_e=l[14],Te=l[15],Re=d*R-m*P,Oe=d*B-b*P,Le=d*W-S*P,Be=m*B-b*R,Je=m*W-S*R,kt=b*W-S*B,Lt=G*he-Z*ae,St=G*_e-ee*ae,wt=G*Te-oe*ae,gt=Z*_e-ee*he,At=Z*Te-oe*he,vt=ee*Te-oe*_e,ot=Re*vt-Oe*At+Le*gt+Be*wt-Je*St+kt*Lt;return ot?(u[0]=(R*vt-B*At+W*gt)*(ot=1/ot),u[1]=(b*At-m*vt-S*gt)*ot,u[2]=(he*kt-_e*Je+Te*Be)*ot,u[3]=(ee*Je-Z*kt-oe*Be)*ot,u[4]=(B*wt-P*vt-W*St)*ot,u[5]=(d*vt-b*wt+S*St)*ot,u[6]=(_e*Le-ae*kt-Te*Oe)*ot,u[7]=(G*kt-ee*Le+oe*Oe)*ot,u[8]=(P*At-R*wt+W*Lt)*ot,u[9]=(m*wt-d*At-S*Lt)*ot,u[10]=(ae*Je-he*Le+Te*Re)*ot,u[11]=(Z*Le-G*Je-oe*Re)*ot,u[12]=(R*St-P*gt-B*Lt)*ot,u[13]=(d*gt-m*St+b*Lt)*ot,u[14]=(he*Oe-ae*Be-_e*Re)*ot,u[15]=(G*Be-Z*Oe+ee*Re)*ot,u):null},a.at=HT,a.au=LT,a.av=GT,a.aw=function(){const u={},l=ze.$version;for(const d in ze.$root){const m=ze.$root[d];if(m.required){let b=null;b=d==="version"?l:m.type==="array"?[]:{},b!=null&&(u[d]=b)}}return u},a.ax=$t,a.ay=a_,a.az=He,a.b=function(u,l){const d=new Blob([new Uint8Array(u)],{type:"image/png"});createImageBitmap(d).then(m=>{l(null,m)}).catch(m=>{l(new Error(`Could not load image because of ${m.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},a.b0=Ni,a.b1=function(u,l){var d=u[0],m=u[1],b=u[2],S=u[3],P=u[4],R=u[5],B=u[6],W=u[7],G=u[8],Z=u[9],ee=u[10],oe=u[11],ae=u[12],he=u[13],_e=u[14],Te=u[15],Re=l[0],Oe=l[1],Le=l[2],Be=l[3],Je=l[4],kt=l[5],Lt=l[6],St=l[7],wt=l[8],gt=l[9],At=l[10],vt=l[11],ot=l[12],Yt=l[13],zt=l[14],vn=l[15];return Math.abs(d-Re)<=Co*Math.max(1,Math.abs(d),Math.abs(Re))&&Math.abs(m-Oe)<=Co*Math.max(1,Math.abs(m),Math.abs(Oe))&&Math.abs(b-Le)<=Co*Math.max(1,Math.abs(b),Math.abs(Le))&&Math.abs(S-Be)<=Co*Math.max(1,Math.abs(S),Math.abs(Be))&&Math.abs(P-Je)<=Co*Math.max(1,Math.abs(P),Math.abs(Je))&&Math.abs(R-kt)<=Co*Math.max(1,Math.abs(R),Math.abs(kt))&&Math.abs(B-Lt)<=Co*Math.max(1,Math.abs(B),Math.abs(Lt))&&Math.abs(W-St)<=Co*Math.max(1,Math.abs(W),Math.abs(St))&&Math.abs(G-wt)<=Co*Math.max(1,Math.abs(G),Math.abs(wt))&&Math.abs(Z-gt)<=Co*Math.max(1,Math.abs(Z),Math.abs(gt))&&Math.abs(ee-At)<=Co*Math.max(1,Math.abs(ee),Math.abs(At))&&Math.abs(oe-vt)<=Co*Math.max(1,Math.abs(oe),Math.abs(vt))&&Math.abs(ae-ot)<=Co*Math.max(1,Math.abs(ae),Math.abs(ot))&&Math.abs(he-Yt)<=Co*Math.max(1,Math.abs(he),Math.abs(Yt))&&Math.abs(_e-zt)<=Co*Math.max(1,Math.abs(_e),Math.abs(zt))&&Math.abs(Te-vn)<=Co*Math.max(1,Math.abs(Te),Math.abs(vn))},a.b2=function(u,l){return u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[4]=l[4],u[5]=l[5],u[6]=l[6],u[7]=l[7],u[8]=l[8],u[9]=l[9],u[10]=l[10],u[11]=l[11],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15],u},a.b3=function(u,l,d){return u[0]=l[0]*d[0],u[1]=l[1]*d[1],u[2]=l[2]*d[2],u[3]=l[3]*d[3],u},a.b4=function(u,l){return u[0]*l[0]+u[1]*l[1]+u[2]*l[2]+u[3]*l[3]},a.b5=F,a.b6=fN,a.b7=uN,a.b8=function(u,l,d,m,b){var S,P=1/Math.tan(l/2);return u[0]=P/d,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=P,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=-1,u[12]=0,u[13]=0,u[15]=0,b!=null&&b!==1/0?(u[10]=(b+m)*(S=1/(m-b)),u[14]=2*b*m*S):(u[10]=-1,u[14]=-2*m),u},a.b9=function(u,l,d){var m=Math.sin(d),b=Math.cos(d),S=l[4],P=l[5],R=l[6],B=l[7],W=l[8],G=l[9],Z=l[10],ee=l[11];return l!==u&&(u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15]),u[4]=S*b+W*m,u[5]=P*b+G*m,u[6]=R*b+Z*m,u[7]=B*b+ee*m,u[8]=W*b-S*m,u[9]=G*b-P*m,u[10]=Z*b-R*m,u[11]=ee*b-B*m,u},a.bA=zj,a.bB=Kh,a.bC=Ko,a.ba=N,a.bb=$,a.bc=function(u,l){return u[0]=l[0],u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=l[1],u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=l[2],u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},a.bd=class extends vf{},a.be=UT,a.bf=vJ,a.bh=Mt,a.bi=function(u,l,d=!1){if(wo===wy||wo===Sy||wo===Cy)throw new Error("setRTLTextPlugin cannot be called multiple times.");jl=st.resolveURL(u),wo=wy,ky=l,Ty(),d||u_()},a.bj=Py,a.bk=function(u,l){const d={};for(let b=0;b<u.length;b++){const S=l&&l[u[b].id]||Qh(u[b]);l&&(l[u[b].id]=S);let P=d[S];P||(P=d[S]=[]),P.push(u[b])}const m=[];for(const b in d)m.push(d[b]);return m},a.bl=Ot,a.bm=pN,a.bn=gN,a.bo=Yj,a.bp=function(u){u.bucket.createArrays(),u.bucket.tilePixelRatio=fi/(512*u.bucket.overscaling),u.bucket.compareText={},u.bucket.iconsNeedLinear=!1;const l=u.bucket.layers[0],d=l.layout,m=l._unevaluatedLayout._values,b={layoutIconSize:m["icon-size"].possiblyEvaluate(new br(u.bucket.zoom+1),u.canonical),layoutTextSize:m["text-size"].possiblyEvaluate(new br(u.bucket.zoom+1),u.canonical),textMaxSize:m["text-size"].possiblyEvaluate(new br(18))};if(u.bucket.textSizeData.kind==="composite"){const{minZoom:W,maxZoom:G}=u.bucket.textSizeData;b.compositeTextSizes=[m["text-size"].possiblyEvaluate(new br(W),u.canonical),m["text-size"].possiblyEvaluate(new br(G),u.canonical)]}if(u.bucket.iconSizeData.kind==="composite"){const{minZoom:W,maxZoom:G}=u.bucket.iconSizeData;b.compositeIconSizes=[m["icon-size"].possiblyEvaluate(new br(W),u.canonical),m["icon-size"].possiblyEvaluate(new br(G),u.canonical)]}const S=d.get("text-line-height")*bi,P=d.get("text-rotation-alignment")!=="viewport"&&d.get("symbol-placement")!=="point",R=d.get("text-keep-upright"),B=d.get("text-size");for(const W of u.bucket.features){const G=d.get("text-font").evaluate(W,{},u.canonical).join(","),Z=B.evaluate(W,{},u.canonical),ee=b.layoutTextSize.evaluate(W,{},u.canonical),oe=b.layoutIconSize.evaluate(W,{},u.canonical),ae={horizontal:{},vertical:void 0},he=W.text;let _e,Te=[0,0];if(he){const Le=he.toString(),Be=d.get("text-letter-spacing").evaluate(W,{},u.canonical)*bi,Je=by(Le)?Be:0,kt=d.get("text-anchor").evaluate(W,{},u.canonical),Lt=EN(l,W,u.canonical);if(!Lt){const vt=d.get("text-radial-offset").evaluate(W,{},u.canonical);Te=vt?PN(kt,[vt*bi,qT]):d.get("text-offset").evaluate(W,{},u.canonical).map(ot=>ot*bi)}let St=P?"center":d.get("text-justify").evaluate(W,{},u.canonical);const wt=d.get("symbol-placement"),gt=wt==="point"?d.get("text-max-width").evaluate(W,{},u.canonical)*bi:0,At=()=>{u.bucket.allowVerticalPlacement&&xy(Le)&&(ae.vertical=P_(he,u.glyphMap,u.glyphPositions,u.imagePositions,G,gt,S,kt,"left",Je,Te,a.ai.vertical,!0,wt,ee,Z))};if(!P&&Lt){const vt=new Set;if(St==="auto")for(let Yt=0;Yt<Lt.values.length;Yt+=2)vt.add(HT(Lt.values[Yt]));else vt.add(St);let ot=!1;for(const Yt of vt)if(!ae.horizontal[Yt])if(ot)ae.horizontal[Yt]=ae.horizontal[0];else{const zt=P_(he,u.glyphMap,u.glyphPositions,u.imagePositions,G,gt,S,"center",Yt,Je,Te,a.ai.horizontal,!1,wt,ee,Z);zt&&(ae.horizontal[Yt]=zt,ot=zt.positionedLines.length===1)}At()}else{St==="auto"&&(St=HT(kt));const vt=P_(he,u.glyphMap,u.glyphPositions,u.imagePositions,G,gt,S,kt,St,Je,Te,a.ai.horizontal,!1,wt,ee,Z);vt&&(ae.horizontal[St]=vt),At(),xy(Le)&&P&&R&&(ae.vertical=P_(he,u.glyphMap,u.glyphPositions,u.imagePositions,G,gt,S,kt,St,Je,Te,a.ai.vertical,!1,wt,ee,Z))}}let Re=!1;if(W.icon&&W.icon.name){const Le=u.imageMap[W.icon.name];Le&&(_e=QX(u.imagePositions[W.icon.name],d.get("icon-offset").evaluate(W,{},u.canonical),d.get("icon-anchor").evaluate(W,{},u.canonical)),Re=!!Le.sdf,u.bucket.sdfIcons===void 0?u.bucket.sdfIcons=Re:u.bucket.sdfIcons!==Re&&fe("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Le.pixelRatio!==u.bucket.pixelRatio||d.get("icon-rotate").constantOr(1)!==0)&&(u.bucket.iconsNeedLinear=!0))}const Oe=MN(ae.horizontal)||ae.vertical;u.bucket.iconsInText=!!Oe&&Oe.iconsInText,(Oe||_e)&&gJ(u.bucket,W,ae,_e,u.imageMap,b,ee,oe,Te,Re,u.canonical)}u.showCollisionBoxes&&u.bucket.generateCollisionDebugBuffers()},a.bq=MT,a.br=PT,a.bs=OT,a.bt=class{constructor(u){this._marks={start:[u.url,"start"].join("#"),end:[u.url,"end"].join("#"),measure:u.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let u=performance.getEntriesByName(this._marks.measure);return u.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),u=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),u}},a.bu=IT,a.bv=qu,a.bw=function(u,l,d,m,b){return f(this,void 0,void 0,function*(){if(I())try{return yield Qe(u,l,d,m,b)}catch{}return function(S,P,R,B,W){const G=S.width,Z=S.height;We&&Ke||(We=new OffscreenCanvas(G,Z),Ke=We.getContext("2d",{willReadFrequently:!0})),We.width=G,We.height=Z,Ke.drawImage(S,0,0,G,Z);const ee=Ke.getImageData(P,R,B,W);return Ke.clearRect(0,0,G,Z),ee.data}(u,l,d,m,b)})},a.bx=hN,a.by=h,a.bz=g,a.c=Nt,a.d=function(u,l){const d=new Image;d.onload=()=>{l(null,d),URL.revokeObjectURL(d.src),d.onload=null,window.requestAnimationFrame(()=>{d.src=je})},d.onerror=()=>l(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const m=new Blob([new Uint8Array(u)],{type:"image/png"});d.src=u.byteLength?URL.createObjectURL(m):je},a.e=q,a.f=function(u,l){return Ve(q(u,{type:"json"}),l)},a.g=ct,a.h=st,a.i=xe,a.j=_n,a.k=bn,a.l=Tt,a.m=Ve,a.n=function(u){return new IT(u).readFields(GX,[])},a.o=function(u,l,d){if(!u.length)return d(null,[]);let m=u.length;const b=new Array(u.length);let S=null;u.forEach((P,R)=>{l(P,(B,W)=>{B&&(S=B),b[R]=W,--m==0&&d(S,b)})})},a.p=Gj,a.q=By,a.r=ri,a.s=Pt,a.t=lT,a.u=Ct,a.v=ze,a.w=fe,a.x=np,a.y=Qs,a.z=function([u,l,d]){return l+=90,l*=Math.PI/180,d*=Math.PI/180,{x:u*Math.cos(l)*Math.sin(d),y:u*Math.sin(l)*Math.sin(d),z:u*Math.cos(d)}}}),o(["./shared"],function(a){class f{constructor(Q){this.keyCache={},Q&&this.replace(Q)}replace(Q){this._layerConfigs={},this._layers={},this.update(Q,[])}update(Q,ne){for(const be of Q){this._layerConfigs[be.id]=be;const we=this._layers[be.id]=a.aC(be);we._featureFilter=a.a6(we.filter),this.keyCache[be.id]&&delete this.keyCache[be.id]}for(const be of ne)delete this.keyCache[be],delete this._layerConfigs[be],delete this._layers[be];this.familiesBySource={};const se=a.bk(Object.values(this._layerConfigs),this.keyCache);for(const be of se){const we=be.map(qe=>this._layers[qe.id]),De=we[0];if(De.visibility==="none")continue;const Me=De.source||"";let ke=this.familiesBySource[Me];ke||(ke=this.familiesBySource[Me]={});const Ie=De.sourceLayer||"_geojsonTileLayer";let Ge=ke[Ie];Ge||(Ge=ke[Ie]=[]),Ge.push(we)}}}class h{constructor(Q){const ne={},se=[];for(const Me in Q){const ke=Q[Me],Ie=ne[Me]={};for(const Ge in ke){const qe=ke[+Ge];if(!qe||qe.bitmap.width===0||qe.bitmap.height===0)continue;const Ze={x:0,y:0,w:qe.bitmap.width+2,h:qe.bitmap.height+2};se.push(Ze),Ie[Ge]={rect:Ze,metrics:qe.metrics}}}const{w:be,h:we}=a.p(se),De=new a.q({width:be||1,height:we||1});for(const Me in Q){const ke=Q[Me];for(const Ie in ke){const Ge=ke[+Ie];if(!Ge||Ge.bitmap.width===0||Ge.bitmap.height===0)continue;const qe=ne[Me][Ie].rect;a.q.copy(Ge.bitmap,De,{x:0,y:0},{x:qe.x+1,y:qe.y+1},Ge.bitmap)}}this.image=De,this.positions=ne}}a.bl("GlyphAtlas",h);class g{constructor(Q){this.tileID=new a.O(Q.tileID.overscaledZ,Q.tileID.wrap,Q.tileID.canonical.z,Q.tileID.canonical.x,Q.tileID.canonical.y),this.uid=Q.uid,this.zoom=Q.zoom,this.pixelRatio=Q.pixelRatio,this.tileSize=Q.tileSize,this.source=Q.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Q.showCollisionBoxes,this.collectResourceTiming=!!Q.collectResourceTiming,this.returnDependencies=!!Q.returnDependencies,this.promoteId=Q.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(Q,ne,se,be,we){this.status="parsing",this.data=Q,this.collisionBoxArray=new a.a3;const De=new a.bm(Object.keys(Q.layers).sort()),Me=new a.bn(this.tileID,this.promoteId);Me.bucketLayerIDs=[];const ke={},Ie={featureIndex:Me,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:se},Ge=ne.familiesBySource[this.source];for(const An in Ge){const Tn=Q.layers[An];if(!Tn)continue;Tn.version===1&&a.w(`Vector tile source "${this.source}" layer "${An}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Ai=De.encode(An),or=[];for(let Xt=0;Xt<Tn.length;Xt++){const Kn=Tn.feature(Xt),ha=Me.getId(Kn,An);or.push({feature:Kn,id:ha,index:Xt,sourceLayerIndex:Ai})}for(const Xt of Ge[An]){const Kn=Xt[0];Kn.source!==this.source&&a.w(`layer.source = ${Kn.source} does not equal this.source = ${this.source}`),Kn.minzoom&&this.zoom<Math.floor(Kn.minzoom)||Kn.maxzoom&&this.zoom>=Kn.maxzoom||Kn.visibility!=="none"&&(y(Xt,this.zoom,se),(ke[Kn.id]=Kn.createBucket({index:Me.bucketLayerIDs.length,layers:Xt,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ai,sourceID:this.source})).populate(or,Ie,this.tileID.canonical),Me.bucketLayerIDs.push(Xt.map(ha=>ha.id)))}}let qe,Ze,Ht,Zt;const It=a.aH(Ie.glyphDependencies,An=>Object.keys(An).map(Number));this.inFlightDependencies.forEach(An=>An==null?void 0:An.cancel()),this.inFlightDependencies=[];const Gt=++this.dependencySentinel;Object.keys(It).length?this.inFlightDependencies.push(be.send("getGlyphs",{uid:this.uid,stacks:It,source:this.source,tileID:this.tileID,type:"glyphs"},(An,Tn)=>{Gt===this.dependencySentinel&&(qe||(qe=An,Ze=Tn,Wn.call(this)))})):Ze={};const cn=Object.keys(Ie.iconDependencies);cn.length?this.inFlightDependencies.push(be.send("getImages",{icons:cn,source:this.source,tileID:this.tileID,type:"icons"},(An,Tn)=>{Gt===this.dependencySentinel&&(qe||(qe=An,Ht=Tn,Wn.call(this)))})):Ht={};const Ln=Object.keys(Ie.patternDependencies);function Wn(){if(qe)return we(qe);if(Ze&&Ht&&Zt){const An=new h(Ze),Tn=new a.bo(Ht,Zt);for(const Ai in ke){const or=ke[Ai];or instanceof a.a4?(y(or.layers,this.zoom,se),a.bp({bucket:or,glyphMap:Ze,glyphPositions:An.positions,imageMap:Ht,imagePositions:Tn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):or.hasPattern&&(or instanceof a.bq||or instanceof a.br||or instanceof a.bs)&&(y(or.layers,this.zoom,se),or.addFeatures(Ie,this.tileID.canonical,Tn.patternPositions))}this.status="done",we(null,{buckets:Object.values(ke).filter(Ai=>!Ai.isEmpty()),featureIndex:Me,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:An.image,imageAtlas:Tn,glyphMap:this.returnDependencies?Ze:null,iconMap:this.returnDependencies?Ht:null,glyphPositions:this.returnDependencies?An.positions:null})}}Ln.length?this.inFlightDependencies.push(be.send("getImages",{icons:Ln,source:this.source,tileID:this.tileID,type:"patterns"},(An,Tn)=>{Gt===this.dependencySentinel&&(qe||(qe=An,Zt=Tn,Wn.call(this)))})):Zt={},Wn.call(this)}}function y(ye,Q,ne){const se=new a.a8(Q);for(const be of ye)be.recalculate(se,ne)}function x(ye,Q){const ne=a.l(ye.request,(se,be,we,De)=>{if(se)Q(se);else if(be)try{const Me=new a.bv.VectorTile(new a.bu(be));Q(null,{vectorTile:Me,rawData:be,cacheControl:we,expires:De})}catch(Me){const ke=new Uint8Array(be);let Ie=`Unable to parse the tile at ${ye.request.url}, `;Ie+=ke[0]===31&&ke[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Me.messge}`,Q(new Error(Ie))}});return()=>{ne.cancel(),Q()}}class T{constructor(Q,ne,se,be){this.actor=Q,this.layerIndex=ne,this.availableImages=se,this.loadVectorData=be||x,this.fetching={},this.loading={},this.loaded={}}loadTile(Q,ne){const se=Q.uid;this.loading||(this.loading={});const be=!!(Q&&Q.request&&Q.request.collectResourceTiming)&&new a.bt(Q.request),we=this.loading[se]=new g(Q);we.abort=this.loadVectorData(Q,(De,Me)=>{if(delete this.loading[se],De||!Me)return we.status="done",this.loaded[se]=we,ne(De);const ke=Me.rawData,Ie={};Me.expires&&(Ie.expires=Me.expires),Me.cacheControl&&(Ie.cacheControl=Me.cacheControl);const Ge={};if(be){const qe=be.finish();qe&&(Ge.resourceTiming=JSON.parse(JSON.stringify(qe)))}we.vectorTile=Me.vectorTile,we.parse(Me.vectorTile,this.layerIndex,this.availableImages,this.actor,(qe,Ze)=>{if(delete this.fetching[se],qe||!Ze)return ne(qe);ne(null,a.e({rawTileData:ke.slice(0)},Ze,Ie,Ge))}),this.loaded=this.loaded||{},this.loaded[se]=we,this.fetching[se]={rawTileData:ke,cacheControl:Ie,resourceTiming:Ge}})}reloadTile(Q,ne){const se=this.loaded,be=Q.uid;if(se&&se[be]){const we=se[be];we.showCollisionBoxes=Q.showCollisionBoxes,we.status==="parsing"?we.parse(we.vectorTile,this.layerIndex,this.availableImages,this.actor,(De,Me)=>{if(De||!Me)return ne(De,Me);let ke;if(this.fetching[be]){const{rawTileData:Ie,cacheControl:Ge,resourceTiming:qe}=this.fetching[be];delete this.fetching[be],ke=a.e({rawTileData:Ie.slice(0)},Me,Ge,qe)}else ke=Me;ne(null,ke)}):we.status==="done"&&(we.vectorTile?we.parse(we.vectorTile,this.layerIndex,this.availableImages,this.actor,ne):ne())}}abortTile(Q,ne){const se=this.loading,be=Q.uid;se&&se[be]&&se[be].abort&&(se[be].abort(),delete se[be]),ne()}removeTile(Q,ne){const se=this.loaded,be=Q.uid;se&&se[be]&&delete se[be],ne()}}class E{constructor(){this.loaded={}}loadTile(Q,ne){return a._(this,void 0,void 0,function*(){const{uid:se,encoding:be,rawImageData:we,redFactor:De,greenFactor:Me,blueFactor:ke,baseShift:Ie}=Q,Ge=we.width+2,qe=we.height+2,Ze=a.a(we)?new a.R({width:Ge,height:qe},yield a.bw(we,-1,-1,Ge,qe)):we,Ht=new a.bx(se,Ze,be,De,Me,ke,Ie);this.loaded=this.loaded||{},this.loaded[se]=Ht,ne(null,Ht)})}removeTile(Q){const ne=this.loaded,se=Q.uid;ne&&ne[se]&&delete ne[se]}}function C(ye,Q){if(ye.length!==0){O(ye[0],Q);for(var ne=1;ne<ye.length;ne++)O(ye[ne],!Q)}}function O(ye,Q){for(var ne=0,se=0,be=0,we=ye.length,De=we-1;be<we;De=be++){var Me=(ye[be][0]-ye[De][0])*(ye[De][1]+ye[be][1]),ke=ne+Me;se+=Math.abs(ne)>=Math.abs(Me)?ne-ke+Me:Me-ke+ne,ne=ke}ne+se>=0!=!!Q&&ye.reverse()}var A=a.by(function ye(Q,ne){var se,be=Q&&Q.type;if(be==="FeatureCollection")for(se=0;se<Q.features.length;se++)ye(Q.features[se],ne);else if(be==="GeometryCollection")for(se=0;se<Q.geometries.length;se++)ye(Q.geometries[se],ne);else if(be==="Feature")ye(Q.geometry,ne);else if(be==="Polygon")C(Q.coordinates,ne);else if(be==="MultiPolygon")for(se=0;se<Q.coordinates.length;se++)C(Q.coordinates[se],ne);return Q});const M=a.bv.VectorTileFeature.prototype.toGeoJSON;var I={exports:{}},N=a.bz,$=a.bv.VectorTileFeature,D=F;function F(ye,Q){this.options=Q||{},this.features=ye,this.length=ye.length}function q(ye,Q){this.id=typeof ye.id=="number"?ye.id:void 0,this.type=ye.type,this.rawGeometry=ye.type===1?[ye.geometry]:ye.geometry,this.properties=ye.tags,this.extent=Q||4096}F.prototype.feature=function(ye){return new q(this.features[ye],this.options.extent)},q.prototype.loadGeometry=function(){var ye=this.rawGeometry;this.geometry=[];for(var Q=0;Q<ye.length;Q++){for(var ne=ye[Q],se=[],be=0;be<ne.length;be++)se.push(new N(ne[be][0],ne[be][1]));this.geometry.push(se)}return this.geometry},q.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ye=this.geometry,Q=1/0,ne=-1/0,se=1/0,be=-1/0,we=0;we<ye.length;we++)for(var De=ye[we],Me=0;Me<De.length;Me++){var ke=De[Me];Q=Math.min(Q,ke.x),ne=Math.max(ne,ke.x),se=Math.min(se,ke.y),be=Math.max(be,ke.y)}return[Q,se,ne,be]},q.prototype.toGeoJSON=$.prototype.toGeoJSON;var X=a.bA,J=D;function ie(ye){var Q=new X;return function(ne,se){for(var be in ne.layers)se.writeMessage(3,ge,ne.layers[be])}(ye,Q),Q.finish()}function ge(ye,Q){var ne;Q.writeVarintField(15,ye.version||1),Q.writeStringField(1,ye.name||""),Q.writeVarintField(5,ye.extent||4096);var se={keys:[],values:[],keycache:{},valuecache:{}};for(ne=0;ne<ye.length;ne++)se.feature=ye.feature(ne),Q.writeMessage(2,Ce,se);var be=se.keys;for(ne=0;ne<be.length;ne++)Q.writeStringField(3,be[ne]);var we=se.values;for(ne=0;ne<we.length;ne++)Q.writeMessage(4,le,we[ne])}function Ce(ye,Q){var ne=ye.feature;ne.id!==void 0&&Q.writeVarintField(1,ne.id),Q.writeMessage(2,fe,ye),Q.writeVarintField(3,ne.type),Q.writeMessage(4,xe,ne)}function fe(ye,Q){var ne=ye.feature,se=ye.keys,be=ye.values,we=ye.keycache,De=ye.valuecache;for(var Me in ne.properties){var ke=ne.properties[Me],Ie=we[Me];if(ke!==null){Ie===void 0&&(se.push(Me),we[Me]=Ie=se.length-1),Q.writeVarint(Ie);var Ge=typeof ke;Ge!=="string"&&Ge!=="boolean"&&Ge!=="number"&&(ke=JSON.stringify(ke));var qe=Ge+":"+ke,Ze=De[qe];Ze===void 0&&(be.push(ke),De[qe]=Ze=be.length-1),Q.writeVarint(Ze)}}}function ce(ye,Q){return(Q<<3)+(7&ye)}function ue(ye){return ye<<1^ye>>31}function xe(ye,Q){for(var ne=ye.loadGeometry(),se=ye.type,be=0,we=0,De=ne.length,Me=0;Me<De;Me++){var ke=ne[Me],Ie=1;se===1&&(Ie=ke.length),Q.writeVarint(ce(1,Ie));for(var Ge=se===3?ke.length-1:ke.length,qe=0;qe<Ge;qe++){qe===1&&se!==1&&Q.writeVarint(ce(2,Ge-1));var Ze=ke[qe].x-be,Ht=ke[qe].y-we;Q.writeVarint(ue(Ze)),Q.writeVarint(ue(Ht)),be+=Ze,we+=Ht}se===3&&Q.writeVarint(ce(7,1))}}function le(ye,Q){var ne=typeof ye;ne==="string"?Q.writeStringField(1,ye):ne==="boolean"?Q.writeBooleanField(7,ye):ne==="number"&&(ye%1!=0?Q.writeDoubleField(3,ye):ye<0?Q.writeSVarintField(6,ye):Q.writeVarintField(5,ye))}I.exports=ie,I.exports.fromVectorTileJs=ie,I.exports.fromGeojsonVt=function(ye,Q){Q=Q||{};var ne={};for(var se in ye)ne[se]=new J(ye[se].features,Q),ne[se].name=se,ne[se].version=Q.version,ne[se].extent=Q.extent;return ie({layers:ne})},I.exports.GeoJSONWrapper=J;var Pe=a.by(I.exports);const je={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ye=>ye},Qe=Math.fround||(We=new Float32Array(1),ye=>(We[0]=+ye,We[0]));var We;const Ke=3,nt=5,mt=6;class st{constructor(Q){this.options=Object.assign(Object.create(je),Q),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(Q){const{log:ne,minZoom:se,maxZoom:be}=this.options;ne&&console.time("total time");const we=`prepare ${Q.length} points`;ne&&console.time(we),this.points=Q;const De=[];for(let ke=0;ke<Q.length;ke++){const Ie=Q[ke];if(!Ie.geometry)continue;const[Ge,qe]=Ie.geometry.coordinates,Ze=Qe(He(Ge)),Ht=Qe(ct(qe));De.push(Ze,Ht,1/0,ke,-1,1),this.options.reduce&&De.push(0)}let Me=this.trees[be+1]=this._createTree(De);ne&&console.timeEnd(we);for(let ke=be;ke>=se;ke--){const Ie=+Date.now();Me=this.trees[ke]=this._createTree(this._cluster(Me,ke)),ne&&console.log("z%d: %d clusters in %dms",ke,Me.numItems,+Date.now()-Ie)}return ne&&console.timeEnd("total time"),this}getClusters(Q,ne){let se=((Q[0]+180)%360+360)%360-180;const be=Math.max(-90,Math.min(90,Q[1]));let we=Q[2]===180?180:((Q[2]+180)%360+360)%360-180;const De=Math.max(-90,Math.min(90,Q[3]));if(Q[2]-Q[0]>=360)se=-180,we=180;else if(se>we){const qe=this.getClusters([se,be,180,De],ne),Ze=this.getClusters([-180,be,we,De],ne);return qe.concat(Ze)}const Me=this.trees[this._limitZoom(ne)],ke=Me.range(He(se),ct(De),He(we),ct(be)),Ie=Me.data,Ge=[];for(const qe of ke){const Ze=this.stride*qe;Ge.push(Ie[Ze+nt]>1?Nt(Ie,Ze,this.clusterProps):this.points[Ie[Ze+Ke]])}return Ge}getChildren(Q){const ne=this._getOriginId(Q),se=this._getOriginZoom(Q),be="No cluster with the specified id.",we=this.trees[se];if(!we)throw new Error(be);const De=we.data;if(ne*this.stride>=De.length)throw new Error(be);const Me=this.options.radius/(this.options.extent*Math.pow(2,se-1)),ke=we.within(De[ne*this.stride],De[ne*this.stride+1],Me),Ie=[];for(const Ge of ke){const qe=Ge*this.stride;De[qe+4]===Q&&Ie.push(De[qe+nt]>1?Nt(De,qe,this.clusterProps):this.points[De[qe+Ke]])}if(Ie.length===0)throw new Error(be);return Ie}getLeaves(Q,ne,se){const be=[];return this._appendLeaves(be,Q,ne=ne||10,se=se||0,0),be}getTile(Q,ne,se){const be=this.trees[this._limitZoom(Q)],we=Math.pow(2,Q),{extent:De,radius:Me}=this.options,ke=Me/De,Ie=(se-ke)/we,Ge=(se+1+ke)/we,qe={features:[]};return this._addTileFeatures(be.range((ne-ke)/we,Ie,(ne+1+ke)/we,Ge),be.data,ne,se,we,qe),ne===0&&this._addTileFeatures(be.range(1-ke/we,Ie,1,Ge),be.data,we,se,we,qe),ne===we-1&&this._addTileFeatures(be.range(0,Ie,ke/we,Ge),be.data,-1,se,we,qe),qe.features.length?qe:null}getClusterExpansionZoom(Q){let ne=this._getOriginZoom(Q)-1;for(;ne<=this.options.maxZoom;){const se=this.getChildren(Q);if(ne++,se.length!==1)break;Q=se[0].properties.cluster_id}return ne}_appendLeaves(Q,ne,se,be,we){const De=this.getChildren(ne);for(const Me of De){const ke=Me.properties;if(ke&&ke.cluster?we+ke.point_count<=be?we+=ke.point_count:we=this._appendLeaves(Q,ke.cluster_id,se,be,we):we<be?we++:Q.push(Me),Q.length===se)break}return we}_createTree(Q){const ne=new a.av(Q.length/this.stride|0,this.options.nodeSize,Float32Array);for(let se=0;se<Q.length;se+=this.stride)ne.add(Q[se],Q[se+1]);return ne.finish(),ne.data=Q,ne}_addTileFeatures(Q,ne,se,be,we,De){for(const Me of Q){const ke=Me*this.stride,Ie=ne[ke+nt]>1;let Ge,qe,Ze;if(Ie)Ge=Mt(ne,ke,this.clusterProps),qe=ne[ke],Ze=ne[ke+1];else{const It=this.points[ne[ke+Ke]];Ge=It.properties;const[Gt,cn]=It.geometry.coordinates;qe=He(Gt),Ze=ct(cn)}const Ht={type:1,geometry:[[Math.round(this.options.extent*(qe*we-se)),Math.round(this.options.extent*(Ze*we-be))]],tags:Ge};let Zt;Zt=Ie||this.options.generateId?ne[ke+Ke]:this.points[ne[ke+Ke]].id,Zt!==void 0&&(Ht.id=Zt),De.features.push(Ht)}}_limitZoom(Q){return Math.max(this.options.minZoom,Math.min(Math.floor(+Q),this.options.maxZoom+1))}_cluster(Q,ne){const{radius:se,extent:be,reduce:we,minPoints:De}=this.options,Me=se/(be*Math.pow(2,ne)),ke=Q.data,Ie=[],Ge=this.stride;for(let qe=0;qe<ke.length;qe+=Ge){if(ke[qe+2]<=ne)continue;ke[qe+2]=ne;const Ze=ke[qe],Ht=ke[qe+1],Zt=Q.within(ke[qe],ke[qe+1],Me),It=ke[qe+nt];let Gt=It;for(const cn of Zt){const Ln=cn*Ge;ke[Ln+2]>ne&&(Gt+=ke[Ln+nt])}if(Gt>It&&Gt>=De){let cn,Ln=Ze*It,Wn=Ht*It,An=-1;const Tn=((qe/Ge|0)<<5)+(ne+1)+this.points.length;for(const Ai of Zt){const or=Ai*Ge;if(ke[or+2]<=ne)continue;ke[or+2]=ne;const Xt=ke[or+nt];Ln+=ke[or]*Xt,Wn+=ke[or+1]*Xt,ke[or+4]=Tn,we&&(cn||(cn=this._map(ke,qe,!0),An=this.clusterProps.length,this.clusterProps.push(cn)),we(cn,this._map(ke,or)))}ke[qe+4]=Tn,Ie.push(Ln/Gt,Wn/Gt,1/0,Tn,-1,Gt),we&&Ie.push(An)}else{for(let cn=0;cn<Ge;cn++)Ie.push(ke[qe+cn]);if(Gt>1)for(const cn of Zt){const Ln=cn*Ge;if(!(ke[Ln+2]<=ne)){ke[Ln+2]=ne;for(let Wn=0;Wn<Ge;Wn++)Ie.push(ke[Ln+Wn])}}}}return Ie}_getOriginId(Q){return Q-this.points.length>>5}_getOriginZoom(Q){return(Q-this.points.length)%32}_map(Q,ne,se){if(Q[ne+nt]>1){const De=this.clusterProps[Q[ne+mt]];return se?Object.assign({},De):De}const be=this.points[Q[ne+Ke]].properties,we=this.options.map(be);return se&&we===be?Object.assign({},we):we}}function Nt(ye,Q,ne){return{type:"Feature",id:ye[Q+Ke],properties:Mt(ye,Q,ne),geometry:{type:"Point",coordinates:[(se=ye[Q],360*(se-.5)),ut(ye[Q+1])]}};var se}function Mt(ye,Q,ne){const se=ye[Q+nt],be=se>=1e4?`${Math.round(se/1e3)}k`:se>=1e3?Math.round(se/100)/10+"k":se,we=ye[Q+mt],De=we===-1?{}:Object.assign({},ne[we]);return Object.assign(De,{cluster:!0,cluster_id:ye[Q+Ke],point_count:se,point_count_abbreviated:be})}function He(ye){return ye/360+.5}function ct(ye){const Q=Math.sin(ye*Math.PI/180),ne=.5-.25*Math.log((1+Q)/(1-Q))/Math.PI;return ne<0?0:ne>1?1:ne}function ut(ye){const Q=(180-360*ye)*Math.PI/180;return 360*Math.atan(Math.exp(Q))/Math.PI-90}function Ve(ye,Q,ne,se){for(var be,we=se,De=ne-Q>>1,Me=ne-Q,ke=ye[Q],Ie=ye[Q+1],Ge=ye[ne],qe=ye[ne+1],Ze=Q+3;Ze<ne;Ze+=3){var Ht=Tt(ye[Ze],ye[Ze+1],ke,Ie,Ge,qe);if(Ht>we)be=Ze,we=Ht;else if(Ht===we){var Zt=Math.abs(Ze-De);Zt<Me&&(be=Ze,Me=Zt)}}we>se&&(be-Q>3&&Ve(ye,Q,be,se),ye[be+2]=we,ne-be>3&&Ve(ye,be,ne,se))}function Tt(ye,Q,ne,se,be,we){var De=be-ne,Me=we-se;if(De!==0||Me!==0){var ke=((ye-ne)*De+(Q-se)*Me)/(De*De+Me*Me);ke>1?(ne=be,se=we):ke>0&&(ne+=De*ke,se+=Me*ke)}return(De=ye-ne)*De+(Me=Q-se)*Me}function Pt(ye,Q,ne,se){var be={id:ye===void 0?null:ye,type:Q,geometry:ne,tags:se,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(we){var De=we.geometry,Me=we.type;if(Me==="Point"||Me==="MultiPoint"||Me==="LineString")Vt(we,De);else if(Me==="Polygon"||Me==="MultiLineString")for(var ke=0;ke<De.length;ke++)Vt(we,De[ke]);else if(Me==="MultiPolygon")for(ke=0;ke<De.length;ke++)for(var Ie=0;Ie<De[ke].length;Ie++)Vt(we,De[ke][Ie])}(be),be}function Vt(ye,Q){for(var ne=0;ne<Q.length;ne+=3)ye.minX=Math.min(ye.minX,Q[ne]),ye.minY=Math.min(ye.minY,Q[ne+1]),ye.maxX=Math.max(ye.maxX,Q[ne]),ye.maxY=Math.max(ye.maxY,Q[ne+1])}function gn(ye,Q,ne,se){if(Q.geometry){var be=Q.geometry.coordinates,we=Q.geometry.type,De=Math.pow(ne.tolerance/((1<<ne.maxZoom)*ne.extent),2),Me=[],ke=Q.id;if(ne.promoteId?ke=Q.properties[ne.promoteId]:ne.generateId&&(ke=se||0),we==="Point")bn(be,Me);else if(we==="MultiPoint")for(var Ie=0;Ie<be.length;Ie++)bn(be[Ie],Me);else if(we==="LineString")_n(be,Me,De,!1);else if(we==="MultiLineString"){if(ne.lineMetrics){for(Ie=0;Ie<be.length;Ie++)_n(be[Ie],Me=[],De,!1),ye.push(Pt(ke,"LineString",Me,Q.properties));return}rr(be,Me,De,!1)}else if(we==="Polygon")rr(be,Me,De,!0);else{if(we!=="MultiPolygon"){if(we==="GeometryCollection"){for(Ie=0;Ie<Q.geometry.geometries.length;Ie++)gn(ye,{id:ke,geometry:Q.geometry.geometries[Ie],properties:Q.properties},ne,se);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Ie=0;Ie<be.length;Ie++){var Ge=[];rr(be[Ie],Ge,De,!0),Me.push(Ge)}}ye.push(Pt(ke,we,Me,Q.properties))}}function bn(ye,Q){Q.push(ze(ye[0])),Q.push(an(ye[1])),Q.push(0)}function _n(ye,Q,ne,se){for(var be,we,De=0,Me=0;Me<ye.length;Me++){var ke=ze(ye[Me][0]),Ie=an(ye[Me][1]);Q.push(ke),Q.push(Ie),Q.push(0),Me>0&&(De+=se?(be*Ie-ke*we)/2:Math.sqrt(Math.pow(ke-be,2)+Math.pow(Ie-we,2))),be=ke,we=Ie}var Ge=Q.length-3;Q[2]=1,Ve(Q,0,Ge,ne),Q[Ge+2]=1,Q.size=Math.abs(De),Q.start=0,Q.end=Q.size}function rr(ye,Q,ne,se){for(var be=0;be<ye.length;be++){var we=[];_n(ye[be],we,ne,se),Q.push(we)}}function ze(ye){return ye/360+.5}function an(ye){var Q=Math.sin(ye*Math.PI/180),ne=.5-.25*Math.log((1+Q)/(1-Q))/Math.PI;return ne<0?0:ne>1?1:ne}function Mn(ye,Q,ne,se,be,we,De,Me){if(se/=Q,we>=(ne/=Q)&&De<se)return ye;if(De<ne||we>=se)return null;for(var ke=[],Ie=0;Ie<ye.length;Ie++){var Ge=ye[Ie],qe=Ge.geometry,Ze=Ge.type,Ht=be===0?Ge.minX:Ge.minY,Zt=be===0?Ge.maxX:Ge.maxY;if(Ht>=ne&&Zt<se)ke.push(Ge);else if(!(Zt<ne||Ht>=se)){var It=[];if(Ze==="Point"||Ze==="MultiPoint")on(qe,It,ne,se,be);else if(Ze==="LineString")$t(qe,It,ne,se,be,!1,Me.lineMetrics);else if(Ze==="MultiLineString")ir(qe,It,ne,se,be,!1);else if(Ze==="Polygon")ir(qe,It,ne,se,be,!0);else if(Ze==="MultiPolygon")for(var Gt=0;Gt<qe.length;Gt++){var cn=[];ir(qe[Gt],cn,ne,se,be,!0),cn.length&&It.push(cn)}if(It.length){if(Me.lineMetrics&&Ze==="LineString"){for(Gt=0;Gt<It.length;Gt++)ke.push(Pt(Ge.id,Ze,It[Gt],Ge.tags));continue}Ze!=="LineString"&&Ze!=="MultiLineString"||(It.length===1?(Ze="LineString",It=It[0]):Ze="MultiLineString"),Ze!=="Point"&&Ze!=="MultiPoint"||(Ze=It.length===3?"Point":"MultiPoint"),ke.push(Pt(Ge.id,Ze,It,Ge.tags))}}}return ke.length?ke:null}function on(ye,Q,ne,se,be){for(var we=0;we<ye.length;we+=3){var De=ye[we+be];De>=ne&&De<=se&&(Q.push(ye[we]),Q.push(ye[we+1]),Q.push(ye[we+2]))}}function $t(ye,Q,ne,se,be,we,De){for(var Me,ke,Ie=Vn(ye),Ge=be===0?Rn:Kt,qe=ye.start,Ze=0;Ze<ye.length-3;Ze+=3){var Ht=ye[Ze],Zt=ye[Ze+1],It=ye[Ze+2],Gt=ye[Ze+3],cn=ye[Ze+4],Ln=be===0?Ht:Zt,Wn=be===0?Gt:cn,An=!1;De&&(Me=Math.sqrt(Math.pow(Ht-Gt,2)+Math.pow(Zt-cn,2))),Ln<ne?Wn>ne&&(ke=Ge(Ie,Ht,Zt,Gt,cn,ne),De&&(Ie.start=qe+Me*ke)):Ln>se?Wn<se&&(ke=Ge(Ie,Ht,Zt,Gt,cn,se),De&&(Ie.start=qe+Me*ke)):Tr(Ie,Ht,Zt,It),Wn<ne&&Ln>=ne&&(ke=Ge(Ie,Ht,Zt,Gt,cn,ne),An=!0),Wn>se&&Ln<=se&&(ke=Ge(Ie,Ht,Zt,Gt,cn,se),An=!0),!we&&An&&(De&&(Ie.end=qe+Me*ke),Q.push(Ie),Ie=Vn(ye)),De&&(qe+=Me)}var Tn=ye.length-3;Ht=ye[Tn],Zt=ye[Tn+1],It=ye[Tn+2],(Ln=be===0?Ht:Zt)>=ne&&Ln<=se&&Tr(Ie,Ht,Zt,It),Tn=Ie.length-3,we&&Tn>=3&&(Ie[Tn]!==Ie[0]||Ie[Tn+1]!==Ie[1])&&Tr(Ie,Ie[0],Ie[1],Ie[2]),Ie.length&&Q.push(Ie)}function Vn(ye){var Q=[];return Q.size=ye.size,Q.start=ye.start,Q.end=ye.end,Q}function ir(ye,Q,ne,se,be,we){for(var De=0;De<ye.length;De++)$t(ye[De],Q,ne,se,be,we,!1)}function Tr(ye,Q,ne,se){ye.push(Q),ye.push(ne),ye.push(se)}function Rn(ye,Q,ne,se,be,we){var De=(we-Q)/(se-Q);return ye.push(we),ye.push(ne+(be-ne)*De),ye.push(1),De}function Kt(ye,Q,ne,se,be,we){var De=(we-ne)/(be-ne);return ye.push(Q+(se-Q)*De),ye.push(we),ye.push(1),De}function ur(ye,Q){for(var ne=[],se=0;se<ye.length;se++){var be,we=ye[se],De=we.type;if(De==="Point"||De==="MultiPoint"||De==="LineString")be=Di(we.geometry,Q);else if(De==="MultiLineString"||De==="Polygon"){be=[];for(var Me=0;Me<we.geometry.length;Me++)be.push(Di(we.geometry[Me],Q))}else if(De==="MultiPolygon")for(be=[],Me=0;Me<we.geometry.length;Me++){for(var ke=[],Ie=0;Ie<we.geometry[Me].length;Ie++)ke.push(Di(we.geometry[Me][Ie],Q));be.push(ke)}ne.push(Pt(we.id,De,be,we.tags))}return ne}function Di(ye,Q){var ne=[];ne.size=ye.size,ye.start!==void 0&&(ne.start=ye.start,ne.end=ye.end);for(var se=0;se<ye.length;se+=3)ne.push(ye[se]+Q,ye[se+1],ye[se+2]);return ne}function lt(ye,Q){if(ye.transformed)return ye;var ne,se,be,we=1<<ye.z,De=ye.x,Me=ye.y;for(ne=0;ne<ye.features.length;ne++){var ke=ye.features[ne],Ie=ke.geometry,Ge=ke.type;if(ke.geometry=[],Ge===1)for(se=0;se<Ie.length;se+=2)ke.geometry.push(Bt(Ie[se],Ie[se+1],Q,we,De,Me));else for(se=0;se<Ie.length;se++){var qe=[];for(be=0;be<Ie[se].length;be+=2)qe.push(Bt(Ie[se][be],Ie[se][be+1],Q,we,De,Me));ke.geometry.push(qe)}}return ye.transformed=!0,ye}function Bt(ye,Q,ne,se,be,we){return[Math.round(ne*(ye*se-be)),Math.round(ne*(Q*se-we))]}function ln(ye,Q,ne,se,be){for(var we=Q===be.maxZoom?0:be.tolerance/((1<<Q)*be.extent),De={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:ne,y:se,z:Q,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Me=0;Me<ye.length;Me++){De.numFeatures++,Xn(De,ye[Me],we,be);var ke=ye[Me].minX,Ie=ye[Me].minY,Ge=ye[Me].maxX,qe=ye[Me].maxY;ke<De.minX&&(De.minX=ke),Ie<De.minY&&(De.minY=Ie),Ge>De.maxX&&(De.maxX=Ge),qe>De.maxY&&(De.maxY=qe)}return De}function Xn(ye,Q,ne,se){var be=Q.geometry,we=Q.type,De=[];if(we==="Point"||we==="MultiPoint")for(var Me=0;Me<be.length;Me+=3)De.push(be[Me]),De.push(be[Me+1]),ye.numPoints++,ye.numSimplified++;else if(we==="LineString")di(De,be,ye,ne,!1,!1);else if(we==="MultiLineString"||we==="Polygon")for(Me=0;Me<be.length;Me++)di(De,be[Me],ye,ne,we==="Polygon",Me===0);else if(we==="MultiPolygon")for(var ke=0;ke<be.length;ke++){var Ie=be[ke];for(Me=0;Me<Ie.length;Me++)di(De,Ie[Me],ye,ne,!0,Me===0)}if(De.length){var Ge=Q.tags||null;if(we==="LineString"&&se.lineMetrics){for(var qe in Ge={},Q.tags)Ge[qe]=Q.tags[qe];Ge.mapbox_clip_start=be.start/be.size,Ge.mapbox_clip_end=be.end/be.size}var Ze={geometry:De,type:we==="Polygon"||we==="MultiPolygon"?3:we==="LineString"||we==="MultiLineString"?2:1,tags:Ge};Q.id!==null&&(Ze.id=Q.id),ye.features.push(Ze)}}function di(ye,Q,ne,se,be,we){var De=se*se;if(se>0&&Q.size<(be?De:se))ne.numPoints+=Q.length/3;else{for(var Me=[],ke=0;ke<Q.length;ke+=3)(se===0||Q[ke+2]>De)&&(ne.numSimplified++,Me.push(Q[ke]),Me.push(Q[ke+1])),ne.numPoints++;be&&function(Ie,Ge){for(var qe=0,Ze=0,Ht=Ie.length,Zt=Ht-2;Ze<Ht;Zt=Ze,Ze+=2)qe+=(Ie[Ze]-Ie[Zt])*(Ie[Ze+1]+Ie[Zt+1]);if(qe>0===Ge)for(Ze=0,Ht=Ie.length;Ze<Ht/2;Ze+=2){var It=Ie[Ze],Gt=Ie[Ze+1];Ie[Ze]=Ie[Ht-2-Ze],Ie[Ze+1]=Ie[Ht-1-Ze],Ie[Ht-2-Ze]=It,Ie[Ht-1-Ze]=Gt}}(Me,we),ye.push(Me)}}function ht(ye,Q){var ne=(Q=this.options=function(be,we){for(var De in we)be[De]=we[De];return be}(Object.create(this.options),Q)).debug;if(ne&&console.time("preprocess data"),Q.maxZoom<0||Q.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Q.promoteId&&Q.generateId)throw new Error("promoteId and generateId cannot be used together.");var se=function(be,we){var De=[];if(be.type==="FeatureCollection")for(var Me=0;Me<be.features.length;Me++)gn(De,be.features[Me],we,Me);else gn(De,be.type==="Feature"?be:{geometry:be},we);return De}(ye,Q);this.tiles={},this.tileCoords=[],ne&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Q.indexMaxZoom,Q.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),se=function(be,we){var De=we.buffer/we.extent,Me=be,ke=Mn(be,1,-1-De,De,0,-1,2,we),Ie=Mn(be,1,1-De,2+De,0,-1,2,we);return(ke||Ie)&&(Me=Mn(be,1,-De,1+De,0,-1,2,we)||[],ke&&(Me=ur(ke,1).concat(Me)),Ie&&(Me=Me.concat(ur(Ie,-1)))),Me}(se,Q),se.length&&this.splitTile(se,0,0,0),ne&&(se.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function fn(ye,Q,ne){return 32*((1<<ye)*ne+Q)+ye}function un(ye,Q){return Q?ye.properties[Q]:ye.id}function Li(ye,Q){if(ye==null)return!0;if(ye.type==="Feature")return un(ye,Q)!=null;if(ye.type==="FeatureCollection"){const ne=new Set;for(const se of ye.features){const be=un(se,Q);if(be==null||ne.has(be))return!1;ne.add(be)}return!0}return!1}function da(ye,Q){const ne=new Map;if(ye!=null)if(ye.type==="Feature")ne.set(un(ye,Q),ye);else for(const se of ye.features)ne.set(un(se,Q),se);return ne}ht.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ht.prototype.splitTile=function(ye,Q,ne,se,be,we,De){for(var Me=[ye,Q,ne,se],ke=this.options,Ie=ke.debug;Me.length;){se=Me.pop(),ne=Me.pop(),Q=Me.pop(),ye=Me.pop();var Ge=1<<Q,qe=fn(Q,ne,se),Ze=this.tiles[qe];if(!Ze&&(Ie>1&&console.time("creation"),Ze=this.tiles[qe]=ln(ye,Q,ne,se,ke),this.tileCoords.push({z:Q,x:ne,y:se}),Ie)){Ie>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Q,ne,se,Ze.numFeatures,Ze.numPoints,Ze.numSimplified),console.timeEnd("creation"));var Ht="z"+Q;this.stats[Ht]=(this.stats[Ht]||0)+1,this.total++}if(Ze.source=ye,be){if(Q===ke.maxZoom||Q===be)continue;var Zt=1<<be-Q;if(ne!==Math.floor(we/Zt)||se!==Math.floor(De/Zt))continue}else if(Q===ke.indexMaxZoom||Ze.numPoints<=ke.indexMaxPoints)continue;if(Ze.source=null,ye.length!==0){Ie>1&&console.time("clipping");var It,Gt,cn,Ln,Wn,An,Tn=.5*ke.buffer/ke.extent,Ai=.5-Tn,or=.5+Tn,Xt=1+Tn;It=Gt=cn=Ln=null,Wn=Mn(ye,Ge,ne-Tn,ne+or,0,Ze.minX,Ze.maxX,ke),An=Mn(ye,Ge,ne+Ai,ne+Xt,0,Ze.minX,Ze.maxX,ke),ye=null,Wn&&(It=Mn(Wn,Ge,se-Tn,se+or,1,Ze.minY,Ze.maxY,ke),Gt=Mn(Wn,Ge,se+Ai,se+Xt,1,Ze.minY,Ze.maxY,ke),Wn=null),An&&(cn=Mn(An,Ge,se-Tn,se+or,1,Ze.minY,Ze.maxY,ke),Ln=Mn(An,Ge,se+Ai,se+Xt,1,Ze.minY,Ze.maxY,ke),An=null),Ie>1&&console.timeEnd("clipping"),Me.push(It||[],Q+1,2*ne,2*se),Me.push(Gt||[],Q+1,2*ne,2*se+1),Me.push(cn||[],Q+1,2*ne+1,2*se),Me.push(Ln||[],Q+1,2*ne+1,2*se+1)}}},ht.prototype.getTile=function(ye,Q,ne){var se=this.options,be=se.extent,we=se.debug;if(ye<0||ye>24)return null;var De=1<<ye,Me=fn(ye,Q=(Q%De+De)%De,ne);if(this.tiles[Me])return lt(this.tiles[Me],be);we>1&&console.log("drilling down to z%d-%d-%d",ye,Q,ne);for(var ke,Ie=ye,Ge=Q,qe=ne;!ke&&Ie>0;)Ie--,Ge=Math.floor(Ge/2),qe=Math.floor(qe/2),ke=this.tiles[fn(Ie,Ge,qe)];return ke&&ke.source?(we>1&&console.log("found parent tile z%d-%d-%d",Ie,Ge,qe),we>1&&console.time("drilling down"),this.splitTile(ke.source,Ie,Ge,qe,ye,Q,ne),we>1&&console.timeEnd("drilling down"),this.tiles[Me]?lt(this.tiles[Me],be):null):null};class dn extends T{constructor(Q,ne,se,be){super(Q,ne,se),this._dataUpdateable=new Map,this.loadGeoJSON=(we,De)=>{const{promoteId:Me}=we;if(we.request)return a.f(we.request,(ke,Ie,Ge,qe)=>{this._dataUpdateable=Li(Ie,Me)?da(Ie,Me):void 0,De(ke,Ie,Ge,qe)});if(typeof we.data=="string")try{const ke=JSON.parse(we.data);this._dataUpdateable=Li(ke,Me)?da(ke,Me):void 0,De(null,ke)}catch{De(new Error(`Input data given to '${we.source}' is not a valid GeoJSON object.`))}else we.dataDiff?this._dataUpdateable?(function(ke,Ie,Ge){var qe,Ze,Ht,Zt;if(Ie.removeAll&&ke.clear(),Ie.remove)for(const It of Ie.remove)ke.delete(It);if(Ie.add)for(const It of Ie.add){const Gt=un(It,Ge);Gt!=null&&ke.set(Gt,It)}if(Ie.update)for(const It of Ie.update){let Gt=ke.get(It.id);if(Gt==null)continue;const cn=!It.removeAllProperties&&(((qe=It.removeProperties)===null||qe===void 0?void 0:qe.length)>0||((Ze=It.addOrUpdateProperties)===null||Ze===void 0?void 0:Ze.length)>0);if((It.newGeometry||It.removeAllProperties||cn)&&(Gt=Object.assign({},Gt),ke.set(It.id,Gt),cn&&(Gt.properties=Object.assign({},Gt.properties))),It.newGeometry&&(Gt.geometry=It.newGeometry),It.removeAllProperties)Gt.properties={};else if(((Ht=It.removeProperties)===null||Ht===void 0?void 0:Ht.length)>0)for(const Ln of It.removeProperties)Object.prototype.hasOwnProperty.call(Gt.properties,Ln)&&delete Gt.properties[Ln];if(((Zt=It.addOrUpdateProperties)===null||Zt===void 0?void 0:Zt.length)>0)for(const{key:Ln,value:Wn}of It.addOrUpdateProperties)Gt.properties[Ln]=Wn}}(this._dataUpdateable,we.dataDiff,Me),De(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):De(new Error(`Cannot update existing geojson data in ${we.source}`)):De(new Error(`Input data given to '${we.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},this.loadVectorData=this.loadGeoJSONTile,be&&(this.loadGeoJSON=be)}loadGeoJSONTile(Q,ne){const se=Q.tileID.canonical;if(!this._geoJSONIndex)return ne(null,null);const be=this._geoJSONIndex.getTile(se.z,se.x,se.y);if(!be)return ne(null,null);const we=new class{constructor(Me){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.N,this.length=Me.length,this._features=Me}feature(Me){return new class{constructor(ke){this._feature=ke,this.extent=a.N,this.type=ke.type,this.properties=ke.tags,"id"in ke&&!isNaN(ke.id)&&(this.id=parseInt(ke.id,10))}loadGeometry(){if(this._feature.type===1){const ke=[];for(const Ie of this._feature.geometry)ke.push([new a.P(Ie[0],Ie[1])]);return ke}{const ke=[];for(const Ie of this._feature.geometry){const Ge=[];for(const qe of Ie)Ge.push(new a.P(qe[0],qe[1]));ke.push(Ge)}return ke}}toGeoJSON(ke,Ie,Ge){return M.call(this,ke,Ie,Ge)}}(this._features[Me])}}(be.features);let De=Pe(we);De.byteOffset===0&&De.byteLength===De.buffer.byteLength||(De=new Uint8Array(De)),ne(null,{vectorTile:we,rawData:De.buffer})}loadData(Q,ne){var se;(se=this._pendingRequest)===null||se===void 0||se.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const be=!!(Q&&Q.request&&Q.request.collectResourceTiming)&&new a.bt(Q.request);this._pendingCallback=ne,this._pendingRequest=this.loadGeoJSON(Q,(we,De)=>{if(delete this._pendingCallback,delete this._pendingRequest,we||!De)return ne(we);if(typeof De!="object")return ne(new Error(`Input data given to '${Q.source}' is not a valid GeoJSON object.`));{A(De,!0);try{if(Q.filter){const ke=a.bB(Q.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ke.result==="error")throw new Error(ke.value.map(Ge=>`${Ge.key}: ${Ge.message}`).join(", "));De={type:"FeatureCollection",features:De.features.filter(Ge=>ke.value.evaluate({zoom:0},Ge))}}this._geoJSONIndex=Q.cluster?new st(function({superclusterOptions:ke,clusterProperties:Ie}){if(!Ie||!ke)return ke;const Ge={},qe={},Ze={accumulated:null,zoom:0},Ht={properties:null},Zt=Object.keys(Ie);for(const It of Zt){const[Gt,cn]=Ie[It],Ln=a.bB(cn),Wn=a.bB(typeof Gt=="string"?[Gt,["accumulated"],["get",It]]:Gt);Ge[It]=Ln.value,qe[It]=Wn.value}return ke.map=It=>{Ht.properties=It;const Gt={};for(const cn of Zt)Gt[cn]=Ge[cn].evaluate(Ze,Ht);return Gt},ke.reduce=(It,Gt)=>{Ht.properties=Gt;for(const cn of Zt)Ze.accumulated=It[cn],It[cn]=qe[cn].evaluate(Ze,Ht)},ke}(Q)).load(De.features):function(ke,Ie){return new ht(ke,Ie)}(De,Q.geojsonVtOptions)}catch(ke){return ne(ke)}this.loaded={};const Me={};if(be){const ke=be.finish();ke&&(Me.resourceTiming={},Me.resourceTiming[Q.source]=JSON.parse(JSON.stringify(ke)))}ne(null,Me)}})}reloadTile(Q,ne){const se=this.loaded;return se&&se[Q.uid]?super.reloadTile(Q,ne):this.loadTile(Q,ne)}removeSource(Q,ne){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),ne()}getClusterExpansionZoom(Q,ne){try{ne(null,this._geoJSONIndex.getClusterExpansionZoom(Q.clusterId))}catch(se){ne(se)}}getClusterChildren(Q,ne){try{ne(null,this._geoJSONIndex.getChildren(Q.clusterId))}catch(se){ne(se)}}getClusterLeaves(Q,ne){try{ne(null,this._geoJSONIndex.getLeaves(Q.clusterId,Q.limit,Q.offset))}catch(se){ne(se)}}}class fa{constructor(Q){this.self=Q,this.actor=new a.C(Q,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:T,geojson:dn},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(ne,se)=>{if(this.workerSourceTypes[ne])throw new Error(`Worker source with name "${ne}" already registered.`);this.workerSourceTypes[ne]=se},this.self.registerRTLTextPlugin=ne=>{if(a.bC.isParsed())throw new Error("RTL text plugin already registered.");a.bC.applyArabicShaping=ne.applyArabicShaping,a.bC.processBidirectionalText=ne.processBidirectionalText,a.bC.processStyledBidirectionalText=ne.processStyledBidirectionalText}}setReferrer(Q,ne){this.referrer=ne}setImages(Q,ne,se){this.availableImages[Q]=ne;for(const be in this.workerSources[Q]){const we=this.workerSources[Q][be];for(const De in we)we[De].availableImages=ne}se()}setLayers(Q,ne,se){this.getLayerIndex(Q).replace(ne),se()}updateLayers(Q,ne,se){this.getLayerIndex(Q).update(ne.layers,ne.removedIds),se()}loadTile(Q,ne,se){this.getWorkerSource(Q,ne.type,ne.source).loadTile(ne,se)}loadDEMTile(Q,ne,se){this.getDEMWorkerSource(Q,ne.source).loadTile(ne,se)}reloadTile(Q,ne,se){this.getWorkerSource(Q,ne.type,ne.source).reloadTile(ne,se)}abortTile(Q,ne,se){this.getWorkerSource(Q,ne.type,ne.source).abortTile(ne,se)}removeTile(Q,ne,se){this.getWorkerSource(Q,ne.type,ne.source).removeTile(ne,se)}removeDEMTile(Q,ne){this.getDEMWorkerSource(Q,ne.source).removeTile(ne)}removeSource(Q,ne,se){if(!this.workerSources[Q]||!this.workerSources[Q][ne.type]||!this.workerSources[Q][ne.type][ne.source])return;const be=this.workerSources[Q][ne.type][ne.source];delete this.workerSources[Q][ne.type][ne.source],be.removeSource!==void 0?be.removeSource(ne,se):se()}loadWorkerSource(Q,ne,se){try{this.self.importScripts(ne.url),se()}catch(be){se(be.toString())}}syncRTLPluginState(Q,ne,se){try{a.bC.setState(ne);const be=a.bC.getPluginURL();if(a.bC.isLoaded()&&!a.bC.isParsed()&&be!=null){this.self.importScripts(be);const we=a.bC.isParsed();se(we?void 0:new Error(`RTL Text Plugin failed to import scripts from ${be}`),we)}}catch(be){se(be.toString())}}getAvailableImages(Q){let ne=this.availableImages[Q];return ne||(ne=[]),ne}getLayerIndex(Q){let ne=this.layerIndexes[Q];return ne||(ne=this.layerIndexes[Q]=new f),ne}getWorkerSource(Q,ne,se){return this.workerSources[Q]||(this.workerSources[Q]={}),this.workerSources[Q][ne]||(this.workerSources[Q][ne]={}),this.workerSources[Q][ne][se]||(this.workerSources[Q][ne][se]=new this.workerSourceTypes[ne]({send:(be,we,De)=>{this.actor.send(be,we,De,Q)}},this.getLayerIndex(Q),this.getAvailableImages(Q))),this.workerSources[Q][ne][se]}getDEMWorkerSource(Q,ne){return this.demWorkerSources[Q]||(this.demWorkerSources[Q]={}),this.demWorkerSources[Q][ne]||(this.demWorkerSources[Q][ne]=new E),this.demWorkerSources[Q][ne]}}return a.i()&&(self.worker=new fa(self)),fa}),o(["./shared"],function(a){var f="3.6.1";class h{static testProp(c){if(!h.docStyle)return c[0];for(let p=0;p<c.length;p++)if(c[p]in h.docStyle)return c[p];return c[0]}static create(c,p,v){const _=window.document.createElement(c);return p!==void 0&&(_.className=p),v&&v.appendChild(_),_}static createNS(c,p){return window.document.createElementNS(c,p)}static disableDrag(){h.docStyle&&h.selectProp&&(h.userSelect=h.docStyle[h.selectProp],h.docStyle[h.selectProp]="none")}static enableDrag(){h.docStyle&&h.selectProp&&(h.docStyle[h.selectProp]=h.userSelect)}static setTransform(c,p){c.style[h.transformProp]=p}static addEventListener(c,p,v,_={}){c.addEventListener(p,v,"passive"in _?_:_.capture)}static removeEventListener(c,p,v,_={}){c.removeEventListener(p,v,"passive"in _?_:_.capture)}static suppressClickInternal(c){c.preventDefault(),c.stopPropagation(),window.removeEventListener("click",h.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",h.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",h.suppressClickInternal,!0)},0)}static mousePos(c,p){const v=c.getBoundingClientRect();return new a.P(p.clientX-v.left-c.clientLeft,p.clientY-v.top-c.clientTop)}static touchPos(c,p){const v=c.getBoundingClientRect(),_=[];for(let k=0;k<p.length;k++)_.push(new a.P(p[k].clientX-v.left-c.clientLeft,p[k].clientY-v.top-c.clientTop));return _}static mouseButton(c){return c.button}static remove(c){c.parentNode&&c.parentNode.removeChild(c)}}h.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,h.selectProp=h.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),h.transformProp=h.testProp(["transform","WebkitTransform"]);const g={supported:!1,testSupport:function(w){!T&&x&&(E?C(w):y=w)}};let y,x,T=!1,E=!1;function C(w){const c=w.createTexture();w.bindTexture(w.TEXTURE_2D,c);try{if(w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,w.UNSIGNED_BYTE,x),w.isContextLost())return;g.supported=!0}catch{}w.deleteTexture(c),T=!0}var O,A;typeof document<"u"&&(x=document.createElement("img"),x.onload=function(){y&&C(y),y=null,E=!0},x.onerror=function(){T=!0,y=null},x.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(w){let c,p,v,_;w.resetRequestQueue=()=>{c=[],p=0,v=0,_={}},w.addThrottleControl=H=>{const Y=v++;return _[Y]=H,Y},w.removeThrottleControl=H=>{delete _[H],z()},w.getImage=(H,Y,K=!0)=>{g.supported&&(H.headers||(H.headers={}),H.headers.accept="image/webp,*/*");const re={requestParameters:H,supportImageRefresh:K,callback:Y,cancelled:!1,completed:!1,cancel:()=>{re.completed||re.cancelled||(re.cancelled=!0,re.innerRequest&&(re.innerRequest.cancel(),p--),z())}};return c.push(re),z(),re};const k=H=>{const{requestParameters:Y,supportImageRefresh:K,callback:re}=H;return a.e(Y,{type:"image"}),(K!==!1||a.i()||a.g(Y.url)||Y.headers&&!Object.keys(Y.headers).reduce((me,pe)=>me&&pe==="accept",!0)?a.m:V)(Y,(me,pe,ve,de)=>{j(H,re,me,pe,ve,de)})},j=(H,Y,K,re,me,pe)=>{K?Y(K):re instanceof HTMLImageElement||a.a(re)?Y(null,re):re&&((ve,de)=>{typeof createImageBitmap=="function"?a.b(ve,de):a.d(ve,de)})(re,(ve,de)=>{ve!=null?Y(ve):de!=null&&Y(null,de,{cacheControl:me,expires:pe})}),H.cancelled||(H.completed=!0,p--,z())},z=()=>{const H=(()=>{const Y=Object.keys(_);let K=!1;if(Y.length>0){for(const re of Y)if(K=_[re](),K)break}return K})()?a.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:a.c.MAX_PARALLEL_IMAGE_REQUESTS;for(let Y=p;Y<H&&c.length>0;Y++){const K=c.shift();if(K.cancelled){Y--;continue}const re=k(K);p++,K.innerRequest=re}},V=(H,Y)=>{const K=new Image,re=H.url;let me=!1;const pe=H.credentials;return pe&&pe==="include"?K.crossOrigin="use-credentials":(pe&&pe==="same-origin"||!a.s(re))&&(K.crossOrigin="anonymous"),K.fetchPriority="high",K.onload=()=>{Y(null,K),K.onerror=K.onload=null},K.onerror=()=>{me||Y(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),K.onerror=K.onload=null},K.src=re,{cancel:()=>{me=!0,K.src=""}}}}(O||(O={})),O.resetRequestQueue(),function(w){w.Glyphs="Glyphs",w.Image="Image",w.Source="Source",w.SpriteImage="SpriteImage",w.SpriteJSON="SpriteJSON",w.Style="Style",w.Tile="Tile",w.Unknown="Unknown"}(A||(A={}));class M{constructor(c){this._transformRequestFn=c}transformRequest(c,p){return this._transformRequestFn&&this._transformRequestFn(c,p)||{url:c}}normalizeSpriteURL(c,p,v){const _=function(k){const j=k.match(I);if(!j)throw new Error(`Unable to parse URL "${k}"`);return{protocol:j[1],authority:j[2],path:j[3]||"/",params:j[4]?j[4].split("&"):[]}}(c);return _.path+=`${p}${v}`,function(k){const j=k.params.length?`?${k.params.join("&")}`:"";return`${k.protocol}://${k.authority}${k.path}${j}`}(_)}setTransformRequest(c){this._transformRequestFn=c}}const I=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function N(w){var c=new a.A(3);return c[0]=w[0],c[1]=w[1],c[2]=w[2],c}var $,D=function(w,c,p){return w[0]=c[0]-p[0],w[1]=c[1]-p[1],w[2]=c[2]-p[2],w};$=new a.A(3),a.A!=Float32Array&&($[0]=0,$[1]=0,$[2]=0);var F=function(w){var c=w[0],p=w[1];return c*c+p*p};function q(w){const c=[];if(typeof w=="string")c.push({id:"default",url:w});else if(w&&w.length>0){const p=[];for(const{id:v,url:_}of w){const k=`${v}${_}`;p.indexOf(k)===-1&&(p.push(k),c.push({id:v,url:_}))}}return c}function X(w,c,p,v,_){if(v)return void w(v);if(_!==Object.values(c).length||_!==Object.values(p).length)return;const k={};for(const j in c){k[j]={};const z=a.h.getImageCanvasContext(p[j]),V=c[j];for(const H in V){const{width:Y,height:K,x:re,y:me,sdf:pe,pixelRatio:ve,stretchX:de,stretchY:Ae,content:Ne}=V[H];k[j][H]={data:null,pixelRatio:ve,sdf:pe,stretchX:de,stretchY:Ae,content:Ne,spriteData:{width:Y,height:K,x:re,y:me,context:z}}}}w(null,k)}(function(){var w=new a.A(2);a.A!=Float32Array&&(w[0]=0,w[1]=0)})();class J{constructor(c,p,v,_){this.context=c,this.format=v,this.texture=c.gl.createTexture(),this.update(p,_)}update(c,p,v){const{width:_,height:k}=c,j=!(this.size&&this.size[0]===_&&this.size[1]===k||v),{context:z}=this,{gl:V}=z;if(this.useMipmap=!!(p&&p.useMipmap),V.bindTexture(V.TEXTURE_2D,this.texture),z.pixelStoreUnpackFlipY.set(!1),z.pixelStoreUnpack.set(1),z.pixelStoreUnpackPremultiplyAlpha.set(this.format===V.RGBA&&(!p||p.premultiply!==!1)),j)this.size=[_,k],c instanceof HTMLImageElement||c instanceof HTMLCanvasElement||c instanceof HTMLVideoElement||c instanceof ImageData||a.a(c)?V.texImage2D(V.TEXTURE_2D,0,this.format,this.format,V.UNSIGNED_BYTE,c):V.texImage2D(V.TEXTURE_2D,0,this.format,_,k,0,this.format,V.UNSIGNED_BYTE,c.data);else{const{x:H,y:Y}=v||{x:0,y:0};c instanceof HTMLImageElement||c instanceof HTMLCanvasElement||c instanceof HTMLVideoElement||c instanceof ImageData||a.a(c)?V.texSubImage2D(V.TEXTURE_2D,0,H,Y,V.RGBA,V.UNSIGNED_BYTE,c):V.texSubImage2D(V.TEXTURE_2D,0,H,Y,_,k,V.RGBA,V.UNSIGNED_BYTE,c.data)}this.useMipmap&&this.isSizePowerOfTwo()&&V.generateMipmap(V.TEXTURE_2D)}bind(c,p,v){const{context:_}=this,{gl:k}=_;k.bindTexture(k.TEXTURE_2D,this.texture),v!==k.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(v=k.LINEAR),c!==this.filter&&(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,c),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,v||c),this.filter=c),p!==this.wrap&&(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,p),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,p),this.wrap=p)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:c}=this.context;c.deleteTexture(this.texture),this.texture=null}}function ie(w){const{userImage:c}=w;return!!(c&&c.render&&c.render())&&(w.data.replace(new Uint8Array(c.data.buffer)),!0)}class ge extends a.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(c){if(this.loaded!==c&&(this.loaded=c,c)){for(const{ids:p,callback:v}of this.requestors)this._notify(p,v);this.requestors=[]}}getImage(c){const p=this.images[c];if(p&&!p.data&&p.spriteData){const v=p.spriteData;p.data=new a.R({width:v.width,height:v.height},v.context.getImageData(v.x,v.y,v.width,v.height).data),p.spriteData=null}return p}addImage(c,p){if(this.images[c])throw new Error(`Image id ${c} already exist, use updateImage instead`);this._validate(c,p)&&(this.images[c]=p)}_validate(c,p){let v=!0;const _=p.data||p.spriteData;return this._validateStretch(p.stretchX,_&&_.width)||(this.fire(new a.j(new Error(`Image "${c}" has invalid "stretchX" value`))),v=!1),this._validateStretch(p.stretchY,_&&_.height)||(this.fire(new a.j(new Error(`Image "${c}" has invalid "stretchY" value`))),v=!1),this._validateContent(p.content,p)||(this.fire(new a.j(new Error(`Image "${c}" has invalid "content" value`))),v=!1),v}_validateStretch(c,p){if(!c)return!0;let v=0;for(const _ of c){if(_[0]<v||_[1]<_[0]||p<_[1])return!1;v=_[1]}return!0}_validateContent(c,p){if(!c)return!0;if(c.length!==4)return!1;const v=p.spriteData,_=v&&v.width||p.data.width,k=v&&v.height||p.data.height;return!(c[0]<0||_<c[0]||c[1]<0||k<c[1]||c[2]<0||_<c[2]||c[3]<0||k<c[3]||c[2]<c[0]||c[3]<c[1])}updateImage(c,p,v=!0){const _=this.getImage(c);if(v&&(_.data.width!==p.data.width||_.data.height!==p.data.height))throw new Error(`size mismatch between old image (${_.data.width}x${_.data.height}) and new image (${p.data.width}x${p.data.height}).`);p.version=_.version+1,this.images[c]=p,this.updatedImages[c]=!0}removeImage(c){const p=this.images[c];delete this.images[c],delete this.patterns[c],p.userImage&&p.userImage.onRemove&&p.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(c,p){let v=!0;if(!this.isLoaded())for(const _ of c)this.images[_]||(v=!1);this.isLoaded()||v?this._notify(c,p):this.requestors.push({ids:c,callback:p})}_notify(c,p){const v={};for(const _ of c){let k=this.getImage(_);k||(this.fire(new a.k("styleimagemissing",{id:_})),k=this.getImage(_)),k?v[_]={data:k.data.clone(),pixelRatio:k.pixelRatio,sdf:k.sdf,version:k.version,stretchX:k.stretchX,stretchY:k.stretchY,content:k.content,hasRenderCallback:!!(k.userImage&&k.userImage.render)}:a.w(`Image "${_}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}p(null,v)}getPixelSize(){const{width:c,height:p}=this.atlasImage;return{width:c,height:p}}getPattern(c){const p=this.patterns[c],v=this.getImage(c);if(!v)return null;if(p&&p.position.version===v.version)return p.position;if(p)p.position.version=v.version;else{const _={w:v.data.width+2,h:v.data.height+2,x:0,y:0},k=new a.I(_,v);this.patterns[c]={bin:_,position:k}}return this._updatePatternAtlas(),this.patterns[c].position}bind(c){const p=c.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new J(c,this.atlasImage,p.RGBA),this.atlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE)}_updatePatternAtlas(){const c=[];for(const k in this.patterns)c.push(this.patterns[k].bin);const{w:p,h:v}=a.p(c),_=this.atlasImage;_.resize({width:p||1,height:v||1});for(const k in this.patterns){const{bin:j}=this.patterns[k],z=j.x+1,V=j.y+1,H=this.getImage(k).data,Y=H.width,K=H.height;a.R.copy(H,_,{x:0,y:0},{x:z,y:V},{width:Y,height:K}),a.R.copy(H,_,{x:0,y:K-1},{x:z,y:V-1},{width:Y,height:1}),a.R.copy(H,_,{x:0,y:0},{x:z,y:V+K},{width:Y,height:1}),a.R.copy(H,_,{x:Y-1,y:0},{x:z-1,y:V},{width:1,height:K}),a.R.copy(H,_,{x:0,y:0},{x:z+Y,y:V},{width:1,height:K})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(c){for(const p of c){if(this.callbackDispatchedThisFrame[p])continue;this.callbackDispatchedThisFrame[p]=!0;const v=this.getImage(p);v||a.w(`Image with ID: "${p}" was not found`),ie(v)&&this.updateImage(p,v)}}}const Ce=1e20;function fe(w,c,p,v,_,k,j,z,V){for(let H=c;H<c+v;H++)ce(w,p*k+H,k,_,j,z,V);for(let H=p;H<p+_;H++)ce(w,H*k+c,1,v,j,z,V)}function ce(w,c,p,v,_,k,j){k[0]=0,j[0]=-Ce,j[1]=Ce,_[0]=w[c];for(let z=1,V=0,H=0;z<v;z++){_[z]=w[c+z*p];const Y=z*z;do{const K=k[V];H=(_[z]-_[K]+Y-K*K)/(z-K)/2}while(H<=j[V]&&--V>-1);V++,k[V]=z,j[V]=H,j[V+1]=Ce}for(let z=0,V=0;z<v;z++){for(;j[V+1]<z;)V++;const H=k[V],Y=z-H;w[c+z*p]=_[H]+Y*Y}}class ue{constructor(c,p){this.requestManager=c,this.localIdeographFontFamily=p,this.entries={}}setURL(c){this.url=c}getGlyphs(c,p){const v=[];for(const _ in c)for(const k of c[_])v.push({stack:_,id:k});a.o(v,({stack:_,id:k},j)=>{let z=this.entries[_];z||(z=this.entries[_]={glyphs:{},requests:{},ranges:{}});let V=z.glyphs[k];if(V!==void 0)return void j(null,{stack:_,id:k,glyph:V});if(V=this._tinySDF(z,_,k),V)return z.glyphs[k]=V,void j(null,{stack:_,id:k,glyph:V});const H=Math.floor(k/256);if(256*H>65535)return void j(new Error("glyphs > 65535 not supported"));if(z.ranges[H])return void j(null,{stack:_,id:k,glyph:V});if(!this.url)return void j(new Error("glyphsUrl is not set"));let Y=z.requests[H];Y||(Y=z.requests[H]=[],ue.loadGlyphRange(_,H,this.url,this.requestManager,(K,re)=>{if(re){for(const me in re)this._doesCharSupportLocalGlyph(+me)||(z.glyphs[+me]=re[+me]);z.ranges[H]=!0}for(const me of Y)me(K,re);delete z.requests[H]})),Y.push((K,re)=>{K?j(K):re&&j(null,{stack:_,id:k,glyph:re[k]||null})})},(_,k)=>{if(_)p(_);else if(k){const j={};for(const{stack:z,id:V,glyph:H}of k)(j[z]||(j[z]={}))[V]=H&&{id:H.id,bitmap:H.bitmap.clone(),metrics:H.metrics};p(null,j)}})}_doesCharSupportLocalGlyph(c){return!!this.localIdeographFontFamily&&(a.u["CJK Unified Ideographs"](c)||a.u["Hangul Syllables"](c)||a.u.Hiragana(c)||a.u.Katakana(c))}_tinySDF(c,p,v){const _=this.localIdeographFontFamily;if(!_||!this._doesCharSupportLocalGlyph(v))return;let k=c.tinySDF;if(!k){let z="400";/bold/i.test(p)?z="900":/medium/i.test(p)?z="500":/light/i.test(p)&&(z="200"),k=c.tinySDF=new ue.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:_,fontWeight:z})}const j=k.draw(String.fromCharCode(v));return{id:v,bitmap:new a.q({width:j.width||60,height:j.height||60},j.data),metrics:{width:j.glyphWidth/2||24,height:j.glyphHeight/2||24,left:j.glyphLeft/2+.5||0,top:j.glyphTop/2-27.5||-8,advance:j.glyphAdvance/2||24,isDoubleResolution:!0}}}}ue.loadGlyphRange=function(w,c,p,v,_){const k=256*c,j=k+255,z=v.transformRequest(p.replace("{fontstack}",w).replace("{range}",`${k}-${j}`),A.Glyphs);a.l(z,(V,H)=>{if(V)_(V);else if(H){const Y={};for(const K of a.n(H))Y[K.id]=K;_(null,Y)}})},ue.TinySDF=class{constructor({fontSize:w=24,buffer:c=3,radius:p=8,cutoff:v=.25,fontFamily:_="sans-serif",fontWeight:k="normal",fontStyle:j="normal"}={}){this.buffer=c,this.cutoff=v,this.radius=p;const z=this.size=w+4*c,V=this._createCanvas(z),H=this.ctx=V.getContext("2d",{willReadFrequently:!0});H.font=`${j} ${k} ${w}px ${_}`,H.textBaseline="alphabetic",H.textAlign="left",H.fillStyle="black",this.gridOuter=new Float64Array(z*z),this.gridInner=new Float64Array(z*z),this.f=new Float64Array(z),this.z=new Float64Array(z+1),this.v=new Uint16Array(z)}_createCanvas(w){const c=document.createElement("canvas");return c.width=c.height=w,c}draw(w){const{width:c,actualBoundingBoxAscent:p,actualBoundingBoxDescent:v,actualBoundingBoxLeft:_,actualBoundingBoxRight:k}=this.ctx.measureText(w),j=Math.ceil(p),z=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(k-_))),V=Math.min(this.size-this.buffer,j+Math.ceil(v)),H=z+2*this.buffer,Y=V+2*this.buffer,K=Math.max(H*Y,0),re=new Uint8ClampedArray(K),me={data:re,width:H,height:Y,glyphWidth:z,glyphHeight:V,glyphTop:j,glyphLeft:0,glyphAdvance:c};if(z===0||V===0)return me;const{ctx:pe,buffer:ve,gridInner:de,gridOuter:Ae}=this;pe.clearRect(ve,ve,z,V),pe.fillText(w,ve,ve+j);const Ne=pe.getImageData(ve,ve,z,V);Ae.fill(Ce,0,K),de.fill(0,0,K);for(let Se=0;Se<V;Se++)for(let $e=0;$e<z;$e++){const Fe=Ne.data[4*(Se*z+$e)+3]/255;if(Fe===0)continue;const Ue=(Se+ve)*H+$e+ve;if(Fe===1)Ae[Ue]=0,de[Ue]=Ce;else{const Xe=.5-Fe;Ae[Ue]=Xe>0?Xe*Xe:0,de[Ue]=Xe<0?Xe*Xe:0}}fe(Ae,0,0,H,Y,H,this.f,this.v,this.z),fe(de,ve,ve,z,V,H,this.f,this.v,this.z);for(let Se=0;Se<K;Se++){const $e=Math.sqrt(Ae[Se])-Math.sqrt(de[Se]);re[Se]=Math.round(255-255*($e/this.radius+this.cutoff))}return me}};class xe{constructor(){this.specification=a.v.light.position}possiblyEvaluate(c,p){return a.z(c.expression.evaluate(p))}interpolate(c,p,v){return{x:a.B.number(c.x,p.x,v),y:a.B.number(c.y,p.y,v),z:a.B.number(c.z,p.z,v)}}}let le;class Pe extends a.E{constructor(c){super(),le=le||new a.r({anchor:new a.D(a.v.light.anchor),position:new xe,color:new a.D(a.v.light.color),intensity:new a.D(a.v.light.intensity)}),this._transitionable=new a.T(le),this.setLight(c),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(c,p={}){if(!this._validate(a.t,c,p))for(const v in c){const _=c[v];v.endsWith("-transition")?this._transitionable.setTransition(v.slice(0,-11),_):this._transitionable.setValue(v,_)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,p,v){return(!v||v.validate!==!1)&&a.x(this,c.call(a.y,a.e({value:p,style:{glyphs:!0,sprite:!0},styleSpec:a.v})))}}class je{constructor(c,p){this.width=c,this.height=p,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(c,p){const v=c.join(",")+String(p);return this.dashEntry[v]||(this.dashEntry[v]=this.addDash(c,p)),this.dashEntry[v]}getDashRanges(c,p,v){const _=[];let k=c.length%2==1?-c[c.length-1]*v:0,j=c[0]*v,z=!0;_.push({left:k,right:j,isDash:z,zeroLength:c[0]===0});let V=c[0];for(let H=1;H<c.length;H++){z=!z;const Y=c[H];k=V*v,V+=Y,j=V*v,_.push({left:k,right:j,isDash:z,zeroLength:Y===0})}return _}addRoundDash(c,p,v){const _=p/2;for(let k=-v;k<=v;k++){const j=this.width*(this.nextRow+v+k);let z=0,V=c[z];for(let H=0;H<this.width;H++){H/V.right>1&&(V=c[++z]);const Y=Math.abs(H-V.left),K=Math.abs(H-V.right),re=Math.min(Y,K);let me;const pe=k/v*(_+1);if(V.isDash){const ve=_-Math.abs(pe);me=Math.sqrt(re*re+ve*ve)}else me=_-Math.sqrt(re*re+pe*pe);this.data[j+H]=Math.max(0,Math.min(255,me+128))}}}addRegularDash(c){for(let z=c.length-1;z>=0;--z){const V=c[z],H=c[z+1];V.zeroLength?c.splice(z,1):H&&H.isDash===V.isDash&&(H.left=V.left,c.splice(z,1))}const p=c[0],v=c[c.length-1];p.isDash===v.isDash&&(p.left=v.left-this.width,v.right=p.right+this.width);const _=this.width*this.nextRow;let k=0,j=c[k];for(let z=0;z<this.width;z++){z/j.right>1&&(j=c[++k]);const V=Math.abs(z-j.left),H=Math.abs(z-j.right),Y=Math.min(V,H);this.data[_+z]=Math.max(0,Math.min(255,(j.isDash?Y:-Y)+128))}}addDash(c,p){const v=p?7:0,_=2*v+1;if(this.nextRow+_>this.height)return a.w("LineAtlas out of space"),null;let k=0;for(let z=0;z<c.length;z++)k+=c[z];if(k!==0){const z=this.width/k,V=this.getDashRanges(c,this.width,z);p?this.addRoundDash(V,z,v):this.addRegularDash(V)}const j={y:(this.nextRow+v+.5)/this.height,height:2*v/this.height,width:k};return this.nextRow+=_,this.dirty=!0,j}bind(c){const p=c.gl;this.texture?(p.bindTexture(p.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,p.texSubImage2D(p.TEXTURE_2D,0,0,0,this.width,this.height,p.ALPHA,p.UNSIGNED_BYTE,this.data))):(this.texture=p.createTexture(),p.bindTexture(p.TEXTURE_2D,this.texture),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texImage2D(p.TEXTURE_2D,0,p.ALPHA,this.width,this.height,0,p.ALPHA,p.UNSIGNED_BYTE,this.data))}}class Qe{constructor(c,p,v){this.workerPool=c,this.actors=[],this.currentActor=0,this.id=v;const _=this.workerPool.acquire(v);for(let k=0;k<_.length;k++){const j=new a.C(_[k],p,v);j.name=`Worker ${k}`,this.actors.push(j)}if(!this.actors.length)throw new Error("No actors found")}broadcast(c,p,v){a.o(this.actors,(_,k)=>{_.send(c,p,k)},v=v||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(c=!0){this.actors.forEach(p=>{p.remove()}),this.actors=[],c&&this.workerPool.release(this.id)}}function We(w,c,p){const v=function(_,k){if(_)return p(_);if(k){const j=a.F(a.e(k,w),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);k.vector_layers&&(j.vectorLayers=k.vector_layers,j.vectorLayerIds=j.vectorLayers.map(z=>z.id)),p(null,j)}};return w.url?a.f(c.transformRequest(w.url,A.Source),v):a.h.frame(()=>v(null,w))}class Ke{constructor(c,p){c&&(p?this.setSouthWest(c).setNorthEast(p):Array.isArray(c)&&(c.length===4?this.setSouthWest([c[0],c[1]]).setNorthEast([c[2],c[3]]):this.setSouthWest(c[0]).setNorthEast(c[1])))}setNorthEast(c){return this._ne=c instanceof a.L?new a.L(c.lng,c.lat):a.L.convert(c),this}setSouthWest(c){return this._sw=c instanceof a.L?new a.L(c.lng,c.lat):a.L.convert(c),this}extend(c){const p=this._sw,v=this._ne;let _,k;if(c instanceof a.L)_=c,k=c;else{if(!(c instanceof Ke))return Array.isArray(c)?c.length===4||c.every(Array.isArray)?this.extend(Ke.convert(c)):this.extend(a.L.convert(c)):c&&("lng"in c||"lon"in c)&&"lat"in c?this.extend(a.L.convert(c)):this;if(_=c._sw,k=c._ne,!_||!k)return this}return p||v?(p.lng=Math.min(_.lng,p.lng),p.lat=Math.min(_.lat,p.lat),v.lng=Math.max(k.lng,v.lng),v.lat=Math.max(k.lat,v.lat)):(this._sw=new a.L(_.lng,_.lat),this._ne=new a.L(k.lng,k.lat)),this}getCenter(){return new a.L((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new a.L(this.getWest(),this.getNorth())}getSouthEast(){return new a.L(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(c){const{lng:p,lat:v}=a.L.convert(c);let _=this._sw.lng<=p&&p<=this._ne.lng;return this._sw.lng>this._ne.lng&&(_=this._sw.lng>=p&&p>=this._ne.lng),this._sw.lat<=v&&v<=this._ne.lat&&_}static convert(c){return c instanceof Ke?c:c&&new Ke(c)}static fromLngLat(c,p=0){const v=360*p/40075017,_=v/Math.cos(Math.PI/180*c.lat);return new Ke(new a.L(c.lng-_,c.lat-v),new a.L(c.lng+_,c.lat+v))}}class nt{constructor(c,p,v){this.bounds=Ke.convert(this.validateBounds(c)),this.minzoom=p||0,this.maxzoom=v||24}validateBounds(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]}contains(c){const p=Math.pow(2,c.z),v=Math.floor(a.G(this.bounds.getWest())*p),_=Math.floor(a.H(this.bounds.getNorth())*p),k=Math.ceil(a.G(this.bounds.getEast())*p),j=Math.ceil(a.H(this.bounds.getSouth())*p);return c.x>=v&&c.x<k&&c.y>=_&&c.y<j}}class mt extends a.E{constructor(c,p,v,_){if(super(),this.load=()=>{this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this._tileJSONRequest=We(this._options,this.map._requestManager,(k,j)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),k?this.fire(new a.j(k)):j&&(a.e(this,j),j.bounds&&(this.tileBounds=new nt(j.bounds,this.minzoom,this.maxzoom)),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})))})},this.serialize=()=>a.e({},this._options),this.id=c,this.dispatcher=v,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.e(this,a.F(p,["url","scheme","tileSize","promoteId"])),this._options=a.e({type:"vector"},p),this._collectResourceTiming=p.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(_)}loaded(){return this._loaded}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}onAdd(c){this.map=c,this.load()}setSourceProperty(c){this._tileJSONRequest&&this._tileJSONRequest.cancel(),c(),this.load()}setTiles(c){return this.setSourceProperty(()=>{this._options.tiles=c}),this}setUrl(c){return this.setSourceProperty(()=>{this.url=c,this._options.url=c}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(c,p){const v=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_={request:this.map._requestManager.transformRequest(v,A.Tile),uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,tileSize:this.tileSize*c.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function k(j,z){return delete c.request,c.aborted?p(null):j&&j.status!==404?p(j):(z&&z.resourceTiming&&(c.resourceTiming=z.resourceTiming),this.map._refreshExpiredTiles&&z&&c.setExpiryData(z),c.loadVectorData(z,this.map.painter),p(null),void(c.reloadCallback&&(this.loadTile(c,c.reloadCallback),c.reloadCallback=null)))}_.request.collectResourceTiming=this._collectResourceTiming,c.actor&&c.state!=="expired"?c.state==="loading"?c.reloadCallback=p:c.request=c.actor.send("reloadTile",_,k.bind(this)):(c.actor=this.dispatcher.getActor(),c.request=c.actor.send("loadTile",_,k.bind(this)))}abortTile(c){c.request&&(c.request.cancel(),delete c.request),c.actor&&c.actor.send("abortTile",{uid:c.uid,type:this.type,source:this.id},void 0)}unloadTile(c){c.unloadVectorData(),c.actor&&c.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class st extends a.E{constructor(c,p,v,_){super(),this.id=c,this.dispatcher=v,this.setEventedParent(_),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.e({type:"raster"},p),a.e(this,a.F(p,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this._tileJSONRequest=We(this._options,this.map._requestManager,(c,p)=>{this._tileJSONRequest=null,this._loaded=!0,c?this.fire(new a.j(c)):p&&(a.e(this,p),p.bounds&&(this.tileBounds=new nt(p.bounds,this.minzoom,this.maxzoom)),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(c){this.map=c,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}setSourceProperty(c){this._tileJSONRequest&&this._tileJSONRequest.cancel(),c(),this.load()}setTiles(c){return this.setSourceProperty(()=>{this._options.tiles=c}),this}serialize(){return a.e({},this._options)}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}loadTile(c,p){const v=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);c.request=O.getImage(this.map._requestManager.transformRequest(v,A.Tile),(_,k,j)=>{if(delete c.request,c.aborted)c.state="unloaded",p(null);else if(_)c.state="errored",p(_);else if(k){this.map._refreshExpiredTiles&&j&&c.setExpiryData(j);const z=this.map.painter.context,V=z.gl;c.texture=this.map.painter.getTileTexture(k.width),c.texture?c.texture.update(k,{useMipmap:!0}):(c.texture=new J(z,k,V.RGBA,{useMipmap:!0}),c.texture.bind(V.LINEAR,V.CLAMP_TO_EDGE,V.LINEAR_MIPMAP_NEAREST),z.extTextureFilterAnisotropic&&V.texParameterf(V.TEXTURE_2D,z.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,z.extTextureFilterAnisotropicMax)),c.state="loaded",p(null)}},this.map._refreshExpiredTiles)}abortTile(c,p){c.request&&(c.request.cancel(),delete c.request),p()}unloadTile(c,p){c.texture&&this.map.painter.saveTileTexture(c.texture),p()}hasTransition(){return!1}}class Nt extends st{constructor(c,p,v,_){super(c,p,v,_),this.type="raster-dem",this.maxzoom=22,this._options=a.e({type:"raster-dem"},p),this.encoding=p.encoding||"mapbox",this.redFactor=p.redFactor,this.greenFactor=p.greenFactor,this.blueFactor=p.blueFactor,this.baseShift=p.baseShift}loadTile(c,p){const v=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_=this.map._requestManager.transformRequest(v,A.Tile);function k(j,z){j&&(c.state="errored",p(j)),z&&(c.dem=z,c.needsHillshadePrepare=!0,c.needsTerrainPrepare=!0,c.state="loaded",p(null))}c.neighboringTiles=this._getNeighboringTiles(c.tileID),c.request=O.getImage(_,(j,z,V)=>a._(this,void 0,void 0,function*(){if(delete c.request,c.aborted)c.state="unloaded",p(null);else if(j)c.state="errored",p(j);else if(z){this.map._refreshExpiredTiles&&c.setExpiryData(V);const H=a.a(z)&&a.J()?z:yield function(K){return a._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&a.K()){const re=K.width+2,me=K.height+2;try{return new a.R({width:re,height:me},yield a.M(K,-1,-1,re,me))}catch{}}return a.h.getImageData(K,1)})}(z),Y={uid:c.uid,coord:c.tileID,source:this.id,rawImageData:H,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};c.actor&&c.state!=="expired"||(c.actor=this.dispatcher.getActor(),c.actor.send("loadDEMTile",Y,k))}}),this.map._refreshExpiredTiles)}_getNeighboringTiles(c){const p=c.canonical,v=Math.pow(2,p.z),_=(p.x-1+v)%v,k=p.x===0?c.wrap-1:c.wrap,j=(p.x+1+v)%v,z=p.x+1===v?c.wrap+1:c.wrap,V={};return V[new a.O(c.overscaledZ,k,p.z,_,p.y).key]={backfilled:!1},V[new a.O(c.overscaledZ,z,p.z,j,p.y).key]={backfilled:!1},p.y>0&&(V[new a.O(c.overscaledZ,k,p.z,_,p.y-1).key]={backfilled:!1},V[new a.O(c.overscaledZ,c.wrap,p.z,p.x,p.y-1).key]={backfilled:!1},V[new a.O(c.overscaledZ,z,p.z,j,p.y-1).key]={backfilled:!1}),p.y+1<v&&(V[new a.O(c.overscaledZ,k,p.z,_,p.y+1).key]={backfilled:!1},V[new a.O(c.overscaledZ,c.wrap,p.z,p.x,p.y+1).key]={backfilled:!1},V[new a.O(c.overscaledZ,z,p.z,j,p.y+1).key]={backfilled:!1}),V}unloadTile(c){c.demTexture&&this.map.painter.saveTileTexture(c.demTexture),c.fbo&&(c.fbo.destroy(),delete c.fbo),c.dem&&delete c.dem,delete c.neighboringTiles,c.state="unloaded",c.actor&&c.actor.send("removeDEMTile",{uid:c.uid,source:this.id})}}class Mt extends a.E{constructor(c,p,v,_){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>a.e({},this._options,{type:this.type,data:this._data}),this.id=c,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=v.getActor(),this.setEventedParent(_),this._data=p.data,this._options=a.e({},p),this._collectResourceTiming=p.collectResourceTiming,p.maxzoom!==void 0&&(this.maxzoom=p.maxzoom),p.type&&(this.type=p.type),p.attribution&&(this.attribution=p.attribution),this.promoteId=p.promoteId;const k=a.N/this.tileSize;this.workerOptions=a.e({source:this.id,cluster:p.cluster||!1,geojsonVtOptions:{buffer:(p.buffer!==void 0?p.buffer:128)*k,tolerance:(p.tolerance!==void 0?p.tolerance:.375)*k,extent:a.N,maxZoom:this.maxzoom,lineMetrics:p.lineMetrics||!1,generateId:p.generateId||!1},superclusterOptions:{maxZoom:p.clusterMaxZoom!==void 0?p.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,p.clusterMinPoints||2),extent:a.N,radius:(p.clusterRadius||50)*k,log:!1,generateId:p.generateId||!1},clusterProperties:p.clusterProperties,filter:p.filter},p.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}onAdd(c){this.map=c,this.load()}setData(c){return this._data=c,this._updateWorkerData(),this}updateData(c){return this._updateWorkerData(c),this}setClusterOptions(c){return this.workerOptions.cluster=c.cluster,c&&(c.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=c.clusterRadius),c.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=c.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(c,p){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:c,source:this.id},p),this}getClusterChildren(c,p){return this.actor.send("geojson.getClusterChildren",{clusterId:c,source:this.id},p),this}getClusterLeaves(c,p,v,_){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:c,limit:p,offset:v},_),this}_updateWorkerData(c){const p=a.e({},this.workerOptions);c?p.dataDiff=c:typeof this._data=="string"?(p.request=this.map._requestManager.transformRequest(a.h.resolveURL(this._data),A.Source),p.request.collectResourceTiming=this._collectResourceTiming):p.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new a.k("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,p,(v,_)=>{if(this._pendingLoads--,this._removed||_&&_.abandoned)return void this.fire(new a.k("dataabort",{dataType:"source"}));let k=null;if(_&&_.resourceTiming&&_.resourceTiming[this.id]&&(k=_.resourceTiming[this.id].slice(0)),v)return void this.fire(new a.j(v));const j={dataType:"source"};this._collectResourceTiming&&k&&k.length>0&&a.e(j,{resourceTiming:k}),this.fire(new a.k("data",Object.assign(Object.assign({},j),{sourceDataType:"metadata"}))),this.fire(new a.k("data",Object.assign(Object.assign({},j),{sourceDataType:"content"})))})}loaded(){return this._pendingLoads===0}loadTile(c,p){const v=c.actor?"reloadTile":"loadTile";c.actor=this.actor;const _={type:this.type,uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};c.request=this.actor.send(v,_,(k,j)=>(delete c.request,c.unloadVectorData(),c.aborted?p(null):k?p(k):(c.loadVectorData(j,this.map.painter,v==="reloadTile"),p(null))))}abortTile(c){c.request&&(c.request.cancel(),delete c.request),c.aborted=!0}unloadTile(c){c.unloadVectorData(),this.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var He=a.Q([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class ct extends a.E{constructor(c,p,v,_){super(),this.load=(k,j)=>{this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=O.getImage(this.map._requestManager.transformRequest(this.url,A.Image),(z,V)=>{this._request=null,this._loaded=!0,z?this.fire(new a.j(z)):V&&(this.image=V,k&&(this.coordinates=k),j&&j(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||!this.image)return;const k=this.map.painter.context,j=k.gl;this.boundsBuffer||(this.boundsBuffer=k.createVertexBuffer(this._boundsArray,He.members)),this.boundsSegments||(this.boundsSegments=a.S.simpleSegment(0,0,4,2)),this.texture||(this.texture=new J(k,this.image,j.RGBA),this.texture.bind(j.LINEAR,j.CLAMP_TO_EDGE));let z=!1;for(const V in this.tiles){const H=this.tiles[V];H.state!=="loaded"&&(H.state="loaded",H.texture=this.texture,z=!0)}z&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=c,this.dispatcher=v,this.coordinates=p.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(_),this.options=p}loaded(){return this._loaded}updateImage(c){return c.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=c.url,this.load(c.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(c){this.map=c,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(c){this.coordinates=c;const p=c.map(a.U.fromLngLat);this.tileID=function(_){let k=1/0,j=1/0,z=-1/0,V=-1/0;for(const re of _)k=Math.min(k,re.x),j=Math.min(j,re.y),z=Math.max(z,re.x),V=Math.max(V,re.y);const H=Math.max(z-k,V-j),Y=Math.max(0,Math.floor(-Math.log(H)/Math.LN2)),K=Math.pow(2,Y);return new a.W(Y,Math.floor((k+z)/2*K),Math.floor((j+V)/2*K))}(p),this.minzoom=this.maxzoom=this.tileID.z;const v=p.map(_=>this.tileID.getTilePoint(_)._round());return this._boundsArray=new a.V,this._boundsArray.emplaceBack(v[0].x,v[0].y,0,0),this._boundsArray.emplaceBack(v[1].x,v[1].y,a.N,0),this._boundsArray.emplaceBack(v[3].x,v[3].y,0,a.N),this._boundsArray.emplaceBack(v[2].x,v[2].y,a.N,a.N),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(c,p){this.tileID&&this.tileID.equals(c.tileID.canonical)?(this.tiles[String(c.tileID.wrap)]=c,c.buckets={},p(null)):(c.state="errored",p(null))}hasTransition(){return!1}}class ut extends ct{constructor(c,p,v,_){super(c,p,v,_),this.load=()=>{this._loaded=!1;const k=this.options;this.urls=[];for(const j of k.urls)this.urls.push(this.map._requestManager.transformRequest(j,A.Source).url);a.X(this.urls,(j,z)=>{this._loaded=!0,j?this.fire(new a.j(j)):z&&(this.video=z,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const k=this.map.painter.context,j=k.gl;this.boundsBuffer||(this.boundsBuffer=k.createVertexBuffer(this._boundsArray,He.members)),this.boundsSegments||(this.boundsSegments=a.S.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(j.LINEAR,j.CLAMP_TO_EDGE),j.texSubImage2D(j.TEXTURE_2D,0,0,0,j.RGBA,j.UNSIGNED_BYTE,this.video)):(this.texture=new J(k,this.video,j.RGBA),this.texture.bind(j.LINEAR,j.CLAMP_TO_EDGE));let z=!1;for(const V in this.tiles){const H=this.tiles[V];H.state!=="loaded"&&(H.state="loaded",H.texture=this.texture,z=!0)}z&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=p}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(c){if(this.video){const p=this.video.seekable;c<p.start(0)||c>p.end(0)?this.fire(new a.j(new a.Y(`sources.${this.id}`,null,`Playback for this video can be set only between the ${p.start(0)} and ${p.end(0)}-second mark.`))):this.video.currentTime=c}}getVideo(){return this.video}onAdd(c){this.map||(this.map=c,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class Ve extends ct{constructor(c,p,v,_){super(c,p,v,_),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let k=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,k=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,k=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const j=this.map.painter.context,z=j.gl;this.boundsBuffer||(this.boundsBuffer=j.createVertexBuffer(this._boundsArray,He.members)),this.boundsSegments||(this.boundsSegments=a.S.simpleSegment(0,0,4,2)),this.texture?(k||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new J(j,this.canvas,z.RGBA,{premultiply:!0});let V=!1;for(const H in this.tiles){const Y=this.tiles[H];Y.state!=="loaded"&&(Y.state="loaded",Y.texture=this.texture,V=!0)}V&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),p.coordinates?Array.isArray(p.coordinates)&&p.coordinates.length===4&&!p.coordinates.some(k=>!Array.isArray(k)||k.length!==2||k.some(j=>typeof j!="number"))||this.fire(new a.j(new a.Y(`sources.${c}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.j(new a.Y(`sources.${c}`,null,'missing required property "coordinates"'))),p.animate&&typeof p.animate!="boolean"&&this.fire(new a.j(new a.Y(`sources.${c}`,null,'optional "animate" property must be a boolean value'))),p.canvas?typeof p.canvas=="string"||p.canvas instanceof HTMLCanvasElement||this.fire(new a.j(new a.Y(`sources.${c}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.j(new a.Y(`sources.${c}`,null,'missing required property "canvas"'))),this.options=p,this.animate=p.animate===void 0||p.animate}getCanvas(){return this.canvas}onAdd(c){this.map=c,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const c of[this.canvas.width,this.canvas.height])if(isNaN(c)||c<=0)return!0;return!1}}const Tt={},Pt=w=>{switch(w){case"geojson":return Mt;case"image":return ct;case"raster":return st;case"raster-dem":return Nt;case"vector":return mt;case"video":return ut;case"canvas":return Ve}return Tt[w]};function Vt(w,c){const p=a.Z();return a.$(p,p,[1,1,0]),a.a0(p,p,[.5*w.width,.5*w.height,1]),a.a1(p,p,w.calculatePosMatrix(c.toUnwrapped()))}function gn(w,c,p,v,_,k){const j=function(K,re,me){if(K)for(const pe of K){const ve=re[pe];if(ve&&ve.source===me&&ve.type==="fill-extrusion")return!0}else for(const pe in re){const ve=re[pe];if(ve.source===me&&ve.type==="fill-extrusion")return!0}return!1}(_&&_.layers,c,w.id),z=k.maxPitchScaleFactor(),V=w.tilesIn(v,z,j);V.sort(bn);const H=[];for(const K of V)H.push({wrappedTileID:K.tileID.wrapped().key,queryResults:K.tile.queryRenderedFeatures(c,p,w._state,K.queryGeometry,K.cameraQueryGeometry,K.scale,_,k,z,Vt(w.transform,K.tileID))});const Y=function(K){const re={},me={};for(const pe of K){const ve=pe.queryResults,de=pe.wrappedTileID,Ae=me[de]=me[de]||{};for(const Ne in ve){const Se=ve[Ne],$e=Ae[Ne]=Ae[Ne]||{},Fe=re[Ne]=re[Ne]||[];for(const Ue of Se)$e[Ue.featureIndex]||($e[Ue.featureIndex]=!0,Fe.push(Ue))}}return re}(H);for(const K in Y)Y[K].forEach(re=>{const me=re.feature,pe=w.getFeatureState(me.layer["source-layer"],me.id);me.source=me.layer.source,me.layer["source-layer"]&&(me.sourceLayer=me.layer["source-layer"]),me.state=pe});return Y}function bn(w,c){const p=w.tileID,v=c.tileID;return p.overscaledZ-v.overscaledZ||p.canonical.y-v.canonical.y||p.wrap-v.wrap||p.canonical.x-v.canonical.x}class _n{constructor(c,p){this.timeAdded=0,this.fadeEndTime=0,this.tileID=c,this.uid=a.a2(),this.uses=0,this.tileSize=p,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(c){const p=c+this.timeAdded;p<this.fadeEndTime||(this.fadeEndTime=p)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(c){this.demTexture&&c.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(c,p,v){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",c){c.featureIndex&&(this.latestFeatureIndex=c.featureIndex,c.rawTileData?(this.latestRawTileData=c.rawTileData,this.latestFeatureIndex.rawTileData=c.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=c.collisionBoxArray,this.buckets=function(_,k){const j={};if(!k)return j;for(const z of _){const V=z.layerIds.map(H=>k.getLayer(H)).filter(Boolean);if(V.length!==0){z.layers=V,z.stateDependentLayerIds&&(z.stateDependentLayers=z.stateDependentLayerIds.map(H=>V.filter(Y=>Y.id===H)[0]));for(const H of V)j[H.id]=z}}return j}(c.buckets,p.style),this.hasSymbolBuckets=!1;for(const _ in this.buckets){const k=this.buckets[_];if(k instanceof a.a4){if(this.hasSymbolBuckets=!0,!v)break;k.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const _ in this.buckets){const k=this.buckets[_];if(k instanceof a.a4&&k.hasRTLText){this.hasRTLText=!0,a.a5();break}}this.queryPadding=0;for(const _ in this.buckets){const k=this.buckets[_];this.queryPadding=Math.max(this.queryPadding,p.style.getLayer(_).queryRadius(k))}c.imageAtlas&&(this.imageAtlas=c.imageAtlas),c.glyphAtlasImage&&(this.glyphAtlasImage=c.glyphAtlasImage)}else this.collisionBoxArray=new a.a3}unloadVectorData(){for(const c in this.buckets)this.buckets[c].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(c){return this.buckets[c.id]}upload(c){for(const v in this.buckets){const _=this.buckets[v];_.uploadPending()&&_.upload(c)}const p=c.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new J(c,this.imageAtlas.image,p.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new J(c,this.glyphAtlasImage,p.ALPHA),this.glyphAtlasImage=null)}prepare(c){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(c,this.imageAtlasTexture)}queryRenderedFeatures(c,p,v,_,k,j,z,V,H,Y){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:_,cameraQueryGeometry:k,scale:j,tileSize:this.tileSize,pixelPosMatrix:Y,transform:V,params:z,queryPadding:this.queryPadding*H},c,p,v):{}}querySourceFeatures(c,p){const v=this.latestFeatureIndex;if(!v||!v.rawTileData)return;const _=v.loadVTLayers(),k=p&&p.sourceLayer?p.sourceLayer:"",j=_._geojsonTileLayer||_[k];if(!j)return;const z=a.a6(p&&p.filter),{z:V,x:H,y:Y}=this.tileID.canonical,K={z:V,x:H,y:Y};for(let re=0;re<j.length;re++){const me=j.feature(re);if(z.needGeometry){const de=a.a7(me,!0);if(!z.filter(new a.a8(this.tileID.overscaledZ),de,this.tileID.canonical))continue}else if(!z.filter(new a.a8(this.tileID.overscaledZ),me))continue;const pe=v.getId(me,k),ve=new a.a9(me,V,H,Y,pe);ve.tile=K,c.push(ve)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(c){const p=this.expirationTime;if(c.cacheControl){const v=a.aa(c.cacheControl);v["max-age"]&&(this.expirationTime=Date.now()+1e3*v["max-age"])}else c.expires&&(this.expirationTime=new Date(c.expires).getTime());if(this.expirationTime){const v=Date.now();let _=!1;if(this.expirationTime>v)_=!1;else if(p)if(this.expirationTime<p)_=!0;else{const k=this.expirationTime-p;k?this.expirationTime=v+Math.max(k,3e4):_=!0}else _=!0;_?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(c,p){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(c).length===0)return;const v=this.latestFeatureIndex.loadVTLayers();for(const _ in this.buckets){if(!p.style.hasLayer(_))continue;const k=this.buckets[_],j=k.layers[0].sourceLayer||"_geojsonTileLayer",z=v[j],V=c[j];if(!z||!V||Object.keys(V).length===0)continue;k.update(V,z,this.imageAtlas&&this.imageAtlas.patternPositions||{});const H=p&&p.style&&p.style.getLayer(_);H&&(this.queryPadding=Math.max(this.queryPadding,H.queryRadius(k)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<a.h.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(c){this.symbolFadeHoldUntil=a.h.now()+c}setDependencies(c,p){const v={};for(const _ of p)v[_]=!0;this.dependencies[c]=v}hasDependency(c,p){for(const v of c){const _=this.dependencies[v];if(_){for(const k of p)if(_[k])return!0}}return!1}}class rr{constructor(c,p){this.max=c,this.onRemove=p,this.reset()}reset(){for(const c in this.data)for(const p of this.data[c])p.timeout&&clearTimeout(p.timeout),this.onRemove(p.value);return this.data={},this.order=[],this}add(c,p,v){const _=c.wrapped().key;this.data[_]===void 0&&(this.data[_]=[]);const k={value:p,timeout:void 0};if(v!==void 0&&(k.timeout=setTimeout(()=>{this.remove(c,k)},v)),this.data[_].push(k),this.order.push(_),this.order.length>this.max){const j=this._getAndRemoveByKey(this.order[0]);j&&this.onRemove(j)}return this}has(c){return c.wrapped().key in this.data}getAndRemove(c){return this.has(c)?this._getAndRemoveByKey(c.wrapped().key):null}_getAndRemoveByKey(c){const p=this.data[c].shift();return p.timeout&&clearTimeout(p.timeout),this.data[c].length===0&&delete this.data[c],this.order.splice(this.order.indexOf(c),1),p.value}getByKey(c){const p=this.data[c];return p?p[0].value:null}get(c){return this.has(c)?this.data[c.wrapped().key][0].value:null}remove(c,p){if(!this.has(c))return this;const v=c.wrapped().key,_=p===void 0?0:this.data[v].indexOf(p),k=this.data[v][_];return this.data[v].splice(_,1),k.timeout&&clearTimeout(k.timeout),this.data[v].length===0&&delete this.data[v],this.onRemove(k.value),this.order.splice(this.order.indexOf(v),1),this}setMaxSize(c){for(this.max=c;this.order.length>this.max;){const p=this._getAndRemoveByKey(this.order[0]);p&&this.onRemove(p)}return this}filter(c){const p=[];for(const v in this.data)for(const _ of this.data[v])c(_.value)||p.push(_);for(const v of p)this.remove(v.value.tileID,v)}}class ze{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(c,p,v){const _=String(p);if(this.stateChanges[c]=this.stateChanges[c]||{},this.stateChanges[c][_]=this.stateChanges[c][_]||{},a.e(this.stateChanges[c][_],v),this.deletedStates[c]===null){this.deletedStates[c]={};for(const k in this.state[c])k!==_&&(this.deletedStates[c][k]=null)}else if(this.deletedStates[c]&&this.deletedStates[c][_]===null){this.deletedStates[c][_]={};for(const k in this.state[c][_])v[k]||(this.deletedStates[c][_][k]=null)}else for(const k in v)this.deletedStates[c]&&this.deletedStates[c][_]&&this.deletedStates[c][_][k]===null&&delete this.deletedStates[c][_][k]}removeFeatureState(c,p,v){if(this.deletedStates[c]===null)return;const _=String(p);if(this.deletedStates[c]=this.deletedStates[c]||{},v&&p!==void 0)this.deletedStates[c][_]!==null&&(this.deletedStates[c][_]=this.deletedStates[c][_]||{},this.deletedStates[c][_][v]=null);else if(p!==void 0)if(this.stateChanges[c]&&this.stateChanges[c][_])for(v in this.deletedStates[c][_]={},this.stateChanges[c][_])this.deletedStates[c][_][v]=null;else this.deletedStates[c][_]=null;else this.deletedStates[c]=null}getState(c,p){const v=String(p),_=a.e({},(this.state[c]||{})[v],(this.stateChanges[c]||{})[v]);if(this.deletedStates[c]===null)return{};if(this.deletedStates[c]){const k=this.deletedStates[c][p];if(k===null)return{};for(const j in k)delete _[j]}return _}initializeTileState(c,p){c.setFeatureState(this.state,p)}coalesceChanges(c,p){const v={};for(const _ in this.stateChanges){this.state[_]=this.state[_]||{};const k={};for(const j in this.stateChanges[_])this.state[_][j]||(this.state[_][j]={}),a.e(this.state[_][j],this.stateChanges[_][j]),k[j]=this.state[_][j];v[_]=k}for(const _ in this.deletedStates){this.state[_]=this.state[_]||{};const k={};if(this.deletedStates[_]===null)for(const j in this.state[_])k[j]={},this.state[_][j]={};else for(const j in this.deletedStates[_]){if(this.deletedStates[_][j]===null)this.state[_][j]={};else for(const z of Object.keys(this.deletedStates[_][j]))delete this.state[_][j][z];k[j]=this.state[_][j]}v[_]=v[_]||{},a.e(v[_],k)}if(this.stateChanges={},this.deletedStates={},Object.keys(v).length!==0)for(const _ in c)c[_].setFeatureState(v,p)}}class an extends a.E{constructor(c,p,v){super(),this.id=c,this.dispatcher=v,this.on("data",_=>{_.dataType==="source"&&_.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&_.dataType==="source"&&_.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((_,k,j,z)=>{const V=new(Pt(k.type))(_,k,j,z);if(V.id!==_)throw new Error(`Expected Source id to be ${_} instead of ${V.id}`);return V})(c,p,v,this),this._tiles={},this._cache=new rr(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new ze,this._didEmitContent=!1,this._updated=!1}onAdd(c){this.map=c,this._maxTileCacheSize=c?c._maxTileCacheSize:null,this._maxTileCacheZoomLevels=c?c._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(c)}onRemove(c){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(c)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const c in this._tiles){const p=this._tiles[c];if(p.state!=="loaded"&&p.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const c=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,c&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(c,p){return this._source.loadTile(c,p)}_unloadTile(c){if(this._source.unloadTile)return this._source.unloadTile(c,()=>{})}_abortTile(c){this._source.abortTile&&this._source.abortTile(c,()=>{}),this._source.fire(new a.k("dataabort",{tile:c,coord:c.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(c){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const p in this._tiles){const v=this._tiles[p];v.upload(c),v.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(c=>c.tileID).sort(Mn).map(c=>c.key)}getRenderableIds(c){const p=[];for(const v in this._tiles)this._isIdRenderable(v,c)&&p.push(this._tiles[v]);return c?p.sort((v,_)=>{const k=v.tileID,j=_.tileID,z=new a.P(k.canonical.x,k.canonical.y)._rotate(this.transform.angle),V=new a.P(j.canonical.x,j.canonical.y)._rotate(this.transform.angle);return k.overscaledZ-j.overscaledZ||V.y-z.y||V.x-z.x}).map(v=>v.tileID.key):p.map(v=>v.tileID).sort(Mn).map(v=>v.key)}hasRenderableParent(c){const p=this.findLoadedParent(c,0);return!!p&&this._isIdRenderable(p.tileID.key)}_isIdRenderable(c,p){return this._tiles[c]&&this._tiles[c].hasData()&&!this._coveredTiles[c]&&(p||!this._tiles[c].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const c in this._tiles)this._tiles[c].state!=="errored"&&this._reloadTile(c,"reloading")}}_reloadTile(c,p){const v=this._tiles[c];v&&(v.state!=="loading"&&(v.state=p),this._loadTile(v,this._tileLoaded.bind(this,v,c,p)))}_tileLoaded(c,p,v,_){if(_)return c.state="errored",void(_.status!==404?this._source.fire(new a.j(_,{tile:c})):this.update(this.transform,this.terrain));c.timeAdded=a.h.now(),v==="expired"&&(c.refreshedUponExpiration=!0),this._setTileReloadTimer(p,c),this.getSource().type==="raster-dem"&&c.dem&&this._backfillDEM(c),this._state.initializeTileState(c,this.map?this.map.painter:null),c.aborted||this._source.fire(new a.k("data",{dataType:"source",tile:c,coord:c.tileID}))}_backfillDEM(c){const p=this.getRenderableIds();for(let _=0;_<p.length;_++){const k=p[_];if(c.neighboringTiles&&c.neighboringTiles[k]){const j=this.getTileByID(k);v(c,j),v(j,c)}}function v(_,k){_.needsHillshadePrepare=!0,_.needsTerrainPrepare=!0;let j=k.tileID.canonical.x-_.tileID.canonical.x;const z=k.tileID.canonical.y-_.tileID.canonical.y,V=Math.pow(2,_.tileID.canonical.z),H=k.tileID.key;j===0&&z===0||Math.abs(z)>1||(Math.abs(j)>1&&(Math.abs(j+V)===1?j+=V:Math.abs(j-V)===1&&(j-=V)),k.dem&&_.dem&&(_.dem.backfillBorder(k.dem,j,z),_.neighboringTiles&&_.neighboringTiles[H]&&(_.neighboringTiles[H].backfilled=!0)))}}getTile(c){return this.getTileByID(c.key)}getTileByID(c){return this._tiles[c]}_retainLoadedChildren(c,p,v,_){for(const k in this._tiles){let j=this._tiles[k];if(_[k]||!j.hasData()||j.tileID.overscaledZ<=p||j.tileID.overscaledZ>v)continue;let z=j.tileID;for(;j&&j.tileID.overscaledZ>p+1;){const H=j.tileID.scaledTo(j.tileID.overscaledZ-1);j=this._tiles[H.key],j&&j.hasData()&&(z=H)}let V=z;for(;V.overscaledZ>p;)if(V=V.scaledTo(V.overscaledZ-1),c[V.key]){_[z.key]=z;break}}}findLoadedParent(c,p){if(c.key in this._loadedParentTiles){const v=this._loadedParentTiles[c.key];return v&&v.tileID.overscaledZ>=p?v:null}for(let v=c.overscaledZ-1;v>=p;v--){const _=c.scaledTo(v),k=this._getLoadedTile(_);if(k)return k}}_getLoadedTile(c){const p=this._tiles[c.key];return p&&p.hasData()?p:this._cache.getByKey(c.wrapped().key)}updateCacheSize(c){const p=Math.ceil(c.width/this._source.tileSize)+1,v=Math.ceil(c.height/this._source.tileSize)+1,_=Math.floor(p*v*(this._maxTileCacheZoomLevels===null?a.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),k=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,_):_;this._cache.setMaxSize(k)}handleWrapJump(c){const p=Math.round((c-(this._prevLng===void 0?c:this._prevLng))/360);if(this._prevLng=c,p){const v={};for(const _ in this._tiles){const k=this._tiles[_];k.tileID=k.tileID.unwrapTo(k.tileID.wrap+p),v[k.tileID.key]=k}this._tiles=v;for(const _ in this._timers)clearTimeout(this._timers[_]),delete this._timers[_];for(const _ in this._tiles)this._setTileReloadTimer(_,this._tiles[_])}}update(c,p){if(this.transform=c,this.terrain=p,!this._sourceLoaded||this._paused)return;let v;this.updateCacheSize(c),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?v=c.getVisibleUnwrappedCoordinates(this._source.tileID).map(Y=>new a.O(Y.canonical.z,Y.wrap,Y.canonical.z,Y.canonical.x,Y.canonical.y)):(v=c.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:p}),this._source.hasTile&&(v=v.filter(Y=>this._source.hasTile(Y)))):v=[];const _=c.coveringZoomLevel(this._source),k=Math.max(_-an.maxOverzooming,this._source.minzoom),j=Math.max(_+an.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const Y={};for(const K of v)if(K.canonical.z>this._source.minzoom){const re=K.scaledTo(K.canonical.z-1);Y[re.key]=re;const me=K.scaledTo(Math.max(this._source.minzoom,Math.min(K.canonical.z,5)));Y[me.key]=me}v=v.concat(Object.values(Y))}const z=v.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,z&&this.fire(new a.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const V=this._updateRetainedTiles(v,_);if(on(this._source.type)){const Y={},K={},re=Object.keys(V),me=a.h.now();for(const pe of re){const ve=V[pe],de=this._tiles[pe];if(!de||de.fadeEndTime!==0&&de.fadeEndTime<=me)continue;const Ae=this.findLoadedParent(ve,k);Ae&&(this._addTile(Ae.tileID),Y[Ae.tileID.key]=Ae.tileID),K[pe]=ve}this._retainLoadedChildren(K,_,j,V);for(const pe in Y)V[pe]||(this._coveredTiles[pe]=!0,V[pe]=Y[pe]);if(p){const pe={},ve={};for(const de of v)this._tiles[de.key].hasData()?pe[de.key]=de:ve[de.key]=de;for(const de in ve){const Ae=ve[de].children(this._source.maxzoom);this._tiles[Ae[0].key]&&this._tiles[Ae[1].key]&&this._tiles[Ae[2].key]&&this._tiles[Ae[3].key]&&(pe[Ae[0].key]=V[Ae[0].key]=Ae[0],pe[Ae[1].key]=V[Ae[1].key]=Ae[1],pe[Ae[2].key]=V[Ae[2].key]=Ae[2],pe[Ae[3].key]=V[Ae[3].key]=Ae[3],delete ve[de])}for(const de in ve){const Ae=this.findLoadedParent(ve[de],this._source.minzoom);if(Ae){pe[Ae.tileID.key]=V[Ae.tileID.key]=Ae.tileID;for(const Ne in pe)pe[Ne].isChildOf(Ae.tileID)&&delete pe[Ne]}}for(const de in this._tiles)pe[de]||(this._coveredTiles[de]=!0)}}for(const Y in V)this._tiles[Y].clearFadeHold();const H=a.ab(this._tiles,V);for(const Y of H){const K=this._tiles[Y];K.hasSymbolBuckets&&!K.holdingForFade()?K.setHoldDuration(this.map._fadeDuration):K.hasSymbolBuckets&&!K.symbolFadeFinished()||this._removeTile(Y)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const c in this._tiles)this._tiles[c].holdingForFade()&&this._removeTile(c)}_updateRetainedTiles(c,p){const v={},_={},k=Math.max(p-an.maxOverzooming,this._source.minzoom),j=Math.max(p+an.maxUnderzooming,this._source.minzoom),z={};for(const V of c){const H=this._addTile(V);v[V.key]=V,H.hasData()||p<this._source.maxzoom&&(z[V.key]=V)}this._retainLoadedChildren(z,p,j,v);for(const V of c){let H=this._tiles[V.key];if(H.hasData())continue;if(p+1>this._source.maxzoom){const K=V.children(this._source.maxzoom)[0],re=this.getTile(K);if(re&&re.hasData()){v[K.key]=K;continue}}else{const K=V.children(this._source.maxzoom);if(v[K[0].key]&&v[K[1].key]&&v[K[2].key]&&v[K[3].key])continue}let Y=H.wasRequested();for(let K=V.overscaledZ-1;K>=k;--K){const re=V.scaledTo(K);if(_[re.key])break;if(_[re.key]=!0,H=this.getTile(re),!H&&Y&&(H=this._addTile(re)),H){const me=H.hasData();if((Y||me)&&(v[re.key]=re),Y=H.wasRequested(),me)break}}}return v}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const c in this._tiles){const p=[];let v,_=this._tiles[c].tileID;for(;_.overscaledZ>0;){if(_.key in this._loadedParentTiles){v=this._loadedParentTiles[_.key];break}p.push(_.key);const k=_.scaledTo(_.overscaledZ-1);if(v=this._getLoadedTile(k),v)break;_=k}for(const k of p)this._loadedParentTiles[k]=v}}_addTile(c){let p=this._tiles[c.key];if(p)return p;p=this._cache.getAndRemove(c),p&&(this._setTileReloadTimer(c.key,p),p.tileID=c,this._state.initializeTileState(p,this.map?this.map.painter:null),this._cacheTimers[c.key]&&(clearTimeout(this._cacheTimers[c.key]),delete this._cacheTimers[c.key],this._setTileReloadTimer(c.key,p)));const v=p;return p||(p=new _n(c,this._source.tileSize*c.overscaleFactor()),this._loadTile(p,this._tileLoaded.bind(this,p,c.key,p.state))),p.uses++,this._tiles[c.key]=p,v||this._source.fire(new a.k("dataloading",{tile:p,coord:p.tileID,dataType:"source"})),p}_setTileReloadTimer(c,p){c in this._timers&&(clearTimeout(this._timers[c]),delete this._timers[c]);const v=p.getExpiryTimeout();v&&(this._timers[c]=setTimeout(()=>{this._reloadTile(c,"expired"),delete this._timers[c]},v))}_removeTile(c){const p=this._tiles[c];p&&(p.uses--,delete this._tiles[c],this._timers[c]&&(clearTimeout(this._timers[c]),delete this._timers[c]),p.uses>0||(p.hasData()&&p.state!=="reloading"?this._cache.add(p.tileID,p,p.getExpiryTimeout()):(p.aborted=!0,this._abortTile(p),this._unloadTile(p))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const c in this._tiles)this._removeTile(c);this._cache.reset()}tilesIn(c,p,v){const _=[],k=this.transform;if(!k)return _;const j=v?k.getCameraQueryGeometry(c):c,z=c.map(pe=>k.pointCoordinate(pe,this.terrain)),V=j.map(pe=>k.pointCoordinate(pe,this.terrain)),H=this.getIds();let Y=1/0,K=1/0,re=-1/0,me=-1/0;for(const pe of V)Y=Math.min(Y,pe.x),K=Math.min(K,pe.y),re=Math.max(re,pe.x),me=Math.max(me,pe.y);for(let pe=0;pe<H.length;pe++){const ve=this._tiles[H[pe]];if(ve.holdingForFade())continue;const de=ve.tileID,Ae=Math.pow(2,k.zoom-ve.tileID.overscaledZ),Ne=p*ve.queryPadding*a.N/ve.tileSize/Ae,Se=[de.getTilePoint(new a.U(Y,K)),de.getTilePoint(new a.U(re,me))];if(Se[0].x-Ne<a.N&&Se[0].y-Ne<a.N&&Se[1].x+Ne>=0&&Se[1].y+Ne>=0){const $e=z.map(Ue=>de.getTilePoint(Ue)),Fe=V.map(Ue=>de.getTilePoint(Ue));_.push({tile:ve,tileID:de,queryGeometry:$e,cameraQueryGeometry:Fe,scale:Ae})}}return _}getVisibleCoordinates(c){const p=this.getRenderableIds(c).map(v=>this._tiles[v].tileID);for(const v of p)v.posMatrix=this.transform.calculatePosMatrix(v.toUnwrapped());return p}hasTransition(){if(this._source.hasTransition())return!0;if(on(this._source.type)){const c=a.h.now();for(const p in this._tiles)if(this._tiles[p].fadeEndTime>=c)return!0}return!1}setFeatureState(c,p,v){this._state.updateState(c=c||"_geojsonTileLayer",p,v)}removeFeatureState(c,p,v){this._state.removeFeatureState(c=c||"_geojsonTileLayer",p,v)}getFeatureState(c,p){return this._state.getState(c=c||"_geojsonTileLayer",p)}setDependencies(c,p,v){const _=this._tiles[c];_&&_.setDependencies(p,v)}reloadTilesForDependencies(c,p){for(const v in this._tiles)this._tiles[v].hasDependency(c,p)&&this._reloadTile(v,"reloading");this._cache.filter(v=>!v.hasDependency(c,p))}}function Mn(w,c){const p=Math.abs(2*w.wrap)-+(w.wrap<0),v=Math.abs(2*c.wrap)-+(c.wrap<0);return w.overscaledZ-c.overscaledZ||v-p||c.canonical.y-w.canonical.y||c.canonical.x-w.canonical.x}function on(w){return w==="raster"||w==="image"||w==="video"}an.maxOverzooming=10,an.maxUnderzooming=3;const $t="mapboxgl_preloaded_worker_pool";class Vn{constructor(){this.active={}}acquire(c){if(!this.workers)for(this.workers=[];this.workers.length<Vn.workerCount;)this.workers.push(new Worker(a.c.WORKER_URL));return this.active[c]=!0,this.workers.slice()}release(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach(p=>{p.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[$t]}numActive(){return Object.keys(this.active).length}}const ir=Math.floor(a.h.hardwareConcurrency/2);let Tr;function Rn(){return Tr||(Tr=new Vn),Tr}Vn.workerCount=a.ac(globalThis)?Math.max(Math.min(ir,3),1):1;class Kt{constructor(c,p){this.reset(c,p)}reset(c,p){this.points=c||[],this._distances=[0];for(let v=1;v<this.points.length;v++)this._distances[v]=this._distances[v-1]+this.points[v].dist(this.points[v-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(c){if(this.points.length===1)return this.points[0];c=a.ad(c,0,1);let p=1,v=this._distances[p];const _=c*this.paddedLength+this.padding;for(;v<_&&p<this._distances.length;)v=this._distances[++p];const k=p-1,j=this._distances[k],z=v-j,V=z>0?(_-j)/z:0;return this.points[k].mult(1-V).add(this.points[p].mult(V))}}function ur(w,c){let p=!0;return w==="always"||w!=="never"&&c!=="never"||(p=!1),p}class Di{constructor(c,p,v){const _=this.boxCells=[],k=this.circleCells=[];this.xCellCount=Math.ceil(c/v),this.yCellCount=Math.ceil(p/v);for(let j=0;j<this.xCellCount*this.yCellCount;j++)_.push([]),k.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=p,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(c,p,v,_,k){this._forEachCell(p,v,_,k,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(p),this.bboxes.push(v),this.bboxes.push(_),this.bboxes.push(k)}insertCircle(c,p,v,_){this._forEachCell(p-_,v-_,p+_,v+_,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(p),this.circles.push(v),this.circles.push(_)}_insertBoxCell(c,p,v,_,k,j){this.boxCells[k].push(j)}_insertCircleCell(c,p,v,_,k,j){this.circleCells[k].push(j)}_query(c,p,v,_,k,j,z){if(v<0||c>this.width||_<0||p>this.height)return[];const V=[];if(c<=0&&p<=0&&this.width<=v&&this.height<=_){if(k)return[{key:null,x1:c,y1:p,x2:v,y2:_}];for(let H=0;H<this.boxKeys.length;H++)V.push({key:this.boxKeys[H],x1:this.bboxes[4*H],y1:this.bboxes[4*H+1],x2:this.bboxes[4*H+2],y2:this.bboxes[4*H+3]});for(let H=0;H<this.circleKeys.length;H++){const Y=this.circles[3*H],K=this.circles[3*H+1],re=this.circles[3*H+2];V.push({key:this.circleKeys[H],x1:Y-re,y1:K-re,x2:Y+re,y2:K+re})}}else this._forEachCell(c,p,v,_,this._queryCell,V,{hitTest:k,overlapMode:j,seenUids:{box:{},circle:{}}},z);return V}query(c,p,v,_){return this._query(c,p,v,_,!1,null)}hitTest(c,p,v,_,k,j){return this._query(c,p,v,_,!0,k,j).length>0}hitTestCircle(c,p,v,_,k){const j=c-v,z=c+v,V=p-v,H=p+v;if(z<0||j>this.width||H<0||V>this.height)return!1;const Y=[];return this._forEachCell(j,V,z,H,this._queryCellCircle,Y,{hitTest:!0,overlapMode:_,circle:{x:c,y:p,radius:v},seenUids:{box:{},circle:{}}},k),Y.length>0}_queryCell(c,p,v,_,k,j,z,V){const{seenUids:H,hitTest:Y,overlapMode:K}=z,re=this.boxCells[k];if(re!==null){const pe=this.bboxes;for(const ve of re)if(!H.box[ve]){H.box[ve]=!0;const de=4*ve,Ae=this.boxKeys[ve];if(c<=pe[de+2]&&p<=pe[de+3]&&v>=pe[de+0]&&_>=pe[de+1]&&(!V||V(Ae))&&(!Y||!ur(K,Ae.overlapMode))&&(j.push({key:Ae,x1:pe[de],y1:pe[de+1],x2:pe[de+2],y2:pe[de+3]}),Y))return!0}}const me=this.circleCells[k];if(me!==null){const pe=this.circles;for(const ve of me)if(!H.circle[ve]){H.circle[ve]=!0;const de=3*ve,Ae=this.circleKeys[ve];if(this._circleAndRectCollide(pe[de],pe[de+1],pe[de+2],c,p,v,_)&&(!V||V(Ae))&&(!Y||!ur(K,Ae.overlapMode))){const Ne=pe[de],Se=pe[de+1],$e=pe[de+2];if(j.push({key:Ae,x1:Ne-$e,y1:Se-$e,x2:Ne+$e,y2:Se+$e}),Y)return!0}}}return!1}_queryCellCircle(c,p,v,_,k,j,z,V){const{circle:H,seenUids:Y,overlapMode:K}=z,re=this.boxCells[k];if(re!==null){const pe=this.bboxes;for(const ve of re)if(!Y.box[ve]){Y.box[ve]=!0;const de=4*ve,Ae=this.boxKeys[ve];if(this._circleAndRectCollide(H.x,H.y,H.radius,pe[de+0],pe[de+1],pe[de+2],pe[de+3])&&(!V||V(Ae))&&!ur(K,Ae.overlapMode))return j.push(!0),!0}}const me=this.circleCells[k];if(me!==null){const pe=this.circles;for(const ve of me)if(!Y.circle[ve]){Y.circle[ve]=!0;const de=3*ve,Ae=this.circleKeys[ve];if(this._circlesCollide(pe[de],pe[de+1],pe[de+2],H.x,H.y,H.radius)&&(!V||V(Ae))&&!ur(K,Ae.overlapMode))return j.push(!0),!0}}}_forEachCell(c,p,v,_,k,j,z,V){const H=this._convertToXCellCoord(c),Y=this._convertToYCellCoord(p),K=this._convertToXCellCoord(v),re=this._convertToYCellCoord(_);for(let me=H;me<=K;me++)for(let pe=Y;pe<=re;pe++)if(k.call(this,c,p,v,_,this.xCellCount*pe+me,j,z,V))return}_convertToXCellCoord(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))}_convertToYCellCoord(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))}_circlesCollide(c,p,v,_,k,j){const z=_-c,V=k-p,H=v+j;return H*H>z*z+V*V}_circleAndRectCollide(c,p,v,_,k,j,z){const V=(j-_)/2,H=Math.abs(c-(_+V));if(H>V+v)return!1;const Y=(z-k)/2,K=Math.abs(p-(k+Y));if(K>Y+v)return!1;if(H<=V||K<=Y)return!0;const re=H-V,me=K-Y;return re*re+me*me<=v*v}}function lt(w,c,p,v,_){const k=a.Z();return c?(a.a0(k,k,[1/_,1/_,1]),p||a.ae(k,k,v.angle)):a.a1(k,v.labelPlaneMatrix,w),k}function Bt(w,c,p,v,_){if(c){const k=a.af(w);return a.a0(k,k,[_,_,1]),p||a.ae(k,k,-v.angle),k}return v.glCoordMatrix}function ln(w,c,p){let v;p?(v=[w.x,w.y,p(w.x,w.y),1],a.ag(v,v,c)):(v=[w.x,w.y,0,1],be(v,v,c));const _=v[3];return{point:new a.P(v[0]/_,v[1]/_),signedDistanceFromCamera:_}}function Xn(w,c){return .5+w/c*.5}function di(w,c){const p=w[0]/w[3],v=w[1]/w[3];return p>=-c[0]&&p<=c[0]&&v>=-c[1]&&v<=c[1]}function ht(w,c,p,v,_,k,j,z,V,H){const Y=v?w.textSizeData:w.iconSizeData,K=a.ah(Y,p.transform.zoom),re=[256/p.width*2+1,256/p.height*2+1],me=v?w.text.dynamicLayoutVertexArray:w.icon.dynamicLayoutVertexArray;me.clear();const pe=w.lineVertexArray,ve=v?w.text.placedSymbolArray:w.icon.placedSymbolArray,de=p.transform.width/p.transform.height;let Ae=!1;for(let Ne=0;Ne<ve.length;Ne++){const Se=ve.get(Ne);if(Se.hidden||Se.writingMode===a.ai.vertical&&!Ae){se(Se.numGlyphs,me);continue}let $e;if(Ae=!1,H?($e=[Se.anchorX,Se.anchorY,H(Se.anchorX,Se.anchorY),1],a.ag($e,$e,c)):($e=[Se.anchorX,Se.anchorY,0,1],be($e,$e,c)),!di($e,re)){se(Se.numGlyphs,me);continue}const Fe=Xn(p.transform.cameraToCenterDistance,$e[3]),Ue=a.aj(Y,K,Se),Xe=j?Ue/Fe:Ue*Fe,it=new a.P(Se.anchorX,Se.anchorY),tt=ln(it,_,H).point,dt={projections:{},offsets:{}},Dt=Li(Se,Xe,!1,z,c,_,k,w.glyphOffsetArray,pe,me,tt,it,dt,de,V,H);Ae=Dt.useVertical,(Dt.notEnoughRoom||Ae||Dt.needsFlipping&&Li(Se,Xe,!0,z,c,_,k,w.glyphOffsetArray,pe,me,tt,it,dt,de,V,H).notEnoughRoom)&&se(Se.numGlyphs,me)}v?w.text.dynamicLayoutVertexBuffer.updateData(me):w.icon.dynamicLayoutVertexBuffer.updateData(me)}function fn(w,c,p,v,_,k,j,z,V,H,Y,K,re){const me=z.glyphStartIndex+z.numGlyphs,pe=z.lineStartIndex,ve=z.lineStartIndex+z.lineLength,de=c.getoffsetX(z.glyphStartIndex),Ae=c.getoffsetX(me-1),Ne=Q(w*de,p,v,_,k,j,z.segment,pe,ve,V,H,Y,K,re);if(!Ne)return null;const Se=Q(w*Ae,p,v,_,k,j,z.segment,pe,ve,V,H,Y,K,re);return Se?{first:Ne,last:Se}:null}function un(w,c,p,v){return w===a.ai.horizontal&&Math.abs(p.y-c.y)>Math.abs(p.x-c.x)*v?{useVertical:!0}:(w===a.ai.vertical?c.y<p.y:c.x>p.x)?{needsFlipping:!0}:null}function Li(w,c,p,v,_,k,j,z,V,H,Y,K,re,me,pe,ve){const de=c/24,Ae=w.lineOffsetX*de,Ne=w.lineOffsetY*de;let Se;if(w.numGlyphs>1){const $e=w.glyphStartIndex+w.numGlyphs,Fe=w.lineStartIndex,Ue=w.lineStartIndex+w.lineLength,Xe=fn(de,z,Ae,Ne,p,Y,K,w,V,k,re,pe,ve);if(!Xe)return{notEnoughRoom:!0};const it=ln(Xe.first.point,j,ve).point,tt=ln(Xe.last.point,j,ve).point;if(v&&!p){const dt=un(w.writingMode,it,tt,me);if(dt)return dt}Se=[Xe.first];for(let dt=w.glyphStartIndex+1;dt<$e-1;dt++)Se.push(Q(de*z.getoffsetX(dt),Ae,Ne,p,Y,K,w.segment,Fe,Ue,V,k,re,pe,ve));Se.push(Xe.last)}else{if(v&&!p){const Fe=ln(K,_,ve).point,Ue=w.lineStartIndex+w.segment+1,Xe=new a.P(V.getx(Ue),V.gety(Ue)),it=ln(Xe,_,ve),tt=it.signedDistanceFromCamera>0?it.point:da(K,Xe,Fe,1,_,ve),dt=un(w.writingMode,Fe,tt,me);if(dt)return dt}const $e=Q(de*z.getoffsetX(w.glyphStartIndex),Ae,Ne,p,Y,K,w.segment,w.lineStartIndex,w.lineStartIndex+w.lineLength,V,k,re,pe,ve);if(!$e)return{notEnoughRoom:!0};Se=[$e]}for(const $e of Se)a.ak(H,$e.point,$e.angle);return{}}function da(w,c,p,v,_,k){const j=ln(w.add(w.sub(c)._unit()),_,k).point,z=p.sub(j);return p.add(z._mult(v/z.mag()))}function dn(w,c){const{projectionCache:p,lineVertexArray:v,labelPlaneMatrix:_,tileAnchorPoint:k,distanceFromAnchor:j,getElevation:z,previousVertex:V,direction:H,absOffsetX:Y}=c;if(p.projections[w])return p.projections[w];const K=new a.P(v.getx(w),v.gety(w)),re=ln(K,_,z);if(re.signedDistanceFromCamera>0)return p.projections[w]=re.point,re.point;const me=w-H;return da(j===0?k:new a.P(v.getx(me),v.gety(me)),K,V,Y-j+1,_,z)}function fa(w,c,p){return w._unit()._perp()._mult(c*p)}function ye(w,c,p,v,_,k,j,z){const{projectionCache:V,direction:H}=z;if(V.offsets[w])return V.offsets[w];const Y=p.add(c);if(w+H<v||w+H>=_)return V.offsets[w]=Y,Y;const K=dn(w+H,z),re=fa(K.sub(p),j,H),me=p.add(re),pe=K.add(re);return V.offsets[w]=a.al(k,Y,me,pe)||Y,V.offsets[w]}function Q(w,c,p,v,_,k,j,z,V,H,Y,K,re,me){const pe=v?w-c:w+c;let ve=pe>0?1:-1,de=0;v&&(ve*=-1,de=Math.PI),ve<0&&(de+=Math.PI);let Ae,Ne,Se=ve>0?z+j:z+j+1,$e=_,Fe=_,Ue=0,Xe=0;const it=Math.abs(pe),tt=[];let dt;for(;Ue+Xe<=it;){if(Se+=ve,Se<z||Se>=V)return null;Ue+=Xe,Fe=$e,Ne=Ae;const _t={projectionCache:K,lineVertexArray:H,labelPlaneMatrix:Y,tileAnchorPoint:k,distanceFromAnchor:Ue,getElevation:me,previousVertex:Fe,direction:ve,absOffsetX:it};if($e=dn(Se,_t),p===0)tt.push(Fe),dt=$e.sub(Fe);else{let Qt;const jt=$e.sub(Fe);Qt=jt.mag()===0?fa(dn(Se+ve,_t).sub($e),p,ve):fa(jt,p,ve),Ne||(Ne=Fe.add(Qt)),Ae=ye(Se,Qt,$e,z,V,Ne,p,_t),tt.push(Ne),dt=Ae.sub(Ne)}Xe=dt.mag()}const Dt=dt._mult((it-Ue)/Xe)._add(Ne||Fe),wn=de+Math.atan2($e.y-Fe.y,$e.x-Fe.x);return tt.push(Dt),{point:Dt,angle:re?wn:0,path:tt}}const ne=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function se(w,c){for(let p=0;p<w;p++){const v=c.length;c.resize(v+4),c.float32.set(ne,3*v)}}function be(w,c,p){const v=c[0],_=c[1];return w[0]=p[0]*v+p[4]*_+p[12],w[1]=p[1]*v+p[5]*_+p[13],w[3]=p[3]*v+p[7]*_+p[15],w}const we=100;class De{constructor(c,p=new Di(c.width+200,c.height+200,25),v=new Di(c.width+200,c.height+200,25)){this.transform=c,this.grid=p,this.ignoredGrid=v,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+we,this.screenBottomBoundary=c.height+we,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(c,p,v,_,k,j){const z=this.projectAndGetPerspectiveRatio(_,c.anchorPointX,c.anchorPointY,j),V=v*z.perspectiveRatio,H=c.x1*V+z.point.x,Y=c.y1*V+z.point.y,K=c.x2*V+z.point.x,re=c.y2*V+z.point.y;return!this.isInsideGrid(H,Y,K,re)||p!=="always"&&this.grid.hitTest(H,Y,K,re,p,k)||z.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[H,Y,K,re],offscreen:this.isOffscreen(H,Y,K,re)}}placeCollisionCircles(c,p,v,_,k,j,z,V,H,Y,K,re,me,pe){const ve=[],de=new a.P(p.anchorX,p.anchorY),Ae=ln(de,j,pe),Ne=Xn(this.transform.cameraToCenterDistance,Ae.signedDistanceFromCamera),Se=(Y?k/Ne:k*Ne)/a.ap,$e=ln(de,z,pe).point,Fe=fn(Se,_,p.lineOffsetX*Se,p.lineOffsetY*Se,!1,$e,de,p,v,z,{projections:{},offsets:{}},!1,pe);let Ue=!1,Xe=!1,it=!0;if(Fe){const tt=.5*re*Ne+me,dt=new a.P(-100,-100),Dt=new a.P(this.screenRightBoundary,this.screenBottomBoundary),wn=new Kt,_t=Fe.first,Qt=Fe.last;let jt=[];for(let mn=_t.path.length-1;mn>=1;mn--)jt.push(_t.path[mn]);for(let mn=1;mn<Qt.path.length;mn++)jt.push(Qt.path[mn]);const Qn=2.5*tt;if(V){const mn=jt.map(Sn=>ln(Sn,V,pe));jt=mn.some(Sn=>Sn.signedDistanceFromCamera<=0)?[]:mn.map(Sn=>Sn.point)}let xn=[];if(jt.length>0){const mn=jt[0].clone(),Sn=jt[0].clone();for(let Yr=1;Yr<jt.length;Yr++)mn.x=Math.min(mn.x,jt[Yr].x),mn.y=Math.min(mn.y,jt[Yr].y),Sn.x=Math.max(Sn.x,jt[Yr].x),Sn.y=Math.max(Sn.y,jt[Yr].y);xn=mn.x>=dt.x&&Sn.x<=Dt.x&&mn.y>=dt.y&&Sn.y<=Dt.y?[jt]:Sn.x<dt.x||mn.x>Dt.x||Sn.y<dt.y||mn.y>Dt.y?[]:a.am([jt],dt.x,dt.y,Dt.x,Dt.y)}for(const mn of xn){wn.reset(mn,.25*tt);let Sn=0;Sn=wn.length<=.5*tt?1:Math.ceil(wn.paddedLength/Qn)+1;for(let Yr=0;Yr<Sn;Yr++){const pr=Yr/Math.max(Sn-1,1),Ni=wn.lerp(pr),vi=Ni.x+we,ii=Ni.y+we;ve.push(vi,ii,tt,0);const Zo=vi-tt,_r=ii-tt,us=vi+tt,ds=ii+tt;if(it=it&&this.isOffscreen(Zo,_r,us,ds),Xe=Xe||this.isInsideGrid(Zo,_r,us,ds),c!=="always"&&this.grid.hitTestCircle(vi,ii,tt,c,K)&&(Ue=!0,!H))return{circles:[],offscreen:!1,collisionDetected:Ue}}}}return{circles:!H&&Ue||!Xe||Ne<this.perspectiveRatioCutoff?[]:ve,offscreen:it,collisionDetected:Ue}}queryRenderedSymbols(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const p=[];let v=1/0,_=1/0,k=-1/0,j=-1/0;for(const Y of c){const K=new a.P(Y.x+we,Y.y+we);v=Math.min(v,K.x),_=Math.min(_,K.y),k=Math.max(k,K.x),j=Math.max(j,K.y),p.push(K)}const z=this.grid.query(v,_,k,j).concat(this.ignoredGrid.query(v,_,k,j)),V={},H={};for(const Y of z){const K=Y.key;if(V[K.bucketInstanceId]===void 0&&(V[K.bucketInstanceId]={}),V[K.bucketInstanceId][K.featureIndex])continue;const re=[new a.P(Y.x1,Y.y1),new a.P(Y.x2,Y.y1),new a.P(Y.x2,Y.y2),new a.P(Y.x1,Y.y2)];a.an(p,re)&&(V[K.bucketInstanceId][K.featureIndex]=!0,H[K.bucketInstanceId]===void 0&&(H[K.bucketInstanceId]=[]),H[K.bucketInstanceId].push(K.featureIndex))}return H}insertCollisionBox(c,p,v,_,k,j){(v?this.ignoredGrid:this.grid).insert({bucketInstanceId:_,featureIndex:k,collisionGroupID:j,overlapMode:p},c[0],c[1],c[2],c[3])}insertCollisionCircles(c,p,v,_,k,j){const z=v?this.ignoredGrid:this.grid,V={bucketInstanceId:_,featureIndex:k,collisionGroupID:j,overlapMode:p};for(let H=0;H<c.length;H+=4)z.insertCircle(V,c[H],c[H+1],c[H+2])}projectAndGetPerspectiveRatio(c,p,v,_){let k;return _?(k=[p,v,_(p,v),1],a.ag(k,k,c)):(k=[p,v,0,1],be(k,k,c)),{point:new a.P((k[0]/k[3]+1)/2*this.transform.width+we,(-k[1]/k[3]+1)/2*this.transform.height+we),perspectiveRatio:.5+this.transform.cameraToCenterDistance/k[3]*.5}}isOffscreen(c,p,v,_){return v<we||c>=this.screenRightBoundary||_<we||p>this.screenBottomBoundary}isInsideGrid(c,p,v,_){return v>=0&&c<this.gridRightBoundary&&_>=0&&p<this.gridBottomBoundary}getViewportMatrix(){const c=a.ao([]);return a.$(c,c,[-100,-100,0]),c}}function Me(w,c,p){return c*(a.N/(w.tileSize*Math.pow(2,p-w.tileID.overscaledZ)))}class ke{constructor(c,p,v,_){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?p:-p))):_&&v?1:0,this.placed=v}isHidden(){return this.opacity===0&&!this.placed}}class Ie{constructor(c,p,v,_,k){this.text=new ke(c?c.text:null,p,v,k),this.icon=new ke(c?c.icon:null,p,_,k)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ge{constructor(c,p,v){this.text=c,this.icon=p,this.skipFade=v}}class qe{constructor(){this.invProjMatrix=a.Z(),this.viewportMatrix=a.Z(),this.circles=[]}}class Ze{constructor(c,p,v,_,k){this.bucketInstanceId=c,this.featureIndex=p,this.sourceLayerIndex=v,this.bucketIndex=_,this.tileID=k}}class Ht{constructor(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}}get(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){const p=++this.maxGroupID;this.collisionGroups[c]={ID:p,predicate:v=>v.collisionGroupID===p}}return this.collisionGroups[c]}}function Zt(w,c,p,v,_){const{horizontalAlign:k,verticalAlign:j}=a.au(w);return new a.P(-(k-.5)*c+v[0]*_,-(j-.5)*p+v[1]*_)}function It(w,c,p,v,_,k){const{x1:j,x2:z,y1:V,y2:H,anchorPointX:Y,anchorPointY:K}=w,re=new a.P(c,p);return v&&re._rotate(_?k:-k),{x1:j+re.x,y1:V+re.y,x2:z+re.x,y2:H+re.y,anchorPointX:Y,anchorPointY:K}}class Gt{constructor(c,p,v,_,k){this.transform=c.clone(),this.terrain=p,this.collisionIndex=new De(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=v,this.retainedQueryData={},this.collisionGroups=new Ht(_),this.collisionCircleArrays={},this.prevPlacement=k,k&&(k.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(c,p,v,_){const k=v.getBucket(p),j=v.latestFeatureIndex;if(!k||!j||p.id!==k.layerIds[0])return;const z=v.collisionBoxArray,V=k.layers[0].layout,H=Math.pow(2,this.transform.zoom-v.tileID.overscaledZ),Y=v.tileSize/a.N,K=this.transform.calculatePosMatrix(v.tileID.toUnwrapped()),re=V.get("text-pitch-alignment")==="map",me=V.get("text-rotation-alignment")==="map",pe=Me(v,1,this.transform.zoom),ve=lt(K,re,me,this.transform,pe);let de=null;if(re){const Ne=Bt(K,re,me,this.transform,pe);de=a.a1([],this.transform.labelPlaneMatrix,Ne)}this.retainedQueryData[k.bucketInstanceId]=new Ze(k.bucketInstanceId,j,k.sourceLayerIndex,k.index,v.tileID);const Ae={bucket:k,layout:V,posMatrix:K,textLabelPlaneMatrix:ve,labelToScreenMatrix:de,scale:H,textPixelRatio:Y,holdingForFade:v.holdingForFade(),collisionBoxArray:z,partiallyEvaluatedTextSize:a.ah(k.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(k.sourceID)};if(_)for(const Ne of k.sortKeyRanges){const{sortKey:Se,symbolInstanceStart:$e,symbolInstanceEnd:Fe}=Ne;c.push({sortKey:Se,symbolInstanceStart:$e,symbolInstanceEnd:Fe,parameters:Ae})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:k.symbolInstances.length,parameters:Ae})}attemptAnchorPlacement(c,p,v,_,k,j,z,V,H,Y,K,re,me,pe,ve,de){const Ae=a.aq[c.textAnchor],Ne=[c.textOffset0,c.textOffset1],Se=Zt(Ae,v,_,Ne,k),$e=this.collisionIndex.placeCollisionBox(It(p,Se.x,Se.y,j,z,this.transform.angle),K,V,H,Y.predicate,de);if((!ve||this.collisionIndex.placeCollisionBox(It(ve,Se.x,Se.y,j,z,this.transform.angle),K,V,H,Y.predicate,de).box.length!==0)&&$e.box.length>0){let Fe;if(this.prevPlacement&&this.prevPlacement.variableOffsets[re.crossTileID]&&this.prevPlacement.placements[re.crossTileID]&&this.prevPlacement.placements[re.crossTileID].text&&(Fe=this.prevPlacement.variableOffsets[re.crossTileID].anchor),re.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[re.crossTileID]={textOffset:Ne,width:v,height:_,anchor:Ae,textBoxScale:k,prevAnchor:Fe},this.markUsedJustification(me,Ae,re,pe),me.allowVerticalPlacement&&(this.markUsedOrientation(me,pe,re),this.placedOrientations[re.crossTileID]=pe),{shift:Se,placedGlyphBoxes:$e}}}placeLayerBucketPart(c,p,v){const{bucket:_,layout:k,posMatrix:j,textLabelPlaneMatrix:z,labelToScreenMatrix:V,textPixelRatio:H,holdingForFade:Y,collisionBoxArray:K,partiallyEvaluatedTextSize:re,collisionGroup:me}=c.parameters,pe=k.get("text-optional"),ve=k.get("icon-optional"),de=a.ar(k,"text-overlap","text-allow-overlap"),Ae=de==="always",Ne=a.ar(k,"icon-overlap","icon-allow-overlap"),Se=Ne==="always",$e=k.get("text-rotation-alignment")==="map",Fe=k.get("text-pitch-alignment")==="map",Ue=k.get("icon-text-fit")!=="none",Xe=k.get("symbol-z-order")==="viewport-y",it=Ae&&(Se||!_.hasIconData()||ve),tt=Se&&(Ae||!_.hasTextData()||pe);!_.collisionArrays&&K&&_.deserializeCollisionBoxes(K);const dt=this.retainedQueryData[_.bucketInstanceId].tileID,Dt=this.terrain?(_t,Qt)=>this.terrain.getElevation(dt,_t,Qt):null,wn=(_t,Qt)=>{var jt,Qn;if(p[_t.crossTileID])return;if(Y)return void(this.placements[_t.crossTileID]=new Ge(!1,!1,!1));let xn=!1,mn=!1,Sn=!0,Yr=null,pr={box:null,offscreen:null},Ni={box:null,offscreen:null},vi=null,ii=null,Zo=null,_r=0,us=0,ds=0;Qt.textFeatureIndex?_r=Qt.textFeatureIndex:_t.useRuntimeCollisionCircles&&(_r=_t.featureIndex),Qt.verticalTextFeatureIndex&&(us=Qt.verticalTextFeatureIndex);const Nl=Qt.textBox;if(Nl){const Zi=Kr=>{let xi=a.ai.horizontal;if(_.allowVerticalPlacement&&!Kr&&this.prevPlacement){const So=this.prevPlacement.placedOrientations[_t.crossTileID];So&&(this.placedOrientations[_t.crossTileID]=So,xi=So,this.markUsedOrientation(_,xi,_t))}return xi},zi=(Kr,xi)=>{if(_.allowVerticalPlacement&&_t.numVerticalGlyphVertices>0&&Qt.verticalTextBox){for(const So of _.writingModes)if(So===a.ai.vertical?(pr=xi(),Ni=pr):pr=Kr(),pr&&pr.box&&pr.box.length)break}else pr=Kr()},lo=_t.textAnchorOffsetStartIndex,Pc=_t.textAnchorOffsetEndIndex;if(Pc===lo){const Kr=(xi,So)=>{const Zr=this.collisionIndex.placeCollisionBox(xi,de,H,j,me.predicate,Dt);return Zr&&Zr.box&&Zr.box.length&&(this.markUsedOrientation(_,So,_t),this.placedOrientations[_t.crossTileID]=So),Zr};zi(()=>Kr(Nl,a.ai.horizontal),()=>{const xi=Qt.verticalTextBox;return _.allowVerticalPlacement&&_t.numVerticalGlyphVertices>0&&xi?Kr(xi,a.ai.vertical):{box:null,offscreen:null}}),Zi(pr&&pr.box&&pr.box.length)}else{let Kr=a.aq[(Qn=(jt=this.prevPlacement)===null||jt===void 0?void 0:jt.variableOffsets[_t.crossTileID])===null||Qn===void 0?void 0:Qn.anchor];const xi=(Zr,Ec,ap)=>{const m_=Zr.x2-Zr.x1,g_=Zr.y2-Zr.y1,fT=_t.textBoxScale,Ly=Ue&&Ne==="never"?Ec:null;let fs={box:[],offscreen:!1},Oc=de==="never"?1:2,hs="never";Kr&&Oc++;for(let xa=0;xa<Oc;xa++){for(let ps=lo;ps<Pc;ps++){const jy=_.textAnchorOffsets.get(ps);if(Kr&&jy.textAnchor!==Kr)continue;const tl=this.attemptAnchorPlacement(jy,Zr,m_,g_,fT,$e,Fe,H,j,me,hs,_t,_,ap,Ly,Dt);if(tl&&(fs=tl.placedGlyphBoxes,fs&&fs.box&&fs.box.length))return xn=!0,Yr=tl.shift,fs}Kr?Kr=null:hs=de}return fs};zi(()=>xi(Nl,Qt.iconBox,a.ai.horizontal),()=>{const Zr=Qt.verticalTextBox;return _.allowVerticalPlacement&&!(pr&&pr.box&&pr.box.length)&&_t.numVerticalGlyphVertices>0&&Zr?xi(Zr,Qt.verticalIconBox,a.ai.vertical):{box:null,offscreen:null}}),pr&&(xn=pr.box,Sn=pr.offscreen);const So=Zi(pr&&pr.box);if(!xn&&this.prevPlacement){const Zr=this.prevPlacement.variableOffsets[_t.crossTileID];Zr&&(this.variableOffsets[_t.crossTileID]=Zr,this.markUsedJustification(_,Zr.anchor,_t,So))}}}if(vi=pr,xn=vi&&vi.box&&vi.box.length>0,Sn=vi&&vi.offscreen,_t.useRuntimeCollisionCircles){const Zi=_.text.placedSymbolArray.get(_t.centerJustifiedTextSymbolIndex),zi=a.aj(_.textSizeData,re,Zi),lo=k.get("text-padding");ii=this.collisionIndex.placeCollisionCircles(de,Zi,_.lineVertexArray,_.glyphOffsetArray,zi,j,z,V,v,Fe,me.predicate,_t.collisionCircleDiameter,lo,Dt),ii.circles.length&&ii.collisionDetected&&!v&&a.w("Collisions detected, but collision boxes are not shown"),xn=Ae||ii.circles.length>0&&!ii.collisionDetected,Sn=Sn&&ii.offscreen}if(Qt.iconFeatureIndex&&(ds=Qt.iconFeatureIndex),Qt.iconBox){const Zi=zi=>{const lo=Ue&&Yr?It(zi,Yr.x,Yr.y,$e,Fe,this.transform.angle):zi;return this.collisionIndex.placeCollisionBox(lo,Ne,H,j,me.predicate,Dt)};Ni&&Ni.box&&Ni.box.length&&Qt.verticalIconBox?(Zo=Zi(Qt.verticalIconBox),mn=Zo.box.length>0):(Zo=Zi(Qt.iconBox),mn=Zo.box.length>0),Sn=Sn&&Zo.offscreen}const Tc=pe||_t.numHorizontalGlyphVertices===0&&_t.numVerticalGlyphVertices===0,Wu=ve||_t.numIconVertices===0;if(Tc||Wu?Wu?Tc||(mn=mn&&xn):xn=mn&&xn:mn=xn=mn&&xn,xn&&vi&&vi.box&&this.collisionIndex.insertCollisionBox(vi.box,de,k.get("text-ignore-placement"),_.bucketInstanceId,Ni&&Ni.box&&us?us:_r,me.ID),mn&&Zo&&this.collisionIndex.insertCollisionBox(Zo.box,Ne,k.get("icon-ignore-placement"),_.bucketInstanceId,ds,me.ID),ii&&(xn&&this.collisionIndex.insertCollisionCircles(ii.circles,de,k.get("text-ignore-placement"),_.bucketInstanceId,_r,me.ID),v)){const Zi=_.bucketInstanceId;let zi=this.collisionCircleArrays[Zi];zi===void 0&&(zi=this.collisionCircleArrays[Zi]=new qe);for(let lo=0;lo<ii.circles.length;lo+=4)zi.circles.push(ii.circles[lo+0]),zi.circles.push(ii.circles[lo+1]),zi.circles.push(ii.circles[lo+2]),zi.circles.push(ii.collisionDetected?1:0)}if(_t.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(_.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[_t.crossTileID]=new Ge(xn||it,mn||tt,Sn||_.justReloaded),p[_t.crossTileID]=!0};if(Xe){if(c.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const _t=_.getSortedSymbolIndexes(this.transform.angle);for(let Qt=_t.length-1;Qt>=0;--Qt){const jt=_t[Qt];wn(_.symbolInstances.get(jt),_.collisionArrays[jt])}}else for(let _t=c.symbolInstanceStart;_t<c.symbolInstanceEnd;_t++)wn(_.symbolInstances.get(_t),_.collisionArrays[_t]);if(v&&_.bucketInstanceId in this.collisionCircleArrays){const _t=this.collisionCircleArrays[_.bucketInstanceId];a.as(_t.invProjMatrix,j),_t.viewportMatrix=this.collisionIndex.getViewportMatrix()}_.justReloaded=!1}markUsedJustification(c,p,v,_){let k;k=_===a.ai.vertical?v.verticalPlacedTextSymbolIndex:{left:v.leftJustifiedTextSymbolIndex,center:v.centerJustifiedTextSymbolIndex,right:v.rightJustifiedTextSymbolIndex}[a.at(p)];const j=[v.leftJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.rightJustifiedTextSymbolIndex,v.verticalPlacedTextSymbolIndex];for(const z of j)z>=0&&(c.text.placedSymbolArray.get(z).crossTileID=k>=0&&z!==k?0:v.crossTileID)}markUsedOrientation(c,p,v){const _=p===a.ai.horizontal||p===a.ai.horizontalOnly?p:0,k=p===a.ai.vertical?p:0,j=[v.leftJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.rightJustifiedTextSymbolIndex];for(const z of j)c.text.placedSymbolArray.get(z).placedOrientation=_;v.verticalPlacedTextSymbolIndex&&(c.text.placedSymbolArray.get(v.verticalPlacedTextSymbolIndex).placedOrientation=k)}commit(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;const p=this.prevPlacement;let v=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;const _=p?p.symbolFadeChange(c):1,k=p?p.opacities:{},j=p?p.variableOffsets:{},z=p?p.placedOrientations:{};for(const V in this.placements){const H=this.placements[V],Y=k[V];Y?(this.opacities[V]=new Ie(Y,_,H.text,H.icon),v=v||H.text!==Y.text.placed||H.icon!==Y.icon.placed):(this.opacities[V]=new Ie(null,_,H.text,H.icon,H.skipFade),v=v||H.text||H.icon)}for(const V in k){const H=k[V];if(!this.opacities[V]){const Y=new Ie(H,_,!1,!1);Y.isHidden()||(this.opacities[V]=Y,v=v||H.text.placed||H.icon.placed)}}for(const V in j)this.variableOffsets[V]||!this.opacities[V]||this.opacities[V].isHidden()||(this.variableOffsets[V]=j[V]);for(const V in z)this.placedOrientations[V]||!this.opacities[V]||this.opacities[V].isHidden()||(this.placedOrientations[V]=z[V]);if(p&&p.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");v?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:c)}updateLayerOpacities(c,p){const v={};for(const _ of p){const k=_.getBucket(c);k&&_.latestFeatureIndex&&c.id===k.layerIds[0]&&this.updateBucketOpacities(k,v,_.collisionBoxArray)}}updateBucketOpacities(c,p,v){c.hasTextData()&&(c.text.opacityVertexArray.clear(),c.text.hasVisibleVertices=!1),c.hasIconData()&&(c.icon.opacityVertexArray.clear(),c.icon.hasVisibleVertices=!1),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();const _=c.layers[0],k=_.layout,j=new Ie(null,0,!1,!1,!0),z=k.get("text-allow-overlap"),V=k.get("icon-allow-overlap"),H=_._unevaluatedLayout.hasValue("text-variable-anchor")||_._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Y=k.get("text-rotation-alignment")==="map",K=k.get("text-pitch-alignment")==="map",re=k.get("icon-text-fit")!=="none",me=new Ie(null,0,z&&(V||!c.hasIconData()||k.get("icon-optional")),V&&(z||!c.hasTextData()||k.get("text-optional")),!0);!c.collisionArrays&&v&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(v);const pe=(ve,de,Ae)=>{for(let Ne=0;Ne<de/4;Ne++)ve.opacityVertexArray.emplaceBack(Ae);ve.hasVisibleVertices=ve.hasVisibleVertices||Ae!==ha};for(let ve=0;ve<c.symbolInstances.length;ve++){const de=c.symbolInstances.get(ve),{numHorizontalGlyphVertices:Ae,numVerticalGlyphVertices:Ne,crossTileID:Se}=de;let $e=this.opacities[Se];p[Se]?$e=j:$e||($e=me,this.opacities[Se]=$e),p[Se]=!0;const Fe=de.numIconVertices>0,Ue=this.placedOrientations[de.crossTileID],Xe=Ue===a.ai.vertical,it=Ue===a.ai.horizontal||Ue===a.ai.horizontalOnly;if(Ae>0||Ne>0){const tt=Kn($e.text);pe(c.text,Ae,Xe?ha:tt),pe(c.text,Ne,it?ha:tt);const dt=$e.text.isHidden();[de.rightJustifiedTextSymbolIndex,de.centerJustifiedTextSymbolIndex,de.leftJustifiedTextSymbolIndex].forEach(_t=>{_t>=0&&(c.text.placedSymbolArray.get(_t).hidden=dt||Xe?1:0)}),de.verticalPlacedTextSymbolIndex>=0&&(c.text.placedSymbolArray.get(de.verticalPlacedTextSymbolIndex).hidden=dt||it?1:0);const Dt=this.variableOffsets[de.crossTileID];Dt&&this.markUsedJustification(c,Dt.anchor,de,Ue);const wn=this.placedOrientations[de.crossTileID];wn&&(this.markUsedJustification(c,"left",de,wn),this.markUsedOrientation(c,wn,de))}if(Fe){const tt=Kn($e.icon),dt=!(re&&de.verticalPlacedIconSymbolIndex&&Xe);de.placedIconSymbolIndex>=0&&(pe(c.icon,de.numIconVertices,dt?tt:ha),c.icon.placedSymbolArray.get(de.placedIconSymbolIndex).hidden=$e.icon.isHidden()),de.verticalPlacedIconSymbolIndex>=0&&(pe(c.icon,de.numVerticalIconVertices,dt?ha:tt),c.icon.placedSymbolArray.get(de.verticalPlacedIconSymbolIndex).hidden=$e.icon.isHidden())}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){const tt=c.collisionArrays[ve];if(tt){let dt=new a.P(0,0);if(tt.textBox||tt.verticalTextBox){let wn=!0;if(H){const _t=this.variableOffsets[Se];_t?(dt=Zt(_t.anchor,_t.width,_t.height,_t.textOffset,_t.textBoxScale),Y&&dt._rotate(K?this.transform.angle:-this.transform.angle)):wn=!1}tt.textBox&&cn(c.textCollisionBox.collisionVertexArray,$e.text.placed,!wn||Xe,dt.x,dt.y),tt.verticalTextBox&&cn(c.textCollisionBox.collisionVertexArray,$e.text.placed,!wn||it,dt.x,dt.y)}const Dt=!!(!it&&tt.verticalIconBox);tt.iconBox&&cn(c.iconCollisionBox.collisionVertexArray,$e.icon.placed,Dt,re?dt.x:0,re?dt.y:0),tt.verticalIconBox&&cn(c.iconCollisionBox.collisionVertexArray,$e.icon.placed,!Dt,re?dt.x:0,re?dt.y:0)}}}if(c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.text.opacityVertexArray.length!==c.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${c.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${c.text.layoutVertexArray.length}) / 4`);if(c.icon.opacityVertexArray.length!==c.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${c.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${c.icon.layoutVertexArray.length}) / 4`);if(c.bucketInstanceId in this.collisionCircleArrays){const ve=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=ve.invProjMatrix,c.placementViewportMatrix=ve.viewportMatrix,c.collisionCircleArray=ve.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}}symbolFadeChange(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(c){return Math.max(0,(this.transform.zoom-c)/1.5)}hasTransitions(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(c,p){const v=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*v>c}setStale(){this.stale=!0}}function cn(w,c,p,v,_){w.emplaceBack(c?1:0,p?1:0,v||0,_||0),w.emplaceBack(c?1:0,p?1:0,v||0,_||0),w.emplaceBack(c?1:0,p?1:0,v||0,_||0),w.emplaceBack(c?1:0,p?1:0,v||0,_||0)}const Ln=Math.pow(2,25),Wn=Math.pow(2,24),An=Math.pow(2,17),Tn=Math.pow(2,16),Ai=Math.pow(2,9),or=Math.pow(2,8),Xt=Math.pow(2,1);function Kn(w){if(w.opacity===0&&!w.placed)return 0;if(w.opacity===1&&w.placed)return 4294967295;const c=w.placed?1:0,p=Math.floor(127*w.opacity);return p*Ln+c*Wn+p*An+c*Tn+p*Ai+c*or+p*Xt+c}const ha=0;class Ab{constructor(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&!c.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(c,p,v,_,k){const j=this._bucketParts;for(;this._currentTileIndex<c.length;)if(p.getBucketParts(j,_,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,k())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,j.sort((z,V)=>z.sortKey-V.sortKey));this._currentPartIndex<j.length;)if(p.placeLayerBucketPart(j[this._currentPartIndex],this._seenCrossTileIDs,v),this._currentPartIndex++,k())return!0;return!1}}class Au{constructor(c,p,v,_,k,j,z,V){this.placement=new Gt(c,p,j,z,V),this._currentPlacementIndex=v.length-1,this._forceFullPlacement=_,this._showCollisionBoxes=k,this._done=!1}isDone(){return this._done}continuePlacement(c,p,v){const _=a.h.now(),k=()=>!this._forceFullPlacement&&a.h.now()-_>2;for(;this._currentPlacementIndex>=0;){const j=p[c[this._currentPlacementIndex]],z=this.placement.collisionIndex.transform.zoom;if(j.type==="symbol"&&(!j.minzoom||j.minzoom<=z)&&(!j.maxzoom||j.maxzoom>z)){if(this._inProgressLayer||(this._inProgressLayer=new Ab(j)),this._inProgressLayer.continuePlacement(v[j.source],this.placement,this._showCollisionBoxes,j,k))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(c){return this.placement.commit(c),this.placement}}const Iu=512/a.N/2;class Kk{constructor(c,p,v){this.tileID=c,this.bucketInstanceId=v,this._symbolsByKey={};const _=new Map;for(let k=0;k<p.length;k++){const j=p.get(k),z=j.key,V=_.get(z);V?V.push(j):_.set(z,[j])}for(const[k,j]of _){const z={positions:j.map(V=>({x:Math.floor(V.anchorX*Iu),y:Math.floor(V.anchorY*Iu)})),crossTileIDs:j.map(V=>V.crossTileID)};if(z.positions.length>128){const V=new a.av(z.positions.length,16,Uint16Array);for(const{x:H,y:Y}of z.positions)V.add(H,Y);V.finish(),delete z.positions,z.index=V}this._symbolsByKey[k]=z}}getScaledCoordinates(c,p){const{x:v,y:_,z:k}=this.tileID.canonical,{x:j,y:z,z:V}=p.canonical,H=Iu/Math.pow(2,V-k),Y=(z*a.N+c.anchorY)*H,K=_*a.N*Iu;return{x:Math.floor((j*a.N+c.anchorX)*H-v*a.N*Iu),y:Math.floor(Y-K)}}findMatches(c,p,v){const _=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z);for(let k=0;k<c.length;k++){const j=c.get(k);if(j.crossTileID)continue;const z=this._symbolsByKey[j.key];if(!z)continue;const V=this.getScaledCoordinates(j,p);if(z.index){const H=z.index.range(V.x-_,V.y-_,V.x+_,V.y+_).sort();for(const Y of H){const K=z.crossTileIDs[Y];if(!v[K]){v[K]=!0,j.crossTileID=K;break}}}else if(z.positions)for(let H=0;H<z.positions.length;H++){const Y=z.positions[H],K=z.crossTileIDs[H];if(Math.abs(Y.x-V.x)<=_&&Math.abs(Y.y-V.y)<=_&&!v[K]){v[K]=!0,j.crossTileID=K;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:c})=>c)}}class Jn{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Kg{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(c){const p=Math.round((c-this.lng)/360);if(p!==0)for(const v in this.indexes){const _=this.indexes[v],k={};for(const j in _){const z=_[j];z.tileID=z.tileID.unwrapTo(z.tileID.wrap+p),k[z.tileID.key]=z}this.indexes[v]=k}this.lng=c}addBucket(c,p,v){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(let k=0;k<p.symbolInstances.length;k++)p.symbolInstances.get(k).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});const _=this.usedCrossTileIDs[c.overscaledZ];for(const k in this.indexes){const j=this.indexes[k];if(Number(k)>c.overscaledZ)for(const z in j){const V=j[z];V.tileID.isChildOf(c)&&V.findMatches(p.symbolInstances,c,_)}else{const z=j[c.scaledTo(Number(k)).key];z&&z.findMatches(p.symbolInstances,c,_)}}for(let k=0;k<p.symbolInstances.length;k++){const j=p.symbolInstances.get(k);j.crossTileID||(j.crossTileID=v.generate(),_[j.crossTileID]=!0)}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new Kk(c,p.symbolInstances,p.bucketInstanceId),!0}removeBucketCrossTileIDs(c,p){for(const v of p.getCrossTileIDsLists())for(const _ of v)delete this.usedCrossTileIDs[c][_]}removeStaleBuckets(c){let p=!1;for(const v in this.indexes){const _=this.indexes[v];for(const k in _)c[_[k].bucketInstanceId]||(this.removeBucketCrossTileIDs(v,_[k]),delete _[k],p=!0)}return p}}class Ih{constructor(){this.layerIndexes={},this.crossTileIDs=new Jn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(c,p,v){let _=this.layerIndexes[c.id];_===void 0&&(_=this.layerIndexes[c.id]=new Kg);let k=!1;const j={};_.handleWrapJump(v);for(const z of p){const V=z.getBucket(c);V&&c.id===V.layerIds[0]&&(V.bucketInstanceId||(V.bucketInstanceId=++this.maxBucketInstanceId),_.addBucket(z.tileID,V,this.crossTileIDs)&&(k=!0),j[V.bucketInstanceId]=!0)}return _.removeStaleBuckets(j)&&(k=!0),k}pruneUnusedLayers(c){const p={};c.forEach(v=>{p[v]=!0});for(const v in this.layerIndexes)p[v]||delete this.layerIndexes[v]}}const Ki=(w,c)=>a.x(w,c&&c.filter(p=>p.identifier!=="source.canvas")),qo=a.F(a.ax,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),Zk=a.F(a.ax,["setCenter","setZoom","setBearing","setPitch"]),pa=a.aw();class ji extends a.E{constructor(c,p={}){super(),this.map=c,this.dispatcher=new Qe(Rn(),this,c._getMapId()),this.imageManager=new ge,this.imageManager.setEventedParent(this),this.glyphManager=new ue(c._requestManager,p.localIdeographFontFamily),this.lineAtlas=new je(256,512),this.crossTileSymbolIndex=new Ih,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ay,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.az());const v=this;this._rtlTextPluginCallback=ji.registerForPluginStateChange(_=>{v.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:_.pluginStatus,pluginURL:_.pluginURL},(k,j)=>{if(a.aA(k),j&&j.every(z=>z))for(const z in v.sourceCaches){const V=v.sourceCaches[z].getSource().type;V!=="vector"&&V!=="geojson"||v.sourceCaches[z].reload()}})}),this.on("data",_=>{if(_.dataType!=="source"||_.sourceDataType!=="metadata")return;const k=this.sourceCaches[_.sourceId];if(!k)return;const j=k.getSource();if(j&&j.vectorLayerIds)for(const z in this._layers){const V=this._layers[z];V.source===j.id&&this._validateLayer(V)}})}loadURL(c,p={},v){this.fire(new a.k("dataloading",{dataType:"style"})),p.validate=typeof p.validate!="boolean"||p.validate;const _=this.map._requestManager.transformRequest(c,A.Style);this._request=a.f(_,(k,j)=>{this._request=null,k?this.fire(new a.j(k)):j&&this._load(j,p,v)})}loadJSON(c,p={},v){this.fire(new a.k("dataloading",{dataType:"style"})),this._request=a.h.frame(()=>{this._request=null,p.validate=p.validate!==!1,this._load(c,p,v)})}loadEmpty(){this.fire(new a.k("dataloading",{dataType:"style"})),this._load(pa,{validate:!1})}_load(c,p,v){var _;const k=p.transformStyle?p.transformStyle(v,c):c;if(!p.validate||!Ki(this,a.y(k))){this._loaded=!0,this.stylesheet=k;for(const j in k.sources)this.addSource(j,k.sources[j],{validate:!1});k.sprite?this._loadSprite(k.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(k.glyphs),this._createLayers(),this.light=new Pe(this.stylesheet.light),this.map.setTerrain((_=this.stylesheet.terrain)!==null&&_!==void 0?_:null),this.fire(new a.k("data",{dataType:"style"})),this.fire(new a.k("style.load"))}}_createLayers(){const c=a.aB(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",c),this._order=c.map(p=>p.id),this._layers={},this._serializedLayers=null;for(const p of c){const v=a.aC(p);v.setEventedParent(this,{layer:{id:p.id}}),this._layers[p.id]=v}}_loadSprite(c,p=!1,v=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(_,k,j,z){const V=q(_),H=V.length,Y=j>1?"@2x":"",K={},re={},me={};for(const{id:pe,url:ve}of V){const de=k.transformRequest(k.normalizeSpriteURL(ve,Y,".json"),A.SpriteJSON),Ae=`${pe}_${de.url}`;K[Ae]=a.f(de,($e,Fe)=>{delete K[Ae],re[pe]=Fe,X(z,re,me,$e,H)});const Ne=k.transformRequest(k.normalizeSpriteURL(ve,Y,".png"),A.SpriteImage),Se=`${pe}_${Ne.url}`;K[Se]=O.getImage(Ne,($e,Fe)=>{delete K[Se],me[pe]=Fe,X(z,re,me,$e,H)})}return{cancel(){for(const pe of Object.values(K))pe.cancel()}}}(c,this.map._requestManager,this.map.getPixelRatio(),(_,k)=>{if(this._spriteRequest=null,_)this.fire(new a.j(_));else if(k)for(const j in k){this._spritesImagesIds[j]=[];const z=this._spritesImagesIds[j]?this._spritesImagesIds[j].filter(V=>!(V in k)):[];for(const V of z)this.imageManager.removeImage(V),this._changedImages[V]=!0;for(const V in k[j]){const H=j==="default"?V:`${j}:${V}`;this._spritesImagesIds[j].push(H),H in this.imageManager.images?this.imageManager.updateImage(H,k[j][V],!1):this.imageManager.addImage(H,k[j][V]),p&&(this._changedImages[H]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),p&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"})),v&&v(_)})}_unloadSprite(){for(const c of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(c),this._changedImages[c]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}_validateLayer(c){const p=this.sourceCaches[c.source];if(!p)return;const v=c.sourceLayer;if(!v)return;const _=p.getSource();(_.type==="geojson"||_.vectorLayerIds&&_.vectorLayerIds.indexOf(v)===-1)&&this.fire(new a.j(new Error(`Source layer "${v}" does not exist on source "${_.id}" as specified by style layer "${c.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const c in this.sourceCaches)if(!this.sourceCaches[c].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(c){const p=this._serializedAllLayers();if(!c||c.length===0)return Object.values(p);const v=[];for(const _ of c)p[_]&&v.push(p[_]);return v}_serializedAllLayers(){let c=this._serializedLayers;if(c)return c;c=this._serializedLayers={};const p=Object.keys(this._layers);for(const v of p){const _=this._layers[v];_.type!=="custom"&&(c[v]=_.serialize())}return c}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const c in this.sourceCaches)if(this.sourceCaches[c].hasTransition())return!0;for(const c in this._layers)if(this._layers[c].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(c){if(!this._loaded)return;const p=this._changed;if(this._changed){const _=Object.keys(this._updatedLayers),k=Object.keys(this._removedLayers);(_.length||k.length)&&this._updateWorkerLayers(_,k);for(const j in this._updatedSources){const z=this._updatedSources[j];if(z==="reload")this._reloadSource(j);else{if(z!=="clear")throw new Error(`Invalid action ${z}`);this._clearSource(j)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const j in this._updatedPaintProps)this._layers[j].updateTransitions(c);this.light.updateTransitions(c),this._resetUpdates()}const v={};for(const _ in this.sourceCaches){const k=this.sourceCaches[_];v[_]=k.used,k.used=!1}for(const _ of this._order){const k=this._layers[_];k.recalculate(c,this._availableImages),!k.isHidden(c.zoom)&&k.source&&(this.sourceCaches[k.source].used=!0)}for(const _ in v){const k=this.sourceCaches[_];v[_]!==k.used&&k.fire(new a.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:_}))}this.light.recalculate(c),this.z=c.zoom,p&&this.fire(new a.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const c=Object.keys(this._changedImages);if(c.length){for(const p in this.sourceCaches)this.sourceCaches[p].reloadTilesForDependencies(["icons","patterns"],c);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const c in this.sourceCaches)this.sourceCaches[c].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(c,p){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(c),removedIds:p})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(c,p={}){this._checkLoaded();const v=this.serialize();if(c=p.transformStyle?p.transformStyle(v,c):c,Ki(this,a.y(c)))return!1;(c=a.aD(c)).layers=a.aB(c.layers);const _=a.aE(v,c).filter(j=>!(j.command in Zk));if(_.length===0)return!1;const k=_.filter(j=>!(j.command in qo));if(k.length>0)throw new Error(`Unimplemented: ${k.map(j=>j.command).join(", ")}.`);for(const j of _)j.command!=="setTransition"&&this[j.command].apply(this,j.args);return this.stylesheet=c,this._serializedLayers=null,!0}addImage(c,p){if(this.getImage(c))return this.fire(new a.j(new Error(`An image named "${c}" already exists.`)));this.imageManager.addImage(c,p),this._afterImageUpdated(c)}updateImage(c,p){this.imageManager.updateImage(c,p)}getImage(c){return this.imageManager.getImage(c)}removeImage(c){if(!this.getImage(c))return this.fire(new a.j(new Error(`An image named "${c}" does not exist.`)));this.imageManager.removeImage(c),this._afterImageUpdated(c)}_afterImageUpdated(c){this._availableImages=this.imageManager.listImages(),this._changedImages[c]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(c,p,v={}){if(this._checkLoaded(),this.sourceCaches[c]!==void 0)throw new Error(`Source "${c}" already exists.`);if(!p.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(p).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(p.type)>=0&&this._validate(a.y.source,`sources.${c}`,p,null,v))return;this.map&&this.map._collectResourceTiming&&(p.collectResourceTiming=!0);const _=this.sourceCaches[c]=new an(c,p,this.dispatcher);_.style=this,_.setEventedParent(this,()=>({isSourceLoaded:_.loaded(),source:_.serialize(),sourceId:c})),_.onAdd(this.map),this._changed=!0}removeSource(c){if(this._checkLoaded(),this.sourceCaches[c]===void 0)throw new Error("There is no source with this ID");for(const v in this._layers)if(this._layers[v].source===c)return this.fire(new a.j(new Error(`Source "${c}" cannot be removed while layer "${v}" is using it.`)));const p=this.sourceCaches[c];delete this.sourceCaches[c],delete this._updatedSources[c],p.fire(new a.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:c})),p.setEventedParent(null),p.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(c,p){if(this._checkLoaded(),this.sourceCaches[c]===void 0)throw new Error(`There is no source with this ID=${c}`);const v=this.sourceCaches[c].getSource();if(v.type!=="geojson")throw new Error(`geojsonSource.type is ${v.type}, which is !== 'geojson`);v.setData(p),this._changed=!0}getSource(c){return this.sourceCaches[c]&&this.sourceCaches[c].getSource()}addLayer(c,p,v={}){this._checkLoaded();const _=c.id;if(this.getLayer(_))return void this.fire(new a.j(new Error(`Layer "${_}" already exists on this map.`)));let k;if(c.type==="custom"){if(Ki(this,a.aF(c)))return;k=a.aC(c)}else{if("source"in c&&typeof c.source=="object"&&(this.addSource(_,c.source),c=a.aD(c),c=a.e(c,{source:_})),this._validate(a.y.layer,`layers.${_}`,c,{arrayIndex:-1},v))return;k=a.aC(c),this._validateLayer(k),k.setEventedParent(this,{layer:{id:_}})}const j=p?this._order.indexOf(p):this._order.length;if(p&&j===-1)this.fire(new a.j(new Error(`Cannot add layer "${_}" before non-existing layer "${p}".`)));else{if(this._order.splice(j,0,_),this._layerOrderChanged=!0,this._layers[_]=k,this._removedLayers[_]&&k.source&&k.type!=="custom"){const z=this._removedLayers[_];delete this._removedLayers[_],z.type!==k.type?this._updatedSources[k.source]="clear":(this._updatedSources[k.source]="reload",this.sourceCaches[k.source].pause())}this._updateLayer(k),k.onAdd&&k.onAdd(this.map)}}moveLayer(c,p){if(this._checkLoaded(),this._changed=!0,!this._layers[c])return void this.fire(new a.j(new Error(`The layer '${c}' does not exist in the map's style and cannot be moved.`)));if(c===p)return;const v=this._order.indexOf(c);this._order.splice(v,1);const _=p?this._order.indexOf(p):this._order.length;p&&_===-1?this.fire(new a.j(new Error(`Cannot move layer "${c}" before non-existing layer "${p}".`))):(this._order.splice(_,0,c),this._layerOrderChanged=!0)}removeLayer(c){this._checkLoaded();const p=this._layers[c];if(!p)return void this.fire(new a.j(new Error(`Cannot remove non-existing layer "${c}".`)));p.setEventedParent(null);const v=this._order.indexOf(c);this._order.splice(v,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[c]=p,delete this._layers[c],this._serializedLayers&&delete this._serializedLayers[c],delete this._updatedLayers[c],delete this._updatedPaintProps[c],p.onRemove&&p.onRemove(this.map)}getLayer(c){return this._layers[c]}getLayersOrder(){return[...this._order]}hasLayer(c){return c in this._layers}setLayerZoomRange(c,p,v){this._checkLoaded();const _=this.getLayer(c);_?_.minzoom===p&&_.maxzoom===v||(p!=null&&(_.minzoom=p),v!=null&&(_.maxzoom=v),this._updateLayer(_)):this.fire(new a.j(new Error(`Cannot set the zoom range of non-existing layer "${c}".`)))}setFilter(c,p,v={}){this._checkLoaded();const _=this.getLayer(c);if(_){if(!a.aG(_.filter,p))return p==null?(_.filter=void 0,void this._updateLayer(_)):void(this._validate(a.y.filter,`layers.${_.id}.filter`,p,null,v)||(_.filter=a.aD(p),this._updateLayer(_)))}else this.fire(new a.j(new Error(`Cannot filter non-existing layer "${c}".`)))}getFilter(c){return a.aD(this.getLayer(c).filter)}setLayoutProperty(c,p,v,_={}){this._checkLoaded();const k=this.getLayer(c);k?a.aG(k.getLayoutProperty(p),v)||(k.setLayoutProperty(p,v,_),this._updateLayer(k)):this.fire(new a.j(new Error(`Cannot style non-existing layer "${c}".`)))}getLayoutProperty(c,p){const v=this.getLayer(c);if(v)return v.getLayoutProperty(p);this.fire(new a.j(new Error(`Cannot get style of non-existing layer "${c}".`)))}setPaintProperty(c,p,v,_={}){this._checkLoaded();const k=this.getLayer(c);k?a.aG(k.getPaintProperty(p),v)||(k.setPaintProperty(p,v,_)&&this._updateLayer(k),this._changed=!0,this._updatedPaintProps[c]=!0):this.fire(new a.j(new Error(`Cannot style non-existing layer "${c}".`)))}getPaintProperty(c,p){return this.getLayer(c).getPaintProperty(p)}setFeatureState(c,p){this._checkLoaded();const v=c.source,_=c.sourceLayer,k=this.sourceCaches[v];if(k===void 0)return void this.fire(new a.j(new Error(`The source '${v}' does not exist in the map's style.`)));const j=k.getSource().type;j==="geojson"&&_?this.fire(new a.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):j!=="vector"||_?(c.id===void 0&&this.fire(new a.j(new Error("The feature id parameter must be provided."))),k.setFeatureState(_,c.id,p)):this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(c,p){this._checkLoaded();const v=c.source,_=this.sourceCaches[v];if(_===void 0)return void this.fire(new a.j(new Error(`The source '${v}' does not exist in the map's style.`)));const k=_.getSource().type,j=k==="vector"?c.sourceLayer:void 0;k!=="vector"||j?p&&typeof c.id!="string"&&typeof c.id!="number"?this.fire(new a.j(new Error("A feature id is required to remove its specific state property."))):_.removeFeatureState(j,c.id,p):this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(c){this._checkLoaded();const p=c.source,v=c.sourceLayer,_=this.sourceCaches[p];if(_!==void 0)return _.getSource().type!=="vector"||v?(c.id===void 0&&this.fire(new a.j(new Error("The feature id parameter must be provided."))),_.getFeatureState(v,c.id)):void this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.j(new Error(`The source '${p}' does not exist in the map's style.`)))}getTransition(){return a.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const c=a.aH(this.sourceCaches,k=>k.serialize()),p=this._serializeByIds(this._order),v=this.map.getTerrain()||void 0,_=this.stylesheet;return a.aI({version:_.version,name:_.name,metadata:_.metadata,light:_.light,center:_.center,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch,sprite:_.sprite,glyphs:_.glyphs,transition:_.transition,sources:c,layers:p,terrain:v},k=>k!==void 0)}_updateLayer(c){this._updatedLayers[c.id]=!0,c.source&&!this._updatedSources[c.source]&&this.sourceCaches[c.source].getSource().type!=="raster"&&(this._updatedSources[c.source]="reload",this.sourceCaches[c.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(c){const p=j=>this._layers[j].type==="fill-extrusion",v={},_=[];for(let j=this._order.length-1;j>=0;j--){const z=this._order[j];if(p(z)){v[z]=j;for(const V of c){const H=V[z];if(H)for(const Y of H)_.push(Y)}}}_.sort((j,z)=>z.intersectionZ-j.intersectionZ);const k=[];for(let j=this._order.length-1;j>=0;j--){const z=this._order[j];if(p(z))for(let V=_.length-1;V>=0;V--){const H=_[V].feature;if(v[H.layer.id]<j)break;k.push(H),_.pop()}else for(const V of c){const H=V[z];if(H)for(const Y of H)k.push(Y.feature)}}return k}queryRenderedFeatures(c,p,v){p&&p.filter&&this._validate(a.y.filter,"queryRenderedFeatures.filter",p.filter,null,p);const _={};if(p&&p.layers){if(!Array.isArray(p.layers))return this.fire(new a.j(new Error("parameters.layers must be an Array."))),[];for(const z of p.layers){const V=this._layers[z];if(!V)return this.fire(new a.j(new Error(`The layer '${z}' does not exist in the map's style and cannot be queried for features.`))),[];_[V.source]=!0}}const k=[];p.availableImages=this._availableImages;const j=this._serializedAllLayers();for(const z in this.sourceCaches)p.layers&&!_[z]||k.push(gn(this.sourceCaches[z],this._layers,j,c,p,v));return this.placement&&k.push(function(z,V,H,Y,K,re,me){const pe={},ve=re.queryRenderedSymbols(Y),de=[];for(const Ae of Object.keys(ve).map(Number))de.push(me[Ae]);de.sort(bn);for(const Ae of de){const Ne=Ae.featureIndex.lookupSymbolFeatures(ve[Ae.bucketInstanceId],V,Ae.bucketIndex,Ae.sourceLayerIndex,K.filter,K.layers,K.availableImages,z);for(const Se in Ne){const $e=pe[Se]=pe[Se]||[],Fe=Ne[Se];Fe.sort((Ue,Xe)=>{const it=Ae.featureSortOrder;if(it){const tt=it.indexOf(Ue.featureIndex);return it.indexOf(Xe.featureIndex)-tt}return Xe.featureIndex-Ue.featureIndex});for(const Ue of Fe)$e.push(Ue)}}for(const Ae in pe)pe[Ae].forEach(Ne=>{const Se=Ne.feature,$e=H[z[Ae].source].getFeatureState(Se.layer["source-layer"],Se.id);Se.source=Se.layer.source,Se.layer["source-layer"]&&(Se.sourceLayer=Se.layer["source-layer"]),Se.state=$e});return pe}(this._layers,j,this.sourceCaches,c,p,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(k)}querySourceFeatures(c,p){p&&p.filter&&this._validate(a.y.filter,"querySourceFeatures.filter",p.filter,null,p);const v=this.sourceCaches[c];return v?function(_,k){const j=_.getRenderableIds().map(H=>_.getTileByID(H)),z=[],V={};for(let H=0;H<j.length;H++){const Y=j[H],K=Y.tileID.canonical.key;V[K]||(V[K]=!0,Y.querySourceFeatures(z,k))}return z}(v,p):[]}addSourceType(c,p,v){return Pt(c)?v(new Error(`A source type called "${c}" already exists.`)):(((_,k)=>{Tt[_]=k})(c,p),p.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:c,url:p.workerSourceURL},v):v(null,null))}getLight(){return this.light.getLight()}setLight(c,p={}){this._checkLoaded();const v=this.light.getLight();let _=!1;for(const j in c)if(!a.aG(c[j],v[j])){_=!0;break}if(!_)return;const k={now:a.h.now(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(c,p),this.light.updateTransitions(k)}_validate(c,p,v,_,k={}){return(!k||k.validate!==!1)&&Ki(this,c.call(a.y,a.e({key:p,style:this.serialize(),value:v,styleSpec:a.v},_)))}_remove(c=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.aJ.off("pluginStateChange",this._rtlTextPluginCallback);for(const p in this._layers)this._layers[p].setEventedParent(null);for(const p in this.sourceCaches){const v=this.sourceCaches[p];v.setEventedParent(null),v.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(c)}_clearSource(c){this.sourceCaches[c].clearTiles()}_reloadSource(c){this.sourceCaches[c].resume(),this.sourceCaches[c].reload()}_updateSources(c){for(const p in this.sourceCaches)this.sourceCaches[p].update(c,this.map.terrain)}_generateCollisionBoxes(){for(const c in this.sourceCaches)this._reloadSource(c)}_updatePlacement(c,p,v,_,k=!1){let j=!1,z=!1;const V={};for(const H of this._order){const Y=this._layers[H];if(Y.type!=="symbol")continue;if(!V[Y.source]){const re=this.sourceCaches[Y.source];V[Y.source]=re.getRenderableIds(!0).map(me=>re.getTileByID(me)).sort((me,pe)=>pe.tileID.overscaledZ-me.tileID.overscaledZ||(me.tileID.isLessThan(pe.tileID)?-1:1))}const K=this.crossTileSymbolIndex.addLayer(Y,V[Y.source],c.center.lng);j=j||K}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((k=k||this._layerOrderChanged||v===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.h.now(),c.zoom))&&(this.pauseablePlacement=new Au(c,this.map.terrain,this._order,k,p,v,_,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,V),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.h.now()),z=!0),j&&this.pauseablePlacement.placement.setStale()),z||j)for(const H of this._order){const Y=this._layers[H];Y.type==="symbol"&&this.placement.updateLayerOpacities(Y,V[Y.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.h.now())}_releaseSymbolFadeTiles(){for(const c in this.sourceCaches)this.sourceCaches[c].releaseSymbolFadeTiles()}getImages(c,p,v){this.imageManager.getImages(p.icons,v),this._updateTilesForChangedImages();const _=this.sourceCaches[p.source];_&&_.setDependencies(p.tileID.key,p.type,p.icons)}getGlyphs(c,p,v){this.glyphManager.getGlyphs(p.stacks,v);const _=this.sourceCaches[p.source];_&&_.setDependencies(p.tileID.key,p.type,[""])}getResource(c,p,v){return a.m(p,v)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(c,p={}){this._checkLoaded(),c&&this._validate(a.y.glyphs,"glyphs",c,null,p)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=c,this.glyphManager.entries={},this.glyphManager.setURL(c))}addSprite(c,p,v={},_){this._checkLoaded();const k=[{id:c,url:p}],j=[...q(this.stylesheet.sprite),...k];this._validate(a.y.sprite,"sprite",j,null,v)||(this.stylesheet.sprite=j,this._loadSprite(k,!0,_))}removeSprite(c){this._checkLoaded();const p=q(this.stylesheet.sprite);if(p.find(v=>v.id===c)){if(this._spritesImagesIds[c])for(const v of this._spritesImagesIds[c])this.imageManager.removeImage(v),this._changedImages[v]=!0;p.splice(p.findIndex(v=>v.id===c),1),this.stylesheet.sprite=p.length>0?p:void 0,delete this._spritesImagesIds[c],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}else this.fire(new a.j(new Error(`Sprite "${c}" doesn't exists on this map.`)))}getSprite(){return q(this.stylesheet.sprite)}setSprite(c,p={},v){this._checkLoaded(),c&&this._validate(a.y.sprite,"sprite",c,null,p)||(this.stylesheet.sprite=c,c?this._loadSprite(c,!0,v):(this._unloadSprite(),v&&v(null)))}}ji.registerForPluginStateChange=a.aK;var $h=a.Q([{name:"a_pos",type:"Int16",components:2}]),$u="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const Ar={prelude:zn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:zn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:zn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:zn(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:zn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:zn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:zn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:zn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:zn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:zn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:zn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:zn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:zn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:zn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:zn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:zn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:zn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:zn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:zn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:zn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:zn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:zn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:zn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:zn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:zn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:zn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:zn("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",$u),terrainDepth:zn("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",$u),terrainCoords:zn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",$u)};function zn(w,c){const p=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,v=c.match(/attribute ([\w]+) ([\w]+)/g),_=w.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),k=c.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),j=k?k.concat(_):_,z={};return{fragmentSource:w=w.replace(p,(V,H,Y,K,re)=>(z[re]=!0,H==="define"?`
#ifndef HAS_UNIFORM_u_${re}
varying ${Y} ${K} ${re};
#else
uniform ${Y} ${K} u_${re};
#endif
`:`
#ifdef HAS_UNIFORM_u_${re}
    ${Y} ${K} ${re} = u_${re};
#endif
`)),vertexSource:c=c.replace(p,(V,H,Y,K,re)=>{const me=K==="float"?"vec2":"vec4",pe=re.match(/color/)?"color":me;return z[re]?H==="define"?`
#ifndef HAS_UNIFORM_u_${re}
uniform lowp float u_${re}_t;
attribute ${Y} ${me} a_${re};
varying ${Y} ${K} ${re};
#else
uniform ${Y} ${K} u_${re};
#endif
`:pe==="vec4"?`
#ifndef HAS_UNIFORM_u_${re}
    ${re} = a_${re};
#else
    ${Y} ${K} ${re} = u_${re};
#endif
`:`
#ifndef HAS_UNIFORM_u_${re}
    ${re} = unpack_mix_${pe}(a_${re}, u_${re}_t);
#else
    ${Y} ${K} ${re} = u_${re};
#endif
`:H==="define"?`
#ifndef HAS_UNIFORM_u_${re}
uniform lowp float u_${re}_t;
attribute ${Y} ${me} a_${re};
#else
uniform ${Y} ${K} u_${re};
#endif
`:pe==="vec4"?`
#ifndef HAS_UNIFORM_u_${re}
    ${Y} ${K} ${re} = a_${re};
#else
    ${Y} ${K} ${re} = u_${re};
#endif
`:`
#ifndef HAS_UNIFORM_u_${re}
    ${Y} ${K} ${re} = unpack_mix_${pe}(a_${re}, u_${re}_t);
#else
    ${Y} ${K} ${re} = u_${re};
#endif
`}),staticAttributes:v,staticUniforms:j}}class vc{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(c,p,v,_,k,j,z,V,H){this.context=c;let Y=this.boundPaintVertexBuffers.length!==_.length;for(let K=0;!Y&&K<_.length;K++)this.boundPaintVertexBuffers[K]!==_[K]&&(Y=!0);!this.vao||this.boundProgram!==p||this.boundLayoutVertexBuffer!==v||Y||this.boundIndexBuffer!==k||this.boundVertexOffset!==j||this.boundDynamicVertexBuffer!==z||this.boundDynamicVertexBuffer2!==V||this.boundDynamicVertexBuffer3!==H?this.freshBind(p,v,_,k,j,z,V,H):(c.bindVertexArray.set(this.vao),z&&z.bind(),k&&k.dynamicDraw&&k.bind(),V&&V.bind(),H&&H.bind())}freshBind(c,p,v,_,k,j,z,V){const H=c.numAttributes,Y=this.context,K=Y.gl;this.vao&&this.destroy(),this.vao=Y.createVertexArray(),Y.bindVertexArray.set(this.vao),this.boundProgram=c,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=v,this.boundIndexBuffer=_,this.boundVertexOffset=k,this.boundDynamicVertexBuffer=j,this.boundDynamicVertexBuffer2=z,this.boundDynamicVertexBuffer3=V,p.enableAttributes(K,c);for(const re of v)re.enableAttributes(K,c);j&&j.enableAttributes(K,c),z&&z.enableAttributes(K,c),V&&V.enableAttributes(K,c),p.bind(),p.setVertexAttribPointers(K,c,k);for(const re of v)re.bind(),re.setVertexAttribPointers(K,c,k);j&&(j.bind(),j.setVertexAttribPointers(K,c,k)),_&&_.bind(),z&&(z.bind(),z.setVertexAttribPointers(K,c,k)),V&&(V.bind(),V.setVertexAttribPointers(K,c,k)),Y.currentNumAttributes=H}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function zr(w){const c=[];for(let p=0;p<w.length;p++){if(w[p]===null)continue;const v=w[p].split(" ");c.push(v.pop())}return c}class Rh{constructor(c,p,v,_,k,j){const z=c.gl;this.program=z.createProgram();const V=zr(p.staticAttributes),H=v?v.getBinderAttributes():[],Y=V.concat(H),K=Ar.prelude.staticUniforms?zr(Ar.prelude.staticUniforms):[],re=p.staticUniforms?zr(p.staticUniforms):[],me=v?v.getBinderUniforms():[],pe=K.concat(re).concat(me),ve=[];for(const Ue of pe)ve.indexOf(Ue)<0&&ve.push(Ue);const de=v?v.defines():[];k&&de.push("#define OVERDRAW_INSPECTOR;"),j&&de.push("#define TERRAIN3D;");const Ae=de.concat(Ar.prelude.fragmentSource,p.fragmentSource).join(`
`),Ne=de.concat(Ar.prelude.vertexSource,p.vertexSource).join(`
`),Se=z.createShader(z.FRAGMENT_SHADER);if(z.isContextLost())return void(this.failedToCreate=!0);if(z.shaderSource(Se,Ae),z.compileShader(Se),!z.getShaderParameter(Se,z.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${z.getShaderInfoLog(Se)}`);z.attachShader(this.program,Se);const $e=z.createShader(z.VERTEX_SHADER);if(z.isContextLost())return void(this.failedToCreate=!0);if(z.shaderSource($e,Ne),z.compileShader($e),!z.getShaderParameter($e,z.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${z.getShaderInfoLog($e)}`);z.attachShader(this.program,$e),this.attributes={};const Fe={};this.numAttributes=Y.length;for(let Ue=0;Ue<this.numAttributes;Ue++)Y[Ue]&&(z.bindAttribLocation(this.program,Ue,Y[Ue]),this.attributes[Y[Ue]]=Ue);if(z.linkProgram(this.program),!z.getProgramParameter(this.program,z.LINK_STATUS))throw new Error(`Program failed to link: ${z.getProgramInfoLog(this.program)}`);z.deleteShader($e),z.deleteShader(Se);for(let Ue=0;Ue<ve.length;Ue++){const Xe=ve[Ue];if(Xe&&!Fe[Xe]){const it=z.getUniformLocation(this.program,Xe);it&&(Fe[Xe]=it)}}this.fixedUniforms=_(c,Fe),this.terrainUniforms=((Ue,Xe)=>({u_depth:new a.aL(Ue,Xe.u_depth),u_terrain:new a.aL(Ue,Xe.u_terrain),u_terrain_dim:new a.aM(Ue,Xe.u_terrain_dim),u_terrain_matrix:new a.aN(Ue,Xe.u_terrain_matrix),u_terrain_unpack:new a.aO(Ue,Xe.u_terrain_unpack),u_terrain_exaggeration:new a.aM(Ue,Xe.u_terrain_exaggeration)}))(c,Fe),this.binderUniforms=v?v.getUniforms(c,Fe):[]}draw(c,p,v,_,k,j,z,V,H,Y,K,re,me,pe,ve,de,Ae,Ne){const Se=c.gl;if(this.failedToCreate)return;if(c.program.set(this.program),c.setDepthMode(v),c.setStencilMode(_),c.setColorMode(k),c.setCullFace(j),V){c.activeTexture.set(Se.TEXTURE2),Se.bindTexture(Se.TEXTURE_2D,V.depthTexture),c.activeTexture.set(Se.TEXTURE3),Se.bindTexture(Se.TEXTURE_2D,V.texture);for(const Fe in this.terrainUniforms)this.terrainUniforms[Fe].set(V[Fe])}for(const Fe in this.fixedUniforms)this.fixedUniforms[Fe].set(z[Fe]);ve&&ve.setUniforms(c,this.binderUniforms,me,{zoom:pe});let $e=0;switch(p){case Se.LINES:$e=2;break;case Se.TRIANGLES:$e=3;break;case Se.LINE_STRIP:$e=1}for(const Fe of re.get()){const Ue=Fe.vaos||(Fe.vaos={});(Ue[H]||(Ue[H]=new vc)).bind(c,this,Y,ve?ve.getPaintVertexBuffers():[],K,Fe.vertexOffset,de,Ae,Ne),Se.drawElements(p,Fe.primitiveLength*$e,Se.UNSIGNED_SHORT,Fe.primitiveOffset*$e*2)}}}function ma(w,c,p){const v=1/Me(p,1,c.transform.tileZoom),_=Math.pow(2,p.tileID.overscaledZ),k=p.tileSize*Math.pow(2,c.transform.tileZoom)/_,j=k*(p.tileID.canonical.x+p.tileID.wrap*_),z=k*p.tileID.canonical.y;return{u_image:0,u_texsize:p.imageAtlasTexture.size,u_scale:[v,w.fromScale,w.toScale],u_fade:w.t,u_pixel_coord_upper:[j>>16,z>>16],u_pixel_coord_lower:[65535&j,65535&z]}}const Zg=(w,c,p,v)=>{const _=c.style.light,k=_.properties.get("position"),j=[k.x,k.y,k.z],z=function(){var H=new a.A(9);return a.A!=Float32Array&&(H[1]=0,H[2]=0,H[3]=0,H[5]=0,H[6]=0,H[7]=0),H[0]=1,H[4]=1,H[8]=1,H}();_.properties.get("anchor")==="viewport"&&function(H,Y){var K=Math.sin(Y),re=Math.cos(Y);H[0]=re,H[1]=K,H[2]=0,H[3]=-K,H[4]=re,H[5]=0,H[6]=0,H[7]=0,H[8]=1}(z,-c.transform.angle),function(H,Y,K){var re=Y[0],me=Y[1],pe=Y[2];H[0]=re*K[0]+me*K[3]+pe*K[6],H[1]=re*K[1]+me*K[4]+pe*K[7],H[2]=re*K[2]+me*K[5]+pe*K[8]}(j,j,z);const V=_.properties.get("color");return{u_matrix:w,u_lightpos:j,u_lightintensity:_.properties.get("intensity"),u_lightcolor:[V.r,V.g,V.b],u_vertical_gradient:+p,u_opacity:v}},Il=(w,c,p,v,_,k,j)=>a.e(Zg(w,c,p,v),ma(k,c,j),{u_height_factor:-Math.pow(2,_.overscaledZ)/j.tileSize/8}),Ib=w=>({u_matrix:w}),Xg=(w,c,p,v)=>a.e(Ib(w),ma(p,c,v)),Dh=(w,c)=>({u_matrix:w,u_world:c}),Lh=(w,c,p,v,_)=>a.e(Xg(w,c,p,v),{u_world:_}),$l=(w,c,p,v)=>{const _=w.transform;let k,j;if(v.paint.get("circle-pitch-alignment")==="map"){const z=Me(p,1,_.zoom);k=!0,j=[z,z]}else k=!1,j=_.pixelsToGLUnits;return{u_camera_to_center_distance:_.cameraToCenterDistance,u_scale_with_map:+(v.paint.get("circle-pitch-scale")==="map"),u_matrix:w.translatePosMatrix(c.posMatrix,p,v.paint.get("circle-translate"),v.paint.get("circle-translate-anchor")),u_pitch_with_map:+k,u_device_pixel_ratio:w.pixelRatio,u_extrude_scale:j}},Jg=(w,c,p)=>{const v=Me(p,1,c.zoom),_=Math.pow(2,c.zoom-p.tileID.overscaledZ),k=p.tileID.overscaleFactor();return{u_matrix:w,u_camera_to_center_distance:c.cameraToCenterDistance,u_pixels_to_tile_units:v,u_extrude_scale:[c.pixelsToGLUnits[0]/(v*_),c.pixelsToGLUnits[1]/(v*_)],u_overscale_factor:k}},nf=(w,c,p=1)=>({u_matrix:w,u_color:c,u_overlay:0,u_overlay_scale:p}),$b=w=>({u_matrix:w}),Xk=(w,c,p,v)=>({u_matrix:w,u_extrude_scale:Me(c,1,p),u_intensity:v});function Qg(w,c){const p=Math.pow(2,c.canonical.z),v=c.canonical.y;return[new a.U(0,v/p).toLngLat().lat,new a.U(0,(v+1)/p).toLngLat().lat]}const ey=(w,c,p,v)=>{const _=w.transform;return{u_matrix:jh(w,c,p,v),u_ratio:1/Me(c,1,_.zoom),u_device_pixel_ratio:w.pixelRatio,u_units_to_pixels:[1/_.pixelsToGLUnits[0],1/_.pixelsToGLUnits[1]]}},Rb=(w,c,p,v,_)=>a.e(ey(w,c,p,_),{u_image:0,u_image_height:v}),Jk=(w,c,p,v,_)=>{const k=w.transform,j=Lb(c,k);return{u_matrix:jh(w,c,p,_),u_texsize:c.imageAtlasTexture.size,u_ratio:1/Me(c,1,k.zoom),u_device_pixel_ratio:w.pixelRatio,u_image:0,u_scale:[j,v.fromScale,v.toScale],u_fade:v.t,u_units_to_pixels:[1/k.pixelsToGLUnits[0],1/k.pixelsToGLUnits[1]]}},Db=(w,c,p,v,_,k)=>{const j=w.lineAtlas,z=Lb(c,w.transform),V=p.layout.get("line-cap")==="round",H=j.getDash(v.from,V),Y=j.getDash(v.to,V),K=H.width*_.fromScale,re=Y.width*_.toScale;return a.e(ey(w,c,p,k),{u_patternscale_a:[z/K,-H.height/2],u_patternscale_b:[z/re,-Y.height/2],u_sdfgamma:j.width/(256*Math.min(K,re)*w.pixelRatio)/2,u_image:0,u_tex_y_a:H.y,u_tex_y_b:Y.y,u_mix:_.t})};function Lb(w,c){return 1/Me(w,1,c.tileZoom)}function jh(w,c,p,v){return w.translatePosMatrix(v?v.posMatrix:c.tileID.posMatrix,c,p.paint.get("line-translate"),p.paint.get("line-translate-anchor"))}const jb=(w,c,p,v,_)=>{return{u_matrix:w,u_tl_parent:c,u_scale_parent:p,u_buffer_scale:1,u_fade_t:v.mix,u_opacity:v.opacity*_.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:_.paint.get("raster-brightness-min"),u_brightness_high:_.paint.get("raster-brightness-max"),u_saturation_factor:(j=_.paint.get("raster-saturation"),j>0?1-1/(1.001-j):-j),u_contrast_factor:(k=_.paint.get("raster-contrast"),k>0?1/(1-k):1+k),u_spin_weights:Nb(_.paint.get("raster-hue-rotate"))};var k,j};function Nb(w){w*=Math.PI/180;const c=Math.sin(w),p=Math.cos(w);return[(2*p+1)/3,(-Math.sqrt(3)*c-p+1)/3,(Math.sqrt(3)*c-p+1)/3]}const ty=(w,c,p,v,_,k,j,z,V,H)=>{const Y=_.transform;return{u_is_size_zoom_constant:+(w==="constant"||w==="source"),u_is_size_feature_constant:+(w==="constant"||w==="camera"),u_size_t:c?c.uSizeT:0,u_size:c?c.uSize:0,u_camera_to_center_distance:Y.cameraToCenterDistance,u_pitch:Y.pitch/360*2*Math.PI,u_rotate_symbol:+p,u_aspect_ratio:Y.width/Y.height,u_fade_change:_.options.fadeDuration?_.symbolFadeChange:1,u_matrix:k,u_label_plane_matrix:j,u_coord_matrix:z,u_is_text:+V,u_pitch_with_map:+v,u_texsize:H,u_texture:0}},ny=(w,c,p,v,_,k,j,z,V,H,Y)=>{const K=_.transform;return a.e(ty(w,c,p,v,_,k,j,z,V,H),{u_gamma_scale:v?Math.cos(K._pitch)*K.cameraToCenterDistance:1,u_device_pixel_ratio:_.pixelRatio,u_is_halo:+Y})},xc=(w,c,p,v,_,k,j,z,V,H)=>a.e(ny(w,c,p,v,_,k,j,z,!0,V,!0),{u_texsize_icon:H,u_texture_icon:1}),Nh=(w,c,p)=>({u_matrix:w,u_opacity:c,u_color:p}),ga=(w,c,p,v,_,k)=>a.e(function(j,z,V,H){const Y=V.imageManager.getPattern(j.from.toString()),K=V.imageManager.getPattern(j.to.toString()),{width:re,height:me}=V.imageManager.getPixelSize(),pe=Math.pow(2,H.tileID.overscaledZ),ve=H.tileSize*Math.pow(2,V.transform.tileZoom)/pe,de=ve*(H.tileID.canonical.x+H.tileID.wrap*pe),Ae=ve*H.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Y.tl,u_pattern_br_a:Y.br,u_pattern_tl_b:K.tl,u_pattern_br_b:K.br,u_texsize:[re,me],u_mix:z.t,u_pattern_size_a:Y.displaySize,u_pattern_size_b:K.displaySize,u_scale_a:z.fromScale,u_scale_b:z.toScale,u_tile_units_to_pixels:1/Me(H,1,V.transform.tileZoom),u_pixel_coord_upper:[de>>16,Ae>>16],u_pixel_coord_lower:[65535&de,65535&Ae]}}(v,k,p,_),{u_matrix:w,u_opacity:c}),zh={fillExtrusion:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_lightpos:new a.aP(w,c.u_lightpos),u_lightintensity:new a.aM(w,c.u_lightintensity),u_lightcolor:new a.aP(w,c.u_lightcolor),u_vertical_gradient:new a.aM(w,c.u_vertical_gradient),u_opacity:new a.aM(w,c.u_opacity)}),fillExtrusionPattern:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_lightpos:new a.aP(w,c.u_lightpos),u_lightintensity:new a.aM(w,c.u_lightintensity),u_lightcolor:new a.aP(w,c.u_lightcolor),u_vertical_gradient:new a.aM(w,c.u_vertical_gradient),u_height_factor:new a.aM(w,c.u_height_factor),u_image:new a.aL(w,c.u_image),u_texsize:new a.aQ(w,c.u_texsize),u_pixel_coord_upper:new a.aQ(w,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.aQ(w,c.u_pixel_coord_lower),u_scale:new a.aP(w,c.u_scale),u_fade:new a.aM(w,c.u_fade),u_opacity:new a.aM(w,c.u_opacity)}),fill:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix)}),fillPattern:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_image:new a.aL(w,c.u_image),u_texsize:new a.aQ(w,c.u_texsize),u_pixel_coord_upper:new a.aQ(w,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.aQ(w,c.u_pixel_coord_lower),u_scale:new a.aP(w,c.u_scale),u_fade:new a.aM(w,c.u_fade)}),fillOutline:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_world:new a.aQ(w,c.u_world)}),fillOutlinePattern:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_world:new a.aQ(w,c.u_world),u_image:new a.aL(w,c.u_image),u_texsize:new a.aQ(w,c.u_texsize),u_pixel_coord_upper:new a.aQ(w,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.aQ(w,c.u_pixel_coord_lower),u_scale:new a.aP(w,c.u_scale),u_fade:new a.aM(w,c.u_fade)}),circle:(w,c)=>({u_camera_to_center_distance:new a.aM(w,c.u_camera_to_center_distance),u_scale_with_map:new a.aL(w,c.u_scale_with_map),u_pitch_with_map:new a.aL(w,c.u_pitch_with_map),u_extrude_scale:new a.aQ(w,c.u_extrude_scale),u_device_pixel_ratio:new a.aM(w,c.u_device_pixel_ratio),u_matrix:new a.aN(w,c.u_matrix)}),collisionBox:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_camera_to_center_distance:new a.aM(w,c.u_camera_to_center_distance),u_pixels_to_tile_units:new a.aM(w,c.u_pixels_to_tile_units),u_extrude_scale:new a.aQ(w,c.u_extrude_scale),u_overscale_factor:new a.aM(w,c.u_overscale_factor)}),collisionCircle:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_inv_matrix:new a.aN(w,c.u_inv_matrix),u_camera_to_center_distance:new a.aM(w,c.u_camera_to_center_distance),u_viewport_size:new a.aQ(w,c.u_viewport_size)}),debug:(w,c)=>({u_color:new a.aR(w,c.u_color),u_matrix:new a.aN(w,c.u_matrix),u_overlay:new a.aL(w,c.u_overlay),u_overlay_scale:new a.aM(w,c.u_overlay_scale)}),clippingMask:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix)}),heatmap:(w,c)=>({u_extrude_scale:new a.aM(w,c.u_extrude_scale),u_intensity:new a.aM(w,c.u_intensity),u_matrix:new a.aN(w,c.u_matrix)}),heatmapTexture:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_world:new a.aQ(w,c.u_world),u_image:new a.aL(w,c.u_image),u_color_ramp:new a.aL(w,c.u_color_ramp),u_opacity:new a.aM(w,c.u_opacity)}),hillshade:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_image:new a.aL(w,c.u_image),u_latrange:new a.aQ(w,c.u_latrange),u_light:new a.aQ(w,c.u_light),u_shadow:new a.aR(w,c.u_shadow),u_highlight:new a.aR(w,c.u_highlight),u_accent:new a.aR(w,c.u_accent)}),hillshadePrepare:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_image:new a.aL(w,c.u_image),u_dimension:new a.aQ(w,c.u_dimension),u_zoom:new a.aM(w,c.u_zoom),u_unpack:new a.aO(w,c.u_unpack)}),line:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_ratio:new a.aM(w,c.u_ratio),u_device_pixel_ratio:new a.aM(w,c.u_device_pixel_ratio),u_units_to_pixels:new a.aQ(w,c.u_units_to_pixels)}),lineGradient:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_ratio:new a.aM(w,c.u_ratio),u_device_pixel_ratio:new a.aM(w,c.u_device_pixel_ratio),u_units_to_pixels:new a.aQ(w,c.u_units_to_pixels),u_image:new a.aL(w,c.u_image),u_image_height:new a.aM(w,c.u_image_height)}),linePattern:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_texsize:new a.aQ(w,c.u_texsize),u_ratio:new a.aM(w,c.u_ratio),u_device_pixel_ratio:new a.aM(w,c.u_device_pixel_ratio),u_image:new a.aL(w,c.u_image),u_units_to_pixels:new a.aQ(w,c.u_units_to_pixels),u_scale:new a.aP(w,c.u_scale),u_fade:new a.aM(w,c.u_fade)}),lineSDF:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_ratio:new a.aM(w,c.u_ratio),u_device_pixel_ratio:new a.aM(w,c.u_device_pixel_ratio),u_units_to_pixels:new a.aQ(w,c.u_units_to_pixels),u_patternscale_a:new a.aQ(w,c.u_patternscale_a),u_patternscale_b:new a.aQ(w,c.u_patternscale_b),u_sdfgamma:new a.aM(w,c.u_sdfgamma),u_image:new a.aL(w,c.u_image),u_tex_y_a:new a.aM(w,c.u_tex_y_a),u_tex_y_b:new a.aM(w,c.u_tex_y_b),u_mix:new a.aM(w,c.u_mix)}),raster:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_tl_parent:new a.aQ(w,c.u_tl_parent),u_scale_parent:new a.aM(w,c.u_scale_parent),u_buffer_scale:new a.aM(w,c.u_buffer_scale),u_fade_t:new a.aM(w,c.u_fade_t),u_opacity:new a.aM(w,c.u_opacity),u_image0:new a.aL(w,c.u_image0),u_image1:new a.aL(w,c.u_image1),u_brightness_low:new a.aM(w,c.u_brightness_low),u_brightness_high:new a.aM(w,c.u_brightness_high),u_saturation_factor:new a.aM(w,c.u_saturation_factor),u_contrast_factor:new a.aM(w,c.u_contrast_factor),u_spin_weights:new a.aP(w,c.u_spin_weights)}),symbolIcon:(w,c)=>({u_is_size_zoom_constant:new a.aL(w,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.aL(w,c.u_is_size_feature_constant),u_size_t:new a.aM(w,c.u_size_t),u_size:new a.aM(w,c.u_size),u_camera_to_center_distance:new a.aM(w,c.u_camera_to_center_distance),u_pitch:new a.aM(w,c.u_pitch),u_rotate_symbol:new a.aL(w,c.u_rotate_symbol),u_aspect_ratio:new a.aM(w,c.u_aspect_ratio),u_fade_change:new a.aM(w,c.u_fade_change),u_matrix:new a.aN(w,c.u_matrix),u_label_plane_matrix:new a.aN(w,c.u_label_plane_matrix),u_coord_matrix:new a.aN(w,c.u_coord_matrix),u_is_text:new a.aL(w,c.u_is_text),u_pitch_with_map:new a.aL(w,c.u_pitch_with_map),u_texsize:new a.aQ(w,c.u_texsize),u_texture:new a.aL(w,c.u_texture)}),symbolSDF:(w,c)=>({u_is_size_zoom_constant:new a.aL(w,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.aL(w,c.u_is_size_feature_constant),u_size_t:new a.aM(w,c.u_size_t),u_size:new a.aM(w,c.u_size),u_camera_to_center_distance:new a.aM(w,c.u_camera_to_center_distance),u_pitch:new a.aM(w,c.u_pitch),u_rotate_symbol:new a.aL(w,c.u_rotate_symbol),u_aspect_ratio:new a.aM(w,c.u_aspect_ratio),u_fade_change:new a.aM(w,c.u_fade_change),u_matrix:new a.aN(w,c.u_matrix),u_label_plane_matrix:new a.aN(w,c.u_label_plane_matrix),u_coord_matrix:new a.aN(w,c.u_coord_matrix),u_is_text:new a.aL(w,c.u_is_text),u_pitch_with_map:new a.aL(w,c.u_pitch_with_map),u_texsize:new a.aQ(w,c.u_texsize),u_texture:new a.aL(w,c.u_texture),u_gamma_scale:new a.aM(w,c.u_gamma_scale),u_device_pixel_ratio:new a.aM(w,c.u_device_pixel_ratio),u_is_halo:new a.aL(w,c.u_is_halo)}),symbolTextAndIcon:(w,c)=>({u_is_size_zoom_constant:new a.aL(w,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.aL(w,c.u_is_size_feature_constant),u_size_t:new a.aM(w,c.u_size_t),u_size:new a.aM(w,c.u_size),u_camera_to_center_distance:new a.aM(w,c.u_camera_to_center_distance),u_pitch:new a.aM(w,c.u_pitch),u_rotate_symbol:new a.aL(w,c.u_rotate_symbol),u_aspect_ratio:new a.aM(w,c.u_aspect_ratio),u_fade_change:new a.aM(w,c.u_fade_change),u_matrix:new a.aN(w,c.u_matrix),u_label_plane_matrix:new a.aN(w,c.u_label_plane_matrix),u_coord_matrix:new a.aN(w,c.u_coord_matrix),u_is_text:new a.aL(w,c.u_is_text),u_pitch_with_map:new a.aL(w,c.u_pitch_with_map),u_texsize:new a.aQ(w,c.u_texsize),u_texsize_icon:new a.aQ(w,c.u_texsize_icon),u_texture:new a.aL(w,c.u_texture),u_texture_icon:new a.aL(w,c.u_texture_icon),u_gamma_scale:new a.aM(w,c.u_gamma_scale),u_device_pixel_ratio:new a.aM(w,c.u_device_pixel_ratio),u_is_halo:new a.aL(w,c.u_is_halo)}),background:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_opacity:new a.aM(w,c.u_opacity),u_color:new a.aR(w,c.u_color)}),backgroundPattern:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_opacity:new a.aM(w,c.u_opacity),u_image:new a.aL(w,c.u_image),u_pattern_tl_a:new a.aQ(w,c.u_pattern_tl_a),u_pattern_br_a:new a.aQ(w,c.u_pattern_br_a),u_pattern_tl_b:new a.aQ(w,c.u_pattern_tl_b),u_pattern_br_b:new a.aQ(w,c.u_pattern_br_b),u_texsize:new a.aQ(w,c.u_texsize),u_mix:new a.aM(w,c.u_mix),u_pattern_size_a:new a.aQ(w,c.u_pattern_size_a),u_pattern_size_b:new a.aQ(w,c.u_pattern_size_b),u_scale_a:new a.aM(w,c.u_scale_a),u_scale_b:new a.aM(w,c.u_scale_b),u_pixel_coord_upper:new a.aQ(w,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.aQ(w,c.u_pixel_coord_lower),u_tile_units_to_pixels:new a.aM(w,c.u_tile_units_to_pixels)}),terrain:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_texture:new a.aL(w,c.u_texture),u_ele_delta:new a.aM(w,c.u_ele_delta)}),terrainDepth:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_ele_delta:new a.aM(w,c.u_ele_delta)}),terrainCoords:(w,c)=>({u_matrix:new a.aN(w,c.u_matrix),u_texture:new a.aL(w,c.u_texture),u_terrain_coords_id:new a.aM(w,c.u_terrain_coords_id),u_ele_delta:new a.aM(w,c.u_ele_delta)})};class Bh{constructor(c,p,v){this.context=c;const _=c.gl;this.buffer=_.createBuffer(),this.dynamicDraw=!!v,this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),_.bufferData(_.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?_.DYNAMIC_DRAW:_.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(c){const p=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const rf={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Fh{constructor(c,p,v,_){this.length=p.length,this.attributes=v,this.itemSize=p.bytesPerElement,this.dynamicDraw=_,this.context=c;const k=c.gl;this.buffer=k.createBuffer(),c.bindVertexBuffer.set(this.buffer),k.bufferData(k.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?k.DYNAMIC_DRAW:k.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(c){if(c.length!==this.length)throw new Error(`Length of new data is ${c.length}, which doesn't match current length of ${this.length}`);const p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,c.arrayBuffer)}enableAttributes(c,p){for(let v=0;v<this.attributes.length;v++){const _=p.attributes[this.attributes[v].name];_!==void 0&&c.enableVertexAttribArray(_)}}setVertexAttribPointers(c,p,v){for(let _=0;_<this.attributes.length;_++){const k=this.attributes[_],j=p.attributes[k.name];j!==void 0&&c.vertexAttribPointer(j,k.components,c[rf[k.type]],!1,this.itemSize,k.offset+this.itemSize*(v||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Ru=new WeakMap;function Rl(w){var c;if(Ru.has(w))return Ru.get(w);{const p=(c=w.getParameter(w.VERSION))===null||c===void 0?void 0:c.startsWith("WebGL 2.0");return Ru.set(w,p),p}}class In{constructor(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(c){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Uh extends In{getDefault(){return a.aT.transparent}set(c){const p=this.current;(c.r!==p.r||c.g!==p.g||c.b!==p.b||c.a!==p.a||this.dirty)&&(this.gl.clearColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Ho extends In{getDefault(){return 1}set(c){(c!==this.current||this.dirty)&&(this.gl.clearDepth(c),this.current=c,this.dirty=!1)}}class Go extends In{getDefault(){return 0}set(c){(c!==this.current||this.dirty)&&(this.gl.clearStencil(c),this.current=c,this.dirty=!1)}}class ry extends In{getDefault(){return[!0,!0,!0,!0]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||this.dirty)&&(this.gl.colorMask(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class Vh extends In{getDefault(){return!0}set(c){(c!==this.current||this.dirty)&&(this.gl.depthMask(c),this.current=c,this.dirty=!1)}}class Wh extends In{getDefault(){return 255}set(c){(c!==this.current||this.dirty)&&(this.gl.stencilMask(c),this.current=c,this.dirty=!1)}}class iy extends In{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(c){const p=this.current;(c.func!==p.func||c.ref!==p.ref||c.mask!==p.mask||this.dirty)&&(this.gl.stencilFunc(c.func,c.ref,c.mask),this.current=c,this.dirty=!1)}}class oy extends In{getDefault(){const c=this.gl;return[c.KEEP,c.KEEP,c.KEEP]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||this.dirty)&&(this.gl.stencilOp(c[0],c[1],c[2]),this.current=c,this.dirty=!1)}}class qh extends In{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.STENCIL_TEST):p.disable(p.STENCIL_TEST),this.current=c,this.dirty=!1}}class ay extends In{getDefault(){return[0,1]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||this.dirty)&&(this.gl.depthRange(c[0],c[1]),this.current=c,this.dirty=!1)}}class sy extends In{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.DEPTH_TEST):p.disable(p.DEPTH_TEST),this.current=c,this.dirty=!1}}class Hh extends In{getDefault(){return this.gl.LESS}set(c){(c!==this.current||this.dirty)&&(this.gl.depthFunc(c),this.current=c,this.dirty=!1)}}class zb extends In{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.BLEND):p.disable(p.BLEND),this.current=c,this.dirty=!1}}class Bb extends In{getDefault(){const c=this.gl;return[c.ONE,c.ZERO]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||this.dirty)&&(this.gl.blendFunc(c[0],c[1]),this.current=c,this.dirty=!1)}}class Du extends In{getDefault(){return a.aT.transparent}set(c){const p=this.current;(c.r!==p.r||c.g!==p.g||c.b!==p.b||c.a!==p.a||this.dirty)&&(this.gl.blendColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Qk extends In{getDefault(){return this.gl.FUNC_ADD}set(c){(c!==this.current||this.dirty)&&(this.gl.blendEquation(c),this.current=c,this.dirty=!1)}}class eT extends In{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.CULL_FACE):p.disable(p.CULL_FACE),this.current=c,this.dirty=!1}}class tT extends In{getDefault(){return this.gl.BACK}set(c){(c!==this.current||this.dirty)&&(this.gl.cullFace(c),this.current=c,this.dirty=!1)}}class nT extends In{getDefault(){return this.gl.CCW}set(c){(c!==this.current||this.dirty)&&(this.gl.frontFace(c),this.current=c,this.dirty=!1)}}class rT extends In{getDefault(){return null}set(c){(c!==this.current||this.dirty)&&(this.gl.useProgram(c),this.current=c,this.dirty=!1)}}class iT extends In{getDefault(){return this.gl.TEXTURE0}set(c){(c!==this.current||this.dirty)&&(this.gl.activeTexture(c),this.current=c,this.dirty=!1)}}class ly extends In{getDefault(){const c=this.gl;return[0,0,c.drawingBufferWidth,c.drawingBufferHeight]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||this.dirty)&&(this.gl.viewport(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class Gh extends In{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindFramebuffer(p.FRAMEBUFFER,c),this.current=c,this.dirty=!1}}class cy extends In{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindRenderbuffer(p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class uy extends In{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindTexture(p.TEXTURE_2D,c),this.current=c,this.dirty=!1}}class Lu extends In{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindBuffer(p.ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class Fb extends In{getDefault(){return null}set(c){const p=this.gl;p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class Ub extends In{getDefault(){return null}set(c){var p;if(c===this.current&&!this.dirty)return;const v=this.gl;Rl(v)?v.bindVertexArray(c):(p=v.getExtension("OES_vertex_array_object"))===null||p===void 0||p.bindVertexArrayOES(c),this.current=c,this.dirty=!1}}class dy extends In{getDefault(){return 4}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_ALIGNMENT,c),this.current=c,this.dirty=!1}}class bc extends In{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c),this.current=c,this.dirty=!1}}class Vb extends In{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,c),this.current=c,this.dirty=!1}}class Dl extends In{constructor(c,p){super(c),this.context=c,this.parent=p}getDefault(){return null}}class ju extends Dl{setDirty(){this.dirty=!0}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,c,0),this.current=c,this.dirty=!1}}class Wb extends Dl{set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_ATTACHMENT,p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class fy extends Dl{set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_STENCIL_ATTACHMENT,p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class Bn{constructor(c,p,v,_,k){this.context=c,this.width=p,this.height=v;const j=c.gl,z=this.framebuffer=j.createFramebuffer();if(this.colorAttachment=new ju(c,z),_)this.depthAttachment=k?new fy(c,z):new Wb(c,z);else if(k)throw new Error("Stencil cannot be setted without depth");if(j.checkFramebufferStatus(j.FRAMEBUFFER)!==j.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const c=this.context.gl,p=this.colorAttachment.get();if(p&&c.deleteTexture(p),this.depthAttachment){const v=this.depthAttachment.get();v&&c.deleteRenderbuffer(v)}c.deleteFramebuffer(this.framebuffer)}}class Ir{constructor(c,p,v){this.blendFunction=c,this.blendColor=p,this.mask=v}}Ir.Replace=[1,0],Ir.disabled=new Ir(Ir.Replace,a.aT.transparent,[!1,!1,!1,!1]),Ir.unblended=new Ir(Ir.Replace,a.aT.transparent,[!0,!0,!0,!0]),Ir.alphaBlended=new Ir([1,771],a.aT.transparent,[!0,!0,!0,!0]);class oT{constructor(c){var p,v;if(this.gl=c,this.clearColor=new Uh(this),this.clearDepth=new Ho(this),this.clearStencil=new Go(this),this.colorMask=new ry(this),this.depthMask=new Vh(this),this.stencilMask=new Wh(this),this.stencilFunc=new iy(this),this.stencilOp=new oy(this),this.stencilTest=new qh(this),this.depthRange=new ay(this),this.depthTest=new sy(this),this.depthFunc=new Hh(this),this.blend=new zb(this),this.blendFunc=new Bb(this),this.blendColor=new Du(this),this.blendEquation=new Qk(this),this.cullFace=new eT(this),this.cullFaceSide=new tT(this),this.frontFace=new nT(this),this.program=new rT(this),this.activeTexture=new iT(this),this.viewport=new ly(this),this.bindFramebuffer=new Gh(this),this.bindRenderbuffer=new cy(this),this.bindTexture=new uy(this),this.bindVertexBuffer=new Lu(this),this.bindElementBuffer=new Fb(this),this.bindVertexArray=new Ub(this),this.pixelStoreUnpack=new dy(this),this.pixelStoreUnpackPremultiplyAlpha=new bc(this),this.pixelStoreUnpackFlipY=new Vb(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE),Rl(c)){this.HALF_FLOAT=c.HALF_FLOAT;const _=c.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(p=c.RGBA16F)!==null&&p!==void 0?p:_==null?void 0:_.RGBA16F_EXT,this.RGB16F=(v=c.RGB16F)!==null&&v!==void 0?v:_==null?void 0:_.RGB16F_EXT,c.getExtension("EXT_color_buffer_float")}else{c.getExtension("EXT_color_buffer_half_float"),c.getExtension("OES_texture_half_float_linear");const _=c.getExtension("OES_texture_half_float");this.HALF_FLOAT=_==null?void 0:_.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(c,p){return new Bh(this,c,p)}createVertexBuffer(c,p,v){return new Fh(this,c,p,v)}createRenderbuffer(c,p,v){const _=this.gl,k=_.createRenderbuffer();return this.bindRenderbuffer.set(k),_.renderbufferStorage(_.RENDERBUFFER,c,p,v),this.bindRenderbuffer.set(null),k}createFramebuffer(c,p,v,_){return new Bn(this,c,p,v,_)}clear({color:c,depth:p,stencil:v}){const _=this.gl;let k=0;c&&(k|=_.COLOR_BUFFER_BIT,this.clearColor.set(c),this.colorMask.set([!0,!0,!0,!0])),p!==void 0&&(k|=_.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(p),this.depthMask.set(!0)),v!==void 0&&(k|=_.STENCIL_BUFFER_BIT,this.clearStencil.set(v),this.stencilMask.set(255)),_.clear(k)}setCullFace(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))}setDepthMode(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)}setStencilMode(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)}setColorMode(c){a.aG(c.blendFunction,Ir.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)}createVertexArray(){var c;return Rl(this.gl)?this.gl.createVertexArray():(c=this.gl.getExtension("OES_vertex_array_object"))===null||c===void 0?void 0:c.createVertexArrayOES()}deleteVertexArray(c){var p;return Rl(this.gl)?this.gl.deleteVertexArray(c):(p=this.gl.getExtension("OES_vertex_array_object"))===null||p===void 0?void 0:p.deleteVertexArrayOES(c)}unbindVAO(){this.bindVertexArray.set(null)}}class $n{constructor(c,p,v){this.func=c,this.mask=p,this.range=v}}$n.ReadOnly=!1,$n.ReadWrite=!0,$n.disabled=new $n(519,$n.ReadOnly,[0,1]);const _c=7680;class $r{constructor(c,p,v,_,k,j){this.test=c,this.ref=p,this.mask=v,this.fail=_,this.depthFail=k,this.pass=j}}$r.disabled=new $r({func:519,mask:0},0,0,_c,_c,_c);class Pr{constructor(c,p,v){this.enable=c,this.mode=p,this.frontFace=v}}let of;function qb(w,c,p,v,_,k,j){const z=w.context,V=z.gl,H=w.useProgram("collisionBox"),Y=[];let K=0,re=0;for(let Se=0;Se<v.length;Se++){const $e=v[Se],Fe=c.getTile($e),Ue=Fe.getBucket(p);if(!Ue)continue;let Xe=$e.posMatrix;_[0]===0&&_[1]===0||(Xe=w.translatePosMatrix($e.posMatrix,Fe,_,k));const it=j?Ue.textCollisionBox:Ue.iconCollisionBox,tt=Ue.collisionCircleArray;if(tt.length>0){const dt=a.Z(),Dt=Xe;a.aU(dt,Ue.placementInvProjMatrix,w.transform.glCoordMatrix),a.aU(dt,dt,Ue.placementViewportMatrix),Y.push({circleArray:tt,circleOffset:re,transform:Dt,invTransform:dt,coord:$e}),K+=tt.length/4,re=K}it&&H.draw(z,V.LINES,$n.disabled,$r.disabled,w.colorModeForRenderPass(),Pr.disabled,Jg(Xe,w.transform,Fe),w.style.map.terrain&&w.style.map.terrain.getTerrainData($e),p.id,it.layoutVertexBuffer,it.indexBuffer,it.segments,null,w.transform.zoom,null,null,it.collisionVertexBuffer)}if(!j||!Y.length)return;const me=w.useProgram("collisionCircle"),pe=new a.aV;pe.resize(4*K),pe._trim();let ve=0;for(const Se of Y)for(let $e=0;$e<Se.circleArray.length/4;$e++){const Fe=4*$e,Ue=Se.circleArray[Fe+0],Xe=Se.circleArray[Fe+1],it=Se.circleArray[Fe+2],tt=Se.circleArray[Fe+3];pe.emplace(ve++,Ue,Xe,it,tt,0),pe.emplace(ve++,Ue,Xe,it,tt,1),pe.emplace(ve++,Ue,Xe,it,tt,2),pe.emplace(ve++,Ue,Xe,it,tt,3)}(!of||of.length<2*K)&&(of=function(Se){const $e=2*Se,Fe=new a.aX;Fe.resize($e),Fe._trim();for(let Ue=0;Ue<$e;Ue++){const Xe=6*Ue;Fe.uint16[Xe+0]=4*Ue+0,Fe.uint16[Xe+1]=4*Ue+1,Fe.uint16[Xe+2]=4*Ue+2,Fe.uint16[Xe+3]=4*Ue+2,Fe.uint16[Xe+4]=4*Ue+3,Fe.uint16[Xe+5]=4*Ue+0}return Fe}(K));const de=z.createIndexBuffer(of,!0),Ae=z.createVertexBuffer(pe,a.aW.members,!0);for(const Se of Y){const $e={u_matrix:Se.transform,u_inv_matrix:Se.invTransform,u_camera_to_center_distance:(Ne=w.transform).cameraToCenterDistance,u_viewport_size:[Ne.width,Ne.height]};me.draw(z,V.TRIANGLES,$n.disabled,$r.disabled,w.colorModeForRenderPass(),Pr.disabled,$e,w.style.map.terrain&&w.style.map.terrain.getTerrainData(Se.coord),p.id,Ae,de,a.S.simpleSegment(0,2*Se.circleOffset,Se.circleArray.length,Se.circleArray.length/2),null,w.transform.zoom,null,null,null)}var Ne;Ae.destroy(),de.destroy()}Pr.disabled=new Pr(!1,1029,2305),Pr.backCCW=new Pr(!0,1029,2305);const hy=a.ao(new Float32Array(16));function Yh(w,c,p,v,_,k){const{horizontalAlign:j,verticalAlign:z}=a.au(w);return new a.P((-(j-.5)*c/_+v[0])*k,(-(z-.5)*p/_+v[1])*k)}function Kh(w,c,p,v,_,k,j,z,V,H,Y){const K=w.text.placedSymbolArray,re=w.text.dynamicLayoutVertexArray,me=w.icon.dynamicLayoutVertexArray,pe={};re.clear();for(let ve=0;ve<K.length;ve++){const de=K.get(ve),Ae=de.hidden||!de.crossTileID||w.allowVerticalPlacement&&!de.placedOrientation?null:v[de.crossTileID];if(Ae){const Ne=new a.P(de.anchorX,de.anchorY),Se=ln(Ne,p?j:k,Y),$e=Xn(_.cameraToCenterDistance,Se.signedDistanceFromCamera);let Fe=a.aj(w.textSizeData,V,de)*$e/a.ap;p&&(Fe*=w.tilePixelRatio/z);const{width:Ue,height:Xe,anchor:it,textOffset:tt,textBoxScale:dt}=Ae,Dt=Yh(it,Ue,Xe,tt,dt,Fe),wn=p?ln(Ne.add(Dt),k,Y).point:Se.point.add(c?Dt.rotate(-_.angle):Dt),_t=w.allowVerticalPlacement&&de.placedOrientation===a.ai.vertical?Math.PI/2:0;for(let Qt=0;Qt<de.numGlyphs;Qt++)a.ak(re,wn,_t);H&&de.associatedIconIndex>=0&&(pe[de.associatedIconIndex]={shiftedAnchor:wn,angle:_t})}else se(de.numGlyphs,re)}if(H){me.clear();const ve=w.icon.placedSymbolArray;for(let de=0;de<ve.length;de++){const Ae=ve.get(de);if(Ae.hidden)se(Ae.numGlyphs,me);else{const Ne=pe[de];if(Ne)for(let Se=0;Se<Ae.numGlyphs;Se++)a.ak(me,Ne.shiftedAnchor,Ne.angle);else se(Ae.numGlyphs,me)}}w.icon.dynamicLayoutVertexBuffer.updateData(me)}w.text.dynamicLayoutVertexBuffer.updateData(re)}function py(w,c,p){return p.iconsInText&&c?"symbolTextAndIcon":w?"symbolSDF":"symbolIcon"}function Zh(w,c,p,v,_,k,j,z,V,H,Y,K){const re=w.context,me=re.gl,pe=w.transform,ve=z==="map",de=V==="map",Ae=z!=="viewport"&&p.layout.get("symbol-placement")!=="point",Ne=ve&&!de&&!Ae,Se=!p.layout.get("symbol-sort-key").isConstant();let $e=!1;const Fe=w.depthModeForSublayer(0,$n.ReadOnly),Ue=p._unevaluatedLayout.hasValue("text-variable-anchor")||p._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Xe=[];for(const it of v){const tt=c.getTile(it),dt=tt.getBucket(p);if(!dt)continue;const Dt=_?dt.text:dt.icon;if(!Dt||!Dt.segments.get().length||!Dt.hasVisibleVertices)continue;const wn=Dt.programConfigurations.get(p.id),_t=_||dt.sdfIcons,Qt=_?dt.textSizeData:dt.iconSizeData,jt=de||pe.pitch!==0,Qn=w.useProgram(py(_t,_,dt),wn),xn=a.ah(Qt,pe.zoom),mn=w.style.map.terrain&&w.style.map.terrain.getTerrainData(it);let Sn,Yr,pr,Ni,vi=[0,0],ii=null;if(_)Yr=tt.glyphAtlasTexture,pr=me.LINEAR,Sn=tt.glyphAtlasTexture.size,dt.iconsInText&&(vi=tt.imageAtlasTexture.size,ii=tt.imageAtlasTexture,Ni=jt||w.options.rotating||w.options.zooming||Qt.kind==="composite"||Qt.kind==="camera"?me.LINEAR:me.NEAREST);else{const Kr=p.layout.get("icon-size").constantOr(0)!==1||dt.iconsNeedLinear;Yr=tt.imageAtlasTexture,pr=_t||w.options.rotating||w.options.zooming||Kr||jt?me.LINEAR:me.NEAREST,Sn=tt.imageAtlasTexture.size}const Zo=Me(tt,1,w.transform.zoom),_r=lt(it.posMatrix,de,ve,w.transform,Zo),us=Bt(it.posMatrix,de,ve,w.transform,Zo),ds=Ue&&dt.hasTextData(),Nl=p.layout.get("icon-text-fit")!=="none"&&ds&&dt.hasIconData();if(Ae){const Kr=w.style.map.terrain?(So,Zr)=>w.style.map.terrain.getElevation(it,So,Zr):null,xi=p.layout.get("text-rotation-alignment")==="map";ht(dt,it.posMatrix,w,_,_r,us,de,H,xi,Kr)}const Tc=w.translatePosMatrix(it.posMatrix,tt,k,j),Wu=Ae||_&&Ue||Nl?hy:_r,Zi=w.translatePosMatrix(us,tt,k,j,!0),zi=_t&&p.paint.get(_?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let lo;lo=_t?dt.iconsInText?xc(Qt.kind,xn,Ne,de,w,Tc,Wu,Zi,Sn,vi):ny(Qt.kind,xn,Ne,de,w,Tc,Wu,Zi,_,Sn,!0):ty(Qt.kind,xn,Ne,de,w,Tc,Wu,Zi,_,Sn);const Pc={program:Qn,buffers:Dt,uniformValues:lo,atlasTexture:Yr,atlasTextureIcon:ii,atlasInterpolation:pr,atlasInterpolationIcon:Ni,isSDF:_t,hasHalo:zi};if(Se&&dt.canOverlap){$e=!0;const Kr=Dt.segments.get();for(const xi of Kr)Xe.push({segments:new a.S([xi]),sortKey:xi.sortKey,state:Pc,terrainData:mn})}else Xe.push({segments:Dt.segments,sortKey:0,state:Pc,terrainData:mn})}$e&&Xe.sort((it,tt)=>it.sortKey-tt.sortKey);for(const it of Xe){const tt=it.state;if(re.activeTexture.set(me.TEXTURE0),tt.atlasTexture.bind(tt.atlasInterpolation,me.CLAMP_TO_EDGE),tt.atlasTextureIcon&&(re.activeTexture.set(me.TEXTURE1),tt.atlasTextureIcon&&tt.atlasTextureIcon.bind(tt.atlasInterpolationIcon,me.CLAMP_TO_EDGE)),tt.isSDF){const dt=tt.uniformValues;tt.hasHalo&&(dt.u_is_halo=1,my(tt.buffers,it.segments,p,w,tt.program,Fe,Y,K,dt,it.terrainData)),dt.u_is_halo=0}my(tt.buffers,it.segments,p,w,tt.program,Fe,Y,K,tt.uniformValues,it.terrainData)}}function my(w,c,p,v,_,k,j,z,V,H){const Y=v.context;_.draw(Y,Y.gl.TRIANGLES,k,j,z,Pr.disabled,V,H,p.id,w.layoutVertexBuffer,w.indexBuffer,c,p.paint,v.transform.zoom,w.programConfigurations.get(p.id),w.dynamicLayoutVertexBuffer,w.opacityVertexBuffer)}function af(w,c,p,v,_){if(!p||!v||!v.imageAtlas)return;const k=v.imageAtlas.patternPositions;let j=k[p.to.toString()],z=k[p.from.toString()];if(!j||!z){const V=_.getPaintProperty(c);j=k[V],z=k[V]}j&&z&&w.setConstantPatternPositions(j,z)}function sf(w,c,p,v,_,k,j){const z=w.context.gl,V="fill-pattern",H=p.paint.get(V),Y=H&&H.constantOr(1),K=p.getCrossfadeParameters();let re,me,pe,ve,de;j?(me=Y&&!p.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",re=z.LINES):(me=Y?"fillPattern":"fill",re=z.TRIANGLES);const Ae=H.constantOr(null);for(const Ne of v){const Se=c.getTile(Ne);if(Y&&!Se.patternsLoaded())continue;const $e=Se.getBucket(p);if(!$e)continue;const Fe=$e.programConfigurations.get(p.id),Ue=w.useProgram(me,Fe),Xe=w.style.map.terrain&&w.style.map.terrain.getTerrainData(Ne);Y&&(w.context.activeTexture.set(z.TEXTURE0),Se.imageAtlasTexture.bind(z.LINEAR,z.CLAMP_TO_EDGE),Fe.updatePaintBuffers(K)),af(Fe,V,Ae,Se,p);const it=Xe?Ne:null,tt=w.translatePosMatrix(it?it.posMatrix:Ne.posMatrix,Se,p.paint.get("fill-translate"),p.paint.get("fill-translate-anchor"));if(j){ve=$e.indexBuffer2,de=$e.segments2;const dt=[z.drawingBufferWidth,z.drawingBufferHeight];pe=me==="fillOutlinePattern"&&Y?Lh(tt,w,K,Se,dt):Dh(tt,dt)}else ve=$e.indexBuffer,de=$e.segments,pe=Y?Xg(tt,w,K,Se):Ib(tt);Ue.draw(w.context,re,_,w.stencilModeForClipping(Ne),k,Pr.disabled,pe,Xe,p.id,$e.layoutVertexBuffer,ve,de,p.paint,w.transform.zoom,Fe)}}function lf(w,c,p,v,_,k,j){const z=w.context,V=z.gl,H="fill-extrusion-pattern",Y=p.paint.get(H),K=Y.constantOr(1),re=p.getCrossfadeParameters(),me=p.paint.get("fill-extrusion-opacity"),pe=Y.constantOr(null);for(const ve of v){const de=c.getTile(ve),Ae=de.getBucket(p);if(!Ae)continue;const Ne=w.style.map.terrain&&w.style.map.terrain.getTerrainData(ve),Se=Ae.programConfigurations.get(p.id),$e=w.useProgram(K?"fillExtrusionPattern":"fillExtrusion",Se);K&&(w.context.activeTexture.set(V.TEXTURE0),de.imageAtlasTexture.bind(V.LINEAR,V.CLAMP_TO_EDGE),Se.updatePaintBuffers(re)),af(Se,H,pe,de,p);const Fe=w.translatePosMatrix(ve.posMatrix,de,p.paint.get("fill-extrusion-translate"),p.paint.get("fill-extrusion-translate-anchor")),Ue=p.paint.get("fill-extrusion-vertical-gradient"),Xe=K?Il(Fe,w,Ue,me,ve,re,de):Zg(Fe,w,Ue,me);$e.draw(z,z.gl.TRIANGLES,_,k,j,Pr.backCCW,Xe,Ne,p.id,Ae.layoutVertexBuffer,Ae.indexBuffer,Ae.segments,p.paint,w.transform.zoom,Se,w.style.map.terrain&&Ae.centroidVertexBuffer)}}function aT(w,c,p,v,_,k,j){const z=w.context,V=z.gl,H=p.fbo;if(!H)return;const Y=w.useProgram("hillshade"),K=w.style.map.terrain&&w.style.map.terrain.getTerrainData(c);z.activeTexture.set(V.TEXTURE0),V.bindTexture(V.TEXTURE_2D,H.colorAttachment.get()),Y.draw(z,V.TRIANGLES,_,k,j,Pr.disabled,((re,me,pe,ve)=>{const de=pe.paint.get("hillshade-shadow-color"),Ae=pe.paint.get("hillshade-highlight-color"),Ne=pe.paint.get("hillshade-accent-color");let Se=pe.paint.get("hillshade-illumination-direction")*(Math.PI/180);pe.paint.get("hillshade-illumination-anchor")==="viewport"&&(Se-=re.transform.angle);const $e=!re.options.moving;return{u_matrix:ve?ve.posMatrix:re.transform.calculatePosMatrix(me.tileID.toUnwrapped(),$e),u_image:0,u_latrange:Qg(0,me.tileID),u_light:[pe.paint.get("hillshade-exaggeration"),Se],u_shadow:de,u_highlight:Ae,u_accent:Ne}})(w,p,v,K?c:null),K,v.id,w.rasterBoundsBuffer,w.quadTriangleIndexBuffer,w.rasterBoundsSegments)}function gy(w,c,p,v,_,k){const j=w.context,z=j.gl,V=c.dem;if(V&&V.data){const H=V.dim,Y=V.stride,K=V.getPixels();if(j.activeTexture.set(z.TEXTURE1),j.pixelStoreUnpackPremultiplyAlpha.set(!1),c.demTexture=c.demTexture||w.getTileTexture(Y),c.demTexture){const me=c.demTexture;me.update(K,{premultiply:!1}),me.bind(z.NEAREST,z.CLAMP_TO_EDGE)}else c.demTexture=new J(j,K,z.RGBA,{premultiply:!1}),c.demTexture.bind(z.NEAREST,z.CLAMP_TO_EDGE);j.activeTexture.set(z.TEXTURE0);let re=c.fbo;if(!re){const me=new J(j,{width:H,height:H,data:null},z.RGBA);me.bind(z.LINEAR,z.CLAMP_TO_EDGE),re=c.fbo=j.createFramebuffer(H,H,!0,!1),re.colorAttachment.set(me.texture)}j.bindFramebuffer.set(re.framebuffer),j.viewport.set([0,0,H,H]),w.useProgram("hillshadePrepare").draw(j,z.TRIANGLES,v,_,k,Pr.disabled,((me,pe)=>{const ve=pe.stride,de=a.Z();return a.aS(de,0,a.N,-a.N,0,0,1),a.$(de,de,[0,-a.N,0]),{u_matrix:de,u_image:1,u_dimension:[ve,ve],u_zoom:me.overscaledZ,u_unpack:pe.getUnpackVector()}})(c.tileID,V),null,p.id,w.rasterBoundsBuffer,w.quadTriangleIndexBuffer,w.rasterBoundsSegments),c.needsHillshadePrepare=!1}}function sT(w,c,p,v,_,k){const j=v.paint.get("raster-fade-duration");if(!k&&j>0){const z=a.h.now(),V=(z-w.timeAdded)/j,H=c?(z-c.timeAdded)/j:-1,Y=p.getSource(),K=_.coveringZoomLevel({tileSize:Y.tileSize,roundZoom:Y.roundZoom}),re=!c||Math.abs(c.tileID.overscaledZ-K)>Math.abs(w.tileID.overscaledZ-K),me=re&&w.refreshedUponExpiration?1:a.ad(re?V:1-H,0,1);return w.refreshedUponExpiration&&V>=1&&(w.refreshedUponExpiration=!1),c?{opacity:1,mix:1-me}:{opacity:me,mix:0}}return{opacity:1,mix:0}}const Hb=new a.aT(1,0,0,1),Xh=new a.aT(0,1,0,1),yy=new a.aT(0,0,1,1),Gb=new a.aT(1,0,1,1),Yb=new a.aT(0,1,1,1);function cf(w,c,p,v){Qh(w,0,c+p/2,w.transform.width,p,v)}function Jh(w,c,p,v){Qh(w,c-p/2,0,p,w.transform.height,v)}function Qh(w,c,p,v,_,k){const j=w.context,z=j.gl;z.enable(z.SCISSOR_TEST),z.scissor(c*w.pixelRatio,p*w.pixelRatio,v*w.pixelRatio,_*w.pixelRatio),j.clear({color:k}),z.disable(z.SCISSOR_TEST)}function Kb(w,c,p){const v=w.context,_=v.gl,k=p.posMatrix,j=w.useProgram("debug"),z=$n.disabled,V=$r.disabled,H=w.colorModeForRenderPass(),Y="$debug",K=w.style.map.terrain&&w.style.map.terrain.getTerrainData(p);v.activeTexture.set(_.TEXTURE0);const re=c.getTileByID(p.key).latestRawTileData,me=Math.floor((re&&re.byteLength||0)/1024),pe=c.getTile(p).tileSize,ve=512/Math.min(pe,512)*(p.overscaledZ/w.transform.zoom)*.5;let de=p.canonical.toString();p.overscaledZ!==p.canonical.z&&(de+=` => ${p.overscaledZ}`),function(Ae,Ne){Ae.initDebugOverlayCanvas();const Se=Ae.debugOverlayCanvas,$e=Ae.context.gl,Fe=Ae.debugOverlayCanvas.getContext("2d");Fe.clearRect(0,0,Se.width,Se.height),Fe.shadowColor="white",Fe.shadowBlur=2,Fe.lineWidth=1.5,Fe.strokeStyle="white",Fe.textBaseline="top",Fe.font="bold 36px Open Sans, sans-serif",Fe.fillText(Ne,5,5),Fe.strokeText(Ne,5,5),Ae.debugOverlayTexture.update(Se),Ae.debugOverlayTexture.bind($e.LINEAR,$e.CLAMP_TO_EDGE)}(w,`${de} ${me}kB`),j.draw(v,_.TRIANGLES,z,V,Ir.alphaBlended,Pr.disabled,nf(k,a.aT.transparent,ve),null,Y,w.debugBuffer,w.quadTriangleIndexBuffer,w.debugSegments),j.draw(v,_.LINE_STRIP,z,V,H,Pr.disabled,nf(k,a.aT.red),K,Y,w.debugBuffer,w.tileBorderIndexBuffer,w.debugSegments)}function Br(w,c,p){const v=w.context,_=v.gl,k=w.colorModeForRenderPass(),j=new $n(_.LEQUAL,$n.ReadWrite,w.depthRangeFor3D),z=w.useProgram("terrain"),V=c.getTerrainMesh();v.bindFramebuffer.set(null),v.viewport.set([0,0,w.width,w.height]);for(const H of p){const Y=w.renderToTexture.getTexture(H),K=c.getTerrainData(H.tileID);v.activeTexture.set(_.TEXTURE0),_.bindTexture(_.TEXTURE_2D,Y.texture);const re={u_matrix:w.transform.calculatePosMatrix(H.tileID.toUnwrapped()),u_texture:0,u_ele_delta:c.getMeshFrameDelta(w.transform.zoom)};z.draw(v,_.TRIANGLES,j,$r.disabled,k,Pr.backCCW,re,K,"terrain",V.vertexBuffer,V.indexBuffer,V.segments)}}class wc{constructor(c,p){this.context=new oT(c),this.transform=p,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.Z(),renderTime:0},this.setup(),this.numSublayers=an.maxUnderzooming+an.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ih}resize(c,p,v){if(this.width=Math.floor(c*v),this.height=Math.floor(p*v),this.pixelRatio=v,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const _ of this.style._order)this.style._layers[_].resize()}setup(){const c=this.context,p=new a.a_;p.emplaceBack(0,0),p.emplaceBack(a.N,0),p.emplaceBack(0,a.N),p.emplaceBack(a.N,a.N),this.tileExtentBuffer=c.createVertexBuffer(p,$h.members),this.tileExtentSegments=a.S.simpleSegment(0,0,4,2);const v=new a.a_;v.emplaceBack(0,0),v.emplaceBack(a.N,0),v.emplaceBack(0,a.N),v.emplaceBack(a.N,a.N),this.debugBuffer=c.createVertexBuffer(v,$h.members),this.debugSegments=a.S.simpleSegment(0,0,4,5);const _=new a.V;_.emplaceBack(0,0,0,0),_.emplaceBack(a.N,0,a.N,0),_.emplaceBack(0,a.N,0,a.N),_.emplaceBack(a.N,a.N,a.N,a.N),this.rasterBoundsBuffer=c.createVertexBuffer(_,He.members),this.rasterBoundsSegments=a.S.simpleSegment(0,0,4,2);const k=new a.a_;k.emplaceBack(0,0),k.emplaceBack(1,0),k.emplaceBack(0,1),k.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(k,$h.members),this.viewportSegments=a.S.simpleSegment(0,0,4,2);const j=new a.a$;j.emplaceBack(0),j.emplaceBack(1),j.emplaceBack(3),j.emplaceBack(2),j.emplaceBack(0),this.tileBorderIndexBuffer=c.createIndexBuffer(j);const z=new a.b0;z.emplaceBack(0,1,2),z.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(z);const V=this.context.gl;this.stencilClearMode=new $r({func:V.ALWAYS,mask:0},0,255,V.ZERO,V.ZERO,V.ZERO)}clearStencil(){const c=this.context,p=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const v=a.Z();a.aS(v,0,this.width,this.height,0,0,1),a.a0(v,v,[p.drawingBufferWidth,p.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(c,p.TRIANGLES,$n.disabled,this.stencilClearMode,Ir.disabled,Pr.disabled,$b(v),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(c,p){if(this.currentStencilSource===c.source||!c.isTileClipped()||!p||!p.length)return;this.currentStencilSource=c.source;const v=this.context,_=v.gl;this.nextStencilID+p.length>256&&this.clearStencil(),v.setColorMode(Ir.disabled),v.setDepthMode($n.disabled);const k=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const j of p){const z=this._tileClippingMaskIDs[j.key]=this.nextStencilID++,V=this.style.map.terrain&&this.style.map.terrain.getTerrainData(j);k.draw(v,_.TRIANGLES,$n.disabled,new $r({func:_.ALWAYS,mask:0},z,255,_.KEEP,_.KEEP,_.REPLACE),Ir.disabled,Pr.disabled,$b(j.posMatrix),V,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const c=this.nextStencilID++,p=this.context.gl;return new $r({func:p.NOTEQUAL,mask:255},c,255,p.KEEP,p.KEEP,p.REPLACE)}stencilModeForClipping(c){const p=this.context.gl;return new $r({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,p.KEEP,p.KEEP,p.REPLACE)}stencilConfigForOverlap(c){const p=this.context.gl,v=c.sort((j,z)=>z.overscaledZ-j.overscaledZ),_=v[v.length-1].overscaledZ,k=v[0].overscaledZ-_+1;if(k>1){this.currentStencilSource=void 0,this.nextStencilID+k>256&&this.clearStencil();const j={};for(let z=0;z<k;z++)j[z+_]=new $r({func:p.GEQUAL,mask:255},z+this.nextStencilID,255,p.KEEP,p.KEEP,p.REPLACE);return this.nextStencilID+=k,[j,v]}return[{[_]:$r.disabled},v]}colorModeForRenderPass(){const c=this.context.gl;return this._showOverdrawInspector?new Ir([c.CONSTANT_COLOR,c.ONE],new a.aT(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Ir.unblended:Ir.alphaBlended}depthModeForSublayer(c,p,v){if(!this.opaquePassEnabledForLayer())return $n.disabled;const _=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new $n(v||this.context.gl.LEQUAL,p,[_,_])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(c,p){this.style=c,this.options=p,this.lineAtlas=c.lineAtlas,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(a.h.now()),this.imageManager.beginFrame();const v=this.style._order,_=this.style.sourceCaches,k={},j={},z={};for(const V in _){const H=_[V];H.used&&H.prepare(this.context),k[V]=H.getVisibleCoordinates(),j[V]=k[V].slice().reverse(),z[V]=H.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let V=0;V<v.length;V++)if(this.style._layers[v[V]].is3D()){this.opaquePassCutoff=V;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const V=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!a.b1(this.terrainFacilitator.matrix,this.transform.projMatrix)||V.length)&&(a.b2(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(H,Y){const K=H.context,re=K.gl,me=Ir.unblended,pe=new $n(re.LEQUAL,$n.ReadWrite,[0,1]),ve=Y.getTerrainMesh(),de=Y.sourceCache.getRenderableTiles(),Ae=H.useProgram("terrainDepth");K.bindFramebuffer.set(Y.getFramebuffer("depth").framebuffer),K.viewport.set([0,0,H.width/devicePixelRatio,H.height/devicePixelRatio]),K.clear({color:a.aT.transparent,depth:1});for(const Ne of de){const Se=Y.getTerrainData(Ne.tileID),$e={u_matrix:H.transform.calculatePosMatrix(Ne.tileID.toUnwrapped()),u_ele_delta:Y.getMeshFrameDelta(H.transform.zoom)};Ae.draw(K,re.TRIANGLES,pe,$r.disabled,me,Pr.backCCW,$e,Se,"terrain",ve.vertexBuffer,ve.indexBuffer,ve.segments)}K.bindFramebuffer.set(null),K.viewport.set([0,0,H.width,H.height])}(this,this.style.map.terrain),function(H,Y){const K=H.context,re=K.gl,me=Ir.unblended,pe=new $n(re.LEQUAL,$n.ReadWrite,[0,1]),ve=Y.getTerrainMesh(),de=Y.getCoordsTexture(),Ae=Y.sourceCache.getRenderableTiles(),Ne=H.useProgram("terrainCoords");K.bindFramebuffer.set(Y.getFramebuffer("coords").framebuffer),K.viewport.set([0,0,H.width/devicePixelRatio,H.height/devicePixelRatio]),K.clear({color:a.aT.transparent,depth:1}),Y.coordsIndex=[];for(const Se of Ae){const $e=Y.getTerrainData(Se.tileID);K.activeTexture.set(re.TEXTURE0),re.bindTexture(re.TEXTURE_2D,de.texture);const Fe={u_matrix:H.transform.calculatePosMatrix(Se.tileID.toUnwrapped()),u_terrain_coords_id:(255-Y.coordsIndex.length)/255,u_texture:0,u_ele_delta:Y.getMeshFrameDelta(H.transform.zoom)};Ne.draw(K,re.TRIANGLES,pe,$r.disabled,me,Pr.backCCW,Fe,$e,"terrain",ve.vertexBuffer,ve.indexBuffer,ve.segments),Y.coordsIndex.push(Se.tileID.key)}K.bindFramebuffer.set(null),K.viewport.set([0,0,H.width,H.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const V of v){const H=this.style._layers[V];if(!H.hasOffscreenPass()||H.isHidden(this.transform.zoom))continue;const Y=j[H.source];(H.type==="custom"||Y.length)&&this.renderLayer(this,_[H.source],H,Y)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:p.showOverdrawInspector?a.aT.black:a.aT.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=p.showOverdrawInspector,this.depthRangeFor3D=[0,1-(c._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=v.length-1;this.currentLayer>=0;this.currentLayer--){const V=this.style._layers[v[this.currentLayer]],H=_[V.source],Y=k[V.source];this._renderTileClippingMasks(V,Y),this.renderLayer(this,H,V,Y)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<v.length;this.currentLayer++){const V=this.style._layers[v[this.currentLayer]],H=_[V.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(V))continue;const Y=(V.type==="symbol"?z:j)[V.source];this._renderTileClippingMasks(V,k[V.source]),this.renderLayer(this,H,V,Y)}if(this.options.showTileBoundaries){const V=function(H,Y){let K=null;const re=Object.values(H._layers).flatMap(de=>de.source&&!de.isHidden(Y)?[H.sourceCaches[de.source]]:[]),me=re.filter(de=>de.getSource().type==="vector"),pe=re.filter(de=>de.getSource().type!=="vector"),ve=de=>{(!K||K.getSource().maxzoom<de.getSource().maxzoom)&&(K=de)};return me.forEach(de=>ve(de)),K||pe.forEach(de=>ve(de)),K}(this.style,this.transform.zoom);V&&function(H,Y,K){for(let re=0;re<K.length;re++)Kb(H,Y,K[re])}(this,V,V.getVisibleCoordinates())}this.options.showPadding&&function(V){const H=V.transform.padding;cf(V,V.transform.height-(H.top||0),3,Hb),cf(V,H.bottom||0,3,Xh),Jh(V,H.left||0,3,yy),Jh(V,V.transform.width-(H.right||0),3,Gb);const Y=V.transform.centerPoint;(function(K,re,me,pe){Qh(K,re-1,me-10,2,20,pe),Qh(K,re-10,me-1,20,2,pe)})(V,Y.x,V.transform.height-Y.y,Yb)}(this),this.context.setDefault()}renderLayer(c,p,v,_){if(!v.isHidden(this.transform.zoom)&&(v.type==="background"||v.type==="custom"||(_||[]).length))switch(this.id=v.id,v.type){case"symbol":(function(k,j,z,V,H){if(k.renderPass!=="translucent")return;const Y=$r.disabled,K=k.colorModeForRenderPass();(z._unevaluatedLayout.hasValue("text-variable-anchor")||z._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(re,me,pe,ve,de,Ae,Ne){const Se=me.transform,$e=de==="map",Fe=Ae==="map";for(const Ue of re){const Xe=ve.getTile(Ue),it=Xe.getBucket(pe);if(!it||!it.text||!it.text.segments.get().length)continue;const tt=a.ah(it.textSizeData,Se.zoom),dt=Me(Xe,1,me.transform.zoom),Dt=lt(Ue.posMatrix,Fe,$e,me.transform,dt),wn=pe.layout.get("icon-text-fit")!=="none"&&it.hasIconData();if(tt){const _t=Math.pow(2,Se.zoom-Xe.tileID.overscaledZ);Kh(it,$e,Fe,Ne,Se,Dt,Ue.posMatrix,_t,tt,wn,me.style.map.terrain?(Qt,jt)=>me.style.map.terrain.getElevation(Ue,Qt,jt):null)}}}(V,k,z,j,z.layout.get("text-rotation-alignment"),z.layout.get("text-pitch-alignment"),H),z.paint.get("icon-opacity").constantOr(1)!==0&&Zh(k,j,z,V,!1,z.paint.get("icon-translate"),z.paint.get("icon-translate-anchor"),z.layout.get("icon-rotation-alignment"),z.layout.get("icon-pitch-alignment"),z.layout.get("icon-keep-upright"),Y,K),z.paint.get("text-opacity").constantOr(1)!==0&&Zh(k,j,z,V,!0,z.paint.get("text-translate"),z.paint.get("text-translate-anchor"),z.layout.get("text-rotation-alignment"),z.layout.get("text-pitch-alignment"),z.layout.get("text-keep-upright"),Y,K),j.map.showCollisionBoxes&&(qb(k,j,z,V,z.paint.get("text-translate"),z.paint.get("text-translate-anchor"),!0),qb(k,j,z,V,z.paint.get("icon-translate"),z.paint.get("icon-translate-anchor"),!1))})(c,p,v,_,this.style.placement.variableOffsets);break;case"circle":(function(k,j,z,V){if(k.renderPass!=="translucent")return;const H=z.paint.get("circle-opacity"),Y=z.paint.get("circle-stroke-width"),K=z.paint.get("circle-stroke-opacity"),re=!z.layout.get("circle-sort-key").isConstant();if(H.constantOr(1)===0&&(Y.constantOr(1)===0||K.constantOr(1)===0))return;const me=k.context,pe=me.gl,ve=k.depthModeForSublayer(0,$n.ReadOnly),de=$r.disabled,Ae=k.colorModeForRenderPass(),Ne=[];for(let Se=0;Se<V.length;Se++){const $e=V[Se],Fe=j.getTile($e),Ue=Fe.getBucket(z);if(!Ue)continue;const Xe=Ue.programConfigurations.get(z.id),it=k.useProgram("circle",Xe),tt=Ue.layoutVertexBuffer,dt=Ue.indexBuffer,Dt=k.style.map.terrain&&k.style.map.terrain.getTerrainData($e),wn={programConfiguration:Xe,program:it,layoutVertexBuffer:tt,indexBuffer:dt,uniformValues:$l(k,$e,Fe,z),terrainData:Dt};if(re){const _t=Ue.segments.get();for(const Qt of _t)Ne.push({segments:new a.S([Qt]),sortKey:Qt.sortKey,state:wn})}else Ne.push({segments:Ue.segments,sortKey:0,state:wn})}re&&Ne.sort((Se,$e)=>Se.sortKey-$e.sortKey);for(const Se of Ne){const{programConfiguration:$e,program:Fe,layoutVertexBuffer:Ue,indexBuffer:Xe,uniformValues:it,terrainData:tt}=Se.state;Fe.draw(me,pe.TRIANGLES,ve,de,Ae,Pr.disabled,it,tt,z.id,Ue,Xe,Se.segments,z.paint,k.transform.zoom,$e)}})(c,p,v,_);break;case"heatmap":(function(k,j,z,V){if(z.paint.get("heatmap-opacity")!==0)if(k.renderPass==="offscreen"){const H=k.context,Y=H.gl,K=$r.disabled,re=new Ir([Y.ONE,Y.ONE],a.aT.transparent,[!0,!0,!0,!0]);(function(me,pe,ve){const de=me.gl;me.activeTexture.set(de.TEXTURE1),me.viewport.set([0,0,pe.width/4,pe.height/4]);let Ae=ve.heatmapFbo;if(Ae)de.bindTexture(de.TEXTURE_2D,Ae.colorAttachment.get()),me.bindFramebuffer.set(Ae.framebuffer);else{const Ne=de.createTexture();de.bindTexture(de.TEXTURE_2D,Ne),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_S,de.CLAMP_TO_EDGE),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_T,de.CLAMP_TO_EDGE),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MIN_FILTER,de.LINEAR),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MAG_FILTER,de.LINEAR),Ae=ve.heatmapFbo=me.createFramebuffer(pe.width/4,pe.height/4,!1,!1),function(Se,$e,Fe,Ue){var Xe,it;const tt=Se.gl,dt=(Xe=Se.HALF_FLOAT)!==null&&Xe!==void 0?Xe:tt.UNSIGNED_BYTE,Dt=(it=Se.RGBA16F)!==null&&it!==void 0?it:tt.RGBA;tt.texImage2D(tt.TEXTURE_2D,0,Dt,$e.width/4,$e.height/4,0,tt.RGBA,dt,null),Ue.colorAttachment.set(Fe)}(me,pe,Ne,Ae)}})(H,k,z),H.clear({color:a.aT.transparent});for(let me=0;me<V.length;me++){const pe=V[me];if(j.hasRenderableParent(pe))continue;const ve=j.getTile(pe),de=ve.getBucket(z);if(!de)continue;const Ae=de.programConfigurations.get(z.id),Ne=k.useProgram("heatmap",Ae),{zoom:Se}=k.transform;Ne.draw(H,Y.TRIANGLES,$n.disabled,K,re,Pr.disabled,Xk(pe.posMatrix,ve,Se,z.paint.get("heatmap-intensity")),null,z.id,de.layoutVertexBuffer,de.indexBuffer,de.segments,z.paint,k.transform.zoom,Ae)}H.viewport.set([0,0,k.width,k.height])}else k.renderPass==="translucent"&&(k.context.setColorMode(k.colorModeForRenderPass()),function(H,Y){const K=H.context,re=K.gl,me=Y.heatmapFbo;if(!me)return;K.activeTexture.set(re.TEXTURE0),re.bindTexture(re.TEXTURE_2D,me.colorAttachment.get()),K.activeTexture.set(re.TEXTURE1);let pe=Y.colorRampTexture;pe||(pe=Y.colorRampTexture=new J(K,Y.colorRamp,re.RGBA)),pe.bind(re.LINEAR,re.CLAMP_TO_EDGE),H.useProgram("heatmapTexture").draw(K,re.TRIANGLES,$n.disabled,$r.disabled,H.colorModeForRenderPass(),Pr.disabled,((ve,de,Ae,Ne)=>{const Se=a.Z();a.aS(Se,0,ve.width,ve.height,0,0,1);const $e=ve.context.gl;return{u_matrix:Se,u_world:[$e.drawingBufferWidth,$e.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:de.paint.get("heatmap-opacity")}})(H,Y),null,Y.id,H.viewportBuffer,H.quadTriangleIndexBuffer,H.viewportSegments,Y.paint,H.transform.zoom)}(k,z))})(c,p,v,_);break;case"line":(function(k,j,z,V){if(k.renderPass!=="translucent")return;const H=z.paint.get("line-opacity"),Y=z.paint.get("line-width");if(H.constantOr(1)===0||Y.constantOr(1)===0)return;const K=k.depthModeForSublayer(0,$n.ReadOnly),re=k.colorModeForRenderPass(),me=z.paint.get("line-dasharray"),pe=z.paint.get("line-pattern"),ve=pe.constantOr(1),de=z.paint.get("line-gradient"),Ae=z.getCrossfadeParameters(),Ne=ve?"linePattern":me?"lineSDF":de?"lineGradient":"line",Se=k.context,$e=Se.gl;let Fe=!0;for(const Ue of V){const Xe=j.getTile(Ue);if(ve&&!Xe.patternsLoaded())continue;const it=Xe.getBucket(z);if(!it)continue;const tt=it.programConfigurations.get(z.id),dt=k.context.program.get(),Dt=k.useProgram(Ne,tt),wn=Fe||Dt.program!==dt,_t=k.style.map.terrain&&k.style.map.terrain.getTerrainData(Ue),Qt=pe.constantOr(null);if(Qt&&Xe.imageAtlas){const xn=Xe.imageAtlas,mn=xn.patternPositions[Qt.to.toString()],Sn=xn.patternPositions[Qt.from.toString()];mn&&Sn&&tt.setConstantPatternPositions(mn,Sn)}const jt=_t?Ue:null,Qn=ve?Jk(k,Xe,z,Ae,jt):me?Db(k,Xe,z,me,Ae,jt):de?Rb(k,Xe,z,it.lineClipsArray.length,jt):ey(k,Xe,z,jt);if(ve)Se.activeTexture.set($e.TEXTURE0),Xe.imageAtlasTexture.bind($e.LINEAR,$e.CLAMP_TO_EDGE),tt.updatePaintBuffers(Ae);else if(me&&(wn||k.lineAtlas.dirty))Se.activeTexture.set($e.TEXTURE0),k.lineAtlas.bind(Se);else if(de){const xn=it.gradients[z.id];let mn=xn.texture;if(z.gradientVersion!==xn.version){let Sn=256;if(z.stepInterpolant){const Yr=j.getSource().maxzoom,pr=Ue.canonical.z===Yr?Math.ceil(1<<k.transform.maxZoom-Ue.canonical.z):1;Sn=a.ad(a.aY(it.maxLineLength/a.N*1024*pr),256,Se.maxTextureSize)}xn.gradient=a.aZ({expression:z.gradientExpression(),evaluationKey:"lineProgress",resolution:Sn,image:xn.gradient||void 0,clips:it.lineClipsArray}),xn.texture?xn.texture.update(xn.gradient):xn.texture=new J(Se,xn.gradient,$e.RGBA),xn.version=z.gradientVersion,mn=xn.texture}Se.activeTexture.set($e.TEXTURE0),mn.bind(z.stepInterpolant?$e.NEAREST:$e.LINEAR,$e.CLAMP_TO_EDGE)}Dt.draw(Se,$e.TRIANGLES,K,k.stencilModeForClipping(Ue),re,Pr.disabled,Qn,_t,z.id,it.layoutVertexBuffer,it.indexBuffer,it.segments,z.paint,k.transform.zoom,tt,it.layoutVertexBuffer2),Fe=!1}})(c,p,v,_);break;case"fill":(function(k,j,z,V){const H=z.paint.get("fill-color"),Y=z.paint.get("fill-opacity");if(Y.constantOr(1)===0)return;const K=k.colorModeForRenderPass(),re=z.paint.get("fill-pattern"),me=k.opaquePassEnabledForLayer()&&!re.constantOr(1)&&H.constantOr(a.aT.transparent).a===1&&Y.constantOr(0)===1?"opaque":"translucent";if(k.renderPass===me){const pe=k.depthModeForSublayer(1,k.renderPass==="opaque"?$n.ReadWrite:$n.ReadOnly);sf(k,j,z,V,pe,K,!1)}if(k.renderPass==="translucent"&&z.paint.get("fill-antialias")){const pe=k.depthModeForSublayer(z.getPaintProperty("fill-outline-color")?2:0,$n.ReadOnly);sf(k,j,z,V,pe,K,!0)}})(c,p,v,_);break;case"fill-extrusion":(function(k,j,z,V){const H=z.paint.get("fill-extrusion-opacity");if(H!==0&&k.renderPass==="translucent"){const Y=new $n(k.context.gl.LEQUAL,$n.ReadWrite,k.depthRangeFor3D);if(H!==1||z.paint.get("fill-extrusion-pattern").constantOr(1))lf(k,j,z,V,Y,$r.disabled,Ir.disabled),lf(k,j,z,V,Y,k.stencilModeFor3D(),k.colorModeForRenderPass());else{const K=k.colorModeForRenderPass();lf(k,j,z,V,Y,$r.disabled,K)}}})(c,p,v,_);break;case"hillshade":(function(k,j,z,V){if(k.renderPass!=="offscreen"&&k.renderPass!=="translucent")return;const H=k.context,Y=k.depthModeForSublayer(0,$n.ReadOnly),K=k.colorModeForRenderPass(),[re,me]=k.renderPass==="translucent"?k.stencilConfigForOverlap(V):[{},V];for(const pe of me){const ve=j.getTile(pe);ve.needsHillshadePrepare!==void 0&&ve.needsHillshadePrepare&&k.renderPass==="offscreen"?gy(k,ve,z,Y,$r.disabled,K):k.renderPass==="translucent"&&aT(k,pe,ve,z,Y,re[pe.overscaledZ],K)}H.viewport.set([0,0,k.width,k.height])})(c,p,v,_);break;case"raster":(function(k,j,z,V){if(k.renderPass!=="translucent"||z.paint.get("raster-opacity")===0||!V.length)return;const H=k.context,Y=H.gl,K=j.getSource(),re=k.useProgram("raster"),me=k.colorModeForRenderPass(),[pe,ve]=K instanceof ct?[{},V]:k.stencilConfigForOverlap(V),de=ve[ve.length-1].overscaledZ,Ae=!k.options.moving;for(const Ne of ve){const Se=k.depthModeForSublayer(Ne.overscaledZ-de,z.paint.get("raster-opacity")===1?$n.ReadWrite:$n.ReadOnly,Y.LESS),$e=j.getTile(Ne);$e.registerFadeDuration(z.paint.get("raster-fade-duration"));const Fe=j.findLoadedParent(Ne,0),Ue=sT($e,Fe,j,z,k.transform,k.style.map.terrain);let Xe,it;const tt=z.paint.get("raster-resampling")==="nearest"?Y.NEAREST:Y.LINEAR;H.activeTexture.set(Y.TEXTURE0),$e.texture.bind(tt,Y.CLAMP_TO_EDGE,Y.LINEAR_MIPMAP_NEAREST),H.activeTexture.set(Y.TEXTURE1),Fe?(Fe.texture.bind(tt,Y.CLAMP_TO_EDGE,Y.LINEAR_MIPMAP_NEAREST),Xe=Math.pow(2,Fe.tileID.overscaledZ-$e.tileID.overscaledZ),it=[$e.tileID.canonical.x*Xe%1,$e.tileID.canonical.y*Xe%1]):$e.texture.bind(tt,Y.CLAMP_TO_EDGE,Y.LINEAR_MIPMAP_NEAREST);const dt=k.style.map.terrain&&k.style.map.terrain.getTerrainData(Ne),Dt=dt?Ne:null,wn=Dt?Dt.posMatrix:k.transform.calculatePosMatrix(Ne.toUnwrapped(),Ae),_t=jb(wn,it||[0,0],Xe||1,Ue,z);K instanceof ct?re.draw(H,Y.TRIANGLES,Se,$r.disabled,me,Pr.disabled,_t,dt,z.id,K.boundsBuffer,k.quadTriangleIndexBuffer,K.boundsSegments):re.draw(H,Y.TRIANGLES,Se,pe[Ne.overscaledZ],me,Pr.disabled,_t,dt,z.id,k.rasterBoundsBuffer,k.quadTriangleIndexBuffer,k.rasterBoundsSegments)}})(c,p,v,_);break;case"background":(function(k,j,z,V){const H=z.paint.get("background-color"),Y=z.paint.get("background-opacity");if(Y===0)return;const K=k.context,re=K.gl,me=k.transform,pe=me.tileSize,ve=z.paint.get("background-pattern");if(k.isPatternMissing(ve))return;const de=!ve&&H.a===1&&Y===1&&k.opaquePassEnabledForLayer()?"opaque":"translucent";if(k.renderPass!==de)return;const Ae=$r.disabled,Ne=k.depthModeForSublayer(0,de==="opaque"?$n.ReadWrite:$n.ReadOnly),Se=k.colorModeForRenderPass(),$e=k.useProgram(ve?"backgroundPattern":"background"),Fe=V||me.coveringTiles({tileSize:pe,terrain:k.style.map.terrain});ve&&(K.activeTexture.set(re.TEXTURE0),k.imageManager.bind(k.context));const Ue=z.getCrossfadeParameters();for(const Xe of Fe){const it=V?Xe.posMatrix:k.transform.calculatePosMatrix(Xe.toUnwrapped()),tt=ve?ga(it,Y,k,ve,{tileID:Xe,tileSize:pe},Ue):Nh(it,Y,H),dt=k.style.map.terrain&&k.style.map.terrain.getTerrainData(Xe);$e.draw(K,re.TRIANGLES,Ne,Ae,Se,Pr.disabled,tt,dt,z.id,k.tileExtentBuffer,k.quadTriangleIndexBuffer,k.tileExtentSegments)}})(c,0,v,_);break;case"custom":(function(k,j,z){const V=k.context,H=z.implementation;if(k.renderPass==="offscreen"){const Y=H.prerender;Y&&(k.setCustomLayerDefaults(),V.setColorMode(k.colorModeForRenderPass()),Y.call(H,V.gl,k.transform.customLayerMatrix()),V.setDirty(),k.setBaseState())}else if(k.renderPass==="translucent"){k.setCustomLayerDefaults(),V.setColorMode(k.colorModeForRenderPass()),V.setStencilMode($r.disabled);const Y=H.renderingMode==="3d"?new $n(k.context.gl.LEQUAL,$n.ReadWrite,k.depthRangeFor3D):k.depthModeForSublayer(0,$n.ReadOnly);V.setDepthMode(Y),H.render(V.gl,k.transform.customLayerMatrix()),V.setDirty(),k.setBaseState(),V.bindFramebuffer.set(null)}})(c,0,v)}}translatePosMatrix(c,p,v,_,k){if(!v[0]&&!v[1])return c;const j=k?_==="map"?this.transform.angle:0:_==="viewport"?-this.transform.angle:0;if(j){const H=Math.sin(j),Y=Math.cos(j);v=[v[0]*Y-v[1]*H,v[0]*H+v[1]*Y]}const z=[k?v[0]:Me(p,v[0],this.transform.zoom),k?v[1]:Me(p,v[1],this.transform.zoom),0],V=new Float32Array(16);return a.$(V,c,z),V}saveTileTexture(c){const p=this._tileTextures[c.size[0]];p?p.push(c):this._tileTextures[c.size[0]]=[c]}getTileTexture(c){const p=this._tileTextures[c];return p&&p.length>0?p.pop():null}isPatternMissing(c){if(!c)return!1;if(!c.from||!c.to)return!0;const p=this.imageManager.getPattern(c.from.toString()),v=this.imageManager.getPattern(c.to.toString());return!p||!v}useProgram(c,p){this.cache=this.cache||{};const v=c+(p?p.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[v]||(this.cache[v]=new Rh(this.context,Ar[c],p,zh[c],this._showOverdrawInspector,this.style.map.terrain)),this.cache[v]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new J(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:c,drawingBufferHeight:p}=this.context.gl;return this.width!==c||this.height!==p}}class _o{constructor(c,p){this.points=c,this.planes=p}static fromInvProjectionMatrix(c,p,v){const _=Math.pow(2,v),k=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(z=>{const V=1/(z=a.ag([],z,c))[3]/p*_;return a.b3(z,z,[V,V,1/z[3],V])}),j=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(z=>{const V=function(re,me){var pe=me[0],ve=me[1],de=me[2],Ae=pe*pe+ve*ve+de*de;return Ae>0&&(Ae=1/Math.sqrt(Ae)),re[0]=me[0]*Ae,re[1]=me[1]*Ae,re[2]=me[2]*Ae,re}([],function(re,me,pe){var ve=me[0],de=me[1],Ae=me[2],Ne=pe[0],Se=pe[1],$e=pe[2];return re[0]=de*$e-Ae*Se,re[1]=Ae*Ne-ve*$e,re[2]=ve*Se-de*Ne,re}([],D([],k[z[0]],k[z[1]]),D([],k[z[2]],k[z[1]]))),H=-((Y=V)[0]*(K=k[z[1]])[0]+Y[1]*K[1]+Y[2]*K[2]);var Y,K;return V.concat(H)});return new _o(k,j)}}class Nu{constructor(c,p){this.min=c,this.max=p,this.center=function(v,_,k){return v[0]=.5*_[0],v[1]=.5*_[1],v[2]=.5*_[2],v}([],function(v,_,k){return v[0]=_[0]+k[0],v[1]=_[1]+k[1],v[2]=_[2]+k[2],v}([],this.min,this.max))}quadrant(c){const p=[c%2==0,c<2],v=N(this.min),_=N(this.max);for(let k=0;k<p.length;k++)v[k]=p[k]?this.min[k]:this.center[k],_[k]=p[k]?this.center[k]:this.max[k];return _[2]=this.max[2],new Nu(v,_)}distanceX(c){return Math.max(Math.min(this.max[0],c[0]),this.min[0])-c[0]}distanceY(c){return Math.max(Math.min(this.max[1],c[1]),this.min[1])-c[1]}intersects(c){const p=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let v=!0;for(let _=0;_<c.planes.length;_++){const k=c.planes[_];let j=0;for(let z=0;z<p.length;z++)a.b4(k,p[z])>=0&&j++;if(j===0)return 0;j!==p.length&&(v=!1)}if(v)return 2;for(let _=0;_<3;_++){let k=Number.MAX_VALUE,j=-Number.MAX_VALUE;for(let z=0;z<c.points.length;z++){const V=c.points[z][_]-this.min[_];k=Math.min(k,V),j=Math.max(j,V)}if(j<0||k>this.max[_]-this.min[_])return 0}return 1}}class uf{constructor(c=0,p=0,v=0,_=0){if(isNaN(c)||c<0||isNaN(p)||p<0||isNaN(v)||v<0||isNaN(_)||_<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=p,this.left=v,this.right=_}interpolate(c,p,v){return p.top!=null&&c.top!=null&&(this.top=a.B.number(c.top,p.top,v)),p.bottom!=null&&c.bottom!=null&&(this.bottom=a.B.number(c.bottom,p.bottom,v)),p.left!=null&&c.left!=null&&(this.left=a.B.number(c.left,p.left,v)),p.right!=null&&c.right!=null&&(this.right=a.B.number(c.right,p.right,v)),this}getCenter(c,p){const v=a.ad((this.left+c-this.right)/2,0,c),_=a.ad((this.top+p-this.bottom)/2,0,p);return new a.P(v,_)}equals(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right}clone(){return new uf(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class ep{constructor(c,p,v,_,k){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=k===void 0||!!k,this._minZoom=c||0,this._maxZoom=p||22,this._minPitch=v??0,this._maxPitch=_??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.L(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new uf,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const c=new ep(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return c.apply(this),c}apply(c){this.tileSize=c.tileSize,this.latRange=c.latRange,this.width=c.width,this.height=c.height,this._center=c._center,this._elevation=c._elevation,this._minEleveationForCurrentTile=c._minEleveationForCurrentTile,this.zoom=c.zoom,this.angle=c.angle,this._fov=c._fov,this._pitch=c._pitch,this._unmodified=c._unmodified,this._edgeInsets=c._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))}get maxZoom(){return this._maxZoom}set maxZoom(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))}get minPitch(){return this._minPitch}set minPitch(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))}get maxPitch(){return this._maxPitch}set maxPitch(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(c){const p=-a.b5(c,-180,180)*Math.PI/180;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=function(){var v=new a.A(4);return a.A!=Float32Array&&(v[1]=0,v[2]=0),v[0]=1,v[3]=1,v}(),function(v,_,k){var j=_[0],z=_[1],V=_[2],H=_[3],Y=Math.sin(k),K=Math.cos(k);v[0]=j*K+V*Y,v[1]=z*K+H*Y,v[2]=j*-Y+V*K,v[3]=z*-Y+H*K}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(c){const p=a.ad(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=c/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(c){const p=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._zoom=p,this.tileZoom=Math.max(0,Math.floor(p)),this.scale=this.zoomScale(p),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(c){c!==this._elevation&&(this._elevation=c,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(c){return this._edgeInsets.equals(c)}interpolatePadding(c,p,v){this._unmodified=!1,this._edgeInsets.interpolate(c,p,v),this._constrain(),this._calcMatrices()}coveringZoomLevel(c){const p=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,p)}getVisibleUnwrappedCoordinates(c){const p=[new a.b6(0,c)];if(this._renderWorldCopies){const v=this.pointCoordinate(new a.P(0,0)),_=this.pointCoordinate(new a.P(this.width,0)),k=this.pointCoordinate(new a.P(this.width,this.height)),j=this.pointCoordinate(new a.P(0,this.height)),z=Math.floor(Math.min(v.x,_.x,k.x,j.x)),V=Math.floor(Math.max(v.x,_.x,k.x,j.x)),H=1;for(let Y=z-H;Y<=V+H;Y++)Y!==0&&p.push(new a.b6(Y,c))}return p}coveringTiles(c){var p,v;let _=this.coveringZoomLevel(c);const k=_;if(c.minzoom!==void 0&&_<c.minzoom)return[];c.maxzoom!==void 0&&_>c.maxzoom&&(_=c.maxzoom);const j=this.pointCoordinate(this.getCameraPoint()),z=a.U.fromLngLat(this.center),V=Math.pow(2,_),H=[V*j.x,V*j.y,0],Y=[V*z.x,V*z.y,0],K=_o.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,_);let re=c.minzoom||0;!c.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(re=_);const me=c.terrain?2/Math.min(this.tileSize,c.tileSize)*this.tileSize:3,pe=Se=>({aabb:new Nu([Se*V,0,0],[(Se+1)*V,V,0]),zoom:0,x:0,y:0,wrap:Se,fullyVisible:!1}),ve=[],de=[],Ae=_,Ne=c.reparseOverscaled?k:_;if(this._renderWorldCopies)for(let Se=1;Se<=3;Se++)ve.push(pe(-Se)),ve.push(pe(Se));for(ve.push(pe(0));ve.length>0;){const Se=ve.pop(),$e=Se.x,Fe=Se.y;let Ue=Se.fullyVisible;if(!Ue){const Dt=Se.aabb.intersects(K);if(Dt===0)continue;Ue=Dt===2}const Xe=c.terrain?H:Y,it=Se.aabb.distanceX(Xe),tt=Se.aabb.distanceY(Xe),dt=Math.max(Math.abs(it),Math.abs(tt));if(Se.zoom===Ae||dt>me+(1<<Ae-Se.zoom)-2&&Se.zoom>=re){const Dt=Ae-Se.zoom,wn=H[0]-.5-($e<<Dt),_t=H[1]-.5-(Fe<<Dt);de.push({tileID:new a.O(Se.zoom===Ae?Ne:Se.zoom,Se.wrap,Se.zoom,$e,Fe),distanceSq:F([Y[0]-.5-$e,Y[1]-.5-Fe]),tileDistanceToCamera:Math.sqrt(wn*wn+_t*_t)})}else for(let Dt=0;Dt<4;Dt++){const wn=($e<<1)+Dt%2,_t=(Fe<<1)+(Dt>>1),Qt=Se.zoom+1;let jt=Se.aabb.quadrant(Dt);if(c.terrain){const Qn=new a.O(Qt,Se.wrap,Qt,wn,_t),xn=c.terrain.getMinMaxElevation(Qn),mn=(p=xn.minElevation)!==null&&p!==void 0?p:this.elevation,Sn=(v=xn.maxElevation)!==null&&v!==void 0?v:this.elevation;jt=new Nu([jt.min[0],jt.min[1],mn],[jt.max[0],jt.max[1],Sn])}ve.push({aabb:jt,zoom:Qt,x:wn,y:_t,wrap:Se.wrap,fullyVisible:Ue})}}return de.sort((Se,$e)=>Se.distanceSq-$e.distanceSq).map(Se=>Se.tileID)}resize(c,p){this.width=c,this.height=p,this.pixelsToGLUnits=[2/c,-2/p],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(c){return Math.pow(2,c)}scaleZoom(c){return Math.log(c)/Math.LN2}project(c){const p=a.ad(c.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.P(a.G(c.lng)*this.worldSize,a.H(p)*this.worldSize)}unproject(c){return new a.U(c.x/this.worldSize,c.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(c){const p=this.pointLocation(this.centerPoint,c),v=c.getElevationForLngLatZoom(p,this.tileZoom);if(!(this.elevation-v))return;const _=this.getCameraPosition(),k=a.U.fromLngLat(_.lngLat,_.altitude),j=a.U.fromLngLat(p,v),z=k.x-j.x,V=k.y-j.y,H=k.z-j.z,Y=Math.sqrt(z*z+V*V+H*H),K=this.scaleZoom(this.cameraToCenterDistance/Y/this.tileSize);this._elevation=v,this._center=p,this.zoom=K}setLocationAtPoint(c,p){const v=this.pointCoordinate(p),_=this.pointCoordinate(this.centerPoint),k=this.locationCoordinate(c),j=new a.U(k.x-(v.x-_.x),k.y-(v.y-_.y));this.center=this.coordinateLocation(j),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(c,p){return p?this.coordinatePoint(this.locationCoordinate(c),p.getElevationForLngLatZoom(c,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(c))}pointLocation(c,p){return this.coordinateLocation(this.pointCoordinate(c,p))}locationCoordinate(c){return a.U.fromLngLat(c)}coordinateLocation(c){return c&&c.toLngLat()}pointCoordinate(c,p){if(p){const re=p.pointCoordinate(c);if(re!=null)return re}const v=[c.x,c.y,0,1],_=[c.x,c.y,1,1];a.ag(v,v,this.pixelMatrixInverse),a.ag(_,_,this.pixelMatrixInverse);const k=v[3],j=_[3],z=v[1]/k,V=_[1]/j,H=v[2]/k,Y=_[2]/j,K=H===Y?0:(0-H)/(Y-H);return new a.U(a.B.number(v[0]/k,_[0]/j,K)/this.worldSize,a.B.number(z,V,K)/this.worldSize)}coordinatePoint(c,p=0,v=this.pixelMatrix){const _=[c.x*this.worldSize,c.y*this.worldSize,p,1];return a.ag(_,_,v),new a.P(_[0]/_[3],_[1]/_[3])}getBounds(){const c=Math.max(0,this.height/2-this.getHorizon());return new Ke().extend(this.pointLocation(new a.P(0,c))).extend(this.pointLocation(new a.P(this.width,c))).extend(this.pointLocation(new a.P(this.width,this.height))).extend(this.pointLocation(new a.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new Ke([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(c){c?(this.lngRange=[c.getWest(),c.getEast()],this.latRange=[c.getSouth(),c.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(c,p=!1){const v=c.key,_=p?this._alignedPosMatrixCache:this._posMatrixCache;if(_[v])return _[v];const k=c.canonical,j=this.worldSize/this.zoomScale(k.z),z=k.x+Math.pow(2,k.z)*c.wrap,V=a.ao(new Float64Array(16));return a.$(V,V,[z*j,k.y*j,0]),a.a0(V,V,[j/a.N,j/a.N,1]),a.a1(V,p?this.alignedProjMatrix:this.projMatrix,V),_[v]=new Float32Array(V),_[v]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let c,p,v,_,k=-90,j=90,z=-180,V=180;const H=this.size,Y=this._unmodified;if(this.latRange){const me=this.latRange;k=a.H(me[1])*this.worldSize,j=a.H(me[0])*this.worldSize,c=j-k<H.y?H.y/(j-k):0}if(this.lngRange){const me=this.lngRange;z=a.b5(a.G(me[0])*this.worldSize,0,this.worldSize),V=a.b5(a.G(me[1])*this.worldSize,0,this.worldSize),V<z&&(V+=this.worldSize),p=V-z<H.x?H.x/(V-z):0}const K=this.point,re=Math.max(p||0,c||0);if(re)return this.center=this.unproject(new a.P(p?(V+z)/2:K.x,c?(j+k)/2:K.y)),this.zoom+=this.scaleZoom(re),this._unmodified=Y,void(this._constraining=!1);if(this.latRange){const me=K.y,pe=H.y/2;me-pe<k&&(_=k+pe),me+pe>j&&(_=j-pe)}if(this.lngRange){const me=(z+V)/2,pe=a.b5(K.x,me-this.worldSize/2,me+this.worldSize/2),ve=H.x/2;pe-ve<z&&(v=z+ve),pe+ve>V&&(v=V-ve)}v===void 0&&_===void 0||(this.center=this.unproject(new a.P(v!==void 0?v:K.x,_!==void 0?_:K.y)).wrap()),this._unmodified=Y,this._constraining=!1}_calcMatrices(){if(!this.height)return;const c=this.centerOffset,p=this.point.x,v=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=a.b7(1,this.center.lat)*this.worldSize;let _=a.ao(new Float64Array(16));a.a0(_,_,[this.width/2,-this.height/2,1]),a.$(_,_,[1,-1,0]),this.labelPlaneMatrix=_,_=a.ao(new Float64Array(16)),a.a0(_,_,[1,-1,1]),a.$(_,_,[-1,-1,0]),a.a0(_,_,[2/this.width,2/this.height,1]),this.glCoordMatrix=_;const k=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),j=Math.min(this.elevation,this._minEleveationForCurrentTile),z=k-j*this._pixelPerMeter/Math.cos(this._pitch),V=j<0?z:k,H=Math.PI/2+this._pitch,Y=this._fov*(.5+c.y/this.height),K=Math.sin(Y)*V/Math.sin(a.ad(Math.PI-H-Y,.01,Math.PI-.01)),re=this.getHorizon(),me=2*Math.atan(re/this.cameraToCenterDistance)*(.5+c.y/(2*re)),pe=Math.sin(me)*V/Math.sin(a.ad(Math.PI-H-me,.01,Math.PI-.01)),ve=Math.min(K,pe),de=1.01*(Math.cos(Math.PI/2-this._pitch)*ve+V),Ae=this.height/50;_=new Float64Array(16),a.b8(_,this._fov,this.width/this.height,Ae,de),_[8]=2*-c.x/this.width,_[9]=2*c.y/this.height,a.a0(_,_,[1,-1,1]),a.$(_,_,[0,0,-this.cameraToCenterDistance]),a.b9(_,_,this._pitch),a.ae(_,_,this.angle),a.$(_,_,[-p,-v,0]),this.mercatorMatrix=a.a0([],_,[this.worldSize,this.worldSize,this.worldSize]),a.a0(_,_,[1,1,this._pixelPerMeter]),this.pixelMatrix=a.a1(new Float64Array(16),this.labelPlaneMatrix,_),a.$(_,_,[0,0,-this.elevation]),this.projMatrix=_,this.invProjMatrix=a.as([],_),this.pixelMatrix3D=a.a1(new Float64Array(16),this.labelPlaneMatrix,_);const Ne=this.width%2/2,Se=this.height%2/2,$e=Math.cos(this.angle),Fe=Math.sin(this.angle),Ue=p-Math.round(p)+$e*Ne+Fe*Se,Xe=v-Math.round(v)+$e*Se+Fe*Ne,it=new Float64Array(_);if(a.$(it,it,[Ue>.5?Ue-1:Ue,Xe>.5?Xe-1:Xe,0]),this.alignedProjMatrix=it,_=a.as(new Float64Array(16),this.pixelMatrix),!_)throw new Error("failed to invert matrix");this.pixelMatrixInverse=_,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const c=this.pointCoordinate(new a.P(0,0)),p=[c.x*this.worldSize,c.y*this.worldSize,0,1];return a.ag(p,p,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.P(0,c))}getCameraQueryGeometry(c){const p=this.getCameraPoint();if(c.length===1)return[c[0],p];{let v=p.x,_=p.y,k=p.x,j=p.y;for(const z of c)v=Math.min(v,z.x),_=Math.min(_,z.y),k=Math.max(k,z.x),j=Math.max(j,z.y);return[new a.P(v,_),new a.P(k,_),new a.P(k,j),new a.P(v,j),new a.P(v,_)]}}}function Sc(w,c){let p,v=!1,_=null,k=null;const j=()=>{_=null,v&&(w.apply(k,p),_=setTimeout(j,c),v=!1)};return(...z)=>(v=!0,k=this,p=z,_||j(),_)}class df{constructor(c){this._getCurrentHash=()=>{const p=window.location.hash.replace("#","");if(this._hashName){let v;return p.split("&").map(_=>_.split("=")).forEach(_=>{_[0]===this._hashName&&(v=_)}),(v&&v[1]||"").split("/")}return p.split("/")},this._onHashChange=()=>{const p=this._getCurrentHash();if(p.length>=3&&!p.some(v=>isNaN(v))){const v=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(p[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+p[2],+p[1]],zoom:+p[0],bearing:v,pitch:+(p[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const p=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,p)}catch{}},this._updateHash=Sc(this._updateHashUnthrottled,300),this._hashName=c&&encodeURIComponent(c)}addTo(c){return this._map=c,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(c){const p=this._map.getCenter(),v=Math.round(100*this._map.getZoom())/100,_=Math.ceil((v*Math.LN2+Math.log(512/360/.5))/Math.LN10),k=Math.pow(10,_),j=Math.round(p.lng*k)/k,z=Math.round(p.lat*k)/k,V=this._map.getBearing(),H=this._map.getPitch();let Y="";if(Y+=c?`/${j}/${z}/${v}`:`${v}/${z}/${j}`,(V||H)&&(Y+="/"+Math.round(10*V)/10),H&&(Y+=`/${Math.round(H)}`),this._hashName){const K=this._hashName;let re=!1;const me=window.location.hash.slice(1).split("&").map(pe=>{const ve=pe.split("=")[0];return ve===K?(re=!0,`${ve}=${Y}`):pe}).filter(pe=>pe);return re||me.push(`${K}=${Y}`),`#${me.join("&")}`}return`#${Y}`}}const zu={linearity:.3,easing:a.ba(0,0,.3,1)},Zb=a.e({deceleration:2500,maxSpeed:1400},zu),Xb=a.e({deceleration:20,maxSpeed:1400},zu),Jb=a.e({deceleration:1e3,maxSpeed:360},zu),Qb=a.e({deceleration:1e3,maxSpeed:90},zu);class e_{constructor(c){this._map=c,this.clear()}clear(){this._inertiaBuffer=[]}record(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.h.now(),settings:c})}_drainInertiaBuffer(){const c=this._inertiaBuffer,p=a.h.now();for(;c.length>0&&p-c[0].time>160;)c.shift()}_onMoveEnd(c){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const p={zoom:0,bearing:0,pitch:0,pan:new a.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:k}of this._inertiaBuffer)p.zoom+=k.zoomDelta||0,p.bearing+=k.bearingDelta||0,p.pitch+=k.pitchDelta||0,k.panDelta&&p.pan._add(k.panDelta),k.around&&(p.around=k.around),k.pinchAround&&(p.pinchAround=k.pinchAround);const v=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,_={};if(p.pan.mag()){const k=ff(p.pan.mag(),v,a.e({},Zb,c||{}));_.offset=p.pan.mult(k.amount/p.pan.mag()),_.center=this._map.transform.center,cs(_,k)}if(p.zoom){const k=ff(p.zoom,v,Xb);_.zoom=this._map.transform.zoom+k.amount,cs(_,k)}if(p.bearing){const k=ff(p.bearing,v,Jb);_.bearing=this._map.transform.bearing+a.ad(k.amount,-179,179),cs(_,k)}if(p.pitch){const k=ff(p.pitch,v,Qb);_.pitch=this._map.transform.pitch+k.amount,cs(_,k)}if(_.zoom||_.bearing){const k=p.pinchAround===void 0?p.around:p.pinchAround;_.around=k?this._map.unproject(k):this._map.getCenter()}return this.clear(),a.e(_,{noMoveStart:!0})}}function cs(w,c){(!w.duration||w.duration<c.duration)&&(w.duration=c.duration,w.easing=c.easing)}function ff(w,c,p){const{maxSpeed:v,linearity:_,deceleration:k}=p,j=a.ad(w*_/(c/1e3),-v,v),z=Math.abs(j)/(k*_);return{easing:p.easing,duration:1e3*z,amount:j*(z/2)}}class Yo extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,v,_={}){const k=h.mousePos(p.getCanvasContainer(),v),j=p.unproject(k);super(c,a.e({point:k,lngLat:j,originalEvent:v},_)),this._defaultPrevented=!1,this.target=p}}class hf extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,v){const _=c==="touchend"?v.changedTouches:v.touches,k=h.touchPos(p.getCanvasContainer(),_),j=k.map(V=>p.unproject(V)),z=k.reduce((V,H,Y,K)=>V.add(H.div(K.length)),new a.P(0,0));super(c,{points:k,point:z,lngLats:j,lngLat:p.unproject(z),originalEvent:v}),this._defaultPrevented=!1}}class t_ extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,v){super(c,{originalEvent:v}),this._defaultPrevented=!1}}class n_{constructor(c,p){this._map=c,this._clickTolerance=p.clickTolerance}reset(){delete this._mousedownPos}wheel(c){return this._firePreventable(new t_(c.type,this._map,c))}mousedown(c,p){return this._mousedownPos=p,this._firePreventable(new Yo(c.type,this._map,c))}mouseup(c){this._map.fire(new Yo(c.type,this._map,c))}click(c,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||this._map.fire(new Yo(c.type,this._map,c))}dblclick(c){return this._firePreventable(new Yo(c.type,this._map,c))}mouseover(c){this._map.fire(new Yo(c.type,this._map,c))}mouseout(c){this._map.fire(new Yo(c.type,this._map,c))}touchstart(c){return this._firePreventable(new hf(c.type,this._map,c))}touchmove(c){this._map.fire(new hf(c.type,this._map,c))}touchend(c){this._map.fire(new hf(c.type,this._map,c))}touchcancel(c){this._map.fire(new hf(c.type,this._map,c))}_firePreventable(c){if(this._map.fire(c),c.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class r_{constructor(c){this._map=c}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(c){this._map.fire(new Yo(c.type,this._map,c))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Yo("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(c){this._delayContextMenu?this._contextMenuEvent=c:this._ignoreContextMenu||this._map.fire(new Yo(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Zs{constructor(c){this._map=c}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(c){return this.transform.pointLocation(a.P.convert(c),this._map.terrain)}}class i_{constructor(c,p){this._map=c,this._tr=new Zs(c),this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=p.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(c,p){this.isEnabled()&&c.shiftKey&&c.button===0&&(h.disableDrag(),this._startPos=this._lastPos=p,this._active=!0)}mousemoveWindow(c,p){if(!this._active)return;const v=p;if(this._lastPos.equals(v)||!this._box&&v.dist(this._startPos)<this._clickTolerance)return;const _=this._startPos;this._lastPos=v,this._box||(this._box=h.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",c));const k=Math.min(_.x,v.x),j=Math.max(_.x,v.x),z=Math.min(_.y,v.y),V=Math.max(_.y,v.y);h.setTransform(this._box,`translate(${k}px,${z}px)`),this._box.style.width=j-k+"px",this._box.style.height=V-z+"px"}mouseupWindow(c,p){if(!this._active||c.button!==0)return;const v=this._startPos,_=p;if(this.reset(),h.suppressClick(),v.x!==_.x||v.y!==_.y)return this._map.fire(new a.k("boxzoomend",{originalEvent:c})),{cameraAnimation:k=>k.fitScreenCoordinates(v,_,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",c)}keydown(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(h.remove(this._box),this._box=null),h.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(c,p){return this._map.fire(new a.k(c,{originalEvent:p}))}}function ya(w,c){if(w.length!==c.length)throw new Error(`The number of touches and points are not equal - touches ${w.length}, points ${c.length}`);const p={};for(let v=0;v<w.length;v++)p[w[v].identifier]=c[v];return p}class Xs{constructor(c){this.reset(),this.numTouches=c.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(c,p,v){(this.centroid||v.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=c.timeStamp),v.length===this.numTouches&&(this.centroid=function(_){const k=new a.P(0,0);for(const j of _)k._add(j);return k.div(_.length)}(p),this.touches=ya(v,p)))}touchmove(c,p,v){if(this.aborted||!this.centroid)return;const _=ya(v,p);for(const k in this.touches){const j=_[k];(!j||j.dist(this.touches[k])>30)&&(this.aborted=!0)}}touchend(c,p,v){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),v.length===0){const _=!this.aborted&&this.centroid;if(this.reset(),_)return _}}}class tp{constructor(c){this.singleTap=new Xs(c),this.numTaps=c.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(c,p,v){this.singleTap.touchstart(c,p,v)}touchmove(c,p,v){this.singleTap.touchmove(c,p,v)}touchend(c,p,v){const _=this.singleTap.touchend(c,p,v);if(_){const k=c.timeStamp-this.lastTime<500,j=!this.lastTap||this.lastTap.dist(_)<30;if(k&&j||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=_,this.count===this.numTaps)return this.reset(),_}}}class Js{constructor(c){this._tr=new Zs(c),this._zoomIn=new tp({numTouches:1,numTaps:2}),this._zoomOut=new tp({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(c,p,v){this._zoomIn.touchstart(c,p,v),this._zoomOut.touchstart(c,p,v)}touchmove(c,p,v){this._zoomIn.touchmove(c,p,v),this._zoomOut.touchmove(c,p,v)}touchend(c,p,v){const _=this._zoomIn.touchend(c,p,v),k=this._zoomOut.touchend(c,p,v),j=this._tr;return _?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:z=>z.easeTo({duration:300,zoom:j.zoom+1,around:j.unproject(_)},{originalEvent:c})}):k?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:z=>z.easeTo({duration:300,zoom:j.zoom-1,around:j.unproject(k)},{originalEvent:c})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Qs{constructor(c){this._enabled=!!c.enable,this._moveStateManager=c.moveStateManager,this._clickTolerance=c.clickTolerance||1,this._moveFunction=c.move,this._activateOnStart=!!c.activateOnStart,c.assignEvents(this),this.reset()}reset(c){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(c)}_move(...c){const p=this._moveFunction(...c);if(p.bearingDelta||p.pitchDelta||p.around||p.panDelta)return this._active=!0,p}dragStart(c,p){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(c)&&(this._moveStateManager.startMove(c),this._lastPoint=p.length?p[0]:p,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(c,p){if(!this.isEnabled())return;const v=this._lastPoint;if(!v)return;if(c.preventDefault(),!this._moveStateManager.isValidMoveEvent(c))return void this.reset(c);const _=p.length?p[0]:p;return!this._moved&&_.dist(v)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=_,this._move(v,_))}dragEnd(c){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(c)&&(this._moved&&h.suppressClick(),this.reset(c))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const lT={0:1,2:2};class vy{constructor(c){this._correctEvent=c.checkCorrectEvent}startMove(c){const p=h.mouseButton(c);this._eventButton=p}endMove(c){delete this._eventButton}isValidStartEvent(c){return this._correctEvent(c)}isValidMoveEvent(c){return!function(p,v){const _=lT[v];return p.buttons===void 0||(p.buttons&_)!==_}(c,this._eventButton)}isValidEndEvent(c){return h.mouseButton(c)===this._eventButton}}class o_{constructor(){this._firstTouch=void 0}_isOneFingerTouch(c){return c.targetTouches.length===1}_isSameTouchEvent(c){return c.targetTouches[0].identifier===this._firstTouch}startMove(c){this._firstTouch=c.targetTouches[0].identifier}endMove(c){delete this._firstTouch}isValidStartEvent(c){return this._isOneFingerTouch(c)}isValidMoveEvent(c){return this._isOneFingerTouch(c)&&this._isSameTouchEvent(c)}isValidEndEvent(c){return this._isOneFingerTouch(c)&&this._isSameTouchEvent(c)}}const np=w=>{w.mousedown=w.dragStart,w.mousemoveWindow=w.dragMove,w.mouseup=w.dragEnd,w.contextmenu=function(c){c.preventDefault()}},Bu=({enable:w,clickTolerance:c,bearingDegreesPerPixelMoved:p=.8})=>{const v=new vy({checkCorrectEvent:_=>h.mouseButton(_)===0&&_.ctrlKey||h.mouseButton(_)===2});return new Qs({clickTolerance:c,move:(_,k)=>({bearingDelta:(k.x-_.x)*p}),moveStateManager:v,enable:w,assignEvents:np})},el=({enable:w,clickTolerance:c,pitchDegreesPerPixelMoved:p=-.5})=>{const v=new vy({checkCorrectEvent:_=>h.mouseButton(_)===0&&_.ctrlKey||h.mouseButton(_)===2});return new Qs({clickTolerance:c,move:(_,k)=>({pitchDelta:(k.y-_.y)*p}),moveStateManager:v,enable:w,assignEvents:np})};class Ot{constructor(c,p){this._minTouches=c.cooperativeGestures?2:1,this._clickTolerance=c.clickTolerance||1,this._map=p,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.P(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(c,p,v){return this._calculateTransform(c,p,v)}touchmove(c,p,v){if(this._map._cooperativeGestures&&(this._minTouches===2&&v.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(c,!1,v.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(v.length<this._minTouches))return c.preventDefault(),this._calculateTransform(c,p,v)}touchend(c,p,v){this._calculateTransform(c,p,v),this._active&&v.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(c,p,v){v.length>0&&(this._active=!0);const _=ya(v,p),k=new a.P(0,0),j=new a.P(0,0);let z=0;for(const H in _){const Y=_[H],K=this._touches[H];K&&(k._add(Y),j._add(Y.sub(K)),z++,_[H]=Y)}if(this._touches=_,z<this._minTouches||!j.mag())return;const V=j.div(z);return this._sum._add(V),this._sum.mag()<this._clickTolerance?void 0:{around:k.div(z),panDelta:V}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class rp{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(c,p,v){this._firstTwoTouches||v.length<2||(this._firstTwoTouches=[v[0].identifier,v[1].identifier],this._start([p[0],p[1]]))}touchmove(c,p,v){if(!this._firstTwoTouches)return;c.preventDefault();const[_,k]=this._firstTwoTouches,j=Ll(v,p,_),z=Ll(v,p,k);if(!j||!z)return;const V=this._aroundCenter?null:j.add(z).div(2);return this._move([j,z],V,c)}touchend(c,p,v){if(!this._firstTwoTouches)return;const[_,k]=this._firstTwoTouches,j=Ll(v,p,_),z=Ll(v,p,k);j&&z||(this._active&&h.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Ll(w,c,p){for(let v=0;v<w.length;v++)if(w[v].identifier===p)return c[v]}function Fu(w,c){return Math.log(w/c)/Math.LN2}class a_ extends rp{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(c){this._startDistance=this._distance=c[0].dist(c[1])}_move(c,p){const v=this._distance;if(this._distance=c[0].dist(c[1]),this._active||!(Math.abs(Fu(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Fu(this._distance,v),pinchAround:p}}}function Ct(w,c){return 180*w.angleWith(c)/Math.PI}class xy extends rp{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(c){this._startVector=this._vector=c[0].sub(c[1]),this._minDiameter=c[0].dist(c[1])}_move(c,p){const v=this._vector;if(this._vector=c[0].sub(c[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Ct(this._vector,v),pinchAround:p}}_isBelowThreshold(c){this._minDiameter=Math.min(this._minDiameter,c.mag());const p=25/(Math.PI*this._minDiameter)*360,v=Ct(c,this._startVector);return Math.abs(v)<p}}function by(w){return Math.abs(w.y)>Math.abs(w.x)}class cT extends rp{constructor(c){super(),this._map=c}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(c,p,v){super.touchstart(c,p,v),this._currentTouchCount=v.length}_start(c){this._lastPoints=c,by(c[0].sub(c[1]))&&(this._valid=!1)}_move(c,p,v){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const _=c[0].sub(this._lastPoints[0]),k=c[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(_,k,v.timeStamp),this._valid?(this._lastPoints=c,this._active=!0,{pitchDelta:(_.y+k.y)/2*-.5}):void 0}gestureBeginsVertically(c,p,v){if(this._valid!==void 0)return this._valid;const _=c.mag()>=2,k=p.mag()>=2;if(!_&&!k)return;if(!_||!k)return this._firstMove===void 0&&(this._firstMove=v),v-this._firstMove<100&&void 0;const j=c.y>0==p.y>0;return by(c)&&by(p)&&j}}const _y={panStep:100,bearingStep:15,pitchStep:10};class s_{constructor(c){this._tr=new Zs(c);const p=_y;this._panStep=p.panStep,this._bearingStep=p.bearingStep,this._pitchStep=p.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(c){if(c.altKey||c.ctrlKey||c.metaKey)return;let p=0,v=0,_=0,k=0,j=0;switch(c.keyCode){case 61:case 107:case 171:case 187:p=1;break;case 189:case 109:case 173:p=-1;break;case 37:c.shiftKey?v=-1:(c.preventDefault(),k=-1);break;case 39:c.shiftKey?v=1:(c.preventDefault(),k=1);break;case 38:c.shiftKey?_=1:(c.preventDefault(),j=-1);break;case 40:c.shiftKey?_=-1:(c.preventDefault(),j=1);break;default:return}return this._rotationDisabled&&(v=0,_=0),{cameraAnimation:z=>{const V=this._tr;z.easeTo({duration:300,easeId:"keyboardHandler",easing:l_,zoom:p?Math.round(V.zoom)+p*(c.shiftKey?2:1):V.zoom,bearing:V.bearing+v*this._bearingStep,pitch:V.pitch+_*this._pitchStep,offset:[-k*this._panStep,-j*this._panStep],center:V.center},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function l_(w){return w*(2-w)}const c_=4.000244140625;class uT{constructor(c,p){this._onTimeout=v=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(v)},this._map=c,this._tr=new Zs(c),this._el=c.getCanvasContainer(),this._triggerRenderFrame=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(c){this._defaultZoomRate=c}setWheelZoomRate(c){this._wheelZoomRate=c}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!c&&c.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(c){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!c[this._map._metaKey])return;c.preventDefault()}let p=c.deltaMode===WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY;const v=a.h.now(),_=v-(this._lastWheelEventTime||0);this._lastWheelEventTime=v,p!==0&&p%c_==0?this._type="wheel":p!==0&&Math.abs(p)<4?this._type="trackpad":_>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(_*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),c.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=c,this._delta-=p,this._active||this._start(c)),c.preventDefault()}_start(c){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const p=h.mousePos(this._el,c),v=this._tr;this._around=a.L.convert(this._aroundCenter?v.center:v.unproject(p)),this._aroundPoint=v.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const c=this._tr.transform;if(this._delta!==0){const z=this._type==="wheel"&&Math.abs(this._delta)>c_?this._wheelZoomRate:this._defaultZoomRate;let V=2/(1+Math.exp(-Math.abs(this._delta*z)));this._delta<0&&V!==0&&(V=1/V);const H=typeof this._targetZoom=="number"?c.zoomScale(this._targetZoom):c.scale;this._targetZoom=Math.min(c.maxZoom,Math.max(c.minZoom,c.scaleZoom(H*V))),this._type==="wheel"&&(this._startZoom=c.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const p=typeof this._targetZoom=="number"?this._targetZoom:c.zoom,v=this._startZoom,_=this._easing;let k,j=!1;if(this._type==="wheel"&&v&&_){const z=Math.min((a.h.now()-this._lastWheelEventTime)/200,1),V=_(z);k=a.B.number(v,p,V),z<1?this._frameId||(this._frameId=!0):j=!0}else k=p,j=!0;return this._active=!0,j&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!j,zoomDelta:k-c.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(c){let p=a.bb;if(this._prevEase){const v=this._prevEase,_=(a.h.now()-v.start)/v.duration,k=v.easing(_+.01)-v.easing(_),j=.27/Math.sqrt(k*k+1e-4)*.01,z=Math.sqrt(.0729-j*j);p=a.ba(j,z,.25,1)}return this._prevEase={start:a.h.now(),duration:c,easing:p},p}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class wy{constructor(c,p){this._clickZoom=c,this._tapZoom=p}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Sy{constructor(c){this._tr=new Zs(c),this.reset()}reset(){this._active=!1}dblclick(c,p){return c.preventDefault(),{cameraAnimation:v=>{v.easeTo({duration:300,zoom:this._tr.zoom+(c.shiftKey?-1:1),around:this._tr.unproject(p)},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Cy{constructor(){this._tap=new tp({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(c,p,v){if(!this._swipePoint)if(this._tapTime){const _=p[0],k=c.timeStamp-this._tapTime<500,j=this._tapPoint.dist(_)<30;k&&j?v.length>0&&(this._swipePoint=_,this._swipeTouch=v[0].identifier):this.reset()}else this._tap.touchstart(c,p,v)}touchmove(c,p,v){if(this._tapTime){if(this._swipePoint){if(v[0].identifier!==this._swipeTouch)return;const _=p[0],k=_.y-this._swipePoint.y;return this._swipePoint=_,c.preventDefault(),this._active=!0,{zoomDelta:k/128}}}else this._tap.touchmove(c,p,v)}touchend(c,p,v){if(this._tapTime)this._swipePoint&&v.length===0&&this.reset();else{const _=this._tap.touchend(c,p,v);_&&(this._tapTime=c.timeStamp,this._tapPoint=_)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ky{constructor(c,p,v){this._el=c,this._mousePan=p,this._touchPan=v}enable(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class wo{constructor(c,p,v){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=p,this._mousePitch=v}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class jl{constructor(c,p,v,_){this._el=c,this._touchZoom=p,this._touchRotate=v,this._tapDragZoom=_,this._rotationDisabled=!1,this._enabled=!0}enable(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const pf=w=>w.zoom||w.drag||w.pitch||w.rotate;class Ty extends a.k{}function mf(w){return w.panDelta&&w.panDelta.mag()||w.zoomDelta||w.bearingDelta||w.pitchDelta}class Py{constructor(c,p){this.handleWindowEvent=_=>{this.handleEvent(_,`${_.type}Window`)},this.handleEvent=(_,k)=>{if(_.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const j=_.type==="renderFrame"?void 0:_,z={needsRenderFrame:!1},V={},H={},Y=_.touches,K=Y?this._getMapTouches(Y):void 0,re=K?h.touchPos(this._el,K):h.mousePos(this._el,_);for(const{handlerName:ve,handler:de,allowed:Ae}of this._handlers){if(!de.isEnabled())continue;let Ne;this._blockedByActive(H,Ae,ve)?de.reset():de[k||_.type]&&(Ne=de[k||_.type](_,re,K),this.mergeHandlerResult(z,V,Ne,ve,j),Ne&&Ne.needsRenderFrame&&this._triggerRenderFrame()),(Ne||de.isActive())&&(H[ve]=de)}const me={};for(const ve in this._previousActiveHandlers)H[ve]||(me[ve]=j);this._previousActiveHandlers=H,(Object.keys(me).length||mf(z))&&(this._changes.push([z,V,me]),this._triggerRenderFrame()),(Object.keys(H).length||mf(z))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:pe}=z;pe&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],pe(this._map))},this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new e_(c),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(p);const v=this._el;this._listeners=[[v,"touchstart",{passive:!0}],[v,"touchmove",{passive:!1}],[v,"touchend",void 0],[v,"touchcancel",void 0],[v,"mousedown",void 0],[v,"mousemove",void 0],[v,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[v,"mouseover",void 0],[v,"mouseout",void 0],[v,"dblclick",void 0],[v,"click",void 0],[v,"keydown",{capture:!1}],[v,"keyup",void 0],[v,"wheel",{passive:!1}],[v,"contextmenu",void 0],[window,"blur",void 0]];for(const[_,k,j]of this._listeners)h.addEventListener(_,k,_===document?this.handleWindowEvent:this.handleEvent,j)}destroy(){for(const[c,p,v]of this._listeners)h.removeEventListener(c,p,c===document?this.handleWindowEvent:this.handleEvent,v)}_addDefaultHandlers(c){const p=this._map,v=p.getCanvasContainer();this._add("mapEvent",new n_(p,c));const _=p.boxZoom=new i_(p,c);this._add("boxZoom",_),c.interactive&&c.boxZoom&&_.enable();const k=new Js(p),j=new Sy(p);p.doubleClickZoom=new wy(j,k),this._add("tapZoom",k),this._add("clickZoom",j),c.interactive&&c.doubleClickZoom&&p.doubleClickZoom.enable();const z=new Cy;this._add("tapDragZoom",z);const V=p.touchPitch=new cT(p);this._add("touchPitch",V),c.interactive&&c.touchPitch&&p.touchPitch.enable(c.touchPitch);const H=Bu(c),Y=el(c);p.dragRotate=new wo(c,H,Y),this._add("mouseRotate",H,["mousePitch"]),this._add("mousePitch",Y,["mouseRotate"]),c.interactive&&c.dragRotate&&p.dragRotate.enable();const K=(({enable:Ae,clickTolerance:Ne})=>{const Se=new vy({checkCorrectEvent:$e=>h.mouseButton($e)===0&&!$e.ctrlKey});return new Qs({clickTolerance:Ne,move:($e,Fe)=>({around:Fe,panDelta:Fe.sub($e)}),activateOnStart:!0,moveStateManager:Se,enable:Ae,assignEvents:np})})(c),re=new Ot(c,p);p.dragPan=new ky(v,K,re),this._add("mousePan",K),this._add("touchPan",re,["touchZoom","touchRotate"]),c.interactive&&c.dragPan&&p.dragPan.enable(c.dragPan);const me=new xy,pe=new a_;p.touchZoomRotate=new jl(v,pe,me,z),this._add("touchRotate",me,["touchPan","touchZoom"]),this._add("touchZoom",pe,["touchPan","touchRotate"]),c.interactive&&c.touchZoomRotate&&p.touchZoomRotate.enable(c.touchZoomRotate);const ve=p.scrollZoom=new uT(p,()=>this._triggerRenderFrame());this._add("scrollZoom",ve,["mousePan"]),c.interactive&&c.scrollZoom&&p.scrollZoom.enable(c.scrollZoom);const de=p.keyboard=new s_(p);this._add("keyboard",de),c.interactive&&c.keyboard&&p.keyboard.enable(),this._add("blockableMapEvent",new r_(p))}_add(c,p,v){this._handlers.push({handlerName:c,handler:p,allowed:v}),this._handlersById[c]=p}stop(c){if(!this._updatingCamera){for(const{handler:p}of this._handlers)p.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}}isActive(){for(const{handler:c}of this._handlers)if(c.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!pf(this._eventsInProgress)||this.isZooming()}_blockedByActive(c,p,v){for(const _ in c)if(_!==v&&(!p||p.indexOf(_)<0))return!0;return!1}_getMapTouches(c){const p=[];for(const v of c)this._el.contains(v.target)&&p.push(v);return p}mergeHandlerResult(c,p,v,_,k){if(!v)return;a.e(c,v);const j={handlerName:_,originalEvent:v.originalEvent||k};v.zoomDelta!==void 0&&(p.zoom=j),v.panDelta!==void 0&&(p.drag=j),v.pitchDelta!==void 0&&(p.pitch=j),v.bearingDelta!==void 0&&(p.rotate=j)}_applyChanges(){const c={},p={},v={};for(const[_,k,j]of this._changes)_.panDelta&&(c.panDelta=(c.panDelta||new a.P(0,0))._add(_.panDelta)),_.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+_.zoomDelta),_.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+_.bearingDelta),_.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+_.pitchDelta),_.around!==void 0&&(c.around=_.around),_.pinchAround!==void 0&&(c.pinchAround=_.pinchAround),_.noInertia&&(c.noInertia=_.noInertia),a.e(p,k),a.e(v,j);this._updateMapTransform(c,p,v),this._changes=[]}_updateMapTransform(c,p,v){const _=this._map,k=_._getTransformForUpdate(),j=_.terrain;if(!(mf(c)||j&&this._terrainMovement))return this._fireEvents(p,v,!0);let{panDelta:z,zoomDelta:V,bearingDelta:H,pitchDelta:Y,around:K,pinchAround:re}=c;re!==void 0&&(K=re),_._stop(!0),K=K||_.transform.centerPoint;const me=k.pointLocation(z?K.sub(z):K);H&&(k.bearing+=H),Y&&(k.pitch+=Y),V&&(k.zoom+=V),j?this._terrainMovement||!p.drag&&!p.zoom?p.drag&&this._terrainMovement?k.center=k.pointLocation(k.centerPoint.sub(z)):k.setLocationAtPoint(me,K):(this._terrainMovement=!0,this._map._elevationFreeze=!0,k.setLocationAtPoint(me,K),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,k.recalculateZoom(_.terrain)})):k.setLocationAtPoint(me,K),_._applyUpdatedTransform(k),this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(p,v,!0)}_fireEvents(c,p,v){const _=pf(this._eventsInProgress),k=pf(c),j={};for(const Y in c){const{originalEvent:K}=c[Y];this._eventsInProgress[Y]||(j[`${Y}start`]=K),this._eventsInProgress[Y]=c[Y]}!_&&k&&this._fireEvent("movestart",k.originalEvent);for(const Y in j)this._fireEvent(Y,j[Y]);k&&this._fireEvent("move",k.originalEvent);for(const Y in c){const{originalEvent:K}=c[Y];this._fireEvent(Y,K)}const z={};let V;for(const Y in this._eventsInProgress){const{handlerName:K,originalEvent:re}=this._eventsInProgress[Y];this._handlersById[K].isActive()||(delete this._eventsInProgress[Y],V=p[K]||re,z[`${Y}end`]=V)}for(const Y in z)this._fireEvent(Y,z[Y]);const H=pf(this._eventsInProgress);if(v&&(_||k)&&!H){this._updatingCamera=!0;const Y=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),K=re=>re!==0&&-this._bearingSnap<re&&re<this._bearingSnap;!Y||!Y.essential&&a.h.prefersReducedMotion?(this._map.fire(new a.k("moveend",{originalEvent:V})),K(this._map.getBearing())&&this._map.resetNorth()):(K(Y.bearing||this._map.getBearing())&&(Y.bearing=0),Y.freezeElevation=!0,this._map.easeTo(Y,{originalEvent:V})),this._updatingCamera=!1}}_fireEvent(c,p){this._map.fire(new a.k(c,p?{originalEvent:p}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(c=>{delete this._frameId,this.handleEvent(new Ty("renderFrame",{timeStamp:c})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class u_ extends a.E{constructor(c,p){super(),this._renderFrameCallback=()=>{const v=Math.min((a.h.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(v)),v<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=c,this._bearingSnap=p.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new a.L(this.transform.center.lng,this.transform.center.lat)}setCenter(c,p){return this.jumpTo({center:c},p)}panBy(c,p,v){return c=a.P.convert(c).mult(-1),this.panTo(this.transform.center,a.e({offset:c},p),v)}panTo(c,p,v){return this.easeTo(a.e({center:c},p),v)}getZoom(){return this.transform.zoom}setZoom(c,p){return this.jumpTo({zoom:c},p),this}zoomTo(c,p,v){return this.easeTo(a.e({zoom:c},p),v)}zoomIn(c,p){return this.zoomTo(this.getZoom()+1,c,p),this}zoomOut(c,p){return this.zoomTo(this.getZoom()-1,c,p),this}getBearing(){return this.transform.bearing}setBearing(c,p){return this.jumpTo({bearing:c},p),this}getPadding(){return this.transform.padding}setPadding(c,p){return this.jumpTo({padding:c},p),this}rotateTo(c,p,v){return this.easeTo(a.e({bearing:c},p),v)}resetNorth(c,p){return this.rotateTo(0,a.e({duration:1e3},c),p),this}resetNorthPitch(c,p){return this.easeTo(a.e({bearing:0,pitch:0,duration:1e3},c),p),this}snapToNorth(c,p){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(c,p):this}getPitch(){return this.transform.pitch}setPitch(c,p){return this.jumpTo({pitch:c},p),this}cameraForBounds(c,p){c=Ke.convert(c);const v=p&&p.bearing||0;return this._cameraForBoxAndBearing(c.getNorthWest(),c.getSouthEast(),v,p)}_cameraForBoxAndBearing(c,p,v,_){const k={top:0,bottom:0,right:0,left:0};if(typeof(_=a.e({padding:k,offset:[0,0],maxZoom:this.transform.maxZoom},_)).padding=="number"){const Fe=_.padding;_.padding={top:Fe,bottom:Fe,right:Fe,left:Fe}}_.padding=a.e(k,_.padding);const j=this.transform,z=j.padding,V=j.project(a.L.convert(c)),H=j.project(a.L.convert(p)),Y=V.rotate(-v*Math.PI/180),K=H.rotate(-v*Math.PI/180),re=new a.P(Math.max(Y.x,K.x),Math.max(Y.y,K.y)),me=new a.P(Math.min(Y.x,K.x),Math.min(Y.y,K.y)),pe=re.sub(me),ve=(j.width-(z.left+z.right+_.padding.left+_.padding.right))/pe.x,de=(j.height-(z.top+z.bottom+_.padding.top+_.padding.bottom))/pe.y;if(de<0||ve<0)return void a.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const Ae=Math.min(j.scaleZoom(j.scale*Math.min(ve,de)),_.maxZoom),Ne=a.P.convert(_.offset),Se=new a.P((_.padding.left-_.padding.right)/2,(_.padding.top-_.padding.bottom)/2).rotate(v*Math.PI/180),$e=Ne.add(Se).mult(j.scale/j.zoomScale(Ae));return{center:j.unproject(V.add(H).div(2).sub($e)),zoom:Ae,bearing:v}}fitBounds(c,p,v){return this._fitInternal(this.cameraForBounds(c,p),p,v)}fitScreenCoordinates(c,p,v,_,k){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.P.convert(c)),this.transform.pointLocation(a.P.convert(p)),v,_),_,k)}_fitInternal(c,p,v){return c?(delete(p=a.e(c,p)).padding,p.linear?this.easeTo(p,v):this.flyTo(p,v)):this}jumpTo(c,p){this.stop();const v=this._getTransformForUpdate();let _=!1,k=!1,j=!1;return"zoom"in c&&v.zoom!==+c.zoom&&(_=!0,v.zoom=+c.zoom),c.center!==void 0&&(v.center=a.L.convert(c.center)),"bearing"in c&&v.bearing!==+c.bearing&&(k=!0,v.bearing=+c.bearing),"pitch"in c&&v.pitch!==+c.pitch&&(j=!0,v.pitch=+c.pitch),c.padding==null||v.isPaddingEqual(c.padding)||(v.padding=c.padding),this._applyUpdatedTransform(v),this.fire(new a.k("movestart",p)).fire(new a.k("move",p)),_&&this.fire(new a.k("zoomstart",p)).fire(new a.k("zoom",p)).fire(new a.k("zoomend",p)),k&&this.fire(new a.k("rotatestart",p)).fire(new a.k("rotate",p)).fire(new a.k("rotateend",p)),j&&this.fire(new a.k("pitchstart",p)).fire(new a.k("pitch",p)).fire(new a.k("pitchend",p)),this.fire(new a.k("moveend",p))}calculateCameraOptionsFromTo(c,p,v,_=0){const k=a.U.fromLngLat(c,p),j=a.U.fromLngLat(v,_),z=j.x-k.x,V=j.y-k.y,H=j.z-k.z,Y=Math.hypot(z,V,H);if(Y===0)throw new Error("Can't calculate camera options with same From and To");const K=Math.hypot(z,V),re=this.transform.scaleZoom(this.transform.cameraToCenterDistance/Y/this.transform.tileSize),me=180*Math.atan2(z,-V)/Math.PI;let pe=180*Math.acos(K/Y)/Math.PI;return pe=H<0?90-pe:90+pe,{center:j.toLngLat(),zoom:re,pitch:pe,bearing:me}}easeTo(c,p){this._stop(!1,c.easeId),((c=a.e({offset:[0,0],duration:500,easing:a.bb},c)).animate===!1||!c.essential&&a.h.prefersReducedMotion)&&(c.duration=0);const v=this._getTransformForUpdate(),_=this.getZoom(),k=this.getBearing(),j=this.getPitch(),z=this.getPadding(),V="zoom"in c?+c.zoom:_,H="bearing"in c?this._normalizeBearing(c.bearing,k):k,Y="pitch"in c?+c.pitch:j,K="padding"in c?c.padding:v.padding,re=a.P.convert(c.offset);let me=v.centerPoint.add(re);const pe=v.pointLocation(me),ve=a.L.convert(c.center||pe);this._normalizeCenter(ve);const de=v.project(pe),Ae=v.project(ve).sub(de),Ne=v.zoomScale(V-_);let Se,$e;c.around&&(Se=a.L.convert(c.around),$e=v.locationPoint(Se));const Fe={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||V!==_,this._rotating=this._rotating||k!==H,this._pitching=this._pitching||Y!==j,this._padding=!v.isPaddingEqual(K),this._easeId=c.easeId,this._prepareEase(p,c.noMoveStart,Fe),this.terrain&&this._prepareElevation(ve),this._ease(Ue=>{if(this._zooming&&(v.zoom=a.B.number(_,V,Ue)),this._rotating&&(v.bearing=a.B.number(k,H,Ue)),this._pitching&&(v.pitch=a.B.number(j,Y,Ue)),this._padding&&(v.interpolatePadding(z,K,Ue),me=v.centerPoint.add(re)),this.terrain&&!c.freezeElevation&&this._updateElevation(Ue),Se)v.setLocationAtPoint(Se,$e);else{const Xe=v.zoomScale(v.zoom-_),it=V>_?Math.min(2,Ne):Math.max(.5,Ne),tt=Math.pow(it,1-Ue),dt=v.unproject(de.add(Ae.mult(Ue*tt)).mult(Xe));v.setLocationAtPoint(v.renderWorldCopies?dt.wrap():dt,me)}this._applyUpdatedTransform(v),this._fireMoveEvents(p)},Ue=>{this.terrain&&this._finalizeElevation(),this._afterEase(p,Ue)},c),this}_prepareEase(c,p,v={}){this._moving=!0,p||v.moving||this.fire(new a.k("movestart",c)),this._zooming&&!v.zooming&&this.fire(new a.k("zoomstart",c)),this._rotating&&!v.rotating&&this.fire(new a.k("rotatestart",c)),this._pitching&&!v.pitching&&this.fire(new a.k("pitchstart",c))}_prepareElevation(c){this._elevationCenter=c,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(c,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(c){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const p=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(c<1&&p!==this._elevationTarget){const v=this._elevationTarget-this._elevationStart;this._elevationStart+=c*(v-(p-(v*c+this._elevationStart))/(1-c)),this._elevationTarget=p}this.transform.elevation=a.B.number(this._elevationStart,this._elevationTarget,c)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(c){if(!this.transformCameraUpdate)return;const p=c.clone(),{center:v,zoom:_,pitch:k,bearing:j,elevation:z}=this.transformCameraUpdate(p);v&&(p.center=v),_!==void 0&&(p.zoom=_),k!==void 0&&(p.pitch=k),j!==void 0&&(p.bearing=j),z!==void 0&&(p.elevation=z),this.transform.apply(p)}_fireMoveEvents(c){this.fire(new a.k("move",c)),this._zooming&&this.fire(new a.k("zoom",c)),this._rotating&&this.fire(new a.k("rotate",c)),this._pitching&&this.fire(new a.k("pitch",c))}_afterEase(c,p){if(this._easeId&&p&&this._easeId===p)return;delete this._easeId;const v=this._zooming,_=this._rotating,k=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,v&&this.fire(new a.k("zoomend",c)),_&&this.fire(new a.k("rotateend",c)),k&&this.fire(new a.k("pitchend",c)),this.fire(new a.k("moveend",c))}flyTo(c,p){if(!c.essential&&a.h.prefersReducedMotion){const jt=a.F(c,["center","zoom","bearing","pitch","around"]);return this.jumpTo(jt,p)}this.stop(),c=a.e({offset:[0,0],speed:1.2,curve:1.42,easing:a.bb},c);const v=this._getTransformForUpdate(),_=this.getZoom(),k=this.getBearing(),j=this.getPitch(),z=this.getPadding(),V="zoom"in c?a.ad(+c.zoom,v.minZoom,v.maxZoom):_,H="bearing"in c?this._normalizeBearing(c.bearing,k):k,Y="pitch"in c?+c.pitch:j,K="padding"in c?c.padding:v.padding,re=v.zoomScale(V-_),me=a.P.convert(c.offset);let pe=v.centerPoint.add(me);const ve=v.pointLocation(pe),de=a.L.convert(c.center||ve);this._normalizeCenter(de);const Ae=v.project(ve),Ne=v.project(de).sub(Ae);let Se=c.curve;const $e=Math.max(v.width,v.height),Fe=$e/re,Ue=Ne.mag();if("minZoom"in c){const jt=a.ad(Math.min(c.minZoom,_,V),v.minZoom,v.maxZoom),Qn=$e/v.zoomScale(jt-_);Se=Math.sqrt(Qn/Ue*2)}const Xe=Se*Se;function it(jt){const Qn=(Fe*Fe-$e*$e+(jt?-1:1)*Xe*Xe*Ue*Ue)/(2*(jt?Fe:$e)*Xe*Ue);return Math.log(Math.sqrt(Qn*Qn+1)-Qn)}function tt(jt){return(Math.exp(jt)-Math.exp(-jt))/2}function dt(jt){return(Math.exp(jt)+Math.exp(-jt))/2}const Dt=it(!1);let wn=function(jt){return dt(Dt)/dt(Dt+Se*jt)},_t=function(jt){return $e*((dt(Dt)*(tt(Qn=Dt+Se*jt)/dt(Qn))-tt(Dt))/Xe)/Ue;var Qn},Qt=(it(!0)-Dt)/Se;if(Math.abs(Ue)<1e-6||!isFinite(Qt)){if(Math.abs($e-Fe)<1e-6)return this.easeTo(c,p);const jt=Fe<$e?-1:1;Qt=Math.abs(Math.log(Fe/$e))/Se,_t=function(){return 0},wn=function(Qn){return Math.exp(jt*Se*Qn)}}return c.duration="duration"in c?+c.duration:1e3*Qt/("screenSpeed"in c?+c.screenSpeed/Se:+c.speed),c.maxDuration&&c.duration>c.maxDuration&&(c.duration=0),this._zooming=!0,this._rotating=k!==H,this._pitching=Y!==j,this._padding=!v.isPaddingEqual(K),this._prepareEase(p,!1),this.terrain&&this._prepareElevation(de),this._ease(jt=>{const Qn=jt*Qt,xn=1/wn(Qn);v.zoom=jt===1?V:_+v.scaleZoom(xn),this._rotating&&(v.bearing=a.B.number(k,H,jt)),this._pitching&&(v.pitch=a.B.number(j,Y,jt)),this._padding&&(v.interpolatePadding(z,K,jt),pe=v.centerPoint.add(me)),this.terrain&&!c.freezeElevation&&this._updateElevation(jt);const mn=jt===1?de:v.unproject(Ae.add(Ne.mult(_t(Qn))).mult(xn));v.setLocationAtPoint(v.renderWorldCopies?mn.wrap():mn,pe),this._applyUpdatedTransform(v),this._fireMoveEvents(p)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(p)},c),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(c,p){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const v=this._onEaseEnd;delete this._onEaseEnd,v.call(this,p)}if(!c){const v=this.handlers;v&&v.stop(!1)}return this}_ease(c,p,v){v.animate===!1||v.duration===0?(c(1),p()):(this._easeStart=a.h.now(),this._easeOptions=v,this._onEaseFrame=c,this._onEaseEnd=p,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(c,p){c=a.b5(c,-180,180);const v=Math.abs(c-p);return Math.abs(c-360-p)<v&&(c-=360),Math.abs(c+360-p)<v&&(c+=360),c}_normalizeCenter(c){const p=this.transform;if(!p.renderWorldCopies||p.lngRange)return;const v=c.lng-p.center.lng;c.lng+=v>180?-360:v<-180?360:0}queryTerrainElevation(c){return this.terrain?this.terrain.getElevationForLngLatZoom(a.L.convert(c),this.transform.tileZoom)-this.transform.elevation:null}}class Ko{constructor(c={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=p=>{!p||p.sourceDataType!=="metadata"&&p.sourceDataType!=="visibility"&&p.dataType!=="style"&&p.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=c}getDefaultPosition(){return"bottom-right"}onAdd(c){return this._map=c,this._compact=this.options&&this.options.compact,this._container=h.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=h.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=h.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){h.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(c,p){const v=this._map._getUIString(`AttributionControl.${p}`);c.title=v,c.setAttribute("aria-label",v)}_updateAttributions(){if(!this._map.style)return;let c=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=c.concat(this.options.customAttribution.map(_=>typeof _!="string"?"":_)):typeof this.options.customAttribution=="string"&&c.push(this.options.customAttribution)),this._map.style.stylesheet){const _=this._map.style.stylesheet;this.styleOwner=_.owner,this.styleId=_.id}const p=this._map.style.sourceCaches;for(const _ in p){const k=p[_];if(k.used||k.usedForTerrain){const j=k.getSource();j.attribution&&c.indexOf(j.attribution)<0&&c.push(j.attribution)}}c=c.filter(_=>String(_).trim()),c.sort((_,k)=>_.length-k.length),c=c.filter((_,k)=>{for(let j=k+1;j<c.length;j++)if(c[j].indexOf(_)>=0)return!1;return!0});const v=c.join(" | ");v!==this._attribHTML&&(this._attribHTML=v,c.length?(this._innerContainer.innerHTML=v,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class br{constructor(c={}){this._updateCompact=()=>{const p=this._container.children;if(p.length){const v=p[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&v.classList.add("maplibregl-compact"):v.classList.remove("maplibregl-compact")}},this.options=c}getDefaultPosition(){return"bottom-left"}onAdd(c){this._map=c,this._compact=this.options&&this.options.compact,this._container=h.create("div","maplibregl-ctrl");const p=h.create("a","maplibregl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://maplibre.org/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){h.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class ip{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(c){const p=++this._id;return this._queue.push({callback:c,id:p,cancelled:!1}),p}remove(c){const p=this._currentlyRunning,v=p?this._queue.concat(p):this._queue;for(const _ of v)if(_.id===c)return void(_.cancelled=!0)}run(c=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const p=this._currentlyRunning=this._queue;this._queue=[];for(const v of p)if(!v.cancelled&&(v.callback(c),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const Ey={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var d_=a.Q([{name:"a_pos3d",type:"Int16",components:3}]);class f_ extends a.E{constructor(c){super(),this.sourceCache=c,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,c.usedForTerrain=!0,c.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(c,p){this.sourceCache.update(c,p),this._renderableTilesKeys=[];const v={};for(const _ of c.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:p}))v[_.key]=!0,this._renderableTilesKeys.push(_.key),this._tiles[_.key]||(_.posMatrix=new Float64Array(16),a.aS(_.posMatrix,0,a.N,0,a.N,0,1),this._tiles[_.key]=new _n(_,this.tileSize));for(const _ in this._tiles)v[_]||delete this._tiles[_]}freeRtt(c){for(const p in this._tiles){const v=this._tiles[p];(!c||v.tileID.equals(c)||v.tileID.isChildOf(c)||c.isChildOf(v.tileID))&&(v.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(c=>this.getTileByID(c))}getTileByID(c){return this._tiles[c]}getTerrainCoords(c){const p={};for(const v of this._renderableTilesKeys){const _=this._tiles[v].tileID;if(_.canonical.equals(c.canonical)){const k=c.clone();k.posMatrix=new Float64Array(16),a.aS(k.posMatrix,0,a.N,0,a.N,0,1),p[v]=k}else if(_.canonical.isChildOf(c.canonical)){const k=c.clone();k.posMatrix=new Float64Array(16);const j=_.canonical.z-c.canonical.z,z=_.canonical.x-(_.canonical.x>>j<<j),V=_.canonical.y-(_.canonical.y>>j<<j),H=a.N>>j;a.aS(k.posMatrix,0,H,0,H,0,1),a.$(k.posMatrix,k.posMatrix,[-z*H,-V*H,0]),p[v]=k}else if(c.canonical.isChildOf(_.canonical)){const k=c.clone();k.posMatrix=new Float64Array(16);const j=c.canonical.z-_.canonical.z,z=c.canonical.x-(c.canonical.x>>j<<j),V=c.canonical.y-(c.canonical.y>>j<<j),H=a.N>>j;a.aS(k.posMatrix,0,a.N,0,a.N,0,1),a.$(k.posMatrix,k.posMatrix,[z*H,V*H,0]),a.a0(k.posMatrix,k.posMatrix,[1/2**j,1/2**j,0]),p[v]=k}}return p}getSourceTile(c,p){const v=this.sourceCache._source;let _=c.overscaledZ-this.deltaZoom;if(_>v.maxzoom&&(_=v.maxzoom),_<v.minzoom)return null;this._sourceTileCache[c.key]||(this._sourceTileCache[c.key]=c.scaledTo(_).key);let k=this.sourceCache.getTileByID(this._sourceTileCache[c.key]);if((!k||!k.dem)&&p)for(;_>=v.minzoom&&(!k||!k.dem);)k=this.sourceCache.getTileByID(c.scaledTo(_--).key);return k}tilesAfterTime(c=Date.now()){return Object.values(this._tiles).filter(p=>p.timeAdded>=c)}}class h_{constructor(c,p,v){this.painter=c,this.sourceCache=new f_(p),this.options=v,this.exaggeration=typeof v.exaggeration=="number"?v.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(c,p,v,_=a.N){var k;if(!(p>=0&&p<_&&v>=0&&v<_))return 0;const j=this.getTerrainData(c),z=(k=j.tile)===null||k===void 0?void 0:k.dem;if(!z)return 0;const V=function(pe,ve,de){var Ae=ve[0],Ne=ve[1];return pe[0]=de[0]*Ae+de[4]*Ne+de[12],pe[1]=de[1]*Ae+de[5]*Ne+de[13],pe}([],[p/_*a.N,v/_*a.N],j.u_terrain_matrix),H=[V[0]*z.dim,V[1]*z.dim],Y=Math.floor(H[0]),K=Math.floor(H[1]),re=H[0]-Y,me=H[1]-K;return z.get(Y,K)*(1-re)*(1-me)+z.get(Y+1,K)*re*(1-me)+z.get(Y,K+1)*(1-re)*me+z.get(Y+1,K+1)*re*me}getElevationForLngLatZoom(c,p){const{tileID:v,mercatorX:_,mercatorY:k}=this._getOverscaledTileIDFromLngLatZoom(c,p);return this.getElevation(v,_%a.N,k%a.N,a.N)}getElevation(c,p,v,_=a.N){return this.getDEMElevation(c,p,v,_)*this.exaggeration}getTerrainData(c){if(!this._emptyDemTexture){const _=this.painter.context,k=new a.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new J(_,k,_.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new J(_,new a.R({width:1,height:1}),_.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(_.gl.NEAREST,_.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.ao([])}const p=this.sourceCache.getSourceTile(c,!0);if(p&&p.dem&&(!p.demTexture||p.needsTerrainPrepare)){const _=this.painter.context;p.demTexture=this.painter.getTileTexture(p.dem.stride),p.demTexture?p.demTexture.update(p.dem.getPixels(),{premultiply:!1}):p.demTexture=new J(_,p.dem.getPixels(),_.gl.RGBA,{premultiply:!1}),p.demTexture.bind(_.gl.NEAREST,_.gl.CLAMP_TO_EDGE),p.needsTerrainPrepare=!1}const v=p&&p+p.tileID.key+c.key;if(v&&!this._demMatrixCache[v]){const _=this.sourceCache.sourceCache._source.maxzoom;let k=c.canonical.z-p.tileID.canonical.z;c.overscaledZ>c.canonical.z&&(c.canonical.z>=_?k=c.canonical.z-_:a.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const j=c.canonical.x-(c.canonical.x>>k<<k),z=c.canonical.y-(c.canonical.y>>k<<k),V=a.bc(new Float64Array(16),[1/(a.N<<k),1/(a.N<<k),0]);a.$(V,V,[j*a.N,z*a.N,0]),this._demMatrixCache[c.key]={matrix:V,coord:c}}return{u_depth:2,u_terrain:3,u_terrain_dim:p&&p.dem&&p.dem.dim||1,u_terrain_matrix:v?this._demMatrixCache[c.key].matrix:this._emptyDemMatrix,u_terrain_unpack:p&&p.dem&&p.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(p&&p.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:p}}getFramebuffer(c){const p=this.painter,v=p.width/devicePixelRatio,_=p.height/devicePixelRatio;return!this._fbo||this._fbo.width===v&&this._fbo.height===_||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new J(p.context,{width:v,height:_,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new J(p.context,{width:v,height:_,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=p.context.createFramebuffer(v,_,!0,!1),this._fbo.depthAttachment.set(p.context.createRenderbuffer(p.context.gl.DEPTH_COMPONENT16,v,_))),this._fbo.colorAttachment.set(c==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const c=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const p=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let k=0,j=0;k<this._coordsTextureSize;k++)for(let z=0;z<this._coordsTextureSize;z++,j+=4)p[j+0]=255&z,p[j+1]=255&k,p[j+2]=z>>8<<4|k>>8,p[j+3]=0;const v=new a.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(p.buffer)),_=new J(c,v,c.gl.RGBA,{premultiply:!1});return _.bind(c.gl.NEAREST,c.gl.CLAMP_TO_EDGE),this._coordsTexture=_,_}pointCoordinate(c){const p=new Uint8Array(4),v=this.painter.context,_=v.gl;v.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),_.readPixels(c.x,this.painter.height/devicePixelRatio-c.y-1,1,1,_.RGBA,_.UNSIGNED_BYTE,p),v.bindFramebuffer.set(null);const k=p[0]+(p[2]>>4<<8),j=p[1]+((15&p[2])<<8),z=this.coordsIndex[255-p[3]],V=z&&this.sourceCache.getTileByID(z);if(!V)return null;const H=this._coordsTextureSize,Y=(1<<V.tileID.canonical.z)*H;return new a.U((V.tileID.canonical.x*H+k)/Y,(V.tileID.canonical.y*H+j)/Y,this.getElevation(V.tileID,k,j,H))}getTerrainMesh(){if(this._mesh)return this._mesh;const c=this.painter.context,p=new a.bd,v=new a.b0,_=this.meshSize,k=a.N/_,j=_*_;for(let K=0;K<=_;K++)for(let re=0;re<=_;re++)p.emplaceBack(re*k,K*k,0);for(let K=0;K<j;K+=_+1)for(let re=0;re<_;re++)v.emplaceBack(re+K,_+re+K+1,_+re+K+2),v.emplaceBack(re+K,_+re+K+2,re+K+1);const z=p.length,V=z+2*(_+1);for(const K of[0,1])for(let re=0;re<=_;re++)for(const me of[0,1])p.emplaceBack(re*k,K*a.N,me);for(let K=0;K<2*_;K+=2)v.emplaceBack(V+K,V+K+1,V+K+3),v.emplaceBack(V+K,V+K+3,V+K+2),v.emplaceBack(z+K,z+K+3,z+K+1),v.emplaceBack(z+K,z+K+2,z+K+3);const H=p.length,Y=H+2*(_+1);for(const K of[0,1])for(let re=0;re<=_;re++)for(const me of[0,1])p.emplaceBack(K*a.N,re*k,me);for(let K=0;K<2*_;K+=2)v.emplaceBack(H+K,H+K+1,H+K+3),v.emplaceBack(H+K,H+K+3,H+K+2),v.emplaceBack(Y+K,Y+K+3,Y+K+1),v.emplaceBack(Y+K,Y+K+2,Y+K+3);return this._mesh={indexBuffer:c.createIndexBuffer(v),vertexBuffer:c.createVertexBuffer(p,d_.members),segments:a.S.simpleSegment(0,0,p.length,v.length)},this._mesh}getMeshFrameDelta(c){return 2*Math.PI*a.be/Math.pow(2,c)/5}getMinTileElevationForLngLatZoom(c,p){var v;const{tileID:_}=this._getOverscaledTileIDFromLngLatZoom(c,p);return(v=this.getMinMaxElevation(_).minElevation)!==null&&v!==void 0?v:0}getMinMaxElevation(c){const p=this.getTerrainData(c).tile,v={minElevation:null,maxElevation:null};return p&&p.dem&&(v.minElevation=p.dem.min*this.exaggeration,v.maxElevation=p.dem.max*this.exaggeration),v}_getOverscaledTileIDFromLngLatZoom(c,p){const v=a.U.fromLngLat(c.wrap()),_=(1<<p)*a.N,k=v.x*_,j=v.y*_,z=Math.floor(k/a.N),V=Math.floor(j/a.N);return{tileID:new a.O(p,0,p,z,V),mercatorX:k,mercatorY:j}}}class dT{constructor(c,p,v){this._context=c,this._size=p,this._tileSize=v,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const c of this._objects)c.texture.destroy(),c.fbo.destroy()}_createObject(c){const p=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),v=new J(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return v.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),p.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),p.colorAttachment.set(v.texture),{id:c,fbo:p,texture:v,stamp:-1,inUse:!1}}getObjectForId(c){return this._objects[c]}useObject(c){c.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(p=>c.id!==p),this._recentlyUsed.push(c.id)}stampObject(c){c.stamp=++this._stamp}getOrCreateFreeObject(){for(const p of this._recentlyUsed)if(!this._objects[p].inUse)return this._objects[p];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const c=this._createObject(this._objects.length);return this._objects.push(c),c}freeObject(c){c.inUse=!1}freeAllObjects(){for(const c of this._objects)this.freeObject(c)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(c=>!c.inUse)===!1}}const so={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class op{constructor(c,p){this.painter=c,this.terrain=p,this.pool=new dT(c.context,30,p.sourceCache.tileSize*p.qualityFactor)}destruct(){this.pool.destruct()}getTexture(c){return this.pool.getObjectForId(c.rtt[this._stacks.length-1].id).texture}prepareForRender(c,p){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=c._order.filter(v=>!c._layers[v].isHidden(p)),this._coordsDescendingInv={};for(const v in c.sourceCaches){this._coordsDescendingInv[v]={};const _=c.sourceCaches[v].getVisibleCoordinates();for(const k of _){const j=this.terrain.sourceCache.getTerrainCoords(k);for(const z in j)this._coordsDescendingInv[v][z]||(this._coordsDescendingInv[v][z]=[]),this._coordsDescendingInv[v][z].push(j[z])}}this._coordsDescendingInvStr={};for(const v of c._order){const _=c._layers[v],k=_.source;if(so[_.type]&&!this._coordsDescendingInvStr[k]){this._coordsDescendingInvStr[k]={};for(const j in this._coordsDescendingInv[k])this._coordsDescendingInvStr[k][j]=this._coordsDescendingInv[k][j].map(z=>z.key).sort().join()}}for(const v of this._renderableTiles)for(const _ in this._coordsDescendingInvStr){const k=this._coordsDescendingInvStr[_][v.tileID.key];k&&k!==v.rttCoords[_]&&(v.rtt=[])}}renderLayer(c){if(c.isHidden(this.painter.transform.zoom))return!1;const p=c.type,v=this.painter,_=this._renderableLayerIds[this._renderableLayerIds.length-1]===c.id;if(so[p]&&(this._prevType&&so[this._prevType]||this._stacks.push([]),this._prevType=p,this._stacks[this._stacks.length-1].push(c.id),!_))return!0;if(so[this._prevType]||so[p]&&_){this._prevType=p;const k=this._stacks.length-1,j=this._stacks[k]||[];for(const z of this._renderableTiles){if(this.pool.isFull()&&(Br(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(z),z.rtt[k]){const H=this.pool.getObjectForId(z.rtt[k].id);if(H.stamp===z.rtt[k].stamp){this.pool.useObject(H);continue}}const V=this.pool.getOrCreateFreeObject();this.pool.useObject(V),this.pool.stampObject(V),z.rtt[k]={id:V.id,stamp:V.stamp},v.context.bindFramebuffer.set(V.fbo.framebuffer),v.context.clear({color:a.aT.transparent,stencil:0}),v.currentStencilSource=void 0;for(let H=0;H<j.length;H++){const Y=v.style._layers[j[H]],K=Y.source?this._coordsDescendingInv[Y.source][z.tileID.key]:[z.tileID];v.context.viewport.set([0,0,V.fbo.width,V.fbo.height]),v._renderTileClippingMasks(Y,K),v.renderLayer(v,v.style.sourceCaches[Y.source],Y,K),Y.source&&(z.rttCoords[Y.source]=this._coordsDescendingInvStr[Y.source][z.tileID.key])}}return Br(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),so[p]}return!1}}const Ft=f,Jt={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:a.c.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},gf=w=>{w.touchstart=w.dragStart,w.touchmoveWindow=w.dragMove,w.touchend=w.dragEnd},Oy={showCompass:!0,showZoom:!0,visualizePitch:!1};class My{constructor(c,p,v=!1){this.mousedown=j=>{this.startMouse(a.e({},j,{ctrlKey:!0,preventDefault:()=>j.preventDefault()}),h.mousePos(this.element,j)),h.addEventListener(window,"mousemove",this.mousemove),h.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=j=>{this.moveMouse(j,h.mousePos(this.element,j))},this.mouseup=j=>{this.mouseRotate.dragEnd(j),this.mousePitch&&this.mousePitch.dragEnd(j),this.offTemp()},this.touchstart=j=>{j.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=h.touchPos(this.element,j.targetTouches)[0],this.startTouch(j,this._startPos),h.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),h.addEventListener(window,"touchend",this.touchend))},this.touchmove=j=>{j.targetTouches.length!==1?this.reset():(this._lastPos=h.touchPos(this.element,j.targetTouches)[0],this.moveTouch(j,this._lastPos))},this.touchend=j=>{j.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const _=c.dragRotate._mouseRotate.getClickTolerance(),k=c.dragRotate._mousePitch.getClickTolerance();this.element=p,this.mouseRotate=Bu({clickTolerance:_,enable:!0}),this.touchRotate=(({enable:j,clickTolerance:z,bearingDegreesPerPixelMoved:V=.8})=>{const H=new o_;return new Qs({clickTolerance:z,move:(Y,K)=>({bearingDelta:(K.x-Y.x)*V}),moveStateManager:H,enable:j,assignEvents:gf})})({clickTolerance:_,enable:!0}),this.map=c,v&&(this.mousePitch=el({clickTolerance:k,enable:!0}),this.touchPitch=(({enable:j,clickTolerance:z,pitchDegreesPerPixelMoved:V=-.5})=>{const H=new o_;return new Qs({clickTolerance:z,move:(Y,K)=>({pitchDelta:(K.y-Y.y)*V}),moveStateManager:H,enable:j,assignEvents:gf})})({clickTolerance:k,enable:!0})),h.addEventListener(p,"mousedown",this.mousedown),h.addEventListener(p,"touchstart",this.touchstart,{passive:!1}),h.addEventListener(p,"touchcancel",this.reset)}startMouse(c,p){this.mouseRotate.dragStart(c,p),this.mousePitch&&this.mousePitch.dragStart(c,p),h.disableDrag()}startTouch(c,p){this.touchRotate.dragStart(c,p),this.touchPitch&&this.touchPitch.dragStart(c,p),h.disableDrag()}moveMouse(c,p){const v=this.map,{bearingDelta:_}=this.mouseRotate.dragMove(c,p)||{};if(_&&v.setBearing(v.getBearing()+_),this.mousePitch){const{pitchDelta:k}=this.mousePitch.dragMove(c,p)||{};k&&v.setPitch(v.getPitch()+k)}}moveTouch(c,p){const v=this.map,{bearingDelta:_}=this.touchRotate.dragMove(c,p)||{};if(_&&v.setBearing(v.getBearing()+_),this.touchPitch){const{pitchDelta:k}=this.touchPitch.dragMove(c,p)||{};k&&v.setPitch(v.getPitch()+k)}}off(){const c=this.element;h.removeEventListener(c,"mousedown",this.mousedown),h.removeEventListener(c,"touchstart",this.touchstart,{passive:!1}),h.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),h.removeEventListener(window,"touchend",this.touchend),h.removeEventListener(c,"touchcancel",this.reset),this.offTemp()}offTemp(){h.enableDrag(),h.removeEventListener(window,"mousemove",this.mousemove),h.removeEventListener(window,"mouseup",this.mouseup),h.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),h.removeEventListener(window,"touchend",this.touchend)}}let ri;function Ay(w,c,p){if(w=new a.L(w.lng,w.lat),c){const v=new a.L(w.lng-360,w.lat),_=new a.L(w.lng+360,w.lat),k=p.locationPoint(w).distSqr(c);p.locationPoint(v).distSqr(c)<k?w=v:p.locationPoint(_).distSqr(c)<k&&(w=_)}for(;Math.abs(w.lng-p.center.lng)>180;){const v=p.locationPoint(w);if(v.x>=0&&v.y>=0&&v.x<=p.width&&v.y<=p.height)break;w.lng>p.center.lng?w.lng-=360:w.lng+=360}return w}const va={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function p_(w,c,p){const v=w.classList;for(const _ in va)v.remove(`maplibregl-${p}-anchor-${_}`);v.add(`maplibregl-${p}-anchor-${c}`)}class Cc extends a.E{constructor(c){if(super(),this._onKeyPress=p=>{const v=p.code,_=p.charCode||p.keyCode;v!=="Space"&&v!=="Enter"&&_!==32&&_!==13||this.togglePopup()},this._onMapClick=p=>{const v=p.originalEvent.target,_=this._element;this._popup&&(v===_||_.contains(v))&&this.togglePopup()},this._update=p=>{if(!this._map)return;const v=this._map.loaded()&&!this._map.isMoving();((p==null?void 0:p.type)==="terrain"||(p==null?void 0:p.type)==="render"&&!v)&&this._map.once("render",this._update),this._map.transform.renderWorldCopies&&(this._lngLat=Ay(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let _="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?_=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(_=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let k="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?k="rotateX(0deg)":this._pitchAlignment==="map"&&(k=`rotateX(${this._map.getPitch()}deg)`),p&&p.type!=="moveend"||(this._pos=this._pos.round()),h.setTransform(this._element,`${va[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${k} ${_}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const j=this._map.unproject(this._pos),z=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=j.distanceTo(this._lngLat)>20*z?"0.2":"1.0",this._opacityTimeout=null},100))},this._onMove=p=>{if(!this._isDragging){const v=this._clickTolerance||this._map._clickTolerance;this._isDragging=p.point.dist(this._pointerdownPos)>=v}this._isDragging&&(this._pos=p.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.k("dragstart"))),this.fire(new a.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.k("dragend")),this._state="inactive"},this._addDragHandler=p=>{this._element.contains(p.originalEvent.target)&&(p.preventDefault(),this._positionDelta=p.point.sub(this._pos).add(this._offset),this._pointerdownPos=p.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=c&&c.anchor||"center",this._color=c&&c.color||"#3FB1CE",this._scale=c&&c.scale||1,this._draggable=c&&c.draggable||!1,this._clickTolerance=c&&c.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=c&&c.rotation||0,this._rotationAlignment=c&&c.rotationAlignment||"auto",this._pitchAlignment=c&&c.pitchAlignment&&c.pitchAlignment!=="auto"?c.pitchAlignment:this._rotationAlignment,c&&c.element)this._element=c.element,this._offset=a.P.convert(c&&c.offset||[0,0]);else{this._defaultMarker=!0,this._element=h.create("div"),this._element.setAttribute("aria-label","Map marker");const p=h.createNS("http://www.w3.org/2000/svg","svg"),v=41,_=27;p.setAttributeNS(null,"display","block"),p.setAttributeNS(null,"height",`${v}px`),p.setAttributeNS(null,"width",`${_}px`),p.setAttributeNS(null,"viewBox",`0 0 ${_} ${v}`);const k=h.createNS("http://www.w3.org/2000/svg","g");k.setAttributeNS(null,"stroke","none"),k.setAttributeNS(null,"stroke-width","1"),k.setAttributeNS(null,"fill","none"),k.setAttributeNS(null,"fill-rule","evenodd");const j=h.createNS("http://www.w3.org/2000/svg","g");j.setAttributeNS(null,"fill-rule","nonzero");const z=h.createNS("http://www.w3.org/2000/svg","g");z.setAttributeNS(null,"transform","translate(3.0, 29.0)"),z.setAttributeNS(null,"fill","#000000");const V=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const Ae of V){const Ne=h.createNS("http://www.w3.org/2000/svg","ellipse");Ne.setAttributeNS(null,"opacity","0.04"),Ne.setAttributeNS(null,"cx","10.5"),Ne.setAttributeNS(null,"cy","5.80029008"),Ne.setAttributeNS(null,"rx",Ae.rx),Ne.setAttributeNS(null,"ry",Ae.ry),z.appendChild(Ne)}const H=h.createNS("http://www.w3.org/2000/svg","g");H.setAttributeNS(null,"fill",this._color);const Y=h.createNS("http://www.w3.org/2000/svg","path");Y.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),H.appendChild(Y);const K=h.createNS("http://www.w3.org/2000/svg","g");K.setAttributeNS(null,"opacity","0.25"),K.setAttributeNS(null,"fill","#000000");const re=h.createNS("http://www.w3.org/2000/svg","path");re.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),K.appendChild(re);const me=h.createNS("http://www.w3.org/2000/svg","g");me.setAttributeNS(null,"transform","translate(6.0, 7.0)"),me.setAttributeNS(null,"fill","#FFFFFF");const pe=h.createNS("http://www.w3.org/2000/svg","g");pe.setAttributeNS(null,"transform","translate(8.0, 8.0)");const ve=h.createNS("http://www.w3.org/2000/svg","circle");ve.setAttributeNS(null,"fill","#000000"),ve.setAttributeNS(null,"opacity","0.25"),ve.setAttributeNS(null,"cx","5.5"),ve.setAttributeNS(null,"cy","5.5"),ve.setAttributeNS(null,"r","5.4999962");const de=h.createNS("http://www.w3.org/2000/svg","circle");de.setAttributeNS(null,"fill","#FFFFFF"),de.setAttributeNS(null,"cx","5.5"),de.setAttributeNS(null,"cy","5.5"),de.setAttributeNS(null,"r","5.4999962"),pe.appendChild(ve),pe.appendChild(de),j.appendChild(z),j.appendChild(H),j.appendChild(K),j.appendChild(me),j.appendChild(pe),p.appendChild(j),p.setAttributeNS(null,"height",v*this._scale+"px"),p.setAttributeNS(null,"width",_*this._scale+"px"),this._element.appendChild(p),this._offset=a.P.convert(c&&c.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",p=>{p.preventDefault()}),this._element.addEventListener("mousedown",p=>{p.preventDefault()}),p_(this._element,this._anchor,"marker"),c&&c.className)for(const p of c.className.split(" "))this._element.classList.add(p);this._popup=null}addTo(c){return this.remove(),this._map=c,c.getCanvasContainer().appendChild(this._element),c.on("move",this._update),c.on("moveend",this._update),c.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),h.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(c){return this._lngLat=a.L.convert(c),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(c){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),c){if(!("offset"in c.options)){const _=Math.abs(13.5)/Math.SQRT2;c.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[_,-1*(38.1-13.5+_)],"bottom-right":[-_,-1*(38.1-13.5+_)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=c,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const c=this._popup;return c?(c.isOpen()?c.remove():c.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(c){return this._offset=a.P.convert(c),this._update(),this}addClassName(c){this._element.classList.add(c)}removeClassName(c){this._element.classList.remove(c)}toggleClassName(c){return this._element.classList.toggle(c)}setDraggable(c){return this._draggable=!!c,this._map&&(c?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(c){return this._rotation=c||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(c){return this._rotationAlignment=c||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(c){return this._pitchAlignment=c&&c!=="auto"?c:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const Fr={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Rr=0,Uu=!1;const yf={maxWidth:100,unit:"metric"};function vf(w,c,p){const v=p&&p.maxWidth||100,_=w._container.clientHeight/2,k=w.unproject([0,_]),j=w.unproject([v,_]),z=k.distanceTo(j);if(p&&p.unit==="imperial"){const V=3.2808*z;V>5280?kc(c,v,V/5280,w._getUIString("ScaleControl.Miles")):kc(c,v,V,w._getUIString("ScaleControl.Feet"))}else p&&p.unit==="nautical"?kc(c,v,z/1852,w._getUIString("ScaleControl.NauticalMiles")):z>=1e3?kc(c,v,z/1e3,w._getUIString("ScaleControl.Kilometers")):kc(c,v,z,w._getUIString("ScaleControl.Meters"))}function kc(w,c,p,v){const _=function(k){const j=Math.pow(10,`${Math.floor(k)}`.length-1);let z=k/j;return z=z>=10?10:z>=5?5:z>=3?3:z>=2?2:z>=1?1:function(V){const H=Math.pow(10,Math.ceil(-Math.log(V)/Math.LN10));return Math.round(V*H)/H}(z),j*z}(p);w.style.width=c*(_/p)+"px",w.innerHTML=`${_}&nbsp;${v}`}const Iy={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},$y=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Vu(w){if(w){if(typeof w=="number"){const c=Math.round(Math.abs(w)/Math.SQRT2);return{center:new a.P(0,0),top:new a.P(0,w),"top-left":new a.P(c,c),"top-right":new a.P(-c,c),bottom:new a.P(0,-w),"bottom-left":new a.P(c,-c),"bottom-right":new a.P(-c,-c),left:new a.P(w,0),right:new a.P(-w,0)}}if(w instanceof a.P||Array.isArray(w)){const c=a.P.convert(w);return{center:c,top:c,"top-left":c,"top-right":c,bottom:c,"bottom-left":c,"bottom-right":c,left:c,right:c}}return{center:a.P.convert(w.center||[0,0]),top:a.P.convert(w.top||[0,0]),"top-left":a.P.convert(w["top-left"]||[0,0]),"top-right":a.P.convert(w["top-right"]||[0,0]),bottom:a.P.convert(w.bottom||[0,0]),"bottom-left":a.P.convert(w["bottom-left"]||[0,0]),"bottom-right":a.P.convert(w["bottom-right"]||[0,0]),left:a.P.convert(w.left||[0,0]),right:a.P.convert(w.right||[0,0])}}return Vu(new a.P(0,0))}const Ry={extend:(w,...c)=>a.e(w,...c),run(w){w()},logToElement(w,c=!1,p="log"){const v=window.document.getElementById(p);v&&(c&&(v.innerHTML=""),v.innerHTML+=`<br>${w}`)}},Dy=f;class Fn{static get version(){return Dy}static get workerCount(){return Vn.workerCount}static set workerCount(c){Vn.workerCount=c}static get maxParallelImageRequests(){return a.c.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(c){a.c.MAX_PARALLEL_IMAGE_REQUESTS=c}static get workerUrl(){return a.c.WORKER_URL}static set workerUrl(c){a.c.WORKER_URL=c}static addProtocol(c,p){a.c.REGISTERED_PROTOCOLS[c]=p}static removeProtocol(c){delete a.c.REGISTERED_PROTOCOLS[c]}}return Fn.Map=class extends u_{constructor(w){if(a.bf.mark(a.bg.create),(w=a.e({},Jt,w)).minZoom!=null&&w.maxZoom!=null&&w.minZoom>w.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(w.minPitch!=null&&w.maxPitch!=null&&w.minPitch>w.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(w.minPitch!=null&&w.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(w.maxPitch!=null&&w.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new ep(w.minZoom,w.maxZoom,w.minPitch,w.maxPitch,w.renderWorldCopies),{bearingSnap:w.bearingSnap}),this._cooperativeGesturesOnWheel=c=>{this._onCooperativeGesture(c,c[this._metaKey],1)},this._contextLost=c=>{c.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.k("webglcontextlost",{originalEvent:c}))},this._contextRestored=c=>{this._setupPainter(),this.resize(),this._update(),this.fire(new a.k("webglcontextrestored",{originalEvent:c}))},this._onMapScroll=c=>{if(c.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=w.interactive,this._cooperativeGestures=w.cooperativeGestures,this._metaKey=navigator.platform.indexOf("Mac")===0?"metaKey":"ctrlKey",this._maxTileCacheSize=w.maxTileCacheSize,this._maxTileCacheZoomLevels=w.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=w.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=w.preserveDrawingBuffer,this._antialias=w.antialias,this._trackResize=w.trackResize,this._bearingSnap=w.bearingSnap,this._refreshExpiredTiles=w.refreshExpiredTiles,this._fadeDuration=w.fadeDuration,this._crossSourceCollisions=w.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=w.collectResourceTiming,this._renderTaskQueue=new ip,this._controls=[],this._mapId=a.a2(),this._locale=a.e({},Ey,w.locale),this._clickTolerance=w.clickTolerance,this._overridePixelRatio=w.pixelRatio,this._maxCanvasSize=w.maxCanvasSize,this.transformCameraUpdate=w.transformCameraUpdate,this._imageQueueHandle=O.addThrottleControl(()=>this.isMoving()),this._requestManager=new M(w.transformRequest),typeof w.container=="string"){if(this._container=document.getElementById(w.container),!this._container)throw new Error(`Container '${w.container}' not found.`)}else{if(!(w.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=w.container}if(w.maxBounds&&this.setMaxBounds(w.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let c=!1;const p=Sc(v=>{this._trackResize&&!this._removed&&this.resize(v)._update()},50);this._resizeObserver=new ResizeObserver(v=>{c?p(v):c=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Py(this,w),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=w.hash&&new df(typeof w.hash=="string"&&w.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:w.center,zoom:w.zoom,bearing:w.bearing,pitch:w.pitch}),w.bounds&&(this.resize(),this.fitBounds(w.bounds,a.e({},w.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=w.localIdeographFontFamily,this._validateStyle=w.validateStyle,w.style&&this.setStyle(w.style,{localIdeographFontFamily:w.localIdeographFontFamily}),w.attributionControl&&this.addControl(new Ko({customAttribution:w.customAttribution})),w.maplibreLogo&&this.addControl(new br,w.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",c=>{this._update(c.dataType==="style"),this.fire(new a.k(`${c.dataType}data`,c))}),this.on("dataloading",c=>{this.fire(new a.k(`${c.dataType}dataloading`,c))}),this.on("dataabort",c=>{this.fire(new a.k("sourcedataabort",c))})}_getMapId(){return this._mapId}addControl(w,c){if(c===void 0&&(c=w.getDefaultPosition?w.getDefaultPosition():"top-right"),!w||!w.onAdd)return this.fire(new a.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const p=w.onAdd(this);this._controls.push(w);const v=this._controlPositions[c];return c.indexOf("bottom")!==-1?v.insertBefore(p,v.firstChild):v.appendChild(p),this}removeControl(w){if(!w||!w.onRemove)return this.fire(new a.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const c=this._controls.indexOf(w);return c>-1&&this._controls.splice(c,1),w.onRemove(this),this}hasControl(w){return this._controls.indexOf(w)>-1}calculateCameraOptionsFromTo(w,c,p,v){return v==null&&this.terrain&&(v=this.terrain.getElevationForLngLatZoom(p,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(w,c,p,v)}resize(w){var c;const p=this._containerDimensions(),v=p[0],_=p[1],k=this._getClampedPixelRatio(v,_);if(this._resizeCanvas(v,_,k),this.painter.resize(v,_,k),this.painter.overLimit()){const z=this.painter.context.gl;this._maxCanvasSize=[z.drawingBufferWidth,z.drawingBufferHeight];const V=this._getClampedPixelRatio(v,_);this._resizeCanvas(v,_,V),this.painter.resize(v,_,V)}this.transform.resize(v,_),(c=this._requestedCameraState)===null||c===void 0||c.resize(v,_);const j=!this._moving;return j&&(this.stop(),this.fire(new a.k("movestart",w)).fire(new a.k("move",w))),this.fire(new a.k("resize",w)),j&&this.fire(new a.k("moveend",w)),this}_getClampedPixelRatio(w,c){const{0:p,1:v}=this._maxCanvasSize,_=this.getPixelRatio(),k=w*_,j=c*_;return Math.min(k>p?p/k:1,j>v?v/j:1)*_}getPixelRatio(){var w;return(w=this._overridePixelRatio)!==null&&w!==void 0?w:devicePixelRatio}setPixelRatio(w){this._overridePixelRatio=w,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(w){return this.transform.setMaxBounds(Ke.convert(w)),this._update()}setMinZoom(w){if((w=w??-2)>=-2&&w<=this.transform.maxZoom)return this.transform.minZoom=w,this._update(),this.getZoom()<w&&this.setZoom(w),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(w){if((w=w??22)>=this.transform.minZoom)return this.transform.maxZoom=w,this._update(),this.getZoom()>w&&this.setZoom(w),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(w){if((w=w??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(w>=0&&w<=this.transform.maxPitch)return this.transform.minPitch=w,this._update(),this.getPitch()<w&&this.setPitch(w),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(w){if((w=w??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(w>=this.transform.minPitch)return this.transform.maxPitch=w,this._update(),this.getPitch()>w&&this.setPitch(w),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(w){return this.transform.renderWorldCopies=w,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(w){return this._cooperativeGestures=w,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(w){return this.transform.locationPoint(a.L.convert(w),this.style&&this.terrain)}unproject(w){return this.transform.pointLocation(a.P.convert(w),this.terrain)}isMoving(){var w;return this._moving||((w=this.handlers)===null||w===void 0?void 0:w.isMoving())}isZooming(){var w;return this._zooming||((w=this.handlers)===null||w===void 0?void 0:w.isZooming())}isRotating(){var w;return this._rotating||((w=this.handlers)===null||w===void 0?void 0:w.isRotating())}_createDelegatedListener(w,c,p){if(w==="mouseenter"||w==="mouseover"){let v=!1;return{layer:c,listener:p,delegates:{mousemove:k=>{const j=this.getLayer(c)?this.queryRenderedFeatures(k.point,{layers:[c]}):[];j.length?v||(v=!0,p.call(this,new Yo(w,this,k.originalEvent,{features:j}))):v=!1},mouseout:()=>{v=!1}}}}if(w==="mouseleave"||w==="mouseout"){let v=!1;return{layer:c,listener:p,delegates:{mousemove:j=>{(this.getLayer(c)?this.queryRenderedFeatures(j.point,{layers:[c]}):[]).length?v=!0:v&&(v=!1,p.call(this,new Yo(w,this,j.originalEvent)))},mouseout:j=>{v&&(v=!1,p.call(this,new Yo(w,this,j.originalEvent)))}}}}{const v=_=>{const k=this.getLayer(c)?this.queryRenderedFeatures(_.point,{layers:[c]}):[];k.length&&(_.features=k,p.call(this,_),delete _.features)};return{layer:c,listener:p,delegates:{[w]:v}}}}on(w,c,p){if(p===void 0)return super.on(w,c);const v=this._createDelegatedListener(w,c,p);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[w]=this._delegatedListeners[w]||[],this._delegatedListeners[w].push(v);for(const _ in v.delegates)this.on(_,v.delegates[_]);return this}once(w,c,p){if(p===void 0)return super.once(w,c);const v=this._createDelegatedListener(w,c,p);for(const _ in v.delegates)this.once(_,v.delegates[_]);return this}off(w,c,p){return p===void 0?super.off(w,c):(this._delegatedListeners&&this._delegatedListeners[w]&&(v=>{const _=this._delegatedListeners[w];for(let k=0;k<_.length;k++){const j=_[k];if(j.layer===c&&j.listener===p){for(const z in j.delegates)this.off(z,j.delegates[z]);return _.splice(k,1),this}}})(),this)}queryRenderedFeatures(w,c){if(!this.style)return[];let p;const v=w instanceof a.P||Array.isArray(w),_=v?w:[[0,0],[this.transform.width,this.transform.height]];if(c=c||(v?{}:w)||{},_ instanceof a.P||typeof _[0]=="number")p=[a.P.convert(_)];else{const k=a.P.convert(_[0]),j=a.P.convert(_[1]);p=[k,new a.P(j.x,k.y),j,new a.P(k.x,j.y),k]}return this.style.queryRenderedFeatures(p,c,this.transform)}querySourceFeatures(w,c){return this.style.querySourceFeatures(w,c)}setStyle(w,c){return(c=a.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},c)).diff!==!1&&c.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&w?(this._diffStyle(w,c),this):(this._localIdeographFontFamily=c.localIdeographFontFamily,this._updateStyle(w,c))}setTransformRequest(w){return this._requestManager.setTransformRequest(w),this}_getUIString(w){const c=this._locale[w];if(c==null)throw new Error(`Missing UI string '${w}'`);return c}_updateStyle(w,c){if(c.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(w,c));const p=this.style&&c.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!w)),w?(this.style=new ji(this,c||{}),this.style.setEventedParent(this,{style:this.style}),typeof w=="string"?this.style.loadURL(w,c,p):this.style.loadJSON(w,c,p),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new ji(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(w,c){if(typeof w=="string"){const p=this._requestManager.transformRequest(w,A.Style);a.f(p,(v,_)=>{v?this.fire(new a.j(v)):_&&this._updateDiff(_,c)})}else typeof w=="object"&&this._updateDiff(w,c)}_updateDiff(w,c){try{this.style.setState(w,c)&&this._update(!0)}catch(p){a.w(`Unable to perform style diff: ${p.message||p.error||p}.  Rebuilding the style from scratch.`),this._updateStyle(w,c)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():a.w("There is no style added to the map.")}addSource(w,c){return this._lazyInitEmptyStyle(),this.style.addSource(w,c),this._update(!0)}isSourceLoaded(w){const c=this.style&&this.style.sourceCaches[w];if(c!==void 0)return c.loaded();this.fire(new a.j(new Error(`There is no source with ID '${w}'`)))}setTerrain(w){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),w){const c=this.style.sourceCaches[w.source];if(!c)throw new Error(`cannot load terrain, because there exists no source with ID: ${w.source}`);for(const p in this.style._layers){const v=this.style._layers[p];v.type==="hillshade"&&v.source===w.source&&a.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new h_(this.painter,c,w),this.painter.renderToTexture=new op(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=p=>{p.dataType==="style"?this.terrain.sourceCache.freeRtt():p.dataType==="source"&&p.tile&&(p.sourceId!==w.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(p.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new a.k("terrain",{terrain:w})),this}getTerrain(){var w,c;return(c=(w=this.terrain)===null||w===void 0?void 0:w.options)!==null&&c!==void 0?c:null}areTilesLoaded(){const w=this.style&&this.style.sourceCaches;for(const c in w){const p=w[c]._tiles;for(const v in p){const _=p[v];if(_.state!=="loaded"&&_.state!=="errored")return!1}}return!0}addSourceType(w,c,p){return this._lazyInitEmptyStyle(),this.style.addSourceType(w,c,p)}removeSource(w){return this.style.removeSource(w),this._update(!0)}getSource(w){return this.style.getSource(w)}addImage(w,c,p={}){const{pixelRatio:v=1,sdf:_=!1,stretchX:k,stretchY:j,content:z}=p;if(this._lazyInitEmptyStyle(),!(c instanceof HTMLImageElement||a.a(c))){if(c.width===void 0||c.height===void 0)return this.fire(new a.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:V,height:H,data:Y}=c,K=c;return this.style.addImage(w,{data:new a.R({width:V,height:H},new Uint8Array(Y)),pixelRatio:v,stretchX:k,stretchY:j,content:z,sdf:_,version:0,userImage:K}),K.onAdd&&K.onAdd(this,w),this}}{const{width:V,height:H,data:Y}=a.h.getImageData(c);this.style.addImage(w,{data:new a.R({width:V,height:H},Y),pixelRatio:v,stretchX:k,stretchY:j,content:z,sdf:_,version:0})}}updateImage(w,c){const p=this.style.getImage(w);if(!p)return this.fire(new a.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const v=c instanceof HTMLImageElement||a.a(c)?a.h.getImageData(c):c,{width:_,height:k,data:j}=v;if(_===void 0||k===void 0)return this.fire(new a.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(_!==p.data.width||k!==p.data.height)return this.fire(new a.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const z=!(c instanceof HTMLImageElement||a.a(c));return p.data.replace(j,z),this.style.updateImage(w,p),this}getImage(w){return this.style.getImage(w)}hasImage(w){return w?!!this.style.getImage(w):(this.fire(new a.j(new Error("Missing required image id"))),!1)}removeImage(w){this.style.removeImage(w)}loadImage(w,c){O.getImage(this._requestManager.transformRequest(w,A.Image),c)}listImages(){return this.style.listImages()}addLayer(w,c){return this._lazyInitEmptyStyle(),this.style.addLayer(w,c),this._update(!0)}moveLayer(w,c){return this.style.moveLayer(w,c),this._update(!0)}removeLayer(w){return this.style.removeLayer(w),this._update(!0)}getLayer(w){return this.style.getLayer(w)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(w,c,p){return this.style.setLayerZoomRange(w,c,p),this._update(!0)}setFilter(w,c,p={}){return this.style.setFilter(w,c,p),this._update(!0)}getFilter(w){return this.style.getFilter(w)}setPaintProperty(w,c,p,v={}){return this.style.setPaintProperty(w,c,p,v),this._update(!0)}getPaintProperty(w,c){return this.style.getPaintProperty(w,c)}setLayoutProperty(w,c,p,v={}){return this.style.setLayoutProperty(w,c,p,v),this._update(!0)}getLayoutProperty(w,c){return this.style.getLayoutProperty(w,c)}setGlyphs(w,c={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(w,c),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(w,c,p={}){return this._lazyInitEmptyStyle(),this.style.addSprite(w,c,p,v=>{v||this._update(!0)}),this}removeSprite(w){return this._lazyInitEmptyStyle(),this.style.removeSprite(w),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(w,c={}){return this._lazyInitEmptyStyle(),this.style.setSprite(w,c,p=>{p||this._update(!0)}),this}setLight(w,c={}){return this._lazyInitEmptyStyle(),this.style.setLight(w,c),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(w,c){return this.style.setFeatureState(w,c),this._update()}removeFeatureState(w,c){return this.style.removeFeatureState(w,c),this._update()}getFeatureState(w){return this.style.getFeatureState(w)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let w=0,c=0;return this._container&&(w=this._container.clientWidth||400,c=this._container.clientHeight||300),[w,c]}_setupContainer(){const w=this._container;w.classList.add("maplibregl-map");const c=this._canvasContainer=h.create("div","maplibregl-canvas-container",w);this._interactive&&c.classList.add("maplibregl-interactive"),this._canvas=h.create("canvas","maplibregl-canvas",c),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const p=this._containerDimensions(),v=this._getClampedPixelRatio(p[0],p[1]);this._resizeCanvas(p[0],p[1],v);const _=this._controlContainer=h.create("div","maplibregl-control-container",w),k=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(j=>{k[j]=h.create("div",`maplibregl-ctrl-${j} `,_)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=h.create("div","maplibregl-cooperative-gesture-screen",this._container);let w=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(w=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use  + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${w}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){h.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(w,c,p){this._canvas.width=Math.floor(p*w),this._canvas.height=Math.floor(p*c),this._canvas.style.width=`${w}px`,this._canvas.style.height=`${c}px`}_setupPainter(){const w={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let c=null;this._canvas.addEventListener("webglcontextcreationerror",v=>{c={requestedAttributes:w},v&&(c.statusMessage=v.statusMessage,c.type=v.type)},{once:!0});const p=this._canvas.getContext("webgl2",w)||this._canvas.getContext("webgl",w);if(!p){const v="Failed to initialize WebGL";throw c?(c.message=v,new Error(JSON.stringify(c))):new Error(v)}this.painter=new wc(p,this.transform),g.testSupport(p)}_onCooperativeGesture(w,c,p){return!c&&p<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(w){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||w,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(w){return this._update(),this._renderTaskQueue.add(w)}_cancelRenderFrame(w){this._renderTaskQueue.remove(w)}_render(w){const c=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(w),this._removed)return;let p=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const _=this.transform.zoom,k=a.h.now();this.style.zoomHistory.update(_,k);const j=new a.a8(_,{now:k,fadeDuration:c,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),z=j.crossFadingFactor();z===1&&z===this._crossFadingFactor||(p=!0,this._crossFadingFactor=z),this.style.update(j)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,c,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:c,showPadding:this.showPadding}),this.fire(new a.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.bf.mark(a.bg.load),this.fire(new a.k("load"))),this.style&&(this.style.hasTransitions()||p)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const v=this._sourcesDirty||this._styleDirty||this._placementDirty;return v||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.k("idle")),!this._loaded||this._fullyLoaded||v||(this._fullyLoaded=!0,a.bf.mark(a.bg.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var w;this._hash&&this._hash.remove();for(const p of this._controls)p.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),O.removeThrottleControl(this._imageQueueHandle),(w=this._resizeObserver)===null||w===void 0||w.disconnect();const c=this.painter.context.gl.getExtension("WEBGL_lose_context");c&&c.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),h.remove(this._canvasContainer),h.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),a.bf.clearMetrics(),this._removed=!0,this.fire(new a.k("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=a.h.frame(w=>{a.bf.frame(w),this._frame=null,this._render(w)}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(w){this._showTileBoundaries!==w&&(this._showTileBoundaries=w,this._update())}get showPadding(){return!!this._showPadding}set showPadding(w){this._showPadding!==w&&(this._showPadding=w,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(w){this._showCollisionBoxes!==w&&(this._showCollisionBoxes=w,w?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(w){this._showOverdrawInspector!==w&&(this._showOverdrawInspector=w,this._update())}get repaint(){return!!this._repaint}set repaint(w){this._repaint!==w&&(this._repaint=w,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(w){this._vertices=w,this._update()}get version(){return Ft}getCameraTargetElevation(){return this.transform.elevation}},Fn.NavigationControl=class{constructor(w){this._updateZoomButtons=()=>{const c=this._map.getZoom(),p=c===this._map.getMaxZoom(),v=c===this._map.getMinZoom();this._zoomInButton.disabled=p,this._zoomOutButton.disabled=v,this._zoomInButton.setAttribute("aria-disabled",p.toString()),this._zoomOutButton.setAttribute("aria-disabled",v.toString())},this._rotateCompassArrow=()=>{const c=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=c},this._setButtonTitle=(c,p)=>{const v=this._map._getUIString(`NavigationControl.${p}`);c.title=v,c.setAttribute("aria-label",v)},this.options=a.e({},Oy,w),this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",c=>c.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",c=>this._map.zoomIn({},{originalEvent:c})),h.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",c=>this._map.zoomOut({},{originalEvent:c})),h.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",c=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:c}):this._map.resetNorth({},{originalEvent:c})}),this._compassIcon=h.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(w){return this._map=w,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new My(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){h.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(w,c){const p=h.create("button",w,this._container);return p.type="button",p.addEventListener("click",c),p}},Fn.GeolocateControl=class extends a.E{constructor(w){super(),this._onSuccess=c=>{if(this._map){if(this._isOutOfMapMaxBounds(c))return this._setErrorState(),this.fire(new a.k("outofmaxbounds",c)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=c,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(c),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(c),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new a.k("geolocate",c)),this._finish()}},this._updateCamera=c=>{const p=new a.L(c.coords.longitude,c.coords.latitude),v=c.coords.accuracy,_=this._map.getBearing(),k=a.e({bearing:_},this.options.fitBoundsOptions),j=Ke.fromLngLat(p,v);this._map.fitBounds(j,k,{geolocateSource:!0})},this._updateMarker=c=>{if(c){const p=new a.L(c.coords.longitude,c.coords.latitude);this._accuracyCircleMarker.setLngLat(p).addTo(this._map),this._userLocationDotMarker.setLngLat(p).addTo(this._map),this._accuracy=c.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=c=>{if(this._map){if(this.options.trackUserLocation)if(c.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(c.code===3&&Uu)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new a.k("error",c)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=c=>{if(this._map){if(this._container.addEventListener("contextmenu",p=>p.preventDefault()),this._geolocateButton=h.create("button","maplibregl-ctrl-geolocate",this._container),h.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",c===!1){a.w("Geolocation support is not available so the GeolocateControl will be disabled.");const p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}else{const p=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=h.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Cc({element:this._dotElement}),this._circleElement=h.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Cc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",p=>{p.geolocateSource||this._watchState!=="ACTIVE_LOCK"||p.originalEvent&&p.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new a.k("trackuserlocationend")))})}},this.options=a.e({},Fr,w)}onAdd(w){return this._map=w,this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(c,p=!1){ri===void 0||p?window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(v=>{ri=v.state!=="denied",c(ri)}).catch(()=>{ri=!!window.navigator.geolocation,c(ri)}):(ri=!!window.navigator.geolocation,c(ri)):c(ri)}(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),h.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Rr=0,Uu=!1}_isOutOfMapMaxBounds(w){const c=this._map.getMaxBounds(),p=w.coords;return c&&(p.longitude<c.getWest()||p.longitude>c.getEast()||p.latitude<c.getSouth()||p.latitude>c.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const w=this._map.getBounds(),c=w.getSouthEast(),p=w.getNorthEast(),v=c.distanceTo(p),_=Math.ceil(this._accuracy/(v/this._map._container.clientHeight)*2);this._circleElement.style.width=`${_}px`,this._circleElement.style.height=`${_}px`}trigger(){if(!this._setup)return a.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Rr--,Uu=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new a.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.k("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let w;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Rr++,Rr>1?(w={maximumAge:6e5,timeout:0},Uu=!0):(w=this.options.positionOptions,Uu=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,w)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},Fn.AttributionControl=Ko,Fn.LogoControl=br,Fn.ScaleControl=class{constructor(w){this._onMove=()=>{vf(this._map,this._container,this.options)},this.setUnit=c=>{this.options.unit=c,vf(this._map,this._container,this.options)},this.options=a.e({},yf,w)}getDefaultPosition(){return"bottom-left"}onAdd(w){return this._map=w,this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-scale",w.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){h.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},Fn.FullscreenControl=class extends a.E{constructor(w={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,w&&w.container&&(w.container instanceof HTMLElement?this._container=w.container:a.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(w){return this._map=w,this._container||(this._container=this._map.getContainer()),this._controlContainer=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){h.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const w=this._fullscreenButton=h.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);h.create("span","maplibregl-ctrl-icon",w).setAttribute("aria-hidden","true"),w.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const w=this._getTitle();this._fullscreenButton.setAttribute("aria-label",w),this._fullscreenButton.title=w}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new a.k("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new a.k("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},Fn.TerrainControl=class{constructor(w){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=w}onAdd(w){return this._map=w,this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=h.create("button","maplibregl-ctrl-terrain",this._container),h.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){h.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},Fn.Popup=class extends a.E{constructor(w){super(),this.remove=()=>(this._content&&h.remove(this._content),this._container&&(h.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.k("close")),this),this._onMouseUp=c=>{this._update(c.point)},this._onMouseMove=c=>{this._update(c.point)},this._onDrag=c=>{this._update(c.point)},this._update=c=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=h.create("div","maplibregl-popup",this._map.getContainer()),this._tip=h.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const j of this.options.className.split(" "))this._container.classList.add(j);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ay(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!c)return;const p=this._pos=this._trackPointer&&c?c:this._map.project(this._lngLat);let v=this.options.anchor;const _=Vu(this.options.offset);if(!v){const j=this._container.offsetWidth,z=this._container.offsetHeight;let V;V=p.y+_.bottom.y<z?["top"]:p.y>this._map.transform.height-z?["bottom"]:[],p.x<j/2?V.push("left"):p.x>this._map.transform.width-j/2&&V.push("right"),v=V.length===0?"bottom":V.join("-")}const k=p.add(_[v]).round();h.setTransform(this._container,`${va[v]} translate(${k.x}px,${k.y}px)`),p_(this._container,v,"popup")},this._onClose=()=>{this.remove()},this.options=a.e(Object.create(Iy),w)}addTo(w){return this._map&&this.remove(),this._map=w,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new a.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(w){return this._lngLat=a.L.convert(w),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(w){return this.setDOMContent(document.createTextNode(w))}setHTML(w){const c=document.createDocumentFragment(),p=document.createElement("body");let v;for(p.innerHTML=w;v=p.firstChild,v;)c.appendChild(v);return this.setDOMContent(c)}getMaxWidth(){var w;return(w=this._container)===null||w===void 0?void 0:w.style.maxWidth}setMaxWidth(w){return this.options.maxWidth=w,this._update(),this}setDOMContent(w){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=h.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(w),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(w){this._container&&this._container.classList.add(w)}removeClassName(w){this._container&&this._container.classList.remove(w)}setOffset(w){return this.options.offset=w,this._update(),this}toggleClassName(w){if(this._container)return this._container.classList.toggle(w)}_createCloseButton(){this.options.closeButton&&(this._closeButton=h.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const w=this._container.querySelector($y);w&&w.focus()}},Fn.Marker=Cc,Fn.Style=ji,Fn.LngLat=a.L,Fn.LngLatBounds=Ke,Fn.Point=a.P,Fn.MercatorCoordinate=a.U,Fn.Evented=a.E,Fn.AJAXError=a.bh,Fn.config=a.c,Fn.CanvasSource=Ve,Fn.GeoJSONSource=Mt,Fn.ImageSource=ct,Fn.RasterDEMTileSource=Nt,Fn.RasterTileSource=st,Fn.VectorTileSource=mt,Fn.VideoSource=ut,Fn.setRTLTextPlugin=a.bi,Fn.getRTLTextPluginStatus=a.bj,Fn.prewarm=function(){Rn().acquire($t)},Fn.clearPrewarmedResources=function(){const w=Tr;w&&(w.isPreloaded()&&w.numActive()===1?(w.release($t),Tr=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},Ry.extend(Fn,{isSafari:a.ac,getPerformanceMetrics:a.bf.getPerformanceMetrics}),Fn});var s=i;return s})})(V7);var Oxe=V7.exports;const ub=cr(Oxe);class Mxe{constructor(t,n,r){this.onBeforeSwitch=t,this.onSwitch=n,this.onAfterSwitch=r,this.onDocumentClick=this.onDocumentClick.bind(this),this.styles=[],this.currentStyle=null}getDefaultPosition(){return"top-right"}updateStyles(t,n){this.styles=t;let r=null;for(const o of this.styles)if(o.id===(this.currentStyle||n)){r=o.id;break}for(r||(r=this.styles[0].id);this.mapStyleContainer.firstChild;)this.mapStyleContainer.removeChild(this.mapStyleContainer.firstChild);let i;for(const o of this.styles){const s=document.createElement("button");s.type="button",s.innerText=o.title,s.dataset.id=o.id,s.dataset.style=JSON.stringify(o.style),s.addEventListener("click",a=>{const{target:f}=a;f.classList.contains("active")||this.onSelectStyle(f)}),o.id===r&&(i=s,s.classList.add("active")),this.mapStyleContainer.appendChild(s)}this.currentStyle!==r&&(this.onSelectStyle(i),this.currentStyle=r)}onSelectStyle(t){this.onBeforeSwitch();const n=this.styles.find(i=>i.id===t.dataset.id);this.map.setStyle(n.style,{diff:!1}),this.map.setTransformRequest(n.transformRequest),this.onSwitch(t.dataset.id),this.mapStyleContainer.style.display="none",this.styleButton.style.display="block";const r=this.mapStyleContainer.getElementsByClassName("active");for(;r[0];)r[0].classList.remove("active");t.classList.add("active"),this.currentStyle=t.dataset.id,this.onAfterSwitch()}onAdd(t){return this.map=t,this.controlContainer=document.createElement("div"),this.controlContainer.classList.add("maplibregl-ctrl"),this.controlContainer.classList.add("maplibregl-ctrl-group"),this.mapStyleContainer=document.createElement("div"),this.styleButton=document.createElement("button"),this.styleButton.type="button",this.mapStyleContainer.classList.add("maplibregl-style-list"),this.styleButton.classList.add("maplibregl-ctrl-icon"),this.styleButton.classList.add("maplibregl-style-switcher"),this.styleButton.addEventListener("click",()=>{this.styleButton.style.display="none",this.mapStyleContainer.style.display="block"}),document.addEventListener("click",this.onDocumentClick),this.controlContainer.appendChild(this.styleButton),this.controlContainer.appendChild(this.mapStyleContainer),this.controlContainer}onRemove(){!this.controlContainer||!this.controlContainer.parentNode||!this.map||!this.styleButton||(this.styleButton.removeEventListener("click",this.onDocumentClick),this.controlContainer.parentNode.removeChild(this.controlContainer),document.removeEventListener("click",this.onDocumentClick),this.map=void 0)}onDocumentClick(t){this.controlContainer&&!this.controlContainer.contains(t.target)&&this.mapStyleContainer&&this.styleButton&&(this.mapStyleContainer.style.display="none",this.styleButton.style.display="block")}}const q7=(e,t)=>{window.localStorage.setItem(e,JSON.stringify(t))},fE=(e,t)=>{const[n,r]=U.useState(()=>{const i=window.localStorage.getItem(e);return i?JSON.parse(i):t});return U.useEffect(()=>{n!==t?q7(e,n):window.localStorage.removeItem(e)},[e,n]),[n,r]},Ao=({tiles:e,minZoom:t,maxZoom:n,attribution:r})=>{const i={type:"raster",tiles:e,attribution:r,tileSize:256,minzoom:t,maxzoom:n};let o=window.location.origin.slice(0,-5),s=8484;return Object.keys(i).forEach(a=>i[a]===void 0&&delete i[a]),{version:8,sources:{custom:i},glyphs:`${o}:${s}/map/fonts/{fontstack}/{range}.pbf`,layers:[{id:"custom",type:"raster",source:"custom"}]}},Axe=()=>{const e="mykey",t="pk.0f147952a41c555a5b70614039fd148b",n="mykey",r="mykey",i="mykey",o="mykey";return[{id:"osm",title:"mapOsm",style:Ao({tiles:["https://tile.openstreetmap.org/{z}/{x}/{y}.png"],maxZoom:19,attribution:' <a target="_top" rel="noopener" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),available:!0},{id:"locationIqStreets",title:"mapLocationIqStreets",style:`https://tiles.locationiq.com/v3/streets/vector.json?key=${t}`,available:!0},{id:"locationIqDark",title:"mapLocationIqDark",style:`https://tiles.locationiq.com/v3/dark/vector.json?key=${t}`,available:!0},{id:"openTopoMap",title:"mapOpenTopoMap",style:Ao({tiles:["a","b","c"].map(s=>`https://${s}.tile.opentopomap.org/{z}/{x}/{y}.png`),maxZoom:17}),available:!0},{id:"carto",title:"mapCarto",style:Ao({tiles:["a","b","c","d"].map(s=>`https://${s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}@2x.png`),maxZoom:22,attribution:' <a target="_top" rel="noopener" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors,  <a target="_top" rel="noopener" href="https://carto.com/attribution">CARTO</a>'}),available:!0},{id:"googleRoad",title:"mapGoogleRoad",style:Ao({tiles:[0,1,2,3].map(s=>`https://mt${s}.google.com/vt/lyrs=m&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:" Google"}),available:!0},{id:"googleSatellite",title:"mapGoogleSatellite",style:Ao({tiles:[0,1,2,3].map(s=>`https://mt${s}.google.com/vt/lyrs=s&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:" Google"}),available:!0},{id:"googleHybrid",title:"mapGoogleHybrid",style:Ao({tiles:[0,1,2,3].map(s=>`https://mt${s}.google.com/vt/lyrs=y&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:" Google"}),available:!0},{id:"mapTilerBasic",title:"mapMapTilerBasic",style:`https://api.maptiler.com/maps/basic/style.json?key=${e}`,available:!!e,attribute:"mapTilerKey"},{id:"mapTilerHybrid",title:"mapMapTilerHybrid",style:`https://api.maptiler.com/maps/hybrid/style.json?key=${e}`,available:!!e,attribute:"mapTilerKey"},{id:"bingRoad",title:"mapBingRoad",style:Ao({tiles:[0,1,2,3].map(s=>`https://t${s}.ssl.ak.dynamic.tiles.virtualearth.net/comp/ch/{quadkey}?mkt=en-US&it=G,L&shading=hill&og=1885&n=z`),maxZoom:21}),available:!!n,attribute:"bingMapsKey"},{id:"bingAerial",title:"mapBingAerial",style:Ao({tiles:[0,1,2,3].map(s=>`https://ecn.t${s}.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=12327`),maxZoom:19}),available:!!n,attribute:"bingMapsKey"},{id:"bingHybrid",title:"mapBingHybrid",style:Ao({tiles:[0,1,2,3].map(s=>`https://t${s}.ssl.ak.dynamic.tiles.virtualearth.net/comp/ch/{quadkey}?mkt=en-US&it=A,G,L&og=1885&n=z`),maxZoom:19}),available:!!n,attribute:"bingMapsKey"},{id:"tomTomBasic",title:"mapTomTomBasic",style:`https://api.tomtom.com/map/1/style/20.0.0-8/basic_main.json?key=${r}`,available:!!r,attribute:"tomTomKey"},{id:"hereBasic",title:"mapHereBasic",style:`https://assets.vector.hereapi.com/styles/berlin/base/mapbox/tilezen?apikey=${i}`,available:!!i,attribute:"hereKey"},{id:"hereHybrid",title:"mapHereHybrid",style:Ao({tiles:[1,2,3,4].map(s=>`https://${s}.aerial.maps.ls.hereapi.com/maptile/2.1/maptile/newest/hybrid.day/{z}/{x}/{y}/256/png8?apiKey=${i}`),maxZoom:20}),available:!!i,attribute:"hereKey"},{id:"hereSatellite",title:"mapHereSatellite",style:Ao({tiles:[1,2,3,4].map(s=>`https://${s}.aerial.maps.ls.hereapi.com/maptile/2.1/maptile/newest/satellite.day/{z}/{x}/{y}/256/png8?apiKey=${i}`),maxZoom:19}),available:!!i,attribute:"hereKey"},{id:"autoNavi",title:"mapAutoNavi",style:Ao({tiles:[1,2,3,4].map(s=>`https://webrd0${s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}`),minZoom:3,maxZoom:18}),available:!0},{id:"ordnanceSurvey",title:"mapOrdnanceSurvey",style:"https://api.os.uk/maps/vector/v1/vts/resources/styles?key=EAZ8p83u72FTGiLjLC2MsTAl1ko6XQHC",transformRequest:s=>({url:`${s}&srs=3857`}),available:!0},{id:"mapboxStreets",title:"mapMapboxStreets",style:Ao({tiles:[`https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22}),available:!!o,attribute:"mapboxAccessToken"},{id:"mapboxOutdoors",title:"mapMapboxOutdoors",style:Ao({tiles:[`https://api.mapbox.com/styles/v1/mapbox/outdoors-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22}),available:!!o,attribute:"mapboxAccessToken"},{id:"mapboxSatelliteStreet",title:"mapMapboxSatellite",style:Ao({tiles:[`https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22}),available:!!o,attribute:"mapboxAccessToken"},{id:"custom",title:"mapCustom",style:Ao({tiles:["http://localhost:8080/tile/{z}/{x}/{y}.png"],maxZoom:19}),available:!0}]},Gm=document.createElement("div");Gm.style.width="100%";Gm.style.height="100%";Gm.style.boxSizing="initial";const Ye=new ub.Map({container:Gm,attributionControl:!1,zoom:14});let AR=!1;const IR=new Set,Ixe=e=>{IR.add(e),e(AR)},$xe=e=>{IR.delete(e)},H7=e=>{AR=e,IR.forEach(t=>t(e))},Rxe=async()=>{AR||(Ye.hasImage("background")||(Object.entries(jc).forEach(([e,t])=>{Ye.addImage(e,t,{pixelRatio:window.devicePixelRatio})}),Ye.easeTo({center:[-6.0025,37.412],zoom:Math.max(Ye.getZoom(),5),offset:[0,-1/2]})),H7(!0))};Ye.addControl(new ub.NavigationControl);const G7=new Mxe(()=>H7(!1),e=>q7("selectedMapStyle",e),()=>{Ye.once("styledata",()=>{const e=()=>{Ye.loaded()?Rxe():setTimeout(e,33)};e()})});Ye.addControl(G7);const $R=({children:e})=>{const t=U.useRef(null),[n,r]=U.useState(!1),i=Axe(),o="osm,locationIqStreets,carto,custom",[s]="osm",a="my tocken",f=21;return U.useEffect(()=>{Ye.setMaxZoom(f)},[f]),U.useEffect(()=>{ub.accessToken=a},[a]),U.useEffect(()=>{const h=i.filter(y=>y.available&&o.includes(y.id)),g=h.length?h:i.filter(y=>y.id==="osm");G7.updateStyles(g,s)},[i,s]),U.useEffect(()=>{const h=g=>r(g);return Ixe(h),()=>{$xe(h)}},[]),U.useLayoutEffect(()=>{const h=t.current;return h.appendChild(Gm),Ye.resize(),()=>{h.removeChild(Gm)}},[t]),L.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},ref:t,children:n&&e})},RR=Symbol.for("yaml.alias"),HM=Symbol.for("yaml.document"),Id=Symbol.for("yaml.map"),Y7=Symbol.for("yaml.pair"),hu=Symbol.for("yaml.scalar"),Pg=Symbol.for("yaml.seq"),Vs=Symbol.for("yaml.node.type"),Th=e=>!!e&&typeof e=="object"&&e[Vs]===RR,Eg=e=>!!e&&typeof e=="object"&&e[Vs]===HM,Og=e=>!!e&&typeof e=="object"&&e[Vs]===Id,ni=e=>!!e&&typeof e=="object"&&e[Vs]===Y7,jr=e=>!!e&&typeof e=="object"&&e[Vs]===hu,Mg=e=>!!e&&typeof e=="object"&&e[Vs]===Pg;function si(e){if(e&&typeof e=="object")switch(e[Vs]){case Id:case Pg:return!0}return!1}function Mi(e){if(e&&typeof e=="object")switch(e[Vs]){case RR:case Id:case hu:case Pg:return!0}return!1}const Dxe=e=>(jr(e)||si(e))&&!!e.anchor,ka=Symbol("break visit"),K7=Symbol("skip children"),ac=Symbol("remove node");function Ud(e,t){const n=Z7(t);Eg(e)?em(null,e.contents,n,Object.freeze([e]))===ac&&(e.contents=null):em(null,e,n,Object.freeze([]))}Ud.BREAK=ka;Ud.SKIP=K7;Ud.REMOVE=ac;function em(e,t,n,r){const i=X7(e,t,n,r);if(Mi(i)||ni(i))return J7(e,r,i),em(e,i,n,r);if(typeof i!="symbol"){if(si(t)){r=Object.freeze(r.concat(t));for(let o=0;o<t.items.length;++o){const s=em(o,t.items[o],n,r);if(typeof s=="number")o=s-1;else{if(s===ka)return ka;s===ac&&(t.items.splice(o,1),o-=1)}}}else if(ni(t)){r=Object.freeze(r.concat(t));const o=em("key",t.key,n,r);if(o===ka)return ka;o===ac&&(t.key=null);const s=em("value",t.value,n,r);if(s===ka)return ka;s===ac&&(t.value=null)}}return i}async function MC(e,t){const n=Z7(t);Eg(e)?await tm(null,e.contents,n,Object.freeze([e]))===ac&&(e.contents=null):await tm(null,e,n,Object.freeze([]))}MC.BREAK=ka;MC.SKIP=K7;MC.REMOVE=ac;async function tm(e,t,n,r){const i=await X7(e,t,n,r);if(Mi(i)||ni(i))return J7(e,r,i),tm(e,i,n,r);if(typeof i!="symbol"){if(si(t)){r=Object.freeze(r.concat(t));for(let o=0;o<t.items.length;++o){const s=await tm(o,t.items[o],n,r);if(typeof s=="number")o=s-1;else{if(s===ka)return ka;s===ac&&(t.items.splice(o,1),o-=1)}}}else if(ni(t)){r=Object.freeze(r.concat(t));const o=await tm("key",t.key,n,r);if(o===ka)return ka;o===ac&&(t.key=null);const s=await tm("value",t.value,n,r);if(s===ka)return ka;s===ac&&(t.value=null)}}return i}function Z7(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function X7(e,t,n,r){var i,o,s,a,f;if(typeof n=="function")return n(e,t,r);if(Og(t))return(i=n.Map)==null?void 0:i.call(n,e,t,r);if(Mg(t))return(o=n.Seq)==null?void 0:o.call(n,e,t,r);if(ni(t))return(s=n.Pair)==null?void 0:s.call(n,e,t,r);if(jr(t))return(a=n.Scalar)==null?void 0:a.call(n,e,t,r);if(Th(t))return(f=n.Alias)==null?void 0:f.call(n,e,t,r)}function J7(e,t,n){const r=t[t.length-1];if(si(r))r.items[e]=n;else if(ni(r))e==="key"?r.key=n:r.value=n;else if(Eg(r))r.contents=n;else{const i=Th(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const Lxe={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},jxe=e=>e.replace(/[!,[\]{}]/g,t=>Lxe[t]);class oa{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},oa.defaultYaml,t),this.tags=Object.assign({},oa.defaultTags,n)}clone(){const t=new oa(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new oa(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:oa.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},oa.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:oa.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},oa.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[o,s]=r;return this.tags[o]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[o]=r;if(o==="1.1"||o==="1.2")return this.yaml.version=o,!0;{const s=/^\d+\.\d+$/.test(o);return n(6,`Unsupported YAML version ${o}`,s),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const s=t.slice(2,-1);return s==="!"||s==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),s)}const[,r,i]=t.match(/^(.*!)([^!]*)$/s);i||n(`The ${t} tag has no suffix`);const o=this.tags[r];if(o)try{return o+decodeURIComponent(i)}catch(s){return n(String(s)),null}return r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+jxe(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let i;if(t&&r.length>0&&Mi(t.contents)){const o={};Ud(t.contents,(s,a)=>{Mi(a)&&a.tag&&(o[a.tag]=!0)}),i=Object.keys(o)}else i=[];for(const[o,s]of r)o==="!!"&&s==="tag:yaml.org,2002:"||(!t||i.some(a=>a.startsWith(s)))&&n.push(`%TAG ${o} ${s}`);return n.join(`
`)}}oa.defaultYaml={explicit:!1,version:"1.2"};oa.defaultTags={"!!":"tag:yaml.org,2002:"};function Q7(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function eq(e){const t=new Set;return Ud(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function tq(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function Nxe(e,t){const n=[],r=new Map;let i=null;return{onAnchor:o=>{n.push(o),i||(i=eq(e));const s=tq(t,i);return i.add(s),s},setAnchors:()=>{for(const o of n){const s=r.get(o);if(typeof s=="object"&&s.anchor&&(jr(s.node)||si(s.node)))s.node.anchor=s.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=o,a}}},sourceObjects:r}}function nm(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,o=r.length;i<o;++i){const s=r[i],a=nm(e,r,String(i),s);a===void 0?delete r[i]:a!==s&&(r[i]=a)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const o=r.get(i),s=nm(e,r,i,o);s===void 0?r.delete(i):s!==o&&r.set(i,s)}else if(r instanceof Set)for(const i of Array.from(r)){const o=nm(e,r,i,i);o===void 0?r.delete(i):o!==i&&(r.delete(i),r.add(o))}else for(const[i,o]of Object.entries(r)){const s=nm(e,r,i,o);s===void 0?delete r[i]:s!==o&&(r[i]=s)}return e.call(t,n,r)}function $s(e,t,n){if(Array.isArray(e))return e.map((r,i)=>$s(r,String(i),n));if(e&&typeof e.toJSON=="function"){if(!n||!Dxe(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=o=>{r.res=o,delete n.onCreate};const i=e.toJSON(t,n);return n.onCreate&&n.onCreate(i),i}return typeof e=="bigint"&&!(n!=null&&n.keep)?Number(e):e}class DR{constructor(t){Object.defineProperty(this,Vs,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:o}={}){if(!Eg(t))throw new TypeError("A document argument is required");const s={anchors:new Map,doc:t,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},a=$s(this,"",s);if(typeof i=="function")for(const{count:f,res:h}of s.anchors.values())i(h,f);return typeof o=="function"?nm(o,{"":a},"",a):a}}class AC extends DR{constructor(t){super(RR),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let n;return Ud(t,{Node:(r,i)=>{if(i===this)return Ud.BREAK;i.anchor===this.source&&(n=i)}}),n}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:o}=n,s=this.resolve(i);if(!s){const f=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(f)}let a=r.get(s);if(a||($s(s,null,n),a=r.get(s)),!a||a.res===void 0){const f="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(f)}if(o>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=rw(i,s,r)),a.count*a.aliasCount>o)){const f="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(f)}return a.res}toString(t,n,r){const i=`*${this.source}`;if(t){if(Q7(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const o=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(o)}if(t.implicitKey)return`${i} `}return i}}function rw(e,t,n){if(Th(t)){const r=t.resolve(e),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(si(t)){let r=0;for(const i of t.items){const o=rw(e,i,n);o>r&&(r=o)}return r}else if(ni(t)){const r=rw(e,t.key,n),i=rw(e,t.value,n);return Math.max(r,i)}return 1}const nq=e=>!e||typeof e!="function"&&typeof e!="object";class Cn extends DR{constructor(t){super(hu),this.value=t}toJSON(t,n){return n!=null&&n.keep?this.value:$s(this.value,t,n)}toString(){return String(this.value)}}Cn.BLOCK_FOLDED="BLOCK_FOLDED";Cn.BLOCK_LITERAL="BLOCK_LITERAL";Cn.PLAIN="PLAIN";Cn.QUOTE_DOUBLE="QUOTE_DOUBLE";Cn.QUOTE_SINGLE="QUOTE_SINGLE";const zxe="tag:yaml.org,2002:";function Bxe(e,t,n){if(t){const r=n.filter(o=>o.tag===t),i=r.find(o=>!o.format)??r[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return n.find(r=>{var i;return((i=r.identify)==null?void 0:i.call(r,e))&&!r.format})}function tx(e,t,n){var y,x,T;if(Eg(e)&&(e=e.contents),Mi(e))return e;if(ni(e)){const E=(x=(y=n.schema[Id]).createNode)==null?void 0:x.call(y,n.schema,null,n);return E.items.push(e),E}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:o,schema:s,sourceObjects:a}=n;let f;if(r&&e&&typeof e=="object"){if(f=a.get(e),f)return f.anchor||(f.anchor=i(e)),new AC(f.anchor);f={anchor:null,node:null},a.set(e,f)}t!=null&&t.startsWith("!!")&&(t=zxe+t.slice(2));let h=Bxe(e,t,s.tags);if(!h){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const E=new Cn(e);return f&&(f.node=E),E}h=e instanceof Map?s[Id]:Symbol.iterator in Object(e)?s[Pg]:s[Id]}o&&(o(h),delete n.onTagObj);const g=h!=null&&h.createNode?h.createNode(n.schema,e,n):typeof((T=h==null?void 0:h.nodeClass)==null?void 0:T.from)=="function"?h.nodeClass.from(n.schema,e,n):new Cn(e);return t?g.tag=t:h.default||(g.tag=h.tag),f&&(f.node=g),g}function aS(e,t,n){let r=n;for(let i=t.length-1;i>=0;--i){const o=t[i];if(typeof o=="number"&&Number.isInteger(o)&&o>=0){const s=[];s[o]=r,r=s}else r=new Map([[o,r]])}return tx(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const Yv=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class IC extends DR{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>Mi(r)||ni(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(Yv(t))this.add(n);else{const[r,...i]=t,o=this.get(r,!0);if(si(o))o.addIn(i,n);else if(o===void 0&&this.schema)this.set(r,aS(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(si(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...i]=t,o=this.get(r,!0);return i.length===0?!n&&jr(o)?o.value:o:si(o)?o.getIn(i,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!ni(n))return!1;const r=n.value;return r==null||t&&jr(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const i=this.get(n,!0);return si(i)?i.hasIn(r):!1}setIn(t,n){const[r,...i]=t;if(i.length===0)this.set(r,n);else{const o=this.get(r,!0);if(si(o))o.setIn(i,n);else if(o===void 0&&this.schema)this.set(r,aS(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}IC.maxFlowStringSingleLineLength=60;const Fxe=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Gc(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const yd=(e,t,n)=>e.endsWith(`
`)?Gc(n,t):n.includes(`
`)?`
`+Gc(n,t):(e.endsWith(" ")?"":" ")+n,rq="flow",GM="block",iw="quoted";function $C(e,t,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:o=20,onFold:s,onOverflow:a}={}){if(!i||i<0)return e;const f=Math.max(1+o,1+i-t.length);if(e.length<=f)return e;const h=[],g={};let y=i-t.length;typeof r=="number"&&(r>i-Math.max(2,o)?h.push(0):y=i-r);let x,T,E=!1,C=-1,O=-1,A=-1;n===GM&&(C=xB(e,C),C!==-1&&(y=C+f));for(let I;I=e[C+=1];){if(n===iw&&I==="\\"){switch(O=C,e[C+1]){case"x":C+=3;break;case"u":C+=5;break;case"U":C+=9;break;default:C+=1}A=C}if(I===`
`)n===GM&&(C=xB(e,C)),y=C+f,x=void 0;else{if(I===" "&&T&&T!==" "&&T!==`
`&&T!=="	"){const N=e[C+1];N&&N!==" "&&N!==`
`&&N!=="	"&&(x=C)}if(C>=y)if(x)h.push(x),y=x+f,x=void 0;else if(n===iw){for(;T===" "||T==="	";)T=I,I=e[C+=1],E=!0;const N=C>A+1?C-2:O-1;if(g[N])return e;h.push(N),g[N]=!0,y=N+f,x=void 0}else E=!0}T=I}if(E&&a&&a(),h.length===0)return e;s&&s();let M=e.slice(0,h[0]);for(let I=0;I<h.length;++I){const N=h[I],$=h[I+1]||e.length;N===0?M=`
${t}${e.slice(0,$)}`:(n===iw&&g[N]&&(M+=`${e[N]}\\`),M+=`
${t}${e.slice(N+1,$)}`)}return M}function xB(e,t){let n=e[t+1];for(;n===" "||n==="	";){do n=e[t+=1];while(n&&n!==`
`);n=e[t+1]}return t}const RC=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),DC=e=>/^(%|---|\.\.\.)/m.test(e);function Uxe(e,t,n){if(!t||t<0)return!1;const r=t-n,i=e.length;if(i<=r)return!1;for(let o=0,s=0;o<i;++o)if(e[o]===`
`){if(o-s>r)return!0;if(s=o+1,i-s<=r)return!1}return!0}function m0(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,i=t.options.doubleQuotedMinMultiLineLength,o=t.indent||(DC(e)?"  ":"");let s="",a=0;for(let f=0,h=n[f];h;h=n[++f])if(h===" "&&n[f+1]==="\\"&&n[f+2]==="n"&&(s+=n.slice(a,f)+"\\ ",f+=1,a=f,h="\\"),h==="\\")switch(n[f+1]){case"u":{s+=n.slice(a,f);const g=n.substr(f+2,4);switch(g){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:g.substr(0,2)==="00"?s+="\\x"+g.substr(2):s+=n.substr(f,6)}f+=5,a=f+1}break;case"n":if(r||n[f+2]==='"'||n.length<i)f+=1;else{for(s+=n.slice(a,f)+`

`;n[f+2]==="\\"&&n[f+3]==="n"&&n[f+4]!=='"';)s+=`
`,f+=2;s+=o,n[f+2]===" "&&(s+="\\"),f+=1,a=f+1}break;default:f+=1}return s=a?s+n.slice(a):n,r?s:$C(s,o,iw,RC(t,!1))}function YM(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return m0(e,t);const n=t.indent||(DC(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:$C(r,n,rq,RC(t,!1))}function rm(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=m0;else{const i=e.includes('"'),o=e.includes("'");i&&!o?r=YM:o&&!i?r=m0:r=n?YM:m0}return r(e,t)}let KM;try{KM=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{KM=/\n+(?!\n|$)/g}function ow({comment:e,type:t,value:n},r,i,o){const{blockQuote:s,commentString:a,lineWidth:f}=r.options;if(!s||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return rm(n,r);const h=r.indent||(r.forceBlockIndent||DC(n)?"  ":""),g=s==="literal"?!0:s==="folded"||t===Cn.BLOCK_FOLDED?!1:t===Cn.BLOCK_LITERAL?!0:!Uxe(n,f,h.length);if(!n)return g?`|
`:`>
`;let y,x;for(x=n.length;x>0;--x){const D=n[x-1];if(D!==`
`&&D!=="	"&&D!==" ")break}let T=n.substring(x);const E=T.indexOf(`
`);E===-1?y="-":n===T||E!==T.length-1?(y="+",o&&o()):y="",T&&(n=n.slice(0,-T.length),T[T.length-1]===`
`&&(T=T.slice(0,-1)),T=T.replace(KM,`$&${h}`));let C=!1,O,A=-1;for(O=0;O<n.length;++O){const D=n[O];if(D===" ")C=!0;else if(D===`
`)A=O;else break}let M=n.substring(0,A<O?A+1:O);M&&(n=n.substring(M.length),M=M.replace(/\n+/g,`$&${h}`));let N=(g?"|":">")+(C?h?"2":"1":"")+y;if(e&&(N+=" "+a(e.replace(/ ?[\r\n]+/g," ")),i&&i()),g)return n=n.replace(/\n+/g,`$&${h}`),`${N}
${h}${M}${n}${T}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${h}`);const $=$C(`${M}${n}${T}`,h,GM,RC(r,!0));return`${N}
${h}${$}`}function Vxe(e,t,n,r){const{type:i,value:o}=e,{actualString:s,implicitKey:a,indent:f,indentStep:h,inFlow:g}=t;if(a&&o.includes(`
`)||g&&/[[\]{},]/.test(o))return rm(o,t);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return a||g||!o.includes(`
`)?rm(o,t):ow(e,t,n,r);if(!a&&!g&&i!==Cn.PLAIN&&o.includes(`
`))return ow(e,t,n,r);if(DC(o)){if(f==="")return t.forceBlockIndent=!0,ow(e,t,n,r);if(a&&f===h)return rm(o,t)}const y=o.replace(/\n+/g,`$&
${f}`);if(s){const x=C=>{var O;return C.default&&C.tag!=="tag:yaml.org,2002:str"&&((O=C.test)==null?void 0:O.test(y))},{compat:T,tags:E}=t.doc.schema;if(E.some(x)||T!=null&&T.some(x))return rm(o,t)}return a?y:$C(y,f,rq,RC(t,!1))}function db(e,t,n,r){const{implicitKey:i,inFlow:o}=t,s=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==Cn.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(a=Cn.QUOTE_DOUBLE);const f=g=>{switch(g){case Cn.BLOCK_FOLDED:case Cn.BLOCK_LITERAL:return i||o?rm(s.value,t):ow(s,t,n,r);case Cn.QUOTE_DOUBLE:return m0(s.value,t);case Cn.QUOTE_SINGLE:return YM(s.value,t);case Cn.PLAIN:return Vxe(s,t,n,r);default:return null}};let h=f(a);if(h===null){const{defaultKeyType:g,defaultStringType:y}=t.options,x=i&&g||y;if(h=f(x),h===null)throw new Error(`Unsupported default string type ${x}`)}return h}function iq(e,t){const n=Object.assign({blockQuote:!0,commentString:Fxe,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function Wxe(e,t){var i;if(t.tag){const o=e.filter(s=>s.tag===t.tag);if(o.length>0)return o.find(s=>s.format===t.format)??o[0]}let n,r;if(jr(t)){r=t.value;const o=e.filter(s=>{var a;return(a=s.identify)==null?void 0:a.call(s,r)});n=o.find(s=>s.format===t.format)??o.find(s=>!s.format)}else r=t,n=e.find(o=>o.nodeClass&&r instanceof o.nodeClass);if(!n){const o=((i=r==null?void 0:r.constructor)==null?void 0:i.name)??typeof r;throw new Error(`Tag not resolved for ${o} value`)}return n}function qxe(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],o=(jr(e)||si(e))&&e.anchor;o&&Q7(o)&&(n.add(o),i.push(`&${o}`));const s=e.tag?e.tag:t.default?null:t.tag;return s&&i.push(r.directives.tagString(s)),i.join(" ")}function Ym(e,t,n,r){var f;if(ni(e))return e.toString(t,n,r);if(Th(e)){if(t.doc.directives)return e.toString(t);if((f=t.resolvedAliases)!=null&&f.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i;const o=Mi(e)?e:t.doc.createNode(e,{onTagObj:h=>i=h});i||(i=Wxe(t.doc.schema.tags,o));const s=qxe(o,i,t);s.length>0&&(t.indentAtStart=(t.indentAtStart??0)+s.length+1);const a=typeof i.stringify=="function"?i.stringify(o,t,n,r):jr(o)?db(o,t,n,r):o.toString(t,n,r);return s?jr(o)||a[0]==="{"||a[0]==="["?`${s} ${a}`:`${s}
${t.indent}${a}`:a}function Hxe({key:e,value:t},n,r,i){const{allNullValues:o,doc:s,indent:a,indentStep:f,options:{commentString:h,indentSeq:g,simpleKeys:y}}=n;let x=Mi(e)&&e.comment||null;if(y){if(x)throw new Error("With simple keys, key nodes cannot have comments");if(si(e)){const F="With simple keys, collection cannot be used as a key value";throw new Error(F)}}let T=!y&&(!e||x&&t==null&&!n.inFlow||si(e)||(jr(e)?e.type===Cn.BLOCK_FOLDED||e.type===Cn.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!T&&(y||!o),indent:a+f});let E=!1,C=!1,O=Ym(e,n,()=>E=!0,()=>C=!0);if(!T&&!n.inFlow&&O.length>1024){if(y)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");T=!0}if(n.inFlow){if(o||t==null)return E&&r&&r(),O===""?"?":T?`? ${O}`:O}else if(o&&!y||t==null&&T)return O=`? ${O}`,x&&!E?O+=yd(O,n.indent,h(x)):C&&i&&i(),O;E&&(x=null),T?(x&&(O+=yd(O,n.indent,h(x))),O=`? ${O}
${a}:`):(O=`${O}:`,x&&(O+=yd(O,n.indent,h(x))));let A,M,I;Mi(t)?(A=!!t.spaceBefore,M=t.commentBefore,I=t.comment):(A=!1,M=null,I=null,t&&typeof t=="object"&&(t=s.createNode(t))),n.implicitKey=!1,!T&&!x&&jr(t)&&(n.indentAtStart=O.length+1),C=!1,!g&&f.length>=2&&!n.inFlow&&!T&&Mg(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let N=!1;const $=Ym(t,n,()=>N=!0,()=>C=!0);let D=" ";if(x||A||M){if(D=A?`
`:"",M){const F=h(M);D+=`
${Gc(F,n.indent)}`}$===""&&!n.inFlow?D===`
`&&(D=`

`):D+=`
${n.indent}`}else if(!T&&si(t)){const F=$[0],q=$.indexOf(`
`),X=q!==-1,J=n.inFlow??t.flow??t.items.length===0;if(X||!J){let ie=!1;if(X&&(F==="&"||F==="!")){let ge=$.indexOf(" ");F==="&"&&ge!==-1&&ge<q&&$[ge+1]==="!"&&(ge=$.indexOf(" ",ge+1)),(ge===-1||q<ge)&&(ie=!0)}ie||(D=`
${n.indent}`)}}else($===""||$[0]===`
`)&&(D="");return O+=D+$,n.inFlow?N&&r&&r():I&&!N?O+=yd(O,n.indent,h(I)):C&&i&&i(),O}function oq(e,t){(e==="debug"||e==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(t):console.warn(t))}const bB="<<";function aq(e,t,{key:n,value:r}){if(e!=null&&e.doc.schema.merge&&Gxe(n))if(r=Th(r)?r.resolve(e.doc):r,Mg(r))for(const i of r.items)hE(e,t,i);else if(Array.isArray(r))for(const i of r)hE(e,t,i);else hE(e,t,r);else{const i=$s(n,"",e);if(t instanceof Map)t.set(i,$s(r,i,e));else if(t instanceof Set)t.add(i);else{const o=Yxe(n,i,e),s=$s(r,o,e);o in t?Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0}):t[o]=s}}return t}const Gxe=e=>e===bB||jr(e)&&e.value===bB&&(!e.type||e.type===Cn.PLAIN);function hE(e,t,n){const r=e&&Th(n)?n.resolve(e.doc):n;if(!Og(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,e,Map);for(const[o,s]of i)t instanceof Map?t.has(o)||t.set(o,s):t instanceof Set?t.add(o):Object.prototype.hasOwnProperty.call(t,o)||Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0});return t}function Yxe(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(Mi(e)&&(n!=null&&n.doc)){const r=iq(n.doc,{});r.anchors=new Set;for(const o of n.anchors.keys())r.anchors.add(o.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=e.toString(r);if(!n.mapKeyWarned){let o=JSON.stringify(i);o.length>40&&(o=o.substring(0,36)+'..."'),oq(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(t)}function LR(e,t,n){const r=tx(e,void 0,n),i=tx(t,void 0,n);return new Bo(r,i)}class Bo{constructor(t,n=null){Object.defineProperty(this,Vs,{value:Y7}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return Mi(n)&&(n=n.clone(t)),Mi(r)&&(r=r.clone(t)),new Bo(n,r)}toJSON(t,n){const r=n!=null&&n.mapAsMap?new Map:{};return aq(n,r,this)}toString(t,n,r){return t!=null&&t.doc?Hxe(this,t,n,r):JSON.stringify(this)}}function sq(e,t,n){return(t.inFlow??e.flow?Zxe:Kxe)(e,t,n)}function Kxe({comment:e,items:t},n,{blockItemPrefix:r,flowChars:i,itemIndent:o,onChompKeep:s,onComment:a}){const{indent:f,options:{commentString:h}}=n,g=Object.assign({},n,{indent:o,type:null});let y=!1;const x=[];for(let E=0;E<t.length;++E){const C=t[E];let O=null;if(Mi(C))!y&&C.spaceBefore&&x.push(""),sS(n,x,C.commentBefore,y),C.comment&&(O=C.comment);else if(ni(C)){const M=Mi(C.key)?C.key:null;M&&(!y&&M.spaceBefore&&x.push(""),sS(n,x,M.commentBefore,y))}y=!1;let A=Ym(C,g,()=>O=null,()=>y=!0);O&&(A+=yd(A,o,h(O))),y&&O&&(y=!1),x.push(r+A)}let T;if(x.length===0)T=i.start+i.end;else{T=x[0];for(let E=1;E<x.length;++E){const C=x[E];T+=C?`
${f}${C}`:`
`}}return e?(T+=`
`+Gc(h(e),f),a&&a()):y&&s&&s(),T}function Zxe({comment:e,items:t},n,{flowChars:r,itemIndent:i,onComment:o}){const{indent:s,indentStep:a,flowCollectionPadding:f,options:{commentString:h}}=n;i+=a;const g=Object.assign({},n,{indent:i,inFlow:!0,type:null});let y=!1,x=0;const T=[];for(let A=0;A<t.length;++A){const M=t[A];let I=null;if(Mi(M))M.spaceBefore&&T.push(""),sS(n,T,M.commentBefore,!1),M.comment&&(I=M.comment);else if(ni(M)){const $=Mi(M.key)?M.key:null;$&&($.spaceBefore&&T.push(""),sS(n,T,$.commentBefore,!1),$.comment&&(y=!0));const D=Mi(M.value)?M.value:null;D?(D.comment&&(I=D.comment),D.commentBefore&&(y=!0)):M.value==null&&($!=null&&$.comment)&&(I=$.comment)}I&&(y=!0);let N=Ym(M,g,()=>I=null);A<t.length-1&&(N+=","),I&&(N+=yd(N,i,h(I))),!y&&(T.length>x||N.includes(`
`))&&(y=!0),T.push(N),x=T.length}let E;const{start:C,end:O}=r;if(T.length===0)E=C+O;else if(y||(y=T.reduce((M,I)=>M+I.length+2,2)>IC.maxFlowStringSingleLineLength),y){E=C;for(const A of T)E+=A?`
${a}${s}${A}`:`
`;E+=`
${s}${O}`}else E=`${C}${f}${T.join(" ")}${f}${O}`;return e&&(E+=yd(E,s,h(e)),o&&o()),E}function sS({indent:e,options:{commentString:t}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){const o=Gc(t(r),e);n.push(o.trimStart())}}function Wf(e,t){const n=jr(t)?t.value:t;for(const r of e)if(ni(r)&&(r.key===t||r.key===n||jr(r.key)&&r.key.value===n))return r}class Ga extends IC{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(Id,t),this.items=[]}static from(t,n,r){const{keepUndefined:i,replacer:o}=r,s=new this(t),a=(f,h)=>{if(typeof o=="function")h=o.call(n,f,h);else if(Array.isArray(o)&&!o.includes(f))return;(h!==void 0||i)&&s.items.push(LR(f,h,r))};if(n instanceof Map)for(const[f,h]of n)a(f,h);else if(n&&typeof n=="object")for(const f of Object.keys(n))a(f,n[f]);return typeof t.sortMapEntries=="function"&&s.items.sort(t.sortMapEntries),s}add(t,n){var s;let r;ni(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new Bo(t,t==null?void 0:t.value):r=new Bo(t.key,t.value);const i=Wf(this.items,r.key),o=(s=this.schema)==null?void 0:s.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);jr(i.value)&&nq(r.value)?i.value.value=r.value:i.value=r.value}else if(o){const a=this.items.findIndex(f=>o(r,f)<0);a===-1?this.items.push(r):this.items.splice(a,0,r)}else this.items.push(r)}delete(t){const n=Wf(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){const r=Wf(this.items,t),i=r==null?void 0:r.value;return(!n&&jr(i)?i.value:i)??void 0}has(t){return!!Wf(this.items,t)}set(t,n){this.add(new Bo(t,n),!0)}toJSON(t,n,r){const i=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(i);for(const o of this.items)aq(n,i,o);return i}toString(t,n,r){if(!t)return JSON.stringify(this);for(const i of this.items)if(!ni(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),sq(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}const Ag={collection:"map",default:!0,nodeClass:Ga,tag:"tag:yaml.org,2002:map",resolve(e,t){return Og(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,n)=>Ga.from(e,t,n)};class Vd extends IC{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(Pg,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=x1(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=x1(t);if(typeof r!="number")return;const i=this.items[r];return!n&&jr(i)?i.value:i}has(t){const n=x1(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=x1(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const i=this.items[r];jr(i)&&nq(n)?i.value=n:this.items[r]=n}toJSON(t,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let i=0;for(const o of this.items)r.push($s(o,String(i++),n));return r}toString(t,n,r){return t?sq(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(t,n,r){const{replacer:i}=r,o=new this(t);if(n&&Symbol.iterator in Object(n)){let s=0;for(let a of n){if(typeof i=="function"){const f=n instanceof Set?a:String(s++);a=i.call(n,f,a)}o.items.push(tx(a,void 0,r))}}return o}}function x1(e){let t=jr(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const Ig={collection:"seq",default:!0,nodeClass:Vd,tag:"tag:yaml.org,2002:seq",resolve(e,t){return Mg(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,n)=>Vd.from(e,t,n)},LC={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),db(e,t,n,r)}},jC={identify:e=>e==null,createNode:()=>new Cn(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Cn(null),stringify:({source:e},t)=>typeof e=="string"&&jC.test.test(e)?e:t.options.nullStr},jR={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new Cn(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&jR.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function Ol({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let o=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(o)){let s=o.indexOf(".");s<0&&(s=o.length,o+=".");let a=t-(o.length-s-1);for(;a-- >0;)o+="0"}return o}const lq={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ol},cq={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Ol(e)}},uq={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new Cn(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:Ol},NC=e=>typeof e=="bigint"||Number.isInteger(e),NR=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function dq(e,t,n){const{value:r}=e;return NC(r)&&r>=0?n+r.toString(t):Ol(e)}const fq={identify:e=>NC(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>NR(e,2,8,n),stringify:e=>dq(e,8,"0o")},hq={identify:NC,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>NR(e,0,10,n),stringify:Ol},pq={identify:e=>NC(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>NR(e,2,16,n),stringify:e=>dq(e,16,"0x")},Xxe=[Ag,Ig,LC,jC,jR,fq,hq,pq,lq,cq,uq];function _B(e){return typeof e=="bigint"||Number.isInteger(e)}const b1=({value:e})=>JSON.stringify(e),Jxe=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:b1},{identify:e=>e==null,createNode:()=>new Cn(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:b1},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:b1},{identify:_B,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>_B(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:b1}],Qxe={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},ebe=[Ag,Ig].concat(Jxe,Qxe),zR={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Buffer=="function")return Buffer.from(e,"base64");if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,i,o){const s=n;let a;if(typeof Buffer=="function")a=s instanceof Buffer?s.toString("base64"):Buffer.from(s.buffer).toString("base64");else if(typeof btoa=="function"){let f="";for(let h=0;h<s.length;++h)f+=String.fromCharCode(s[h]);a=btoa(f)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=Cn.BLOCK_LITERAL),t!==Cn.QUOTE_DOUBLE){const f=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),h=Math.ceil(a.length/f),g=new Array(h);for(let y=0,x=0;y<h;++y,x+=f)g[y]=a.substr(x,f);a=g.join(t===Cn.BLOCK_LITERAL?`
`:" ")}return db({comment:e,type:t,value:a},r,i,o)}};function mq(e,t){if(Mg(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!ni(r)){if(Og(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const i=r.items[0]||new Bo(new Cn(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){const o=i.value??i.key;o.comment=o.comment?`${r.comment}
${o.comment}`:r.comment}r=i}e.items[n]=ni(r)?r:new Bo(r)}}else t("Expected a sequence for this tag");return e}function gq(e,t,n){const{replacer:r}=n,i=new Vd(e);i.tag="tag:yaml.org,2002:pairs";let o=0;if(t&&Symbol.iterator in Object(t))for(let s of t){typeof r=="function"&&(s=r.call(t,String(o++),s));let a,f;if(Array.isArray(s))if(s.length===2)a=s[0],f=s[1];else throw new TypeError(`Expected [key, value] tuple: ${s}`);else if(s&&s instanceof Object){const h=Object.keys(s);if(h.length===1)a=h[0],f=s[a];else throw new TypeError(`Expected tuple with one key, not ${h.length} keys`)}else a=s;i.items.push(LR(a,f,n))}return i}const BR={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:mq,createNode:gq};class bm extends Vd{constructor(){super(),this.add=Ga.prototype.add.bind(this),this.delete=Ga.prototype.delete.bind(this),this.get=Ga.prototype.get.bind(this),this.has=Ga.prototype.has.bind(this),this.set=Ga.prototype.set.bind(this),this.tag=bm.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const i of this.items){let o,s;if(ni(i)?(o=$s(i.key,"",n),s=$s(i.value,o,n)):o=$s(i,"",n),r.has(o))throw new Error("Ordered maps must not include duplicate keys");r.set(o,s)}return r}static from(t,n,r){const i=gq(t,n,r),o=new this;return o.items=i.items,o}}bm.tag="tag:yaml.org,2002:omap";const FR={collection:"seq",identify:e=>e instanceof Map,nodeClass:bm,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=mq(e,t),r=[];for(const{key:i}of n.items)jr(i)&&(r.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new bm,n)},createNode:(e,t,n)=>bm.from(e,t,n)};function yq({value:e,source:t},n){return t&&(e?vq:xq).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const vq={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Cn(!0),stringify:yq},xq={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new Cn(!1),stringify:yq},tbe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ol},nbe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Ol(e)}},rbe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new Cn(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:Ol},fb=e=>typeof e=="bigint"||Number.isInteger(e);function zC(e,t,n,{intAsBigInt:r}){const i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const s=BigInt(e);return i==="-"?BigInt(-1)*s:s}const o=parseInt(e,n);return i==="-"?-1*o:o}function UR(e,t,n){const{value:r}=e;if(fb(r)){const i=r.toString(t);return r<0?"-"+n+i.substr(1):n+i}return Ol(e)}const ibe={identify:fb,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>zC(e,2,2,n),stringify:e=>UR(e,2,"0b")},obe={identify:fb,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>zC(e,1,8,n),stringify:e=>UR(e,8,"0")},abe={identify:fb,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>zC(e,0,10,n),stringify:Ol},sbe={identify:fb,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>zC(e,2,16,n),stringify:e=>UR(e,16,"0x")};class _m extends Ga{constructor(t){super(t),this.tag=_m.tag}add(t){let n;ni(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new Bo(t.key,null):n=new Bo(t,null),Wf(this.items,n.key)||this.items.push(n)}get(t,n){const r=Wf(this.items,t);return!n&&ni(r)?jr(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=Wf(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Bo(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(t,n,r){const{replacer:i}=r,o=new this(t);if(n&&Symbol.iterator in Object(n))for(let s of n)typeof i=="function"&&(s=i.call(n,s,s)),o.items.push(LR(s,null,r));return o}}_m.tag="tag:yaml.org,2002:set";const VR={collection:"map",identify:e=>e instanceof Set,nodeClass:_m,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>_m.from(e,t,n),resolve(e,t){if(Og(e)){if(e.hasAllNullValues(!0))return Object.assign(new _m,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function WR(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,i=s=>t?BigInt(s):Number(s),o=r.replace(/_/g,"").split(":").reduce((s,a)=>s*i(60)+i(a),i(0));return n==="-"?i(-1)*o:o}function bq(e){let{value:t}=e,n=s=>s;if(typeof t=="bigint")n=s=>BigInt(s);else if(isNaN(t)||!isFinite(t))return Ol(e);let r="";t<0&&(r="-",t*=n(-1));const i=n(60),o=[t%i];return t<60?o.unshift(0):(t=(t-o[0])/i,o.unshift(t%i),t>=60&&(t=(t-o[0])/i,o.unshift(t))),r+o.map(s=>String(s).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const _q={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>WR(e,n),stringify:bq},wq={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>WR(e,!1),stringify:bq},BC={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(BC.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,i,o,s,a]=t.map(Number),f=t[7]?Number((t[7]+"00").substr(1,3)):0;let h=Date.UTC(n,r-1,i,o||0,s||0,a||0,f);const g=t[8];if(g&&g!=="Z"){let y=WR(g,!1);Math.abs(y)<30&&(y*=60),h-=6e4*y}return new Date(h)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},wB=[Ag,Ig,LC,jC,vq,xq,ibe,obe,abe,sbe,tbe,nbe,rbe,zR,FR,BR,VR,_q,wq,BC],SB=new Map([["core",Xxe],["failsafe",[Ag,Ig,LC]],["json",ebe],["yaml11",wB],["yaml-1.1",wB]]),CB={binary:zR,bool:jR,float:uq,floatExp:cq,floatNaN:lq,floatTime:wq,int:hq,intHex:pq,intOct:fq,intTime:_q,map:Ag,null:jC,omap:FR,pairs:BR,seq:Ig,set:VR,timestamp:BC},lbe={"tag:yaml.org,2002:binary":zR,"tag:yaml.org,2002:omap":FR,"tag:yaml.org,2002:pairs":BR,"tag:yaml.org,2002:set":VR,"tag:yaml.org,2002:timestamp":BC};function pE(e,t){let n=SB.get(t);if(!n)if(Array.isArray(e))n=[];else{const r=Array.from(SB.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${r} or define customTags array`)}if(Array.isArray(e))for(const r of e)n=n.concat(r);else typeof e=="function"&&(n=e(n.slice()));return n.map(r=>{if(typeof r!="string")return r;const i=CB[r];if(i)return i;const o=Object.keys(CB).map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown custom tag "${r}"; use one of ${o}`)})}const cbe=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class FC{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:i,schema:o,sortMapEntries:s,toStringDefaults:a}){this.compat=Array.isArray(t)?pE(t,"compat"):t?pE(null,t):null,this.merge=!!r,this.name=typeof o=="string"&&o||"core",this.knownTags=i?lbe:{},this.tags=pE(n,this.name),this.toStringOptions=a??null,Object.defineProperty(this,Id,{value:Ag}),Object.defineProperty(this,hu,{value:LC}),Object.defineProperty(this,Pg,{value:Ig}),this.sortMapEntries=typeof s=="function"?s:s===!0?cbe:null}clone(){const t=Object.create(FC.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function ube(e,t){var f;const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const h=e.directives.toString(e);h?(n.push(h),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const i=iq(e,t),{commentString:o}=i.options;if(e.commentBefore){n.length!==1&&n.unshift("");const h=o(e.commentBefore);n.unshift(Gc(h,""))}let s=!1,a=null;if(e.contents){if(Mi(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const y=o(e.contents.commentBefore);n.push(Gc(y,""))}i.forceBlockIndent=!!e.comment,a=e.contents.comment}const h=a?void 0:()=>s=!0;let g=Ym(e.contents,i,()=>a=null,h);a&&(g+=yd(g,"",o(a))),(g[0]==="|"||g[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${g}`:n.push(g)}else n.push(Ym(e.contents,i));if((f=e.directives)!=null&&f.docEnd)if(e.comment){const h=o(e.comment);h.includes(`
`)?(n.push("..."),n.push(Gc(h,""))):n.push(`... ${h}`)}else n.push("...");else{let h=e.comment;h&&s&&(h=h.replace(/^\n+/,"")),h&&((!s||a)&&n[n.length-1]!==""&&n.push(""),n.push(Gc(o(h),"")))}return n.join(`
`)+`
`}class $g{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Vs,{value:HM});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);const o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},r);this.options=o;let{version:s}=o;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new oa({version:s}),this.setSchema(s,r),this.contents=t===void 0?null:this.createNode(t,i,r)}clone(){const t=Object.create($g.prototype,{[Vs]:{value:HM}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=Mi(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){Pp(this.contents)&&this.contents.add(t)}addIn(t,n){Pp(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=eq(this);t.anchor=!n||r.has(n)?tq(n||"a",r):n}return new AC(t.anchor)}createNode(t,n,r){let i;if(typeof n=="function")t=n.call({"":t},"",t),i=n;else if(Array.isArray(n)){const O=M=>typeof M=="number"||M instanceof String||M instanceof Number,A=n.filter(O).map(String);A.length>0&&(n=n.concat(A)),i=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:o,anchorPrefix:s,flow:a,keepUndefined:f,onTagObj:h,tag:g}=r??{},{onAnchor:y,setAnchors:x,sourceObjects:T}=Nxe(this,s||"a"),E={aliasDuplicateObjects:o??!0,keepUndefined:f??!1,onAnchor:y,onTagObj:h,replacer:i,schema:this.schema,sourceObjects:T},C=tx(t,g,E);return a&&si(C)&&(C.flow=!0),x(),C}createPair(t,n,r={}){const i=this.createNode(t,null,r),o=this.createNode(n,null,r);return new Bo(i,o)}delete(t){return Pp(this.contents)?this.contents.delete(t):!1}deleteIn(t){return Yv(t)?this.contents==null?!1:(this.contents=null,!0):Pp(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return si(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return Yv(t)?!n&&jr(this.contents)?this.contents.value:this.contents:si(this.contents)?this.contents.getIn(t,n):void 0}has(t){return si(this.contents)?this.contents.has(t):!1}hasIn(t){return Yv(t)?this.contents!==void 0:si(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=aS(this.schema,[t],n):Pp(this.contents)&&this.contents.set(t,n)}setIn(t,n){Yv(t)?this.contents=n:this.contents==null?this.contents=aS(this.schema,Array.from(t),n):Pp(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new oa({version:"1.1"}),r={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new oa({version:t}),r={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new FC(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:o,reviver:s}={}){const a={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},f=$s(this.contents,n??"",a);if(typeof o=="function")for(const{count:h,res:g}of a.anchors.values())o(g,h);return typeof s=="function"?nm(s,{"":f},"",f):f}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return ube(this,t)}}function Pp(e){if(si(e))return!0;throw new Error("Expected a YAML collection as document contents")}class qR extends Error{constructor(t,n,r,i){super(),this.name=t,this.code=r,this.message=i,this.pos=n}}class qf extends qR{constructor(t,n,r){super("YAMLParseError",t,n,r)}}class Sq extends qR{constructor(t,n,r){super("YAMLWarning",t,n,r)}}const lS=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>t.linePos(a));const{line:r,col:i}=n.linePos[0];n.message+=` at line ${r}, column ${i}`;let o=i-1,s=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(o>=60&&s.length>80){const a=Math.min(o-39,s.length-79);s=""+s.substring(a),o-=a-1}if(s.length>80&&(s=s.substring(0,79)+""),r>1&&/^ *$/.test(s.substring(0,o))){let a=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);a.length>80&&(a=a.substring(0,79)+`
`),s=a+s}if(/[^ ]/.test(s)){let a=1;const f=n.linePos[1];f&&f.line===r&&f.col>i&&(a=Math.max(1,Math.min(f.col-i,80-o)));const h=" ".repeat(o)+"^".repeat(a);n.message+=`:

${s}
${h}
`}};function Km(e,{flow:t,indicator:n,next:r,offset:i,onError:o,startOnNewline:s}){let a=!1,f=s,h=s,g="",y="",x=!1,T=!1,E=!1,C=null,O=null,A=null,M=null,I=null;for(const D of e)switch(E&&(D.type!=="space"&&D.type!=="newline"&&D.type!=="comma"&&o(D.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),E=!1),D.type){case"space":!t&&f&&n!=="doc-start"&&D.source[0]==="	"&&o(D,"TAB_AS_INDENT","Tabs are not allowed as indentation"),h=!0;break;case"comment":{h||o(D,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const F=D.source.substring(1)||" ";g?g+=y+F:g=F,y="",f=!1;break}case"newline":f?g?g+=D.source:a=!0:y+=D.source,f=!0,x=!0,(C||O)&&(T=!0),h=!0;break;case"anchor":C&&o(D,"MULTIPLE_ANCHORS","A node can have at most one anchor"),D.source.endsWith(":")&&o(D.offset+D.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),C=D,I===null&&(I=D.offset),f=!1,h=!1,E=!0;break;case"tag":{O&&o(D,"MULTIPLE_TAGS","A node can have at most one tag"),O=D,I===null&&(I=D.offset),f=!1,h=!1,E=!0;break}case n:(C||O)&&o(D,"BAD_PROP_ORDER",`Anchors and tags must be after the ${D.source} indicator`),M&&o(D,"UNEXPECTED_TOKEN",`Unexpected ${D.source} in ${t??"collection"}`),M=D,f=!1,h=!1;break;case"comma":if(t){A&&o(D,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),A=D,f=!1,h=!1;break}default:o(D,"UNEXPECTED_TOKEN",`Unexpected ${D.type} token`),f=!1,h=!1}const N=e[e.length-1],$=N?N.offset+N.source.length:i;return E&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&o(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:A,found:M,spaceBefore:a,comment:g,hasNewline:x,hasNewlineAfterProp:T,anchor:C,tag:O,end:$,start:I??$}}function nx(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const n of t.start)if(n.type==="newline")return!0;if(t.sep){for(const n of t.sep)if(n.type==="newline")return!0}if(nx(t.key)||nx(t.value))return!0}return!1;default:return!0}}function ZM(e,t,n){if((t==null?void 0:t.type)==="flow-collection"){const r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&nx(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Cq(e,t,n){const{uniqueKeys:r}=e.options;if(r===!1)return!1;const i=typeof r=="function"?r:(o,s)=>o===s||jr(o)&&jr(s)&&o.value===s.value&&!(o.value==="<<"&&e.schema.merge);return t.some(o=>i(o.key,n))}const kB="All mapping items must start at the same column";function dbe({composeNode:e,composeEmptyNode:t},n,r,i,o){var g;const s=(o==null?void 0:o.nodeClass)??Ga,a=new s(n.schema);n.atRoot&&(n.atRoot=!1);let f=r.offset,h=null;for(const y of r.items){const{start:x,key:T,sep:E,value:C}=y,O=Km(x,{indicator:"explicit-key-ind",next:T??(E==null?void 0:E[0]),offset:f,onError:i,startOnNewline:!0}),A=!O.found;if(A){if(T&&(T.type==="block-seq"?i(f,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in T&&T.indent!==r.indent&&i(f,"BAD_INDENT",kB)),!O.anchor&&!O.tag&&!E){h=O.end,O.comment&&(a.comment?a.comment+=`
`+O.comment:a.comment=O.comment);continue}(O.hasNewlineAfterProp||nx(T))&&i(T??x[x.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((g=O.found)==null?void 0:g.indent)!==r.indent&&i(f,"BAD_INDENT",kB);const M=O.end,I=T?e(n,T,O,i):t(n,M,x,null,O,i);n.schema.compat&&ZM(r.indent,T,i),Cq(n,a.items,I)&&i(M,"DUPLICATE_KEY","Map keys must be unique");const N=Km(E??[],{indicator:"map-value-ind",next:C,offset:I.range[2],onError:i,startOnNewline:!T||T.type==="block-scalar"});if(f=N.end,N.found){A&&((C==null?void 0:C.type)==="block-map"&&!N.hasNewline&&i(f,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&O.start<N.found.offset-1024&&i(I.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const $=C?e(n,C,N,i):t(n,f,E,null,N,i);n.schema.compat&&ZM(r.indent,C,i),f=$.range[2];const D=new Bo(I,$);n.options.keepSourceTokens&&(D.srcToken=y),a.items.push(D)}else{A&&i(I.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),N.comment&&(I.comment?I.comment+=`
`+N.comment:I.comment=N.comment);const $=new Bo(I);n.options.keepSourceTokens&&($.srcToken=y),a.items.push($)}}return h&&h<f&&i(h,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,f,h??f],a}function fbe({composeNode:e,composeEmptyNode:t},n,r,i,o){const s=(o==null?void 0:o.nodeClass)??Vd,a=new s(n.schema);n.atRoot&&(n.atRoot=!1);let f=r.offset,h=null;for(const{start:g,value:y}of r.items){const x=Km(g,{indicator:"seq-item-ind",next:y,offset:f,onError:i,startOnNewline:!0});if(!x.found)if(x.anchor||x.tag||y)y&&y.type==="block-seq"?i(x.end,"BAD_INDENT","All sequence items must start at the same column"):i(f,"MISSING_CHAR","Sequence item without - indicator");else{h=x.end,x.comment&&(a.comment=x.comment);continue}const T=y?e(n,y,x,i):t(n,x.end,g,null,x,i);n.schema.compat&&ZM(r.indent,y,i),f=T.range[2],a.items.push(T)}return a.range=[r.offset,f,h??f],a}function hb(e,t,n,r){let i="";if(e){let o=!1,s="";for(const a of e){const{source:f,type:h}=a;switch(h){case"space":o=!0;break;case"comment":{n&&!o&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const g=f.substring(1)||" ";i?i+=s+g:i=g,s="";break}case"newline":i&&(s+=f),o=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${h} at node end`)}t+=f.length}}return{comment:i,offset:t}}const mE="Block collections are not allowed within flow collections",gE=e=>e&&(e.type==="block-map"||e.type==="block-seq");function hbe({composeNode:e,composeEmptyNode:t},n,r,i,o){const s=r.start.source==="{",a=s?"flow map":"flow sequence",f=(o==null?void 0:o.nodeClass)??(s?Ga:Vd),h=new f(n.schema);h.flow=!0;const g=n.atRoot;g&&(n.atRoot=!1);let y=r.offset+r.start.source.length;for(let O=0;O<r.items.length;++O){const A=r.items[O],{start:M,key:I,sep:N,value:$}=A,D=Km(M,{flow:a,indicator:"explicit-key-ind",next:I??(N==null?void 0:N[0]),offset:y,onError:i,startOnNewline:!1});if(!D.found){if(!D.anchor&&!D.tag&&!N&&!$){O===0&&D.comma?i(D.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):O<r.items.length-1&&i(D.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),D.comment&&(h.comment?h.comment+=`
`+D.comment:h.comment=D.comment),y=D.end;continue}!s&&n.options.strict&&nx(I)&&i(I,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(O===0)D.comma&&i(D.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(D.comma||i(D.start,"MISSING_CHAR",`Missing , between ${a} items`),D.comment){let F="";e:for(const q of M)switch(q.type){case"comma":case"space":break;case"comment":F=q.source.substring(1);break e;default:break e}if(F){let q=h.items[h.items.length-1];ni(q)&&(q=q.value??q.key),q.comment?q.comment+=`
`+F:q.comment=F,D.comment=D.comment.substring(F.length+1)}}if(!s&&!N&&!D.found){const F=$?e(n,$,D,i):t(n,D.end,N,null,D,i);h.items.push(F),y=F.range[2],gE($)&&i(F.range,"BLOCK_IN_FLOW",mE)}else{const F=D.end,q=I?e(n,I,D,i):t(n,F,M,null,D,i);gE(I)&&i(q.range,"BLOCK_IN_FLOW",mE);const X=Km(N??[],{flow:a,indicator:"map-value-ind",next:$,offset:q.range[2],onError:i,startOnNewline:!1});if(X.found){if(!s&&!D.found&&n.options.strict){if(N)for(const ge of N){if(ge===X.found)break;if(ge.type==="newline"){i(ge,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}D.start<X.found.offset-1024&&i(X.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else $&&("source"in $&&$.source&&$.source[0]===":"?i($,"MISSING_CHAR",`Missing space after : in ${a}`):i(X.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const J=$?e(n,$,X,i):X.found?t(n,X.end,N,null,X,i):null;J?gE($)&&i(J.range,"BLOCK_IN_FLOW",mE):X.comment&&(q.comment?q.comment+=`
`+X.comment:q.comment=X.comment);const ie=new Bo(q,J);if(n.options.keepSourceTokens&&(ie.srcToken=A),s){const ge=h;Cq(n,ge.items,q)&&i(F,"DUPLICATE_KEY","Map keys must be unique"),ge.items.push(ie)}else{const ge=new Ga(n.schema);ge.flow=!0,ge.items.push(ie),h.items.push(ge)}y=J?J.range[2]:X.end}}const x=s?"}":"]",[T,...E]=r.end;let C=y;if(T&&T.source===x)C=T.offset+T.source.length;else{const O=a[0].toUpperCase()+a.substring(1),A=g?`${O} must end with a ${x}`:`${O} in block collection must be sufficiently indented and end with a ${x}`;i(y,g?"MISSING_CHAR":"BAD_INDENT",A),T&&T.source.length!==1&&E.unshift(T)}if(E.length>0){const O=hb(E,C,n.options.strict,i);O.comment&&(h.comment?h.comment+=`
`+O.comment:h.comment=O.comment),h.range=[r.offset,C,O.offset]}else h.range=[r.offset,C,C];return h}function yE(e,t,n,r,i,o){const s=n.type==="block-map"?dbe(e,t,n,r,o):n.type==="block-seq"?fbe(e,t,n,r,o):hbe(e,t,n,r,o),a=s.constructor;return i==="!"||i===a.tagName?(s.tag=a.tagName,s):(i&&(s.tag=i),s)}function pbe(e,t,n,r,i){var y;const o=r?t.directives.tagName(r.source,x=>i(r,"TAG_RESOLVE_FAILED",x)):null,s=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!r||!o||o==="!"||o===Ga.tagName&&s==="map"||o===Vd.tagName&&s==="seq"||!s)return yE(e,t,n,i,o);let a=t.schema.tags.find(x=>x.tag===o&&x.collection===s);if(!a){const x=t.schema.knownTags[o];if(x&&x.collection===s)t.schema.tags.push(Object.assign({},x,{default:!1})),a=x;else return x!=null&&x.collection?i(r,"BAD_COLLECTION_TYPE",`${x.tag} used for ${s} collection, but expects ${x.collection}`,!0):i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),yE(e,t,n,i,o)}const f=yE(e,t,n,i,o,a),h=((y=a.resolve)==null?void 0:y.call(a,f,x=>i(r,"TAG_RESOLVE_FAILED",x),t.options))??f,g=Mi(h)?h:new Cn(h);return g.range=f.range,g.tag=o,a!=null&&a.format&&(g.format=a.format),g}function kq(e,t,n){const r=e.offset,i=mbe(e,t,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};const o=i.mode===">"?Cn.BLOCK_FOLDED:Cn.BLOCK_LITERAL,s=e.source?gbe(e.source):[];let a=s.length;for(let C=s.length-1;C>=0;--C){const O=s[C][1];if(O===""||O==="\r")a=C;else break}if(a===0){const C=i.chomp==="+"&&s.length>0?`
`.repeat(Math.max(1,s.length-1)):"";let O=r+i.length;return e.source&&(O+=e.source.length),{value:C,type:o,comment:i.comment,range:[r,O,O]}}let f=e.indent+i.indent,h=e.offset+i.length,g=0;for(let C=0;C<a;++C){const[O,A]=s[C];if(A===""||A==="\r")i.indent===0&&O.length>f&&(f=O.length);else{O.length<f&&n(h+O.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(f=O.length),g=C;break}h+=O.length+A.length+1}for(let C=s.length-1;C>=a;--C)s[C][0].length>f&&(a=C+1);let y="",x="",T=!1;for(let C=0;C<g;++C)y+=s[C][0].slice(f)+`
`;for(let C=g;C<a;++C){let[O,A]=s[C];h+=O.length+A.length+1;const M=A[A.length-1]==="\r";if(M&&(A=A.slice(0,-1)),A&&O.length<f){const N=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(h-A.length-(M?2:1),"BAD_INDENT",N),O=""}o===Cn.BLOCK_LITERAL?(y+=x+O.slice(f)+A,x=`
`):O.length>f||A[0]==="	"?(x===" "?x=`
`:!T&&x===`
`&&(x=`

`),y+=x+O.slice(f)+A,x=`
`,T=!0):A===""?x===`
`?y+=`
`:x=`
`:(y+=x+A,x=" ",T=!1)}switch(i.chomp){case"-":break;case"+":for(let C=a;C<s.length;++C)y+=`
`+s[C][0].slice(f);y[y.length-1]!==`
`&&(y+=`
`);break;default:y+=`
`}const E=r+i.length+e.source.length;return{value:y,type:o,comment:i.comment,range:[r,E,E]}}function mbe({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=t[0],o=i[0];let s=0,a="",f=-1;for(let x=1;x<i.length;++x){const T=i[x];if(!a&&(T==="-"||T==="+"))a=T;else{const E=Number(T);!s&&E?s=E:f===-1&&(f=e+x)}}f!==-1&&r(f,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let h=!1,g="",y=i.length;for(let x=1;x<t.length;++x){const T=t[x];switch(T.type){case"space":h=!0;case"newline":y+=T.source.length;break;case"comment":n&&!h&&r(T,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),y+=T.source.length,g=T.source.substring(1);break;case"error":r(T,"UNEXPECTED_TOKEN",T.message),y+=T.source.length;break;default:{const E=`Unexpected token in block scalar header: ${T.type}`;r(T,"UNEXPECTED_TOKEN",E);const C=T.source;C&&typeof C=="string"&&(y+=C.length)}}}return{mode:o,indent:s,chomp:a,comment:g,length:y}}function gbe(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),o=[r!=null&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let s=1;s<t.length;s+=2)o.push([t[s],t[s+1]]);return o}function Tq(e,t,n){const{offset:r,type:i,source:o,end:s}=e;let a,f;const h=(x,T,E)=>n(r+x,T,E);switch(i){case"scalar":a=Cn.PLAIN,f=ybe(o,h);break;case"single-quoted-scalar":a=Cn.QUOTE_SINGLE,f=vbe(o,h);break;case"double-quoted-scalar":a=Cn.QUOTE_DOUBLE,f=xbe(o,h);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+o.length,r+o.length]}}const g=r+o.length,y=hb(s,g,t,n);return{value:f,type:a,comment:y.comment,range:[r,g,y.offset]}}function ybe(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),Pq(e)}function vbe(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),Pq(e.slice(1,-1)).replace(/''/g,"'")}function Pq(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let i=r[1],o=" ",s=t.lastIndex;for(n.lastIndex=s;r=n.exec(e);)r[1]===""?o===`
`?i+=o:o=`
`:(i+=o+r[1],o=" "),s=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=s,r=a.exec(e),i+o+((r==null?void 0:r[1])??"")}function xbe(e,t){let n="";for(let r=1;r<e.length-1;++r){const i=e[r];if(!(i==="\r"&&e[r+1]===`
`))if(i===`
`){const{fold:o,offset:s}=bbe(e,r);n+=o,r=s}else if(i==="\\"){let o=e[++r];const s=_be[o];if(s)n+=s;else if(o===`
`)for(o=e[r+1];o===" "||o==="	";)o=e[++r+1];else if(o==="\r"&&e[r+1]===`
`)for(o=e[++r+1];o===" "||o==="	";)o=e[++r+1];else if(o==="x"||o==="u"||o==="U"){const a={x:2,u:4,U:8}[o];n+=wbe(e,r+1,a,t),r+=a}else{const a=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(i===" "||i==="	"){const o=r;let s=e[r+1];for(;s===" "||s==="	";)s=e[++r+1];s!==`
`&&!(s==="\r"&&e[r+2]===`
`)&&(n+=r>o?e.slice(o,r+1):i)}else n+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function bbe(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}const _be={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function wbe(e,t,n,r){const i=e.substr(t,n),s=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(s)){const a=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(s)}function Eq(e,t,n,r){const{value:i,type:o,comment:s,range:a}=t.type==="block-scalar"?kq(t,e.options.strict,r):Tq(t,e.options.strict,r),f=n?e.directives.tagName(n.source,y=>r(n,"TAG_RESOLVE_FAILED",y)):null,h=n&&f?Sbe(e.schema,i,f,n,r):t.type==="scalar"?Cbe(e,i,t,r):e.schema[hu];let g;try{const y=h.resolve(i,x=>r(n??t,"TAG_RESOLVE_FAILED",x),e.options);g=jr(y)?y:new Cn(y)}catch(y){const x=y instanceof Error?y.message:String(y);r(n??t,"TAG_RESOLVE_FAILED",x),g=new Cn(i)}return g.range=a,g.source=i,o&&(g.type=o),f&&(g.tag=f),h.format&&(g.format=h.format),s&&(g.comment=s),g}function Sbe(e,t,n,r,i){var a;if(n==="!")return e[hu];const o=[];for(const f of e.tags)if(!f.collection&&f.tag===n)if(f.default&&f.test)o.push(f);else return f;for(const f of o)if((a=f.test)!=null&&a.test(t))return f;const s=e.knownTags[n];return s&&!s.collection?(e.tags.push(Object.assign({},s,{default:!1,test:void 0})),s):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[hu])}function Cbe({directives:e,schema:t},n,r,i){const o=t.tags.find(s=>{var a;return s.default&&((a=s.test)==null?void 0:a.test(n))})||t[hu];if(t.compat){const s=t.compat.find(a=>{var f;return a.default&&((f=a.test)==null?void 0:f.test(n))})??t[hu];if(o.tag!==s.tag){const a=e.tagString(o.tag),f=e.tagString(s.tag),h=`Value may be parsed as either ${a} or ${f}`;i(r,"TAG_RESOLVE_FAILED",h,!0)}}return o}function kbe(e,t,n){if(t){n===null&&(n=t.length);for(let r=n-1;r>=0;--r){let i=t[r];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++r];(i==null?void 0:i.type)==="space";)e+=i.source.length,i=t[++r];break}}return e}const Tbe={composeNode:Oq,composeEmptyNode:HR};function Oq(e,t,n,r){const{spaceBefore:i,comment:o,anchor:s,tag:a}=n;let f,h=!0;switch(t.type){case"alias":f=Pbe(e,t,r),(s||a)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":f=Eq(e,t,a,r),s&&(f.anchor=s.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":f=pbe(Tbe,e,t,a,r),s&&(f.anchor=s.source.substring(1));break;default:{const g=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",g),f=HR(e,t.offset,void 0,null,n,r),h=!1}}return s&&f.anchor===""&&r(s,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(f.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?f.comment=o:f.commentBefore=o),e.options.keepSourceTokens&&h&&(f.srcToken=t),f}function HR(e,t,n,r,{spaceBefore:i,comment:o,anchor:s,tag:a,end:f},h){const g={type:"scalar",offset:kbe(t,n,r),indent:-1,source:""},y=Eq(e,g,a,h);return s&&(y.anchor=s.source.substring(1),y.anchor===""&&h(s,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(y.spaceBefore=!0),o&&(y.comment=o,y.range[2]=f),y}function Pbe({options:e},{offset:t,source:n,end:r},i){const o=new AC(n.substring(1));o.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),o.source.endsWith(":")&&i(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const s=t+n.length,a=hb(r,s,e.strict,i);return o.range=[t,s,a.offset],a.comment&&(o.comment=a.comment),o}function Ebe(e,t,{offset:n,start:r,value:i,end:o},s){const a=Object.assign({_directives:t},e),f=new $g(void 0,a),h={atRoot:!0,directives:f.directives,options:f.options,schema:f.schema},g=Km(r,{indicator:"doc-start",next:i??(o==null?void 0:o[0]),offset:n,onError:s,startOnNewline:!0});g.found&&(f.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!g.hasNewline&&s(g.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),f.contents=i?Oq(h,i,g,s):HR(h,g.end,r,null,g,s);const y=f.contents.range[2],x=hb(o,y,!1,s);return x.comment&&(f.comment=x.comment),f.range=[n,y,x.offset],f}function kv(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function TB(e){var i;let t="",n=!1,r=!1;for(let o=0;o<e.length;++o){const s=e[o];switch(s[0]){case"#":t+=(t===""?"":r?`

`:`
`)+(s.substring(1)||" "),n=!0,r=!1;break;case"%":((i=e[o+1])==null?void 0:i[0])!=="#"&&(o+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class GR{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,i,o)=>{const s=kv(n);o?this.warnings.push(new Sq(s,r,i)):this.errors.push(new qf(s,r,i))},this.directives=new oa({version:t.version||"1.2"}),this.options=t}decorate(t,n){const{comment:r,afterEmptyLine:i}=TB(this.prelude);if(r){const o=t.contents;if(n)t.comment=t.comment?`${t.comment}
${r}`:r;else if(i||t.directives.docStart||!o)t.commentBefore=r;else if(si(o)&&!o.flow&&o.items.length>0){let s=o.items[0];ni(s)&&(s=s.key);const a=s.commentBefore;s.commentBefore=a?`${r}
${a}`:r}else{const s=o.commentBefore;o.commentBefore=s?`${r}
${s}`:r}}n?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:TB(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,n=!1,r=-1){for(const i of t)yield*this.next(i);yield*this.end(n,r)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(n,r,i)=>{const o=kv(t);o[0]+=n,this.onError(o,"BAD_DIRECTIVE",r,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const n=Ebe(this.options,this.directives,t,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const n=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,r=new qf(kv(t),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new qf(kv(t),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=hb(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new qf(kv(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const r=Object.assign({_directives:this.directives},this.options),i=new $g(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}function Obe(e,t=!0,n){if(e){const r=(i,o,s)=>{const a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(n)n(a,o,s);else throw new qf([a,a+1],o,s)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return Tq(e,t,r);case"block-scalar":return kq(e,t,r)}}return null}function Mbe(e,t){const{implicitKey:n=!1,indent:r,inFlow:i=!1,offset:o=-1,type:s="PLAIN"}=t,a=db({type:s,value:e},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),f=t.end??[{type:"newline",offset:-1,indent:r,source:`
`}];switch(a[0]){case"|":case">":{const h=a.indexOf(`
`),g=a.substring(0,h),y=a.substring(h+1)+`
`,x=[{type:"block-scalar-header",offset:o,indent:r,source:g}];return Mq(x,f)||x.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:o,indent:r,props:x,source:y}}case'"':return{type:"double-quoted-scalar",offset:o,indent:r,source:a,end:f};case"'":return{type:"single-quoted-scalar",offset:o,indent:r,source:a,end:f};default:return{type:"scalar",offset:o,indent:r,source:a,end:f}}}function Abe(e,t,n={}){let{afterKey:r=!1,implicitKey:i=!1,inFlow:o=!1,type:s}=n,a="indent"in e?e.indent:null;if(r&&typeof a=="number"&&(a+=2),!s)switch(e.type){case"single-quoted-scalar":s="QUOTE_SINGLE";break;case"double-quoted-scalar":s="QUOTE_DOUBLE";break;case"block-scalar":{const h=e.props[0];if(h.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s=h.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:s="PLAIN"}const f=db({type:s,value:t},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}});switch(f[0]){case"|":case">":Ibe(e,f);break;case'"':vE(e,f,"double-quoted-scalar");break;case"'":vE(e,f,"single-quoted-scalar");break;default:vE(e,f,"scalar")}}function Ibe(e,t){const n=t.indexOf(`
`),r=t.substring(0,n),i=t.substring(n+1)+`
`;if(e.type==="block-scalar"){const o=e.props[0];if(o.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o.source=r,e.source=i}else{const{offset:o}=e,s="indent"in e?e.indent:-1,a=[{type:"block-scalar-header",offset:o,indent:s,source:r}];Mq(a,"end"in e?e.end:void 0)||a.push({type:"newline",offset:-1,indent:s,source:`
`});for(const f of Object.keys(e))f!=="type"&&f!=="offset"&&delete e[f];Object.assign(e,{type:"block-scalar",indent:s,props:a,source:i})}}function Mq(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function vE(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{const r=e.props.slice(1);let i=t.length;e.props[0].type==="block-scalar-header"&&(i-=e.props[0].source.length);for(const o of r)o.offset+=i;delete e.props,Object.assign(e,{type:n,source:t,end:r});break}case"block-map":case"block-seq":{const i={type:"newline",offset:e.offset+t.length,indent:e.indent,source:`
`};delete e.items,Object.assign(e,{type:n,source:t,end:[i]});break}default:{const r="indent"in e?e.indent:-1,i="end"in e&&Array.isArray(e.end)?e.end.filter(o=>o.type==="space"||o.type==="comment"||o.type==="newline"):[];for(const o of Object.keys(e))o!=="type"&&o!=="offset"&&delete e[o];Object.assign(e,{type:n,indent:r,source:t,end:i})}}}const $be=e=>"type"in e?cS(e):aw(e);function cS(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=cS(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=aw(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=aw(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=aw(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function aw({start:e,key:t,sep:n,value:r}){let i="";for(const o of e)i+=o.source;if(t&&(i+=cS(t)),n)for(const o of n)i+=o.source;return r&&(i+=cS(r)),i}const XM=Symbol("break visit"),Rbe=Symbol("skip children"),Aq=Symbol("remove item");function vh(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),Iq(Object.freeze([]),e,t)}vh.BREAK=XM;vh.SKIP=Rbe;vh.REMOVE=Aq;vh.itemAtPath=(e,t)=>{let n=e;for(const[r,i]of t){const o=n==null?void 0:n[r];if(o&&"items"in o)n=o.items[i];else return}return n};vh.parentCollection=(e,t)=>{const n=vh.itemAtPath(e,t.slice(0,-1)),r=t[t.length-1][0],i=n==null?void 0:n[r];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function Iq(e,t,n){let r=n(t,e);if(typeof r=="symbol")return r;for(const i of["key","value"]){const o=t[i];if(o&&"items"in o){for(let s=0;s<o.items.length;++s){const a=Iq(Object.freeze(e.concat([[i,s]])),o.items[s],n);if(typeof a=="number")s=a-1;else{if(a===XM)return XM;a===Aq&&(o.items.splice(s,1),s-=1)}}typeof r=="function"&&i==="key"&&(r=r(t,e))}}return typeof r=="function"?r(t,e):r}const UC="\uFEFF",VC="",WC="",rx="",Dbe=e=>!!e&&"items"in e,Lbe=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function jbe(e){switch(e){case UC:return"<BOM>";case VC:return"<DOC>";case WC:return"<FLOW_END>";case rx:return"<SCALAR>";default:return JSON.stringify(e)}}function $q(e){switch(e){case UC:return"byte-order-mark";case VC:return"doc-mode";case WC:return"flow-error-end";case rx:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const Nbe=Object.freeze(Object.defineProperty({__proto__:null,BOM:UC,DOCUMENT:VC,FLOW_END:WC,SCALAR:rx,createScalarToken:Mbe,isCollection:Dbe,isScalar:Lbe,prettyToken:jbe,resolveAsScalar:Obe,setScalarValue:Abe,stringify:$be,tokenType:$q,visit:vh},Symbol.toStringTag,{value:"Module"}));function vs(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const PB="0123456789ABCDEFabcdef".split(""),zbe="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),xE=",[]{}".split(""),Bbe=` ,[]{}
\r	`.split(""),bE=e=>!e||Bbe.includes(e);class Rq{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,n=!1){t&&(this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null),this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let t=this.pos,n=this.buffer[t];for(;n===" "||n==="	";)n=this.buffer[++t];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let n=this.buffer[t];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+t];if(n==="\r"){const i=this.buffer[r+t+1];if(i===`
`||!i&&!this.atEnd)return t+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?t+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(t,3);if((r==="---"||r==="...")&&vs(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===UC&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let n=t.length;const r=t.indexOf("#");if(r!==-1){const o=t[r-1];(o===" "||o==="	")&&(n=r-1)}for(;;){const o=t[n-1];if(o===" "||o==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"}return yield VC,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if(n==="---"&&vs(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(n==="..."&&vs(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!vs(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&vs(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(t[n]){case"#":yield*this.pushCount(t.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(bE),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,n,r=-1;do t=yield*this.pushNewline(),t>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(t+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&i[0]!=="#"||r===0&&(i.startsWith("---")||i.startsWith("..."))&&vs(i[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield WC,yield*this.parseLineStart();let o=0;for(;i[o]===",";)o+=yield*this.pushCount(1),o+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(o+=yield*this.pushIndicators(),i[o]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(bE),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const s=this.charAt(1);if(this.flowKey||vs(s)||s===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let n=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let o=0;for(;this.buffer[n-1-o]==="\\";)o+=1;if(o%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let i=r.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const o=this.continueScalar(i+1);if(o===-1)break;i=r.indexOf(`
`,o)}i!==-1&&(n=i-(r[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const n=this.buffer[++t];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>vs(n)||n==="#")}*parseBlockScalar(){let t=this.pos-1,n=0,r;e:for(let i=this.pos;r=this.buffer[i];++i)switch(r){case" ":n+=1;break;case`
`:t=i,n=0;break;case"\r":{const o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{const i=this.continueScalar(t+1);if(i===-1)break;t=this.buffer.indexOf(`
`,i)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)do{let i=t-1,o=this.buffer[i];o==="\r"&&(o=this.buffer[--i]);const s=i;for(;o===" "||o==="	";)o=this.buffer[--i];if(o===`
`&&i>=this.pos&&i+1+n>s)t=i;else break}while(!0);return yield rx,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){const o=this.buffer[r+1];if(vs(o)||t&&o===",")break;n=r}else if(vs(i)){let o=this.buffer[r+1];if(i==="\r"&&(o===`
`?(r+=1,i=`
`,o=this.buffer[r+1]):n=r),o==="#"||t&&xE.includes(o))break;if(i===`
`){const s=this.continueScalar(r+1);if(s===-1)break;r=Math.max(r,s-2)}}else{if(t&&xE.includes(i))break;n=r}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield rx,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(bE))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if(vs(n)||t&&xE.includes(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!vs(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(zbe.includes(n))n=this.buffer[++t];else if(n==="%"&&PB.includes(this.buffer[t+1])&&PB.includes(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class Dq{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const o=n+r>>1;this.lineStarts[o]<t?n=o+1:r=o}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const i=this.lineStarts[n-1];return{line:n,col:t-i+1}}}}function ul(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function EB(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function Lq(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function _1(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Ep(e){var n;if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=e[++t])==null?void 0:n.type)==="space";);return e.splice(t,e.length)}function OB(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!ul(t.start,"explicit-key-ind")&&!ul(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,Lq(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class YR{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Rq,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=$q(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&OB(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!ul(i.start,"explicit-key-ind");return}break}case"block-seq":{const i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&EB(i.start)===-1&&(n.indent===0||i.start.every(o=>o.type!=="comment"||o.indent<n.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{EB(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=_1(this.peek(2)),r=Ep(n);let i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];const o={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const i="end"in n.value?n.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2],o=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const i=!this.onKeyLine&&this.indent===t.indent&&n.sep;let o=[];if(i&&n.sep&&!n.value){const s=[];for(let a=0;a<n.sep.length;++a){const f=n.sep[a];switch(f.type){case"newline":s.push(a);break;case"space":break;case"comment":f.indent>t.indent&&(s.length=0);break;default:s.length=0}}s.length>=2&&(o=n.sep.splice(s[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(o.push(this.sourceToken),t.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!ul(n.start,"explicit-key-ind")?n.start.push(this.sourceToken):i||n.value?(o.push(this.sourceToken),t.items.push({start:o})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(ul(n.start,"explicit-key-ind"))if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(ul(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(Lq(n.key)&&!ul(n.sep,"newline")){const s=Ep(n.start),a=n.key,f=n.sep;f.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:a,sep:f}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(ul(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const s=Ep(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?t.items.push({start:o,key:null,sep:[this.sourceToken]}):ul(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);i||n.value?(t.items.push({start:o,key:s,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(s):(Object.assign(n,{key:s,sep:[]}),this.onKeyLine=!0);return}default:{const s=this.startBlockValue(t);if(s){i&&s.type!=="block-seq"&&ul(n.start,"explicit-key-ind")&&t.items.push({start:o}),this.stack.push(s);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const i="end"in n.value?n.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2],o=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||ul(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const i=this.startBlockValue(t);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const i=_1(r),o=Ep(i);OB(t);const s=t.end.splice(1,t.end.length);s.push(this.sourceToken);const a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:o,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=_1(t),r=Ep(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r}]}}case"map-value-ind":{this.onKeyLine=!0;const n=_1(t),r=Ep(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function jq(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new Dq||null,prettyErrors:t}}function Fbe(e,t={}){const{lineCounter:n,prettyErrors:r}=jq(t),i=new YR(n==null?void 0:n.addNewLine),o=new GR(t),s=Array.from(o.compose(i.parse(e)));if(r&&n)for(const a of s)a.errors.forEach(lS(e,n)),a.warnings.forEach(lS(e,n));return s.length>0?s:Object.assign([],{empty:!0},o.streamInfo())}function Nq(e,t={}){const{lineCounter:n,prettyErrors:r}=jq(t),i=new YR(n==null?void 0:n.addNewLine),o=new GR(t);let s=null;for(const a of o.compose(i.parse(e),!0,e.length))if(!s)s=a;else if(s.options.logLevel!=="silent"){s.errors.push(new qf(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(s.errors.forEach(lS(e,n)),s.warnings.forEach(lS(e,n))),s}function Ube(e,t,n){let r;typeof t=="function"?r=t:n===void 0&&t&&typeof t=="object"&&(n=t);const i=Nq(e,n);if(!i)return null;if(i.warnings.forEach(o=>oq(i.options.logLevel,o)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:r},n))}function Vbe(e,t,n){let r=null;if(typeof t=="function"||Array.isArray(t)?r=t:n===void 0&&t&&(n=t),typeof n=="string"&&(n=n.length),typeof n=="number"){const i=Math.round(n);n=i<1?void 0:i>8?{indent:8}:{indent:i}}if(e===void 0){const{keepUndefined:i}=n??t??{};if(!i)return}return new $g(e,r,n).toString(n)}const zq=Object.freeze(Object.defineProperty({__proto__:null,Alias:AC,CST:Nbe,Composer:GR,Document:$g,Lexer:Rq,LineCounter:Dq,Pair:Bo,Parser:YR,Scalar:Cn,Schema:FC,YAMLError:qR,YAMLMap:Ga,YAMLParseError:qf,YAMLSeq:Vd,YAMLWarning:Sq,isAlias:Th,isCollection:si,isDocument:Eg,isMap:Og,isNode:Mi,isPair:ni,isScalar:jr,isSeq:Mg,parse:Ube,parseAllDocuments:Fbe,parseDocument:Nq,stringify:Vbe,visit:Ud,visitAsync:MC},Symbol.toStringTag,{value:"Module"})),Wd=Ee.createContext();var MB="";const qC=({children:e,notification:t})=>{yn(M=>M.devices.items);const n=yn(M=>M.mission),r=yn(M=>M.session.server),i=Hs(),[o,s]=U.useState(!1),[a,f]=U.useState(!1);U.useState(""),U.useEffect(()=>{s(r)},[r]);const h=async M=>{try{const I=await fetch("/api/rosConnect",{method:"POST",body:new URLSearchParams(`rosState=${encodeURIComponent(o)}`)});if(I.ok){let N=await I.json();N.state==="connect"&&(t("success",N.msg),s(!0)),N.state==="error"&&(s(!1),t("danger",N.msg)),N.state==="disconnect"&&(t("danger",N.msg),s(!1)),console.log(N)}else throw Error(await I.text())}catch{s(!1)}},g=async M=>{console.log(M.name+"-"+M.category);try{const I=await fetch("/api/devices",{method:"POST",body:JSON.stringify(M),headers:{"Content-Type":"application/json"}});if(I.ok){let N=await I.json();N.state==="connect"&&t("success",N.msg),N.state==="error"&&t("danger",N.msg),console.log(N)}else throw Error(await I.text())}catch{}},y=async()=>{try{const M=await fetch("/api/commands/send",{method:"POST",body:JSON.stringify({deviceId:-1,type:"loadMission",attributes:n.route}),headers:{"Content-Type":"application/json"}});if(M.ok){let I=await M.json();I.state==="connect"&&t("success",I.msg),I.state==="error"&&t("danger",I.msg),console.log(I)}else throw Error(await M.text())}catch{}},x=async()=>{console.log("command mission ");try{const M=await fetch("/api/commands/send",{method:"POST",body:JSON.stringify({deviceId:-1,type:"commandMission"}),headers:{"Content-Type":"application/json"}});if(M.ok){let I=await M.json();I.state==="connect"&&t("success",I.msg),I.state==="error"&&t("danger",I.msg),console.log(I)}else throw Error(await M.text())}catch{}},T=(M,I)=>{if(M.endsWith(".yaml"))MB=zq.parse(I),i(Hc.updateMission({name:M.slice(0,-5),mission:MB}));else if(M.endsWith(".waypoints")){let $=I.split(`
`).map(q=>q.split("	")),D={uav_n:1,uav_1:{}},F=0;$.forEach(q=>{q[3]=="16"&&(D.uav_1["wp_"+F]=[q[8],q[9],q[10]],F=F+1)}),D.uav_1.wp_n=F,i(Hc.updateMission({name:M.slice(0,-10),mission:D}))}else if(M.endsWith(".kml")){let $=new DOMParser().parseFromString(I,"text/xml").getElementsByTagName("coordinates"),D=Object.values($).map(X=>X.textContent.replace("	1","").replace(/(\r\n|\n|\r|\t)/gm,"").split(" ").map(ie=>ie.split(","))),F={uav_n:D.length},q=1;D.forEach(X=>{console.log(X);let J=0;F["uav_"+q]={},X.forEach(ie=>{ie.length==3&&(F["uav_"+q]["wp_"+J]=[ie[1],ie[0],ie[2]],J=J+1)}),F["uav_"+q].wp_n=J,q=q+1}),console.log(F),i(Hc.updateMission({name:M.slice(0,-4),mission:F}))}else if(M.endsWith(".plan")){let N=JSON.parse(I),$={uav_n:1,uav_1:{}},D=0;N.mission.items.forEach(F=>{$.uav_1["wp_"+D]=[F.params[4],F.params[5],F.Altitude],D=D+1}),$.uav_1.wp_n=D,i(Hc.updateMission({name:M.slice(0,-5),mission:$}))}else t("danger","Formato de mission no compatible")},E=()=>{h()};async function C(M){o?g(M):alert(`
Ros no est conectado.

 Por favor conctelo primero.`)}function O(){y()}function A(){x()}return L.jsx("div",{style:{width:"100%",height:"100%"},children:L.jsx(Wd.Provider,{value:{rosConnect:E,rosState:o,openMision:T,connectAddUav:C,commandMission:A,loadMission:O,confirmMission:a,setconfirmMission:f},children:e})})},HC=({SetAddUAVOpen:e})=>{const[t,n]=U.useState(!1),r=Hs(),i=_g(),o=()=>{r(Hc.clearMission({}))},s=()=>{const x=document.getElementsByName("otrotest");for(let T=0;T<x.length;T++)x[T].setAttribute("class","mytest");setTimeout(()=>{console.log("1 Segundo esperado");for(let T=0;T<x.length;T++)x[T].setAttribute("class","dropdown-content")},500),n(T=>!T)},a=U.useContext(Wd),f=x=>{const T=x.target.files[0];if(!T)return;const E=new FileReader;E.readAsText(T),E.onload=()=>{a.openMision(T.name,E.result)},E.onerror=()=>{console.log("error"),console.log(E.error)}},h=x=>{const T=x.target.files[0];if(!T)return;const E=new FileReader;E.readAsText(T),E.onload=()=>{console.log(E.result);let C=new DOMParser().parseFromString(E.result,"text/xml");console.log(C);let O=C.getElementsByTagName("Point");console.log(O),console.log(mission_array);let A=C.getElementsByTagName("coordinates");console.log(A);let M=Object.values(A).map($=>$.textContent.replace("	1","").replace(/(\r\n|\n|\r|\t)/gm,"").split(" ")),I=M.map($=>$.map(D=>D.split(",")));console.log(M),console.log(I);let N=[];if(mission_array.length)return console.log("add markers"),N=mission_array.map(($,D,F)=>({latitude:Number($[1]),longitude:Number($[0]),image:"base"})),console.log(N),r(jf.addMarker(N)),null;I.length&&(console.log("add towers markers"),I.map(($,D,F)=>{console.log($),$.map(q=>{console.log(q),q.length>1&&N.push({latitude:Number(q[1]),longitude:Number(q[0]),image:"powerTower"})})}),console.log(N),r(jf.addMarker(N)))},E.onerror=()=>{console.log("error"),console.log(E.error)}};function g(){Ye.easeTo({center:[-6.0025,37.412],zoom:Math.max(Ye.getZoom(),5),offset:[0,-1/2]})}function y(){e(!0)}return L.jsx(sR,{position:"static",style:{backgroundColor:"#333",height:"52px"},children:L.jsx(yR,{maxWidth:"x",children:L.jsxs(kg,{disableGutters:!0,children:[L.jsx(mr,{onClick:()=>{g(),i("/")},children:L.jsx(pn,{variant:"h6",noWrap:!0,component:"a",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"#FFFFFF",textDecoration:"none"},children:"Management Tool"})}),L.jsxs("div",{className:"dropdown",children:[L.jsx("button",{className:"dropbtn",children:"ROS "}),L.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[L.jsx("a",{id:"rosConnectNavbar",onClick:()=>{a.rosConnect(),s()},children:"Connect Ros"}),L.jsx("a",{id:"rosConnectNavbar",onClick:()=>{i("/topics"),s()},children:"Show Topics"}),L.jsx("a",{id:"rosConnectNavbar",onClick:()=>{a.rosConnect(),s()},children:"Show servies"})]})]}),L.jsxs("div",{className:"dropdown",children:[L.jsxs("button",{className:"dropbtn",children:["UAV",L.jsx("i",{className:"fa fa-caret-down"})]}),L.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[L.jsx("a",{id:"openAddUavNavbar",onClick:()=>{y(),s()},children:"Connect UAV"}),L.jsx("a",{id:"loadMissionNavbar",onClick:()=>{a.loadMission(),s()},children:"Load Mission UAV's"}),L.jsx("a",{id:"commandMissionNavbar",onClick:()=>{a.setconfirmMission(!0),s()},children:"Command Mission All"})]})]}),L.jsxs("div",{className:"dropdown",children:[L.jsxs("button",{className:"dropbtn",children:["Mission",L.jsx("i",{className:"fa fa-caret-down"})]}),L.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[L.jsx("label",{id:"menuopenmission",htmlFor:"openMissionNavbar",children:"Open Mision"}),L.jsx("input",{accept:".yaml, .plan, .waypoint, .kml",type:"file",multiple:!1,style:{display:"none"},id:"openMissionNavbar",onChange:f}),L.jsx("a",{id:"Clear mission",onClick:()=>{o(),s()},children:"Clear Mission"}),L.jsx("a",{id:"editmission",onClick:()=>{i("/mission"),s()},children:"Edit mission"}),L.jsx("a",{id:"planning",onClick:()=>{i("/planning"),s()},children:"Mission Elements"})]})]}),L.jsxs("div",{className:"dropdown",children:[L.jsxs("button",{className:"dropbtn",children:["View",L.jsx("i",{className:"fa fa-caret-down"})]}),L.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[L.jsx("a",{id:"hideRosterNavbar",onClick:s,children:"Enviroment Features"}),L.jsx("label",{id:"menuopenelements",htmlFor:"openElementsNavbar",children:"add elements"}),L.jsx("input",{accept:".kml",type:"file",multiple:!1,style:{display:"none"},id:"openElementsNavbar",onChange:h}),L.jsx("a",{id:"cameraView",onClick:()=>{i("/camera"),s()},children:"Camera view"})]})]}),L.jsx("div",{className:"dropdown",children:L.jsxs("button",{className:"dropbtn",onClick:()=>{i("/events")},children:["Report",L.jsx("i",{className:"fa fa-caret-down"})]})})]})})})};var KR={},Bq={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Bq);var fr=Bq.exports,_E={};const Wbe=Z8(Gse);var AB;function hr(){return AB||(AB=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Wbe}(_E)),_E}var qbe=fr;Object.defineProperty(KR,"__esModule",{value:!0});var Fq=KR.default=void 0,Hbe=qbe(hr()),Gbe=L,Ybe=(0,Hbe.default)((0,Gbe.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");Fq=KR.default=Ybe;var ZR={},Kbe=fr;Object.defineProperty(ZR,"__esModule",{value:!0});var Uq=ZR.default=void 0,Zbe=Kbe(hr()),Xbe=L,Jbe=(0,Zbe.default)((0,Xbe.jsx)("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}),"Folder");Uq=ZR.default=Jbe;var XR={},Qbe=fr;Object.defineProperty(XR,"__esModule",{value:!0});var Vq=XR.default=void 0,e_e=Qbe(hr()),t_e=L,n_e=(0,e_e.default)((0,t_e.jsx)("path",{d:"M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"}),"Flight");Vq=XR.default=n_e;var JR={},r_e=fr;Object.defineProperty(JR,"__esModule",{value:!0});var Wq=JR.default=void 0,i_e=r_e(hr()),o_e=L,a_e=(0,i_e.default)((0,o_e.jsx)("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"FileUpload");Wq=JR.default=a_e;var QR={},s_e=fr;Object.defineProperty(QR,"__esModule",{value:!0});var qq=QR.default=void 0,l_e=s_e(hr()),c_e=L,u_e=(0,l_e.default)((0,c_e.jsx)("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h10v4h8v10z"}),"Tab");qq=QR.default=u_e;var eD={},d_e=fr;Object.defineProperty(eD,"__esModule",{value:!0});var Hq=eD.default=void 0,f_e=d_e(hr()),h_e=L,p_e=(0,f_e.default)((0,h_e.jsx)("path",{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"}),"Reply");Hq=eD.default=p_e;var tD={},m_e=fr;Object.defineProperty(tD,"__esModule",{value:!0});var Gq=tD.default=void 0,g_e=m_e(hr()),y_e=L,v_e=(0,g_e.default)((0,y_e.jsx)("path",{d:"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z"}),"CallMade");Gq=tD.default=v_e;var nD={},x_e=fr;Object.defineProperty(nD,"__esModule",{value:!0});var Yq=nD.default=void 0,b_e=x_e(hr()),__e=L,w_e=(0,b_e.default)((0,__e.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"ModeEdit");Yq=nD.default=w_e;var rD={},S_e=fr;Object.defineProperty(rD,"__esModule",{value:!0});var Kq=rD.default=void 0,C_e=S_e(hr()),k_e=L,T_e=(0,C_e.default)((0,k_e.jsx)("path",{d:"m19 8-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}),"Cached");Kq=rD.default=T_e;const P_e=Nr(e=>({toolbar:{height:"36px",background:"linear-gradient(#E7E5E7, #D3D1D3)",borderTop:"1px solid rgba(255, 255, 255, .6)"},mediaButton:{width:"auto",color:rc[700],backgroundColor:"#F9F9F9",boxShadow:"inset 0px -4px 4px 0 rgba(0, 0, 0, 0.1)",maxHeight:"22px",top:"2px",border:"1px solid #C2C0C2",margin:"5px 10px",fontSize:"12px","&:hover":{backgroundColor:rc[300]}},mediaicon:{color:rc[700],width:"15px"}})),GC=({SetAddUAVOpen:e})=>{const t=P_e(),n=U.useContext(Wd),[r,i]=U.useState("no load mission"),o=yn(E=>E.mission.name),s=yn(E=>E.mission.home),[a,f]=U.useState(!0),h=E=>{const C=E.target.files[0];if(!C)return;const O=new FileReader;O.readAsText(C),O.onload=()=>{console.log(O.result),console.log(C.name),n.openMision(C.name,O.result)},O.onerror=()=>{console.log(O.error)}};function g(){Ye.easeTo({center:[-6.0025,37.412],zoom:Math.max(Ye.getZoom(),5),offset:[0,-1/2]})}function y(){Ye.easeTo({center:[s[1],s[0]],zoom:Math.max(Ye.getZoom(),15),offset:[0,-1/2]})}function x(){e(!0)}const T=()=>{f(!a)};return U.useEffect(()=>{i(o)},[o]),U.useEffect(()=>{y()},[s]),L.jsx("header",{className:t.toolbar,children:L.jsxs("div",{children:[L.jsxs(kfe,{style:{height:"26px",display:"inline",justifyContent:"flex-end"},children:[L.jsx(mr,{onClick:g,className:t.mediaButton,style:{margin:"0px 0px"},children:L.jsx(Fq,{fontSize:"small",className:t.mediaicon})}),L.jsxs(mr,{id:"openMission",className:t.mediaButton,style:{margin:"0px 0px"},children:[L.jsx("label",{htmlFor:"openMissionNavbar",style:{padding:0},children:L.jsx(Uq,{fontSize:"small",className:t.mediaicon,style:{position:"relative",top:"3px"}})}),L.jsx("input",{type:"file",multiple:!1,style:{display:"none"},id:"openMissionNavbar",onChange:h})]}),L.jsx(mr,{id:"openAddUav",onClick:x,className:t.mediaButton,style:{margin:"0px 0px"},children:L.jsx(Vq,{fontSize:"small",className:t.mediaicon,style:{transform:"rotate(90deg)"}})})]}),L.jsx(Wd.Consumer,{children:({rosState:E})=>L.jsxs(mr,{id:"rosConnect",onClick:n.rosConnect,className:t.mediaButton,children:[E&&"conectado"," ",!E&&"desconectado"," "]})}),L.jsx(mr,{id:"loadMission",size:"small",onClick:x,className:t.mediaButton,children:L.jsx(Wq,{fontSize:"small",className:t.mediaicon})}),L.jsx(mr,{id:"commandMission",onClick:x,className:t.mediaButton,children:"Fly!"}),L.jsxs(mr,{id:"openedmission",onClick:y,className:t.mediaButton,style:{margin:"0px 100px",width:"500px"},children:[" ",r]}),L.jsx(mr,{variant:"filledTonal",onClick:E=>T(),className:t.mediaButton,children:"Status"}),L.jsx(mr,{id:"openTerminal",style:{visibility:!0},className:t.mediaButton,children:L.jsx(qq,{fontSize:"small",className:t.mediaicon})}),L.jsx(mr,{id:"UndoMission",style:{visibility:!0},className:t.mediaButton,children:L.jsx(Hq,{fontSize:"small",className:t.mediaicon})}),L.jsx(mr,{id:"reset",className:t.mediaButton,children:L.jsx(Gq,{fontSize:"small",className:t.mediaicon})}),L.jsx(mr,{id:"showManualMode",className:t.mediaButton,children:L.jsx(Yq,{fontSize:"small",className:t.mediaicon})}),L.jsx(mr,{id:"commandManualMission",style:{visibility:!0},className:t.mediaButton,children:L.jsx(Kq,{fontSize:"small",className:t.mediaicon})})]})})};var iD={},E_e=fr;Object.defineProperty(iD,"__esModule",{value:!0});var pu=iD.default=void 0,O_e=E_e(hr()),M_e=L,A_e=(0,O_e.default)((0,M_e.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");pu=iD.default=A_e;const I_e=Nr(e=>({title:{fontWeight:700,fontSize:"16px",textAlign:"left",marginTop:0,marginBottom:"6px",width:"300px",height:"18px"},mediaButton:{color:"#fff",mixBlendMode:"difference",right:0,top:0},description:{margin:0,textAlign:"left",fontSize:"12px",paddingLeft:"1rem"},toast:{height:"60px",width:"365px",color:"#fff",marginBottom:"1rem"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(.5,1,0,2)},card:{pointerEvents:"auto",height:"60px",width:"365px",color:"#fff",marginBottom:"1rem"},root:{pointerEvents:"none",position:"fixed",zIndex:5,bottom:"1rem",right:"1rem"}})),$_e=({toastlist:e,position:t,setList:n})=>{const r=I_e(),i=U.useCallback(o=>{const s=e.filter(a=>a.id!==o);n(s)},[e,n]);return U.useEffect(()=>{const o=setInterval(()=>{e.length&&i(e[0].id)},3e3);return()=>{clearInterval(o)}},[e,i]),L.jsx("div",{className:r.root,children:e.map((o,s)=>L.jsxs(ku,{elevation:3,className:r.card,style:{backgroundColor:o.backgroundColor},children:[L.jsxs("div",{className:r.header,children:[L.jsx(pn,{variant:"body2",children:o.title}),L.jsx(Hn,{size:"small",onClick:()=>i(o.id),onTouchStart:()=>i(o.id),children:L.jsx(pu,{fontSize:"small",className:r.mediaButton})})]}),L.jsx("div",{children:L.jsx("p",{className:r.description,children:o.description})})]}))})};var oD={},R_e=fr;Object.defineProperty(oD,"__esModule",{value:!0});var _l=oD.default=void 0,D_e=R_e(hr()),L_e=L,j_e=(0,D_e.default)((0,L_e.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");_l=oD.default=j_e;const Uc=({label:e,fullWidth:t,multiple:n,value:r,emptyValue:i=0,emptyTitle:o="",onChange:s,endpoint:a,data:f,keyGetter:h=y=>y.id,titleGetter:g=y=>y.name})=>{const[y,x]=U.useState(f);return SR(async()=>{if(a){const T=await fetch(a);if(T.ok)x(await T.json());else throw Error(await T.text())}},[]),y?L.jsxs(ib,{fullWidth:t,children:[L.jsx(ob,{children:e}),L.jsxs(ab,{label:e,multiple:n,value:r,onChange:s,children:[!n&&i!==null&&L.jsx(Os,{value:i,children:o}),y.map(T=>L.jsx(Os,{value:h(T),children:g(T)},h(T)))]})]}):null};var aD={},N_e=fr;Object.defineProperty(aD,"__esModule",{value:!0});var qd=aD.default=void 0,z_e=N_e(hr()),B_e=L,F_e=(0,z_e.default)((0,B_e.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");qd=aD.default=F_e;const U_e=Nr(e=>({card:{pointerEvents:"auto",display:"block",width:"400px",height:"70vh",transitionDuration:"0.3s",overflowY:"auto"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"50%",top:"20%",transform:"translateX(-50%)"},button:{width:"80%",paddingBottom:"10pt",paddingTop:"10pt"},formControl:{margin:e.spacing(1),gap:e.spacing(2),paddingBottom:"20pt"},inputtext:{paddingBottom:"20px"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},title:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"20pt",textAlign:"left"},closeBtn:{display:"flex",right:"5px",height:"35px",position:"absolute"},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),V_e=({SetAddUAVOpen:e})=>{const t=U_e(),n=U.useContext(Wd),[r,i]=U.useState({name:"uav_",category:"dji_M210_noetic",ip:"10.42.0.42",camera:[]});function o(){e(!1)}function s(){console.log("add uav-"+r.name+"-"+r.category),console.log(r),n.connectAddUav(r),e(!1)}const a=h=>{let g=JSON.parse(JSON.stringify(r.camera));g.splice(h,1),i({...r,camera:g})};function f(){let h=JSON.parse(JSON.stringify(r.camera));h.push({type:"WebRTC",source:""}),i({...r,camera:h})}return L.jsx("div",{className:t.root,children:L.jsxs(ku,{elevation:3,className:t.card,children:[L.jsx("div",{className:t.closeBtn,children:L.jsx(Hn,{size:"small",onClick:o,onTouchStart:o,children:L.jsx(pu,{fontSize:"small",className:t.mediaButton})})}),L.jsx("b",{children:L.jsx("div",{className:t.title,children:"Add device "})}),L.jsxs(Zl,{defaultExpanded:!0,children:[L.jsx(Jl,{expandIcon:L.jsx(_l,{}),children:L.jsx(pn,{variant:"subtitle1",children:"Datos UAV"})}),L.jsx(Xl,{className:t.details,children:L.jsxs(Rhe,{style:{margin:"20px"},children:[L.jsx(Pi,{required:!0,label:"UAV ID",name:"uavid",value:r.name,onChange:h=>i({...r,name:h.target.value}),className:t.inputtext}),L.jsx(Uc,{emptyValue:null,value:r.category?r.category:"",onChange:h=>i({...r,category:h.target.value}),endpoint:"/api/category",keyGetter:h=>h,titleGetter:h=>h,label:"Type UAV "}),L.jsx(Pi,{style:{marginTop:"20px"},label:"ip",value:r.ip,onChange:h=>i({...r,ip:h.target.value})})]})})]}),r&&L.jsxs(Zl,{children:[L.jsx(Jl,{expandIcon:L.jsx(_l,{}),children:L.jsx(pn,{variant:"subtitle1",children:"Camera"})}),L.jsxs(Xl,{className:t.details,children:[r.camera&&r.camera.map((h,g,y)=>L.jsxs(U.Fragment,{children:[L.jsx(pn,{variant:"subtitle1",className:t.attributeName,children:"Camera "+g}),L.jsxs("div",{children:[L.jsxs(ib,{variant:"outlined",children:[L.jsx(ob,{id:"demo-simple-select-outlined-label",children:"CameraType"}),L.jsxs(ab,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:h.type,label:"type",onChange:x=>i({...r,camera:r.camera.map((T,E)=>{let C=JSON.parse(JSON.stringify(T));return g==E&&(C.type=x.target.value),C})}),children:[L.jsx(Os,{value:"WebRTC",children:"WebRTC"}),L.jsx(Os,{value:"WebRTC_env",children:"WebRTCenv"}),L.jsx(Os,{value:"Websocket",children:"Websocket"})]})]}),L.jsx("div",{className:t.actionValue,children:L.jsx(Pi,{required:!0,fullWidth:!0,value:h.source,onChange:x=>i({...r,camera:r.camera.map((T,E)=>{let C=JSON.parse(JSON.stringify(T));return g==E&&(C.source=x.target.value),C})})})}),L.jsx(Hn,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>a(g),className:t.negative,children:L.jsx(qd,{})})]}),L.jsx(rb,{})]},"fragment-action-"+g)),L.jsx(mr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:f,children:"Add camera source"})]})]}),L.jsx("div",{style:{paddingBottom:"20pt",paddingTop:"20pt",display:"flex",justifyContent:"center"},children:L.jsx(mr,{className:t.button,variant:"contained",onClick:s,children:"ADD"})})]})})},uS="/assets/placeholder-IqVYhB-0.jpg";var sD={},W_e=fr;Object.defineProperty(sD,"__esModule",{value:!0});var lD=sD.default=void 0,q_e=W_e(hr()),H_e=L,G_e=(0,q_e.default)((0,H_e.jsx)("path",{d:"m15 3 2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3h-6zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3v6zm6 12-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6h6zm12-6-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6v-6z"}),"ZoomOutMap");lD=sD.default=G_e;const Y_e=Nr(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},card_max:{pointerEvents:"auto",width:"100%"},media:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"360px",top:e.spacing(15),transform:"translateX(1%)"},root_max:{pointerEvents:"none",position:"fixed",zIndex:6,left:"51%",top:"5%",transform:"translateX(-50%)",width:"55%"}})),K_e=({deviceId:e,datacamera:t,onClose:n})=>{const r=Y_e(),[i,o]=U.useState(uS),s=yn(x=>x.devices.items[e]),[a,f]=U.useState(!1);let h=a?r.card_max:r.card,g=a?r.root_max:r.root;function y(){f(!a)}return U.useEffect(()=>{e!=null&&(t!=null?o("data:image/bgr8;base64,"+t.camera):o(uS))},[t]),L.jsx("div",{className:g,children:s&&L.jsxs(ku,{elevation:3,className:h,children:[L.jsxs("div",{style:{display:"flex",right:"5px",height:"35px",position:"absolute"},children:[L.jsx(Hn,{size:"small",onClick:y,onTouchStart:y,children:L.jsx(lD,{fontSize:"small",className:r.mediaButton})}),L.jsx(Hn,{size:"small",onClick:()=>{n(),f(!1)},onTouchStart:n,children:L.jsx(pu,{fontSize:"small",className:r.mediaButton})})]}),L.jsxs("div",{style:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},children:["Image "+s.name," "]}),L.jsx("img",{src:i,className:r.media})]})})};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Zq;function Rt(){return Zq.apply(null,arguments)}function Z_e(e){Zq=e}function Pl(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function rh(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function er(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function cD(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(er(e,t))return!1;return!0}function wa(e){return e===void 0}function mu(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function pb(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Xq(e,t){var n=[],r,i=e.length;for(r=0;r<i;++r)n.push(t(e[r],r));return n}function vd(e,t){for(var n in t)er(t,n)&&(e[n]=t[n]);return er(t,"toString")&&(e.toString=t.toString),er(t,"valueOf")&&(e.valueOf=t.valueOf),e}function hc(e,t,n,r){return _H(e,t,n,r,!0).utc()}function X_e(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function On(e){return e._pf==null&&(e._pf=X_e()),e._pf}var JM;Array.prototype.some?JM=Array.prototype.some:JM=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function uD(e){if(e._isValid==null){var t=On(e),n=JM.call(t.parsedDateParts,function(i){return i!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function YC(e){var t=hc(NaN);return e!=null?vd(On(t),e):On(t).userInvalidated=!0,t}var IB=Rt.momentProperties=[],wE=!1;function dD(e,t){var n,r,i,o=IB.length;if(wa(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),wa(t._i)||(e._i=t._i),wa(t._f)||(e._f=t._f),wa(t._l)||(e._l=t._l),wa(t._strict)||(e._strict=t._strict),wa(t._tzm)||(e._tzm=t._tzm),wa(t._isUTC)||(e._isUTC=t._isUTC),wa(t._offset)||(e._offset=t._offset),wa(t._pf)||(e._pf=On(t)),wa(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)r=IB[n],i=t[r],wa(i)||(e[r]=i);return e}function mb(e){dD(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),wE===!1&&(wE=!0,Rt.updateOffset(this),wE=!1)}function El(e){return e instanceof mb||e!=null&&e._isAMomentObject!=null}function Jq(e){Rt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Gs(e,t){var n=!0;return vd(function(){if(Rt.deprecationHandler!=null&&Rt.deprecationHandler(null,e),n){var r=[],i,o,s,a=arguments.length;for(o=0;o<a;o++){if(i="",typeof arguments[o]=="object"){i+=`
[`+o+"] ";for(s in arguments[0])er(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[o];r.push(i)}Jq(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var $B={};function Qq(e,t){Rt.deprecationHandler!=null&&Rt.deprecationHandler(e,t),$B[e]||(Jq(t),$B[e]=!0)}Rt.suppressDeprecationWarnings=!1;Rt.deprecationHandler=null;function pc(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function J_e(e){var t,n;for(n in e)er(e,n)&&(t=e[n],pc(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function QM(e,t){var n=vd({},e),r;for(r in t)er(t,r)&&(rh(e[r])&&rh(t[r])?(n[r]={},vd(n[r],e[r]),vd(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)er(e,r)&&!er(t,r)&&rh(e[r])&&(n[r]=vd({},n[r]));return n}function fD(e){e!=null&&this.set(e)}var eA;Object.keys?eA=Object.keys:eA=function(e){var t,n=[];for(t in e)er(e,t)&&n.push(t);return n};var Q_e={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function e1e(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return pc(r)?r.call(t,n):r}function dc(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var hD=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,w1=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,SE={},wm={};function sn(e,t,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(wm[e]=i),t&&(wm[t[0]]=function(){return dc(i.apply(this,arguments),t[1],t[2])}),n&&(wm[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function t1e(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function n1e(e){var t=e.match(hD),n,r;for(n=0,r=t.length;n<r;n++)wm[t[n]]?t[n]=wm[t[n]]:t[n]=t1e(t[n]);return function(i){var o="",s;for(s=0;s<r;s++)o+=pc(t[s])?t[s].call(i,e):t[s];return o}}function sw(e,t){return e.isValid()?(t=eH(t,e.localeData()),SE[t]=SE[t]||n1e(t),SE[t](e)):e.localeData().invalidDate()}function eH(e,t){var n=5;function r(i){return t.longDateFormat(i)||i}for(w1.lastIndex=0;n>=0&&w1.test(e);)e=e.replace(w1,r),w1.lastIndex=0,n-=1;return e}var r1e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function i1e(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(hD).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var o1e="Invalid date";function a1e(){return this._invalidDate}var s1e="%d",l1e=/\d{1,2}/;function c1e(e){return this._ordinal.replace("%d",e)}var u1e={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function d1e(e,t,n,r){var i=this._relativeTime[n];return pc(i)?i(e,t,n,r):i.replace(/%d/i,e)}function f1e(e,t){var n=this._relativeTime[e>0?"future":"past"];return pc(n)?n(t):n.replace(/%s/i,t)}var g0={};function Vo(e,t){var n=e.toLowerCase();g0[n]=g0[n+"s"]=g0[t]=e}function Ys(e){return typeof e=="string"?g0[e]||g0[e.toLowerCase()]:void 0}function pD(e){var t={},n,r;for(r in e)er(e,r)&&(n=Ys(r),n&&(t[n]=e[r]));return t}var tH={};function Wo(e,t){tH[e]=t}function h1e(e){var t=[],n;for(n in e)er(e,n)&&t.push({unit:n,priority:tH[n]});return t.sort(function(r,i){return r.priority-i.priority}),t}function KC(e){return e%4===0&&e%100!==0||e%400===0}function ks(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Dn(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=ks(t)),n}function Rg(e,t){return function(n){return n!=null?(nH(this,e,n),Rt.updateOffset(this,t),this):dS(this,e)}}function dS(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function nH(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&KC(e.year())&&e.month()===1&&e.date()===29?(n=Dn(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),tk(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function p1e(e){return e=Ys(e),pc(this[e])?this[e]():this}function m1e(e,t){if(typeof e=="object"){e=pD(e);var n=h1e(e),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](e[n[r].unit])}else if(e=Ys(e),pc(this[e]))return this[e](t);return this}var rH=/\d/,ss=/\d\d/,iH=/\d{3}/,mD=/\d{4}/,ZC=/[+-]?\d{6}/,Gr=/\d\d?/,oH=/\d\d\d\d?/,aH=/\d\d\d\d\d\d?/,XC=/\d{1,3}/,gD=/\d{1,4}/,JC=/[+-]?\d{1,6}/,Dg=/\d+/,QC=/[+-]?\d+/,g1e=/Z|[+-]\d\d:?\d\d/gi,ek=/Z|[+-]\d\d(?::?\d\d)?/gi,y1e=/[+-]?\d+(\.\d{1,3})?/,gb=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,fS;fS={};function Ut(e,t,n){fS[e]=pc(t)?t:function(r,i){return r&&n?n:t}}function v1e(e,t){return er(fS,e)?fS[e](t._strict,t._locale):new RegExp(x1e(e))}function x1e(e){return qa(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,i,o){return n||r||i||o}))}function qa(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var tA={};function kr(e,t){var n,r=t,i;for(typeof e=="string"&&(e=[e]),mu(t)&&(r=function(o,s){s[t]=Dn(o)}),i=e.length,n=0;n<i;n++)tA[e[n]]=r}function yb(e,t){kr(e,function(n,r,i,o){i._w=i._w||{},t(n,i._w,i,o)})}function b1e(e,t,n){t!=null&&er(tA,e)&&tA[e](t,n._a,n,e)}var Fo=0,Yc=1,Kl=2,Wi=3,wl=4,Kc=5,Hf=6,_1e=7,w1e=8;function S1e(e,t){return(e%t+t)%t}var Ti;Array.prototype.indexOf?Ti=Array.prototype.indexOf:Ti=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function tk(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=S1e(t,12);return e+=(t-n)/12,n===1?KC(e)?29:28:31-n%7%2}sn("M",["MM",2],"Mo",function(){return this.month()+1});sn("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});sn("MMMM",0,0,function(e){return this.localeData().months(this,e)});Vo("month","M");Wo("month",8);Ut("M",Gr);Ut("MM",Gr,ss);Ut("MMM",function(e,t){return t.monthsShortRegex(e)});Ut("MMMM",function(e,t){return t.monthsRegex(e)});kr(["M","MM"],function(e,t){t[Yc]=Dn(e)-1});kr(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);i!=null?t[Yc]=i:On(n).invalidMonth=e});var C1e="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),sH="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),lH=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,k1e=gb,T1e=gb;function P1e(e,t){return e?Pl(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||lH).test(t)?"format":"standalone"][e.month()]:Pl(this._months)?this._months:this._months.standalone}function E1e(e,t){return e?Pl(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[lH.test(t)?"format":"standalone"][e.month()]:Pl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function O1e(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=hc([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?t==="MMM"?(i=Ti.call(this._shortMonthsParse,s),i!==-1?i:null):(i=Ti.call(this._longMonthsParse,s),i!==-1?i:null):t==="MMM"?(i=Ti.call(this._shortMonthsParse,s),i!==-1?i:(i=Ti.call(this._longMonthsParse,s),i!==-1?i:null)):(i=Ti.call(this._longMonthsParse,s),i!==-1?i:(i=Ti.call(this._shortMonthsParse,s),i!==-1?i:null))}function M1e(e,t,n){var r,i,o;if(this._monthsParseExact)return O1e.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=hc([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function cH(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Dn(t);else if(t=e.localeData().monthsParse(t),!mu(t))return e}return n=Math.min(e.date(),tk(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function uH(e){return e!=null?(cH(this,e),Rt.updateOffset(this,!0),this):dS(this,"Month")}function A1e(){return tk(this.year(),this.month())}function I1e(e){return this._monthsParseExact?(er(this,"_monthsRegex")||dH.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(er(this,"_monthsShortRegex")||(this._monthsShortRegex=k1e),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function $1e(e){return this._monthsParseExact?(er(this,"_monthsRegex")||dH.call(this),e?this._monthsStrictRegex:this._monthsRegex):(er(this,"_monthsRegex")||(this._monthsRegex=T1e),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function dH(){function e(s,a){return a.length-s.length}var t=[],n=[],r=[],i,o;for(i=0;i<12;i++)o=hc([2e3,i]),t.push(this.monthsShort(o,"")),n.push(this.months(o,"")),r.push(this.months(o,"")),r.push(this.monthsShort(o,""));for(t.sort(e),n.sort(e),r.sort(e),i=0;i<12;i++)t[i]=qa(t[i]),n[i]=qa(n[i]);for(i=0;i<24;i++)r[i]=qa(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}sn("Y",0,0,function(){var e=this.year();return e<=9999?dc(e,4):"+"+e});sn(0,["YY",2],0,function(){return this.year()%100});sn(0,["YYYY",4],0,"year");sn(0,["YYYYY",5],0,"year");sn(0,["YYYYYY",6,!0],0,"year");Vo("year","y");Wo("year",1);Ut("Y",QC);Ut("YY",Gr,ss);Ut("YYYY",gD,mD);Ut("YYYYY",JC,ZC);Ut("YYYYYY",JC,ZC);kr(["YYYYY","YYYYYY"],Fo);kr("YYYY",function(e,t){t[Fo]=e.length===2?Rt.parseTwoDigitYear(e):Dn(e)});kr("YY",function(e,t){t[Fo]=Rt.parseTwoDigitYear(e)});kr("Y",function(e,t){t[Fo]=parseInt(e,10)});function y0(e){return KC(e)?366:365}Rt.parseTwoDigitYear=function(e){return Dn(e)+(Dn(e)>68?1900:2e3)};var fH=Rg("FullYear",!0);function R1e(){return KC(this.year())}function D1e(e,t,n,r,i,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,i,o,s),a}function ix(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function hS(e,t,n){var r=7+t-n,i=(7+ix(e,0,r).getUTCDay()-t)%7;return-i+r-1}function hH(e,t,n,r,i){var o=(7+n-r)%7,s=hS(e,r,i),a=1+7*(t-1)+o+s,f,h;return a<=0?(f=e-1,h=y0(f)+a):a>y0(e)?(f=e+1,h=a-y0(e)):(f=e,h=a),{year:f,dayOfYear:h}}function ox(e,t,n){var r=hS(e.year(),t,n),i=Math.floor((e.dayOfYear()-r-1)/7)+1,o,s;return i<1?(s=e.year()-1,o=i+tu(s,t,n)):i>tu(e.year(),t,n)?(o=i-tu(e.year(),t,n),s=e.year()+1):(s=e.year(),o=i),{week:o,year:s}}function tu(e,t,n){var r=hS(e,t,n),i=hS(e+1,t,n);return(y0(e)-r+i)/7}sn("w",["ww",2],"wo","week");sn("W",["WW",2],"Wo","isoWeek");Vo("week","w");Vo("isoWeek","W");Wo("week",5);Wo("isoWeek",5);Ut("w",Gr);Ut("ww",Gr,ss);Ut("W",Gr);Ut("WW",Gr,ss);yb(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Dn(e)});function L1e(e){return ox(e,this._week.dow,this._week.doy).week}var j1e={dow:0,doy:6};function N1e(){return this._week.dow}function z1e(){return this._week.doy}function B1e(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function F1e(e){var t=ox(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}sn("d",0,"do","day");sn("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});sn("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});sn("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});sn("e",0,0,"weekday");sn("E",0,0,"isoWeekday");Vo("day","d");Vo("weekday","e");Vo("isoWeekday","E");Wo("day",11);Wo("weekday",11);Wo("isoWeekday",11);Ut("d",Gr);Ut("e",Gr);Ut("E",Gr);Ut("dd",function(e,t){return t.weekdaysMinRegex(e)});Ut("ddd",function(e,t){return t.weekdaysShortRegex(e)});Ut("dddd",function(e,t){return t.weekdaysRegex(e)});yb(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);i!=null?t.d=i:On(n).invalidWeekday=e});yb(["d","e","E"],function(e,t,n,r){t[r]=Dn(e)});function U1e(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function V1e(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function yD(e,t){return e.slice(t,7).concat(e.slice(0,t))}var W1e="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),pH="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),q1e="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),H1e=gb,G1e=gb,Y1e=gb;function K1e(e,t){var n=Pl(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?yD(n,this._week.dow):e?n[e.day()]:n}function Z1e(e){return e===!0?yD(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function X1e(e){return e===!0?yD(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function J1e(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=hc([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?t==="dddd"?(i=Ti.call(this._weekdaysParse,s),i!==-1?i:null):t==="ddd"?(i=Ti.call(this._shortWeekdaysParse,s),i!==-1?i:null):(i=Ti.call(this._minWeekdaysParse,s),i!==-1?i:null):t==="dddd"?(i=Ti.call(this._weekdaysParse,s),i!==-1||(i=Ti.call(this._shortWeekdaysParse,s),i!==-1)?i:(i=Ti.call(this._minWeekdaysParse,s),i!==-1?i:null)):t==="ddd"?(i=Ti.call(this._shortWeekdaysParse,s),i!==-1||(i=Ti.call(this._weekdaysParse,s),i!==-1)?i:(i=Ti.call(this._minWeekdaysParse,s),i!==-1?i:null)):(i=Ti.call(this._minWeekdaysParse,s),i!==-1||(i=Ti.call(this._weekdaysParse,s),i!==-1)?i:(i=Ti.call(this._shortWeekdaysParse,s),i!==-1?i:null))}function Q1e(e,t,n){var r,i,o;if(this._weekdaysParseExact)return J1e.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=hc([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function ewe(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=U1e(e,this.localeData()),this.add(e-t,"d")):t}function twe(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function nwe(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=V1e(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function rwe(e){return this._weekdaysParseExact?(er(this,"_weekdaysRegex")||vD.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(er(this,"_weekdaysRegex")||(this._weekdaysRegex=H1e),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function iwe(e){return this._weekdaysParseExact?(er(this,"_weekdaysRegex")||vD.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(er(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=G1e),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function owe(e){return this._weekdaysParseExact?(er(this,"_weekdaysRegex")||vD.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(er(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Y1e),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function vD(){function e(g,y){return y.length-g.length}var t=[],n=[],r=[],i=[],o,s,a,f,h;for(o=0;o<7;o++)s=hc([2e3,1]).day(o),a=qa(this.weekdaysMin(s,"")),f=qa(this.weekdaysShort(s,"")),h=qa(this.weekdays(s,"")),t.push(a),n.push(f),r.push(h),i.push(a),i.push(f),i.push(h);t.sort(e),n.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function xD(){return this.hours()%12||12}function awe(){return this.hours()||24}sn("H",["HH",2],0,"hour");sn("h",["hh",2],0,xD);sn("k",["kk",2],0,awe);sn("hmm",0,0,function(){return""+xD.apply(this)+dc(this.minutes(),2)});sn("hmmss",0,0,function(){return""+xD.apply(this)+dc(this.minutes(),2)+dc(this.seconds(),2)});sn("Hmm",0,0,function(){return""+this.hours()+dc(this.minutes(),2)});sn("Hmmss",0,0,function(){return""+this.hours()+dc(this.minutes(),2)+dc(this.seconds(),2)});function mH(e,t){sn(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}mH("a",!0);mH("A",!1);Vo("hour","h");Wo("hour",13);function gH(e,t){return t._meridiemParse}Ut("a",gH);Ut("A",gH);Ut("H",Gr);Ut("h",Gr);Ut("k",Gr);Ut("HH",Gr,ss);Ut("hh",Gr,ss);Ut("kk",Gr,ss);Ut("hmm",oH);Ut("hmmss",aH);Ut("Hmm",oH);Ut("Hmmss",aH);kr(["H","HH"],Wi);kr(["k","kk"],function(e,t,n){var r=Dn(e);t[Wi]=r===24?0:r});kr(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});kr(["h","hh"],function(e,t,n){t[Wi]=Dn(e),On(n).bigHour=!0});kr("hmm",function(e,t,n){var r=e.length-2;t[Wi]=Dn(e.substr(0,r)),t[wl]=Dn(e.substr(r)),On(n).bigHour=!0});kr("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Wi]=Dn(e.substr(0,r)),t[wl]=Dn(e.substr(r,2)),t[Kc]=Dn(e.substr(i)),On(n).bigHour=!0});kr("Hmm",function(e,t,n){var r=e.length-2;t[Wi]=Dn(e.substr(0,r)),t[wl]=Dn(e.substr(r))});kr("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Wi]=Dn(e.substr(0,r)),t[wl]=Dn(e.substr(r,2)),t[Kc]=Dn(e.substr(i))});function swe(e){return(e+"").toLowerCase().charAt(0)==="p"}var lwe=/[ap]\.?m?\.?/i,cwe=Rg("Hours",!0);function uwe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var yH={calendar:Q_e,longDateFormat:r1e,invalidDate:o1e,ordinal:s1e,dayOfMonthOrdinalParse:l1e,relativeTime:u1e,months:C1e,monthsShort:sH,week:j1e,weekdays:W1e,weekdaysMin:q1e,weekdaysShort:pH,meridiemParse:lwe},Jr={},Tv={},ax;function dwe(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function RB(e){return e&&e.toLowerCase().replace("_","-")}function fwe(e){for(var t=0,n,r,i,o;t<e.length;){for(o=RB(e[t]).split("-"),n=o.length,r=RB(e[t+1]),r=r?r.split("-"):null;n>0;){if(i=nk(o.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&dwe(o,r)>=n-1)break;n--}t++}return ax}function hwe(e){return e.match("^[^/\\\\]*$")!=null}function nk(e){var t=null,n;if(Jr[e]===void 0&&typeof fw<"u"&&fw&&fw.exports&&hwe(e))try{t=ax._abbr,n=require,n("./locale/"+e),$d(t)}catch{Jr[e]=null}return Jr[e]}function $d(e,t){var n;return e&&(wa(t)?n=Tu(e):n=bD(e,t),n?ax=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ax._abbr}function bD(e,t){if(t!==null){var n,r=yH;if(t.abbr=e,Jr[e]!=null)Qq("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Jr[e]._config;else if(t.parentLocale!=null)if(Jr[t.parentLocale]!=null)r=Jr[t.parentLocale]._config;else if(n=nk(t.parentLocale),n!=null)r=n._config;else return Tv[t.parentLocale]||(Tv[t.parentLocale]=[]),Tv[t.parentLocale].push({name:e,config:t}),null;return Jr[e]=new fD(QM(r,t)),Tv[e]&&Tv[e].forEach(function(i){bD(i.name,i.config)}),$d(e),Jr[e]}else return delete Jr[e],null}function pwe(e,t){if(t!=null){var n,r,i=yH;Jr[e]!=null&&Jr[e].parentLocale!=null?Jr[e].set(QM(Jr[e]._config,t)):(r=nk(e),r!=null&&(i=r._config),t=QM(i,t),r==null&&(t.abbr=e),n=new fD(t),n.parentLocale=Jr[e],Jr[e]=n),$d(e)}else Jr[e]!=null&&(Jr[e].parentLocale!=null?(Jr[e]=Jr[e].parentLocale,e===$d()&&$d(e)):Jr[e]!=null&&delete Jr[e]);return Jr[e]}function Tu(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ax;if(!Pl(e)){if(t=nk(e),t)return t;e=[e]}return fwe(e)}function mwe(){return eA(Jr)}function _D(e){var t,n=e._a;return n&&On(e).overflow===-2&&(t=n[Yc]<0||n[Yc]>11?Yc:n[Kl]<1||n[Kl]>tk(n[Fo],n[Yc])?Kl:n[Wi]<0||n[Wi]>24||n[Wi]===24&&(n[wl]!==0||n[Kc]!==0||n[Hf]!==0)?Wi:n[wl]<0||n[wl]>59?wl:n[Kc]<0||n[Kc]>59?Kc:n[Hf]<0||n[Hf]>999?Hf:-1,On(e)._overflowDayOfYear&&(t<Fo||t>Kl)&&(t=Kl),On(e)._overflowWeeks&&t===-1&&(t=_1e),On(e)._overflowWeekday&&t===-1&&(t=w1e),On(e).overflow=t),e}var gwe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ywe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vwe=/Z|[+-]\d\d(?::?\d\d)?/,S1=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],CE=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],xwe=/^\/?Date\((-?\d+)/i,bwe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,_we={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function vH(e){var t,n,r=e._i,i=gwe.exec(r)||ywe.exec(r),o,s,a,f,h=S1.length,g=CE.length;if(i){for(On(e).iso=!0,t=0,n=h;t<n;t++)if(S1[t][1].exec(i[1])){s=S1[t][0],o=S1[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(i[3]){for(t=0,n=g;t<n;t++)if(CE[t][1].exec(i[3])){a=(i[2]||" ")+CE[t][0];break}if(a==null){e._isValid=!1;return}}if(!o&&a!=null){e._isValid=!1;return}if(i[4])if(vwe.exec(i[4]))f="Z";else{e._isValid=!1;return}e._f=s+(a||"")+(f||""),SD(e)}else e._isValid=!1}function wwe(e,t,n,r,i,o){var s=[Swe(e),sH.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function Swe(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Cwe(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function kwe(e,t,n){if(e){var r=pH.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return On(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function Twe(e,t,n){if(e)return _we[e];if(t)return 0;var r=parseInt(n,10),i=r%100,o=(r-i)/100;return o*60+i}function xH(e){var t=bwe.exec(Cwe(e._i)),n;if(t){if(n=wwe(t[4],t[3],t[2],t[5],t[6],t[7]),!kwe(t[1],n,e))return;e._a=n,e._tzm=Twe(t[8],t[9],t[10]),e._d=ix.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),On(e).rfc2822=!0}else e._isValid=!1}function Pwe(e){var t=xwe.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(vH(e),e._isValid===!1)delete e._isValid;else return;if(xH(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Rt.createFromInputFallback(e)}Rt.createFromInputFallback=Gs("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function jp(e,t,n){return e??t??n}function Ewe(e){var t=new Date(Rt.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function wD(e){var t,n,r=[],i,o,s;if(!e._d){for(i=Ewe(e),e._w&&e._a[Kl]==null&&e._a[Yc]==null&&Owe(e),e._dayOfYear!=null&&(s=jp(e._a[Fo],i[Fo]),(e._dayOfYear>y0(s)||e._dayOfYear===0)&&(On(e)._overflowDayOfYear=!0),n=ix(s,0,e._dayOfYear),e._a[Yc]=n.getUTCMonth(),e._a[Kl]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Wi]===24&&e._a[wl]===0&&e._a[Kc]===0&&e._a[Hf]===0&&(e._nextDay=!0,e._a[Wi]=0),e._d=(e._useUTC?ix:D1e).apply(null,r),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Wi]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==o&&(On(e).weekdayMismatch=!0)}}function Owe(e){var t,n,r,i,o,s,a,f,h;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(o=1,s=4,n=jp(t.GG,e._a[Fo],ox(Hr(),1,4).year),r=jp(t.W,1),i=jp(t.E,1),(i<1||i>7)&&(f=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,h=ox(Hr(),o,s),n=jp(t.gg,e._a[Fo],h.year),r=jp(t.w,h.week),t.d!=null?(i=t.d,(i<0||i>6)&&(f=!0)):t.e!=null?(i=t.e+o,(t.e<0||t.e>6)&&(f=!0)):i=o),r<1||r>tu(n,o,s)?On(e)._overflowWeeks=!0:f!=null?On(e)._overflowWeekday=!0:(a=hH(n,r,i,o,s),e._a[Fo]=a.year,e._dayOfYear=a.dayOfYear)}Rt.ISO_8601=function(){};Rt.RFC_2822=function(){};function SD(e){if(e._f===Rt.ISO_8601){vH(e);return}if(e._f===Rt.RFC_2822){xH(e);return}e._a=[],On(e).empty=!0;var t=""+e._i,n,r,i,o,s,a=t.length,f=0,h,g;for(i=eH(e._f,e._locale).match(hD)||[],g=i.length,n=0;n<g;n++)o=i[n],r=(t.match(v1e(o,e))||[])[0],r&&(s=t.substr(0,t.indexOf(r)),s.length>0&&On(e).unusedInput.push(s),t=t.slice(t.indexOf(r)+r.length),f+=r.length),wm[o]?(r?On(e).empty=!1:On(e).unusedTokens.push(o),b1e(o,r,e)):e._strict&&!r&&On(e).unusedTokens.push(o);On(e).charsLeftOver=a-f,t.length>0&&On(e).unusedInput.push(t),e._a[Wi]<=12&&On(e).bigHour===!0&&e._a[Wi]>0&&(On(e).bigHour=void 0),On(e).parsedDateParts=e._a.slice(0),On(e).meridiem=e._meridiem,e._a[Wi]=Mwe(e._locale,e._a[Wi],e._meridiem),h=On(e).era,h!==null&&(e._a[Fo]=e._locale.erasConvertYear(h,e._a[Fo])),wD(e),_D(e)}function Mwe(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function Awe(e){var t,n,r,i,o,s,a=!1,f=e._f.length;if(f===0){On(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<f;i++)o=0,s=!1,t=dD({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],SD(t),uD(t)&&(s=!0),o+=On(t).charsLeftOver,o+=On(t).unusedTokens.length*10,On(t).score=o,a?o<r&&(r=o,n=t):(r==null||o<r||s)&&(r=o,n=t,s&&(a=!0));vd(e,n||t)}function Iwe(e){if(!e._d){var t=pD(e._i),n=t.day===void 0?t.date:t.day;e._a=Xq([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),wD(e)}}function $we(e){var t=new mb(_D(bH(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function bH(e){var t=e._i,n=e._f;return e._locale=e._locale||Tu(e._l),t===null||n===void 0&&t===""?YC({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),El(t)?new mb(_D(t)):(pb(t)?e._d=t:Pl(n)?Awe(e):n?SD(e):Rwe(e),uD(e)||(e._d=null),e))}function Rwe(e){var t=e._i;wa(t)?e._d=new Date(Rt.now()):pb(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Pwe(e):Pl(t)?(e._a=Xq(t.slice(0),function(n){return parseInt(n,10)}),wD(e)):rh(t)?Iwe(e):mu(t)?e._d=new Date(t):Rt.createFromInputFallback(e)}function _H(e,t,n,r,i){var o={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(rh(e)&&cD(e)||Pl(e)&&e.length===0)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,$we(o)}function Hr(e,t,n,r){return _H(e,t,n,r,!1)}var Dwe=Gs("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Hr.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:YC()}),Lwe=Gs("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Hr.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:YC()});function wH(e,t){var n,r;if(t.length===1&&Pl(t[0])&&(t=t[0]),!t.length)return Hr();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function jwe(){var e=[].slice.call(arguments,0);return wH("isBefore",e)}function Nwe(){var e=[].slice.call(arguments,0);return wH("isAfter",e)}var zwe=function(){return Date.now?Date.now():+new Date},Pv=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Bwe(e){var t,n=!1,r,i=Pv.length;for(t in e)if(er(e,t)&&!(Ti.call(Pv,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<i;++r)if(e[Pv[r]]){if(n)return!1;parseFloat(e[Pv[r]])!==Dn(e[Pv[r]])&&(n=!0)}return!0}function Fwe(){return this._isValid}function Uwe(){return Ml(NaN)}function rk(e){var t=pD(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,f=t.minute||0,h=t.second||0,g=t.millisecond||0;this._isValid=Bwe(t),this._milliseconds=+g+h*1e3+f*6e4+a*1e3*60*60,this._days=+s+o*7,this._months=+i+r*3+n*12,this._data={},this._locale=Tu(),this._bubble()}function lw(e){return e instanceof rk}function nA(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Vwe(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0,s;for(s=0;s<r;s++)(n&&e[s]!==t[s]||!n&&Dn(e[s])!==Dn(t[s]))&&o++;return o+i}function SH(e,t){sn(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+dc(~~(n/60),2)+t+dc(~~n%60,2)})}SH("Z",":");SH("ZZ","");Ut("Z",ek);Ut("ZZ",ek);kr(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=CD(ek,e)});var Wwe=/([\+\-]|\d\d)/gi;function CD(e,t){var n=(t||"").match(e),r,i,o;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(Wwe)||["-",0,0],o=+(i[1]*60)+Dn(i[2]),o===0?0:i[0]==="+"?o:-o)}function kD(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(El(e)||pb(e)?e.valueOf():Hr(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Rt.updateOffset(n,!1),n):Hr(e).local()}function rA(e){return-Math.round(e._d.getTimezoneOffset())}Rt.updateOffset=function(){};function qwe(e,t,n){var r=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=CD(ek,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(i=rA(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?TH(this,Ml(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Rt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:rA(this)}function Hwe(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Gwe(e){return this.utcOffset(0,e)}function Ywe(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(rA(this),"m")),this}function Kwe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=CD(g1e,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Zwe(e){return this.isValid()?(e=e?Hr(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Xwe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Jwe(){if(!wa(this._isDSTShifted))return this._isDSTShifted;var e={},t;return dD(e,this),e=bH(e),e._a?(t=e._isUTC?hc(e._a):Hr(e._a),this._isDSTShifted=this.isValid()&&Vwe(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Qwe(){return this.isValid()?!this._isUTC:!1}function eSe(){return this.isValid()?this._isUTC:!1}function CH(){return this.isValid()?this._isUTC&&this._offset===0:!1}var tSe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,nSe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ml(e,t){var n=e,r=null,i,o,s;return lw(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:mu(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=tSe.exec(e))?(i=r[1]==="-"?-1:1,n={y:0,d:Dn(r[Kl])*i,h:Dn(r[Wi])*i,m:Dn(r[wl])*i,s:Dn(r[Kc])*i,ms:Dn(nA(r[Hf]*1e3))*i}):(r=nSe.exec(e))?(i=r[1]==="-"?-1:1,n={y:Tf(r[2],i),M:Tf(r[3],i),w:Tf(r[4],i),d:Tf(r[5],i),h:Tf(r[6],i),m:Tf(r[7],i),s:Tf(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=rSe(Hr(n.from),Hr(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),o=new rk(n),lw(e)&&er(e,"_locale")&&(o._locale=e._locale),lw(e)&&er(e,"_isValid")&&(o._isValid=e._isValid),o}Ml.fn=rk.prototype;Ml.invalid=Uwe;function Tf(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function DB(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function rSe(e,t){var n;return e.isValid()&&t.isValid()?(t=kD(t,e),e.isBefore(t)?n=DB(e,t):(n=DB(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function kH(e,t){return function(n,r){var i,o;return r!==null&&!isNaN(+r)&&(Qq(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),i=Ml(n,r),TH(this,i,e),this}}function TH(e,t,n,r){var i=t._milliseconds,o=nA(t._days),s=nA(t._months);e.isValid()&&(r=r??!0,s&&cH(e,dS(e,"Month")+s*n),o&&nH(e,"Date",dS(e,"Date")+o*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&Rt.updateOffset(e,o||s))}var iSe=kH(1,"add"),oSe=kH(-1,"subtract");function PH(e){return typeof e=="string"||e instanceof String}function aSe(e){return El(e)||pb(e)||PH(e)||mu(e)||lSe(e)||sSe(e)||e===null||e===void 0}function sSe(e){var t=rh(e)&&!cD(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,o,s=r.length;for(i=0;i<s;i+=1)o=r[i],n=n||er(e,o);return t&&n}function lSe(e){var t=Pl(e),n=!1;return t&&(n=e.filter(function(r){return!mu(r)&&PH(e)}).length===0),t&&n}function cSe(e){var t=rh(e)&&!cD(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,o;for(i=0;i<r.length;i+=1)o=r[i],n=n||er(e,o);return t&&n}function uSe(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function dSe(e,t){arguments.length===1&&(arguments[0]?aSe(arguments[0])?(e=arguments[0],t=void 0):cSe(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Hr(),r=kD(n,this).startOf("day"),i=Rt.calendarFormat(this,r)||"sameElse",o=t&&(pc(t[i])?t[i].call(this,n):t[i]);return this.format(o||this.localeData().calendar(i,this,Hr(n)))}function fSe(){return new mb(this)}function hSe(e,t){var n=El(e)?e:Hr(e);return this.isValid()&&n.isValid()?(t=Ys(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function pSe(e,t){var n=El(e)?e:Hr(e);return this.isValid()&&n.isValid()?(t=Ys(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function mSe(e,t,n,r){var i=El(e)?e:Hr(e),o=El(t)?t:Hr(t);return this.isValid()&&i.isValid()&&o.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(o,n):!this.isAfter(o,n))):!1}function gSe(e,t){var n=El(e)?e:Hr(e),r;return this.isValid()&&n.isValid()?(t=Ys(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function ySe(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function vSe(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function xSe(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(r=kD(e,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,t=Ys(t),t){case"year":o=cw(this,r)/12;break;case"month":o=cw(this,r);break;case"quarter":o=cw(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:ks(o)}function cw(e,t){if(e.date()<t.date())return-cw(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),i,o;return t-r<0?(i=e.clone().add(n-1,"months"),o=(t-r)/(r-i)):(i=e.clone().add(n+1,"months"),o=(t-r)/(i-r)),-(n+o)||0}Rt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Rt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function bSe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function _Se(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?sw(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):pc(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",sw(n,"Z")):sw(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function wSe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,i,o;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]',this.format(n+r+i+o)}function SSe(e){e||(e=this.isUtc()?Rt.defaultFormatUtc:Rt.defaultFormat);var t=sw(this,e);return this.localeData().postformat(t)}function CSe(e,t){return this.isValid()&&(El(e)&&e.isValid()||Hr(e).isValid())?Ml({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function kSe(e){return this.from(Hr(),e)}function TSe(e,t){return this.isValid()&&(El(e)&&e.isValid()||Hr(e).isValid())?Ml({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function PSe(e){return this.to(Hr(),e)}function EH(e){var t;return e===void 0?this._locale._abbr:(t=Tu(e),t!=null&&(this._locale=t),this)}var OH=Gs("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function MH(){return this._locale}var pS=1e3,Sm=60*pS,mS=60*Sm,AH=(365*400+97)*24*mS;function Cm(e,t){return(e%t+t)%t}function IH(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-AH:new Date(e,t,n).valueOf()}function $H(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-AH:Date.UTC(e,t,n)}function ESe(e){var t,n;if(e=Ys(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?$H:IH,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Cm(t+(this._isUTC?0:this.utcOffset()*Sm),mS);break;case"minute":t=this._d.valueOf(),t-=Cm(t,Sm);break;case"second":t=this._d.valueOf(),t-=Cm(t,pS);break}return this._d.setTime(t),Rt.updateOffset(this,!0),this}function OSe(e){var t,n;if(e=Ys(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?$H:IH,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=mS-Cm(t+(this._isUTC?0:this.utcOffset()*Sm),mS)-1;break;case"minute":t=this._d.valueOf(),t+=Sm-Cm(t,Sm)-1;break;case"second":t=this._d.valueOf(),t+=pS-Cm(t,pS)-1;break}return this._d.setTime(t),Rt.updateOffset(this,!0),this}function MSe(){return this._d.valueOf()-(this._offset||0)*6e4}function ASe(){return Math.floor(this.valueOf()/1e3)}function ISe(){return new Date(this.valueOf())}function $Se(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function RSe(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function DSe(){return this.isValid()?this.toISOString():null}function LSe(){return uD(this)}function jSe(){return vd({},On(this))}function NSe(){return On(this).overflow}function zSe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}sn("N",0,0,"eraAbbr");sn("NN",0,0,"eraAbbr");sn("NNN",0,0,"eraAbbr");sn("NNNN",0,0,"eraName");sn("NNNNN",0,0,"eraNarrow");sn("y",["y",1],"yo","eraYear");sn("y",["yy",2],0,"eraYear");sn("y",["yyy",3],0,"eraYear");sn("y",["yyyy",4],0,"eraYear");Ut("N",TD);Ut("NN",TD);Ut("NNN",TD);Ut("NNNN",ZSe);Ut("NNNNN",XSe);kr(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?On(n).era=i:On(n).invalidEra=e});Ut("y",Dg);Ut("yy",Dg);Ut("yyy",Dg);Ut("yyyy",Dg);Ut("yo",JSe);kr(["y","yy","yyy","yyyy"],Fo);kr(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Fo]=n._locale.eraYearOrdinalParse(e,i):t[Fo]=parseInt(e,10)});function BSe(e,t){var n,r,i,o=this._eras||Tu("en")._eras;for(n=0,r=o.length;n<r;++n){switch(typeof o[n].since){case"string":i=Rt(o[n].since).startOf("day"),o[n].since=i.valueOf();break}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":i=Rt(o[n].until).startOf("day").valueOf(),o[n].until=i.valueOf();break}}return o}function FSe(e,t,n){var r,i,o=this.eras(),s,a,f;for(e=e.toUpperCase(),r=0,i=o.length;r<i;++r)if(s=o[r].name.toUpperCase(),a=o[r].abbr.toUpperCase(),f=o[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return o[r];break;case"NNNN":if(s===e)return o[r];break;case"NNNNN":if(f===e)return o[r];break}else if([s,a,f].indexOf(e)>=0)return o[r]}function USe(e,t){var n=e.since<=e.until?1:-1;return t===void 0?Rt(e.since).year():Rt(e.since).year()+(t-e.offset)*n}function VSe(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function WSe(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function qSe(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function HSe(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-Rt(i[e].since).year())*n+i[e].offset;return this.year()}function GSe(e){return er(this,"_erasNameRegex")||PD.call(this),e?this._erasNameRegex:this._erasRegex}function YSe(e){return er(this,"_erasAbbrRegex")||PD.call(this),e?this._erasAbbrRegex:this._erasRegex}function KSe(e){return er(this,"_erasNarrowRegex")||PD.call(this),e?this._erasNarrowRegex:this._erasRegex}function TD(e,t){return t.erasAbbrRegex(e)}function ZSe(e,t){return t.erasNameRegex(e)}function XSe(e,t){return t.erasNarrowRegex(e)}function JSe(e,t){return t._eraYearOrdinalRegex||Dg}function PD(){var e=[],t=[],n=[],r=[],i,o,s=this.eras();for(i=0,o=s.length;i<o;++i)t.push(qa(s[i].name)),e.push(qa(s[i].abbr)),n.push(qa(s[i].narrow)),r.push(qa(s[i].name)),r.push(qa(s[i].abbr)),r.push(qa(s[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}sn(0,["gg",2],0,function(){return this.weekYear()%100});sn(0,["GG",2],0,function(){return this.isoWeekYear()%100});function ik(e,t){sn(0,[e,e.length],0,t)}ik("gggg","weekYear");ik("ggggg","weekYear");ik("GGGG","isoWeekYear");ik("GGGGG","isoWeekYear");Vo("weekYear","gg");Vo("isoWeekYear","GG");Wo("weekYear",1);Wo("isoWeekYear",1);Ut("G",QC);Ut("g",QC);Ut("GG",Gr,ss);Ut("gg",Gr,ss);Ut("GGGG",gD,mD);Ut("gggg",gD,mD);Ut("GGGGG",JC,ZC);Ut("ggggg",JC,ZC);yb(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Dn(e)});yb(["gg","GG"],function(e,t,n,r){t[r]=Rt.parseTwoDigitYear(e)});function QSe(e){return RH.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function e2e(e){return RH.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function t2e(){return tu(this.year(),1,4)}function n2e(){return tu(this.isoWeekYear(),1,4)}function r2e(){var e=this.localeData()._week;return tu(this.year(),e.dow,e.doy)}function i2e(){var e=this.localeData()._week;return tu(this.weekYear(),e.dow,e.doy)}function RH(e,t,n,r,i){var o;return e==null?ox(this,r,i).year:(o=tu(e,r,i),t>o&&(t=o),o2e.call(this,e,t,n,r,i))}function o2e(e,t,n,r,i){var o=hH(e,t,n,r,i),s=ix(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}sn("Q",0,"Qo","quarter");Vo("quarter","Q");Wo("quarter",7);Ut("Q",rH);kr("Q",function(e,t){t[Yc]=(Dn(e)-1)*3});function a2e(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}sn("D",["DD",2],"Do","date");Vo("date","D");Wo("date",9);Ut("D",Gr);Ut("DD",Gr,ss);Ut("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});kr(["D","DD"],Kl);kr("Do",function(e,t){t[Kl]=Dn(e.match(Gr)[0])});var DH=Rg("Date",!0);sn("DDD",["DDDD",3],"DDDo","dayOfYear");Vo("dayOfYear","DDD");Wo("dayOfYear",4);Ut("DDD",XC);Ut("DDDD",iH);kr(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Dn(e)});function s2e(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}sn("m",["mm",2],0,"minute");Vo("minute","m");Wo("minute",14);Ut("m",Gr);Ut("mm",Gr,ss);kr(["m","mm"],wl);var l2e=Rg("Minutes",!1);sn("s",["ss",2],0,"second");Vo("second","s");Wo("second",15);Ut("s",Gr);Ut("ss",Gr,ss);kr(["s","ss"],Kc);var c2e=Rg("Seconds",!1);sn("S",0,0,function(){return~~(this.millisecond()/100)});sn(0,["SS",2],0,function(){return~~(this.millisecond()/10)});sn(0,["SSS",3],0,"millisecond");sn(0,["SSSS",4],0,function(){return this.millisecond()*10});sn(0,["SSSSS",5],0,function(){return this.millisecond()*100});sn(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});sn(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});sn(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});sn(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Vo("millisecond","ms");Wo("millisecond",16);Ut("S",XC,rH);Ut("SS",XC,ss);Ut("SSS",XC,iH);var xd,LH;for(xd="SSSS";xd.length<=9;xd+="S")Ut(xd,Dg);function u2e(e,t){t[Hf]=Dn(("0."+e)*1e3)}for(xd="S";xd.length<=9;xd+="S")kr(xd,u2e);LH=Rg("Milliseconds",!1);sn("z",0,0,"zoneAbbr");sn("zz",0,0,"zoneName");function d2e(){return this._isUTC?"UTC":""}function f2e(){return this._isUTC?"Coordinated Universal Time":""}var xt=mb.prototype;xt.add=iSe;xt.calendar=dSe;xt.clone=fSe;xt.diff=xSe;xt.endOf=OSe;xt.format=SSe;xt.from=CSe;xt.fromNow=kSe;xt.to=TSe;xt.toNow=PSe;xt.get=p1e;xt.invalidAt=NSe;xt.isAfter=hSe;xt.isBefore=pSe;xt.isBetween=mSe;xt.isSame=gSe;xt.isSameOrAfter=ySe;xt.isSameOrBefore=vSe;xt.isValid=LSe;xt.lang=OH;xt.locale=EH;xt.localeData=MH;xt.max=Lwe;xt.min=Dwe;xt.parsingFlags=jSe;xt.set=m1e;xt.startOf=ESe;xt.subtract=oSe;xt.toArray=$Se;xt.toObject=RSe;xt.toDate=ISe;xt.toISOString=_Se;xt.inspect=wSe;typeof Symbol<"u"&&Symbol.for!=null&&(xt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});xt.toJSON=DSe;xt.toString=bSe;xt.unix=ASe;xt.valueOf=MSe;xt.creationData=zSe;xt.eraName=VSe;xt.eraNarrow=WSe;xt.eraAbbr=qSe;xt.eraYear=HSe;xt.year=fH;xt.isLeapYear=R1e;xt.weekYear=QSe;xt.isoWeekYear=e2e;xt.quarter=xt.quarters=a2e;xt.month=uH;xt.daysInMonth=A1e;xt.week=xt.weeks=B1e;xt.isoWeek=xt.isoWeeks=F1e;xt.weeksInYear=r2e;xt.weeksInWeekYear=i2e;xt.isoWeeksInYear=t2e;xt.isoWeeksInISOWeekYear=n2e;xt.date=DH;xt.day=xt.days=ewe;xt.weekday=twe;xt.isoWeekday=nwe;xt.dayOfYear=s2e;xt.hour=xt.hours=cwe;xt.minute=xt.minutes=l2e;xt.second=xt.seconds=c2e;xt.millisecond=xt.milliseconds=LH;xt.utcOffset=qwe;xt.utc=Gwe;xt.local=Ywe;xt.parseZone=Kwe;xt.hasAlignedHourOffset=Zwe;xt.isDST=Xwe;xt.isLocal=Qwe;xt.isUtcOffset=eSe;xt.isUtc=CH;xt.isUTC=CH;xt.zoneAbbr=d2e;xt.zoneName=f2e;xt.dates=Gs("dates accessor is deprecated. Use date instead.",DH);xt.months=Gs("months accessor is deprecated. Use month instead",uH);xt.years=Gs("years accessor is deprecated. Use year instead",fH);xt.zone=Gs("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Hwe);xt.isDSTShifted=Gs("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Jwe);function h2e(e){return Hr(e*1e3)}function p2e(){return Hr.apply(null,arguments).parseZone()}function jH(e){return e}var nr=fD.prototype;nr.calendar=e1e;nr.longDateFormat=i1e;nr.invalidDate=a1e;nr.ordinal=c1e;nr.preparse=jH;nr.postformat=jH;nr.relativeTime=d1e;nr.pastFuture=f1e;nr.set=J_e;nr.eras=BSe;nr.erasParse=FSe;nr.erasConvertYear=USe;nr.erasAbbrRegex=YSe;nr.erasNameRegex=GSe;nr.erasNarrowRegex=KSe;nr.months=P1e;nr.monthsShort=E1e;nr.monthsParse=M1e;nr.monthsRegex=$1e;nr.monthsShortRegex=I1e;nr.week=L1e;nr.firstDayOfYear=z1e;nr.firstDayOfWeek=N1e;nr.weekdays=K1e;nr.weekdaysMin=X1e;nr.weekdaysShort=Z1e;nr.weekdaysParse=Q1e;nr.weekdaysRegex=rwe;nr.weekdaysShortRegex=iwe;nr.weekdaysMinRegex=owe;nr.isPM=swe;nr.meridiem=uwe;function gS(e,t,n,r){var i=Tu(),o=hc().set(r,t);return i[n](o,e)}function NH(e,t,n){if(mu(e)&&(t=e,e=void 0),e=e||"",t!=null)return gS(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=gS(e,r,n,"month");return i}function ED(e,t,n,r){typeof e=="boolean"?(mu(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,mu(t)&&(n=t,t=void 0),t=t||"");var i=Tu(),o=e?i._week.dow:0,s,a=[];if(n!=null)return gS(t,(n+o)%7,r,"day");for(s=0;s<7;s++)a[s]=gS(t,(s+o)%7,r,"day");return a}function m2e(e,t){return NH(e,t,"months")}function g2e(e,t){return NH(e,t,"monthsShort")}function y2e(e,t,n){return ED(e,t,n,"weekdays")}function v2e(e,t,n){return ED(e,t,n,"weekdaysShort")}function x2e(e,t,n){return ED(e,t,n,"weekdaysMin")}$d("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Dn(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});Rt.lang=Gs("moment.lang is deprecated. Use moment.locale instead.",$d);Rt.langData=Gs("moment.langData is deprecated. Use moment.localeData instead.",Tu);var Lc=Math.abs;function b2e(){var e=this._data;return this._milliseconds=Lc(this._milliseconds),this._days=Lc(this._days),this._months=Lc(this._months),e.milliseconds=Lc(e.milliseconds),e.seconds=Lc(e.seconds),e.minutes=Lc(e.minutes),e.hours=Lc(e.hours),e.months=Lc(e.months),e.years=Lc(e.years),this}function zH(e,t,n,r){var i=Ml(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function _2e(e,t){return zH(this,e,t,1)}function w2e(e,t){return zH(this,e,t,-1)}function LB(e){return e<0?Math.floor(e):Math.ceil(e)}function S2e(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,o,s,a,f;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=LB(iA(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,i=ks(e/1e3),r.seconds=i%60,o=ks(i/60),r.minutes=o%60,s=ks(o/60),r.hours=s%24,t+=ks(s/24),f=ks(BH(t)),n+=f,t-=LB(iA(f)),a=ks(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function BH(e){return e*4800/146097}function iA(e){return e*146097/4800}function C2e(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=Ys(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+BH(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(iA(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function k2e(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Dn(this._months/12)*31536e6:NaN}function Pu(e){return function(){return this.as(e)}}var T2e=Pu("ms"),P2e=Pu("s"),E2e=Pu("m"),O2e=Pu("h"),M2e=Pu("d"),A2e=Pu("w"),I2e=Pu("M"),$2e=Pu("Q"),R2e=Pu("y");function D2e(){return Ml(this)}function L2e(e){return e=Ys(e),this.isValid()?this[e+"s"]():NaN}function Ph(e){return function(){return this.isValid()?this._data[e]:NaN}}var j2e=Ph("milliseconds"),N2e=Ph("seconds"),z2e=Ph("minutes"),B2e=Ph("hours"),F2e=Ph("days"),U2e=Ph("months"),V2e=Ph("years");function W2e(){return ks(this.days()/7)}var zc=Math.round,im={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function q2e(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function H2e(e,t,n,r){var i=Ml(e).abs(),o=zc(i.as("s")),s=zc(i.as("m")),a=zc(i.as("h")),f=zc(i.as("d")),h=zc(i.as("M")),g=zc(i.as("w")),y=zc(i.as("y")),x=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||f<=1&&["d"]||f<n.d&&["dd",f];return n.w!=null&&(x=x||g<=1&&["w"]||g<n.w&&["ww",g]),x=x||h<=1&&["M"]||h<n.M&&["MM",h]||y<=1&&["y"]||["yy",y],x[2]=t,x[3]=+e>0,x[4]=r,q2e.apply(null,x)}function G2e(e){return e===void 0?zc:typeof e=="function"?(zc=e,!0):!1}function Y2e(e,t){return im[e]===void 0?!1:t===void 0?im[e]:(im[e]=t,e==="s"&&(im.ss=t-1),!0)}function K2e(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=im,i,o;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},im,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),i=this.localeData(),o=H2e(this,!n,r,i),n&&(o=i.pastFuture(+this,o)),i.postformat(o)}var kE=Math.abs;function Op(e){return(e>0)-(e<0)||+e}function ok(){if(!this.isValid())return this.localeData().invalidDate();var e=kE(this._milliseconds)/1e3,t=kE(this._days),n=kE(this._months),r,i,o,s,a=this.asSeconds(),f,h,g,y;return a?(r=ks(e/60),i=ks(r/60),e%=60,r%=60,o=ks(n/12),n%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",f=a<0?"-":"",h=Op(this._months)!==Op(a)?"-":"",g=Op(this._days)!==Op(a)?"-":"",y=Op(this._milliseconds)!==Op(a)?"-":"",f+"P"+(o?h+o+"Y":"")+(n?h+n+"M":"")+(t?g+t+"D":"")+(i||r||e?"T":"")+(i?y+i+"H":"")+(r?y+r+"M":"")+(e?y+s+"S":"")):"P0D"}var Yn=rk.prototype;Yn.isValid=Fwe;Yn.abs=b2e;Yn.add=_2e;Yn.subtract=w2e;Yn.as=C2e;Yn.asMilliseconds=T2e;Yn.asSeconds=P2e;Yn.asMinutes=E2e;Yn.asHours=O2e;Yn.asDays=M2e;Yn.asWeeks=A2e;Yn.asMonths=I2e;Yn.asQuarters=$2e;Yn.asYears=R2e;Yn.valueOf=k2e;Yn._bubble=S2e;Yn.clone=D2e;Yn.get=L2e;Yn.milliseconds=j2e;Yn.seconds=N2e;Yn.minutes=z2e;Yn.hours=B2e;Yn.days=F2e;Yn.weeks=W2e;Yn.months=U2e;Yn.years=V2e;Yn.humanize=K2e;Yn.toISOString=ok;Yn.toString=ok;Yn.toJSON=ok;Yn.locale=EH;Yn.localeData=MH;Yn.toIsoString=Gs("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ok);Yn.lang=OH;sn("X",0,0,"unix");sn("x",0,0,"valueOf");Ut("x",QC);Ut("X",y1e);kr("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});kr("x",function(e,t,n){n._d=new Date(Dn(e))});//! moment.js
Rt.version="2.29.4";Z_e(Hr);Rt.fn=xt;Rt.min=jwe;Rt.max=Nwe;Rt.now=zwe;Rt.utc=hc;Rt.unix=h2e;Rt.months=m2e;Rt.isDate=pb;Rt.locale=$d;Rt.invalid=YC;Rt.duration=Ml;Rt.isMoment=El;Rt.weekdays=y2e;Rt.parseZone=p2e;Rt.localeData=Tu;Rt.isDuration=lw;Rt.monthsShort=g2e;Rt.weekdaysMin=x2e;Rt.defineLocale=bD;Rt.updateLocale=pwe;Rt.locales=mwe;Rt.weekdaysShort=v2e;Rt.normalizeUnits=Ys;Rt.relativeTimeRounding=G2e;Rt.relativeTimeThreshold=Y2e;Rt.calendarFormat=uSe;Rt.prototype=xt;Rt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Z2e=e=>{switch(e){case"kmh":return 1.852;case"mph":return 1.15078;case"kn":default:return 1}},X2e=e=>{switch(e){case"kmh":return"Km/h";case"mph":return"sharedMph";case"kn":default:return"Km/h"}},J2e=(e,t)=>e*Z2e(t),Q2e=e=>{switch(e){case"mi":return 621371e-9;case"nmi":return 539957e-9;case"km":default:return .001}},eCe=e=>{switch(e){case"mi":return"Mi";case"nmi":return"Nmi";case"km":default:return"Km"}},tCe=(e,t)=>e*Q2e(t),nCe=e=>{switch(e){case"ft":return 3.28084;case"m":default:return 1}},rCe=e=>{switch(e){case"ft":return"sharedFeet";case"m":default:return"sharedMeters"}},iCe=(e,t)=>e*nCe(t),oCe=(e,t)=>e+t.charAt(0).toUpperCase()+t.slice(1),FH=e=>e?"sharedYes":"sharedNo",aCe=(e,t=1)=>Number(e.toFixed(t)),UH=e=>`${e}%`,VH=(e,t,n)=>{if(e){const r=Rt(e);switch(t){case"date":return r.format("YYYY-MM-DD");case"time":return r.format(n?"hh:mm:ss A":"HH:mm:ss");case"minutes":return r.format(n?"YYYY-MM-DD hh:mm A":"YYYY-MM-DD HH:mm");default:return r.format(n?"YYYY-MM-DD hh:mm:ss A":"YYYY-MM-DD HH:mm:ss")}}return""},WH=e=>e?oCe("alarm_",e):"",sCe=e=>{const t=["","","","","","","",""];let n=(e+22.5)%360;return n<0&&(n+=360),e.toFixed()+t[Math.floor(n/45)]},lCe=(e,t,n)=>`${tCe(e,t).toFixed(2)} ${eCe(t)}`,cCe=(e,t,n)=>`${iCe(e,t).toFixed(2)} ${rCe(t)}`,uCe=(e,t,n)=>`${J2e(e,t).toFixed(2)} ${X2e(t)}`,dCe=(e,t)=>{const n=Math.floor(e/36e5),r=Math.floor(e%36e5/6e4);return`${n} ${t("sharedHourAbbreviation")} ${r} ${t("sharedMinuteAbbreviation")}`},jB=(e,t,n)=>{let r,i,o,s;switch(e==="latitude"?r=t>=0?"N":"S":r=t>=0?"E":"W",n){case"ddm":return t=Math.abs(t),i=Math.floor(t),o=(t-i)*60,`${i} ${o.toFixed(6)}' ${r}`;case"dms":return t=Math.abs(t),i=Math.floor(t),o=Math.floor((t-i)*60),s=Math.round((t-i-o/60)*3600),`${i} ${o}' ${s}" ${r}`;default:return`${t.toFixed(6)}`}},qH=e=>{switch(e){case"online":return"positive";case"offline":return"negative";case"unknown":default:return"neutral"}},HH=({positions:e,onClick:t,showStatus:n,selectedPosition:r,titleField:i})=>{const o=U.useId(),s=`${o}-clusters`,a=`${o}-direction`,f=`${o}-mission`,h=yn($=>$.devices.items),g=yn($=>$.mission.route),y=1,x=!0,T=!1,E="all",C=($,D,F)=>{const q=$[D.deviceId];let X;switch(E){case"none":X=!1;break;case"all":X=!0;break;default:X=F===D.id;break}let J=g.find(ge=>ge.uav==q.name),ie=J?J.id:null;return{id:D.id,deviceId:D.deviceId,name:q.name,fixTime:VH(D.fixTime,"seconds",T),category:qw(q.category),color:n?qH(q.status):"neutral",rotation:D.course,direction:X,mission:!!J,missionColor:ie}},O=()=>Ye.getCanvas().style.cursor="pointer",A=()=>Ye.getCanvas().style.cursor="",M=U.useCallback($=>{!$.defaultPrevented&&t&&t()},[t]),I=U.useCallback($=>{$.preventDefault();const D=$.features[0];t&&t(D.properties.id,D.properties.deviceId)},[t]),N=U.useCallback($=>{$.preventDefault();const D=Ye.queryRenderedFeatures($.point,{layers:[s]}),F=D[0].properties.cluster_id;Ye.getSource(o).getClusterExpansionZoom(F,(q,X)=>{q||Ye.easeTo({center:D[0].geometry.coordinates,zoom:X})})},[s]);return U.useEffect(()=>(Ye.addSource(o,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:x,clusterMaxZoom:14,clusterRadius:50}),Ye.addLayer({id:o,type:"symbol",source:o,filter:["!has","point_count"],layout:{"icon-image":"{category}-{color}","icon-size":y,"icon-allow-overlap":!0,"text-field":`{${i||"name"}}`,"text-allow-overlap":!0,"text-anchor":"bottom","text-offset":[0,-2*y],"text-font":eu(Ye),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),Ye.addLayer({id:s,type:"symbol",source:o,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":y,"text-field":"{point_count_abbreviated}","text-font":eu(Ye),"text-size":14}}),Ye.addLayer({id:a,type:"symbol",source:o,filter:["all",["!has","point_count"],["==","direction",!0]],layout:{"icon-image":"direction","icon-size":y,"icon-allow-overlap":!0,"icon-rotate":["get","rotation"],"icon-rotation-alignment":"map"}}),Ye.addLayer({id:f,type:"symbol",source:o,filter:["all",["!has","point_count"],["==","mission",!0]],layout:{"icon-image":"mission-{missionColor}","icon-size":y}}),Ye.on("mouseenter",o,O),Ye.on("mouseleave",o,A),Ye.on("mouseenter",s,O),Ye.on("mouseleave",s,A),Ye.on("click",o,I),Ye.on("click",s,N),Ye.on("click",M),()=>{Ye.off("mouseenter",o,O),Ye.off("mouseleave",o,A),Ye.off("mouseenter",s,O),Ye.off("mouseleave",s,A),Ye.off("click",o,I),Ye.off("click",s,N),Ye.off("click",M),Ye.getLayer(o)&&Ye.removeLayer(o),Ye.getLayer(s)&&Ye.removeLayer(s),Ye.getLayer(a)&&Ye.removeLayer(a),Ye.getLayer(f)&&Ye.removeLayer(f),Ye.getSource(o)&&Ye.removeSource(o)}),[x,s,a,f,I,N]),U.useEffect(()=>{Ye.getSource(o).setData({type:"FeatureCollection",features:e.filter($=>h.hasOwnProperty($.deviceId)).map($=>({type:"Feature",geometry:{type:"Point",coordinates:[$.longitude,$.latitude]},properties:C(h,$,r&&r.id)}))})},[h,e,r]),null},fCe=({filtereddeviceid:e=-1})=>{const t=U.useId(),n=`${t}-points`,r=`${t}-points-clusters`,i=yn(x=>x.mission.route),o=yn(x=>x.devices.items),s=!0,a=.6,f=(x,T)=>({id:T.id,name:x[T.routeid].name,uav:x[T.routeid].uav,latitude:x[T.routeid].wp[T.id].pos[0],longitude:x[T.routeid].wp[T.id].pos[1],altitud:x[T.routeid].wp[T.id].pos[2],yaw:x[T.routeid].wp[T.id].yaw,speed:x[T.routeid].wp[T.id].speed,gimbal:x[T.routeid].wp[T.id].gimbal,actions:x[T.routeid].wp[T.id].action,attributes:x[T.routeid].attributes,category:"default",color:x[T.routeid].id});function h(x){console.log("target"),console.log(x);let T=`<div style="color: #FF7A59;text-align: center" ><b>UAV: ${x.features[0].properties.uav}</b>
    <span><a href="https://www.google.com/maps?q=${x.features[0].properties.latitude},${x.features[0].properties.longitude}" target="_blank">
    Point_${x.features[0].properties.id}</a></span></div>
        <div><span>Route: ${x.features[0].properties.name}</span></div>
        <div style="display:inline"><span> Height: </span><span>${x.features[0].properties.altitud.toFixed(1)}m </span></div>`;T=x.features[0].properties.hasOwnProperty("speed")?T+`<div style="display:inline"><span>Speed: </span><span>${x.features[0].properties.speed} m/s </span></div>`:T,T=x.features[0].properties.hasOwnProperty("yaw")?T+`<div style="display:inline"><span>Yaw: </span><span>${x.features[0].properties.yaw} </span></div>`:T,T=x.features[0].properties.hasOwnProperty("gimbal")?T+`<div style="display:inline"><span>Gimbal: </span><span>${x.features[0].properties.gimbal} </span></div>`:T;let E="<div><b> Waypoint actions: </b></div>";if(x.features[0].properties.actions){let A=JSON.parse(x.features[0].properties.actions);E=E+Object.keys(A).map(M=>{let I=M=="idle_vel"?"m/s":"";return`<div style="display:inline"><span>${M}: </span><span>${A[M]} ${I} </span></div>`}).join("")}let C="<div><b> Attributes_mission: </b></div>",O=JSON.parse(x.features[0].properties.attributes);C=C+Object.keys(O).map(A=>{let M=A=="idle_vel"||A=="max_vel"?"m/s":"";return`<div style="display:inline"><span>${A}: </span><span>${O[A]} ${M} </span></div>`}).join(""),new ub.Popup().setLngLat(x.lngLat).setHTML(T+E+C).addTo(Ye)}U.useEffect(()=>(Ye.addSource(n,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:s,clusterMaxZoom:10,clusterRadius:50}),Ye.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),Ye.addLayer({source:t,id:"mission-line",type:"line",paint:{"line-color":["get","color"],"line-width":2}}),Ye.addLayer({source:t,id:"mission-title",type:"symbol",layout:{"text-field":"{name}","text-font":eu(Ye),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),Ye.addLayer({id:"mission-points",type:"symbol",source:n,filter:["!has","point_count"],layout:{"icon-image":"background-{color}","icon-size":a,"icon-allow-overlap":!0,"text-allow-overlap":!0,"text-field":"{id}","text-font":eu(Ye),"text-size":14},paint:{"text-color":"white"}}),Ye.addLayer({id:r,type:"symbol",source:n,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":a,"text-field":"M","text-font":eu(Ye),"text-size":14}}),Ye.on("click","mission-points",h),Ye.on("mouseenter","mission-points",()=>{Ye.getCanvas().style.cursor="pointer"}),Ye.on("mouseleave","mission-points",()=>{Ye.getCanvas().style.cursor=""}),()=>{Ye.getLayer("mission-line")&&Ye.removeLayer("mission-line"),Ye.getLayer("mission-title")&&Ye.removeLayer("mission-title"),Ye.getLayer("mission-points")&&Ye.removeLayer("mission-points"),Ye.getLayer(r)&&Ye.removeLayer(r),Ye.getSource(t)&&Ye.removeSource(t),Ye.getSource(n)&&Ye.removeSource(n)}),[]);function g(x){let T=x.wp.map(function(E){return[E.pos[1],E.pos[0]]});return{id:x.id,type:"Feature",geometry:{type:"LineString",coordinates:T},properties:{name:x.uav,color:hh.colors_devices[x.id]}}}function y(x){let T=[];return x.forEach((E,C)=>{E.wp.forEach((O,A)=>{T.push({longitude:O.pos[1],latitude:O.pos[0],id:A,routeid:C})})}),T}return U.useEffect(()=>{let x=i.filter(E=>e<0||E.uav==o[e].name);console.log("mission filtered"),console.log(x);let T=y(x);Ye.getSource(n).setData({type:"FeatureCollection",features:T.map(E=>({type:"Feature",geometry:{type:"Point",coordinates:[E.longitude,E.latitude]},properties:f(x,E)}))}),Ye.getSource(t).setData({type:"FeatureCollection",features:x.map(E=>g(E))})},[i]),null},GH=({markers:e,showTitles:t})=>{const n=U.useId();w7();const r=.4;U.useEffect(()=>(Ye.addSource(n,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),t?Ye.addLayer({id:n,type:"symbol",source:n,filter:["!has","point_count"],layout:{"icon-image":"{image}","icon-size":r,"icon-allow-overlap":!0,"text-field":"{title}","text-allow-overlap":!0,"text-anchor":"bottom","text-offset":[0,-2*r],"text-font":eu(Ye),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}):Ye.addLayer({id:n,type:"symbol",source:n,layout:{"icon-image":"{image}","icon-size":r,"icon-allow-overlap":!0}}),()=>{Ye.getLayer(n)&&Ye.removeLayer(n),Ye.getSource(n)&&Ye.removeSource(n)}),[t]);function i(o){let s=[];return o.forEach((a,f)=>{a.items.forEach(h=>{s.push({...h,image:a.type,title:"none"})})}),s}return U.useEffect(()=>{var s;let o=i(e);(s=Ye.getSource(n))==null||s.setData({type:"FeatureCollection",features:o.map(({latitude:a,longitude:f,image:h,title:g})=>({type:"Feature",geometry:{type:"Point",coordinates:[f,a]},properties:{image:h||"default-neutral",title:g||""}}))})},[t,e]),null},hCe=e=>{const t=U.useRef();return U.useEffect(()=>{t.current=e}),t.current},pCe=()=>{const e=yn(o=>o.devices.selectedId),t=hCe(e),n=10,r=!1,i=yn(o=>o.data.positions[e]);return U.useEffect(()=>{(e!==t||r)&&i&&i.hasOwnProperty("latitude")&&Ye.easeTo({center:[i.longitude,i.latitude],zoom:Math.max(Ye.getZoom(),n),offset:[0,-300/2]})}),null};var NB=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function mCe(e,t){return!!(e===t||NB(e)&&NB(t))}function gCe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!mCe(e[n],t[n]))return!1;return!0}function TE(e,t){t===void 0&&(t=gCe);var n,r=[],i,o=!1;function s(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];return o&&n===this&&t(a,r)||(i=e.apply(this,a),o=!0,n=this,r=a),i}return s}var yCe=typeof performance=="object"&&typeof performance.now=="function",zB=yCe?function(){return performance.now()}:function(){return Date.now()};function BB(e){cancelAnimationFrame(e.id)}function vCe(e,t){var n=zB();function r(){zB()-n>=t?e.call(null):i.id=requestAnimationFrame(r)}var i={id:requestAnimationFrame(r)};return i}var PE=-1;function FB(e){if(e===void 0&&(e=!1),PE===-1||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),PE=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return PE}var Mp=null;function UB(e){if(e===void 0&&(e=!1),Mp===null||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?Mp="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?Mp="negative":Mp="positive-ascending"),document.body.removeChild(t),Mp}return Mp}var xCe=150,bCe=function(t,n){return t};function _Ce(e){var t,n=e.getItemOffset,r=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,s=e.getStartIndexForOffset,a=e.getStopIndexForStartIndex,f=e.initInstanceProps,h=e.shouldResetStyleCacheOnItemSizeChange,g=e.validateProps;return t=function(y){eb(x,y);function x(E){var C;return C=y.call(this,E)||this,C._instanceProps=f(C.props,Z0(C)),C._outerRef=void 0,C._resetIsScrollingTimeoutId=null,C.state={instance:Z0(C),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof C.props.initialScrollOffset=="number"?C.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},C._callOnItemsRendered=void 0,C._callOnItemsRendered=TE(function(O,A,M,I){return C.props.onItemsRendered({overscanStartIndex:O,overscanStopIndex:A,visibleStartIndex:M,visibleStopIndex:I})}),C._callOnScroll=void 0,C._callOnScroll=TE(function(O,A,M){return C.props.onScroll({scrollDirection:O,scrollOffset:A,scrollUpdateWasRequested:M})}),C._getItemStyle=void 0,C._getItemStyle=function(O){var A=C.props,M=A.direction,I=A.itemSize,N=A.layout,$=C._getItemStyleCache(h&&I,h&&N,h&&M),D;if($.hasOwnProperty(O))D=$[O];else{var F=n(C.props,O,C._instanceProps),q=i(C.props,O,C._instanceProps),X=M==="horizontal"||N==="horizontal",J=M==="rtl",ie=X?F:0;$[O]=D={position:"absolute",left:J?void 0:ie,right:J?ie:void 0,top:X?0:F,height:X?"100%":q,width:X?q:"100%"}}return D},C._getItemStyleCache=void 0,C._getItemStyleCache=TE(function(O,A,M){return{}}),C._onScrollHorizontal=function(O){var A=O.currentTarget,M=A.clientWidth,I=A.scrollLeft,N=A.scrollWidth;C.setState(function($){if($.scrollOffset===I)return null;var D=C.props.direction,F=I;if(D==="rtl")switch(UB()){case"negative":F=-I;break;case"positive-descending":F=N-M-I;break}return F=Math.max(0,Math.min(F,N-M)),{isScrolling:!0,scrollDirection:$.scrollOffset<I?"forward":"backward",scrollOffset:F,scrollUpdateWasRequested:!1}},C._resetIsScrollingDebounced)},C._onScrollVertical=function(O){var A=O.currentTarget,M=A.clientHeight,I=A.scrollHeight,N=A.scrollTop;C.setState(function($){if($.scrollOffset===N)return null;var D=Math.max(0,Math.min(N,I-M));return{isScrolling:!0,scrollDirection:$.scrollOffset<D?"forward":"backward",scrollOffset:D,scrollUpdateWasRequested:!1}},C._resetIsScrollingDebounced)},C._outerRefSetter=function(O){var A=C.props.outerRef;C._outerRef=O,typeof A=="function"?A(O):A!=null&&typeof A=="object"&&A.hasOwnProperty("current")&&(A.current=O)},C._resetIsScrollingDebounced=function(){C._resetIsScrollingTimeoutId!==null&&BB(C._resetIsScrollingTimeoutId),C._resetIsScrollingTimeoutId=vCe(C._resetIsScrolling,xCe)},C._resetIsScrolling=function(){C._resetIsScrollingTimeoutId=null,C.setState({isScrolling:!1},function(){C._getItemStyleCache(-1,null)})},C}x.getDerivedStateFromProps=function(C,O){return wCe(C,O),g(C),null};var T=x.prototype;return T.scrollTo=function(C){C=Math.max(0,C),this.setState(function(O){return O.scrollOffset===C?null:{scrollDirection:O.scrollOffset<C?"forward":"backward",scrollOffset:C,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},T.scrollToItem=function(C,O){O===void 0&&(O="auto");var A=this.props,M=A.itemCount,I=A.layout,N=this.state.scrollOffset;C=Math.max(0,Math.min(C,M-1));var $=0;if(this._outerRef){var D=this._outerRef;I==="vertical"?$=D.scrollWidth>D.clientWidth?FB():0:$=D.scrollHeight>D.clientHeight?FB():0}this.scrollTo(o(this.props,C,O,N,this._instanceProps,$))},T.componentDidMount=function(){var C=this.props,O=C.direction,A=C.initialScrollOffset,M=C.layout;if(typeof A=="number"&&this._outerRef!=null){var I=this._outerRef;O==="horizontal"||M==="horizontal"?I.scrollLeft=A:I.scrollTop=A}this._callPropsCallbacks()},T.componentDidUpdate=function(){var C=this.props,O=C.direction,A=C.layout,M=this.state,I=M.scrollOffset,N=M.scrollUpdateWasRequested;if(N&&this._outerRef!=null){var $=this._outerRef;if(O==="horizontal"||A==="horizontal")if(O==="rtl")switch(UB()){case"negative":$.scrollLeft=-I;break;case"positive-ascending":$.scrollLeft=I;break;default:var D=$.clientWidth,F=$.scrollWidth;$.scrollLeft=F-D-I;break}else $.scrollLeft=I;else $.scrollTop=I}this._callPropsCallbacks()},T.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&BB(this._resetIsScrollingTimeoutId)},T.render=function(){var C=this.props,O=C.children,A=C.className,M=C.direction,I=C.height,N=C.innerRef,$=C.innerElementType,D=C.innerTagName,F=C.itemCount,q=C.itemData,X=C.itemKey,J=X===void 0?bCe:X,ie=C.layout,ge=C.outerElementType,Ce=C.outerTagName,fe=C.style,ce=C.useIsScrolling,ue=C.width,xe=this.state.isScrolling,le=M==="horizontal"||ie==="horizontal",Pe=le?this._onScrollHorizontal:this._onScrollVertical,je=this._getRangeToRender(),Qe=je[0],We=je[1],Ke=[];if(F>0)for(var nt=Qe;nt<=We;nt++)Ke.push(U.createElement(O,{data:q,key:J(nt,q),index:nt,isScrolling:ce?xe:void 0,style:this._getItemStyle(nt)}));var mt=r(this.props,this._instanceProps);return U.createElement(ge||Ce||"div",{className:A,onScroll:Pe,ref:this._outerRefSetter,style:te({position:"relative",height:I,width:ue,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:M},fe)},U.createElement($||D||"div",{children:Ke,ref:N,style:{height:le?"100%":mt,pointerEvents:xe?"none":void 0,width:le?mt:"100%"}}))},T._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var C=this.props.itemCount;if(C>0){var O=this._getRangeToRender(),A=O[0],M=O[1],I=O[2],N=O[3];this._callOnItemsRendered(A,M,I,N)}}if(typeof this.props.onScroll=="function"){var $=this.state,D=$.scrollDirection,F=$.scrollOffset,q=$.scrollUpdateWasRequested;this._callOnScroll(D,F,q)}},T._getRangeToRender=function(){var C=this.props,O=C.itemCount,A=C.overscanCount,M=this.state,I=M.isScrolling,N=M.scrollDirection,$=M.scrollOffset;if(O===0)return[0,0,0,0];var D=s(this.props,$,this._instanceProps),F=a(this.props,D,$,this._instanceProps),q=!I||N==="backward"?Math.max(1,A):1,X=!I||N==="forward"?Math.max(1,A):1;return[Math.max(0,D-q),Math.max(0,Math.min(O-1,F+X)),D,F]},x}(U.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var wCe=function(t,n){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,n.instance},SCe=_Ce({getItemOffset:function(t,n){var r=t.itemSize;return n*r},getItemSize:function(t,n){var r=t.itemSize;return r},getEstimatedTotalSize:function(t){var n=t.itemCount,r=t.itemSize;return r*n},getOffsetForIndexAndAlignment:function(t,n,r,i,o,s){var a=t.direction,f=t.height,h=t.itemCount,g=t.itemSize,y=t.layout,x=t.width,T=a==="horizontal"||y==="horizontal",E=T?x:f,C=Math.max(0,h*g-E),O=Math.min(C,n*g),A=Math.max(0,n*g-E+g+s);switch(r==="smart"&&(i>=A-E&&i<=O+E?r="auto":r="center"),r){case"start":return O;case"end":return A;case"center":{var M=Math.round(A+(O-A)/2);return M<Math.ceil(E/2)?0:M>C+Math.floor(E/2)?C:M}case"auto":default:return i>=A&&i<=O?i:i<A?A:O}},getStartIndexForOffset:function(t,n){var r=t.itemCount,i=t.itemSize;return Math.max(0,Math.min(r-1,Math.floor(n/i)))},getStopIndexForStartIndex:function(t,n,r){var i=t.direction,o=t.height,s=t.itemCount,a=t.itemSize,f=t.layout,h=t.width,g=i==="horizontal"||f==="horizontal",y=n*a,x=g?h:o,T=Math.ceil((x+r-y)/a);return Math.max(0,Math.min(s-1,n+T-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});let Rs;typeof window<"u"?Rs=window:typeof self<"u"?Rs=self:Rs=global;let oA=null,aA=null;const VB=20,EE=Rs.clearTimeout,WB=Rs.setTimeout,OE=Rs.cancelAnimationFrame||Rs.mozCancelAnimationFrame||Rs.webkitCancelAnimationFrame,qB=Rs.requestAnimationFrame||Rs.mozRequestAnimationFrame||Rs.webkitRequestAnimationFrame;OE==null||qB==null?(oA=EE,aA=function(t){return WB(t,VB)}):(oA=function([t,n]){OE(t),EE(n)},aA=function(t){const n=qB(function(){EE(r),t()}),r=WB(function(){OE(n),t()},VB);return[n,r]});function CCe(e){let t,n,r,i,o,s,a;const f=typeof document<"u"&&document.attachEvent;if(!f){s=function(A){const M=A.__resizeTriggers__,I=M.firstElementChild,N=M.lastElementChild,$=I.firstElementChild;N.scrollLeft=N.scrollWidth,N.scrollTop=N.scrollHeight,$.style.width=I.offsetWidth+1+"px",$.style.height=I.offsetHeight+1+"px",I.scrollLeft=I.scrollWidth,I.scrollTop=I.scrollHeight},o=function(A){return A.offsetWidth!==A.__resizeLast__.width||A.offsetHeight!==A.__resizeLast__.height},a=function(A){if(A.target.className&&typeof A.target.className.indexOf=="function"&&A.target.className.indexOf("contract-trigger")<0&&A.target.className.indexOf("expand-trigger")<0)return;const M=this;s(this),this.__resizeRAF__&&oA(this.__resizeRAF__),this.__resizeRAF__=aA(function(){o(M)&&(M.__resizeLast__.width=M.offsetWidth,M.__resizeLast__.height=M.offsetHeight,M.__resizeListeners__.forEach(function($){$.call(M,A)}))})};let x=!1,T="";r="animationstart";const E="Webkit Moz O ms".split(" ");let C="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),O="";{const A=document.createElement("fakeelement");if(A.style.animationName!==void 0&&(x=!0),x===!1){for(let M=0;M<E.length;M++)if(A.style[E[M]+"AnimationName"]!==void 0){O=E[M],T="-"+O.toLowerCase()+"-",r=C[M],x=!0;break}}}n="resizeanim",t="@"+T+"keyframes "+n+" { from { opacity: 0; } to { opacity: 0; } } ",i=T+"animation: 1ms "+n+"; "}const h=function(x){if(!x.getElementById("detectElementResize")){const T=(t||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',E=x.head||x.getElementsByTagName("head")[0],C=x.createElement("style");C.id="detectElementResize",C.type="text/css",e!=null&&C.setAttribute("nonce",e),C.styleSheet?C.styleSheet.cssText=T:C.appendChild(x.createTextNode(T)),E.appendChild(C)}};return{addResizeListener:function(x,T){if(f)x.attachEvent("onresize",T);else{if(!x.__resizeTriggers__){const E=x.ownerDocument,C=Rs.getComputedStyle(x);C&&C.position==="static"&&(x.style.position="relative"),h(E),x.__resizeLast__={},x.__resizeListeners__=[],(x.__resizeTriggers__=E.createElement("div")).className="resize-triggers";const O=E.createElement("div");O.className="expand-trigger",O.appendChild(E.createElement("div"));const A=E.createElement("div");A.className="contract-trigger",x.__resizeTriggers__.appendChild(O),x.__resizeTriggers__.appendChild(A),x.appendChild(x.__resizeTriggers__),s(x),x.addEventListener("scroll",a,!0),r&&(x.__resizeTriggers__.__animationListener__=function(I){I.animationName===n&&s(x)},x.__resizeTriggers__.addEventListener(r,x.__resizeTriggers__.__animationListener__))}x.__resizeListeners__.push(T)}},removeResizeListener:function(x,T){if(f)x.detachEvent("onresize",T);else if(x.__resizeListeners__.splice(x.__resizeListeners__.indexOf(T),1),!x.__resizeListeners__.length){x.removeEventListener("scroll",a,!0),x.__resizeTriggers__.__animationListener__&&(x.__resizeTriggers__.removeEventListener(r,x.__resizeTriggers__.__animationListener__),x.__resizeTriggers__.__animationListener__=null);try{x.__resizeTriggers__=!x.removeChild(x.__resizeTriggers__)}catch{}}}}}class kCe extends U.Component{constructor(...t){super(...t),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:n,disableWidth:r,onResize:i}=this.props;if(this._parentNode){var o,s,a,f;const h=window.getComputedStyle(this._parentNode)||{},g=parseFloat((o=h.paddingLeft)!==null&&o!==void 0?o:"0"),y=parseFloat((s=h.paddingRight)!==null&&s!==void 0?s:"0"),x=parseFloat((a=h.paddingTop)!==null&&a!==void 0?a:"0"),T=parseFloat((f=h.paddingBottom)!==null&&f!==void 0?f:"0"),E=this._parentNode.getBoundingClientRect(),C=E.height-x-T,O=E.width-g-y,A=this._parentNode.offsetHeight-x-T,M=this._parentNode.offsetWidth-g-y;(!n&&(this.state.height!==A||this.state.scaledHeight!==C)||!r&&(this.state.width!==M||this.state.scaledWidth!==O))&&(this.setState({height:A,width:M,scaledHeight:C,scaledWidth:O}),typeof i=="function"&&i({height:A,scaledHeight:C,scaledWidth:O,width:M}))}},this._setRef=n=>{this._autoSizer=n}}componentDidMount(){const{nonce:t}=this.props;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._parentNode!=null&&(typeof ResizeObserver<"u"?(this._resizeObserver=new ResizeObserver(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(this._parentNode)):(this._detectElementResize=CCe(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize)),this._onResize()))}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&(this._resizeObserver.observe(this._parentNode),this._resizeObserver.disconnect()))}render(){const{children:t,defaultHeight:n,defaultWidth:r,disableHeight:i=!1,disableWidth:o=!1,nonce:s,onResize:a,style:f={},tagName:h="div",...g}=this.props,{height:y,scaledHeight:x,scaledWidth:T,width:E}=this.state,C={overflow:"visible"},O={};let A=!1;return i||(y===0&&(A=!0),C.height=0,O.height=y,O.scaledHeight=x),o||(E===0&&(A=!0),C.width=0,O.width=E,O.scaledWidth=T),U.createElement(h,{ref:this._setRef,style:{...C,...f},...g},!A&&t(O))}}var OD={},TCe=fr;Object.defineProperty(OD,"__esModule",{value:!0});var YH=OD.default=void 0,PCe=TCe(hr()),ECe=L,OCe=(0,PCe.default)((0,ECe.jsx)("path",{d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"}),"BatteryFull");YH=OD.default=OCe;var MD={},MCe=fr;Object.defineProperty(MD,"__esModule",{value:!0});var KH=MD.default=void 0,ACe=MCe(hr()),ICe=L,$Ce=(0,ACe.default)((0,ICe.jsx)("path",{d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4zM11 20v-5.5H9L13 7v5.5h2L11 20z"}),"BatteryChargingFull");KH=MD.default=$Ce;var AD={},RCe=fr;Object.defineProperty(AD,"__esModule",{value:!0});var ZH=AD.default=void 0,DCe=jCe(U),LCe=RCe(hr()),ME=L;function XH(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(XH=function(r){return r?n:t})(e)}function jCe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=XH(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var NCe=(0,LCe.default)((0,ME.jsxs)(DCe.Fragment,{children:[(0,ME.jsx)("path",{fillOpacity:".3",d:"M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V11h10V5.33z"}),(0,ME.jsx)("path",{d:"M7 11v9.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V11H7z"})]}),"Battery60");ZH=AD.default=NCe;var ID={},zCe=fr;Object.defineProperty(ID,"__esModule",{value:!0});var JH=ID.default=void 0,BCe=UCe(U),FCe=zCe(hr()),AE=L;function QH(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(QH=function(r){return r?n:t})(e)}function UCe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=QH(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var VCe=(0,FCe.default)((0,AE.jsxs)(BCe.Fragment,{children:[(0,AE.jsx)("path",{fillOpacity:".3",d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V11h3.87L13 7v4h4V5.33C17 4.6 16.4 4 15.67 4z"}),(0,AE.jsx)("path",{d:"M13 12.5h2L11 20v-5.5H9l1.87-3.5H7v9.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V11h-4v1.5z"})]}),"BatteryCharging60");JH=ID.default=VCe;var $D={},WCe=fr;Object.defineProperty($D,"__esModule",{value:!0});var eG=$D.default=void 0,qCe=GCe(U),HCe=WCe(hr()),IE=L;function tG(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(tG=function(r){return r?n:t})(e)}function GCe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=tG(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var YCe=(0,HCe.default)((0,IE.jsxs)(qCe.Fragment,{children:[(0,IE.jsx)("path",{d:"M7 17v3.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V17H7z"}),(0,IE.jsx)("path",{fillOpacity:".3",d:"M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V17h10V5.33z"})]}),"Battery20");eG=$D.default=YCe;var RD={},KCe=fr;Object.defineProperty(RD,"__esModule",{value:!0});var nG=RD.default=void 0,ZCe=JCe(U),XCe=KCe(hr()),$E=L;function rG(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(rG=function(r){return r?n:t})(e)}function JCe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=rG(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var QCe=(0,XCe.default)((0,$E.jsxs)(ZCe.Fragment,{children:[(0,$E.jsx)("path",{d:"M11 20v-3H7v3.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V17h-4.4L11 20z"}),(0,$E.jsx)("path",{fillOpacity:".3",d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V17h4v-2.5H9L13 7v5.5h2L12.6 17H17V5.33C17 4.6 16.4 4 15.67 4z"})]}),"BatteryCharging20");nG=RD.default=QCe;var DD={},eke=fr;Object.defineProperty(DD,"__esModule",{value:!0});var iG=DD.default=void 0,tke=eke(hr()),nke=L,rke=(0,tke.default)((0,nke.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");iG=DD.default=rke;const HB="data:image/svg+xml,%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%3e%3ctitle%3eEngine%3c/title%3e%3cpath%20fill='currentColor'%20d='M13.778%206.667v2.222h3.333v2.222h2.222v-2.222h3.333v-2.222h-8.889zM13.778%2013.333c-0.3%200-0.579%200.121-0.79%200.321l-1.888%201.901h-2.878c-0.611%200-1.111%200.5-1.111%201.111v6.667c0%200.611%200.5%201.111%201.111%201.111h1.888l3.056%202.033c0.178%200.122%200.39%200.189%200.612%200.189h5.556c0.244%200%200.477-0.077%200.666-0.221l4.444-3.333c0.278-0.211%200.445-0.545%200.445-0.89v-7.778c0-0.611-0.5-1.111-1.111-1.111h-10zM27.111%2014.444v6.667h2.222v-6.667h-2.222zM17.111%2015.556v3.333h2.222l-3.333%205.556v-3.333h-2.222l3.333-5.556zM2.667%2016.667v5.556h2.222v-5.556h-2.222z'%3e%3c/path%3e%3c/svg%3e",ike=Nr(e=>({icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},batteryText:{fontSize:"0.75rem",fontWeight:"normal",lineHeight:"0.875rem"},positive:{color:e.palette.colors.positive},medium:{color:e.palette.colors.medium},negative:{color:e.palette.colors.negative},neutral:{color:e.palette.colors.neutral}})),oke={width:"25px",height:"25px",filter:"brightness(0) invert(1)"},RE={color:gl[500]},GB={color:j$[700]},DE={color:Fc[500]},ake={color:rc[500]},ske=({data:e,index:t,style:n})=>{const r=ike(),i=Hs(),o=e[t],s=yn(h=>h.data.positions[o.id]),a=o.name,f=()=>{let h;return o.status==="online"||!o.lastUpdate?h=o.status:h=Rt(o.lastUpdate).fromNow(),L.jsxs(Ee.Fragment,{children:[s&&s.attributes.hasOwnProperty("landed_state")&&L.jsx(pn,{component:"span",sx:{display:"block",fontSize:10},children:s.attributes.landed_state}),L.jsx(pn,{component:"span",style:{fontSize:12},className:r[qH(o.status)],children:h})]})};return L.jsx("div",{style:n,children:L.jsxs(eme,{onClick:()=>i(Ps.selectId(o.id)),disabled:o.disabled,children:[L.jsx(ame,{children:L.jsx(Mde,{children:L.jsx("img",{style:oke,src:H0[qw(o.category)],alt:""})})}),L.jsx(pme,{primary:a,primaryTypographyProps:{noWrap:!0},secondary:f(),secondaryTypographyProps:{noWrap:!0}}),s&&L.jsxs(L.Fragment,{children:[s.attributes.hasOwnProperty("ignition")&&L.jsx(Lp,{title:`positionIgnition: ${FH(s.attributes.ignition)}`,children:L.jsx(Hn,{size:"small",children:s.attributes.ignition?L.jsx(HB,{width:20,height:20,style:RE}):L.jsx(HB,{width:20,height:20,style:ake})})}),s.hasOwnProperty("speed")&&L.jsx(Lp,{title:`speed: ${s.speed}`,children:L.jsx(Hn,{size:"small",children:L.jsxs("div",{style:{fontSize:"0.9rem"},children:[" V ",Math.round(s.speed),"m/s"]})})}),s.hasOwnProperty("altitude")&&L.jsx(Lp,{title:`altitude: ${Math.round(s.altitude)}`,children:L.jsx(Hn,{size:"small",children:L.jsxs("div",{style:{fontSize:"0.9rem"},children:["H ",Math.round(s.altitude),"m"]})})}),s.attributes.hasOwnProperty("batteryLevel")&&L.jsx(Lp,{title:`BatteryLevel: ${UH(s.attributes.batteryLevel)}`,children:L.jsx(Hn,{size:"small",children:s.attributes.batteryLevel>70?s.attributes.charge?L.jsx(KH,{fontSize:"small",style:RE}):L.jsx(YH,{fontSize:"small",style:RE}):s.attributes.batteryLevel>30?s.attributes.charge?L.jsx(JH,{fontSize:"small",style:GB}):L.jsx(ZH,{fontSize:"small",style:GB}):s.attributes.charge?L.jsx(nG,{fontSize:"small",style:DE}):L.jsx(eG,{fontSize:"small",style:DE})})}),s.attributes.hasOwnProperty("alarm")&&s.attributes.alarm=="threat"&&L.jsx(Lp,{title:`eventAlarm: ${WH(s.attributes.alarm)}`,children:L.jsx(Hn,{size:"small",children:L.jsx(iG,{fontSize:"small",style:DE})})})]})]},o.id)})},lke=Nr(e=>({list:{maxHeight:"100%"},listInner:{position:"relative",margin:e.spacing(1.5,0)}})),oG=({devices:e})=>{const t=lke();Hs();const n=U.useRef(null);n.current&&(n.current.className=t.listInner);const[,r]=U.useState(Date.now());return U.useEffect(()=>{const i=setInterval(()=>r(Date.now()),6e4);return()=>{clearInterval(i)}},[]),L.jsx(kCe,{className:t.list,children:({height:i,width:o})=>L.jsx(SCe,{width:o,height:i,itemCount:e.length,itemData:e,itemSize:72,overscanCount:10,innerRef:n,children:ske})})};var LD={exports:{}},aG={};function sG(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=sG(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function YB(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=sG(e))&&(r&&(r+=" "),r+=t);return r}const cke=Object.freeze(Object.defineProperty({__proto__:null,clsx:YB,default:YB},Symbol.toStringTag,{value:"Module"})),uke=Z8(cke);var yi={},mc={};Object.defineProperty(mc,"__esModule",{value:!0});mc.dontSetMe=mke;mc.findInArray=dke;mc.int=pke;mc.isFunction=fke;mc.isNum=hke;function dke(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function fke(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function hke(e){return typeof e=="number"&&!isNaN(e)}function pke(e){return parseInt(e,10)}function mke(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var Eh={};Object.defineProperty(Eh,"__esModule",{value:!0});Eh.browserPrefixToKey=cG;Eh.browserPrefixToStyle=gke;Eh.default=void 0;Eh.getPrefix=lG;const LE=["Moz","Webkit","O","ms"];function lG(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!n||t in n)return"";for(let r=0;r<LE.length;r++)if(cG(t,LE[r])in n)return LE[r];return""}function cG(e,t){return t?"".concat(t).concat(yke(e)):e}function gke(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function yke(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}Eh.default=lG();Object.defineProperty(yi,"__esModule",{value:!0});yi.addClassName=fG;yi.addEvent=bke;yi.addUserSelectStyles=Ake;yi.createCSSTransform=Pke;yi.createSVGTransform=Eke;yi.getTouch=Oke;yi.getTouchIdentifier=Mke;yi.getTranslation=jD;yi.innerHeight=Cke;yi.innerWidth=kke;yi.matchesSelector=dG;yi.matchesSelectorAndParentsTo=xke;yi.offsetXYFromParent=Tke;yi.outerHeight=wke;yi.outerWidth=Ske;yi.removeClassName=hG;yi.removeEvent=_ke;yi.removeUserSelectStyles=Ike;var Qa=mc,KB=vke(Eh);function uG(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(uG=function(r){return r?n:t})(e)}function vke(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=uG(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}let C1="";function dG(e,t){return C1||(C1=(0,Qa.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Qa.isFunction)(e[n])})),(0,Qa.isFunction)(e[C1])?e[C1](t):!1}function xke(e,t,n){let r=e;do{if(dG(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function bke(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function _ke(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function wke(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Qa.int)(n.borderTopWidth),t+=(0,Qa.int)(n.borderBottomWidth),t}function Ske(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Qa.int)(n.borderLeftWidth),t+=(0,Qa.int)(n.borderRightWidth),t}function Cke(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Qa.int)(n.paddingTop),t-=(0,Qa.int)(n.paddingBottom),t}function kke(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Qa.int)(n.paddingLeft),t-=(0,Qa.int)(n.paddingRight),t}function Tke(e,t,n){const i=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-i.left)/n,s=(e.clientY+t.scrollTop-i.top)/n;return{x:o,y:s}}function Pke(e,t){const n=jD(e,t,"px");return{[(0,KB.browserPrefixToKey)("transform",KB.default)]:n}}function Eke(e,t){return jD(e,t,"")}function jD(e,t,n){let{x:r,y:i}=e,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){const s="".concat(typeof t.x=="string"?t.x:t.x+n),a="".concat(typeof t.y=="string"?t.y:t.y+n);o="translate(".concat(s,", ").concat(a,")")+o}return o}function Oke(e,t){return e.targetTouches&&(0,Qa.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,Qa.findInArray)(e.changedTouches,n=>t===n.identifier)}function Mke(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function Ake(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&fG(e.body,"react-draggable-transparent-selection")}function Ike(e){if(e)try{if(e.body&&hG(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function fG(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function hG(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var gc={};Object.defineProperty(gc,"__esModule",{value:!0});gc.canDragX=Dke;gc.canDragY=Lke;gc.createCoreData=Nke;gc.createDraggableData=zke;gc.getBoundPosition=$ke;gc.getControlPosition=jke;gc.snapToGrid=Rke;var Ba=mc,om=yi;function $ke(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:r}=e.props;r=typeof r=="string"?r:Bke(r);const i=ND(e);if(typeof r=="string"){const{ownerDocument:o}=i,s=o.defaultView;let a;if(r==="parent"?a=i.parentNode:a=o.querySelector(r),!(a instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const f=a,h=s.getComputedStyle(i),g=s.getComputedStyle(f);r={left:-i.offsetLeft+(0,Ba.int)(g.paddingLeft)+(0,Ba.int)(h.marginLeft),top:-i.offsetTop+(0,Ba.int)(g.paddingTop)+(0,Ba.int)(h.marginTop),right:(0,om.innerWidth)(f)-(0,om.outerWidth)(i)-i.offsetLeft+(0,Ba.int)(g.paddingRight)-(0,Ba.int)(h.marginRight),bottom:(0,om.innerHeight)(f)-(0,om.outerHeight)(i)-i.offsetTop+(0,Ba.int)(g.paddingBottom)-(0,Ba.int)(h.marginBottom)}}return(0,Ba.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,Ba.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Ba.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,Ba.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function Rke(e,t,n){const r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]}function Dke(e){return e.props.axis==="both"||e.props.axis==="x"}function Lke(e){return e.props.axis==="both"||e.props.axis==="y"}function jke(e,t,n){const r=typeof t=="number"?(0,om.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;const i=ND(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,om.offsetXYFromParent)(r||e,o,n.props.scale)}function Nke(e,t,n){const r=!(0,Ba.isNum)(e.lastX),i=ND(e);return r?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function zke(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function Bke(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function ND(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var ak={},sk={};Object.defineProperty(sk,"__esModule",{value:!0});sk.default=Fke;function Fke(){}Object.defineProperty(ak,"__esModule",{value:!0});ak.default=void 0;var jE=Vke(U),_a=zD(z$),Uke=zD(_u),Io=yi,td=gc,NE=mc,Ev=zD(sk);function zD(e){return e&&e.__esModule?e:{default:e}}function pG(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(pG=function(r){return r?n:t})(e)}function Vke(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=pG(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function ra(e,t,n){return t=Wke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wke(e){var t=qke(e,"string");return typeof t=="symbol"?t:String(t)}function qke(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const cl={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let nd=cl.mouse,lk=class extends jE.Component{constructor(){super(...arguments),ra(this,"dragging",!1),ra(this,"lastX",NaN),ra(this,"lastY",NaN),ra(this,"touchIdentifier",null),ra(this,"mounted",!1),ra(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(t.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Io.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,Io.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&t.preventDefault();const i=(0,Io.getTouchIdentifier)(t);this.touchIdentifier=i;const o=(0,td.getControlPosition)(t,i,this);if(o==null)return;const{x:s,y:a}=o,f=(0,td.createCoreData)(this,s,a);(0,Ev.default)("DraggableCore: handleDragStart: %j",f),(0,Ev.default)("calling",this.props.onStart),!(this.props.onStart(t,f)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Io.addUserSelectStyles)(r),this.dragging=!0,this.lastX=s,this.lastY=a,(0,Io.addEvent)(r,nd.move,this.handleDrag),(0,Io.addEvent)(r,nd.stop,this.handleDragStop))}),ra(this,"handleDrag",t=>{const n=(0,td.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,f=i-this.lastY;if([a,f]=(0,td.snapToGrid)(this.props.grid,a,f),!a&&!f)return;r=this.lastX+a,i=this.lastY+f}const o=(0,td.createCoreData)(this,r,i);if((0,Ev.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(t,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(f)}return}this.lastX=r,this.lastY=i}),ra(this,"handleDragStop",t=>{if(!this.dragging)return;const n=(0,td.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let f=r-this.lastX||0,h=i-this.lastY||0;[f,h]=(0,td.snapToGrid)(this.props.grid,f,h),r=this.lastX+f,i=this.lastY+h}const o=(0,td.createCoreData)(this,r,i);if(this.props.onStop(t,o)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,Io.removeUserSelectStyles)(a.ownerDocument),(0,Ev.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,Ev.default)("DraggableCore: Removing handlers"),(0,Io.removeEvent)(a.ownerDocument,nd.move,this.handleDrag),(0,Io.removeEvent)(a.ownerDocument,nd.stop,this.handleDragStop))}),ra(this,"onMouseDown",t=>(nd=cl.mouse,this.handleDragStart(t))),ra(this,"onMouseUp",t=>(nd=cl.mouse,this.handleDragStop(t))),ra(this,"onTouchStart",t=>(nd=cl.touch,this.handleDragStart(t))),ra(this,"onTouchEnd",t=>(nd=cl.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,Io.addEvent)(t,cl.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:n}=t;(0,Io.removeEvent)(n,cl.mouse.move,this.handleDrag),(0,Io.removeEvent)(n,cl.touch.move,this.handleDrag),(0,Io.removeEvent)(n,cl.mouse.stop,this.handleDragStop),(0,Io.removeEvent)(n,cl.touch.stop,this.handleDragStop),(0,Io.removeEvent)(t,cl.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Io.removeUserSelectStyles)(n)}}findDOMNode(){var t,n;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:Uke.default.findDOMNode(this)}render(){return jE.cloneElement(jE.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};ak.default=lk;ra(lk,"displayName","DraggableCore");ra(lk,"propTypes",{allowAnyClick:_a.default.bool,children:_a.default.node.isRequired,disabled:_a.default.bool,enableUserSelectHack:_a.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:_a.default.arrayOf(_a.default.number),handle:_a.default.string,cancel:_a.default.string,nodeRef:_a.default.object,onStart:_a.default.func,onDrag:_a.default.func,onStop:_a.default.func,onMouseDown:_a.default.func,scale:_a.default.number,className:NE.dontSetMe,style:NE.dontSetMe,transform:NE.dontSetMe});ra(lk,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),e.default=void 0;var t=x(U),n=g(z$),r=g(_u),i=g(uke),o=yi,s=gc,a=mc,f=g(ak),h=g(sk);function g(M){return M&&M.__esModule?M:{default:M}}function y(M){if(typeof WeakMap!="function")return null;var I=new WeakMap,N=new WeakMap;return(y=function($){return $?N:I})(M)}function x(M,I){if(!I&&M&&M.__esModule)return M;if(M===null||typeof M!="object"&&typeof M!="function")return{default:M};var N=y(I);if(N&&N.has(M))return N.get(M);var $={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in M)if(F!=="default"&&Object.prototype.hasOwnProperty.call(M,F)){var q=D?Object.getOwnPropertyDescriptor(M,F):null;q&&(q.get||q.set)?Object.defineProperty($,F,q):$[F]=M[F]}return $.default=M,N&&N.set(M,$),$}function T(){return T=Object.assign?Object.assign.bind():function(M){for(var I=1;I<arguments.length;I++){var N=arguments[I];for(var $ in N)Object.prototype.hasOwnProperty.call(N,$)&&(M[$]=N[$])}return M},T.apply(this,arguments)}function E(M,I,N){return I=C(I),I in M?Object.defineProperty(M,I,{value:N,enumerable:!0,configurable:!0,writable:!0}):M[I]=N,M}function C(M){var I=O(M,"string");return typeof I=="symbol"?I:String(I)}function O(M,I){if(typeof M!="object"||M===null)return M;var N=M[Symbol.toPrimitive];if(N!==void 0){var $=N.call(M,I||"default");if(typeof $!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(M)}class A extends t.Component{static getDerivedStateFromProps(I,N){let{position:$}=I,{prevPropsPosition:D}=N;return $&&(!D||$.x!==D.x||$.y!==D.y)?((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:$,prevPropsPosition:D}),{x:$.x,y:$.y,prevPropsPosition:{...$}}):null}constructor(I){super(I),E(this,"onDragStart",(N,$)=>{if((0,h.default)("Draggable: onDragStart: %j",$),this.props.onStart(N,(0,s.createDraggableData)(this,$))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),E(this,"onDrag",(N,$)=>{if(!this.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",$);const D=(0,s.createDraggableData)(this,$),F={x:D.x,y:D.y,slackX:0,slackY:0};if(this.props.bounds){const{x:X,y:J}=F;F.x+=this.state.slackX,F.y+=this.state.slackY;const[ie,ge]=(0,s.getBoundPosition)(this,F.x,F.y);F.x=ie,F.y=ge,F.slackX=this.state.slackX+(X-F.x),F.slackY=this.state.slackY+(J-F.y),D.x=F.x,D.y=F.y,D.deltaX=F.x-this.state.x,D.deltaY=F.y-this.state.y}if(this.props.onDrag(N,D)===!1)return!1;this.setState(F)}),E(this,"onDragStop",(N,$)=>{if(!this.state.dragging||this.props.onStop(N,(0,s.createDraggableData)(this,$))===!1)return!1;(0,h.default)("Draggable: onDragStop: %j",$);const F={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:X,y:J}=this.props.position;F.x=X,F.y=J}this.setState(F)}),this.state={dragging:!1,dragged:!1,x:I.position?I.position.x:I.defaultPosition.x,y:I.position?I.position.y:I.defaultPosition.y,prevPropsPosition:{...I.position},slackX:0,slackY:0,isElementSVG:!1},I.position&&!(I.onDrag||I.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var I,N;return(I=(N=this.props)===null||N===void 0||(N=N.nodeRef)===null||N===void 0?void 0:N.current)!==null&&I!==void 0?I:r.default.findDOMNode(this)}render(){const{axis:I,bounds:N,children:$,defaultPosition:D,defaultClassName:F,defaultClassNameDragging:q,defaultClassNameDragged:X,position:J,positionOffset:ie,scale:ge,...Ce}=this.props;let fe={},ce=null;const xe=!!!J||this.state.dragging,le=J||D,Pe={x:(0,s.canDragX)(this)&&xe?this.state.x:le.x,y:(0,s.canDragY)(this)&&xe?this.state.y:le.y};this.state.isElementSVG?ce=(0,o.createSVGTransform)(Pe,ie):fe=(0,o.createCSSTransform)(Pe,ie);const je=(0,i.default)($.props.className||"",F,{[q]:this.state.dragging,[X]:this.state.dragged});return t.createElement(f.default,T({},Ce,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only($),{className:je,style:{...$.props.style,...fe},transform:ce}))}}e.default=A,E(A,"displayName","Draggable"),E(A,"propTypes",{...f.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),E(A,"defaultProps",{...f.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(aG);const{default:mG,DraggableCore:Hke}=aG;LD.exports=mG;LD.exports.default=mG;LD.exports.DraggableCore=Hke;var BD={},Gke=fr;Object.defineProperty(BD,"__esModule",{value:!0});var FD=BD.default=void 0,Yke=Gke(hr()),Kke=L,Zke=(0,Yke.default)((0,Kke.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay");FD=BD.default=Zke;var UD={},Xke=fr;Object.defineProperty(UD,"__esModule",{value:!0});var VD=UD.default=void 0,Jke=Xke(hr()),Qke=L,eTe=(0,Jke.default)((0,Qke.jsx)("path",{d:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"}),"Publish");VD=UD.default=eTe;var WD={},tTe=fr;Object.defineProperty(WD,"__esModule",{value:!0});var qD=WD.default=void 0,nTe=tTe(hr()),rTe=L,iTe=(0,nTe.default)((0,rTe.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");qD=WD.default=iTe;var HD={},oTe=fr;Object.defineProperty(HD,"__esModule",{value:!0});var gG=HD.default=void 0,aTe=oTe(hr()),sTe=L,lTe=(0,aTe.default)((0,sTe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7 13.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"Pending");gG=HD.default=lTe;const sA=({position:e,property:t,attribute:n})=>{const r=yn(x=>x.devices.items[e.deviceId]),i=t||n,o=t?e[t]:e.attributes[n],s="m",a="m",f="km/s",h="ddm",g=!1,y=()=>{switch(i){case"fixTime":case"deviceTime":case"serverTime":return VH(o,"seconds",g);case"latitude":return jB("latitude",o,h);case"longitude":return jB("longitude",o,h);case"speed":return uCe(o,f);case"course":return sCe(o);case"altitude":return cCe(o,a);case"batteryLevel":return UH(o);case"alarm":return WH(o);case"gimbal":return o.toString();case"obstacle_info":return o.toString();case"odometer":case"distance":case"totalDistance":return lCe(o,s);case"hours":return dCe(o);default:return typeof o=="number"?aCe(o):typeof o=="boolean"?FH(o):o||""}};switch(i){case"image":case"video":case"audio":return L.jsx(zpe,{href:`/api/media/${r.uniqueId}/${o}`,target:"_blank",children:o});case"totalDistance":case"hours":case"address":case"network":return"";default:return y()}},cTe=Nr(e=>({root:{[e.breakpoints.down("md")]:{bottom:`calc(${e.dimensions.bottomBarHeight}px + ${e.spacing(1)})`}},button:{height:"auto",marginTop:0,marginBottom:0,color:e.palette.colors.negative}})),uTe=({open:e,endpoint:t,itemId:n,onResult:r})=>{const i=cTe(),o=async()=>{(await fetch(`/api/${t}/${n}`,{method:"DELETE"})).ok?(console.log("elemento eliminado"),r(!0)):r(!1)};return L.jsx(Rge,{className:i.root,open:e,autoHideDuration:2750,onClose:()=>r(!1),message:"confirmar para eliminar",action:L.jsx(mr,{size:"small",className:i.button,onClick:o,children:"Eliminar"})})},yG=Nr(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},media:{height:e.dimensions.popupImageHeight,display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},content:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},negative:{color:e.palette.colors.negative},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},table:{"& .MuiTableCell-sizeSmall":{paddingLeft:0,paddingRight:0}},cell:{borderBottom:"none"},actions:{justifyContent:"space-between"},root:({desktopPadding:t})=>({pointerEvents:"none",position:"fixed",zIndex:5,left:"50%",[e.breakpoints.up("md")]:{left:`calc(50% + ${t} / 2)`,bottom:e.spacing(3)},[e.breakpoints.down("md")]:{left:"50%",bottom:`calc(${e.spacing(3)} + ${e.dimensions.bottomBarHeight}px)`},transform:"translateX(-50%)"})})),zE=({name:e,content:t})=>{const n=yG();return L.jsxs(xm,{children:[L.jsx(Ca,{className:n.card,children:L.jsx(pn,{variant:"body2",children:e})}),L.jsx(Ca,{className:n.cell,children:L.jsx(pn,{variant:"body2",color:"textSecondary",children:t})})]})},dTe=({deviceId:e,position:t,onClose:n,disableActions:r,desktopPadding:i=0})=>{var A;const o=yG(),s=_g(),a=Hs(),f=yn(M=>M.devices.items[e]),h=(A=f==null?void 0:f.attributes)==null?void 0:A.deviceImage,g="speed,course,batteryLevel,gimbal",[y,x]=U.useState(null),[T,E]=U.useState(!1),C=async(M,I,N)=>{console.log("send command uavud: "+M+I);try{const $=await fetch("/api/commands/send",{method:"POST",body:JSON.stringify({deviceId:M,type:I,attributes:N}),headers:{"Content-Type":"application/json"}});if($.ok){let D=await $.json();console.log(D)}else throw console.log("Error1:"+$),Error(await $.text())}catch($){console.log("Error2:"+$)}},O=async M=>{if(M){const I=await fetch("/api/devices");if(I.ok){let N=await I.json();a(Ps.refresh(Object.values(N)))}else throw Error(await I.text())}E(!1)};return L.jsxs(L.Fragment,{children:[L.jsx("div",{className:o.root,children:f&&L.jsxs(ku,{elevation:3,className:o.card,children:[h?L.jsx(Yfe,{className:o.media,image:`/api/media/${f.uniqueId}/${h}`,children:L.jsx(Hn,{size:"small",onClick:n,onTouchStart:n,children:L.jsx(pu,{fontSize:"small",className:o.mediaButton})})}):L.jsxs("div",{className:o.header,children:[L.jsx(pn,{variant:"body2",color:"textSecondary",children:f.name}),L.jsx(Hn,{size:"small",onClick:n,onTouchStart:n,children:L.jsx(pu,{fontSize:"small"})})]}),t&&L.jsx(gR,{className:o.content,children:L.jsx(_R,{size:"small",classes:{root:o.table},children:L.jsxs(wR,{children:[t.hasOwnProperty("latitude")&&L.jsx(zE,{name:"Position",content:L.jsx("a",{href:"https://www.google.com/maps?q="+t.latitude+","+t.longitude,target:"_blank",children:"["+t.latitude.toFixed(6)+","+t.longitude.toFixed(6)+"]"})},"latitude"),g.split(",").filter(M=>t.hasOwnProperty(M)||t.attributes.hasOwnProperty(M)).map(M=>L.jsx(zE,{name:M,content:L.jsx(sA,{position:t,property:t.hasOwnProperty(M)?M:null,attribute:t.hasOwnProperty(M)?null:M})},M)),t.attributes.hasOwnProperty("alarm")&&t.attributes.alarm=="threat"&&L.jsx(zE,{name:"Alarm "+t.attributes.alarm,content:L.jsxs("div",{style:{width:"100%"},children:[L.jsx(mr,{variant:"contained",size:"small",color:"primary",style:{margin:"1px",display:"inline-block"},onClick:()=>C(f.id,"threat",{data:!0}),children:"Validate"}),L.jsx(mr,{variant:"contained",size:"small",color:"secondary",style:{margin:"1px",display:"inline-block"},onClick:()=>C(f.id,"threat",{data:!1}),children:"Dismiss"})]})},"alarm1")]})})}),L.jsxs(Z9,{classes:{root:o.actions},disableSpacing:!0,children:[L.jsx(Hn,{color:"secondary",onClick:M=>x(M.currentTarget),disabled:!t,children:L.jsx(gG,{})}),L.jsx(Hn,{onClick:()=>C(f.id,"SincroniseFiles"),children:L.jsx(FD,{})}),L.jsx(Hn,{onClick:()=>C(f.id,"commandMission"),disabled:r,children:L.jsx(VD,{})}),L.jsx(Hn,{onClick:()=>s(`/device/${e}`),children:L.jsx(qD,{})}),L.jsx(Hn,{onClick:()=>E(!0),className:o.negative,children:L.jsx(qd,{})})]})]})}),t&&L.jsxs(s7,{anchorEl:y,open:!!y,onClose:()=>x(null),children:[L.jsx(Os,{onClick:()=>s(`/device/${e}`),children:L.jsx(pn,{color:"secondary",children:"Detalle Dispositivo"})}),L.jsx(Os,{component:"a",target:"_blank",href:`https://www.google.com/maps/search/?api=1&query=${t.latitude}%2C${t.longitude}`,children:"linkGoogleMaps"}),L.jsx(Os,{component:"a",target:"_blank",href:`http://maps.apple.com/?ll=${t.latitude},${t.longitude}`,children:"linkAppleMaps"}),L.jsx(Os,{component:"a",target:"_blank",href:`https://www.google.com/maps/@?api=1&map_action=pano&viewpoint=${t.latitude}%2C${t.longitude}&heading=${t.course}`,children:"linkStreetView"})]}),L.jsx(uTe,{open:T,endpoint:"devices",itemId:e,onResult:M=>O(M)})]})};function fTe(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var hTe=`/* add css styles here (optional) */

.styles_ReactSwipeButton__2WML2 {
  float: left;
  width: 100%;
  height: 50px;
  position: relative;
}
.styles_ReactSwipeButton__2WML2,
.styles_ReactSwipeButton__2WML2 * {
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none;   /* Chrome/Safari/Opera */
  -khtml-user-select: none;    /* Konqueror */
  -moz-user-select: none;      /* Firefox */
  -ms-user-select: none;       /* Internet Explorer/Edge */
  user-select: none;           /* Non-prefixed version, currently
                                  not supported by any browser */
}
.styles_rsbContainer__KXpXK{
  float: left;
  width: 100%;
  height: 100%;
  background: #eee;
  border-radius: 50px;
  position: relative;
  /* box-shadow: inset 1px 1px 4px rgba(0,0,0,0.1); */
  overflow: hidden;
}
.styles_rsbContainerUnlocked__1T0vd{
  width: 50%!important;
  margin-left: 25%;
  transition: 0.5s;
  cursor: default;
}
.styles_rsbContainerUnlocked__1T0vd .styles_rsbcSlider__1yYxD{
  left: 100%!important;
  cursor: default;
  pointer-events: none;
}
.styles_rsbContainerUnlocked__1T0vd .styles_rsbcSliderArrow__2D9q4 {
  transition: 0.5s;
  margin-right: -60px;
}
.styles_rsbContainerUnlocked__1T0vd .styles_rsbcSliderCircle__3G0Zs {
  transition: 0.5s;
  margin-right: -60px;
}
.styles_rsbcSlider__1yYxD {
  float: left;
  width: 100%;
  position: absolute;
  height: 50px;
  top:0;
  left: 50px;
  margin-left:-100%;
  background: #333;
  border-radius: 25px;
  z-index: 100;
  /* box-shadow: 1px 1px 5px rgba(0,0,0,0.3); */
  cursor: pointer;
}
.styles_rsbcSliderText__3h08j{
  position: absolute;
  top:0;
  left:0;
  right:0;
  line-height: 50px;
  text-align: center;
  font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
  letter-spacing: 2px;
  color: #fff;
  font-size: 13px;

}
.styles_rsbcSliderArrow__2D9q4{
  float: left;
  position: absolute;
  transform: rotate(45deg);
  border: 2px solid #fff;
  height: 8px;
  width: 8px;
  top:50%;
  right: 22px;
  margin-top: -6px;
  border-left-color: transparent;
  border-bottom-color: transparent;
  transform-origin: center;
  z-index: 10;
}
.styles_rsbcSliderCircle__3G0Zs {
  position: absolute;
  right: 0;
  background: #444;
  top:0;
  height: 50px;
  width: 50px;
  border-radius: 100%;
}
.styles_rsbcText__16wA0 {
  float: left;
  position: absolute;
  top:0;
  left:0;
  right:0;
  height: 50px;
  line-height: 50px;
  text-align: center;
  font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
  letter-spacing: 2px;
  font-size: 13px;
  color: #aaa;
}`,rd={ReactSwipeButton:"styles_ReactSwipeButton__2WML2",rsbContainer:"styles_rsbContainer__KXpXK",rsbContainerUnlocked:"styles_rsbContainerUnlocked__1T0vd",rsbcSlider:"styles_rsbcSlider__1yYxD",rsbcSliderArrow:"styles_rsbcSliderArrow__2D9q4",rsbcSliderCircle:"styles_rsbcSliderCircle__3G0Zs",rsbcSliderText:"styles_rsbcSliderText__3h08j",rsbcText:"styles_rsbcText__16wA0"};fTe(hTe);var pTe=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},mTe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),gTe=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},ZB=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},XB=Ee.createRef(),k1=Ee.createRef(),BE="ontouchstart"in document.documentElement,yTe=function(e){gTe(t,e);function t(){var n,r,i,o;pTe(this,t);for(var s=arguments.length,a=Array(s),f=0;f<s;f++)a[f]=arguments[f];return o=(r=(i=ZB(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(a))),i),i.isDragging=!1,i.sliderLeft=0,i.state={},i.onDrag=function(h){i.unmounted||i.state.unlocked||i.isDragging&&(BE?i.sliderLeft=Math.min(Math.max(0,h.touches[0].clientX-i.startX),i.containerWidth):i.sliderLeft=Math.min(Math.max(0,h.clientX-i.startX),i.containerWidth),i.updateSliderStyle())},i.updateSliderStyle=function(){i.unmounted||i.state.unlocked||(XB.current.style.left=i.sliderLeft+50+"px")},i.stopDrag=function(){i.unmounted||i.state.unlocked||i.isDragging&&(i.isDragging=!1,i.sliderLeft>i.containerWidth*.9?(i.sliderLeft=i.containerWidth,i.onSuccess(),i.props.onSuccess&&i.props.onSuccess()):(i.sliderLeft=0,i.props.onFailure&&i.props.onFailure()),i.updateSliderStyle())},i.startDrag=function(h){i.unmounted||i.state.unlocked||(i.isDragging=!0,BE?i.startX=h.touches[0].clientX:i.startX=h.clientX)},i.onSuccess=function(){k1.current.style.width=k1.current.clientWidth+"px",i.setState({unlocked:!0})},i.getText=function(){return i.state.unlocked?i.props.text_unlocked||"UNLOCKED":i.props.text||"SLIDE"},i.reset=function(){i.unmounted||i.setState({unlocked:!1},function(){i.sliderLeft=0,i.updateSliderStyle()})},r),ZB(i,o)}return mTe(t,[{key:"componentDidMount",value:function(){BE?(document.addEventListener("touchmove",this.onDrag),document.addEventListener("touchend",this.stopDrag)):(document.addEventListener("mousemove",this.onDrag),document.addEventListener("mouseup",this.stopDrag)),this.containerWidth=k1.current.clientWidth-50}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){return Ee.createElement("div",{className:rd.ReactSwipeButton},Ee.createElement("div",{className:rd.rsbContainer+" "+(this.state.unlocked?rd.rsbContainerUnlocked:""),ref:k1},Ee.createElement("div",{className:rd.rsbcSlider,ref:XB,onMouseDown:this.startDrag,style:{background:this.props.color},onTouchStart:this.startDrag},Ee.createElement("span",{className:rd.rsbcSliderText},this.getText()),Ee.createElement("span",{className:rd.rsbcSliderArrow}),Ee.createElement("span",{className:rd.rsbcSliderCircle,style:{background:this.props.color}})),Ee.createElement("div",{className:rd.rsbcText},this.getText())))}}]),t}(U.Component);const vTe=Nr(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},media:{height:e.dimensions.popupImageHeight,display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},content:{paddingTop:"20px",paddingBottom:"20px"},negative:{color:e.palette.colors.negative},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},table:{"& .MuiTableCell-sizeSmall":{paddingLeft:0,paddingRight:0}},cell:{borderBottom:"none"},actions:{justifyContent:"space-between"},root:{pointerEvents:"none",position:"fixed",zIndex:5,left:"50%",top:"50%",transform:"translate(-50%,-50%)"}})),xTe=({enable:e,onClose:t,onSucces:n})=>{const r=vTe();return L.jsx(L.Fragment,{children:L.jsx("div",{className:r.root,children:e&&L.jsxs(ku,{elevation:5,className:r.card,children:[L.jsxs("div",{className:r.header,children:[L.jsx(pn,{variant:"body2",color:"textSecondary",children:"Confirm mission"}),L.jsx(Hn,{size:"small",onClick:t,onTouchStart:t,children:L.jsx(pu,{fontSize:"small"})})]}),L.jsxs(gR,{className:r.content,children:[L.jsx(pn,{variant:"body1",color:"textSecondary",children:"Send all devices to command the mission load"}),L.jsx("div",{style:{marginTop:"10px",height:"50px"},children:L.jsx(yTe,{text:"Slide to Command Mission",color:"#7393B3",text_unlocked:"Commanded",onSuccess:n})})]})]})})})};var GD={},bTe=fr;Object.defineProperty(GD,"__esModule",{value:!0});var vG=GD.default=void 0,_Te=bTe(hr()),wTe=L,STe=(0,_Te.default)((0,wTe.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");vG=GD.default=STe;var YD={},CTe=fr;Object.defineProperty(YD,"__esModule",{value:!0});var xG=YD.default=void 0,kTe=CTe(hr()),TTe=L,PTe=(0,kTe.default)((0,TTe.jsx)("path",{d:"M3 14h4v-4H3v4zm0 5h4v-4H3v4zM3 9h4V5H3v4zm5 5h13v-4H8v4zm0 5h13v-4H8v4zM8 5v4h13V5H8z"}),"ViewList");xG=YD.default=PTe;var KD={},ETe=fr;Object.defineProperty(KD,"__esModule",{value:!0});var bG=KD.default=void 0,OTe=ETe(hr()),MTe=L,ATe=(0,OTe.default)((0,MTe.jsx)("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"}),"Tune");bG=KD.default=ATe;const ITe={display:"flex",gap:"10px 10px",height:"30px",borderBottom:"3px solid rgb(212, 212, 212)"},_G=({SetAddUAVOpen:e})=>L.jsxs(kg,{style:ITe,children:[L.jsx(Hn,{edge:"start",children:L.jsx(xG,{})}),L.jsx(xR,{placeholder:"device",endAdornment:L.jsx(Cpe,{position:"end",children:L.jsx(Hn,{size:"small",edge:"end",children:L.jsx(Yde,{color:"info",variant:"dot",children:L.jsx(bG,{fontSize:"small"})})})}),size:"small",fullWidth:!0}),L.jsx(Hn,{edge:"end",onClick:()=>{e(!0)},children:L.jsx(Lp,{children:L.jsx(vG,{})})})]}),$Te=Nr(e=>({card:{pointerEvents:"auto"},media:{width:e.dimensions.popupMaxWidth,display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},media1:{width:"95vw",height:"90vh",display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},gruopBtn:{display:"flex",right:"5px",height:"40px",position:"absolute"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},tittle:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"360px",top:e.spacing(15),transform:"translateX(1%)"},root_max:{pointerEvents:"none",position:"fixed",zIndex:6,left:"51%",top:"5%",transform:"translateX(-50%)"}})),JB=({deviceId:e,deviceIp:t,camera_src:n,onClose:r})=>{const i=$Te();yn(E=>E.data.camera[e]);const o=yn(E=>E.devices.items[e]),s="http://"+t+":8889/"+n,[a,f]=U.useState(!1);let h=i.card,g=a?i.root_max:i.root,y=a?i.media1:i.media;function x(){f(!a)}U.useRef();function T(){r(),f(!1)}return U.useEffect(()=>{e&&console.log("device in camera-"+o.name+"-"+t+"+"+n)},[e]),L.jsx("div",{className:g,children:o&&L.jsxs(ku,{elevation:3,className:h,children:[L.jsxs("div",{className:i.gruopBtn,children:[L.jsx(Hn,{size:"small",onClick:x,onTouchStart:x,children:L.jsx(lD,{fontSize:"small",className:i.mediaButton})}),L.jsx(Hn,{size:"small",onClick:T,children:L.jsx(pu,{fontSize:"small",className:i.mediaButton})})]}),L.jsx("div",{className:i.tittle,children:"Image "+o.name}),L.jsx("iframe",{src:s,className:y})]})})},wG=()=>{const e="km",t=U.useMemo(()=>new ub.ScaleControl,[]);return U.useEffect(()=>(Ye.addControl(t,"bottom-right"),()=>Ye.removeControl(t)),[t]),U.useEffect(()=>{switch(e){case"mi":t.setUnit("imperial");break;case"nmi":t.setUnit("nautical");break;case"km":default:t.setUnit("metric");break}},[t,e]),null},SG=({filteredPositions:e,markers:t=[],selectedPosition:n,filteredMissiondeviceid:r=-1,onEventsClick:i})=>{const o=Hs(),s=U.useCallback((a,f)=>{o(Ps.selectId(f))},[o]);return L.jsxs(L.Fragment,{children:[L.jsxs($R,{children:[L.jsx(GH,{markers:t}),L.jsx(fCe,{filtereddeviceid:r}),L.jsx(HH,{positions:e,onClick:s,selectedPosition:n,showStatus:!0}),L.jsx(pCe,{})]}),L.jsx(wG,{})]})},RTe=Nr(e=>({root:{height:"100%"},sidebarStyle:{pointerEvents:"none",display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 88px)",width:"360px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},contentListStyle:{pointerEvents:"auto",gridArea:"1 / 1",zIndex:4}})),DTe=()=>{const e=RTe(),t=Hs(),n=wu(),r=yn(ue=>ue.devices.items),i=yn(ue=>ue.data.positions),o=yn(ue=>ue.data.camera),s=yn(ue=>ue.devices.selectedId),a=yn(ue=>ue.session.markers),[f,h]=U.useState([]),[g,y]=U.useState([]),[x,T]=U.useState([]),[E,C]=U.useState(),[O,A]=U.useState(),[M,I]=U.useState(),[N,$]=U.useState(),D=`${window.location.hostname}`,F=f.find(ue=>s&&ue.deviceId===s),q=x.find(ue=>s&&ue.deviceId==s);let X=Object.values(r);U.useContext(Wd);const[J,ie]=U.useState(!1),[ge,Ce]=U.useState([]);let fe=null;const ce=(ue,xe)=>{switch(ue){case"success":fe={id:ge.length+1,title:"Success",description:xe,backgroundColor:"#5cb85c"};break;case"danger":fe={id:ge.length+1,title:"Danger",description:xe,backgroundColor:"#d9534f"};break;case"info":fe={id:ge.length+1,title:"Info",description:xe,backgroundColor:"#5bc0de"};break;case"warning":fe={id:ge.length+1,title:"Warning",description:xe,backgroundColor:"#f0ad4e"};break;default:fe=[]}Ce([...ge,fe])};return U.useCallback((ue,xe)=>{t(Ps.selectId(xe))},[t]),U.useEffect(()=>{y(a)},[a]),U.useEffect(()=>{h(Object.values(i))},[i]),U.useEffect(()=>{T(Object.values(o))},[o]),U.useEffect(()=>{s?(C(r[s].ip),r[s].camera.length>0?(A(r[s].camera[0].type),I(r[s].camera[0].source)):A(null),$(r[s].name)):(C(null),A(null))},[s]),L.jsx("div",{className:e.root,children:L.jsxs(qC,{notification:ce,children:[L.jsx(HC,{SetAddUAVOpen:ie}),L.jsx(GC,{SetAddUAVOpen:ie}),L.jsx("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 88px)"},children:L.jsx(SG,{filteredPositions:f,markers:g,selectedPosition:F})}),L.jsx("div",{className:e.sidebarStyle,children:L.jsx("div",{className:e.middleStyle,children:L.jsxs(la,{square:!0,className:e.contentListStyle,children:[L.jsx(_G,{SetAddUAVOpen:ie}),L.jsx(oG,{devices:X})]})})}),J&&L.jsx(V_e,{SetAddUAVOpen:ie}),L.jsx(dTe,{deviceId:s,position:F,onClose:()=>t(Ps.selectId(null)),desktopPadding:n.dimensions.drawerWidthDesktop}),L.jsx(Wd.Consumer,{children:({confirmMission:ue,setconfirmMission:xe,commandMission:le})=>L.jsx(xTe,{enable:ue,onClose:()=>xe(!1),onSucces:()=>le()})}),O==="WebRTC"&&L.jsx(JB,{deviceId:s,deviceIp:D,camera_src:N+"_"+M,onClose:()=>t(Ps.selectId(null))}),O==="WebRTC_env"&&L.jsx(JB,{deviceId:s,deviceIp:E,camera_src:M,onClose:()=>t(Ps.selectId(null))}),O==="Websocket"&&L.jsx(K_e,{deviceId:s,datacamera:q,onClose:()=>t(Ps.selectId(null))}),L.jsx($_e,{toastlist:ge,position:"buttom-right",setList:Ce})]})})},ZD=Ee.createContext(),CG=({children:e})=>{const[t,n]=U.useState({route_id:-1,wp_id:-1});return L.jsx("div",{style:{width:"100%",height:"100%"},children:L.jsx(ZD.Provider,{value:{changeWp:t,setChangeWp:n},children:e})})};class LTe{constructor(){this.routes=[],this.selecwp={id:-1}}initroute(t){this.routes=JSON.parse(JSON.stringify(t))}getroute(){return this.routes}setroute(t){this.routes=t}getSelectwp(){return this.selecwp}setSelecwp(t){this.selecwp=t}}const kG=()=>{const e=U.useId(),t=`${e}-points`,n=`${e}-points-clusters`,r=yn(O=>O.mission.route);yn(O=>O.mission.selectpoint);const i=!0,o=.6,s=Hs(),[a,f]=U.useState(new LTe),h=U.useContext(ZD);let g=Ye.getCanvasContainer();function y(O){let A=O.lngLat;g.style.cursor="grabbing",console.log("on move point"+A.lng+"-"+A.lat);let M=a.getroute(),I=a.getSelectwp();I.id>=0&&(M[I.route_id].wp[I.id].pos[0]=O.lngLat.lat,M[I.route_id].wp[I.id].pos[1]=O.lngLat.lng);let N=C(M);Ye.getSource(t).setData({type:"FeatureCollection",features:N.map($=>({type:"Feature",geometry:{type:"Point",coordinates:[$.longitude,$.latitude]},properties:T(M,$)}))}),Ye.getSource(e).setData({type:"FeatureCollection",features:M.map($=>E($))})}function x(O){var A=O.lngLat;g.style.cursor="";let M=a.getSelectwp();console.log(`Longitude: ${A.lng} Latitude: ${A.lat}`),h.setChangeWp({wp_id:M.id,route_id:M.route_id,lng:O.lngLat.lng,lat:O.lngLat.lat}),a.setSelecwp({id:-1}),Ye.off("mousemove",y),Ye.off("touchmove",y)}const T=(O,A)=>({id:A.id,route_id:A.routeid,name:O[A.routeid].name,uav:O[A.routeid].uav,latitude:O[A.routeid].wp[A.id].pos[0],longitude:O[A.routeid].wp[A.id].pos[1],altitud:O[A.routeid].wp[A.id].pos[2],yaw:O[A.routeid].wp[A.id].yaw,gimbal:O[A.routeid].wp[A.id].gimbal,actions:O[A.routeid].wp[A.id].action,attributes:O[A.routeid].attributes,category:"default",color:O[A.routeid].id});U.useEffect(()=>(console.log("render"),Ye.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:i,clusterMaxZoom:10,clusterRadius:50}),Ye.addSource(e,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),Ye.addLayer({source:e,id:"mission-line",type:"line",paint:{"line-color":["get","color"],"line-width":2}}),Ye.addLayer({source:e,id:"mission-title",type:"symbol",layout:{"text-field":"{name}","text-font":eu(Ye),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),Ye.addLayer({id:"mission-points",type:"symbol",source:t,filter:["!has","point_count"],layout:{"icon-image":"background-{color}","icon-size":o,"icon-allow-overlap":!0,"text-allow-overlap":!0,"text-field":"{id}","text-font":eu(Ye),"text-size":14},paint:{"text-color":"white"}}),Ye.addLayer({id:n,type:"symbol",source:t,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":o,"text-field":"M","text-font":eu(Ye),"text-size":14}}),Ye.on("mouseenter","mission-points",function(){g.style.cursor="move"}),Ye.on("mouseleave","mission-points",function(){g.style.cursor=""}),Ye.on("mousedown","mission-points",function(O){O.preventDefault(),a.setSelecwp(O.features[0].properties),s(Hc.selectpoint(O.features[0].properties)),g.style.cursor="grab",Ye.on("mousemove",y),Ye.once("mouseup",x)}),Ye.on("touchstart","mission-points",function(O){O.points.length===1&&(console.log("touch start"),O.preventDefault(),Ye.on("touchmove",y),Ye.once("touchend",x))}),Ye.on("click",function(O){console.log("A click event has occurred at "+O.lngLat)}),()=>{Ye.getLayer("mission-line")&&Ye.removeLayer("mission-line"),Ye.getLayer("mission-title")&&Ye.removeLayer("mission-title"),Ye.getLayer("mission-points")&&Ye.removeLayer("mission-points"),Ye.getLayer(n)&&Ye.removeLayer(n),Ye.getSource(e)&&Ye.removeSource(e),Ye.getSource(t)&&Ye.removeSource(t)}),[]);function E(O){let A=Object.values(O.wp).map(function(M){return[M.pos[1],M.pos[0]]});return{id:O.id,type:"Feature",geometry:{type:"LineString",coordinates:A},properties:{name:O.uav,color:hh.colors_devices[O.id]}}}function C(O){let A=[];return O.map((M,I)=>{M.wp.map((N,$)=>{A.push({longitude:N.pos[1],latitude:N.pos[0],id:$,routeid:I})})}),A}return U.useEffect(()=>{console.log("Mapmission upload mission"),a.initroute(r);let O=C(r);Ye.getSource(t).setData({type:"FeatureCollection",features:O.map(A=>({type:"Feature",geometry:{type:"Point",coordinates:[A.longitude,A.latitude]},properties:T(r,A)}))}),Ye.getSource(e).setData({type:"FeatureCollection",features:r.map(A=>E(A))})},[r]),null},jTe=Nr(e=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),NTe=({mission:e,setmission:t,index:n,index_wp:r,waypoint:i,expand_wp:o,AddnewWp:s})=>{const a=jTe(),[f,h]=U.useState(!1),[g,y]=U.useState(!0),[x,T]=U.useState(0),[E,C]=U.useState(!1);U.useEffect(()=>{console.log("render waypoint"+n+"-"+r)},[]),U.useEffect(()=>{C(o)},[o]);const O=D=>(F,q)=>{C(q?D:!1)};async function A(D,F){let q;const X=await fetch("/api/category/actions/dji_M210_noetic");if(X.ok)q=await X.json();else throw Error(await X.text());let J=q.find(ge=>ge.id==x),ie=JSON.parse(JSON.stringify(e.route));ie[D].wp[F].hasOwnProperty("action")||(ie[D].wp[F].action={}),J.param?ie[D].wp[F].action[J.name]=0:ie[D].wp[F].action[J.name]=!0,t({...e,route:ie}),y(!0)}const M=(D,F)=>{console.log("remove wp"+D+"-"+F);let q=[...e.route],X=[...e.route[D].wp];X.splice(F,1);let J={...q[D],wp:X};q[D]=J,t({...e,route:q})},I=(D,F,q)=>{console.log("remove action"+D+"-"+F+"-"+q);let X=JSON.parse(JSON.stringify(e.route));delete X[D].wp[F].action[q],t({...e,route:X})},N=D=>(F,q)=>{h(q?D:!1)},$=D=>(F,q)=>{y(!1)};return L.jsxs(Zl,{expanded:E==="wp "+r,onChange:O("wp "+r),children:[L.jsxs(Jl,{expandIcon:L.jsx(_l,{}),children:[L.jsx(pn,{sx:{width:"33%",flexShrink:0},children:"WP "+r}),L.jsx(Hn,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>M(n,r),children:L.jsx(qd,{})})]}),L.jsx(Xl,{className:a.details,children:E==="wp "+r&&L.jsxs(U.Fragment,{children:[L.jsxs(Za,{component:"form",sx:{"& .MuiTextField-root":{m:1}},children:[L.jsx("div",{children:L.jsx(pn,{variant:"subtitle1",style:{display:"inline"},children:"Position"})}),L.jsx(Pi,{required:!0,label:"Latitud ",type:"number",sx:{width:"15ch"},variant:"standard",inputProps:{maxLength:16,step:1e-4},value:i.pos?i.pos[0]:0,onChange:D=>t({...e,route:e.route.map(F=>{let q=JSON.parse(JSON.stringify(F));return F==e.route[n]?q.wp[r].pos[0]=+D.target.value:q=F,q})})}),L.jsx(Pi,{required:!0,label:"Longitud ",type:"number",variant:"standard",sx:{width:"15ch"},inputProps:{maxLength:16,step:1e-4},value:i.pos?i.pos[1]:0,onChange:D=>t({...e,route:e.route.map(F=>{let q=JSON.parse(JSON.stringify(F));return F==e.route[n]?q.wp[r].pos[1]=+D.target.value:q=F,q})})}),L.jsx(Pi,{required:!0,label:"altura ",type:"number",variant:"standard",sx:{width:"7ch"},value:i.pos?i.pos[2]:0,onChange:D=>t({...e,route:e.route.map(F=>{let q=JSON.parse(JSON.stringify(F));return F==e.route[n]?q.wp[r].pos[2]=+D.target.value:q=F,q})})})]}),L.jsx(Pi,{required:!0,label:"Speed ",type:"number",variant:"standard",value:i.speed?i.speed:e.route[n].attributes.idle_vel,onChange:D=>t({...e,route:e.route.map(F=>{let q=JSON.parse(JSON.stringify(F));return e.route[n]?q.wp[r].speed=+D.target.value:q=F,q})})}),L.jsx(Pi,{required:!0,label:"YAW ",type:"number",variant:"standard",value:i.yaw?i.yaw:0,onChange:D=>t({...e,route:e.route.map(F=>{let q=JSON.parse(JSON.stringify(F));return F==e.route[n]?q.wp[r].yaw=+D.target.value:q=F,q})})}),L.jsx(Pi,{required:!0,label:"Gimbal ",type:"number",variant:"standard",value:i.gimbal?i.gimbal:0,onChange:D=>t({...e,route:e.route.map(F=>{let q=JSON.parse(JSON.stringify(F));return F==e.route[n]?q.wp[r].gimbal=+D.target.value:q=F,q})})}),L.jsxs(Zl,{expanded:f==="wp "+r,onChange:N("wp "+r),children:[L.jsx(Jl,{expandIcon:L.jsx(_l,{}),children:L.jsx(pn,{sx:{width:"33%",flexShrink:0},children:"Actions"})}),L.jsxs(Xl,{className:a.details,children:[i.action&&Ee.Children.toArray(Object.keys(i.action).map((D,F,q)=>L.jsxs(U.Fragment,{children:[L.jsxs("div",{children:[L.jsx(pn,{variant:"subtitle1",className:a.attributeName,children:D}),L.jsx("div",{className:a.actionValue,children:L.jsx(Pi,{required:!0,fullWidth:!0,value:i.action[D]?i.action[D]:0,onChange:X=>t({...e,route:e.route.map(J=>{let ie=JSON.parse(JSON.stringify(J));return J==e.route[n]?ie.wp[r].action[D]=X.target.value:ie=J,ie})})})}),L.jsx(Hn,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>I(n,r,D),className:a.negative,children:L.jsx(qd,{})})]}),L.jsx(rb,{})]},"fragment-action-"+F))),L.jsx(Za,{textAlign:"center",children:g?L.jsx(mr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:$(),children:"Add new action"}):L.jsxs("div",{children:[L.jsx(pn,{variant:"subtitle1",children:"Tipo de acccion a aadir"}),L.jsx(Uc,{emptyValue:null,fullWidth:!0,value:x,onChange:D=>T(D.target.value),endpoint:"/api/category/actions/dji_M210_noetic",keyGetter:D=>D.id,titleGetter:D=>D.description}),L.jsxs("div",{children:[L.jsx(mr,{onClick:()=>y(!0),children:"Cancel"}),L.jsx(mr,{onClick:()=>A(n,r),children:"Add"})]})]})})]})]}),L.jsx(Za,{textAlign:"center",children:L.jsx(mr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:()=>s(n,r),children:"Add new Waypoint"})})]})})]})},zTe=Nr(e=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),BTe=({mission:e,setmission:t,setScrool:n})=>{const r=zTe(),i=yn($=>$.mission),o=yn($=>$.mission.selectpoint),s=Hs(),[a,f]=U.useState(!1),[h,g]=U.useState(!1),[y,x]=U.useState(!1),[T,E]=U.useState(!0);U.useEffect(()=>{console.log("render Router list")},[]),U.useEffect(()=>{t(i),i.route.length>0?E(!1):E(!0),f(!0)},[i]),U.useEffect(()=>{a&&(console.log("update mission"),s(Hc.reloadMission(e.route))),e.route.length>0?E(!1):E(!0)},[e.route]),U.useEffect(()=>{a&&s(Hc.reloadName({name:e.name,description:e.description}))},[e.name,e.description]),U.useEffect(()=>{g("Rute "+o.route_id),x("wp "+o.id),n(500+o.route_id*50+o.id*50)},[o]);const C=()=>{t({name:"new Mission",description:"",route:[]}),E(!1),O(),console.log("add new mission")},O=()=>{let $=[...e.route],D=$.length>0?+$.slice(-1)[0].id+1:0,F={max_vel:12,idle_vel:3,mode_yaw:2,mode_gimbal:0,mode_trace:0,mode_landing:2};$.push({name:"",uav:"",id:D,attributes:F,wp:[]}),t({...e,route:$})},A=($,D)=>{console.log("add new wp"+$);let F=JSON.parse(JSON.stringify(e.route)),q=Ye.getCenter();D>0&&(q.lat=(F[$].wp[D].pos[0]+F[$].wp[D-1].pos[0])/2,q.lng=(F[$].wp[D].pos[1]+F[$].wp[D-1].pos[1])/2),D<0?F[$].wp.push({pos:[q.lat,q.lng,5],action:{}}):F[$].wp.splice(D,0,{pos:[q.lat,q.lng,5],action:{}}),t({...e,route:F})},M=$=>{console.log("remove route"+$);let D=JSON.parse(JSON.stringify(e.route));D.splice($,1),t({...e,route:D})},I=$=>(D,F)=>{g(F?$:!1)},N=$=>(D,F)=>{x(F?$:!1)};return L.jsx(U.Fragment,{children:T?L.jsx(Za,{textAlign:"center",children:L.jsx(mr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:C,children:"Create New Mission"})}):L.jsx(U.Fragment,{children:L.jsxs(Za,{style:{display:"flex",gap:"10px",flexDirection:"column",margin:"20px"},children:[L.jsx(Pi,{required:!0,label:"Name Mission",variant:"standard",value:e.name?e.name:" ",onChange:$=>t({...e,name:$.target.value})}),L.jsx(Pi,{required:!0,label:"Description of mission",variant:"standard",value:e.description?e.description:" ",onChange:$=>t({...e,description:$.target.value})}),Ee.Children.toArray(Object.values(e.route).map(($,D,F)=>L.jsxs(U.Fragment,{children:[L.jsxs(Zl,{expanded:h==="Rute "+D,onChange:I("Rute "+D),children:[L.jsxs(Jl,{expandIcon:L.jsx(_l,{}),children:[L.jsx(pn,{sx:{width:"33%",flexShrink:0,color:hh.colors_devices[$.id]},children:"Rute "+D}),L.jsx(pn,{sx:{color:"text.secondary"},children:$.name+"- "+$.uav}),L.jsx(Hn,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>M(D),children:L.jsx(qd,{})})]}),L.jsx(Xl,{className:r.details,children:h==="Rute "+D&&L.jsxs(U.Fragment,{children:[L.jsx(Pi,{required:!0,label:"Route Name",variant:"standard",value:$.name?$.name:"",onChange:q=>t({...e,route:e.route.map(X=>X==e.route[D]?{...$,name:q.target.value}:X)})}),L.jsx(Pi,{required:!0,label:"UAV id",variant:"standard",value:$.uav?$.uav:"uav_",onChange:q=>t({...e,route:e.route.map(X=>X==e.route[D]?{...$,uav:q.target.value}:X)})}),L.jsx(Uc,{emptyValue:null,value:$.uav_type?$.uav_type:"",onChange:q=>t({...e,route:e.route.map(X=>X==e.route[D]?{...$,uav_type:q.target.value}:X)}),endpoint:"/api/category",keyGetter:q=>q,titleGetter:q=>q,label:"Type UAV mission",style:{display:"inline",width:"200px"}}),L.jsxs(Zl,{expanded:y==="wp -"+D,onChange:N("wp -"+D),children:[L.jsx(Jl,{expandIcon:L.jsx(_l,{}),children:L.jsx(pn,{sx:{width:"53%",flexShrink:0},children:"Route Attributes"})}),L.jsx(Xl,{className:r.details,children:$.attributes&&L.jsxs(U.Fragment,{children:[L.jsxs("div",{children:[L.jsx(pn,{variant:"subtitle1",className:r.attributeName,children:"Speed Mode"}),L.jsx("div",{className:r.attributeValue,children:L.jsx(Uc,{emptyValue:null,fullWidth:!0,value:$.attributes.mode_speed?$.attributes.mode_speed:0,onChange:q=>t({...e,route:e.route.map(X=>{let J=JSON.parse(JSON.stringify(X));return X===e.route[D]?J.attributes.mode_speed=q.target.value:J=X,J})}),endpoint:"/api/category/atributesparam/dji_M300/mode_speed",keyGetter:q=>q.id,titleGetter:q=>q.name})})]}),L.jsxs("div",{children:[L.jsx(pn,{variant:"subtitle1",className:r.attributeName,children:"Speed idle (m/s):"}),L.jsx(Pi,{fullWidth:!0,required:!0,type:"number",className:r.attributeValue,value:$.attributes.idle_vel?$.attributes.idle_vel:1.85,onChange:q=>t({...e,route:e.route.map(X=>{let J=JSON.parse(JSON.stringify(X));return X==e.route[D]?J.attributes.idle_vel=+q.target.value:J=X,J})})})]}),L.jsxs("div",{children:[L.jsx(pn,{variant:"subtitle1",className:r.attributeName,children:"Speed MAX (m/s):"}),L.jsx(Pi,{fullWidth:!0,required:!0,type:"number",className:r.attributeValue,value:$.attributes.max_vel?$.attributes.max_vel:12,onChange:q=>t({...e,route:e.route.map(X=>{let J=JSON.parse(JSON.stringify(X));return X==e.route[D]?J.attributes.max_vel=+q.target.value:J=X,J})})})]}),L.jsxs("div",{children:[L.jsx(pn,{variant:"subtitle1",className:r.attributeName,children:"landing mode"}),L.jsx("div",{className:r.attributeValue,children:L.jsx(Uc,{emptyValue:null,fullWidth:!0,value:$.attributes.mode_landing?$.attributes.mode_landing:0,onChange:q=>t({...e,route:e.route.map(X=>{let J=JSON.parse(JSON.stringify(X));return X===e.route[D]?J.attributes.mode_landing=q.target.value:J=X,J})}),endpoint:"/api/category/atributesparam/dji_M300/mode_landing",keyGetter:q=>q.id,titleGetter:q=>q.name})})]}),L.jsxs("div",{children:[L.jsx(pn,{variant:"subtitle1",className:r.attributeName,children:"Yaw mode"}),L.jsx("div",{className:r.attributeValue,children:L.jsx(Uc,{emptyValue:null,fullWidth:!0,value:$.attributes.mode_yaw?$.attributes.mode_yaw:0,onChange:q=>t({...e,route:e.route.map(X=>{let J=JSON.parse(JSON.stringify(X));return X===e.route[D]?J.attributes.mode_yaw=q.target.value:J=X,J})}),endpoint:"/api/category/atributesparam/dji_M300/mode_yaw",keyGetter:q=>q.id,titleGetter:q=>q.name})})]}),L.jsxs("div",{children:[L.jsxs(pn,{variant:"subtitle1",className:r.attributeName,children:[" ","Gimbal mode"," "]}),L.jsx("div",{className:r.attributeValue,children:L.jsx(Uc,{emptyValue:null,fullWidth:!0,value:$.attributes.mode_gimbal?$.attributes.mode_gimbal:0,onChange:q=>t({...e,route:e.route.map(X=>{let J=JSON.parse(JSON.stringify(X));return X===e.route[D]?J.attributes.mode_gimbal=q.target.value:J=X,J})}),endpoint:"/api/category/atributesparam/dji_M300/mode_gimbal",keyGetter:q=>q.id,titleGetter:q=>q.name})})]}),L.jsxs("div",{children:[L.jsx(pn,{variant:"subtitle1",className:r.attributeName,children:"Trace mode:"}),L.jsx("div",{className:r.attributeValue,children:L.jsx(Uc,{emptyValue:null,fullWidth:!0,value:$.attributes.mode_trace?$.attributes.mode_trace:0,onChange:q=>t({...e,route:e.route.map(X=>{let J=JSON.parse(JSON.stringify(X));return X===e.route[D]?J.attributes.mode_trace=q.target.value:J=X,J})}),endpoint:"/api/category/atributesparam/dji_M300/mode_trace",keyGetter:q=>q.id,titleGetter:q=>q.name})})]})]},"fragment-route-atri-"+$.id)})]}),L.jsx(pn,{variant:"subtitle1",children:"Waypoints"}),Ee.Children.toArray(Object.values($.wp).map((q,X,J)=>L.jsx(NTe,{mission:e,setmission:t,index_wp:X,index:D,waypoint:q,AddnewWp:A,expand_wp:y}))),L.jsx(Za,{textAlign:"center",children:L.jsx(mr,{value:D,variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:q=>A(q.target.value,-1),children:"Add new Waypoint"})})]})})]}),D<F.length-1?L.jsx(rb,{}):null]},"fragment-route-"+D))),L.jsx(Za,{textAlign:"center",children:L.jsx(mr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:O,children:"Add new Route"})})]})})})};var XD={},FTe=fr;Object.defineProperty(XD,"__esModule",{value:!0});var vb=XD.default=void 0,UTe=FTe(hr()),VTe=L,WTe=(0,UTe.default)((0,VTe.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");vb=XD.default=WTe;var JD={},qTe=fr;Object.defineProperty(JD,"__esModule",{value:!0});var TG=JD.default=void 0,HTe=qTe(hr()),GTe=L,YTe=(0,HTe.default)((0,GTe.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile");TG=JD.default=YTe;var QD={},KTe=fr;Object.defineProperty(QD,"__esModule",{value:!0});var PG=QD.default=void 0,ZTe=KTe(hr()),XTe=L,JTe=(0,ZTe.default)((0,XTe.jsx)("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67 2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt");PG=QD.default=JTe;const QTe=Nr(e=>({toolbar:{display:"flex",gap:"10px 10px",height:"30px",borderBottom:"3px solid rgb(212, 212, 212)"},list:{maxHeight:"calc(100vh - 152px)",overflowY:"auto"},title:{flexGrow:1},fileInput:{display:"none"}})),ePe=({SetOpenSave:e})=>{const t=QTe(),n=_g(),r=U.useContext(Wd),i=U.useRef(null),[o,s]=Ee.useState(!1),a=U.useContext(ZD),f=()=>{s(C=>!C)},[h,g]=U.useState({name:"no mission",description:"",route:[]});U.useEffect(()=>{if(a.changeWp.route_id>=0)if(o){let C=JSON.parse(JSON.stringify(h.route)),O=a.changeWp.lat-C[a.changeWp.route_id].wp[a.changeWp.wp_id].pos[0],A=a.changeWp.lng-C[a.changeWp.route_id].wp[a.changeWp.wp_id].pos[1],M=C[a.changeWp.route_id].wp.map(I=>{let N=I;return N.pos[0]=O+I.pos[0],N.pos[1]=A+I.pos[1],N});C[a.changeWp.route_id].wp=M,g({...h,route:C})}else{let C=JSON.parse(JSON.stringify(h.route));C[a.changeWp.route_id].wp[a.changeWp.wp_id].pos[0]=a.changeWp.lat,C[a.changeWp.route_id].wp[a.changeWp.wp_id].pos[1]=a.changeWp.lng,g({...h,route:C})}},[a.changeWp]);const y=C=>{console.log("scrool"+C),i.current.scroll&&setTimeout(()=>{i.current.scroll(0,C)},1e3)},x=C=>{const O=C.target.files[0];if(!O)return;const A=new FileReader;A.readAsText(O),A.onload=()=>{console.log(A.result),console.log(O.name),r.openMision(O.name,A.result)},A.onerror=()=>{console.log(A.error)}},T=()=>{g({name:"no mission",description:"",route:[]})},E=()=>{console.log("save mission"),e(!0)};return L.jsxs(U.Fragment,{children:[L.jsxs(kg,{className:t.toolbar,children:[L.jsx(Hn,{edge:"start",sx:{mr:2},onClick:()=>n(-1),children:L.jsx(vb,{})}),L.jsx(pn,{variant:"h6",className:t.title,children:"Mission Task"}),L.jsx(pn,{children:"Group Route"}),L.jsx(Qge,{checked:o,onChange:f,name:"checkedA",inputProps:{"aria-label":"secondary checkbox"}}),L.jsx(Hn,{onClick:E,children:L.jsx(PG,{})}),L.jsx(Hn,{onClick:T,children:L.jsx(qd,{})}),L.jsxs("label",{htmlFor:"upload-gpx",children:[L.jsx("input",{accept:".yaml, .plan, .waypoint, .kml",id:"upload-gpx",type:"file",className:t.fileInput,onChange:x}),L.jsx(Hn,{edge:"end",component:"span",onClick:()=>{},children:L.jsx(TG,{})})]})]}),L.jsx("div",{ref:i,className:t.list,children:L.jsx(BTe,{mission:h,setmission:g,setScrool:y})})]})};var tPe=Array.isArray,Da=tPe,nPe=typeof Np=="object"&&Np&&Np.Object===Object&&Np,EG=nPe,rPe=EG,iPe=typeof self=="object"&&self&&self.Object===Object&&self,oPe=rPe||iPe||Function("return this")(),yc=oPe,aPe=yc,sPe=aPe.Symbol,xb=sPe,QB=xb,OG=Object.prototype,lPe=OG.hasOwnProperty,cPe=OG.toString,Ov=QB?QB.toStringTag:void 0;function uPe(e){var t=lPe.call(e,Ov),n=e[Ov];try{e[Ov]=void 0;var r=!0}catch{}var i=cPe.call(e);return r&&(t?e[Ov]=n:delete e[Ov]),i}var dPe=uPe,fPe=Object.prototype,hPe=fPe.toString;function pPe(e){return hPe.call(e)}var mPe=pPe,e4=xb,gPe=dPe,yPe=mPe,vPe="[object Null]",xPe="[object Undefined]",t4=e4?e4.toStringTag:void 0;function bPe(e){return e==null?e===void 0?xPe:vPe:t4&&t4 in Object(e)?gPe(e):yPe(e)}var Eu=bPe;function _Pe(e){return e!=null&&typeof e=="object"}var Ou=_Pe,wPe=Eu,SPe=Ou,CPe="[object Symbol]";function kPe(e){return typeof e=="symbol"||SPe(e)&&wPe(e)==CPe}var Lg=kPe,TPe=Da,PPe=Lg,EPe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,OPe=/^\w*$/;function MPe(e,t){if(TPe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||PPe(e)?!0:OPe.test(e)||!EPe.test(e)||t!=null&&e in Object(t)}var eL=MPe;function APe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Xd=APe;const jg=cr(Xd);var IPe=Eu,$Pe=Xd,RPe="[object AsyncFunction]",DPe="[object Function]",LPe="[object GeneratorFunction]",jPe="[object Proxy]";function NPe(e){if(!$Pe(e))return!1;var t=IPe(e);return t==DPe||t==LPe||t==RPe||t==jPe}var tL=NPe;const jn=cr(tL);var zPe=yc,BPe=zPe["__core-js_shared__"],FPe=BPe,FE=FPe,n4=function(){var e=/[^.]+$/.exec(FE&&FE.keys&&FE.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function UPe(e){return!!n4&&n4 in e}var VPe=UPe,WPe=Function.prototype,qPe=WPe.toString;function HPe(e){if(e!=null){try{return qPe.call(e)}catch{}try{return e+""}catch{}}return""}var MG=HPe,GPe=tL,YPe=VPe,KPe=Xd,ZPe=MG,XPe=/[\\^$.*+?()[\]{}|]/g,JPe=/^\[object .+?Constructor\]$/,QPe=Function.prototype,eEe=Object.prototype,tEe=QPe.toString,nEe=eEe.hasOwnProperty,rEe=RegExp("^"+tEe.call(nEe).replace(XPe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function iEe(e){if(!KPe(e)||YPe(e))return!1;var t=GPe(e)?rEe:JPe;return t.test(ZPe(e))}var oEe=iEe;function aEe(e,t){return e==null?void 0:e[t]}var sEe=aEe,lEe=oEe,cEe=sEe;function uEe(e,t){var n=cEe(e,t);return lEe(n)?n:void 0}var Oh=uEe,dEe=Oh,fEe=dEe(Object,"create"),ck=fEe,r4=ck;function hEe(){this.__data__=r4?r4(null):{},this.size=0}var pEe=hEe;function mEe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var gEe=mEe,yEe=ck,vEe="__lodash_hash_undefined__",xEe=Object.prototype,bEe=xEe.hasOwnProperty;function _Ee(e){var t=this.__data__;if(yEe){var n=t[e];return n===vEe?void 0:n}return bEe.call(t,e)?t[e]:void 0}var wEe=_Ee,SEe=ck,CEe=Object.prototype,kEe=CEe.hasOwnProperty;function TEe(e){var t=this.__data__;return SEe?t[e]!==void 0:kEe.call(t,e)}var PEe=TEe,EEe=ck,OEe="__lodash_hash_undefined__";function MEe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=EEe&&t===void 0?OEe:t,this}var AEe=MEe,IEe=pEe,$Ee=gEe,REe=wEe,DEe=PEe,LEe=AEe;function Ng(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ng.prototype.clear=IEe;Ng.prototype.delete=$Ee;Ng.prototype.get=REe;Ng.prototype.has=DEe;Ng.prototype.set=LEe;var jEe=Ng;function NEe(){this.__data__=[],this.size=0}var zEe=NEe;function BEe(e,t){return e===t||e!==e&&t!==t}var nL=BEe,FEe=nL;function UEe(e,t){for(var n=e.length;n--;)if(FEe(e[n][0],t))return n;return-1}var uk=UEe,VEe=uk,WEe=Array.prototype,qEe=WEe.splice;function HEe(e){var t=this.__data__,n=VEe(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():qEe.call(t,n,1),--this.size,!0}var GEe=HEe,YEe=uk;function KEe(e){var t=this.__data__,n=YEe(t,e);return n<0?void 0:t[n][1]}var ZEe=KEe,XEe=uk;function JEe(e){return XEe(this.__data__,e)>-1}var QEe=JEe,eOe=uk;function tOe(e,t){var n=this.__data__,r=eOe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var nOe=tOe,rOe=zEe,iOe=GEe,oOe=ZEe,aOe=QEe,sOe=nOe;function zg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}zg.prototype.clear=rOe;zg.prototype.delete=iOe;zg.prototype.get=oOe;zg.prototype.has=aOe;zg.prototype.set=sOe;var dk=zg,lOe=Oh,cOe=yc,uOe=lOe(cOe,"Map"),rL=uOe,i4=jEe,dOe=dk,fOe=rL;function hOe(){this.size=0,this.__data__={hash:new i4,map:new(fOe||dOe),string:new i4}}var pOe=hOe;function mOe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var gOe=mOe,yOe=gOe;function vOe(e,t){var n=e.__data__;return yOe(t)?n[typeof t=="string"?"string":"hash"]:n.map}var fk=vOe,xOe=fk;function bOe(e){var t=xOe(this,e).delete(e);return this.size-=t?1:0,t}var _Oe=bOe,wOe=fk;function SOe(e){return wOe(this,e).get(e)}var COe=SOe,kOe=fk;function TOe(e){return kOe(this,e).has(e)}var POe=TOe,EOe=fk;function OOe(e,t){var n=EOe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var MOe=OOe,AOe=pOe,IOe=_Oe,$Oe=COe,ROe=POe,DOe=MOe;function Bg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Bg.prototype.clear=AOe;Bg.prototype.delete=IOe;Bg.prototype.get=$Oe;Bg.prototype.has=ROe;Bg.prototype.set=DOe;var iL=Bg,AG=iL,LOe="Expected a function";function oL(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(LOe);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(oL.Cache||AG),n}oL.Cache=AG;var IG=oL;const jOe=cr(IG);var NOe=IG,zOe=500;function BOe(e){var t=NOe(e,function(r){return n.size===zOe&&n.clear(),r}),n=t.cache;return t}var FOe=BOe,UOe=FOe,VOe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,WOe=/\\(\\)?/g,qOe=UOe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(VOe,function(n,r,i,o){t.push(i?o.replace(WOe,"$1"):r||n)}),t}),HOe=qOe;function GOe(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var aL=GOe,o4=xb,YOe=aL,KOe=Da,ZOe=Lg,XOe=1/0,a4=o4?o4.prototype:void 0,s4=a4?a4.toString:void 0;function $G(e){if(typeof e=="string")return e;if(KOe(e))return YOe(e,$G)+"";if(ZOe(e))return s4?s4.call(e):"";var t=e+"";return t=="0"&&1/e==-XOe?"-0":t}var JOe=$G,QOe=JOe;function eMe(e){return e==null?"":QOe(e)}var RG=eMe,tMe=Da,nMe=eL,rMe=HOe,iMe=RG;function oMe(e,t){return tMe(e)?e:nMe(e,t)?[e]:rMe(iMe(e))}var DG=oMe,aMe=Lg,sMe=1/0;function lMe(e){if(typeof e=="string"||aMe(e))return e;var t=e+"";return t=="0"&&1/e==-sMe?"-0":t}var hk=lMe,cMe=DG,uMe=hk;function dMe(e,t){t=cMe(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[uMe(t[n++])];return n&&n==r?e:void 0}var sL=dMe,fMe=sL;function hMe(e,t,n){var r=e==null?void 0:fMe(e,t);return r===void 0?n:r}var LG=hMe;const Ds=cr(LG);function pMe(e){return e==null}var mMe=pMe;const Gn=cr(mMe);var gMe=Eu,yMe=Da,vMe=Ou,xMe="[object String]";function bMe(e){return typeof e=="string"||!yMe(e)&&vMe(e)&&gMe(e)==xMe}var _Me=bMe;const bb=cr(_Me);var jG={exports:{}},xr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oo=typeof Symbol=="function"&&Symbol.for,lL=oo?Symbol.for("react.element"):60103,cL=oo?Symbol.for("react.portal"):60106,pk=oo?Symbol.for("react.fragment"):60107,mk=oo?Symbol.for("react.strict_mode"):60108,gk=oo?Symbol.for("react.profiler"):60114,yk=oo?Symbol.for("react.provider"):60109,vk=oo?Symbol.for("react.context"):60110,uL=oo?Symbol.for("react.async_mode"):60111,xk=oo?Symbol.for("react.concurrent_mode"):60111,bk=oo?Symbol.for("react.forward_ref"):60112,_k=oo?Symbol.for("react.suspense"):60113,wMe=oo?Symbol.for("react.suspense_list"):60120,wk=oo?Symbol.for("react.memo"):60115,Sk=oo?Symbol.for("react.lazy"):60116,SMe=oo?Symbol.for("react.block"):60121,CMe=oo?Symbol.for("react.fundamental"):60117,kMe=oo?Symbol.for("react.responder"):60118,TMe=oo?Symbol.for("react.scope"):60119;function ls(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case lL:switch(e=e.type,e){case uL:case xk:case pk:case gk:case mk:case _k:return e;default:switch(e=e&&e.$$typeof,e){case vk:case bk:case Sk:case wk:case yk:return e;default:return t}}case cL:return t}}}function NG(e){return ls(e)===xk}xr.AsyncMode=uL;xr.ConcurrentMode=xk;xr.ContextConsumer=vk;xr.ContextProvider=yk;xr.Element=lL;xr.ForwardRef=bk;xr.Fragment=pk;xr.Lazy=Sk;xr.Memo=wk;xr.Portal=cL;xr.Profiler=gk;xr.StrictMode=mk;xr.Suspense=_k;xr.isAsyncMode=function(e){return NG(e)||ls(e)===uL};xr.isConcurrentMode=NG;xr.isContextConsumer=function(e){return ls(e)===vk};xr.isContextProvider=function(e){return ls(e)===yk};xr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===lL};xr.isForwardRef=function(e){return ls(e)===bk};xr.isFragment=function(e){return ls(e)===pk};xr.isLazy=function(e){return ls(e)===Sk};xr.isMemo=function(e){return ls(e)===wk};xr.isPortal=function(e){return ls(e)===cL};xr.isProfiler=function(e){return ls(e)===gk};xr.isStrictMode=function(e){return ls(e)===mk};xr.isSuspense=function(e){return ls(e)===_k};xr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===pk||e===xk||e===gk||e===mk||e===_k||e===wMe||typeof e=="object"&&e!==null&&(e.$$typeof===Sk||e.$$typeof===wk||e.$$typeof===yk||e.$$typeof===vk||e.$$typeof===bk||e.$$typeof===CMe||e.$$typeof===kMe||e.$$typeof===TMe||e.$$typeof===SMe)};xr.typeOf=ls;jG.exports=xr;var lA=jG.exports,PMe=Eu,EMe=Ou,OMe="[object Number]";function MMe(e){return typeof e=="number"||EMe(e)&&PMe(e)==OMe}var zG=MMe;const AMe=cr(zG);var IMe=zG;function $Me(e){return IMe(e)&&e!=+e}var RMe=$Me;const _b=cr(RMe);var Sl=function(t){return t===0?0:t>0?1:-1},Gf=function(t){return bb(t)&&t.indexOf("%")===t.length-1},Et=function(t){return AMe(t)&&!_b(t)},qi=function(t){return Et(t)||bb(t)},DMe=0,wb=function(t){var n=++DMe;return"".concat(t||"").concat(n)},Zm=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Et(t)&&!bb(t))return r;var o;if(Gf(t)){var s=t.indexOf("%");o=n*parseFloat(t.slice(0,s))/100}else o=+t;return _b(o)&&(o=r),i&&o>n&&(o=n),o},od=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},LMe=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},yl=function(t,n){return Et(t)&&Et(n)?function(r){return t+r*(n-t)}:function(){return n}};function yS(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Ds(r,t))===n})}function km(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function cA(e){"@babel/helpers - typeof";return cA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cA(e)}var jMe=["viewBox","children"],NMe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],l4=["points","pathLength"],UE={svg:jMe,polygon:l4,polyline:l4},dL=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],vS=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(U.isValidElement(t)&&(r=t.props),!jg(r))return null;var i={};return Object.keys(r).forEach(function(o){dL.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},zMe=function(t,n,r){return function(i){return t(n,r,i),null}},xS=function(t,n,r){if(!jg(t)||cA(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var s=t[o];dL.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=zMe(s,n,r))}),i},BMe=["children"],FMe=["children"];function c4(e,t){if(e==null)return{};var n=UMe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function UMe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function uA(e){"@babel/helpers - typeof";return uA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uA(e)}var u4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},nu=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},d4=null,VE=null,fL=function e(t){if(t===d4&&Array.isArray(VE))return VE;var n=[];return U.Children.forEach(t,function(r){Gn(r)||(lA.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),VE=n,d4=t,n};function Ls(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return nu(i)}):r=[nu(t)],fL(e).forEach(function(i){var o=Ds(i,"type.displayName")||Ds(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Wa(e,t){var n=Ls(e,t);return n&&n[0]}var f4=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!Et(r)||r<=0||!Et(i)||i<=0)},VMe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],WMe=function(t){return t&&t.type&&bb(t.type)&&VMe.indexOf(t.type)>=0},qMe=function(t){return t&&uA(t)==="object"&&"cx"in t&&"cy"in t&&"r"in t},HMe=function(t,n,r,i){var o,s=(o=UE==null?void 0:UE[i])!==null&&o!==void 0?o:[];return!jn(t)&&(i&&s.includes(n)||NMe.includes(n))||r&&dL.includes(n)},Un=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(U.isValidElement(t)&&(i=t.props),!jg(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;HMe((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},dA=function e(t,n){if(t===n)return!0;var r=U.Children.count(t);if(r!==U.Children.count(n))return!1;if(r===0)return!0;if(r===1)return h4(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=t[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!e(o,s))return!1}else if(!h4(o,s))return!1}return!0},h4=function(t,n){if(Gn(t)&&Gn(n))return!0;if(!Gn(t)&&!Gn(n)){var r=t.props||{},i=r.children,o=c4(r,BMe),s=n.props||{},a=s.children,f=c4(s,FMe);return i&&a?km(o,f)&&dA(i,a):!i&&!a?km(o,f):!1}return!1},p4=function(t,n){var r=[],i={};return fL(t).forEach(function(o,s){if(WMe(o))r.push(o);else if(o){var a=nu(o.type),f=n[a]||{},h=f.handler,g=f.once;if(h&&(!g||!i[a])){var y=h(o,a,s);r.push(y),i[a]=!0}}}),r},GMe=function(t){var n=t&&t.type;return n&&u4[n]?u4[n]:null},YMe=function(t,n){return fL(n).indexOf(t)},KMe=["children","width","height","viewBox","className","style","title","desc"];function fA(){return fA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fA.apply(this,arguments)}function ZMe(e,t){if(e==null)return{};var n=XMe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function XMe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function hA(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,o=e.className,s=e.style,a=e.title,f=e.desc,h=ZMe(e,KMe),g=i||{width:n,height:r,x:0,y:0},y=at("recharts-surface",o);return Ee.createElement("svg",fA({},Un(h,!0,"svg"),{className:y,width:n,height:r,style:s,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height)}),Ee.createElement("title",null,a),Ee.createElement("desc",null,f),t)}var JMe=["children","className"];function pA(){return pA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pA.apply(this,arguments)}function QMe(e,t){if(e==null)return{};var n=eAe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eAe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Oi=Ee.forwardRef(function(e,t){var n=e.children,r=e.className,i=QMe(e,JMe),o=at("recharts-layer",r);return Ee.createElement("g",pA({className:o},Un(i,!0),{ref:t}),n)}),ru=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function tAe(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}var nAe=tAe,rAe=nAe;function iAe(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:rAe(e,t,n)}var oAe=iAe,aAe="\\ud800-\\udfff",sAe="\\u0300-\\u036f",lAe="\\ufe20-\\ufe2f",cAe="\\u20d0-\\u20ff",uAe=sAe+lAe+cAe,dAe="\\ufe0e\\ufe0f",fAe="\\u200d",hAe=RegExp("["+fAe+aAe+uAe+dAe+"]");function pAe(e){return hAe.test(e)}var BG=pAe;function mAe(e){return e.split("")}var gAe=mAe,FG="\\ud800-\\udfff",yAe="\\u0300-\\u036f",vAe="\\ufe20-\\ufe2f",xAe="\\u20d0-\\u20ff",bAe=yAe+vAe+xAe,_Ae="\\ufe0e\\ufe0f",wAe="["+FG+"]",mA="["+bAe+"]",gA="\\ud83c[\\udffb-\\udfff]",SAe="(?:"+mA+"|"+gA+")",UG="[^"+FG+"]",VG="(?:\\ud83c[\\udde6-\\uddff]){2}",WG="[\\ud800-\\udbff][\\udc00-\\udfff]",CAe="\\u200d",qG=SAe+"?",HG="["+_Ae+"]?",kAe="(?:"+CAe+"(?:"+[UG,VG,WG].join("|")+")"+HG+qG+")*",TAe=HG+qG+kAe,PAe="(?:"+[UG+mA+"?",mA,VG,WG,wAe].join("|")+")",EAe=RegExp(gA+"(?="+gA+")|"+PAe+TAe,"g");function OAe(e){return e.match(EAe)||[]}var MAe=OAe,AAe=gAe,IAe=BG,$Ae=MAe;function RAe(e){return IAe(e)?$Ae(e):AAe(e)}var DAe=RAe,LAe=oAe,jAe=BG,NAe=DAe,zAe=RG;function BAe(e){return function(t){t=zAe(t);var n=jAe(t)?NAe(t):void 0,r=n?n[0]:t.charAt(0),i=n?LAe(n,1).join(""):t.slice(1);return r[e]()+i}}var FAe=BAe,UAe=FAe,VAe=UAe("toUpperCase"),WAe=VAe;const Ck=cr(WAe);function Dr(e){return function(){return e}}const GG=Math.cos,bS=Math.sin,Al=Math.sqrt,_S=Math.PI,kk=2*_S,yA=Math.PI,vA=2*yA,Rf=1e-6,qAe=vA-Rf;function YG(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function HAe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return YG;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class GAe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?YG:HAe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,f=r-t,h=i-n,g=s-t,y=a-n,x=g*g+y*y;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(x>Rf)if(!(Math.abs(y*f-h*g)>Rf)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let T=r-s,E=i-a,C=f*f+h*h,O=T*T+E*E,A=Math.sqrt(C),M=Math.sqrt(x),I=o*Math.tan((yA-Math.acos((C+x-O)/(2*A*M)))/2),N=I/M,$=I/A;Math.abs(N-1)>Rf&&this._append`L${t+N*g},${n+N*y}`,this._append`A${o},${o},0,0,${+(y*T>g*E)},${this._x1=t+$*f},${this._y1=n+$*h}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),f=r*Math.sin(i),h=t+a,g=n+f,y=1^s,x=s?i-o:o-i;this._x1===null?this._append`M${h},${g}`:(Math.abs(this._x1-h)>Rf||Math.abs(this._y1-g)>Rf)&&this._append`L${h},${g}`,r&&(x<0&&(x=x%vA+vA),x>qAe?this._append`A${r},${r},0,1,${y},${t-a},${n-f}A${r},${r},0,1,${y},${this._x1=h},${this._y1=g}`:x>Rf&&this._append`A${r},${r},0,${+(x>=yA)},${y},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function hL(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new GAe(t)}function pL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function KG(e){this._context=e}KG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Tk(e){return new KG(e)}function ZG(e){return e[0]}function XG(e){return e[1]}function JG(e,t){var n=Dr(!0),r=null,i=Tk,o=null,s=hL(a);e=typeof e=="function"?e:e===void 0?ZG:Dr(e),t=typeof t=="function"?t:t===void 0?XG:Dr(t);function a(f){var h,g=(f=pL(f)).length,y,x=!1,T;for(r==null&&(o=i(T=s())),h=0;h<=g;++h)!(h<g&&n(y=f[h],h,f))===x&&((x=!x)?o.lineStart():o.lineEnd()),x&&o.point(+e(y,h,f),+t(y,h,f));if(T)return o=null,T+""||null}return a.x=function(f){return arguments.length?(e=typeof f=="function"?f:Dr(+f),a):e},a.y=function(f){return arguments.length?(t=typeof f=="function"?f:Dr(+f),a):t},a.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Dr(!!f),a):n},a.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),a):i},a.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),a):r},a}function T1(e,t,n){var r=null,i=Dr(!0),o=null,s=Tk,a=null,f=hL(h);e=typeof e=="function"?e:e===void 0?ZG:Dr(+e),t=typeof t=="function"?t:Dr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?XG:Dr(+n);function h(y){var x,T,E,C=(y=pL(y)).length,O,A=!1,M,I=new Array(C),N=new Array(C);for(o==null&&(a=s(M=f())),x=0;x<=C;++x){if(!(x<C&&i(O=y[x],x,y))===A)if(A=!A)T=x,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),E=x-1;E>=T;--E)a.point(I[E],N[E]);a.lineEnd(),a.areaEnd()}A&&(I[x]=+e(O,x,y),N[x]=+t(O,x,y),a.point(r?+r(O,x,y):I[x],n?+n(O,x,y):N[x]))}if(M)return a=null,M+""||null}function g(){return JG().defined(i).curve(s).context(o)}return h.x=function(y){return arguments.length?(e=typeof y=="function"?y:Dr(+y),r=null,h):e},h.x0=function(y){return arguments.length?(e=typeof y=="function"?y:Dr(+y),h):e},h.x1=function(y){return arguments.length?(r=y==null?null:typeof y=="function"?y:Dr(+y),h):r},h.y=function(y){return arguments.length?(t=typeof y=="function"?y:Dr(+y),n=null,h):t},h.y0=function(y){return arguments.length?(t=typeof y=="function"?y:Dr(+y),h):t},h.y1=function(y){return arguments.length?(n=y==null?null:typeof y=="function"?y:Dr(+y),h):n},h.lineX0=h.lineY0=function(){return g().x(e).y(t)},h.lineY1=function(){return g().x(e).y(n)},h.lineX1=function(){return g().x(r).y(t)},h.defined=function(y){return arguments.length?(i=typeof y=="function"?y:Dr(!!y),h):i},h.curve=function(y){return arguments.length?(s=y,o!=null&&(a=s(o)),h):s},h.context=function(y){return arguments.length?(y==null?o=a=null:a=s(o=y),h):o},h}class QG{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function YAe(e){return new QG(e,!0)}function KAe(e){return new QG(e,!1)}const mL={draw(e,t){const n=Al(t/_S);e.moveTo(n,0),e.arc(0,0,n,0,kk)}},ZAe={draw(e,t){const n=Al(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},eY=Al(1/3),XAe=eY*2,JAe={draw(e,t){const n=Al(t/XAe),r=n*eY;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},QAe={draw(e,t){const n=Al(t),r=-n/2;e.rect(r,r,n,n)}},eIe=.8908130915292852,tY=bS(_S/10)/bS(7*_S/10),tIe=bS(kk/10)*tY,nIe=-GG(kk/10)*tY,rIe={draw(e,t){const n=Al(t*eIe),r=tIe*n,i=nIe*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const s=kk*o/5,a=GG(s),f=bS(s);e.lineTo(f*n,-a*n),e.lineTo(a*r-f*i,f*r+a*i)}e.closePath()}},WE=Al(3),iIe={draw(e,t){const n=-Al(t/(WE*3));e.moveTo(0,n*2),e.lineTo(-WE*n,-n),e.lineTo(WE*n,-n),e.closePath()}},xs=-.5,bs=Al(3)/2,xA=1/Al(12),oIe=(xA/2+1)*3,aIe={draw(e,t){const n=Al(t/oIe),r=n/2,i=n*xA,o=r,s=n*xA+n,a=-o,f=s;e.moveTo(r,i),e.lineTo(o,s),e.lineTo(a,f),e.lineTo(xs*r-bs*i,bs*r+xs*i),e.lineTo(xs*o-bs*s,bs*o+xs*s),e.lineTo(xs*a-bs*f,bs*a+xs*f),e.lineTo(xs*r+bs*i,xs*i-bs*r),e.lineTo(xs*o+bs*s,xs*s-bs*o),e.lineTo(xs*a+bs*f,xs*f-bs*a),e.closePath()}};function sIe(e,t){let n=null,r=hL(i);e=typeof e=="function"?e:Dr(e||mL),t=typeof t=="function"?t:Dr(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Dr(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Dr(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function wS(){}function SS(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function nY(e){this._context=e}nY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:SS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:SS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lIe(e){return new nY(e)}function rY(e){this._context=e}rY.prototype={areaStart:wS,areaEnd:wS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:SS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cIe(e){return new rY(e)}function iY(e){this._context=e}iY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:SS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uIe(e){return new iY(e)}function oY(e){this._context=e}oY.prototype={areaStart:wS,areaEnd:wS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function dIe(e){return new oY(e)}function m4(e){return e<0?-1:1}function g4(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(m4(o)+m4(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function y4(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function qE(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function CS(e){this._context=e}CS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qE(this,this._t0,y4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qE(this,y4(this,n=g4(this,e,t)),n);break;default:qE(this,this._t0,n=g4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function aY(e){this._context=new sY(e)}(aY.prototype=Object.create(CS.prototype)).point=function(e,t){CS.prototype.point.call(this,t,e)};function sY(e){this._context=e}sY.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function fIe(e){return new CS(e)}function hIe(e){return new aY(e)}function lY(e){this._context=e}lY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=v4(e),i=v4(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function v4(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function pIe(e){return new lY(e)}function Pk(e,t){this._context=e,this._t=t}Pk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function mIe(e){return new Pk(e,.5)}function gIe(e){return new Pk(e,0)}function yIe(e){return new Pk(e,1)}function Xm(e,t){if((s=e.length)>1)for(var n=1,r,i,o=e[t[0]],s,a=o.length;n<s;++n)for(i=o,o=e[t[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function bA(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function vIe(e,t){return e[t]}function xIe(e){const t=[];return t.key=e,t}function bIe(){var e=Dr([]),t=bA,n=Xm,r=vIe;function i(o){var s=Array.from(e.apply(this,arguments),xIe),a,f=s.length,h=-1,g;for(const y of o)for(a=0,++h;a<f;++a)(s[a][h]=[0,+r(y,s[a].key,h,o)]).data=y;for(a=0,g=pL(t(s));a<f;++a)s[g[a]].index=a;return n(s,g),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Dr(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Dr(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?bA:typeof o=="function"?o:Dr(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??Xm,i):n},i}function _Ie(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Xm(e,t)}}function wIe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=e[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}Xm(e,t)}}function SIe(e,t){if(!(!((s=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,f=0,h=0;a<s;++a){for(var g=e[t[a]],y=g[r][1]||0,x=g[r-1][1]||0,T=(y-x)/2,E=0;E<a;++E){var C=e[t[E]],O=C[r][1]||0,A=C[r-1][1]||0;T+=O-A}f+=y,h+=T*y}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,Xm(e,t)}}function sx(e){"@babel/helpers - typeof";return sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sx(e)}var CIe=["type","size","sizeType"];function _A(){return _A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_A.apply(this,arguments)}function x4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function b4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x4(Object(n),!0).forEach(function(r){kIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kIe(e,t,n){return t=TIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TIe(e){var t=PIe(e,"string");return sx(t)==="symbol"?t:String(t)}function PIe(e,t){if(sx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EIe(e,t){if(e==null)return{};var n=OIe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function OIe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var cY={symbolCircle:mL,symbolCross:ZAe,symbolDiamond:JAe,symbolSquare:QAe,symbolStar:rIe,symbolTriangle:iIe,symbolWye:aIe},MIe=Math.PI/180,AIe=function(t){var n="symbol".concat(Ck(t));return cY[n]||mL},IIe=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*MIe;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},$Ie=function(t,n){cY["symbol".concat(Ck(t))]=n},gL=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,o=i===void 0?64:i,s=t.sizeType,a=s===void 0?"area":s,f=EIe(t,CIe),h=b4(b4({},f),{},{type:r,size:o,sizeType:a}),g=function(){var O=AIe(r),A=sIe().type(O).size(IIe(o,a,r));return A()},y=h.className,x=h.cx,T=h.cy,E=Un(h,!0);return x===+x&&T===+T&&o===+o?Ee.createElement("path",_A({},E,{className:at("recharts-symbols",y),transform:"translate(".concat(x,", ").concat(T,")"),d:g()})):null};gL.registerSymbol=$Ie;function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function wA(){return wA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wA.apply(this,arguments)}function _4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RIe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_4(Object(n),!0).forEach(function(r){lx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uY(r.key),r)}}function LIe(e,t,n){return t&&w4(e.prototype,t),n&&w4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SA(e,t)}function SA(e,t){return SA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SA(e,t)}function NIe(e){var t=FIe();return function(){var r=kS(e),i;if(t){var o=kS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return zIe(this,i)}}function zIe(e,t){if(t&&(Jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BIe(e)}function BIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FIe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kS(e){return kS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kS(e)}function lx(e,t,n){return t=uY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uY(e){var t=UIe(e,"string");return Jm(t)==="symbol"?t:String(t)}function UIe(e,t){if(Jm(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _s=32,yL=function(e){jIe(n,e);var t=NIe(n);function n(){return DIe(this,n),t.apply(this,arguments)}return LIe(n,[{key:"renderIcon",value:function(i){var o=this.props.inactiveColor,s=_s/2,a=_s/6,f=_s/3,h=i.inactive?o:i.color;if(i.type==="plainline")return Ee.createElement("line",{strokeWidth:4,fill:"none",stroke:h,strokeDasharray:i.payload.strokeDasharray,x1:0,y1:s,x2:_s,y2:s,className:"recharts-legend-icon"});if(i.type==="line")return Ee.createElement("path",{strokeWidth:4,fill:"none",stroke:h,d:"M0,".concat(s,"h").concat(f,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*f,",").concat(s,`
            H`).concat(_s,"M").concat(2*f,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(f,",").concat(s),className:"recharts-legend-icon"});if(i.type==="rect")return Ee.createElement("path",{stroke:"none",fill:h,d:"M0,".concat(_s/8,"h").concat(_s,"v").concat(_s*3/4,"h").concat(-_s,"z"),className:"recharts-legend-icon"});if(Ee.isValidElement(i.legendIcon)){var g=RIe({},i);return delete g.legendIcon,Ee.cloneElement(i.legendIcon,g)}return Ee.createElement(gL,{fill:h,cx:s,cy:s,size:_s,sizeType:"diameter",type:i.type})}},{key:"renderItems",value:function(){var i=this,o=this.props,s=o.payload,a=o.iconSize,f=o.layout,h=o.formatter,g=o.inactiveColor,y={x:0,y:0,width:_s,height:_s},x={display:f==="horizontal"?"inline-block":"block",marginRight:10},T={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(E,C){var O,A=E.formatter||h,M=at((O={"recharts-legend-item":!0},lx(O,"legend-item-".concat(C),!0),lx(O,"inactive",E.inactive),O));if(E.type==="none")return null;var I=jn(E.value)?null:E.value;ru(!jn(E.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var N=E.inactive?g:E.color;return Ee.createElement("li",wA({className:M,style:x,key:"legend-item-".concat(C)},xS(i.props,E,C)),Ee.createElement(hA,{width:a,height:a,viewBox:y,style:T},i.renderIcon(E)),Ee.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},A?A(I,E,C):I))})}},{key:"render",value:function(){var i=this.props,o=i.payload,s=i.layout,a=i.align;if(!o||!o.length)return null;var f={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return Ee.createElement("ul",{className:"recharts-default-legend",style:f},this.renderItems())}}]),n}(U.PureComponent);lx(yL,"displayName","Legend");lx(yL,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var VIe=dk;function WIe(){this.__data__=new VIe,this.size=0}var qIe=WIe;function HIe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var GIe=HIe;function YIe(e){return this.__data__.get(e)}var KIe=YIe;function ZIe(e){return this.__data__.has(e)}var XIe=ZIe,JIe=dk,QIe=rL,e$e=iL,t$e=200;function n$e(e,t){var n=this.__data__;if(n instanceof JIe){var r=n.__data__;if(!QIe||r.length<t$e-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new e$e(r)}return n.set(e,t),this.size=n.size,this}var r$e=n$e,i$e=dk,o$e=qIe,a$e=GIe,s$e=KIe,l$e=XIe,c$e=r$e;function Fg(e){var t=this.__data__=new i$e(e);this.size=t.size}Fg.prototype.clear=o$e;Fg.prototype.delete=a$e;Fg.prototype.get=s$e;Fg.prototype.has=l$e;Fg.prototype.set=c$e;var dY=Fg,u$e="__lodash_hash_undefined__";function d$e(e){return this.__data__.set(e,u$e),this}var f$e=d$e;function h$e(e){return this.__data__.has(e)}var p$e=h$e,m$e=iL,g$e=f$e,y$e=p$e;function TS(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new m$e;++t<n;)this.add(e[t])}TS.prototype.add=TS.prototype.push=g$e;TS.prototype.has=y$e;var fY=TS;function v$e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var hY=v$e;function x$e(e,t){return e.has(t)}var pY=x$e,b$e=fY,_$e=hY,w$e=pY,S$e=1,C$e=2;function k$e(e,t,n,r,i,o){var s=n&S$e,a=e.length,f=t.length;if(a!=f&&!(s&&f>a))return!1;var h=o.get(e),g=o.get(t);if(h&&g)return h==t&&g==e;var y=-1,x=!0,T=n&C$e?new b$e:void 0;for(o.set(e,t),o.set(t,e);++y<a;){var E=e[y],C=t[y];if(r)var O=s?r(C,E,y,t,e,o):r(E,C,y,e,t,o);if(O!==void 0){if(O)continue;x=!1;break}if(T){if(!_$e(t,function(A,M){if(!w$e(T,M)&&(E===A||i(E,A,n,r,o)))return T.push(M)})){x=!1;break}}else if(!(E===C||i(E,C,n,r,o))){x=!1;break}}return o.delete(e),o.delete(t),x}var mY=k$e,T$e=yc,P$e=T$e.Uint8Array,E$e=P$e;function O$e(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var M$e=O$e;function A$e(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var vL=A$e,S4=xb,C4=E$e,I$e=nL,$$e=mY,R$e=M$e,D$e=vL,L$e=1,j$e=2,N$e="[object Boolean]",z$e="[object Date]",B$e="[object Error]",F$e="[object Map]",U$e="[object Number]",V$e="[object RegExp]",W$e="[object Set]",q$e="[object String]",H$e="[object Symbol]",G$e="[object ArrayBuffer]",Y$e="[object DataView]",k4=S4?S4.prototype:void 0,HE=k4?k4.valueOf:void 0;function K$e(e,t,n,r,i,o,s){switch(n){case Y$e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case G$e:return!(e.byteLength!=t.byteLength||!o(new C4(e),new C4(t)));case N$e:case z$e:case U$e:return I$e(+e,+t);case B$e:return e.name==t.name&&e.message==t.message;case V$e:case q$e:return e==t+"";case F$e:var a=R$e;case W$e:var f=r&L$e;if(a||(a=D$e),e.size!=t.size&&!f)return!1;var h=s.get(e);if(h)return h==t;r|=j$e,s.set(e,t);var g=$$e(a(e),a(t),r,i,o,s);return s.delete(e),g;case H$e:if(HE)return HE.call(e)==HE.call(t)}return!1}var Z$e=K$e;function X$e(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var gY=X$e,J$e=gY,Q$e=Da;function eRe(e,t,n){var r=t(e);return Q$e(e)?r:J$e(r,n(e))}var tRe=eRe;function nRe(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}var rRe=nRe;function iRe(){return[]}var oRe=iRe,aRe=rRe,sRe=oRe,lRe=Object.prototype,cRe=lRe.propertyIsEnumerable,T4=Object.getOwnPropertySymbols,uRe=T4?function(e){return e==null?[]:(e=Object(e),aRe(T4(e),function(t){return cRe.call(e,t)}))}:sRe,dRe=uRe;function fRe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var hRe=fRe,pRe=Eu,mRe=Ou,gRe="[object Arguments]";function yRe(e){return mRe(e)&&pRe(e)==gRe}var vRe=yRe,P4=vRe,xRe=Ou,yY=Object.prototype,bRe=yY.hasOwnProperty,_Re=yY.propertyIsEnumerable,wRe=P4(function(){return arguments}())?P4:function(e){return xRe(e)&&bRe.call(e,"callee")&&!_Re.call(e,"callee")},xL=wRe,PS={exports:{}};function SRe(){return!1}var CRe=SRe;PS.exports;(function(e,t){var n=yc,r=CRe,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?n.Buffer:void 0,f=a?a.isBuffer:void 0,h=f||r;e.exports=h})(PS,PS.exports);var vY=PS.exports,kRe=9007199254740991,TRe=/^(?:0|[1-9]\d*)$/;function PRe(e,t){var n=typeof e;return t=t??kRe,!!t&&(n=="number"||n!="symbol"&&TRe.test(e))&&e>-1&&e%1==0&&e<t}var bL=PRe,ERe=9007199254740991;function ORe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ERe}var _L=ORe,MRe=Eu,ARe=_L,IRe=Ou,$Re="[object Arguments]",RRe="[object Array]",DRe="[object Boolean]",LRe="[object Date]",jRe="[object Error]",NRe="[object Function]",zRe="[object Map]",BRe="[object Number]",FRe="[object Object]",URe="[object RegExp]",VRe="[object Set]",WRe="[object String]",qRe="[object WeakMap]",HRe="[object ArrayBuffer]",GRe="[object DataView]",YRe="[object Float32Array]",KRe="[object Float64Array]",ZRe="[object Int8Array]",XRe="[object Int16Array]",JRe="[object Int32Array]",QRe="[object Uint8Array]",eDe="[object Uint8ClampedArray]",tDe="[object Uint16Array]",nDe="[object Uint32Array]",Vr={};Vr[YRe]=Vr[KRe]=Vr[ZRe]=Vr[XRe]=Vr[JRe]=Vr[QRe]=Vr[eDe]=Vr[tDe]=Vr[nDe]=!0;Vr[$Re]=Vr[RRe]=Vr[HRe]=Vr[DRe]=Vr[GRe]=Vr[LRe]=Vr[jRe]=Vr[NRe]=Vr[zRe]=Vr[BRe]=Vr[FRe]=Vr[URe]=Vr[VRe]=Vr[WRe]=Vr[qRe]=!1;function rDe(e){return IRe(e)&&ARe(e.length)&&!!Vr[MRe(e)]}var iDe=rDe;function oDe(e){return function(t){return e(t)}}var xY=oDe,ES={exports:{}};ES.exports;(function(e,t){var n=EG,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var f=i&&i.require&&i.require("util").types;return f||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(ES,ES.exports);var aDe=ES.exports,sDe=iDe,lDe=xY,E4=aDe,O4=E4&&E4.isTypedArray,cDe=O4?lDe(O4):sDe,bY=cDe,uDe=hRe,dDe=xL,fDe=Da,hDe=vY,pDe=bL,mDe=bY,gDe=Object.prototype,yDe=gDe.hasOwnProperty;function vDe(e,t){var n=fDe(e),r=!n&&dDe(e),i=!n&&!r&&hDe(e),o=!n&&!r&&!i&&mDe(e),s=n||r||i||o,a=s?uDe(e.length,String):[],f=a.length;for(var h in e)(t||yDe.call(e,h))&&!(s&&(h=="length"||i&&(h=="offset"||h=="parent")||o&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||pDe(h,f)))&&a.push(h);return a}var xDe=vDe,bDe=Object.prototype;function _De(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||bDe;return e===n}var wDe=_De;function SDe(e,t){return function(n){return e(t(n))}}var _Y=SDe,CDe=_Y,kDe=CDe(Object.keys,Object),TDe=kDe,PDe=wDe,EDe=TDe,ODe=Object.prototype,MDe=ODe.hasOwnProperty;function ADe(e){if(!PDe(e))return EDe(e);var t=[];for(var n in Object(e))MDe.call(e,n)&&n!="constructor"&&t.push(n);return t}var IDe=ADe,$De=tL,RDe=_L;function DDe(e){return e!=null&&RDe(e.length)&&!$De(e)}var Sb=DDe,LDe=xDe,jDe=IDe,NDe=Sb;function zDe(e){return NDe(e)?LDe(e):jDe(e)}var Ek=zDe,BDe=tRe,FDe=dRe,UDe=Ek;function VDe(e){return BDe(e,UDe,FDe)}var WDe=VDe,M4=WDe,qDe=1,HDe=Object.prototype,GDe=HDe.hasOwnProperty;function YDe(e,t,n,r,i,o){var s=n&qDe,a=M4(e),f=a.length,h=M4(t),g=h.length;if(f!=g&&!s)return!1;for(var y=f;y--;){var x=a[y];if(!(s?x in t:GDe.call(t,x)))return!1}var T=o.get(e),E=o.get(t);if(T&&E)return T==t&&E==e;var C=!0;o.set(e,t),o.set(t,e);for(var O=s;++y<f;){x=a[y];var A=e[x],M=t[x];if(r)var I=s?r(M,A,x,t,e,o):r(A,M,x,e,t,o);if(!(I===void 0?A===M||i(A,M,n,r,o):I)){C=!1;break}O||(O=x=="constructor")}if(C&&!O){var N=e.constructor,$=t.constructor;N!=$&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof $=="function"&&$ instanceof $)&&(C=!1)}return o.delete(e),o.delete(t),C}var KDe=YDe,ZDe=Oh,XDe=yc,JDe=ZDe(XDe,"DataView"),QDe=JDe,eLe=Oh,tLe=yc,nLe=eLe(tLe,"Promise"),rLe=nLe,iLe=Oh,oLe=yc,aLe=iLe(oLe,"Set"),wY=aLe,sLe=Oh,lLe=yc,cLe=sLe(lLe,"WeakMap"),uLe=cLe,CA=QDe,kA=rL,TA=rLe,PA=wY,EA=uLe,SY=Eu,Ug=MG,A4="[object Map]",dLe="[object Object]",I4="[object Promise]",$4="[object Set]",R4="[object WeakMap]",D4="[object DataView]",fLe=Ug(CA),hLe=Ug(kA),pLe=Ug(TA),mLe=Ug(PA),gLe=Ug(EA),Df=SY;(CA&&Df(new CA(new ArrayBuffer(1)))!=D4||kA&&Df(new kA)!=A4||TA&&Df(TA.resolve())!=I4||PA&&Df(new PA)!=$4||EA&&Df(new EA)!=R4)&&(Df=function(e){var t=SY(e),n=t==dLe?e.constructor:void 0,r=n?Ug(n):"";if(r)switch(r){case fLe:return D4;case hLe:return A4;case pLe:return I4;case mLe:return $4;case gLe:return R4}return t});var yLe=Df,GE=dY,vLe=mY,xLe=Z$e,bLe=KDe,L4=yLe,j4=Da,N4=vY,_Le=bY,wLe=1,z4="[object Arguments]",B4="[object Array]",P1="[object Object]",SLe=Object.prototype,F4=SLe.hasOwnProperty;function CLe(e,t,n,r,i,o){var s=j4(e),a=j4(t),f=s?B4:L4(e),h=a?B4:L4(t);f=f==z4?P1:f,h=h==z4?P1:h;var g=f==P1,y=h==P1,x=f==h;if(x&&N4(e)){if(!N4(t))return!1;s=!0,g=!1}if(x&&!g)return o||(o=new GE),s||_Le(e)?vLe(e,t,n,r,i,o):xLe(e,t,f,n,r,i,o);if(!(n&wLe)){var T=g&&F4.call(e,"__wrapped__"),E=y&&F4.call(t,"__wrapped__");if(T||E){var C=T?e.value():e,O=E?t.value():t;return o||(o=new GE),i(C,O,n,r,o)}}return x?(o||(o=new GE),bLe(e,t,n,r,i,o)):!1}var kLe=CLe,TLe=kLe,U4=Ou;function CY(e,t,n,r,i){return e===t?!0:e==null||t==null||!U4(e)&&!U4(t)?e!==e&&t!==t:TLe(e,t,n,r,CY,i)}var wL=CY,PLe=dY,ELe=wL,OLe=1,MLe=2;function ALe(e,t,n,r){var i=n.length,o=i,s=!r;if(e==null)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=n[i];var f=a[0],h=e[f],g=a[1];if(s&&a[2]){if(h===void 0&&!(f in e))return!1}else{var y=new PLe;if(r)var x=r(h,g,f,e,t,y);if(!(x===void 0?ELe(g,h,OLe|MLe,r,y):x))return!1}}return!0}var ILe=ALe,$Le=Xd;function RLe(e){return e===e&&!$Le(e)}var kY=RLe,DLe=kY,LLe=Ek;function jLe(e){for(var t=LLe(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,DLe(i)]}return t}var NLe=jLe;function zLe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var TY=zLe,BLe=ILe,FLe=NLe,ULe=TY;function VLe(e){var t=FLe(e);return t.length==1&&t[0][2]?ULe(t[0][0],t[0][1]):function(n){return n===e||BLe(n,e,t)}}var WLe=VLe;function qLe(e,t){return e!=null&&t in Object(e)}var HLe=qLe,GLe=DG,YLe=xL,KLe=Da,ZLe=bL,XLe=_L,JLe=hk;function QLe(e,t,n){t=GLe(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var s=JLe(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&XLe(i)&&ZLe(s,i)&&(KLe(e)||YLe(e)))}var eje=QLe,tje=HLe,nje=eje;function rje(e,t){return e!=null&&nje(e,t,tje)}var ije=rje,oje=wL,aje=LG,sje=ije,lje=eL,cje=kY,uje=TY,dje=hk,fje=1,hje=2;function pje(e,t){return lje(e)&&cje(t)?uje(dje(e),t):function(n){var r=aje(n,e);return r===void 0&&r===t?sje(n,e):oje(t,r,fje|hje)}}var mje=pje;function gje(e){return e}var Vg=gje;function yje(e){return function(t){return t==null?void 0:t[e]}}var vje=yje,xje=sL;function bje(e){return function(t){return xje(t,e)}}var _je=bje,wje=vje,Sje=_je,Cje=eL,kje=hk;function Tje(e){return Cje(e)?wje(kje(e)):Sje(e)}var Pje=Tje,Eje=WLe,Oje=mje,Mje=Vg,Aje=Da,Ije=Pje;function $je(e){return typeof e=="function"?e:e==null?Mje:typeof e=="object"?Aje(e)?Oje(e[0],e[1]):Eje(e):Ije(e)}var Jd=$je;function Rje(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var PY=Rje;function Dje(e){return e!==e}var Lje=Dje;function jje(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var Nje=jje,zje=PY,Bje=Lje,Fje=Nje;function Uje(e,t,n){return t===t?Fje(e,t,n):zje(e,Bje,n)}var Vje=Uje,Wje=Vje;function qje(e,t){var n=e==null?0:e.length;return!!n&&Wje(e,t,0)>-1}var Hje=qje;function Gje(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var Yje=Gje;function Kje(){}var Zje=Kje,YE=wY,Xje=Zje,Jje=vL,Qje=1/0,eNe=YE&&1/Jje(new YE([,-0]))[1]==Qje?function(e){return new YE(e)}:Xje,tNe=eNe,nNe=fY,rNe=Hje,iNe=Yje,oNe=pY,aNe=tNe,sNe=vL,lNe=200;function cNe(e,t,n){var r=-1,i=rNe,o=e.length,s=!0,a=[],f=a;if(n)s=!1,i=iNe;else if(o>=lNe){var h=t?null:aNe(e);if(h)return sNe(h);s=!1,i=oNe,f=new nNe}else f=t?[]:a;e:for(;++r<o;){var g=e[r],y=t?t(g):g;if(g=n||g!==0?g:0,s&&y===y){for(var x=f.length;x--;)if(f[x]===y)continue e;t&&f.push(y),a.push(g)}else i(f,y,n)||(f!==a&&f.push(y),a.push(g))}return a}var uNe=cNe,dNe=Jd,fNe=uNe;function hNe(e,t){return e&&e.length?fNe(e,dNe(t)):[]}var pNe=hNe;const V4=cr(pNe);function EY(e,t,n){return t===!0?V4(e,n):jn(t)?V4(e,t):e}function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}var mNe=["ref"];function W4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W4(Object(n),!0).forEach(function(r){Ok(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MY(r.key),r)}}function yNe(e,t,n){return t&&q4(e.prototype,t),n&&q4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OA(e,t)}function OA(e,t){return OA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OA(e,t)}function xNe(e){var t=_Ne();return function(){var r=OS(e),i;if(t){var o=OS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return bNe(this,i)}}function bNe(e,t){if(t&&(Qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OY(e)}function OY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _Ne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function OS(e){return OS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},OS(e)}function Ok(e,t,n){return t=MY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MY(e){var t=wNe(e,"string");return Qm(t)==="symbol"?t:String(t)}function wNe(e,t){if(Qm(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SNe(e,t){if(e==null)return{};var n=CNe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function CNe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function kNe(e){return e.value}function TNe(e,t){if(Ee.isValidElement(e))return Ee.cloneElement(e,t);if(typeof e=="function")return Ee.createElement(e,t);t.ref;var n=SNe(t,mNe);return Ee.createElement(yL,n)}var H4=1,eg=function(e){vNe(n,e);var t=xNe(n);function n(){var r;gNe(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ok(OY(r),"lastBoundingBox",{width:-1,height:-1}),r}return yNe(n,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"updateBBox",value:function(){var i=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var o=this.wrapperNode.getBoundingClientRect();(Math.abs(o.width-this.lastBoundingBox.width)>H4||Math.abs(o.height-this.lastBoundingBox.height)>H4)&&(this.lastBoundingBox.width=o.width,this.lastBoundingBox.height=o.height,i&&i(o))}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,i&&i(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Pf({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(i){var o=this.props,s=o.layout,a=o.align,f=o.verticalAlign,h=o.margin,g=o.chartWidth,y=o.chartHeight,x,T;if(!i||(i.left===void 0||i.left===null)&&(i.right===void 0||i.right===null))if(a==="center"&&s==="vertical"){var E=this.getBBoxSnapshot();x={left:((g||0)-E.width)/2}}else x=a==="right"?{right:h&&h.right||0}:{left:h&&h.left||0};if(!i||(i.top===void 0||i.top===null)&&(i.bottom===void 0||i.bottom===null))if(f==="middle"){var C=this.getBBoxSnapshot();T={top:((y||0)-C.height)/2}}else T=f==="bottom"?{bottom:h&&h.bottom||0}:{top:h&&h.top||0};return Pf(Pf({},x),T)}},{key:"render",value:function(){var i=this,o=this.props,s=o.content,a=o.width,f=o.height,h=o.wrapperStyle,g=o.payloadUniqBy,y=o.payload,x=Pf(Pf({position:"absolute",width:a||"auto",height:f||"auto"},this.getDefaultPosition(h)),h);return Ee.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:function(E){i.wrapperNode=E}},TNe(s,Pf(Pf({},this.props),{},{payload:EY(y,g,kNe)})))}}],[{key:"getWithHeight",value:function(i,o){var s=i.props.layout;return s==="vertical"&&Et(i.props.height)?{height:i.props.height}:s==="horizontal"?{width:i.props.width||o}:null}}]),n}(U.PureComponent);Ok(eg,"displayName","Legend");Ok(eg,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var G4=xb,PNe=xL,ENe=Da,Y4=G4?G4.isConcatSpreadable:void 0;function ONe(e){return ENe(e)||PNe(e)||!!(Y4&&e&&e[Y4])}var MNe=ONe,ANe=gY,INe=MNe;function AY(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=INe),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?AY(a,t-1,n,r,i):ANe(i,a):r||(i[i.length]=a)}return i}var IY=AY;function $Ne(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var f=s[e?a:++i];if(n(o[f],f,o)===!1)break}return t}}var RNe=$Ne,DNe=RNe,LNe=DNe(),jNe=LNe,NNe=jNe,zNe=Ek;function BNe(e,t){return e&&NNe(e,t,zNe)}var $Y=BNe,FNe=Sb;function UNe(e,t){return function(n,r){if(n==null)return n;if(!FNe(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var VNe=UNe,WNe=$Y,qNe=VNe,HNe=qNe(WNe),SL=HNe,GNe=SL,YNe=Sb;function KNe(e,t){var n=-1,r=YNe(e)?Array(e.length):[];return GNe(e,function(i,o,s){r[++n]=t(i,o,s)}),r}var RY=KNe;function ZNe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var XNe=ZNe,K4=Lg;function JNe(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,o=K4(e),s=t!==void 0,a=t===null,f=t===t,h=K4(t);if(!a&&!h&&!o&&e>t||o&&s&&f&&!a&&!h||r&&s&&f||!n&&f||!i)return 1;if(!r&&!o&&!h&&e<t||h&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!f)return-1}return 0}var QNe=JNe,eze=QNe;function tze(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var f=eze(i[r],o[r]);if(f){if(r>=a)return f;var h=n[r];return f*(h=="desc"?-1:1)}}return e.index-t.index}var nze=tze,KE=aL,rze=sL,ize=Jd,oze=RY,aze=XNe,sze=xY,lze=nze,cze=Vg,uze=Da;function dze(e,t,n){t.length?t=KE(t,function(o){return uze(o)?function(s){return rze(s,o.length===1?o[0]:o)}:o}):t=[cze];var r=-1;t=KE(t,sze(ize));var i=oze(e,function(o,s,a){var f=KE(t,function(h){return h(o)});return{criteria:f,index:++r,value:o}});return aze(i,function(o,s){return lze(o,s,n)})}var fze=dze;function hze(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var pze=hze,mze=pze,Z4=Math.max;function gze(e,t,n){return t=Z4(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Z4(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),mze(e,this,a)}}var yze=gze;function vze(e){return function(){return e}}var xze=vze,bze=Oh,_ze=function(){try{var e=bze(Object,"defineProperty");return e({},"",{}),e}catch{}}(),DY=_ze,wze=xze,X4=DY,Sze=Vg,Cze=X4?function(e,t){return X4(e,"toString",{configurable:!0,enumerable:!1,value:wze(t),writable:!0})}:Sze,kze=Cze,Tze=800,Pze=16,Eze=Date.now;function Oze(e){var t=0,n=0;return function(){var r=Eze(),i=Pze-(r-n);if(n=r,i>0){if(++t>=Tze)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Mze=Oze,Aze=kze,Ize=Mze,$ze=Ize(Aze),Rze=$ze,Dze=Vg,Lze=yze,jze=Rze;function Nze(e,t){return jze(Lze(e,t,Dze),e+"")}var zze=Nze,Bze=nL,Fze=Sb,Uze=bL,Vze=Xd;function Wze(e,t,n){if(!Vze(n))return!1;var r=typeof t;return(r=="number"?Fze(n)&&Uze(t,n.length):r=="string"&&t in n)?Bze(n[t],e):!1}var Mk=Wze,qze=IY,Hze=fze,Gze=zze,J4=Mk,Yze=Gze(function(e,t){if(e==null)return[];var n=t.length;return n>1&&J4(e,t[0],t[1])?t=[]:n>2&&J4(t[0],t[1],t[2])&&(t=[t[0]]),Hze(e,qze(t,1),[])}),Kze=Yze;const CL=cr(Kze);function cx(e){"@babel/helpers - typeof";return cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cx(e)}function Zze(e,t){return e5e(e)||Qze(e,t)||Jze(e,t)||Xze()}function Xze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jze(e,t){if(e){if(typeof e=="string")return Q4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q4(e,t)}}function Q4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qze(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function e5e(e){if(Array.isArray(e))return e}function eF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eF(Object(n),!0).forEach(function(r){t5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t5e(e,t,n){return t=n5e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n5e(e){var t=r5e(e,"string");return cx(t)==="symbol"?t:String(t)}function r5e(e,t){if(cx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(cx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i5e(e){return Array.isArray(e)&&qi(e[0])&&qi(e[1])?e.join(" ~ "):e}var o5e=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,o=i===void 0?{}:i,s=t.itemStyle,a=s===void 0?{}:s,f=t.labelStyle,h=f===void 0?{}:f,g=t.payload,y=t.formatter,x=t.itemSorter,T=t.wrapperClassName,E=t.labelClassName,C=t.label,O=t.labelFormatter,A=function(){if(g&&g.length){var X={padding:0,margin:0},J=(x?CL(g,x):g).map(function(ie,ge){if(ie.type==="none")return null;var Ce=ZE({display:"block",paddingTop:4,paddingBottom:4,color:ie.color||"#000"},a),fe=ie.formatter||y||i5e,ce=ie.value,ue=ie.name,xe=ce,le=ue;if(fe&&xe!=null&&le!=null){var Pe=fe(ce,ue,ie,ge,g);if(Array.isArray(Pe)){var je=Zze(Pe,2);xe=je[0],le=je[1]}else xe=Pe}return Ee.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ge),style:Ce},qi(le)?Ee.createElement("span",{className:"recharts-tooltip-item-name"},le):null,qi(le)?Ee.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Ee.createElement("span",{className:"recharts-tooltip-item-value"},xe),Ee.createElement("span",{className:"recharts-tooltip-item-unit"},ie.unit||""))});return Ee.createElement("ul",{className:"recharts-tooltip-item-list",style:X},J)}return null},M=ZE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),I=ZE({margin:0},h),N=!Gn(C),$=N?C:"",D=at("recharts-default-tooltip",T),F=at("recharts-tooltip-label",E);return N&&O&&g!==void 0&&g!==null&&($=O(C,g)),Ee.createElement("div",{className:D,style:M},Ee.createElement("p",{className:F,style:I},Ee.isValidElement($)?$:"".concat($)),A())},a5e=Object.getOwnPropertyNames,s5e=Object.getOwnPropertySymbols,l5e=Object.prototype.hasOwnProperty;function tF(e,t){return function(r,i,o){return e(r,i,o)&&t(r,i,o)}}function E1(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var f=e(n,r,i);return o.delete(n),o.delete(r),f}}function nF(e){return a5e(e).concat(s5e(e))}var LY=Object.hasOwn||function(e,t){return l5e.call(e,t)};function Wg(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var jY="_owner",rF=Object.getOwnPropertyDescriptor,iF=Object.keys;function c5e(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function u5e(e,t){return Wg(e.getTime(),t.getTime())}function oF(e,t,n){if(e.size!==t.size)return!1;for(var r={},i=e.entries(),o=0,s,a;(s=i.next())&&!s.done;){for(var f=t.entries(),h=!1,g=0;(a=f.next())&&!a.done;){var y=s.value,x=y[0],T=y[1],E=a.value,C=E[0],O=E[1];!h&&!r[g]&&(h=n.equals(x,C,o,g,e,t,n)&&n.equals(T,O,x,C,e,t,n))&&(r[g]=!0),g++}if(!h)return!1;o++}return!0}function d5e(e,t,n){var r=iF(e),i=r.length;if(iF(t).length!==i)return!1;for(var o;i-- >0;)if(o=r[i],o===jY&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!LY(t,o)||!n.equals(e[o],t[o],o,o,e,t,n))return!1;return!0}function Mv(e,t,n){var r=nF(e),i=r.length;if(nF(t).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],o===jY&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!LY(t,o)||!n.equals(e[o],t[o],o,o,e,t,n)||(s=rF(e,o),a=rF(t,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function f5e(e,t){return Wg(e.valueOf(),t.valueOf())}function h5e(e,t){return e.source===t.source&&e.flags===t.flags}function aF(e,t,n){if(e.size!==t.size)return!1;for(var r={},i=e.values(),o,s;(o=i.next())&&!o.done;){for(var a=t.values(),f=!1,h=0;(s=a.next())&&!s.done;)!f&&!r[h]&&(f=n.equals(o.value,s.value,o.value,s.value,e,t,n))&&(r[h]=!0),h++;if(!f)return!1}return!0}function p5e(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}var m5e="[object Arguments]",g5e="[object Boolean]",y5e="[object Date]",v5e="[object Map]",x5e="[object Number]",b5e="[object Object]",_5e="[object RegExp]",w5e="[object Set]",S5e="[object String]",C5e=Array.isArray,sF=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,lF=Object.assign,k5e=Object.prototype.toString.call.bind(Object.prototype.toString);function T5e(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,i=e.areObjectsEqual,o=e.arePrimitiveWrappersEqual,s=e.areRegExpsEqual,a=e.areSetsEqual,f=e.areTypedArraysEqual;return function(g,y,x){if(g===y)return!0;if(g==null||y==null||typeof g!="object"||typeof y!="object")return g!==g&&y!==y;var T=g.constructor;if(T!==y.constructor)return!1;if(T===Object)return i(g,y,x);if(C5e(g))return t(g,y,x);if(sF!=null&&sF(g))return f(g,y,x);if(T===Date)return n(g,y,x);if(T===RegExp)return s(g,y,x);if(T===Map)return r(g,y,x);if(T===Set)return a(g,y,x);var E=k5e(g);return E===y5e?n(g,y,x):E===_5e?s(g,y,x):E===v5e?r(g,y,x):E===w5e?a(g,y,x):E===b5e?typeof g.then!="function"&&typeof y.then!="function"&&i(g,y,x):E===m5e?i(g,y,x):E===g5e||E===x5e||E===S5e?o(g,y,x):!1}}function P5e(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?Mv:c5e,areDatesEqual:u5e,areMapsEqual:r?tF(oF,Mv):oF,areObjectsEqual:r?Mv:d5e,arePrimitiveWrappersEqual:f5e,areRegExpsEqual:h5e,areSetsEqual:r?tF(aF,Mv):aF,areTypedArraysEqual:r?Mv:p5e};if(n&&(i=lF({},i,n(i))),t){var o=E1(i.areArraysEqual),s=E1(i.areMapsEqual),a=E1(i.areObjectsEqual),f=E1(i.areSetsEqual);i=lF({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:f})}return i}function E5e(e){return function(t,n,r,i,o,s,a){return e(t,n,a)}}function O5e(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(f,h){var g=r(),y=g.cache,x=y===void 0?t?new WeakMap:void 0:y,T=g.meta;return n(f,h,{cache:x,equals:i,meta:T,strict:o})};if(t)return function(f,h){return n(f,h,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(f,h){return n(f,h,s)}}var M5e=Qd();Qd({strict:!0});Qd({circular:!0});Qd({circular:!0,strict:!0});Qd({createInternalComparator:function(){return Wg}});Qd({strict:!0,createInternalComparator:function(){return Wg}});Qd({circular:!0,createInternalComparator:function(){return Wg}});Qd({circular:!0,createInternalComparator:function(){return Wg},strict:!0});function Qd(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,o=e.strict,s=o===void 0?!1:o,a=P5e(e),f=T5e(a),h=r?r(f):E5e(f);return O5e({circular:n,comparator:f,createState:i,equals:h,strict:s})}function A5e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function cF(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>t?(e(o),n=-1):A5e(i)};requestAnimationFrame(r)}function MA(e){"@babel/helpers - typeof";return MA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MA(e)}function I5e(e){return L5e(e)||D5e(e)||R5e(e)||$5e()}function $5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R5e(e,t){if(e){if(typeof e=="string")return uF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uF(e,t)}}function uF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function L5e(e){if(Array.isArray(e))return e}function j5e(){var e={},t=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=I5e(s),f=a[0],h=a.slice(1);if(typeof f=="number"){cF(i.bind(null,h),f);return}i(f),cF(i.bind(null,h));return}MA(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function ux(e){"@babel/helpers - typeof";return ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ux(e)}function dF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dF(Object(n),!0).forEach(function(r){MS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MS(e,t,n){return t=N5e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N5e(e){var t=z5e(e,"string");return ux(t)==="symbol"?t:String(t)}function z5e(e,t){if(ux(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ux(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B5e=["Webkit","Moz","O","ms"],F5e=["-webkit-","-moz-","-o-","-ms-"],U5e=["transform","transformOrigin","transition"],V5e=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},W5e=function(t){return t},q5e=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},H5e=function(t,n){if(U5e.indexOf(t)===-1)return MS({},t,Number.isNaN(n)?0:n);var r=t==="transition",i=t.replace(/(\w)/,function(s){return s.toUpperCase()}),o=n;return B5e.reduce(function(s,a,f){return r&&(o=n.replace(/(transform|transform-origin)/gim,"".concat(F5e[f],"$1"))),tg(tg({},s),{},MS({},a+i,o))},{})},v0=function(t,n){return Object.keys(n).reduce(function(r,i){return tg(tg({},r),{},MS({},i,t(i,n[i])))},{})},kL=function(t){return Object.keys(t).reduce(function(n,r){return tg(tg({},n),H5e(r,n[r]))},t)},fF=function(t,n,r){return t.map(function(i){return"".concat(q5e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function G5e(e,t){return Z5e(e)||K5e(e,t)||NY(e,t)||Y5e()}function Y5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K5e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function Z5e(e){if(Array.isArray(e))return e}function X5e(e){return e3e(e)||Q5e(e)||NY(e)||J5e()}function J5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NY(e,t){if(e){if(typeof e=="string")return AA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AA(e,t)}}function Q5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function e3e(e){if(Array.isArray(e))return AA(e)}function AA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var AS=1e-4,zY=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},BY=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},hF=function(t,n){return function(r){var i=zY(t,n);return BY(i,r)}},t3e=function(t,n){return function(r){var i=zY(t,n),o=[].concat(X5e(i.map(function(s,a){return s*a}).slice(1)),[0]);return BY(o,r)}},pF=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var f=n[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var h=f[1].split(")")[0].split(",").map(function(O){return parseFloat(O)}),g=G5e(h,4);i=g[0],o=g[1],s=g[2],a=g[3]}}}var y=hF(i,s),x=hF(o,a),T=t3e(i,s),E=function(A){return A>1?1:A<0?0:A},C=function(A){for(var M=A>1?1:A,I=M,N=0;N<8;++N){var $=y(I)-M,D=T(I);if(Math.abs($-M)<AS||D<AS)return x(I);I=E(I-$/D)}return x(I)};return C.isStepper=!1,C},n3e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,o=i===void 0?8:i,s=t.dt,a=s===void 0?17:s,f=function(g,y,x){var T=-(g-y)*r,E=x*o,C=x+(T-E)*a/1e3,O=x*a/1e3+g;return Math.abs(O-y)<AS&&Math.abs(C)<AS?[y,0]:[O,C]};return f.isStepper=!0,f.dt=a,f},r3e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return pF(i);case"spring":return n3e();default:if(i.split("(")[0]==="cubic-bezier")return pF(i)}return typeof i=="function"?i:null};function dx(e){"@babel/helpers - typeof";return dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dx(e)}function mF(e){return a3e(e)||o3e(e)||FY(e)||i3e()}function i3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a3e(e){if(Array.isArray(e))return $A(e)}function gF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function po(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gF(Object(n),!0).forEach(function(r){IA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IA(e,t,n){return t=s3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s3e(e){var t=l3e(e,"string");return dx(t)==="symbol"?t:String(t)}function l3e(e,t){if(dx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(dx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c3e(e,t){return f3e(e)||d3e(e,t)||FY(e,t)||u3e()}function u3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FY(e,t){if(e){if(typeof e=="string")return $A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $A(e,t)}}function $A(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d3e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function f3e(e){if(Array.isArray(e))return e}var IS=function(t,n,r){return t+(n-t)*r},RA=function(t){var n=t.from,r=t.to;return n!==r},h3e=function e(t,n,r){var i=v0(function(o,s){if(RA(s)){var a=t(s.from,s.to,s.velocity),f=c3e(a,2),h=f[0],g=f[1];return po(po({},s),{},{from:h,velocity:g})}return s},n);return r<1?v0(function(o,s){return RA(s)?po(po({},s),{},{velocity:IS(s.velocity,i[o].velocity,r),from:IS(s.from,i[o].from,r)}):s},n):e(t,i,r-1)};const p3e=function(e,t,n,r,i){var o=V5e(e,t),s=o.reduce(function(O,A){return po(po({},O),{},IA({},A,[e[A],t[A]]))},{}),a=o.reduce(function(O,A){return po(po({},O),{},IA({},A,{from:e[A],velocity:0,to:t[A]}))},{}),f=-1,h,g,y=function(){return null},x=function(){return v0(function(A,M){return M.from},a)},T=function(){return!Object.values(a).filter(RA).length},E=function(A){h||(h=A);var M=A-h,I=M/n.dt;a=h3e(n,a,I),i(po(po(po({},e),t),x())),h=A,T()||(f=requestAnimationFrame(y))},C=function(A){g||(g=A);var M=(A-g)/r,I=v0(function($,D){return IS.apply(void 0,mF(D).concat([n(M)]))},s);if(i(po(po(po({},e),t),I)),M<1)f=requestAnimationFrame(y);else{var N=v0(function($,D){return IS.apply(void 0,mF(D).concat([n(1)]))},s);i(po(po(po({},e),t),N))}};return y=n.isStepper?E:C,function(){return requestAnimationFrame(y),function(){cancelAnimationFrame(f)}}};function ng(e){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ng(e)}var m3e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function g3e(e,t){if(e==null)return{};var n=y3e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function y3e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function XE(e){return _3e(e)||b3e(e)||x3e(e)||v3e()}function v3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x3e(e,t){if(e){if(typeof e=="string")return DA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DA(e,t)}}function b3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _3e(e){if(Array.isArray(e))return DA(e)}function DA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yF(Object(n),!0).forEach(function(r){Kv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kv(e,t,n){return t=UY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,UY(r.key),r)}}function S3e(e,t,n){return t&&vF(e.prototype,t),n&&vF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function UY(e){var t=C3e(e,"string");return ng(t)==="symbol"?t:String(t)}function C3e(e,t){if(ng(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ng(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LA(e,t)}function LA(e,t){return LA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LA(e,t)}function T3e(e){var t=P3e();return function(){var r=$S(e),i;if(t){var o=$S(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return jA(this,i)}}function jA(e,t){if(t&&(ng(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NA(e)}function NA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P3e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $S(e){return $S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$S(e)}var gu=function(e){k3e(n,e);var t=T3e(n);function n(r,i){var o;w3e(this,n),o=t.call(this,r,i);var s=o.props,a=s.isActive,f=s.attributeName,h=s.from,g=s.to,y=s.steps,x=s.children,T=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(NA(o)),o.changeStyle=o.changeStyle.bind(NA(o)),!a||T<=0)return o.state={style:{}},typeof x=="function"&&(o.state={style:g}),jA(o);if(y&&y.length)o.state={style:y[0].style};else if(h){if(typeof x=="function")return o.state={style:h},jA(o);o.state={style:f?Kv({},f,h):h}}else o.state={style:{}};return o}return S3e(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,f=o.attributeName,h=o.shouldReAnimate,g=o.to,y=o.from,x=this.state.style;if(a){if(!s){var T={style:f?Kv({},f,g):g};this.state&&x&&(f&&x[f]!==g||!f&&x!==g)&&this.setState(T);return}if(!(M5e(i.to,g)&&i.canBegin&&i.isActive)){var E=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var C=E||h?y:i.to;if(this.state&&x){var O={style:f?Kv({},f,C):C};(f&&[f]!==C||!f&&x!==C)&&this.setState(O)}this.runAnimation(sl(sl({},this.props),{},{from:C,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,f=i.duration,h=i.easing,g=i.begin,y=i.onAnimationEnd,x=i.onAnimationStart,T=p3e(s,a,r3e(h),f,this.changeStyle),E=function(){o.stopJSAnimation=T()};this.manager.start([x,g,E,f,y])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,f=i.onAnimationStart,h=s[0],g=h.style,y=h.duration,x=y===void 0?0:y,T=function(C,O,A){if(A===0)return C;var M=O.duration,I=O.easing,N=I===void 0?"ease":I,$=O.style,D=O.properties,F=O.onAnimationEnd,q=A>0?s[A-1]:O,X=D||Object.keys($);if(typeof N=="function"||N==="spring")return[].concat(XE(C),[o.runJSAnimation.bind(o,{from:q.style,to:$,duration:M,easing:N}),M]);var J=fF(X,M,N),ie=sl(sl(sl({},q.style),$),{},{transition:J});return[].concat(XE(C),[ie,M,F]).filter(W5e)};return this.manager.start([f].concat(XE(s.reduce(T,[g,Math.max(x,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=j5e());var o=i.begin,s=i.duration,a=i.attributeName,f=i.to,h=i.easing,g=i.onAnimationStart,y=i.onAnimationEnd,x=i.steps,T=i.children,E=this.manager;if(this.unSubscribe=E.subscribe(this.handleStyleChange),typeof h=="function"||typeof T=="function"||h==="spring"){this.runJSAnimation(i);return}if(x.length>1){this.runStepAnimation(i);return}var C=a?Kv({},a,f):f,O=fF(Object.keys(C),s,h);E.start([g,o,sl(sl({},C),{},{transition:O}),s,y])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var f=g3e(i,m3e),h=U.Children.count(o),g=kL(this.state.style);if(typeof o=="function")return o(g);if(!a||h===0||s<=0)return o;var y=function(T){var E=T.props,C=E.style,O=C===void 0?{}:C,A=E.className,M=U.cloneElement(T,sl(sl({},f),{},{style:sl(sl({},O),g),className:A}));return M};return h===1?y(U.Children.only(o)):Ee.createElement("div",null,U.Children.map(o,function(x){return y(x)}))}}]),n}(U.PureComponent);gu.displayName="Animate";gu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};gu.propTypes={from:En.oneOfType([En.object,En.string]),to:En.oneOfType([En.object,En.string]),attributeName:En.string,duration:En.number,begin:En.number,easing:En.oneOfType([En.string,En.func]),steps:En.arrayOf(En.shape({duration:En.number.isRequired,style:En.object.isRequired,easing:En.oneOfType([En.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),En.func]),properties:En.arrayOf("string"),onAnimationEnd:En.func})),children:En.oneOfType([En.node,En.func]),isActive:En.bool,canBegin:En.bool,onAnimationEnd:En.func,shouldReAnimate:En.bool,onAnimationStart:En.func,onAnimationReStart:En.func};Number.isFinite===void 0&&(Number.isFinite=function(e){return typeof e=="number"&&isFinite(e)});En.object,En.object,En.object,En.element;En.object,En.object,En.object,En.oneOfType([En.array,En.element]),En.any;function fx(e){"@babel/helpers - typeof";return fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fx(e)}function O1(e,t,n){return t=E3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E3e(e){var t=O3e(e,"string");return fx(t)==="symbol"?t:String(t)}function O3e(e,t){if(fx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Av="recharts-tooltip-wrapper",M3e={visibility:"hidden"};function A3e(e){var t,n=e.coordinate,r=e.translateX,i=e.translateY;return at(Av,(t={},O1(t,"".concat(Av,"-right"),Et(r)&&n&&Et(n.x)&&r>=n.x),O1(t,"".concat(Av,"-left"),Et(r)&&n&&Et(n.x)&&r<n.x),O1(t,"".concat(Av,"-bottom"),Et(i)&&n&&Et(n.y)&&i>=n.y),O1(t,"".concat(Av,"-top"),Et(i)&&n&&Et(n.y)&&i<n.y),t))}function xF(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,s=e.reverseDirection,a=e.tooltipDimension,f=e.viewBox,h=e.viewBoxDimension;if(o&&Et(o[r]))return o[r];var g=n[r]-a-i,y=n[r]+i;if(t[r])return s[r]?g:y;if(s[r]){var x=g,T=f[r];return x<T?Math.max(y,f[r]):Math.max(g,f[r])}var E=y+a,C=f[r]+h;return E>C?Math.max(g,f[r]):Math.max(y,f[r])}function I3e(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return kL({transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")})}function $3e(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipBox,a=e.useTranslate3d,f=e.viewBox,h,g,y;return s.height>0&&s.width>0&&n?(g=xF({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:f,viewBoxDimension:f.width}),y=xF({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:f,viewBoxDimension:f.height}),h=I3e({translateX:g,translateY:y,useTranslate3d:a})):h=M3e,{cssProperties:h,cssClasses:A3e({translateX:g,translateY:y,coordinate:n})}}function rg(e){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rg(e)}function bF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bF(Object(n),!0).forEach(function(r){dw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VY(r.key),r)}}function D3e(e,t,n){return t&&_F(e.prototype,t),n&&_F(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function L3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zA(e,t)}function zA(e,t){return zA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zA(e,t)}function j3e(e){var t=z3e();return function(){var r=RS(e),i;if(t){var o=RS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return N3e(this,i)}}function N3e(e,t){if(t&&(rg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uw(e)}function uw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z3e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function RS(e){return RS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},RS(e)}function dw(e,t,n){return t=VY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VY(e){var t=B3e(e,"string");return rg(t)==="symbol"?t:String(t)}function B3e(e,t){if(rg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(rg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wF=1,F3e=function(e){L3e(n,e);var t=j3e(n);function n(){var r;R3e(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),dw(uw(r),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),dw(uw(r),"lastBoundingBox",{width:-1,height:-1}),dw(uw(r),"handleKeyDown",function(a){if(a.key==="Escape"){var f,h,g,y;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(f=(h=r.props.coordinate)===null||h===void 0?void 0:h.x)!==null&&f!==void 0?f:0,y:(g=(y=r.props.coordinate)===null||y===void 0?void 0:y.y)!==null&&g!==void 0?g:0}})}}),r}return D3e(n,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();(Math.abs(i.width-this.lastBoundingBox.width)>wF||Math.abs(i.height-this.lastBoundingBox.height)>wF)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height)}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1)}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var i,o;this.props.active&&this.updateBBox(),this.state.dismissed&&(((i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==this.state.dismissedAtCoordinate.x||((o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var i=this,o=this.props,s=o.active,a=o.allowEscapeViewBox,f=o.animationDuration,h=o.animationEasing,g=o.children,y=o.coordinate,x=o.hasPayload,T=o.isAnimationActive,E=o.offset,C=o.position,O=o.reverseDirection,A=o.useTranslate3d,M=o.viewBox,I=o.wrapperStyle,N=$3e({allowEscapeViewBox:a,coordinate:y,offsetTopLeft:E,position:C,reverseDirection:O,tooltipBox:{height:this.lastBoundingBox.height,width:this.lastBoundingBox.width},useTranslate3d:A,viewBox:M}),$=N.cssClasses,D=N.cssProperties,F=JE(JE(JE({},T&&s&&kL({transition:"transform ".concat(f,"ms ").concat(h)})),D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&x?"visible":"hidden",position:"absolute",top:0,left:0},I);return Ee.createElement("div",{tabIndex:-1,role:"dialog",className:$,style:F,ref:function(X){i.wrapperNode=X}},g)}}]),n}(U.PureComponent),U3e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},iu={isSsr:U3e(),get:function(t){return iu[t]},set:function(t,n){if(typeof t=="string")iu[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(i){iu[i]=t[i]})}}};function ig(e){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(e)}function SF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SF(Object(n),!0).forEach(function(r){TL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WY(r.key),r)}}function W3e(e,t,n){return t&&kF(e.prototype,t),n&&kF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function q3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BA(e,t)}function BA(e,t){return BA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BA(e,t)}function H3e(e){var t=K3e();return function(){var r=DS(e),i;if(t){var o=DS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return G3e(this,i)}}function G3e(e,t){if(t&&(ig(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y3e(e)}function Y3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K3e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function DS(e){return DS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},DS(e)}function TL(e,t,n){return t=WY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WY(e){var t=Z3e(e,"string");return ig(t)==="symbol"?t:String(t)}function Z3e(e,t){if(ig(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ig(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X3e(e){return e.dataKey}function J3e(e,t){return Ee.isValidElement(e)?Ee.cloneElement(e,t):typeof e=="function"?Ee.createElement(e,t):Ee.createElement(o5e,t)}var Wl=function(e){q3e(n,e);var t=H3e(n);function n(){return V3e(this,n),t.apply(this,arguments)}return W3e(n,[{key:"render",value:function(){var i=this,o=this.props,s=o.active,a=o.allowEscapeViewBox,f=o.animationDuration,h=o.animationEasing,g=o.content,y=o.coordinate,x=o.filterNull,T=o.isAnimationActive,E=o.offset,C=o.payload,O=o.payloadUniqBy,A=o.position,M=o.reverseDirection,I=o.useTranslate3d,N=o.viewBox,$=o.wrapperStyle,D=C??[];x&&D.length&&(D=EY(C.filter(function(q){return q.value!=null&&(q.hide!==!0||i.props.includeHidden)}),O,X3e));var F=D.length>0;return Ee.createElement(F3e,{allowEscapeViewBox:a,animationDuration:f,animationEasing:h,isAnimationActive:T,active:s,coordinate:y,hasPayload:F,offset:E,position:A,reverseDirection:M,useTranslate3d:I,viewBox:N,wrapperStyle:$},J3e(g,CF(CF({},this.props),{},{payload:D})))}}]),n}(U.PureComponent);TL(Wl,"displayName","Tooltip");TL(Wl,"defaultProps",{allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!iu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Q3e=yc,eBe=function(){return Q3e.Date.now()},tBe=eBe,nBe=/\s/;function rBe(e){for(var t=e.length;t--&&nBe.test(e.charAt(t)););return t}var iBe=rBe,oBe=iBe,aBe=/^\s+/;function sBe(e){return e&&e.slice(0,oBe(e)+1).replace(aBe,"")}var lBe=sBe,cBe=lBe,TF=Xd,uBe=Lg,PF=NaN,dBe=/^[-+]0x[0-9a-f]+$/i,fBe=/^0b[01]+$/i,hBe=/^0o[0-7]+$/i,pBe=parseInt;function mBe(e){if(typeof e=="number")return e;if(uBe(e))return PF;if(TF(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=TF(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=cBe(e);var n=fBe.test(e);return n||hBe.test(e)?pBe(e.slice(2),n?2:8):dBe.test(e)?PF:+e}var qY=mBe,gBe=Xd,QE=tBe,EF=qY,yBe="Expected a function",vBe=Math.max,xBe=Math.min;function bBe(e,t,n){var r,i,o,s,a,f,h=0,g=!1,y=!1,x=!0;if(typeof e!="function")throw new TypeError(yBe);t=EF(t)||0,gBe(n)&&(g=!!n.leading,y="maxWait"in n,o=y?vBe(EF(n.maxWait)||0,t):o,x="trailing"in n?!!n.trailing:x);function T(D){var F=r,q=i;return r=i=void 0,h=D,s=e.apply(q,F),s}function E(D){return h=D,a=setTimeout(A,t),g?T(D):s}function C(D){var F=D-f,q=D-h,X=t-F;return y?xBe(X,o-q):X}function O(D){var F=D-f,q=D-h;return f===void 0||F>=t||F<0||y&&q>=o}function A(){var D=QE();if(O(D))return M(D);a=setTimeout(A,C(D))}function M(D){return a=void 0,x&&r?T(D):(r=i=void 0,s)}function I(){a!==void 0&&clearTimeout(a),h=0,r=f=i=a=void 0}function N(){return a===void 0?s:M(QE())}function $(){var D=QE(),F=O(D);if(r=arguments,i=this,f=D,F){if(a===void 0)return E(f);if(y)return clearTimeout(a),a=setTimeout(A,t),T(f)}return a===void 0&&(a=setTimeout(A,t)),s}return $.cancel=I,$.flush=N,$}var _Be=bBe,wBe=_Be,SBe=Xd,CBe="Expected a function";function kBe(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(CBe);return SBe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),wBe(e,t,{leading:r,maxWait:t,trailing:i})}var TBe=kBe;const HY=cr(TBe);function hx(e){"@babel/helpers - typeof";return hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hx(e)}function OF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function M1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OF(Object(n),!0).forEach(function(r){PBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PBe(e,t,n){return t=EBe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EBe(e){var t=OBe(e,"string");return hx(t)==="symbol"?t:String(t)}function OBe(e,t){if(hx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MBe(e,t){return RBe(e)||$Be(e,t)||IBe(e,t)||ABe()}function ABe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IBe(e,t){if(e){if(typeof e=="string")return MF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MF(e,t)}}function MF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $Be(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function RBe(e){if(Array.isArray(e))return e}var DBe=U.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=e.width,s=o===void 0?"100%":o,a=e.height,f=a===void 0?"100%":a,h=e.minWidth,g=h===void 0?0:h,y=e.minHeight,x=e.maxHeight,T=e.children,E=e.debounce,C=E===void 0?0:E,O=e.id,A=e.className,M=e.onResize,I=e.style,N=I===void 0?{}:I,$=U.useRef(null),D=U.useRef();D.current=M,U.useImperativeHandle(t,function(){return Object.assign($.current,{get current(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),$.current}})});var F=U.useState({containerWidth:i.width,containerHeight:i.height}),q=MBe(F,2),X=q[0],J=q[1],ie=U.useCallback(function(Ce,fe){J(function(ce){var ue=Math.round(Ce),xe=Math.round(fe);return ce.containerWidth===ue&&ce.containerHeight===xe?ce:{containerWidth:ue,containerHeight:xe}})},[]);U.useEffect(function(){var Ce=function(Pe){var je,Qe=Pe[0].contentRect,We=Qe.width,Ke=Qe.height;ie(We,Ke),(je=D.current)===null||je===void 0||je.call(D,We,Ke)};C>0&&(Ce=HY(Ce,C,{trailing:!0,leading:!1}));var fe=new ResizeObserver(Ce),ce=$.current.getBoundingClientRect(),ue=ce.width,xe=ce.height;return ie(ue,xe),fe.observe($.current),function(){fe.disconnect()}},[ie,C]);var ge=U.useMemo(function(){var Ce=X.containerWidth,fe=X.containerHeight;if(Ce<0||fe<0)return null;ru(Gf(s)||Gf(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,f),ru(!n||n>0,"The aspect(%s) must be greater than zero.",n);var ce=Gf(s)?Ce:s,ue=Gf(f)?fe:f;n&&n>0&&(ce?ue=ce/n:ue&&(ce=ue*n),x&&ue>x&&(ue=x)),ru(ce>0||ue>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ce,ue,s,f,g,y,n);var xe=!Array.isArray(T)&&lA.isElement(T)&&nu(T.type).endsWith("Chart");return Ee.Children.map(T,function(le){return lA.isElement(le)?U.cloneElement(le,M1({width:ce,height:ue},xe?{style:M1({height:"100%",width:"100%",maxHeight:ue,maxWidth:ce},le.props.style)}:{})):le})},[n,T,f,x,y,g,X,s]);return Ee.createElement("div",{id:O?"".concat(O):void 0,className:at("recharts-responsive-container",A),style:M1(M1({},N),{},{width:s,height:f,minWidth:g,minHeight:y,maxHeight:x}),ref:$},ge)}),GY=function(t){return null};GY.displayName="Cell";function px(e){"@babel/helpers - typeof";return px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},px(e)}function AF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AF(Object(n),!0).forEach(function(r){LBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LBe(e,t,n){return t=jBe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jBe(e){var t=NBe(e,"string");return px(t)==="symbol"?t:String(t)}function NBe(e,t){if(px(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(px(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ap={widthCache:{},cacheCount:0},zBe=2e3,BBe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},IF="recharts_measurement_span";function FBe(e){var t=FA({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var x0=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||iu.isSsr)return{width:0,height:0};var r=FBe(n),i=JSON.stringify({text:t,copyStyle:r});if(Ap.widthCache[i])return Ap.widthCache[i];try{var o=document.getElementById(IF);o||(o=document.createElement("span"),o.setAttribute("id",IF),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=FA(FA({},BBe),r);Object.assign(o.style,s),o.textContent="".concat(t);var a=o.getBoundingClientRect(),f={width:a.width,height:a.height};return Ap.widthCache[i]=f,++Ap.cacheCount>zBe&&(Ap.cacheCount=0,Ap.widthCache={}),f}catch{return{width:0,height:0}}},UBe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function mx(e){"@babel/helpers - typeof";return mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mx(e)}function LS(e,t){return HBe(e)||qBe(e,t)||WBe(e,t)||VBe()}function VBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WBe(e,t){if(e){if(typeof e=="string")return $F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $F(e,t)}}function $F(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qBe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function HBe(e){if(Array.isArray(e))return e}function GBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KBe(r.key),r)}}function YBe(e,t,n){return t&&RF(e.prototype,t),n&&RF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function KBe(e){var t=ZBe(e,"string");return mx(t)==="symbol"?t:String(t)}function ZBe(e,t){if(mx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,XBe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,JBe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,YY={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},QBe=Object.keys(YY),am="NaN";function e4e(e,t){return e*YY[t]}var A1=function(){function e(t,n){GBe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!XBe.test(n)&&(this.num=NaN,this.unit=""),QBe.includes(n)&&(this.num=e4e(t,n),this.unit="px")}return YBe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=JBe.exec(n))!==null&&r!==void 0?r:[],o=LS(i,3),s=o[1],a=o[2];return new e(parseFloat(s),a??"")}}]),e}();function KY(e){if(e.includes(am))return am;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=DF.exec(t))!==null&&n!==void 0?n:[],i=LS(r,4),o=i[1],s=i[2],a=i[3],f=A1.parse(o??""),h=A1.parse(a??""),g=s==="*"?f.multiply(h):f.divide(h);if(g.isNaN())return am;t=t.replace(DF,g.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var y,x=(y=LF.exec(t))!==null&&y!==void 0?y:[],T=LS(x,4),E=T[1],C=T[2],O=T[3],A=A1.parse(E??""),M=A1.parse(O??""),I=C==="+"?A.add(M):A.subtract(M);if(I.isNaN())return am;t=t.replace(LF,I.toString())}return t}var jF=/\(([^()]*)\)/;function t4e(e){for(var t=e;t.includes("(");){var n=jF.exec(t),r=LS(n,2),i=r[1];t=t.replace(jF,KY(i))}return t}function n4e(e){var t=e.replace(/\s+/g,"");return t=t4e(t),t=KY(t),t}function r4e(e){try{return n4e(e)}catch{return am}}function eO(e){var t=r4e(e.slice(5,-1));return t===am?"":t}var i4e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],o4e=["dx","dy","angle","className","breakAll"];function UA(){return UA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UA.apply(this,arguments)}function NF(e,t){if(e==null)return{};var n=a4e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function a4e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function zF(e,t){return u4e(e)||c4e(e,t)||l4e(e,t)||s4e()}function s4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l4e(e,t){if(e){if(typeof e=="string")return BF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BF(e,t)}}function BF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c4e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function u4e(e){if(Array.isArray(e))return e}var ZY=/[ \f\n\r\t\v\u2028\u2029]+/,XY=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var o=[];Gn(n)||(r?o=n.toString().split(""):o=n.toString().split(ZY));var s=o.map(function(f){return{word:f,width:x0(f,i).width}}),a=r?0:x0("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},d4e=function(t,n,r,i,o){var s=t.maxLines,a=t.children,f=t.style,h=t.breakAll,g=Et(s),y=a,x=function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ce.reduce(function(ue,xe){var le=xe.word,Pe=xe.width,je=ue[ue.length-1];if(je&&(i==null||o||je.width+Pe+r<Number(i)))je.words.push(le),je.width+=Pe+r;else{var Qe={words:[le],width:Pe};ue.push(Qe)}return ue},[])},T=x(n),E=function(ce){return ce.reduce(function(ue,xe){return ue.width>xe.width?ue:xe})};if(!g)return T;for(var C="",O=function(ce){var ue=y.slice(0,ce),xe=XY({breakAll:h,style:f,children:ue+C}).wordsWithComputedWidth,le=x(xe),Pe=le.length>s||E(le).width>Number(i);return[Pe,le]},A=0,M=y.length-1,I=0,N;A<=M&&I<=y.length-1;){var $=Math.floor((A+M)/2),D=$-1,F=O(D),q=zF(F,2),X=q[0],J=q[1],ie=O($),ge=zF(ie,1),Ce=ge[0];if(!X&&!Ce&&(A=$+1),X&&Ce&&(M=$-1),!X&&Ce){N=J;break}I++}return N||T},FF=function(t){var n=Gn(t)?[]:t.toString().split(ZY);return[{words:n}]},f4e=function(t){var n=t.width,r=t.scaleToFit,i=t.children,o=t.style,s=t.breakAll,a=t.maxLines;if((n||r)&&!iu.isSsr){var f,h,g=XY({breakAll:s,children:i,style:o});if(g){var y=g.wordsWithComputedWidth,x=g.spaceWidth;f=y,h=x}else return FF(i);return d4e({breakAll:s,children:i,maxLines:a,style:o},f,h,n,r)}return FF(i)},UF="#808080",jS=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,s=t.lineHeight,a=s===void 0?"1em":s,f=t.capHeight,h=f===void 0?"0.71em":f,g=t.scaleToFit,y=g===void 0?!1:g,x=t.textAnchor,T=x===void 0?"start":x,E=t.verticalAnchor,C=E===void 0?"end":E,O=t.fill,A=O===void 0?UF:O,M=NF(t,i4e),I=U.useMemo(function(){return f4e({breakAll:M.breakAll,children:M.children,maxLines:M.maxLines,scaleToFit:y,style:M.style,width:M.width})},[M.breakAll,M.children,M.maxLines,y,M.style,M.width]),N=M.dx,$=M.dy,D=M.angle,F=M.className,q=M.breakAll,X=NF(M,o4e);if(!qi(r)||!qi(o))return null;var J=r+(Et(N)?N:0),ie=o+(Et($)?$:0),ge;switch(C){case"start":ge=eO("calc(".concat(h,")"));break;case"middle":ge=eO("calc(".concat((I.length-1)/2," * -").concat(a," + (").concat(h," / 2))"));break;default:ge=eO("calc(".concat(I.length-1," * -").concat(a,")"));break}var Ce=[];if(y){var fe=I[0].width,ce=M.width;Ce.push("scale(".concat((Et(ce)?ce/fe:1)/fe,")"))}return D&&Ce.push("rotate(".concat(D,", ").concat(J,", ").concat(ie,")")),Ce.length&&(X.transform=Ce.join(" ")),Ee.createElement("text",UA({},Un(X,!0),{x:J,y:ie,className:at("recharts-text",F),textAnchor:T,fill:A.includes("url")?UF:A}),I.map(function(ue,xe){var le=ue.words.join(q?"":" ");return Ee.createElement("tspan",{x:J,dy:xe===0?ge:a,key:le},le)}))};function Rd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function h4e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function JY(e){let t,n,r;e.length!==2?(t=Rd,n=(a,f)=>Rd(e(a),f),r=(a,f)=>e(a)-f):(t=e===Rd||e===h4e?e:p4e,n=e,r=e);function i(a,f,h=0,g=a.length){if(h<g){if(t(f,f)!==0)return g;do{const y=h+g>>>1;n(a[y],f)<0?h=y+1:g=y}while(h<g)}return h}function o(a,f,h=0,g=a.length){if(h<g){if(t(f,f)!==0)return g;do{const y=h+g>>>1;n(a[y],f)<=0?h=y+1:g=y}while(h<g)}return h}function s(a,f,h=0,g=a.length){const y=i(a,f,h,g-1);return y>h&&r(a[y-1],f)>-r(a[y],f)?y-1:y}return{left:i,center:s,right:o}}function p4e(){return 0}function QY(e){return e===null?NaN:+e}function*m4e(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const g4e=JY(Rd),Cb=g4e.right;JY(QY).center;class VF extends Map{constructor(t,n=x4e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(WF(this,t))}has(t){return super.has(WF(this,t))}set(t,n){return super.set(y4e(this,t),n)}delete(t){return super.delete(v4e(this,t))}}function WF({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function y4e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function v4e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function x4e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function b4e(e=Rd){if(e===Rd)return eK;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function eK(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const _4e=Math.sqrt(50),w4e=Math.sqrt(10),S4e=Math.sqrt(2);function NS(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=_4e?10:o>=w4e?5:o>=S4e?2:1;let a,f,h;return i<0?(h=Math.pow(10,-i)/s,a=Math.round(e*h),f=Math.round(t*h),a/h<e&&++a,f/h>t&&--f,h=-h):(h=Math.pow(10,i)*s,a=Math.round(e/h),f=Math.round(t/h),a*h<e&&++a,f*h>t&&--f),f<a&&.5<=n&&n<2?NS(e,t,n*2):[a,f,h]}function VA(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?NS(t,e,n):NS(e,t,n);if(!(o>=i))return[];const a=o-i+1,f=new Array(a);if(r)if(s<0)for(let h=0;h<a;++h)f[h]=(o-h)/-s;else for(let h=0;h<a;++h)f[h]=(o-h)*s;else if(s<0)for(let h=0;h<a;++h)f[h]=(i+h)/-s;else for(let h=0;h<a;++h)f[h]=(i+h)*s;return f}function WA(e,t,n){return t=+t,e=+e,n=+n,NS(e,t,n)[2]}function C4e(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?WA(t,e,n):WA(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function qF(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function HF(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function tK(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?eK:b4e(i);r>n;){if(r-n>600){const f=r-n+1,h=t-n+1,g=Math.log(f),y=.5*Math.exp(2*g/3),x=.5*Math.sqrt(g*y*(f-y)/f)*(h-f/2<0?-1:1),T=Math.max(n,Math.floor(t-h*y/f+x)),E=Math.min(r,Math.floor(t+(f-h)*y/f+x));tK(e,t,T,E,i)}const o=e[t];let s=n,a=r;for(Iv(e,n,t),i(e[r],o)>0&&Iv(e,n,r);s<a;){for(Iv(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?Iv(e,n,a):(++a,Iv(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function Iv(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function k4e(e,t,n){if(e=Float64Array.from(m4e(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return HF(e);if(t>=1)return qF(e);var r,i=(r-1)*t,o=Math.floor(i),s=qF(tK(e,o).subarray(0,o+1)),a=HF(e.subarray(o+1));return s+(a-s)*(i-o)}}function T4e(e,t,n=QY){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function P4e(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Ks(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Mu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const qA=Symbol("implicit");function PL(){var e=new VF,t=[],n=[],r=qA;function i(o){let s=e.get(o);if(s===void 0){if(r!==qA)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new VF;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return PL(t,n).unknown(r)},Ks.apply(i,arguments),i}function gx(){var e=PL().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,a=!1,f=0,h=0,g=.5;delete e.unknown;function y(){var x=t().length,T=i<r,E=T?i:r,C=T?r:i;o=(C-E)/Math.max(1,x-f+h*2),a&&(o=Math.floor(o)),E+=(C-E-o*(x-f))*g,s=o*(1-f),a&&(E=Math.round(E),s=Math.round(s));var O=P4e(x).map(function(A){return E+o*A});return n(T?O.reverse():O)}return e.domain=function(x){return arguments.length?(t(x),y()):t()},e.range=function(x){return arguments.length?([r,i]=x,r=+r,i=+i,y()):[r,i]},e.rangeRound=function(x){return[r,i]=x,r=+r,i=+i,a=!0,y()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(x){return arguments.length?(a=!!x,y()):a},e.padding=function(x){return arguments.length?(f=Math.min(1,h=+x),y()):f},e.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),y()):f},e.paddingOuter=function(x){return arguments.length?(h=+x,y()):h},e.align=function(x){return arguments.length?(g=Math.max(0,Math.min(1,x)),y()):g},e.copy=function(){return gx(t(),[r,i]).round(a).paddingInner(f).paddingOuter(h).align(g)},Ks.apply(y(),arguments)}function nK(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return nK(t())},e}function b0(){return nK(gx.apply(null,arguments).paddingInner(1))}function EL(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function rK(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function kb(){}var yx=.7,zS=1/yx,Tm="\\s*([+-]?\\d+)\\s*",vx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",E4e=/^#([0-9a-f]{3,8})$/,O4e=new RegExp(`^rgb\\(${Tm},${Tm},${Tm}\\)$`),M4e=new RegExp(`^rgb\\(${sc},${sc},${sc}\\)$`),A4e=new RegExp(`^rgba\\(${Tm},${Tm},${Tm},${vx}\\)$`),I4e=new RegExp(`^rgba\\(${sc},${sc},${sc},${vx}\\)$`),$4e=new RegExp(`^hsl\\(${vx},${sc},${sc}\\)$`),R4e=new RegExp(`^hsla\\(${vx},${sc},${sc},${vx}\\)$`),GF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};EL(kb,xx,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:YF,formatHex:YF,formatHex8:D4e,formatHsl:L4e,formatRgb:KF,toString:KF});function YF(){return this.rgb().formatHex()}function D4e(){return this.rgb().formatHex8()}function L4e(){return iK(this).formatHsl()}function KF(){return this.rgb().formatRgb()}function xx(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=E4e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ZF(t):n===3?new Pa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?I1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?I1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=O4e.exec(e))?new Pa(t[1],t[2],t[3],1):(t=M4e.exec(e))?new Pa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=A4e.exec(e))?I1(t[1],t[2],t[3],t[4]):(t=I4e.exec(e))?I1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$4e.exec(e))?QF(t[1],t[2]/100,t[3]/100,1):(t=R4e.exec(e))?QF(t[1],t[2]/100,t[3]/100,t[4]):GF.hasOwnProperty(e)?ZF(GF[e]):e==="transparent"?new Pa(NaN,NaN,NaN,0):null}function ZF(e){return new Pa(e>>16&255,e>>8&255,e&255,1)}function I1(e,t,n,r){return r<=0&&(e=t=n=NaN),new Pa(e,t,n,r)}function j4e(e){return e instanceof kb||(e=xx(e)),e?(e=e.rgb(),new Pa(e.r,e.g,e.b,e.opacity)):new Pa}function HA(e,t,n,r){return arguments.length===1?j4e(e):new Pa(e,t,n,r??1)}function Pa(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}EL(Pa,HA,rK(kb,{brighter(e){return e=e==null?zS:Math.pow(zS,e),new Pa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?yx:Math.pow(yx,e),new Pa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Pa(ih(this.r),ih(this.g),ih(this.b),BS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XF,formatHex:XF,formatHex8:N4e,formatRgb:JF,toString:JF}));function XF(){return`#${Yf(this.r)}${Yf(this.g)}${Yf(this.b)}`}function N4e(){return`#${Yf(this.r)}${Yf(this.g)}${Yf(this.b)}${Yf((isNaN(this.opacity)?1:this.opacity)*255)}`}function JF(){const e=BS(this.opacity);return`${e===1?"rgb(":"rgba("}${ih(this.r)}, ${ih(this.g)}, ${ih(this.b)}${e===1?")":`, ${e})`}`}function BS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ih(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yf(e){return e=ih(e),(e<16?"0":"")+e.toString(16)}function QF(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xl(e,t,n,r)}function iK(e){if(e instanceof xl)return new xl(e.h,e.s,e.l,e.opacity);if(e instanceof kb||(e=xx(e)),!e)return new xl;if(e instanceof xl)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,f=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=f<.5?o+i:2-o-i,s*=60):a=f>0&&f<1?0:s,new xl(s,a,f,e.opacity)}function z4e(e,t,n,r){return arguments.length===1?iK(e):new xl(e,t,n,r??1)}function xl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}EL(xl,z4e,rK(kb,{brighter(e){return e=e==null?zS:Math.pow(zS,e),new xl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?yx:Math.pow(yx,e),new xl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Pa(tO(e>=240?e-240:e+120,i,r),tO(e,i,r),tO(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new xl(e6(this.h),$1(this.s),$1(this.l),BS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=BS(this.opacity);return`${e===1?"hsl(":"hsla("}${e6(this.h)}, ${$1(this.s)*100}%, ${$1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function e6(e){return e=(e||0)%360,e<0?e+360:e}function $1(e){return Math.max(0,Math.min(1,e||0))}function tO(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const OL=e=>()=>e;function B4e(e,t){return function(n){return e+n*t}}function F4e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function U4e(e){return(e=+e)==1?oK:function(t,n){return n-t?F4e(t,n,e):OL(isNaN(t)?n:t)}}function oK(e,t){var n=t-e;return n?B4e(e,n):OL(isNaN(e)?t:e)}const t6=function e(t){var n=U4e(t);function r(i,o){var s=n((i=HA(i)).r,(o=HA(o)).r),a=n(i.g,o.g),f=n(i.b,o.b),h=oK(i.opacity,o.opacity);return function(g){return i.r=s(g),i.g=a(g),i.b=f(g),i.opacity=h(g),i+""}}return r.gamma=e,r}(1);function V4e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function W4e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function q4e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=qg(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function H4e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function FS(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function G4e(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=qg(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var GA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nO=new RegExp(GA.source,"g");function Y4e(e){return function(){return e}}function K4e(e){return function(t){return e(t)+""}}function Z4e(e,t){var n=GA.lastIndex=nO.lastIndex=0,r,i,o,s=-1,a=[],f=[];for(e=e+"",t=t+"";(r=GA.exec(e))&&(i=nO.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,f.push({i:s,x:FS(r,i)})),n=nO.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?f[0]?K4e(f[0].x):Y4e(t):(t=f.length,function(h){for(var g=0,y;g<t;++g)a[(y=f[g]).i]=y.x(h);return a.join("")})}function qg(e,t){var n=typeof t,r;return t==null||n==="boolean"?OL(t):(n==="number"?FS:n==="string"?(r=xx(t))?(t=r,t6):Z4e:t instanceof xx?t6:t instanceof Date?H4e:W4e(t)?V4e:Array.isArray(t)?q4e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?G4e:FS)(e,t)}function ML(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function X4e(e,t){t===void 0&&(t=e,e=qg);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function J4e(e){return function(){return e}}function US(e){return+e}var n6=[0,1];function aa(e){return e}function YA(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:J4e(isNaN(t)?NaN:.5)}function Q4e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function eFe(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=YA(i,r),o=n(s,o)):(r=YA(r,i),o=n(o,s)),function(a){return o(r(a))}}function tFe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=YA(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var f=Cb(e,a,1,r)-1;return o[f](i[f](a))}}function Tb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ak(){var e=n6,t=n6,n=qg,r,i,o,s=aa,a,f,h;function g(){var x=Math.min(e.length,t.length);return s!==aa&&(s=Q4e(e[0],e[x-1])),a=x>2?tFe:eFe,f=h=null,y}function y(x){return x==null||isNaN(x=+x)?o:(f||(f=a(e.map(r),t,n)))(r(s(x)))}return y.invert=function(x){return s(i((h||(h=a(t,e.map(r),FS)))(x)))},y.domain=function(x){return arguments.length?(e=Array.from(x,US),g()):e.slice()},y.range=function(x){return arguments.length?(t=Array.from(x),g()):t.slice()},y.rangeRound=function(x){return t=Array.from(x),n=ML,g()},y.clamp=function(x){return arguments.length?(s=x?!0:aa,g()):s!==aa},y.interpolate=function(x){return arguments.length?(n=x,g()):n},y.unknown=function(x){return arguments.length?(o=x,y):o},function(x,T){return r=x,i=T,g()}}function AL(){return Ak()(aa,aa)}function nFe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function VS(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function og(e){return e=VS(Math.abs(e)),e?e[1]:NaN}function rFe(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],f=0;i>0&&a>0&&(f+a+1>r&&(a=Math.max(1,r-f)),o.push(n.substring(i-=a,i+a)),!((f+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function iFe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var oFe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bx(e){if(!(t=oFe.exec(e)))throw new Error("invalid format: "+e);var t;return new IL({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}bx.prototype=IL.prototype;function IL(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}IL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function aFe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var aK;function sFe(e,t){var n=VS(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(aK=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+VS(e,Math.max(0,t+o-1))[0]}function r6(e,t){var n=VS(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const i6={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:nFe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>r6(e*100,t),r:r6,s:sFe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function o6(e){return e}var a6=Array.prototype.map,s6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function lFe(e){var t=e.grouping===void 0||e.thousands===void 0?o6:rFe(a6.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?o6:iFe(a6.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function h(y){y=bx(y);var x=y.fill,T=y.align,E=y.sign,C=y.symbol,O=y.zero,A=y.width,M=y.comma,I=y.precision,N=y.trim,$=y.type;$==="n"?(M=!0,$="g"):i6[$]||(I===void 0&&(I=12),N=!0,$="g"),(O||x==="0"&&T==="=")&&(O=!0,x="0",T="=");var D=C==="$"?n:C==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",F=C==="$"?r:/[%p]/.test($)?s:"",q=i6[$],X=/[defgprs%]/.test($);I=I===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function J(ie){var ge=D,Ce=F,fe,ce,ue;if($==="c")Ce=q(ie)+Ce,ie="";else{ie=+ie;var xe=ie<0||1/ie<0;if(ie=isNaN(ie)?f:q(Math.abs(ie),I),N&&(ie=aFe(ie)),xe&&+ie==0&&E!=="+"&&(xe=!1),ge=(xe?E==="("?E:a:E==="-"||E==="("?"":E)+ge,Ce=($==="s"?s6[8+aK/3]:"")+Ce+(xe&&E==="("?")":""),X){for(fe=-1,ce=ie.length;++fe<ce;)if(ue=ie.charCodeAt(fe),48>ue||ue>57){Ce=(ue===46?i+ie.slice(fe+1):ie.slice(fe))+Ce,ie=ie.slice(0,fe);break}}}M&&!O&&(ie=t(ie,1/0));var le=ge.length+ie.length+Ce.length,Pe=le<A?new Array(A-le+1).join(x):"";switch(M&&O&&(ie=t(Pe+ie,Pe.length?A-Ce.length:1/0),Pe=""),T){case"<":ie=ge+ie+Ce+Pe;break;case"=":ie=ge+Pe+ie+Ce;break;case"^":ie=Pe.slice(0,le=Pe.length>>1)+ge+ie+Ce+Pe.slice(le);break;default:ie=Pe+ge+ie+Ce;break}return o(ie)}return J.toString=function(){return y+""},J}function g(y,x){var T=h((y=bx(y),y.type="f",y)),E=Math.max(-8,Math.min(8,Math.floor(og(x)/3)))*3,C=Math.pow(10,-E),O=s6[8+E/3];return function(A){return T(C*A)+O}}return{format:h,formatPrefix:g}}var R1,$L,sK;cFe({thousands:",",grouping:[3],currency:["$",""]});function cFe(e){return R1=lFe(e),$L=R1.format,sK=R1.formatPrefix,R1}function uFe(e){return Math.max(0,-og(Math.abs(e)))}function dFe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(og(t)/3)))*3-og(Math.abs(e)))}function fFe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,og(t)-og(e))+1}function lK(e,t,n,r){var i=C4e(e,t,n),o;switch(r=bx(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=dFe(i,s))&&(r.precision=o),sK(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=fFe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=uFe(i))&&(r.precision=o-(r.type==="%")*2);break}}return $L(r)}function ef(e){var t=e.domain;return e.ticks=function(n){var r=t();return VA(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return lK(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],f,h,g=10;for(a<s&&(h=s,s=a,a=h,h=i,i=o,o=h);g-- >0;){if(h=WA(s,a,n),h===f)return r[i]=s,r[o]=a,t(r);if(h>0)s=Math.floor(s/h)*h,a=Math.ceil(a/h)*h;else if(h<0)s=Math.ceil(s*h)/h,a=Math.floor(a*h)/h;else break;f=h}return e},e}function WS(){var e=AL();return e.copy=function(){return Tb(e,WS())},Ks.apply(e,arguments),ef(e)}function cK(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,US),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return cK(e).unknown(t)},e=arguments.length?Array.from(e,US):[0,1],ef(n)}function uK(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function l6(e){return Math.log(e)}function c6(e){return Math.exp(e)}function hFe(e){return-Math.log(-e)}function pFe(e){return-Math.exp(-e)}function mFe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function gFe(e){return e===10?mFe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function yFe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function u6(e){return(t,n)=>-e(-t,n)}function RL(e){const t=e(l6,c6),n=t.domain;let r=10,i,o;function s(){return i=yFe(r),o=gFe(r),n()[0]<0?(i=u6(i),o=u6(o),e(hFe,pFe)):e(l6,c6),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{const f=n();let h=f[0],g=f[f.length-1];const y=g<h;y&&([h,g]=[g,h]);let x=i(h),T=i(g),E,C;const O=a==null?10:+a;let A=[];if(!(r%1)&&T-x<O){if(x=Math.floor(x),T=Math.ceil(T),h>0){for(;x<=T;++x)for(E=1;E<r;++E)if(C=x<0?E/o(-x):E*o(x),!(C<h)){if(C>g)break;A.push(C)}}else for(;x<=T;++x)for(E=r-1;E>=1;--E)if(C=x>0?E/o(-x):E*o(x),!(C<h)){if(C>g)break;A.push(C)}A.length*2<O&&(A=VA(h,g,O))}else A=VA(x,T,Math.min(T-x,O)).map(o);return y?A.reverse():A},t.tickFormat=(a,f)=>{if(a==null&&(a=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=bx(f)).precision==null&&(f.trim=!0),f=$L(f)),a===1/0)return f;const h=Math.max(1,r*a/t.ticks().length);return g=>{let y=g/o(Math.round(i(g)));return y*r<r-.5&&(y*=r),y<=h?f(g):""}},t.nice=()=>n(uK(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function dK(){const e=RL(Ak()).domain([1,10]);return e.copy=()=>Tb(e,dK()).base(e.base()),Ks.apply(e,arguments),e}function d6(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function f6(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function DL(e){var t=1,n=e(d6(t),f6(t));return n.constant=function(r){return arguments.length?e(d6(t=+r),f6(t)):t},ef(n)}function fK(){var e=DL(Ak());return e.copy=function(){return Tb(e,fK()).constant(e.constant())},Ks.apply(e,arguments)}function h6(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function vFe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function xFe(e){return e<0?-e*e:e*e}function LL(e){var t=e(aa,aa),n=1;function r(){return n===1?e(aa,aa):n===.5?e(vFe,xFe):e(h6(n),h6(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ef(t)}function jL(){var e=LL(Ak());return e.copy=function(){return Tb(e,jL()).exponent(e.exponent())},Ks.apply(e,arguments),e}function bFe(){return jL.apply(null,arguments).exponent(.5)}function p6(e){return Math.sign(e)*e*e}function _Fe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function hK(){var e=AL(),t=[0,1],n=!1,r;function i(o){var s=_Fe(e(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return e.invert(p6(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,US)).map(p6)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return hK(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ks.apply(i,arguments),ef(i)}function pK(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=T4e(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[Cb(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Rd),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return pK().domain(e).range(t).unknown(r)},Ks.apply(o,arguments)}function mK(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(f){return f!=null&&f<=f?i[Cb(r,f,0,n)]:o}function a(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return s}return s.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,a()):[e,t]},s.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,a()):i.slice()},s.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[e,r[0]]:h>=n?[r[n-1],t]:[r[h-1],r[h]]},s.unknown=function(f){return arguments.length&&(o=f),s},s.thresholds=function(){return r.slice()},s.copy=function(){return mK().domain([e,t]).range(i).unknown(o)},Ks.apply(ef(s),arguments)}function gK(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Cb(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return gK().domain(e).range(t).unknown(n)},Ks.apply(i,arguments)}const rO=new Date,iO=new Date;function Yi(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const f=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return f;let h;do f.push(h=new Date(+o)),t(o,a),e(o);while(h<o&&o<s);return f},i.filter=o=>Yi(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(rO.setTime(+o),iO.setTime(+s),e(rO),e(iO),Math.floor(n(rO,iO))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const qS=Yi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);qS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yi(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):qS);qS.range;const Zc=1e3,Ms=Zc*60,Xc=Ms*60,yu=Xc*24,NL=yu*7,m6=yu*30,oO=yu*365,Kf=Yi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Zc)},(e,t)=>(t-e)/Zc,e=>e.getUTCSeconds());Kf.range;const zL=Yi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zc)},(e,t)=>{e.setTime(+e+t*Ms)},(e,t)=>(t-e)/Ms,e=>e.getMinutes());zL.range;const BL=Yi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ms)},(e,t)=>(t-e)/Ms,e=>e.getUTCMinutes());BL.range;const FL=Yi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zc-e.getMinutes()*Ms)},(e,t)=>{e.setTime(+e+t*Xc)},(e,t)=>(t-e)/Xc,e=>e.getHours());FL.range;const UL=Yi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Xc)},(e,t)=>(t-e)/Xc,e=>e.getUTCHours());UL.range;const Pb=Yi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ms)/yu,e=>e.getDate()-1);Pb.range;const Ik=Yi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yu,e=>e.getUTCDate()-1);Ik.range;const yK=Yi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yu,e=>Math.floor(e/yu));yK.range;function Mh(e){return Yi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ms)/NL)}const $k=Mh(0),HS=Mh(1),wFe=Mh(2),SFe=Mh(3),ag=Mh(4),CFe=Mh(5),kFe=Mh(6);$k.range;HS.range;wFe.range;SFe.range;ag.range;CFe.range;kFe.range;function Ah(e){return Yi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/NL)}const Rk=Ah(0),GS=Ah(1),TFe=Ah(2),PFe=Ah(3),sg=Ah(4),EFe=Ah(5),OFe=Ah(6);Rk.range;GS.range;TFe.range;PFe.range;sg.range;EFe.range;OFe.range;const VL=Yi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());VL.range;const WL=Yi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());WL.range;const vu=Yi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());vu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});vu.range;const xu=Yi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());xu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});xu.range;function aO(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function MFe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function AFe(e){let t,n,r;e.length!==2?(t=aO,n=(a,f)=>aO(e(a),f),r=(a,f)=>e(a)-f):(t=e===aO||e===MFe?e:IFe,n=e,r=e);function i(a,f,h=0,g=a.length){if(h<g){if(t(f,f)!==0)return g;do{const y=h+g>>>1;n(a[y],f)<0?h=y+1:g=y}while(h<g)}return h}function o(a,f,h=0,g=a.length){if(h<g){if(t(f,f)!==0)return g;do{const y=h+g>>>1;n(a[y],f)<=0?h=y+1:g=y}while(h<g)}return h}function s(a,f,h=0,g=a.length){const y=i(a,f,h,g-1);return y>h&&r(a[y-1],f)>-r(a[y],f)?y-1:y}return{left:i,center:s,right:o}}function IFe(){return 0}const $Fe=Math.sqrt(50),RFe=Math.sqrt(10),DFe=Math.sqrt(2);function vK(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=$Fe?10:o>=RFe?5:o>=DFe?2:1;let a,f,h;return i<0?(h=Math.pow(10,-i)/s,a=Math.round(e*h),f=Math.round(t*h),a/h<e&&++a,f/h>t&&--f,h=-h):(h=Math.pow(10,i)*s,a=Math.round(e/h),f=Math.round(t/h),a*h<e&&++a,f*h>t&&--f),f<a&&.5<=n&&n<2?vK(e,t,n*2):[a,f,h]}function g6(e,t,n){return t=+t,e=+e,n=+n,vK(e,t,n)[2]}function y6(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?g6(t,e,n):g6(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function xK(e,t,n,r,i,o){const s=[[Kf,1,Zc],[Kf,5,5*Zc],[Kf,15,15*Zc],[Kf,30,30*Zc],[o,1,Ms],[o,5,5*Ms],[o,15,15*Ms],[o,30,30*Ms],[i,1,Xc],[i,3,3*Xc],[i,6,6*Xc],[i,12,12*Xc],[r,1,yu],[r,2,2*yu],[n,1,NL],[t,1,m6],[t,3,3*m6],[e,1,oO]];function a(h,g,y){const x=g<h;x&&([h,g]=[g,h]);const T=y&&typeof y.range=="function"?y:f(h,g,y),E=T?T.range(h,+g+1):[];return x?E.reverse():E}function f(h,g,y){const x=Math.abs(g-h)/y,T=AFe(([,,O])=>O).right(s,x);if(T===s.length)return e.every(y6(h/oO,g/oO,y));if(T===0)return qS.every(Math.max(y6(h,g,y),1));const[E,C]=s[x/s[T-1][2]<s[T][2]/x?T-1:T];return E.every(C)}return[a,f]}const[LFe,jFe]=xK(xu,WL,Rk,yK,UL,BL),[NFe,zFe]=xK(vu,VL,$k,Pb,FL,zL);function sO(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function lO(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $v(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function BFe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,f=e.shortMonths,h=Rv(i),g=Dv(i),y=Rv(o),x=Dv(o),T=Rv(s),E=Dv(s),C=Rv(a),O=Dv(a),A=Rv(f),M=Dv(f),I={a:xe,A:le,b:Pe,B:je,c:null,d:S6,e:S6,f:c6e,g:x6e,G:_6e,H:a6e,I:s6e,j:l6e,L:bK,m:u6e,M:d6e,p:Qe,q:We,Q:T6,s:P6,S:f6e,u:h6e,U:p6e,V:m6e,w:g6e,W:y6e,x:null,X:null,y:v6e,Y:b6e,Z:w6e,"%":k6},N={a:Ke,A:nt,b:mt,B:st,c:null,d:C6,e:C6,f:T6e,g:L6e,G:N6e,H:S6e,I:C6e,j:k6e,L:wK,m:P6e,M:E6e,p:Nt,q:Mt,Q:T6,s:P6,S:O6e,u:M6e,U:A6e,V:I6e,w:$6e,W:R6e,x:null,X:null,y:D6e,Y:j6e,Z:z6e,"%":k6},$={a:J,A:ie,b:ge,B:Ce,c:fe,d:_6,e:_6,f:n6e,g:b6,G:x6,H:w6,I:w6,j:JFe,L:t6e,m:XFe,M:QFe,p:X,q:ZFe,Q:i6e,s:o6e,S:e6e,u:qFe,U:HFe,V:GFe,w:WFe,W:YFe,x:ce,X:ue,y:b6,Y:x6,Z:KFe,"%":r6e};I.x=D(n,I),I.X=D(r,I),I.c=D(t,I),N.x=D(n,N),N.X=D(r,N),N.c=D(t,N);function D(He,ct){return function(ut){var Ve=[],Tt=-1,Pt=0,Vt=He.length,gn,bn,_n;for(ut instanceof Date||(ut=new Date(+ut));++Tt<Vt;)He.charCodeAt(Tt)===37&&(Ve.push(He.slice(Pt,Tt)),(bn=v6[gn=He.charAt(++Tt)])!=null?gn=He.charAt(++Tt):bn=gn==="e"?" ":"0",(_n=ct[gn])&&(gn=_n(ut,bn)),Ve.push(gn),Pt=Tt+1);return Ve.push(He.slice(Pt,Tt)),Ve.join("")}}function F(He,ct){return function(ut){var Ve=$v(1900,void 0,1),Tt=q(Ve,He,ut+="",0),Pt,Vt;if(Tt!=ut.length)return null;if("Q"in Ve)return new Date(Ve.Q);if("s"in Ve)return new Date(Ve.s*1e3+("L"in Ve?Ve.L:0));if(ct&&!("Z"in Ve)&&(Ve.Z=0),"p"in Ve&&(Ve.H=Ve.H%12+Ve.p*12),Ve.m===void 0&&(Ve.m="q"in Ve?Ve.q:0),"V"in Ve){if(Ve.V<1||Ve.V>53)return null;"w"in Ve||(Ve.w=1),"Z"in Ve?(Pt=lO($v(Ve.y,0,1)),Vt=Pt.getUTCDay(),Pt=Vt>4||Vt===0?GS.ceil(Pt):GS(Pt),Pt=Ik.offset(Pt,(Ve.V-1)*7),Ve.y=Pt.getUTCFullYear(),Ve.m=Pt.getUTCMonth(),Ve.d=Pt.getUTCDate()+(Ve.w+6)%7):(Pt=sO($v(Ve.y,0,1)),Vt=Pt.getDay(),Pt=Vt>4||Vt===0?HS.ceil(Pt):HS(Pt),Pt=Pb.offset(Pt,(Ve.V-1)*7),Ve.y=Pt.getFullYear(),Ve.m=Pt.getMonth(),Ve.d=Pt.getDate()+(Ve.w+6)%7)}else("W"in Ve||"U"in Ve)&&("w"in Ve||(Ve.w="u"in Ve?Ve.u%7:"W"in Ve?1:0),Vt="Z"in Ve?lO($v(Ve.y,0,1)).getUTCDay():sO($v(Ve.y,0,1)).getDay(),Ve.m=0,Ve.d="W"in Ve?(Ve.w+6)%7+Ve.W*7-(Vt+5)%7:Ve.w+Ve.U*7-(Vt+6)%7);return"Z"in Ve?(Ve.H+=Ve.Z/100|0,Ve.M+=Ve.Z%100,lO(Ve)):sO(Ve)}}function q(He,ct,ut,Ve){for(var Tt=0,Pt=ct.length,Vt=ut.length,gn,bn;Tt<Pt;){if(Ve>=Vt)return-1;if(gn=ct.charCodeAt(Tt++),gn===37){if(gn=ct.charAt(Tt++),bn=$[gn in v6?ct.charAt(Tt++):gn],!bn||(Ve=bn(He,ut,Ve))<0)return-1}else if(gn!=ut.charCodeAt(Ve++))return-1}return Ve}function X(He,ct,ut){var Ve=h.exec(ct.slice(ut));return Ve?(He.p=g.get(Ve[0].toLowerCase()),ut+Ve[0].length):-1}function J(He,ct,ut){var Ve=T.exec(ct.slice(ut));return Ve?(He.w=E.get(Ve[0].toLowerCase()),ut+Ve[0].length):-1}function ie(He,ct,ut){var Ve=y.exec(ct.slice(ut));return Ve?(He.w=x.get(Ve[0].toLowerCase()),ut+Ve[0].length):-1}function ge(He,ct,ut){var Ve=A.exec(ct.slice(ut));return Ve?(He.m=M.get(Ve[0].toLowerCase()),ut+Ve[0].length):-1}function Ce(He,ct,ut){var Ve=C.exec(ct.slice(ut));return Ve?(He.m=O.get(Ve[0].toLowerCase()),ut+Ve[0].length):-1}function fe(He,ct,ut){return q(He,t,ct,ut)}function ce(He,ct,ut){return q(He,n,ct,ut)}function ue(He,ct,ut){return q(He,r,ct,ut)}function xe(He){return s[He.getDay()]}function le(He){return o[He.getDay()]}function Pe(He){return f[He.getMonth()]}function je(He){return a[He.getMonth()]}function Qe(He){return i[+(He.getHours()>=12)]}function We(He){return 1+~~(He.getMonth()/3)}function Ke(He){return s[He.getUTCDay()]}function nt(He){return o[He.getUTCDay()]}function mt(He){return f[He.getUTCMonth()]}function st(He){return a[He.getUTCMonth()]}function Nt(He){return i[+(He.getUTCHours()>=12)]}function Mt(He){return 1+~~(He.getUTCMonth()/3)}return{format:function(He){var ct=D(He+="",I);return ct.toString=function(){return He},ct},parse:function(He){var ct=F(He+="",!1);return ct.toString=function(){return He},ct},utcFormat:function(He){var ct=D(He+="",N);return ct.toString=function(){return He},ct},utcParse:function(He){var ct=F(He+="",!0);return ct.toString=function(){return He},ct}}}var v6={"-":"",_:" ",0:"0"},ao=/^\s*\d+/,FFe=/^%/,UFe=/[\\^$*+?|[\]().{}]/g;function tr(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function VFe(e){return e.replace(UFe,"\\$&")}function Rv(e){return new RegExp("^(?:"+e.map(VFe).join("|")+")","i")}function Dv(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function WFe(e,t,n){var r=ao.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function qFe(e,t,n){var r=ao.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function HFe(e,t,n){var r=ao.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function GFe(e,t,n){var r=ao.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function YFe(e,t,n){var r=ao.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function x6(e,t,n){var r=ao.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function b6(e,t,n){var r=ao.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function KFe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ZFe(e,t,n){var r=ao.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function XFe(e,t,n){var r=ao.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function _6(e,t,n){var r=ao.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function JFe(e,t,n){var r=ao.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function w6(e,t,n){var r=ao.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function QFe(e,t,n){var r=ao.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function e6e(e,t,n){var r=ao.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function t6e(e,t,n){var r=ao.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function n6e(e,t,n){var r=ao.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function r6e(e,t,n){var r=FFe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function i6e(e,t,n){var r=ao.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function o6e(e,t,n){var r=ao.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function S6(e,t){return tr(e.getDate(),t,2)}function a6e(e,t){return tr(e.getHours(),t,2)}function s6e(e,t){return tr(e.getHours()%12||12,t,2)}function l6e(e,t){return tr(1+Pb.count(vu(e),e),t,3)}function bK(e,t){return tr(e.getMilliseconds(),t,3)}function c6e(e,t){return bK(e,t)+"000"}function u6e(e,t){return tr(e.getMonth()+1,t,2)}function d6e(e,t){return tr(e.getMinutes(),t,2)}function f6e(e,t){return tr(e.getSeconds(),t,2)}function h6e(e){var t=e.getDay();return t===0?7:t}function p6e(e,t){return tr($k.count(vu(e)-1,e),t,2)}function _K(e){var t=e.getDay();return t>=4||t===0?ag(e):ag.ceil(e)}function m6e(e,t){return e=_K(e),tr(ag.count(vu(e),e)+(vu(e).getDay()===4),t,2)}function g6e(e){return e.getDay()}function y6e(e,t){return tr(HS.count(vu(e)-1,e),t,2)}function v6e(e,t){return tr(e.getFullYear()%100,t,2)}function x6e(e,t){return e=_K(e),tr(e.getFullYear()%100,t,2)}function b6e(e,t){return tr(e.getFullYear()%1e4,t,4)}function _6e(e,t){var n=e.getDay();return e=n>=4||n===0?ag(e):ag.ceil(e),tr(e.getFullYear()%1e4,t,4)}function w6e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+tr(t/60|0,"0",2)+tr(t%60,"0",2)}function C6(e,t){return tr(e.getUTCDate(),t,2)}function S6e(e,t){return tr(e.getUTCHours(),t,2)}function C6e(e,t){return tr(e.getUTCHours()%12||12,t,2)}function k6e(e,t){return tr(1+Ik.count(xu(e),e),t,3)}function wK(e,t){return tr(e.getUTCMilliseconds(),t,3)}function T6e(e,t){return wK(e,t)+"000"}function P6e(e,t){return tr(e.getUTCMonth()+1,t,2)}function E6e(e,t){return tr(e.getUTCMinutes(),t,2)}function O6e(e,t){return tr(e.getUTCSeconds(),t,2)}function M6e(e){var t=e.getUTCDay();return t===0?7:t}function A6e(e,t){return tr(Rk.count(xu(e)-1,e),t,2)}function SK(e){var t=e.getUTCDay();return t>=4||t===0?sg(e):sg.ceil(e)}function I6e(e,t){return e=SK(e),tr(sg.count(xu(e),e)+(xu(e).getUTCDay()===4),t,2)}function $6e(e){return e.getUTCDay()}function R6e(e,t){return tr(GS.count(xu(e)-1,e),t,2)}function D6e(e,t){return tr(e.getUTCFullYear()%100,t,2)}function L6e(e,t){return e=SK(e),tr(e.getUTCFullYear()%100,t,2)}function j6e(e,t){return tr(e.getUTCFullYear()%1e4,t,4)}function N6e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?sg(e):sg.ceil(e),tr(e.getUTCFullYear()%1e4,t,4)}function z6e(){return"+0000"}function k6(){return"%"}function T6(e){return+e}function P6(e){return Math.floor(+e/1e3)}var Ip,CK,kK;B6e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function B6e(e){return Ip=BFe(e),CK=Ip.format,Ip.parse,kK=Ip.utcFormat,Ip.utcParse,Ip}function F6e(e){return new Date(e)}function U6e(e){return e instanceof Date?+e:+new Date(+e)}function qL(e,t,n,r,i,o,s,a,f,h){var g=AL(),y=g.invert,x=g.domain,T=h(".%L"),E=h(":%S"),C=h("%I:%M"),O=h("%I %p"),A=h("%a %d"),M=h("%b %d"),I=h("%B"),N=h("%Y");function $(D){return(f(D)<D?T:a(D)<D?E:s(D)<D?C:o(D)<D?O:r(D)<D?i(D)<D?A:M:n(D)<D?I:N)(D)}return g.invert=function(D){return new Date(y(D))},g.domain=function(D){return arguments.length?x(Array.from(D,U6e)):x().map(F6e)},g.ticks=function(D){var F=x();return e(F[0],F[F.length-1],D??10)},g.tickFormat=function(D,F){return F==null?$:h(F)},g.nice=function(D){var F=x();return(!D||typeof D.range!="function")&&(D=t(F[0],F[F.length-1],D??10)),D?x(uK(F,D)):g},g.copy=function(){return Tb(g,qL(e,t,n,r,i,o,s,a,f,h))},g}function V6e(){return Ks.apply(qL(NFe,zFe,vu,VL,$k,Pb,FL,zL,Kf,CK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function W6e(){return Ks.apply(qL(LFe,jFe,xu,WL,Rk,Ik,UL,BL,Kf,kK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Dk(){var e=0,t=1,n,r,i,o,s=aa,a=!1,f;function h(y){return y==null||isNaN(y=+y)?f:s(i===0?.5:(y=(o(y)-n)*i,a?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([e,t]=y,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),h):[e,t]},h.clamp=function(y){return arguments.length?(a=!!y,h):a},h.interpolator=function(y){return arguments.length?(s=y,h):s};function g(y){return function(x){var T,E;return arguments.length?([T,E]=x,s=y(T,E),h):[s(0),s(1)]}}return h.range=g(qg),h.rangeRound=g(ML),h.unknown=function(y){return arguments.length?(f=y,h):f},function(y){return o=y,n=y(e),r=y(t),i=n===r?0:1/(r-n),h}}function tf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function TK(){var e=ef(Dk()(aa));return e.copy=function(){return tf(e,TK())},Mu.apply(e,arguments)}function PK(){var e=RL(Dk()).domain([1,10]);return e.copy=function(){return tf(e,PK()).base(e.base())},Mu.apply(e,arguments)}function EK(){var e=DL(Dk());return e.copy=function(){return tf(e,EK()).constant(e.constant())},Mu.apply(e,arguments)}function HL(){var e=LL(Dk());return e.copy=function(){return tf(e,HL()).exponent(e.exponent())},Mu.apply(e,arguments)}function q6e(){return HL.apply(null,arguments).exponent(.5)}function OK(){var e=[],t=aa;function n(r){if(r!=null&&!isNaN(r=+r))return t((Cb(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Rd),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>k4e(e,o/r))},n.copy=function(){return OK(t).domain(e)},Mu.apply(n,arguments)}function Lk(){var e=0,t=.5,n=1,r=1,i,o,s,a,f,h=aa,g,y=!1,x;function T(C){return isNaN(C=+C)?x:(C=.5+((C=+g(C))-o)*(r*C<r*o?a:f),h(y?Math.max(0,Math.min(1,C)):C))}T.domain=function(C){return arguments.length?([e,t,n]=C,i=g(e=+e),o=g(t=+t),s=g(n=+n),a=i===o?0:.5/(o-i),f=o===s?0:.5/(s-o),r=o<i?-1:1,T):[e,t,n]},T.clamp=function(C){return arguments.length?(y=!!C,T):y},T.interpolator=function(C){return arguments.length?(h=C,T):h};function E(C){return function(O){var A,M,I;return arguments.length?([A,M,I]=O,h=X4e(C,[A,M,I]),T):[h(0),h(.5),h(1)]}}return T.range=E(qg),T.rangeRound=E(ML),T.unknown=function(C){return arguments.length?(x=C,T):x},function(C){return g=C,i=C(e),o=C(t),s=C(n),a=i===o?0:.5/(o-i),f=o===s?0:.5/(s-o),r=o<i?-1:1,T}}function MK(){var e=ef(Lk()(aa));return e.copy=function(){return tf(e,MK())},Mu.apply(e,arguments)}function AK(){var e=RL(Lk()).domain([.1,1,10]);return e.copy=function(){return tf(e,AK()).base(e.base())},Mu.apply(e,arguments)}function IK(){var e=DL(Lk());return e.copy=function(){return tf(e,IK()).constant(e.constant())},Mu.apply(e,arguments)}function GL(){var e=LL(Lk());return e.copy=function(){return tf(e,GL()).exponent(e.exponent())},Mu.apply(e,arguments)}function H6e(){return GL.apply(null,arguments).exponent(.5)}const E6=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:gx,scaleDiverging:MK,scaleDivergingLog:AK,scaleDivergingPow:GL,scaleDivergingSqrt:H6e,scaleDivergingSymlog:IK,scaleIdentity:cK,scaleImplicit:qA,scaleLinear:WS,scaleLog:dK,scaleOrdinal:PL,scalePoint:b0,scalePow:jL,scaleQuantile:pK,scaleQuantize:mK,scaleRadial:hK,scaleSequential:TK,scaleSequentialLog:PK,scaleSequentialPow:HL,scaleSequentialQuantile:OK,scaleSequentialSqrt:q6e,scaleSequentialSymlog:EK,scaleSqrt:bFe,scaleSymlog:fK,scaleThreshold:gK,scaleTime:V6e,scaleUtc:W6e,tickFormat:lK},Symbol.toStringTag,{value:"Module"}));var G6e=Lg;function Y6e(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],s=t(o);if(s!=null&&(a===void 0?s===s&&!G6e(s):n(s,a)))var a=s,f=o}return f}var $K=Y6e;function K6e(e,t){return e>t}var Z6e=K6e,X6e=$K,J6e=Z6e,Q6e=Vg;function e8e(e){return e&&e.length?X6e(e,Q6e,J6e):void 0}var t8e=e8e;const jk=cr(t8e);function n8e(e,t){return e<t}var r8e=n8e,i8e=$K,o8e=r8e,a8e=Vg;function s8e(e){return e&&e.length?i8e(e,a8e,o8e):void 0}var l8e=s8e;const Nk=cr(l8e);var c8e=aL,u8e=Jd,d8e=RY,f8e=Da;function h8e(e,t){var n=f8e(e)?c8e:d8e;return n(e,u8e(t))}var p8e=h8e,m8e=IY,g8e=p8e;function y8e(e,t){return m8e(g8e(e,t),1)}var v8e=y8e;const x8e=cr(v8e);var b8e=wL;function _8e(e,t){return b8e(e,t)}var w8e=_8e;const zk=cr(w8e);var Hg=1e9,S8e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},KL,ti=!0,Ws="[DecimalError] ",oh=Ws+"Invalid argument: ",YL=Ws+"Exponent out of range: ",Gg=Math.floor,Lf=Math.pow,C8e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ya,to=1e7,Wr=7,RK=9007199254740991,YS=Gg(RK/Wr),qt={};qt.absoluteValue=qt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};qt.comparedTo=qt.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};qt.decimalPlaces=qt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Wr;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};qt.dividedBy=qt.div=function(e){return ou(this,new this.constructor(e))};qt.dividedToIntegerBy=qt.idiv=function(e){var t=this,n=t.constructor;return Mr(ou(t,new n(e),0,1),n.precision)};qt.equals=qt.eq=function(e){return!this.cmp(e)};qt.exponent=function(){return Ri(this)};qt.greaterThan=qt.gt=function(e){return this.cmp(e)>0};qt.greaterThanOrEqualTo=qt.gte=function(e){return this.cmp(e)>=0};qt.isInteger=qt.isint=function(){return this.e>this.d.length-2};qt.isNegative=qt.isneg=function(){return this.s<0};qt.isPositive=qt.ispos=function(){return this.s>0};qt.isZero=function(){return this.s===0};qt.lessThan=qt.lt=function(e){return this.cmp(e)<0};qt.lessThanOrEqualTo=qt.lte=function(e){return this.cmp(e)<1};qt.logarithm=qt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Ya))throw Error(Ws+"NaN");if(n.s<1)throw Error(Ws+(n.s?"NaN":"-Infinity"));return n.eq(Ya)?new r(0):(ti=!1,t=ou(_x(n,o),_x(e,o),o),ti=!0,Mr(t,i))};qt.minus=qt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?jK(t,e):DK(t,(e.s=-e.s,e))};qt.modulo=qt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ws+"NaN");return n.s?(ti=!1,t=ou(n,e,0,1).times(e),ti=!0,n.minus(t)):Mr(new r(n),i)};qt.naturalExponential=qt.exp=function(){return LK(this)};qt.naturalLogarithm=qt.ln=function(){return _x(this)};qt.negated=qt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};qt.plus=qt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?DK(t,e):jK(t,(e.s=-e.s,e))};qt.precision=qt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(oh+e);if(t=Ri(i)+1,r=i.d.length-1,n=r*Wr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};qt.squareRoot=qt.sqrt=function(){var e,t,n,r,i,o,s,a=this,f=a.constructor;if(a.s<1){if(!a.s)return new f(0);throw Error(Ws+"NaN")}for(e=Ri(a),ti=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=Ql(a.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Gg((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(i.toString()),n=f.precision,i=s=n+3;;)if(o=r,r=o.plus(ou(a,o,s+2)).times(.5),Ql(o.d).slice(0,s)===(t=Ql(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Mr(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(t!="9999")break;s+=4}return ti=!0,Mr(r,n)};qt.times=qt.mul=function(e){var t,n,r,i,o,s,a,f,h,g=this,y=g.constructor,x=g.d,T=(e=new y(e)).d;if(!g.s||!e.s)return new y(0);for(e.s*=g.s,n=g.e+e.e,f=x.length,h=T.length,f<h&&(o=x,x=T,T=o,s=f,f=h,h=s),o=[],s=f+h,r=s;r--;)o.push(0);for(r=h;--r>=0;){for(t=0,i=f+r;i>r;)a=o[i]+T[r]*x[i-r-1]+t,o[i--]=a%to|0,t=a/to|0;o[i]=(o[i]+t)%to|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,ti?Mr(e,y.precision):e};qt.toDecimalPlaces=qt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(fc(e,0,Hg),t===void 0?t=r.rounding:fc(t,0,8),Mr(n,e+Ri(n)+1,t))};qt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=xh(r,!0):(fc(e,0,Hg),t===void 0?t=i.rounding:fc(t,0,8),r=Mr(new i(r),e+1,t),n=xh(r,!0,e+1)),n};qt.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?xh(i):(fc(e,0,Hg),t===void 0?t=o.rounding:fc(t,0,8),r=Mr(new o(i),e+Ri(i)+1,t),n=xh(r.abs(),!1,e+Ri(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};qt.toInteger=qt.toint=function(){var e=this,t=e.constructor;return Mr(new t(e),Ri(e)+1,t.rounding)};qt.toNumber=function(){return+this};qt.toPower=qt.pow=function(e){var t,n,r,i,o,s,a=this,f=a.constructor,h=12,g=+(e=new f(e));if(!e.s)return new f(Ya);if(a=new f(a),!a.s){if(e.s<1)throw Error(Ws+"Infinity");return a}if(a.eq(Ya))return a;if(r=f.precision,e.eq(Ya))return Mr(a,r);if(t=e.e,n=e.d.length-1,s=t>=n,o=a.s,s){if((n=g<0?-g:g)<=RK){for(i=new f(Ya),t=Math.ceil(r/Wr+4),ti=!1;n%2&&(i=i.times(a),M6(i.d,t)),n=Gg(n/2),n!==0;)a=a.times(a),M6(a.d,t);return ti=!0,e.s<0?new f(Ya).div(i):Mr(i,r)}}else if(o<0)throw Error(Ws+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,a.s=1,ti=!1,i=e.times(_x(a,r+h)),ti=!0,i=LK(i),i.s=o,i};qt.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Ri(i),r=xh(i,n<=o.toExpNeg||n>=o.toExpPos)):(fc(e,1,Hg),t===void 0?t=o.rounding:fc(t,0,8),i=Mr(new o(i),e,t),n=Ri(i),r=xh(i,e<=n||n<=o.toExpNeg,e)),r};qt.toSignificantDigits=qt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(fc(e,1,Hg),t===void 0?t=r.rounding:fc(t,0,8)),Mr(new r(n),e,t)};qt.toString=qt.valueOf=qt.val=qt.toJSON=qt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ri(e),n=e.constructor;return xh(e,t<=n.toExpNeg||t>=n.toExpPos)};function DK(e,t){var n,r,i,o,s,a,f,h,g=e.constructor,y=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),ti?Mr(t,y):t;if(f=e.d,h=t.d,s=e.e,i=t.e,f=f.slice(),o=s-i,o){for(o<0?(r=f,o=-o,a=h.length):(r=h,i=s,a=f.length),s=Math.ceil(y/Wr),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=f.length,o=h.length,a-o<0&&(o=a,r=h,h=f,f=r),n=0;o;)n=(f[--o]=f[o]+h[o]+n)/to|0,f[o]%=to;for(n&&(f.unshift(n),++i),a=f.length;f[--a]==0;)f.pop();return t.d=f,t.e=i,ti?Mr(t,y):t}function fc(e,t,n){if(e!==~~e||e<t||e>n)throw Error(oh+e)}function Ql(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)r=e[t]+"",n=Wr-r.length,n&&(o+=cd(n)),o+=r;s=e[t],r=s+"",n=Wr-r.length,n&&(o+=cd(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var ou=function(){function e(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%to|0,s=o/to|0;return s&&r.unshift(s),r}function t(r,i,o,s){var a,f;if(o!=s)f=o>s?1:-1;else for(a=f=0;a<o;a++)if(r[a]!=i[a]){f=r[a]>i[a]?1:-1;break}return f}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*to+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,f,h,g,y,x,T,E,C,O,A,M,I,N,$,D,F,q,X=r.constructor,J=r.s==i.s?1:-1,ie=r.d,ge=i.d;if(!r.s)return new X(r);if(!i.s)throw Error(Ws+"Division by zero");for(f=r.e-i.e,F=ge.length,$=ie.length,T=new X(J),E=T.d=[],h=0;ge[h]==(ie[h]||0);)++h;if(ge[h]>(ie[h]||0)&&--f,o==null?M=o=X.precision:s?M=o+(Ri(r)-Ri(i))+1:M=o,M<0)return new X(0);if(M=M/Wr+2|0,h=0,F==1)for(g=0,ge=ge[0],M++;(h<$||g)&&M--;h++)I=g*to+(ie[h]||0),E[h]=I/ge|0,g=I%ge|0;else{for(g=to/(ge[0]+1)|0,g>1&&(ge=e(ge,g),ie=e(ie,g),F=ge.length,$=ie.length),N=F,C=ie.slice(0,F),O=C.length;O<F;)C[O++]=0;q=ge.slice(),q.unshift(0),D=ge[0],ge[1]>=to/2&&++D;do g=0,a=t(ge,C,F,O),a<0?(A=C[0],F!=O&&(A=A*to+(C[1]||0)),g=A/D|0,g>1?(g>=to&&(g=to-1),y=e(ge,g),x=y.length,O=C.length,a=t(y,C,x,O),a==1&&(g--,n(y,F<x?q:ge,x))):(g==0&&(a=g=1),y=ge.slice()),x=y.length,x<O&&y.unshift(0),n(C,y,O),a==-1&&(O=C.length,a=t(ge,C,F,O),a<1&&(g++,n(C,F<O?q:ge,O))),O=C.length):a===0&&(g++,C=[0]),E[h++]=g,a&&C[0]?C[O++]=ie[N]||0:(C=[ie[N]],O=1);while((N++<$||C[0]!==void 0)&&M--)}return E[0]||E.shift(),T.e=f,Mr(T,s?o+Ri(T)+1:o)}}();function LK(e,t){var n,r,i,o,s,a,f=0,h=0,g=e.constructor,y=g.precision;if(Ri(e)>16)throw Error(YL+Ri(e));if(!e.s)return new g(Ya);for(t==null?(ti=!1,a=y):a=t,s=new g(.03125);e.abs().gte(.1);)e=e.times(s),h+=5;for(r=Math.log(Lf(2,h))/Math.LN10*2+5|0,a+=r,n=i=o=new g(Ya),g.precision=a;;){if(i=Mr(i.times(e),a),n=n.times(++f),s=o.plus(ou(i,n,a)),Ql(s.d).slice(0,a)===Ql(o.d).slice(0,a)){for(;h--;)o=Mr(o.times(o),a);return g.precision=y,t==null?(ti=!0,Mr(o,y)):o}o=s}}function Ri(e){for(var t=e.e*Wr,n=e.d[0];n>=10;n/=10)t++;return t}function cO(e,t,n){if(t>e.LN10.sd())throw ti=!0,n&&(e.precision=n),Error(Ws+"LN10 precision limit exceeded");return Mr(new e(e.LN10),t)}function cd(e){for(var t="";e--;)t+="0";return t}function _x(e,t){var n,r,i,o,s,a,f,h,g,y=1,x=10,T=e,E=T.d,C=T.constructor,O=C.precision;if(T.s<1)throw Error(Ws+(T.s?"NaN":"-Infinity"));if(T.eq(Ya))return new C(0);if(t==null?(ti=!1,h=O):h=t,T.eq(10))return t==null&&(ti=!0),cO(C,h);if(h+=x,C.precision=h,n=Ql(E),r=n.charAt(0),o=Ri(T),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)T=T.times(e),n=Ql(T.d),r=n.charAt(0),y++;o=Ri(T),r>1?(T=new C("0."+n),o++):T=new C(r+"."+n.slice(1))}else return f=cO(C,h+2,O).times(o+""),T=_x(new C(r+"."+n.slice(1)),h-x).plus(f),C.precision=O,t==null?(ti=!0,Mr(T,O)):T;for(a=s=T=ou(T.minus(Ya),T.plus(Ya),h),g=Mr(T.times(T),h),i=3;;){if(s=Mr(s.times(g),h),f=a.plus(ou(s,new C(i),h)),Ql(f.d).slice(0,h)===Ql(a.d).slice(0,h))return a=a.times(2),o!==0&&(a=a.plus(cO(C,h+2,O).times(o+""))),a=ou(a,new C(y),h),C.precision=O,t==null?(ti=!0,Mr(a,O)):a;a=f,i+=2}}function O6(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Gg(n/Wr),e.d=[],r=(n+1)%Wr,n<0&&(r+=Wr),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Wr;r<i;)e.d.push(+t.slice(r,r+=Wr));t=t.slice(r),r=Wr-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),ti&&(e.e>YS||e.e<-YS))throw Error(YL+n)}else e.s=0,e.e=0,e.d=[0];return e}function Mr(e,t,n){var r,i,o,s,a,f,h,g,y=e.d;for(s=1,o=y[0];o>=10;o/=10)s++;if(r=t-s,r<0)r+=Wr,i=t,h=y[g=0];else{if(g=Math.ceil((r+1)/Wr),o=y.length,g>=o)return e;for(h=o=y[g],s=1;o>=10;o/=10)s++;r%=Wr,i=r-Wr+s}if(n!==void 0&&(o=Lf(10,s-i-1),a=h/o%10|0,f=t<0||y[g+1]!==void 0||h%o,f=n<4?(a||f)&&(n==0||n==(e.s<0?3:2)):a>5||a==5&&(n==4||f||n==6&&(r>0?i>0?h/Lf(10,s-i):0:y[g-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return f?(o=Ri(e),y.length=1,t=t-o-1,y[0]=Lf(10,(Wr-t%Wr)%Wr),e.e=Gg(-t/Wr)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(r==0?(y.length=g,o=1,g--):(y.length=g+1,o=Lf(10,Wr-r),y[g]=i>0?(h/Lf(10,s-i)%Lf(10,i)|0)*o:0),f)for(;;)if(g==0){(y[0]+=o)==to&&(y[0]=1,++e.e);break}else{if(y[g]+=o,y[g]!=to)break;y[g--]=0,o=1}for(r=y.length;y[--r]===0;)y.pop();if(ti&&(e.e>YS||e.e<-YS))throw Error(YL+Ri(e));return e}function jK(e,t){var n,r,i,o,s,a,f,h,g,y,x=e.constructor,T=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),ti?Mr(t,T):t;if(f=e.d,y=t.d,r=t.e,h=e.e,f=f.slice(),s=h-r,s){for(g=s<0,g?(n=f,s=-s,a=y.length):(n=y,r=h,a=f.length),i=Math.max(Math.ceil(T/Wr),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=f.length,a=y.length,g=i<a,g&&(a=i),i=0;i<a;i++)if(f[i]!=y[i]){g=f[i]<y[i];break}s=0}for(g&&(n=f,f=y,y=n,t.s=-t.s),a=f.length,i=y.length-a;i>0;--i)f[a++]=0;for(i=y.length;i>s;){if(f[--i]<y[i]){for(o=i;o&&f[--o]===0;)f[o]=to-1;--f[o],f[i]+=to}f[i]-=y[i]}for(;f[--a]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,ti?Mr(t,T):t):new x(0)}function xh(e,t,n){var r,i=Ri(e),o=Ql(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+cd(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+cd(-i-1)+o,n&&(r=n-s)>0&&(o+=cd(r))):i>=s?(o+=cd(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+cd(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=cd(r))),e.s<0?"-"+o:o}function M6(e,t){if(e.length>t)return e.length=t,!0}function NK(e){var t,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(oh+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return O6(s,o.toString())}else if(typeof o!="string")throw Error(oh+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,C8e.test(o))O6(s,o);else throw Error(oh+o)}if(i.prototype=qt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=NK,i.config=i.set=k8e,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function k8e(e){if(!e||typeof e!="object")throw Error(Ws+"Object expected");var t,n,r,i=["precision",1,Hg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Gg(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(oh+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(oh+n+": "+r);return this}var KL=NK(S8e);Ya=new KL(1);const Cr=KL;function T8e(e){return M8e(e)||O8e(e)||E8e(e)||P8e()}function P8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E8e(e,t){if(e){if(typeof e=="string")return KA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KA(e,t)}}function O8e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function M8e(e){if(Array.isArray(e))return KA(e)}function KA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A8e=function(t){return t},zK={"@@functional/placeholder":!0},BK=function(t){return t===zK},A6=function(t){return function n(){return arguments.length===0||arguments.length===1&&BK(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},I8e=function e(t,n){return t===1?n:A6(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==zK}).length;return s>=t?n.apply(void 0,i):e(t-s,A6(function(){for(var a=arguments.length,f=new Array(a),h=0;h<a;h++)f[h]=arguments[h];var g=i.map(function(y){return BK(y)?f.shift():y});return n.apply(void 0,T8e(g).concat(f))}))})},Bk=function(t){return I8e(t.length,t)},ZA=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},$8e=Bk(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),R8e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return A8e;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,f){return f(a)},o.apply(void 0,arguments))}},XA=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},FK=function(t){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,f){return a===n[f]})||(n=o,r=t.apply(void 0,o)),r}};function D8e(e){var t;return e===0?t=1:t=Math.floor(new Cr(e).abs().log(10).toNumber())+1,t}function L8e(e,t,n){for(var r=new Cr(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var j8e=Bk(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),N8e=Bk(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),z8e=Bk(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Fk={rangeStep:L8e,getDigitCount:D8e,interpolateNumber:j8e,uninterpolateNumber:N8e,uninterpolateTruncation:z8e};function JA(e){return U8e(e)||F8e(e)||UK(e)||B8e()}function B8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F8e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function U8e(e){if(Array.isArray(e))return QA(e)}function wx(e,t){return q8e(e)||W8e(e,t)||UK(e,t)||V8e()}function V8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UK(e,t){if(e){if(typeof e=="string")return QA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QA(e,t)}}function QA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W8e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=e[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(t&&n.length===t));r=!0);}catch(f){i=!0,o=f}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function q8e(e){if(Array.isArray(e))return e}function VK(e){var t=wx(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function WK(e,t,n){if(e.lte(0))return new Cr(0);var r=Fk.getDigitCount(e.toNumber()),i=new Cr(10).pow(r),o=e.div(i),s=r!==1?.05:.1,a=new Cr(Math.ceil(o.div(s).toNumber())).add(n).mul(s),f=a.mul(i);return t?f:new Cr(Math.ceil(f))}function H8e(e,t,n){var r=1,i=new Cr(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new Cr(10).pow(Fk.getDigitCount(e)-1),i=new Cr(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Cr(Math.floor(e)))}else e===0?i=new Cr(Math.floor((t-1)/2)):n||(i=new Cr(Math.floor(e)));var s=Math.floor((t-1)/2),a=R8e($8e(function(f){return i.add(new Cr(f-s).mul(r)).toNumber()}),ZA);return a(0,t)}function qK(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Cr(0),tickMin:new Cr(0),tickMax:new Cr(0)};var o=WK(new Cr(t).sub(e).div(n-1),r,i),s;e<=0&&t>=0?s=new Cr(0):(s=new Cr(e).add(t).div(2),s=s.sub(new Cr(s).mod(o)));var a=Math.ceil(s.sub(e).div(o).toNumber()),f=Math.ceil(new Cr(t).sub(s).div(o).toNumber()),h=a+f+1;return h>n?qK(e,t,n,r,i+1):(h<n&&(f=t>0?f+(n-h):f,a=t>0?a:a+(n-h)),{step:o,tickMin:s.sub(new Cr(a).mul(o)),tickMax:s.add(new Cr(f).mul(o))})}function G8e(e){var t=wx(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=VK([n,r]),f=wx(a,2),h=f[0],g=f[1];if(h===-1/0||g===1/0){var y=g===1/0?[h].concat(JA(ZA(0,i-1).map(function(){return 1/0}))):[].concat(JA(ZA(0,i-1).map(function(){return-1/0})),[g]);return n>r?XA(y):y}if(h===g)return H8e(h,i,o);var x=qK(h,g,s,o),T=x.step,E=x.tickMin,C=x.tickMax,O=Fk.rangeStep(E,C.add(new Cr(.1).mul(T)),T);return n>r?XA(O):O}function Y8e(e,t){var n=wx(e,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=VK([r,i]),a=wx(s,2),f=a[0],h=a[1];if(f===-1/0||h===1/0)return[r,i];if(f===h)return[f];var g=Math.max(t,2),y=WK(new Cr(h).sub(f).div(g-1),o,0),x=[].concat(JA(Fk.rangeStep(new Cr(f),new Cr(h).sub(new Cr(.99).mul(y)),y)),[h]);return r>i?XA(x):x}var K8e=FK(G8e),Z8e=FK(Y8e),X8e="Invariant failed";function lg(e,t){if(!e)throw new Error(X8e)}var J8e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function KS(){return KS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KS.apply(this,arguments)}function Q8e(e,t){return rUe(e)||nUe(e,t)||tUe(e,t)||eUe()}function eUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tUe(e,t){if(e){if(typeof e=="string")return I6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I6(e,t)}}function I6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nUe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function rUe(e){if(Array.isArray(e))return e}function iUe(e,t){if(e==null)return{};var n=oUe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oUe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Eb(e){var t=e.offset,n=e.layout,r=e.width,i=e.dataKey,o=e.data,s=e.dataPointFormatter,a=e.xAxis,f=e.yAxis,h=iUe(e,J8e),g=Un(h,!1);e.direction==="x"&&a.type!=="number"&&lg(!1);var y=o.map(function(x){var T=s(x,i),E=T.x,C=T.y,O=T.value,A=T.errorVal;if(!A)return null;var M=[],I,N;if(Array.isArray(A)){var $=Q8e(A,2);I=$[0],N=$[1]}else I=N=A;if(n==="vertical"){var D=a.scale,F=C+t,q=F+r,X=F-r,J=D(O-I),ie=D(O+N);M.push({x1:ie,y1:q,x2:ie,y2:X}),M.push({x1:J,y1:F,x2:ie,y2:F}),M.push({x1:J,y1:q,x2:J,y2:X})}else if(n==="horizontal"){var ge=f.scale,Ce=E+t,fe=Ce-r,ce=Ce+r,ue=ge(O-I),xe=ge(O+N);M.push({x1:fe,y1:xe,x2:ce,y2:xe}),M.push({x1:Ce,y1:ue,x2:Ce,y2:xe}),M.push({x1:fe,y1:ue,x2:ce,y2:ue})}return Ee.createElement(Oi,KS({className:"recharts-errorBar",key:"bar-".concat(M.map(function(le){return"".concat(le.x1,"-").concat(le.x2,"-").concat(le.y1,"-").concat(le.y2)}))},g),M.map(function(le){return Ee.createElement("line",KS({},le,{key:"line-".concat(le.x1,"-").concat(le.x2,"-").concat(le.y1,"-").concat(le.y2)}))}))});return Ee.createElement(Oi,{className:"recharts-errorBars"},y)}Eb.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};Eb.displayName="ErrorBar";function Sx(e){"@babel/helpers - typeof";return Sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sx(e)}function $6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$6(Object(n),!0).forEach(function(r){aUe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aUe(e,t,n){return t=sUe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sUe(e){var t=lUe(e,"string");return Sx(t)==="symbol"?t:String(t)}function lUe(e,t){if(Sx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Sx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HK=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,s=Wa(n,eg);if(!s)return null;var a;return s.props&&s.props.payload?a=s.props&&s.props.payload:o==="children"?a=(r||[]).reduce(function(f,h){var g=h.item,y=h.props,x=y.sectors||y.data||[];return f.concat(x.map(function(T){return{type:s.props.iconType||g.props.legendType,value:T.name,color:T.fill,payload:T}}))},[]):a=(r||[]).map(function(f){var h=f.item,g=h.props,y=g.dataKey,x=g.name,T=g.legendType,E=g.hide;return{inactive:E,dataKey:y,type:s.props.iconType||T||"square",color:ZL(h),value:x||y,payload:h.props}}),uO(uO(uO({},s.props),eg.getWithHeight(s,i)),{},{payload:a,item:s})};function Cx(e){"@babel/helpers - typeof";return Cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cx(e)}function R6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ts(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R6(Object(n),!0).forEach(function(r){Pm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pm(e,t,n){return t=cUe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cUe(e){var t=uUe(e,"string");return Cx(t)==="symbol"?t:String(t)}function uUe(e,t){if(Cx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Cx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D6(e){return pUe(e)||hUe(e)||fUe(e)||dUe()}function dUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fUe(e,t){if(e){if(typeof e=="string")return eI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eI(e,t)}}function hUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pUe(e){if(Array.isArray(e))return eI(e)}function eI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rs(e,t,n){return Gn(e)||Gn(t)?n:qi(t)?Ds(e,t,n):jn(t)?t(e):n}function _0(e,t,n,r){var i=x8e(e,function(a){return rs(a,t)});if(n==="number"){var o=i.filter(function(a){return Et(a)||parseFloat(a)});return o.length?[Nk(o),jk(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!Gn(a)}):i;return s.map(function(a){return qi(a)||a instanceof Date?a:""})}var mUe=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var f=o.range,h=0;h<a;h++){var g=h>0?i[h-1].coordinate:i[a-1].coordinate,y=i[h].coordinate,x=h>=a-1?i[0].coordinate:i[h+1].coordinate,T=void 0;if(Sl(y-g)!==Sl(x-y)){var E=[];if(Sl(x-y)===Sl(f[1]-f[0])){T=x;var C=y+f[1]-f[0];E[0]=Math.min(C,(C+g)/2),E[1]=Math.max(C,(C+g)/2)}else{T=g;var O=x+f[1]-f[0];E[0]=Math.min(y,(O+y)/2),E[1]=Math.max(y,(O+y)/2)}var A=[Math.min(y,(T+y)/2),Math.max(y,(T+y)/2)];if(t>A[0]&&t<=A[1]||t>=E[0]&&t<=E[1]){s=i[h].index;break}}else{var M=Math.min(g,x),I=Math.max(g,x);if(t>(M+y)/2&&t<=(I+y)/2){s=i[h].index;break}}}else for(var N=0;N<a;N++)if(N===0&&t<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<a-1&&t>(r[N].coordinate+r[N-1].coordinate)/2&&t<=(r[N].coordinate+r[N+1].coordinate)/2||N===a-1&&t>(r[N].coordinate+r[N-1].coordinate)/2){s=r[N].index;break}return s},ZL=function(t){var n=t,r=n.type.displayName,i=t.props,o=i.stroke,s=i.fill,a;switch(r){case"Line":a=o;break;case"Area":case"Radar":a=o&&o!=="none"?o:s;break;default:a=s;break}return a},gUe=function(t){var n=t.barSize,r=t.stackGroups,i=r===void 0?{}:r;if(!i)return{};for(var o={},s=Object.keys(i),a=0,f=s.length;a<f;a++)for(var h=i[s[a]].stackGroups,g=Object.keys(h),y=0,x=g.length;y<x;y++){var T=h[g[y]],E=T.items,C=T.cateAxisId,O=E.filter(function(I){return nu(I.type).indexOf("Bar")>=0});if(O&&O.length){var A=O[0].props.barSize,M=O[0].props[C];o[M]||(o[M]=[]),o[M].push({item:O[0],stackList:O.slice(1),barSize:Gn(A)?n:A})}}return o},yUe=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,o=t.sizeList,s=o===void 0?[]:o,a=t.maxBarSize,f=s.length;if(f<1)return null;var h=Zm(n,i,0,!0),g,y=[];if(s[0].barSize===+s[0].barSize){var x=!1,T=i/f,E=s.reduce(function(N,$){return N+$.barSize||0},0);E+=(f-1)*h,E>=i&&(E-=(f-1)*h,h=0),E>=i&&T>0&&(x=!0,T*=.9,E=f*T);var C=(i-E)/2>>0,O={offset:C-h,size:0};g=s.reduce(function(N,$){var D={item:$.item,position:{offset:O.offset+O.size+h,size:x?T:$.barSize}},F=[].concat(D6(N),[D]);return O=F[F.length-1].position,$.stackList&&$.stackList.length&&$.stackList.forEach(function(q){F.push({item:q,position:O})}),F},y)}else{var A=Zm(r,i,0,!0);i-2*A-(f-1)*h<=0&&(h=0);var M=(i-2*A-(f-1)*h)/f;M>1&&(M>>=0);var I=a===+a?Math.min(M,a):M;g=s.reduce(function(N,$,D){var F=[].concat(D6(N),[{item:$.item,position:{offset:A+(M+h)*D+(M-I)/2,size:I}}]);return $.stackList&&$.stackList.length&&$.stackList.forEach(function(q){F.push({item:q,position:F[F.length-1].position})}),F},y)}return g},vUe=function(t,n,r,i){var o=r.children,s=r.width,a=r.margin,f=s-(a.left||0)-(a.right||0),h=HK({children:o,legendWidth:f});if(h){var g=i||{},y=g.width,x=g.height,T=h.align,E=h.verticalAlign,C=h.layout;if((C==="vertical"||C==="horizontal"&&E==="middle")&&T!=="center"&&Et(t[T]))return Ts(Ts({},t),{},Pm({},T,t[T]+(y||0)));if((C==="horizontal"||C==="vertical"&&T==="center")&&E!=="middle"&&Et(t[E]))return Ts(Ts({},t),{},Pm({},E,t[E]+(x||0)))}return t},xUe=function(t,n,r){return Gn(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},GK=function(t,n,r,i,o){var s=n.props.children,a=Ls(s,Eb).filter(function(h){return xUe(i,o,h.props.direction)});if(a&&a.length){var f=a.map(function(h){return h.props.dataKey});return t.reduce(function(h,g){var y=rs(g,r,0),x=Array.isArray(y)?[Nk(y),jk(y)]:[y,y],T=f.reduce(function(E,C){var O=rs(g,C,0),A=x[0]-Math.abs(Array.isArray(O)?O[0]:O),M=x[1]+Math.abs(Array.isArray(O)?O[1]:O);return[Math.min(A,E[0]),Math.max(M,E[1])]},[1/0,-1/0]);return[Math.min(T[0],h[0]),Math.max(T[1],h[1])]},[1/0,-1/0])}return null},bUe=function(t,n,r,i,o){var s=n.map(function(a){return GK(t,a,r,o,i)}).filter(function(a){return!Gn(a)});return s&&s.length?s.reduce(function(a,f){return[Math.min(a[0],f[0]),Math.max(a[1],f[1])]},[1/0,-1/0]):null},YK=function(t,n,r,i,o){var s=n.map(function(f){var h=f.props.dataKey;return r==="number"&&h&&GK(t,f,h,i)||_0(t,h,r,o)});if(r==="number")return s.reduce(function(f,h){return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);var a={};return s.reduce(function(f,h){for(var g=0,y=h.length;g<y;g++)a[h[g]]||(a[h[g]]=!0,f.push(h[g]));return f},[])},KK=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},ZK=function(t,n,r,i){if(i)return t.map(function(f){return f.coordinate});var o,s,a=t.map(function(f){return f.coordinate===n&&(o=!0),f.coordinate===r&&(s=!0),f.coordinate});return o||a.push(n),s||a.push(r),a},Jc=function(t,n,r){if(!t)return null;var i=t.scale,o=t.duplicateDomain,s=t.type,a=t.range,f=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/f:0;if(h=t.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Sl(a[0]-a[1])*2*h:h,n&&(t.ticks||t.niceTicks)){var g=(t.ticks||t.niceTicks).map(function(y){var x=o?o.indexOf(y):y;return{coordinate:i(x)+h,value:y,offset:h}});return g.filter(function(y){return!_b(y.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(y,x){return{coordinate:i(y)+h,value:y,index:x,offset:h}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(y){return{coordinate:i(y)+h,value:y,offset:h}}):i.domain().map(function(y,x){return{coordinate:i(y)+h,value:o?o[y]:y,index:x,offset:h}})},dO=new WeakMap,D1=function(t,n){if(typeof n!="function")return t;dO.has(t)||dO.set(t,new WeakMap);var r=dO.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},_Ue=function(t,n,r){var i=t.scale,o=t.type,s=t.layout,a=t.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:gx(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:WS(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:b0(),realScaleType:"point"}:o==="category"?{scale:gx(),realScaleType:"band"}:{scale:WS(),realScaleType:"linear"};if(bb(i)){var f="scale".concat(Ck(i));return{scale:(E6[f]||b0)(),realScaleType:E6[f]?f:"point"}}return jn(i)?{scale:i}:{scale:b0(),realScaleType:"point"}},L6=1e-4,wUe=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),o=Math.min(i[0],i[1])-L6,s=Math.max(i[0],i[1])+L6,a=t(n[0]),f=t(n[r-1]);(a<o||a>s||f<o||f>s)&&t.domain([n[0],n[r-1]])}},SUe=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},CUe=function(t,n){if(!n||n.length!==2||!Et(n[0])||!Et(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[t[0],t[1]];return(!Et(t[0])||t[0]<r)&&(o[0]=r),(!Et(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},kUe=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var f=_b(t[a][r][1])?t[a][r][0]:t[a][r][1];f>=0?(t[a][r][0]=o,t[a][r][1]=o+f,o=t[a][r][1]):(t[a][r][0]=s,t[a][r][1]=s+f,s=t[a][r][1])}},TUe=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=_b(t[s][r][1])?t[s][r][0]:t[s][r][1];a>=0?(t[s][r][0]=o,t[s][r][1]=o+a,o=t[s][r][1]):(t[s][r][0]=0,t[s][r][1]=0)}},PUe={sign:kUe,expand:_Ie,none:Xm,silhouette:wIe,wiggle:SIe,positive:TUe},EUe=function(t,n,r){var i=n.map(function(a){return a.props.dataKey}),o=PUe[r],s=bIe().keys(i).value(function(a,f){return+rs(a,f,0)}).order(bA).offset(o);return s(t)},OUe=function(t,n,r,i,o,s){if(!t)return null;var a=s?n.reverse():n,f={},h=a.reduce(function(y,x){var T=x.props,E=T.stackId,C=T.hide;if(C)return y;var O=x.props[r],A=y[O]||{hasStack:!1,stackGroups:{}};if(qi(E)){var M=A.stackGroups[E]||{numericAxisId:r,cateAxisId:i,items:[]};M.items.push(x),A.hasStack=!0,A.stackGroups[E]=M}else A.stackGroups[wb("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[x]};return Ts(Ts({},y),{},Pm({},O,A))},f),g={};return Object.keys(h).reduce(function(y,x){var T=h[x];if(T.hasStack){var E={};T.stackGroups=Object.keys(T.stackGroups).reduce(function(C,O){var A=T.stackGroups[O];return Ts(Ts({},C),{},Pm({},O,{numericAxisId:r,cateAxisId:i,items:A.items,stackedData:EUe(t,A.items,o)}))},E)}return Ts(Ts({},y),{},Pm({},x,T))},g)},MUe=function(t,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,f=r||n.scale;if(f!=="auto"&&f!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var h=t.domain();if(!h.length)return null;var g=K8e(h,o,a);return t.domain([Nk(g),jk(g)]),{niceTicks:g}}if(o&&i==="number"){var y=t.domain(),x=Z8e(y,o,a);return{niceTicks:x}}return null},j6=function(t){var n=t.axis,r=t.ticks,i=t.bandSize,o=t.entry,s=t.index,a=t.dataKey;if(n.type==="category"){if(!n.allowDuplicatedCategory&&n.dataKey&&!Gn(o[n.dataKey])){var f=yS(r,"value",o[n.dataKey]);if(f)return f.coordinate+i/2}return r[s]?r[s].coordinate+i/2:null}var h=rs(o,Gn(a)?n.dataKey:a);return Gn(h)?null:n.scale(h)},N6=function(t){var n=t.axis,r=t.ticks,i=t.offset,o=t.bandSize,s=t.entry,a=t.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var f=rs(s,n.dataKey,n.domain[a]);return Gn(f)?null:n.scale(f)-o/2+i},AUe=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},IUe=function(t,n){var r=t.props.stackId;if(qi(r)){var i=n[r];if(i){var o=i.items.indexOf(t);return o>=0?i.stackedData[o]:null}}return null},$Ue=function(t){return t.reduce(function(n,r){return[Nk(r.concat([n[0]]).filter(Et)),jk(r.concat([n[1]]).filter(Et))]},[1/0,-1/0])},XK=function(t,n,r){return Object.keys(t).reduce(function(i,o){var s=t[o],a=s.stackedData,f=a.reduce(function(h,g){var y=$Ue(g.slice(n,r+1));return[Math.min(h[0],y[0]),Math.max(h[1],y[1])]},[1/0,-1/0]);return[Math.min(f[0],i[0]),Math.max(f[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},z6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,B6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tI=function(t,n,r){if(jn(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(Et(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(z6.test(t[0])){var o=+z6.exec(t[0])[1];i[0]=n[0]-o}else jn(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(Et(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(B6.test(t[1])){var s=+B6.exec(t[1])[1];i[1]=n[1]+s}else jn(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},ZS=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var o=CL(n,function(y){return y.coordinate}),s=1/0,a=1,f=o.length;a<f;a++){var h=o[a],g=o[a-1];s=Math.min((h.coordinate||0)-(g.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},F6=function(t,n,r){return!t||!t.length||zk(t,Ds(r,"type.defaultProps.domain"))?n:t},JK=function(t,n){var r=t.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,f=r.tooltipType,h=r.chartType,g=r.hide;return Ts(Ts({},Un(t,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:ZL(t),value:rs(n,i),type:f,payload:n,chartType:h,hide:g})};function kx(e){"@babel/helpers - typeof";return kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kx(e)}function U6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function V6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U6(Object(n),!0).forEach(function(r){RUe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RUe(e,t,n){return t=DUe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DUe(e){var t=LUe(e,"string");return kx(t)==="symbol"?t:String(t)}function LUe(e,t){if(kx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(kx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XS=Math.PI/180,jUe=function(t){return t*180/Math.PI},vo=function(t,n,r,i){return{x:t+Math.cos(-XS*i)*r,y:n+Math.sin(-XS*i)*r}},NUe=function(t,n){var r=t.x,i=t.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},zUe=function(t,n){var r=t.x,i=t.y,o=n.cx,s=n.cy,a=NUe({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var f=(r-o)/a,h=Math.acos(f);return i>s&&(h=2*Math.PI-h),{radius:a,angle:jUe(h),angleInRadian:h}},BUe=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},FUe=function(t,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return t+a*360},W6=function(t,n){var r=t.x,i=t.y,o=zUe({x:r,y:i},n),s=o.radius,a=o.angle,f=n.innerRadius,h=n.outerRadius;if(s<f||s>h)return!1;if(s===0)return!0;var g=BUe(n),y=g.startAngle,x=g.endAngle,T=a,E;if(y<=x){for(;T>x;)T-=360;for(;T<y;)T+=360;E=T>=y&&T<=x}else{for(;T>y;)T-=360;for(;T<x;)T+=360;E=T>=x&&T<=y}return E?V6(V6({},n),{},{radius:s,angle:FUe(T,n)}):null};function Tx(e){"@babel/helpers - typeof";return Tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tx(e)}var UUe=["offset"];function VUe(e){return GUe(e)||HUe(e)||qUe(e)||WUe()}function WUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qUe(e,t){if(e){if(typeof e=="string")return nI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nI(e,t)}}function HUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GUe(e){if(Array.isArray(e))return nI(e)}function nI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YUe(e,t){if(e==null)return{};var n=KUe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function KUe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function q6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q6(Object(n),!0).forEach(function(r){ZUe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZUe(e,t,n){return t=XUe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XUe(e){var t=JUe(e,"string");return Tx(t)==="symbol"?t:String(t)}function JUe(e,t){if(Tx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Tx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Px(){return Px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Px.apply(this,arguments)}var QUe=function(t){var n=t.value,r=t.formatter,i=Gn(t.children)?n:t.children;return jn(r)?r(i):i},eVe=function(t,n){var r=Sl(n-t),i=Math.min(Math.abs(n-t),360);return r*i},tVe=function(t,n,r){var i=t.position,o=t.viewBox,s=t.offset,a=t.className,f=o,h=f.cx,g=f.cy,y=f.innerRadius,x=f.outerRadius,T=f.startAngle,E=f.endAngle,C=f.clockWise,O=(y+x)/2,A=eVe(T,E),M=A>=0?1:-1,I,N;i==="insideStart"?(I=T+M*s,N=C):i==="insideEnd"?(I=E-M*s,N=!C):i==="end"&&(I=E+M*s,N=C),N=A<=0?N:!N;var $=vo(h,g,O,I),D=vo(h,g,O,I+(N?1:-1)*359),F="M".concat($.x,",").concat($.y,`
    A`).concat(O,",").concat(O,",0,1,").concat(N?0:1,`,
    `).concat(D.x,",").concat(D.y),q=Gn(t.id)?wb("recharts-radial-line-"):t.id;return Ee.createElement("text",Px({},r,{dominantBaseline:"central",className:at("recharts-radial-bar-label",a)}),Ee.createElement("defs",null,Ee.createElement("path",{id:q,d:F})),Ee.createElement("textPath",{xlinkHref:"#".concat(q)},n))},nVe=function(t){var n=t.viewBox,r=t.offset,i=t.position,o=n,s=o.cx,a=o.cy,f=o.innerRadius,h=o.outerRadius,g=o.startAngle,y=o.endAngle,x=(g+y)/2;if(i==="outside"){var T=vo(s,a,h+r,x),E=T.x,C=T.y;return{x:E,y:C,textAnchor:E>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var O=(f+h)/2,A=vo(s,a,O,x),M=A.x,I=A.y;return{x:M,y:I,textAnchor:"middle",verticalAnchor:"middle"}},rVe=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,o=t.position,s=n,a=s.x,f=s.y,h=s.width,g=s.height,y=g>=0?1:-1,x=y*i,T=y>0?"end":"start",E=y>0?"start":"end",C=h>=0?1:-1,O=C*i,A=C>0?"end":"start",M=C>0?"start":"end";if(o==="top"){var I={x:a+h/2,y:f-y*i,textAnchor:"middle",verticalAnchor:T};return Fi(Fi({},I),r?{height:Math.max(f-r.y,0),width:h}:{})}if(o==="bottom"){var N={x:a+h/2,y:f+g+x,textAnchor:"middle",verticalAnchor:E};return Fi(Fi({},N),r?{height:Math.max(r.y+r.height-(f+g),0),width:h}:{})}if(o==="left"){var $={x:a-O,y:f+g/2,textAnchor:A,verticalAnchor:"middle"};return Fi(Fi({},$),r?{width:Math.max($.x-r.x,0),height:g}:{})}if(o==="right"){var D={x:a+h+O,y:f+g/2,textAnchor:M,verticalAnchor:"middle"};return Fi(Fi({},D),r?{width:Math.max(r.x+r.width-D.x,0),height:g}:{})}var F=r?{width:h,height:g}:{};return o==="insideLeft"?Fi({x:a+O,y:f+g/2,textAnchor:M,verticalAnchor:"middle"},F):o==="insideRight"?Fi({x:a+h-O,y:f+g/2,textAnchor:A,verticalAnchor:"middle"},F):o==="insideTop"?Fi({x:a+h/2,y:f+x,textAnchor:"middle",verticalAnchor:E},F):o==="insideBottom"?Fi({x:a+h/2,y:f+g-x,textAnchor:"middle",verticalAnchor:T},F):o==="insideTopLeft"?Fi({x:a+O,y:f+x,textAnchor:M,verticalAnchor:E},F):o==="insideTopRight"?Fi({x:a+h-O,y:f+x,textAnchor:A,verticalAnchor:E},F):o==="insideBottomLeft"?Fi({x:a+O,y:f+g-x,textAnchor:M,verticalAnchor:T},F):o==="insideBottomRight"?Fi({x:a+h-O,y:f+g-x,textAnchor:A,verticalAnchor:T},F):jg(o)&&(Et(o.x)||Gf(o.x))&&(Et(o.y)||Gf(o.y))?Fi({x:a+Zm(o.x,h),y:f+Zm(o.y,g),textAnchor:"end",verticalAnchor:"end"},F):Fi({x:a+h/2,y:f+g/2,textAnchor:"middle",verticalAnchor:"middle"},F)},iVe=function(t){return"cx"in t&&Et(t.cx)};function jo(e){var t=e.offset,n=t===void 0?5:t,r=YUe(e,UUe),i=Fi({offset:n},r),o=i.viewBox,s=i.position,a=i.value,f=i.children,h=i.content,g=i.className,y=g===void 0?"":g,x=i.textBreakAll;if(!o||Gn(a)&&Gn(f)&&!U.isValidElement(h)&&!jn(h))return null;if(U.isValidElement(h))return U.cloneElement(h,i);var T;if(jn(h)){if(T=U.createElement(h,i),U.isValidElement(T))return T}else T=QUe(i);var E=iVe(o),C=Un(i,!0);if(E&&(s==="insideStart"||s==="insideEnd"||s==="end"))return tVe(i,T,C);var O=E?nVe(i):rVe(i);return Ee.createElement(jS,Px({className:at("recharts-label",y)},C,O,{breakAll:x}),T)}jo.displayName="Label";var QK=function(t){var n=t.cx,r=t.cy,i=t.angle,o=t.startAngle,s=t.endAngle,a=t.r,f=t.radius,h=t.innerRadius,g=t.outerRadius,y=t.x,x=t.y,T=t.top,E=t.left,C=t.width,O=t.height,A=t.clockWise,M=t.labelViewBox;if(M)return M;if(Et(C)&&Et(O)){if(Et(y)&&Et(x))return{x:y,y:x,width:C,height:O};if(Et(T)&&Et(E))return{x:T,y:E,width:C,height:O}}return Et(y)&&Et(x)?{x:y,y:x,width:0,height:0}:Et(n)&&Et(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:h||0,outerRadius:g||f||a||0,clockWise:A}:t.viewBox?t.viewBox:{}},oVe=function(t,n){return t?t===!0?Ee.createElement(jo,{key:"label-implicit",viewBox:n}):qi(t)?Ee.createElement(jo,{key:"label-implicit",viewBox:n,value:t}):U.isValidElement(t)?t.type===jo?U.cloneElement(t,{key:"label-implicit",viewBox:n}):Ee.createElement(jo,{key:"label-implicit",content:t,viewBox:n}):jn(t)?Ee.createElement(jo,{key:"label-implicit",content:t,viewBox:n}):jg(t)?Ee.createElement(jo,Px({viewBox:n},t,{key:"label-implicit"})):null:null},aVe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,o=QK(t),s=Ls(i,jo).map(function(f,h){return U.cloneElement(f,{viewBox:n||o,key:"label-".concat(h)})});if(!r)return s;var a=oVe(t.label,n||o);return[a].concat(VUe(s))};jo.parseViewBox=QK;jo.renderCallByParent=aVe;function sVe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var lVe=sVe;const cVe=cr(lVe);function Ex(e){"@babel/helpers - typeof";return Ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ex(e)}var uVe=["valueAccessor"],dVe=["data","dataKey","clockWise","id","textBreakAll"];function fVe(e){return gVe(e)||mVe(e)||pVe(e)||hVe()}function hVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pVe(e,t){if(e){if(typeof e=="string")return rI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rI(e,t)}}function mVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gVe(e){if(Array.isArray(e))return rI(e)}function rI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JS(){return JS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JS.apply(this,arguments)}function H6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function G6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H6(Object(n),!0).forEach(function(r){yVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yVe(e,t,n){return t=vVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vVe(e){var t=xVe(e,"string");return Ex(t)==="symbol"?t:String(t)}function xVe(e,t){if(Ex(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ex(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y6(e,t){if(e==null)return{};var n=bVe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bVe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var _Ve=function(t){return Array.isArray(t.value)?cVe(t.value):t.value};function Dd(e){var t=e.valueAccessor,n=t===void 0?_Ve:t,r=Y6(e,uVe),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,f=r.textBreakAll,h=Y6(r,dVe);return!i||!i.length?null:Ee.createElement(Oi,{className:"recharts-label-list"},i.map(function(g,y){var x=Gn(o)?n(g,y):rs(g&&g.payload,o),T=Gn(a)?{}:{id:"".concat(a,"-").concat(y)};return Ee.createElement(jo,JS({},Un(g,!0),h,T,{parentViewBox:g.parentViewBox,value:x,textBreakAll:f,viewBox:jo.parseViewBox(Gn(s)?g:G6(G6({},g),{},{clockWise:s})),key:"label-".concat(y),index:y}))}))}Dd.displayName="LabelList";function wVe(e,t){return e?e===!0?Ee.createElement(Dd,{key:"labelList-implicit",data:t}):Ee.isValidElement(e)||jn(e)?Ee.createElement(Dd,{key:"labelList-implicit",data:t,content:e}):jg(e)?Ee.createElement(Dd,JS({data:t},e,{key:"labelList-implicit"})):null:null}function SVe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=Ls(r,Dd).map(function(s,a){return U.cloneElement(s,{data:t,key:"labelList-".concat(a)})});if(!n)return i;var o=wVe(e.label,t);return[o].concat(fVe(i))}Dd.renderCallByParent=SVe;function Ox(e){"@babel/helpers - typeof";return Ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ox(e)}function iI(){return iI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iI.apply(this,arguments)}function K6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Z6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K6(Object(n),!0).forEach(function(r){CVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CVe(e,t,n){return t=kVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kVe(e){var t=TVe(e,"string");return Ox(t)==="symbol"?t:String(t)}function TVe(e,t){if(Ox(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ox(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PVe=function(t,n){var r=Sl(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},L1=function(t){var n=t.cx,r=t.cy,i=t.radius,o=t.angle,s=t.sign,a=t.isExternal,f=t.cornerRadius,h=t.cornerIsExternal,g=f*(a?1:-1)+i,y=Math.asin(f/g)/XS,x=h?o:o+s*y,T=vo(n,r,g,x),E=vo(n,r,i,x),C=h?o-s*y:o,O=vo(n,r,g*Math.cos(y*XS),C);return{center:T,circleTangency:E,lineTangency:O,theta:y}},eZ=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.startAngle,a=t.endAngle,f=PVe(s,a),h=s+f,g=vo(n,r,o,s),y=vo(n,r,o,h),x="M ".concat(g.x,",").concat(g.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(s>h),`,
    `).concat(y.x,",").concat(y.y,`
  `);if(i>0){var T=vo(n,r,i,s),E=vo(n,r,i,h);x+="L ".concat(E.x,",").concat(E.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(s<=h),`,
            `).concat(T.x,",").concat(T.y," Z")}else x+="L ".concat(n,",").concat(r," Z");return x},EVe=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,a=t.forceCornerRadius,f=t.cornerIsExternal,h=t.startAngle,g=t.endAngle,y=Sl(g-h),x=L1({cx:n,cy:r,radius:o,angle:h,sign:y,cornerRadius:s,cornerIsExternal:f}),T=x.circleTangency,E=x.lineTangency,C=x.theta,O=L1({cx:n,cy:r,radius:o,angle:g,sign:-y,cornerRadius:s,cornerIsExternal:f}),A=O.circleTangency,M=O.lineTangency,I=O.theta,N=f?Math.abs(h-g):Math.abs(h-g)-C-I;if(N<0)return a?"M ".concat(E.x,",").concat(E.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):eZ({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:h,endAngle:g});var $="M ".concat(E.x,",").concat(E.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(y<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(N>180),",").concat(+(y<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(y<0),",").concat(M.x,",").concat(M.y,`
  `);if(i>0){var D=L1({cx:n,cy:r,radius:i,angle:h,sign:y,isExternal:!0,cornerRadius:s,cornerIsExternal:f}),F=D.circleTangency,q=D.lineTangency,X=D.theta,J=L1({cx:n,cy:r,radius:i,angle:g,sign:-y,isExternal:!0,cornerRadius:s,cornerIsExternal:f}),ie=J.circleTangency,ge=J.lineTangency,Ce=J.theta,fe=f?Math.abs(h-g):Math.abs(h-g)-X-Ce;if(fe<0&&s===0)return"".concat($,"L").concat(n,",").concat(r,"Z");$+="L".concat(ge.x,",").concat(ge.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(y<0),",").concat(ie.x,",").concat(ie.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(fe>180),",").concat(+(y>0),",").concat(F.x,",").concat(F.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(y<0),",").concat(q.x,",").concat(q.y,"Z")}else $+="L".concat(n,",").concat(r,"Z");return $},OVe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tZ=function(t){var n=Z6(Z6({},OVe),t),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,f=n.forceCornerRadius,h=n.cornerIsExternal,g=n.startAngle,y=n.endAngle,x=n.className;if(s<o||g===y)return null;var T=at("recharts-sector",x),E=s-o,C=Zm(a,E,0,!0),O;return C>0&&Math.abs(g-y)<360?O=EVe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(C,E/2),forceCornerRadius:f,cornerIsExternal:h,startAngle:g,endAngle:y}):O=eZ({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:g,endAngle:y}),Ee.createElement("path",iI({},Un(n,!0),{className:T,d:O,role:"img"}))};function Mx(e){"@babel/helpers - typeof";return Mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mx(e)}function oI(){return oI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oI.apply(this,arguments)}function X6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function J6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X6(Object(n),!0).forEach(function(r){MVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MVe(e,t,n){return t=AVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AVe(e){var t=IVe(e,"string");return Mx(t)==="symbol"?t:String(t)}function IVe(e,t){if(Mx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Mx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q6={curveBasisClosed:cIe,curveBasisOpen:uIe,curveBasis:lIe,curveBumpX:YAe,curveBumpY:KAe,curveLinearClosed:dIe,curveLinear:Tk,curveMonotoneX:fIe,curveMonotoneY:hIe,curveNatural:pIe,curveStep:mIe,curveStepAfter:yIe,curveStepBefore:gIe},j1=function(t){return t.x===+t.x&&t.y===+t.y},Lv=function(t){return t.x},jv=function(t){return t.y},$Ve=function(t,n){if(jn(t))return t;var r="curve".concat(Ck(t));return(r==="curveMonotone"||r==="curveBump")&&n?Q6["".concat(r).concat(n==="vertical"?"Y":"X")]:Q6[r]||Tk},RVe=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,o=i===void 0?[]:i,s=t.baseLine,a=t.layout,f=t.connectNulls,h=f===void 0?!1:f,g=$Ve(r,a),y=h?o.filter(function(C){return j1(C)}):o,x;if(Array.isArray(s)){var T=h?s.filter(function(C){return j1(C)}):s,E=y.map(function(C,O){return J6(J6({},C),{},{base:T[O]})});return a==="vertical"?x=T1().y(jv).x1(Lv).x0(function(C){return C.base.x}):x=T1().x(Lv).y1(jv).y0(function(C){return C.base.y}),x.defined(j1).curve(g),x(E)}return a==="vertical"&&Et(s)?x=T1().y(jv).x1(Lv).x0(s):Et(s)?x=T1().x(Lv).y1(jv).y0(s):x=JG().x(Lv).y(jv),x.defined(j1).curve(g),x(y)},aI=function(t){var n=t.className,r=t.points,i=t.path,o=t.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?RVe(t):i;return Ee.createElement("path",oI({},Un(t,!1),vS(t),{className:at("recharts-curve",n),d:s,ref:o}))};function Ax(e){"@babel/helpers - typeof";return Ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ax(e)}function QS(){return QS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QS.apply(this,arguments)}function DVe(e,t){return zVe(e)||NVe(e,t)||jVe(e,t)||LVe()}function LVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jVe(e,t){if(e){if(typeof e=="string")return e8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e8(e,t)}}function e8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NVe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function zVe(e){if(Array.isArray(e))return e}function t8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function n8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t8(Object(n),!0).forEach(function(r){BVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BVe(e,t,n){return t=FVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FVe(e){var t=UVe(e,"string");return Ax(t)==="symbol"?t:String(t)}function UVe(e,t){if(Ax(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ax(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r8=function(t,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,f=r>=0?1:-1,h=i>=0&&r>=0||i<0&&r<0?1:0,g;if(s>0&&o instanceof Array){for(var y=[0,0,0,0],x=0,T=4;x<T;x++)y[x]=o[x]>s?s:o[x];g="M".concat(t,",").concat(n+a*y[0]),y[0]>0&&(g+="A ".concat(y[0],",").concat(y[0],",0,0,").concat(h,",").concat(t+f*y[0],",").concat(n)),g+="L ".concat(t+r-f*y[1],",").concat(n),y[1]>0&&(g+="A ".concat(y[1],",").concat(y[1],",0,0,").concat(h,`,
        `).concat(t+r,",").concat(n+a*y[1])),g+="L ".concat(t+r,",").concat(n+i-a*y[2]),y[2]>0&&(g+="A ".concat(y[2],",").concat(y[2],",0,0,").concat(h,`,
        `).concat(t+r-f*y[2],",").concat(n+i)),g+="L ".concat(t+f*y[3],",").concat(n+i),y[3]>0&&(g+="A ".concat(y[3],",").concat(y[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(n+i-a*y[3])),g+="Z"}else if(s>0&&o===+o&&o>0){var E=Math.min(s,o);g="M ".concat(t,",").concat(n+a*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(h,",").concat(t+f*E,",").concat(n,`
            L `).concat(t+r-f*E,",").concat(n,`
            A `).concat(E,",").concat(E,",0,0,").concat(h,",").concat(t+r,",").concat(n+a*E,`
            L `).concat(t+r,",").concat(n+i-a*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(h,",").concat(t+r-f*E,",").concat(n+i,`
            L `).concat(t+f*E,",").concat(n+i,`
            A `).concat(E,",").concat(E,",0,0,").concat(h,",").concat(t,",").concat(n+i-a*E," Z")}else g="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return g},VVe=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,o=n.x,s=n.y,a=n.width,f=n.height;if(Math.abs(a)>0&&Math.abs(f)>0){var h=Math.min(o,o+a),g=Math.max(o,o+a),y=Math.min(s,s+f),x=Math.max(s,s+f);return r>=h&&r<=g&&i>=y&&i<=x}return!1},WVe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XL=function(t){var n=n8(n8({},WVe),t),r=U.useRef(),i=U.useState(-1),o=DVe(i,2),s=o[0],a=o[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&a(N)}catch{}},[]);var f=n.x,h=n.y,g=n.width,y=n.height,x=n.radius,T=n.className,E=n.animationEasing,C=n.animationDuration,O=n.animationBegin,A=n.isAnimationActive,M=n.isUpdateAnimationActive;if(f!==+f||h!==+h||g!==+g||y!==+y||g===0||y===0)return null;var I=at("recharts-rectangle",T);return M?Ee.createElement(gu,{canBegin:s>0,from:{width:g,height:y,x:f,y:h},to:{width:g,height:y,x:f,y:h},duration:C,animationEasing:E,isActive:M},function(N){var $=N.width,D=N.height,F=N.x,q=N.y;return Ee.createElement(gu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:O,duration:C,isActive:A,easing:E},Ee.createElement("path",QS({},Un(n,!0),{className:I,d:r8(F,q,$,D,x),ref:r})))}):Ee.createElement("path",QS({},Un(n,!0),{className:I,d:r8(f,h,g,y,x)}))};function sI(){return sI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sI.apply(this,arguments)}var JL=function(t){var n=t.cx,r=t.cy,i=t.r,o=t.className,s=at("recharts-dot",o);return n===+n&&r===+r&&i===+i?Ee.createElement("circle",sI({},Un(t,!1),vS(t),{className:s,cx:n,cy:r,r:i})):null};function Ix(e){"@babel/helpers - typeof";return Ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ix(e)}var qVe=["x","y","top","left","width","height","className"];function lI(){return lI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lI.apply(this,arguments)}function i8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HVe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i8(Object(n),!0).forEach(function(r){GVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GVe(e,t,n){return t=YVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YVe(e){var t=KVe(e,"string");return Ix(t)==="symbol"?t:String(t)}function KVe(e,t){if(Ix(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ix(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZVe(e,t){if(e==null)return{};var n=XVe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function XVe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var JVe=function(t,n,r,i,o,s){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},QVe=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,s=t.top,a=s===void 0?0:s,f=t.left,h=f===void 0?0:f,g=t.width,y=g===void 0?0:g,x=t.height,T=x===void 0?0:x,E=t.className,C=ZVe(t,qVe),O=HVe({x:r,y:o,top:a,left:h,width:y,height:T},C);return!Et(r)||!Et(o)||!Et(y)||!Et(T)||!Et(a)||!Et(h)?null:Ee.createElement("path",lI({},Un(O,!0),{className:at("recharts-cross",E),d:JVe(r,o,y,T,a,h)}))},eWe=_Y,tWe=eWe(Object.getPrototypeOf,Object),nWe=tWe,rWe=Eu,iWe=nWe,oWe=Ou,aWe="[object Object]",sWe=Function.prototype,lWe=Object.prototype,nZ=sWe.toString,cWe=lWe.hasOwnProperty,uWe=nZ.call(Object);function dWe(e){if(!oWe(e)||rWe(e)!=aWe)return!1;var t=iWe(e);if(t===null)return!0;var n=cWe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&nZ.call(n)==uWe}var fWe=dWe;const hWe=cr(fWe);var pWe=Eu,mWe=Ou,gWe="[object Boolean]";function yWe(e){return e===!0||e===!1||mWe(e)&&pWe(e)==gWe}var vWe=yWe;const xWe=cr(vWe);function $x(e){"@babel/helpers - typeof";return $x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$x(e)}function e2(){return e2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e2.apply(this,arguments)}function bWe(e,t){return CWe(e)||SWe(e,t)||wWe(e,t)||_We()}function _We(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wWe(e,t){if(e){if(typeof e=="string")return o8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o8(e,t)}}function o8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function SWe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function CWe(e){if(Array.isArray(e))return e}function a8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function s8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a8(Object(n),!0).forEach(function(r){kWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kWe(e,t,n){return t=TWe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TWe(e){var t=PWe(e,"string");return $x(t)==="symbol"?t:String(t)}function PWe(e,t){if($x(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($x(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l8=function(t,n,r,i,o){var s=r-i,a;return a="M ".concat(t,",").concat(n),a+="L ".concat(t+r,",").concat(n),a+="L ".concat(t+r-s/2,",").concat(n+o),a+="L ".concat(t+r-s/2-i,",").concat(n+o),a+="L ".concat(t,",").concat(n," Z"),a},EWe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},OWe=function(t){var n=s8(s8({},EWe),t),r=U.useRef(),i=U.useState(-1),o=bWe(i,2),s=o[0],a=o[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var I=r.current.getTotalLength();I&&a(I)}catch{}},[]);var f=n.x,h=n.y,g=n.upperWidth,y=n.lowerWidth,x=n.height,T=n.className,E=n.animationEasing,C=n.animationDuration,O=n.animationBegin,A=n.isUpdateAnimationActive;if(f!==+f||h!==+h||g!==+g||y!==+y||x!==+x||g===0&&y===0||x===0)return null;var M=at("recharts-trapezoid",T);return A?Ee.createElement(gu,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:x,x:f,y:h},to:{upperWidth:g,lowerWidth:y,height:x,x:f,y:h},duration:C,animationEasing:E,isActive:A},function(I){var N=I.upperWidth,$=I.lowerWidth,D=I.height,F=I.x,q=I.y;return Ee.createElement(gu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:O,duration:C,easing:E},Ee.createElement("path",e2({},Un(n,!0),{className:M,d:l8(F,q,N,$,D),ref:r})))}):Ee.createElement("g",null,Ee.createElement("path",e2({},Un(n,!0),{className:M,d:l8(f,h,g,y,x)})))},MWe=["option","shapeType","propTransformer","activeClassName","isActive"];function Rx(e){"@babel/helpers - typeof";return Rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rx(e)}function AWe(e,t){if(e==null)return{};var n=IWe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function IWe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function c8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function t2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c8(Object(n),!0).forEach(function(r){$We(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $We(e,t,n){return t=RWe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RWe(e){var t=DWe(e,"string");return Rx(t)==="symbol"?t:String(t)}function DWe(e,t){if(Rx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LWe(e,t){return t2(t2({},t),e)}function jWe(e,t){return e==="symbols"}function u8(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return Ee.createElement(XL,n);case"trapezoid":return Ee.createElement(OWe,n);case"sector":return Ee.createElement(tZ,n);case"symbols":if(jWe(t))return Ee.createElement(gL,n);break;default:return null}}function NWe(e){return U.isValidElement(e)?e.props:e}function zWe(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?LWe:r,o=e.activeClassName,s=o===void 0?"recharts-active-shape":o,a=e.isActive,f=AWe(e,MWe),h;if(U.isValidElement(t))h=U.cloneElement(t,t2(t2({},f),NWe(t)));else if(jn(t))h=t(f);else if(hWe(t)&&!xWe(t)){var g=i(t,f);h=Ee.createElement(u8,{shapeType:n,elementProps:g})}else{var y=f;h=Ee.createElement(u8,{shapeType:n,elementProps:y})}return a?Ee.createElement(Oi,{className:s},h):h}function Uk(e,t){return t!=null&&"trapezoids"in e.props}function Vk(e,t){return t!=null&&"sectors"in e.props}function Dx(e,t){return t!=null&&"points"in e.props}function BWe(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,o=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&o}function FWe(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function UWe(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function VWe(e,t){var n;return Uk(e,t)?n=BWe:Vk(e,t)?n=FWe:Dx(e,t)&&(n=UWe),n}function WWe(e,t){var n;return Uk(e,t)?n="trapezoids":Vk(e,t)?n="sectors":Dx(e,t)&&(n="points"),n}function qWe(e,t){if(Uk(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Vk(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Dx(e,t)?t.payload:{}}function HWe(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=WWe(n,t),o=qWe(n,t),s=r.filter(function(f,h){var g=zk(o,f),y=n.props[i].filter(function(E){var C=VWe(n,t);return C(E,t)}),x=n.props[i].indexOf(y[y.length-1]),T=h===x;return g&&T}),a=r.indexOf(s[s.length-1]);return a}var GWe=Math.ceil,YWe=Math.max;function KWe(e,t,n,r){for(var i=-1,o=YWe(GWe((t-e)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=e,e+=n;return s}var ZWe=KWe,XWe=qY,d8=1/0,JWe=17976931348623157e292;function QWe(e){if(!e)return e===0?e:0;if(e=XWe(e),e===d8||e===-d8){var t=e<0?-1:1;return t*JWe}return e===e?e:0}var rZ=QWe,e9e=ZWe,t9e=Mk,fO=rZ;function n9e(e){return function(t,n,r){return r&&typeof r!="number"&&t9e(t,n,r)&&(n=r=void 0),t=fO(t),n===void 0?(n=t,t=0):n=fO(n),r=r===void 0?t<n?1:-1:fO(r),e9e(t,n,r,e)}}var r9e=n9e,i9e=r9e,o9e=i9e(),a9e=o9e;const n2=cr(a9e);function Lx(e){"@babel/helpers - typeof";return Lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lx(e)}function f8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function h8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f8(Object(n),!0).forEach(function(r){iZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iZ(e,t,n){return t=s9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s9e(e){var t=l9e(e,"string");return Lx(t)==="symbol"?t:String(t)}function l9e(e,t){if(Lx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c9e=["Webkit","Moz","O","ms"],u9e=function(t,n){if(!t)return null;var r=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=c9e.reduce(function(o,s){return h8(h8({},o),{},iZ({},s+r,n))},{});return i[t]=n,i};function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}function r2(){return r2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r2.apply(this,arguments)}function p8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p8(Object(n),!0).forEach(function(r){Ua(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oZ(r.key),r)}}function f9e(e,t,n){return t&&m8(e.prototype,t),n&&m8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cI(e,t)}function cI(e,t){return cI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cI(e,t)}function p9e(e){var t=g9e();return function(){var r=i2(e),i;if(t){var o=i2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return m9e(this,i)}}function m9e(e,t){if(t&&(cg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ul(e)}function Ul(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function i2(e){return i2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},i2(e)}function Ua(e,t,n){return t=oZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oZ(e){var t=y9e(e,"string");return cg(t)==="symbol"?t:String(t)}function y9e(e,t){if(cg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(cg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v9e=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,o=t.x,s=t.width,a=t.travellerWidth;if(!n||!n.length)return{};var f=n.length,h=b0().domain(n2(0,f)).range([o,o+s-a]),g=h.domain().map(function(y){return h(y)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(r),endX:h(i),scale:h,scaleValues:g}},g8=function(t){return t.changedTouches&&!!t.changedTouches.length},ug=function(e){h9e(n,e);var t=p9e(n);function n(r){var i;return d9e(this,n),i=t.call(this,r),Ua(Ul(i),"handleDrag",function(o){i.leaveTimer&&(clearTimeout(i.leaveTimer),i.leaveTimer=null),i.state.isTravellerMoving?i.handleTravellerMove(o):i.state.isSlideMoving&&i.handleSlideDrag(o)}),Ua(Ul(i),"handleTouchMove",function(o){o.changedTouches!=null&&o.changedTouches.length>0&&i.handleDrag(o.changedTouches[0])}),Ua(Ul(i),"handleDragEnd",function(){i.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var o=i.props,s=o.endIndex,a=o.onDragEnd,f=o.startIndex;a==null||a({endIndex:s,startIndex:f})}),i.detachDragEndListener()}),Ua(Ul(i),"handleLeaveWrapper",function(){(i.state.isTravellerMoving||i.state.isSlideMoving)&&(i.leaveTimer=window.setTimeout(i.handleDragEnd,i.props.leaveTimeOut))}),Ua(Ul(i),"handleEnterSlideOrTraveller",function(){i.setState({isTextActive:!0})}),Ua(Ul(i),"handleLeaveSlideOrTraveller",function(){i.setState({isTextActive:!1})}),Ua(Ul(i),"handleSlideDragStart",function(o){var s=g8(o)?o.changedTouches[0]:o;i.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),i.attachDragEndListener()}),i.travellerDragStartHandlers={startX:i.handleTravellerDragStart.bind(Ul(i),"startX"),endX:i.handleTravellerDragStart.bind(Ul(i),"endX")},i.state={},i}return f9e(n,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(i){var o=i.startX,s=i.endX,a=this.state.scaleValues,f=this.props,h=f.gap,g=f.data,y=g.length-1,x=Math.min(o,s),T=Math.max(o,s),E=n.getIndexInRange(a,x),C=n.getIndexInRange(a,T);return{startIndex:E-E%h,endIndex:C===y?y:C-C%h}}},{key:"getTextOfTick",value:function(i){var o=this.props,s=o.data,a=o.tickFormatter,f=o.dataKey,h=rs(s[i],f,i);return jn(a)?a(h,i):h}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(i){var o=this.state,s=o.slideMoveStartX,a=o.startX,f=o.endX,h=this.props,g=h.x,y=h.width,x=h.travellerWidth,T=h.startIndex,E=h.endIndex,C=h.onChange,O=i.pageX-s;O>0?O=Math.min(O,g+y-x-f,g+y-x-a):O<0&&(O=Math.max(O,g-a,g-f));var A=this.getIndex({startX:a+O,endX:f+O});(A.startIndex!==T||A.endIndex!==E)&&C&&C(A),this.setState({startX:a+O,endX:f+O,slideMoveStartX:i.pageX})}},{key:"handleTravellerDragStart",value:function(i,o){var s=g8(o)?o.changedTouches[0]:o;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:i,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(i){var o,s=this.state,a=s.brushMoveStartX,f=s.movingTravellerId,h=s.endX,g=s.startX,y=this.state[f],x=this.props,T=x.x,E=x.width,C=x.travellerWidth,O=x.onChange,A=x.gap,M=x.data,I={startX:this.state.startX,endX:this.state.endX},N=i.pageX-a;N>0?N=Math.min(N,T+E-C-y):N<0&&(N=Math.max(N,T-y)),I[f]=y+N;var $=this.getIndex(I),D=$.startIndex,F=$.endIndex,q=function(){var J=M.length-1;return f==="startX"&&(h>g?D%A===0:F%A===0)||h<g&&F===J||f==="endX"&&(h>g?F%A===0:D%A===0)||h>g&&F===J};this.setState((o={},Ua(o,f,y+N),Ua(o,"brushMoveStartX",i.pageX),o),function(){O&&q()&&O($)})}},{key:"handleTravellerMoveKeyboard",value:function(i,o){var s=this,a=this.state,f=a.scaleValues,h=a.startX,g=a.endX,y=this.state[o],x=f.indexOf(y);if(x!==-1){var T=x+i;if(!(T===-1||T>=f.length)){var E=f[T];o==="startX"&&E>=g||o==="endX"&&E<=h||this.setState(Ua({},o,E),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,f=i.height,h=i.fill,g=i.stroke;return Ee.createElement("rect",{stroke:g,fill:h,x:o,y:s,width:a,height:f})}},{key:"renderPanorama",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,f=i.height,h=i.data,g=i.children,y=i.padding,x=U.Children.only(g);return x?Ee.cloneElement(x,{x:o,y:s,width:a,height:f,margin:y,compact:!0,data:h}):null}},{key:"renderTravellerLayer",value:function(i,o){var s=this,a=this.props,f=a.y,h=a.travellerWidth,g=a.height,y=a.traveller,x=a.ariaLabel,T=a.data,E=a.startIndex,C=a.endIndex,O=Math.max(i,this.props.x),A=hO(hO({},Un(this.props,!1)),{},{x:O,y:f,width:h,height:g}),M=x||"Min value: ".concat(T[E].name,", Max value: ").concat(T[C].name);return Ee.createElement(Oi,{tabIndex:0,role:"slider","aria-label":M,"aria-valuenow":i,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[o],onTouchStart:this.travellerDragStartHandlers[o],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),s.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,o))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},n.renderTraveller(y,A))}},{key:"renderSlide",value:function(i,o){var s=this.props,a=s.y,f=s.height,h=s.stroke,g=s.travellerWidth,y=Math.min(i,o)+g,x=Math.max(Math.abs(o-i)-g,0);return Ee.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:h,fillOpacity:.2,x:y,y:a,width:x,height:f})}},{key:"renderText",value:function(){var i=this.props,o=i.startIndex,s=i.endIndex,a=i.y,f=i.height,h=i.travellerWidth,g=i.stroke,y=this.state,x=y.startX,T=y.endX,E=5,C={pointerEvents:"none",fill:g};return Ee.createElement(Oi,{className:"recharts-brush-texts"},Ee.createElement(jS,r2({textAnchor:"end",verticalAnchor:"middle",x:Math.min(x,T)-E,y:a+f/2},C),this.getTextOfTick(o)),Ee.createElement(jS,r2({textAnchor:"start",verticalAnchor:"middle",x:Math.max(x,T)+h+E,y:a+f/2},C),this.getTextOfTick(s)))}},{key:"render",value:function(){var i=this.props,o=i.data,s=i.className,a=i.children,f=i.x,h=i.y,g=i.width,y=i.height,x=i.alwaysShowText,T=this.state,E=T.startX,C=T.endX,O=T.isTextActive,A=T.isSlideMoving,M=T.isTravellerMoving,I=T.isTravellerFocused;if(!o||!o.length||!Et(f)||!Et(h)||!Et(g)||!Et(y)||g<=0||y<=0)return null;var N=at("recharts-brush",s),$=Ee.Children.count(a)===1,D=u9e("userSelect","none");return Ee.createElement(Oi,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:D},this.renderBackground(),$&&this.renderPanorama(),this.renderSlide(E,C),this.renderTravellerLayer(E,"startX"),this.renderTravellerLayer(C,"endX"),(O||A||M||I||x)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(i){var o=i.x,s=i.y,a=i.width,f=i.height,h=i.stroke,g=Math.floor(s+f/2)-1;return Ee.createElement(Ee.Fragment,null,Ee.createElement("rect",{x:o,y:s,width:a,height:f,fill:h,stroke:"none"}),Ee.createElement("line",{x1:o+1,y1:g,x2:o+a-1,y2:g,fill:"none",stroke:"#fff"}),Ee.createElement("line",{x1:o+1,y1:g+2,x2:o+a-1,y2:g+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(i,o){var s;return Ee.isValidElement(i)?s=Ee.cloneElement(i,o):jn(i)?s=i(o):s=n.renderDefaultTraveller(o),s}},{key:"getDerivedStateFromProps",value:function(i,o){var s=i.data,a=i.width,f=i.x,h=i.travellerWidth,g=i.updateId,y=i.startIndex,x=i.endIndex;if(s!==o.prevData||g!==o.prevUpdateId)return hO({prevData:s,prevTravellerWidth:h,prevUpdateId:g,prevX:f,prevWidth:a},s&&s.length?v9e({data:s,width:a,x:f,travellerWidth:h,startIndex:y,endIndex:x}):{scale:null,scaleValues:null});if(o.scale&&(a!==o.prevWidth||f!==o.prevX||h!==o.prevTravellerWidth)){o.scale.range([f,f+a-h]);var T=o.scale.domain().map(function(E){return o.scale(E)});return{prevData:s,prevTravellerWidth:h,prevUpdateId:g,prevX:f,prevWidth:a,startX:o.scale(i.startIndex),endX:o.scale(i.endIndex),scaleValues:T}}return null}},{key:"getIndexInRange",value:function(i,o){for(var s=i.length,a=0,f=s-1;f-a>1;){var h=Math.floor((a+f)/2);i[h]>o?f=h:a=h}return o>=i[f]?f:a}}]),n}(U.PureComponent);Ua(ug,"displayName","Brush");Ua(ug,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var x9e=SL;function b9e(e,t){var n;return x9e(e,function(r,i,o){return n=t(r,i,o),!n}),!!n}var _9e=b9e,w9e=hY,S9e=Jd,C9e=_9e,k9e=Da,T9e=Mk;function P9e(e,t,n){var r=k9e(e)?w9e:C9e;return n&&T9e(e,t,n)&&(t=void 0),r(e,S9e(t))}var E9e=P9e;const O9e=cr(E9e);var lc=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},y8=DY;function M9e(e,t,n){t=="__proto__"&&y8?y8(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var A9e=M9e,I9e=A9e,$9e=$Y,R9e=Jd;function D9e(e,t){var n={};return t=R9e(t),$9e(e,function(r,i,o){I9e(n,i,t(r,i,o))}),n}var L9e=D9e;const j9e=cr(L9e);function N9e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var z9e=N9e,B9e=SL;function F9e(e,t){var n=!0;return B9e(e,function(r,i,o){return n=!!t(r,i,o),n}),n}var U9e=F9e,V9e=z9e,W9e=U9e,q9e=Jd,H9e=Da,G9e=Mk;function Y9e(e,t,n){var r=H9e(e)?V9e:W9e;return n&&G9e(e,t,n)&&(t=void 0),r(e,q9e(t))}var K9e=Y9e;const aZ=cr(K9e);function jx(e){"@babel/helpers - typeof";return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jx(e)}var Z9e=["x","y"];function uI(){return uI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uI.apply(this,arguments)}function v8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v8(Object(n),!0).forEach(function(r){X9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X9e(e,t,n){return t=J9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J9e(e){var t=Q9e(e,"string");return jx(t)==="symbol"?t:String(t)}function Q9e(e,t){if(jx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(jx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e7e(e,t){if(e==null)return{};var n=t7e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function t7e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function n7e(e,t){var n=e.x,r=e.y,i=e7e(e,Z9e),o="".concat(n),s=parseInt(o,10),a="".concat(r),f=parseInt(a,10),h="".concat(t.height||i.height),g=parseInt(h,10),y="".concat(t.width||i.width),x=parseInt(y,10);return Nv(Nv(Nv(Nv(Nv({},t),i),s?{x:s}:{}),f?{y:f}:{}),{},{height:g,width:x,name:t.name,radius:t.radius})}function x8(e){return Ee.createElement(zWe,uI({shapeType:"rectangle",propTransformer:n7e,activeClassName:"recharts-active-bar"},e))}var r7e=["value","background"];function dg(e){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dg(e)}function i7e(e,t){if(e==null)return{};var n=o7e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function o7e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function o2(){return o2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o2.apply(this,arguments)}function b8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b8(Object(n),!0).forEach(function(r){bd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sZ(r.key),r)}}function s7e(e,t,n){return t&&_8(e.prototype,t),n&&_8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dI(e,t)}function dI(e,t){return dI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dI(e,t)}function c7e(e){var t=d7e();return function(){var r=a2(e),i;if(t){var o=a2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return u7e(this,i)}}function u7e(e,t){if(t&&(dg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zv(e)}function Zv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d7e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function a2(e){return a2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},a2(e)}function bd(e,t,n){return t=sZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sZ(e){var t=f7e(e,"string");return dg(t)==="symbol"?t:String(t)}function f7e(e,t){if(dg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(dg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wk=function(e){l7e(n,e);var t=c7e(n);function n(){var r;a7e(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),bd(Zv(r),"state",{isAnimationFinished:!1}),bd(Zv(r),"id",wb("recharts-bar-")),bd(Zv(r),"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),a&&a()}),bd(Zv(r),"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),a&&a()}),r}return s7e(n,[{key:"renderRectanglesStatically",value:function(i){var o=this,s=this.props,a=s.shape,f=s.dataKey,h=s.activeIndex,g=s.activeBar,y=Un(this.props,!1);return i&&i.map(function(x,T){var E=T===h,C=E?g:a,O=eo(eo(eo({},y),x),{},{isActive:E,option:C,index:T,dataKey:f,onAnimationStart:o.handleAnimationStart,onAnimationEnd:o.handleAnimationEnd});return Ee.createElement(Oi,o2({className:"recharts-bar-rectangle"},xS(o.props,x,T),{key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value)}),Ee.createElement(x8,O))})}},{key:"renderRectanglesWithAnimation",value:function(){var i=this,o=this.props,s=o.data,a=o.layout,f=o.isAnimationActive,h=o.animationBegin,g=o.animationDuration,y=o.animationEasing,x=o.animationId,T=this.state.prevData;return Ee.createElement(gu,{begin:h,duration:g,isActive:f,easing:y,from:{t:0},to:{t:1},key:"bar-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var C=E.t,O=s.map(function(A,M){var I=T&&T[M];if(I){var N=yl(I.x,A.x),$=yl(I.y,A.y),D=yl(I.width,A.width),F=yl(I.height,A.height);return eo(eo({},A),{},{x:N(C),y:$(C),width:D(C),height:F(C)})}if(a==="horizontal"){var q=yl(0,A.height),X=q(C);return eo(eo({},A),{},{y:A.y+A.height-X,height:X})}var J=yl(0,A.width),ie=J(C);return eo(eo({},A),{},{width:ie})});return Ee.createElement(Oi,null,i.renderRectanglesStatically(O))})}},{key:"renderRectangles",value:function(){var i=this.props,o=i.data,s=i.isAnimationActive,a=this.state.prevData;return s&&o&&o.length&&(!a||!zk(a,o))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(o)}},{key:"renderBackground",value:function(){var i=this,o=this.props,s=o.data,a=o.dataKey,f=o.activeIndex,h=Un(this.props.background,!1);return s.map(function(g,y){g.value;var x=g.background,T=i7e(g,r7e);if(!x)return null;var E=eo(eo(eo(eo(eo({},T),{},{fill:"#eee"},x),h),xS(i.props,g,y)),{},{onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd,dataKey:a,index:y,key:"background-bar-".concat(y),className:"recharts-bar-background-rectangle"});return Ee.createElement(x8,o2({option:i.props.background,isActive:y===f},E))})}},{key:"renderErrorBar",value:function(i,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,f=s.xAxis,h=s.yAxis,g=s.layout,y=s.children,x=Ls(y,Eb);if(!x)return null;var T=g==="vertical"?a[0].height/2:a[0].width/2,E=function(A,M){var I=Array.isArray(A.value)?A.value[1]:A.value;return{x:A.x,y:A.y,value:I,errorVal:rs(A,M)}},C={clipPath:i?"url(#clipPath-".concat(o,")"):null};return Ee.createElement(Oi,C,x.map(function(O){return Ee.cloneElement(O,{key:"error-bar-".concat(o,"-").concat(O.props.dataKey),data:a,xAxis:f,yAxis:h,layout:g,offset:T,dataPointFormatter:E})}))}},{key:"render",value:function(){var i=this.props,o=i.hide,s=i.data,a=i.className,f=i.xAxis,h=i.yAxis,g=i.left,y=i.top,x=i.width,T=i.height,E=i.isAnimationActive,C=i.background,O=i.id;if(o||!s||!s.length)return null;var A=this.state.isAnimationFinished,M=at("recharts-bar",a),I=f&&f.allowDataOverflow,N=h&&h.allowDataOverflow,$=I||N,D=Gn(O)?this.id:O;return Ee.createElement(Oi,{className:M},I||N?Ee.createElement("defs",null,Ee.createElement("clipPath",{id:"clipPath-".concat(D)},Ee.createElement("rect",{x:I?g:g-x/2,y:N?y:y-T/2,width:I?x:x*2,height:N?T:T*2}))):null,Ee.createElement(Oi,{className:"recharts-bar-rectangles",clipPath:$?"url(#clipPath-".concat(D,")"):null},C?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar($,D),(!E||A)&&Dd.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curData:i.data,prevData:o.curData}:i.data!==o.curData?{curData:i.data}:null}}]),n}(U.PureComponent);bd(Wk,"displayName","Bar");bd(Wk,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!0,isAnimationActive:!iu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});bd(Wk,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,s=e.yAxis,a=e.xAxisTicks,f=e.yAxisTicks,h=e.stackedData,g=e.dataStartIndex,y=e.displayedData,x=e.offset,T=SUe(r,n);if(!T)return null;var E=t.layout,C=n.props,O=C.dataKey,A=C.children,M=C.minPointSize,I=E==="horizontal"?s:o,N=h?I.scale.domain():null,$=AUe({numericAxis:I}),D=Ls(A,GY),F=y.map(function(q,X){var J,ie,ge,Ce,fe,ce;if(h?J=CUe(h[g+X],N):(J=rs(q,O),Array.isArray(J)||(J=[$,J])),E==="horizontal"){var ue,xe=[s.scale(J[0]),s.scale(J[1])],le=xe[0],Pe=xe[1];ie=N6({axis:o,ticks:a,bandSize:i,offset:T.offset,entry:q,index:X}),ge=(ue=Pe??le)!==null&&ue!==void 0?ue:void 0,Ce=T.size;var je=le-Pe;if(fe=Number.isNaN(je)?0:je,ce={x:ie,y:s.y,width:Ce,height:s.height},Math.abs(M)>0&&Math.abs(fe)<Math.abs(M)){var Qe=Sl(fe||M)*(Math.abs(M)-Math.abs(fe));ge-=Qe,fe+=Qe}}else{var We=[o.scale(J[0]),o.scale(J[1])],Ke=We[0],nt=We[1];if(ie=Ke,ge=N6({axis:s,ticks:f,bandSize:i,offset:T.offset,entry:q,index:X}),Ce=nt-Ke,fe=T.size,ce={x:o.x,y:ge,width:o.width,height:fe},Math.abs(M)>0&&Math.abs(Ce)<Math.abs(M)){var mt=Sl(Ce||M)*(Math.abs(M)-Math.abs(Ce));Ce+=mt}}return eo(eo(eo({},q),{},{x:ie,y:ge,width:Ce,height:fe,value:h?J:J[1],payload:q,background:ce},D&&D[X]&&D[X].props),{},{tooltipPayload:[JK(n,q)],tooltipPosition:{x:ie+Ce/2,y:ge+fe/2}})});return eo({data:F,layout:E},x)});function Nx(e){"@babel/helpers - typeof";return Nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nx(e)}function h7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lZ(r.key),r)}}function p7e(e,t,n){return t&&w8(e.prototype,t),n&&w8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(n),!0).forEach(function(r){qk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qk(e,t,n){return t=lZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lZ(e){var t=m7e(e,"string");return Nx(t)==="symbol"?t:String(t)}function m7e(e,t){if(Nx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Nx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g7e=function(t,n,r,i,o){var s=t.width,a=t.height,f=t.layout,h=t.children,g=Object.keys(n),y={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},x=!!Wa(h,Wk);return g.reduce(function(T,E){var C=n[E],O=C.orientation,A=C.domain,M=C.padding,I=M===void 0?{}:M,N=C.mirror,$=C.reversed,D="".concat(O).concat(N?"Mirror":""),F,q,X,J,ie;if(C.type==="number"&&(C.padding==="gap"||C.padding==="no-gap")){var ge=A[1]-A[0],Ce=1/0,fe=C.categoricalDomain.sort();fe.forEach(function(nt,mt){mt>0&&(Ce=Math.min((nt||0)-(fe[mt-1]||0),Ce))});var ce=Ce/ge,ue=C.layout==="vertical"?r.height:r.width;if(C.padding==="gap"&&(F=ce*ue/2),C.padding==="no-gap"){var xe=Zm(t.barCategoryGap,ce*ue),le=ce*ue/2;F=le-xe-(le-xe)/ue*xe}}i==="xAxis"?q=[r.left+(I.left||0)+(F||0),r.left+r.width-(I.right||0)-(F||0)]:i==="yAxis"?q=f==="horizontal"?[r.top+r.height-(I.bottom||0),r.top+(I.top||0)]:[r.top+(I.top||0)+(F||0),r.top+r.height-(I.bottom||0)-(F||0)]:q=C.range,$&&(q=[q[1],q[0]]);var Pe=_Ue(C,o,x),je=Pe.scale,Qe=Pe.realScaleType;je.domain(A).range(q),wUe(je);var We=MUe(je,hl(hl({},C),{},{realScaleType:Qe}));i==="xAxis"?(ie=O==="top"&&!N||O==="bottom"&&N,X=r.left,J=y[D]-ie*C.height):i==="yAxis"&&(ie=O==="left"&&!N||O==="right"&&N,X=y[D]-ie*C.width,J=r.top);var Ke=hl(hl(hl({},C),We),{},{realScaleType:Qe,x:X,y:J,scale:je,width:i==="xAxis"?r.width:C.width,height:i==="yAxis"?r.height:C.height});return Ke.bandSize=ZS(Ke,We),!C.hide&&i==="xAxis"?y[D]+=(ie?-1:1)*Ke.height:C.hide||(y[D]+=(ie?-1:1)*Ke.width),hl(hl({},T),{},qk({},E,Ke))},{})},cZ=function(t,n){var r=t.x,i=t.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},y7e=function(t){var n=t.x1,r=t.y1,i=t.x2,o=t.y2;return cZ({x:n,y:r},{x:i,y:o})},uZ=function(){function e(t){h7e(this,e),this.scale=t}return p7e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+f}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}]),e}();qk(uZ,"EPS",1e-4);var QL=function(t){var n=Object.keys(t).reduce(function(r,i){return hl(hl({},r),{},qk({},i,uZ.create(t[i])))},{});return hl(hl({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return j9e(i,function(f,h){return n[h].apply(f,{bandAware:s,position:a})})},isInRange:function(i){return aZ(i,function(o,s){return n[s].isInRange(o)})}})};function v7e(e){return(e%180+180)%180}var x7e=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=v7e(i),s=o*Math.PI/180,a=Math.atan(r/n),f=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(f)},b7e=jOe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),dZ=U.createContext(void 0),fZ=U.createContext(void 0),hZ=U.createContext(void 0),pZ=U.createContext({}),mZ=U.createContext(void 0),gZ=U.createContext(0),yZ=U.createContext(0),_7e=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=t.clipPathId,a=t.children,f=t.width,h=t.height,g=b7e(o);return Ee.createElement(dZ.Provider,{value:r},Ee.createElement(fZ.Provider,{value:i},Ee.createElement(pZ.Provider,{value:o},Ee.createElement(hZ.Provider,{value:g},Ee.createElement(mZ.Provider,{value:s},Ee.createElement(gZ.Provider,{value:h},Ee.createElement(yZ.Provider,{value:f},a)))))))},w7e=function(){return U.useContext(mZ)},vZ=function(t){var n=U.useContext(dZ);n==null&&lg(!1);var r=n[t];return r==null&&lg(!1),r},xZ=function(t){var n=U.useContext(fZ);n==null&&lg(!1);var r=n[t];return r==null&&lg(!1),r},S7e=function(){var t=U.useContext(hZ);return t},C7e=function(){return U.useContext(pZ)},ej=function(){return U.useContext(yZ)},tj=function(){return U.useContext(gZ)};function zx(e){"@babel/helpers - typeof";return zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zx(e)}function C8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function k8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C8(Object(n),!0).forEach(function(r){k7e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k7e(e,t,n){return t=T7e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T7e(e){var t=P7e(e,"string");return zx(t)==="symbol"?t:String(t)}function P7e(e,t){if(zx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E7e(e,t){return I7e(e)||A7e(e,t)||M7e(e,t)||O7e()}function O7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M7e(e,t){if(e){if(typeof e=="string")return T8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T8(e,t)}}function T8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A7e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function I7e(e){if(Array.isArray(e))return e}function fI(){return fI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fI.apply(this,arguments)}var $7e=function(t,n){var r;return Ee.isValidElement(t)?r=Ee.cloneElement(t,n):jn(t)?r=t(n):r=Ee.createElement("line",fI({},n,{className:"recharts-reference-line-line"})),r},R7e=function(t,n,r,i,o,s,a,f,h){var g=o.x,y=o.y,x=o.width,T=o.height;if(r){var E=h.y,C=t.y.apply(E,{position:s});if(lc(h,"discard")&&!t.y.isInRange(C))return null;var O=[{x:g+x,y:C},{x:g,y:C}];return f==="left"?O.reverse():O}if(n){var A=h.x,M=t.x.apply(A,{position:s});if(lc(h,"discard")&&!t.x.isInRange(M))return null;var I=[{x:M,y:y+T},{x:M,y}];return a==="top"?I.reverse():I}if(i){var N=h.segment,$=N.map(function(D){return t.apply(D,{position:s})});return lc(h,"discard")&&O9e($,function(D){return!t.isInRange(D)})?null:$}return null};function nj(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,o=e.yAxisId,s=e.shape,a=e.className,f=e.alwaysShow,h=w7e(),g=vZ(i),y=xZ(o),x=S7e();if(!h||!x)return null;ru(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var T=QL({x:g.scale,y:y.scale}),E=qi(t),C=qi(n),O=r&&r.length===2,A=R7e(T,E,C,O,x,e.position,g.orientation,y.orientation,e);if(!A)return null;var M=E7e(A,2),I=M[0],N=I.x,$=I.y,D=M[1],F=D.x,q=D.y,X=lc(e,"hidden")?"url(#".concat(h,")"):void 0,J=k8(k8({clipPath:X},Un(e,!0)),{},{x1:N,y1:$,x2:F,y2:q});return Ee.createElement(Oi,{className:at("recharts-reference-line",a)},$7e(s,J),jo.renderCallByParent(e,y7e({x1:N,y1:$,x2:F,y2:q})))}nj.displayName="ReferenceLine";nj.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function Bx(e){"@babel/helpers - typeof";return Bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bx(e)}function hI(){return hI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hI.apply(this,arguments)}function P8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function E8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P8(Object(n),!0).forEach(function(r){D7e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D7e(e,t,n){return t=L7e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L7e(e){var t=j7e(e,"string");return Bx(t)==="symbol"?t:String(t)}function j7e(e,t){if(Bx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N7e=function(t){var n=t.x,r=t.y,i=t.xAxis,o=t.yAxis,s=QL({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return lc(t,"discard")&&!s.isInRange(a)?null:a};function Ob(e){var t=e.x,n=e.y,r=e.r,i=e.alwaysShow,o=e.clipPathId,s=qi(t),a=qi(n);if(ru(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!a)return null;var f=N7e(e);if(!f)return null;var h=f.x,g=f.y,y=e.shape,x=e.className,T=lc(e,"hidden")?"url(#".concat(o,")"):void 0,E=E8(E8({clipPath:T},Un(e,!0)),{},{cx:h,cy:g});return Ee.createElement(Oi,{className:at("recharts-reference-dot",x)},Ob.renderDot(y,E),jo.renderCallByParent(e,{x:h-r,y:g-r,width:2*r,height:2*r}))}Ob.displayName="ReferenceDot";Ob.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};Ob.renderDot=function(e,t){var n;return Ee.isValidElement(e)?n=Ee.cloneElement(e,t):jn(e)?n=e(t):n=Ee.createElement(JL,hI({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n};function Fx(e){"@babel/helpers - typeof";return Fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fx(e)}function pI(){return pI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pI.apply(this,arguments)}function O8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function M8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O8(Object(n),!0).forEach(function(r){z7e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z7e(e,t,n){return t=B7e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B7e(e){var t=F7e(e,"string");return Fx(t)==="symbol"?t:String(t)}function F7e(e,t){if(Fx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U7e=function(t,n,r,i,o){var s=o.x1,a=o.x2,f=o.y1,h=o.y2,g=o.xAxis,y=o.yAxis;if(!g||!y)return null;var x=QL({x:g.scale,y:y.scale}),T={x:t?x.x.apply(s,{position:"start"}):x.x.rangeMin,y:r?x.y.apply(f,{position:"start"}):x.y.rangeMin},E={x:n?x.x.apply(a,{position:"end"}):x.x.rangeMax,y:i?x.y.apply(h,{position:"end"}):x.y.rangeMax};return lc(o,"discard")&&(!x.isInRange(T)||!x.isInRange(E))?null:cZ(T,E)};function Mb(e){var t=e.x1,n=e.x2,r=e.y1,i=e.y2,o=e.className,s=e.alwaysShow,a=e.clipPathId;ru(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=qi(t),h=qi(n),g=qi(r),y=qi(i),x=e.shape;if(!f&&!h&&!g&&!y&&!x)return null;var T=U7e(f,h,g,y,e);if(!T&&!x)return null;var E=lc(e,"hidden")?"url(#".concat(a,")"):void 0;return Ee.createElement(Oi,{className:at("recharts-reference-area",o)},Mb.renderRect(x,M8(M8({clipPath:E},Un(e,!0)),T)),jo.renderCallByParent(e,T))}Mb.displayName="ReferenceArea";Mb.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};Mb.renderRect=function(e,t){var n;return Ee.isValidElement(e)?n=Ee.cloneElement(e,t):jn(e)?n=e(t):n=Ee.createElement(XL,pI({},t,{className:"recharts-reference-area-rect"})),n};function bZ(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)if(n===void 0||n(e[i])===!0)r.push(e[i]);else return;return r}function V7e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return x7e(r,n)}function W7e(e,t,n){var r=n==="width",i=e.x,o=e.y,s=e.width,a=e.height;return t===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function s2(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function q7e(e,t){return bZ(e,t+1)}function H7e(e,t,n,r,i){for(var o=(r||[]).slice(),s=t.start,a=t.end,f=0,h=1,g=s,y=function(){var E=r==null?void 0:r[f];if(E===void 0)return{v:bZ(r,h)};var C=f,O,A=function(){return O===void 0&&(O=n(E,C)),O},M=E.coordinate,I=f===0||s2(e,M,A,g,a);I||(f=0,g=s,h+=1),I&&(g=M+e*(A()/2+i),f+=h)},x;h<=o.length;)if(x=y(),x)return x.v;return[]}function Ux(e){"@babel/helpers - typeof";return Ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ux(e)}function A8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Do(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A8(Object(n),!0).forEach(function(r){G7e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G7e(e,t,n){return t=Y7e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y7e(e){var t=K7e(e,"string");return Ux(t)==="symbol"?t:String(t)}function K7e(e,t){if(Ux(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ux(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z7e(e,t,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=t.start,f=t.end,h=function(x){var T=o[x],E,C=function(){return E===void 0&&(E=n(T,x)),E};if(x===s-1){var O=e*(T.coordinate+e*C()/2-f);o[x]=T=Do(Do({},T),{},{tickCoord:O>0?T.coordinate-O*e:T.coordinate})}else o[x]=T=Do(Do({},T),{},{tickCoord:T.coordinate});var A=s2(e,T.tickCoord,C,a,f);A&&(f=T.tickCoord-e*(C()/2+i),o[x]=Do(Do({},T),{},{isShow:!0}))},g=s-1;g>=0;g--)h(g);return o}function X7e(e,t,n,r,i,o){var s=(r||[]).slice(),a=s.length,f=t.start,h=t.end;if(o){var g=r[a-1],y=n(g,a-1),x=e*(g.coordinate+e*y/2-h);s[a-1]=g=Do(Do({},g),{},{tickCoord:x>0?g.coordinate-x*e:g.coordinate});var T=s2(e,g.tickCoord,function(){return y},f,h);T&&(h=g.tickCoord-e*(y/2+i),s[a-1]=Do(Do({},g),{},{isShow:!0}))}for(var E=o?a-1:a,C=function(M){var I=s[M],N,$=function(){return N===void 0&&(N=n(I,M)),N};if(M===0){var D=e*(I.coordinate-e*$()/2-f);s[M]=I=Do(Do({},I),{},{tickCoord:D<0?I.coordinate-D*e:I.coordinate})}else s[M]=I=Do(Do({},I),{},{tickCoord:I.coordinate});var F=s2(e,I.tickCoord,$,f,h);F&&(f=I.tickCoord+e*($()/2+i),s[M]=Do(Do({},I),{},{isShow:!0}))},O=0;O<E;O++)C(O);return s}function rj(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,s=e.minTickGap,a=e.orientation,f=e.interval,h=e.tickFormatter,g=e.unit,y=e.angle;if(!i||!i.length||!r)return[];if(Et(f)||iu.isSsr)return q7e(i,typeof f=="number"&&Et(f)?f:0);var x=[],T=a==="top"||a==="bottom"?"width":"height",E=g&&T==="width"?x0(g,{fontSize:t,letterSpacing:n}):{width:0,height:0},C=function(I,N){var $=jn(h)?h(I.value,N):I.value;return T==="width"?V7e(x0($,{fontSize:t,letterSpacing:n}),E,y):x0($,{fontSize:t,letterSpacing:n})[T]},O=i.length>=2?Sl(i[1].coordinate-i[0].coordinate):1,A=W7e(o,O,T);return f==="equidistantPreserveStart"?H7e(O,A,C,i,s):(f==="preserveStart"||f==="preserveStartEnd"?x=X7e(O,A,C,i,s,f==="preserveStartEnd"):x=Z7e(O,A,C,i,s),x.filter(function(M){return M.isShow}))}var J7e=["viewBox"],Q7e=["viewBox"],eqe=["ticks"];function fg(e){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(e)}function sm(){return sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sm.apply(this,arguments)}function I8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ta(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I8(Object(n),!0).forEach(function(r){ij(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pO(e,t){if(e==null)return{};var n=tqe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tqe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function nqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_Z(r.key),r)}}function rqe(e,t,n){return t&&$8(e.prototype,t),n&&$8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function iqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mI(e,t)}function mI(e,t){return mI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mI(e,t)}function oqe(e){var t=lqe();return function(){var r=l2(e),i;if(t){var o=l2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return aqe(this,i)}}function aqe(e,t){if(t&&(fg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sqe(e)}function sqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lqe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function l2(e){return l2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},l2(e)}function ij(e,t,n){return t=_Z(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Z(e){var t=cqe(e,"string");return fg(t)==="symbol"?t:String(t)}function cqe(e,t){if(fg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yg=function(e){iqe(n,e);var t=oqe(n);function n(r){var i;return nqe(this,n),i=t.call(this,r),i.state={fontSize:"",letterSpacing:""},i}return rqe(n,[{key:"shouldComponentUpdate",value:function(i,o){var s=i.viewBox,a=pO(i,J7e),f=this.props,h=f.viewBox,g=pO(f,Q7e);return!km(s,h)||!km(a,g)||!km(o,this.state)}},{key:"componentDidMount",value:function(){var i=this.layerReference;if(i){var o=i.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];o&&this.setState({fontSize:window.getComputedStyle(o).fontSize,letterSpacing:window.getComputedStyle(o).letterSpacing})}}},{key:"getTickLineCoord",value:function(i){var o=this.props,s=o.x,a=o.y,f=o.width,h=o.height,g=o.orientation,y=o.tickSize,x=o.mirror,T=o.tickMargin,E,C,O,A,M,I,N=x?-1:1,$=i.tickSize||y,D=Et(i.tickCoord)?i.tickCoord:i.coordinate;switch(g){case"top":E=C=i.coordinate,A=a+ +!x*h,O=A-N*$,I=O-N*T,M=D;break;case"left":O=A=i.coordinate,C=s+ +!x*f,E=C-N*$,M=E-N*T,I=D;break;case"right":O=A=i.coordinate,C=s+ +x*f,E=C+N*$,M=E+N*T,I=D;break;default:E=C=i.coordinate,A=a+ +x*h,O=A+N*$,I=O+N*T,M=D;break}return{line:{x1:E,y1:O,x2:C,y2:A},tick:{x:M,y:I}}}},{key:"getTickTextAnchor",value:function(){var i=this.props,o=i.orientation,s=i.mirror,a;switch(o){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var i=this.props,o=i.orientation,s=i.mirror,a="end";switch(o){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,f=i.height,h=i.orientation,g=i.mirror,y=i.axisLine,x=ta(ta(ta({},Un(this.props,!1)),Un(y,!1)),{},{fill:"none"});if(h==="top"||h==="bottom"){var T=+(h==="top"&&!g||h==="bottom"&&g);x=ta(ta({},x),{},{x1:o,y1:s+T*f,x2:o+a,y2:s+T*f})}else{var E=+(h==="left"&&!g||h==="right"&&g);x=ta(ta({},x),{},{x1:o+E*a,y1:s,x2:o+E*a,y2:s+f})}return Ee.createElement("line",sm({},x,{className:at("recharts-cartesian-axis-line",Ds(y,"className"))}))}},{key:"renderTicks",value:function(i,o,s){var a=this,f=this.props,h=f.tickLine,g=f.stroke,y=f.tick,x=f.tickFormatter,T=f.unit,E=rj(ta(ta({},this.props),{},{ticks:i}),o,s),C=this.getTickTextAnchor(),O=this.getTickVerticalAnchor(),A=Un(this.props,!1),M=Un(y,!1),I=ta(ta({},A),{},{fill:"none"},Un(h,!1)),N=E.map(function($,D){var F=a.getTickLineCoord($),q=F.line,X=F.tick,J=ta(ta(ta(ta({textAnchor:C,verticalAnchor:O},A),{},{stroke:"none",fill:g},M),X),{},{index:D,payload:$,visibleTicksCount:E.length,tickFormatter:x});return Ee.createElement(Oi,sm({className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},xS(a.props,$,D)),h&&Ee.createElement("line",sm({},I,q,{className:at("recharts-cartesian-axis-tick-line",Ds(h,"className"))})),y&&n.renderTickItem(y,J,"".concat(jn(x)?x($.value,D):$.value).concat(T||"")))});return Ee.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var i=this,o=this.props,s=o.axisLine,a=o.width,f=o.height,h=o.ticksGenerator,g=o.className,y=o.hide;if(y)return null;var x=this.props,T=x.ticks,E=pO(x,eqe),C=T;return jn(h)&&(C=T&&T.length>0?h(this.props):h(E)),a<=0||f<=0||!C||!C.length?null:Ee.createElement(Oi,{className:at("recharts-cartesian-axis",g),ref:function(A){i.layerReference=A}},s&&this.renderAxisLine(),this.renderTicks(C,this.state.fontSize,this.state.letterSpacing),jo.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(i,o,s){var a;return Ee.isValidElement(i)?a=Ee.cloneElement(i,o):jn(i)?a=i(o):a=Ee.createElement(jS,sm({},o,{className:"recharts-cartesian-axis-tick-value"}),s),a}}]),n}(U.Component);ij(Yg,"displayName","CartesianAxis");ij(Yg,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var uqe=["x1","y1","x2","y2","key"],dqe=["offset"];function bh(e){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bh(e)}function R8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function No(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R8(Object(n),!0).forEach(function(r){fqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fqe(e,t,n){return t=hqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hqe(e){var t=pqe(e,"string");return bh(t)==="symbol"?t:String(t)}function pqe(e,t){if(bh(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zf.apply(this,arguments)}function D8(e,t){if(e==null)return{};var n=mqe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mqe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var gqe=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,o=t.y,s=t.width,a=t.height;return Ee.createElement("rect",{x:i,y:o,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function wZ(e,t){var n;if(Ee.isValidElement(e))n=Ee.cloneElement(e,t);else if(jn(e))n=e(t);else{var r=t.x1,i=t.y1,o=t.x2,s=t.y2,a=t.key,f=D8(t,uqe),h=Un(f,!1);h.offset;var g=D8(h,dqe);n=Ee.createElement("line",Zf({},g,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function yqe(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,f){var h=No(No({},e),{},{x1:t,y1:a,x2:t+n,y2:a,key:"line-".concat(f),index:f});return wZ(i,h)});return Ee.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function vqe(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,o=e.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,f){var h=No(No({},e),{},{x1:a,y1:t,x2:a,y2:t+n,key:"line-".concat(f),index:f});return wZ(i,h)});return Ee.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function xqe(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,o=e.width,s=e.height,a=e.horizontalPoints,f=e.horizontal,h=f===void 0?!0:f;if(!h||!t||!t.length)return null;var g=a.map(function(x){return Math.round(x+i-i)}).sort(function(x,T){return x-T});i!==g[0]&&g.unshift(0);var y=g.map(function(x,T){var E=!g[T+1],C=E?i+s-x:g[T+1]-x;if(C<=0)return null;var O=T%t.length;return Ee.createElement("rect",{key:"react-".concat(T),y:x,x:r,height:C,width:o,stroke:"none",fill:t[O],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Ee.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},y)}function bqe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,o=e.x,s=e.y,a=e.width,f=e.height,h=e.verticalPoints;if(!n||!r||!r.length)return null;var g=h.map(function(x){return Math.round(x+o-o)}).sort(function(x,T){return x-T});o!==g[0]&&g.unshift(0);var y=g.map(function(x,T){var E=!g[T+1],C=E?o+a-x:g[T+1]-x;if(C<=0)return null;var O=T%r.length;return Ee.createElement("rect",{key:"react-".concat(T),x,y:s,width:C,height:f,stroke:"none",fill:r[O],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Ee.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},y)}var _qe=function(t,n){var r=t.xAxis,i=t.width,o=t.height,s=t.offset;return ZK(rj(No(No(No({},Yg.defaultProps),r),{},{ticks:Jc(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},wqe=function(t,n){var r=t.yAxis,i=t.width,o=t.height,s=t.offset;return ZK(rj(No(No(No({},Yg.defaultProps),r),{},{ticks:Jc(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},$p={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function SZ(e){var t,n,r,i,o,s,a=ej(),f=tj(),h=C7e(),g=No(No({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:$p.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:$p.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:$p.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:$p.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:$p.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:$p.verticalFill}),y=g.x,x=g.y,T=g.width,E=g.height,C=g.xAxis,O=g.yAxis,A=g.syncWithTicks,M=g.horizontalValues,I=g.verticalValues;if(!Et(T)||T<=0||!Et(E)||E<=0||!Et(y)||y!==+y||!Et(x)||x!==+x)return null;var N=g.verticalCoordinatesGenerator||_qe,$=g.horizontalCoordinatesGenerator||wqe,D=g.horizontalPoints,F=g.verticalPoints;if((!D||!D.length)&&jn($)){var q=M&&M.length,X=$({yAxis:O?No(No({},O),{},{ticks:q?M:O.ticks}):void 0,width:a,height:f,offset:h},q?!0:A);ru(Array.isArray(X),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(bh(X),"]")),Array.isArray(X)&&(D=X)}if((!F||!F.length)&&jn(N)){var J=I&&I.length,ie=N({xAxis:C?No(No({},C),{},{ticks:J?I:C.ticks}):void 0,width:a,height:f,offset:h},J?!0:A);ru(Array.isArray(ie),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(bh(ie),"]")),Array.isArray(ie)&&(F=ie)}return Ee.createElement("g",{className:"recharts-cartesian-grid"},Ee.createElement(gqe,{fill:g.fill,fillOpacity:g.fillOpacity,x:g.x,y:g.y,width:g.width,height:g.height}),Ee.createElement(yqe,Zf({},g,{offset:h,horizontalPoints:D})),Ee.createElement(vqe,Zf({},g,{offset:h,verticalPoints:F})),Ee.createElement(xqe,Zf({},g,{horizontalPoints:D})),Ee.createElement(bqe,Zf({},g,{verticalPoints:F})))}SZ.displayName="CartesianGrid";var Sqe=["type","layout","connectNulls","ref"];function hg(e){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(e)}function Cqe(e,t){if(e==null)return{};var n=kqe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kqe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function w0(){return w0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w0.apply(this,arguments)}function L8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L8(Object(n),!0).forEach(function(r){pl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rp(e){return Oqe(e)||Eqe(e)||Pqe(e)||Tqe()}function Tqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pqe(e,t){if(e){if(typeof e=="string")return gI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gI(e,t)}}function Eqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Oqe(e){if(Array.isArray(e))return gI(e)}function gI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CZ(r.key),r)}}function Aqe(e,t,n){return t&&j8(e.prototype,t),n&&j8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yI(e,t)}function yI(e,t){return yI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yI(e,t)}function $qe(e){var t=Dqe();return function(){var r=c2(e),i;if(t){var o=c2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Rqe(this,i)}}function Rqe(e,t){if(t&&(hg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ad(e)}function ad(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dqe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function c2(e){return c2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},c2(e)}function pl(e,t,n){return t=CZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CZ(e){var t=Lqe(e,"string");return hg(t)==="symbol"?t:String(t)}function Lqe(e,t){if(hg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pg=function(e){Iqe(n,e);var t=$qe(n);function n(){var r;Mqe(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),pl(ad(r),"state",{isAnimationFinished:!0,totalLength:0}),pl(ad(r),"generateSimpleStrokeDasharray",function(a,f){return"".concat(f,"px ").concat(a-f,"px")}),pl(ad(r),"getStrokeDasharray",function(a,f,h){var g=h.reduce(function(M,I){return M+I});if(!g)return r.generateSimpleStrokeDasharray(f,a);for(var y=Math.floor(a/g),x=a%g,T=f-a,E=[],C=0,O=0;C<h.length;O+=h[C],++C)if(O+h[C]>x){E=[].concat(Rp(h.slice(0,C)),[x-O]);break}var A=E.length%2===0?[0,T]:[T];return[].concat(Rp(n.repeat(h,y)),Rp(E),A).map(function(M){return"".concat(M,"px")}).join(", ")}),pl(ad(r),"id",wb("recharts-line-")),pl(ad(r),"pathRef",function(a){r.mainCurve=a}),pl(ad(r),"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),pl(ad(r),"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Aqe(n,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();this.setState({totalLength:i})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();i!==this.state.totalLength&&this.setState({totalLength:i})}}},{key:"getTotalLength",value:function(){var i=this.mainCurve;try{return i&&i.getTotalLength&&i.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(i,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,f=s.xAxis,h=s.yAxis,g=s.layout,y=s.children,x=Ls(y,Eb);if(!x)return null;var T=function(O,A){return{x:O.x,y:O.y,value:O.value,errorVal:rs(O.payload,A)}},E={clipPath:i?"url(#clipPath-".concat(o,")"):null};return Ee.createElement(Oi,E,x.map(function(C){return Ee.cloneElement(C,{key:"bar-".concat(C.props.dataKey),data:a,xAxis:f,yAxis:h,layout:g,dataPointFormatter:T})}))}},{key:"renderDots",value:function(i,o,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var f=this.props,h=f.dot,g=f.points,y=f.dataKey,x=Un(this.props,!1),T=Un(h,!0),E=g.map(function(O,A){var M=Fa(Fa(Fa({key:"dot-".concat(A),r:3},x),T),{},{value:O.value,dataKey:y,cx:O.x,cy:O.y,index:A,payload:O.payload});return n.renderDotItem(h,M)}),C={clipPath:i?"url(#clipPath-".concat(o?"":"dots-").concat(s,")"):null};return Ee.createElement(Oi,w0({className:"recharts-line-dots",key:"dots"},C),E)}},{key:"renderCurveStatically",value:function(i,o,s,a){var f=this.props,h=f.type,g=f.layout,y=f.connectNulls;f.ref;var x=Cqe(f,Sqe),T=Fa(Fa(Fa({},Un(x,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:o?"url(#clipPath-".concat(s,")"):null,points:i},a),{},{type:h,layout:g,connectNulls:y});return Ee.createElement(aI,w0({},T,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(i,o){var s=this,a=this.props,f=a.points,h=a.strokeDasharray,g=a.isAnimationActive,y=a.animationBegin,x=a.animationDuration,T=a.animationEasing,E=a.animationId,C=a.animateNewValues,O=a.width,A=a.height,M=this.state,I=M.prevPoints,N=M.totalLength;return Ee.createElement(gu,{begin:y,duration:x,isActive:g,easing:T,from:{t:0},to:{t:1},key:"line-".concat(E),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function($){var D=$.t;if(I){var F=I.length/f.length,q=f.map(function(Ce,fe){var ce=Math.floor(fe*F);if(I[ce]){var ue=I[ce],xe=yl(ue.x,Ce.x),le=yl(ue.y,Ce.y);return Fa(Fa({},Ce),{},{x:xe(D),y:le(D)})}if(C){var Pe=yl(O*2,Ce.x),je=yl(A/2,Ce.y);return Fa(Fa({},Ce),{},{x:Pe(D),y:je(D)})}return Fa(Fa({},Ce),{},{x:Ce.x,y:Ce.y})});return s.renderCurveStatically(q,i,o)}var X=yl(0,N),J=X(D),ie;if(h){var ge="".concat(h).split(/[,\s]+/gim).map(function(Ce){return parseFloat(Ce)});ie=s.getStrokeDasharray(J,N,ge)}else ie=s.generateSimpleStrokeDasharray(N,J);return s.renderCurveStatically(f,i,o,{strokeDasharray:ie})})}},{key:"renderCurve",value:function(i,o){var s=this.props,a=s.points,f=s.isAnimationActive,h=this.state,g=h.prevPoints,y=h.totalLength;return f&&a&&a.length&&(!g&&y>0||!zk(g,a))?this.renderCurveWithAnimation(i,o):this.renderCurveStatically(a,i,o)}},{key:"render",value:function(){var i,o=this.props,s=o.hide,a=o.dot,f=o.points,h=o.className,g=o.xAxis,y=o.yAxis,x=o.top,T=o.left,E=o.width,C=o.height,O=o.isAnimationActive,A=o.id;if(s||!f||!f.length)return null;var M=this.state.isAnimationFinished,I=f.length===1,N=at("recharts-line",h),$=g&&g.allowDataOverflow,D=y&&y.allowDataOverflow,F=$||D,q=Gn(A)?this.id:A,X=(i=Un(a,!1))!==null&&i!==void 0?i:{r:3,strokeWidth:2},J=X.r,ie=J===void 0?3:J,ge=X.strokeWidth,Ce=ge===void 0?2:ge,fe=qMe(a)?a:{},ce=fe.clipDot,ue=ce===void 0?!0:ce,xe=ie*2+Ce;return Ee.createElement(Oi,{className:N},$||D?Ee.createElement("defs",null,Ee.createElement("clipPath",{id:"clipPath-".concat(q)},Ee.createElement("rect",{x:$?T:T-E/2,y:D?x:x-C/2,width:$?E:E*2,height:D?C:C*2})),!ue&&Ee.createElement("clipPath",{id:"clipPath-dots-".concat(q)},Ee.createElement("rect",{x:T-xe/2,y:x-xe/2,width:E+xe,height:C+xe}))):null,!I&&this.renderCurve(F,q),this.renderErrorBar(F,q),(I||a)&&this.renderDots(F,ue,q),(!O||M)&&Dd.renderCallByParent(this.props,f))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:o.curPoints}:i.points!==o.curPoints?{curPoints:i.points}:null}},{key:"repeat",value:function(i,o){for(var s=i.length%2!==0?[].concat(Rp(i),[0]):i,a=[],f=0;f<o;++f)a=[].concat(Rp(a),Rp(s));return a}},{key:"renderDotItem",value:function(i,o){var s;if(Ee.isValidElement(i))s=Ee.cloneElement(i,o);else if(jn(i))s=i(o);else{var a=at("recharts-line-dot",i?i.className:"");s=Ee.createElement(JL,w0({},o,{className:a}))}return s}}]),n}(U.PureComponent);pl(pg,"displayName","Line");pl(pg,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!iu.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});pl(pg,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,s=e.dataKey,a=e.bandSize,f=e.displayedData,h=e.offset,g=t.layout,y=f.map(function(x,T){var E=rs(x,s);return g==="horizontal"?{x:j6({axis:n,ticks:i,bandSize:a,entry:x,index:T}),y:Gn(E)?null:r.scale(E),value:E,payload:x}:{x:Gn(E)?null:n.scale(E),y:j6({axis:r,ticks:o,bandSize:a,entry:x,index:T}),value:E,payload:x}});return Fa({points:y,layout:g},h)});function vI(){return vI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vI.apply(this,arguments)}var Hk=function(t){var n=t.xAxisId,r=ej(),i=tj(),o=vZ(n);return o==null?null:Ee.createElement(Yg,vI({},o,{className:at("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Jc(a,!0)}}))};Hk.displayName="XAxis";Hk.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function xI(){return xI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xI.apply(this,arguments)}var Gk=function(t){var n=t.yAxisId,r=ej(),i=tj(),o=xZ(n);return o==null?null:Ee.createElement(Yg,xI({},o,{className:at("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Jc(a,!0)}}))};Gk.displayName="YAxis";Gk.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var jqe=Jd,Nqe=Sb,zqe=Ek;function Bqe(e){return function(t,n,r){var i=Object(t);if(!Nqe(t)){var o=jqe(n);t=zqe(t),n=function(a){return o(i[a],a,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:void 0}}var Fqe=Bqe,Uqe=rZ;function Vqe(e){var t=Uqe(e),n=t%1;return t===t?n?t-n:t:0}var Wqe=Vqe,qqe=PY,Hqe=Jd,Gqe=Wqe,Yqe=Math.max;function Kqe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:Gqe(n);return i<0&&(i=Yqe(r+i,0)),qqe(e,Hqe(t),i)}var Zqe=Kqe,Xqe=Fqe,Jqe=Zqe,Qqe=Xqe(Jqe),eHe=Qqe;const tHe=cr(eHe);function N8(e){return oHe(e)||iHe(e)||rHe(e)||nHe()}function nHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rHe(e,t){if(e){if(typeof e=="string")return bI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bI(e,t)}}function iHe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oHe(e){if(Array.isArray(e))return bI(e)}function bI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _I=function(t,n,r,i,o){var s=Ls(t,nj),a=Ls(t,Ob),f=[].concat(N8(s),N8(a)),h=Ls(t,Mb),g="".concat(i,"Id"),y=i[0],x=n;if(f.length&&(x=f.reduce(function(C,O){if(O.props[g]===r&&lc(O.props,"extendDomain")&&Et(O.props[y])){var A=O.props[y];return[Math.min(C[0],A),Math.max(C[1],A)]}return C},x)),h.length){var T="".concat(y,"1"),E="".concat(y,"2");x=h.reduce(function(C,O){if(O.props[g]===r&&lc(O.props,"extendDomain")&&Et(O.props[T])&&Et(O.props[E])){var A=O.props[T],M=O.props[E];return[Math.min(C[0],A,M),Math.max(C[1],A,M)]}return C},x)}return o&&o.length&&(x=o.reduce(function(C,O){return Et(O)?[Math.min(C[0],O),Math.max(C[1],O)]:C},x)),x},kZ={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,g){this.fn=f,this.context=h,this.once=g||!1}function o(f,h,g,y,x){if(typeof g!="function")throw new TypeError("The listener must be a function");var T=new i(g,y||f,x),E=n?n+h:h;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],T]:f._events[E].push(T):(f._events[E]=T,f._eventsCount++),f}function s(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var h=[],g,y;if(this._eventsCount===0)return h;for(y in g=this._events)t.call(g,y)&&h.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(g)):h},a.prototype.listeners=function(h){var g=n?n+h:h,y=this._events[g];if(!y)return[];if(y.fn)return[y.fn];for(var x=0,T=y.length,E=new Array(T);x<T;x++)E[x]=y[x].fn;return E},a.prototype.listenerCount=function(h){var g=n?n+h:h,y=this._events[g];return y?y.fn?1:y.length:0},a.prototype.emit=function(h,g,y,x,T,E){var C=n?n+h:h;if(!this._events[C])return!1;var O=this._events[C],A=arguments.length,M,I;if(O.fn){switch(O.once&&this.removeListener(h,O.fn,void 0,!0),A){case 1:return O.fn.call(O.context),!0;case 2:return O.fn.call(O.context,g),!0;case 3:return O.fn.call(O.context,g,y),!0;case 4:return O.fn.call(O.context,g,y,x),!0;case 5:return O.fn.call(O.context,g,y,x,T),!0;case 6:return O.fn.call(O.context,g,y,x,T,E),!0}for(I=1,M=new Array(A-1);I<A;I++)M[I-1]=arguments[I];O.fn.apply(O.context,M)}else{var N=O.length,$;for(I=0;I<N;I++)switch(O[I].once&&this.removeListener(h,O[I].fn,void 0,!0),A){case 1:O[I].fn.call(O[I].context);break;case 2:O[I].fn.call(O[I].context,g);break;case 3:O[I].fn.call(O[I].context,g,y);break;case 4:O[I].fn.call(O[I].context,g,y,x);break;default:if(!M)for($=1,M=new Array(A-1);$<A;$++)M[$-1]=arguments[$];O[I].fn.apply(O[I].context,M)}}return!0},a.prototype.on=function(h,g,y){return o(this,h,g,y,!1)},a.prototype.once=function(h,g,y){return o(this,h,g,y,!0)},a.prototype.removeListener=function(h,g,y,x){var T=n?n+h:h;if(!this._events[T])return this;if(!g)return s(this,T),this;var E=this._events[T];if(E.fn)E.fn===g&&(!x||E.once)&&(!y||E.context===y)&&s(this,T);else{for(var C=0,O=[],A=E.length;C<A;C++)(E[C].fn!==g||x&&!E[C].once||y&&E[C].context!==y)&&O.push(E[C]);O.length?this._events[T]=O.length===1?O[0]:O:s(this,T)}return this},a.prototype.removeAllListeners=function(h){var g;return h?(g=n?n+h:h,this._events[g]&&s(this,g)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(kZ);var aHe=kZ.exports;const sHe=cr(aHe);var mO=new sHe,gO="recharts.syncMouseEvents";function Vx(e){"@babel/helpers - typeof";return Vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vx(e)}function lHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TZ(r.key),r)}}function cHe(e,t,n){return t&&z8(e.prototype,t),n&&z8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yO(e,t,n){return t=TZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TZ(e){var t=uHe(e,"string");return Vx(t)==="symbol"?t:String(t)}function uHe(e,t){if(Vx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dHe=function(){function e(){lHe(this,e),yO(this,"activeIndex",0),yO(this,"coordinateList",[]),yO(this,"layout","horizontal")}return cHe(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,f=n.layout,h=f===void 0?null:f,g=n.offset,y=g===void 0?null:g,x=n.mouseHandlerCallback,T=x===void 0?null:x;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=h??this.layout,this.offset=y??this.offset,this.mouseHandlerCallback=T??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,f=this.coordinateList[this.activeIndex].coordinate,h=((n=window)===null||n===void 0?void 0:n.scrollX)||0,g=((r=window)===null||r===void 0?void 0:r.scrollY)||0,y=o+f+h,x=s+this.offset.top+a/2+g;this.mouseHandlerCallback({pageX:y,pageY:x})}}}]),e}();function fHe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&Et(r)&&Et(i))return!0}return!1}function hHe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function PZ(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle,s=vo(t,n,r,i),a=vo(t,n,r,o);return{points:[s,a],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function pHe(e,t,n){var r,i,o,s;if(e==="horizontal")r=t.x,o=r,i=n.top,s=n.top+n.height;else if(e==="vertical")i=t.y,s=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var a=t.cx,f=t.cy,h=t.innerRadius,g=t.outerRadius,y=t.angle,x=vo(a,f,h,y),T=vo(a,f,g,y);r=x.x,i=x.y,o=T.x,s=T.y}else return PZ(t);return[{x:r,y:i},{x:o,y:s}]}function Wx(e){"@babel/helpers - typeof";return Wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wx(e)}function B8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function N1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B8(Object(n),!0).forEach(function(r){mHe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mHe(e,t,n){return t=gHe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gHe(e){var t=yHe(e,"string");return Wx(t)==="symbol"?t:String(t)}function yHe(e,t){if(Wx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vHe(e){var t=e.element,n=e.tooltipEventType,r=e.isActive,i=e.activeCoordinate,o=e.activePayload,s=e.offset,a=e.activeTooltipIndex,f=e.tooltipAxisBandSize,h=e.layout,g=e.chartName;if(!t||!t.props.cursor||!r||!i||g!=="ScatterChart"&&n!=="axis")return null;var y,x=aI;if(g==="ScatterChart")y=i,x=QVe;else if(g==="BarChart")y=hHe(h,i,s,f),x=XL;else if(h==="radial"){var T=PZ(i),E=T.cx,C=T.cy,O=T.radius,A=T.startAngle,M=T.endAngle;y={cx:E,cy:C,startAngle:A,endAngle:M,innerRadius:O,outerRadius:O},x=tZ}else y={points:pHe(h,i,s)},x=aI;var I=N1(N1(N1(N1({stroke:"#ccc",pointerEvents:"none"},s),y),Un(t.props.cursor,!1)),{},{payload:o,payloadIndex:a,className:"recharts-tooltip-cursor"});return U.isValidElement(t.props.cursor)?U.cloneElement(t.props.cursor,I):U.createElement(x,I)}var xHe=["item"],bHe=["children","className","width","height","style","compact","title","desc"];function mg(e){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mg(e)}function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S0.apply(this,arguments)}function F8(e,t){return SHe(e)||wHe(e,t)||EZ(e,t)||_He()}function _He(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wHe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function SHe(e){if(Array.isArray(e))return e}function U8(e,t){if(e==null)return{};var n=CHe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function CHe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function kHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OZ(r.key),r)}}function THe(e,t,n){return t&&V8(e.prototype,t),n&&V8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function PHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wI(e,t)}function wI(e,t){return wI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wI(e,t)}function EHe(e){var t=MHe();return function(){var r=u2(e),i;if(t){var o=u2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return OHe(this,i)}}function OHe(e,t){if(t&&(mg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qn(e)}function qn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MHe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function u2(e){return u2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},u2(e)}function gg(e){return $He(e)||IHe(e)||EZ(e)||AHe()}function AHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EZ(e,t){if(e){if(typeof e=="string")return SI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SI(e,t)}}function IHe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $He(e){if(Array.isArray(e))return SI(e)}function SI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W8(Object(n),!0).forEach(function(r){hn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hn(e,t,n){return t=OZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OZ(e){var t=RHe(e,"string");return mg(t)==="symbol"?t:String(t)}function RHe(e,t){if(mg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DHe={xAxis:["bottom","top"],yAxis:["left","right"]},LHe={width:"100%",height:"100%"},MZ={x:0,y:0};function vO(e){return e}var jHe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},NHe=function(t,n,r,i){var o=n.find(function(g){return g&&g.index===r});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var s=o.coordinate,a=i.radius;return rt(rt(rt({},i),vo(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var f=o.coordinate,h=i.angle;return rt(rt(rt({},i),vo(i.cx,i.cy,f,h)),{},{angle:h,radius:f})}return MZ},Yk=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,f){var h=f.props.data;return h&&h.length?[].concat(gg(a),gg(h)):a},[]);return s.length>0?s:t&&t.length&&Et(i)&&Et(o)?t.slice(i,o+1):[]};function AZ(e){return e==="number"?[0,"auto"]:void 0}var CI=function(t,n,r,i){var o=t.graphicalItems,s=t.tooltipAxis,a=Yk(n,t);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(f,h){var g,y=(g=h.props.data)!==null&&g!==void 0?g:n;y&&t.dataStartIndex+t.dataEndIndex!==0&&(y=y.slice(t.dataStartIndex,t.dataEndIndex+1));var x;if(s.dataKey&&!s.allowDuplicatedCategory){var T=y===void 0?a:y;x=yS(T,s.dataKey,i)}else x=y&&y[r]||a[r];return x?[].concat(gg(f),[JK(h,x)]):f},[])},q8=function(t,n,r,i){var o=i||{x:t.chartX,y:t.chartY},s=jHe(o,r),a=t.orderedTooltipTicks,f=t.tooltipAxis,h=t.tooltipTicks,g=mUe(s,a,h,f);if(g>=0&&h){var y=h[g]&&h[g].value,x=CI(t,n,g,y),T=NHe(r,a,g,o);return{activeTooltipIndex:g,activeLabel:y,activePayload:x,activeCoordinate:T}}return null},zHe=function(t,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,g=t.layout,y=t.children,x=t.stackOffset,T=KK(g,o);return r.reduce(function(E,C){var O,A=C.props,M=A.type,I=A.dataKey,N=A.allowDataOverflow,$=A.allowDuplicatedCategory,D=A.scale,F=A.ticks,q=A.includeHidden,X=C.props[s];if(E[X])return E;var J=Yk(t.data,{graphicalItems:i.filter(function(We){return We.props[s]===X}),dataStartIndex:f,dataEndIndex:h}),ie=J.length,ge,Ce,fe;fHe(C.props.domain,N,M)&&(ge=tI(C.props.domain,null,N),T&&(M==="number"||D!=="auto")&&(fe=_0(J,I,"category")));var ce=AZ(M);if(!ge||ge.length===0){var ue,xe=(ue=C.props.domain)!==null&&ue!==void 0?ue:ce;if(I){if(ge=_0(J,I,M),M==="category"&&T){var le=LMe(ge);$&&le?(Ce=ge,ge=n2(0,ie)):$||(ge=F6(xe,ge,C).reduce(function(We,Ke){return We.indexOf(Ke)>=0?We:[].concat(gg(We),[Ke])},[]))}else if(M==="category")$?ge=ge.filter(function(We){return We!==""&&!Gn(We)}):ge=F6(xe,ge,C).reduce(function(We,Ke){return We.indexOf(Ke)>=0||Ke===""||Gn(Ke)?We:[].concat(gg(We),[Ke])},[]);else if(M==="number"){var Pe=bUe(J,i.filter(function(We){return We.props[s]===X&&(q||!We.props.hide)}),I,o,g);Pe&&(ge=Pe)}T&&(M==="number"||D!=="auto")&&(fe=_0(J,I,"category"))}else T?ge=n2(0,ie):a&&a[X]&&a[X].hasStack&&M==="number"?ge=x==="expand"?[0,1]:XK(a[X].stackGroups,f,h):ge=YK(J,i.filter(function(We){return We.props[s]===X&&(q||!We.props.hide)}),M,g,!0);if(M==="number")ge=_I(y,ge,X,o,F),xe&&(ge=tI(xe,ge,N));else if(M==="category"&&xe){var je=xe,Qe=ge.every(function(We){return je.indexOf(We)>=0});Qe&&(ge=je)}}return rt(rt({},E),{},hn({},X,rt(rt({},C.props),{},{axisType:o,domain:ge,categoricalDomain:fe,duplicateDomain:Ce,originalDomain:(O=C.props.domain)!==null&&O!==void 0?O:ce,isCategorical:T,layout:g})))},{})},BHe=function(t,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,g=t.layout,y=t.children,x=Yk(t.data,{graphicalItems:r,dataStartIndex:f,dataEndIndex:h}),T=x.length,E=KK(g,o),C=-1;return r.reduce(function(O,A){var M=A.props[s],I=AZ("number");if(!O[M]){C++;var N;return E?N=n2(0,T):a&&a[M]&&a[M].hasStack?(N=XK(a[M].stackGroups,f,h),N=_I(y,N,M,o)):(N=tI(I,YK(x,r.filter(function($){return $.props[s]===M&&!$.props.hide}),"number",g),i.defaultProps.allowDataOverflow),N=_I(y,N,M,o)),rt(rt({},O),{},hn({},M,rt(rt({axisType:o},i.defaultProps),{},{hide:!0,orientation:Ds(DHe,"".concat(o,".").concat(C%2),null),domain:N,originalDomain:I,isCategorical:E,layout:g})))}return O},{})},FHe=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,g=t.children,y="".concat(i,"Id"),x=Ls(g,o),T={};return x&&x.length?T=zHe(t,{axes:x,graphicalItems:s,axisType:i,axisIdKey:y,stackGroups:a,dataStartIndex:f,dataEndIndex:h}):s&&s.length&&(T=BHe(t,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:y,stackGroups:a,dataStartIndex:f,dataEndIndex:h})),T},UHe=function(t){var n=od(t),r=Jc(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:CL(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:ZS(n,r)}},H8=function(t){var n=t.children,r=t.defaultShowTooltip,i=Wa(n,ug),o=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},VHe=function(t){return!t||!t.length?!1:t.some(function(n){var r=nu(n&&n.type);return r&&r.indexOf("Bar")>=0})},G8=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},WHe=function(t,n){var r=t.props,i=t.graphicalItems,o=t.xAxisMap,s=o===void 0?{}:o,a=t.yAxisMap,f=a===void 0?{}:a,h=r.width,g=r.height,y=r.children,x=r.margin||{},T=Wa(y,ug),E=Wa(y,eg),C=Object.keys(f).reduce(function($,D){var F=f[D],q=F.orientation;return!F.mirror&&!F.hide?rt(rt({},$),{},hn({},q,$[q]+F.width)):$},{left:x.left||0,right:x.right||0}),O=Object.keys(s).reduce(function($,D){var F=s[D],q=F.orientation;return!F.mirror&&!F.hide?rt(rt({},$),{},hn({},q,Ds($,"".concat(q))+F.height)):$},{top:x.top||0,bottom:x.bottom||0}),A=rt(rt({},O),C),M=A.bottom;T&&(A.bottom+=T.props.height||ug.defaultProps.height),E&&n&&(A=vUe(A,i,r,n));var I=h-A.left-A.right,N=g-A.top-A.bottom;return rt(rt({brushBottom:M},A),{},{width:Math.max(I,0),height:Math.max(N,0)})},qHe=function(t){var n,r=t.chartName,i=t.GraphicalChild,o=t.defaultTooltipEventType,s=o===void 0?"axis":o,a=t.validateTooltipEventTypes,f=a===void 0?["axis"]:a,h=t.axisComponents,g=t.legendContent,y=t.formatAxisMap,x=t.defaultProps,T=function(O,A){var M=A.graphicalItems,I=A.stackGroups,N=A.offset,$=A.updateId,D=A.dataStartIndex,F=A.dataEndIndex,q=O.barSize,X=O.layout,J=O.barGap,ie=O.barCategoryGap,ge=O.maxBarSize,Ce=G8(X),fe=Ce.numericAxisName,ce=Ce.cateAxisName,ue=VHe(M),xe=ue&&gUe({barSize:q,stackGroups:I}),le=[];return M.forEach(function(Pe,je){var Qe=Yk(O.data,{graphicalItems:[Pe],dataStartIndex:D,dataEndIndex:F}),We=Pe.props,Ke=We.dataKey,nt=We.maxBarSize,mt=Pe.props["".concat(fe,"Id")],st=Pe.props["".concat(ce,"Id")],Nt={},Mt=h.reduce(function(an,Mn){var on,$t=A["".concat(Mn.axisType,"Map")],Vn=Pe.props["".concat(Mn.axisType,"Id")];$t&&$t[Vn]||Mn.axisType==="zAxis"||lg(!1);var ir=$t[Vn];return rt(rt({},an),{},(on={},hn(on,Mn.axisType,ir),hn(on,"".concat(Mn.axisType,"Ticks"),Jc(ir)),on))},Nt),He=Mt[ce],ct=Mt["".concat(ce,"Ticks")],ut=I&&I[mt]&&I[mt].hasStack&&IUe(Pe,I[mt].stackGroups),Ve=nu(Pe.type).indexOf("Bar")>=0,Tt=ZS(He,ct),Pt=[];if(Ve){var Vt,gn,bn=Gn(nt)?ge:nt,_n=(Vt=(gn=ZS(He,ct,!0))!==null&&gn!==void 0?gn:bn)!==null&&Vt!==void 0?Vt:0;Pt=yUe({barGap:J,barCategoryGap:ie,bandSize:_n!==Tt?_n:Tt,sizeList:xe[st],maxBarSize:bn}),_n!==Tt&&(Pt=Pt.map(function(an){return rt(rt({},an),{},{position:rt(rt({},an.position),{},{offset:an.position.offset-_n/2})})}))}var rr=Pe&&Pe.type&&Pe.type.getComposedData;if(rr){var ze;le.push({props:rt(rt({},rr(rt(rt({},Mt),{},{displayedData:Qe,props:O,dataKey:Ke,item:Pe,bandSize:Tt,barPosition:Pt,offset:N,stackedData:ut,layout:X,dataStartIndex:D,dataEndIndex:F}))),{},(ze={key:Pe.key||"item-".concat(je)},hn(ze,fe,Mt[fe]),hn(ze,ce,Mt[ce]),hn(ze,"animationId",$),ze)),childIndex:YMe(Pe,O.children),item:Pe})}}),le},E=function(O,A){var M=O.props,I=O.dataStartIndex,N=O.dataEndIndex,$=O.updateId;if(!f4({props:M}))return null;var D=M.children,F=M.layout,q=M.stackOffset,X=M.data,J=M.reverseStackOrder,ie=G8(F),ge=ie.numericAxisName,Ce=ie.cateAxisName,fe=Ls(D,i),ce=OUe(X,fe,"".concat(ge,"Id"),"".concat(Ce,"Id"),q,J),ue=h.reduce(function(Qe,We){var Ke="".concat(We.axisType,"Map");return rt(rt({},Qe),{},hn({},Ke,FHe(M,rt(rt({},We),{},{graphicalItems:fe,stackGroups:We.axisType===ge&&ce,dataStartIndex:I,dataEndIndex:N}))))},{}),xe=WHe(rt(rt({},ue),{},{props:M,graphicalItems:fe}),A==null?void 0:A.legendBBox);Object.keys(ue).forEach(function(Qe){ue[Qe]=y(M,ue[Qe],xe,Qe.replace("Map",""),r)});var le=ue["".concat(Ce,"Map")],Pe=UHe(le),je=T(M,rt(rt({},ue),{},{dataStartIndex:I,dataEndIndex:N,updateId:$,graphicalItems:fe,stackGroups:ce,offset:xe}));return rt(rt({formattedGraphicalItems:je,graphicalItems:fe,offset:xe,stackGroups:ce},Pe),ue)};return n=function(C){PHe(A,C);var O=EHe(A);function A(M){var I,N,$;return kHe(this,A),$=O.call(this,M),hn(qn($),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),hn(qn($),"accessibilityManager",new dHe),hn(qn($),"handleLegendBBoxUpdate",function(D){if(D){var F=$.state,q=F.dataStartIndex,X=F.dataEndIndex,J=F.updateId;$.setState(rt({legendBBox:D},E({props:$.props,dataStartIndex:q,dataEndIndex:X,updateId:J},rt(rt({},$.state),{},{legendBBox:D}))))}}),hn(qn($),"handleReceiveSyncEvent",function(D,F,q){if($.props.syncId===D){if(q===$.eventEmitterSymbol&&typeof $.props.syncMethod!="function")return;$.applySyncEvent(F)}}),hn(qn($),"handleBrushChange",function(D){var F=D.startIndex,q=D.endIndex;if(F!==$.state.dataStartIndex||q!==$.state.dataEndIndex){var X=$.state.updateId;$.setState(function(){return rt({dataStartIndex:F,dataEndIndex:q},E({props:$.props,dataStartIndex:F,dataEndIndex:q,updateId:X},$.state))}),$.triggerSyncEvent({dataStartIndex:F,dataEndIndex:q})}}),hn(qn($),"handleMouseEnter",function(D){var F=$.getMouseInfo(D);if(F){var q=rt(rt({},F),{},{isTooltipActive:!0});$.setState(q),$.triggerSyncEvent(q);var X=$.props.onMouseEnter;jn(X)&&X(q,D)}}),hn(qn($),"triggeredAfterMouseMove",function(D){var F=$.getMouseInfo(D),q=F?rt(rt({},F),{},{isTooltipActive:!0}):{isTooltipActive:!1};$.setState(q),$.triggerSyncEvent(q);var X=$.props.onMouseMove;jn(X)&&X(q,D)}),hn(qn($),"handleItemMouseEnter",function(D){$.setState(function(){return{isTooltipActive:!0,activeItem:D,activePayload:D.tooltipPayload,activeCoordinate:D.tooltipPosition||{x:D.cx,y:D.cy}}})}),hn(qn($),"handleItemMouseLeave",function(){$.setState(function(){return{isTooltipActive:!1}})}),hn(qn($),"handleMouseMove",function(D){D.persist(),$.throttleTriggeredAfterMouseMove(D)}),hn(qn($),"handleMouseLeave",function(D){var F={isTooltipActive:!1};$.setState(F),$.triggerSyncEvent(F);var q=$.props.onMouseLeave;jn(q)&&q(F,D)}),hn(qn($),"handleOuterEvent",function(D){var F=GMe(D),q=Ds($.props,"".concat(F));if(F&&jn(q)){var X,J;/.*touch.*/i.test(F)?J=$.getMouseInfo(D.changedTouches[0]):J=$.getMouseInfo(D),q((X=J)!==null&&X!==void 0?X:{},D)}}),hn(qn($),"handleClick",function(D){var F=$.getMouseInfo(D);if(F){var q=rt(rt({},F),{},{isTooltipActive:!0});$.setState(q),$.triggerSyncEvent(q);var X=$.props.onClick;jn(X)&&X(q,D)}}),hn(qn($),"handleMouseDown",function(D){var F=$.props.onMouseDown;if(jn(F)){var q=$.getMouseInfo(D);F(q,D)}}),hn(qn($),"handleMouseUp",function(D){var F=$.props.onMouseUp;if(jn(F)){var q=$.getMouseInfo(D);F(q,D)}}),hn(qn($),"handleTouchMove",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&$.throttleTriggeredAfterMouseMove(D.changedTouches[0])}),hn(qn($),"handleTouchStart",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&$.handleMouseDown(D.changedTouches[0])}),hn(qn($),"handleTouchEnd",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&$.handleMouseUp(D.changedTouches[0])}),hn(qn($),"triggerSyncEvent",function(D){$.props.syncId!==void 0&&mO.emit(gO,$.props.syncId,D,$.eventEmitterSymbol)}),hn(qn($),"applySyncEvent",function(D){var F=$.props,q=F.layout,X=F.syncMethod,J=$.state.updateId,ie=D.dataStartIndex,ge=D.dataEndIndex;if(D.dataStartIndex!==void 0||D.dataEndIndex!==void 0)$.setState(rt({dataStartIndex:ie,dataEndIndex:ge},E({props:$.props,dataStartIndex:ie,dataEndIndex:ge,updateId:J},$.state)));else if(D.activeTooltipIndex!==void 0){var Ce=D.chartX,fe=D.chartY,ce=D.activeTooltipIndex,ue=$.state,xe=ue.offset,le=ue.tooltipTicks;if(!xe)return;if(typeof X=="function")ce=X(le,D);else if(X==="value"){ce=-1;for(var Pe=0;Pe<le.length;Pe++)if(le[Pe].value===D.activeLabel){ce=Pe;break}}var je=rt(rt({},xe),{},{x:xe.left,y:xe.top}),Qe=Math.min(Ce,je.x+je.width),We=Math.min(fe,je.y+je.height),Ke=le[ce]&&le[ce].value,nt=CI($.state,$.props.data,ce),mt=le[ce]?{x:q==="horizontal"?le[ce].coordinate:Qe,y:q==="horizontal"?We:le[ce].coordinate}:MZ;$.setState(rt(rt({},D),{},{activeLabel:Ke,activeCoordinate:mt,activePayload:nt,activeTooltipIndex:ce}))}else $.setState(D)}),hn(qn($),"renderCursor",function(D){var F,q=$.state,X=q.isTooltipActive,J=q.activeCoordinate,ie=q.activePayload,ge=q.offset,Ce=q.activeTooltipIndex,fe=q.tooltipAxisBandSize,ce=$.getTooltipEventType(),ue=(F=D.props.active)!==null&&F!==void 0?F:X,xe=$.props.layout,le=D.key||"_recharts-cursor";return Ee.createElement(vHe,{key:le,activeCoordinate:J,activePayload:ie,activeTooltipIndex:Ce,chartName:r,element:D,isActive:ue,layout:xe,offset:ge,tooltipAxisBandSize:fe,tooltipEventType:ce})}),hn(qn($),"renderPolarAxis",function(D,F,q){var X=Ds(D,"type.axisType"),J=Ds($.state,"".concat(X,"Map")),ie=J&&J[D.props["".concat(X,"Id")]];return U.cloneElement(D,rt(rt({},ie),{},{className:X,key:D.key||"".concat(F,"-").concat(q),ticks:Jc(ie,!0)}))}),hn(qn($),"renderGrid",function(D){var F=$.state,q=F.xAxisMap,X=F.yAxisMap,J=F.offset,ie=od(q),ge=tHe(X,function(ce){return aZ(ce.domain,Number.isFinite)}),Ce=ge||od(X),fe=D.props||{};return U.cloneElement(D,{key:D.key||"grid",x:Et(fe.x)?fe.x:J.left,y:Et(fe.y)?fe.y:J.top,width:Et(fe.width)?fe.width:J.width,height:Et(fe.height)?fe.height:J.height,xAxis:ie,yAxis:Ce,verticalCoordinatesGenerator:fe.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:fe.horizontalCoordinatesGenerator})}),hn(qn($),"renderPolarGrid",function(D){var F=D.props,q=F.radialLines,X=F.polarAngles,J=F.polarRadius,ie=$.state,ge=ie.radiusAxisMap,Ce=ie.angleAxisMap,fe=od(ge),ce=od(Ce),ue=ce.cx,xe=ce.cy,le=ce.innerRadius,Pe=ce.outerRadius;return U.cloneElement(D,{polarAngles:Array.isArray(X)?X:Jc(ce,!0).map(function(je){return je.coordinate}),polarRadius:Array.isArray(J)?J:Jc(fe,!0).map(function(je){return je.coordinate}),cx:ue,cy:xe,innerRadius:le,outerRadius:Pe,key:D.key||"polar-grid",radialLines:q})}),hn(qn($),"renderLegend",function(){var D=$.state.formattedGraphicalItems,F=$.props,q=F.children,X=F.width,J=F.height,ie=$.props.margin||{},ge=X-(ie.left||0)-(ie.right||0),Ce=HK({children:q,formattedGraphicalItems:D,legendWidth:ge,legendContent:g});if(!Ce)return null;var fe=Ce.item,ce=U8(Ce,xHe);return U.cloneElement(fe,rt(rt({},ce),{},{chartWidth:X,chartHeight:J,margin:ie,onBBoxUpdate:$.handleLegendBBoxUpdate}))}),hn(qn($),"renderTooltip",function(){var D,F=$.props.children,q=Wa(F,Wl);if(!q)return null;var X=$.state,J=X.isTooltipActive,ie=X.activeCoordinate,ge=X.activePayload,Ce=X.activeLabel,fe=X.offset,ce=(D=q.props.active)!==null&&D!==void 0?D:J;return U.cloneElement(q,{viewBox:rt(rt({},fe),{},{x:fe.left,y:fe.top}),active:ce,label:Ce,payload:ce?ge:[],coordinate:ie})}),hn(qn($),"renderBrush",function(D){var F=$.props,q=F.margin,X=F.data,J=$.state,ie=J.offset,ge=J.dataStartIndex,Ce=J.dataEndIndex,fe=J.updateId;return U.cloneElement(D,{key:D.key||"_recharts-brush",onChange:D1($.handleBrushChange,D.props.onChange),data:X,x:Et(D.props.x)?D.props.x:ie.left,y:Et(D.props.y)?D.props.y:ie.top+ie.height+ie.brushBottom-(q.bottom||0),width:Et(D.props.width)?D.props.width:ie.width,startIndex:ge,endIndex:Ce,updateId:"brush-".concat(fe)})}),hn(qn($),"renderReferenceElement",function(D,F,q){if(!D)return null;var X=qn($),J=X.clipPathId,ie=$.state,ge=ie.xAxisMap,Ce=ie.yAxisMap,fe=ie.offset,ce=D.props,ue=ce.xAxisId,xe=ce.yAxisId;return U.cloneElement(D,{key:D.key||"".concat(F,"-").concat(q),xAxis:ge[ue],yAxis:Ce[xe],viewBox:{x:fe.left,y:fe.top,width:fe.width,height:fe.height},clipPathId:J})}),hn(qn($),"renderActivePoints",function(D){var F=D.item,q=D.activePoint,X=D.basePoint,J=D.childIndex,ie=D.isRange,ge=[],Ce=F.props.key,fe=F.item.props,ce=fe.activeDot,ue=fe.dataKey,xe=rt(rt({index:J,dataKey:ue,cx:q.x,cy:q.y,r:4,fill:ZL(F.item),strokeWidth:2,stroke:"#fff",payload:q.payload,value:q.value,key:"".concat(Ce,"-activePoint-").concat(J)},Un(ce,!1)),vS(ce));return ge.push(A.renderActiveDot(ce,xe)),X?ge.push(A.renderActiveDot(ce,rt(rt({},xe),{},{cx:X.x,cy:X.y,key:"".concat(Ce,"-basePoint-").concat(J)}))):ie&&ge.push(null),ge}),hn(qn($),"renderGraphicChild",function(D,F,q){var X=$.filterFormatItem(D,F,q);if(!X)return null;var J=$.getTooltipEventType(),ie=$.state,ge=ie.isTooltipActive,Ce=ie.tooltipAxis,fe=ie.activeTooltipIndex,ce=ie.activeLabel,ue=$.props.children,xe=Wa(ue,Wl),le=X.props,Pe=le.points,je=le.isRange,Qe=le.baseLine,We=X.item.props,Ke=We.activeDot,nt=We.hide,mt=We.activeBar,st=We.activeShape,Nt=!!(!nt&&ge&&xe&&(Ke||mt||st)),Mt={};J!=="axis"&&xe&&xe.props.trigger==="click"?Mt={onClick:D1($.handleItemMouseEnter,D.props.onClick)}:J!=="axis"&&(Mt={onMouseLeave:D1($.handleItemMouseLeave,D.props.onMouseLeave),onMouseEnter:D1($.handleItemMouseEnter,D.props.onMouseEnter)});var He=U.cloneElement(D,rt(rt({},X.props),Mt));function ct(Mn){return typeof Ce.dataKey=="function"?Ce.dataKey(Mn.payload):null}if(Nt)if(fe>=0){var ut,Ve;if(Ce.dataKey&&!Ce.allowDuplicatedCategory){var Tt=typeof Ce.dataKey=="function"?ct:"payload.".concat(Ce.dataKey.toString());ut=yS(Pe,Tt,ce),Ve=je&&Qe&&yS(Qe,Tt,ce)}else ut=Pe==null?void 0:Pe[fe],Ve=je&&Qe&&Qe[fe];if(st||mt){var Pt=D.props.activeIndex!==void 0?D.props.activeIndex:fe;return[U.cloneElement(D,rt(rt(rt({},X.props),Mt),{},{activeIndex:Pt})),null,null]}if(!Gn(ut))return[He].concat(gg($.renderActivePoints({item:X,activePoint:ut,basePoint:Ve,childIndex:fe,isRange:je})))}else{var Vt,gn=(Vt=$.getItemByXY($.state.activeCoordinate))!==null&&Vt!==void 0?Vt:{graphicalItem:He},bn=gn.graphicalItem,_n=bn.item,rr=_n===void 0?D:_n,ze=bn.childIndex,an=rt(rt(rt({},X.props),Mt),{},{activeIndex:ze});return[U.cloneElement(rr,an),null,null]}return je?[He,null,null]:[He,null]}),hn(qn($),"renderCustomized",function(D,F,q){return U.cloneElement(D,rt(rt({key:"recharts-customized-".concat(q)},$.props),$.state))}),hn(qn($),"renderMap",{CartesianGrid:{handler:$.renderGrid,once:!0},ReferenceArea:{handler:$.renderReferenceElement},ReferenceLine:{handler:vO},ReferenceDot:{handler:$.renderReferenceElement},XAxis:{handler:vO},YAxis:{handler:vO},Brush:{handler:$.renderBrush,once:!0},Bar:{handler:$.renderGraphicChild},Line:{handler:$.renderGraphicChild},Area:{handler:$.renderGraphicChild},Radar:{handler:$.renderGraphicChild},RadialBar:{handler:$.renderGraphicChild},Scatter:{handler:$.renderGraphicChild},Pie:{handler:$.renderGraphicChild},Funnel:{handler:$.renderGraphicChild},Tooltip:{handler:$.renderCursor,once:!0},PolarGrid:{handler:$.renderPolarGrid,once:!0},PolarAngleAxis:{handler:$.renderPolarAxis},PolarRadiusAxis:{handler:$.renderPolarAxis},Customized:{handler:$.renderCustomized}}),$.clipPathId="".concat((I=M.id)!==null&&I!==void 0?I:wb("recharts"),"-clip"),$.throttleTriggeredAfterMouseMove=HY($.triggeredAfterMouseMove,(N=M.throttleDelay)!==null&&N!==void 0?N:1e3/60),$.state={},$}return THe(A,[{key:"componentDidMount",value:function(){var I,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var I=this.props,N=I.children,$=I.data,D=I.height,F=I.layout,q=Wa(N,Wl);if(q){var X=q.props.defaultIndex;if(!(typeof X!="number"||X<0||X>this.state.tooltipTicks.length)){var J=this.state.tooltipTicks[X]&&this.state.tooltipTicks[X].value,ie=CI(this.state,$,X,J),ge=this.state.tooltipTicks[X].coordinate,Ce=(this.state.offset.top+D)/2,fe=F==="horizontal",ce=fe?{x:ge,y:Ce}:{y:ge,x:Ce},ue=this.state.formattedGraphicalItems.find(function(le){var Pe=le.item;return Pe.type.name==="Scatter"});ue&&(ce=rt(rt({},ce),ue.props.points[X].tooltipPosition),ie=ue.props.points[X].tooltipPayload);var xe={activeTooltipIndex:X,isTooltipActive:!0,activeLabel:J,activePayload:ie,activeCoordinate:ce};this.setState(xe),this.renderCursor(q),this.accessibilityManager.setIndex(X)}}}},{key:"getSnapshotBeforeUpdate",value:function(I,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==I.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==I.margin){var $,D;this.accessibilityManager.setDetails({offset:{left:($=this.props.margin.left)!==null&&$!==void 0?$:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0}})}return null}},{key:"componentDidUpdate",value:function(I){dA([Wa(I.children,Wl)],[Wa(this.props.children,Wl)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var I=Wa(this.props.children,Wl);if(I&&typeof I.props.shared=="boolean"){var N=I.props.shared?"axis":"item";return f.indexOf(N)>=0?N:s}return s}},{key:"getMouseInfo",value:function(I){if(!this.container)return null;var N=this.container,$=N.getBoundingClientRect(),D=UBe($),F={chartX:Math.round(I.pageX-D.left),chartY:Math.round(I.pageY-D.top)},q=$.width/N.offsetWidth||1,X=this.inRange(F.chartX,F.chartY,q);if(!X)return null;var J=this.state,ie=J.xAxisMap,ge=J.yAxisMap,Ce=this.getTooltipEventType();if(Ce!=="axis"&&ie&&ge){var fe=od(ie).scale,ce=od(ge).scale,ue=fe&&fe.invert?fe.invert(F.chartX):null,xe=ce&&ce.invert?ce.invert(F.chartY):null;return rt(rt({},F),{},{xValue:ue,yValue:xe})}var le=q8(this.state,this.props.data,this.props.layout,X);return le?rt(rt({},F),le):null}},{key:"inRange",value:function(I,N){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,D=this.props.layout,F=I/$,q=N/$;if(D==="horizontal"||D==="vertical"){var X=this.state.offset,J=F>=X.left&&F<=X.left+X.width&&q>=X.top&&q<=X.top+X.height;return J?{x:F,y:q}:null}var ie=this.state,ge=ie.angleAxisMap,Ce=ie.radiusAxisMap;if(ge&&Ce){var fe=od(ge);return W6({x:F,y:q},fe)}return null}},{key:"parseEventsOfWrapper",value:function(){var I=this.props.children,N=this.getTooltipEventType(),$=Wa(I,Wl),D={};$&&N==="axis"&&($.props.trigger==="click"?D={onClick:this.handleClick}:D={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var F=vS(this.props,this.handleOuterEvent);return rt(rt({},F),D)}},{key:"addListener",value:function(){mO.on(gO,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){mO.removeListener(gO,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(I,N,$){for(var D=this.state.formattedGraphicalItems,F=0,q=D.length;F<q;F++){var X=D[F];if(X.item===I||X.props.key===I.key||N===nu(X.item.type)&&$===X.childIndex)return X}return null}},{key:"renderClipPath",value:function(){var I=this.clipPathId,N=this.state.offset,$=N.left,D=N.top,F=N.height,q=N.width;return Ee.createElement("defs",null,Ee.createElement("clipPath",{id:I},Ee.createElement("rect",{x:$,y:D,height:F,width:q})))}},{key:"getXScales",value:function(){var I=this.state.xAxisMap;return I?Object.entries(I).reduce(function(N,$){var D=F8($,2),F=D[0],q=D[1];return rt(rt({},N),{},hn({},F,q.scale))},{}):null}},{key:"getYScales",value:function(){var I=this.state.yAxisMap;return I?Object.entries(I).reduce(function(N,$){var D=F8($,2),F=D[0],q=D[1];return rt(rt({},N),{},hn({},F,q.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(I){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[I])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(I){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[I])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(I){var N=this.state,$=N.formattedGraphicalItems,D=N.activeItem;if($&&$.length)for(var F=0,q=$.length;F<q;F++){var X=$[F],J=X.props,ie=X.item,ge=nu(ie.type);if(ge==="Bar"){var Ce=(J.data||[]).find(function(xe){return VVe(I,xe)});if(Ce)return{graphicalItem:X,payload:Ce}}else if(ge==="RadialBar"){var fe=(J.data||[]).find(function(xe){return W6(I,xe)});if(fe)return{graphicalItem:X,payload:fe}}else if(Uk(X,D)||Vk(X,D)||Dx(X,D)){var ce=HWe({graphicalItem:X,activeTooltipItem:D,itemData:ie.props.data}),ue=ie.props.activeIndex===void 0?ce:ie.props.activeIndex;return{graphicalItem:rt(rt({},X),{},{childIndex:ue}),payload:Dx(X,D)?ie.props.data[ce]:X.props.data[ce]}}}return null}},{key:"render",value:function(){var I=this;if(!f4(this))return null;var N=this.props,$=N.children,D=N.className,F=N.width,q=N.height,X=N.style,J=N.compact,ie=N.title,ge=N.desc,Ce=U8(N,bHe),fe=Un(Ce,!1);if(J)return Ee.createElement(hA,S0({},fe,{width:F,height:q,title:ie,desc:ge}),this.renderClipPath(),p4($,this.renderMap));if(this.props.accessibilityLayer){var ce,ue;fe.tabIndex=(ce=this.props.tabIndex)!==null&&ce!==void 0?ce:0,fe.role=(ue=this.props.role)!==null&&ue!==void 0?ue:"img",fe.onKeyDown=function(le){I.accessibilityManager.keyboardEvent(le)},fe.onFocus=function(){I.accessibilityManager.focus()}}var xe=this.parseEventsOfWrapper();return Ee.createElement(_7e,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ee.createElement("div",S0({className:at("recharts-wrapper",D),style:rt({position:"relative",cursor:"default",width:F,height:q},X)},xe,{ref:function(Pe){I.container=Pe},role:"region"}),Ee.createElement(hA,S0({},fe,{width:F,height:q,title:ie,desc:ge,style:LHe}),this.renderClipPath(),p4($,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),A}(U.Component),hn(n,"displayName",r),hn(n,"defaultProps",rt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},x)),hn(n,"getDerivedStateFromProps",function(C,O){var A=C.dataKey,M=C.data,I=C.children,N=C.width,$=C.height,D=C.layout,F=C.stackOffset,q=C.margin,X=O.dataStartIndex,J=O.dataEndIndex;if(O.updateId===void 0){var ie=H8(C);return rt(rt(rt({},ie),{},{updateId:0},E(rt(rt({props:C},ie),{},{updateId:0}),O)),{},{prevDataKey:A,prevData:M,prevWidth:N,prevHeight:$,prevLayout:D,prevStackOffset:F,prevMargin:q,prevChildren:I})}if(A!==O.prevDataKey||M!==O.prevData||N!==O.prevWidth||$!==O.prevHeight||D!==O.prevLayout||F!==O.prevStackOffset||!km(q,O.prevMargin)){var ge=H8(C),Ce={chartX:O.chartX,chartY:O.chartY,isTooltipActive:O.isTooltipActive},fe=rt(rt({},q8(O,M,D)),{},{updateId:O.updateId+1}),ce=rt(rt(rt({},ge),Ce),fe);return rt(rt(rt({},ce),E(rt({props:C},ce),O)),{},{prevDataKey:A,prevData:M,prevWidth:N,prevHeight:$,prevLayout:D,prevStackOffset:F,prevMargin:q,prevChildren:I})}if(!dA(I,O.prevChildren)){var ue,xe,le,Pe,je=Wa(I,ug),Qe=je&&(ue=(xe=je.props)===null||xe===void 0?void 0:xe.startIndex)!==null&&ue!==void 0?ue:X,We=je&&(le=(Pe=je.props)===null||Pe===void 0?void 0:Pe.endIndex)!==null&&le!==void 0?le:J,Ke=Qe!==X||We!==J,nt=!Gn(M),mt=nt&&!Ke?O.updateId:O.updateId+1;return rt(rt({updateId:mt},E(rt(rt({props:C},O),{},{updateId:mt,dataStartIndex:Qe,dataEndIndex:We}),O)),{},{prevChildren:I,dataStartIndex:Qe,dataEndIndex:We})}return null}),hn(n,"renderActiveDot",function(C,O){var A;return U.isValidElement(C)?A=U.cloneElement(C,O):jn(C)?A=C(O):A=Ee.createElement(JL,O),Ee.createElement(Oi,{className:"recharts-active-dot",key:O.key},A)}),n},HHe=qHe({chartName:"LineChart",GraphicalChild:pg,axisComponents:[{axisType:"xAxis",AxisComp:Hk},{axisType:"yAxis",AxisComp:Gk}],formatAxisMap:g7e});const GHe=Nr(e=>({chart:{flexGrow:1,overflow:"hidden"},content:{height:"100%",flexGrow:1,alignItems:"stretch",display:"flex",flexDirection:"column",overflowY:"auto"}})),IZ=()=>{const e=GHe(),[t,n]=U.useState([]),[r,i]=U.useState([]),[o,s]=U.useState([]),a=Ee.createRef();a.current=o;const[f,h]=U.useState(-1),g=yn(I=>I.mission.route),y=t.map(I=>I.elevation),x=t.map(I=>I.uavheight),T=Math.min(...y),E=Math.max(...x),C=E-T,O=I=>{let N=[];return I.length>0&&I.forEach($=>{let D=[];$.wp.forEach(F=>{D.push([F.pos[0],F.pos[1],F.pos[2]])}),N.push(D)}),N};async function A(){if(console.log("--------------   LLAMANDO A ELEVATION"),g.length>0){let I=JSON.parse(JSON.stringify(g)),N=I.map(F=>F.id),$=O(I);i($);let D;try{const F=await fetch("/api/map/elevation",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({routes:$})});if(F.ok)D=await F.json();else throw new Error(F.status)}catch(F){console.log(F)}if(D.status){let F=D.elevation.map((q,X)=>({name:"RT"+X,data:q,color:hh.colors_devices[N[X]]}));h(-1),s(F)}else console.log("no get elevation of point")}}U.useEffect(()=>{console.log("mission Elevation")},[]),U.useEffect(()=>{let I=!1,N=O(g);if(console.log("update elevation"),N.length>r.length)console.log("ruta mayour"),N[+N.length+-1].length>0?I=!0:i(N);else if(N.length<r.length){console.log(" se ha eliminado  una ruta");let $=[],D=[];r.map((F,q)=>{let X=!1;N.map(J=>{JSON.stringify(F)===JSON.stringify(J)&&(X=!0)}),X&&($.push(F),D.push(a.current[q]))}),s(D),i($)}else{console.log("ruta de la misma longitud");for(let $=0;$<N.length;$=$+1)if(JSON.stringify(N[$])!=JSON.stringify(r[$])){console.log("latitude longitude no equals");let D=r[$].map(q=>[q[0],q[1]]),F=N[$].map(q=>[q[0],q[1]]);if(JSON.stringify(D)===JSON.stringify(F)){for(let q=0;q<r[$].length;q=q+1)if(r[$][q][2]!==N[$][q][2]){console.log("diferent elevation");let X=JSON.parse(JSON.stringify(a.current));for(let J=0;J<X[$].data.length;J=J+1)X[$].data[J].hasOwnProperty("wp")&&X[$].data[J].wp==q&&(console.log("encontrado elev profile wp"),X[$].data[J].uavheight=+X[$].data[J].uavheight-+X[$].data[J].uav+ +N[$][q][2],X[$].data[J].uav=+N[$][q][2]);console.log(X),s(X)}i(N);break}else{console.log("nuevas posiciones"),I=!0;break}}}I&&A()},[g]),U.useEffect(()=>{f==-1?n(o):n([o[f]])},[f,o]);const M=({active:I,payload:N,label:$})=>{if(I&&N&&N.length){let D=[N[0].payload];return D[0].color=N[0].color,N.map(F=>{let q=!0;D.map(X=>{F.payload.rt==X.rt&&(q=!1)}),F.payload.color=F.color,q&&D.push(F.payload)}),D[0].uavheight?L.jsxs("div",{style:{background:"#FFFFFF"},children:[L.jsx("div",{children:`distancia ${$} m `}),D.map(F=>L.jsxs(U.Fragment,{children:[L.jsx("div",{style:{color:F.color,fontSize:16},children:`Ruta ${F.rt} - wp ${F.wp}`},`tr${F.rt}`),L.jsx("div",{style:{color:F.color,fontSize:16},children:`Terreno:${F.elevation} - UAV: ${F.uavheight}`},`dr${F.rt}`)]},"s-"+F.rt))]}):L.jsxs("div",{style:{background:"#FFFFFF"},children:[L.jsx("div",{children:`distancia ${$} m `}),D.map(F=>L.jsxs(U.Fragment,{children:[L.jsx("div",{style:{color:F.color,fontSize:16},children:`Ruta ${F.rt}`},`tr${F.rt}`),L.jsx("div",{style:{color:F.color,fontSize:16},children:`Terreno:${F.elevation} `},`dr${F.rt}`)]},"s-"+F.rt))]})}return null};return L.jsxs("div",{className:e.content,children:[L.jsxs(Za,{style:{display:"flex",margin:"10px",alignItems:"center"},children:[L.jsx("a",{style:{marginInline:"20px"},children:"Elevation Profile"}),L.jsxs(ib,{children:[L.jsx(ob,{id:"demo-simple-select-label",children:"Route"}),L.jsxs(ab,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:f,label:"Elevation Profile",onChange:I=>h(I.target.value),children:[L.jsx(Os,{value:-1,children:"All Routes"}),o.map((I,N,$)=>L.jsx(Os,{value:N,children:`Route${N}`},`sel${N}`))]})]})]}),t.length>0&&L.jsx("div",{className:e.chart,children:L.jsx(DBe,{width:"100%",height:"100%",children:L.jsxs(HHe,{data:t,margin:{top:10,right:40,left:0,bottom:10},children:[L.jsx(Hk,{dataKey:"length",type:"number",domain:["dataMin","dataMax"]}),L.jsx(Gk,{type:"number",tickFormatter:I=>I.toFixed(2),domain:[T-C/5,E+C/5]}),L.jsx(SZ,{strokeDasharray:"3 3"}),L.jsx(Wl,{content:L.jsx(M,{})}),L.jsx(eg,{}),t.map((I,N,$)=>L.jsxs(U.Fragment,{children:[L.jsx(pg,{type:"monotone",dataKey:"elevation",data:I.data,name:I.name,stroke:I.color,activeDot:{r:8,onClick:(D,F)=>{console.log(F);let q=`https://www.google.com/maps?q=${F.payload.lat},${F.payload.lng}`;window.open(q,"_blank")}}},I.name),L.jsx(pg,{connectNulls:!0,dataKey:"uavheight",data:I.data,name:I.name+"-v",stroke:I.color,strokeDasharray:"5 5",activeDot:{onClick:(D,F)=>{console.log(F)}}},I.name+"-v")]},"s-"+N))]})})})]})},YHe=Nr(e=>({card:{pointerEvents:"auto",width:"500px",height:"180px"},media:{height:e.dimensions.popupImageHeight,display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},content:{paddingTop:"15px",paddingBottom:e.spacing(1)},negative:{color:e.palette.colors.negative},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},table:{"& .MuiTableCell-sizeSmall":{paddingLeft:0,paddingRight:0}},cell:{borderBottom:"none"},actions:{justifyContent:"center"},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"50%",top:"40%",transform:"translateX(-50%)"}})),$Z=({SetOpenSave:e,OpenSave:t})=>{const n=YHe(),r=yn(g=>g.mission),[i,o]=U.useState("yaml"),[s,a]=U.useState(r.name),f=async()=>{let g,y="text/plain";if(i=="yaml"){let C={version:"3"};C.name=r.name,C.route=r.route,g=zq.stringify(C)}if(i=="kml"){y="application/xml";let C=`<?xml version="1.0" encoding="UTF-8"?>
`;C+=`<kml>
`,C+=`<Document>
`,r.route.map((A,M,I)=>{C+=`<Style id="sn_ylw-pushpin1${M}">
`,C+=`<LineStyle>
`,C+=`<color>ff${hh.colors_devices[M].substr(-6)}</color>
`,C+=`<width>3</width>
`,C+=`</LineStyle>
`,C+=`</Style>
`});let O=[];for(const A of r.route)if(A.wp.length){let M=await fetch(`/api/map/elevation?locations=[[${A.wp[0].pos[0]},${A.wp[0].pos[1]}]]`);if(M.ok){let I=await M.json();O.push(I.results[0].elevation)}else O.push(0)}else O.push(0);r.route.map((A,M)=>{C+=`<Placemark>
`,C+=`<name>${A.uav}-${A.name}</name>
`,C+=`<styleUrl>#sn_ylw-pushpin1${M}</styleUrl>
`,C+=`<open>1</open>
`,C+=`<LineString>
`;let I="";A.wp.map(N=>{I=I+N.pos[1]+","+N.pos[0]+","+(+N.pos[2]+ +O[M])+" "}),C+=`<tessellate>1</tessellate>
`,C+=`<altitudeMode>absolute</altitudeMode>
`,C+=`<coordinates>
`,C+=I+`
`,C+=`</coordinates>
`,C+=`</LineString>
`,C+=`</Placemark>
`}),C+=`</Document>
`,C+="</kml>",g=C}if(i=="plan"){y="application/json";let C={fileType:"Plan"};C.geoFence={circles:[],polygons:[],version:2},C.groundStation="QGroundControl",C.mission={},C.mission.cruiseSpeed=r.route[0].attributes.idle_vel,C.mission.firmwareType=12,C.mission.globalPlanAltitudeMode=0,C.mission.hoverSpeed=5,C.mission.items=[],r.route.map((O,A,M)=>{O.wp.map((I,N,$)=>{let D={AMSLAltAboveTerrain:null,Altitude:I.pos[2],AltitudeMode:1,autoContinue:!0,command:16,doJumpId:1,frame:3,params:[0,0,0,null,I.pos[0],I.pos[1],I.pos[2]],type:"SimpleItem"};N==0&&(D.command=84,C.mission.plannedHomePosition=[I.pos[0],I.pos[1],I.pos[2]]),N+1==$.length&&(D.command=84),C.mission.items.push(D)})}),C.mission.vehicleType=20,C.mission.version=2,C.rallyPoints={points:[],version:2},C.version=1,g=JSON.stringify(C)}if(i=="waypoint"){let C=`QGC WPL 110
`;r.route.map(O=>{O.wp.map((A,M,I)=>{M==0?C+=`${M}	1	0	16	0	0	0	0	${A.pos[0]}	${A.pos[1]}	${A.pos[2]}	1
`:C+=`${M}	0	0	16	0	0	0	0	${A.pos[0]}	${A.pos[1]}	${A.pos[2]}	1
`})}),g=C}const x=new Blob([g],{type:y}),T=URL.createObjectURL(x),E=document.createElement("a");E.download=r.name+"."+i,E.href=T,E.click()},h=()=>{e(!1)};return L.jsx("div",{className:n.root,children:L.jsxs(ku,{elevation:3,className:n.card,children:[L.jsxs("div",{className:n.header,children:[L.jsx(pn,{variant:"body2",color:"textSecondary",children:"Save Mission"}),L.jsx(Hn,{size:"small",onClick:h,onTouchStart:h,children:L.jsx(pu,{fontSize:"small"})})]}),L.jsxs(gR,{className:n.content,children:[L.jsx(Pi,{required:!0,label:"Name Mission",variant:"standard",value:s||" ",onChange:g=>a(g.target.value),style:{width:"300px",marginRight:"5px"}}),L.jsxs(ib,{children:[L.jsx(ob,{children:"Type file mission"}),L.jsx(ab,{label:"Type file mission",value:i,onChange:g=>o(g.target.value),sx:{width:"120px"},children:["yaml","kml","waypoint","plan"].map(g=>L.jsx(Os,{value:g,children:g},g))})]})]}),L.jsx(Z9,{classes:{root:n.actions},disableSpacing:!0,children:L.jsx(mr,{onClick:f,children:"Save Mission"})})]})})},KHe=Nr(e=>({root:{height:"100%"},sidebarStyle:{display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 95px)",width:"560px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},panelElevation:{display:"flex",flexDirection:"column",position:"fixed",right:0,bottom:0,height:"30vh",width:"calc(100% - 560px)",margin:"0px",zIndex:3}})),ZHe=(e,t)=>{switch(e){case"success":toastProperties={id:list.length+1,title:"Success",description:t,backgroundColor:"#5cb85c"};break;case"danger":toastProperties={id:list.length+1,title:"Danger",description:t,backgroundColor:"#d9534f"};break;case"error":toastProperties={id:list.length+1,title:"Danger",description:t,backgroundColor:"#d9534f"};break;case"info":toastProperties={id:list.length+1,title:"Info",description:t,backgroundColor:"#5bc0de"};break;case"warning":toastProperties={id:list.length+1,title:"Warning",description:t,backgroundColor:"#f0ad4e"};break;default:toastProperties=[]}setList([...list,toastProperties])},XHe=()=>{const e=KHe(),[t,n]=U.useState(!1),r=yn(s=>s.data.positions),[i,o]=U.useState([]);return U.useEffect(()=>{o(Object.values(r))},[r]),L.jsx("div",{className:e.root,children:L.jsx(CG,{children:L.jsxs(qC,{notification:ZHe,children:[L.jsx(HC,{}),L.jsx(GC,{}),L.jsxs("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 95px)"},children:[L.jsx("div",{style:{display:"inline-block",position:"relative",width:"560px",height:"100%"}}),L.jsxs("div",{style:{display:"inline-block",position:"relative",width:"calc(100vw - 575px)",height:"100%"},children:[L.jsxs($R,{children:[L.jsx(kG,{}),L.jsx(HH,{positions:i,onClick:null,selectedPosition:null,showStatus:!0})]}),L.jsx(wG,{})]})]}),L.jsx("div",{className:e.sidebarStyle,children:L.jsx("div",{className:e.middleStyle,children:L.jsx(la,{square:!0,children:L.jsx(ePe,{SetOpenSave:n})})})}),L.jsx("div",{className:e.panelElevation,children:L.jsx("div",{className:e.middleStyle,children:L.jsx(la,{square:!0,children:L.jsx(IZ,{})})})}),t&&L.jsx($Z,{SetOpenSave:n})]})})})},JHe=()=>L.jsx("div",{children:"EventPage"}),QHe=()=>L.jsx("div",{children:"ReplayPage"}),eGe=Nr(e=>({root:{position:"relative",width:"200px",height:"200px",backgroundColor:"#F7F9F9",overflow:"hidden",margin:"auto"},box_down:{width:"100%",height:"50%",backgroundColor:"#5D6D7E",position:"absolute",transition:"bottom 0.3s ease-in-out",bottom:0,left:"50%",transform:"translate(-50%, 100%)",borderTop:"6px solid #1B2631 "},box_right:{width:"50%",height:"100%",backgroundColor:"#5D6D7E",position:"absolute",transition:"right 0.3s ease-in-out",top:"50%",right:0,transform:"translate(100%, -50%)",borderLeft:"6px solid #1B2631 "},box_up:{width:"100%",height:"50%",backgroundColor:"#5D6D7E",position:"absolute",transition:"top 0.3s ease-in-out",top:0,left:"50%",transform:"translate(-50%, -100%)",borderBottom:"6px solid #1B2631 "},box_left:{width:"50%",height:"100%",backgroundColor:"#5D6D7E",position:"absolute",transition:"left 0.3s ease-in-out",top:"50%",left:0,transform:"translate(-100%, -50%)",borderRight:"6px solid #1B2631 "},text_right:{position:"absolute",right:"15%",top:"50%"},text_left:{position:"absolute",left:"15%",top:"50%"},text_down:{position:"absolute",right:"50%",bottom:"15%",transform:"translate(50%, 50%)"},text_up:{position:"absolute",right:"50%",top:"15%",transform:"translate(50%, -50%)"},icon:{position:"absolute",width:"25%",height:"25%",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},centerContent:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})),d2=({device:e,data:t=[10,15,11,0,12,20],sensors:n={down:[0,15],front:[0,15],left:[0,12],back:[0,12],right:[0,12],up:[0,20]},front_view:r=!1,test:i=!1})=>{const o=eGe(),[s,a]=U.useState(0),[f,h]=U.useState(0),[g,y]=U.useState(0),[x,T]=U.useState(0);U.useEffect(()=>{r?(n.hasOwnProperty("down")&&T(40-40*t[0]/n.down[1]),n.hasOwnProperty("left")&&h(40-40*t[2]/n.left[1]),n.hasOwnProperty("right")&&a(40-40*t[4]/n.right[1]),n.hasOwnProperty("up")&&y(40-40*t[5]/n.up[1])):(n.hasOwnProperty("front")&&y(40-40*t[1]/n.front[1]),n.hasOwnProperty("left")&&a(40-40*t[2]/n.left[1]),n.hasOwnProperty("back")&&T(40-40*t[3]/n.down[1]),n.hasOwnProperty("right")&&h(40-50*t[4]/n.right[1]))},[t,e,n]);const E=()=>{a(O=>O-10),h(O=>O-10),y(O=>O-10),T(O=>O-10)},C=()=>{a(O=>O+10),h(O=>O+10),y(O=>O+10),T(O=>O+10)};return L.jsxs("div",{style:{flex:1,margin:"10px"},children:[L.jsxs("div",{className:o.root,children:[L.jsx("div",{className:o.box_left,style:{left:`${s}%`}}),L.jsx("div",{className:o.box_right,style:{right:`${f}%`}}),L.jsx("div",{className:o.box_up,style:{top:`${g}%`}}),L.jsx("div",{className:o.box_down,style:{bottom:`${x}%`}}),!r&&L.jsxs(L.Fragment,{children:[s<50&&L.jsxs("div",{className:o.text_left,children:[" ",`${t[2]}m`]}),f<50&&L.jsxs("div",{className:o.text_right,children:[" ",`${t[4]}m`]}),g<50&&L.jsxs("div",{className:o.text_up,children:[" ",`${t[1]}m`]}),x<50&&L.jsxs("div",{className:o.text_down,children:[" ",`${t[3]}m`]}),L.jsx("img",{className:o.icon,src:H0[qw("dji_M210_melodic")],alt:""})]}),r&&L.jsxs(L.Fragment,{children:[s<50&&L.jsxs("div",{className:o.text_left,children:[" ",`${t[4]}m`]}),f<50&&L.jsxs("div",{className:o.text_right,children:[" ",`${t[2]}m`]}),g<50&&L.jsxs("div",{className:o.text_up,children:[" ",`${t[5]}m`]}),x<50&&L.jsxs("div",{className:o.text_down,children:[" ",`${t[0]}m`]}),L.jsx("img",{className:o.icon,src:Sie[qw("dji_M210_melodic")],alt:""})]})]}),!r&&L.jsx(pn,{align:"center",children:"Front view"}),r&&L.jsx(pn,{align:"center",children:"Top view"}),i&&L.jsxs("div",{children:[L.jsx("button",{onClick:E,children:"Move Left"}),L.jsx("button",{onClick:C,children:"Move Right"})]})]})};var RZ={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Np,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",s="second",a="minute",f="hour",h="day",g="week",y="month",x="quarter",T="year",E="date",C="Invalid Date",O=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,A=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(fe){var ce=["th","st","nd","rd"],ue=fe%100;return"["+fe+(ce[(ue-20)%10]||ce[ue]||ce[0])+"]"}},I=function(fe,ce,ue){var xe=String(fe);return!xe||xe.length>=ce?fe:""+Array(ce+1-xe.length).join(ue)+fe},N={s:I,z:function(fe){var ce=-fe.utcOffset(),ue=Math.abs(ce),xe=Math.floor(ue/60),le=ue%60;return(ce<=0?"+":"-")+I(xe,2,"0")+":"+I(le,2,"0")},m:function fe(ce,ue){if(ce.date()<ue.date())return-fe(ue,ce);var xe=12*(ue.year()-ce.year())+(ue.month()-ce.month()),le=ce.clone().add(xe,y),Pe=ue-le<0,je=ce.clone().add(xe+(Pe?-1:1),y);return+(-(xe+(ue-le)/(Pe?le-je:je-le))||0)},a:function(fe){return fe<0?Math.ceil(fe)||0:Math.floor(fe)},p:function(fe){return{M:y,y:T,w:g,d:h,D:E,h:f,m:a,s,ms:o,Q:x}[fe]||String(fe||"").toLowerCase().replace(/s$/,"")},u:function(fe){return fe===void 0}},$="en",D={};D[$]=M;var F="$isDayjsObject",q=function(fe){return fe instanceof ge||!(!fe||!fe[F])},X=function fe(ce,ue,xe){var le;if(!ce)return $;if(typeof ce=="string"){var Pe=ce.toLowerCase();D[Pe]&&(le=Pe),ue&&(D[Pe]=ue,le=Pe);var je=ce.split("-");if(!le&&je.length>1)return fe(je[0])}else{var Qe=ce.name;D[Qe]=ce,le=Qe}return!xe&&le&&($=le),le||!xe&&$},J=function(fe,ce){if(q(fe))return fe.clone();var ue=typeof ce=="object"?ce:{};return ue.date=fe,ue.args=arguments,new ge(ue)},ie=N;ie.l=X,ie.i=q,ie.w=function(fe,ce){return J(fe,{locale:ce.$L,utc:ce.$u,x:ce.$x,$offset:ce.$offset})};var ge=function(){function fe(ue){this.$L=X(ue.locale,null,!0),this.parse(ue),this.$x=this.$x||ue.x||{},this[F]=!0}var ce=fe.prototype;return ce.parse=function(ue){this.$d=function(xe){var le=xe.date,Pe=xe.utc;if(le===null)return new Date(NaN);if(ie.u(le))return new Date;if(le instanceof Date)return new Date(le);if(typeof le=="string"&&!/Z$/i.test(le)){var je=le.match(O);if(je){var Qe=je[2]-1||0,We=(je[7]||"0").substring(0,3);return Pe?new Date(Date.UTC(je[1],Qe,je[3]||1,je[4]||0,je[5]||0,je[6]||0,We)):new Date(je[1],Qe,je[3]||1,je[4]||0,je[5]||0,je[6]||0,We)}}return new Date(le)}(ue),this.init()},ce.init=function(){var ue=this.$d;this.$y=ue.getFullYear(),this.$M=ue.getMonth(),this.$D=ue.getDate(),this.$W=ue.getDay(),this.$H=ue.getHours(),this.$m=ue.getMinutes(),this.$s=ue.getSeconds(),this.$ms=ue.getMilliseconds()},ce.$utils=function(){return ie},ce.isValid=function(){return this.$d.toString()!==C},ce.isSame=function(ue,xe){var le=J(ue);return this.startOf(xe)<=le&&le<=this.endOf(xe)},ce.isAfter=function(ue,xe){return J(ue)<this.startOf(xe)},ce.isBefore=function(ue,xe){return this.endOf(xe)<J(ue)},ce.$g=function(ue,xe,le){return ie.u(ue)?this[xe]:this.set(le,ue)},ce.unix=function(){return Math.floor(this.valueOf()/1e3)},ce.valueOf=function(){return this.$d.getTime()},ce.startOf=function(ue,xe){var le=this,Pe=!!ie.u(xe)||xe,je=ie.p(ue),Qe=function(He,ct){var ut=ie.w(le.$u?Date.UTC(le.$y,ct,He):new Date(le.$y,ct,He),le);return Pe?ut:ut.endOf(h)},We=function(He,ct){return ie.w(le.toDate()[He].apply(le.toDate("s"),(Pe?[0,0,0,0]:[23,59,59,999]).slice(ct)),le)},Ke=this.$W,nt=this.$M,mt=this.$D,st="set"+(this.$u?"UTC":"");switch(je){case T:return Pe?Qe(1,0):Qe(31,11);case y:return Pe?Qe(1,nt):Qe(0,nt+1);case g:var Nt=this.$locale().weekStart||0,Mt=(Ke<Nt?Ke+7:Ke)-Nt;return Qe(Pe?mt-Mt:mt+(6-Mt),nt);case h:case E:return We(st+"Hours",0);case f:return We(st+"Minutes",1);case a:return We(st+"Seconds",2);case s:return We(st+"Milliseconds",3);default:return this.clone()}},ce.endOf=function(ue){return this.startOf(ue,!1)},ce.$set=function(ue,xe){var le,Pe=ie.p(ue),je="set"+(this.$u?"UTC":""),Qe=(le={},le[h]=je+"Date",le[E]=je+"Date",le[y]=je+"Month",le[T]=je+"FullYear",le[f]=je+"Hours",le[a]=je+"Minutes",le[s]=je+"Seconds",le[o]=je+"Milliseconds",le)[Pe],We=Pe===h?this.$D+(xe-this.$W):xe;if(Pe===y||Pe===T){var Ke=this.clone().set(E,1);Ke.$d[Qe](We),Ke.init(),this.$d=Ke.set(E,Math.min(this.$D,Ke.daysInMonth())).$d}else Qe&&this.$d[Qe](We);return this.init(),this},ce.set=function(ue,xe){return this.clone().$set(ue,xe)},ce.get=function(ue){return this[ie.p(ue)]()},ce.add=function(ue,xe){var le,Pe=this;ue=Number(ue);var je=ie.p(xe),Qe=function(nt){var mt=J(Pe);return ie.w(mt.date(mt.date()+Math.round(nt*ue)),Pe)};if(je===y)return this.set(y,this.$M+ue);if(je===T)return this.set(T,this.$y+ue);if(je===h)return Qe(1);if(je===g)return Qe(7);var We=(le={},le[a]=r,le[f]=i,le[s]=n,le)[je]||1,Ke=this.$d.getTime()+ue*We;return ie.w(Ke,this)},ce.subtract=function(ue,xe){return this.add(-1*ue,xe)},ce.format=function(ue){var xe=this,le=this.$locale();if(!this.isValid())return le.invalidDate||C;var Pe=ue||"YYYY-MM-DDTHH:mm:ssZ",je=ie.z(this),Qe=this.$H,We=this.$m,Ke=this.$M,nt=le.weekdays,mt=le.months,st=le.meridiem,Nt=function(ct,ut,Ve,Tt){return ct&&(ct[ut]||ct(xe,Pe))||Ve[ut].slice(0,Tt)},Mt=function(ct){return ie.s(Qe%12||12,ct,"0")},He=st||function(ct,ut,Ve){var Tt=ct<12?"AM":"PM";return Ve?Tt.toLowerCase():Tt};return Pe.replace(A,function(ct,ut){return ut||function(Ve){switch(Ve){case"YY":return String(xe.$y).slice(-2);case"YYYY":return ie.s(xe.$y,4,"0");case"M":return Ke+1;case"MM":return ie.s(Ke+1,2,"0");case"MMM":return Nt(le.monthsShort,Ke,mt,3);case"MMMM":return Nt(mt,Ke);case"D":return xe.$D;case"DD":return ie.s(xe.$D,2,"0");case"d":return String(xe.$W);case"dd":return Nt(le.weekdaysMin,xe.$W,nt,2);case"ddd":return Nt(le.weekdaysShort,xe.$W,nt,3);case"dddd":return nt[xe.$W];case"H":return String(Qe);case"HH":return ie.s(Qe,2,"0");case"h":return Mt(1);case"hh":return Mt(2);case"a":return He(Qe,We,!0);case"A":return He(Qe,We,!1);case"m":return String(We);case"mm":return ie.s(We,2,"0");case"s":return String(xe.$s);case"ss":return ie.s(xe.$s,2,"0");case"SSS":return ie.s(xe.$ms,3,"0");case"Z":return je}return null}(ct)||je.replace(":","")})},ce.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ce.diff=function(ue,xe,le){var Pe,je=this,Qe=ie.p(xe),We=J(ue),Ke=(We.utcOffset()-this.utcOffset())*r,nt=this-We,mt=function(){return ie.m(je,We)};switch(Qe){case T:Pe=mt()/12;break;case y:Pe=mt();break;case x:Pe=mt()/3;break;case g:Pe=(nt-Ke)/6048e5;break;case h:Pe=(nt-Ke)/864e5;break;case f:Pe=nt/i;break;case a:Pe=nt/r;break;case s:Pe=nt/n;break;default:Pe=nt}return le?Pe:ie.a(Pe)},ce.daysInMonth=function(){return this.endOf(y).$D},ce.$locale=function(){return D[this.$L]},ce.locale=function(ue,xe){if(!ue)return this.$L;var le=this.clone(),Pe=X(ue,xe,!0);return Pe&&(le.$L=Pe),le},ce.clone=function(){return ie.w(this.$d,this)},ce.toDate=function(){return new Date(this.valueOf())},ce.toJSON=function(){return this.isValid()?this.toISOString():null},ce.toISOString=function(){return this.$d.toISOString()},ce.toString=function(){return this.$d.toUTCString()},fe}(),Ce=ge.prototype;return J.prototype=Ce,[["$ms",o],["$s",s],["$m",a],["$H",f],["$W",h],["$M",y],["$y",T],["$D",E]].forEach(function(fe){Ce[fe[1]]=function(ce){return this.$g(ce,fe[0],fe[1])}}),J.extend=function(fe,ce){return fe.$i||(fe(ce,ge,J),fe.$i=!0),J},J.locale=X,J.isDayjs=q,J.unix=function(fe){return J(1e3*fe)},J.en=D[$],J.Ls=D,J.p={},J})})(RZ);var tGe=RZ.exports;const Y8=cr(tGe),nGe=(e,t,n,r,i,o,s)=>{const a=yn(f=>f.devices.items);U.useEffect(()=>{const f=Object.values(a).filter(h=>!t.statuses.length||t.statuses.includes(h.status)).filter(h=>{const g=e.toLowerCase();return[h.name,h.uniqueId,h.phone,h.model,h.contact].some(y=>y&&y.toLowerCase().includes(g))});switch(n){case"name":f.sort((h,g)=>h.name.localeCompare(g.name));break;case"lastUpdate":f.sort((h,g)=>{const y=h.lastUpdate?Y8(h.lastUpdate).valueOf():0;return(g.lastUpdate?Y8(g.lastUpdate).valueOf():0)-y});break}o(f),s(r?f.map(h=>i[h.id]).filter(Boolean):Object.values(i))},[e,t,n,r,a,i,o,s])},rGe=Nr(e=>({card:{pointerEvents:"auto"},media:{height:"20vw",width:"100%",background:"black"},media1:{width:"100%",height:"100%",display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},gruopBtn:{float:"right",height:"40px"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},tittle:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},root:{pointerEvents:"none"},root_max:{pointerEvents:"none"}})),f2=({deviceId:e,deviceIp:t="127.0.0.1",camera_src:n="video0",onClose:r})=>{const i=rGe(),o=e?yn(g=>g.devices.items[e]):{name:"test"},s="http://"+t+":8889/"+n;U.useState(!1);let a=i.card,f=i.root_max,h=i.media;return U.useRef(),L.jsx("div",{className:f,children:o&&L.jsxs(ku,{className:a,children:[L.jsx("div",{children:L.jsx("div",{className:i.tittle,children:"Id: "+o.name})}),L.jsx("iframe",{src:s,className:h})]})})},iGe=Nr(e=>({card:{pointerEvents:"auto"},media:{width:"100%",height:"20vw",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},tittle:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none"},root_max:{pointerEvents:"none"}})),DZ=({deviceId:e,datacamera:t,onClose:n})=>{const r=iGe(),[i,o]=U.useState(uS),s=yn(g=>g.devices.items[e]);U.useState(!1);let a=r.card,f=r.root_max;const h=yn(g=>g.data.camera[e]);return U.useEffect(()=>{e!=null&&(h!=null?o("data:image/bgr8;base64,"+h.camera):o(uS))},[h]),L.jsx("div",{className:f,children:s&&L.jsxs(ku,{className:a,children:[L.jsx("div",{children:L.jsxs("div",{className:r.tittle,children:["Image "+s.name," "]})}),L.jsx("img",{src:i,className:r.media})]})})},oGe=Nr(e=>({root:{margin:"0",height:"100vh",display:"flex",flexDirection:"column"},content:{overflow:"auto",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},buttons:{marginTop:e.spacing(2),marginBottom:e.spacing(2),display:"flex",justifyContent:"space-evenly","& > *":{flexBasis:"33%"}},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)}})),aGe=({device:e,myhostname:t})=>{const n=e.camera&&e.camera.length>0?e.camera[0]:{type:""};return L.jsxs(L.Fragment,{children:[n.type==="WebRTC"&&L.jsx(f2,{deviceId:e.id,deviceIp:t,devicename:e.name,camera_src:e.name+"_"+n.source,onClose:()=>{console.log("cerrar ")}}),n.type==="WebRTC_env"&&L.jsx(f2,{deviceId:e.id,deviceIp:e.ip,devicename:e.name,camera_src:n.source,onClose:()=>{console.log("cerrar ")}}),n.type==="Websocket"&&L.jsx(DZ,{deviceId:e.id,datacamera:null,onClose:()=>console.log("cerrar ")})]})},sGe=()=>{const e=oGe(),t=_g(),{id:n}=Rte(),[r,i]=Ee.useState(0),[o,s]=U.useState(),[a,f]=U.useState({}),h=yn(ie=>ie.data.positions),g=yn(ie=>ie.devices.items),y=yn(ie=>ie.session.markers);U.useState(0);const[x,T]=U.useState([]),E=`${window.location.hostname}`,[C,O]=U.useState([]),[A,M]=U.useState([]),[I,N]=U.useState(""),[$,D]=fE("filter",{statuses:[],groups:[]}),[F,q]=fE("filterSort",""),[X,J]=fE("filterMap",!1);return nGe(I,$,F,X,h,M,O),U.useEffect(()=>{T(y)},[y]),U.useEffect(()=>{n&&s(h[n])},[n,h]),U.useEffect(()=>{n&&(f(g[n]),console.log(g[n]))},[n]),L.jsxs("div",{className:e.root,children:[L.jsx(sR,{position:"sticky",color:"inherit",children:L.jsxs(kg,{children:[L.jsx(Hn,{color:"inherit",edge:"start",sx:{mr:2},onClick:()=>t(-1),children:L.jsx(vb,{})}),L.jsx(pn,{variant:"h6",children:a.name})]})}),L.jsxs("div",{style:{display:"flex",flex:1,overflow:"hidden"},children:[L.jsxs("div",{style:{flex:1},children:[L.jsx("div",{style:{height:"50vh"},children:L.jsx(SG,{filteredPositions:C,markers:x,selectedPosition:n,filteredMissiondeviceid:n})}),L.jsx("div",{children:Object.keys(a).length>0&&L.jsx(aGe,{device:a,myhostname:E})})]}),L.jsxs("div",{style:{flex:1,justifyContent:"space-between",display:"flex",flexDirection:"column"},children:[L.jsx("div",{style:{height:"50vh"},className:e.content,children:L.jsx(yR,{maxWidth:"false",children:L.jsx(la,{children:L.jsxs(_R,{"aria-label":"simple table",children:[L.jsx(h7,{children:L.jsxs(xm,{children:[L.jsx(Ca,{sx:{fontWeight:"bold"},children:"Attributes"}),L.jsx(Ca,{sx:{fontWeight:"bold"},children:"Value"})]})}),L.jsxs(wR,{children:[o&&Object.getOwnPropertyNames(o).filter(ie=>ie!=="attributes").map(ie=>L.jsxs(xm,{children:[L.jsx(Ca,{children:ie}),L.jsx(Ca,{children:L.jsx(sA,{position:o,property:ie})})]},ie)),o&&Object.getOwnPropertyNames(o.attributes).map(ie=>L.jsxs(xm,{children:[L.jsx(Ca,{children:ie}),L.jsx(Ca,{children:L.jsx(sA,{position:o,attribute:ie})})]},ie))]})]})})})}),L.jsx("div",{style:{padding:"15px",margin:"10px"},children:L.jsxs(la,{children:[L.jsx(pn,{align:"center",variant:"h5",component:"div",style:{padding:"15px"},children:"Avoidance sensor"}),o&&o.attributes&&L.jsxs("div",{style:{display:"flex",flex:1},children:[L.jsx(d2,{front_view:!0,data:o.attributes.obstacle_info}),L.jsx(d2,{front_view:!1,data:o.attributes.obstacle_info})]})]})}),L.jsx("div",{style:{padding:"15px",marginTop:"auto"},children:L.jsx(la,{children:L.jsxs(efe,{showLabels:!0,value:r,onChange:(ie,ge)=>{i(ge)},children:[L.jsx(l1,{label:"Edit",icon:L.jsx(qD,{})}),L.jsx(l1,{label:"Result",icon:L.jsx(FD,{})}),L.jsx(l1,{label:"Command",icon:L.jsx(VD,{})}),L.jsx(l1,{label:"Delete",icon:L.jsx(qd,{})})]})})})]})]})]})},lGe=Nr(()=>({root:{height:"100%"},sidebarStyle:{pointerEvents:"none",display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 88px)",width:"360px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},contentListStyle:{pointerEvents:"auto",gridArea:"1 / 1",zIndex:4}})),cGe=(e,t)=>{switch(e){case"success":toastProperties={id:list.length+1,title:"Success",description:t,backgroundColor:"#5cb85c"};break;case"danger":toastProperties={id:list.length+1,title:"Danger",description:t,backgroundColor:"#d9534f"};break;case"info":toastProperties={id:list.length+1,title:"Info",description:t,backgroundColor:"#5bc0de"};break;case"warning":toastProperties={id:list.length+1,title:"Warning",description:t,backgroundColor:"#f0ad4e"};break;default:toastProperties=[]}setList([...list,toastProperties])},uGe=()=>{const[e,t]=U.useState(!1),n=yn(s=>s.devices.items);let r=Object.values(n);const i=`${window.location.hostname}`,o=lGe();return L.jsx("div",{className:o.root,children:L.jsxs(qC,{notification:cGe,children:[L.jsx(HC,{}),L.jsx(GC,{}),L.jsx("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 90px)"},children:L.jsx(Za,{component:"div",sx:{overflow:"auto"},style:{backgroundColor:"#000000",width:"calc(100vw - 360px)",height:"calc(100vh - 90px",padding:"20px",float:"right"},children:L.jsx(k3,{container:!0,spacing:2,justifyContent:"space-around",children:Ee.Children.toArray(Object.values(n).map(s=>L.jsx(U.Fragment,{children:s.camera.map((a,f)=>L.jsxs(k3,{item:!0,xs:12,sm:6,children:[a.type==="WebRTC"&&L.jsx(f2,{deviceId:s.id,deviceIp:i,devicename:s.name,camera_src:s.name+"_"+a.source,onClose:()=>{console.log("cerrar ")}}),a.type==="WebRTC_env"&&L.jsx(f2,{deviceId:s.id,deviceIp:s.ip,devicename:s.name,camera_src:a.source,onClose:()=>{console.log("cerrar ")}}),a.type==="Websocket"&&L.jsx(DZ,{deviceId:s.id,datacamera:null,onClose:()=>console.log("cerrar ")})]},"card-"+s.id+"-"+f))},"dev"+s.id)))})})}),L.jsx("div",{className:o.sidebarStyle,children:L.jsx("div",{className:o.middleStyle,children:L.jsxs(la,{square:!0,className:o.contentListStyle,children:[L.jsx(_G,{SetAddUAVOpen:t}),L.jsx(oG,{devices:r})]})})})]})})},dGe=Nr(e=>({root:{height:"100%",display:"flex",flexDirection:"column"},content:{overflow:"auto",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},buttons:{marginTop:e.spacing(2),marginBottom:e.spacing(2),display:"flex",justifyContent:"space-evenly","& > *":{flexBasis:"33%"}},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)}})),fGe=()=>{const e=dGe(),t=_g(),[n,r]=U.useState([]),[i,o]=U.useState(),s=yn(f=>f.events.items),a=yn(f=>f.devices.items);return U.useEffect(()=>{r(s)},[s]),U.useEffect(()=>{o({...a,"-1":{name:"GCS"}})},[a]),yn(f=>{if(n){const h=f.devices.items[n.deviceId];if(h)return h.name}return null}),L.jsxs("div",{className:e.root,children:[L.jsx(sR,{position:"sticky",color:"inherit",children:L.jsxs(kg,{children:[L.jsx(Hn,{color:"inherit",edge:"start",sx:{mr:2},onClick:()=>t(-1),children:L.jsx(vb,{})}),L.jsx(pn,{variant:"h6",children:"Events"})]})}),L.jsx("div",{className:e.content,children:L.jsx(yR,{maxWidth:"sm",children:L.jsx(la,{children:L.jsxs(_R,{children:[L.jsx(h7,{children:L.jsxs(xm,{children:[L.jsx(Ca,{children:"UAV"}),L.jsx(Ca,{children:"Fecha"}),L.jsx(Ca,{children:"Valor"})]})}),L.jsx(wR,{children:n&&n.map(f=>L.jsxs(xm,{children:[L.jsx(Ca,{children:i[f.deviceId].name}),L.jsx(Ca,{children:f.eventTime}),L.jsx(Ca,{children:f.attributes.message})]},f.id))})]})})})})]})},hGe=()=>L.jsxs("div",{children:[L.jsx("h3",{children:"Move the Square"}),L.jsx(d2,{}),L.jsx(rb,{}),L.jsx(d2,{front_view:!0})]}),pGe=Nr(e=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),K8=({mission:e,setmission:t})=>{pGe(),yn(y=>y.mission);const n=yn(y=>y.mission.selectpoint);Hs(),U.useState(!1);const[r,i]=U.useState(!1),[o,s]=U.useState(!1),[a,f]=U.useState(!0);U.useEffect(()=>{console.log("render Router list")},[]),U.useEffect(()=>{i("Rute "+n.route_id),s("wp "+n.id)},[n]);const h=()=>{t({name:"new Mission",description:"",route:[]}),f(!1),g(),console.log("add new mission")},g=()=>{let y=[...e.route],x=y.length>0?+y.slice(-1)[0].id+1:0,T={max_vel:12,idle_vel:3,mode_yaw:2,mode_gimbal:0,mode_trace:0,mode_landing:2};y.push({name:"",uav:"",id:x,attributes:T,wp:[]}),t({...e,route:y})};return L.jsx(U.Fragment,{children:a?L.jsx(Za,{textAlign:"center",children:L.jsx(mr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:h,children:"Create New Base"})}):L.jsx(U.Fragment,{children:L.jsxs(Za,{style:{display:"flex",gap:"10px",flexDirection:"column",margin:"20px"},children:[L.jsx(Pi,{required:!0,label:"Name Mission",variant:"standard",value:e.name?e.name:" ",onChange:y=>t({...e,name:y.target.value})}),L.jsx(Pi,{required:!0,label:"Description of mission",variant:"standard",value:e.description?e.description:" ",onChange:y=>t({...e,description:y.target.value})}),L.jsx(Za,{textAlign:"center",children:L.jsx(mr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:g,children:"Add new Route"})})]})})})},mGe=Nr(e=>({root:{height:"100%"},sidebarStyle:{display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 95px)",width:"560px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},panelElevation:{display:"flex",flexDirection:"column",position:"fixed",right:0,bottom:0,height:"30vh",width:"calc(100% - 560px)",margin:"0px",zIndex:3},toolbar:{display:"flex",gap:"10px 10px",height:"30px",borderBottom:"3px solid rgb(212, 212, 212)"},list:{maxHeight:"calc(100vh - 152px)",overflowY:"auto"},title:{flexGrow:1},fileInput:{display:"none"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)}})),gGe=(e,t)=>{switch(e){case"success":toastProperties={id:list.length+1,title:"Success",description:t,backgroundColor:"#5cb85c"};break;case"danger":toastProperties={id:list.length+1,title:"Danger",description:t,backgroundColor:"#d9534f"};break;case"error":toastProperties={id:list.length+1,title:"Danger",description:t,backgroundColor:"#d9534f"};break;case"info":toastProperties={id:list.length+1,title:"Info",description:t,backgroundColor:"#5bc0de"};break;case"warning":toastProperties={id:list.length+1,title:"Warning",description:t,backgroundColor:"#f0ad4e"};break;default:toastProperties=[]}setList([...list,toastProperties])},yGe=()=>{const e=mGe(),[t,n]=U.useState(!1),r=yn(y=>y.data.positions),i=yn(y=>y.session.markers),[o,s]=U.useState([]),[a,f]=U.useState([]),[h,g]=U.useState({id:1234,name:"no mission",objetivo:0,loc:[],meteo:[],setting:[]});return U.useEffect(()=>{f(i)},[i]),U.useEffect(()=>{s(Object.values(r))},[r]),L.jsx("div",{className:e.root,children:L.jsx(CG,{children:L.jsxs(qC,{notification:gGe,children:[L.jsx(HC,{}),L.jsx(GC,{}),L.jsxs("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 95px)"},children:[L.jsx("div",{style:{display:"inline-block",position:"relative",width:"560px",height:"100%"}}),L.jsx("div",{style:{display:"inline-block",position:"relative",width:"calc(100vw - 575px)",height:"100%"},children:L.jsxs($R,{children:[L.jsx(kG,{}),L.jsx(GH,{markers:a})]})})]}),L.jsx("div",{className:e.sidebarStyle,children:L.jsx("div",{className:e.middleStyle,children:L.jsxs(la,{square:!0,children:[L.jsxs(kg,{className:e.toolbar,children:[L.jsx(Hn,{edge:"start",sx:{mr:2},onClick:()=>navigate(-1),children:L.jsx(vb,{})}),L.jsx(pn,{variant:"h6",className:e.title,children:"Mission Elements"})]}),L.jsx("div",{className:e.list,children:L.jsxs(Za,{style:{display:"flex",gap:"10px",flexDirection:"column",margin:"20px"},children:[L.jsx(Pi,{required:!0,label:"id",type:"number",variant:"standard",value:h.id?h.id:123,onChange:y=>g({...h,id:y.target.value})}),L.jsx(Pi,{required:!0,label:"Name Mission",variant:"standard",value:h.name?h.name:" ",onChange:y=>g({...h,name:y.target.value})}),L.jsx(Uc,{emptyValue:null,value:h.objetivo,onChange:y=>g({...h,objetivo:y.target.value}),data:[{id:0,name:"Localizacion de inidencia"},{id:1,name:"zona de aves"},{id:2,name:"Vegetacion"}],label:"objetivo",style:{display:"inline",width:"200px"}}),L.jsxs(Zl,{children:[L.jsx(Jl,{expandIcon:L.jsx(_l,{}),children:L.jsx(pn,{children:"localizacion incidentia"})}),L.jsx(Xl,{className:e.details})]}),L.jsxs(Zl,{children:[L.jsx(Jl,{expandIcon:L.jsx(_l,{}),children:L.jsx(pn,{children:"Meteo"})}),L.jsx(Xl,{className:e.details})]}),L.jsx(rb,{}),L.jsxs(Zl,{children:[L.jsx(Jl,{expandIcon:L.jsx(_l,{}),children:L.jsx(pn,{children:"Mission Settings"})}),L.jsx(Xl,{className:e.details,children:L.jsx(K8,{mission:h,setmission:g})})]}),L.jsxs(Zl,{children:[L.jsx(Jl,{expandIcon:L.jsx(_l,{}),children:L.jsx(pn,{children:"Elementos Interes"})}),L.jsx(Xl,{className:e.details,children:L.jsx(K8,{mission:h,setmission:g})})]})]})})]})})}),L.jsx("div",{className:e.panelElevation,children:L.jsx("div",{className:e.middleStyle,children:L.jsx(la,{square:!0,children:L.jsx(IZ,{})})})}),t&&L.jsx($Z,{SetOpenSave:n})]})})})},vGe=()=>{const e=_g();I2();const t=Exe();return SR(async()=>{e("/")},[t]),L.jsx(Zte,{children:L.jsxs(ll,{path:"/",element:L.jsx(Pxe,{}),children:[L.jsx(ll,{index:!0,element:L.jsx(DTe,{})}),L.jsx(ll,{path:"mission",element:L.jsx(XHe,{})}),L.jsx(ll,{path:"planning",element:L.jsx(yGe,{})}),L.jsx(ll,{path:"camera",element:L.jsx(uGe,{})}),L.jsx(ll,{path:"device/:id",element:L.jsx(sGe,{})}),L.jsx(ll,{path:"event/:id",element:L.jsx(JHe,{})}),L.jsx(ll,{path:"events",element:L.jsx(fGe,{})}),L.jsx(ll,{path:"replay",element:L.jsx(QHe,{})}),L.jsx(ll,{path:"topics",element:L.jsx(hGe,{})})]})})},xGe=()=>{const e={white:fh.white,background:rc[50],primary:XW[900],secondary:gl[800],positive:gl[500],medium:j$[700],negative:Fc[500],neutral:rc[500],geometry:"#3bb2d0"};return{background:{default:e.background},primary:{main:e.primary},secondary:{main:e.secondary,contrastText:e.white},colors:e}},bGe={sidebarWidth:"28%",sidebarWidthTablet:"52px",drawerWidthDesktop:"360px",drawerWidthTablet:"320px",drawerHeightPhone:"250px",filterFormWidth:"160px",eventsDrawerWidth:"320px",bottomBarHeight:56,popupMapOffset:300,popupMaxWidth:288,popupImageHeight:144},_Ge={MuiUseMediaQuery:{defaultProps:{noSsr:!0}},MuiOutlinedInput:{styleOverrides:{root:{backgroundColor:rc[50]}}},MuiButton:{styleOverrides:{sizeMedium:{height:"40px"}}},MuiFormControl:{defaultProps:{size:"small"}},MuiSnackbar:{defaultProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"}}}},wGe=()=>U.useMemo(()=>nR({palette:xGe(),dimensions:bGe,components:_Ge}),[]),SGe=({children:e})=>{const t=wGe();return L.jsx(Bse,{theme:t,children:e})};Cie();const CGe=uW(document.getElementById("root"));CGe.render(L.jsx(are,{store:lie,children:L.jsx(Loe,{injectFirst:!0,children:L.jsxs(SGe,{children:[L.jsx(ahe,{}),L.jsx(Jte,{children:L.jsx(vGe,{})})]})})}))});export default kGe();
