var eJ=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var iHe=eJ((sHe,Q1)=>{function tJ(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function IU(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var $U={exports:{}},QS={},RU={exports:{}},Un={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb=Symbol.for("react.element"),nJ=Symbol.for("react.portal"),rJ=Symbol.for("react.fragment"),iJ=Symbol.for("react.strict_mode"),oJ=Symbol.for("react.profiler"),aJ=Symbol.for("react.provider"),sJ=Symbol.for("react.context"),lJ=Symbol.for("react.forward_ref"),cJ=Symbol.for("react.suspense"),uJ=Symbol.for("react.memo"),dJ=Symbol.for("react.lazy"),vz=Symbol.iterator;function fJ(e){return e===null||typeof e!="object"?null:(e=vz&&e[vz]||e["@@iterator"],typeof e=="function"?e:null)}var DU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LU=Object.assign,NU={};function _g(e,t,n){this.props=e,this.context=t,this.refs=NU,this.updater=n||DU}_g.prototype.isReactComponent={};_g.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zU(){}zU.prototype=_g.prototype;function cI(e,t,n){this.props=e,this.context=t,this.refs=NU,this.updater=n||DU}var uI=cI.prototype=new zU;uI.constructor=cI;LU(uI,_g.prototype);uI.isPureReactComponent=!0;var bz=Array.isArray,jU=Object.prototype.hasOwnProperty,dI={current:null},BU={key:!0,ref:!0,__self:!0,__source:!0};function FU(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)jU.call(t,r)&&!BU.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var f=Array(a),h=0;h<a;h++)f[h]=arguments[h+2];i.children=f}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Kb,type:e,key:o,ref:s,props:i,_owner:dI.current}}function hJ(e,t){return{$$typeof:Kb,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fI(e){return typeof e=="object"&&e!==null&&e.$$typeof===Kb}function pJ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xz=/\/+/g;function qT(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pJ(""+e.key):t.toString(36)}function k1(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Kb:case nJ:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+qT(s,0):r,bz(i)?(n="",e!=null&&(n=e.replace(xz,"$&/")+"/"),k1(i,t,n,"",function(h){return h})):i!=null&&(fI(i)&&(i=hJ(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(xz,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",bz(e))for(var a=0;a<e.length;a++){o=e[a];var f=r+qT(o,a);s+=k1(o,t,n,f,i)}else if(f=fJ(e),typeof f=="function")for(e=f.call(e),a=0;!(o=e.next()).done;)o=o.value,f=r+qT(o,a++),s+=k1(o,t,n,f,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function O_(e,t,n){if(e==null)return e;var r=[],i=0;return k1(e,r,"","",function(o){return t.call(n,o,i++)}),r}function mJ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ua={current:null},P1={transition:null},gJ={ReactCurrentDispatcher:ua,ReactCurrentBatchConfig:P1,ReactCurrentOwner:dI};Un.Children={map:O_,forEach:function(e,t,n){O_(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return O_(e,function(){t++}),t},toArray:function(e){return O_(e,function(t){return t})||[]},only:function(e){if(!fI(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Un.Component=_g;Un.Fragment=rJ;Un.Profiler=oJ;Un.PureComponent=cI;Un.StrictMode=iJ;Un.Suspense=cJ;Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gJ;Un.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=LU({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=dI.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(f in t)jU.call(t,f)&&!BU.hasOwnProperty(f)&&(r[f]=t[f]===void 0&&a!==void 0?a[f]:t[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){a=Array(f);for(var h=0;h<f;h++)a[h]=arguments[h+2];r.children=a}return{$$typeof:Kb,type:e.type,key:i,ref:o,props:r,_owner:s}};Un.createContext=function(e){return e={$$typeof:sJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:aJ,_context:e},e.Consumer=e};Un.createElement=FU;Un.createFactory=function(e){var t=FU.bind(null,e);return t.type=e,t};Un.createRef=function(){return{current:null}};Un.forwardRef=function(e){return{$$typeof:lJ,render:e}};Un.isValidElement=fI;Un.lazy=function(e){return{$$typeof:dJ,_payload:{_status:-1,_result:e},_init:mJ}};Un.memo=function(e,t){return{$$typeof:uJ,type:e,compare:t===void 0?null:t}};Un.startTransition=function(e){var t=P1.transition;P1.transition={};try{e()}finally{P1.transition=t}};Un.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Un.useCallback=function(e,t){return ua.current.useCallback(e,t)};Un.useContext=function(e){return ua.current.useContext(e)};Un.useDebugValue=function(){};Un.useDeferredValue=function(e){return ua.current.useDeferredValue(e)};Un.useEffect=function(e,t){return ua.current.useEffect(e,t)};Un.useId=function(){return ua.current.useId()};Un.useImperativeHandle=function(e,t,n){return ua.current.useImperativeHandle(e,t,n)};Un.useInsertionEffect=function(e,t){return ua.current.useInsertionEffect(e,t)};Un.useLayoutEffect=function(e,t){return ua.current.useLayoutEffect(e,t)};Un.useMemo=function(e,t){return ua.current.useMemo(e,t)};Un.useReducer=function(e,t,n){return ua.current.useReducer(e,t,n)};Un.useRef=function(e){return ua.current.useRef(e)};Un.useState=function(e){return ua.current.useState(e)};Un.useSyncExternalStore=function(e,t,n){return ua.current.useSyncExternalStore(e,t,n)};Un.useTransition=function(){return ua.current.useTransition()};Un.version="18.2.0";RU.exports=Un;var V=RU.exports;const Pe=tr(V),ew=tJ({__proto__:null,default:Pe},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yJ=V,vJ=Symbol.for("react.element"),bJ=Symbol.for("react.fragment"),xJ=Object.prototype.hasOwnProperty,_J=yJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wJ={key:!0,ref:!0,__self:!0,__source:!0};function UU(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)xJ.call(t,r)&&!wJ.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:vJ,type:e,key:o,ref:s,props:i,_owner:_J.current}}QS.Fragment=bJ;QS.jsx=UU;QS.jsxs=UU;$U.exports=QS;var B=$U.exports,VU={exports:{}},es={},WU={exports:{}},qU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Se,De){var We=Se.length;Se.push(De);e:for(;0<We;){var dt=We-1>>>1,ht=Se[dt];if(0<i(ht,De))Se[dt]=De,Se[We]=ht,We=dt;else break e}}function n(Se){return Se.length===0?null:Se[0]}function r(Se){if(Se.length===0)return null;var De=Se[0],We=Se.pop();if(We!==De){Se[0]=We;e:for(var dt=0,ht=Se.length,Je=ht>>>1;dt<Je;){var it=2*(dt+1)-1,Ot=Se[it],ot=it+1,Gt=Se[ot];if(0>i(Ot,We))ot<ht&&0>i(Gt,Ot)?(Se[dt]=Gt,Se[ot]=We,dt=ot):(Se[dt]=Ot,Se[it]=We,dt=it);else if(ot<ht&&0>i(Gt,We))Se[dt]=Gt,Se[ot]=We,dt=ot;else break e}}return De}function i(Se,De){var We=Se.sortIndex-De.sortIndex;return We!==0?We:Se.id-De.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var f=[],h=[],g=1,v=null,x=3,k=!1,O=!1,C=!1,M=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(Se){for(var De=n(h);De!==null;){if(De.callback===null)r(h);else if(De.startTime<=Se)r(h),De.sortIndex=De.expirationTime,t(f,De);else break;De=n(h)}}function $(Se){if(C=!1,P(Se),!O)if(n(f)!==null)O=!0,Oe(z);else{var De=n(h);De!==null&&Ce($,De.startTime-Se)}}function z(Se,De){O=!1,C&&(C=!1,I(G),G=-1),k=!0;var We=x;try{for(P(De),v=n(f);v!==null&&(!(v.expirationTime>De)||Se&&!ae());){var dt=v.callback;if(typeof dt=="function"){v.callback=null,x=v.priorityLevel;var ht=dt(v.expirationTime<=De);De=e.unstable_now(),typeof ht=="function"?v.callback=ht:v===n(f)&&r(f),P(De)}else r(f);v=n(f)}if(v!==null)var Je=!0;else{var it=n(h);it!==null&&Ce($,it.startTime-De),Je=!1}return Je}finally{v=null,x=We,k=!1}}var N=!1,F=null,G=-1,J=5,ee=-1;function ae(){return!(e.unstable_now()-ee<J)}function pe(){if(F!==null){var Se=e.unstable_now();ee=Se;var De=!0;try{De=F(!0,Se)}finally{De?ye():(N=!1,F=null)}}else N=!1}var ye;if(typeof A=="function")ye=function(){A(pe)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Ee=we.port2;we.port1.onmessage=pe,ye=function(){Ee.postMessage(null)}}else ye=function(){M(pe,0)};function Oe(Se){F=Se,N||(N=!0,ye())}function Ce(Se,De){G=M(function(){Se(e.unstable_now())},De)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Se){Se.callback=null},e.unstable_continueExecution=function(){O||k||(O=!0,Oe(z))},e.unstable_forceFrameRate=function(Se){0>Se||125<Se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<Se?Math.floor(1e3/Se):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(Se){switch(x){case 1:case 2:case 3:var De=3;break;default:De=x}var We=x;x=De;try{return Se()}finally{x=We}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Se,De){switch(Se){case 1:case 2:case 3:case 4:case 5:break;default:Se=3}var We=x;x=Se;try{return De()}finally{x=We}},e.unstable_scheduleCallback=function(Se,De,We){var dt=e.unstable_now();switch(typeof We=="object"&&We!==null?(We=We.delay,We=typeof We=="number"&&0<We?dt+We:dt):We=dt,Se){case 1:var ht=-1;break;case 2:ht=250;break;case 5:ht=1073741823;break;case 4:ht=1e4;break;default:ht=5e3}return ht=We+ht,Se={id:g++,callback:De,priorityLevel:Se,startTime:We,expirationTime:ht,sortIndex:-1},We>dt?(Se.sortIndex=We,t(h,Se),n(f)===null&&Se===n(h)&&(C?(I(G),G=-1):C=!0,Ce($,We-dt))):(Se.sortIndex=ht,t(f,Se),O||k||(O=!0,Oe(z))),Se},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(Se){var De=x;return function(){var We=x;x=De;try{return Se.apply(this,arguments)}finally{x=We}}}})(qU);WU.exports=qU;var SJ=WU.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GU=V,Za=SJ;function ft(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HU=new Set,M0={};function wh(e,t){$m(e,t),$m(e+"Capture",t)}function $m(e,t){for(M0[e]=t,e=0;e<t.length;e++)HU.add(t[e])}var Xc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iO=Object.prototype.hasOwnProperty,EJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_z={},wz={};function CJ(e){return iO.call(wz,e)?!0:iO.call(_z,e)?!1:EJ.test(e)?wz[e]=!0:(_z[e]=!0,!1)}function TJ(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kJ(e,t,n,r){if(t===null||typeof t>"u"||TJ(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function da(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var _o={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_o[e]=new da(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_o[t]=new da(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_o[e]=new da(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_o[e]=new da(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_o[e]=new da(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_o[e]=new da(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_o[e]=new da(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_o[e]=new da(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_o[e]=new da(e,5,!1,e.toLowerCase(),null,!1,!1)});var hI=/[\-:]([a-z])/g;function pI(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hI,pI);_o[t]=new da(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hI,pI);_o[t]=new da(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hI,pI);_o[t]=new da(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_o[e]=new da(e,1,!1,e.toLowerCase(),null,!1,!1)});_o.xlinkHref=new da("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_o[e]=new da(e,1,!1,e.toLowerCase(),null,!0,!0)});function mI(e,t,n,r){var i=_o.hasOwnProperty(t)?_o[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(kJ(t,n,i,r)&&(n=null),r||i===null?CJ(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var uu=GU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A_=Symbol.for("react.element"),Up=Symbol.for("react.portal"),Vp=Symbol.for("react.fragment"),gI=Symbol.for("react.strict_mode"),oO=Symbol.for("react.profiler"),YU=Symbol.for("react.provider"),KU=Symbol.for("react.context"),yI=Symbol.for("react.forward_ref"),aO=Symbol.for("react.suspense"),sO=Symbol.for("react.suspense_list"),vI=Symbol.for("react.memo"),Zu=Symbol.for("react.lazy"),ZU=Symbol.for("react.offscreen"),Sz=Symbol.iterator;function ov(e){return e===null||typeof e!="object"?null:(e=Sz&&e[Sz]||e["@@iterator"],typeof e=="function"?e:null)}var ai=Object.assign,GT;function Wv(e){if(GT===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);GT=t&&t[1]||""}return`
`+GT+e}var HT=!1;function YT(e,t){if(!e||HT)return"";HT=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var f=`
`+i[s].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=s&&0<=a);break}}}finally{HT=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Wv(e):""}function PJ(e){switch(e.tag){case 5:return Wv(e.type);case 16:return Wv("Lazy");case 13:return Wv("Suspense");case 19:return Wv("SuspenseList");case 0:case 2:case 15:return e=YT(e.type,!1),e;case 11:return e=YT(e.type.render,!1),e;case 1:return e=YT(e.type,!0),e;default:return""}}function lO(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vp:return"Fragment";case Up:return"Portal";case oO:return"Profiler";case gI:return"StrictMode";case aO:return"Suspense";case sO:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case KU:return(e.displayName||"Context")+".Consumer";case YU:return(e._context.displayName||"Context")+".Provider";case yI:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vI:return t=e.displayName||null,t!==null?t:lO(e.type)||"Memo";case Zu:t=e._payload,e=e._init;try{return lO(e(t))}catch{}}return null}function OJ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lO(t);case 8:return t===gI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Td(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function XU(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function AJ(e){var t=XU(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function M_(e){e._valueTracker||(e._valueTracker=AJ(e))}function JU(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=XU(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function tw(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cO(e,t){var n=t.checked;return ai({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ez(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Td(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function QU(e,t){t=t.checked,t!=null&&mI(e,"checked",t,!1)}function uO(e,t){QU(e,t);var n=Td(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dO(e,t.type,n):t.hasOwnProperty("defaultValue")&&dO(e,t.type,Td(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cz(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function dO(e,t,n){(t!=="number"||tw(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var qv=Array.isArray;function hm(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Td(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function fO(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ft(91));return ai({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Tz(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ft(92));if(qv(n)){if(1<n.length)throw Error(ft(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Td(n)}}function e8(e,t){var n=Td(t.value),r=Td(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function kz(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function t8(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hO(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?t8(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var I_,n8=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(I_=I_||document.createElement("div"),I_.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=I_.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function I0(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var r0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MJ=["Webkit","ms","Moz","O"];Object.keys(r0).forEach(function(e){MJ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),r0[t]=r0[e]})});function r8(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||r0.hasOwnProperty(e)&&r0[e]?(""+t).trim():t+"px"}function i8(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=r8(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var IJ=ai({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pO(e,t){if(t){if(IJ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ft(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ft(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ft(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ft(62))}}function mO(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gO=null;function bI(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yO=null,pm=null,mm=null;function Pz(e){if(e=Jb(e)){if(typeof yO!="function")throw Error(ft(280));var t=e.stateNode;t&&(t=i2(t),yO(e.stateNode,e.type,t))}}function o8(e){pm?mm?mm.push(e):mm=[e]:pm=e}function a8(){if(pm){var e=pm,t=mm;if(mm=pm=null,Pz(e),t)for(e=0;e<t.length;e++)Pz(t[e])}}function s8(e,t){return e(t)}function l8(){}var KT=!1;function c8(e,t,n){if(KT)return e(t,n);KT=!0;try{return s8(e,t,n)}finally{KT=!1,(pm!==null||mm!==null)&&(l8(),a8())}}function $0(e,t){var n=e.stateNode;if(n===null)return null;var r=i2(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ft(231,t,typeof n));return n}var vO=!1;if(Xc)try{var av={};Object.defineProperty(av,"passive",{get:function(){vO=!0}}),window.addEventListener("test",av,av),window.removeEventListener("test",av,av)}catch{vO=!1}function $J(e,t,n,r,i,o,s,a,f){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(g){this.onError(g)}}var i0=!1,nw=null,rw=!1,bO=null,RJ={onError:function(e){i0=!0,nw=e}};function DJ(e,t,n,r,i,o,s,a,f){i0=!1,nw=null,$J.apply(RJ,arguments)}function LJ(e,t,n,r,i,o,s,a,f){if(DJ.apply(this,arguments),i0){if(i0){var h=nw;i0=!1,nw=null}else throw Error(ft(198));rw||(rw=!0,bO=h)}}function Sh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function u8(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Oz(e){if(Sh(e)!==e)throw Error(ft(188))}function NJ(e){var t=e.alternate;if(!t){if(t=Sh(e),t===null)throw Error(ft(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Oz(i),e;if(o===r)return Oz(i),t;o=o.sibling}throw Error(ft(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ft(189))}}if(n.alternate!==r)throw Error(ft(190))}if(n.tag!==3)throw Error(ft(188));return n.stateNode.current===n?e:t}function d8(e){return e=NJ(e),e!==null?f8(e):null}function f8(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=f8(e);if(t!==null)return t;e=e.sibling}return null}var h8=Za.unstable_scheduleCallback,Az=Za.unstable_cancelCallback,zJ=Za.unstable_shouldYield,jJ=Za.unstable_requestPaint,Si=Za.unstable_now,BJ=Za.unstable_getCurrentPriorityLevel,xI=Za.unstable_ImmediatePriority,p8=Za.unstable_UserBlockingPriority,iw=Za.unstable_NormalPriority,FJ=Za.unstable_LowPriority,m8=Za.unstable_IdlePriority,e2=null,Kl=null;function UJ(e){if(Kl&&typeof Kl.onCommitFiberRoot=="function")try{Kl.onCommitFiberRoot(e2,e,void 0,(e.current.flags&128)===128)}catch{}}var gl=Math.clz32?Math.clz32:qJ,VJ=Math.log,WJ=Math.LN2;function qJ(e){return e>>>=0,e===0?32:31-(VJ(e)/WJ|0)|0}var $_=64,R_=4194304;function Gv(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ow(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Gv(a):(o&=s,o!==0&&(r=Gv(o)))}else s=n&~i,s!==0?r=Gv(s):o!==0&&(r=Gv(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-gl(t),i=1<<n,r|=e[n],t&=~i;return r}function GJ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HJ(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-gl(o),a=1<<s,f=i[s];f===-1?(!(a&n)||a&r)&&(i[s]=GJ(a,t)):f<=t&&(e.expiredLanes|=a),o&=~a}}function xO(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function g8(){var e=$_;return $_<<=1,!($_&4194240)&&($_=64),e}function ZT(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zb(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gl(t),e[t]=n}function YJ(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-gl(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function _I(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gl(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var hr=0;function y8(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var v8,wI,b8,x8,_8,_O=!1,D_=[],ud=null,dd=null,fd=null,R0=new Map,D0=new Map,Qu=[],KJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mz(e,t){switch(e){case"focusin":case"focusout":ud=null;break;case"dragenter":case"dragleave":dd=null;break;case"mouseover":case"mouseout":fd=null;break;case"pointerover":case"pointerout":R0.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":D0.delete(t.pointerId)}}function sv(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Jb(t),t!==null&&wI(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ZJ(e,t,n,r,i){switch(t){case"focusin":return ud=sv(ud,e,t,n,r,i),!0;case"dragenter":return dd=sv(dd,e,t,n,r,i),!0;case"mouseover":return fd=sv(fd,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return R0.set(o,sv(R0.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,D0.set(o,sv(D0.get(o)||null,e,t,n,r,i)),!0}return!1}function w8(e){var t=Lf(e.target);if(t!==null){var n=Sh(t);if(n!==null){if(t=n.tag,t===13){if(t=u8(n),t!==null){e.blockedOn=t,_8(e.priority,function(){b8(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function O1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wO(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);gO=r,n.target.dispatchEvent(r),gO=null}else return t=Jb(n),t!==null&&wI(t),e.blockedOn=n,!1;t.shift()}return!0}function Iz(e,t,n){O1(e)&&n.delete(t)}function XJ(){_O=!1,ud!==null&&O1(ud)&&(ud=null),dd!==null&&O1(dd)&&(dd=null),fd!==null&&O1(fd)&&(fd=null),R0.forEach(Iz),D0.forEach(Iz)}function lv(e,t){e.blockedOn===t&&(e.blockedOn=null,_O||(_O=!0,Za.unstable_scheduleCallback(Za.unstable_NormalPriority,XJ)))}function L0(e){function t(i){return lv(i,e)}if(0<D_.length){lv(D_[0],e);for(var n=1;n<D_.length;n++){var r=D_[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ud!==null&&lv(ud,e),dd!==null&&lv(dd,e),fd!==null&&lv(fd,e),R0.forEach(t),D0.forEach(t),n=0;n<Qu.length;n++)r=Qu[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Qu.length&&(n=Qu[0],n.blockedOn===null);)w8(n),n.blockedOn===null&&Qu.shift()}var gm=uu.ReactCurrentBatchConfig,aw=!0;function JJ(e,t,n,r){var i=hr,o=gm.transition;gm.transition=null;try{hr=1,SI(e,t,n,r)}finally{hr=i,gm.transition=o}}function QJ(e,t,n,r){var i=hr,o=gm.transition;gm.transition=null;try{hr=4,SI(e,t,n,r)}finally{hr=i,gm.transition=o}}function SI(e,t,n,r){if(aw){var i=wO(e,t,n,r);if(i===null)ak(e,t,r,sw,n),Mz(e,r);else if(ZJ(i,e,t,n,r))r.stopPropagation();else if(Mz(e,r),t&4&&-1<KJ.indexOf(e)){for(;i!==null;){var o=Jb(i);if(o!==null&&v8(o),o=wO(e,t,n,r),o===null&&ak(e,t,r,sw,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ak(e,t,r,null,n)}}var sw=null;function wO(e,t,n,r){if(sw=null,e=bI(r),e=Lf(e),e!==null)if(t=Sh(e),t===null)e=null;else if(n=t.tag,n===13){if(e=u8(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sw=e,null}function S8(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BJ()){case xI:return 1;case p8:return 4;case iw:case FJ:return 16;case m8:return 536870912;default:return 16}default:return 16}}var nd=null,EI=null,A1=null;function E8(){if(A1)return A1;var e,t=EI,n=t.length,r,i="value"in nd?nd.value:nd.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return A1=i.slice(e,1<r?1-r:void 0)}function M1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function L_(){return!0}function $z(){return!1}function ts(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?L_:$z,this.isPropagationStopped=$z,this}return ai(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=L_)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=L_)},persist:function(){},isPersistent:L_}),t}var wg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},CI=ts(wg),Xb=ai({},wg,{view:0,detail:0}),eQ=ts(Xb),XT,JT,cv,t2=ai({},Xb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:TI,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cv&&(cv&&e.type==="mousemove"?(XT=e.screenX-cv.screenX,JT=e.screenY-cv.screenY):JT=XT=0,cv=e),XT)},movementY:function(e){return"movementY"in e?e.movementY:JT}}),Rz=ts(t2),tQ=ai({},t2,{dataTransfer:0}),nQ=ts(tQ),rQ=ai({},Xb,{relatedTarget:0}),QT=ts(rQ),iQ=ai({},wg,{animationName:0,elapsedTime:0,pseudoElement:0}),oQ=ts(iQ),aQ=ai({},wg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sQ=ts(aQ),lQ=ai({},wg,{data:0}),Dz=ts(lQ),cQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fQ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dQ[e])?!!t[e]:!1}function TI(){return fQ}var hQ=ai({},Xb,{key:function(e){if(e.key){var t=cQ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=M1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uQ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:TI,charCode:function(e){return e.type==="keypress"?M1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?M1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pQ=ts(hQ),mQ=ai({},t2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lz=ts(mQ),gQ=ai({},Xb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:TI}),yQ=ts(gQ),vQ=ai({},wg,{propertyName:0,elapsedTime:0,pseudoElement:0}),bQ=ts(vQ),xQ=ai({},t2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_Q=ts(xQ),wQ=[9,13,27,32],kI=Xc&&"CompositionEvent"in window,o0=null;Xc&&"documentMode"in document&&(o0=document.documentMode);var SQ=Xc&&"TextEvent"in window&&!o0,C8=Xc&&(!kI||o0&&8<o0&&11>=o0),Nz=String.fromCharCode(32),zz=!1;function T8(e,t){switch(e){case"keyup":return wQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k8(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wp=!1;function EQ(e,t){switch(e){case"compositionend":return k8(t);case"keypress":return t.which!==32?null:(zz=!0,Nz);case"textInput":return e=t.data,e===Nz&&zz?null:e;default:return null}}function CQ(e,t){if(Wp)return e==="compositionend"||!kI&&T8(e,t)?(e=E8(),A1=EI=nd=null,Wp=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return C8&&t.locale!=="ko"?null:t.data;default:return null}}var TQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jz(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!TQ[e.type]:t==="textarea"}function P8(e,t,n,r){o8(r),t=lw(t,"onChange"),0<t.length&&(n=new CI("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var a0=null,N0=null;function kQ(e){j8(e,0)}function n2(e){var t=Hp(e);if(JU(t))return e}function PQ(e,t){if(e==="change")return t}var O8=!1;if(Xc){var ek;if(Xc){var tk="oninput"in document;if(!tk){var Bz=document.createElement("div");Bz.setAttribute("oninput","return;"),tk=typeof Bz.oninput=="function"}ek=tk}else ek=!1;O8=ek&&(!document.documentMode||9<document.documentMode)}function Fz(){a0&&(a0.detachEvent("onpropertychange",A8),N0=a0=null)}function A8(e){if(e.propertyName==="value"&&n2(N0)){var t=[];P8(t,N0,e,bI(e)),c8(kQ,t)}}function OQ(e,t,n){e==="focusin"?(Fz(),a0=t,N0=n,a0.attachEvent("onpropertychange",A8)):e==="focusout"&&Fz()}function AQ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return n2(N0)}function MQ(e,t){if(e==="click")return n2(t)}function IQ(e,t){if(e==="input"||e==="change")return n2(t)}function $Q(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vl=typeof Object.is=="function"?Object.is:$Q;function z0(e,t){if(vl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!iO.call(t,i)||!vl(e[i],t[i]))return!1}return!0}function Uz(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vz(e,t){var n=Uz(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uz(n)}}function M8(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?M8(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function I8(){for(var e=window,t=tw();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=tw(e.document)}return t}function PI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function RQ(e){var t=I8(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&M8(n.ownerDocument.documentElement,n)){if(r!==null&&PI(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Vz(n,o);var s=Vz(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var DQ=Xc&&"documentMode"in document&&11>=document.documentMode,qp=null,SO=null,s0=null,EO=!1;function Wz(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;EO||qp==null||qp!==tw(r)||(r=qp,"selectionStart"in r&&PI(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),s0&&z0(s0,r)||(s0=r,r=lw(SO,"onSelect"),0<r.length&&(t=new CI("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=qp)))}function N_(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gp={animationend:N_("Animation","AnimationEnd"),animationiteration:N_("Animation","AnimationIteration"),animationstart:N_("Animation","AnimationStart"),transitionend:N_("Transition","TransitionEnd")},nk={},$8={};Xc&&($8=document.createElement("div").style,"AnimationEvent"in window||(delete Gp.animationend.animation,delete Gp.animationiteration.animation,delete Gp.animationstart.animation),"TransitionEvent"in window||delete Gp.transitionend.transition);function r2(e){if(nk[e])return nk[e];if(!Gp[e])return e;var t=Gp[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $8)return nk[e]=t[n];return e}var R8=r2("animationend"),D8=r2("animationiteration"),L8=r2("animationstart"),N8=r2("transitionend"),z8=new Map,qz="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nd(e,t){z8.set(e,t),wh(t,[e])}for(var rk=0;rk<qz.length;rk++){var ik=qz[rk],LQ=ik.toLowerCase(),NQ=ik[0].toUpperCase()+ik.slice(1);Nd(LQ,"on"+NQ)}Nd(R8,"onAnimationEnd");Nd(D8,"onAnimationIteration");Nd(L8,"onAnimationStart");Nd("dblclick","onDoubleClick");Nd("focusin","onFocus");Nd("focusout","onBlur");Nd(N8,"onTransitionEnd");$m("onMouseEnter",["mouseout","mouseover"]);$m("onMouseLeave",["mouseout","mouseover"]);$m("onPointerEnter",["pointerout","pointerover"]);$m("onPointerLeave",["pointerout","pointerover"]);wh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wh("onBeforeInput",["compositionend","keypress","textInput","paste"]);wh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hv));function Gz(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,LJ(r,t,void 0,e),e.currentTarget=null}function j8(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],f=a.instance,h=a.currentTarget;if(a=a.listener,f!==o&&i.isPropagationStopped())break e;Gz(i,a,h),o=f}else for(s=0;s<r.length;s++){if(a=r[s],f=a.instance,h=a.currentTarget,a=a.listener,f!==o&&i.isPropagationStopped())break e;Gz(i,a,h),o=f}}}if(rw)throw e=bO,rw=!1,bO=null,e}function Nr(e,t){var n=t[OO];n===void 0&&(n=t[OO]=new Set);var r=e+"__bubble";n.has(r)||(B8(t,e,2,!1),n.add(r))}function ok(e,t,n){var r=0;t&&(r|=4),B8(n,e,r,t)}var z_="_reactListening"+Math.random().toString(36).slice(2);function j0(e){if(!e[z_]){e[z_]=!0,HU.forEach(function(n){n!=="selectionchange"&&(zQ.has(n)||ok(n,!1,e),ok(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[z_]||(t[z_]=!0,ok("selectionchange",!1,t))}}function B8(e,t,n,r){switch(S8(t)){case 1:var i=JJ;break;case 4:i=QJ;break;default:i=SI}n=i.bind(null,t,n,e),i=void 0,!vO||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ak(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var f=s.tag;if((f===3||f===4)&&(f=s.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Lf(a),s===null)return;if(f=s.tag,f===5||f===6){r=o=s;continue e}a=a.parentNode}}r=r.return}c8(function(){var h=o,g=bI(n),v=[];e:{var x=z8.get(e);if(x!==void 0){var k=CI,O=e;switch(e){case"keypress":if(M1(n)===0)break e;case"keydown":case"keyup":k=pQ;break;case"focusin":O="focus",k=QT;break;case"focusout":O="blur",k=QT;break;case"beforeblur":case"afterblur":k=QT;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Rz;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=nQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=yQ;break;case R8:case D8:case L8:k=oQ;break;case N8:k=bQ;break;case"scroll":k=eQ;break;case"wheel":k=_Q;break;case"copy":case"cut":case"paste":k=sQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Lz}var C=(t&4)!==0,M=!C&&e==="scroll",I=C?x!==null?x+"Capture":null:x;C=[];for(var A=h,P;A!==null;){P=A;var $=P.stateNode;if(P.tag===5&&$!==null&&(P=$,I!==null&&($=$0(A,I),$!=null&&C.push(B0(A,$,P)))),M)break;A=A.return}0<C.length&&(x=new k(x,O,null,n,g),v.push({event:x,listeners:C}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",x&&n!==gO&&(O=n.relatedTarget||n.fromElement)&&(Lf(O)||O[Jc]))break e;if((k||x)&&(x=g.window===g?g:(x=g.ownerDocument)?x.defaultView||x.parentWindow:window,k?(O=n.relatedTarget||n.toElement,k=h,O=O?Lf(O):null,O!==null&&(M=Sh(O),O!==M||O.tag!==5&&O.tag!==6)&&(O=null)):(k=null,O=h),k!==O)){if(C=Rz,$="onMouseLeave",I="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(C=Lz,$="onPointerLeave",I="onPointerEnter",A="pointer"),M=k==null?x:Hp(k),P=O==null?x:Hp(O),x=new C($,A+"leave",k,n,g),x.target=M,x.relatedTarget=P,$=null,Lf(g)===h&&(C=new C(I,A+"enter",O,n,g),C.target=P,C.relatedTarget=M,$=C),M=$,k&&O)t:{for(C=k,I=O,A=0,P=C;P;P=xp(P))A++;for(P=0,$=I;$;$=xp($))P++;for(;0<A-P;)C=xp(C),A--;for(;0<P-A;)I=xp(I),P--;for(;A--;){if(C===I||I!==null&&C===I.alternate)break t;C=xp(C),I=xp(I)}C=null}else C=null;k!==null&&Hz(v,x,k,C,!1),O!==null&&M!==null&&Hz(v,M,O,C,!0)}}e:{if(x=h?Hp(h):window,k=x.nodeName&&x.nodeName.toLowerCase(),k==="select"||k==="input"&&x.type==="file")var z=PQ;else if(jz(x))if(O8)z=IQ;else{z=AQ;var N=OQ}else(k=x.nodeName)&&k.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(z=MQ);if(z&&(z=z(e,h))){P8(v,z,n,g);break e}N&&N(e,x,h),e==="focusout"&&(N=x._wrapperState)&&N.controlled&&x.type==="number"&&dO(x,"number",x.value)}switch(N=h?Hp(h):window,e){case"focusin":(jz(N)||N.contentEditable==="true")&&(qp=N,SO=h,s0=null);break;case"focusout":s0=SO=qp=null;break;case"mousedown":EO=!0;break;case"contextmenu":case"mouseup":case"dragend":EO=!1,Wz(v,n,g);break;case"selectionchange":if(DQ)break;case"keydown":case"keyup":Wz(v,n,g)}var F;if(kI)e:{switch(e){case"compositionstart":var G="onCompositionStart";break e;case"compositionend":G="onCompositionEnd";break e;case"compositionupdate":G="onCompositionUpdate";break e}G=void 0}else Wp?T8(e,n)&&(G="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(G="onCompositionStart");G&&(C8&&n.locale!=="ko"&&(Wp||G!=="onCompositionStart"?G==="onCompositionEnd"&&Wp&&(F=E8()):(nd=g,EI="value"in nd?nd.value:nd.textContent,Wp=!0)),N=lw(h,G),0<N.length&&(G=new Dz(G,e,null,n,g),v.push({event:G,listeners:N}),F?G.data=F:(F=k8(n),F!==null&&(G.data=F)))),(F=SQ?EQ(e,n):CQ(e,n))&&(h=lw(h,"onBeforeInput"),0<h.length&&(g=new Dz("onBeforeInput","beforeinput",null,n,g),v.push({event:g,listeners:h}),g.data=F))}j8(v,t)})}function B0(e,t,n){return{instance:e,listener:t,currentTarget:n}}function lw(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=$0(e,n),o!=null&&r.unshift(B0(e,o,i)),o=$0(e,t),o!=null&&r.push(B0(e,o,i))),e=e.return}return r}function xp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hz(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,f=a.alternate,h=a.stateNode;if(f!==null&&f===r)break;a.tag===5&&h!==null&&(a=h,i?(f=$0(n,o),f!=null&&s.unshift(B0(n,f,a))):i||(f=$0(n,o),f!=null&&s.push(B0(n,f,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var jQ=/\r\n?/g,BQ=/\u0000|\uFFFD/g;function Yz(e){return(typeof e=="string"?e:""+e).replace(jQ,`
`).replace(BQ,"")}function j_(e,t,n){if(t=Yz(t),Yz(e)!==t&&n)throw Error(ft(425))}function cw(){}var CO=null,TO=null;function kO(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var PO=typeof setTimeout=="function"?setTimeout:void 0,FQ=typeof clearTimeout=="function"?clearTimeout:void 0,Kz=typeof Promise=="function"?Promise:void 0,UQ=typeof queueMicrotask=="function"?queueMicrotask:typeof Kz<"u"?function(e){return Kz.resolve(null).then(e).catch(VQ)}:PO;function VQ(e){setTimeout(function(){throw e})}function sk(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),L0(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);L0(t)}function hd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zz(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Sg=Math.random().toString(36).slice(2),Wl="__reactFiber$"+Sg,F0="__reactProps$"+Sg,Jc="__reactContainer$"+Sg,OO="__reactEvents$"+Sg,WQ="__reactListeners$"+Sg,qQ="__reactHandles$"+Sg;function Lf(e){var t=e[Wl];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jc]||n[Wl]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Zz(e);e!==null;){if(n=e[Wl])return n;e=Zz(e)}return t}e=n,n=e.parentNode}return null}function Jb(e){return e=e[Wl]||e[Jc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ft(33))}function i2(e){return e[F0]||null}var AO=[],Yp=-1;function zd(e){return{current:e}}function Br(e){0>Yp||(e.current=AO[Yp],AO[Yp]=null,Yp--)}function $r(e,t){Yp++,AO[Yp]=e.current,e.current=t}var kd={},Bo=zd(kd),Sa=zd(!1),ih=kd;function Rm(e,t){var n=e.type.contextTypes;if(!n)return kd;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ea(e){return e=e.childContextTypes,e!=null}function uw(){Br(Sa),Br(Bo)}function Xz(e,t,n){if(Bo.current!==kd)throw Error(ft(168));$r(Bo,t),$r(Sa,n)}function F8(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ft(108,OJ(e)||"Unknown",i));return ai({},n,r)}function dw(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kd,ih=Bo.current,$r(Bo,e),$r(Sa,Sa.current),!0}function Jz(e,t,n){var r=e.stateNode;if(!r)throw Error(ft(169));n?(e=F8(e,t,ih),r.__reactInternalMemoizedMergedChildContext=e,Br(Sa),Br(Bo),$r(Bo,e)):Br(Sa),$r(Sa,n)}var $c=null,o2=!1,lk=!1;function U8(e){$c===null?$c=[e]:$c.push(e)}function GQ(e){o2=!0,U8(e)}function jd(){if(!lk&&$c!==null){lk=!0;var e=0,t=hr;try{var n=$c;for(hr=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}$c=null,o2=!1}catch(i){throw $c!==null&&($c=$c.slice(e+1)),h8(xI,jd),i}finally{hr=t,lk=!1}}return null}var Kp=[],Zp=0,fw=null,hw=0,xs=[],_s=0,oh=null,Nc=1,zc="";function Ef(e,t){Kp[Zp++]=hw,Kp[Zp++]=fw,fw=e,hw=t}function V8(e,t,n){xs[_s++]=Nc,xs[_s++]=zc,xs[_s++]=oh,oh=e;var r=Nc;e=zc;var i=32-gl(r)-1;r&=~(1<<i),n+=1;var o=32-gl(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Nc=1<<32-gl(t)+i|n<<i|r,zc=o+e}else Nc=1<<o|n<<i|r,zc=e}function OI(e){e.return!==null&&(Ef(e,1),V8(e,1,0))}function AI(e){for(;e===fw;)fw=Kp[--Zp],Kp[Zp]=null,hw=Kp[--Zp],Kp[Zp]=null;for(;e===oh;)oh=xs[--_s],xs[_s]=null,zc=xs[--_s],xs[_s]=null,Nc=xs[--_s],xs[_s]=null}var Ha=null,Ga=null,Yr=!1,al=null;function W8(e,t){var n=Es(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Qz(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ha=e,Ga=hd(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ha=e,Ga=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=oh!==null?{id:Nc,overflow:zc}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Es(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ha=e,Ga=null,!0):!1;default:return!1}}function MO(e){return(e.mode&1)!==0&&(e.flags&128)===0}function IO(e){if(Yr){var t=Ga;if(t){var n=t;if(!Qz(e,t)){if(MO(e))throw Error(ft(418));t=hd(n.nextSibling);var r=Ha;t&&Qz(e,t)?W8(r,n):(e.flags=e.flags&-4097|2,Yr=!1,Ha=e)}}else{if(MO(e))throw Error(ft(418));e.flags=e.flags&-4097|2,Yr=!1,Ha=e}}}function ej(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ha=e}function B_(e){if(e!==Ha)return!1;if(!Yr)return ej(e),Yr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!kO(e.type,e.memoizedProps)),t&&(t=Ga)){if(MO(e))throw q8(),Error(ft(418));for(;t;)W8(e,t),t=hd(t.nextSibling)}if(ej(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ft(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ga=hd(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ga=null}}else Ga=Ha?hd(e.stateNode.nextSibling):null;return!0}function q8(){for(var e=Ga;e;)e=hd(e.nextSibling)}function Dm(){Ga=Ha=null,Yr=!1}function MI(e){al===null?al=[e]:al.push(e)}var HQ=uu.ReactCurrentBatchConfig;function rl(e,t){if(e&&e.defaultProps){t=ai({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var pw=zd(null),mw=null,Xp=null,II=null;function $I(){II=Xp=mw=null}function RI(e){var t=pw.current;Br(pw),e._currentValue=t}function $O(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ym(e,t){mw=e,II=Xp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_a=!0),e.firstContext=null)}function Is(e){var t=e._currentValue;if(II!==e)if(e={context:e,memoizedValue:t,next:null},Xp===null){if(mw===null)throw Error(ft(308));Xp=e,mw.dependencies={lanes:0,firstContext:e}}else Xp=Xp.next=e;return t}var Nf=null;function DI(e){Nf===null?Nf=[e]:Nf.push(e)}function G8(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,DI(t)):(n.next=i.next,i.next=n),t.interleaved=n,Qc(e,r)}function Qc(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Xu=!1;function LI(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function H8(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pd(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Kn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Qc(e,n)}return i=r.interleaved,i===null?(t.next=t,DI(r)):(t.next=i.next,i.next=t),r.interleaved=t,Qc(e,n)}function I1(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_I(e,n)}}function tj(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function gw(e,t,n,r){var i=e.updateQueue;Xu=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var f=a,h=f.next;f.next=null,s===null?o=h:s.next=h,s=f;var g=e.alternate;g!==null&&(g=g.updateQueue,a=g.lastBaseUpdate,a!==s&&(a===null?g.firstBaseUpdate=h:a.next=h,g.lastBaseUpdate=f))}if(o!==null){var v=i.baseState;s=0,g=h=f=null,a=o;do{var x=a.lane,k=a.eventTime;if((r&x)===x){g!==null&&(g=g.next={eventTime:k,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var O=e,C=a;switch(x=t,k=n,C.tag){case 1:if(O=C.payload,typeof O=="function"){v=O.call(k,v,x);break e}v=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=C.payload,x=typeof O=="function"?O.call(k,v,x):O,x==null)break e;v=ai({},v,x);break e;case 2:Xu=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,x=i.effects,x===null?i.effects=[a]:x.push(a))}else k={eventTime:k,lane:x,tag:a.tag,payload:a.payload,callback:a.callback,next:null},g===null?(h=g=k,f=v):g=g.next=k,s|=x;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;x=a,a=x.next,x.next=null,i.lastBaseUpdate=x,i.shared.pending=null}}while(1);if(g===null&&(f=v),i.baseState=f,i.firstBaseUpdate=h,i.lastBaseUpdate=g,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);sh|=s,e.lanes=s,e.memoizedState=v}}function nj(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ft(191,i));i.call(r)}}}var Y8=new GU.Component().refs;function RO(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ai({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var a2={isMounted:function(e){return(e=e._reactInternals)?Sh(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ca(),i=gd(e),o=Gc(r,i);o.payload=t,n!=null&&(o.callback=n),t=pd(e,o,i),t!==null&&(yl(t,e,i,r),I1(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ca(),i=gd(e),o=Gc(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=pd(e,o,i),t!==null&&(yl(t,e,i,r),I1(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ca(),r=gd(e),i=Gc(n,r);i.tag=2,t!=null&&(i.callback=t),t=pd(e,i,r),t!==null&&(yl(t,e,r,n),I1(t,e,r))}};function rj(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!z0(n,r)||!z0(i,o):!0}function K8(e,t,n){var r=!1,i=kd,o=t.contextType;return typeof o=="object"&&o!==null?o=Is(o):(i=Ea(t)?ih:Bo.current,r=t.contextTypes,o=(r=r!=null)?Rm(e,i):kd),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=a2,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ij(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&a2.enqueueReplaceState(t,t.state,null)}function DO(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Y8,LI(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Is(o):(o=Ea(t)?ih:Bo.current,i.context=Rm(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(RO(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&a2.enqueueReplaceState(i,i.state,null),gw(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function uv(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ft(309));var r=n.stateNode}if(!r)throw Error(ft(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===Y8&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(ft(284));if(!n._owner)throw Error(ft(290,e))}return e}function F_(e,t){throw e=Object.prototype.toString.call(t),Error(ft(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function oj(e){var t=e._init;return t(e._payload)}function Z8(e){function t(I,A){if(e){var P=I.deletions;P===null?(I.deletions=[A],I.flags|=16):P.push(A)}}function n(I,A){if(!e)return null;for(;A!==null;)t(I,A),A=A.sibling;return null}function r(I,A){for(I=new Map;A!==null;)A.key!==null?I.set(A.key,A):I.set(A.index,A),A=A.sibling;return I}function i(I,A){return I=yd(I,A),I.index=0,I.sibling=null,I}function o(I,A,P){return I.index=P,e?(P=I.alternate,P!==null?(P=P.index,P<A?(I.flags|=2,A):P):(I.flags|=2,A)):(I.flags|=1048576,A)}function s(I){return e&&I.alternate===null&&(I.flags|=2),I}function a(I,A,P,$){return A===null||A.tag!==6?(A=mk(P,I.mode,$),A.return=I,A):(A=i(A,P),A.return=I,A)}function f(I,A,P,$){var z=P.type;return z===Vp?g(I,A,P.props.children,$,P.key):A!==null&&(A.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Zu&&oj(z)===A.type)?($=i(A,P.props),$.ref=uv(I,A,P),$.return=I,$):($=z1(P.type,P.key,P.props,null,I.mode,$),$.ref=uv(I,A,P),$.return=I,$)}function h(I,A,P,$){return A===null||A.tag!==4||A.stateNode.containerInfo!==P.containerInfo||A.stateNode.implementation!==P.implementation?(A=gk(P,I.mode,$),A.return=I,A):(A=i(A,P.children||[]),A.return=I,A)}function g(I,A,P,$,z){return A===null||A.tag!==7?(A=Yf(P,I.mode,$,z),A.return=I,A):(A=i(A,P),A.return=I,A)}function v(I,A,P){if(typeof A=="string"&&A!==""||typeof A=="number")return A=mk(""+A,I.mode,P),A.return=I,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case A_:return P=z1(A.type,A.key,A.props,null,I.mode,P),P.ref=uv(I,null,A),P.return=I,P;case Up:return A=gk(A,I.mode,P),A.return=I,A;case Zu:var $=A._init;return v(I,$(A._payload),P)}if(qv(A)||ov(A))return A=Yf(A,I.mode,P,null),A.return=I,A;F_(I,A)}return null}function x(I,A,P,$){var z=A!==null?A.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return z!==null?null:a(I,A,""+P,$);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case A_:return P.key===z?f(I,A,P,$):null;case Up:return P.key===z?h(I,A,P,$):null;case Zu:return z=P._init,x(I,A,z(P._payload),$)}if(qv(P)||ov(P))return z!==null?null:g(I,A,P,$,null);F_(I,P)}return null}function k(I,A,P,$,z){if(typeof $=="string"&&$!==""||typeof $=="number")return I=I.get(P)||null,a(A,I,""+$,z);if(typeof $=="object"&&$!==null){switch($.$$typeof){case A_:return I=I.get($.key===null?P:$.key)||null,f(A,I,$,z);case Up:return I=I.get($.key===null?P:$.key)||null,h(A,I,$,z);case Zu:var N=$._init;return k(I,A,P,N($._payload),z)}if(qv($)||ov($))return I=I.get(P)||null,g(A,I,$,z,null);F_(A,$)}return null}function O(I,A,P,$){for(var z=null,N=null,F=A,G=A=0,J=null;F!==null&&G<P.length;G++){F.index>G?(J=F,F=null):J=F.sibling;var ee=x(I,F,P[G],$);if(ee===null){F===null&&(F=J);break}e&&F&&ee.alternate===null&&t(I,F),A=o(ee,A,G),N===null?z=ee:N.sibling=ee,N=ee,F=J}if(G===P.length)return n(I,F),Yr&&Ef(I,G),z;if(F===null){for(;G<P.length;G++)F=v(I,P[G],$),F!==null&&(A=o(F,A,G),N===null?z=F:N.sibling=F,N=F);return Yr&&Ef(I,G),z}for(F=r(I,F);G<P.length;G++)J=k(F,I,G,P[G],$),J!==null&&(e&&J.alternate!==null&&F.delete(J.key===null?G:J.key),A=o(J,A,G),N===null?z=J:N.sibling=J,N=J);return e&&F.forEach(function(ae){return t(I,ae)}),Yr&&Ef(I,G),z}function C(I,A,P,$){var z=ov(P);if(typeof z!="function")throw Error(ft(150));if(P=z.call(P),P==null)throw Error(ft(151));for(var N=z=null,F=A,G=A=0,J=null,ee=P.next();F!==null&&!ee.done;G++,ee=P.next()){F.index>G?(J=F,F=null):J=F.sibling;var ae=x(I,F,ee.value,$);if(ae===null){F===null&&(F=J);break}e&&F&&ae.alternate===null&&t(I,F),A=o(ae,A,G),N===null?z=ae:N.sibling=ae,N=ae,F=J}if(ee.done)return n(I,F),Yr&&Ef(I,G),z;if(F===null){for(;!ee.done;G++,ee=P.next())ee=v(I,ee.value,$),ee!==null&&(A=o(ee,A,G),N===null?z=ee:N.sibling=ee,N=ee);return Yr&&Ef(I,G),z}for(F=r(I,F);!ee.done;G++,ee=P.next())ee=k(F,I,G,ee.value,$),ee!==null&&(e&&ee.alternate!==null&&F.delete(ee.key===null?G:ee.key),A=o(ee,A,G),N===null?z=ee:N.sibling=ee,N=ee);return e&&F.forEach(function(pe){return t(I,pe)}),Yr&&Ef(I,G),z}function M(I,A,P,$){if(typeof P=="object"&&P!==null&&P.type===Vp&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case A_:e:{for(var z=P.key,N=A;N!==null;){if(N.key===z){if(z=P.type,z===Vp){if(N.tag===7){n(I,N.sibling),A=i(N,P.props.children),A.return=I,I=A;break e}}else if(N.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Zu&&oj(z)===N.type){n(I,N.sibling),A=i(N,P.props),A.ref=uv(I,N,P),A.return=I,I=A;break e}n(I,N);break}else t(I,N);N=N.sibling}P.type===Vp?(A=Yf(P.props.children,I.mode,$,P.key),A.return=I,I=A):($=z1(P.type,P.key,P.props,null,I.mode,$),$.ref=uv(I,A,P),$.return=I,I=$)}return s(I);case Up:e:{for(N=P.key;A!==null;){if(A.key===N)if(A.tag===4&&A.stateNode.containerInfo===P.containerInfo&&A.stateNode.implementation===P.implementation){n(I,A.sibling),A=i(A,P.children||[]),A.return=I,I=A;break e}else{n(I,A);break}else t(I,A);A=A.sibling}A=gk(P,I.mode,$),A.return=I,I=A}return s(I);case Zu:return N=P._init,M(I,A,N(P._payload),$)}if(qv(P))return O(I,A,P,$);if(ov(P))return C(I,A,P,$);F_(I,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,A!==null&&A.tag===6?(n(I,A.sibling),A=i(A,P),A.return=I,I=A):(n(I,A),A=mk(P,I.mode,$),A.return=I,I=A),s(I)):n(I,A)}return M}var Lm=Z8(!0),X8=Z8(!1),Qb={},Zl=zd(Qb),U0=zd(Qb),V0=zd(Qb);function zf(e){if(e===Qb)throw Error(ft(174));return e}function NI(e,t){switch($r(V0,t),$r(U0,e),$r(Zl,Qb),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hO(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hO(t,e)}Br(Zl),$r(Zl,t)}function Nm(){Br(Zl),Br(U0),Br(V0)}function J8(e){zf(V0.current);var t=zf(Zl.current),n=hO(t,e.type);t!==n&&($r(U0,e),$r(Zl,n))}function zI(e){U0.current===e&&(Br(Zl),Br(U0))}var ri=zd(0);function yw(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ck=[];function jI(){for(var e=0;e<ck.length;e++)ck[e]._workInProgressVersionPrimary=null;ck.length=0}var $1=uu.ReactCurrentDispatcher,uk=uu.ReactCurrentBatchConfig,ah=0,oi=null,zi=null,Ji=null,vw=!1,l0=!1,W0=0,YQ=0;function Oo(){throw Error(ft(321))}function BI(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vl(e[n],t[n]))return!1;return!0}function FI(e,t,n,r,i,o){if(ah=o,oi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$1.current=e===null||e.memoizedState===null?JQ:QQ,e=n(r,i),l0){o=0;do{if(l0=!1,W0=0,25<=o)throw Error(ft(301));o+=1,Ji=zi=null,t.updateQueue=null,$1.current=eee,e=n(r,i)}while(l0)}if($1.current=bw,t=zi!==null&&zi.next!==null,ah=0,Ji=zi=oi=null,vw=!1,t)throw Error(ft(300));return e}function UI(){var e=W0!==0;return W0=0,e}function jl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ji===null?oi.memoizedState=Ji=e:Ji=Ji.next=e,Ji}function $s(){if(zi===null){var e=oi.alternate;e=e!==null?e.memoizedState:null}else e=zi.next;var t=Ji===null?oi.memoizedState:Ji.next;if(t!==null)Ji=t,zi=e;else{if(e===null)throw Error(ft(310));zi=e,e={memoizedState:zi.memoizedState,baseState:zi.baseState,baseQueue:zi.baseQueue,queue:zi.queue,next:null},Ji===null?oi.memoizedState=Ji=e:Ji=Ji.next=e}return Ji}function q0(e,t){return typeof t=="function"?t(e):t}function dk(e){var t=$s(),n=t.queue;if(n===null)throw Error(ft(311));n.lastRenderedReducer=e;var r=zi,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,f=null,h=o;do{var g=h.lane;if((ah&g)===g)f!==null&&(f=f.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var v={lane:g,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};f===null?(a=f=v,s=r):f=f.next=v,oi.lanes|=g,sh|=g}h=h.next}while(h!==null&&h!==o);f===null?s=r:f.next=a,vl(r,t.memoizedState)||(_a=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=f,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,oi.lanes|=o,sh|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fk(e){var t=$s(),n=t.queue;if(n===null)throw Error(ft(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);vl(o,t.memoizedState)||(_a=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Q8(){}function eV(e,t){var n=oi,r=$s(),i=t(),o=!vl(r.memoizedState,i);if(o&&(r.memoizedState=i,_a=!0),r=r.queue,VI(rV.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ji!==null&&Ji.memoizedState.tag&1){if(n.flags|=2048,G0(9,nV.bind(null,n,r,i,t),void 0,null),Qi===null)throw Error(ft(349));ah&30||tV(n,t,i)}return i}function tV(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=oi.updateQueue,t===null?(t={lastEffect:null,stores:null},oi.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function nV(e,t,n,r){t.value=n,t.getSnapshot=r,iV(t)&&oV(e)}function rV(e,t,n){return n(function(){iV(t)&&oV(e)})}function iV(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vl(e,n)}catch{return!0}}function oV(e){var t=Qc(e,1);t!==null&&yl(t,e,1,-1)}function aj(e){var t=jl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:q0,lastRenderedState:e},t.queue=e,e=e.dispatch=XQ.bind(null,oi,e),[t.memoizedState,e]}function G0(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=oi.updateQueue,t===null?(t={lastEffect:null,stores:null},oi.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function aV(){return $s().memoizedState}function R1(e,t,n,r){var i=jl();oi.flags|=e,i.memoizedState=G0(1|t,n,void 0,r===void 0?null:r)}function s2(e,t,n,r){var i=$s();r=r===void 0?null:r;var o=void 0;if(zi!==null){var s=zi.memoizedState;if(o=s.destroy,r!==null&&BI(r,s.deps)){i.memoizedState=G0(t,n,o,r);return}}oi.flags|=e,i.memoizedState=G0(1|t,n,o,r)}function sj(e,t){return R1(8390656,8,e,t)}function VI(e,t){return s2(2048,8,e,t)}function sV(e,t){return s2(4,2,e,t)}function lV(e,t){return s2(4,4,e,t)}function cV(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uV(e,t,n){return n=n!=null?n.concat([e]):null,s2(4,4,cV.bind(null,t,e),n)}function WI(){}function dV(e,t){var n=$s();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&BI(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fV(e,t){var n=$s();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&BI(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function hV(e,t,n){return ah&21?(vl(n,t)||(n=g8(),oi.lanes|=n,sh|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_a=!0),e.memoizedState=n)}function KQ(e,t){var n=hr;hr=n!==0&&4>n?n:4,e(!0);var r=uk.transition;uk.transition={};try{e(!1),t()}finally{hr=n,uk.transition=r}}function pV(){return $s().memoizedState}function ZQ(e,t,n){var r=gd(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mV(e))gV(t,n);else if(n=G8(e,t,n,r),n!==null){var i=ca();yl(n,e,r,i),yV(n,t,r)}}function XQ(e,t,n){var r=gd(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mV(e))gV(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,vl(a,s)){var f=t.interleaved;f===null?(i.next=i,DI(t)):(i.next=f.next,f.next=i),t.interleaved=i;return}}catch{}finally{}n=G8(e,t,i,r),n!==null&&(i=ca(),yl(n,e,r,i),yV(n,t,r))}}function mV(e){var t=e.alternate;return e===oi||t!==null&&t===oi}function gV(e,t){l0=vw=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function yV(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_I(e,n)}}var bw={readContext:Is,useCallback:Oo,useContext:Oo,useEffect:Oo,useImperativeHandle:Oo,useInsertionEffect:Oo,useLayoutEffect:Oo,useMemo:Oo,useReducer:Oo,useRef:Oo,useState:Oo,useDebugValue:Oo,useDeferredValue:Oo,useTransition:Oo,useMutableSource:Oo,useSyncExternalStore:Oo,useId:Oo,unstable_isNewReconciler:!1},JQ={readContext:Is,useCallback:function(e,t){return jl().memoizedState=[e,t===void 0?null:t],e},useContext:Is,useEffect:sj,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,R1(4194308,4,cV.bind(null,t,e),n)},useLayoutEffect:function(e,t){return R1(4194308,4,e,t)},useInsertionEffect:function(e,t){return R1(4,2,e,t)},useMemo:function(e,t){var n=jl();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=jl();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ZQ.bind(null,oi,e),[r.memoizedState,e]},useRef:function(e){var t=jl();return e={current:e},t.memoizedState=e},useState:aj,useDebugValue:WI,useDeferredValue:function(e){return jl().memoizedState=e},useTransition:function(){var e=aj(!1),t=e[0];return e=KQ.bind(null,e[1]),jl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oi,i=jl();if(Yr){if(n===void 0)throw Error(ft(407));n=n()}else{if(n=t(),Qi===null)throw Error(ft(349));ah&30||tV(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,sj(rV.bind(null,r,o,e),[e]),r.flags|=2048,G0(9,nV.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=jl(),t=Qi.identifierPrefix;if(Yr){var n=zc,r=Nc;n=(r&~(1<<32-gl(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=W0++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=YQ++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},QQ={readContext:Is,useCallback:dV,useContext:Is,useEffect:VI,useImperativeHandle:uV,useInsertionEffect:sV,useLayoutEffect:lV,useMemo:fV,useReducer:dk,useRef:aV,useState:function(){return dk(q0)},useDebugValue:WI,useDeferredValue:function(e){var t=$s();return hV(t,zi.memoizedState,e)},useTransition:function(){var e=dk(q0)[0],t=$s().memoizedState;return[e,t]},useMutableSource:Q8,useSyncExternalStore:eV,useId:pV,unstable_isNewReconciler:!1},eee={readContext:Is,useCallback:dV,useContext:Is,useEffect:VI,useImperativeHandle:uV,useInsertionEffect:sV,useLayoutEffect:lV,useMemo:fV,useReducer:fk,useRef:aV,useState:function(){return fk(q0)},useDebugValue:WI,useDeferredValue:function(e){var t=$s();return zi===null?t.memoizedState=e:hV(t,zi.memoizedState,e)},useTransition:function(){var e=fk(q0)[0],t=$s().memoizedState;return[e,t]},useMutableSource:Q8,useSyncExternalStore:eV,useId:pV,unstable_isNewReconciler:!1};function zm(e,t){try{var n="",r=t;do n+=PJ(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function hk(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function LO(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var tee=typeof WeakMap=="function"?WeakMap:Map;function vV(e,t,n){n=Gc(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_w||(_w=!0,GO=r),LO(e,t)},n}function bV(e,t,n){n=Gc(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){LO(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){LO(e,t),typeof r!="function"&&(md===null?md=new Set([this]):md.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function lj(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new tee;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=mee.bind(null,e,t,n),t.then(e,e))}function cj(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uj(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Gc(-1,1),t.tag=2,pd(n,t,1))),n.lanes|=1),e)}var nee=uu.ReactCurrentOwner,_a=!1;function aa(e,t,n,r){t.child=e===null?X8(t,null,n,r):Lm(t,e.child,n,r)}function dj(e,t,n,r,i){n=n.render;var o=t.ref;return ym(t,i),r=FI(e,t,n,r,o,i),n=UI(),e!==null&&!_a?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,eu(e,t,i)):(Yr&&n&&OI(t),t.flags|=1,aa(e,t,r,i),t.child)}function fj(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!JI(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,xV(e,t,o,r,i)):(e=z1(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:z0,n(s,r)&&e.ref===t.ref)return eu(e,t,i)}return t.flags|=1,e=yd(o,r),e.ref=t.ref,e.return=t,t.child=e}function xV(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(z0(o,r)&&e.ref===t.ref)if(_a=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(_a=!0);else return t.lanes=e.lanes,eu(e,t,i)}return NO(e,t,n,r,i)}function _V(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$r(Qp,Fa),Fa|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$r(Qp,Fa),Fa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,$r(Qp,Fa),Fa|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,$r(Qp,Fa),Fa|=r;return aa(e,t,i,n),t.child}function wV(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function NO(e,t,n,r,i){var o=Ea(n)?ih:Bo.current;return o=Rm(t,o),ym(t,i),n=FI(e,t,n,r,o,i),r=UI(),e!==null&&!_a?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,eu(e,t,i)):(Yr&&r&&OI(t),t.flags|=1,aa(e,t,n,i),t.child)}function hj(e,t,n,r,i){if(Ea(n)){var o=!0;dw(t)}else o=!1;if(ym(t,i),t.stateNode===null)D1(e,t),K8(t,n,r),DO(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var f=s.context,h=n.contextType;typeof h=="object"&&h!==null?h=Is(h):(h=Ea(n)?ih:Bo.current,h=Rm(t,h));var g=n.getDerivedStateFromProps,v=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function";v||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||f!==h)&&ij(t,s,r,h),Xu=!1;var x=t.memoizedState;s.state=x,gw(t,r,s,i),f=t.memoizedState,a!==r||x!==f||Sa.current||Xu?(typeof g=="function"&&(RO(t,n,g,r),f=t.memoizedState),(a=Xu||rj(t,n,a,r,x,f,h))?(v||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=h,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,H8(e,t),a=t.memoizedProps,h=t.type===t.elementType?a:rl(t.type,a),s.props=h,v=t.pendingProps,x=s.context,f=n.contextType,typeof f=="object"&&f!==null?f=Is(f):(f=Ea(n)?ih:Bo.current,f=Rm(t,f));var k=n.getDerivedStateFromProps;(g=typeof k=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==v||x!==f)&&ij(t,s,r,f),Xu=!1,x=t.memoizedState,s.state=x,gw(t,r,s,i);var O=t.memoizedState;a!==v||x!==O||Sa.current||Xu?(typeof k=="function"&&(RO(t,n,k,r),O=t.memoizedState),(h=Xu||rj(t,n,h,r,x,O,f)||!1)?(g||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,O,f),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,O,f)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=O),s.props=r,s.state=O,s.context=f,r=h):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),r=!1)}return zO(e,t,n,r,o,i)}function zO(e,t,n,r,i,o){wV(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Jz(t,n,!1),eu(e,t,o);r=t.stateNode,nee.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Lm(t,e.child,null,o),t.child=Lm(t,null,a,o)):aa(e,t,a,o),t.memoizedState=r.state,i&&Jz(t,n,!0),t.child}function SV(e){var t=e.stateNode;t.pendingContext?Xz(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xz(e,t.context,!1),NI(e,t.containerInfo)}function pj(e,t,n,r,i){return Dm(),MI(i),t.flags|=256,aa(e,t,n,r),t.child}var jO={dehydrated:null,treeContext:null,retryLane:0};function BO(e){return{baseLanes:e,cachePool:null,transitions:null}}function EV(e,t,n){var r=t.pendingProps,i=ri.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),$r(ri,i&1),e===null)return IO(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=u2(s,r,0,null),e=Yf(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=BO(n),t.memoizedState=jO,e):qI(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ree(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var f={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=f,t.deletions=null):(r=yd(i,f),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=yd(a,o):(o=Yf(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?BO(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=jO,r}return o=e.child,e=o.sibling,r=yd(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function qI(e,t){return t=u2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function U_(e,t,n,r){return r!==null&&MI(r),Lm(t,e.child,null,n),e=qI(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ree(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=hk(Error(ft(422))),U_(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=u2({mode:"visible",children:r.children},i,0,null),o=Yf(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Lm(t,e.child,null,s),t.child.memoizedState=BO(s),t.memoizedState=jO,o);if(!(t.mode&1))return U_(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ft(419)),r=hk(o,r,void 0),U_(e,t,s,r)}if(a=(s&e.childLanes)!==0,_a||a){if(r=Qi,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Qc(e,i),yl(r,e,i,-1))}return XI(),r=hk(Error(ft(421))),U_(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=gee.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Ga=hd(i.nextSibling),Ha=t,Yr=!0,al=null,e!==null&&(xs[_s++]=Nc,xs[_s++]=zc,xs[_s++]=oh,Nc=e.id,zc=e.overflow,oh=t),t=qI(t,r.children),t.flags|=4096,t)}function mj(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),$O(e.return,t,n)}function pk(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function CV(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(aa(e,t,r.children,n),r=ri.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mj(e,n,t);else if(e.tag===19)mj(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($r(ri,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&yw(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),pk(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&yw(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}pk(t,!0,n,null,o);break;case"together":pk(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function D1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function eu(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),sh|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ft(153));if(t.child!==null){for(e=t.child,n=yd(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yd(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function iee(e,t,n){switch(t.tag){case 3:SV(t),Dm();break;case 5:J8(t);break;case 1:Ea(t.type)&&dw(t);break;case 4:NI(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;$r(pw,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($r(ri,ri.current&1),t.flags|=128,null):n&t.child.childLanes?EV(e,t,n):($r(ri,ri.current&1),e=eu(e,t,n),e!==null?e.sibling:null);$r(ri,ri.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return CV(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$r(ri,ri.current),r)break;return null;case 22:case 23:return t.lanes=0,_V(e,t,n)}return eu(e,t,n)}var TV,FO,kV,PV;TV=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};FO=function(){};kV=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,zf(Zl.current);var o=null;switch(n){case"input":i=cO(e,i),r=cO(e,r),o=[];break;case"select":i=ai({},i,{value:void 0}),r=ai({},r,{value:void 0}),o=[];break;case"textarea":i=fO(e,i),r=fO(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=cw)}pO(n,r);var s;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(M0.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var f=r[h];if(a=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&f!==a&&(f!=null||a!=null))if(h==="style")if(a){for(s in a)!a.hasOwnProperty(s)||f&&f.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in f)f.hasOwnProperty(s)&&a[s]!==f[s]&&(n||(n={}),n[s]=f[s])}else n||(o||(o=[]),o.push(h,n)),n=f;else h==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,a=a?a.__html:void 0,f!=null&&a!==f&&(o=o||[]).push(h,f)):h==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(h,""+f):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(M0.hasOwnProperty(h)?(f!=null&&h==="onScroll"&&Nr("scroll",e),o||a===f||(o=[])):(o=o||[]).push(h,f))}n&&(o=o||[]).push("style",n);var h=o;(t.updateQueue=h)&&(t.flags|=4)}};PV=function(e,t,n,r){n!==r&&(t.flags|=4)};function dv(e,t){if(!Yr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ao(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function oee(e,t,n){var r=t.pendingProps;switch(AI(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ao(t),null;case 1:return Ea(t.type)&&uw(),Ao(t),null;case 3:return r=t.stateNode,Nm(),Br(Sa),Br(Bo),jI(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(B_(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,al!==null&&(KO(al),al=null))),FO(e,t),Ao(t),null;case 5:zI(t);var i=zf(V0.current);if(n=t.type,e!==null&&t.stateNode!=null)kV(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ft(166));return Ao(t),null}if(e=zf(Zl.current),B_(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Wl]=t,r[F0]=o,e=(t.mode&1)!==0,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(i=0;i<Hv.length;i++)Nr(Hv[i],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":Ez(r,o),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Nr("invalid",r);break;case"textarea":Tz(r,o),Nr("invalid",r)}pO(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&j_(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&j_(r.textContent,a,e),i=["children",""+a]):M0.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Nr("scroll",r)}switch(n){case"input":M_(r),Cz(r,o,!0);break;case"textarea":M_(r),kz(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=cw)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=t8(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Wl]=t,e[F0]=r,TV(e,t,!1,!1),t.stateNode=e;e:{switch(s=mO(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),i=r;break;case"iframe":case"object":case"embed":Nr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Hv.length;i++)Nr(Hv[i],e);i=r;break;case"source":Nr("error",e),i=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),i=r;break;case"details":Nr("toggle",e),i=r;break;case"input":Ez(e,r),i=cO(e,r),Nr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ai({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":Tz(e,r),i=fO(e,r),Nr("invalid",e);break;default:i=r}pO(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var f=a[o];o==="style"?i8(e,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&n8(e,f)):o==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&I0(e,f):typeof f=="number"&&I0(e,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(M0.hasOwnProperty(o)?f!=null&&o==="onScroll"&&Nr("scroll",e):f!=null&&mI(e,o,f,s))}switch(n){case"input":M_(e),Cz(e,r,!1);break;case"textarea":M_(e),kz(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Td(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?hm(e,!!r.multiple,o,!1):r.defaultValue!=null&&hm(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=cw)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ao(t),null;case 6:if(e&&t.stateNode!=null)PV(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ft(166));if(n=zf(V0.current),zf(Zl.current),B_(t)){if(r=t.stateNode,n=t.memoizedProps,r[Wl]=t,(o=r.nodeValue!==n)&&(e=Ha,e!==null))switch(e.tag){case 3:j_(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&j_(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wl]=t,t.stateNode=r}return Ao(t),null;case 13:if(Br(ri),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Yr&&Ga!==null&&t.mode&1&&!(t.flags&128))q8(),Dm(),t.flags|=98560,o=!1;else if(o=B_(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(ft(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ft(317));o[Wl]=t}else Dm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ao(t),o=!1}else al!==null&&(KO(al),al=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ri.current&1?ji===0&&(ji=3):XI())),t.updateQueue!==null&&(t.flags|=4),Ao(t),null);case 4:return Nm(),FO(e,t),e===null&&j0(t.stateNode.containerInfo),Ao(t),null;case 10:return RI(t.type._context),Ao(t),null;case 17:return Ea(t.type)&&uw(),Ao(t),null;case 19:if(Br(ri),o=t.memoizedState,o===null)return Ao(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)dv(o,!1);else{if(ji!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=yw(e),s!==null){for(t.flags|=128,dv(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $r(ri,ri.current&1|2),t.child}e=e.sibling}o.tail!==null&&Si()>jm&&(t.flags|=128,r=!0,dv(o,!1),t.lanes=4194304)}else{if(!r)if(e=yw(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),dv(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Yr)return Ao(t),null}else 2*Si()-o.renderingStartTime>jm&&n!==1073741824&&(t.flags|=128,r=!0,dv(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Si(),t.sibling=null,n=ri.current,$r(ri,r?n&1|2:n&1),t):(Ao(t),null);case 22:case 23:return ZI(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Fa&1073741824&&(Ao(t),t.subtreeFlags&6&&(t.flags|=8192)):Ao(t),null;case 24:return null;case 25:return null}throw Error(ft(156,t.tag))}function aee(e,t){switch(AI(t),t.tag){case 1:return Ea(t.type)&&uw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nm(),Br(Sa),Br(Bo),jI(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zI(t),null;case 13:if(Br(ri),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ft(340));Dm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Br(ri),null;case 4:return Nm(),null;case 10:return RI(t.type._context),null;case 22:case 23:return ZI(),null;case 24:return null;default:return null}}var V_=!1,Lo=!1,see=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function Jp(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){hi(e,t,r)}else n.current=null}function UO(e,t,n){try{n()}catch(r){hi(e,t,r)}}var gj=!1;function lee(e,t){if(CO=aw,e=I8(),PI(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,f=-1,h=0,g=0,v=e,x=null;t:for(;;){for(var k;v!==n||i!==0&&v.nodeType!==3||(a=s+i),v!==o||r!==0&&v.nodeType!==3||(f=s+r),v.nodeType===3&&(s+=v.nodeValue.length),(k=v.firstChild)!==null;)x=v,v=k;for(;;){if(v===e)break t;if(x===n&&++h===i&&(a=s),x===o&&++g===r&&(f=s),(k=v.nextSibling)!==null)break;v=x,x=v.parentNode}v=k}n=a===-1||f===-1?null:{start:a,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(TO={focusedElem:e,selectionRange:n},aw=!1,Vt=t;Vt!==null;)if(t=Vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Vt=e;else for(;Vt!==null;){t=Vt;try{var O=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(O!==null){var C=O.memoizedProps,M=O.memoizedState,I=t.stateNode,A=I.getSnapshotBeforeUpdate(t.elementType===t.type?C:rl(t.type,C),M);I.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var P=t.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ft(163))}}catch($){hi(t,t.return,$)}if(e=t.sibling,e!==null){e.return=t.return,Vt=e;break}Vt=t.return}return O=gj,gj=!1,O}function c0(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&UO(t,n,o)}i=i.next}while(i!==r)}}function l2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function VO(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function OV(e){var t=e.alternate;t!==null&&(e.alternate=null,OV(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wl],delete t[F0],delete t[OO],delete t[WQ],delete t[qQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function AV(e){return e.tag===5||e.tag===3||e.tag===4}function yj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||AV(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function WO(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=cw));else if(r!==4&&(e=e.child,e!==null))for(WO(e,t,n),e=e.sibling;e!==null;)WO(e,t,n),e=e.sibling}function qO(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(qO(e,t,n),e=e.sibling;e!==null;)qO(e,t,n),e=e.sibling}var ho=null,il=!1;function ju(e,t,n){for(n=n.child;n!==null;)MV(e,t,n),n=n.sibling}function MV(e,t,n){if(Kl&&typeof Kl.onCommitFiberUnmount=="function")try{Kl.onCommitFiberUnmount(e2,n)}catch{}switch(n.tag){case 5:Lo||Jp(n,t);case 6:var r=ho,i=il;ho=null,ju(e,t,n),ho=r,il=i,ho!==null&&(il?(e=ho,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ho.removeChild(n.stateNode));break;case 18:ho!==null&&(il?(e=ho,n=n.stateNode,e.nodeType===8?sk(e.parentNode,n):e.nodeType===1&&sk(e,n),L0(e)):sk(ho,n.stateNode));break;case 4:r=ho,i=il,ho=n.stateNode.containerInfo,il=!0,ju(e,t,n),ho=r,il=i;break;case 0:case 11:case 14:case 15:if(!Lo&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&UO(n,t,s),i=i.next}while(i!==r)}ju(e,t,n);break;case 1:if(!Lo&&(Jp(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){hi(n,t,a)}ju(e,t,n);break;case 21:ju(e,t,n);break;case 22:n.mode&1?(Lo=(r=Lo)||n.memoizedState!==null,ju(e,t,n),Lo=r):ju(e,t,n);break;default:ju(e,t,n)}}function vj(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new see),t.forEach(function(r){var i=yee.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qs(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:ho=a.stateNode,il=!1;break e;case 3:ho=a.stateNode.containerInfo,il=!0;break e;case 4:ho=a.stateNode.containerInfo,il=!0;break e}a=a.return}if(ho===null)throw Error(ft(160));MV(o,s,i),ho=null,il=!1;var f=i.alternate;f!==null&&(f.return=null),i.return=null}catch(h){hi(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)IV(t,e),t=t.sibling}function IV(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qs(t,e),Nl(e),r&4){try{c0(3,e,e.return),l2(3,e)}catch(C){hi(e,e.return,C)}try{c0(5,e,e.return)}catch(C){hi(e,e.return,C)}}break;case 1:Qs(t,e),Nl(e),r&512&&n!==null&&Jp(n,n.return);break;case 5:if(Qs(t,e),Nl(e),r&512&&n!==null&&Jp(n,n.return),e.flags&32){var i=e.stateNode;try{I0(i,"")}catch(C){hi(e,e.return,C)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&QU(i,o),mO(a,s);var h=mO(a,o);for(s=0;s<f.length;s+=2){var g=f[s],v=f[s+1];g==="style"?i8(i,v):g==="dangerouslySetInnerHTML"?n8(i,v):g==="children"?I0(i,v):mI(i,g,v,h)}switch(a){case"input":uO(i,o);break;case"textarea":e8(i,o);break;case"select":var x=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var k=o.value;k!=null?hm(i,!!o.multiple,k,!1):x!==!!o.multiple&&(o.defaultValue!=null?hm(i,!!o.multiple,o.defaultValue,!0):hm(i,!!o.multiple,o.multiple?[]:"",!1))}i[F0]=o}catch(C){hi(e,e.return,C)}}break;case 6:if(Qs(t,e),Nl(e),r&4){if(e.stateNode===null)throw Error(ft(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(C){hi(e,e.return,C)}}break;case 3:if(Qs(t,e),Nl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{L0(t.containerInfo)}catch(C){hi(e,e.return,C)}break;case 4:Qs(t,e),Nl(e);break;case 13:Qs(t,e),Nl(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(YI=Si())),r&4&&vj(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(Lo=(h=Lo)||g,Qs(t,e),Lo=h):Qs(t,e),Nl(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!g&&e.mode&1)for(Vt=e,g=e.child;g!==null;){for(v=Vt=g;Vt!==null;){switch(x=Vt,k=x.child,x.tag){case 0:case 11:case 14:case 15:c0(4,x,x.return);break;case 1:Jp(x,x.return);var O=x.stateNode;if(typeof O.componentWillUnmount=="function"){r=x,n=x.return;try{t=r,O.props=t.memoizedProps,O.state=t.memoizedState,O.componentWillUnmount()}catch(C){hi(r,n,C)}}break;case 5:Jp(x,x.return);break;case 22:if(x.memoizedState!==null){xj(v);continue}}k!==null?(k.return=x,Vt=k):xj(v)}g=g.sibling}e:for(g=null,v=e;;){if(v.tag===5){if(g===null){g=v;try{i=v.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=v.stateNode,f=v.memoizedProps.style,s=f!=null&&f.hasOwnProperty("display")?f.display:null,a.style.display=r8("display",s))}catch(C){hi(e,e.return,C)}}}else if(v.tag===6){if(g===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(C){hi(e,e.return,C)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;g===v&&(g=null),v=v.return}g===v&&(g=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Qs(t,e),Nl(e),r&4&&vj(e);break;case 21:break;default:Qs(t,e),Nl(e)}}function Nl(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(AV(n)){var r=n;break e}n=n.return}throw Error(ft(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(I0(i,""),r.flags&=-33);var o=yj(e);qO(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=yj(e);WO(e,a,s);break;default:throw Error(ft(161))}}catch(f){hi(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cee(e,t,n){Vt=e,$V(e)}function $V(e,t,n){for(var r=(e.mode&1)!==0;Vt!==null;){var i=Vt,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||V_;if(!s){var a=i.alternate,f=a!==null&&a.memoizedState!==null||Lo;a=V_;var h=Lo;if(V_=s,(Lo=f)&&!h)for(Vt=i;Vt!==null;)s=Vt,f=s.child,s.tag===22&&s.memoizedState!==null?_j(i):f!==null?(f.return=s,Vt=f):_j(i);for(;o!==null;)Vt=o,$V(o),o=o.sibling;Vt=i,V_=a,Lo=h}bj(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Vt=o):bj(e)}}function bj(e){for(;Vt!==null;){var t=Vt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Lo||l2(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Lo)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:rl(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&nj(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}nj(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var g=h.memoizedState;if(g!==null){var v=g.dehydrated;v!==null&&L0(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ft(163))}Lo||t.flags&512&&VO(t)}catch(x){hi(t,t.return,x)}}if(t===e){Vt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Vt=n;break}Vt=t.return}}function xj(e){for(;Vt!==null;){var t=Vt;if(t===e){Vt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Vt=n;break}Vt=t.return}}function _j(e){for(;Vt!==null;){var t=Vt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{l2(4,t)}catch(f){hi(t,n,f)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(f){hi(t,i,f)}}var o=t.return;try{VO(t)}catch(f){hi(t,o,f)}break;case 5:var s=t.return;try{VO(t)}catch(f){hi(t,s,f)}}}catch(f){hi(t,t.return,f)}if(t===e){Vt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Vt=a;break}Vt=t.return}}var uee=Math.ceil,xw=uu.ReactCurrentDispatcher,GI=uu.ReactCurrentOwner,Ts=uu.ReactCurrentBatchConfig,Kn=0,Qi=null,Ai=null,xo=0,Fa=0,Qp=zd(0),ji=0,H0=null,sh=0,c2=0,HI=0,u0=null,ba=null,YI=0,jm=1/0,Mc=null,_w=!1,GO=null,md=null,W_=!1,rd=null,ww=0,d0=0,HO=null,L1=-1,N1=0;function ca(){return Kn&6?Si():L1!==-1?L1:L1=Si()}function gd(e){return e.mode&1?Kn&2&&xo!==0?xo&-xo:HQ.transition!==null?(N1===0&&(N1=g8()),N1):(e=hr,e!==0||(e=window.event,e=e===void 0?16:S8(e.type)),e):1}function yl(e,t,n,r){if(50<d0)throw d0=0,HO=null,Error(ft(185));Zb(e,n,r),(!(Kn&2)||e!==Qi)&&(e===Qi&&(!(Kn&2)&&(c2|=n),ji===4&&ed(e,xo)),Ca(e,r),n===1&&Kn===0&&!(t.mode&1)&&(jm=Si()+500,o2&&jd()))}function Ca(e,t){var n=e.callbackNode;HJ(e,t);var r=ow(e,e===Qi?xo:0);if(r===0)n!==null&&Az(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Az(n),t===1)e.tag===0?GQ(wj.bind(null,e)):U8(wj.bind(null,e)),UQ(function(){!(Kn&6)&&jd()}),n=null;else{switch(y8(r)){case 1:n=xI;break;case 4:n=p8;break;case 16:n=iw;break;case 536870912:n=m8;break;default:n=iw}n=FV(n,RV.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function RV(e,t){if(L1=-1,N1=0,Kn&6)throw Error(ft(327));var n=e.callbackNode;if(vm()&&e.callbackNode!==n)return null;var r=ow(e,e===Qi?xo:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Sw(e,r);else{t=r;var i=Kn;Kn|=2;var o=LV();(Qi!==e||xo!==t)&&(Mc=null,jm=Si()+500,Hf(e,t));do try{hee();break}catch(a){DV(e,a)}while(1);$I(),xw.current=o,Kn=i,Ai!==null?t=0:(Qi=null,xo=0,t=ji)}if(t!==0){if(t===2&&(i=xO(e),i!==0&&(r=i,t=YO(e,i))),t===1)throw n=H0,Hf(e,0),ed(e,r),Ca(e,Si()),n;if(t===6)ed(e,r);else{if(i=e.current.alternate,!(r&30)&&!dee(i)&&(t=Sw(e,r),t===2&&(o=xO(e),o!==0&&(r=o,t=YO(e,o))),t===1))throw n=H0,Hf(e,0),ed(e,r),Ca(e,Si()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ft(345));case 2:Cf(e,ba,Mc);break;case 3:if(ed(e,r),(r&130023424)===r&&(t=YI+500-Si(),10<t)){if(ow(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ca(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=PO(Cf.bind(null,e,ba,Mc),t);break}Cf(e,ba,Mc);break;case 4:if(ed(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-gl(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Si()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uee(r/1960))-r,10<r){e.timeoutHandle=PO(Cf.bind(null,e,ba,Mc),r);break}Cf(e,ba,Mc);break;case 5:Cf(e,ba,Mc);break;default:throw Error(ft(329))}}}return Ca(e,Si()),e.callbackNode===n?RV.bind(null,e):null}function YO(e,t){var n=u0;return e.current.memoizedState.isDehydrated&&(Hf(e,t).flags|=256),e=Sw(e,t),e!==2&&(t=ba,ba=n,t!==null&&KO(t)),e}function KO(e){ba===null?ba=e:ba.push.apply(ba,e)}function dee(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!vl(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ed(e,t){for(t&=~HI,t&=~c2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gl(t),r=1<<n;e[n]=-1,t&=~r}}function wj(e){if(Kn&6)throw Error(ft(327));vm();var t=ow(e,0);if(!(t&1))return Ca(e,Si()),null;var n=Sw(e,t);if(e.tag!==0&&n===2){var r=xO(e);r!==0&&(t=r,n=YO(e,r))}if(n===1)throw n=H0,Hf(e,0),ed(e,t),Ca(e,Si()),n;if(n===6)throw Error(ft(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cf(e,ba,Mc),Ca(e,Si()),null}function KI(e,t){var n=Kn;Kn|=1;try{return e(t)}finally{Kn=n,Kn===0&&(jm=Si()+500,o2&&jd())}}function lh(e){rd!==null&&rd.tag===0&&!(Kn&6)&&vm();var t=Kn;Kn|=1;var n=Ts.transition,r=hr;try{if(Ts.transition=null,hr=1,e)return e()}finally{hr=r,Ts.transition=n,Kn=t,!(Kn&6)&&jd()}}function ZI(){Fa=Qp.current,Br(Qp)}function Hf(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,FQ(n)),Ai!==null)for(n=Ai.return;n!==null;){var r=n;switch(AI(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&uw();break;case 3:Nm(),Br(Sa),Br(Bo),jI();break;case 5:zI(r);break;case 4:Nm();break;case 13:Br(ri);break;case 19:Br(ri);break;case 10:RI(r.type._context);break;case 22:case 23:ZI()}n=n.return}if(Qi=e,Ai=e=yd(e.current,null),xo=Fa=t,ji=0,H0=null,HI=c2=sh=0,ba=u0=null,Nf!==null){for(t=0;t<Nf.length;t++)if(n=Nf[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Nf=null}return e}function DV(e,t){do{var n=Ai;try{if($I(),$1.current=bw,vw){for(var r=oi.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vw=!1}if(ah=0,Ji=zi=oi=null,l0=!1,W0=0,GI.current=null,n===null||n.return===null){ji=1,H0=t,Ai=null;break}e:{var o=e,s=n.return,a=n,f=t;if(t=xo,a.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var h=f,g=a,v=g.tag;if(!(g.mode&1)&&(v===0||v===11||v===15)){var x=g.alternate;x?(g.updateQueue=x.updateQueue,g.memoizedState=x.memoizedState,g.lanes=x.lanes):(g.updateQueue=null,g.memoizedState=null)}var k=cj(s);if(k!==null){k.flags&=-257,uj(k,s,a,o,t),k.mode&1&&lj(o,h,t),t=k,f=h;var O=t.updateQueue;if(O===null){var C=new Set;C.add(f),t.updateQueue=C}else O.add(f);break e}else{if(!(t&1)){lj(o,h,t),XI();break e}f=Error(ft(426))}}else if(Yr&&a.mode&1){var M=cj(s);if(M!==null){!(M.flags&65536)&&(M.flags|=256),uj(M,s,a,o,t),MI(zm(f,a));break e}}o=f=zm(f,a),ji!==4&&(ji=2),u0===null?u0=[o]:u0.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var I=vV(o,f,t);tj(o,I);break e;case 1:a=f;var A=o.type,P=o.stateNode;if(!(o.flags&128)&&(typeof A.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(md===null||!md.has(P)))){o.flags|=65536,t&=-t,o.lanes|=t;var $=bV(o,a,t);tj(o,$);break e}}o=o.return}while(o!==null)}zV(n)}catch(z){t=z,Ai===n&&n!==null&&(Ai=n=n.return);continue}break}while(1)}function LV(){var e=xw.current;return xw.current=bw,e===null?bw:e}function XI(){(ji===0||ji===3||ji===2)&&(ji=4),Qi===null||!(sh&268435455)&&!(c2&268435455)||ed(Qi,xo)}function Sw(e,t){var n=Kn;Kn|=2;var r=LV();(Qi!==e||xo!==t)&&(Mc=null,Hf(e,t));do try{fee();break}catch(i){DV(e,i)}while(1);if($I(),Kn=n,xw.current=r,Ai!==null)throw Error(ft(261));return Qi=null,xo=0,ji}function fee(){for(;Ai!==null;)NV(Ai)}function hee(){for(;Ai!==null&&!zJ();)NV(Ai)}function NV(e){var t=BV(e.alternate,e,Fa);e.memoizedProps=e.pendingProps,t===null?zV(e):Ai=t,GI.current=null}function zV(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=aee(n,t),n!==null){n.flags&=32767,Ai=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ji=6,Ai=null;return}}else if(n=oee(n,t,Fa),n!==null){Ai=n;return}if(t=t.sibling,t!==null){Ai=t;return}Ai=t=e}while(t!==null);ji===0&&(ji=5)}function Cf(e,t,n){var r=hr,i=Ts.transition;try{Ts.transition=null,hr=1,pee(e,t,n,r)}finally{Ts.transition=i,hr=r}return null}function pee(e,t,n,r){do vm();while(rd!==null);if(Kn&6)throw Error(ft(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ft(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(YJ(e,o),e===Qi&&(Ai=Qi=null,xo=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||W_||(W_=!0,FV(iw,function(){return vm(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ts.transition,Ts.transition=null;var s=hr;hr=1;var a=Kn;Kn|=4,GI.current=null,lee(e,n),IV(n,e),RQ(TO),aw=!!CO,TO=CO=null,e.current=n,cee(n),jJ(),Kn=a,hr=s,Ts.transition=o}else e.current=n;if(W_&&(W_=!1,rd=e,ww=i),o=e.pendingLanes,o===0&&(md=null),UJ(n.stateNode),Ca(e,Si()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_w)throw _w=!1,e=GO,GO=null,e;return ww&1&&e.tag!==0&&vm(),o=e.pendingLanes,o&1?e===HO?d0++:(d0=0,HO=e):d0=0,jd(),null}function vm(){if(rd!==null){var e=y8(ww),t=Ts.transition,n=hr;try{if(Ts.transition=null,hr=16>e?16:e,rd===null)var r=!1;else{if(e=rd,rd=null,ww=0,Kn&6)throw Error(ft(331));var i=Kn;for(Kn|=4,Vt=e.current;Vt!==null;){var o=Vt,s=o.child;if(Vt.flags&16){var a=o.deletions;if(a!==null){for(var f=0;f<a.length;f++){var h=a[f];for(Vt=h;Vt!==null;){var g=Vt;switch(g.tag){case 0:case 11:case 15:c0(8,g,o)}var v=g.child;if(v!==null)v.return=g,Vt=v;else for(;Vt!==null;){g=Vt;var x=g.sibling,k=g.return;if(OV(g),g===h){Vt=null;break}if(x!==null){x.return=k,Vt=x;break}Vt=k}}}var O=o.alternate;if(O!==null){var C=O.child;if(C!==null){O.child=null;do{var M=C.sibling;C.sibling=null,C=M}while(C!==null)}}Vt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Vt=s;else e:for(;Vt!==null;){if(o=Vt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:c0(9,o,o.return)}var I=o.sibling;if(I!==null){I.return=o.return,Vt=I;break e}Vt=o.return}}var A=e.current;for(Vt=A;Vt!==null;){s=Vt;var P=s.child;if(s.subtreeFlags&2064&&P!==null)P.return=s,Vt=P;else e:for(s=A;Vt!==null;){if(a=Vt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:l2(9,a)}}catch(z){hi(a,a.return,z)}if(a===s){Vt=null;break e}var $=a.sibling;if($!==null){$.return=a.return,Vt=$;break e}Vt=a.return}}if(Kn=i,jd(),Kl&&typeof Kl.onPostCommitFiberRoot=="function")try{Kl.onPostCommitFiberRoot(e2,e)}catch{}r=!0}return r}finally{hr=n,Ts.transition=t}}return!1}function Sj(e,t,n){t=zm(n,t),t=vV(e,t,1),e=pd(e,t,1),t=ca(),e!==null&&(Zb(e,1,t),Ca(e,t))}function hi(e,t,n){if(e.tag===3)Sj(e,e,n);else for(;t!==null;){if(t.tag===3){Sj(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(md===null||!md.has(r))){e=zm(n,e),e=bV(t,e,1),t=pd(t,e,1),e=ca(),t!==null&&(Zb(t,1,e),Ca(t,e));break}}t=t.return}}function mee(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ca(),e.pingedLanes|=e.suspendedLanes&n,Qi===e&&(xo&n)===n&&(ji===4||ji===3&&(xo&130023424)===xo&&500>Si()-YI?Hf(e,0):HI|=n),Ca(e,t)}function jV(e,t){t===0&&(e.mode&1?(t=R_,R_<<=1,!(R_&130023424)&&(R_=4194304)):t=1);var n=ca();e=Qc(e,t),e!==null&&(Zb(e,t,n),Ca(e,n))}function gee(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),jV(e,n)}function yee(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ft(314))}r!==null&&r.delete(t),jV(e,n)}var BV;BV=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Sa.current)_a=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return _a=!1,iee(e,t,n);_a=!!(e.flags&131072)}else _a=!1,Yr&&t.flags&1048576&&V8(t,hw,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;D1(e,t),e=t.pendingProps;var i=Rm(t,Bo.current);ym(t,n),i=FI(null,t,r,e,i,n);var o=UI();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ea(r)?(o=!0,dw(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,LI(t),i.updater=a2,t.stateNode=i,i._reactInternals=t,DO(t,r,e,n),t=zO(null,t,r,!0,o,n)):(t.tag=0,Yr&&o&&OI(t),aa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(D1(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=bee(r),e=rl(r,e),i){case 0:t=NO(null,t,r,e,n);break e;case 1:t=hj(null,t,r,e,n);break e;case 11:t=dj(null,t,r,e,n);break e;case 14:t=fj(null,t,r,rl(r.type,e),n);break e}throw Error(ft(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rl(r,i),NO(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rl(r,i),hj(e,t,r,i,n);case 3:e:{if(SV(t),e===null)throw Error(ft(387));r=t.pendingProps,o=t.memoizedState,i=o.element,H8(e,t),gw(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=zm(Error(ft(423)),t),t=pj(e,t,r,n,i);break e}else if(r!==i){i=zm(Error(ft(424)),t),t=pj(e,t,r,n,i);break e}else for(Ga=hd(t.stateNode.containerInfo.firstChild),Ha=t,Yr=!0,al=null,n=X8(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dm(),r===i){t=eu(e,t,n);break e}aa(e,t,r,n)}t=t.child}return t;case 5:return J8(t),e===null&&IO(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,kO(r,i)?s=null:o!==null&&kO(r,o)&&(t.flags|=32),wV(e,t),aa(e,t,s,n),t.child;case 6:return e===null&&IO(t),null;case 13:return EV(e,t,n);case 4:return NI(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Lm(t,null,r,n):aa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rl(r,i),dj(e,t,r,i,n);case 7:return aa(e,t,t.pendingProps,n),t.child;case 8:return aa(e,t,t.pendingProps.children,n),t.child;case 12:return aa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,$r(pw,r._currentValue),r._currentValue=s,o!==null)if(vl(o.value,s)){if(o.children===i.children&&!Sa.current){t=eu(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var f=a.firstContext;f!==null;){if(f.context===r){if(o.tag===1){f=Gc(-1,n&-n),f.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var g=h.pending;g===null?f.next=f:(f.next=g.next,g.next=f),h.pending=f}}o.lanes|=n,f=o.alternate,f!==null&&(f.lanes|=n),$O(o.return,n,t),a.lanes|=n;break}f=f.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ft(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),$O(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}aa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ym(t,n),i=Is(i),r=r(i),t.flags|=1,aa(e,t,r,n),t.child;case 14:return r=t.type,i=rl(r,t.pendingProps),i=rl(r.type,i),fj(e,t,r,i,n);case 15:return xV(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rl(r,i),D1(e,t),t.tag=1,Ea(r)?(e=!0,dw(t)):e=!1,ym(t,n),K8(t,r,i),DO(t,r,i,n),zO(null,t,r,!0,e,n);case 19:return CV(e,t,n);case 22:return _V(e,t,n)}throw Error(ft(156,t.tag))};function FV(e,t){return h8(e,t)}function vee(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Es(e,t,n,r){return new vee(e,t,n,r)}function JI(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bee(e){if(typeof e=="function")return JI(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yI)return 11;if(e===vI)return 14}return 2}function yd(e,t){var n=e.alternate;return n===null?(n=Es(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function z1(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")JI(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Vp:return Yf(n.children,i,o,t);case gI:s=8,i|=8;break;case oO:return e=Es(12,n,t,i|2),e.elementType=oO,e.lanes=o,e;case aO:return e=Es(13,n,t,i),e.elementType=aO,e.lanes=o,e;case sO:return e=Es(19,n,t,i),e.elementType=sO,e.lanes=o,e;case ZU:return u2(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case YU:s=10;break e;case KU:s=9;break e;case yI:s=11;break e;case vI:s=14;break e;case Zu:s=16,r=null;break e}throw Error(ft(130,e==null?e:typeof e,""))}return t=Es(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Yf(e,t,n,r){return e=Es(7,e,r,t),e.lanes=n,e}function u2(e,t,n,r){return e=Es(22,e,r,t),e.elementType=ZU,e.lanes=n,e.stateNode={isHidden:!1},e}function mk(e,t,n){return e=Es(6,e,null,t),e.lanes=n,e}function gk(e,t,n){return t=Es(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xee(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ZT(0),this.expirationTimes=ZT(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ZT(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function QI(e,t,n,r,i,o,s,a,f){return e=new xee(e,t,n,a,f),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Es(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},LI(o),e}function _ee(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Up,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function UV(e){if(!e)return kd;e=e._reactInternals;e:{if(Sh(e)!==e||e.tag!==1)throw Error(ft(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ea(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ft(171))}if(e.tag===1){var n=e.type;if(Ea(n))return F8(e,n,t)}return t}function VV(e,t,n,r,i,o,s,a,f){return e=QI(n,r,!0,e,i,o,s,a,f),e.context=UV(null),n=e.current,r=ca(),i=gd(n),o=Gc(r,i),o.callback=t??null,pd(n,o,i),e.current.lanes=i,Zb(e,i,r),Ca(e,r),e}function d2(e,t,n,r){var i=t.current,o=ca(),s=gd(i);return n=UV(n),t.context===null?t.context=n:t.pendingContext=n,t=Gc(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=pd(i,t,s),e!==null&&(yl(e,i,s,o),I1(e,i,s)),s}function Ew(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ej(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function e$(e,t){Ej(e,t),(e=e.alternate)&&Ej(e,t)}function wee(){return null}var WV=typeof reportError=="function"?reportError:function(e){console.error(e)};function t$(e){this._internalRoot=e}f2.prototype.render=t$.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ft(409));d2(e,t,null,null)};f2.prototype.unmount=t$.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lh(function(){d2(null,e,null,null)}),t[Jc]=null}};function f2(e){this._internalRoot=e}f2.prototype.unstable_scheduleHydration=function(e){if(e){var t=x8();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qu.length&&t!==0&&t<Qu[n].priority;n++);Qu.splice(n,0,e),n===0&&w8(e)}};function n$(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cj(){}function See(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=Ew(s);o.call(h)}}var s=VV(t,r,e,0,null,!1,!1,"",Cj);return e._reactRootContainer=s,e[Jc]=s.current,j0(e.nodeType===8?e.parentNode:e),lh(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var h=Ew(f);a.call(h)}}var f=QI(e,0,!1,null,null,!1,!1,"",Cj);return e._reactRootContainer=f,e[Jc]=f.current,j0(e.nodeType===8?e.parentNode:e),lh(function(){d2(t,f,n,r)}),f}function p2(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var f=Ew(s);a.call(f)}}d2(t,s,e,i)}else s=See(n,t,e,i,r);return Ew(s)}v8=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Gv(t.pendingLanes);n!==0&&(_I(t,n|1),Ca(t,Si()),!(Kn&6)&&(jm=Si()+500,jd()))}break;case 13:lh(function(){var r=Qc(e,1);if(r!==null){var i=ca();yl(r,e,1,i)}}),e$(e,1)}};wI=function(e){if(e.tag===13){var t=Qc(e,134217728);if(t!==null){var n=ca();yl(t,e,134217728,n)}e$(e,134217728)}};b8=function(e){if(e.tag===13){var t=gd(e),n=Qc(e,t);if(n!==null){var r=ca();yl(n,e,t,r)}e$(e,t)}};x8=function(){return hr};_8=function(e,t){var n=hr;try{return hr=e,t()}finally{hr=n}};yO=function(e,t,n){switch(t){case"input":if(uO(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=i2(r);if(!i)throw Error(ft(90));JU(r),uO(r,i)}}}break;case"textarea":e8(e,n);break;case"select":t=n.value,t!=null&&hm(e,!!n.multiple,t,!1)}};s8=KI;l8=lh;var Eee={usingClientEntryPoint:!1,Events:[Jb,Hp,i2,o8,a8,KI]},fv={findFiberByHostInstance:Lf,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Cee={bundleType:fv.bundleType,version:fv.version,rendererPackageName:fv.rendererPackageName,rendererConfig:fv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:uu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=d8(e),e===null?null:e.stateNode},findFiberByHostInstance:fv.findFiberByHostInstance||wee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var q_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!q_.isDisabled&&q_.supportsFiber)try{e2=q_.inject(Cee),Kl=q_}catch{}}es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Eee;es.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!n$(t))throw Error(ft(200));return _ee(e,t,null,n)};es.createRoot=function(e,t){if(!n$(e))throw Error(ft(299));var n=!1,r="",i=WV;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=QI(e,1,!1,null,null,n,!1,r,i),e[Jc]=t.current,j0(e.nodeType===8?e.parentNode:e),new t$(t)};es.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ft(188)):(e=Object.keys(e).join(","),Error(ft(268,e)));return e=d8(t),e=e===null?null:e.stateNode,e};es.flushSync=function(e){return lh(e)};es.hydrate=function(e,t,n){if(!h2(t))throw Error(ft(200));return p2(null,e,t,!0,n)};es.hydrateRoot=function(e,t,n){if(!n$(e))throw Error(ft(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=WV;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=VV(t,null,e,1,n??null,i,!1,o,s),e[Jc]=t.current,j0(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new f2(t)};es.render=function(e,t,n){if(!h2(t))throw Error(ft(200));return p2(null,e,t,!1,n)};es.unmountComponentAtNode=function(e){if(!h2(e))throw Error(ft(40));return e._reactRootContainer?(lh(function(){p2(null,null,e,!1,function(){e._reactRootContainer=null,e[Jc]=null})}),!0):!1};es.unstable_batchedUpdates=KI;es.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!h2(n))throw Error(ft(200));if(e==null||e._reactInternals===void 0)throw Error(ft(38));return p2(e,t,n,!1,r)};es.version="18.2.0-next-9e3b772b8-20220608";function qV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qV)}catch(e){console.error(e)}}qV(),VU.exports=es;var lc=VU.exports;const G_=tr(lc);var GV,Tj=lc;GV=Tj.createRoot,Tj.hydrateRoot;/**
 * @remix-run/router v1.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y0.apply(this,arguments)}var id;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(id||(id={}));const kj="popstate";function Tee(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return ZO("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:HV(i)}return Pee(t,n,null,e)}function Ui(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function r$(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function kee(){return Math.random().toString(36).substr(2,8)}function Pj(e,t){return{usr:e.state,key:e.key,idx:t}}function ZO(e,t,n,r){return n===void 0&&(n=null),Y0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Eg(t):t,{state:n,key:t&&t.key||r||kee()})}function HV(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Eg(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Pee(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=id.Pop,f=null,h=g();h==null&&(h=0,s.replaceState(Y0({},s.state,{idx:h}),""));function g(){return(s.state||{idx:null}).idx}function v(){a=id.Pop;let M=g(),I=M==null?null:M-h;h=M,f&&f({action:a,location:C.location,delta:I})}function x(M,I){a=id.Push;let A=ZO(C.location,M,I);n&&n(A,M),h=g()+1;let P=Pj(A,h),$=C.createHref(A);try{s.pushState(P,"",$)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign($)}o&&f&&f({action:a,location:C.location,delta:1})}function k(M,I){a=id.Replace;let A=ZO(C.location,M,I);n&&n(A,M),h=g();let P=Pj(A,h),$=C.createHref(A);s.replaceState(P,"",$),o&&f&&f({action:a,location:C.location,delta:0})}function O(M){let I=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof M=="string"?M:HV(M);return Ui(I,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,I)}let C={get action(){return a},get location(){return e(i,s)},listen(M){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(kj,v),f=M,()=>{i.removeEventListener(kj,v),f=null}},createHref(M){return t(i,M)},createURL:O,encodeLocation(M){let I=O(M);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:x,replace:k,go(M){return s.go(M)}};return C}var Oj;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Oj||(Oj={}));function Oee(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Eg(t):t,i=ZV(r.pathname||"/",n);if(i==null)return null;let o=YV(e);Aee(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=jee(o[a],Uee(i));return s}function YV(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let f={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};f.relativePath.startsWith("/")&&(Ui(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let h=Kf([r,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(Ui(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),YV(o.children,t,g,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:Nee(h,o.index),routesMeta:g})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let f of KV(o.path))i(o,s,f)}),t}function KV(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=KV(r.join("/")),a=[];return a.push(...s.map(f=>f===""?o:[o,f].join("/"))),i&&a.push(...s),a.map(f=>e.startsWith("/")&&f===""?"/":f)}function Aee(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:zee(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Mee=/^:\w+$/,Iee=3,$ee=2,Ree=1,Dee=10,Lee=-2,Aj=e=>e==="*";function Nee(e,t){let n=e.split("/"),r=n.length;return n.some(Aj)&&(r+=Lee),t&&(r+=$ee),n.filter(i=>!Aj(i)).reduce((i,o)=>i+(Mee.test(o)?Iee:o===""?Ree:Dee),r)}function zee(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function jee(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],f=s===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",g=Bee({path:a.relativePath,caseSensitive:a.caseSensitive,end:f},h);if(!g)return null;Object.assign(r,g.params);let v=a.route;o.push({params:r,pathname:Kf([i,g.pathname]),pathnameBase:Yee(Kf([i,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(i=Kf([i,g.pathnameBase]))}return o}function Bee(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Fee(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((h,g,v)=>{if(g==="*"){let x=a[v]||"";s=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}return h[g]=Vee(a[v]||"",g),h},{}),pathname:o,pathnameBase:s,pattern:e}}function Fee(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),r$(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Uee(e){try{return decodeURI(e)}catch(t){return r$(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Vee(e,t){try{return decodeURIComponent(e)}catch(n){return r$(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function ZV(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Wee(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Eg(e):e;return{pathname:n?n.startsWith("/")?n:qee(n,t):t,search:Kee(r),hash:Zee(i)}}function qee(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function yk(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Gee(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Hee(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Eg(e):(i=Y0({},e),Ui(!i.pathname||!i.pathname.includes("?"),yk("?","pathname","search",i)),Ui(!i.pathname||!i.pathname.includes("#"),yk("#","pathname","hash",i)),Ui(!i.search||!i.search.includes("#"),yk("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let v=t.length-1;if(s.startsWith("..")){let x=s.split("/");for(;x[0]==="..";)x.shift(),v-=1;i.pathname=x.join("/")}a=v>=0?t[v]:"/"}let f=Wee(i,a),h=s&&s!=="/"&&s.endsWith("/"),g=(o||s===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}const Kf=e=>e.join("/").replace(/\/\/+/g,"/"),Yee=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Kee=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Zee=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Xee(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const XV=["post","put","patch","delete"];new Set(XV);const Jee=["get",...XV];new Set(Jee);/**
 * React Router v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cw.apply(this,arguments)}const i$=V.createContext(null),Qee=V.createContext(null),m2=V.createContext(null),g2=V.createContext(null),Bd=V.createContext({outlet:null,matches:[],isDataRoute:!1}),JV=V.createContext(null);function y2(){return V.useContext(g2)!=null}function v2(){return y2()||Ui(!1),V.useContext(g2).location}function QV(e){V.useContext(m2).static||V.useLayoutEffect(e)}function Cg(){let{isDataRoute:e}=V.useContext(Bd);return e?mte():ete()}function ete(){y2()||Ui(!1);let e=V.useContext(i$),{basename:t,navigator:n}=V.useContext(m2),{matches:r}=V.useContext(Bd),{pathname:i}=v2(),o=JSON.stringify(Gee(r).map(f=>f.pathnameBase)),s=V.useRef(!1);return QV(()=>{s.current=!0}),V.useCallback(function(f,h){if(h===void 0&&(h={}),!s.current)return;if(typeof f=="number"){n.go(f);return}let g=Hee(f,JSON.parse(o),i,h.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Kf([t,g.pathname])),(h.replace?n.replace:n.push)(g,h.state,h)},[t,n,o,i,e])}const tte=V.createContext(null);function nte(e){let t=V.useContext(Bd).outlet;return t&&V.createElement(tte.Provider,{value:e},t)}function rte(){let{matches:e}=V.useContext(Bd),t=e[e.length-1];return t?t.params:{}}function ite(e,t){return ote(e,t)}function ote(e,t,n){y2()||Ui(!1);let{navigator:r}=V.useContext(m2),{matches:i}=V.useContext(Bd),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let f=v2(),h;if(t){var g;let C=typeof t=="string"?Eg(t):t;a==="/"||(g=C.pathname)!=null&&g.startsWith(a)||Ui(!1),h=C}else h=f;let v=h.pathname||"/",x=a==="/"?v:v.slice(a.length)||"/",k=Oee(e,{pathname:x}),O=ute(k&&k.map(C=>Object.assign({},C,{params:Object.assign({},s,C.params),pathname:Kf([a,r.encodeLocation?r.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?a:Kf([a,r.encodeLocation?r.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),i,n);return t&&O?V.createElement(g2.Provider,{value:{location:Cw({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:id.Pop}},O):O}function ate(){let e=pte(),t=Xee(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:i},n):null,o)}const ste=V.createElement(ate,null);class lte extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?V.createElement(Bd.Provider,{value:this.props.routeContext},V.createElement(JV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cte(e){let{routeContext:t,match:n,children:r}=e,i=V.useContext(i$);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(Bd.Provider,{value:t},r)}function ute(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let o=e,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id]));a>=0||Ui(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,f,h)=>{let g=f.route.id?s==null?void 0:s[f.route.id]:null,v=null;n&&(v=f.route.errorElement||ste);let x=t.concat(o.slice(0,h+1)),k=()=>{let O;return g?O=v:f.route.Component?O=V.createElement(f.route.Component,null):f.route.element?O=f.route.element:O=a,V.createElement(cte,{match:f,routeContext:{outlet:a,matches:x,isDataRoute:n!=null},children:O})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?V.createElement(lte,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:k(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):k()},null)}var eW=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(eW||{}),Tw=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Tw||{});function dte(e){let t=V.useContext(i$);return t||Ui(!1),t}function fte(e){let t=V.useContext(Qee);return t||Ui(!1),t}function hte(e){let t=V.useContext(Bd);return t||Ui(!1),t}function tW(e){let t=hte(),n=t.matches[t.matches.length-1];return n.route.id||Ui(!1),n.route.id}function pte(){var e;let t=V.useContext(JV),n=fte(Tw.UseRouteError),r=tW(Tw.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function mte(){let{router:e}=dte(eW.UseNavigateStable),t=tW(Tw.UseNavigateStable),n=V.useRef(!1);return QV(()=>{n.current=!0}),V.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Cw({fromRouteId:t},o)))},[e,t])}function gte(e){return nte(e.context)}function Ac(e){Ui(!1)}function yte(e){let{basename:t="/",children:n=null,location:r,navigationType:i=id.Pop,navigator:o,static:s=!1}=e;y2()&&Ui(!1);let a=t.replace(/^\/*/,"/"),f=V.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=Eg(r));let{pathname:h="/",search:g="",hash:v="",state:x=null,key:k="default"}=r,O=V.useMemo(()=>{let C=ZV(h,a);return C==null?null:{location:{pathname:C,search:g,hash:v,state:x,key:k},navigationType:i}},[a,h,g,v,x,k,i]);return O==null?null:V.createElement(m2.Provider,{value:f},V.createElement(g2.Provider,{children:n,value:O}))}function vte(e){let{children:t,location:n}=e;return ite(XO(t),n)}new Promise(()=>{});function XO(e,t){t===void 0&&(t=[]);let n=[];return V.Children.forEach(e,(r,i)=>{if(!V.isValidElement(r))return;let o=[...t,i];if(r.type===V.Fragment){n.push.apply(n,XO(r.props.children,o));return}r.type!==Ac&&Ui(!1),!r.props.index||!r.props.children||Ui(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=XO(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const bte="startTransition",Mj=ew[bte];function xte(e){let{basename:t,children:n,future:r,window:i}=e,o=V.useRef();o.current==null&&(o.current=Tee({window:i,v5Compat:!0}));let s=o.current,[a,f]=V.useState({action:s.action,location:s.location}),{v7_startTransition:h}=r||{},g=V.useCallback(v=>{h&&Mj?Mj(()=>f(v)):f(v)},[f,h]);return V.useLayoutEffect(()=>s.listen(g),[s,g]),V.createElement(yte,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s})}var Ij;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ij||(Ij={}));var $j;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($j||($j={}));var nW={exports:{}},rW={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm=V;function _te(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wte=typeof Object.is=="function"?Object.is:_te,Ste=Bm.useState,Ete=Bm.useEffect,Cte=Bm.useLayoutEffect,Tte=Bm.useDebugValue;function kte(e,t){var n=t(),r=Ste({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return Cte(function(){i.value=n,i.getSnapshot=t,vk(i)&&o({inst:i})},[e,n,t]),Ete(function(){return vk(i)&&o({inst:i}),e(function(){vk(i)&&o({inst:i})})},[e]),Tte(n),n}function vk(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wte(e,n)}catch{return!0}}function Pte(e,t){return t()}var Ote=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Pte:kte;rW.useSyncExternalStore=Bm.useSyncExternalStore!==void 0?Bm.useSyncExternalStore:Ote;nW.exports=rW;var iW=nW.exports,oW={exports:{}},aW={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2=V,Ate=iW;function Mte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ite=typeof Object.is=="function"?Object.is:Mte,$te=Ate.useSyncExternalStore,Rte=b2.useRef,Dte=b2.useEffect,Lte=b2.useMemo,Nte=b2.useDebugValue;aW.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=Rte(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=Lte(function(){function f(k){if(!h){if(h=!0,g=k,k=r(k),i!==void 0&&s.hasValue){var O=s.value;if(i(O,k))return v=O}return v=k}if(O=v,Ite(g,k))return O;var C=r(k);return i!==void 0&&i(O,C)?O:(g=k,v=C)}var h=!1,g,v,x=n===void 0?null:n;return[function(){return f(t())},x===null?void 0:function(){return f(x())}]},[t,n,r,i]);var a=$te(e,o[0],o[1]);return Dte(function(){s.hasValue=!0,s.value=a},[a]),Nte(a),a};oW.exports=aW;var zte=oW.exports;function jte(e){e()}let sW=jte;const Bte=e=>sW=e,Fte=()=>sW,Rj=Symbol.for("react-redux-context"),Dj=typeof globalThis<"u"?globalThis:{};function Ute(){var e;if(!V.createContext)return{};const t=(e=Dj[Rj])!=null?e:Dj[Rj]=new Map;let n=t.get(V.createContext);return n||(n=V.createContext(null),t.set(V.createContext,n)),n}const tu=Ute();function o$(e=tu){return function(){return V.useContext(e)}}const lW=o$(),cW=()=>{throw new Error("uSES not initialized!")};let uW=cW;const Vte=e=>{uW=e},Wte=(e,t)=>e===t;function qte(e=tu){const t=e===tu?lW:o$(e);return function(r,i={}){const{equalityFn:o=Wte,stabilityCheck:s=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:f,subscription:h,getServerState:g,stabilityCheck:v,noopCheck:x}=t();V.useRef(!0);const k=V.useCallback({[r.name](C){return r(C)}}[r.name],[r,v,s]),O=uW(h.addNestedSub,f.getState,g||f.getState,k,o);return V.useDebugValue(O),O}}const qn=qte();function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},te.apply(this,arguments)}function yt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var dW={exports:{}},mr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var to=typeof Symbol=="function"&&Symbol.for,a$=to?Symbol.for("react.element"):60103,s$=to?Symbol.for("react.portal"):60106,x2=to?Symbol.for("react.fragment"):60107,_2=to?Symbol.for("react.strict_mode"):60108,w2=to?Symbol.for("react.profiler"):60114,S2=to?Symbol.for("react.provider"):60109,E2=to?Symbol.for("react.context"):60110,l$=to?Symbol.for("react.async_mode"):60111,C2=to?Symbol.for("react.concurrent_mode"):60111,T2=to?Symbol.for("react.forward_ref"):60112,k2=to?Symbol.for("react.suspense"):60113,Gte=to?Symbol.for("react.suspense_list"):60120,P2=to?Symbol.for("react.memo"):60115,O2=to?Symbol.for("react.lazy"):60116,Hte=to?Symbol.for("react.block"):60121,Yte=to?Symbol.for("react.fundamental"):60117,Kte=to?Symbol.for("react.responder"):60118,Zte=to?Symbol.for("react.scope"):60119;function ns(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case a$:switch(e=e.type,e){case l$:case C2:case x2:case w2:case _2:case k2:return e;default:switch(e=e&&e.$$typeof,e){case E2:case T2:case O2:case P2:case S2:return e;default:return t}}case s$:return t}}}function fW(e){return ns(e)===C2}mr.AsyncMode=l$;mr.ConcurrentMode=C2;mr.ContextConsumer=E2;mr.ContextProvider=S2;mr.Element=a$;mr.ForwardRef=T2;mr.Fragment=x2;mr.Lazy=O2;mr.Memo=P2;mr.Portal=s$;mr.Profiler=w2;mr.StrictMode=_2;mr.Suspense=k2;mr.isAsyncMode=function(e){return fW(e)||ns(e)===l$};mr.isConcurrentMode=fW;mr.isContextConsumer=function(e){return ns(e)===E2};mr.isContextProvider=function(e){return ns(e)===S2};mr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===a$};mr.isForwardRef=function(e){return ns(e)===T2};mr.isFragment=function(e){return ns(e)===x2};mr.isLazy=function(e){return ns(e)===O2};mr.isMemo=function(e){return ns(e)===P2};mr.isPortal=function(e){return ns(e)===s$};mr.isProfiler=function(e){return ns(e)===w2};mr.isStrictMode=function(e){return ns(e)===_2};mr.isSuspense=function(e){return ns(e)===k2};mr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===x2||e===C2||e===w2||e===_2||e===k2||e===Gte||typeof e=="object"&&e!==null&&(e.$$typeof===O2||e.$$typeof===P2||e.$$typeof===S2||e.$$typeof===E2||e.$$typeof===T2||e.$$typeof===Yte||e.$$typeof===Kte||e.$$typeof===Zte||e.$$typeof===Hte)};mr.typeOf=ns;dW.exports=mr;var Xte=dW.exports,c$=Xte,Jte={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Qte={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ene={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},hW={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u$={};u$[c$.ForwardRef]=ene;u$[c$.Memo]=hW;function Lj(e){return c$.isMemo(e)?hW:u$[e.$$typeof]||Jte}var tne=Object.defineProperty,nne=Object.getOwnPropertyNames,Nj=Object.getOwnPropertySymbols,rne=Object.getOwnPropertyDescriptor,ine=Object.getPrototypeOf,zj=Object.prototype;function pW(e,t,n){if(typeof t!="string"){if(zj){var r=ine(t);r&&r!==zj&&pW(e,r,n)}var i=nne(t);Nj&&(i=i.concat(Nj(t)));for(var o=Lj(e),s=Lj(t),a=0;a<i.length;++a){var f=i[a];if(!Qte[f]&&!(n&&n[f])&&!(s&&s[f])&&!(o&&o[f])){var h=rne(t,f);try{tne(e,f,h)}catch{}}}}return e}var one=pW;const jj=tr(one);var mW={exports:{}},gr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d$=Symbol.for("react.element"),f$=Symbol.for("react.portal"),A2=Symbol.for("react.fragment"),M2=Symbol.for("react.strict_mode"),I2=Symbol.for("react.profiler"),$2=Symbol.for("react.provider"),R2=Symbol.for("react.context"),ane=Symbol.for("react.server_context"),D2=Symbol.for("react.forward_ref"),L2=Symbol.for("react.suspense"),N2=Symbol.for("react.suspense_list"),z2=Symbol.for("react.memo"),j2=Symbol.for("react.lazy"),sne=Symbol.for("react.offscreen"),gW;gW=Symbol.for("react.module.reference");function js(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case d$:switch(e=e.type,e){case A2:case I2:case M2:case L2:case N2:return e;default:switch(e=e&&e.$$typeof,e){case ane:case R2:case D2:case j2:case z2:case $2:return e;default:return t}}case f$:return t}}}gr.ContextConsumer=R2;gr.ContextProvider=$2;gr.Element=d$;gr.ForwardRef=D2;gr.Fragment=A2;gr.Lazy=j2;gr.Memo=z2;gr.Portal=f$;gr.Profiler=I2;gr.StrictMode=M2;gr.Suspense=L2;gr.SuspenseList=N2;gr.isAsyncMode=function(){return!1};gr.isConcurrentMode=function(){return!1};gr.isContextConsumer=function(e){return js(e)===R2};gr.isContextProvider=function(e){return js(e)===$2};gr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===d$};gr.isForwardRef=function(e){return js(e)===D2};gr.isFragment=function(e){return js(e)===A2};gr.isLazy=function(e){return js(e)===j2};gr.isMemo=function(e){return js(e)===z2};gr.isPortal=function(e){return js(e)===f$};gr.isProfiler=function(e){return js(e)===I2};gr.isStrictMode=function(e){return js(e)===M2};gr.isSuspense=function(e){return js(e)===L2};gr.isSuspenseList=function(e){return js(e)===N2};gr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===A2||e===I2||e===M2||e===L2||e===N2||e===sne||typeof e=="object"&&e!==null&&(e.$$typeof===j2||e.$$typeof===z2||e.$$typeof===$2||e.$$typeof===R2||e.$$typeof===D2||e.$$typeof===gW||e.getModuleId!==void 0)};gr.typeOf=js;mW.exports=gr;var lne=mW.exports;const cne=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function une(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let a=!1,f,h,g,v,x;function k(A,P){return f=A,h=P,g=e(f,h),v=t(r,h),x=n(g,v,h),a=!0,x}function O(){return g=e(f,h),t.dependsOnOwnProps&&(v=t(r,h)),x=n(g,v,h),x}function C(){return e.dependsOnOwnProps&&(g=e(f,h)),t.dependsOnOwnProps&&(v=t(r,h)),x=n(g,v,h),x}function M(){const A=e(f,h),P=!s(A,g);return g=A,P&&(x=n(g,v,h)),x}function I(A,P){const $=!o(P,h),z=!i(A,f,P,h);return f=A,h=P,$&&z?O():$?C():z?M():x}return function(P,$){return a?I(P,$):k(P,$)}}function dne(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:i}=t,o=yt(t,cne);const s=n(e,o),a=r(e,o),f=i(e,o);return une(s,a,f,e,o)}function fne(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...o)=>t(i(...o)))}return n}function JO(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function Bj(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function yW(e,t){return function(r,{displayName:i}){const o=function(a,f){return o.dependsOnOwnProps?o.mapToProps(a,f):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,f){o.mapToProps=e,o.dependsOnOwnProps=Bj(e);let h=o(a,f);return typeof h=="function"&&(o.mapToProps=h,o.dependsOnOwnProps=Bj(h),h=o(a,f)),h},o}}function h$(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function hne(e){return e&&typeof e=="object"?JO(t=>fne(e,t)):e?typeof e=="function"?yW(e):h$(e,"mapDispatchToProps"):JO(t=>({dispatch:t}))}function pne(e){return e?typeof e=="function"?yW(e):h$(e,"mapStateToProps"):JO(()=>({}))}function mne(e,t,n){return te({},n,e,t)}function gne(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let o=!1,s;return function(f,h,g){const v=e(f,h,g);return o?i(v,s)||(s=v):(o=!0,s=v),s}}}function yne(e){return e?typeof e=="function"?gne(e):h$(e,"mergeProps"):()=>mne}function vne(){const e=Fte();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const Fj={notify(){},get:()=>[]};function vW(e,t){let n,r=Fj,i=0,o=!1;function s(C){g();const M=r.subscribe(C);let I=!1;return()=>{I||(I=!0,M(),v())}}function a(){r.notify()}function f(){O.onStateChange&&O.onStateChange()}function h(){return o}function g(){i++,n||(n=t?t.addNestedSub(f):e.subscribe(f),r=vne())}function v(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Fj)}function x(){o||(o=!0,g())}function k(){o&&(o=!1,v())}const O={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:f,isSubscribed:h,trySubscribe:x,tryUnsubscribe:k,getListeners:()=>r};return O}const bne=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kw=bne?V.useLayoutEffect:V.useEffect;function Uj(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function bk(e,t){if(Uj(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Uj(e[n[i]],t[n[i]]))return!1;return!0}const xne=["reactReduxForwardedRef"];let bW=cW;const _ne=e=>{bW=e},wne=[null,null];function Sne(e,t,n){kw(()=>e(...t),n)}function Ene(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function Cne(e,t,n,r,i,o,s,a,f,h,g){if(!e)return()=>{};let v=!1,x=null;const k=()=>{if(v||!a.current)return;const C=t.getState();let M,I;try{M=r(C,i.current)}catch(A){I=A,x=A}I||(x=null),M===o.current?s.current||h():(o.current=M,f.current=M,s.current=!0,g())};return n.onStateChange=k,n.trySubscribe(),k(),()=>{if(v=!0,n.tryUnsubscribe(),n.onStateChange=null,x)throw x}}function Tne(e,t){return e===t}function kne(e,t,n,{pure:r,areStatesEqual:i=Tne,areOwnPropsEqual:o=bk,areStatePropsEqual:s=bk,areMergedPropsEqual:a=bk,forwardRef:f=!1,context:h=tu}={}){const g=h,v=pne(e),x=hne(t),k=yne(n),O=!!e;return M=>{const I=M.displayName||M.name||"Component",A=`Connect(${I})`,P={shouldHandleStateChanges:O,displayName:A,wrappedComponentName:I,WrappedComponent:M,initMapStateToProps:v,initMapDispatchToProps:x,initMergeProps:k,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:a};function $(F){const[G,J,ee]=V.useMemo(()=>{const{reactReduxForwardedRef:Ve}=F,Et=yt(F,xne);return[F.context,Ve,Et]},[F]),ae=V.useMemo(()=>G&&G.Consumer&&lne.isContextConsumer(V.createElement(G.Consumer,null))?G:g,[G,g]),pe=V.useContext(ae),ye=!!F.store&&!!F.store.getState&&!!F.store.dispatch,we=!!pe&&!!pe.store,Ee=ye?F.store:pe.store,Oe=we?pe.getServerState:Ee.getState,Ce=V.useMemo(()=>dne(Ee.dispatch,P),[Ee]),[Se,De]=V.useMemo(()=>{if(!O)return wne;const Ve=vW(Ee,ye?void 0:pe.subscription),Et=Ve.notifyNestedSubs.bind(Ve);return[Ve,Et]},[Ee,ye,pe]),We=V.useMemo(()=>ye?pe:te({},pe,{subscription:Se}),[ye,pe,Se]),dt=V.useRef(),ht=V.useRef(ee),Je=V.useRef(),it=V.useRef(!1);V.useRef(!1);const Ot=V.useRef(!1),ot=V.useRef();kw(()=>(Ot.current=!0,()=>{Ot.current=!1}),[]);const Gt=V.useMemo(()=>()=>Je.current&&ee===ht.current?Je.current:Ce(Ee.getState(),ee),[Ee,ee]),Ht=V.useMemo(()=>Et=>Se?Cne(O,Ee,Se,Ce,ht,dt,it,Ot,Je,De,Et):()=>{},[Se]);Sne(Ene,[ht,dt,it,ee,Je,De]);let Ge;try{Ge=bW(Ht,Gt,Oe?()=>Ce(Oe(),ee):Gt)}catch(Ve){throw ot.current&&(Ve.message+=`
The error may be correlated with this previous error:
${ot.current.stack}

`),Ve}kw(()=>{ot.current=void 0,Je.current=void 0,dt.current=Ge});const vt=V.useMemo(()=>V.createElement(M,te({},Ge,{ref:J})),[J,M,Ge]);return V.useMemo(()=>O?V.createElement(ae.Provider,{value:We},vt):vt,[ae,vt,We])}const N=V.memo($);if(N.WrappedComponent=M,N.displayName=$.displayName=A,f){const G=V.forwardRef(function(ee,ae){return V.createElement(N,te({},ee,{reactReduxForwardedRef:ae}))});return G.displayName=A,G.WrappedComponent=M,jj(G,M)}return jj(N,M)}}function Pne({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",noopCheck:o="once"}){const s=V.useMemo(()=>{const h=vW(e);return{store:e,subscription:h,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:o}},[e,r,i,o]),a=V.useMemo(()=>e.getState(),[e]);kw(()=>{const{subscription:h}=s;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),a!==e.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[s,a]);const f=t||tu;return V.createElement(f.Provider,{value:s},n)}function xW(e=tu){const t=e===tu?lW:o$(e);return function(){const{store:r}=t();return r}}const One=xW();function Ane(e=tu){const t=e===tu?One:xW(e);return function(){return t().dispatch}}const wl=Ane();Vte(zte.useSyncExternalStoreWithSelector);_ne(iW.useSyncExternalStore);Bte(lc.unstable_batchedUpdates);function cl(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Pd(e){return!!e&&!!e[Hr]}function nu(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===jne}(e)||Array.isArray(e)||!!e[Kj]||!!(!((t=e.constructor)===null||t===void 0)&&t[Kj])||p$(e)||m$(e))}function ch(e,t,n){n===void 0&&(n=!1),Tg(e)===0?(n?Object.keys:xm)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Tg(e){var t=e[Hr];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:p$(e)?2:m$(e)?3:0}function bm(e,t){return Tg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Mne(e,t){return Tg(e)===2?e.get(t):e[t]}function _W(e,t,n){var r=Tg(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function wW(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function p$(e){return Nne&&e instanceof Map}function m$(e){return zne&&e instanceof Set}function Tf(e){return e.o||e.t}function g$(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=EW(e);delete t[Hr];for(var n=xm(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function y$(e,t){return t===void 0&&(t=!1),v$(e)||Pd(e)||!nu(e)||(Tg(e)>1&&(e.set=e.add=e.clear=e.delete=Ine),Object.freeze(e),t&&ch(e,function(n,r){return y$(r,!0)},!0)),e}function Ine(){cl(2)}function v$(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Xl(e){var t=nA[e];return t||cl(18,e),t}function $ne(e,t){nA[e]||(nA[e]=t)}function QO(){return K0}function xk(e,t){t&&(Xl("Patches"),e.u=[],e.s=[],e.v=t)}function Pw(e){eA(e),e.p.forEach(Rne),e.p=null}function eA(e){e===K0&&(K0=e.l)}function Vj(e){return K0={p:[],l:K0,h:e,m:!0,_:0}}function Rne(e){var t=e[Hr];t.i===0||t.i===1?t.j():t.g=!0}function _k(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Xl("ES5").S(t,e,r),r?(n[Hr].P&&(Pw(t),cl(4)),nu(e)&&(e=Ow(t,e),t.l||Aw(t,e)),t.u&&Xl("Patches").M(n[Hr].t,e,t.u,t.s)):e=Ow(t,n,[]),Pw(t),t.u&&t.v(t.u,t.s),e!==SW?e:void 0}function Ow(e,t,n){if(v$(t))return t;var r=t[Hr];if(!r)return ch(t,function(a,f){return Wj(e,r,t,a,f,n)},!0),t;if(r.A!==e)return t;if(!r.P)return Aw(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=g$(r.k):r.o,o=i,s=!1;r.i===3&&(o=new Set(i),i.clear(),s=!0),ch(o,function(a,f){return Wj(e,r,i,a,f,n,s)}),Aw(e,i,!1),n&&e.u&&Xl("Patches").N(r,n,e.u,e.s)}return r.o}function Wj(e,t,n,r,i,o,s){if(Pd(i)){var a=Ow(e,i,o&&t&&t.i!==3&&!bm(t.R,r)?o.concat(r):void 0);if(_W(n,r,a),!Pd(a))return;e.m=!1}else s&&n.add(i);if(nu(i)&&!v$(i)){if(!e.h.D&&e._<1)return;Ow(e,i),t&&t.A.l||Aw(e,i)}}function Aw(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&y$(t,n)}function wk(e,t){var n=e[Hr];return(n?Tf(n):e)[t]}function qj(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function td(e){e.P||(e.P=!0,e.l&&td(e.l))}function Sk(e){e.o||(e.o=g$(e.t))}function tA(e,t,n){var r=p$(t)?Xl("MapSet").F(t,n):m$(t)?Xl("MapSet").T(t,n):e.O?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:QO(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},f=a,h=Z0;s&&(f=[a],h=Yv);var g=Proxy.revocable(f,h),v=g.revoke,x=g.proxy;return a.k=x,a.j=v,x}(t,n):Xl("ES5").J(t,n);return(n?n.A:QO()).p.push(r),r}function Dne(e){return Pd(e)||cl(22,e),function t(n){if(!nu(n))return n;var r,i=n[Hr],o=Tg(n);if(i){if(!i.P&&(i.i<4||!Xl("ES5").K(i)))return i.t;i.I=!0,r=Gj(n,o),i.I=!1}else r=Gj(n,o);return ch(r,function(s,a){i&&Mne(i.t,s)===a||_W(r,s,t(a))}),o===3?new Set(r):r}(e)}function Gj(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return g$(e)}function Lne(){function e(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var f=this[Hr];return Z0.get(f,o)},set:function(f){var h=this[Hr];Z0.set(h,o,f)}},a}function t(o){for(var s=o.length-1;s>=0;s--){var a=o[s][Hr];if(!a.P)switch(a.i){case 5:r(a)&&td(a);break;case 4:n(a)&&td(a)}}}function n(o){for(var s=o.t,a=o.k,f=xm(a),h=f.length-1;h>=0;h--){var g=f[h];if(g!==Hr){var v=s[g];if(v===void 0&&!bm(s,g))return!0;var x=a[g],k=x&&x[Hr];if(k?k.t!==v:!wW(x,v))return!0}}var O=!!s[Hr];return f.length!==xm(s).length+(O?0:1)}function r(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var f=0;f<s.length;f++)if(!s.hasOwnProperty(f))return!0;return!1}var i={};$ne("ES5",{J:function(o,s){var a=Array.isArray(o),f=function(g,v){if(g){for(var x=Array(v.length),k=0;k<v.length;k++)Object.defineProperty(x,""+k,e(k,!0));return x}var O=EW(v);delete O[Hr];for(var C=xm(O),M=0;M<C.length;M++){var I=C[M];O[I]=e(I,g||!!O[I].enumerable)}return Object.create(Object.getPrototypeOf(v),O)}(a,o),h={i:a?5:4,A:s?s.A:QO(),P:!1,I:!1,R:{},l:s,t:o,k:f,o:null,g:!1,C:!1};return Object.defineProperty(f,Hr,{value:h,writable:!0}),f},S:function(o,s,a){a?Pd(s)&&s[Hr].A===o&&t(o.p):(o.u&&function f(h){if(h&&typeof h=="object"){var g=h[Hr];if(g){var v=g.t,x=g.k,k=g.R,O=g.i;if(O===4)ch(x,function(P){P!==Hr&&(v[P]!==void 0||bm(v,P)?k[P]||f(x[P]):(k[P]=!0,td(g)))}),ch(v,function(P){x[P]!==void 0||bm(x,P)||(k[P]=!1,td(g))});else if(O===5){if(r(g)&&(td(g),k.length=!0),x.length<v.length)for(var C=x.length;C<v.length;C++)k[C]=!1;else for(var M=v.length;M<x.length;M++)k[M]=!0;for(var I=Math.min(x.length,v.length),A=0;A<I;A++)x.hasOwnProperty(A)||(k[A]=!0),k[A]===void 0&&f(x[A])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var Hj,K0,b$=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Nne=typeof Map<"u",zne=typeof Set<"u",Yj=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",SW=b$?Symbol.for("immer-nothing"):((Hj={})["immer-nothing"]=!0,Hj),Kj=b$?Symbol.for("immer-draftable"):"__$immer_draftable",Hr=b$?Symbol.for("immer-state"):"__$immer_state",jne=""+Object.prototype.constructor,xm=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,EW=Object.getOwnPropertyDescriptors||function(e){var t={};return xm(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},nA={},Z0={get:function(e,t){if(t===Hr)return e;var n=Tf(e);if(!bm(n,t))return function(i,o,s){var a,f=qj(o,s);return f?"value"in f?f.value:(a=f.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!nu(r)?r:r===wk(e.t,t)?(Sk(e),e.o[t]=tA(e.A.h,r,e)):r},has:function(e,t){return t in Tf(e)},ownKeys:function(e){return Reflect.ownKeys(Tf(e))},set:function(e,t,n){var r=qj(Tf(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=wk(Tf(e),t),o=i==null?void 0:i[Hr];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(wW(n,i)&&(n!==void 0||bm(e.t,t)))return!0;Sk(e),td(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return wk(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,Sk(e),td(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Tf(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){cl(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){cl(12)}},Yv={};ch(Z0,function(e,t){Yv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Yv.deleteProperty=function(e,t){return Yv.set.call(this,e,t,void 0)},Yv.set=function(e,t,n){return Z0.set.call(this,e[0],t,n,e[0])};var Bne=function(){function e(n){var r=this;this.O=Yj,this.D=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var f=r;return function(C){var M=this;C===void 0&&(C=a);for(var I=arguments.length,A=Array(I>1?I-1:0),P=1;P<I;P++)A[P-1]=arguments[P];return f.produce(C,function($){var z;return(z=o).call.apply(z,[M,$].concat(A))})}}var h;if(typeof o!="function"&&cl(6),s!==void 0&&typeof s!="function"&&cl(7),nu(i)){var g=Vj(r),v=tA(r,i,void 0),x=!0;try{h=o(v),x=!1}finally{x?Pw(g):eA(g)}return typeof Promise<"u"&&h instanceof Promise?h.then(function(C){return xk(g,s),_k(C,g)},function(C){throw Pw(g),C}):(xk(g,s),_k(h,g))}if(!i||typeof i!="object"){if((h=o(i))===void 0&&(h=i),h===SW&&(h=void 0),r.D&&y$(h,!0),s){var k=[],O=[];Xl("Patches").M(i,h,k,O),s(k,O)}return h}cl(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(h){for(var g=arguments.length,v=Array(g>1?g-1:0),x=1;x<g;x++)v[x-1]=arguments[x];return r.produceWithPatches(h,function(k){return i.apply(void 0,[k].concat(v))})};var s,a,f=r.produce(i,o,function(h,g){s=h,a=g});return typeof Promise<"u"&&f instanceof Promise?f.then(function(h){return[h,s,a]}):[f,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){nu(n)||cl(8),Pd(n)&&(n=Dne(n));var r=Vj(this),i=tA(this,n,void 0);return i[Hr].C=!0,eA(r),i},t.finishDraft=function(n,r){var i=n&&n[Hr],o=i.A;return xk(o,r),_k(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!Yj&&cl(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=Xl("Patches").$;return Pd(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e}(),Xa=new Bne,CW=Xa.produce;Xa.produceWithPatches.bind(Xa);Xa.setAutoFreeze.bind(Xa);Xa.setUseProxies.bind(Xa);Xa.applyPatches.bind(Xa);Xa.createDraft.bind(Xa);Xa.finishDraft.bind(Xa);function X0(e){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X0(e)}function Fne(e,t){if(X0(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(X0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TW(e){var t=Fne(e,"string");return X0(t)==="symbol"?t:String(t)}function Une(e,t,n){return t=TW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(n),!0).forEach(function(r){Une(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ro(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Jj=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Ek=function(){return Math.random().toString(36).substring(7).split("").join(".")},Mw={INIT:"@@redux/INIT"+Ek(),REPLACE:"@@redux/REPLACE"+Ek(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ek()}};function Vne(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function kW(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ro(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ro(1));return n(kW)(e,t)}if(typeof e!="function")throw new Error(Ro(2));var i=e,o=t,s=[],a=s,f=!1;function h(){a===s&&(a=s.slice())}function g(){if(f)throw new Error(Ro(3));return o}function v(C){if(typeof C!="function")throw new Error(Ro(4));if(f)throw new Error(Ro(5));var M=!0;return h(),a.push(C),function(){if(M){if(f)throw new Error(Ro(6));M=!1,h();var A=a.indexOf(C);a.splice(A,1),s=null}}}function x(C){if(!Vne(C))throw new Error(Ro(7));if(typeof C.type>"u")throw new Error(Ro(8));if(f)throw new Error(Ro(9));try{f=!0,o=i(o,C)}finally{f=!1}for(var M=s=a,I=0;I<M.length;I++){var A=M[I];A()}return C}function k(C){if(typeof C!="function")throw new Error(Ro(10));i=C,x({type:Mw.REPLACE})}function O(){var C,M=v;return C={subscribe:function(A){if(typeof A!="object"||A===null)throw new Error(Ro(11));function P(){A.next&&A.next(g())}P();var $=M(P);return{unsubscribe:$}}},C[Jj]=function(){return this},C}return x({type:Mw.INIT}),r={dispatch:x,subscribe:v,getState:g,replaceReducer:k},r[Jj]=O,r}function Wne(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:Mw.INIT});if(typeof r>"u")throw new Error(Ro(12));if(typeof n(void 0,{type:Mw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ro(13))})}function PW(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var o=Object.keys(n),s;try{Wne(n)}catch(a){s=a}return function(f,h){if(f===void 0&&(f={}),s)throw s;for(var g=!1,v={},x=0;x<o.length;x++){var k=o[x],O=n[k],C=f[k],M=O(C,h);if(typeof M>"u")throw h&&h.type,new Error(Ro(14));v[k]=M,g=g||M!==C}return g=g||o.length!==Object.keys(f).length,g?v:f}}function Iw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function qne(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(Ro(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(f){return f(s)});return o=Iw.apply(void 0,a)(i.dispatch),Xj(Xj({},i),{},{dispatch:o})}}}function OW(e){var t=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,e):s(a)}}};return t}var AW=OW();AW.withExtraArgument=OW;const Qj=AW;var MW=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gne=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(h){return function(g){return f([h,g])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){n.label=h[1];break}if(h[0]===6&&n.label<o[1]){n.label=o[1],o=h;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(h);break}o[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(g){h=[6,g],i=0}finally{r=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Fm=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Hne=Object.defineProperty,Yne=Object.defineProperties,Kne=Object.getOwnPropertyDescriptors,e5=Object.getOwnPropertySymbols,Zne=Object.prototype.hasOwnProperty,Xne=Object.prototype.propertyIsEnumerable,t5=function(e,t,n){return t in e?Hne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},vd=function(e,t){for(var n in t||(t={}))Zne.call(t,n)&&t5(e,n,t[n]);if(e5)for(var r=0,i=e5(t);r<i.length;r++){var n=i[r];Xne.call(t,n)&&t5(e,n,t[n])}return e},Ck=function(e,t){return Yne(e,Kne(t))},Jne=function(e,t,n){return new Promise(function(r,i){var o=function(f){try{a(n.next(f))}catch(h){i(h)}},s=function(f){try{a(n.throw(f))}catch(h){i(h)}},a=function(f){return f.done?r(f.value):Promise.resolve(f.value).then(o,s)};a((n=n.apply(e,t)).next())})},Qne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Iw:Iw.apply(null,arguments)};function ere(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}function bd(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var o=t.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return vd(vd({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}var tre=function(e){MW(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Fm([void 0],n[0].concat(this)))):new(t.bind.apply(t,Fm([void 0],n.concat(this))))},t}(Array),nre=function(e){MW(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Fm([void 0],n[0].concat(this)))):new(t.bind.apply(t,Fm([void 0],n.concat(this))))},t}(Array);function rA(e){return nu(e)?CW(e,function(){}):e}function rre(e){return typeof e=="boolean"}function ire(){return function(t){return ore(t)}}function ore(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new tre;return n&&(rre(n)?r.push(Qj):r.push(Qj.withExtraArgument(n.extraArgument))),r}var are=!0;function sre(e){var t=ire(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,o=n.middleware,s=o===void 0?t():o,a=n.devTools,f=a===void 0?!0:a,h=n.preloadedState,g=h===void 0?void 0:h,v=n.enhancers,x=v===void 0?void 0:v,k;if(typeof i=="function")k=i;else if(ere(i))k=PW(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var O=s;typeof O=="function"&&(O=O(t));var C=qne.apply(void 0,O),M=Iw;f&&(M=Qne(vd({trace:!are},typeof f=="object"&&f)));var I=new nre(C),A=I;Array.isArray(x)?A=Fm([C],x):typeof x=="function"&&(A=x(I));var P=M.apply(void 0,A);return kW(k,g,P)}function IW(e){var t={},n=[],r,i={addCase:function(o,s){var a=typeof o=="string"?o:o.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=s,i},addMatcher:function(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return r=o,i}};return e(i),[t,n,r]}function lre(e){return typeof e=="function"}function cre(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?IW(t):[t,n,r],o=i[0],s=i[1],a=i[2],f;if(lre(e))f=function(){return rA(e())};else{var h=rA(e);f=function(){return h}}function g(v,x){v===void 0&&(v=f());var k=Fm([o[x.type]],s.filter(function(O){var C=O.matcher;return C(x)}).map(function(O){var C=O.reducer;return C}));return k.filter(function(O){return!!O}).length===0&&(k=[a]),k.reduce(function(O,C){if(C)if(Pd(O)){var M=O,I=C(M,x);return I===void 0?O:I}else{if(nu(O))return CW(O,function(A){return C(A,x)});var I=C(O,x);if(I===void 0){if(O===null)return O;throw Error("A case reducer on a non-draftable value must not return undefined")}return I}return O},v)}return g.getInitialState=f,g}function ure(e,t){return e+"/"+t}function kg(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:rA(e.initialState),r=e.reducers||{},i=Object.keys(r),o={},s={},a={};i.forEach(function(g){var v=r[g],x=ure(t,g),k,O;"reducer"in v?(k=v.reducer,O=v.prepare):k=v,o[g]=k,s[x]=k,a[g]=O?bd(x,O):bd(x)});function f(){var g=typeof e.extraReducers=="function"?IW(e.extraReducers):[e.extraReducers],v=g[0],x=v===void 0?{}:v,k=g[1],O=k===void 0?[]:k,C=g[2],M=C===void 0?void 0:C,I=vd(vd({},x),s);return cre(n,function(A){for(var P in I)A.addCase(P,I[P]);for(var $=0,z=O;$<z.length;$++){var N=z[$];A.addMatcher(N.matcher,N.reducer)}M&&A.addDefaultCase(M)})}var h;return{name:t,reducer:function(g,v){return h||(h=f()),h(g,v)},actions:a,caseReducers:o,getInitialState:function(){return h||(h=f()),h.getInitialState()}}}var dre="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",fre=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=dre[Math.random()*64|0];return t},hre=["name","message","stack","code"],Tk=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),n5=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),pre=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=hre;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=bd(t+"/fulfilled",function(h,g,v,x){return{payload:h,meta:Ck(vd({},x||{}),{arg:v,requestId:g,requestStatus:"fulfilled"})}}),o=bd(t+"/pending",function(h,g,v){return{payload:void 0,meta:Ck(vd({},v||{}),{arg:g,requestId:h,requestStatus:"pending"})}}),s=bd(t+"/rejected",function(h,g,v,x,k){return{payload:x,error:(r&&r.serializeError||pre)(h||"Rejected"),meta:Ck(vd({},k||{}),{arg:v,requestId:g,rejectedWithValue:!!x,requestStatus:"rejected",aborted:(h==null?void 0:h.name)==="AbortError",condition:(h==null?void 0:h.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function h(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return h.prototype.abort=function(){},h}();function f(h){return function(g,v,x){var k=r!=null&&r.idGenerator?r.idGenerator(h):fre(),O=new a,C;function M(A){C=A,O.abort()}var I=function(){return Jne(this,null,function(){var A,P,$,z,N,F,G;return Gne(this,function(J){switch(J.label){case 0:return J.trys.push([0,4,,5]),z=(A=r==null?void 0:r.condition)==null?void 0:A.call(r,h,{getState:v,extra:x}),gre(z)?[4,z]:[3,2];case 1:z=J.sent(),J.label=2;case 2:if(z===!1||O.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return N=new Promise(function(ee,ae){return O.signal.addEventListener("abort",function(){return ae({name:"AbortError",message:C||"Aborted"})})}),g(o(k,h,(P=r==null?void 0:r.getPendingMeta)==null?void 0:P.call(r,{requestId:k,arg:h},{getState:v,extra:x}))),[4,Promise.race([N,Promise.resolve(n(h,{dispatch:g,getState:v,extra:x,requestId:k,signal:O.signal,abort:M,rejectWithValue:function(ee,ae){return new Tk(ee,ae)},fulfillWithValue:function(ee,ae){return new n5(ee,ae)}})).then(function(ee){if(ee instanceof Tk)throw ee;return ee instanceof n5?i(ee.payload,k,h,ee.meta):i(ee,k,h)})])];case 3:return $=J.sent(),[3,5];case 4:return F=J.sent(),$=F instanceof Tk?s(null,k,h,F.payload,F.meta):s(F,k,h),[3,5];case 5:return G=r&&!r.dispatchConditionRejection&&s.match($)&&$.meta.condition,G||g($),[2,$]}})})}();return Object.assign(I,{abort:M,requestId:k,arg:h,unwrap:function(){return I.then(mre)}})}}return Object.assign(f,{pending:o,rejected:s,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function mre(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function gre(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var x$="listenerMiddleware";bd(x$+"/add");bd(x$+"/removeAll");bd(x$+"/remove");var r5;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);Lne();const{reducer:yre,actions:$W}=kg({name:"errors",initialState:{errors:[]},reducers:{push(e,t){e.errors.push(t.payload)},pop(e){e.errors.length&&e.errors.shift()}}}),{reducer:vre,actions:ul}=kg({name:"devices",initialState:{items:{},selectedId:null,selectedIds:[]},reducers:{refresh(e,t){console.log(t.payload),e.items={},t.payload.forEach(n=>e.items[n.id]=n)},update1(e,t){e.items[t.payload.id]=t.payload},update(e,t){t.payload.forEach(n=>e.items[n.id]=n)},select(e,t){e.selectedId=t.payload},selectId(e,t){e.selectedId=t.payload,e.selectedIds=[e.selectedId]},selectIds(e,t){e.selectedIds=t.payload,[e.selectedId]=e.selectedIds},remove(e,t){delete e.items[t.payload]},clear(e,t){e.items={}}}}),{reducer:bre,actions:kk}=kg({name:"data",initialState:{server:null,user:null,socket:null,camera:{},positions:{},history:{}},reducers:{updateServer(e,t){e.server=t.payload},updateUser(e,t){e.user=t.payload},updateSocket(e,t){e.socket=t.payload},updatePositions(e,t){Object.keys(t.payload).length>0&&t.payload.forEach(n=>{e.positions[n.deviceId]=n,e.history={}})},updatePosition(e,t){e.positions[t.payload.deviceId]===void 0&&(e.positions[t.payload.deviceId]={attributes:{}}),t.payload.hasOwnProperty("latitude")&&(e.positions[t.payload.deviceId].id=t.payload.id,e.positions[t.payload.deviceId].deviceId=t.payload.deviceId,e.positions[t.payload.deviceId].latitude=t.payload.latitude,e.positions[t.payload.deviceId].longitude=t.payload.longitude,e.positions[t.payload.deviceId].altitude=t.payload.altitude,e.positions[t.payload.deviceId].deviceTime=t.payload.deviceTime),t.payload.hasOwnProperty("course")&&(e.positions[t.payload.deviceId].course=t.payload.course),t.payload.hasOwnProperty("speed")&&(e.positions[t.payload.deviceId].speed=t.payload.speed),t.payload.hasOwnProperty("batteryLevel")&&(e.positions[t.payload.deviceId].attributes.batteryLevel=t.payload.batteryLevel)},updateCamera(e,t){Object.keys(t.payload).length>0&&t.payload.forEach(n=>{e.camera[n.deviceId]=n})}}}),xre=e=>{let t=[];console.log("version 3"),console.log("longitud"+e.length);for(let n=0;n<e.length;n++){console.log("uav - "+n),t[n]={},e[n].hasOwnProperty("uav")&&(t[n].uav=e[n].uav),t[n].id=n,t[n].name=e[n].name,t[n].wp=[],t[n].attributes={};for(let r=0;r<e[n].wp.length;r++)t[n].wp[r]={},t[n].wp[r].pos=e[n].wp[r].pos,t[n].wp[r].yaw=e[n].wp[r].yaw,t[n].wp[r].gimbal=e[n].wp[r].gimbal,e[n].wp[r].hasOwnProperty("speed")&&(t[n].wp[r].speed=e[n].wp[r].speed),e[n].wp[r].hasOwnProperty("action")&&(t[n].wp[r].action=e[n].wp[r].action);e[n].hasOwnProperty("attributes")?(console.log("have atribute"),e[n].attributes.hasOwnProperty("mode_landing")&&(console.log("have modelanding"+n),t[n].attributes.mode_landing=e[n].attributes.mode_landing),e[n].attributes.hasOwnProperty("mode_yaw")&&(t[n].attributes.mode_yaw=e[n].attributes.mode_yaw),e[n].attributes.hasOwnProperty("mode_gimbal")&&(t[n].attributes.mode_gimbal=e[n].attributes.mode_gimbal),e[n].attributes.hasOwnProperty("mode_trace")&&(t[n].attributes.mode_trace=e[n].attributes.mode_trace),e[n].attributes.hasOwnProperty("idle_vel")&&(t[n].attributes.idle_vel=e[n].attributes.idle_vel),e[n].attributes.hasOwnProperty("max_vel")&&(t[n].attributes.max_vel=e[n].attributes.max_vel)):(e[n].hasOwnProperty("mode_landing")&&(console.log("have modelanding"+n),t[n].attributes.mode_landing=e[n].mode_landing),e[n].hasOwnProperty("mode_yaw")&&(t[n].attributes.mode_yaw=e[n].mode_yaw),e[n].hasOwnProperty("mode_gimbal")&&(t[n].attributes.mode_gimbal=e[n].mode_gimbal),e[n].hasOwnProperty("mode_trace")&&(t[n].attributes.mode_trace=e[n].mode_trace),e[n].hasOwnProperty("idle_vel")&&(t[n].attributes.idle_vel=e[n].idle_vel),e[n].hasOwnProperty("max_vel")&&(t[n].attributes.max_vel=e[n].max_vel))}return console.log("-------------------"),console.log(t),t},_re=e=>{let t=[];console.log("mission < 3");for(let n=1;n<=e.uav_n;n++)if(e.hasOwnProperty("uav_"+n)){let r=n-1;console.log("uav - "+r),t[r]={},t[r].id=r,t[r].uav="uav_"+n,t[r].name="uav_"+n,t[r].wp=[],t[r].attributes={};for(let i=0;i<e["uav_"+n].wp_n;i++)t[r].wp[i]={},e["uav_"+n]["wp_"+i].length==3?(t[r].wp[i].yaw=0,t[r].wp[i].pos=e["uav_"+n]["wp_"+i]):(t[r].wp[i].yaw=e["uav_"+n]["wp_"+i][3],t[r].wp[i].pos=e["uav_"+n]["wp_"+i].slice(0,-1));e.hasOwnProperty("mode_landing")&&(t[r].attributes.mode_landing=e.mode_landing),e.hasOwnProperty("mode_yaw")&&(t[r].attributes.mode_yaw=e.mode_yaw),e.hasOwnProperty("idle_vel")&&(t[r].attributes.idle_vel=e.idle_vel),e["uav_"+n].hasOwnProperty("attributes")?(e["uav_"+n].attributes.hasOwnProperty("mode_landing")&&(console.log("have modelanding"+n),t[r].attributes.mode_landing=e["uav_"+n].attributes.mode_landing),e["uav_"+n].attributes.hasOwnProperty("mode_yaw")&&(t[r].attributes.mode_yaw=e["uav_"+n].attributes.mode_yaw),e["uav_"+n].attributes.hasOwnProperty("idle_vel")&&(t[r].attributes.idle_vel=e["uav_"+n].attributes.idle_vel),e["uav_"+n].attributes.hasOwnProperty("max_vel")&&(t[n].attributes.max_vel=e["uav_"+n].attributes.max_vel)):(e["uav_"+n].hasOwnProperty("mode_landing")&&(t[r].attributes.mode_landing=e["uav_"+n].mode_landing),e["uav_"+n].hasOwnProperty("mode_yaw")&&(t[r].attributes.mode_yaw=e["uav_"+n].mode_yaw),e["uav_"+n].hasOwnProperty("idle_vel")&&(t[r].attributes.idle_vel=e["uav_"+n].idle_vel))}return console.log("-----------   legacy   --------"),console.log(t),t},{reducer:wre,actions:Hl}=kg({name:"mission",initialState:{name:"Mission no loaded",description:"",home:[0,0],route:[],attributes:{},selectpoint:{id:-1}},reducers:{updateWpPos(e,t){t.payload.route_id>=0&&(e.route[t.payload.route_id].wp[t.payload.wp_id].pos[0]=t.payload.lat,e.route[t.payload.route_id].wp[t.payload.wp_id].pos[1]=t.payload.lng)},selectpoint(e,t){console.log("selec point"),e.selectpoint=t.payload},reloadMission(e,t){e.route=t.payload},reloadName(e,t){e.name=t.payload.name,e.description=t.payload.description},updateMission(e,t){if(e.name=t.payload.name,t.payload.mission.version=="3"){let n=0;e.home=t.payload.mission.route[n].wp[0].pos,e.route=xre(t.payload.mission.route)}else{let n=1;e.home=t.payload.mission["uav_"+n].wp_0,e.route=_re(t.payload.mission)}},clearMission(e,t){console.log("clear mission"),e.name="Mission no loaded",e.route=[],e.attributes={}}}}),{reducer:Sre,actions:em}=kg({name:"session",initialState:{server:null,user:null,socket:null,positions:{},history:{},markers:[]},reducers:{updateServer(e,t){e.server=t.payload},updateUser(e,t){e.user=t.payload},updateSocket(e,t){e.socket=t.payload},updatePositions(e,t){const n=e.user.attributes.mapLiveRoutes||e.server.attributes.mapLiveRoutes||"none",r=e.user.attributes["web.liveRouteLength"]||e.user.attributes["web.liveRouteLength"]||10;t.payload.forEach(i=>{if(e.positions[i.deviceId]=i,n!=="none"){const o=e.history[i.deviceId]||[],s=o.at(-1);(!s||s[0]!==i.longitude&&s[1]!==i.latitude)&&(e.history[i.deviceId]=[...o.slice(1-r),[i.longitude,i.latitude]])}else e.history={}})},updateMarker(e,t){e.markers=t.payload},addMarker(e,t){e.markers.push(...t.payload)}}}),{reducer:Ere,actions:Cre}=kg({name:"events",initialState:{items:[]},reducers:{add(e,t){e.items.unshift(...t.payload),e.items.splice(50)},delete(e,t){e.items=e.items.filter(n=>n.id!==t.payload.id)},deleteAll(e){e.items=[]}}}),i5=3,Tre=1500,kre=()=>e=>{const t=[];let n=!1,r=0;return setInterval(()=>{n?(t.length<i5&&(n=!1),lc.unstable_batchedUpdates(()=>t.splice(0,t.length).forEach(i=>e(i)))):(r>i5&&(n=!0),r=0)},Tre),i=>i.type==="devices/update"||i.type==="positions/update"?n?(t.push(i),null):(r+=1,e(i)):e(i)},Pre=PW({errors:yre,devices:vre,data:bre,events:Ere,mission:wre,session:Sre}),Ore=sre({reducer:Pre,middleware:e=>e().concat(kre)}),Are={black:"#000",white:"#fff"},uh=Are,Mre={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Rc=Mre,Ire={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},_p=Ire,$re={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},RW=$re,Rre={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},wp=Rre,Dre={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Sp=Dre,Lre={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},sl=Lre,Nre={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"},_$=Nre,zre={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},hv=zre,jre={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Jl=jre,pv={white:uh.white,background:Jl[50],primary:RW[900],secondary:sl[800],positive:sl[500],medium:_$[700],negative:Rc[500],neutral:Jl[500],geometry:"#3bb2d0"},Bre={background:{default:pv.background},primary:{main:pv.primary},secondary:{main:pv.secondary,contrastText:pv.white},colors:pv};var w$={exports:{}};w$.exports=DW;w$.exports.parse=DW;w$.exports.stringify=LW;var o5=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,a5=new RegExp("^"+o5.source+"(\\s"+o5.source+"){1,}");function DW(e){var t=e.split(";"),n=t.pop(),r=(t.shift()||"").split("=").pop(),i=0;function o(A){var P=n.substring(i).match(A);return P?(i+=P[0].length,P[0]):null}function s(A){return A&&r.match(/\d+/)&&(A.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+r}}),A}function a(){o(/^\s*/)}function f(){a();for(var A=0,P=[],$=[P],z=P,N;N=o(/^(\()/)||o(/^(\))/)||o(/^(,)/)||o(a5);){if(N==="(")$.push(z),z=[],$[$.length-1].push(z),A++;else if(N===")"){if(z.length===0||(z=$.pop(),!z))return null;if(A--,A===0)break}else if(N===",")z=[],$[$.length-1].push(z);else if(!N.split(/\s/g).some(isNaN))Array.prototype.push.apply(z,N.split(/\s/g).map(parseFloat));else return null;a()}return A!==0?null:P}function h(){for(var A=[],P,$;$=o(a5)||o(/^(,)/);)$===","?(A.push(P),P=[]):$.split(/\s/g).some(isNaN)||(P||(P=[]),Array.prototype.push.apply(P,$.split(/\s/g).map(parseFloat))),a();if(P)A.push(P);else return null;return A.length?A:null}function g(){if(!o(/^(point(\sz)?)/i)||(a(),!o(/^(\()/)))return null;var A=h();return!A||(a(),!o(/^(\))/))?null:{type:"Point",coordinates:A[0]}}function v(){if(!o(/^(multipoint)/i))return null;a();var A=n.substring(n.indexOf("(")+1,n.length-1).replace(/\(/g,"").replace(/\)/g,"");n="MULTIPOINT ("+A+")";var P=f();return P?(a(),{type:"MultiPoint",coordinates:P}):null}function x(){if(!o(/^(multilinestring)/i))return null;a();var A=f();return A?(a(),{type:"MultiLineString",coordinates:A}):null}function k(){if(!o(/^(linestring(\sz)?)/i)||(a(),!o(/^(\()/)))return null;var A=h();return!A||!o(/^(\))/)?null:{type:"LineString",coordinates:A}}function O(){if(!o(/^(polygon(\sz)?)/i))return null;a();var A=f();return A?{type:"Polygon",coordinates:A}:null}function C(){if(!o(/^(multipolygon)/i))return null;a();var A=f();return A?{type:"MultiPolygon",coordinates:A}:null}function M(){var A=[],P;if(!o(/^(geometrycollection)/i)||(a(),!o(/^(\()/)))return null;for(;P=I();)A.push(P),a(),o(/^(,)/),a();return o(/^(\))/)?{type:"GeometryCollection",geometries:A}:null}function I(){return g()||k()||O()||v()||x()||C()||M()}return s(I())}function LW(e){e.type==="Feature"&&(e=e.geometry);function t(s){return s.join(" ")}function n(s){return s.map(t).join(", ")}function r(s){return s.map(n).map(o).join(", ")}function i(s){return s.map(r).map(o).join(", ")}function o(s){return"("+s+")"}switch(e.type){case"Point":return"POINT ("+t(e.coordinates)+")";case"LineString":return"LINESTRING ("+n(e.coordinates)+")";case"Polygon":return"POLYGON ("+r(e.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+n(e.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+i(e.coordinates)+")";case"MultiLineString":return"MULTILINESTRING ("+r(e.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+e.geometries.map(LW).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}}const Ep=e=>new Promise(t=>{const n=new Image;n.onload=()=>t(n),n.src=e}),s5=(e,t)=>{const n=document.createElement("canvas");n.width=e.width*devicePixelRatio,n.height=e.height*devicePixelRatio,n.style.width=`${e.width}px`,n.style.height=`${e.height}px`;const r=n.getContext("2d");return r.save(),r.fillStyle=t,r.globalAlpha=1,r.fillRect(0,0,n.width,n.height),r.globalCompositeOperation="destination-atop",r.globalAlpha=1,r.drawImage(e,0,0,n.width,n.height),r.restore(),n},_f=(e,t,n)=>{const r=document.createElement("canvas");r.width=e.width*devicePixelRatio,r.height=e.height*devicePixelRatio,r.style.width=`${e.width}px`,r.style.height=`${e.height}px`;const i=r.getContext("2d");if(i.drawImage(e,0,0,r.width,r.height),t){const s=r.width*.5,a=r.height*.5;i.drawImage(s5(t,n),(r.width-s)/2,(r.height-a)/2,s,a)}else n&&i.drawImage(s5(e,n),0,0,r.width,r.height);return i.getImageData(0,0,r.width,r.height)},Hc=e=>{var s;const t=new Set,{layers:n}=e.getStyle();(s=n==null?void 0:n.forEach)==null||s.call(n,a=>{var f,h,g;(g=(h=(f=a.layout)==null?void 0:f["text-font"])==null?void 0:h.forEach)==null||g.call(h,t.add,t)});const r=[...t],i=r.find(a=>a.includes("Regular"));if(i)return[i];const o=r.find(Boolean);return o?[o]:["Roboto Regular"]},Fre="/assets/background-53c65562.svg",Ure="/assets/direction-2fdacc6e.svg",H_="/assets/plane-4238c02c.svg",Vre="/assets/helicopter-651bc896.svg",Wre="/assets/drone1-b9b242c5.svg",Pk="/assets/drone2-e1a01f63.svg",qre="/assets/drone3-e4211ef1.svg",Gre="/assets/triangle-a6d1e515.svg",Hre="/assets/PowerTower1-88c51b2e.svg",Yre="/assets/Rectangle-1e58e137.svg",Um={0:"#F34C28",1:"#F39A28",2:"#1EC910",3:"#1012C9",4:"#C310C9",5:"#1FDBF1",6:"#F6FD04",7:"#808080"},$w={helicopter:Vre,plane:H_,drone:Wre,dji_M210_noetic:Pk,dji_M210_melodic:Pk,dji_M300:Pk,px4:H_,catec:qre,fuvex:H_,default:H_},NW=e=>$w.hasOwnProperty(e)?e:"default",Gu={},Kre=async()=>{const e=await Ep(Fre);Gu.background=await _f(e),Gu.item=await _f(await Ep(Gre)),Gu.powerTower=await _f(await Ep(Hre)),Gu.base=await _f(await Ep(Yre)),Gu.direction=await _f(await Ep(Ure)),Object.keys(Um).forEach(t=>{Gu[`background-${t}`]=_f(e,null,Um[t])}),await Promise.all(Object.keys($w).map(async t=>{const n=[];["primary","positive","negative","neutral"].forEach(r=>{n.push(Ep($w[t]).then(i=>{Gu[`${t}-${r}`]=_f(e,i,Bre.colors[r])}))}),await Promise.all(n)}))};function Lc(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function zW(e){if(!Lc(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=zW(e[n])}),t}function eo(e,t,n={clone:!0}){const r=n.clone?te({},e):e;return Lc(e)&&Lc(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(Lc(t[i])&&i in e&&Lc(e[i])?r[i]=eo(e[i],t[i],n):n.clone?r[i]=Lc(t[i])?zW(t[i]):t[i]:r[i]=t[i])}),r}var jW={exports:{}},Zre="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Xre=Zre,Jre=Xre;function BW(){}function FW(){}FW.resetWarningCache=BW;var Qre=function(){function e(r,i,o,s,a,f){if(f!==Jre){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:FW,resetWarningCache:BW};return n.PropTypes=n,n};jW.exports=Qre();var S$=jW.exports;const Pn=tr(S$);function Od(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function st(e){if(typeof e!="string")throw new Error(Od(7));return e.charAt(0).toUpperCase()+e.slice(1)}function iA(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function E$(e,t=166){let n;function r(...i){const o=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(o,t)}return r.clear=()=>{clearTimeout(n)},r}function eie(e,t){return()=>null}function j1(e,t){var n,r;return V.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Vi(e){return e&&e.ownerDocument||document}function Ad(e){return Vi(e).defaultView||window}function tie(e,t){return()=>null}function Rw(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const nie=typeof window<"u"?V.useLayoutEffect:V.useEffect,Rs=nie;let l5=0;function rie(e){const[t,n]=V.useState(e),r=e||t;return V.useEffect(()=>{t==null&&(l5+=1,n(`mui-${l5}`))},[t]),r}const c5=ew["useId".toString()];function B2(e){if(c5!==void 0){const t=c5();return e??t}return rie(e)}function iie(e,t,n,r,i){return null}function Vm({controlled:e,default:t,name:n,state:r="value"}){const{current:i}=V.useRef(e!==void 0),[o,s]=V.useState(t),a=i?e:o,f=V.useCallback(h=>{i||s(h)},[]);return[a,f]}function fl(e){const t=V.useRef(e);return Rs(()=>{t.current=e}),V.useCallback((...n)=>(0,t.current)(...n),[])}function si(...e){return V.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{Rw(n,t)})},e)}let F2=!0,oA=!1,u5;const oie={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function aie(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&oie[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function sie(e){e.metaKey||e.altKey||e.ctrlKey||(F2=!0)}function Ok(){F2=!1}function lie(){this.visibilityState==="hidden"&&oA&&(F2=!0)}function cie(e){e.addEventListener("keydown",sie,!0),e.addEventListener("mousedown",Ok,!0),e.addEventListener("pointerdown",Ok,!0),e.addEventListener("touchstart",Ok,!0),e.addEventListener("visibilitychange",lie,!0)}function uie(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return F2||aie(t)}function U2(){const e=V.useCallback(i=>{i!=null&&cie(i.ownerDocument)},[]),t=V.useRef(!1);function n(){return t.current?(oA=!0,window.clearTimeout(u5),u5=window.setTimeout(()=>{oA=!1},100),t.current=!1,!0):!1}function r(i){return uie(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function UW(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const die=e=>{const t=V.useRef({});return V.useEffect(()=>{t.current=e}),t.current},VW=die;function fie(e){return V.Children.toArray(e).filter(t=>V.isValidElement(t))}function C$(e,t){const n=te({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=te({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},o=t[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=te({},o),Object.keys(i).forEach(s=>{n[r][s]=C$(i[s],o[s])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function en(e,t,n=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((o,s)=>{if(s){const a=t(s);a!==""&&o.push(a),n&&n[s]&&o.push(n[s])}return o},[]).join(" ")}),r}const d5=e=>e,hie=()=>{let e=d5;return{configure(t){e=t},generate(t){return e(t)},reset(){e=d5}}},pie=hie(),T$=pie,mie={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Qt(e,t,n="Mui"){const r=mie[t];return r?`${n}-${r}`:`${T$.generate(e)}-${t}`}function tn(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=Qt(e,i,n)}),r}const dh="$$material";function WW(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var gie=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,yie=WW(function(e){return gie.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function vie(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function bie(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var xie=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(bie(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=vie(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),$o="-ms-",Dw="-moz-",ar="-webkit-",qW="comm",k$="rule",P$="decl",_ie="@import",GW="@keyframes",wie="@layer",Sie=Math.abs,V2=String.fromCharCode,Eie=Object.assign;function Cie(e,t){return go(e,0)^45?(((t<<2^go(e,0))<<2^go(e,1))<<2^go(e,2))<<2^go(e,3):0}function HW(e){return e.trim()}function Tie(e,t){return(e=t.exec(e))?e[0]:e}function sr(e,t,n){return e.replace(t,n)}function aA(e,t){return e.indexOf(t)}function go(e,t){return e.charCodeAt(t)|0}function J0(e,t,n){return e.slice(t,n)}function Fl(e){return e.length}function O$(e){return e.length}function Y_(e,t){return t.push(e),e}function kie(e,t){return e.map(t).join("")}var W2=1,Wm=1,YW=0,Pa=0,Oi=0,Pg="";function q2(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:W2,column:Wm,length:s,return:""}}function mv(e,t){return Eie(q2("",null,null,"",null,null,0),e,{length:-e.length},t)}function Pie(){return Oi}function Oie(){return Oi=Pa>0?go(Pg,--Pa):0,Wm--,Oi===10&&(Wm=1,W2--),Oi}function Ya(){return Oi=Pa<YW?go(Pg,Pa++):0,Wm++,Oi===10&&(Wm=1,W2++),Oi}function Ql(){return go(Pg,Pa)}function B1(){return Pa}function ex(e,t){return J0(Pg,e,t)}function Q0(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function KW(e){return W2=Wm=1,YW=Fl(Pg=e),Pa=0,[]}function ZW(e){return Pg="",e}function F1(e){return HW(ex(Pa-1,sA(e===91?e+2:e===40?e+1:e)))}function Aie(e){for(;(Oi=Ql())&&Oi<33;)Ya();return Q0(e)>2||Q0(Oi)>3?"":" "}function Mie(e,t){for(;--t&&Ya()&&!(Oi<48||Oi>102||Oi>57&&Oi<65||Oi>70&&Oi<97););return ex(e,B1()+(t<6&&Ql()==32&&Ya()==32))}function sA(e){for(;Ya();)switch(Oi){case e:return Pa;case 34:case 39:e!==34&&e!==39&&sA(Oi);break;case 40:e===41&&sA(e);break;case 92:Ya();break}return Pa}function Iie(e,t){for(;Ya()&&e+Oi!==47+10;)if(e+Oi===42+42&&Ql()===47)break;return"/*"+ex(t,Pa-1)+"*"+V2(e===47?e:Ya())}function $ie(e){for(;!Q0(Ql());)Ya();return ex(e,Pa)}function Rie(e){return ZW(U1("",null,null,null,[""],e=KW(e),0,[0],e))}function U1(e,t,n,r,i,o,s,a,f){for(var h=0,g=0,v=s,x=0,k=0,O=0,C=1,M=1,I=1,A=0,P="",$=i,z=o,N=r,F=P;M;)switch(O=A,A=Ya()){case 40:if(O!=108&&go(F,v-1)==58){aA(F+=sr(F1(A),"&","&\f"),"&\f")!=-1&&(I=-1);break}case 34:case 39:case 91:F+=F1(A);break;case 9:case 10:case 13:case 32:F+=Aie(O);break;case 92:F+=Mie(B1()-1,7);continue;case 47:switch(Ql()){case 42:case 47:Y_(Die(Iie(Ya(),B1()),t,n),f);break;default:F+="/"}break;case 123*C:a[h++]=Fl(F)*I;case 125*C:case 59:case 0:switch(A){case 0:case 125:M=0;case 59+g:I==-1&&(F=sr(F,/\f/g,"")),k>0&&Fl(F)-v&&Y_(k>32?h5(F+";",r,n,v-1):h5(sr(F," ","")+";",r,n,v-2),f);break;case 59:F+=";";default:if(Y_(N=f5(F,t,n,h,g,i,a,P,$=[],z=[],v),o),A===123)if(g===0)U1(F,t,N,N,$,o,v,a,z);else switch(x===99&&go(F,3)===110?100:x){case 100:case 108:case 109:case 115:U1(e,N,N,r&&Y_(f5(e,N,N,0,0,i,a,P,i,$=[],v),z),i,z,v,a,r?$:z);break;default:U1(F,N,N,N,[""],z,0,a,z)}}h=g=k=0,C=I=1,P=F="",v=s;break;case 58:v=1+Fl(F),k=O;default:if(C<1){if(A==123)--C;else if(A==125&&C++==0&&Oie()==125)continue}switch(F+=V2(A),A*C){case 38:I=g>0?1:(F+="\f",-1);break;case 44:a[h++]=(Fl(F)-1)*I,I=1;break;case 64:Ql()===45&&(F+=F1(Ya())),x=Ql(),g=v=Fl(P=F+=$ie(B1())),A++;break;case 45:O===45&&Fl(F)==2&&(C=0)}}return o}function f5(e,t,n,r,i,o,s,a,f,h,g){for(var v=i-1,x=i===0?o:[""],k=O$(x),O=0,C=0,M=0;O<r;++O)for(var I=0,A=J0(e,v+1,v=Sie(C=s[O])),P=e;I<k;++I)(P=HW(C>0?x[I]+" "+A:sr(A,/&\f/g,x[I])))&&(f[M++]=P);return q2(e,t,n,i===0?k$:a,f,h,g)}function Die(e,t,n){return q2(e,t,n,qW,V2(Pie()),J0(e,2,-2),0)}function h5(e,t,n,r){return q2(e,t,n,P$,J0(e,0,r),J0(e,r+1,-1),r)}function _m(e,t){for(var n="",r=O$(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Lie(e,t,n,r){switch(e.type){case wie:if(e.children.length)break;case _ie:case P$:return e.return=e.return||e.value;case qW:return"";case GW:return e.return=e.value+"{"+_m(e.children,r)+"}";case k$:e.value=e.props.join(",")}return Fl(n=_m(e.children,r))?e.return=e.value+"{"+n+"}":""}function Nie(e){var t=O$(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function zie(e){return function(t){t.root||(t=t.return)&&e(t)}}var jie=function(t,n,r){for(var i=0,o=0;i=o,o=Ql(),i===38&&o===12&&(n[r]=1),!Q0(o);)Ya();return ex(t,Pa)},Bie=function(t,n){var r=-1,i=44;do switch(Q0(i)){case 0:i===38&&Ql()===12&&(n[r]=1),t[r]+=jie(Pa-1,n,r);break;case 2:t[r]+=F1(i);break;case 4:if(i===44){t[++r]=Ql()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=V2(i)}while(i=Ya());return t},Fie=function(t,n){return ZW(Bie(KW(t),n))},p5=new WeakMap,Uie=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!p5.get(r))&&!i){p5.set(t,!0);for(var o=[],s=Fie(n,o),a=r.props,f=0,h=0;f<s.length;f++)for(var g=0;g<a.length;g++,h++)t.props[h]=o[f]?s[f].replace(/&\f/g,a[g]):a[g]+" "+s[f]}}},Vie=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function XW(e,t){switch(Cie(e,t)){case 5103:return ar+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ar+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ar+e+Dw+e+$o+e+e;case 6828:case 4268:return ar+e+$o+e+e;case 6165:return ar+e+$o+"flex-"+e+e;case 5187:return ar+e+sr(e,/(\w+).+(:[^]+)/,ar+"box-$1$2"+$o+"flex-$1$2")+e;case 5443:return ar+e+$o+"flex-item-"+sr(e,/flex-|-self/,"")+e;case 4675:return ar+e+$o+"flex-line-pack"+sr(e,/align-content|flex-|-self/,"")+e;case 5548:return ar+e+$o+sr(e,"shrink","negative")+e;case 5292:return ar+e+$o+sr(e,"basis","preferred-size")+e;case 6060:return ar+"box-"+sr(e,"-grow","")+ar+e+$o+sr(e,"grow","positive")+e;case 4554:return ar+sr(e,/([^-])(transform)/g,"$1"+ar+"$2")+e;case 6187:return sr(sr(sr(e,/(zoom-|grab)/,ar+"$1"),/(image-set)/,ar+"$1"),e,"")+e;case 5495:case 3959:return sr(e,/(image-set\([^]*)/,ar+"$1$`$1");case 4968:return sr(sr(e,/(.+:)(flex-)?(.*)/,ar+"box-pack:$3"+$o+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ar+e+e;case 4095:case 3583:case 4068:case 2532:return sr(e,/(.+)-inline(.+)/,ar+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Fl(e)-1-t>6)switch(go(e,t+1)){case 109:if(go(e,t+4)!==45)break;case 102:return sr(e,/(.+:)(.+)-([^]+)/,"$1"+ar+"$2-$3$1"+Dw+(go(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~aA(e,"stretch")?XW(sr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(go(e,t+1)!==115)break;case 6444:switch(go(e,Fl(e)-3-(~aA(e,"!important")&&10))){case 107:return sr(e,":",":"+ar)+e;case 101:return sr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ar+(go(e,14)===45?"inline-":"")+"box$3$1"+ar+"$2$3$1"+$o+"$2box$3")+e}break;case 5936:switch(go(e,t+11)){case 114:return ar+e+$o+sr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ar+e+$o+sr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ar+e+$o+sr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ar+e+$o+e+e}return e}var Wie=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case P$:t.return=XW(t.value,t.length);break;case GW:return _m([mv(t,{value:sr(t.value,"@","@"+ar)})],i);case k$:if(t.length)return kie(t.props,function(o){switch(Tie(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return _m([mv(t,{props:[sr(o,/:(read-\w+)/,":"+Dw+"$1")]})],i);case"::placeholder":return _m([mv(t,{props:[sr(o,/:(plac\w+)/,":"+ar+"input-$1")]}),mv(t,{props:[sr(o,/:(plac\w+)/,":"+Dw+"$1")]}),mv(t,{props:[sr(o,/:(plac\w+)/,$o+"input-$1")]})],i)}return""})}},qie=[Wie],JW=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(C){var M=C.getAttribute("data-emotion");M.indexOf(" ")!==-1&&(document.head.appendChild(C),C.setAttribute("data-s",""))})}var i=t.stylisPlugins||qie,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(C){for(var M=C.getAttribute("data-emotion").split(" "),I=1;I<M.length;I++)o[M[I]]=!0;a.push(C)});var f,h=[Uie,Vie];{var g,v=[Lie,zie(function(C){g.insert(C)})],x=Nie(h.concat(i,v)),k=function(M){return _m(Rie(M),x)};f=function(M,I,A,P){g=A,k(M?M+"{"+I.styles+"}":I.styles),P&&(O.inserted[I.name]=!0)}}var O={key:n,sheet:new xie({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:f};return O.sheet.hydrate(a),O},Gie=!0;function Hie(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var QW=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||Gie===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},e9=function(t,n,r){QW(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function Yie(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Kie={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Zie=/[A-Z]|^ms/g,Xie=/_EMO_([^_]+?)_([^]*?)_EMO_/g,t9=function(t){return t.charCodeAt(1)===45},m5=function(t){return t!=null&&typeof t!="boolean"},Ak=WW(function(e){return t9(e)?e:e.replace(Zie,"-$&").toLowerCase()}),g5=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Xie,function(r,i,o){return Ul={name:i,styles:o,next:Ul},i})}return Kie[t]!==1&&!t9(t)&&typeof n=="number"&&n!==0?n+"px":n};function eb(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Ul={name:n.name,styles:n.styles,next:Ul},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Ul={name:r.name,styles:r.styles,next:Ul},r=r.next;var i=n.styles+";";return i}return Jie(e,t,n)}case"function":{if(e!==void 0){var o=Ul,s=n(e);return Ul=o,eb(e,t,s)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function Jie(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=eb(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")t!=null&&t[s]!==void 0?r+=o+"{"+t[s]+"}":m5(s)&&(r+=Ak(o)+":"+g5(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var a=0;a<s.length;a++)m5(s[a])&&(r+=Ak(o)+":"+g5(o,s[a])+";");else{var f=eb(e,t,s);switch(o){case"animation":case"animationName":{r+=Ak(o)+":"+f+";";break}default:r+=o+"{"+f+"}"}}}return r}var y5=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ul,A$=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";Ul=void 0;var s=t[0];s==null||s.raw===void 0?(i=!1,o+=eb(r,n,s)):o+=s[0];for(var a=1;a<t.length;a++)o+=eb(r,n,t[a]),i&&(o+=s[a]);y5.lastIndex=0;for(var f="",h;(h=y5.exec(o))!==null;)f+="-"+h[1];var g=Yie(o)+f;return{name:g,styles:o,next:Ul}},Qie=function(t){return t()},n9=ew["useInsertionEffect"]?ew["useInsertionEffect"]:!1,eoe=n9||Qie,v5=n9||V.useLayoutEffect,r9=V.createContext(typeof HTMLElement<"u"?JW({key:"css"}):null),toe=r9.Provider,i9=function(t){return V.forwardRef(function(n,r){var i=V.useContext(r9);return t(n,i,r)})},G2=V.createContext({}),noe=i9(function(e,t){var n=e.styles,r=A$([n],void 0,V.useContext(G2)),i=V.useRef();return v5(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,f=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),f!==null&&(a=!0,f.setAttribute("data-emotion",o),s.hydrate([f])),i.current=[s,a],function(){s.flush()}},[t]),v5(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&e9(t,r.next,!0),s.tags.length){var f=s.tags[s.tags.length-1].nextElementSibling;s.before=f,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function roe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return A$(t)}var M$=function(){var t=roe.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},ioe=yie,ooe=function(t){return t!=="theme"},b5=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?ioe:ooe},x5=function(t,n,r){var i;if(n){var o=n.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},aoe=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return QW(n,r,i),eoe(function(){return e9(n,r,i)}),null},soe=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,s;n!==void 0&&(o=n.label,s=n.target);var a=x5(t,n,r),f=a||b5(i),h=!f("as");return function(){var g=arguments,v=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&v.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)v.push.apply(v,g);else{v.push(g[0][0]);for(var x=g.length,k=1;k<x;k++)v.push(g[k],g[0][k])}var O=i9(function(C,M,I){var A=h&&C.as||i,P="",$=[],z=C;if(C.theme==null){z={};for(var N in C)z[N]=C[N];z.theme=V.useContext(G2)}typeof C.className=="string"?P=Hie(M.registered,$,C.className):C.className!=null&&(P=C.className+" ");var F=A$(v.concat($),M.registered,z);P+=M.key+"-"+F.name,s!==void 0&&(P+=" "+s);var G=h&&a===void 0?b5(A):f,J={};for(var ee in C)h&&ee==="as"||G(ee)&&(J[ee]=C[ee]);return J.className=P,J.ref=I,V.createElement(V.Fragment,null,V.createElement(aoe,{cache:M,serialized:F,isStringTag:typeof A=="string"}),V.createElement(A,J))});return O.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",O.defaultProps=t.defaultProps,O.__emotion_real=O,O.__emotion_base=i,O.__emotion_styles=v,O.__emotion_forwardProp=a,Object.defineProperty(O,"toString",{value:function(){return"."+s}}),O.withComponent=function(C,M){return e(C,te({},n,M,{shouldForwardProp:x5(O,M,!0)})).apply(void 0,v)},O}},loe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],lA=soe.bind();loe.forEach(function(e){lA[e]=lA(e)});let cA;typeof document=="object"&&(cA=JW({key:"css",prepend:!0}));function coe(e){const{injectFirst:t,children:n}=e;return t&&cA?B.jsx(toe,{value:cA,children:n}):n}function uoe(e){return e==null||Object.keys(e).length===0}function doe(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(uoe(i)?n:i):t;return B.jsx(noe,{styles:r})}/**
 * @mui/styled-engine v5.14.14
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function o9(e,t){return lA(e,t)}const foe=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},hoe=["values","unit","step"],poe=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>te({},n,{[r.key]:r.val}),{})};function moe(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=yt(e,hoe),o=poe(t),s=Object.keys(o);function a(x){return`@media (min-width:${typeof t[x]=="number"?t[x]:x}${n})`}function f(x){return`@media (max-width:${(typeof t[x]=="number"?t[x]:x)-r/100}${n})`}function h(x,k){const O=s.indexOf(k);return`@media (min-width:${typeof t[x]=="number"?t[x]:x}${n}) and (max-width:${(O!==-1&&typeof t[s[O]]=="number"?t[s[O]]:k)-r/100}${n})`}function g(x){return s.indexOf(x)+1<s.length?h(x,s[s.indexOf(x)+1]):a(x)}function v(x){const k=s.indexOf(x);return k===0?a(s[1]):k===s.length-1?f(s[k]):h(x,s[s.indexOf(x)+1]).replace("@media","@media not all and")}return te({keys:s,values:o,up:a,down:f,between:h,only:g,not:v,unit:n},i)}const goe={borderRadius:4},yoe=goe;function f0(e,t){return t?eo(e,t,{clone:!1}):e}const I$={xs:0,sm:600,md:900,lg:1200,xl:1536},_5={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${I$[e]}px)`};function Oa(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const o=r.breakpoints||_5;return t.reduce((s,a,f)=>(s[o.up(o.keys[f])]=n(t[f]),s),{})}if(typeof t=="object"){const o=r.breakpoints||_5;return Object.keys(t).reduce((s,a)=>{if(Object.keys(o.values||I$).indexOf(a)!==-1){const f=o.up(a);s[f]=n(t[a],a)}else{const f=a;s[f]=t[f]}return s},{})}return n(t)}function a9(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,i)=>{const o=e.up(i);return r[o]={},r},{}))||{}}function s9(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function voe(e,...t){const n=a9(e),r=[n,...t].reduce((i,o)=>eo(i,o),{});return s9(Object.keys(n),r)}function boe(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,o)=>{o<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function Zf({values:e,breakpoints:t,base:n}){const r=n||boe(e,t),i=Object.keys(r);if(i.length===0)return e;let o;return i.reduce((s,a,f)=>(Array.isArray(e)?(s[a]=e[f]!=null?e[f]:e[o],o=f):typeof e=="object"?(s[a]=e[a]!=null?e[a]:e[o],o=a):s[a]=e,s),{})}function qm(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Lw(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=qm(e,n)||r,t&&(i=t(i,r,e)),i}function ur(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=s=>{if(s[t]==null)return null;const a=s[t],f=s.theme,h=qm(f,r)||{};return Oa(s,a,v=>{let x=Lw(h,i,v);return v===x&&typeof v=="string"&&(x=Lw(h,i,`${t}${v==="default"?"":st(v)}`,v)),n===!1?x:{[n]:x}})};return o.propTypes={},o.filterProps=[t],o}function xoe(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const _oe={m:"margin",p:"padding"},woe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},w5={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Soe=xoe(e=>{if(e.length>2)if(w5[e])e=w5[e];else return[e];const[t,n]=e.split(""),r=_oe[t],i=woe[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),$$=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],R$=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...$$,...R$];function tx(e,t,n,r){var i;const o=(i=qm(e,t,!1))!=null?i:n;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function D$(e){return tx(e,"spacing",8)}function fh(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function Eoe(e,t){return n=>e.reduce((r,i)=>(r[i]=fh(t,n),r),{})}function Coe(e,t,n,r){if(t.indexOf(n)===-1)return null;const i=Soe(n),o=Eoe(i,r),s=e[n];return Oa(e,s,o)}function l9(e,t){const n=D$(e.theme);return Object.keys(e).map(r=>Coe(e,t,r,n)).reduce(f0,{})}function di(e){return l9(e,$$)}di.propTypes={};di.filterProps=$$;function fi(e){return l9(e,R$)}fi.propTypes={};fi.filterProps=R$;function Toe(e=8){if(e.mui)return e;const t=D$({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=t(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function H2(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>t[o]?f0(i,t[o](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function ql(e){return typeof e!="number"?e:`${e}px solid`}const koe=ur({prop:"border",themeKey:"borders",transform:ql}),Poe=ur({prop:"borderTop",themeKey:"borders",transform:ql}),Ooe=ur({prop:"borderRight",themeKey:"borders",transform:ql}),Aoe=ur({prop:"borderBottom",themeKey:"borders",transform:ql}),Moe=ur({prop:"borderLeft",themeKey:"borders",transform:ql}),Ioe=ur({prop:"borderColor",themeKey:"palette"}),$oe=ur({prop:"borderTopColor",themeKey:"palette"}),Roe=ur({prop:"borderRightColor",themeKey:"palette"}),Doe=ur({prop:"borderBottomColor",themeKey:"palette"}),Loe=ur({prop:"borderLeftColor",themeKey:"palette"}),Y2=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=tx(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:fh(t,r)});return Oa(e,e.borderRadius,n)}return null};Y2.propTypes={};Y2.filterProps=["borderRadius"];H2(koe,Poe,Ooe,Aoe,Moe,Ioe,$oe,Roe,Doe,Loe,Y2);const K2=e=>{if(e.gap!==void 0&&e.gap!==null){const t=tx(e.theme,"spacing",8),n=r=>({gap:fh(t,r)});return Oa(e,e.gap,n)}return null};K2.propTypes={};K2.filterProps=["gap"];const Z2=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=tx(e.theme,"spacing",8),n=r=>({columnGap:fh(t,r)});return Oa(e,e.columnGap,n)}return null};Z2.propTypes={};Z2.filterProps=["columnGap"];const X2=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=tx(e.theme,"spacing",8),n=r=>({rowGap:fh(t,r)});return Oa(e,e.rowGap,n)}return null};X2.propTypes={};X2.filterProps=["rowGap"];const Noe=ur({prop:"gridColumn"}),zoe=ur({prop:"gridRow"}),joe=ur({prop:"gridAutoFlow"}),Boe=ur({prop:"gridAutoColumns"}),Foe=ur({prop:"gridAutoRows"}),Uoe=ur({prop:"gridTemplateColumns"}),Voe=ur({prop:"gridTemplateRows"}),Woe=ur({prop:"gridTemplateAreas"}),qoe=ur({prop:"gridArea"});H2(K2,Z2,X2,Noe,zoe,joe,Boe,Foe,Uoe,Voe,Woe,qoe);function wm(e,t){return t==="grey"?t:e}const Goe=ur({prop:"color",themeKey:"palette",transform:wm}),Hoe=ur({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:wm}),Yoe=ur({prop:"backgroundColor",themeKey:"palette",transform:wm});H2(Goe,Hoe,Yoe);function Va(e){return e<=1&&e!==0?`${e*100}%`:e}const Koe=ur({prop:"width",transform:Va}),L$=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,i;const o=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||I$[n];return o?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Va(n)}};return Oa(e,e.maxWidth,t)}return null};L$.filterProps=["maxWidth"];const Zoe=ur({prop:"minWidth",transform:Va}),Xoe=ur({prop:"height",transform:Va}),Joe=ur({prop:"maxHeight",transform:Va}),Qoe=ur({prop:"minHeight",transform:Va});ur({prop:"size",cssProperty:"width",transform:Va});ur({prop:"size",cssProperty:"height",transform:Va});const eae=ur({prop:"boxSizing"});H2(Koe,L$,Zoe,Xoe,Joe,Qoe,eae);const tae={border:{themeKey:"borders",transform:ql},borderTop:{themeKey:"borders",transform:ql},borderRight:{themeKey:"borders",transform:ql},borderBottom:{themeKey:"borders",transform:ql},borderLeft:{themeKey:"borders",transform:ql},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Y2},color:{themeKey:"palette",transform:wm},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:wm},backgroundColor:{themeKey:"palette",transform:wm},p:{style:fi},pt:{style:fi},pr:{style:fi},pb:{style:fi},pl:{style:fi},px:{style:fi},py:{style:fi},padding:{style:fi},paddingTop:{style:fi},paddingRight:{style:fi},paddingBottom:{style:fi},paddingLeft:{style:fi},paddingX:{style:fi},paddingY:{style:fi},paddingInline:{style:fi},paddingInlineStart:{style:fi},paddingInlineEnd:{style:fi},paddingBlock:{style:fi},paddingBlockStart:{style:fi},paddingBlockEnd:{style:fi},m:{style:di},mt:{style:di},mr:{style:di},mb:{style:di},ml:{style:di},mx:{style:di},my:{style:di},margin:{style:di},marginTop:{style:di},marginRight:{style:di},marginBottom:{style:di},marginLeft:{style:di},marginX:{style:di},marginY:{style:di},marginInline:{style:di},marginInlineStart:{style:di},marginInlineEnd:{style:di},marginBlock:{style:di},marginBlockStart:{style:di},marginBlockEnd:{style:di},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:K2},rowGap:{style:X2},columnGap:{style:Z2},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Va},maxWidth:{style:L$},minWidth:{transform:Va},height:{transform:Va},maxHeight:{transform:Va},minHeight:{transform:Va},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},J2=tae;function nae(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function rae(e,t){return typeof e=="function"?e(t):e}function iae(){function e(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:f=n,themeKey:h,transform:g,style:v}=a;if(r==null)return null;if(h==="typography"&&r==="inherit")return{[n]:r};const x=qm(i,h)||{};return v?v(s):Oa(s,r,O=>{let C=Lw(x,g,O);return O===C&&typeof O=="string"&&(C=Lw(x,g,`${n}${O==="default"?"":st(O)}`,O)),f===!1?C:{[f]:C}})}function t(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:J2;function a(f){let h=f;if(typeof f=="function")h=f(o);else if(typeof f!="object")return f;if(!h)return null;const g=a9(o.breakpoints),v=Object.keys(g);let x=g;return Object.keys(h).forEach(k=>{const O=rae(h[k],o);if(O!=null)if(typeof O=="object")if(s[k])x=f0(x,e(k,O,o,s));else{const C=Oa({theme:o},O,M=>({[k]:M}));nae(C,O)?x[k]=t({sx:O,theme:o}):x=f0(x,C)}else x=f0(x,e(k,O,o,s))}),s9(v,x)}return Array.isArray(i)?i.map(a):a(i)}return t}const c9=iae();c9.filterProps=["sx"];const Q2=c9,oae=["breakpoints","palette","spacing","shape"];function nx(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=e,s=yt(e,oae),a=moe(n),f=Toe(i);let h=eo({breakpoints:a,direction:"ltr",components:{},palette:te({mode:"light"},r),spacing:f,shape:te({},yoe,o)},s);return h=t.reduce((g,v)=>eo(g,v),h),h.unstable_sxConfig=te({},J2,s==null?void 0:s.unstable_sxConfig),h.unstable_sx=function(v){return Q2({sx:v,theme:this})},h}function aae(e){return Object.keys(e).length===0}function N$(e=null){const t=V.useContext(G2);return!t||aae(t)?e:t}const sae=nx();function eE(e=sae){return N$(e)}function lae({styles:e,themeId:t,defaultTheme:n={}}){const r=eE(n),i=typeof e=="function"?e(t&&r[t]||r):e;return B.jsx(doe,{styles:i})}const cae=["sx"],uae=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:J2;return Object.keys(e).forEach(o=>{i[o]?r.systemProps[o]=e[o]:r.otherProps[o]=e[o]}),r};function tE(e){const{sx:t}=e,n=yt(e,cae),{systemProps:r,otherProps:i}=uae(n);let o;return Array.isArray(t)?o=[r,...t]:typeof t=="function"?o=(...s)=>{const a=t(...s);return Lc(a)?te({},r,a):r}:o=te({},r,t),te({},i,{sx:o})}function u9(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=u9(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Pt(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=u9(e))&&(r&&(r+=" "),r+=t);return r}const dae=["className","component"];function fae(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,o=o9("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Q2);return V.forwardRef(function(f,h){const g=eE(n),v=tE(f),{className:x,component:k="div"}=v,O=yt(v,dae);return B.jsx(o,te({as:k,ref:h,className:Pt(x,i?i(r):r),theme:t&&g[t]||g},O))})}const hae=["variant"];function S5(e){return e.length===0}function d9(e){const{variant:t}=e,n=yt(e,hae);let r=t||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=S5(r)?e[i]:st(e[i]):r+=`${S5(r)?i:st(i)}${st(e[i].toString())}`}),r}const pae=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function mae(e){return Object.keys(e).length===0}function gae(e){return typeof e=="string"&&e.charCodeAt(0)>96}const yae=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,Nw=e=>{const t={};return e&&e.forEach(n=>{const r=d9(n.props);t[r]=n.style}),t},vae=(e,t)=>{let n=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants),Nw(n)},zw=(e,t,n)=>{const{ownerState:r={}}=e,i=[];return n&&n.forEach(o=>{let s=!0;Object.keys(o.props).forEach(a=>{r[a]!==o.props[a]&&e[a]!==o.props[a]&&(s=!1)}),s&&i.push(t[d9(o.props)])}),i},bae=(e,t,n,r)=>{var i;const o=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return zw(e,t,o)};function h0(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const xae=nx(),_ae=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function V1({defaultTheme:e,theme:t,themeId:n}){return mae(t)?e:t[n]||t}function wae(e){return e?(t,n)=>n[e]:null}const E5=({styledArg:e,props:t,defaultTheme:n,themeId:r})=>{const i=e(te({},t,{theme:V1(te({},t,{defaultTheme:n,themeId:r}))}));let o;if(i&&i.variants&&(o=i.variants,delete i.variants),o){const s=zw(t,Nw(o),o);return[i,...s]}return i};function f9(e={}){const{themeId:t,defaultTheme:n=xae,rootShouldForwardProp:r=h0,slotShouldForwardProp:i=h0}=e,o=s=>Q2(te({},s,{theme:V1(te({},s,{defaultTheme:n,themeId:t}))}));return o.__mui_systemSx=!0,(s,a={})=>{foe(s,$=>$.filter(z=>!(z!=null&&z.__mui_systemSx)));const{name:f,slot:h,skipVariantsResolver:g,skipSx:v,overridesResolver:x=wae(_ae(h))}=a,k=yt(a,pae),O=g!==void 0?g:h&&h!=="Root"&&h!=="root"||!1,C=v||!1;let M,I=h0;h==="Root"||h==="root"?I=r:h?I=i:gae(s)&&(I=void 0);const A=o9(s,te({shouldForwardProp:I,label:M},k)),P=($,...z)=>{const N=z?z.map(ee=>{if(typeof ee=="function"&&ee.__emotion_real!==ee)return ae=>E5({styledArg:ee,props:ae,defaultTheme:n,themeId:t});if(Lc(ee)){let ae=ee,pe;return ee&&ee.variants&&(pe=ee.variants,delete ae.variants,ae=ye=>{let we=ee;return zw(ye,Nw(pe),pe).forEach(Oe=>{we=eo(we,Oe)}),we}),ae}return ee}):[];let F=$;if(Lc($)){let ee;$&&$.variants&&(ee=$.variants,delete F.variants,F=ae=>{let pe=$;return zw(ae,Nw(ee),ee).forEach(we=>{pe=eo(pe,we)}),pe})}else typeof $=="function"&&$.__emotion_real!==$&&(F=ee=>E5({styledArg:$,props:ee,defaultTheme:n,themeId:t}));f&&x&&N.push(ee=>{const ae=V1(te({},ee,{defaultTheme:n,themeId:t})),pe=yae(f,ae);if(pe){const ye={};return Object.entries(pe).forEach(([we,Ee])=>{ye[we]=typeof Ee=="function"?Ee(te({},ee,{theme:ae})):Ee}),x(ee,ye)}return null}),f&&!O&&N.push(ee=>{const ae=V1(te({},ee,{defaultTheme:n,themeId:t}));return bae(ee,vae(f,ae),ae,f)}),C||N.push(o);const G=N.length-z.length;if(Array.isArray($)&&G>0){const ee=new Array(G).fill("");F=[...$,...ee],F.raw=[...$.raw,...ee]}const J=A(F,...N);return s.muiName&&(J.muiName=s.muiName),J};return A.withConfig&&(P.withConfig=A.withConfig),P}}const Sae=f9(),h9=Sae;function Eae(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:C$(t.components[n].defaultProps,r)}function z$({props:e,name:t,defaultTheme:n,themeId:r}){let i=eE(n);return r&&(i=i[r]||i),Eae({theme:i,name:t,props:e})}function j$(e,t=0,n=1){return Math.min(Math.max(t,e),n)}function Cae(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function hh(e){if(e.type)return e;if(e.charAt(0)==="#")return hh(Cae(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Od(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Od(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}function nE(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function Tae(e){e=hh(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=(h,g=(h+n/30)%12)=>i-o*Math.max(Math.min(g-3,9-g,1),-1);let a="rgb";const f=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(a+="a",f.push(t[3])),nE({type:a,values:f})}function uA(e){e=hh(e);let t=e.type==="hsl"||e.type==="hsla"?hh(Tae(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function kae(e,t){const n=uA(e),r=uA(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Rr(e,t){return e=hh(e),t=j$(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,nE(e)}function B$(e,t){if(e=hh(e),t=j$(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return nE(e)}function F$(e,t){if(e=hh(e),t=j$(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return nE(e)}function Pae(e,t=.15){return uA(e)>.5?B$(e,t):F$(e,t)}const Oae=V.createContext(null),p9=Oae;function U$(){return V.useContext(p9)}const Aae=typeof Symbol=="function"&&Symbol.for,m9=Aae?Symbol.for("mui.nested"):"__THEME_NESTED__";function Mae(e,t){return typeof t=="function"?t(e):te({},e,t)}function Iae(e){const{children:t,theme:n}=e,r=U$(),i=V.useMemo(()=>{const o=r===null?n:Mae(r,n);return o!=null&&(o[m9]=r!==null),o},[n,r]);return B.jsx(p9.Provider,{value:i,children:t})}const C5={};function T5(e,t,n,r=!1){return V.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const o=n(i),s=e?te({},t,{[e]:o}):o;return r?()=>s:s}return e?te({},t,{[e]:n}):te({},t,n)},[e,t,n,r])}function $ae(e){const{children:t,theme:n,themeId:r}=e,i=N$(C5),o=U$()||C5,s=T5(r,i,n),a=T5(r,o,n,!0);return B.jsx(Iae,{theme:a,children:B.jsx(G2.Provider,{value:s,children:t})})}const Rae=["className","component","disableGutters","fixed","maxWidth","classes"],Dae=nx(),Lae=h9("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${st(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),Nae=e=>z$({props:e,name:"MuiContainer",defaultTheme:Dae}),zae=(e,t)=>{const n=f=>Qt(t,f),{classes:r,fixed:i,disableGutters:o,maxWidth:s}=e,a={root:["root",s&&`maxWidth${st(String(s))}`,i&&"fixed",o&&"disableGutters"]};return en(a,n,r)};function jae(e={}){const{createStyledComponent:t=Lae,useThemeProps:n=Nae,componentName:r="MuiContainer"}=e,i=t(({theme:s,ownerState:a})=>te({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((f,h)=>{const g=h,v=s.breakpoints.values[g];return v!==0&&(f[s.breakpoints.up(g)]={maxWidth:`${v}${s.breakpoints.unit}`}),f},{}),({theme:s,ownerState:a})=>te({},a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}));return V.forwardRef(function(a,f){const h=n(a),{className:g,component:v="div",disableGutters:x=!1,fixed:k=!1,maxWidth:O="lg"}=h,C=yt(h,Rae),M=te({},h,{component:v,disableGutters:x,fixed:k,maxWidth:O}),I=zae(M,r);return B.jsx(i,te({as:v,ownerState:M,className:Pt(I.root,g),ref:f},C))})}const Bae=["component","direction","spacing","divider","children","className","useFlexGap"],Fae=nx(),Uae=h9("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function Vae(e){return z$({props:e,name:"MuiStack",defaultTheme:Fae})}function Wae(e,t){const n=V.Children.toArray(e).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(V.cloneElement(t,{key:`separator-${o}`})),r),[])}const qae=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],Gae=({ownerState:e,theme:t})=>{let n=te({display:"flex",flexDirection:"column"},Oa({theme:t},Zf({values:e.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r})));if(e.spacing){const r=D$(t),i=Object.keys(t.breakpoints.values).reduce((f,h)=>((typeof e.spacing=="object"&&e.spacing[h]!=null||typeof e.direction=="object"&&e.direction[h]!=null)&&(f[h]=!0),f),{}),o=Zf({values:e.direction,base:i}),s=Zf({values:e.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((f,h,g)=>{if(!o[f]){const x=h>0?o[g[h-1]]:"column";o[f]=x}}),n=eo(n,Oa({theme:t},s,(f,h)=>e.useFlexGap?{gap:fh(r,f)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${qae(h?o[h]:e.direction)}`]:fh(r,f)}}))}return n=voe(t.breakpoints,n),n};function Hae(e={}){const{createStyledComponent:t=Uae,useThemeProps:n=Vae,componentName:r="MuiStack"}=e,i=()=>en({root:["root"]},f=>Qt(r,f),{}),o=t(Gae);return V.forwardRef(function(f,h){const g=n(f),v=tE(g),{component:x="div",direction:k="column",spacing:O=0,divider:C,children:M,className:I,useFlexGap:A=!1}=v,P=yt(v,Bae),$={direction:k,spacing:O,useFlexGap:A},z=i();return B.jsx(o,te({as:x,ownerState:$,ref:h,className:Pt(z.root,I)},P,{children:C?Wae(M,C):M}))})}function Yae(e,t){return te({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const Kae=["mode","contrastThreshold","tonalOffset"],k5={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:uh.white,default:uh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Mk={text:{primary:uh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:uh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function P5(e,t,n,r){const i=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=F$(e.main,i):t==="dark"&&(e.dark=B$(e.main,o)))}function Zae(e="light"){return e==="dark"?{main:wp[200],light:wp[50],dark:wp[400]}:{main:wp[700],light:wp[400],dark:wp[800]}}function Xae(e="light"){return e==="dark"?{main:_p[200],light:_p[50],dark:_p[400]}:{main:_p[500],light:_p[300],dark:_p[700]}}function Jae(e="light"){return e==="dark"?{main:Rc[500],light:Rc[300],dark:Rc[700]}:{main:Rc[700],light:Rc[400],dark:Rc[800]}}function Qae(e="light"){return e==="dark"?{main:Sp[400],light:Sp[300],dark:Sp[700]}:{main:Sp[700],light:Sp[500],dark:Sp[900]}}function ese(e="light"){return e==="dark"?{main:sl[400],light:sl[300],dark:sl[700]}:{main:sl[800],light:sl[500],dark:sl[900]}}function tse(e="light"){return e==="dark"?{main:hv[400],light:hv[300],dark:hv[700]}:{main:"#ed6c02",light:hv[500],dark:hv[900]}}function nse(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=yt(e,Kae),o=e.primary||Zae(t),s=e.secondary||Xae(t),a=e.error||Jae(t),f=e.info||Qae(t),h=e.success||ese(t),g=e.warning||tse(t);function v(C){return kae(C,Mk.text.primary)>=n?Mk.text.primary:k5.text.primary}const x=({color:C,name:M,mainShade:I=500,lightShade:A=300,darkShade:P=700})=>{if(C=te({},C),!C.main&&C[I]&&(C.main=C[I]),!C.hasOwnProperty("main"))throw new Error(Od(11,M?` (${M})`:"",I));if(typeof C.main!="string")throw new Error(Od(12,M?` (${M})`:"",JSON.stringify(C.main)));return P5(C,"light",A,r),P5(C,"dark",P,r),C.contrastText||(C.contrastText=v(C.main)),C},k={dark:Mk,light:k5};return eo(te({common:te({},uh),mode:t,primary:x({color:o,name:"primary"}),secondary:x({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:x({color:a,name:"error"}),warning:x({color:g,name:"warning"}),info:x({color:f,name:"info"}),success:x({color:h,name:"success"}),grey:Jl,contrastThreshold:n,getContrastText:v,augmentColor:x,tonalOffset:r},k[t]),i)}const rse=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function ise(e){return Math.round(e*1e5)/1e5}const O5={textTransform:"uppercase"},A5='"Roboto", "Helvetica", "Arial", sans-serif';function ose(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=A5,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:f=700,htmlFontSize:h=16,allVariants:g,pxToRem:v}=n,x=yt(n,rse),k=i/14,O=v||(I=>`${I/h*k}rem`),C=(I,A,P,$,z)=>te({fontFamily:r,fontWeight:I,fontSize:O(A),lineHeight:P},r===A5?{letterSpacing:`${ise($/A)}em`}:{},z,g),M={h1:C(o,96,1.167,-1.5),h2:C(o,60,1.2,-.5),h3:C(s,48,1.167,0),h4:C(s,34,1.235,.25),h5:C(s,24,1.334,0),h6:C(a,20,1.6,.15),subtitle1:C(s,16,1.75,.15),subtitle2:C(a,14,1.57,.1),body1:C(s,16,1.5,.15),body2:C(s,14,1.43,.15),button:C(a,14,1.75,.4,O5),caption:C(s,12,1.66,.4),overline:C(s,12,2.66,1,O5),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return eo(te({htmlFontSize:h,pxToRem:O,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:f},M),x,{clone:!1})}const ase=.2,sse=.14,lse=.12;function qr(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${ase})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${sse})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${lse})`].join(",")}const cse=["none",qr(0,2,1,-1,0,1,1,0,0,1,3,0),qr(0,3,1,-2,0,2,2,0,0,1,5,0),qr(0,3,3,-2,0,3,4,0,0,1,8,0),qr(0,2,4,-1,0,4,5,0,0,1,10,0),qr(0,3,5,-1,0,5,8,0,0,1,14,0),qr(0,3,5,-1,0,6,10,0,0,1,18,0),qr(0,4,5,-2,0,7,10,1,0,2,16,1),qr(0,5,5,-3,0,8,10,1,0,3,14,2),qr(0,5,6,-3,0,9,12,1,0,3,16,2),qr(0,6,6,-3,0,10,14,1,0,4,18,3),qr(0,6,7,-4,0,11,15,1,0,4,20,3),qr(0,7,8,-4,0,12,17,2,0,5,22,4),qr(0,7,8,-4,0,13,19,2,0,5,24,4),qr(0,7,9,-4,0,14,21,2,0,5,26,4),qr(0,8,9,-5,0,15,22,2,0,6,28,5),qr(0,8,10,-5,0,16,24,2,0,6,30,5),qr(0,8,11,-5,0,17,26,2,0,6,32,5),qr(0,9,11,-5,0,18,28,2,0,7,34,6),qr(0,9,12,-6,0,19,29,2,0,7,36,6),qr(0,10,13,-6,0,20,31,3,0,8,38,7),qr(0,10,13,-6,0,21,33,3,0,8,40,7),qr(0,10,14,-6,0,22,35,3,0,8,42,7),qr(0,11,14,-7,0,23,36,3,0,9,44,8),qr(0,11,15,-7,0,24,38,3,0,9,46,8)],use=cse,dse=["duration","easing","delay"],fse={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},g9={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function M5(e){return`${Math.round(e)}ms`}function hse(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function pse(e){const t=te({},fse,e.easing),n=te({},g9,e.duration);return te({getAutoHeightDuration:hse,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=t.easeInOut,delay:f=0}=o;return yt(o,dse),(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof s=="string"?s:M5(s)} ${a} ${typeof f=="string"?f:M5(f)}`).join(",")}},e,{easing:t,duration:n})}const mse={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},gse=mse,yse=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function V$(e={},...t){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=e,s=yt(e,yse);if(e.vars)throw new Error(Od(18));const a=nse(r),f=nx(e);let h=eo(f,{mixins:Yae(f.breakpoints,n),palette:a,shadows:use.slice(),typography:ose(a,o),transitions:pse(i),zIndex:te({},gse)});return h=eo(h,s),h=t.reduce((g,v)=>eo(g,v),h),h.unstable_sxConfig=te({},J2,s==null?void 0:s.unstable_sxConfig),h.unstable_sx=function(v){return Q2({sx:v,theme:this})},h}const vse=V$(),rE=vse;function du(){const e=eE(rE);return e[dh]||e}function nn({props:e,name:t}){return z$({props:e,name:t,defaultTheme:rE,themeId:dh})}const Bs=e=>h0(e)&&e!=="classes",bse=h0,xse=f9({themeId:dh,defaultTheme:rE,rootShouldForwardProp:Bs}),ut=xse,_se=["theme"];function wse(e){let{theme:t}=e,n=yt(e,_se);const r=t[dh];return B.jsx($ae,te({},n,{themeId:r?dh:void 0,theme:r||t}))}const Sse=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)},I5=Sse;function Ese(e){return Qt("MuiSvgIcon",e)}tn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Cse=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Tse=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${st(t)}`,`fontSize${st(n)}`]};return en(i,Ese,r)},kse=ut("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${st(n.color)}`],t[`fontSize${st(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,i,o,s,a,f,h,g,v,x,k,O;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=e.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((a=e.typography)==null||(f=a.pxToRem)==null?void 0:f.call(a,24))||"1.5rem",large:((h=e.typography)==null||(g=h.pxToRem)==null?void 0:g.call(h,35))||"2.1875rem"}[t.fontSize],color:(v=(x=(e.vars||e).palette)==null||(x=x[t.color])==null?void 0:x.main)!=null?v:{action:(k=(e.vars||e).palette)==null||(k=k.action)==null?void 0:k.active,disabled:(O=(e.vars||e).palette)==null||(O=O.action)==null?void 0:O.disabled,inherit:void 0}[t.color]}}),y9=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:f="medium",htmlColor:h,inheritViewBox:g=!1,titleAccess:v,viewBox:x="0 0 24 24"}=r,k=yt(r,Cse),O=V.isValidElement(i)&&i.type==="svg",C=te({},r,{color:s,component:a,fontSize:f,instanceFontSize:t.fontSize,inheritViewBox:g,viewBox:x,hasSvgAsChild:O}),M={};g||(M.viewBox=x);const I=Tse(C);return B.jsxs(kse,te({as:a,className:Pt(I.root,o),focusable:"false",color:h,"aria-hidden":v?void 0:!0,role:v?"img":void 0,ref:n},M,k,O&&i.props,{ownerState:C,children:[O?i.props.children:i,v?B.jsx("title",{children:v}):null]}))});y9.muiName="SvgIcon";const $5=y9;function Og(e,t){function n(r,i){return B.jsx($5,te({"data-testid":`${t}Icon`,ref:i},r,{children:e}))}return n.muiName=$5.muiName,V.memo(V.forwardRef(n))}const Pse={configure:e=>{T$.configure(e)}},Ose=Object.freeze(Object.defineProperty({__proto__:null,capitalize:st,createChainedFunction:iA,createSvgIcon:Og,debounce:E$,deprecatedPropType:eie,isMuiElement:j1,ownerDocument:Vi,ownerWindow:Ad,requirePropFactory:tie,setRef:Rw,unstable_ClassNameGenerator:Pse,unstable_useEnhancedEffect:Rs,unstable_useId:B2,unsupportedProp:iie,useControlled:Vm,useEventCallback:fl,useForkRef:si,useIsFocusVisible:U2},Symbol.toStringTag,{value:"Module"}));function dA(e,t){return dA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dA(e,t)}function rx(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,dA(e,t)}const R5={disabled:!1},jw=Pe.createContext(null);var Ase=function(t){return t.scrollTop},Kv="unmounted",kf="exited",Pf="entering",jp="entered",fA="exiting",fu=function(e){rx(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,f;return o.appearStatus=null,r.in?a?(f=kf,o.appearStatus=Pf):f=jp:r.unmountOnExit||r.mountOnEnter?f=Kv:f=kf,o.state={status:f},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Kv?{status:kf}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Pf&&s!==jp&&(o=Pf):(s===Pf||s===jp)&&(o=fA)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Pf){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:G_.findDOMNode(this);s&&Ase(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===kf&&this.setState({status:Kv})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,f=this.props.nodeRef?[a]:[G_.findDOMNode(this),a],h=f[0],g=f[1],v=this.getTimeouts(),x=a?v.appear:v.enter;if(!i&&!s||R5.disabled){this.safeSetState({status:jp},function(){o.props.onEntered(h)});return}this.props.onEnter(h,g),this.safeSetState({status:Pf},function(){o.props.onEntering(h,g),o.onTransitionEnd(x,function(){o.safeSetState({status:jp},function(){o.props.onEntered(h,g)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:G_.findDOMNode(this);if(!o||R5.disabled){this.safeSetState({status:kf},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:fA},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:kf},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:G_.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],h=f[0],g=f[1];this.props.addEndListener(h,g)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Kv)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=yt(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Pe.createElement(jw.Provider,{value:null},typeof s=="function"?s(i,a):Pe.cloneElement(Pe.Children.only(s),a))},t}(Pe.Component);fu.contextType=jw;fu.propTypes={};function Cp(){}fu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Cp,onEntering:Cp,onEntered:Cp,onExit:Cp,onExiting:Cp,onExited:Cp};fu.UNMOUNTED=Kv;fu.EXITED=kf;fu.ENTERING=Pf;fu.ENTERED=jp;fu.EXITING=fA;const W$=fu;function tb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q$(e,t){var n=function(o){return t&&V.isValidElement(o)?t(o):o},r=Object.create(null);return e&&V.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Mse(e,t){e=e||{},t=t||{};function n(g){return g in t?t[g]:e[g]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var f in t){if(r[f])for(s=0;s<r[f].length;s++){var h=r[f][s];a[r[f][s]]=n(h)}a[f]=n(f)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function jf(e,t,n){return n[t]!=null?n[t]:e.props[t]}function Ise(e,t){return q$(e.children,function(n){return V.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:jf(n,"appear",e),enter:jf(n,"enter",e),exit:jf(n,"exit",e)})})}function $se(e,t,n){var r=q$(e.children),i=Mse(t,r);return Object.keys(i).forEach(function(o){var s=i[o];if(V.isValidElement(s)){var a=o in t,f=o in r,h=t[o],g=V.isValidElement(h)&&!h.props.in;f&&(!a||g)?i[o]=V.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:jf(s,"exit",e),enter:jf(s,"enter",e)}):!f&&a&&!g?i[o]=V.cloneElement(s,{in:!1}):f&&a&&V.isValidElement(h)&&(i[o]=V.cloneElement(s,{onExited:n.bind(null,s),in:h.props.in,exit:jf(s,"exit",e),enter:jf(s,"enter",e)}))}}),i}var Rse=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Dse={component:"div",childFactory:function(t){return t}},G$=function(e){rx(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=o.handleExited.bind(tb(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,f=o.firstRender;return{children:f?Ise(i,a):$se(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=q$(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var f=te({},a.children);return delete f[i.key],{children:f}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=yt(i,["component","childFactory"]),f=this.state.contextValue,h=Rse(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?Pe.createElement(jw.Provider,{value:f},h):Pe.createElement(jw.Provider,{value:f},Pe.createElement(o,a,h))},t}(Pe.Component);G$.propTypes={};G$.defaultProps=Dse;const Lse=G$,v9=e=>e.scrollTop;function Gm(e,t){var n,r;const{timeout:i,easing:o,style:s={}}=e;return{duration:(n=s.transitionDuration)!=null?n:typeof i=="number"?i:i[t.mode]||0,easing:(r=s.transitionTimingFunction)!=null?r:typeof o=="object"?o[t.mode]:o,delay:s.transitionDelay}}function Nse(e){return Qt("MuiCollapse",e)}tn("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const zse=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],jse=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return en(r,Nse,n)},Bse=ut("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>te({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&te({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),Fse=ut("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>te({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),Use=ut("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>te({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),b9=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiCollapse"}),{addEndListener:i,children:o,className:s,collapsedSize:a="0px",component:f,easing:h,in:g,onEnter:v,onEntered:x,onEntering:k,onExit:O,onExited:C,onExiting:M,orientation:I="vertical",style:A,timeout:P=g9.standard,TransitionComponent:$=W$}=r,z=yt(r,zse),N=te({},r,{orientation:I,collapsedSize:a}),F=jse(N),G=du(),J=V.useRef(),ee=V.useRef(null),ae=V.useRef(),pe=typeof a=="number"?`${a}px`:a,ye=I==="horizontal",we=ye?"width":"height";V.useEffect(()=>()=>{clearTimeout(J.current)},[]);const Ee=V.useRef(null),Oe=si(n,Ee),Ce=ot=>Gt=>{if(ot){const Ht=Ee.current;Gt===void 0?ot(Ht):ot(Ht,Gt)}},Se=()=>ee.current?ee.current[ye?"clientWidth":"clientHeight"]:0,De=Ce((ot,Gt)=>{ee.current&&ye&&(ee.current.style.position="absolute"),ot.style[we]=pe,v&&v(ot,Gt)}),We=Ce((ot,Gt)=>{const Ht=Se();ee.current&&ye&&(ee.current.style.position="");const{duration:Ge,easing:vt}=Gm({style:A,timeout:P,easing:h},{mode:"enter"});if(P==="auto"){const gt=G.transitions.getAutoHeightDuration(Ht);ot.style.transitionDuration=`${gt}ms`,ae.current=gt}else ot.style.transitionDuration=typeof Ge=="string"?Ge:`${Ge}ms`;ot.style[we]=`${Ht}px`,ot.style.transitionTimingFunction=vt,k&&k(ot,Gt)}),dt=Ce((ot,Gt)=>{ot.style[we]="auto",x&&x(ot,Gt)}),ht=Ce(ot=>{ot.style[we]=`${Se()}px`,O&&O(ot)}),Je=Ce(C),it=Ce(ot=>{const Gt=Se(),{duration:Ht,easing:Ge}=Gm({style:A,timeout:P,easing:h},{mode:"exit"});if(P==="auto"){const vt=G.transitions.getAutoHeightDuration(Gt);ot.style.transitionDuration=`${vt}ms`,ae.current=vt}else ot.style.transitionDuration=typeof Ht=="string"?Ht:`${Ht}ms`;ot.style[we]=pe,ot.style.transitionTimingFunction=Ge,M&&M(ot)}),Ot=ot=>{P==="auto"&&(J.current=setTimeout(ot,ae.current||0)),i&&i(Ee.current,ot)};return B.jsx($,te({in:g,onEnter:De,onEntered:dt,onEntering:We,onExit:ht,onExited:Je,onExiting:it,addEndListener:Ot,nodeRef:Ee,timeout:P==="auto"?null:P},z,{children:(ot,Gt)=>B.jsx(Bse,te({as:f,className:Pt(F.root,s,{entered:F.entered,exited:!g&&pe==="0px"&&F.hidden}[ot]),style:te({[ye?"minWidth":"minHeight"]:pe},A),ownerState:te({},N,{state:ot}),ref:Oe},Gt,{children:B.jsx(Fse,{ownerState:te({},N,{state:ot}),className:F.wrapper,ref:ee,children:B.jsx(Use,{ownerState:te({},N,{state:ot}),className:F.wrapperInner,children:o})})}))}))});b9.muiSupportAuto=!0;const Vse=b9;function Wse(e){return Qt("MuiPaper",e)}tn("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const qse=["className","component","elevation","square","variant"],Gse=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return en(o,Wse,i)},Hse=ut("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return te({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&te({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Rr("#fff",I5(t.elevation))}, ${Rr("#fff",I5(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),Yse=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:f="elevation"}=r,h=yt(r,qse),g=te({},r,{component:o,elevation:s,square:a,variant:f}),v=Gse(g);return B.jsx(Hse,te({as:o,ownerState:g,className:Pt(v.root,i),ref:n},h))}),bl=Yse,Kse=V.createContext({}),x9=Kse;function Zse(e){return Qt("MuiAccordion",e)}const Xse=tn("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),K_=Xse,Jse=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],Qse=e=>{const{classes:t,square:n,expanded:r,disabled:i,disableGutters:o}=e;return en({root:["root",!n&&"rounded",r&&"expanded",i&&"disabled",!o&&"gutters"],region:["region"]},Zse,t)},ele=ut(bl,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${K_.region}`]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&:before":{display:"none"}},[`&.${K_.expanded}`]:{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}},[`&.${K_.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}},({theme:e,ownerState:t})=>te({},!t.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!t.disableGutters&&{[`&.${K_.expanded}`]:{margin:"16px 0"}})),tle=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiAccordion"}),{children:i,className:o,defaultExpanded:s=!1,disabled:a=!1,disableGutters:f=!1,expanded:h,onChange:g,square:v=!1,TransitionComponent:x=Vse,TransitionProps:k}=r,O=yt(r,Jse),[C,M]=Vm({controlled:h,default:s,name:"Accordion",state:"expanded"}),I=V.useCallback(F=>{M(!C),g&&g(F,!C)},[C,g,M]),[A,...P]=V.Children.toArray(i),$=V.useMemo(()=>({expanded:C,disabled:a,disableGutters:f,toggle:I}),[C,a,f,I]),z=te({},r,{square:v,disabled:a,disableGutters:f,expanded:C}),N=Qse(z);return B.jsxs(ele,te({className:Pt(N.root,o),ref:n,ownerState:z,square:v},O,{children:[B.jsx(x9.Provider,{value:$,children:A}),B.jsx(x,te({in:C,timeout:"auto"},k,{children:B.jsx("div",{"aria-labelledby":A.props.id,id:A.props["aria-controls"],role:"region",className:N.region,children:P})}))]}))}),ph=tle;function nle(e){return Qt("MuiAccordionDetails",e)}tn("MuiAccordionDetails",["root"]);const rle=["className"],ile=e=>{const{classes:t}=e;return en({root:["root"]},nle,t)},ole=ut("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({padding:e.spacing(1,2,2)})),ale=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiAccordionDetails"}),{className:i}=r,o=yt(r,rle),s=r,a=ile(s);return B.jsx(ole,te({className:Pt(a.root,i),ref:n,ownerState:s},o))}),mh=ale;function sle(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:f,timeout:h}=e,[g,v]=V.useState(!1),x=Pt(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),k={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},O=Pt(n.child,g&&n.childLeaving,r&&n.childPulsate);return!a&&!g&&v(!0),V.useEffect(()=>{if(!a&&f!=null){const C=setTimeout(f,h);return()=>{clearTimeout(C)}}},[f,a,h]),B.jsx("span",{className:x,style:k,children:B.jsx("span",{className:O})})}const lle=tn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),bs=lle,cle=["center","classes","className"];let iE=e=>e,D5,L5,N5,z5;const hA=550,ule=80,dle=M$(D5||(D5=iE`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),fle=M$(L5||(L5=iE`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),hle=M$(N5||(N5=iE`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),ple=ut("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),mle=ut(sle,{name:"MuiTouchRipple",slot:"Ripple"})(z5||(z5=iE`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),bs.rippleVisible,dle,hA,({theme:e})=>e.transitions.easing.easeInOut,bs.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,bs.child,bs.childLeaving,fle,hA,({theme:e})=>e.transitions.easing.easeInOut,bs.childPulsate,hle,({theme:e})=>e.transitions.easing.easeInOut),gle=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=yt(r,cle),[f,h]=V.useState([]),g=V.useRef(0),v=V.useRef(null);V.useEffect(()=>{v.current&&(v.current(),v.current=null)},[f]);const x=V.useRef(!1),k=V.useRef(0),O=V.useRef(null),C=V.useRef(null);V.useEffect(()=>()=>{k.current&&clearTimeout(k.current)},[]);const M=V.useCallback($=>{const{pulsate:z,rippleX:N,rippleY:F,rippleSize:G,cb:J}=$;h(ee=>[...ee,B.jsx(mle,{classes:{ripple:Pt(o.ripple,bs.ripple),rippleVisible:Pt(o.rippleVisible,bs.rippleVisible),ripplePulsate:Pt(o.ripplePulsate,bs.ripplePulsate),child:Pt(o.child,bs.child),childLeaving:Pt(o.childLeaving,bs.childLeaving),childPulsate:Pt(o.childPulsate,bs.childPulsate)},timeout:hA,pulsate:z,rippleX:N,rippleY:F,rippleSize:G},g.current)]),g.current+=1,v.current=J},[o]),I=V.useCallback(($={},z={},N=()=>{})=>{const{pulsate:F=!1,center:G=i||z.pulsate,fakeElement:J=!1}=z;if(($==null?void 0:$.type)==="mousedown"&&x.current){x.current=!1;return}($==null?void 0:$.type)==="touchstart"&&(x.current=!0);const ee=J?null:C.current,ae=ee?ee.getBoundingClientRect():{width:0,height:0,left:0,top:0};let pe,ye,we;if(G||$===void 0||$.clientX===0&&$.clientY===0||!$.clientX&&!$.touches)pe=Math.round(ae.width/2),ye=Math.round(ae.height/2);else{const{clientX:Ee,clientY:Oe}=$.touches&&$.touches.length>0?$.touches[0]:$;pe=Math.round(Ee-ae.left),ye=Math.round(Oe-ae.top)}if(G)we=Math.sqrt((2*ae.width**2+ae.height**2)/3),we%2===0&&(we+=1);else{const Ee=Math.max(Math.abs((ee?ee.clientWidth:0)-pe),pe)*2+2,Oe=Math.max(Math.abs((ee?ee.clientHeight:0)-ye),ye)*2+2;we=Math.sqrt(Ee**2+Oe**2)}$!=null&&$.touches?O.current===null&&(O.current=()=>{M({pulsate:F,rippleX:pe,rippleY:ye,rippleSize:we,cb:N})},k.current=setTimeout(()=>{O.current&&(O.current(),O.current=null)},ule)):M({pulsate:F,rippleX:pe,rippleY:ye,rippleSize:we,cb:N})},[i,M]),A=V.useCallback(()=>{I({},{pulsate:!0})},[I]),P=V.useCallback(($,z)=>{if(clearTimeout(k.current),($==null?void 0:$.type)==="touchend"&&O.current){O.current(),O.current=null,k.current=setTimeout(()=>{P($,z)});return}O.current=null,h(N=>N.length>0?N.slice(1):N),v.current=z},[]);return V.useImperativeHandle(n,()=>({pulsate:A,start:I,stop:P}),[A,I,P]),B.jsx(ple,te({className:Pt(bs.root,o.root,s),ref:C},a,{children:B.jsx(Lse,{component:null,exit:!0,children:f})}))}),yle=gle;function vle(e){return Qt("MuiButtonBase",e)}const ble=tn("MuiButtonBase",["root","disabled","focusVisible"]),xle=ble,_le=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],wle=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,s=en({root:["root",t&&"disabled",n&&"focusVisible"]},vle,i);return n&&r&&(s.root+=` ${r}`),s},Sle=ut("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${xle.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Ele=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:f="button",disabled:h=!1,disableRipple:g=!1,disableTouchRipple:v=!1,focusRipple:x=!1,LinkComponent:k="a",onBlur:O,onClick:C,onContextMenu:M,onDragLeave:I,onFocus:A,onFocusVisible:P,onKeyDown:$,onKeyUp:z,onMouseDown:N,onMouseLeave:F,onMouseUp:G,onTouchEnd:J,onTouchMove:ee,onTouchStart:ae,tabIndex:pe=0,TouchRippleProps:ye,touchRippleRef:we,type:Ee}=r,Oe=yt(r,_le),Ce=V.useRef(null),Se=V.useRef(null),De=si(Se,we),{isFocusVisibleRef:We,onFocus:dt,onBlur:ht,ref:Je}=U2(),[it,Ot]=V.useState(!1);h&&it&&Ot(!1),V.useImperativeHandle(i,()=>({focusVisible:()=>{Ot(!0),Ce.current.focus()}}),[]);const[ot,Gt]=V.useState(!1);V.useEffect(()=>{Gt(!0)},[]);const Ht=ot&&!g&&!h;V.useEffect(()=>{it&&x&&!g&&ot&&Se.current.pulsate()},[g,x,it,ot]);function Ge(rn,Zn,Ii=v){return fl(mi=>(Zn&&Zn(mi),!Ii&&Se.current&&Se.current[rn](mi),!0))}const vt=Ge("start",N),gt=Ge("stop",M),Ve=Ge("stop",I),Et=Ge("stop",G),Tt=Ge("stop",rn=>{it&&rn.preventDefault(),F&&F(rn)}),qt=Ge("start",ae),vn=Ge("stop",J),Mn=Ge("stop",ee),xn=Ge("stop",rn=>{ht(rn),We.current===!1&&Ot(!1),O&&O(rn)},!1),rr=fl(rn=>{Ce.current||(Ce.current=rn.currentTarget),dt(rn),We.current===!0&&(Ot(!0),P&&P(rn)),A&&A(rn)}),Cn=()=>{const rn=Ce.current;return f&&f!=="button"&&!(rn.tagName==="A"&&rn.href)},Ne=V.useRef(!1),$n=fl(rn=>{x&&!Ne.current&&it&&Se.current&&rn.key===" "&&(Ne.current=!0,Se.current.stop(rn,()=>{Se.current.start(rn)})),rn.target===rn.currentTarget&&Cn()&&rn.key===" "&&rn.preventDefault(),$&&$(rn),rn.target===rn.currentTarget&&Cn()&&rn.key==="Enter"&&!h&&(rn.preventDefault(),C&&C(rn))}),Hn=fl(rn=>{x&&rn.key===" "&&Se.current&&it&&!rn.defaultPrevented&&(Ne.current=!1,Se.current.stop(rn,()=>{Se.current.pulsate(rn)})),z&&z(rn),C&&rn.target===rn.currentTarget&&Cn()&&rn.key===" "&&!rn.defaultPrevented&&C(rn)});let Dt=f;Dt==="button"&&(Oe.href||Oe.to)&&(Dt=k);const Kt={};Dt==="button"?(Kt.type=Ee===void 0?"button":Ee,Kt.disabled=h):(!Oe.href&&!Oe.to&&(Kt.role="button"),h&&(Kt["aria-disabled"]=h));const ir=si(n,Je,Ce),vr=te({},r,{centerRipple:o,component:f,disabled:h,disableRipple:g,disableTouchRipple:v,focusRipple:x,tabIndex:pe,focusVisible:it}),Ln=wle(vr);return B.jsxs(Sle,te({as:Dt,className:Pt(Ln.root,a),ownerState:vr,onBlur:xn,onClick:C,onContextMenu:gt,onFocus:rr,onKeyDown:$n,onKeyUp:Hn,onMouseDown:vt,onMouseLeave:Tt,onMouseUp:Et,onDragLeave:Ve,onTouchEnd:vn,onTouchMove:Mn,onTouchStart:qt,ref:ir,tabIndex:h?-1:pe,type:Ee},Kt,Oe,{children:[s,Ht?B.jsx(yle,te({ref:De,center:o},ye)):null]}))}),Ag=Ele;function Cle(e){return Qt("MuiAccordionSummary",e)}const Tle=tn("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),tm=Tle,kle=["children","className","expandIcon","focusVisibleClassName","onClick"],Ple=e=>{const{classes:t,expanded:n,disabled:r,disableGutters:i}=e;return en({root:["root",n&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},Cle,t)},Ole=ut(Ag,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>{const n={duration:e.transitions.duration.shortest};return te({display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],n),[`&.${tm.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${tm.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${tm.disabled})`]:{cursor:"pointer"}},!t.disableGutters&&{[`&.${tm.expanded}`]:{minHeight:64}})}),Ale=ut("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(({theme:e,ownerState:t})=>te({display:"flex",flexGrow:1,margin:"12px 0"},!t.disableGutters&&{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${tm.expanded}`]:{margin:"20px 0"}})),Mle=ut("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${tm.expanded}`]:{transform:"rotate(180deg)"}})),Ile=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiAccordionSummary"}),{children:i,className:o,expandIcon:s,focusVisibleClassName:a,onClick:f}=r,h=yt(r,kle),{disabled:g=!1,disableGutters:v,expanded:x,toggle:k}=V.useContext(x9),O=I=>{k&&k(I),f&&f(I)},C=te({},r,{expanded:x,disabled:g,disableGutters:v}),M=Ple(C);return B.jsxs(Ole,te({focusRipple:!1,disableRipple:!0,disabled:g,component:"div","aria-expanded":x,className:Pt(M.root,o),focusVisibleClassName:Pt(M.focusVisible,a),onClick:O,ref:n,ownerState:C},h,{children:[B.jsx(Ale,{className:M.content,ownerState:C,children:i}),s&&B.jsx(Mle,{className:M.expandIconWrapper,ownerState:C,children:s})]}))}),gh=Ile;function $le(e){return Qt("MuiIconButton",e)}const Rle=tn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Dle=Rle,Lle=["edge","children","className","color","disabled","disableFocusRipple","size"],Nle=e=>{const{classes:t,disabled:n,color:r,edge:i,size:o}=e,s={root:["root",n&&"disabled",r!=="default"&&`color${st(r)}`,i&&`edge${st(i)}`,`size${st(o)}`]};return en(s,$le,t)},zle=ut(Ag,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${st(n.color)}`],n.edge&&t[`edge${st(n.edge)}`],t[`size${st(n.size)}`]]}})(({theme:e,ownerState:t})=>te({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Rr(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return te({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&te({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":te({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Rr(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${Dle.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),jle=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:f=!1,disableFocusRipple:h=!1,size:g="medium"}=r,v=yt(r,Lle),x=te({},r,{edge:i,color:a,disabled:f,disableFocusRipple:h,size:g}),k=Nle(x);return B.jsx(zle,te({className:Pt(k.root,s),centerRipple:!0,focusRipple:!h,disabled:f,ref:n,ownerState:x},v,{children:o}))}),Jn=jle;function Ble(e){return Qt("MuiTypography",e)}tn("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Fle=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Ule=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e,a={root:["root",o,e.align!=="inherit"&&`align${st(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return en(a,Ble,s)},Vle=ut("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${st(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>te({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),j5={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Wle={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},qle=e=>Wle[e]||e,Gle=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiTypography"}),i=qle(r.color),o=tE(te({},r,{color:i})),{align:s="inherit",className:a,component:f,gutterBottom:h=!1,noWrap:g=!1,paragraph:v=!1,variant:x="body1",variantMapping:k=j5}=o,O=yt(o,Fle),C=te({},o,{align:s,color:i,className:a,component:f,gutterBottom:h,noWrap:g,paragraph:v,variant:x,variantMapping:k}),M=f||(v?"p":k[x]||j5[x])||"span",I=Ule(C);return B.jsx(Vle,te({as:M,ref:n,ownerState:C,className:Pt(I.root,a)},O))}),An=Gle;function Hle(e){return Qt("MuiAppBar",e)}tn("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Yle=["className","color","enableColorOnDark","position"],Kle=e=>{const{color:t,position:n,classes:r}=e,i={root:["root",`color${st(t)}`,`position${st(n)}`]};return en(i,Hle,r)},Z_=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,Zle=ut(bl,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${st(n.position)}`],t[`color${st(n.color)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[900];return te({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},t.position==="fixed"&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},t.position==="absolute"&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="sticky"&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="static"&&{position:"static"},t.position==="relative"&&{position:"relative"},!e.vars&&te({},t.color==="default"&&{backgroundColor:n,color:e.palette.getContrastText(n)},t.color&&t.color!=="default"&&t.color!=="inherit"&&t.color!=="transparent"&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},t.color==="inherit"&&{color:"inherit"},e.palette.mode==="dark"&&!t.enableColorOnDark&&{backgroundColor:null,color:null},t.color==="transparent"&&te({backgroundColor:"transparent",color:"inherit"},e.palette.mode==="dark"&&{backgroundImage:"none"})),e.vars&&te({},t.color==="default"&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:Z_(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:Z_(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:Z_(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:Z_(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:t.color==="inherit"?"inherit":"var(--AppBar-color)"},t.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),Xle=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:s=!1,position:a="fixed"}=r,f=yt(r,Yle),h=te({},r,{color:o,position:a,enableColorOnDark:s}),g=Kle(h);return B.jsx(Zle,te({square:!0,component:"header",ownerState:h,elevation:4,className:Pt(g.root,i,a==="fixed"&&"mui-fixed"),ref:n},f))}),H$=Xle;function Bw(e){return typeof e=="string"}function Zv(e,t,n){return e===void 0||Bw(e)?t:te({},t,{ownerState:te({},t.ownerState,n)})}const Jle={disableDefaultClasses:!1},Qle=V.createContext(Jle);function ece(e){const{disableDefaultClasses:t}=V.useContext(Qle);return n=>t?"":e(n)}function Fw(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function tce(e,t,n){return typeof e=="function"?e(t,n):e}function B5(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function nce(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const k=Pt(i==null?void 0:i.className,r==null?void 0:r.className,o,n==null?void 0:n.className),O=te({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),C=te({},n,i,r);return k.length>0&&(C.className=k),Object.keys(O).length>0&&(C.style=O),{props:C,internalRef:void 0}}const s=Fw(te({},i,r)),a=B5(r),f=B5(i),h=t(s),g=Pt(h==null?void 0:h.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),v=te({},h==null?void 0:h.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),x=te({},h,n,f,a);return g.length>0&&(x.className=g),Object.keys(v).length>0&&(x.style=v),{props:x,internalRef:h.ref}}const rce=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function ic(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,s=yt(e,rce),a=o?{}:tce(r,i),{props:f,internalRef:h}=nce(te({},s,{externalSlotProps:a})),g=si(h,a==null?void 0:a.ref,(t=e.additionalProps)==null?void 0:t.ref);return Zv(n,te({},f,{ref:g}),i)}function ice(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:i=!1}=e,o=VW({badgeContent:t,max:r});let s=n;n===!1&&t===0&&!i&&(s=!0);const{badgeContent:a,max:f=r}=s?o:e,h=a&&Number(a)>f?`${f}+`:a;return{badgeContent:a,invisible:s,max:f,displayValue:h}}function F5(e){return e.substring(2).toLowerCase()}function oce(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function ace(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:o="onTouchEnd"}=e,s=V.useRef(!1),a=V.useRef(null),f=V.useRef(!1),h=V.useRef(!1);V.useEffect(()=>(setTimeout(()=>{f.current=!0},0),()=>{f.current=!1}),[]);const g=si(t.ref,a),v=fl(O=>{const C=h.current;h.current=!1;const M=Vi(a.current);if(!f.current||!a.current||"clientX"in O&&oce(O,M))return;if(s.current){s.current=!1;return}let I;O.composedPath?I=O.composedPath().indexOf(a.current)>-1:I=!M.documentElement.contains(O.target)||a.current.contains(O.target),!I&&(n||!C)&&i(O)}),x=O=>C=>{h.current=!0;const M=t.props[O];M&&M(C)},k={ref:g};return o!==!1&&(k[o]=x(o)),V.useEffect(()=>{if(o!==!1){const O=F5(o),C=Vi(a.current),M=()=>{s.current=!0};return C.addEventListener(O,v),C.addEventListener("touchmove",M),()=>{C.removeEventListener(O,v),C.removeEventListener("touchmove",M)}}},[v,o]),r!==!1&&(k[r]=x(r)),V.useEffect(()=>{if(r!==!1){const O=F5(r),C=Vi(a.current);return C.addEventListener(O,v),()=>{C.removeEventListener(O,v)}}},[v,r]),B.jsx(V.Fragment,{children:V.cloneElement(t,k)})}const sce=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function lce(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function cce(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function uce(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||cce(e))}function dce(e){const t=[],n=[];return Array.from(e.querySelectorAll(sce)).forEach((r,i)=>{const o=lce(r);o===-1||!uce(r)||(o===0?t.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function fce(){return!0}function hce(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=dce,isEnabled:s=fce,open:a}=e,f=V.useRef(!1),h=V.useRef(null),g=V.useRef(null),v=V.useRef(null),x=V.useRef(null),k=V.useRef(!1),O=V.useRef(null),C=si(t.ref,O),M=V.useRef(null);V.useEffect(()=>{!a||!O.current||(k.current=!n)},[n,a]),V.useEffect(()=>{if(!a||!O.current)return;const P=Vi(O.current);return O.current.contains(P.activeElement)||(O.current.hasAttribute("tabIndex")||O.current.setAttribute("tabIndex","-1"),k.current&&O.current.focus()),()=>{i||(v.current&&v.current.focus&&(f.current=!0,v.current.focus()),v.current=null)}},[a]),V.useEffect(()=>{if(!a||!O.current)return;const P=Vi(O.current),$=F=>{M.current=F,!(r||!s()||F.key!=="Tab")&&P.activeElement===O.current&&F.shiftKey&&(f.current=!0,g.current&&g.current.focus())},z=()=>{const F=O.current;if(F===null)return;if(!P.hasFocus()||!s()||f.current){f.current=!1;return}if(F.contains(P.activeElement)||r&&P.activeElement!==h.current&&P.activeElement!==g.current)return;if(P.activeElement!==x.current)x.current=null;else if(x.current!==null)return;if(!k.current)return;let G=[];if((P.activeElement===h.current||P.activeElement===g.current)&&(G=o(O.current)),G.length>0){var J,ee;const ae=!!((J=M.current)!=null&&J.shiftKey&&((ee=M.current)==null?void 0:ee.key)==="Tab"),pe=G[0],ye=G[G.length-1];typeof pe!="string"&&typeof ye!="string"&&(ae?ye.focus():pe.focus())}else F.focus()};P.addEventListener("focusin",z),P.addEventListener("keydown",$,!0);const N=setInterval(()=>{P.activeElement&&P.activeElement.tagName==="BODY"&&z()},50);return()=>{clearInterval(N),P.removeEventListener("focusin",z),P.removeEventListener("keydown",$,!0)}},[n,r,i,s,a,o]);const I=P=>{v.current===null&&(v.current=P.relatedTarget),k.current=!0,x.current=P.target;const $=t.props.onFocus;$&&$(P)},A=P=>{v.current===null&&(v.current=P.relatedTarget),k.current=!0};return B.jsxs(V.Fragment,{children:[B.jsx("div",{tabIndex:a?0:-1,onFocus:A,ref:h,"data-testid":"sentinelStart"}),V.cloneElement(t,{ref:C,onFocus:I}),B.jsx("div",{tabIndex:a?0:-1,onFocus:A,ref:g,"data-testid":"sentinelEnd"})]})}var Ta="top",Ds="bottom",Ls="right",ka="left",Y$="auto",ix=[Ta,Ds,Ls,ka],Hm="start",nb="end",pce="clippingParents",_9="viewport",gv="popper",mce="reference",U5=ix.reduce(function(e,t){return e.concat([t+"-"+Hm,t+"-"+nb])},[]),w9=[].concat(ix,[Y$]).reduce(function(e,t){return e.concat([t,t+"-"+Hm,t+"-"+nb])},[]),gce="beforeRead",yce="read",vce="afterRead",bce="beforeMain",xce="main",_ce="afterMain",wce="beforeWrite",Sce="write",Ece="afterWrite",Cce=[gce,yce,vce,bce,xce,_ce,wce,Sce,Ece];function oc(e){return e?(e.nodeName||"").toLowerCase():null}function Ja(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function yh(e){var t=Ja(e).Element;return e instanceof t||e instanceof Element}function ks(e){var t=Ja(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function K$(e){if(typeof ShadowRoot>"u")return!1;var t=Ja(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Tce(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!ks(o)||!oc(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function kce(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=s.reduce(function(f,h){return f[h]="",f},{});!ks(i)||!oc(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(f){i.removeAttribute(f)}))})}}const Pce={name:"applyStyles",enabled:!0,phase:"write",fn:Tce,effect:kce,requires:["computeStyles"]};function ec(e){return e.split("-")[0]}var Xf=Math.max,Uw=Math.min,Ym=Math.round;function pA(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function S9(){return!/^((?!chrome|android).)*safari/i.test(pA())}function Km(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&ks(e)&&(i=e.offsetWidth>0&&Ym(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Ym(r.height)/e.offsetHeight||1);var s=yh(e)?Ja(e):window,a=s.visualViewport,f=!S9()&&n,h=(r.left+(f&&a?a.offsetLeft:0))/i,g=(r.top+(f&&a?a.offsetTop:0))/o,v=r.width/i,x=r.height/o;return{width:v,height:x,top:g,right:h+v,bottom:g+x,left:h,x:h,y:g}}function Z$(e){var t=Km(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function E9(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&K$(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ru(e){return Ja(e).getComputedStyle(e)}function Oce(e){return["table","td","th"].indexOf(oc(e))>=0}function Fd(e){return((yh(e)?e.ownerDocument:e.document)||window.document).documentElement}function oE(e){return oc(e)==="html"?e:e.assignedSlot||e.parentNode||(K$(e)?e.host:null)||Fd(e)}function V5(e){return!ks(e)||ru(e).position==="fixed"?null:e.offsetParent}function Ace(e){var t=/firefox/i.test(pA()),n=/Trident/i.test(pA());if(n&&ks(e)){var r=ru(e);if(r.position==="fixed")return null}var i=oE(e);for(K$(i)&&(i=i.host);ks(i)&&["html","body"].indexOf(oc(i))<0;){var o=ru(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function ox(e){for(var t=Ja(e),n=V5(e);n&&Oce(n)&&ru(n).position==="static";)n=V5(n);return n&&(oc(n)==="html"||oc(n)==="body"&&ru(n).position==="static")?t:n||Ace(e)||t}function X$(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function p0(e,t,n){return Xf(e,Uw(t,n))}function Mce(e,t,n){var r=p0(e,t,n);return r>n?n:r}function C9(){return{top:0,right:0,bottom:0,left:0}}function T9(e){return Object.assign({},C9(),e)}function k9(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var Ice=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,T9(typeof t!="number"?t:k9(t,ix))};function $ce(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=ec(n.placement),f=X$(a),h=[ka,Ls].indexOf(a)>=0,g=h?"height":"width";if(!(!o||!s)){var v=Ice(i.padding,n),x=Z$(o),k=f==="y"?Ta:ka,O=f==="y"?Ds:Ls,C=n.rects.reference[g]+n.rects.reference[f]-s[f]-n.rects.popper[g],M=s[f]-n.rects.reference[f],I=ox(o),A=I?f==="y"?I.clientHeight||0:I.clientWidth||0:0,P=C/2-M/2,$=v[k],z=A-x[g]-v[O],N=A/2-x[g]/2+P,F=p0($,N,z),G=f;n.modifiersData[r]=(t={},t[G]=F,t.centerOffset=F-N,t)}}function Rce(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||E9(t.elements.popper,i)&&(t.elements.arrow=i))}const Dce={name:"arrow",enabled:!0,phase:"main",fn:$ce,effect:Rce,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Zm(e){return e.split("-")[1]}var Lce={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Nce(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Ym(n*i)/i||0,y:Ym(r*i)/i||0}}function W5(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,f=e.gpuAcceleration,h=e.adaptive,g=e.roundOffsets,v=e.isFixed,x=s.x,k=x===void 0?0:x,O=s.y,C=O===void 0?0:O,M=typeof g=="function"?g({x:k,y:C}):{x:k,y:C};k=M.x,C=M.y;var I=s.hasOwnProperty("x"),A=s.hasOwnProperty("y"),P=ka,$=Ta,z=window;if(h){var N=ox(n),F="clientHeight",G="clientWidth";if(N===Ja(n)&&(N=Fd(n),ru(N).position!=="static"&&a==="absolute"&&(F="scrollHeight",G="scrollWidth")),N=N,i===Ta||(i===ka||i===Ls)&&o===nb){$=Ds;var J=v&&N===z&&z.visualViewport?z.visualViewport.height:N[F];C-=J-r.height,C*=f?1:-1}if(i===ka||(i===Ta||i===Ds)&&o===nb){P=Ls;var ee=v&&N===z&&z.visualViewport?z.visualViewport.width:N[G];k-=ee-r.width,k*=f?1:-1}}var ae=Object.assign({position:a},h&&Lce),pe=g===!0?Nce({x:k,y:C},Ja(n)):{x:k,y:C};if(k=pe.x,C=pe.y,f){var ye;return Object.assign({},ae,(ye={},ye[$]=A?"0":"",ye[P]=I?"0":"",ye.transform=(z.devicePixelRatio||1)<=1?"translate("+k+"px, "+C+"px)":"translate3d("+k+"px, "+C+"px, 0)",ye))}return Object.assign({},ae,(t={},t[$]=A?C+"px":"",t[P]=I?k+"px":"",t.transform="",t))}function zce(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,f=a===void 0?!0:a,h={placement:ec(t.placement),variation:Zm(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,W5(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:f})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,W5(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const jce={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:zce,data:{}};var X_={passive:!0};function Bce(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,f=Ja(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&h.forEach(function(g){g.addEventListener("scroll",n.update,X_)}),a&&f.addEventListener("resize",n.update,X_),function(){o&&h.forEach(function(g){g.removeEventListener("scroll",n.update,X_)}),a&&f.removeEventListener("resize",n.update,X_)}}const Fce={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Bce,data:{}};var Uce={left:"right",right:"left",bottom:"top",top:"bottom"};function W1(e){return e.replace(/left|right|bottom|top/g,function(t){return Uce[t]})}var Vce={start:"end",end:"start"};function q5(e){return e.replace(/start|end/g,function(t){return Vce[t]})}function J$(e){var t=Ja(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Q$(e){return Km(Fd(e)).left+J$(e).scrollLeft}function Wce(e,t){var n=Ja(e),r=Fd(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,f=0;if(i){o=i.width,s=i.height;var h=S9();(h||!h&&t==="fixed")&&(a=i.offsetLeft,f=i.offsetTop)}return{width:o,height:s,x:a+Q$(e),y:f}}function qce(e){var t,n=Fd(e),r=J$(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=Xf(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Xf(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Q$(e),f=-r.scrollTop;return ru(i||n).direction==="rtl"&&(a+=Xf(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:f}}function eR(e){var t=ru(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function P9(e){return["html","body","#document"].indexOf(oc(e))>=0?e.ownerDocument.body:ks(e)&&eR(e)?e:P9(oE(e))}function m0(e,t){var n;t===void 0&&(t=[]);var r=P9(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=Ja(r),s=i?[o].concat(o.visualViewport||[],eR(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(m0(oE(s)))}function mA(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Gce(e,t){var n=Km(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function G5(e,t,n){return t===_9?mA(Wce(e,n)):yh(t)?Gce(t,n):mA(qce(Fd(e)))}function Hce(e){var t=m0(oE(e)),n=["absolute","fixed"].indexOf(ru(e).position)>=0,r=n&&ks(e)?ox(e):e;return yh(r)?t.filter(function(i){return yh(i)&&E9(i,r)&&oc(i)!=="body"}):[]}function Yce(e,t,n,r){var i=t==="clippingParents"?Hce(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(f,h){var g=G5(e,h,r);return f.top=Xf(g.top,f.top),f.right=Uw(g.right,f.right),f.bottom=Uw(g.bottom,f.bottom),f.left=Xf(g.left,f.left),f},G5(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function O9(e){var t=e.reference,n=e.element,r=e.placement,i=r?ec(r):null,o=r?Zm(r):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,f;switch(i){case Ta:f={x:s,y:t.y-n.height};break;case Ds:f={x:s,y:t.y+t.height};break;case Ls:f={x:t.x+t.width,y:a};break;case ka:f={x:t.x-n.width,y:a};break;default:f={x:t.x,y:t.y}}var h=i?X$(i):null;if(h!=null){var g=h==="y"?"height":"width";switch(o){case Hm:f[h]=f[h]-(t[g]/2-n[g]/2);break;case nb:f[h]=f[h]+(t[g]/2-n[g]/2);break}}return f}function rb(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.strategy,s=o===void 0?e.strategy:o,a=n.boundary,f=a===void 0?pce:a,h=n.rootBoundary,g=h===void 0?_9:h,v=n.elementContext,x=v===void 0?gv:v,k=n.altBoundary,O=k===void 0?!1:k,C=n.padding,M=C===void 0?0:C,I=T9(typeof M!="number"?M:k9(M,ix)),A=x===gv?mce:gv,P=e.rects.popper,$=e.elements[O?A:x],z=Yce(yh($)?$:$.contextElement||Fd(e.elements.popper),f,g,s),N=Km(e.elements.reference),F=O9({reference:N,element:P,strategy:"absolute",placement:i}),G=mA(Object.assign({},P,F)),J=x===gv?G:N,ee={top:z.top-J.top+I.top,bottom:J.bottom-z.bottom+I.bottom,left:z.left-J.left+I.left,right:J.right-z.right+I.right},ae=e.modifiersData.offset;if(x===gv&&ae){var pe=ae[i];Object.keys(ee).forEach(function(ye){var we=[Ls,Ds].indexOf(ye)>=0?1:-1,Ee=[Ta,Ds].indexOf(ye)>=0?"y":"x";ee[ye]+=pe[Ee]*we})}return ee}function Kce(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,f=n.allowedAutoPlacements,h=f===void 0?w9:f,g=Zm(r),v=g?a?U5:U5.filter(function(O){return Zm(O)===g}):ix,x=v.filter(function(O){return h.indexOf(O)>=0});x.length===0&&(x=v);var k=x.reduce(function(O,C){return O[C]=rb(e,{placement:C,boundary:i,rootBoundary:o,padding:s})[ec(C)],O},{});return Object.keys(k).sort(function(O,C){return k[O]-k[C]})}function Zce(e){if(ec(e)===Y$)return[];var t=W1(e);return[q5(e),t,q5(t)]}function Xce(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,f=n.fallbackPlacements,h=n.padding,g=n.boundary,v=n.rootBoundary,x=n.altBoundary,k=n.flipVariations,O=k===void 0?!0:k,C=n.allowedAutoPlacements,M=t.options.placement,I=ec(M),A=I===M,P=f||(A||!O?[W1(M)]:Zce(M)),$=[M].concat(P).reduce(function(it,Ot){return it.concat(ec(Ot)===Y$?Kce(t,{placement:Ot,boundary:g,rootBoundary:v,padding:h,flipVariations:O,allowedAutoPlacements:C}):Ot)},[]),z=t.rects.reference,N=t.rects.popper,F=new Map,G=!0,J=$[0],ee=0;ee<$.length;ee++){var ae=$[ee],pe=ec(ae),ye=Zm(ae)===Hm,we=[Ta,Ds].indexOf(pe)>=0,Ee=we?"width":"height",Oe=rb(t,{placement:ae,boundary:g,rootBoundary:v,altBoundary:x,padding:h}),Ce=we?ye?Ls:ka:ye?Ds:Ta;z[Ee]>N[Ee]&&(Ce=W1(Ce));var Se=W1(Ce),De=[];if(o&&De.push(Oe[pe]<=0),a&&De.push(Oe[Ce]<=0,Oe[Se]<=0),De.every(function(it){return it})){J=ae,G=!1;break}F.set(ae,De)}if(G)for(var We=O?3:1,dt=function(Ot){var ot=$.find(function(Gt){var Ht=F.get(Gt);if(Ht)return Ht.slice(0,Ot).every(function(Ge){return Ge})});if(ot)return J=ot,"break"},ht=We;ht>0;ht--){var Je=dt(ht);if(Je==="break")break}t.placement!==J&&(t.modifiersData[r]._skip=!0,t.placement=J,t.reset=!0)}}const Jce={name:"flip",enabled:!0,phase:"main",fn:Xce,requiresIfExists:["offset"],data:{_skip:!1}};function H5(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Y5(e){return[Ta,Ls,Ds,ka].some(function(t){return e[t]>=0})}function Qce(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=rb(t,{elementContext:"reference"}),a=rb(t,{altBoundary:!0}),f=H5(s,r),h=H5(a,i,o),g=Y5(f),v=Y5(h);t.modifiersData[n]={referenceClippingOffsets:f,popperEscapeOffsets:h,isReferenceHidden:g,hasPopperEscaped:v},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":v})}const eue={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Qce};function tue(e,t,n){var r=ec(e),i=[ka,Ta].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[ka,Ls].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function nue(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,s=w9.reduce(function(g,v){return g[v]=tue(v,t.rects,o),g},{}),a=s[t.placement],f=a.x,h=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=f,t.modifiersData.popperOffsets.y+=h),t.modifiersData[r]=s}const rue={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:nue};function iue(e){var t=e.state,n=e.name;t.modifiersData[n]=O9({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const oue={name:"popperOffsets",enabled:!0,phase:"read",fn:iue,data:{}};function aue(e){return e==="x"?"y":"x"}function sue(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,f=n.boundary,h=n.rootBoundary,g=n.altBoundary,v=n.padding,x=n.tether,k=x===void 0?!0:x,O=n.tetherOffset,C=O===void 0?0:O,M=rb(t,{boundary:f,rootBoundary:h,padding:v,altBoundary:g}),I=ec(t.placement),A=Zm(t.placement),P=!A,$=X$(I),z=aue($),N=t.modifiersData.popperOffsets,F=t.rects.reference,G=t.rects.popper,J=typeof C=="function"?C(Object.assign({},t.rects,{placement:t.placement})):C,ee=typeof J=="number"?{mainAxis:J,altAxis:J}:Object.assign({mainAxis:0,altAxis:0},J),ae=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,pe={x:0,y:0};if(N){if(o){var ye,we=$==="y"?Ta:ka,Ee=$==="y"?Ds:Ls,Oe=$==="y"?"height":"width",Ce=N[$],Se=Ce+M[we],De=Ce-M[Ee],We=k?-G[Oe]/2:0,dt=A===Hm?F[Oe]:G[Oe],ht=A===Hm?-G[Oe]:-F[Oe],Je=t.elements.arrow,it=k&&Je?Z$(Je):{width:0,height:0},Ot=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:C9(),ot=Ot[we],Gt=Ot[Ee],Ht=p0(0,F[Oe],it[Oe]),Ge=P?F[Oe]/2-We-Ht-ot-ee.mainAxis:dt-Ht-ot-ee.mainAxis,vt=P?-F[Oe]/2+We+Ht+Gt+ee.mainAxis:ht+Ht+Gt+ee.mainAxis,gt=t.elements.arrow&&ox(t.elements.arrow),Ve=gt?$==="y"?gt.clientTop||0:gt.clientLeft||0:0,Et=(ye=ae==null?void 0:ae[$])!=null?ye:0,Tt=Ce+Ge-Et-Ve,qt=Ce+vt-Et,vn=p0(k?Uw(Se,Tt):Se,Ce,k?Xf(De,qt):De);N[$]=vn,pe[$]=vn-Ce}if(a){var Mn,xn=$==="x"?Ta:ka,rr=$==="x"?Ds:Ls,Cn=N[z],Ne=z==="y"?"height":"width",$n=Cn+M[xn],Hn=Cn-M[rr],Dt=[Ta,ka].indexOf(I)!==-1,Kt=(Mn=ae==null?void 0:ae[z])!=null?Mn:0,ir=Dt?$n:Cn-F[Ne]-G[Ne]-Kt+ee.altAxis,vr=Dt?Cn+F[Ne]+G[Ne]-Kt-ee.altAxis:Hn,Ln=k&&Dt?Mce(ir,Cn,vr):p0(k?ir:$n,Cn,k?vr:Hn);N[z]=Ln,pe[z]=Ln-Cn}t.modifiersData[r]=pe}}const lue={name:"preventOverflow",enabled:!0,phase:"main",fn:sue,requiresIfExists:["offset"]};function cue(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function uue(e){return e===Ja(e)||!ks(e)?J$(e):cue(e)}function due(e){var t=e.getBoundingClientRect(),n=Ym(t.width)/e.offsetWidth||1,r=Ym(t.height)/e.offsetHeight||1;return n!==1||r!==1}function fue(e,t,n){n===void 0&&(n=!1);var r=ks(t),i=ks(t)&&due(t),o=Fd(t),s=Km(e,i,n),a={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!n)&&((oc(t)!=="body"||eR(o))&&(a=uue(t)),ks(t)?(f=Km(t,!0),f.x+=t.clientLeft,f.y+=t.clientTop):o&&(f.x=Q$(o))),{x:s.left+a.scrollLeft-f.x,y:s.top+a.scrollTop-f.y,width:s.width,height:s.height}}function hue(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var f=t.get(a);f&&i(f)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function pue(e){var t=hue(e);return Cce.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function mue(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function gue(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var K5={placement:"bottom",modifiers:[],strategy:"absolute"};function Z5(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function yue(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?K5:i;return function(a,f,h){h===void 0&&(h=o);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},K5,o),modifiersData:{},elements:{reference:a,popper:f},attributes:{},styles:{}},v=[],x=!1,k={state:g,setOptions:function(I){var A=typeof I=="function"?I(g.options):I;C(),g.options=Object.assign({},o,g.options,A),g.scrollParents={reference:yh(a)?m0(a):a.contextElement?m0(a.contextElement):[],popper:m0(f)};var P=pue(gue([].concat(r,g.options.modifiers)));return g.orderedModifiers=P.filter(function($){return $.enabled}),O(),k.update()},forceUpdate:function(){if(!x){var I=g.elements,A=I.reference,P=I.popper;if(Z5(A,P)){g.rects={reference:fue(A,ox(P),g.options.strategy==="fixed"),popper:Z$(P)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(ee){return g.modifiersData[ee.name]=Object.assign({},ee.data)});for(var $=0;$<g.orderedModifiers.length;$++){if(g.reset===!0){g.reset=!1,$=-1;continue}var z=g.orderedModifiers[$],N=z.fn,F=z.options,G=F===void 0?{}:F,J=z.name;typeof N=="function"&&(g=N({state:g,options:G,name:J,instance:k})||g)}}}},update:mue(function(){return new Promise(function(M){k.forceUpdate(),M(g)})}),destroy:function(){C(),x=!0}};if(!Z5(a,f))return k;k.setOptions(h).then(function(M){!x&&h.onFirstUpdate&&h.onFirstUpdate(M)});function O(){g.orderedModifiers.forEach(function(M){var I=M.name,A=M.options,P=A===void 0?{}:A,$=M.effect;if(typeof $=="function"){var z=$({state:g,name:I,instance:k,options:P}),N=function(){};v.push(z||N)}})}function C(){v.forEach(function(M){return M()}),v=[]}return k}}var vue=[Fce,oue,jce,Pce,rue,Jce,lue,Dce,eue],bue=yue({defaultModifiers:vue});function xue(e){return typeof e=="function"?e():e}const A9=V.forwardRef(function(t,n){const{children:r,container:i,disablePortal:o=!1}=t,[s,a]=V.useState(null),f=si(V.isValidElement(r)?r.ref:null,n);if(Rs(()=>{o||a(xue(i)||document.body)},[i,o]),Rs(()=>{if(s&&!o)return Rw(n,s),()=>{Rw(n,null)}},[n,s,o]),o){if(V.isValidElement(r)){const h={ref:f};return V.cloneElement(r,h)}return B.jsx(V.Fragment,{children:r})}return B.jsx(V.Fragment,{children:s&&lc.createPortal(r,s)})});function _ue(e){return Qt("MuiPopper",e)}tn("MuiPopper",["root"]);const wue=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Sue=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Eue(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function gA(e){return typeof e=="function"?e():e}function Cue(e){return e.nodeType!==void 0}const Tue=()=>en({root:["root"]},ece(_ue)),kue={},Pue=V.forwardRef(function(t,n){var r;const{anchorEl:i,children:o,direction:s,disablePortal:a,modifiers:f,open:h,placement:g,popperOptions:v,popperRef:x,slotProps:k={},slots:O={},TransitionProps:C}=t,M=yt(t,wue),I=V.useRef(null),A=si(I,n),P=V.useRef(null),$=si(P,x),z=V.useRef($);Rs(()=>{z.current=$},[$]),V.useImperativeHandle(x,()=>P.current,[]);const N=Eue(g,s),[F,G]=V.useState(N),[J,ee]=V.useState(gA(i));V.useEffect(()=>{P.current&&P.current.forceUpdate()}),V.useEffect(()=>{i&&ee(gA(i))},[i]),Rs(()=>{if(!J||!h)return;const Ee=Se=>{G(Se.placement)};let Oe=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Se})=>{Ee(Se)}}];f!=null&&(Oe=Oe.concat(f)),v&&v.modifiers!=null&&(Oe=Oe.concat(v.modifiers));const Ce=bue(J,I.current,te({placement:N},v,{modifiers:Oe}));return z.current(Ce),()=>{Ce.destroy(),z.current(null)}},[J,a,f,h,v,N]);const ae={placement:F};C!==null&&(ae.TransitionProps=C);const pe=Tue(),ye=(r=O.root)!=null?r:"div",we=ic({elementType:ye,externalSlotProps:k.root,externalForwardedProps:M,additionalProps:{role:"tooltip",ref:A},ownerState:t,className:pe.root});return B.jsx(ye,te({},we,{children:typeof o=="function"?o(ae):o}))}),Oue=V.forwardRef(function(t,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:f=!1,modifiers:h,open:g,placement:v="bottom",popperOptions:x=kue,popperRef:k,style:O,transition:C=!1,slotProps:M={},slots:I={}}=t,A=yt(t,Sue),[P,$]=V.useState(!0),z=()=>{$(!1)},N=()=>{$(!0)};if(!f&&!g&&(!C||P))return null;let F;if(o)F=o;else if(r){const ee=gA(r);F=ee&&Cue(ee)?Vi(ee).body:Vi(null).body}const G=!g&&f&&(!C||P)?"none":void 0,J=C?{in:g,onEnter:z,onExited:N}:void 0;return B.jsx(A9,{disablePortal:a,container:F,children:B.jsx(Pue,te({anchorEl:r,direction:s,disablePortal:a,modifiers:h,ref:n,open:C?!P:g,placement:v,popperOptions:x,popperRef:k,slotProps:M,slots:I},A,{style:te({position:"fixed",top:0,left:0,display:G},O),TransitionProps:J,children:i}))})});function Aue(e){const t=Vi(e);return t.body===e?Ad(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function g0(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function X5(e){return parseInt(Ad(e).getComputedStyle(e).paddingRight,10)||0}function Mue(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function J5(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,s=>{const a=o.indexOf(s)===-1,f=!Mue(s);a&&f&&g0(s,i)})}function Ik(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function Iue(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(Aue(r)){const s=UW(Vi(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${X5(r)+s}px`;const a=Vi(r).querySelectorAll(".mui-fixed");[].forEach.call(a,f=>{n.push({value:f.style.paddingRight,property:"padding-right",el:f}),f.style.paddingRight=`${X5(f)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Vi(r).body;else{const s=r.parentElement,a=Ad(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function $ue(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class Rue{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&g0(t.modalRef,!1);const i=$ue(n);J5(n,t.mount,t.modalRef,i,!0);const o=Ik(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=Ik(this.containers,o=>o.modals.indexOf(t)!==-1),i=this.containers[r];i.restore||(i.restore=Iue(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=Ik(this.containers,s=>s.modals.indexOf(t)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&g0(t.modalRef,n),J5(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&g0(s.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function Due(e){return typeof e=="function"?e():e}function Lue(e){return e?e.props.hasOwnProperty("in"):!1}const Nue=new Rue;function zue(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=Nue,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:f,onClose:h,open:g,rootRef:v}=e,x=V.useRef({}),k=V.useRef(null),O=V.useRef(null),C=si(O,v),[M,I]=V.useState(!g),A=Lue(f);let P=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(P=!1);const $=()=>Vi(k.current),z=()=>(x.current.modalRef=O.current,x.current.mount=k.current,x.current),N=()=>{i.mount(z(),{disableScrollLock:r}),O.current&&(O.current.scrollTop=0)},F=fl(()=>{const Oe=Due(t)||$().body;i.add(z(),Oe),O.current&&N()}),G=V.useCallback(()=>i.isTopModal(z()),[i]),J=fl(Oe=>{k.current=Oe,Oe&&(g&&G()?N():O.current&&g0(O.current,P))}),ee=V.useCallback(()=>{i.remove(z(),P)},[P,i]);V.useEffect(()=>()=>{ee()},[ee]),V.useEffect(()=>{g?F():(!A||!o)&&ee()},[g,ee,A,o,F]);const ae=Oe=>Ce=>{var Se;(Se=Oe.onKeyDown)==null||Se.call(Oe,Ce),!(Ce.key!=="Escape"||!G())&&(n||(Ce.stopPropagation(),h&&h(Ce,"escapeKeyDown")))},pe=Oe=>Ce=>{var Se;(Se=Oe.onClick)==null||Se.call(Oe,Ce),Ce.target===Ce.currentTarget&&h&&h(Ce,"backdropClick")};return{getRootProps:(Oe={})=>{const Ce=Fw(e);delete Ce.onTransitionEnter,delete Ce.onTransitionExited;const Se=te({},Ce,Oe);return te({role:"presentation"},Se,{onKeyDown:ae(Se),ref:C})},getBackdropProps:(Oe={})=>{const Ce=Oe;return te({"aria-hidden":!0},Ce,{onClick:pe(Ce),open:g})},getTransitionProps:()=>{const Oe=()=>{I(!1),s&&s()},Ce=()=>{I(!0),a&&a(),o&&ee()};return{onEnter:iA(Oe,f==null?void 0:f.props.onEnter),onExited:iA(Ce,f==null?void 0:f.props.onExited)}},rootRef:C,portalRef:J,isTopModal:G,exited:M,hasTransition:A}}function jue(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:o}=e,s=V.useRef();V.useEffect(()=>{if(!i)return;function I(A){A.defaultPrevented||(A.key==="Escape"||A.key==="Esc")&&(r==null||r(A,"escapeKeyDown"))}return document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)}},[i,r]);const a=fl((I,A)=>{r==null||r(I,A)}),f=fl(I=>{!r||I==null||(clearTimeout(s.current),s.current=setTimeout(()=>{a(null,"timeout")},I))});V.useEffect(()=>(i&&f(t),()=>{clearTimeout(s.current)}),[i,t,f]);const h=I=>{r==null||r(I,"clickaway")},g=()=>{clearTimeout(s.current)},v=V.useCallback(()=>{t!=null&&f(o??t*.5)},[t,o,f]),x=I=>A=>{const P=I.onBlur;P==null||P(A),v()},k=I=>A=>{const P=I.onFocus;P==null||P(A),g()},O=I=>A=>{const P=I.onMouseEnter;P==null||P(A),g()},C=I=>A=>{const P=I.onMouseLeave;P==null||P(A),v()};return V.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",v),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",v),window.removeEventListener("blur",g)}},[n,v,i]),{getRootProps:(I={})=>{const A=te({},Fw(e),Fw(I));return te({role:"presentation"},I,A,{onBlur:x(A),onFocus:k(A),onMouseEnter:O(A),onMouseLeave:C(A)})},onClickAway:h}}const Bue=["onChange","maxRows","minRows","style","value"];function J_(e){return parseInt(e,10)||0}const Fue={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Q5(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflow}const Uue=V.forwardRef(function(t,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a}=t,f=yt(t,Bue),{current:h}=V.useRef(a!=null),g=V.useRef(null),v=si(n,g),x=V.useRef(null),k=V.useRef(0),[O,C]=V.useState({outerHeightStyle:0}),M=V.useCallback(()=>{const $=g.current,N=Ad($).getComputedStyle($);if(N.width==="0px")return{outerHeightStyle:0};const F=x.current;F.style.width=N.width,F.value=$.value||t.placeholder||"x",F.value.slice(-1)===`
`&&(F.value+=" ");const G=N.boxSizing,J=J_(N.paddingBottom)+J_(N.paddingTop),ee=J_(N.borderBottomWidth)+J_(N.borderTopWidth),ae=F.scrollHeight;F.value="x";const pe=F.scrollHeight;let ye=ae;o&&(ye=Math.max(Number(o)*pe,ye)),i&&(ye=Math.min(Number(i)*pe,ye)),ye=Math.max(ye,pe);const we=ye+(G==="border-box"?J+ee:0),Ee=Math.abs(ye-ae)<=1;return{outerHeightStyle:we,overflow:Ee}},[i,o,t.placeholder]),I=($,z)=>{const{outerHeightStyle:N,overflow:F}=z;return k.current<20&&(N>0&&Math.abs(($.outerHeightStyle||0)-N)>1||$.overflow!==F)?(k.current+=1,{overflow:F,outerHeightStyle:N}):$},A=V.useCallback(()=>{const $=M();Q5($)||C(z=>I(z,$))},[M]);Rs(()=>{const $=()=>{const ae=M();Q5(ae)||lc.flushSync(()=>{C(pe=>I(pe,ae))})},z=()=>{k.current=0,$()};let N;const F=E$(z),G=g.current,J=Ad(G);J.addEventListener("resize",F);let ee;return typeof ResizeObserver<"u"&&(ee=new ResizeObserver(z),ee.observe(G)),()=>{F.clear(),cancelAnimationFrame(N),J.removeEventListener("resize",F),ee&&ee.disconnect()}},[M]),Rs(()=>{A()}),V.useEffect(()=>{k.current=0},[a]);const P=$=>{k.current=0,h||A(),r&&r($)};return B.jsxs(V.Fragment,{children:[B.jsx("textarea",te({value:a,onChange:P,ref:v,rows:o,style:te({height:O.outerHeightStyle,overflow:O.overflow?"hidden":void 0},s)},f)),B.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:x,tabIndex:-1,style:te({},Fue.shadow,s,{paddingTop:0,paddingBottom:0})})]})}),Vue=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Wue=ut(Oue,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),que=V.forwardRef(function(t,n){var r;const i=N$(),o=nn({props:t,name:"MuiPopper"}),{anchorEl:s,component:a,components:f,componentsProps:h,container:g,disablePortal:v,keepMounted:x,modifiers:k,open:O,placement:C,popperOptions:M,popperRef:I,transition:A,slots:P,slotProps:$}=o,z=yt(o,Vue),N=(r=P==null?void 0:P.root)!=null?r:f==null?void 0:f.Root,F=te({anchorEl:s,container:g,disablePortal:v,keepMounted:x,modifiers:k,open:O,placement:C,popperOptions:M,popperRef:I,transition:A},z);return B.jsx(Wue,te({as:a,direction:i==null?void 0:i.direction,slots:{root:N},slotProps:$??h},F,{ref:n}))}),M9=que;function Ud({props:e,states:t,muiFormControl:n}){return t.reduce((r,i)=>(r[i]=e[i],n&&typeof e[i]>"u"&&(r[i]=n[i]),r),{})}const Gue=V.createContext(void 0),aE=Gue;function cc(){return V.useContext(aE)}function I9(e){return B.jsx(lae,te({},e,{defaultTheme:rE,themeId:dh}))}function e3(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function Vw(e,t=!1){return e&&(e3(e.value)&&e.value!==""||t&&e3(e.defaultValue)&&e.defaultValue!=="")}function Hue(e){return e.startAdornment}function Yue(e){return Qt("MuiInputBase",e)}const Kue=tn("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Xm=Kue,Zue=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],sE=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${st(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},lE=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},Xue=e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:f,hiddenLabel:h,multiline:g,readOnly:v,size:x,startAdornment:k,type:O}=e,C={root:["root",`color${st(n)}`,r&&"disabled",i&&"error",f&&"fullWidth",s&&"focused",a&&"formControl",x&&x!=="medium"&&`size${st(x)}`,g&&"multiline",k&&"adornedStart",o&&"adornedEnd",h&&"hiddenLabel",v&&"readOnly"],input:["input",r&&"disabled",O==="search"&&"inputTypeSearch",g&&"inputMultiline",x==="small"&&"inputSizeSmall",h&&"inputHiddenLabel",k&&"inputAdornedStart",o&&"inputAdornedEnd",v&&"readOnly"]};return en(C,Yue,t)},cE=ut("div",{name:"MuiInputBase",slot:"Root",overridesResolver:sE})(({theme:e,ownerState:t})=>te({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Xm.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&te({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),uE=ut("input",{name:"MuiInputBase",slot:"Input",overridesResolver:lE})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",r=te({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),i={opacity:"0 !important"},o=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return te({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Xm.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${Xm.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),Jue=B.jsx(I9,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Que=V.forwardRef(function(t,n){var r;const i=nn({props:t,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:f,components:h={},componentsProps:g={},defaultValue:v,disabled:x,disableInjectingGlobalStyles:k,endAdornment:O,fullWidth:C=!1,id:M,inputComponent:I="input",inputProps:A={},inputRef:P,maxRows:$,minRows:z,multiline:N=!1,name:F,onBlur:G,onChange:J,onClick:ee,onFocus:ae,onKeyDown:pe,onKeyUp:ye,placeholder:we,readOnly:Ee,renderSuffix:Oe,rows:Ce,slotProps:Se={},slots:De={},startAdornment:We,type:dt="text",value:ht}=i,Je=yt(i,Zue),it=A.value!=null?A.value:ht,{current:Ot}=V.useRef(it!=null),ot=V.useRef(),Gt=V.useCallback(Ln=>{},[]),Ht=si(ot,P,A.ref,Gt),[Ge,vt]=V.useState(!1),gt=cc(),Ve=Ud({props:i,muiFormControl:gt,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ve.focused=gt?gt.focused:Ge,V.useEffect(()=>{!gt&&x&&Ge&&(vt(!1),G&&G())},[gt,x,Ge,G]);const Et=gt&&gt.onFilled,Tt=gt&&gt.onEmpty,qt=V.useCallback(Ln=>{Vw(Ln)?Et&&Et():Tt&&Tt()},[Et,Tt]);Rs(()=>{Ot&&qt({value:it})},[it,qt,Ot]);const vn=Ln=>{if(Ve.disabled){Ln.stopPropagation();return}ae&&ae(Ln),A.onFocus&&A.onFocus(Ln),gt&&gt.onFocus?gt.onFocus(Ln):vt(!0)},Mn=Ln=>{G&&G(Ln),A.onBlur&&A.onBlur(Ln),gt&&gt.onBlur?gt.onBlur(Ln):vt(!1)},xn=(Ln,...rn)=>{if(!Ot){const Zn=Ln.target||ot.current;if(Zn==null)throw new Error(Od(1));qt({value:Zn.value})}A.onChange&&A.onChange(Ln,...rn),J&&J(Ln,...rn)};V.useEffect(()=>{qt(ot.current)},[]);const rr=Ln=>{ot.current&&Ln.currentTarget===Ln.target&&ot.current.focus(),ee&&ee(Ln)};let Cn=I,Ne=A;N&&Cn==="input"&&(Ce?Ne=te({type:void 0,minRows:Ce,maxRows:Ce},Ne):Ne=te({type:void 0,maxRows:$,minRows:z},Ne),Cn=Uue);const $n=Ln=>{qt(Ln.animationName==="mui-auto-fill-cancel"?ot.current:{value:"x"})};V.useEffect(()=>{gt&&gt.setAdornedStart(!!We)},[gt,We]);const Hn=te({},i,{color:Ve.color||"primary",disabled:Ve.disabled,endAdornment:O,error:Ve.error,focused:Ve.focused,formControl:gt,fullWidth:C,hiddenLabel:Ve.hiddenLabel,multiline:N,size:Ve.size,startAdornment:We,type:dt}),Dt=Xue(Hn),Kt=De.root||h.Root||cE,ir=Se.root||g.root||{},vr=De.input||h.Input||uE;return Ne=te({},Ne,(r=Se.input)!=null?r:g.input),B.jsxs(V.Fragment,{children:[!k&&Jue,B.jsxs(Kt,te({},ir,!Bw(Kt)&&{ownerState:te({},Hn,ir.ownerState)},{ref:n,onClick:rr},Je,{className:Pt(Dt.root,ir.className,f,Ee&&"MuiInputBase-readOnly"),children:[We,B.jsx(aE.Provider,{value:null,children:B.jsx(vr,te({ownerState:Hn,"aria-invalid":Ve.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:v,disabled:Ve.disabled,id:M,onAnimationStart:$n,name:F,placeholder:we,readOnly:Ee,required:Ve.required,rows:Ce,value:it,onKeyDown:pe,onKeyUp:ye,type:dt},Ne,!Bw(vr)&&{as:Cn,ownerState:te({},Hn,Ne.ownerState)},{ref:Ht,className:Pt(Dt.input,Ne.className,Ee&&"MuiInputBase-readOnly"),onBlur:Mn,onChange:xn,onFocus:vn}))}),O,Oe?Oe(te({},Ve,{startAdornment:We})):null]}))]})}),tR=Que;function ede(e){return Qt("MuiInput",e)}const tde=te({},Xm,tn("MuiInput",["root","underline","input"])),yv=tde;function nde(e){return Qt("MuiOutlinedInput",e)}const rde=te({},Xm,tn("MuiOutlinedInput",["root","notchedOutline","input"])),Bu=rde;function ide(e){return Qt("MuiFilledInput",e)}const ode=te({},Xm,tn("MuiFilledInput",["root","underline","input"])),wf=ode,ade=Og(B.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),sde=Og(B.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function lde(e){return Qt("MuiAvatar",e)}tn("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const cde=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],ude=e=>{const{classes:t,variant:n,colorDefault:r}=e;return en({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},lde,t)},dde=ut("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})(({theme:e,ownerState:t})=>te({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.variant==="square"&&{borderRadius:0},t.colorDefault&&te({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600]}))),fde=ut("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),hde=ut(sde,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});function pde({crossOrigin:e,referrerPolicy:t,src:n,srcSet:r}){const[i,o]=V.useState(!1);return V.useEffect(()=>{if(!n&&!r)return;o(!1);let s=!0;const a=new Image;return a.onload=()=>{s&&o("loaded")},a.onerror=()=>{s&&o("error")},a.crossOrigin=e,a.referrerPolicy=t,a.src=n,r&&(a.srcset=r),()=>{s=!1}},[e,t,n,r]),i}const mde=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:a="div",imgProps:f,sizes:h,src:g,srcSet:v,variant:x="circular"}=r,k=yt(r,cde);let O=null;const C=pde(te({},f,{src:g,srcSet:v})),M=g||v,I=M&&C!=="error",A=te({},r,{colorDefault:!I,component:a,variant:x}),P=ude(A);return I?O=B.jsx(fde,te({alt:i,srcSet:v,src:g,sizes:h,ownerState:A,className:P.img},f)):o!=null?O=o:M&&i?O=i[0]:O=B.jsx(hde,{ownerState:A,className:P.fallback}),B.jsx(dde,te({as:a,ownerState:A,className:Pt(P.root,s),ref:n},k,{children:O}))}),gde=mde,yde=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],vde={entering:{opacity:1},entered:{opacity:1}},bde=V.forwardRef(function(t,n){const r=du(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:f,in:h,onEnter:g,onEntered:v,onEntering:x,onExit:k,onExited:O,onExiting:C,style:M,timeout:I=i,TransitionComponent:A=W$}=t,P=yt(t,yde),$=V.useRef(null),z=si($,a.ref,n),N=we=>Ee=>{if(we){const Oe=$.current;Ee===void 0?we(Oe):we(Oe,Ee)}},F=N(x),G=N((we,Ee)=>{v9(we);const Oe=Gm({style:M,timeout:I,easing:f},{mode:"enter"});we.style.webkitTransition=r.transitions.create("opacity",Oe),we.style.transition=r.transitions.create("opacity",Oe),g&&g(we,Ee)}),J=N(v),ee=N(C),ae=N(we=>{const Ee=Gm({style:M,timeout:I,easing:f},{mode:"exit"});we.style.webkitTransition=r.transitions.create("opacity",Ee),we.style.transition=r.transitions.create("opacity",Ee),k&&k(we)}),pe=N(O),ye=we=>{o&&o($.current,we)};return B.jsx(A,te({appear:s,in:h,nodeRef:$,onEnter:G,onEntered:J,onEntering:F,onExit:ae,onExited:pe,onExiting:ee,addEndListener:ye,timeout:I},P,{children:(we,Ee)=>V.cloneElement(a,te({style:te({opacity:0,visibility:we==="exited"&&!h?"hidden":void 0},vde[we],M,a.props.style),ref:z},Ee))}))}),xde=bde;function _de(e){return Qt("MuiBackdrop",e)}tn("MuiBackdrop",["root","invisible"]);const wde=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Sde=e=>{const{classes:t,invisible:n}=e;return en({root:["root",n&&"invisible"]},_de,t)},Ede=ut("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>te({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),Cde=V.forwardRef(function(t,n){var r,i,o;const s=nn({props:t,name:"MuiBackdrop"}),{children:a,className:f,component:h="div",components:g={},componentsProps:v={},invisible:x=!1,open:k,slotProps:O={},slots:C={},TransitionComponent:M=xde,transitionDuration:I}=s,A=yt(s,wde),P=te({},s,{component:h,invisible:x}),$=Sde(P),z=(r=O.root)!=null?r:v.root;return B.jsx(M,te({in:k,timeout:I},A,{children:B.jsx(Ede,te({"aria-hidden":!0},z,{as:(i=(o=C.root)!=null?o:g.Root)!=null?i:h,className:Pt($.root,f,z==null?void 0:z.className),ownerState:te({},P,z==null?void 0:z.ownerState),classes:$,ref:n,children:a}))}))}),Tde=Cde;function kde(e){return Qt("MuiBadge",e)}const Pde=tn("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Fu=Pde,Ode=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],$k=10,Rk=4,Ade=e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:i,variant:o,classes:s={}}=e,a={root:["root"],badge:["badge",o,r&&"invisible",`anchorOrigin${st(n.vertical)}${st(n.horizontal)}`,`anchorOrigin${st(n.vertical)}${st(n.horizontal)}${st(i)}`,`overlap${st(i)}`,t!=="default"&&`color${st(t)}`]};return en(a,kde,s)},Mde=ut("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Ide=ut("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${st(n.anchorOrigin.vertical)}${st(n.anchorOrigin.horizontal)}${st(n.overlap)}`],n.color!=="default"&&t[`color${st(n.color)}`],n.invisible&&t.invisible]}})(({theme:e,ownerState:t})=>te({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:$k*2,lineHeight:1,padding:"0 6px",height:$k*2,borderRadius:$k,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.variant==="dot"&&{borderRadius:Rk,height:Rk*2,minWidth:Rk*2,padding:0},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Fu.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Fu.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Fu.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Fu.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Fu.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Fu.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Fu.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Fu.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.invisible&&{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})})),$de=V.forwardRef(function(t,n){var r,i,o,s,a,f;const h=nn({props:t,name:"MuiBadge"}),{anchorOrigin:g={vertical:"top",horizontal:"right"},className:v,component:x,components:k={},componentsProps:O={},children:C,overlap:M="rectangular",color:I="default",invisible:A=!1,max:P=99,badgeContent:$,slots:z,slotProps:N,showZero:F=!1,variant:G="standard"}=h,J=yt(h,Ode),{badgeContent:ee,invisible:ae,max:pe,displayValue:ye}=ice({max:P,invisible:A,badgeContent:$,showZero:F}),we=VW({anchorOrigin:g,color:I,overlap:M,variant:G,badgeContent:$}),Ee=ae||ee==null&&G!=="dot",{color:Oe=I,overlap:Ce=M,anchorOrigin:Se=g,variant:De=G}=Ee?we:h,We=De!=="dot"?ye:void 0,dt=te({},h,{badgeContent:ee,invisible:Ee,max:pe,displayValue:We,showZero:F,anchorOrigin:Se,color:Oe,overlap:Ce,variant:De}),ht=Ade(dt),Je=(r=(i=z==null?void 0:z.root)!=null?i:k.Root)!=null?r:Mde,it=(o=(s=z==null?void 0:z.badge)!=null?s:k.Badge)!=null?o:Ide,Ot=(a=N==null?void 0:N.root)!=null?a:O.root,ot=(f=N==null?void 0:N.badge)!=null?f:O.badge,Gt=ic({elementType:Je,externalSlotProps:Ot,externalForwardedProps:J,additionalProps:{ref:n,as:x},ownerState:dt,className:Pt(Ot==null?void 0:Ot.className,ht.root,v)}),Ht=ic({elementType:it,externalSlotProps:ot,ownerState:dt,className:Pt(ht.badge,ot==null?void 0:ot.className)});return B.jsxs(Je,te({},Gt,{children:[C,B.jsx(it,te({},Ht,{children:We}))]}))}),Rde=$de,Dde=V$(),Lde=fae({themeId:dh,defaultTheme:Dde,defaultClassName:"MuiBox-root",generateClassName:T$.generate}),jc=Lde;function Nde(e){return Qt("MuiButton",e)}const zde=tn("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Q_=zde,jde=V.createContext({}),$9=jde,Bde=V.createContext(void 0),R9=Bde,Fde=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Ude=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=e,a={root:["root",o,`${o}${st(t)}`,`size${st(i)}`,`${o}Size${st(i)}`,t==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${st(i)}`],endIcon:["endIcon",`iconSize${st(i)}`]},f=en(a,Nde,s);return te({},s,f)},D9=e=>te({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Vde=ut(Ag,{shouldForwardProp:e=>Bs(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${st(n.color)}`],t[`size${st(n.size)}`],t[`${n.variant}Size${st(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const i=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],o=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return te({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":te({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Rr(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Rr(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Rr(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":te({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${Q_.focusVisible}`]:te({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${Q_.disabled}`]:te({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${Rr(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:i,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Q_.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Q_.disabled}`]:{boxShadow:"none"}}),Wde=ut("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${st(n.size)}`]]}})(({ownerState:e})=>te({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},D9(e))),qde=ut("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${st(n.size)}`]]}})(({ownerState:e})=>te({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},D9(e))),Gde=V.forwardRef(function(t,n){const r=V.useContext($9),i=V.useContext(R9),o=C$(r,t),s=nn({props:o,name:"MuiButton"}),{children:a,color:f="primary",component:h="button",className:g,disabled:v=!1,disableElevation:x=!1,disableFocusRipple:k=!1,endIcon:O,focusVisibleClassName:C,fullWidth:M=!1,size:I="medium",startIcon:A,type:P,variant:$="text"}=s,z=yt(s,Fde),N=te({},s,{color:f,component:h,disabled:v,disableElevation:x,disableFocusRipple:k,fullWidth:M,size:I,type:P,variant:$}),F=Ude(N),G=A&&B.jsx(Wde,{className:F.startIcon,ownerState:N,children:A}),J=O&&B.jsx(qde,{className:F.endIcon,ownerState:N,children:O}),ee=i||"";return B.jsxs(Vde,te({ownerState:N,className:Pt(r.className,F.root,g,ee),component:h,disabled:v,focusRipple:!k,focusVisibleClassName:Pt(F.focusVisible,C),ref:n,type:P},z,{classes:F,children:[G,a,J]}))}),wr=Gde;function Hde(e){return Qt("MuiButtonGroup",e)}const Yde=tn("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),po=Yde,Kde=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],Zde=(e,t)=>{const{ownerState:n}=e;return[{[`& .${po.grouped}`]:t.grouped},{[`& .${po.grouped}`]:t[`grouped${st(n.orientation)}`]},{[`& .${po.grouped}`]:t[`grouped${st(n.variant)}`]},{[`& .${po.grouped}`]:t[`grouped${st(n.variant)}${st(n.orientation)}`]},{[`& .${po.grouped}`]:t[`grouped${st(n.variant)}${st(n.color)}`]},{[`& .${po.firstButton}`]:t.firstButton},{[`& .${po.lastButton}`]:t.lastButton},{[`& .${po.middleButton}`]:t.middleButton},t.root,t[n.variant],n.disableElevation===!0&&t.disableElevation,n.fullWidth&&t.fullWidth,n.orientation==="vertical"&&t.vertical]},Xde=e=>{const{classes:t,color:n,disabled:r,disableElevation:i,fullWidth:o,orientation:s,variant:a}=e,f={root:["root",a,s==="vertical"&&"vertical",o&&"fullWidth",i&&"disableElevation"],grouped:["grouped",`grouped${st(s)}`,`grouped${st(a)}`,`grouped${st(a)}${st(s)}`,`grouped${st(a)}${st(n)}`,r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return en(f,Hde,t)},Jde=ut("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:Zde})(({theme:e,ownerState:t})=>te({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${po.grouped}`]:te({minWidth:40,"&:hover":te({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"}),[`& .${po.firstButton},& .${po.middleButton}`]:te({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${po.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${po.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:Rr(e.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${po.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${po.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":te({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${po.lastButton},& .${po.middleButton}`]:te({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1})})),Qde=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiButtonGroup"}),{children:i,className:o,color:s="primary",component:a="div",disabled:f=!1,disableElevation:h=!1,disableFocusRipple:g=!1,disableRipple:v=!1,fullWidth:x=!1,orientation:k="horizontal",size:O="medium",variant:C="outlined"}=r,M=yt(r,Kde),I=te({},r,{color:s,component:a,disabled:f,disableElevation:h,disableFocusRipple:g,disableRipple:v,fullWidth:x,orientation:k,size:O,variant:C}),A=Xde(I),P=V.useMemo(()=>({className:A.grouped,color:s,disabled:f,disableElevation:h,disableFocusRipple:g,disableRipple:v,fullWidth:x,size:O,variant:C}),[s,f,h,g,v,x,O,C,A.grouped]),$=fie(i),z=$.length,N=F=>{const G=F===0,J=F===z-1;return G&&J?"":G?A.firstButton:J?A.lastButton:A.middleButton};return B.jsx(Jde,te({as:a,role:"group",className:Pt(A.root,o),ref:n,ownerState:I},M,{children:B.jsx($9.Provider,{value:P,children:$.map((F,G)=>B.jsx(R9.Provider,{value:N(G),children:F},G))})}))}),efe=Qde;function tfe(e){return Qt("MuiCard",e)}tn("MuiCard",["root"]);const nfe=["className","raised"],rfe=e=>{const{classes:t}=e;return en({root:["root"]},tfe,t)},ife=ut(bl,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),ofe=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiCard"}),{className:i,raised:o=!1}=r,s=yt(r,nfe),a=te({},r,{raised:o}),f=rfe(a);return B.jsx(ife,te({className:Pt(f.root,i),elevation:o?8:void 0,ref:n,ownerState:a},s))}),Eh=ofe;function afe(e){return Qt("MuiCardActions",e)}tn("MuiCardActions",["root","spacing"]);const sfe=["disableSpacing","className"],lfe=e=>{const{classes:t,disableSpacing:n}=e;return en({root:["root",!n&&"spacing"]},afe,t)},cfe=ut("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>te({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),ufe=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiCardActions"}),{disableSpacing:i=!1,className:o}=r,s=yt(r,sfe),a=te({},r,{disableSpacing:i}),f=lfe(a);return B.jsx(cfe,te({className:Pt(f.root,o),ownerState:a,ref:n},s))}),dfe=ufe;function ffe(e){return Qt("MuiCardContent",e)}tn("MuiCardContent",["root"]);const hfe=["className","component"],pfe=e=>{const{classes:t}=e;return en({root:["root"]},ffe,t)},mfe=ut("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),gfe=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiCardContent"}),{className:i,component:o="div"}=r,s=yt(r,hfe),a=te({},r,{component:o}),f=pfe(a);return B.jsx(mfe,te({as:o,className:Pt(f.root,i),ownerState:a,ref:n},s))}),L9=gfe;function yfe(e){return Qt("MuiCardMedia",e)}tn("MuiCardMedia",["root","media","img"]);const vfe=["children","className","component","image","src","style"],bfe=e=>{const{classes:t,isMediaComponent:n,isImageComponent:r}=e;return en({root:["root",n&&"media",r&&"img"]},yfe,t)},xfe=ut("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{isMediaComponent:r,isImageComponent:i}=n;return[t.root,r&&t.media,i&&t.img]}})(({ownerState:e})=>te({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),_fe=["video","audio","picture","iframe","img"],wfe=["picture","img"],Sfe=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiCardMedia"}),{children:i,className:o,component:s="div",image:a,src:f,style:h}=r,g=yt(r,vfe),v=_fe.indexOf(s)!==-1,x=!v&&a?te({backgroundImage:`url("${a}")`},h):h,k=te({},r,{component:s,isMediaComponent:v,isImageComponent:wfe.indexOf(s)!==-1}),O=bfe(k);return B.jsx(xfe,te({className:Pt(O.root,o),as:s,role:!v&&a?"img":void 0,ref:n,style:x,ownerState:k,src:v?a||f:void 0},g,{children:i}))}),Efe=Sfe;function Cfe(e){return Qt("PrivateSwitchBase",e)}tn("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Tfe=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],kfe=e=>{const{classes:t,checked:n,disabled:r,edge:i}=e,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${st(i)}`],input:["input"]};return en(o,Cfe,t)},Pfe=ut(Ag)(({ownerState:e})=>te({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),Ofe=ut("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Afe=V.forwardRef(function(t,n){const{autoFocus:r,checked:i,checkedIcon:o,className:s,defaultChecked:a,disabled:f,disableFocusRipple:h=!1,edge:g=!1,icon:v,id:x,inputProps:k,inputRef:O,name:C,onBlur:M,onChange:I,onFocus:A,readOnly:P,required:$=!1,tabIndex:z,type:N,value:F}=t,G=yt(t,Tfe),[J,ee]=Vm({controlled:i,default:!!a,name:"SwitchBase",state:"checked"}),ae=cc(),pe=De=>{A&&A(De),ae&&ae.onFocus&&ae.onFocus(De)},ye=De=>{M&&M(De),ae&&ae.onBlur&&ae.onBlur(De)},we=De=>{if(De.nativeEvent.defaultPrevented)return;const We=De.target.checked;ee(We),I&&I(De,We)};let Ee=f;ae&&typeof Ee>"u"&&(Ee=ae.disabled);const Oe=N==="checkbox"||N==="radio",Ce=te({},t,{checked:J,disabled:Ee,disableFocusRipple:h,edge:g}),Se=kfe(Ce);return B.jsxs(Pfe,te({component:"span",className:Pt(Se.root,s),centerRipple:!0,focusRipple:!h,disabled:Ee,tabIndex:null,role:void 0,onFocus:pe,onBlur:ye,ownerState:Ce,ref:n},G,{children:[B.jsx(Ofe,te({autoFocus:r,checked:i,defaultChecked:a,className:Se.input,disabled:Ee,id:Oe?x:void 0,name:C,onChange:we,readOnly:P,ref:O,required:$,ownerState:Ce,tabIndex:z,type:N},N==="checkbox"&&F===void 0?{}:{value:F},k)),J?o:v]}))}),Mfe=Afe,Ife=Og(B.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),$fe=Og(B.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Rfe=Og(B.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Dfe(e){return Qt("MuiCheckbox",e)}const Lfe=tn("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Dk=Lfe,Nfe=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],zfe=e=>{const{classes:t,indeterminate:n,color:r,size:i}=e,o={root:["root",n&&"indeterminate",`color${st(r)}`,`size${st(i)}`]},s=en(o,Dfe,t);return te({},t,s)},jfe=ut(Mfe,{shouldForwardProp:e=>Bs(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,n.color!=="default"&&t[`color${st(n.color)}`]]}})(({theme:e,ownerState:t})=>te({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Rr(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${Dk.checked}, &.${Dk.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${Dk.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),Bfe=B.jsx($fe,{}),Ffe=B.jsx(Ife,{}),Ufe=B.jsx(Rfe,{}),Vfe=V.forwardRef(function(t,n){var r,i;const o=nn({props:t,name:"MuiCheckbox"}),{checkedIcon:s=Bfe,color:a="primary",icon:f=Ffe,indeterminate:h=!1,indeterminateIcon:g=Ufe,inputProps:v,size:x="medium",className:k}=o,O=yt(o,Nfe),C=h?g:f,M=h?g:s,I=te({},o,{color:a,indeterminate:h,size:x}),A=zfe(I);return B.jsx(jfe,te({type:"checkbox",inputProps:te({"data-indeterminate":h},v),icon:V.cloneElement(C,{fontSize:(r=C.props.fontSize)!=null?r:x}),checkedIcon:V.cloneElement(M,{fontSize:(i=M.props.fontSize)!=null?i:x}),ownerState:I,ref:n,className:Pt(A.root,k)},O,{classes:A}))}),t3=Vfe,Wfe=jae({createStyledComponent:ut("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${st(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>nn({props:e,name:"MuiContainer"})}),Ww=Wfe,qfe=(e,t)=>te({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),Gfe=e=>te({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),Hfe=(e,t=!1)=>{var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([s,a])=>{var f;r[e.getColorSchemeSelector(s).replace(/\s*&/,"")]={colorScheme:(f=a.palette)==null?void 0:f.mode}});let i=te({html:qfe(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:te({margin:0},Gfe(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const o=(n=e.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return o&&(i=[i,o]),i};function Yfe(e){const t=nn({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return B.jsxs(V.Fragment,{children:[B.jsx(I9,{styles:i=>Hfe(i,r)}),n]})}function Kfe(e){return Qt("MuiModal",e)}tn("MuiModal",["root","hidden","backdrop"]);const Zfe=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Xfe=e=>{const{open:t,exited:n,classes:r}=e;return en({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},Kfe,r)},Jfe=ut("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>te({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),Qfe=ut(Tde,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),ehe=V.forwardRef(function(t,n){var r,i,o,s,a,f;const h=nn({name:"MuiModal",props:t}),{BackdropComponent:g=Qfe,BackdropProps:v,className:x,closeAfterTransition:k=!1,children:O,container:C,component:M,components:I={},componentsProps:A={},disableAutoFocus:P=!1,disableEnforceFocus:$=!1,disableEscapeKeyDown:z=!1,disablePortal:N=!1,disableRestoreFocus:F=!1,disableScrollLock:G=!1,hideBackdrop:J=!1,keepMounted:ee=!1,onBackdropClick:ae,open:pe,slotProps:ye,slots:we}=h,Ee=yt(h,Zfe),Oe=te({},h,{closeAfterTransition:k,disableAutoFocus:P,disableEnforceFocus:$,disableEscapeKeyDown:z,disablePortal:N,disableRestoreFocus:F,disableScrollLock:G,hideBackdrop:J,keepMounted:ee}),{getRootProps:Ce,getBackdropProps:Se,getTransitionProps:De,portalRef:We,isTopModal:dt,exited:ht,hasTransition:Je}=zue(te({},Oe,{rootRef:n})),it=te({},Oe,{exited:ht}),Ot=Xfe(it),ot={};if(O.props.tabIndex===void 0&&(ot.tabIndex="-1"),Je){const{onEnter:Et,onExited:Tt}=De();ot.onEnter=Et,ot.onExited=Tt}const Gt=(r=(i=we==null?void 0:we.root)!=null?i:I.Root)!=null?r:Jfe,Ht=(o=(s=we==null?void 0:we.backdrop)!=null?s:I.Backdrop)!=null?o:g,Ge=(a=ye==null?void 0:ye.root)!=null?a:A.root,vt=(f=ye==null?void 0:ye.backdrop)!=null?f:A.backdrop,gt=ic({elementType:Gt,externalSlotProps:Ge,externalForwardedProps:Ee,getSlotProps:Ce,additionalProps:{ref:n,as:M},ownerState:it,className:Pt(x,Ge==null?void 0:Ge.className,Ot==null?void 0:Ot.root,!it.open&&it.exited&&(Ot==null?void 0:Ot.hidden))}),Ve=ic({elementType:Ht,externalSlotProps:vt,additionalProps:v,getSlotProps:Et=>Se(te({},Et,{onClick:Tt=>{ae&&ae(Tt),Et!=null&&Et.onClick&&Et.onClick(Tt)}})),className:Pt(vt==null?void 0:vt.className,v==null?void 0:v.className,Ot==null?void 0:Ot.backdrop),ownerState:it});return!ee&&!pe&&(!Je||ht)?null:B.jsx(A9,{ref:We,container:C,disablePortal:N,children:B.jsxs(Gt,te({},gt,{children:[!J&&g?B.jsx(Ht,te({},Ve)):null,B.jsx(hce,{disableEnforceFocus:$,disableAutoFocus:P,disableRestoreFocus:F,isEnabled:dt,open:pe,children:V.cloneElement(O,ot)})]}))})}),the=ehe;function nhe(e){return Qt("MuiDivider",e)}const rhe=tn("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),n3=rhe,ihe=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],ohe=e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:f}=e;return en({root:["root",t&&"absolute",f,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},nhe,r)},ahe=ut("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>te({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:Rr(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>te({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>te({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`}}),({theme:e,ownerState:t})=>te({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`}}),({ownerState:e})=>te({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),she=ut("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>te({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),N9=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,component:a=o?"div":"hr",flexItem:f=!1,light:h=!1,orientation:g="horizontal",role:v=a!=="hr"?"separator":void 0,textAlign:x="center",variant:k="fullWidth"}=r,O=yt(r,ihe),C=te({},r,{absolute:i,component:a,flexItem:f,light:h,orientation:g,role:v,textAlign:x,variant:k}),M=ohe(C);return B.jsx(ahe,te({as:a,className:Pt(M.root,s),role:v,ref:n,ownerState:C},O,{children:o?B.jsx(she,{className:M.wrapper,ownerState:C,children:o}):null}))});N9.muiSkipListHighlight=!0;const nR=N9,lhe=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],che=e=>{const{classes:t,disableUnderline:n}=e,i=en({root:["root",!n&&"underline"],input:["input"]},ide,t);return te({},t,i)},uhe=ut(cE,{shouldForwardProp:e=>Bs(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...sE(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var n;const r=e.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return te({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o}},[`&.${wf.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o},[`&.${wf.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:a}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(n=(e.vars||e).palette[t.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${wf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${wf.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${wf.disabled}, .${wf.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${wf.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&te({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),dhe=ut(uE,{name:"MuiFilledInput",slot:"Input",overridesResolver:lE})(({theme:e,ownerState:t})=>te({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9})),z9=V.forwardRef(function(t,n){var r,i,o,s;const a=nn({props:t,name:"MuiFilledInput"}),{components:f={},componentsProps:h,fullWidth:g=!1,inputComponent:v="input",multiline:x=!1,slotProps:k,slots:O={},type:C="text"}=a,M=yt(a,lhe),I=te({},a,{fullWidth:g,inputComponent:v,multiline:x,type:C}),A=che(a),P={root:{ownerState:I},input:{ownerState:I}},$=k??h?eo(k??h,P):P,z=(r=(i=O.root)!=null?i:f.Root)!=null?r:uhe,N=(o=(s=O.input)!=null?s:f.Input)!=null?o:dhe;return B.jsx(tR,te({slots:{root:z,input:N},componentsProps:$,fullWidth:g,inputComponent:v,multiline:x,ref:n,type:C},M,{classes:A}))});z9.muiName="Input";const j9=z9;function fhe(e){return Qt("MuiFormControl",e)}tn("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const hhe=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],phe=e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root",n!=="none"&&`margin${st(n)}`,r&&"fullWidth"]};return en(i,fhe,t)},mhe=ut("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>te({},t.root,t[`margin${st(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>te({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),ghe=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:f=!1,error:h=!1,focused:g,fullWidth:v=!1,hiddenLabel:x=!1,margin:k="none",required:O=!1,size:C="medium",variant:M="outlined"}=r,I=yt(r,hhe),A=te({},r,{color:s,component:a,disabled:f,error:h,fullWidth:v,hiddenLabel:x,margin:k,required:O,size:C,variant:M}),P=phe(A),[$,z]=V.useState(()=>{let ye=!1;return i&&V.Children.forEach(i,we=>{if(!j1(we,["Input","Select"]))return;const Ee=j1(we,["Select"])?we.props.input:we;Ee&&Hue(Ee.props)&&(ye=!0)}),ye}),[N,F]=V.useState(()=>{let ye=!1;return i&&V.Children.forEach(i,we=>{j1(we,["Input","Select"])&&(Vw(we.props,!0)||Vw(we.props.inputProps,!0))&&(ye=!0)}),ye}),[G,J]=V.useState(!1);f&&G&&J(!1);const ee=g!==void 0&&!f?g:G;let ae;const pe=V.useMemo(()=>({adornedStart:$,setAdornedStart:z,color:s,disabled:f,error:h,filled:N,focused:ee,fullWidth:v,hiddenLabel:x,size:C,onBlur:()=>{J(!1)},onEmpty:()=>{F(!1)},onFilled:()=>{F(!0)},onFocus:()=>{J(!0)},registerEffect:ae,required:O,variant:M}),[$,s,f,h,N,ee,v,x,ae,O,C,M]);return B.jsx(aE.Provider,{value:pe,children:B.jsx(mhe,te({as:a,ownerState:A,className:Pt(P.root,o),ref:n},I,{children:i}))})}),dE=ghe,yhe=Hae({createStyledComponent:ut("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>nn({props:e,name:"MuiStack"})}),vhe=yhe;function bhe(e){return Qt("MuiFormControlLabel",e)}const xhe=tn("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Xv=xhe,_he=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],whe=e=>{const{classes:t,disabled:n,labelPlacement:r,error:i,required:o}=e,s={root:["root",n&&"disabled",`labelPlacement${st(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return en(s,bhe,t)},She=ut("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Xv.label}`]:t.label},t.root,t[`labelPlacement${st(n.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>te({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Xv.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${Xv.label}`]:{[`&.${Xv.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),Ehe=ut("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${Xv.error}`]:{color:(e.vars||e).palette.error.main}})),Che=V.forwardRef(function(t,n){var r,i;const o=nn({props:t,name:"MuiFormControlLabel"}),{className:s,componentsProps:a={},control:f,disabled:h,disableTypography:g,label:v,labelPlacement:x="end",required:k,slotProps:O={}}=o,C=yt(o,_he),M=cc(),I=(r=h??f.props.disabled)!=null?r:M==null?void 0:M.disabled,A=k??f.props.required,P={disabled:I,required:A};["checked","name","onChange","value","inputRef"].forEach(J=>{typeof f.props[J]>"u"&&typeof o[J]<"u"&&(P[J]=o[J])});const $=Ud({props:o,muiFormControl:M,states:["error"]}),z=te({},o,{disabled:I,labelPlacement:x,required:A,error:$.error}),N=whe(z),F=(i=O.typography)!=null?i:a.typography;let G=v;return G!=null&&G.type!==An&&!g&&(G=B.jsx(An,te({component:"span"},F,{className:Pt(N.label,F==null?void 0:F.className),children:G}))),B.jsxs(She,te({className:Pt(N.root,s),ownerState:z,ref:n},C,{children:[V.cloneElement(f,P),A?B.jsxs(vhe,{direction:"row",alignItems:"center",children:[G,B.jsxs(Ehe,{ownerState:z,"aria-hidden":!0,className:N.asterisk,children:["","*"]})]}):G]}))}),r3=Che;function The(e){return Qt("MuiFormGroup",e)}tn("MuiFormGroup",["root","row","error"]);const khe=["className","row"],Phe=e=>{const{classes:t,row:n,error:r}=e;return en({root:["root",n&&"row",r&&"error"]},The,t)},Ohe=ut("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})(({ownerState:e})=>te({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),Ahe=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiFormGroup"}),{className:i,row:o=!1}=r,s=yt(r,khe),a=cc(),f=Ud({props:r,muiFormControl:a,states:["error"]}),h=te({},r,{row:o,error:f.error}),g=Phe(h);return B.jsx(Ohe,te({className:Pt(g.root,i),ownerState:h,ref:n},s))}),Mhe=Ahe;function Ihe(e){return Qt("MuiFormHelperText",e)}const $he=tn("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),i3=$he;var o3;const Rhe=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Dhe=e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:f}=e,h={root:["root",i&&"disabled",o&&"error",r&&`size${st(r)}`,n&&"contained",a&&"focused",s&&"filled",f&&"required"]};return en(h,Ihe,t)},Lhe=ut("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${st(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(({theme:e,ownerState:t})=>te({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${i3.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${i3.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),Nhe=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p"}=r,a=yt(r,Rhe),f=cc(),h=Ud({props:r,muiFormControl:f,states:["variant","size","disabled","error","filled","focused","required"]}),g=te({},r,{component:s,contained:h.variant==="filled"||h.variant==="outlined",variant:h.variant,size:h.size,disabled:h.disabled,error:h.error,filled:h.filled,focused:h.focused,required:h.required}),v=Dhe(g);return B.jsx(Lhe,te({as:s,ownerState:g,className:Pt(v.root,o),ref:n},a,{children:i===" "?o3||(o3=B.jsx("span",{className:"notranslate",children:""})):i}))}),zhe=Nhe;function jhe(e){return Qt("MuiFormLabel",e)}const Bhe=tn("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),y0=Bhe,Fhe=["children","className","color","component","disabled","error","filled","focused","required"],Uhe=e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=e,f={root:["root",`color${st(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return en(f,jhe,t)},Vhe=ut("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>te({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>te({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${y0.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${y0.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${y0.error}`]:{color:(e.vars||e).palette.error.main}})),Whe=ut("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${y0.error}`]:{color:(e.vars||e).palette.error.main}})),qhe=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiFormLabel"}),{children:i,className:o,component:s="label"}=r,a=yt(r,Fhe),f=cc(),h=Ud({props:r,muiFormControl:f,states:["color","required","focused","disabled","error","filled"]}),g=te({},r,{color:h.color||"primary",component:s,disabled:h.disabled,error:h.error,filled:h.filled,focused:h.focused,required:h.required}),v=Uhe(g);return B.jsxs(Vhe,te({as:s,ownerState:g,className:Pt(v.root,o),ref:n},a,{children:[i,h.required&&B.jsxs(Whe,{ownerState:g,"aria-hidden":!0,className:v.asterisk,children:["","*"]})]}))}),Ghe=qhe,Hhe=V.createContext(),a3=Hhe;function Yhe(e){return Qt("MuiGrid",e)}const Khe=[0,1,2,3,4,5,6,7,8,9,10],Zhe=["column-reverse","column","row-reverse","row"],Xhe=["nowrap","wrap-reverse","wrap"],vv=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],ib=tn("MuiGrid",["root","container","item","zeroMinWidth",...Khe.map(e=>`spacing-xs-${e}`),...Zhe.map(e=>`direction-xs-${e}`),...Xhe.map(e=>`wrap-xs-${e}`),...vv.map(e=>`grid-xs-${e}`),...vv.map(e=>`grid-sm-${e}`),...vv.map(e=>`grid-md-${e}`),...vv.map(e=>`grid-lg-${e}`),...vv.map(e=>`grid-xl-${e}`)]),Jhe=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Sm(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function Qhe({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((r,i)=>{let o={};if(t[i]&&(n=t[i]),!n)return r;if(n===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=Zf({values:t.columns,breakpoints:e.breakpoints.values}),a=typeof s=="object"?s[i]:s;if(a==null)return r;const f=`${Math.round(n/a*1e8)/1e6}%`;let h={};if(t.container&&t.item&&t.columnSpacing!==0){const g=e.spacing(t.columnSpacing);if(g!=="0px"){const v=`calc(${f} + ${Sm(g)})`;h={flexBasis:v,maxWidth:v}}}o=te({flexBasis:f,flexGrow:0,maxWidth:f},h)}return e.breakpoints.values[i]===0?Object.assign(r,o):r[e.breakpoints.up(i)]=o,r},{})}function epe({theme:e,ownerState:t}){const n=Zf({values:t.direction,breakpoints:e.breakpoints.values});return Oa({theme:e},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${ib.item}`]={maxWidth:"none"}),i})}function B9({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(i=>{n===""&&t[i]!==0&&(n=i)});const r=Object.keys(e).sort((i,o)=>e[i]-e[o]);return r.slice(0,r.indexOf(n))}function tpe({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let i={};if(n&&r!==0){const o=Zf({values:r,breakpoints:e.breakpoints.values});let s;typeof o=="object"&&(s=B9({breakpoints:e.breakpoints.values,values:o})),i=Oa({theme:e},o,(a,f)=>{var h;const g=e.spacing(a);return g!=="0px"?{marginTop:`-${Sm(g)}`,[`& > .${ib.item}`]:{paddingTop:Sm(g)}}:(h=s)!=null&&h.includes(f)?{}:{marginTop:0,[`& > .${ib.item}`]:{paddingTop:0}}})}return i}function npe({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let i={};if(n&&r!==0){const o=Zf({values:r,breakpoints:e.breakpoints.values});let s;typeof o=="object"&&(s=B9({breakpoints:e.breakpoints.values,values:o})),i=Oa({theme:e},o,(a,f)=>{var h;const g=e.spacing(a);return g!=="0px"?{width:`calc(100% + ${Sm(g)})`,marginLeft:`-${Sm(g)}`,[`& > .${ib.item}`]:{paddingLeft:Sm(g)}}:(h=s)!=null&&h.includes(f)?{}:{width:"100%",marginLeft:0,[`& > .${ib.item}`]:{paddingLeft:0}}})}return i}function rpe(e,t,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(i=>{const o=e[i];Number(o)>0&&r.push(n[`spacing-${i}-${String(o)}`])}),r}const ipe=ut("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:f,breakpoints:h}=n;let g=[];r&&(g=rpe(s,h,t));const v=[];return h.forEach(x=>{const k=n[x];k&&v.push(t[`grid-${x}-${String(k)}`])}),[t.root,r&&t.container,o&&t.item,f&&t.zeroMinWidth,...g,i!=="row"&&t[`direction-xs-${String(i)}`],a!=="wrap"&&t[`wrap-xs-${String(a)}`],...v]}})(({ownerState:e})=>te({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),epe,tpe,npe,Qhe);function ope(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(r=>{const i=e[r];if(Number(i)>0){const o=`spacing-${r}-${String(i)}`;n.push(o)}}),n}const ape=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:f}=e;let h=[];n&&(h=ope(o,f));const g=[];f.forEach(x=>{const k=e[x];k&&g.push(`grid-${x}-${String(k)}`)});const v={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...h,r!=="row"&&`direction-xs-${String(r)}`,s!=="wrap"&&`wrap-xs-${String(s)}`,...g]};return en(v,Yhe,t)},spe=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiGrid"}),{breakpoints:i}=du(),o=tE(r),{className:s,columns:a,columnSpacing:f,component:h="div",container:g=!1,direction:v="row",item:x=!1,rowSpacing:k,spacing:O=0,wrap:C="wrap",zeroMinWidth:M=!1}=o,I=yt(o,Jhe),A=k||O,P=f||O,$=V.useContext(a3),z=g?a||12:$,N={},F=te({},I);i.keys.forEach(ee=>{I[ee]!=null&&(N[ee]=I[ee],delete F[ee])});const G=te({},o,{columns:z,container:g,direction:v,item:x,rowSpacing:A,columnSpacing:P,wrap:C,zeroMinWidth:M,spacing:O},N,{breakpoints:i.keys}),J=ape(G);return B.jsx(a3.Provider,{value:z,children:B.jsx(ipe,te({ownerState:G,className:Pt(J.root,s),as:h,ref:n},F))})}),s3=spe,lpe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function yA(e){return`scale(${e}, ${e**2})`}const cpe={entering:{opacity:1,transform:yA(1)},entered:{opacity:1,transform:"none"}},Lk=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),F9=V.forwardRef(function(t,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:f,onEntered:h,onEntering:g,onExit:v,onExited:x,onExiting:k,style:O,timeout:C="auto",TransitionComponent:M=W$}=t,I=yt(t,lpe),A=V.useRef(),P=V.useRef(),$=du(),z=V.useRef(null),N=si(z,o.ref,n),F=Ee=>Oe=>{if(Ee){const Ce=z.current;Oe===void 0?Ee(Ce):Ee(Ce,Oe)}},G=F(g),J=F((Ee,Oe)=>{v9(Ee);const{duration:Ce,delay:Se,easing:De}=Gm({style:O,timeout:C,easing:s},{mode:"enter"});let We;C==="auto"?(We=$.transitions.getAutoHeightDuration(Ee.clientHeight),P.current=We):We=Ce,Ee.style.transition=[$.transitions.create("opacity",{duration:We,delay:Se}),$.transitions.create("transform",{duration:Lk?We:We*.666,delay:Se,easing:De})].join(","),f&&f(Ee,Oe)}),ee=F(h),ae=F(k),pe=F(Ee=>{const{duration:Oe,delay:Ce,easing:Se}=Gm({style:O,timeout:C,easing:s},{mode:"exit"});let De;C==="auto"?(De=$.transitions.getAutoHeightDuration(Ee.clientHeight),P.current=De):De=Oe,Ee.style.transition=[$.transitions.create("opacity",{duration:De,delay:Ce}),$.transitions.create("transform",{duration:Lk?De:De*.666,delay:Lk?Ce:Ce||De*.333,easing:Se})].join(","),Ee.style.opacity=0,Ee.style.transform=yA(.75),v&&v(Ee)}),ye=F(x),we=Ee=>{C==="auto"&&(A.current=setTimeout(Ee,P.current||0)),r&&r(z.current,Ee)};return V.useEffect(()=>()=>{clearTimeout(A.current)},[]),B.jsx(M,te({appear:i,in:a,nodeRef:z,onEnter:J,onEntered:ee,onEntering:G,onExit:pe,onExited:ye,onExiting:ae,addEndListener:we,timeout:C==="auto"?null:C},I,{children:(Ee,Oe)=>V.cloneElement(o,te({style:te({opacity:0,transform:yA(.75),visibility:Ee==="exited"&&!a?"hidden":void 0},cpe[Ee],O,o.props.style),ref:N},Oe))}))});F9.muiSupportAuto=!0;const qw=F9,upe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],dpe=e=>{const{classes:t,disableUnderline:n}=e,i=en({root:["root",!n&&"underline"],input:["input"]},ede,t);return te({},t,i)},fpe=ut(cE,{shouldForwardProp:e=>Bs(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...sE(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),te({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${yv.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${yv.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${yv.disabled}, .${yv.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${yv.disabled}:before`]:{borderBottomStyle:"dotted"}})}),hpe=ut(uE,{name:"MuiInput",slot:"Input",overridesResolver:lE})({}),U9=V.forwardRef(function(t,n){var r,i,o,s;const a=nn({props:t,name:"MuiInput"}),{disableUnderline:f,components:h={},componentsProps:g,fullWidth:v=!1,inputComponent:x="input",multiline:k=!1,slotProps:O,slots:C={},type:M="text"}=a,I=yt(a,upe),A=dpe(a),$={root:{ownerState:{disableUnderline:f}}},z=O??g?eo(O??g,$):$,N=(r=(i=C.root)!=null?i:h.Root)!=null?r:fpe,F=(o=(s=C.input)!=null?s:h.Input)!=null?o:hpe;return B.jsx(tR,te({slots:{root:N,input:F},slotProps:z,fullWidth:v,inputComponent:x,multiline:k,ref:n,type:M},I,{classes:A}))});U9.muiName="Input";const V9=U9;function ppe(e){return Qt("MuiInputAdornment",e)}const mpe=tn("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),l3=mpe;var c3;const gpe=["children","className","component","disablePointerEvents","disableTypography","position","variant"],ype=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${st(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},vpe=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:s}=e,a={root:["root",n&&"disablePointerEvents",i&&`position${st(i)}`,s,r&&"hiddenLabel",o&&`size${st(o)}`]};return en(a,ppe,t)},bpe=ut("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:ype})(({theme:e,ownerState:t})=>te({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},t.variant==="filled"&&{[`&.${l3.positionStart}&:not(.${l3.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),xpe=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiInputAdornment"}),{children:i,className:o,component:s="div",disablePointerEvents:a=!1,disableTypography:f=!1,position:h,variant:g}=r,v=yt(r,gpe),x=cc()||{};let k=g;g&&x.variant,x&&!k&&(k=x.variant);const O=te({},r,{hiddenLabel:x.hiddenLabel,size:x.size,disablePointerEvents:a,position:h,variant:k}),C=vpe(O);return B.jsx(aE.Provider,{value:null,children:B.jsx(bpe,te({as:s,ownerState:O,className:Pt(C.root,o),ref:n},v,{children:typeof i=="string"&&!f?B.jsx(An,{color:"text.secondary",children:i}):B.jsxs(V.Fragment,{children:[h==="start"?c3||(c3=B.jsx("span",{className:"notranslate",children:""})):null,i]})}))})}),_pe=xpe;function wpe(e){return Qt("MuiInputLabel",e)}tn("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Spe=["disableAnimation","margin","shrink","variant","className"],Epe=e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=e,f={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${st(r)}`,s],asterisk:[a&&"asterisk"]},h=en(f,wpe,t);return te({},t,h)},Cpe=ut(Ghe,{shouldForwardProp:e=>Bs(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${y0.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})(({theme:e,ownerState:t})=>te({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&te({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&te({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&te({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Tpe=V.forwardRef(function(t,n){const r=nn({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,shrink:o,className:s}=r,a=yt(r,Spe),f=cc();let h=o;typeof h>"u"&&f&&(h=f.filled||f.focused||f.adornedStart);const g=Ud({props:r,muiFormControl:f,states:["size","variant","required"]}),v=te({},r,{disableAnimation:i,formControl:f,shrink:h,size:g.size,variant:g.variant,required:g.required}),x=Epe(v);return B.jsx(Cpe,te({"data-shrink":h,ownerState:v,ref:n,className:Pt(x.root,s)},a,{classes:x}))}),fE=Tpe;function kpe(e){return Qt("MuiLink",e)}const Ppe=tn("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),Ope=Ppe,W9={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Ape=e=>W9[e]||e,Mpe=({theme:e,ownerState:t})=>{const n=Ape(t.color),r=qm(e,`palette.${n}`,!1)||t.color,i=qm(e,`palette.${n}Channel`);return"vars"in e&&i?`rgba(${i} / 0.4)`:Rr(r,.4)},Ipe=Mpe,$pe=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],Rpe=e=>{const{classes:t,component:n,focusVisible:r,underline:i}=e,o={root:["root",`underline${st(i)}`,n==="button"&&"button",r&&"focusVisible"]};return en(o,kpe,t)},Dpe=ut(An,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${st(n.underline)}`],n.component==="button"&&t.button]}})(({theme:e,ownerState:t})=>te({},t.underline==="none"&&{textDecoration:"none"},t.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},t.underline==="always"&&te({textDecoration:"underline"},t.color!=="inherit"&&{textDecorationColor:Ipe({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),t.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Ope.focusVisible}`]:{outline:"auto"}})),Lpe=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiLink"}),{className:i,color:o="primary",component:s="a",onBlur:a,onFocus:f,TypographyClasses:h,underline:g="always",variant:v="inherit",sx:x}=r,k=yt(r,$pe),{isFocusVisibleRef:O,onBlur:C,onFocus:M,ref:I}=U2(),[A,P]=V.useState(!1),$=si(n,I),z=J=>{C(J),O.current===!1&&P(!1),a&&a(J)},N=J=>{M(J),O.current===!0&&P(!0),f&&f(J)},F=te({},r,{color:o,component:s,focusVisible:A,underline:g,variant:v}),G=Rpe(F);return B.jsx(Dpe,te({color:o,className:Pt(G.root,i),classes:h,component:s,onBlur:z,onFocus:N,ref:$,ownerState:F,variant:v,sx:[...Object.keys(W9).includes(o)?[]:[{color:o}],...Array.isArray(x)?x:[x]]},k))}),Npe=Lpe,zpe=V.createContext({}),vh=zpe;function jpe(e){return Qt("MuiList",e)}tn("MuiList",["root","padding","dense","subheader"]);const Bpe=["children","className","component","dense","disablePadding","subheader"],Fpe=e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return en({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},jpe,t)},Upe=ut("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(({ownerState:e})=>te({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),Vpe=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:f=!1,subheader:h}=r,g=yt(r,Bpe),v=V.useMemo(()=>({dense:a}),[a]),x=te({},r,{component:s,dense:a,disablePadding:f}),k=Fpe(x);return B.jsx(vh.Provider,{value:v,children:B.jsxs(Upe,te({as:s,className:Pt(k.root,o),ref:n,ownerState:x},g,{children:[h,i]}))})}),Wpe=Vpe;function qpe(e){return Qt("MuiListItemButton",e)}const Gpe=tn("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),bv=Gpe,Hpe=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],Ype=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]},Kpe=e=>{const{alignItems:t,classes:n,dense:r,disabled:i,disableGutters:o,divider:s,selected:a}=e,h=en({root:["root",r&&"dense",!o&&"gutters",s&&"divider",i&&"disabled",t==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},qpe,n);return te({},n,h)},Zpe=ut(Ag,{shouldForwardProp:e=>Bs(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Ype})(({theme:e,ownerState:t})=>te({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${bv.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Rr(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${bv.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Rr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${bv.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Rr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Rr(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${bv.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${bv.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.alignItems==="flex-start"&&{alignItems:"flex-start"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.dense&&{paddingTop:4,paddingBottom:4})),Xpe=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:s="div",children:a,dense:f=!1,disableGutters:h=!1,divider:g=!1,focusVisibleClassName:v,selected:x=!1,className:k}=r,O=yt(r,Hpe),C=V.useContext(vh),M=V.useMemo(()=>({dense:f||C.dense||!1,alignItems:i,disableGutters:h}),[i,C.dense,f,h]),I=V.useRef(null);Rs(()=>{o&&I.current&&I.current.focus()},[o]);const A=te({},r,{alignItems:i,dense:M.dense,disableGutters:h,divider:g,selected:x}),P=Kpe(A),$=si(I,n);return B.jsx(vh.Provider,{value:M,children:B.jsx(Zpe,te({ref:$,href:O.href||O.to,component:(O.href||O.to)&&s==="div"?"button":s,focusVisibleClassName:Pt(P.focusVisible,v),ownerState:A,className:Pt(P.root,k)},O,{classes:P,children:a}))})}),Jpe=Xpe;function Qpe(e){return Qt("MuiListItemAvatar",e)}tn("MuiListItemAvatar",["root","alignItemsFlexStart"]);const eme=["className"],tme=e=>{const{alignItems:t,classes:n}=e;return en({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},Qpe,n)},nme=ut("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({ownerState:e})=>te({minWidth:56,flexShrink:0},e.alignItems==="flex-start"&&{marginTop:8})),rme=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiListItemAvatar"}),{className:i}=r,o=yt(r,eme),s=V.useContext(vh),a=te({},r,{alignItems:s.alignItems}),f=tme(a);return B.jsx(nme,te({className:Pt(f.root,i),ownerState:a,ref:n},o))}),ime=rme,ome=tn("MuiListItemIcon",["root","alignItemsFlexStart"]),u3=ome;function ame(e){return Qt("MuiListItemText",e)}const sme=tn("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Gw=sme,lme=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],cme=e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:o}=e;return en({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},ame,t)},ume=ut("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Gw.primary}`]:t.primary},{[`& .${Gw.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(({ownerState:e})=>te({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),dme=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:a=!1,primary:f,primaryTypographyProps:h,secondary:g,secondaryTypographyProps:v}=r,x=yt(r,lme),{dense:k}=V.useContext(vh);let O=f??i,C=g;const M=te({},r,{disableTypography:s,inset:a,primary:!!O,secondary:!!C,dense:k}),I=cme(M);return O!=null&&O.type!==An&&!s&&(O=B.jsx(An,te({variant:k?"body2":"body1",className:I.primary,component:h!=null&&h.variant?void 0:"span",display:"block"},h,{children:O}))),C!=null&&C.type!==An&&!s&&(C=B.jsx(An,te({variant:"body2",className:I.secondary,color:"text.secondary",display:"block"},v,{children:C}))),B.jsxs(ume,te({className:Pt(I.root,o),ownerState:M,ref:n},x,{children:[O,C]}))}),fme=dme,hme=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Nk(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function d3(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function q9(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.indexOf(t.keys.join(""))===0}function xv(e,t,n,r,i,o){let s=!1,a=i(e,t,t?n:!1);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const f=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!q9(a,o)||f)a=i(e,a,n);else return a.focus(),!0}return!1}const pme=V.forwardRef(function(t,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:f=!1,disableListWrap:h=!1,onKeyDown:g,variant:v="selectedMenu"}=t,x=yt(t,hme),k=V.useRef(null),O=V.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Rs(()=>{i&&k.current.focus()},[i]),V.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(P,$)=>{const z=!k.current.style.width;if(P.clientHeight<k.current.clientHeight&&z){const N=`${UW(Vi(P))}px`;k.current.style[$.direction==="rtl"?"paddingLeft":"paddingRight"]=N,k.current.style.width=`calc(100% + ${N})`}return k.current}}),[]);const C=P=>{const $=k.current,z=P.key,N=Vi($).activeElement;if(z==="ArrowDown")P.preventDefault(),xv($,N,h,f,Nk);else if(z==="ArrowUp")P.preventDefault(),xv($,N,h,f,d3);else if(z==="Home")P.preventDefault(),xv($,null,h,f,Nk);else if(z==="End")P.preventDefault(),xv($,null,h,f,d3);else if(z.length===1){const F=O.current,G=z.toLowerCase(),J=performance.now();F.keys.length>0&&(J-F.lastTime>500?(F.keys=[],F.repeating=!0,F.previousKeyMatched=!0):F.repeating&&G!==F.keys[0]&&(F.repeating=!1)),F.lastTime=J,F.keys.push(G);const ee=N&&!F.repeating&&q9(N,F);F.previousKeyMatched&&(ee||xv($,N,!1,f,Nk,F))?P.preventDefault():F.previousKeyMatched=!1}g&&g(P)},M=si(k,n);let I=-1;V.Children.forEach(s,(P,$)=>{if(!V.isValidElement(P)){I===$&&(I+=1,I>=s.length&&(I=-1));return}P.props.disabled||(v==="selectedMenu"&&P.props.selected||I===-1)&&(I=$),I===$&&(P.props.disabled||P.props.muiSkipListHighlight||P.type.muiSkipListHighlight)&&(I+=1,I>=s.length&&(I=-1))});const A=V.Children.map(s,(P,$)=>{if($===I){const z={};return o&&(z.autoFocus=!0),P.props.tabIndex===void 0&&v==="selectedMenu"&&(z.tabIndex=0),V.cloneElement(P,z)}return P});return B.jsx(Wpe,te({role:"menu",ref:M,className:a,onKeyDown:C,tabIndex:i?0:-1},x,{children:A}))}),mme=pme;function gme(e){return Qt("MuiPopover",e)}tn("MuiPopover",["root","paper"]);const yme=["onEntering"],vme=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],bme=["slotProps"];function f3(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function h3(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function p3(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function zk(e){return typeof e=="function"?e():e}const xme=e=>{const{classes:t}=e;return en({root:["root"],paper:["paper"]},gme,t)},_me=ut(the,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),G9=ut(bl,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),wme=V.forwardRef(function(t,n){var r,i,o;const s=nn({props:t,name:"MuiPopover"}),{action:a,anchorEl:f,anchorOrigin:h={vertical:"top",horizontal:"left"},anchorPosition:g,anchorReference:v="anchorEl",children:x,className:k,container:O,elevation:C=8,marginThreshold:M=16,open:I,PaperProps:A={},slots:P,slotProps:$,transformOrigin:z={vertical:"top",horizontal:"left"},TransitionComponent:N=qw,transitionDuration:F="auto",TransitionProps:{onEntering:G}={},disableScrollLock:J=!1}=s,ee=yt(s.TransitionProps,yme),ae=yt(s,vme),pe=(r=$==null?void 0:$.paper)!=null?r:A,ye=V.useRef(),we=si(ye,pe.ref),Ee=te({},s,{anchorOrigin:h,anchorReference:v,elevation:C,marginThreshold:M,externalPaperSlotProps:pe,transformOrigin:z,TransitionComponent:N,transitionDuration:F,TransitionProps:ee}),Oe=xme(Ee),Ce=V.useCallback(()=>{if(v==="anchorPosition")return g;const Et=zk(f),qt=(Et&&Et.nodeType===1?Et:Vi(ye.current).body).getBoundingClientRect();return{top:qt.top+f3(qt,h.vertical),left:qt.left+h3(qt,h.horizontal)}},[f,h.horizontal,h.vertical,g,v]),Se=V.useCallback(Et=>({vertical:f3(Et,z.vertical),horizontal:h3(Et,z.horizontal)}),[z.horizontal,z.vertical]),De=V.useCallback(Et=>{const Tt={width:Et.offsetWidth,height:Et.offsetHeight},qt=Se(Tt);if(v==="none")return{top:null,left:null,transformOrigin:p3(qt)};const vn=Ce();let Mn=vn.top-qt.vertical,xn=vn.left-qt.horizontal;const rr=Mn+Tt.height,Cn=xn+Tt.width,Ne=Ad(zk(f)),$n=Ne.innerHeight-M,Hn=Ne.innerWidth-M;if(M!==null&&Mn<M){const Dt=Mn-M;Mn-=Dt,qt.vertical+=Dt}else if(M!==null&&rr>$n){const Dt=rr-$n;Mn-=Dt,qt.vertical+=Dt}if(M!==null&&xn<M){const Dt=xn-M;xn-=Dt,qt.horizontal+=Dt}else if(Cn>Hn){const Dt=Cn-Hn;xn-=Dt,qt.horizontal+=Dt}return{top:`${Math.round(Mn)}px`,left:`${Math.round(xn)}px`,transformOrigin:p3(qt)}},[f,v,Ce,Se,M]),[We,dt]=V.useState(I),ht=V.useCallback(()=>{const Et=ye.current;if(!Et)return;const Tt=De(Et);Tt.top!==null&&(Et.style.top=Tt.top),Tt.left!==null&&(Et.style.left=Tt.left),Et.style.transformOrigin=Tt.transformOrigin,dt(!0)},[De]);V.useEffect(()=>(J&&window.addEventListener("scroll",ht),()=>window.removeEventListener("scroll",ht)),[f,J,ht]);const Je=(Et,Tt)=>{G&&G(Et,Tt),ht()},it=()=>{dt(!1)};V.useEffect(()=>{I&&ht()}),V.useImperativeHandle(a,()=>I?{updatePosition:()=>{ht()}}:null,[I,ht]),V.useEffect(()=>{if(!I)return;const Et=E$(()=>{ht()}),Tt=Ad(f);return Tt.addEventListener("resize",Et),()=>{Et.clear(),Tt.removeEventListener("resize",Et)}},[f,I,ht]);let Ot=F;F==="auto"&&!N.muiSupportAuto&&(Ot=void 0);const ot=O||(f?Vi(zk(f)).body:void 0),Gt=(i=P==null?void 0:P.root)!=null?i:_me,Ht=(o=P==null?void 0:P.paper)!=null?o:G9,Ge=ic({elementType:Ht,externalSlotProps:te({},pe,{style:We?pe.style:te({},pe.style,{opacity:0})}),additionalProps:{elevation:C,ref:we},ownerState:Ee,className:Pt(Oe.paper,pe==null?void 0:pe.className)}),vt=ic({elementType:Gt,externalSlotProps:($==null?void 0:$.root)||{},externalForwardedProps:ae,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:ot,open:I},ownerState:Ee,className:Pt(Oe.root,k)}),{slotProps:gt}=vt,Ve=yt(vt,bme);return B.jsx(Gt,te({},Ve,!Bw(Gt)&&{slotProps:gt,disableScrollLock:J},{children:B.jsx(N,te({appear:!0,in:I,onEntering:Je,onExited:it,timeout:Ot},ee,{children:B.jsx(Ht,te({},Ge,{children:x}))}))}))}),Sme=wme;function Eme(e){return Qt("MuiMenu",e)}tn("MuiMenu",["root","paper","list"]);const Cme=["onEntering"],Tme=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],kme={vertical:"top",horizontal:"right"},Pme={vertical:"top",horizontal:"left"},Ome=e=>{const{classes:t}=e;return en({root:["root"],paper:["paper"],list:["list"]},Eme,t)},Ame=ut(Sme,{shouldForwardProp:e=>Bs(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Mme=ut(G9,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Ime=ut(mme,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),$me=V.forwardRef(function(t,n){var r,i;const o=nn({props:t,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:f,disableAutoFocusItem:h=!1,MenuListProps:g={},onClose:v,open:x,PaperProps:k={},PopoverClasses:O,transitionDuration:C="auto",TransitionProps:{onEntering:M}={},variant:I="selectedMenu",slots:A={},slotProps:P={}}=o,$=yt(o.TransitionProps,Cme),z=yt(o,Tme),N=du(),F=N.direction==="rtl",G=te({},o,{autoFocus:s,disableAutoFocusItem:h,MenuListProps:g,onEntering:M,PaperProps:k,transitionDuration:C,TransitionProps:$,variant:I}),J=Ome(G),ee=s&&!h&&x,ae=V.useRef(null),pe=(De,We)=>{ae.current&&ae.current.adjustStyleForScrollbar(De,N),M&&M(De,We)},ye=De=>{De.key==="Tab"&&(De.preventDefault(),v&&v(De,"tabKeyDown"))};let we=-1;V.Children.map(a,(De,We)=>{V.isValidElement(De)&&(De.props.disabled||(I==="selectedMenu"&&De.props.selected||we===-1)&&(we=We))});const Ee=(r=A.paper)!=null?r:Mme,Oe=(i=P.paper)!=null?i:k,Ce=ic({elementType:A.root,externalSlotProps:P.root,ownerState:G,className:[J.root,f]}),Se=ic({elementType:Ee,externalSlotProps:Oe,ownerState:G,className:J.paper});return B.jsx(Ame,te({onClose:v,anchorOrigin:{vertical:"bottom",horizontal:F?"right":"left"},transformOrigin:F?kme:Pme,slots:{paper:Ee,root:A.root},slotProps:{root:Ce,paper:Se},open:x,ref:n,transitionDuration:C,TransitionProps:te({onEntering:pe},$),ownerState:G},z,{classes:O,children:B.jsx(Ime,te({onKeyDown:ye,actions:ae,autoFocus:s&&(we===-1||h),autoFocusItem:ee,variant:I},g,{className:Pt(J.list,g.className),children:a}))}))}),H9=$me;function Rme(e){return Qt("MuiMenuItem",e)}const Dme=tn("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),_v=Dme,Lme=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Nme=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},zme=e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=e,f=en({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},Rme,s);return te({},s,f)},jme=ut(Ag,{shouldForwardProp:e=>Bs(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Nme})(({theme:e,ownerState:t})=>te({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${_v.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Rr(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${_v.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Rr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${_v.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Rr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Rr(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${_v.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${_v.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${n3.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${n3.inset}`]:{marginLeft:52},[`& .${Gw.root}`]:{marginTop:0,marginBottom:0},[`& .${Gw.inset}`]:{paddingLeft:36},[`& .${u3.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&te({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${u3.root} svg`]:{fontSize:"1.25rem"}}))),Bme=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:f=!1,focusVisibleClassName:h,role:g="menuitem",tabIndex:v,className:x}=r,k=yt(r,Lme),O=V.useContext(vh),C=V.useMemo(()=>({dense:s||O.dense||!1,disableGutters:f}),[O.dense,s,f]),M=V.useRef(null);Rs(()=>{i&&M.current&&M.current.focus()},[i]);const I=te({},r,{dense:C.dense,divider:a,disableGutters:f}),A=zme(r),P=si(M,n);let $;return r.disabled||($=v!==void 0?v:-1),B.jsx(vh.Provider,{value:C,children:B.jsx(jme,te({ref:P,role:g,tabIndex:$,component:o,focusVisibleClassName:Pt(A.focusVisible,h),className:Pt(A.root,x)},k,{ownerState:I,classes:A}))})}),hl=Bme;function Fme(e){return Qt("MuiNativeSelect",e)}const Ume=tn("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),rR=Ume,Vme=["className","disabled","error","IconComponent","inputRef","variant"],Wme=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${st(n)}`,o&&"iconOpen",r&&"disabled"]};return en(a,Fme,t)},Y9=({ownerState:e,theme:t})=>te({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":te({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${rR.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),qme=ut("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Bs,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${rR.multiple}`]:t.multiple}]}})(Y9),K9=({ownerState:e,theme:t})=>te({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${rR.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),Gme=ut("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${st(n.variant)}`],n.open&&t.iconOpen]}})(K9),Hme=V.forwardRef(function(t,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:f="standard"}=t,h=yt(t,Vme),g=te({},t,{disabled:i,variant:f,error:o}),v=Wme(g);return B.jsxs(V.Fragment,{children:[B.jsx(qme,te({ownerState:g,className:Pt(v.select,r),disabled:i,ref:a||n},h)),t.multiple?null:B.jsx(Gme,{as:s,ownerState:g,className:v.icon})]})}),Yme=Hme;var m3;const Kme=["children","classes","className","label","notched"],Zme=ut("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Xme=ut("legend")(({ownerState:e,theme:t})=>te({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&te({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function Jme(e){const{className:t,label:n,notched:r}=e,i=yt(e,Kme),o=n!=null&&n!=="",s=te({},e,{notched:r,withLabel:o});return B.jsx(Zme,te({"aria-hidden":!0,className:t,ownerState:s},i,{children:B.jsx(Xme,{ownerState:s,children:o?B.jsx("span",{children:n}):m3||(m3=B.jsx("span",{className:"notranslate",children:""}))})}))}const Qme=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],ege=e=>{const{classes:t}=e,r=en({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},nde,t);return te({},t,r)},tge=ut(cE,{shouldForwardProp:e=>Bs(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:sE})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return te({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Bu.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Bu.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Bu.focused} .${Bu.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${Bu.error} .${Bu.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Bu.disabled} .${Bu.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&te({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),nge=ut(Jme,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),rge=ut(uE,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:lE})(({theme:e,ownerState:t})=>te({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),Z9=V.forwardRef(function(t,n){var r,i,o,s,a;const f=nn({props:t,name:"MuiOutlinedInput"}),{components:h={},fullWidth:g=!1,inputComponent:v="input",label:x,multiline:k=!1,notched:O,slots:C={},type:M="text"}=f,I=yt(f,Qme),A=ege(f),P=cc(),$=Ud({props:f,muiFormControl:P,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),z=te({},f,{color:$.color||"primary",disabled:$.disabled,error:$.error,focused:$.focused,formControl:P,fullWidth:g,hiddenLabel:$.hiddenLabel,multiline:k,size:$.size,type:M}),N=(r=(i=C.root)!=null?i:h.Root)!=null?r:tge,F=(o=(s=C.input)!=null?s:h.Input)!=null?o:rge;return B.jsx(tR,te({slots:{root:N,input:F},renderSuffix:G=>B.jsx(nge,{ownerState:z,className:A.notchedOutline,label:x!=null&&x!==""&&$.required?a||(a=B.jsxs(V.Fragment,{children:[x,"","*"]})):x,notched:typeof O<"u"?O:!!(G.startAdornment||G.filled||G.focused)}),fullWidth:g,inputComponent:v,multiline:k,ref:n,type:M},I,{classes:te({},A,{notchedOutline:null})}))});Z9.muiName="Input";const iR=Z9;function ige(e){return Qt("MuiSelect",e)}const oge=tn("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),wv=oge;var g3;const age=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],sge=ut("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${wv.select}`]:t.select},{[`&.${wv.select}`]:t[n.variant]},{[`&.${wv.error}`]:t.error},{[`&.${wv.multiple}`]:t.multiple}]}})(Y9,{[`&.${wv.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),lge=ut("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${st(n.variant)}`],n.open&&t.iconOpen]}})(K9),cge=ut("input",{shouldForwardProp:e=>bse(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function y3(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function uge(e){return e==null||typeof e=="string"&&!e.trim()}const dge=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${st(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return en(a,ige,t)},fge=V.forwardRef(function(t,n){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:s,autoWidth:a,children:f,className:h,defaultOpen:g,defaultValue:v,disabled:x,displayEmpty:k,error:O=!1,IconComponent:C,inputRef:M,labelId:I,MenuProps:A={},multiple:P,name:$,onBlur:z,onChange:N,onClose:F,onFocus:G,onOpen:J,open:ee,readOnly:ae,renderValue:pe,SelectDisplayProps:ye={},tabIndex:we,value:Ee,variant:Oe="standard"}=t,Ce=yt(t,age),[Se,De]=Vm({controlled:Ee,default:v,name:"Select"}),[We,dt]=Vm({controlled:ee,default:g,name:"Select"}),ht=V.useRef(null),Je=V.useRef(null),[it,Ot]=V.useState(null),{current:ot}=V.useRef(ee!=null),[Gt,Ht]=V.useState(),Ge=si(n,M),vt=V.useCallback(Ue=>{Je.current=Ue,Ue&&Ot(Ue)},[]),gt=it==null?void 0:it.parentNode;V.useImperativeHandle(Ge,()=>({focus:()=>{Je.current.focus()},node:ht.current,value:Se}),[Se]),V.useEffect(()=>{g&&We&&it&&!ot&&(Ht(a?null:gt.clientWidth),Je.current.focus())},[it,a]),V.useEffect(()=>{s&&Je.current.focus()},[s]),V.useEffect(()=>{if(!I)return;const Ue=Vi(Je.current).getElementById(I);if(Ue){const un=()=>{getSelection().isCollapsed&&Je.current.focus()};return Ue.addEventListener("click",un),()=>{Ue.removeEventListener("click",un)}}},[I]);const Ve=(Ue,un)=>{Ue?J&&J(un):F&&F(un),ot||(Ht(a?null:gt.clientWidth),dt(Ue))},Et=Ue=>{Ue.button===0&&(Ue.preventDefault(),Je.current.focus(),Ve(!0,Ue))},Tt=Ue=>{Ve(!1,Ue)},qt=V.Children.toArray(f),vn=Ue=>{const un=qt.find(Rn=>Rn.props.value===Ue.target.value);un!==void 0&&(De(un.props.value),N&&N(Ue,un))},Mn=Ue=>un=>{let Rn;if(un.currentTarget.hasAttribute("tabindex")){if(P){Rn=Array.isArray(Se)?Se.slice():[];const ki=Se.indexOf(Ue.props.value);ki===-1?Rn.push(Ue.props.value):Rn.splice(ki,1)}else Rn=Ue.props.value;if(Ue.props.onClick&&Ue.props.onClick(un),Se!==Rn&&(De(Rn),N)){const ki=un.nativeEvent||un,qi=new ki.constructor(ki.type,ki);Object.defineProperty(qi,"target",{writable:!0,value:{value:Rn,name:$}}),N(qi,Ue)}P||Ve(!1,un)}},xn=Ue=>{ae||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Ue.key)!==-1&&(Ue.preventDefault(),Ve(!0,Ue))},rr=it!==null&&We,Cn=Ue=>{!rr&&z&&(Object.defineProperty(Ue,"target",{writable:!0,value:{value:Se,name:$}}),z(Ue))};delete Ce["aria-invalid"];let Ne,$n;const Hn=[];let Dt=!1;(Vw({value:Se})||k)&&(pe?Ne=pe(Se):Dt=!0);const Kt=qt.map(Ue=>{if(!V.isValidElement(Ue))return null;let un;if(P){if(!Array.isArray(Se))throw new Error(Od(2));un=Se.some(Rn=>y3(Rn,Ue.props.value)),un&&Dt&&Hn.push(Ue.props.children)}else un=y3(Se,Ue.props.value),un&&Dt&&($n=Ue.props.children);return V.cloneElement(Ue,{"aria-selected":un?"true":"false",onClick:Mn(Ue),onKeyUp:Rn=>{Rn.key===" "&&Rn.preventDefault(),Ue.props.onKeyUp&&Ue.props.onKeyUp(Rn)},role:"option",selected:un,value:void 0,"data-value":Ue.props.value})});Dt&&(P?Hn.length===0?Ne=null:Ne=Hn.reduce((Ue,un,Rn)=>(Ue.push(un),Rn<Hn.length-1&&Ue.push(", "),Ue),[]):Ne=$n);let ir=Gt;!a&&ot&&it&&(ir=gt.clientWidth);let vr;typeof we<"u"?vr=we:vr=x?null:0;const Ln=ye.id||($?`mui-component-select-${$}`:void 0),rn=te({},t,{variant:Oe,value:Se,open:rr,error:O}),Zn=dge(rn),Ii=te({},A.PaperProps,(r=A.slotProps)==null?void 0:r.paper),mi=B2();return B.jsxs(V.Fragment,{children:[B.jsx(sge,te({ref:vt,tabIndex:vr,role:"combobox","aria-controls":mi,"aria-disabled":x?"true":void 0,"aria-expanded":rr?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[I,Ln].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:xn,onMouseDown:x||ae?null:Et,onBlur:Cn,onFocus:G},ye,{ownerState:rn,className:Pt(ye.className,Zn.select,h),id:Ln,children:uge(Ne)?g3||(g3=B.jsx("span",{className:"notranslate",children:""})):Ne})),B.jsx(cge,te({"aria-invalid":O,value:Array.isArray(Se)?Se.join(","):Se,name:$,ref:ht,"aria-hidden":!0,onChange:vn,tabIndex:-1,disabled:x,className:Zn.nativeInput,autoFocus:s,ownerState:rn},Ce)),B.jsx(lge,{as:C,className:Zn.icon,ownerState:rn}),B.jsx(H9,te({id:`menu-${$||""}`,anchorEl:gt,open:rr,onClose:Tt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},A,{MenuListProps:te({"aria-labelledby":I,role:"listbox","aria-multiselectable":P?"true":void 0,disableListWrap:!0,id:mi},A.MenuListProps),slotProps:te({},A.slotProps,{paper:te({},Ii,{style:te({minWidth:ir},Ii!=null?Ii.style:null)})}),children:Kt}))]})}),hge=fge,pge=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],mge=["root"],gge=e=>{const{classes:t}=e;return t},oR={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Bs(e)&&e!=="variant",slot:"Root"},yge=ut(V9,oR)(""),vge=ut(iR,oR)(""),bge=ut(j9,oR)(""),X9=V.forwardRef(function(t,n){const r=nn({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:f=!1,displayEmpty:h=!1,IconComponent:g=ade,id:v,input:x,inputProps:k,label:O,labelId:C,MenuProps:M,multiple:I=!1,native:A=!1,onClose:P,onOpen:$,open:z,renderValue:N,SelectDisplayProps:F,variant:G="outlined"}=r,J=yt(r,pge),ee=A?Yme:hge,ae=cc(),pe=Ud({props:r,muiFormControl:ae,states:["variant","error"]}),ye=pe.variant||G,we=te({},r,{variant:ye,classes:s}),Ee=gge(we),Oe=yt(Ee,mge),Ce=x||{standard:B.jsx(yge,{ownerState:we}),outlined:B.jsx(vge,{label:O,ownerState:we}),filled:B.jsx(bge,{ownerState:we})}[ye],Se=si(n,Ce.ref);return B.jsx(V.Fragment,{children:V.cloneElement(Ce,te({inputComponent:ee,inputProps:te({children:o,error:pe.error,IconComponent:g,variant:ye,type:void 0,multiple:I},A?{id:v}:{autoWidth:i,defaultOpen:f,displayEmpty:h,labelId:C,MenuProps:M,onClose:P,onOpen:$,open:z,renderValue:N,SelectDisplayProps:te({id:v},F)},k,{classes:k?eo(Oe,k.classes):Oe},x?x.props.inputProps:{})},I&&A&&ye==="outlined"?{notched:!0}:{},{ref:Se,className:Pt(Ce.props.className,a,Ee.root)},!x&&{variant:ye},J))})});X9.muiName="Select";const hE=X9;function xge(e){return Qt("MuiSnackbarContent",e)}tn("MuiSnackbarContent",["root","message","action"]);const _ge=["action","className","message","role"],wge=e=>{const{classes:t}=e;return en({root:["root"],action:["action"],message:["message"]},xge,t)},Sge=ut(bl,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,n=Pae(e.palette.background.default,t);return te({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(n),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),Ege=ut("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),Cge=ut("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Tge=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiSnackbarContent"}),{action:i,className:o,message:s,role:a="alert"}=r,f=yt(r,_ge),h=r,g=wge(h);return B.jsxs(Sge,te({role:a,square:!0,elevation:6,className:Pt(g.root,o),ownerState:h,ref:n},f,{children:[B.jsx(Ege,{className:g.message,ownerState:h,children:s}),i?B.jsx(Cge,{className:g.action,ownerState:h,children:i}):null]}))}),kge=Tge;function Pge(e){return Qt("MuiSnackbar",e)}tn("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Oge=["onEnter","onExited"],Age=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],Mge=e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${st(n.vertical)}${st(n.horizontal)}`]};return en(r,Pge,t)},v3=ut("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${st(n.anchorOrigin.vertical)}${st(n.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return te({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:te({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&n,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),Ige=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiSnackbar"}),i=du(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:s,anchorOrigin:{vertical:a,horizontal:f}={vertical:"bottom",horizontal:"left"},autoHideDuration:h=null,children:g,className:v,ClickAwayListenerProps:x,ContentProps:k,disableWindowBlurListener:O=!1,message:C,open:M,TransitionComponent:I=qw,transitionDuration:A=o,TransitionProps:{onEnter:P,onExited:$}={}}=r,z=yt(r.TransitionProps,Oge),N=yt(r,Age),F=te({},r,{anchorOrigin:{vertical:a,horizontal:f},autoHideDuration:h,disableWindowBlurListener:O,TransitionComponent:I,transitionDuration:A}),G=Mge(F),{getRootProps:J,onClickAway:ee}=jue(te({},F)),[ae,pe]=V.useState(!0),ye=ic({elementType:v3,getSlotProps:J,externalForwardedProps:N,ownerState:F,additionalProps:{ref:n},className:[G.root,v]}),we=Oe=>{pe(!0),$&&$(Oe)},Ee=(Oe,Ce)=>{pe(!1),P&&P(Oe,Ce)};return!M&&ae?null:B.jsx(ace,te({onClickAway:ee},x,{children:B.jsx(v3,te({},ye,{children:B.jsx(I,te({appear:!0,in:M,timeout:A,direction:a==="top"?"down":"up",onEnter:Ee,onExited:we},z,{children:g||B.jsx(kge,te({message:C,action:s},k))}))}))}))}),$ge=Ige;function Rge(e){return Qt("MuiTooltip",e)}const Dge=tn("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),od=Dge,Lge=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function Nge(e){return Math.round(e*1e5)/1e5}const zge=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:o}=e,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${st(o.split("-")[0])}`],arrow:["arrow"]};return en(s,Rge,t)},jge=ut(M9,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(({theme:e,ownerState:t,open:n})=>te({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${od.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${od.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${od.arrow}`]:te({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${od.arrow}`]:te({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),Bge=ut("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${st(n.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>te({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Rr(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${Nge(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${od.popper}[data-popper-placement*="left"] &`]:te({transformOrigin:"right center"},t.isRtl?te({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):te({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${od.popper}[data-popper-placement*="right"] &`]:te({transformOrigin:"left center"},t.isRtl?te({marginRight:"14px"},t.touch&&{marginRight:"24px"}):te({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${od.popper}[data-popper-placement*="top"] &`]:te({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${od.popper}[data-popper-placement*="bottom"] &`]:te({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),Fge=ut("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Rr(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let e1=!1,jk=null,Sv={x:0,y:0};function t1(e,t){return n=>{t&&t(n),e(n)}}const Uge=V.forwardRef(function(t,n){var r,i,o,s,a,f,h,g,v,x,k,O,C,M,I,A,P,$,z;const N=nn({props:t,name:"MuiTooltip"}),{arrow:F=!1,children:G,components:J={},componentsProps:ee={},describeChild:ae=!1,disableFocusListener:pe=!1,disableHoverListener:ye=!1,disableInteractive:we=!1,disableTouchListener:Ee=!1,enterDelay:Oe=100,enterNextDelay:Ce=0,enterTouchDelay:Se=700,followCursor:De=!1,id:We,leaveDelay:dt=0,leaveTouchDelay:ht=1500,onClose:Je,onOpen:it,open:Ot,placement:ot="bottom",PopperComponent:Gt,PopperProps:Ht={},slotProps:Ge={},slots:vt={},title:gt,TransitionComponent:Ve=qw,TransitionProps:Et}=N,Tt=yt(N,Lge),qt=V.isValidElement(G)?G:B.jsx("span",{children:G}),vn=du(),Mn=vn.direction==="rtl",[xn,rr]=V.useState(),[Cn,Ne]=V.useState(null),$n=V.useRef(!1),Hn=we||De,Dt=V.useRef(),Kt=V.useRef(),ir=V.useRef(),vr=V.useRef(),[Ln,rn]=Vm({controlled:Ot,default:!1,name:"Tooltip",state:"open"});let Zn=Ln;const Ii=B2(We),mi=V.useRef(),Ue=V.useCallback(()=>{mi.current!==void 0&&(document.body.style.WebkitUserSelect=mi.current,mi.current=void 0),clearTimeout(vr.current)},[]);V.useEffect(()=>()=>{clearTimeout(Dt.current),clearTimeout(Kt.current),clearTimeout(ir.current),Ue()},[Ue]);const un=Ut=>{clearTimeout(jk),e1=!0,rn(!0),it&&!Zn&&it(Ut)},Rn=fl(Ut=>{clearTimeout(jk),jk=setTimeout(()=>{e1=!1},800+dt),rn(!1),Je&&Zn&&Je(Ut),clearTimeout(Dt.current),Dt.current=setTimeout(()=>{$n.current=!1},vn.transitions.duration.shortest)}),ki=Ut=>{$n.current&&Ut.type!=="touchstart"||(xn&&xn.removeAttribute("title"),clearTimeout(Kt.current),clearTimeout(ir.current),Oe||e1&&Ce?Kt.current=setTimeout(()=>{un(Ut)},e1?Ce:Oe):un(Ut))},qi=Ut=>{clearTimeout(Kt.current),clearTimeout(ir.current),ir.current=setTimeout(()=>{Rn(Ut)},dt)},{isFocusVisibleRef:lt,onBlur:dn,onFocus:fn,ref:$i}=U2(),[,Vo]=V.useState(!1),sn=Ut=>{dn(Ut),lt.current===!1&&(Vo(!1),qi(Ut))},os=Ut=>{xn||rr(Ut.currentTarget),fn(Ut),lt.current===!0&&(Vo(!0),ki(Ut))},fe=Ut=>{$n.current=!0;const Bn=qt.props;Bn.onTouchStart&&Bn.onTouchStart(Ut)},X=ki,ne=qi,se=Ut=>{fe(Ut),clearTimeout(ir.current),clearTimeout(Dt.current),Ue(),mi.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",vr.current=setTimeout(()=>{document.body.style.WebkitUserSelect=mi.current,ki(Ut)},Se)},he=Ut=>{qt.props.onTouchEnd&&qt.props.onTouchEnd(Ut),Ue(),clearTimeout(ir.current),ir.current=setTimeout(()=>{Rn(Ut)},ht)};V.useEffect(()=>{if(!Zn)return;function Ut(Bn){(Bn.key==="Escape"||Bn.key==="Esc")&&Rn(Bn)}return document.addEventListener("keydown",Ut),()=>{document.removeEventListener("keydown",Ut)}},[Rn,Zn]);const be=si(qt.ref,$i,rr,n);!gt&&gt!==0&&(Zn=!1);const Me=V.useRef(),ke=Ut=>{const Bn=qt.props;Bn.onMouseMove&&Bn.onMouseMove(Ut),Sv={x:Ut.clientX,y:Ut.clientY},Me.current&&Me.current.update()},_e={},$e=typeof gt=="string";ae?(_e.title=!Zn&&$e&&!ye?gt:null,_e["aria-describedby"]=Zn?Ii:null):(_e["aria-label"]=$e?gt:null,_e["aria-labelledby"]=Zn&&!$e?Ii:null);const qe=te({},_e,Tt,qt.props,{className:Pt(Tt.className,qt.props.className),onTouchStart:fe,ref:be},De?{onMouseMove:ke}:{}),He={};Ee||(qe.onTouchStart=se,qe.onTouchEnd=he),ye||(qe.onMouseOver=t1(X,qe.onMouseOver),qe.onMouseLeave=t1(ne,qe.onMouseLeave),Hn||(He.onMouseOver=X,He.onMouseLeave=ne)),pe||(qe.onFocus=t1(os,qe.onFocus),qe.onBlur=t1(sn,qe.onBlur),Hn||(He.onFocus=os,He.onBlur=sn));const Xe=V.useMemo(()=>{var Ut;let Bn=[{name:"arrow",enabled:!!Cn,options:{element:Cn,padding:4}}];return(Ut=Ht.popperOptions)!=null&&Ut.modifiers&&(Bn=Bn.concat(Ht.popperOptions.modifiers)),te({},Ht.popperOptions,{modifiers:Bn})},[Cn,Ht]),Lt=te({},N,{isRtl:Mn,arrow:F,disableInteractive:Hn,placement:ot,PopperComponentProp:Gt,touch:$n.current}),Xt=zge(Lt),It=(r=(i=vt.popper)!=null?i:J.Popper)!=null?r:jge,jt=(o=(s=(a=vt.transition)!=null?a:J.Transition)!=null?s:Ve)!=null?o:qw,ln=(f=(h=vt.tooltip)!=null?h:J.Tooltip)!=null?f:Bge,jn=(g=(v=vt.arrow)!=null?v:J.Arrow)!=null?g:Fge,Yn=Zv(It,te({},Ht,(x=Ge.popper)!=null?x:ee.popper,{className:Pt(Xt.popper,Ht==null?void 0:Ht.className,(k=(O=Ge.popper)!=null?O:ee.popper)==null?void 0:k.className)}),Lt),In=Zv(jt,te({},Et,(C=Ge.transition)!=null?C:ee.transition),Lt),Tn=Zv(ln,te({},(M=Ge.tooltip)!=null?M:ee.tooltip,{className:Pt(Xt.tooltip,(I=(A=Ge.tooltip)!=null?A:ee.tooltip)==null?void 0:I.className)}),Lt),Pi=Zv(jn,te({},(P=Ge.arrow)!=null?P:ee.arrow,{className:Pt(Xt.arrow,($=(z=Ge.arrow)!=null?z:ee.arrow)==null?void 0:$.className)}),Lt);return B.jsxs(V.Fragment,{children:[V.cloneElement(qt,qe),B.jsx(It,te({as:Gt??M9,placement:ot,anchorEl:De?{getBoundingClientRect:()=>({top:Sv.y,left:Sv.x,right:Sv.x,bottom:Sv.y,width:0,height:0})}:xn,popperRef:Me,open:xn?Zn:!1,id:Ii,transition:!0},He,Yn,{popperOptions:Xe,children:({TransitionProps:Ut})=>B.jsx(jt,te({timeout:vn.transitions.duration.shorter},Ut,In,{children:B.jsxs(ln,te({},Tn,{children:[gt,F?B.jsx(jn,te({},Pi,{ref:Ne})):null]}))}))}))]})}),Bp=Uge,Vge=V.createContext(),J9=Vge;function Wge(e){return Qt("MuiTable",e)}tn("MuiTable",["root","stickyHeader"]);const qge=["className","component","padding","size","stickyHeader"],Gge=e=>{const{classes:t,stickyHeader:n}=e;return en({root:["root",n&&"stickyHeader"]},Wge,t)},Hge=ut("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>te({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":te({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),b3="table",Yge=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiTable"}),{className:i,component:o=b3,padding:s="normal",size:a="medium",stickyHeader:f=!1}=r,h=yt(r,qge),g=te({},r,{component:o,padding:s,size:a,stickyHeader:f}),v=Gge(g),x=V.useMemo(()=>({padding:s,size:a,stickyHeader:f}),[s,a,f]);return B.jsx(J9.Provider,{value:x,children:B.jsx(Hge,te({as:o,role:o===b3?null:"table",ref:n,className:Pt(v.root,i),ownerState:g},h))})}),aR=Yge,Kge=V.createContext(),pE=Kge;function Zge(e){return Qt("MuiTableBody",e)}tn("MuiTableBody",["root"]);const Xge=["className","component"],Jge=e=>{const{classes:t}=e;return en({root:["root"]},Zge,t)},Qge=ut("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),eye={variant:"body"},x3="tbody",tye=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiTableBody"}),{className:i,component:o=x3}=r,s=yt(r,Xge),a=te({},r,{component:o}),f=Jge(a);return B.jsx(pE.Provider,{value:eye,children:B.jsx(Qge,te({className:Pt(f.root,i),as:o,ref:n,role:o===x3?null:"rowgroup",ownerState:a},s))})}),sR=tye;function nye(e){return Qt("MuiTableCell",e)}const rye=tn("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),iye=rye,oye=["align","className","component","padding","scope","size","sortDirection","variant"],aye=e=>{const{classes:t,variant:n,align:r,padding:i,size:o,stickyHeader:s}=e,a={root:["root",n,s&&"stickyHeader",r!=="inherit"&&`align${st(r)}`,i!=="normal"&&`padding${st(i)}`,`size${st(o)}`]};return en(a,nye,t)},sye=ut("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${st(n.size)}`],n.padding!=="normal"&&t[`padding${st(n.padding)}`],n.align!=="inherit"&&t[`align${st(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>te({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?F$(Rr(e.palette.divider,1),.88):B$(Rr(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${iye.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),lye=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiTableCell"}),{align:i="inherit",className:o,component:s,padding:a,scope:f,size:h,sortDirection:g,variant:v}=r,x=yt(r,oye),k=V.useContext(J9),O=V.useContext(pE),C=O&&O.variant==="head";let M;s?M=s:M=C?"th":"td";let I=f;M==="td"?I=void 0:!I&&C&&(I="col");const A=v||O&&O.variant,P=te({},r,{align:i,component:M,padding:a||(k&&k.padding?k.padding:"normal"),size:h||(k&&k.size?k.size:"medium"),sortDirection:g,stickyHeader:A==="head"&&k&&k.stickyHeader,variant:A}),$=aye(P);let z=null;return g&&(z=g==="asc"?"ascending":"descending"),B.jsx(sye,te({as:M,ref:n,className:Pt($.root,o),"aria-sort":z,scope:I,ownerState:P},x))}),mo=lye;function cye(e){return Qt("MuiTableHead",e)}tn("MuiTableHead",["root"]);const uye=["className","component"],dye=e=>{const{classes:t}=e;return en({root:["root"]},cye,t)},fye=ut("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),hye={variant:"head"},_3="thead",pye=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiTableHead"}),{className:i,component:o=_3}=r,s=yt(r,uye),a=te({},r,{component:o}),f=dye(a);return B.jsx(pE.Provider,{value:hye,children:B.jsx(fye,te({as:o,className:Pt(f.root,i),ref:n,role:o===_3?null:"rowgroup",ownerState:a},s))})}),Q9=pye;function mye(e){return Qt("MuiToolbar",e)}tn("MuiToolbar",["root","gutters","regular","dense"]);const gye=["className","component","disableGutters","variant"],yye=e=>{const{classes:t,disableGutters:n,variant:r}=e;return en({root:["root",!n&&"gutters",r]},mye,t)},vye=ut("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(({theme:e,ownerState:t})=>te({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},t.variant==="dense"&&{minHeight:48}),({theme:e,ownerState:t})=>t.variant==="regular"&&e.mixins.toolbar),bye=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:s=!1,variant:a="regular"}=r,f=yt(r,gye),h=te({},r,{component:o,disableGutters:s,variant:a}),g=yye(h);return B.jsx(vye,te({as:o,className:Pt(g.root,i),ref:n,ownerState:h},f))}),ax=bye;function xye(e){return Qt("MuiTableRow",e)}const _ye=tn("MuiTableRow",["root","selected","hover","head","footer"]),w3=_ye,wye=["className","component","hover","selected"],Sye=e=>{const{classes:t,selected:n,hover:r,head:i,footer:o}=e;return en({root:["root",n&&"selected",r&&"hover",i&&"head",o&&"footer"]},xye,t)},Eye=ut("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${w3.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${w3.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Rr(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Rr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),S3="tr",Cye=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiTableRow"}),{className:i,component:o=S3,hover:s=!1,selected:a=!1}=r,f=yt(r,wye),h=V.useContext(pE),g=te({},r,{component:o,hover:s,selected:a,head:h&&h.variant==="head",footer:h&&h.variant==="footer"}),v=Sye(g);return B.jsx(Eye,te({as:o,ref:n,className:Pt(v.root,i),role:o===S3?null:"row",ownerState:g},f))}),Em=Cye;function Tye(e){return Qt("MuiTextField",e)}tn("MuiTextField",["root"]);const kye=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Pye={standard:V9,filled:j9,outlined:iR},Oye=e=>{const{classes:t}=e;return en({root:["root"]},Tye,t)},Aye=ut(dE,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Mye=V.forwardRef(function(t,n){const r=nn({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:f="primary",defaultValue:h,disabled:g=!1,error:v=!1,FormHelperTextProps:x,fullWidth:k=!1,helperText:O,id:C,InputLabelProps:M,inputProps:I,InputProps:A,inputRef:P,label:$,maxRows:z,minRows:N,multiline:F=!1,name:G,onBlur:J,onChange:ee,onFocus:ae,placeholder:pe,required:ye=!1,rows:we,select:Ee=!1,SelectProps:Oe,type:Ce,value:Se,variant:De="outlined"}=r,We=yt(r,kye),dt=te({},r,{autoFocus:o,color:f,disabled:g,error:v,fullWidth:k,multiline:F,required:ye,select:Ee,variant:De}),ht=Oye(dt),Je={};De==="outlined"&&(M&&typeof M.shrink<"u"&&(Je.notched=M.shrink),Je.label=$),Ee&&((!Oe||!Oe.native)&&(Je.id=void 0),Je["aria-describedby"]=void 0);const it=B2(C),Ot=O&&it?`${it}-helper-text`:void 0,ot=$&&it?`${it}-label`:void 0,Gt=Pye[De],Ht=B.jsx(Gt,te({"aria-describedby":Ot,autoComplete:i,autoFocus:o,defaultValue:h,fullWidth:k,multiline:F,name:G,rows:we,maxRows:z,minRows:N,type:Ce,value:Se,id:it,inputRef:P,onBlur:J,onChange:ee,onFocus:ae,placeholder:pe,inputProps:I},Je,A));return B.jsxs(Aye,te({className:Pt(ht.root,a),disabled:g,error:v,fullWidth:k,ref:n,required:ye,color:f,variant:De,ownerState:dt},We,{children:[$!=null&&$!==""&&B.jsx(fE,te({htmlFor:it,id:ot},M,{children:$})),Ee?B.jsx(hE,te({"aria-describedby":Ot,id:it,labelId:ot,value:Se,input:Ht},Oe,{children:s})):Ht,O&&B.jsx(zhe,te({id:Ot},x,{children:O}))]}))}),yo=Mye,lR=(e,t)=>{const n=wl(),r=V.useRef();V.useEffect(()=>(e().then(i=>r.current=i).catch(i=>n($W.push(i.message))),()=>{const i=r.current;i&&i()}),[...t,n])},Iye=e=>{const t=wl();return(...n)=>{e(...n).catch(r=>t($W.push(r.message)))}};var E3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sx=(typeof window>"u"?"undefined":E3(window))==="object"&&(typeof document>"u"?"undefined":E3(document))==="object"&&document.nodeType===9;function C3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TW(r.key),r)}}function e7(e,t,n){return t&&C3(e.prototype,t),n&&C3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var $ye={}.constructor;function vA(e){if(e==null||typeof e!="object")return e;if(Array.isArray(e))return e.map(vA);if(e.constructor!==$ye)return e;var t={};for(var n in e)t[n]=vA(e[n]);return t}function cR(e,t,n){e===void 0&&(e="unnamed");var r=n.jss,i=vA(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var T3=function(t,n){for(var r="",i=0;i<t.length&&t[i]!=="!important";i++)r&&(r+=n),r+=t[i];return r},Jf=function(t){if(!Array.isArray(t))return t;var n="";if(Array.isArray(t[0]))for(var r=0;r<t.length&&t[r]!=="!important";r++)n&&(n+=", "),n+=T3(t[r]," ");else n=T3(t,", ");return t[t.length-1]==="!important"&&(n+=" !important"),n};function Mg(e){return e&&e.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function Ev(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function ob(e,t,n){n===void 0&&(n={});var r="";if(!t)return r;var i=n,o=i.indent,s=o===void 0?0:o,a=t.fallbacks;n.format===!1&&(s=-1/0);var f=Mg(n),h=f.linebreak,g=f.space;if(e&&s++,a)if(Array.isArray(a))for(var v=0;v<a.length;v++){var x=a[v];for(var k in x){var O=x[k];O!=null&&(r&&(r+=h),r+=Ev(k+":"+g+Jf(O)+";",s))}}else for(var C in a){var M=a[C];M!=null&&(r&&(r+=h),r+=Ev(C+":"+g+Jf(M)+";",s))}for(var I in t){var A=t[I];A!=null&&I!=="fallbacks"&&(r&&(r+=h),r+=Ev(I+":"+g+Jf(A)+";",s))}return!r&&!n.allowEmpty||!e?r:(s--,r&&(r=""+h+r+h),Ev(""+e+g+"{"+r,s)+Ev("}",s))}var Rye=/([[\].#*$><+~=|^:(),"'`\s])/g,k3=typeof CSS<"u"&&CSS.escape,uR=function(e){return k3?k3(e):e.replace(Rye,"\\$1")},t7=function(){function e(n,r,i){this.type="style",this.isProcessed=!1;var o=i.sheet,s=i.Renderer;this.key=n,this.options=i,this.style=r,o?this.renderer=o.renderer:s&&(this.renderer=new s)}var t=e.prototype;return t.prop=function(r,i,o){if(i===void 0)return this.style[r];var s=o?o.force:!1;if(!s&&this.style[r]===i)return this;var a=i;(!o||o.process!==!1)&&(a=this.options.jss.plugins.onChangeValue(i,r,this));var f=a==null||a===!1,h=r in this.style;if(f&&!h&&!s)return this;var g=f&&h;if(g?delete this.style[r]:this.style[r]=a,this.renderable&&this.renderer)return g?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,a),this;var v=this.options.sheet;return v&&v.attached,this},e}(),bA=function(e){rx(t,e);function t(r,i,o){var s;s=e.call(this,r,i,o)||this;var a=o.selector,f=o.scoped,h=o.sheet,g=o.generateId;return a?s.selectorText=a:f!==!1&&(s.id=g(tb(tb(s)),h),s.selectorText="."+uR(s.id)),s}var n=t.prototype;return n.applyTo=function(i){var o=this.renderer;if(o){var s=this.toJSON();for(var a in s)o.setProperty(i,a,s[a])}return this},n.toJSON=function(){var i={};for(var o in this.style){var s=this.style[o];typeof s!="object"?i[o]=s:Array.isArray(s)&&(i[o]=Jf(s))}return i},n.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,a=s?te({},i,{allowEmpty:!0}):i;return ob(this.selectorText,this.style,a)},e7(t,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var o=this.renderer,s=this.renderable;if(!(!s||!o)){var a=o.setSelector(s,i);a||o.replaceRule(s,this)}}},get:function(){return this.selectorText}}]),t}(t7),Dye={onCreateRule:function(t,n,r){return t[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new bA(t,n,r)}},Bk={indent:1,children:!0},Lye=/@([\w-]+)/,Nye=function(){function e(n,r,i){this.type="conditional",this.isProcessed=!1,this.key=n;var o=n.match(Lye);this.at=o?o[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new mE(te({},i,{parent:this}));for(var s in r)this.rules.add(s,r[s]);this.rules.process()}var t=e.prototype;return t.getRule=function(r){return this.rules.get(r)},t.indexOf=function(r){return this.rules.indexOf(r)},t.addRule=function(r,i,o){var s=this.rules.add(r,i,o);return s?(this.options.jss.plugins.onProcessRule(s),s):null},t.replaceRule=function(r,i,o){var s=this.rules.replace(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.toString=function(r){r===void 0&&(r=Bk);var i=Mg(r),o=i.linebreak;if(r.indent==null&&(r.indent=Bk.indent),r.children==null&&(r.children=Bk.children),r.children===!1)return this.query+" {}";var s=this.rules.toString(r);return s?this.query+" {"+o+s+o+"}":""},e}(),zye=/@container|@media|@supports\s+/,jye={onCreateRule:function(t,n,r){return zye.test(t)?new Nye(t,n,r):null}},Fk={indent:1,children:!0},Bye=/@keyframes\s+([\w-]+)/,xA=function(){function e(n,r,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var o=n.match(Bye);o&&o[1]?this.name=o[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var s=i.scoped,a=i.sheet,f=i.generateId;this.id=s===!1?this.name:uR(f(this,a)),this.rules=new mE(te({},i,{parent:this}));for(var h in r)this.rules.add(h,r[h],te({},i,{parent:this}));this.rules.process()}var t=e.prototype;return t.toString=function(r){r===void 0&&(r=Fk);var i=Mg(r),o=i.linebreak;if(r.indent==null&&(r.indent=Fk.indent),r.children==null&&(r.children=Fk.children),r.children===!1)return this.at+" "+this.id+" {}";var s=this.rules.toString(r);return s&&(s=""+o+s+o),this.at+" "+this.id+" {"+s+"}"},e}(),Fye=/@keyframes\s+/,Uye=/\$([\w-]+)/g,_A=function(t,n){return typeof t=="string"?t.replace(Uye,function(r,i){return i in n?n[i]:r}):t},P3=function(t,n,r){var i=t[n],o=_A(i,r);o!==i&&(t[n]=o)},Vye={onCreateRule:function(t,n,r){return typeof t=="string"&&Fye.test(t)?new xA(t,n,r):null},onProcessStyle:function(t,n,r){return n.type!=="style"||!r||("animation-name"in t&&P3(t,"animation-name",r.keyframes),"animation"in t&&P3(t,"animation",r.keyframes)),t},onChangeValue:function(t,n,r){var i=r.options.sheet;if(!i)return t;switch(n){case"animation":return _A(t,i.keyframes);case"animation-name":return _A(t,i.keyframes);default:return t}}},Wye=function(e){rx(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,a=s?te({},i,{allowEmpty:!0}):i;return ob(this.key,this.style,a)},t}(t7),qye={onCreateRule:function(t,n,r){return r.parent&&r.parent.type==="keyframes"?new Wye(t,n,r):null}},Gye=function(){function e(n,r,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var t=e.prototype;return t.toString=function(r){var i=Mg(r),o=i.linebreak;if(Array.isArray(this.style)){for(var s="",a=0;a<this.style.length;a++)s+=ob(this.at,this.style[a]),this.style[a+1]&&(s+=o);return s}return ob(this.at,this.style,r)},e}(),Hye=/@font-face/,Yye={onCreateRule:function(t,n,r){return Hye.test(t)?new Gye(t,n,r):null}},Kye=function(){function e(n,r,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var t=e.prototype;return t.toString=function(r){return ob(this.key,this.style,r)},e}(),Zye={onCreateRule:function(t,n,r){return t==="@viewport"||t==="@-ms-viewport"?new Kye(t,n,r):null}},Xye=function(){function e(n,r,i){this.type="simple",this.isProcessed=!1,this.key=n,this.value=r,this.options=i}var t=e.prototype;return t.toString=function(r){if(Array.isArray(this.value)){for(var i="",o=0;o<this.value.length;o++)i+=this.key+" "+this.value[o]+";",this.value[o+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},e}(),Jye={"@charset":!0,"@import":!0,"@namespace":!0},Qye={onCreateRule:function(t,n,r){return t in Jye?new Xye(t,n,r):null}},O3=[Dye,jye,Vye,qye,Yye,Zye,Qye],eve={process:!0},A3={force:!0,process:!0},mE=function(){function e(n){this.map={},this.raw={},this.index=[],this.counter=0,this.options=n,this.classes=n.classes,this.keyframes=n.keyframes}var t=e.prototype;return t.add=function(r,i,o){var s=this.options,a=s.parent,f=s.sheet,h=s.jss,g=s.Renderer,v=s.generateId,x=s.scoped,k=te({classes:this.classes,parent:a,sheet:f,jss:h,Renderer:g,generateId:v,scoped:x,name:r,keyframes:this.keyframes,selector:void 0},o),O=r;r in this.raw&&(O=r+"-d"+this.counter++),this.raw[O]=i,O in this.classes&&(k.selector="."+uR(this.classes[O]));var C=cR(O,i,k);if(!C)return null;this.register(C);var M=k.index===void 0?this.index.length:k.index;return this.index.splice(M,0,C),C},t.replace=function(r,i,o){var s=this.get(r),a=this.index.indexOf(s);s&&this.remove(s);var f=o;return a!==-1&&(f=te({},o,{index:a})),this.add(r,i,f)},t.get=function(r){return this.map[r]},t.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},t.indexOf=function(r){return this.index.indexOf(r)},t.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},t.register=function(r){this.map[r.key]=r,r instanceof bA?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof xA&&this.keyframes&&(this.keyframes[r.name]=r.id)},t.unregister=function(r){delete this.map[r.key],r instanceof bA?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof xA&&delete this.keyframes[r.name]},t.update=function(){var r,i,o;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],o=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),i,o);else for(var s=0;s<this.index.length;s++)this.updateOne(this.index[s],i,o)},t.updateOne=function(r,i,o){o===void 0&&(o=eve);var s=this.options,a=s.jss.plugins,f=s.sheet;if(r.rules instanceof e){r.rules.update(i,o);return}var h=r.style;if(a.onUpdate(i,r,f,o),o.process&&h&&h!==r.style){a.onProcessStyle(r.style,r,f);for(var g in r.style){var v=r.style[g],x=h[g];v!==x&&r.prop(g,v,A3)}for(var k in h){var O=r.style[k],C=h[k];O==null&&O!==C&&r.prop(k,null,A3)}}},t.toString=function(r){for(var i="",o=this.options.sheet,s=o?o.options.link:!1,a=Mg(r),f=a.linebreak,h=0;h<this.index.length;h++){var g=this.index[h],v=g.toString(r);!v&&!s||(i&&(i+=f),i+=v)}return i},e}(),n7=function(){function e(n,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=te({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new mE(this.options);for(var i in n)this.rules.add(i,n[i]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(r,i,o){var s=this.queue;this.attached&&!s&&(this.queue=[]);var a=this.rules.add(r,i,o);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&(s?s.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),a):(this.deployed=!1,a)):null},t.replaceRule=function(r,i,o){var s=this.rules.get(r);if(!s)return this.addRule(r,i,o);var a=this.rules.replace(r,i,o);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&this.renderer&&(a?s.renderable&&this.renderer.replaceRule(s.renderable,a):this.renderer.deleteRule(s)),a):(this.deployed=!1,a)},t.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},t.addRules=function(r,i){var o=[];for(var s in r){var a=this.addRule(s,r[s],i);a&&o.push(a)}return o},t.getRule=function(r){return this.rules.get(r)},t.deleteRule=function(r){var i=typeof r=="object"?r:this.rules.get(r);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},t.indexOf=function(r){return this.rules.indexOf(r)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},t.updateOne=function(r,i,o){return this.rules.updateOne(r,i,o),this},t.toString=function(r){return this.rules.toString(r)},e}(),tve=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(r,i,o){for(var s=0;s<this.registry.onCreateRule.length;s++){var a=this.registry.onCreateRule[s](r,i,o);if(a)return a}return null},t.onProcessRule=function(r){if(!r.isProcessed){for(var i=r.options.sheet,o=0;o<this.registry.onProcessRule.length;o++)this.registry.onProcessRule[o](r,i);r.style&&this.onProcessStyle(r.style,r,i),r.isProcessed=!0}},t.onProcessStyle=function(r,i,o){for(var s=0;s<this.registry.onProcessStyle.length;s++)i.style=this.registry.onProcessStyle[s](i.style,i,o)},t.onProcessSheet=function(r){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](r)},t.onUpdate=function(r,i,o,s){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](r,i,o,s)},t.onChangeValue=function(r,i,o){for(var s=r,a=0;a<this.registry.onChangeValue.length;a++)s=this.registry.onChangeValue[a](s,i,o);return s},t.use=function(r,i){i===void 0&&(i={queue:"external"});var o=this.plugins[i.queue];o.indexOf(r)===-1&&(o.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(s,a){for(var f in a)f in s&&s[f].push(a[f]);return s},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),nve=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(r){var i=this.registry,o=r.options.index;if(i.indexOf(r)===-1){if(i.length===0||o>=this.index){i.push(r);return}for(var s=0;s<i.length;s++)if(i[s].options.index>o){i.splice(s,0,r);return}}},t.reset=function(){this.registry=[]},t.remove=function(r){var i=this.registry.indexOf(r);this.registry.splice(i,1)},t.toString=function(r){for(var i=r===void 0?{}:r,o=i.attached,s=yt(i,["attached"]),a=Mg(s),f=a.linebreak,h="",g=0;g<this.registry.length;g++){var v=this.registry[g];o!=null&&v.attached!==o||(h&&(h+=f),h+=v.toString(s))}return h},e7(e,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),e}(),v0=new nve,wA=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),SA="2f1acc6c3a606b082e5eef5e54414ffb";wA[SA]==null&&(wA[SA]=0);var M3=wA[SA]++,I3=function(t){t===void 0&&(t={});var n=0,r=function(o,s){n+=1;var a="",f="";return s&&(s.options.classNamePrefix&&(f=s.options.classNamePrefix),s.options.jss.id!=null&&(a=String(s.options.jss.id))),t.minify?""+(f||"c")+M3+a+n:f+o.key+"-"+M3+(a?"-"+a:"")+"-"+n};return r},r7=function(t){var n;return function(){return n||(n=t()),n}},rve=function(t,n){try{return t.attributeStyleMap?t.attributeStyleMap.get(n):t.style.getPropertyValue(n)}catch{return""}},ive=function(t,n,r){try{var i=r;if(Array.isArray(r)&&(i=Jf(r)),t.attributeStyleMap)t.attributeStyleMap.set(n,i);else{var o=i?i.indexOf("!important"):-1,s=o>-1?i.substr(0,o-1):i;t.style.setProperty(n,s,o>-1?"important":"")}}catch{return!1}return!0},ove=function(t,n){try{t.attributeStyleMap?t.attributeStyleMap.delete(n):t.style.removeProperty(n)}catch{}},ave=function(t,n){return t.selectorText=n,t.selectorText===n},i7=r7(function(){return document.querySelector("head")});function sve(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}function lve(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}function cve(e){for(var t=i7(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(r.nodeType===8&&r.nodeValue.trim()===e)return r}return null}function uve(e){var t=v0.registry;if(t.length>0){var n=sve(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=lve(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&typeof r=="string"){var i=cve(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function dve(e,t){var n=t.insertionPoint,r=uve(t);if(r!==!1&&r.parent){r.parent.insertBefore(e,r.node);return}if(n&&typeof n.nodeType=="number"){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling);return}i7().appendChild(e)}var fve=r7(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),$3=function(t,n,r){try{"insertRule"in t?t.insertRule(n,r):"appendRule"in t&&t.appendRule(n)}catch{return!1}return t.cssRules[r]},R3=function(t,n){var r=t.cssRules.length;return n===void 0||n>r?r:n},hve=function(){var t=document.createElement("style");return t.textContent=`
`,t},pve=function(){function e(n){this.getPropertyValue=rve,this.setProperty=ive,this.removeProperty=ove,this.setSelector=ave,this.hasInsertedRules=!1,this.cssRules=[],n&&v0.add(n),this.sheet=n;var r=this.sheet?this.sheet.options:{},i=r.media,o=r.meta,s=r.element;this.element=s||hve(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),o&&this.element.setAttribute("data-meta",o);var a=fve();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!(this.element.parentNode||!this.sheet)){dve(this.element,this.sheet.options);var r=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},t.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},t.insertRules=function(r,i){for(var o=0;o<r.index.length;o++)this.insertRule(r.index[o],o,i)},t.insertRule=function(r,i,o){if(o===void 0&&(o=this.element.sheet),r.rules){var s=r,a=o;if(r.type==="conditional"||r.type==="keyframes"){var f=R3(o,i);if(a=$3(o,s.toString({children:!1}),f),a===!1)return!1;this.refCssRule(r,f,a)}return this.insertRules(s.rules,a),a}var h=r.toString();if(!h)return!1;var g=R3(o,i),v=$3(o,h,g);return v===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,g,v),v)},t.refCssRule=function(r,i,o){r.renderable=o,r.options.parent instanceof n7&&this.cssRules.splice(i,0,o)},t.deleteRule=function(r){var i=this.element.sheet,o=this.indexOf(r);return o===-1?!1:(i.deleteRule(o),this.cssRules.splice(o,1),!0)},t.indexOf=function(r){return this.cssRules.indexOf(r)},t.replaceRule=function(r,i){var o=this.indexOf(r);return o===-1?!1:(this.element.sheet.deleteRule(o),this.cssRules.splice(o,1),this.insertRule(i,o))},t.getRules=function(){return this.element.sheet.cssRules},e}(),mve=0,gve=function(){function e(n){this.id=mve++,this.version="10.10.0",this.plugins=new tve,this.options={id:{minify:!1},createGenerateId:I3,Renderer:sx?pve:null,plugins:[]},this.generateId=I3({minify:!1});for(var r=0;r<O3.length;r++)this.plugins.use(O3[r],{queue:"internal"});this.setup(n)}var t=e.prototype;return t.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=te({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},t.createStyleSheet=function(r,i){i===void 0&&(i={});var o=i,s=o.index;typeof s!="number"&&(s=v0.index===0?0:v0.index+1);var a=new n7(r,te({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:s}));return this.plugins.onProcessSheet(a),a},t.removeStyleSheet=function(r){return r.detach(),v0.remove(r),this},t.createRule=function(r,i,o){if(i===void 0&&(i={}),o===void 0&&(o={}),typeof r=="object")return this.createRule(void 0,r,i);var s=te({},o,{name:r,jss:this,Renderer:this.options.Renderer});s.generateId||(s.generateId=this.generateId),s.classes||(s.classes={}),s.keyframes||(s.keyframes={});var a=cR(r,i,s);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var r=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return o.forEach(function(a){r.plugins.use(a)}),this},e}(),o7=function(t){return new gve(t)},dR=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function a7(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if(i==="function")t||(t={}),t[n]=r;else if(i==="object"&&r!==null&&!Array.isArray(r)){var o=a7(r);o&&(t||(t={}),t[n]=o)}}return t}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */o7();function s7(e={}){const{baseClasses:t,newClasses:n,Component:r}=e;if(!n)return t;const i=te({},t);return Object.keys(n).forEach(o=>{n[o]&&(i[o]=`${t[o]} ${n[o]}`)}),i}const yve={set:(e,t,n,r)=>{let i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:(e,t,n)=>{const r=e.get(t);return r?r.get(n):void 0},delete:(e,t,n)=>{e.get(t).delete(n)}},nm=yve;function l7(){var e;const t=U$();return(e=t==null?void 0:t.$$material)!=null?e:t}const vve=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function bve(e={}){const{disableGlobal:t=!1,productionPrefix:n="jss",seed:r=""}=e,i=r===""?"":`${r}-`;let o=0;const s=()=>(o+=1,o);return(a,f)=>{const h=f.options.name;if(h&&h.indexOf("Mui")===0&&!f.options.link&&!t){if(vve.indexOf(a.key)!==-1)return`Mui-${a.key}`;const g=`${i}${h}-${a.key}`;return!f.options.theme[m9]||r!==""?g:`${g}-${s()}`}return`${i}${n}${s()}`}}var c7=Date.now(),Uk="fnValues"+c7,Vk="fnStyle"+ ++c7,xve=function(){return{onCreateRule:function(n,r,i){if(typeof r!="function")return null;var o=cR(n,{},i);return o[Vk]=r,o},onProcessStyle:function(n,r){if(Uk in r||Vk in r)return n;var i={};for(var o in n){var s=n[o];typeof s=="function"&&(delete n[o],i[o]=s)}return r[Uk]=i,n},onUpdate:function(n,r,i,o){var s=r,a=s[Vk];a&&(s.style=a(n)||{});var f=s[Uk];if(f)for(var h in f)s.prop(h,f[h](n),o)}}};const _ve=xve;var xd="@global",EA="@global ",wve=function(){function e(n,r,i){this.type="global",this.at=xd,this.isProcessed=!1,this.key=n,this.options=i,this.rules=new mE(te({},i,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(r){return this.rules.get(r)},t.addRule=function(r,i,o){var s=this.rules.add(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.replaceRule=function(r,i,o){var s=this.rules.replace(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},t.indexOf=function(r){return this.rules.indexOf(r)},t.toString=function(r){return this.rules.toString(r)},e}(),Sve=function(){function e(n,r,i){this.type="global",this.at=xd,this.isProcessed=!1,this.key=n,this.options=i;var o=n.substr(EA.length);this.rule=i.jss.createRule(o,r,te({},i,{parent:this}))}var t=e.prototype;return t.toString=function(r){return this.rule?this.rule.toString(r):""},e}(),Eve=/\s*,\s*/g;function u7(e,t){for(var n=e.split(Eve),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}function Cve(e,t){var n=e.options,r=e.style,i=r?r[xd]:null;if(i){for(var o in i)t.addRule(o,i[o],te({},n,{selector:u7(o,e.selector)}));delete r[xd]}}function Tve(e,t){var n=e.options,r=e.style;for(var i in r)if(!(i[0]!=="@"||i.substr(0,xd.length)!==xd)){var o=u7(i.substr(xd.length),e.selector);t.addRule(o,r[i],te({},n,{selector:o})),delete r[i]}}function kve(){function e(n,r,i){if(!n)return null;if(n===xd)return new wve(n,r,i);if(n[0]==="@"&&n.substr(0,EA.length)===EA)return new Sve(n,r,i);var o=i.parent;return o&&(o.type==="global"||o.options.parent&&o.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=n),null}function t(n,r){n.type!=="style"||!r||(Cve(n,r),Tve(n,r))}return{onCreateRule:e,onProcessRule:t}}var D3=/\s*,\s*/g,Pve=/&/g,Ove=/\$([\w-]+)/g;function Ave(){function e(i,o){return function(s,a){var f=i.getRule(a)||o&&o.getRule(a);return f?f.selector:a}}function t(i,o){for(var s=o.split(D3),a=i.split(D3),f="",h=0;h<s.length;h++)for(var g=s[h],v=0;v<a.length;v++){var x=a[v];f&&(f+=", "),f+=x.indexOf("&")!==-1?x.replace(Pve,g):g+" "+x}return f}function n(i,o,s){if(s)return te({},s,{index:s.index+1});var a=i.options.nestingLevel;a=a===void 0?1:a+1;var f=te({},i.options,{nestingLevel:a,index:o.indexOf(i)+1});return delete f.name,f}function r(i,o,s){if(o.type!=="style")return i;var a=o,f=a.options.parent,h,g;for(var v in i){var x=v.indexOf("&")!==-1,k=v[0]==="@";if(!(!x&&!k)){if(h=n(a,f,h),x){var O=t(v,a.selector);g||(g=e(f,s)),O=O.replace(Ove,g);var C=a.key+"-"+v;"replaceRule"in f?f.replaceRule(C,i[v],te({},h,{selector:O})):f.addRule(C,i[v],te({},h,{selector:O}))}else k&&f.addRule(v,{},h).addRule(a.key,i[v],{selector:a.selector});delete i[v]}}return i}return{onProcessStyle:r}}var Mve=/[A-Z]/g,Ive=/^ms-/,Wk={};function $ve(e){return"-"+e.toLowerCase()}function d7(e){if(Wk.hasOwnProperty(e))return Wk[e];var t=e.replace(Mve,$ve);return Wk[e]=Ive.test(t)?"-"+t:t}function Hw(e){var t={};for(var n in e){var r=n.indexOf("--")===0?n:d7(n);t[r]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Hw):t.fallbacks=Hw(e.fallbacks)),t}function Rve(){function e(n){if(Array.isArray(n)){for(var r=0;r<n.length;r++)n[r]=Hw(n[r]);return n}return Hw(n)}function t(n,r,i){if(r.indexOf("--")===0)return n;var o=d7(r);return r===o?n:(i.prop(o,n),null)}return{onProcessStyle:e,onChangeValue:t}}var Qe=dR&&CSS?CSS.px:"px",n1=dR&&CSS?CSS.ms:"ms",Tp=dR&&CSS?CSS.percent:"%",Dve={"animation-delay":n1,"animation-duration":n1,"background-position":Qe,"background-position-x":Qe,"background-position-y":Qe,"background-size":Qe,border:Qe,"border-bottom":Qe,"border-bottom-left-radius":Qe,"border-bottom-right-radius":Qe,"border-bottom-width":Qe,"border-left":Qe,"border-left-width":Qe,"border-radius":Qe,"border-right":Qe,"border-right-width":Qe,"border-top":Qe,"border-top-left-radius":Qe,"border-top-right-radius":Qe,"border-top-width":Qe,"border-width":Qe,"border-block":Qe,"border-block-end":Qe,"border-block-end-width":Qe,"border-block-start":Qe,"border-block-start-width":Qe,"border-block-width":Qe,"border-inline":Qe,"border-inline-end":Qe,"border-inline-end-width":Qe,"border-inline-start":Qe,"border-inline-start-width":Qe,"border-inline-width":Qe,"border-start-start-radius":Qe,"border-start-end-radius":Qe,"border-end-start-radius":Qe,"border-end-end-radius":Qe,margin:Qe,"margin-bottom":Qe,"margin-left":Qe,"margin-right":Qe,"margin-top":Qe,"margin-block":Qe,"margin-block-end":Qe,"margin-block-start":Qe,"margin-inline":Qe,"margin-inline-end":Qe,"margin-inline-start":Qe,padding:Qe,"padding-bottom":Qe,"padding-left":Qe,"padding-right":Qe,"padding-top":Qe,"padding-block":Qe,"padding-block-end":Qe,"padding-block-start":Qe,"padding-inline":Qe,"padding-inline-end":Qe,"padding-inline-start":Qe,"mask-position-x":Qe,"mask-position-y":Qe,"mask-size":Qe,height:Qe,width:Qe,"min-height":Qe,"max-height":Qe,"min-width":Qe,"max-width":Qe,bottom:Qe,left:Qe,top:Qe,right:Qe,inset:Qe,"inset-block":Qe,"inset-block-end":Qe,"inset-block-start":Qe,"inset-inline":Qe,"inset-inline-end":Qe,"inset-inline-start":Qe,"box-shadow":Qe,"text-shadow":Qe,"column-gap":Qe,"column-rule":Qe,"column-rule-width":Qe,"column-width":Qe,"font-size":Qe,"font-size-delta":Qe,"letter-spacing":Qe,"text-decoration-thickness":Qe,"text-indent":Qe,"text-stroke":Qe,"text-stroke-width":Qe,"word-spacing":Qe,motion:Qe,"motion-offset":Qe,outline:Qe,"outline-offset":Qe,"outline-width":Qe,perspective:Qe,"perspective-origin-x":Tp,"perspective-origin-y":Tp,"transform-origin":Tp,"transform-origin-x":Tp,"transform-origin-y":Tp,"transform-origin-z":Tp,"transition-delay":n1,"transition-duration":n1,"vertical-align":Qe,"flex-basis":Qe,"shape-margin":Qe,size:Qe,gap:Qe,grid:Qe,"grid-gap":Qe,"row-gap":Qe,"grid-row-gap":Qe,"grid-column-gap":Qe,"grid-template-rows":Qe,"grid-template-columns":Qe,"grid-auto-rows":Qe,"grid-auto-columns":Qe,"box-shadow-x":Qe,"box-shadow-y":Qe,"box-shadow-blur":Qe,"box-shadow-spread":Qe,"font-line-height":Qe,"text-shadow-x":Qe,"text-shadow-y":Qe,"text-shadow-blur":Qe};function f7(e){var t=/(-[a-z])/g,n=function(s){return s[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var Lve=f7(Dve);function b0(e,t,n){if(t==null)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=b0(e,t[r],n);else if(typeof t=="object")if(e==="fallbacks")for(var i in t)t[i]=b0(i,t[i],n);else for(var o in t)t[o]=b0(e+"-"+o,t[o],n);else if(typeof t=="number"&&isNaN(t)===!1){var s=n[e]||Lve[e];return s&&!(t===0&&s===Qe)?typeof s=="function"?s(t).toString():""+t+s:t.toString()}return t}function Nve(e){e===void 0&&(e={});var t=f7(e);function n(i,o){if(o.type!=="style")return i;for(var s in i)i[s]=b0(s,i[s],t);return i}function r(i,o){return b0(o,i,t)}return{onProcessStyle:n,onChangeValue:r}}function CA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zve(e){if(Array.isArray(e))return CA(e)}function jve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bve(e,t){if(e){if(typeof e=="string")return CA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CA(e,t)}}function Fve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uve(e){return zve(e)||jve(e)||Bve(e)||Fve()}var Jv="",TA="",h7="",p7="",Vve=sx&&"ontouchstart"in document.documentElement;if(sx){var qk={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Wve=document.createElement("p"),Gk=Wve.style,qve="Transform";for(var Hk in qk)if(Hk+qve in Gk){Jv=Hk,TA=qk[Hk];break}Jv==="Webkit"&&"msHyphens"in Gk&&(Jv="ms",TA=qk.ms,p7="edge"),Jv==="Webkit"&&"-apple-trailing-word"in Gk&&(h7="apple")}var En={js:Jv,css:TA,vendor:h7,browser:p7,isTouch:Vve};function Gve(e){return e[1]==="-"||En.js==="ms"?e:"@"+En.css+"keyframes"+e.substr(10)}var Hve={noPrefill:["appearance"],supportedProperty:function(t){return t!=="appearance"?!1:En.js==="ms"?"-webkit-"+t:En.css+t}},Yve={noPrefill:["color-adjust"],supportedProperty:function(t){return t!=="color-adjust"?!1:En.js==="Webkit"?En.css+"print-"+t:t}},Kve=/[-\s]+(.)?/g;function Zve(e,t){return t?t.toUpperCase():""}function fR(e){return e.replace(Kve,Zve)}function Md(e){return fR("-"+e)}var Xve={noPrefill:["mask"],supportedProperty:function(t,n){if(!/^mask/.test(t))return!1;if(En.js==="Webkit"){var r="mask-image";if(fR(r)in n)return t;if(En.js+Md(r)in n)return En.css+t}return t}},Jve={noPrefill:["text-orientation"],supportedProperty:function(t){return t!=="text-orientation"?!1:En.vendor==="apple"&&!En.isTouch?En.css+t:t}},Qve={noPrefill:["transform"],supportedProperty:function(t,n,r){return t!=="transform"?!1:r.transform?t:En.css+t}},e0e={noPrefill:["transition"],supportedProperty:function(t,n,r){return t!=="transition"?!1:r.transition?t:En.css+t}},t0e={noPrefill:["writing-mode"],supportedProperty:function(t){return t!=="writing-mode"?!1:En.js==="Webkit"||En.js==="ms"&&En.browser!=="edge"?En.css+t:t}},n0e={noPrefill:["user-select"],supportedProperty:function(t){return t!=="user-select"?!1:En.js==="Moz"||En.js==="ms"||En.vendor==="apple"?En.css+t:t}},r0e={supportedProperty:function(t,n){if(!/^break-/.test(t))return!1;if(En.js==="Webkit"){var r="WebkitColumn"+Md(t);return r in n?En.css+"column-"+t:!1}if(En.js==="Moz"){var i="page"+Md(t);return i in n?"page-"+t:!1}return!1}},i0e={supportedProperty:function(t,n){if(!/^(border|margin|padding)-inline/.test(t))return!1;if(En.js==="Moz")return t;var r=t.replace("-inline","");return En.js+Md(r)in n?En.css+r:!1}},o0e={supportedProperty:function(t,n){return fR(t)in n?t:!1}},a0e={supportedProperty:function(t,n){var r=Md(t);return t[0]==="-"||t[0]==="-"&&t[1]==="-"?t:En.js+r in n?En.css+t:En.js!=="Webkit"&&"Webkit"+r in n?"-webkit-"+t:!1}},s0e={supportedProperty:function(t){return t.substring(0,11)!=="scroll-snap"?!1:En.js==="ms"?""+En.css+t:t}},l0e={supportedProperty:function(t){return t!=="overscroll-behavior"?!1:En.js==="ms"?En.css+"scroll-chaining":t}},c0e={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},u0e={supportedProperty:function(t,n){var r=c0e[t];return r&&En.js+Md(r)in n?En.css+r:!1}},m7={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},d0e=Object.keys(m7),f0e=function(t){return En.css+t},h0e={supportedProperty:function(t,n,r){var i=r.multiple;if(d0e.indexOf(t)>-1){var o=m7[t];if(!Array.isArray(o))return En.js+Md(o)in n?En.css+o:!1;if(!i)return!1;for(var s=0;s<o.length;s++)if(!(En.js+Md(o[0])in n))return!1;return o.map(f0e)}return!1}},g7=[Hve,Yve,Xve,Jve,Qve,e0e,t0e,n0e,r0e,i0e,o0e,a0e,s0e,l0e,u0e,h0e],L3=g7.filter(function(e){return e.supportedProperty}).map(function(e){return e.supportedProperty}),p0e=g7.filter(function(e){return e.noPrefill}).reduce(function(e,t){return e.push.apply(e,Uve(t.noPrefill)),e},[]),Qv,Rf={};if(sx){Qv=document.createElement("p");var Yk=window.getComputedStyle(document.documentElement,"");for(var Kk in Yk)isNaN(Kk)||(Rf[Yk[Kk]]=Yk[Kk]);p0e.forEach(function(e){return delete Rf[e]})}function kA(e,t){if(t===void 0&&(t={}),!Qv)return e;if(Rf[e]!=null)return Rf[e];(e==="transition"||e==="transform")&&(t[e]=e in Qv.style);for(var n=0;n<L3.length&&(Rf[e]=L3[n](e,Qv.style,t),!Rf[e]);n++);try{Qv.style[e]=""}catch{return!1}return Rf[e]}var kp={},m0e={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},g0e=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Hu;function y0e(e,t,n){if(t==="var")return"var";if(t==="all")return"all";if(n==="all")return", all";var r=t?kA(t):", "+kA(n);return r||t||n}sx&&(Hu=document.createElement("p"));function N3(e,t){var n=t;if(!Hu||e==="content")return t;if(typeof n!="string"||!isNaN(parseInt(n,10)))return n;var r=e+n;if(kp[r]!=null)return kp[r];try{Hu.style[e]=n}catch{return kp[r]=!1,!1}if(m0e[e])n=n.replace(g0e,y0e);else if(Hu.style[e]===""&&(n=En.css+n,n==="-ms-flex"&&(Hu.style[e]="-ms-flexbox"),Hu.style[e]=n,Hu.style[e]===""))return kp[r]=!1,!1;return Hu.style[e]="",kp[r]=n,kp[r]}function v0e(){function e(i){if(i.type==="keyframes"){var o=i;o.at=Gve(o.at)}}function t(i){for(var o in i){var s=i[o];if(o==="fallbacks"&&Array.isArray(s)){i[o]=s.map(t);continue}var a=!1,f=kA(o);f&&f!==o&&(a=!0);var h=!1,g=N3(f,Jf(s));g&&g!==s&&(h=!0),(a||h)&&(a&&delete i[o],i[f||o]=g||s)}return i}function n(i,o){return o.type!=="style"?i:t(i)}function r(i,o){return N3(o,Jf(i))||i}return{onProcessRule:e,onProcessStyle:n,onChangeValue:r}}function b0e(){var e=function(n,r){return n.length===r.length?n>r?1:-1:n.length-r.length};return{onProcessStyle:function(n,r){if(r.type!=="style")return n;for(var i={},o=Object.keys(n).sort(e),s=0;s<o.length;s++)i[o[s]]=n[o[s]];return i}}}function x0e(){return{plugins:[_ve(),kve(),Ave(),Rve(),Nve(),typeof window>"u"?null:v0e(),b0e()]}}const _0e=o7(x0e()),w0e=bve(),S0e=new Map,E0e={disableGeneration:!1,generateClassName:w0e,jss:_0e,sheetsCache:null,sheetsManager:S0e,sheetsRegistry:null},C0e=V.createContext(E0e);let z3=-1e9;function T0e(){return z3+=1,z3}const k0e=["variant"];function j3(e){return e.length===0}function P0e(e){const{variant:t}=e,n=yt(e,k0e);let r=t||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=j3(r)?e[i]:st(e[i]):r+=`${j3(r)?i:st(i)}${st(e[i].toString())}`}),r}const O0e={},A0e=O0e;function M0e(e){const t=typeof e=="function";return{create:(n,r)=>{let i;try{i=t?e(n):e}catch(f){throw f}if(!r||!n.components||!n.components[r]||!n.components[r].styleOverrides&&!n.components[r].variants)return i;const o=n.components[r].styleOverrides||{},s=n.components[r].variants||[],a=te({},i);return Object.keys(o).forEach(f=>{a[f]=eo(a[f]||{},o[f])}),s.forEach(f=>{const h=P0e(f.props);a[h]=eo(a[h]||{},f.style)}),a},options:{}}}const I0e=["name","classNamePrefix","Component","defaultTheme"];function $0e({state:e,stylesOptions:t},n,r){if(t.disableGeneration)return n||{};e.cacheClasses||(e.cacheClasses={value:null,lastProp:null,lastJSS:{}});let i=!1;return e.classes!==e.cacheClasses.lastJSS&&(e.cacheClasses.lastJSS=e.classes,i=!0),n!==e.cacheClasses.lastProp&&(e.cacheClasses.lastProp=n,i=!0),i&&(e.cacheClasses.value=s7({baseClasses:e.cacheClasses.lastJSS,newClasses:n,Component:r})),e.cacheClasses.value}function R0e({state:e,theme:t,stylesOptions:n,stylesCreator:r,name:i},o){if(n.disableGeneration)return;let s=nm.get(n.sheetsManager,r,t);s||(s={refs:0,staticSheet:null,dynamicStyles:null},nm.set(n.sheetsManager,r,t,s));const a=te({},r.options,n,{theme:t,flip:typeof n.flip=="boolean"?n.flip:t.direction==="rtl"});a.generateId=a.serverGenerateClassName||a.generateClassName;const f=n.sheetsRegistry;if(s.refs===0){let h;n.sheetsCache&&(h=nm.get(n.sheetsCache,r,t));const g=r.create(t,i);h||(h=n.jss.createStyleSheet(g,te({link:!1},a)),h.attach(),n.sheetsCache&&nm.set(n.sheetsCache,r,t,h)),f&&f.add(h),s.staticSheet=h,s.dynamicStyles=a7(g)}if(s.dynamicStyles){const h=n.jss.createStyleSheet(s.dynamicStyles,te({link:!0},a));h.update(o),h.attach(),e.dynamicSheet=h,e.classes=s7({baseClasses:s.staticSheet.classes,newClasses:h.classes}),f&&f.add(h)}else e.classes=s.staticSheet.classes;s.refs+=1}function D0e({state:e},t){e.dynamicSheet&&e.dynamicSheet.update(t)}function L0e({state:e,theme:t,stylesOptions:n,stylesCreator:r}){if(n.disableGeneration)return;const i=nm.get(n.sheetsManager,r,t);i.refs-=1;const o=n.sheetsRegistry;i.refs===0&&(nm.delete(n.sheetsManager,r,t),n.jss.removeStyleSheet(i.staticSheet),o&&o.remove(i.staticSheet)),e.dynamicSheet&&(n.jss.removeStyleSheet(e.dynamicSheet),o&&o.remove(e.dynamicSheet))}function N0e(e,t){const n=V.useRef([]);let r;const i=V.useMemo(()=>({}),t);n.current!==i&&(n.current=i,r=e()),V.useEffect(()=>()=>{r&&r()},[i])}function Ti(e,t={}){const{name:n,classNamePrefix:r,Component:i,defaultTheme:o=A0e}=t,s=yt(t,I0e),a=M0e(e),f=n||r||"makeStyles";return a.options={index:T0e(),name:n,meta:f,classNamePrefix:f},(g={})=>{const v=l7()||o,x=te({},V.useContext(C0e),s),k=V.useRef(),O=V.useRef();return N0e(()=>{const M={name:n,state:{},stylesCreator:a,stylesOptions:x,theme:v};return R0e(M,g),O.current=!1,k.current=M,()=>{L0e(M)}},[v,a]),V.useEffect(()=>{O.current&&D0e(k.current,g),O.current=!0}),$0e(k.current,g.classes,i)}}const z0e="/assets/alarm-5d2ecd46.mp3";function y7(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=y7(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ch(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=y7(e))&&(r&&(r+=" "),r+=t);return r}let j0e={data:""},B0e=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||j0e,F0e=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,U0e=/\/\*[^]*?\*\/|  +/g,B3=/\n+/g,Df=(e,t)=>{let n="",r="",i="";for(let o in e){let s=e[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?Df(s,o):o+"{"+Df(s,o[1]=="k"?"":t)+"}":typeof s=="object"?r+=Df(s,t?t.replace(/([^,])+/g,a=>o.replace(/(^:.*)|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,a):a?a+" "+f:f)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Df.p?Df.p(o,s):o+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Tc={},v7=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+v7(e[n]);return t}return e},V0e=(e,t,n,r,i)=>{let o=v7(e),s=Tc[o]||(Tc[o]=(f=>{let h=0,g=11;for(;h<f.length;)g=101*g+f.charCodeAt(h++)>>>0;return"go"+g})(o));if(!Tc[s]){let f=o!==e?e:(h=>{let g,v,x=[{}];for(;g=F0e.exec(h.replace(U0e,""));)g[4]?x.shift():g[3]?(v=g[3].replace(B3," ").trim(),x.unshift(x[0][v]=x[0][v]||{})):x[0][g[1]]=g[2].replace(B3," ").trim();return x[0]})(e);Tc[s]=Df(i?{["@keyframes "+s]:f}:f,n?"":"."+s)}let a=n&&Tc.g?Tc.g:null;return n&&(Tc.g=Tc[s]),((f,h,g,v)=>{v?h.data=h.data.replace(v,f):h.data.indexOf(f)===-1&&(h.data=g?f+h.data:h.data+f)})(Tc[s],t,r,a),s},W0e=(e,t,n)=>e.reduce((r,i,o)=>{let s=t[o];if(s&&s.call){let a=s(n),f=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=f?"."+f:a&&typeof a=="object"?a.props?"":Df(a,""):a===!1?"":a}return r+i+(s??"")},"");function hR(e){let t=this||{},n=e.call?e(t.p):e;return V0e(n.unshift?n.raw?W0e(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,B0e(t.target),t.g,t.o,t.k)}hR.bind({g:1});hR.bind({k:1});function F3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b7(e,t,n){return t&&F3(e.prototype,t),n&&F3(e,n),e}function _r(){return _r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_r.apply(this,arguments)}function x7(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function lx(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function U3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var V3=function(){return""},q0e=Pe.createContext({enqueueSnackbar:V3,closeSnackbar:V3}),Of={downXs:"@media (max-width:599.95px)",upSm:"@media (min-width:600px)"},W3=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},pR=function(t){return""+W3(t.vertical)+W3(t.horizontal)},r1=function(t){return!!t||t===0},i1="unmounted",Pp="exited",Op="entering",Cv="entered",q3="exiting",mR=function(e){x7(t,e);function t(r){var i;i=e.call(this,r)||this;var o=r.appear,s;return i.appearStatus=null,r.in?o?(s=Pp,i.appearStatus=Op):s=Cv:r.unmountOnExit||r.mountOnEnter?s=i1:s=Pp,i.state={status:s},i.nextCallback=null,i}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===i1?{status:Pp}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Op&&s!==Cv&&(o=Op):(s===Op||s===Cv)&&(o=q3)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o=i,s=i;return i!=null&&typeof i!="number"&&typeof i!="string"&&(s=i.exit,o=i.enter),{exit:s,enter:o}},n.updateStatus=function(i,o){i===void 0&&(i=!1),o!==null?(this.cancelNextCallback(),o===Op?this.performEnter(i):this.performExit()):this.props.unmountOnExit&&this.state.status===Pp&&this.setState({status:i1})},n.performEnter=function(i){var o=this,s=this.props.enter,a=i,f=this.getTimeouts();if(!i&&!s){this.safeSetState({status:Cv},function(){o.props.onEntered&&o.props.onEntered(o.node,a)});return}this.props.onEnter&&this.props.onEnter(this.node,a),this.safeSetState({status:Op},function(){o.props.onEntering&&o.props.onEntering(o.node,a),o.onTransitionEnd(f.enter,function(){o.safeSetState({status:Cv},function(){o.props.onEntered&&o.props.onEntered(o.node,a)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts();if(!o){this.safeSetState({status:Pp},function(){i.props.onExited&&i.props.onExited(i.node)});return}this.props.onExit&&this.props.onExit(this.node),this.safeSetState({status:q3},function(){i.props.onExiting&&i.props.onExiting(i.node),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Pp},function(){i.props.onExited&&i.props.onExited(i.node)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&this.nextCallback.cancel&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(){s&&(s=!1,o.nextCallback=null,i())},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=i==null&&!this.props.addEndListener;if(!this.node||s){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(this.node,this.nextCallback),i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===i1)return null;var o=this.props,s=o.children,a=lx(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return s(i,a)},b7(t,[{key:"node",get:function(){var i,o=(i=this.props.nodeRef)===null||i===void 0?void 0:i.current;if(!o)throw new Error("notistack - Custom snackbar is not refForwarding");return o}}]),t}(Pe.Component);function Ap(){}mR.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ap,onEntering:Ap,onEntered:Ap,onExit:Ap,onExiting:Ap,onExited:Ap};function G3(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function PA(e,t){return V.useMemo(function(){return e==null&&t==null?null:function(n){G3(e,n),G3(t,n)}},[e,t])}function Yw(e){var t=e.timeout,n=e.style,r=n===void 0?{}:n,i=e.mode;return{duration:typeof t=="object"?t[i]||0:t,easing:r.transitionTimingFunction,delay:r.transitionDelay}}var OA={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},_7=function(t){t.scrollTop=t.scrollTop},H3=function(t){return Math.round(t)+"ms"};function rm(e,t){e===void 0&&(e=["all"]);var n=t||{},r=n.duration,i=r===void 0?300:r,o=n.easing,s=o===void 0?OA.easeInOut:o,a=n.delay,f=a===void 0?0:a,h=Array.isArray(e)?e:[e];return h.map(function(g){var v=typeof i=="string"?i:H3(i),x=typeof f=="string"?f:H3(f);return g+" "+v+" "+s+" "+x}).join(",")}function G0e(e){return e&&e.ownerDocument||document}function w7(e){var t=G0e(e);return t.defaultView||window}function H0e(e,t){t===void 0&&(t=166);var n;function r(){for(var i=this,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var f=function(){e.apply(i,s)};clearTimeout(n),n=setTimeout(f,t)}return r.clear=function(){clearTimeout(n)},r}function Y0e(e,t){var n=t.getBoundingClientRect(),r=w7(t),i;if(t.fakeTransform)i=t.fakeTransform;else{var o=r.getComputedStyle(t);i=o.getPropertyValue("-webkit-transform")||o.getPropertyValue("transform")}var s=0,a=0;if(i&&i!=="none"&&typeof i=="string"){var f=i.split("(")[1].split(")")[0].split(",");s=parseInt(f[4],10),a=parseInt(f[5],10)}switch(e){case"left":return"translateX("+(r.innerWidth+s-n.left)+"px)";case"right":return"translateX(-"+(n.left+n.width-s)+"px)";case"up":return"translateY("+(r.innerHeight+a-n.top)+"px)";default:return"translateY(-"+(n.top+n.height-a)+"px)"}}function o1(e,t){if(t){var n=Y0e(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}}var S7=V.forwardRef(function(e,t){var n=e.children,r=e.direction,i=r===void 0?"down":r,o=e.in,s=e.style,a=e.timeout,f=a===void 0?0:a,h=e.onEnter,g=e.onEntered,v=e.onExit,x=e.onExited,k=lx(e,["children","direction","in","style","timeout","onEnter","onEntered","onExit","onExited"]),O=V.useRef(null),C=PA(n.ref,O),M=PA(C,t),I=function(F,G){o1(i,F),_7(F),h&&h(F,G)},A=function(F){var G=(s==null?void 0:s.transitionTimingFunction)||OA.easeOut,J=Yw({timeout:f,mode:"enter",style:_r({},s,{transitionTimingFunction:G})});F.style.webkitTransition=rm("-webkit-transform",J),F.style.transition=rm("transform",J),F.style.webkitTransform="none",F.style.transform="none"},P=function(F){var G=(s==null?void 0:s.transitionTimingFunction)||OA.sharp,J=Yw({timeout:f,mode:"exit",style:_r({},s,{transitionTimingFunction:G})});F.style.webkitTransition=rm("-webkit-transform",J),F.style.transition=rm("transform",J),o1(i,F),v&&v(F)},$=function(F){F.style.webkitTransition="",F.style.transition="",x&&x(F)},z=V.useCallback(function(){O.current&&o1(i,O.current)},[i]);return V.useEffect(function(){if(!(o||i==="down"||i==="right")){var N=H0e(function(){O.current&&o1(i,O.current)}),F=w7(O.current);return F.addEventListener("resize",N),function(){N.clear(),F.removeEventListener("resize",N)}}},[i,o]),V.useEffect(function(){o||z()},[o,z]),V.createElement(mR,Object.assign({appear:!0,nodeRef:O,onEnter:I,onEntered:g,onEntering:A,onExit:P,onExited:$,in:o,timeout:f},k),function(N,F){return V.cloneElement(n,_r({ref:M,style:_r({visibility:N==="exited"&&!o?"hidden":void 0},s,{},n.props.style)},F))})});S7.displayName="Slide";var gE=function(t){return Pe.createElement("svg",Object.assign({viewBox:"0 0 24 24",focusable:"false",style:{fontSize:20,marginInlineEnd:8,userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0}},t))},K0e=function(){return Pe.createElement(gE,null,Pe.createElement("path",{d:`M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41
        10.59L10 14.17L17.59 6.58L19 8L10 17Z`}))},Z0e=function(){return Pe.createElement(gE,null,Pe.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},X0e=function(){return Pe.createElement(gE,null,Pe.createElement("path",{d:`M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,
        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,
        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z`}))},J0e=function(){return Pe.createElement(gE,null,Pe.createElement("path",{d:`M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,
        0 22,12A10,10 0 0,0 12,2Z`}))},Q0e={default:void 0,success:Pe.createElement(K0e,null),warning:Pe.createElement(Z0e,null),error:Pe.createElement(X0e,null),info:Pe.createElement(J0e,null)},Qf={maxSnack:3,persist:!1,hideIconVariant:!1,disableWindowBlurListener:!1,variant:"default",autoHideDuration:5e3,iconVariant:Q0e,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:S7,transitionDuration:{enter:225,exit:195}},ebe=function(t,n){var r=function(o){return typeof o=="number"||o===null};return r(t)?t:r(n)?n:Qf.autoHideDuration},tbe=function(t,n){var r=function(o,s){return s.some(function(a){return typeof o===a})};return r(t,["string","number"])?t:r(t,["object"])?_r({},Qf.transitionDuration,{},r(n,["object"])&&n,{},t):r(n,["string","number"])?n:r(n,["object"])?_r({},Qf.transitionDuration,{},n):Qf.transitionDuration},nbe=function(t,n){return function(r,i){return i===void 0&&(i=!1),i?_r({},Qf[r],{},n[r],{},t[r]):r==="autoHideDuration"?ebe(t.autoHideDuration,n.autoHideDuration):r==="transitionDuration"?tbe(t.transitionDuration,n.transitionDuration):t[r]||n[r]||Qf[r]}};function cx(e){return Object.entries(e).reduce(function(t,n){var r,i=n[0],o=n[1];return _r({},t,(r={},r[i]=hR(o),r))},{})}var Jm={SnackbarContainer:"notistack-SnackbarContainer",Snackbar:"notistack-Snackbar",CollapseWrapper:"notistack-CollapseWrapper",MuiContent:"notistack-MuiContent",MuiContentVariant:function(t){return"notistack-MuiContent-"+t}},Y3=cx({root:{height:0},entered:{height:"auto"}}),Zk="0px",Xk=175,E7=V.forwardRef(function(e,t){var n=e.children,r=e.in,i=e.onExited,o=V.useRef(null),s=V.useRef(null),a=PA(t,s),f=function(){return o.current?o.current.clientHeight:0},h=function(C){C.style.height=Zk},g=function(C){var M=f(),I=Yw({timeout:Xk,mode:"enter"}),A=I.duration,P=I.easing;C.style.transitionDuration=typeof A=="string"?A:A+"ms",C.style.height=M+"px",C.style.transitionTimingFunction=P||""},v=function(C){C.style.height="auto"},x=function(C){C.style.height=f()+"px"},k=function(C){_7(C);var M=Yw({timeout:Xk,mode:"exit"}),I=M.duration,A=M.easing;C.style.transitionDuration=typeof I=="string"?I:I+"ms",C.style.height=Zk,C.style.transitionTimingFunction=A||""};return V.createElement(mR,{in:r,unmountOnExit:!0,onEnter:h,onEntered:v,onEntering:g,onExit:x,onExited:i,onExiting:k,nodeRef:s,timeout:Xk},function(O,C){return V.createElement("div",Object.assign({ref:a,className:Ch(Y3.root,O==="entered"&&Y3.entered),style:_r({pointerEvents:"all",overflow:"hidden",minHeight:Zk,transition:rm("height")},O==="entered"&&{overflow:"visible"},{},O==="exited"&&!r&&{visibility:"hidden"})},C),V.createElement("div",{ref:o,className:Jm.CollapseWrapper,style:{display:"flex",width:"100%"}},n))})});E7.displayName="Collapse";var K3={right:"left",left:"right",bottom:"up",top:"down"},rbe=function(t){return t.horizontal!=="center"?K3[t.horizontal]:K3[t.vertical]},ibe=function(t){return"anchorOrigin"+pR(t)},obe=function(t){t===void 0&&(t={});var n={containerRoot:!0,containerAnchorOriginTopCenter:!0,containerAnchorOriginBottomCenter:!0,containerAnchorOriginTopRight:!0,containerAnchorOriginBottomRight:!0,containerAnchorOriginTopLeft:!0,containerAnchorOriginBottomLeft:!0};return Object.keys(t).filter(function(r){return!n[r]}).reduce(function(r,i){var o;return _r({},r,(o={},o[i]=t[i],o))},{})},abe=function(){};function x0(e,t){return e.reduce(function(n,r){return r==null?n:function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var f=[].concat(s);t&&f.indexOf(t)===-1&&f.push(t),n.apply(this,f),r.apply(this,f)}},abe)}var sbe=typeof window<"u"?V.useLayoutEffect:V.useEffect;function Z3(e){var t=V.useRef(e);return sbe(function(){t.current=e}),V.useCallback(function(){return t.current.apply(void 0,arguments)},[])}var C7=V.forwardRef(function(e,t){var n=e.children,r=e.className,i=e.autoHideDuration,o=e.disableWindowBlurListener,s=o===void 0?!1:o,a=e.onClose,f=e.id,h=e.open,g=e.SnackbarProps,v=g===void 0?{}:g,x=V.useRef(),k=Z3(function(){a&&a.apply(void 0,arguments)}),O=Z3(function(P){!a||P==null||(x.current&&clearTimeout(x.current),x.current=setTimeout(function(){k(null,"timeout",f)},P))});V.useEffect(function(){return h&&O(i),function(){x.current&&clearTimeout(x.current)}},[h,i,O]);var C=function(){x.current&&clearTimeout(x.current)},M=V.useCallback(function(){i!=null&&O(i*.5)},[i,O]),I=function($){v.onMouseEnter&&v.onMouseEnter($),C()},A=function($){v.onMouseLeave&&v.onMouseLeave($),M()};return V.useEffect(function(){if(!s&&h)return window.addEventListener("focus",M),window.addEventListener("blur",C),function(){window.removeEventListener("focus",M),window.removeEventListener("blur",C)}},[s,M,h]),V.createElement("div",Object.assign({ref:t},v,{className:Ch(Jm.Snackbar,r),onMouseEnter:I,onMouseLeave:A}),n)});C7.displayName="Snackbar";var Jk,lbe=cx({root:(Jk={display:"flex",flexWrap:"wrap",flexGrow:1},Jk[Of.upSm]={flexGrow:"initial",minWidth:"288px"},Jk)}),T7=V.forwardRef(function(e,t){var n=e.className,r=lx(e,["className"]);return Pe.createElement("div",Object.assign({ref:t,className:Ch(lbe.root,n)},r))});T7.displayName="SnackbarContent";var Tv=cx({root:{backgroundColor:"#313131",fontSize:"0.875rem",lineHeight:1.43,letterSpacing:"0.01071em",color:"#fff",alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"},lessPadding:{paddingLeft:8*2.5+"px"},default:{backgroundColor:"#313131"},success:{backgroundColor:"#43a047"},error:{backgroundColor:"#d32f2f"},warning:{backgroundColor:"#ff9800"},info:{backgroundColor:"#2196f3"},message:{display:"flex",alignItems:"center",padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:"16px",marginRight:"-8px"}}),X3="notistack-snackbar",k7=V.forwardRef(function(e,t){var n=e.id,r=e.message,i=e.action,o=e.iconVariant,s=e.variant,a=e.hideIconVariant,f=e.style,h=e.className,g=o[s],v=i;return typeof v=="function"&&(v=v(n)),Pe.createElement(T7,{ref:t,role:"alert","aria-describedby":X3,style:f,className:Ch(Jm.MuiContent,Jm.MuiContentVariant(s),Tv.root,Tv[s],h,!a&&g&&Tv.lessPadding)},Pe.createElement("div",{id:X3,className:Tv.message},a?null:g,r),v&&Pe.createElement("div",{className:Tv.action},v))});k7.displayName="MaterialDesignContent";var cbe=V.memo(k7),ube=cx({wrappedRoot:{width:"100%",position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0,minWidth:"288px"}}),dbe=function(t){var n=V.useRef(),r=V.useState(!0),i=r[0],o=r[1],s=x0([t.snack.onClose,t.onClose]),a=function(){t.snack.requestClose&&s(null,"instructed",t.snack.id)},f=V.useCallback(function(){n.current=setTimeout(function(){o(function(J){return!J})},125)},[]);V.useEffect(function(){return function(){n.current&&clearTimeout(n.current)}},[]);var h=t.snack,g=t.classes,v=t.Component,x=v===void 0?cbe:v,k=V.useMemo(function(){return obe(g)},[g]),O=h.open,C=h.SnackbarProps,M=h.TransitionComponent,I=h.TransitionProps,A=h.transitionDuration,P=h.disableWindowBlurListener,$=h.content,z=lx(h,["open","SnackbarProps","TransitionComponent","TransitionProps","transitionDuration","disableWindowBlurListener","content","entered","requestClose","onEnter","onEntered","onExit","onExited"]),N=_r({direction:rbe(z.anchorOrigin),timeout:A},I),F=$;typeof F=="function"&&(F=F(z.id,z.message));var G=["onEnter","onEntered","onExit","onExited"].reduce(function(J,ee){var ae;return _r({},J,(ae={},ae[ee]=x0([t.snack[ee],t[ee]],z.id),ae))},{});return Pe.createElement(E7,{in:i,onExited:G.onExited},Pe.createElement(C7,{open:O,id:z.id,disableWindowBlurListener:P,autoHideDuration:z.autoHideDuration,className:Ch(ube.wrappedRoot,k.root,k[ibe(z.anchorOrigin)]),SnackbarProps:C,onClose:s},Pe.createElement(M,Object.assign({},N,{appear:!0,in:O,onExit:G.onExit,onExited:f,onEnter:G.onEnter,onEntered:x0([G.onEntered,a],z.id)}),F||Pe.createElement(x,Object.assign({},z)))))},kv,Qk,a1,s1,eP,kc={view:{default:20,dense:4},snackbar:{default:6,dense:2}},J3="."+Jm.CollapseWrapper,tP=16,l1=cx({root:(kv={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:1400,height:"auto",width:"auto",transition:rm(["top","right","bottom","left","max-width"],{duration:300,easing:"ease"}),pointerEvents:"none"},kv[J3]={padding:kc.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},kv.maxWidth="calc(100% - "+kc.view.default*2+"px)",kv[Of.downXs]={width:"100%",maxWidth:"calc(100% - "+tP*2+"px)"},kv),rootDense:(Qk={},Qk[J3]={padding:kc.snackbar.dense+"px 0px"},Qk),top:{top:kc.view.default-kc.snackbar.default+"px",flexDirection:"column"},bottom:{bottom:kc.view.default-kc.snackbar.default+"px",flexDirection:"column-reverse"},left:(a1={left:kc.view.default+"px"},a1[Of.upSm]={alignItems:"flex-start"},a1[Of.downXs]={left:tP+"px"},a1),right:(s1={right:kc.view.default+"px"},s1[Of.upSm]={alignItems:"flex-end"},s1[Of.downXs]={right:tP+"px"},s1),center:(eP={left:"50%",transform:"translateX(-50%)"},eP[Of.upSm]={alignItems:"center"},eP)}),fbe=function(t){var n=t.classes,r=n===void 0?{}:n,i=t.anchorOrigin,o=t.dense,s=t.children,a=Ch(Jm.SnackbarContainer,l1[i.vertical],l1[i.horizontal],l1.root,r.containerRoot,r["containerAnchorOrigin"+pR(i)],o&&l1.rootDense);return Pe.createElement("div",{className:a},s)},hbe=V.memo(fbe),Q3=function(t){var n=typeof t=="string"||V.isValidElement(t);return!n},P7,pbe=function(e){x7(t,e);function t(r){var i;return i=e.call(this,r)||this,i.enqueueSnackbar=function(o,s){if(s===void 0&&(s={}),o==null)throw new Error("enqueueSnackbar called with invalid argument");var a=Q3(o)?o:s,f=Q3(o)?o.message:o,h=a.key,g=a.preventDuplicate,v=lx(a,["key","preventDuplicate"]),x=r1(h),k=x?h:new Date().getTime()+Math.random(),O=nbe(v,i.props),C=_r({id:k},v,{message:f,open:!0,entered:!1,requestClose:!1,persist:O("persist"),action:O("action"),content:O("content"),variant:O("variant"),anchorOrigin:O("anchorOrigin"),disableWindowBlurListener:O("disableWindowBlurListener"),autoHideDuration:O("autoHideDuration"),hideIconVariant:O("hideIconVariant"),TransitionComponent:O("TransitionComponent"),transitionDuration:O("transitionDuration"),TransitionProps:O("TransitionProps",!0),iconVariant:O("iconVariant",!0),style:O("style",!0),SnackbarProps:O("SnackbarProps",!0),className:Ch(i.props.className,v.className)});return C.persist&&(C.autoHideDuration=void 0),i.setState(function(M){if(g===void 0&&i.props.preventDuplicate||g){var I=function(z){return x?z.id===k:z.message===f},A=M.queue.findIndex(I)>-1,P=M.snacks.findIndex(I)>-1;if(A||P)return M}return i.handleDisplaySnack(_r({},M,{queue:[].concat(M.queue,[C])}))}),k},i.handleDisplaySnack=function(o){var s=o.snacks;return s.length>=i.maxSnack?i.handleDismissOldest(o):i.processQueue(o)},i.processQueue=function(o){var s=o.queue,a=o.snacks;return s.length>0?_r({},o,{snacks:[].concat(a,[s[0]]),queue:s.slice(1,s.length)}):o},i.handleDismissOldest=function(o){if(o.snacks.some(function(g){return!g.open||g.requestClose}))return o;var s=!1,a=!1,f=o.snacks.reduce(function(g,v){return g+(v.open&&v.persist?1:0)},0);f===i.maxSnack&&(a=!0);var h=o.snacks.map(function(g){return!s&&(!g.persist||a)?(s=!0,g.entered?(g.onClose&&g.onClose(null,"maxsnack",g.id),i.props.onClose&&i.props.onClose(null,"maxsnack",g.id),_r({},g,{open:!1})):_r({},g,{requestClose:!0})):_r({},g)});return _r({},o,{snacks:h})},i.handleEnteredSnack=function(o,s,a){if(!r1(a))throw new Error("handleEnteredSnack Cannot be called with undefined key");i.setState(function(f){var h=f.snacks;return{snacks:h.map(function(g){return g.id===a?_r({},g,{entered:!0}):_r({},g)})}})},i.handleCloseSnack=function(o,s,a){i.props.onClose&&i.props.onClose(o,s,a);var f=a===void 0;i.setState(function(h){var g=h.snacks,v=h.queue;return{snacks:g.map(function(x){return!f&&x.id!==a?_r({},x):x.entered?_r({},x,{open:!1}):_r({},x,{requestClose:!0})}),queue:v.filter(function(x){return x.id!==a})}})},i.closeSnackbar=function(o){var s=i.state.snacks.find(function(a){return a.id===o});r1(o)&&s&&s.onClose&&s.onClose(null,"instructed",o),i.handleCloseSnack(null,"instructed",o)},i.handleExitedSnack=function(o,s){if(!r1(s))throw new Error("handleExitedSnack Cannot be called with undefined key");i.setState(function(a){var f=i.processQueue(_r({},a,{snacks:a.snacks.filter(function(h){return h.id!==s})}));return f.queue.length===0?f:i.handleDismissOldest(f)})},P7=i.enqueueSnackbar,i.closeSnackbar,i.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:i.enqueueSnackbar.bind(U3(i)),closeSnackbar:i.closeSnackbar.bind(U3(i))}},i}var n=t.prototype;return n.render=function(){var i=this,o=this.state.contextValue,s=this.props,a=s.domRoot,f=s.children,h=s.dense,g=h===void 0?!1:h,v=s.Components,x=v===void 0?{}:v,k=s.classes,O=this.state.snacks.reduce(function(M,I){var A,P=pR(I.anchorOrigin),$=M[P]||[];return _r({},M,(A={},A[P]=[].concat($,[I]),A))},{}),C=Object.keys(O).map(function(M){var I=O[M],A=I[0];return Pe.createElement(hbe,{key:M,dense:g,anchorOrigin:A.anchorOrigin,classes:k},I.map(function(P){return Pe.createElement(dbe,{key:P.id,snack:P,classes:k,Component:x[P.variant],onClose:i.handleCloseSnack,onEnter:i.props.onEnter,onExit:i.props.onExit,onExited:x0([i.handleExitedSnack,i.props.onExited],P.id),onEntered:x0([i.handleEnteredSnack,i.props.onEntered],P.id)})}))});return Pe.createElement(q0e.Provider,{value:o},f,a?lc.createPortal(C,a):C)},b7(t,[{key:"maxSnack",get:function(){return this.props.maxSnack||Qf.maxSnack}}]),t}(V.Component);const eB=4e3,mbe=()=>{const e=wl();qn(h=>h.devices.items);const t=V.useRef(),[n,r]=V.useState(!0),[i,o]=V.useState([]),[s,a]=V.useState([]),f=()=>{const h=window.location.protocol==="https:"?"wss:":"ws:",g=new WebSocket(`${h}//${window.location.host}/api/socket`);console.log(`${h}//${window.location.host}/api/socket`),t.current=g,console.log("funcion web socket"),g.onopen=()=>{e(em.updateSocket(!0)),console.log("funcion web socket open")},g.onclose=async v=>{if(console.log("funcion web socket close"),e(em.updateSocket(!1)),v.code!==eB){try{const x=await fetch("/api/devices");x.ok&&e(ul.update(await x.json()));const k=await fetch("/api/positions");k.ok&&e(kk.updatePositions(await k.json())),x.status===401||k.status}catch{}setTimeout(()=>f(),6e4)}},g.onmessage=v=>{const x=JSON.parse(v.data);x.devices&&(x.devices.length>0?e(ul.update(x.devices)):e(ul.clear())),x.positions&&e(kk.updatePositions(x.positions)),x.camera&&e(kk.updateCamera(x.camera)),x.server&&(x.server.rosState==="connect"?e(em.updateServer(!0)):e(em.updateServer(!1))),x.mission&&(console.log("data mission"),console.log(x.mission),e(Hl.updateMission(x.mission))),x.events&&(console.log("add data events -------"),e(Cre.add(x.events)),o(x.events),console.log(x.events))}};return lR(async()=>{if(n){r(!1);const h=await fetch("/api/devices",{method:"GET"});if(h.ok)e(ul.refresh(await h.json()));else throw Error(await h.text());return console.log("primera conexion --s"),f(),()=>{const g=t.current;g&&g.close(eB)}}else return null},[]),V.useEffect(()=>{console.log("set notifications"),console.log(i);let h=[];i.map(g=>{let v=!0;s.map(x=>{x.id==g.id&&(v=!1)}),v&&h.push({id:g.id,type:g.type,message:g.attributes.message,show:!0})}),console.log("aux console log"),console.log(h),h.length>0&&a(h),h.forEach(g=>{g.type==="error"&&new Audio(z0e).play()})},[i]),V.useEffect(()=>{console.log("notifications"),s.map(h=>{P7(h.message,{variant:h.type,autoHideDuration:3e3,persist:!1,onClose:()=>o(i.filter(g=>g.id!==h.id))})})},[s]),B.jsx(B.Fragment,{children:B.jsx(pbe,{preventDuplicate:!0,maxSnack:6,autoHideDuration:5e3,anchorOrigin:{vertical:"bottom",horizontal:"right"}})})},gbe=kne()(mbe),ybe=Ti(()=>({page:{flexGrow:1,overflow:"auto"},menu:{zIndex:4}})),vbe=()=>{const e=ybe();return du(),B.jsxs(B.Fragment,{children:[B.jsx(gbe,{}),B.jsx("div",{className:e.page,children:B.jsx(gte,{})})]})},bbe=()=>{const{search:e}=v2();return V.useMemo(()=>new URLSearchParams(e),[e])};var O7={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Vv,function(){var n,r,i;function o(a,f){if(!n)n=f;else if(!r)r=f;else{var h="var sharedChunk = {}; ("+n+")(sharedChunk); ("+r+")(sharedChunk);",g={};n(g),i=f(g),typeof window<"u"&&(i.workerUrl=window.URL.createObjectURL(new Blob([h],{type:"text/javascript"})))}}o(["exports"],function(a){function f(u,l,d,m){return new(d||(d=Promise))(function(b,S){function T(W){try{j(m.next(W))}catch(H){S(H)}}function R(W){try{j(m.throw(W))}catch(H){S(H)}}function j(W){var H;W.done?b(W.value):(H=W.value,H instanceof d?H:new d(function(Z){Z(H)})).then(T,R)}j((m=m.apply(u,l||[])).next())})}function h(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}typeof SuppressedError=="function"&&SuppressedError;var g=v;function v(u,l){this.x=u,this.y=l}v.prototype={clone:function(){return new v(this.x,this.y)},add:function(u){return this.clone()._add(u)},sub:function(u){return this.clone()._sub(u)},multByPoint:function(u){return this.clone()._multByPoint(u)},divByPoint:function(u){return this.clone()._divByPoint(u)},mult:function(u){return this.clone()._mult(u)},div:function(u){return this.clone()._div(u)},rotate:function(u){return this.clone()._rotate(u)},rotateAround:function(u,l){return this.clone()._rotateAround(u,l)},matMult:function(u){return this.clone()._matMult(u)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(u){return this.x===u.x&&this.y===u.y},dist:function(u){return Math.sqrt(this.distSqr(u))},distSqr:function(u){var l=u.x-this.x,d=u.y-this.y;return l*l+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(u){return Math.atan2(this.y-u.y,this.x-u.x)},angleWith:function(u){return this.angleWithSep(u.x,u.y)},angleWithSep:function(u,l){return Math.atan2(this.x*l-this.y*u,this.x*u+this.y*l)},_matMult:function(u){var l=u[2]*this.x+u[3]*this.y;return this.x=u[0]*this.x+u[1]*this.y,this.y=l,this},_add:function(u){return this.x+=u.x,this.y+=u.y,this},_sub:function(u){return this.x-=u.x,this.y-=u.y,this},_mult:function(u){return this.x*=u,this.y*=u,this},_div:function(u){return this.x/=u,this.y/=u,this},_multByPoint:function(u){return this.x*=u.x,this.y*=u.y,this},_divByPoint:function(u){return this.x/=u.x,this.y/=u.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var u=this.y;return this.y=this.x,this.x=-u,this},_rotate:function(u){var l=Math.cos(u),d=Math.sin(u),m=d*this.x+l*this.y;return this.x=l*this.x-d*this.y,this.y=m,this},_rotateAround:function(u,l){var d=Math.cos(u),m=Math.sin(u),b=l.y+m*(this.x-l.x)+d*(this.y-l.y);return this.x=l.x+d*(this.x-l.x)-m*(this.y-l.y),this.y=b,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},v.convert=function(u){return u instanceof v?u:Array.isArray(u)?new v(u[0],u[1]):u};var x=h(g),k=O;function O(u,l,d,m){this.cx=3*u,this.bx=3*(d-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(m-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=l,this.p2x=d,this.p2y=m}O.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,l){if(l===void 0&&(l=1e-6),u<0)return 0;if(u>1)return 1;for(var d=u,m=0;m<8;m++){var b=this.sampleCurveX(d)-u;if(Math.abs(b)<l)return d;var S=this.sampleCurveDerivativeX(d);if(Math.abs(S)<1e-6)break;d-=b/S}var T=0,R=1;for(d=u,m=0;m<20&&(b=this.sampleCurveX(d),!(Math.abs(b-u)<l));m++)u>b?T=d:R=d,d=.5*(R-T)+T;return d},solve:function(u,l){return this.sampleCurveY(this.solveCurveX(u,l))}};var C=h(k);let M,I;function A(){return M==null&&(M=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),M}function P(){if(I==null&&(I=!1,A())){const l=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(l){for(let m=0;m<5*5;m++){const b=4*m;l.fillStyle=`rgb(${b},${b+1},${b+2})`,l.fillRect(m%5,Math.floor(m/5),1,1)}const d=l.getImageData(0,0,5,5).data;for(let m=0;m<5*5*4;m++)if(m%4!=3&&d[m]!==m){I=!0;break}}}return I||!1}function $(u,l,d,m){const b=new C(u,l,d,m);return function(S){return b.solve(S)}}const z=$(.25,.1,.25,1);function N(u,l,d){return Math.min(d,Math.max(l,u))}function F(u,l,d){const m=d-l,b=((u-l)%m+m)%m+l;return b===l?d:b}function G(u,...l){for(const d of l)for(const m in d)u[m]=d[m];return u}let J=1;function ee(u,l,d){const m={};for(const b in u)m[b]=l.call(d||this,u[b],b,u);return m}function ae(u,l,d){const m={};for(const b in u)l.call(d||this,u[b],b,u)&&(m[b]=u[b]);return m}function pe(u){return Array.isArray(u)?u.map(pe):typeof u=="object"&&u?ee(u,pe):u}const ye={};function we(u){ye[u]||(typeof console<"u"&&console.warn(u),ye[u]=!0)}function Ee(u,l,d){return(d.y-u.y)*(l.x-u.x)>(l.y-u.y)*(d.x-u.x)}function Oe(u){let l=0;for(let d,m,b=0,S=u.length,T=S-1;b<S;T=b++)d=u[b],m=u[T],l+=(m.x-d.x)*(d.y+m.y);return l}function Ce(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let Se=null;function De(u){if(Se==null){const l=u.navigator?u.navigator.userAgent:null;Se=!!u.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return Se}function We(u){return typeof ImageBitmap<"u"&&u instanceof ImageBitmap}const dt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function ht(u,l,d,m,b){return f(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const S=new VideoFrame(u,{timestamp:0});try{const T=S==null?void 0:S.format;if(!T||!T.startsWith("BGR")&&!T.startsWith("RGB"))throw new Error(`Unrecognized format ${T}`);const R=T.startsWith("BGR"),j=new Uint8ClampedArray(m*b*4);if(yield S.copyTo(j,function(W,H,Z,Q,ie){const oe=4*Math.max(-H,0),ue=(Math.max(0,Z)-Z)*Q*4+oe,ge=4*Q,xe=Math.max(0,H),Re=Math.max(0,Z);return{rect:{x:xe,y:Re,width:Math.min(W.width,H+Q)-xe,height:Math.min(W.height,Z+ie)-Re},layout:[{offset:ue,stride:ge}]}}(u,l,d,m,b)),R)for(let W=0;W<j.length;W+=4){const H=j[W];j[W]=j[W+2],j[W+2]=H}return j}finally{S.close()}})}let Je,it,Ot,ot;const Gt={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(u){const l=requestAnimationFrame(u);return{cancel:()=>cancelAnimationFrame(l)}},getImageData(u,l=0){return this.getImageCanvasContext(u).getImageData(-l,-l,u.width+2*l,u.height+2*l)},getImageCanvasContext(u){const l=window.document.createElement("canvas"),d=l.getContext("2d",{willReadFrequently:!0});if(!d)throw new Error("failed to create canvas 2d context");return l.width=u.width,l.height=u.height,d.drawImage(u,0,0,u.width,u.height),d},resolveURL:u=>(Ot||(Ot=document.createElement("a")),Ot.href=u,Ot.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(ot==null&&(ot=matchMedia("(prefers-reduced-motion: reduce)")),ot.matches)}},Ht={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class Ge extends Error{constructor(l,d,m,b){super(`AJAXError: ${d} (${l}): ${m}`),this.status=l,this.statusText=d,this.url=m,this.body=b}}const vt=Ce()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href,gt=u=>Ht.REGISTERED_PROTOCOLS[u.substring(0,u.indexOf("://"))];function Ve(u,l){const d=new AbortController,m=new Request(u.url,{method:u.method||"GET",body:u.body,credentials:u.credentials,headers:u.headers,cache:u.cache,referrer:vt(),signal:d.signal});let b=!1,S=!1;return u.type==="json"&&m.headers.set("Accept","application/json"),S||fetch(m).then(T=>T.ok?(R=>{(u.type==="arrayBuffer"||u.type==="image"?R.arrayBuffer():u.type==="json"?R.json():R.text()).then(j=>{S||(b=!0,l(null,j,R.headers.get("Cache-Control"),R.headers.get("Expires")))}).catch(j=>{S||l(new Error(j.message))})})(T):T.blob().then(R=>l(new Ge(T.status,T.statusText,u.url,R)))).catch(T=>{T.code!==20&&l(new Error(T.message))}),{cancel:()=>{S=!0,b||d.abort()}}}const Et=function(u,l){if(/:\/\//.test(u.url)&&!/^https?:|^file:/.test(u.url)){if(Ce()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,l);if(!Ce())return(gt(u.url)||Ve)(u,l)}if(!(/^file:/.test(d=u.url)||/^file:/.test(vt())&&!/^\w+:/.test(d))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return Ve(u,l);if(Ce()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,l,void 0,!0)}var d;return function(m,b){const S=new XMLHttpRequest;S.open(m.method||"GET",m.url,!0),m.type!=="arrayBuffer"&&m.type!=="image"||(S.responseType="arraybuffer");for(const T in m.headers)S.setRequestHeader(T,m.headers[T]);return m.type==="json"&&(S.responseType="text",S.setRequestHeader("Accept","application/json")),S.withCredentials=m.credentials==="include",S.onerror=()=>{b(new Error(S.statusText))},S.onload=()=>{if((S.status>=200&&S.status<300||S.status===0)&&S.response!==null){let T=S.response;if(m.type==="json")try{T=JSON.parse(S.response)}catch(R){return b(R)}b(null,T,S.getResponseHeader("Cache-Control"),S.getResponseHeader("Expires"))}else{const T=new Blob([S.response],{type:S.getResponseHeader("Content-Type")});b(new Ge(S.status,S.statusText,m.url,T))}},S.send(m.body),{cancel:()=>S.abort()}}(u,l)},Tt=function(u,l){return Et(G(u,{type:"arrayBuffer"}),l)};function qt(u){if(!u||u.indexOf("://")<=0||u.indexOf("data:image/")===0||u.indexOf("blob:")===0)return!0;const l=new URL(u),d=window.location;return l.protocol===d.protocol&&l.host===d.host}function vn(u,l,d){d[u]&&d[u].indexOf(l)!==-1||(d[u]=d[u]||[],d[u].push(l))}function Mn(u,l,d){if(d&&d[u]){const m=d[u].indexOf(l);m!==-1&&d[u].splice(m,1)}}class xn{constructor(l,d={}){G(this,d),this.type=l}}class rr extends xn{constructor(l,d={}){super("error",G({error:l},d))}}class Cn{on(l,d){return this._listeners=this._listeners||{},vn(l,d,this._listeners),this}off(l,d){return Mn(l,d,this._listeners),Mn(l,d,this._oneTimeListeners),this}once(l,d){return d?(this._oneTimeListeners=this._oneTimeListeners||{},vn(l,d,this._oneTimeListeners),this):new Promise(m=>this.once(l,m))}fire(l,d){typeof l=="string"&&(l=new xn(l,d||{}));const m=l.type;if(this.listens(m)){l.target=this;const b=this._listeners&&this._listeners[m]?this._listeners[m].slice():[];for(const R of b)R.call(this,l);const S=this._oneTimeListeners&&this._oneTimeListeners[m]?this._oneTimeListeners[m].slice():[];for(const R of S)Mn(m,R,this._oneTimeListeners),R.call(this,l);const T=this._eventedParent;T&&(G(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),T.fire(l))}else l instanceof rr&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,d){return this._eventedParent=l,this._eventedParentData=d,this}}var Ne={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const $n=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Hn(u,l){const d={};for(const m in u)m!=="ref"&&(d[m]=u[m]);return $n.forEach(m=>{m in l&&(d[m]=l[m])}),d}function Dt(u,l){if(Array.isArray(u)){if(!Array.isArray(l)||u.length!==l.length)return!1;for(let d=0;d<u.length;d++)if(!Dt(u[d],l[d]))return!1;return!0}if(typeof u=="object"&&u!==null&&l!==null){if(typeof l!="object"||Object.keys(u).length!==Object.keys(l).length)return!1;for(const d in u)if(!Dt(u[d],l[d]))return!1;return!0}return u===l}const Kt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function ir(u,l,d){d.push({command:Kt.addSource,args:[u,l[u]]})}function vr(u,l,d){l.push({command:Kt.removeSource,args:[u]}),d[u]=!0}function Ln(u,l,d,m){vr(u,d,m),ir(u,l,d)}function rn(u,l,d){let m;for(m in u[d])if(Object.prototype.hasOwnProperty.call(u[d],m)&&m!=="data"&&!Dt(u[d][m],l[d][m]))return!1;for(m in l[d])if(Object.prototype.hasOwnProperty.call(l[d],m)&&m!=="data"&&!Dt(u[d][m],l[d][m]))return!1;return!0}function Zn(u,l,d,m,b,S){let T;for(T in l=l||{},u=u||{})Object.prototype.hasOwnProperty.call(u,T)&&(Dt(u[T],l[T])||d.push({command:S,args:[m,T,l[T],b]}));for(T in l)Object.prototype.hasOwnProperty.call(l,T)&&!Object.prototype.hasOwnProperty.call(u,T)&&(Dt(u[T],l[T])||d.push({command:S,args:[m,T,l[T],b]}))}function Ii(u){return u.id}function mi(u,l){return u[l.id]=l,u}class Ue{constructor(l,d,m,b){this.message=(l?`${l}: `:"")+m,b&&(this.identifier=b),d!=null&&d.__line__&&(this.line=d.__line__)}}function un(u,...l){for(const d of l)for(const m in d)u[m]=d[m];return u}class Rn extends Error{constructor(l,d){super(d),this.message=d,this.key=l}}class ki{constructor(l,d=[]){this.parent=l,this.bindings={};for(const[m,b]of d)this.bindings[m]=b}concat(l){return new ki(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}const qi={kind:"null"},lt={kind:"number"},dn={kind:"string"},fn={kind:"boolean"},$i={kind:"color"},Vo={kind:"object"},sn={kind:"value"},os={kind:"collator"},fe={kind:"formatted"},X={kind:"padding"},ne={kind:"resolvedImage"},se={kind:"variableAnchorOffsetCollection"};function he(u,l){return{kind:"array",itemType:u,N:l}}function be(u){if(u.kind==="array"){const l=be(u.itemType);return typeof u.N=="number"?`array<${l}, ${u.N}>`:u.itemType.kind==="value"?"array":`array<${l}>`}return u.kind}const Me=[qi,lt,dn,fn,$i,fe,Vo,he(sn),X,ne,se];function ke(u,l){if(l.kind==="error")return null;if(u.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!ke(u.itemType,l.itemType))&&(typeof u.N!="number"||u.N===l.N))return null}else{if(u.kind===l.kind)return null;if(u.kind==="value"){for(const d of Me)if(!ke(d,l))return null}}return`Expected ${be(u)} but found ${be(l)} instead.`}function _e(u,l){return l.some(d=>d.kind===u.kind)}function $e(u,l){return l.some(d=>d==="null"?u===null:d==="array"?Array.isArray(u):d==="object"?u&&!Array.isArray(u)&&typeof u=="object":d===typeof u)}function qe(u,l){return u.kind==="array"&&l.kind==="array"?u.itemType.kind===l.itemType.kind&&typeof u.N=="number":u.kind===l.kind}const He=.96422,Xe=.82521,Lt=4/29,Xt=6/29,It=3*Xt*Xt,jt=Xt*Xt*Xt,ln=Math.PI/180,jn=180/Math.PI;function Yn(u){return(u%=360)<0&&(u+=360),u}function In([u,l,d,m]){let b,S;const T=Pi((.2225045*(u=Tn(u))+.7168786*(l=Tn(l))+.0606169*(d=Tn(d)))/1);u===l&&l===d?b=S=T:(b=Pi((.4360747*u+.3850649*l+.1430804*d)/He),S=Pi((.0139322*u+.0971045*l+.7141733*d)/Xe));const R=116*T-16;return[R<0?0:R,500*(b-T),200*(T-S),m]}function Tn(u){return u<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function Pi(u){return u>jt?Math.pow(u,1/3):u/It+Lt}function Ut([u,l,d,m]){let b=(u+16)/116,S=isNaN(l)?b:b+l/500,T=isNaN(d)?b:b-d/200;return b=1*li(b),S=He*li(S),T=Xe*li(T),[Bn(3.1338561*S-1.6168667*b-.4906146*T),Bn(-.9787684*S+1.9161415*b+.033454*T),Bn(.0719453*S-.2289914*b+1.4052427*T),m]}function Bn(u){return(u=u<=.00304?12.92*u:1.055*Math.pow(u,1/2.4)-.055)<0?0:u>1?1:u}function li(u){return u>Xt?u*u*u:It*(u-Lt)}function Tl(u){return parseInt(u.padEnd(2,u),16)/255}function Ox(u,l){return as(l?u/100:u,0,1)}function as(u,l,d){return Math.min(Math.max(l,u),d)}function Ax(u){return!u.some(Number.isNaN)}const DC={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class Xn{constructor(l,d,m,b=1,S=!0){this.r=l,this.g=d,this.b=m,this.a=b,S||(this.r*=b,this.g*=b,this.b*=b,b||this.overwriteGetter("rgb",[l,d,m,b]))}static parse(l){if(l instanceof Xn)return l;if(typeof l!="string")return;const d=function(m){if((m=m.toLowerCase().trim())==="transparent")return[0,0,0,0];const b=DC[m];if(b){const[T,R,j]=b;return[T/255,R/255,j/255,1]}if(m.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(m)){const T=m.length<6?1:2;let R=1;return[Tl(m.slice(R,R+=T)),Tl(m.slice(R,R+=T)),Tl(m.slice(R,R+=T)),Tl(m.slice(R,R+T)||"ff")]}if(m.startsWith("rgb")){const T=m.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(T){const[R,j,W,H,Z,Q,ie,oe,ue,ge,xe,Re]=T,Te=[H||" ",ie||" ",ge].join("");if(Te==="  "||Te==="  /"||Te===",,"||Te===",,,"){const Le=[W,Q,ue].join(""),je=Le==="%%%"?100:Le===""?255:0;if(je){const Ze=[as(+j/je,0,1),as(+Z/je,0,1),as(+oe/je,0,1),xe?Ox(+xe,Re):1];if(Ax(Ze))return Ze}}return}}const S=m.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(S){const[T,R,j,W,H,Z,Q,ie,oe]=S,ue=[j||" ",H||" ",Q].join("");if(ue==="  "||ue==="  /"||ue===",,"||ue===",,,"){const ge=[+R,as(+W,0,100),as(+Z,0,100),ie?Ox(+ie,oe):1];if(Ax(ge))return function([xe,Re,Te,Le]){function je(Ze){const wt=(Ze+xe/30)%12,Rt=Re*Math.min(Te,1-Te);return Te-Rt*Math.max(-1,Math.min(wt-3,9-wt,1))}return xe=Yn(xe),Re/=100,Te/=100,[je(0),je(8),je(4),Le]}(ge)}}}(l);return d?new Xn(...d,!1):void 0}get rgb(){const{r:l,g:d,b:m,a:b}=this,S=b||1/0;return this.overwriteGetter("rgb",[l/S,d/S,m/S,b])}get hcl(){return this.overwriteGetter("hcl",function(l){const[d,m,b,S]=In(l),T=Math.sqrt(m*m+b*b);return[Math.round(1e4*T)?Yn(Math.atan2(b,m)*jn):NaN,T,d,S]}(this.rgb))}get lab(){return this.overwriteGetter("lab",In(this.rgb))}overwriteGetter(l,d){return Object.defineProperty(this,l,{value:d}),d}toString(){const[l,d,m,b]=this.rgb;return`rgba(${[l,d,m].map(S=>Math.round(255*S)).join(",")},${b})`}}Xn.black=new Xn(0,0,0,1),Xn.white=new Xn(1,1,1,1),Xn.transparent=new Xn(0,0,0,0),Xn.red=new Xn(1,0,0,1);class Ih{constructor(l,d,m){this.sensitivity=l?d?"variant":"case":d?"accent":"base",this.locale=m,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,d){return this.collator.compare(l,d)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class vu{constructor(l,d,m,b,S){this.text=l,this.image=d,this.scale=m,this.fontStack=b,this.textColor=S}}class Wo{constructor(l){this.sections=l}static fromString(l){return new Wo([new vu(l,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(l=>l.text.length!==0||l.image&&l.image.name.length!==0)}static factory(l){return l instanceof Wo?l:Wo.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map(l=>l.text).join("")}}class qo{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof qo)return l;if(typeof l=="number")return new qo([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(const d of l)if(typeof d!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]]}return new qo(l)}}toString(){return JSON.stringify(this.values)}}const LC=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Ri{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Ri)return l;if(Array.isArray(l)&&!(l.length<1)&&l.length%2==0){for(let d=0;d<l.length;d+=2){const m=l[d],b=l[d+1];if(typeof m!="string"||!LC.has(m)||!Array.isArray(b)||b.length!==2||typeof b[0]!="number"||typeof b[1]!="number")return}return new Ri(l)}}toString(){return JSON.stringify(this.values)}}class wo{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new wo({name:l,available:!1}):null}}function $h(u,l,d,m){return typeof u=="number"&&u>=0&&u<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof d=="number"&&d>=0&&d<=255?m===void 0||typeof m=="number"&&m>=0&&m<=1?null:`Invalid rgba value [${[u,l,d,m].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof m=="number"?[u,l,d,m]:[u,l,d]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function kl(u){if(u===null||typeof u=="string"||typeof u=="boolean"||typeof u=="number"||u instanceof Xn||u instanceof Ih||u instanceof Wo||u instanceof qo||u instanceof Ri||u instanceof wo)return!0;if(Array.isArray(u)){for(const l of u)if(!kl(l))return!1;return!0}if(typeof u=="object"){for(const l in u)if(!kl(u[l]))return!1;return!0}return!1}function hn(u){if(u===null)return qi;if(typeof u=="string")return dn;if(typeof u=="boolean")return fn;if(typeof u=="number")return lt;if(u instanceof Xn)return $i;if(u instanceof Ih)return os;if(u instanceof Wo)return fe;if(u instanceof qo)return X;if(u instanceof Ri)return se;if(u instanceof wo)return ne;if(Array.isArray(u)){const l=u.length;let d;for(const m of u){const b=hn(m);if(d){if(d===b)continue;d=sn;break}d=b}return he(d||sn,l)}return Vo}function Yd(u){const l=typeof u;return u===null?"":l==="string"||l==="number"||l==="boolean"?String(u):u instanceof Xn||u instanceof Wo||u instanceof qo||u instanceof Ri||u instanceof wo?u.toString():JSON.stringify(u)}class Ws{constructor(l,d){this.type=l,this.value=d}static parse(l,d){if(l.length!==2)return d.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!kl(l[1]))return d.error("invalid value");const m=l[1];let b=hn(m);const S=d.expectedType;return b.kind!=="array"||b.N!==0||!S||S.kind!=="array"||typeof S.N=="number"&&S.N!==0||(b=S),new Ws(b,m)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Xr{constructor(l){this.name="ExpressionEvaluationError",this.message=l}toJSON(){return this.message}}const Kd={string:dn,number:lt,boolean:fn,object:Vo};class ha{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");let m,b=1;const S=l[0];if(S==="array"){let R,j;if(l.length>2){const W=l[1];if(typeof W!="string"||!(W in Kd)||W==="object")return d.error('The item type argument of "array" must be one of string, number, boolean',1);R=Kd[W],b++}else R=sn;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return d.error('The length argument to "array" must be a positive integer literal',2);j=l[2],b++}m=he(R,j)}else{if(!Kd[S])throw new Error(`Types doesn't contain name = ${S}`);m=Kd[S]}const T=[];for(;b<l.length;b++){const R=d.parse(l[b],b,sn);if(!R)return null;T.push(R)}return new ha(m,T)}evaluate(l){for(let d=0;d<this.args.length;d++){const m=this.args[d].evaluate(l);if(!ke(this.type,hn(m)))return m;if(d===this.args.length-1)throw new Xr(`Expected value to be of type ${be(this.type)}, but found ${be(hn(m))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const Mx={"to-boolean":fn,"to-color":$i,"to-number":lt,"to-string":dn};class qs{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const m=l[0];if(!Mx[m])throw new Error(`Can't parse ${m} as it is not part of the known types`);if((m==="to-boolean"||m==="to-string")&&l.length!==2)return d.error("Expected one argument.");const b=Mx[m],S=[];for(let T=1;T<l.length;T++){const R=d.parse(l[T],T,sn);if(!R)return null;S.push(R)}return new qs(b,S)}evaluate(l){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(l);case"color":{let d,m;for(const b of this.args){if(d=b.evaluate(l),m=null,d instanceof Xn)return d;if(typeof d=="string"){const S=l.parseColor(d);if(S)return S}else if(Array.isArray(d)&&(m=d.length<3||d.length>4?`Invalid rbga value ${JSON.stringify(d)}: expected an array containing either three or four numeric values.`:$h(d[0],d[1],d[2],d[3]),!m))return new Xn(d[0]/255,d[1]/255,d[2]/255,d[3])}throw new Xr(m||`Could not parse color from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"padding":{let d;for(const m of this.args){d=m.evaluate(l);const b=qo.parse(d);if(b)return b}throw new Xr(`Could not parse padding from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"variableAnchorOffsetCollection":{let d;for(const m of this.args){d=m.evaluate(l);const b=Ri.parse(d);if(b)return b}throw new Xr(`Could not parse variableAnchorOffsetCollection from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"number":{let d=null;for(const m of this.args){if(d=m.evaluate(l),d===null)return 0;const b=Number(d);if(!isNaN(b))return b}throw new Xr(`Could not convert ${JSON.stringify(d)} to number.`)}case"formatted":return Wo.fromString(Yd(this.args[0].evaluate(l)));case"resolvedImage":return wo.fromString(Yd(this.args[0].evaluate(l)));default:return Yd(this.args[0].evaluate(l))}}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const Ix=["Unknown","Point","LineString","Polygon"];class $x{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Ix[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let d=this._parseColorCache[l];return d||(d=this._parseColorCache[l]=Xn.parse(l)),d}}class Rh{constructor(l,d,m=[],b,S=new ki,T=[]){this.registry=l,this.path=m,this.key=m.map(R=>`[${R}]`).join(""),this.scope=S,this.errors=T,this.expectedType=b,this._isConstant=d}parse(l,d,m,b,S={}){return d?this.concat(d,m,b)._parse(l,S):this._parse(l,S)}_parse(l,d){function m(b,S,T){return T==="assert"?new ha(S,[b]):T==="coerce"?new qs(S,[b]):b}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const b=l[0];if(typeof b!="string")return this.error(`Expression name must be a string, but found ${typeof b} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const S=this.registry[b];if(S){let T=S.parse(l,this);if(!T)return null;if(this.expectedType){const R=this.expectedType,j=T.type;if(R.kind!=="string"&&R.kind!=="number"&&R.kind!=="boolean"&&R.kind!=="object"&&R.kind!=="array"||j.kind!=="value")if(R.kind!=="color"&&R.kind!=="formatted"&&R.kind!=="resolvedImage"||j.kind!=="value"&&j.kind!=="string")if(R.kind!=="padding"||j.kind!=="value"&&j.kind!=="number"&&j.kind!=="array")if(R.kind!=="variableAnchorOffsetCollection"||j.kind!=="value"&&j.kind!=="array"){if(this.checkSubtype(R,j))return null}else T=m(T,R,d.typeAnnotation||"coerce");else T=m(T,R,d.typeAnnotation||"coerce");else T=m(T,R,d.typeAnnotation||"coerce");else T=m(T,R,d.typeAnnotation||"assert")}if(!(T instanceof Ws)&&T.type.kind!=="resolvedImage"&&this._isConstant(T)){const R=new $x;try{T=new Ws(T.type,T.evaluate(R))}catch(j){return this.error(j.message),null}}return T}return this.error(`Unknown expression "${b}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof l} instead.`)}concat(l,d,m){const b=typeof l=="number"?this.path.concat(l):this.path,S=m?this.scope.concat(m):this.scope;return new Rh(this.registry,this._isConstant,b,d||null,S,this.errors)}error(l,...d){const m=`${this.key}${d.map(b=>`[${b}]`).join("")}`;this.errors.push(new Rn(m,l))}checkSubtype(l,d){const m=ke(l,d);return m&&this.error(m),m}}class Dh{constructor(l,d,m){this.type=os,this.locale=m,this.caseSensitive=l,this.diacriticSensitive=d}static parse(l,d){if(l.length!==2)return d.error("Expected one argument.");const m=l[1];if(typeof m!="object"||Array.isArray(m))return d.error("Collator options argument must be an object.");const b=d.parse(m["case-sensitive"]!==void 0&&m["case-sensitive"],1,fn);if(!b)return null;const S=d.parse(m["diacritic-sensitive"]!==void 0&&m["diacritic-sensitive"],1,fn);if(!S)return null;let T=null;return m.locale&&(T=d.parse(m.locale,1,dn),!T)?null:new Dh(b,S,T)}evaluate(l){return new Ih(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}const Pl=8192;function Lh(u,l){u[0]=Math.min(u[0],l[0]),u[1]=Math.min(u[1],l[1]),u[2]=Math.max(u[2],l[0]),u[3]=Math.max(u[3],l[1])}function Zd(u,l){return!(u[0]<=l[0]||u[2]>=l[2]||u[1]<=l[1]||u[3]>=l[3])}function NC(u,l){const d=(180+u[0])/360,m=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u[1]*Math.PI/360)))/360,b=Math.pow(2,l.z);return[Math.round(d*b*Pl),Math.round(m*b*Pl)]}function zC(u,l,d){const m=u[0]-l[0],b=u[1]-l[1],S=u[0]-d[0],T=u[1]-d[1];return m*T-S*b==0&&m*S<=0&&b*T<=0}function Xd(u,l){let d=!1;for(let T=0,R=l.length;T<R;T++){const j=l[T];for(let W=0,H=j.length;W<H-1;W++){if(zC(u,j[W],j[W+1]))return!1;(b=j[W])[1]>(m=u)[1]!=(S=j[W+1])[1]>m[1]&&m[0]<(S[0]-b[0])*(m[1]-b[1])/(S[1]-b[1])+b[0]&&(d=!d)}}var m,b,S;return d}function jC(u,l){for(let d=0;d<l.length;d++)if(Xd(u,l[d]))return!0;return!1}function Rx(u,l,d,m){const b=m[0]-d[0],S=m[1]-d[1],T=(u[0]-d[0])*S-b*(u[1]-d[1]),R=(l[0]-d[0])*S-b*(l[1]-d[1]);return T>0&&R<0||T<0&&R>0}function BC(u,l,d){for(const W of d)for(let H=0;H<W.length-1;++H)if((R=[(T=W[H+1])[0]-(S=W[H])[0],T[1]-S[1]])[0]*(j=[(b=l)[0]-(m=u)[0],b[1]-m[1]])[1]-R[1]*j[0]!=0&&Rx(m,b,S,T)&&Rx(S,T,m,b))return!0;var m,b,S,T,R,j;return!1}function Qg(u,l){for(let d=0;d<u.length;++d)if(!Xd(u[d],l))return!1;for(let d=0;d<u.length-1;++d)if(BC(u[d],u[d+1],l))return!1;return!0}function Dx(u,l){for(let d=0;d<l.length;d++)if(Qg(u,l[d]))return!0;return!1}function ey(u,l,d){const m=[];for(let b=0;b<u.length;b++){const S=[];for(let T=0;T<u[b].length;T++){const R=NC(u[b][T],d);Lh(l,R),S.push(R)}m.push(S)}return m}function Lx(u,l,d){const m=[];for(let b=0;b<u.length;b++){const S=ey(u[b],l,d);m.push(S)}return m}function ty(u,l,d,m){if(u[0]<d[0]||u[0]>d[2]){const b=.5*m;let S=u[0]-d[0]>b?-m:d[0]-u[0]>b?m:0;S===0&&(S=u[0]-d[2]>b?-m:d[2]-u[0]>b?m:0),u[0]+=S}Lh(l,u)}function ny(u,l,d,m){const b=Math.pow(2,m.z)*Pl,S=[m.x*Pl,m.y*Pl],T=[];for(const R of u)for(const j of R){const W=[j.x+S[0],j.y+S[1]];ty(W,l,d,b),T.push(W)}return T}function Nx(u,l,d,m){const b=Math.pow(2,m.z)*Pl,S=[m.x*Pl,m.y*Pl],T=[];for(const j of u){const W=[];for(const H of j){const Z=[H.x+S[0],H.y+S[1]];Lh(l,Z),W.push(Z)}T.push(W)}if(l[2]-l[0]<=b/2){(R=l)[0]=R[1]=1/0,R[2]=R[3]=-1/0;for(const j of T)for(const W of j)ty(W,l,d,b)}var R;return T}class mc{constructor(l,d){this.type=fn,this.geojson=l,this.geometries=d}static parse(l,d){if(l.length!==2)return d.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if(kl(l[1])){const m=l[1];if(m.type==="FeatureCollection")for(let b=0;b<m.features.length;++b){const S=m.features[b].geometry.type;if(S==="Polygon"||S==="MultiPolygon")return new mc(m,m.features[b].geometry)}else if(m.type==="Feature"){const b=m.geometry.type;if(b==="Polygon"||b==="MultiPolygon")return new mc(m,m.geometry)}else if(m.type==="Polygon"||m.type==="MultiPolygon")return new mc(m,m)}return d.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return function(d,m){const b=[1/0,1/0,-1/0,-1/0],S=[1/0,1/0,-1/0,-1/0],T=d.canonicalID();if(m.type==="Polygon"){const R=ey(m.coordinates,S,T),j=ny(d.geometry(),b,S,T);if(!Zd(b,S))return!1;for(const W of j)if(!Xd(W,R))return!1}if(m.type==="MultiPolygon"){const R=Lx(m.coordinates,S,T),j=ny(d.geometry(),b,S,T);if(!Zd(b,S))return!1;for(const W of j)if(!jC(W,R))return!1}return!0}(l,this.geometries);if(l.geometryType()==="LineString")return function(d,m){const b=[1/0,1/0,-1/0,-1/0],S=[1/0,1/0,-1/0,-1/0],T=d.canonicalID();if(m.type==="Polygon"){const R=ey(m.coordinates,S,T),j=Nx(d.geometry(),b,S,T);if(!Zd(b,S))return!1;for(const W of j)if(!Qg(W,R))return!1}if(m.type==="MultiPolygon"){const R=Lx(m.coordinates,S,T),j=Nx(d.geometry(),b,S,T);if(!Zd(b,S))return!1;for(const W of j)if(!Dx(W,R))return!1}return!0}(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Nh{constructor(l,d){this.type=d.type,this.name=l,this.boundExpression=d}static parse(l,d){if(l.length!==2||typeof l[1]!="string")return d.error("'var' expression requires exactly one string literal argument.");const m=l[1];return d.scope.has(m)?new Nh(m,d.scope.get(m)):d.error(`Unknown variable "${m}". Make sure "${m}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class pa{constructor(l,d,m,b){this.name=l,this.type=d,this._evaluate=m,this.args=b}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,d){const m=l[0],b=pa.definitions[m];if(!b)return d.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0);const S=Array.isArray(b)?b[0]:b.type,T=Array.isArray(b)?[[b[1],b[2]]]:b.overloads,R=T.filter(([W])=>!Array.isArray(W)||W.length===l.length-1);let j=null;for(const[W,H]of R){j=new Rh(d.registry,zh,d.path,null,d.scope);const Z=[];let Q=!1;for(let ie=1;ie<l.length;ie++){const oe=l[ie],ue=Array.isArray(W)?W[ie-1]:W.type,ge=j.parse(oe,1+Z.length,ue);if(!ge){Q=!0;break}Z.push(ge)}if(!Q)if(Array.isArray(W)&&W.length!==Z.length)j.error(`Expected ${W.length} arguments, but found ${Z.length} instead.`);else{for(let ie=0;ie<Z.length;ie++){const oe=Array.isArray(W)?W[ie]:W.type,ue=Z[ie];j.concat(ie+1).checkSubtype(oe,ue.type)}if(j.errors.length===0)return new pa(m,S,H,Z)}}if(R.length===1)d.errors.push(...j.errors);else{const W=(R.length?R:T).map(([Z])=>{return Q=Z,Array.isArray(Q)?`(${Q.map(be).join(", ")})`:`(${be(Q.type)}...)`;var Q}).join(" | "),H=[];for(let Z=1;Z<l.length;Z++){const Q=d.parse(l[Z],1+H.length);if(!Q)return null;H.push(be(Q.type))}d.error(`Expected arguments of type ${W}, but found (${H.join(", ")}) instead.`)}return null}static register(l,d){pa.definitions=d;for(const m in d)l[m]=pa}}function zh(u){if(u instanceof Nh)return zh(u.boundExpression);if(u instanceof pa&&u.name==="error"||u instanceof Dh||u instanceof mc)return!1;const l=u instanceof qs||u instanceof ha;let d=!0;return u.eachChild(m=>{d=l?d&&zh(m):d&&m instanceof Ws}),!!d&&jh(u)&&bu(u,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function jh(u){if(u instanceof pa&&(u.name==="get"&&u.args.length===1||u.name==="feature-state"||u.name==="has"&&u.args.length===1||u.name==="properties"||u.name==="geometry-type"||u.name==="id"||/^filter-/.test(u.name))||u instanceof mc)return!1;let l=!0;return u.eachChild(d=>{l&&!jh(d)&&(l=!1)}),l}function Jd(u){if(u instanceof pa&&u.name==="feature-state")return!1;let l=!0;return u.eachChild(d=>{l&&!Jd(d)&&(l=!1)}),l}function bu(u,l){if(u instanceof pa&&l.indexOf(u.name)>=0)return!1;let d=!0;return u.eachChild(m=>{d&&!bu(m,l)&&(d=!1)}),d}function gc(u,l){const d=u.length-1;let m,b,S=0,T=d,R=0;for(;S<=T;)if(R=Math.floor((S+T)/2),m=u[R],b=u[R+1],m<=l){if(R===d||l<b)return R;S=R+1}else{if(!(m>l))throw new Xr("Input is not a number.");T=R-1}return 0}class Nn{constructor(l,d,m){this.type=l,this.input=d,this.labels=[],this.outputs=[];for(const[b,S]of m)this.labels.push(b),this.outputs.push(S)}static parse(l,d){if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");const m=d.parse(l[1],1,lt);if(!m)return null;const b=[];let S=null;d.expectedType&&d.expectedType.kind!=="value"&&(S=d.expectedType);for(let T=1;T<l.length;T+=2){const R=T===1?-1/0:l[T],j=l[T+1],W=T,H=T+1;if(typeof R!="number")return d.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',W);if(b.length&&b[b.length-1][0]>=R)return d.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',W);const Z=d.parse(j,H,S);if(!Z)return null;S=S||Z.type,b.push([R,Z])}return new Nn(S,m,b)}evaluate(l){const d=this.labels,m=this.outputs;if(d.length===1)return m[0].evaluate(l);const b=this.input.evaluate(l);if(b<=d[0])return m[0].evaluate(l);const S=d.length;return b>=d[S-1]?m[S-1].evaluate(l):m[gc(d,b)].evaluate(l)}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function yc(u,l,d){return u+d*(l-u)}function Bh(u,l,d){return u.map((m,b)=>yc(m,l[b],d))}const Go={number:yc,color:function(u,l,d,m="rgb"){switch(m){case"rgb":{const[b,S,T,R]=Bh(u.rgb,l.rgb,d);return new Xn(b,S,T,R,!1)}case"hcl":{const[b,S,T,R]=u.hcl,[j,W,H,Z]=l.hcl;let Q,ie;if(isNaN(b)||isNaN(j))isNaN(b)?isNaN(j)?Q=NaN:(Q=j,T!==1&&T!==0||(ie=W)):(Q=b,H!==1&&H!==0||(ie=S));else{let Re=j-b;j>b&&Re>180?Re-=360:j<b&&b-j>180&&(Re+=360),Q=b+d*Re}const[oe,ue,ge,xe]=function([Re,Te,Le,je]){return Re=isNaN(Re)?0:Re*ln,Ut([Le,Math.cos(Re)*Te,Math.sin(Re)*Te,je])}([Q,ie??yc(S,W,d),yc(T,H,d),yc(R,Z,d)]);return new Xn(oe,ue,ge,xe,!1)}case"lab":{const[b,S,T,R]=Ut(Bh(u.lab,l.lab,d));return new Xn(b,S,T,R,!1)}}},array:Bh,padding:function(u,l,d){return new qo(Bh(u.values,l.values,d))},variableAnchorOffsetCollection:function(u,l,d){const m=u.values,b=l.values;if(m.length!==b.length)throw new Xr(`Cannot interpolate values of different length. from: ${u.toString()}, to: ${l.toString()}`);const S=[];for(let T=0;T<m.length;T+=2){if(m[T]!==b[T])throw new Xr(`Cannot interpolate values containing mismatched anchors. from[${T}]: ${m[T]}, to[${T}]: ${b[T]}`);S.push(m[T]);const[R,j]=m[T+1],[W,H]=b[T+1];S.push([yc(R,W,d),yc(j,H,d)])}return new Ri(S)}};class Ho{constructor(l,d,m,b,S){this.type=l,this.operator=d,this.interpolation=m,this.input=b,this.labels=[],this.outputs=[];for(const[T,R]of S)this.labels.push(T),this.outputs.push(R)}static interpolationFactor(l,d,m,b){let S=0;if(l.name==="exponential")S=ry(d,l.base,m,b);else if(l.name==="linear")S=ry(d,1,m,b);else if(l.name==="cubic-bezier"){const T=l.controlPoints;S=new C(T[0],T[1],T[2],T[3]).solve(ry(d,1,m,b))}return S}static parse(l,d){let[m,b,S,...T]=l;if(!Array.isArray(b)||b.length===0)return d.error("Expected an interpolation type expression.",1);if(b[0]==="linear")b={name:"linear"};else if(b[0]==="exponential"){const W=b[1];if(typeof W!="number")return d.error("Exponential interpolation requires a numeric base.",1,1);b={name:"exponential",base:W}}else{if(b[0]!=="cubic-bezier")return d.error(`Unknown interpolation type ${String(b[0])}`,1,0);{const W=b.slice(1);if(W.length!==4||W.some(H=>typeof H!="number"||H<0||H>1))return d.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);b={name:"cubic-bezier",controlPoints:W}}}if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");if(S=d.parse(S,2,lt),!S)return null;const R=[];let j=null;m==="interpolate-hcl"||m==="interpolate-lab"?j=$i:d.expectedType&&d.expectedType.kind!=="value"&&(j=d.expectedType);for(let W=0;W<T.length;W+=2){const H=T[W],Z=T[W+1],Q=W+3,ie=W+4;if(typeof H!="number")return d.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Q);if(R.length&&R[R.length-1][0]>=H)return d.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Q);const oe=d.parse(Z,ie,j);if(!oe)return null;j=j||oe.type,R.push([H,oe])}return qe(j,lt)||qe(j,$i)||qe(j,X)||qe(j,se)||qe(j,he(lt))?new Ho(j,m,b,S,R):d.error(`Type ${be(j)} is not interpolatable.`)}evaluate(l){const d=this.labels,m=this.outputs;if(d.length===1)return m[0].evaluate(l);const b=this.input.evaluate(l);if(b<=d[0])return m[0].evaluate(l);const S=d.length;if(b>=d[S-1])return m[S-1].evaluate(l);const T=gc(d,b),R=Ho.interpolationFactor(this.interpolation,b,d[T],d[T+1]),j=m[T].evaluate(l),W=m[T+1].evaluate(l);switch(this.operator){case"interpolate":return Go[this.type.kind](j,W,R);case"interpolate-hcl":return Go.color(j,W,R,"hcl");case"interpolate-lab":return Go.color(j,W,R,"lab")}}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function ry(u,l,d,m){const b=m-d,S=u-d;return b===0?0:l===1?S/b:(Math.pow(l,S)-1)/(Math.pow(l,b)-1)}class Fh{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expectected at least one argument.");let m=null;const b=d.expectedType;b&&b.kind!=="value"&&(m=b);const S=[];for(const R of l.slice(1)){const j=d.parse(R,1+S.length,m,void 0,{typeAnnotation:"omit"});if(!j)return null;m=m||j.type,S.push(j)}if(!m)throw new Error("No output type");const T=b&&S.some(R=>ke(b,R.type));return new Fh(T?sn:m,S)}evaluate(l){let d,m=null,b=0;for(const S of this.args)if(b++,m=S.evaluate(l),m&&m instanceof wo&&!m.available&&(d||(d=m.name),m=null,b===this.args.length&&(m=d)),m!==null)break;return m}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}class Uh{constructor(l,d){this.type=d.type,this.bindings=[].concat(l),this.result=d}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(const d of this.bindings)l(d[1]);l(this.result)}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);const m=[];for(let S=1;S<l.length-1;S+=2){const T=l[S];if(typeof T!="string")return d.error(`Expected string, but found ${typeof T} instead.`,S);if(/[^a-zA-Z0-9_]/.test(T))return d.error("Variable names must contain only alphanumeric characters or '_'.",S);const R=d.parse(l[S+1],S+1);if(!R)return null;m.push([T,R])}const b=d.parse(l[l.length-1],l.length-1,d.expectedType,m);return b?new Uh(m,b):null}outputDefined(){return this.result.outputDefined()}}class iy{constructor(l,d,m){this.type=l,this.index=d,this.input=m}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const m=d.parse(l[1],1,lt),b=d.parse(l[2],2,he(d.expectedType||sn));return m&&b?new iy(b.type.itemType,m,b):null}evaluate(l){const d=this.index.evaluate(l),m=this.input.evaluate(l);if(d<0)throw new Xr(`Array index out of bounds: ${d} < 0.`);if(d>=m.length)throw new Xr(`Array index out of bounds: ${d} > ${m.length-1}.`);if(d!==Math.floor(d))throw new Xr(`Array index must be an integer, but found ${d} instead.`);return m[d]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class oy{constructor(l,d){this.type=fn,this.needle=l,this.haystack=d}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const m=d.parse(l[1],1,sn),b=d.parse(l[2],2,sn);return m&&b?_e(m.type,[fn,dn,lt,qi,sn])?new oy(m,b):d.error(`Expected first argument to be of type boolean, string, number or null, but found ${be(m.type)} instead`):null}evaluate(l){const d=this.needle.evaluate(l),m=this.haystack.evaluate(l);if(!m)return!1;if(!$e(d,["boolean","string","number","null"]))throw new Xr(`Expected first argument to be of type boolean, string, number or null, but found ${be(hn(d))} instead.`);if(!$e(m,["string","array"]))throw new Xr(`Expected second argument to be of type array or string, but found ${be(hn(m))} instead.`);return m.indexOf(d)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class Vh{constructor(l,d,m){this.type=lt,this.needle=l,this.haystack=d,this.fromIndex=m}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const m=d.parse(l[1],1,sn),b=d.parse(l[2],2,sn);if(!m||!b)return null;if(!_e(m.type,[fn,dn,lt,qi,sn]))return d.error(`Expected first argument to be of type boolean, string, number or null, but found ${be(m.type)} instead`);if(l.length===4){const S=d.parse(l[3],3,lt);return S?new Vh(m,b,S):null}return new Vh(m,b)}evaluate(l){const d=this.needle.evaluate(l),m=this.haystack.evaluate(l);if(!$e(d,["boolean","string","number","null"]))throw new Xr(`Expected first argument to be of type boolean, string, number or null, but found ${be(hn(d))} instead.`);if(!$e(m,["string","array"]))throw new Xr(`Expected second argument to be of type array or string, but found ${be(hn(m))} instead.`);if(this.fromIndex){const b=this.fromIndex.evaluate(l);return m.indexOf(d,b)}return m.indexOf(d)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class ay{constructor(l,d,m,b,S,T){this.inputType=l,this.type=d,this.input=m,this.cases=b,this.outputs=S,this.otherwise=T}static parse(l,d){if(l.length<5)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return d.error("Expected an even number of arguments.");let m,b;d.expectedType&&d.expectedType.kind!=="value"&&(b=d.expectedType);const S={},T=[];for(let W=2;W<l.length-1;W+=2){let H=l[W];const Z=l[W+1];Array.isArray(H)||(H=[H]);const Q=d.concat(W);if(H.length===0)return Q.error("Expected at least one branch label.");for(const oe of H){if(typeof oe!="number"&&typeof oe!="string")return Q.error("Branch labels must be numbers or strings.");if(typeof oe=="number"&&Math.abs(oe)>Number.MAX_SAFE_INTEGER)return Q.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof oe=="number"&&Math.floor(oe)!==oe)return Q.error("Numeric branch labels must be integer values.");if(m){if(Q.checkSubtype(m,hn(oe)))return null}else m=hn(oe);if(S[String(oe)]!==void 0)return Q.error("Branch labels must be unique.");S[String(oe)]=T.length}const ie=d.parse(Z,W,b);if(!ie)return null;b=b||ie.type,T.push(ie)}const R=d.parse(l[1],1,sn);if(!R)return null;const j=d.parse(l[l.length-1],l.length-1,b);return j?R.type.kind!=="value"&&d.concat(1).checkSubtype(m,R.type)?null:new ay(m,b,R,S,T,j):null}evaluate(l){const d=this.input.evaluate(l);return(hn(d)===this.inputType&&this.outputs[this.cases[d]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every(l=>l.outputDefined())&&this.otherwise.outputDefined()}}class sy{constructor(l,d,m){this.type=l,this.branches=d,this.otherwise=m}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return d.error("Expected an odd number of arguments.");let m;d.expectedType&&d.expectedType.kind!=="value"&&(m=d.expectedType);const b=[];for(let T=1;T<l.length-1;T+=2){const R=d.parse(l[T],T,fn);if(!R)return null;const j=d.parse(l[T+1],T+1,m);if(!j)return null;b.push([R,j]),m=m||j.type}const S=d.parse(l[l.length-1],l.length-1,m);if(!S)return null;if(!m)throw new Error("Can't infer output type");return new sy(m,b,S)}evaluate(l){for(const[d,m]of this.branches)if(d.evaluate(l))return m.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(const[d,m]of this.branches)l(d),l(m);l(this.otherwise)}outputDefined(){return this.branches.every(([l,d])=>d.outputDefined())&&this.otherwise.outputDefined()}}class Wh{constructor(l,d,m,b){this.type=l,this.input=d,this.beginIndex=m,this.endIndex=b}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const m=d.parse(l[1],1,sn),b=d.parse(l[2],2,lt);if(!m||!b)return null;if(!_e(m.type,[he(sn),dn,sn]))return d.error(`Expected first argument to be of type array or string, but found ${be(m.type)} instead`);if(l.length===4){const S=d.parse(l[3],3,lt);return S?new Wh(m.type,m,b,S):null}return new Wh(m.type,m,b)}evaluate(l){const d=this.input.evaluate(l),m=this.beginIndex.evaluate(l);if(!$e(d,["string","array"]))throw new Xr(`Expected first argument to be of type array or string, but found ${be(hn(d))} instead.`);if(this.endIndex){const b=this.endIndex.evaluate(l);return d.slice(m,b)}return d.slice(m)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function zx(u,l){return u==="=="||u==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function jx(u,l,d,m){return m.compare(l,d)===0}function xu(u,l,d){const m=u!=="=="&&u!=="!=";return class A7{constructor(S,T,R){this.type=fn,this.lhs=S,this.rhs=T,this.collator=R,this.hasUntypedArgument=S.type.kind==="value"||T.type.kind==="value"}static parse(S,T){if(S.length!==3&&S.length!==4)return T.error("Expected two or three arguments.");const R=S[0];let j=T.parse(S[1],1,sn);if(!j)return null;if(!zx(R,j.type))return T.concat(1).error(`"${R}" comparisons are not supported for type '${be(j.type)}'.`);let W=T.parse(S[2],2,sn);if(!W)return null;if(!zx(R,W.type))return T.concat(2).error(`"${R}" comparisons are not supported for type '${be(W.type)}'.`);if(j.type.kind!==W.type.kind&&j.type.kind!=="value"&&W.type.kind!=="value")return T.error(`Cannot compare types '${be(j.type)}' and '${be(W.type)}'.`);m&&(j.type.kind==="value"&&W.type.kind!=="value"?j=new ha(W.type,[j]):j.type.kind!=="value"&&W.type.kind==="value"&&(W=new ha(j.type,[W])));let H=null;if(S.length===4){if(j.type.kind!=="string"&&W.type.kind!=="string"&&j.type.kind!=="value"&&W.type.kind!=="value")return T.error("Cannot use collator to compare non-string types.");if(H=T.parse(S[3],3,os),!H)return null}return new A7(j,W,H)}evaluate(S){const T=this.lhs.evaluate(S),R=this.rhs.evaluate(S);if(m&&this.hasUntypedArgument){const j=hn(T),W=hn(R);if(j.kind!==W.kind||j.kind!=="string"&&j.kind!=="number")throw new Xr(`Expected arguments for "${u}" to be (string, string) or (number, number), but found (${j.kind}, ${W.kind}) instead.`)}if(this.collator&&!m&&this.hasUntypedArgument){const j=hn(T),W=hn(R);if(j.kind!=="string"||W.kind!=="string")return l(S,T,R)}return this.collator?d(S,T,R,this.collator.evaluate(S)):l(S,T,R)}eachChild(S){S(this.lhs),S(this.rhs),this.collator&&S(this.collator)}outputDefined(){return!0}}}const FC=xu("==",function(u,l,d){return l===d},jx),UC=xu("!=",function(u,l,d){return l!==d},function(u,l,d,m){return!jx(0,l,d,m)}),VC=xu("<",function(u,l,d){return l<d},function(u,l,d,m){return m.compare(l,d)<0}),WC=xu(">",function(u,l,d){return l>d},function(u,l,d,m){return m.compare(l,d)>0}),qC=xu("<=",function(u,l,d){return l<=d},function(u,l,d,m){return m.compare(l,d)<=0}),GC=xu(">=",function(u,l,d){return l>=d},function(u,l,d,m){return m.compare(l,d)>=0});class ly{constructor(l,d,m,b,S){this.type=dn,this.number=l,this.locale=d,this.currency=m,this.minFractionDigits=b,this.maxFractionDigits=S}static parse(l,d){if(l.length!==3)return d.error("Expected two arguments.");const m=d.parse(l[1],1,lt);if(!m)return null;const b=l[2];if(typeof b!="object"||Array.isArray(b))return d.error("NumberFormat options argument must be an object.");let S=null;if(b.locale&&(S=d.parse(b.locale,1,dn),!S))return null;let T=null;if(b.currency&&(T=d.parse(b.currency,1,dn),!T))return null;let R=null;if(b["min-fraction-digits"]&&(R=d.parse(b["min-fraction-digits"],1,lt),!R))return null;let j=null;return b["max-fraction-digits"]&&(j=d.parse(b["max-fraction-digits"],1,lt),!j)?null:new ly(m,S,T,R,j)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class qh{constructor(l){this.type=fe,this.sections=l}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const m=l[1];if(!Array.isArray(m)&&typeof m=="object")return d.error("First argument must be an image or text section.");const b=[];let S=!1;for(let T=1;T<=l.length-1;++T){const R=l[T];if(S&&typeof R=="object"&&!Array.isArray(R)){S=!1;let j=null;if(R["font-scale"]&&(j=d.parse(R["font-scale"],1,lt),!j))return null;let W=null;if(R["text-font"]&&(W=d.parse(R["text-font"],1,he(dn)),!W))return null;let H=null;if(R["text-color"]&&(H=d.parse(R["text-color"],1,$i),!H))return null;const Z=b[b.length-1];Z.scale=j,Z.font=W,Z.textColor=H}else{const j=d.parse(l[T],1,sn);if(!j)return null;const W=j.type.kind;if(W!=="string"&&W!=="value"&&W!=="null"&&W!=="resolvedImage")return d.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");S=!0,b.push({content:j,scale:null,font:null,textColor:null})}}return new qh(b)}evaluate(l){return new Wo(this.sections.map(d=>{const m=d.content.evaluate(l);return hn(m)===ne?new vu("",m,null,null,null):new vu(Yd(m),null,d.scale?d.scale.evaluate(l):null,d.font?d.font.evaluate(l).join(","):null,d.textColor?d.textColor.evaluate(l):null)}))}eachChild(l){for(const d of this.sections)l(d.content),d.scale&&l(d.scale),d.font&&l(d.font),d.textColor&&l(d.textColor)}outputDefined(){return!1}}class cy{constructor(l){this.type=ne,this.input=l}static parse(l,d){if(l.length!==2)return d.error("Expected two arguments.");const m=d.parse(l[1],1,dn);return m?new cy(m):d.error("No image name provided.")}evaluate(l){const d=this.input.evaluate(l),m=wo.fromString(d);return m&&l.availableImages&&(m.available=l.availableImages.indexOf(d)>-1),m}eachChild(l){l(this.input)}outputDefined(){return!1}}class uy{constructor(l){this.type=lt,this.input=l}static parse(l,d){if(l.length!==2)return d.error(`Expected 1 argument, but found ${l.length-1} instead.`);const m=d.parse(l[1],1);return m?m.type.kind!=="array"&&m.type.kind!=="string"&&m.type.kind!=="value"?d.error(`Expected argument of type string or array, but found ${be(m.type)} instead.`):new uy(m):null}evaluate(l){const d=this.input.evaluate(l);if(typeof d=="string"||Array.isArray(d))return d.length;throw new Xr(`Expected value to be of type string or array, but found ${be(hn(d))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}const _u={"==":FC,"!=":UC,">":WC,"<":VC,">=":GC,"<=":qC,array:ha,at:iy,boolean:ha,case:sy,coalesce:Fh,collator:Dh,format:qh,image:cy,in:oy,"index-of":Vh,interpolate:Ho,"interpolate-hcl":Ho,"interpolate-lab":Ho,length:uy,let:Uh,literal:Ws,match:ay,number:ha,"number-format":ly,object:ha,slice:Wh,step:Nn,string:ha,"to-boolean":qs,"to-color":qs,"to-number":qs,"to-string":qs,var:Nh,within:mc};function Bx(u,[l,d,m,b]){l=l.evaluate(u),d=d.evaluate(u),m=m.evaluate(u);const S=b?b.evaluate(u):1,T=$h(l,d,m,S);if(T)throw new Xr(T);return new Xn(l/255,d/255,m/255,S,!1)}function Fx(u,l){return u in l}function dy(u,l){const d=l[u];return d===void 0?null:d}function vc(u){return{type:u}}function Gh(u){return{result:"success",value:u}}function wu(u){return{result:"error",value:u}}function Su(u){return u["property-type"]==="data-driven"||u["property-type"]==="cross-faded-data-driven"}function Ux(u){return!!u.expression&&u.expression.parameters.indexOf("zoom")>-1}function fy(u){return!!u.expression&&u.expression.interpolated}function on(u){return u instanceof Number?"number":u instanceof String?"string":u instanceof Boolean?"boolean":Array.isArray(u)?"array":u===null?"null":typeof u}function Hh(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)}function Dn(u){return u}function Yh(u,l){const d=l.type==="color",m=u.stops&&typeof u.stops[0][0]=="object",b=m||!(m||u.property!==void 0),S=u.type||(fy(l)?"exponential":"interval");if(d||l.type==="padding"){const H=d?Xn.parse:qo.parse;(u=un({},u)).stops&&(u.stops=u.stops.map(Z=>[Z[0],H(Z[1])])),u.default=H(u.default?u.default:l.default)}if(u.colorSpace&&(T=u.colorSpace)!=="rgb"&&T!=="hcl"&&T!=="lab")throw new Error(`Unknown color space: "${u.colorSpace}"`);var T;let R,j,W;if(S==="exponential")R=hy;else if(S==="interval")R=Kh;else if(S==="categorical"){R=Cr,j=Object.create(null);for(const H of u.stops)j[H[0]]=H[1];W=typeof u.stops[0][0]}else{if(S!=="identity")throw new Error(`Unknown function type "${S}"`);R=HC}if(m){const H={},Z=[];for(let oe=0;oe<u.stops.length;oe++){const ue=u.stops[oe],ge=ue[0].zoom;H[ge]===void 0&&(H[ge]={zoom:ge,type:u.type,property:u.property,default:u.default,stops:[]},Z.push(ge)),H[ge].stops.push([ue[0].value,ue[1]])}const Q=[];for(const oe of Z)Q.push([H[oe].zoom,Yh(H[oe],l)]);const ie={name:"linear"};return{kind:"composite",interpolationType:ie,interpolationFactor:Ho.interpolationFactor.bind(void 0,ie),zoomStops:Q.map(oe=>oe[0]),evaluate:({zoom:oe},ue)=>hy({stops:Q,base:u.base},l,oe).evaluate(oe,ue)}}if(b){const H=S==="exponential"?{name:"exponential",base:u.base!==void 0?u.base:1}:null;return{kind:"camera",interpolationType:H,interpolationFactor:Ho.interpolationFactor.bind(void 0,H),zoomStops:u.stops.map(Z=>Z[0]),evaluate:({zoom:Z})=>R(u,l,Z,j,W)}}return{kind:"source",evaluate(H,Z){const Q=Z&&Z.properties?Z.properties[u.property]:void 0;return Q===void 0?lr(u.default,l.default):R(u,l,Q,j,W)}}}function lr(u,l,d){return u!==void 0?u:l!==void 0?l:d!==void 0?d:void 0}function Cr(u,l,d,m,b){return lr(typeof d===b?m[d]:void 0,u.default,l.default)}function Kh(u,l,d){if(on(d)!=="number")return lr(u.default,l.default);const m=u.stops.length;if(m===1||d<=u.stops[0][0])return u.stops[0][1];if(d>=u.stops[m-1][0])return u.stops[m-1][1];const b=gc(u.stops.map(S=>S[0]),d);return u.stops[b][1]}function hy(u,l,d){const m=u.base!==void 0?u.base:1;if(on(d)!=="number")return lr(u.default,l.default);const b=u.stops.length;if(b===1||d<=u.stops[0][0])return u.stops[0][1];if(d>=u.stops[b-1][0])return u.stops[b-1][1];const S=gc(u.stops.map(H=>H[0]),d),T=function(H,Z,Q,ie){const oe=ie-Q,ue=H-Q;return oe===0?0:Z===1?ue/oe:(Math.pow(Z,ue)-1)/(Math.pow(Z,oe)-1)}(d,m,u.stops[S][0],u.stops[S+1][0]),R=u.stops[S][1],j=u.stops[S+1][1],W=Go[l.type]||Dn;return typeof R.evaluate=="function"?{evaluate(...H){const Z=R.evaluate.apply(void 0,H),Q=j.evaluate.apply(void 0,H);if(Z!==void 0&&Q!==void 0)return W(Z,Q,T,u.colorSpace)}}:W(R,j,T,u.colorSpace)}function HC(u,l,d){switch(l.type){case"color":d=Xn.parse(d);break;case"formatted":d=Wo.fromString(d.toString());break;case"resolvedImage":d=wo.fromString(d.toString());break;case"padding":d=qo.parse(d);break;default:on(d)===l.type||l.type==="enum"&&l.values[d]||(d=void 0)}return lr(d,u.default,l.default)}pa.register(_u,{error:[{kind:"error"},[dn],(u,[l])=>{throw new Xr(l.evaluate(u))}],typeof:[dn,[sn],(u,[l])=>be(hn(l.evaluate(u)))],"to-rgba":[he(lt,4),[$i],(u,[l])=>{const[d,m,b,S]=l.evaluate(u).rgb;return[255*d,255*m,255*b,S]}],rgb:[$i,[lt,lt,lt],Bx],rgba:[$i,[lt,lt,lt,lt],Bx],has:{type:fn,overloads:[[[dn],(u,[l])=>Fx(l.evaluate(u),u.properties())],[[dn,Vo],(u,[l,d])=>Fx(l.evaluate(u),d.evaluate(u))]]},get:{type:sn,overloads:[[[dn],(u,[l])=>dy(l.evaluate(u),u.properties())],[[dn,Vo],(u,[l,d])=>dy(l.evaluate(u),d.evaluate(u))]]},"feature-state":[sn,[dn],(u,[l])=>dy(l.evaluate(u),u.featureState||{})],properties:[Vo,[],u=>u.properties()],"geometry-type":[dn,[],u=>u.geometryType()],id:[sn,[],u=>u.id()],zoom:[lt,[],u=>u.globals.zoom],"heatmap-density":[lt,[],u=>u.globals.heatmapDensity||0],"line-progress":[lt,[],u=>u.globals.lineProgress||0],accumulated:[sn,[],u=>u.globals.accumulated===void 0?null:u.globals.accumulated],"+":[lt,vc(lt),(u,l)=>{let d=0;for(const m of l)d+=m.evaluate(u);return d}],"*":[lt,vc(lt),(u,l)=>{let d=1;for(const m of l)d*=m.evaluate(u);return d}],"-":{type:lt,overloads:[[[lt,lt],(u,[l,d])=>l.evaluate(u)-d.evaluate(u)],[[lt],(u,[l])=>-l.evaluate(u)]]},"/":[lt,[lt,lt],(u,[l,d])=>l.evaluate(u)/d.evaluate(u)],"%":[lt,[lt,lt],(u,[l,d])=>l.evaluate(u)%d.evaluate(u)],ln2:[lt,[],()=>Math.LN2],pi:[lt,[],()=>Math.PI],e:[lt,[],()=>Math.E],"^":[lt,[lt,lt],(u,[l,d])=>Math.pow(l.evaluate(u),d.evaluate(u))],sqrt:[lt,[lt],(u,[l])=>Math.sqrt(l.evaluate(u))],log10:[lt,[lt],(u,[l])=>Math.log(l.evaluate(u))/Math.LN10],ln:[lt,[lt],(u,[l])=>Math.log(l.evaluate(u))],log2:[lt,[lt],(u,[l])=>Math.log(l.evaluate(u))/Math.LN2],sin:[lt,[lt],(u,[l])=>Math.sin(l.evaluate(u))],cos:[lt,[lt],(u,[l])=>Math.cos(l.evaluate(u))],tan:[lt,[lt],(u,[l])=>Math.tan(l.evaluate(u))],asin:[lt,[lt],(u,[l])=>Math.asin(l.evaluate(u))],acos:[lt,[lt],(u,[l])=>Math.acos(l.evaluate(u))],atan:[lt,[lt],(u,[l])=>Math.atan(l.evaluate(u))],min:[lt,vc(lt),(u,l)=>Math.min(...l.map(d=>d.evaluate(u)))],max:[lt,vc(lt),(u,l)=>Math.max(...l.map(d=>d.evaluate(u)))],abs:[lt,[lt],(u,[l])=>Math.abs(l.evaluate(u))],round:[lt,[lt],(u,[l])=>{const d=l.evaluate(u);return d<0?-Math.round(-d):Math.round(d)}],floor:[lt,[lt],(u,[l])=>Math.floor(l.evaluate(u))],ceil:[lt,[lt],(u,[l])=>Math.ceil(l.evaluate(u))],"filter-==":[fn,[dn,sn],(u,[l,d])=>u.properties()[l.value]===d.value],"filter-id-==":[fn,[sn],(u,[l])=>u.id()===l.value],"filter-type-==":[fn,[dn],(u,[l])=>u.geometryType()===l.value],"filter-<":[fn,[dn,sn],(u,[l,d])=>{const m=u.properties()[l.value],b=d.value;return typeof m==typeof b&&m<b}],"filter-id-<":[fn,[sn],(u,[l])=>{const d=u.id(),m=l.value;return typeof d==typeof m&&d<m}],"filter->":[fn,[dn,sn],(u,[l,d])=>{const m=u.properties()[l.value],b=d.value;return typeof m==typeof b&&m>b}],"filter-id->":[fn,[sn],(u,[l])=>{const d=u.id(),m=l.value;return typeof d==typeof m&&d>m}],"filter-<=":[fn,[dn,sn],(u,[l,d])=>{const m=u.properties()[l.value],b=d.value;return typeof m==typeof b&&m<=b}],"filter-id-<=":[fn,[sn],(u,[l])=>{const d=u.id(),m=l.value;return typeof d==typeof m&&d<=m}],"filter->=":[fn,[dn,sn],(u,[l,d])=>{const m=u.properties()[l.value],b=d.value;return typeof m==typeof b&&m>=b}],"filter-id->=":[fn,[sn],(u,[l])=>{const d=u.id(),m=l.value;return typeof d==typeof m&&d>=m}],"filter-has":[fn,[sn],(u,[l])=>l.value in u.properties()],"filter-has-id":[fn,[],u=>u.id()!==null&&u.id()!==void 0],"filter-type-in":[fn,[he(dn)],(u,[l])=>l.value.indexOf(u.geometryType())>=0],"filter-id-in":[fn,[he(sn)],(u,[l])=>l.value.indexOf(u.id())>=0],"filter-in-small":[fn,[dn,he(sn)],(u,[l,d])=>d.value.indexOf(u.properties()[l.value])>=0],"filter-in-large":[fn,[dn,he(sn)],(u,[l,d])=>function(m,b,S,T){for(;S<=T;){const R=S+T>>1;if(b[R]===m)return!0;b[R]>m?T=R-1:S=R+1}return!1}(u.properties()[l.value],d.value,0,d.value.length-1)],all:{type:fn,overloads:[[[fn,fn],(u,[l,d])=>l.evaluate(u)&&d.evaluate(u)],[vc(fn),(u,l)=>{for(const d of l)if(!d.evaluate(u))return!1;return!0}]]},any:{type:fn,overloads:[[[fn,fn],(u,[l,d])=>l.evaluate(u)||d.evaluate(u)],[vc(fn),(u,l)=>{for(const d of l)if(d.evaluate(u))return!0;return!1}]]},"!":[fn,[fn],(u,[l])=>!l.evaluate(u)],"is-supported-script":[fn,[dn],(u,[l])=>{const d=u.globals&&u.globals.isSupportedScript;return!d||d(l.evaluate(u))}],upcase:[dn,[dn],(u,[l])=>l.evaluate(u).toUpperCase()],downcase:[dn,[dn],(u,[l])=>l.evaluate(u).toLowerCase()],concat:[dn,vc(sn),(u,l)=>l.map(d=>Yd(d.evaluate(u))).join("")],"resolved-locale":[dn,[os],(u,[l])=>l.evaluate(u).resolvedLocale()]});class py{constructor(l,d){var m;this.expression=l,this._warningHistory={},this._evaluator=new $x,this._defaultValue=d?(m=d).type==="color"&&Hh(m.default)?new Xn(0,0,0,0):m.type==="color"?Xn.parse(m.default)||null:m.type==="padding"?qo.parse(m.default)||null:m.type==="variableAnchorOffsetCollection"?Ri.parse(m.default)||null:m.default===void 0?null:m.default:null,this._enumValues=d&&d.type==="enum"?d.values:null}evaluateWithoutErrorHandling(l,d,m,b,S,T){return this._evaluator.globals=l,this._evaluator.feature=d,this._evaluator.featureState=m,this._evaluator.canonical=b,this._evaluator.availableImages=S||null,this._evaluator.formattedSection=T,this.expression.evaluate(this._evaluator)}evaluate(l,d,m,b,S,T){this._evaluator.globals=l,this._evaluator.feature=d||null,this._evaluator.featureState=m||null,this._evaluator.canonical=b,this._evaluator.availableImages=S||null,this._evaluator.formattedSection=T||null;try{const R=this.expression.evaluate(this._evaluator);if(R==null||typeof R=="number"&&R!=R)return this._defaultValue;if(this._enumValues&&!(R in this._enumValues))throw new Xr(`Expected value to be one of ${Object.keys(this._enumValues).map(j=>JSON.stringify(j)).join(", ")}, but found ${JSON.stringify(R)} instead.`);return R}catch(R){return this._warningHistory[R.message]||(this._warningHistory[R.message]=!0,typeof console<"u"&&console.warn(R.message)),this._defaultValue}}}function Zh(u){return Array.isArray(u)&&u.length>0&&typeof u[0]=="string"&&u[0]in _u}function Xh(u,l){const d=new Rh(_u,zh,[],l?function(b){const S={color:$i,string:dn,number:lt,enum:dn,boolean:fn,formatted:fe,padding:X,resolvedImage:ne,variableAnchorOffsetCollection:se};return b.type==="array"?he(S[b.value]||sn,b.length):S[b.type]}(l):void 0),m=d.parse(u,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return m?Gh(new py(m,l)):wu(d.errors)}class Jh{constructor(l,d){this.kind=l,this._styleExpression=d,this.isStateDependent=l!=="constant"&&!Jd(d.expression)}evaluateWithoutErrorHandling(l,d,m,b,S,T){return this._styleExpression.evaluateWithoutErrorHandling(l,d,m,b,S,T)}evaluate(l,d,m,b,S,T){return this._styleExpression.evaluate(l,d,m,b,S,T)}}class Qh{constructor(l,d,m,b){this.kind=l,this.zoomStops=m,this._styleExpression=d,this.isStateDependent=l!=="camera"&&!Jd(d.expression),this.interpolationType=b}evaluateWithoutErrorHandling(l,d,m,b,S,T){return this._styleExpression.evaluateWithoutErrorHandling(l,d,m,b,S,T)}evaluate(l,d,m,b,S,T){return this._styleExpression.evaluate(l,d,m,b,S,T)}interpolationFactor(l,d,m){return this.interpolationType?Ho.interpolationFactor(this.interpolationType,l,d,m):0}}function my(u,l){const d=Xh(u,l);if(d.result==="error")return d;const m=d.value.expression,b=jh(m);if(!b&&!Su(l))return wu([new Rn("","data expressions not supported")]);const S=bu(m,["zoom"]);if(!S&&!Ux(l))return wu([new Rn("","zoom expressions not supported")]);const T=Eu(m);return T||S?T instanceof Rn?wu([T]):T instanceof Ho&&!fy(l)?wu([new Rn("",'"interpolate" expressions cannot be used with this property')]):Gh(T?new Qh(b?"camera":"composite",d.value,T.labels,T instanceof Ho?T.interpolation:void 0):new Jh(b?"constant":"source",d.value)):wu([new Rn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Qd{constructor(l,d){this._parameters=l,this._specification=d,un(this,Yh(this._parameters,this._specification))}static deserialize(l){return new Qd(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function Eu(u){let l=null;if(u instanceof Uh)l=Eu(u.result);else if(u instanceof Fh){for(const d of u.args)if(l=Eu(d),l)break}else(u instanceof Nn||u instanceof Ho)&&u.input instanceof pa&&u.input.name==="zoom"&&(l=u);return l instanceof Rn||u.eachChild(d=>{const m=Eu(d);m instanceof Rn?l=m:!l&&m?l=new Rn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):l&&m&&l!==m&&(l=new Rn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),l}function gy(u){if(u===!0||u===!1)return!0;if(!Array.isArray(u)||u.length===0)return!1;switch(u[0]){case"has":return u.length>=2&&u[1]!=="$id"&&u[1]!=="$type";case"in":return u.length>=3&&(typeof u[1]!="string"||Array.isArray(u[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return u.length!==3||Array.isArray(u[1])||Array.isArray(u[2]);case"any":case"all":for(const l of u.slice(1))if(!gy(l)&&typeof l!="boolean")return!1;return!0;default:return!0}}const YC={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function yy(u){if(u==null)return{filter:()=>!0,needGeometry:!1};gy(u)||(u=ep(u));const l=Xh(u,YC);if(l.result==="error")throw new Error(l.value.map(d=>`${d.key}: ${d.message}`).join(", "));return{filter:(d,m,b)=>l.value.evaluate(d,m,{},b),needGeometry:Vx(u)}}function KC(u,l){return u<l?-1:u>l?1:0}function Vx(u){if(!Array.isArray(u))return!1;if(u[0]==="within")return!0;for(let l=1;l<u.length;l++)if(Vx(u[l]))return!0;return!1}function ep(u){if(!u)return!0;const l=u[0];return u.length<=1?l!=="any":l==="=="?vy(u[1],u[2],"=="):l==="!="?ef(vy(u[1],u[2],"==")):l==="<"||l===">"||l==="<="||l===">="?vy(u[1],u[2],l):l==="any"?(d=u.slice(1),["any"].concat(d.map(ep))):l==="all"?["all"].concat(u.slice(1).map(ep)):l==="none"?["all"].concat(u.slice(1).map(ep).map(ef)):l==="in"?Wx(u[1],u.slice(2)):l==="!in"?ef(Wx(u[1],u.slice(2))):l==="has"?by(u[1]):l==="!has"?ef(by(u[1])):l!=="within"||u;var d}function vy(u,l,d){switch(u){case"$type":return[`filter-type-${d}`,l];case"$id":return[`filter-id-${d}`,l];default:return[`filter-${d}`,u,l]}}function Wx(u,l){if(l.length===0)return!1;switch(u){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some(d=>typeof d!=typeof l[0])?["filter-in-large",u,["literal",l.sort(KC)]]:["filter-in-small",u,["literal",l]]}}function by(u){switch(u){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",u]}}function ef(u){return["!",u]}function Cu(u){const l=typeof u;if(l==="number"||l==="boolean"||l==="string"||u==null)return JSON.stringify(u);if(Array.isArray(u)){let b="[";for(const S of u)b+=`${Cu(S)},`;return`${b}]`}const d=Object.keys(u).sort();let m="{";for(let b=0;b<d.length;b++)m+=`${JSON.stringify(d[b])}:${Cu(u[d[b]])},`;return`${m}}`}function ZC(u){let l="";for(const d of $n)l+=`/${Cu(u[d])}`;return l}function xy(u){const l=u.value;return l?[new Ue(u.key,l,"constants have been deprecated as of v8")]:[]}function Vr(u){return u instanceof Number||u instanceof String||u instanceof Boolean?u.valueOf():u}function Gs(u){if(Array.isArray(u))return u.map(Gs);if(u instanceof Object&&!(u instanceof Number||u instanceof String||u instanceof Boolean)){const l={};for(const d in u)l[d]=Gs(u[d]);return l}return Vr(u)}function io(u){const l=u.key,d=u.value,m=u.valueSpec||{},b=u.objectElementValidators||{},S=u.style,T=u.styleSpec,R=u.validateSpec;let j=[];const W=on(d);if(W!=="object")return[new Ue(l,d,`object expected, ${W} found`)];for(const H in d){const Z=H.split(".")[0],Q=m[Z]||m["*"];let ie;if(b[Z])ie=b[Z];else if(m[Z])ie=R;else if(b["*"])ie=b["*"];else{if(!m["*"]){j.push(new Ue(l,d[H],`unknown property "${H}"`));continue}ie=R}j=j.concat(ie({key:(l&&`${l}.`)+H,value:d[H],valueSpec:Q,style:S,styleSpec:T,object:d,objectKey:H,validateSpec:R},d))}for(const H in m)b[H]||m[H].required&&m[H].default===void 0&&d[H]===void 0&&j.push(new Ue(l,d,`missing required property "${H}"`));return j}function tf(u){const l=u.value,d=u.valueSpec,m=u.style,b=u.styleSpec,S=u.key,T=u.arrayElementValidator||u.validateSpec;if(on(l)!=="array")return[new Ue(S,l,`array expected, ${on(l)} found`)];if(d.length&&l.length!==d.length)return[new Ue(S,l,`array length ${d.length} expected, length ${l.length} found`)];if(d["min-length"]&&l.length<d["min-length"])return[new Ue(S,l,`array length at least ${d["min-length"]} expected, length ${l.length} found`)];let R={type:d.value,values:d.values};b.$version<7&&(R.function=d.function),on(d.value)==="object"&&(R=d.value);let j=[];for(let W=0;W<l.length;W++)j=j.concat(T({array:l,arrayIndex:W,value:l[W],valueSpec:R,validateSpec:u.validateSpec,style:m,styleSpec:b,key:`${S}[${W}]`}));return j}function nf(u){const l=u.key,d=u.value,m=u.valueSpec;let b=on(d);return b==="number"&&d!=d&&(b="NaN"),b!=="number"?[new Ue(l,d,`number expected, ${b} found`)]:"minimum"in m&&d<m.minimum?[new Ue(l,d,`${d} is less than the minimum value ${m.minimum}`)]:"maximum"in m&&d>m.maximum?[new Ue(l,d,`${d} is greater than the maximum value ${m.maximum}`)]:[]}function _y(u){const l=u.valueSpec,d=Vr(u.value.type);let m,b,S,T={};const R=d!=="categorical"&&u.value.property===void 0,j=!R,W=on(u.value.stops)==="array"&&on(u.value.stops[0])==="array"&&on(u.value.stops[0][0])==="object",H=io({key:u.key,value:u.value,valueSpec:u.styleSpec.function,validateSpec:u.validateSpec,style:u.style,styleSpec:u.styleSpec,objectElementValidators:{stops:function(ie){if(d==="identity")return[new Ue(ie.key,ie.value,'identity function may not have a "stops" property')];let oe=[];const ue=ie.value;return oe=oe.concat(tf({key:ie.key,value:ue,valueSpec:ie.valueSpec,validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec,arrayElementValidator:Z})),on(ue)==="array"&&ue.length===0&&oe.push(new Ue(ie.key,ue,"array must have at least one stop")),oe},default:function(ie){return ie.validateSpec({key:ie.key,value:ie.value,valueSpec:l,validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec})}}});return d==="identity"&&R&&H.push(new Ue(u.key,u.value,'missing required property "property"')),d==="identity"||u.value.stops||H.push(new Ue(u.key,u.value,'missing required property "stops"')),d==="exponential"&&u.valueSpec.expression&&!fy(u.valueSpec)&&H.push(new Ue(u.key,u.value,"exponential functions not supported")),u.styleSpec.$version>=8&&(j&&!Su(u.valueSpec)?H.push(new Ue(u.key,u.value,"property functions not supported")):R&&!Ux(u.valueSpec)&&H.push(new Ue(u.key,u.value,"zoom functions not supported"))),d!=="categorical"&&!W||u.value.property!==void 0||H.push(new Ue(u.key,u.value,'"property" property is required')),H;function Z(ie){let oe=[];const ue=ie.value,ge=ie.key;if(on(ue)!=="array")return[new Ue(ge,ue,`array expected, ${on(ue)} found`)];if(ue.length!==2)return[new Ue(ge,ue,`array length 2 expected, length ${ue.length} found`)];if(W){if(on(ue[0])!=="object")return[new Ue(ge,ue,`object expected, ${on(ue[0])} found`)];if(ue[0].zoom===void 0)return[new Ue(ge,ue,"object stop key must have zoom")];if(ue[0].value===void 0)return[new Ue(ge,ue,"object stop key must have value")];if(S&&S>Vr(ue[0].zoom))return[new Ue(ge,ue[0].zoom,"stop zoom values must appear in ascending order")];Vr(ue[0].zoom)!==S&&(S=Vr(ue[0].zoom),b=void 0,T={}),oe=oe.concat(io({key:`${ge}[0]`,value:ue[0],valueSpec:{zoom:{}},validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec,objectElementValidators:{zoom:nf,value:Q}}))}else oe=oe.concat(Q({key:`${ge}[0]`,value:ue[0],valueSpec:{},validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec},ue));return Zh(Gs(ue[1]))?oe.concat([new Ue(`${ge}[1]`,ue[1],"expressions are not allowed in function stops.")]):oe.concat(ie.validateSpec({key:`${ge}[1]`,value:ue[1],valueSpec:l,validateSpec:ie.validateSpec,style:ie.style,styleSpec:ie.styleSpec}))}function Q(ie,oe){const ue=on(ie.value),ge=Vr(ie.value),xe=ie.value!==null?ie.value:oe;if(m){if(ue!==m)return[new Ue(ie.key,xe,`${ue} stop domain type must match previous stop domain type ${m}`)]}else m=ue;if(ue!=="number"&&ue!=="string"&&ue!=="boolean")return[new Ue(ie.key,xe,"stop domain value must be a number, string, or boolean")];if(ue!=="number"&&d!=="categorical"){let Re=`number expected, ${ue} found`;return Su(l)&&d===void 0&&(Re+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ue(ie.key,xe,Re)]}return d!=="categorical"||ue!=="number"||isFinite(ge)&&Math.floor(ge)===ge?d!=="categorical"&&ue==="number"&&b!==void 0&&ge<b?[new Ue(ie.key,xe,"stop domain values must appear in ascending order")]:(b=ge,d==="categorical"&&ge in T?[new Ue(ie.key,xe,"stop domain values must be unique")]:(T[ge]=!0,[])):[new Ue(ie.key,xe,`integer expected, found ${ge}`)]}}function Tu(u){const l=(u.expressionContext==="property"?my:Xh)(Gs(u.value),u.valueSpec);if(l.result==="error")return l.value.map(m=>new Ue(`${u.key}${m.key}`,u.value,m.message));const d=l.value.expression||l.value._styleExpression.expression;if(u.expressionContext==="property"&&u.propertyKey==="text-font"&&!d.outputDefined())return[new Ue(u.key,u.value,`Invalid data expression for "${u.propertyKey}". Output values must be contained as literals within the expression.`)];if(u.expressionContext==="property"&&u.propertyType==="layout"&&!Jd(d))return[new Ue(u.key,u.value,'"feature-state" data expressions are not supported with layout properties.')];if(u.expressionContext==="filter"&&!Jd(d))return[new Ue(u.key,u.value,'"feature-state" data expressions are not supported with filters.')];if(u.expressionContext&&u.expressionContext.indexOf("cluster")===0){if(!bu(d,["zoom","feature-state"]))return[new Ue(u.key,u.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(u.expressionContext==="cluster-initial"&&!jh(d))return[new Ue(u.key,u.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ol(u){const l=u.key,d=u.value,m=u.valueSpec,b=[];return Array.isArray(m.values)?m.values.indexOf(Vr(d))===-1&&b.push(new Ue(l,d,`expected one of [${m.values.join(", ")}], ${JSON.stringify(d)} found`)):Object.keys(m.values).indexOf(Vr(d))===-1&&b.push(new Ue(l,d,`expected one of [${Object.keys(m.values).join(", ")}], ${JSON.stringify(d)} found`)),b}function wy(u){return gy(Gs(u.value))?Tu(un({},u,{expressionContext:"filter",valueSpec:{value:"boolean"}})):qx(u)}function qx(u){const l=u.value,d=u.key;if(on(l)!=="array")return[new Ue(d,l,`array expected, ${on(l)} found`)];const m=u.styleSpec;let b,S=[];if(l.length<1)return[new Ue(d,l,"filter array must have at least 1 element")];switch(S=S.concat(Ol({key:`${d}[0]`,value:l[0],valueSpec:m.filter_operator,style:u.style,styleSpec:u.styleSpec})),Vr(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&Vr(l[1])==="$type"&&S.push(new Ue(d,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&S.push(new Ue(d,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(b=on(l[1]),b!=="string"&&S.push(new Ue(`${d}[1]`,l[1],`string expected, ${b} found`)));for(let T=2;T<l.length;T++)b=on(l[T]),Vr(l[1])==="$type"?S=S.concat(Ol({key:`${d}[${T}]`,value:l[T],valueSpec:m.geometry_type,style:u.style,styleSpec:u.styleSpec})):b!=="string"&&b!=="number"&&b!=="boolean"&&S.push(new Ue(`${d}[${T}]`,l[T],`string, number, or boolean expected, ${b} found`));break;case"any":case"all":case"none":for(let T=1;T<l.length;T++)S=S.concat(qx({key:`${d}[${T}]`,value:l[T],style:u.style,styleSpec:u.styleSpec}));break;case"has":case"!has":b=on(l[1]),l.length!==2?S.push(new Ue(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):b!=="string"&&S.push(new Ue(`${d}[1]`,l[1],`string expected, ${b} found`));break;case"within":b=on(l[1]),l.length!==2?S.push(new Ue(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):b!=="object"&&S.push(new Ue(`${d}[1]`,l[1],`object expected, ${b} found`))}return S}function Gx(u,l){const d=u.key,m=u.validateSpec,b=u.style,S=u.styleSpec,T=u.value,R=u.objectKey,j=S[`${l}_${u.layerType}`];if(!j)return[];const W=R.match(/^(.*)-transition$/);if(l==="paint"&&W&&j[W[1]]&&j[W[1]].transition)return m({key:d,value:T,valueSpec:S.transition,style:b,styleSpec:S});const H=u.valueSpec||j[R];if(!H)return[new Ue(d,T,`unknown property "${R}"`)];let Z;if(on(T)==="string"&&Su(H)&&!H.tokens&&(Z=/^{([^}]+)}$/.exec(T)))return[new Ue(d,T,`"${R}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Z[1])} }\`.`)];const Q=[];return u.layerType==="symbol"&&(R==="text-field"&&b&&!b.glyphs&&Q.push(new Ue(d,T,'use of "text-field" requires a style "glyphs" property')),R==="text-font"&&Hh(Gs(T))&&Vr(T.type)==="identity"&&Q.push(new Ue(d,T,'"text-font" does not support identity functions'))),Q.concat(m({key:u.key,value:T,valueSpec:H,style:b,styleSpec:S,expressionContext:"property",propertyType:l,propertyKey:R}))}function Hx(u){return Gx(u,"paint")}function Yx(u){return Gx(u,"layout")}function rf(u){let l=[];const d=u.value,m=u.key,b=u.style,S=u.styleSpec;d.type||d.ref||l.push(new Ue(m,d,'either "type" or "ref" is required'));let T=Vr(d.type);const R=Vr(d.ref);if(d.id){const j=Vr(d.id);for(let W=0;W<u.arrayIndex;W++){const H=b.layers[W];Vr(H.id)===j&&l.push(new Ue(m,d.id,`duplicate layer id "${d.id}", previously used at line ${H.id.__line__}`))}}if("ref"in d){let j;["type","source","source-layer","filter","layout"].forEach(W=>{W in d&&l.push(new Ue(m,d[W],`"${W}" is prohibited for ref layers`))}),b.layers.forEach(W=>{Vr(W.id)===R&&(j=W)}),j?j.ref?l.push(new Ue(m,d.ref,"ref cannot reference another ref layer")):T=Vr(j.type):l.push(new Ue(m,d.ref,`ref layer "${R}" not found`))}else if(T!=="background")if(d.source){const j=b.sources&&b.sources[d.source],W=j&&Vr(j.type);j?W==="vector"&&T==="raster"?l.push(new Ue(m,d.source,`layer "${d.id}" requires a raster source`)):W!=="raster-dem"&&T==="hillshade"?l.push(new Ue(m,d.source,`layer "${d.id}" requires a raster-dem source`)):W==="raster"&&T!=="raster"?l.push(new Ue(m,d.source,`layer "${d.id}" requires a vector source`)):W!=="vector"||d["source-layer"]?W==="raster-dem"&&T!=="hillshade"?l.push(new Ue(m,d.source,"raster-dem source can only be used with layer type 'hillshade'.")):T!=="line"||!d.paint||!d.paint["line-gradient"]||W==="geojson"&&j.lineMetrics||l.push(new Ue(m,d,`layer "${d.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new Ue(m,d,`layer "${d.id}" must specify a "source-layer"`)):l.push(new Ue(m,d.source,`source "${d.source}" not found`))}else l.push(new Ue(m,d,'missing required property "source"'));return l=l.concat(io({key:m,value:d,valueSpec:S.layer,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,objectElementValidators:{"*":()=>[],type:()=>u.validateSpec({key:`${m}.type`,value:d.type,valueSpec:S.layer.type,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,object:d,objectKey:"type"}),filter:wy,layout:j=>io({layer:d,key:j.key,value:j.value,style:j.style,styleSpec:j.styleSpec,validateSpec:j.validateSpec,objectElementValidators:{"*":W=>Yx(un({layerType:T},W))}}),paint:j=>io({layer:d,key:j.key,value:j.value,style:j.style,styleSpec:j.styleSpec,validateSpec:j.validateSpec,objectElementValidators:{"*":W=>Hx(un({layerType:T},W))}})}})),l}function ss(u){const l=u.value,d=u.key,m=on(l);return m!=="string"?[new Ue(d,l,`string expected, ${m} found`)]:[]}const Yo={promoteId:function({key:u,value:l}){if(on(l)==="string")return ss({key:u,value:l});{const d=[];for(const m in l)d.push(...ss({key:`${u}.${m}`,value:l[m]}));return d}}};function of(u){const l=u.value,d=u.key,m=u.styleSpec,b=u.style,S=u.validateSpec;if(!l.type)return[new Ue(d,l,'"type" is required')];const T=Vr(l.type);let R;switch(T){case"vector":case"raster":return R=io({key:d,value:l,valueSpec:m[`source_${T.replace("-","_")}`],style:u.style,styleSpec:m,objectElementValidators:Yo,validateSpec:S}),R;case"raster-dem":return R=function(j){var W;const H=(W=j.sourceName)!==null&&W!==void 0?W:"",Z=j.value,Q=j.styleSpec,ie=Q.source_raster_dem,oe=j.style;let ue=[];const ge=on(Z);if(Z===void 0)return ue;if(ge!=="object")return ue.push(new Ue("source_raster_dem",Z,`object expected, ${ge} found`)),ue;const xe=Vr(Z.encoding)==="custom",Re=["redFactor","greenFactor","blueFactor","baseShift"],Te=j.value.encoding?`"${j.value.encoding}"`:"Default";for(const Le in Z)!xe&&Re.includes(Le)?ue.push(new Ue(Le,Z[Le],`In "${H}": "${Le}" is only valid when "encoding" is set to "custom". ${Te} encoding found`)):ie[Le]?ue=ue.concat(j.validateSpec({key:Le,value:Z[Le],valueSpec:ie[Le],validateSpec:j.validateSpec,style:oe,styleSpec:Q})):ue.push(new Ue(Le,Z[Le],`unknown property "${Le}"`));return ue}({sourceName:d,value:l,style:u.style,styleSpec:m,validateSpec:S}),R;case"geojson":if(R=io({key:d,value:l,valueSpec:m.source_geojson,style:b,styleSpec:m,validateSpec:S,objectElementValidators:Yo}),l.cluster)for(const j in l.clusterProperties){const[W,H]=l.clusterProperties[j],Z=typeof W=="string"?[W,["accumulated"],["get",j]]:W;R.push(...Tu({key:`${d}.${j}.map`,value:H,validateSpec:S,expressionContext:"cluster-map"})),R.push(...Tu({key:`${d}.${j}.reduce`,value:Z,validateSpec:S,expressionContext:"cluster-reduce"}))}return R;case"video":return io({key:d,value:l,valueSpec:m.source_video,style:b,validateSpec:S,styleSpec:m});case"image":return io({key:d,value:l,valueSpec:m.source_image,style:b,validateSpec:S,styleSpec:m});case"canvas":return[new Ue(d,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ol({key:`${d}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:b,validateSpec:S,styleSpec:m})}}function Kx(u){const l=u.value,d=u.styleSpec,m=d.light,b=u.style;let S=[];const T=on(l);if(l===void 0)return S;if(T!=="object")return S=S.concat([new Ue("light",l,`object expected, ${T} found`)]),S;for(const R in l){const j=R.match(/^(.*)-transition$/);S=S.concat(j&&m[j[1]]&&m[j[1]].transition?u.validateSpec({key:R,value:l[R],valueSpec:d.transition,validateSpec:u.validateSpec,style:b,styleSpec:d}):m[R]?u.validateSpec({key:R,value:l[R],valueSpec:m[R],validateSpec:u.validateSpec,style:b,styleSpec:d}):[new Ue(R,l[R],`unknown property "${R}"`)])}return S}function Zx(u){const l=u.value,d=u.styleSpec,m=d.terrain,b=u.style;let S=[];const T=on(l);if(l===void 0)return S;if(T!=="object")return S=S.concat([new Ue("terrain",l,`object expected, ${T} found`)]),S;for(const R in l)S=S.concat(m[R]?u.validateSpec({key:R,value:l[R],valueSpec:m[R],validateSpec:u.validateSpec,style:b,styleSpec:d}):[new Ue(R,l[R],`unknown property "${R}"`)]);return S}function Xx(u){let l=[];const d=u.value,m=u.key;if(Array.isArray(d)){const b=[],S=[];for(const T in d)d[T].id&&b.includes(d[T].id)&&l.push(new Ue(m,d,`all the sprites' ids must be unique, but ${d[T].id} is duplicated`)),b.push(d[T].id),d[T].url&&S.includes(d[T].url)&&l.push(new Ue(m,d,`all the sprites' URLs must be unique, but ${d[T].url} is duplicated`)),S.push(d[T].url),l=l.concat(io({key:`${m}[${T}]`,value:d[T],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:u.validateSpec}));return l}return ss({key:m,value:d})}const ku={"*":()=>[],array:tf,boolean:function(u){const l=u.value,d=u.key,m=on(l);return m!=="boolean"?[new Ue(d,l,`boolean expected, ${m} found`)]:[]},number:nf,color:function(u){const l=u.key,d=u.value,m=on(d);return m!=="string"?[new Ue(l,d,`color expected, ${m} found`)]:Xn.parse(String(d))?[]:[new Ue(l,d,`color expected, "${d}" found`)]},constants:xy,enum:Ol,filter:wy,function:_y,layer:rf,object:io,source:of,light:Kx,terrain:Zx,string:ss,formatted:function(u){return ss(u).length===0?[]:Tu(u)},resolvedImage:function(u){return ss(u).length===0?[]:Tu(u)},padding:function(u){const l=u.key,d=u.value;if(on(d)==="array"){if(d.length<1||d.length>4)return[new Ue(l,d,`padding requires 1 to 4 values; ${d.length} values found`)];const m={type:"number"};let b=[];for(let S=0;S<d.length;S++)b=b.concat(u.validateSpec({key:`${l}[${S}]`,value:d[S],validateSpec:u.validateSpec,valueSpec:m}));return b}return nf({key:l,value:d,valueSpec:{}})},variableAnchorOffsetCollection:function(u){const l=u.key,d=u.value,m=on(d),b=u.styleSpec;if(m!=="array"||d.length<1||d.length%2!=0)return[new Ue(l,d,"variableAnchorOffsetCollection requires a non-empty array of even length")];let S=[];for(let T=0;T<d.length;T+=2)S=S.concat(Ol({key:`${l}[${T}]`,value:d[T],valueSpec:b.layout_symbol["text-anchor"]})),S=S.concat(tf({key:`${l}[${T+1}]`,value:d[T+1],valueSpec:{length:2,value:"number"},validateSpec:u.validateSpec,style:u.style,styleSpec:b}));return S},sprite:Xx};function af(u){const l=u.value,d=u.valueSpec,m=u.styleSpec;return u.validateSpec=af,d.expression&&Hh(Vr(l))?_y(u):d.expression&&Zh(Gs(l))?Tu(u):d.type&&ku[d.type]?ku[d.type](u):io(un({},u,{valueSpec:d.type?m[d.type]:d}))}function tp(u){const l=u.value,d=u.key,m=ss(u);return m.length||(l.indexOf("{fontstack}")===-1&&m.push(new Ue(d,l,'"glyphs" url must include a "{fontstack}" token')),l.indexOf("{range}")===-1&&m.push(new Ue(d,l,'"glyphs" url must include a "{range}" token'))),m}function ls(u,l=Ne){let d=[];return d=d.concat(af({key:"",value:u,valueSpec:l.$root,styleSpec:l,style:u,validateSpec:af,objectElementValidators:{glyphs:tp,"*":()=>[]}})),u.constants&&(d=d.concat(xy({key:"constants",value:u.constants,style:u,styleSpec:l,validateSpec:af}))),Jx(d)}function Aa(u){return function(l){return u({...l,validateSpec:af})}}function Jx(u){return[].concat(u).sort((l,d)=>l.line-d.line)}function Ko(u){return function(...l){return Jx(u.apply(this,l))}}ls.source=Ko(Aa(of)),ls.sprite=Ko(Aa(Xx)),ls.glyphs=Ko(Aa(tp)),ls.light=Ko(Aa(Kx)),ls.terrain=Ko(Aa(Zx)),ls.layer=Ko(Aa(rf)),ls.filter=Ko(Aa(wy)),ls.paintProperty=Ko(Aa(Hx)),ls.layoutProperty=Ko(Aa(Yx));const sf=ls,Sy=sf.light,Qx=sf.paintProperty,Ey=sf.layoutProperty;function Cy(u,l){let d=!1;if(l&&l.length)for(const m of l)u.fire(new rr(new Error(m.message))),d=!0;return d}class Pu{constructor(l,d,m){const b=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;const T=new Int32Array(this.arrayBuffer);l=T[0],this.d=(d=T[1])+2*(m=T[2]);for(let j=0;j<this.d*this.d;j++){const W=T[3+j],H=T[3+j+1];b.push(W===H?null:T.subarray(W,H))}const R=T[3+b.length+1];this.keys=T.subarray(T[3+b.length],R),this.bboxes=T.subarray(R),this.insert=this._insertReadonly}else{this.d=d+2*m;for(let T=0;T<this.d*this.d;T++)b.push([]);this.keys=[],this.bboxes=[]}this.n=d,this.extent=l,this.padding=m,this.scale=d/l,this.uid=0;const S=m/d*l;this.min=-S,this.max=l+S}insert(l,d,m,b,S){this._forEachCell(d,m,b,S,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(d),this.bboxes.push(m),this.bboxes.push(b),this.bboxes.push(S)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,d,m,b,S,T){this.cells[S].push(T)}query(l,d,m,b,S){const T=this.min,R=this.max;if(l<=T&&d<=T&&R<=m&&R<=b&&!S)return Array.prototype.slice.call(this.keys);{const j=[];return this._forEachCell(l,d,m,b,this._queryCell,j,{},S),j}}_queryCell(l,d,m,b,S,T,R,j){const W=this.cells[S];if(W!==null){const H=this.keys,Z=this.bboxes;for(let Q=0;Q<W.length;Q++){const ie=W[Q];if(R[ie]===void 0){const oe=4*ie;(j?j(Z[oe+0],Z[oe+1],Z[oe+2],Z[oe+3]):l<=Z[oe+2]&&d<=Z[oe+3]&&m>=Z[oe+0]&&b>=Z[oe+1])?(R[ie]=!0,T.push(H[ie])):R[ie]=!1}}}}_forEachCell(l,d,m,b,S,T,R,j){const W=this._convertToCellCoord(l),H=this._convertToCellCoord(d),Z=this._convertToCellCoord(m),Q=this._convertToCellCoord(b);for(let ie=W;ie<=Z;ie++)for(let oe=H;oe<=Q;oe++){const ue=this.d*oe+ie;if((!j||j(this._convertFromCellCoord(ie),this._convertFromCellCoord(oe),this._convertFromCellCoord(ie+1),this._convertFromCellCoord(oe+1)))&&S.call(this,l,d,m,b,ue,T,R,j))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const l=this.cells,d=3+this.cells.length+1+1;let m=0;for(let T=0;T<this.cells.length;T++)m+=this.cells[T].length;const b=new Int32Array(d+m+this.keys.length+this.bboxes.length);b[0]=this.extent,b[1]=this.n,b[2]=this.padding;let S=d;for(let T=0;T<l.length;T++){const R=l[T];b[3+T]=S,b.set(R,S),S+=R.length}return b[3+l.length]=S,b.set(this.keys,S),S+=this.keys.length,b[3+l.length+1]=S,b.set(this.bboxes,S),S+=this.bboxes.length,b.buffer}static serialize(l,d){const m=l.toArrayBuffer();return d&&d.push(m),{buffer:m}}static deserialize(l){return new Pu(l.buffer)}}const Al={};function kt(u,l,d={}){if(Al[u])throw new Error(`${u} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:u,writeable:!1}),Al[u]={klass:l,omit:d.omit||[],shallow:d.shallow||[]}}kt("Object",Object),kt("TransferableGridIndex",Pu),kt("Color",Xn),kt("Error",Error),kt("AJAXError",Ge),kt("ResolvedImage",wo),kt("StylePropertyFunction",Qd),kt("StyleExpression",py,{omit:["_evaluator"]}),kt("ZoomDependentExpression",Qh),kt("ZoomConstantExpression",Jh),kt("CompoundExpression",pa,{omit:["_evaluate"]});for(const u in _u)_u[u]._classRegistryKey||kt(`Expression_${u}`,_u[u]);function lf(u){return u&&typeof ArrayBuffer<"u"&&(u instanceof ArrayBuffer||u.constructor&&u.constructor.name==="ArrayBuffer")}function Ou(u,l){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob)return u;if(lf(u)||We(u))return l&&l.push(u),u;if(ArrayBuffer.isView(u)){const d=u;return l&&l.push(d.buffer),d}if(u instanceof ImageData)return l&&l.push(u.data.buffer),u;if(Array.isArray(u)){const d=[];for(const m of u)d.push(Ou(m,l));return d}if(typeof u=="object"){const d=u.constructor,m=d._classRegistryKey;if(!m)throw new Error("can't serialize object of unregistered class");if(!Al[m])throw new Error(`${m} is not registered.`);const b=d.serialize?d.serialize(u,l):{};if(d.serialize){if(l&&b===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const S in u){if(!u.hasOwnProperty(S)||Al[m].omit.indexOf(S)>=0)continue;const T=u[S];b[S]=Al[m].shallow.indexOf(S)>=0?T:Ou(T,l)}u instanceof Error&&(b.message=u.message)}if(b.$name)throw new Error("$name property is reserved for worker serialization logic.");return m!=="Object"&&(b.$name=m),b}throw new Error("can't serialize object of type "+typeof u)}function cf(u){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob||lf(u)||We(u)||ArrayBuffer.isView(u)||u instanceof ImageData)return u;if(Array.isArray(u))return u.map(cf);if(typeof u=="object"){const l=u.$name||"Object";if(!Al[l])throw new Error(`can't deserialize unregistered class ${l}`);const{klass:d}=Al[l];if(!d)throw new Error(`can't deserialize unregistered class ${l}`);if(d.deserialize)return d.deserialize(u);const m=Object.create(d.prototype);for(const b of Object.keys(u)){if(b==="$name")continue;const S=u[b];m[b]=Al[l].shallow.indexOf(b)>=0?S:cf(S)}return m}throw new Error("can't deserialize object of type "+typeof u)}class Ty{constructor(){this.first=!0}update(l,d){const m=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=m,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=m,!0):(this.lastFloorZoom>m?(this.lastIntegerZoom=m+1,this.lastIntegerZoomTime=d):this.lastFloorZoom<m&&(this.lastIntegerZoom=m,this.lastIntegerZoomTime=d),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=m,!0))}}const St={"Latin-1 Supplement":u=>u>=128&&u<=255,Arabic:u=>u>=1536&&u<=1791,"Arabic Supplement":u=>u>=1872&&u<=1919,"Arabic Extended-A":u=>u>=2208&&u<=2303,"Hangul Jamo":u=>u>=4352&&u<=4607,"Unified Canadian Aboriginal Syllabics":u=>u>=5120&&u<=5759,Khmer:u=>u>=6016&&u<=6143,"Unified Canadian Aboriginal Syllabics Extended":u=>u>=6320&&u<=6399,"General Punctuation":u=>u>=8192&&u<=8303,"Letterlike Symbols":u=>u>=8448&&u<=8527,"Number Forms":u=>u>=8528&&u<=8591,"Miscellaneous Technical":u=>u>=8960&&u<=9215,"Control Pictures":u=>u>=9216&&u<=9279,"Optical Character Recognition":u=>u>=9280&&u<=9311,"Enclosed Alphanumerics":u=>u>=9312&&u<=9471,"Geometric Shapes":u=>u>=9632&&u<=9727,"Miscellaneous Symbols":u=>u>=9728&&u<=9983,"Miscellaneous Symbols and Arrows":u=>u>=11008&&u<=11263,"CJK Radicals Supplement":u=>u>=11904&&u<=12031,"Kangxi Radicals":u=>u>=12032&&u<=12255,"Ideographic Description Characters":u=>u>=12272&&u<=12287,"CJK Symbols and Punctuation":u=>u>=12288&&u<=12351,Hiragana:u=>u>=12352&&u<=12447,Katakana:u=>u>=12448&&u<=12543,Bopomofo:u=>u>=12544&&u<=12591,"Hangul Compatibility Jamo":u=>u>=12592&&u<=12687,Kanbun:u=>u>=12688&&u<=12703,"Bopomofo Extended":u=>u>=12704&&u<=12735,"CJK Strokes":u=>u>=12736&&u<=12783,"Katakana Phonetic Extensions":u=>u>=12784&&u<=12799,"Enclosed CJK Letters and Months":u=>u>=12800&&u<=13055,"CJK Compatibility":u=>u>=13056&&u<=13311,"CJK Unified Ideographs Extension A":u=>u>=13312&&u<=19903,"Yijing Hexagram Symbols":u=>u>=19904&&u<=19967,"CJK Unified Ideographs":u=>u>=19968&&u<=40959,"Yi Syllables":u=>u>=40960&&u<=42127,"Yi Radicals":u=>u>=42128&&u<=42191,"Hangul Jamo Extended-A":u=>u>=43360&&u<=43391,"Hangul Syllables":u=>u>=44032&&u<=55215,"Hangul Jamo Extended-B":u=>u>=55216&&u<=55295,"Private Use Area":u=>u>=57344&&u<=63743,"CJK Compatibility Ideographs":u=>u>=63744&&u<=64255,"Arabic Presentation Forms-A":u=>u>=64336&&u<=65023,"Vertical Forms":u=>u>=65040&&u<=65055,"CJK Compatibility Forms":u=>u>=65072&&u<=65103,"Small Form Variants":u=>u>=65104&&u<=65135,"Arabic Presentation Forms-B":u=>u>=65136&&u<=65279,"Halfwidth and Fullwidth Forms":u=>u>=65280&&u<=65519};function uf(u){for(const l of u)if(ky(l.charCodeAt(0)))return!0;return!1}function XC(u){for(const l of u)if(!JC(l.charCodeAt(0)))return!1;return!0}function JC(u){return!(St.Arabic(u)||St["Arabic Supplement"](u)||St["Arabic Extended-A"](u)||St["Arabic Presentation Forms-A"](u)||St["Arabic Presentation Forms-B"](u))}function ky(u){return!(u!==746&&u!==747&&(u<4352||!(St["Bopomofo Extended"](u)||St.Bopomofo(u)||St["CJK Compatibility Forms"](u)&&!(u>=65097&&u<=65103)||St["CJK Compatibility Ideographs"](u)||St["CJK Compatibility"](u)||St["CJK Radicals Supplement"](u)||St["CJK Strokes"](u)||!(!St["CJK Symbols and Punctuation"](u)||u>=12296&&u<=12305||u>=12308&&u<=12319||u===12336)||St["CJK Unified Ideographs Extension A"](u)||St["CJK Unified Ideographs"](u)||St["Enclosed CJK Letters and Months"](u)||St["Hangul Compatibility Jamo"](u)||St["Hangul Jamo Extended-A"](u)||St["Hangul Jamo Extended-B"](u)||St["Hangul Jamo"](u)||St["Hangul Syllables"](u)||St.Hiragana(u)||St["Ideographic Description Characters"](u)||St.Kanbun(u)||St["Kangxi Radicals"](u)||St["Katakana Phonetic Extensions"](u)||St.Katakana(u)&&u!==12540||!(!St["Halfwidth and Fullwidth Forms"](u)||u===65288||u===65289||u===65293||u>=65306&&u<=65310||u===65339||u===65341||u===65343||u>=65371&&u<=65503||u===65507||u>=65512&&u<=65519)||!(!St["Small Form Variants"](u)||u>=65112&&u<=65118||u>=65123&&u<=65126)||St["Unified Canadian Aboriginal Syllabics"](u)||St["Unified Canadian Aboriginal Syllabics Extended"](u)||St["Vertical Forms"](u)||St["Yijing Hexagram Symbols"](u)||St["Yi Syllables"](u)||St["Yi Radicals"](u))))}function e_(u){return!(ky(u)||function(l){return!!(St["Latin-1 Supplement"](l)&&(l===167||l===169||l===174||l===177||l===188||l===189||l===190||l===215||l===247)||St["General Punctuation"](l)&&(l===8214||l===8224||l===8225||l===8240||l===8241||l===8251||l===8252||l===8258||l===8263||l===8264||l===8265||l===8273)||St["Letterlike Symbols"](l)||St["Number Forms"](l)||St["Miscellaneous Technical"](l)&&(l>=8960&&l<=8967||l>=8972&&l<=8991||l>=8996&&l<=9e3||l===9003||l>=9085&&l<=9114||l>=9150&&l<=9165||l===9167||l>=9169&&l<=9179||l>=9186&&l<=9215)||St["Control Pictures"](l)&&l!==9251||St["Optical Character Recognition"](l)||St["Enclosed Alphanumerics"](l)||St["Geometric Shapes"](l)||St["Miscellaneous Symbols"](l)&&!(l>=9754&&l<=9759)||St["Miscellaneous Symbols and Arrows"](l)&&(l>=11026&&l<=11055||l>=11088&&l<=11097||l>=11192&&l<=11243)||St["CJK Symbols and Punctuation"](l)||St.Katakana(l)||St["Private Use Area"](l)||St["CJK Compatibility Forms"](l)||St["Small Form Variants"](l)||St["Halfwidth and Fullwidth Forms"](l)||l===8734||l===8756||l===8757||l>=9984&&l<=10087||l>=10102&&l<=10131||l===65532||l===65533)}(u))}function Py(u){return u>=1424&&u<=2303||St["Arabic Presentation Forms-A"](u)||St["Arabic Presentation Forms-B"](u)}function QC(u,l){return!(!l&&Py(u)||u>=2304&&u<=3583||u>=3840&&u<=4255||St.Khmer(u))}function eT(u){for(const l of u)if(Py(l.charCodeAt(0)))return!0;return!1}const Oy="deferred",Ay="loading",My="loaded";let Iy=null,So="unavailable",Ma=null;const t_=function(u){u&&typeof u=="string"&&u.indexOf("NetworkError")>-1&&(So="error"),Iy&&Iy(u)};function df(){$y.fire(new xn("pluginStateChange",{pluginStatus:So,pluginURL:Ma}))}const $y=new Cn,Ry=function(){return So},Dy=function(){if(So!==Oy||!Ma)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");So=Ay,df(),Ma&&Tt({url:Ma},u=>{u?t_(u):(So=My,df())})},Zo={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>So===My||Zo.applyArabicShaping!=null,isLoading:()=>So===Ay,setState(u){if(!Ce())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");So=u.pluginStatus,Ma=u.pluginURL},isParsed(){if(!Ce())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return Zo.applyArabicShaping!=null&&Zo.processBidirectionalText!=null&&Zo.processStyledBidirectionalText!=null},getPluginURL(){if(!Ce())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return Ma}};class Tr{constructor(l,d){this.zoom=l,d?(this.now=d.now,this.fadeDuration=d.fadeDuration,this.zoomHistory=d.zoomHistory,this.transition=d.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ty,this.transition={})}isSupportedScript(l){return function(d,m){for(const b of d)if(!QC(b.charCodeAt(0),m))return!1;return!0}(l,Zo.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const l=this.zoom,d=l-Math.floor(l),m=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:d+(1-d)*m}:{fromScale:.5,toScale:1,t:1-(1-m)*d}}}class np{constructor(l,d){this.property=l,this.value=d,this.expression=function(m,b){if(Hh(m))return new Qd(m,b);if(Zh(m)){const S=my(m,b);if(S.result==="error")throw new Error(S.value.map(T=>`${T.key}: ${T.message}`).join(", "));return S.value}{let S=m;return b.type==="color"&&typeof m=="string"?S=Xn.parse(m):b.type!=="padding"||typeof m!="number"&&!Array.isArray(m)?b.type==="variableAnchorOffsetCollection"&&Array.isArray(m)&&(S=Ri.parse(m)):S=qo.parse(m),{kind:"constant",evaluate:()=>S}}}(d===void 0?l.specification.default:d,l.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(l,d,m){return this.property.possiblyEvaluate(this,l,d,m)}}class Ly{constructor(l){this.property=l,this.value=new np(l,void 0)}transitioned(l,d){return new r_(this.property,this.value,d,G({},l.transition,this.transition),l.now)}untransitioned(){return new r_(this.property,this.value,null,{},0)}}class n_{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues)}getValue(l){return pe(this._values[l].value.value)}setValue(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new Ly(this._values[l].property)),this._values[l].value=new np(this._values[l].property,d===null?void 0:pe(d))}getTransition(l){return pe(this._values[l].transition)}setTransition(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new Ly(this._values[l].property)),this._values[l].transition=pe(d)||void 0}serialize(){const l={};for(const d of Object.keys(this._values)){const m=this.getValue(d);m!==void 0&&(l[d]=m);const b=this.getTransition(d);b!==void 0&&(l[`${d}-transition`]=b)}return l}transitioned(l,d){const m=new i_(this._properties);for(const b of Object.keys(this._values))m._values[b]=this._values[b].transitioned(l,d._values[b]);return m}untransitioned(){const l=new i_(this._properties);for(const d of Object.keys(this._values))l._values[d]=this._values[d].untransitioned();return l}}class r_{constructor(l,d,m,b,S){this.property=l,this.value=d,this.begin=S+b.delay||0,this.end=this.begin+b.duration||0,l.specification.transition&&(b.delay||b.duration)&&(this.prior=m)}possiblyEvaluate(l,d,m){const b=l.now||0,S=this.value.possiblyEvaluate(l,d,m),T=this.prior;if(T){if(b>this.end)return this.prior=null,S;if(this.value.isDataDriven())return this.prior=null,S;if(b<this.begin)return T.possiblyEvaluate(l,d,m);{const R=(b-this.begin)/(this.end-this.begin);return this.property.interpolate(T.possiblyEvaluate(l,d,m),S,function(j){if(j<=0)return 0;if(j>=1)return 1;const W=j*j,H=W*j;return 4*(j<.5?H:3*(j-W)+H-.75)}(R))}}return S}}class i_{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,d,m){const b=new rp(this._properties);for(const S of Object.keys(this._values))b._values[S]=this._values[S].possiblyEvaluate(l,d,m);return b}hasTransition(){for(const l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class Au{constructor(l){this._properties=l,this._values=Object.create(l.defaultPropertyValues)}hasValue(l){return this._values[l].value!==void 0}getValue(l){return pe(this._values[l].value)}setValue(l,d){this._values[l]=new np(this._values[l].property,d===null?void 0:pe(d))}serialize(){const l={};for(const d of Object.keys(this._values)){const m=this.getValue(d);m!==void 0&&(l[d]=m)}return l}possiblyEvaluate(l,d,m){const b=new rp(this._properties);for(const S of Object.keys(this._values))b._values[S]=this._values[S].possiblyEvaluate(l,d,m);return b}}class cs{constructor(l,d,m){this.property=l,this.value=d,this.parameters=m}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,d,m,b){return this.property.evaluate(this.value,this.parameters,l,d,m,b)}}class rp{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class Bt{constructor(l){this.specification=l}possiblyEvaluate(l,d){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(d)}interpolate(l,d,m){const b=Go[this.specification.type];return b?b(l,d,m):l}}class Zt{constructor(l,d){this.specification=l,this.overrides=d}possiblyEvaluate(l,d,m,b){return new cs(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(d,null,{},m,b)}:l.expression,d)}interpolate(l,d,m){if(l.value.kind!=="constant"||d.value.kind!=="constant")return l;if(l.value.value===void 0||d.value.value===void 0)return new cs(this,{kind:"constant",value:void 0},l.parameters);const b=Go[this.specification.type];if(b){const S=b(l.value.value,d.value.value,m);return new cs(this,{kind:"constant",value:S},l.parameters)}return l}evaluate(l,d,m,b,S,T){return l.kind==="constant"?l.value:l.evaluate(d,m,b,S,T)}}class ip extends Zt{possiblyEvaluate(l,d,m,b){if(l.value===void 0)return new cs(this,{kind:"constant",value:void 0},d);if(l.expression.kind==="constant"){const S=l.expression.evaluate(d,null,{},m,b),T=l.property.specification.type==="resolvedImage"&&typeof S!="string"?S.name:S,R=this._calculate(T,T,T,d);return new cs(this,{kind:"constant",value:R},d)}if(l.expression.kind==="camera"){const S=this._calculate(l.expression.evaluate({zoom:d.zoom-1}),l.expression.evaluate({zoom:d.zoom}),l.expression.evaluate({zoom:d.zoom+1}),d);return new cs(this,{kind:"constant",value:S},d)}return new cs(this,l.expression,d)}evaluate(l,d,m,b,S,T){if(l.kind==="source"){const R=l.evaluate(d,m,b,S,T);return this._calculate(R,R,R,d)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(d.zoom)-1},m,b),l.evaluate({zoom:Math.floor(d.zoom)},m,b),l.evaluate({zoom:Math.floor(d.zoom)+1},m,b),d):l.value}_calculate(l,d,m,b){return b.zoom>b.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:m,to:d}}interpolate(l){return l}}class Ny{constructor(l){this.specification=l}possiblyEvaluate(l,d,m,b){if(l.value!==void 0){if(l.expression.kind==="constant"){const S=l.expression.evaluate(d,null,{},m,b);return this._calculate(S,S,S,d)}return this._calculate(l.expression.evaluate(new Tr(Math.floor(d.zoom-1),d)),l.expression.evaluate(new Tr(Math.floor(d.zoom),d)),l.expression.evaluate(new Tr(Math.floor(d.zoom+1),d)),d)}}_calculate(l,d,m,b){return b.zoom>b.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:m,to:d}}interpolate(l){return l}}class us{constructor(l){this.specification=l}possiblyEvaluate(l,d,m,b){return!!l.expression.evaluate(d,null,{},m,b)}interpolate(){return!1}}class oo{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const d in l){const m=l[d];m.specification.overridable&&this.overridableProperties.push(d);const b=this.defaultPropertyValues[d]=new np(m,void 0),S=this.defaultTransitionablePropertyValues[d]=new Ly(m);this.defaultTransitioningPropertyValues[d]=S.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=b.possiblyEvaluate({})}}}kt("DataDrivenProperty",Zt),kt("DataConstantProperty",Bt),kt("CrossFadedDataDrivenProperty",ip),kt("CrossFadedProperty",Ny),kt("ColorRampProperty",us);const op="-transition";class Ia extends Cn{constructor(l,d){if(super(),this.id=l.id,this.type=l.type,this._featureFilter={filter:()=>!0,needGeometry:!1},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter),d.layout&&(this._unevaluatedLayout=new Au(d.layout)),d.paint)){this._transitionablePaint=new n_(d.paint);for(const m in l.paint)this.setPaintProperty(m,l.paint[m],{validate:!1});for(const m in l.layout)this.setLayoutProperty(m,l.layout[m],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new rp(d.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}setLayoutProperty(l,d,m={}){d!=null&&this._validate(Ey,`layers.${this.id}.layout.${l}`,l,d,m)||(l!=="visibility"?this._unevaluatedLayout.setValue(l,d):this.visibility=d)}getPaintProperty(l){return l.endsWith(op)?this._transitionablePaint.getTransition(l.slice(0,-11)):this._transitionablePaint.getValue(l)}setPaintProperty(l,d,m={}){if(d!=null&&this._validate(Qx,`layers.${this.id}.paint.${l}`,l,d,m))return!1;if(l.endsWith(op))return this._transitionablePaint.setTransition(l.slice(0,-11),d||void 0),!1;{const b=this._transitionablePaint._values[l],S=b.property.specification["property-type"]==="cross-faded-data-driven",T=b.value.isDataDriven(),R=b.value;this._transitionablePaint.setValue(l,d),this._handleSpecialPaintPropertyUpdate(l);const j=this._transitionablePaint._values[l].value;return j.isDataDriven()||T||S||this._handleOverridablePaintPropertyUpdate(l,R,j)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,d,m){return!1}isHidden(l){return!!(this.minzoom&&l<this.minzoom)||!!(this.maxzoom&&l>=this.maxzoom)||this.visibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(l,d){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,d)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,d)}serialize(){const l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),ae(l,(d,m)=>!(d===void 0||m==="layout"&&!Object.keys(d).length||m==="paint"&&!Object.keys(d).length))}_validate(l,d,m,b,S={}){return(!S||S.validate!==!1)&&Cy(this,l.call(sf,{key:d,layerType:this.type,objectKey:m,value:b,styleSpec:Ne,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const l in this.paint._values){const d=this.paint.get(l);if(d instanceof cs&&Su(d.property.specification)&&(d.value.kind==="source"||d.value.kind==="composite")&&d.value.isStateDependent)return!0}return!1}}const zy={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class ff{constructor(l,d){this._structArray=l,this._pos1=d*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class br{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,d){return l._trim(),d&&(l.isTransferred=!0,d.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){const d=Object.create(this.prototype);return d.arrayBuffer=l.arrayBuffer,d.length=l.length,d.capacity=l.arrayBuffer.byteLength/d.bytesPerElement,d._refreshViews(),d}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const d=this.uint8;this._refreshViews(),d&&this.uint8.set(d)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function kr(u,l=1){let d=0,m=0;return{members:u.map(b=>{const S=zy[b.type].BYTES_PER_ELEMENT,T=d=o_(d,Math.max(l,S)),R=b.components||1;return m=Math.max(m,S),d+=S*R,{name:b.name,type:b.type,components:R,offset:T}}),size:o_(d,Math.max(m,l)),alignment:l}}function o_(u,l){return Math.ceil(u/l)*l}class Mu extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d){const m=this.length;return this.resize(m+1),this.emplace(m,l,d)}emplace(l,d,m){const b=2*l;return this.int16[b+0]=d,this.int16[b+1]=m,l}}Mu.prototype.bytesPerElement=4,kt("StructArrayLayout2i4",Mu);class Ml extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m){const b=this.length;return this.resize(b+1),this.emplace(b,l,d,m)}emplace(l,d,m,b){const S=3*l;return this.int16[S+0]=d,this.int16[S+1]=m,this.int16[S+2]=b,l}}Ml.prototype.bytesPerElement=6,kt("StructArrayLayout3i6",Ml);class jy extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,b){const S=this.length;return this.resize(S+1),this.emplace(S,l,d,m,b)}emplace(l,d,m,b,S){const T=4*l;return this.int16[T+0]=d,this.int16[T+1]=m,this.int16[T+2]=b,this.int16[T+3]=S,l}}jy.prototype.bytesPerElement=8,kt("StructArrayLayout4i8",jy);class By extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,S,T){const R=this.length;return this.resize(R+1),this.emplace(R,l,d,m,b,S,T)}emplace(l,d,m,b,S,T,R){const j=6*l;return this.int16[j+0]=d,this.int16[j+1]=m,this.int16[j+2]=b,this.int16[j+3]=S,this.int16[j+4]=T,this.int16[j+5]=R,l}}By.prototype.bytesPerElement=12,kt("StructArrayLayout2i4i12",By);class ap extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,S,T){const R=this.length;return this.resize(R+1),this.emplace(R,l,d,m,b,S,T)}emplace(l,d,m,b,S,T,R){const j=4*l,W=8*l;return this.int16[j+0]=d,this.int16[j+1]=m,this.uint8[W+4]=b,this.uint8[W+5]=S,this.uint8[W+6]=T,this.uint8[W+7]=R,l}}ap.prototype.bytesPerElement=8,kt("StructArrayLayout2i4ub8",ap);class hf extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d){const m=this.length;return this.resize(m+1),this.emplace(m,l,d)}emplace(l,d,m){const b=2*l;return this.float32[b+0]=d,this.float32[b+1]=m,l}}hf.prototype.bytesPerElement=8,kt("StructArrayLayout2f8",hf);class Fy extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,S,T,R,j,W,H){const Z=this.length;return this.resize(Z+1),this.emplace(Z,l,d,m,b,S,T,R,j,W,H)}emplace(l,d,m,b,S,T,R,j,W,H,Z){const Q=10*l;return this.uint16[Q+0]=d,this.uint16[Q+1]=m,this.uint16[Q+2]=b,this.uint16[Q+3]=S,this.uint16[Q+4]=T,this.uint16[Q+5]=R,this.uint16[Q+6]=j,this.uint16[Q+7]=W,this.uint16[Q+8]=H,this.uint16[Q+9]=Z,l}}Fy.prototype.bytesPerElement=20,kt("StructArrayLayout10ui20",Fy);class Vn extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,S,T,R,j,W,H,Z,Q){const ie=this.length;return this.resize(ie+1),this.emplace(ie,l,d,m,b,S,T,R,j,W,H,Z,Q)}emplace(l,d,m,b,S,T,R,j,W,H,Z,Q,ie){const oe=12*l;return this.int16[oe+0]=d,this.int16[oe+1]=m,this.int16[oe+2]=b,this.int16[oe+3]=S,this.uint16[oe+4]=T,this.uint16[oe+5]=R,this.uint16[oe+6]=j,this.uint16[oe+7]=W,this.int16[oe+8]=H,this.int16[oe+9]=Z,this.int16[oe+10]=Q,this.int16[oe+11]=ie,l}}Vn.prototype.bytesPerElement=24,kt("StructArrayLayout4i4ui4i24",Vn);class w extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m){const b=this.length;return this.resize(b+1),this.emplace(b,l,d,m)}emplace(l,d,m,b){const S=3*l;return this.float32[S+0]=d,this.float32[S+1]=m,this.float32[S+2]=b,l}}w.prototype.bytesPerElement=12,kt("StructArrayLayout3f12",w);class c extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint32[1*l+0]=d,l}}c.prototype.bytesPerElement=4,kt("StructArrayLayout1ul4",c);class p extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,S,T,R,j,W){const H=this.length;return this.resize(H+1),this.emplace(H,l,d,m,b,S,T,R,j,W)}emplace(l,d,m,b,S,T,R,j,W,H){const Z=10*l,Q=5*l;return this.int16[Z+0]=d,this.int16[Z+1]=m,this.int16[Z+2]=b,this.int16[Z+3]=S,this.int16[Z+4]=T,this.int16[Z+5]=R,this.uint32[Q+3]=j,this.uint16[Z+8]=W,this.uint16[Z+9]=H,l}}p.prototype.bytesPerElement=20,kt("StructArrayLayout6i1ul2ui20",p);class y extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,S,T){const R=this.length;return this.resize(R+1),this.emplace(R,l,d,m,b,S,T)}emplace(l,d,m,b,S,T,R){const j=6*l;return this.int16[j+0]=d,this.int16[j+1]=m,this.int16[j+2]=b,this.int16[j+3]=S,this.int16[j+4]=T,this.int16[j+5]=R,l}}y.prototype.bytesPerElement=12,kt("StructArrayLayout2i2i2i12",y);class _ extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,m,b,S){const T=this.length;return this.resize(T+1),this.emplace(T,l,d,m,b,S)}emplace(l,d,m,b,S,T){const R=4*l,j=8*l;return this.float32[R+0]=d,this.float32[R+1]=m,this.float32[R+2]=b,this.int16[j+6]=S,this.int16[j+7]=T,l}}_.prototype.bytesPerElement=16,kt("StructArrayLayout2f1f2i16",_);class E extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m,b){const S=this.length;return this.resize(S+1),this.emplace(S,l,d,m,b)}emplace(l,d,m,b,S){const T=12*l,R=3*l;return this.uint8[T+0]=d,this.uint8[T+1]=m,this.float32[R+1]=b,this.float32[R+2]=S,l}}E.prototype.bytesPerElement=12,kt("StructArrayLayout2ub2f12",E);class D extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m){const b=this.length;return this.resize(b+1),this.emplace(b,l,d,m)}emplace(l,d,m,b){const S=3*l;return this.uint16[S+0]=d,this.uint16[S+1]=m,this.uint16[S+2]=b,l}}D.prototype.bytesPerElement=6,kt("StructArrayLayout3ui6",D);class L extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m,b,S,T,R,j,W,H,Z,Q,ie,oe,ue,ge,xe){const Re=this.length;return this.resize(Re+1),this.emplace(Re,l,d,m,b,S,T,R,j,W,H,Z,Q,ie,oe,ue,ge,xe)}emplace(l,d,m,b,S,T,R,j,W,H,Z,Q,ie,oe,ue,ge,xe,Re){const Te=24*l,Le=12*l,je=48*l;return this.int16[Te+0]=d,this.int16[Te+1]=m,this.uint16[Te+2]=b,this.uint16[Te+3]=S,this.uint32[Le+2]=T,this.uint32[Le+3]=R,this.uint32[Le+4]=j,this.uint16[Te+10]=W,this.uint16[Te+11]=H,this.uint16[Te+12]=Z,this.float32[Le+7]=Q,this.float32[Le+8]=ie,this.uint8[je+36]=oe,this.uint8[je+37]=ue,this.uint8[je+38]=ge,this.uint32[Le+10]=xe,this.int16[Te+22]=Re,l}}L.prototype.bytesPerElement=48,kt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",L);class U extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m,b,S,T,R,j,W,H,Z,Q,ie,oe,ue,ge,xe,Re,Te,Le,je,Ze,wt,Rt,_t,xt,ct,At){const pt=this.length;return this.resize(pt+1),this.emplace(pt,l,d,m,b,S,T,R,j,W,H,Z,Q,ie,oe,ue,ge,xe,Re,Te,Le,je,Ze,wt,Rt,_t,xt,ct,At)}emplace(l,d,m,b,S,T,R,j,W,H,Z,Q,ie,oe,ue,ge,xe,Re,Te,Le,je,Ze,wt,Rt,_t,xt,ct,At,pt){const rt=32*l,Yt=16*l;return this.int16[rt+0]=d,this.int16[rt+1]=m,this.int16[rt+2]=b,this.int16[rt+3]=S,this.int16[rt+4]=T,this.int16[rt+5]=R,this.int16[rt+6]=j,this.int16[rt+7]=W,this.uint16[rt+8]=H,this.uint16[rt+9]=Z,this.uint16[rt+10]=Q,this.uint16[rt+11]=ie,this.uint16[rt+12]=oe,this.uint16[rt+13]=ue,this.uint16[rt+14]=ge,this.uint16[rt+15]=xe,this.uint16[rt+16]=Re,this.uint16[rt+17]=Te,this.uint16[rt+18]=Le,this.uint16[rt+19]=je,this.uint16[rt+20]=Ze,this.uint16[rt+21]=wt,this.uint16[rt+22]=Rt,this.uint32[Yt+12]=_t,this.float32[Yt+13]=xt,this.float32[Yt+14]=ct,this.uint16[rt+30]=At,this.uint16[rt+31]=pt,l}}U.prototype.bytesPerElement=64,kt("StructArrayLayout8i15ui1ul2f2ui64",U);class q extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.float32[1*l+0]=d,l}}q.prototype.bytesPerElement=4,kt("StructArrayLayout1f4",q);class Y extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m){const b=this.length;return this.resize(b+1),this.emplace(b,l,d,m)}emplace(l,d,m,b){const S=3*l;return this.uint16[6*l+0]=d,this.float32[S+1]=m,this.float32[S+2]=b,l}}Y.prototype.bytesPerElement=12,kt("StructArrayLayout1ui2f12",Y);class K extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,m){const b=this.length;return this.resize(b+1),this.emplace(b,l,d,m)}emplace(l,d,m,b){const S=4*l;return this.uint32[2*l+0]=d,this.uint16[S+2]=m,this.uint16[S+3]=b,l}}K.prototype.bytesPerElement=8,kt("StructArrayLayout1ul2ui8",K);class re extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d){const m=this.length;return this.resize(m+1),this.emplace(m,l,d)}emplace(l,d,m){const b=2*l;return this.uint16[b+0]=d,this.uint16[b+1]=m,l}}re.prototype.bytesPerElement=4,kt("StructArrayLayout2ui4",re);class de extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint16[1*l+0]=d,l}}de.prototype.bytesPerElement=2,kt("StructArrayLayout1ui2",de);class ce extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,m,b){const S=this.length;return this.resize(S+1),this.emplace(S,l,d,m,b)}emplace(l,d,m,b,S){const T=4*l;return this.float32[T+0]=d,this.float32[T+1]=m,this.float32[T+2]=b,this.float32[T+3]=S,l}}ce.prototype.bytesPerElement=16,kt("StructArrayLayout4f16",ce);class me extends ff{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new x(this.anchorPointX,this.anchorPointY)}}me.prototype.size=20;class le extends p{get(l){return new me(this,l)}}kt("CollisionBoxArray",le);class Ae extends ff{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Ae.prototype.size=48;class ze extends L{get(l){return new Ae(this,l)}}kt("PlacedSymbolArray",ze);class ve extends ff{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}ve.prototype.size=64;class Ie extends U{get(l){return new ve(this,l)}}kt("SymbolInstanceArray",Ie);class Be extends q{getoffsetX(l){return this.float32[1*l+0]}}kt("GlyphOffsetArray",Be);class Fe extends Ml{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}kt("SymbolLineVertexArray",Fe);class Ke extends ff{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Ke.prototype.size=12;class nt extends Y{get(l){return new Ke(this,l)}}kt("TextAnchorOffsetArray",nt);class tt extends ff{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}tt.prototype.size=8;class at extends K{get(l){return new tt(this,l)}}kt("FeatureIndexArray",at);class $t extends Mu{}class _n extends Mu{}class bt extends Mu{}class Jt extends By{}class Nt extends ap{}class Pr extends hf{}class pn extends Fy{}class gn extends Vn{}class wn extends w{}class Jr extends c{}class cr extends y{}class ma extends E{}class Wr extends D{}class Lr extends re{}const Xo=kr([{name:"a_pos",components:2,type:"Int16"}],4),{members:ds}=Xo;class Or{constructor(l=[]){this.segments=l}prepareSegment(l,d,m,b){let S=this.segments[this.segments.length-1];return l>Or.MAX_VERTEX_ARRAY_LENGTH&&we(`Max vertices per segment is ${Or.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}`),(!S||S.vertexLength+l>Or.MAX_VERTEX_ARRAY_LENGTH||S.sortKey!==b)&&(S={vertexOffset:d.length,primitiveOffset:m.length,vertexLength:0,primitiveLength:0},b!==void 0&&(S.sortKey=b),this.segments.push(S)),S}get(){return this.segments}destroy(){for(const l of this.segments)for(const d in l.vaos)l.vaos[d].destroy()}static simpleSegment(l,d,m,b){return new Or([{vertexOffset:l,primitiveOffset:d,vertexLength:m,primitiveLength:b,vaos:{},sortKey:0}])}}function Il(u,l){return 256*(u=N(Math.floor(u),0,255))+N(Math.floor(l),0,255)}Or.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,kt("SegmentVector",Or);const $l=kr([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Hs={exports:{}},bc={exports:{}};bc.exports=function(u,l){var d,m,b,S,T,R,j,W;for(m=u.length-(d=3&u.length),b=l,T=3432918353,R=461845907,W=0;W<m;)j=255&u.charCodeAt(W)|(255&u.charCodeAt(++W))<<8|(255&u.charCodeAt(++W))<<16|(255&u.charCodeAt(++W))<<24,++W,b=27492+(65535&(S=5*(65535&(b=(b^=j=(65535&(j=(j=(65535&j)*T+(((j>>>16)*T&65535)<<16)&4294967295)<<15|j>>>17))*R+(((j>>>16)*R&65535)<<16)&4294967295)<<13|b>>>19))+((5*(b>>>16)&65535)<<16)&4294967295))+((58964+(S>>>16)&65535)<<16);switch(j=0,d){case 3:j^=(255&u.charCodeAt(W+2))<<16;case 2:j^=(255&u.charCodeAt(W+1))<<8;case 1:b^=j=(65535&(j=(j=(65535&(j^=255&u.charCodeAt(W)))*T+(((j>>>16)*T&65535)<<16)&4294967295)<<15|j>>>17))*R+(((j>>>16)*R&65535)<<16)&4294967295}return b^=u.length,b=2246822507*(65535&(b^=b>>>16))+((2246822507*(b>>>16)&65535)<<16)&4294967295,b=3266489909*(65535&(b^=b>>>13))+((3266489909*(b>>>16)&65535)<<16)&4294967295,(b^=b>>>16)>>>0};var ao=bc.exports,Di={exports:{}};Di.exports=function(u,l){for(var d,m=u.length,b=l^m,S=0;m>=4;)d=1540483477*(65535&(d=255&u.charCodeAt(S)|(255&u.charCodeAt(++S))<<8|(255&u.charCodeAt(++S))<<16|(255&u.charCodeAt(++S))<<24))+((1540483477*(d>>>16)&65535)<<16),b=1540483477*(65535&b)+((1540483477*(b>>>16)&65535)<<16)^(d=1540483477*(65535&(d^=d>>>24))+((1540483477*(d>>>16)&65535)<<16)),m-=4,++S;switch(m){case 3:b^=(255&u.charCodeAt(S+2))<<16;case 2:b^=(255&u.charCodeAt(S+1))<<8;case 1:b=1540483477*(65535&(b^=255&u.charCodeAt(S)))+((1540483477*(b>>>16)&65535)<<16)}return b=1540483477*(65535&(b^=b>>>13))+((1540483477*(b>>>16)&65535)<<16),(b^=b>>>15)>>>0};var Gi=ao,pf=Di.exports;Hs.exports=Gi,Hs.exports.murmur3=Gi,Hs.exports.murmur2=pf;var Qr=h(Hs.exports);class ei{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,d,m,b){this.ids.push(Jo(l)),this.positions.push(d,m,b)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const d=Jo(l);let m=0,b=this.ids.length-1;for(;m<b;){const T=m+b>>1;this.ids[T]>=d?b=T:m=T+1}const S=[];for(;this.ids[m]===d;)S.push({index:this.positions[3*m],start:this.positions[3*m+1],end:this.positions[3*m+2]}),m++;return S}static serialize(l,d){const m=new Float64Array(l.ids),b=new Uint32Array(l.positions);return ti(m,b,0,m.length-1),d&&d.push(m.buffer,b.buffer),{ids:m,positions:b}}static deserialize(l){const d=new ei;return d.ids=l.ids,d.positions=l.positions,d.indexed=!0,d}}function Jo(u){const l=+u;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:Qr(String(u))}function ti(u,l,d,m){for(;d<m;){const b=u[d+m>>1];let S=d-1,T=m+1;for(;;){do S++;while(u[S]<b);do T--;while(u[T]>b);if(S>=T)break;sp(u,S,T),sp(l,3*S,3*T),sp(l,3*S+1,3*T+1),sp(l,3*S+2,3*T+2)}T-d<m-T?(ti(u,l,d,T),d=T+1):(ti(u,l,T+1,m),m=T)}}function sp(u,l,d){const m=u[l];u[l]=u[d],u[d]=m}kt("FeaturePositionMap",ei);class xc{constructor(l,d){this.gl=l.gl,this.location=d}}class lp extends xc{constructor(l,d){super(l,d),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class a_ extends xc{constructor(l,d){super(l,d),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class s_ extends xc{constructor(l,d){super(l,d),this.current=Xn.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}const tT=new Float32Array(16);function Rl(u){return[Il(255*u.r,255*u.g),Il(255*u.b,255*u.a)]}class Iu{constructor(l,d,m){this.value=l,this.uniformNames=d.map(b=>`u_${b}`),this.type=m}setUniform(l,d,m){l.set(m.constantOr(this.value))}getBinding(l,d,m){return this.type==="color"?new s_(l,d):new lp(l,d)}}class _c{constructor(l,d){this.uniformNames=d.map(m=>`u_${m}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,d){this.pixelRatioFrom=d.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=d.tlbr,this.patternTo=l.tlbr}setUniform(l,d,m,b){const S=b==="u_pattern_to"?this.patternTo:b==="u_pattern_from"?this.patternFrom:b==="u_pixel_ratio_to"?this.pixelRatioTo:b==="u_pixel_ratio_from"?this.pixelRatioFrom:null;S&&l.set(S)}getBinding(l,d,m){return m.substr(0,9)==="u_pattern"?new a_(l,d):new lp(l,d)}}class fs{constructor(l,d,m,b){this.expression=l,this.type=m,this.maxValue=0,this.paintVertexAttributes=d.map(S=>({name:`a_${S}`,type:"Float32",components:m==="color"?2:1,offset:0})),this.paintVertexArray=new b}populatePaintArray(l,d,m,b,S){const T=this.paintVertexArray.length,R=this.expression.evaluate(new Tr(0),d,{},b,[],S);this.paintVertexArray.resize(l),this._setPaintValue(T,l,R)}updatePaintArray(l,d,m,b){const S=this.expression.evaluate({zoom:0},m,b);this._setPaintValue(l,d,S)}_setPaintValue(l,d,m){if(this.type==="color"){const b=Rl(m);for(let S=l;S<d;S++)this.paintVertexArray.emplace(S,b[0],b[1])}else{for(let b=l;b<d;b++)this.paintVertexArray.emplace(b,m);this.maxValue=Math.max(this.maxValue,Math.abs(m))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Qo{constructor(l,d,m,b,S,T){this.expression=l,this.uniformNames=d.map(R=>`u_${R}_t`),this.type=m,this.useIntegerZoom=b,this.zoom=S,this.maxValue=0,this.paintVertexAttributes=d.map(R=>({name:`a_${R}`,type:"Float32",components:m==="color"?4:2,offset:0})),this.paintVertexArray=new T}populatePaintArray(l,d,m,b,S){const T=this.expression.evaluate(new Tr(this.zoom),d,{},b,[],S),R=this.expression.evaluate(new Tr(this.zoom+1),d,{},b,[],S),j=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(j,l,T,R)}updatePaintArray(l,d,m,b){const S=this.expression.evaluate({zoom:this.zoom},m,b),T=this.expression.evaluate({zoom:this.zoom+1},m,b);this._setPaintValue(l,d,S,T)}_setPaintValue(l,d,m,b){if(this.type==="color"){const S=Rl(m),T=Rl(b);for(let R=l;R<d;R++)this.paintVertexArray.emplace(R,S[0],S[1],T[0],T[1])}else{for(let S=l;S<d;S++)this.paintVertexArray.emplace(S,m,b);this.maxValue=Math.max(this.maxValue,Math.abs(m),Math.abs(b))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,d){const m=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,b=N(this.expression.interpolationFactor(m,this.zoom,this.zoom+1),0,1);l.set(b)}getBinding(l,d,m){return new lp(l,d)}}class Ys{constructor(l,d,m,b,S,T){this.expression=l,this.type=d,this.useIntegerZoom=m,this.zoom=b,this.layerId=T,this.zoomInPaintVertexArray=new S,this.zoomOutPaintVertexArray=new S}populatePaintArray(l,d,m){const b=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(b,l,d.patterns&&d.patterns[this.layerId],m)}updatePaintArray(l,d,m,b,S){this._setPaintValues(l,d,m.patterns&&m.patterns[this.layerId],S)}_setPaintValues(l,d,m,b){if(!b||!m)return;const{min:S,mid:T,max:R}=m,j=b[S],W=b[T],H=b[R];if(j&&W&&H)for(let Z=l;Z<d;Z++)this.zoomInPaintVertexArray.emplace(Z,W.tl[0],W.tl[1],W.br[0],W.br[1],j.tl[0],j.tl[1],j.br[0],j.br[1],W.pixelRatio,j.pixelRatio),this.zoomOutPaintVertexArray.emplace(Z,W.tl[0],W.tl[1],W.br[0],W.br[1],H.tl[0],H.tl[1],H.br[0],H.br[1],W.pixelRatio,H.pixelRatio)}upload(l){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,$l.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,$l.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class cp{constructor(l,d,m){this.binders={},this._buffers=[];const b=[];for(const S in l.paint._values){if(!m(S))continue;const T=l.paint.get(S);if(!(T instanceof cs&&Su(T.property.specification)))continue;const R=aZ(S,l.type),j=T.value,W=T.property.specification.type,H=T.property.useIntegerZoom,Z=T.property.specification["property-type"],Q=Z==="cross-faded"||Z==="cross-faded-data-driven";if(j.kind==="constant")this.binders[S]=Q?new _c(j.value,R):new Iu(j.value,R,W),b.push(`/u_${S}`);else if(j.kind==="source"||Q){const ie=jL(S,W,"source");this.binders[S]=Q?new Ys(j,W,H,d,ie,l.id):new fs(j,R,W,ie),b.push(`/a_${S}`)}else{const ie=jL(S,W,"composite");this.binders[S]=new Qo(j,R,W,H,d,ie),b.push(`/z_${S}`)}}this.cacheKey=b.sort().join("")}getMaxValue(l){const d=this.binders[l];return d instanceof fs||d instanceof Qo?d.maxValue:0}populatePaintArrays(l,d,m,b,S){for(const T in this.binders){const R=this.binders[T];(R instanceof fs||R instanceof Qo||R instanceof Ys)&&R.populatePaintArray(l,d,m,b,S)}}setConstantPatternPositions(l,d){for(const m in this.binders){const b=this.binders[m];b instanceof _c&&b.setConstantPatternPositions(l,d)}}updatePaintArrays(l,d,m,b,S){let T=!1;for(const R in l){const j=d.getPositions(R);for(const W of j){const H=m.feature(W.index);for(const Z in this.binders){const Q=this.binders[Z];if((Q instanceof fs||Q instanceof Qo||Q instanceof Ys)&&Q.expression.isStateDependent===!0){const ie=b.paint.get(Z);Q.expression=ie.value,Q.updatePaintArray(W.start,W.end,H,l[R],S),T=!0}}}}return T}defines(){const l=[];for(const d in this.binders){const m=this.binders[d];(m instanceof Iu||m instanceof _c)&&l.push(...m.uniformNames.map(b=>`#define HAS_UNIFORM_${b}`))}return l}getBinderAttributes(){const l=[];for(const d in this.binders){const m=this.binders[d];if(m instanceof fs||m instanceof Qo)for(let b=0;b<m.paintVertexAttributes.length;b++)l.push(m.paintVertexAttributes[b].name);else if(m instanceof Ys)for(let b=0;b<$l.members.length;b++)l.push($l.members[b].name)}return l}getBinderUniforms(){const l=[];for(const d in this.binders){const m=this.binders[d];if(m instanceof Iu||m instanceof _c||m instanceof Qo)for(const b of m.uniformNames)l.push(b)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,d){const m=[];for(const b in this.binders){const S=this.binders[b];if(S instanceof Iu||S instanceof _c||S instanceof Qo){for(const T of S.uniformNames)if(d[T]){const R=S.getBinding(l,d[T],T);m.push({name:T,property:b,binding:R})}}}return m}setUniforms(l,d,m,b){for(const{name:S,property:T,binding:R}of d)this.binders[T].setUniform(R,b,m.get(T),S)}updatePaintBuffers(l){this._buffers=[];for(const d in this.binders){const m=this.binders[d];if(l&&m instanceof Ys){const b=l.fromScale===2?m.zoomInPaintVertexBuffer:m.zoomOutPaintVertexBuffer;b&&this._buffers.push(b)}else(m instanceof fs||m instanceof Qo)&&m.paintVertexBuffer&&this._buffers.push(m.paintVertexBuffer)}}upload(l){for(const d in this.binders){const m=this.binders[d];(m instanceof fs||m instanceof Qo||m instanceof Ys)&&m.upload(l)}this.updatePaintBuffers()}destroy(){for(const l in this.binders){const d=this.binders[l];(d instanceof fs||d instanceof Qo||d instanceof Ys)&&d.destroy()}}}class mf{constructor(l,d,m=()=>!0){this.programConfigurations={};for(const b of l)this.programConfigurations[b.id]=new cp(b,d,m);this.needsUpload=!1,this._featureMap=new ei,this._bufferOffset=0}populatePaintArrays(l,d,m,b,S,T){for(const R in this.programConfigurations)this.programConfigurations[R].populatePaintArrays(l,d,b,S,T);d.id!==void 0&&this._featureMap.add(d.id,m,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,d,m,b){for(const S of m)this.needsUpload=this.programConfigurations[S.id].updatePaintArrays(l,this._featureMap,d,S,b)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(const d in this.programConfigurations)this.programConfigurations[d].upload(l);this.needsUpload=!1}}destroy(){for(const l in this.programConfigurations)this.programConfigurations[l].destroy()}}function aZ(u,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[u]||[u.replace(`${l}-`,"").replace(/-/g,"_")]}function jL(u,l,d){const m={color:{source:hf,composite:ce},number:{source:q,composite:hf}},b=function(S){return{"line-pattern":{source:pn,composite:pn},"fill-pattern":{source:pn,composite:pn},"fill-extrusion-pattern":{source:pn,composite:pn}}[S]}(u);return b&&b[d]||m[l][d]}kt("ConstantBinder",Iu),kt("CrossFadedConstantBinder",_c),kt("SourceExpressionBinder",fs),kt("CrossFadedCompositeBinder",Ys),kt("CompositeExpressionBinder",Qo),kt("ProgramConfiguration",cp,{omit:["_buffers"]}),kt("ProgramConfigurationSet",mf);const ci=8192,nT=Math.pow(2,14)-1,BL=-nT-1;function gf(u){const l=ci/u.extent,d=u.loadGeometry();for(let m=0;m<d.length;m++){const b=d[m];for(let S=0;S<b.length;S++){const T=b[S],R=Math.round(T.x*l),j=Math.round(T.y*l);T.x=N(R,BL,nT),T.y=N(j,BL,nT),(R<T.x||R>T.x+1||j<T.y||j>T.y+1)&&we("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return d}function yf(u,l){return{type:u.type,id:u.id,properties:u.properties,geometry:l?gf(u):[]}}function l_(u,l,d,m,b){u.emplaceBack(2*l+(m+1)/2,2*d+(b+1)/2)}class rT{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new _n,this.indexArray=new Wr,this.segments=new Or,this.programConfigurations=new mf(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,m){const b=this.layers[0],S=[];let T=null,R=!1;b.type==="circle"&&(T=b.layout.get("circle-sort-key"),R=!T.isConstant());for(const{feature:j,id:W,index:H,sourceLayerIndex:Z}of l){const Q=this.layers[0]._featureFilter.needGeometry,ie=yf(j,Q);if(!this.layers[0]._featureFilter.filter(new Tr(this.zoom),ie,m))continue;const oe=R?T.evaluate(ie,{},m):void 0,ue={id:W,properties:j.properties,type:j.type,sourceLayerIndex:Z,index:H,geometry:Q?ie.geometry:gf(j),patterns:{},sortKey:oe};S.push(ue)}R&&S.sort((j,W)=>j.sortKey-W.sortKey);for(const j of S){const{geometry:W,index:H,sourceLayerIndex:Z}=j,Q=l[H].feature;this.addFeature(j,W,H,m),d.featureIndex.insert(Q,W,H,Z,this.index)}}update(l,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,ds),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,d,m,b){for(const S of d)for(const T of S){const R=T.x,j=T.y;if(R<0||R>=ci||j<0||j>=ci)continue;const W=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,l.sortKey),H=W.vertexLength;l_(this.layoutVertexArray,R,j,-1,-1),l_(this.layoutVertexArray,R,j,1,-1),l_(this.layoutVertexArray,R,j,1,1),l_(this.layoutVertexArray,R,j,-1,1),this.indexArray.emplaceBack(H,H+1,H+2),this.indexArray.emplaceBack(H,H+3,H+2),W.vertexLength+=4,W.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,{},b)}}function FL(u,l){for(let d=0;d<u.length;d++)if(up(l,u[d]))return!0;for(let d=0;d<l.length;d++)if(up(u,l[d]))return!0;return!!iT(u,l)}function sZ(u,l,d){return!!up(u,l)||!!oT(l,u,d)}function UL(u,l){if(u.length===1)return WL(l,u[0]);for(let d=0;d<l.length;d++){const m=l[d];for(let b=0;b<m.length;b++)if(up(u,m[b]))return!0}for(let d=0;d<u.length;d++)if(WL(l,u[d]))return!0;for(let d=0;d<l.length;d++)if(iT(u,l[d]))return!0;return!1}function lZ(u,l,d){if(u.length>1){if(iT(u,l))return!0;for(let m=0;m<l.length;m++)if(oT(l[m],u,d))return!0}for(let m=0;m<u.length;m++)if(oT(u[m],l,d))return!0;return!1}function iT(u,l){if(u.length===0||l.length===0)return!1;for(let d=0;d<u.length-1;d++){const m=u[d],b=u[d+1];for(let S=0;S<l.length-1;S++)if(cZ(m,b,l[S],l[S+1]))return!0}return!1}function cZ(u,l,d,m){return Ee(u,d,m)!==Ee(l,d,m)&&Ee(u,l,d)!==Ee(u,l,m)}function oT(u,l,d){const m=d*d;if(l.length===1)return u.distSqr(l[0])<m;for(let b=1;b<l.length;b++)if(VL(u,l[b-1],l[b])<m)return!0;return!1}function VL(u,l,d){const m=l.distSqr(d);if(m===0)return u.distSqr(l);const b=((u.x-l.x)*(d.x-l.x)+(u.y-l.y)*(d.y-l.y))/m;return u.distSqr(b<0?l:b>1?d:d.sub(l)._mult(b)._add(l))}function WL(u,l){let d,m,b,S=!1;for(let T=0;T<u.length;T++){d=u[T];for(let R=0,j=d.length-1;R<d.length;j=R++)m=d[R],b=d[j],m.y>l.y!=b.y>l.y&&l.x<(b.x-m.x)*(l.y-m.y)/(b.y-m.y)+m.x&&(S=!S)}return S}function up(u,l){let d=!1;for(let m=0,b=u.length-1;m<u.length;b=m++){const S=u[m],T=u[b];S.y>l.y!=T.y>l.y&&l.x<(T.x-S.x)*(l.y-S.y)/(T.y-S.y)+S.x&&(d=!d)}return d}function uZ(u,l,d){const m=d[0],b=d[2];if(u.x<m.x&&l.x<m.x||u.x>b.x&&l.x>b.x||u.y<m.y&&l.y<m.y||u.y>b.y&&l.y>b.y)return!1;const S=Ee(u,l,d[0]);return S!==Ee(u,l,d[1])||S!==Ee(u,l,d[2])||S!==Ee(u,l,d[3])}function Uy(u,l,d){const m=l.paint.get(u).value;return m.kind==="constant"?m.value:d.programConfigurations.get(l.id).getMaxValue(u)}function c_(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function u_(u,l,d,m,b){if(!l[0]&&!l[1])return u;const S=x.convert(l)._mult(b);d==="viewport"&&S._rotate(-m);const T=[];for(let R=0;R<u.length;R++)T.push(u[R].sub(S));return T}let qL,GL;kt("CircleBucket",rT,{omit:["layers"]});var dZ={get paint(){return GL=GL||new oo({"circle-radius":new Zt(Ne.paint_circle["circle-radius"]),"circle-color":new Zt(Ne.paint_circle["circle-color"]),"circle-blur":new Zt(Ne.paint_circle["circle-blur"]),"circle-opacity":new Zt(Ne.paint_circle["circle-opacity"]),"circle-translate":new Bt(Ne.paint_circle["circle-translate"]),"circle-translate-anchor":new Bt(Ne.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Bt(Ne.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Bt(Ne.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Zt(Ne.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Zt(Ne.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Zt(Ne.paint_circle["circle-stroke-opacity"])})},get layout(){return qL=qL||new oo({"circle-sort-key":new Zt(Ne.layout_circle["circle-sort-key"])})}},Eo=1e-6,dp=typeof Float32Array<"u"?Float32Array:Array;function aT(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}function HL(u,l,d){var m=l[0],b=l[1],S=l[2],T=l[3],R=l[4],j=l[5],W=l[6],H=l[7],Z=l[8],Q=l[9],ie=l[10],oe=l[11],ue=l[12],ge=l[13],xe=l[14],Re=l[15],Te=d[0],Le=d[1],je=d[2],Ze=d[3];return u[0]=Te*m+Le*R+je*Z+Ze*ue,u[1]=Te*b+Le*j+je*Q+Ze*ge,u[2]=Te*S+Le*W+je*ie+Ze*xe,u[3]=Te*T+Le*H+je*oe+Ze*Re,u[4]=(Te=d[4])*m+(Le=d[5])*R+(je=d[6])*Z+(Ze=d[7])*ue,u[5]=Te*b+Le*j+je*Q+Ze*ge,u[6]=Te*S+Le*W+je*ie+Ze*xe,u[7]=Te*T+Le*H+je*oe+Ze*Re,u[8]=(Te=d[8])*m+(Le=d[9])*R+(je=d[10])*Z+(Ze=d[11])*ue,u[9]=Te*b+Le*j+je*Q+Ze*ge,u[10]=Te*S+Le*W+je*ie+Ze*xe,u[11]=Te*T+Le*H+je*oe+Ze*Re,u[12]=(Te=d[12])*m+(Le=d[13])*R+(je=d[14])*Z+(Ze=d[15])*ue,u[13]=Te*b+Le*j+je*Q+Ze*ge,u[14]=Te*S+Le*W+je*ie+Ze*xe,u[15]=Te*T+Le*H+je*oe+Ze*Re,u}Math.hypot||(Math.hypot=function(){for(var u=0,l=arguments.length;l--;)u+=arguments[l]*arguments[l];return Math.sqrt(u)});var Vy,fZ=HL;function d_(u,l,d){var m=l[0],b=l[1],S=l[2],T=l[3];return u[0]=d[0]*m+d[4]*b+d[8]*S+d[12]*T,u[1]=d[1]*m+d[5]*b+d[9]*S+d[13]*T,u[2]=d[2]*m+d[6]*b+d[10]*S+d[14]*T,u[3]=d[3]*m+d[7]*b+d[11]*S+d[15]*T,u}Vy=new dp(4),dp!=Float32Array&&(Vy[0]=0,Vy[1]=0,Vy[2]=0,Vy[3]=0);class hZ extends Ia{constructor(l){super(l,dZ)}createBucket(l){return new rT(l)}queryRadius(l){const d=l;return Uy("circle-radius",this,d)+Uy("circle-stroke-width",this,d)+c_(this.paint.get("circle-translate"))}queryIntersectsFeature(l,d,m,b,S,T,R,j){const W=u_(l,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),T.angle,R),H=this.paint.get("circle-radius").evaluate(d,m)+this.paint.get("circle-stroke-width").evaluate(d,m),Z=this.paint.get("circle-pitch-alignment")==="map",Q=Z?W:function(oe,ue){return oe.map(ge=>YL(ge,ue))}(W,j),ie=Z?H*R:H;for(const oe of b)for(const ue of oe){const ge=Z?ue:YL(ue,j);let xe=ie;const Re=d_([],[ue.x,ue.y,0,1],j);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?xe*=Re[3]/T.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(xe*=T.cameraToCenterDistance/Re[3]),sZ(Q,ge,xe))return!0}return!1}}function YL(u,l){const d=d_([],[u.x,u.y,0,1],l);return new x(d[0]/d[3],d[1]/d[3])}class KL extends rT{}let ZL;kt("HeatmapBucket",KL,{omit:["layers"]});var pZ={get paint(){return ZL=ZL||new oo({"heatmap-radius":new Zt(Ne.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Zt(Ne.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Bt(Ne.paint_heatmap["heatmap-intensity"]),"heatmap-color":new us(Ne.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Bt(Ne.paint_heatmap["heatmap-opacity"])})}};function sT(u,{width:l,height:d},m,b){if(b){if(b instanceof Uint8ClampedArray)b=new Uint8Array(b.buffer);else if(b.length!==l*d*m)throw new RangeError(`mismatched image size. expected: ${b.length} but got: ${l*d*m}`)}else b=new Uint8Array(l*d*m);return u.width=l,u.height=d,u.data=b,u}function XL(u,{width:l,height:d},m){if(l===u.width&&d===u.height)return;const b=sT({},{width:l,height:d},m);lT(u,b,{x:0,y:0},{x:0,y:0},{width:Math.min(u.width,l),height:Math.min(u.height,d)},m),u.width=l,u.height=d,u.data=b.data}function lT(u,l,d,m,b,S){if(b.width===0||b.height===0)return l;if(b.width>u.width||b.height>u.height||d.x>u.width-b.width||d.y>u.height-b.height)throw new RangeError("out of range source coordinates for image copy");if(b.width>l.width||b.height>l.height||m.x>l.width-b.width||m.y>l.height-b.height)throw new RangeError("out of range destination coordinates for image copy");const T=u.data,R=l.data;if(T===R)throw new Error("srcData equals dstData, so image is already copied");for(let j=0;j<b.height;j++){const W=((d.y+j)*u.width+d.x)*S,H=((m.y+j)*l.width+m.x)*S;for(let Z=0;Z<b.width*S;Z++)R[H+Z]=T[W+Z]}return l}class Wy{constructor(l,d){sT(this,l,1,d)}resize(l){XL(this,l,1)}clone(){return new Wy({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,m,b,S){lT(l,d,m,b,S,1)}}class $a{constructor(l,d){sT(this,l,4,d)}resize(l){XL(this,l,4)}replace(l,d){d?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new $a({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,m,b,S){lT(l,d,m,b,S,4)}}function JL(u){const l={},d=u.resolution||256,m=u.clips?u.clips.length:1,b=u.image||new $a({width:d,height:m});if(Math.log(d)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${d}`);const S=(T,R,j)=>{l[u.evaluationKey]=j;const W=u.expression.evaluate(l);b.data[T+R+0]=Math.floor(255*W.r/W.a),b.data[T+R+1]=Math.floor(255*W.g/W.a),b.data[T+R+2]=Math.floor(255*W.b/W.a),b.data[T+R+3]=Math.floor(255*W.a)};if(u.clips)for(let T=0,R=0;T<m;++T,R+=4*d)for(let j=0,W=0;j<d;j++,W+=4){const H=j/(d-1),{start:Z,end:Q}=u.clips[T];S(R,W,Z*(1-H)+Q*H)}else for(let T=0,R=0;T<d;T++,R+=4)S(0,R,T/(d-1));return b}kt("AlphaImage",Wy),kt("RGBAImage",$a);class mZ extends Ia{createBucket(l){return new KL(l)}constructor(l){super(l,pZ),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=JL({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let QL;var gZ={get paint(){return QL=QL||new oo({"hillshade-illumination-direction":new Bt(Ne.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Bt(Ne.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Bt(Ne.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Bt(Ne.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Bt(Ne.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Bt(Ne.paint_hillshade["hillshade-accent-color"])})}};class yZ extends Ia{constructor(l){super(l,gZ)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const vZ=kr([{name:"a_pos",components:2,type:"Int16"}],4),{members:bZ}=vZ;var cT={exports:{}};function f_(u,l,d){d=d||2;var m,b,S,T,R,j,W,H=l&&l.length,Z=H?l[0]*d:u.length,Q=eN(u,0,Z,d,!0),ie=[];if(!Q||Q.next===Q.prev)return ie;if(H&&(Q=function(ue,ge,xe,Re){var Te,Le,je,Ze=[];for(Te=0,Le=ge.length;Te<Le;Te++)(je=eN(ue,ge[Te]*Re,Te<Le-1?ge[Te+1]*Re:ue.length,Re,!1))===je.next&&(je.steiner=!0),Ze.push(kZ(je));for(Ze.sort(EZ),Te=0;Te<Ze.length;Te++)xe=CZ(Ze[Te],xe);return xe}(u,l,Q,d)),u.length>80*d){m=S=u[0],b=T=u[1];for(var oe=d;oe<Z;oe+=d)(R=u[oe])<m&&(m=R),(j=u[oe+1])<b&&(b=j),R>S&&(S=R),j>T&&(T=j);W=(W=Math.max(S-m,T-b))!==0?32767/W:0}return qy(Q,ie,d,m,b,W,0),ie}function eN(u,l,d,m,b){var S,T;if(b===fT(u,l,d,m)>0)for(S=l;S<d;S+=m)T=rN(S,u[S],u[S+1],T);else for(S=d-m;S>=l;S-=m)T=rN(S,u[S],u[S+1],T);return T&&h_(T,T.next)&&(Hy(T),T=T.next),T}function vf(u,l){if(!u)return u;l||(l=u);var d,m=u;do if(d=!1,m.steiner||!h_(m,m.next)&&ni(m.prev,m,m.next)!==0)m=m.next;else{if(Hy(m),(m=l=m.prev)===m.next)break;d=!0}while(d||m!==l);return l}function qy(u,l,d,m,b,S,T){if(u){!T&&S&&function(H,Z,Q,ie){var oe=H;do oe.z===0&&(oe.z=uT(oe.x,oe.y,Z,Q,ie)),oe.prevZ=oe.prev,oe.nextZ=oe.next,oe=oe.next;while(oe!==H);oe.prevZ.nextZ=null,oe.prevZ=null,function(ue){var ge,xe,Re,Te,Le,je,Ze,wt,Rt=1;do{for(xe=ue,ue=null,Le=null,je=0;xe;){for(je++,Re=xe,Ze=0,ge=0;ge<Rt&&(Ze++,Re=Re.nextZ);ge++);for(wt=Rt;Ze>0||wt>0&&Re;)Ze!==0&&(wt===0||!Re||xe.z<=Re.z)?(Te=xe,xe=xe.nextZ,Ze--):(Te=Re,Re=Re.nextZ,wt--),Le?Le.nextZ=Te:ue=Te,Te.prevZ=Le,Le=Te;xe=Re}Le.nextZ=null,Rt*=2}while(je>1)}(oe)}(u,m,b,S);for(var R,j,W=u;u.prev!==u.next;)if(R=u.prev,j=u.next,S?_Z(u,m,b,S):xZ(u))l.push(R.i/d|0),l.push(u.i/d|0),l.push(j.i/d|0),Hy(u),u=j.next,W=j.next;else if((u=j)===W){T?T===1?qy(u=wZ(vf(u),l,d),l,d,m,b,S,2):T===2&&SZ(u,l,d,m,b,S):qy(vf(u),l,d,m,b,S,1);break}}}function xZ(u){var l=u.prev,d=u,m=u.next;if(ni(l,d,m)>=0)return!1;for(var b=l.x,S=d.x,T=m.x,R=l.y,j=d.y,W=m.y,H=b<S?b<T?b:T:S<T?S:T,Z=R<j?R<W?R:W:j<W?j:W,Q=b>S?b>T?b:T:S>T?S:T,ie=R>j?R>W?R:W:j>W?j:W,oe=m.next;oe!==l;){if(oe.x>=H&&oe.x<=Q&&oe.y>=Z&&oe.y<=ie&&fp(b,R,S,j,T,W,oe.x,oe.y)&&ni(oe.prev,oe,oe.next)>=0)return!1;oe=oe.next}return!0}function _Z(u,l,d,m){var b=u.prev,S=u,T=u.next;if(ni(b,S,T)>=0)return!1;for(var R=b.x,j=S.x,W=T.x,H=b.y,Z=S.y,Q=T.y,ie=R<j?R<W?R:W:j<W?j:W,oe=H<Z?H<Q?H:Q:Z<Q?Z:Q,ue=R>j?R>W?R:W:j>W?j:W,ge=H>Z?H>Q?H:Q:Z>Q?Z:Q,xe=uT(ie,oe,l,d,m),Re=uT(ue,ge,l,d,m),Te=u.prevZ,Le=u.nextZ;Te&&Te.z>=xe&&Le&&Le.z<=Re;){if(Te.x>=ie&&Te.x<=ue&&Te.y>=oe&&Te.y<=ge&&Te!==b&&Te!==T&&fp(R,H,j,Z,W,Q,Te.x,Te.y)&&ni(Te.prev,Te,Te.next)>=0||(Te=Te.prevZ,Le.x>=ie&&Le.x<=ue&&Le.y>=oe&&Le.y<=ge&&Le!==b&&Le!==T&&fp(R,H,j,Z,W,Q,Le.x,Le.y)&&ni(Le.prev,Le,Le.next)>=0))return!1;Le=Le.nextZ}for(;Te&&Te.z>=xe;){if(Te.x>=ie&&Te.x<=ue&&Te.y>=oe&&Te.y<=ge&&Te!==b&&Te!==T&&fp(R,H,j,Z,W,Q,Te.x,Te.y)&&ni(Te.prev,Te,Te.next)>=0)return!1;Te=Te.prevZ}for(;Le&&Le.z<=Re;){if(Le.x>=ie&&Le.x<=ue&&Le.y>=oe&&Le.y<=ge&&Le!==b&&Le!==T&&fp(R,H,j,Z,W,Q,Le.x,Le.y)&&ni(Le.prev,Le,Le.next)>=0)return!1;Le=Le.nextZ}return!0}function wZ(u,l,d){var m=u;do{var b=m.prev,S=m.next.next;!h_(b,S)&&tN(b,m,m.next,S)&&Gy(b,S)&&Gy(S,b)&&(l.push(b.i/d|0),l.push(m.i/d|0),l.push(S.i/d|0),Hy(m),Hy(m.next),m=u=S),m=m.next}while(m!==u);return vf(m)}function SZ(u,l,d,m,b,S){var T=u;do{for(var R=T.next.next;R!==T.prev;){if(T.i!==R.i&&PZ(T,R)){var j=nN(T,R);return T=vf(T,T.next),j=vf(j,j.next),qy(T,l,d,m,b,S,0),void qy(j,l,d,m,b,S,0)}R=R.next}T=T.next}while(T!==u)}function EZ(u,l){return u.x-l.x}function CZ(u,l){var d=function(b,S){var T,R=S,j=b.x,W=b.y,H=-1/0;do{if(W<=R.y&&W>=R.next.y&&R.next.y!==R.y){var Z=R.x+(W-R.y)*(R.next.x-R.x)/(R.next.y-R.y);if(Z<=j&&Z>H&&(H=Z,T=R.x<R.next.x?R:R.next,Z===j))return T}R=R.next}while(R!==S);if(!T)return null;var Q,ie=T,oe=T.x,ue=T.y,ge=1/0;R=T;do j>=R.x&&R.x>=oe&&j!==R.x&&fp(W<ue?j:H,W,oe,ue,W<ue?H:j,W,R.x,R.y)&&(Q=Math.abs(W-R.y)/(j-R.x),Gy(R,b)&&(Q<ge||Q===ge&&(R.x>T.x||R.x===T.x&&TZ(T,R)))&&(T=R,ge=Q)),R=R.next;while(R!==ie);return T}(u,l);if(!d)return l;var m=nN(d,u);return vf(m,m.next),vf(d,d.next)}function TZ(u,l){return ni(u.prev,u,l.prev)<0&&ni(l.next,u,u.next)<0}function uT(u,l,d,m,b){return(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-d)*b|0)|u<<8))|u<<4))|u<<2))|u<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-m)*b|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function kZ(u){var l=u,d=u;do(l.x<d.x||l.x===d.x&&l.y<d.y)&&(d=l),l=l.next;while(l!==u);return d}function fp(u,l,d,m,b,S,T,R){return(b-T)*(l-R)>=(u-T)*(S-R)&&(u-T)*(m-R)>=(d-T)*(l-R)&&(d-T)*(S-R)>=(b-T)*(m-R)}function PZ(u,l){return u.next.i!==l.i&&u.prev.i!==l.i&&!function(d,m){var b=d;do{if(b.i!==d.i&&b.next.i!==d.i&&b.i!==m.i&&b.next.i!==m.i&&tN(b,b.next,d,m))return!0;b=b.next}while(b!==d);return!1}(u,l)&&(Gy(u,l)&&Gy(l,u)&&function(d,m){var b=d,S=!1,T=(d.x+m.x)/2,R=(d.y+m.y)/2;do b.y>R!=b.next.y>R&&b.next.y!==b.y&&T<(b.next.x-b.x)*(R-b.y)/(b.next.y-b.y)+b.x&&(S=!S),b=b.next;while(b!==d);return S}(u,l)&&(ni(u.prev,u,l.prev)||ni(u,l.prev,l))||h_(u,l)&&ni(u.prev,u,u.next)>0&&ni(l.prev,l,l.next)>0)}function ni(u,l,d){return(l.y-u.y)*(d.x-l.x)-(l.x-u.x)*(d.y-l.y)}function h_(u,l){return u.x===l.x&&u.y===l.y}function tN(u,l,d,m){var b=m_(ni(u,l,d)),S=m_(ni(u,l,m)),T=m_(ni(d,m,u)),R=m_(ni(d,m,l));return b!==S&&T!==R||!(b!==0||!p_(u,d,l))||!(S!==0||!p_(u,m,l))||!(T!==0||!p_(d,u,m))||!(R!==0||!p_(d,l,m))}function p_(u,l,d){return l.x<=Math.max(u.x,d.x)&&l.x>=Math.min(u.x,d.x)&&l.y<=Math.max(u.y,d.y)&&l.y>=Math.min(u.y,d.y)}function m_(u){return u>0?1:u<0?-1:0}function Gy(u,l){return ni(u.prev,u,u.next)<0?ni(u,l,u.next)>=0&&ni(u,u.prev,l)>=0:ni(u,l,u.prev)<0||ni(u,u.next,l)<0}function nN(u,l){var d=new dT(u.i,u.x,u.y),m=new dT(l.i,l.x,l.y),b=u.next,S=l.prev;return u.next=l,l.prev=u,d.next=b,b.prev=d,m.next=d,d.prev=m,S.next=m,m.prev=S,m}function rN(u,l,d,m){var b=new dT(u,l,d);return m?(b.next=m.next,b.prev=m,m.next.prev=b,m.next=b):(b.prev=b,b.next=b),b}function Hy(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function dT(u,l,d){this.i=u,this.x=l,this.y=d,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function fT(u,l,d,m){for(var b=0,S=l,T=d-m;S<d;S+=m)b+=(u[T]-u[S])*(u[S+1]+u[T+1]),T=S;return b}cT.exports=f_,cT.exports.default=f_,f_.deviation=function(u,l,d,m){var b=l&&l.length,S=Math.abs(fT(u,0,b?l[0]*d:u.length,d));if(b)for(var T=0,R=l.length;T<R;T++)S-=Math.abs(fT(u,l[T]*d,T<R-1?l[T+1]*d:u.length,d));var j=0;for(T=0;T<m.length;T+=3){var W=m[T]*d,H=m[T+1]*d,Z=m[T+2]*d;j+=Math.abs((u[W]-u[Z])*(u[H+1]-u[W+1])-(u[W]-u[H])*(u[Z+1]-u[W+1]))}return S===0&&j===0?0:Math.abs((j-S)/S)},f_.flatten=function(u){for(var l=u[0][0].length,d={vertices:[],holes:[],dimensions:l},m=0,b=0;b<u.length;b++){for(var S=0;S<u[b].length;S++)for(var T=0;T<l;T++)d.vertices.push(u[b][S][T]);b>0&&d.holes.push(m+=u[b-1].length)}return d};var iN=h(cT.exports);function OZ(u,l,d,m,b){oN(u,l,d||0,m||u.length-1,b||AZ)}function oN(u,l,d,m,b){for(;m>d;){if(m-d>600){var S=m-d+1,T=l-d+1,R=Math.log(S),j=.5*Math.exp(2*R/3),W=.5*Math.sqrt(R*j*(S-j)/S)*(T-S/2<0?-1:1);oN(u,l,Math.max(d,Math.floor(l-T*j/S+W)),Math.min(m,Math.floor(l+(S-T)*j/S+W)),b)}var H=u[l],Z=d,Q=m;for(Yy(u,d,l),b(u[m],H)>0&&Yy(u,d,m);Z<Q;){for(Yy(u,Z,Q),Z++,Q--;b(u[Z],H)<0;)Z++;for(;b(u[Q],H)>0;)Q--}b(u[d],H)===0?Yy(u,d,Q):Yy(u,++Q,m),Q<=l&&(d=Q+1),l<=Q&&(m=Q-1)}}function Yy(u,l,d){var m=u[l];u[l]=u[d],u[d]=m}function AZ(u,l){return u<l?-1:u>l?1:0}function hT(u,l){const d=u.length;if(d<=1)return[u];const m=[];let b,S;for(let T=0;T<d;T++){const R=Oe(u[T]);R!==0&&(u[T].area=Math.abs(R),S===void 0&&(S=R<0),S===R<0?(b&&m.push(b),b=[u[T]]):b.push(u[T]))}if(b&&m.push(b),l>1)for(let T=0;T<m.length;T++)m[T].length<=l||(OZ(m[T],l,1,m[T].length-1,MZ),m[T]=m[T].slice(0,l));return m}function MZ(u,l){return l.area-u.area}function pT(u,l,d){const m=d.patternDependencies;let b=!1;for(const S of l){const T=S.paint.get(`${u}-pattern`);T.isConstant()||(b=!0);const R=T.constantOr(null);R&&(b=!0,m[R.to]=!0,m[R.from]=!0)}return b}function mT(u,l,d,m,b){const S=b.patternDependencies;for(const T of l){const R=T.paint.get(`${u}-pattern`).value;if(R.kind!=="constant"){let j=R.evaluate({zoom:m-1},d,{},b.availableImages),W=R.evaluate({zoom:m},d,{},b.availableImages),H=R.evaluate({zoom:m+1},d,{},b.availableImages);j=j&&j.name?j.name:j,W=W&&W.name?W.name:W,H=H&&H.name?H.name:H,S[j]=!0,S[W]=!0,S[H]=!0,d.patterns[T.id]={min:j,mid:W,max:H}}}return d}class gT{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new bt,this.indexArray=new Wr,this.indexArray2=new Lr,this.programConfigurations=new mf(l.layers,l.zoom),this.segments=new Or,this.segments2=new Or,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,m){this.hasPattern=pT("fill",this.layers,d);const b=this.layers[0].layout.get("fill-sort-key"),S=!b.isConstant(),T=[];for(const{feature:R,id:j,index:W,sourceLayerIndex:H}of l){const Z=this.layers[0]._featureFilter.needGeometry,Q=yf(R,Z);if(!this.layers[0]._featureFilter.filter(new Tr(this.zoom),Q,m))continue;const ie=S?b.evaluate(Q,{},m,d.availableImages):void 0,oe={id:j,properties:R.properties,type:R.type,sourceLayerIndex:H,index:W,geometry:Z?Q.geometry:gf(R),patterns:{},sortKey:ie};T.push(oe)}S&&T.sort((R,j)=>R.sortKey-j.sortKey);for(const R of T){const{geometry:j,index:W,sourceLayerIndex:H}=R;if(this.hasPattern){const Z=mT("fill",this.layers,R,this.zoom,d);this.patternFeatures.push(Z)}else this.addFeature(R,j,W,m,{});d.featureIndex.insert(l[W].feature,j,W,H,this.index)}}update(l,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,m)}addFeatures(l,d,m){for(const b of this.patternFeatures)this.addFeature(b,b.geometry,b.index,d,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,bZ),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,d,m,b,S){for(const T of hT(d,500)){let R=0;for(const ie of T)R+=ie.length;const j=this.segments.prepareSegment(R,this.layoutVertexArray,this.indexArray),W=j.vertexLength,H=[],Z=[];for(const ie of T){if(ie.length===0)continue;ie!==T[0]&&Z.push(H.length/2);const oe=this.segments2.prepareSegment(ie.length,this.layoutVertexArray,this.indexArray2),ue=oe.vertexLength;this.layoutVertexArray.emplaceBack(ie[0].x,ie[0].y),this.indexArray2.emplaceBack(ue+ie.length-1,ue),H.push(ie[0].x),H.push(ie[0].y);for(let ge=1;ge<ie.length;ge++)this.layoutVertexArray.emplaceBack(ie[ge].x,ie[ge].y),this.indexArray2.emplaceBack(ue+ge-1,ue+ge),H.push(ie[ge].x),H.push(ie[ge].y);oe.vertexLength+=ie.length,oe.primitiveLength+=ie.length}const Q=iN(H,Z);for(let ie=0;ie<Q.length;ie+=3)this.indexArray.emplaceBack(W+Q[ie],W+Q[ie+1],W+Q[ie+2]);j.vertexLength+=R,j.primitiveLength+=Q.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,S,b)}}let aN,sN;kt("FillBucket",gT,{omit:["layers","patternFeatures"]});var IZ={get paint(){return sN=sN||new oo({"fill-antialias":new Bt(Ne.paint_fill["fill-antialias"]),"fill-opacity":new Zt(Ne.paint_fill["fill-opacity"]),"fill-color":new Zt(Ne.paint_fill["fill-color"]),"fill-outline-color":new Zt(Ne.paint_fill["fill-outline-color"]),"fill-translate":new Bt(Ne.paint_fill["fill-translate"]),"fill-translate-anchor":new Bt(Ne.paint_fill["fill-translate-anchor"]),"fill-pattern":new ip(Ne.paint_fill["fill-pattern"])})},get layout(){return aN=aN||new oo({"fill-sort-key":new Zt(Ne.layout_fill["fill-sort-key"])})}};class $Z extends Ia{constructor(l){super(l,IZ)}recalculate(l,d){super.recalculate(l,d);const m=this.paint._values["fill-outline-color"];m.value.kind==="constant"&&m.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(l){return new gT(l)}queryRadius(){return c_(this.paint.get("fill-translate"))}queryIntersectsFeature(l,d,m,b,S,T,R){return UL(u_(l,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),T.angle,R),b)}isTileClipped(){return!0}}const RZ=kr([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),DZ=kr([{name:"a_centroid",components:2,type:"Int16"}],4),{members:LZ}=RZ;var $u={},NZ=g,lN=hp;function hp(u,l,d,m,b){this.properties={},this.extent=d,this.type=0,this._pbf=u,this._geometry=-1,this._keys=m,this._values=b,u.readFields(zZ,this,l)}function zZ(u,l,d){u==1?l.id=d.readVarint():u==2?function(m,b){for(var S=m.readVarint()+m.pos;m.pos<S;){var T=b._keys[m.readVarint()],R=b._values[m.readVarint()];b.properties[T]=R}}(d,l):u==3?l.type=d.readVarint():u==4&&(l._geometry=d.pos)}function jZ(u){for(var l,d,m=0,b=0,S=u.length,T=S-1;b<S;T=b++)m+=((d=u[T]).x-(l=u[b]).x)*(l.y+d.y);return m}hp.types=["Unknown","Point","LineString","Polygon"],hp.prototype.loadGeometry=function(){var u=this._pbf;u.pos=this._geometry;for(var l,d=u.readVarint()+u.pos,m=1,b=0,S=0,T=0,R=[];u.pos<d;){if(b<=0){var j=u.readVarint();m=7&j,b=j>>3}if(b--,m===1||m===2)S+=u.readSVarint(),T+=u.readSVarint(),m===1&&(l&&R.push(l),l=[]),l.push(new NZ(S,T));else{if(m!==7)throw new Error("unknown command "+m);l&&l.push(l[0].clone())}}return l&&R.push(l),R},hp.prototype.bbox=function(){var u=this._pbf;u.pos=this._geometry;for(var l=u.readVarint()+u.pos,d=1,m=0,b=0,S=0,T=1/0,R=-1/0,j=1/0,W=-1/0;u.pos<l;){if(m<=0){var H=u.readVarint();d=7&H,m=H>>3}if(m--,d===1||d===2)(b+=u.readSVarint())<T&&(T=b),b>R&&(R=b),(S+=u.readSVarint())<j&&(j=S),S>W&&(W=S);else if(d!==7)throw new Error("unknown command "+d)}return[T,j,R,W]},hp.prototype.toGeoJSON=function(u,l,d){var m,b,S=this.extent*Math.pow(2,d),T=this.extent*u,R=this.extent*l,j=this.loadGeometry(),W=hp.types[this.type];function H(ie){for(var oe=0;oe<ie.length;oe++){var ue=ie[oe];ie[oe]=[360*(ue.x+T)/S-180,360/Math.PI*Math.atan(Math.exp((180-360*(ue.y+R)/S)*Math.PI/180))-90]}}switch(this.type){case 1:var Z=[];for(m=0;m<j.length;m++)Z[m]=j[m][0];H(j=Z);break;case 2:for(m=0;m<j.length;m++)H(j[m]);break;case 3:for(j=function(ie){var oe=ie.length;if(oe<=1)return[ie];for(var ue,ge,xe=[],Re=0;Re<oe;Re++){var Te=jZ(ie[Re]);Te!==0&&(ge===void 0&&(ge=Te<0),ge===Te<0?(ue&&xe.push(ue),ue=[ie[Re]]):ue.push(ie[Re]))}return ue&&xe.push(ue),xe}(j),m=0;m<j.length;m++)for(b=0;b<j[m].length;b++)H(j[m][b])}j.length===1?j=j[0]:W="Multi"+W;var Q={type:"Feature",geometry:{type:W,coordinates:j},properties:this.properties};return"id"in this&&(Q.id=this.id),Q};var BZ=lN,cN=uN;function uN(u,l){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=u,this._keys=[],this._values=[],this._features=[],u.readFields(FZ,this,l),this.length=this._features.length}function FZ(u,l,d){u===15?l.version=d.readVarint():u===1?l.name=d.readString():u===5?l.extent=d.readVarint():u===2?l._features.push(d.pos):u===3?l._keys.push(d.readString()):u===4&&l._values.push(function(m){for(var b=null,S=m.readVarint()+m.pos;m.pos<S;){var T=m.readVarint()>>3;b=T===1?m.readString():T===2?m.readFloat():T===3?m.readDouble():T===4?m.readVarint64():T===5?m.readVarint():T===6?m.readSVarint():T===7?m.readBoolean():null}return b}(d))}uN.prototype.feature=function(u){if(u<0||u>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[u];var l=this._pbf.readVarint()+this._pbf.pos;return new BZ(this._pbf,l,this.extent,this._keys,this._values)};var UZ=cN;function VZ(u,l,d){if(u===3){var m=new UZ(d,d.readVarint()+d.pos);m.length&&(l[m.name]=m)}}$u.VectorTile=function(u,l){this.layers=u.readFields(VZ,{},l)},$u.VectorTileFeature=lN,$u.VectorTileLayer=cN;const WZ=$u.VectorTileFeature.types,yT=Math.pow(2,13);function Ky(u,l,d,m,b,S,T,R){u.emplaceBack(l,d,2*Math.floor(m*yT)+T,b*yT*2,S*yT*2,Math.round(R))}class vT{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new Jt,this.centroidVertexArray=new $t,this.indexArray=new Wr,this.programConfigurations=new mf(l.layers,l.zoom),this.segments=new Or,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,m){this.features=[],this.hasPattern=pT("fill-extrusion",this.layers,d);for(const{feature:b,id:S,index:T,sourceLayerIndex:R}of l){const j=this.layers[0]._featureFilter.needGeometry,W=yf(b,j);if(!this.layers[0]._featureFilter.filter(new Tr(this.zoom),W,m))continue;const H={id:S,sourceLayerIndex:R,index:T,geometry:j?W.geometry:gf(b),properties:b.properties,type:b.type,patterns:{}};this.hasPattern?this.features.push(mT("fill-extrusion",this.layers,H,this.zoom,d)):this.addFeature(H,H.geometry,T,m,{}),d.featureIndex.insert(b,H.geometry,T,R,this.index,!0)}}addFeatures(l,d,m){for(const b of this.features){const{geometry:S}=b;this.addFeature(b,S,b.index,d,m)}}update(l,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,m)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,LZ),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,DZ.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,d,m,b,S){const T={x:0,y:0,vertexCount:0};for(const R of hT(d,500)){let j=0;for(const oe of R)j+=oe.length;let W=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const oe of R){if(oe.length===0||GZ(oe))continue;let ue=0;for(let ge=0;ge<oe.length;ge++){const xe=oe[ge];if(ge>=1){const Re=oe[ge-1];if(!qZ(xe,Re)){W.vertexLength+4>Or.MAX_VERTEX_ARRAY_LENGTH&&(W=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const Te=xe.sub(Re)._perp()._unit(),Le=Re.dist(xe);ue+Le>32768&&(ue=0),Ky(this.layoutVertexArray,xe.x,xe.y,Te.x,Te.y,0,0,ue),Ky(this.layoutVertexArray,xe.x,xe.y,Te.x,Te.y,0,1,ue),T.x+=2*xe.x,T.y+=2*xe.y,T.vertexCount+=2,ue+=Le,Ky(this.layoutVertexArray,Re.x,Re.y,Te.x,Te.y,0,0,ue),Ky(this.layoutVertexArray,Re.x,Re.y,Te.x,Te.y,0,1,ue),T.x+=2*Re.x,T.y+=2*Re.y,T.vertexCount+=2;const je=W.vertexLength;this.indexArray.emplaceBack(je,je+2,je+1),this.indexArray.emplaceBack(je+1,je+2,je+3),W.vertexLength+=4,W.primitiveLength+=2}}}}if(W.vertexLength+j>Or.MAX_VERTEX_ARRAY_LENGTH&&(W=this.segments.prepareSegment(j,this.layoutVertexArray,this.indexArray)),WZ[l.type]!=="Polygon")continue;const H=[],Z=[],Q=W.vertexLength;for(const oe of R)if(oe.length!==0){oe!==R[0]&&Z.push(H.length/2);for(let ue=0;ue<oe.length;ue++){const ge=oe[ue];Ky(this.layoutVertexArray,ge.x,ge.y,0,0,1,1,0),T.x+=ge.x,T.y+=ge.y,T.vertexCount+=1,H.push(ge.x),H.push(ge.y)}}const ie=iN(H,Z);for(let oe=0;oe<ie.length;oe+=3)this.indexArray.emplaceBack(Q+ie[oe],Q+ie[oe+2],Q+ie[oe+1]);W.primitiveLength+=ie.length/3,W.vertexLength+=j}for(let R=0;R<T.vertexCount;R++)this.centroidVertexArray.emplaceBack(Math.floor(T.x/T.vertexCount),Math.floor(T.y/T.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,S,b)}}function qZ(u,l){return u.x===l.x&&(u.x<0||u.x>ci)||u.y===l.y&&(u.y<0||u.y>ci)}function GZ(u){return u.every(l=>l.x<0)||u.every(l=>l.x>ci)||u.every(l=>l.y<0)||u.every(l=>l.y>ci)}let dN;kt("FillExtrusionBucket",vT,{omit:["layers","features"]});var HZ={get paint(){return dN=dN||new oo({"fill-extrusion-opacity":new Bt(Ne["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Zt(Ne["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Bt(Ne["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Bt(Ne["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ip(Ne["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Zt(Ne["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Zt(Ne["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Bt(Ne["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class YZ extends Ia{constructor(l){super(l,HZ)}createBucket(l){return new vT(l)}queryRadius(){return c_(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(l,d,m,b,S,T,R,j){const W=u_(l,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),T.angle,R),H=this.paint.get("fill-extrusion-height").evaluate(d,m),Z=this.paint.get("fill-extrusion-base").evaluate(d,m),Q=function(oe,ue,ge,xe){const Re=[];for(const Te of oe){const Le=[Te.x,Te.y,0,1];d_(Le,Le,ue),Re.push(new x(Le[0]/Le[3],Le[1]/Le[3]))}return Re}(W,j),ie=function(oe,ue,ge,xe){const Re=[],Te=[],Le=xe[8]*ue,je=xe[9]*ue,Ze=xe[10]*ue,wt=xe[11]*ue,Rt=xe[8]*ge,_t=xe[9]*ge,xt=xe[10]*ge,ct=xe[11]*ge;for(const At of oe){const pt=[],rt=[];for(const Yt of At){const zt=Yt.x,bn=Yt.y,xr=xe[0]*zt+xe[4]*bn+xe[12],Ar=xe[1]*zt+xe[5]*bn+xe[13],yi=xe[2]*zt+xe[6]*bn+xe[14],ga=xe[3]*zt+xe[7]*bn+xe[15],Co=yi+Ze,ui=ga+wt,Li=xr+Rt,Yi=Ar+_t,To=yi+xt,ko=ga+ct,vi=new x((xr+Le)/ui,(Ar+je)/ui);vi.z=Co/ui,pt.push(vi);const bi=new x(Li/ko,Yi/ko);bi.z=To/ko,rt.push(bi)}Re.push(pt),Te.push(rt)}return[Re,Te]}(b,Z,H,j);return function(oe,ue,ge){let xe=1/0;UL(ge,ue)&&(xe=fN(ge,ue[0]));for(let Re=0;Re<ue.length;Re++){const Te=ue[Re],Le=oe[Re];for(let je=0;je<Te.length-1;je++){const Ze=Te[je],wt=[Ze,Te[je+1],Le[je+1],Le[je],Ze];FL(ge,wt)&&(xe=Math.min(xe,fN(ge,wt)))}}return xe!==1/0&&xe}(ie[0],ie[1],Q)}}function Zy(u,l){return u.x*l.x+u.y*l.y}function fN(u,l){if(u.length===1){let d=0;const m=l[d++];let b;for(;!b||m.equals(b);)if(b=l[d++],!b)return 1/0;for(;d<l.length;d++){const S=l[d],T=u[0],R=b.sub(m),j=S.sub(m),W=T.sub(m),H=Zy(R,R),Z=Zy(R,j),Q=Zy(j,j),ie=Zy(W,R),oe=Zy(W,j),ue=H*Q-Z*Z,ge=(Q*ie-Z*oe)/ue,xe=(H*oe-Z*ie)/ue,Re=m.z*(1-ge-xe)+b.z*ge+S.z*xe;if(isFinite(Re))return Re}return 1/0}{let d=1/0;for(const m of l)d=Math.min(d,m.z);return d}}const KZ=kr([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:ZZ}=KZ,XZ=kr([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:JZ}=XZ,QZ=$u.VectorTileFeature.types,eX=Math.cos(Math.PI/180*37.5),hN=Math.pow(2,14)/.5;class bT{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(d=>{this.gradients[d.id]={}}),this.layoutVertexArray=new Nt,this.layoutVertexArray2=new Pr,this.indexArray=new Wr,this.programConfigurations=new mf(l.layers,l.zoom),this.segments=new Or,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,m){this.hasPattern=pT("line",this.layers,d);const b=this.layers[0].layout.get("line-sort-key"),S=!b.isConstant(),T=[];for(const{feature:R,id:j,index:W,sourceLayerIndex:H}of l){const Z=this.layers[0]._featureFilter.needGeometry,Q=yf(R,Z);if(!this.layers[0]._featureFilter.filter(new Tr(this.zoom),Q,m))continue;const ie=S?b.evaluate(Q,{},m):void 0,oe={id:j,properties:R.properties,type:R.type,sourceLayerIndex:H,index:W,geometry:Z?Q.geometry:gf(R),patterns:{},sortKey:ie};T.push(oe)}S&&T.sort((R,j)=>R.sortKey-j.sortKey);for(const R of T){const{geometry:j,index:W,sourceLayerIndex:H}=R;if(this.hasPattern){const Z=mT("line",this.layers,R,this.zoom,d);this.patternFeatures.push(Z)}else this.addFeature(R,j,W,m,{});d.featureIndex.insert(l[W].feature,j,W,H,this.index)}}update(l,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,m)}addFeatures(l,d,m){for(const b of this.patternFeatures)this.addFeature(b,b.geometry,b.index,d,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,JZ)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,ZZ),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,d,m,b,S){const T=this.layers[0].layout,R=T.get("line-join").evaluate(l,{}),j=T.get("line-cap"),W=T.get("line-miter-limit"),H=T.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(const Z of d)this.addLine(Z,l,R,j,W,H);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,S,b)}addLine(l,d,m,b,S,T){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let xe=0;xe<l.length-1;xe++)this.totalDistance+=l[xe].dist(l[xe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const R=QZ[d.type]==="Polygon";let j=l.length;for(;j>=2&&l[j-1].equals(l[j-2]);)j--;let W=0;for(;W<j-1&&l[W].equals(l[W+1]);)W++;if(j<(R?3:2))return;m==="bevel"&&(S=1.05);const H=this.overscaling<=16?15*ci/(512*this.overscaling):0,Z=this.segments.prepareSegment(10*j,this.layoutVertexArray,this.indexArray);let Q,ie,oe,ue,ge;this.e1=this.e2=-1,R&&(Q=l[j-2],ge=l[W].sub(Q)._unit()._perp());for(let xe=W;xe<j;xe++){if(oe=xe===j-1?R?l[W+1]:void 0:l[xe+1],oe&&l[xe].equals(oe))continue;ge&&(ue=ge),Q&&(ie=Q),Q=l[xe],ge=oe?oe.sub(Q)._unit()._perp():ue,ue=ue||ge;let Re=ue.add(ge);Re.x===0&&Re.y===0||Re._unit();const Te=ue.x*ge.x+ue.y*ge.y,Le=Re.x*ge.x+Re.y*ge.y,je=Le!==0?1/Le:1/0,Ze=2*Math.sqrt(2-2*Le),wt=Le<eX&&ie&&oe,Rt=ue.x*ge.y-ue.y*ge.x>0;if(wt&&xe>W){const ct=Q.dist(ie);if(ct>2*H){const At=Q.sub(Q.sub(ie)._mult(H/ct)._round());this.updateDistance(ie,At),this.addCurrentVertex(At,ue,0,0,Z),ie=At}}const _t=ie&&oe;let xt=_t?m:R?"butt":b;if(_t&&xt==="round"&&(je<T?xt="miter":je<=2&&(xt="fakeround")),xt==="miter"&&je>S&&(xt="bevel"),xt==="bevel"&&(je>2&&(xt="flipbevel"),je<S&&(xt="miter")),ie&&this.updateDistance(ie,Q),xt==="miter")Re._mult(je),this.addCurrentVertex(Q,Re,0,0,Z);else if(xt==="flipbevel"){if(je>100)Re=ge.mult(-1);else{const ct=je*ue.add(ge).mag()/ue.sub(ge).mag();Re._perp()._mult(ct*(Rt?-1:1))}this.addCurrentVertex(Q,Re,0,0,Z),this.addCurrentVertex(Q,Re.mult(-1),0,0,Z)}else if(xt==="bevel"||xt==="fakeround"){const ct=-Math.sqrt(je*je-1),At=Rt?ct:0,pt=Rt?0:ct;if(ie&&this.addCurrentVertex(Q,ue,At,pt,Z),xt==="fakeround"){const rt=Math.round(180*Ze/Math.PI/20);for(let Yt=1;Yt<rt;Yt++){let zt=Yt/rt;if(zt!==.5){const xr=zt-.5;zt+=zt*xr*(zt-1)*((1.0904+Te*(Te*(3.55645-1.43519*Te)-3.2452))*xr*xr+(.848013+Te*(.215638*Te-1.06021)))}const bn=ge.sub(ue)._mult(zt)._add(ue)._unit()._mult(Rt?-1:1);this.addHalfVertex(Q,bn.x,bn.y,!1,Rt,0,Z)}}oe&&this.addCurrentVertex(Q,ge,-At,-pt,Z)}else if(xt==="butt")this.addCurrentVertex(Q,Re,0,0,Z);else if(xt==="square"){const ct=ie?1:-1;this.addCurrentVertex(Q,Re,ct,ct,Z)}else xt==="round"&&(ie&&(this.addCurrentVertex(Q,ue,0,0,Z),this.addCurrentVertex(Q,ue,1,1,Z,!0)),oe&&(this.addCurrentVertex(Q,ge,-1,-1,Z,!0),this.addCurrentVertex(Q,ge,0,0,Z)));if(wt&&xe<j-1){const ct=Q.dist(oe);if(ct>2*H){const At=Q.add(oe.sub(Q)._mult(H/ct)._round());this.updateDistance(Q,At),this.addCurrentVertex(At,ge,0,0,Z),Q=At}}}}addCurrentVertex(l,d,m,b,S,T=!1){const R=d.y*b-d.x,j=-d.y-d.x*b;this.addHalfVertex(l,d.x+d.y*m,d.y-d.x*m,T,!1,m,S),this.addHalfVertex(l,R,j,T,!0,-b,S),this.distance>hN/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(l,d,m,b,S,T))}addHalfVertex({x:l,y:d},m,b,S,T,R,j){const W=.5*(this.lineClips?this.scaledDistance*(hN-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(S?1:0),(d<<1)+(T?1:0),Math.round(63*m)+128,Math.round(63*b)+128,1+(R===0?0:R<0?-1:1)|(63&W)<<2,W>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const H=j.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,H),j.primitiveLength++),T?this.e2=H:this.e1=H}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,d){this.distance+=l.dist(d),this.updateScaledDistance()}}let pN,mN;kt("LineBucket",bT,{omit:["layers","patternFeatures"]});var gN={get paint(){return mN=mN||new oo({"line-opacity":new Zt(Ne.paint_line["line-opacity"]),"line-color":new Zt(Ne.paint_line["line-color"]),"line-translate":new Bt(Ne.paint_line["line-translate"]),"line-translate-anchor":new Bt(Ne.paint_line["line-translate-anchor"]),"line-width":new Zt(Ne.paint_line["line-width"]),"line-gap-width":new Zt(Ne.paint_line["line-gap-width"]),"line-offset":new Zt(Ne.paint_line["line-offset"]),"line-blur":new Zt(Ne.paint_line["line-blur"]),"line-dasharray":new Ny(Ne.paint_line["line-dasharray"]),"line-pattern":new ip(Ne.paint_line["line-pattern"]),"line-gradient":new us(Ne.paint_line["line-gradient"])})},get layout(){return pN=pN||new oo({"line-cap":new Bt(Ne.layout_line["line-cap"]),"line-join":new Zt(Ne.layout_line["line-join"]),"line-miter-limit":new Bt(Ne.layout_line["line-miter-limit"]),"line-round-limit":new Bt(Ne.layout_line["line-round-limit"]),"line-sort-key":new Zt(Ne.layout_line["line-sort-key"])})}};class tX extends Zt{possiblyEvaluate(l,d){return d=new Tr(Math.floor(d.zoom),{now:d.now,fadeDuration:d.fadeDuration,zoomHistory:d.zoomHistory,transition:d.transition}),super.possiblyEvaluate(l,d)}evaluate(l,d,m,b){return d=G({},d,{zoom:Math.floor(d.zoom)}),super.evaluate(l,d,m,b)}}let g_;class nX extends Ia{constructor(l){super(l,gN),this.gradientVersion=0,g_||(g_=new tX(gN.paint.properties["line-width"].specification),g_.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(l){if(l==="line-gradient"){const d=this.gradientExpression();this.stepInterpolant=!!function(m){return m._styleExpression!==void 0}(d)&&d._styleExpression.expression instanceof Nn,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(l,d){super.recalculate(l,d),this.paint._values["line-floorwidth"]=g_.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)}createBucket(l){return new bT(l)}queryRadius(l){const d=l,m=yN(Uy("line-width",this,d),Uy("line-gap-width",this,d)),b=Uy("line-offset",this,d);return m/2+Math.abs(b)+c_(this.paint.get("line-translate"))}queryIntersectsFeature(l,d,m,b,S,T,R){const j=u_(l,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),T.angle,R),W=R/2*yN(this.paint.get("line-width").evaluate(d,m),this.paint.get("line-gap-width").evaluate(d,m)),H=this.paint.get("line-offset").evaluate(d,m);return H&&(b=function(Z,Q){const ie=[];for(let oe=0;oe<Z.length;oe++){const ue=Z[oe],ge=[];for(let xe=0;xe<ue.length;xe++){const Re=ue[xe-1],Te=ue[xe],Le=ue[xe+1],je=xe===0?new x(0,0):Te.sub(Re)._unit()._perp(),Ze=xe===ue.length-1?new x(0,0):Le.sub(Te)._unit()._perp(),wt=je._add(Ze)._unit(),Rt=wt.x*Ze.x+wt.y*Ze.y;Rt!==0&&wt._mult(1/Rt),ge.push(wt._mult(Q)._add(Te))}ie.push(ge)}return ie}(b,H*R)),function(Z,Q,ie){for(let oe=0;oe<Q.length;oe++){const ue=Q[oe];if(Z.length>=3){for(let ge=0;ge<ue.length;ge++)if(up(Z,ue[ge]))return!0}if(lZ(Z,ue,ie))return!0}return!1}(j,b,W)}isTileClipped(){return!0}}function yN(u,l){return l>0?l+2*u:u}const rX=kr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),iX=kr([{name:"a_projected_pos",components:3,type:"Float32"}],4);kr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const oX=kr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);kr([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const vN=kr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),aX=kr([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function sX(u,l,d){return u.sections.forEach(m=>{m.text=function(b,S,T){const R=S.layout.get("text-transform").evaluate(T,{});return R==="uppercase"?b=b.toLocaleUpperCase():R==="lowercase"&&(b=b.toLocaleLowerCase()),Zo.applyArabicShaping&&(b=Zo.applyArabicShaping(b)),b}(m.text,l,d)}),u}kr([{name:"triangle",components:3,type:"Uint16"}]),kr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),kr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),kr([{type:"Float32",name:"offsetX"}]),kr([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),kr([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Xy={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var gi=24,bN=or,xN=function(u,l,d,m,b){var S,T,R=8*b-m-1,j=(1<<R)-1,W=j>>1,H=-7,Z=d?b-1:0,Q=d?-1:1,ie=u[l+Z];for(Z+=Q,S=ie&(1<<-H)-1,ie>>=-H,H+=R;H>0;S=256*S+u[l+Z],Z+=Q,H-=8);for(T=S&(1<<-H)-1,S>>=-H,H+=m;H>0;T=256*T+u[l+Z],Z+=Q,H-=8);if(S===0)S=1-W;else{if(S===j)return T?NaN:1/0*(ie?-1:1);T+=Math.pow(2,m),S-=W}return(ie?-1:1)*T*Math.pow(2,S-m)},_N=function(u,l,d,m,b,S){var T,R,j,W=8*S-b-1,H=(1<<W)-1,Z=H>>1,Q=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,ie=m?0:S-1,oe=m?1:-1,ue=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(R=isNaN(l)?1:0,T=H):(T=Math.floor(Math.log(l)/Math.LN2),l*(j=Math.pow(2,-T))<1&&(T--,j*=2),(l+=T+Z>=1?Q/j:Q*Math.pow(2,1-Z))*j>=2&&(T++,j/=2),T+Z>=H?(R=0,T=H):T+Z>=1?(R=(l*j-1)*Math.pow(2,b),T+=Z):(R=l*Math.pow(2,Z-1)*Math.pow(2,b),T=0));b>=8;u[d+ie]=255&R,ie+=oe,R/=256,b-=8);for(T=T<<b|R,W+=b;W>0;u[d+ie]=255&T,ie+=oe,T/=256,W-=8);u[d+ie-oe]|=128*ue};function or(u){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(u)?u:new Uint8Array(u||0),this.pos=0,this.type=0,this.length=this.buf.length}or.Varint=0,or.Fixed64=1,or.Bytes=2,or.Fixed32=5;var xT=4294967296,wN=1/xT,SN=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function wc(u){return u.type===or.Bytes?u.readVarint()+u.pos:u.pos+1}function pp(u,l,d){return d?4294967296*l+(u>>>0):4294967296*(l>>>0)+(u>>>0)}function EN(u,l,d){var m=l<=16383?1:l<=2097151?2:l<=268435455?3:Math.floor(Math.log(l)/(7*Math.LN2));d.realloc(m);for(var b=d.pos-1;b>=u;b--)d.buf[b+m]=d.buf[b]}function lX(u,l){for(var d=0;d<u.length;d++)l.writeVarint(u[d])}function cX(u,l){for(var d=0;d<u.length;d++)l.writeSVarint(u[d])}function uX(u,l){for(var d=0;d<u.length;d++)l.writeFloat(u[d])}function dX(u,l){for(var d=0;d<u.length;d++)l.writeDouble(u[d])}function fX(u,l){for(var d=0;d<u.length;d++)l.writeBoolean(u[d])}function hX(u,l){for(var d=0;d<u.length;d++)l.writeFixed32(u[d])}function pX(u,l){for(var d=0;d<u.length;d++)l.writeSFixed32(u[d])}function mX(u,l){for(var d=0;d<u.length;d++)l.writeFixed64(u[d])}function gX(u,l){for(var d=0;d<u.length;d++)l.writeSFixed64(u[d])}function y_(u,l){return(u[l]|u[l+1]<<8|u[l+2]<<16)+16777216*u[l+3]}function mp(u,l,d){u[d]=l,u[d+1]=l>>>8,u[d+2]=l>>>16,u[d+3]=l>>>24}function CN(u,l){return(u[l]|u[l+1]<<8|u[l+2]<<16)+(u[l+3]<<24)}or.prototype={destroy:function(){this.buf=null},readFields:function(u,l,d){for(d=d||this.length;this.pos<d;){var m=this.readVarint(),b=m>>3,S=this.pos;this.type=7&m,u(b,l,this),this.pos===S&&this.skip(m)}return l},readMessage:function(u,l){return this.readFields(u,l,this.readVarint()+this.pos)},readFixed32:function(){var u=y_(this.buf,this.pos);return this.pos+=4,u},readSFixed32:function(){var u=CN(this.buf,this.pos);return this.pos+=4,u},readFixed64:function(){var u=y_(this.buf,this.pos)+y_(this.buf,this.pos+4)*xT;return this.pos+=8,u},readSFixed64:function(){var u=y_(this.buf,this.pos)+CN(this.buf,this.pos+4)*xT;return this.pos+=8,u},readFloat:function(){var u=xN(this.buf,this.pos,!0,23,4);return this.pos+=4,u},readDouble:function(){var u=xN(this.buf,this.pos,!0,52,8);return this.pos+=8,u},readVarint:function(u){var l,d,m=this.buf;return l=127&(d=m[this.pos++]),d<128?l:(l|=(127&(d=m[this.pos++]))<<7,d<128?l:(l|=(127&(d=m[this.pos++]))<<14,d<128?l:(l|=(127&(d=m[this.pos++]))<<21,d<128?l:function(b,S,T){var R,j,W=T.buf;if(R=(112&(j=W[T.pos++]))>>4,j<128||(R|=(127&(j=W[T.pos++]))<<3,j<128)||(R|=(127&(j=W[T.pos++]))<<10,j<128)||(R|=(127&(j=W[T.pos++]))<<17,j<128)||(R|=(127&(j=W[T.pos++]))<<24,j<128)||(R|=(1&(j=W[T.pos++]))<<31,j<128))return pp(b,R,S);throw new Error("Expected varint not more than 10 bytes")}(l|=(15&(d=m[this.pos]))<<28,u,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var u=this.readVarint();return u%2==1?(u+1)/-2:u/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var u=this.readVarint()+this.pos,l=this.pos;return this.pos=u,u-l>=12&&SN?function(d,m,b){return SN.decode(d.subarray(m,b))}(this.buf,l,u):function(d,m,b){for(var S="",T=m;T<b;){var R,j,W,H=d[T],Z=null,Q=H>239?4:H>223?3:H>191?2:1;if(T+Q>b)break;Q===1?H<128&&(Z=H):Q===2?(192&(R=d[T+1]))==128&&(Z=(31&H)<<6|63&R)<=127&&(Z=null):Q===3?(j=d[T+2],(192&(R=d[T+1]))==128&&(192&j)==128&&((Z=(15&H)<<12|(63&R)<<6|63&j)<=2047||Z>=55296&&Z<=57343)&&(Z=null)):Q===4&&(j=d[T+2],W=d[T+3],(192&(R=d[T+1]))==128&&(192&j)==128&&(192&W)==128&&((Z=(15&H)<<18|(63&R)<<12|(63&j)<<6|63&W)<=65535||Z>=1114112)&&(Z=null)),Z===null?(Z=65533,Q=1):Z>65535&&(Z-=65536,S+=String.fromCharCode(Z>>>10&1023|55296),Z=56320|1023&Z),S+=String.fromCharCode(Z),T+=Q}return S}(this.buf,l,u)},readBytes:function(){var u=this.readVarint()+this.pos,l=this.buf.subarray(this.pos,u);return this.pos=u,l},readPackedVarint:function(u,l){if(this.type!==or.Bytes)return u.push(this.readVarint(l));var d=wc(this);for(u=u||[];this.pos<d;)u.push(this.readVarint(l));return u},readPackedSVarint:function(u){if(this.type!==or.Bytes)return u.push(this.readSVarint());var l=wc(this);for(u=u||[];this.pos<l;)u.push(this.readSVarint());return u},readPackedBoolean:function(u){if(this.type!==or.Bytes)return u.push(this.readBoolean());var l=wc(this);for(u=u||[];this.pos<l;)u.push(this.readBoolean());return u},readPackedFloat:function(u){if(this.type!==or.Bytes)return u.push(this.readFloat());var l=wc(this);for(u=u||[];this.pos<l;)u.push(this.readFloat());return u},readPackedDouble:function(u){if(this.type!==or.Bytes)return u.push(this.readDouble());var l=wc(this);for(u=u||[];this.pos<l;)u.push(this.readDouble());return u},readPackedFixed32:function(u){if(this.type!==or.Bytes)return u.push(this.readFixed32());var l=wc(this);for(u=u||[];this.pos<l;)u.push(this.readFixed32());return u},readPackedSFixed32:function(u){if(this.type!==or.Bytes)return u.push(this.readSFixed32());var l=wc(this);for(u=u||[];this.pos<l;)u.push(this.readSFixed32());return u},readPackedFixed64:function(u){if(this.type!==or.Bytes)return u.push(this.readFixed64());var l=wc(this);for(u=u||[];this.pos<l;)u.push(this.readFixed64());return u},readPackedSFixed64:function(u){if(this.type!==or.Bytes)return u.push(this.readSFixed64());var l=wc(this);for(u=u||[];this.pos<l;)u.push(this.readSFixed64());return u},skip:function(u){var l=7&u;if(l===or.Varint)for(;this.buf[this.pos++]>127;);else if(l===or.Bytes)this.pos=this.readVarint()+this.pos;else if(l===or.Fixed32)this.pos+=4;else{if(l!==or.Fixed64)throw new Error("Unimplemented type: "+l);this.pos+=8}},writeTag:function(u,l){this.writeVarint(u<<3|l)},realloc:function(u){for(var l=this.length||16;l<this.pos+u;)l*=2;if(l!==this.length){var d=new Uint8Array(l);d.set(this.buf),this.buf=d,this.length=l}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(u){this.realloc(4),mp(this.buf,u,this.pos),this.pos+=4},writeSFixed32:function(u){this.realloc(4),mp(this.buf,u,this.pos),this.pos+=4},writeFixed64:function(u){this.realloc(8),mp(this.buf,-1&u,this.pos),mp(this.buf,Math.floor(u*wN),this.pos+4),this.pos+=8},writeSFixed64:function(u){this.realloc(8),mp(this.buf,-1&u,this.pos),mp(this.buf,Math.floor(u*wN),this.pos+4),this.pos+=8},writeVarint:function(u){(u=+u||0)>268435455||u<0?function(l,d){var m,b;if(l>=0?(m=l%4294967296|0,b=l/4294967296|0):(b=~(-l/4294967296),4294967295^(m=~(-l%4294967296))?m=m+1|0:(m=0,b=b+1|0)),l>=18446744073709552e3||l<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");d.realloc(10),function(S,T,R){R.buf[R.pos++]=127&S|128,S>>>=7,R.buf[R.pos++]=127&S|128,S>>>=7,R.buf[R.pos++]=127&S|128,S>>>=7,R.buf[R.pos++]=127&S|128,R.buf[R.pos]=127&(S>>>=7)}(m,0,d),function(S,T){var R=(7&S)<<4;T.buf[T.pos++]|=R|((S>>>=3)?128:0),S&&(T.buf[T.pos++]=127&S|((S>>>=7)?128:0),S&&(T.buf[T.pos++]=127&S|((S>>>=7)?128:0),S&&(T.buf[T.pos++]=127&S|((S>>>=7)?128:0),S&&(T.buf[T.pos++]=127&S|((S>>>=7)?128:0),S&&(T.buf[T.pos++]=127&S)))))}(b,d)}(u,this):(this.realloc(4),this.buf[this.pos++]=127&u|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=u>>>7&127))))},writeSVarint:function(u){this.writeVarint(u<0?2*-u-1:2*u)},writeBoolean:function(u){this.writeVarint(!!u)},writeString:function(u){u=String(u),this.realloc(4*u.length),this.pos++;var l=this.pos;this.pos=function(m,b,S){for(var T,R,j=0;j<b.length;j++){if((T=b.charCodeAt(j))>55295&&T<57344){if(!R){T>56319||j+1===b.length?(m[S++]=239,m[S++]=191,m[S++]=189):R=T;continue}if(T<56320){m[S++]=239,m[S++]=191,m[S++]=189,R=T;continue}T=R-55296<<10|T-56320|65536,R=null}else R&&(m[S++]=239,m[S++]=191,m[S++]=189,R=null);T<128?m[S++]=T:(T<2048?m[S++]=T>>6|192:(T<65536?m[S++]=T>>12|224:(m[S++]=T>>18|240,m[S++]=T>>12&63|128),m[S++]=T>>6&63|128),m[S++]=63&T|128)}return S}(this.buf,u,this.pos);var d=this.pos-l;d>=128&&EN(l,d,this),this.pos=l-1,this.writeVarint(d),this.pos+=d},writeFloat:function(u){this.realloc(4),_N(this.buf,u,this.pos,!0,23,4),this.pos+=4},writeDouble:function(u){this.realloc(8),_N(this.buf,u,this.pos,!0,52,8),this.pos+=8},writeBytes:function(u){var l=u.length;this.writeVarint(l),this.realloc(l);for(var d=0;d<l;d++)this.buf[this.pos++]=u[d]},writeRawMessage:function(u,l){this.pos++;var d=this.pos;u(l,this);var m=this.pos-d;m>=128&&EN(d,m,this),this.pos=d-1,this.writeVarint(m),this.pos+=m},writeMessage:function(u,l,d){this.writeTag(u,or.Bytes),this.writeRawMessage(l,d)},writePackedVarint:function(u,l){l.length&&this.writeMessage(u,lX,l)},writePackedSVarint:function(u,l){l.length&&this.writeMessage(u,cX,l)},writePackedBoolean:function(u,l){l.length&&this.writeMessage(u,fX,l)},writePackedFloat:function(u,l){l.length&&this.writeMessage(u,uX,l)},writePackedDouble:function(u,l){l.length&&this.writeMessage(u,dX,l)},writePackedFixed32:function(u,l){l.length&&this.writeMessage(u,hX,l)},writePackedSFixed32:function(u,l){l.length&&this.writeMessage(u,pX,l)},writePackedFixed64:function(u,l){l.length&&this.writeMessage(u,mX,l)},writePackedSFixed64:function(u,l){l.length&&this.writeMessage(u,gX,l)},writeBytesField:function(u,l){this.writeTag(u,or.Bytes),this.writeBytes(l)},writeFixed32Field:function(u,l){this.writeTag(u,or.Fixed32),this.writeFixed32(l)},writeSFixed32Field:function(u,l){this.writeTag(u,or.Fixed32),this.writeSFixed32(l)},writeFixed64Field:function(u,l){this.writeTag(u,or.Fixed64),this.writeFixed64(l)},writeSFixed64Field:function(u,l){this.writeTag(u,or.Fixed64),this.writeSFixed64(l)},writeVarintField:function(u,l){this.writeTag(u,or.Varint),this.writeVarint(l)},writeSVarintField:function(u,l){this.writeTag(u,or.Varint),this.writeSVarint(l)},writeStringField:function(u,l){this.writeTag(u,or.Bytes),this.writeString(l)},writeFloatField:function(u,l){this.writeTag(u,or.Fixed32),this.writeFloat(l)},writeDoubleField:function(u,l){this.writeTag(u,or.Fixed64),this.writeDouble(l)},writeBooleanField:function(u,l){this.writeVarintField(u,!!l)}};var _T=h(bN);const wT=3;function yX(u,l,d){u===1&&d.readMessage(vX,l)}function vX(u,l,d){if(u===3){const{id:m,bitmap:b,width:S,height:T,left:R,top:j,advance:W}=d.readMessage(bX,{});l.push({id:m,bitmap:new Wy({width:S+2*wT,height:T+2*wT},b),metrics:{width:S,height:T,left:R,top:j,advance:W}})}}function bX(u,l,d){u===1?l.id=d.readVarint():u===2?l.bitmap=d.readBytes():u===3?l.width=d.readVarint():u===4?l.height=d.readVarint():u===5?l.left=d.readSVarint():u===6?l.top=d.readSVarint():u===7&&(l.advance=d.readVarint())}const TN=wT;function kN(u){let l=0,d=0;for(const T of u)l+=T.w*T.h,d=Math.max(d,T.w);u.sort((T,R)=>R.h-T.h);const m=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),d),h:1/0}];let b=0,S=0;for(const T of u)for(let R=m.length-1;R>=0;R--){const j=m[R];if(!(T.w>j.w||T.h>j.h)){if(T.x=j.x,T.y=j.y,S=Math.max(S,T.y+T.h),b=Math.max(b,T.x+T.w),T.w===j.w&&T.h===j.h){const W=m.pop();R<m.length&&(m[R]=W)}else T.h===j.h?(j.x+=T.w,j.w-=T.w):T.w===j.w?(j.y+=T.h,j.h-=T.h):(m.push({x:j.x+T.w,y:j.y,w:j.w-T.w,h:T.h}),j.y+=T.h,j.h-=T.h);break}}return{w:b,h:S,fill:l/(b*S)||0}}const ea=1;class ST{constructor(l,{pixelRatio:d,version:m,stretchX:b,stretchY:S,content:T}){this.paddedRect=l,this.pixelRatio=d,this.stretchX=b,this.stretchY=S,this.content=T,this.version=m}get tl(){return[this.paddedRect.x+ea,this.paddedRect.y+ea]}get br(){return[this.paddedRect.x+this.paddedRect.w-ea,this.paddedRect.y+this.paddedRect.h-ea]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*ea)/this.pixelRatio,(this.paddedRect.h-2*ea)/this.pixelRatio]}}class PN{constructor(l,d){const m={},b={};this.haveRenderCallbacks=[];const S=[];this.addImages(l,m,S),this.addImages(d,b,S);const{w:T,h:R}=kN(S),j=new $a({width:T||1,height:R||1});for(const W in l){const H=l[W],Z=m[W].paddedRect;$a.copy(H.data,j,{x:0,y:0},{x:Z.x+ea,y:Z.y+ea},H.data)}for(const W in d){const H=d[W],Z=b[W].paddedRect,Q=Z.x+ea,ie=Z.y+ea,oe=H.data.width,ue=H.data.height;$a.copy(H.data,j,{x:0,y:0},{x:Q,y:ie},H.data),$a.copy(H.data,j,{x:0,y:ue-1},{x:Q,y:ie-1},{width:oe,height:1}),$a.copy(H.data,j,{x:0,y:0},{x:Q,y:ie+ue},{width:oe,height:1}),$a.copy(H.data,j,{x:oe-1,y:0},{x:Q-1,y:ie},{width:1,height:ue}),$a.copy(H.data,j,{x:0,y:0},{x:Q+oe,y:ie},{width:1,height:ue})}this.image=j,this.iconPositions=m,this.patternPositions=b}addImages(l,d,m){for(const b in l){const S=l[b],T={x:0,y:0,w:S.data.width+2*ea,h:S.data.height+2*ea};m.push(T),d[b]=new ST(T,S),S.hasRenderCallback&&this.haveRenderCallbacks.push(b)}}patchUpdatedImages(l,d){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const m in l.updatedImages)this.patchUpdatedImage(this.iconPositions[m],l.getImage(m),d),this.patchUpdatedImage(this.patternPositions[m],l.getImage(m),d)}patchUpdatedImage(l,d,m){if(!l||!d||l.version===d.version)return;l.version=d.version;const[b,S]=l.tl;m.update(d.data,void 0,{x:b,y:S})}}var Ru;kt("ImagePosition",ST),kt("ImageAtlas",PN),a.WritingMode=void 0,(Ru=a.WritingMode||(a.WritingMode={}))[Ru.none=0]="none",Ru[Ru.horizontal=1]="horizontal",Ru[Ru.vertical=2]="vertical",Ru[Ru.horizontalOnly=3]="horizontalOnly";const Jy=-17;class Qy{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(l,d){const m=new Qy;return m.scale=l||1,m.fontStack=d,m}static forImage(l){const d=new Qy;return d.imageName=l,d}}class gp{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(l,d){const m=new gp;for(let b=0;b<l.sections.length;b++){const S=l.sections[b];S.image?m.addImageSection(S):m.addTextSection(S,d)}return m}length(){return this.text.length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}getCharCode(l){return this.text.charCodeAt(l)}verticalizePunctuation(){this.text=function(l){let d="";for(let m=0;m<l.length;m++){const b=l.charCodeAt(m+1)||null,S=l.charCodeAt(m-1)||null;d+=b&&e_(b)&&!Xy[l[m+1]]||S&&e_(S)&&!Xy[l[m-1]]||!Xy[l[m]]?l[m]:Xy[l[m]]}return d}(this.text)}trim(){let l=0;for(let m=0;m<this.text.length&&b_[this.text.charCodeAt(m)];m++)l++;let d=this.text.length;for(let m=this.text.length-1;m>=0&&m>=l&&b_[this.text.charCodeAt(m)];m--)d--;this.text=this.text.substring(l,d),this.sectionIndex=this.sectionIndex.slice(l,d)}substring(l,d){const m=new gp;return m.text=this.text.substring(l,d),m.sectionIndex=this.sectionIndex.slice(l,d),m.sections=this.sections,m}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((l,d)=>Math.max(l,this.sections[d].scale),0)}addTextSection(l,d){this.text+=l.text,this.sections.push(Qy.forText(l.scale,l.fontStack||d));const m=this.sections.length-1;for(let b=0;b<l.text.length;++b)this.sectionIndex.push(m)}addImageSection(l){const d=l.image?l.image.name:"";if(d.length===0)return void we("Can't add FormattedSection with an empty image.");const m=this.getNextImageSectionCharCode();m?(this.text+=String.fromCharCode(m),this.sections.push(Qy.forImage(d)),this.sectionIndex.push(this.sections.length-1)):we("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function v_(u,l,d,m,b,S,T,R,j,W,H,Z,Q,ie,oe,ue){const ge=gp.fromFeature(u,b);let xe;Z===a.WritingMode.vertical&&ge.verticalizePunctuation();const{processBidirectionalText:Re,processStyledBidirectionalText:Te}=Zo;if(Re&&ge.sections.length===1){xe=[];const Ze=Re(ge.toString(),ET(ge,W,S,l,m,ie,oe));for(const wt of Ze){const Rt=new gp;Rt.text=wt,Rt.sections=ge.sections;for(let _t=0;_t<wt.length;_t++)Rt.sectionIndex.push(0);xe.push(Rt)}}else if(Te){xe=[];const Ze=Te(ge.text,ge.sectionIndex,ET(ge,W,S,l,m,ie,oe));for(const wt of Ze){const Rt=new gp;Rt.text=wt[0],Rt.sectionIndex=wt[1],Rt.sections=ge.sections,xe.push(Rt)}}else xe=function(Ze,wt){const Rt=[],_t=Ze.text;let xt=0;for(const ct of wt)Rt.push(Ze.substring(xt,ct)),xt=ct;return xt<_t.length&&Rt.push(Ze.substring(xt,_t.length)),Rt}(ge,ET(ge,W,S,l,m,ie,oe));const Le=[],je={positionedLines:Le,text:ge.toString(),top:H[1],bottom:H[1],left:H[0],right:H[0],writingMode:Z,iconsInText:!1,verticalizable:!1};return function(Ze,wt,Rt,_t,xt,ct,At,pt,rt,Yt,zt,bn){let xr=0,Ar=Jy,yi=0,ga=0;const Co=pt==="right"?1:pt==="left"?0:.5;let ui=0;for(const vi of xt){vi.trim();const bi=vi.getMaxScale(),so=(bi-1)*gi,Po={positionedGlyphs:[],lineOffset:0};Ze.positionedLines[ui]=Po;const lo=Po.positionedGlyphs;let ta=0;if(!vi.length()){Ar+=ct,++ui;continue}for(let xi=0;xi<vi.length();xi++){const kn=vi.getSection(xi),co=vi.getSectionIndex(xi),Ki=vi.getCharCode(xi);let _i=0,hs=null,Ks=null,Zs=null,Sc=gi;const ps=!(rt===a.WritingMode.horizontal||!zt&&!ky(Ki)||zt&&(b_[Ki]||(Li=Ki,St.Arabic(Li)||St["Arabic Supplement"](Li)||St["Arabic Extended-A"](Li)||St["Arabic Presentation Forms-A"](Li)||St["Arabic Presentation Forms-B"](Li))));if(kn.imageName){const Da=_t[kn.imageName];if(!Da)continue;Zs=kn.imageName,Ze.iconsInText=Ze.iconsInText||!0,Ks=Da.paddedRect;const ra=Da.displaySize;kn.scale=kn.scale*gi/bn,hs={width:ra[0],height:ra[1],left:ea,top:-TN,advance:ps?ra[1]:ra[0]},_i=so+(gi-ra[1]*kn.scale),Sc=hs.advance;const Ec=ps?ra[0]*kn.scale-gi*bi:ra[1]*kn.scale-gi*bi;Ec>0&&Ec>ta&&(ta=Ec)}else{const Da=Rt[kn.fontStack],ra=Da&&Da[Ki];if(ra&&ra.rect)Ks=ra.rect,hs=ra.metrics;else{const Ec=wt[kn.fontStack],iv=Ec&&Ec[Ki];if(!iv)continue;hs=iv.metrics}_i=(bi-kn.scale)*gi}ps?(Ze.verticalizable=!0,lo.push({glyph:Ki,imageName:Zs,x:xr,y:Ar+_i,vertical:ps,scale:kn.scale,fontStack:kn.fontStack,sectionIndex:co,metrics:hs,rect:Ks}),xr+=Sc*kn.scale+Yt):(lo.push({glyph:Ki,imageName:Zs,x:xr,y:Ar+_i,vertical:ps,scale:kn.scale,fontStack:kn.fontStack,sectionIndex:co,metrics:hs,rect:Ks}),xr+=hs.advance*kn.scale+Yt)}lo.length!==0&&(yi=Math.max(xr-Yt,yi),wX(lo,0,lo.length-1,Co,ta)),xr=0;const na=ct*bi+ta;Po.lineOffset=Math.max(ta,so),Ar+=na,ga=Math.max(na,ga),++ui}var Li;const Yi=Ar-Jy,{horizontalAlign:To,verticalAlign:ko}=CT(At);(function(vi,bi,so,Po,lo,ta,na,xi,kn){const co=(bi-so)*lo;let Ki=0;Ki=ta!==na?-xi*Po-Jy:(-Po*kn+.5)*na;for(const _i of vi)for(const hs of _i.positionedGlyphs)hs.x+=co,hs.y+=Ki})(Ze.positionedLines,Co,To,ko,yi,ga,ct,Yi,xt.length),Ze.top+=-ko*Yi,Ze.bottom=Ze.top+Yi,Ze.left+=-To*yi,Ze.right=Ze.left+yi}(je,l,d,m,xe,T,R,j,Z,W,Q,ue),!function(Ze){for(const wt of Ze)if(wt.positionedGlyphs.length!==0)return!1;return!0}(Le)&&je}const b_={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},xX={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function ON(u,l,d,m,b,S){if(l.imageName){const T=m[l.imageName];return T?T.displaySize[0]*l.scale*gi/S+b:0}{const T=d[l.fontStack],R=T&&T[u];return R?R.metrics.advance*l.scale+b:0}}function AN(u,l,d,m){const b=Math.pow(u-l,2);return m?u<l?b/2:2*b:b+Math.abs(d)*d}function _X(u,l,d){let m=0;return u===10&&(m-=1e4),d&&(m+=150),u!==40&&u!==65288||(m+=50),l!==41&&l!==65289||(m+=50),m}function MN(u,l,d,m,b,S){let T=null,R=AN(l,d,b,S);for(const j of m){const W=AN(l-j.x,d,b,S)+j.badness;W<=R&&(T=j,R=W)}return{index:u,x:l,priorBreak:T,badness:R}}function IN(u){return u?IN(u.priorBreak).concat(u.index):[]}function ET(u,l,d,m,b,S,T){if(S!=="point")return[];if(!u)return[];const R=[],j=function(Q,ie,oe,ue,ge,xe){let Re=0;for(let Te=0;Te<Q.length();Te++){const Le=Q.getSection(Te);Re+=ON(Q.getCharCode(Te),Le,ue,ge,ie,xe)}return Re/Math.max(1,Math.ceil(Re/oe))}(u,l,d,m,b,T),W=u.text.indexOf("")>=0;let H=0;for(let Q=0;Q<u.length();Q++){const ie=u.getSection(Q),oe=u.getCharCode(Q);if(b_[oe]||(H+=ON(oe,ie,m,b,l,T)),Q<u.length()-1){const ue=!((Z=oe)<11904||!(St["Bopomofo Extended"](Z)||St.Bopomofo(Z)||St["CJK Compatibility Forms"](Z)||St["CJK Compatibility Ideographs"](Z)||St["CJK Compatibility"](Z)||St["CJK Radicals Supplement"](Z)||St["CJK Strokes"](Z)||St["CJK Symbols and Punctuation"](Z)||St["CJK Unified Ideographs Extension A"](Z)||St["CJK Unified Ideographs"](Z)||St["Enclosed CJK Letters and Months"](Z)||St["Halfwidth and Fullwidth Forms"](Z)||St.Hiragana(Z)||St["Ideographic Description Characters"](Z)||St["Kangxi Radicals"](Z)||St["Katakana Phonetic Extensions"](Z)||St.Katakana(Z)||St["Vertical Forms"](Z)||St["Yi Radicals"](Z)||St["Yi Syllables"](Z)));(xX[oe]||ue||ie.imageName)&&R.push(MN(Q+1,H,j,R,_X(oe,u.getCharCode(Q+1),ue&&W),!1))}}var Z;return IN(MN(u.length(),H,j,R,0,!0))}function CT(u){let l=.5,d=.5;switch(u){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(u){case"bottom":case"bottom-right":case"bottom-left":d=1;break;case"top":case"top-right":case"top-left":d=0}return{horizontalAlign:l,verticalAlign:d}}function wX(u,l,d,m,b){if(!m&&!b)return;const S=u[d],T=(u[d].x+S.metrics.advance*S.scale)*m;for(let R=l;R<=d;R++)u[R].x-=T,u[R].y+=b}function SX(u,l,d){const{horizontalAlign:m,verticalAlign:b}=CT(d),S=l[0]-u.displaySize[0]*m,T=l[1]-u.displaySize[1]*b;return{image:u,top:T,bottom:T+u.displaySize[1],left:S,right:S+u.displaySize[0]}}function $N(u,l,d,m,b,S){const T=u.image;let R;if(T.content){const ge=T.content,xe=T.pixelRatio||1;R=[ge[0]/xe,ge[1]/xe,T.displaySize[0]-ge[2]/xe,T.displaySize[1]-ge[3]/xe]}const j=l.left*S,W=l.right*S;let H,Z,Q,ie;d==="width"||d==="both"?(ie=b[0]+j-m[3],Z=b[0]+W+m[1]):(ie=b[0]+(j+W-T.displaySize[0])/2,Z=ie+T.displaySize[0]);const oe=l.top*S,ue=l.bottom*S;return d==="height"||d==="both"?(H=b[1]+oe-m[0],Q=b[1]+ue+m[2]):(H=b[1]+(oe+ue-T.displaySize[1])/2,Q=H+T.displaySize[1]),{image:T,top:H,right:Z,bottom:Q,left:ie,collisionPadding:R}}const ev=255,Dl=128,Du=ev*Dl;function RN(u,l){const{expression:d}=l;if(d.kind==="constant")return{kind:"constant",layoutSize:d.evaluate(new Tr(u+1))};if(d.kind==="source")return{kind:"source"};{const{zoomStops:m,interpolationType:b}=d;let S=0;for(;S<m.length&&m[S]<=u;)S++;S=Math.max(0,S-1);let T=S;for(;T<m.length&&m[T]<u+1;)T++;T=Math.min(m.length-1,T);const R=m[S],j=m[T];return d.kind==="composite"?{kind:"composite",minZoom:R,maxZoom:j,interpolationType:b}:{kind:"camera",minZoom:R,maxZoom:j,minSize:d.evaluate(new Tr(R)),maxSize:d.evaluate(new Tr(j)),interpolationType:b}}}function TT(u,l,d){let m="never";const b=u.get(l);return b?m=b:u.get(d)&&(m="always"),m}const EX=$u.VectorTileFeature.types,CX=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function x_(u,l,d,m,b,S,T,R,j,W,H,Z,Q){const ie=R?Math.min(Du,Math.round(R[0])):0,oe=R?Math.min(Du,Math.round(R[1])):0;u.emplaceBack(l,d,Math.round(32*m),Math.round(32*b),S,T,(ie<<1)+(j?1:0),oe,16*W,16*H,256*Z,256*Q)}function kT(u,l,d){u.emplaceBack(l.x,l.y,d),u.emplaceBack(l.x,l.y,d),u.emplaceBack(l.x,l.y,d),u.emplaceBack(l.x,l.y,d)}function TX(u){for(const l of u.sections)if(eT(l.text))return!0;return!1}class PT{constructor(l){this.layoutVertexArray=new gn,this.indexArray=new Wr,this.programConfigurations=l,this.segments=new Or,this.dynamicLayoutVertexArray=new wn,this.opacityVertexArray=new Jr,this.hasVisibleVertices=!1,this.placedSymbolArray=new ze}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,d,m,b){this.isEmpty()||(m&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,rX.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,d),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,iX.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,CX,!0),this.opacityVertexBuffer.itemSize=1),(m||b)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}kt("SymbolBuffers",PT);class OT{constructor(l,d,m){this.layoutVertexArray=new l,this.layoutAttributes=d,this.indexArray=new m,this.segments=new Or,this.collisionVertexArray=new ma}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,oX.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}kt("CollisionBuffers",OT);class yp{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(T=>T.id),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=aT([]),this.placementViewportMatrix=aT([]);const d=this.layers[0]._unevaluatedLayout._values;this.textSizeData=RN(this.zoom,d["text-size"]),this.iconSizeData=RN(this.zoom,d["icon-size"]);const m=this.layers[0].layout,b=m.get("symbol-sort-key"),S=m.get("symbol-z-order");this.canOverlap=TT(m,"text-overlap","text-allow-overlap")!=="never"||TT(m,"icon-overlap","icon-allow-overlap")!=="never"||m.get("text-ignore-placement")||m.get("icon-ignore-placement"),this.sortFeaturesByKey=S!=="viewport-y"&&!b.isConstant(),this.sortFeaturesByY=(S==="viewport-y"||S==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,m.get("symbol-placement")==="point"&&(this.writingModes=m.get("text-writing-mode").map(T=>a.WritingMode[T])),this.stateDependentLayerIds=this.layers.filter(T=>T.isStateDependent()).map(T=>T.id),this.sourceID=l.sourceID}createArrays(){this.text=new PT(new mf(this.layers,this.zoom,l=>/^text/.test(l))),this.icon=new PT(new mf(this.layers,this.zoom,l=>/^icon/.test(l))),this.glyphOffsetArray=new Be,this.lineVertexArray=new Fe,this.symbolInstances=new Ie,this.textAnchorOffsets=new nt}calculateGlyphDependencies(l,d,m,b,S){for(let T=0;T<l.length;T++)if(d[l.charCodeAt(T)]=!0,(m||b)&&S){const R=Xy[l.charAt(T)];R&&(d[R.charCodeAt(0)]=!0)}}populate(l,d,m){const b=this.layers[0],S=b.layout,T=S.get("text-font"),R=S.get("text-field"),j=S.get("icon-image"),W=(R.value.kind!=="constant"||R.value.value instanceof Wo&&!R.value.value.isEmpty()||R.value.value.toString().length>0)&&(T.value.kind!=="constant"||T.value.value.length>0),H=j.value.kind!=="constant"||!!j.value.value||Object.keys(j.parameters).length>0,Z=S.get("symbol-sort-key");if(this.features=[],!W&&!H)return;const Q=d.iconDependencies,ie=d.glyphDependencies,oe=d.availableImages,ue=new Tr(this.zoom);for(const{feature:ge,id:xe,index:Re,sourceLayerIndex:Te}of l){const Le=b._featureFilter.needGeometry,je=yf(ge,Le);if(!b._featureFilter.filter(ue,je,m))continue;let Ze,wt;if(Le||(je.geometry=gf(ge)),W){const _t=b.getValueAndResolveTokens("text-field",je,m,oe),xt=Wo.factory(_t);TX(xt)&&(this.hasRTLText=!0),(!this.hasRTLText||Ry()==="unavailable"||this.hasRTLText&&Zo.isParsed())&&(Ze=sX(xt,b,je))}if(H){const _t=b.getValueAndResolveTokens("icon-image",je,m,oe);wt=_t instanceof wo?_t:wo.fromString(_t)}if(!Ze&&!wt)continue;const Rt=this.sortFeaturesByKey?Z.evaluate(je,{},m):void 0;if(this.features.push({id:xe,text:Ze,icon:wt,index:Re,sourceLayerIndex:Te,geometry:je.geometry,properties:ge.properties,type:EX[ge.type],sortKey:Rt}),wt&&(Q[wt.name]=!0),Ze){const _t=T.evaluate(je,{},m).join(","),xt=S.get("text-rotation-alignment")!=="viewport"&&S.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(a.WritingMode.vertical)>=0;for(const ct of Ze.sections)if(ct.image)Q[ct.image.name]=!0;else{const At=uf(Ze.toString()),pt=ct.fontStack||_t,rt=ie[pt]=ie[pt]||{};this.calculateGlyphDependencies(ct.text,rt,xt,this.allowVerticalPlacement,At)}}}S.get("symbol-placement")==="line"&&(this.features=function(ge){const xe={},Re={},Te=[];let Le=0;function je(_t){Te.push(ge[_t]),Le++}function Ze(_t,xt,ct){const At=Re[_t];return delete Re[_t],Re[xt]=At,Te[At].geometry[0].pop(),Te[At].geometry[0]=Te[At].geometry[0].concat(ct[0]),At}function wt(_t,xt,ct){const At=xe[xt];return delete xe[xt],xe[_t]=At,Te[At].geometry[0].shift(),Te[At].geometry[0]=ct[0].concat(Te[At].geometry[0]),At}function Rt(_t,xt,ct){const At=ct?xt[0][xt[0].length-1]:xt[0][0];return`${_t}:${At.x}:${At.y}`}for(let _t=0;_t<ge.length;_t++){const xt=ge[_t],ct=xt.geometry,At=xt.text?xt.text.toString():null;if(!At){je(_t);continue}const pt=Rt(At,ct),rt=Rt(At,ct,!0);if(pt in Re&&rt in xe&&Re[pt]!==xe[rt]){const Yt=wt(pt,rt,ct),zt=Ze(pt,rt,Te[Yt].geometry);delete xe[pt],delete Re[rt],Re[Rt(At,Te[zt].geometry,!0)]=zt,Te[Yt].geometry=null}else pt in Re?Ze(pt,rt,ct):rt in xe?wt(pt,rt,ct):(je(_t),xe[pt]=Le-1,Re[rt]=Le-1)}return Te.filter(_t=>_t.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ge,xe)=>ge.sortKey-xe.sortKey)}update(l,d,m){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,d,this.layers,m),this.icon.programConfigurations.updatePaintArrays(l,d,this.layers,m))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,d){const m=this.lineVertexArray.length;if(l.segment!==void 0){let b=l.dist(d[l.segment+1]),S=l.dist(d[l.segment]);const T={};for(let R=l.segment+1;R<d.length;R++)T[R]={x:d[R].x,y:d[R].y,tileUnitDistanceFromAnchor:b},R<d.length-1&&(b+=d[R+1].dist(d[R]));for(let R=l.segment||0;R>=0;R--)T[R]={x:d[R].x,y:d[R].y,tileUnitDistanceFromAnchor:S},R>0&&(S+=d[R-1].dist(d[R]));for(let R=0;R<d.length;R++){const j=T[R];this.lineVertexArray.emplaceBack(j.x,j.y,j.tileUnitDistanceFromAnchor)}}return{lineStartIndex:m,lineLength:this.lineVertexArray.length-m}}addSymbols(l,d,m,b,S,T,R,j,W,H,Z,Q){const ie=l.indexArray,oe=l.layoutVertexArray,ue=l.segments.prepareSegment(4*d.length,oe,ie,this.canOverlap?T.sortKey:void 0),ge=this.glyphOffsetArray.length,xe=ue.vertexLength,Re=this.allowVerticalPlacement&&R===a.WritingMode.vertical?Math.PI/2:0,Te=T.text&&T.text.sections;for(let Le=0;Le<d.length;Le++){const{tl:je,tr:Ze,bl:wt,br:Rt,tex:_t,pixelOffsetTL:xt,pixelOffsetBR:ct,minFontScaleX:At,minFontScaleY:pt,glyphOffset:rt,isSDF:Yt,sectionIndex:zt}=d[Le],bn=ue.vertexLength,xr=rt[1];x_(oe,j.x,j.y,je.x,xr+je.y,_t.x,_t.y,m,Yt,xt.x,xt.y,At,pt),x_(oe,j.x,j.y,Ze.x,xr+Ze.y,_t.x+_t.w,_t.y,m,Yt,ct.x,xt.y,At,pt),x_(oe,j.x,j.y,wt.x,xr+wt.y,_t.x,_t.y+_t.h,m,Yt,xt.x,ct.y,At,pt),x_(oe,j.x,j.y,Rt.x,xr+Rt.y,_t.x+_t.w,_t.y+_t.h,m,Yt,ct.x,ct.y,At,pt),kT(l.dynamicLayoutVertexArray,j,Re),ie.emplaceBack(bn,bn+1,bn+2),ie.emplaceBack(bn+1,bn+2,bn+3),ue.vertexLength+=4,ue.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(rt[0]),Le!==d.length-1&&zt===d[Le+1].sectionIndex||l.programConfigurations.populatePaintArrays(oe.length,T,T.index,{},Q,Te&&Te[zt])}l.placedSymbolArray.emplaceBack(j.x,j.y,ge,this.glyphOffsetArray.length-ge,xe,W,H,j.segment,m?m[0]:0,m?m[1]:0,b[0],b[1],R,0,!1,0,Z)}_addCollisionDebugVertex(l,d,m,b,S,T){return d.emplaceBack(0,0),l.emplaceBack(m.x,m.y,b,S,Math.round(T.x),Math.round(T.y))}addCollisionDebugVertices(l,d,m,b,S,T,R){const j=S.segments.prepareSegment(4,S.layoutVertexArray,S.indexArray),W=j.vertexLength,H=S.layoutVertexArray,Z=S.collisionVertexArray,Q=R.anchorX,ie=R.anchorY;this._addCollisionDebugVertex(H,Z,T,Q,ie,new x(l,d)),this._addCollisionDebugVertex(H,Z,T,Q,ie,new x(m,d)),this._addCollisionDebugVertex(H,Z,T,Q,ie,new x(m,b)),this._addCollisionDebugVertex(H,Z,T,Q,ie,new x(l,b)),j.vertexLength+=4;const oe=S.indexArray;oe.emplaceBack(W,W+1),oe.emplaceBack(W+1,W+2),oe.emplaceBack(W+2,W+3),oe.emplaceBack(W+3,W),j.primitiveLength+=4}addDebugCollisionBoxes(l,d,m,b){for(let S=l;S<d;S++){const T=this.collisionBoxArray.get(S);this.addCollisionDebugVertices(T.x1,T.y1,T.x2,T.y2,b?this.textCollisionBox:this.iconCollisionBox,T.anchorPoint,m)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new OT(cr,vN.members,Lr),this.iconCollisionBox=new OT(cr,vN.members,Lr);for(let l=0;l<this.symbolInstances.length;l++){const d=this.symbolInstances.get(l);this.addDebugCollisionBoxes(d.textBoxStartIndex,d.textBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.iconBoxStartIndex,d.iconBoxEndIndex,d,!1),this.addDebugCollisionBoxes(d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex,d,!1)}}_deserializeCollisionBoxesForSymbol(l,d,m,b,S,T,R,j,W){const H={};for(let Z=d;Z<m;Z++){const Q=l.get(Z);H.textBox={x1:Q.x1,y1:Q.y1,x2:Q.x2,y2:Q.y2,anchorPointX:Q.anchorPointX,anchorPointY:Q.anchorPointY},H.textFeatureIndex=Q.featureIndex;break}for(let Z=b;Z<S;Z++){const Q=l.get(Z);H.verticalTextBox={x1:Q.x1,y1:Q.y1,x2:Q.x2,y2:Q.y2,anchorPointX:Q.anchorPointX,anchorPointY:Q.anchorPointY},H.verticalTextFeatureIndex=Q.featureIndex;break}for(let Z=T;Z<R;Z++){const Q=l.get(Z);H.iconBox={x1:Q.x1,y1:Q.y1,x2:Q.x2,y2:Q.y2,anchorPointX:Q.anchorPointX,anchorPointY:Q.anchorPointY},H.iconFeatureIndex=Q.featureIndex;break}for(let Z=j;Z<W;Z++){const Q=l.get(Z);H.verticalIconBox={x1:Q.x1,y1:Q.y1,x2:Q.x2,y2:Q.y2,anchorPointX:Q.anchorPointX,anchorPointY:Q.anchorPointY},H.verticalIconFeatureIndex=Q.featureIndex;break}return H}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let d=0;d<this.symbolInstances.length;d++){const m=this.symbolInstances.get(d);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,m.textBoxStartIndex,m.textBoxEndIndex,m.verticalTextBoxStartIndex,m.verticalTextBoxEndIndex,m.iconBoxStartIndex,m.iconBoxEndIndex,m.verticalIconBoxStartIndex,m.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,d){const m=l.placedSymbolArray.get(d),b=m.vertexStartIndex+4*m.numGlyphs;for(let S=m.vertexStartIndex;S<b;S+=4)l.indexArray.emplaceBack(S,S+1,S+2),l.indexArray.emplaceBack(S+1,S+2,S+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const d=Math.sin(l),m=Math.cos(l),b=[],S=[],T=[];for(let R=0;R<this.symbolInstances.length;++R){T.push(R);const j=this.symbolInstances.get(R);b.push(0|Math.round(d*j.anchorX+m*j.anchorY)),S.push(j.featureIndex)}return T.sort((R,j)=>b[R]-b[j]||S[j]-S[R]),T}addToSortKeyRanges(l,d){const m=this.sortKeyRanges[this.sortKeyRanges.length-1];m&&m.sortKey===d?m.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:d,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const d of this.symbolInstanceIndexes){const m=this.symbolInstances.get(d);this.featureSortOrder.push(m.featureIndex),[m.rightJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.leftJustifiedTextSymbolIndex].forEach((b,S,T)=>{b>=0&&T.indexOf(b)===S&&this.addIndicesForPlacedSymbol(this.text,b)}),m.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,m.verticalPlacedTextSymbolIndex),m.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.placedIconSymbolIndex),m.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let DN,LN;kt("SymbolBucket",yp,{omit:["layers","collisionBoxArray","features","compareText"]}),yp.MAX_GLYPHS=65535,yp.addDynamicAttributes=kT;var AT={get paint(){return LN=LN||new oo({"icon-opacity":new Zt(Ne.paint_symbol["icon-opacity"]),"icon-color":new Zt(Ne.paint_symbol["icon-color"]),"icon-halo-color":new Zt(Ne.paint_symbol["icon-halo-color"]),"icon-halo-width":new Zt(Ne.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Zt(Ne.paint_symbol["icon-halo-blur"]),"icon-translate":new Bt(Ne.paint_symbol["icon-translate"]),"icon-translate-anchor":new Bt(Ne.paint_symbol["icon-translate-anchor"]),"text-opacity":new Zt(Ne.paint_symbol["text-opacity"]),"text-color":new Zt(Ne.paint_symbol["text-color"],{runtimeType:$i,getOverride:u=>u.textColor,hasOverride:u=>!!u.textColor}),"text-halo-color":new Zt(Ne.paint_symbol["text-halo-color"]),"text-halo-width":new Zt(Ne.paint_symbol["text-halo-width"]),"text-halo-blur":new Zt(Ne.paint_symbol["text-halo-blur"]),"text-translate":new Bt(Ne.paint_symbol["text-translate"]),"text-translate-anchor":new Bt(Ne.paint_symbol["text-translate-anchor"])})},get layout(){return DN=DN||new oo({"symbol-placement":new Bt(Ne.layout_symbol["symbol-placement"]),"symbol-spacing":new Bt(Ne.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Bt(Ne.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Zt(Ne.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Bt(Ne.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Bt(Ne.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Bt(Ne.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Bt(Ne.layout_symbol["icon-ignore-placement"]),"icon-optional":new Bt(Ne.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Bt(Ne.layout_symbol["icon-rotation-alignment"]),"icon-size":new Zt(Ne.layout_symbol["icon-size"]),"icon-text-fit":new Bt(Ne.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Bt(Ne.layout_symbol["icon-text-fit-padding"]),"icon-image":new Zt(Ne.layout_symbol["icon-image"]),"icon-rotate":new Zt(Ne.layout_symbol["icon-rotate"]),"icon-padding":new Zt(Ne.layout_symbol["icon-padding"]),"icon-keep-upright":new Bt(Ne.layout_symbol["icon-keep-upright"]),"icon-offset":new Zt(Ne.layout_symbol["icon-offset"]),"icon-anchor":new Zt(Ne.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Bt(Ne.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Bt(Ne.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Bt(Ne.layout_symbol["text-rotation-alignment"]),"text-field":new Zt(Ne.layout_symbol["text-field"]),"text-font":new Zt(Ne.layout_symbol["text-font"]),"text-size":new Zt(Ne.layout_symbol["text-size"]),"text-max-width":new Zt(Ne.layout_symbol["text-max-width"]),"text-line-height":new Bt(Ne.layout_symbol["text-line-height"]),"text-letter-spacing":new Zt(Ne.layout_symbol["text-letter-spacing"]),"text-justify":new Zt(Ne.layout_symbol["text-justify"]),"text-radial-offset":new Zt(Ne.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Bt(Ne.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Zt(Ne.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Zt(Ne.layout_symbol["text-anchor"]),"text-max-angle":new Bt(Ne.layout_symbol["text-max-angle"]),"text-writing-mode":new Bt(Ne.layout_symbol["text-writing-mode"]),"text-rotate":new Zt(Ne.layout_symbol["text-rotate"]),"text-padding":new Bt(Ne.layout_symbol["text-padding"]),"text-keep-upright":new Bt(Ne.layout_symbol["text-keep-upright"]),"text-transform":new Zt(Ne.layout_symbol["text-transform"]),"text-offset":new Zt(Ne.layout_symbol["text-offset"]),"text-allow-overlap":new Bt(Ne.layout_symbol["text-allow-overlap"]),"text-overlap":new Bt(Ne.layout_symbol["text-overlap"]),"text-ignore-placement":new Bt(Ne.layout_symbol["text-ignore-placement"]),"text-optional":new Bt(Ne.layout_symbol["text-optional"])})}};class NN{constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:qi,this.defaultValue=l}evaluate(l){if(l.formattedSection){const d=this.defaultValue.property.overrides;if(d&&d.hasOverride(l.formattedSection))return d.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}kt("FormatSectionOverride",NN,{omit:["defaultValue"]});class __ extends Ia{constructor(l){super(l,AT)}recalculate(l,d){if(super.recalculate(l,d),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const m=this.layout.get("text-writing-mode");if(m){const b=[];for(const S of m)b.indexOf(S)<0&&b.push(S);this.layout._values["text-writing-mode"]=b}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,d,m,b){const S=this.layout.get(l).evaluate(d,{},m,b),T=this._unevaluatedLayout._values[l];return T.isDataDriven()||Zh(T.value)||!S?S:function(R,j){return j.replace(/{([^{}]+)}/g,(W,H)=>H in R?String(R[H]):"")}(d.properties,S)}createBucket(l){return new yp(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const l of AT.paint.overridableProperties){if(!__.hasPaintOverride(this.layout,l))continue;const d=this.paint.get(l),m=new NN(d),b=new py(m,d.property.specification);let S=null;S=d.value.kind==="constant"||d.value.kind==="source"?new Jh("source",b):new Qh("composite",b,d.value.zoomStops),this.paint._values[l]=new cs(d.property,S,d.parameters)}}_handleOverridablePaintPropertyUpdate(l,d,m){return!(!this.layout||d.isDataDriven()||m.isDataDriven())&&__.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,d){const m=l.get("text-field"),b=AT.paint.properties[d];let S=!1;const T=R=>{for(const j of R)if(b.overrides&&b.overrides.hasOverride(j))return void(S=!0)};if(m.value.kind==="constant"&&m.value.value instanceof Wo)T(m.value.value.sections);else if(m.value.kind==="source"){const R=W=>{S||(W instanceof Ws&&hn(W.value)===fe?T(W.value.sections):W instanceof qh?T(W.sections):W.eachChild(R))},j=m.value;j._styleExpression&&R(j._styleExpression.expression)}return S}}let zN;var kX={get paint(){return zN=zN||new oo({"background-color":new Bt(Ne.paint_background["background-color"]),"background-pattern":new Ny(Ne.paint_background["background-pattern"]),"background-opacity":new Bt(Ne.paint_background["background-opacity"])})}};class PX extends Ia{constructor(l){super(l,kX)}}let jN;var OX={get paint(){return jN=jN||new oo({"raster-opacity":new Bt(Ne.paint_raster["raster-opacity"]),"raster-hue-rotate":new Bt(Ne.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Bt(Ne.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Bt(Ne.paint_raster["raster-brightness-max"]),"raster-saturation":new Bt(Ne.paint_raster["raster-saturation"]),"raster-contrast":new Bt(Ne.paint_raster["raster-contrast"]),"raster-resampling":new Bt(Ne.paint_raster["raster-resampling"]),"raster-fade-duration":new Bt(Ne.paint_raster["raster-fade-duration"])})}};class AX extends Ia{constructor(l){super(l,OX)}}class MX extends Ia{constructor(l){super(l,{}),this.onAdd=d=>{this.implementation.onAdd&&this.implementation.onAdd(d,d.painter.context.gl)},this.onRemove=d=>{this.implementation.onRemove&&this.implementation.onRemove(d,d.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class IX{constructor(l){this._callback=l,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const MT=63710088e-1;class Lu{constructor(l,d){if(isNaN(l)||isNaN(d))throw new Error(`Invalid LngLat object: (${l}, ${d})`);if(this.lng=+l,this.lat=+d,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Lu(F(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){const d=Math.PI/180,m=this.lat*d,b=l.lat*d,S=Math.sin(m)*Math.sin(b)+Math.cos(m)*Math.cos(b)*Math.cos((l.lng-this.lng)*d);return MT*Math.acos(Math.min(S,1))}static convert(l){if(l instanceof Lu)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new Lu(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new Lu(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const BN=2*Math.PI*MT;function FN(u){return BN*Math.cos(u*Math.PI/180)}function UN(u){return(180+u)/360}function VN(u){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u*Math.PI/360)))/360}function WN(u,l){return u/FN(l)}function IT(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}class w_{constructor(l,d,m=0){this.x=+l,this.y=+d,this.z=+m}static fromLngLat(l,d=0){const m=Lu.convert(l);return new w_(UN(m.lng),VN(m.lat),WN(d,m.lat))}toLngLat(){return new Lu(360*this.x-180,IT(this.y))}toAltitude(){return this.z*FN(IT(this.y))}meterInMercatorCoordinateUnits(){return 1/BN*(l=IT(this.y),1/Math.cos(l*Math.PI/180));var l}}function qN(u,l,d){var m=2*Math.PI*6378137/256/Math.pow(2,d);return[u*m-2*Math.PI*6378137/2,l*m-2*Math.PI*6378137/2]}class $T{constructor(l,d,m){if(l<0||l>25||m<0||m>=Math.pow(2,l)||d<0||d>=Math.pow(2,l))throw new Error(`x=${d}, y=${m}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=d,this.y=m,this.key=tv(0,l,l,d,m)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,d,m){const b=(T=this.y,R=this.z,j=qN(256*(S=this.x),256*(T=Math.pow(2,R)-T-1),R),W=qN(256*(S+1),256*(T+1),R),j[0]+","+j[1]+","+W[0]+","+W[1]);var S,T,R,j,W;const H=function(Z,Q,ie){let oe,ue="";for(let ge=Z;ge>0;ge--)oe=1<<ge-1,ue+=(Q&oe?1:0)+(ie&oe?2:0);return ue}(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(m==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,d>1?"@2x":"").replace(/{quadkey}/g,H).replace(/{bbox-epsg-3857}/g,b)}isChildOf(l){const d=this.z-l.z;return d>0&&l.x===this.x>>d&&l.y===this.y>>d}getTilePoint(l){const d=Math.pow(2,this.z);return new x((l.x*d-this.x)*ci,(l.y*d-this.y)*ci)}toString(){return`${this.z}/${this.x}/${this.y}`}}class GN{constructor(l,d){this.wrap=l,this.canonical=d,this.key=tv(l,d.z,d.z,d.x,d.y)}}class Ra{constructor(l,d,m,b,S){if(l<m)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${m}`);this.overscaledZ=l,this.wrap=d,this.canonical=new $T(m,+b,+S),this.key=tv(d,l,m,b,S)}clone(){return new Ra(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const d=this.canonical.z-l;return l>this.canonical.z?new Ra(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ra(l,this.wrap,l,this.canonical.x>>d,this.canonical.y>>d)}calculateScaledKey(l,d){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const m=this.canonical.z-l;return l>this.canonical.z?tv(this.wrap*+d,l,this.canonical.z,this.canonical.x,this.canonical.y):tv(this.wrap*+d,l,l,this.canonical.x>>m,this.canonical.y>>m)}isChildOf(l){if(l.wrap!==this.wrap)return!1;const d=this.canonical.z-l.canonical.z;return l.overscaledZ===0||l.overscaledZ<this.overscaledZ&&l.canonical.x===this.canonical.x>>d&&l.canonical.y===this.canonical.y>>d}children(l){if(this.overscaledZ>=l)return[new Ra(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const d=this.canonical.z+1,m=2*this.canonical.x,b=2*this.canonical.y;return[new Ra(d,this.wrap,d,m,b),new Ra(d,this.wrap,d,m+1,b),new Ra(d,this.wrap,d,m,b+1),new Ra(d,this.wrap,d,m+1,b+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new Ra(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new Ra(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new GN(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new w_(l.x-this.wrap,l.y))}}function tv(u,l,d,m,b){(u*=2)<0&&(u=-1*u-1);const S=1<<d;return(S*S*u+S*b+m).toString(36)+d.toString(36)+l.toString(36)}kt("CanonicalTileID",$T),kt("OverscaledTileID",Ra,{omit:["posMatrix"]});class HN{constructor(l,d,m,b=1,S=1,T=1,R=0){if(this.uid=l,d.height!==d.width)throw new RangeError("DEM tiles must be square");if(m&&!["mapbox","terrarium","custom"].includes(m))return void we(`"${m}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=d.height;const j=this.dim=d.height-2;switch(this.data=new Uint32Array(d.data.buffer),m){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=b,this.greenFactor=S,this.blueFactor=T,this.baseShift=R;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let W=0;W<j;W++)this.data[this._idx(-1,W)]=this.data[this._idx(0,W)],this.data[this._idx(j,W)]=this.data[this._idx(j-1,W)],this.data[this._idx(W,-1)]=this.data[this._idx(W,0)],this.data[this._idx(W,j)]=this.data[this._idx(W,j-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(j,-1)]=this.data[this._idx(j-1,0)],this.data[this._idx(-1,j)]=this.data[this._idx(0,j-1)],this.data[this._idx(j,j)]=this.data[this._idx(j-1,j-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let W=0;W<j;W++)for(let H=0;H<j;H++){const Z=this.get(W,H);Z>this.max&&(this.max=Z),Z<this.min&&(this.min=Z)}}get(l,d){const m=new Uint8Array(this.data.buffer),b=4*this._idx(l,d);return this.unpack(m[b],m[b+1],m[b+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(l,d){if(l<-1||l>=this.dim+1||d<-1||d>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(d+1)*this.stride+(l+1)}unpack(l,d,m){return l*this.redFactor+d*this.greenFactor+m*this.blueFactor-this.baseShift}getPixels(){return new $a({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,d,m){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let b=d*this.dim,S=d*this.dim+this.dim,T=m*this.dim,R=m*this.dim+this.dim;switch(d){case-1:b=S-1;break;case 1:S=b+1}switch(m){case-1:T=R-1;break;case 1:R=T+1}const j=-d*this.dim,W=-m*this.dim;for(let H=T;H<R;H++)for(let Z=b;Z<S;Z++)this.data[this._idx(Z,H)]=l.data[this._idx(Z+j,H+W)]}}kt("DEMData",HN);class YN{constructor(l){this._stringToNumber={},this._numberToString=[];for(let d=0;d<l.length;d++){const m=l[d];this._stringToNumber[m]=d,this._numberToString[d]=m}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class KN{constructor(l,d,m,b,S){this.type="Feature",this._vectorTileFeature=l,l._z=d,l._x=m,l._y=b,this.properties=l.properties,this.id=S}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(l){this._geometry=l}toJSON(){const l={geometry:this.geometry};for(const d in this)d!=="_geometry"&&d!=="_vectorTileFeature"&&(l[d]=this[d]);return l}}class ZN{constructor(l,d){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new Pu(ci,16,0),this.grid3D=new Pu(ci,16,0),this.featureIndexArray=new at,this.promoteId=d}insert(l,d,m,b,S,T){const R=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(m,b,S);const j=T?this.grid3D:this.grid;for(let W=0;W<d.length;W++){const H=d[W],Z=[1/0,1/0,-1/0,-1/0];for(let Q=0;Q<H.length;Q++){const ie=H[Q];Z[0]=Math.min(Z[0],ie.x),Z[1]=Math.min(Z[1],ie.y),Z[2]=Math.max(Z[2],ie.x),Z[3]=Math.max(Z[3],ie.y)}Z[0]<ci&&Z[1]<ci&&Z[2]>=0&&Z[3]>=0&&j.insert(R,Z[0],Z[1],Z[2],Z[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new $u.VectorTile(new _T(this.rawTileData)).layers,this.sourceLayerCoder=new YN(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(l,d,m,b){this.loadVTLayers();const S=l.params||{},T=ci/l.tileSize/l.scale,R=yy(S.filter),j=l.queryGeometry,W=l.queryPadding*T,H=JN(j),Z=this.grid.query(H.minX-W,H.minY-W,H.maxX+W,H.maxY+W),Q=JN(l.cameraQueryGeometry),ie=this.grid3D.query(Q.minX-W,Q.minY-W,Q.maxX+W,Q.maxY+W,(ge,xe,Re,Te)=>function(Le,je,Ze,wt,Rt){for(const xt of Le)if(je<=xt.x&&Ze<=xt.y&&wt>=xt.x&&Rt>=xt.y)return!0;const _t=[new x(je,Ze),new x(je,Rt),new x(wt,Rt),new x(wt,Ze)];if(Le.length>2){for(const xt of _t)if(up(Le,xt))return!0}for(let xt=0;xt<Le.length-1;xt++)if(uZ(Le[xt],Le[xt+1],_t))return!0;return!1}(l.cameraQueryGeometry,ge-W,xe-W,Re+W,Te+W));for(const ge of ie)Z.push(ge);Z.sort($X);const oe={};let ue;for(let ge=0;ge<Z.length;ge++){const xe=Z[ge];if(xe===ue)continue;ue=xe;const Re=this.featureIndexArray.get(xe);let Te=null;this.loadMatchingFeature(oe,Re.bucketIndex,Re.sourceLayerIndex,Re.featureIndex,R,S.layers,S.availableImages,d,m,b,(Le,je,Ze)=>(Te||(Te=gf(Le)),je.queryIntersectsFeature(j,Le,Ze,Te,this.z,l.transform,T,l.pixelPosMatrix)))}return oe}loadMatchingFeature(l,d,m,b,S,T,R,j,W,H,Z){const Q=this.bucketLayerIDs[d];if(T&&!function(ge,xe){for(let Re=0;Re<ge.length;Re++)if(xe.indexOf(ge[Re])>=0)return!0;return!1}(T,Q))return;const ie=this.sourceLayerCoder.decode(m),oe=this.vtLayers[ie].feature(b);if(S.needGeometry){const ge=yf(oe,!0);if(!S.filter(new Tr(this.tileID.overscaledZ),ge,this.tileID.canonical))return}else if(!S.filter(new Tr(this.tileID.overscaledZ),oe))return;const ue=this.getId(oe,ie);for(let ge=0;ge<Q.length;ge++){const xe=Q[ge];if(T&&T.indexOf(xe)<0)continue;const Re=j[xe];if(!Re)continue;let Te={};ue&&H&&(Te=H.getState(Re.sourceLayer||"_geojsonTileLayer",ue));const Le=G({},W[xe]);Le.paint=XN(Le.paint,Re.paint,oe,Te,R),Le.layout=XN(Le.layout,Re.layout,oe,Te,R);const je=!Z||Z(oe,Re,Te);if(!je)continue;const Ze=new KN(oe,this.z,this.x,this.y,ue);Ze.layer=Le;let wt=l[xe];wt===void 0&&(wt=l[xe]=[]),wt.push({featureIndex:b,feature:Ze,intersectionZ:je})}}lookupSymbolFeatures(l,d,m,b,S,T,R,j){const W={};this.loadVTLayers();const H=yy(S);for(const Z of l)this.loadMatchingFeature(W,m,b,Z,H,T,R,j,d);return W}hasLayer(l){for(const d of this.bucketLayerIDs)for(const m of d)if(l===m)return!0;return!1}getId(l,d){let m=l.id;return this.promoteId&&(m=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[d]],typeof m=="boolean"&&(m=Number(m))),m}}function XN(u,l,d,m,b){return ee(u,(S,T)=>{const R=l instanceof rp?l.get(T):null;return R&&R.evaluate?R.evaluate(d,m,b):R})}function JN(u){let l=1/0,d=1/0,m=-1/0,b=-1/0;for(const S of u)l=Math.min(l,S.x),d=Math.min(d,S.y),m=Math.max(m,S.x),b=Math.max(b,S.y);return{minX:l,minY:d,maxX:m,maxY:b}}function $X(u,l){return l-u}function QN(u,l,d,m,b){const S=[];for(let T=0;T<u.length;T++){const R=u[T];let j;for(let W=0;W<R.length-1;W++){let H=R[W],Z=R[W+1];H.x<l&&Z.x<l||(H.x<l?H=new x(l,H.y+(l-H.x)/(Z.x-H.x)*(Z.y-H.y))._round():Z.x<l&&(Z=new x(l,H.y+(l-H.x)/(Z.x-H.x)*(Z.y-H.y))._round()),H.y<d&&Z.y<d||(H.y<d?H=new x(H.x+(d-H.y)/(Z.y-H.y)*(Z.x-H.x),d)._round():Z.y<d&&(Z=new x(H.x+(d-H.y)/(Z.y-H.y)*(Z.x-H.x),d)._round()),H.x>=m&&Z.x>=m||(H.x>=m?H=new x(m,H.y+(m-H.x)/(Z.x-H.x)*(Z.y-H.y))._round():Z.x>=m&&(Z=new x(m,H.y+(m-H.x)/(Z.x-H.x)*(Z.y-H.y))._round()),H.y>=b&&Z.y>=b||(H.y>=b?H=new x(H.x+(b-H.y)/(Z.y-H.y)*(Z.x-H.x),b)._round():Z.y>=b&&(Z=new x(H.x+(b-H.y)/(Z.y-H.y)*(Z.x-H.x),b)._round()),j&&H.equals(j[j.length-1])||(j=[H],S.push(j)),j.push(Z)))))}}return S}kt("FeatureIndex",ZN,{omit:["rawTileData","sourceLayerCoder"]});class Nu extends x{constructor(l,d,m,b){super(l,d),this.angle=m,b!==void 0&&(this.segment=b)}clone(){return new Nu(this.x,this.y,this.angle,this.segment)}}function ez(u,l,d,m,b){if(l.segment===void 0||d===0)return!0;let S=l,T=l.segment+1,R=0;for(;R>-d/2;){if(T--,T<0)return!1;R-=u[T].dist(S),S=u[T]}R+=u[T].dist(u[T+1]),T++;const j=[];let W=0;for(;R<d/2;){const H=u[T],Z=u[T+1];if(!Z)return!1;let Q=u[T-1].angleTo(H)-H.angleTo(Z);for(Q=Math.abs((Q+3*Math.PI)%(2*Math.PI)-Math.PI),j.push({distance:R,angleDelta:Q}),W+=Q;R-j[0].distance>m;)W-=j.shift().angleDelta;if(W>b)return!1;T++,R+=H.dist(Z)}return!0}function tz(u){let l=0;for(let d=0;d<u.length-1;d++)l+=u[d].dist(u[d+1]);return l}function nz(u,l,d){return u?.6*l*d:0}function rz(u,l){return Math.max(u?u.right-u.left:0,l?l.right-l.left:0)}function RX(u,l,d,m,b,S){const T=nz(d,b,S),R=rz(d,m)*S;let j=0;const W=tz(u)/2;for(let H=0;H<u.length-1;H++){const Z=u[H],Q=u[H+1],ie=Z.dist(Q);if(j+ie>W){const oe=(W-j)/ie,ue=Go.number(Z.x,Q.x,oe),ge=Go.number(Z.y,Q.y,oe),xe=new Nu(ue,ge,Q.angleTo(Z),H);return xe._round(),!T||ez(u,xe,R,T,l)?xe:void 0}j+=ie}}function DX(u,l,d,m,b,S,T,R,j){const W=nz(m,S,T),H=rz(m,b),Z=H*T,Q=u[0].x===0||u[0].x===j||u[0].y===0||u[0].y===j;return l-Z<l/4&&(l=Z+l/4),iz(u,Q?l/2*R%l:(H/2+2*S)*T*R%l,l,W,d,Z,Q,!1,j)}function iz(u,l,d,m,b,S,T,R,j){const W=S/2,H=tz(u);let Z=0,Q=l-d,ie=[];for(let oe=0;oe<u.length-1;oe++){const ue=u[oe],ge=u[oe+1],xe=ue.dist(ge),Re=ge.angleTo(ue);for(;Q+d<Z+xe;){Q+=d;const Te=(Q-Z)/xe,Le=Go.number(ue.x,ge.x,Te),je=Go.number(ue.y,ge.y,Te);if(Le>=0&&Le<j&&je>=0&&je<j&&Q-W>=0&&Q+W<=H){const Ze=new Nu(Le,je,Re,oe);Ze._round(),m&&!ez(u,Ze,S,m,b)||ie.push(Ze)}}Z+=xe}return R||ie.length||T||(ie=iz(u,Z/2,d,m,b,S,T,!0,j)),ie}kt("Anchor",Nu);const vp=ea;function oz(u,l,d,m){const b=[],S=u.image,T=S.pixelRatio,R=S.paddedRect.w-2*vp,j=S.paddedRect.h-2*vp,W=u.right-u.left,H=u.bottom-u.top,Z=S.stretchX||[[0,R]],Q=S.stretchY||[[0,j]],ie=(ct,At)=>ct+At[1]-At[0],oe=Z.reduce(ie,0),ue=Q.reduce(ie,0),ge=R-oe,xe=j-ue;let Re=0,Te=oe,Le=0,je=ue,Ze=0,wt=ge,Rt=0,_t=xe;if(S.content&&m){const ct=S.content;Re=S_(Z,0,ct[0]),Le=S_(Q,0,ct[1]),Te=S_(Z,ct[0],ct[2]),je=S_(Q,ct[1],ct[3]),Ze=ct[0]-Re,Rt=ct[1]-Le,wt=ct[2]-ct[0]-Te,_t=ct[3]-ct[1]-je}const xt=(ct,At,pt,rt)=>{const Yt=E_(ct.stretch-Re,Te,W,u.left),zt=C_(ct.fixed-Ze,wt,ct.stretch,oe),bn=E_(At.stretch-Le,je,H,u.top),xr=C_(At.fixed-Rt,_t,At.stretch,ue),Ar=E_(pt.stretch-Re,Te,W,u.left),yi=C_(pt.fixed-Ze,wt,pt.stretch,oe),ga=E_(rt.stretch-Le,je,H,u.top),Co=C_(rt.fixed-Rt,_t,rt.stretch,ue),ui=new x(Yt,bn),Li=new x(Ar,bn),Yi=new x(Ar,ga),To=new x(Yt,ga),ko=new x(zt/T,xr/T),vi=new x(yi/T,Co/T),bi=l*Math.PI/180;if(bi){const lo=Math.sin(bi),ta=Math.cos(bi),na=[ta,-lo,lo,ta];ui._matMult(na),Li._matMult(na),To._matMult(na),Yi._matMult(na)}const so=ct.stretch+ct.fixed,Po=At.stretch+At.fixed;return{tl:ui,tr:Li,bl:To,br:Yi,tex:{x:S.paddedRect.x+vp+so,y:S.paddedRect.y+vp+Po,w:pt.stretch+pt.fixed-so,h:rt.stretch+rt.fixed-Po},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ko,pixelOffsetBR:vi,minFontScaleX:wt/T/W,minFontScaleY:_t/T/H,isSDF:d}};if(m&&(S.stretchX||S.stretchY)){const ct=az(Z,ge,oe),At=az(Q,xe,ue);for(let pt=0;pt<ct.length-1;pt++){const rt=ct[pt],Yt=ct[pt+1];for(let zt=0;zt<At.length-1;zt++)b.push(xt(rt,At[zt],Yt,At[zt+1]))}}else b.push(xt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:R+1},{fixed:0,stretch:j+1}));return b}function S_(u,l,d){let m=0;for(const b of u)m+=Math.max(l,Math.min(d,b[1]))-Math.max(l,Math.min(d,b[0]));return m}function az(u,l,d){const m=[{fixed:-vp,stretch:0}];for(const[b,S]of u){const T=m[m.length-1];m.push({fixed:b-T.stretch,stretch:T.stretch}),m.push({fixed:b-T.stretch,stretch:T.stretch+(S-b)})}return m.push({fixed:l+vp,stretch:d}),m}function E_(u,l,d,m){return u/l*d+m}function C_(u,l,d,m){return u-l*d/m}class T_{constructor(l,d,m,b,S,T,R,j,W,H){if(this.boxStartIndex=l.length,W){let Z=T.top,Q=T.bottom;const ie=T.collisionPadding;ie&&(Z-=ie[1],Q+=ie[3]);let oe=Q-Z;oe>0&&(oe=Math.max(10,oe),this.circleDiameter=oe)}else{let Z=T.top*R-j[0],Q=T.bottom*R+j[2],ie=T.left*R-j[3],oe=T.right*R+j[1];const ue=T.collisionPadding;if(ue&&(ie-=ue[0]*R,Z-=ue[1]*R,oe+=ue[2]*R,Q+=ue[3]*R),H){const ge=new x(ie,Z),xe=new x(oe,Z),Re=new x(ie,Q),Te=new x(oe,Q),Le=H*Math.PI/180;ge._rotate(Le),xe._rotate(Le),Re._rotate(Le),Te._rotate(Le),ie=Math.min(ge.x,xe.x,Re.x,Te.x),oe=Math.max(ge.x,xe.x,Re.x,Te.x),Z=Math.min(ge.y,xe.y,Re.y,Te.y),Q=Math.max(ge.y,xe.y,Re.y,Te.y)}l.emplaceBack(d.x,d.y,ie,Z,oe,Q,m,b,S)}this.boxEndIndex=l.length}}class LX{constructor(l=[],d=NX){if(this.data=l,this.length=this.data.length,this.compare=d,this.length>0)for(let m=(this.length>>1)-1;m>=0;m--)this._down(m)}push(l){this.data.push(l),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const l=this.data[0],d=this.data.pop();return this.length--,this.length>0&&(this.data[0]=d,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:d,compare:m}=this,b=d[l];for(;l>0;){const S=l-1>>1,T=d[S];if(m(b,T)>=0)break;d[l]=T,l=S}d[l]=b}_down(l){const{data:d,compare:m}=this,b=this.length>>1,S=d[l];for(;l<b;){let T=1+(l<<1),R=d[T];const j=T+1;if(j<this.length&&m(d[j],R)<0&&(T=j,R=d[j]),m(R,S)>=0)break;d[l]=R,l=T}d[l]=S}}function NX(u,l){return u<l?-1:u>l?1:0}function zX(u,l=1,d=!1){let m=1/0,b=1/0,S=-1/0,T=-1/0;const R=u[0];for(let ie=0;ie<R.length;ie++){const oe=R[ie];(!ie||oe.x<m)&&(m=oe.x),(!ie||oe.y<b)&&(b=oe.y),(!ie||oe.x>S)&&(S=oe.x),(!ie||oe.y>T)&&(T=oe.y)}const j=Math.min(S-m,T-b);let W=j/2;const H=new LX([],jX);if(j===0)return new x(m,b);for(let ie=m;ie<S;ie+=j)for(let oe=b;oe<T;oe+=j)H.push(new bp(ie+W,oe+W,W,u));let Z=function(ie){let oe=0,ue=0,ge=0;const xe=ie[0];for(let Re=0,Te=xe.length,Le=Te-1;Re<Te;Le=Re++){const je=xe[Re],Ze=xe[Le],wt=je.x*Ze.y-Ze.x*je.y;ue+=(je.x+Ze.x)*wt,ge+=(je.y+Ze.y)*wt,oe+=3*wt}return new bp(ue/oe,ge/oe,0,ie)}(u),Q=H.length;for(;H.length;){const ie=H.pop();(ie.d>Z.d||!Z.d)&&(Z=ie,d&&console.log("found best %d after %d probes",Math.round(1e4*ie.d)/1e4,Q)),ie.max-Z.d<=l||(W=ie.h/2,H.push(new bp(ie.p.x-W,ie.p.y-W,W,u)),H.push(new bp(ie.p.x+W,ie.p.y-W,W,u)),H.push(new bp(ie.p.x-W,ie.p.y+W,W,u)),H.push(new bp(ie.p.x+W,ie.p.y+W,W,u)),Q+=4)}return d&&(console.log(`num probes: ${Q}`),console.log(`best distance: ${Z.d}`)),Z.p}function jX(u,l){return l.max-u.max}function bp(u,l,d,m){this.p=new x(u,l),this.h=d,this.d=function(b,S){let T=!1,R=1/0;for(let j=0;j<S.length;j++){const W=S[j];for(let H=0,Z=W.length,Q=Z-1;H<Z;Q=H++){const ie=W[H],oe=W[Q];ie.y>b.y!=oe.y>b.y&&b.x<(oe.x-ie.x)*(b.y-ie.y)/(oe.y-ie.y)+ie.x&&(T=!T),R=Math.min(R,VL(b,ie,oe))}}return(T?1:-1)*Math.sqrt(R)}(this.p,m),this.max=this.d+this.h*Math.SQRT2}var Hi;a.TextAnchorEnum=void 0,(Hi=a.TextAnchorEnum||(a.TextAnchorEnum={}))[Hi.center=1]="center",Hi[Hi.left=2]="left",Hi[Hi.right=3]="right",Hi[Hi.top=4]="top",Hi[Hi.bottom=5]="bottom",Hi[Hi["top-left"]=6]="top-left",Hi[Hi["top-right"]=7]="top-right",Hi[Hi["bottom-left"]=8]="bottom-left",Hi[Hi["bottom-right"]=9]="bottom-right";const zu=7,RT=Number.POSITIVE_INFINITY;function sz(u,l){return l[1]!==RT?function(d,m,b){let S=0,T=0;switch(m=Math.abs(m),b=Math.abs(b),d){case"top-right":case"top-left":case"top":T=b-zu;break;case"bottom-right":case"bottom-left":case"bottom":T=-b+zu}switch(d){case"top-right":case"bottom-right":case"right":S=-m;break;case"top-left":case"bottom-left":case"left":S=m}return[S,T]}(u,l[0],l[1]):function(d,m){let b=0,S=0;m<0&&(m=0);const T=m/Math.SQRT2;switch(d){case"top-right":case"top-left":S=T-zu;break;case"bottom-right":case"bottom-left":S=-T+zu;break;case"bottom":S=-m+zu;break;case"top":S=m-zu}switch(d){case"top-right":case"bottom-right":b=-T;break;case"top-left":case"bottom-left":b=T;break;case"left":b=m;break;case"right":b=-m}return[b,S]}(u,l[0])}function lz(u,l,d){var m;const b=u.layout,S=(m=b.get("text-variable-anchor-offset"))===null||m===void 0?void 0:m.evaluate(l,{},d);if(S){const R=S.values,j=[];for(let W=0;W<R.length;W+=2){const H=j[W]=R[W],Z=R[W+1].map(Q=>Q*gi);H.startsWith("top")?Z[1]-=zu:H.startsWith("bottom")&&(Z[1]+=zu),j[W+1]=Z}return new Ri(j)}const T=b.get("text-variable-anchor");if(T){let R;R=u._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[b.get("text-radial-offset").evaluate(l,{},d)*gi,RT]:b.get("text-offset").evaluate(l,{},d).map(W=>W*gi);const j=[];for(const W of T)j.push(W,sz(W,R));return new Ri(j)}return null}function DT(u){switch(u){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function BX(u,l,d,m,b,S,T,R,j,W,H){let Z=S.textMaxSize.evaluate(l,{});Z===void 0&&(Z=T);const Q=u.layers[0].layout,ie=Q.get("icon-offset").evaluate(l,{},H),oe=uz(d.horizontal),ue=T/24,ge=u.tilePixelRatio*ue,xe=u.tilePixelRatio*Z/24,Re=u.tilePixelRatio*R,Te=u.tilePixelRatio*Q.get("symbol-spacing"),Le=Q.get("text-padding")*u.tilePixelRatio,je=function(rt,Yt,zt,bn=1){const xr=rt.get("icon-padding").evaluate(Yt,{},zt),Ar=xr&&xr.values;return[Ar[0]*bn,Ar[1]*bn,Ar[2]*bn,Ar[3]*bn]}(Q,l,H,u.tilePixelRatio),Ze=Q.get("text-max-angle")/180*Math.PI,wt=Q.get("text-rotation-alignment")!=="viewport"&&Q.get("symbol-placement")!=="point",Rt=Q.get("icon-rotation-alignment")==="map"&&Q.get("symbol-placement")!=="point",_t=Q.get("symbol-placement"),xt=Te/2,ct=Q.get("icon-text-fit");let At;m&&ct!=="none"&&(u.allowVerticalPlacement&&d.vertical&&(At=$N(m,d.vertical,ct,Q.get("icon-text-fit-padding"),ie,ue)),oe&&(m=$N(m,oe,ct,Q.get("icon-text-fit-padding"),ie,ue)));const pt=(rt,Yt)=>{Yt.x<0||Yt.x>=ci||Yt.y<0||Yt.y>=ci||function(zt,bn,xr,Ar,yi,ga,Co,ui,Li,Yi,To,ko,vi,bi,so,Po,lo,ta,na,xi,kn,co,Ki,_i,hs){const Ks=zt.addToLineVertexArray(bn,xr);let Zs,Sc,ps,Da,ra=0,Ec=0,iv=0,pz=0,VT=-1,WT=-1;const Cc={};let mz=Qr("");if(zt.allowVerticalPlacement&&Ar.vertical){const uo=ui.layout.get("text-rotate").evaluate(kn,{},_i)+90;ps=new T_(Li,bn,Yi,To,ko,Ar.vertical,vi,bi,so,uo),Co&&(Da=new T_(Li,bn,Yi,To,ko,Co,lo,ta,so,uo))}if(yi){const uo=ui.layout.get("icon-rotate").evaluate(kn,{}),La=ui.layout.get("icon-text-fit")!=="none",bf=oz(yi,uo,Ki,La),Js=Co?oz(Co,uo,Ki,La):void 0;Sc=new T_(Li,bn,Yi,To,ko,yi,lo,ta,!1,uo),ra=4*bf.length;const xf=zt.iconSizeData;let Ll=null;xf.kind==="source"?(Ll=[Dl*ui.layout.get("icon-size").evaluate(kn,{})],Ll[0]>Du&&we(`${zt.layerIds[0]}: Value for "icon-size" is >= ${ev}. Reduce your "icon-size".`)):xf.kind==="composite"&&(Ll=[Dl*co.compositeIconSizes[0].evaluate(kn,{},_i),Dl*co.compositeIconSizes[1].evaluate(kn,{},_i)],(Ll[0]>Du||Ll[1]>Du)&&we(`${zt.layerIds[0]}: Value for "icon-size" is >= ${ev}. Reduce your "icon-size".`)),zt.addSymbols(zt.icon,bf,Ll,xi,na,kn,a.WritingMode.none,bn,Ks.lineStartIndex,Ks.lineLength,-1,_i),VT=zt.icon.placedSymbolArray.length-1,Js&&(Ec=4*Js.length,zt.addSymbols(zt.icon,Js,Ll,xi,na,kn,a.WritingMode.vertical,bn,Ks.lineStartIndex,Ks.lineLength,-1,_i),WT=zt.icon.placedSymbolArray.length-1)}const gz=Object.keys(Ar.horizontal);for(const uo of gz){const La=Ar.horizontal[uo];if(!Zs){mz=Qr(La.text);const Js=ui.layout.get("text-rotate").evaluate(kn,{},_i);Zs=new T_(Li,bn,Yi,To,ko,La,vi,bi,so,Js)}const bf=La.positionedLines.length===1;if(iv+=cz(zt,bn,La,ga,ui,so,kn,Po,Ks,Ar.vertical?a.WritingMode.horizontal:a.WritingMode.horizontalOnly,bf?gz:[uo],Cc,VT,co,_i),bf)break}Ar.vertical&&(pz+=cz(zt,bn,Ar.vertical,ga,ui,so,kn,Po,Ks,a.WritingMode.vertical,["vertical"],Cc,WT,co,_i));const VX=Zs?Zs.boxStartIndex:zt.collisionBoxArray.length,WX=Zs?Zs.boxEndIndex:zt.collisionBoxArray.length,qX=ps?ps.boxStartIndex:zt.collisionBoxArray.length,GX=ps?ps.boxEndIndex:zt.collisionBoxArray.length,HX=Sc?Sc.boxStartIndex:zt.collisionBoxArray.length,YX=Sc?Sc.boxEndIndex:zt.collisionBoxArray.length,KX=Da?Da.boxStartIndex:zt.collisionBoxArray.length,ZX=Da?Da.boxEndIndex:zt.collisionBoxArray.length;let Xs=-1;const P_=(uo,La)=>uo&&uo.circleDiameter?Math.max(uo.circleDiameter,La):La;Xs=P_(Zs,Xs),Xs=P_(ps,Xs),Xs=P_(Sc,Xs),Xs=P_(Da,Xs);const yz=Xs>-1?1:0;yz&&(Xs*=hs/gi),zt.glyphOffsetArray.length>=yp.MAX_GLYPHS&&we("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),kn.sortKey!==void 0&&zt.addToSortKeyRanges(zt.symbolInstances.length,kn.sortKey);const XX=lz(ui,kn,_i),[JX,QX]=function(uo,La){const bf=uo.length,Js=La==null?void 0:La.values;if((Js==null?void 0:Js.length)>0)for(let xf=0;xf<Js.length;xf+=2){const Ll=Js[xf+1];uo.emplaceBack(a.TextAnchorEnum[Js[xf]],Ll[0],Ll[1])}return[bf,uo.length]}(zt.textAnchorOffsets,XX);zt.symbolInstances.emplaceBack(bn.x,bn.y,Cc.right>=0?Cc.right:-1,Cc.center>=0?Cc.center:-1,Cc.left>=0?Cc.left:-1,Cc.vertical||-1,VT,WT,mz,VX,WX,qX,GX,HX,YX,KX,ZX,Yi,iv,pz,ra,Ec,yz,0,vi,Xs,JX,QX)}(u,Yt,rt,d,m,b,At,u.layers[0],u.collisionBoxArray,l.index,l.sourceLayerIndex,u.index,ge,[Le,Le,Le,Le],wt,j,Re,je,Rt,ie,l,S,W,H,T)};if(_t==="line")for(const rt of QN(l.geometry,0,0,ci,ci)){const Yt=DX(rt,Te,Ze,d.vertical||oe,m,24,xe,u.overscaling,ci);for(const zt of Yt)oe&&FX(u,oe.text,xt,zt)||pt(rt,zt)}else if(_t==="line-center"){for(const rt of l.geometry)if(rt.length>1){const Yt=RX(rt,Ze,d.vertical||oe,m,24,xe);Yt&&pt(rt,Yt)}}else if(l.type==="Polygon")for(const rt of hT(l.geometry,0)){const Yt=zX(rt,16);pt(rt[0],new Nu(Yt.x,Yt.y,0))}else if(l.type==="LineString")for(const rt of l.geometry)pt(rt,new Nu(rt[0].x,rt[0].y,0));else if(l.type==="Point")for(const rt of l.geometry)for(const Yt of rt)pt([Yt],new Nu(Yt.x,Yt.y,0))}function cz(u,l,d,m,b,S,T,R,j,W,H,Z,Q,ie,oe){const ue=function(Re,Te,Le,je,Ze,wt,Rt,_t){const xt=je.layout.get("text-rotate").evaluate(wt,{})*Math.PI/180,ct=[];for(const At of Te.positionedLines)for(const pt of At.positionedGlyphs){if(!pt.rect)continue;const rt=pt.rect||{};let Yt=TN+1,zt=!0,bn=1,xr=0;const Ar=(Ze||_t)&&pt.vertical,yi=pt.metrics.advance*pt.scale/2;if(_t&&Te.verticalizable&&(xr=At.lineOffset/2-(pt.imageName?-(gi-pt.metrics.width*pt.scale)/2:(pt.scale-1)*gi)),pt.imageName){const xi=Rt[pt.imageName];zt=xi.sdf,bn=xi.pixelRatio,Yt=ea/bn}const ga=Ze?[pt.x+yi,pt.y]:[0,0];let Co=Ze?[0,0]:[pt.x+yi+Le[0],pt.y+Le[1]-xr],ui=[0,0];Ar&&(ui=Co,Co=[0,0]);const Li=pt.metrics.isDoubleResolution?2:1,Yi=(pt.metrics.left-Yt)*pt.scale-yi+Co[0],To=(-pt.metrics.top-Yt)*pt.scale+Co[1],ko=Yi+rt.w/Li*pt.scale/bn,vi=To+rt.h/Li*pt.scale/bn,bi=new x(Yi,To),so=new x(ko,To),Po=new x(Yi,vi),lo=new x(ko,vi);if(Ar){const xi=new x(-yi,yi-Jy),kn=-Math.PI/2,co=gi/2-yi,Ki=new x(5-Jy-co,-(pt.imageName?co:0)),_i=new x(...ui);bi._rotateAround(kn,xi)._add(Ki)._add(_i),so._rotateAround(kn,xi)._add(Ki)._add(_i),Po._rotateAround(kn,xi)._add(Ki)._add(_i),lo._rotateAround(kn,xi)._add(Ki)._add(_i)}if(xt){const xi=Math.sin(xt),kn=Math.cos(xt),co=[kn,-xi,xi,kn];bi._matMult(co),so._matMult(co),Po._matMult(co),lo._matMult(co)}const ta=new x(0,0),na=new x(0,0);ct.push({tl:bi,tr:so,bl:Po,br:lo,tex:rt,writingMode:Te.writingMode,glyphOffset:ga,sectionIndex:pt.sectionIndex,isSDF:zt,pixelOffsetTL:ta,pixelOffsetBR:na,minFontScaleX:0,minFontScaleY:0})}return ct}(0,d,R,b,S,T,m,u.allowVerticalPlacement),ge=u.textSizeData;let xe=null;ge.kind==="source"?(xe=[Dl*b.layout.get("text-size").evaluate(T,{})],xe[0]>Du&&we(`${u.layerIds[0]}: Value for "text-size" is >= ${ev}. Reduce your "text-size".`)):ge.kind==="composite"&&(xe=[Dl*ie.compositeTextSizes[0].evaluate(T,{},oe),Dl*ie.compositeTextSizes[1].evaluate(T,{},oe)],(xe[0]>Du||xe[1]>Du)&&we(`${u.layerIds[0]}: Value for "text-size" is >= ${ev}. Reduce your "text-size".`)),u.addSymbols(u.text,ue,xe,R,S,T,W,l,j.lineStartIndex,j.lineLength,Q,oe);for(const Re of H)Z[Re]=u.text.placedSymbolArray.length-1;return 4*ue.length}function uz(u){for(const l in u)return u[l];return null}function FX(u,l,d,m){const b=u.compareText;if(l in b){const S=b[l];for(let T=S.length-1;T>=0;T--)if(m.dist(S[T])<d)return!0}else b[l]=[];return b[l].push(m),!1}const dz=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class LT{static from(l){if(!(l instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[d,m]=new Uint8Array(l,0,2);if(d!==219)throw new Error("Data does not appear to be in a KDBush format.");const b=m>>4;if(b!==1)throw new Error(`Got v${b} data when expected v1.`);const S=dz[15&m];if(!S)throw new Error("Unrecognized array type.");const[T]=new Uint16Array(l,2,1),[R]=new Uint32Array(l,4,1);return new LT(R,T,S,l)}constructor(l,d=64,m=Float64Array,b){if(isNaN(l)||l<0)throw new Error(`Unpexpected numItems value: ${l}.`);this.numItems=+l,this.nodeSize=Math.min(Math.max(+d,2),65535),this.ArrayType=m,this.IndexArrayType=l<65536?Uint16Array:Uint32Array;const S=dz.indexOf(this.ArrayType),T=2*l*this.ArrayType.BYTES_PER_ELEMENT,R=l*this.IndexArrayType.BYTES_PER_ELEMENT,j=(8-R%8)%8;if(S<0)throw new Error(`Unexpected typed array class: ${m}.`);b&&b instanceof ArrayBuffer?(this.data=b,this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+R+j,2*l),this._pos=2*l,this._finished=!0):(this.data=new ArrayBuffer(8+T+R+j),this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+R+j,2*l),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+S]),new Uint16Array(this.data,2,1)[0]=d,new Uint32Array(this.data,4,1)[0]=l)}add(l,d){const m=this._pos>>1;return this.ids[m]=m,this.coords[this._pos++]=l,this.coords[this._pos++]=d,m}finish(){const l=this._pos>>1;if(l!==this.numItems)throw new Error(`Added ${l} items when expected ${this.numItems}.`);return NT(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(l,d,m,b){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:S,coords:T,nodeSize:R}=this,j=[0,S.length-1,0],W=[];for(;j.length;){const H=j.pop()||0,Z=j.pop()||0,Q=j.pop()||0;if(Z-Q<=R){for(let ge=Q;ge<=Z;ge++){const xe=T[2*ge],Re=T[2*ge+1];xe>=l&&xe<=m&&Re>=d&&Re<=b&&W.push(S[ge])}continue}const ie=Q+Z>>1,oe=T[2*ie],ue=T[2*ie+1];oe>=l&&oe<=m&&ue>=d&&ue<=b&&W.push(S[ie]),(H===0?l<=oe:d<=ue)&&(j.push(Q),j.push(ie-1),j.push(1-H)),(H===0?m>=oe:b>=ue)&&(j.push(ie+1),j.push(Z),j.push(1-H))}return W}within(l,d,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:b,coords:S,nodeSize:T}=this,R=[0,b.length-1,0],j=[],W=m*m;for(;R.length;){const H=R.pop()||0,Z=R.pop()||0,Q=R.pop()||0;if(Z-Q<=T){for(let ge=Q;ge<=Z;ge++)hz(S[2*ge],S[2*ge+1],l,d)<=W&&j.push(b[ge]);continue}const ie=Q+Z>>1,oe=S[2*ie],ue=S[2*ie+1];hz(oe,ue,l,d)<=W&&j.push(b[ie]),(H===0?l-m<=oe:d-m<=ue)&&(R.push(Q),R.push(ie-1),R.push(1-H)),(H===0?l+m>=oe:d+m>=ue)&&(R.push(ie+1),R.push(Z),R.push(1-H))}return j}}function NT(u,l,d,m,b,S){if(b-m<=d)return;const T=m+b>>1;fz(u,l,T,m,b,S),NT(u,l,d,m,T-1,1-S),NT(u,l,d,T+1,b,1-S)}function fz(u,l,d,m,b,S){for(;b>m;){if(b-m>600){const W=b-m+1,H=d-m+1,Z=Math.log(W),Q=.5*Math.exp(2*Z/3),ie=.5*Math.sqrt(Z*Q*(W-Q)/W)*(H-W/2<0?-1:1);fz(u,l,d,Math.max(m,Math.floor(d-H*Q/W+ie)),Math.min(b,Math.floor(d+(W-H)*Q/W+ie)),S)}const T=l[2*d+S];let R=m,j=b;for(nv(u,l,m,d),l[2*b+S]>T&&nv(u,l,m,b);R<j;){for(nv(u,l,R,j),R++,j--;l[2*R+S]<T;)R++;for(;l[2*j+S]>T;)j--}l[2*m+S]===T?nv(u,l,m,j):(j++,nv(u,l,j,b)),j<=d&&(m=j+1),d<=j&&(b=j-1)}}function nv(u,l,d,m){zT(u,d,m),zT(l,2*d,2*m),zT(l,2*d+1,2*m+1)}function zT(u,l,d){const m=u[l];u[l]=u[d],u[d]=m}function hz(u,l,d,m){const b=u-d,S=l-m;return b*b+S*S}var jT;a.PerformanceMarkers=void 0,(jT=a.PerformanceMarkers||(a.PerformanceMarkers={})).create="create",jT.load="load",jT.fullLoad="fullLoad";let k_=null,rv=[];const BT=1e3/60,FT="loadTime",UT="fullLoadTime",UX={mark(u){performance.mark(u)},frame(u){const l=u;k_!=null&&rv.push(l-k_),k_=l},clearMetrics(){k_=null,rv=[],performance.clearMeasures(FT),performance.clearMeasures(UT);for(const u in a.PerformanceMarkers)performance.clearMarks(a.PerformanceMarkers[u])},getPerformanceMetrics(){performance.measure(FT,a.PerformanceMarkers.create,a.PerformanceMarkers.load),performance.measure(UT,a.PerformanceMarkers.create,a.PerformanceMarkers.fullLoad);const u=performance.getEntriesByName(FT)[0].duration,l=performance.getEntriesByName(UT)[0].duration,d=rv.length,m=1/(rv.reduce((S,T)=>S+T,0)/d/1e3),b=rv.filter(S=>S>BT).reduce((S,T)=>S+(T-BT)/BT,0);return{loadTime:u,fullLoadTime:l,fps:m,percentDroppedFrames:b/(d+b)*100,totalFrames:d}}};a.AJAXError=Ge,a.ARRAY_TYPE=dp,a.Actor=class{constructor(u,l,d){this.receive=m=>{const b=m.data,S=b.id;if(S&&(!b.targetMapId||this.mapId===b.targetMapId))if(b.type==="<cancel>"){delete this.tasks[S];const T=this.cancelCallbacks[S];delete this.cancelCallbacks[S],T&&T()}else Ce()||b.mustQueue?(this.tasks[S]=b,this.taskQueue.push(S),this.invoker.trigger()):this.processTask(S,b)},this.process=()=>{if(!this.taskQueue.length)return;const m=this.taskQueue.shift(),b=this.tasks[m];delete this.tasks[m],this.taskQueue.length&&this.invoker.trigger(),b&&this.processTask(m,b)},this.target=u,this.parent=l,this.mapId=d,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new IX(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Ce()?u:window}send(u,l,d,m,b=!1){const S=Math.round(1e18*Math.random()).toString(36).substring(0,10);d&&(this.callbacks[S]=d);const T=De(this.globalScope)?void 0:[];return this.target.postMessage({id:S,type:u,hasCallback:!!d,targetMapId:m,mustQueue:b,sourceMapId:this.mapId,data:Ou(l,T)},T),{cancel:()=>{d&&delete this.callbacks[S],this.target.postMessage({id:S,type:"<cancel>",targetMapId:m,sourceMapId:this.mapId})}}}processTask(u,l){if(l.type==="<response>"){const d=this.callbacks[u];delete this.callbacks[u],d&&(l.error?d(cf(l.error)):d(null,cf(l.data)))}else{let d=!1;const m=De(this.globalScope)?void 0:[],b=l.hasCallback?(R,j)=>{d=!0,delete this.cancelCallbacks[u],this.target.postMessage({id:u,type:"<response>",sourceMapId:this.mapId,error:R?Ou(R):null,data:Ou(j,m)},m)}:R=>{d=!0};let S=null;const T=cf(l.data);if(this.parent[l.type])S=this.parent[l.type](l.sourceMapId,T,b);else if(this.parent.getWorkerSource){const R=l.type.split(".");S=this.parent.getWorkerSource(l.sourceMapId,R[0],T.source)[R[1]](T,b)}else b(new Error(`Could not find function ${l.type}`));!d&&S&&S.cancel&&(this.cancelCallbacks[u]=S.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},a.AlphaImage=Wy,a.CanonicalTileID=$T,a.CollisionBoxArray=le,a.CollisionCircleLayoutArray=class extends _{},a.Color=Xn,a.DEMData=HN,a.DataConstantProperty=Bt,a.DictionaryCoder=YN,a.EXTENT=ci,a.ErrorEvent=rr,a.EvaluationParameters=Tr,a.Event=xn,a.Evented=Cn,a.FeatureIndex=ZN,a.FillBucket=gT,a.FillExtrusionBucket=vT,a.GeoJSONFeature=KN,a.ImageAtlas=PN,a.ImagePosition=ST,a.KDBush=LT,a.LineBucket=bT,a.LineStripIndexArray=class extends de{},a.LngLat=Lu,a.MercatorCoordinate=w_,a.ONE_EM=gi,a.OverscaledTileID=Ra,a.PerformanceUtils=UX,a.Point=x,a.Pos3dArray=class extends Ml{},a.PosArray=$t,a.Properties=oo,a.Protobuf=_T,a.QuadTriangleArray=class extends D{},a.RGBAImage=$a,a.RasterBoundsArray=class extends jy{},a.RequestPerformance=class{constructor(u){this._marks={start:[u.url,"start"].join("#"),end:[u.url,"end"].join("#"),measure:u.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let u=performance.getEntriesByName(this._marks.measure);return u.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),u=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),u}},a.SegmentVector=Or,a.SymbolBucket=yp,a.Transitionable=n_,a.TriangleIndexArray=Wr,a.Uniform1f=lp,a.Uniform1i=class extends xc{constructor(u,l){super(u,l),this.current=0}set(u){this.current!==u&&(this.current=u,this.gl.uniform1i(this.location,u))}},a.Uniform2f=class extends xc{constructor(u,l){super(u,l),this.current=[0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]||(this.current=u,this.gl.uniform2f(this.location,u[0],u[1]))}},a.Uniform3f=class extends xc{constructor(u,l){super(u,l),this.current=[0,0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]||(this.current=u,this.gl.uniform3f(this.location,u[0],u[1],u[2]))}},a.Uniform4f=a_,a.UniformColor=s_,a.UniformMatrix4f=class extends xc{constructor(u,l){super(u,l),this.current=tT}set(u){if(u[12]!==this.current[12]||u[0]!==this.current[0])return this.current=u,void this.gl.uniformMatrix4fv(this.location,!1,u);for(let l=1;l<16;l++)if(u[l]!==this.current[l]){this.current=u,this.gl.uniformMatrix4fv(this.location,!1,u);break}}},a.UnwrappedTileID=GN,a.ValidationError=Ue,a.ZoomHistory=Ty,a.__awaiter=f,a.addDynamicAttributes=kT,a.arrayBufferToImage=function(u,l){const d=new Image;d.onload=()=>{l(null,d),URL.revokeObjectURL(d.src),d.onload=null,window.requestAnimationFrame(()=>{d.src=dt})},d.onerror=()=>l(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const m=new Blob([new Uint8Array(u)],{type:"image/png"});d.src=u.byteLength?URL.createObjectURL(m):dt},a.arrayBufferToImageBitmap=function(u,l){const d=new Blob([new Uint8Array(u)],{type:"image/png"});createImageBitmap(d).then(m=>{l(null,m)}).catch(m=>{l(new Error(`Could not load image because of ${m.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},a.asyncAll=function(u,l,d){if(!u.length)return d(null,[]);let m=u.length;const b=new Array(u.length);let S=null;u.forEach((T,R)=>{l(T,(j,W)=>{j&&(S=j),b[R]=W,--m==0&&d(S,b)})})},a.bezier=$,a.browser=Gt,a.clamp=N,a.clipLine=QN,a.clone=function(u){var l=new dp(16);return l[0]=u[0],l[1]=u[1],l[2]=u[2],l[3]=u[3],l[4]=u[4],l[5]=u[5],l[6]=u[6],l[7]=u[7],l[8]=u[8],l[9]=u[9],l[10]=u[10],l[11]=u[11],l[12]=u[12],l[13]=u[13],l[14]=u[14],l[15]=u[15],l},a.clone$1=pe,a.collisionCircleLayout=aX,a.config=Ht,a.copy=function(u,l){return u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[4]=l[4],u[5]=l[5],u[6]=l[6],u[7]=l[7],u[8]=l[8],u[9]=l[9],u[10]=l[10],u[11]=l[11],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15],u},a.create=function(){var u=new dp(16);return dp!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=0,u[12]=0,u[13]=0,u[14]=0),u[0]=1,u[5]=1,u[10]=1,u[15]=1,u},a.createExpression=Xh,a.createFilter=yy,a.createLayout=kr,a.createStyleLayer=function(u){if(u.type==="custom")return new MX(u);switch(u.type){case"background":return new PX(u);case"circle":return new hZ(u);case"fill":return new $Z(u);case"fill-extrusion":return new YZ(u);case"heatmap":return new mZ(u);case"hillshade":return new yZ(u);case"line":return new nX(u);case"raster":return new AX(u);case"symbol":return new __(u)}},a.deepEqual=function u(l,d){if(Array.isArray(l)){if(!Array.isArray(d)||l.length!==d.length)return!1;for(let m=0;m<l.length;m++)if(!u(l[m],d[m]))return!1;return!0}if(typeof l=="object"&&l!==null&&d!==null){if(typeof d!="object"||Object.keys(l).length!==Object.keys(d).length)return!1;for(const m in l)if(!u(l[m],d[m]))return!1;return!0}return l===d},a.defaultEasing=z,a.derefLayers=function(u){u=u.slice();const l=Object.create(null);for(let d=0;d<u.length;d++)l[u[d].id]=u[d];for(let d=0;d<u.length;d++)"ref"in u[d]&&(u[d]=Hn(u[d],l[u[d].ref]));return u},a.diffStyles=function(u,l){if(!u)return[{command:Kt.setStyle,args:[l]}];let d=[];try{if(!Dt(u.version,l.version))return[{command:Kt.setStyle,args:[l]}];Dt(u.center,l.center)||d.push({command:Kt.setCenter,args:[l.center]}),Dt(u.zoom,l.zoom)||d.push({command:Kt.setZoom,args:[l.zoom]}),Dt(u.bearing,l.bearing)||d.push({command:Kt.setBearing,args:[l.bearing]}),Dt(u.pitch,l.pitch)||d.push({command:Kt.setPitch,args:[l.pitch]}),Dt(u.sprite,l.sprite)||d.push({command:Kt.setSprite,args:[l.sprite]}),Dt(u.glyphs,l.glyphs)||d.push({command:Kt.setGlyphs,args:[l.glyphs]}),Dt(u.transition,l.transition)||d.push({command:Kt.setTransition,args:[l.transition]}),Dt(u.light,l.light)||d.push({command:Kt.setLight,args:[l.light]});const m={},b=[];(function(T,R,j,W){let H;for(H in R=R||{},T=T||{})Object.prototype.hasOwnProperty.call(T,H)&&(Object.prototype.hasOwnProperty.call(R,H)||vr(H,j,W));for(H in R)Object.prototype.hasOwnProperty.call(R,H)&&(Object.prototype.hasOwnProperty.call(T,H)?Dt(T[H],R[H])||(T[H].type==="geojson"&&R[H].type==="geojson"&&rn(T,R,H)?j.push({command:Kt.setGeoJSONSourceData,args:[H,R[H].data]}):Ln(H,R,j,W)):ir(H,R,j))})(u.sources,l.sources,b,m);const S=[];u.layers&&u.layers.forEach(T=>{m[T.source]?d.push({command:Kt.removeLayer,args:[T.id]}):S.push(T)}),d=d.concat(b),function(T,R,j){R=R||[];const W=(T=T||[]).map(Ii),H=R.map(Ii),Z=T.reduce(mi,{}),Q=R.reduce(mi,{}),ie=W.slice(),oe=Object.create(null);let ue,ge,xe,Re,Te,Le,je;for(ue=0,ge=0;ue<W.length;ue++)xe=W[ue],Object.prototype.hasOwnProperty.call(Q,xe)?ge++:(j.push({command:Kt.removeLayer,args:[xe]}),ie.splice(ie.indexOf(xe,ge),1));for(ue=0,ge=0;ue<H.length;ue++)xe=H[H.length-1-ue],ie[ie.length-1-ue]!==xe&&(Object.prototype.hasOwnProperty.call(Z,xe)?(j.push({command:Kt.removeLayer,args:[xe]}),ie.splice(ie.lastIndexOf(xe,ie.length-ge),1)):ge++,Le=ie[ie.length-ue],j.push({command:Kt.addLayer,args:[Q[xe],Le]}),ie.splice(ie.length-ue,0,xe),oe[xe]=!0);for(ue=0;ue<H.length;ue++)if(xe=H[ue],Re=Z[xe],Te=Q[xe],!oe[xe]&&!Dt(Re,Te))if(Dt(Re.source,Te.source)&&Dt(Re["source-layer"],Te["source-layer"])&&Dt(Re.type,Te.type)){for(je in Zn(Re.layout,Te.layout,j,xe,null,Kt.setLayoutProperty),Zn(Re.paint,Te.paint,j,xe,null,Kt.setPaintProperty),Dt(Re.filter,Te.filter)||j.push({command:Kt.setFilter,args:[xe,Te.filter]}),Dt(Re.minzoom,Te.minzoom)&&Dt(Re.maxzoom,Te.maxzoom)||j.push({command:Kt.setLayerZoomRange,args:[xe,Te.minzoom,Te.maxzoom]}),Re)Object.prototype.hasOwnProperty.call(Re,je)&&je!=="layout"&&je!=="paint"&&je!=="filter"&&je!=="metadata"&&je!=="minzoom"&&je!=="maxzoom"&&(je.indexOf("paint.")===0?Zn(Re[je],Te[je],j,xe,je.slice(6),Kt.setPaintProperty):Dt(Re[je],Te[je])||j.push({command:Kt.setLayerProperty,args:[xe,je,Te[je]]}));for(je in Te)Object.prototype.hasOwnProperty.call(Te,je)&&!Object.prototype.hasOwnProperty.call(Re,je)&&je!=="layout"&&je!=="paint"&&je!=="filter"&&je!=="metadata"&&je!=="minzoom"&&je!=="maxzoom"&&(je.indexOf("paint.")===0?Zn(Re[je],Te[je],j,xe,je.slice(6),Kt.setPaintProperty):Dt(Re[je],Te[je])||j.push({command:Kt.setLayerProperty,args:[xe,je,Te[je]]}))}else j.push({command:Kt.removeLayer,args:[xe]}),Le=ie[ie.lastIndexOf(xe)+1],j.push({command:Kt.addLayer,args:[Te,Le]})}(S,l.layers,d)}catch(m){console.warn("Unable to compute style diff:",m),d=[{command:Kt.setStyle,args:[l]}]}return d},a.dot=function(u,l){return u[0]*l[0]+u[1]*l[1]+u[2]*l[2]+u[3]*l[3]},a.earthRadius=MT,a.emitValidationErrors=Cy,a.emptyStyle=function(){const u={},l=Ne.$version;for(const d in Ne.$root){const m=Ne.$root[d];if(m.required){let b=null;b=d==="version"?l:m.type==="array"?[]:{},b!=null&&(u[d]=b)}}return u},a.equals=function(u,l){var d=u[0],m=u[1],b=u[2],S=u[3],T=u[4],R=u[5],j=u[6],W=u[7],H=u[8],Z=u[9],Q=u[10],ie=u[11],oe=u[12],ue=u[13],ge=u[14],xe=u[15],Re=l[0],Te=l[1],Le=l[2],je=l[3],Ze=l[4],wt=l[5],Rt=l[6],_t=l[7],xt=l[8],ct=l[9],At=l[10],pt=l[11],rt=l[12],Yt=l[13],zt=l[14],bn=l[15];return Math.abs(d-Re)<=Eo*Math.max(1,Math.abs(d),Math.abs(Re))&&Math.abs(m-Te)<=Eo*Math.max(1,Math.abs(m),Math.abs(Te))&&Math.abs(b-Le)<=Eo*Math.max(1,Math.abs(b),Math.abs(Le))&&Math.abs(S-je)<=Eo*Math.max(1,Math.abs(S),Math.abs(je))&&Math.abs(T-Ze)<=Eo*Math.max(1,Math.abs(T),Math.abs(Ze))&&Math.abs(R-wt)<=Eo*Math.max(1,Math.abs(R),Math.abs(wt))&&Math.abs(j-Rt)<=Eo*Math.max(1,Math.abs(j),Math.abs(Rt))&&Math.abs(W-_t)<=Eo*Math.max(1,Math.abs(W),Math.abs(_t))&&Math.abs(H-xt)<=Eo*Math.max(1,Math.abs(H),Math.abs(xt))&&Math.abs(Z-ct)<=Eo*Math.max(1,Math.abs(Z),Math.abs(ct))&&Math.abs(Q-At)<=Eo*Math.max(1,Math.abs(Q),Math.abs(At))&&Math.abs(ie-pt)<=Eo*Math.max(1,Math.abs(ie),Math.abs(pt))&&Math.abs(oe-rt)<=Eo*Math.max(1,Math.abs(oe),Math.abs(rt))&&Math.abs(ue-Yt)<=Eo*Math.max(1,Math.abs(ue),Math.abs(Yt))&&Math.abs(ge-zt)<=Eo*Math.max(1,Math.abs(ge),Math.abs(zt))&&Math.abs(xe-bn)<=Eo*Math.max(1,Math.abs(xe),Math.abs(bn))},a.evaluateSizeForFeature=function(u,{uSize:l,uSizeT:d},{lowerSize:m,upperSize:b}){return u.kind==="source"?m/Dl:u.kind==="composite"?Go.number(m/Dl,b/Dl,d):l},a.evaluateSizeForZoom=function(u,l){let d=0,m=0;if(u.kind==="constant")m=u.layoutSize;else if(u.kind!=="source"){const{interpolationType:b,minZoom:S,maxZoom:T}=u,R=b?N(Ho.interpolationFactor(b,l,S,T),0,1):0;u.kind==="camera"?m=Go.number(u.minSize,u.maxSize,R):d=R}return{uSizeT:d,uSize:m}},a.evented=$y,a.extend=G,a.filterObject=ae,a.findLineIntersection=function(u,l,d,m){const b=l.y-u.y,S=l.x-u.x,T=m.y-d.y,R=m.x-d.x,j=T*S-R*b;if(j===0)return null;const W=(R*(u.y-d.y)-T*(u.x-d.x))/j;return new x(u.x+W*S,u.y+W*b)},a.fromScaling=function(u,l){return u[0]=l[0],u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=l[1],u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=l[2],u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},a.getAnchorAlignment=CT,a.getAnchorJustification=DT,a.getArrayBuffer=Tt,a.getDefaultExportFromCjs=h,a.getImageData=function(u,l,d,m,b){return f(this,void 0,void 0,function*(){if(P())try{return yield ht(u,l,d,m,b)}catch{}return function(S,T,R,j,W){const H=S.width,Z=S.height;Je&&it||(Je=new OffscreenCanvas(H,Z),it=Je.getContext("2d",{willReadFrequently:!0})),Je.width=H,Je.height=Z,it.drawImage(S,0,0,H,Z);const Q=it.getImageData(T,R,j,W);return it.clearRect(0,0,H,Z),Q.data}(u,l,d,m,b)})},a.getJSON=function(u,l){return Et(G(u,{type:"json"}),l)},a.getOverlapMode=TT,a.getProtocolAction=gt,a.getRTLTextPluginStatus=Ry,a.getReferrer=vt,a.getVideo=function(u,l){const d=window.document.createElement("video");d.muted=!0,d.onloadstart=function(){l(null,d)};for(let m=0;m<u.length;m++){const b=window.document.createElement("source");qt(u[m])||(d.crossOrigin="Anonymous"),b.src=u[m],d.appendChild(b)}return{cancel:()=>{}}},a.groupByLayout=function(u,l){const d={};for(let b=0;b<u.length;b++){const S=l&&l[u[b].id]||ZC(u[b]);l&&(l[u[b].id]=S);let T=d[S];T||(T=d[S]=[]),T.push(u[b])}const m=[];for(const b in d)m.push(d[b]);return m},a.identity=aT,a.interpolate=Go,a.invert=function(u,l){var d=l[0],m=l[1],b=l[2],S=l[3],T=l[4],R=l[5],j=l[6],W=l[7],H=l[8],Z=l[9],Q=l[10],ie=l[11],oe=l[12],ue=l[13],ge=l[14],xe=l[15],Re=d*R-m*T,Te=d*j-b*T,Le=d*W-S*T,je=m*j-b*R,Ze=m*W-S*R,wt=b*W-S*j,Rt=H*ue-Z*oe,_t=H*ge-Q*oe,xt=H*xe-ie*oe,ct=Z*ge-Q*ue,At=Z*xe-ie*ue,pt=Q*xe-ie*ge,rt=Re*pt-Te*At+Le*ct+je*xt-Ze*_t+wt*Rt;return rt?(u[0]=(R*pt-j*At+W*ct)*(rt=1/rt),u[1]=(b*At-m*pt-S*ct)*rt,u[2]=(ue*wt-ge*Ze+xe*je)*rt,u[3]=(Q*Ze-Z*wt-ie*je)*rt,u[4]=(j*xt-T*pt-W*_t)*rt,u[5]=(d*pt-b*xt+S*_t)*rt,u[6]=(ge*Le-oe*wt-xe*Te)*rt,u[7]=(H*wt-Q*Le+ie*Te)*rt,u[8]=(T*At-R*xt+W*Rt)*rt,u[9]=(m*xt-d*At-S*Rt)*rt,u[10]=(oe*Ze-ue*Le+xe*Re)*rt,u[11]=(Z*Le-H*Ze-ie*Re)*rt,u[12]=(R*_t-T*ct-j*Rt)*rt,u[13]=(d*ct-m*_t+b*Rt)*rt,u[14]=(ue*Te-oe*je-ge*Re)*rt,u[15]=(H*je-Z*Te+Q*Re)*rt,u):null},a.isImageBitmap=We,a.isOffscreenCanvasDistorted=P,a.isSafari=De,a.isWorker=Ce,a.keysDifference=function(u,l){const d=[];for(const m in u)m in l||d.push(m);return d},a.lazyLoadRTLTextPlugin=function(){Zo.isLoading()||Zo.isLoaded()||Ry()!=="deferred"||Dy()},a.makeRequest=Et,a.mapObject=ee,a.mercatorXfromLng=UN,a.mercatorYfromLat=VN,a.mercatorZfromAltitude=WN,a.mul=fZ,a.mul$1=function(u,l,d){return u[0]=l[0]*d[0],u[1]=l[1]*d[1],u[2]=l[2]*d[2],u[3]=l[3]*d[3],u},a.multiply=HL,a.nextPowerOfTwo=function(u){return u<=1?1:Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))},a.offscreenCanvasSupported=A,a.operations=Kt,a.ortho=function(u,l,d,m,b,S,T){var R=1/(l-d),j=1/(m-b),W=1/(S-T);return u[0]=-2*R,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*j,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2*W,u[11]=0,u[12]=(l+d)*R,u[13]=(b+m)*j,u[14]=(T+S)*W,u[15]=1,u},a.parseCacheControl=function(u){const l={};if(u.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(d,m,b,S)=>{const T=b||S;return l[m]=!T||T.toLowerCase(),""}),l["max-age"]){const d=parseInt(l["max-age"],10);isNaN(d)?delete l["max-age"]:l["max-age"]=d}return l},a.parseGlyphPbf=function(u){return new _T(u).readFields(yX,[])},a.pbf=bN,a.performSymbolLayout=function(u){u.bucket.createArrays(),u.bucket.tilePixelRatio=ci/(512*u.bucket.overscaling),u.bucket.compareText={},u.bucket.iconsNeedLinear=!1;const l=u.bucket.layers[0],d=l.layout,m=l._unevaluatedLayout._values,b={layoutIconSize:m["icon-size"].possiblyEvaluate(new Tr(u.bucket.zoom+1),u.canonical),layoutTextSize:m["text-size"].possiblyEvaluate(new Tr(u.bucket.zoom+1),u.canonical),textMaxSize:m["text-size"].possiblyEvaluate(new Tr(18))};if(u.bucket.textSizeData.kind==="composite"){const{minZoom:W,maxZoom:H}=u.bucket.textSizeData;b.compositeTextSizes=[m["text-size"].possiblyEvaluate(new Tr(W),u.canonical),m["text-size"].possiblyEvaluate(new Tr(H),u.canonical)]}if(u.bucket.iconSizeData.kind==="composite"){const{minZoom:W,maxZoom:H}=u.bucket.iconSizeData;b.compositeIconSizes=[m["icon-size"].possiblyEvaluate(new Tr(W),u.canonical),m["icon-size"].possiblyEvaluate(new Tr(H),u.canonical)]}const S=d.get("text-line-height")*gi,T=d.get("text-rotation-alignment")!=="viewport"&&d.get("symbol-placement")!=="point",R=d.get("text-keep-upright"),j=d.get("text-size");for(const W of u.bucket.features){const H=d.get("text-font").evaluate(W,{},u.canonical).join(","),Z=j.evaluate(W,{},u.canonical),Q=b.layoutTextSize.evaluate(W,{},u.canonical),ie=b.layoutIconSize.evaluate(W,{},u.canonical),oe={horizontal:{},vertical:void 0},ue=W.text;let ge,xe=[0,0];if(ue){const Le=ue.toString(),je=d.get("text-letter-spacing").evaluate(W,{},u.canonical)*gi,Ze=XC(Le)?je:0,wt=d.get("text-anchor").evaluate(W,{},u.canonical),Rt=lz(l,W,u.canonical);if(!Rt){const pt=d.get("text-radial-offset").evaluate(W,{},u.canonical);xe=pt?sz(wt,[pt*gi,RT]):d.get("text-offset").evaluate(W,{},u.canonical).map(rt=>rt*gi)}let _t=T?"center":d.get("text-justify").evaluate(W,{},u.canonical);const xt=d.get("symbol-placement"),ct=xt==="point"?d.get("text-max-width").evaluate(W,{},u.canonical)*gi:0,At=()=>{u.bucket.allowVerticalPlacement&&uf(Le)&&(oe.vertical=v_(ue,u.glyphMap,u.glyphPositions,u.imagePositions,H,ct,S,wt,"left",Ze,xe,a.WritingMode.vertical,!0,xt,Q,Z))};if(!T&&Rt){const pt=new Set;if(_t==="auto")for(let Yt=0;Yt<Rt.values.length;Yt+=2)pt.add(DT(Rt.values[Yt]));else pt.add(_t);let rt=!1;for(const Yt of pt)if(!oe.horizontal[Yt])if(rt)oe.horizontal[Yt]=oe.horizontal[0];else{const zt=v_(ue,u.glyphMap,u.glyphPositions,u.imagePositions,H,ct,S,"center",Yt,Ze,xe,a.WritingMode.horizontal,!1,xt,Q,Z);zt&&(oe.horizontal[Yt]=zt,rt=zt.positionedLines.length===1)}At()}else{_t==="auto"&&(_t=DT(wt));const pt=v_(ue,u.glyphMap,u.glyphPositions,u.imagePositions,H,ct,S,wt,_t,Ze,xe,a.WritingMode.horizontal,!1,xt,Q,Z);pt&&(oe.horizontal[_t]=pt),At(),uf(Le)&&T&&R&&(oe.vertical=v_(ue,u.glyphMap,u.glyphPositions,u.imagePositions,H,ct,S,wt,_t,Ze,xe,a.WritingMode.vertical,!1,xt,Q,Z))}}let Re=!1;if(W.icon&&W.icon.name){const Le=u.imageMap[W.icon.name];Le&&(ge=SX(u.imagePositions[W.icon.name],d.get("icon-offset").evaluate(W,{},u.canonical),d.get("icon-anchor").evaluate(W,{},u.canonical)),Re=!!Le.sdf,u.bucket.sdfIcons===void 0?u.bucket.sdfIcons=Re:u.bucket.sdfIcons!==Re&&we("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Le.pixelRatio!==u.bucket.pixelRatio||d.get("icon-rotate").constantOr(1)!==0)&&(u.bucket.iconsNeedLinear=!0))}const Te=uz(oe.horizontal)||oe.vertical;u.bucket.iconsInText=!!Te&&Te.iconsInText,(Te||ge)&&BX(u.bucket,W,oe,ge,u.imageMap,b,Q,ie,xe,Re,u.canonical)}u.showCollisionBoxes&&u.bucket.generateCollisionDebugBuffers()},a.perspective=function(u,l,d,m,b){var S,T=1/Math.tan(l/2);return u[0]=T/d,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=T,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=-1,u[12]=0,u[13]=0,u[15]=0,b!=null&&b!==1/0?(u[10]=(b+m)*(S=1/(m-b)),u[14]=2*b*m*S):(u[10]=-1,u[14]=-2*m),u},a.pick=function(u,l){const d={};for(let m=0;m<l.length;m++){const b=l[m];b in u&&(d[b]=u[b])}return d},a.plugin=Zo,a.pointGeometry=g,a.polygonIntersectsPolygon=FL,a.potpack=kN,a.readImageUsingVideoFrame=ht,a.register=kt,a.registerForPluginStateChange=function(u){return u({pluginStatus:So,pluginURL:Ma}),$y.on("pluginStateChange",u),u},a.renderColorRamp=JL,a.rotateX=function(u,l,d){var m=Math.sin(d),b=Math.cos(d),S=l[4],T=l[5],R=l[6],j=l[7],W=l[8],H=l[9],Z=l[10],Q=l[11];return l!==u&&(u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15]),u[4]=S*b+W*m,u[5]=T*b+H*m,u[6]=R*b+Z*m,u[7]=j*b+Q*m,u[8]=W*b-S*m,u[9]=H*b-T*m,u[10]=Z*b-R*m,u[11]=Q*b-j*m,u},a.rotateZ=function(u,l,d){var m=Math.sin(d),b=Math.cos(d),S=l[0],T=l[1],R=l[2],j=l[3],W=l[4],H=l[5],Z=l[6],Q=l[7];return l!==u&&(u[8]=l[8],u[9]=l[9],u[10]=l[10],u[11]=l[11],u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15]),u[0]=S*b+W*m,u[1]=T*b+H*m,u[2]=R*b+Z*m,u[3]=j*b+Q*m,u[4]=W*b-S*m,u[5]=H*b-T*m,u[6]=Z*b-R*m,u[7]=Q*b-j*m,u},a.sameOrigin=qt,a.scale=function(u,l,d){var m=d[0],b=d[1],S=d[2];return u[0]=l[0]*m,u[1]=l[1]*m,u[2]=l[2]*m,u[3]=l[3]*m,u[4]=l[4]*b,u[5]=l[5]*b,u[6]=l[6]*b,u[7]=l[7]*b,u[8]=l[8]*S,u[9]=l[9]*S,u[10]=l[10]*S,u[11]=l[11]*S,u[12]=l[12],u[13]=l[13],u[14]=l[14],u[15]=l[15],u},a.setRTLTextPlugin=function(u,l,d=!1){if(So===Oy||So===Ay||So===My)throw new Error("setRTLTextPlugin cannot be called multiple times.");Ma=Gt.resolveURL(u),So=Oy,Iy=l,df(),d||Dy()},a.sphericalToCartesian=function([u,l,d]){return l+=90,l*=Math.PI/180,d*=Math.PI/180,{x:u*Math.cos(l)*Math.sin(d),y:u*Math.sin(l)*Math.sin(d),z:u*Math.cos(d)}},a.toEvaluationFeature=yf,a.transformMat4=d_,a.translate=function(u,l,d){var m,b,S,T,R,j,W,H,Z,Q,ie,oe,ue=d[0],ge=d[1],xe=d[2];return l===u?(u[12]=l[0]*ue+l[4]*ge+l[8]*xe+l[12],u[13]=l[1]*ue+l[5]*ge+l[9]*xe+l[13],u[14]=l[2]*ue+l[6]*ge+l[10]*xe+l[14],u[15]=l[3]*ue+l[7]*ge+l[11]*xe+l[15]):(b=l[1],S=l[2],T=l[3],R=l[4],j=l[5],W=l[6],H=l[7],Z=l[8],Q=l[9],ie=l[10],oe=l[11],u[0]=m=l[0],u[1]=b,u[2]=S,u[3]=T,u[4]=R,u[5]=j,u[6]=W,u[7]=H,u[8]=Z,u[9]=Q,u[10]=ie,u[11]=oe,u[12]=m*ue+R*ge+Z*xe+l[12],u[13]=b*ue+j*ge+Q*xe+l[13],u[14]=S*ue+W*ge+ie*xe+l[14],u[15]=T*ue+H*ge+oe*xe+l[15]),u},a.triggerPluginCompletionEvent=t_,a.unicodeBlockLookup=St,a.uniqueId=function(){return J++},a.v8Spec=Ne,a.validateCustomStyleLayer=function(u){const l=[],d=u.id;return d===void 0&&l.push({message:`layers.${d}: missing required property "id"`}),u.render===void 0&&l.push({message:`layers.${d}: missing required method "render"`}),u.renderingMode&&u.renderingMode!=="2d"&&u.renderingMode!=="3d"&&l.push({message:`layers.${d}: property "renderingMode" must be either "2d" or "3d"`}),l},a.validateLight=Sy,a.validateStyle=sf,a.vectorTile=$u,a.warnOnce=we,a.wrap=F}),o(["./shared"],function(a){class f{constructor(X){this.keyCache={},X&&this.replace(X)}replace(X){this._layerConfigs={},this._layers={},this.update(X,[])}update(X,ne){for(const he of X){this._layerConfigs[he.id]=he;const be=this._layers[he.id]=a.createStyleLayer(he);be._featureFilter=a.createFilter(be.filter),this.keyCache[he.id]&&delete this.keyCache[he.id]}for(const he of ne)delete this.keyCache[he],delete this._layerConfigs[he],delete this._layers[he];this.familiesBySource={};const se=a.groupByLayout(Object.values(this._layerConfigs),this.keyCache);for(const he of se){const be=he.map(He=>this._layers[He.id]),Me=be[0];if(Me.visibility==="none")continue;const ke=Me.source||"";let _e=this.familiesBySource[ke];_e||(_e=this.familiesBySource[ke]={});const $e=Me.sourceLayer||"_geojsonTileLayer";let qe=_e[$e];qe||(qe=_e[$e]=[]),qe.push(be)}}}class h{constructor(X){const ne={},se=[];for(const ke in X){const _e=X[ke],$e=ne[ke]={};for(const qe in _e){const He=_e[+qe];if(!He||He.bitmap.width===0||He.bitmap.height===0)continue;const Xe={x:0,y:0,w:He.bitmap.width+2,h:He.bitmap.height+2};se.push(Xe),$e[qe]={rect:Xe,metrics:He.metrics}}}const{w:he,h:be}=a.potpack(se),Me=new a.AlphaImage({width:he||1,height:be||1});for(const ke in X){const _e=X[ke];for(const $e in _e){const qe=_e[+$e];if(!qe||qe.bitmap.width===0||qe.bitmap.height===0)continue;const He=ne[ke][$e].rect;a.AlphaImage.copy(qe.bitmap,Me,{x:0,y:0},{x:He.x+1,y:He.y+1},qe.bitmap)}}this.image=Me,this.positions=ne}}a.register("GlyphAtlas",h);class g{constructor(X){this.tileID=new a.OverscaledTileID(X.tileID.overscaledZ,X.tileID.wrap,X.tileID.canonical.z,X.tileID.canonical.x,X.tileID.canonical.y),this.uid=X.uid,this.zoom=X.zoom,this.pixelRatio=X.pixelRatio,this.tileSize=X.tileSize,this.source=X.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=X.showCollisionBoxes,this.collectResourceTiming=!!X.collectResourceTiming,this.returnDependencies=!!X.returnDependencies,this.promoteId=X.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(X,ne,se,he,be){this.status="parsing",this.data=X,this.collisionBoxArray=new a.CollisionBoxArray;const Me=new a.DictionaryCoder(Object.keys(X.layers).sort()),ke=new a.FeatureIndex(this.tileID,this.promoteId);ke.bucketLayerIDs=[];const _e={},$e={featureIndex:ke,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:se},qe=ne.familiesBySource[this.source];for(const In in qe){const Tn=X.layers[In];if(!Tn)continue;Tn.version===1&&a.warnOnce(`Vector tile source "${this.source}" layer "${In}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Pi=Me.encode(In),Ut=[];for(let Bn=0;Bn<Tn.length;Bn++){const li=Tn.feature(Bn),Tl=ke.getId(li,In);Ut.push({feature:li,id:Tl,index:Bn,sourceLayerIndex:Pi})}for(const Bn of qe[In]){const li=Bn[0];li.source!==this.source&&a.warnOnce(`layer.source = ${li.source} does not equal this.source = ${this.source}`),li.minzoom&&this.zoom<Math.floor(li.minzoom)||li.maxzoom&&this.zoom>=li.maxzoom||li.visibility!=="none"&&(v(Bn,this.zoom,se),(_e[li.id]=li.createBucket({index:ke.bucketLayerIDs.length,layers:Bn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Pi,sourceID:this.source})).populate(Ut,$e,this.tileID.canonical),ke.bucketLayerIDs.push(Bn.map(Tl=>Tl.id)))}}let He,Xe,Lt,Xt;const It=a.mapObject($e.glyphDependencies,In=>Object.keys(In).map(Number));this.inFlightDependencies.forEach(In=>In==null?void 0:In.cancel()),this.inFlightDependencies=[];const jt=++this.dependencySentinel;Object.keys(It).length?this.inFlightDependencies.push(he.send("getGlyphs",{uid:this.uid,stacks:It,source:this.source,tileID:this.tileID,type:"glyphs"},(In,Tn)=>{jt===this.dependencySentinel&&(He||(He=In,Xe=Tn,Yn.call(this)))})):Xe={};const ln=Object.keys($e.iconDependencies);ln.length?this.inFlightDependencies.push(he.send("getImages",{icons:ln,source:this.source,tileID:this.tileID,type:"icons"},(In,Tn)=>{jt===this.dependencySentinel&&(He||(He=In,Lt=Tn,Yn.call(this)))})):Lt={};const jn=Object.keys($e.patternDependencies);function Yn(){if(He)return be(He);if(Xe&&Lt&&Xt){const In=new h(Xe),Tn=new a.ImageAtlas(Lt,Xt);for(const Pi in _e){const Ut=_e[Pi];Ut instanceof a.SymbolBucket?(v(Ut.layers,this.zoom,se),a.performSymbolLayout({bucket:Ut,glyphMap:Xe,glyphPositions:In.positions,imageMap:Lt,imagePositions:Tn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):Ut.hasPattern&&(Ut instanceof a.LineBucket||Ut instanceof a.FillBucket||Ut instanceof a.FillExtrusionBucket)&&(v(Ut.layers,this.zoom,se),Ut.addFeatures($e,this.tileID.canonical,Tn.patternPositions))}this.status="done",be(null,{buckets:Object.values(_e).filter(Pi=>!Pi.isEmpty()),featureIndex:ke,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:In.image,imageAtlas:Tn,glyphMap:this.returnDependencies?Xe:null,iconMap:this.returnDependencies?Lt:null,glyphPositions:this.returnDependencies?In.positions:null})}}jn.length?this.inFlightDependencies.push(he.send("getImages",{icons:jn,source:this.source,tileID:this.tileID,type:"patterns"},(In,Tn)=>{jt===this.dependencySentinel&&(He||(He=In,Xt=Tn,Yn.call(this)))})):Xt={},Yn.call(this)}}function v(fe,X,ne){const se=new a.EvaluationParameters(X);for(const he of fe)he.recalculate(se,ne)}function x(fe,X){const ne=a.getArrayBuffer(fe.request,(se,he,be,Me)=>{if(se)X(se);else if(he)try{const ke=new a.vectorTile.VectorTile(new a.Protobuf(he));X(null,{vectorTile:ke,rawData:he,cacheControl:be,expires:Me})}catch(ke){const _e=new Uint8Array(he);let $e=`Unable to parse the tile at ${fe.request.url}, `;$e+=_e[0]===31&&_e[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${ke.messge}`,X(new Error($e))}});return()=>{ne.cancel(),X()}}class k{constructor(X,ne,se,he){this.actor=X,this.layerIndex=ne,this.availableImages=se,this.loadVectorData=he||x,this.fetching={},this.loading={},this.loaded={}}loadTile(X,ne){const se=X.uid;this.loading||(this.loading={});const he=!!(X&&X.request&&X.request.collectResourceTiming)&&new a.RequestPerformance(X.request),be=this.loading[se]=new g(X);be.abort=this.loadVectorData(X,(Me,ke)=>{if(delete this.loading[se],Me||!ke)return be.status="done",this.loaded[se]=be,ne(Me);const _e=ke.rawData,$e={};ke.expires&&($e.expires=ke.expires),ke.cacheControl&&($e.cacheControl=ke.cacheControl);const qe={};if(he){const He=he.finish();He&&(qe.resourceTiming=JSON.parse(JSON.stringify(He)))}be.vectorTile=ke.vectorTile,be.parse(ke.vectorTile,this.layerIndex,this.availableImages,this.actor,(He,Xe)=>{if(delete this.fetching[se],He||!Xe)return ne(He);ne(null,a.extend({rawTileData:_e.slice(0)},Xe,$e,qe))}),this.loaded=this.loaded||{},this.loaded[se]=be,this.fetching[se]={rawTileData:_e,cacheControl:$e,resourceTiming:qe}})}reloadTile(X,ne){const se=this.loaded,he=X.uid;if(se&&se[he]){const be=se[he];be.showCollisionBoxes=X.showCollisionBoxes,be.status==="parsing"?be.parse(be.vectorTile,this.layerIndex,this.availableImages,this.actor,(Me,ke)=>{if(Me||!ke)return ne(Me,ke);let _e;if(this.fetching[he]){const{rawTileData:$e,cacheControl:qe,resourceTiming:He}=this.fetching[he];delete this.fetching[he],_e=a.extend({rawTileData:$e.slice(0)},ke,qe,He)}else _e=ke;ne(null,_e)}):be.status==="done"&&(be.vectorTile?be.parse(be.vectorTile,this.layerIndex,this.availableImages,this.actor,ne):ne())}}abortTile(X,ne){const se=this.loading,he=X.uid;se&&se[he]&&se[he].abort&&(se[he].abort(),delete se[he]),ne()}removeTile(X,ne){const se=this.loaded,he=X.uid;se&&se[he]&&delete se[he],ne()}}class O{constructor(){this.loaded={}}loadTile(X,ne){return a.__awaiter(this,void 0,void 0,function*(){const{uid:se,encoding:he,rawImageData:be,redFactor:Me,greenFactor:ke,blueFactor:_e,baseShift:$e}=X,qe=be.width+2,He=be.height+2,Xe=a.isImageBitmap(be)?new a.RGBAImage({width:qe,height:He},yield a.getImageData(be,-1,-1,qe,He)):be,Lt=new a.DEMData(se,Xe,he,Me,ke,_e,$e);this.loaded=this.loaded||{},this.loaded[se]=Lt,ne(null,Lt)})}removeTile(X){const ne=this.loaded,se=X.uid;ne&&ne[se]&&delete ne[se]}}function C(fe,X){if(fe.length!==0){M(fe[0],X);for(var ne=1;ne<fe.length;ne++)M(fe[ne],!X)}}function M(fe,X){for(var ne=0,se=0,he=0,be=fe.length,Me=be-1;he<be;Me=he++){var ke=(fe[he][0]-fe[Me][0])*(fe[Me][1]+fe[he][1]),_e=ne+ke;se+=Math.abs(ne)>=Math.abs(ke)?ne-_e+ke:ke-_e+ne,ne=_e}ne+se>=0!=!!X&&fe.reverse()}var I=a.getDefaultExportFromCjs(function fe(X,ne){var se,he=X&&X.type;if(he==="FeatureCollection")for(se=0;se<X.features.length;se++)fe(X.features[se],ne);else if(he==="GeometryCollection")for(se=0;se<X.geometries.length;se++)fe(X.geometries[se],ne);else if(he==="Feature")fe(X.geometry,ne);else if(he==="Polygon")C(X.coordinates,ne);else if(he==="MultiPolygon")for(se=0;se<X.coordinates.length;se++)C(X.coordinates[se],ne);return X});const A=a.vectorTile.VectorTileFeature.prototype.toGeoJSON;var P={exports:{}},$=a.pointGeometry,z=a.vectorTile.VectorTileFeature,N=F;function F(fe,X){this.options=X||{},this.features=fe,this.length=fe.length}function G(fe,X){this.id=typeof fe.id=="number"?fe.id:void 0,this.type=fe.type,this.rawGeometry=fe.type===1?[fe.geometry]:fe.geometry,this.properties=fe.tags,this.extent=X||4096}F.prototype.feature=function(fe){return new G(this.features[fe],this.options.extent)},G.prototype.loadGeometry=function(){var fe=this.rawGeometry;this.geometry=[];for(var X=0;X<fe.length;X++){for(var ne=fe[X],se=[],he=0;he<ne.length;he++)se.push(new $(ne[he][0],ne[he][1]));this.geometry.push(se)}return this.geometry},G.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var fe=this.geometry,X=1/0,ne=-1/0,se=1/0,he=-1/0,be=0;be<fe.length;be++)for(var Me=fe[be],ke=0;ke<Me.length;ke++){var _e=Me[ke];X=Math.min(X,_e.x),ne=Math.max(ne,_e.x),se=Math.min(se,_e.y),he=Math.max(he,_e.y)}return[X,se,ne,he]},G.prototype.toGeoJSON=z.prototype.toGeoJSON;var J=a.pbf,ee=N;function ae(fe){var X=new J;return function(ne,se){for(var he in ne.layers)se.writeMessage(3,pe,ne.layers[he])}(fe,X),X.finish()}function pe(fe,X){var ne;X.writeVarintField(15,fe.version||1),X.writeStringField(1,fe.name||""),X.writeVarintField(5,fe.extent||4096);var se={keys:[],values:[],keycache:{},valuecache:{}};for(ne=0;ne<fe.length;ne++)se.feature=fe.feature(ne),X.writeMessage(2,ye,se);var he=se.keys;for(ne=0;ne<he.length;ne++)X.writeStringField(3,he[ne]);var be=se.values;for(ne=0;ne<be.length;ne++)X.writeMessage(4,Se,be[ne])}function ye(fe,X){var ne=fe.feature;ne.id!==void 0&&X.writeVarintField(1,ne.id),X.writeMessage(2,we,fe),X.writeVarintField(3,ne.type),X.writeMessage(4,Ce,ne)}function we(fe,X){var ne=fe.feature,se=fe.keys,he=fe.values,be=fe.keycache,Me=fe.valuecache;for(var ke in ne.properties){var _e=ne.properties[ke],$e=be[ke];if(_e!==null){$e===void 0&&(se.push(ke),be[ke]=$e=se.length-1),X.writeVarint($e);var qe=typeof _e;qe!=="string"&&qe!=="boolean"&&qe!=="number"&&(_e=JSON.stringify(_e));var He=qe+":"+_e,Xe=Me[He];Xe===void 0&&(he.push(_e),Me[He]=Xe=he.length-1),X.writeVarint(Xe)}}}function Ee(fe,X){return(X<<3)+(7&fe)}function Oe(fe){return fe<<1^fe>>31}function Ce(fe,X){for(var ne=fe.loadGeometry(),se=fe.type,he=0,be=0,Me=ne.length,ke=0;ke<Me;ke++){var _e=ne[ke],$e=1;se===1&&($e=_e.length),X.writeVarint(Ee(1,$e));for(var qe=se===3?_e.length-1:_e.length,He=0;He<qe;He++){He===1&&se!==1&&X.writeVarint(Ee(2,qe-1));var Xe=_e[He].x-he,Lt=_e[He].y-be;X.writeVarint(Oe(Xe)),X.writeVarint(Oe(Lt)),he+=Xe,be+=Lt}se===3&&X.writeVarint(Ee(7,1))}}function Se(fe,X){var ne=typeof fe;ne==="string"?X.writeStringField(1,fe):ne==="boolean"?X.writeBooleanField(7,fe):ne==="number"&&(fe%1!=0?X.writeDoubleField(3,fe):fe<0?X.writeSVarintField(6,fe):X.writeVarintField(5,fe))}P.exports=ae,P.exports.fromVectorTileJs=ae,P.exports.fromGeojsonVt=function(fe,X){X=X||{};var ne={};for(var se in fe)ne[se]=new ee(fe[se].features,X),ne[se].name=se,ne[se].version=X.version,ne[se].extent=X.extent;return ae({layers:ne})},P.exports.GeoJSONWrapper=ee;var De=a.getDefaultExportFromCjs(P.exports);const We={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:fe=>fe},dt=Math.fround||(ht=new Float32Array(1),fe=>(ht[0]=+fe,ht[0]));var ht;const Je=3,it=5,Ot=6;class ot{constructor(X){this.options=Object.assign(Object.create(We),X),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(X){const{log:ne,minZoom:se,maxZoom:he}=this.options;ne&&console.time("total time");const be=`prepare ${X.length} points`;ne&&console.time(be),this.points=X;const Me=[];for(let _e=0;_e<X.length;_e++){const $e=X[_e];if(!$e.geometry)continue;const[qe,He]=$e.geometry.coordinates,Xe=dt(Ge(qe)),Lt=dt(vt(He));Me.push(Xe,Lt,1/0,_e,-1,1),this.options.reduce&&Me.push(0)}let ke=this.trees[he+1]=this._createTree(Me);ne&&console.timeEnd(be);for(let _e=he;_e>=se;_e--){const $e=+Date.now();ke=this.trees[_e]=this._createTree(this._cluster(ke,_e)),ne&&console.log("z%d: %d clusters in %dms",_e,ke.numItems,+Date.now()-$e)}return ne&&console.timeEnd("total time"),this}getClusters(X,ne){let se=((X[0]+180)%360+360)%360-180;const he=Math.max(-90,Math.min(90,X[1]));let be=X[2]===180?180:((X[2]+180)%360+360)%360-180;const Me=Math.max(-90,Math.min(90,X[3]));if(X[2]-X[0]>=360)se=-180,be=180;else if(se>be){const He=this.getClusters([se,he,180,Me],ne),Xe=this.getClusters([-180,he,be,Me],ne);return He.concat(Xe)}const ke=this.trees[this._limitZoom(ne)],_e=ke.range(Ge(se),vt(Me),Ge(be),vt(he)),$e=ke.data,qe=[];for(const He of _e){const Xe=this.stride*He;qe.push($e[Xe+it]>1?Gt($e,Xe,this.clusterProps):this.points[$e[Xe+Je]])}return qe}getChildren(X){const ne=this._getOriginId(X),se=this._getOriginZoom(X),he="No cluster with the specified id.",be=this.trees[se];if(!be)throw new Error(he);const Me=be.data;if(ne*this.stride>=Me.length)throw new Error(he);const ke=this.options.radius/(this.options.extent*Math.pow(2,se-1)),_e=be.within(Me[ne*this.stride],Me[ne*this.stride+1],ke),$e=[];for(const qe of _e){const He=qe*this.stride;Me[He+4]===X&&$e.push(Me[He+it]>1?Gt(Me,He,this.clusterProps):this.points[Me[He+Je]])}if($e.length===0)throw new Error(he);return $e}getLeaves(X,ne,se){const he=[];return this._appendLeaves(he,X,ne=ne||10,se=se||0,0),he}getTile(X,ne,se){const he=this.trees[this._limitZoom(X)],be=Math.pow(2,X),{extent:Me,radius:ke}=this.options,_e=ke/Me,$e=(se-_e)/be,qe=(se+1+_e)/be,He={features:[]};return this._addTileFeatures(he.range((ne-_e)/be,$e,(ne+1+_e)/be,qe),he.data,ne,se,be,He),ne===0&&this._addTileFeatures(he.range(1-_e/be,$e,1,qe),he.data,be,se,be,He),ne===be-1&&this._addTileFeatures(he.range(0,$e,_e/be,qe),he.data,-1,se,be,He),He.features.length?He:null}getClusterExpansionZoom(X){let ne=this._getOriginZoom(X)-1;for(;ne<=this.options.maxZoom;){const se=this.getChildren(X);if(ne++,se.length!==1)break;X=se[0].properties.cluster_id}return ne}_appendLeaves(X,ne,se,he,be){const Me=this.getChildren(ne);for(const ke of Me){const _e=ke.properties;if(_e&&_e.cluster?be+_e.point_count<=he?be+=_e.point_count:be=this._appendLeaves(X,_e.cluster_id,se,he,be):be<he?be++:X.push(ke),X.length===se)break}return be}_createTree(X){const ne=new a.KDBush(X.length/this.stride|0,this.options.nodeSize,Float32Array);for(let se=0;se<X.length;se+=this.stride)ne.add(X[se],X[se+1]);return ne.finish(),ne.data=X,ne}_addTileFeatures(X,ne,se,he,be,Me){for(const ke of X){const _e=ke*this.stride,$e=ne[_e+it]>1;let qe,He,Xe;if($e)qe=Ht(ne,_e,this.clusterProps),He=ne[_e],Xe=ne[_e+1];else{const It=this.points[ne[_e+Je]];qe=It.properties;const[jt,ln]=It.geometry.coordinates;He=Ge(jt),Xe=vt(ln)}const Lt={type:1,geometry:[[Math.round(this.options.extent*(He*be-se)),Math.round(this.options.extent*(Xe*be-he))]],tags:qe};let Xt;Xt=$e||this.options.generateId?ne[_e+Je]:this.points[ne[_e+Je]].id,Xt!==void 0&&(Lt.id=Xt),Me.features.push(Lt)}}_limitZoom(X){return Math.max(this.options.minZoom,Math.min(Math.floor(+X),this.options.maxZoom+1))}_cluster(X,ne){const{radius:se,extent:he,reduce:be,minPoints:Me}=this.options,ke=se/(he*Math.pow(2,ne)),_e=X.data,$e=[],qe=this.stride;for(let He=0;He<_e.length;He+=qe){if(_e[He+2]<=ne)continue;_e[He+2]=ne;const Xe=_e[He],Lt=_e[He+1],Xt=X.within(_e[He],_e[He+1],ke),It=_e[He+it];let jt=It;for(const ln of Xt){const jn=ln*qe;_e[jn+2]>ne&&(jt+=_e[jn+it])}if(jt>It&&jt>=Me){let ln,jn=Xe*It,Yn=Lt*It,In=-1;const Tn=((He/qe|0)<<5)+(ne+1)+this.points.length;for(const Pi of Xt){const Ut=Pi*qe;if(_e[Ut+2]<=ne)continue;_e[Ut+2]=ne;const Bn=_e[Ut+it];jn+=_e[Ut]*Bn,Yn+=_e[Ut+1]*Bn,_e[Ut+4]=Tn,be&&(ln||(ln=this._map(_e,He,!0),In=this.clusterProps.length,this.clusterProps.push(ln)),be(ln,this._map(_e,Ut)))}_e[He+4]=Tn,$e.push(jn/jt,Yn/jt,1/0,Tn,-1,jt),be&&$e.push(In)}else{for(let ln=0;ln<qe;ln++)$e.push(_e[He+ln]);if(jt>1)for(const ln of Xt){const jn=ln*qe;if(!(_e[jn+2]<=ne)){_e[jn+2]=ne;for(let Yn=0;Yn<qe;Yn++)$e.push(_e[jn+Yn])}}}}return $e}_getOriginId(X){return X-this.points.length>>5}_getOriginZoom(X){return(X-this.points.length)%32}_map(X,ne,se){if(X[ne+it]>1){const Me=this.clusterProps[X[ne+Ot]];return se?Object.assign({},Me):Me}const he=this.points[X[ne+Je]].properties,be=this.options.map(he);return se&&be===he?Object.assign({},be):be}}function Gt(fe,X,ne){return{type:"Feature",id:fe[X+Je],properties:Ht(fe,X,ne),geometry:{type:"Point",coordinates:[(se=fe[X],360*(se-.5)),gt(fe[X+1])]}};var se}function Ht(fe,X,ne){const se=fe[X+it],he=se>=1e4?`${Math.round(se/1e3)}k`:se>=1e3?Math.round(se/100)/10+"k":se,be=fe[X+Ot],Me=be===-1?{}:Object.assign({},ne[be]);return Object.assign(Me,{cluster:!0,cluster_id:fe[X+Je],point_count:se,point_count_abbreviated:he})}function Ge(fe){return fe/360+.5}function vt(fe){const X=Math.sin(fe*Math.PI/180),ne=.5-.25*Math.log((1+X)/(1-X))/Math.PI;return ne<0?0:ne>1?1:ne}function gt(fe){const X=(180-360*fe)*Math.PI/180;return 360*Math.atan(Math.exp(X))/Math.PI-90}function Ve(fe,X,ne,se){for(var he,be=se,Me=ne-X>>1,ke=ne-X,_e=fe[X],$e=fe[X+1],qe=fe[ne],He=fe[ne+1],Xe=X+3;Xe<ne;Xe+=3){var Lt=Et(fe[Xe],fe[Xe+1],_e,$e,qe,He);if(Lt>be)he=Xe,be=Lt;else if(Lt===be){var Xt=Math.abs(Xe-Me);Xt<ke&&(he=Xe,ke=Xt)}}be>se&&(he-X>3&&Ve(fe,X,he,se),fe[he+2]=be,ne-he>3&&Ve(fe,he,ne,se))}function Et(fe,X,ne,se,he,be){var Me=he-ne,ke=be-se;if(Me!==0||ke!==0){var _e=((fe-ne)*Me+(X-se)*ke)/(Me*Me+ke*ke);_e>1?(ne=he,se=be):_e>0&&(ne+=Me*_e,se+=ke*_e)}return(Me=fe-ne)*Me+(ke=X-se)*ke}function Tt(fe,X,ne,se){var he={id:fe===void 0?null:fe,type:X,geometry:ne,tags:se,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(be){var Me=be.geometry,ke=be.type;if(ke==="Point"||ke==="MultiPoint"||ke==="LineString")qt(be,Me);else if(ke==="Polygon"||ke==="MultiLineString")for(var _e=0;_e<Me.length;_e++)qt(be,Me[_e]);else if(ke==="MultiPolygon")for(_e=0;_e<Me.length;_e++)for(var $e=0;$e<Me[_e].length;$e++)qt(be,Me[_e][$e])}(he),he}function qt(fe,X){for(var ne=0;ne<X.length;ne+=3)fe.minX=Math.min(fe.minX,X[ne]),fe.minY=Math.min(fe.minY,X[ne+1]),fe.maxX=Math.max(fe.maxX,X[ne]),fe.maxY=Math.max(fe.maxY,X[ne+1])}function vn(fe,X,ne,se){if(X.geometry){var he=X.geometry.coordinates,be=X.geometry.type,Me=Math.pow(ne.tolerance/((1<<ne.maxZoom)*ne.extent),2),ke=[],_e=X.id;if(ne.promoteId?_e=X.properties[ne.promoteId]:ne.generateId&&(_e=se||0),be==="Point")Mn(he,ke);else if(be==="MultiPoint")for(var $e=0;$e<he.length;$e++)Mn(he[$e],ke);else if(be==="LineString")xn(he,ke,Me,!1);else if(be==="MultiLineString"){if(ne.lineMetrics){for($e=0;$e<he.length;$e++)xn(he[$e],ke=[],Me,!1),fe.push(Tt(_e,"LineString",ke,X.properties));return}rr(he,ke,Me,!1)}else if(be==="Polygon")rr(he,ke,Me,!0);else{if(be!=="MultiPolygon"){if(be==="GeometryCollection"){for($e=0;$e<X.geometry.geometries.length;$e++)vn(fe,{id:_e,geometry:X.geometry.geometries[$e],properties:X.properties},ne,se);return}throw new Error("Input data is not a valid GeoJSON object.")}for($e=0;$e<he.length;$e++){var qe=[];rr(he[$e],qe,Me,!0),ke.push(qe)}}fe.push(Tt(_e,be,ke,X.properties))}}function Mn(fe,X){X.push(Cn(fe[0])),X.push(Ne(fe[1])),X.push(0)}function xn(fe,X,ne,se){for(var he,be,Me=0,ke=0;ke<fe.length;ke++){var _e=Cn(fe[ke][0]),$e=Ne(fe[ke][1]);X.push(_e),X.push($e),X.push(0),ke>0&&(Me+=se?(he*$e-_e*be)/2:Math.sqrt(Math.pow(_e-he,2)+Math.pow($e-be,2))),he=_e,be=$e}var qe=X.length-3;X[2]=1,Ve(X,0,qe,ne),X[qe+2]=1,X.size=Math.abs(Me),X.start=0,X.end=X.size}function rr(fe,X,ne,se){for(var he=0;he<fe.length;he++){var be=[];xn(fe[he],be,ne,se),X.push(be)}}function Cn(fe){return fe/360+.5}function Ne(fe){var X=Math.sin(fe*Math.PI/180),ne=.5-.25*Math.log((1+X)/(1-X))/Math.PI;return ne<0?0:ne>1?1:ne}function $n(fe,X,ne,se,he,be,Me,ke){if(se/=X,be>=(ne/=X)&&Me<se)return fe;if(Me<ne||be>=se)return null;for(var _e=[],$e=0;$e<fe.length;$e++){var qe=fe[$e],He=qe.geometry,Xe=qe.type,Lt=he===0?qe.minX:qe.minY,Xt=he===0?qe.maxX:qe.maxY;if(Lt>=ne&&Xt<se)_e.push(qe);else if(!(Xt<ne||Lt>=se)){var It=[];if(Xe==="Point"||Xe==="MultiPoint")Hn(He,It,ne,se,he);else if(Xe==="LineString")Dt(He,It,ne,se,he,!1,ke.lineMetrics);else if(Xe==="MultiLineString")ir(He,It,ne,se,he,!1);else if(Xe==="Polygon")ir(He,It,ne,se,he,!0);else if(Xe==="MultiPolygon")for(var jt=0;jt<He.length;jt++){var ln=[];ir(He[jt],ln,ne,se,he,!0),ln.length&&It.push(ln)}if(It.length){if(ke.lineMetrics&&Xe==="LineString"){for(jt=0;jt<It.length;jt++)_e.push(Tt(qe.id,Xe,It[jt],qe.tags));continue}Xe!=="LineString"&&Xe!=="MultiLineString"||(It.length===1?(Xe="LineString",It=It[0]):Xe="MultiLineString"),Xe!=="Point"&&Xe!=="MultiPoint"||(Xe=It.length===3?"Point":"MultiPoint"),_e.push(Tt(qe.id,Xe,It,qe.tags))}}}return _e.length?_e:null}function Hn(fe,X,ne,se,he){for(var be=0;be<fe.length;be+=3){var Me=fe[be+he];Me>=ne&&Me<=se&&(X.push(fe[be]),X.push(fe[be+1]),X.push(fe[be+2]))}}function Dt(fe,X,ne,se,he,be,Me){for(var ke,_e,$e=Kt(fe),qe=he===0?Ln:rn,He=fe.start,Xe=0;Xe<fe.length-3;Xe+=3){var Lt=fe[Xe],Xt=fe[Xe+1],It=fe[Xe+2],jt=fe[Xe+3],ln=fe[Xe+4],jn=he===0?Lt:Xt,Yn=he===0?jt:ln,In=!1;Me&&(ke=Math.sqrt(Math.pow(Lt-jt,2)+Math.pow(Xt-ln,2))),jn<ne?Yn>ne&&(_e=qe($e,Lt,Xt,jt,ln,ne),Me&&($e.start=He+ke*_e)):jn>se?Yn<se&&(_e=qe($e,Lt,Xt,jt,ln,se),Me&&($e.start=He+ke*_e)):vr($e,Lt,Xt,It),Yn<ne&&jn>=ne&&(_e=qe($e,Lt,Xt,jt,ln,ne),In=!0),Yn>se&&jn<=se&&(_e=qe($e,Lt,Xt,jt,ln,se),In=!0),!be&&In&&(Me&&($e.end=He+ke*_e),X.push($e),$e=Kt(fe)),Me&&(He+=ke)}var Tn=fe.length-3;Lt=fe[Tn],Xt=fe[Tn+1],It=fe[Tn+2],(jn=he===0?Lt:Xt)>=ne&&jn<=se&&vr($e,Lt,Xt,It),Tn=$e.length-3,be&&Tn>=3&&($e[Tn]!==$e[0]||$e[Tn+1]!==$e[1])&&vr($e,$e[0],$e[1],$e[2]),$e.length&&X.push($e)}function Kt(fe){var X=[];return X.size=fe.size,X.start=fe.start,X.end=fe.end,X}function ir(fe,X,ne,se,he,be){for(var Me=0;Me<fe.length;Me++)Dt(fe[Me],X,ne,se,he,be,!1)}function vr(fe,X,ne,se){fe.push(X),fe.push(ne),fe.push(se)}function Ln(fe,X,ne,se,he,be){var Me=(be-X)/(se-X);return fe.push(be),fe.push(ne+(he-ne)*Me),fe.push(1),Me}function rn(fe,X,ne,se,he,be){var Me=(be-ne)/(he-ne);return fe.push(X+(se-X)*Me),fe.push(be),fe.push(1),Me}function Zn(fe,X){for(var ne=[],se=0;se<fe.length;se++){var he,be=fe[se],Me=be.type;if(Me==="Point"||Me==="MultiPoint"||Me==="LineString")he=Ii(be.geometry,X);else if(Me==="MultiLineString"||Me==="Polygon"){he=[];for(var ke=0;ke<be.geometry.length;ke++)he.push(Ii(be.geometry[ke],X))}else if(Me==="MultiPolygon")for(he=[],ke=0;ke<be.geometry.length;ke++){for(var _e=[],$e=0;$e<be.geometry[ke].length;$e++)_e.push(Ii(be.geometry[ke][$e],X));he.push(_e)}ne.push(Tt(be.id,Me,he,be.tags))}return ne}function Ii(fe,X){var ne=[];ne.size=fe.size,fe.start!==void 0&&(ne.start=fe.start,ne.end=fe.end);for(var se=0;se<fe.length;se+=3)ne.push(fe[se]+X,fe[se+1],fe[se+2]);return ne}function mi(fe,X){if(fe.transformed)return fe;var ne,se,he,be=1<<fe.z,Me=fe.x,ke=fe.y;for(ne=0;ne<fe.features.length;ne++){var _e=fe.features[ne],$e=_e.geometry,qe=_e.type;if(_e.geometry=[],qe===1)for(se=0;se<$e.length;se+=2)_e.geometry.push(Ue($e[se],$e[se+1],X,be,Me,ke));else for(se=0;se<$e.length;se++){var He=[];for(he=0;he<$e[se].length;he+=2)He.push(Ue($e[se][he],$e[se][he+1],X,be,Me,ke));_e.geometry.push(He)}}return fe.transformed=!0,fe}function Ue(fe,X,ne,se,he,be){return[Math.round(ne*(fe*se-he)),Math.round(ne*(X*se-be))]}function un(fe,X,ne,se,he){for(var be=X===he.maxZoom?0:he.tolerance/((1<<X)*he.extent),Me={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:ne,y:se,z:X,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ke=0;ke<fe.length;ke++){Me.numFeatures++,Rn(Me,fe[ke],be,he);var _e=fe[ke].minX,$e=fe[ke].minY,qe=fe[ke].maxX,He=fe[ke].maxY;_e<Me.minX&&(Me.minX=_e),$e<Me.minY&&(Me.minY=$e),qe>Me.maxX&&(Me.maxX=qe),He>Me.maxY&&(Me.maxY=He)}return Me}function Rn(fe,X,ne,se){var he=X.geometry,be=X.type,Me=[];if(be==="Point"||be==="MultiPoint")for(var ke=0;ke<he.length;ke+=3)Me.push(he[ke]),Me.push(he[ke+1]),fe.numPoints++,fe.numSimplified++;else if(be==="LineString")ki(Me,he,fe,ne,!1,!1);else if(be==="MultiLineString"||be==="Polygon")for(ke=0;ke<he.length;ke++)ki(Me,he[ke],fe,ne,be==="Polygon",ke===0);else if(be==="MultiPolygon")for(var _e=0;_e<he.length;_e++){var $e=he[_e];for(ke=0;ke<$e.length;ke++)ki(Me,$e[ke],fe,ne,!0,ke===0)}if(Me.length){var qe=X.tags||null;if(be==="LineString"&&se.lineMetrics){for(var He in qe={},X.tags)qe[He]=X.tags[He];qe.mapbox_clip_start=he.start/he.size,qe.mapbox_clip_end=he.end/he.size}var Xe={geometry:Me,type:be==="Polygon"||be==="MultiPolygon"?3:be==="LineString"||be==="MultiLineString"?2:1,tags:qe};X.id!==null&&(Xe.id=X.id),fe.features.push(Xe)}}function ki(fe,X,ne,se,he,be){var Me=se*se;if(se>0&&X.size<(he?Me:se))ne.numPoints+=X.length/3;else{for(var ke=[],_e=0;_e<X.length;_e+=3)(se===0||X[_e+2]>Me)&&(ne.numSimplified++,ke.push(X[_e]),ke.push(X[_e+1])),ne.numPoints++;he&&function($e,qe){for(var He=0,Xe=0,Lt=$e.length,Xt=Lt-2;Xe<Lt;Xt=Xe,Xe+=2)He+=($e[Xe]-$e[Xt])*($e[Xe+1]+$e[Xt+1]);if(He>0===qe)for(Xe=0,Lt=$e.length;Xe<Lt/2;Xe+=2){var It=$e[Xe],jt=$e[Xe+1];$e[Xe]=$e[Lt-2-Xe],$e[Xe+1]=$e[Lt-1-Xe],$e[Lt-2-Xe]=It,$e[Lt-1-Xe]=jt}}(ke,be),fe.push(ke)}}function qi(fe,X){var ne=(X=this.options=function(he,be){for(var Me in be)he[Me]=be[Me];return he}(Object.create(this.options),X)).debug;if(ne&&console.time("preprocess data"),X.maxZoom<0||X.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(X.promoteId&&X.generateId)throw new Error("promoteId and generateId cannot be used together.");var se=function(he,be){var Me=[];if(he.type==="FeatureCollection")for(var ke=0;ke<he.features.length;ke++)vn(Me,he.features[ke],be,ke);else vn(Me,he.type==="Feature"?he:{geometry:he},be);return Me}(fe,X);this.tiles={},this.tileCoords=[],ne&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",X.indexMaxZoom,X.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),se=function(he,be){var Me=be.buffer/be.extent,ke=he,_e=$n(he,1,-1-Me,Me,0,-1,2,be),$e=$n(he,1,1-Me,2+Me,0,-1,2,be);return(_e||$e)&&(ke=$n(he,1,-Me,1+Me,0,-1,2,be)||[],_e&&(ke=Zn(_e,1).concat(ke)),$e&&(ke=ke.concat(Zn($e,-1)))),ke}(se,X),se.length&&this.splitTile(se,0,0,0),ne&&(se.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function lt(fe,X,ne){return 32*((1<<fe)*ne+X)+fe}function dn(fe,X){return X?fe.properties[X]:fe.id}function fn(fe,X){if(fe==null)return!0;if(fe.type==="Feature")return dn(fe,X)!=null;if(fe.type==="FeatureCollection"){const ne=new Set;for(const se of fe.features){const he=dn(se,X);if(he==null||ne.has(he))return!1;ne.add(he)}return!0}return!1}function $i(fe,X){const ne=new Map;if(fe!=null)if(fe.type==="Feature")ne.set(dn(fe,X),fe);else for(const se of fe.features)ne.set(dn(se,X),se);return ne}function Vo(fe,X){const ne=fe.tileID.canonical;if(!this._geoJSONIndex)return X(null,null);const se=this._geoJSONIndex.getTile(ne.z,ne.x,ne.y);if(!se)return X(null,null);const he=new class{constructor(Me){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=Me.length,this._features=Me}feature(Me){return new class{constructor(ke){this._feature=ke,this.extent=a.EXTENT,this.type=ke.type,this.properties=ke.tags,"id"in ke&&!isNaN(ke.id)&&(this.id=parseInt(ke.id,10))}loadGeometry(){if(this._feature.type===1){const ke=[];for(const _e of this._feature.geometry)ke.push([new a.Point(_e[0],_e[1])]);return ke}{const ke=[];for(const _e of this._feature.geometry){const $e=[];for(const qe of _e)$e.push(new a.Point(qe[0],qe[1]));ke.push($e)}return ke}}toGeoJSON(ke,_e,$e){return A.call(this,ke,_e,$e)}}(this._features[Me])}}(se.features);let be=De(he);be.byteOffset===0&&be.byteLength===be.buffer.byteLength||(be=new Uint8Array(be)),X(null,{vectorTile:he,rawData:be.buffer})}qi.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},qi.prototype.splitTile=function(fe,X,ne,se,he,be,Me){for(var ke=[fe,X,ne,se],_e=this.options,$e=_e.debug;ke.length;){se=ke.pop(),ne=ke.pop(),X=ke.pop(),fe=ke.pop();var qe=1<<X,He=lt(X,ne,se),Xe=this.tiles[He];if(!Xe&&($e>1&&console.time("creation"),Xe=this.tiles[He]=un(fe,X,ne,se,_e),this.tileCoords.push({z:X,x:ne,y:se}),$e)){$e>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",X,ne,se,Xe.numFeatures,Xe.numPoints,Xe.numSimplified),console.timeEnd("creation"));var Lt="z"+X;this.stats[Lt]=(this.stats[Lt]||0)+1,this.total++}if(Xe.source=fe,he){if(X===_e.maxZoom||X===he)continue;var Xt=1<<he-X;if(ne!==Math.floor(be/Xt)||se!==Math.floor(Me/Xt))continue}else if(X===_e.indexMaxZoom||Xe.numPoints<=_e.indexMaxPoints)continue;if(Xe.source=null,fe.length!==0){$e>1&&console.time("clipping");var It,jt,ln,jn,Yn,In,Tn=.5*_e.buffer/_e.extent,Pi=.5-Tn,Ut=.5+Tn,Bn=1+Tn;It=jt=ln=jn=null,Yn=$n(fe,qe,ne-Tn,ne+Ut,0,Xe.minX,Xe.maxX,_e),In=$n(fe,qe,ne+Pi,ne+Bn,0,Xe.minX,Xe.maxX,_e),fe=null,Yn&&(It=$n(Yn,qe,se-Tn,se+Ut,1,Xe.minY,Xe.maxY,_e),jt=$n(Yn,qe,se+Pi,se+Bn,1,Xe.minY,Xe.maxY,_e),Yn=null),In&&(ln=$n(In,qe,se-Tn,se+Ut,1,Xe.minY,Xe.maxY,_e),jn=$n(In,qe,se+Pi,se+Bn,1,Xe.minY,Xe.maxY,_e),In=null),$e>1&&console.timeEnd("clipping"),ke.push(It||[],X+1,2*ne,2*se),ke.push(jt||[],X+1,2*ne,2*se+1),ke.push(ln||[],X+1,2*ne+1,2*se),ke.push(jn||[],X+1,2*ne+1,2*se+1)}}},qi.prototype.getTile=function(fe,X,ne){var se=this.options,he=se.extent,be=se.debug;if(fe<0||fe>24)return null;var Me=1<<fe,ke=lt(fe,X=(X%Me+Me)%Me,ne);if(this.tiles[ke])return mi(this.tiles[ke],he);be>1&&console.log("drilling down to z%d-%d-%d",fe,X,ne);for(var _e,$e=fe,qe=X,He=ne;!_e&&$e>0;)$e--,qe=Math.floor(qe/2),He=Math.floor(He/2),_e=this.tiles[lt($e,qe,He)];return _e&&_e.source?(be>1&&console.log("found parent tile z%d-%d-%d",$e,qe,He),be>1&&console.time("drilling down"),this.splitTile(_e.source,$e,qe,He,fe,X,ne),be>1&&console.timeEnd("drilling down"),this.tiles[ke]?mi(this.tiles[ke],he):null):null};class sn extends k{constructor(X,ne,se,he){super(X,ne,se,Vo),this._dataUpdateable=new Map,this.loadGeoJSON=(be,Me)=>{const{promoteId:ke}=be;if(be.request)return a.getJSON(be.request,(_e,$e,qe,He)=>{this._dataUpdateable=fn($e,ke)?$i($e,ke):void 0,Me(_e,$e,qe,He)});if(typeof be.data=="string")try{const _e=JSON.parse(be.data);this._dataUpdateable=fn(_e,ke)?$i(_e,ke):void 0,Me(null,_e)}catch{Me(new Error(`Input data given to '${be.source}' is not a valid GeoJSON object.`))}else be.dataDiff?this._dataUpdateable?(function(_e,$e,qe){var He,Xe,Lt,Xt;if($e.removeAll&&_e.clear(),$e.remove)for(const It of $e.remove)_e.delete(It);if($e.add)for(const It of $e.add){const jt=dn(It,qe);jt!=null&&_e.set(jt,It)}if($e.update)for(const It of $e.update){let jt=_e.get(It.id);if(jt==null)continue;const ln=!It.removeAllProperties&&(((He=It.removeProperties)===null||He===void 0?void 0:He.length)>0||((Xe=It.addOrUpdateProperties)===null||Xe===void 0?void 0:Xe.length)>0);if((It.newGeometry||It.removeAllProperties||ln)&&(jt=Object.assign({},jt),_e.set(It.id,jt),ln&&(jt.properties=Object.assign({},jt.properties))),It.newGeometry&&(jt.geometry=It.newGeometry),It.removeAllProperties)jt.properties={};else if(((Lt=It.removeProperties)===null||Lt===void 0?void 0:Lt.length)>0)for(const jn of It.removeProperties)Object.prototype.hasOwnProperty.call(jt.properties,jn)&&delete jt.properties[jn];if(((Xt=It.addOrUpdateProperties)===null||Xt===void 0?void 0:Xt.length)>0)for(const{key:jn,value:Yn}of It.addOrUpdateProperties)jt.properties[jn]=Yn}}(this._dataUpdateable,be.dataDiff,ke),Me(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):Me(new Error(`Cannot update existing geojson data in ${be.source}`)):Me(new Error(`Input data given to '${be.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},he&&(this.loadGeoJSON=he)}loadData(X,ne){var se;(se=this._pendingRequest)===null||se===void 0||se.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const he=!!(X&&X.request&&X.request.collectResourceTiming)&&new a.RequestPerformance(X.request);this._pendingCallback=ne,this._pendingRequest=this.loadGeoJSON(X,(be,Me)=>{if(delete this._pendingCallback,delete this._pendingRequest,be||!Me)return ne(be);if(typeof Me!="object")return ne(new Error(`Input data given to '${X.source}' is not a valid GeoJSON object.`));{I(Me,!0);try{if(X.filter){const _e=a.createExpression(X.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(_e.result==="error")throw new Error(_e.value.map(qe=>`${qe.key}: ${qe.message}`).join(", "));Me={type:"FeatureCollection",features:Me.features.filter(qe=>_e.value.evaluate({zoom:0},qe))}}this._geoJSONIndex=X.cluster?new ot(function({superclusterOptions:_e,clusterProperties:$e}){if(!$e||!_e)return _e;const qe={},He={},Xe={accumulated:null,zoom:0},Lt={properties:null},Xt=Object.keys($e);for(const It of Xt){const[jt,ln]=$e[It],jn=a.createExpression(ln),Yn=a.createExpression(typeof jt=="string"?[jt,["accumulated"],["get",It]]:jt);qe[It]=jn.value,He[It]=Yn.value}return _e.map=It=>{Lt.properties=It;const jt={};for(const ln of Xt)jt[ln]=qe[ln].evaluate(Xe,Lt);return jt},_e.reduce=(It,jt)=>{Lt.properties=jt;for(const ln of Xt)Xe.accumulated=It[ln],It[ln]=He[ln].evaluate(Xe,Lt)},_e}(X)).load(Me.features):function(_e,$e){return new qi(_e,$e)}(Me,X.geojsonVtOptions)}catch(_e){return ne(_e)}this.loaded={};const ke={};if(he){const _e=he.finish();_e&&(ke.resourceTiming={},ke.resourceTiming[X.source]=JSON.parse(JSON.stringify(_e)))}ne(null,ke)}})}reloadTile(X,ne){const se=this.loaded;return se&&se[X.uid]?super.reloadTile(X,ne):this.loadTile(X,ne)}removeSource(X,ne){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),ne()}getClusterExpansionZoom(X,ne){try{ne(null,this._geoJSONIndex.getClusterExpansionZoom(X.clusterId))}catch(se){ne(se)}}getClusterChildren(X,ne){try{ne(null,this._geoJSONIndex.getChildren(X.clusterId))}catch(se){ne(se)}}getClusterLeaves(X,ne){try{ne(null,this._geoJSONIndex.getLeaves(X.clusterId,X.limit,X.offset))}catch(se){ne(se)}}}class os{constructor(X){this.self=X,this.actor=new a.Actor(X,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:k,geojson:sn},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(ne,se)=>{if(this.workerSourceTypes[ne])throw new Error(`Worker source with name "${ne}" already registered.`);this.workerSourceTypes[ne]=se},this.self.registerRTLTextPlugin=ne=>{if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=ne.applyArabicShaping,a.plugin.processBidirectionalText=ne.processBidirectionalText,a.plugin.processStyledBidirectionalText=ne.processStyledBidirectionalText}}setReferrer(X,ne){this.referrer=ne}setImages(X,ne,se){this.availableImages[X]=ne;for(const he in this.workerSources[X]){const be=this.workerSources[X][he];for(const Me in be)be[Me].availableImages=ne}se()}setLayers(X,ne,se){this.getLayerIndex(X).replace(ne),se()}updateLayers(X,ne,se){this.getLayerIndex(X).update(ne.layers,ne.removedIds),se()}loadTile(X,ne,se){this.getWorkerSource(X,ne.type,ne.source).loadTile(ne,se)}loadDEMTile(X,ne,se){this.getDEMWorkerSource(X,ne.source).loadTile(ne,se)}reloadTile(X,ne,se){this.getWorkerSource(X,ne.type,ne.source).reloadTile(ne,se)}abortTile(X,ne,se){this.getWorkerSource(X,ne.type,ne.source).abortTile(ne,se)}removeTile(X,ne,se){this.getWorkerSource(X,ne.type,ne.source).removeTile(ne,se)}removeDEMTile(X,ne){this.getDEMWorkerSource(X,ne.source).removeTile(ne)}removeSource(X,ne,se){if(!this.workerSources[X]||!this.workerSources[X][ne.type]||!this.workerSources[X][ne.type][ne.source])return;const he=this.workerSources[X][ne.type][ne.source];delete this.workerSources[X][ne.type][ne.source],he.removeSource!==void 0?he.removeSource(ne,se):se()}loadWorkerSource(X,ne,se){try{this.self.importScripts(ne.url),se()}catch(he){se(he.toString())}}syncRTLPluginState(X,ne,se){try{a.plugin.setState(ne);const he=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&he!=null){this.self.importScripts(he);const be=a.plugin.isParsed();se(be?void 0:new Error(`RTL Text Plugin failed to import scripts from ${he}`),be)}}catch(he){se(he.toString())}}getAvailableImages(X){let ne=this.availableImages[X];return ne||(ne=[]),ne}getLayerIndex(X){let ne=this.layerIndexes[X];return ne||(ne=this.layerIndexes[X]=new f),ne}getWorkerSource(X,ne,se){if(this.workerSources[X]||(this.workerSources[X]={}),this.workerSources[X][ne]||(this.workerSources[X][ne]={}),!this.workerSources[X][ne][se]){const he={send:(be,Me,ke)=>{this.actor.send(be,Me,ke,X)}};this.workerSources[X][ne][se]=new this.workerSourceTypes[ne](he,this.getLayerIndex(X),this.getAvailableImages(X))}return this.workerSources[X][ne][se]}getDEMWorkerSource(X,ne){return this.demWorkerSources[X]||(this.demWorkerSources[X]={}),this.demWorkerSources[X][ne]||(this.demWorkerSources[X][ne]=new O),this.demWorkerSources[X][ne]}}return a.isWorker()&&(self.worker=new os(self)),os}),o(["./shared"],function(a){var f="3.5.1";class h{static testProp(c){if(!h.docStyle)return c[0];for(let p=0;p<c.length;p++)if(c[p]in h.docStyle)return c[p];return c[0]}static create(c,p,y){const _=window.document.createElement(c);return p!==void 0&&(_.className=p),y&&y.appendChild(_),_}static createNS(c,p){return window.document.createElementNS(c,p)}static disableDrag(){h.docStyle&&h.selectProp&&(h.userSelect=h.docStyle[h.selectProp],h.docStyle[h.selectProp]="none")}static enableDrag(){h.docStyle&&h.selectProp&&(h.docStyle[h.selectProp]=h.userSelect)}static setTransform(c,p){c.style[h.transformProp]=p}static addEventListener(c,p,y,_={}){c.addEventListener(p,y,"passive"in _?_:_.capture)}static removeEventListener(c,p,y,_={}){c.removeEventListener(p,y,"passive"in _?_:_.capture)}static suppressClickInternal(c){c.preventDefault(),c.stopPropagation(),window.removeEventListener("click",h.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",h.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",h.suppressClickInternal,!0)},0)}static mousePos(c,p){const y=c.getBoundingClientRect();return new a.Point(p.clientX-y.left-c.clientLeft,p.clientY-y.top-c.clientTop)}static touchPos(c,p){const y=c.getBoundingClientRect(),_=[];for(let E=0;E<p.length;E++)_.push(new a.Point(p[E].clientX-y.left-c.clientLeft,p[E].clientY-y.top-c.clientTop));return _}static mouseButton(c){return c.button}static remove(c){c.parentNode&&c.parentNode.removeChild(c)}}h.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,h.selectProp=h.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),h.transformProp=h.testProp(["transform","WebkitTransform"]);const g={supported:!1,testSupport:function(w){!k&&x&&(O?C(w):v=w)}};let v,x,k=!1,O=!1;function C(w){const c=w.createTexture();w.bindTexture(w.TEXTURE_2D,c);try{if(w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,w.UNSIGNED_BYTE,x),w.isContextLost())return;g.supported=!0}catch{}w.deleteTexture(c),k=!0}var M,I;typeof document<"u"&&(x=document.createElement("img"),x.onload=function(){v&&C(v),v=null,O=!0},x.onerror=function(){k=!0,v=null},x.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(w){let c,p,y,_;w.resetRequestQueue=()=>{c=[],p=0,y=0,_={}},w.addThrottleControl=q=>{const Y=y++;return _[Y]=q,Y},w.removeThrottleControl=q=>{delete _[q],L()},w.getImage=(q,Y,K=!0)=>{g.supported&&(q.headers||(q.headers={}),q.headers.accept="image/webp,*/*");const re={requestParameters:q,supportImageRefresh:K,callback:Y,cancelled:!1,completed:!1,cancel:()=>{re.completed||re.cancelled||(re.cancelled=!0,re.innerRequest&&(re.innerRequest.cancel(),p--),L())}};return c.push(re),L(),re};const E=q=>{const{requestParameters:Y,supportImageRefresh:K,callback:re}=q;return a.extend(Y,{type:"image"}),(K!==!1||a.isWorker()||a.getProtocolAction(Y.url)||Y.headers&&!Object.keys(Y.headers).reduce((de,ce)=>de&&ce==="accept",!0)?a.makeRequest:U)(Y,(de,ce,me,le)=>{D(q,re,de,ce,me,le)})},D=(q,Y,K,re,de,ce)=>{K?Y(K):re instanceof HTMLImageElement||a.isImageBitmap(re)?Y(null,re):re&&((me,le)=>{typeof createImageBitmap=="function"?a.arrayBufferToImageBitmap(me,le):a.arrayBufferToImage(me,le)})(re,(me,le)=>{me!=null?Y(me):le!=null&&Y(null,le,{cacheControl:de,expires:ce})}),q.cancelled||(q.completed=!0,p--,L())},L=()=>{const q=(()=>{const Y=Object.keys(_);let K=!1;if(Y.length>0){for(const re of Y)if(K=_[re](),K)break}return K})()?a.config.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:a.config.MAX_PARALLEL_IMAGE_REQUESTS;for(let Y=p;Y<q&&c.length>0;Y++){const K=c.shift();if(K.cancelled){Y--;continue}const re=E(K);p++,K.innerRequest=re}},U=(q,Y)=>{const K=new Image,re=q.url;let de=!1;const ce=q.credentials;return ce&&ce==="include"?K.crossOrigin="use-credentials":(ce&&ce==="same-origin"||!a.sameOrigin(re))&&(K.crossOrigin="anonymous"),K.fetchPriority="high",K.onload=()=>{Y(null,K),K.onerror=K.onload=null},K.onerror=()=>{de||Y(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),K.onerror=K.onload=null},K.src=re,{cancel:()=>{de=!0,K.src=""}}}}(M||(M={})),M.resetRequestQueue(),function(w){w.Glyphs="Glyphs",w.Image="Image",w.Source="Source",w.SpriteImage="SpriteImage",w.SpriteJSON="SpriteJSON",w.Style="Style",w.Tile="Tile",w.Unknown="Unknown"}(I||(I={}));class A{constructor(c){this._transformRequestFn=c}transformRequest(c,p){return this._transformRequestFn&&this._transformRequestFn(c,p)||{url:c}}normalizeSpriteURL(c,p,y){const _=function(E){const D=E.match(P);if(!D)throw new Error(`Unable to parse URL "${E}"`);return{protocol:D[1],authority:D[2],path:D[3]||"/",params:D[4]?D[4].split("&"):[]}}(c);return _.path+=`${p}${y}`,function(E){const D=E.params.length?`?${E.params.join("&")}`:"";return`${E.protocol}://${E.authority}${E.path}${D}`}(_)}setTransformRequest(c){this._transformRequestFn=c}}const P=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function $(w){var c=new a.ARRAY_TYPE(3);return c[0]=w[0],c[1]=w[1],c[2]=w[2],c}var z,N=function(w,c,p){return w[0]=c[0]-p[0],w[1]=c[1]-p[1],w[2]=c[2]-p[2],w};z=new a.ARRAY_TYPE(3),a.ARRAY_TYPE!=Float32Array&&(z[0]=0,z[1]=0,z[2]=0);var F=function(w){var c=w[0],p=w[1];return c*c+p*p};function G(w){const c=[];if(typeof w=="string")c.push({id:"default",url:w});else if(w&&w.length>0){const p=[];for(const{id:y,url:_}of w){const E=`${y}${_}`;p.indexOf(E)===-1&&(p.push(E),c.push({id:y,url:_}))}}return c}function J(w,c,p,y,_){if(y)return void w(y);if(_!==Object.values(c).length||_!==Object.values(p).length)return;const E={};for(const D in c){E[D]={};const L=a.browser.getImageCanvasContext(p[D]),U=c[D];for(const q in U){const{width:Y,height:K,x:re,y:de,sdf:ce,pixelRatio:me,stretchX:le,stretchY:Ae,content:ze}=U[q];E[D][q]={data:null,pixelRatio:me,sdf:ce,stretchX:le,stretchY:Ae,content:ze,spriteData:{width:Y,height:K,x:re,y:de,context:L}}}}w(null,E)}(function(){var w=new a.ARRAY_TYPE(2);a.ARRAY_TYPE!=Float32Array&&(w[0]=0,w[1]=0)})();class ee{constructor(c,p,y,_){this.context=c,this.format=y,this.texture=c.gl.createTexture(),this.update(p,_)}update(c,p,y){const{width:_,height:E}=c,D=!(this.size&&this.size[0]===_&&this.size[1]===E||y),{context:L}=this,{gl:U}=L;if(this.useMipmap=!!(p&&p.useMipmap),U.bindTexture(U.TEXTURE_2D,this.texture),L.pixelStoreUnpackFlipY.set(!1),L.pixelStoreUnpack.set(1),L.pixelStoreUnpackPremultiplyAlpha.set(this.format===U.RGBA&&(!p||p.premultiply!==!1)),D)this.size=[_,E],c instanceof HTMLImageElement||c instanceof HTMLCanvasElement||c instanceof HTMLVideoElement||c instanceof ImageData||a.isImageBitmap(c)?U.texImage2D(U.TEXTURE_2D,0,this.format,this.format,U.UNSIGNED_BYTE,c):U.texImage2D(U.TEXTURE_2D,0,this.format,_,E,0,this.format,U.UNSIGNED_BYTE,c.data);else{const{x:q,y:Y}=y||{x:0,y:0};c instanceof HTMLImageElement||c instanceof HTMLCanvasElement||c instanceof HTMLVideoElement||c instanceof ImageData||a.isImageBitmap(c)?U.texSubImage2D(U.TEXTURE_2D,0,q,Y,U.RGBA,U.UNSIGNED_BYTE,c):U.texSubImage2D(U.TEXTURE_2D,0,q,Y,_,E,U.RGBA,U.UNSIGNED_BYTE,c.data)}this.useMipmap&&this.isSizePowerOfTwo()&&U.generateMipmap(U.TEXTURE_2D)}bind(c,p,y){const{context:_}=this,{gl:E}=_;E.bindTexture(E.TEXTURE_2D,this.texture),y!==E.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(y=E.LINEAR),c!==this.filter&&(E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,c),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,y||c),this.filter=c),p!==this.wrap&&(E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,p),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,p),this.wrap=p)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:c}=this.context;c.deleteTexture(this.texture),this.texture=null}}function ae(w){const{userImage:c}=w;return!!(c&&c.render&&c.render())&&(w.data.replace(new Uint8Array(c.data.buffer)),!0)}class pe extends a.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(c){if(this.loaded!==c&&(this.loaded=c,c)){for(const{ids:p,callback:y}of this.requestors)this._notify(p,y);this.requestors=[]}}getImage(c){const p=this.images[c];if(p&&!p.data&&p.spriteData){const y=p.spriteData;p.data=new a.RGBAImage({width:y.width,height:y.height},y.context.getImageData(y.x,y.y,y.width,y.height).data),p.spriteData=null}return p}addImage(c,p){if(this.images[c])throw new Error(`Image id ${c} already exist, use updateImage instead`);this._validate(c,p)&&(this.images[c]=p)}_validate(c,p){let y=!0;const _=p.data||p.spriteData;return this._validateStretch(p.stretchX,_&&_.width)||(this.fire(new a.ErrorEvent(new Error(`Image "${c}" has invalid "stretchX" value`))),y=!1),this._validateStretch(p.stretchY,_&&_.height)||(this.fire(new a.ErrorEvent(new Error(`Image "${c}" has invalid "stretchY" value`))),y=!1),this._validateContent(p.content,p)||(this.fire(new a.ErrorEvent(new Error(`Image "${c}" has invalid "content" value`))),y=!1),y}_validateStretch(c,p){if(!c)return!0;let y=0;for(const _ of c){if(_[0]<y||_[1]<_[0]||p<_[1])return!1;y=_[1]}return!0}_validateContent(c,p){if(!c)return!0;if(c.length!==4)return!1;const y=p.spriteData,_=y&&y.width||p.data.width,E=y&&y.height||p.data.height;return!(c[0]<0||_<c[0]||c[1]<0||E<c[1]||c[2]<0||_<c[2]||c[3]<0||E<c[3]||c[2]<c[0]||c[3]<c[1])}updateImage(c,p,y=!0){const _=this.getImage(c);if(y&&(_.data.width!==p.data.width||_.data.height!==p.data.height))throw new Error(`size mismatch between old image (${_.data.width}x${_.data.height}) and new image (${p.data.width}x${p.data.height}).`);p.version=_.version+1,this.images[c]=p,this.updatedImages[c]=!0}removeImage(c){const p=this.images[c];delete this.images[c],delete this.patterns[c],p.userImage&&p.userImage.onRemove&&p.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(c,p){let y=!0;if(!this.isLoaded())for(const _ of c)this.images[_]||(y=!1);this.isLoaded()||y?this._notify(c,p):this.requestors.push({ids:c,callback:p})}_notify(c,p){const y={};for(const _ of c){let E=this.getImage(_);E||(this.fire(new a.Event("styleimagemissing",{id:_})),E=this.getImage(_)),E?y[_]={data:E.data.clone(),pixelRatio:E.pixelRatio,sdf:E.sdf,version:E.version,stretchX:E.stretchX,stretchY:E.stretchY,content:E.content,hasRenderCallback:!!(E.userImage&&E.userImage.render)}:a.warnOnce(`Image "${_}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}p(null,y)}getPixelSize(){const{width:c,height:p}=this.atlasImage;return{width:c,height:p}}getPattern(c){const p=this.patterns[c],y=this.getImage(c);if(!y)return null;if(p&&p.position.version===y.version)return p.position;if(p)p.position.version=y.version;else{const _={w:y.data.width+2,h:y.data.height+2,x:0,y:0},E=new a.ImagePosition(_,y);this.patterns[c]={bin:_,position:E}}return this._updatePatternAtlas(),this.patterns[c].position}bind(c){const p=c.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new ee(c,this.atlasImage,p.RGBA),this.atlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE)}_updatePatternAtlas(){const c=[];for(const E in this.patterns)c.push(this.patterns[E].bin);const{w:p,h:y}=a.potpack(c),_=this.atlasImage;_.resize({width:p||1,height:y||1});for(const E in this.patterns){const{bin:D}=this.patterns[E],L=D.x+1,U=D.y+1,q=this.getImage(E).data,Y=q.width,K=q.height;a.RGBAImage.copy(q,_,{x:0,y:0},{x:L,y:U},{width:Y,height:K}),a.RGBAImage.copy(q,_,{x:0,y:K-1},{x:L,y:U-1},{width:Y,height:1}),a.RGBAImage.copy(q,_,{x:0,y:0},{x:L,y:U+K},{width:Y,height:1}),a.RGBAImage.copy(q,_,{x:Y-1,y:0},{x:L-1,y:U},{width:1,height:K}),a.RGBAImage.copy(q,_,{x:0,y:0},{x:L+Y,y:U},{width:1,height:K})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(c){for(const p of c){if(this.callbackDispatchedThisFrame[p])continue;this.callbackDispatchedThisFrame[p]=!0;const y=this.getImage(p);y||a.warnOnce(`Image with ID: "${p}" was not found`),ae(y)&&this.updateImage(p,y)}}}const ye=1e20;function we(w,c,p,y,_,E,D,L,U){for(let q=c;q<c+y;q++)Ee(w,p*E+q,E,_,D,L,U);for(let q=p;q<p+_;q++)Ee(w,q*E+c,1,y,D,L,U)}function Ee(w,c,p,y,_,E,D){E[0]=0,D[0]=-ye,D[1]=ye,_[0]=w[c];for(let L=1,U=0,q=0;L<y;L++){_[L]=w[c+L*p];const Y=L*L;do{const K=E[U];q=(_[L]-_[K]+Y-K*K)/(L-K)/2}while(q<=D[U]&&--U>-1);U++,E[U]=L,D[U]=q,D[U+1]=ye}for(let L=0,U=0;L<y;L++){for(;D[U+1]<L;)U++;const q=E[U],Y=L-q;w[c+L*p]=_[q]+Y*Y}}class Oe{constructor(c,p){this.requestManager=c,this.localIdeographFontFamily=p,this.entries={}}setURL(c){this.url=c}getGlyphs(c,p){const y=[];for(const _ in c)for(const E of c[_])y.push({stack:_,id:E});a.asyncAll(y,({stack:_,id:E},D)=>{let L=this.entries[_];L||(L=this.entries[_]={glyphs:{},requests:{},ranges:{}});let U=L.glyphs[E];if(U!==void 0)return void D(null,{stack:_,id:E,glyph:U});if(U=this._tinySDF(L,_,E),U)return L.glyphs[E]=U,void D(null,{stack:_,id:E,glyph:U});const q=Math.floor(E/256);if(256*q>65535)return void D(new Error("glyphs > 65535 not supported"));if(L.ranges[q])return void D(null,{stack:_,id:E,glyph:U});if(!this.url)return void D(new Error("glyphsUrl is not set"));let Y=L.requests[q];Y||(Y=L.requests[q]=[],Oe.loadGlyphRange(_,q,this.url,this.requestManager,(K,re)=>{if(re){for(const de in re)this._doesCharSupportLocalGlyph(+de)||(L.glyphs[+de]=re[+de]);L.ranges[q]=!0}for(const de of Y)de(K,re);delete L.requests[q]})),Y.push((K,re)=>{K?D(K):re&&D(null,{stack:_,id:E,glyph:re[E]||null})})},(_,E)=>{if(_)p(_);else if(E){const D={};for(const{stack:L,id:U,glyph:q}of E)(D[L]||(D[L]={}))[U]=q&&{id:q.id,bitmap:q.bitmap.clone(),metrics:q.metrics};p(null,D)}})}_doesCharSupportLocalGlyph(c){return!!this.localIdeographFontFamily&&(a.unicodeBlockLookup["CJK Unified Ideographs"](c)||a.unicodeBlockLookup["Hangul Syllables"](c)||a.unicodeBlockLookup.Hiragana(c)||a.unicodeBlockLookup.Katakana(c))}_tinySDF(c,p,y){const _=this.localIdeographFontFamily;if(!_||!this._doesCharSupportLocalGlyph(y))return;let E=c.tinySDF;if(!E){let L="400";/bold/i.test(p)?L="900":/medium/i.test(p)?L="500":/light/i.test(p)&&(L="200"),E=c.tinySDF=new Oe.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:_,fontWeight:L})}const D=E.draw(String.fromCharCode(y));return{id:y,bitmap:new a.AlphaImage({width:D.width||60,height:D.height||60},D.data),metrics:{width:D.glyphWidth/2||24,height:D.glyphHeight/2||24,left:D.glyphLeft/2+.5||0,top:D.glyphTop/2-27.5||-8,advance:D.glyphAdvance/2||24,isDoubleResolution:!0}}}}Oe.loadGlyphRange=function(w,c,p,y,_){const E=256*c,D=E+255,L=y.transformRequest(p.replace("{fontstack}",w).replace("{range}",`${E}-${D}`),I.Glyphs);a.getArrayBuffer(L,(U,q)=>{if(U)_(U);else if(q){const Y={};for(const K of a.parseGlyphPbf(q))Y[K.id]=K;_(null,Y)}})},Oe.TinySDF=class{constructor({fontSize:w=24,buffer:c=3,radius:p=8,cutoff:y=.25,fontFamily:_="sans-serif",fontWeight:E="normal",fontStyle:D="normal"}={}){this.buffer=c,this.cutoff=y,this.radius=p;const L=this.size=w+4*c,U=this._createCanvas(L),q=this.ctx=U.getContext("2d",{willReadFrequently:!0});q.font=`${D} ${E} ${w}px ${_}`,q.textBaseline="alphabetic",q.textAlign="left",q.fillStyle="black",this.gridOuter=new Float64Array(L*L),this.gridInner=new Float64Array(L*L),this.f=new Float64Array(L),this.z=new Float64Array(L+1),this.v=new Uint16Array(L)}_createCanvas(w){const c=document.createElement("canvas");return c.width=c.height=w,c}draw(w){const{width:c,actualBoundingBoxAscent:p,actualBoundingBoxDescent:y,actualBoundingBoxLeft:_,actualBoundingBoxRight:E}=this.ctx.measureText(w),D=Math.ceil(p),L=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(E-_))),U=Math.min(this.size-this.buffer,D+Math.ceil(y)),q=L+2*this.buffer,Y=U+2*this.buffer,K=Math.max(q*Y,0),re=new Uint8ClampedArray(K),de={data:re,width:q,height:Y,glyphWidth:L,glyphHeight:U,glyphTop:D,glyphLeft:0,glyphAdvance:c};if(L===0||U===0)return de;const{ctx:ce,buffer:me,gridInner:le,gridOuter:Ae}=this;ce.clearRect(me,me,L,U),ce.fillText(w,me,me+D);const ze=ce.getImageData(me,me,L,U);Ae.fill(ye,0,K),le.fill(0,0,K);for(let ve=0;ve<U;ve++)for(let Ie=0;Ie<L;Ie++){const Be=ze.data[4*(ve*L+Ie)+3]/255;if(Be===0)continue;const Fe=(ve+me)*q+Ie+me;if(Be===1)Ae[Fe]=0,le[Fe]=ye;else{const Ke=.5-Be;Ae[Fe]=Ke>0?Ke*Ke:0,le[Fe]=Ke<0?Ke*Ke:0}}we(Ae,0,0,q,Y,q,this.f,this.v,this.z),we(le,me,me,L,U,q,this.f,this.v,this.z);for(let ve=0;ve<K;ve++){const Ie=Math.sqrt(Ae[ve])-Math.sqrt(le[ve]);re[ve]=Math.round(255-255*(Ie/this.radius+this.cutoff))}return de}};class Ce{constructor(){this.specification=a.v8Spec.light.position}possiblyEvaluate(c,p){return a.sphericalToCartesian(c.expression.evaluate(p))}interpolate(c,p,y){return{x:a.interpolate.number(c.x,p.x,y),y:a.interpolate.number(c.y,p.y,y),z:a.interpolate.number(c.z,p.z,y)}}}let Se;class De extends a.Evented{constructor(c){super(),Se=Se||new a.Properties({anchor:new a.DataConstantProperty(a.v8Spec.light.anchor),position:new Ce,color:new a.DataConstantProperty(a.v8Spec.light.color),intensity:new a.DataConstantProperty(a.v8Spec.light.intensity)}),this._transitionable=new a.Transitionable(Se),this.setLight(c),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(c,p={}){if(!this._validate(a.validateLight,c,p))for(const y in c){const _=c[y];y.endsWith("-transition")?this._transitionable.setTransition(y.slice(0,-11),_):this._transitionable.setValue(y,_)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,p,y){return(!y||y.validate!==!1)&&a.emitValidationErrors(this,c.call(a.validateStyle,a.extend({value:p,style:{glyphs:!0,sprite:!0},styleSpec:a.v8Spec})))}}class We{constructor(c,p){this.width=c,this.height=p,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(c,p){const y=c.join(",")+String(p);return this.dashEntry[y]||(this.dashEntry[y]=this.addDash(c,p)),this.dashEntry[y]}getDashRanges(c,p,y){const _=[];let E=c.length%2==1?-c[c.length-1]*y:0,D=c[0]*y,L=!0;_.push({left:E,right:D,isDash:L,zeroLength:c[0]===0});let U=c[0];for(let q=1;q<c.length;q++){L=!L;const Y=c[q];E=U*y,U+=Y,D=U*y,_.push({left:E,right:D,isDash:L,zeroLength:Y===0})}return _}addRoundDash(c,p,y){const _=p/2;for(let E=-y;E<=y;E++){const D=this.width*(this.nextRow+y+E);let L=0,U=c[L];for(let q=0;q<this.width;q++){q/U.right>1&&(U=c[++L]);const Y=Math.abs(q-U.left),K=Math.abs(q-U.right),re=Math.min(Y,K);let de;const ce=E/y*(_+1);if(U.isDash){const me=_-Math.abs(ce);de=Math.sqrt(re*re+me*me)}else de=_-Math.sqrt(re*re+ce*ce);this.data[D+q]=Math.max(0,Math.min(255,de+128))}}}addRegularDash(c){for(let L=c.length-1;L>=0;--L){const U=c[L],q=c[L+1];U.zeroLength?c.splice(L,1):q&&q.isDash===U.isDash&&(q.left=U.left,c.splice(L,1))}const p=c[0],y=c[c.length-1];p.isDash===y.isDash&&(p.left=y.left-this.width,y.right=p.right+this.width);const _=this.width*this.nextRow;let E=0,D=c[E];for(let L=0;L<this.width;L++){L/D.right>1&&(D=c[++E]);const U=Math.abs(L-D.left),q=Math.abs(L-D.right),Y=Math.min(U,q);this.data[_+L]=Math.max(0,Math.min(255,(D.isDash?Y:-Y)+128))}}addDash(c,p){const y=p?7:0,_=2*y+1;if(this.nextRow+_>this.height)return a.warnOnce("LineAtlas out of space"),null;let E=0;for(let L=0;L<c.length;L++)E+=c[L];if(E!==0){const L=this.width/E,U=this.getDashRanges(c,this.width,L);p?this.addRoundDash(U,L,y):this.addRegularDash(U)}const D={y:(this.nextRow+y+.5)/this.height,height:2*y/this.height,width:E};return this.nextRow+=_,this.dirty=!0,D}bind(c){const p=c.gl;this.texture?(p.bindTexture(p.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,p.texSubImage2D(p.TEXTURE_2D,0,0,0,this.width,this.height,p.ALPHA,p.UNSIGNED_BYTE,this.data))):(this.texture=p.createTexture(),p.bindTexture(p.TEXTURE_2D,this.texture),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texImage2D(p.TEXTURE_2D,0,p.ALPHA,this.width,this.height,0,p.ALPHA,p.UNSIGNED_BYTE,this.data))}}class dt{constructor(c,p,y){this.workerPool=c,this.actors=[],this.currentActor=0,this.id=y;const _=this.workerPool.acquire(y);for(let E=0;E<_.length;E++){const D=new dt.Actor(_[E],p,y);D.name=`Worker ${E}`,this.actors.push(D)}if(!this.actors.length)throw new Error("No actors found")}broadcast(c,p,y){a.asyncAll(this.actors,(_,E)=>{_.send(c,p,E)},y=y||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(c=!0){this.actors.forEach(p=>{p.remove()}),this.actors=[],c&&this.workerPool.release(this.id)}}function ht(w,c,p){const y=function(_,E){if(_)return p(_);if(E){const D=a.pick(a.extend(E,w),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);E.vector_layers&&(D.vectorLayers=E.vector_layers,D.vectorLayerIds=D.vectorLayers.map(L=>L.id)),p(null,D)}};return w.url?a.getJSON(c.transformRequest(w.url,I.Source),y):a.browser.frame(()=>y(null,w))}dt.Actor=a.Actor;class Je{constructor(c,p){c&&(p?this.setSouthWest(c).setNorthEast(p):Array.isArray(c)&&(c.length===4?this.setSouthWest([c[0],c[1]]).setNorthEast([c[2],c[3]]):this.setSouthWest(c[0]).setNorthEast(c[1])))}setNorthEast(c){return this._ne=c instanceof a.LngLat?new a.LngLat(c.lng,c.lat):a.LngLat.convert(c),this}setSouthWest(c){return this._sw=c instanceof a.LngLat?new a.LngLat(c.lng,c.lat):a.LngLat.convert(c),this}extend(c){const p=this._sw,y=this._ne;let _,E;if(c instanceof a.LngLat)_=c,E=c;else{if(!(c instanceof Je))return Array.isArray(c)?c.length===4||c.every(Array.isArray)?this.extend(Je.convert(c)):this.extend(a.LngLat.convert(c)):c&&("lng"in c||"lon"in c)&&"lat"in c?this.extend(a.LngLat.convert(c)):this;if(_=c._sw,E=c._ne,!_||!E)return this}return p||y?(p.lng=Math.min(_.lng,p.lng),p.lat=Math.min(_.lat,p.lat),y.lng=Math.max(E.lng,y.lng),y.lat=Math.max(E.lat,y.lat)):(this._sw=new a.LngLat(_.lng,_.lat),this._ne=new a.LngLat(E.lng,E.lat)),this}getCenter(){return new a.LngLat((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new a.LngLat(this.getWest(),this.getNorth())}getSouthEast(){return new a.LngLat(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(c){const{lng:p,lat:y}=a.LngLat.convert(c);let _=this._sw.lng<=p&&p<=this._ne.lng;return this._sw.lng>this._ne.lng&&(_=this._sw.lng>=p&&p>=this._ne.lng),this._sw.lat<=y&&y<=this._ne.lat&&_}static convert(c){return c instanceof Je?c:c&&new Je(c)}static fromLngLat(c,p=0){const y=360*p/40075017,_=y/Math.cos(Math.PI/180*c.lat);return new Je(new a.LngLat(c.lng-_,c.lat-y),new a.LngLat(c.lng+_,c.lat+y))}}class it{constructor(c,p,y){this.bounds=Je.convert(this.validateBounds(c)),this.minzoom=p||0,this.maxzoom=y||24}validateBounds(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]}contains(c){const p=Math.pow(2,c.z),y=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*p),_=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*p),E=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*p),D=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*p);return c.x>=y&&c.x<E&&c.y>=_&&c.y<D}}class Ot extends a.Evented{constructor(c,p,y,_){if(super(),this.load=()=>{this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=ht(this._options,this.map._requestManager,(E,D)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),E?this.fire(new a.ErrorEvent(E)):D&&(a.extend(this,D),D.bounds&&(this.tileBounds=new it(D.bounds,this.minzoom,this.maxzoom)),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},this.serialize=()=>a.extend({},this._options),this.id=c,this.dispatcher=y,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(p,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},p),this._collectResourceTiming=p.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(_)}loaded(){return this._loaded}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}onAdd(c){this.map=c,this.load()}setSourceProperty(c){this._tileJSONRequest&&this._tileJSONRequest.cancel(),c(),this.load()}setTiles(c){return this.setSourceProperty(()=>{this._options.tiles=c}),this}setUrl(c){return this.setSourceProperty(()=>{this.url=c,this._options.url=c}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(c,p){const y=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_={request:this.map._requestManager.transformRequest(y,I.Tile),uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,tileSize:this.tileSize*c.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function E(D,L){return delete c.request,c.aborted?p(null):D&&D.status!==404?p(D):(L&&L.resourceTiming&&(c.resourceTiming=L.resourceTiming),this.map._refreshExpiredTiles&&L&&c.setExpiryData(L),c.loadVectorData(L,this.map.painter),p(null),void(c.reloadCallback&&(this.loadTile(c,c.reloadCallback),c.reloadCallback=null)))}_.request.collectResourceTiming=this._collectResourceTiming,c.actor&&c.state!=="expired"?c.state==="loading"?c.reloadCallback=p:c.request=c.actor.send("reloadTile",_,E.bind(this)):(c.actor=this.dispatcher.getActor(),c.request=c.actor.send("loadTile",_,E.bind(this)))}abortTile(c){c.request&&(c.request.cancel(),delete c.request),c.actor&&c.actor.send("abortTile",{uid:c.uid,type:this.type,source:this.id},void 0)}unloadTile(c){c.unloadVectorData(),c.actor&&c.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class ot extends a.Evented{constructor(c,p,y,_){super(),this.id=c,this.dispatcher=y,this.setEventedParent(_),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},p),a.extend(this,a.pick(p,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=ht(this._options,this.map._requestManager,(c,p)=>{this._tileJSONRequest=null,this._loaded=!0,c?this.fire(new a.ErrorEvent(c)):p&&(a.extend(this,p),p.bounds&&(this.tileBounds=new it(p.bounds,this.minzoom,this.maxzoom)),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(c){this.map=c,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}setSourceProperty(c){this._tileJSONRequest&&this._tileJSONRequest.cancel(),c(),this.load()}setTiles(c){return this.setSourceProperty(()=>{this._options.tiles=c}),this}serialize(){return a.extend({},this._options)}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}loadTile(c,p){const y=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);c.request=M.getImage(this.map._requestManager.transformRequest(y,I.Tile),(_,E,D)=>{if(delete c.request,c.aborted)c.state="unloaded",p(null);else if(_)c.state="errored",p(_);else if(E){this.map._refreshExpiredTiles&&D&&c.setExpiryData(D);const L=this.map.painter.context,U=L.gl;c.texture=this.map.painter.getTileTexture(E.width),c.texture?c.texture.update(E,{useMipmap:!0}):(c.texture=new ee(L,E,U.RGBA,{useMipmap:!0}),c.texture.bind(U.LINEAR,U.CLAMP_TO_EDGE,U.LINEAR_MIPMAP_NEAREST),L.extTextureFilterAnisotropic&&U.texParameterf(U.TEXTURE_2D,L.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,L.extTextureFilterAnisotropicMax)),c.state="loaded",p(null)}},this.map._refreshExpiredTiles)}abortTile(c,p){c.request&&(c.request.cancel(),delete c.request),p()}unloadTile(c,p){c.texture&&this.map.painter.saveTileTexture(c.texture),p()}hasTransition(){return!1}}class Gt extends ot{constructor(c,p,y,_){super(c,p,y,_),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},p),this.encoding=p.encoding||"mapbox",this.redFactor=p.redFactor,this.greenFactor=p.greenFactor,this.blueFactor=p.blueFactor,this.baseShift=p.baseShift}loadTile(c,p){const y=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_=this.map._requestManager.transformRequest(y,I.Tile);function E(D,L){D&&(c.state="errored",p(D)),L&&(c.dem=L,c.needsHillshadePrepare=!0,c.needsTerrainPrepare=!0,c.state="loaded",p(null))}c.neighboringTiles=this._getNeighboringTiles(c.tileID),c.request=M.getImage(_,(D,L,U)=>a.__awaiter(this,void 0,void 0,function*(){if(delete c.request,c.aborted)c.state="unloaded",p(null);else if(D)c.state="errored",p(D);else if(L){this.map._refreshExpiredTiles&&c.setExpiryData(U);const q=a.isImageBitmap(L)&&a.offscreenCanvasSupported()?L:yield function(K){return a.__awaiter(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&a.isOffscreenCanvasDistorted()){const re=K.width+2,de=K.height+2;try{return new a.RGBAImage({width:re,height:de},yield a.readImageUsingVideoFrame(K,-1,-1,re,de))}catch{}}return a.browser.getImageData(K,1)})}(L),Y={uid:c.uid,coord:c.tileID,source:this.id,rawImageData:q,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};c.actor&&c.state!=="expired"||(c.actor=this.dispatcher.getActor(),c.actor.send("loadDEMTile",Y,E))}}),this.map._refreshExpiredTiles)}_getNeighboringTiles(c){const p=c.canonical,y=Math.pow(2,p.z),_=(p.x-1+y)%y,E=p.x===0?c.wrap-1:c.wrap,D=(p.x+1+y)%y,L=p.x+1===y?c.wrap+1:c.wrap,U={};return U[new a.OverscaledTileID(c.overscaledZ,E,p.z,_,p.y).key]={backfilled:!1},U[new a.OverscaledTileID(c.overscaledZ,L,p.z,D,p.y).key]={backfilled:!1},p.y>0&&(U[new a.OverscaledTileID(c.overscaledZ,E,p.z,_,p.y-1).key]={backfilled:!1},U[new a.OverscaledTileID(c.overscaledZ,c.wrap,p.z,p.x,p.y-1).key]={backfilled:!1},U[new a.OverscaledTileID(c.overscaledZ,L,p.z,D,p.y-1).key]={backfilled:!1}),p.y+1<y&&(U[new a.OverscaledTileID(c.overscaledZ,E,p.z,_,p.y+1).key]={backfilled:!1},U[new a.OverscaledTileID(c.overscaledZ,c.wrap,p.z,p.x,p.y+1).key]={backfilled:!1},U[new a.OverscaledTileID(c.overscaledZ,L,p.z,D,p.y+1).key]={backfilled:!1}),U}unloadTile(c){c.demTexture&&this.map.painter.saveTileTexture(c.demTexture),c.fbo&&(c.fbo.destroy(),delete c.fbo),c.dem&&delete c.dem,delete c.neighboringTiles,c.state="unloaded",c.actor&&c.actor.send("removeDEMTile",{uid:c.uid,source:this.id})}}class Ht extends a.Evented{constructor(c,p,y,_){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>a.extend({},this._options,{type:this.type,data:this._data}),this.id=c,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=y.getActor(),this.setEventedParent(_),this._data=p.data,this._options=a.extend({},p),this._collectResourceTiming=p.collectResourceTiming,p.maxzoom!==void 0&&(this.maxzoom=p.maxzoom),p.type&&(this.type=p.type),p.attribution&&(this.attribution=p.attribution),this.promoteId=p.promoteId;const E=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:p.cluster||!1,geojsonVtOptions:{buffer:(p.buffer!==void 0?p.buffer:128)*E,tolerance:(p.tolerance!==void 0?p.tolerance:.375)*E,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:p.lineMetrics||!1,generateId:p.generateId||!1},superclusterOptions:{maxZoom:p.clusterMaxZoom!==void 0?p.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,p.clusterMinPoints||2),extent:a.EXTENT,radius:(p.clusterRadius||50)*E,log:!1,generateId:p.generateId||!1},clusterProperties:p.clusterProperties,filter:p.filter},p.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}onAdd(c){this.map=c,this.load()}setData(c){return this._data=c,this._updateWorkerData(),this}updateData(c){return this._updateWorkerData(c),this}setClusterOptions(c){return this.workerOptions.cluster=c.cluster,c&&(c.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=c.clusterRadius),c.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=c.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(c,p){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:c,source:this.id},p),this}getClusterChildren(c,p){return this.actor.send("geojson.getClusterChildren",{clusterId:c,source:this.id},p),this}getClusterLeaves(c,p,y,_){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:c,limit:p,offset:y},_),this}_updateWorkerData(c){const p=a.extend({},this.workerOptions);c?p.dataDiff=c:typeof this._data=="string"?(p.request=this.map._requestManager.transformRequest(a.browser.resolveURL(this._data),I.Source),p.request.collectResourceTiming=this._collectResourceTiming):p.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new a.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,p,(y,_)=>{if(this._pendingLoads--,this._removed||_&&_.abandoned)return void this.fire(new a.Event("dataabort",{dataType:"source"}));let E=null;if(_&&_.resourceTiming&&_.resourceTiming[this.id]&&(E=_.resourceTiming[this.id].slice(0)),y)return void this.fire(new a.ErrorEvent(y));const D={dataType:"source"};this._collectResourceTiming&&E&&E.length>0&&a.extend(D,{resourceTiming:E}),this.fire(new a.Event("data",Object.assign(Object.assign({},D),{sourceDataType:"metadata"}))),this.fire(new a.Event("data",Object.assign(Object.assign({},D),{sourceDataType:"content"})))})}loaded(){return this._pendingLoads===0}loadTile(c,p){const y=c.actor?"reloadTile":"loadTile";c.actor=this.actor;const _={type:this.type,uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};c.request=this.actor.send(y,_,(E,D)=>(delete c.request,c.unloadVectorData(),c.aborted?p(null):E?p(E):(c.loadVectorData(D,this.map.painter,y==="reloadTile"),p(null))))}abortTile(c){c.request&&(c.request.cancel(),delete c.request),c.aborted=!0}unloadTile(c){c.unloadVectorData(),this.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var Ge=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class vt extends a.Evented{constructor(c,p,y,_){super(),this.load=(E,D)=>{this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=M.getImage(this.map._requestManager.transformRequest(this.url,I.Image),(L,U)=>{this._request=null,this._loaded=!0,L?this.fire(new a.ErrorEvent(L)):U&&(this.image=U,E&&(this.coordinates=E),D&&D(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||!this.image)return;const E=this.map.painter.context,D=E.gl;this.boundsBuffer||(this.boundsBuffer=E.createVertexBuffer(this._boundsArray,Ge.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new ee(E,this.image,D.RGBA),this.texture.bind(D.LINEAR,D.CLAMP_TO_EDGE));let L=!1;for(const U in this.tiles){const q=this.tiles[U];q.state!=="loaded"&&(q.state="loaded",q.texture=this.texture,L=!0)}L&&this.fire(new a.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=c,this.dispatcher=y,this.coordinates=p.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(_),this.options=p}loaded(){return this._loaded}updateImage(c){return c.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=c.url,this.load(c.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(c){this.map=c,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(c){this.coordinates=c;const p=c.map(a.MercatorCoordinate.fromLngLat);this.tileID=function(_){let E=1/0,D=1/0,L=-1/0,U=-1/0;for(const re of _)E=Math.min(E,re.x),D=Math.min(D,re.y),L=Math.max(L,re.x),U=Math.max(U,re.y);const q=Math.max(L-E,U-D),Y=Math.max(0,Math.floor(-Math.log(q)/Math.LN2)),K=Math.pow(2,Y);return new a.CanonicalTileID(Y,Math.floor((E+L)/2*K),Math.floor((D+U)/2*K))}(p),this.minzoom=this.maxzoom=this.tileID.z;const y=p.map(_=>this.tileID.getTilePoint(_)._round());return this._boundsArray=new a.RasterBoundsArray,this._boundsArray.emplaceBack(y[0].x,y[0].y,0,0),this._boundsArray.emplaceBack(y[1].x,y[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(y[3].x,y[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(y[2].x,y[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(c,p){this.tileID&&this.tileID.equals(c.tileID.canonical)?(this.tiles[String(c.tileID.wrap)]=c,c.buckets={},p(null)):(c.state="errored",p(null))}hasTransition(){return!1}}class gt extends vt{constructor(c,p,y,_){super(c,p,y,_),this.load=()=>{this._loaded=!1;const E=this.options;this.urls=[];for(const D of E.urls)this.urls.push(this.map._requestManager.transformRequest(D,I.Source).url);a.getVideo(this.urls,(D,L)=>{this._loaded=!0,D?this.fire(new a.ErrorEvent(D)):L&&(this.video=L,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const E=this.map.painter.context,D=E.gl;this.boundsBuffer||(this.boundsBuffer=E.createVertexBuffer(this._boundsArray,Ge.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(D.LINEAR,D.CLAMP_TO_EDGE),D.texSubImage2D(D.TEXTURE_2D,0,0,0,D.RGBA,D.UNSIGNED_BYTE,this.video)):(this.texture=new ee(E,this.video,D.RGBA),this.texture.bind(D.LINEAR,D.CLAMP_TO_EDGE));let L=!1;for(const U in this.tiles){const q=this.tiles[U];q.state!=="loaded"&&(q.state="loaded",q.texture=this.texture,L=!0)}L&&this.fire(new a.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=p}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(c){if(this.video){const p=this.video.seekable;c<p.start(0)||c>p.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${p.start(0)} and ${p.end(0)}-second mark.`))):this.video.currentTime=c}}getVideo(){return this.video}onAdd(c){this.map||(this.map=c,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class Ve extends vt{constructor(c,p,y,_){super(c,p,y,_),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let E=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,E=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,E=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const D=this.map.painter.context,L=D.gl;this.boundsBuffer||(this.boundsBuffer=D.createVertexBuffer(this._boundsArray,Ge.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(E||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new ee(D,this.canvas,L.RGBA,{premultiply:!0});let U=!1;for(const q in this.tiles){const Y=this.tiles[q];Y.state!=="loaded"&&(Y.state="loaded",Y.texture=this.texture,U=!0)}U&&this.fire(new a.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),p.coordinates?Array.isArray(p.coordinates)&&p.coordinates.length===4&&!p.coordinates.some(E=>!Array.isArray(E)||E.length!==2||E.some(D=>typeof D!="number"))||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${c}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${c}`,null,'missing required property "coordinates"'))),p.animate&&typeof p.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${c}`,null,'optional "animate" property must be a boolean value'))),p.canvas?typeof p.canvas=="string"||p.canvas instanceof HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${c}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${c}`,null,'missing required property "canvas"'))),this.options=p,this.animate=p.animate===void 0||p.animate}getCanvas(){return this.canvas}onAdd(c){this.map=c,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const c of[this.canvas.width,this.canvas.height])if(isNaN(c)||c<=0)return!0;return!1}}const Et={},Tt=w=>{switch(w){case"geojson":return Ht;case"image":return vt;case"raster":return ot;case"raster-dem":return Gt;case"vector":return Ot;case"video":return gt;case"canvas":return Ve}return Et[w]};function qt(w,c){const p=a.create();return a.translate(p,p,[1,1,0]),a.scale(p,p,[.5*w.width,.5*w.height,1]),a.multiply(p,p,w.calculatePosMatrix(c.toUnwrapped()))}function vn(w,c,p,y,_,E){const D=function(K,re,de){if(K)for(const ce of K){const me=re[ce];if(me&&me.source===de&&me.type==="fill-extrusion")return!0}else for(const ce in re){const me=re[ce];if(me.source===de&&me.type==="fill-extrusion")return!0}return!1}(_&&_.layers,c,w.id),L=E.maxPitchScaleFactor(),U=w.tilesIn(y,L,D);U.sort(Mn);const q=[];for(const K of U)q.push({wrappedTileID:K.tileID.wrapped().key,queryResults:K.tile.queryRenderedFeatures(c,p,w._state,K.queryGeometry,K.cameraQueryGeometry,K.scale,_,E,L,qt(w.transform,K.tileID))});const Y=function(K){const re={},de={};for(const ce of K){const me=ce.queryResults,le=ce.wrappedTileID,Ae=de[le]=de[le]||{};for(const ze in me){const ve=me[ze],Ie=Ae[ze]=Ae[ze]||{},Be=re[ze]=re[ze]||[];for(const Fe of ve)Ie[Fe.featureIndex]||(Ie[Fe.featureIndex]=!0,Be.push(Fe))}}return re}(q);for(const K in Y)Y[K].forEach(re=>{const de=re.feature,ce=w.getFeatureState(de.layer["source-layer"],de.id);de.source=de.layer.source,de.layer["source-layer"]&&(de.sourceLayer=de.layer["source-layer"]),de.state=ce});return Y}function Mn(w,c){const p=w.tileID,y=c.tileID;return p.overscaledZ-y.overscaledZ||p.canonical.y-y.canonical.y||p.wrap-y.wrap||p.canonical.x-y.canonical.x}class xn{constructor(c,p){this.timeAdded=0,this.fadeEndTime=0,this.tileID=c,this.uid=a.uniqueId(),this.uses=0,this.tileSize=p,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(c){const p=c+this.timeAdded;p<this.fadeEndTime||(this.fadeEndTime=p)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(c){this.demTexture&&c.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(c,p,y){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",c){c.featureIndex&&(this.latestFeatureIndex=c.featureIndex,c.rawTileData?(this.latestRawTileData=c.rawTileData,this.latestFeatureIndex.rawTileData=c.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=c.collisionBoxArray,this.buckets=function(_,E){const D={};if(!E)return D;for(const L of _){const U=L.layerIds.map(q=>E.getLayer(q)).filter(Boolean);if(U.length!==0){L.layers=U,L.stateDependentLayerIds&&(L.stateDependentLayers=L.stateDependentLayerIds.map(q=>U.filter(Y=>Y.id===q)[0]));for(const q of U)D[q.id]=L}}return D}(c.buckets,p.style),this.hasSymbolBuckets=!1;for(const _ in this.buckets){const E=this.buckets[_];if(E instanceof a.SymbolBucket){if(this.hasSymbolBuckets=!0,!y)break;E.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const _ in this.buckets){const E=this.buckets[_];if(E instanceof a.SymbolBucket&&E.hasRTLText){this.hasRTLText=!0,a.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const _ in this.buckets){const E=this.buckets[_];this.queryPadding=Math.max(this.queryPadding,p.style.getLayer(_).queryRadius(E))}c.imageAtlas&&(this.imageAtlas=c.imageAtlas),c.glyphAtlasImage&&(this.glyphAtlasImage=c.glyphAtlasImage)}else this.collisionBoxArray=new a.CollisionBoxArray}unloadVectorData(){for(const c in this.buckets)this.buckets[c].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(c){return this.buckets[c.id]}upload(c){for(const y in this.buckets){const _=this.buckets[y];_.uploadPending()&&_.upload(c)}const p=c.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ee(c,this.imageAtlas.image,p.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ee(c,this.glyphAtlasImage,p.ALPHA),this.glyphAtlasImage=null)}prepare(c){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(c,this.imageAtlasTexture)}queryRenderedFeatures(c,p,y,_,E,D,L,U,q,Y){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:_,cameraQueryGeometry:E,scale:D,tileSize:this.tileSize,pixelPosMatrix:Y,transform:U,params:L,queryPadding:this.queryPadding*q},c,p,y):{}}querySourceFeatures(c,p){const y=this.latestFeatureIndex;if(!y||!y.rawTileData)return;const _=y.loadVTLayers(),E=p&&p.sourceLayer?p.sourceLayer:"",D=_._geojsonTileLayer||_[E];if(!D)return;const L=a.createFilter(p&&p.filter),{z:U,x:q,y:Y}=this.tileID.canonical,K={z:U,x:q,y:Y};for(let re=0;re<D.length;re++){const de=D.feature(re);if(L.needGeometry){const le=a.toEvaluationFeature(de,!0);if(!L.filter(new a.EvaluationParameters(this.tileID.overscaledZ),le,this.tileID.canonical))continue}else if(!L.filter(new a.EvaluationParameters(this.tileID.overscaledZ),de))continue;const ce=y.getId(de,E),me=new a.GeoJSONFeature(de,U,q,Y,ce);me.tile=K,c.push(me)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(c){const p=this.expirationTime;if(c.cacheControl){const y=a.parseCacheControl(c.cacheControl);y["max-age"]&&(this.expirationTime=Date.now()+1e3*y["max-age"])}else c.expires&&(this.expirationTime=new Date(c.expires).getTime());if(this.expirationTime){const y=Date.now();let _=!1;if(this.expirationTime>y)_=!1;else if(p)if(this.expirationTime<p)_=!0;else{const E=this.expirationTime-p;E?this.expirationTime=y+Math.max(E,3e4):_=!0}else _=!0;_?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(c,p){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(c).length===0)return;const y=this.latestFeatureIndex.loadVTLayers();for(const _ in this.buckets){if(!p.style.hasLayer(_))continue;const E=this.buckets[_],D=E.layers[0].sourceLayer||"_geojsonTileLayer",L=y[D],U=c[D];if(!L||!U||Object.keys(U).length===0)continue;E.update(U,L,this.imageAtlas&&this.imageAtlas.patternPositions||{});const q=p&&p.style&&p.style.getLayer(_);q&&(this.queryPadding=Math.max(this.queryPadding,q.queryRadius(E)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<a.browser.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(c){this.symbolFadeHoldUntil=a.browser.now()+c}setDependencies(c,p){const y={};for(const _ of p)y[_]=!0;this.dependencies[c]=y}hasDependency(c,p){for(const y of c){const _=this.dependencies[y];if(_){for(const E of p)if(_[E])return!0}}return!1}}class rr{constructor(c,p){this.max=c,this.onRemove=p,this.reset()}reset(){for(const c in this.data)for(const p of this.data[c])p.timeout&&clearTimeout(p.timeout),this.onRemove(p.value);return this.data={},this.order=[],this}add(c,p,y){const _=c.wrapped().key;this.data[_]===void 0&&(this.data[_]=[]);const E={value:p,timeout:void 0};if(y!==void 0&&(E.timeout=setTimeout(()=>{this.remove(c,E)},y)),this.data[_].push(E),this.order.push(_),this.order.length>this.max){const D=this._getAndRemoveByKey(this.order[0]);D&&this.onRemove(D)}return this}has(c){return c.wrapped().key in this.data}getAndRemove(c){return this.has(c)?this._getAndRemoveByKey(c.wrapped().key):null}_getAndRemoveByKey(c){const p=this.data[c].shift();return p.timeout&&clearTimeout(p.timeout),this.data[c].length===0&&delete this.data[c],this.order.splice(this.order.indexOf(c),1),p.value}getByKey(c){const p=this.data[c];return p?p[0].value:null}get(c){return this.has(c)?this.data[c.wrapped().key][0].value:null}remove(c,p){if(!this.has(c))return this;const y=c.wrapped().key,_=p===void 0?0:this.data[y].indexOf(p),E=this.data[y][_];return this.data[y].splice(_,1),E.timeout&&clearTimeout(E.timeout),this.data[y].length===0&&delete this.data[y],this.onRemove(E.value),this.order.splice(this.order.indexOf(y),1),this}setMaxSize(c){for(this.max=c;this.order.length>this.max;){const p=this._getAndRemoveByKey(this.order[0]);p&&this.onRemove(p)}return this}filter(c){const p=[];for(const y in this.data)for(const _ of this.data[y])c(_.value)||p.push(_);for(const y of p)this.remove(y.value.tileID,y)}}class Cn{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(c,p,y){const _=String(p);if(this.stateChanges[c]=this.stateChanges[c]||{},this.stateChanges[c][_]=this.stateChanges[c][_]||{},a.extend(this.stateChanges[c][_],y),this.deletedStates[c]===null){this.deletedStates[c]={};for(const E in this.state[c])E!==_&&(this.deletedStates[c][E]=null)}else if(this.deletedStates[c]&&this.deletedStates[c][_]===null){this.deletedStates[c][_]={};for(const E in this.state[c][_])y[E]||(this.deletedStates[c][_][E]=null)}else for(const E in y)this.deletedStates[c]&&this.deletedStates[c][_]&&this.deletedStates[c][_][E]===null&&delete this.deletedStates[c][_][E]}removeFeatureState(c,p,y){if(this.deletedStates[c]===null)return;const _=String(p);if(this.deletedStates[c]=this.deletedStates[c]||{},y&&p!==void 0)this.deletedStates[c][_]!==null&&(this.deletedStates[c][_]=this.deletedStates[c][_]||{},this.deletedStates[c][_][y]=null);else if(p!==void 0)if(this.stateChanges[c]&&this.stateChanges[c][_])for(y in this.deletedStates[c][_]={},this.stateChanges[c][_])this.deletedStates[c][_][y]=null;else this.deletedStates[c][_]=null;else this.deletedStates[c]=null}getState(c,p){const y=String(p),_=a.extend({},(this.state[c]||{})[y],(this.stateChanges[c]||{})[y]);if(this.deletedStates[c]===null)return{};if(this.deletedStates[c]){const E=this.deletedStates[c][p];if(E===null)return{};for(const D in E)delete _[D]}return _}initializeTileState(c,p){c.setFeatureState(this.state,p)}coalesceChanges(c,p){const y={};for(const _ in this.stateChanges){this.state[_]=this.state[_]||{};const E={};for(const D in this.stateChanges[_])this.state[_][D]||(this.state[_][D]={}),a.extend(this.state[_][D],this.stateChanges[_][D]),E[D]=this.state[_][D];y[_]=E}for(const _ in this.deletedStates){this.state[_]=this.state[_]||{};const E={};if(this.deletedStates[_]===null)for(const D in this.state[_])E[D]={},this.state[_][D]={};else for(const D in this.deletedStates[_]){if(this.deletedStates[_][D]===null)this.state[_][D]={};else for(const L of Object.keys(this.deletedStates[_][D]))delete this.state[_][D][L];E[D]=this.state[_][D]}y[_]=y[_]||{},a.extend(y[_],E)}if(this.stateChanges={},this.deletedStates={},Object.keys(y).length!==0)for(const _ in c)c[_].setFeatureState(y,p)}}class Ne extends a.Evented{constructor(c,p,y){super(),this.id=c,this.dispatcher=y,this.on("data",_=>{_.dataType==="source"&&_.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&_.dataType==="source"&&_.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((_,E,D,L)=>{const U=new(Tt(E.type))(_,E,D,L);if(U.id!==_)throw new Error(`Expected Source id to be ${_} instead of ${U.id}`);return U})(c,p,y,this),this._tiles={},this._cache=new rr(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Cn,this._didEmitContent=!1,this._updated=!1}onAdd(c){this.map=c,this._maxTileCacheSize=c?c._maxTileCacheSize:null,this._maxTileCacheZoomLevels=c?c._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(c)}onRemove(c){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(c)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const c in this._tiles){const p=this._tiles[c];if(p.state!=="loaded"&&p.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const c=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,c&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(c,p){return this._source.loadTile(c,p)}_unloadTile(c){if(this._source.unloadTile)return this._source.unloadTile(c,()=>{})}_abortTile(c){this._source.abortTile&&this._source.abortTile(c,()=>{}),this._source.fire(new a.Event("dataabort",{tile:c,coord:c.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(c){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const p in this._tiles){const y=this._tiles[p];y.upload(c),y.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(c=>c.tileID).sort($n).map(c=>c.key)}getRenderableIds(c){const p=[];for(const y in this._tiles)this._isIdRenderable(y,c)&&p.push(this._tiles[y]);return c?p.sort((y,_)=>{const E=y.tileID,D=_.tileID,L=new a.Point(E.canonical.x,E.canonical.y)._rotate(this.transform.angle),U=new a.Point(D.canonical.x,D.canonical.y)._rotate(this.transform.angle);return E.overscaledZ-D.overscaledZ||U.y-L.y||U.x-L.x}).map(y=>y.tileID.key):p.map(y=>y.tileID).sort($n).map(y=>y.key)}hasRenderableParent(c){const p=this.findLoadedParent(c,0);return!!p&&this._isIdRenderable(p.tileID.key)}_isIdRenderable(c,p){return this._tiles[c]&&this._tiles[c].hasData()&&!this._coveredTiles[c]&&(p||!this._tiles[c].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const c in this._tiles)this._tiles[c].state!=="errored"&&this._reloadTile(c,"reloading")}}_reloadTile(c,p){const y=this._tiles[c];y&&(y.state!=="loading"&&(y.state=p),this._loadTile(y,this._tileLoaded.bind(this,y,c,p)))}_tileLoaded(c,p,y,_){if(_)return c.state="errored",void(_.status!==404?this._source.fire(new a.ErrorEvent(_,{tile:c})):this.update(this.transform,this.terrain));c.timeAdded=a.browser.now(),y==="expired"&&(c.refreshedUponExpiration=!0),this._setTileReloadTimer(p,c),this.getSource().type==="raster-dem"&&c.dem&&this._backfillDEM(c),this._state.initializeTileState(c,this.map?this.map.painter:null),c.aborted||this._source.fire(new a.Event("data",{dataType:"source",tile:c,coord:c.tileID}))}_backfillDEM(c){const p=this.getRenderableIds();for(let _=0;_<p.length;_++){const E=p[_];if(c.neighboringTiles&&c.neighboringTiles[E]){const D=this.getTileByID(E);y(c,D),y(D,c)}}function y(_,E){_.needsHillshadePrepare=!0,_.needsTerrainPrepare=!0;let D=E.tileID.canonical.x-_.tileID.canonical.x;const L=E.tileID.canonical.y-_.tileID.canonical.y,U=Math.pow(2,_.tileID.canonical.z),q=E.tileID.key;D===0&&L===0||Math.abs(L)>1||(Math.abs(D)>1&&(Math.abs(D+U)===1?D+=U:Math.abs(D-U)===1&&(D-=U)),E.dem&&_.dem&&(_.dem.backfillBorder(E.dem,D,L),_.neighboringTiles&&_.neighboringTiles[q]&&(_.neighboringTiles[q].backfilled=!0)))}}getTile(c){return this.getTileByID(c.key)}getTileByID(c){return this._tiles[c]}_retainLoadedChildren(c,p,y,_){for(const E in this._tiles){let D=this._tiles[E];if(_[E]||!D.hasData()||D.tileID.overscaledZ<=p||D.tileID.overscaledZ>y)continue;let L=D.tileID;for(;D&&D.tileID.overscaledZ>p+1;){const q=D.tileID.scaledTo(D.tileID.overscaledZ-1);D=this._tiles[q.key],D&&D.hasData()&&(L=q)}let U=L;for(;U.overscaledZ>p;)if(U=U.scaledTo(U.overscaledZ-1),c[U.key]){_[L.key]=L;break}}}findLoadedParent(c,p){if(c.key in this._loadedParentTiles){const y=this._loadedParentTiles[c.key];return y&&y.tileID.overscaledZ>=p?y:null}for(let y=c.overscaledZ-1;y>=p;y--){const _=c.scaledTo(y),E=this._getLoadedTile(_);if(E)return E}}_getLoadedTile(c){const p=this._tiles[c.key];return p&&p.hasData()?p:this._cache.getByKey(c.wrapped().key)}updateCacheSize(c){const p=Math.ceil(c.width/this._source.tileSize)+1,y=Math.ceil(c.height/this._source.tileSize)+1,_=Math.floor(p*y*(this._maxTileCacheZoomLevels===null?a.config.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),E=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,_):_;this._cache.setMaxSize(E)}handleWrapJump(c){const p=Math.round((c-(this._prevLng===void 0?c:this._prevLng))/360);if(this._prevLng=c,p){const y={};for(const _ in this._tiles){const E=this._tiles[_];E.tileID=E.tileID.unwrapTo(E.tileID.wrap+p),y[E.tileID.key]=E}this._tiles=y;for(const _ in this._timers)clearTimeout(this._timers[_]),delete this._timers[_];for(const _ in this._tiles)this._setTileReloadTimer(_,this._tiles[_])}}update(c,p){if(this.transform=c,this.terrain=p,!this._sourceLoaded||this._paused)return;let y;this.updateCacheSize(c),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?y=c.getVisibleUnwrappedCoordinates(this._source.tileID).map(Y=>new a.OverscaledTileID(Y.canonical.z,Y.wrap,Y.canonical.z,Y.canonical.x,Y.canonical.y)):(y=c.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:p}),this._source.hasTile&&(y=y.filter(Y=>this._source.hasTile(Y)))):y=[];const _=c.coveringZoomLevel(this._source),E=Math.max(_-Ne.maxOverzooming,this._source.minzoom),D=Math.max(_+Ne.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const Y={};for(const K of y)if(K.canonical.z>this._source.minzoom){const re=K.scaledTo(K.canonical.z-1);Y[re.key]=re;const de=K.scaledTo(Math.max(this._source.minzoom,Math.min(K.canonical.z,5)));Y[de.key]=de}y=y.concat(Object.values(Y))}const L=y.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,L&&this.fire(new a.Event("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const U=this._updateRetainedTiles(y,_);if(Hn(this._source.type)){const Y={},K={},re=Object.keys(U),de=a.browser.now();for(const ce of re){const me=U[ce],le=this._tiles[ce];if(!le||le.fadeEndTime!==0&&le.fadeEndTime<=de)continue;const Ae=this.findLoadedParent(me,E);Ae&&(this._addTile(Ae.tileID),Y[Ae.tileID.key]=Ae.tileID),K[ce]=me}this._retainLoadedChildren(K,_,D,U);for(const ce in Y)U[ce]||(this._coveredTiles[ce]=!0,U[ce]=Y[ce]);if(p){const ce={},me={};for(const le of y)this._tiles[le.key].hasData()?ce[le.key]=le:me[le.key]=le;for(const le in me){const Ae=me[le].children(this._source.maxzoom);this._tiles[Ae[0].key]&&this._tiles[Ae[1].key]&&this._tiles[Ae[2].key]&&this._tiles[Ae[3].key]&&(ce[Ae[0].key]=U[Ae[0].key]=Ae[0],ce[Ae[1].key]=U[Ae[1].key]=Ae[1],ce[Ae[2].key]=U[Ae[2].key]=Ae[2],ce[Ae[3].key]=U[Ae[3].key]=Ae[3],delete me[le])}for(const le in me){const Ae=this.findLoadedParent(me[le],this._source.minzoom);if(Ae){ce[Ae.tileID.key]=U[Ae.tileID.key]=Ae.tileID;for(const ze in ce)ce[ze].isChildOf(Ae.tileID)&&delete ce[ze]}}for(const le in this._tiles)ce[le]||(this._coveredTiles[le]=!0)}}for(const Y in U)this._tiles[Y].clearFadeHold();const q=a.keysDifference(this._tiles,U);for(const Y of q){const K=this._tiles[Y];K.hasSymbolBuckets&&!K.holdingForFade()?K.setHoldDuration(this.map._fadeDuration):K.hasSymbolBuckets&&!K.symbolFadeFinished()||this._removeTile(Y)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const c in this._tiles)this._tiles[c].holdingForFade()&&this._removeTile(c)}_updateRetainedTiles(c,p){const y={},_={},E=Math.max(p-Ne.maxOverzooming,this._source.minzoom),D=Math.max(p+Ne.maxUnderzooming,this._source.minzoom),L={};for(const U of c){const q=this._addTile(U);y[U.key]=U,q.hasData()||p<this._source.maxzoom&&(L[U.key]=U)}this._retainLoadedChildren(L,p,D,y);for(const U of c){let q=this._tiles[U.key];if(q.hasData())continue;if(p+1>this._source.maxzoom){const K=U.children(this._source.maxzoom)[0],re=this.getTile(K);if(re&&re.hasData()){y[K.key]=K;continue}}else{const K=U.children(this._source.maxzoom);if(y[K[0].key]&&y[K[1].key]&&y[K[2].key]&&y[K[3].key])continue}let Y=q.wasRequested();for(let K=U.overscaledZ-1;K>=E;--K){const re=U.scaledTo(K);if(_[re.key])break;if(_[re.key]=!0,q=this.getTile(re),!q&&Y&&(q=this._addTile(re)),q){const de=q.hasData();if((Y||de)&&(y[re.key]=re),Y=q.wasRequested(),de)break}}}return y}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const c in this._tiles){const p=[];let y,_=this._tiles[c].tileID;for(;_.overscaledZ>0;){if(_.key in this._loadedParentTiles){y=this._loadedParentTiles[_.key];break}p.push(_.key);const E=_.scaledTo(_.overscaledZ-1);if(y=this._getLoadedTile(E),y)break;_=E}for(const E of p)this._loadedParentTiles[E]=y}}_addTile(c){let p=this._tiles[c.key];if(p)return p;p=this._cache.getAndRemove(c),p&&(this._setTileReloadTimer(c.key,p),p.tileID=c,this._state.initializeTileState(p,this.map?this.map.painter:null),this._cacheTimers[c.key]&&(clearTimeout(this._cacheTimers[c.key]),delete this._cacheTimers[c.key],this._setTileReloadTimer(c.key,p)));const y=p;return p||(p=new xn(c,this._source.tileSize*c.overscaleFactor()),this._loadTile(p,this._tileLoaded.bind(this,p,c.key,p.state))),p.uses++,this._tiles[c.key]=p,y||this._source.fire(new a.Event("dataloading",{tile:p,coord:p.tileID,dataType:"source"})),p}_setTileReloadTimer(c,p){c in this._timers&&(clearTimeout(this._timers[c]),delete this._timers[c]);const y=p.getExpiryTimeout();y&&(this._timers[c]=setTimeout(()=>{this._reloadTile(c,"expired"),delete this._timers[c]},y))}_removeTile(c){const p=this._tiles[c];p&&(p.uses--,delete this._tiles[c],this._timers[c]&&(clearTimeout(this._timers[c]),delete this._timers[c]),p.uses>0||(p.hasData()&&p.state!=="reloading"?this._cache.add(p.tileID,p,p.getExpiryTimeout()):(p.aborted=!0,this._abortTile(p),this._unloadTile(p))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const c in this._tiles)this._removeTile(c);this._cache.reset()}tilesIn(c,p,y){const _=[],E=this.transform;if(!E)return _;const D=y?E.getCameraQueryGeometry(c):c,L=c.map(ce=>E.pointCoordinate(ce,this.terrain)),U=D.map(ce=>E.pointCoordinate(ce,this.terrain)),q=this.getIds();let Y=1/0,K=1/0,re=-1/0,de=-1/0;for(const ce of U)Y=Math.min(Y,ce.x),K=Math.min(K,ce.y),re=Math.max(re,ce.x),de=Math.max(de,ce.y);for(let ce=0;ce<q.length;ce++){const me=this._tiles[q[ce]];if(me.holdingForFade())continue;const le=me.tileID,Ae=Math.pow(2,E.zoom-me.tileID.overscaledZ),ze=p*me.queryPadding*a.EXTENT/me.tileSize/Ae,ve=[le.getTilePoint(new a.MercatorCoordinate(Y,K)),le.getTilePoint(new a.MercatorCoordinate(re,de))];if(ve[0].x-ze<a.EXTENT&&ve[0].y-ze<a.EXTENT&&ve[1].x+ze>=0&&ve[1].y+ze>=0){const Ie=L.map(Fe=>le.getTilePoint(Fe)),Be=U.map(Fe=>le.getTilePoint(Fe));_.push({tile:me,tileID:le,queryGeometry:Ie,cameraQueryGeometry:Be,scale:Ae})}}return _}getVisibleCoordinates(c){const p=this.getRenderableIds(c).map(y=>this._tiles[y].tileID);for(const y of p)y.posMatrix=this.transform.calculatePosMatrix(y.toUnwrapped());return p}hasTransition(){if(this._source.hasTransition())return!0;if(Hn(this._source.type)){const c=a.browser.now();for(const p in this._tiles)if(this._tiles[p].fadeEndTime>=c)return!0}return!1}setFeatureState(c,p,y){this._state.updateState(c=c||"_geojsonTileLayer",p,y)}removeFeatureState(c,p,y){this._state.removeFeatureState(c=c||"_geojsonTileLayer",p,y)}getFeatureState(c,p){return this._state.getState(c=c||"_geojsonTileLayer",p)}setDependencies(c,p,y){const _=this._tiles[c];_&&_.setDependencies(p,y)}reloadTilesForDependencies(c,p){for(const y in this._tiles)this._tiles[y].hasDependency(c,p)&&this._reloadTile(y,"reloading");this._cache.filter(y=>!y.hasDependency(c,p))}}function $n(w,c){const p=Math.abs(2*w.wrap)-+(w.wrap<0),y=Math.abs(2*c.wrap)-+(c.wrap<0);return w.overscaledZ-c.overscaledZ||y-p||c.canonical.y-w.canonical.y||c.canonical.x-w.canonical.x}function Hn(w){return w==="raster"||w==="image"||w==="video"}Ne.maxOverzooming=10,Ne.maxUnderzooming=3;const Dt="mapboxgl_preloaded_worker_pool";class Kt{constructor(){this.active={}}acquire(c){if(!this.workers)for(this.workers=[];this.workers.length<Kt.workerCount;)this.workers.push(new Worker(a.config.WORKER_URL));return this.active[c]=!0,this.workers.slice()}release(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach(p=>{p.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Dt]}numActive(){return Object.keys(this.active).length}}const ir=Math.floor(a.browser.hardwareConcurrency/2);let vr;function Ln(){return vr||(vr=new Kt),vr}Kt.workerCount=a.isSafari(globalThis)?Math.max(Math.min(ir,3),1):1;class rn{constructor(c,p){this.reset(c,p)}reset(c,p){this.points=c||[],this._distances=[0];for(let y=1;y<this.points.length;y++)this._distances[y]=this._distances[y-1]+this.points[y].dist(this.points[y-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(c){if(this.points.length===1)return this.points[0];c=a.clamp(c,0,1);let p=1,y=this._distances[p];const _=c*this.paddedLength+this.padding;for(;y<_&&p<this._distances.length;)y=this._distances[++p];const E=p-1,D=this._distances[E],L=y-D,U=L>0?(_-D)/L:0;return this.points[E].mult(1-U).add(this.points[p].mult(U))}}function Zn(w,c){let p=!0;return w==="always"||w!=="never"&&c!=="never"||(p=!1),p}class Ii{constructor(c,p,y){const _=this.boxCells=[],E=this.circleCells=[];this.xCellCount=Math.ceil(c/y),this.yCellCount=Math.ceil(p/y);for(let D=0;D<this.xCellCount*this.yCellCount;D++)_.push([]),E.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=p,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(c,p,y,_,E){this._forEachCell(p,y,_,E,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(p),this.bboxes.push(y),this.bboxes.push(_),this.bboxes.push(E)}insertCircle(c,p,y,_){this._forEachCell(p-_,y-_,p+_,y+_,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(p),this.circles.push(y),this.circles.push(_)}_insertBoxCell(c,p,y,_,E,D){this.boxCells[E].push(D)}_insertCircleCell(c,p,y,_,E,D){this.circleCells[E].push(D)}_query(c,p,y,_,E,D,L){if(y<0||c>this.width||_<0||p>this.height)return[];const U=[];if(c<=0&&p<=0&&this.width<=y&&this.height<=_){if(E)return[{key:null,x1:c,y1:p,x2:y,y2:_}];for(let q=0;q<this.boxKeys.length;q++)U.push({key:this.boxKeys[q],x1:this.bboxes[4*q],y1:this.bboxes[4*q+1],x2:this.bboxes[4*q+2],y2:this.bboxes[4*q+3]});for(let q=0;q<this.circleKeys.length;q++){const Y=this.circles[3*q],K=this.circles[3*q+1],re=this.circles[3*q+2];U.push({key:this.circleKeys[q],x1:Y-re,y1:K-re,x2:Y+re,y2:K+re})}}else this._forEachCell(c,p,y,_,this._queryCell,U,{hitTest:E,overlapMode:D,seenUids:{box:{},circle:{}}},L);return U}query(c,p,y,_){return this._query(c,p,y,_,!1,null)}hitTest(c,p,y,_,E,D){return this._query(c,p,y,_,!0,E,D).length>0}hitTestCircle(c,p,y,_,E){const D=c-y,L=c+y,U=p-y,q=p+y;if(L<0||D>this.width||q<0||U>this.height)return!1;const Y=[];return this._forEachCell(D,U,L,q,this._queryCellCircle,Y,{hitTest:!0,overlapMode:_,circle:{x:c,y:p,radius:y},seenUids:{box:{},circle:{}}},E),Y.length>0}_queryCell(c,p,y,_,E,D,L,U){const{seenUids:q,hitTest:Y,overlapMode:K}=L,re=this.boxCells[E];if(re!==null){const ce=this.bboxes;for(const me of re)if(!q.box[me]){q.box[me]=!0;const le=4*me,Ae=this.boxKeys[me];if(c<=ce[le+2]&&p<=ce[le+3]&&y>=ce[le+0]&&_>=ce[le+1]&&(!U||U(Ae))&&(!Y||!Zn(K,Ae.overlapMode))&&(D.push({key:Ae,x1:ce[le],y1:ce[le+1],x2:ce[le+2],y2:ce[le+3]}),Y))return!0}}const de=this.circleCells[E];if(de!==null){const ce=this.circles;for(const me of de)if(!q.circle[me]){q.circle[me]=!0;const le=3*me,Ae=this.circleKeys[me];if(this._circleAndRectCollide(ce[le],ce[le+1],ce[le+2],c,p,y,_)&&(!U||U(Ae))&&(!Y||!Zn(K,Ae.overlapMode))){const ze=ce[le],ve=ce[le+1],Ie=ce[le+2];if(D.push({key:Ae,x1:ze-Ie,y1:ve-Ie,x2:ze+Ie,y2:ve+Ie}),Y)return!0}}}return!1}_queryCellCircle(c,p,y,_,E,D,L,U){const{circle:q,seenUids:Y,overlapMode:K}=L,re=this.boxCells[E];if(re!==null){const ce=this.bboxes;for(const me of re)if(!Y.box[me]){Y.box[me]=!0;const le=4*me,Ae=this.boxKeys[me];if(this._circleAndRectCollide(q.x,q.y,q.radius,ce[le+0],ce[le+1],ce[le+2],ce[le+3])&&(!U||U(Ae))&&!Zn(K,Ae.overlapMode))return D.push(!0),!0}}const de=this.circleCells[E];if(de!==null){const ce=this.circles;for(const me of de)if(!Y.circle[me]){Y.circle[me]=!0;const le=3*me,Ae=this.circleKeys[me];if(this._circlesCollide(ce[le],ce[le+1],ce[le+2],q.x,q.y,q.radius)&&(!U||U(Ae))&&!Zn(K,Ae.overlapMode))return D.push(!0),!0}}}_forEachCell(c,p,y,_,E,D,L,U){const q=this._convertToXCellCoord(c),Y=this._convertToYCellCoord(p),K=this._convertToXCellCoord(y),re=this._convertToYCellCoord(_);for(let de=q;de<=K;de++)for(let ce=Y;ce<=re;ce++)if(E.call(this,c,p,y,_,this.xCellCount*ce+de,D,L,U))return}_convertToXCellCoord(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))}_convertToYCellCoord(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))}_circlesCollide(c,p,y,_,E,D){const L=_-c,U=E-p,q=y+D;return q*q>L*L+U*U}_circleAndRectCollide(c,p,y,_,E,D,L){const U=(D-_)/2,q=Math.abs(c-(_+U));if(q>U+y)return!1;const Y=(L-E)/2,K=Math.abs(p-(E+Y));if(K>Y+y)return!1;if(q<=U||K<=Y)return!0;const re=q-U,de=K-Y;return re*re+de*de<=y*y}}function mi(w,c,p,y,_){const E=a.create();return c?(a.scale(E,E,[1/_,1/_,1]),p||a.rotateZ(E,E,y.angle)):a.multiply(E,y.labelPlaneMatrix,w),E}function Ue(w,c,p,y,_){if(c){const E=a.clone(w);return a.scale(E,E,[_,_,1]),p||a.rotateZ(E,E,-y.angle),E}return y.glCoordMatrix}function un(w,c,p){let y;p?(y=[w.x,w.y,p(w.x,w.y),1],a.transformMat4(y,y,c)):(y=[w.x,w.y,0,1],se(y,y,c));const _=y[3];return{point:new a.Point(y[0]/_,y[1]/_),signedDistanceFromCamera:_}}function Rn(w,c){return .5+w/c*.5}function ki(w,c){const p=w[0]/w[3],y=w[1]/w[3];return p>=-c[0]&&p<=c[0]&&y>=-c[1]&&y<=c[1]}function qi(w,c,p,y,_,E,D,L,U,q){const Y=y?w.textSizeData:w.iconSizeData,K=a.evaluateSizeForZoom(Y,p.transform.zoom),re=[256/p.width*2+1,256/p.height*2+1],de=y?w.text.dynamicLayoutVertexArray:w.icon.dynamicLayoutVertexArray;de.clear();const ce=w.lineVertexArray,me=y?w.text.placedSymbolArray:w.icon.placedSymbolArray,le=p.transform.width/p.transform.height;let Ae=!1;for(let ze=0;ze<me.length;ze++){const ve=me.get(ze);if(ve.hidden||ve.writingMode===a.WritingMode.vertical&&!Ae){ne(ve.numGlyphs,de);continue}let Ie;if(Ae=!1,q?(Ie=[ve.anchorX,ve.anchorY,q(ve.anchorX,ve.anchorY),1],a.transformMat4(Ie,Ie,c)):(Ie=[ve.anchorX,ve.anchorY,0,1],se(Ie,Ie,c)),!ki(Ie,re)){ne(ve.numGlyphs,de);continue}const Be=Rn(p.transform.cameraToCenterDistance,Ie[3]),Fe=a.evaluateSizeForFeature(Y,K,ve),Ke=D?Fe/Be:Fe*Be,nt=new a.Point(ve.anchorX,ve.anchorY),tt=un(nt,_,q).point,at={projections:{},offsets:{}},$t=fn(ve,Ke,!1,L,c,_,E,w.glyphOffsetArray,ce,de,tt,nt,at,le,U,q);Ae=$t.useVertical,($t.notEnoughRoom||Ae||$t.needsFlipping&&fn(ve,Ke,!0,L,c,_,E,w.glyphOffsetArray,ce,de,tt,nt,at,le,U,q).notEnoughRoom)&&ne(ve.numGlyphs,de)}y?w.text.dynamicLayoutVertexBuffer.updateData(de):w.icon.dynamicLayoutVertexBuffer.updateData(de)}function lt(w,c,p,y,_,E,D,L,U,q,Y,K,re){const de=L.glyphStartIndex+L.numGlyphs,ce=L.lineStartIndex,me=L.lineStartIndex+L.lineLength,le=c.getoffsetX(L.glyphStartIndex),Ae=c.getoffsetX(de-1),ze=fe(w*le,p,y,_,E,D,L.segment,ce,me,U,q,Y,K,re);if(!ze)return null;const ve=fe(w*Ae,p,y,_,E,D,L.segment,ce,me,U,q,Y,K,re);return ve?{first:ze,last:ve}:null}function dn(w,c,p,y){return w===a.WritingMode.horizontal&&Math.abs(p.y-c.y)>Math.abs(p.x-c.x)*y?{useVertical:!0}:(w===a.WritingMode.vertical?c.y<p.y:c.x>p.x)?{needsFlipping:!0}:null}function fn(w,c,p,y,_,E,D,L,U,q,Y,K,re,de,ce,me){const le=c/24,Ae=w.lineOffsetX*le,ze=w.lineOffsetY*le;let ve;if(w.numGlyphs>1){const Ie=w.glyphStartIndex+w.numGlyphs,Be=w.lineStartIndex,Fe=w.lineStartIndex+w.lineLength,Ke=lt(le,L,Ae,ze,p,Y,K,w,U,E,re,ce,me);if(!Ke)return{notEnoughRoom:!0};const nt=un(Ke.first.point,D,me).point,tt=un(Ke.last.point,D,me).point;if(y&&!p){const at=dn(w.writingMode,nt,tt,de);if(at)return at}ve=[Ke.first];for(let at=w.glyphStartIndex+1;at<Ie-1;at++)ve.push(fe(le*L.getoffsetX(at),Ae,ze,p,Y,K,w.segment,Be,Fe,U,E,re,ce,me));ve.push(Ke.last)}else{if(y&&!p){const Be=un(K,_,me).point,Fe=w.lineStartIndex+w.segment+1,Ke=new a.Point(U.getx(Fe),U.gety(Fe)),nt=un(Ke,_,me),tt=nt.signedDistanceFromCamera>0?nt.point:$i(K,Ke,Be,1,_,me),at=dn(w.writingMode,Be,tt,de);if(at)return at}const Ie=fe(le*L.getoffsetX(w.glyphStartIndex),Ae,ze,p,Y,K,w.segment,w.lineStartIndex,w.lineStartIndex+w.lineLength,U,E,re,ce,me);if(!Ie)return{notEnoughRoom:!0};ve=[Ie]}for(const Ie of ve)a.addDynamicAttributes(q,Ie.point,Ie.angle);return{}}function $i(w,c,p,y,_,E){const D=un(w.add(w.sub(c)._unit()),_,E).point,L=p.sub(D);return p.add(L._mult(y/L.mag()))}function Vo(w,c){const{projectionCache:p,lineVertexArray:y,labelPlaneMatrix:_,tileAnchorPoint:E,distanceFromAnchor:D,getElevation:L,previousVertex:U,direction:q,absOffsetX:Y}=c;if(p.projections[w])return p.projections[w];const K=new a.Point(y.getx(w),y.gety(w)),re=un(K,_,L);if(re.signedDistanceFromCamera>0)return p.projections[w]=re.point,re.point;const de=w-q;return $i(D===0?E:new a.Point(y.getx(de),y.gety(de)),K,U,Y-D+1,_,L)}function sn(w,c,p){return w._unit()._perp()._mult(c*p)}function os(w,c,p,y,_,E,D,L){const{projectionCache:U,direction:q}=L;if(U.offsets[w])return U.offsets[w];const Y=p.add(c);if(w+q<y||w+q>=_)return U.offsets[w]=Y,Y;const K=Vo(w+q,L),re=sn(K.sub(p),D,q),de=p.add(re),ce=K.add(re);return U.offsets[w]=a.findLineIntersection(E,Y,de,ce)||Y,U.offsets[w]}function fe(w,c,p,y,_,E,D,L,U,q,Y,K,re,de){const ce=y?w-c:w+c;let me=ce>0?1:-1,le=0;y&&(me*=-1,le=Math.PI),me<0&&(le+=Math.PI);let Ae,ze,ve=me>0?L+D:L+D+1,Ie=_,Be=_,Fe=0,Ke=0;const nt=Math.abs(ce),tt=[];let at;for(;Fe+Ke<=nt;){if(ve+=me,ve<L||ve>=U)return null;Fe+=Ke,Be=Ie,ze=Ae;const bt={projectionCache:K,lineVertexArray:q,labelPlaneMatrix:Y,tileAnchorPoint:E,distanceFromAnchor:Fe,getElevation:de,previousVertex:Be,direction:me,absOffsetX:nt};if(Ie=Vo(ve,bt),p===0)tt.push(Be),at=Ie.sub(Be);else{let Jt;const Nt=Ie.sub(Be);Jt=Nt.mag()===0?sn(Vo(ve+me,bt).sub(Ie),p,me):sn(Nt,p,me),ze||(ze=Be.add(Jt)),Ae=os(ve,Jt,Ie,L,U,ze,p,bt),tt.push(ze),at=Ae.sub(ze)}Ke=at.mag()}const $t=at._mult((nt-Fe)/Ke)._add(ze||Be),_n=le+Math.atan2(Ie.y-Be.y,Ie.x-Be.x);return tt.push($t),{point:$t,angle:re?_n:0,path:tt}}const X=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ne(w,c){for(let p=0;p<w;p++){const y=c.length;c.resize(y+4),c.float32.set(X,3*y)}}function se(w,c,p){const y=c[0],_=c[1];return w[0]=p[0]*y+p[4]*_+p[12],w[1]=p[1]*y+p[5]*_+p[13],w[3]=p[3]*y+p[7]*_+p[15],w}const he=100;class be{constructor(c,p=new Ii(c.width+200,c.height+200,25),y=new Ii(c.width+200,c.height+200,25)){this.transform=c,this.grid=p,this.ignoredGrid=y,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+he,this.screenBottomBoundary=c.height+he,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(c,p,y,_,E,D){const L=this.projectAndGetPerspectiveRatio(_,c.anchorPointX,c.anchorPointY,D),U=y*L.perspectiveRatio,q=c.x1*U+L.point.x,Y=c.y1*U+L.point.y,K=c.x2*U+L.point.x,re=c.y2*U+L.point.y;return!this.isInsideGrid(q,Y,K,re)||p!=="always"&&this.grid.hitTest(q,Y,K,re,p,E)||L.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[q,Y,K,re],offscreen:this.isOffscreen(q,Y,K,re)}}placeCollisionCircles(c,p,y,_,E,D,L,U,q,Y,K,re,de,ce){const me=[],le=new a.Point(p.anchorX,p.anchorY),Ae=un(le,D,ce),ze=Rn(this.transform.cameraToCenterDistance,Ae.signedDistanceFromCamera),ve=(Y?E/ze:E*ze)/a.ONE_EM,Ie=un(le,L,ce).point,Be=lt(ve,_,p.lineOffsetX*ve,p.lineOffsetY*ve,!1,Ie,le,p,y,L,{projections:{},offsets:{}},!1,ce);let Fe=!1,Ke=!1,nt=!0;if(Be){const tt=.5*re*ze+de,at=new a.Point(-100,-100),$t=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),_n=new rn,bt=Be.first,Jt=Be.last;let Nt=[];for(let gn=bt.path.length-1;gn>=1;gn--)Nt.push(bt.path[gn]);for(let gn=1;gn<Jt.path.length;gn++)Nt.push(Jt.path[gn]);const Pr=2.5*tt;if(U){const gn=Nt.map(wn=>un(wn,U,ce));Nt=gn.some(wn=>wn.signedDistanceFromCamera<=0)?[]:gn.map(wn=>wn.point)}let pn=[];if(Nt.length>0){const gn=Nt[0].clone(),wn=Nt[0].clone();for(let Jr=1;Jr<Nt.length;Jr++)gn.x=Math.min(gn.x,Nt[Jr].x),gn.y=Math.min(gn.y,Nt[Jr].y),wn.x=Math.max(wn.x,Nt[Jr].x),wn.y=Math.max(wn.y,Nt[Jr].y);pn=gn.x>=at.x&&wn.x<=$t.x&&gn.y>=at.y&&wn.y<=$t.y?[Nt]:wn.x<at.x||gn.x>$t.x||wn.y<at.y||gn.y>$t.y?[]:a.clipLine([Nt],at.x,at.y,$t.x,$t.y)}for(const gn of pn){_n.reset(gn,.25*tt);let wn=0;wn=_n.length<=.5*tt?1:Math.ceil(_n.paddedLength/Pr)+1;for(let Jr=0;Jr<wn;Jr++){const cr=Jr/Math.max(wn-1,1),ma=_n.lerp(cr),Wr=ma.x+he,Lr=ma.y+he;me.push(Wr,Lr,tt,0);const Xo=Wr-tt,ds=Lr-tt,Or=Wr+tt,Il=Lr+tt;if(nt=nt&&this.isOffscreen(Xo,ds,Or,Il),Ke=Ke||this.isInsideGrid(Xo,ds,Or,Il),c!=="always"&&this.grid.hitTestCircle(Wr,Lr,tt,c,K)&&(Fe=!0,!q))return{circles:[],offscreen:!1,collisionDetected:Fe}}}}return{circles:!q&&Fe||!Ke||ze<this.perspectiveRatioCutoff?[]:me,offscreen:nt,collisionDetected:Fe}}queryRenderedSymbols(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const p=[];let y=1/0,_=1/0,E=-1/0,D=-1/0;for(const Y of c){const K=new a.Point(Y.x+he,Y.y+he);y=Math.min(y,K.x),_=Math.min(_,K.y),E=Math.max(E,K.x),D=Math.max(D,K.y),p.push(K)}const L=this.grid.query(y,_,E,D).concat(this.ignoredGrid.query(y,_,E,D)),U={},q={};for(const Y of L){const K=Y.key;if(U[K.bucketInstanceId]===void 0&&(U[K.bucketInstanceId]={}),U[K.bucketInstanceId][K.featureIndex])continue;const re=[new a.Point(Y.x1,Y.y1),new a.Point(Y.x2,Y.y1),new a.Point(Y.x2,Y.y2),new a.Point(Y.x1,Y.y2)];a.polygonIntersectsPolygon(p,re)&&(U[K.bucketInstanceId][K.featureIndex]=!0,q[K.bucketInstanceId]===void 0&&(q[K.bucketInstanceId]=[]),q[K.bucketInstanceId].push(K.featureIndex))}return q}insertCollisionBox(c,p,y,_,E,D){(y?this.ignoredGrid:this.grid).insert({bucketInstanceId:_,featureIndex:E,collisionGroupID:D,overlapMode:p},c[0],c[1],c[2],c[3])}insertCollisionCircles(c,p,y,_,E,D){const L=y?this.ignoredGrid:this.grid,U={bucketInstanceId:_,featureIndex:E,collisionGroupID:D,overlapMode:p};for(let q=0;q<c.length;q+=4)L.insertCircle(U,c[q],c[q+1],c[q+2])}projectAndGetPerspectiveRatio(c,p,y,_){let E;return _?(E=[p,y,_(p,y),1],a.transformMat4(E,E,c)):(E=[p,y,0,1],se(E,E,c)),{point:new a.Point((E[0]/E[3]+1)/2*this.transform.width+he,(-E[1]/E[3]+1)/2*this.transform.height+he),perspectiveRatio:.5+this.transform.cameraToCenterDistance/E[3]*.5}}isOffscreen(c,p,y,_){return y<he||c>=this.screenRightBoundary||_<he||p>this.screenBottomBoundary}isInsideGrid(c,p,y,_){return y>=0&&c<this.gridRightBoundary&&_>=0&&p<this.gridBottomBoundary}getViewportMatrix(){const c=a.identity([]);return a.translate(c,c,[-100,-100,0]),c}}function Me(w,c,p){return c*(a.EXTENT/(w.tileSize*Math.pow(2,p-w.tileID.overscaledZ)))}class ke{constructor(c,p,y,_){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?p:-p))):_&&y?1:0,this.placed=y}isHidden(){return this.opacity===0&&!this.placed}}class _e{constructor(c,p,y,_,E){this.text=new ke(c?c.text:null,p,y,E),this.icon=new ke(c?c.icon:null,p,_,E)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class $e{constructor(c,p,y){this.text=c,this.icon=p,this.skipFade=y}}class qe{constructor(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]}}class He{constructor(c,p,y,_,E){this.bucketInstanceId=c,this.featureIndex=p,this.sourceLayerIndex=y,this.bucketIndex=_,this.tileID=E}}class Xe{constructor(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}}get(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){const p=++this.maxGroupID;this.collisionGroups[c]={ID:p,predicate:y=>y.collisionGroupID===p}}return this.collisionGroups[c]}}function Lt(w,c,p,y,_){const{horizontalAlign:E,verticalAlign:D}=a.getAnchorAlignment(w);return new a.Point(-(E-.5)*c+y[0]*_,-(D-.5)*p+y[1]*_)}function Xt(w,c,p,y,_,E){const{x1:D,x2:L,y1:U,y2:q,anchorPointX:Y,anchorPointY:K}=w,re=new a.Point(c,p);return y&&re._rotate(_?E:-E),{x1:D+re.x,y1:U+re.y,x2:L+re.x,y2:q+re.y,anchorPointX:Y,anchorPointY:K}}class It{constructor(c,p,y,_,E){this.transform=c.clone(),this.terrain=p,this.collisionIndex=new be(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=y,this.retainedQueryData={},this.collisionGroups=new Xe(_),this.collisionCircleArrays={},this.prevPlacement=E,E&&(E.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(c,p,y,_){const E=y.getBucket(p),D=y.latestFeatureIndex;if(!E||!D||p.id!==E.layerIds[0])return;const L=y.collisionBoxArray,U=E.layers[0].layout,q=Math.pow(2,this.transform.zoom-y.tileID.overscaledZ),Y=y.tileSize/a.EXTENT,K=this.transform.calculatePosMatrix(y.tileID.toUnwrapped()),re=U.get("text-pitch-alignment")==="map",de=U.get("text-rotation-alignment")==="map",ce=Me(y,1,this.transform.zoom),me=mi(K,re,de,this.transform,ce);let le=null;if(re){const ze=Ue(K,re,de,this.transform,ce);le=a.multiply([],this.transform.labelPlaneMatrix,ze)}this.retainedQueryData[E.bucketInstanceId]=new He(E.bucketInstanceId,D,E.sourceLayerIndex,E.index,y.tileID);const Ae={bucket:E,layout:U,posMatrix:K,textLabelPlaneMatrix:me,labelToScreenMatrix:le,scale:q,textPixelRatio:Y,holdingForFade:y.holdingForFade(),collisionBoxArray:L,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(E.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(E.sourceID)};if(_)for(const ze of E.sortKeyRanges){const{sortKey:ve,symbolInstanceStart:Ie,symbolInstanceEnd:Be}=ze;c.push({sortKey:ve,symbolInstanceStart:Ie,symbolInstanceEnd:Be,parameters:Ae})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:E.symbolInstances.length,parameters:Ae})}attemptAnchorPlacement(c,p,y,_,E,D,L,U,q,Y,K,re,de,ce,me,le){const Ae=a.TextAnchorEnum[c.textAnchor],ze=[c.textOffset0,c.textOffset1],ve=Lt(Ae,y,_,ze,E),Ie=this.collisionIndex.placeCollisionBox(Xt(p,ve.x,ve.y,D,L,this.transform.angle),K,U,q,Y.predicate,le);if((!me||this.collisionIndex.placeCollisionBox(Xt(me,ve.x,ve.y,D,L,this.transform.angle),K,U,q,Y.predicate,le).box.length!==0)&&Ie.box.length>0){let Be;if(this.prevPlacement&&this.prevPlacement.variableOffsets[re.crossTileID]&&this.prevPlacement.placements[re.crossTileID]&&this.prevPlacement.placements[re.crossTileID].text&&(Be=this.prevPlacement.variableOffsets[re.crossTileID].anchor),re.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[re.crossTileID]={textOffset:ze,width:y,height:_,anchor:Ae,textBoxScale:E,prevAnchor:Be},this.markUsedJustification(de,Ae,re,ce),de.allowVerticalPlacement&&(this.markUsedOrientation(de,ce,re),this.placedOrientations[re.crossTileID]=ce),{shift:ve,placedGlyphBoxes:Ie}}}placeLayerBucketPart(c,p,y){const{bucket:_,layout:E,posMatrix:D,textLabelPlaneMatrix:L,labelToScreenMatrix:U,textPixelRatio:q,holdingForFade:Y,collisionBoxArray:K,partiallyEvaluatedTextSize:re,collisionGroup:de}=c.parameters,ce=E.get("text-optional"),me=E.get("icon-optional"),le=a.getOverlapMode(E,"text-overlap","text-allow-overlap"),Ae=le==="always",ze=a.getOverlapMode(E,"icon-overlap","icon-allow-overlap"),ve=ze==="always",Ie=E.get("text-rotation-alignment")==="map",Be=E.get("text-pitch-alignment")==="map",Fe=E.get("icon-text-fit")!=="none",Ke=E.get("symbol-z-order")==="viewport-y",nt=Ae&&(ve||!_.hasIconData()||me),tt=ve&&(Ae||!_.hasTextData()||ce);!_.collisionArrays&&K&&_.deserializeCollisionBoxes(K);const at=this.retainedQueryData[_.bucketInstanceId].tileID,$t=this.terrain?(bt,Jt)=>this.terrain.getElevation(at,bt,Jt):null,_n=(bt,Jt)=>{var Nt,Pr;if(p[bt.crossTileID])return;if(Y)return void(this.placements[bt.crossTileID]=new $e(!1,!1,!1));let pn=!1,gn=!1,wn=!0,Jr=null,cr={box:null,offscreen:null},ma={box:null,offscreen:null},Wr=null,Lr=null,Xo=null,ds=0,Or=0,Il=0;Jt.textFeatureIndex?ds=Jt.textFeatureIndex:bt.useRuntimeCollisionCircles&&(ds=bt.featureIndex),Jt.verticalTextFeatureIndex&&(Or=Jt.verticalTextFeatureIndex);const $l=Jt.textBox;if($l){const ao=Qr=>{let ei=a.WritingMode.horizontal;if(_.allowVerticalPlacement&&!Qr&&this.prevPlacement){const Jo=this.prevPlacement.placedOrientations[bt.crossTileID];Jo&&(this.placedOrientations[bt.crossTileID]=Jo,ei=Jo,this.markUsedOrientation(_,ei,bt))}return ei},Di=(Qr,ei)=>{if(_.allowVerticalPlacement&&bt.numVerticalGlyphVertices>0&&Jt.verticalTextBox){for(const Jo of _.writingModes)if(Jo===a.WritingMode.vertical?(cr=ei(),ma=cr):cr=Qr(),cr&&cr.box&&cr.box.length)break}else cr=Qr()},Gi=bt.textAnchorOffsetStartIndex,pf=bt.textAnchorOffsetEndIndex;if(pf===Gi){const Qr=(ei,Jo)=>{const ti=this.collisionIndex.placeCollisionBox(ei,le,q,D,de.predicate,$t);return ti&&ti.box&&ti.box.length&&(this.markUsedOrientation(_,Jo,bt),this.placedOrientations[bt.crossTileID]=Jo),ti};Di(()=>Qr($l,a.WritingMode.horizontal),()=>{const ei=Jt.verticalTextBox;return _.allowVerticalPlacement&&bt.numVerticalGlyphVertices>0&&ei?Qr(ei,a.WritingMode.vertical):{box:null,offscreen:null}}),ao(cr&&cr.box&&cr.box.length)}else{let Qr=a.TextAnchorEnum[(Pr=(Nt=this.prevPlacement)===null||Nt===void 0?void 0:Nt.variableOffsets[bt.crossTileID])===null||Pr===void 0?void 0:Pr.anchor];const ei=(ti,sp,xc)=>{const lp=ti.x2-ti.x1,a_=ti.y2-ti.y1,s_=bt.textBoxScale,tT=Fe&&ze==="never"?sp:null;let Rl={box:[],offscreen:!1},Iu=le==="never"?1:2,_c="never";Qr&&Iu++;for(let fs=0;fs<Iu;fs++){for(let Qo=Gi;Qo<pf;Qo++){const Ys=_.textAnchorOffsets.get(Qo);if(Qr&&Ys.textAnchor!==Qr)continue;const cp=this.attemptAnchorPlacement(Ys,ti,lp,a_,s_,Ie,Be,q,D,de,_c,bt,_,xc,tT,$t);if(cp&&(Rl=cp.placedGlyphBoxes,Rl&&Rl.box&&Rl.box.length))return pn=!0,Jr=cp.shift,Rl}Qr?Qr=null:_c=le}return Rl};Di(()=>ei($l,Jt.iconBox,a.WritingMode.horizontal),()=>{const ti=Jt.verticalTextBox;return _.allowVerticalPlacement&&!(cr&&cr.box&&cr.box.length)&&bt.numVerticalGlyphVertices>0&&ti?ei(ti,Jt.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}}),cr&&(pn=cr.box,wn=cr.offscreen);const Jo=ao(cr&&cr.box);if(!pn&&this.prevPlacement){const ti=this.prevPlacement.variableOffsets[bt.crossTileID];ti&&(this.variableOffsets[bt.crossTileID]=ti,this.markUsedJustification(_,ti.anchor,bt,Jo))}}}if(Wr=cr,pn=Wr&&Wr.box&&Wr.box.length>0,wn=Wr&&Wr.offscreen,bt.useRuntimeCollisionCircles){const ao=_.text.placedSymbolArray.get(bt.centerJustifiedTextSymbolIndex),Di=a.evaluateSizeForFeature(_.textSizeData,re,ao),Gi=E.get("text-padding");Lr=this.collisionIndex.placeCollisionCircles(le,ao,_.lineVertexArray,_.glyphOffsetArray,Di,D,L,U,y,Be,de.predicate,bt.collisionCircleDiameter,Gi,$t),Lr.circles.length&&Lr.collisionDetected&&!y&&a.warnOnce("Collisions detected, but collision boxes are not shown"),pn=Ae||Lr.circles.length>0&&!Lr.collisionDetected,wn=wn&&Lr.offscreen}if(Jt.iconFeatureIndex&&(Il=Jt.iconFeatureIndex),Jt.iconBox){const ao=Di=>{const Gi=Fe&&Jr?Xt(Di,Jr.x,Jr.y,Ie,Be,this.transform.angle):Di;return this.collisionIndex.placeCollisionBox(Gi,ze,q,D,de.predicate,$t)};ma&&ma.box&&ma.box.length&&Jt.verticalIconBox?(Xo=ao(Jt.verticalIconBox),gn=Xo.box.length>0):(Xo=ao(Jt.iconBox),gn=Xo.box.length>0),wn=wn&&Xo.offscreen}const Hs=ce||bt.numHorizontalGlyphVertices===0&&bt.numVerticalGlyphVertices===0,bc=me||bt.numIconVertices===0;if(Hs||bc?bc?Hs||(gn=gn&&pn):pn=gn&&pn:gn=pn=gn&&pn,pn&&Wr&&Wr.box&&this.collisionIndex.insertCollisionBox(Wr.box,le,E.get("text-ignore-placement"),_.bucketInstanceId,ma&&ma.box&&Or?Or:ds,de.ID),gn&&Xo&&this.collisionIndex.insertCollisionBox(Xo.box,ze,E.get("icon-ignore-placement"),_.bucketInstanceId,Il,de.ID),Lr&&(pn&&this.collisionIndex.insertCollisionCircles(Lr.circles,le,E.get("text-ignore-placement"),_.bucketInstanceId,ds,de.ID),y)){const ao=_.bucketInstanceId;let Di=this.collisionCircleArrays[ao];Di===void 0&&(Di=this.collisionCircleArrays[ao]=new qe);for(let Gi=0;Gi<Lr.circles.length;Gi+=4)Di.circles.push(Lr.circles[Gi+0]),Di.circles.push(Lr.circles[Gi+1]),Di.circles.push(Lr.circles[Gi+2]),Di.circles.push(Lr.collisionDetected?1:0)}if(bt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(_.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[bt.crossTileID]=new $e(pn||nt,gn||tt,wn||_.justReloaded),p[bt.crossTileID]=!0};if(Ke){if(c.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const bt=_.getSortedSymbolIndexes(this.transform.angle);for(let Jt=bt.length-1;Jt>=0;--Jt){const Nt=bt[Jt];_n(_.symbolInstances.get(Nt),_.collisionArrays[Nt])}}else for(let bt=c.symbolInstanceStart;bt<c.symbolInstanceEnd;bt++)_n(_.symbolInstances.get(bt),_.collisionArrays[bt]);if(y&&_.bucketInstanceId in this.collisionCircleArrays){const bt=this.collisionCircleArrays[_.bucketInstanceId];a.invert(bt.invProjMatrix,D),bt.viewportMatrix=this.collisionIndex.getViewportMatrix()}_.justReloaded=!1}markUsedJustification(c,p,y,_){let E;E=_===a.WritingMode.vertical?y.verticalPlacedTextSymbolIndex:{left:y.leftJustifiedTextSymbolIndex,center:y.centerJustifiedTextSymbolIndex,right:y.rightJustifiedTextSymbolIndex}[a.getAnchorJustification(p)];const D=[y.leftJustifiedTextSymbolIndex,y.centerJustifiedTextSymbolIndex,y.rightJustifiedTextSymbolIndex,y.verticalPlacedTextSymbolIndex];for(const L of D)L>=0&&(c.text.placedSymbolArray.get(L).crossTileID=E>=0&&L!==E?0:y.crossTileID)}markUsedOrientation(c,p,y){const _=p===a.WritingMode.horizontal||p===a.WritingMode.horizontalOnly?p:0,E=p===a.WritingMode.vertical?p:0,D=[y.leftJustifiedTextSymbolIndex,y.centerJustifiedTextSymbolIndex,y.rightJustifiedTextSymbolIndex];for(const L of D)c.text.placedSymbolArray.get(L).placedOrientation=_;y.verticalPlacedTextSymbolIndex&&(c.text.placedSymbolArray.get(y.verticalPlacedTextSymbolIndex).placedOrientation=E)}commit(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;const p=this.prevPlacement;let y=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;const _=p?p.symbolFadeChange(c):1,E=p?p.opacities:{},D=p?p.variableOffsets:{},L=p?p.placedOrientations:{};for(const U in this.placements){const q=this.placements[U],Y=E[U];Y?(this.opacities[U]=new _e(Y,_,q.text,q.icon),y=y||q.text!==Y.text.placed||q.icon!==Y.icon.placed):(this.opacities[U]=new _e(null,_,q.text,q.icon,q.skipFade),y=y||q.text||q.icon)}for(const U in E){const q=E[U];if(!this.opacities[U]){const Y=new _e(q,_,!1,!1);Y.isHidden()||(this.opacities[U]=Y,y=y||q.text.placed||q.icon.placed)}}for(const U in D)this.variableOffsets[U]||!this.opacities[U]||this.opacities[U].isHidden()||(this.variableOffsets[U]=D[U]);for(const U in L)this.placedOrientations[U]||!this.opacities[U]||this.opacities[U].isHidden()||(this.placedOrientations[U]=L[U]);if(p&&p.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");y?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:c)}updateLayerOpacities(c,p){const y={};for(const _ of p){const E=_.getBucket(c);E&&_.latestFeatureIndex&&c.id===E.layerIds[0]&&this.updateBucketOpacities(E,y,_.collisionBoxArray)}}updateBucketOpacities(c,p,y){c.hasTextData()&&(c.text.opacityVertexArray.clear(),c.text.hasVisibleVertices=!1),c.hasIconData()&&(c.icon.opacityVertexArray.clear(),c.icon.hasVisibleVertices=!1),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();const _=c.layers[0],E=_.layout,D=new _e(null,0,!1,!1,!0),L=E.get("text-allow-overlap"),U=E.get("icon-allow-overlap"),q=_._unevaluatedLayout.hasValue("text-variable-anchor")||_._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Y=E.get("text-rotation-alignment")==="map",K=E.get("text-pitch-alignment")==="map",re=E.get("icon-text-fit")!=="none",de=new _e(null,0,L&&(U||!c.hasIconData()||E.get("icon-optional")),U&&(L||!c.hasTextData()||E.get("text-optional")),!0);!c.collisionArrays&&y&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(y);const ce=(me,le,Ae)=>{for(let ze=0;ze<le/4;ze++)me.opacityVertexArray.emplaceBack(Ae);me.hasVisibleVertices=me.hasVisibleVertices||Ae!==li};for(let me=0;me<c.symbolInstances.length;me++){const le=c.symbolInstances.get(me),{numHorizontalGlyphVertices:Ae,numVerticalGlyphVertices:ze,crossTileID:ve}=le;let Ie=this.opacities[ve];p[ve]?Ie=D:Ie||(Ie=de,this.opacities[ve]=Ie),p[ve]=!0;const Be=le.numIconVertices>0,Fe=this.placedOrientations[le.crossTileID],Ke=Fe===a.WritingMode.vertical,nt=Fe===a.WritingMode.horizontal||Fe===a.WritingMode.horizontalOnly;if(Ae>0||ze>0){const tt=Bn(Ie.text);ce(c.text,Ae,Ke?li:tt),ce(c.text,ze,nt?li:tt);const at=Ie.text.isHidden();[le.rightJustifiedTextSymbolIndex,le.centerJustifiedTextSymbolIndex,le.leftJustifiedTextSymbolIndex].forEach(bt=>{bt>=0&&(c.text.placedSymbolArray.get(bt).hidden=at||Ke?1:0)}),le.verticalPlacedTextSymbolIndex>=0&&(c.text.placedSymbolArray.get(le.verticalPlacedTextSymbolIndex).hidden=at||nt?1:0);const $t=this.variableOffsets[le.crossTileID];$t&&this.markUsedJustification(c,$t.anchor,le,Fe);const _n=this.placedOrientations[le.crossTileID];_n&&(this.markUsedJustification(c,"left",le,_n),this.markUsedOrientation(c,_n,le))}if(Be){const tt=Bn(Ie.icon),at=!(re&&le.verticalPlacedIconSymbolIndex&&Ke);le.placedIconSymbolIndex>=0&&(ce(c.icon,le.numIconVertices,at?tt:li),c.icon.placedSymbolArray.get(le.placedIconSymbolIndex).hidden=Ie.icon.isHidden()),le.verticalPlacedIconSymbolIndex>=0&&(ce(c.icon,le.numVerticalIconVertices,at?li:tt),c.icon.placedSymbolArray.get(le.verticalPlacedIconSymbolIndex).hidden=Ie.icon.isHidden())}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){const tt=c.collisionArrays[me];if(tt){let at=new a.Point(0,0);if(tt.textBox||tt.verticalTextBox){let _n=!0;if(q){const bt=this.variableOffsets[ve];bt?(at=Lt(bt.anchor,bt.width,bt.height,bt.textOffset,bt.textBoxScale),Y&&at._rotate(K?this.transform.angle:-this.transform.angle)):_n=!1}tt.textBox&&jt(c.textCollisionBox.collisionVertexArray,Ie.text.placed,!_n||Ke,at.x,at.y),tt.verticalTextBox&&jt(c.textCollisionBox.collisionVertexArray,Ie.text.placed,!_n||nt,at.x,at.y)}const $t=!!(!nt&&tt.verticalIconBox);tt.iconBox&&jt(c.iconCollisionBox.collisionVertexArray,Ie.icon.placed,$t,re?at.x:0,re?at.y:0),tt.verticalIconBox&&jt(c.iconCollisionBox.collisionVertexArray,Ie.icon.placed,!$t,re?at.x:0,re?at.y:0)}}}if(c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.text.opacityVertexArray.length!==c.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${c.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${c.text.layoutVertexArray.length}) / 4`);if(c.icon.opacityVertexArray.length!==c.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${c.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${c.icon.layoutVertexArray.length}) / 4`);if(c.bucketInstanceId in this.collisionCircleArrays){const me=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=me.invProjMatrix,c.placementViewportMatrix=me.viewportMatrix,c.collisionCircleArray=me.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}}symbolFadeChange(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(c){return Math.max(0,(this.transform.zoom-c)/1.5)}hasTransitions(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(c,p){const y=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*y>c}setStale(){this.stale=!0}}function jt(w,c,p,y,_){w.emplaceBack(c?1:0,p?1:0,y||0,_||0),w.emplaceBack(c?1:0,p?1:0,y||0,_||0),w.emplaceBack(c?1:0,p?1:0,y||0,_||0),w.emplaceBack(c?1:0,p?1:0,y||0,_||0)}const ln=Math.pow(2,25),jn=Math.pow(2,24),Yn=Math.pow(2,17),In=Math.pow(2,16),Tn=Math.pow(2,9),Pi=Math.pow(2,8),Ut=Math.pow(2,1);function Bn(w){if(w.opacity===0&&!w.placed)return 0;if(w.opacity===1&&w.placed)return 4294967295;const c=w.placed?1:0,p=Math.floor(127*w.opacity);return p*ln+c*jn+p*Yn+c*In+p*Tn+c*Pi+p*Ut+c}const li=0;class Tl{constructor(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&!c.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(c,p,y,_,E){const D=this._bucketParts;for(;this._currentTileIndex<c.length;)if(p.getBucketParts(D,_,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,E())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,D.sort((L,U)=>L.sortKey-U.sortKey));this._currentPartIndex<D.length;)if(p.placeLayerBucketPart(D[this._currentPartIndex],this._seenCrossTileIDs,y),this._currentPartIndex++,E())return!0;return!1}}class Ox{constructor(c,p,y,_,E,D,L,U){this.placement=new It(c,p,D,L,U),this._currentPlacementIndex=y.length-1,this._forceFullPlacement=_,this._showCollisionBoxes=E,this._done=!1}isDone(){return this._done}continuePlacement(c,p,y){const _=a.browser.now(),E=()=>!this._forceFullPlacement&&a.browser.now()-_>2;for(;this._currentPlacementIndex>=0;){const D=p[c[this._currentPlacementIndex]],L=this.placement.collisionIndex.transform.zoom;if(D.type==="symbol"&&(!D.minzoom||D.minzoom<=L)&&(!D.maxzoom||D.maxzoom>L)){if(this._inProgressLayer||(this._inProgressLayer=new Tl(D)),this._inProgressLayer.continuePlacement(y[D.source],this.placement,this._showCollisionBoxes,D,E))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(c){return this.placement.commit(c),this.placement}}const as=512/a.EXTENT/2;class Ax{constructor(c,p,y){this.tileID=c,this.bucketInstanceId=y,this._symbolsByKey={};const _=new Map;for(let E=0;E<p.length;E++){const D=p.get(E),L=D.key,U=_.get(L);U?U.push(D):_.set(L,[D])}for(const[E,D]of _){const L={positions:D.map(U=>({x:Math.floor(U.anchorX*as),y:Math.floor(U.anchorY*as)})),crossTileIDs:D.map(U=>U.crossTileID)};if(L.positions.length>128){const U=new a.KDBush(L.positions.length,16,Uint16Array);for(const{x:q,y:Y}of L.positions)U.add(q,Y);U.finish(),delete L.positions,L.index=U}this._symbolsByKey[E]=L}}getScaledCoordinates(c,p){const{x:y,y:_,z:E}=this.tileID.canonical,{x:D,y:L,z:U}=p.canonical,q=as/Math.pow(2,U-E),Y=(L*a.EXTENT+c.anchorY)*q,K=_*a.EXTENT*as;return{x:Math.floor((D*a.EXTENT+c.anchorX)*q-y*a.EXTENT*as),y:Math.floor(Y-K)}}findMatches(c,p,y){const _=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z);for(let E=0;E<c.length;E++){const D=c.get(E);if(D.crossTileID)continue;const L=this._symbolsByKey[D.key];if(!L)continue;const U=this.getScaledCoordinates(D,p);if(L.index){const q=L.index.range(U.x-_,U.y-_,U.x+_,U.y+_).sort();for(const Y of q){const K=L.crossTileIDs[Y];if(!y[K]){y[K]=!0,D.crossTileID=K;break}}}else if(L.positions)for(let q=0;q<L.positions.length;q++){const Y=L.positions[q],K=L.crossTileIDs[q];if(Math.abs(Y.x-U.x)<=_&&Math.abs(Y.y-U.y)<=_&&!y[K]){y[K]=!0,D.crossTileID=K;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:c})=>c)}}class DC{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Xn{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(c){const p=Math.round((c-this.lng)/360);if(p!==0)for(const y in this.indexes){const _=this.indexes[y],E={};for(const D in _){const L=_[D];L.tileID=L.tileID.unwrapTo(L.tileID.wrap+p),E[L.tileID.key]=L}this.indexes[y]=E}this.lng=c}addBucket(c,p,y){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(let E=0;E<p.symbolInstances.length;E++)p.symbolInstances.get(E).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});const _=this.usedCrossTileIDs[c.overscaledZ];for(const E in this.indexes){const D=this.indexes[E];if(Number(E)>c.overscaledZ)for(const L in D){const U=D[L];U.tileID.isChildOf(c)&&U.findMatches(p.symbolInstances,c,_)}else{const L=D[c.scaledTo(Number(E)).key];L&&L.findMatches(p.symbolInstances,c,_)}}for(let E=0;E<p.symbolInstances.length;E++){const D=p.symbolInstances.get(E);D.crossTileID||(D.crossTileID=y.generate(),_[D.crossTileID]=!0)}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new Ax(c,p.symbolInstances,p.bucketInstanceId),!0}removeBucketCrossTileIDs(c,p){for(const y of p.getCrossTileIDsLists())for(const _ of y)delete this.usedCrossTileIDs[c][_]}removeStaleBuckets(c){let p=!1;for(const y in this.indexes){const _=this.indexes[y];for(const E in _)c[_[E].bucketInstanceId]||(this.removeBucketCrossTileIDs(y,_[E]),delete _[E],p=!0)}return p}}class Ih{constructor(){this.layerIndexes={},this.crossTileIDs=new DC,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(c,p,y){let _=this.layerIndexes[c.id];_===void 0&&(_=this.layerIndexes[c.id]=new Xn);let E=!1;const D={};_.handleWrapJump(y);for(const L of p){const U=L.getBucket(c);U&&c.id===U.layerIds[0]&&(U.bucketInstanceId||(U.bucketInstanceId=++this.maxBucketInstanceId),_.addBucket(L.tileID,U,this.crossTileIDs)&&(E=!0),D[U.bucketInstanceId]=!0)}return _.removeStaleBuckets(D)&&(E=!0),E}pruneUnusedLayers(c){const p={};c.forEach(y=>{p[y]=!0});for(const y in this.layerIndexes)p[y]||delete this.layerIndexes[y]}}const vu=(w,c)=>a.emitValidationErrors(w,c&&c.filter(p=>p.identifier!=="source.canvas")),Wo=a.pick(a.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),qo=a.pick(a.operations,["setCenter","setZoom","setBearing","setPitch"]),LC=a.emptyStyle();class Ri extends a.Evented{constructor(c,p={}){super(),this.map=c,this.dispatcher=new dt(Ln(),this,c._getMapId()),this.imageManager=new pe,this.imageManager.setEventedParent(this),this.glyphManager=new Oe(c._requestManager,p.localIdeographFontFamily),this.lineAtlas=new We(256,512),this.crossTileSymbolIndex=new Ih,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());const y=this;this._rtlTextPluginCallback=Ri.registerForPluginStateChange(_=>{y.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:_.pluginStatus,pluginURL:_.pluginURL},(E,D)=>{if(a.triggerPluginCompletionEvent(E),D&&D.every(L=>L))for(const L in y.sourceCaches){const U=y.sourceCaches[L].getSource().type;U!=="vector"&&U!=="geojson"||y.sourceCaches[L].reload()}})}),this.on("data",_=>{if(_.dataType!=="source"||_.sourceDataType!=="metadata")return;const E=this.sourceCaches[_.sourceId];if(!E)return;const D=E.getSource();if(D&&D.vectorLayerIds)for(const L in this._layers){const U=this._layers[L];U.source===D.id&&this._validateLayer(U)}})}loadURL(c,p={},y){this.fire(new a.Event("dataloading",{dataType:"style"})),p.validate=typeof p.validate!="boolean"||p.validate;const _=this.map._requestManager.transformRequest(c,I.Style);this._request=a.getJSON(_,(E,D)=>{this._request=null,E?this.fire(new a.ErrorEvent(E)):D&&this._load(D,p,y)})}loadJSON(c,p={},y){this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(()=>{this._request=null,p.validate=p.validate!==!1,this._load(c,p,y)})}loadEmpty(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(LC,{validate:!1})}_load(c,p,y){var _;const E=p.transformStyle?p.transformStyle(y,c):c;if(!p.validate||!vu(this,a.validateStyle(E))){this._loaded=!0,this.stylesheet=E;for(const D in E.sources)this.addSource(D,E.sources[D],{validate:!1});E.sprite?this._loadSprite(E.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(E.glyphs),this._createLayers(),this.light=new De(this.stylesheet.light),this.map.setTerrain((_=this.stylesheet.terrain)!==null&&_!==void 0?_:null),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}}_createLayers(){const c=a.derefLayers(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",c),this._order=c.map(p=>p.id),this._layers={},this._serializedLayers=null;for(const p of c){const y=a.createStyleLayer(p);y.setEventedParent(this,{layer:{id:p.id}}),this._layers[p.id]=y}}_loadSprite(c,p=!1,y=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(_,E,D,L){const U=G(_),q=U.length,Y=D>1?"@2x":"",K={},re={},de={};for(const{id:ce,url:me}of U){const le=E.transformRequest(E.normalizeSpriteURL(me,Y,".json"),I.SpriteJSON),Ae=`${ce}_${le.url}`;K[Ae]=a.getJSON(le,(Ie,Be)=>{delete K[Ae],re[ce]=Be,J(L,re,de,Ie,q)});const ze=E.transformRequest(E.normalizeSpriteURL(me,Y,".png"),I.SpriteImage),ve=`${ce}_${ze.url}`;K[ve]=M.getImage(ze,(Ie,Be)=>{delete K[ve],de[ce]=Be,J(L,re,de,Ie,q)})}return{cancel(){for(const ce of Object.values(K))ce.cancel()}}}(c,this.map._requestManager,this.map.getPixelRatio(),(_,E)=>{if(this._spriteRequest=null,_)this.fire(new a.ErrorEvent(_));else if(E)for(const D in E){this._spritesImagesIds[D]=[];const L=this._spritesImagesIds[D]?this._spritesImagesIds[D].filter(U=>!(U in E)):[];for(const U of L)this.imageManager.removeImage(U),this._changedImages[U]=!0;for(const U in E[D]){const q=D==="default"?U:`${D}:${U}`;this._spritesImagesIds[D].push(q),q in this.imageManager.images?this.imageManager.updateImage(q,E[D][U],!1):this.imageManager.addImage(q,E[D][U]),p&&(this._changedImages[q]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),p&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"})),y&&y(_)})}_unloadSprite(){for(const c of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(c),this._changedImages[c]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}_validateLayer(c){const p=this.sourceCaches[c.source];if(!p)return;const y=c.sourceLayer;if(!y)return;const _=p.getSource();(_.type==="geojson"||_.vectorLayerIds&&_.vectorLayerIds.indexOf(y)===-1)&&this.fire(new a.ErrorEvent(new Error(`Source layer "${y}" does not exist on source "${_.id}" as specified by style layer "${c.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const c in this.sourceCaches)if(!this.sourceCaches[c].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(c){const p=this._serializedAllLayers();if(!c||c.length===0)return Object.values(p);const y=[];for(const _ of c)p[_]&&y.push(p[_]);return y}_serializedAllLayers(){let c=this._serializedLayers;if(c)return c;c=this._serializedLayers={};const p=Object.keys(this._layers);for(const y of p){const _=this._layers[y];_.type!=="custom"&&(c[y]=_.serialize())}return c}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const c in this.sourceCaches)if(this.sourceCaches[c].hasTransition())return!0;for(const c in this._layers)if(this._layers[c].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(c){if(!this._loaded)return;const p=this._changed;if(this._changed){const _=Object.keys(this._updatedLayers),E=Object.keys(this._removedLayers);(_.length||E.length)&&this._updateWorkerLayers(_,E);for(const D in this._updatedSources){const L=this._updatedSources[D];if(L==="reload")this._reloadSource(D);else{if(L!=="clear")throw new Error(`Invalid action ${L}`);this._clearSource(D)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const D in this._updatedPaintProps)this._layers[D].updateTransitions(c);this.light.updateTransitions(c),this._resetUpdates()}const y={};for(const _ in this.sourceCaches){const E=this.sourceCaches[_];y[_]=E.used,E.used=!1}for(const _ of this._order){const E=this._layers[_];E.recalculate(c,this._availableImages),!E.isHidden(c.zoom)&&E.source&&(this.sourceCaches[E.source].used=!0)}for(const _ in y){const E=this.sourceCaches[_];y[_]!==E.used&&E.fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:_}))}this.light.recalculate(c),this.z=c.zoom,p&&this.fire(new a.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const c=Object.keys(this._changedImages);if(c.length){for(const p in this.sourceCaches)this.sourceCaches[p].reloadTilesForDependencies(["icons","patterns"],c);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const c in this.sourceCaches)this.sourceCaches[c].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(c,p){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(c),removedIds:p})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(c,p={}){this._checkLoaded();const y=this.serialize();if(c=p.transformStyle?p.transformStyle(y,c):c,vu(this,a.validateStyle(c)))return!1;(c=a.clone$1(c)).layers=a.derefLayers(c.layers);const _=a.diffStyles(y,c).filter(D=>!(D.command in qo));if(_.length===0)return!1;const E=_.filter(D=>!(D.command in Wo));if(E.length>0)throw new Error(`Unimplemented: ${E.map(D=>D.command).join(", ")}.`);for(const D of _)D.command!=="setTransition"&&this[D.command].apply(this,D.args);return this.stylesheet=c,this._serializedLayers=null,!0}addImage(c,p){if(this.getImage(c))return this.fire(new a.ErrorEvent(new Error(`An image named "${c}" already exists.`)));this.imageManager.addImage(c,p),this._afterImageUpdated(c)}updateImage(c,p){this.imageManager.updateImage(c,p)}getImage(c){return this.imageManager.getImage(c)}removeImage(c){if(!this.getImage(c))return this.fire(new a.ErrorEvent(new Error(`An image named "${c}" does not exist.`)));this.imageManager.removeImage(c),this._afterImageUpdated(c)}_afterImageUpdated(c){this._availableImages=this.imageManager.listImages(),this._changedImages[c]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(c,p,y={}){if(this._checkLoaded(),this.sourceCaches[c]!==void 0)throw new Error(`Source "${c}" already exists.`);if(!p.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(p).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(p.type)>=0&&this._validate(a.validateStyle.source,`sources.${c}`,p,null,y))return;this.map&&this.map._collectResourceTiming&&(p.collectResourceTiming=!0);const _=this.sourceCaches[c]=new Ne(c,p,this.dispatcher);_.style=this,_.setEventedParent(this,()=>({isSourceLoaded:_.loaded(),source:_.serialize(),sourceId:c})),_.onAdd(this.map),this._changed=!0}removeSource(c){if(this._checkLoaded(),this.sourceCaches[c]===void 0)throw new Error("There is no source with this ID");for(const y in this._layers)if(this._layers[y].source===c)return this.fire(new a.ErrorEvent(new Error(`Source "${c}" cannot be removed while layer "${y}" is using it.`)));const p=this.sourceCaches[c];delete this.sourceCaches[c],delete this._updatedSources[c],p.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:c})),p.setEventedParent(null),p.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(c,p){if(this._checkLoaded(),this.sourceCaches[c]===void 0)throw new Error(`There is no source with this ID=${c}`);const y=this.sourceCaches[c].getSource();if(y.type!=="geojson")throw new Error(`geojsonSource.type is ${y.type}, which is !== 'geojson`);y.setData(p),this._changed=!0}getSource(c){return this.sourceCaches[c]&&this.sourceCaches[c].getSource()}addLayer(c,p,y={}){this._checkLoaded();const _=c.id;if(this.getLayer(_))return void this.fire(new a.ErrorEvent(new Error(`Layer "${_}" already exists on this map.`)));let E;if(c.type==="custom"){if(vu(this,a.validateCustomStyleLayer(c)))return;E=a.createStyleLayer(c)}else{if("source"in c&&typeof c.source=="object"&&(this.addSource(_,c.source),c=a.clone$1(c),c=a.extend(c,{source:_})),this._validate(a.validateStyle.layer,`layers.${_}`,c,{arrayIndex:-1},y))return;E=a.createStyleLayer(c),this._validateLayer(E),E.setEventedParent(this,{layer:{id:_}})}const D=p?this._order.indexOf(p):this._order.length;if(p&&D===-1)this.fire(new a.ErrorEvent(new Error(`Cannot add layer "${_}" before non-existing layer "${p}".`)));else{if(this._order.splice(D,0,_),this._layerOrderChanged=!0,this._layers[_]=E,this._removedLayers[_]&&E.source&&E.type!=="custom"){const L=this._removedLayers[_];delete this._removedLayers[_],L.type!==E.type?this._updatedSources[E.source]="clear":(this._updatedSources[E.source]="reload",this.sourceCaches[E.source].pause())}this._updateLayer(E),E.onAdd&&E.onAdd(this.map)}}moveLayer(c,p){if(this._checkLoaded(),this._changed=!0,!this._layers[c])return void this.fire(new a.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be moved.`)));if(c===p)return;const y=this._order.indexOf(c);this._order.splice(y,1);const _=p?this._order.indexOf(p):this._order.length;p&&_===-1?this.fire(new a.ErrorEvent(new Error(`Cannot move layer "${c}" before non-existing layer "${p}".`))):(this._order.splice(_,0,c),this._layerOrderChanged=!0)}removeLayer(c){this._checkLoaded();const p=this._layers[c];if(!p)return void this.fire(new a.ErrorEvent(new Error(`Cannot remove non-existing layer "${c}".`)));p.setEventedParent(null);const y=this._order.indexOf(c);this._order.splice(y,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[c]=p,delete this._layers[c],this._serializedLayers&&delete this._serializedLayers[c],delete this._updatedLayers[c],delete this._updatedPaintProps[c],p.onRemove&&p.onRemove(this.map)}getLayer(c){return this._layers[c]}hasLayer(c){return c in this._layers}setLayerZoomRange(c,p,y){this._checkLoaded();const _=this.getLayer(c);_?_.minzoom===p&&_.maxzoom===y||(p!=null&&(_.minzoom=p),y!=null&&(_.maxzoom=y),this._updateLayer(_)):this.fire(new a.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${c}".`)))}setFilter(c,p,y={}){this._checkLoaded();const _=this.getLayer(c);if(_){if(!a.deepEqual(_.filter,p))return p==null?(_.filter=void 0,void this._updateLayer(_)):void(this._validate(a.validateStyle.filter,`layers.${_.id}.filter`,p,null,y)||(_.filter=a.clone$1(p),this._updateLayer(_)))}else this.fire(new a.ErrorEvent(new Error(`Cannot filter non-existing layer "${c}".`)))}getFilter(c){return a.clone$1(this.getLayer(c).filter)}setLayoutProperty(c,p,y,_={}){this._checkLoaded();const E=this.getLayer(c);E?a.deepEqual(E.getLayoutProperty(p),y)||(E.setLayoutProperty(p,y,_),this._updateLayer(E)):this.fire(new a.ErrorEvent(new Error(`Cannot style non-existing layer "${c}".`)))}getLayoutProperty(c,p){const y=this.getLayer(c);if(y)return y.getLayoutProperty(p);this.fire(new a.ErrorEvent(new Error(`Cannot get style of non-existing layer "${c}".`)))}setPaintProperty(c,p,y,_={}){this._checkLoaded();const E=this.getLayer(c);E?a.deepEqual(E.getPaintProperty(p),y)||(E.setPaintProperty(p,y,_)&&this._updateLayer(E),this._changed=!0,this._updatedPaintProps[c]=!0):this.fire(new a.ErrorEvent(new Error(`Cannot style non-existing layer "${c}".`)))}getPaintProperty(c,p){return this.getLayer(c).getPaintProperty(p)}setFeatureState(c,p){this._checkLoaded();const y=c.source,_=c.sourceLayer,E=this.sourceCaches[y];if(E===void 0)return void this.fire(new a.ErrorEvent(new Error(`The source '${y}' does not exist in the map's style.`)));const D=E.getSource().type;D==="geojson"&&_?this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):D!=="vector"||_?(c.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),E.setFeatureState(_,c.id,p)):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(c,p){this._checkLoaded();const y=c.source,_=this.sourceCaches[y];if(_===void 0)return void this.fire(new a.ErrorEvent(new Error(`The source '${y}' does not exist in the map's style.`)));const E=_.getSource().type,D=E==="vector"?c.sourceLayer:void 0;E!=="vector"||D?p&&typeof c.id!="string"&&typeof c.id!="number"?this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):_.removeFeatureState(D,c.id,p):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(c){this._checkLoaded();const p=c.source,y=c.sourceLayer,_=this.sourceCaches[p];if(_!==void 0)return _.getSource().type!=="vector"||y?(c.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),_.getFeatureState(y,c.id)):void this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.ErrorEvent(new Error(`The source '${p}' does not exist in the map's style.`)))}getTransition(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const c=a.mapObject(this.sourceCaches,_=>_.serialize()),p=this._serializeByIds(this._order),y=this.stylesheet;return a.filterObject({version:y.version,name:y.name,metadata:y.metadata,light:y.light,center:y.center,zoom:y.zoom,bearing:y.bearing,pitch:y.pitch,sprite:y.sprite,glyphs:y.glyphs,transition:y.transition,sources:c,layers:p},_=>_!==void 0)}_updateLayer(c){this._updatedLayers[c.id]=!0,c.source&&!this._updatedSources[c.source]&&this.sourceCaches[c.source].getSource().type!=="raster"&&(this._updatedSources[c.source]="reload",this.sourceCaches[c.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(c){const p=D=>this._layers[D].type==="fill-extrusion",y={},_=[];for(let D=this._order.length-1;D>=0;D--){const L=this._order[D];if(p(L)){y[L]=D;for(const U of c){const q=U[L];if(q)for(const Y of q)_.push(Y)}}}_.sort((D,L)=>L.intersectionZ-D.intersectionZ);const E=[];for(let D=this._order.length-1;D>=0;D--){const L=this._order[D];if(p(L))for(let U=_.length-1;U>=0;U--){const q=_[U].feature;if(y[q.layer.id]<D)break;E.push(q),_.pop()}else for(const U of c){const q=U[L];if(q)for(const Y of q)E.push(Y.feature)}}return E}queryRenderedFeatures(c,p,y){p&&p.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",p.filter,null,p);const _={};if(p&&p.layers){if(!Array.isArray(p.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const L of p.layers){const U=this._layers[L];if(!U)return this.fire(new a.ErrorEvent(new Error(`The layer '${L}' does not exist in the map's style and cannot be queried for features.`))),[];_[U.source]=!0}}const E=[];p.availableImages=this._availableImages;const D=this._serializedAllLayers();for(const L in this.sourceCaches)p.layers&&!_[L]||E.push(vn(this.sourceCaches[L],this._layers,D,c,p,y));return this.placement&&E.push(function(L,U,q,Y,K,re,de){const ce={},me=re.queryRenderedSymbols(Y),le=[];for(const Ae of Object.keys(me).map(Number))le.push(de[Ae]);le.sort(Mn);for(const Ae of le){const ze=Ae.featureIndex.lookupSymbolFeatures(me[Ae.bucketInstanceId],U,Ae.bucketIndex,Ae.sourceLayerIndex,K.filter,K.layers,K.availableImages,L);for(const ve in ze){const Ie=ce[ve]=ce[ve]||[],Be=ze[ve];Be.sort((Fe,Ke)=>{const nt=Ae.featureSortOrder;if(nt){const tt=nt.indexOf(Fe.featureIndex);return nt.indexOf(Ke.featureIndex)-tt}return Ke.featureIndex-Fe.featureIndex});for(const Fe of Be)Ie.push(Fe)}}for(const Ae in ce)ce[Ae].forEach(ze=>{const ve=ze.feature,Ie=q[L[Ae].source].getFeatureState(ve.layer["source-layer"],ve.id);ve.source=ve.layer.source,ve.layer["source-layer"]&&(ve.sourceLayer=ve.layer["source-layer"]),ve.state=Ie});return ce}(this._layers,D,this.sourceCaches,c,p,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(E)}querySourceFeatures(c,p){p&&p.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",p.filter,null,p);const y=this.sourceCaches[c];return y?function(_,E){const D=_.getRenderableIds().map(q=>_.getTileByID(q)),L=[],U={};for(let q=0;q<D.length;q++){const Y=D[q],K=Y.tileID.canonical.key;U[K]||(U[K]=!0,Y.querySourceFeatures(L,E))}return L}(y,p):[]}addSourceType(c,p,y){return Tt(c)?y(new Error(`A source type called "${c}" already exists.`)):(((_,E)=>{Et[_]=E})(c,p),p.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:c,url:p.workerSourceURL},y):y(null,null))}getLight(){return this.light.getLight()}setLight(c,p={}){this._checkLoaded();const y=this.light.getLight();let _=!1;for(const D in c)if(!a.deepEqual(c[D],y[D])){_=!0;break}if(!_)return;const E={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(c,p),this.light.updateTransitions(E)}_validate(c,p,y,_,E={}){return(!E||E.validate!==!1)&&vu(this,c.call(a.validateStyle,a.extend({key:p,style:this.serialize(),value:y,styleSpec:a.v8Spec},_)))}_remove(c=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const p in this._layers)this._layers[p].setEventedParent(null);for(const p in this.sourceCaches){const y=this.sourceCaches[p];y.setEventedParent(null),y.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(c)}_clearSource(c){this.sourceCaches[c].clearTiles()}_reloadSource(c){this.sourceCaches[c].resume(),this.sourceCaches[c].reload()}_updateSources(c){for(const p in this.sourceCaches)this.sourceCaches[p].update(c,this.map.terrain)}_generateCollisionBoxes(){for(const c in this.sourceCaches)this._reloadSource(c)}_updatePlacement(c,p,y,_,E=!1){let D=!1,L=!1;const U={};for(const q of this._order){const Y=this._layers[q];if(Y.type!=="symbol")continue;if(!U[Y.source]){const re=this.sourceCaches[Y.source];U[Y.source]=re.getRenderableIds(!0).map(de=>re.getTileByID(de)).sort((de,ce)=>ce.tileID.overscaledZ-de.tileID.overscaledZ||(de.tileID.isLessThan(ce.tileID)?-1:1))}const K=this.crossTileSymbolIndex.addLayer(Y,U[Y.source],c.center.lng);D=D||K}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((E=E||this._layerOrderChanged||y===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),c.zoom))&&(this.pauseablePlacement=new Ox(c,this.map.terrain,this._order,E,p,y,_,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,U),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),L=!0),D&&this.pauseablePlacement.placement.setStale()),L||D)for(const q of this._order){const Y=this._layers[q];Y.type==="symbol"&&this.placement.updateLayerOpacities(Y,U[Y.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now())}_releaseSymbolFadeTiles(){for(const c in this.sourceCaches)this.sourceCaches[c].releaseSymbolFadeTiles()}getImages(c,p,y){this.imageManager.getImages(p.icons,y),this._updateTilesForChangedImages();const _=this.sourceCaches[p.source];_&&_.setDependencies(p.tileID.key,p.type,p.icons)}getGlyphs(c,p,y){this.glyphManager.getGlyphs(p.stacks,y);const _=this.sourceCaches[p.source];_&&_.setDependencies(p.tileID.key,p.type,[""])}getResource(c,p,y){return a.makeRequest(p,y)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(c,p={}){this._checkLoaded(),c&&this._validate(a.validateStyle.glyphs,"glyphs",c,null,p)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=c,this.glyphManager.entries={},this.glyphManager.setURL(c))}addSprite(c,p,y={},_){this._checkLoaded();const E=[{id:c,url:p}],D=[...G(this.stylesheet.sprite),...E];this._validate(a.validateStyle.sprite,"sprite",D,null,y)||(this.stylesheet.sprite=D,this._loadSprite(E,!0,_))}removeSprite(c){this._checkLoaded();const p=G(this.stylesheet.sprite);if(p.find(y=>y.id===c)){if(this._spritesImagesIds[c])for(const y of this._spritesImagesIds[c])this.imageManager.removeImage(y),this._changedImages[y]=!0;p.splice(p.findIndex(y=>y.id===c),1),this.stylesheet.sprite=p.length>0?p:void 0,delete this._spritesImagesIds[c],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}else this.fire(new a.ErrorEvent(new Error(`Sprite "${c}" doesn't exists on this map.`)))}getSprite(){return G(this.stylesheet.sprite)}setSprite(c,p={},y){this._checkLoaded(),c&&this._validate(a.validateStyle.sprite,"sprite",c,null,p)||(this.stylesheet.sprite=c,c?this._loadSprite(c,!0,y):(this._unloadSprite(),y&&y(null)))}}Ri.registerForPluginStateChange=a.registerForPluginStateChange;var wo=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),$h="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const kl={prelude:hn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:hn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:hn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:hn(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:hn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:hn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:hn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:hn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:hn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:hn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:hn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:hn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:hn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:hn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:hn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:hn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:hn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:hn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:hn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:hn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:hn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:hn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:hn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:hn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:hn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:hn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:hn("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",$h),terrainDepth:hn("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",$h),terrainCoords:hn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",$h)};function hn(w,c){const p=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,y=c.match(/attribute ([\w]+) ([\w]+)/g),_=w.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),E=c.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),D=E?E.concat(_):_,L={};return{fragmentSource:w=w.replace(p,(U,q,Y,K,re)=>(L[re]=!0,q==="define"?`
#ifndef HAS_UNIFORM_u_${re}
varying ${Y} ${K} ${re};
#else
uniform ${Y} ${K} u_${re};
#endif
`:`
#ifdef HAS_UNIFORM_u_${re}
    ${Y} ${K} ${re} = u_${re};
#endif
`)),vertexSource:c=c.replace(p,(U,q,Y,K,re)=>{const de=K==="float"?"vec2":"vec4",ce=re.match(/color/)?"color":de;return L[re]?q==="define"?`
#ifndef HAS_UNIFORM_u_${re}
uniform lowp float u_${re}_t;
attribute ${Y} ${de} a_${re};
varying ${Y} ${K} ${re};
#else
uniform ${Y} ${K} u_${re};
#endif
`:ce==="vec4"?`
#ifndef HAS_UNIFORM_u_${re}
    ${re} = a_${re};
#else
    ${Y} ${K} ${re} = u_${re};
#endif
`:`
#ifndef HAS_UNIFORM_u_${re}
    ${re} = unpack_mix_${ce}(a_${re}, u_${re}_t);
#else
    ${Y} ${K} ${re} = u_${re};
#endif
`:q==="define"?`
#ifndef HAS_UNIFORM_u_${re}
uniform lowp float u_${re}_t;
attribute ${Y} ${de} a_${re};
#else
uniform ${Y} ${K} u_${re};
#endif
`:ce==="vec4"?`
#ifndef HAS_UNIFORM_u_${re}
    ${Y} ${K} ${re} = a_${re};
#else
    ${Y} ${K} ${re} = u_${re};
#endif
`:`
#ifndef HAS_UNIFORM_u_${re}
    ${Y} ${K} ${re} = unpack_mix_${ce}(a_${re}, u_${re}_t);
#else
    ${Y} ${K} ${re} = u_${re};
#endif
`}),staticAttributes:y,staticUniforms:D}}class Yd{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(c,p,y,_,E,D,L,U,q){this.context=c;let Y=this.boundPaintVertexBuffers.length!==_.length;for(let K=0;!Y&&K<_.length;K++)this.boundPaintVertexBuffers[K]!==_[K]&&(Y=!0);!this.vao||this.boundProgram!==p||this.boundLayoutVertexBuffer!==y||Y||this.boundIndexBuffer!==E||this.boundVertexOffset!==D||this.boundDynamicVertexBuffer!==L||this.boundDynamicVertexBuffer2!==U||this.boundDynamicVertexBuffer3!==q?this.freshBind(p,y,_,E,D,L,U,q):(c.bindVertexArray.set(this.vao),L&&L.bind(),E&&E.dynamicDraw&&E.bind(),U&&U.bind(),q&&q.bind())}freshBind(c,p,y,_,E,D,L,U){const q=c.numAttributes,Y=this.context,K=Y.gl;this.vao&&this.destroy(),this.vao=Y.createVertexArray(),Y.bindVertexArray.set(this.vao),this.boundProgram=c,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=y,this.boundIndexBuffer=_,this.boundVertexOffset=E,this.boundDynamicVertexBuffer=D,this.boundDynamicVertexBuffer2=L,this.boundDynamicVertexBuffer3=U,p.enableAttributes(K,c);for(const re of y)re.enableAttributes(K,c);D&&D.enableAttributes(K,c),L&&L.enableAttributes(K,c),U&&U.enableAttributes(K,c),p.bind(),p.setVertexAttribPointers(K,c,E);for(const re of y)re.bind(),re.setVertexAttribPointers(K,c,E);D&&(D.bind(),D.setVertexAttribPointers(K,c,E)),_&&_.bind(),L&&(L.bind(),L.setVertexAttribPointers(K,c,E)),U&&(U.bind(),U.setVertexAttribPointers(K,c,E)),Y.currentNumAttributes=q}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function Ws(w){const c=[];for(let p=0;p<w.length;p++){if(w[p]===null)continue;const y=w[p].split(" ");c.push(y.pop())}return c}class Xr{constructor(c,p,y,_,E,D){const L=c.gl;this.program=L.createProgram();const U=Ws(p.staticAttributes),q=y?y.getBinderAttributes():[],Y=U.concat(q),K=kl.prelude.staticUniforms?Ws(kl.prelude.staticUniforms):[],re=p.staticUniforms?Ws(p.staticUniforms):[],de=y?y.getBinderUniforms():[],ce=K.concat(re).concat(de),me=[];for(const Fe of ce)me.indexOf(Fe)<0&&me.push(Fe);const le=y?y.defines():[];E&&le.push("#define OVERDRAW_INSPECTOR;"),D&&le.push("#define TERRAIN3D;");const Ae=le.concat(kl.prelude.fragmentSource,p.fragmentSource).join(`
`),ze=le.concat(kl.prelude.vertexSource,p.vertexSource).join(`
`),ve=L.createShader(L.FRAGMENT_SHADER);if(L.isContextLost())return void(this.failedToCreate=!0);if(L.shaderSource(ve,Ae),L.compileShader(ve),!L.getShaderParameter(ve,L.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${L.getShaderInfoLog(ve)}`);L.attachShader(this.program,ve);const Ie=L.createShader(L.VERTEX_SHADER);if(L.isContextLost())return void(this.failedToCreate=!0);if(L.shaderSource(Ie,ze),L.compileShader(Ie),!L.getShaderParameter(Ie,L.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${L.getShaderInfoLog(Ie)}`);L.attachShader(this.program,Ie),this.attributes={};const Be={};this.numAttributes=Y.length;for(let Fe=0;Fe<this.numAttributes;Fe++)Y[Fe]&&(L.bindAttribLocation(this.program,Fe,Y[Fe]),this.attributes[Y[Fe]]=Fe);if(L.linkProgram(this.program),!L.getProgramParameter(this.program,L.LINK_STATUS))throw new Error(`Program failed to link: ${L.getProgramInfoLog(this.program)}`);L.deleteShader(Ie),L.deleteShader(ve);for(let Fe=0;Fe<me.length;Fe++){const Ke=me[Fe];if(Ke&&!Be[Ke]){const nt=L.getUniformLocation(this.program,Ke);nt&&(Be[Ke]=nt)}}this.fixedUniforms=_(c,Be),this.terrainUniforms=((Fe,Ke)=>({u_depth:new a.Uniform1i(Fe,Ke.u_depth),u_terrain:new a.Uniform1i(Fe,Ke.u_terrain),u_terrain_dim:new a.Uniform1f(Fe,Ke.u_terrain_dim),u_terrain_matrix:new a.UniformMatrix4f(Fe,Ke.u_terrain_matrix),u_terrain_unpack:new a.Uniform4f(Fe,Ke.u_terrain_unpack),u_terrain_exaggeration:new a.Uniform1f(Fe,Ke.u_terrain_exaggeration)}))(c,Be),this.binderUniforms=y?y.getUniforms(c,Be):[]}draw(c,p,y,_,E,D,L,U,q,Y,K,re,de,ce,me,le,Ae,ze){const ve=c.gl;if(this.failedToCreate)return;if(c.program.set(this.program),c.setDepthMode(y),c.setStencilMode(_),c.setColorMode(E),c.setCullFace(D),U){c.activeTexture.set(ve.TEXTURE2),ve.bindTexture(ve.TEXTURE_2D,U.depthTexture),c.activeTexture.set(ve.TEXTURE3),ve.bindTexture(ve.TEXTURE_2D,U.texture);for(const Be in this.terrainUniforms)this.terrainUniforms[Be].set(U[Be])}for(const Be in this.fixedUniforms)this.fixedUniforms[Be].set(L[Be]);me&&me.setUniforms(c,this.binderUniforms,de,{zoom:ce});let Ie=0;switch(p){case ve.LINES:Ie=2;break;case ve.TRIANGLES:Ie=3;break;case ve.LINE_STRIP:Ie=1}for(const Be of re.get()){const Fe=Be.vaos||(Be.vaos={});(Fe[q]||(Fe[q]=new Yd)).bind(c,this,Y,me?me.getPaintVertexBuffers():[],K,Be.vertexOffset,le,Ae,ze),ve.drawElements(p,Be.primitiveLength*Ie,ve.UNSIGNED_SHORT,Be.primitiveOffset*Ie*2)}}}function Kd(w,c,p){const y=1/Me(p,1,c.transform.tileZoom),_=Math.pow(2,p.tileID.overscaledZ),E=p.tileSize*Math.pow(2,c.transform.tileZoom)/_,D=E*(p.tileID.canonical.x+p.tileID.wrap*_),L=E*p.tileID.canonical.y;return{u_image:0,u_texsize:p.imageAtlasTexture.size,u_scale:[y,w.fromScale,w.toScale],u_fade:w.t,u_pixel_coord_upper:[D>>16,L>>16],u_pixel_coord_lower:[65535&D,65535&L]}}const ha=(w,c,p,y)=>{const _=c.style.light,E=_.properties.get("position"),D=[E.x,E.y,E.z],L=function(){var q=new a.ARRAY_TYPE(9);return a.ARRAY_TYPE!=Float32Array&&(q[1]=0,q[2]=0,q[3]=0,q[5]=0,q[6]=0,q[7]=0),q[0]=1,q[4]=1,q[8]=1,q}();_.properties.get("anchor")==="viewport"&&function(q,Y){var K=Math.sin(Y),re=Math.cos(Y);q[0]=re,q[1]=K,q[2]=0,q[3]=-K,q[4]=re,q[5]=0,q[6]=0,q[7]=0,q[8]=1}(L,-c.transform.angle),function(q,Y,K){var re=Y[0],de=Y[1],ce=Y[2];q[0]=re*K[0]+de*K[3]+ce*K[6],q[1]=re*K[1]+de*K[4]+ce*K[7],q[2]=re*K[2]+de*K[5]+ce*K[8]}(D,D,L);const U=_.properties.get("color");return{u_matrix:w,u_lightpos:D,u_lightintensity:_.properties.get("intensity"),u_lightcolor:[U.r,U.g,U.b],u_vertical_gradient:+p,u_opacity:y}},Mx=(w,c,p,y,_,E,D)=>a.extend(ha(w,c,p,y),Kd(E,c,D),{u_height_factor:-Math.pow(2,_.overscaledZ)/D.tileSize/8}),qs=w=>({u_matrix:w}),Ix=(w,c,p,y)=>a.extend(qs(w),Kd(p,c,y)),$x=(w,c)=>({u_matrix:w,u_world:c}),Rh=(w,c,p,y,_)=>a.extend(Ix(w,c,p,y),{u_world:_}),Dh=(w,c,p,y)=>{const _=w.transform;let E,D;if(y.paint.get("circle-pitch-alignment")==="map"){const L=Me(p,1,_.zoom);E=!0,D=[L,L]}else E=!1,D=_.pixelsToGLUnits;return{u_camera_to_center_distance:_.cameraToCenterDistance,u_scale_with_map:+(y.paint.get("circle-pitch-scale")==="map"),u_matrix:w.translatePosMatrix(c.posMatrix,p,y.paint.get("circle-translate"),y.paint.get("circle-translate-anchor")),u_pitch_with_map:+E,u_device_pixel_ratio:w.pixelRatio,u_extrude_scale:D}},Pl=(w,c,p)=>{const y=Me(p,1,c.zoom),_=Math.pow(2,c.zoom-p.tileID.overscaledZ),E=p.tileID.overscaleFactor();return{u_matrix:w,u_camera_to_center_distance:c.cameraToCenterDistance,u_pixels_to_tile_units:y,u_extrude_scale:[c.pixelsToGLUnits[0]/(y*_),c.pixelsToGLUnits[1]/(y*_)],u_overscale_factor:E}},Lh=(w,c,p=1)=>({u_matrix:w,u_color:c,u_overlay:0,u_overlay_scale:p}),Zd=w=>({u_matrix:w}),NC=(w,c,p,y)=>({u_matrix:w,u_extrude_scale:Me(c,1,p),u_intensity:y});function zC(w,c){const p=Math.pow(2,c.canonical.z),y=c.canonical.y;return[new a.MercatorCoordinate(0,y/p).toLngLat().lat,new a.MercatorCoordinate(0,(y+1)/p).toLngLat().lat]}const Xd=(w,c,p,y)=>{const _=w.transform;return{u_matrix:Dx(w,c,p,y),u_ratio:1/Me(c,1,_.zoom),u_device_pixel_ratio:w.pixelRatio,u_units_to_pixels:[1/_.pixelsToGLUnits[0],1/_.pixelsToGLUnits[1]]}},jC=(w,c,p,y,_)=>a.extend(Xd(w,c,p,_),{u_image:0,u_image_height:y}),Rx=(w,c,p,y,_)=>{const E=w.transform,D=Qg(c,E);return{u_matrix:Dx(w,c,p,_),u_texsize:c.imageAtlasTexture.size,u_ratio:1/Me(c,1,E.zoom),u_device_pixel_ratio:w.pixelRatio,u_image:0,u_scale:[D,y.fromScale,y.toScale],u_fade:y.t,u_units_to_pixels:[1/E.pixelsToGLUnits[0],1/E.pixelsToGLUnits[1]]}},BC=(w,c,p,y,_,E)=>{const D=w.lineAtlas,L=Qg(c,w.transform),U=p.layout.get("line-cap")==="round",q=D.getDash(y.from,U),Y=D.getDash(y.to,U),K=q.width*_.fromScale,re=Y.width*_.toScale;return a.extend(Xd(w,c,p,E),{u_patternscale_a:[L/K,-q.height/2],u_patternscale_b:[L/re,-Y.height/2],u_sdfgamma:D.width/(256*Math.min(K,re)*w.pixelRatio)/2,u_image:0,u_tex_y_a:q.y,u_tex_y_b:Y.y,u_mix:_.t})};function Qg(w,c){return 1/Me(w,1,c.tileZoom)}function Dx(w,c,p,y){return w.translatePosMatrix(y?y.posMatrix:c.tileID.posMatrix,c,p.paint.get("line-translate"),p.paint.get("line-translate-anchor"))}const ey=(w,c,p,y,_)=>{return{u_matrix:w,u_tl_parent:c,u_scale_parent:p,u_buffer_scale:1,u_fade_t:y.mix,u_opacity:y.opacity*_.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:_.paint.get("raster-brightness-min"),u_brightness_high:_.paint.get("raster-brightness-max"),u_saturation_factor:(D=_.paint.get("raster-saturation"),D>0?1-1/(1.001-D):-D),u_contrast_factor:(E=_.paint.get("raster-contrast"),E>0?1/(1-E):1+E),u_spin_weights:Lx(_.paint.get("raster-hue-rotate"))};var E,D};function Lx(w){w*=Math.PI/180;const c=Math.sin(w),p=Math.cos(w);return[(2*p+1)/3,(-Math.sqrt(3)*c-p+1)/3,(Math.sqrt(3)*c-p+1)/3]}const ty=(w,c,p,y,_,E,D,L,U,q)=>{const Y=_.transform;return{u_is_size_zoom_constant:+(w==="constant"||w==="source"),u_is_size_feature_constant:+(w==="constant"||w==="camera"),u_size_t:c?c.uSizeT:0,u_size:c?c.uSize:0,u_camera_to_center_distance:Y.cameraToCenterDistance,u_pitch:Y.pitch/360*2*Math.PI,u_rotate_symbol:+p,u_aspect_ratio:Y.width/Y.height,u_fade_change:_.options.fadeDuration?_.symbolFadeChange:1,u_matrix:E,u_label_plane_matrix:D,u_coord_matrix:L,u_is_text:+U,u_pitch_with_map:+y,u_texsize:q,u_texture:0}},ny=(w,c,p,y,_,E,D,L,U,q,Y)=>{const K=_.transform;return a.extend(ty(w,c,p,y,_,E,D,L,U,q),{u_gamma_scale:y?Math.cos(K._pitch)*K.cameraToCenterDistance:1,u_device_pixel_ratio:_.pixelRatio,u_is_halo:+Y})},Nx=(w,c,p,y,_,E,D,L,U,q)=>a.extend(ny(w,c,p,y,_,E,D,L,!0,U,!0),{u_texsize_icon:q,u_texture_icon:1}),mc=(w,c,p)=>({u_matrix:w,u_opacity:c,u_color:p}),Nh=(w,c,p,y,_,E)=>a.extend(function(D,L,U,q){const Y=U.imageManager.getPattern(D.from.toString()),K=U.imageManager.getPattern(D.to.toString()),{width:re,height:de}=U.imageManager.getPixelSize(),ce=Math.pow(2,q.tileID.overscaledZ),me=q.tileSize*Math.pow(2,U.transform.tileZoom)/ce,le=me*(q.tileID.canonical.x+q.tileID.wrap*ce),Ae=me*q.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Y.tl,u_pattern_br_a:Y.br,u_pattern_tl_b:K.tl,u_pattern_br_b:K.br,u_texsize:[re,de],u_mix:L.t,u_pattern_size_a:Y.displaySize,u_pattern_size_b:K.displaySize,u_scale_a:L.fromScale,u_scale_b:L.toScale,u_tile_units_to_pixels:1/Me(q,1,U.transform.tileZoom),u_pixel_coord_upper:[le>>16,Ae>>16],u_pixel_coord_lower:[65535&le,65535&Ae]}}(y,E,p,_),{u_matrix:w,u_opacity:c}),pa={fillExtrusion:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_lightpos:new a.Uniform3f(w,c.u_lightpos),u_lightintensity:new a.Uniform1f(w,c.u_lightintensity),u_lightcolor:new a.Uniform3f(w,c.u_lightcolor),u_vertical_gradient:new a.Uniform1f(w,c.u_vertical_gradient),u_opacity:new a.Uniform1f(w,c.u_opacity)}),fillExtrusionPattern:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_lightpos:new a.Uniform3f(w,c.u_lightpos),u_lightintensity:new a.Uniform1f(w,c.u_lightintensity),u_lightcolor:new a.Uniform3f(w,c.u_lightcolor),u_vertical_gradient:new a.Uniform1f(w,c.u_vertical_gradient),u_height_factor:new a.Uniform1f(w,c.u_height_factor),u_image:new a.Uniform1i(w,c.u_image),u_texsize:new a.Uniform2f(w,c.u_texsize),u_pixel_coord_upper:new a.Uniform2f(w,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(w,c.u_pixel_coord_lower),u_scale:new a.Uniform3f(w,c.u_scale),u_fade:new a.Uniform1f(w,c.u_fade),u_opacity:new a.Uniform1f(w,c.u_opacity)}),fill:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix)}),fillPattern:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_image:new a.Uniform1i(w,c.u_image),u_texsize:new a.Uniform2f(w,c.u_texsize),u_pixel_coord_upper:new a.Uniform2f(w,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(w,c.u_pixel_coord_lower),u_scale:new a.Uniform3f(w,c.u_scale),u_fade:new a.Uniform1f(w,c.u_fade)}),fillOutline:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_world:new a.Uniform2f(w,c.u_world)}),fillOutlinePattern:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_world:new a.Uniform2f(w,c.u_world),u_image:new a.Uniform1i(w,c.u_image),u_texsize:new a.Uniform2f(w,c.u_texsize),u_pixel_coord_upper:new a.Uniform2f(w,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(w,c.u_pixel_coord_lower),u_scale:new a.Uniform3f(w,c.u_scale),u_fade:new a.Uniform1f(w,c.u_fade)}),circle:(w,c)=>({u_camera_to_center_distance:new a.Uniform1f(w,c.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(w,c.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(w,c.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(w,c.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(w,c.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(w,c.u_matrix)}),collisionBox:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_camera_to_center_distance:new a.Uniform1f(w,c.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(w,c.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(w,c.u_extrude_scale),u_overscale_factor:new a.Uniform1f(w,c.u_overscale_factor)}),collisionCircle:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_inv_matrix:new a.UniformMatrix4f(w,c.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(w,c.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(w,c.u_viewport_size)}),debug:(w,c)=>({u_color:new a.UniformColor(w,c.u_color),u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_overlay:new a.Uniform1i(w,c.u_overlay),u_overlay_scale:new a.Uniform1f(w,c.u_overlay_scale)}),clippingMask:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix)}),heatmap:(w,c)=>({u_extrude_scale:new a.Uniform1f(w,c.u_extrude_scale),u_intensity:new a.Uniform1f(w,c.u_intensity),u_matrix:new a.UniformMatrix4f(w,c.u_matrix)}),heatmapTexture:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_world:new a.Uniform2f(w,c.u_world),u_image:new a.Uniform1i(w,c.u_image),u_color_ramp:new a.Uniform1i(w,c.u_color_ramp),u_opacity:new a.Uniform1f(w,c.u_opacity)}),hillshade:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_image:new a.Uniform1i(w,c.u_image),u_latrange:new a.Uniform2f(w,c.u_latrange),u_light:new a.Uniform2f(w,c.u_light),u_shadow:new a.UniformColor(w,c.u_shadow),u_highlight:new a.UniformColor(w,c.u_highlight),u_accent:new a.UniformColor(w,c.u_accent)}),hillshadePrepare:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_image:new a.Uniform1i(w,c.u_image),u_dimension:new a.Uniform2f(w,c.u_dimension),u_zoom:new a.Uniform1f(w,c.u_zoom),u_unpack:new a.Uniform4f(w,c.u_unpack)}),line:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_ratio:new a.Uniform1f(w,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(w,c.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(w,c.u_units_to_pixels)}),lineGradient:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_ratio:new a.Uniform1f(w,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(w,c.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(w,c.u_units_to_pixels),u_image:new a.Uniform1i(w,c.u_image),u_image_height:new a.Uniform1f(w,c.u_image_height)}),linePattern:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_texsize:new a.Uniform2f(w,c.u_texsize),u_ratio:new a.Uniform1f(w,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(w,c.u_device_pixel_ratio),u_image:new a.Uniform1i(w,c.u_image),u_units_to_pixels:new a.Uniform2f(w,c.u_units_to_pixels),u_scale:new a.Uniform3f(w,c.u_scale),u_fade:new a.Uniform1f(w,c.u_fade)}),lineSDF:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_ratio:new a.Uniform1f(w,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(w,c.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(w,c.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(w,c.u_patternscale_a),u_patternscale_b:new a.Uniform2f(w,c.u_patternscale_b),u_sdfgamma:new a.Uniform1f(w,c.u_sdfgamma),u_image:new a.Uniform1i(w,c.u_image),u_tex_y_a:new a.Uniform1f(w,c.u_tex_y_a),u_tex_y_b:new a.Uniform1f(w,c.u_tex_y_b),u_mix:new a.Uniform1f(w,c.u_mix)}),raster:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_tl_parent:new a.Uniform2f(w,c.u_tl_parent),u_scale_parent:new a.Uniform1f(w,c.u_scale_parent),u_buffer_scale:new a.Uniform1f(w,c.u_buffer_scale),u_fade_t:new a.Uniform1f(w,c.u_fade_t),u_opacity:new a.Uniform1f(w,c.u_opacity),u_image0:new a.Uniform1i(w,c.u_image0),u_image1:new a.Uniform1i(w,c.u_image1),u_brightness_low:new a.Uniform1f(w,c.u_brightness_low),u_brightness_high:new a.Uniform1f(w,c.u_brightness_high),u_saturation_factor:new a.Uniform1f(w,c.u_saturation_factor),u_contrast_factor:new a.Uniform1f(w,c.u_contrast_factor),u_spin_weights:new a.Uniform3f(w,c.u_spin_weights)}),symbolIcon:(w,c)=>({u_is_size_zoom_constant:new a.Uniform1i(w,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(w,c.u_is_size_feature_constant),u_size_t:new a.Uniform1f(w,c.u_size_t),u_size:new a.Uniform1f(w,c.u_size),u_camera_to_center_distance:new a.Uniform1f(w,c.u_camera_to_center_distance),u_pitch:new a.Uniform1f(w,c.u_pitch),u_rotate_symbol:new a.Uniform1i(w,c.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(w,c.u_aspect_ratio),u_fade_change:new a.Uniform1f(w,c.u_fade_change),u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(w,c.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(w,c.u_coord_matrix),u_is_text:new a.Uniform1i(w,c.u_is_text),u_pitch_with_map:new a.Uniform1i(w,c.u_pitch_with_map),u_texsize:new a.Uniform2f(w,c.u_texsize),u_texture:new a.Uniform1i(w,c.u_texture)}),symbolSDF:(w,c)=>({u_is_size_zoom_constant:new a.Uniform1i(w,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(w,c.u_is_size_feature_constant),u_size_t:new a.Uniform1f(w,c.u_size_t),u_size:new a.Uniform1f(w,c.u_size),u_camera_to_center_distance:new a.Uniform1f(w,c.u_camera_to_center_distance),u_pitch:new a.Uniform1f(w,c.u_pitch),u_rotate_symbol:new a.Uniform1i(w,c.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(w,c.u_aspect_ratio),u_fade_change:new a.Uniform1f(w,c.u_fade_change),u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(w,c.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(w,c.u_coord_matrix),u_is_text:new a.Uniform1i(w,c.u_is_text),u_pitch_with_map:new a.Uniform1i(w,c.u_pitch_with_map),u_texsize:new a.Uniform2f(w,c.u_texsize),u_texture:new a.Uniform1i(w,c.u_texture),u_gamma_scale:new a.Uniform1f(w,c.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(w,c.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(w,c.u_is_halo)}),symbolTextAndIcon:(w,c)=>({u_is_size_zoom_constant:new a.Uniform1i(w,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(w,c.u_is_size_feature_constant),u_size_t:new a.Uniform1f(w,c.u_size_t),u_size:new a.Uniform1f(w,c.u_size),u_camera_to_center_distance:new a.Uniform1f(w,c.u_camera_to_center_distance),u_pitch:new a.Uniform1f(w,c.u_pitch),u_rotate_symbol:new a.Uniform1i(w,c.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(w,c.u_aspect_ratio),u_fade_change:new a.Uniform1f(w,c.u_fade_change),u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(w,c.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(w,c.u_coord_matrix),u_is_text:new a.Uniform1i(w,c.u_is_text),u_pitch_with_map:new a.Uniform1i(w,c.u_pitch_with_map),u_texsize:new a.Uniform2f(w,c.u_texsize),u_texsize_icon:new a.Uniform2f(w,c.u_texsize_icon),u_texture:new a.Uniform1i(w,c.u_texture),u_texture_icon:new a.Uniform1i(w,c.u_texture_icon),u_gamma_scale:new a.Uniform1f(w,c.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(w,c.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(w,c.u_is_halo)}),background:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_opacity:new a.Uniform1f(w,c.u_opacity),u_color:new a.UniformColor(w,c.u_color)}),backgroundPattern:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_opacity:new a.Uniform1f(w,c.u_opacity),u_image:new a.Uniform1i(w,c.u_image),u_pattern_tl_a:new a.Uniform2f(w,c.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(w,c.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(w,c.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(w,c.u_pattern_br_b),u_texsize:new a.Uniform2f(w,c.u_texsize),u_mix:new a.Uniform1f(w,c.u_mix),u_pattern_size_a:new a.Uniform2f(w,c.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(w,c.u_pattern_size_b),u_scale_a:new a.Uniform1f(w,c.u_scale_a),u_scale_b:new a.Uniform1f(w,c.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(w,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(w,c.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(w,c.u_tile_units_to_pixels)}),terrain:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_texture:new a.Uniform1i(w,c.u_texture),u_ele_delta:new a.Uniform1f(w,c.u_ele_delta)}),terrainDepth:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_ele_delta:new a.Uniform1f(w,c.u_ele_delta)}),terrainCoords:(w,c)=>({u_matrix:new a.UniformMatrix4f(w,c.u_matrix),u_texture:new a.Uniform1i(w,c.u_texture),u_terrain_coords_id:new a.Uniform1f(w,c.u_terrain_coords_id),u_ele_delta:new a.Uniform1f(w,c.u_ele_delta)})};class zh{constructor(c,p,y){this.context=c;const _=c.gl;this.buffer=_.createBuffer(),this.dynamicDraw=!!y,this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),_.bufferData(_.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?_.DYNAMIC_DRAW:_.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(c){const p=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const jh={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Jd{constructor(c,p,y,_){this.length=p.length,this.attributes=y,this.itemSize=p.bytesPerElement,this.dynamicDraw=_,this.context=c;const E=c.gl;this.buffer=E.createBuffer(),c.bindVertexBuffer.set(this.buffer),E.bufferData(E.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?E.DYNAMIC_DRAW:E.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(c){if(c.length!==this.length)throw new Error(`Length of new data is ${c.length}, which doesn't match current length of ${this.length}`);const p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,c.arrayBuffer)}enableAttributes(c,p){for(let y=0;y<this.attributes.length;y++){const _=p.attributes[this.attributes[y].name];_!==void 0&&c.enableVertexAttribArray(_)}}setVertexAttribPointers(c,p,y){for(let _=0;_<this.attributes.length;_++){const E=this.attributes[_],D=p.attributes[E.name];D!==void 0&&c.vertexAttribPointer(D,E.components,c[jh[E.type]],!1,this.itemSize,E.offset+this.itemSize*(y||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const bu=new WeakMap;function gc(w){if(bu.has(w))return bu.get(w);{const c=w.getParameter(w.VERSION).startsWith("WebGL 2.0");return bu.set(w,c),c}}class Nn{constructor(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(c){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class yc extends Nn{getDefault(){return a.Color.transparent}set(c){const p=this.current;(c.r!==p.r||c.g!==p.g||c.b!==p.b||c.a!==p.a||this.dirty)&&(this.gl.clearColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Bh extends Nn{getDefault(){return 1}set(c){(c!==this.current||this.dirty)&&(this.gl.clearDepth(c),this.current=c,this.dirty=!1)}}class Go extends Nn{getDefault(){return 0}set(c){(c!==this.current||this.dirty)&&(this.gl.clearStencil(c),this.current=c,this.dirty=!1)}}class Ho extends Nn{getDefault(){return[!0,!0,!0,!0]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||this.dirty)&&(this.gl.colorMask(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class ry extends Nn{getDefault(){return!0}set(c){(c!==this.current||this.dirty)&&(this.gl.depthMask(c),this.current=c,this.dirty=!1)}}class Fh extends Nn{getDefault(){return 255}set(c){(c!==this.current||this.dirty)&&(this.gl.stencilMask(c),this.current=c,this.dirty=!1)}}class Uh extends Nn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(c){const p=this.current;(c.func!==p.func||c.ref!==p.ref||c.mask!==p.mask||this.dirty)&&(this.gl.stencilFunc(c.func,c.ref,c.mask),this.current=c,this.dirty=!1)}}class iy extends Nn{getDefault(){const c=this.gl;return[c.KEEP,c.KEEP,c.KEEP]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||this.dirty)&&(this.gl.stencilOp(c[0],c[1],c[2]),this.current=c,this.dirty=!1)}}class oy extends Nn{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.STENCIL_TEST):p.disable(p.STENCIL_TEST),this.current=c,this.dirty=!1}}class Vh extends Nn{getDefault(){return[0,1]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||this.dirty)&&(this.gl.depthRange(c[0],c[1]),this.current=c,this.dirty=!1)}}class ay extends Nn{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.DEPTH_TEST):p.disable(p.DEPTH_TEST),this.current=c,this.dirty=!1}}class sy extends Nn{getDefault(){return this.gl.LESS}set(c){(c!==this.current||this.dirty)&&(this.gl.depthFunc(c),this.current=c,this.dirty=!1)}}class Wh extends Nn{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.BLEND):p.disable(p.BLEND),this.current=c,this.dirty=!1}}class zx extends Nn{getDefault(){const c=this.gl;return[c.ONE,c.ZERO]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||this.dirty)&&(this.gl.blendFunc(c[0],c[1]),this.current=c,this.dirty=!1)}}class jx extends Nn{getDefault(){return a.Color.transparent}set(c){const p=this.current;(c.r!==p.r||c.g!==p.g||c.b!==p.b||c.a!==p.a||this.dirty)&&(this.gl.blendColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class xu extends Nn{getDefault(){return this.gl.FUNC_ADD}set(c){(c!==this.current||this.dirty)&&(this.gl.blendEquation(c),this.current=c,this.dirty=!1)}}class FC extends Nn{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;c?p.enable(p.CULL_FACE):p.disable(p.CULL_FACE),this.current=c,this.dirty=!1}}class UC extends Nn{getDefault(){return this.gl.BACK}set(c){(c!==this.current||this.dirty)&&(this.gl.cullFace(c),this.current=c,this.dirty=!1)}}class VC extends Nn{getDefault(){return this.gl.CCW}set(c){(c!==this.current||this.dirty)&&(this.gl.frontFace(c),this.current=c,this.dirty=!1)}}class WC extends Nn{getDefault(){return null}set(c){(c!==this.current||this.dirty)&&(this.gl.useProgram(c),this.current=c,this.dirty=!1)}}class qC extends Nn{getDefault(){return this.gl.TEXTURE0}set(c){(c!==this.current||this.dirty)&&(this.gl.activeTexture(c),this.current=c,this.dirty=!1)}}class GC extends Nn{getDefault(){const c=this.gl;return[0,0,c.drawingBufferWidth,c.drawingBufferHeight]}set(c){const p=this.current;(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||this.dirty)&&(this.gl.viewport(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class ly extends Nn{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindFramebuffer(p.FRAMEBUFFER,c),this.current=c,this.dirty=!1}}class qh extends Nn{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindRenderbuffer(p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class cy extends Nn{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindTexture(p.TEXTURE_2D,c),this.current=c,this.dirty=!1}}class uy extends Nn{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.bindBuffer(p.ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class _u extends Nn{getDefault(){return null}set(c){const p=this.gl;p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class Bx extends Nn{getDefault(){return null}set(c){var p;if(c===this.current&&!this.dirty)return;const y=this.gl;gc(y)?y.bindVertexArray(c):(p=y.getExtension("OES_vertex_array_object"))===null||p===void 0||p.bindVertexArrayOES(c),this.current=c,this.dirty=!1}}class Fx extends Nn{getDefault(){return 4}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_ALIGNMENT,c),this.current=c,this.dirty=!1}}class dy extends Nn{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c),this.current=c,this.dirty=!1}}class vc extends Nn{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,c),this.current=c,this.dirty=!1}}class Gh extends Nn{constructor(c,p){super(c),this.context=c,this.parent=p}getDefault(){return null}}class wu extends Gh{setDirty(){this.dirty=!0}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,c,0),this.current=c,this.dirty=!1}}class Su extends Gh{set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_ATTACHMENT,p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class Ux extends Gh{set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_STENCIL_ATTACHMENT,p.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class fy{constructor(c,p,y,_,E){this.context=c,this.width=p,this.height=y;const D=c.gl,L=this.framebuffer=D.createFramebuffer();if(this.colorAttachment=new wu(c,L),_)this.depthAttachment=E?new Ux(c,L):new Su(c,L);else if(E)throw new Error("Stencil cannot be setted without depth");if(D.checkFramebufferStatus(D.FRAMEBUFFER)!==D.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const c=this.context.gl,p=this.colorAttachment.get();if(p&&c.deleteTexture(p),this.depthAttachment){const y=this.depthAttachment.get();y&&c.deleteRenderbuffer(y)}c.deleteFramebuffer(this.framebuffer)}}class on{constructor(c,p,y){this.blendFunction=c,this.blendColor=p,this.mask=y}}on.Replace=[1,0],on.disabled=new on(on.Replace,a.Color.transparent,[!1,!1,!1,!1]),on.unblended=new on(on.Replace,a.Color.transparent,[!0,!0,!0,!0]),on.alphaBlended=new on([1,771],a.Color.transparent,[!0,!0,!0,!0]);class Hh{constructor(c){var p,y;if(this.gl=c,this.clearColor=new yc(this),this.clearDepth=new Bh(this),this.clearStencil=new Go(this),this.colorMask=new Ho(this),this.depthMask=new ry(this),this.stencilMask=new Fh(this),this.stencilFunc=new Uh(this),this.stencilOp=new iy(this),this.stencilTest=new oy(this),this.depthRange=new Vh(this),this.depthTest=new ay(this),this.depthFunc=new sy(this),this.blend=new Wh(this),this.blendFunc=new zx(this),this.blendColor=new jx(this),this.blendEquation=new xu(this),this.cullFace=new FC(this),this.cullFaceSide=new UC(this),this.frontFace=new VC(this),this.program=new WC(this),this.activeTexture=new qC(this),this.viewport=new GC(this),this.bindFramebuffer=new ly(this),this.bindRenderbuffer=new qh(this),this.bindTexture=new cy(this),this.bindVertexBuffer=new uy(this),this.bindElementBuffer=new _u(this),this.bindVertexArray=new Bx(this),this.pixelStoreUnpack=new Fx(this),this.pixelStoreUnpackPremultiplyAlpha=new dy(this),this.pixelStoreUnpackFlipY=new vc(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE),gc(c)){this.HALF_FLOAT=c.HALF_FLOAT;const _=c.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(p=c.RGBA16F)!==null&&p!==void 0?p:_==null?void 0:_.RGBA16F_EXT,this.RGB16F=(y=c.RGB16F)!==null&&y!==void 0?y:_==null?void 0:_.RGB16F_EXT,c.getExtension("EXT_color_buffer_float")}else{c.getExtension("EXT_color_buffer_half_float"),c.getExtension("OES_texture_half_float_linear");const _=c.getExtension("OES_texture_half_float");this.HALF_FLOAT=_==null?void 0:_.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(c,p){return new zh(this,c,p)}createVertexBuffer(c,p,y){return new Jd(this,c,p,y)}createRenderbuffer(c,p,y){const _=this.gl,E=_.createRenderbuffer();return this.bindRenderbuffer.set(E),_.renderbufferStorage(_.RENDERBUFFER,c,p,y),this.bindRenderbuffer.set(null),E}createFramebuffer(c,p,y,_){return new fy(this,c,p,y,_)}clear({color:c,depth:p,stencil:y}){const _=this.gl;let E=0;c&&(E|=_.COLOR_BUFFER_BIT,this.clearColor.set(c),this.colorMask.set([!0,!0,!0,!0])),p!==void 0&&(E|=_.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(p),this.depthMask.set(!0)),y!==void 0&&(E|=_.STENCIL_BUFFER_BIT,this.clearStencil.set(y),this.stencilMask.set(255)),_.clear(E)}setCullFace(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))}setDepthMode(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)}setStencilMode(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)}setColorMode(c){a.deepEqual(c.blendFunction,on.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)}createVertexArray(){var c;return gc(this.gl)?this.gl.createVertexArray():(c=this.gl.getExtension("OES_vertex_array_object"))===null||c===void 0?void 0:c.createVertexArrayOES()}deleteVertexArray(c){var p;return gc(this.gl)?this.gl.deleteVertexArray(c):(p=this.gl.getExtension("OES_vertex_array_object"))===null||p===void 0?void 0:p.deleteVertexArrayOES(c)}unbindVAO(){this.bindVertexArray.set(null)}}class Dn{constructor(c,p,y){this.func=c,this.mask=p,this.range=y}}Dn.ReadOnly=!1,Dn.ReadWrite=!0,Dn.disabled=new Dn(519,Dn.ReadOnly,[0,1]);const Yh=7680;class lr{constructor(c,p,y,_,E,D){this.test=c,this.ref=p,this.mask=y,this.fail=_,this.depthFail=E,this.pass=D}}lr.disabled=new lr({func:519,mask:0},0,0,Yh,Yh,Yh);class Cr{constructor(c,p,y){this.enable=c,this.mode=p,this.frontFace=y}}let Kh;function hy(w,c,p,y,_,E,D){const L=w.context,U=L.gl,q=w.useProgram("collisionBox"),Y=[];let K=0,re=0;for(let ve=0;ve<y.length;ve++){const Ie=y[ve],Be=c.getTile(Ie),Fe=Be.getBucket(p);if(!Fe)continue;let Ke=Ie.posMatrix;_[0]===0&&_[1]===0||(Ke=w.translatePosMatrix(Ie.posMatrix,Be,_,E));const nt=D?Fe.textCollisionBox:Fe.iconCollisionBox,tt=Fe.collisionCircleArray;if(tt.length>0){const at=a.create(),$t=Ke;a.mul(at,Fe.placementInvProjMatrix,w.transform.glCoordMatrix),a.mul(at,at,Fe.placementViewportMatrix),Y.push({circleArray:tt,circleOffset:re,transform:$t,invTransform:at,coord:Ie}),K+=tt.length/4,re=K}nt&&q.draw(L,U.LINES,Dn.disabled,lr.disabled,w.colorModeForRenderPass(),Cr.disabled,Pl(Ke,w.transform,Be),w.style.map.terrain&&w.style.map.terrain.getTerrainData(Ie),p.id,nt.layoutVertexBuffer,nt.indexBuffer,nt.segments,null,w.transform.zoom,null,null,nt.collisionVertexBuffer)}if(!D||!Y.length)return;const de=w.useProgram("collisionCircle"),ce=new a.CollisionCircleLayoutArray;ce.resize(4*K),ce._trim();let me=0;for(const ve of Y)for(let Ie=0;Ie<ve.circleArray.length/4;Ie++){const Be=4*Ie,Fe=ve.circleArray[Be+0],Ke=ve.circleArray[Be+1],nt=ve.circleArray[Be+2],tt=ve.circleArray[Be+3];ce.emplace(me++,Fe,Ke,nt,tt,0),ce.emplace(me++,Fe,Ke,nt,tt,1),ce.emplace(me++,Fe,Ke,nt,tt,2),ce.emplace(me++,Fe,Ke,nt,tt,3)}(!Kh||Kh.length<2*K)&&(Kh=function(ve){const Ie=2*ve,Be=new a.QuadTriangleArray;Be.resize(Ie),Be._trim();for(let Fe=0;Fe<Ie;Fe++){const Ke=6*Fe;Be.uint16[Ke+0]=4*Fe+0,Be.uint16[Ke+1]=4*Fe+1,Be.uint16[Ke+2]=4*Fe+2,Be.uint16[Ke+3]=4*Fe+2,Be.uint16[Ke+4]=4*Fe+3,Be.uint16[Ke+5]=4*Fe+0}return Be}(K));const le=L.createIndexBuffer(Kh,!0),Ae=L.createVertexBuffer(ce,a.collisionCircleLayout.members,!0);for(const ve of Y){const Ie={u_matrix:ve.transform,u_inv_matrix:ve.invTransform,u_camera_to_center_distance:(ze=w.transform).cameraToCenterDistance,u_viewport_size:[ze.width,ze.height]};de.draw(L,U.TRIANGLES,Dn.disabled,lr.disabled,w.colorModeForRenderPass(),Cr.disabled,Ie,w.style.map.terrain&&w.style.map.terrain.getTerrainData(ve.coord),p.id,Ae,le,a.SegmentVector.simpleSegment(0,2*ve.circleOffset,ve.circleArray.length,ve.circleArray.length/2),null,w.transform.zoom,null,null,null)}var ze;Ae.destroy(),le.destroy()}Cr.disabled=new Cr(!1,1029,2305),Cr.backCCW=new Cr(!0,1029,2305);const HC=a.identity(new Float32Array(16));function py(w,c,p,y,_,E){const{horizontalAlign:D,verticalAlign:L}=a.getAnchorAlignment(w);return new a.Point((-(D-.5)*c/_+y[0])*E,(-(L-.5)*p/_+y[1])*E)}function Zh(w,c,p,y,_,E,D,L,U,q,Y){const K=w.text.placedSymbolArray,re=w.text.dynamicLayoutVertexArray,de=w.icon.dynamicLayoutVertexArray,ce={};re.clear();for(let me=0;me<K.length;me++){const le=K.get(me),Ae=le.hidden||!le.crossTileID||w.allowVerticalPlacement&&!le.placedOrientation?null:y[le.crossTileID];if(Ae){const ze=new a.Point(le.anchorX,le.anchorY),ve=un(ze,p?D:E,Y),Ie=Rn(_.cameraToCenterDistance,ve.signedDistanceFromCamera);let Be=a.evaluateSizeForFeature(w.textSizeData,U,le)*Ie/a.ONE_EM;p&&(Be*=w.tilePixelRatio/L);const{width:Fe,height:Ke,anchor:nt,textOffset:tt,textBoxScale:at}=Ae,$t=py(nt,Fe,Ke,tt,at,Be),_n=p?un(ze.add($t),E,Y).point:ve.point.add(c?$t.rotate(-_.angle):$t),bt=w.allowVerticalPlacement&&le.placedOrientation===a.WritingMode.vertical?Math.PI/2:0;for(let Jt=0;Jt<le.numGlyphs;Jt++)a.addDynamicAttributes(re,_n,bt);q&&le.associatedIconIndex>=0&&(ce[le.associatedIconIndex]={shiftedAnchor:_n,angle:bt})}else ne(le.numGlyphs,re)}if(q){de.clear();const me=w.icon.placedSymbolArray;for(let le=0;le<me.length;le++){const Ae=me.get(le);if(Ae.hidden)ne(Ae.numGlyphs,de);else{const ze=ce[le];if(ze)for(let ve=0;ve<Ae.numGlyphs;ve++)a.addDynamicAttributes(de,ze.shiftedAnchor,ze.angle);else ne(Ae.numGlyphs,de)}}w.icon.dynamicLayoutVertexBuffer.updateData(de)}w.text.dynamicLayoutVertexBuffer.updateData(re)}function Xh(w,c,p){return p.iconsInText&&c?"symbolTextAndIcon":w?"symbolSDF":"symbolIcon"}function Jh(w,c,p,y,_,E,D,L,U,q,Y,K){const re=w.context,de=re.gl,ce=w.transform,me=L==="map",le=U==="map",Ae=L!=="viewport"&&p.layout.get("symbol-placement")!=="point",ze=me&&!le&&!Ae,ve=!p.layout.get("symbol-sort-key").isConstant();let Ie=!1;const Be=w.depthModeForSublayer(0,Dn.ReadOnly),Fe=p._unevaluatedLayout.hasValue("text-variable-anchor")||p._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Ke=[];for(const nt of y){const tt=c.getTile(nt),at=tt.getBucket(p);if(!at)continue;const $t=_?at.text:at.icon;if(!$t||!$t.segments.get().length||!$t.hasVisibleVertices)continue;const _n=$t.programConfigurations.get(p.id),bt=_||at.sdfIcons,Jt=_?at.textSizeData:at.iconSizeData,Nt=le||ce.pitch!==0,Pr=w.useProgram(Xh(bt,_,at),_n),pn=a.evaluateSizeForZoom(Jt,ce.zoom),gn=w.style.map.terrain&&w.style.map.terrain.getTerrainData(nt);let wn,Jr,cr,ma,Wr=[0,0],Lr=null;if(_)Jr=tt.glyphAtlasTexture,cr=de.LINEAR,wn=tt.glyphAtlasTexture.size,at.iconsInText&&(Wr=tt.imageAtlasTexture.size,Lr=tt.imageAtlasTexture,ma=Nt||w.options.rotating||w.options.zooming||Jt.kind==="composite"||Jt.kind==="camera"?de.LINEAR:de.NEAREST);else{const Qr=p.layout.get("icon-size").constantOr(0)!==1||at.iconsNeedLinear;Jr=tt.imageAtlasTexture,cr=bt||w.options.rotating||w.options.zooming||Qr||Nt?de.LINEAR:de.NEAREST,wn=tt.imageAtlasTexture.size}const Xo=Me(tt,1,w.transform.zoom),ds=mi(nt.posMatrix,le,me,w.transform,Xo),Or=Ue(nt.posMatrix,le,me,w.transform,Xo),Il=Fe&&at.hasTextData(),$l=p.layout.get("icon-text-fit")!=="none"&&Il&&at.hasIconData();if(Ae){const Qr=w.style.map.terrain?(Jo,ti)=>w.style.map.terrain.getElevation(nt,Jo,ti):null,ei=p.layout.get("text-rotation-alignment")==="map";qi(at,nt.posMatrix,w,_,ds,Or,le,q,ei,Qr)}const Hs=w.translatePosMatrix(nt.posMatrix,tt,E,D),bc=Ae||_&&Fe||$l?HC:ds,ao=w.translatePosMatrix(Or,tt,E,D,!0),Di=bt&&p.paint.get(_?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Gi;Gi=bt?at.iconsInText?Nx(Jt.kind,pn,ze,le,w,Hs,bc,ao,wn,Wr):ny(Jt.kind,pn,ze,le,w,Hs,bc,ao,_,wn,!0):ty(Jt.kind,pn,ze,le,w,Hs,bc,ao,_,wn);const pf={program:Pr,buffers:$t,uniformValues:Gi,atlasTexture:Jr,atlasTextureIcon:Lr,atlasInterpolation:cr,atlasInterpolationIcon:ma,isSDF:bt,hasHalo:Di};if(ve&&at.canOverlap){Ie=!0;const Qr=$t.segments.get();for(const ei of Qr)Ke.push({segments:new a.SegmentVector([ei]),sortKey:ei.sortKey,state:pf,terrainData:gn})}else Ke.push({segments:$t.segments,sortKey:0,state:pf,terrainData:gn})}Ie&&Ke.sort((nt,tt)=>nt.sortKey-tt.sortKey);for(const nt of Ke){const tt=nt.state;if(re.activeTexture.set(de.TEXTURE0),tt.atlasTexture.bind(tt.atlasInterpolation,de.CLAMP_TO_EDGE),tt.atlasTextureIcon&&(re.activeTexture.set(de.TEXTURE1),tt.atlasTextureIcon&&tt.atlasTextureIcon.bind(tt.atlasInterpolationIcon,de.CLAMP_TO_EDGE)),tt.isSDF){const at=tt.uniformValues;tt.hasHalo&&(at.u_is_halo=1,Qh(tt.buffers,nt.segments,p,w,tt.program,Be,Y,K,at,nt.terrainData)),at.u_is_halo=0}Qh(tt.buffers,nt.segments,p,w,tt.program,Be,Y,K,tt.uniformValues,nt.terrainData)}}function Qh(w,c,p,y,_,E,D,L,U,q){const Y=y.context;_.draw(Y,Y.gl.TRIANGLES,E,D,L,Cr.disabled,U,q,p.id,w.layoutVertexBuffer,w.indexBuffer,c,p.paint,y.transform.zoom,w.programConfigurations.get(p.id),w.dynamicLayoutVertexBuffer,w.opacityVertexBuffer)}function my(w,c,p,y,_){if(!p||!y||!y.imageAtlas)return;const E=y.imageAtlas.patternPositions;let D=E[p.to.toString()],L=E[p.from.toString()];if(!D||!L){const U=_.getPaintProperty(c);D=E[U],L=E[U]}D&&L&&w.setConstantPatternPositions(D,L)}function Qd(w,c,p,y,_,E,D){const L=w.context.gl,U="fill-pattern",q=p.paint.get(U),Y=q&&q.constantOr(1),K=p.getCrossfadeParameters();let re,de,ce,me,le;D?(de=Y&&!p.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",re=L.LINES):(de=Y?"fillPattern":"fill",re=L.TRIANGLES);const Ae=q.constantOr(null);for(const ze of y){const ve=c.getTile(ze);if(Y&&!ve.patternsLoaded())continue;const Ie=ve.getBucket(p);if(!Ie)continue;const Be=Ie.programConfigurations.get(p.id),Fe=w.useProgram(de,Be),Ke=w.style.map.terrain&&w.style.map.terrain.getTerrainData(ze);Y&&(w.context.activeTexture.set(L.TEXTURE0),ve.imageAtlasTexture.bind(L.LINEAR,L.CLAMP_TO_EDGE),Be.updatePaintBuffers(K)),my(Be,U,Ae,ve,p);const nt=Ke?ze:null,tt=w.translatePosMatrix(nt?nt.posMatrix:ze.posMatrix,ve,p.paint.get("fill-translate"),p.paint.get("fill-translate-anchor"));if(D){me=Ie.indexBuffer2,le=Ie.segments2;const at=[L.drawingBufferWidth,L.drawingBufferHeight];ce=de==="fillOutlinePattern"&&Y?Rh(tt,w,K,ve,at):$x(tt,at)}else me=Ie.indexBuffer,le=Ie.segments,ce=Y?Ix(tt,w,K,ve):qs(tt);Fe.draw(w.context,re,_,w.stencilModeForClipping(ze),E,Cr.disabled,ce,Ke,p.id,Ie.layoutVertexBuffer,me,le,p.paint,w.transform.zoom,Be)}}function Eu(w,c,p,y,_,E,D){const L=w.context,U=L.gl,q="fill-extrusion-pattern",Y=p.paint.get(q),K=Y.constantOr(1),re=p.getCrossfadeParameters(),de=p.paint.get("fill-extrusion-opacity"),ce=Y.constantOr(null);for(const me of y){const le=c.getTile(me),Ae=le.getBucket(p);if(!Ae)continue;const ze=w.style.map.terrain&&w.style.map.terrain.getTerrainData(me),ve=Ae.programConfigurations.get(p.id),Ie=w.useProgram(K?"fillExtrusionPattern":"fillExtrusion",ve);K&&(w.context.activeTexture.set(U.TEXTURE0),le.imageAtlasTexture.bind(U.LINEAR,U.CLAMP_TO_EDGE),ve.updatePaintBuffers(re)),my(ve,q,ce,le,p);const Be=w.translatePosMatrix(me.posMatrix,le,p.paint.get("fill-extrusion-translate"),p.paint.get("fill-extrusion-translate-anchor")),Fe=p.paint.get("fill-extrusion-vertical-gradient"),Ke=K?Mx(Be,w,Fe,de,me,re,le):ha(Be,w,Fe,de);Ie.draw(L,L.gl.TRIANGLES,_,E,D,Cr.backCCW,Ke,ze,p.id,Ae.layoutVertexBuffer,Ae.indexBuffer,Ae.segments,p.paint,w.transform.zoom,ve,w.style.map.terrain&&Ae.centroidVertexBuffer)}}function gy(w,c,p,y,_,E,D){const L=w.context,U=L.gl,q=p.fbo;if(!q)return;const Y=w.useProgram("hillshade"),K=w.style.map.terrain&&w.style.map.terrain.getTerrainData(c);L.activeTexture.set(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,q.colorAttachment.get()),Y.draw(L,U.TRIANGLES,_,E,D,Cr.disabled,((re,de,ce,me)=>{const le=ce.paint.get("hillshade-shadow-color"),Ae=ce.paint.get("hillshade-highlight-color"),ze=ce.paint.get("hillshade-accent-color");let ve=ce.paint.get("hillshade-illumination-direction")*(Math.PI/180);ce.paint.get("hillshade-illumination-anchor")==="viewport"&&(ve-=re.transform.angle);const Ie=!re.options.moving;return{u_matrix:me?me.posMatrix:re.transform.calculatePosMatrix(de.tileID.toUnwrapped(),Ie),u_image:0,u_latrange:zC(0,de.tileID),u_light:[ce.paint.get("hillshade-exaggeration"),ve],u_shadow:le,u_highlight:Ae,u_accent:ze}})(w,p,y,K?c:null),K,y.id,w.rasterBoundsBuffer,w.quadTriangleIndexBuffer,w.rasterBoundsSegments)}function YC(w,c,p,y,_,E){const D=w.context,L=D.gl,U=c.dem;if(U&&U.data){const q=U.dim,Y=U.stride,K=U.getPixels();if(D.activeTexture.set(L.TEXTURE1),D.pixelStoreUnpackPremultiplyAlpha.set(!1),c.demTexture=c.demTexture||w.getTileTexture(Y),c.demTexture){const de=c.demTexture;de.update(K,{premultiply:!1}),de.bind(L.NEAREST,L.CLAMP_TO_EDGE)}else c.demTexture=new ee(D,K,L.RGBA,{premultiply:!1}),c.demTexture.bind(L.NEAREST,L.CLAMP_TO_EDGE);D.activeTexture.set(L.TEXTURE0);let re=c.fbo;if(!re){const de=new ee(D,{width:q,height:q,data:null},L.RGBA);de.bind(L.LINEAR,L.CLAMP_TO_EDGE),re=c.fbo=D.createFramebuffer(q,q,!0,!1),re.colorAttachment.set(de.texture)}D.bindFramebuffer.set(re.framebuffer),D.viewport.set([0,0,q,q]),w.useProgram("hillshadePrepare").draw(D,L.TRIANGLES,y,_,E,Cr.disabled,((de,ce)=>{const me=ce.stride,le=a.create();return a.ortho(le,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(le,le,[0,-a.EXTENT,0]),{u_matrix:le,u_image:1,u_dimension:[me,me],u_zoom:de.overscaledZ,u_unpack:ce.getUnpackVector()}})(c.tileID,U),null,p.id,w.rasterBoundsBuffer,w.quadTriangleIndexBuffer,w.rasterBoundsSegments),c.needsHillshadePrepare=!1}}function yy(w,c,p,y,_,E){const D=y.paint.get("raster-fade-duration");if(!E&&D>0){const L=a.browser.now(),U=(L-w.timeAdded)/D,q=c?(L-c.timeAdded)/D:-1,Y=p.getSource(),K=_.coveringZoomLevel({tileSize:Y.tileSize,roundZoom:Y.roundZoom}),re=!c||Math.abs(c.tileID.overscaledZ-K)>Math.abs(w.tileID.overscaledZ-K),de=re&&w.refreshedUponExpiration?1:a.clamp(re?U:1-q,0,1);return w.refreshedUponExpiration&&U>=1&&(w.refreshedUponExpiration=!1),c?{opacity:1,mix:1-de}:{opacity:de,mix:0}}return{opacity:1,mix:0}}const KC=new a.Color(1,0,0,1),Vx=new a.Color(0,1,0,1),ep=new a.Color(0,0,1,1),vy=new a.Color(1,0,1,1),Wx=new a.Color(0,1,1,1);function by(w,c,p,y){Cu(w,0,c+p/2,w.transform.width,p,y)}function ef(w,c,p,y){Cu(w,c-p/2,0,p,w.transform.height,y)}function Cu(w,c,p,y,_,E){const D=w.context,L=D.gl;L.enable(L.SCISSOR_TEST),L.scissor(c*w.pixelRatio,p*w.pixelRatio,y*w.pixelRatio,_*w.pixelRatio),D.clear({color:E}),L.disable(L.SCISSOR_TEST)}function ZC(w,c,p){const y=w.context,_=y.gl,E=p.posMatrix,D=w.useProgram("debug"),L=Dn.disabled,U=lr.disabled,q=w.colorModeForRenderPass(),Y="$debug",K=w.style.map.terrain&&w.style.map.terrain.getTerrainData(p);y.activeTexture.set(_.TEXTURE0);const re=c.getTileByID(p.key).latestRawTileData,de=Math.floor((re&&re.byteLength||0)/1024),ce=c.getTile(p).tileSize,me=512/Math.min(ce,512)*(p.overscaledZ/w.transform.zoom)*.5;let le=p.canonical.toString();p.overscaledZ!==p.canonical.z&&(le+=` => ${p.overscaledZ}`),function(Ae,ze){Ae.initDebugOverlayCanvas();const ve=Ae.debugOverlayCanvas,Ie=Ae.context.gl,Be=Ae.debugOverlayCanvas.getContext("2d");Be.clearRect(0,0,ve.width,ve.height),Be.shadowColor="white",Be.shadowBlur=2,Be.lineWidth=1.5,Be.strokeStyle="white",Be.textBaseline="top",Be.font="bold 36px Open Sans, sans-serif",Be.fillText(ze,5,5),Be.strokeText(ze,5,5),Ae.debugOverlayTexture.update(ve),Ae.debugOverlayTexture.bind(Ie.LINEAR,Ie.CLAMP_TO_EDGE)}(w,`${le} ${de}kB`),D.draw(y,_.TRIANGLES,L,U,on.alphaBlended,Cr.disabled,Lh(E,a.Color.transparent,me),null,Y,w.debugBuffer,w.quadTriangleIndexBuffer,w.debugSegments),D.draw(y,_.LINE_STRIP,L,U,q,Cr.disabled,Lh(E,a.Color.red),K,Y,w.debugBuffer,w.tileBorderIndexBuffer,w.debugSegments)}function xy(w,c,p){const y=w.context,_=y.gl,E=w.colorModeForRenderPass(),D=new Dn(_.LEQUAL,Dn.ReadWrite,w.depthRangeFor3D),L=w.useProgram("terrain"),U=c.getTerrainMesh();y.bindFramebuffer.set(null),y.viewport.set([0,0,w.width,w.height]);for(const q of p){const Y=w.renderToTexture.getTexture(q),K=c.getTerrainData(q.tileID);y.activeTexture.set(_.TEXTURE0),_.bindTexture(_.TEXTURE_2D,Y.texture);const re={u_matrix:w.transform.calculatePosMatrix(q.tileID.toUnwrapped()),u_texture:0,u_ele_delta:c.getMeshFrameDelta(w.transform.zoom)};L.draw(y,_.TRIANGLES,D,lr.disabled,E,Cr.backCCW,re,K,"terrain",U.vertexBuffer,U.indexBuffer,U.segments)}}class Vr{constructor(c,p){this.context=new Hh(c),this.transform=p,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.create(),renderTime:0},this.setup(),this.numSublayers=Ne.maxUnderzooming+Ne.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ih}resize(c,p,y){if(this.width=Math.floor(c*y),this.height=Math.floor(p*y),this.pixelRatio=y,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const _ of this.style._order)this.style._layers[_].resize()}setup(){const c=this.context,p=new a.PosArray;p.emplaceBack(0,0),p.emplaceBack(a.EXTENT,0),p.emplaceBack(0,a.EXTENT),p.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=c.createVertexBuffer(p,wo.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);const y=new a.PosArray;y.emplaceBack(0,0),y.emplaceBack(a.EXTENT,0),y.emplaceBack(0,a.EXTENT),y.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=c.createVertexBuffer(y,wo.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);const _=new a.RasterBoundsArray;_.emplaceBack(0,0,0,0),_.emplaceBack(a.EXTENT,0,a.EXTENT,0),_.emplaceBack(0,a.EXTENT,0,a.EXTENT),_.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=c.createVertexBuffer(_,Ge.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);const E=new a.PosArray;E.emplaceBack(0,0),E.emplaceBack(1,0),E.emplaceBack(0,1),E.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(E,wo.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);const D=new a.LineStripIndexArray;D.emplaceBack(0),D.emplaceBack(1),D.emplaceBack(3),D.emplaceBack(2),D.emplaceBack(0),this.tileBorderIndexBuffer=c.createIndexBuffer(D);const L=new a.TriangleIndexArray;L.emplaceBack(0,1,2),L.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(L);const U=this.context.gl;this.stencilClearMode=new lr({func:U.ALWAYS,mask:0},0,255,U.ZERO,U.ZERO,U.ZERO)}clearStencil(){const c=this.context,p=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const y=a.create();a.ortho(y,0,this.width,this.height,0,0,1),a.scale(y,y,[p.drawingBufferWidth,p.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(c,p.TRIANGLES,Dn.disabled,this.stencilClearMode,on.disabled,Cr.disabled,Zd(y),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(c,p){if(this.currentStencilSource===c.source||!c.isTileClipped()||!p||!p.length)return;this.currentStencilSource=c.source;const y=this.context,_=y.gl;this.nextStencilID+p.length>256&&this.clearStencil(),y.setColorMode(on.disabled),y.setDepthMode(Dn.disabled);const E=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const D of p){const L=this._tileClippingMaskIDs[D.key]=this.nextStencilID++,U=this.style.map.terrain&&this.style.map.terrain.getTerrainData(D);E.draw(y,_.TRIANGLES,Dn.disabled,new lr({func:_.ALWAYS,mask:0},L,255,_.KEEP,_.KEEP,_.REPLACE),on.disabled,Cr.disabled,Zd(D.posMatrix),U,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const c=this.nextStencilID++,p=this.context.gl;return new lr({func:p.NOTEQUAL,mask:255},c,255,p.KEEP,p.KEEP,p.REPLACE)}stencilModeForClipping(c){const p=this.context.gl;return new lr({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,p.KEEP,p.KEEP,p.REPLACE)}stencilConfigForOverlap(c){const p=this.context.gl,y=c.sort((D,L)=>L.overscaledZ-D.overscaledZ),_=y[y.length-1].overscaledZ,E=y[0].overscaledZ-_+1;if(E>1){this.currentStencilSource=void 0,this.nextStencilID+E>256&&this.clearStencil();const D={};for(let L=0;L<E;L++)D[L+_]=new lr({func:p.GEQUAL,mask:255},L+this.nextStencilID,255,p.KEEP,p.KEEP,p.REPLACE);return this.nextStencilID+=E,[D,y]}return[{[_]:lr.disabled},y]}colorModeForRenderPass(){const c=this.context.gl;return this._showOverdrawInspector?new on([c.CONSTANT_COLOR,c.ONE],new a.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?on.unblended:on.alphaBlended}depthModeForSublayer(c,p,y){if(!this.opaquePassEnabledForLayer())return Dn.disabled;const _=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new Dn(y||this.context.gl.LEQUAL,p,[_,_])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(c,p){this.style=c,this.options=p,this.lineAtlas=c.lineAtlas,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();const y=this.style._order,_=this.style.sourceCaches,E={},D={},L={};for(const U in _){const q=_[U];q.used&&q.prepare(this.context),E[U]=q.getVisibleCoordinates(),D[U]=E[U].slice().reverse(),L[U]=q.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let U=0;U<y.length;U++)if(this.style._layers[y[U]].is3D()){this.opaquePassCutoff=U;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const U=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!a.equals(this.terrainFacilitator.matrix,this.transform.projMatrix)||U.length)&&(a.copy(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(q,Y){const K=q.context,re=K.gl,de=on.unblended,ce=new Dn(re.LEQUAL,Dn.ReadWrite,[0,1]),me=Y.getTerrainMesh(),le=Y.sourceCache.getRenderableTiles(),Ae=q.useProgram("terrainDepth");K.bindFramebuffer.set(Y.getFramebuffer("depth").framebuffer),K.viewport.set([0,0,q.width/devicePixelRatio,q.height/devicePixelRatio]),K.clear({color:a.Color.transparent,depth:1});for(const ze of le){const ve=Y.getTerrainData(ze.tileID),Ie={u_matrix:q.transform.calculatePosMatrix(ze.tileID.toUnwrapped()),u_ele_delta:Y.getMeshFrameDelta(q.transform.zoom)};Ae.draw(K,re.TRIANGLES,ce,lr.disabled,de,Cr.backCCW,Ie,ve,"terrain",me.vertexBuffer,me.indexBuffer,me.segments)}K.bindFramebuffer.set(null),K.viewport.set([0,0,q.width,q.height])}(this,this.style.map.terrain),function(q,Y){const K=q.context,re=K.gl,de=on.unblended,ce=new Dn(re.LEQUAL,Dn.ReadWrite,[0,1]),me=Y.getTerrainMesh(),le=Y.getCoordsTexture(),Ae=Y.sourceCache.getRenderableTiles(),ze=q.useProgram("terrainCoords");K.bindFramebuffer.set(Y.getFramebuffer("coords").framebuffer),K.viewport.set([0,0,q.width/devicePixelRatio,q.height/devicePixelRatio]),K.clear({color:a.Color.transparent,depth:1}),Y.coordsIndex=[];for(const ve of Ae){const Ie=Y.getTerrainData(ve.tileID);K.activeTexture.set(re.TEXTURE0),re.bindTexture(re.TEXTURE_2D,le.texture);const Be={u_matrix:q.transform.calculatePosMatrix(ve.tileID.toUnwrapped()),u_terrain_coords_id:(255-Y.coordsIndex.length)/255,u_texture:0,u_ele_delta:Y.getMeshFrameDelta(q.transform.zoom)};ze.draw(K,re.TRIANGLES,ce,lr.disabled,de,Cr.backCCW,Be,Ie,"terrain",me.vertexBuffer,me.indexBuffer,me.segments),Y.coordsIndex.push(ve.tileID.key)}K.bindFramebuffer.set(null),K.viewport.set([0,0,q.width,q.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const U of y){const q=this.style._layers[U];if(!q.hasOffscreenPass()||q.isHidden(this.transform.zoom))continue;const Y=D[q.source];(q.type==="custom"||Y.length)&&this.renderLayer(this,_[q.source],q,Y)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:p.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=p.showOverdrawInspector,this.depthRangeFor3D=[0,1-(c._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=y.length-1;this.currentLayer>=0;this.currentLayer--){const U=this.style._layers[y[this.currentLayer]],q=_[U.source],Y=E[U.source];this._renderTileClippingMasks(U,Y),this.renderLayer(this,q,U,Y)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<y.length;this.currentLayer++){const U=this.style._layers[y[this.currentLayer]],q=_[U.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(U))continue;const Y=(U.type==="symbol"?L:D)[U.source];this._renderTileClippingMasks(U,E[U.source]),this.renderLayer(this,q,U,Y)}if(this.options.showTileBoundaries){const U=function(q,Y){let K=null;const re=Object.values(q._layers).flatMap(le=>le.source&&!le.isHidden(Y)?[q.sourceCaches[le.source]]:[]),de=re.filter(le=>le.getSource().type==="vector"),ce=re.filter(le=>le.getSource().type!=="vector"),me=le=>{(!K||K.getSource().maxzoom<le.getSource().maxzoom)&&(K=le)};return de.forEach(le=>me(le)),K||ce.forEach(le=>me(le)),K}(this.style,this.transform.zoom);U&&function(q,Y,K){for(let re=0;re<K.length;re++)ZC(q,Y,K[re])}(this,U,U.getVisibleCoordinates())}this.options.showPadding&&function(U){const q=U.transform.padding;by(U,U.transform.height-(q.top||0),3,KC),by(U,q.bottom||0,3,Vx),ef(U,q.left||0,3,ep),ef(U,U.transform.width-(q.right||0),3,vy);const Y=U.transform.centerPoint;(function(K,re,de,ce){Cu(K,re-1,de-10,2,20,ce),Cu(K,re-10,de-1,20,2,ce)})(U,Y.x,U.transform.height-Y.y,Wx)}(this),this.context.setDefault()}renderLayer(c,p,y,_){if(!y.isHidden(this.transform.zoom)&&(y.type==="background"||y.type==="custom"||(_||[]).length))switch(this.id=y.id,y.type){case"symbol":(function(E,D,L,U,q){if(E.renderPass!=="translucent")return;const Y=lr.disabled,K=E.colorModeForRenderPass();(L._unevaluatedLayout.hasValue("text-variable-anchor")||L._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(re,de,ce,me,le,Ae,ze){const ve=de.transform,Ie=le==="map",Be=Ae==="map";for(const Fe of re){const Ke=me.getTile(Fe),nt=Ke.getBucket(ce);if(!nt||!nt.text||!nt.text.segments.get().length)continue;const tt=a.evaluateSizeForZoom(nt.textSizeData,ve.zoom),at=Me(Ke,1,de.transform.zoom),$t=mi(Fe.posMatrix,Be,Ie,de.transform,at),_n=ce.layout.get("icon-text-fit")!=="none"&&nt.hasIconData();if(tt){const bt=Math.pow(2,ve.zoom-Ke.tileID.overscaledZ);Zh(nt,Ie,Be,ze,ve,$t,Fe.posMatrix,bt,tt,_n,de.style.map.terrain?(Jt,Nt)=>de.style.map.terrain.getElevation(Fe,Jt,Nt):null)}}}(U,E,L,D,L.layout.get("text-rotation-alignment"),L.layout.get("text-pitch-alignment"),q),L.paint.get("icon-opacity").constantOr(1)!==0&&Jh(E,D,L,U,!1,L.paint.get("icon-translate"),L.paint.get("icon-translate-anchor"),L.layout.get("icon-rotation-alignment"),L.layout.get("icon-pitch-alignment"),L.layout.get("icon-keep-upright"),Y,K),L.paint.get("text-opacity").constantOr(1)!==0&&Jh(E,D,L,U,!0,L.paint.get("text-translate"),L.paint.get("text-translate-anchor"),L.layout.get("text-rotation-alignment"),L.layout.get("text-pitch-alignment"),L.layout.get("text-keep-upright"),Y,K),D.map.showCollisionBoxes&&(hy(E,D,L,U,L.paint.get("text-translate"),L.paint.get("text-translate-anchor"),!0),hy(E,D,L,U,L.paint.get("icon-translate"),L.paint.get("icon-translate-anchor"),!1))})(c,p,y,_,this.style.placement.variableOffsets);break;case"circle":(function(E,D,L,U){if(E.renderPass!=="translucent")return;const q=L.paint.get("circle-opacity"),Y=L.paint.get("circle-stroke-width"),K=L.paint.get("circle-stroke-opacity"),re=!L.layout.get("circle-sort-key").isConstant();if(q.constantOr(1)===0&&(Y.constantOr(1)===0||K.constantOr(1)===0))return;const de=E.context,ce=de.gl,me=E.depthModeForSublayer(0,Dn.ReadOnly),le=lr.disabled,Ae=E.colorModeForRenderPass(),ze=[];for(let ve=0;ve<U.length;ve++){const Ie=U[ve],Be=D.getTile(Ie),Fe=Be.getBucket(L);if(!Fe)continue;const Ke=Fe.programConfigurations.get(L.id),nt=E.useProgram("circle",Ke),tt=Fe.layoutVertexBuffer,at=Fe.indexBuffer,$t=E.style.map.terrain&&E.style.map.terrain.getTerrainData(Ie),_n={programConfiguration:Ke,program:nt,layoutVertexBuffer:tt,indexBuffer:at,uniformValues:Dh(E,Ie,Be,L),terrainData:$t};if(re){const bt=Fe.segments.get();for(const Jt of bt)ze.push({segments:new a.SegmentVector([Jt]),sortKey:Jt.sortKey,state:_n})}else ze.push({segments:Fe.segments,sortKey:0,state:_n})}re&&ze.sort((ve,Ie)=>ve.sortKey-Ie.sortKey);for(const ve of ze){const{programConfiguration:Ie,program:Be,layoutVertexBuffer:Fe,indexBuffer:Ke,uniformValues:nt,terrainData:tt}=ve.state;Be.draw(de,ce.TRIANGLES,me,le,Ae,Cr.disabled,nt,tt,L.id,Fe,Ke,ve.segments,L.paint,E.transform.zoom,Ie)}})(c,p,y,_);break;case"heatmap":(function(E,D,L,U){if(L.paint.get("heatmap-opacity")!==0)if(E.renderPass==="offscreen"){const q=E.context,Y=q.gl,K=lr.disabled,re=new on([Y.ONE,Y.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(de,ce,me){const le=de.gl;de.activeTexture.set(le.TEXTURE1),de.viewport.set([0,0,ce.width/4,ce.height/4]);let Ae=me.heatmapFbo;if(Ae)le.bindTexture(le.TEXTURE_2D,Ae.colorAttachment.get()),de.bindFramebuffer.set(Ae.framebuffer);else{const ze=le.createTexture();le.bindTexture(le.TEXTURE_2D,ze),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_WRAP_S,le.CLAMP_TO_EDGE),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_WRAP_T,le.CLAMP_TO_EDGE),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_MIN_FILTER,le.LINEAR),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_MAG_FILTER,le.LINEAR),Ae=me.heatmapFbo=de.createFramebuffer(ce.width/4,ce.height/4,!1,!1),function(ve,Ie,Be,Fe){var Ke,nt;const tt=ve.gl,at=(Ke=ve.HALF_FLOAT)!==null&&Ke!==void 0?Ke:tt.UNSIGNED_BYTE,$t=(nt=ve.RGBA16F)!==null&&nt!==void 0?nt:tt.RGBA;tt.texImage2D(tt.TEXTURE_2D,0,$t,Ie.width/4,Ie.height/4,0,tt.RGBA,at,null),Fe.colorAttachment.set(Be)}(de,ce,ze,Ae)}})(q,E,L),q.clear({color:a.Color.transparent});for(let de=0;de<U.length;de++){const ce=U[de];if(D.hasRenderableParent(ce))continue;const me=D.getTile(ce),le=me.getBucket(L);if(!le)continue;const Ae=le.programConfigurations.get(L.id),ze=E.useProgram("heatmap",Ae),{zoom:ve}=E.transform;ze.draw(q,Y.TRIANGLES,Dn.disabled,K,re,Cr.disabled,NC(ce.posMatrix,me,ve,L.paint.get("heatmap-intensity")),null,L.id,le.layoutVertexBuffer,le.indexBuffer,le.segments,L.paint,E.transform.zoom,Ae)}q.viewport.set([0,0,E.width,E.height])}else E.renderPass==="translucent"&&(E.context.setColorMode(E.colorModeForRenderPass()),function(q,Y){const K=q.context,re=K.gl,de=Y.heatmapFbo;if(!de)return;K.activeTexture.set(re.TEXTURE0),re.bindTexture(re.TEXTURE_2D,de.colorAttachment.get()),K.activeTexture.set(re.TEXTURE1);let ce=Y.colorRampTexture;ce||(ce=Y.colorRampTexture=new ee(K,Y.colorRamp,re.RGBA)),ce.bind(re.LINEAR,re.CLAMP_TO_EDGE),q.useProgram("heatmapTexture").draw(K,re.TRIANGLES,Dn.disabled,lr.disabled,q.colorModeForRenderPass(),Cr.disabled,((me,le,Ae,ze)=>{const ve=a.create();a.ortho(ve,0,me.width,me.height,0,0,1);const Ie=me.context.gl;return{u_matrix:ve,u_world:[Ie.drawingBufferWidth,Ie.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:le.paint.get("heatmap-opacity")}})(q,Y),null,Y.id,q.viewportBuffer,q.quadTriangleIndexBuffer,q.viewportSegments,Y.paint,q.transform.zoom)}(E,L))})(c,p,y,_);break;case"line":(function(E,D,L,U){if(E.renderPass!=="translucent")return;const q=L.paint.get("line-opacity"),Y=L.paint.get("line-width");if(q.constantOr(1)===0||Y.constantOr(1)===0)return;const K=E.depthModeForSublayer(0,Dn.ReadOnly),re=E.colorModeForRenderPass(),de=L.paint.get("line-dasharray"),ce=L.paint.get("line-pattern"),me=ce.constantOr(1),le=L.paint.get("line-gradient"),Ae=L.getCrossfadeParameters(),ze=me?"linePattern":de?"lineSDF":le?"lineGradient":"line",ve=E.context,Ie=ve.gl;let Be=!0;for(const Fe of U){const Ke=D.getTile(Fe);if(me&&!Ke.patternsLoaded())continue;const nt=Ke.getBucket(L);if(!nt)continue;const tt=nt.programConfigurations.get(L.id),at=E.context.program.get(),$t=E.useProgram(ze,tt),_n=Be||$t.program!==at,bt=E.style.map.terrain&&E.style.map.terrain.getTerrainData(Fe),Jt=ce.constantOr(null);if(Jt&&Ke.imageAtlas){const pn=Ke.imageAtlas,gn=pn.patternPositions[Jt.to.toString()],wn=pn.patternPositions[Jt.from.toString()];gn&&wn&&tt.setConstantPatternPositions(gn,wn)}const Nt=bt?Fe:null,Pr=me?Rx(E,Ke,L,Ae,Nt):de?BC(E,Ke,L,de,Ae,Nt):le?jC(E,Ke,L,nt.lineClipsArray.length,Nt):Xd(E,Ke,L,Nt);if(me)ve.activeTexture.set(Ie.TEXTURE0),Ke.imageAtlasTexture.bind(Ie.LINEAR,Ie.CLAMP_TO_EDGE),tt.updatePaintBuffers(Ae);else if(de&&(_n||E.lineAtlas.dirty))ve.activeTexture.set(Ie.TEXTURE0),E.lineAtlas.bind(ve);else if(le){const pn=nt.gradients[L.id];let gn=pn.texture;if(L.gradientVersion!==pn.version){let wn=256;if(L.stepInterpolant){const Jr=D.getSource().maxzoom,cr=Fe.canonical.z===Jr?Math.ceil(1<<E.transform.maxZoom-Fe.canonical.z):1;wn=a.clamp(a.nextPowerOfTwo(nt.maxLineLength/a.EXTENT*1024*cr),256,ve.maxTextureSize)}pn.gradient=a.renderColorRamp({expression:L.gradientExpression(),evaluationKey:"lineProgress",resolution:wn,image:pn.gradient||void 0,clips:nt.lineClipsArray}),pn.texture?pn.texture.update(pn.gradient):pn.texture=new ee(ve,pn.gradient,Ie.RGBA),pn.version=L.gradientVersion,gn=pn.texture}ve.activeTexture.set(Ie.TEXTURE0),gn.bind(L.stepInterpolant?Ie.NEAREST:Ie.LINEAR,Ie.CLAMP_TO_EDGE)}$t.draw(ve,Ie.TRIANGLES,K,E.stencilModeForClipping(Fe),re,Cr.disabled,Pr,bt,L.id,nt.layoutVertexBuffer,nt.indexBuffer,nt.segments,L.paint,E.transform.zoom,tt,nt.layoutVertexBuffer2),Be=!1}})(c,p,y,_);break;case"fill":(function(E,D,L,U){const q=L.paint.get("fill-color"),Y=L.paint.get("fill-opacity");if(Y.constantOr(1)===0)return;const K=E.colorModeForRenderPass(),re=L.paint.get("fill-pattern"),de=E.opaquePassEnabledForLayer()&&!re.constantOr(1)&&q.constantOr(a.Color.transparent).a===1&&Y.constantOr(0)===1?"opaque":"translucent";if(E.renderPass===de){const ce=E.depthModeForSublayer(1,E.renderPass==="opaque"?Dn.ReadWrite:Dn.ReadOnly);Qd(E,D,L,U,ce,K,!1)}if(E.renderPass==="translucent"&&L.paint.get("fill-antialias")){const ce=E.depthModeForSublayer(L.getPaintProperty("fill-outline-color")?2:0,Dn.ReadOnly);Qd(E,D,L,U,ce,K,!0)}})(c,p,y,_);break;case"fill-extrusion":(function(E,D,L,U){const q=L.paint.get("fill-extrusion-opacity");if(q!==0&&E.renderPass==="translucent"){const Y=new Dn(E.context.gl.LEQUAL,Dn.ReadWrite,E.depthRangeFor3D);if(q!==1||L.paint.get("fill-extrusion-pattern").constantOr(1))Eu(E,D,L,U,Y,lr.disabled,on.disabled),Eu(E,D,L,U,Y,E.stencilModeFor3D(),E.colorModeForRenderPass());else{const K=E.colorModeForRenderPass();Eu(E,D,L,U,Y,lr.disabled,K)}}})(c,p,y,_);break;case"hillshade":(function(E,D,L,U){if(E.renderPass!=="offscreen"&&E.renderPass!=="translucent")return;const q=E.context,Y=E.depthModeForSublayer(0,Dn.ReadOnly),K=E.colorModeForRenderPass(),[re,de]=E.renderPass==="translucent"?E.stencilConfigForOverlap(U):[{},U];for(const ce of de){const me=D.getTile(ce);me.needsHillshadePrepare!==void 0&&me.needsHillshadePrepare&&E.renderPass==="offscreen"?YC(E,me,L,Y,lr.disabled,K):E.renderPass==="translucent"&&gy(E,ce,me,L,Y,re[ce.overscaledZ],K)}q.viewport.set([0,0,E.width,E.height])})(c,p,y,_);break;case"raster":(function(E,D,L,U){if(E.renderPass!=="translucent"||L.paint.get("raster-opacity")===0||!U.length)return;const q=E.context,Y=q.gl,K=D.getSource(),re=E.useProgram("raster"),de=E.colorModeForRenderPass(),[ce,me]=K instanceof vt?[{},U]:E.stencilConfigForOverlap(U),le=me[me.length-1].overscaledZ,Ae=!E.options.moving;for(const ze of me){const ve=E.depthModeForSublayer(ze.overscaledZ-le,L.paint.get("raster-opacity")===1?Dn.ReadWrite:Dn.ReadOnly,Y.LESS),Ie=D.getTile(ze);Ie.registerFadeDuration(L.paint.get("raster-fade-duration"));const Be=D.findLoadedParent(ze,0),Fe=yy(Ie,Be,D,L,E.transform,E.style.map.terrain);let Ke,nt;const tt=L.paint.get("raster-resampling")==="nearest"?Y.NEAREST:Y.LINEAR;q.activeTexture.set(Y.TEXTURE0),Ie.texture.bind(tt,Y.CLAMP_TO_EDGE,Y.LINEAR_MIPMAP_NEAREST),q.activeTexture.set(Y.TEXTURE1),Be?(Be.texture.bind(tt,Y.CLAMP_TO_EDGE,Y.LINEAR_MIPMAP_NEAREST),Ke=Math.pow(2,Be.tileID.overscaledZ-Ie.tileID.overscaledZ),nt=[Ie.tileID.canonical.x*Ke%1,Ie.tileID.canonical.y*Ke%1]):Ie.texture.bind(tt,Y.CLAMP_TO_EDGE,Y.LINEAR_MIPMAP_NEAREST);const at=E.style.map.terrain&&E.style.map.terrain.getTerrainData(ze),$t=at?ze:null,_n=$t?$t.posMatrix:E.transform.calculatePosMatrix(ze.toUnwrapped(),Ae),bt=ey(_n,nt||[0,0],Ke||1,Fe,L);K instanceof vt?re.draw(q,Y.TRIANGLES,ve,lr.disabled,de,Cr.disabled,bt,at,L.id,K.boundsBuffer,E.quadTriangleIndexBuffer,K.boundsSegments):re.draw(q,Y.TRIANGLES,ve,ce[ze.overscaledZ],de,Cr.disabled,bt,at,L.id,E.rasterBoundsBuffer,E.quadTriangleIndexBuffer,E.rasterBoundsSegments)}})(c,p,y,_);break;case"background":(function(E,D,L,U){const q=L.paint.get("background-color"),Y=L.paint.get("background-opacity");if(Y===0)return;const K=E.context,re=K.gl,de=E.transform,ce=de.tileSize,me=L.paint.get("background-pattern");if(E.isPatternMissing(me))return;const le=!me&&q.a===1&&Y===1&&E.opaquePassEnabledForLayer()?"opaque":"translucent";if(E.renderPass!==le)return;const Ae=lr.disabled,ze=E.depthModeForSublayer(0,le==="opaque"?Dn.ReadWrite:Dn.ReadOnly),ve=E.colorModeForRenderPass(),Ie=E.useProgram(me?"backgroundPattern":"background"),Be=U||de.coveringTiles({tileSize:ce,terrain:E.style.map.terrain});me&&(K.activeTexture.set(re.TEXTURE0),E.imageManager.bind(E.context));const Fe=L.getCrossfadeParameters();for(const Ke of Be){const nt=U?Ke.posMatrix:E.transform.calculatePosMatrix(Ke.toUnwrapped()),tt=me?Nh(nt,Y,E,me,{tileID:Ke,tileSize:ce},Fe):mc(nt,Y,q),at=E.style.map.terrain&&E.style.map.terrain.getTerrainData(Ke);Ie.draw(K,re.TRIANGLES,ze,Ae,ve,Cr.disabled,tt,at,L.id,E.tileExtentBuffer,E.quadTriangleIndexBuffer,E.tileExtentSegments)}})(c,0,y,_);break;case"custom":(function(E,D,L){const U=E.context,q=L.implementation;if(E.renderPass==="offscreen"){const Y=q.prerender;Y&&(E.setCustomLayerDefaults(),U.setColorMode(E.colorModeForRenderPass()),Y.call(q,U.gl,E.transform.customLayerMatrix()),U.setDirty(),E.setBaseState())}else if(E.renderPass==="translucent"){E.setCustomLayerDefaults(),U.setColorMode(E.colorModeForRenderPass()),U.setStencilMode(lr.disabled);const Y=q.renderingMode==="3d"?new Dn(E.context.gl.LEQUAL,Dn.ReadWrite,E.depthRangeFor3D):E.depthModeForSublayer(0,Dn.ReadOnly);U.setDepthMode(Y),q.render(U.gl,E.transform.customLayerMatrix()),U.setDirty(),E.setBaseState(),U.bindFramebuffer.set(null)}})(c,0,y)}}translatePosMatrix(c,p,y,_,E){if(!y[0]&&!y[1])return c;const D=E?_==="map"?this.transform.angle:0:_==="viewport"?-this.transform.angle:0;if(D){const q=Math.sin(D),Y=Math.cos(D);y=[y[0]*Y-y[1]*q,y[0]*q+y[1]*Y]}const L=[E?y[0]:Me(p,y[0],this.transform.zoom),E?y[1]:Me(p,y[1],this.transform.zoom),0],U=new Float32Array(16);return a.translate(U,c,L),U}saveTileTexture(c){const p=this._tileTextures[c.size[0]];p?p.push(c):this._tileTextures[c.size[0]]=[c]}getTileTexture(c){const p=this._tileTextures[c];return p&&p.length>0?p.pop():null}isPatternMissing(c){if(!c)return!1;if(!c.from||!c.to)return!0;const p=this.imageManager.getPattern(c.from.toString()),y=this.imageManager.getPattern(c.to.toString());return!p||!y}useProgram(c,p){this.cache=this.cache||{};const y=c+(p?p.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[y]||(this.cache[y]=new Xr(this.context,kl[c],p,pa[c],this._showOverdrawInspector,this.style.map.terrain)),this.cache[y]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new ee(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:c,drawingBufferHeight:p}=this.context.gl;return this.width!==c||this.height!==p}}class Gs{constructor(c,p){this.points=c,this.planes=p}static fromInvProjectionMatrix(c,p,y){const _=Math.pow(2,y),E=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(L=>{const U=1/(L=a.transformMat4([],L,c))[3]/p*_;return a.mul$1(L,L,[U,U,1/L[3],U])}),D=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(L=>{const U=function(re,de){var ce=de[0],me=de[1],le=de[2],Ae=ce*ce+me*me+le*le;return Ae>0&&(Ae=1/Math.sqrt(Ae)),re[0]=de[0]*Ae,re[1]=de[1]*Ae,re[2]=de[2]*Ae,re}([],function(re,de,ce){var me=de[0],le=de[1],Ae=de[2],ze=ce[0],ve=ce[1],Ie=ce[2];return re[0]=le*Ie-Ae*ve,re[1]=Ae*ze-me*Ie,re[2]=me*ve-le*ze,re}([],N([],E[L[0]],E[L[1]]),N([],E[L[2]],E[L[1]]))),q=-((Y=U)[0]*(K=E[L[1]])[0]+Y[1]*K[1]+Y[2]*K[2]);var Y,K;return U.concat(q)});return new Gs(E,D)}}class io{constructor(c,p){this.min=c,this.max=p,this.center=function(y,_,E){return y[0]=.5*_[0],y[1]=.5*_[1],y[2]=.5*_[2],y}([],function(y,_,E){return y[0]=_[0]+E[0],y[1]=_[1]+E[1],y[2]=_[2]+E[2],y}([],this.min,this.max))}quadrant(c){const p=[c%2==0,c<2],y=$(this.min),_=$(this.max);for(let E=0;E<p.length;E++)y[E]=p[E]?this.min[E]:this.center[E],_[E]=p[E]?this.center[E]:this.max[E];return _[2]=this.max[2],new io(y,_)}distanceX(c){return Math.max(Math.min(this.max[0],c[0]),this.min[0])-c[0]}distanceY(c){return Math.max(Math.min(this.max[1],c[1]),this.min[1])-c[1]}intersects(c){const p=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let y=!0;for(let _=0;_<c.planes.length;_++){const E=c.planes[_];let D=0;for(let L=0;L<p.length;L++)a.dot(E,p[L])>=0&&D++;if(D===0)return 0;D!==p.length&&(y=!1)}if(y)return 2;for(let _=0;_<3;_++){let E=Number.MAX_VALUE,D=-Number.MAX_VALUE;for(let L=0;L<c.points.length;L++){const U=c.points[L][_]-this.min[_];E=Math.min(E,U),D=Math.max(D,U)}if(D<0||E>this.max[_]-this.min[_])return 0}return 1}}class tf{constructor(c=0,p=0,y=0,_=0){if(isNaN(c)||c<0||isNaN(p)||p<0||isNaN(y)||y<0||isNaN(_)||_<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=p,this.left=y,this.right=_}interpolate(c,p,y){return p.top!=null&&c.top!=null&&(this.top=a.interpolate.number(c.top,p.top,y)),p.bottom!=null&&c.bottom!=null&&(this.bottom=a.interpolate.number(c.bottom,p.bottom,y)),p.left!=null&&c.left!=null&&(this.left=a.interpolate.number(c.left,p.left,y)),p.right!=null&&c.right!=null&&(this.right=a.interpolate.number(c.right,p.right,y)),this}getCenter(c,p){const y=a.clamp((this.left+c-this.right)/2,0,c),_=a.clamp((this.top+p-this.bottom)/2,0,p);return new a.Point(y,_)}equals(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right}clone(){return new tf(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class nf{constructor(c,p,y,_,E){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=E===void 0||!!E,this._minZoom=c||0,this._maxZoom=p||22,this._minPitch=y??0,this._maxPitch=_??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new tf,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const c=new nf(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return c.apply(this),c}apply(c){this.tileSize=c.tileSize,this.latRange=c.latRange,this.width=c.width,this.height=c.height,this._center=c._center,this._elevation=c._elevation,this._minEleveationForCurrentTile=c._minEleveationForCurrentTile,this.zoom=c.zoom,this.angle=c.angle,this._fov=c._fov,this._pitch=c._pitch,this._unmodified=c._unmodified,this._edgeInsets=c._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))}get maxZoom(){return this._maxZoom}set maxZoom(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))}get minPitch(){return this._minPitch}set minPitch(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))}get maxPitch(){return this._maxPitch}set maxPitch(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.Point(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(c){const p=-a.wrap(c,-180,180)*Math.PI/180;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=function(){var y=new a.ARRAY_TYPE(4);return a.ARRAY_TYPE!=Float32Array&&(y[1]=0,y[2]=0),y[0]=1,y[3]=1,y}(),function(y,_,E){var D=_[0],L=_[1],U=_[2],q=_[3],Y=Math.sin(E),K=Math.cos(E);y[0]=D*K+U*Y,y[1]=L*K+q*Y,y[2]=D*-Y+U*K,y[3]=L*-Y+q*K}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(c){const p=a.clamp(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=c/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(c){const p=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._zoom=p,this.tileZoom=Math.max(0,Math.floor(p)),this.scale=this.zoomScale(p),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(c){c!==this._elevation&&(this._elevation=c,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(c){return this._edgeInsets.equals(c)}interpolatePadding(c,p,y){this._unmodified=!1,this._edgeInsets.interpolate(c,p,y),this._constrain(),this._calcMatrices()}coveringZoomLevel(c){const p=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,p)}getVisibleUnwrappedCoordinates(c){const p=[new a.UnwrappedTileID(0,c)];if(this._renderWorldCopies){const y=this.pointCoordinate(new a.Point(0,0)),_=this.pointCoordinate(new a.Point(this.width,0)),E=this.pointCoordinate(new a.Point(this.width,this.height)),D=this.pointCoordinate(new a.Point(0,this.height)),L=Math.floor(Math.min(y.x,_.x,E.x,D.x)),U=Math.floor(Math.max(y.x,_.x,E.x,D.x)),q=1;for(let Y=L-q;Y<=U+q;Y++)Y!==0&&p.push(new a.UnwrappedTileID(Y,c))}return p}coveringTiles(c){var p,y;let _=this.coveringZoomLevel(c);const E=_;if(c.minzoom!==void 0&&_<c.minzoom)return[];c.maxzoom!==void 0&&_>c.maxzoom&&(_=c.maxzoom);const D=this.pointCoordinate(this.getCameraPoint()),L=a.MercatorCoordinate.fromLngLat(this.center),U=Math.pow(2,_),q=[U*D.x,U*D.y,0],Y=[U*L.x,U*L.y,0],K=Gs.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,_);let re=c.minzoom||0;!c.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(re=_);const de=c.terrain?2/Math.min(this.tileSize,c.tileSize)*this.tileSize:3,ce=ve=>({aabb:new io([ve*U,0,0],[(ve+1)*U,U,0]),zoom:0,x:0,y:0,wrap:ve,fullyVisible:!1}),me=[],le=[],Ae=_,ze=c.reparseOverscaled?E:_;if(this._renderWorldCopies)for(let ve=1;ve<=3;ve++)me.push(ce(-ve)),me.push(ce(ve));for(me.push(ce(0));me.length>0;){const ve=me.pop(),Ie=ve.x,Be=ve.y;let Fe=ve.fullyVisible;if(!Fe){const $t=ve.aabb.intersects(K);if($t===0)continue;Fe=$t===2}const Ke=c.terrain?q:Y,nt=ve.aabb.distanceX(Ke),tt=ve.aabb.distanceY(Ke),at=Math.max(Math.abs(nt),Math.abs(tt));if(ve.zoom===Ae||at>de+(1<<Ae-ve.zoom)-2&&ve.zoom>=re){const $t=Ae-ve.zoom,_n=q[0]-.5-(Ie<<$t),bt=q[1]-.5-(Be<<$t);le.push({tileID:new a.OverscaledTileID(ve.zoom===Ae?ze:ve.zoom,ve.wrap,ve.zoom,Ie,Be),distanceSq:F([Y[0]-.5-Ie,Y[1]-.5-Be]),tileDistanceToCamera:Math.sqrt(_n*_n+bt*bt)})}else for(let $t=0;$t<4;$t++){const _n=(Ie<<1)+$t%2,bt=(Be<<1)+($t>>1),Jt=ve.zoom+1;let Nt=ve.aabb.quadrant($t);if(c.terrain){const Pr=new a.OverscaledTileID(Jt,ve.wrap,Jt,_n,bt),pn=c.terrain.getMinMaxElevation(Pr),gn=(p=pn.minElevation)!==null&&p!==void 0?p:this.elevation,wn=(y=pn.maxElevation)!==null&&y!==void 0?y:this.elevation;Nt=new io([Nt.min[0],Nt.min[1],gn],[Nt.max[0],Nt.max[1],wn])}me.push({aabb:Nt,zoom:Jt,x:_n,y:bt,wrap:ve.wrap,fullyVisible:Fe})}}return le.sort((ve,Ie)=>ve.distanceSq-Ie.distanceSq).map(ve=>ve.tileID)}resize(c,p){this.width=c,this.height=p,this.pixelsToGLUnits=[2/c,-2/p],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(c){return Math.pow(2,c)}scaleZoom(c){return Math.log(c)/Math.LN2}project(c){const p=a.clamp(c.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(c.lng)*this.worldSize,a.mercatorYfromLat(p)*this.worldSize)}unproject(c){return new a.MercatorCoordinate(c.x/this.worldSize,c.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(c){const p=this.pointLocation(this.centerPoint,c),y=c.getElevationForLngLatZoom(p,this.tileZoom);if(!(this.elevation-y))return;const _=this.getCameraPosition(),E=a.MercatorCoordinate.fromLngLat(_.lngLat,_.altitude),D=a.MercatorCoordinate.fromLngLat(p,y),L=E.x-D.x,U=E.y-D.y,q=E.z-D.z,Y=Math.sqrt(L*L+U*U+q*q),K=this.scaleZoom(this.cameraToCenterDistance/Y/this.tileSize);this._elevation=y,this._center=p,this.zoom=K}setLocationAtPoint(c,p){const y=this.pointCoordinate(p),_=this.pointCoordinate(this.centerPoint),E=this.locationCoordinate(c),D=new a.MercatorCoordinate(E.x-(y.x-_.x),E.y-(y.y-_.y));this.center=this.coordinateLocation(D),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(c,p){return p?this.coordinatePoint(this.locationCoordinate(c),p.getElevationForLngLatZoom(c,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(c))}pointLocation(c,p){return this.coordinateLocation(this.pointCoordinate(c,p))}locationCoordinate(c){return a.MercatorCoordinate.fromLngLat(c)}coordinateLocation(c){return c&&c.toLngLat()}pointCoordinate(c,p){if(p){const re=p.pointCoordinate(c);if(re!=null)return re}const y=[c.x,c.y,0,1],_=[c.x,c.y,1,1];a.transformMat4(y,y,this.pixelMatrixInverse),a.transformMat4(_,_,this.pixelMatrixInverse);const E=y[3],D=_[3],L=y[1]/E,U=_[1]/D,q=y[2]/E,Y=_[2]/D,K=q===Y?0:(0-q)/(Y-q);return new a.MercatorCoordinate(a.interpolate.number(y[0]/E,_[0]/D,K)/this.worldSize,a.interpolate.number(L,U,K)/this.worldSize)}coordinatePoint(c,p=0,y=this.pixelMatrix){const _=[c.x*this.worldSize,c.y*this.worldSize,p,1];return a.transformMat4(_,_,y),new a.Point(_[0]/_[3],_[1]/_[3])}getBounds(){const c=Math.max(0,this.height/2-this.getHorizon());return new Je().extend(this.pointLocation(new a.Point(0,c))).extend(this.pointLocation(new a.Point(this.width,c))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new Je([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(c){c?(this.lngRange=[c.getWest(),c.getEast()],this.latRange=[c.getSouth(),c.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(c,p=!1){const y=c.key,_=p?this._alignedPosMatrixCache:this._posMatrixCache;if(_[y])return _[y];const E=c.canonical,D=this.worldSize/this.zoomScale(E.z),L=E.x+Math.pow(2,E.z)*c.wrap,U=a.identity(new Float64Array(16));return a.translate(U,U,[L*D,E.y*D,0]),a.scale(U,U,[D/a.EXTENT,D/a.EXTENT,1]),a.multiply(U,p?this.alignedProjMatrix:this.projMatrix,U),_[y]=new Float32Array(U),_[y]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let c,p,y,_,E=-90,D=90,L=-180,U=180;const q=this.size,Y=this._unmodified;if(this.latRange){const de=this.latRange;E=a.mercatorYfromLat(de[1])*this.worldSize,D=a.mercatorYfromLat(de[0])*this.worldSize,c=D-E<q.y?q.y/(D-E):0}if(this.lngRange){const de=this.lngRange;L=a.wrap(a.mercatorXfromLng(de[0])*this.worldSize,0,this.worldSize),U=a.wrap(a.mercatorXfromLng(de[1])*this.worldSize,0,this.worldSize),U<L&&(U+=this.worldSize),p=U-L<q.x?q.x/(U-L):0}const K=this.point,re=Math.max(p||0,c||0);if(re)return this.center=this.unproject(new a.Point(p?(U+L)/2:K.x,c?(D+E)/2:K.y)),this.zoom+=this.scaleZoom(re),this._unmodified=Y,void(this._constraining=!1);if(this.latRange){const de=K.y,ce=q.y/2;de-ce<E&&(_=E+ce),de+ce>D&&(_=D-ce)}if(this.lngRange){const de=(L+U)/2,ce=a.wrap(K.x,de-this.worldSize/2,de+this.worldSize/2),me=q.x/2;ce-me<L&&(y=L+me),ce+me>U&&(y=U-me)}y===void 0&&_===void 0||(this.center=this.unproject(new a.Point(y!==void 0?y:K.x,_!==void 0?_:K.y)).wrap()),this._unmodified=Y,this._constraining=!1}_calcMatrices(){if(!this.height)return;const c=this.centerOffset,p=this.point.x,y=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let _=a.identity(new Float64Array(16));a.scale(_,_,[this.width/2,-this.height/2,1]),a.translate(_,_,[1,-1,0]),this.labelPlaneMatrix=_,_=a.identity(new Float64Array(16)),a.scale(_,_,[1,-1,1]),a.translate(_,_,[-1,-1,0]),a.scale(_,_,[2/this.width,2/this.height,1]),this.glCoordMatrix=_;const E=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),D=Math.min(this.elevation,this._minEleveationForCurrentTile),L=E-D*this._pixelPerMeter/Math.cos(this._pitch),U=D<0?L:E,q=Math.PI/2+this._pitch,Y=this._fov*(.5+c.y/this.height),K=Math.sin(Y)*U/Math.sin(a.clamp(Math.PI-q-Y,.01,Math.PI-.01)),re=this.getHorizon(),de=2*Math.atan(re/this.cameraToCenterDistance)*(.5+c.y/(2*re)),ce=Math.sin(de)*U/Math.sin(a.clamp(Math.PI-q-de,.01,Math.PI-.01)),me=Math.min(K,ce),le=1.01*(Math.cos(Math.PI/2-this._pitch)*me+U),Ae=this.height/50;_=new Float64Array(16),a.perspective(_,this._fov,this.width/this.height,Ae,le),_[8]=2*-c.x/this.width,_[9]=2*c.y/this.height,a.scale(_,_,[1,-1,1]),a.translate(_,_,[0,0,-this.cameraToCenterDistance]),a.rotateX(_,_,this._pitch),a.rotateZ(_,_,this.angle),a.translate(_,_,[-p,-y,0]),this.mercatorMatrix=a.scale([],_,[this.worldSize,this.worldSize,this.worldSize]),a.scale(_,_,[1,1,this._pixelPerMeter]),this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,_),a.translate(_,_,[0,0,-this.elevation]),this.projMatrix=_,this.invProjMatrix=a.invert([],_),this.pixelMatrix3D=a.multiply(new Float64Array(16),this.labelPlaneMatrix,_);const ze=this.width%2/2,ve=this.height%2/2,Ie=Math.cos(this.angle),Be=Math.sin(this.angle),Fe=p-Math.round(p)+Ie*ze+Be*ve,Ke=y-Math.round(y)+Ie*ve+Be*ze,nt=new Float64Array(_);if(a.translate(nt,nt,[Fe>.5?Fe-1:Fe,Ke>.5?Ke-1:Ke,0]),this.alignedProjMatrix=nt,_=a.invert(new Float64Array(16),this.pixelMatrix),!_)throw new Error("failed to invert matrix");this.pixelMatrixInverse=_,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const c=this.pointCoordinate(new a.Point(0,0)),p=[c.x*this.worldSize,c.y*this.worldSize,0,1];return a.transformMat4(p,p,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,c))}getCameraQueryGeometry(c){const p=this.getCameraPoint();if(c.length===1)return[c[0],p];{let y=p.x,_=p.y,E=p.x,D=p.y;for(const L of c)y=Math.min(y,L.x),_=Math.min(_,L.y),E=Math.max(E,L.x),D=Math.max(D,L.y);return[new a.Point(y,_),new a.Point(E,_),new a.Point(E,D),new a.Point(y,D),new a.Point(y,_)]}}}function _y(w,c){let p,y=!1,_=null,E=null;const D=()=>{_=null,y&&(w.apply(E,p),_=setTimeout(D,c),y=!1)};return(...L)=>(y=!0,E=this,p=L,_||D(),_)}class Tu{constructor(c){this._getCurrentHash=()=>{const p=window.location.hash.replace("#","");if(this._hashName){let y;return p.split("&").map(_=>_.split("=")).forEach(_=>{_[0]===this._hashName&&(y=_)}),(y&&y[1]||"").split("/")}return p.split("/")},this._onHashChange=()=>{const p=this._getCurrentHash();if(p.length>=3&&!p.some(y=>isNaN(y))){const y=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(p[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+p[2],+p[1]],zoom:+p[0],bearing:y,pitch:+(p[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const p=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,p)}catch{}},this._updateHash=_y(this._updateHashUnthrottled,300),this._hashName=c&&encodeURIComponent(c)}addTo(c){return this._map=c,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(c){const p=this._map.getCenter(),y=Math.round(100*this._map.getZoom())/100,_=Math.ceil((y*Math.LN2+Math.log(512/360/.5))/Math.LN10),E=Math.pow(10,_),D=Math.round(p.lng*E)/E,L=Math.round(p.lat*E)/E,U=this._map.getBearing(),q=this._map.getPitch();let Y="";if(Y+=c?`/${D}/${L}/${y}`:`${y}/${L}/${D}`,(U||q)&&(Y+="/"+Math.round(10*U)/10),q&&(Y+=`/${Math.round(q)}`),this._hashName){const K=this._hashName;let re=!1;const de=window.location.hash.slice(1).split("&").map(ce=>{const me=ce.split("=")[0];return me===K?(re=!0,`${me}=${Y}`):ce}).filter(ce=>ce);return re||de.push(`${K}=${Y}`),`#${de.join("&")}`}return`#${Y}`}}const Ol={linearity:.3,easing:a.bezier(0,0,.3,1)},wy=a.extend({deceleration:2500,maxSpeed:1400},Ol),qx=a.extend({deceleration:20,maxSpeed:1400},Ol),Gx=a.extend({deceleration:1e3,maxSpeed:360},Ol),Hx=a.extend({deceleration:1e3,maxSpeed:90},Ol);class Yx{constructor(c){this._map=c,this.clear()}clear(){this._inertiaBuffer=[]}record(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:c})}_drainInertiaBuffer(){const c=this._inertiaBuffer,p=a.browser.now();for(;c.length>0&&p-c[0].time>160;)c.shift()}_onMoveEnd(c){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const p={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:E}of this._inertiaBuffer)p.zoom+=E.zoomDelta||0,p.bearing+=E.bearingDelta||0,p.pitch+=E.pitchDelta||0,E.panDelta&&p.pan._add(E.panDelta),E.around&&(p.around=E.around),E.pinchAround&&(p.pinchAround=E.pinchAround);const y=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,_={};if(p.pan.mag()){const E=ss(p.pan.mag(),y,a.extend({},wy,c||{}));_.offset=p.pan.mult(E.amount/p.pan.mag()),_.center=this._map.transform.center,rf(_,E)}if(p.zoom){const E=ss(p.zoom,y,qx);_.zoom=this._map.transform.zoom+E.amount,rf(_,E)}if(p.bearing){const E=ss(p.bearing,y,Gx);_.bearing=this._map.transform.bearing+a.clamp(E.amount,-179,179),rf(_,E)}if(p.pitch){const E=ss(p.pitch,y,Hx);_.pitch=this._map.transform.pitch+E.amount,rf(_,E)}if(_.zoom||_.bearing){const E=p.pinchAround===void 0?p.around:p.pinchAround;_.around=E?this._map.unproject(E):this._map.getCenter()}return this.clear(),a.extend(_,{noMoveStart:!0})}}function rf(w,c){(!w.duration||w.duration<c.duration)&&(w.duration=c.duration,w.easing=c.easing)}function ss(w,c,p){const{maxSpeed:y,linearity:_,deceleration:E}=p,D=a.clamp(w*_/(c/1e3),-y,y),L=Math.abs(D)/(E*_);return{easing:p.easing,duration:1e3*L,amount:D*(L/2)}}class Yo extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,y,_={}){const E=h.mousePos(p.getCanvasContainer(),y),D=p.unproject(E);super(c,a.extend({point:E,lngLat:D,originalEvent:y},_)),this._defaultPrevented=!1,this.target=p}}class of extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,y){const _=c==="touchend"?y.changedTouches:y.touches,E=h.touchPos(p.getCanvasContainer(),_),D=E.map(U=>p.unproject(U)),L=E.reduce((U,q,Y,K)=>U.add(q.div(K.length)),new a.Point(0,0));super(c,{points:E,point:L,lngLats:D,lngLat:p.unproject(L),originalEvent:y}),this._defaultPrevented=!1}}class Kx extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,p,y){super(c,{originalEvent:y}),this._defaultPrevented=!1}}class Zx{constructor(c,p){this._map=c,this._clickTolerance=p.clickTolerance}reset(){delete this._mousedownPos}wheel(c){return this._firePreventable(new Kx(c.type,this._map,c))}mousedown(c,p){return this._mousedownPos=p,this._firePreventable(new Yo(c.type,this._map,c))}mouseup(c){this._map.fire(new Yo(c.type,this._map,c))}click(c,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||this._map.fire(new Yo(c.type,this._map,c))}dblclick(c){return this._firePreventable(new Yo(c.type,this._map,c))}mouseover(c){this._map.fire(new Yo(c.type,this._map,c))}mouseout(c){this._map.fire(new Yo(c.type,this._map,c))}touchstart(c){return this._firePreventable(new of(c.type,this._map,c))}touchmove(c){this._map.fire(new of(c.type,this._map,c))}touchend(c){this._map.fire(new of(c.type,this._map,c))}touchcancel(c){this._map.fire(new of(c.type,this._map,c))}_firePreventable(c){if(this._map.fire(c),c.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Xx{constructor(c){this._map=c}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(c){this._map.fire(new Yo(c.type,this._map,c))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Yo("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(c){this._delayContextMenu?this._contextMenuEvent=c:this._ignoreContextMenu||this._map.fire(new Yo(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ku{constructor(c){this._map=c}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(c){return this.transform.pointLocation(a.Point.convert(c),this._map.terrain)}}class af{constructor(c,p){this._map=c,this._tr=new ku(c),this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=p.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(c,p){this.isEnabled()&&c.shiftKey&&c.button===0&&(h.disableDrag(),this._startPos=this._lastPos=p,this._active=!0)}mousemoveWindow(c,p){if(!this._active)return;const y=p;if(this._lastPos.equals(y)||!this._box&&y.dist(this._startPos)<this._clickTolerance)return;const _=this._startPos;this._lastPos=y,this._box||(this._box=h.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",c));const E=Math.min(_.x,y.x),D=Math.max(_.x,y.x),L=Math.min(_.y,y.y),U=Math.max(_.y,y.y);h.setTransform(this._box,`translate(${E}px,${L}px)`),this._box.style.width=D-E+"px",this._box.style.height=U-L+"px"}mouseupWindow(c,p){if(!this._active||c.button!==0)return;const y=this._startPos,_=p;if(this.reset(),h.suppressClick(),y.x!==_.x||y.y!==_.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:c})),{cameraAnimation:E=>E.fitScreenCoordinates(y,_,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",c)}keydown(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(h.remove(this._box),this._box=null),h.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(c,p){return this._map.fire(new a.Event(c,{originalEvent:p}))}}function tp(w,c){if(w.length!==c.length)throw new Error(`The number of touches and points are not equal - touches ${w.length}, points ${c.length}`);const p={};for(let y=0;y<w.length;y++)p[w[y].identifier]=c[y];return p}class ls{constructor(c){this.reset(),this.numTouches=c.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(c,p,y){(this.centroid||y.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=c.timeStamp),y.length===this.numTouches&&(this.centroid=function(_){const E=new a.Point(0,0);for(const D of _)E._add(D);return E.div(_.length)}(p),this.touches=tp(y,p)))}touchmove(c,p,y){if(this.aborted||!this.centroid)return;const _=tp(y,p);for(const E in this.touches){const D=_[E];(!D||D.dist(this.touches[E])>30)&&(this.aborted=!0)}}touchend(c,p,y){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),y.length===0){const _=!this.aborted&&this.centroid;if(this.reset(),_)return _}}}class Aa{constructor(c){this.singleTap=new ls(c),this.numTaps=c.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(c,p,y){this.singleTap.touchstart(c,p,y)}touchmove(c,p,y){this.singleTap.touchmove(c,p,y)}touchend(c,p,y){const _=this.singleTap.touchend(c,p,y);if(_){const E=c.timeStamp-this.lastTime<500,D=!this.lastTap||this.lastTap.dist(_)<30;if(E&&D||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=_,this.count===this.numTaps)return this.reset(),_}}}class Jx{constructor(c){this._tr=new ku(c),this._zoomIn=new Aa({numTouches:1,numTaps:2}),this._zoomOut=new Aa({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(c,p,y){this._zoomIn.touchstart(c,p,y),this._zoomOut.touchstart(c,p,y)}touchmove(c,p,y){this._zoomIn.touchmove(c,p,y),this._zoomOut.touchmove(c,p,y)}touchend(c,p,y){const _=this._zoomIn.touchend(c,p,y),E=this._zoomOut.touchend(c,p,y),D=this._tr;return _?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:L=>L.easeTo({duration:300,zoom:D.zoom+1,around:D.unproject(_)},{originalEvent:c})}):E?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:L=>L.easeTo({duration:300,zoom:D.zoom-1,around:D.unproject(E)},{originalEvent:c})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ko{constructor(c){this._enabled=!!c.enable,this._moveStateManager=c.moveStateManager,this._clickTolerance=c.clickTolerance||1,this._moveFunction=c.move,this._activateOnStart=!!c.activateOnStart,c.assignEvents(this),this.reset()}reset(c){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(c)}_move(...c){const p=this._moveFunction(...c);if(p.bearingDelta||p.pitchDelta||p.around||p.panDelta)return this._active=!0,p}dragStart(c,p){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(c)&&(this._moveStateManager.startMove(c),this._lastPoint=p.length?p[0]:p,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(c,p){if(!this.isEnabled())return;const y=this._lastPoint;if(!y)return;if(c.preventDefault(),!this._moveStateManager.isValidMoveEvent(c))return void this.reset(c);const _=p.length?p[0]:p;return!this._moved&&_.dist(y)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=_,this._move(y,_))}dragEnd(c){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(c)&&(this._moved&&h.suppressClick(),this.reset(c))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const sf={0:1,2:2};class Sy{constructor(c){this._correctEvent=c.checkCorrectEvent}startMove(c){const p=h.mouseButton(c);this._eventButton=p}endMove(c){delete this._eventButton}isValidStartEvent(c){return this._correctEvent(c)}isValidMoveEvent(c){return!function(p,y){const _=sf[y];return p.buttons===void 0||(p.buttons&_)!==_}(c,this._eventButton)}isValidEndEvent(c){return h.mouseButton(c)===this._eventButton}}class Qx{constructor(){this._firstTouch=void 0}_isOneFingerTouch(c){return c.targetTouches.length===1}_isSameTouchEvent(c){return c.targetTouches[0].identifier===this._firstTouch}startMove(c){this._firstTouch=c.targetTouches[0].identifier}endMove(c){delete this._firstTouch}isValidStartEvent(c){return this._isOneFingerTouch(c)}isValidMoveEvent(c){return this._isOneFingerTouch(c)&&this._isSameTouchEvent(c)}isValidEndEvent(c){return this._isOneFingerTouch(c)&&this._isSameTouchEvent(c)}}const Ey=w=>{w.mousedown=w.dragStart,w.mousemoveWindow=w.dragMove,w.mouseup=w.dragEnd,w.contextmenu=function(c){c.preventDefault()}},Cy=({enable:w,clickTolerance:c,bearingDegreesPerPixelMoved:p=.8})=>{const y=new Sy({checkCorrectEvent:_=>h.mouseButton(_)===0&&_.ctrlKey||h.mouseButton(_)===2});return new Ko({clickTolerance:c,move:(_,E)=>({bearingDelta:(E.x-_.x)*p}),moveStateManager:y,enable:w,assignEvents:Ey})},Pu=({enable:w,clickTolerance:c,pitchDegreesPerPixelMoved:p=-.5})=>{const y=new Sy({checkCorrectEvent:_=>h.mouseButton(_)===0&&_.ctrlKey||h.mouseButton(_)===2});return new Ko({clickTolerance:c,move:(_,E)=>({pitchDelta:(E.y-_.y)*p}),moveStateManager:y,enable:w,assignEvents:Ey})};class Al{constructor(c,p){this._minTouches=c.cooperativeGestures?2:1,this._clickTolerance=c.clickTolerance||1,this._map=p,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.Point(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(c,p,y){return this._calculateTransform(c,p,y)}touchmove(c,p,y){if(this._map._cooperativeGestures&&(this._minTouches===2&&y.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(c,!1,y.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(y.length<this._minTouches))return c.preventDefault(),this._calculateTransform(c,p,y)}touchend(c,p,y){this._calculateTransform(c,p,y),this._active&&y.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(c,p,y){y.length>0&&(this._active=!0);const _=tp(y,p),E=new a.Point(0,0),D=new a.Point(0,0);let L=0;for(const q in _){const Y=_[q],K=this._touches[q];K&&(E._add(Y),D._add(Y.sub(K)),L++,_[q]=Y)}if(this._touches=_,L<this._minTouches||!D.mag())return;const U=D.div(L);return this._sum._add(U),this._sum.mag()<this._clickTolerance?void 0:{around:E.div(L),panDelta:U}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class kt{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(c,p,y){this._firstTwoTouches||y.length<2||(this._firstTwoTouches=[y[0].identifier,y[1].identifier],this._start([p[0],p[1]]))}touchmove(c,p,y){if(!this._firstTwoTouches)return;c.preventDefault();const[_,E]=this._firstTwoTouches,D=lf(y,p,_),L=lf(y,p,E);if(!D||!L)return;const U=this._aroundCenter?null:D.add(L).div(2);return this._move([D,L],U,c)}touchend(c,p,y){if(!this._firstTwoTouches)return;const[_,E]=this._firstTwoTouches,D=lf(y,p,_),L=lf(y,p,E);D&&L||(this._active&&h.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function lf(w,c,p){for(let y=0;y<w.length;y++)if(w[y].identifier===p)return c[y]}function Ou(w,c){return Math.log(w/c)/Math.LN2}class cf extends kt{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(c){this._startDistance=this._distance=c[0].dist(c[1])}_move(c,p){const y=this._distance;if(this._distance=c[0].dist(c[1]),this._active||!(Math.abs(Ou(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Ou(this._distance,y),pinchAround:p}}}function Ty(w,c){return 180*w.angleWith(c)/Math.PI}class St extends kt{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(c){this._startVector=this._vector=c[0].sub(c[1]),this._minDiameter=c[0].dist(c[1])}_move(c,p){const y=this._vector;if(this._vector=c[0].sub(c[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Ty(this._vector,y),pinchAround:p}}_isBelowThreshold(c){this._minDiameter=Math.min(this._minDiameter,c.mag());const p=25/(Math.PI*this._minDiameter)*360,y=Ty(c,this._startVector);return Math.abs(y)<p}}function uf(w){return Math.abs(w.y)>Math.abs(w.x)}class XC extends kt{constructor(c){super(),this._map=c}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(c,p,y){super.touchstart(c,p,y),this._currentTouchCount=y.length}_start(c){this._lastPoints=c,uf(c[0].sub(c[1]))&&(this._valid=!1)}_move(c,p,y){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const _=c[0].sub(this._lastPoints[0]),E=c[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(_,E,y.timeStamp),this._valid?(this._lastPoints=c,this._active=!0,{pitchDelta:(_.y+E.y)/2*-.5}):void 0}gestureBeginsVertically(c,p,y){if(this._valid!==void 0)return this._valid;const _=c.mag()>=2,E=p.mag()>=2;if(!_&&!E)return;if(!_||!E)return this._firstMove===void 0&&(this._firstMove=y),y-this._firstMove<100&&void 0;const D=c.y>0==p.y>0;return uf(c)&&uf(p)&&D}}const JC={panStep:100,bearingStep:15,pitchStep:10};class ky{constructor(c){this._tr=new ku(c);const p=JC;this._panStep=p.panStep,this._bearingStep=p.bearingStep,this._pitchStep=p.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(c){if(c.altKey||c.ctrlKey||c.metaKey)return;let p=0,y=0,_=0,E=0,D=0;switch(c.keyCode){case 61:case 107:case 171:case 187:p=1;break;case 189:case 109:case 173:p=-1;break;case 37:c.shiftKey?y=-1:(c.preventDefault(),E=-1);break;case 39:c.shiftKey?y=1:(c.preventDefault(),E=1);break;case 38:c.shiftKey?_=1:(c.preventDefault(),D=-1);break;case 40:c.shiftKey?_=-1:(c.preventDefault(),D=1);break;default:return}return this._rotationDisabled&&(y=0,_=0),{cameraAnimation:L=>{const U=this._tr;L.easeTo({duration:300,easeId:"keyboardHandler",easing:e_,zoom:p?Math.round(U.zoom)+p*(c.shiftKey?2:1):U.zoom,bearing:U.bearing+y*this._bearingStep,pitch:U.pitch+_*this._pitchStep,offset:[-E*this._panStep,-D*this._panStep],center:U.center},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function e_(w){return w*(2-w)}const Py=4.000244140625;class QC{constructor(c,p){this._onTimeout=y=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(y)},this._map=c,this._tr=new ku(c),this._el=c.getCanvasContainer(),this._triggerRenderFrame=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(c){this._defaultZoomRate=c}setWheelZoomRate(c){this._wheelZoomRate=c}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!c&&c.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(c){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!c[this._map._metaKey])return;c.preventDefault()}let p=c.deltaMode===WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY;const y=a.browser.now(),_=y-(this._lastWheelEventTime||0);this._lastWheelEventTime=y,p!==0&&p%Py==0?this._type="wheel":p!==0&&Math.abs(p)<4?this._type="trackpad":_>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(_*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),c.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=c,this._delta-=p,this._active||this._start(c)),c.preventDefault()}_start(c){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const p=h.mousePos(this._el,c),y=this._tr;this._around=a.LngLat.convert(this._aroundCenter?y.center:y.unproject(p)),this._aroundPoint=y.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const c=this._tr.transform;if(this._delta!==0){const L=this._type==="wheel"&&Math.abs(this._delta)>Py?this._wheelZoomRate:this._defaultZoomRate;let U=2/(1+Math.exp(-Math.abs(this._delta*L)));this._delta<0&&U!==0&&(U=1/U);const q=typeof this._targetZoom=="number"?c.zoomScale(this._targetZoom):c.scale;this._targetZoom=Math.min(c.maxZoom,Math.max(c.minZoom,c.scaleZoom(q*U))),this._type==="wheel"&&(this._startZoom=c.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const p=typeof this._targetZoom=="number"?this._targetZoom:c.zoom,y=this._startZoom,_=this._easing;let E,D=!1;if(this._type==="wheel"&&y&&_){const L=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),U=_(L);E=a.interpolate.number(y,p,U),L<1?this._frameId||(this._frameId=!0):D=!0}else E=p,D=!0;return this._active=!0,D&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!D,zoomDelta:E-c.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(c){let p=a.defaultEasing;if(this._prevEase){const y=this._prevEase,_=(a.browser.now()-y.start)/y.duration,E=y.easing(_+.01)-y.easing(_),D=.27/Math.sqrt(E*E+1e-4)*.01,L=Math.sqrt(.0729-D*D);p=a.bezier(D,L,.25,1)}return this._prevEase={start:a.browser.now(),duration:c,easing:p},p}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class eT{constructor(c,p){this._clickZoom=c,this._tapZoom=p}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Oy{constructor(c){this._tr=new ku(c),this.reset()}reset(){this._active=!1}dblclick(c,p){return c.preventDefault(),{cameraAnimation:y=>{y.easeTo({duration:300,zoom:this._tr.zoom+(c.shiftKey?-1:1),around:this._tr.unproject(p)},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ay{constructor(){this._tap=new Aa({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(c,p,y){if(!this._swipePoint)if(this._tapTime){const _=p[0],E=c.timeStamp-this._tapTime<500,D=this._tapPoint.dist(_)<30;E&&D?y.length>0&&(this._swipePoint=_,this._swipeTouch=y[0].identifier):this.reset()}else this._tap.touchstart(c,p,y)}touchmove(c,p,y){if(this._tapTime){if(this._swipePoint){if(y[0].identifier!==this._swipeTouch)return;const _=p[0],E=_.y-this._swipePoint.y;return this._swipePoint=_,c.preventDefault(),this._active=!0,{zoomDelta:E/128}}}else this._tap.touchmove(c,p,y)}touchend(c,p,y){if(this._tapTime)this._swipePoint&&y.length===0&&this.reset();else{const _=this._tap.touchend(c,p,y);_&&(this._tapTime=c.timeStamp,this._tapPoint=_)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class My{constructor(c,p,y){this._el=c,this._mousePan=p,this._touchPan=y}enable(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Iy{constructor(c,p,y){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=p,this._mousePitch=y}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class So{constructor(c,p,y,_){this._el=c,this._touchZoom=p,this._touchRotate=y,this._tapDragZoom=_,this._rotationDisabled=!1,this._enabled=!0}enable(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Ma=w=>w.zoom||w.drag||w.pitch||w.rotate;class t_ extends a.Event{}function df(w){return w.panDelta&&w.panDelta.mag()||w.zoomDelta||w.bearingDelta||w.pitchDelta}class $y{constructor(c,p){this.handleWindowEvent=_=>{this.handleEvent(_,`${_.type}Window`)},this.handleEvent=(_,E)=>{if(_.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const D=_.type==="renderFrame"?void 0:_,L={needsRenderFrame:!1},U={},q={},Y=_.touches,K=Y?this._getMapTouches(Y):void 0,re=K?h.touchPos(this._el,K):h.mousePos(this._el,_);for(const{handlerName:me,handler:le,allowed:Ae}of this._handlers){if(!le.isEnabled())continue;let ze;this._blockedByActive(q,Ae,me)?le.reset():le[E||_.type]&&(ze=le[E||_.type](_,re,K),this.mergeHandlerResult(L,U,ze,me,D),ze&&ze.needsRenderFrame&&this._triggerRenderFrame()),(ze||le.isActive())&&(q[me]=le)}const de={};for(const me in this._previousActiveHandlers)q[me]||(de[me]=D);this._previousActiveHandlers=q,(Object.keys(de).length||df(L))&&(this._changes.push([L,U,de]),this._triggerRenderFrame()),(Object.keys(q).length||df(L))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ce}=L;ce&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ce(this._map))},this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Yx(c),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(p);const y=this._el;this._listeners=[[y,"touchstart",{passive:!0}],[y,"touchmove",{passive:!1}],[y,"touchend",void 0],[y,"touchcancel",void 0],[y,"mousedown",void 0],[y,"mousemove",void 0],[y,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[y,"mouseover",void 0],[y,"mouseout",void 0],[y,"dblclick",void 0],[y,"click",void 0],[y,"keydown",{capture:!1}],[y,"keyup",void 0],[y,"wheel",{passive:!1}],[y,"contextmenu",void 0],[window,"blur",void 0]];for(const[_,E,D]of this._listeners)h.addEventListener(_,E,_===document?this.handleWindowEvent:this.handleEvent,D)}destroy(){for(const[c,p,y]of this._listeners)h.removeEventListener(c,p,c===document?this.handleWindowEvent:this.handleEvent,y)}_addDefaultHandlers(c){const p=this._map,y=p.getCanvasContainer();this._add("mapEvent",new Zx(p,c));const _=p.boxZoom=new af(p,c);this._add("boxZoom",_),c.interactive&&c.boxZoom&&_.enable();const E=new Jx(p),D=new Oy(p);p.doubleClickZoom=new eT(D,E),this._add("tapZoom",E),this._add("clickZoom",D),c.interactive&&c.doubleClickZoom&&p.doubleClickZoom.enable();const L=new Ay;this._add("tapDragZoom",L);const U=p.touchPitch=new XC(p);this._add("touchPitch",U),c.interactive&&c.touchPitch&&p.touchPitch.enable(c.touchPitch);const q=Cy(c),Y=Pu(c);p.dragRotate=new Iy(c,q,Y),this._add("mouseRotate",q,["mousePitch"]),this._add("mousePitch",Y,["mouseRotate"]),c.interactive&&c.dragRotate&&p.dragRotate.enable();const K=(({enable:Ae,clickTolerance:ze})=>{const ve=new Sy({checkCorrectEvent:Ie=>h.mouseButton(Ie)===0&&!Ie.ctrlKey});return new Ko({clickTolerance:ze,move:(Ie,Be)=>({around:Be,panDelta:Be.sub(Ie)}),activateOnStart:!0,moveStateManager:ve,enable:Ae,assignEvents:Ey})})(c),re=new Al(c,p);p.dragPan=new My(y,K,re),this._add("mousePan",K),this._add("touchPan",re,["touchZoom","touchRotate"]),c.interactive&&c.dragPan&&p.dragPan.enable(c.dragPan);const de=new St,ce=new cf;p.touchZoomRotate=new So(y,ce,de,L),this._add("touchRotate",de,["touchPan","touchZoom"]),this._add("touchZoom",ce,["touchPan","touchRotate"]),c.interactive&&c.touchZoomRotate&&p.touchZoomRotate.enable(c.touchZoomRotate);const me=p.scrollZoom=new QC(p,()=>this._triggerRenderFrame());this._add("scrollZoom",me,["mousePan"]),c.interactive&&c.scrollZoom&&p.scrollZoom.enable(c.scrollZoom);const le=p.keyboard=new ky(p);this._add("keyboard",le),c.interactive&&c.keyboard&&p.keyboard.enable(),this._add("blockableMapEvent",new Xx(p))}_add(c,p,y){this._handlers.push({handlerName:c,handler:p,allowed:y}),this._handlersById[c]=p}stop(c){if(!this._updatingCamera){for(const{handler:p}of this._handlers)p.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}}isActive(){for(const{handler:c}of this._handlers)if(c.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Ma(this._eventsInProgress)||this.isZooming()}_blockedByActive(c,p,y){for(const _ in c)if(_!==y&&(!p||p.indexOf(_)<0))return!0;return!1}_getMapTouches(c){const p=[];for(const y of c)this._el.contains(y.target)&&p.push(y);return p}mergeHandlerResult(c,p,y,_,E){if(!y)return;a.extend(c,y);const D={handlerName:_,originalEvent:y.originalEvent||E};y.zoomDelta!==void 0&&(p.zoom=D),y.panDelta!==void 0&&(p.drag=D),y.pitchDelta!==void 0&&(p.pitch=D),y.bearingDelta!==void 0&&(p.rotate=D)}_applyChanges(){const c={},p={},y={};for(const[_,E,D]of this._changes)_.panDelta&&(c.panDelta=(c.panDelta||new a.Point(0,0))._add(_.panDelta)),_.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+_.zoomDelta),_.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+_.bearingDelta),_.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+_.pitchDelta),_.around!==void 0&&(c.around=_.around),_.pinchAround!==void 0&&(c.pinchAround=_.pinchAround),_.noInertia&&(c.noInertia=_.noInertia),a.extend(p,E),a.extend(y,D);this._updateMapTransform(c,p,y),this._changes=[]}_updateMapTransform(c,p,y){const _=this._map,E=_._getTransformForUpdate(),D=_.terrain;if(!(df(c)||D&&this._terrainMovement))return this._fireEvents(p,y,!0);let{panDelta:L,zoomDelta:U,bearingDelta:q,pitchDelta:Y,around:K,pinchAround:re}=c;re!==void 0&&(K=re),_._stop(!0),K=K||_.transform.centerPoint;const de=E.pointLocation(L?K.sub(L):K);q&&(E.bearing+=q),Y&&(E.pitch+=Y),U&&(E.zoom+=U),D?this._terrainMovement||!p.drag&&!p.zoom?p.drag&&this._terrainMovement?E.center=E.pointLocation(E.centerPoint.sub(L)):E.setLocationAtPoint(de,K):(this._terrainMovement=!0,this._map._elevationFreeze=!0,E.setLocationAtPoint(de,K),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,E.recalculateZoom(_.terrain)})):E.setLocationAtPoint(de,K),_._applyUpdatedTransform(E),this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(p,y,!0)}_fireEvents(c,p,y){const _=Ma(this._eventsInProgress),E=Ma(c),D={};for(const Y in c){const{originalEvent:K}=c[Y];this._eventsInProgress[Y]||(D[`${Y}start`]=K),this._eventsInProgress[Y]=c[Y]}!_&&E&&this._fireEvent("movestart",E.originalEvent);for(const Y in D)this._fireEvent(Y,D[Y]);E&&this._fireEvent("move",E.originalEvent);for(const Y in c){const{originalEvent:K}=c[Y];this._fireEvent(Y,K)}const L={};let U;for(const Y in this._eventsInProgress){const{handlerName:K,originalEvent:re}=this._eventsInProgress[Y];this._handlersById[K].isActive()||(delete this._eventsInProgress[Y],U=p[K]||re,L[`${Y}end`]=U)}for(const Y in L)this._fireEvent(Y,L[Y]);const q=Ma(this._eventsInProgress);if(y&&(_||E)&&!q){this._updatingCamera=!0;const Y=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),K=re=>re!==0&&-this._bearingSnap<re&&re<this._bearingSnap;!Y||!Y.essential&&a.browser.prefersReducedMotion?(this._map.fire(new a.Event("moveend",{originalEvent:U})),K(this._map.getBearing())&&this._map.resetNorth()):(K(Y.bearing||this._map.getBearing())&&(Y.bearing=0),Y.freezeElevation=!0,this._map.easeTo(Y,{originalEvent:U})),this._updatingCamera=!1}}_fireEvent(c,p){this._map.fire(new a.Event(c,p?{originalEvent:p}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(c=>{delete this._frameId,this.handleEvent(new t_("renderFrame",{timeStamp:c})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class Ry extends a.Evented{constructor(c,p){super(),this._renderFrameCallback=()=>{const y=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(y)),y<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=c,this._bearingSnap=p.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(c,p){return this.jumpTo({center:c},p)}panBy(c,p,y){return c=a.Point.convert(c).mult(-1),this.panTo(this.transform.center,a.extend({offset:c},p),y)}panTo(c,p,y){return this.easeTo(a.extend({center:c},p),y)}getZoom(){return this.transform.zoom}setZoom(c,p){return this.jumpTo({zoom:c},p),this}zoomTo(c,p,y){return this.easeTo(a.extend({zoom:c},p),y)}zoomIn(c,p){return this.zoomTo(this.getZoom()+1,c,p),this}zoomOut(c,p){return this.zoomTo(this.getZoom()-1,c,p),this}getBearing(){return this.transform.bearing}setBearing(c,p){return this.jumpTo({bearing:c},p),this}getPadding(){return this.transform.padding}setPadding(c,p){return this.jumpTo({padding:c},p),this}rotateTo(c,p,y){return this.easeTo(a.extend({bearing:c},p),y)}resetNorth(c,p){return this.rotateTo(0,a.extend({duration:1e3},c),p),this}resetNorthPitch(c,p){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},c),p),this}snapToNorth(c,p){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(c,p):this}getPitch(){return this.transform.pitch}setPitch(c,p){return this.jumpTo({pitch:c},p),this}cameraForBounds(c,p){c=Je.convert(c);const y=p&&p.bearing||0;return this._cameraForBoxAndBearing(c.getNorthWest(),c.getSouthEast(),y,p)}_cameraForBoxAndBearing(c,p,y,_){const E={top:0,bottom:0,right:0,left:0};if(typeof(_=a.extend({padding:E,offset:[0,0],maxZoom:this.transform.maxZoom},_)).padding=="number"){const Be=_.padding;_.padding={top:Be,bottom:Be,right:Be,left:Be}}_.padding=a.extend(E,_.padding);const D=this.transform,L=D.padding,U=D.project(a.LngLat.convert(c)),q=D.project(a.LngLat.convert(p)),Y=U.rotate(-y*Math.PI/180),K=q.rotate(-y*Math.PI/180),re=new a.Point(Math.max(Y.x,K.x),Math.max(Y.y,K.y)),de=new a.Point(Math.min(Y.x,K.x),Math.min(Y.y,K.y)),ce=re.sub(de),me=(D.width-(L.left+L.right+_.padding.left+_.padding.right))/ce.x,le=(D.height-(L.top+L.bottom+_.padding.top+_.padding.bottom))/ce.y;if(le<0||me<0)return void a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const Ae=Math.min(D.scaleZoom(D.scale*Math.min(me,le)),_.maxZoom),ze=a.Point.convert(_.offset),ve=new a.Point((_.padding.left-_.padding.right)/2,(_.padding.top-_.padding.bottom)/2).rotate(y*Math.PI/180),Ie=ze.add(ve).mult(D.scale/D.zoomScale(Ae));return{center:D.unproject(U.add(q).div(2).sub(Ie)),zoom:Ae,bearing:y}}fitBounds(c,p,y){return this._fitInternal(this.cameraForBounds(c,p),p,y)}fitScreenCoordinates(c,p,y,_,E){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(c)),this.transform.pointLocation(a.Point.convert(p)),y,_),_,E)}_fitInternal(c,p,y){return c?(delete(p=a.extend(c,p)).padding,p.linear?this.easeTo(p,y):this.flyTo(p,y)):this}jumpTo(c,p){this.stop();const y=this._getTransformForUpdate();let _=!1,E=!1,D=!1;return"zoom"in c&&y.zoom!==+c.zoom&&(_=!0,y.zoom=+c.zoom),c.center!==void 0&&(y.center=a.LngLat.convert(c.center)),"bearing"in c&&y.bearing!==+c.bearing&&(E=!0,y.bearing=+c.bearing),"pitch"in c&&y.pitch!==+c.pitch&&(D=!0,y.pitch=+c.pitch),c.padding==null||y.isPaddingEqual(c.padding)||(y.padding=c.padding),this._applyUpdatedTransform(y),this.fire(new a.Event("movestart",p)).fire(new a.Event("move",p)),_&&this.fire(new a.Event("zoomstart",p)).fire(new a.Event("zoom",p)).fire(new a.Event("zoomend",p)),E&&this.fire(new a.Event("rotatestart",p)).fire(new a.Event("rotate",p)).fire(new a.Event("rotateend",p)),D&&this.fire(new a.Event("pitchstart",p)).fire(new a.Event("pitch",p)).fire(new a.Event("pitchend",p)),this.fire(new a.Event("moveend",p))}calculateCameraOptionsFromTo(c,p,y,_=0){const E=a.MercatorCoordinate.fromLngLat(c,p),D=a.MercatorCoordinate.fromLngLat(y,_),L=D.x-E.x,U=D.y-E.y,q=D.z-E.z,Y=Math.hypot(L,U,q);if(Y===0)throw new Error("Can't calculate camera options with same From and To");const K=Math.hypot(L,U),re=this.transform.scaleZoom(this.transform.cameraToCenterDistance/Y/this.transform.tileSize),de=180*Math.atan2(L,-U)/Math.PI;let ce=180*Math.acos(K/Y)/Math.PI;return ce=q<0?90-ce:90+ce,{center:D.toLngLat(),zoom:re,pitch:ce,bearing:de}}easeTo(c,p){this._stop(!1,c.easeId),((c=a.extend({offset:[0,0],duration:500,easing:a.defaultEasing},c)).animate===!1||!c.essential&&a.browser.prefersReducedMotion)&&(c.duration=0);const y=this._getTransformForUpdate(),_=this.getZoom(),E=this.getBearing(),D=this.getPitch(),L=this.getPadding(),U="zoom"in c?+c.zoom:_,q="bearing"in c?this._normalizeBearing(c.bearing,E):E,Y="pitch"in c?+c.pitch:D,K="padding"in c?c.padding:y.padding,re=a.Point.convert(c.offset);let de=y.centerPoint.add(re);const ce=y.pointLocation(de),me=a.LngLat.convert(c.center||ce);this._normalizeCenter(me);const le=y.project(ce),Ae=y.project(me).sub(le),ze=y.zoomScale(U-_);let ve,Ie;c.around&&(ve=a.LngLat.convert(c.around),Ie=y.locationPoint(ve));const Be={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||U!==_,this._rotating=this._rotating||E!==q,this._pitching=this._pitching||Y!==D,this._padding=!y.isPaddingEqual(K),this._easeId=c.easeId,this._prepareEase(p,c.noMoveStart,Be),this.terrain&&this._prepareElevation(me),this._ease(Fe=>{if(this._zooming&&(y.zoom=a.interpolate.number(_,U,Fe)),this._rotating&&(y.bearing=a.interpolate.number(E,q,Fe)),this._pitching&&(y.pitch=a.interpolate.number(D,Y,Fe)),this._padding&&(y.interpolatePadding(L,K,Fe),de=y.centerPoint.add(re)),this.terrain&&!c.freezeElevation&&this._updateElevation(Fe),ve)y.setLocationAtPoint(ve,Ie);else{const Ke=y.zoomScale(y.zoom-_),nt=U>_?Math.min(2,ze):Math.max(.5,ze),tt=Math.pow(nt,1-Fe),at=y.unproject(le.add(Ae.mult(Fe*tt)).mult(Ke));y.setLocationAtPoint(y.renderWorldCopies?at.wrap():at,de)}this._applyUpdatedTransform(y),this._fireMoveEvents(p)},Fe=>{this.terrain&&this._finalizeElevation(),this._afterEase(p,Fe)},c),this}_prepareEase(c,p,y={}){this._moving=!0,p||y.moving||this.fire(new a.Event("movestart",c)),this._zooming&&!y.zooming&&this.fire(new a.Event("zoomstart",c)),this._rotating&&!y.rotating&&this.fire(new a.Event("rotatestart",c)),this._pitching&&!y.pitching&&this.fire(new a.Event("pitchstart",c))}_prepareElevation(c){this._elevationCenter=c,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(c,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(c){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const p=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(c<1&&p!==this._elevationTarget){const y=this._elevationTarget-this._elevationStart;this._elevationStart+=c*(y-(p-(y*c+this._elevationStart))/(1-c)),this._elevationTarget=p}this.transform.elevation=a.interpolate.number(this._elevationStart,this._elevationTarget,c)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(c){if(!this.transformCameraUpdate)return;const p=c.clone(),{center:y,zoom:_,pitch:E,bearing:D,elevation:L}=this.transformCameraUpdate(p);y&&(p.center=y),_!==void 0&&(p.zoom=_),E!==void 0&&(p.pitch=E),D!==void 0&&(p.bearing=D),L!==void 0&&(p.elevation=L),this.transform.apply(p)}_fireMoveEvents(c){this.fire(new a.Event("move",c)),this._zooming&&this.fire(new a.Event("zoom",c)),this._rotating&&this.fire(new a.Event("rotate",c)),this._pitching&&this.fire(new a.Event("pitch",c))}_afterEase(c,p){if(this._easeId&&p&&this._easeId===p)return;delete this._easeId;const y=this._zooming,_=this._rotating,E=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,y&&this.fire(new a.Event("zoomend",c)),_&&this.fire(new a.Event("rotateend",c)),E&&this.fire(new a.Event("pitchend",c)),this.fire(new a.Event("moveend",c))}flyTo(c,p){if(!c.essential&&a.browser.prefersReducedMotion){const Nt=a.pick(c,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Nt,p)}this.stop(),c=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.defaultEasing},c);const y=this._getTransformForUpdate(),_=this.getZoom(),E=this.getBearing(),D=this.getPitch(),L=this.getPadding(),U="zoom"in c?a.clamp(+c.zoom,y.minZoom,y.maxZoom):_,q="bearing"in c?this._normalizeBearing(c.bearing,E):E,Y="pitch"in c?+c.pitch:D,K="padding"in c?c.padding:y.padding,re=y.zoomScale(U-_),de=a.Point.convert(c.offset);let ce=y.centerPoint.add(de);const me=y.pointLocation(ce),le=a.LngLat.convert(c.center||me);this._normalizeCenter(le);const Ae=y.project(me),ze=y.project(le).sub(Ae);let ve=c.curve;const Ie=Math.max(y.width,y.height),Be=Ie/re,Fe=ze.mag();if("minZoom"in c){const Nt=a.clamp(Math.min(c.minZoom,_,U),y.minZoom,y.maxZoom),Pr=Ie/y.zoomScale(Nt-_);ve=Math.sqrt(Pr/Fe*2)}const Ke=ve*ve;function nt(Nt){const Pr=(Be*Be-Ie*Ie+(Nt?-1:1)*Ke*Ke*Fe*Fe)/(2*(Nt?Be:Ie)*Ke*Fe);return Math.log(Math.sqrt(Pr*Pr+1)-Pr)}function tt(Nt){return(Math.exp(Nt)-Math.exp(-Nt))/2}function at(Nt){return(Math.exp(Nt)+Math.exp(-Nt))/2}const $t=nt(!1);let _n=function(Nt){return at($t)/at($t+ve*Nt)},bt=function(Nt){return Ie*((at($t)*(tt(Pr=$t+ve*Nt)/at(Pr))-tt($t))/Ke)/Fe;var Pr},Jt=(nt(!0)-$t)/ve;if(Math.abs(Fe)<1e-6||!isFinite(Jt)){if(Math.abs(Ie-Be)<1e-6)return this.easeTo(c,p);const Nt=Be<Ie?-1:1;Jt=Math.abs(Math.log(Be/Ie))/ve,bt=function(){return 0},_n=function(Pr){return Math.exp(Nt*ve*Pr)}}return c.duration="duration"in c?+c.duration:1e3*Jt/("screenSpeed"in c?+c.screenSpeed/ve:+c.speed),c.maxDuration&&c.duration>c.maxDuration&&(c.duration=0),this._zooming=!0,this._rotating=E!==q,this._pitching=Y!==D,this._padding=!y.isPaddingEqual(K),this._prepareEase(p,!1),this.terrain&&this._prepareElevation(le),this._ease(Nt=>{const Pr=Nt*Jt,pn=1/_n(Pr);y.zoom=Nt===1?U:_+y.scaleZoom(pn),this._rotating&&(y.bearing=a.interpolate.number(E,q,Nt)),this._pitching&&(y.pitch=a.interpolate.number(D,Y,Nt)),this._padding&&(y.interpolatePadding(L,K,Nt),ce=y.centerPoint.add(de)),this.terrain&&!c.freezeElevation&&this._updateElevation(Nt);const gn=Nt===1?le:y.unproject(Ae.add(ze.mult(bt(Pr))).mult(pn));y.setLocationAtPoint(y.renderWorldCopies?gn.wrap():gn,ce),this._applyUpdatedTransform(y),this._fireMoveEvents(p)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(p)},c),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(c,p){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const y=this._onEaseEnd;delete this._onEaseEnd,y.call(this,p)}if(!c){const y=this.handlers;y&&y.stop(!1)}return this}_ease(c,p,y){y.animate===!1||y.duration===0?(c(1),p()):(this._easeStart=a.browser.now(),this._easeOptions=y,this._onEaseFrame=c,this._onEaseEnd=p,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(c,p){c=a.wrap(c,-180,180);const y=Math.abs(c-p);return Math.abs(c-360-p)<y&&(c-=360),Math.abs(c+360-p)<y&&(c+=360),c}_normalizeCenter(c){const p=this.transform;if(!p.renderWorldCopies||p.lngRange)return;const y=c.lng-p.center.lng;c.lng+=y>180?-360:y<-180?360:0}queryTerrainElevation(c){return this.terrain?this.terrain.getElevationForLngLatZoom(a.LngLat.convert(c),this.transform.tileZoom)-this.transform.elevation:null}}class Dy{constructor(c={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=p=>{!p||p.sourceDataType!=="metadata"&&p.sourceDataType!=="visibility"&&p.dataType!=="style"&&p.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=c}getDefaultPosition(){return"bottom-right"}onAdd(c){return this._map=c,this._compact=this.options&&this.options.compact,this._container=h.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=h.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=h.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){h.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(c,p){const y=this._map._getUIString(`AttributionControl.${p}`);c.title=y,c.setAttribute("aria-label",y)}_updateAttributions(){if(!this._map.style)return;let c=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=c.concat(this.options.customAttribution.map(_=>typeof _!="string"?"":_)):typeof this.options.customAttribution=="string"&&c.push(this.options.customAttribution)),this._map.style.stylesheet){const _=this._map.style.stylesheet;this.styleOwner=_.owner,this.styleId=_.id}const p=this._map.style.sourceCaches;for(const _ in p){const E=p[_];if(E.used||E.usedForTerrain){const D=E.getSource();D.attribution&&c.indexOf(D.attribution)<0&&c.push(D.attribution)}}c=c.filter(_=>String(_).trim()),c.sort((_,E)=>_.length-E.length),c=c.filter((_,E)=>{for(let D=E+1;D<c.length;D++)if(c[D].indexOf(_)>=0)return!1;return!0});const y=c.join(" | ");y!==this._attribHTML&&(this._attribHTML=y,c.length?(this._innerContainer.innerHTML=y,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Zo{constructor(c={}){this._updateCompact=()=>{const p=this._container.children;if(p.length){const y=p[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&y.classList.add("maplibregl-compact"):y.classList.remove("maplibregl-compact")}},this.options=c}getDefaultPosition(){return"bottom-left"}onAdd(c){this._map=c,this._compact=this.options&&this.options.compact,this._container=h.create("div","maplibregl-ctrl");const p=h.create("a","maplibregl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://maplibre.org/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){h.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Tr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(c){const p=++this._id;return this._queue.push({callback:c,id:p,cancelled:!1}),p}remove(c){const p=this._currentlyRunning,y=p?this._queue.concat(p):this._queue;for(const _ of y)if(_.id===c)return void(_.cancelled=!0)}run(c=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const p=this._currentlyRunning=this._queue;this._queue=[];for(const y of p)if(!y.cancelled&&(y.callback(c),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const np={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var Ly=a.createLayout([{name:"a_pos3d",type:"Int16",components:3}]);class n_ extends a.Evented{constructor(c){super(),this.sourceCache=c,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,c.usedForTerrain=!0,c.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(c,p){this.sourceCache.update(c,p),this._renderableTilesKeys=[];const y={};for(const _ of c.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:p}))y[_.key]=!0,this._renderableTilesKeys.push(_.key),this._tiles[_.key]||(_.posMatrix=new Float64Array(16),a.ortho(_.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),this._tiles[_.key]=new xn(_,this.tileSize));for(const _ in this._tiles)y[_]||delete this._tiles[_]}freeRtt(c){for(const p in this._tiles){const y=this._tiles[p];(!c||y.tileID.equals(c)||y.tileID.isChildOf(c)||c.isChildOf(y.tileID))&&(y.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(c=>this.getTileByID(c))}getTileByID(c){return this._tiles[c]}getTerrainCoords(c){const p={};for(const y of this._renderableTilesKeys){const _=this._tiles[y].tileID;if(_.canonical.equals(c.canonical)){const E=c.clone();E.posMatrix=new Float64Array(16),a.ortho(E.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),p[y]=E}else if(_.canonical.isChildOf(c.canonical)){const E=c.clone();E.posMatrix=new Float64Array(16);const D=_.canonical.z-c.canonical.z,L=_.canonical.x-(_.canonical.x>>D<<D),U=_.canonical.y-(_.canonical.y>>D<<D),q=a.EXTENT>>D;a.ortho(E.posMatrix,0,q,0,q,0,1),a.translate(E.posMatrix,E.posMatrix,[-L*q,-U*q,0]),p[y]=E}else if(c.canonical.isChildOf(_.canonical)){const E=c.clone();E.posMatrix=new Float64Array(16);const D=c.canonical.z-_.canonical.z,L=c.canonical.x-(c.canonical.x>>D<<D),U=c.canonical.y-(c.canonical.y>>D<<D),q=a.EXTENT>>D;a.ortho(E.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),a.translate(E.posMatrix,E.posMatrix,[L*q,U*q,0]),a.scale(E.posMatrix,E.posMatrix,[1/2**D,1/2**D,0]),p[y]=E}}return p}getSourceTile(c,p){const y=this.sourceCache._source;let _=c.overscaledZ-this.deltaZoom;if(_>y.maxzoom&&(_=y.maxzoom),_<y.minzoom)return null;this._sourceTileCache[c.key]||(this._sourceTileCache[c.key]=c.scaledTo(_).key);let E=this.sourceCache.getTileByID(this._sourceTileCache[c.key]);if((!E||!E.dem)&&p)for(;_>=y.minzoom&&(!E||!E.dem);)E=this.sourceCache.getTileByID(c.scaledTo(_--).key);return E}tilesAfterTime(c=Date.now()){return Object.values(this._tiles).filter(p=>p.timeAdded>=c)}}class r_{constructor(c,p,y){this.painter=c,this.sourceCache=new n_(p),this.options=y,this.exaggeration=typeof y.exaggeration=="number"?y.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(c,p,y,_=a.EXTENT){var E;if(!(p>=0&&p<_&&y>=0&&y<_))return 0;const D=this.getTerrainData(c),L=(E=D.tile)===null||E===void 0?void 0:E.dem;if(!L)return 0;const U=function(ce,me,le){var Ae=me[0],ze=me[1];return ce[0]=le[0]*Ae+le[4]*ze+le[12],ce[1]=le[1]*Ae+le[5]*ze+le[13],ce}([],[p/_*a.EXTENT,y/_*a.EXTENT],D.u_terrain_matrix),q=[U[0]*L.dim,U[1]*L.dim],Y=Math.floor(q[0]),K=Math.floor(q[1]),re=q[0]-Y,de=q[1]-K;return L.get(Y,K)*(1-re)*(1-de)+L.get(Y+1,K)*re*(1-de)+L.get(Y,K+1)*(1-re)*de+L.get(Y+1,K+1)*re*de}getElevationForLngLatZoom(c,p){const{tileID:y,mercatorX:_,mercatorY:E}=this._getOverscaledTileIDFromLngLatZoom(c,p);return this.getElevation(y,_%a.EXTENT,E%a.EXTENT,a.EXTENT)}getElevation(c,p,y,_=a.EXTENT){return this.getDEMElevation(c,p,y,_)*this.exaggeration}getTerrainData(c){if(!this._emptyDemTexture){const _=this.painter.context,E=new a.RGBAImage({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new ee(_,E,_.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new ee(_,new a.RGBAImage({width:1,height:1}),_.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(_.gl.NEAREST,_.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.identity([])}const p=this.sourceCache.getSourceTile(c,!0);if(p&&p.dem&&(!p.demTexture||p.needsTerrainPrepare)){const _=this.painter.context;p.demTexture=this.painter.getTileTexture(p.dem.stride),p.demTexture?p.demTexture.update(p.dem.getPixels(),{premultiply:!1}):p.demTexture=new ee(_,p.dem.getPixels(),_.gl.RGBA,{premultiply:!1}),p.demTexture.bind(_.gl.NEAREST,_.gl.CLAMP_TO_EDGE),p.needsTerrainPrepare=!1}const y=p&&p+p.tileID.key+c.key;if(y&&!this._demMatrixCache[y]){const _=this.sourceCache.sourceCache._source.maxzoom;let E=c.canonical.z-p.tileID.canonical.z;c.overscaledZ>c.canonical.z&&(c.canonical.z>=_?E=c.canonical.z-_:a.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const D=c.canonical.x-(c.canonical.x>>E<<E),L=c.canonical.y-(c.canonical.y>>E<<E),U=a.fromScaling(new Float64Array(16),[1/(a.EXTENT<<E),1/(a.EXTENT<<E),0]);a.translate(U,U,[D*a.EXTENT,L*a.EXTENT,0]),this._demMatrixCache[c.key]={matrix:U,coord:c}}return{u_depth:2,u_terrain:3,u_terrain_dim:p&&p.dem&&p.dem.dim||1,u_terrain_matrix:y?this._demMatrixCache[c.key].matrix:this._emptyDemMatrix,u_terrain_unpack:p&&p.dem&&p.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(p&&p.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:p}}getFramebuffer(c){const p=this.painter,y=p.width/devicePixelRatio,_=p.height/devicePixelRatio;return!this._fbo||this._fbo.width===y&&this._fbo.height===_||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new ee(p.context,{width:y,height:_,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new ee(p.context,{width:y,height:_,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=p.context.createFramebuffer(y,_,!0,!1),this._fbo.depthAttachment.set(p.context.createRenderbuffer(p.context.gl.DEPTH_COMPONENT16,y,_))),this._fbo.colorAttachment.set(c==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const c=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const p=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let E=0,D=0;E<this._coordsTextureSize;E++)for(let L=0;L<this._coordsTextureSize;L++,D+=4)p[D+0]=255&L,p[D+1]=255&E,p[D+2]=L>>8<<4|E>>8,p[D+3]=0;const y=new a.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(p.buffer)),_=new ee(c,y,c.gl.RGBA,{premultiply:!1});return _.bind(c.gl.NEAREST,c.gl.CLAMP_TO_EDGE),this._coordsTexture=_,_}pointCoordinate(c){const p=new Uint8Array(4),y=this.painter.context,_=y.gl;y.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),_.readPixels(c.x,this.painter.height/devicePixelRatio-c.y-1,1,1,_.RGBA,_.UNSIGNED_BYTE,p),y.bindFramebuffer.set(null);const E=p[0]+(p[2]>>4<<8),D=p[1]+((15&p[2])<<8),L=this.coordsIndex[255-p[3]],U=L&&this.sourceCache.getTileByID(L);if(!U)return null;const q=this._coordsTextureSize,Y=(1<<U.tileID.canonical.z)*q;return new a.MercatorCoordinate((U.tileID.canonical.x*q+E)/Y,(U.tileID.canonical.y*q+D)/Y,this.getElevation(U.tileID,E,D,q))}getTerrainMesh(){if(this._mesh)return this._mesh;const c=this.painter.context,p=new a.Pos3dArray,y=new a.TriangleIndexArray,_=this.meshSize,E=a.EXTENT/_,D=_*_;for(let K=0;K<=_;K++)for(let re=0;re<=_;re++)p.emplaceBack(re*E,K*E,0);for(let K=0;K<D;K+=_+1)for(let re=0;re<_;re++)y.emplaceBack(re+K,_+re+K+1,_+re+K+2),y.emplaceBack(re+K,_+re+K+2,re+K+1);const L=p.length,U=L+2*(_+1);for(const K of[0,1])for(let re=0;re<=_;re++)for(const de of[0,1])p.emplaceBack(re*E,K*a.EXTENT,de);for(let K=0;K<2*_;K+=2)y.emplaceBack(U+K,U+K+1,U+K+3),y.emplaceBack(U+K,U+K+3,U+K+2),y.emplaceBack(L+K,L+K+3,L+K+1),y.emplaceBack(L+K,L+K+2,L+K+3);const q=p.length,Y=q+2*(_+1);for(const K of[0,1])for(let re=0;re<=_;re++)for(const de of[0,1])p.emplaceBack(K*a.EXTENT,re*E,de);for(let K=0;K<2*_;K+=2)y.emplaceBack(q+K,q+K+1,q+K+3),y.emplaceBack(q+K,q+K+3,q+K+2),y.emplaceBack(Y+K,Y+K+3,Y+K+1),y.emplaceBack(Y+K,Y+K+2,Y+K+3);return this._mesh={indexBuffer:c.createIndexBuffer(y),vertexBuffer:c.createVertexBuffer(p,Ly.members),segments:a.SegmentVector.simpleSegment(0,0,p.length,y.length)},this._mesh}getMeshFrameDelta(c){return 2*Math.PI*a.earthRadius/Math.pow(2,c)/5}getMinTileElevationForLngLatZoom(c,p){var y;const{tileID:_}=this._getOverscaledTileIDFromLngLatZoom(c,p);return(y=this.getMinMaxElevation(_).minElevation)!==null&&y!==void 0?y:0}getMinMaxElevation(c){const p=this.getTerrainData(c).tile,y={minElevation:null,maxElevation:null};return p&&p.dem&&(y.minElevation=p.dem.min*this.exaggeration,y.maxElevation=p.dem.max*this.exaggeration),y}_getOverscaledTileIDFromLngLatZoom(c,p){const y=a.MercatorCoordinate.fromLngLat(c.wrap()),_=(1<<p)*a.EXTENT,E=y.x*_,D=y.y*_,L=Math.floor(E/a.EXTENT),U=Math.floor(D/a.EXTENT);return{tileID:new a.OverscaledTileID(p,0,p,L,U),mercatorX:E,mercatorY:D}}}class i_{constructor(c,p,y){this._context=c,this._size=p,this._tileSize=y,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const c of this._objects)c.texture.destroy(),c.fbo.destroy()}_createObject(c){const p=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),y=new ee(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return y.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),p.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),p.colorAttachment.set(y.texture),{id:c,fbo:p,texture:y,stamp:-1,inUse:!1}}getObjectForId(c){return this._objects[c]}useObject(c){c.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(p=>c.id!==p),this._recentlyUsed.push(c.id)}stampObject(c){c.stamp=++this._stamp}getOrCreateFreeObject(){for(const p of this._recentlyUsed)if(!this._objects[p].inUse)return this._objects[p];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const c=this._createObject(this._objects.length);return this._objects.push(c),c}freeObject(c){c.inUse=!1}freeAllObjects(){for(const c of this._objects)this.freeObject(c)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(c=>!c.inUse)===!1}}const Au={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class cs{constructor(c,p){this.painter=c,this.terrain=p,this.pool=new i_(c.context,30,p.sourceCache.tileSize*p.qualityFactor)}destruct(){this.pool.destruct()}getTexture(c){return this.pool.getObjectForId(c.rtt[this._stacks.length-1].id).texture}prepareForRender(c,p){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=c._order.filter(y=>!c._layers[y].isHidden(p)),this._coordsDescendingInv={};for(const y in c.sourceCaches){this._coordsDescendingInv[y]={};const _=c.sourceCaches[y].getVisibleCoordinates();for(const E of _){const D=this.terrain.sourceCache.getTerrainCoords(E);for(const L in D)this._coordsDescendingInv[y][L]||(this._coordsDescendingInv[y][L]=[]),this._coordsDescendingInv[y][L].push(D[L])}}this._coordsDescendingInvStr={};for(const y of c._order){const _=c._layers[y],E=_.source;if(Au[_.type]&&!this._coordsDescendingInvStr[E]){this._coordsDescendingInvStr[E]={};for(const D in this._coordsDescendingInv[E])this._coordsDescendingInvStr[E][D]=this._coordsDescendingInv[E][D].map(L=>L.key).sort().join()}}for(const y of this._renderableTiles)for(const _ in this._coordsDescendingInvStr){const E=this._coordsDescendingInvStr[_][y.tileID.key];E&&E!==y.rttCoords[_]&&(y.rtt=[])}}renderLayer(c){if(c.isHidden(this.painter.transform.zoom))return!1;const p=c.type,y=this.painter,_=this._renderableLayerIds[this._renderableLayerIds.length-1]===c.id;if(Au[p]&&(this._prevType&&Au[this._prevType]||this._stacks.push([]),this._prevType=p,this._stacks[this._stacks.length-1].push(c.id),!_))return!0;if(Au[this._prevType]||Au[p]&&_){this._prevType=p;const E=this._stacks.length-1,D=this._stacks[E]||[];for(const L of this._renderableTiles){if(this.pool.isFull()&&(xy(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(L),L.rtt[E]){const q=this.pool.getObjectForId(L.rtt[E].id);if(q.stamp===L.rtt[E].stamp){this.pool.useObject(q);continue}}const U=this.pool.getOrCreateFreeObject();this.pool.useObject(U),this.pool.stampObject(U),L.rtt[E]={id:U.id,stamp:U.stamp},y.context.bindFramebuffer.set(U.fbo.framebuffer),y.context.clear({color:a.Color.transparent,stencil:0}),y.currentStencilSource=void 0;for(let q=0;q<D.length;q++){const Y=y.style._layers[D[q]],K=Y.source?this._coordsDescendingInv[Y.source][L.tileID.key]:[L.tileID];y.context.viewport.set([0,0,U.fbo.width,U.fbo.height]),y._renderTileClippingMasks(Y,K),y.renderLayer(y,y.style.sourceCaches[Y.source],Y,K),Y.source&&(L.rttCoords[Y.source]=this._coordsDescendingInvStr[Y.source][L.tileID.key])}}return xy(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),Au[p]}return!1}}const rp=f,Bt={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:a.config.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},Zt=w=>{w.touchstart=w.dragStart,w.touchmoveWindow=w.dragMove,w.touchend=w.dragEnd},ip={showCompass:!0,showZoom:!0,visualizePitch:!1};class Ny{constructor(c,p,y=!1){this.mousedown=D=>{this.startMouse(a.extend({},D,{ctrlKey:!0,preventDefault:()=>D.preventDefault()}),h.mousePos(this.element,D)),h.addEventListener(window,"mousemove",this.mousemove),h.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=D=>{this.moveMouse(D,h.mousePos(this.element,D))},this.mouseup=D=>{this.mouseRotate.dragEnd(D),this.mousePitch&&this.mousePitch.dragEnd(D),this.offTemp()},this.touchstart=D=>{D.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=h.touchPos(this.element,D.targetTouches)[0],this.startTouch(D,this._startPos),h.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),h.addEventListener(window,"touchend",this.touchend))},this.touchmove=D=>{D.targetTouches.length!==1?this.reset():(this._lastPos=h.touchPos(this.element,D.targetTouches)[0],this.moveTouch(D,this._lastPos))},this.touchend=D=>{D.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const _=c.dragRotate._mouseRotate.getClickTolerance(),E=c.dragRotate._mousePitch.getClickTolerance();this.element=p,this.mouseRotate=Cy({clickTolerance:_,enable:!0}),this.touchRotate=(({enable:D,clickTolerance:L,bearingDegreesPerPixelMoved:U=.8})=>{const q=new Qx;return new Ko({clickTolerance:L,move:(Y,K)=>({bearingDelta:(K.x-Y.x)*U}),moveStateManager:q,enable:D,assignEvents:Zt})})({clickTolerance:_,enable:!0}),this.map=c,y&&(this.mousePitch=Pu({clickTolerance:E,enable:!0}),this.touchPitch=(({enable:D,clickTolerance:L,pitchDegreesPerPixelMoved:U=-.5})=>{const q=new Qx;return new Ko({clickTolerance:L,move:(Y,K)=>({pitchDelta:(K.y-Y.y)*U}),moveStateManager:q,enable:D,assignEvents:Zt})})({clickTolerance:E,enable:!0})),h.addEventListener(p,"mousedown",this.mousedown),h.addEventListener(p,"touchstart",this.touchstart,{passive:!1}),h.addEventListener(p,"touchcancel",this.reset)}startMouse(c,p){this.mouseRotate.dragStart(c,p),this.mousePitch&&this.mousePitch.dragStart(c,p),h.disableDrag()}startTouch(c,p){this.touchRotate.dragStart(c,p),this.touchPitch&&this.touchPitch.dragStart(c,p),h.disableDrag()}moveMouse(c,p){const y=this.map,{bearingDelta:_}=this.mouseRotate.dragMove(c,p)||{};if(_&&y.setBearing(y.getBearing()+_),this.mousePitch){const{pitchDelta:E}=this.mousePitch.dragMove(c,p)||{};E&&y.setPitch(y.getPitch()+E)}}moveTouch(c,p){const y=this.map,{bearingDelta:_}=this.touchRotate.dragMove(c,p)||{};if(_&&y.setBearing(y.getBearing()+_),this.touchPitch){const{pitchDelta:E}=this.touchPitch.dragMove(c,p)||{};E&&y.setPitch(y.getPitch()+E)}}off(){const c=this.element;h.removeEventListener(c,"mousedown",this.mousedown),h.removeEventListener(c,"touchstart",this.touchstart,{passive:!1}),h.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),h.removeEventListener(window,"touchend",this.touchend),h.removeEventListener(c,"touchcancel",this.reset),this.offTemp()}offTemp(){h.enableDrag(),h.removeEventListener(window,"mousemove",this.mousemove),h.removeEventListener(window,"mouseup",this.mouseup),h.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),h.removeEventListener(window,"touchend",this.touchend)}}let us;function oo(w,c,p){if(w=new a.LngLat(w.lng,w.lat),c){const y=new a.LngLat(w.lng-360,w.lat),_=new a.LngLat(w.lng+360,w.lat),E=p.locationPoint(w).distSqr(c);p.locationPoint(y).distSqr(c)<E?w=y:p.locationPoint(_).distSqr(c)<E&&(w=_)}for(;Math.abs(w.lng-p.center.lng)>180;){const y=p.locationPoint(w);if(y.x>=0&&y.y>=0&&y.x<=p.width&&y.y<=p.height)break;w.lng>p.center.lng?w.lng-=360:w.lng+=360}return w}const op={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Ia(w,c,p){const y=w.classList;for(const _ in op)y.remove(`maplibregl-${p}-anchor-${_}`);y.add(`maplibregl-${p}-anchor-${c}`)}class zy extends a.Evented{constructor(c){if(super(),this._onKeyPress=p=>{const y=p.code,_=p.charCode||p.keyCode;y!=="Space"&&y!=="Enter"&&_!==32&&_!==13||this.togglePopup()},this._onMapClick=p=>{const y=p.originalEvent.target,_=this._element;this._popup&&(y===_||_.contains(y))&&this.togglePopup()},this._update=p=>{if(!this._map)return;const y=this._map.loaded()&&!this._map.isMoving();((p==null?void 0:p.type)==="terrain"||(p==null?void 0:p.type)==="render"&&!y)&&this._map.once("render",this._update),this._map.transform.renderWorldCopies&&(this._lngLat=oo(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let _="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?_=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(_=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let E="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?E="rotateX(0deg)":this._pitchAlignment==="map"&&(E=`rotateX(${this._map.getPitch()}deg)`),p&&p.type!=="moveend"||(this._pos=this._pos.round()),h.setTransform(this._element,`${op[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${E} ${_}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const D=this._map.unproject(this._pos),L=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=D.distanceTo(this._lngLat)>20*L?"0.2":"1.0",this._opacityTimeout=null},100))},this._onMove=p=>{if(!this._isDragging){const y=this._clickTolerance||this._map._clickTolerance;this._isDragging=p.point.dist(this._pointerdownPos)>=y}this._isDragging&&(this._pos=p.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},this._addDragHandler=p=>{this._element.contains(p.originalEvent.target)&&(p.preventDefault(),this._positionDelta=p.point.sub(this._pos).add(this._offset),this._pointerdownPos=p.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=c&&c.anchor||"center",this._color=c&&c.color||"#3FB1CE",this._scale=c&&c.scale||1,this._draggable=c&&c.draggable||!1,this._clickTolerance=c&&c.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=c&&c.rotation||0,this._rotationAlignment=c&&c.rotationAlignment||"auto",this._pitchAlignment=c&&c.pitchAlignment&&c.pitchAlignment!=="auto"?c.pitchAlignment:this._rotationAlignment,c&&c.element)this._element=c.element,this._offset=a.Point.convert(c&&c.offset||[0,0]);else{this._defaultMarker=!0,this._element=h.create("div"),this._element.setAttribute("aria-label","Map marker");const p=h.createNS("http://www.w3.org/2000/svg","svg"),y=41,_=27;p.setAttributeNS(null,"display","block"),p.setAttributeNS(null,"height",`${y}px`),p.setAttributeNS(null,"width",`${_}px`),p.setAttributeNS(null,"viewBox",`0 0 ${_} ${y}`);const E=h.createNS("http://www.w3.org/2000/svg","g");E.setAttributeNS(null,"stroke","none"),E.setAttributeNS(null,"stroke-width","1"),E.setAttributeNS(null,"fill","none"),E.setAttributeNS(null,"fill-rule","evenodd");const D=h.createNS("http://www.w3.org/2000/svg","g");D.setAttributeNS(null,"fill-rule","nonzero");const L=h.createNS("http://www.w3.org/2000/svg","g");L.setAttributeNS(null,"transform","translate(3.0, 29.0)"),L.setAttributeNS(null,"fill","#000000");const U=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const Ae of U){const ze=h.createNS("http://www.w3.org/2000/svg","ellipse");ze.setAttributeNS(null,"opacity","0.04"),ze.setAttributeNS(null,"cx","10.5"),ze.setAttributeNS(null,"cy","5.80029008"),ze.setAttributeNS(null,"rx",Ae.rx),ze.setAttributeNS(null,"ry",Ae.ry),L.appendChild(ze)}const q=h.createNS("http://www.w3.org/2000/svg","g");q.setAttributeNS(null,"fill",this._color);const Y=h.createNS("http://www.w3.org/2000/svg","path");Y.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),q.appendChild(Y);const K=h.createNS("http://www.w3.org/2000/svg","g");K.setAttributeNS(null,"opacity","0.25"),K.setAttributeNS(null,"fill","#000000");const re=h.createNS("http://www.w3.org/2000/svg","path");re.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),K.appendChild(re);const de=h.createNS("http://www.w3.org/2000/svg","g");de.setAttributeNS(null,"transform","translate(6.0, 7.0)"),de.setAttributeNS(null,"fill","#FFFFFF");const ce=h.createNS("http://www.w3.org/2000/svg","g");ce.setAttributeNS(null,"transform","translate(8.0, 8.0)");const me=h.createNS("http://www.w3.org/2000/svg","circle");me.setAttributeNS(null,"fill","#000000"),me.setAttributeNS(null,"opacity","0.25"),me.setAttributeNS(null,"cx","5.5"),me.setAttributeNS(null,"cy","5.5"),me.setAttributeNS(null,"r","5.4999962");const le=h.createNS("http://www.w3.org/2000/svg","circle");le.setAttributeNS(null,"fill","#FFFFFF"),le.setAttributeNS(null,"cx","5.5"),le.setAttributeNS(null,"cy","5.5"),le.setAttributeNS(null,"r","5.4999962"),ce.appendChild(me),ce.appendChild(le),D.appendChild(L),D.appendChild(q),D.appendChild(K),D.appendChild(de),D.appendChild(ce),p.appendChild(D),p.setAttributeNS(null,"height",y*this._scale+"px"),p.setAttributeNS(null,"width",_*this._scale+"px"),this._element.appendChild(p),this._offset=a.Point.convert(c&&c.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",p=>{p.preventDefault()}),this._element.addEventListener("mousedown",p=>{p.preventDefault()}),Ia(this._element,this._anchor,"marker"),c&&c.className)for(const p of c.className.split(" "))this._element.classList.add(p);this._popup=null}addTo(c){return this.remove(),this._map=c,c.getCanvasContainer().appendChild(this._element),c.on("move",this._update),c.on("moveend",this._update),c.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),h.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(c){return this._lngLat=a.LngLat.convert(c),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(c){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),c){if(!("offset"in c.options)){const _=Math.abs(13.5)/Math.SQRT2;c.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[_,-1*(38.1-13.5+_)],"bottom-right":[-_,-1*(38.1-13.5+_)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=c,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const c=this._popup;return c?(c.isOpen()?c.remove():c.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(c){return this._offset=a.Point.convert(c),this._update(),this}addClassName(c){this._element.classList.add(c)}removeClassName(c){this._element.classList.remove(c)}toggleClassName(c){return this._element.classList.toggle(c)}setDraggable(c){return this._draggable=!!c,this._map&&(c?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(c){return this._rotation=c||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(c){return this._rotationAlignment=c||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(c){return this._pitchAlignment=c&&c!=="auto"?c:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const ff={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let br=0,kr=!1;const o_={maxWidth:100,unit:"metric"};function Mu(w,c,p){const y=p&&p.maxWidth||100,_=w._container.clientHeight/2,E=w.unproject([0,_]),D=w.unproject([y,_]),L=E.distanceTo(D);if(p&&p.unit==="imperial"){const U=3.2808*L;U>5280?Ml(c,y,U/5280,w._getUIString("ScaleControl.Miles")):Ml(c,y,U,w._getUIString("ScaleControl.Feet"))}else p&&p.unit==="nautical"?Ml(c,y,L/1852,w._getUIString("ScaleControl.NauticalMiles")):L>=1e3?Ml(c,y,L/1e3,w._getUIString("ScaleControl.Kilometers")):Ml(c,y,L,w._getUIString("ScaleControl.Meters"))}function Ml(w,c,p,y){const _=function(E){const D=Math.pow(10,`${Math.floor(E)}`.length-1);let L=E/D;return L=L>=10?10:L>=5?5:L>=3?3:L>=2?2:L>=1?1:function(U){const q=Math.pow(10,Math.ceil(-Math.log(U)/Math.LN10));return Math.round(U*q)/q}(L),D*L}(p);w.style.width=c*(_/p)+"px",w.innerHTML=`${_}&nbsp;${y}`}const jy={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},By=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function ap(w){if(w){if(typeof w=="number"){const c=Math.round(Math.abs(w)/Math.SQRT2);return{center:new a.Point(0,0),top:new a.Point(0,w),"top-left":new a.Point(c,c),"top-right":new a.Point(-c,c),bottom:new a.Point(0,-w),"bottom-left":new a.Point(c,-c),"bottom-right":new a.Point(-c,-c),left:new a.Point(w,0),right:new a.Point(-w,0)}}if(w instanceof a.Point||Array.isArray(w)){const c=a.Point.convert(w);return{center:c,top:c,"top-left":c,"top-right":c,bottom:c,"bottom-left":c,"bottom-right":c,left:c,right:c}}return{center:a.Point.convert(w.center||[0,0]),top:a.Point.convert(w.top||[0,0]),"top-left":a.Point.convert(w["top-left"]||[0,0]),"top-right":a.Point.convert(w["top-right"]||[0,0]),bottom:a.Point.convert(w.bottom||[0,0]),"bottom-left":a.Point.convert(w["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(w["bottom-right"]||[0,0]),left:a.Point.convert(w.left||[0,0]),right:a.Point.convert(w.right||[0,0])}}return ap(new a.Point(0,0))}const hf={extend:(w,...c)=>a.extend(w,...c),run(w){w()},logToElement(w,c=!1,p="log"){const y=window.document.getElementById(p);y&&(c&&(y.innerHTML=""),y.innerHTML+=`<br>${w}`)}},Fy=f;class Vn{static get version(){return Fy}static get workerCount(){return Kt.workerCount}static set workerCount(c){Kt.workerCount=c}static get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(c){a.config.MAX_PARALLEL_IMAGE_REQUESTS=c}static get workerUrl(){return a.config.WORKER_URL}static set workerUrl(c){a.config.WORKER_URL=c}static addProtocol(c,p){a.config.REGISTERED_PROTOCOLS[c]=p}static removeProtocol(c){delete a.config.REGISTERED_PROTOCOLS[c]}}return Vn.Map=class extends Ry{constructor(w){if(a.PerformanceUtils.mark(a.PerformanceMarkers.create),(w=a.extend({},Bt,w)).minZoom!=null&&w.maxZoom!=null&&w.minZoom>w.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(w.minPitch!=null&&w.maxPitch!=null&&w.minPitch>w.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(w.minPitch!=null&&w.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(w.maxPitch!=null&&w.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new nf(w.minZoom,w.maxZoom,w.minPitch,w.maxPitch,w.renderWorldCopies),{bearingSnap:w.bearingSnap}),this._cooperativeGesturesOnWheel=c=>{this._onCooperativeGesture(c,c[this._metaKey],1)},this._contextLost=c=>{c.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:c}))},this._contextRestored=c=>{this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:c}))},this._onMapScroll=c=>{if(c.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=w.interactive,this._cooperativeGestures=w.cooperativeGestures,this._metaKey=navigator.platform.indexOf("Mac")===0?"metaKey":"ctrlKey",this._maxTileCacheSize=w.maxTileCacheSize,this._maxTileCacheZoomLevels=w.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=w.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=w.preserveDrawingBuffer,this._antialias=w.antialias,this._trackResize=w.trackResize,this._bearingSnap=w.bearingSnap,this._refreshExpiredTiles=w.refreshExpiredTiles,this._fadeDuration=w.fadeDuration,this._crossSourceCollisions=w.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=w.collectResourceTiming,this._renderTaskQueue=new Tr,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},np,w.locale),this._clickTolerance=w.clickTolerance,this._overridePixelRatio=w.pixelRatio,this._maxCanvasSize=w.maxCanvasSize,this.transformCameraUpdate=w.transformCameraUpdate,this._imageQueueHandle=M.addThrottleControl(()=>this.isMoving()),this._requestManager=new A(w.transformRequest),typeof w.container=="string"){if(this._container=document.getElementById(w.container),!this._container)throw new Error(`Container '${w.container}' not found.`)}else{if(!(w.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=w.container}if(w.maxBounds&&this.setMaxBounds(w.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let c=!1;const p=_y(y=>{this._trackResize&&!this._removed&&this.resize(y)._update()},50);this._resizeObserver=new ResizeObserver(y=>{c?p(y):c=!0}),this._resizeObserver.observe(this._container)}this.handlers=new $y(this,w),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=w.hash&&new Tu(typeof w.hash=="string"&&w.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:w.center,zoom:w.zoom,bearing:w.bearing,pitch:w.pitch}),w.bounds&&(this.resize(),this.fitBounds(w.bounds,a.extend({},w.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=w.localIdeographFontFamily,this._validateStyle=w.validateStyle,w.style&&this.setStyle(w.style,{localIdeographFontFamily:w.localIdeographFontFamily}),w.attributionControl&&this.addControl(new Dy({customAttribution:w.customAttribution})),w.maplibreLogo&&this.addControl(new Zo,w.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",c=>{this._update(c.dataType==="style"),this.fire(new a.Event(`${c.dataType}data`,c))}),this.on("dataloading",c=>{this.fire(new a.Event(`${c.dataType}dataloading`,c))}),this.on("dataabort",c=>{this.fire(new a.Event("sourcedataabort",c))})}_getMapId(){return this._mapId}addControl(w,c){if(c===void 0&&(c=w.getDefaultPosition?w.getDefaultPosition():"top-right"),!w||!w.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const p=w.onAdd(this);this._controls.push(w);const y=this._controlPositions[c];return c.indexOf("bottom")!==-1?y.insertBefore(p,y.firstChild):y.appendChild(p),this}removeControl(w){if(!w||!w.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const c=this._controls.indexOf(w);return c>-1&&this._controls.splice(c,1),w.onRemove(this),this}hasControl(w){return this._controls.indexOf(w)>-1}calculateCameraOptionsFromTo(w,c,p,y){return y==null&&this.terrain&&(y=this.terrain.getElevationForLngLatZoom(p,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(w,c,p,y)}resize(w){var c;const p=this._containerDimensions(),y=p[0],_=p[1],E=this._getClampedPixelRatio(y,_);if(this._resizeCanvas(y,_,E),this.painter.resize(y,_,E),this.painter.overLimit()){const L=this.painter.context.gl;this._maxCanvasSize=[L.drawingBufferWidth,L.drawingBufferHeight];const U=this._getClampedPixelRatio(y,_);this._resizeCanvas(y,_,U),this.painter.resize(y,_,U)}this.transform.resize(y,_),(c=this._requestedCameraState)===null||c===void 0||c.resize(y,_);const D=!this._moving;return D&&(this.stop(),this.fire(new a.Event("movestart",w)).fire(new a.Event("move",w))),this.fire(new a.Event("resize",w)),D&&this.fire(new a.Event("moveend",w)),this}_getClampedPixelRatio(w,c){const{0:p,1:y}=this._maxCanvasSize,_=this.getPixelRatio(),E=w*_,D=c*_;return Math.min(E>p?p/E:1,D>y?y/D:1)*_}getPixelRatio(){var w;return(w=this._overridePixelRatio)!==null&&w!==void 0?w:devicePixelRatio}setPixelRatio(w){this._overridePixelRatio=w,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(w){return this.transform.setMaxBounds(Je.convert(w)),this._update()}setMinZoom(w){if((w=w??-2)>=-2&&w<=this.transform.maxZoom)return this.transform.minZoom=w,this._update(),this.getZoom()<w&&this.setZoom(w),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(w){if((w=w??22)>=this.transform.minZoom)return this.transform.maxZoom=w,this._update(),this.getZoom()>w&&this.setZoom(w),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(w){if((w=w??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(w>=0&&w<=this.transform.maxPitch)return this.transform.minPitch=w,this._update(),this.getPitch()<w&&this.setPitch(w),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(w){if((w=w??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(w>=this.transform.minPitch)return this.transform.maxPitch=w,this._update(),this.getPitch()>w&&this.setPitch(w),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(w){return this.transform.renderWorldCopies=w,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(w){return this._cooperativeGestures=w,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(w){return this.transform.locationPoint(a.LngLat.convert(w),this.style&&this.terrain)}unproject(w){return this.transform.pointLocation(a.Point.convert(w),this.terrain)}isMoving(){var w;return this._moving||((w=this.handlers)===null||w===void 0?void 0:w.isMoving())}isZooming(){var w;return this._zooming||((w=this.handlers)===null||w===void 0?void 0:w.isZooming())}isRotating(){var w;return this._rotating||((w=this.handlers)===null||w===void 0?void 0:w.isRotating())}_createDelegatedListener(w,c,p){if(w==="mouseenter"||w==="mouseover"){let y=!1;return{layer:c,listener:p,delegates:{mousemove:E=>{const D=this.getLayer(c)?this.queryRenderedFeatures(E.point,{layers:[c]}):[];D.length?y||(y=!0,p.call(this,new Yo(w,this,E.originalEvent,{features:D}))):y=!1},mouseout:()=>{y=!1}}}}if(w==="mouseleave"||w==="mouseout"){let y=!1;return{layer:c,listener:p,delegates:{mousemove:D=>{(this.getLayer(c)?this.queryRenderedFeatures(D.point,{layers:[c]}):[]).length?y=!0:y&&(y=!1,p.call(this,new Yo(w,this,D.originalEvent)))},mouseout:D=>{y&&(y=!1,p.call(this,new Yo(w,this,D.originalEvent)))}}}}{const y=_=>{const E=this.getLayer(c)?this.queryRenderedFeatures(_.point,{layers:[c]}):[];E.length&&(_.features=E,p.call(this,_),delete _.features)};return{layer:c,listener:p,delegates:{[w]:y}}}}on(w,c,p){if(p===void 0)return super.on(w,c);const y=this._createDelegatedListener(w,c,p);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[w]=this._delegatedListeners[w]||[],this._delegatedListeners[w].push(y);for(const _ in y.delegates)this.on(_,y.delegates[_]);return this}once(w,c,p){if(p===void 0)return super.once(w,c);const y=this._createDelegatedListener(w,c,p);for(const _ in y.delegates)this.once(_,y.delegates[_]);return this}off(w,c,p){return p===void 0?super.off(w,c):(this._delegatedListeners&&this._delegatedListeners[w]&&(y=>{const _=this._delegatedListeners[w];for(let E=0;E<_.length;E++){const D=_[E];if(D.layer===c&&D.listener===p){for(const L in D.delegates)this.off(L,D.delegates[L]);return _.splice(E,1),this}}})(),this)}queryRenderedFeatures(w,c){if(!this.style)return[];let p;const y=w instanceof a.Point||Array.isArray(w),_=y?w:[[0,0],[this.transform.width,this.transform.height]];if(c=c||(y?{}:w)||{},_ instanceof a.Point||typeof _[0]=="number")p=[a.Point.convert(_)];else{const E=a.Point.convert(_[0]),D=a.Point.convert(_[1]);p=[E,new a.Point(D.x,E.y),D,new a.Point(E.x,D.y),E]}return this.style.queryRenderedFeatures(p,c,this.transform)}querySourceFeatures(w,c){return this.style.querySourceFeatures(w,c)}setStyle(w,c){return(c=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},c)).diff!==!1&&c.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&w?(this._diffStyle(w,c),this):(this._localIdeographFontFamily=c.localIdeographFontFamily,this._updateStyle(w,c))}setTransformRequest(w){return this._requestManager.setTransformRequest(w),this}_getUIString(w){const c=this._locale[w];if(c==null)throw new Error(`Missing UI string '${w}'`);return c}_updateStyle(w,c){if(c.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(w,c));const p=this.style&&c.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!w)),w?(this.style=new Ri(this,c||{}),this.style.setEventedParent(this,{style:this.style}),typeof w=="string"?this.style.loadURL(w,c,p):this.style.loadJSON(w,c,p),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Ri(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(w,c){if(typeof w=="string"){const p=this._requestManager.transformRequest(w,I.Style);a.getJSON(p,(y,_)=>{y?this.fire(new a.ErrorEvent(y)):_&&this._updateDiff(_,c)})}else typeof w=="object"&&this._updateDiff(w,c)}_updateDiff(w,c){try{this.style.setState(w,c)&&this._update(!0)}catch(p){a.warnOnce(`Unable to perform style diff: ${p.message||p.error||p}.  Rebuilding the style from scratch.`),this._updateStyle(w,c)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")}addSource(w,c){return this._lazyInitEmptyStyle(),this.style.addSource(w,c),this._update(!0)}isSourceLoaded(w){const c=this.style&&this.style.sourceCaches[w];if(c!==void 0)return c.loaded();this.fire(new a.ErrorEvent(new Error(`There is no source with ID '${w}'`)))}setTerrain(w){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),w){const c=this.style.sourceCaches[w.source];if(!c)throw new Error(`cannot load terrain, because there exists no source with ID: ${w.source}`);for(const p in this.style._layers){const y=this.style._layers[p];y.type==="hillshade"&&y.source===w.source&&a.warnOnce("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new r_(this.painter,c,w),this.painter.renderToTexture=new cs(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=p=>{p.dataType==="style"?this.terrain.sourceCache.freeRtt():p.dataType==="source"&&p.tile&&(p.sourceId!==w.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(p.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new a.Event("terrain",{terrain:w})),this}getTerrain(){var w,c;return(c=(w=this.terrain)===null||w===void 0?void 0:w.options)!==null&&c!==void 0?c:null}areTilesLoaded(){const w=this.style&&this.style.sourceCaches;for(const c in w){const p=w[c]._tiles;for(const y in p){const _=p[y];if(_.state!=="loaded"&&_.state!=="errored")return!1}}return!0}addSourceType(w,c,p){return this._lazyInitEmptyStyle(),this.style.addSourceType(w,c,p)}removeSource(w){return this.style.removeSource(w),this._update(!0)}getSource(w){return this.style.getSource(w)}addImage(w,c,p={}){const{pixelRatio:y=1,sdf:_=!1,stretchX:E,stretchY:D,content:L}=p;if(this._lazyInitEmptyStyle(),!(c instanceof HTMLImageElement||a.isImageBitmap(c))){if(c.width===void 0||c.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:U,height:q,data:Y}=c,K=c;return this.style.addImage(w,{data:new a.RGBAImage({width:U,height:q},new Uint8Array(Y)),pixelRatio:y,stretchX:E,stretchY:D,content:L,sdf:_,version:0,userImage:K}),K.onAdd&&K.onAdd(this,w),this}}{const{width:U,height:q,data:Y}=a.browser.getImageData(c);this.style.addImage(w,{data:new a.RGBAImage({width:U,height:q},Y),pixelRatio:y,stretchX:E,stretchY:D,content:L,sdf:_,version:0})}}updateImage(w,c){const p=this.style.getImage(w);if(!p)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const y=c instanceof HTMLImageElement||a.isImageBitmap(c)?a.browser.getImageData(c):c,{width:_,height:E,data:D}=y;if(_===void 0||E===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(_!==p.data.width||E!==p.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const L=!(c instanceof HTMLImageElement||a.isImageBitmap(c));return p.data.replace(D,L),this.style.updateImage(w,p),this}getImage(w){return this.style.getImage(w)}hasImage(w){return w?!!this.style.getImage(w):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(w){this.style.removeImage(w)}loadImage(w,c){M.getImage(this._requestManager.transformRequest(w,I.Image),c)}listImages(){return this.style.listImages()}addLayer(w,c){return this._lazyInitEmptyStyle(),this.style.addLayer(w,c),this._update(!0)}moveLayer(w,c){return this.style.moveLayer(w,c),this._update(!0)}removeLayer(w){return this.style.removeLayer(w),this._update(!0)}getLayer(w){return this.style.getLayer(w)}setLayerZoomRange(w,c,p){return this.style.setLayerZoomRange(w,c,p),this._update(!0)}setFilter(w,c,p={}){return this.style.setFilter(w,c,p),this._update(!0)}getFilter(w){return this.style.getFilter(w)}setPaintProperty(w,c,p,y={}){return this.style.setPaintProperty(w,c,p,y),this._update(!0)}getPaintProperty(w,c){return this.style.getPaintProperty(w,c)}setLayoutProperty(w,c,p,y={}){return this.style.setLayoutProperty(w,c,p,y),this._update(!0)}getLayoutProperty(w,c){return this.style.getLayoutProperty(w,c)}setGlyphs(w,c={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(w,c),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(w,c,p={}){return this._lazyInitEmptyStyle(),this.style.addSprite(w,c,p,y=>{y||this._update(!0)}),this}removeSprite(w){return this._lazyInitEmptyStyle(),this.style.removeSprite(w),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(w,c={}){return this._lazyInitEmptyStyle(),this.style.setSprite(w,c,p=>{p||this._update(!0)}),this}setLight(w,c={}){return this._lazyInitEmptyStyle(),this.style.setLight(w,c),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(w,c){return this.style.setFeatureState(w,c),this._update()}removeFeatureState(w,c){return this.style.removeFeatureState(w,c),this._update()}getFeatureState(w){return this.style.getFeatureState(w)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let w=0,c=0;return this._container&&(w=this._container.clientWidth||400,c=this._container.clientHeight||300),[w,c]}_setupContainer(){const w=this._container;w.classList.add("maplibregl-map");const c=this._canvasContainer=h.create("div","maplibregl-canvas-container",w);this._interactive&&c.classList.add("maplibregl-interactive"),this._canvas=h.create("canvas","maplibregl-canvas",c),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const p=this._containerDimensions(),y=this._getClampedPixelRatio(p[0],p[1]);this._resizeCanvas(p[0],p[1],y);const _=this._controlContainer=h.create("div","maplibregl-control-container",w),E=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(D=>{E[D]=h.create("div",`maplibregl-ctrl-${D} `,_)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=h.create("div","maplibregl-cooperative-gesture-screen",this._container);let w=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(w=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use  + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${w}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){h.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(w,c,p){this._canvas.width=Math.floor(p*w),this._canvas.height=Math.floor(p*c),this._canvas.style.width=`${w}px`,this._canvas.style.height=`${c}px`}_setupPainter(){const w={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let c=null;this._canvas.addEventListener("webglcontextcreationerror",y=>{c={requestedAttributes:w},y&&(c.statusMessage=y.statusMessage,c.type=y.type)},{once:!0});const p=this._canvas.getContext("webgl2",w)||this._canvas.getContext("webgl",w);if(!p){const y="Failed to initialize WebGL";throw c?(c.message=y,new Error(JSON.stringify(c))):new Error(y)}this.painter=new Vr(p,this.transform),g.testSupport(p)}_onCooperativeGesture(w,c,p){return!c&&p<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(w){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||w,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(w){return this._update(),this._renderTaskQueue.add(w)}_cancelRenderFrame(w){this._renderTaskQueue.remove(w)}_render(w){const c=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(w),this._removed)return;let p=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const _=this.transform.zoom,E=a.browser.now();this.style.zoomHistory.update(_,E);const D=new a.EvaluationParameters(_,{now:E,fadeDuration:c,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),L=D.crossFadingFactor();L===1&&L===this._crossFadingFactor||(p=!0,this._crossFadingFactor=L),this.style.update(D)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,c,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:c,showPadding:this.showPadding}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.PerformanceUtils.mark(a.PerformanceMarkers.load),this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||p)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const y=this._sourcesDirty||this._styleDirty||this._placementDirty;return y||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),!this._loaded||this._fullyLoaded||y||(this._fullyLoaded=!0,a.PerformanceUtils.mark(a.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var w;this._hash&&this._hash.remove();for(const p of this._controls)p.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),M.removeThrottleControl(this._imageQueueHandle),(w=this._resizeObserver)===null||w===void 0||w.disconnect();const c=this.painter.context.gl.getExtension("WEBGL_lose_context");c&&c.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),h.remove(this._canvasContainer),h.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),a.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new a.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=a.browser.frame(w=>{a.PerformanceUtils.frame(w),this._frame=null,this._render(w)}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(w){this._showTileBoundaries!==w&&(this._showTileBoundaries=w,this._update())}get showPadding(){return!!this._showPadding}set showPadding(w){this._showPadding!==w&&(this._showPadding=w,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(w){this._showCollisionBoxes!==w&&(this._showCollisionBoxes=w,w?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(w){this._showOverdrawInspector!==w&&(this._showOverdrawInspector=w,this._update())}get repaint(){return!!this._repaint}set repaint(w){this._repaint!==w&&(this._repaint=w,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(w){this._vertices=w,this._update()}get version(){return rp}getCameraTargetElevation(){return this.transform.elevation}},Vn.NavigationControl=class{constructor(w){this._updateZoomButtons=()=>{const c=this._map.getZoom(),p=c===this._map.getMaxZoom(),y=c===this._map.getMinZoom();this._zoomInButton.disabled=p,this._zoomOutButton.disabled=y,this._zoomInButton.setAttribute("aria-disabled",p.toString()),this._zoomOutButton.setAttribute("aria-disabled",y.toString())},this._rotateCompassArrow=()=>{const c=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=c},this._setButtonTitle=(c,p)=>{const y=this._map._getUIString(`NavigationControl.${p}`);c.title=y,c.setAttribute("aria-label",y)},this.options=a.extend({},ip,w),this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",c=>c.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",c=>this._map.zoomIn({},{originalEvent:c})),h.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",c=>this._map.zoomOut({},{originalEvent:c})),h.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",c=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:c}):this._map.resetNorth({},{originalEvent:c})}),this._compassIcon=h.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(w){return this._map=w,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Ny(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){h.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(w,c){const p=h.create("button",w,this._container);return p.type="button",p.addEventListener("click",c),p}},Vn.GeolocateControl=class extends a.Evented{constructor(w){super(),this._onSuccess=c=>{if(this._map){if(this._isOutOfMapMaxBounds(c))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",c)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=c,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(c),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(c),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new a.Event("geolocate",c)),this._finish()}},this._updateCamera=c=>{const p=new a.LngLat(c.coords.longitude,c.coords.latitude),y=c.coords.accuracy,_=this._map.getBearing(),E=a.extend({bearing:_},this.options.fitBoundsOptions),D=Je.fromLngLat(p,y);this._map.fitBounds(D,E,{geolocateSource:!0})},this._updateMarker=c=>{if(c){const p=new a.LngLat(c.coords.longitude,c.coords.latitude);this._accuracyCircleMarker.setLngLat(p).addTo(this._map),this._userLocationDotMarker.setLngLat(p).addTo(this._map),this._accuracy=c.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=c=>{if(this._map){if(this.options.trackUserLocation)if(c.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(c.code===3&&kr)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new a.Event("error",c)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=c=>{if(this._map){if(this._container.addEventListener("contextmenu",p=>p.preventDefault()),this._geolocateButton=h.create("button","maplibregl-ctrl-geolocate",this._container),h.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",c===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}else{const p=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=h.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new zy({element:this._dotElement}),this._circleElement=h.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new zy({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",p=>{p.geolocateSource||this._watchState!=="ACTIVE_LOCK"||p.originalEvent&&p.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new a.Event("trackuserlocationend")))})}},this.options=a.extend({},ff,w)}onAdd(w){return this._map=w,this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(c,p=!1){us===void 0||p?window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(y=>{us=y.state!=="denied",c(us)}).catch(()=>{us=!!window.navigator.geolocation,c(us)}):(us=!!window.navigator.geolocation,c(us)):c(us)}(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),h.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,br=0,kr=!1}_isOutOfMapMaxBounds(w){const c=this._map.getMaxBounds(),p=w.coords;return c&&(p.longitude<c.getWest()||p.longitude>c.getEast()||p.latitude<c.getSouth()||p.latitude>c.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const w=this._map.getBounds(),c=w.getSouthEast(),p=w.getNorthEast(),y=c.distanceTo(p),_=Math.ceil(this._accuracy/(y/this._map._container.clientHeight)*2);this._circleElement.style.width=`${_}px`,this._circleElement.style.height=`${_}px`}trigger(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":br--,kr=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let w;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),br++,br>1?(w={maximumAge:6e5,timeout:0},kr=!0):(w=this.options.positionOptions,kr=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,w)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},Vn.AttributionControl=Dy,Vn.LogoControl=Zo,Vn.ScaleControl=class{constructor(w){this._onMove=()=>{Mu(this._map,this._container,this.options)},this.setUnit=c=>{this.options.unit=c,Mu(this._map,this._container,this.options)},this.options=a.extend({},o_,w)}getDefaultPosition(){return"bottom-left"}onAdd(w){return this._map=w,this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-scale",w.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){h.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},Vn.FullscreenControl=class extends a.Evented{constructor(w={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,w&&w.container&&(w.container instanceof HTMLElement?this._container=w.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(w){return this._map=w,this._container||(this._container=this._map.getContainer()),this._controlContainer=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){h.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const w=this._fullscreenButton=h.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);h.create("span","maplibregl-ctrl-icon",w).setAttribute("aria-hidden","true"),w.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const w=this._getTitle();this._fullscreenButton.setAttribute("aria-label",w),this._fullscreenButton.title=w}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new a.Event("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new a.Event("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},Vn.TerrainControl=class{constructor(w){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=w}onAdd(w){return this._map=w,this._container=h.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=h.create("button","maplibregl-ctrl-terrain",this._container),h.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){h.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},Vn.Popup=class extends a.Evented{constructor(w){super(),this.remove=()=>(this._content&&h.remove(this._content),this._container&&(h.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this),this._onMouseUp=c=>{this._update(c.point)},this._onMouseMove=c=>{this._update(c.point)},this._onDrag=c=>{this._update(c.point)},this._update=c=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=h.create("div","maplibregl-popup",this._map.getContainer()),this._tip=h.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const D of this.options.className.split(" "))this._container.classList.add(D);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=oo(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!c)return;const p=this._pos=this._trackPointer&&c?c:this._map.project(this._lngLat);let y=this.options.anchor;const _=ap(this.options.offset);if(!y){const D=this._container.offsetWidth,L=this._container.offsetHeight;let U;U=p.y+_.bottom.y<L?["top"]:p.y>this._map.transform.height-L?["bottom"]:[],p.x<D/2?U.push("left"):p.x>this._map.transform.width-D/2&&U.push("right"),y=U.length===0?"bottom":U.join("-")}const E=p.add(_[y]).round();h.setTransform(this._container,`${op[y]} translate(${E.x}px,${E.y}px)`),Ia(this._container,y,"popup")},this._onClose=()=>{this.remove()},this.options=a.extend(Object.create(jy),w)}addTo(w){return this._map&&this.remove(),this._map=w,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(w){return this._lngLat=a.LngLat.convert(w),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(w){return this.setDOMContent(document.createTextNode(w))}setHTML(w){const c=document.createDocumentFragment(),p=document.createElement("body");let y;for(p.innerHTML=w;y=p.firstChild,y;)c.appendChild(y);return this.setDOMContent(c)}getMaxWidth(){var w;return(w=this._container)===null||w===void 0?void 0:w.style.maxWidth}setMaxWidth(w){return this.options.maxWidth=w,this._update(),this}setDOMContent(w){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=h.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(w),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(w){this._container&&this._container.classList.add(w)}removeClassName(w){this._container&&this._container.classList.remove(w)}setOffset(w){return this.options.offset=w,this._update(),this}toggleClassName(w){if(this._container)return this._container.classList.toggle(w)}_createCloseButton(){this.options.closeButton&&(this._closeButton=h.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const w=this._container.querySelector(By);w&&w.focus()}},Vn.Marker=zy,Vn.Style=Ri,Vn.LngLat=a.LngLat,Vn.LngLatBounds=Je,Vn.Point=a.Point,Vn.MercatorCoordinate=a.MercatorCoordinate,Vn.Evented=a.Evented,Vn.AJAXError=a.AJAXError,Vn.config=a.config,Vn.CanvasSource=Ve,Vn.GeoJSONSource=Ht,Vn.ImageSource=vt,Vn.RasterDEMTileSource=Gt,Vn.RasterTileSource=ot,Vn.VectorTileSource=Ot,Vn.VideoSource=gt,Vn.setRTLTextPlugin=a.setRTLTextPlugin,Vn.getRTLTextPluginStatus=a.getRTLTextPluginStatus,Vn.prewarm=function(){Ln().acquire(Dt)},Vn.clearPrewarmedResources=function(){const w=vr;w&&(w.isPreloaded()&&w.numActive()===1?(w.release(Dt),vr=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},hf.extend(Vn,{isSafari:a.isSafari,getPerformanceMetrics:a.PerformanceUtils.getPerformanceMetrics}),Vn});var s=i;return s})})(O7);var xbe=O7.exports;const yE=tr(xbe);class _be{constructor(t,n,r){this.onBeforeSwitch=t,this.onSwitch=n,this.onAfterSwitch=r,this.onDocumentClick=this.onDocumentClick.bind(this),this.styles=[],this.currentStyle=null}getDefaultPosition(){return"top-right"}updateStyles(t,n){this.styles=t;let r=null;for(const o of this.styles)if(o.id===(this.currentStyle||n)){r=o.id;break}for(r||(r=this.styles[0].id);this.mapStyleContainer.firstChild;)this.mapStyleContainer.removeChild(this.mapStyleContainer.firstChild);let i;for(const o of this.styles){const s=document.createElement("button");s.type="button",s.innerText=o.title,s.dataset.id=o.id,s.dataset.style=JSON.stringify(o.style),s.addEventListener("click",a=>{const{target:f}=a;f.classList.contains("active")||this.onSelectStyle(f)}),o.id===r&&(i=s,s.classList.add("active")),this.mapStyleContainer.appendChild(s)}this.currentStyle!==r&&(this.onSelectStyle(i),this.currentStyle=r)}onSelectStyle(t){this.onBeforeSwitch();const n=this.styles.find(i=>i.id===t.dataset.id);this.map.setStyle(n.style,{diff:!1}),this.map.setTransformRequest(n.transformRequest),this.onSwitch(t.dataset.id),this.mapStyleContainer.style.display="none",this.styleButton.style.display="block";const r=this.mapStyleContainer.getElementsByClassName("active");for(;r[0];)r[0].classList.remove("active");t.classList.add("active"),this.currentStyle=t.dataset.id,this.onAfterSwitch()}onAdd(t){return this.map=t,this.controlContainer=document.createElement("div"),this.controlContainer.classList.add("maplibregl-ctrl"),this.controlContainer.classList.add("maplibregl-ctrl-group"),this.mapStyleContainer=document.createElement("div"),this.styleButton=document.createElement("button"),this.styleButton.type="button",this.mapStyleContainer.classList.add("maplibregl-style-list"),this.styleButton.classList.add("maplibregl-ctrl-icon"),this.styleButton.classList.add("maplibregl-style-switcher"),this.styleButton.addEventListener("click",()=>{this.styleButton.style.display="none",this.mapStyleContainer.style.display="block"}),document.addEventListener("click",this.onDocumentClick),this.controlContainer.appendChild(this.styleButton),this.controlContainer.appendChild(this.mapStyleContainer),this.controlContainer}onRemove(){!this.controlContainer||!this.controlContainer.parentNode||!this.map||!this.styleButton||(this.styleButton.removeEventListener("click",this.onDocumentClick),this.controlContainer.parentNode.removeChild(this.controlContainer),document.removeEventListener("click",this.onDocumentClick),this.map=void 0)}onDocumentClick(t){this.controlContainer&&!this.controlContainer.contains(t.target)&&this.mapStyleContainer&&this.styleButton&&(this.mapStyleContainer.style.display="none",this.styleButton.style.display="block")}}const wbe=(e,t)=>{window.localStorage.setItem(e,JSON.stringify(t))},Mo=({tiles:e,minZoom:t,maxZoom:n,attribution:r})=>{const i={type:"raster",tiles:e,attribution:r,tileSize:256,minzoom:t,maxzoom:n};let o=window.location.origin.slice(0,-5),s=8484;return Object.keys(i).forEach(a=>i[a]===void 0&&delete i[a]),{version:8,sources:{custom:i},glyphs:`${o}:${s}/map/fonts/{fontstack}/{range}.pbf`,layers:[{id:"custom",type:"raster",source:"custom"}]}},Sbe=()=>{const e="mykey",t="pk.0f147952a41c555a5b70614039fd148b",n="mykey",r="mykey",i="mykey",o="mykey";return[{id:"osm",title:"mapOsm",style:Mo({tiles:["https://tile.openstreetmap.org/{z}/{x}/{y}.png"],maxZoom:19,attribution:' <a target="_top" rel="noopener" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),available:!0},{id:"locationIqStreets",title:"mapLocationIqStreets",style:`https://tiles.locationiq.com/v3/streets/vector.json?key=${t}`,available:!0},{id:"locationIqDark",title:"mapLocationIqDark",style:`https://tiles.locationiq.com/v3/dark/vector.json?key=${t}`,available:!0},{id:"openTopoMap",title:"mapOpenTopoMap",style:Mo({tiles:["a","b","c"].map(s=>`https://${s}.tile.opentopomap.org/{z}/{x}/{y}.png`),maxZoom:17}),available:!0},{id:"carto",title:"mapCarto",style:Mo({tiles:["a","b","c","d"].map(s=>`https://${s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}@2x.png`),maxZoom:22,attribution:' <a target="_top" rel="noopener" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors,  <a target="_top" rel="noopener" href="https://carto.com/attribution">CARTO</a>'}),available:!0},{id:"googleRoad",title:"mapGoogleRoad",style:Mo({tiles:[0,1,2,3].map(s=>`https://mt${s}.google.com/vt/lyrs=m&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:" Google"}),available:!0},{id:"googleSatellite",title:"mapGoogleSatellite",style:Mo({tiles:[0,1,2,3].map(s=>`https://mt${s}.google.com/vt/lyrs=s&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:" Google"}),available:!0},{id:"googleHybrid",title:"mapGoogleHybrid",style:Mo({tiles:[0,1,2,3].map(s=>`https://mt${s}.google.com/vt/lyrs=y&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:" Google"}),available:!0},{id:"mapTilerBasic",title:"mapMapTilerBasic",style:`https://api.maptiler.com/maps/basic/style.json?key=${e}`,available:!!e,attribute:"mapTilerKey"},{id:"mapTilerHybrid",title:"mapMapTilerHybrid",style:`https://api.maptiler.com/maps/hybrid/style.json?key=${e}`,available:!!e,attribute:"mapTilerKey"},{id:"bingRoad",title:"mapBingRoad",style:Mo({tiles:[0,1,2,3].map(s=>`https://t${s}.ssl.ak.dynamic.tiles.virtualearth.net/comp/ch/{quadkey}?mkt=en-US&it=G,L&shading=hill&og=1885&n=z`),maxZoom:21}),available:!!n,attribute:"bingMapsKey"},{id:"bingAerial",title:"mapBingAerial",style:Mo({tiles:[0,1,2,3].map(s=>`https://ecn.t${s}.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=12327`),maxZoom:19}),available:!!n,attribute:"bingMapsKey"},{id:"bingHybrid",title:"mapBingHybrid",style:Mo({tiles:[0,1,2,3].map(s=>`https://t${s}.ssl.ak.dynamic.tiles.virtualearth.net/comp/ch/{quadkey}?mkt=en-US&it=A,G,L&og=1885&n=z`),maxZoom:19}),available:!!n,attribute:"bingMapsKey"},{id:"tomTomBasic",title:"mapTomTomBasic",style:`https://api.tomtom.com/map/1/style/20.0.0-8/basic_main.json?key=${r}`,available:!!r,attribute:"tomTomKey"},{id:"hereBasic",title:"mapHereBasic",style:`https://assets.vector.hereapi.com/styles/berlin/base/mapbox/tilezen?apikey=${i}`,available:!!i,attribute:"hereKey"},{id:"hereHybrid",title:"mapHereHybrid",style:Mo({tiles:[1,2,3,4].map(s=>`https://${s}.aerial.maps.ls.hereapi.com/maptile/2.1/maptile/newest/hybrid.day/{z}/{x}/{y}/256/png8?apiKey=${i}`),maxZoom:20}),available:!!i,attribute:"hereKey"},{id:"hereSatellite",title:"mapHereSatellite",style:Mo({tiles:[1,2,3,4].map(s=>`https://${s}.aerial.maps.ls.hereapi.com/maptile/2.1/maptile/newest/satellite.day/{z}/{x}/{y}/256/png8?apiKey=${i}`),maxZoom:19}),available:!!i,attribute:"hereKey"},{id:"autoNavi",title:"mapAutoNavi",style:Mo({tiles:[1,2,3,4].map(s=>`https://webrd0${s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}`),minZoom:3,maxZoom:18}),available:!0},{id:"ordnanceSurvey",title:"mapOrdnanceSurvey",style:"https://api.os.uk/maps/vector/v1/vts/resources/styles?key=EAZ8p83u72FTGiLjLC2MsTAl1ko6XQHC",transformRequest:s=>({url:`${s}&srs=3857`}),available:!0},{id:"mapboxStreets",title:"mapMapboxStreets",style:Mo({tiles:[`https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22}),available:!!o,attribute:"mapboxAccessToken"},{id:"mapboxOutdoors",title:"mapMapboxOutdoors",style:Mo({tiles:[`https://api.mapbox.com/styles/v1/mapbox/outdoors-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22}),available:!!o,attribute:"mapboxAccessToken"},{id:"mapboxSatelliteStreet",title:"mapMapboxSatellite",style:Mo({tiles:[`https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v11/tiles/{z}/{x}/{y}?access_token=${o}`],maxZoom:22}),available:!!o,attribute:"mapboxAccessToken"},{id:"custom",title:"mapCustom",style:Mo({tiles:["http://localhost:8080/tile/{z}/{x}/{y}.png"],maxZoom:19}),available:!0}]},Qm=document.createElement("div");Qm.style.width="100%";Qm.style.height="100%";Qm.style.boxSizing="initial";const Ye=new yE.Map({container:Qm,attributionControl:!1,zoom:14});let gR=!1;const yR=new Set,Ebe=e=>{yR.add(e),e(gR)},Cbe=e=>{yR.delete(e)},M7=e=>{gR=e,yR.forEach(t=>t(e))},Tbe=async()=>{gR||(Ye.hasImage("background")||(Object.entries(Gu).forEach(([e,t])=>{Ye.addImage(e,t,{pixelRatio:window.devicePixelRatio})}),Ye.easeTo({center:[-6.0025,37.412],zoom:Math.max(Ye.getZoom(),5),offset:[0,-1/2]})),M7(!0))};Ye.addControl(new yE.NavigationControl);const I7=new _be(()=>M7(!1),e=>wbe("selectedMapStyle",e),()=>{Ye.once("styledata",()=>{const e=()=>{Ye.loaded()?Tbe():setTimeout(e,33)};e()})});Ye.addControl(I7);const $7=({children:e})=>{const t=V.useRef(null),[n,r]=V.useState(!1),i=Sbe(),o="osm,locationIqStreets,carto,custom",[s]="osm",a="my tocken",f=21;return V.useEffect(()=>{Ye.setMaxZoom(f)},[f]),V.useEffect(()=>{yE.accessToken=a},[a]),V.useEffect(()=>{const h=i.filter(v=>v.available&&o.includes(v.id)),g=h.length?h:i.filter(v=>v.id==="osm");I7.updateStyles(g,s)},[i,s]),V.useEffect(()=>{const h=g=>r(g);return Ebe(h),()=>{Cbe(h)}},[]),V.useLayoutEffect(()=>{const h=t.current;return h.appendChild(Qm),Ye.resize(),()=>{h.removeChild(Qm)}},[t]),B.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},ref:t,children:n&&e})},vR=Symbol.for("yaml.alias"),AA=Symbol.for("yaml.document"),_d=Symbol.for("yaml.map"),R7=Symbol.for("yaml.pair"),iu=Symbol.for("yaml.scalar"),Ig=Symbol.for("yaml.seq"),Ns=Symbol.for("yaml.node.type"),Th=e=>!!e&&typeof e=="object"&&e[Ns]===vR,$g=e=>!!e&&typeof e=="object"&&e[Ns]===AA,Rg=e=>!!e&&typeof e=="object"&&e[Ns]===_d,Zr=e=>!!e&&typeof e=="object"&&e[Ns]===R7,Dr=e=>!!e&&typeof e=="object"&&e[Ns]===iu,Dg=e=>!!e&&typeof e=="object"&&e[Ns]===Ig;function ii(e){if(e&&typeof e=="object")switch(e[Ns]){case _d:case Ig:return!0}return!1}function Ci(e){if(e&&typeof e=="object")switch(e[Ns]){case vR:case _d:case iu:case Ig:return!0}return!1}const kbe=e=>(Dr(e)||ii(e))&&!!e.anchor,xa=Symbol("break visit"),D7=Symbol("skip children"),tc=Symbol("remove node");function Id(e,t){const n=L7(t);$g(e)?im(null,e.contents,n,Object.freeze([e]))===tc&&(e.contents=null):im(null,e,n,Object.freeze([]))}Id.BREAK=xa;Id.SKIP=D7;Id.REMOVE=tc;function im(e,t,n,r){const i=N7(e,t,n,r);if(Ci(i)||Zr(i))return z7(e,r,i),im(e,i,n,r);if(typeof i!="symbol"){if(ii(t)){r=Object.freeze(r.concat(t));for(let o=0;o<t.items.length;++o){const s=im(o,t.items[o],n,r);if(typeof s=="number")o=s-1;else{if(s===xa)return xa;s===tc&&(t.items.splice(o,1),o-=1)}}}else if(Zr(t)){r=Object.freeze(r.concat(t));const o=im("key",t.key,n,r);if(o===xa)return xa;o===tc&&(t.key=null);const s=im("value",t.value,n,r);if(s===xa)return xa;s===tc&&(t.value=null)}}return i}async function vE(e,t){const n=L7(t);$g(e)?await om(null,e.contents,n,Object.freeze([e]))===tc&&(e.contents=null):await om(null,e,n,Object.freeze([]))}vE.BREAK=xa;vE.SKIP=D7;vE.REMOVE=tc;async function om(e,t,n,r){const i=await N7(e,t,n,r);if(Ci(i)||Zr(i))return z7(e,r,i),om(e,i,n,r);if(typeof i!="symbol"){if(ii(t)){r=Object.freeze(r.concat(t));for(let o=0;o<t.items.length;++o){const s=await om(o,t.items[o],n,r);if(typeof s=="number")o=s-1;else{if(s===xa)return xa;s===tc&&(t.items.splice(o,1),o-=1)}}}else if(Zr(t)){r=Object.freeze(r.concat(t));const o=await om("key",t.key,n,r);if(o===xa)return xa;o===tc&&(t.key=null);const s=await om("value",t.value,n,r);if(s===xa)return xa;s===tc&&(t.value=null)}}return i}function L7(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function N7(e,t,n,r){var i,o,s,a,f;if(typeof n=="function")return n(e,t,r);if(Rg(t))return(i=n.Map)==null?void 0:i.call(n,e,t,r);if(Dg(t))return(o=n.Seq)==null?void 0:o.call(n,e,t,r);if(Zr(t))return(s=n.Pair)==null?void 0:s.call(n,e,t,r);if(Dr(t))return(a=n.Scalar)==null?void 0:a.call(n,e,t,r);if(Th(t))return(f=n.Alias)==null?void 0:f.call(n,e,t,r)}function z7(e,t,n){const r=t[t.length-1];if(ii(r))r.items[e]=n;else if(Zr(r))e==="key"?r.key=n:r.value=n;else if($g(r))r.contents=n;else{const i=Th(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const Pbe={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Obe=e=>e.replace(/[!,[\]{}]/g,t=>Pbe[t]);class sa{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},sa.defaultYaml,t),this.tags=Object.assign({},sa.defaultTags,n)}clone(){const t=new sa(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new sa(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:sa.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},sa.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:sa.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},sa.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[o,s]=r;return this.tags[o]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[o]=r;if(o==="1.1"||o==="1.2")return this.yaml.version=o,!0;{const s=/^\d+\.\d+$/.test(o);return n(6,`Unsupported YAML version ${o}`,s),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const s=t.slice(2,-1);return s==="!"||s==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),s)}const[,r,i]=t.match(/^(.*!)([^!]*)$/);i||n(`The ${t} tag has no suffix`);const o=this.tags[r];if(o)try{return o+decodeURIComponent(i)}catch(s){return n(String(s)),null}return r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+Obe(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let i;if(t&&r.length>0&&Ci(t.contents)){const o={};Id(t.contents,(s,a)=>{Ci(a)&&a.tag&&(o[a.tag]=!0)}),i=Object.keys(o)}else i=[];for(const[o,s]of r)o==="!!"&&s==="tag:yaml.org,2002:"||(!t||i.some(a=>a.startsWith(s)))&&n.push(`%TAG ${o} ${s}`);return n.join(`
`)}}sa.defaultYaml={explicit:!1,version:"1.2"};sa.defaultTags={"!!":"tag:yaml.org,2002:"};function j7(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function B7(e){const t=new Set;return Id(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function F7(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function Abe(e,t){const n=[],r=new Map;let i=null;return{onAnchor:o=>{n.push(o),i||(i=B7(e));const s=F7(t,i);return i.add(s),s},setAnchors:()=>{for(const o of n){const s=r.get(o);if(typeof s=="object"&&s.anchor&&(Dr(s.node)||ii(s.node)))s.node.anchor=s.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=o,a}}},sourceObjects:r}}function am(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,o=r.length;i<o;++i){const s=r[i],a=am(e,r,String(i),s);a===void 0?delete r[i]:a!==s&&(r[i]=a)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const o=r.get(i),s=am(e,r,i,o);s===void 0?r.delete(i):s!==o&&r.set(i,s)}else if(r instanceof Set)for(const i of Array.from(r)){const o=am(e,r,i,i);o===void 0?r.delete(i):o!==i&&(r.delete(i),r.add(o))}else for(const[i,o]of Object.entries(r)){const s=am(e,r,i,o);s===void 0?delete r[i]:s!==o&&(r[i]=s)}return e.call(t,n,r)}function Ps(e,t,n){if(Array.isArray(e))return e.map((r,i)=>Ps(r,String(i),n));if(e&&typeof e.toJSON=="function"){if(!n||!kbe(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=o=>{r.res=o,delete n.onCreate};const i=e.toJSON(t,n);return n.onCreate&&n.onCreate(i),i}return typeof e=="bigint"&&!(n!=null&&n.keep)?Number(e):e}class bR{constructor(t){Object.defineProperty(this,Ns,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:o}={}){if(!$g(t))throw new TypeError("A document argument is required");const s={anchors:new Map,doc:t,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},a=Ps(this,"",s);if(typeof i=="function")for(const{count:f,res:h}of s.anchors.values())i(h,f);return typeof o=="function"?am(o,{"":a},"",a):a}}class bE extends bR{constructor(t){super(vR),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let n;return Id(t,{Node:(r,i)=>{if(i===this)return Id.BREAK;i.anchor===this.source&&(n=i)}}),n}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:o}=n,s=this.resolve(i);if(!s){const f=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(f)}let a=r.get(s);if(a||(Ps(s,null,n),a=r.get(s)),!a||a.res===void 0){const f="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(f)}if(o>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=q1(i,s,r)),a.count*a.aliasCount>o)){const f="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(f)}return a.res}toString(t,n,r){const i=`*${this.source}`;if(t){if(j7(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const o=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(o)}if(t.implicitKey)return`${i} `}return i}}function q1(e,t,n){if(Th(t)){const r=t.resolve(e),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(ii(t)){let r=0;for(const i of t.items){const o=q1(e,i,n);o>r&&(r=o)}return r}else if(Zr(t)){const r=q1(e,t.key,n),i=q1(e,t.value,n);return Math.max(r,i)}return 1}const U7=e=>!e||typeof e!="function"&&typeof e!="object";class Sn extends bR{constructor(t){super(iu),this.value=t}toJSON(t,n){return n!=null&&n.keep?this.value:Ps(this.value,t,n)}toString(){return String(this.value)}}Sn.BLOCK_FOLDED="BLOCK_FOLDED";Sn.BLOCK_LITERAL="BLOCK_LITERAL";Sn.PLAIN="PLAIN";Sn.QUOTE_DOUBLE="QUOTE_DOUBLE";Sn.QUOTE_SINGLE="QUOTE_SINGLE";const Mbe="tag:yaml.org,2002:";function Ibe(e,t,n){if(t){const r=n.filter(o=>o.tag===t),i=r.find(o=>!o.format)??r[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return n.find(r=>{var i;return((i=r.identify)==null?void 0:i.call(r,e))&&!r.format})}function ab(e,t,n){var v,x,k;if($g(e)&&(e=e.contents),Ci(e))return e;if(Zr(e)){const O=(x=(v=n.schema[_d]).createNode)==null?void 0:x.call(v,n.schema,null,n);return O.items.push(e),O}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:o,schema:s,sourceObjects:a}=n;let f;if(r&&e&&typeof e=="object"){if(f=a.get(e),f)return f.anchor||(f.anchor=i(e)),new bE(f.anchor);f={anchor:null,node:null},a.set(e,f)}t!=null&&t.startsWith("!!")&&(t=Mbe+t.slice(2));let h=Ibe(e,t,s.tags);if(!h){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const O=new Sn(e);return f&&(f.node=O),O}h=e instanceof Map?s[_d]:Symbol.iterator in Object(e)?s[Ig]:s[_d]}o&&(o(h),delete n.onTagObj);const g=h!=null&&h.createNode?h.createNode(n.schema,e,n):typeof((k=h==null?void 0:h.nodeClass)==null?void 0:k.from)=="function"?h.nodeClass.from(n.schema,e,n):new Sn(e);return t?g.tag=t:h.default||(g.tag=h.tag),f&&(f.node=g),g}function Kw(e,t,n){let r=n;for(let i=t.length-1;i>=0;--i){const o=t[i];if(typeof o=="number"&&Number.isInteger(o)&&o>=0){const s=[];s[o]=r,r=s}else r=new Map([[o,r]])}return ab(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const e0=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class xE extends bR{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>Ci(r)||Zr(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(e0(t))this.add(n);else{const[r,...i]=t,o=this.get(r,!0);if(ii(o))o.addIn(i,n);else if(o===void 0&&this.schema)this.set(r,Kw(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(ii(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...i]=t,o=this.get(r,!0);return i.length===0?!n&&Dr(o)?o.value:o:ii(o)?o.getIn(i,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!Zr(n))return!1;const r=n.value;return r==null||t&&Dr(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const i=this.get(n,!0);return ii(i)?i.hasIn(r):!1}setIn(t,n){const[r,...i]=t;if(i.length===0)this.set(r,n);else{const o=this.get(r,!0);if(ii(o))o.setIn(i,n);else if(o===void 0&&this.schema)this.set(r,Kw(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}xE.maxFlowStringSingleLineLength=60;const $be=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Bc(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const ad=(e,t,n)=>e.endsWith(`
`)?Bc(n,t):n.includes(`
`)?`
`+Bc(n,t):(e.endsWith(" ")?"":" ")+n,V7="flow",MA="block",G1="quoted";function _E(e,t,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:o=20,onFold:s,onOverflow:a}={}){if(!i||i<0)return e;const f=Math.max(1+o,1+i-t.length);if(e.length<=f)return e;const h=[],g={};let v=i-t.length;typeof r=="number"&&(r>i-Math.max(2,o)?h.push(0):v=i-r);let x,k,O=!1,C=-1,M=-1,I=-1;n===MA&&(C=tB(e,C),C!==-1&&(v=C+f));for(let P;P=e[C+=1];){if(n===G1&&P==="\\"){switch(M=C,e[C+1]){case"x":C+=3;break;case"u":C+=5;break;case"U":C+=9;break;default:C+=1}I=C}if(P===`
`)n===MA&&(C=tB(e,C)),v=C+f,x=void 0;else{if(P===" "&&k&&k!==" "&&k!==`
`&&k!=="	"){const $=e[C+1];$&&$!==" "&&$!==`
`&&$!=="	"&&(x=C)}if(C>=v)if(x)h.push(x),v=x+f,x=void 0;else if(n===G1){for(;k===" "||k==="	";)k=P,P=e[C+=1],O=!0;const $=C>I+1?C-2:M-1;if(g[$])return e;h.push($),g[$]=!0,v=$+f,x=void 0}else O=!0}k=P}if(O&&a&&a(),h.length===0)return e;s&&s();let A=e.slice(0,h[0]);for(let P=0;P<h.length;++P){const $=h[P],z=h[P+1]||e.length;$===0?A=`
${t}${e.slice(0,z)}`:(n===G1&&g[$]&&(A+=`${e[$]}\\`),A+=`
${t}${e.slice($+1,z)}`)}return A}function tB(e,t){let n=e[t+1];for(;n===" "||n==="	";){do n=e[t+=1];while(n&&n!==`
`);n=e[t+1]}return t}const wE=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),SE=e=>/^(%|---|\.\.\.)/m.test(e);function Rbe(e,t,n){if(!t||t<0)return!1;const r=t-n,i=e.length;if(i<=r)return!1;for(let o=0,s=0;o<i;++o)if(e[o]===`
`){if(o-s>r)return!0;if(s=o+1,i-s<=r)return!1}return!0}function _0(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,i=t.options.doubleQuotedMinMultiLineLength,o=t.indent||(SE(e)?"  ":"");let s="",a=0;for(let f=0,h=n[f];h;h=n[++f])if(h===" "&&n[f+1]==="\\"&&n[f+2]==="n"&&(s+=n.slice(a,f)+"\\ ",f+=1,a=f,h="\\"),h==="\\")switch(n[f+1]){case"u":{s+=n.slice(a,f);const g=n.substr(f+2,4);switch(g){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:g.substr(0,2)==="00"?s+="\\x"+g.substr(2):s+=n.substr(f,6)}f+=5,a=f+1}break;case"n":if(r||n[f+2]==='"'||n.length<i)f+=1;else{for(s+=n.slice(a,f)+`

`;n[f+2]==="\\"&&n[f+3]==="n"&&n[f+4]!=='"';)s+=`
`,f+=2;s+=o,n[f+2]===" "&&(s+="\\"),f+=1,a=f+1}break;default:f+=1}return s=a?s+n.slice(a):n,r?s:_E(s,o,G1,wE(t,!1))}function IA(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return _0(e,t);const n=t.indent||(SE(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:_E(r,n,V7,wE(t,!1))}function sm(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=_0;else{const i=e.includes('"'),o=e.includes("'");i&&!o?r=IA:o&&!i?r=_0:r=n?IA:_0}return r(e,t)}let $A;try{$A=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{$A=/\n+(?!\n|$)/g}function H1({comment:e,type:t,value:n},r,i,o){const{blockQuote:s,commentString:a,lineWidth:f}=r.options;if(!s||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return sm(n,r);const h=r.indent||(r.forceBlockIndent||SE(n)?"  ":""),g=s==="literal"?!0:s==="folded"||t===Sn.BLOCK_FOLDED?!1:t===Sn.BLOCK_LITERAL?!0:!Rbe(n,f,h.length);if(!n)return g?`|
`:`>
`;let v,x;for(x=n.length;x>0;--x){const N=n[x-1];if(N!==`
`&&N!=="	"&&N!==" ")break}let k=n.substring(x);const O=k.indexOf(`
`);O===-1?v="-":n===k||O!==k.length-1?(v="+",o&&o()):v="",k&&(n=n.slice(0,-k.length),k[k.length-1]===`
`&&(k=k.slice(0,-1)),k=k.replace($A,`$&${h}`));let C=!1,M,I=-1;for(M=0;M<n.length;++M){const N=n[M];if(N===" ")C=!0;else if(N===`
`)I=M;else break}let A=n.substring(0,I<M?I+1:M);A&&(n=n.substring(A.length),A=A.replace(/\n+/g,`$&${h}`));let $=(g?"|":">")+(C?h?"2":"1":"")+v;if(e&&($+=" "+a(e.replace(/ ?[\r\n]+/g," ")),i&&i()),g)return n=n.replace(/\n+/g,`$&${h}`),`${$}
${h}${A}${n}${k}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${h}`);const z=_E(`${A}${n}${k}`,h,MA,wE(r,!0));return`${$}
${h}${z}`}function Dbe(e,t,n,r){const{type:i,value:o}=e,{actualString:s,implicitKey:a,indent:f,indentStep:h,inFlow:g}=t;if(a&&o.includes(`
`)||g&&/[[\]{},]/.test(o))return sm(o,t);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return a||g||!o.includes(`
`)?sm(o,t):H1(e,t,n,r);if(!a&&!g&&i!==Sn.PLAIN&&o.includes(`
`))return H1(e,t,n,r);if(SE(o)){if(f==="")return t.forceBlockIndent=!0,H1(e,t,n,r);if(a&&f===h)return sm(o,t)}const v=o.replace(/\n+/g,`$&
${f}`);if(s){const x=C=>{var M;return C.default&&C.tag!=="tag:yaml.org,2002:str"&&((M=C.test)==null?void 0:M.test(v))},{compat:k,tags:O}=t.doc.schema;if(O.some(x)||k!=null&&k.some(x))return sm(o,t)}return a?v:_E(v,f,V7,wE(t,!1))}function ux(e,t,n,r){const{implicitKey:i,inFlow:o}=t,s=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==Sn.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(a=Sn.QUOTE_DOUBLE);const f=g=>{switch(g){case Sn.BLOCK_FOLDED:case Sn.BLOCK_LITERAL:return i||o?sm(s.value,t):H1(s,t,n,r);case Sn.QUOTE_DOUBLE:return _0(s.value,t);case Sn.QUOTE_SINGLE:return IA(s.value,t);case Sn.PLAIN:return Dbe(s,t,n,r);default:return null}};let h=f(a);if(h===null){const{defaultKeyType:g,defaultStringType:v}=t.options,x=i&&g||v;if(h=f(x),h===null)throw new Error(`Unsupported default string type ${x}`)}return h}function W7(e,t){const n=Object.assign({blockQuote:!0,commentString:$be,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function Lbe(e,t){var i;if(t.tag){const o=e.filter(s=>s.tag===t.tag);if(o.length>0)return o.find(s=>s.format===t.format)??o[0]}let n,r;if(Dr(t)){r=t.value;const o=e.filter(s=>{var a;return(a=s.identify)==null?void 0:a.call(s,r)});n=o.find(s=>s.format===t.format)??o.find(s=>!s.format)}else r=t,n=e.find(o=>o.nodeClass&&r instanceof o.nodeClass);if(!n){const o=((i=r==null?void 0:r.constructor)==null?void 0:i.name)??typeof r;throw new Error(`Tag not resolved for ${o} value`)}return n}function Nbe(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],o=(Dr(e)||ii(e))&&e.anchor;o&&j7(o)&&(n.add(o),i.push(`&${o}`));const s=e.tag?e.tag:t.default?null:t.tag;return s&&i.push(r.directives.tagString(s)),i.join(" ")}function eg(e,t,n,r){var f;if(Zr(e))return e.toString(t,n,r);if(Th(e)){if(t.doc.directives)return e.toString(t);if((f=t.resolvedAliases)!=null&&f.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i;const o=Ci(e)?e:t.doc.createNode(e,{onTagObj:h=>i=h});i||(i=Lbe(t.doc.schema.tags,o));const s=Nbe(o,i,t);s.length>0&&(t.indentAtStart=(t.indentAtStart??0)+s.length+1);const a=typeof i.stringify=="function"?i.stringify(o,t,n,r):Dr(o)?ux(o,t,n,r):o.toString(t,n,r);return s?Dr(o)||a[0]==="{"||a[0]==="["?`${s} ${a}`:`${s}
${t.indent}${a}`:a}function zbe({key:e,value:t},n,r,i){const{allNullValues:o,doc:s,indent:a,indentStep:f,options:{commentString:h,indentSeq:g,simpleKeys:v}}=n;let x=Ci(e)&&e.comment||null;if(v){if(x)throw new Error("With simple keys, key nodes cannot have comments");if(ii(e)){const F="With simple keys, collection cannot be used as a key value";throw new Error(F)}}let k=!v&&(!e||x&&t==null&&!n.inFlow||ii(e)||(Dr(e)?e.type===Sn.BLOCK_FOLDED||e.type===Sn.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!k&&(v||!o),indent:a+f});let O=!1,C=!1,M=eg(e,n,()=>O=!0,()=>C=!0);if(!k&&!n.inFlow&&M.length>1024){if(v)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");k=!0}if(n.inFlow){if(o||t==null)return O&&r&&r(),M===""?"?":k?`? ${M}`:M}else if(o&&!v||t==null&&k)return M=`? ${M}`,x&&!O?M+=ad(M,n.indent,h(x)):C&&i&&i(),M;O&&(x=null),k?(x&&(M+=ad(M,n.indent,h(x))),M=`? ${M}
${a}:`):(M=`${M}:`,x&&(M+=ad(M,n.indent,h(x))));let I,A,P;Ci(t)?(I=!!t.spaceBefore,A=t.commentBefore,P=t.comment):(I=!1,A=null,P=null,t&&typeof t=="object"&&(t=s.createNode(t))),n.implicitKey=!1,!k&&!x&&Dr(t)&&(n.indentAtStart=M.length+1),C=!1,!g&&f.length>=2&&!n.inFlow&&!k&&Dg(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let $=!1;const z=eg(t,n,()=>$=!0,()=>C=!0);let N=" ";if(x||I||A){if(N=I?`
`:"",A){const F=h(A);N+=`
${Bc(F,n.indent)}`}z===""&&!n.inFlow?N===`
`&&(N=`

`):N+=`
${n.indent}`}else if(!k&&ii(t)){const F=z[0],G=z.indexOf(`
`),J=G!==-1,ee=n.inFlow??t.flow??t.items.length===0;if(J||!ee){let ae=!1;if(J&&(F==="&"||F==="!")){let pe=z.indexOf(" ");F==="&"&&pe!==-1&&pe<G&&z[pe+1]==="!"&&(pe=z.indexOf(" ",pe+1)),(pe===-1||G<pe)&&(ae=!0)}ae||(N=`
${n.indent}`)}}else(z===""||z[0]===`
`)&&(N="");return M+=N+z,n.inFlow?$&&r&&r():P&&!$?M+=ad(M,n.indent,h(P)):C&&i&&i(),M}function q7(e,t){(e==="debug"||e==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(t):console.warn(t))}const nB="<<";function G7(e,t,{key:n,value:r}){if(e!=null&&e.doc.schema.merge&&jbe(n))if(r=Th(r)?r.resolve(e.doc):r,Dg(r))for(const i of r.items)nP(e,t,i);else if(Array.isArray(r))for(const i of r)nP(e,t,i);else nP(e,t,r);else{const i=Ps(n,"",e);if(t instanceof Map)t.set(i,Ps(r,i,e));else if(t instanceof Set)t.add(i);else{const o=Bbe(n,i,e),s=Ps(r,o,e);o in t?Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0}):t[o]=s}}return t}const jbe=e=>e===nB||Dr(e)&&e.value===nB&&(!e.type||e.type===Sn.PLAIN);function nP(e,t,n){const r=e&&Th(n)?n.resolve(e.doc):n;if(!Rg(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,e,Map);for(const[o,s]of i)t instanceof Map?t.has(o)||t.set(o,s):t instanceof Set?t.add(o):Object.prototype.hasOwnProperty.call(t,o)||Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0});return t}function Bbe(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(Ci(e)&&(n!=null&&n.doc)){const r=W7(n.doc,{});r.anchors=new Set;for(const o of n.anchors.keys())r.anchors.add(o.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=e.toString(r);if(!n.mapKeyWarned){let o=JSON.stringify(i);o.length>40&&(o=o.substring(0,36)+'..."'),q7(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(t)}function xR(e,t,n){const r=ab(e,void 0,n),i=ab(t,void 0,n);return new zo(r,i)}class zo{constructor(t,n=null){Object.defineProperty(this,Ns,{value:R7}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return Ci(n)&&(n=n.clone(t)),Ci(r)&&(r=r.clone(t)),new zo(n,r)}toJSON(t,n){const r=n!=null&&n.mapAsMap?new Map:{};return G7(n,r,this)}toString(t,n,r){return t!=null&&t.doc?zbe(this,t,n,r):JSON.stringify(this)}}function H7(e,t,n){return(t.inFlow??e.flow?Ube:Fbe)(e,t,n)}function Fbe({comment:e,items:t},n,{blockItemPrefix:r,flowChars:i,itemIndent:o,onChompKeep:s,onComment:a}){const{indent:f,options:{commentString:h}}=n,g=Object.assign({},n,{indent:o,type:null});let v=!1;const x=[];for(let O=0;O<t.length;++O){const C=t[O];let M=null;if(Ci(C))!v&&C.spaceBefore&&x.push(""),Zw(n,x,C.commentBefore,v),C.comment&&(M=C.comment);else if(Zr(C)){const A=Ci(C.key)?C.key:null;A&&(!v&&A.spaceBefore&&x.push(""),Zw(n,x,A.commentBefore,v))}v=!1;let I=eg(C,g,()=>M=null,()=>v=!0);M&&(I+=ad(I,o,h(M))),v&&M&&(v=!1),x.push(r+I)}let k;if(x.length===0)k=i.start+i.end;else{k=x[0];for(let O=1;O<x.length;++O){const C=x[O];k+=C?`
${f}${C}`:`
`}}return e?(k+=`
`+Bc(h(e),f),a&&a()):v&&s&&s(),k}function Ube({comment:e,items:t},n,{flowChars:r,itemIndent:i,onComment:o}){const{indent:s,indentStep:a,flowCollectionPadding:f,options:{commentString:h}}=n;i+=a;const g=Object.assign({},n,{indent:i,inFlow:!0,type:null});let v=!1,x=0;const k=[];for(let I=0;I<t.length;++I){const A=t[I];let P=null;if(Ci(A))A.spaceBefore&&k.push(""),Zw(n,k,A.commentBefore,!1),A.comment&&(P=A.comment);else if(Zr(A)){const z=Ci(A.key)?A.key:null;z&&(z.spaceBefore&&k.push(""),Zw(n,k,z.commentBefore,!1),z.comment&&(v=!0));const N=Ci(A.value)?A.value:null;N?(N.comment&&(P=N.comment),N.commentBefore&&(v=!0)):A.value==null&&(z!=null&&z.comment)&&(P=z.comment)}P&&(v=!0);let $=eg(A,g,()=>P=null);I<t.length-1&&($+=","),P&&($+=ad($,i,h(P))),!v&&(k.length>x||$.includes(`
`))&&(v=!0),k.push($),x=k.length}let O;const{start:C,end:M}=r;if(k.length===0)O=C+M;else if(v||(v=k.reduce((A,P)=>A+P.length+2,2)>xE.maxFlowStringSingleLineLength),v){O=C;for(const I of k)O+=I?`
${a}${s}${I}`:`
`;O+=`
${s}${M}`}else O=`${C}${f}${k.join(" ")}${f}${M}`;return e&&(O+=ad(O,s,h(e)),o&&o()),O}function Zw({indent:e,options:{commentString:t}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){const o=Bc(t(r),e);n.push(o.trimStart())}}function Bf(e,t){const n=Dr(t)?t.value:t;for(const r of e)if(Zr(r)&&(r.key===t||r.key===n||Dr(r.key)&&r.key.value===n))return r}class Wa extends xE{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(_d,t),this.items=[]}static from(t,n,r){const{keepUndefined:i,replacer:o}=r,s=new this(t),a=(f,h)=>{if(typeof o=="function")h=o.call(n,f,h);else if(Array.isArray(o)&&!o.includes(f))return;(h!==void 0||i)&&s.items.push(xR(f,h,r))};if(n instanceof Map)for(const[f,h]of n)a(f,h);else if(n&&typeof n=="object")for(const f of Object.keys(n))a(f,n[f]);return typeof t.sortMapEntries=="function"&&s.items.sort(t.sortMapEntries),s}add(t,n){var s;let r;Zr(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new zo(t,t==null?void 0:t.value):r=new zo(t.key,t.value);const i=Bf(this.items,r.key),o=(s=this.schema)==null?void 0:s.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);Dr(i.value)&&U7(r.value)?i.value.value=r.value:i.value=r.value}else if(o){const a=this.items.findIndex(f=>o(r,f)<0);a===-1?this.items.push(r):this.items.splice(a,0,r)}else this.items.push(r)}delete(t){const n=Bf(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){const r=Bf(this.items,t),i=r==null?void 0:r.value;return(!n&&Dr(i)?i.value:i)??void 0}has(t){return!!Bf(this.items,t)}set(t,n){this.add(new zo(t,n),!0)}toJSON(t,n,r){const i=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(i);for(const o of this.items)G7(n,i,o);return i}toString(t,n,r){if(!t)return JSON.stringify(this);for(const i of this.items)if(!Zr(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),H7(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}const Lg={collection:"map",default:!0,nodeClass:Wa,tag:"tag:yaml.org,2002:map",resolve(e,t){return Rg(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,n)=>Wa.from(e,t,n)};class $d extends xE{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(Ig,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=c1(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=c1(t);if(typeof r!="number")return;const i=this.items[r];return!n&&Dr(i)?i.value:i}has(t){const n=c1(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=c1(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const i=this.items[r];Dr(i)&&U7(n)?i.value=n:this.items[r]=n}toJSON(t,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let i=0;for(const o of this.items)r.push(Ps(o,String(i++),n));return r}toString(t,n,r){return t?H7(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(t,n,r){const{replacer:i}=r,o=new this(t);if(n&&Symbol.iterator in Object(n)){let s=0;for(let a of n){if(typeof i=="function"){const f=n instanceof Set?a:String(s++);a=i.call(n,f,a)}o.items.push(ab(a,void 0,r))}}return o}}function c1(e){let t=Dr(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const Ng={collection:"seq",default:!0,nodeClass:$d,tag:"tag:yaml.org,2002:seq",resolve(e,t){return Dg(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,n)=>$d.from(e,t,n)},EE={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),ux(e,t,n,r)}},CE={identify:e=>e==null,createNode:()=>new Sn(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Sn(null),stringify:({source:e},t)=>typeof e=="string"&&CE.test.test(e)?e:t.options.nullStr},_R={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new Sn(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&_R.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function Sl({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let o=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(o)){let s=o.indexOf(".");s<0&&(s=o.length,o+=".");let a=t-(o.length-s-1);for(;a-- >0;)o+="0"}return o}const Y7={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Sl},K7={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Sl(e)}},Z7={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new Sn(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:Sl},TE=e=>typeof e=="bigint"||Number.isInteger(e),wR=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function X7(e,t,n){const{value:r}=e;return TE(r)&&r>=0?n+r.toString(t):Sl(e)}const J7={identify:e=>TE(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>wR(e,2,8,n),stringify:e=>X7(e,8,"0o")},Q7={identify:TE,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>wR(e,0,10,n),stringify:Sl},eq={identify:e=>TE(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>wR(e,2,16,n),stringify:e=>X7(e,16,"0x")},Vbe=[Lg,Ng,EE,CE,_R,J7,Q7,eq,Y7,K7,Z7];function rB(e){return typeof e=="bigint"||Number.isInteger(e)}const u1=({value:e})=>JSON.stringify(e),Wbe=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:u1},{identify:e=>e==null,createNode:()=>new Sn(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:u1},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:u1},{identify:rB,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>rB(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:u1}],qbe={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},Gbe=[Lg,Ng].concat(Wbe,qbe),SR={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Buffer=="function")return Buffer.from(e,"base64");if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,i,o){const s=n;let a;if(typeof Buffer=="function")a=s instanceof Buffer?s.toString("base64"):Buffer.from(s.buffer).toString("base64");else if(typeof btoa=="function"){let f="";for(let h=0;h<s.length;++h)f+=String.fromCharCode(s[h]);a=btoa(f)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=Sn.BLOCK_LITERAL),t!==Sn.QUOTE_DOUBLE){const f=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),h=Math.ceil(a.length/f),g=new Array(h);for(let v=0,x=0;v<h;++v,x+=f)g[v]=a.substr(x,f);a=g.join(t===Sn.BLOCK_LITERAL?`
`:" ")}return ux({comment:e,type:t,value:a},r,i,o)}};function tq(e,t){if(Dg(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!Zr(r)){if(Rg(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const i=r.items[0]||new zo(new Sn(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){const o=i.value??i.key;o.comment=o.comment?`${r.comment}
${o.comment}`:r.comment}r=i}e.items[n]=Zr(r)?r:new zo(r)}}else t("Expected a sequence for this tag");return e}function nq(e,t,n){const{replacer:r}=n,i=new $d(e);i.tag="tag:yaml.org,2002:pairs";let o=0;if(t&&Symbol.iterator in Object(t))for(let s of t){typeof r=="function"&&(s=r.call(t,String(o++),s));let a,f;if(Array.isArray(s))if(s.length===2)a=s[0],f=s[1];else throw new TypeError(`Expected [key, value] tuple: ${s}`);else if(s&&s instanceof Object){const h=Object.keys(s);if(h.length===1)a=h[0],f=s[a];else throw new TypeError(`Expected tuple with one key, not ${h.length} keys`)}else a=s;i.items.push(xR(a,f,n))}return i}const ER={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:tq,createNode:nq};class Cm extends $d{constructor(){super(),this.add=Wa.prototype.add.bind(this),this.delete=Wa.prototype.delete.bind(this),this.get=Wa.prototype.get.bind(this),this.has=Wa.prototype.has.bind(this),this.set=Wa.prototype.set.bind(this),this.tag=Cm.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const i of this.items){let o,s;if(Zr(i)?(o=Ps(i.key,"",n),s=Ps(i.value,o,n)):o=Ps(i,"",n),r.has(o))throw new Error("Ordered maps must not include duplicate keys");r.set(o,s)}return r}static from(t,n,r){const i=nq(t,n,r),o=new this;return o.items=i.items,o}}Cm.tag="tag:yaml.org,2002:omap";const CR={collection:"seq",identify:e=>e instanceof Map,nodeClass:Cm,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=tq(e,t),r=[];for(const{key:i}of n.items)Dr(i)&&(r.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new Cm,n)},createNode:(e,t,n)=>Cm.from(e,t,n)};function rq({value:e,source:t},n){return t&&(e?iq:oq).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const iq={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Sn(!0),stringify:rq},oq={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new Sn(!1),stringify:rq},Hbe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Sl},Ybe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Sl(e)}},Kbe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new Sn(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:Sl},dx=e=>typeof e=="bigint"||Number.isInteger(e);function kE(e,t,n,{intAsBigInt:r}){const i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const s=BigInt(e);return i==="-"?BigInt(-1)*s:s}const o=parseInt(e,n);return i==="-"?-1*o:o}function TR(e,t,n){const{value:r}=e;if(dx(r)){const i=r.toString(t);return r<0?"-"+n+i.substr(1):n+i}return Sl(e)}const Zbe={identify:dx,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>kE(e,2,2,n),stringify:e=>TR(e,2,"0b")},Xbe={identify:dx,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>kE(e,1,8,n),stringify:e=>TR(e,8,"0")},Jbe={identify:dx,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>kE(e,0,10,n),stringify:Sl},Qbe={identify:dx,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>kE(e,2,16,n),stringify:e=>TR(e,16,"0x")};class Tm extends Wa{constructor(t){super(t),this.tag=Tm.tag}add(t){let n;Zr(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new zo(t.key,null):n=new zo(t,null),Bf(this.items,n.key)||this.items.push(n)}get(t,n){const r=Bf(this.items,t);return!n&&Zr(r)?Dr(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=Bf(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new zo(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(t,n,r){const{replacer:i}=r,o=new this(t);if(n&&Symbol.iterator in Object(n))for(let s of n)typeof i=="function"&&(s=i.call(n,s,s)),o.items.push(xR(s,null,r));return o}}Tm.tag="tag:yaml.org,2002:set";const kR={collection:"map",identify:e=>e instanceof Set,nodeClass:Tm,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>Tm.from(e,t,n),resolve(e,t){if(Rg(e)){if(e.hasAllNullValues(!0))return Object.assign(new Tm,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function PR(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,i=s=>t?BigInt(s):Number(s),o=r.replace(/_/g,"").split(":").reduce((s,a)=>s*i(60)+i(a),i(0));return n==="-"?i(-1)*o:o}function aq(e){let{value:t}=e,n=s=>s;if(typeof t=="bigint")n=s=>BigInt(s);else if(isNaN(t)||!isFinite(t))return Sl(e);let r="";t<0&&(r="-",t*=n(-1));const i=n(60),o=[t%i];return t<60?o.unshift(0):(t=(t-o[0])/i,o.unshift(t%i),t>=60&&(t=(t-o[0])/i,o.unshift(t))),r+o.map(s=>String(s).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const sq={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>PR(e,n),stringify:aq},lq={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>PR(e,!1),stringify:aq},PE={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(PE.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,i,o,s,a]=t.map(Number),f=t[7]?Number((t[7]+"00").substr(1,3)):0;let h=Date.UTC(n,r-1,i,o||0,s||0,a||0,f);const g=t[8];if(g&&g!=="Z"){let v=PR(g,!1);Math.abs(v)<30&&(v*=60),h-=6e4*v}return new Date(h)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},iB=[Lg,Ng,EE,CE,iq,oq,Zbe,Xbe,Jbe,Qbe,Hbe,Ybe,Kbe,SR,CR,ER,kR,sq,lq,PE],oB=new Map([["core",Vbe],["failsafe",[Lg,Ng,EE]],["json",Gbe],["yaml11",iB],["yaml-1.1",iB]]),aB={binary:SR,bool:_R,float:Z7,floatExp:K7,floatNaN:Y7,floatTime:lq,int:Q7,intHex:eq,intOct:J7,intTime:sq,map:Lg,null:CE,omap:CR,pairs:ER,seq:Ng,set:kR,timestamp:PE},exe={"tag:yaml.org,2002:binary":SR,"tag:yaml.org,2002:omap":CR,"tag:yaml.org,2002:pairs":ER,"tag:yaml.org,2002:set":kR,"tag:yaml.org,2002:timestamp":PE};function rP(e,t){let n=oB.get(t);if(!n)if(Array.isArray(e))n=[];else{const r=Array.from(oB.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${r} or define customTags array`)}if(Array.isArray(e))for(const r of e)n=n.concat(r);else typeof e=="function"&&(n=e(n.slice()));return n.map(r=>{if(typeof r!="string")return r;const i=aB[r];if(i)return i;const o=Object.keys(aB).map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown custom tag "${r}"; use one of ${o}`)})}const txe=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class OE{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:i,schema:o,sortMapEntries:s,toStringDefaults:a}){this.compat=Array.isArray(t)?rP(t,"compat"):t?rP(null,t):null,this.merge=!!r,this.name=typeof o=="string"&&o||"core",this.knownTags=i?exe:{},this.tags=rP(n,this.name),this.toStringOptions=a??null,Object.defineProperty(this,_d,{value:Lg}),Object.defineProperty(this,iu,{value:EE}),Object.defineProperty(this,Ig,{value:Ng}),this.sortMapEntries=typeof s=="function"?s:s===!0?txe:null}clone(){const t=Object.create(OE.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function nxe(e,t){var f;const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const h=e.directives.toString(e);h?(n.push(h),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const i=W7(e,t),{commentString:o}=i.options;if(e.commentBefore){n.length!==1&&n.unshift("");const h=o(e.commentBefore);n.unshift(Bc(h,""))}let s=!1,a=null;if(e.contents){if(Ci(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const v=o(e.contents.commentBefore);n.push(Bc(v,""))}i.forceBlockIndent=!!e.comment,a=e.contents.comment}const h=a?void 0:()=>s=!0;let g=eg(e.contents,i,()=>a=null,h);a&&(g+=ad(g,"",o(a))),(g[0]==="|"||g[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${g}`:n.push(g)}else n.push(eg(e.contents,i));if((f=e.directives)!=null&&f.docEnd)if(e.comment){const h=o(e.comment);h.includes(`
`)?(n.push("..."),n.push(Bc(h,""))):n.push(`... ${h}`)}else n.push("...");else{let h=e.comment;h&&s&&(h=h.replace(/^\n+/,"")),h&&((!s||a)&&n[n.length-1]!==""&&n.push(""),n.push(Bc(o(h),"")))}return n.join(`
`)+`
`}class zg{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Ns,{value:AA});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);const o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},r);this.options=o;let{version:s}=o;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new sa({version:s}),this.setSchema(s,r),this.contents=t===void 0?null:this.createNode(t,i,r)}clone(){const t=Object.create(zg.prototype,{[Ns]:{value:AA}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=Ci(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){Mp(this.contents)&&this.contents.add(t)}addIn(t,n){Mp(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=B7(this);t.anchor=!n||r.has(n)?F7(n||"a",r):n}return new bE(t.anchor)}createNode(t,n,r){let i;if(typeof n=="function")t=n.call({"":t},"",t),i=n;else if(Array.isArray(n)){const M=A=>typeof A=="number"||A instanceof String||A instanceof Number,I=n.filter(M).map(String);I.length>0&&(n=n.concat(I)),i=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:o,anchorPrefix:s,flow:a,keepUndefined:f,onTagObj:h,tag:g}=r??{},{onAnchor:v,setAnchors:x,sourceObjects:k}=Abe(this,s||"a"),O={aliasDuplicateObjects:o??!0,keepUndefined:f??!1,onAnchor:v,onTagObj:h,replacer:i,schema:this.schema,sourceObjects:k},C=ab(t,g,O);return a&&ii(C)&&(C.flow=!0),x(),C}createPair(t,n,r={}){const i=this.createNode(t,null,r),o=this.createNode(n,null,r);return new zo(i,o)}delete(t){return Mp(this.contents)?this.contents.delete(t):!1}deleteIn(t){return e0(t)?this.contents==null?!1:(this.contents=null,!0):Mp(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return ii(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return e0(t)?!n&&Dr(this.contents)?this.contents.value:this.contents:ii(this.contents)?this.contents.getIn(t,n):void 0}has(t){return ii(this.contents)?this.contents.has(t):!1}hasIn(t){return e0(t)?this.contents!==void 0:ii(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=Kw(this.schema,[t],n):Mp(this.contents)&&this.contents.set(t,n)}setIn(t,n){e0(t)?this.contents=n:this.contents==null?this.contents=Kw(this.schema,Array.from(t),n):Mp(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new sa({version:"1.1"}),r={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new sa({version:t}),r={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new OE(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:o,reviver:s}={}){const a={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},f=Ps(this.contents,n??"",a);if(typeof o=="function")for(const{count:h,res:g}of a.anchors.values())o(g,h);return typeof s=="function"?am(s,{"":f},"",f):f}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return nxe(this,t)}}function Mp(e){if(ii(e))return!0;throw new Error("Expected a YAML collection as document contents")}class OR extends Error{constructor(t,n,r,i){super(),this.name=t,this.code=r,this.message=i,this.pos=n}}class Ff extends OR{constructor(t,n,r){super("YAMLParseError",t,n,r)}}class cq extends OR{constructor(t,n,r){super("YAMLWarning",t,n,r)}}const Xw=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>t.linePos(a));const{line:r,col:i}=n.linePos[0];n.message+=` at line ${r}, column ${i}`;let o=i-1,s=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(o>=60&&s.length>80){const a=Math.min(o-39,s.length-79);s=""+s.substring(a),o-=a-1}if(s.length>80&&(s=s.substring(0,79)+""),r>1&&/^ *$/.test(s.substring(0,o))){let a=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);a.length>80&&(a=a.substring(0,79)+`
`),s=a+s}if(/[^ ]/.test(s)){let a=1;const f=n.linePos[1];f&&f.line===r&&f.col>i&&(a=Math.max(1,Math.min(f.col-i,80-o)));const h=" ".repeat(o)+"^".repeat(a);n.message+=`:

${s}
${h}
`}};function tg(e,{flow:t,indicator:n,next:r,offset:i,onError:o,startOnNewline:s}){let a=!1,f=s,h=s,g="",v="",x=!1,k=!1,O=!1,C=null,M=null,I=null,A=null,P=null;for(const N of e)switch(O&&(N.type!=="space"&&N.type!=="newline"&&N.type!=="comma"&&o(N.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),O=!1),N.type){case"space":!t&&f&&n!=="doc-start"&&N.source[0]==="	"&&o(N,"TAB_AS_INDENT","Tabs are not allowed as indentation"),h=!0;break;case"comment":{h||o(N,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const F=N.source.substring(1)||" ";g?g+=v+F:g=F,v="",f=!1;break}case"newline":f?g?g+=N.source:a=!0:v+=N.source,f=!0,x=!0,(C||M)&&(k=!0),h=!0;break;case"anchor":C&&o(N,"MULTIPLE_ANCHORS","A node can have at most one anchor"),N.source.endsWith(":")&&o(N.offset+N.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),C=N,P===null&&(P=N.offset),f=!1,h=!1,O=!0;break;case"tag":{M&&o(N,"MULTIPLE_TAGS","A node can have at most one tag"),M=N,P===null&&(P=N.offset),f=!1,h=!1,O=!0;break}case n:(C||M)&&o(N,"BAD_PROP_ORDER",`Anchors and tags must be after the ${N.source} indicator`),A&&o(N,"UNEXPECTED_TOKEN",`Unexpected ${N.source} in ${t??"collection"}`),A=N,f=!1,h=!1;break;case"comma":if(t){I&&o(N,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),I=N,f=!1,h=!1;break}default:o(N,"UNEXPECTED_TOKEN",`Unexpected ${N.type} token`),f=!1,h=!1}const $=e[e.length-1],z=$?$.offset+$.source.length:i;return O&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&o(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:I,found:A,spaceBefore:a,comment:g,hasNewline:x,hasNewlineAfterProp:k,anchor:C,tag:M,end:z,start:P??z}}function sb(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const n of t.start)if(n.type==="newline")return!0;if(t.sep){for(const n of t.sep)if(n.type==="newline")return!0}if(sb(t.key)||sb(t.value))return!0}return!1;default:return!0}}function RA(e,t,n){if((t==null?void 0:t.type)==="flow-collection"){const r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&sb(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function uq(e,t,n){const{uniqueKeys:r}=e.options;if(r===!1)return!1;const i=typeof r=="function"?r:(o,s)=>o===s||Dr(o)&&Dr(s)&&o.value===s.value&&!(o.value==="<<"&&e.schema.merge);return t.some(o=>i(o.key,n))}const sB="All mapping items must start at the same column";function rxe({composeNode:e,composeEmptyNode:t},n,r,i,o){var g;const s=(o==null?void 0:o.nodeClass)??Wa,a=new s(n.schema);n.atRoot&&(n.atRoot=!1);let f=r.offset,h=null;for(const v of r.items){const{start:x,key:k,sep:O,value:C}=v,M=tg(x,{indicator:"explicit-key-ind",next:k??(O==null?void 0:O[0]),offset:f,onError:i,startOnNewline:!0}),I=!M.found;if(I){if(k&&(k.type==="block-seq"?i(f,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in k&&k.indent!==r.indent&&i(f,"BAD_INDENT",sB)),!M.anchor&&!M.tag&&!O){h=M.end,M.comment&&(a.comment?a.comment+=`
`+M.comment:a.comment=M.comment);continue}(M.hasNewlineAfterProp||sb(k))&&i(k??x[x.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((g=M.found)==null?void 0:g.indent)!==r.indent&&i(f,"BAD_INDENT",sB);const A=M.end,P=k?e(n,k,M,i):t(n,A,x,null,M,i);n.schema.compat&&RA(r.indent,k,i),uq(n,a.items,P)&&i(A,"DUPLICATE_KEY","Map keys must be unique");const $=tg(O??[],{indicator:"map-value-ind",next:C,offset:P.range[2],onError:i,startOnNewline:!k||k.type==="block-scalar"});if(f=$.end,$.found){I&&((C==null?void 0:C.type)==="block-map"&&!$.hasNewline&&i(f,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&M.start<$.found.offset-1024&&i(P.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const z=C?e(n,C,$,i):t(n,f,O,null,$,i);n.schema.compat&&RA(r.indent,C,i),f=z.range[2];const N=new zo(P,z);n.options.keepSourceTokens&&(N.srcToken=v),a.items.push(N)}else{I&&i(P.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),$.comment&&(P.comment?P.comment+=`
`+$.comment:P.comment=$.comment);const z=new zo(P);n.options.keepSourceTokens&&(z.srcToken=v),a.items.push(z)}}return h&&h<f&&i(h,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,f,h??f],a}function ixe({composeNode:e,composeEmptyNode:t},n,r,i,o){const s=(o==null?void 0:o.nodeClass)??$d,a=new s(n.schema);n.atRoot&&(n.atRoot=!1);let f=r.offset,h=null;for(const{start:g,value:v}of r.items){const x=tg(g,{indicator:"seq-item-ind",next:v,offset:f,onError:i,startOnNewline:!0});if(!x.found)if(x.anchor||x.tag||v)v&&v.type==="block-seq"?i(x.end,"BAD_INDENT","All sequence items must start at the same column"):i(f,"MISSING_CHAR","Sequence item without - indicator");else{h=x.end,x.comment&&(a.comment=x.comment);continue}const k=v?e(n,v,x,i):t(n,x.end,g,null,x,i);n.schema.compat&&RA(r.indent,v,i),f=k.range[2],a.items.push(k)}return a.range=[r.offset,f,h??f],a}function fx(e,t,n,r){let i="";if(e){let o=!1,s="";for(const a of e){const{source:f,type:h}=a;switch(h){case"space":o=!0;break;case"comment":{n&&!o&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const g=f.substring(1)||" ";i?i+=s+g:i=g,s="";break}case"newline":i&&(s+=f),o=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${h} at node end`)}t+=f.length}}return{comment:i,offset:t}}const iP="Block collections are not allowed within flow collections",oP=e=>e&&(e.type==="block-map"||e.type==="block-seq");function oxe({composeNode:e,composeEmptyNode:t},n,r,i,o){const s=r.start.source==="{",a=s?"flow map":"flow sequence",f=(o==null?void 0:o.nodeClass)??(s?Wa:$d),h=new f(n.schema);h.flow=!0;const g=n.atRoot;g&&(n.atRoot=!1);let v=r.offset+r.start.source.length;for(let M=0;M<r.items.length;++M){const I=r.items[M],{start:A,key:P,sep:$,value:z}=I,N=tg(A,{flow:a,indicator:"explicit-key-ind",next:P??($==null?void 0:$[0]),offset:v,onError:i,startOnNewline:!1});if(!N.found){if(!N.anchor&&!N.tag&&!$&&!z){M===0&&N.comma?i(N.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):M<r.items.length-1&&i(N.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),N.comment&&(h.comment?h.comment+=`
`+N.comment:h.comment=N.comment),v=N.end;continue}!s&&n.options.strict&&sb(P)&&i(P,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(M===0)N.comma&&i(N.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(N.comma||i(N.start,"MISSING_CHAR",`Missing , between ${a} items`),N.comment){let F="";e:for(const G of A)switch(G.type){case"comma":case"space":break;case"comment":F=G.source.substring(1);break e;default:break e}if(F){let G=h.items[h.items.length-1];Zr(G)&&(G=G.value??G.key),G.comment?G.comment+=`
`+F:G.comment=F,N.comment=N.comment.substring(F.length+1)}}if(!s&&!$&&!N.found){const F=z?e(n,z,N,i):t(n,N.end,$,null,N,i);h.items.push(F),v=F.range[2],oP(z)&&i(F.range,"BLOCK_IN_FLOW",iP)}else{const F=N.end,G=P?e(n,P,N,i):t(n,F,A,null,N,i);oP(P)&&i(G.range,"BLOCK_IN_FLOW",iP);const J=tg($??[],{flow:a,indicator:"map-value-ind",next:z,offset:G.range[2],onError:i,startOnNewline:!1});if(J.found){if(!s&&!N.found&&n.options.strict){if($)for(const pe of $){if(pe===J.found)break;if(pe.type==="newline"){i(pe,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}N.start<J.found.offset-1024&&i(J.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else z&&("source"in z&&z.source&&z.source[0]===":"?i(z,"MISSING_CHAR",`Missing space after : in ${a}`):i(J.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const ee=z?e(n,z,J,i):J.found?t(n,J.end,$,null,J,i):null;ee?oP(z)&&i(ee.range,"BLOCK_IN_FLOW",iP):J.comment&&(G.comment?G.comment+=`
`+J.comment:G.comment=J.comment);const ae=new zo(G,ee);if(n.options.keepSourceTokens&&(ae.srcToken=I),s){const pe=h;uq(n,pe.items,G)&&i(F,"DUPLICATE_KEY","Map keys must be unique"),pe.items.push(ae)}else{const pe=new Wa(n.schema);pe.flow=!0,pe.items.push(ae),h.items.push(pe)}v=ee?ee.range[2]:J.end}}const x=s?"}":"]",[k,...O]=r.end;let C=v;if(k&&k.source===x)C=k.offset+k.source.length;else{const M=a[0].toUpperCase()+a.substring(1),I=g?`${M} must end with a ${x}`:`${M} in block collection must be sufficiently indented and end with a ${x}`;i(v,g?"MISSING_CHAR":"BAD_INDENT",I),k&&k.source.length!==1&&O.unshift(k)}if(O.length>0){const M=fx(O,C,n.options.strict,i);M.comment&&(h.comment?h.comment+=`
`+M.comment:h.comment=M.comment),h.range=[r.offset,C,M.offset]}else h.range=[r.offset,C,C];return h}function aP(e,t,n,r,i,o){const s=n.type==="block-map"?rxe(e,t,n,r,o):n.type==="block-seq"?ixe(e,t,n,r,o):oxe(e,t,n,r,o),a=s.constructor;return i==="!"||i===a.tagName?(s.tag=a.tagName,s):(i&&(s.tag=i),s)}function axe(e,t,n,r,i){var v;const o=r?t.directives.tagName(r.source,x=>i(r,"TAG_RESOLVE_FAILED",x)):null,s=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!r||!o||o==="!"||o===Wa.tagName&&s==="map"||o===$d.tagName&&s==="seq"||!s)return aP(e,t,n,i,o);let a=t.schema.tags.find(x=>x.tag===o&&x.collection===s);if(!a){const x=t.schema.knownTags[o];if(x&&x.collection===s)t.schema.tags.push(Object.assign({},x,{default:!1})),a=x;else return x!=null&&x.collection?i(r,"BAD_COLLECTION_TYPE",`${x.tag} used for ${s} collection, but expects ${x.collection}`,!0):i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),aP(e,t,n,i,o)}const f=aP(e,t,n,i,o,a),h=((v=a.resolve)==null?void 0:v.call(a,f,x=>i(r,"TAG_RESOLVE_FAILED",x),t.options))??f,g=Ci(h)?h:new Sn(h);return g.range=f.range,g.tag=o,a!=null&&a.format&&(g.format=a.format),g}function dq(e,t,n){const r=e.offset,i=sxe(e,t,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};const o=i.mode===">"?Sn.BLOCK_FOLDED:Sn.BLOCK_LITERAL,s=e.source?lxe(e.source):[];let a=s.length;for(let C=s.length-1;C>=0;--C){const M=s[C][1];if(M===""||M==="\r")a=C;else break}if(a===0){const C=i.chomp==="+"&&s.length>0?`
`.repeat(Math.max(1,s.length-1)):"";let M=r+i.length;return e.source&&(M+=e.source.length),{value:C,type:o,comment:i.comment,range:[r,M,M]}}let f=e.indent+i.indent,h=e.offset+i.length,g=0;for(let C=0;C<a;++C){const[M,I]=s[C];if(I===""||I==="\r")i.indent===0&&M.length>f&&(f=M.length);else{if(M.length<f){const A="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(h+M.length,"MISSING_CHAR",A)}i.indent===0&&(f=M.length),g=C;break}h+=M.length+I.length+1}for(let C=s.length-1;C>=a;--C)s[C][0].length>f&&(a=C+1);let v="",x="",k=!1;for(let C=0;C<g;++C)v+=s[C][0].slice(f)+`
`;for(let C=g;C<a;++C){let[M,I]=s[C];h+=M.length+I.length+1;const A=I[I.length-1]==="\r";if(A&&(I=I.slice(0,-1)),I&&M.length<f){const $=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(h-I.length-(A?2:1),"BAD_INDENT",$),M=""}o===Sn.BLOCK_LITERAL?(v+=x+M.slice(f)+I,x=`
`):M.length>f||I[0]==="	"?(x===" "?x=`
`:!k&&x===`
`&&(x=`

`),v+=x+M.slice(f)+I,x=`
`,k=!0):I===""?x===`
`?v+=`
`:x=`
`:(v+=x+I,x=" ",k=!1)}switch(i.chomp){case"-":break;case"+":for(let C=a;C<s.length;++C)v+=`
`+s[C][0].slice(f);v[v.length-1]!==`
`&&(v+=`
`);break;default:v+=`
`}const O=r+i.length+e.source.length;return{value:v,type:o,comment:i.comment,range:[r,O,O]}}function sxe({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=t[0],o=i[0];let s=0,a="",f=-1;for(let x=1;x<i.length;++x){const k=i[x];if(!a&&(k==="-"||k==="+"))a=k;else{const O=Number(k);!s&&O?s=O:f===-1&&(f=e+x)}}f!==-1&&r(f,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let h=!1,g="",v=i.length;for(let x=1;x<t.length;++x){const k=t[x];switch(k.type){case"space":h=!0;case"newline":v+=k.source.length;break;case"comment":n&&!h&&r(k,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),v+=k.source.length,g=k.source.substring(1);break;case"error":r(k,"UNEXPECTED_TOKEN",k.message),v+=k.source.length;break;default:{const O=`Unexpected token in block scalar header: ${k.type}`;r(k,"UNEXPECTED_TOKEN",O);const C=k.source;C&&typeof C=="string"&&(v+=C.length)}}}return{mode:o,indent:s,chomp:a,comment:g,length:v}}function lxe(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),o=[r!=null&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let s=1;s<t.length;s+=2)o.push([t[s],t[s+1]]);return o}function fq(e,t,n){const{offset:r,type:i,source:o,end:s}=e;let a,f;const h=(x,k,O)=>n(r+x,k,O);switch(i){case"scalar":a=Sn.PLAIN,f=cxe(o,h);break;case"single-quoted-scalar":a=Sn.QUOTE_SINGLE,f=uxe(o,h);break;case"double-quoted-scalar":a=Sn.QUOTE_DOUBLE,f=dxe(o,h);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+o.length,r+o.length]}}const g=r+o.length,v=fx(s,g,t,n);return{value:f,type:a,comment:v.comment,range:[r,g,v.offset]}}function cxe(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),hq(e)}function uxe(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),hq(e.slice(1,-1)).replace(/''/g,"'")}function hq(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let i=r[1],o=" ",s=t.lastIndex;for(n.lastIndex=s;r=n.exec(e);)r[1]===""?o===`
`?i+=o:o=`
`:(i+=o+r[1],o=" "),s=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=s,r=a.exec(e),i+o+((r==null?void 0:r[1])??"")}function dxe(e,t){let n="";for(let r=1;r<e.length-1;++r){const i=e[r];if(!(i==="\r"&&e[r+1]===`
`))if(i===`
`){const{fold:o,offset:s}=fxe(e,r);n+=o,r=s}else if(i==="\\"){let o=e[++r];const s=hxe[o];if(s)n+=s;else if(o===`
`)for(o=e[r+1];o===" "||o==="	";)o=e[++r+1];else if(o==="\r"&&e[r+1]===`
`)for(o=e[++r+1];o===" "||o==="	";)o=e[++r+1];else if(o==="x"||o==="u"||o==="U"){const a={x:2,u:4,U:8}[o];n+=pxe(e,r+1,a,t),r+=a}else{const a=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(i===" "||i==="	"){const o=r;let s=e[r+1];for(;s===" "||s==="	";)s=e[++r+1];s!==`
`&&!(s==="\r"&&e[r+2]===`
`)&&(n+=r>o?e.slice(o,r+1):i)}else n+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function fxe(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}const hxe={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function pxe(e,t,n,r){const i=e.substr(t,n),s=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(s)){const a=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(s)}function pq(e,t,n,r){const{value:i,type:o,comment:s,range:a}=t.type==="block-scalar"?dq(t,e.options.strict,r):fq(t,e.options.strict,r),f=n?e.directives.tagName(n.source,v=>r(n,"TAG_RESOLVE_FAILED",v)):null,h=n&&f?mxe(e.schema,i,f,n,r):t.type==="scalar"?gxe(e,i,t,r):e.schema[iu];let g;try{const v=h.resolve(i,x=>r(n??t,"TAG_RESOLVE_FAILED",x),e.options);g=Dr(v)?v:new Sn(v)}catch(v){const x=v instanceof Error?v.message:String(v);r(n??t,"TAG_RESOLVE_FAILED",x),g=new Sn(i)}return g.range=a,g.source=i,o&&(g.type=o),f&&(g.tag=f),h.format&&(g.format=h.format),s&&(g.comment=s),g}function mxe(e,t,n,r,i){var a;if(n==="!")return e[iu];const o=[];for(const f of e.tags)if(!f.collection&&f.tag===n)if(f.default&&f.test)o.push(f);else return f;for(const f of o)if((a=f.test)!=null&&a.test(t))return f;const s=e.knownTags[n];return s&&!s.collection?(e.tags.push(Object.assign({},s,{default:!1,test:void 0})),s):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[iu])}function gxe({directives:e,schema:t},n,r,i){const o=t.tags.find(s=>{var a;return s.default&&((a=s.test)==null?void 0:a.test(n))})||t[iu];if(t.compat){const s=t.compat.find(a=>{var f;return a.default&&((f=a.test)==null?void 0:f.test(n))})??t[iu];if(o.tag!==s.tag){const a=e.tagString(o.tag),f=e.tagString(s.tag),h=`Value may be parsed as either ${a} or ${f}`;i(r,"TAG_RESOLVE_FAILED",h,!0)}}return o}function yxe(e,t,n){if(t){n===null&&(n=t.length);for(let r=n-1;r>=0;--r){let i=t[r];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++r];(i==null?void 0:i.type)==="space";)e+=i.source.length,i=t[++r];break}}return e}const vxe={composeNode:mq,composeEmptyNode:AR};function mq(e,t,n,r){const{spaceBefore:i,comment:o,anchor:s,tag:a}=n;let f,h=!0;switch(t.type){case"alias":f=bxe(e,t,r),(s||a)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":f=pq(e,t,a,r),s&&(f.anchor=s.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":f=axe(vxe,e,t,a,r),s&&(f.anchor=s.source.substring(1));break;default:{const g=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",g),f=AR(e,t.offset,void 0,null,n,r),h=!1}}return s&&f.anchor===""&&r(s,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(f.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?f.comment=o:f.commentBefore=o),e.options.keepSourceTokens&&h&&(f.srcToken=t),f}function AR(e,t,n,r,{spaceBefore:i,comment:o,anchor:s,tag:a,end:f},h){const g={type:"scalar",offset:yxe(t,n,r),indent:-1,source:""},v=pq(e,g,a,h);return s&&(v.anchor=s.source.substring(1),v.anchor===""&&h(s,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(v.spaceBefore=!0),o&&(v.comment=o,v.range[2]=f),v}function bxe({options:e},{offset:t,source:n,end:r},i){const o=new bE(n.substring(1));o.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),o.source.endsWith(":")&&i(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const s=t+n.length,a=fx(r,s,e.strict,i);return o.range=[t,s,a.offset],a.comment&&(o.comment=a.comment),o}function xxe(e,t,{offset:n,start:r,value:i,end:o},s){const a=Object.assign({_directives:t},e),f=new zg(void 0,a),h={atRoot:!0,directives:f.directives,options:f.options,schema:f.schema},g=tg(r,{indicator:"doc-start",next:i??(o==null?void 0:o[0]),offset:n,onError:s,startOnNewline:!0});g.found&&(f.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!g.hasNewline&&s(g.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),f.contents=i?mq(h,i,g,s):AR(h,g.end,r,null,g,s);const v=f.contents.range[2],x=fx(o,v,!1,s);return x.comment&&(f.comment=x.comment),f.range=[n,v,x.offset],f}function Pv(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function lB(e){var i;let t="",n=!1,r=!1;for(let o=0;o<e.length;++o){const s=e[o];switch(s[0]){case"#":t+=(t===""?"":r?`

`:`
`)+(s.substring(1)||" "),n=!0,r=!1;break;case"%":((i=e[o+1])==null?void 0:i[0])!=="#"&&(o+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class MR{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,i,o)=>{const s=Pv(n);o?this.warnings.push(new cq(s,r,i)):this.errors.push(new Ff(s,r,i))},this.directives=new sa({version:t.version||"1.2"}),this.options=t}decorate(t,n){const{comment:r,afterEmptyLine:i}=lB(this.prelude);if(r){const o=t.contents;if(n)t.comment=t.comment?`${t.comment}
${r}`:r;else if(i||t.directives.docStart||!o)t.commentBefore=r;else if(ii(o)&&!o.flow&&o.items.length>0){let s=o.items[0];Zr(s)&&(s=s.key);const a=s.commentBefore;s.commentBefore=a?`${r}
${a}`:r}else{const s=o.commentBefore;o.commentBefore=s?`${r}
${s}`:r}}n?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:lB(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,n=!1,r=-1){for(const i of t)yield*this.next(i);yield*this.end(n,r)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(n,r,i)=>{const o=Pv(t);o[0]+=n,this.onError(o,"BAD_DIRECTIVE",r,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const n=xxe(this.options,this.directives,t,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const n=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,r=new Ff(Pv(t),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new Ff(Pv(t),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=fx(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Ff(Pv(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const r=Object.assign({_directives:this.directives},this.options),i=new zg(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}function _xe(e,t=!0,n){if(e){const r=(i,o,s)=>{const a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(n)n(a,o,s);else throw new Ff([a,a+1],o,s)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return fq(e,t,r);case"block-scalar":return dq(e,t,r)}}return null}function wxe(e,t){const{implicitKey:n=!1,indent:r,inFlow:i=!1,offset:o=-1,type:s="PLAIN"}=t,a=ux({type:s,value:e},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),f=t.end??[{type:"newline",offset:-1,indent:r,source:`
`}];switch(a[0]){case"|":case">":{const h=a.indexOf(`
`),g=a.substring(0,h),v=a.substring(h+1)+`
`,x=[{type:"block-scalar-header",offset:o,indent:r,source:g}];return gq(x,f)||x.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:o,indent:r,props:x,source:v}}case'"':return{type:"double-quoted-scalar",offset:o,indent:r,source:a,end:f};case"'":return{type:"single-quoted-scalar",offset:o,indent:r,source:a,end:f};default:return{type:"scalar",offset:o,indent:r,source:a,end:f}}}function Sxe(e,t,n={}){let{afterKey:r=!1,implicitKey:i=!1,inFlow:o=!1,type:s}=n,a="indent"in e?e.indent:null;if(r&&typeof a=="number"&&(a+=2),!s)switch(e.type){case"single-quoted-scalar":s="QUOTE_SINGLE";break;case"double-quoted-scalar":s="QUOTE_DOUBLE";break;case"block-scalar":{const h=e.props[0];if(h.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s=h.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:s="PLAIN"}const f=ux({type:s,value:t},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}});switch(f[0]){case"|":case">":Exe(e,f);break;case'"':sP(e,f,"double-quoted-scalar");break;case"'":sP(e,f,"single-quoted-scalar");break;default:sP(e,f,"scalar")}}function Exe(e,t){const n=t.indexOf(`
`),r=t.substring(0,n),i=t.substring(n+1)+`
`;if(e.type==="block-scalar"){const o=e.props[0];if(o.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o.source=r,e.source=i}else{const{offset:o}=e,s="indent"in e?e.indent:-1,a=[{type:"block-scalar-header",offset:o,indent:s,source:r}];gq(a,"end"in e?e.end:void 0)||a.push({type:"newline",offset:-1,indent:s,source:`
`});for(const f of Object.keys(e))f!=="type"&&f!=="offset"&&delete e[f];Object.assign(e,{type:"block-scalar",indent:s,props:a,source:i})}}function gq(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function sP(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{const r=e.props.slice(1);let i=t.length;e.props[0].type==="block-scalar-header"&&(i-=e.props[0].source.length);for(const o of r)o.offset+=i;delete e.props,Object.assign(e,{type:n,source:t,end:r});break}case"block-map":case"block-seq":{const i={type:"newline",offset:e.offset+t.length,indent:e.indent,source:`
`};delete e.items,Object.assign(e,{type:n,source:t,end:[i]});break}default:{const r="indent"in e?e.indent:-1,i="end"in e&&Array.isArray(e.end)?e.end.filter(o=>o.type==="space"||o.type==="comment"||o.type==="newline"):[];for(const o of Object.keys(e))o!=="type"&&o!=="offset"&&delete e[o];Object.assign(e,{type:n,indent:r,source:t,end:i})}}}const Cxe=e=>"type"in e?Jw(e):Y1(e);function Jw(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=Jw(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=Y1(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=Y1(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=Y1(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function Y1({start:e,key:t,sep:n,value:r}){let i="";for(const o of e)i+=o.source;if(t&&(i+=Jw(t)),n)for(const o of n)i+=o.source;return r&&(i+=Jw(r)),i}const DA=Symbol("break visit"),Txe=Symbol("skip children"),yq=Symbol("remove item");function bh(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),vq(Object.freeze([]),e,t)}bh.BREAK=DA;bh.SKIP=Txe;bh.REMOVE=yq;bh.itemAtPath=(e,t)=>{let n=e;for(const[r,i]of t){const o=n==null?void 0:n[r];if(o&&"items"in o)n=o.items[i];else return}return n};bh.parentCollection=(e,t)=>{const n=bh.itemAtPath(e,t.slice(0,-1)),r=t[t.length-1][0],i=n==null?void 0:n[r];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function vq(e,t,n){let r=n(t,e);if(typeof r=="symbol")return r;for(const i of["key","value"]){const o=t[i];if(o&&"items"in o){for(let s=0;s<o.items.length;++s){const a=vq(Object.freeze(e.concat([[i,s]])),o.items[s],n);if(typeof a=="number")s=a-1;else{if(a===DA)return DA;a===yq&&(o.items.splice(s,1),s-=1)}}typeof r=="function"&&i==="key"&&(r=r(t,e))}}return typeof r=="function"?r(t,e):r}const AE="\uFEFF",ME="",IE="",lb="",kxe=e=>!!e&&"items"in e,Pxe=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function Oxe(e){switch(e){case AE:return"<BOM>";case ME:return"<DOC>";case IE:return"<FLOW_END>";case lb:return"<SCALAR>";default:return JSON.stringify(e)}}function bq(e){switch(e){case AE:return"byte-order-mark";case ME:return"doc-mode";case IE:return"flow-error-end";case lb:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const Axe=Object.freeze(Object.defineProperty({__proto__:null,BOM:AE,DOCUMENT:ME,FLOW_END:IE,SCALAR:lb,createScalarToken:wxe,isCollection:kxe,isScalar:Pxe,prettyToken:Oxe,resolveAsScalar:_xe,setScalarValue:Sxe,stringify:Cxe,tokenType:bq,visit:bh},Symbol.toStringTag,{value:"Module"}));function ms(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const cB="0123456789ABCDEFabcdef".split(""),Mxe="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),lP=",[]{}".split(""),Ixe=` ,[]{}
\r	`.split(""),cP=e=>!e||Ixe.includes(e);class xq{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,n=!1){t&&(this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null),this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let t=this.pos,n=this.buffer[t];for(;n===" "||n==="	";)n=this.buffer[++t];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let n=this.buffer[t];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+t];if(n==="\r"){const i=this.buffer[r+t+1];if(i===`
`||!i&&!this.atEnd)return t+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?t+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(t,3);if((r==="---"||r==="...")&&ms(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===AE&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let n=t.length;const r=t.indexOf("#");if(r!==-1){const o=t[r-1];(o===" "||o==="	")&&(n=r-1)}for(;;){const o=t[n-1];if(o===" "||o==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"}return yield ME,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if(n==="---"&&ms(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(n==="..."&&ms(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!ms(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&ms(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(t[n]){case"#":yield*this.pushCount(t.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(cP),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,n,r=-1;do t=yield*this.pushNewline(),t>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(t+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&i[0]!=="#"||r===0&&(i.startsWith("---")||i.startsWith("..."))&&ms(i[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield IE,yield*this.parseLineStart();let o=0;for(;i[o]===",";)o+=yield*this.pushCount(1),o+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(o+=yield*this.pushIndicators(),i[o]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(cP),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const s=this.charAt(1);if(this.flowKey||ms(s)||s===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let n=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let o=0;for(;this.buffer[n-1-o]==="\\";)o+=1;if(o%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let i=r.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const o=this.continueScalar(i+1);if(o===-1)break;i=r.indexOf(`
`,o)}i!==-1&&(n=i-(r[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const n=this.buffer[++t];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>ms(n)||n==="#")}*parseBlockScalar(){let t=this.pos-1,n=0,r;e:for(let i=this.pos;r=this.buffer[i];++i)switch(r){case" ":n+=1;break;case`
`:t=i,n=0;break;case"\r":{const o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{const i=this.continueScalar(t+1);if(i===-1)break;t=this.buffer.indexOf(`
`,i)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)do{let i=t-1,o=this.buffer[i];o==="\r"&&(o=this.buffer[--i]);const s=i;for(;o===" "||o==="	";)o=this.buffer[--i];if(o===`
`&&i>=this.pos&&i+1+n>s)t=i;else break}while(!0);return yield lb,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){const o=this.buffer[r+1];if(ms(o)||t&&o===",")break;n=r}else if(ms(i)){let o=this.buffer[r+1];if(i==="\r"&&(o===`
`?(r+=1,i=`
`,o=this.buffer[r+1]):n=r),o==="#"||t&&lP.includes(o))break;if(i===`
`){const s=this.continueScalar(r+1);if(s===-1)break;r=Math.max(r,s-2)}}else{if(t&&lP.includes(i))break;n=r}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield lb,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(cP))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if(ms(n)||t&&lP.includes(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!ms(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(Mxe.includes(n))n=this.buffer[++t];else if(n==="%"&&cB.includes(this.buffer[t+1])&&cB.includes(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class _q{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const o=n+r>>1;this.lineStarts[o]<t?n=o+1:r=o}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const i=this.lineStarts[n-1];return{line:n,col:t-i+1}}}}function nl(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function uB(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function wq(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function d1(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Ip(e){var n;if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=e[++t])==null?void 0:n.type)==="space";);return e.splice(t,e.length)}function dB(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!nl(t.start,"explicit-key-ind")&&!nl(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,wq(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class IR{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new xq,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=bq(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(n)if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&dB(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!nl(i.start,"explicit-key-ind");return}break}case"block-seq":{const i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&uB(i.start)===-1&&(n.indent===0||i.start.every(o=>o.type!=="comment"||o.indent<n.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),n.items.splice(-1,1))}}else{const r="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:r}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{uB(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=d1(this.peek(2)),r=Ip(n);let i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];const o={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const i="end"in n.value?n.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2],o=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const i=!this.onKeyLine&&this.indent===t.indent&&n.sep;let o=[];if(i&&n.sep&&!n.value){const s=[];for(let a=0;a<n.sep.length;++a){const f=n.sep[a];switch(f.type){case"newline":s.push(a);break;case"space":break;case"comment":f.indent>t.indent&&(s.length=0);break;default:s.length=0}}s.length>=2&&(o=n.sep.splice(s[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(o.push(this.sourceToken),t.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!nl(n.start,"explicit-key-ind")?n.start.push(this.sourceToken):i||n.value?(o.push(this.sourceToken),t.items.push({start:o})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(nl(n.start,"explicit-key-ind"))if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(nl(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(wq(n.key)&&!nl(n.sep,"newline")){const s=Ip(n.start),a=n.key,f=n.sep;f.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:a,sep:f}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(nl(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const s=Ip(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?t.items.push({start:o,key:null,sep:[this.sourceToken]}):nl(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);i||n.value?(t.items.push({start:o,key:s,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(s):(Object.assign(n,{key:s,sep:[]}),this.onKeyLine=!0);return}default:{const s=this.startBlockValue(t);if(s){i&&s.type!=="block-seq"&&nl(n.start,"explicit-key-ind")&&t.items.push({start:o}),this.stack.push(s);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const i="end"in n.value?n.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2],o=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||nl(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const i=this.startBlockValue(t);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const i=d1(r),o=Ip(i);dB(t);const s=t.end.splice(1,t.end.length);s.push(this.sourceToken);const a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:o,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=d1(t),r=Ip(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r}]}}case"map-value-ind":{this.onKeyLine=!0;const n=d1(t),r=Ip(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function Sq(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new _q||null,prettyErrors:t}}function $xe(e,t={}){const{lineCounter:n,prettyErrors:r}=Sq(t),i=new IR(n==null?void 0:n.addNewLine),o=new MR(t),s=Array.from(o.compose(i.parse(e)));if(r&&n)for(const a of s)a.errors.forEach(Xw(e,n)),a.warnings.forEach(Xw(e,n));return s.length>0?s:Object.assign([],{empty:!0},o.streamInfo())}function Eq(e,t={}){const{lineCounter:n,prettyErrors:r}=Sq(t),i=new IR(n==null?void 0:n.addNewLine),o=new MR(t);let s=null;for(const a of o.compose(i.parse(e),!0,e.length))if(!s)s=a;else if(s.options.logLevel!=="silent"){s.errors.push(new Ff(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(s.errors.forEach(Xw(e,n)),s.warnings.forEach(Xw(e,n))),s}function Rxe(e,t,n){let r;typeof t=="function"?r=t:n===void 0&&t&&typeof t=="object"&&(n=t);const i=Eq(e,n);if(!i)return null;if(i.warnings.forEach(o=>q7(i.options.logLevel,o)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:r},n))}function Dxe(e,t,n){let r=null;if(typeof t=="function"||Array.isArray(t)?r=t:n===void 0&&t&&(n=t),typeof n=="string"&&(n=n.length),typeof n=="number"){const i=Math.round(n);n=i<1?void 0:i>8?{indent:8}:{indent:i}}if(e===void 0){const{keepUndefined:i}=n??t??{};if(!i)return}return new zg(e,r,n).toString(n)}const Cq=Object.freeze(Object.defineProperty({__proto__:null,Alias:bE,CST:Axe,Composer:MR,Document:zg,Lexer:xq,LineCounter:_q,Pair:zo,Parser:IR,Scalar:Sn,Schema:OE,YAMLError:OR,YAMLMap:Wa,YAMLParseError:Ff,YAMLSeq:$d,YAMLWarning:cq,isAlias:Th,isCollection:ii,isDocument:$g,isMap:Rg,isNode:Ci,isPair:Zr,isScalar:Dr,isSeq:Dg,parse:Rxe,parseAllDocuments:$xe,parseDocument:Eq,stringify:Dxe,visit:Id,visitAsync:vE},Symbol.toStringTag,{value:"Module"})),Rd=Pe.createContext();var f1="";const $R=({children:e,notification:t})=>{qn(A=>A.devices.items);const n=qn(A=>A.mission),r=qn(A=>A.session.server),i=wl(),[o,s]=V.useState(!1),[a,f]=V.useState(!1);V.useState(""),V.useEffect(()=>{s(r)},[r]);const h=async A=>{try{const P=await fetch("/api/rosConnect",{method:"POST",body:new URLSearchParams(`rosState=${encodeURIComponent(o)}`)});if(P.ok){let $=await P.json();$.state==="connect"&&(t("success",$.msg),s(!0)),$.state==="error"&&(s(!1),t("danger",$.msg)),$.state==="disconnect"&&(t("danger",$.msg),s(!1)),console.log($)}else throw Error(await P.text())}catch{s(!1)}},g=async A=>{console.log(A.name+"-"+A.category);try{const P=await fetch("/api/devices",{method:"POST",body:JSON.stringify(A),headers:{"Content-Type":"application/json"}});if(P.ok){let $=await P.json();$.state==="connect"&&t("success",$.msg),$.state==="error"&&t("danger",$.msg),console.log($)}else throw Error(await P.text())}catch{}},v=async()=>{try{const A=await fetch("/api/commands/send",{method:"POST",body:JSON.stringify({deviceId:-1,type:"loadMission",attributes:n.route}),headers:{"Content-Type":"application/json"}});if(A.ok){let P=await A.json();P.state==="connect"&&t("success",P.msg),P.state==="error"&&t("danger",P.msg),console.log(P)}else throw Error(await A.text())}catch{}},x=async()=>{console.log("command mission ");try{const A=await fetch("/api/commands/send",{method:"POST",body:JSON.stringify({deviceId:-1,type:"commandMission"}),headers:{"Content-Type":"application/json"}});if(A.ok){let P=await A.json();P.state==="connect"&&t("success",P.msg),P.state==="error"&&t("danger",P.msg),console.log(P)}else throw Error(await A.text())}catch{}},k=(A,P)=>{if(A.endsWith(".yaml"))f1=Cq.parse(P),f1.mode_landing,f1.mode_yaw,i(Hl.updateMission({name:A.slice(0,-5),mission:f1}));else if(A.endsWith(".waypoints")){let z=P.split(`
`).map(G=>G.split("	")),N={uav_n:1,uav_1:{}},F=0;z.forEach(G=>{G[3]=="16"&&(N.uav_1["wp_"+F]=[G[8],G[9],G[10]],F=F+1)}),N.uav_1.wp_n=F,i(Hl.updateMission({name:A.slice(0,-10),mission:N}))}else if(A.endsWith(".kml")){let N=new DOMParser().parseFromString(P,"text/xml").querySelector("coordinates").textContent.replace(/(\r\n|\n|\r|\t)/gm,"").split(" ").map(J=>J.split(",")),F={uav_n:1,uav_1:{}},G=0;N.forEach(J=>{J.length==3&&(F.uav_1["wp_"+G]=[J[1],J[0],J[2]],G=G+1)}),F.uav_1.wp_n=G,i(Hl.updateMission({name:A.slice(0,-4),mission:F}))}else if(A.endsWith(".plan")){let $=JSON.parse(P),z={uav_n:1,uav_1:{}},N=0;$.mission.items.forEach(F=>{z.uav_1["wp_"+N]=[F.params[4],F.params[5],F.Altitude],N=N+1}),z.uav_1.wp_n=N,i(Hl.updateMission({name:A.slice(0,-5),mission:z}))}else t("danger","Formato de mission no compatible")},O=()=>{h()};async function C(A){o?g(A):alert(`
Ros no est conectado.

 Por favor conctelo primero.`)}function M(){v()}function I(){x()}return B.jsx("div",{style:{width:"100%",height:"100%"},children:B.jsx(Rd.Provider,{value:{rosConnect:O,rosState:o,openMision:k,connectAddUav:C,commandMission:I,loadMission:M,confirmMission:a,setconfirmMission:f},children:e})})},RR=({SetAddUAVOpen:e})=>{const[t,n]=V.useState(!1),r=wl(),i=Cg(),o=()=>{r(Hl.clearMission({}))},s=()=>{const x=document.getElementsByName("otrotest");for(let k=0;k<x.length;k++)x[k].setAttribute("class","mytest");setTimeout(()=>{console.log("1 Segundo esperado");for(let k=0;k<x.length;k++)x[k].setAttribute("class","dropdown-content")},500),n(k=>!k)},a=V.useContext(Rd),f=x=>{const k=x.target.files[0];if(!k)return;const O=new FileReader;O.readAsText(k),O.onload=()=>{a.openMision(k.name,O.result)},O.onerror=()=>{console.log("error"),console.log(O.error)}},h=x=>{const k=x.target.files[0];if(!k)return;const O=new FileReader;O.readAsText(k),O.onload=()=>{console.log(O.result);let C=new DOMParser().parseFromString(O.result,"text/xml");console.log(C);let M=C.getElementsByTagName("Point");console.log(M);let I=Object.values(M).map(N=>N.textContent.replace("	1","").replace(/(\r\n|\n|\r|\t)/gm,"").split(","));console.log(I);let A=C.getElementsByTagName("coordinates");console.log(A);let P=Object.values(A).map(N=>N.textContent.replace("	1","").replace(/(\r\n|\n|\r|\t)/gm,"").split(" ")),$=P.map(N=>N.map(F=>F.split(",")));console.log(P),console.log($);let z=[];if(I.length)return console.log("add markers"),z=I.map((N,F,G)=>({latitude:Number(N[1]),longitude:Number(N[0]),image:"base"})),console.log(z),r(em.addMarker(z)),null;$.length&&(console.log("add towers markers"),$.map((N,F,G)=>{console.log(N),N.map(J=>{console.log(J),J.length>1&&z.push({latitude:Number(J[1]),longitude:Number(J[0]),image:"powerTower"})})}),console.log(z),r(em.addMarker(z)))},O.onerror=()=>{console.log("error"),console.log(O.error)}};function g(){Ye.easeTo({center:[-6.0025,37.412],zoom:Math.max(Ye.getZoom(),5),offset:[0,-1/2]})}function v(){e(!0)}return B.jsx(H$,{position:"static",style:{backgroundColor:"#333",height:"52px"},children:B.jsx(Ww,{maxWidth:"x",children:B.jsxs(ax,{disableGutters:!0,children:[B.jsx(wr,{onClick:()=>{g(),i("/")},children:B.jsx(An,{variant:"h6",noWrap:!0,component:"a",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"#FFFFFF",textDecoration:"none"},children:"Management Tool"})}),B.jsxs("div",{className:"dropdown",children:[B.jsx("button",{className:"dropbtn",children:"ROS "}),B.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[B.jsx("a",{id:"rosConnectNavbar",onClick:()=>{a.rosConnect(),s()},children:"Connect Ros"}),B.jsx("a",{id:"rosConnectNavbar",onClick:()=>{a.rosConnect(),s()},children:"Show Topics"}),B.jsx("a",{id:"rosConnectNavbar",onClick:()=>{a.rosConnect(),s()},children:"Show servies"})]})]}),B.jsxs("div",{className:"dropdown",children:[B.jsxs("button",{className:"dropbtn",children:["UAV",B.jsx("i",{className:"fa fa-caret-down"})]}),B.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[B.jsx("a",{id:"openAddUavNavbar",onClick:()=>{v(),s()},children:"Connect UAV"}),B.jsx("a",{id:"loadMissionNavbar",onClick:()=>{a.loadMission(),s()},children:"Load Mission UAV's"}),B.jsx("a",{id:"commandMissionNavbar",onClick:()=>{a.setconfirmMission(!0),s()},children:"Command Mission All"})]})]}),B.jsxs("div",{className:"dropdown",children:[B.jsxs("button",{className:"dropbtn",children:["Mission",B.jsx("i",{className:"fa fa-caret-down"})]}),B.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[B.jsx("label",{id:"menuopenmission",htmlFor:"openMissionNavbar",children:"Open Mision"}),B.jsx("input",{accept:".yaml, .plan, .waypoint, .kml",type:"file",multiple:!1,style:{display:"none"},id:"openMissionNavbar",onChange:f}),B.jsx("a",{id:"Clear mission",onClick:()=>{o(),s()},children:"Clear Mission"}),B.jsx("a",{id:"editmission",onClick:()=>{i("/mission"),s()},children:"Edit mission"})]})]}),B.jsxs("div",{className:"dropdown",children:[B.jsxs("button",{className:"dropbtn",children:["View",B.jsx("i",{className:"fa fa-caret-down"})]}),B.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[B.jsx("a",{id:"hideRosterNavbar",onClick:s,children:"Enviroment Features"}),B.jsx("label",{id:"menuopenelements",htmlFor:"openElementsNavbar",children:"add elements"}),B.jsx("input",{accept:".kml",type:"file",multiple:!1,style:{display:"none"},id:"openElementsNavbar",onChange:h}),B.jsx("a",{id:"cameraView",onClick:()=>{i("/camera"),s()},children:"Camera view"})]})]}),B.jsx("div",{className:"dropdown",children:B.jsxs("button",{className:"dropbtn",onClick:()=>{i("/events")},children:["Report",B.jsx("i",{className:"fa fa-caret-down"})]})})]})})})};var DR={},Tq={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Tq);var dr=Tq.exports,uP={};const Lxe=IU(Ose);var fB;function fr(){return fB||(fB=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Lxe}(uP)),uP}var Nxe=dr;Object.defineProperty(DR,"__esModule",{value:!0});var kq=DR.default=void 0,zxe=Nxe(fr()),jxe=B,Bxe=(0,zxe.default)((0,jxe.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");kq=DR.default=Bxe;var LR={},Fxe=dr;Object.defineProperty(LR,"__esModule",{value:!0});var Pq=LR.default=void 0,Uxe=Fxe(fr()),Vxe=B,Wxe=(0,Uxe.default)((0,Vxe.jsx)("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}),"Folder");Pq=LR.default=Wxe;var NR={},qxe=dr;Object.defineProperty(NR,"__esModule",{value:!0});var Oq=NR.default=void 0,Gxe=qxe(fr()),Hxe=B,Yxe=(0,Gxe.default)((0,Hxe.jsx)("path",{d:"M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"}),"Flight");Oq=NR.default=Yxe;var zR={},Kxe=dr;Object.defineProperty(zR,"__esModule",{value:!0});var Aq=zR.default=void 0,Zxe=Kxe(fr()),Xxe=B,Jxe=(0,Zxe.default)((0,Xxe.jsx)("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"FileUpload");Aq=zR.default=Jxe;var jR={},Qxe=dr;Object.defineProperty(jR,"__esModule",{value:!0});var Mq=jR.default=void 0,e_e=Qxe(fr()),t_e=B,n_e=(0,e_e.default)((0,t_e.jsx)("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h10v4h8v10z"}),"Tab");Mq=jR.default=n_e;var BR={},r_e=dr;Object.defineProperty(BR,"__esModule",{value:!0});var Iq=BR.default=void 0,i_e=r_e(fr()),o_e=B,a_e=(0,i_e.default)((0,o_e.jsx)("path",{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"}),"Reply");Iq=BR.default=a_e;var FR={},s_e=dr;Object.defineProperty(FR,"__esModule",{value:!0});var $q=FR.default=void 0,l_e=s_e(fr()),c_e=B,u_e=(0,l_e.default)((0,c_e.jsx)("path",{d:"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z"}),"CallMade");$q=FR.default=u_e;var UR={},d_e=dr;Object.defineProperty(UR,"__esModule",{value:!0});var Rq=UR.default=void 0,f_e=d_e(fr()),h_e=B,p_e=(0,f_e.default)((0,h_e.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"ModeEdit");Rq=UR.default=p_e;var VR={},m_e=dr;Object.defineProperty(VR,"__esModule",{value:!0});var Dq=VR.default=void 0,g_e=m_e(fr()),y_e=B,v_e=(0,g_e.default)((0,y_e.jsx)("path",{d:"m19 8-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}),"Cached");Dq=VR.default=v_e;const b_e=Ti(e=>({toolbar:{height:"36px",background:"linear-gradient(#E7E5E7, #D3D1D3)",borderTop:"1px solid rgba(255, 255, 255, .6)"},mediaButton:{width:"auto",color:Jl[700],backgroundColor:"#F9F9F9",boxShadow:"inset 0px -4px 4px 0 rgba(0, 0, 0, 0.1)",maxHeight:"22px",top:"2px",border:"1px solid #C2C0C2",margin:"5px 10px",fontSize:"12px","&:hover":{backgroundColor:Jl[300]}},mediaicon:{color:Jl[700],width:"15px"}})),WR=({SetAddUAVOpen:e})=>{const t=b_e(),n=V.useContext(Rd),[r,i]=V.useState("no load mission"),o=qn(O=>O.mission.name),s=qn(O=>O.mission.home),[a,f]=V.useState(!0),h=O=>{const C=O.target.files[0];if(!C)return;const M=new FileReader;M.readAsText(C),M.onload=()=>{console.log(M.result),console.log(C.name),n.openMision(C.name,M.result)},M.onerror=()=>{console.log(M.error)}};function g(){Ye.easeTo({center:[-6.0025,37.412],zoom:Math.max(Ye.getZoom(),5),offset:[0,-1/2]})}function v(){Ye.easeTo({center:[s[1],s[0]],zoom:Math.max(Ye.getZoom(),15),offset:[0,-1/2]})}function x(){e(!0)}const k=()=>{f(!a)};return V.useEffect(()=>{i(o)},[o]),V.useEffect(()=>{v()},[s]),B.jsx("header",{className:t.toolbar,children:B.jsxs("div",{children:[B.jsxs(efe,{style:{height:"26px",display:"inline",justifyContent:"flex-end"},children:[B.jsx(wr,{onClick:g,className:t.mediaButton,style:{margin:"0px 0px"},children:B.jsx(kq,{fontSize:"small",className:t.mediaicon})}),B.jsxs(wr,{id:"openMission",className:t.mediaButton,style:{margin:"0px 0px"},children:[B.jsx("label",{htmlFor:"openMissionNavbar",style:{padding:0},children:B.jsx(Pq,{fontSize:"small",className:t.mediaicon,style:{position:"relative",top:"3px"}})}),B.jsx("input",{type:"file",multiple:!1,style:{display:"none"},id:"openMissionNavbar",onChange:h})]}),B.jsx(wr,{id:"openAddUav",onClick:x,className:t.mediaButton,style:{margin:"0px 0px"},children:B.jsx(Oq,{fontSize:"small",className:t.mediaicon,style:{transform:"rotate(90deg)"}})})]}),B.jsx(Rd.Consumer,{children:({rosState:O})=>B.jsxs(wr,{id:"rosConnect",onClick:n.rosConnect,className:t.mediaButton,children:[O&&"conectado"," ",!O&&"desconectado"," "]})}),B.jsx(wr,{id:"loadMission",size:"small",onClick:x,className:t.mediaButton,children:B.jsx(Aq,{fontSize:"small",className:t.mediaicon})}),B.jsx(wr,{id:"commandMission",onClick:x,className:t.mediaButton,children:"Fly!"}),B.jsxs(wr,{id:"openedmission",onClick:v,className:t.mediaButton,style:{margin:"0px 100px",width:"500px"},children:[" ",r]}),B.jsx(wr,{variant:"filledTonal",onClick:O=>k(),className:t.mediaButton,children:"Status"}),B.jsx(wr,{id:"openTerminal",style:{visibility:!0},className:t.mediaButton,children:B.jsx(Mq,{fontSize:"small",className:t.mediaicon})}),B.jsx(wr,{id:"UndoMission",style:{visibility:!0},className:t.mediaButton,children:B.jsx(Iq,{fontSize:"small",className:t.mediaicon})}),B.jsx(wr,{id:"reset",className:t.mediaButton,children:B.jsx($q,{fontSize:"small",className:t.mediaicon})}),B.jsx(wr,{id:"showManualMode",className:t.mediaButton,children:B.jsx(Rq,{fontSize:"small",className:t.mediaicon})}),B.jsx(wr,{id:"commandManualMission",style:{visibility:!0},className:t.mediaButton,children:B.jsx(Dq,{fontSize:"small",className:t.mediaicon})})]})})};var qR={},x_e=dr;Object.defineProperty(qR,"__esModule",{value:!0});var Dd=qR.default=void 0,__e=x_e(fr()),w_e=B,S_e=(0,__e.default)((0,w_e.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");Dd=qR.default=S_e;const E_e=Ti(e=>({title:{fontWeight:700,fontSize:"16px",textAlign:"left",marginTop:0,marginBottom:"6px",width:"300px",height:"18px"},mediaButton:{color:"#fff",mixBlendMode:"difference",right:0,top:0},description:{margin:0,textAlign:"left",fontSize:"12px",paddingLeft:"1rem"},toast:{height:"60px",width:"365px",color:"#fff",marginBottom:"1rem"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(.5,1,0,2)},card:{pointerEvents:"auto",height:"60px",width:"365px",color:"#fff",marginBottom:"1rem"},root:{pointerEvents:"none",position:"fixed",zIndex:5,bottom:"1rem",right:"1rem"}})),C_e=({toastlist:e,position:t,setList:n})=>{const r=E_e(),i=V.useCallback(o=>{const s=e.filter(a=>a.id!==o);n(s)},[e,n]);return V.useEffect(()=>{const o=setInterval(()=>{e.length&&i(e[0].id)},3e3);return()=>{clearInterval(o)}},[e,i]),B.jsx("div",{className:r.root,children:e.map((o,s)=>B.jsxs(Eh,{elevation:3,className:r.card,style:{backgroundColor:o.backgroundColor},children:[B.jsxs("div",{className:r.header,children:[B.jsx(An,{variant:"body2",children:o.title}),B.jsx(Jn,{size:"small",onClick:()=>i(o.id),onTouchStart:()=>i(o.id),children:B.jsx(Dd,{fontSize:"small",className:r.mediaButton})})]}),B.jsx("div",{children:B.jsx("p",{className:r.description,children:o.description})})]}))})};var GR={},T_e=dr;Object.defineProperty(GR,"__esModule",{value:!0});var Ld=GR.default=void 0,k_e=T_e(fr()),P_e=B,O_e=(0,k_e.default)((0,P_e.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");Ld=GR.default=O_e;const Dc=({label:e,fullWidth:t,multiple:n,value:r,emptyValue:i=0,emptyTitle:o="",onChange:s,endpoint:a,data:f,keyGetter:h=v=>v.id,titleGetter:g=v=>v.name})=>{const[v,x]=V.useState(f);return lR(async()=>{if(a){const k=await fetch(a);if(k.ok)x(await k.json());else throw Error(await k.text())}},[]),v?B.jsxs(dE,{fullWidth:t,children:[B.jsx(fE,{children:e}),B.jsxs(hE,{label:e,multiple:n,value:r,onChange:s,children:[!n&&i!==null&&B.jsx(hl,{value:i,children:o}),v.map(k=>B.jsx(hl,{value:h(k),children:g(k)},h(k)))]})]}):null};var HR={},A_e=dr;Object.defineProperty(HR,"__esModule",{value:!0});var xh=HR.default=void 0,M_e=A_e(fr()),I_e=B,$_e=(0,M_e.default)((0,I_e.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");xh=HR.default=$_e;const R_e=Ti(e=>({card:{pointerEvents:"auto",display:"block",width:"400px",height:"70vh",transitionDuration:"0.3s",overflowY:"auto"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"50%",top:"20%",transform:"translateX(-50%)"},button:{width:"80%",paddingBottom:"10pt",paddingTop:"10pt"},formControl:{margin:e.spacing(1),gap:e.spacing(2),paddingBottom:"20pt"},inputtext:{paddingBottom:"20px"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},title:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"20pt",textAlign:"left"},closeBtn:{display:"flex",right:"5px",height:"35px",position:"absolute"},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),D_e=({SetAddUAVOpen:e})=>{const t=R_e(),n=V.useContext(Rd),[r,i]=V.useState({name:"uav_",category:"dji_M210_noetic",ip:"10.42.0.42",camera:[]});function o(){e(!1)}function s(){console.log("add uav-"+r.name+"-"+r.category),console.log(r),n.connectAddUav(r),e(!1)}const a=h=>{let g=JSON.parse(JSON.stringify(r.camera));g.splice(h,1),i({...r,camera:g})};function f(){let h=JSON.parse(JSON.stringify(r.camera));h.push({type:"WebRTC",source:""}),i({...r,camera:h})}return B.jsx("div",{className:t.root,children:B.jsxs(Eh,{elevation:3,className:t.card,children:[B.jsx("div",{className:t.closeBtn,children:B.jsx(Jn,{size:"small",onClick:o,onTouchStart:o,children:B.jsx(Dd,{fontSize:"small",className:t.mediaButton})})}),B.jsx("b",{children:B.jsx("div",{className:t.title,children:"Add device "})}),B.jsxs(ph,{defaultExpanded:!0,children:[B.jsx(gh,{expandIcon:B.jsx(Ld,{}),children:B.jsx(An,{variant:"subtitle1",children:"Datos UAV"})}),B.jsx(mh,{className:t.details,children:B.jsxs(Mhe,{style:{margin:"20px"},children:[B.jsx(yo,{required:!0,label:"UAV ID",name:"uavid",value:r.name,onChange:h=>i({...r,name:h.target.value}),className:t.inputtext}),B.jsx(Dc,{emptyValue:null,value:r.category?r.category:"",onChange:h=>i({...r,category:h.target.value}),endpoint:"/api/category",keyGetter:h=>h,titleGetter:h=>h,label:"Type UAV "}),B.jsx(yo,{style:{marginTop:"20px"},label:"ip",value:r.ip,onChange:h=>i({...r,ip:h.target.value})})]})})]}),r&&B.jsxs(ph,{children:[B.jsx(gh,{expandIcon:B.jsx(Ld,{}),children:B.jsx(An,{variant:"subtitle1",children:"Camera"})}),B.jsxs(mh,{className:t.details,children:[r.camera&&r.camera.map((h,g,v)=>B.jsxs(V.Fragment,{children:[B.jsx(An,{variant:"subtitle1",className:t.attributeName,children:"Camera "+g}),B.jsxs("div",{children:[B.jsxs(dE,{variant:"outlined",children:[B.jsx(fE,{id:"demo-simple-select-outlined-label",children:"CameraType"}),B.jsxs(hE,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:h.type,label:"type",onChange:x=>i({...r,camera:r.camera.map((k,O)=>{let C=JSON.parse(JSON.stringify(k));return g==O&&(C.type=x.target.value),C})}),children:[B.jsx(hl,{value:"WebRTC",children:"WebRTC"}),B.jsx(hl,{value:"WebRTC_env",children:"WebRTCenv"}),B.jsx(hl,{value:"Websocket",children:"Websocket"})]})]}),B.jsx("div",{className:t.actionValue,children:B.jsx(yo,{required:!0,fullWidth:!0,value:h.source,onChange:x=>i({...r,camera:r.camera.map((k,O)=>{let C=JSON.parse(JSON.stringify(k));return g==O&&(C.source=x.target.value),C})})})}),B.jsx(Jn,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>a(g),className:t.negative,children:B.jsx(xh,{})})]}),B.jsx(nR,{})]},"fragment-action-"+g)),B.jsx(wr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:f,children:"Add camera source"})]})]}),B.jsx("div",{style:{paddingBottom:"20pt",paddingTop:"20pt",display:"flex",justifyContent:"center"},children:B.jsx(wr,{className:t.button,variant:"contained",onClick:s,children:"ADD"})})]})})},hB="/assets/placeholder-7d04691d.jpg";var YR={},L_e=dr;Object.defineProperty(YR,"__esModule",{value:!0});var KR=YR.default=void 0,N_e=L_e(fr()),z_e=B,j_e=(0,N_e.default)((0,z_e.jsx)("path",{d:"m15 3 2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3h-6zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3v6zm6 12-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6h6zm12-6-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6v-6z"}),"ZoomOutMap");KR=YR.default=j_e;const B_e=Ti(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},card_max:{pointerEvents:"auto",width:"100%"},media:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"360px",top:e.spacing(15),transform:"translateX(1%)"},root_max:{pointerEvents:"none",position:"fixed",zIndex:6,left:"51%",top:"5%",transform:"translateX(-50%)",width:"55%"}})),F_e=({deviceId:e,datacamera:t,onClose:n})=>{const r=B_e(),[i,o]=V.useState(hB),s=qn(x=>x.devices.items[e]),[a,f]=V.useState(!1);let h=a?r.card_max:r.card,g=a?r.root_max:r.root;function v(){f(!a)}return V.useEffect(()=>{e!=null&&(t!=null?o("data:image/bgr8;base64,"+t.camera):o(hB))},[t]),B.jsx("div",{className:g,children:s&&B.jsxs(Eh,{elevation:3,className:h,children:[B.jsxs("div",{style:{display:"flex",right:"5px",height:"35px",position:"absolute"},children:[B.jsx(Jn,{size:"small",onClick:v,onTouchStart:v,children:B.jsx(KR,{fontSize:"small",className:r.mediaButton})}),B.jsx(Jn,{size:"small",onClick:()=>{n(),f(!1)},onTouchStart:n,children:B.jsx(Dd,{fontSize:"small",className:r.mediaButton})})]}),B.jsxs("div",{style:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},children:[" ","Image "+s.name," "]}),B.jsx("img",{src:i,className:r.media})]})})};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Lq;function Mt(){return Lq.apply(null,arguments)}function U_e(e){Lq=e}function xl(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function eh(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Qn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ZR(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Qn(e,t))return!1;return!0}function va(e){return e===void 0}function ou(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function hx(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Nq(e,t){var n=[],r,i=e.length;for(r=0;r<i;++r)n.push(t(e[r],r));return n}function sd(e,t){for(var n in t)Qn(t,n)&&(e[n]=t[n]);return Qn(t,"toString")&&(e.toString=t.toString),Qn(t,"valueOf")&&(e.valueOf=t.valueOf),e}function uc(e,t,n,r){return sG(e,t,n,r,!0).utc()}function V_e(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function On(e){return e._pf==null&&(e._pf=V_e()),e._pf}var LA;Array.prototype.some?LA=Array.prototype.some:LA=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function XR(e){if(e._isValid==null){var t=On(e),n=LA.call(t.parsedDateParts,function(i){return i!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function $E(e){var t=uc(NaN);return e!=null?sd(On(t),e):On(t).userInvalidated=!0,t}var pB=Mt.momentProperties=[],dP=!1;function JR(e,t){var n,r,i,o=pB.length;if(va(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),va(t._i)||(e._i=t._i),va(t._f)||(e._f=t._f),va(t._l)||(e._l=t._l),va(t._strict)||(e._strict=t._strict),va(t._tzm)||(e._tzm=t._tzm),va(t._isUTC)||(e._isUTC=t._isUTC),va(t._offset)||(e._offset=t._offset),va(t._pf)||(e._pf=On(t)),va(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)r=pB[n],i=t[r],va(i)||(e[r]=i);return e}function px(e){JR(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),dP===!1&&(dP=!0,Mt.updateOffset(this),dP=!1)}function _l(e){return e instanceof px||e!=null&&e._isAMomentObject!=null}function zq(e){Mt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Fs(e,t){var n=!0;return sd(function(){if(Mt.deprecationHandler!=null&&Mt.deprecationHandler(null,e),n){var r=[],i,o,s,a=arguments.length;for(o=0;o<a;o++){if(i="",typeof arguments[o]=="object"){i+=`
[`+o+"] ";for(s in arguments[0])Qn(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[o];r.push(i)}zq(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var mB={};function jq(e,t){Mt.deprecationHandler!=null&&Mt.deprecationHandler(e,t),mB[e]||(zq(t),mB[e]=!0)}Mt.suppressDeprecationWarnings=!1;Mt.deprecationHandler=null;function dc(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function W_e(e){var t,n;for(n in e)Qn(e,n)&&(t=e[n],dc(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function NA(e,t){var n=sd({},e),r;for(r in t)Qn(t,r)&&(eh(e[r])&&eh(t[r])?(n[r]={},sd(n[r],e[r]),sd(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)Qn(e,r)&&!Qn(t,r)&&eh(e[r])&&(n[r]=sd({},n[r]));return n}function QR(e){e!=null&&this.set(e)}var zA;Object.keys?zA=Object.keys:zA=function(e){var t,n=[];for(t in e)Qn(e,t)&&n.push(t);return n};var q_e={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function G_e(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return dc(r)?r.call(t,n):r}function ac(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var eD=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,h1=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,fP={},km={};function an(e,t,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(km[e]=i),t&&(km[t[0]]=function(){return ac(i.apply(this,arguments),t[1],t[2])}),n&&(km[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function H_e(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Y_e(e){var t=e.match(eD),n,r;for(n=0,r=t.length;n<r;n++)km[t[n]]?t[n]=km[t[n]]:t[n]=H_e(t[n]);return function(i){var o="",s;for(s=0;s<r;s++)o+=dc(t[s])?t[s].call(i,e):t[s];return o}}function K1(e,t){return e.isValid()?(t=Bq(t,e.localeData()),fP[t]=fP[t]||Y_e(t),fP[t](e)):e.localeData().invalidDate()}function Bq(e,t){var n=5;function r(i){return t.longDateFormat(i)||i}for(h1.lastIndex=0;n>=0&&h1.test(e);)e=e.replace(h1,r),h1.lastIndex=0,n-=1;return e}var K_e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Z_e(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(eD).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var X_e="Invalid date";function J_e(){return this._invalidDate}var Q_e="%d",e1e=/\d{1,2}/;function t1e(e){return this._ordinal.replace("%d",e)}var n1e={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function r1e(e,t,n,r){var i=this._relativeTime[n];return dc(i)?i(e,t,n,r):i.replace(/%d/i,e)}function i1e(e,t){var n=this._relativeTime[e>0?"future":"past"];return dc(n)?n(t):n.replace(/%s/i,t)}var w0={};function Fo(e,t){var n=e.toLowerCase();w0[n]=w0[n+"s"]=w0[t]=e}function Us(e){return typeof e=="string"?w0[e]||w0[e.toLowerCase()]:void 0}function tD(e){var t={},n,r;for(r in e)Qn(e,r)&&(n=Us(r),n&&(t[n]=e[r]));return t}var Fq={};function Uo(e,t){Fq[e]=t}function o1e(e){var t=[],n;for(n in e)Qn(e,n)&&t.push({unit:n,priority:Fq[n]});return t.sort(function(r,i){return r.priority-i.priority}),t}function RE(e){return e%4===0&&e%100!==0||e%400===0}function ws(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function zn(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=ws(t)),n}function jg(e,t){return function(n){return n!=null?(Uq(this,e,n),Mt.updateOffset(this,t),this):Qw(this,e)}}function Qw(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Uq(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&RE(e.year())&&e.month()===1&&e.date()===29?(n=zn(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),BE(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function a1e(e){return e=Us(e),dc(this[e])?this[e]():this}function s1e(e,t){if(typeof e=="object"){e=tD(e);var n=o1e(e),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](e[n[r].unit])}else if(e=Us(e),dc(this[e]))return this[e](t);return this}var Vq=/\d/,rs=/\d\d/,Wq=/\d{3}/,nD=/\d{4}/,DE=/[+-]?\d{6}/,Ur=/\d\d?/,qq=/\d\d\d\d?/,Gq=/\d\d\d\d\d\d?/,LE=/\d{1,3}/,rD=/\d{1,4}/,NE=/[+-]?\d{1,6}/,Bg=/\d+/,zE=/[+-]?\d+/,l1e=/Z|[+-]\d\d:?\d\d/gi,jE=/Z|[+-]\d\d(?::?\d\d)?/gi,c1e=/[+-]?\d+(\.\d{1,3})?/,mx=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,eS;eS={};function Ft(e,t,n){eS[e]=dc(t)?t:function(r,i){return r&&n?n:t}}function u1e(e,t){return Qn(eS,e)?eS[e](t._strict,t._locale):new RegExp(d1e(e))}function d1e(e){return Ua(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,i,o){return n||r||i||o}))}function Ua(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var jA={};function Er(e,t){var n,r=t,i;for(typeof e=="string"&&(e=[e]),ou(t)&&(r=function(o,s){s[t]=zn(o)}),i=e.length,n=0;n<i;n++)jA[e[n]]=r}function gx(e,t){Er(e,function(n,r,i,o){i._w=i._w||{},t(n,i._w,i,o)})}function f1e(e,t,n){t!=null&&Qn(jA,e)&&jA[e](t,n._a,n,e)}var jo=0,Fc=1,Gl=2,Bi=3,pl=4,Uc=5,Uf=6,h1e=7,p1e=8;function m1e(e,t){return(e%t+t)%t}var wi;Array.prototype.indexOf?wi=Array.prototype.indexOf:wi=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function BE(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=m1e(t,12);return e+=(t-n)/12,n===1?RE(e)?29:28:31-n%7%2}an("M",["MM",2],"Mo",function(){return this.month()+1});an("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});an("MMMM",0,0,function(e){return this.localeData().months(this,e)});Fo("month","M");Uo("month",8);Ft("M",Ur);Ft("MM",Ur,rs);Ft("MMM",function(e,t){return t.monthsShortRegex(e)});Ft("MMMM",function(e,t){return t.monthsRegex(e)});Er(["M","MM"],function(e,t){t[Fc]=zn(e)-1});Er(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);i!=null?t[Fc]=i:On(n).invalidMonth=e});var g1e="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Hq="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Yq=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,y1e=mx,v1e=mx;function b1e(e,t){return e?xl(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Yq).test(t)?"format":"standalone"][e.month()]:xl(this._months)?this._months:this._months.standalone}function x1e(e,t){return e?xl(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Yq.test(t)?"format":"standalone"][e.month()]:xl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function _1e(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=uc([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?t==="MMM"?(i=wi.call(this._shortMonthsParse,s),i!==-1?i:null):(i=wi.call(this._longMonthsParse,s),i!==-1?i:null):t==="MMM"?(i=wi.call(this._shortMonthsParse,s),i!==-1?i:(i=wi.call(this._longMonthsParse,s),i!==-1?i:null)):(i=wi.call(this._longMonthsParse,s),i!==-1?i:(i=wi.call(this._shortMonthsParse,s),i!==-1?i:null))}function w1e(e,t,n){var r,i,o;if(this._monthsParseExact)return _1e.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=uc([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function Kq(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=zn(t);else if(t=e.localeData().monthsParse(t),!ou(t))return e}return n=Math.min(e.date(),BE(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Zq(e){return e!=null?(Kq(this,e),Mt.updateOffset(this,!0),this):Qw(this,"Month")}function S1e(){return BE(this.year(),this.month())}function E1e(e){return this._monthsParseExact?(Qn(this,"_monthsRegex")||Xq.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Qn(this,"_monthsShortRegex")||(this._monthsShortRegex=y1e),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function C1e(e){return this._monthsParseExact?(Qn(this,"_monthsRegex")||Xq.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Qn(this,"_monthsRegex")||(this._monthsRegex=v1e),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function Xq(){function e(s,a){return a.length-s.length}var t=[],n=[],r=[],i,o;for(i=0;i<12;i++)o=uc([2e3,i]),t.push(this.monthsShort(o,"")),n.push(this.months(o,"")),r.push(this.months(o,"")),r.push(this.monthsShort(o,""));for(t.sort(e),n.sort(e),r.sort(e),i=0;i<12;i++)t[i]=Ua(t[i]),n[i]=Ua(n[i]);for(i=0;i<24;i++)r[i]=Ua(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}an("Y",0,0,function(){var e=this.year();return e<=9999?ac(e,4):"+"+e});an(0,["YY",2],0,function(){return this.year()%100});an(0,["YYYY",4],0,"year");an(0,["YYYYY",5],0,"year");an(0,["YYYYYY",6,!0],0,"year");Fo("year","y");Uo("year",1);Ft("Y",zE);Ft("YY",Ur,rs);Ft("YYYY",rD,nD);Ft("YYYYY",NE,DE);Ft("YYYYYY",NE,DE);Er(["YYYYY","YYYYYY"],jo);Er("YYYY",function(e,t){t[jo]=e.length===2?Mt.parseTwoDigitYear(e):zn(e)});Er("YY",function(e,t){t[jo]=Mt.parseTwoDigitYear(e)});Er("Y",function(e,t){t[jo]=parseInt(e,10)});function S0(e){return RE(e)?366:365}Mt.parseTwoDigitYear=function(e){return zn(e)+(zn(e)>68?1900:2e3)};var Jq=jg("FullYear",!0);function T1e(){return RE(this.year())}function k1e(e,t,n,r,i,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,i,o,s),a}function cb(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function tS(e,t,n){var r=7+t-n,i=(7+cb(e,0,r).getUTCDay()-t)%7;return-i+r-1}function Qq(e,t,n,r,i){var o=(7+n-r)%7,s=tS(e,r,i),a=1+7*(t-1)+o+s,f,h;return a<=0?(f=e-1,h=S0(f)+a):a>S0(e)?(f=e+1,h=a-S0(e)):(f=e,h=a),{year:f,dayOfYear:h}}function ub(e,t,n){var r=tS(e.year(),t,n),i=Math.floor((e.dayOfYear()-r-1)/7)+1,o,s;return i<1?(s=e.year()-1,o=i+Yc(s,t,n)):i>Yc(e.year(),t,n)?(o=i-Yc(e.year(),t,n),s=e.year()+1):(s=e.year(),o=i),{week:o,year:s}}function Yc(e,t,n){var r=tS(e,t,n),i=tS(e+1,t,n);return(S0(e)-r+i)/7}an("w",["ww",2],"wo","week");an("W",["WW",2],"Wo","isoWeek");Fo("week","w");Fo("isoWeek","W");Uo("week",5);Uo("isoWeek",5);Ft("w",Ur);Ft("ww",Ur,rs);Ft("W",Ur);Ft("WW",Ur,rs);gx(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=zn(e)});function P1e(e){return ub(e,this._week.dow,this._week.doy).week}var O1e={dow:0,doy:6};function A1e(){return this._week.dow}function M1e(){return this._week.doy}function I1e(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function $1e(e){var t=ub(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}an("d",0,"do","day");an("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});an("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});an("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});an("e",0,0,"weekday");an("E",0,0,"isoWeekday");Fo("day","d");Fo("weekday","e");Fo("isoWeekday","E");Uo("day",11);Uo("weekday",11);Uo("isoWeekday",11);Ft("d",Ur);Ft("e",Ur);Ft("E",Ur);Ft("dd",function(e,t){return t.weekdaysMinRegex(e)});Ft("ddd",function(e,t){return t.weekdaysShortRegex(e)});Ft("dddd",function(e,t){return t.weekdaysRegex(e)});gx(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);i!=null?t.d=i:On(n).invalidWeekday=e});gx(["d","e","E"],function(e,t,n,r){t[r]=zn(e)});function R1e(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function D1e(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function iD(e,t){return e.slice(t,7).concat(e.slice(0,t))}var L1e="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),eG="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),N1e="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),z1e=mx,j1e=mx,B1e=mx;function F1e(e,t){var n=xl(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?iD(n,this._week.dow):e?n[e.day()]:n}function U1e(e){return e===!0?iD(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function V1e(e){return e===!0?iD(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function W1e(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=uc([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?t==="dddd"?(i=wi.call(this._weekdaysParse,s),i!==-1?i:null):t==="ddd"?(i=wi.call(this._shortWeekdaysParse,s),i!==-1?i:null):(i=wi.call(this._minWeekdaysParse,s),i!==-1?i:null):t==="dddd"?(i=wi.call(this._weekdaysParse,s),i!==-1||(i=wi.call(this._shortWeekdaysParse,s),i!==-1)?i:(i=wi.call(this._minWeekdaysParse,s),i!==-1?i:null)):t==="ddd"?(i=wi.call(this._shortWeekdaysParse,s),i!==-1||(i=wi.call(this._weekdaysParse,s),i!==-1)?i:(i=wi.call(this._minWeekdaysParse,s),i!==-1?i:null)):(i=wi.call(this._minWeekdaysParse,s),i!==-1||(i=wi.call(this._weekdaysParse,s),i!==-1)?i:(i=wi.call(this._shortWeekdaysParse,s),i!==-1?i:null))}function q1e(e,t,n){var r,i,o;if(this._weekdaysParseExact)return W1e.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=uc([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function G1e(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=R1e(e,this.localeData()),this.add(e-t,"d")):t}function H1e(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Y1e(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=D1e(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function K1e(e){return this._weekdaysParseExact?(Qn(this,"_weekdaysRegex")||oD.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Qn(this,"_weekdaysRegex")||(this._weekdaysRegex=z1e),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Z1e(e){return this._weekdaysParseExact?(Qn(this,"_weekdaysRegex")||oD.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Qn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=j1e),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function X1e(e){return this._weekdaysParseExact?(Qn(this,"_weekdaysRegex")||oD.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Qn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=B1e),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function oD(){function e(g,v){return v.length-g.length}var t=[],n=[],r=[],i=[],o,s,a,f,h;for(o=0;o<7;o++)s=uc([2e3,1]).day(o),a=Ua(this.weekdaysMin(s,"")),f=Ua(this.weekdaysShort(s,"")),h=Ua(this.weekdays(s,"")),t.push(a),n.push(f),r.push(h),i.push(a),i.push(f),i.push(h);t.sort(e),n.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function aD(){return this.hours()%12||12}function J1e(){return this.hours()||24}an("H",["HH",2],0,"hour");an("h",["hh",2],0,aD);an("k",["kk",2],0,J1e);an("hmm",0,0,function(){return""+aD.apply(this)+ac(this.minutes(),2)});an("hmmss",0,0,function(){return""+aD.apply(this)+ac(this.minutes(),2)+ac(this.seconds(),2)});an("Hmm",0,0,function(){return""+this.hours()+ac(this.minutes(),2)});an("Hmmss",0,0,function(){return""+this.hours()+ac(this.minutes(),2)+ac(this.seconds(),2)});function tG(e,t){an(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}tG("a",!0);tG("A",!1);Fo("hour","h");Uo("hour",13);function nG(e,t){return t._meridiemParse}Ft("a",nG);Ft("A",nG);Ft("H",Ur);Ft("h",Ur);Ft("k",Ur);Ft("HH",Ur,rs);Ft("hh",Ur,rs);Ft("kk",Ur,rs);Ft("hmm",qq);Ft("hmmss",Gq);Ft("Hmm",qq);Ft("Hmmss",Gq);Er(["H","HH"],Bi);Er(["k","kk"],function(e,t,n){var r=zn(e);t[Bi]=r===24?0:r});Er(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Er(["h","hh"],function(e,t,n){t[Bi]=zn(e),On(n).bigHour=!0});Er("hmm",function(e,t,n){var r=e.length-2;t[Bi]=zn(e.substr(0,r)),t[pl]=zn(e.substr(r)),On(n).bigHour=!0});Er("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Bi]=zn(e.substr(0,r)),t[pl]=zn(e.substr(r,2)),t[Uc]=zn(e.substr(i)),On(n).bigHour=!0});Er("Hmm",function(e,t,n){var r=e.length-2;t[Bi]=zn(e.substr(0,r)),t[pl]=zn(e.substr(r))});Er("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Bi]=zn(e.substr(0,r)),t[pl]=zn(e.substr(r,2)),t[Uc]=zn(e.substr(i))});function Q1e(e){return(e+"").toLowerCase().charAt(0)==="p"}var ewe=/[ap]\.?m?\.?/i,twe=jg("Hours",!0);function nwe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var rG={calendar:q_e,longDateFormat:K_e,invalidDate:X_e,ordinal:Q_e,dayOfMonthOrdinalParse:e1e,relativeTime:n1e,months:g1e,monthsShort:Hq,week:O1e,weekdays:L1e,weekdaysMin:N1e,weekdaysShort:eG,meridiemParse:ewe},Gr={},Ov={},db;function rwe(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function gB(e){return e&&e.toLowerCase().replace("_","-")}function iwe(e){for(var t=0,n,r,i,o;t<e.length;){for(o=gB(e[t]).split("-"),n=o.length,r=gB(e[t+1]),r=r?r.split("-"):null;n>0;){if(i=FE(o.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&rwe(o,r)>=n-1)break;n--}t++}return db}function owe(e){return e.match("^[^/\\\\]*$")!=null}function FE(e){var t=null,n;if(Gr[e]===void 0&&typeof Q1<"u"&&Q1&&Q1.exports&&owe(e))try{t=db._abbr,n=require,n("./locale/"+e),wd(t)}catch{Gr[e]=null}return Gr[e]}function wd(e,t){var n;return e&&(va(t)?n=hu(e):n=sD(e,t),n?db=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),db._abbr}function sD(e,t){if(t!==null){var n,r=rG;if(t.abbr=e,Gr[e]!=null)jq("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Gr[e]._config;else if(t.parentLocale!=null)if(Gr[t.parentLocale]!=null)r=Gr[t.parentLocale]._config;else if(n=FE(t.parentLocale),n!=null)r=n._config;else return Ov[t.parentLocale]||(Ov[t.parentLocale]=[]),Ov[t.parentLocale].push({name:e,config:t}),null;return Gr[e]=new QR(NA(r,t)),Ov[e]&&Ov[e].forEach(function(i){sD(i.name,i.config)}),wd(e),Gr[e]}else return delete Gr[e],null}function awe(e,t){if(t!=null){var n,r,i=rG;Gr[e]!=null&&Gr[e].parentLocale!=null?Gr[e].set(NA(Gr[e]._config,t)):(r=FE(e),r!=null&&(i=r._config),t=NA(i,t),r==null&&(t.abbr=e),n=new QR(t),n.parentLocale=Gr[e],Gr[e]=n),wd(e)}else Gr[e]!=null&&(Gr[e].parentLocale!=null?(Gr[e]=Gr[e].parentLocale,e===wd()&&wd(e)):Gr[e]!=null&&delete Gr[e]);return Gr[e]}function hu(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return db;if(!xl(e)){if(t=FE(e),t)return t;e=[e]}return iwe(e)}function swe(){return zA(Gr)}function lD(e){var t,n=e._a;return n&&On(e).overflow===-2&&(t=n[Fc]<0||n[Fc]>11?Fc:n[Gl]<1||n[Gl]>BE(n[jo],n[Fc])?Gl:n[Bi]<0||n[Bi]>24||n[Bi]===24&&(n[pl]!==0||n[Uc]!==0||n[Uf]!==0)?Bi:n[pl]<0||n[pl]>59?pl:n[Uc]<0||n[Uc]>59?Uc:n[Uf]<0||n[Uf]>999?Uf:-1,On(e)._overflowDayOfYear&&(t<jo||t>Gl)&&(t=Gl),On(e)._overflowWeeks&&t===-1&&(t=h1e),On(e)._overflowWeekday&&t===-1&&(t=p1e),On(e).overflow=t),e}var lwe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,cwe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,uwe=/Z|[+-]\d\d(?::?\d\d)?/,p1=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],hP=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],dwe=/^\/?Date\((-?\d+)/i,fwe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,hwe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function iG(e){var t,n,r=e._i,i=lwe.exec(r)||cwe.exec(r),o,s,a,f,h=p1.length,g=hP.length;if(i){for(On(e).iso=!0,t=0,n=h;t<n;t++)if(p1[t][1].exec(i[1])){s=p1[t][0],o=p1[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(i[3]){for(t=0,n=g;t<n;t++)if(hP[t][1].exec(i[3])){a=(i[2]||" ")+hP[t][0];break}if(a==null){e._isValid=!1;return}}if(!o&&a!=null){e._isValid=!1;return}if(i[4])if(uwe.exec(i[4]))f="Z";else{e._isValid=!1;return}e._f=s+(a||"")+(f||""),uD(e)}else e._isValid=!1}function pwe(e,t,n,r,i,o){var s=[mwe(e),Hq.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function mwe(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function gwe(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ywe(e,t,n){if(e){var r=eG.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return On(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function vwe(e,t,n){if(e)return hwe[e];if(t)return 0;var r=parseInt(n,10),i=r%100,o=(r-i)/100;return o*60+i}function oG(e){var t=fwe.exec(gwe(e._i)),n;if(t){if(n=pwe(t[4],t[3],t[2],t[5],t[6],t[7]),!ywe(t[1],n,e))return;e._a=n,e._tzm=vwe(t[8],t[9],t[10]),e._d=cb.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),On(e).rfc2822=!0}else e._isValid=!1}function bwe(e){var t=dwe.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(iG(e),e._isValid===!1)delete e._isValid;else return;if(oG(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Mt.createFromInputFallback(e)}Mt.createFromInputFallback=Fs("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Fp(e,t,n){return e??t??n}function xwe(e){var t=new Date(Mt.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function cD(e){var t,n,r=[],i,o,s;if(!e._d){for(i=xwe(e),e._w&&e._a[Gl]==null&&e._a[Fc]==null&&_we(e),e._dayOfYear!=null&&(s=Fp(e._a[jo],i[jo]),(e._dayOfYear>S0(s)||e._dayOfYear===0)&&(On(e)._overflowDayOfYear=!0),n=cb(s,0,e._dayOfYear),e._a[Fc]=n.getUTCMonth(),e._a[Gl]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Bi]===24&&e._a[pl]===0&&e._a[Uc]===0&&e._a[Uf]===0&&(e._nextDay=!0,e._a[Bi]=0),e._d=(e._useUTC?cb:k1e).apply(null,r),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Bi]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==o&&(On(e).weekdayMismatch=!0)}}function _we(e){var t,n,r,i,o,s,a,f,h;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(o=1,s=4,n=Fp(t.GG,e._a[jo],ub(Fr(),1,4).year),r=Fp(t.W,1),i=Fp(t.E,1),(i<1||i>7)&&(f=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,h=ub(Fr(),o,s),n=Fp(t.gg,e._a[jo],h.year),r=Fp(t.w,h.week),t.d!=null?(i=t.d,(i<0||i>6)&&(f=!0)):t.e!=null?(i=t.e+o,(t.e<0||t.e>6)&&(f=!0)):i=o),r<1||r>Yc(n,o,s)?On(e)._overflowWeeks=!0:f!=null?On(e)._overflowWeekday=!0:(a=Qq(n,r,i,o,s),e._a[jo]=a.year,e._dayOfYear=a.dayOfYear)}Mt.ISO_8601=function(){};Mt.RFC_2822=function(){};function uD(e){if(e._f===Mt.ISO_8601){iG(e);return}if(e._f===Mt.RFC_2822){oG(e);return}e._a=[],On(e).empty=!0;var t=""+e._i,n,r,i,o,s,a=t.length,f=0,h,g;for(i=Bq(e._f,e._locale).match(eD)||[],g=i.length,n=0;n<g;n++)o=i[n],r=(t.match(u1e(o,e))||[])[0],r&&(s=t.substr(0,t.indexOf(r)),s.length>0&&On(e).unusedInput.push(s),t=t.slice(t.indexOf(r)+r.length),f+=r.length),km[o]?(r?On(e).empty=!1:On(e).unusedTokens.push(o),f1e(o,r,e)):e._strict&&!r&&On(e).unusedTokens.push(o);On(e).charsLeftOver=a-f,t.length>0&&On(e).unusedInput.push(t),e._a[Bi]<=12&&On(e).bigHour===!0&&e._a[Bi]>0&&(On(e).bigHour=void 0),On(e).parsedDateParts=e._a.slice(0),On(e).meridiem=e._meridiem,e._a[Bi]=wwe(e._locale,e._a[Bi],e._meridiem),h=On(e).era,h!==null&&(e._a[jo]=e._locale.erasConvertYear(h,e._a[jo])),cD(e),lD(e)}function wwe(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function Swe(e){var t,n,r,i,o,s,a=!1,f=e._f.length;if(f===0){On(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<f;i++)o=0,s=!1,t=JR({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],uD(t),XR(t)&&(s=!0),o+=On(t).charsLeftOver,o+=On(t).unusedTokens.length*10,On(t).score=o,a?o<r&&(r=o,n=t):(r==null||o<r||s)&&(r=o,n=t,s&&(a=!0));sd(e,n||t)}function Ewe(e){if(!e._d){var t=tD(e._i),n=t.day===void 0?t.date:t.day;e._a=Nq([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),cD(e)}}function Cwe(e){var t=new px(lD(aG(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function aG(e){var t=e._i,n=e._f;return e._locale=e._locale||hu(e._l),t===null||n===void 0&&t===""?$E({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),_l(t)?new px(lD(t)):(hx(t)?e._d=t:xl(n)?Swe(e):n?uD(e):Twe(e),XR(e)||(e._d=null),e))}function Twe(e){var t=e._i;va(t)?e._d=new Date(Mt.now()):hx(t)?e._d=new Date(t.valueOf()):typeof t=="string"?bwe(e):xl(t)?(e._a=Nq(t.slice(0),function(n){return parseInt(n,10)}),cD(e)):eh(t)?Ewe(e):ou(t)?e._d=new Date(t):Mt.createFromInputFallback(e)}function sG(e,t,n,r,i){var o={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(eh(e)&&ZR(e)||xl(e)&&e.length===0)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,Cwe(o)}function Fr(e,t,n,r){return sG(e,t,n,r,!1)}var kwe=Fs("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Fr.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:$E()}),Pwe=Fs("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Fr.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:$E()});function lG(e,t){var n,r;if(t.length===1&&xl(t[0])&&(t=t[0]),!t.length)return Fr();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function Owe(){var e=[].slice.call(arguments,0);return lG("isBefore",e)}function Awe(){var e=[].slice.call(arguments,0);return lG("isAfter",e)}var Mwe=function(){return Date.now?Date.now():+new Date},Av=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Iwe(e){var t,n=!1,r,i=Av.length;for(t in e)if(Qn(e,t)&&!(wi.call(Av,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<i;++r)if(e[Av[r]]){if(n)return!1;parseFloat(e[Av[r]])!==zn(e[Av[r]])&&(n=!0)}return!0}function $we(){return this._isValid}function Rwe(){return El(NaN)}function UE(e){var t=tD(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,f=t.minute||0,h=t.second||0,g=t.millisecond||0;this._isValid=Iwe(t),this._milliseconds=+g+h*1e3+f*6e4+a*1e3*60*60,this._days=+s+o*7,this._months=+i+r*3+n*12,this._data={},this._locale=hu(),this._bubble()}function Z1(e){return e instanceof UE}function BA(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Dwe(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0,s;for(s=0;s<r;s++)(n&&e[s]!==t[s]||!n&&zn(e[s])!==zn(t[s]))&&o++;return o+i}function cG(e,t){an(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+ac(~~(n/60),2)+t+ac(~~n%60,2)})}cG("Z",":");cG("ZZ","");Ft("Z",jE);Ft("ZZ",jE);Er(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=dD(jE,e)});var Lwe=/([\+\-]|\d\d)/gi;function dD(e,t){var n=(t||"").match(e),r,i,o;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(Lwe)||["-",0,0],o=+(i[1]*60)+zn(i[2]),o===0?0:i[0]==="+"?o:-o)}function fD(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(_l(e)||hx(e)?e.valueOf():Fr(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Mt.updateOffset(n,!1),n):Fr(e).local()}function FA(e){return-Math.round(e._d.getTimezoneOffset())}Mt.updateOffset=function(){};function Nwe(e,t,n){var r=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=dD(jE,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(i=FA(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?fG(this,El(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Mt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:FA(this)}function zwe(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function jwe(e){return this.utcOffset(0,e)}function Bwe(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(FA(this),"m")),this}function Fwe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=dD(l1e,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Uwe(e){return this.isValid()?(e=e?Fr(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Vwe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Wwe(){if(!va(this._isDSTShifted))return this._isDSTShifted;var e={},t;return JR(e,this),e=aG(e),e._a?(t=e._isUTC?uc(e._a):Fr(e._a),this._isDSTShifted=this.isValid()&&Dwe(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function qwe(){return this.isValid()?!this._isUTC:!1}function Gwe(){return this.isValid()?this._isUTC:!1}function uG(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Hwe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ywe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function El(e,t){var n=e,r=null,i,o,s;return Z1(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:ou(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=Hwe.exec(e))?(i=r[1]==="-"?-1:1,n={y:0,d:zn(r[Gl])*i,h:zn(r[Bi])*i,m:zn(r[pl])*i,s:zn(r[Uc])*i,ms:zn(BA(r[Uf]*1e3))*i}):(r=Ywe.exec(e))?(i=r[1]==="-"?-1:1,n={y:Sf(r[2],i),M:Sf(r[3],i),w:Sf(r[4],i),d:Sf(r[5],i),h:Sf(r[6],i),m:Sf(r[7],i),s:Sf(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=Kwe(Fr(n.from),Fr(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),o=new UE(n),Z1(e)&&Qn(e,"_locale")&&(o._locale=e._locale),Z1(e)&&Qn(e,"_isValid")&&(o._isValid=e._isValid),o}El.fn=UE.prototype;El.invalid=Rwe;function Sf(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function yB(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Kwe(e,t){var n;return e.isValid()&&t.isValid()?(t=fD(t,e),e.isBefore(t)?n=yB(e,t):(n=yB(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function dG(e,t){return function(n,r){var i,o;return r!==null&&!isNaN(+r)&&(jq(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),i=El(n,r),fG(this,i,e),this}}function fG(e,t,n,r){var i=t._milliseconds,o=BA(t._days),s=BA(t._months);e.isValid()&&(r=r??!0,s&&Kq(e,Qw(e,"Month")+s*n),o&&Uq(e,"Date",Qw(e,"Date")+o*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&Mt.updateOffset(e,o||s))}var Zwe=dG(1,"add"),Xwe=dG(-1,"subtract");function hG(e){return typeof e=="string"||e instanceof String}function Jwe(e){return _l(e)||hx(e)||hG(e)||ou(e)||eSe(e)||Qwe(e)||e===null||e===void 0}function Qwe(e){var t=eh(e)&&!ZR(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,o,s=r.length;for(i=0;i<s;i+=1)o=r[i],n=n||Qn(e,o);return t&&n}function eSe(e){var t=xl(e),n=!1;return t&&(n=e.filter(function(r){return!ou(r)&&hG(e)}).length===0),t&&n}function tSe(e){var t=eh(e)&&!ZR(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,o;for(i=0;i<r.length;i+=1)o=r[i],n=n||Qn(e,o);return t&&n}function nSe(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function rSe(e,t){arguments.length===1&&(arguments[0]?Jwe(arguments[0])?(e=arguments[0],t=void 0):tSe(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Fr(),r=fD(n,this).startOf("day"),i=Mt.calendarFormat(this,r)||"sameElse",o=t&&(dc(t[i])?t[i].call(this,n):t[i]);return this.format(o||this.localeData().calendar(i,this,Fr(n)))}function iSe(){return new px(this)}function oSe(e,t){var n=_l(e)?e:Fr(e);return this.isValid()&&n.isValid()?(t=Us(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function aSe(e,t){var n=_l(e)?e:Fr(e);return this.isValid()&&n.isValid()?(t=Us(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function sSe(e,t,n,r){var i=_l(e)?e:Fr(e),o=_l(t)?t:Fr(t);return this.isValid()&&i.isValid()&&o.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(o,n):!this.isAfter(o,n))):!1}function lSe(e,t){var n=_l(e)?e:Fr(e),r;return this.isValid()&&n.isValid()?(t=Us(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function cSe(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function uSe(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function dSe(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(r=fD(e,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,t=Us(t),t){case"year":o=X1(this,r)/12;break;case"month":o=X1(this,r);break;case"quarter":o=X1(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:ws(o)}function X1(e,t){if(e.date()<t.date())return-X1(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),i,o;return t-r<0?(i=e.clone().add(n-1,"months"),o=(t-r)/(r-i)):(i=e.clone().add(n+1,"months"),o=(t-r)/(i-r)),-(n+o)||0}Mt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Mt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function fSe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function hSe(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?K1(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):dc(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",K1(n,"Z")):K1(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function pSe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,i,o;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]',this.format(n+r+i+o)}function mSe(e){e||(e=this.isUtc()?Mt.defaultFormatUtc:Mt.defaultFormat);var t=K1(this,e);return this.localeData().postformat(t)}function gSe(e,t){return this.isValid()&&(_l(e)&&e.isValid()||Fr(e).isValid())?El({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ySe(e){return this.from(Fr(),e)}function vSe(e,t){return this.isValid()&&(_l(e)&&e.isValid()||Fr(e).isValid())?El({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function bSe(e){return this.to(Fr(),e)}function pG(e){var t;return e===void 0?this._locale._abbr:(t=hu(e),t!=null&&(this._locale=t),this)}var mG=Fs("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function gG(){return this._locale}var nS=1e3,Pm=60*nS,rS=60*Pm,yG=(365*400+97)*24*rS;function Om(e,t){return(e%t+t)%t}function vG(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-yG:new Date(e,t,n).valueOf()}function bG(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-yG:Date.UTC(e,t,n)}function xSe(e){var t,n;if(e=Us(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?bG:vG,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Om(t+(this._isUTC?0:this.utcOffset()*Pm),rS);break;case"minute":t=this._d.valueOf(),t-=Om(t,Pm);break;case"second":t=this._d.valueOf(),t-=Om(t,nS);break}return this._d.setTime(t),Mt.updateOffset(this,!0),this}function _Se(e){var t,n;if(e=Us(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?bG:vG,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=rS-Om(t+(this._isUTC?0:this.utcOffset()*Pm),rS)-1;break;case"minute":t=this._d.valueOf(),t+=Pm-Om(t,Pm)-1;break;case"second":t=this._d.valueOf(),t+=nS-Om(t,nS)-1;break}return this._d.setTime(t),Mt.updateOffset(this,!0),this}function wSe(){return this._d.valueOf()-(this._offset||0)*6e4}function SSe(){return Math.floor(this.valueOf()/1e3)}function ESe(){return new Date(this.valueOf())}function CSe(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function TSe(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function kSe(){return this.isValid()?this.toISOString():null}function PSe(){return XR(this)}function OSe(){return sd({},On(this))}function ASe(){return On(this).overflow}function MSe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}an("N",0,0,"eraAbbr");an("NN",0,0,"eraAbbr");an("NNN",0,0,"eraAbbr");an("NNNN",0,0,"eraName");an("NNNNN",0,0,"eraNarrow");an("y",["y",1],"yo","eraYear");an("y",["yy",2],0,"eraYear");an("y",["yyy",3],0,"eraYear");an("y",["yyyy",4],0,"eraYear");Ft("N",hD);Ft("NN",hD);Ft("NNN",hD);Ft("NNNN",USe);Ft("NNNNN",VSe);Er(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?On(n).era=i:On(n).invalidEra=e});Ft("y",Bg);Ft("yy",Bg);Ft("yyy",Bg);Ft("yyyy",Bg);Ft("yo",WSe);Er(["y","yy","yyy","yyyy"],jo);Er(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[jo]=n._locale.eraYearOrdinalParse(e,i):t[jo]=parseInt(e,10)});function ISe(e,t){var n,r,i,o=this._eras||hu("en")._eras;for(n=0,r=o.length;n<r;++n){switch(typeof o[n].since){case"string":i=Mt(o[n].since).startOf("day"),o[n].since=i.valueOf();break}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":i=Mt(o[n].until).startOf("day").valueOf(),o[n].until=i.valueOf();break}}return o}function $Se(e,t,n){var r,i,o=this.eras(),s,a,f;for(e=e.toUpperCase(),r=0,i=o.length;r<i;++r)if(s=o[r].name.toUpperCase(),a=o[r].abbr.toUpperCase(),f=o[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return o[r];break;case"NNNN":if(s===e)return o[r];break;case"NNNNN":if(f===e)return o[r];break}else if([s,a,f].indexOf(e)>=0)return o[r]}function RSe(e,t){var n=e.since<=e.until?1:-1;return t===void 0?Mt(e.since).year():Mt(e.since).year()+(t-e.offset)*n}function DSe(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function LSe(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function NSe(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function zSe(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-Mt(i[e].since).year())*n+i[e].offset;return this.year()}function jSe(e){return Qn(this,"_erasNameRegex")||pD.call(this),e?this._erasNameRegex:this._erasRegex}function BSe(e){return Qn(this,"_erasAbbrRegex")||pD.call(this),e?this._erasAbbrRegex:this._erasRegex}function FSe(e){return Qn(this,"_erasNarrowRegex")||pD.call(this),e?this._erasNarrowRegex:this._erasRegex}function hD(e,t){return t.erasAbbrRegex(e)}function USe(e,t){return t.erasNameRegex(e)}function VSe(e,t){return t.erasNarrowRegex(e)}function WSe(e,t){return t._eraYearOrdinalRegex||Bg}function pD(){var e=[],t=[],n=[],r=[],i,o,s=this.eras();for(i=0,o=s.length;i<o;++i)t.push(Ua(s[i].name)),e.push(Ua(s[i].abbr)),n.push(Ua(s[i].narrow)),r.push(Ua(s[i].name)),r.push(Ua(s[i].abbr)),r.push(Ua(s[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}an(0,["gg",2],0,function(){return this.weekYear()%100});an(0,["GG",2],0,function(){return this.isoWeekYear()%100});function VE(e,t){an(0,[e,e.length],0,t)}VE("gggg","weekYear");VE("ggggg","weekYear");VE("GGGG","isoWeekYear");VE("GGGGG","isoWeekYear");Fo("weekYear","gg");Fo("isoWeekYear","GG");Uo("weekYear",1);Uo("isoWeekYear",1);Ft("G",zE);Ft("g",zE);Ft("GG",Ur,rs);Ft("gg",Ur,rs);Ft("GGGG",rD,nD);Ft("gggg",rD,nD);Ft("GGGGG",NE,DE);Ft("ggggg",NE,DE);gx(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=zn(e)});gx(["gg","GG"],function(e,t,n,r){t[r]=Mt.parseTwoDigitYear(e)});function qSe(e){return xG.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function GSe(e){return xG.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function HSe(){return Yc(this.year(),1,4)}function YSe(){return Yc(this.isoWeekYear(),1,4)}function KSe(){var e=this.localeData()._week;return Yc(this.year(),e.dow,e.doy)}function ZSe(){var e=this.localeData()._week;return Yc(this.weekYear(),e.dow,e.doy)}function xG(e,t,n,r,i){var o;return e==null?ub(this,r,i).year:(o=Yc(e,r,i),t>o&&(t=o),XSe.call(this,e,t,n,r,i))}function XSe(e,t,n,r,i){var o=Qq(e,t,n,r,i),s=cb(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}an("Q",0,"Qo","quarter");Fo("quarter","Q");Uo("quarter",7);Ft("Q",Vq);Er("Q",function(e,t){t[Fc]=(zn(e)-1)*3});function JSe(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}an("D",["DD",2],"Do","date");Fo("date","D");Uo("date",9);Ft("D",Ur);Ft("DD",Ur,rs);Ft("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Er(["D","DD"],Gl);Er("Do",function(e,t){t[Gl]=zn(e.match(Ur)[0])});var _G=jg("Date",!0);an("DDD",["DDDD",3],"DDDo","dayOfYear");Fo("dayOfYear","DDD");Uo("dayOfYear",4);Ft("DDD",LE);Ft("DDDD",Wq);Er(["DDD","DDDD"],function(e,t,n){n._dayOfYear=zn(e)});function QSe(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}an("m",["mm",2],0,"minute");Fo("minute","m");Uo("minute",14);Ft("m",Ur);Ft("mm",Ur,rs);Er(["m","mm"],pl);var e2e=jg("Minutes",!1);an("s",["ss",2],0,"second");Fo("second","s");Uo("second",15);Ft("s",Ur);Ft("ss",Ur,rs);Er(["s","ss"],Uc);var t2e=jg("Seconds",!1);an("S",0,0,function(){return~~(this.millisecond()/100)});an(0,["SS",2],0,function(){return~~(this.millisecond()/10)});an(0,["SSS",3],0,"millisecond");an(0,["SSSS",4],0,function(){return this.millisecond()*10});an(0,["SSSSS",5],0,function(){return this.millisecond()*100});an(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});an(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});an(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});an(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Fo("millisecond","ms");Uo("millisecond",16);Ft("S",LE,Vq);Ft("SS",LE,rs);Ft("SSS",LE,Wq);var ld,wG;for(ld="SSSS";ld.length<=9;ld+="S")Ft(ld,Bg);function n2e(e,t){t[Uf]=zn(("0."+e)*1e3)}for(ld="S";ld.length<=9;ld+="S")Er(ld,n2e);wG=jg("Milliseconds",!1);an("z",0,0,"zoneAbbr");an("zz",0,0,"zoneName");function r2e(){return this._isUTC?"UTC":""}function i2e(){return this._isUTC?"Coordinated Universal Time":""}var mt=px.prototype;mt.add=Zwe;mt.calendar=rSe;mt.clone=iSe;mt.diff=dSe;mt.endOf=_Se;mt.format=mSe;mt.from=gSe;mt.fromNow=ySe;mt.to=vSe;mt.toNow=bSe;mt.get=a1e;mt.invalidAt=ASe;mt.isAfter=oSe;mt.isBefore=aSe;mt.isBetween=sSe;mt.isSame=lSe;mt.isSameOrAfter=cSe;mt.isSameOrBefore=uSe;mt.isValid=PSe;mt.lang=mG;mt.locale=pG;mt.localeData=gG;mt.max=Pwe;mt.min=kwe;mt.parsingFlags=OSe;mt.set=s1e;mt.startOf=xSe;mt.subtract=Xwe;mt.toArray=CSe;mt.toObject=TSe;mt.toDate=ESe;mt.toISOString=hSe;mt.inspect=pSe;typeof Symbol<"u"&&Symbol.for!=null&&(mt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});mt.toJSON=kSe;mt.toString=fSe;mt.unix=SSe;mt.valueOf=wSe;mt.creationData=MSe;mt.eraName=DSe;mt.eraNarrow=LSe;mt.eraAbbr=NSe;mt.eraYear=zSe;mt.year=Jq;mt.isLeapYear=T1e;mt.weekYear=qSe;mt.isoWeekYear=GSe;mt.quarter=mt.quarters=JSe;mt.month=Zq;mt.daysInMonth=S1e;mt.week=mt.weeks=I1e;mt.isoWeek=mt.isoWeeks=$1e;mt.weeksInYear=KSe;mt.weeksInWeekYear=ZSe;mt.isoWeeksInYear=HSe;mt.isoWeeksInISOWeekYear=YSe;mt.date=_G;mt.day=mt.days=G1e;mt.weekday=H1e;mt.isoWeekday=Y1e;mt.dayOfYear=QSe;mt.hour=mt.hours=twe;mt.minute=mt.minutes=e2e;mt.second=mt.seconds=t2e;mt.millisecond=mt.milliseconds=wG;mt.utcOffset=Nwe;mt.utc=jwe;mt.local=Bwe;mt.parseZone=Fwe;mt.hasAlignedHourOffset=Uwe;mt.isDST=Vwe;mt.isLocal=qwe;mt.isUtcOffset=Gwe;mt.isUtc=uG;mt.isUTC=uG;mt.zoneAbbr=r2e;mt.zoneName=i2e;mt.dates=Fs("dates accessor is deprecated. Use date instead.",_G);mt.months=Fs("months accessor is deprecated. Use month instead",Zq);mt.years=Fs("years accessor is deprecated. Use year instead",Jq);mt.zone=Fs("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",zwe);mt.isDSTShifted=Fs("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Wwe);function o2e(e){return Fr(e*1e3)}function a2e(){return Fr.apply(null,arguments).parseZone()}function SG(e){return e}var nr=QR.prototype;nr.calendar=G_e;nr.longDateFormat=Z_e;nr.invalidDate=J_e;nr.ordinal=t1e;nr.preparse=SG;nr.postformat=SG;nr.relativeTime=r1e;nr.pastFuture=i1e;nr.set=W_e;nr.eras=ISe;nr.erasParse=$Se;nr.erasConvertYear=RSe;nr.erasAbbrRegex=BSe;nr.erasNameRegex=jSe;nr.erasNarrowRegex=FSe;nr.months=b1e;nr.monthsShort=x1e;nr.monthsParse=w1e;nr.monthsRegex=C1e;nr.monthsShortRegex=E1e;nr.week=P1e;nr.firstDayOfYear=M1e;nr.firstDayOfWeek=A1e;nr.weekdays=F1e;nr.weekdaysMin=V1e;nr.weekdaysShort=U1e;nr.weekdaysParse=q1e;nr.weekdaysRegex=K1e;nr.weekdaysShortRegex=Z1e;nr.weekdaysMinRegex=X1e;nr.isPM=Q1e;nr.meridiem=nwe;function iS(e,t,n,r){var i=hu(),o=uc().set(r,t);return i[n](o,e)}function EG(e,t,n){if(ou(e)&&(t=e,e=void 0),e=e||"",t!=null)return iS(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=iS(e,r,n,"month");return i}function mD(e,t,n,r){typeof e=="boolean"?(ou(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,ou(t)&&(n=t,t=void 0),t=t||"");var i=hu(),o=e?i._week.dow:0,s,a=[];if(n!=null)return iS(t,(n+o)%7,r,"day");for(s=0;s<7;s++)a[s]=iS(t,(s+o)%7,r,"day");return a}function s2e(e,t){return EG(e,t,"months")}function l2e(e,t){return EG(e,t,"monthsShort")}function c2e(e,t,n){return mD(e,t,n,"weekdays")}function u2e(e,t,n){return mD(e,t,n,"weekdaysShort")}function d2e(e,t,n){return mD(e,t,n,"weekdaysMin")}wd("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=zn(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});Mt.lang=Fs("moment.lang is deprecated. Use moment.locale instead.",wd);Mt.langData=Fs("moment.langData is deprecated. Use moment.localeData instead.",hu);var Pc=Math.abs;function f2e(){var e=this._data;return this._milliseconds=Pc(this._milliseconds),this._days=Pc(this._days),this._months=Pc(this._months),e.milliseconds=Pc(e.milliseconds),e.seconds=Pc(e.seconds),e.minutes=Pc(e.minutes),e.hours=Pc(e.hours),e.months=Pc(e.months),e.years=Pc(e.years),this}function CG(e,t,n,r){var i=El(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function h2e(e,t){return CG(this,e,t,1)}function p2e(e,t){return CG(this,e,t,-1)}function vB(e){return e<0?Math.floor(e):Math.ceil(e)}function m2e(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,o,s,a,f;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=vB(UA(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,i=ws(e/1e3),r.seconds=i%60,o=ws(i/60),r.minutes=o%60,s=ws(o/60),r.hours=s%24,t+=ws(s/24),f=ws(TG(t)),n+=f,t-=vB(UA(f)),a=ws(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function TG(e){return e*4800/146097}function UA(e){return e*146097/4800}function g2e(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=Us(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+TG(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(UA(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function y2e(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+zn(this._months/12)*31536e6:NaN}function pu(e){return function(){return this.as(e)}}var v2e=pu("ms"),b2e=pu("s"),x2e=pu("m"),_2e=pu("h"),w2e=pu("d"),S2e=pu("w"),E2e=pu("M"),C2e=pu("Q"),T2e=pu("y");function k2e(){return El(this)}function P2e(e){return e=Us(e),this.isValid()?this[e+"s"]():NaN}function kh(e){return function(){return this.isValid()?this._data[e]:NaN}}var O2e=kh("milliseconds"),A2e=kh("seconds"),M2e=kh("minutes"),I2e=kh("hours"),$2e=kh("days"),R2e=kh("months"),D2e=kh("years");function L2e(){return ws(this.days()/7)}var Ic=Math.round,lm={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function N2e(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function z2e(e,t,n,r){var i=El(e).abs(),o=Ic(i.as("s")),s=Ic(i.as("m")),a=Ic(i.as("h")),f=Ic(i.as("d")),h=Ic(i.as("M")),g=Ic(i.as("w")),v=Ic(i.as("y")),x=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||f<=1&&["d"]||f<n.d&&["dd",f];return n.w!=null&&(x=x||g<=1&&["w"]||g<n.w&&["ww",g]),x=x||h<=1&&["M"]||h<n.M&&["MM",h]||v<=1&&["y"]||["yy",v],x[2]=t,x[3]=+e>0,x[4]=r,N2e.apply(null,x)}function j2e(e){return e===void 0?Ic:typeof e=="function"?(Ic=e,!0):!1}function B2e(e,t){return lm[e]===void 0?!1:t===void 0?lm[e]:(lm[e]=t,e==="s"&&(lm.ss=t-1),!0)}function F2e(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=lm,i,o;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},lm,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),i=this.localeData(),o=z2e(this,!n,r,i),n&&(o=i.pastFuture(+this,o)),i.postformat(o)}var pP=Math.abs;function $p(e){return(e>0)-(e<0)||+e}function WE(){if(!this.isValid())return this.localeData().invalidDate();var e=pP(this._milliseconds)/1e3,t=pP(this._days),n=pP(this._months),r,i,o,s,a=this.asSeconds(),f,h,g,v;return a?(r=ws(e/60),i=ws(r/60),e%=60,r%=60,o=ws(n/12),n%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",f=a<0?"-":"",h=$p(this._months)!==$p(a)?"-":"",g=$p(this._days)!==$p(a)?"-":"",v=$p(this._milliseconds)!==$p(a)?"-":"",f+"P"+(o?h+o+"Y":"")+(n?h+n+"M":"")+(t?g+t+"D":"")+(i||r||e?"T":"")+(i?v+i+"H":"")+(r?v+r+"M":"")+(e?v+s+"S":"")):"P0D"}var Gn=UE.prototype;Gn.isValid=$we;Gn.abs=f2e;Gn.add=h2e;Gn.subtract=p2e;Gn.as=g2e;Gn.asMilliseconds=v2e;Gn.asSeconds=b2e;Gn.asMinutes=x2e;Gn.asHours=_2e;Gn.asDays=w2e;Gn.asWeeks=S2e;Gn.asMonths=E2e;Gn.asQuarters=C2e;Gn.asYears=T2e;Gn.valueOf=y2e;Gn._bubble=m2e;Gn.clone=k2e;Gn.get=P2e;Gn.milliseconds=O2e;Gn.seconds=A2e;Gn.minutes=M2e;Gn.hours=I2e;Gn.days=$2e;Gn.weeks=L2e;Gn.months=R2e;Gn.years=D2e;Gn.humanize=F2e;Gn.toISOString=WE;Gn.toString=WE;Gn.toJSON=WE;Gn.locale=pG;Gn.localeData=gG;Gn.toIsoString=Fs("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",WE);Gn.lang=mG;an("X",0,0,"unix");an("x",0,0,"valueOf");Ft("x",zE);Ft("X",c1e);Er("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Er("x",function(e,t,n){n._d=new Date(zn(e))});//! moment.js
Mt.version="2.29.4";U_e(Fr);Mt.fn=mt;Mt.min=Owe;Mt.max=Awe;Mt.now=Mwe;Mt.utc=uc;Mt.unix=o2e;Mt.months=s2e;Mt.isDate=hx;Mt.locale=wd;Mt.invalid=$E;Mt.duration=El;Mt.isMoment=_l;Mt.weekdays=c2e;Mt.parseZone=a2e;Mt.localeData=hu;Mt.isDuration=Z1;Mt.monthsShort=l2e;Mt.weekdaysMin=d2e;Mt.defineLocale=sD;Mt.updateLocale=awe;Mt.locales=swe;Mt.weekdaysShort=u2e;Mt.normalizeUnits=Us;Mt.relativeTimeRounding=j2e;Mt.relativeTimeThreshold=B2e;Mt.calendarFormat=nSe;Mt.prototype=mt;Mt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const U2e=e=>{switch(e){case"kmh":return 1.852;case"mph":return 1.15078;case"kn":default:return 1}},V2e=e=>{switch(e){case"kmh":return"Km/h";case"mph":return"sharedMph";case"kn":default:return"Km/h"}},W2e=(e,t)=>e*U2e(t),q2e=e=>{switch(e){case"mi":return 621371e-9;case"nmi":return 539957e-9;case"km":default:return .001}},G2e=e=>{switch(e){case"mi":return"Mi";case"nmi":return"Nmi";case"km":default:return"Km"}},H2e=(e,t)=>e*q2e(t),Y2e=e=>{switch(e){case"ft":return 3.28084;case"m":default:return 1}},K2e=e=>{switch(e){case"ft":return"sharedFeet";case"m":default:return"sharedMeters"}},Z2e=(e,t)=>e*Y2e(t),E0=(e,t)=>e+t.charAt(0).toUpperCase()+t.slice(1),kG=e=>e?"sharedYes":"sharedNo",X2e=(e,t=1)=>Number(e.toFixed(t)),PG=e=>`${e}%`,OG=(e,t,n)=>{if(e){const r=Mt(e);switch(t){case"date":return r.format("YYYY-MM-DD");case"time":return r.format(n?"hh:mm:ss A":"HH:mm:ss");case"minutes":return r.format(n?"YYYY-MM-DD hh:mm A":"YYYY-MM-DD HH:mm");default:return r.format(n?"YYYY-MM-DD hh:mm:ss A":"YYYY-MM-DD HH:mm:ss")}}return""},AG=e=>e?E0("alarm",e):"",J2e=e=>{const t=["","","","","","","",""];let n=(e+22.5)%360;return n<0&&(n+=360),e.toFixed()+t[Math.floor(n/45)]},Q2e=(e,t,n)=>`${H2e(e,t).toFixed(2)} ${G2e(t)}`,eEe=(e,t,n)=>`${Z2e(e,t).toFixed(2)} ${K2e(t)}`,tEe=(e,t,n)=>`${W2e(e,t).toFixed(2)} ${V2e(t)}`,nEe=(e,t)=>{const n=Math.floor(e/36e5),r=Math.floor(e%36e5/6e4);return`${n} ${t("sharedHourAbbreviation")} ${r} ${t("sharedMinuteAbbreviation")}`},bB=(e,t,n)=>{let r,i,o,s;switch(e==="latitude"?r=t>=0?"N":"S":r=t>=0?"E":"W",n){case"ddm":return t=Math.abs(t),i=Math.floor(t),o=(t-i)*60,`${i} ${o.toFixed(6)}' ${r}`;case"dms":return t=Math.abs(t),i=Math.floor(t),o=Math.floor((t-i)*60),s=Math.round((t-i-o/60)*3600),`${i} ${o}' ${s}" ${r}`;default:return`${t.toFixed(6)}`}},MG=e=>{switch(e){case"online":return"positive";case"offline":return"negative";case"unknown":default:return"neutral"}},rEe=({positions:e,onClick:t,showStatus:n,selectedPosition:r,titleField:i})=>{const o=V.useId(),s=`${o}-clusters`,a=`${o}-direction`,f=qn(P=>P.devices.items),h=1,g=!0,v=!1,x="all",k=(P,$,z)=>{const N=P[$.deviceId];let F;switch(x){case"none":F=!1;break;case"all":F=!0;break;default:F=z===$.id;break}return{id:$.id,deviceId:$.deviceId,name:N.name,fixTime:OG($.fixTime,"seconds",v),category:NW(N.category),color:n?MG(N.status):"neutral",rotation:$.course,direction:F}},O=()=>Ye.getCanvas().style.cursor="pointer",C=()=>Ye.getCanvas().style.cursor="",M=V.useCallback(P=>{!P.defaultPrevented&&t&&t()},[t]),I=V.useCallback(P=>{P.preventDefault();const $=P.features[0];t&&t($.properties.id,$.properties.deviceId)},[t]),A=V.useCallback(P=>{P.preventDefault();const $=Ye.queryRenderedFeatures(P.point,{layers:[s]}),z=$[0].properties.cluster_id;Ye.getSource(o).getClusterExpansionZoom(z,(N,F)=>{N||Ye.easeTo({center:$[0].geometry.coordinates,zoom:F})})},[s]);return V.useEffect(()=>(Ye.addSource(o,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:g,clusterMaxZoom:14,clusterRadius:50}),Ye.addLayer({id:o,type:"symbol",source:o,filter:["!has","point_count"],layout:{"icon-image":"{category}-{color}","icon-size":h,"icon-allow-overlap":!0,"text-field":`{${i||"name"}}`,"text-allow-overlap":!0,"text-anchor":"bottom","text-offset":[0,-2*h],"text-font":Hc(Ye),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),Ye.addLayer({id:s,type:"symbol",source:o,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":h,"text-field":"{point_count_abbreviated}","text-font":Hc(Ye),"text-size":14}}),Ye.addLayer({id:a,type:"symbol",source:o,filter:["all",["!has","point_count"],["==","direction",!0]],layout:{"icon-image":"direction","icon-size":h,"icon-allow-overlap":!0,"icon-rotate":["get","rotation"],"icon-rotation-alignment":"map"}}),Ye.on("mouseenter",o,O),Ye.on("mouseleave",o,C),Ye.on("mouseenter",s,O),Ye.on("mouseleave",s,C),Ye.on("click",o,I),Ye.on("click",s,A),Ye.on("click",M),()=>{Ye.off("mouseenter",o,O),Ye.off("mouseleave",o,C),Ye.off("mouseenter",s,O),Ye.off("mouseleave",s,C),Ye.off("click",o,I),Ye.off("click",s,A),Ye.off("click",M),Ye.getLayer(o)&&Ye.removeLayer(o),Ye.getLayer(s)&&Ye.removeLayer(s),Ye.getLayer(a)&&Ye.removeLayer(a),Ye.getSource(o)&&Ye.removeSource(o)}),[g,s,a,I,A]),V.useEffect(()=>{Ye.getSource(o).setData({type:"FeatureCollection",features:e.filter(P=>f.hasOwnProperty(P.deviceId)).map(P=>({type:"Feature",geometry:{type:"Point",coordinates:[P.longitude,P.latitude]},properties:k(f,P,r&&r.id)}))})},[f,e,r]),null},iEe=()=>{const e=V.useId(),t=`${e}-points`,n=`${e}-points-clusters`,r=qn(g=>g.mission.route),i=!0,o=.6,s=(g,v)=>({id:v.id,name:g[v.routeid].name,uav:g[v.routeid].uav,latitude:g[v.routeid].wp[v.id].pos[0],longitude:g[v.routeid].wp[v.id].pos[1],altitud:g[v.routeid].wp[v.id].pos[2],yaw:g[v.routeid].wp[v.id].yaw,speed:g[v.routeid].wp[v.id].speed,gimbal:g[v.routeid].wp[v.id].gimbal,actions:g[v.routeid].wp[v.id].action,attributes:g[v.routeid].attributes,category:"default",color:g[v.routeid].id});function a(g){console.log("target"),console.log(g);let v=`<div style="color: #FF7A59;text-align: center" ><b>UAV: ${g.features[0].properties.uav}</b>
    <span><a href="https://www.google.com/maps?q=${g.features[0].properties.latitude},${g.features[0].properties.longitude}" target="_blank">
    Point_${g.features[0].properties.id}</a></span></div>
        <div><span>Route: ${g.features[0].properties.name}</span></div>
        <div style="display:inline"><span> Height: </span><span>${g.features[0].properties.altitud.toFixed(1)}m </span></div>`;v=g.features[0].properties.hasOwnProperty("speed")?v+`<div style="display:inline"><span>Speed: </span><span>${g.features[0].properties.speed} m/s </span></div>`:v,v=g.features[0].properties.hasOwnProperty("yaw")?v+`<div style="display:inline"><span>Yaw: </span><span>${g.features[0].properties.yaw} </span></div>`:v,v=g.features[0].properties.hasOwnProperty("gimbal")?v+`<div style="display:inline"><span>Gimbal: </span><span>${g.features[0].properties.gimbal} </span></div>`:v;let x="<div><b> Waypoint actions: </b></div>";if(g.features[0].properties.actions){let C=JSON.parse(g.features[0].properties.actions);x=x+Object.keys(C).map(M=>{let I=M=="idle_vel"?"m/s":"";return`<div style="display:inline"><span>${M}: </span><span>${C[M]} ${I} </span></div>`}).join("")}let k="<div><b> Attributes_mission: </b></div>",O=JSON.parse(g.features[0].properties.attributes);k=k+Object.keys(O).map(C=>{let M=C=="idle_vel"||C=="max_vel"?"m/s":"";return`<div style="display:inline"><span>${C}: </span><span>${O[C]} ${M} </span></div>`}).join(""),new yE.Popup().setLngLat(g.lngLat).setHTML(v+x+k).addTo(Ye)}V.useEffect(()=>(Ye.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:i,clusterMaxZoom:10,clusterRadius:50}),Ye.addSource(e,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),Ye.addLayer({source:e,id:"mission-line",type:"line",paint:{"line-color":["get","color"],"line-width":2}}),Ye.addLayer({source:e,id:"mission-title",type:"symbol",layout:{"text-field":"{name}","text-font":Hc(Ye),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),Ye.addLayer({id:"mission-points",type:"symbol",source:t,filter:["!has","point_count"],layout:{"icon-image":"background-{color}","icon-size":o,"icon-allow-overlap":!0,"text-allow-overlap":!0,"text-field":"{id}","text-font":Hc(Ye),"text-size":14},paint:{"text-color":"white"}}),Ye.addLayer({id:n,type:"symbol",source:t,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":o,"text-field":"M","text-font":Hc(Ye),"text-size":14}}),Ye.on("click","mission-points",a),Ye.on("mouseenter","mission-points",()=>{Ye.getCanvas().style.cursor="pointer"}),Ye.on("mouseleave","mission-points",()=>{Ye.getCanvas().style.cursor=""}),()=>{Ye.getLayer("mission-line")&&Ye.removeLayer("mission-line"),Ye.getLayer("mission-title")&&Ye.removeLayer("mission-title"),Ye.getLayer("mission-points")&&Ye.removeLayer("mission-points"),Ye.getLayer(n)&&Ye.removeLayer(n),Ye.getSource(e)&&Ye.removeSource(e),Ye.getSource(t)&&Ye.removeSource(t)}),[]);function f(g){let v=g.wp.map(function(x){return[x.pos[1],x.pos[0]]});return{id:g.id,type:"Feature",geometry:{type:"LineString",coordinates:v},properties:{name:g.uav,color:Um[g.id]}}}function h(g){let v=[];return g.forEach((x,k)=>{x.wp.forEach((O,C)=>{v.push({longitude:O.pos[1],latitude:O.pos[0],id:C,routeid:k})})}),v}return V.useEffect(()=>{let g=h(r);Ye.getSource(t).setData({type:"FeatureCollection",features:g.map(v=>({type:"Feature",geometry:{type:"Point",coordinates:[v.longitude,v.latitude]},properties:s(r,v)}))}),Ye.getSource(e).setData({type:"FeatureCollection",features:r.map(v=>f(v))})},[r]),null},oEe=({markers:e,showTitles:t})=>{const n=V.useId();l7();const r=.4;return V.useEffect(()=>(Ye.addSource(n,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),t?Ye.addLayer({id:n,type:"symbol",source:n,filter:["!has","point_count"],layout:{"icon-image":"{image}","icon-size":r,"icon-allow-overlap":!0,"text-field":"{title}","text-allow-overlap":!0,"text-anchor":"bottom","text-offset":[0,-2*r],"text-font":Hc(Ye),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}):Ye.addLayer({id:n,type:"symbol",source:n,layout:{"icon-image":"{image}","icon-size":r,"icon-allow-overlap":!0}}),()=>{Ye.getLayer(n)&&Ye.removeLayer(n),Ye.getSource(n)&&Ye.removeSource(n)}),[t]),V.useEffect(()=>{var i;(i=Ye.getSource(n))==null||i.setData({type:"FeatureCollection",features:e.map(({latitude:o,longitude:s,image:a,title:f})=>({type:"Feature",geometry:{type:"Point",coordinates:[s,o]},properties:{image:a||"default-neutral",title:f||""}}))})},[t,e]),null},aEe=e=>{const t=V.useRef();return V.useEffect(()=>{t.current=e}),t.current},sEe=()=>{const e=qn(o=>o.devices.selectedId),t=aEe(e),n=10,r=!1,i=qn(o=>o.data.positions[e]);return V.useEffect(()=>{(e!==t||r)&&i&&i.hasOwnProperty("latitude")&&Ye.easeTo({center:[i.longitude,i.latitude],zoom:Math.max(Ye.getZoom(),n),offset:[0,-300/2]})}),null};var xB=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function lEe(e,t){return!!(e===t||xB(e)&&xB(t))}function cEe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!lEe(e[n],t[n]))return!1;return!0}function mP(e,t){t===void 0&&(t=cEe);var n,r=[],i,o=!1;function s(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];return o&&n===this&&t(a,r)||(i=e.apply(this,a),o=!0,n=this,r=a),i}return s}var uEe=typeof performance=="object"&&typeof performance.now=="function",_B=uEe?function(){return performance.now()}:function(){return Date.now()};function wB(e){cancelAnimationFrame(e.id)}function dEe(e,t){var n=_B();function r(){_B()-n>=t?e.call(null):i.id=requestAnimationFrame(r)}var i={id:requestAnimationFrame(r)};return i}var gP=-1;function SB(e){if(e===void 0&&(e=!1),gP===-1||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),gP=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return gP}var Rp=null;function EB(e){if(e===void 0&&(e=!1),Rp===null||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?Rp="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?Rp="negative":Rp="positive-ascending"),document.body.removeChild(t),Rp}return Rp}var fEe=150,hEe=function(t,n){return t};function pEe(e){var t,n=e.getItemOffset,r=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,s=e.getStartIndexForOffset,a=e.getStopIndexForStartIndex,f=e.initInstanceProps,h=e.shouldResetStyleCacheOnItemSizeChange,g=e.validateProps;return t=function(v){rx(x,v);function x(O){var C;return C=v.call(this,O)||this,C._instanceProps=f(C.props,tb(C)),C._outerRef=void 0,C._resetIsScrollingTimeoutId=null,C.state={instance:tb(C),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof C.props.initialScrollOffset=="number"?C.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},C._callOnItemsRendered=void 0,C._callOnItemsRendered=mP(function(M,I,A,P){return C.props.onItemsRendered({overscanStartIndex:M,overscanStopIndex:I,visibleStartIndex:A,visibleStopIndex:P})}),C._callOnScroll=void 0,C._callOnScroll=mP(function(M,I,A){return C.props.onScroll({scrollDirection:M,scrollOffset:I,scrollUpdateWasRequested:A})}),C._getItemStyle=void 0,C._getItemStyle=function(M){var I=C.props,A=I.direction,P=I.itemSize,$=I.layout,z=C._getItemStyleCache(h&&P,h&&$,h&&A),N;if(z.hasOwnProperty(M))N=z[M];else{var F=n(C.props,M,C._instanceProps),G=i(C.props,M,C._instanceProps),J=A==="horizontal"||$==="horizontal",ee=A==="rtl",ae=J?F:0;z[M]=N={position:"absolute",left:ee?void 0:ae,right:ee?ae:void 0,top:J?0:F,height:J?"100%":G,width:J?G:"100%"}}return N},C._getItemStyleCache=void 0,C._getItemStyleCache=mP(function(M,I,A){return{}}),C._onScrollHorizontal=function(M){var I=M.currentTarget,A=I.clientWidth,P=I.scrollLeft,$=I.scrollWidth;C.setState(function(z){if(z.scrollOffset===P)return null;var N=C.props.direction,F=P;if(N==="rtl")switch(EB()){case"negative":F=-P;break;case"positive-descending":F=$-A-P;break}return F=Math.max(0,Math.min(F,$-A)),{isScrolling:!0,scrollDirection:z.scrollOffset<P?"forward":"backward",scrollOffset:F,scrollUpdateWasRequested:!1}},C._resetIsScrollingDebounced)},C._onScrollVertical=function(M){var I=M.currentTarget,A=I.clientHeight,P=I.scrollHeight,$=I.scrollTop;C.setState(function(z){if(z.scrollOffset===$)return null;var N=Math.max(0,Math.min($,P-A));return{isScrolling:!0,scrollDirection:z.scrollOffset<N?"forward":"backward",scrollOffset:N,scrollUpdateWasRequested:!1}},C._resetIsScrollingDebounced)},C._outerRefSetter=function(M){var I=C.props.outerRef;C._outerRef=M,typeof I=="function"?I(M):I!=null&&typeof I=="object"&&I.hasOwnProperty("current")&&(I.current=M)},C._resetIsScrollingDebounced=function(){C._resetIsScrollingTimeoutId!==null&&wB(C._resetIsScrollingTimeoutId),C._resetIsScrollingTimeoutId=dEe(C._resetIsScrolling,fEe)},C._resetIsScrolling=function(){C._resetIsScrollingTimeoutId=null,C.setState({isScrolling:!1},function(){C._getItemStyleCache(-1,null)})},C}x.getDerivedStateFromProps=function(C,M){return mEe(C,M),g(C),null};var k=x.prototype;return k.scrollTo=function(C){C=Math.max(0,C),this.setState(function(M){return M.scrollOffset===C?null:{scrollDirection:M.scrollOffset<C?"forward":"backward",scrollOffset:C,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},k.scrollToItem=function(C,M){M===void 0&&(M="auto");var I=this.props,A=I.itemCount,P=I.layout,$=this.state.scrollOffset;C=Math.max(0,Math.min(C,A-1));var z=0;if(this._outerRef){var N=this._outerRef;P==="vertical"?z=N.scrollWidth>N.clientWidth?SB():0:z=N.scrollHeight>N.clientHeight?SB():0}this.scrollTo(o(this.props,C,M,$,this._instanceProps,z))},k.componentDidMount=function(){var C=this.props,M=C.direction,I=C.initialScrollOffset,A=C.layout;if(typeof I=="number"&&this._outerRef!=null){var P=this._outerRef;M==="horizontal"||A==="horizontal"?P.scrollLeft=I:P.scrollTop=I}this._callPropsCallbacks()},k.componentDidUpdate=function(){var C=this.props,M=C.direction,I=C.layout,A=this.state,P=A.scrollOffset,$=A.scrollUpdateWasRequested;if($&&this._outerRef!=null){var z=this._outerRef;if(M==="horizontal"||I==="horizontal")if(M==="rtl")switch(EB()){case"negative":z.scrollLeft=-P;break;case"positive-ascending":z.scrollLeft=P;break;default:var N=z.clientWidth,F=z.scrollWidth;z.scrollLeft=F-N-P;break}else z.scrollLeft=P;else z.scrollTop=P}this._callPropsCallbacks()},k.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&wB(this._resetIsScrollingTimeoutId)},k.render=function(){var C=this.props,M=C.children,I=C.className,A=C.direction,P=C.height,$=C.innerRef,z=C.innerElementType,N=C.innerTagName,F=C.itemCount,G=C.itemData,J=C.itemKey,ee=J===void 0?hEe:J,ae=C.layout,pe=C.outerElementType,ye=C.outerTagName,we=C.style,Ee=C.useIsScrolling,Oe=C.width,Ce=this.state.isScrolling,Se=A==="horizontal"||ae==="horizontal",De=Se?this._onScrollHorizontal:this._onScrollVertical,We=this._getRangeToRender(),dt=We[0],ht=We[1],Je=[];if(F>0)for(var it=dt;it<=ht;it++)Je.push(V.createElement(M,{data:G,key:ee(it,G),index:it,isScrolling:Ee?Ce:void 0,style:this._getItemStyle(it)}));var Ot=r(this.props,this._instanceProps);return V.createElement(pe||ye||"div",{className:I,onScroll:De,ref:this._outerRefSetter,style:te({position:"relative",height:P,width:Oe,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:A},we)},V.createElement(z||N||"div",{children:Je,ref:$,style:{height:Se?"100%":Ot,pointerEvents:Ce?"none":void 0,width:Se?Ot:"100%"}}))},k._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var C=this.props.itemCount;if(C>0){var M=this._getRangeToRender(),I=M[0],A=M[1],P=M[2],$=M[3];this._callOnItemsRendered(I,A,P,$)}}if(typeof this.props.onScroll=="function"){var z=this.state,N=z.scrollDirection,F=z.scrollOffset,G=z.scrollUpdateWasRequested;this._callOnScroll(N,F,G)}},k._getRangeToRender=function(){var C=this.props,M=C.itemCount,I=C.overscanCount,A=this.state,P=A.isScrolling,$=A.scrollDirection,z=A.scrollOffset;if(M===0)return[0,0,0,0];var N=s(this.props,z,this._instanceProps),F=a(this.props,N,z,this._instanceProps),G=!P||$==="backward"?Math.max(1,I):1,J=!P||$==="forward"?Math.max(1,I):1;return[Math.max(0,N-G),Math.max(0,Math.min(M-1,F+J)),N,F]},x}(V.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var mEe=function(t,n){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,n.instance},gEe=pEe({getItemOffset:function(t,n){var r=t.itemSize;return n*r},getItemSize:function(t,n){var r=t.itemSize;return r},getEstimatedTotalSize:function(t){var n=t.itemCount,r=t.itemSize;return r*n},getOffsetForIndexAndAlignment:function(t,n,r,i,o,s){var a=t.direction,f=t.height,h=t.itemCount,g=t.itemSize,v=t.layout,x=t.width,k=a==="horizontal"||v==="horizontal",O=k?x:f,C=Math.max(0,h*g-O),M=Math.min(C,n*g),I=Math.max(0,n*g-O+g+s);switch(r==="smart"&&(i>=I-O&&i<=M+O?r="auto":r="center"),r){case"start":return M;case"end":return I;case"center":{var A=Math.round(I+(M-I)/2);return A<Math.ceil(O/2)?0:A>C+Math.floor(O/2)?C:A}case"auto":default:return i>=I&&i<=M?i:i<I?I:M}},getStartIndexForOffset:function(t,n){var r=t.itemCount,i=t.itemSize;return Math.max(0,Math.min(r-1,Math.floor(n/i)))},getStopIndexForStartIndex:function(t,n,r){var i=t.direction,o=t.height,s=t.itemCount,a=t.itemSize,f=t.layout,h=t.width,g=i==="horizontal"||f==="horizontal",v=n*a,x=g?h:o,k=Math.ceil((x+r-v)/a);return Math.max(0,Math.min(s-1,n+k-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});let Os;typeof window<"u"?Os=window:typeof self<"u"?Os=self:Os=global;let VA=null,WA=null;const CB=20,yP=Os.clearTimeout,TB=Os.setTimeout,vP=Os.cancelAnimationFrame||Os.mozCancelAnimationFrame||Os.webkitCancelAnimationFrame,kB=Os.requestAnimationFrame||Os.mozRequestAnimationFrame||Os.webkitRequestAnimationFrame;vP==null||kB==null?(VA=yP,WA=function(t){return TB(t,CB)}):(VA=function([t,n]){vP(t),yP(n)},WA=function(t){const n=kB(function(){yP(r),t()}),r=TB(function(){vP(n),t()},CB);return[n,r]});function yEe(e){let t,n,r,i,o,s,a;const f=typeof document<"u"&&document.attachEvent;if(!f){s=function(I){const A=I.__resizeTriggers__,P=A.firstElementChild,$=A.lastElementChild,z=P.firstElementChild;$.scrollLeft=$.scrollWidth,$.scrollTop=$.scrollHeight,z.style.width=P.offsetWidth+1+"px",z.style.height=P.offsetHeight+1+"px",P.scrollLeft=P.scrollWidth,P.scrollTop=P.scrollHeight},o=function(I){return I.offsetWidth!==I.__resizeLast__.width||I.offsetHeight!==I.__resizeLast__.height},a=function(I){if(I.target.className&&typeof I.target.className.indexOf=="function"&&I.target.className.indexOf("contract-trigger")<0&&I.target.className.indexOf("expand-trigger")<0)return;const A=this;s(this),this.__resizeRAF__&&VA(this.__resizeRAF__),this.__resizeRAF__=WA(function(){o(A)&&(A.__resizeLast__.width=A.offsetWidth,A.__resizeLast__.height=A.offsetHeight,A.__resizeListeners__.forEach(function(z){z.call(A,I)}))})};let x=!1,k="";r="animationstart";const O="Webkit Moz O ms".split(" ");let C="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),M="";{const I=document.createElement("fakeelement");if(I.style.animationName!==void 0&&(x=!0),x===!1){for(let A=0;A<O.length;A++)if(I.style[O[A]+"AnimationName"]!==void 0){M=O[A],k="-"+M.toLowerCase()+"-",r=C[A],x=!0;break}}}n="resizeanim",t="@"+k+"keyframes "+n+" { from { opacity: 0; } to { opacity: 0; } } ",i=k+"animation: 1ms "+n+"; "}const h=function(x){if(!x.getElementById("detectElementResize")){const k=(t||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',O=x.head||x.getElementsByTagName("head")[0],C=x.createElement("style");C.id="detectElementResize",C.type="text/css",e!=null&&C.setAttribute("nonce",e),C.styleSheet?C.styleSheet.cssText=k:C.appendChild(x.createTextNode(k)),O.appendChild(C)}};return{addResizeListener:function(x,k){if(f)x.attachEvent("onresize",k);else{if(!x.__resizeTriggers__){const O=x.ownerDocument,C=Os.getComputedStyle(x);C&&C.position==="static"&&(x.style.position="relative"),h(O),x.__resizeLast__={},x.__resizeListeners__=[],(x.__resizeTriggers__=O.createElement("div")).className="resize-triggers";const M=O.createElement("div");M.className="expand-trigger",M.appendChild(O.createElement("div"));const I=O.createElement("div");I.className="contract-trigger",x.__resizeTriggers__.appendChild(M),x.__resizeTriggers__.appendChild(I),x.appendChild(x.__resizeTriggers__),s(x),x.addEventListener("scroll",a,!0),r&&(x.__resizeTriggers__.__animationListener__=function(P){P.animationName===n&&s(x)},x.__resizeTriggers__.addEventListener(r,x.__resizeTriggers__.__animationListener__))}x.__resizeListeners__.push(k)}},removeResizeListener:function(x,k){if(f)x.detachEvent("onresize",k);else if(x.__resizeListeners__.splice(x.__resizeListeners__.indexOf(k),1),!x.__resizeListeners__.length){x.removeEventListener("scroll",a,!0),x.__resizeTriggers__.__animationListener__&&(x.__resizeTriggers__.removeEventListener(r,x.__resizeTriggers__.__animationListener__),x.__resizeTriggers__.__animationListener__=null);try{x.__resizeTriggers__=!x.removeChild(x.__resizeTriggers__)}catch{}}}}}class vEe extends V.Component{constructor(...t){super(...t),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:n,disableWidth:r,onResize:i}=this.props;if(this._parentNode){var o,s,a,f;const h=window.getComputedStyle(this._parentNode)||{},g=parseFloat((o=h.paddingLeft)!==null&&o!==void 0?o:"0"),v=parseFloat((s=h.paddingRight)!==null&&s!==void 0?s:"0"),x=parseFloat((a=h.paddingTop)!==null&&a!==void 0?a:"0"),k=parseFloat((f=h.paddingBottom)!==null&&f!==void 0?f:"0"),O=this._parentNode.getBoundingClientRect(),C=O.height-x-k,M=O.width-g-v,I=this._parentNode.offsetHeight-x-k,A=this._parentNode.offsetWidth-g-v;(!n&&(this.state.height!==I||this.state.scaledHeight!==C)||!r&&(this.state.width!==A||this.state.scaledWidth!==M))&&(this.setState({height:I,width:A,scaledHeight:C,scaledWidth:M}),typeof i=="function"&&i({height:I,scaledHeight:C,scaledWidth:M,width:A}))}},this._setRef=n=>{this._autoSizer=n}}componentDidMount(){const{nonce:t}=this.props;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._parentNode!=null&&(typeof ResizeObserver<"u"?(this._resizeObserver=new ResizeObserver(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(this._parentNode)):(this._detectElementResize=yEe(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize)),this._onResize()))}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&(this._resizeObserver.observe(this._parentNode),this._resizeObserver.disconnect()))}render(){const{children:t,defaultHeight:n,defaultWidth:r,disableHeight:i=!1,disableWidth:o=!1,nonce:s,onResize:a,style:f={},tagName:h="div",...g}=this.props,{height:v,scaledHeight:x,scaledWidth:k,width:O}=this.state,C={overflow:"visible"},M={};let I=!1;return i||(v===0&&(I=!0),C.height=0,M.height=v,M.scaledHeight=x),o||(O===0&&(I=!0),C.width=0,M.width=O,M.scaledWidth=k),V.createElement(h,{ref:this._setRef,style:{...C,...f},...g},!I&&t(M))}}var gD={},bEe=dr;Object.defineProperty(gD,"__esModule",{value:!0});var IG=gD.default=void 0,xEe=bEe(fr()),_Ee=B,wEe=(0,xEe.default)((0,_Ee.jsx)("path",{d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"}),"BatteryFull");IG=gD.default=wEe;var yD={},SEe=dr;Object.defineProperty(yD,"__esModule",{value:!0});var $G=yD.default=void 0,EEe=SEe(fr()),CEe=B,TEe=(0,EEe.default)((0,CEe.jsx)("path",{d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4zM11 20v-5.5H9L13 7v5.5h2L11 20z"}),"BatteryChargingFull");$G=yD.default=TEe;var vD={},kEe=dr;Object.defineProperty(vD,"__esModule",{value:!0});var RG=vD.default=void 0,PEe=AEe(V),OEe=kEe(fr()),bP=B;function DG(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(DG=function(r){return r?n:t})(e)}function AEe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=DG(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var MEe=(0,OEe.default)((0,bP.jsxs)(PEe.Fragment,{children:[(0,bP.jsx)("path",{fillOpacity:".3",d:"M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V11h10V5.33z"}),(0,bP.jsx)("path",{d:"M7 11v9.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V11H7z"})]}),"Battery60");RG=vD.default=MEe;var bD={},IEe=dr;Object.defineProperty(bD,"__esModule",{value:!0});var LG=bD.default=void 0,$Ee=DEe(V),REe=IEe(fr()),xP=B;function NG(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(NG=function(r){return r?n:t})(e)}function DEe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=NG(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var LEe=(0,REe.default)((0,xP.jsxs)($Ee.Fragment,{children:[(0,xP.jsx)("path",{fillOpacity:".3",d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V11h3.87L13 7v4h4V5.33C17 4.6 16.4 4 15.67 4z"}),(0,xP.jsx)("path",{d:"M13 12.5h2L11 20v-5.5H9l1.87-3.5H7v9.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V11h-4v1.5z"})]}),"BatteryCharging60");LG=bD.default=LEe;var xD={},NEe=dr;Object.defineProperty(xD,"__esModule",{value:!0});var zG=xD.default=void 0,zEe=BEe(V),jEe=NEe(fr()),_P=B;function jG(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(jG=function(r){return r?n:t})(e)}function BEe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=jG(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var FEe=(0,jEe.default)((0,_P.jsxs)(zEe.Fragment,{children:[(0,_P.jsx)("path",{d:"M7 17v3.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V17H7z"}),(0,_P.jsx)("path",{fillOpacity:".3",d:"M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V17h10V5.33z"})]}),"Battery20");zG=xD.default=FEe;var _D={},UEe=dr;Object.defineProperty(_D,"__esModule",{value:!0});var BG=_D.default=void 0,VEe=qEe(V),WEe=UEe(fr()),wP=B;function FG(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(FG=function(r){return r?n:t})(e)}function qEe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=FG(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var GEe=(0,WEe.default)((0,wP.jsxs)(VEe.Fragment,{children:[(0,wP.jsx)("path",{d:"M11 20v-3H7v3.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V17h-4.4L11 20z"}),(0,wP.jsx)("path",{fillOpacity:".3",d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V17h4v-2.5H9L13 7v5.5h2L12.6 17H17V5.33C17 4.6 16.4 4 15.67 4z"})]}),"BatteryCharging20");BG=_D.default=GEe;var wD={},HEe=dr;Object.defineProperty(wD,"__esModule",{value:!0});var UG=wD.default=void 0,YEe=HEe(fr()),KEe=B,ZEe=(0,YEe.default)((0,KEe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");UG=wD.default=ZEe;const PB=e=>V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",...e},V.createElement("title",null,"Engine"),V.createElement("path",{fill:"currentColor",d:"M13.778 6.667v2.222h3.333v2.222h2.222v-2.222h3.333v-2.222h-8.889zM13.778 13.333c-0.3 0-0.579 0.121-0.79 0.321l-1.888 1.901h-2.878c-0.611 0-1.111 0.5-1.111 1.111v6.667c0 0.611 0.5 1.111 1.111 1.111h1.888l3.056 2.033c0.178 0.122 0.39 0.189 0.612 0.189h5.556c0.244 0 0.477-0.077 0.666-0.221l4.444-3.333c0.278-0.211 0.445-0.545 0.445-0.89v-7.778c0-0.611-0.5-1.111-1.111-1.111h-10zM27.111 14.444v6.667h2.222v-6.667h-2.222zM17.111 15.556v3.333h2.222l-3.333 5.556v-3.333h-2.222l3.333-5.556zM2.667 16.667v5.556h2.222v-5.556h-2.222z"})),XEe=Ti(e=>({icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},batteryText:{fontSize:"0.75rem",fontWeight:"normal",lineHeight:"0.875rem"},positive:{color:e.palette.colors.positive},medium:{color:e.palette.colors.medium},negative:{color:e.palette.colors.negative},neutral:{color:e.palette.colors.neutral}})),JEe={width:"25px",height:"25px",filter:"brightness(0) invert(1)"},SP={color:sl[500]},OB={color:_$[700]},EP={color:Rc[500]},QEe={color:Jl[500]},eCe=({data:e,index:t,style:n})=>{const r=XEe(),i=wl(),o=e[t],s=qn(h=>h.data.positions[o.id]),a=o.name,f=()=>{let h;return o.status==="online"||!o.lastUpdate?h=o.status:h=Mt(o.lastUpdate).fromNow(),B.jsxs(Pe.Fragment,{children:[s&&s.attributes.hasOwnProperty("landed_state")&&B.jsx(An,{component:"span",style:{fontSize:12},children:s.attributes.landed_state}),B.jsx(An,{component:"span",style:{fontSize:12},className:r[MG(o.status)],children:h})]})};return B.jsx("div",{style:n,children:B.jsxs(Jpe,{onClick:()=>i(ul.selectId(o.id)),disabled:o.disabled,children:[B.jsx(ime,{children:B.jsx(gde,{children:B.jsx("img",{style:JEe,src:$w[NW(o.category)],alt:""})})}),B.jsx(fme,{primary:a,primaryTypographyProps:{noWrap:!0},secondary:f(),secondaryTypographyProps:{noWrap:!0}}),s&&B.jsxs(B.Fragment,{children:[s.attributes.hasOwnProperty("ignition")&&B.jsx(Bp,{title:`positionIgnition: ${kG(s.attributes.ignition)}`,children:B.jsx(Jn,{size:"small",children:s.attributes.ignition?B.jsx(PB,{width:20,height:20,style:SP}):B.jsx(PB,{width:20,height:20,style:QEe})})}),s.hasOwnProperty("speed")&&B.jsx(Bp,{title:`speed: ${s.speed}`,children:B.jsx(Jn,{size:"small",children:B.jsxs("div",{style:{fontSize:"0.9rem"},children:[" V ",Math.round(s.speed),"m/s"]})})}),s.hasOwnProperty("altitude")&&B.jsx(Bp,{title:`altitude: ${Math.round(s.altitude)}`,children:B.jsx(Jn,{size:"small",children:B.jsxs("div",{style:{fontSize:"0.9rem"},children:["H ",Math.round(s.altitude),"m"]})})}),s.attributes.hasOwnProperty("batteryLevel")&&B.jsx(Bp,{title:`BatteryLevel: ${PG(s.attributes.batteryLevel)}`,children:B.jsx(Jn,{size:"small",children:s.attributes.batteryLevel>70?s.attributes.charge?B.jsx($G,{fontSize:"small",style:SP}):B.jsx(IG,{fontSize:"small",style:SP}):s.attributes.batteryLevel>30?s.attributes.charge?B.jsx(LG,{fontSize:"small",style:OB}):B.jsx(RG,{fontSize:"small",style:OB}):s.attributes.charge?B.jsx(BG,{fontSize:"small",style:EP}):B.jsx(zG,{fontSize:"small",style:EP})})}),s.attributes.hasOwnProperty("alarm")&&B.jsx(Bp,{title:`eventAlarm: ${AG(s.attributes.alarm)}`,children:B.jsx(Jn,{size:"small",children:B.jsx(UG,{fontSize:"small",style:EP})})})]})]},o.id)})},tCe=Ti(e=>({list:{maxHeight:"100%"},listInner:{position:"relative",margin:e.spacing(1.5,0)}})),VG=({devices:e})=>{const t=tCe();wl();const n=V.useRef(null);n.current&&(n.current.className=t.listInner);const[,r]=V.useState(Date.now());return V.useEffect(()=>{const i=setInterval(()=>r(Date.now()),6e4);return()=>{clearInterval(i)}},[]),B.jsx(vEe,{className:t.list,children:({height:i,width:o})=>B.jsx(gEe,{width:o,height:i,itemCount:e.length,itemData:e,itemSize:72,overscanCount:10,innerRef:n,children:eCe})})};var SD={exports:{}},WG={};function qG(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=qG(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function AB(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=qG(e))&&(r&&(r+=" "),r+=t);return r}const nCe=Object.freeze(Object.defineProperty({__proto__:null,clsx:AB,default:AB},Symbol.toStringTag,{value:"Module"})),rCe=IU(nCe);var pi={},fc={};Object.defineProperty(fc,"__esModule",{value:!0});fc.dontSetMe=lCe;fc.findInArray=iCe;fc.int=sCe;fc.isFunction=oCe;fc.isNum=aCe;function iCe(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function oCe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function aCe(e){return typeof e=="number"&&!isNaN(e)}function sCe(e){return parseInt(e,10)}function lCe(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var Ph={};Object.defineProperty(Ph,"__esModule",{value:!0});Ph.browserPrefixToKey=HG;Ph.browserPrefixToStyle=cCe;Ph.default=void 0;Ph.getPrefix=GG;const CP=["Moz","Webkit","O","ms"];function GG(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!n||t in n)return"";for(let r=0;r<CP.length;r++)if(HG(t,CP[r])in n)return CP[r];return""}function HG(e,t){return t?"".concat(t).concat(uCe(e)):e}function cCe(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function uCe(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}Ph.default=GG();Object.defineProperty(pi,"__esModule",{value:!0});pi.addClassName=ZG;pi.addEvent=hCe;pi.addUserSelectStyles=ECe;pi.createCSSTransform=xCe;pi.createSVGTransform=_Ce;pi.getTouch=wCe;pi.getTouchIdentifier=SCe;pi.getTranslation=ED;pi.innerHeight=yCe;pi.innerWidth=vCe;pi.matchesSelector=KG;pi.matchesSelectorAndParentsTo=fCe;pi.offsetXYFromParent=bCe;pi.outerHeight=mCe;pi.outerWidth=gCe;pi.removeClassName=XG;pi.removeEvent=pCe;pi.removeUserSelectStyles=CCe;var Ka=fc,MB=dCe(Ph);function YG(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(YG=function(r){return r?n:t})(e)}function dCe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=YG(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}let m1="";function KG(e,t){return m1||(m1=(0,Ka.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Ka.isFunction)(e[n])})),(0,Ka.isFunction)(e[m1])?e[m1](t):!1}function fCe(e,t,n){let r=e;do{if(KG(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function hCe(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function pCe(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function mCe(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Ka.int)(n.borderTopWidth),t+=(0,Ka.int)(n.borderBottomWidth),t}function gCe(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Ka.int)(n.borderLeftWidth),t+=(0,Ka.int)(n.borderRightWidth),t}function yCe(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Ka.int)(n.paddingTop),t-=(0,Ka.int)(n.paddingBottom),t}function vCe(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Ka.int)(n.paddingLeft),t-=(0,Ka.int)(n.paddingRight),t}function bCe(e,t,n){const i=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-i.left)/n,s=(e.clientY+t.scrollTop-i.top)/n;return{x:o,y:s}}function xCe(e,t){const n=ED(e,t,"px");return{[(0,MB.browserPrefixToKey)("transform",MB.default)]:n}}function _Ce(e,t){return ED(e,t,"")}function ED(e,t,n){let{x:r,y:i}=e,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){const s="".concat(typeof t.x=="string"?t.x:t.x+n),a="".concat(typeof t.y=="string"?t.y:t.y+n);o="translate(".concat(s,", ").concat(a,")")+o}return o}function wCe(e,t){return e.targetTouches&&(0,Ka.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,Ka.findInArray)(e.changedTouches,n=>t===n.identifier)}function SCe(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function ECe(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&ZG(e.body,"react-draggable-transparent-selection")}function CCe(e){if(e)try{if(e.body&&XG(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function ZG(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function XG(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var hc={};Object.defineProperty(hc,"__esModule",{value:!0});hc.canDragX=PCe;hc.canDragY=OCe;hc.createCoreData=MCe;hc.createDraggableData=ICe;hc.getBoundPosition=TCe;hc.getControlPosition=ACe;hc.snapToGrid=kCe;var Na=fc,cm=pi;function TCe(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:r}=e.props;r=typeof r=="string"?r:$Ce(r);const i=CD(e);if(typeof r=="string"){const{ownerDocument:o}=i,s=o.defaultView;let a;if(r==="parent"?a=i.parentNode:a=o.querySelector(r),!(a instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const f=a,h=s.getComputedStyle(i),g=s.getComputedStyle(f);r={left:-i.offsetLeft+(0,Na.int)(g.paddingLeft)+(0,Na.int)(h.marginLeft),top:-i.offsetTop+(0,Na.int)(g.paddingTop)+(0,Na.int)(h.marginTop),right:(0,cm.innerWidth)(f)-(0,cm.outerWidth)(i)-i.offsetLeft+(0,Na.int)(g.paddingRight)-(0,Na.int)(h.marginRight),bottom:(0,cm.innerHeight)(f)-(0,cm.outerHeight)(i)-i.offsetTop+(0,Na.int)(g.paddingBottom)-(0,Na.int)(h.marginBottom)}}return(0,Na.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,Na.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Na.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,Na.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function kCe(e,t,n){const r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]}function PCe(e){return e.props.axis==="both"||e.props.axis==="x"}function OCe(e){return e.props.axis==="both"||e.props.axis==="y"}function ACe(e,t,n){const r=typeof t=="number"?(0,cm.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;const i=CD(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,cm.offsetXYFromParent)(r||e,o,n.props.scale)}function MCe(e,t,n){const r=!(0,Na.isNum)(e.lastX),i=CD(e);return r?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function ICe(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function $Ce(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function CD(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var qE={},GE={};Object.defineProperty(GE,"__esModule",{value:!0});GE.default=RCe;function RCe(){}Object.defineProperty(qE,"__esModule",{value:!0});qE.default=void 0;var TP=LCe(V),ya=TD(S$),DCe=TD(lc),Io=pi,Uu=hc,kP=fc,Mv=TD(GE);function TD(e){return e&&e.__esModule?e:{default:e}}function JG(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(JG=function(r){return r?n:t})(e)}function LCe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=JG(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function oa(e,t,n){return t=NCe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NCe(e){var t=zCe(e,"string");return typeof t=="symbol"?t:String(t)}function zCe(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const tl={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Vu=tl.mouse,HE=class extends TP.Component{constructor(){super(...arguments),oa(this,"dragging",!1),oa(this,"lastX",NaN),oa(this,"lastY",NaN),oa(this,"touchIdentifier",null),oa(this,"mounted",!1),oa(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(t.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Io.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,Io.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&t.preventDefault();const i=(0,Io.getTouchIdentifier)(t);this.touchIdentifier=i;const o=(0,Uu.getControlPosition)(t,i,this);if(o==null)return;const{x:s,y:a}=o,f=(0,Uu.createCoreData)(this,s,a);(0,Mv.default)("DraggableCore: handleDragStart: %j",f),(0,Mv.default)("calling",this.props.onStart),!(this.props.onStart(t,f)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Io.addUserSelectStyles)(r),this.dragging=!0,this.lastX=s,this.lastY=a,(0,Io.addEvent)(r,Vu.move,this.handleDrag),(0,Io.addEvent)(r,Vu.stop,this.handleDragStop))}),oa(this,"handleDrag",t=>{const n=(0,Uu.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,f=i-this.lastY;if([a,f]=(0,Uu.snapToGrid)(this.props.grid,a,f),!a&&!f)return;r=this.lastX+a,i=this.lastY+f}const o=(0,Uu.createCoreData)(this,r,i);if((0,Mv.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(t,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(f)}return}this.lastX=r,this.lastY=i}),oa(this,"handleDragStop",t=>{if(!this.dragging)return;const n=(0,Uu.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let f=r-this.lastX||0,h=i-this.lastY||0;[f,h]=(0,Uu.snapToGrid)(this.props.grid,f,h),r=this.lastX+f,i=this.lastY+h}const o=(0,Uu.createCoreData)(this,r,i);if(this.props.onStop(t,o)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,Io.removeUserSelectStyles)(a.ownerDocument),(0,Mv.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,Mv.default)("DraggableCore: Removing handlers"),(0,Io.removeEvent)(a.ownerDocument,Vu.move,this.handleDrag),(0,Io.removeEvent)(a.ownerDocument,Vu.stop,this.handleDragStop))}),oa(this,"onMouseDown",t=>(Vu=tl.mouse,this.handleDragStart(t))),oa(this,"onMouseUp",t=>(Vu=tl.mouse,this.handleDragStop(t))),oa(this,"onTouchStart",t=>(Vu=tl.touch,this.handleDragStart(t))),oa(this,"onTouchEnd",t=>(Vu=tl.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,Io.addEvent)(t,tl.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:n}=t;(0,Io.removeEvent)(n,tl.mouse.move,this.handleDrag),(0,Io.removeEvent)(n,tl.touch.move,this.handleDrag),(0,Io.removeEvent)(n,tl.mouse.stop,this.handleDragStop),(0,Io.removeEvent)(n,tl.touch.stop,this.handleDragStop),(0,Io.removeEvent)(t,tl.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Io.removeUserSelectStyles)(n)}}findDOMNode(){var t,n;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:DCe.default.findDOMNode(this)}render(){return TP.cloneElement(TP.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};qE.default=HE;oa(HE,"displayName","DraggableCore");oa(HE,"propTypes",{allowAnyClick:ya.default.bool,children:ya.default.node.isRequired,disabled:ya.default.bool,enableUserSelectHack:ya.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:ya.default.arrayOf(ya.default.number),handle:ya.default.string,cancel:ya.default.string,nodeRef:ya.default.object,onStart:ya.default.func,onDrag:ya.default.func,onStop:ya.default.func,onMouseDown:ya.default.func,scale:ya.default.number,className:kP.dontSetMe,style:kP.dontSetMe,transform:kP.dontSetMe});oa(HE,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),e.default=void 0;var t=x(V),n=g(S$),r=g(lc),i=g(rCe),o=pi,s=hc,a=fc,f=g(qE),h=g(GE);function g(A){return A&&A.__esModule?A:{default:A}}function v(A){if(typeof WeakMap!="function")return null;var P=new WeakMap,$=new WeakMap;return(v=function(z){return z?$:P})(A)}function x(A,P){if(!P&&A&&A.__esModule)return A;if(A===null||typeof A!="object"&&typeof A!="function")return{default:A};var $=v(P);if($&&$.has(A))return $.get(A);var z={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in A)if(F!=="default"&&Object.prototype.hasOwnProperty.call(A,F)){var G=N?Object.getOwnPropertyDescriptor(A,F):null;G&&(G.get||G.set)?Object.defineProperty(z,F,G):z[F]=A[F]}return z.default=A,$&&$.set(A,z),z}function k(){return k=Object.assign?Object.assign.bind():function(A){for(var P=1;P<arguments.length;P++){var $=arguments[P];for(var z in $)Object.prototype.hasOwnProperty.call($,z)&&(A[z]=$[z])}return A},k.apply(this,arguments)}function O(A,P,$){return P=C(P),P in A?Object.defineProperty(A,P,{value:$,enumerable:!0,configurable:!0,writable:!0}):A[P]=$,A}function C(A){var P=M(A,"string");return typeof P=="symbol"?P:String(P)}function M(A,P){if(typeof A!="object"||A===null)return A;var $=A[Symbol.toPrimitive];if($!==void 0){var z=$.call(A,P||"default");if(typeof z!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(A)}class I extends t.Component{static getDerivedStateFromProps(P,$){let{position:z}=P,{prevPropsPosition:N}=$;return z&&(!N||z.x!==N.x||z.y!==N.y)?((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:z,prevPropsPosition:N}),{x:z.x,y:z.y,prevPropsPosition:{...z}}):null}constructor(P){super(P),O(this,"onDragStart",($,z)=>{if((0,h.default)("Draggable: onDragStart: %j",z),this.props.onStart($,(0,s.createDraggableData)(this,z))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),O(this,"onDrag",($,z)=>{if(!this.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",z);const N=(0,s.createDraggableData)(this,z),F={x:N.x,y:N.y,slackX:0,slackY:0};if(this.props.bounds){const{x:J,y:ee}=F;F.x+=this.state.slackX,F.y+=this.state.slackY;const[ae,pe]=(0,s.getBoundPosition)(this,F.x,F.y);F.x=ae,F.y=pe,F.slackX=this.state.slackX+(J-F.x),F.slackY=this.state.slackY+(ee-F.y),N.x=F.x,N.y=F.y,N.deltaX=F.x-this.state.x,N.deltaY=F.y-this.state.y}if(this.props.onDrag($,N)===!1)return!1;this.setState(F)}),O(this,"onDragStop",($,z)=>{if(!this.state.dragging||this.props.onStop($,(0,s.createDraggableData)(this,z))===!1)return!1;(0,h.default)("Draggable: onDragStop: %j",z);const F={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:J,y:ee}=this.props.position;F.x=J,F.y=ee}this.setState(F)}),this.state={dragging:!1,dragged:!1,x:P.position?P.position.x:P.defaultPosition.x,y:P.position?P.position.y:P.defaultPosition.y,prevPropsPosition:{...P.position},slackX:0,slackY:0,isElementSVG:!1},P.position&&!(P.onDrag||P.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var P,$;return(P=($=this.props)===null||$===void 0||($=$.nodeRef)===null||$===void 0?void 0:$.current)!==null&&P!==void 0?P:r.default.findDOMNode(this)}render(){const{axis:P,bounds:$,children:z,defaultPosition:N,defaultClassName:F,defaultClassNameDragging:G,defaultClassNameDragged:J,position:ee,positionOffset:ae,scale:pe,...ye}=this.props;let we={},Ee=null;const Ce=!!!ee||this.state.dragging,Se=ee||N,De={x:(0,s.canDragX)(this)&&Ce?this.state.x:Se.x,y:(0,s.canDragY)(this)&&Ce?this.state.y:Se.y};this.state.isElementSVG?Ee=(0,o.createSVGTransform)(De,ae):we=(0,o.createCSSTransform)(De,ae);const We=(0,i.default)(z.props.className||"",F,{[G]:this.state.dragging,[J]:this.state.dragged});return t.createElement(f.default,k({},ye,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(z),{className:We,style:{...z.props.style,...we},transform:Ee}))}}e.default=I,O(I,"displayName","Draggable"),O(I,"propTypes",{...f.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),O(I,"defaultProps",{...f.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(WG);const{default:QG,DraggableCore:jCe}=WG;SD.exports=QG;SD.exports.default=QG;SD.exports.DraggableCore=jCe;var kD={},BCe=dr;Object.defineProperty(kD,"__esModule",{value:!0});var eH=kD.default=void 0,FCe=BCe(fr()),UCe=B,VCe=(0,FCe.default)((0,UCe.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay");eH=kD.default=VCe;var PD={},WCe=dr;Object.defineProperty(PD,"__esModule",{value:!0});var tH=PD.default=void 0,qCe=WCe(fr()),GCe=B,HCe=(0,qCe.default)((0,GCe.jsx)("path",{d:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"}),"Publish");tH=PD.default=HCe;var OD={},YCe=dr;Object.defineProperty(OD,"__esModule",{value:!0});var nH=OD.default=void 0,KCe=YCe(fr()),ZCe=B,XCe=(0,KCe.default)((0,ZCe.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");nH=OD.default=XCe;var AD={},JCe=dr;Object.defineProperty(AD,"__esModule",{value:!0});var rH=AD.default=void 0,QCe=JCe(fr()),eTe=B,tTe=(0,QCe.default)((0,eTe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7 13.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"Pending");rH=AD.default=tTe;const qA=({position:e,property:t,attribute:n})=>{const r=qn(x=>x.devices.items[e.deviceId]),i=t||n,o=t?e[t]:e.attributes[n],s="m",a="m",f="km/s",h="ddm",g=!1,v=()=>{switch(i){case"fixTime":case"deviceTime":case"serverTime":return OG(o,"seconds",g);case"latitude":return bB("latitude",o,h);case"longitude":return bB("longitude",o,h);case"speed":return tEe(o,f);case"course":return J2e(o);case"altitude":return eEe(o,a);case"batteryLevel":return PG(o);case"alarm":return AG(o);case"gimbal":return o.x.toFixed();case"odometer":case"distance":case"totalDistance":return Q2e(o,s);case"hours":return nEe(o);default:return typeof o=="number"?X2e(o):typeof o=="boolean"?kG(o):o||""}};switch(i){case"image":case"video":case"audio":return B.jsx(Npe,{href:`/api/media/${r.uniqueId}/${o}`,target:"_blank",children:o});case"totalDistance":case"hours":case"address":case"network":return"";default:return v()}},nTe=Ti(e=>({root:{[e.breakpoints.down("md")]:{bottom:`calc(${e.dimensions.bottomBarHeight}px + ${e.spacing(1)})`}},button:{height:"auto",marginTop:0,marginBottom:0,color:e.palette.colors.negative}})),rTe=({open:e,endpoint:t,itemId:n,onResult:r})=>{const i=nTe(),o=async()=>{(await fetch(`/api/${t}/${n}`,{method:"DELETE"})).ok?(console.log("elemento eliminado"),r(!0)):r(!1)};return B.jsx($ge,{className:i.root,open:e,autoHideDuration:2750,onClose:()=>r(!1),message:"confirmar para eliminar",action:B.jsx(wr,{size:"small",className:i.button,onClick:o,children:"Eliminar"})})},iH=Ti(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},media:{height:e.dimensions.popupImageHeight,display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},content:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},negative:{color:e.palette.colors.negative},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},table:{"& .MuiTableCell-sizeSmall":{paddingLeft:0,paddingRight:0}},cell:{borderBottom:"none"},actions:{justifyContent:"space-between"},root:({desktopPadding:t})=>({pointerEvents:"none",position:"fixed",zIndex:5,left:"50%",[e.breakpoints.up("md")]:{left:`calc(50% + ${t} / 2)`,bottom:e.spacing(3)},[e.breakpoints.down("md")]:{left:"50%",bottom:`calc(${e.spacing(3)} + ${e.dimensions.bottomBarHeight}px)`},transform:"translateX(-50%)"})})),PP=({name:e,content:t})=>{const n=iH();return B.jsxs(Em,{children:[B.jsx(mo,{className:n.card,children:B.jsx(An,{variant:"body2",children:e})}),B.jsx(mo,{className:n.cell,children:B.jsx(An,{variant:"body2",color:"textSecondary",children:t})})]})},iTe=({deviceId:e,position:t,onClose:n,disableActions:r,desktopPadding:i=0})=>{var I;const o=iH(),s=Cg(),a=wl(),f=qn(A=>A.devices.items[e]),h=(I=f==null?void 0:f.attributes)==null?void 0:I.deviceImage,g="speed,course,batteryLevel,gimbal",[v,x]=V.useState(null),[k,O]=V.useState(!1),C=async(A,P)=>{console.log("send command uavud: "+A+P);try{const $=await fetch("/api/commands/send",{method:"POST",body:JSON.stringify({deviceId:A,type:P}),headers:{"Content-Type":"application/json"}});if($.ok){let z=await $.json();console.log(z)}else throw console.log("Error1:"+$),Error(await $.text())}catch($){console.log("Error2:"+$)}},M=async A=>{if(A){const P=await fetch("/api/devices");if(P.ok){let $=await P.json();a(ul.refresh(Object.values($)))}else throw Error(await P.text())}O(!1)};return B.jsxs(B.Fragment,{children:[B.jsx("div",{className:o.root,children:f&&B.jsxs(Eh,{elevation:3,className:o.card,children:[h?B.jsx(Efe,{className:o.media,image:`/api/media/${f.uniqueId}/${h}`,children:B.jsx(Jn,{size:"small",onClick:n,onTouchStart:n,children:B.jsx(Dd,{fontSize:"small",className:o.mediaButton})})}):B.jsxs("div",{className:o.header,children:[B.jsx(An,{variant:"body2",color:"textSecondary",children:f.name}),B.jsx(Jn,{size:"small",onClick:n,onTouchStart:n,children:B.jsx(Dd,{fontSize:"small"})})]}),t&&B.jsx(L9,{className:o.content,children:B.jsx(aR,{size:"small",classes:{root:o.table},children:B.jsxs(sR,{children:[t.hasOwnProperty("latitude")&&B.jsx(PP,{name:"Position",content:B.jsx("a",{href:"https://www.google.com/maps?q="+t.latitude+","+t.longitude,target:"_blank",children:"["+t.latitude.toFixed(6)+","+t.longitude.toFixed(6)+"]"})},"latitude"),g.split(",").filter(A=>t.hasOwnProperty(A)||t.attributes.hasOwnProperty(A)).map(A=>B.jsx(PP,{name:A,content:B.jsx(qA,{position:t,property:t.hasOwnProperty(A)?A:null,attribute:t.hasOwnProperty(A)?null:A})},A)),t.attributes.hasOwnProperty("alarm")&&B.jsx(PP,{name:"Alarm "+t.attributes.alarm,content:B.jsxs("div",{style:{width:"100%"},children:[B.jsx(wr,{variant:"contained",size:"small",color:"primary",style:{margin:"1px",display:"inline-block"},onClick:()=>C(f.id,"threat"),children:"Validate"}),B.jsx(wr,{variant:"contained",size:"small",color:"secondary",style:{margin:"1px",display:"inline-block"},children:"Dismiss"})]})},"alarm1")]})})}),B.jsxs(dfe,{classes:{root:o.actions},disableSpacing:!0,children:[B.jsx(Jn,{color:"secondary",onClick:A=>x(A.currentTarget),disabled:!t,children:B.jsx(rH,{})}),B.jsx(Jn,{onClick:()=>C(f.id,"SincroniseFiles"),children:B.jsx(eH,{})}),B.jsx(Jn,{onClick:()=>C(f.id,"commandMission"),disabled:r,children:B.jsx(tH,{})}),B.jsx(Jn,{children:B.jsx(nH,{})}),B.jsx(Jn,{onClick:()=>O(!0),className:o.negative,children:B.jsx(xh,{})})]})]})}),t&&B.jsxs(H9,{anchorEl:v,open:!!v,onClose:()=>x(null),children:[B.jsx(hl,{onClick:()=>s(`/device/${e}`),children:B.jsx(An,{color:"secondary",children:"Detalle Dispositivo"})}),B.jsx(hl,{component:"a",target:"_blank",href:`https://www.google.com/maps/search/?api=1&query=${t.latitude}%2C${t.longitude}`,children:"linkGoogleMaps"}),B.jsx(hl,{component:"a",target:"_blank",href:`http://maps.apple.com/?ll=${t.latitude},${t.longitude}`,children:"linkAppleMaps"}),B.jsx(hl,{component:"a",target:"_blank",href:`https://www.google.com/maps/@?api=1&map_action=pano&viewpoint=${t.latitude}%2C${t.longitude}&heading=${t.course}`,children:"linkStreetView"})]}),B.jsx(rTe,{open:k,endpoint:"devices",itemId:e,onResult:A=>M(A)})]})};function oTe(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var aTe=`/* add css styles here (optional) */

.styles_ReactSwipeButton__2WML2 {
  float: left;
  width: 100%;
  height: 50px;
  position: relative;
}
.styles_ReactSwipeButton__2WML2,
.styles_ReactSwipeButton__2WML2 * {
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none;   /* Chrome/Safari/Opera */
  -khtml-user-select: none;    /* Konqueror */
  -moz-user-select: none;      /* Firefox */
  -ms-user-select: none;       /* Internet Explorer/Edge */
  user-select: none;           /* Non-prefixed version, currently
                                  not supported by any browser */
}
.styles_rsbContainer__KXpXK{
  float: left;
  width: 100%;
  height: 100%;
  background: #eee;
  border-radius: 50px;
  position: relative;
  /* box-shadow: inset 1px 1px 4px rgba(0,0,0,0.1); */
  overflow: hidden;
}
.styles_rsbContainerUnlocked__1T0vd{
  width: 50%!important;
  margin-left: 25%;
  transition: 0.5s;
  cursor: default;
}
.styles_rsbContainerUnlocked__1T0vd .styles_rsbcSlider__1yYxD{
  left: 100%!important;
  cursor: default;
  pointer-events: none;
}
.styles_rsbContainerUnlocked__1T0vd .styles_rsbcSliderArrow__2D9q4 {
  transition: 0.5s;
  margin-right: -60px;
}
.styles_rsbContainerUnlocked__1T0vd .styles_rsbcSliderCircle__3G0Zs {
  transition: 0.5s;
  margin-right: -60px;
}
.styles_rsbcSlider__1yYxD {
  float: left;
  width: 100%;
  position: absolute;
  height: 50px;
  top:0;
  left: 50px;
  margin-left:-100%;
  background: #333;
  border-radius: 25px;
  z-index: 100;
  /* box-shadow: 1px 1px 5px rgba(0,0,0,0.3); */
  cursor: pointer;
}
.styles_rsbcSliderText__3h08j{
  position: absolute;
  top:0;
  left:0;
  right:0;
  line-height: 50px;
  text-align: center;
  font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
  letter-spacing: 2px;
  color: #fff;
  font-size: 13px;

}
.styles_rsbcSliderArrow__2D9q4{
  float: left;
  position: absolute;
  transform: rotate(45deg);
  border: 2px solid #fff;
  height: 8px;
  width: 8px;
  top:50%;
  right: 22px;
  margin-top: -6px;
  border-left-color: transparent;
  border-bottom-color: transparent;
  transform-origin: center;
  z-index: 10;
}
.styles_rsbcSliderCircle__3G0Zs {
  position: absolute;
  right: 0;
  background: #444;
  top:0;
  height: 50px;
  width: 50px;
  border-radius: 100%;
}
.styles_rsbcText__16wA0 {
  float: left;
  position: absolute;
  top:0;
  left:0;
  right:0;
  height: 50px;
  line-height: 50px;
  text-align: center;
  font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
  letter-spacing: 2px;
  font-size: 13px;
  color: #aaa;
}`,Wu={ReactSwipeButton:"styles_ReactSwipeButton__2WML2",rsbContainer:"styles_rsbContainer__KXpXK",rsbContainerUnlocked:"styles_rsbContainerUnlocked__1T0vd",rsbcSlider:"styles_rsbcSlider__1yYxD",rsbcSliderArrow:"styles_rsbcSliderArrow__2D9q4",rsbcSliderCircle:"styles_rsbcSliderCircle__3G0Zs",rsbcSliderText:"styles_rsbcSliderText__3h08j",rsbcText:"styles_rsbcText__16wA0"};oTe(aTe);var sTe=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},lTe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),cTe=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},IB=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},$B=Pe.createRef(),g1=Pe.createRef(),OP="ontouchstart"in document.documentElement,uTe=function(e){cTe(t,e);function t(){var n,r,i,o;sTe(this,t);for(var s=arguments.length,a=Array(s),f=0;f<s;f++)a[f]=arguments[f];return o=(r=(i=IB(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(a))),i),i.isDragging=!1,i.sliderLeft=0,i.state={},i.onDrag=function(h){i.unmounted||i.state.unlocked||i.isDragging&&(OP?i.sliderLeft=Math.min(Math.max(0,h.touches[0].clientX-i.startX),i.containerWidth):i.sliderLeft=Math.min(Math.max(0,h.clientX-i.startX),i.containerWidth),i.updateSliderStyle())},i.updateSliderStyle=function(){i.unmounted||i.state.unlocked||($B.current.style.left=i.sliderLeft+50+"px")},i.stopDrag=function(){i.unmounted||i.state.unlocked||i.isDragging&&(i.isDragging=!1,i.sliderLeft>i.containerWidth*.9?(i.sliderLeft=i.containerWidth,i.onSuccess(),i.props.onSuccess&&i.props.onSuccess()):(i.sliderLeft=0,i.props.onFailure&&i.props.onFailure()),i.updateSliderStyle())},i.startDrag=function(h){i.unmounted||i.state.unlocked||(i.isDragging=!0,OP?i.startX=h.touches[0].clientX:i.startX=h.clientX)},i.onSuccess=function(){g1.current.style.width=g1.current.clientWidth+"px",i.setState({unlocked:!0})},i.getText=function(){return i.state.unlocked?i.props.text_unlocked||"UNLOCKED":i.props.text||"SLIDE"},i.reset=function(){i.unmounted||i.setState({unlocked:!1},function(){i.sliderLeft=0,i.updateSliderStyle()})},r),IB(i,o)}return lTe(t,[{key:"componentDidMount",value:function(){OP?(document.addEventListener("touchmove",this.onDrag),document.addEventListener("touchend",this.stopDrag)):(document.addEventListener("mousemove",this.onDrag),document.addEventListener("mouseup",this.stopDrag)),this.containerWidth=g1.current.clientWidth-50}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){return Pe.createElement("div",{className:Wu.ReactSwipeButton},Pe.createElement("div",{className:Wu.rsbContainer+" "+(this.state.unlocked?Wu.rsbContainerUnlocked:""),ref:g1},Pe.createElement("div",{className:Wu.rsbcSlider,ref:$B,onMouseDown:this.startDrag,style:{background:this.props.color},onTouchStart:this.startDrag},Pe.createElement("span",{className:Wu.rsbcSliderText},this.getText()),Pe.createElement("span",{className:Wu.rsbcSliderArrow}),Pe.createElement("span",{className:Wu.rsbcSliderCircle,style:{background:this.props.color}})),Pe.createElement("div",{className:Wu.rsbcText},this.getText())))}}]),t}(V.Component);const dTe=Ti(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},media:{height:e.dimensions.popupImageHeight,display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},content:{paddingTop:"50px",paddingBottom:"50px"},negative:{color:e.palette.colors.negative},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},table:{"& .MuiTableCell-sizeSmall":{paddingLeft:0,paddingRight:0}},cell:{borderBottom:"none"},actions:{justifyContent:"space-between"},root:({desktopPadding:t})=>({pointerEvents:"none",position:"fixed",zIndex:5,left:"50%",[e.breakpoints.up("md")]:{left:`calc(50% + ${t} / 2)`,bottom:e.spacing(3)},[e.breakpoints.down("md")]:{left:"50%",bottom:`calc(${e.spacing(3)} + ${e.dimensions.bottomBarHeight}px)`},transform:"translateX(-50%)"})})),fTe=({enable:e,onClose:t,onSucces:n})=>{const r=dTe();return B.jsx(B.Fragment,{children:B.jsx("div",{className:r.root,children:e&&B.jsxs(Eh,{elevation:5,className:r.card,children:[B.jsxs("div",{className:r.header,children:[B.jsx(An,{variant:"body2",color:"textSecondary",children:"Confirm mission"}),B.jsx(Jn,{size:"small",onClick:t,onTouchStart:t,children:B.jsx(Dd,{fontSize:"small"})})]}),B.jsxs(L9,{className:r.content,children:[B.jsx(An,{variant:"body1",color:"textSecondary",children:"Send all devices to command the mission load"}),B.jsx(uTe,{text:"Slide to Command Mission",color:"#7393B3",text_unlocked:"Commanded",onSuccess:n})]})]})})})};var MD={},hTe=dr;Object.defineProperty(MD,"__esModule",{value:!0});var oH=MD.default=void 0,pTe=hTe(fr()),mTe=B,gTe=(0,pTe.default)((0,mTe.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");oH=MD.default=gTe;var ID={},yTe=dr;Object.defineProperty(ID,"__esModule",{value:!0});var aH=ID.default=void 0,vTe=yTe(fr()),bTe=B,xTe=(0,vTe.default)((0,bTe.jsx)("path",{d:"M3 14h4v-4H3v4zm0 5h4v-4H3v4zM3 9h4V5H3v4zm5 5h13v-4H8v4zm0 5h13v-4H8v4zM8 5v4h13V5H8z"}),"ViewList");aH=ID.default=xTe;var $D={},_Te=dr;Object.defineProperty($D,"__esModule",{value:!0});var sH=$D.default=void 0,wTe=_Te(fr()),STe=B,ETe=(0,wTe.default)((0,STe.jsx)("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"}),"Tune");sH=$D.default=ETe;const CTe={display:"flex",gap:"10px 10px",height:"30px",borderBottom:"3px solid rgb(212, 212, 212)"},lH=({SetAddUAVOpen:e})=>B.jsxs(ax,{style:CTe,children:[B.jsx(Jn,{edge:"start",children:B.jsx(aH,{})}),B.jsx(iR,{placeholder:"device",endAdornment:B.jsx(_pe,{position:"end",children:B.jsx(Jn,{size:"small",edge:"end",children:B.jsx(Rde,{color:"info",variant:"dot",children:B.jsx(sH,{fontSize:"small"})})})}),size:"small",fullWidth:!0}),B.jsx(Jn,{edge:"end",onClick:()=>{e(!0)},children:B.jsx(Bp,{children:B.jsx(oH,{})})})]}),TTe=Ti(e=>({card:{pointerEvents:"auto"},media:{width:e.dimensions.popupMaxWidth,display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},media1:{width:"95vw",height:"90vh",display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},gruopBtn:{display:"flex",right:"5px",height:"40px",position:"absolute"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},tittle:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"360px",top:e.spacing(15),transform:"translateX(1%)"},root_max:{pointerEvents:"none",position:"fixed",zIndex:6,left:"51%",top:"5%",transform:"translateX(-50%)"}})),RB=({deviceId:e,deviceIp:t,camera_src:n,onClose:r})=>{const i=TTe();qn(O=>O.data.camera[e]);const o=qn(O=>O.devices.items[e]),s="http://"+t+":8889/"+n,[a,f]=V.useState(!1);let h=i.card,g=a?i.root_max:i.root,v=a?i.media1:i.media;function x(){f(!a)}V.useRef();function k(){r(),f(!1)}return V.useEffect(()=>{e&&console.log("device in camera-"+o.name+"-"+t+"+"+n)},[e]),B.jsx("div",{className:g,children:o&&B.jsxs(Eh,{elevation:3,className:h,children:[B.jsxs("div",{className:i.gruopBtn,children:[B.jsx(Jn,{size:"small",onClick:x,onTouchStart:x,children:B.jsx(KR,{fontSize:"small",className:i.mediaButton})}),B.jsx(Jn,{size:"small",onClick:k,children:B.jsx(Dd,{fontSize:"small",className:i.mediaButton})})]}),B.jsx("div",{className:i.tittle,children:"Image "+o.name}),B.jsx("iframe",{src:s,className:v})]})})},kTe=Ti(e=>({root:{height:"100%"},sidebarStyle:{pointerEvents:"none",display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 88px)",width:"360px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},contentListStyle:{pointerEvents:"auto",gridArea:"1 / 1",zIndex:4}})),PTe=()=>{const e=kTe(),t=wl(),n=du(),r=qn(Ce=>Ce.devices.items),i=qn(Ce=>Ce.data.positions),o=qn(Ce=>Ce.data.camera),s=qn(Ce=>Ce.devices.selectedId),a=qn(Ce=>Ce.session.markers),[f,h]=V.useState([]),[g,v]=V.useState([]),[x,k]=V.useState([]),[O,C]=V.useState(),[M,I]=V.useState(),[A,P]=V.useState(),[$,z]=V.useState(),N=`${window.location.hostname}`,F=f.find(Ce=>s&&Ce.deviceId===s),G=x.find(Ce=>s&&Ce.deviceId==s);let J=Object.values(r);V.useContext(Rd);const[ee,ae]=V.useState(!1),[pe,ye]=V.useState([]);let we=null;const Ee=(Ce,Se)=>{switch(Ce){case"success":we={id:pe.length+1,title:"Success",description:Se,backgroundColor:"#5cb85c"};break;case"danger":we={id:pe.length+1,title:"Danger",description:Se,backgroundColor:"#d9534f"};break;case"info":we={id:pe.length+1,title:"Info",description:Se,backgroundColor:"#5bc0de"};break;case"warning":we={id:pe.length+1,title:"Warning",description:Se,backgroundColor:"#f0ad4e"};break;default:we=[]}ye([...pe,we])},Oe=V.useCallback((Ce,Se)=>{t(ul.selectId(Se))},[t]);return V.useEffect(()=>{v(a)},[a]),V.useEffect(()=>{h(Object.values(i))},[i]),V.useEffect(()=>{k(Object.values(o))},[o]),V.useEffect(()=>{s?(C(r[s].ip),r[s].camera.length>0?(I(r[s].camera[0].type),P(r[s].camera[0].source)):I(null),z(r[s].name)):(C(null),I(null))},[s]),B.jsx("div",{className:e.root,children:B.jsxs($R,{notification:Ee,children:[B.jsx(RR,{SetAddUAVOpen:ae}),B.jsx(WR,{SetAddUAVOpen:ae}),B.jsx("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 88px)"},children:B.jsxs($7,{children:[B.jsx(oEe,{markers:g}),B.jsx(iEe,{}),B.jsx(rEe,{positions:f,onClick:Oe,selectedPosition:F,showStatus:!0}),B.jsx(sEe,{})]})}),B.jsx("div",{className:e.sidebarStyle,children:B.jsx("div",{className:e.middleStyle,children:B.jsxs(bl,{square:!0,className:e.contentListStyle,children:[B.jsx(lH,{SetAddUAVOpen:ae}),B.jsx(VG,{devices:J})]})})}),ee&&B.jsx(D_e,{SetAddUAVOpen:ae}),B.jsx(iTe,{deviceId:s,position:F,onClose:()=>t(ul.selectId(null)),desktopPadding:n.dimensions.drawerWidthDesktop}),B.jsx(Rd.Consumer,{children:({confirmMission:Ce,setconfirmMission:Se,commandMission:De})=>B.jsx(fTe,{enable:Ce,onClose:()=>Se(!1),onSucces:()=>De()})}),M==="WebRTC"&&B.jsx(RB,{deviceId:s,deviceIp:N,camera_src:$+"_"+A,onClose:()=>t(ul.selectId(null))}),M==="WebRTC_env"&&B.jsx(RB,{deviceId:s,deviceIp:O,camera_src:A,onClose:()=>t(ul.selectId(null))}),M==="Websocket"&&B.jsx(F_e,{deviceId:s,datacamera:G,onClose:()=>t(ul.selectId(null))}),B.jsx(C_e,{toastlist:pe,position:"buttom-right",setList:ye})]})})};class OTe{constructor(){this.routes=[],this.selecwp={id:-1}}initroute(t){this.routes=JSON.parse(JSON.stringify(t))}getroute(){return this.routes}setroute(t){this.routes=t}getSelectwp(){return this.selecwp}setSelecwp(t){this.selecwp=t}}const ATe=()=>{const e=V.useId(),t=`${e}-points`,n=`${e}-points-clusters`,r=qn(C=>C.mission.route);qn(C=>C.mission.selectpoint);const i=!0,o=.6,s=wl(),[a,f]=V.useState(new OTe);let h=Ye.getCanvasContainer();function g(C){let M=C.lngLat;h.style.cursor="grabbing",console.log("new position"+M.lng+"-"+M.lat);let I=a.getroute();console.log(I);let A=a.getSelectwp();A.id>=0&&(I[A.route_id].wp[A.id].pos[0]=C.lngLat.lat,I[A.route_id].wp[A.id].pos[1]=C.lngLat.lng);let P=O(I);Ye.getSource(t).setData({type:"FeatureCollection",features:P.map($=>({type:"Feature",geometry:{type:"Point",coordinates:[$.longitude,$.latitude]},properties:x(I,$)}))}),Ye.getSource(e).setData({type:"FeatureCollection",features:I.map($=>k($))})}function v(C){var M=C.lngLat;h.style.cursor="";let I=a.getSelectwp();console.log(`Longitude: ${M.lng} Latitude: ${M.lat}`),s(Hl.updateWpPos({wp_id:I.id,route_id:I.route_id,lng:C.lngLat.lng,lat:C.lngLat.lat})),a.setSelecwp({id:-1}),Ye.off("mousemove",g),Ye.off("touchmove",g)}const x=(C,M)=>({id:M.id,route_id:M.routeid,name:C[M.routeid].name,uav:C[M.routeid].uav,latitude:C[M.routeid].wp[M.id].pos[0],longitude:C[M.routeid].wp[M.id].pos[1],altitud:C[M.routeid].wp[M.id].pos[2],yaw:C[M.routeid].wp[M.id].yaw,gimbal:C[M.routeid].wp[M.id].gimbal,actions:C[M.routeid].wp[M.id].action,attributes:C[M.routeid].attributes,category:"default",color:C[M.routeid].id});V.useEffect(()=>(console.log("render"),Ye.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:i,clusterMaxZoom:10,clusterRadius:50}),Ye.addSource(e,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),Ye.addLayer({source:e,id:"mission-line",type:"line",paint:{"line-color":["get","color"],"line-width":2}}),Ye.addLayer({source:e,id:"mission-title",type:"symbol",layout:{"text-field":"{name}","text-font":Hc(Ye),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),Ye.addLayer({id:"mission-points",type:"symbol",source:t,filter:["!has","point_count"],layout:{"icon-image":"background-{color}","icon-size":o,"icon-allow-overlap":!0,"text-allow-overlap":!0,"text-field":"{id}","text-font":Hc(Ye),"text-size":14},paint:{"text-color":"white"}}),Ye.addLayer({id:n,type:"symbol",source:t,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":o,"text-field":"M","text-font":Hc(Ye),"text-size":14}}),Ye.on("mouseenter","mission-points",function(){h.style.cursor="move"}),Ye.on("mouseleave","mission-points",function(){h.style.cursor=""}),Ye.on("mousedown","mission-points",function(C){C.preventDefault(),a.setSelecwp(C.features[0].properties),s(Hl.selectpoint(C.features[0].properties)),h.style.cursor="grab",Ye.on("mousemove",g),Ye.once("mouseup",v)}),Ye.on("touchstart","mission-points",function(C){C.points.length===1&&(console.log("touch start"),C.preventDefault(),Ye.on("touchmove",g),Ye.once("touchend",v))}),Ye.on("click",function(C){console.log("A click event has occurred at "+C.lngLat)}),()=>{Ye.getLayer("mission-line")&&Ye.removeLayer("mission-line"),Ye.getLayer("mission-title")&&Ye.removeLayer("mission-title"),Ye.getLayer("mission-points")&&Ye.removeLayer("mission-points"),Ye.getLayer(n)&&Ye.removeLayer(n),Ye.getSource(e)&&Ye.removeSource(e),Ye.getSource(t)&&Ye.removeSource(t)}),[]);function k(C){let M=Object.values(C.wp).map(function(I){return[I.pos[1],I.pos[0]]});return{id:C.id,type:"Feature",geometry:{type:"LineString",coordinates:M},properties:{name:C.uav,color:Um[C.id]}}}function O(C){let M=[];return C.map((I,A)=>{I.wp.map((P,$)=>{M.push({longitude:P.pos[1],latitude:P.pos[0],id:$,routeid:A})})}),M}return V.useEffect(()=>{console.log("Mapmission upload mission"),console.log(r),a.initroute(r);let C=O(r);Ye.getSource(t).setData({type:"FeatureCollection",features:C.map(M=>({type:"Feature",geometry:{type:"Point",coordinates:[M.longitude,M.latitude]},properties:x(r,M)}))}),Ye.getSource(e).setData({type:"FeatureCollection",features:r.map(M=>k(M))})},[r]),null},MTe=Ti(e=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),ITe=({mission:e,setmission:t,index:n,index_wp:r,waypoint:i,expand_wp:o,AddnewWp:s})=>{const a=MTe(),[f,h]=V.useState(!1),[g,v]=V.useState(!0),[x,k]=V.useState(0),[O,C]=V.useState(!1);V.useEffect(()=>{C(o)},[o]);const M=N=>(F,G)=>{C(G?N:!1)};async function I(N,F){let G;const J=await fetch("/api/category/actions/dji_M210_noetic");if(J.ok)G=await J.json();else throw Error(await J.text());let ee=G.find(pe=>pe.id==x),ae=JSON.parse(JSON.stringify(e.route));ae[N].wp[F].hasOwnProperty("action")||(ae[N].wp[F].action={}),ee.param?ae[N].wp[F].action[ee.name]=0:ae[N].wp[F].action[ee.name]=!0,t({...e,route:ae}),v(!0)}const A=(N,F)=>{console.log("remove wp"+N+"-"+F);let G=[...e.route],J=[...e.route[N].wp];J.splice(F,1);let ee={...G[N],wp:J};G[N]=ee,t({...e,route:G})},P=(N,F,G)=>{console.log("remove action"+N+"-"+F+"-"+G);let J=JSON.parse(JSON.stringify(e.route));delete J[N].wp[F].action[G],t({...e,route:J})},$=N=>(F,G)=>{h(G?N:!1)},z=N=>(F,G)=>{v(!1)};return B.jsxs(ph,{expanded:O==="wp "+r,onChange:M("wp "+r),children:[B.jsxs(gh,{expandIcon:B.jsx(Ld,{}),children:[B.jsx(An,{sx:{width:"33%",flexShrink:0},children:"WP "+r}),B.jsx(Jn,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>A(n,r),children:B.jsx(xh,{})})]}),B.jsxs(mh,{className:a.details,children:[B.jsxs(jc,{component:"form",sx:{"& .MuiTextField-root":{m:1}},children:[B.jsx("div",{children:B.jsx(An,{variant:"subtitle1",style:{display:"inline"},children:"Position"})}),B.jsx(yo,{required:!0,label:"Latitud ",type:"number",sx:{width:"15ch"},variant:"standard",inputProps:{maxLength:16,step:1e-4},value:i.pos?i.pos[0]:0,onChange:N=>t({...e,route:e.route.map(F=>{let G=JSON.parse(JSON.stringify(F));return F==e.route[n]?G.wp[r].pos[0]=+N.target.value:G=F,G})})}),B.jsx(yo,{required:!0,label:"Longitud ",type:"number",variant:"standard",sx:{width:"15ch"},inputProps:{maxLength:16,step:1e-4},value:i.pos?i.pos[1]:0,onChange:N=>t({...e,route:e.route.map(F=>{let G=JSON.parse(JSON.stringify(F));return F==e.route[n]?G.wp[r].pos[1]=+N.target.value:G=F,G})})}),B.jsx(yo,{required:!0,label:"altura ",type:"number",variant:"standard",sx:{width:"7ch"},value:i.pos?i.pos[2]:0,onChange:N=>t({...e,route:e.route.map(F=>{let G=JSON.parse(JSON.stringify(F));return F==e.route[n]?G.wp[r].pos[2]=+N.target.value:G=F,G})})})]}),B.jsx(yo,{required:!0,label:"Speed ",type:"number",variant:"standard",value:i.speed?i.speed:e.route[n].attributes.idle_vel,onChange:N=>t({...e,route:e.route.map(F=>{let G=JSON.parse(JSON.stringify(F));return e.route[n]?G.wp[r].speed=+N.target.value:G=F,G})})}),B.jsx(yo,{required:!0,label:"YAW ",type:"number",variant:"standard",value:i.yaw?i.yaw:0,onChange:N=>t({...e,route:e.route.map(F=>{let G=JSON.parse(JSON.stringify(F));return F==e.route[n]?G.wp[r].yaw=+N.target.value:G=F,G})})}),B.jsx(yo,{required:!0,label:"Gimbal ",type:"number",variant:"standard",value:i.gimbal?i.gimbal:0,onChange:N=>t({...e,route:e.route.map(F=>{let G=JSON.parse(JSON.stringify(F));return F==e.route[n]?G.wp[r].gimbal=+N.target.value:G=F,G})})}),B.jsxs(ph,{expanded:f==="wp "+r,onChange:$("wp "+r),children:[B.jsx(gh,{expandIcon:B.jsx(Ld,{}),children:B.jsx(An,{sx:{width:"33%",flexShrink:0},children:"Actions"})}),B.jsxs(mh,{className:a.details,children:[i.action&&Pe.Children.toArray(Object.keys(i.action).map((N,F,G)=>B.jsxs(V.Fragment,{children:[B.jsxs("div",{children:[B.jsx(An,{variant:"subtitle1",className:a.attributeName,children:N}),B.jsx("div",{className:a.actionValue,children:B.jsx(yo,{required:!0,fullWidth:!0,value:i.action[N]?i.action[N]:0,onChange:J=>t({...e,route:e.route.map(ee=>{let ae=JSON.parse(JSON.stringify(ee));return ee==e.route[n]?ae.wp[r].action[N]=J.target.value:ae=ee,ae})})})}),B.jsx(Jn,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>P(n,r,N),className:a.negative,children:B.jsx(xh,{})})]}),B.jsx(nR,{})]},"fragment-action-"+F))),B.jsx(jc,{textAlign:"center",children:g?B.jsx(wr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:z(),children:"Add new action"}):B.jsxs("div",{children:[B.jsx(An,{variant:"subtitle1",children:"Tipo de acccion a aadir"}),B.jsx(Dc,{emptyValue:null,fullWidth:!0,value:x,onChange:N=>k(N.target.value),endpoint:"/api/category/actions/dji_M210_noetic",keyGetter:N=>N.id,titleGetter:N=>N.description}),B.jsxs("div",{children:[B.jsx(wr,{onClick:()=>v(!0),children:"Cancel"}),B.jsx(wr,{onClick:()=>I(n,r),children:"Add"})]})]})})]})]}),B.jsx(jc,{textAlign:"center",children:B.jsx(wr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:()=>s(n,r),children:"Add new Waypoint"})})]})]})},$Te=Ti(e=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),RTe=({mission:e,setmission:t,setScrool:n})=>{const r=$Te(),i=qn(z=>z.mission),o=qn(z=>z.mission.selectpoint),s=wl(),[a,f]=V.useState(!1),[h,g]=V.useState(!1),[v,x]=V.useState(!1),[k,O]=V.useState(!0);V.useEffect(()=>{t(i),i.route.length>0?O(!1):O(!0),f(!0)},[i]),V.useEffect(()=>{a&&(console.log("update mission"),s(Hl.reloadMission(e.route))),e.route.length>0?O(!1):O(!0)},[e.route]),V.useEffect(()=>{a&&s(Hl.reloadName({name:e.name,description:e.description}))},[e.name,e.description]),V.useEffect(()=>{g("Rute "+o.route_id),x("wp "+o.id),n(500+o.route_id*50+o.id*50)},[o]);const C=()=>{t({name:"new Mission",description:"",route:[]}),O(!1),M(),console.log("add new mission")},M=()=>{let z=[...e.route],N=z.length>0?+z.slice(-1)[0].id+1:0,F={max_vel:12,idle_vel:3,mode_yaw:2,mode_gimbal:0,mode_trace:0,mode_landing:2};z.push({name:"",uav:"",id:N,attributes:F,wp:[]}),t({...e,route:z})},I=(z,N)=>{console.log("add new wp"+z);let F=JSON.parse(JSON.stringify(e.route)),G=Ye.getCenter();N>0&&(G.lat=(F[z].wp[N].pos[0]+F[z].wp[N-1].pos[0])/2,G.lng=(F[z].wp[N].pos[1]+F[z].wp[N-1].pos[1])/2),N<0?F[z].wp.push({pos:[G.lat,G.lng,5],action:{}}):F[z].wp.splice(N,0,{pos:[G.lat,G.lng,5],action:{}}),t({...e,route:F})},A=z=>{console.log("remove route"+z);let N=JSON.parse(JSON.stringify(e.route));N.splice(z,1),t({...e,route:N})},P=z=>(N,F)=>{g(F?z:!1)},$=z=>(N,F)=>{x(F?z:!1)};return B.jsx(V.Fragment,{children:k?B.jsx(jc,{textAlign:"center",children:B.jsx(wr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:C,children:"Create New Mission"})}):B.jsx(V.Fragment,{children:B.jsxs(jc,{style:{display:"flex",gap:"10px",flexDirection:"column",margin:"20px"},children:[B.jsx(yo,{required:!0,label:"Name Mission",variant:"standard",value:e.name?e.name:" ",onChange:z=>t({...e,name:z.target.value})}),B.jsx(yo,{required:!0,label:"Description of mission",variant:"standard",value:e.description?e.description:" ",onChange:z=>t({...e,description:z.target.value})}),Pe.Children.toArray(Object.values(e.route).map((z,N,F)=>B.jsxs(V.Fragment,{children:[B.jsxs(ph,{expanded:h==="Rute "+N,onChange:P("Rute "+N),children:[B.jsxs(gh,{expandIcon:B.jsx(Ld,{}),children:[B.jsx(An,{sx:{width:"33%",flexShrink:0,color:Um[z.id]},children:"Rute "+N}),B.jsx(An,{sx:{color:"text.secondary"},children:z.name+"- "+z.uav}),B.jsx(Jn,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>A(N),children:B.jsx(xh,{})})]}),B.jsxs(mh,{className:r.details,children:[B.jsx(yo,{required:!0,label:"Route Name",variant:"standard",value:z.name?z.name:"",onChange:G=>t({...e,route:e.route.map(J=>J==e.route[N]?{...z,name:G.target.value}:J)})}),B.jsx(yo,{required:!0,label:"UAV id",variant:"standard",value:z.uav?z.uav:"uav_",onChange:G=>t({...e,route:e.route.map(J=>J==e.route[N]?{...z,uav:G.target.value}:J)})}),B.jsx(Dc,{emptyValue:null,value:z.uav_type?z.uav_type:"",onChange:G=>t({...e,route:e.route.map(J=>J==e.route[N]?{...z,uav_type:G.target.value}:J)}),endpoint:"/api/category",keyGetter:G=>G,titleGetter:G=>G,label:"Type UAV mission",style:{display:"inline",width:"200px"}}),B.jsxs(ph,{expanded:v==="wp -"+N,onChange:$("wp -"+N),children:[B.jsx(gh,{expandIcon:B.jsx(Ld,{}),children:B.jsx(An,{sx:{width:"53%",flexShrink:0},children:"Route Attributes"})}),B.jsx(mh,{className:r.details,children:z.attributes&&B.jsxs(V.Fragment,{children:[B.jsxs("div",{children:[B.jsx(An,{variant:"subtitle1",className:r.attributeName,children:"Speed Mode"}),B.jsx("div",{className:r.attributeValue,children:B.jsx(Dc,{emptyValue:null,fullWidth:!0,value:z.attributes.mode_speed?z.attributes.mode_speed:0,onChange:G=>t({...e,route:e.route.map(J=>{let ee=JSON.parse(JSON.stringify(J));return J===e.route[N]?ee.attributes.mode_speed=G.target.value:ee=J,ee})}),endpoint:"/api/category/atributesparam/dji_M300/mode_speed",keyGetter:G=>G.id,titleGetter:G=>G.name})})]}),B.jsxs("div",{children:[B.jsx(An,{variant:"subtitle1",className:r.attributeName,children:"Speed idle (m/s):"}),B.jsx(yo,{fullWidth:!0,required:!0,type:"number",className:r.attributeValue,value:z.attributes.idle_vel?z.attributes.idle_vel:1.85,onChange:G=>t({...e,route:e.route.map(J=>{let ee=JSON.parse(JSON.stringify(J));return J==e.route[N]?ee.attributes.idle_vel=+G.target.value:ee=J,ee})})})]}),B.jsxs("div",{children:[B.jsx(An,{variant:"subtitle1",className:r.attributeName,children:"Speed MAX (m/s):"}),B.jsx(yo,{fullWidth:!0,required:!0,type:"number",className:r.attributeValue,value:z.attributes.max_vel?z.attributes.max_vel:12,onChange:G=>t({...e,route:e.route.map(J=>{let ee=JSON.parse(JSON.stringify(J));return J==e.route[N]?ee.attributes.max_vel=+G.target.value:ee=J,ee})})})]}),B.jsxs("div",{children:[B.jsx(An,{variant:"subtitle1",className:r.attributeName,children:"landing mode"}),B.jsx("div",{className:r.attributeValue,children:B.jsx(Dc,{emptyValue:null,fullWidth:!0,value:z.attributes.mode_landing?z.attributes.mode_landing:0,onChange:G=>t({...e,route:e.route.map(J=>{let ee=JSON.parse(JSON.stringify(J));return J===e.route[N]?ee.attributes.mode_landing=G.target.value:ee=J,ee})}),endpoint:"/api/category/atributesparam/dji_M300/mode_landing",keyGetter:G=>G.id,titleGetter:G=>G.name})})]}),B.jsxs("div",{children:[B.jsx(An,{variant:"subtitle1",className:r.attributeName,children:"Yaw mode"}),B.jsx("div",{className:r.attributeValue,children:B.jsx(Dc,{emptyValue:null,fullWidth:!0,value:z.attributes.mode_yaw?z.attributes.mode_yaw:0,onChange:G=>t({...e,route:e.route.map(J=>{let ee=JSON.parse(JSON.stringify(J));return J===e.route[N]?ee.attributes.mode_yaw=G.target.value:ee=J,ee})}),endpoint:"/api/category/atributesparam/dji_M300/mode_yaw",keyGetter:G=>G.id,titleGetter:G=>G.name})})]}),B.jsxs("div",{children:[B.jsxs(An,{variant:"subtitle1",className:r.attributeName,children:[" ","Gimbal mode"," "]}),B.jsx("div",{className:r.attributeValue,children:B.jsx(Dc,{emptyValue:null,fullWidth:!0,value:z.attributes.mode_gimbal?z.attributes.mode_gimbal:0,onChange:G=>t({...e,route:e.route.map(J=>{let ee=JSON.parse(JSON.stringify(J));return J===e.route[N]?ee.attributes.mode_gimbal=G.target.value:ee=J,ee})}),endpoint:"/api/category/atributesparam/dji_M300/mode_gimbal",keyGetter:G=>G.id,titleGetter:G=>G.name})})]}),B.jsxs("div",{children:[B.jsxs(An,{variant:"subtitle1",className:r.attributeName,children:[" ","Trace mode:"," "]}),B.jsx("div",{className:r.attributeValue,children:B.jsx(Dc,{emptyValue:null,fullWidth:!0,value:z.attributes.mode_trace?z.attributes.mode_trace:0,onChange:G=>t({...e,route:e.route.map(J=>{let ee=JSON.parse(JSON.stringify(J));return J===e.route[N]?ee.attributes.mode_trace=G.target.value:ee=J,ee})}),endpoint:"/api/category/atributesparam/dji_M300/mode_trace",keyGetter:G=>G.id,titleGetter:G=>G.name})})]})]},"fragment-route-atri-"+z.id)})]}),B.jsx(An,{variant:"subtitle1",children:"Waypoints"}),Pe.Children.toArray(Object.values(z.wp).map((G,J,ee)=>B.jsx(ITe,{mission:e,setmission:t,index_wp:J,index:N,waypoint:G,AddnewWp:I,expand_wp:v}))),B.jsx(jc,{textAlign:"center",children:B.jsx(wr,{value:N,variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:G=>I(G.target.value,-1),children:"Add new Waypoint"})})]})]}),N<F.length-1?B.jsx(nR,{}):null]},"fragment-route-"+N))),B.jsx(jc,{textAlign:"center",children:B.jsx(wr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:M,children:"Add new Route"})})]})})})};var RD={},DTe=dr;Object.defineProperty(RD,"__esModule",{value:!0});var YE=RD.default=void 0,LTe=DTe(fr()),NTe=B,zTe=(0,LTe.default)((0,NTe.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");YE=RD.default=zTe;var DD={},jTe=dr;Object.defineProperty(DD,"__esModule",{value:!0});var cH=DD.default=void 0,BTe=jTe(fr()),FTe=B,UTe=(0,BTe.default)((0,FTe.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile");cH=DD.default=UTe;var LD={},VTe=dr;Object.defineProperty(LD,"__esModule",{value:!0});var uH=LD.default=void 0,WTe=VTe(fr()),qTe=B,GTe=(0,WTe.default)((0,qTe.jsx)("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67 2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt");uH=LD.default=GTe;const HTe=Ti(e=>({toolbar:{display:"flex",gap:"10px 10px",height:"30px",borderBottom:"3px solid rgb(212, 212, 212)"},list:{maxHeight:"calc(100vh - 152px)",overflowY:"auto"},title:{flexGrow:1},fileInput:{display:"none"}})),YTe=()=>{const e=HTe(),t=Cg(),n=V.useContext(Rd),r=V.useRef(null),[i,o]=V.useState({name:"no mission",description:"",route:[]}),s=g=>{console.log("scrool"+g),r.current.scroll&&setTimeout(()=>{r.current.scroll(0,g)},1e3)},a=g=>{const v=g.target.files[0];if(!v)return;const x=new FileReader;x.readAsText(v),x.onload=()=>{console.log(x.result),console.log(v.name),n.openMision(v.name,x.result)},x.onerror=()=>{console.log(x.error)}},f=()=>{o({name:"no mission",description:"",route:[]})},h=()=>{let g={version:"3"};g.name=i.name,g.route=i.route;const v=Cq.stringify(g),x=new Blob([v],{type:"text/plain"}),k=URL.createObjectURL(x),O=document.createElement("a");O.download=i.name+".yaml",O.href=k,O.click()};return B.jsxs(V.Fragment,{children:[B.jsxs(ax,{className:e.toolbar,children:[B.jsx(Jn,{edge:"start",sx:{mr:2},onClick:()=>t(-1),children:B.jsx(YE,{})}),B.jsx(An,{variant:"h6",className:e.title,children:"Mission Task"}),B.jsx(Jn,{onClick:h,children:B.jsx(uH,{})}),B.jsx(Jn,{onClick:f,children:B.jsx(xh,{})}),B.jsxs("label",{htmlFor:"upload-gpx",children:[B.jsx("input",{accept:".yaml, .plan, .waypoint, .kml",id:"upload-gpx",type:"file",className:e.fileInput,onChange:a}),B.jsx(Jn,{edge:"end",component:"span",onClick:()=>{},children:B.jsx(cH,{})})]})]}),B.jsx("div",{ref:r,className:e.list,children:B.jsx(RTe,{mission:i,setmission:o,setScrool:s})})]})};var dH={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var s=typeof o;if(s==="string"||s==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&r.push(a)}}else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var f in o)t.call(o,f)&&o[f]&&r.push(f)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(dH);var KTe=dH.exports;const pr=tr(KTe);function ZTe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Vd=ZTe;const Fg=tr(Vd);var XTe=typeof Vv=="object"&&Vv&&Vv.Object===Object&&Vv,fH=XTe,JTe=fH,QTe=typeof self=="object"&&self&&self.Object===Object&&self,eke=JTe||QTe||Function("return this")(),pc=eke,tke=pc,nke=tke.Symbol,yx=nke,DB=yx,hH=Object.prototype,rke=hH.hasOwnProperty,ike=hH.toString,Iv=DB?DB.toStringTag:void 0;function oke(e){var t=rke.call(e,Iv),n=e[Iv];try{e[Iv]=void 0;var r=!0}catch{}var i=ike.call(e);return r&&(t?e[Iv]=n:delete e[Iv]),i}var ake=oke,ske=Object.prototype,lke=ske.toString;function cke(e){return lke.call(e)}var uke=cke,LB=yx,dke=ake,fke=uke,hke="[object Null]",pke="[object Undefined]",NB=LB?LB.toStringTag:void 0;function mke(e){return e==null?e===void 0?pke:hke:NB&&NB in Object(e)?dke(e):fke(e)}var mu=mke,gke=mu,yke=Vd,vke="[object AsyncFunction]",bke="[object Function]",xke="[object GeneratorFunction]",_ke="[object Proxy]";function wke(e){if(!yke(e))return!1;var t=gke(e);return t==bke||t==xke||t==vke||t==_ke}var ND=wke;const yn=tr(ND);var Ske=Array.isArray,fa=Ske;const vo=tr(fa);function Eke(e){return e!=null&&typeof e=="object"}var gu=Eke,Cke=mu,Tke=fa,kke=gu,Pke="[object String]";function Oke(e){return typeof e=="string"||!Tke(e)&&kke(e)&&Cke(e)==Pke}var Ake=Oke;const vx=tr(Ake);var Mke=mu,Ike=gu,$ke="[object Symbol]";function Rke(e){return typeof e=="symbol"||Ike(e)&&Mke(e)==$ke}var Ug=Rke,Dke=fa,Lke=Ug,Nke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zke=/^\w*$/;function jke(e,t){if(Dke(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Lke(e)?!0:zke.test(e)||!Nke.test(e)||t!=null&&e in Object(t)}var zD=jke,Bke=pc,Fke=Bke["__core-js_shared__"],Uke=Fke,AP=Uke,zB=function(){var e=/[^.]+$/.exec(AP&&AP.keys&&AP.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Vke(e){return!!zB&&zB in e}var Wke=Vke,qke=Function.prototype,Gke=qke.toString;function Hke(e){if(e!=null){try{return Gke.call(e)}catch{}try{return e+""}catch{}}return""}var pH=Hke,Yke=ND,Kke=Wke,Zke=Vd,Xke=pH,Jke=/[\\^$.*+?()[\]{}|]/g,Qke=/^\[object .+?Constructor\]$/,ePe=Function.prototype,tPe=Object.prototype,nPe=ePe.toString,rPe=tPe.hasOwnProperty,iPe=RegExp("^"+nPe.call(rPe).replace(Jke,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function oPe(e){if(!Zke(e)||Kke(e))return!1;var t=Yke(e)?iPe:Qke;return t.test(Xke(e))}var aPe=oPe;function sPe(e,t){return e==null?void 0:e[t]}var lPe=sPe,cPe=aPe,uPe=lPe;function dPe(e,t){var n=uPe(e,t);return cPe(n)?n:void 0}var Oh=dPe,fPe=Oh,hPe=fPe(Object,"create"),KE=hPe,jB=KE;function pPe(){this.__data__=jB?jB(null):{},this.size=0}var mPe=pPe;function gPe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var yPe=gPe,vPe=KE,bPe="__lodash_hash_undefined__",xPe=Object.prototype,_Pe=xPe.hasOwnProperty;function wPe(e){var t=this.__data__;if(vPe){var n=t[e];return n===bPe?void 0:n}return _Pe.call(t,e)?t[e]:void 0}var SPe=wPe,EPe=KE,CPe=Object.prototype,TPe=CPe.hasOwnProperty;function kPe(e){var t=this.__data__;return EPe?t[e]!==void 0:TPe.call(t,e)}var PPe=kPe,OPe=KE,APe="__lodash_hash_undefined__";function MPe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=OPe&&t===void 0?APe:t,this}var IPe=MPe,$Pe=mPe,RPe=yPe,DPe=SPe,LPe=PPe,NPe=IPe;function Vg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Vg.prototype.clear=$Pe;Vg.prototype.delete=RPe;Vg.prototype.get=DPe;Vg.prototype.has=LPe;Vg.prototype.set=NPe;var zPe=Vg;function jPe(){this.__data__=[],this.size=0}var BPe=jPe;function FPe(e,t){return e===t||e!==e&&t!==t}var jD=FPe,UPe=jD;function VPe(e,t){for(var n=e.length;n--;)if(UPe(e[n][0],t))return n;return-1}var ZE=VPe,WPe=ZE,qPe=Array.prototype,GPe=qPe.splice;function HPe(e){var t=this.__data__,n=WPe(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():GPe.call(t,n,1),--this.size,!0}var YPe=HPe,KPe=ZE;function ZPe(e){var t=this.__data__,n=KPe(t,e);return n<0?void 0:t[n][1]}var XPe=ZPe,JPe=ZE;function QPe(e){return JPe(this.__data__,e)>-1}var eOe=QPe,tOe=ZE;function nOe(e,t){var n=this.__data__,r=tOe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var rOe=nOe,iOe=BPe,oOe=YPe,aOe=XPe,sOe=eOe,lOe=rOe;function Wg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Wg.prototype.clear=iOe;Wg.prototype.delete=oOe;Wg.prototype.get=aOe;Wg.prototype.has=sOe;Wg.prototype.set=lOe;var XE=Wg,cOe=Oh,uOe=pc,dOe=cOe(uOe,"Map"),BD=dOe,BB=zPe,fOe=XE,hOe=BD;function pOe(){this.size=0,this.__data__={hash:new BB,map:new(hOe||fOe),string:new BB}}var mOe=pOe;function gOe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var yOe=gOe,vOe=yOe;function bOe(e,t){var n=e.__data__;return vOe(t)?n[typeof t=="string"?"string":"hash"]:n.map}var JE=bOe,xOe=JE;function _Oe(e){var t=xOe(this,e).delete(e);return this.size-=t?1:0,t}var wOe=_Oe,SOe=JE;function EOe(e){return SOe(this,e).get(e)}var COe=EOe,TOe=JE;function kOe(e){return TOe(this,e).has(e)}var POe=kOe,OOe=JE;function AOe(e,t){var n=OOe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var MOe=AOe,IOe=mOe,$Oe=wOe,ROe=COe,DOe=POe,LOe=MOe;function qg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}qg.prototype.clear=IOe;qg.prototype.delete=$Oe;qg.prototype.get=ROe;qg.prototype.has=DOe;qg.prototype.set=LOe;var FD=qg,mH=FD,NOe="Expected a function";function UD(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(NOe);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(UD.Cache||mH),n}UD.Cache=mH;var zOe=UD,jOe=zOe,BOe=500;function FOe(e){var t=jOe(e,function(r){return n.size===BOe&&n.clear(),r}),n=t.cache;return t}var UOe=FOe,VOe=UOe,WOe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qOe=/\\(\\)?/g,GOe=VOe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(WOe,function(n,r,i,o){t.push(i?o.replace(qOe,"$1"):r||n)}),t}),HOe=GOe;function YOe(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var VD=YOe,FB=yx,KOe=VD,ZOe=fa,XOe=Ug,JOe=1/0,UB=FB?FB.prototype:void 0,VB=UB?UB.toString:void 0;function gH(e){if(typeof e=="string")return e;if(ZOe(e))return KOe(e,gH)+"";if(XOe(e))return VB?VB.call(e):"";var t=e+"";return t=="0"&&1/e==-JOe?"-0":t}var QOe=gH,eAe=QOe;function tAe(e){return e==null?"":eAe(e)}var yH=tAe,nAe=fa,rAe=zD,iAe=HOe,oAe=yH;function aAe(e,t){return nAe(e)?e:rAe(e,t)?[e]:iAe(oAe(e))}var vH=aAe,sAe=Ug,lAe=1/0;function cAe(e){if(typeof e=="string"||sAe(e))return e;var t=e+"";return t=="0"&&1/e==-lAe?"-0":t}var QE=cAe,uAe=vH,dAe=QE;function fAe(e,t){t=uAe(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[dAe(t[n++])];return n&&n==r?e:void 0}var WD=fAe,hAe=WD;function pAe(e,t,n){var r=e==null?void 0:hAe(e,t);return r===void 0?n:r}var bH=pAe;const As=tr(bH);function mAe(e){return e==null}var gAe=mAe;const mn=tr(gAe);var xH={exports:{}},yr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var no=typeof Symbol=="function"&&Symbol.for,qD=no?Symbol.for("react.element"):60103,GD=no?Symbol.for("react.portal"):60106,eC=no?Symbol.for("react.fragment"):60107,tC=no?Symbol.for("react.strict_mode"):60108,nC=no?Symbol.for("react.profiler"):60114,rC=no?Symbol.for("react.provider"):60109,iC=no?Symbol.for("react.context"):60110,HD=no?Symbol.for("react.async_mode"):60111,oC=no?Symbol.for("react.concurrent_mode"):60111,aC=no?Symbol.for("react.forward_ref"):60112,sC=no?Symbol.for("react.suspense"):60113,yAe=no?Symbol.for("react.suspense_list"):60120,lC=no?Symbol.for("react.memo"):60115,cC=no?Symbol.for("react.lazy"):60116,vAe=no?Symbol.for("react.block"):60121,bAe=no?Symbol.for("react.fundamental"):60117,xAe=no?Symbol.for("react.responder"):60118,_Ae=no?Symbol.for("react.scope"):60119;function is(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case qD:switch(e=e.type,e){case HD:case oC:case eC:case nC:case tC:case sC:return e;default:switch(e=e&&e.$$typeof,e){case iC:case aC:case cC:case lC:case rC:return e;default:return t}}case GD:return t}}}function _H(e){return is(e)===oC}yr.AsyncMode=HD;yr.ConcurrentMode=oC;yr.ContextConsumer=iC;yr.ContextProvider=rC;yr.Element=qD;yr.ForwardRef=aC;yr.Fragment=eC;yr.Lazy=cC;yr.Memo=lC;yr.Portal=GD;yr.Profiler=nC;yr.StrictMode=tC;yr.Suspense=sC;yr.isAsyncMode=function(e){return _H(e)||is(e)===HD};yr.isConcurrentMode=_H;yr.isContextConsumer=function(e){return is(e)===iC};yr.isContextProvider=function(e){return is(e)===rC};yr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===qD};yr.isForwardRef=function(e){return is(e)===aC};yr.isFragment=function(e){return is(e)===eC};yr.isLazy=function(e){return is(e)===cC};yr.isMemo=function(e){return is(e)===lC};yr.isPortal=function(e){return is(e)===GD};yr.isProfiler=function(e){return is(e)===nC};yr.isStrictMode=function(e){return is(e)===tC};yr.isSuspense=function(e){return is(e)===sC};yr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===eC||e===oC||e===nC||e===tC||e===sC||e===yAe||typeof e=="object"&&e!==null&&(e.$$typeof===cC||e.$$typeof===lC||e.$$typeof===rC||e.$$typeof===iC||e.$$typeof===aC||e.$$typeof===bAe||e.$$typeof===xAe||e.$$typeof===_Ae||e.$$typeof===vAe)};yr.typeOf=is;xH.exports=yr;var wAe=xH.exports,SAe=mu,EAe=gu,CAe="[object Number]";function TAe(e){return typeof e=="number"||EAe(e)&&SAe(e)==CAe}var wH=TAe;const kAe=tr(wH);var PAe=wH;function OAe(e){return PAe(e)&&e!=+e}var AAe=OAe;const bx=tr(AAe);var ml=function(t){return t===0?0:t>0?1:-1},Vf=function(t){return vx(t)&&t.indexOf("%")===t.length-1},Ct=function(t){return kAe(t)&&!bx(t)},Fi=function(t){return Ct(t)||vx(t)},MAe=0,xx=function(t){var n=++MAe;return"".concat(t||"").concat(n)},ng=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ct(t)&&!vx(t))return r;var o;if(Vf(t)){var s=t.indexOf("%");o=n*parseFloat(t.slice(0,s))/100}else o=+t;return bx(o)&&(o=r),i&&o>n&&(o=n),o},Yu=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},IAe=function(t){if(!vo(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},ll=function(t,n){return Ct(t)&&Ct(n)?function(r){return t+r*(n-t)}:function(){return n}};function oS(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):As(r,t))===n})}function Am(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function GA(e){"@babel/helpers - typeof";return GA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GA(e)}var $Ae=["viewBox","children"],RAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],WB=["points","pathLength"],MP={svg:$Ae,polygon:WB,polyline:WB},YD=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],aS=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(V.isValidElement(t)&&(r=t.props),!Fg(r))return null;var i={};return Object.keys(r).forEach(function(o){YD.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},DAe=function(t,n,r){return function(i){return t(n,r,i),null}},sS=function(t,n,r){if(!Fg(t)||GA(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var s=t[o];YD.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=DAe(s,n,r))}),i},LAe=["children"],NAe=["children"];function qB(e,t){if(e==null)return{};var n=zAe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zAe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function HA(e){"@babel/helpers - typeof";return HA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},HA(e)}var GB={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Sd=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},HB=null,IP=null,KD=function e(t){if(t===HB&&vo(IP))return IP;var n=[];return V.Children.forEach(t,function(r){mn(r)||(wAe.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),IP=n,HB=t,n};function Ms(e,t){var n=[],r=[];return vo(t)?r=t.map(function(i){return Sd(i)}):r=[Sd(t)],KD(e).forEach(function(i){var o=As(i,"type.displayName")||As(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Vc(e,t){var n=Ms(e,t);return n&&n[0]}var YB=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!Ct(r)||r<=0||!Ct(i)||i<=0)},jAe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],BAe=function(t){return t&&t.type&&vx(t.type)&&jAe.indexOf(t.type)>=0},FAe=function(t){return t&&HA(t)==="object"&&"cx"in t&&"cy"in t&&"r"in t},UAe=function(t,n,r,i){var o,s=(o=MP==null?void 0:MP[i])!==null&&o!==void 0?o:[];return!yn(t)&&(i&&s.includes(n)||RAe.includes(n))||r&&YD.includes(n)},Wn=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(V.isValidElement(t)&&(i=t.props),!Fg(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;UAe((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},SH=function e(t,n){if(t===n)return!0;var r=V.Children.count(t);if(r!==V.Children.count(n))return!1;if(r===0)return!0;if(r===1)return KB(vo(t)?t[0]:t,vo(n)?n[0]:n);for(var i=0;i<r;i++){var o=t[i],s=n[i];if(vo(o)||vo(s)){if(!e(o,s))return!1}else if(!KB(o,s))return!1}return!0},KB=function(t,n){if(mn(t)&&mn(n))return!0;if(!mn(t)&&!mn(n)){var r=t.props||{},i=r.children,o=qB(r,LAe),s=n.props||{},a=s.children,f=qB(s,NAe);return i&&a?Am(o,f)&&SH(i,a):!i&&!a?Am(o,f):!1}return!1},ZB=function(t,n){var r=[],i={};return KD(t).forEach(function(o,s){if(BAe(o))r.push(o);else if(o){var a=Sd(o.type),f=n[a]||{},h=f.handler,g=f.once;if(h&&(!g||!i[a])){var v=h(o,a,s);r.push(v),i[a]=!0}}}),r},VAe=function(t){var n=t&&t.type;return n&&GB[n]?GB[n]:null},WAe=function(t,n){return KD(n).indexOf(t)},qAe=["children","width","height","viewBox","className","style"];function YA(){return YA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YA.apply(this,arguments)}function GAe(e,t){if(e==null)return{};var n=HAe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function HAe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function KA(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,o=e.className,s=e.style,a=GAe(e,qAe),f=i||{width:n,height:r,x:0,y:0},h=pr("recharts-surface",o);return Pe.createElement("svg",YA({},Wn(a,!0,"svg"),{className:h,width:n,height:r,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),Pe.createElement("title",null,e.title),Pe.createElement("desc",null,e.desc),t)}var YAe=["children","className"];function ZA(){return ZA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZA.apply(this,arguments)}function KAe(e,t){if(e==null)return{};var n=ZAe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ZAe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Ei=Pe.forwardRef(function(e,t){var n=e.children,r=e.className,i=KAe(e,YAe),o=pr("recharts-layer",r);return Pe.createElement("g",ZA({className:o},Wn(i,!0),{ref:t}),n)}),XAe=XE;function JAe(){this.__data__=new XAe,this.size=0}var QAe=JAe;function eMe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var tMe=eMe;function nMe(e){return this.__data__.get(e)}var rMe=nMe;function iMe(e){return this.__data__.has(e)}var oMe=iMe,aMe=XE,sMe=BD,lMe=FD,cMe=200;function uMe(e,t){var n=this.__data__;if(n instanceof aMe){var r=n.__data__;if(!sMe||r.length<cMe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new lMe(r)}return n.set(e,t),this.size=n.size,this}var dMe=uMe,fMe=XE,hMe=QAe,pMe=tMe,mMe=rMe,gMe=oMe,yMe=dMe;function Gg(e){var t=this.__data__=new fMe(e);this.size=t.size}Gg.prototype.clear=hMe;Gg.prototype.delete=pMe;Gg.prototype.get=mMe;Gg.prototype.has=gMe;Gg.prototype.set=yMe;var EH=Gg,vMe="__lodash_hash_undefined__";function bMe(e){return this.__data__.set(e,vMe),this}var xMe=bMe;function _Me(e){return this.__data__.has(e)}var wMe=_Me,SMe=FD,EMe=xMe,CMe=wMe;function lS(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new SMe;++t<n;)this.add(e[t])}lS.prototype.add=lS.prototype.push=EMe;lS.prototype.has=CMe;var CH=lS;function TMe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var TH=TMe;function kMe(e,t){return e.has(t)}var kH=kMe,PMe=CH,OMe=TH,AMe=kH,MMe=1,IMe=2;function $Me(e,t,n,r,i,o){var s=n&MMe,a=e.length,f=t.length;if(a!=f&&!(s&&f>a))return!1;var h=o.get(e),g=o.get(t);if(h&&g)return h==t&&g==e;var v=-1,x=!0,k=n&IMe?new PMe:void 0;for(o.set(e,t),o.set(t,e);++v<a;){var O=e[v],C=t[v];if(r)var M=s?r(C,O,v,t,e,o):r(O,C,v,e,t,o);if(M!==void 0){if(M)continue;x=!1;break}if(k){if(!OMe(t,function(I,A){if(!AMe(k,A)&&(O===I||i(O,I,n,r,o)))return k.push(A)})){x=!1;break}}else if(!(O===C||i(O,C,n,r,o))){x=!1;break}}return o.delete(e),o.delete(t),x}var PH=$Me,RMe=pc,DMe=RMe.Uint8Array,LMe=DMe;function NMe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var zMe=NMe;function jMe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var ZD=jMe,XB=yx,JB=LMe,BMe=jD,FMe=PH,UMe=zMe,VMe=ZD,WMe=1,qMe=2,GMe="[object Boolean]",HMe="[object Date]",YMe="[object Error]",KMe="[object Map]",ZMe="[object Number]",XMe="[object RegExp]",JMe="[object Set]",QMe="[object String]",eIe="[object Symbol]",tIe="[object ArrayBuffer]",nIe="[object DataView]",QB=XB?XB.prototype:void 0,$P=QB?QB.valueOf:void 0;function rIe(e,t,n,r,i,o,s){switch(n){case nIe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case tIe:return!(e.byteLength!=t.byteLength||!o(new JB(e),new JB(t)));case GMe:case HMe:case ZMe:return BMe(+e,+t);case YMe:return e.name==t.name&&e.message==t.message;case XMe:case QMe:return e==t+"";case KMe:var a=UMe;case JMe:var f=r&WMe;if(a||(a=VMe),e.size!=t.size&&!f)return!1;var h=s.get(e);if(h)return h==t;r|=qMe,s.set(e,t);var g=FMe(a(e),a(t),r,i,o,s);return s.delete(e),g;case eIe:if($P)return $P.call(e)==$P.call(t)}return!1}var iIe=rIe;function oIe(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var OH=oIe,aIe=OH,sIe=fa;function lIe(e,t,n){var r=t(e);return sIe(e)?r:aIe(r,n(e))}var cIe=lIe;function uIe(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}var dIe=uIe;function fIe(){return[]}var hIe=fIe,pIe=dIe,mIe=hIe,gIe=Object.prototype,yIe=gIe.propertyIsEnumerable,eF=Object.getOwnPropertySymbols,vIe=eF?function(e){return e==null?[]:(e=Object(e),pIe(eF(e),function(t){return yIe.call(e,t)}))}:mIe,bIe=vIe;function xIe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var _Ie=xIe,wIe=mu,SIe=gu,EIe="[object Arguments]";function CIe(e){return SIe(e)&&wIe(e)==EIe}var TIe=CIe,tF=TIe,kIe=gu,AH=Object.prototype,PIe=AH.hasOwnProperty,OIe=AH.propertyIsEnumerable,AIe=tF(function(){return arguments}())?tF:function(e){return kIe(e)&&PIe.call(e,"callee")&&!OIe.call(e,"callee")},XD=AIe,cS={exports:{}};function MIe(){return!1}var IIe=MIe;cS.exports;(function(e,t){var n=pc,r=IIe,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?n.Buffer:void 0,f=a?a.isBuffer:void 0,h=f||r;e.exports=h})(cS,cS.exports);var MH=cS.exports,$Ie=9007199254740991,RIe=/^(?:0|[1-9]\d*)$/;function DIe(e,t){var n=typeof e;return t=t??$Ie,!!t&&(n=="number"||n!="symbol"&&RIe.test(e))&&e>-1&&e%1==0&&e<t}var JD=DIe,LIe=9007199254740991;function NIe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=LIe}var QD=NIe,zIe=mu,jIe=QD,BIe=gu,FIe="[object Arguments]",UIe="[object Array]",VIe="[object Boolean]",WIe="[object Date]",qIe="[object Error]",GIe="[object Function]",HIe="[object Map]",YIe="[object Number]",KIe="[object Object]",ZIe="[object RegExp]",XIe="[object Set]",JIe="[object String]",QIe="[object WeakMap]",e$e="[object ArrayBuffer]",t$e="[object DataView]",n$e="[object Float32Array]",r$e="[object Float64Array]",i$e="[object Int8Array]",o$e="[object Int16Array]",a$e="[object Int32Array]",s$e="[object Uint8Array]",l$e="[object Uint8ClampedArray]",c$e="[object Uint16Array]",u$e="[object Uint32Array]",zr={};zr[n$e]=zr[r$e]=zr[i$e]=zr[o$e]=zr[a$e]=zr[s$e]=zr[l$e]=zr[c$e]=zr[u$e]=!0;zr[FIe]=zr[UIe]=zr[e$e]=zr[VIe]=zr[t$e]=zr[WIe]=zr[qIe]=zr[GIe]=zr[HIe]=zr[YIe]=zr[KIe]=zr[ZIe]=zr[XIe]=zr[JIe]=zr[QIe]=!1;function d$e(e){return BIe(e)&&jIe(e.length)&&!!zr[zIe(e)]}var f$e=d$e;function h$e(e){return function(t){return e(t)}}var IH=h$e,uS={exports:{}};uS.exports;(function(e,t){var n=fH,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var f=i&&i.require&&i.require("util").types;return f||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(uS,uS.exports);var p$e=uS.exports,m$e=f$e,g$e=IH,nF=p$e,rF=nF&&nF.isTypedArray,y$e=rF?g$e(rF):m$e,$H=y$e,v$e=_Ie,b$e=XD,x$e=fa,_$e=MH,w$e=JD,S$e=$H,E$e=Object.prototype,C$e=E$e.hasOwnProperty;function T$e(e,t){var n=x$e(e),r=!n&&b$e(e),i=!n&&!r&&_$e(e),o=!n&&!r&&!i&&S$e(e),s=n||r||i||o,a=s?v$e(e.length,String):[],f=a.length;for(var h in e)(t||C$e.call(e,h))&&!(s&&(h=="length"||i&&(h=="offset"||h=="parent")||o&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||w$e(h,f)))&&a.push(h);return a}var k$e=T$e,P$e=Object.prototype;function O$e(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||P$e;return e===n}var A$e=O$e;function M$e(e,t){return function(n){return e(t(n))}}var RH=M$e,I$e=RH,$$e=I$e(Object.keys,Object),R$e=$$e,D$e=A$e,L$e=R$e,N$e=Object.prototype,z$e=N$e.hasOwnProperty;function j$e(e){if(!D$e(e))return L$e(e);var t=[];for(var n in Object(e))z$e.call(e,n)&&n!="constructor"&&t.push(n);return t}var B$e=j$e,F$e=ND,U$e=QD;function V$e(e){return e!=null&&U$e(e.length)&&!F$e(e)}var _x=V$e,W$e=k$e,q$e=B$e,G$e=_x;function H$e(e){return G$e(e)?W$e(e):q$e(e)}var uC=H$e,Y$e=cIe,K$e=bIe,Z$e=uC;function X$e(e){return Y$e(e,Z$e,K$e)}var J$e=X$e,iF=J$e,Q$e=1,eRe=Object.prototype,tRe=eRe.hasOwnProperty;function nRe(e,t,n,r,i,o){var s=n&Q$e,a=iF(e),f=a.length,h=iF(t),g=h.length;if(f!=g&&!s)return!1;for(var v=f;v--;){var x=a[v];if(!(s?x in t:tRe.call(t,x)))return!1}var k=o.get(e),O=o.get(t);if(k&&O)return k==t&&O==e;var C=!0;o.set(e,t),o.set(t,e);for(var M=s;++v<f;){x=a[v];var I=e[x],A=t[x];if(r)var P=s?r(A,I,x,t,e,o):r(I,A,x,e,t,o);if(!(P===void 0?I===A||i(I,A,n,r,o):P)){C=!1;break}M||(M=x=="constructor")}if(C&&!M){var $=e.constructor,z=t.constructor;$!=z&&"constructor"in e&&"constructor"in t&&!(typeof $=="function"&&$ instanceof $&&typeof z=="function"&&z instanceof z)&&(C=!1)}return o.delete(e),o.delete(t),C}var rRe=nRe,iRe=Oh,oRe=pc,aRe=iRe(oRe,"DataView"),sRe=aRe,lRe=Oh,cRe=pc,uRe=lRe(cRe,"Promise"),dRe=uRe,fRe=Oh,hRe=pc,pRe=fRe(hRe,"Set"),DH=pRe,mRe=Oh,gRe=pc,yRe=mRe(gRe,"WeakMap"),vRe=yRe,XA=sRe,JA=BD,QA=dRe,eM=DH,tM=vRe,LH=mu,Hg=pH,oF="[object Map]",bRe="[object Object]",aF="[object Promise]",sF="[object Set]",lF="[object WeakMap]",cF="[object DataView]",xRe=Hg(XA),_Re=Hg(JA),wRe=Hg(QA),SRe=Hg(eM),ERe=Hg(tM),Af=LH;(XA&&Af(new XA(new ArrayBuffer(1)))!=cF||JA&&Af(new JA)!=oF||QA&&Af(QA.resolve())!=aF||eM&&Af(new eM)!=sF||tM&&Af(new tM)!=lF)&&(Af=function(e){var t=LH(e),n=t==bRe?e.constructor:void 0,r=n?Hg(n):"";if(r)switch(r){case xRe:return cF;case _Re:return oF;case wRe:return aF;case SRe:return sF;case ERe:return lF}return t});var CRe=Af,RP=EH,TRe=PH,kRe=iIe,PRe=rRe,uF=CRe,dF=fa,fF=MH,ORe=$H,ARe=1,hF="[object Arguments]",pF="[object Array]",y1="[object Object]",MRe=Object.prototype,mF=MRe.hasOwnProperty;function IRe(e,t,n,r,i,o){var s=dF(e),a=dF(t),f=s?pF:uF(e),h=a?pF:uF(t);f=f==hF?y1:f,h=h==hF?y1:h;var g=f==y1,v=h==y1,x=f==h;if(x&&fF(e)){if(!fF(t))return!1;s=!0,g=!1}if(x&&!g)return o||(o=new RP),s||ORe(e)?TRe(e,t,n,r,i,o):kRe(e,t,f,n,r,i,o);if(!(n&ARe)){var k=g&&mF.call(e,"__wrapped__"),O=v&&mF.call(t,"__wrapped__");if(k||O){var C=k?e.value():e,M=O?t.value():t;return o||(o=new RP),i(C,M,n,r,o)}}return x?(o||(o=new RP),PRe(e,t,n,r,i,o)):!1}var $Re=IRe,RRe=$Re,gF=gu;function NH(e,t,n,r,i){return e===t?!0:e==null||t==null||!gF(e)&&!gF(t)?e!==e&&t!==t:RRe(e,t,n,r,NH,i)}var eL=NH,DRe=EH,LRe=eL,NRe=1,zRe=2;function jRe(e,t,n,r){var i=n.length,o=i,s=!r;if(e==null)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=n[i];var f=a[0],h=e[f],g=a[1];if(s&&a[2]){if(h===void 0&&!(f in e))return!1}else{var v=new DRe;if(r)var x=r(h,g,f,e,t,v);if(!(x===void 0?LRe(g,h,NRe|zRe,r,v):x))return!1}}return!0}var BRe=jRe,FRe=Vd;function URe(e){return e===e&&!FRe(e)}var zH=URe,VRe=zH,WRe=uC;function qRe(e){for(var t=WRe(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,VRe(i)]}return t}var GRe=qRe;function HRe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var jH=HRe,YRe=BRe,KRe=GRe,ZRe=jH;function XRe(e){var t=KRe(e);return t.length==1&&t[0][2]?ZRe(t[0][0],t[0][1]):function(n){return n===e||YRe(n,e,t)}}var JRe=XRe;function QRe(e,t){return e!=null&&t in Object(e)}var eDe=QRe,tDe=vH,nDe=XD,rDe=fa,iDe=JD,oDe=QD,aDe=QE;function sDe(e,t,n){t=tDe(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var s=aDe(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&oDe(i)&&iDe(s,i)&&(rDe(e)||nDe(e)))}var lDe=sDe,cDe=eDe,uDe=lDe;function dDe(e,t){return e!=null&&uDe(e,t,cDe)}var fDe=dDe,hDe=eL,pDe=bH,mDe=fDe,gDe=zD,yDe=zH,vDe=jH,bDe=QE,xDe=1,_De=2;function wDe(e,t){return gDe(e)&&yDe(t)?vDe(bDe(e),t):function(n){var r=pDe(n,e);return r===void 0&&r===t?mDe(n,e):hDe(t,r,xDe|_De)}}var SDe=wDe;function EDe(e){return e}var Yg=EDe;function CDe(e){return function(t){return t==null?void 0:t[e]}}var TDe=CDe,kDe=WD;function PDe(e){return function(t){return kDe(t,e)}}var ODe=PDe,ADe=TDe,MDe=ODe,IDe=zD,$De=QE;function RDe(e){return IDe(e)?ADe($De(e)):MDe(e)}var DDe=RDe,LDe=JRe,NDe=SDe,zDe=Yg,jDe=fa,BDe=DDe;function FDe(e){return typeof e=="function"?e:e==null?zDe:typeof e=="object"?jDe(e)?NDe(e[0],e[1]):LDe(e):BDe(e)}var Wd=FDe;function UDe(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var BH=UDe;function VDe(e){return e!==e}var WDe=VDe;function qDe(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var GDe=qDe,HDe=BH,YDe=WDe,KDe=GDe;function ZDe(e,t,n){return t===t?KDe(e,t,n):HDe(e,YDe,n)}var XDe=ZDe,JDe=XDe;function QDe(e,t){var n=e==null?0:e.length;return!!n&&JDe(e,t,0)>-1}var eLe=QDe;function tLe(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var nLe=tLe;function rLe(){}var iLe=rLe,DP=DH,oLe=iLe,aLe=ZD,sLe=1/0,lLe=DP&&1/aLe(new DP([,-0]))[1]==sLe?function(e){return new DP(e)}:oLe,cLe=lLe,uLe=CH,dLe=eLe,fLe=nLe,hLe=kH,pLe=cLe,mLe=ZD,gLe=200;function yLe(e,t,n){var r=-1,i=dLe,o=e.length,s=!0,a=[],f=a;if(n)s=!1,i=fLe;else if(o>=gLe){var h=t?null:pLe(e);if(h)return mLe(h);s=!1,i=hLe,f=new uLe}else f=t?[]:a;e:for(;++r<o;){var g=e[r],v=t?t(g):g;if(g=n||g!==0?g:0,s&&v===v){for(var x=f.length;x--;)if(f[x]===v)continue e;t&&f.push(v),a.push(g)}else i(f,v,n)||(f!==a&&f.push(v),a.push(g))}return a}var vLe=yLe,bLe=Wd,xLe=vLe;function _Le(e,t){return e&&e.length?xLe(e,bLe(t)):[]}var wLe=_Le;const dS=tr(wLe);var th=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function SLe(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}var ELe=SLe,CLe=ELe;function TLe(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:CLe(e,t,n)}var kLe=TLe,PLe="\\ud800-\\udfff",OLe="\\u0300-\\u036f",ALe="\\ufe20-\\ufe2f",MLe="\\u20d0-\\u20ff",ILe=OLe+ALe+MLe,$Le="\\ufe0e\\ufe0f",RLe="\\u200d",DLe=RegExp("["+RLe+PLe+ILe+$Le+"]");function LLe(e){return DLe.test(e)}var FH=LLe;function NLe(e){return e.split("")}var zLe=NLe,UH="\\ud800-\\udfff",jLe="\\u0300-\\u036f",BLe="\\ufe20-\\ufe2f",FLe="\\u20d0-\\u20ff",ULe=jLe+BLe+FLe,VLe="\\ufe0e\\ufe0f",WLe="["+UH+"]",nM="["+ULe+"]",rM="\\ud83c[\\udffb-\\udfff]",qLe="(?:"+nM+"|"+rM+")",VH="[^"+UH+"]",WH="(?:\\ud83c[\\udde6-\\uddff]){2}",qH="[\\ud800-\\udbff][\\udc00-\\udfff]",GLe="\\u200d",GH=qLe+"?",HH="["+VLe+"]?",HLe="(?:"+GLe+"(?:"+[VH,WH,qH].join("|")+")"+HH+GH+")*",YLe=HH+GH+HLe,KLe="(?:"+[VH+nM+"?",nM,WH,qH,WLe].join("|")+")",ZLe=RegExp(rM+"(?="+rM+")|"+KLe+YLe,"g");function XLe(e){return e.match(ZLe)||[]}var JLe=XLe,QLe=zLe,eNe=FH,tNe=JLe;function nNe(e){return eNe(e)?tNe(e):QLe(e)}var rNe=nNe,iNe=kLe,oNe=FH,aNe=rNe,sNe=yH;function lNe(e){return function(t){t=sNe(t);var n=oNe(t)?aNe(t):void 0,r=n?n[0]:t.charAt(0),i=n?iNe(n,1).join(""):t.slice(1);return r[e]()+i}}var cNe=lNe,uNe=cNe,dNe=uNe("toUpperCase"),fNe=dNe;const dC=tr(fNe);function Ir(e){return function(){return e}}const YH=Math.cos,fS=Math.sin,Cl=Math.sqrt,hS=Math.PI,fC=2*hS,iM=Math.PI,oM=2*iM,Mf=1e-6,hNe=oM-Mf;function KH(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function pNe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return KH;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class mNe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?KH:pNe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,f=r-t,h=i-n,g=s-t,v=a-n,x=g*g+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(x>Mf)if(!(Math.abs(v*f-h*g)>Mf)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let k=r-s,O=i-a,C=f*f+h*h,M=k*k+O*O,I=Math.sqrt(C),A=Math.sqrt(x),P=o*Math.tan((iM-Math.acos((C+x-M)/(2*I*A)))/2),$=P/A,z=P/I;Math.abs($-1)>Mf&&this._append`L${t+$*g},${n+$*v}`,this._append`A${o},${o},0,0,${+(v*k>g*O)},${this._x1=t+z*f},${this._y1=n+z*h}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),f=r*Math.sin(i),h=t+a,g=n+f,v=1^s,x=s?i-o:o-i;this._x1===null?this._append`M${h},${g}`:(Math.abs(this._x1-h)>Mf||Math.abs(this._y1-g)>Mf)&&this._append`L${h},${g}`,r&&(x<0&&(x=x%oM+oM),x>hNe?this._append`A${r},${r},0,1,${v},${t-a},${n-f}A${r},${r},0,1,${v},${this._x1=h},${this._y1=g}`:x>Mf&&this._append`A${r},${r},0,${+(x>=iM)},${v},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function tL(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new mNe(t)}function nL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ZH(e){this._context=e}ZH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function hC(e){return new ZH(e)}function XH(e){return e[0]}function JH(e){return e[1]}function QH(e,t){var n=Ir(!0),r=null,i=hC,o=null,s=tL(a);e=typeof e=="function"?e:e===void 0?XH:Ir(e),t=typeof t=="function"?t:t===void 0?JH:Ir(t);function a(f){var h,g=(f=nL(f)).length,v,x=!1,k;for(r==null&&(o=i(k=s())),h=0;h<=g;++h)!(h<g&&n(v=f[h],h,f))===x&&((x=!x)?o.lineStart():o.lineEnd()),x&&o.point(+e(v,h,f),+t(v,h,f));if(k)return o=null,k+""||null}return a.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ir(+f),a):e},a.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ir(+f),a):t},a.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Ir(!!f),a):n},a.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),a):i},a.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),a):r},a}function v1(e,t,n){var r=null,i=Ir(!0),o=null,s=hC,a=null,f=tL(h);e=typeof e=="function"?e:e===void 0?XH:Ir(+e),t=typeof t=="function"?t:Ir(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?JH:Ir(+n);function h(v){var x,k,O,C=(v=nL(v)).length,M,I=!1,A,P=new Array(C),$=new Array(C);for(o==null&&(a=s(A=f())),x=0;x<=C;++x){if(!(x<C&&i(M=v[x],x,v))===I)if(I=!I)k=x,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),O=x-1;O>=k;--O)a.point(P[O],$[O]);a.lineEnd(),a.areaEnd()}I&&(P[x]=+e(M,x,v),$[x]=+t(M,x,v),a.point(r?+r(M,x,v):P[x],n?+n(M,x,v):$[x]))}if(A)return a=null,A+""||null}function g(){return QH().defined(i).curve(s).context(o)}return h.x=function(v){return arguments.length?(e=typeof v=="function"?v:Ir(+v),r=null,h):e},h.x0=function(v){return arguments.length?(e=typeof v=="function"?v:Ir(+v),h):e},h.x1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:Ir(+v),h):r},h.y=function(v){return arguments.length?(t=typeof v=="function"?v:Ir(+v),n=null,h):t},h.y0=function(v){return arguments.length?(t=typeof v=="function"?v:Ir(+v),h):t},h.y1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:Ir(+v),h):n},h.lineX0=h.lineY0=function(){return g().x(e).y(t)},h.lineY1=function(){return g().x(e).y(n)},h.lineX1=function(){return g().x(r).y(t)},h.defined=function(v){return arguments.length?(i=typeof v=="function"?v:Ir(!!v),h):i},h.curve=function(v){return arguments.length?(s=v,o!=null&&(a=s(o)),h):s},h.context=function(v){return arguments.length?(v==null?o=a=null:a=s(o=v),h):o},h}class eY{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function gNe(e){return new eY(e,!0)}function yNe(e){return new eY(e,!1)}const rL={draw(e,t){const n=Cl(t/hS);e.moveTo(n,0),e.arc(0,0,n,0,fC)}},vNe={draw(e,t){const n=Cl(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},tY=Cl(1/3),bNe=tY*2,xNe={draw(e,t){const n=Cl(t/bNe),r=n*tY;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},_Ne={draw(e,t){const n=Cl(t),r=-n/2;e.rect(r,r,n,n)}},wNe=.8908130915292852,nY=fS(hS/10)/fS(7*hS/10),SNe=fS(fC/10)*nY,ENe=-YH(fC/10)*nY,CNe={draw(e,t){const n=Cl(t*wNe),r=SNe*n,i=ENe*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const s=fC*o/5,a=YH(s),f=fS(s);e.lineTo(f*n,-a*n),e.lineTo(a*r-f*i,f*r+a*i)}e.closePath()}},LP=Cl(3),TNe={draw(e,t){const n=-Cl(t/(LP*3));e.moveTo(0,n*2),e.lineTo(-LP*n,-n),e.lineTo(LP*n,-n),e.closePath()}},gs=-.5,ys=Cl(3)/2,aM=1/Cl(12),kNe=(aM/2+1)*3,PNe={draw(e,t){const n=Cl(t/kNe),r=n/2,i=n*aM,o=r,s=n*aM+n,a=-o,f=s;e.moveTo(r,i),e.lineTo(o,s),e.lineTo(a,f),e.lineTo(gs*r-ys*i,ys*r+gs*i),e.lineTo(gs*o-ys*s,ys*o+gs*s),e.lineTo(gs*a-ys*f,ys*a+gs*f),e.lineTo(gs*r+ys*i,gs*i-ys*r),e.lineTo(gs*o+ys*s,gs*s-ys*o),e.lineTo(gs*a+ys*f,gs*f-ys*a),e.closePath()}};function ONe(e,t){let n=null,r=tL(i);e=typeof e=="function"?e:Ir(e||rL),t=typeof t=="function"?t:Ir(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Ir(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Ir(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function pS(){}function mS(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function rY(e){this._context=e}rY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ANe(e){return new rY(e)}function iY(e){this._context=e}iY.prototype={areaStart:pS,areaEnd:pS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:mS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function MNe(e){return new iY(e)}function oY(e){this._context=e}oY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:mS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function INe(e){return new oY(e)}function aY(e){this._context=e}aY.prototype={areaStart:pS,areaEnd:pS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function $Ne(e){return new aY(e)}function yF(e){return e<0?-1:1}function vF(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(yF(o)+yF(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function bF(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function NP(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function gS(e){this._context=e}gS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:NP(this,this._t0,bF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,NP(this,bF(this,n=vF(this,e,t)),n);break;default:NP(this,this._t0,n=vF(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function sY(e){this._context=new lY(e)}(sY.prototype=Object.create(gS.prototype)).point=function(e,t){gS.prototype.point.call(this,t,e)};function lY(e){this._context=e}lY.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function RNe(e){return new gS(e)}function DNe(e){return new sY(e)}function cY(e){this._context=e}cY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=xF(e),i=xF(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function xF(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function LNe(e){return new cY(e)}function pC(e,t){this._context=e,this._t=t}pC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function NNe(e){return new pC(e,.5)}function zNe(e){return new pC(e,0)}function jNe(e){return new pC(e,1)}function rg(e,t){if((s=e.length)>1)for(var n=1,r,i,o=e[t[0]],s,a=o.length;n<s;++n)for(i=o,o=e[t[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function sM(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function BNe(e,t){return e[t]}function FNe(e){const t=[];return t.key=e,t}function UNe(){var e=Ir([]),t=sM,n=rg,r=BNe;function i(o){var s=Array.from(e.apply(this,arguments),FNe),a,f=s.length,h=-1,g;for(const v of o)for(a=0,++h;a<f;++a)(s[a][h]=[0,+r(v,s[a].key,h,o)]).data=v;for(a=0,g=nL(t(s));a<f;++a)s[g[a]].index=a;return n(s,g),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Ir(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ir(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?sM:typeof o=="function"?o:Ir(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??rg,i):n},i}function VNe(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}rg(e,t)}}function WNe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=e[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}rg(e,t)}}function qNe(e,t){if(!(!((s=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,f=0,h=0;a<s;++a){for(var g=e[t[a]],v=g[r][1]||0,x=g[r-1][1]||0,k=(v-x)/2,O=0;O<a;++O){var C=e[t[O]],M=C[r][1]||0,I=C[r-1][1]||0;k+=M-I}f+=v,h+=k*v}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,rg(e,t)}}function fb(e){"@babel/helpers - typeof";return fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fb(e)}var GNe=["type","size","sizeType"];function lM(){return lM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lM.apply(this,arguments)}function _F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_F(Object(n),!0).forEach(function(r){HNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_F(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HNe(e,t,n){return t=YNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YNe(e){var t=KNe(e,"string");return fb(t)==="symbol"?t:String(t)}function KNe(e,t){if(fb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZNe(e,t){if(e==null)return{};var n=XNe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function XNe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var uY={symbolCircle:rL,symbolCross:vNe,symbolDiamond:xNe,symbolSquare:_Ne,symbolStar:CNe,symbolTriangle:TNe,symbolWye:PNe},JNe=Math.PI/180,QNe=function(t){var n="symbol".concat(dC(t));return uY[n]||rL},eze=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*JNe;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},tze=function(t,n){uY["symbol".concat(dC(t))]=n},iL=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,o=i===void 0?64:i,s=t.sizeType,a=s===void 0?"area":s,f=ZNe(t,GNe),h=wF(wF({},f),{},{type:r,size:o,sizeType:a}),g=function(){var M=QNe(r),I=ONe().type(M).size(eze(o,a,r));return I()},v=h.className,x=h.cx,k=h.cy,O=Wn(h,!0);return x===+x&&k===+k&&o===+o?Pe.createElement("path",lM({},O,{className:pr("recharts-symbols",v),transform:"translate(".concat(x,", ").concat(k,")"),d:g()})):null};iL.registerSymbol=tze;function ig(e){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(e)}function cM(){return cM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cM.apply(this,arguments)}function SF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nze(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SF(Object(n),!0).forEach(function(r){hb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dY(r.key),r)}}function ize(e,t,n){return t&&EF(e.prototype,t),n&&EF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uM(e,t)}function uM(e,t){return uM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uM(e,t)}function aze(e){var t=cze();return function(){var r=yS(e),i;if(t){var o=yS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return sze(this,i)}}function sze(e,t){if(t&&(ig(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lze(e)}function lze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cze(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yS(e){return yS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yS(e)}function hb(e,t,n){return t=dY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dY(e){var t=uze(e,"string");return ig(t)==="symbol"?t:String(t)}function uze(e,t){if(ig(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ig(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vs=32,oL=function(e){oze(n,e);var t=aze(n);function n(){return rze(this,n),t.apply(this,arguments)}return ize(n,[{key:"renderIcon",value:function(i){var o=this.props.inactiveColor,s=vs/2,a=vs/6,f=vs/3,h=i.inactive?o:i.color;if(i.type==="plainline")return Pe.createElement("line",{strokeWidth:4,fill:"none",stroke:h,strokeDasharray:i.payload.strokeDasharray,x1:0,y1:s,x2:vs,y2:s,className:"recharts-legend-icon"});if(i.type==="line")return Pe.createElement("path",{strokeWidth:4,fill:"none",stroke:h,d:"M0,".concat(s,"h").concat(f,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*f,",").concat(s,`
            H`).concat(vs,"M").concat(2*f,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(f,",").concat(s),className:"recharts-legend-icon"});if(i.type==="rect")return Pe.createElement("path",{stroke:"none",fill:h,d:"M0,".concat(vs/8,"h").concat(vs,"v").concat(vs*3/4,"h").concat(-vs,"z"),className:"recharts-legend-icon"});if(Pe.isValidElement(i.legendIcon)){var g=nze({},i);return delete g.legendIcon,Pe.cloneElement(i.legendIcon,g)}return Pe.createElement(iL,{fill:h,cx:s,cy:s,size:vs,sizeType:"diameter",type:i.type})}},{key:"renderItems",value:function(){var i=this,o=this.props,s=o.payload,a=o.iconSize,f=o.layout,h=o.formatter,g=o.inactiveColor,v={x:0,y:0,width:vs,height:vs},x={display:f==="horizontal"?"inline-block":"block",marginRight:10},k={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(O,C){var M,I=O.formatter||h,A=pr((M={"recharts-legend-item":!0},hb(M,"legend-item-".concat(C),!0),hb(M,"inactive",O.inactive),M));if(O.type==="none")return null;var P=yn(O.value)?null:O.value;th(!yn(O.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var $=O.inactive?g:O.color;return Pe.createElement("li",cM({className:A,style:x,key:"legend-item-".concat(C)},sS(i.props,O,C)),Pe.createElement(KA,{width:a,height:a,viewBox:v,style:k},i.renderIcon(O)),Pe.createElement("span",{className:"recharts-legend-item-text",style:{color:$}},I?I(P,O,C):P))})}},{key:"render",value:function(){var i=this.props,o=i.payload,s=i.layout,a=i.align;if(!o||!o.length)return null;var f={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return Pe.createElement("ul",{className:"recharts-default-legend",style:f},this.renderItems())}}]),n}(V.PureComponent);hb(oL,"displayName","Legend");hb(oL,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}var dze=["ref"];function CF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CF(Object(n),!0).forEach(function(r){mC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hY(r.key),r)}}function hze(e,t,n){return t&&TF(e.prototype,t),n&&TF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dM(e,t)}function dM(e,t){return dM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dM(e,t)}function mze(e){var t=yze();return function(){var r=vS(e),i;if(t){var o=vS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return gze(this,i)}}function gze(e,t){if(t&&(og(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fY(e)}function fY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yze(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vS(e){return vS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vS(e)}function mC(e,t,n){return t=hY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hY(e){var t=vze(e,"string");return og(t)==="symbol"?t:String(t)}function vze(e,t){if(og(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(og(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bze(e,t){if(e==null)return{};var n=xze(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xze(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function _ze(e){return e.value}function wze(e,t){return e===!0?dS(t,_ze):yn(e)?dS(t,e):t}function Sze(e,t){if(Pe.isValidElement(e))return Pe.cloneElement(e,t);if(yn(e))return Pe.createElement(e,t);t.ref;var n=bze(t,dze);return Pe.createElement(oL,n)}var kF=1,ag=function(e){pze(n,e);var t=mze(n);function n(){var r;fze(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),mC(fY(r),"state",{boxWidth:-1,boxHeight:-1}),r}return hze(n,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"getBBoxSnapshot",value:function(){var i=this.state,o=i.boxWidth,s=i.boxHeight;return o>=0&&s>=0?{width:o,height:s}:null}},{key:"getDefaultPosition",value:function(i){var o=this.props,s=o.layout,a=o.align,f=o.verticalAlign,h=o.margin,g=o.chartWidth,v=o.chartHeight,x,k;if(!i||(i.left===void 0||i.left===null)&&(i.right===void 0||i.right===null))if(a==="center"&&s==="vertical"){var O=this.getBBoxSnapshot()||{width:0};x={left:((g||0)-O.width)/2}}else x=a==="right"?{right:h&&h.right||0}:{left:h&&h.left||0};if(!i||(i.top===void 0||i.top===null)&&(i.bottom===void 0||i.bottom===null))if(f==="middle"){var C=this.getBBoxSnapshot()||{height:0};k={top:((v||0)-C.height)/2}}else k=f==="bottom"?{bottom:h&&h.bottom||0}:{top:h&&h.top||0};return Dp(Dp({},x),k)}},{key:"updateBBox",value:function(){var i=this.state,o=i.boxWidth,s=i.boxHeight,a=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var f=this.wrapperNode.getBoundingClientRect();(Math.abs(f.width-o)>kF||Math.abs(f.height-s)>kF)&&this.setState({boxWidth:f.width,boxHeight:f.height},function(){a&&a(f)})}else(o!==-1||s!==-1)&&this.setState({boxWidth:-1,boxHeight:-1},function(){a&&a(null)})}},{key:"render",value:function(){var i=this,o=this.props,s=o.content,a=o.width,f=o.height,h=o.wrapperStyle,g=o.payloadUniqBy,v=o.payload,x=Dp(Dp({position:"absolute",width:a||"auto",height:f||"auto"},this.getDefaultPosition(h)),h);return Pe.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:function(O){i.wrapperNode=O}},Sze(s,Dp(Dp({},this.props),{},{payload:wze(g,v)})))}}],[{key:"getWithHeight",value:function(i,o){var s=i.props.layout;return s==="vertical"&&Ct(i.props.height)?{height:i.props.height}:s==="horizontal"?{width:i.props.width||o}:null}}]),n}(V.PureComponent);mC(ag,"displayName","Legend");mC(ag,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Eze=Object.getOwnPropertyNames,Cze=Object.getOwnPropertySymbols,Tze=Object.prototype.hasOwnProperty;function PF(e,t){return function(r,i,o){return e(r,i,o)&&t(r,i,o)}}function b1(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var f=e(n,r,i);return o.delete(n),o.delete(r),f}}function OF(e){return Eze(e).concat(Cze(e))}var pY=Object.hasOwn||function(e,t){return Tze.call(e,t)};function Kg(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var mY="_owner",AF=Object.getOwnPropertyDescriptor,MF=Object.keys;function kze(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function Pze(e,t){return Kg(e.getTime(),t.getTime())}function IF(e,t,n){if(e.size!==t.size)return!1;for(var r={},i=e.entries(),o=0,s,a;(s=i.next())&&!s.done;){for(var f=t.entries(),h=!1,g=0;(a=f.next())&&!a.done;){var v=s.value,x=v[0],k=v[1],O=a.value,C=O[0],M=O[1];!h&&!r[g]&&(h=n.equals(x,C,o,g,e,t,n)&&n.equals(k,M,x,C,e,t,n))&&(r[g]=!0),g++}if(!h)return!1;o++}return!0}function Oze(e,t,n){var r=MF(e),i=r.length;if(MF(t).length!==i)return!1;for(var o;i-- >0;)if(o=r[i],o===mY&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!pY(t,o)||!n.equals(e[o],t[o],o,o,e,t,n))return!1;return!0}function $v(e,t,n){var r=OF(e),i=r.length;if(OF(t).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],o===mY&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!pY(t,o)||!n.equals(e[o],t[o],o,o,e,t,n)||(s=AF(e,o),a=AF(t,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function Aze(e,t){return Kg(e.valueOf(),t.valueOf())}function Mze(e,t){return e.source===t.source&&e.flags===t.flags}function $F(e,t,n){if(e.size!==t.size)return!1;for(var r={},i=e.values(),o,s;(o=i.next())&&!o.done;){for(var a=t.values(),f=!1,h=0;(s=a.next())&&!s.done;)!f&&!r[h]&&(f=n.equals(o.value,s.value,o.value,s.value,e,t,n))&&(r[h]=!0),h++;if(!f)return!1}return!0}function Ize(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}var $ze="[object Arguments]",Rze="[object Boolean]",Dze="[object Date]",Lze="[object Map]",Nze="[object Number]",zze="[object Object]",jze="[object RegExp]",Bze="[object Set]",Fze="[object String]",Uze=Array.isArray,RF=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,DF=Object.assign,Vze=Object.prototype.toString.call.bind(Object.prototype.toString);function Wze(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,i=e.areObjectsEqual,o=e.arePrimitiveWrappersEqual,s=e.areRegExpsEqual,a=e.areSetsEqual,f=e.areTypedArraysEqual;return function(g,v,x){if(g===v)return!0;if(g==null||v==null||typeof g!="object"||typeof v!="object")return g!==g&&v!==v;var k=g.constructor;if(k!==v.constructor)return!1;if(k===Object)return i(g,v,x);if(Uze(g))return t(g,v,x);if(RF!=null&&RF(g))return f(g,v,x);if(k===Date)return n(g,v,x);if(k===RegExp)return s(g,v,x);if(k===Map)return r(g,v,x);if(k===Set)return a(g,v,x);var O=Vze(g);return O===Dze?n(g,v,x):O===jze?s(g,v,x):O===Lze?r(g,v,x):O===Bze?a(g,v,x):O===zze?typeof g.then!="function"&&typeof v.then!="function"&&i(g,v,x):O===$ze?i(g,v,x):O===Rze||O===Nze||O===Fze?o(g,v,x):!1}}function qze(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?$v:kze,areDatesEqual:Pze,areMapsEqual:r?PF(IF,$v):IF,areObjectsEqual:r?$v:Oze,arePrimitiveWrappersEqual:Aze,areRegExpsEqual:Mze,areSetsEqual:r?PF($F,$v):$F,areTypedArraysEqual:r?$v:Ize};if(n&&(i=DF({},i,n(i))),t){var o=b1(i.areArraysEqual),s=b1(i.areMapsEqual),a=b1(i.areObjectsEqual),f=b1(i.areSetsEqual);i=DF({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:f})}return i}function Gze(e){return function(t,n,r,i,o,s,a){return e(t,n,a)}}function Hze(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(f,h){var g=r(),v=g.cache,x=v===void 0?t?new WeakMap:void 0:v,k=g.meta;return n(f,h,{cache:x,equals:i,meta:k,strict:o})};if(t)return function(f,h){return n(f,h,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(f,h){return n(f,h,s)}}var Yze=qd();qd({strict:!0});qd({circular:!0});qd({circular:!0,strict:!0});qd({createInternalComparator:function(){return Kg}});qd({strict:!0,createInternalComparator:function(){return Kg}});qd({circular:!0,createInternalComparator:function(){return Kg}});qd({circular:!0,createInternalComparator:function(){return Kg},strict:!0});function qd(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,o=e.strict,s=o===void 0?!1:o,a=qze(e),f=Wze(a),h=r?r(f):Gze(f);return Hze({circular:n,comparator:f,createState:i,equals:h,strict:s})}function Kze(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function LF(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>t?(e(o),n=-1):Kze(i)};requestAnimationFrame(r)}function fM(e){"@babel/helpers - typeof";return fM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fM(e)}function Zze(e){return eje(e)||Qze(e)||Jze(e)||Xze()}function Xze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jze(e,t){if(e){if(typeof e=="string")return NF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NF(e,t)}}function NF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eje(e){if(Array.isArray(e))return e}function tje(){var e={},t=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=Zze(s),f=a[0],h=a.slice(1);if(typeof f=="number"){LF(i.bind(null,h),f);return}i(f),LF(i.bind(null,h));return}fM(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function pb(e){"@babel/helpers - typeof";return pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pb(e)}function zF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zF(Object(n),!0).forEach(function(r){bS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bS(e,t,n){return t=nje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nje(e){var t=rje(e,"string");return pb(t)==="symbol"?t:String(t)}function rje(e,t){if(pb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ije=["Webkit","Moz","O","ms"],oje=["-webkit-","-moz-","-o-","-ms-"],aje=["transform","transformOrigin","transition"],sje=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},lje=function(t){return t},cje=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},uje=function(t,n){if(aje.indexOf(t)===-1)return bS({},t,Number.isNaN(n)?0:n);var r=t==="transition",i=t.replace(/(\w)/,function(s){return s.toUpperCase()}),o=n;return ije.reduce(function(s,a,f){return r&&(o=n.replace(/(transform|transform-origin)/gim,"".concat(oje[f],"$1"))),sg(sg({},s),{},bS({},a+i,o))},{})},C0=function(t,n){return Object.keys(n).reduce(function(r,i){return sg(sg({},r),{},bS({},i,t(i,n[i])))},{})},hM=function(t){return Object.keys(t).reduce(function(n,r){return sg(sg({},n),uje(r,n[r]))},t)},jF=function(t,n,r){return t.map(function(i){return"".concat(cje(i)," ").concat(n,"ms ").concat(r)}).join(",")};function dje(e,t){return pje(e)||hje(e,t)||gY(e,t)||fje()}function fje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hje(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function pje(e){if(Array.isArray(e))return e}function mje(e){return vje(e)||yje(e)||gY(e)||gje()}function gje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gY(e,t){if(e){if(typeof e=="string")return pM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pM(e,t)}}function yje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vje(e){if(Array.isArray(e))return pM(e)}function pM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xS=1e-4,yY=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},vY=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},BF=function(t,n){return function(r){var i=yY(t,n);return vY(i,r)}},bje=function(t,n){return function(r){var i=yY(t,n),o=[].concat(mje(i.map(function(s,a){return s*a}).slice(1)),[0]);return vY(o,r)}},FF=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var f=n[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var h=f[1].split(")")[0].split(",").map(function(M){return parseFloat(M)}),g=dje(h,4);i=g[0],o=g[1],s=g[2],a=g[3]}}}var v=BF(i,s),x=BF(o,a),k=bje(i,s),O=function(I){return I>1?1:I<0?0:I},C=function(I){for(var A=I>1?1:I,P=A,$=0;$<8;++$){var z=v(P)-A,N=k(P);if(Math.abs(z-A)<xS||N<xS)return x(P);P=O(P-z/N)}return x(P)};return C.isStepper=!1,C},xje=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,o=i===void 0?8:i,s=t.dt,a=s===void 0?17:s,f=function(g,v,x){var k=-(g-v)*r,O=x*o,C=x+(k-O)*a/1e3,M=x*a/1e3+g;return Math.abs(M-v)<xS&&Math.abs(C)<xS?[v,0]:[M,C]};return f.isStepper=!0,f.dt=a,f},_je=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return FF(i);case"spring":return xje();default:if(i.split("(")[0]==="cubic-bezier")return FF(i)}return typeof i=="function"?i:null};function mb(e){"@babel/helpers - typeof";return mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mb(e)}function UF(e){return Eje(e)||Sje(e)||bY(e)||wje()}function wje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Eje(e){if(Array.isArray(e))return gM(e)}function VF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VF(Object(n),!0).forEach(function(r){mM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mM(e,t,n){return t=Cje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cje(e){var t=Tje(e,"string");return mb(t)==="symbol"?t:String(t)}function Tje(e,t){if(mb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kje(e,t){return Aje(e)||Oje(e,t)||bY(e,t)||Pje()}function Pje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bY(e,t){if(e){if(typeof e=="string")return gM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gM(e,t)}}function gM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oje(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function Aje(e){if(Array.isArray(e))return e}var _S=function(t,n,r){return t+(n-t)*r},yM=function(t){var n=t.from,r=t.to;return n!==r},Mje=function e(t,n,r){var i=C0(function(o,s){if(yM(s)){var a=t(s.from,s.to,s.velocity),f=kje(a,2),h=f[0],g=f[1];return fo(fo({},s),{},{from:h,velocity:g})}return s},n);return r<1?C0(function(o,s){return yM(s)?fo(fo({},s),{},{velocity:_S(s.velocity,i[o].velocity,r),from:_S(s.from,i[o].from,r)}):s},n):e(t,i,r-1)};const Ije=function(e,t,n,r,i){var o=sje(e,t),s=o.reduce(function(M,I){return fo(fo({},M),{},mM({},I,[e[I],t[I]]))},{}),a=o.reduce(function(M,I){return fo(fo({},M),{},mM({},I,{from:e[I],velocity:0,to:t[I]}))},{}),f=-1,h,g,v=function(){return null},x=function(){return C0(function(I,A){return A.from},a)},k=function(){return!Object.values(a).filter(yM).length},O=function(I){h||(h=I);var A=I-h,P=A/n.dt;a=Mje(n,a,P),i(fo(fo(fo({},e),t),x())),h=I,k()||(f=requestAnimationFrame(v))},C=function(I){g||(g=I);var A=(I-g)/r,P=C0(function(z,N){return _S.apply(void 0,UF(N).concat([n(A)]))},s);if(i(fo(fo(fo({},e),t),P)),A<1)f=requestAnimationFrame(v);else{var $=C0(function(z,N){return _S.apply(void 0,UF(N).concat([n(1)]))},s);i(fo(fo(fo({},e),t),$))}};return v=n.isStepper?O:C,function(){return requestAnimationFrame(v),function(){cancelAnimationFrame(f)}}};function lg(e){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(e)}var $je=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Rje(e,t){if(e==null)return{};var n=Dje(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Dje(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function zP(e){return jje(e)||zje(e)||Nje(e)||Lje()}function Lje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nje(e,t){if(e){if(typeof e=="string")return vM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vM(e,t)}}function zje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jje(e){if(Array.isArray(e))return vM(e)}function vM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function el(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WF(Object(n),!0).forEach(function(r){t0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t0(e,t,n){return t=xY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xY(r.key),r)}}function Fje(e,t,n){return t&&qF(e.prototype,t),n&&qF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xY(e){var t=Uje(e,"string");return lg(t)==="symbol"?t:String(t)}function Uje(e,t){if(lg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bM(e,t)}function bM(e,t){return bM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bM(e,t)}function Wje(e){var t=qje();return function(){var r=wS(e),i;if(t){var o=wS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return xM(this,i)}}function xM(e,t){if(t&&(lg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _M(e)}function _M(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qje(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wS(e){return wS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wS(e)}var au=function(e){Vje(n,e);var t=Wje(n);function n(r,i){var o;Bje(this,n),o=t.call(this,r,i);var s=o.props,a=s.isActive,f=s.attributeName,h=s.from,g=s.to,v=s.steps,x=s.children,k=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(_M(o)),o.changeStyle=o.changeStyle.bind(_M(o)),!a||k<=0)return o.state={style:{}},typeof x=="function"&&(o.state={style:g}),xM(o);if(v&&v.length)o.state={style:v[0].style};else if(h){if(typeof x=="function")return o.state={style:h},xM(o);o.state={style:f?t0({},f,h):h}}else o.state={style:{}};return o}return Fje(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,f=o.attributeName,h=o.shouldReAnimate,g=o.to,v=o.from,x=this.state.style;if(a){if(!s){var k={style:f?t0({},f,g):g};this.state&&x&&(f&&x[f]!==g||!f&&x!==g)&&this.setState(k);return}if(!(Yze(i.to,g)&&i.canBegin&&i.isActive)){var O=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var C=O||h?v:i.to;if(this.state&&x){var M={style:f?t0({},f,C):C};(f&&[f]!==C||!f&&x!==C)&&this.setState(M)}this.runAnimation(el(el({},this.props),{},{from:C,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,f=i.duration,h=i.easing,g=i.begin,v=i.onAnimationEnd,x=i.onAnimationStart,k=Ije(s,a,_je(h),f,this.changeStyle),O=function(){o.stopJSAnimation=k()};this.manager.start([x,g,O,f,v])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,f=i.onAnimationStart,h=s[0],g=h.style,v=h.duration,x=v===void 0?0:v,k=function(C,M,I){if(I===0)return C;var A=M.duration,P=M.easing,$=P===void 0?"ease":P,z=M.style,N=M.properties,F=M.onAnimationEnd,G=I>0?s[I-1]:M,J=N||Object.keys(z);if(typeof $=="function"||$==="spring")return[].concat(zP(C),[o.runJSAnimation.bind(o,{from:G.style,to:z,duration:A,easing:$}),A]);var ee=jF(J,A,$),ae=el(el(el({},G.style),z),{},{transition:ee});return[].concat(zP(C),[ae,A,F]).filter(lje)};return this.manager.start([f].concat(zP(s.reduce(k,[g,Math.max(x,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=tje());var o=i.begin,s=i.duration,a=i.attributeName,f=i.to,h=i.easing,g=i.onAnimationStart,v=i.onAnimationEnd,x=i.steps,k=i.children,O=this.manager;if(this.unSubscribe=O.subscribe(this.handleStyleChange),typeof h=="function"||typeof k=="function"||h==="spring"){this.runJSAnimation(i);return}if(x.length>1){this.runStepAnimation(i);return}var C=a?t0({},a,f):f,M=jF(Object.keys(C),s,h);O.start([g,o,el(el({},C),{},{transition:M}),s,v])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var f=Rje(i,$je),h=V.Children.count(o),g=hM(this.state.style);if(typeof o=="function")return o(g);if(!a||h===0||s<=0)return o;var v=function(k){var O=k.props,C=O.style,M=C===void 0?{}:C,I=O.className,A=V.cloneElement(k,el(el({},f),{},{style:el(el({},M),g),className:I}));return A};return h===1?v(V.Children.only(o)):Pe.createElement("div",null,V.Children.map(o,function(x){return v(x)}))}}]),n}(V.PureComponent);au.displayName="Animate";au.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};au.propTypes={from:Pn.oneOfType([Pn.object,Pn.string]),to:Pn.oneOfType([Pn.object,Pn.string]),attributeName:Pn.string,duration:Pn.number,begin:Pn.number,easing:Pn.oneOfType([Pn.string,Pn.func]),steps:Pn.arrayOf(Pn.shape({duration:Pn.number.isRequired,style:Pn.object.isRequired,easing:Pn.oneOfType([Pn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Pn.func]),properties:Pn.arrayOf("string"),onAnimationEnd:Pn.func})),children:Pn.oneOfType([Pn.node,Pn.func]),isActive:Pn.bool,canBegin:Pn.bool,onAnimationEnd:Pn.func,shouldReAnimate:Pn.bool,onAnimationStart:Pn.func,onAnimationReStart:Pn.func};Number.isFinite===void 0&&(Number.isFinite=function(e){return typeof e=="number"&&isFinite(e)});Pn.object,Pn.object,Pn.object,Pn.element;Pn.object,Pn.object,Pn.object,Pn.oneOfType([Pn.array,Pn.element]),Pn.any;var GF=yx,Gje=XD,Hje=fa,HF=GF?GF.isConcatSpreadable:void 0;function Yje(e){return Hje(e)||Gje(e)||!!(HF&&e&&e[HF])}var Kje=Yje,Zje=OH,Xje=Kje;function _Y(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=Xje),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?_Y(a,t-1,n,r,i):Zje(i,a):r||(i[i.length]=a)}return i}var wY=_Y;function Jje(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var f=s[e?a:++i];if(n(o[f],f,o)===!1)break}return t}}var Qje=Jje,e5e=Qje,t5e=e5e(),n5e=t5e,r5e=n5e,i5e=uC;function o5e(e,t){return e&&r5e(e,t,i5e)}var SY=o5e,a5e=_x;function s5e(e,t){return function(n,r){if(n==null)return n;if(!a5e(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var l5e=s5e,c5e=SY,u5e=l5e,d5e=u5e(c5e),aL=d5e,f5e=aL,h5e=_x;function p5e(e,t){var n=-1,r=h5e(e)?Array(e.length):[];return f5e(e,function(i,o,s){r[++n]=t(i,o,s)}),r}var EY=p5e;function m5e(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var g5e=m5e,YF=Ug;function y5e(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,o=YF(e),s=t!==void 0,a=t===null,f=t===t,h=YF(t);if(!a&&!h&&!o&&e>t||o&&s&&f&&!a&&!h||r&&s&&f||!n&&f||!i)return 1;if(!r&&!o&&!h&&e<t||h&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!f)return-1}return 0}var v5e=y5e,b5e=v5e;function x5e(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var f=b5e(i[r],o[r]);if(f){if(r>=a)return f;var h=n[r];return f*(h=="desc"?-1:1)}}return e.index-t.index}var _5e=x5e,jP=VD,w5e=WD,S5e=Wd,E5e=EY,C5e=g5e,T5e=IH,k5e=_5e,P5e=Yg,O5e=fa;function A5e(e,t,n){t.length?t=jP(t,function(o){return O5e(o)?function(s){return w5e(s,o.length===1?o[0]:o)}:o}):t=[P5e];var r=-1;t=jP(t,T5e(S5e));var i=E5e(e,function(o,s,a){var f=jP(t,function(h){return h(o)});return{criteria:f,index:++r,value:o}});return C5e(i,function(o,s){return k5e(o,s,n)})}var M5e=A5e;function I5e(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var $5e=I5e,R5e=$5e,KF=Math.max;function D5e(e,t,n){return t=KF(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=KF(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),R5e(e,this,a)}}var L5e=D5e;function N5e(e){return function(){return e}}var z5e=N5e,j5e=Oh,B5e=function(){try{var e=j5e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),CY=B5e,F5e=z5e,ZF=CY,U5e=Yg,V5e=ZF?function(e,t){return ZF(e,"toString",{configurable:!0,enumerable:!1,value:F5e(t),writable:!0})}:U5e,W5e=V5e,q5e=800,G5e=16,H5e=Date.now;function Y5e(e){var t=0,n=0;return function(){var r=H5e(),i=G5e-(r-n);if(n=r,i>0){if(++t>=q5e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var K5e=Y5e,Z5e=W5e,X5e=K5e,J5e=X5e(Z5e),Q5e=J5e,e3e=Yg,t3e=L5e,n3e=Q5e;function r3e(e,t){return n3e(t3e(e,t,e3e),e+"")}var i3e=r3e,o3e=jD,a3e=_x,s3e=JD,l3e=Vd;function c3e(e,t,n){if(!l3e(n))return!1;var r=typeof t;return(r=="number"?a3e(n)&&s3e(t,n.length):r=="string"&&t in n)?o3e(n[t],e):!1}var gC=c3e,u3e=wY,d3e=M5e,f3e=i3e,XF=gC,h3e=f3e(function(e,t){if(e==null)return[];var n=t.length;return n>1&&XF(e,t[0],t[1])?t=[]:n>2&&XF(t[0],t[1],t[2])&&(t=[t[0]]),d3e(e,u3e(t,1),[])}),p3e=h3e;const sL=tr(p3e);function gb(e){"@babel/helpers - typeof";return gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gb(e)}function m3e(e,t){return b3e(e)||v3e(e,t)||y3e(e,t)||g3e()}function g3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y3e(e,t){if(e){if(typeof e=="string")return JF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JF(e,t)}}function JF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v3e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function b3e(e){if(Array.isArray(e))return e}function QF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QF(Object(n),!0).forEach(function(r){x3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x3e(e,t,n){return t=_3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _3e(e){var t=w3e(e,"string");return gb(t)==="symbol"?t:String(t)}function w3e(e,t){if(gb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S3e(e){return vo(e)&&Fi(e[0])&&Fi(e[1])?e.join(" ~ "):e}var E3e=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,o=i===void 0?{}:i,s=t.itemStyle,a=s===void 0?{}:s,f=t.labelStyle,h=f===void 0?{}:f,g=t.payload,v=t.formatter,x=t.itemSorter,k=t.wrapperClassName,O=t.labelClassName,C=t.label,M=t.labelFormatter,I=function(){if(g&&g.length){var J={padding:0,margin:0},ee=(x?sL(g,x):g).map(function(ae,pe){if(ae.type==="none")return null;var ye=BP({display:"block",paddingTop:4,paddingBottom:4,color:ae.color||"#000"},a),we=ae.formatter||v||S3e,Ee=ae.value,Oe=ae.name,Ce=Ee,Se=Oe;if(we&&Ce!=null&&Se!=null){var De=we(Ee,Oe,ae,pe,g);if(Array.isArray(De)){var We=m3e(De,2);Ce=We[0],Se=We[1]}else Ce=De}return Pe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(pe),style:ye},Fi(Se)?Pe.createElement("span",{className:"recharts-tooltip-item-name"},Se):null,Fi(Se)?Pe.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Pe.createElement("span",{className:"recharts-tooltip-item-value"},Ce),Pe.createElement("span",{className:"recharts-tooltip-item-unit"},ae.unit||""))});return Pe.createElement("ul",{className:"recharts-tooltip-item-list",style:J},ee)}return null},A=BP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),P=BP({margin:0},h),$=!mn(C),z=$?C:"",N=pr("recharts-default-tooltip",k),F=pr("recharts-tooltip-label",O);return $&&M&&g!==void 0&&g!==null&&(z=M(C,g)),Pe.createElement("div",{className:N,style:A},Pe.createElement("p",{className:F,style:P},Pe.isValidElement(z)?z:"".concat(z)),I())},C3e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Kc={isSsr:C3e(),get:function(t){return Kc[t]},set:function(t,n){if(typeof t=="string")Kc[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(i){Kc[i]=t[i]})}}};function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}function e4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e4(Object(n),!0).forEach(function(r){Bl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TY(r.key),r)}}function k3e(e,t,n){return t&&t4(e.prototype,t),n&&t4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function P3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wM(e,t)}function wM(e,t){return wM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wM(e,t)}function O3e(e){var t=M3e();return function(){var r=SS(e),i;if(t){var o=SS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return A3e(this,i)}}function A3e(e,t){if(t&&(cg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J1(e)}function J1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M3e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function SS(e){return SS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},SS(e)}function Bl(e,t,n){return t=TY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TY(e){var t=I3e(e,"string");return cg(t)==="symbol"?t:String(t)}function I3e(e,t){if(cg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(cg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rv="recharts-tooltip-wrapper",n4=1;function $3e(e){return e.dataKey}function R3e(e,t){return e===!0?dS(t,$3e):yn(e)?dS(t,e):t}function D3e(e,t){return Pe.isValidElement(e)?Pe.cloneElement(e,t):yn(e)?Pe.createElement(e,t):Pe.createElement(E3e,t)}var Wf=function(e){P3e(n,e);var t=O3e(n);function n(){var r;T3e(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Bl(J1(r),"state",{boxWidth:-1,boxHeight:-1,dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Bl(J1(r),"handleKeyDown",function(a){a.key==="Escape"&&r.setState({dismissed:!0,dismissedAtCoordinate:Oc(Oc({},r.state.dismissedAtCoordinate),{},{x:r.props.coordinate.x,y:r.props.coordinate.y})})}),Bl(J1(r),"getTranslate",function(a){var f=a.key,h=a.tooltipDimension,g=a.viewBoxDimension,v=r.props,x=v.allowEscapeViewBox,k=v.reverseDirection,O=v.coordinate,C=v.offset,M=v.position,I=v.viewBox;if(M&&Ct(M[f]))return M[f];var A=O[f]-h-C,P=O[f]+C;if(x[f])return k[f]?A:P;if(k[f]){var $=A,z=I[f];return $<z?Math.max(P,I[f]):Math.max(A,I[f])}var N=P+h,F=I[f]+g;return N>F?Math.max(A,I[f]):Math.max(P,I[f])}),r}return k3e(n,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"updateBBox",value:function(){var i=this.state,o=i.boxWidth,s=i.boxHeight,a=i.dismissed;if(a?(document.removeEventListener("keydown",this.handleKeyDown),(this.props.coordinate.x!==this.state.dismissedAtCoordinate.x||this.props.coordinate.y!==this.state.dismissedAtCoordinate.y)&&this.setState({dismissed:!1})):document.addEventListener("keydown",this.handleKeyDown),this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var f=this.wrapperNode.getBoundingClientRect();(Math.abs(f.width-o)>n4||Math.abs(f.height-s)>n4)&&this.setState({boxWidth:f.width,boxHeight:f.height})}else(o!==-1||s!==-1)&&this.setState({boxWidth:-1,boxHeight:-1})}},{key:"render",value:function(){var i,o=this,s=this.props,a=s.payload,f=s.isAnimationActive,h=s.animationDuration,g=s.animationEasing,v=s.filterNull,x=s.payloadUniqBy,k=R3e(x,v&&a&&a.length?a.filter(function(ye){return!mn(ye.value)}):a),O=k&&k.length,C=this.props,M=C.content,I=C.viewBox,A=C.coordinate,P=C.position,$=C.active,z=C.wrapperStyle,N=Oc({pointerEvents:"none",visibility:!this.state.dismissed&&$&&O?"visible":"hidden",position:"absolute",top:0,left:0},z),F,G;if(P&&Ct(P.x)&&Ct(P.y))F=P.x,G=P.y;else{var J=this.state,ee=J.boxWidth,ae=J.boxHeight;ee>0&&ae>0&&A?(F=this.getTranslate({key:"x",tooltipDimension:ee,viewBoxDimension:I.width}),G=this.getTranslate({key:"y",tooltipDimension:ae,viewBoxDimension:I.height})):N.visibility="hidden"}N=Oc(Oc({},hM({transform:this.props.useTranslate3d?"translate3d(".concat(F,"px, ").concat(G,"px, 0)"):"translate(".concat(F,"px, ").concat(G,"px)")})),N),f&&$&&(N=Oc(Oc({},hM({transition:"transform ".concat(h,"ms ").concat(g)})),N));var pe=pr(Rv,(i={},Bl(i,"".concat(Rv,"-right"),Ct(F)&&A&&Ct(A.x)&&F>=A.x),Bl(i,"".concat(Rv,"-left"),Ct(F)&&A&&Ct(A.x)&&F<A.x),Bl(i,"".concat(Rv,"-bottom"),Ct(G)&&A&&Ct(A.y)&&G>=A.y),Bl(i,"".concat(Rv,"-top"),Ct(G)&&A&&Ct(A.y)&&G<A.y),i));return Pe.createElement("div",{tabIndex:-1,role:"dialog",className:pe,style:N,ref:function(we){o.wrapperNode=we}},D3e(M,Oc(Oc({},this.props),{},{payload:k})))}}]),n}(V.PureComponent);Bl(Wf,"displayName","Tooltip");Bl(Wf,"defaultProps",{active:!1,allowEscapeViewBox:{x:!1,y:!1},reverseDirection:{x:!1,y:!1},offset:10,viewBox:{x:0,y:0,height:0,width:0},coordinate:{x:0,y:0},cursorStyle:{},separator:" : ",wrapperStyle:{},contentStyle:{},itemStyle:{},labelStyle:{},cursor:!0,trigger:"hover",isAnimationActive:!Kc.isSsr,animationEasing:"ease",animationDuration:400,filterNull:!0,useTranslate3d:!1});var L3e=pc,N3e=function(){return L3e.Date.now()},z3e=N3e,j3e=/\s/;function B3e(e){for(var t=e.length;t--&&j3e.test(e.charAt(t)););return t}var F3e=B3e,U3e=F3e,V3e=/^\s+/;function W3e(e){return e&&e.slice(0,U3e(e)+1).replace(V3e,"")}var q3e=W3e,G3e=q3e,r4=Vd,H3e=Ug,i4=0/0,Y3e=/^[-+]0x[0-9a-f]+$/i,K3e=/^0b[01]+$/i,Z3e=/^0o[0-7]+$/i,X3e=parseInt;function J3e(e){if(typeof e=="number")return e;if(H3e(e))return i4;if(r4(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=r4(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=G3e(e);var n=K3e.test(e);return n||Z3e.test(e)?X3e(e.slice(2),n?2:8):Y3e.test(e)?i4:+e}var kY=J3e,Q3e=Vd,FP=z3e,o4=kY,eBe="Expected a function",tBe=Math.max,nBe=Math.min;function rBe(e,t,n){var r,i,o,s,a,f,h=0,g=!1,v=!1,x=!0;if(typeof e!="function")throw new TypeError(eBe);t=o4(t)||0,Q3e(n)&&(g=!!n.leading,v="maxWait"in n,o=v?tBe(o4(n.maxWait)||0,t):o,x="trailing"in n?!!n.trailing:x);function k(N){var F=r,G=i;return r=i=void 0,h=N,s=e.apply(G,F),s}function O(N){return h=N,a=setTimeout(I,t),g?k(N):s}function C(N){var F=N-f,G=N-h,J=t-F;return v?nBe(J,o-G):J}function M(N){var F=N-f,G=N-h;return f===void 0||F>=t||F<0||v&&G>=o}function I(){var N=FP();if(M(N))return A(N);a=setTimeout(I,C(N))}function A(N){return a=void 0,x&&r?k(N):(r=i=void 0,s)}function P(){a!==void 0&&clearTimeout(a),h=0,r=f=i=a=void 0}function $(){return a===void 0?s:A(FP())}function z(){var N=FP(),F=M(N);if(r=arguments,i=this,f=N,F){if(a===void 0)return O(f);if(v)return clearTimeout(a),a=setTimeout(I,t),k(f)}return a===void 0&&(a=setTimeout(I,t)),s}return z.cancel=P,z.flush=$,z}var PY=rBe;const iBe=tr(PY);var oBe=PY,aBe=Vd,sBe="Expected a function";function lBe(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(sBe);return aBe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),oBe(e,t,{leading:r,maxWait:t,trailing:i})}var cBe=lBe;const OY=tr(cBe);var SM=function(e,t){return SM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},SM(e,t)};function uBe(e,t){SM(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function dBe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var fBe=function(e,t,n,r){switch(t){case"debounce":return iBe(e,n,r);case"throttle":return OY(e,n,r);default:return e}},a4=function(e){return typeof e=="function"},Dv=function(){return typeof window>"u"},s4=function(e){return e instanceof Element||e instanceof HTMLDocument},hBe=function(e,t,n){return function(r){var i=r.width,o=r.height;e(function(s){return s.width===i&&s.height===o||s.width===i&&!n||s.height===o&&!t?s:{width:i,height:o}})}},pBe=function(e){uBe(t,e);function t(n){var r=e.call(this,n)||this;r.cancelHandler=function(){r.resizeHandler&&r.resizeHandler.cancel&&(r.resizeHandler.cancel(),r.resizeHandler=null)},r.attachObserver=function(){var h=r.props,g=h.targetRef,v=h.observerOptions;if(!Dv()){g&&g.current&&(r.targetRef.current=g.current);var x=r.getElement();x&&(r.observableElement&&r.observableElement===x||(r.observableElement=x,r.resizeObserver.observe(x,v)))}},r.getElement=function(){var h=r.props,g=h.querySelector,v=h.targetDomEl;if(Dv())return null;if(g)return document.querySelector(g);if(v&&s4(v))return v;if(r.targetRef&&s4(r.targetRef.current))return r.targetRef.current;var x=lc.findDOMNode(r);if(!x)return null;var k=r.getRenderType();switch(k){case"renderProp":return x;case"childFunction":return x;case"child":return x;case"childArray":return x;default:return x.parentElement}},r.createResizeHandler=function(h){var g=r.props,v=g.handleWidth,x=v===void 0?!0:v,k=g.handleHeight,O=k===void 0?!0:k,C=g.onResize;if(!(!x&&!O)){var M=hBe(function(I){return r.setState(I,function(){return C==null?void 0:C(r.state.width,r.state.height)})},x,O);h.forEach(function(I){var A=I&&I.contentRect||{},P=A.width,$=A.height,z=!r.skipOnMount&&!Dv();z&&M({width:P,height:$}),r.skipOnMount=!1})}},r.getRenderType=function(){var h=r.props,g=h.render,v=h.children;return a4(g)?"renderProp":a4(v)?"childFunction":V.isValidElement(v)?"child":Array.isArray(v)?"childArray":"parent"};var i=n.skipOnMount,o=n.refreshMode,s=n.refreshRate,a=s===void 0?1e3:s,f=n.refreshOptions;return r.state={width:void 0,height:void 0},r.skipOnMount=i,r.targetRef=V.createRef(),r.observableElement=null,Dv()||(r.resizeHandler=fBe(r.createResizeHandler,o,a,f),r.resizeObserver=new window.ResizeObserver(r.resizeHandler)),r}return t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver()},t.prototype.componentWillUnmount=function(){Dv()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var n=this.props,r=n.render,i=n.children,o=n.nodeType,s=o===void 0?"div":o,a=this.state,f=a.width,h=a.height,g={width:f,height:h,targetRef:this.targetRef},v=this.getRenderType();switch(v){case"renderProp":return r==null?void 0:r(g);case"childFunction":{var x=i;return x==null?void 0:x(g)}case"child":{var k=i;if(k.type&&typeof k.type=="string"){g.targetRef;var O=dBe(g,["targetRef"]);return V.cloneElement(k,O)}return V.cloneElement(k,g)}case"childArray":{var C=i;return C.map(function(M){return!!M&&V.cloneElement(M,g)})}default:return Pe.createElement(s,null)}},t}(V.PureComponent);function yb(e){"@babel/helpers - typeof";return yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yb(e)}function EM(){return EM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EM.apply(this,arguments)}function l4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function c4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l4(Object(n),!0).forEach(function(r){mBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mBe(e,t,n){return t=gBe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gBe(e){var t=yBe(e,"string");return yb(t)==="symbol"?t:String(t)}function yBe(e,t){if(yb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vBe(e,t){return wBe(e)||_Be(e,t)||xBe(e,t)||bBe()}function bBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xBe(e,t){if(e){if(typeof e=="string")return u4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u4(e,t)}}function u4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _Be(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function wBe(e){if(Array.isArray(e))return e}var SBe=V.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=e.width,s=o===void 0?"100%":o,a=e.height,f=a===void 0?"100%":a,h=e.minWidth,g=h===void 0?0:h,v=e.minHeight,x=e.maxHeight,k=e.children,O=e.debounce,C=O===void 0?0:O,M=e.id,I=e.className,A=e.onResize,P=e.style,$=P===void 0?{}:P,z=V.useState({containerWidth:i.width,containerHeight:i.height}),N=vBe(z,2),F=N[0],G=N[1],J=V.useRef(null);V.useImperativeHandle(t,function(){return J},[J]);var ee=V.useCallback(function(){return J.current?{containerWidth:J.current.clientWidth,containerHeight:J.current.clientHeight}:null},[]),ae=V.useCallback(function(){var we=ee();if(we){var Ee=we.containerWidth,Oe=we.containerHeight;A&&A(Ee,Oe),G(function(Ce){var Se=Ce.containerWidth,De=Ce.containerHeight;return Ee!==Se||Oe!==De?{containerWidth:Ee,containerHeight:Oe}:Ce})}},[ee,A]),pe=V.useMemo(function(){var we=F.containerWidth,Ee=F.containerHeight;if(we<0||Ee<0)return null;th(Vf(s)||Vf(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,f),th(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Oe=Vf(s)?we:s,Ce=Vf(f)?Ee:f;return n&&n>0&&(Oe?Ce=Oe/n:Ce&&(Oe=Ce*n),x&&Ce>x&&(Ce=x)),th(Oe>0||Ce>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Oe,Ce,s,f,g,v,n),V.cloneElement(k,{width:Oe,height:Ce})},[n,k,f,x,v,g,F,s]);V.useEffect(function(){var we=ee();we&&G(we)},[ee]);var ye=c4(c4({},$),{},{width:s,height:f,minWidth:g,minHeight:v,maxHeight:x});return Pe.createElement(pBe,{handleWidth:!0,handleHeight:!0,onResize:ae,targetRef:J,refreshMode:C>0?"debounce":void 0,refreshRate:C},Pe.createElement("div",EM({},M!=null?{id:"".concat(M)}:{},{className:pr("recharts-responsive-container",I),style:ye,ref:J}),pe))}),AY=function(t){return null};AY.displayName="Cell";function vb(e){"@babel/helpers - typeof";return vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vb(e)}function d4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function f4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d4(Object(n),!0).forEach(function(r){EBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EBe(e,t,n){return t=CBe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CBe(e){var t=TBe(e,"string");return vb(t)==="symbol"?t:String(t)}function TBe(e,t){if(vb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h4(e){return ABe(e)||OBe(e)||PBe(e)||kBe()}function kBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PBe(e,t){if(e){if(typeof e=="string")return CM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CM(e,t)}}function OBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ABe(e){if(Array.isArray(e))return CM(e)}function CM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Lp={widthCache:{},cacheCount:0},MBe=2e3,IBe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$Be=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","lineHeight","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],p4="recharts_measurement_span";function RBe(e,t){return $Be.indexOf(e)>=0&&t===+t?"".concat(t,"px"):t}function DBe(e){var t=e.split(""),n=t.reduce(function(r,i){return i===i.toUpperCase()?[].concat(h4(r),["-",i.toLowerCase()]):[].concat(h4(r),[i])},[]);return n.join("")}var LBe=function(t){return Object.keys(t).reduce(function(n,r){return"".concat(n).concat(DBe(r),":").concat(RBe(r,t[r]),";")},"")},T0=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Kc.isSsr)return{width:0,height:0};var r="".concat(t),i=LBe(n),o="".concat(r,"-").concat(i);if(Lp.widthCache[o])return Lp.widthCache[o];try{var s=document.getElementById(p4);s||(s=document.createElement("span"),s.setAttribute("id",p4),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=f4(f4({},IBe),n);Object.keys(a).map(function(g){return s.style[g]=a[g],g}),s.textContent=r;var f=s.getBoundingClientRect(),h={width:f.width,height:f.height};return Lp.widthCache[o]=h,++Lp.cacheCount>MBe&&(Lp.cacheCount=0,Lp.widthCache={}),h}catch{return{width:0,height:0}}},NBe=function(t){var n=t.ownerDocument.documentElement,r={top:0,left:0};return typeof t.getBoundingClientRect<"u"&&(r=t.getBoundingClientRect()),{top:r.top+window.pageYOffset-n.clientTop,left:r.left+window.pageXOffset-n.clientLeft}},zBe=function(t,n){return{chartX:Math.round(t.pageX-n.left),chartY:Math.round(t.pageY-n.top)}};function bb(e){"@babel/helpers - typeof";return bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bb(e)}function ES(e,t){return UBe(e)||FBe(e,t)||BBe(e,t)||jBe()}function jBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BBe(e,t){if(e){if(typeof e=="string")return m4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m4(e,t)}}function m4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FBe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function UBe(e){if(Array.isArray(e))return e}function VBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qBe(r.key),r)}}function WBe(e,t,n){return t&&g4(e.prototype,t),n&&g4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qBe(e){var t=GBe(e,"string");return bb(t)==="symbol"?t:String(t)}function GBe(e,t){if(bb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,v4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HBe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,YBe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,MY={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},KBe=Object.keys(MY),um="NaN";function ZBe(e,t){return e*MY[t]}var x1=function(){function e(t,n){VBe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!HBe.test(n)&&(this.num=NaN,this.unit=""),KBe.includes(n)&&(this.num=ZBe(t,n),this.unit="px")}return WBe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=YBe.exec(n))!==null&&r!==void 0?r:[],o=ES(i,3),s=o[1],a=o[2];return new e(parseFloat(s),a??"")}}]),e}();function IY(e){if(e.includes(um))return um;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=y4.exec(t))!==null&&n!==void 0?n:[],i=ES(r,4),o=i[1],s=i[2],a=i[3],f=x1.parse(o??""),h=x1.parse(a??""),g=s==="*"?f.multiply(h):f.divide(h);if(g.isNaN())return um;t=t.replace(y4,g.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var v,x=(v=v4.exec(t))!==null&&v!==void 0?v:[],k=ES(x,4),O=k[1],C=k[2],M=k[3],I=x1.parse(O??""),A=x1.parse(M??""),P=C==="+"?I.add(A):I.subtract(A);if(P.isNaN())return um;t=t.replace(v4,P.toString())}return t}var b4=/\(([^()]*)\)/;function XBe(e){for(var t=e;t.includes("(");){var n=b4.exec(t),r=ES(n,2),i=r[1];t=t.replace(b4,IY(i))}return t}function JBe(e){var t=e.replace(/\s+/g,"");return t=XBe(t),t=IY(t),t}function QBe(e){try{return JBe(e)}catch{return um}}function UP(e){var t=QBe(e.slice(5,-1));return t===um?"":t}var eFe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],tFe=["dx","dy","angle","className","breakAll"];function TM(){return TM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TM.apply(this,arguments)}function x4(e,t){if(e==null)return{};var n=nFe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nFe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function _4(e,t){return aFe(e)||oFe(e,t)||iFe(e,t)||rFe()}function rFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iFe(e,t){if(e){if(typeof e=="string")return w4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w4(e,t)}}function w4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oFe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function aFe(e){if(Array.isArray(e))return e}var $Y=/[ \f\n\r\t\v\u2028\u2029]+/,RY=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var o=[];mn(n)||(r?o=n.toString().split(""):o=n.toString().split($Y));var s=o.map(function(f){return{word:f,width:T0(f,i).width}}),a=r?0:T0("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},sFe=function(t,n,r,i,o){var s=t.maxLines,a=t.children,f=t.style,h=t.breakAll,g=Ct(s),v=a,x=function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Ee.reduce(function(Oe,Ce){var Se=Ce.word,De=Ce.width,We=Oe[Oe.length-1];if(We&&(i==null||o||We.width+De+r<Number(i)))We.words.push(Se),We.width+=De+r;else{var dt={words:[Se],width:De};Oe.push(dt)}return Oe},[])},k=x(n),O=function(Ee){return Ee.reduce(function(Oe,Ce){return Oe.width>Ce.width?Oe:Ce})};if(!g)return k;for(var C="",M=function(Ee){var Oe=v.slice(0,Ee),Ce=RY({breakAll:h,style:f,children:Oe+C}).wordsWithComputedWidth,Se=x(Ce),De=Se.length>s||O(Se).width>Number(i);return[De,Se]},I=0,A=v.length-1,P=0,$;I<=A&&P<=v.length-1;){var z=Math.floor((I+A)/2),N=z-1,F=M(N),G=_4(F,2),J=G[0],ee=G[1],ae=M(z),pe=_4(ae,1),ye=pe[0];if(!J&&!ye&&(I=z+1),J&&ye&&(A=z-1),!J&&ye){$=ee;break}P++}return $||k},S4=function(t){var n=mn(t)?[]:t.toString().split($Y);return[{words:n}]},lFe=function(t){var n=t.width,r=t.scaleToFit,i=t.children,o=t.style,s=t.breakAll,a=t.maxLines;if((n||r)&&!Kc.isSsr){var f,h,g=RY({breakAll:s,children:i,style:o});if(g){var v=g.wordsWithComputedWidth,x=g.spaceWidth;f=v,h=x}else return S4(i);return sFe({breakAll:s,children:i,maxLines:a,style:o},f,h,n,r)}return S4(i)},E4="#808080",CS=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,s=t.lineHeight,a=s===void 0?"1em":s,f=t.capHeight,h=f===void 0?"0.71em":f,g=t.scaleToFit,v=g===void 0?!1:g,x=t.textAnchor,k=x===void 0?"start":x,O=t.verticalAnchor,C=O===void 0?"end":O,M=t.fill,I=M===void 0?E4:M,A=x4(t,eFe),P=V.useMemo(function(){return lFe({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:v,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,v,A.style,A.width]),$=A.dx,z=A.dy,N=A.angle,F=A.className,G=A.breakAll,J=x4(A,tFe);if(!Fi(r)||!Fi(o))return null;var ee=r+(Ct($)?$:0),ae=o+(Ct(z)?z:0),pe;switch(C){case"start":pe=UP("calc(".concat(h,")"));break;case"middle":pe=UP("calc(".concat((P.length-1)/2," * -").concat(a," + (").concat(h," / 2))"));break;default:pe=UP("calc(".concat(P.length-1," * -").concat(a,")"));break}var ye=[];if(v){var we=P[0].width,Ee=A.width;ye.push("scale(".concat((Ct(Ee)?Ee/we:1)/we,")"))}return N&&ye.push("rotate(".concat(N,", ").concat(ee,", ").concat(ae,")")),ye.length&&(J.transform=ye.join(" ")),Pe.createElement("text",TM({},Wn(J,!0),{x:ee,y:ae,className:pr("recharts-text",F),textAnchor:k,fill:I.includes("url")?E4:I}),P.map(function(Oe,Ce){return Pe.createElement("tspan",{x:ee,dy:Ce===0?pe:a,key:Ce},Oe.words.join(G?"":" "))}))},cFe=eL;function uFe(e,t){return cFe(e,t)}var dFe=uFe;const yC=tr(dFe);var fFe=Ug;function hFe(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],s=t(o);if(s!=null&&(a===void 0?s===s&&!fFe(s):n(s,a)))var a=s,f=o}return f}var DY=hFe;function pFe(e,t){return e>t}var mFe=pFe,gFe=DY,yFe=mFe,vFe=Yg;function bFe(e){return e&&e.length?gFe(e,vFe,yFe):void 0}var xFe=bFe;const vC=tr(xFe);function _Fe(e,t){return e<t}var wFe=_Fe,SFe=DY,EFe=wFe,CFe=Yg;function TFe(e){return e&&e.length?SFe(e,CFe,EFe):void 0}var kFe=TFe;const bC=tr(kFe);var PFe=VD,OFe=Wd,AFe=EY,MFe=fa;function IFe(e,t){var n=MFe(e)?PFe:AFe;return n(e,OFe(t))}var $Fe=IFe,RFe=wY,DFe=$Fe;function LFe(e,t){return RFe(DFe(e,t),1)}var NFe=LFe;const zFe=tr(NFe);function Ed(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jFe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function LY(e){let t,n,r;e.length!==2?(t=Ed,n=(a,f)=>Ed(e(a),f),r=(a,f)=>e(a)-f):(t=e===Ed||e===jFe?e:BFe,n=e,r=e);function i(a,f,h=0,g=a.length){if(h<g){if(t(f,f)!==0)return g;do{const v=h+g>>>1;n(a[v],f)<0?h=v+1:g=v}while(h<g)}return h}function o(a,f,h=0,g=a.length){if(h<g){if(t(f,f)!==0)return g;do{const v=h+g>>>1;n(a[v],f)<=0?h=v+1:g=v}while(h<g)}return h}function s(a,f,h=0,g=a.length){const v=i(a,f,h,g-1);return v>h&&r(a[v-1],f)>-r(a[v],f)?v-1:v}return{left:i,center:s,right:o}}function BFe(){return 0}function NY(e){return e===null?NaN:+e}function*FFe(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const UFe=LY(Ed),VFe=UFe.right;LY(NY).center;const wx=VFe;class C4 extends Map{constructor(t,n=GFe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(T4(this,t))}has(t){return super.has(T4(this,t))}set(t,n){return super.set(WFe(this,t),n)}delete(t){return super.delete(qFe(this,t))}}function T4({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function WFe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function qFe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function GFe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function HFe(e=Ed){if(e===Ed)return zY;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function zY(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const YFe=Math.sqrt(50),KFe=Math.sqrt(10),ZFe=Math.sqrt(2);function TS(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=YFe?10:o>=KFe?5:o>=ZFe?2:1;let a,f,h;return i<0?(h=Math.pow(10,-i)/s,a=Math.round(e*h),f=Math.round(t*h),a/h<e&&++a,f/h>t&&--f,h=-h):(h=Math.pow(10,i)*s,a=Math.round(e/h),f=Math.round(t/h),a*h<e&&++a,f*h>t&&--f),f<a&&.5<=n&&n<2?TS(e,t,n*2):[a,f,h]}function kM(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?TS(t,e,n):TS(e,t,n);if(!(o>=i))return[];const a=o-i+1,f=new Array(a);if(r)if(s<0)for(let h=0;h<a;++h)f[h]=(o-h)/-s;else for(let h=0;h<a;++h)f[h]=(o-h)*s;else if(s<0)for(let h=0;h<a;++h)f[h]=(i+h)/-s;else for(let h=0;h<a;++h)f[h]=(i+h)*s;return f}function PM(e,t,n){return t=+t,e=+e,n=+n,TS(e,t,n)[2]}function XFe(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?PM(t,e,n):PM(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function k4(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function P4(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function jY(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?zY:HFe(i);r>n;){if(r-n>600){const f=r-n+1,h=t-n+1,g=Math.log(f),v=.5*Math.exp(2*g/3),x=.5*Math.sqrt(g*v*(f-v)/f)*(h-f/2<0?-1:1),k=Math.max(n,Math.floor(t-h*v/f+x)),O=Math.min(r,Math.floor(t+(f-h)*v/f+x));jY(e,t,k,O,i)}const o=e[t];let s=n,a=r;for(Lv(e,n,t),i(e[r],o)>0&&Lv(e,n,r);s<a;){for(Lv(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?Lv(e,n,a):(++a,Lv(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function Lv(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function JFe(e,t,n){if(e=Float64Array.from(FFe(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return P4(e);if(t>=1)return k4(e);var r,i=(r-1)*t,o=Math.floor(i),s=k4(jY(e,o).subarray(0,o+1)),a=P4(e.subarray(o+1));return s+(a-s)*(i-o)}}function QFe(e,t,n=NY){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function e4e(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Vs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function yu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const OM=Symbol("implicit");function lL(){var e=new C4,t=[],n=[],r=OM;function i(o){let s=e.get(o);if(s===void 0){if(r!==OM)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new C4;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return lL(t,n).unknown(r)},Vs.apply(i,arguments),i}function xb(){var e=lL().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,a=!1,f=0,h=0,g=.5;delete e.unknown;function v(){var x=t().length,k=i<r,O=k?i:r,C=k?r:i;o=(C-O)/Math.max(1,x-f+h*2),a&&(o=Math.floor(o)),O+=(C-O-o*(x-f))*g,s=o*(1-f),a&&(O=Math.round(O),s=Math.round(s));var M=e4e(x).map(function(I){return O+o*I});return n(k?M.reverse():M)}return e.domain=function(x){return arguments.length?(t(x),v()):t()},e.range=function(x){return arguments.length?([r,i]=x,r=+r,i=+i,v()):[r,i]},e.rangeRound=function(x){return[r,i]=x,r=+r,i=+i,a=!0,v()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(x){return arguments.length?(a=!!x,v()):a},e.padding=function(x){return arguments.length?(f=Math.min(1,h=+x),v()):f},e.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),v()):f},e.paddingOuter=function(x){return arguments.length?(h=+x,v()):h},e.align=function(x){return arguments.length?(g=Math.max(0,Math.min(1,x)),v()):g},e.copy=function(){return xb(t(),[r,i]).round(a).paddingInner(f).paddingOuter(h).align(g)},Vs.apply(v(),arguments)}function BY(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return BY(t())},e}function k0(){return BY(xb.apply(null,arguments).paddingInner(1))}function cL(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function FY(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Sx(){}var _b=.7,kS=1/_b,Mm="\\s*([+-]?\\d+)\\s*",wb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t4e=/^#([0-9a-f]{3,8})$/,n4e=new RegExp(`^rgb\\(${Mm},${Mm},${Mm}\\)$`),r4e=new RegExp(`^rgb\\(${nc},${nc},${nc}\\)$`),i4e=new RegExp(`^rgba\\(${Mm},${Mm},${Mm},${wb}\\)$`),o4e=new RegExp(`^rgba\\(${nc},${nc},${nc},${wb}\\)$`),a4e=new RegExp(`^hsl\\(${wb},${nc},${nc}\\)$`),s4e=new RegExp(`^hsla\\(${wb},${nc},${nc},${wb}\\)$`),O4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cL(Sx,Sb,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:A4,formatHex:A4,formatHex8:l4e,formatHsl:c4e,formatRgb:M4,toString:M4});function A4(){return this.rgb().formatHex()}function l4e(){return this.rgb().formatHex8()}function c4e(){return UY(this).formatHsl()}function M4(){return this.rgb().formatRgb()}function Sb(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=t4e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?I4(t):n===3?new wa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=n4e.exec(e))?new wa(t[1],t[2],t[3],1):(t=r4e.exec(e))?new wa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=i4e.exec(e))?_1(t[1],t[2],t[3],t[4]):(t=o4e.exec(e))?_1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=a4e.exec(e))?D4(t[1],t[2]/100,t[3]/100,1):(t=s4e.exec(e))?D4(t[1],t[2]/100,t[3]/100,t[4]):O4.hasOwnProperty(e)?I4(O4[e]):e==="transparent"?new wa(NaN,NaN,NaN,0):null}function I4(e){return new wa(e>>16&255,e>>8&255,e&255,1)}function _1(e,t,n,r){return r<=0&&(e=t=n=NaN),new wa(e,t,n,r)}function u4e(e){return e instanceof Sx||(e=Sb(e)),e?(e=e.rgb(),new wa(e.r,e.g,e.b,e.opacity)):new wa}function AM(e,t,n,r){return arguments.length===1?u4e(e):new wa(e,t,n,r??1)}function wa(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}cL(wa,AM,FY(Sx,{brighter(e){return e=e==null?kS:Math.pow(kS,e),new wa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_b:Math.pow(_b,e),new wa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wa(nh(this.r),nh(this.g),nh(this.b),PS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$4,formatHex:$4,formatHex8:d4e,formatRgb:R4,toString:R4}));function $4(){return`#${qf(this.r)}${qf(this.g)}${qf(this.b)}`}function d4e(){return`#${qf(this.r)}${qf(this.g)}${qf(this.b)}${qf((isNaN(this.opacity)?1:this.opacity)*255)}`}function R4(){const e=PS(this.opacity);return`${e===1?"rgb(":"rgba("}${nh(this.r)}, ${nh(this.g)}, ${nh(this.b)}${e===1?")":`, ${e})`}`}function PS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function nh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qf(e){return e=nh(e),(e<16?"0":"")+e.toString(16)}function D4(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new dl(e,t,n,r)}function UY(e){if(e instanceof dl)return new dl(e.h,e.s,e.l,e.opacity);if(e instanceof Sx||(e=Sb(e)),!e)return new dl;if(e instanceof dl)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,f=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=f<.5?o+i:2-o-i,s*=60):a=f>0&&f<1?0:s,new dl(s,a,f,e.opacity)}function f4e(e,t,n,r){return arguments.length===1?UY(e):new dl(e,t,n,r??1)}function dl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}cL(dl,f4e,FY(Sx,{brighter(e){return e=e==null?kS:Math.pow(kS,e),new dl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_b:Math.pow(_b,e),new dl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new wa(VP(e>=240?e-240:e+120,i,r),VP(e,i,r),VP(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new dl(L4(this.h),w1(this.s),w1(this.l),PS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=PS(this.opacity);return`${e===1?"hsl(":"hsla("}${L4(this.h)}, ${w1(this.s)*100}%, ${w1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function L4(e){return e=(e||0)%360,e<0?e+360:e}function w1(e){return Math.max(0,Math.min(1,e||0))}function VP(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const uL=e=>()=>e;function h4e(e,t){return function(n){return e+n*t}}function p4e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function m4e(e){return(e=+e)==1?VY:function(t,n){return n-t?p4e(t,n,e):uL(isNaN(t)?n:t)}}function VY(e,t){var n=t-e;return n?h4e(e,n):uL(isNaN(e)?t:e)}const N4=function e(t){var n=m4e(t);function r(i,o){var s=n((i=AM(i)).r,(o=AM(o)).r),a=n(i.g,o.g),f=n(i.b,o.b),h=VY(i.opacity,o.opacity);return function(g){return i.r=s(g),i.g=a(g),i.b=f(g),i.opacity=h(g),i+""}}return r.gamma=e,r}(1);function g4e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function y4e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function v4e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Zg(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function b4e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function OS(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function x4e(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Zg(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var MM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,WP=new RegExp(MM.source,"g");function _4e(e){return function(){return e}}function w4e(e){return function(t){return e(t)+""}}function S4e(e,t){var n=MM.lastIndex=WP.lastIndex=0,r,i,o,s=-1,a=[],f=[];for(e=e+"",t=t+"";(r=MM.exec(e))&&(i=WP.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,f.push({i:s,x:OS(r,i)})),n=WP.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?f[0]?w4e(f[0].x):_4e(t):(t=f.length,function(h){for(var g=0,v;g<t;++g)a[(v=f[g]).i]=v.x(h);return a.join("")})}function Zg(e,t){var n=typeof t,r;return t==null||n==="boolean"?uL(t):(n==="number"?OS:n==="string"?(r=Sb(t))?(t=r,N4):S4e:t instanceof Sb?N4:t instanceof Date?b4e:y4e(t)?g4e:Array.isArray(t)?v4e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?x4e:OS)(e,t)}function dL(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function E4e(e,t){t===void 0&&(t=e,e=Zg);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function C4e(e){return function(){return e}}function AS(e){return+e}var z4=[0,1];function la(e){return e}function IM(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:C4e(isNaN(t)?NaN:.5)}function T4e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function k4e(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=IM(i,r),o=n(s,o)):(r=IM(r,i),o=n(o,s)),function(a){return o(r(a))}}function P4e(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=IM(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var f=wx(e,a,1,r)-1;return o[f](i[f](a))}}function Ex(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function xC(){var e=z4,t=z4,n=Zg,r,i,o,s=la,a,f,h;function g(){var x=Math.min(e.length,t.length);return s!==la&&(s=T4e(e[0],e[x-1])),a=x>2?P4e:k4e,f=h=null,v}function v(x){return x==null||isNaN(x=+x)?o:(f||(f=a(e.map(r),t,n)))(r(s(x)))}return v.invert=function(x){return s(i((h||(h=a(t,e.map(r),OS)))(x)))},v.domain=function(x){return arguments.length?(e=Array.from(x,AS),g()):e.slice()},v.range=function(x){return arguments.length?(t=Array.from(x),g()):t.slice()},v.rangeRound=function(x){return t=Array.from(x),n=dL,g()},v.clamp=function(x){return arguments.length?(s=x?!0:la,g()):s!==la},v.interpolate=function(x){return arguments.length?(n=x,g()):n},v.unknown=function(x){return arguments.length?(o=x,v):o},function(x,k){return r=x,i=k,g()}}function fL(){return xC()(la,la)}function O4e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function MS(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ug(e){return e=MS(Math.abs(e)),e?e[1]:NaN}function A4e(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],f=0;i>0&&a>0&&(f+a+1>r&&(a=Math.max(1,r-f)),o.push(n.substring(i-=a,i+a)),!((f+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function M4e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var I4e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Eb(e){if(!(t=I4e.exec(e)))throw new Error("invalid format: "+e);var t;return new hL({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Eb.prototype=hL.prototype;function hL(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}hL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $4e(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var WY;function R4e(e,t){var n=MS(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(WY=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+MS(e,Math.max(0,t+o-1))[0]}function j4(e,t){var n=MS(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const B4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:O4e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>j4(e*100,t),r:j4,s:R4e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function F4(e){return e}var U4=Array.prototype.map,V4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function D4e(e){var t=e.grouping===void 0||e.thousands===void 0?F4:A4e(U4.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?F4:M4e(U4.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function h(v){v=Eb(v);var x=v.fill,k=v.align,O=v.sign,C=v.symbol,M=v.zero,I=v.width,A=v.comma,P=v.precision,$=v.trim,z=v.type;z==="n"?(A=!0,z="g"):B4[z]||(P===void 0&&(P=12),$=!0,z="g"),(M||x==="0"&&k==="=")&&(M=!0,x="0",k="=");var N=C==="$"?n:C==="#"&&/[boxX]/.test(z)?"0"+z.toLowerCase():"",F=C==="$"?r:/[%p]/.test(z)?s:"",G=B4[z],J=/[defgprs%]/.test(z);P=P===void 0?6:/[gprs]/.test(z)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function ee(ae){var pe=N,ye=F,we,Ee,Oe;if(z==="c")ye=G(ae)+ye,ae="";else{ae=+ae;var Ce=ae<0||1/ae<0;if(ae=isNaN(ae)?f:G(Math.abs(ae),P),$&&(ae=$4e(ae)),Ce&&+ae==0&&O!=="+"&&(Ce=!1),pe=(Ce?O==="("?O:a:O==="-"||O==="("?"":O)+pe,ye=(z==="s"?V4[8+WY/3]:"")+ye+(Ce&&O==="("?")":""),J){for(we=-1,Ee=ae.length;++we<Ee;)if(Oe=ae.charCodeAt(we),48>Oe||Oe>57){ye=(Oe===46?i+ae.slice(we+1):ae.slice(we))+ye,ae=ae.slice(0,we);break}}}A&&!M&&(ae=t(ae,1/0));var Se=pe.length+ae.length+ye.length,De=Se<I?new Array(I-Se+1).join(x):"";switch(A&&M&&(ae=t(De+ae,De.length?I-ye.length:1/0),De=""),k){case"<":ae=pe+ae+ye+De;break;case"=":ae=pe+De+ae+ye;break;case"^":ae=De.slice(0,Se=De.length>>1)+pe+ae+ye+De.slice(Se);break;default:ae=De+pe+ae+ye;break}return o(ae)}return ee.toString=function(){return v+""},ee}function g(v,x){var k=h((v=Eb(v),v.type="f",v)),O=Math.max(-8,Math.min(8,Math.floor(ug(x)/3)))*3,C=Math.pow(10,-O),M=V4[8+O/3];return function(I){return k(C*I)+M}}return{format:h,formatPrefix:g}}var S1,pL,qY;L4e({thousands:",",grouping:[3],currency:["$",""]});function L4e(e){return S1=D4e(e),pL=S1.format,qY=S1.formatPrefix,S1}function N4e(e){return Math.max(0,-ug(Math.abs(e)))}function z4e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ug(t)/3)))*3-ug(Math.abs(e)))}function j4e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ug(t)-ug(e))+1}function GY(e,t,n,r){var i=XFe(e,t,n),o;switch(r=Eb(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=z4e(i,s))&&(r.precision=o),qY(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=j4e(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=N4e(i))&&(r.precision=o-(r.type==="%")*2);break}}return pL(r)}function Gd(e){var t=e.domain;return e.ticks=function(n){var r=t();return kM(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return GY(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],f,h,g=10;for(a<s&&(h=s,s=a,a=h,h=i,i=o,o=h);g-- >0;){if(h=PM(s,a,n),h===f)return r[i]=s,r[o]=a,t(r);if(h>0)s=Math.floor(s/h)*h,a=Math.ceil(a/h)*h;else if(h<0)s=Math.ceil(s*h)/h,a=Math.floor(a*h)/h;else break;f=h}return e},e}function IS(){var e=fL();return e.copy=function(){return Ex(e,IS())},Vs.apply(e,arguments),Gd(e)}function HY(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,AS),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return HY(e).unknown(t)},e=arguments.length?Array.from(e,AS):[0,1],Gd(n)}function YY(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function W4(e){return Math.log(e)}function q4(e){return Math.exp(e)}function B4e(e){return-Math.log(-e)}function F4e(e){return-Math.exp(-e)}function U4e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function V4e(e){return e===10?U4e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function W4e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function G4(e){return(t,n)=>-e(-t,n)}function mL(e){const t=e(W4,q4),n=t.domain;let r=10,i,o;function s(){return i=W4e(r),o=V4e(r),n()[0]<0?(i=G4(i),o=G4(o),e(B4e,F4e)):e(W4,q4),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{const f=n();let h=f[0],g=f[f.length-1];const v=g<h;v&&([h,g]=[g,h]);let x=i(h),k=i(g),O,C;const M=a==null?10:+a;let I=[];if(!(r%1)&&k-x<M){if(x=Math.floor(x),k=Math.ceil(k),h>0){for(;x<=k;++x)for(O=1;O<r;++O)if(C=x<0?O/o(-x):O*o(x),!(C<h)){if(C>g)break;I.push(C)}}else for(;x<=k;++x)for(O=r-1;O>=1;--O)if(C=x>0?O/o(-x):O*o(x),!(C<h)){if(C>g)break;I.push(C)}I.length*2<M&&(I=kM(h,g,M))}else I=kM(x,k,Math.min(k-x,M)).map(o);return v?I.reverse():I},t.tickFormat=(a,f)=>{if(a==null&&(a=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Eb(f)).precision==null&&(f.trim=!0),f=pL(f)),a===1/0)return f;const h=Math.max(1,r*a/t.ticks().length);return g=>{let v=g/o(Math.round(i(g)));return v*r<r-.5&&(v*=r),v<=h?f(g):""}},t.nice=()=>n(YY(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function KY(){const e=mL(xC()).domain([1,10]);return e.copy=()=>Ex(e,KY()).base(e.base()),Vs.apply(e,arguments),e}function H4(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Y4(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gL(e){var t=1,n=e(H4(t),Y4(t));return n.constant=function(r){return arguments.length?e(H4(t=+r),Y4(t)):t},Gd(n)}function ZY(){var e=gL(xC());return e.copy=function(){return Ex(e,ZY()).constant(e.constant())},Vs.apply(e,arguments)}function K4(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function q4e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function G4e(e){return e<0?-e*e:e*e}function yL(e){var t=e(la,la),n=1;function r(){return n===1?e(la,la):n===.5?e(q4e,G4e):e(K4(n),K4(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Gd(t)}function vL(){var e=yL(xC());return e.copy=function(){return Ex(e,vL()).exponent(e.exponent())},Vs.apply(e,arguments),e}function H4e(){return vL.apply(null,arguments).exponent(.5)}function Z4(e){return Math.sign(e)*e*e}function Y4e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function XY(){var e=fL(),t=[0,1],n=!1,r;function i(o){var s=Y4e(e(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return e.invert(Z4(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,AS)).map(Z4)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return XY(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Vs.apply(i,arguments),Gd(i)}function JY(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=QFe(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[wx(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ed),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return JY().domain(e).range(t).unknown(r)},Vs.apply(o,arguments)}function QY(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(f){return f!=null&&f<=f?i[wx(r,f,0,n)]:o}function a(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return s}return s.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,a()):[e,t]},s.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,a()):i.slice()},s.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[e,r[0]]:h>=n?[r[n-1],t]:[r[h-1],r[h]]},s.unknown=function(f){return arguments.length&&(o=f),s},s.thresholds=function(){return r.slice()},s.copy=function(){return QY().domain([e,t]).range(i).unknown(o)},Vs.apply(Gd(s),arguments)}function eK(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[wx(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return eK().domain(e).range(t).unknown(n)},Vs.apply(i,arguments)}const qP=new Date,GP=new Date;function Wi(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const f=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return f;let h;do f.push(h=new Date(+o)),t(o,a),e(o);while(h<o&&o<s);return f},i.filter=o=>Wi(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(qP.setTime(+o),GP.setTime(+s),e(qP),e(GP),Math.floor(n(qP,GP))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const $S=Wi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);$S.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Wi(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):$S);$S.range;const Wc=1e3,Cs=Wc*60,qc=Cs*60,su=qc*24,bL=su*7,X4=su*30,HP=su*365,Gf=Wi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Wc)},(e,t)=>(t-e)/Wc,e=>e.getUTCSeconds());Gf.range;const xL=Wi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wc)},(e,t)=>{e.setTime(+e+t*Cs)},(e,t)=>(t-e)/Cs,e=>e.getMinutes());xL.range;const _L=Wi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Cs)},(e,t)=>(t-e)/Cs,e=>e.getUTCMinutes());_L.range;const wL=Wi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wc-e.getMinutes()*Cs)},(e,t)=>{e.setTime(+e+t*qc)},(e,t)=>(t-e)/qc,e=>e.getHours());wL.range;const SL=Wi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*qc)},(e,t)=>(t-e)/qc,e=>e.getUTCHours());SL.range;const Cx=Wi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Cs)/su,e=>e.getDate()-1);Cx.range;const _C=Wi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/su,e=>e.getUTCDate()-1);_C.range;const tK=Wi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/su,e=>Math.floor(e/su));tK.range;function Ah(e){return Wi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Cs)/bL)}const wC=Ah(0),RS=Ah(1),K4e=Ah(2),Z4e=Ah(3),dg=Ah(4),X4e=Ah(5),J4e=Ah(6);wC.range;RS.range;K4e.range;Z4e.range;dg.range;X4e.range;J4e.range;function Mh(e){return Wi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/bL)}const SC=Mh(0),DS=Mh(1),Q4e=Mh(2),e6e=Mh(3),fg=Mh(4),t6e=Mh(5),n6e=Mh(6);SC.range;DS.range;Q4e.range;e6e.range;fg.range;t6e.range;n6e.range;const EL=Wi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());EL.range;const CL=Wi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());CL.range;const lu=Wi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());lu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});lu.range;const cu=Wi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());cu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});cu.range;function YP(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function r6e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function i6e(e){let t,n,r;e.length!==2?(t=YP,n=(a,f)=>YP(e(a),f),r=(a,f)=>e(a)-f):(t=e===YP||e===r6e?e:o6e,n=e,r=e);function i(a,f,h=0,g=a.length){if(h<g){if(t(f,f)!==0)return g;do{const v=h+g>>>1;n(a[v],f)<0?h=v+1:g=v}while(h<g)}return h}function o(a,f,h=0,g=a.length){if(h<g){if(t(f,f)!==0)return g;do{const v=h+g>>>1;n(a[v],f)<=0?h=v+1:g=v}while(h<g)}return h}function s(a,f,h=0,g=a.length){const v=i(a,f,h,g-1);return v>h&&r(a[v-1],f)>-r(a[v],f)?v-1:v}return{left:i,center:s,right:o}}function o6e(){return 0}const a6e=Math.sqrt(50),s6e=Math.sqrt(10),l6e=Math.sqrt(2);function nK(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=a6e?10:o>=s6e?5:o>=l6e?2:1;let a,f,h;return i<0?(h=Math.pow(10,-i)/s,a=Math.round(e*h),f=Math.round(t*h),a/h<e&&++a,f/h>t&&--f,h=-h):(h=Math.pow(10,i)*s,a=Math.round(e/h),f=Math.round(t/h),a*h<e&&++a,f*h>t&&--f),f<a&&.5<=n&&n<2?nK(e,t,n*2):[a,f,h]}function J4(e,t,n){return t=+t,e=+e,n=+n,nK(e,t,n)[2]}function Q4(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?J4(t,e,n):J4(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function rK(e,t,n,r,i,o){const s=[[Gf,1,Wc],[Gf,5,5*Wc],[Gf,15,15*Wc],[Gf,30,30*Wc],[o,1,Cs],[o,5,5*Cs],[o,15,15*Cs],[o,30,30*Cs],[i,1,qc],[i,3,3*qc],[i,6,6*qc],[i,12,12*qc],[r,1,su],[r,2,2*su],[n,1,bL],[t,1,X4],[t,3,3*X4],[e,1,HP]];function a(h,g,v){const x=g<h;x&&([h,g]=[g,h]);const k=v&&typeof v.range=="function"?v:f(h,g,v),O=k?k.range(h,+g+1):[];return x?O.reverse():O}function f(h,g,v){const x=Math.abs(g-h)/v,k=i6e(([,,M])=>M).right(s,x);if(k===s.length)return e.every(Q4(h/HP,g/HP,v));if(k===0)return $S.every(Math.max(Q4(h,g,v),1));const[O,C]=s[x/s[k-1][2]<s[k][2]/x?k-1:k];return O.every(C)}return[a,f]}const[c6e,u6e]=rK(cu,CL,SC,tK,SL,_L),[d6e,f6e]=rK(lu,EL,wC,Cx,wL,xL);function KP(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ZP(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Nv(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function h6e(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,f=e.shortMonths,h=zv(i),g=jv(i),v=zv(o),x=jv(o),k=zv(s),O=jv(s),C=zv(a),M=jv(a),I=zv(f),A=jv(f),P={a:Ce,A:Se,b:De,B:We,c:null,d:o6,e:o6,f:L6e,g:G6e,G:Y6e,H:$6e,I:R6e,j:D6e,L:iK,m:N6e,M:z6e,p:dt,q:ht,Q:l6,s:c6,S:j6e,u:B6e,U:F6e,V:U6e,w:V6e,W:W6e,x:null,X:null,y:q6e,Y:H6e,Z:K6e,"%":s6},$={a:Je,A:it,b:Ot,B:ot,c:null,d:a6,e:a6,f:Q6e,g:cUe,G:dUe,H:Z6e,I:X6e,j:J6e,L:aK,m:eUe,M:tUe,p:Gt,q:Ht,Q:l6,s:c6,S:nUe,u:rUe,U:iUe,V:oUe,w:aUe,W:sUe,x:null,X:null,y:lUe,Y:uUe,Z:fUe,"%":s6},z={a:ee,A:ae,b:pe,B:ye,c:we,d:r6,e:r6,f:O6e,g:n6,G:t6,H:i6,I:i6,j:C6e,L:P6e,m:E6e,M:T6e,p:J,q:S6e,Q:M6e,s:I6e,S:k6e,u:v6e,U:b6e,V:x6e,w:y6e,W:_6e,x:Ee,X:Oe,y:n6,Y:t6,Z:w6e,"%":A6e};P.x=N(n,P),P.X=N(r,P),P.c=N(t,P),$.x=N(n,$),$.X=N(r,$),$.c=N(t,$);function N(Ge,vt){return function(gt){var Ve=[],Et=-1,Tt=0,qt=Ge.length,vn,Mn,xn;for(gt instanceof Date||(gt=new Date(+gt));++Et<qt;)Ge.charCodeAt(Et)===37&&(Ve.push(Ge.slice(Tt,Et)),(Mn=e6[vn=Ge.charAt(++Et)])!=null?vn=Ge.charAt(++Et):Mn=vn==="e"?" ":"0",(xn=vt[vn])&&(vn=xn(gt,Mn)),Ve.push(vn),Tt=Et+1);return Ve.push(Ge.slice(Tt,Et)),Ve.join("")}}function F(Ge,vt){return function(gt){var Ve=Nv(1900,void 0,1),Et=G(Ve,Ge,gt+="",0),Tt,qt;if(Et!=gt.length)return null;if("Q"in Ve)return new Date(Ve.Q);if("s"in Ve)return new Date(Ve.s*1e3+("L"in Ve?Ve.L:0));if(vt&&!("Z"in Ve)&&(Ve.Z=0),"p"in Ve&&(Ve.H=Ve.H%12+Ve.p*12),Ve.m===void 0&&(Ve.m="q"in Ve?Ve.q:0),"V"in Ve){if(Ve.V<1||Ve.V>53)return null;"w"in Ve||(Ve.w=1),"Z"in Ve?(Tt=ZP(Nv(Ve.y,0,1)),qt=Tt.getUTCDay(),Tt=qt>4||qt===0?DS.ceil(Tt):DS(Tt),Tt=_C.offset(Tt,(Ve.V-1)*7),Ve.y=Tt.getUTCFullYear(),Ve.m=Tt.getUTCMonth(),Ve.d=Tt.getUTCDate()+(Ve.w+6)%7):(Tt=KP(Nv(Ve.y,0,1)),qt=Tt.getDay(),Tt=qt>4||qt===0?RS.ceil(Tt):RS(Tt),Tt=Cx.offset(Tt,(Ve.V-1)*7),Ve.y=Tt.getFullYear(),Ve.m=Tt.getMonth(),Ve.d=Tt.getDate()+(Ve.w+6)%7)}else("W"in Ve||"U"in Ve)&&("w"in Ve||(Ve.w="u"in Ve?Ve.u%7:"W"in Ve?1:0),qt="Z"in Ve?ZP(Nv(Ve.y,0,1)).getUTCDay():KP(Nv(Ve.y,0,1)).getDay(),Ve.m=0,Ve.d="W"in Ve?(Ve.w+6)%7+Ve.W*7-(qt+5)%7:Ve.w+Ve.U*7-(qt+6)%7);return"Z"in Ve?(Ve.H+=Ve.Z/100|0,Ve.M+=Ve.Z%100,ZP(Ve)):KP(Ve)}}function G(Ge,vt,gt,Ve){for(var Et=0,Tt=vt.length,qt=gt.length,vn,Mn;Et<Tt;){if(Ve>=qt)return-1;if(vn=vt.charCodeAt(Et++),vn===37){if(vn=vt.charAt(Et++),Mn=z[vn in e6?vt.charAt(Et++):vn],!Mn||(Ve=Mn(Ge,gt,Ve))<0)return-1}else if(vn!=gt.charCodeAt(Ve++))return-1}return Ve}function J(Ge,vt,gt){var Ve=h.exec(vt.slice(gt));return Ve?(Ge.p=g.get(Ve[0].toLowerCase()),gt+Ve[0].length):-1}function ee(Ge,vt,gt){var Ve=k.exec(vt.slice(gt));return Ve?(Ge.w=O.get(Ve[0].toLowerCase()),gt+Ve[0].length):-1}function ae(Ge,vt,gt){var Ve=v.exec(vt.slice(gt));return Ve?(Ge.w=x.get(Ve[0].toLowerCase()),gt+Ve[0].length):-1}function pe(Ge,vt,gt){var Ve=I.exec(vt.slice(gt));return Ve?(Ge.m=A.get(Ve[0].toLowerCase()),gt+Ve[0].length):-1}function ye(Ge,vt,gt){var Ve=C.exec(vt.slice(gt));return Ve?(Ge.m=M.get(Ve[0].toLowerCase()),gt+Ve[0].length):-1}function we(Ge,vt,gt){return G(Ge,t,vt,gt)}function Ee(Ge,vt,gt){return G(Ge,n,vt,gt)}function Oe(Ge,vt,gt){return G(Ge,r,vt,gt)}function Ce(Ge){return s[Ge.getDay()]}function Se(Ge){return o[Ge.getDay()]}function De(Ge){return f[Ge.getMonth()]}function We(Ge){return a[Ge.getMonth()]}function dt(Ge){return i[+(Ge.getHours()>=12)]}function ht(Ge){return 1+~~(Ge.getMonth()/3)}function Je(Ge){return s[Ge.getUTCDay()]}function it(Ge){return o[Ge.getUTCDay()]}function Ot(Ge){return f[Ge.getUTCMonth()]}function ot(Ge){return a[Ge.getUTCMonth()]}function Gt(Ge){return i[+(Ge.getUTCHours()>=12)]}function Ht(Ge){return 1+~~(Ge.getUTCMonth()/3)}return{format:function(Ge){var vt=N(Ge+="",P);return vt.toString=function(){return Ge},vt},parse:function(Ge){var vt=F(Ge+="",!1);return vt.toString=function(){return Ge},vt},utcFormat:function(Ge){var vt=N(Ge+="",$);return vt.toString=function(){return Ge},vt},utcParse:function(Ge){var vt=F(Ge+="",!0);return vt.toString=function(){return Ge},vt}}}var e6={"-":"",_:" ",0:"0"},ro=/^\s*\d+/,p6e=/^%/,m6e=/[\\^$*+?|[\]().{}]/g;function er(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function g6e(e){return e.replace(m6e,"\\$&")}function zv(e){return new RegExp("^(?:"+e.map(g6e).join("|")+")","i")}function jv(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function y6e(e,t,n){var r=ro.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function v6e(e,t,n){var r=ro.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function b6e(e,t,n){var r=ro.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function x6e(e,t,n){var r=ro.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function _6e(e,t,n){var r=ro.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function t6(e,t,n){var r=ro.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function n6(e,t,n){var r=ro.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function w6e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function S6e(e,t,n){var r=ro.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function E6e(e,t,n){var r=ro.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function r6(e,t,n){var r=ro.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function C6e(e,t,n){var r=ro.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function i6(e,t,n){var r=ro.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function T6e(e,t,n){var r=ro.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function k6e(e,t,n){var r=ro.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function P6e(e,t,n){var r=ro.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function O6e(e,t,n){var r=ro.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function A6e(e,t,n){var r=p6e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function M6e(e,t,n){var r=ro.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function I6e(e,t,n){var r=ro.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function o6(e,t){return er(e.getDate(),t,2)}function $6e(e,t){return er(e.getHours(),t,2)}function R6e(e,t){return er(e.getHours()%12||12,t,2)}function D6e(e,t){return er(1+Cx.count(lu(e),e),t,3)}function iK(e,t){return er(e.getMilliseconds(),t,3)}function L6e(e,t){return iK(e,t)+"000"}function N6e(e,t){return er(e.getMonth()+1,t,2)}function z6e(e,t){return er(e.getMinutes(),t,2)}function j6e(e,t){return er(e.getSeconds(),t,2)}function B6e(e){var t=e.getDay();return t===0?7:t}function F6e(e,t){return er(wC.count(lu(e)-1,e),t,2)}function oK(e){var t=e.getDay();return t>=4||t===0?dg(e):dg.ceil(e)}function U6e(e,t){return e=oK(e),er(dg.count(lu(e),e)+(lu(e).getDay()===4),t,2)}function V6e(e){return e.getDay()}function W6e(e,t){return er(RS.count(lu(e)-1,e),t,2)}function q6e(e,t){return er(e.getFullYear()%100,t,2)}function G6e(e,t){return e=oK(e),er(e.getFullYear()%100,t,2)}function H6e(e,t){return er(e.getFullYear()%1e4,t,4)}function Y6e(e,t){var n=e.getDay();return e=n>=4||n===0?dg(e):dg.ceil(e),er(e.getFullYear()%1e4,t,4)}function K6e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+er(t/60|0,"0",2)+er(t%60,"0",2)}function a6(e,t){return er(e.getUTCDate(),t,2)}function Z6e(e,t){return er(e.getUTCHours(),t,2)}function X6e(e,t){return er(e.getUTCHours()%12||12,t,2)}function J6e(e,t){return er(1+_C.count(cu(e),e),t,3)}function aK(e,t){return er(e.getUTCMilliseconds(),t,3)}function Q6e(e,t){return aK(e,t)+"000"}function eUe(e,t){return er(e.getUTCMonth()+1,t,2)}function tUe(e,t){return er(e.getUTCMinutes(),t,2)}function nUe(e,t){return er(e.getUTCSeconds(),t,2)}function rUe(e){var t=e.getUTCDay();return t===0?7:t}function iUe(e,t){return er(SC.count(cu(e)-1,e),t,2)}function sK(e){var t=e.getUTCDay();return t>=4||t===0?fg(e):fg.ceil(e)}function oUe(e,t){return e=sK(e),er(fg.count(cu(e),e)+(cu(e).getUTCDay()===4),t,2)}function aUe(e){return e.getUTCDay()}function sUe(e,t){return er(DS.count(cu(e)-1,e),t,2)}function lUe(e,t){return er(e.getUTCFullYear()%100,t,2)}function cUe(e,t){return e=sK(e),er(e.getUTCFullYear()%100,t,2)}function uUe(e,t){return er(e.getUTCFullYear()%1e4,t,4)}function dUe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?fg(e):fg.ceil(e),er(e.getUTCFullYear()%1e4,t,4)}function fUe(){return"+0000"}function s6(){return"%"}function l6(e){return+e}function c6(e){return Math.floor(+e/1e3)}var Np,lK,cK;hUe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hUe(e){return Np=h6e(e),lK=Np.format,Np.parse,cK=Np.utcFormat,Np.utcParse,Np}function pUe(e){return new Date(e)}function mUe(e){return e instanceof Date?+e:+new Date(+e)}function TL(e,t,n,r,i,o,s,a,f,h){var g=fL(),v=g.invert,x=g.domain,k=h(".%L"),O=h(":%S"),C=h("%I:%M"),M=h("%I %p"),I=h("%a %d"),A=h("%b %d"),P=h("%B"),$=h("%Y");function z(N){return(f(N)<N?k:a(N)<N?O:s(N)<N?C:o(N)<N?M:r(N)<N?i(N)<N?I:A:n(N)<N?P:$)(N)}return g.invert=function(N){return new Date(v(N))},g.domain=function(N){return arguments.length?x(Array.from(N,mUe)):x().map(pUe)},g.ticks=function(N){var F=x();return e(F[0],F[F.length-1],N??10)},g.tickFormat=function(N,F){return F==null?z:h(F)},g.nice=function(N){var F=x();return(!N||typeof N.range!="function")&&(N=t(F[0],F[F.length-1],N??10)),N?x(YY(F,N)):g},g.copy=function(){return Ex(g,TL(e,t,n,r,i,o,s,a,f,h))},g}function gUe(){return Vs.apply(TL(d6e,f6e,lu,EL,wC,Cx,wL,xL,Gf,lK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yUe(){return Vs.apply(TL(c6e,u6e,cu,CL,SC,_C,SL,_L,Gf,cK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function EC(){var e=0,t=1,n,r,i,o,s=la,a=!1,f;function h(v){return v==null||isNaN(v=+v)?f:s(i===0?.5:(v=(o(v)-n)*i,a?Math.max(0,Math.min(1,v)):v))}h.domain=function(v){return arguments.length?([e,t]=v,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),h):[e,t]},h.clamp=function(v){return arguments.length?(a=!!v,h):a},h.interpolator=function(v){return arguments.length?(s=v,h):s};function g(v){return function(x){var k,O;return arguments.length?([k,O]=x,s=v(k,O),h):[s(0),s(1)]}}return h.range=g(Zg),h.rangeRound=g(dL),h.unknown=function(v){return arguments.length?(f=v,h):f},function(v){return o=v,n=v(e),r=v(t),i=n===r?0:1/(r-n),h}}function Hd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function uK(){var e=Gd(EC()(la));return e.copy=function(){return Hd(e,uK())},yu.apply(e,arguments)}function dK(){var e=mL(EC()).domain([1,10]);return e.copy=function(){return Hd(e,dK()).base(e.base())},yu.apply(e,arguments)}function fK(){var e=gL(EC());return e.copy=function(){return Hd(e,fK()).constant(e.constant())},yu.apply(e,arguments)}function kL(){var e=yL(EC());return e.copy=function(){return Hd(e,kL()).exponent(e.exponent())},yu.apply(e,arguments)}function vUe(){return kL.apply(null,arguments).exponent(.5)}function hK(){var e=[],t=la;function n(r){if(r!=null&&!isNaN(r=+r))return t((wx(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ed),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>JFe(e,o/r))},n.copy=function(){return hK(t).domain(e)},yu.apply(n,arguments)}function CC(){var e=0,t=.5,n=1,r=1,i,o,s,a,f,h=la,g,v=!1,x;function k(C){return isNaN(C=+C)?x:(C=.5+((C=+g(C))-o)*(r*C<r*o?a:f),h(v?Math.max(0,Math.min(1,C)):C))}k.domain=function(C){return arguments.length?([e,t,n]=C,i=g(e=+e),o=g(t=+t),s=g(n=+n),a=i===o?0:.5/(o-i),f=o===s?0:.5/(s-o),r=o<i?-1:1,k):[e,t,n]},k.clamp=function(C){return arguments.length?(v=!!C,k):v},k.interpolator=function(C){return arguments.length?(h=C,k):h};function O(C){return function(M){var I,A,P;return arguments.length?([I,A,P]=M,h=E4e(C,[I,A,P]),k):[h(0),h(.5),h(1)]}}return k.range=O(Zg),k.rangeRound=O(dL),k.unknown=function(C){return arguments.length?(x=C,k):x},function(C){return g=C,i=C(e),o=C(t),s=C(n),a=i===o?0:.5/(o-i),f=o===s?0:.5/(s-o),r=o<i?-1:1,k}}function pK(){var e=Gd(CC()(la));return e.copy=function(){return Hd(e,pK())},yu.apply(e,arguments)}function mK(){var e=mL(CC()).domain([.1,1,10]);return e.copy=function(){return Hd(e,mK()).base(e.base())},yu.apply(e,arguments)}function gK(){var e=gL(CC());return e.copy=function(){return Hd(e,gK()).constant(e.constant())},yu.apply(e,arguments)}function PL(){var e=yL(CC());return e.copy=function(){return Hd(e,PL()).exponent(e.exponent())},yu.apply(e,arguments)}function bUe(){return PL.apply(null,arguments).exponent(.5)}const u6=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xb,scaleDiverging:pK,scaleDivergingLog:mK,scaleDivergingPow:PL,scaleDivergingSqrt:bUe,scaleDivergingSymlog:gK,scaleIdentity:HY,scaleImplicit:OM,scaleLinear:IS,scaleLog:KY,scaleOrdinal:lL,scalePoint:k0,scalePow:vL,scaleQuantile:JY,scaleQuantize:QY,scaleRadial:XY,scaleSequential:uK,scaleSequentialLog:dK,scaleSequentialPow:kL,scaleSequentialQuantile:hK,scaleSequentialSqrt:vUe,scaleSequentialSymlog:fK,scaleSqrt:H4e,scaleSymlog:ZY,scaleThreshold:eK,scaleTime:gUe,scaleUtc:yUe,tickFormat:GY},Symbol.toStringTag,{value:"Module"}));var Xg=1e9,xUe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},AL,Kr=!0,zs="[DecimalError] ",rh=zs+"Invalid argument: ",OL=zs+"Exponent out of range: ",Jg=Math.floor,If=Math.pow,_Ue=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qa,Xi=1e7,jr=7,yK=9007199254740991,LS=Jg(yK/jr),Wt={};Wt.absoluteValue=Wt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Wt.comparedTo=Wt.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Wt.decimalPlaces=Wt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*jr;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Wt.dividedBy=Wt.div=function(e){return Zc(this,new this.constructor(e))};Wt.dividedToIntegerBy=Wt.idiv=function(e){var t=this,n=t.constructor;return Mr(Zc(t,new n(e),0,1),n.precision)};Wt.equals=Wt.eq=function(e){return!this.cmp(e)};Wt.exponent=function(){return Mi(this)};Wt.greaterThan=Wt.gt=function(e){return this.cmp(e)>0};Wt.greaterThanOrEqualTo=Wt.gte=function(e){return this.cmp(e)>=0};Wt.isInteger=Wt.isint=function(){return this.e>this.d.length-2};Wt.isNegative=Wt.isneg=function(){return this.s<0};Wt.isPositive=Wt.ispos=function(){return this.s>0};Wt.isZero=function(){return this.s===0};Wt.lessThan=Wt.lt=function(e){return this.cmp(e)<0};Wt.lessThanOrEqualTo=Wt.lte=function(e){return this.cmp(e)<1};Wt.logarithm=Wt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(qa))throw Error(zs+"NaN");if(n.s<1)throw Error(zs+(n.s?"NaN":"-Infinity"));return n.eq(qa)?new r(0):(Kr=!1,t=Zc(Cb(n,o),Cb(e,o),o),Kr=!0,Mr(t,i))};Wt.minus=Wt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xK(t,e):vK(t,(e.s=-e.s,e))};Wt.modulo=Wt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(zs+"NaN");return n.s?(Kr=!1,t=Zc(n,e,0,1).times(e),Kr=!0,n.minus(t)):Mr(new r(n),i)};Wt.naturalExponential=Wt.exp=function(){return bK(this)};Wt.naturalLogarithm=Wt.ln=function(){return Cb(this)};Wt.negated=Wt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Wt.plus=Wt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vK(t,e):xK(t,(e.s=-e.s,e))};Wt.precision=Wt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(rh+e);if(t=Mi(i)+1,r=i.d.length-1,n=r*jr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Wt.squareRoot=Wt.sqrt=function(){var e,t,n,r,i,o,s,a=this,f=a.constructor;if(a.s<1){if(!a.s)return new f(0);throw Error(zs+"NaN")}for(e=Mi(a),Kr=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=Yl(a.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Jg((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(i.toString()),n=f.precision,i=s=n+3;;)if(o=r,r=o.plus(Zc(a,o,s+2)).times(.5),Yl(o.d).slice(0,s)===(t=Yl(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Mr(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(t!="9999")break;s+=4}return Kr=!0,Mr(r,n)};Wt.times=Wt.mul=function(e){var t,n,r,i,o,s,a,f,h,g=this,v=g.constructor,x=g.d,k=(e=new v(e)).d;if(!g.s||!e.s)return new v(0);for(e.s*=g.s,n=g.e+e.e,f=x.length,h=k.length,f<h&&(o=x,x=k,k=o,s=f,f=h,h=s),o=[],s=f+h,r=s;r--;)o.push(0);for(r=h;--r>=0;){for(t=0,i=f+r;i>r;)a=o[i]+k[r]*x[i-r-1]+t,o[i--]=a%Xi|0,t=a/Xi|0;o[i]=(o[i]+t)%Xi|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Kr?Mr(e,v.precision):e};Wt.toDecimalPlaces=Wt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(sc(e,0,Xg),t===void 0?t=r.rounding:sc(t,0,8),Mr(n,e+Mi(n)+1,t))};Wt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=_h(r,!0):(sc(e,0,Xg),t===void 0?t=i.rounding:sc(t,0,8),r=Mr(new i(r),e+1,t),n=_h(r,!0,e+1)),n};Wt.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?_h(i):(sc(e,0,Xg),t===void 0?t=o.rounding:sc(t,0,8),r=Mr(new o(i),e+Mi(i)+1,t),n=_h(r.abs(),!1,e+Mi(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Wt.toInteger=Wt.toint=function(){var e=this,t=e.constructor;return Mr(new t(e),Mi(e)+1,t.rounding)};Wt.toNumber=function(){return+this};Wt.toPower=Wt.pow=function(e){var t,n,r,i,o,s,a=this,f=a.constructor,h=12,g=+(e=new f(e));if(!e.s)return new f(qa);if(a=new f(a),!a.s){if(e.s<1)throw Error(zs+"Infinity");return a}if(a.eq(qa))return a;if(r=f.precision,e.eq(qa))return Mr(a,r);if(t=e.e,n=e.d.length-1,s=t>=n,o=a.s,s){if((n=g<0?-g:g)<=yK){for(i=new f(qa),t=Math.ceil(r/jr+4),Kr=!1;n%2&&(i=i.times(a),f6(i.d,t)),n=Jg(n/2),n!==0;)a=a.times(a),f6(a.d,t);return Kr=!0,e.s<0?new f(qa).div(i):Mr(i,r)}}else if(o<0)throw Error(zs+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,a.s=1,Kr=!1,i=e.times(Cb(a,r+h)),Kr=!0,i=bK(i),i.s=o,i};Wt.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Mi(i),r=_h(i,n<=o.toExpNeg||n>=o.toExpPos)):(sc(e,1,Xg),t===void 0?t=o.rounding:sc(t,0,8),i=Mr(new o(i),e,t),n=Mi(i),r=_h(i,e<=n||n<=o.toExpNeg,e)),r};Wt.toSignificantDigits=Wt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(sc(e,1,Xg),t===void 0?t=r.rounding:sc(t,0,8)),Mr(new r(n),e,t)};Wt.toString=Wt.valueOf=Wt.val=Wt.toJSON=Wt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Mi(e),n=e.constructor;return _h(e,t<=n.toExpNeg||t>=n.toExpPos)};function vK(e,t){var n,r,i,o,s,a,f,h,g=e.constructor,v=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),Kr?Mr(t,v):t;if(f=e.d,h=t.d,s=e.e,i=t.e,f=f.slice(),o=s-i,o){for(o<0?(r=f,o=-o,a=h.length):(r=h,i=s,a=f.length),s=Math.ceil(v/jr),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=f.length,o=h.length,a-o<0&&(o=a,r=h,h=f,f=r),n=0;o;)n=(f[--o]=f[o]+h[o]+n)/Xi|0,f[o]%=Xi;for(n&&(f.unshift(n),++i),a=f.length;f[--a]==0;)f.pop();return t.d=f,t.e=i,Kr?Mr(t,v):t}function sc(e,t,n){if(e!==~~e||e<t||e>n)throw Error(rh+e)}function Yl(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)r=e[t]+"",n=jr-r.length,n&&(o+=Ju(n)),o+=r;s=e[t],r=s+"",n=jr-r.length,n&&(o+=Ju(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Zc=function(){function e(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Xi|0,s=o/Xi|0;return s&&r.unshift(s),r}function t(r,i,o,s){var a,f;if(o!=s)f=o>s?1:-1;else for(a=f=0;a<o;a++)if(r[a]!=i[a]){f=r[a]>i[a]?1:-1;break}return f}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Xi+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,f,h,g,v,x,k,O,C,M,I,A,P,$,z,N,F,G,J=r.constructor,ee=r.s==i.s?1:-1,ae=r.d,pe=i.d;if(!r.s)return new J(r);if(!i.s)throw Error(zs+"Division by zero");for(f=r.e-i.e,F=pe.length,z=ae.length,k=new J(ee),O=k.d=[],h=0;pe[h]==(ae[h]||0);)++h;if(pe[h]>(ae[h]||0)&&--f,o==null?A=o=J.precision:s?A=o+(Mi(r)-Mi(i))+1:A=o,A<0)return new J(0);if(A=A/jr+2|0,h=0,F==1)for(g=0,pe=pe[0],A++;(h<z||g)&&A--;h++)P=g*Xi+(ae[h]||0),O[h]=P/pe|0,g=P%pe|0;else{for(g=Xi/(pe[0]+1)|0,g>1&&(pe=e(pe,g),ae=e(ae,g),F=pe.length,z=ae.length),$=F,C=ae.slice(0,F),M=C.length;M<F;)C[M++]=0;G=pe.slice(),G.unshift(0),N=pe[0],pe[1]>=Xi/2&&++N;do g=0,a=t(pe,C,F,M),a<0?(I=C[0],F!=M&&(I=I*Xi+(C[1]||0)),g=I/N|0,g>1?(g>=Xi&&(g=Xi-1),v=e(pe,g),x=v.length,M=C.length,a=t(v,C,x,M),a==1&&(g--,n(v,F<x?G:pe,x))):(g==0&&(a=g=1),v=pe.slice()),x=v.length,x<M&&v.unshift(0),n(C,v,M),a==-1&&(M=C.length,a=t(pe,C,F,M),a<1&&(g++,n(C,F<M?G:pe,M))),M=C.length):a===0&&(g++,C=[0]),O[h++]=g,a&&C[0]?C[M++]=ae[$]||0:(C=[ae[$]],M=1);while(($++<z||C[0]!==void 0)&&A--)}return O[0]||O.shift(),k.e=f,Mr(k,s?o+Mi(k)+1:o)}}();function bK(e,t){var n,r,i,o,s,a,f=0,h=0,g=e.constructor,v=g.precision;if(Mi(e)>16)throw Error(OL+Mi(e));if(!e.s)return new g(qa);for(t==null?(Kr=!1,a=v):a=t,s=new g(.03125);e.abs().gte(.1);)e=e.times(s),h+=5;for(r=Math.log(If(2,h))/Math.LN10*2+5|0,a+=r,n=i=o=new g(qa),g.precision=a;;){if(i=Mr(i.times(e),a),n=n.times(++f),s=o.plus(Zc(i,n,a)),Yl(s.d).slice(0,a)===Yl(o.d).slice(0,a)){for(;h--;)o=Mr(o.times(o),a);return g.precision=v,t==null?(Kr=!0,Mr(o,v)):o}o=s}}function Mi(e){for(var t=e.e*jr,n=e.d[0];n>=10;n/=10)t++;return t}function XP(e,t,n){if(t>e.LN10.sd())throw Kr=!0,n&&(e.precision=n),Error(zs+"LN10 precision limit exceeded");return Mr(new e(e.LN10),t)}function Ju(e){for(var t="";e--;)t+="0";return t}function Cb(e,t){var n,r,i,o,s,a,f,h,g,v=1,x=10,k=e,O=k.d,C=k.constructor,M=C.precision;if(k.s<1)throw Error(zs+(k.s?"NaN":"-Infinity"));if(k.eq(qa))return new C(0);if(t==null?(Kr=!1,h=M):h=t,k.eq(10))return t==null&&(Kr=!0),XP(C,h);if(h+=x,C.precision=h,n=Yl(O),r=n.charAt(0),o=Mi(k),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)k=k.times(e),n=Yl(k.d),r=n.charAt(0),v++;o=Mi(k),r>1?(k=new C("0."+n),o++):k=new C(r+"."+n.slice(1))}else return f=XP(C,h+2,M).times(o+""),k=Cb(new C(r+"."+n.slice(1)),h-x).plus(f),C.precision=M,t==null?(Kr=!0,Mr(k,M)):k;for(a=s=k=Zc(k.minus(qa),k.plus(qa),h),g=Mr(k.times(k),h),i=3;;){if(s=Mr(s.times(g),h),f=a.plus(Zc(s,new C(i),h)),Yl(f.d).slice(0,h)===Yl(a.d).slice(0,h))return a=a.times(2),o!==0&&(a=a.plus(XP(C,h+2,M).times(o+""))),a=Zc(a,new C(v),h),C.precision=M,t==null?(Kr=!0,Mr(a,M)):a;a=f,i+=2}}function d6(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Jg(n/jr),e.d=[],r=(n+1)%jr,n<0&&(r+=jr),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=jr;r<i;)e.d.push(+t.slice(r,r+=jr));t=t.slice(r),r=jr-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Kr&&(e.e>LS||e.e<-LS))throw Error(OL+n)}else e.s=0,e.e=0,e.d=[0];return e}function Mr(e,t,n){var r,i,o,s,a,f,h,g,v=e.d;for(s=1,o=v[0];o>=10;o/=10)s++;if(r=t-s,r<0)r+=jr,i=t,h=v[g=0];else{if(g=Math.ceil((r+1)/jr),o=v.length,g>=o)return e;for(h=o=v[g],s=1;o>=10;o/=10)s++;r%=jr,i=r-jr+s}if(n!==void 0&&(o=If(10,s-i-1),a=h/o%10|0,f=t<0||v[g+1]!==void 0||h%o,f=n<4?(a||f)&&(n==0||n==(e.s<0?3:2)):a>5||a==5&&(n==4||f||n==6&&(r>0?i>0?h/If(10,s-i):0:v[g-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return f?(o=Mi(e),v.length=1,t=t-o-1,v[0]=If(10,(jr-t%jr)%jr),e.e=Jg(-t/jr)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(r==0?(v.length=g,o=1,g--):(v.length=g+1,o=If(10,jr-r),v[g]=i>0?(h/If(10,s-i)%If(10,i)|0)*o:0),f)for(;;)if(g==0){(v[0]+=o)==Xi&&(v[0]=1,++e.e);break}else{if(v[g]+=o,v[g]!=Xi)break;v[g--]=0,o=1}for(r=v.length;v[--r]===0;)v.pop();if(Kr&&(e.e>LS||e.e<-LS))throw Error(OL+Mi(e));return e}function xK(e,t){var n,r,i,o,s,a,f,h,g,v,x=e.constructor,k=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),Kr?Mr(t,k):t;if(f=e.d,v=t.d,r=t.e,h=e.e,f=f.slice(),s=h-r,s){for(g=s<0,g?(n=f,s=-s,a=v.length):(n=v,r=h,a=f.length),i=Math.max(Math.ceil(k/jr),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=f.length,a=v.length,g=i<a,g&&(a=i),i=0;i<a;i++)if(f[i]!=v[i]){g=f[i]<v[i];break}s=0}for(g&&(n=f,f=v,v=n,t.s=-t.s),a=f.length,i=v.length-a;i>0;--i)f[a++]=0;for(i=v.length;i>s;){if(f[--i]<v[i]){for(o=i;o&&f[--o]===0;)f[o]=Xi-1;--f[o],f[i]+=Xi}f[i]-=v[i]}for(;f[--a]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,Kr?Mr(t,k):t):new x(0)}function _h(e,t,n){var r,i=Mi(e),o=Yl(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Ju(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ju(-i-1)+o,n&&(r=n-s)>0&&(o+=Ju(r))):i>=s?(o+=Ju(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Ju(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Ju(r))),e.s<0?"-"+o:o}function f6(e,t){if(e.length>t)return e.length=t,!0}function _K(e){var t,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(rh+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return d6(s,o.toString())}else if(typeof o!="string")throw Error(rh+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,_Ue.test(o))d6(s,o);else throw Error(rh+o)}if(i.prototype=Wt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=_K,i.config=i.set=wUe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function wUe(e){if(!e||typeof e!="object")throw Error(zs+"Object expected");var t,n,r,i=["precision",1,Xg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Jg(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(rh+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(rh+n+": "+r);return this}var AL=_K(xUe);qa=new AL(1);const Sr=AL;function SUe(e){return kUe(e)||TUe(e)||CUe(e)||EUe()}function EUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CUe(e,t){if(e){if(typeof e=="string")return $M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $M(e,t)}}function TUe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function kUe(e){if(Array.isArray(e))return $M(e)}function $M(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var PUe=function(t){return t},wK={"@@functional/placeholder":!0},SK=function(t){return t===wK},h6=function(t){return function n(){return arguments.length===0||arguments.length===1&&SK(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},OUe=function e(t,n){return t===1?n:h6(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==wK}).length;return s>=t?n.apply(void 0,i):e(t-s,h6(function(){for(var a=arguments.length,f=new Array(a),h=0;h<a;h++)f[h]=arguments[h];var g=i.map(function(v){return SK(v)?f.shift():v});return n.apply(void 0,SUe(g).concat(f))}))})},TC=function(t){return OUe(t.length,t)},RM=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},AUe=TC(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),MUe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return PUe;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,f){return f(a)},o.apply(void 0,arguments))}},DM=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},EK=function(t){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,f){return a===n[f]})||(n=o,r=t.apply(void 0,o)),r}};function IUe(e){var t;return e===0?t=1:t=Math.floor(new Sr(e).abs().log(10).toNumber())+1,t}function $Ue(e,t,n){for(var r=new Sr(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var RUe=TC(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),DUe=TC(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),LUe=TC(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const kC={rangeStep:$Ue,getDigitCount:IUe,interpolateNumber:RUe,uninterpolateNumber:DUe,uninterpolateTruncation:LUe};function LM(e){return jUe(e)||zUe(e)||CK(e)||NUe()}function NUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zUe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function jUe(e){if(Array.isArray(e))return NM(e)}function Tb(e,t){return UUe(e)||FUe(e,t)||CK(e,t)||BUe()}function BUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CK(e,t){if(e){if(typeof e=="string")return NM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NM(e,t)}}function NM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FUe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=e[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(t&&n.length===t));r=!0);}catch(f){i=!0,o=f}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function UUe(e){if(Array.isArray(e))return e}function TK(e){var t=Tb(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function kK(e,t,n){if(e.lte(0))return new Sr(0);var r=kC.getDigitCount(e.toNumber()),i=new Sr(10).pow(r),o=e.div(i),s=r!==1?.05:.1,a=new Sr(Math.ceil(o.div(s).toNumber())).add(n).mul(s),f=a.mul(i);return t?f:new Sr(Math.ceil(f))}function VUe(e,t,n){var r=1,i=new Sr(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new Sr(10).pow(kC.getDigitCount(e)-1),i=new Sr(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Sr(Math.floor(e)))}else e===0?i=new Sr(Math.floor((t-1)/2)):n||(i=new Sr(Math.floor(e)));var s=Math.floor((t-1)/2),a=MUe(AUe(function(f){return i.add(new Sr(f-s).mul(r)).toNumber()}),RM);return a(0,t)}function PK(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Sr(0),tickMin:new Sr(0),tickMax:new Sr(0)};var o=kK(new Sr(t).sub(e).div(n-1),r,i),s;e<=0&&t>=0?s=new Sr(0):(s=new Sr(e).add(t).div(2),s=s.sub(new Sr(s).mod(o)));var a=Math.ceil(s.sub(e).div(o).toNumber()),f=Math.ceil(new Sr(t).sub(s).div(o).toNumber()),h=a+f+1;return h>n?PK(e,t,n,r,i+1):(h<n&&(f=t>0?f+(n-h):f,a=t>0?a:a+(n-h)),{step:o,tickMin:s.sub(new Sr(a).mul(o)),tickMax:s.add(new Sr(f).mul(o))})}function WUe(e){var t=Tb(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=TK([n,r]),f=Tb(a,2),h=f[0],g=f[1];if(h===-1/0||g===1/0){var v=g===1/0?[h].concat(LM(RM(0,i-1).map(function(){return 1/0}))):[].concat(LM(RM(0,i-1).map(function(){return-1/0})),[g]);return n>r?DM(v):v}if(h===g)return VUe(h,i,o);var x=PK(h,g,s,o),k=x.step,O=x.tickMin,C=x.tickMax,M=kC.rangeStep(O,C.add(new Sr(.1).mul(k)),k);return n>r?DM(M):M}function qUe(e,t){var n=Tb(e,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=TK([r,i]),a=Tb(s,2),f=a[0],h=a[1];if(f===-1/0||h===1/0)return[r,i];if(f===h)return[f];var g=Math.max(t,2),v=kK(new Sr(h).sub(f).div(g-1),o,0),x=[].concat(LM(kC.rangeStep(new Sr(f),new Sr(h).sub(new Sr(.99).mul(v)),v)),[h]);return r>i?DM(x):x}var GUe=EK(WUe),HUe=EK(qUe),YUe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function NS(){return NS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NS.apply(this,arguments)}function KUe(e,t){return QUe(e)||JUe(e,t)||XUe(e,t)||ZUe()}function ZUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XUe(e,t){if(e){if(typeof e=="string")return p6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p6(e,t)}}function p6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JUe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function QUe(e){if(Array.isArray(e))return e}function e8e(e,t){if(e==null)return{};var n=t8e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function t8e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Tx(e){var t=e.offset,n=e.layout,r=e.width,i=e.dataKey,o=e.data,s=e.dataPointFormatter,a=e.xAxis,f=e.yAxis,h=e8e(e,YUe),g=Wn(h),v=o.map(function(x,k){var O=s(x,i),C=O.x,M=O.y,I=O.value,A=O.errorVal;if(!A)return null;var P=[],$,z;if(Array.isArray(A)){var N=KUe(A,2);$=N[0],z=N[1]}else $=z=A;if(n==="vertical"){var F=a.scale,G=M+t,J=G+r,ee=G-r,ae=F(I-$),pe=F(I+z);P.push({x1:pe,y1:J,x2:pe,y2:ee}),P.push({x1:ae,y1:G,x2:pe,y2:G}),P.push({x1:ae,y1:J,x2:ae,y2:ee})}else if(n==="horizontal"){var ye=f.scale,we=C+t,Ee=we-r,Oe=we+r,Ce=ye(I-$),Se=ye(I+z);P.push({x1:Ee,y1:Se,x2:Oe,y2:Se}),P.push({x1:we,y1:Ce,x2:we,y2:Se}),P.push({x1:Ee,y1:Ce,x2:Oe,y2:Ce})}return Pe.createElement(Ei,NS({className:"recharts-errorBar",key:"bar-".concat(k)},g),P.map(function(De,We){return Pe.createElement("line",NS({},De,{key:"line-".concat(We)}))}))});return Pe.createElement(Ei,{className:"recharts-errorBars"},v)}Tx.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};Tx.displayName="ErrorBar";function kb(e){"@babel/helpers - typeof";return kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kb(e)}function m6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m6(Object(n),!0).forEach(function(r){n8e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n8e(e,t,n){return t=r8e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r8e(e){var t=i8e(e,"string");return kb(t)==="symbol"?t:String(t)}function i8e(e,t){if(kb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(kb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OK=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,s=Vc(n,ag);if(!s)return null;var a;return s.props&&s.props.payload?a=s.props&&s.props.payload:o==="children"?a=(r||[]).reduce(function(f,h){var g=h.item,v=h.props,x=v.sectors||v.data||[];return f.concat(x.map(function(k){return{type:s.props.iconType||g.props.legendType,value:k.name,color:k.fill,payload:k}}))},[]):a=(r||[]).map(function(f){var h=f.item,g=h.props,v=g.dataKey,x=g.name,k=g.legendType,O=g.hide;return{inactive:O,dataKey:v,type:s.props.iconType||k||"square",color:ML(h),value:x||v,payload:h.props}}),JP(JP(JP({},s.props),ag.getWithHeight(s,i)),{},{payload:a,item:s})};function Pb(e){"@babel/helpers - typeof";return Pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pb(e)}function g6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ss(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g6(Object(n),!0).forEach(function(r){Im(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Im(e,t,n){return t=o8e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o8e(e){var t=a8e(e,"string");return Pb(t)==="symbol"?t:String(t)}function a8e(e,t){if(Pb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Pb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y6(e){return u8e(e)||c8e(e)||l8e(e)||s8e()}function s8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l8e(e,t){if(e){if(typeof e=="string")return zM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zM(e,t)}}function c8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function u8e(e){if(Array.isArray(e))return zM(e)}function zM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qa(e,t,n){return mn(e)||mn(t)?n:Fi(t)?As(e,t,n):yn(t)?t(e):n}function P0(e,t,n,r){var i=zFe(e,function(a){return Qa(a,t)});if(n==="number"){var o=i.filter(function(a){return Ct(a)||parseFloat(a)});return o.length?[bC(o),vC(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!mn(a)}):i;return s.map(function(a){return Fi(a)||a instanceof Date?a:""})}var d8e=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var f=o.range,h=0;h<a;h++){var g=h>0?i[h-1].coordinate:i[a-1].coordinate,v=i[h].coordinate,x=h>=a-1?i[0].coordinate:i[h+1].coordinate,k=void 0;if(ml(v-g)!==ml(x-v)){var O=[];if(ml(x-v)===ml(f[1]-f[0])){k=x;var C=v+f[1]-f[0];O[0]=Math.min(C,(C+g)/2),O[1]=Math.max(C,(C+g)/2)}else{k=g;var M=x+f[1]-f[0];O[0]=Math.min(v,(M+v)/2),O[1]=Math.max(v,(M+v)/2)}var I=[Math.min(v,(k+v)/2),Math.max(v,(k+v)/2)];if(t>I[0]&&t<=I[1]||t>=O[0]&&t<=O[1]){s=i[h].index;break}}else{var A=Math.min(g,x),P=Math.max(g,x);if(t>(A+v)/2&&t<=(P+v)/2){s=i[h].index;break}}}else for(var $=0;$<a;$++)if($===0&&t<=(r[$].coordinate+r[$+1].coordinate)/2||$>0&&$<a-1&&t>(r[$].coordinate+r[$-1].coordinate)/2&&t<=(r[$].coordinate+r[$+1].coordinate)/2||$===a-1&&t>(r[$].coordinate+r[$-1].coordinate)/2){s=r[$].index;break}return s},ML=function(t){var n=t,r=n.type.displayName,i=t.props,o=i.stroke,s=i.fill,a;switch(r){case"Line":a=o;break;case"Area":case"Radar":a=o&&o!=="none"?o:s;break;default:a=s;break}return a},f8e=function(t){var n=t.barSize,r=t.stackGroups,i=r===void 0?{}:r;if(!i)return{};for(var o={},s=Object.keys(i),a=0,f=s.length;a<f;a++)for(var h=i[s[a]].stackGroups,g=Object.keys(h),v=0,x=g.length;v<x;v++){var k=h[g[v]],O=k.items,C=k.cateAxisId,M=O.filter(function(P){return Sd(P.type).indexOf("Bar")>=0});if(M&&M.length){var I=M[0].props.barSize,A=M[0].props[C];o[A]||(o[A]=[]),o[A].push({item:M[0],stackList:M.slice(1),barSize:mn(I)?n:I})}}return o},h8e=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,o=t.sizeList,s=o===void 0?[]:o,a=t.maxBarSize,f=s.length;if(f<1)return null;var h=ng(n,i,0,!0),g,v=[];if(s[0].barSize===+s[0].barSize){var x=!1,k=i/f,O=s.reduce(function($,z){return $+z.barSize||0},0);O+=(f-1)*h,O>=i&&(O-=(f-1)*h,h=0),O>=i&&k>0&&(x=!0,k*=.9,O=f*k);var C=(i-O)/2>>0,M={offset:C-h,size:0};g=s.reduce(function($,z){var N={item:z.item,position:{offset:M.offset+M.size+h,size:x?k:z.barSize}},F=[].concat(y6($),[N]);return M=F[F.length-1].position,z.stackList&&z.stackList.length&&z.stackList.forEach(function(G){F.push({item:G,position:M})}),F},v)}else{var I=ng(r,i,0,!0);i-2*I-(f-1)*h<=0&&(h=0);var A=(i-2*I-(f-1)*h)/f;A>1&&(A>>=0);var P=a===+a?Math.min(A,a):A;g=s.reduce(function($,z,N){var F=[].concat(y6($),[{item:z.item,position:{offset:I+(A+h)*N+(A-P)/2,size:P}}]);return z.stackList&&z.stackList.length&&z.stackList.forEach(function(G){F.push({item:G,position:F[F.length-1].position})}),F},v)}return g},p8e=function(t,n,r,i){var o=r.children,s=r.width,a=r.margin,f=s-(a.left||0)-(a.right||0),h=OK({children:o,legendWidth:f});if(h){var g=i||{},v=g.width,x=g.height,k=h.align,O=h.verticalAlign,C=h.layout;if((C==="vertical"||C==="horizontal"&&O==="middle")&&k!=="center"&&Ct(t[k]))return Ss(Ss({},t),{},Im({},k,t[k]+(v||0)));if((C==="horizontal"||C==="vertical"&&k==="center")&&O!=="middle"&&Ct(t[O]))return Ss(Ss({},t),{},Im({},O,t[O]+(x||0)))}return t},m8e=function(t,n,r){return mn(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},AK=function(t,n,r,i,o){var s=n.props.children,a=Ms(s,Tx).filter(function(h){return m8e(i,o,h.props.direction)});if(a&&a.length){var f=a.map(function(h){return h.props.dataKey});return t.reduce(function(h,g){var v=Qa(g,r,0),x=vo(v)?[bC(v),vC(v)]:[v,v],k=f.reduce(function(O,C){var M=Qa(g,C,0),I=x[0]-Math.abs(vo(M)?M[0]:M),A=x[1]+Math.abs(vo(M)?M[1]:M);return[Math.min(I,O[0]),Math.max(A,O[1])]},[1/0,-1/0]);return[Math.min(k[0],h[0]),Math.max(k[1],h[1])]},[1/0,-1/0])}return null},g8e=function(t,n,r,i,o){var s=n.map(function(a){return AK(t,a,r,o,i)}).filter(function(a){return!mn(a)});return s&&s.length?s.reduce(function(a,f){return[Math.min(a[0],f[0]),Math.max(a[1],f[1])]},[1/0,-1/0]):null},MK=function(t,n,r,i,o){var s=n.map(function(f){var h=f.props.dataKey;return r==="number"&&h&&AK(t,f,h,i)||P0(t,h,r,o)});if(r==="number")return s.reduce(function(f,h){return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);var a={};return s.reduce(function(f,h){for(var g=0,v=h.length;g<v;g++)a[h[g]]||(a[h[g]]=!0,f.push(h[g]));return f},[])},IK=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},v6=function(t,n,r,i){if(i)return t.map(function(f){return f.coordinate});var o,s,a=t.map(function(f){return f.coordinate===n&&(o=!0),f.coordinate===r&&(s=!0),f.coordinate});return o||a.push(n),s||a.push(r),a},Ku=function(t,n,r){if(!t)return null;var i=t.scale,o=t.duplicateDomain,s=t.type,a=t.range,f=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/f:0;if(h=t.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?ml(a[0]-a[1])*2*h:h,n&&(t.ticks||t.niceTicks)){var g=(t.ticks||t.niceTicks).map(function(v){var x=o?o.indexOf(v):v;return{coordinate:i(x)+h,value:v,offset:h}});return g.filter(function(v){return!bx(v.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(v,x){return{coordinate:i(v)+h,value:v,index:x,offset:h}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(v){return{coordinate:i(v)+h,value:v,offset:h}}):i.domain().map(function(v,x){return{coordinate:i(v)+h,value:o?o[v]:v,index:x,offset:h}})},E1=function(t,n,r){var i;return yn(r)?i=r:yn(n)&&(i=n),yn(t)||i?function(o,s,a,f){yn(t)&&t(o,s,a,f),yn(i)&&i(o,s,a,f)}:null},y8e=function(t,n,r){var i=t.scale,o=t.type,s=t.layout,a=t.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:xb(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:IS(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:k0(),realScaleType:"point"}:o==="category"?{scale:xb(),realScaleType:"band"}:{scale:IS(),realScaleType:"linear"};if(vx(i)){var f="scale".concat(dC(i));return{scale:(u6[f]||k0)(),realScaleType:u6[f]?f:"point"}}return yn(i)?{scale:i}:{scale:k0(),realScaleType:"point"}},b6=1e-4,v8e=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),o=Math.min(i[0],i[1])-b6,s=Math.max(i[0],i[1])+b6,a=t(n[0]),f=t(n[r-1]);(a<o||a>s||f<o||f>s)&&t.domain([n[0],n[r-1]])}},b8e=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},x8e=function(t,n){if(!n||n.length!==2||!Ct(n[0])||!Ct(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[t[0],t[1]];return(!Ct(t[0])||t[0]<r)&&(o[0]=r),(!Ct(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},_8e=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var f=bx(t[a][r][1])?t[a][r][0]:t[a][r][1];f>=0?(t[a][r][0]=o,t[a][r][1]=o+f,o=t[a][r][1]):(t[a][r][0]=s,t[a][r][1]=s+f,s=t[a][r][1])}},w8e=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=bx(t[s][r][1])?t[s][r][0]:t[s][r][1];a>=0?(t[s][r][0]=o,t[s][r][1]=o+a,o=t[s][r][1]):(t[s][r][0]=0,t[s][r][1]=0)}},S8e={sign:_8e,expand:VNe,none:rg,silhouette:WNe,wiggle:qNe,positive:w8e},E8e=function(t,n,r){var i=n.map(function(a){return a.props.dataKey}),o=S8e[r],s=UNe().keys(i).value(function(a,f){return+Qa(a,f,0)}).order(sM).offset(o);return s(t)},C8e=function(t,n,r,i,o,s){if(!t)return null;var a=s?n.reverse():n,f={},h=a.reduce(function(v,x){var k=x.props,O=k.stackId,C=k.hide;if(C)return v;var M=x.props[r],I=v[M]||{hasStack:!1,stackGroups:{}};if(Fi(O)){var A=I.stackGroups[O]||{numericAxisId:r,cateAxisId:i,items:[]};A.items.push(x),I.hasStack=!0,I.stackGroups[O]=A}else I.stackGroups[xx("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[x]};return Ss(Ss({},v),{},Im({},M,I))},f),g={};return Object.keys(h).reduce(function(v,x){var k=h[x];if(k.hasStack){var O={};k.stackGroups=Object.keys(k.stackGroups).reduce(function(C,M){var I=k.stackGroups[M];return Ss(Ss({},C),{},Im({},M,{numericAxisId:r,cateAxisId:i,items:I.items,stackedData:E8e(t,I.items,o)}))},O)}return Ss(Ss({},v),{},Im({},x,k))},g)},T8e=function(t,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,f=r||n.scale;if(f!=="auto"&&f!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var h=t.domain();if(!h.length)return null;var g=GUe(h,o,a);return t.domain([bC(g),vC(g)]),{niceTicks:g}}if(o&&i==="number"){var v=t.domain(),x=HUe(v,o,a);return{niceTicks:x}}return null},x6=function(t){var n=t.axis,r=t.ticks,i=t.bandSize,o=t.entry,s=t.index,a=t.dataKey;if(n.type==="category"){if(!n.allowDuplicatedCategory&&n.dataKey&&!mn(o[n.dataKey])){var f=oS(r,"value",o[n.dataKey]);if(f)return f.coordinate+i/2}return r[s]?r[s].coordinate+i/2:null}var h=Qa(o,mn(a)?n.dataKey:a);return mn(h)?null:n.scale(h)},_6=function(t){var n=t.axis,r=t.ticks,i=t.offset,o=t.bandSize,s=t.entry,a=t.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var f=Qa(s,n.dataKey,n.domain[a]);return mn(f)?null:n.scale(f)-o/2+i},k8e=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},P8e=function(t,n){var r=t.props.stackId;if(Fi(r)){var i=n[r];if(i){var o=i.items.indexOf(t);return o>=0?i.stackedData[o]:null}}return null},O8e=function(t){return t.reduce(function(n,r){return[bC(r.concat([n[0]]).filter(Ct)),vC(r.concat([n[1]]).filter(Ct))]},[1/0,-1/0])},$K=function(t,n,r){return Object.keys(t).reduce(function(i,o){var s=t[o],a=s.stackedData,f=a.reduce(function(h,g){var v=O8e(g.slice(n,r+1));return[Math.min(h[0],v[0]),Math.max(h[1],v[1])]},[1/0,-1/0]);return[Math.min(f[0],i[0]),Math.max(f[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},w6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,S6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jM=function(t,n,r){if(yn(t))return t(n,r);if(!vo(t))return n;var i=[];if(Ct(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(w6.test(t[0])){var o=+w6.exec(t[0])[1];i[0]=n[0]-o}else yn(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(Ct(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(S6.test(t[1])){var s=+S6.exec(t[1])[1];i[1]=n[1]+s}else yn(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},zS=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var o=sL(n,function(v){return v.coordinate}),s=1/0,a=1,f=o.length;a<f;a++){var h=o[a],g=o[a-1];s=Math.min((h.coordinate||0)-(g.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},E6=function(t,n,r){return!t||!t.length||yC(t,As(r,"type.defaultProps.domain"))?n:t},RK=function(t,n){var r=t.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,f=r.tooltipType,h=r.chartType;return Ss(Ss({},Wn(t)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:ML(t),value:Qa(n,i),type:f,payload:n,chartType:h})};function Ob(e){"@babel/helpers - typeof";return Ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ob(e)}function C6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function T6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C6(Object(n),!0).forEach(function(r){A8e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A8e(e,t,n){return t=M8e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M8e(e){var t=I8e(e,"string");return Ob(t)==="symbol"?t:String(t)}function I8e(e,t){if(Ob(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ob(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jS=Math.PI/180,$8e=function(t){return t*180/Math.PI},bo=function(t,n,r,i){return{x:t+Math.cos(-jS*i)*r,y:n+Math.sin(-jS*i)*r}},R8e=function(t,n){var r=t.x,i=t.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},D8e=function(t,n){var r=t.x,i=t.y,o=n.cx,s=n.cy,a=R8e({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var f=(r-o)/a,h=Math.acos(f);return i>s&&(h=2*Math.PI-h),{radius:a,angle:$8e(h),angleInRadian:h}},L8e=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},N8e=function(t,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return t+a*360},k6=function(t,n){var r=t.x,i=t.y,o=D8e({x:r,y:i},n),s=o.radius,a=o.angle,f=n.innerRadius,h=n.outerRadius;if(s<f||s>h)return!1;if(s===0)return!0;var g=L8e(n),v=g.startAngle,x=g.endAngle,k=a,O;if(v<=x){for(;k>x;)k-=360;for(;k<v;)k+=360;O=k>=v&&k<=x}else{for(;k>v;)k-=360;for(;k<x;)k+=360;O=k>=x&&k<=v}return O?T6(T6({},n),{},{radius:s,angle:N8e(k,n)}):null};function Ab(e){"@babel/helpers - typeof";return Ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ab(e)}var z8e=["offset"];function j8e(e){return V8e(e)||U8e(e)||F8e(e)||B8e()}function B8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F8e(e,t){if(e){if(typeof e=="string")return BM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BM(e,t)}}function U8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function V8e(e){if(Array.isArray(e))return BM(e)}function BM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W8e(e,t){if(e==null)return{};var n=q8e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function q8e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function P6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ni(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P6(Object(n),!0).forEach(function(r){G8e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G8e(e,t,n){return t=H8e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H8e(e){var t=Y8e(e,"string");return Ab(t)==="symbol"?t:String(t)}function Y8e(e,t){if(Ab(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ab(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mb.apply(this,arguments)}var K8e=function(t){var n=t.value,r=t.formatter,i=mn(t.children)?n:t.children;return yn(r)?r(i):i},Z8e=function(t,n){var r=ml(n-t),i=Math.min(Math.abs(n-t),360);return r*i},X8e=function(t,n,r){var i=t.position,o=t.viewBox,s=t.offset,a=t.className,f=o,h=f.cx,g=f.cy,v=f.innerRadius,x=f.outerRadius,k=f.startAngle,O=f.endAngle,C=f.clockWise,M=(v+x)/2,I=Z8e(k,O),A=I>=0?1:-1,P,$;i==="insideStart"?(P=k+A*s,$=C):i==="insideEnd"?(P=O-A*s,$=!C):i==="end"&&(P=O+A*s,$=C),$=I<=0?$:!$;var z=bo(h,g,M,P),N=bo(h,g,M,P+($?1:-1)*359),F="M".concat(z.x,",").concat(z.y,`
    A`).concat(M,",").concat(M,",0,1,").concat($?0:1,`,
    `).concat(N.x,",").concat(N.y),G=mn(t.id)?xx("recharts-radial-line-"):t.id;return Pe.createElement("text",Mb({},r,{dominantBaseline:"central",className:pr("recharts-radial-bar-label",a)}),Pe.createElement("defs",null,Pe.createElement("path",{id:G,d:F})),Pe.createElement("textPath",{xlinkHref:"#".concat(G)},n))},J8e=function(t){var n=t.viewBox,r=t.offset,i=t.position,o=n,s=o.cx,a=o.cy,f=o.innerRadius,h=o.outerRadius,g=o.startAngle,v=o.endAngle,x=(g+v)/2;if(i==="outside"){var k=bo(s,a,h+r,x),O=k.x,C=k.y;return{x:O,y:C,textAnchor:O>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var M=(f+h)/2,I=bo(s,a,M,x),A=I.x,P=I.y;return{x:A,y:P,textAnchor:"middle",verticalAnchor:"middle"}},Q8e=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,o=t.position,s=n,a=s.x,f=s.y,h=s.width,g=s.height,v=g>=0?1:-1,x=v*i,k=v>0?"end":"start",O=v>0?"start":"end",C=h>=0?1:-1,M=C*i,I=C>0?"end":"start",A=C>0?"start":"end";if(o==="top"){var P={x:a+h/2,y:f-v*i,textAnchor:"middle",verticalAnchor:k};return Ni(Ni({},P),r?{height:Math.max(f-r.y,0),width:h}:{})}if(o==="bottom"){var $={x:a+h/2,y:f+g+x,textAnchor:"middle",verticalAnchor:O};return Ni(Ni({},$),r?{height:Math.max(r.y+r.height-(f+g),0),width:h}:{})}if(o==="left"){var z={x:a-M,y:f+g/2,textAnchor:I,verticalAnchor:"middle"};return Ni(Ni({},z),r?{width:Math.max(z.x-r.x,0),height:g}:{})}if(o==="right"){var N={x:a+h+M,y:f+g/2,textAnchor:A,verticalAnchor:"middle"};return Ni(Ni({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:g}:{})}var F=r?{width:h,height:g}:{};return o==="insideLeft"?Ni({x:a+M,y:f+g/2,textAnchor:A,verticalAnchor:"middle"},F):o==="insideRight"?Ni({x:a+h-M,y:f+g/2,textAnchor:I,verticalAnchor:"middle"},F):o==="insideTop"?Ni({x:a+h/2,y:f+x,textAnchor:"middle",verticalAnchor:O},F):o==="insideBottom"?Ni({x:a+h/2,y:f+g-x,textAnchor:"middle",verticalAnchor:k},F):o==="insideTopLeft"?Ni({x:a+M,y:f+x,textAnchor:A,verticalAnchor:O},F):o==="insideTopRight"?Ni({x:a+h-M,y:f+x,textAnchor:I,verticalAnchor:O},F):o==="insideBottomLeft"?Ni({x:a+M,y:f+g-x,textAnchor:A,verticalAnchor:k},F):o==="insideBottomRight"?Ni({x:a+h-M,y:f+g-x,textAnchor:I,verticalAnchor:k},F):Fg(o)&&(Ct(o.x)||Vf(o.x))&&(Ct(o.y)||Vf(o.y))?Ni({x:a+ng(o.x,h),y:f+ng(o.y,g),textAnchor:"end",verticalAnchor:"end"},F):Ni({x:a+h/2,y:f+g/2,textAnchor:"middle",verticalAnchor:"middle"},F)},eVe=function(t){return"cx"in t&&Ct(t.cx)};function No(e){var t=e.offset,n=t===void 0?5:t,r=W8e(e,z8e),i=Ni({offset:n},r),o=i.viewBox,s=i.position,a=i.value,f=i.children,h=i.content,g=i.className,v=g===void 0?"":g,x=i.textBreakAll;if(!o||mn(a)&&mn(f)&&!V.isValidElement(h)&&!yn(h))return null;if(V.isValidElement(h))return V.cloneElement(h,i);var k;if(yn(h)){if(k=V.createElement(h,i),V.isValidElement(k))return k}else k=K8e(i);var O=eVe(o),C=Wn(i,!0);if(O&&(s==="insideStart"||s==="insideEnd"||s==="end"))return X8e(i,k,C);var M=O?J8e(i):Q8e(i);return Pe.createElement(CS,Mb({className:pr("recharts-label",v)},C,M,{breakAll:x}),k)}No.displayName="Label";var DK=function(t){var n=t.cx,r=t.cy,i=t.angle,o=t.startAngle,s=t.endAngle,a=t.r,f=t.radius,h=t.innerRadius,g=t.outerRadius,v=t.x,x=t.y,k=t.top,O=t.left,C=t.width,M=t.height,I=t.clockWise,A=t.labelViewBox;if(A)return A;if(Ct(C)&&Ct(M)){if(Ct(v)&&Ct(x))return{x:v,y:x,width:C,height:M};if(Ct(k)&&Ct(O))return{x:k,y:O,width:C,height:M}}return Ct(v)&&Ct(x)?{x:v,y:x,width:0,height:0}:Ct(n)&&Ct(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:h||0,outerRadius:g||f||a||0,clockWise:I}:t.viewBox?t.viewBox:{}},tVe=function(t,n){return t?t===!0?Pe.createElement(No,{key:"label-implicit",viewBox:n}):Fi(t)?Pe.createElement(No,{key:"label-implicit",viewBox:n,value:t}):V.isValidElement(t)?t.type===No?V.cloneElement(t,{key:"label-implicit",viewBox:n}):Pe.createElement(No,{key:"label-implicit",content:t,viewBox:n}):yn(t)?Pe.createElement(No,{key:"label-implicit",content:t,viewBox:n}):Fg(t)?Pe.createElement(No,Mb({viewBox:n},t,{key:"label-implicit"})):null:null},nVe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,o=DK(t),s=Ms(i,No).map(function(f,h){return V.cloneElement(f,{viewBox:n||o,key:"label-".concat(h)})});if(!r)return s;var a=tVe(t.label,n||o);return[a].concat(j8e(s))};No.parseViewBox=DK;No.renderCallByParent=nVe;function rVe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var iVe=rVe;const oVe=tr(iVe);function Ib(e){"@babel/helpers - typeof";return Ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ib(e)}var aVe=["valueAccessor"],sVe=["data","dataKey","clockWise","id","textBreakAll"];function lVe(e){return fVe(e)||dVe(e)||uVe(e)||cVe()}function cVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uVe(e,t){if(e){if(typeof e=="string")return FM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FM(e,t)}}function dVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fVe(e){if(Array.isArray(e))return FM(e)}function FM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BS(){return BS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BS.apply(this,arguments)}function O6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function A6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O6(Object(n),!0).forEach(function(r){hVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hVe(e,t,n){return t=pVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pVe(e){var t=mVe(e,"string");return Ib(t)==="symbol"?t:String(t)}function mVe(e,t){if(Ib(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ib(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M6(e,t){if(e==null)return{};var n=gVe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gVe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var yVe=function(t){return vo(t.value)?oVe(t.value):t.value};function Cd(e){var t=e.valueAccessor,n=t===void 0?yVe:t,r=M6(e,aVe),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,f=r.textBreakAll,h=M6(r,sVe);return!i||!i.length?null:Pe.createElement(Ei,{className:"recharts-label-list"},i.map(function(g,v){var x=mn(o)?n(g,v):Qa(g&&g.payload,o),k=mn(a)?{}:{id:"".concat(a,"-").concat(v)};return Pe.createElement(No,BS({},Wn(g,!0),h,k,{parentViewBox:g.parentViewBox,index:v,value:x,textBreakAll:f,viewBox:No.parseViewBox(mn(s)?g:A6(A6({},g),{},{clockWise:s})),key:"label-".concat(v)}))}))}Cd.displayName="LabelList";function vVe(e,t){return e?e===!0?Pe.createElement(Cd,{key:"labelList-implicit",data:t}):Pe.isValidElement(e)||yn(e)?Pe.createElement(Cd,{key:"labelList-implicit",data:t,content:e}):Fg(e)?Pe.createElement(Cd,BS({data:t},e,{key:"labelList-implicit"})):null:null}function bVe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=Ms(r,Cd).map(function(s,a){return V.cloneElement(s,{data:t,key:"labelList-".concat(a)})});if(!n)return i;var o=vVe(e.label,t);return[o].concat(lVe(i))}Cd.renderCallByParent=bVe;function $b(e){"@babel/helpers - typeof";return $b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$b(e)}function UM(){return UM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UM.apply(this,arguments)}function I6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I6(Object(n),!0).forEach(function(r){xVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xVe(e,t,n){return t=_Ve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Ve(e){var t=wVe(e,"string");return $b(t)==="symbol"?t:String(t)}function wVe(e,t){if($b(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($b(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SVe=function(t,n){var r=ml(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},C1=function(t){var n=t.cx,r=t.cy,i=t.radius,o=t.angle,s=t.sign,a=t.isExternal,f=t.cornerRadius,h=t.cornerIsExternal,g=f*(a?1:-1)+i,v=Math.asin(f/g)/jS,x=h?o:o+s*v,k=bo(n,r,g,x),O=bo(n,r,i,x),C=h?o-s*v:o,M=bo(n,r,g*Math.cos(v*jS),C);return{center:k,circleTangency:O,lineTangency:M,theta:v}},LK=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.startAngle,a=t.endAngle,f=SVe(s,a),h=s+f,g=bo(n,r,o,s),v=bo(n,r,o,h),x="M ".concat(g.x,",").concat(g.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(s>h),`,
    `).concat(v.x,",").concat(v.y,`
  `);if(i>0){var k=bo(n,r,i,s),O=bo(n,r,i,h);x+="L ".concat(O.x,",").concat(O.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(s<=h),`,
            `).concat(k.x,",").concat(k.y," Z")}else x+="L ".concat(n,",").concat(r," Z");return x},EVe=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,a=t.forceCornerRadius,f=t.cornerIsExternal,h=t.startAngle,g=t.endAngle,v=ml(g-h),x=C1({cx:n,cy:r,radius:o,angle:h,sign:v,cornerRadius:s,cornerIsExternal:f}),k=x.circleTangency,O=x.lineTangency,C=x.theta,M=C1({cx:n,cy:r,radius:o,angle:g,sign:-v,cornerRadius:s,cornerIsExternal:f}),I=M.circleTangency,A=M.lineTangency,P=M.theta,$=f?Math.abs(h-g):Math.abs(h-g)-C-P;if($<0)return a?"M ".concat(O.x,",").concat(O.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):LK({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:h,endAngle:g});var z="M ".concat(O.x,",").concat(O.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(v<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(o,",").concat(o,",0,").concat(+($>180),",").concat(+(v<0),",").concat(I.x,",").concat(I.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(v<0),",").concat(A.x,",").concat(A.y,`
  `);if(i>0){var N=C1({cx:n,cy:r,radius:i,angle:h,sign:v,isExternal:!0,cornerRadius:s,cornerIsExternal:f}),F=N.circleTangency,G=N.lineTangency,J=N.theta,ee=C1({cx:n,cy:r,radius:i,angle:g,sign:-v,isExternal:!0,cornerRadius:s,cornerIsExternal:f}),ae=ee.circleTangency,pe=ee.lineTangency,ye=ee.theta,we=f?Math.abs(h-g):Math.abs(h-g)-J-ye;if(we<0&&s===0)return"".concat(z,"L").concat(n,",").concat(r,"Z");z+="L".concat(pe.x,",").concat(pe.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(v<0),",").concat(ae.x,",").concat(ae.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(we>180),",").concat(+(v>0),",").concat(F.x,",").concat(F.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(v<0),",").concat(G.x,",").concat(G.y,"Z")}else z+="L".concat(n,",").concat(r,"Z");return z},CVe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},NK=function(t){var n=$6($6({},CVe),t),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,f=n.forceCornerRadius,h=n.cornerIsExternal,g=n.startAngle,v=n.endAngle,x=n.className;if(s<o||g===v)return null;var k=pr("recharts-sector",x),O=s-o,C=ng(a,O,0,!0),M;return C>0&&Math.abs(g-v)<360?M=EVe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(C,O/2),forceCornerRadius:f,cornerIsExternal:h,startAngle:g,endAngle:v}):M=LK({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:g,endAngle:v}),Pe.createElement("path",UM({},Wn(n,!0),{className:k,d:M,role:"img"}))};function Rb(e){"@babel/helpers - typeof";return Rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rb(e)}function VM(){return VM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VM.apply(this,arguments)}function R6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function D6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R6(Object(n),!0).forEach(function(r){TVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TVe(e,t,n){return t=kVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kVe(e){var t=PVe(e,"string");return Rb(t)==="symbol"?t:String(t)}function PVe(e,t){if(Rb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L6={curveBasisClosed:MNe,curveBasisOpen:INe,curveBasis:ANe,curveBumpX:gNe,curveBumpY:yNe,curveLinearClosed:$Ne,curveLinear:hC,curveMonotoneX:RNe,curveMonotoneY:DNe,curveNatural:LNe,curveStep:NNe,curveStepAfter:jNe,curveStepBefore:zNe},T1=function(t){return t.x===+t.x&&t.y===+t.y},Bv=function(t){return t.x},Fv=function(t){return t.y},OVe=function(t,n){if(yn(t))return t;var r="curve".concat(dC(t));return(r==="curveMonotone"||r==="curveBump")&&n?L6["".concat(r).concat(n==="vertical"?"Y":"X")]:L6[r]||hC},AVe=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,o=i===void 0?[]:i,s=t.baseLine,a=t.layout,f=t.connectNulls,h=f===void 0?!1:f,g=OVe(r,a),v=h?o.filter(function(C){return T1(C)}):o,x;if(vo(s)){var k=h?s.filter(function(C){return T1(C)}):s,O=v.map(function(C,M){return D6(D6({},C),{},{base:k[M]})});return a==="vertical"?x=v1().y(Fv).x1(Bv).x0(function(C){return C.base.x}):x=v1().x(Bv).y1(Fv).y0(function(C){return C.base.y}),x.defined(T1).curve(g),x(O)}return a==="vertical"&&Ct(s)?x=v1().y(Fv).x1(Bv).x0(s):Ct(s)?x=v1().x(Bv).y1(Fv).y0(s):x=QH().x(Bv).y(Fv),x.defined(T1).curve(g),x(v)},WM=function(t){var n=t.className,r=t.points,i=t.path,o=t.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?AVe(t):i;return Pe.createElement("path",VM({},Wn(t),aS(t),{className:pr("recharts-curve",n),d:s,ref:o}))};function Db(e){"@babel/helpers - typeof";return Db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Db(e)}function FS(){return FS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FS.apply(this,arguments)}function MVe(e,t){return DVe(e)||RVe(e,t)||$Ve(e,t)||IVe()}function IVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ve(e,t){if(e){if(typeof e=="string")return N6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N6(e,t)}}function N6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RVe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function DVe(e){if(Array.isArray(e))return e}function z6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function j6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z6(Object(n),!0).forEach(function(r){LVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LVe(e,t,n){return t=NVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NVe(e){var t=zVe(e,"string");return Db(t)==="symbol"?t:String(t)}function zVe(e,t){if(Db(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Db(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B6=function(t,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,f=r>=0?1:-1,h=i>=0&&r>=0||i<0&&r<0?1:0,g;if(s>0&&o instanceof Array){for(var v=[0,0,0,0],x=0,k=4;x<k;x++)v[x]=o[x]>s?s:o[x];g="M".concat(t,",").concat(n+a*v[0]),v[0]>0&&(g+="A ".concat(v[0],",").concat(v[0],",0,0,").concat(h,",").concat(t+f*v[0],",").concat(n)),g+="L ".concat(t+r-f*v[1],",").concat(n),v[1]>0&&(g+="A ".concat(v[1],",").concat(v[1],",0,0,").concat(h,`,
        `).concat(t+r,",").concat(n+a*v[1])),g+="L ".concat(t+r,",").concat(n+i-a*v[2]),v[2]>0&&(g+="A ".concat(v[2],",").concat(v[2],",0,0,").concat(h,`,
        `).concat(t+r-f*v[2],",").concat(n+i)),g+="L ".concat(t+f*v[3],",").concat(n+i),v[3]>0&&(g+="A ".concat(v[3],",").concat(v[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(n+i-a*v[3])),g+="Z"}else if(s>0&&o===+o&&o>0){var O=Math.min(s,o);g="M ".concat(t,",").concat(n+a*O,`
            A `).concat(O,",").concat(O,",0,0,").concat(h,",").concat(t+f*O,",").concat(n,`
            L `).concat(t+r-f*O,",").concat(n,`
            A `).concat(O,",").concat(O,",0,0,").concat(h,",").concat(t+r,",").concat(n+a*O,`
            L `).concat(t+r,",").concat(n+i-a*O,`
            A `).concat(O,",").concat(O,",0,0,").concat(h,",").concat(t+r-f*O,",").concat(n+i,`
            L `).concat(t+f*O,",").concat(n+i,`
            A `).concat(O,",").concat(O,",0,0,").concat(h,",").concat(t,",").concat(n+i-a*O," Z")}else g="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return g},jVe=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,o=n.x,s=n.y,a=n.width,f=n.height;if(Math.abs(a)>0&&Math.abs(f)>0){var h=Math.min(o,o+a),g=Math.max(o,o+a),v=Math.min(s,s+f),x=Math.max(s,s+f);return r>=h&&r<=g&&i>=v&&i<=x}return!1},BVe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IL=function(t){var n=j6(j6({},BVe),t),r=V.useRef(),i=V.useState(-1),o=MVe(i,2),s=o[0],a=o[1];V.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var $=r.current.getTotalLength();$&&a($)}catch{}},[]);var f=n.x,h=n.y,g=n.width,v=n.height,x=n.radius,k=n.className,O=n.animationEasing,C=n.animationDuration,M=n.animationBegin,I=n.isAnimationActive,A=n.isUpdateAnimationActive;if(f!==+f||h!==+h||g!==+g||v!==+v||g===0||v===0)return null;var P=pr("recharts-rectangle",k);return A?Pe.createElement(au,{canBegin:s>0,from:{width:g,height:v,x:f,y:h},to:{width:g,height:v,x:f,y:h},duration:C,animationEasing:O,isActive:A},function($){var z=$.width,N=$.height,F=$.x,G=$.y;return Pe.createElement(au,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:M,duration:C,isActive:I,easing:O},Pe.createElement("path",FS({},Wn(n,!0),{className:P,d:B6(F,G,z,N,x),ref:r})))}):Pe.createElement("path",FS({},Wn(n,!0),{className:P,d:B6(f,h,g,v,x)}))};function qM(){return qM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qM.apply(this,arguments)}var $L=function(t){var n=t.cx,r=t.cy,i=t.r,o=t.className,s=pr("recharts-dot",o);return n===+n&&r===+r&&i===+i?Pe.createElement("circle",qM({},Wn(t),aS(t),{className:s,cx:n,cy:r,r:i})):null};function Lb(e){"@babel/helpers - typeof";return Lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lb(e)}var FVe=["x","y","top","left","width","height","className"];function GM(){return GM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GM.apply(this,arguments)}function F6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UVe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F6(Object(n),!0).forEach(function(r){VVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VVe(e,t,n){return t=WVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WVe(e){var t=qVe(e,"string");return Lb(t)==="symbol"?t:String(t)}function qVe(e,t){if(Lb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GVe(e,t){if(e==null)return{};var n=HVe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function HVe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var YVe=function(t,n,r,i,o,s){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},KVe=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,s=t.top,a=s===void 0?0:s,f=t.left,h=f===void 0?0:f,g=t.width,v=g===void 0?0:g,x=t.height,k=x===void 0?0:x,O=t.className,C=GVe(t,FVe),M=UVe({x:r,y:o,top:a,left:h,width:v,height:k},C);return!Ct(r)||!Ct(o)||!Ct(v)||!Ct(k)||!Ct(a)||!Ct(h)?null:Pe.createElement("path",GM({},Wn(M,!0),{className:pr("recharts-cross",O),d:YVe(r,o,v,k,a,h)}))},ZVe=mu,XVe=gu,JVe="[object Boolean]";function QVe(e){return e===!0||e===!1||XVe(e)&&ZVe(e)==JVe}var eWe=QVe;const zK=tr(eWe);var tWe=RH,nWe=tWe(Object.getPrototypeOf,Object),rWe=nWe,iWe=mu,oWe=rWe,aWe=gu,sWe="[object Object]",lWe=Function.prototype,cWe=Object.prototype,jK=lWe.toString,uWe=cWe.hasOwnProperty,dWe=jK.call(Object);function fWe(e){if(!aWe(e)||iWe(e)!=sWe)return!1;var t=oWe(e);if(t===null)return!0;var n=uWe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&jK.call(n)==dWe}var hWe=fWe;const pWe=tr(hWe);function Nb(e){"@babel/helpers - typeof";return Nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nb(e)}function US(){return US=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},US.apply(this,arguments)}function mWe(e,t){return bWe(e)||vWe(e,t)||yWe(e,t)||gWe()}function gWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yWe(e,t){if(e){if(typeof e=="string")return U6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U6(e,t)}}function U6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vWe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function bWe(e){if(Array.isArray(e))return e}function V6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function W6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V6(Object(n),!0).forEach(function(r){xWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xWe(e,t,n){return t=_We(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _We(e){var t=wWe(e,"string");return Nb(t)==="symbol"?t:String(t)}function wWe(e,t){if(Nb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Nb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q6=function(t,n,r,i,o){var s=r-i,a;return a="M ".concat(t,",").concat(n),a+="L ".concat(t+r,",").concat(n),a+="L ".concat(t+r-s/2,",").concat(n+o),a+="L ".concat(t+r-s/2-i,",").concat(n+o),a+="L ".concat(t,",").concat(n," Z"),a},SWe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},EWe=function(t){var n=W6(W6({},SWe),t),r=V.useRef(),i=V.useState(-1),o=mWe(i,2),s=o[0],a=o[1];V.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&a(P)}catch{}},[]);var f=n.x,h=n.y,g=n.upperWidth,v=n.lowerWidth,x=n.height,k=n.className,O=n.animationEasing,C=n.animationDuration,M=n.animationBegin,I=n.isUpdateAnimationActive;if(f!==+f||h!==+h||g!==+g||v!==+v||x!==+x||g===0&&v===0||x===0)return null;var A=pr("recharts-trapezoid",k);return I?Pe.createElement(au,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:x,x:f,y:h},to:{upperWidth:g,lowerWidth:v,height:x,x:f,y:h},duration:C,animationEasing:O,isActive:I},function(P){var $=P.upperWidth,z=P.lowerWidth,N=P.height,F=P.x,G=P.y;return Pe.createElement(au,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:M,duration:C,easing:O},Pe.createElement("path",US({},Wn(n,!0),{className:A,d:q6(F,G,$,z,N),ref:r})))}):Pe.createElement("g",null,Pe.createElement("path",US({},Wn(n,!0),{className:A,d:q6(f,h,g,v,x)})))},CWe=["option","shapeType","propTransformer","activeClassName","isActive"];function zb(e){"@babel/helpers - typeof";return zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zb(e)}function TWe(e,t){if(e==null)return{};var n=kWe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kWe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function G6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function H6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G6(Object(n),!0).forEach(function(r){PWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PWe(e,t,n){return t=OWe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OWe(e){var t=AWe(e,"string");return zb(t)==="symbol"?t:String(t)}function AWe(e,t){if(zb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MWe(e,t){return H6(H6({},t),e)}function IWe(e,t){return e==="symbols"}function Y6(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return Pe.createElement(IL,n);case"trapezoid":return Pe.createElement(EWe,n);case"sector":return Pe.createElement(NK,n);case"symbols":if(IWe(t))return Pe.createElement(iL,n);break;default:return null}}function $We(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?MWe:r,o=e.activeClassName,s=o===void 0?"recharts-active-shape":o,a=e.isActive,f=TWe(e,CWe),h;if(V.isValidElement(t))h=V.cloneElement(t,f);else if(yn(t))h=t(f);else if(pWe(t)&&!zK(t)){var g=f,v=i(t,g);h=Pe.createElement(Y6,{shapeType:n,elementProps:v})}else{var x=f;h=Pe.createElement(Y6,{shapeType:n,elementProps:x})}return a?Pe.createElement(Ei,{className:s},h):h}function PC(e,t){return"trapezoids"in e.props}function OC(e,t){return"sectors"in e.props}function jb(e,t){return"points"in e.props}function RWe(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,o=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&o}function DWe(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function LWe(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function NWe(e,t){var n;return PC(e)?n=RWe:OC(e)?n=DWe:jb(e)&&(n=LWe),n}function zWe(e,t){var n;return PC(e)?n="trapezoids":OC(e)?n="sectors":jb(e)&&(n="points"),n}function jWe(e,t){if(PC(e)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(OC(e)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return jb(e)?t.payload:{}}function BWe(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=zWe(n),o=jWe(n,t),s=r.filter(function(f,h){var g=yC(o,f),v=n.props[i].filter(function(O){var C=NWe(n);return C(O,t)}),x=n.props[i].indexOf(v[v.length-1]),k=h===x;return g&&k}),a=r.indexOf(s[s.length-1]);return a}var FWe=Math.ceil,UWe=Math.max;function VWe(e,t,n,r){for(var i=-1,o=UWe(FWe((t-e)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=e,e+=n;return s}var WWe=VWe,qWe=kY,K6=1/0,GWe=17976931348623157e292;function HWe(e){if(!e)return e===0?e:0;if(e=qWe(e),e===K6||e===-K6){var t=e<0?-1:1;return t*GWe}return e===e?e:0}var BK=HWe,YWe=WWe,KWe=gC,QP=BK;function ZWe(e){return function(t,n,r){return r&&typeof r!="number"&&KWe(t,n,r)&&(n=r=void 0),t=QP(t),n===void 0?(n=t,t=0):n=QP(n),r=r===void 0?t<n?1:-1:QP(r),YWe(t,n,r,e)}}var XWe=ZWe,JWe=XWe,QWe=JWe(),e9e=QWe;const VS=tr(e9e);function Bb(e){"@babel/helpers - typeof";return Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bb(e)}function Z6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function X6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z6(Object(n),!0).forEach(function(r){FK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FK(e,t,n){return t=t9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t9e(e){var t=n9e(e,"string");return Bb(t)==="symbol"?t:String(t)}function n9e(e,t){if(Bb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r9e=["Webkit","Moz","O","ms"],i9e=function(t,n){if(!t)return null;var r=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=r9e.reduce(function(o,s){return X6(X6({},o),{},FK({},s+r,n))},{});return i[t]=n,i};function hg(e){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(e)}function WS(){return WS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WS.apply(this,arguments)}function J6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J6(Object(n),!0).forEach(function(r){Ba(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,UK(r.key),r)}}function a9e(e,t,n){return t&&Q6(e.prototype,t),n&&Q6(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HM(e,t)}function HM(e,t){return HM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HM(e,t)}function l9e(e){var t=u9e();return function(){var r=qS(e),i;if(t){var o=qS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return c9e(this,i)}}function c9e(e,t){if(t&&(hg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zl(e)}function zl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qS(e){return qS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qS(e)}function Ba(e,t,n){return t=UK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UK(e){var t=d9e(e,"string");return hg(t)==="symbol"?t:String(t)}function d9e(e,t){if(hg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f9e=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,o=t.x,s=t.width,a=t.travellerWidth;if(!n||!n.length)return{};var f=n.length,h=k0().domain(VS(0,f)).range([o,o+s-a]),g=h.domain().map(function(v){return h(v)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(r),endX:h(i),scale:h,scaleValues:g}},eU=function(t){return t.changedTouches&&!!t.changedTouches.length},Fb=function(e){s9e(n,e);var t=l9e(n);function n(r){var i;return o9e(this,n),i=t.call(this,r),Ba(zl(i),"handleDrag",function(o){i.leaveTimer&&(clearTimeout(i.leaveTimer),i.leaveTimer=null),i.state.isTravellerMoving?i.handleTravellerMove(o):i.state.isSlideMoving&&i.handleSlideDrag(o)}),Ba(zl(i),"handleTouchMove",function(o){o.changedTouches!=null&&o.changedTouches.length>0&&i.handleDrag(o.changedTouches[0])}),Ba(zl(i),"handleDragEnd",function(){i.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var o=i.props,s=o.endIndex,a=o.onDragEnd,f=o.startIndex;a==null||a({endIndex:s,startIndex:f})}),i.detachDragEndListener()}),Ba(zl(i),"handleLeaveWrapper",function(){(i.state.isTravellerMoving||i.state.isSlideMoving)&&(i.leaveTimer=window.setTimeout(i.handleDragEnd,i.props.leaveTimeOut))}),Ba(zl(i),"handleEnterSlideOrTraveller",function(){i.setState({isTextActive:!0})}),Ba(zl(i),"handleLeaveSlideOrTraveller",function(){i.setState({isTextActive:!1})}),Ba(zl(i),"handleSlideDragStart",function(o){var s=eU(o)?o.changedTouches[0]:o;i.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),i.attachDragEndListener()}),i.travellerDragStartHandlers={startX:i.handleTravellerDragStart.bind(zl(i),"startX"),endX:i.handleTravellerDragStart.bind(zl(i),"endX")},i.state={},i}return a9e(n,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(i){var o=i.startX,s=i.endX,a=this.state.scaleValues,f=this.props,h=f.gap,g=f.data,v=g.length-1,x=Math.min(o,s),k=Math.max(o,s),O=n.getIndexInRange(a,x),C=n.getIndexInRange(a,k);return{startIndex:O-O%h,endIndex:C===v?v:C-C%h}}},{key:"getTextOfTick",value:function(i){var o=this.props,s=o.data,a=o.tickFormatter,f=o.dataKey,h=Qa(s[i],f,i);return yn(a)?a(h,i):h}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(i){var o=this.state,s=o.slideMoveStartX,a=o.startX,f=o.endX,h=this.props,g=h.x,v=h.width,x=h.travellerWidth,k=h.startIndex,O=h.endIndex,C=h.onChange,M=i.pageX-s;M>0?M=Math.min(M,g+v-x-f,g+v-x-a):M<0&&(M=Math.max(M,g-a,g-f));var I=this.getIndex({startX:a+M,endX:f+M});(I.startIndex!==k||I.endIndex!==O)&&C&&C(I),this.setState({startX:a+M,endX:f+M,slideMoveStartX:i.pageX})}},{key:"handleTravellerDragStart",value:function(i,o){var s=eU(o)?o.changedTouches[0]:o;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:i,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(i){var o,s=this.state,a=s.brushMoveStartX,f=s.movingTravellerId,h=s.endX,g=s.startX,v=this.state[f],x=this.props,k=x.x,O=x.width,C=x.travellerWidth,M=x.onChange,I=x.gap,A=x.data,P={startX:this.state.startX,endX:this.state.endX},$=i.pageX-a;$>0?$=Math.min($,k+O-C-v):$<0&&($=Math.max($,k-v)),P[f]=v+$;var z=this.getIndex(P),N=z.startIndex,F=z.endIndex,G=function(){var ee=A.length-1;return f==="startX"&&(h>g?N%I===0:F%I===0)||h<g&&F===ee||f==="endX"&&(h>g?F%I===0:N%I===0)||h>g&&F===ee};this.setState((o={},Ba(o,f,v+$),Ba(o,"brushMoveStartX",i.pageX),o),function(){M&&G()&&M(z)})}},{key:"handleTravellerMoveKeyboard",value:function(i,o){var s=this,a=this.state,f=a.scaleValues,h=a.startX,g=a.endX,v=this.state[o],x=f.indexOf(v);if(x!==-1){var k=x+i;if(!(k===-1||k>=f.length)){var O=f[k];o==="startX"&&O>=g||o==="endX"&&O<=h||this.setState(Ba({},o,O),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,f=i.height,h=i.fill,g=i.stroke;return Pe.createElement("rect",{stroke:g,fill:h,x:o,y:s,width:a,height:f})}},{key:"renderPanorama",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,f=i.height,h=i.data,g=i.children,v=i.padding,x=V.Children.only(g);return x?Pe.cloneElement(x,{x:o,y:s,width:a,height:f,margin:v,compact:!0,data:h}):null}},{key:"renderTravellerLayer",value:function(i,o){var s=this,a=this.props,f=a.y,h=a.travellerWidth,g=a.height,v=a.traveller,x=Math.max(i,this.props.x),k=eO(eO({},Wn(this.props)),{},{x,y:f,width:h,height:g});return Pe.createElement(Ei,{tabIndex:0,role:"slider",className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[o],onTouchStart:this.travellerDragStartHandlers[o],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),s.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,o))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},n.renderTraveller(v,k))}},{key:"renderSlide",value:function(i,o){var s=this.props,a=s.y,f=s.height,h=s.stroke,g=s.travellerWidth,v=Math.min(i,o)+g,x=Math.max(Math.abs(o-i)-g,0);return Pe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:h,fillOpacity:.2,x:v,y:a,width:x,height:f})}},{key:"renderText",value:function(){var i=this.props,o=i.startIndex,s=i.endIndex,a=i.y,f=i.height,h=i.travellerWidth,g=i.stroke,v=this.state,x=v.startX,k=v.endX,O=5,C={pointerEvents:"none",fill:g};return Pe.createElement(Ei,{className:"recharts-brush-texts"},Pe.createElement(CS,WS({textAnchor:"end",verticalAnchor:"middle",x:Math.min(x,k)-O,y:a+f/2},C),this.getTextOfTick(o)),Pe.createElement(CS,WS({textAnchor:"start",verticalAnchor:"middle",x:Math.max(x,k)+h+O,y:a+f/2},C),this.getTextOfTick(s)))}},{key:"render",value:function(){var i=this.props,o=i.data,s=i.className,a=i.children,f=i.x,h=i.y,g=i.width,v=i.height,x=i.alwaysShowText,k=this.state,O=k.startX,C=k.endX,M=k.isTextActive,I=k.isSlideMoving,A=k.isTravellerMoving,P=k.isTravellerFocused;if(!o||!o.length||!Ct(f)||!Ct(h)||!Ct(g)||!Ct(v)||g<=0||v<=0)return null;var $=pr("recharts-brush",s),z=Pe.Children.count(a)===1,N=i9e("userSelect","none");return Pe.createElement(Ei,{className:$,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),z&&this.renderPanorama(),this.renderSlide(O,C),this.renderTravellerLayer(O,"startX"),this.renderTravellerLayer(C,"endX"),(M||I||A||P||x)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(i){var o=i.x,s=i.y,a=i.width,f=i.height,h=i.stroke,g=Math.floor(s+f/2)-1;return Pe.createElement(Pe.Fragment,null,Pe.createElement("rect",{x:o,y:s,width:a,height:f,fill:h,stroke:"none"}),Pe.createElement("line",{x1:o+1,y1:g,x2:o+a-1,y2:g,fill:"none",stroke:"#fff"}),Pe.createElement("line",{x1:o+1,y1:g+2,x2:o+a-1,y2:g+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(i,o){var s;return Pe.isValidElement(i)?s=Pe.cloneElement(i,o):yn(i)?s=i(o):s=n.renderDefaultTraveller(o),s}},{key:"getDerivedStateFromProps",value:function(i,o){var s=i.data,a=i.width,f=i.x,h=i.travellerWidth,g=i.updateId,v=i.startIndex,x=i.endIndex;if(s!==o.prevData||g!==o.prevUpdateId)return eO({prevData:s,prevTravellerWidth:h,prevUpdateId:g,prevX:f,prevWidth:a},s&&s.length?f9e({data:s,width:a,x:f,travellerWidth:h,startIndex:v,endIndex:x}):{scale:null,scaleValues:null});if(o.scale&&(a!==o.prevWidth||f!==o.prevX||h!==o.prevTravellerWidth)){o.scale.range([f,f+a-h]);var k=o.scale.domain().map(function(O){return o.scale(O)});return{prevData:s,prevTravellerWidth:h,prevUpdateId:g,prevX:f,prevWidth:a,startX:o.scale(i.startIndex),endX:o.scale(i.endIndex),scaleValues:k}}return null}},{key:"getIndexInRange",value:function(i,o){for(var s=i.length,a=0,f=s-1;f-a>1;){var h=Math.floor((a+f)/2);i[h]>o?f=h:a=h}return o>=i[f]?f:a}}]),n}(V.PureComponent);Ba(Fb,"displayName","Brush");Ba(Fb,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var h9e=aL;function p9e(e,t){var n;return h9e(e,function(r,i,o){return n=t(r,i,o),!n}),!!n}var m9e=p9e,g9e=TH,y9e=Wd,v9e=m9e,b9e=fa,x9e=gC;function _9e(e,t,n){var r=b9e(e)?g9e:v9e;return n&&x9e(e,t,n)&&(t=void 0),r(e,y9e(t))}var w9e=_9e;const S9e=tr(w9e);var rc=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n};function E9e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var C9e=E9e,T9e=aL;function k9e(e,t){var n=!0;return T9e(e,function(r,i,o){return n=!!t(r,i,o),n}),n}var P9e=k9e,O9e=C9e,A9e=P9e,M9e=Wd,I9e=fa,$9e=gC;function R9e(e,t,n){var r=I9e(e)?O9e:A9e;return n&&$9e(e,t,n)&&(t=void 0),r(e,M9e(t))}var D9e=R9e;const VK=tr(D9e);var tU=CY;function L9e(e,t,n){t=="__proto__"&&tU?tU(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var N9e=L9e,z9e=N9e,j9e=SY,B9e=Wd;function F9e(e,t){var n={};return t=B9e(t),j9e(e,function(r,i,o){z9e(n,i,t(r,i,o))}),n}var U9e=F9e;const V9e=tr(U9e);function Ub(e){"@babel/helpers - typeof";return Ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ub(e)}var W9e=["x","y"];function YM(){return YM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YM.apply(this,arguments)}function nU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nU(Object(n),!0).forEach(function(r){q9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q9e(e,t,n){return t=G9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G9e(e){var t=H9e(e,"string");return Ub(t)==="symbol"?t:String(t)}function H9e(e,t){if(Ub(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ub(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y9e(e,t){if(e==null)return{};var n=K9e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function K9e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Z9e(e,t){var n=e.x,r=e.y,i=Y9e(e,W9e),o="".concat(n),s=parseInt(o,10),a="".concat(r),f=parseInt(a,10),h="".concat(t.height||i.height),g=parseInt(h,10),v="".concat(t.width||i.width),x=parseInt(v,10);return Uv(Uv(Uv(Uv(Uv({},t),i),s?{x:s}:{}),f?{y:f}:{}),{},{height:g,width:x,name:t.name,radius:t.radius})}function rU(e){return Pe.createElement($We,YM({shapeType:"rectangle",propTransformer:Z9e,activeClassName:"recharts-active-bar"},e))}var X9e=["value","background"];function pg(e){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pg(e)}function J9e(e,t){if(e==null)return{};var n=Q9e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Q9e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function GS(){return GS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GS.apply(this,arguments)}function iU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iU(Object(n),!0).forEach(function(r){cd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WK(r.key),r)}}function t7e(e,t,n){return t&&oU(e.prototype,t),n&&oU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function n7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KM(e,t)}function KM(e,t){return KM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KM(e,t)}function r7e(e){var t=o7e();return function(){var r=HS(e),i;if(t){var o=HS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return i7e(this,i)}}function i7e(e,t){if(t&&(pg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n0(e)}function n0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o7e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function HS(e){return HS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},HS(e)}function cd(e,t,n){return t=WK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WK(e){var t=a7e(e,"string");return pg(t)==="symbol"?t:String(t)}function a7e(e,t){if(pg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AC=function(e){n7e(n,e);var t=r7e(n);function n(){var r;e7e(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),cd(n0(r),"state",{isAnimationFinished:!1}),cd(n0(r),"id",xx("recharts-bar-")),cd(n0(r),"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),a&&a()}),cd(n0(r),"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),a&&a()}),r}return t7e(n,[{key:"renderRectanglesStatically",value:function(i){var o=this,s=this.props,a=s.shape,f=s.dataKey,h=s.activeIndex,g=s.activeBar,v=Wn(this.props);return i&&i.map(function(x,k){var O=k===h,C=O?g:a,M=Zi(Zi(Zi({},v),x),{},{isActive:O,option:C,index:k,dataKey:f,onAnimationStart:o.handleAnimationStart,onAnimationEnd:o.handleAnimationEnd});return Pe.createElement(Ei,GS({className:"recharts-bar-rectangle"},sS(o.props,x,k),{key:"rectangle-".concat(k)}),Pe.createElement(rU,M))})}},{key:"renderRectanglesWithAnimation",value:function(){var i=this,o=this.props,s=o.data,a=o.layout,f=o.isAnimationActive,h=o.animationBegin,g=o.animationDuration,v=o.animationEasing,x=o.animationId,k=this.state.prevData;return Pe.createElement(au,{begin:h,duration:g,isActive:f,easing:v,from:{t:0},to:{t:1},key:"bar-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var C=O.t,M=s.map(function(I,A){var P=k&&k[A];if(P){var $=ll(P.x,I.x),z=ll(P.y,I.y),N=ll(P.width,I.width),F=ll(P.height,I.height);return Zi(Zi({},I),{},{x:$(C),y:z(C),width:N(C),height:F(C)})}if(a==="horizontal"){var G=ll(0,I.height),J=G(C);return Zi(Zi({},I),{},{y:I.y+I.height-J,height:J})}var ee=ll(0,I.width),ae=ee(C);return Zi(Zi({},I),{},{width:ae})});return Pe.createElement(Ei,null,i.renderRectanglesStatically(M))})}},{key:"renderRectangles",value:function(){var i=this.props,o=i.data,s=i.isAnimationActive,a=this.state.prevData;return s&&o&&o.length&&(!a||!yC(a,o))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(o)}},{key:"renderBackground",value:function(){var i=this,o=this.props,s=o.data,a=o.dataKey,f=o.activeIndex,h=Wn(this.props.background);return s.map(function(g,v){g.value;var x=g.background,k=J9e(g,X9e);if(!x)return null;var O=Zi(Zi(Zi(Zi(Zi({},k),{},{fill:"#eee"},x),h),sS(i.props,g,v)),{},{onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd,dataKey:a,index:v,key:"background-bar-".concat(v),className:"recharts-bar-background-rectangle"});return Pe.createElement(rU,GS({option:i.props.background,isActive:v===f},O))})}},{key:"renderErrorBar",value:function(i,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,f=s.xAxis,h=s.yAxis,g=s.layout,v=s.children,x=Ms(v,Tx);if(!x)return null;var k=g==="vertical"?a[0].height/2:a[0].width/2,O=function(I,A){var P=Array.isArray(I.value)?I.value[1]:I.value;return{x:I.x,y:I.y,value:P,errorVal:Qa(I,A)}},C={clipPath:i?"url(#clipPath-".concat(o,")"):null};return Pe.createElement(Ei,C,x.map(function(M,I){return Pe.cloneElement(M,{key:"error-bar-".concat(I),data:a,xAxis:f,yAxis:h,layout:g,offset:k,dataPointFormatter:O})}))}},{key:"render",value:function(){var i=this.props,o=i.hide,s=i.data,a=i.className,f=i.xAxis,h=i.yAxis,g=i.left,v=i.top,x=i.width,k=i.height,O=i.isAnimationActive,C=i.background,M=i.id;if(o||!s||!s.length)return null;var I=this.state.isAnimationFinished,A=pr("recharts-bar",a),P=f&&f.allowDataOverflow,$=h&&h.allowDataOverflow,z=P||$,N=mn(M)?this.id:M;return Pe.createElement(Ei,{className:A},P||$?Pe.createElement("defs",null,Pe.createElement("clipPath",{id:"clipPath-".concat(N)},Pe.createElement("rect",{x:P?g:g-x/2,y:$?v:v-k/2,width:P?x:x*2,height:$?k:k*2}))):null,Pe.createElement(Ei,{className:"recharts-bar-rectangles",clipPath:z?"url(#clipPath-".concat(N,")"):null},C?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(z,N),(!O||I)&&Cd.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curData:i.data,prevData:o.curData}:i.data!==o.curData?{curData:i.data}:null}}]),n}(V.PureComponent);cd(AC,"displayName","Bar");cd(AC,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!0,isAnimationActive:!Kc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});cd(AC,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,s=e.yAxis,a=e.xAxisTicks,f=e.yAxisTicks,h=e.stackedData,g=e.dataStartIndex,v=e.displayedData,x=e.offset,k=b8e(r,n);if(!k)return null;var O=t.layout,C=n.props,M=C.dataKey,I=C.children,A=C.minPointSize,P=O==="horizontal"?s:o,$=h?P.scale.domain():null,z=k8e({numericAxis:P}),N=Ms(I,AY),F=v.map(function(G,J){var ee,ae,pe,ye,we,Ee;if(h?ee=x8e(h[g+J],$):(ee=Qa(G,M),vo(ee)||(ee=[z,ee])),O==="horizontal"){var Oe,Ce=[s.scale(ee[0]),s.scale(ee[1])],Se=Ce[0],De=Ce[1];ae=_6({axis:o,ticks:a,bandSize:i,offset:k.offset,entry:G,index:J}),pe=(Oe=De??Se)!==null&&Oe!==void 0?Oe:void 0,ye=k.size;var We=Se-De;if(we=Number.isNaN(We)?0:We,Ee={x:ae,y:s.y,width:ye,height:s.height},Math.abs(A)>0&&Math.abs(we)<Math.abs(A)){var dt=ml(we||A)*(Math.abs(A)-Math.abs(we));pe-=dt,we+=dt}}else{var ht=[o.scale(ee[0]),o.scale(ee[1])],Je=ht[0],it=ht[1];if(ae=Je,pe=_6({axis:s,ticks:f,bandSize:i,offset:k.offset,entry:G,index:J}),ye=it-Je,we=k.size,Ee={x:o.x,y:pe,width:o.width,height:we},Math.abs(A)>0&&Math.abs(ye)<Math.abs(A)){var Ot=ml(ye||A)*(Math.abs(A)-Math.abs(ye));ye+=Ot}}return Zi(Zi(Zi({},G),{},{x:ae,y:pe,width:ye,height:we,value:h?ee:ee[1],payload:G,background:Ee},N&&N[J]&&N[J].props),{},{tooltipPayload:[RK(n,G)],tooltipPosition:{x:ae+ye/2,y:pe+we/2}})});return Zi({data:F,layout:O},x)});function Vb(e){"@babel/helpers - typeof";return Vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vb(e)}function s7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qK(r.key),r)}}function l7e(e,t,n){return t&&aU(e.prototype,t),n&&aU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ol(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sU(Object(n),!0).forEach(function(r){MC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MC(e,t,n){return t=qK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qK(e){var t=c7e(e,"string");return Vb(t)==="symbol"?t:String(t)}function c7e(e,t){if(Vb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u7e=function(t,n,r,i,o){var s=t.width,a=t.height,f=t.layout,h=t.children,g=Object.keys(n),v={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},x=!!Vc(h,AC);return g.reduce(function(k,O){var C=n[O],M=C.orientation,I=C.domain,A=C.padding,P=A===void 0?{}:A,$=C.mirror,z=C.reversed,N="".concat(M).concat($?"Mirror":""),F,G,J,ee,ae;if(C.type==="number"&&(C.padding==="gap"||C.padding==="no-gap")){var pe=I[1]-I[0],ye=1/0,we=C.categoricalDomain.sort();we.forEach(function(it,Ot){Ot>0&&(ye=Math.min((it||0)-(we[Ot-1]||0),ye))});var Ee=ye/pe,Oe=C.layout==="vertical"?r.height:r.width;if(C.padding==="gap"&&(F=Ee*Oe/2),C.padding==="no-gap"){var Ce=ng(t.barCategoryGap,Ee*Oe),Se=Ee*Oe/2;F=Se-Ce-(Se-Ce)/Oe*Ce}}i==="xAxis"?G=[r.left+(P.left||0)+(F||0),r.left+r.width-(P.right||0)-(F||0)]:i==="yAxis"?G=f==="horizontal"?[r.top+r.height-(P.bottom||0),r.top+(P.top||0)]:[r.top+(P.top||0)+(F||0),r.top+r.height-(P.bottom||0)-(F||0)]:G=C.range,z&&(G=[G[1],G[0]]);var De=y8e(C,o,x),We=De.scale,dt=De.realScaleType;We.domain(I).range(G),v8e(We);var ht=T8e(We,ol(ol({},C),{},{realScaleType:dt}));i==="xAxis"?(ae=M==="top"&&!$||M==="bottom"&&$,J=r.left,ee=v[N]-ae*C.height):i==="yAxis"&&(ae=M==="left"&&!$||M==="right"&&$,J=v[N]-ae*C.width,ee=r.top);var Je=ol(ol(ol({},C),ht),{},{realScaleType:dt,x:J,y:ee,scale:We,width:i==="xAxis"?r.width:C.width,height:i==="yAxis"?r.height:C.height});return Je.bandSize=zS(Je,ht),!C.hide&&i==="xAxis"?v[N]+=(ae?-1:1)*Je.height:C.hide||(v[N]+=(ae?-1:1)*Je.width),ol(ol({},k),{},MC({},O,Je))},{})},GK=function(t,n){var r=t.x,i=t.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},d7e=function(t){var n=t.x1,r=t.y1,i=t.x2,o=t.y2;return GK({x:n,y:r},{x:i,y:o})},HK=function(){function e(t){s7e(this,e),this.scale=t}return l7e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+f}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}]),e}();MC(HK,"EPS",1e-4);var RL=function(t){var n=Object.keys(t).reduce(function(r,i){return ol(ol({},r),{},MC({},i,HK.create(t[i])))},{});return ol(ol({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return V9e(i,function(f,h){return n[h].apply(f,{bandAware:s,position:a})})},isInRange:function(i){return VK(i,function(o,s){return n[s].isInRange(o)})}})};function f7e(e){return(e%180+180)%180}var h7e=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=f7e(i),s=o*Math.PI/180,a=Math.atan(r/n),f=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(f)};function Wb(e){"@babel/helpers - typeof";return Wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wb(e)}function lU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lU(Object(n),!0).forEach(function(r){p7e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p7e(e,t,n){return t=m7e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m7e(e){var t=g7e(e,"string");return Wb(t)==="symbol"?t:String(t)}function g7e(e,t){if(Wb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y7e(e,t){return _7e(e)||x7e(e,t)||b7e(e,t)||v7e()}function v7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b7e(e,t){if(e){if(typeof e=="string")return uU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uU(e,t)}}function uU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x7e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function _7e(e){if(Array.isArray(e))return e}function ZM(){return ZM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZM.apply(this,arguments)}var w7e=function(t,n){var r;return Pe.isValidElement(t)?r=Pe.cloneElement(t,n):yn(t)?r=t(n):r=Pe.createElement("line",ZM({},n,{className:"recharts-reference-line-line"})),r},S7e=function(t,n,r,i,o){var s=o.viewBox,a=s.x,f=s.y,h=s.width,g=s.height,v=o.position;if(r){var x=o.y,k=o.yAxis.orientation,O=t.y.apply(x,{position:v});if(rc(o,"discard")&&!t.y.isInRange(O))return null;var C=[{x:a+h,y:O},{x:a,y:O}];return k==="left"?C.reverse():C}if(n){var M=o.x,I=o.xAxis.orientation,A=t.x.apply(M,{position:v});if(rc(o,"discard")&&!t.x.isInRange(A))return null;var P=[{x:A,y:f+g},{x:A,y:f}];return I==="top"?P.reverse():P}if(i){var $=o.segment,z=$.map(function(N){return t.apply(N,{position:v})});return rc(o,"discard")&&S9e(z,function(N){return!t.isInRange(N)})?null:z}return null};function DL(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxis,o=e.yAxis,s=e.shape,a=e.className,f=e.alwaysShow,h=e.clipPathId;th(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=RL({x:i.scale,y:o.scale}),v=Fi(t),x=Fi(n),k=r&&r.length===2,O=S7e(g,v,x,k,e);if(!O)return null;var C=y7e(O,2),M=C[0],I=M.x,A=M.y,P=C[1],$=P.x,z=P.y,N=rc(e,"hidden")?"url(#".concat(h,")"):void 0,F=cU(cU({clipPath:N},Wn(e,!0)),{},{x1:I,y1:A,x2:$,y2:z});return Pe.createElement(Ei,{className:pr("recharts-reference-line",a)},w7e(s,F),No.renderCallByParent(e,d7e({x1:I,y1:A,x2:$,y2:z})))}DL.displayName="ReferenceLine";DL.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function qb(e){"@babel/helpers - typeof";return qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qb(e)}function XM(){return XM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XM.apply(this,arguments)}function dU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dU(Object(n),!0).forEach(function(r){E7e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E7e(e,t,n){return t=C7e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C7e(e){var t=T7e(e,"string");return qb(t)==="symbol"?t:String(t)}function T7e(e,t){if(qb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k7e=function(t){var n=t.x,r=t.y,i=t.xAxis,o=t.yAxis,s=RL({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return rc(t,"discard")&&!s.isInRange(a)?null:a};function kx(e){var t=e.x,n=e.y,r=e.r,i=e.alwaysShow,o=e.clipPathId,s=Fi(t),a=Fi(n);if(th(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!a)return null;var f=k7e(e);if(!f)return null;var h=f.x,g=f.y,v=e.shape,x=e.className,k=rc(e,"hidden")?"url(#".concat(o,")"):void 0,O=fU(fU({clipPath:k},Wn(e,!0)),{},{cx:h,cy:g});return Pe.createElement(Ei,{className:pr("recharts-reference-dot",x)},kx.renderDot(v,O),No.renderCallByParent(e,{x:h-r,y:g-r,width:2*r,height:2*r}))}kx.displayName="ReferenceDot";kx.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};kx.renderDot=function(e,t){var n;return Pe.isValidElement(e)?n=Pe.cloneElement(e,t):yn(e)?n=e(t):n=Pe.createElement($L,XM({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n};function Gb(e){"@babel/helpers - typeof";return Gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gb(e)}function JM(){return JM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JM.apply(this,arguments)}function hU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hU(Object(n),!0).forEach(function(r){P7e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P7e(e,t,n){return t=O7e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O7e(e){var t=A7e(e,"string");return Gb(t)==="symbol"?t:String(t)}function A7e(e,t){if(Gb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M7e=function(t,n,r,i,o){var s=o.x1,a=o.x2,f=o.y1,h=o.y2,g=o.xAxis,v=o.yAxis;if(!g||!v)return null;var x=RL({x:g.scale,y:v.scale}),k={x:t?x.x.apply(s,{position:"start"}):x.x.rangeMin,y:r?x.y.apply(f,{position:"start"}):x.y.rangeMin},O={x:n?x.x.apply(a,{position:"end"}):x.x.rangeMax,y:i?x.y.apply(h,{position:"end"}):x.y.rangeMax};return rc(o,"discard")&&(!x.isInRange(k)||!x.isInRange(O))?null:GK(k,O)};function Px(e){var t=e.x1,n=e.x2,r=e.y1,i=e.y2,o=e.className,s=e.alwaysShow,a=e.clipPathId;th(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Fi(t),h=Fi(n),g=Fi(r),v=Fi(i),x=e.shape;if(!f&&!h&&!g&&!v&&!x)return null;var k=M7e(f,h,g,v,e);if(!k&&!x)return null;var O=rc(e,"hidden")?"url(#".concat(a,")"):void 0;return Pe.createElement(Ei,{className:pr("recharts-reference-area",o)},Px.renderRect(x,pU(pU({clipPath:O},Wn(e,!0)),k)),No.renderCallByParent(e,k))}Px.displayName="ReferenceArea";Px.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};Px.renderRect=function(e,t){var n;return Pe.isValidElement(e)?n=Pe.cloneElement(e,t):yn(e)?n=e(t):n=Pe.createElement(IL,JM({},t,{className:"recharts-reference-area-rect"})),n};function YK(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)if(n===void 0||n(e[i])===!0)r.push(e[i]);else return;return r}function I7e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return h7e(r,n)}function $7e(e,t,n){var r=n==="width",i=e.x,o=e.y,s=e.width,a=e.height;return t===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function YS(e,t,n,r,i){return e*(t-e*n/2-r)>=0&&e*(t+e*n/2-i)<=0}function R7e(e,t){return YK(e,t+1)}function D7e(e,t,n,r,i){for(var o=(r||[]).slice(),s=t.start,a=t.end,f=0,h=1,g=s;h<=o.length;){var v=r==null?void 0:r[f];if(v===void 0)return YK(r,h);var x=n(v,f),k=v.coordinate,O=f===0||YS(e,k,x,g,a);O||(f=0,g=s,h+=1),O&&(g=k+e*(x/2+i),f+=h)}return[]}function Hb(e){"@babel/helpers - typeof";return Hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hb(e)}function mU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Do(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mU(Object(n),!0).forEach(function(r){L7e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L7e(e,t,n){return t=N7e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N7e(e){var t=z7e(e,"string");return Hb(t)==="symbol"?t:String(t)}function z7e(e,t){if(Hb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j7e(e,t,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=t.start,f=t.end,h=s-1;h>=0;h--){var g=o[h],v=n(g,h);if(h===s-1){var x=e*(g.coordinate+e*v/2-f);o[h]=g=Do(Do({},g),{},{tickCoord:x>0?g.coordinate-x*e:g.coordinate})}else o[h]=g=Do(Do({},g),{},{tickCoord:g.coordinate});var k=YS(e,g.tickCoord,v,a,f);k&&(f=g.tickCoord-e*(v/2+i),o[h]=Do(Do({},g),{},{isShow:!0}))}return o}function B7e(e,t,n,r,i,o){var s=(r||[]).slice(),a=s.length,f=t.start,h=t.end;if(o){var g=r[a-1],v=n(g,a-1),x=e*(g.coordinate+e*v/2-h);s[a-1]=g=Do(Do({},g),{},{tickCoord:x>0?g.coordinate-x*e:g.coordinate});var k=YS(e,g.tickCoord,v,f,h);k&&(h=g.tickCoord-e*(v/2+i),s[a-1]=Do(Do({},g),{},{isShow:!0}))}for(var O=o?a-1:a,C=0;C<O;C++){var M=s[C],I=n(M,C);if(C===0){var A=e*(M.coordinate-e*I/2-f);s[C]=M=Do(Do({},M),{},{tickCoord:A<0?M.coordinate-A*e:M.coordinate})}else s[C]=M=Do(Do({},M),{},{tickCoord:M.coordinate});var P=YS(e,M.tickCoord,I,f,h);P&&(f=M.tickCoord+e*(I/2+i),s[C]=Do(Do({},M),{},{isShow:!0}))}return s}function QM(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,s=e.minTickGap,a=e.orientation,f=e.interval,h=e.tickFormatter,g=e.unit,v=e.angle;if(!i||!i.length||!r)return[];if(Ct(f)||Kc.isSsr)return R7e(i,typeof f=="number"&&Ct(f)?f:0);var x=[],k=a==="top"||a==="bottom"?"width":"height",O=g&&k==="width"?T0(g,{fontSize:t,letterSpacing:n}):{width:0,height:0},C=function(P,$){var z=yn(h)?h(P.value,$):P.value;return k==="width"?I7e(T0(z,{fontSize:t,letterSpacing:n}),O,v):T0(z,{fontSize:t,letterSpacing:n})[k]},M=i.length>=2?ml(i[1].coordinate-i[0].coordinate):1,I=$7e(o,M,k);return f==="equidistantPreserveStart"?D7e(M,I,C,i,s):(f==="preserveStart"||f==="preserveStartEnd"?x=B7e(M,I,C,i,s,f==="preserveStartEnd"):x=j7e(M,I,C,i,s),x.filter(function(A){return A.isShow}))}var F7e=["viewBox"],U7e=["viewBox"],V7e=["ticks"];function mg(e){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mg(e)}function dm(){return dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dm.apply(this,arguments)}function gU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gU(Object(n),!0).forEach(function(r){LL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tO(e,t){if(e==null)return{};var n=W7e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function W7e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function q7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KK(r.key),r)}}function G7e(e,t,n){return t&&yU(e.prototype,t),n&&yU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function H7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eI(e,t)}function eI(e,t){return eI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eI(e,t)}function Y7e(e){var t=X7e();return function(){var r=KS(e),i;if(t){var o=KS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return K7e(this,i)}}function K7e(e,t){if(t&&(mg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z7e(e)}function Z7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X7e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function KS(e){return KS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},KS(e)}function LL(e,t,n){return t=KK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KK(e){var t=J7e(e,"string");return mg(t)==="symbol"?t:String(t)}function J7e(e,t){if(mg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O0=function(e){H7e(n,e);var t=Y7e(n);function n(r){var i;return q7e(this,n),i=t.call(this,r),i.state={fontSize:"",letterSpacing:""},i}return G7e(n,[{key:"shouldComponentUpdate",value:function(i,o){var s=i.viewBox,a=tO(i,F7e),f=this.props,h=f.viewBox,g=tO(f,U7e);return!Am(s,h)||!Am(a,g)||!Am(o,this.state)}},{key:"componentDidMount",value:function(){var i=this.layerReference;if(i){var o=i.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];o&&this.setState({fontSize:window.getComputedStyle(o).fontSize,letterSpacing:window.getComputedStyle(o).letterSpacing})}}},{key:"getTickLineCoord",value:function(i){var o=this.props,s=o.x,a=o.y,f=o.width,h=o.height,g=o.orientation,v=o.tickSize,x=o.mirror,k=o.tickMargin,O,C,M,I,A,P,$=x?-1:1,z=i.tickSize||v,N=Ct(i.tickCoord)?i.tickCoord:i.coordinate;switch(g){case"top":O=C=i.coordinate,I=a+ +!x*h,M=I-$*z,P=M-$*k,A=N;break;case"left":M=I=i.coordinate,C=s+ +!x*f,O=C-$*z,A=O-$*k,P=N;break;case"right":M=I=i.coordinate,C=s+ +x*f,O=C+$*z,A=O+$*k,P=N;break;default:O=C=i.coordinate,I=a+ +x*h,M=I+$*z,P=M+$*k,A=N;break}return{line:{x1:O,y1:M,x2:C,y2:I},tick:{x:A,y:P}}}},{key:"getTickTextAnchor",value:function(){var i=this.props,o=i.orientation,s=i.mirror,a;switch(o){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var i=this.props,o=i.orientation,s=i.mirror,a="end";switch(o){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,f=i.height,h=i.orientation,g=i.mirror,v=i.axisLine,x=ia(ia(ia({},Wn(this.props)),Wn(v)),{},{fill:"none"});if(h==="top"||h==="bottom"){var k=+(h==="top"&&!g||h==="bottom"&&g);x=ia(ia({},x),{},{x1:o,y1:s+k*f,x2:o+a,y2:s+k*f})}else{var O=+(h==="left"&&!g||h==="right"&&g);x=ia(ia({},x),{},{x1:o+O*a,y1:s,x2:o+O*a,y2:s+f})}return Pe.createElement("line",dm({},x,{className:pr("recharts-cartesian-axis-line",As(v,"className"))}))}},{key:"renderTicks",value:function(i,o,s){var a=this,f=this.props,h=f.tickLine,g=f.stroke,v=f.tick,x=f.tickFormatter,k=f.unit,O=QM(ia(ia({},this.props),{},{ticks:i}),o,s),C=this.getTickTextAnchor(),M=this.getTickVerticalAnchor(),I=Wn(this.props),A=Wn(v),P=ia(ia({},I),{},{fill:"none"},Wn(h)),$=O.map(function(z,N){var F=a.getTickLineCoord(z),G=F.line,J=F.tick,ee=ia(ia(ia(ia({textAnchor:C,verticalAnchor:M},I),{},{stroke:"none",fill:g},A),J),{},{index:N,payload:z,visibleTicksCount:O.length,tickFormatter:x});return Pe.createElement(Ei,dm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N)},sS(a.props,z,N)),h&&Pe.createElement("line",dm({},P,G,{className:pr("recharts-cartesian-axis-tick-line",As(h,"className"))})),v&&n.renderTickItem(v,ee,"".concat(yn(x)?x(z.value,N):z.value).concat(k||"")))});return Pe.createElement("g",{className:"recharts-cartesian-axis-ticks"},$)}},{key:"render",value:function(){var i=this,o=this.props,s=o.axisLine,a=o.width,f=o.height,h=o.ticksGenerator,g=o.className,v=o.hide;if(v)return null;var x=this.props,k=x.ticks,O=tO(x,V7e),C=k;return yn(h)&&(C=k&&k.length>0?h(this.props):h(O)),a<=0||f<=0||!C||!C.length?null:Pe.createElement(Ei,{className:pr("recharts-cartesian-axis",g),ref:function(I){i.layerReference=I}},s&&this.renderAxisLine(),this.renderTicks(C,this.state.fontSize,this.state.letterSpacing),No.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(i,o,s){var a;return Pe.isValidElement(i)?a=Pe.cloneElement(i,o):yn(i)?a=i(o):a=Pe.createElement(CS,dm({},o,{className:"recharts-cartesian-axis-tick-value"}),s),a}}]),n}(V.Component);LL(O0,"displayName","CartesianAxis");LL(O0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Q7e=["x1","y1","x2","y2","key"],eqe=["offset"];function gg(e){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(e)}function tI(){return tI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tI.apply(this,arguments)}function vU(e,t){if(e==null)return{};var n=tqe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tqe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function bU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bU(Object(n),!0).forEach(function(r){NL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZK(r.key),r)}}function rqe(e,t,n){return t&&xU(e.prototype,t),n&&xU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function iqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nI(e,t)}function nI(e,t){return nI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nI(e,t)}function oqe(e){var t=lqe();return function(){var r=ZS(e),i;if(t){var o=ZS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return aqe(this,i)}}function aqe(e,t){if(t&&(gg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sqe(e)}function sqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lqe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ZS(e){return ZS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ZS(e)}function NL(e,t,n){return t=ZK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZK(e){var t=cqe(e,"string");return gg(t)==="symbol"?t:String(t)}function cqe(e,t){if(gg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zL=function(e){iqe(n,e);var t=oqe(n);function n(){return nqe(this,n),t.apply(this,arguments)}return rqe(n,[{key:"renderHorizontal",value:function(i){var o=this,s=this.props,a=s.x,f=s.width,h=s.horizontal;if(!i||!i.length)return null;var g=i.map(function(v,x){var k=qu(qu({},o.props),{},{x1:a,y1:v,x2:a+f,y2:v,key:"line-".concat(x),index:x});return n.renderLineItem(h,k)});return Pe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},g)}},{key:"renderVertical",value:function(i){var o=this,s=this.props,a=s.y,f=s.height,h=s.vertical;if(!i||!i.length)return null;var g=i.map(function(v,x){var k=qu(qu({},o.props),{},{x1:v,y1:a,x2:v,y2:a+f,key:"line-".concat(x),index:x});return n.renderLineItem(h,k)});return Pe.createElement("g",{className:"recharts-cartesian-grid-vertical"},g)}},{key:"renderVerticalStripes",value:function(i){var o=this.props.verticalFill;if(!o||!o.length)return null;var s=this.props,a=s.fillOpacity,f=s.x,h=s.y,g=s.width,v=s.height,x=i.map(function(O){return Math.round(O+f-f)}).sort(function(O,C){return O-C});f!==x[0]&&x.unshift(0);var k=x.map(function(O,C){var M=!x[C+1],I=M?f+g-O:x[C+1]-O;if(I<=0)return null;var A=C%o.length;return Pe.createElement("rect",{key:"react-".concat(C),x:O,y:h,width:I,height:v,stroke:"none",fill:o[A],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Pe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},k)}},{key:"renderHorizontalStripes",value:function(i){var o=this.props.horizontalFill;if(!o||!o.length)return null;var s=this.props,a=s.fillOpacity,f=s.x,h=s.y,g=s.width,v=s.height,x=i.map(function(O){return Math.round(O+h-h)}).sort(function(O,C){return O-C});h!==x[0]&&x.unshift(0);var k=x.map(function(O,C){var M=!x[C+1],I=M?h+v-O:x[C+1]-O;if(I<=0)return null;var A=C%o.length;return Pe.createElement("rect",{key:"react-".concat(C),y:O,x:f,height:I,width:g,stroke:"none",fill:o[A],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Pe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},k)}},{key:"renderBackground",value:function(){var i=this.props.fill;if(!i||i==="none")return null;var o=this.props,s=o.fillOpacity,a=o.x,f=o.y,h=o.width,g=o.height;return Pe.createElement("rect",{x:a,y:f,width:h,height:g,stroke:"none",fill:i,fillOpacity:s,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,f=i.height,h=i.horizontal,g=i.vertical,v=i.horizontalCoordinatesGenerator,x=i.verticalCoordinatesGenerator,k=i.xAxis,O=i.yAxis,C=i.offset,M=i.chartWidth,I=i.chartHeight,A=i.syncWithTicks,P=i.horizontalValues,$=i.verticalValues;if(!Ct(a)||a<=0||!Ct(f)||f<=0||!Ct(o)||o!==+o||!Ct(s)||s!==+s)return null;var z=this.props,N=z.horizontalPoints,F=z.verticalPoints;if((!N||!N.length)&&yn(v)){var G=P&&P.length;N=v({yAxis:qu(qu({},O),{},{ticks:G?P:O.ticks}),width:M,height:I,offset:C},G?!0:A)}if((!F||!F.length)&&yn(x)){var J=$&&$.length;F=x({xAxis:qu(qu({},k),{},{ticks:J?$:k.ticks}),width:M,height:I,offset:C},J?!0:A)}return Pe.createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),h&&this.renderHorizontal(N),g&&this.renderVertical(F),h&&this.renderHorizontalStripes(N),g&&this.renderVerticalStripes(F))}}],[{key:"renderLineItem",value:function(i,o){var s;if(Pe.isValidElement(i))s=Pe.cloneElement(i,o);else if(yn(i))s=i(o);else{var a=o.x1,f=o.y1,h=o.x2,g=o.y2,v=o.key,x=vU(o,Q7e),k=Wn(x);k.offset;var O=vU(k,eqe);s=Pe.createElement("line",tI({},O,{x1:a,y1:f,x2:h,y2:g,fill:"none",key:v}))}return s}}]),n}(V.PureComponent);NL(zL,"displayName","CartesianGrid");NL(zL,"defaultProps",{horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]});var uqe=["type","layout","connectNulls","ref"];function yg(e){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(e)}function dqe(e,t){if(e==null)return{};var n=fqe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function fqe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function A0(){return A0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A0.apply(this,arguments)}function _U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function za(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_U(Object(n),!0).forEach(function(r){Vl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_U(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zp(e){return gqe(e)||mqe(e)||pqe(e)||hqe()}function hqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pqe(e,t){if(e){if(typeof e=="string")return rI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rI(e,t)}}function mqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gqe(e){if(Array.isArray(e))return rI(e)}function rI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XK(r.key),r)}}function vqe(e,t,n){return t&&wU(e.prototype,t),n&&wU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iI(e,t)}function iI(e,t){return iI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iI(e,t)}function xqe(e){var t=wqe();return function(){var r=XS(e),i;if(t){var o=XS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return _qe(this,i)}}function _qe(e,t){if(t&&(yg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $f(e)}function $f(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wqe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function XS(e){return XS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},XS(e)}function Vl(e,t,n){return t=XK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XK(e){var t=Sqe(e,"string");return yg(t)==="symbol"?t:String(t)}function Sqe(e,t){if(yg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vg=function(e){bqe(n,e);var t=xqe(n);function n(){var r;yqe(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Vl($f(r),"state",{isAnimationFinished:!0,totalLength:0}),Vl($f(r),"getStrokeDasharray",function(a,f,h){for(var g=h.reduce(function(A,P){return A+P}),v=Math.floor(a/g),x=a%g,k=f-a,O=[],C=0,M=0;;M+=h[C],++C)if(M+h[C]>x){O=[].concat(zp(h.slice(0,C)),[x-M]);break}var I=O.length%2===0?[0,k]:[k];return[].concat(zp(n.repeat(h,v)),zp(O),I).map(function(A){return"".concat(A,"px")}).join(", ")}),Vl($f(r),"id",xx("recharts-line-")),Vl($f(r),"pathRef",function(a){r.mainCurve=a}),Vl($f(r),"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Vl($f(r),"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return vqe(n,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();this.setState({totalLength:i})}}},{key:"getTotalLength",value:function(){var i=this.mainCurve;try{return i&&i.getTotalLength&&i.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(i,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,f=s.xAxis,h=s.yAxis,g=s.layout,v=s.children,x=Ms(v,Tx);if(!x)return null;var k=function(M,I){return{x:M.x,y:M.y,value:M.value,errorVal:Qa(M.payload,I)}},O={clipPath:i?"url(#clipPath-".concat(o,")"):null};return Pe.createElement(Ei,O,x.map(function(C,M){return Pe.cloneElement(C,{key:"bar-".concat(M),data:a,xAxis:f,yAxis:h,layout:g,dataPointFormatter:k})}))}},{key:"renderDots",value:function(i,o,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var f=this.props,h=f.dot,g=f.points,v=f.dataKey,x=Wn(this.props),k=Wn(h,!0),O=g.map(function(M,I){var A=za(za(za({key:"dot-".concat(I),r:3},x),k),{},{value:M.value,dataKey:v,cx:M.x,cy:M.y,index:I,payload:M.payload});return n.renderDotItem(h,A)}),C={clipPath:i?"url(#clipPath-".concat(o?"":"dots-").concat(s,")"):null};return Pe.createElement(Ei,A0({className:"recharts-line-dots",key:"dots"},C),O)}},{key:"renderCurveStatically",value:function(i,o,s,a){var f=this.props,h=f.type,g=f.layout,v=f.connectNulls;f.ref;var x=dqe(f,uqe),k=za(za(za({},Wn(x,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:o?"url(#clipPath-".concat(s,")"):null,points:i},a),{},{type:h,layout:g,connectNulls:v});return Pe.createElement(WM,A0({},k,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(i,o){var s=this,a=this.props,f=a.points,h=a.strokeDasharray,g=a.isAnimationActive,v=a.animationBegin,x=a.animationDuration,k=a.animationEasing,O=a.animationId,C=a.animateNewValues,M=a.width,I=a.height,A=this.state,P=A.prevPoints,$=A.totalLength;return Pe.createElement(au,{begin:v,duration:x,isActive:g,easing:k,from:{t:0},to:{t:1},key:"line-".concat(O),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(z){var N=z.t;if(P){var F=P.length/f.length,G=f.map(function(ye,we){var Ee=Math.floor(we*F);if(P[Ee]){var Oe=P[Ee],Ce=ll(Oe.x,ye.x),Se=ll(Oe.y,ye.y);return za(za({},ye),{},{x:Ce(N),y:Se(N)})}if(C){var De=ll(M*2,ye.x),We=ll(I/2,ye.y);return za(za({},ye),{},{x:De(N),y:We(N)})}return za(za({},ye),{},{x:ye.x,y:ye.y})});return s.renderCurveStatically(G,i,o)}var J=ll(0,$),ee=J(N),ae;if(h){var pe="".concat(h).split(/[,\s]+/gim).map(function(ye){return parseFloat(ye)});ae=s.getStrokeDasharray(ee,$,pe)}else ae="".concat(ee,"px ").concat($-ee,"px");return s.renderCurveStatically(f,i,o,{strokeDasharray:ae})})}},{key:"renderCurve",value:function(i,o){var s=this.props,a=s.points,f=s.isAnimationActive,h=this.state,g=h.prevPoints,v=h.totalLength;return f&&a&&a.length&&(!g&&v>0||!yC(g,a))?this.renderCurveWithAnimation(i,o):this.renderCurveStatically(a,i,o)}},{key:"render",value:function(){var i,o=this.props,s=o.hide,a=o.dot,f=o.points,h=o.className,g=o.xAxis,v=o.yAxis,x=o.top,k=o.left,O=o.width,C=o.height,M=o.isAnimationActive,I=o.id;if(s||!f||!f.length)return null;var A=this.state.isAnimationFinished,P=f.length===1,$=pr("recharts-line",h),z=g&&g.allowDataOverflow,N=v&&v.allowDataOverflow,F=z||N,G=mn(I)?this.id:I,J=(i=Wn(a))!==null&&i!==void 0?i:{r:3,strokeWidth:2},ee=J.r,ae=ee===void 0?3:ee,pe=J.strokeWidth,ye=pe===void 0?2:pe,we=FAe(a)?a:{},Ee=we.clipDot,Oe=Ee===void 0?!0:Ee,Ce=ae*2+ye;return Pe.createElement(Ei,{className:$},z||N?Pe.createElement("defs",null,Pe.createElement("clipPath",{id:"clipPath-".concat(G)},Pe.createElement("rect",{x:z?k:k-O/2,y:N?x:x-C/2,width:z?O:O*2,height:N?C:C*2})),!Oe&&Pe.createElement("clipPath",{id:"clipPath-dots-".concat(G)},Pe.createElement("rect",{x:k-Ce/2,y:x-Ce/2,width:O+Ce,height:C+Ce}))):null,!P&&this.renderCurve(F,G),this.renderErrorBar(F,G),(P||a)&&this.renderDots(F,Oe,G),(!M||A)&&Cd.renderCallByParent(this.props,f))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:o.curPoints}:i.points!==o.curPoints?{curPoints:i.points}:null}},{key:"repeat",value:function(i,o){for(var s=i.length%2!==0?[].concat(zp(i),[0]):i,a=[],f=0;f<o;++f)a=[].concat(zp(a),zp(s));return a}},{key:"renderDotItem",value:function(i,o){var s;if(Pe.isValidElement(i))s=Pe.cloneElement(i,o);else if(yn(i))s=i(o);else{var a=pr("recharts-line-dot",i?i.className:"");s=Pe.createElement($L,A0({},o,{className:a}))}return s}}]),n}(V.PureComponent);Vl(vg,"displayName","Line");Vl(vg,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Kc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Vl(vg,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,s=e.dataKey,a=e.bandSize,f=e.displayedData,h=e.offset,g=t.layout,v=f.map(function(x,k){var O=Qa(x,s);return g==="horizontal"?{x:x6({axis:n,ticks:i,bandSize:a,entry:x,index:k}),y:mn(O)?null:r.scale(O),value:O,payload:x}:{x:mn(O)?null:n.scale(O),y:x6({axis:r,ticks:o,bandSize:a,entry:x,index:k}),value:O,payload:x}});return za({points:v,layout:g},h)});var IC=function(){return null};IC.displayName="XAxis";IC.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var $C=function(){return null};$C.displayName="YAxis";$C.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var Eqe=Wd,Cqe=_x,Tqe=uC;function kqe(e){return function(t,n,r){var i=Object(t);if(!Cqe(t)){var o=Eqe(n);t=Tqe(t),n=function(a){return o(i[a],a,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:void 0}}var Pqe=kqe,Oqe=BK;function Aqe(e){var t=Oqe(e),n=t%1;return t===t?n?t-n:t:0}var Mqe=Aqe,Iqe=BH,$qe=Wd,Rqe=Mqe,Dqe=Math.max;function Lqe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:Rqe(n);return i<0&&(i=Dqe(r+i,0)),Iqe(e,$qe(t),i)}var Nqe=Lqe,zqe=Pqe,jqe=Nqe,Bqe=zqe(jqe),Fqe=Bqe;const Uqe=tr(Fqe);var Vqe="Invariant failed";function Wqe(e,t){if(!e)throw new Error(Vqe)}function JK(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle,s=bo(t,n,r,i),a=bo(t,n,r,o);return{points:[s,a],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function SU(e){return Yqe(e)||Hqe(e)||Gqe(e)||qqe()}function qqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gqe(e,t){if(e){if(typeof e=="string")return oI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oI(e,t)}}function Hqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yqe(e){if(Array.isArray(e))return oI(e)}function oI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var aI=function(t,n,r,i,o){var s=Ms(t,DL),a=Ms(t,kx),f=[].concat(SU(s),SU(a)),h=Ms(t,Px),g="".concat(i,"Id"),v=i[0],x=n;if(f.length&&(x=f.reduce(function(C,M){if(M.props[g]===r&&rc(M.props,"extendDomain")&&Ct(M.props[v])){var I=M.props[v];return[Math.min(C[0],I),Math.max(C[1],I)]}return C},x)),h.length){var k="".concat(v,"1"),O="".concat(v,"2");x=h.reduce(function(C,M){if(M.props[g]===r&&rc(M.props,"extendDomain")&&Ct(M.props[k])&&Ct(M.props[O])){var I=M.props[k],A=M.props[O];return[Math.min(C[0],I,A),Math.max(C[1],I,A)]}return C},x)}return o&&o.length&&(x=o.reduce(function(C,M){return Ct(M)?[Math.min(C[0],M),Math.max(C[1],M)]:C},x)),x},QK={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,g){this.fn=f,this.context=h,this.once=g||!1}function o(f,h,g,v,x){if(typeof g!="function")throw new TypeError("The listener must be a function");var k=new i(g,v||f,x),O=n?n+h:h;return f._events[O]?f._events[O].fn?f._events[O]=[f._events[O],k]:f._events[O].push(k):(f._events[O]=k,f._eventsCount++),f}function s(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var h=[],g,v;if(this._eventsCount===0)return h;for(v in g=this._events)t.call(g,v)&&h.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(g)):h},a.prototype.listeners=function(h){var g=n?n+h:h,v=this._events[g];if(!v)return[];if(v.fn)return[v.fn];for(var x=0,k=v.length,O=new Array(k);x<k;x++)O[x]=v[x].fn;return O},a.prototype.listenerCount=function(h){var g=n?n+h:h,v=this._events[g];return v?v.fn?1:v.length:0},a.prototype.emit=function(h,g,v,x,k,O){var C=n?n+h:h;if(!this._events[C])return!1;var M=this._events[C],I=arguments.length,A,P;if(M.fn){switch(M.once&&this.removeListener(h,M.fn,void 0,!0),I){case 1:return M.fn.call(M.context),!0;case 2:return M.fn.call(M.context,g),!0;case 3:return M.fn.call(M.context,g,v),!0;case 4:return M.fn.call(M.context,g,v,x),!0;case 5:return M.fn.call(M.context,g,v,x,k),!0;case 6:return M.fn.call(M.context,g,v,x,k,O),!0}for(P=1,A=new Array(I-1);P<I;P++)A[P-1]=arguments[P];M.fn.apply(M.context,A)}else{var $=M.length,z;for(P=0;P<$;P++)switch(M[P].once&&this.removeListener(h,M[P].fn,void 0,!0),I){case 1:M[P].fn.call(M[P].context);break;case 2:M[P].fn.call(M[P].context,g);break;case 3:M[P].fn.call(M[P].context,g,v);break;case 4:M[P].fn.call(M[P].context,g,v,x);break;default:if(!A)for(z=1,A=new Array(I-1);z<I;z++)A[z-1]=arguments[z];M[P].fn.apply(M[P].context,A)}}return!0},a.prototype.on=function(h,g,v){return o(this,h,g,v,!1)},a.prototype.once=function(h,g,v){return o(this,h,g,v,!0)},a.prototype.removeListener=function(h,g,v,x){var k=n?n+h:h;if(!this._events[k])return this;if(!g)return s(this,k),this;var O=this._events[k];if(O.fn)O.fn===g&&(!x||O.once)&&(!v||O.context===v)&&s(this,k);else{for(var C=0,M=[],I=O.length;C<I;C++)(O[C].fn!==g||x&&!O[C].once||v&&O[C].context!==v)&&M.push(O[C]);M.length?this._events[k]=M.length===1?M[0]:M:s(this,k)}return this},a.prototype.removeAllListeners=function(h){var g;return h?(g=n?n+h:h,this._events[g]&&s(this,g)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(QK);var Kqe=QK.exports;const Zqe=tr(Kqe);var ja=new Zqe;ja.setMaxListeners&&ja.setMaxListeners(10);var nO="recharts.syncMouseEvents";function Yb(e){"@babel/helpers - typeof";return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yb(e)}function Xqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eZ(r.key),r)}}function Jqe(e,t,n){return t&&EU(e.prototype,t),n&&EU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rO(e,t,n){return t=eZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eZ(e){var t=Qqe(e,"string");return Yb(t)==="symbol"?t:String(t)}function Qqe(e,t){if(Yb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eGe=function(){function e(){Xqe(this,e),rO(this,"activeIndex",0),rO(this,"coordinateList",[]),rO(this,"layout","horizontal")}return Jqe(e,[{key:"setDetails",value:function(n){var r=n.coordinateList,i=r===void 0?[]:r,o=n.container,s=o===void 0?null:o,a=n.layout,f=a===void 0?null:a,h=n.offset,g=h===void 0?null:h,v=n.mouseHandlerCallback,x=v===void 0?null:v;this.coordinateList=i??this.coordinateList,this.container=s??this.container,this.layout=f??this.layout,this.offset=g??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"spoofMouse",value:function(){if(this.layout==="horizontal"&&this.coordinateList.length!==0){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,o=n.height,s=this.coordinateList[this.activeIndex].coordinate,a=r+s,f=i+this.offset.top+o/2;this.mouseHandlerCallback({pageX:a,pageY:f})}}}]),e}();function tGe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&Ct(r)&&Ct(i))return!0}return!1}function nGe(e){if(typeof requestAnimationFrame=="function"){var t=requestAnimationFrame(e);return function(){return cancelAnimationFrame(t)}}if(typeof setImmediate=="function"){var n=setImmediate(e);return function(){return clearImmediate(n)}}var r=setTimeout(e);return function(){return clearTimeout(r)}}function rGe(e,t,n){var r,i,o,s;if(e==="horizontal")r=t.x,o=r,i=n.top,s=n.top+n.height;else if(e==="vertical")i=t.y,s=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var a=t.cx,f=t.cy,h=t.innerRadius,g=t.outerRadius,v=t.angle,x=bo(a,f,h,v),k=bo(a,f,g,v);r=x.x,i=x.y,o=k.x,s=k.y}else return JK(t);return[{x:r,y:i},{x:o,y:s}]}function iGe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}var oGe=["item"],aGe=["children","className","width","height","style","compact","title","desc"];function bg(e){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(e)}function CU(e,t){return cGe(e)||lGe(e,t)||tZ(e,t)||sGe()}function sGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lGe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],f=!0,h=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);f=!0);}catch(g){h=!0,i=g}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw i}}return a}}function cGe(e){if(Array.isArray(e))return e}function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fm.apply(this,arguments)}function TU(e,t){if(e==null)return{};var n=uGe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function uGe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function dGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nZ(r.key),r)}}function fGe(e,t,n){return t&&kU(e.prototype,t),n&&kU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sI(e,t)}function sI(e,t){return sI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sI(e,t)}function pGe(e){var t=gGe();return function(){var r=JS(e),i;if(t){var o=JS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return mGe(this,i)}}function mGe(e,t){if(t&&(bg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fn(e)}function Fn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gGe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function JS(e){return JS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},JS(e)}function xg(e){return bGe(e)||vGe(e)||tZ(e)||yGe()}function yGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tZ(e,t){if(e){if(typeof e=="string")return lI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lI(e,t)}}function vGe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bGe(e){if(Array.isArray(e))return lI(e)}function lI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PU(Object(n),!0).forEach(function(r){cn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cn(e,t,n){return t=nZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nZ(e){var t=xGe(e,"string");return bg(t)==="symbol"?t:String(t)}function xGe(e,t){if(bg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Ge={xAxis:["bottom","top"],yAxis:["left","right"]},rZ={x:0,y:0},wGe=Number.isFinite?Number.isFinite:isFinite,SGe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},EGe=function(t,n,r,i){var o=n.find(function(g){return g&&g.index===r});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var s=o.coordinate,a=i.radius;return et(et(et({},i),bo(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var f=o.coordinate,h=i.angle;return et(et(et({},i),bo(i.cx,i.cy,f,h)),{},{angle:h,radius:f})}return rZ},RC=function(t,n,r){var i=n.graphicalItems,o=n.dataStartIndex,s=n.dataEndIndex,a=(i||[]).reduce(function(f,h){var g=h.props.data;return g&&g.length?[].concat(xg(f),xg(g)):f},[]);return a&&a.length>0?a:r&&r.props&&r.props.data&&r.props.data.length>0?r.props.data:t&&t.length&&Ct(o)&&Ct(s)?t.slice(o,s+1):[]};function iZ(e){return e==="number"?[0,"auto"]:void 0}var oZ=function(t,n,r,i){var o=t.graphicalItems,s=t.tooltipAxis,a=RC(n,t);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(f,h){var g=h.props.hide;if(g)return f;var v=h.props.data,x=v===void 0?n:v,k;if(s.dataKey&&!s.allowDuplicatedCategory){var O=x===void 0?a:x;k=oS(O,s.dataKey,i)}else k=x&&x[r]||a[r];return k?[].concat(xg(f),[RK(h,k)]):f},[])},OU=function(t,n,r,i){var o=i||{x:t.chartX,y:t.chartY},s=SGe(o,r),a=t.orderedTooltipTicks,f=t.tooltipAxis,h=t.tooltipTicks,g=d8e(s,a,h,f);if(g>=0&&h){var v=h[g]&&h[g].value,x=oZ(t,n,g,v),k=EGe(r,a,g,o);return{activeTooltipIndex:g,activeLabel:v,activePayload:x,activeCoordinate:k}}return null},CGe=function(t,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,g=t.layout,v=t.children,x=t.stackOffset,k=IK(g,o),O=r.reduce(function(C,M){var I,A=M.props,P=A.type,$=A.dataKey,z=A.allowDataOverflow,N=A.allowDuplicatedCategory,F=A.scale,G=A.ticks,J=A.includeHidden,ee=M.props[s];if(C[ee])return C;var ae=RC(t.data,{graphicalItems:i.filter(function(Je){return Je.props[s]===ee}),dataStartIndex:f,dataEndIndex:h}),pe=ae.length,ye,we,Ee;tGe(M.props.domain,z,P)&&(ye=jM(M.props.domain,null,z),k&&(P==="number"||F!=="auto")&&(Ee=P0(ae,$,"category")));var Oe=iZ(P);if(!ye||ye.length===0){var Ce,Se=(Ce=M.props.domain)!==null&&Ce!==void 0?Ce:Oe;if($){if(ye=P0(ae,$,P),P==="category"&&k){var De=IAe(ye);N&&De?(we=ye,ye=VS(0,pe)):N||(ye=E6(Se,ye,M).reduce(function(Je,it){return Je.indexOf(it)>=0?Je:[].concat(xg(Je),[it])},[]))}else if(P==="category")N?ye=ye.filter(function(Je){return Je!==""&&!mn(Je)}):ye=E6(Se,ye,M).reduce(function(Je,it){return Je.indexOf(it)>=0||it===""||mn(it)?Je:[].concat(xg(Je),[it])},[]);else if(P==="number"){var We=g8e(ae,i.filter(function(Je){return Je.props[s]===ee&&(J||!Je.props.hide)}),$,o,g);We&&(ye=We)}k&&(P==="number"||F!=="auto")&&(Ee=P0(ae,$,"category"))}else k?ye=VS(0,pe):a&&a[ee]&&a[ee].hasStack&&P==="number"?ye=x==="expand"?[0,1]:$K(a[ee].stackGroups,f,h):ye=MK(ae,i.filter(function(Je){return Je.props[s]===ee&&(J||!Je.props.hide)}),P,g,!0);if(P==="number")ye=aI(v,ye,ee,o,G),Se&&(ye=jM(Se,ye,z));else if(P==="category"&&Se){var dt=Se,ht=ye.every(function(Je){return dt.indexOf(Je)>=0});ht&&(ye=dt)}}return et(et({},C),{},cn({},ee,et(et({},M.props),{},{axisType:o,domain:ye,categoricalDomain:Ee,duplicateDomain:we,originalDomain:(I=M.props.domain)!==null&&I!==void 0?I:Oe,isCategorical:k,layout:g})))},{});return O},TGe=function(t,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,g=t.layout,v=t.children,x=RC(t.data,{graphicalItems:r,dataStartIndex:f,dataEndIndex:h}),k=x.length,O=IK(g,o),C=-1,M=r.reduce(function(I,A){var P=A.props[s],$=iZ("number");if(!I[P]){C++;var z;return O?z=VS(0,k):a&&a[P]&&a[P].hasStack?(z=$K(a[P].stackGroups,f,h),z=aI(v,z,P,o)):(z=jM($,MK(x,r.filter(function(N){return N.props[s]===P&&!N.props.hide}),"number",g),i.defaultProps.allowDataOverflow),z=aI(v,z,P,o)),et(et({},I),{},cn({},P,et(et({axisType:o},i.defaultProps),{},{hide:!0,orientation:As(_Ge,"".concat(o,".").concat(C%2),null),domain:z,originalDomain:$,isCategorical:O,layout:g})))}return I},{});return M},kGe=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,g=t.children,v="".concat(i,"Id"),x=Ms(g,o),k={};return x&&x.length?k=CGe(t,{axes:x,graphicalItems:s,axisType:i,axisIdKey:v,stackGroups:a,dataStartIndex:f,dataEndIndex:h}):s&&s.length&&(k=TGe(t,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:v,stackGroups:a,dataStartIndex:f,dataEndIndex:h})),k},PGe=function(t){var n=Yu(t),r=Ku(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:sL(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:zS(n,r)}},AU=function(t){var n,r,i=t.children,o=t.defaultShowTooltip,s=Vc(i,Fb),a=s&&s.props&&s.props.startIndex||0,f=(s==null||(n=s.props)===null||n===void 0?void 0:n.endIndex)!==void 0?s==null||(r=s.props)===null||r===void 0?void 0:r.endIndex:t.data&&t.data.length-1||0;return{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:f,activeTooltipIndex:-1,isTooltipActive:mn(o)?!1:o}},OGe=function(t){return!t||!t.length?!1:t.some(function(n){var r=Sd(n&&n.type);return r&&r.indexOf("Bar")>=0})},MU=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},AGe=function(t,n){var r=t.props,i=t.graphicalItems,o=t.xAxisMap,s=o===void 0?{}:o,a=t.yAxisMap,f=a===void 0?{}:a,h=r.width,g=r.height,v=r.children,x=r.margin||{},k=Vc(v,Fb),O=Vc(v,ag),C=Object.keys(f).reduce(function(P,$){var z=f[$],N=z.orientation;return!z.mirror&&!z.hide?et(et({},P),{},cn({},N,P[N]+z.width)):P},{left:x.left||0,right:x.right||0}),M=Object.keys(s).reduce(function(P,$){var z=s[$],N=z.orientation;return!z.mirror&&!z.hide?et(et({},P),{},cn({},N,As(P,"".concat(N))+z.height)):P},{top:x.top||0,bottom:x.bottom||0}),I=et(et({},M),C),A=I.bottom;return k&&(I.bottom+=k.props.height||Fb.defaultProps.height),O&&n&&(I=p8e(I,i,r,n)),et(et({brushBottom:A},I),{},{width:h-I.left-I.right,height:g-I.top-I.bottom})},MGe=function(t){var n,r=t.chartName,i=t.GraphicalChild,o=t.defaultTooltipEventType,s=o===void 0?"axis":o,a=t.validateTooltipEventTypes,f=a===void 0?["axis"]:a,h=t.axisComponents,g=t.legendContent,v=t.formatAxisMap,x=t.defaultProps,k=function(M,I){var A=I.graphicalItems,P=I.stackGroups,$=I.offset,z=I.updateId,N=I.dataStartIndex,F=I.dataEndIndex,G=M.barSize,J=M.layout,ee=M.barGap,ae=M.barCategoryGap,pe=M.maxBarSize,ye=MU(J),we=ye.numericAxisName,Ee=ye.cateAxisName,Oe=OGe(A),Ce=Oe&&f8e({barSize:G,stackGroups:P}),Se=[];return A.forEach(function(De,We){var dt=RC(M.data,{dataStartIndex:N,dataEndIndex:F},De),ht=De.props,Je=ht.dataKey,it=ht.maxBarSize,Ot=De.props["".concat(we,"Id")],ot=De.props["".concat(Ee,"Id")],Gt={},Ht=h.reduce(function(Ne,$n){var Hn,Dt=I["".concat($n.axisType,"Map")],Kt=De.props["".concat($n.axisType,"Id")];Dt&&Dt[Kt]||$n.axisType==="zAxis"||Wqe(!1);var ir=Dt[Kt];return et(et({},Ne),{},(Hn={},cn(Hn,$n.axisType,ir),cn(Hn,"".concat($n.axisType,"Ticks"),Ku(ir)),Hn))},Gt),Ge=Ht[Ee],vt=Ht["".concat(Ee,"Ticks")],gt=P&&P[Ot]&&P[Ot].hasStack&&P8e(De,P[Ot].stackGroups),Ve=Sd(De.type).indexOf("Bar")>=0,Et=zS(Ge,vt),Tt=[];if(Ve){var qt,vn,Mn=mn(it)?pe:it,xn=(qt=(vn=zS(Ge,vt,!0))!==null&&vn!==void 0?vn:Mn)!==null&&qt!==void 0?qt:0;Tt=h8e({barGap:ee,barCategoryGap:ae,bandSize:xn!==Et?xn:Et,sizeList:Ce[ot],maxBarSize:Mn}),xn!==Et&&(Tt=Tt.map(function(Ne){return et(et({},Ne),{},{position:et(et({},Ne.position),{},{offset:Ne.position.offset-xn/2})})}))}var rr=De&&De.type&&De.type.getComposedData;if(rr){var Cn;Se.push({props:et(et({},rr(et(et({},Ht),{},{displayedData:dt,props:M,dataKey:Je,item:De,bandSize:Et,barPosition:Tt,offset:$,stackedData:gt,layout:J,dataStartIndex:N,dataEndIndex:F}))),{},(Cn={key:De.key||"item-".concat(We)},cn(Cn,we,Ht[we]),cn(Cn,Ee,Ht[Ee]),cn(Cn,"animationId",z),Cn)),childIndex:WAe(De,M.children),item:De})}}),Se},O=function(M,I){var A=M.props,P=M.dataStartIndex,$=M.dataEndIndex,z=M.updateId;if(!YB({props:A}))return null;var N=A.children,F=A.layout,G=A.stackOffset,J=A.data,ee=A.reverseStackOrder,ae=MU(F),pe=ae.numericAxisName,ye=ae.cateAxisName,we=Ms(N,i),Ee=C8e(J,we,"".concat(pe,"Id"),"".concat(ye,"Id"),G,ee),Oe=h.reduce(function(dt,ht){var Je="".concat(ht.axisType,"Map");return et(et({},dt),{},cn({},Je,kGe(A,et(et({},ht),{},{graphicalItems:we,stackGroups:ht.axisType===pe&&Ee,dataStartIndex:P,dataEndIndex:$}))))},{}),Ce=AGe(et(et({},Oe),{},{props:A,graphicalItems:we}),I==null?void 0:I.legendBBox);Object.keys(Oe).forEach(function(dt){Oe[dt]=v(A,Oe[dt],Ce,dt.replace("Map",""),r)});var Se=Oe["".concat(ye,"Map")],De=PGe(Se),We=k(A,et(et({},Oe),{},{dataStartIndex:P,dataEndIndex:$,updateId:z,graphicalItems:we,stackGroups:Ee,offset:Ce}));return et(et({formattedGraphicalItems:We,graphicalItems:we,offset:Ce,stackGroups:Ee},De),Oe)};return n=function(C){hGe(I,C);var M=pGe(I);function I(A){var P;return dGe(this,I),P=M.call(this,A),cn(Fn(P),"accessibilityManager",new eGe),cn(Fn(P),"clearDefer",function(){P.cancelDefer&&(P.cancelDefer(),P.cancelDefer=null)}),cn(Fn(P),"handleLegendBBoxUpdate",function($){if($){var z=P.state,N=z.dataStartIndex,F=z.dataEndIndex,G=z.updateId;P.setState(et({legendBBox:$},O({props:P.props,dataStartIndex:N,dataEndIndex:F,updateId:G},et(et({},P.state),{},{legendBBox:$}))))}}),cn(Fn(P),"handleReceiveSyncEvent",function($,z,N){var F=P.props.syncId;F===$&&z!==P.uniqueChartId&&(P.clearDefer(),P.cancelDefer=nGe(P.applySyncEvent.bind(Fn(P),N)))}),cn(Fn(P),"handleBrushChange",function($){var z=$.startIndex,N=$.endIndex;if(z!==P.state.dataStartIndex||N!==P.state.dataEndIndex){var F=P.state.updateId;P.setState(function(){return et({dataStartIndex:z,dataEndIndex:N},O({props:P.props,dataStartIndex:z,dataEndIndex:N,updateId:F},P.state))}),P.triggerSyncEvent({dataStartIndex:z,dataEndIndex:N})}}),cn(Fn(P),"handleMouseEnter",function($){var z=P.props.onMouseEnter,N=P.getMouseInfo($);if(N){var F=et(et({},N),{},{isTooltipActive:!0});P.setState(F),P.triggerSyncEvent(F),yn(z)&&z(F,$)}}),cn(Fn(P),"triggeredAfterMouseMove",function($){var z=P.props.onMouseMove,N=P.getMouseInfo($),F=N?et(et({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(F),P.triggerSyncEvent(F),yn(z)&&z(F,$)}),cn(Fn(P),"handleItemMouseEnter",function($){P.setState(function(){return{isTooltipActive:!0,activeItem:$,activePayload:$.tooltipPayload,activeCoordinate:$.tooltipPosition||{x:$.cx,y:$.cy}}})}),cn(Fn(P),"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),cn(Fn(P),"handleMouseMove",function($){$&&yn($.persist)&&$.persist(),P.triggeredAfterMouseMove($)}),cn(Fn(P),"handleMouseLeave",function($){var z=P.props.onMouseLeave,N={isTooltipActive:!1};P.setState(N),P.triggerSyncEvent(N),yn(z)&&z(N,$),P.cancelThrottledTriggerAfterMouseMove()}),cn(Fn(P),"handleOuterEvent",function($){var z=VAe($),N=As(P.props,"".concat(z));if(z&&yn(N)){var F;/.*touch.*/i.test(z)?F=P.getMouseInfo($.changedTouches[0]):F=P.getMouseInfo($);var G=N;G(F,$)}}),cn(Fn(P),"handleClick",function($){var z=P.props.onClick,N=P.getMouseInfo($);if(N){var F=et(et({},N),{},{isTooltipActive:!0});P.setState(F),P.triggerSyncEvent(F),yn(z)&&z(F,$)}}),cn(Fn(P),"handleMouseDown",function($){var z=P.props.onMouseDown;if(yn(z)){var N=P.getMouseInfo($);z(N,$)}}),cn(Fn(P),"handleMouseUp",function($){var z=P.props.onMouseUp;if(yn(z)){var N=P.getMouseInfo($);z(N,$)}}),cn(Fn(P),"handleTouchMove",function($){$.changedTouches!=null&&$.changedTouches.length>0&&P.handleMouseMove($.changedTouches[0])}),cn(Fn(P),"handleTouchStart",function($){$.changedTouches!=null&&$.changedTouches.length>0&&P.handleMouseDown($.changedTouches[0])}),cn(Fn(P),"handleTouchEnd",function($){$.changedTouches!=null&&$.changedTouches.length>0&&P.handleMouseUp($.changedTouches[0])}),cn(Fn(P),"verticalCoordinatesGenerator",function($,z){var N=$.xAxis,F=$.width,G=$.height,J=$.offset;return v6(QM(et(et(et({},O0.defaultProps),N),{},{ticks:Ku(N,!0),viewBox:{x:0,y:0,width:F,height:G}})),J.left,J.left+J.width,z)}),cn(Fn(P),"horizontalCoordinatesGenerator",function($,z){var N=$.yAxis,F=$.width,G=$.height,J=$.offset;return v6(QM(et(et(et({},O0.defaultProps),N),{},{ticks:Ku(N,!0),viewBox:{x:0,y:0,width:F,height:G}})),J.top,J.top+J.height,z)}),cn(Fn(P),"axesTicksGenerator",function($){return Ku($,!0)}),cn(Fn(P),"renderCursor",function($){var z=P.state,N=z.isTooltipActive,F=z.activeCoordinate,G=z.activePayload,J=z.offset,ee=z.activeTooltipIndex,ae=z.tooltipAxisBandSize,pe=P.getTooltipEventType();if(!$||!$.props.cursor||!N||!F||r!=="ScatterChart"&&pe!=="axis")return null;var ye=P.props.layout,we,Ee=WM;if(r==="ScatterChart")we=F,Ee=KVe;else if(r==="BarChart")we=iGe(ye,F,J,ae),Ee=IL;else if(ye==="radial"){var Oe=JK(F),Ce=Oe.cx,Se=Oe.cy,De=Oe.radius,We=Oe.startAngle,dt=Oe.endAngle;we={cx:Ce,cy:Se,startAngle:We,endAngle:dt,innerRadius:De,outerRadius:De},Ee=NK}else we={points:rGe(ye,F,J)},Ee=WM;var ht=$.key||"_recharts-cursor",Je=et(et(et(et({stroke:"#ccc",pointerEvents:"none"},J),we),Wn($.props.cursor)),{},{payload:G,payloadIndex:ee,key:ht,className:"recharts-tooltip-cursor"});return V.isValidElement($.props.cursor)?V.cloneElement($.props.cursor,Je):V.createElement(Ee,Je)}),cn(Fn(P),"renderPolarAxis",function($,z,N){var F=As($,"type.axisType"),G=As(P.state,"".concat(F,"Map")),J=G&&G[$.props["".concat(F,"Id")]];return V.cloneElement($,et(et({},J),{},{className:F,key:$.key||"".concat(z,"-").concat(N),ticks:Ku(J,!0)}))}),cn(Fn(P),"renderXAxis",function($,z,N){var F=P.state.xAxisMap,G=F[$.props.xAxisId];return P.renderAxis(G,$,z,N)}),cn(Fn(P),"renderYAxis",function($,z,N){var F=P.state.yAxisMap,G=F[$.props.yAxisId];return P.renderAxis(G,$,z,N)}),cn(Fn(P),"renderGrid",function($){var z=P.state,N=z.xAxisMap,F=z.yAxisMap,G=z.offset,J=P.props,ee=J.width,ae=J.height,pe=Yu(N),ye=Uqe(F,function(Oe){return VK(Oe.domain,wGe)}),we=ye||Yu(F),Ee=$.props||{};return V.cloneElement($,{key:$.key||"grid",x:Ct(Ee.x)?Ee.x:G.left,y:Ct(Ee.y)?Ee.y:G.top,width:Ct(Ee.width)?Ee.width:G.width,height:Ct(Ee.height)?Ee.height:G.height,xAxis:pe,yAxis:we,offset:G,chartWidth:ee,chartHeight:ae,verticalCoordinatesGenerator:Ee.verticalCoordinatesGenerator||P.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:Ee.horizontalCoordinatesGenerator||P.horizontalCoordinatesGenerator})}),cn(Fn(P),"renderPolarGrid",function($){var z=$.props,N=z.radialLines,F=z.polarAngles,G=z.polarRadius,J=P.state,ee=J.radiusAxisMap,ae=J.angleAxisMap,pe=Yu(ee),ye=Yu(ae),we=ye.cx,Ee=ye.cy,Oe=ye.innerRadius,Ce=ye.outerRadius;return V.cloneElement($,{polarAngles:vo(F)?F:Ku(ye,!0).map(function(Se){return Se.coordinate}),polarRadius:vo(G)?G:Ku(pe,!0).map(function(Se){return Se.coordinate}),cx:we,cy:Ee,innerRadius:Oe,outerRadius:Ce,key:$.key||"polar-grid",radialLines:N})}),cn(Fn(P),"renderLegend",function(){var $=P.state.formattedGraphicalItems,z=P.props,N=z.children,F=z.width,G=z.height,J=P.props.margin||{},ee=F-(J.left||0)-(J.right||0),ae=OK({children:N,formattedGraphicalItems:$,legendWidth:ee,legendContent:g});if(!ae)return null;var pe=ae.item,ye=TU(ae,oGe);return V.cloneElement(pe,et(et({},ye),{},{chartWidth:F,chartHeight:G,margin:J,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),cn(Fn(P),"renderTooltip",function(){var $=P.props.children,z=Vc($,Wf);if(!z)return null;var N=P.state,F=N.isTooltipActive,G=N.activeCoordinate,J=N.activePayload,ee=N.activeLabel,ae=N.offset;return V.cloneElement(z,{viewBox:et(et({},ae),{},{x:ae.left,y:ae.top}),active:F,label:ee,payload:F?J:[],coordinate:G})}),cn(Fn(P),"renderBrush",function($){var z=P.props,N=z.margin,F=z.data,G=P.state,J=G.offset,ee=G.dataStartIndex,ae=G.dataEndIndex,pe=G.updateId;return V.cloneElement($,{key:$.key||"_recharts-brush",onChange:E1(P.handleBrushChange,null,$.props.onChange),data:F,x:Ct($.props.x)?$.props.x:J.left,y:Ct($.props.y)?$.props.y:J.top+J.height+J.brushBottom-(N.bottom||0),width:Ct($.props.width)?$.props.width:J.width,startIndex:ee,endIndex:ae,updateId:"brush-".concat(pe)})}),cn(Fn(P),"renderReferenceElement",function($,z,N){if(!$)return null;var F=Fn(P),G=F.clipPathId,J=P.state,ee=J.xAxisMap,ae=J.yAxisMap,pe=J.offset,ye=$.props,we=ye.xAxisId,Ee=ye.yAxisId;return V.cloneElement($,{key:$.key||"".concat(z,"-").concat(N),xAxis:ee[we],yAxis:ae[Ee],viewBox:{x:pe.left,y:pe.top,width:pe.width,height:pe.height},clipPathId:G})}),cn(Fn(P),"renderActivePoints",function($){var z=$.item,N=$.activePoint,F=$.basePoint,G=$.childIndex,J=$.isRange,ee=[],ae=z.props.key,pe=z.item.props,ye=pe.activeDot,we=pe.dataKey,Ee=et(et({index:G,dataKey:we,cx:N.x,cy:N.y,r:4,fill:ML(z.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value,key:"".concat(ae,"-activePoint-").concat(G)},Wn(ye)),aS(ye));return ee.push(I.renderActiveDot(ye,Ee)),F?ee.push(I.renderActiveDot(ye,et(et({},Ee),{},{cx:F.x,cy:F.y,key:"".concat(ae,"-basePoint-").concat(G)}))):J&&ee.push(null),ee}),cn(Fn(P),"renderGraphicChild",function($,z,N){var F=P.filterFormatItem($,z,N);if(!F)return null;var G=P.getTooltipEventType(),J=P.state,ee=J.isTooltipActive,ae=J.tooltipAxis,pe=J.activeTooltipIndex,ye=J.activeLabel,we=P.props.children,Ee=Vc(we,Wf),Oe=F.props,Ce=Oe.points,Se=Oe.isRange,De=Oe.baseLine,We=F.item.props,dt=We.activeDot,ht=We.hide,Je=We.activeBar,it=We.activeShape,Ot=!!(!ht&&ee&&Ee&&(dt||Je||it)),ot={};G!=="axis"&&Ee&&Ee.props.trigger==="click"?ot={onClick:E1(P.handleItemMouseEnter,null,$.props.onCLick)}:G!=="axis"&&(ot={onMouseLeave:E1(P.handleItemMouseLeave,null,$.props.onMouseLeave),onMouseEnter:E1(P.handleItemMouseEnter,null,$.props.onMouseEnter)});var Gt=V.cloneElement($,et(et({},F.props),ot));function Ht(Cn){return typeof ae.dataKey=="function"?ae.dataKey(Cn.payload):null}if(Ot)if(pe>=0){var Ge,vt;if(ae.dataKey&&!ae.allowDuplicatedCategory){var gt=typeof ae.dataKey=="function"?Ht:"payload.".concat(ae.dataKey.toString());Ge=oS(Ce,gt,ye),vt=Se&&De&&oS(De,gt,ye)}else Ge=Ce==null?void 0:Ce[pe],vt=Se&&De&&De[pe];if(it||Je){var Ve=$.props.activeIndex!==void 0?$.props.activeIndex:pe;return[V.cloneElement($,et(et(et({},F.props),ot),{},{activeIndex:Ve})),null,null]}if(!mn(Ge))return[Gt].concat(xg(P.renderActivePoints({item:F,activePoint:Ge,basePoint:vt,childIndex:pe,isRange:Se})))}else{var Et,Tt=(Et=P.getItemByXY(P.state.activeCoordinate))!==null&&Et!==void 0?Et:{graphicalItem:Gt},qt=Tt.graphicalItem,vn=qt.item,Mn=vn===void 0?$:vn,xn=qt.childIndex,rr=et(et(et({},F.props),ot),{},{activeIndex:xn});return[V.cloneElement(Mn,rr),null,null]}return Se?[Gt,null,null]:[Gt,null]}),cn(Fn(P),"renderCustomized",function($,z,N){return V.cloneElement($,et(et({key:"recharts-customized-".concat(N)},P.props),P.state))}),P.uniqueChartId=mn(A.id)?xx("recharts"):A.id,P.clipPathId="".concat(P.uniqueChartId,"-clip"),A.throttleDelay&&(P.triggeredAfterMouseMove=OY(P.triggeredAfterMouseMove,A.throttleDelay)),P.state={},P}return fGe(I,[{key:"componentDidMount",value:function(){var P,$;mn(this.props.syncId)||this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:($=this.props.margin.top)!==null&&$!==void 0?$:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.handleMouseMove,layout:this.props.layout})}},{key:"getSnapshotBeforeUpdate",value:function(P,$){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==$.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==P.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==P.margin){var z,N;this.accessibilityManager.setDetails({offset:{left:(z=this.props.margin.left)!==null&&z!==void 0?z:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(P){mn(P.syncId)&&!mn(this.props.syncId)&&this.addListener(),!mn(P.syncId)&&mn(this.props.syncId)&&this.removeListener()}},{key:"componentWillUnmount",value:function(){this.clearDefer(),mn(this.props.syncId)||this.removeListener(),this.cancelThrottledTriggerAfterMouseMove()}},{key:"cancelThrottledTriggerAfterMouseMove",value:function(){typeof this.triggeredAfterMouseMove.cancel=="function"&&this.triggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var P=Vc(this.props.children,Wf);if(P&&zK(P.props.shared)){var $=P.props.shared?"axis":"item";return f.indexOf($)>=0?$:s}return s}},{key:"getMouseInfo",value:function(P){var $;if(!this.container)return null;var z=NBe(this.container),N=zBe(P,z),F=this.container,G=F==null||($=F.getBoundingClientRect())===null||$===void 0?void 0:$.width,J=F.offsetWidth,ee=G/J||1,ae=this.inRange(N.chartX,N.chartY,ee);if(!ae)return null;var pe=this.state,ye=pe.xAxisMap,we=pe.yAxisMap,Ee=this.getTooltipEventType();if(Ee!=="axis"&&ye&&we){var Oe=Yu(ye).scale,Ce=Yu(we).scale,Se=Oe&&Oe.invert?Oe.invert(N.chartX):null,De=Ce&&Ce.invert?Ce.invert(N.chartY):null;return et(et({},N),{},{xValue:Se,yValue:De})}var We=OU(this.state,this.props.data,this.props.layout,ae);return We?et(et({},N),We):null}},{key:"inRange",value:function(P,$){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,F=P/z,G=$/z;if(N==="horizontal"||N==="vertical"){var J=this.state.offset,ee=F>=J.left&&F<=J.left+J.width&&G>=J.top&&G<=J.top+J.height;return ee?{x:F,y:G}:null}var ae=this.state,pe=ae.angleAxisMap,ye=ae.radiusAxisMap;if(pe&&ye){var we=Yu(pe);return k6({x:F,y:G},we)}return null}},{key:"parseEventsOfWrapper",value:function(){var P=this.props.children,$=this.getTooltipEventType(),z=Vc(P,Wf),N={};z&&$==="axis"&&(z.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var F=aS(this.props,this.handleOuterEvent);return et(et({},F),N)}},{key:"addListener",value:function(){ja.on(nO,this.handleReceiveSyncEvent),ja.setMaxListeners&&ja._maxListeners&&ja.setMaxListeners(ja._maxListeners+1)}},{key:"removeListener",value:function(){ja.removeListener(nO,this.handleReceiveSyncEvent),ja.setMaxListeners&&ja._maxListeners&&ja.setMaxListeners(ja._maxListeners-1)}},{key:"triggerSyncEvent",value:function(P){var $=this.props.syncId;mn($)||ja.emit(nO,$,this.uniqueChartId,P)}},{key:"applySyncEvent",value:function(P){var $=this.props,z=$.layout,N=$.syncMethod,F=this.state.updateId,G=P.dataStartIndex,J=P.dataEndIndex;if(!mn(P.dataStartIndex)||!mn(P.dataEndIndex))this.setState(et({dataStartIndex:G,dataEndIndex:J},O({props:this.props,dataStartIndex:G,dataEndIndex:J,updateId:F},this.state)));else if(mn(P.activeTooltipIndex))this.setState(P);else{var ee=P.chartX,ae=P.chartY,pe=P.activeTooltipIndex,ye=this.state,we=ye.offset,Ee=ye.tooltipTicks;if(!we)return;if(typeof N=="function")pe=N(Ee,P);else if(N==="value"){pe=-1;for(var Oe=0;Oe<Ee.length;Oe++)if(Ee[Oe].value===P.activeLabel){pe=Oe;break}}var Ce=et(et({},we),{},{x:we.left,y:we.top}),Se=Math.min(ee,Ce.x+Ce.width),De=Math.min(ae,Ce.y+Ce.height),We=Ee[pe]&&Ee[pe].value,dt=oZ(this.state,this.props.data,pe),ht=Ee[pe]?{x:z==="horizontal"?Ee[pe].coordinate:Se,y:z==="horizontal"?De:Ee[pe].coordinate}:rZ;this.setState(et(et({},P),{},{activeLabel:We,activeCoordinate:ht,activePayload:dt,activeTooltipIndex:pe}))}}},{key:"filterFormatItem",value:function(P,$,z){for(var N=this.state.formattedGraphicalItems,F=0,G=N.length;F<G;F++){var J=N[F];if(J.item===P||J.props.key===P.key||$===Sd(J.item.type)&&z===J.childIndex)return J}return null}},{key:"renderAxis",value:function(P,$,z,N){var F=this.props,G=F.width,J=F.height;return Pe.createElement(O0,fm({},P,{className:pr("recharts-".concat(P.axisType," ").concat(P.axisType),P.className),key:$.key||"".concat(z,"-").concat(N),viewBox:{x:0,y:0,width:G,height:J},ticksGenerator:this.axesTicksGenerator}))}},{key:"renderClipPath",value:function(){var P=this.clipPathId,$=this.state.offset,z=$.left,N=$.top,F=$.height,G=$.width;return Pe.createElement("defs",null,Pe.createElement("clipPath",{id:P},Pe.createElement("rect",{x:z,y:N,height:F,width:G})))}},{key:"getXScales",value:function(){var P=this.state.xAxisMap;return P?Object.entries(P).reduce(function($,z){var N=CU(z,2),F=N[0],G=N[1];return et(et({},$),{},cn({},F,G.scale))},{}):null}},{key:"getYScales",value:function(){var P=this.state.yAxisMap;return P?Object.entries(P).reduce(function($,z){var N=CU(z,2),F=N[0],G=N[1];return et(et({},$),{},cn({},F,G.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(P){var $;return($=this.state.xAxisMap)===null||$===void 0||($=$[P])===null||$===void 0?void 0:$.scale}},{key:"getYScaleByAxisId",value:function(P){var $;return($=this.state.yAxisMap)===null||$===void 0||($=$[P])===null||$===void 0?void 0:$.scale}},{key:"getItemByXY",value:function(P){var $=this.state,z=$.formattedGraphicalItems,N=$.activeItem;if(z&&z.length)for(var F=0,G=z.length;F<G;F++){var J=z[F],ee=J.props,ae=J.item,pe=Sd(ae.type);if(pe==="Bar"){var ye=(ee.data||[]).find(function(Ce){return jVe(P,Ce)});if(ye)return{graphicalItem:J,payload:ye}}else if(pe==="RadialBar"){var we=(ee.data||[]).find(function(Ce){return k6(P,Ce)});if(we)return{graphicalItem:J,payload:we}}else if(PC(J)||OC(J)||jb(J)){var Ee=BWe({graphicalItem:J,activeTooltipItem:N,itemData:ae.props.data}),Oe=ae.props.activeIndex===void 0?Ee:ae.props.activeIndex;return{graphicalItem:et(et({},J),{},{childIndex:Oe}),payload:jb(J)?ae.props.data[Ee]:J.props.data[Ee]}}}return null}},{key:"render",value:function(){var P=this;if(!YB(this))return null;var $=this.props,z=$.children,N=$.className,F=$.width,G=$.height,J=$.style,ee=$.compact,ae=$.title,pe=$.desc,ye=TU($,aGe),we=Wn(ye),Ee={CartesianGrid:{handler:this.renderGrid,once:!0},ReferenceArea:{handler:this.renderReferenceElement},ReferenceLine:{handler:this.renderReferenceElement},ReferenceDot:{handler:this.renderReferenceElement},XAxis:{handler:this.renderXAxis},YAxis:{handler:this.renderYAxis},Brush:{handler:this.renderBrush,once:!0},Bar:{handler:this.renderGraphicChild},Line:{handler:this.renderGraphicChild},Area:{handler:this.renderGraphicChild},Radar:{handler:this.renderGraphicChild},RadialBar:{handler:this.renderGraphicChild},Scatter:{handler:this.renderGraphicChild},Pie:{handler:this.renderGraphicChild},Funnel:{handler:this.renderGraphicChild},Tooltip:{handler:this.renderCursor,once:!0},PolarGrid:{handler:this.renderPolarGrid,once:!0},PolarAngleAxis:{handler:this.renderPolarAxis},PolarRadiusAxis:{handler:this.renderPolarAxis},Customized:{handler:this.renderCustomized}};if(ee)return Pe.createElement(KA,fm({},we,{width:F,height:G,title:ae,desc:pe}),this.renderClipPath(),ZB(z,Ee));if(this.props.accessibilityLayer){var Oe,Ce;we.tabIndex=(Oe=0)!==null&&Oe!==void 0?Oe:this.props.tabIndex,we.role=(Ce="img")!==null&&Ce!==void 0?Ce:this.props.role,we.onKeyDown=function(De){P.accessibilityManager.keyboardEvent(De)},we.onFocus=function(){P.accessibilityManager.focus()}}var Se=this.parseEventsOfWrapper();return Pe.createElement("div",fm({className:pr("recharts-wrapper",N),style:et({position:"relative",cursor:"default",width:F,height:G},J)},Se,{ref:function(We){P.container=We},role:"region"}),Pe.createElement(KA,fm({},we,{width:F,height:G,title:ae,desc:pe}),this.renderClipPath(),ZB(z,Ee)),this.renderLegend(),this.renderTooltip())}}]),I}(V.Component),cn(n,"displayName",r),cn(n,"defaultProps",et({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},x)),cn(n,"getDerivedStateFromProps",function(C,M){var I=C.data,A=C.children,P=C.width,$=C.height,z=C.layout,N=C.stackOffset,F=C.margin;if(mn(M.updateId)){var G=AU(C);return et(et(et({},G),{},{updateId:0},O(et(et({props:C},G),{},{updateId:0}),M)),{},{prevData:I,prevWidth:P,prevHeight:$,prevLayout:z,prevStackOffset:N,prevMargin:F,prevChildren:A})}if(I!==M.prevData||P!==M.prevWidth||$!==M.prevHeight||z!==M.prevLayout||N!==M.prevStackOffset||!Am(F,M.prevMargin)){var J=AU(C),ee={chartX:M.chartX,chartY:M.chartY,isTooltipActive:M.isTooltipActive},ae=et(et({},OU(M,I,z)),{},{updateId:M.updateId+1}),pe=et(et(et({},J),ee),ae);return et(et(et({},pe),O(et({props:C},pe),M)),{},{prevData:I,prevWidth:P,prevHeight:$,prevLayout:z,prevStackOffset:N,prevMargin:F,prevChildren:A})}if(!SH(A,M.prevChildren)){var ye=!mn(I),we=ye?M.updateId:M.updateId+1;return et(et({updateId:we},O(et(et({props:C},M),{},{updateId:we}),M)),{},{prevChildren:A})}return null}),cn(n,"renderActiveDot",function(C,M){var I;return V.isValidElement(C)?I=V.cloneElement(C,M):yn(C)?I=C(M):I=Pe.createElement($L,M),Pe.createElement(Ei,{className:"recharts-active-dot",key:M.key},I)}),n},IGe=MGe({chartName:"LineChart",GraphicalChild:vg,axisComponents:[{axisType:"xAxis",AxisComp:IC},{axisType:"yAxis",AxisComp:$C}],formatAxisMap:u7e});const $Ge=Ti(e=>({chart:{flexGrow:1,overflow:"hidden"},content:{height:"100%",flexGrow:1,alignItems:"stretch",display:"flex",flexDirection:"column",overflowY:"auto"}})),RGe=()=>{const e=$Ge(),[t,n]=V.useState([]),[r,i]=V.useState([]),[o,s]=V.useState([]),a=Pe.createRef();a.current=o;const[f,h]=V.useState(-1),g=qn(P=>P.mission.route),v=t.map(P=>P.elevation),x=t.map(P=>P.uavheight),k=Math.min(...v),O=Math.max(...x),C=O-k,M=P=>{let $=[];return P.length>0&&P.forEach(z=>{let N=[];z.wp.forEach(F=>{N.push([F.pos[0],F.pos[1],F.pos[2]])}),$.push(N)}),$};async function I(){if(console.log("--------------   LLAMANDO A ELEVATION"),g.length>0){let P=JSON.parse(JSON.stringify(g)),$=P.map(F=>F.id),z=M(P);i(z);let N;try{const F=await fetch("/api/map/elevation",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({routes:z})});if(F.ok)N=await F.json();else throw new Error(F.status)}catch(F){console.log(F)}if(N.status){let F=N.elevation.map((G,J)=>({name:"RT"+J,data:G,color:Um[$[J]]}));console.log(F),h(-1),s(F)}else console.log("no get elevation of point")}}V.useEffect(()=>{console.log("mission Elevation")},[]),V.useEffect(()=>{let P=!1,$=M(g);if(console.log("update elevation"),console.log($),console.log(r),$.length>r.length)console.log("ruta mayour"),$[+$.length+-1].length>0?P=!0:i($);else if($.length<r.length){console.log(" se ha eliminado  una ruta");let z=[],N=[];r.map((F,G)=>{let J=!1;$.map(ee=>{JSON.stringify(F)===JSON.stringify(ee)&&(J=!0)}),J&&(z.push(F),N.push(a.current[G]))}),s(N),i(z)}else{console.log("ruta de la misma longitud");for(let z=0;z<$.length;z=z+1)if(console.log(JSON.stringify($[z])),console.log(JSON.stringify(r[z])),JSON.stringify($[z])!=JSON.stringify(r[z])){console.log("latitude longitude no equals");let N=r[z].map(G=>[G[0],G[1]]),F=$[z].map(G=>[G[0],G[1]]);if(JSON.stringify(N)===JSON.stringify(F)){for(let G=0;G<r[z].length;G=G+1)if(r[z][G][2]!==$[z][G][2]){console.log("diferent elevation");let J=JSON.parse(JSON.stringify(a.current));for(let ee=0;ee<J[z].data.length;ee=ee+1)J[z].data[ee].hasOwnProperty("wp")&&J[z].data[ee].wp==G&&(console.log("encontrado elev profile wp"),J[z].data[ee].uavheight=+J[z].data[ee].uavheight-+J[z].data[ee].uav+ +$[z][G][2],J[z].data[ee].uav=+$[z][G][2]);console.log(J),s(J)}i($);break}else{console.log("nuevas posiciones"),P=!0;break}}}P&&I()},[g]),V.useEffect(()=>{f==-1?n(o):n([o[f]])},[f,o]);const A=({active:P,payload:$,label:z})=>{if(P&&$&&$.length){let N=[$[0].payload];return N[0].color=$[0].color,$.map(F=>{let G=!0;N.map(J=>{F.payload.rt==J.rt&&(G=!1)}),F.payload.color=F.color,G&&N.push(F.payload)}),N[0].uavheight?B.jsxs("div",{style:{background:"#FFFFFF"},children:[B.jsx("div",{children:`distancia ${z} m `}),N.map(F=>B.jsxs(V.Fragment,{children:[B.jsx("div",{style:{color:F.color,fontSize:16},children:`Ruta ${F.rt} - wp ${F.wp}`},`tr${F.rt}`),B.jsx("div",{style:{color:F.color,fontSize:16},children:`Terreno:${F.elevation} - UAV: ${F.uavheight}`},`dr${F.rt}`)]},"s-"+F.rt))]}):B.jsxs("div",{style:{background:"#FFFFFF"},children:[B.jsx("div",{children:`distancia ${z} m `}),N.map(F=>B.jsxs(V.Fragment,{children:[B.jsx("div",{style:{color:F.color,fontSize:16},children:`Ruta ${F.rt}`},`tr${F.rt}`),B.jsx("div",{style:{color:F.color,fontSize:16},children:`Terreno:${F.elevation} `},`dr${F.rt}`)]},"s-"+F.rt))]})}return null};return B.jsxs("div",{className:e.content,children:[B.jsxs(jc,{style:{display:"flex",margin:"10px",alignItems:"center"},children:[B.jsx("a",{style:{marginInline:"20px"},children:"Elevation Profile"}),B.jsxs(dE,{children:[B.jsx(fE,{id:"demo-simple-select-label",children:"Route"}),B.jsxs(hE,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:f,label:"Elevation Profile",onChange:P=>h(P.target.value),children:[B.jsx(hl,{value:-1,children:"All Routes"}),o.map((P,$,z)=>B.jsx(hl,{value:$,children:`Route${$}`},`sel${$}`))]})]})]}),t.length>0&&B.jsx("div",{className:e.chart,children:B.jsx(SBe,{width:"100%",height:"100%",children:B.jsxs(IGe,{data:t,margin:{top:10,right:40,left:0,bottom:10},children:[B.jsx(IC,{dataKey:"length",type:"number",domain:["dataMin","dataMax"]}),B.jsx($C,{type:"number",tickFormatter:P=>P.toFixed(2),domain:[k-C/5,O+C/5]}),B.jsx(zL,{strokeDasharray:"3 3"}),B.jsx(Wf,{content:B.jsx(A,{})}),B.jsx(ag,{}),t.map((P,$,z)=>B.jsxs(V.Fragment,{children:[B.jsx(vg,{type:"monotone",dataKey:"elevation",data:P.data,name:P.name,stroke:P.color,activeDot:{r:8,onClick:(N,F)=>{console.log(F);let G=`https://www.google.com/maps?q=${F.payload.lat},${F.payload.lng}`;window.open(G,"_blank")}}},P.name),B.jsx(vg,{connectNulls:!0,dataKey:"uavheight",data:P.data,name:P.name+"-v",stroke:P.color,strokeDasharray:"5 5",activeDot:{onClick:(N,F)=>{console.log(F)}}},P.name+"-v")]},"s-"+$))]})})})]})},DGe=Ti(e=>({root:{height:"100%"},sidebarStyle:{display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 95px)",width:"560px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},panelElevation:{display:"flex",flexDirection:"column",position:"fixed",right:0,bottom:0,height:"30vh",width:"calc(100% - 560px)",margin:"0px",zIndex:3}})),LGe=(e,t)=>{switch(e){case"success":toastProperties={id:list.length+1,title:"Success",description:t,backgroundColor:"#5cb85c"};break;case"danger":toastProperties={id:list.length+1,title:"Danger",description:t,backgroundColor:"#d9534f"};break;case"error":toastProperties={id:list.length+1,title:"Danger",description:t,backgroundColor:"#d9534f"};break;case"info":toastProperties={id:list.length+1,title:"Info",description:t,backgroundColor:"#5bc0de"};break;case"warning":toastProperties={id:list.length+1,title:"Warning",description:t,backgroundColor:"#f0ad4e"};break;default:toastProperties=[]}setList([...list,toastProperties])},NGe=()=>{const e=DGe();return B.jsx("div",{className:e.root,children:B.jsxs($R,{notification:LGe,children:[B.jsx(RR,{}),B.jsx(WR,{}),B.jsxs("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 95px)"},children:[B.jsx("div",{style:{display:"inline-block",position:"relative",width:"560px",height:"100%"}}),B.jsx("div",{style:{display:"inline-block",position:"relative",width:"calc(100vw - 575px)",height:"100%"},children:B.jsx($7,{children:B.jsx(ATe,{})})})]}),B.jsx("div",{className:e.sidebarStyle,children:B.jsx("div",{className:e.middleStyle,children:B.jsx(bl,{square:!0,children:B.jsx(YTe,{})})})}),B.jsx("div",{className:e.panelElevation,children:B.jsx("div",{className:e.middleStyle,children:B.jsx(bl,{square:!0,children:B.jsx(RGe,{})})})})]})})},zGe=()=>B.jsx("div",{children:"EventPage"}),jGe=()=>B.jsx("div",{children:"ReplayPage"}),BGe=()=>V.useMemo(()=>({custom:[{key:"data",name:"commandData",type:"string"}],positionPeriodic:[{key:"frequency",name:"commandFrequency",type:"number"}],setTimezone:[{key:"timezone",name:"commandTimezone",type:"string"}],sendSms:[{key:"phone",name:"commandPhone",type:"string"},{key:"message",name:"commandMessage",type:"string"}],message:[{key:"message",name:"commandMessage",type:"string"}],sendUssd:[{key:"phone",name:"commandPhone",type:"string"}],sosNumber:[{key:"index",name:"commandIndex",type:"number"},{key:"phone",name:"commandPhone",type:"string"}],silenceTime:[{key:"data",name:"commandData",type:"string"}],setPhonebook:[{key:"data",name:"commandData",type:"string"}],voiceMessage:[{key:"data",name:"commandData",type:"string"}],outputControl:[{key:"index",name:"commandIndex",type:"number"},{key:"data",name:"commandData",type:"string"}],voiceMonitoring:[{key:"enable",name:"commandEnable",type:"boolean"}],setAgps:[{key:"enable",name:"commandEnable",type:"boolean"}],setIndicator:[{key:"data",name:"commandData",type:"string"}],configuration:[{key:"data",name:"commandData",type:"string"}],setConnection:[{key:"server",name:"commandServer",type:"string"},{key:"port",name:"commandPort",type:"number"}],setOdometer:[{key:"data",name:"commandData",type:"string"}],modePowerSaving:[{key:"enable",name:"commandEnable",type:"boolean"}],modeDeepSleep:[{key:"enable",name:"commandEnable",type:"boolean"}],alarmGeofence:[{key:"radius",name:"commandRadius",type:"number"}],alarmBattery:[{key:"enable",name:"commandEnable",type:"boolean"}],alarmSos:[{key:"enable",name:"commandEnable",type:"boolean"}],alarmRemove:[{key:"enable",name:"commandEnable",type:"boolean"}],alarmClock:[{key:"data",name:"commandData",type:"string"}],alarmSpeed:[{key:"data",name:"commandData",type:"string"}],alarmFall:[{key:"enable",name:"commandEnable",type:"boolean"}],alarmVibration:[{key:"data",name:"commandData",type:"string"}],SetupCamera:[{key:"type",name:"Type",type:"number"},{key:"enable",name:"Enable",type:"number"}],Gimbal:[{key:"roll",name:"Roll",type:"number"},{key:"pitch",name:"Pitch",type:"number"},{key:"yaw",name:"Yaw",type:"number"}],GimbalPitch:[{key:"pitch",name:"Pitch",type:"number"}],treat:[{key:"enable",name:"commandEnable",type:"boolean"}],setupcamera:[{key:"cameraType",name:"cameraType",type:"number"},{key:"start",name:"start",type:"number"}]}),[]),FGe=({deviceId:e,item:t,setItem:n})=>{const r=qn(a=>a.session.server.textEnabled),i=BGe(),[o,s]=V.useState([]);return V.useEffect(()=>{t&&t.type?s(i[t.type]||[]):s([])},[i,t]),B.jsxs(V.Fragment,{children:[B.jsx(Dc,{value:t.type||"",onChange:a=>n({...t,type:a.target.value,attributes:{}}),endpoint:e?`/api/commands/types?${new URLSearchParams({deviceId:e}).toString()}`:"/api/commands/types",keyGetter:a=>a.type,titleGetter:a=>E0("command_",a.type),label:"Command type"}),o.map(({key:a,name:f,type:h})=>h==="boolean"?B.jsx(r3,{control:B.jsx(t3,{checked:t.attributes[a],onChange:g=>{const v={...t,attributes:{...t.attributes}};v.attributes[a]=g.target.checked,n(v)}}),label:f}):B.jsx(yo,{type:h==="number"?"number":"text",value:t.attributes[a],onChange:g=>{const v={...t,attributes:{...t.attributes}};v.attributes[a]=h==="number"?Number(g.target.value):g.target.value,n(v)},label:f})),r&&B.jsx(r3,{control:B.jsx(t3,{checked:t.textChannel,onChange:a=>n({...t,textChannel:a.target.checked})}),label:"commandSendSms"})]},"sdf")},UGe=Ti(e=>({root:{height:"100%",display:"flex",flexDirection:"column"},content:{overflow:"auto",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},buttons:{marginTop:e.spacing(2),marginBottom:e.spacing(2),display:"flex",justifyContent:"space-evenly","& > *":{flexBasis:"33%"}},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)}})),VGe=()=>{const e=UGe(),t=Cg(),{id:n}=rte(),[r,i]=V.useState(),[o,s]=V.useState({}),a=qn(k=>k.data.positions),[f,h]=V.useState(0);V.useEffect(()=>{n&&i(a[n])},[n,a]);const g=qn(k=>{if(r){const O=k.devices.items[r.deviceId];if(O)return O.name}return null}),v=Iye(async()=>{let k;if(f){const C=await fetch(`/api/commands/${f}`);if(C.ok)k=await C.json();else throw Error(await C.text())}else k=o;k.deviceId=parseInt(n,10);const O=await fetch("/api/commands/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(O.ok)t(-1);else throw Error(await O.text())}),x=()=>f||o&&o.type;return B.jsxs("div",{className:e.root,children:[B.jsx(H$,{position:"sticky",color:"inherit",children:B.jsxs(ax,{children:[B.jsx(Jn,{color:"inherit",edge:"start",sx:{mr:2},onClick:()=>t(-1),children:B.jsx(YE,{})}),B.jsx(An,{variant:"h6",children:g})]})}),B.jsx("div",{className:e.content,children:B.jsx(Ww,{maxWidth:"sm",children:B.jsx(bl,{children:B.jsxs(aR,{children:[B.jsx(Q9,{children:B.jsxs(Em,{children:[B.jsx(mo,{children:"stateName"}),B.jsx(mo,{children:"sharedName"}),B.jsx(mo,{children:"stateValue"})]})}),B.jsxs(sR,{children:[r&&Object.getOwnPropertyNames(r).filter(k=>k!=="attributes").map(k=>B.jsxs(Em,{children:[B.jsx(mo,{children:k}),B.jsx(mo,{children:B.jsx("strong",{children:E0("position",k)})}),B.jsx(mo,{children:B.jsx(qA,{position:r,property:k})})]},k)),r&&Object.getOwnPropertyNames(r.attributes).map(k=>B.jsxs(Em,{children:[B.jsx(mo,{children:k}),B.jsx(mo,{children:B.jsx("strong",{children:E0("position",k)||E0("device",k)})}),B.jsx(mo,{children:B.jsx(qA,{position:r,attribute:k})})]},k))]})]})})})}),B.jsx("div",{children:B.jsxs(Ww,{maxWidth:"xs",className:e.container,children:[B.jsxs(ph,{defaultExpanded:!0,children:[B.jsx(gh,{expandIcon:B.jsx(Ld,{}),children:B.jsx(An,{variant:"subtitle1",children:"Command"})}),B.jsx(mh,{className:e.details,children:!f&&B.jsx(FGe,{deviceId:n,item:o,setItem:s})})]}),B.jsxs("div",{className:e.buttons,children:[B.jsx(wr,{type:"button",color:"primary",variant:"outlined",onClick:()=>t(-1),children:"Cancel"}),B.jsx(wr,{type:"button",color:"primary",variant:"contained",onClick:v,disabled:!x(),children:"Send"})]})]})})]})},WGe=Ti(e=>({card:{pointerEvents:"auto"},media:{height:"20vw",width:"100%",background:"black"},media1:{width:"100%",height:"100%",display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},gruopBtn:{float:"right",height:"40px"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},tittle:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},root:{pointerEvents:"none"},root_max:{pointerEvents:"none"}})),qGe=({deviceId:e,deviceIp:t="127.0.0.1",camera_src:n="video0",onClose:r})=>{const i=WGe(),o=e?qn(g=>g.devices.items[e]):{name:"test"},s="http://"+t+":8889/"+n;V.useState(!1);let a=i.card,f=i.root_max,h=i.media;return V.useRef(),B.jsx("div",{className:f,children:o&&B.jsxs(Eh,{className:a,children:[B.jsx("div",{children:B.jsx("div",{className:i.tittle,children:"Id: "+o.name})}),B.jsx("iframe",{src:s,className:h})]})})},GGe=Ti(()=>({root:{height:"100%"},sidebarStyle:{pointerEvents:"none",display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 88px)",width:"360px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},contentListStyle:{pointerEvents:"auto",gridArea:"1 / 1",zIndex:4}})),HGe=(e,t)=>{switch(e){case"success":toastProperties={id:list.length+1,title:"Success",description:t,backgroundColor:"#5cb85c"};break;case"danger":toastProperties={id:list.length+1,title:"Danger",description:t,backgroundColor:"#d9534f"};break;case"info":toastProperties={id:list.length+1,title:"Info",description:t,backgroundColor:"#5bc0de"};break;case"warning":toastProperties={id:list.length+1,title:"Warning",description:t,backgroundColor:"#f0ad4e"};break;default:toastProperties=[]}setList([...list,toastProperties])},YGe=()=>{const[e,t]=V.useState(!1),n=qn(s=>s.devices.items);let r=Object.values(n);const i=`${window.location.hostname}`,o=GGe();return B.jsx("div",{className:o.root,children:B.jsxs($R,{notification:HGe,children:[B.jsx(RR,{}),B.jsx(WR,{}),B.jsx("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 90px)"},children:B.jsx(jc,{sx:{flexGrow:1},style:{backgroundColor:"#000000",width:"calc(100vw - 360px)",height:"calc(100vh - 90px",padding:"20px",float:"right"},children:B.jsx(s3,{container:!0,spacing:2,justifyContent:"space-around",children:Pe.Children.toArray(Object.values(n).map(s=>B.jsx(V.Fragment,{children:s.camera.map((a,f)=>B.jsx(s3,{item:!0,xs:12,sm:6,children:B.jsx(qGe,{deviceId:s.id,deviceIp:i,devicename:s.name,camera_src:s.name+"_"+a.source,onClose:()=>{console.log("cerrar ")}})},"card-"+s.id+"-"+f))},"dev"+s.id)))})})}),B.jsx("div",{className:o.sidebarStyle,children:B.jsx("div",{className:o.middleStyle,children:B.jsxs(bl,{square:!0,className:o.contentListStyle,children:[B.jsx(lH,{SetAddUAVOpen:t}),B.jsx(VG,{devices:r})]})})})]})})},KGe=Ti(e=>({root:{height:"100%",display:"flex",flexDirection:"column"},content:{overflow:"auto",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},buttons:{marginTop:e.spacing(2),marginBottom:e.spacing(2),display:"flex",justifyContent:"space-evenly","& > *":{flexBasis:"33%"}},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)}})),ZGe=()=>{const e=KGe(),t=Cg(),[n,r]=V.useState([]),[i,o]=V.useState(),s=qn(f=>f.events.items),a=qn(f=>f.devices.items);return V.useEffect(()=>{r(s)},[s]),V.useEffect(()=>{o({...a,"-1":{name:"GCS"}})},[a]),qn(f=>{if(n){const h=f.devices.items[n.deviceId];if(h)return h.name}return null}),B.jsxs("div",{className:e.root,children:[B.jsx(H$,{position:"sticky",color:"inherit",children:B.jsxs(ax,{children:[B.jsx(Jn,{color:"inherit",edge:"start",sx:{mr:2},onClick:()=>t(-1),children:B.jsx(YE,{})}),B.jsx(An,{variant:"h6",children:"Events"})]})}),B.jsx("div",{className:e.content,children:B.jsx(Ww,{maxWidth:"sm",children:B.jsx(bl,{children:B.jsxs(aR,{children:[B.jsx(Q9,{children:B.jsxs(Em,{children:[B.jsx(mo,{children:"UAV"}),B.jsx(mo,{children:"Fecha"}),B.jsx(mo,{children:"Valor"})]})}),B.jsx(sR,{children:n&&n.map(f=>B.jsxs(Em,{children:[B.jsx(mo,{children:i[f.deviceId].name}),B.jsx(mo,{children:f.eventTime}),B.jsx(mo,{children:f.attributes.message})]},f.id))})]})})})})]})},XGe=()=>{const e=Cg();v2();const t=bbe();return lR(async()=>{e("/")},[t]),B.jsx(vte,{children:B.jsxs(Ac,{path:"/",element:B.jsx(vbe,{}),children:[B.jsx(Ac,{index:!0,element:B.jsx(PTe,{})}),B.jsx(Ac,{path:"mission",element:B.jsx(NGe,{})}),B.jsx(Ac,{path:"camera",element:B.jsx(YGe,{})}),B.jsx(Ac,{path:"device/:id",element:B.jsx(VGe,{})}),B.jsx(Ac,{path:"event/:id",element:B.jsx(zGe,{})}),B.jsx(Ac,{path:"events",element:B.jsx(ZGe,{})}),B.jsx(Ac,{path:"replay",element:B.jsx(jGe,{})})]})})},JGe=()=>{const e={white:uh.white,background:Jl[50],primary:RW[900],secondary:sl[800],positive:sl[500],medium:_$[700],negative:Rc[500],neutral:Jl[500],geometry:"#3bb2d0"};return{background:{default:e.background},primary:{main:e.primary},secondary:{main:e.secondary,contrastText:e.white},colors:e}},QGe={sidebarWidth:"28%",sidebarWidthTablet:"52px",drawerWidthDesktop:"360px",drawerWidthTablet:"320px",drawerHeightPhone:"250px",filterFormWidth:"160px",eventsDrawerWidth:"320px",bottomBarHeight:56,popupMapOffset:300,popupMaxWidth:288,popupImageHeight:144},eHe={MuiUseMediaQuery:{defaultProps:{noSsr:!0}},MuiOutlinedInput:{styleOverrides:{root:{backgroundColor:Jl[50]}}},MuiButton:{styleOverrides:{sizeMedium:{height:"40px"}}},MuiFormControl:{defaultProps:{size:"small"}},MuiSnackbar:{defaultProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"}}}},tHe=()=>V.useMemo(()=>V$({palette:JGe(),dimensions:QGe,components:eHe}),[]),nHe=({children:e})=>{const t=tHe();return B.jsx(wse,{theme:t,children:e})};Kre();const rHe=GV(document.getElementById("root"));rHe.render(B.jsx(Pne,{store:Ore,children:B.jsx(coe,{injectFirst:!0,children:B.jsxs(nHe,{children:[B.jsx(Yfe,{}),B.jsx(xte,{children:B.jsx(XGe,{})})]})})}))});export default iHe();
