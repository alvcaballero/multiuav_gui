var pF=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Zde=pF((Xde,u0)=>{function mF(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var gF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function g_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function HA(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var YA={exports:{}},y_={},ZA={exports:{}},En={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg=Symbol.for("react.element"),yF=Symbol.for("react.portal"),vF=Symbol.for("react.fragment"),_F=Symbol.for("react.strict_mode"),xF=Symbol.for("react.profiler"),bF=Symbol.for("react.provider"),wF=Symbol.for("react.context"),SF=Symbol.for("react.forward_ref"),CF=Symbol.for("react.suspense"),TF=Symbol.for("react.memo"),kF=Symbol.for("react.lazy"),GP=Symbol.iterator;function EF(e){return e===null||typeof e!="object"?null:(e=GP&&e[GP]||e["@@iterator"],typeof e=="function"?e:null)}var KA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XA=Object.assign,JA={};function Of(e,t,n){this.props=e,this.context=t,this.refs=JA,this.updater=n||KA}Of.prototype.isReactComponent={};Of.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Of.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function QA(){}QA.prototype=Of.prototype;function Z2(e,t,n){this.props=e,this.context=t,this.refs=JA,this.updater=n||KA}var K2=Z2.prototype=new QA;K2.constructor=Z2;XA(K2,Of.prototype);K2.isPureReactComponent=!0;var HP=Array.isArray,eO=Object.prototype.hasOwnProperty,X2={current:null},tO={key:!0,ref:!0,__self:!0,__source:!0};function nO(e,t,n){var r,o={},a=null,d=null;if(t!=null)for(r in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(a=""+t.key),t)eO.call(t,r)&&!tO.hasOwnProperty(r)&&(o[r]=t[r]);var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){for(var y=Array(c),_=0;_<c;_++)y[_]=arguments[_+2];o.children=y}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)o[r]===void 0&&(o[r]=c[r]);return{$$typeof:Mg,type:e,key:a,ref:d,props:o,_owner:X2.current}}function PF(e,t){return{$$typeof:Mg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function J2(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mg}function IF(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var YP=/\/+/g;function Pb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?IF(""+e.key):t.toString(36)}function Nv(e,t,n,r,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(a){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case Mg:case yF:d=!0}}if(d)return d=e,o=o(d),e=r===""?"."+Pb(d,0):r,HP(o)?(n="",e!=null&&(n=e.replace(YP,"$&/")+"/"),Nv(o,t,n,"",function(_){return _})):o!=null&&(J2(o)&&(o=PF(o,n+(!o.key||d&&d.key===o.key?"":(""+o.key).replace(YP,"$&/")+"/")+e)),t.push(o)),1;if(d=0,r=r===""?".":r+":",HP(e))for(var c=0;c<e.length;c++){a=e[c];var y=r+Pb(a,c);d+=Nv(a,t,n,y,o)}else if(y=EF(e),typeof y=="function")for(e=y.call(e),c=0;!(a=e.next()).done;)a=a.value,y=r+Pb(a,c++),d+=Nv(a,t,n,y,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function nv(e,t,n){if(e==null)return e;var r=[],o=0;return Nv(e,r,"","",function(a){return t.call(n,a,o++)}),r}function MF(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xo={current:null},Fv={transition:null},RF={ReactCurrentDispatcher:xo,ReactCurrentBatchConfig:Fv,ReactCurrentOwner:X2};En.Children={map:nv,forEach:function(e,t,n){nv(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return nv(e,function(){t++}),t},toArray:function(e){return nv(e,function(t){return t})||[]},only:function(e){if(!J2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};En.Component=Of;En.Fragment=vF;En.Profiler=xF;En.PureComponent=Z2;En.StrictMode=_F;En.Suspense=CF;En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RF;En.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=XA({},e.props),o=e.key,a=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,d=X2.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(y in t)eO.call(t,y)&&!tO.hasOwnProperty(y)&&(r[y]=t[y]===void 0&&c!==void 0?c[y]:t[y])}var y=arguments.length-2;if(y===1)r.children=n;else if(1<y){c=Array(y);for(var _=0;_<y;_++)c[_]=arguments[_+2];r.children=c}return{$$typeof:Mg,type:e.type,key:o,ref:a,props:r,_owner:d}};En.createContext=function(e){return e={$$typeof:wF,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bF,_context:e},e.Consumer=e};En.createElement=nO;En.createFactory=function(e){var t=nO.bind(null,e);return t.type=e,t};En.createRef=function(){return{current:null}};En.forwardRef=function(e){return{$$typeof:SF,render:e}};En.isValidElement=J2;En.lazy=function(e){return{$$typeof:kF,_payload:{_status:-1,_result:e},_init:MF}};En.memo=function(e,t){return{$$typeof:TF,type:e,compare:t===void 0?null:t}};En.startTransition=function(e){var t=Fv.transition;Fv.transition={};try{e()}finally{Fv.transition=t}};En.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};En.useCallback=function(e,t){return xo.current.useCallback(e,t)};En.useContext=function(e){return xo.current.useContext(e)};En.useDebugValue=function(){};En.useDeferredValue=function(e){return xo.current.useDeferredValue(e)};En.useEffect=function(e,t){return xo.current.useEffect(e,t)};En.useId=function(){return xo.current.useId()};En.useImperativeHandle=function(e,t,n){return xo.current.useImperativeHandle(e,t,n)};En.useInsertionEffect=function(e,t){return xo.current.useInsertionEffect(e,t)};En.useLayoutEffect=function(e,t){return xo.current.useLayoutEffect(e,t)};En.useMemo=function(e,t){return xo.current.useMemo(e,t)};En.useReducer=function(e,t,n){return xo.current.useReducer(e,t,n)};En.useRef=function(e){return xo.current.useRef(e)};En.useState=function(e){return xo.current.useState(e)};En.useSyncExternalStore=function(e,t,n){return xo.current.useSyncExternalStore(e,t,n)};En.useTransition=function(){return xo.current.useTransition()};En.version="18.2.0";ZA.exports=En;var U=ZA.exports;const Oo=g_(U),d0=mF({__proto__:null,default:Oo},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AF=U,OF=Symbol.for("react.element"),DF=Symbol.for("react.fragment"),zF=Object.prototype.hasOwnProperty,LF=AF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$F={key:!0,ref:!0,__self:!0,__source:!0};function rO(e,t,n){var r,o={},a=null,d=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(d=t.ref);for(r in t)zF.call(t,r)&&!$F.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:OF,type:e,key:a,ref:d,props:o,_owner:LF.current}}y_.Fragment=DF;y_.jsx=rO;y_.jsxs=rO;YA.exports=y_;var F=YA.exports,iO={exports:{}},cs={},oO={exports:{}},sO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Oe,Ee){var ze=Oe.length;Oe.push(Ee);e:for(;0<ze;){var st=ze-1>>>1,be=Oe[st];if(0<o(be,Ee))Oe[st]=Ee,Oe[ze]=be,ze=st;else break e}}function n(Oe){return Oe.length===0?null:Oe[0]}function r(Oe){if(Oe.length===0)return null;var Ee=Oe[0],ze=Oe.pop();if(ze!==Ee){Oe[0]=ze;e:for(var st=0,be=Oe.length,Fe=be>>>1;st<Fe;){var Ae=2*(st+1)-1,qe=Oe[Ae],Le=Ae+1,ot=Oe[Le];if(0>o(qe,ze))Le<be&&0>o(ot,qe)?(Oe[st]=ot,Oe[Le]=ze,st=Le):(Oe[st]=qe,Oe[Ae]=ze,st=Ae);else if(Le<be&&0>o(ot,ze))Oe[st]=ot,Oe[Le]=ze,st=Le;else break e}}return Ee}function o(Oe,Ee){var ze=Oe.sortIndex-Ee.sortIndex;return ze!==0?ze:Oe.id-Ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var d=Date,c=d.now();e.unstable_now=function(){return d.now()-c}}var y=[],_=[],C=1,k=null,P=3,D=!1,N=!1,M=!1,$=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(Oe){for(var Ee=n(_);Ee!==null;){if(Ee.callback===null)r(_);else if(Ee.startTime<=Oe)r(_),Ee.sortIndex=Ee.expirationTime,t(y,Ee);else break;Ee=n(_)}}function q(Oe){if(M=!1,z(Oe),!N)if(n(y)!==null)N=!0,ke(Y);else{var Ee=n(_);Ee!==null&&Me(q,Ee.startTime-Oe)}}function Y(Oe,Ee){N=!1,M&&(M=!1,A(ge),ge=-1),D=!0;var ze=P;try{for(z(Ee),k=n(y);k!==null&&(!(k.expirationTime>Ee)||Oe&&!Ne());){var st=k.callback;if(typeof st=="function"){k.callback=null,P=k.priorityLevel;var be=st(k.expirationTime<=Ee);Ee=e.unstable_now(),typeof be=="function"?k.callback=be:k===n(y)&&r(y),z(Ee)}else r(y);k=n(y)}if(k!==null)var Fe=!0;else{var Ae=n(_);Ae!==null&&Me(q,Ae.startTime-Ee),Fe=!1}return Fe}finally{k=null,P=ze,D=!1}}var J=!1,te=null,ge=-1,Pe=5,ye=-1;function Ne(){return!(e.unstable_now()-ye<Pe)}function Ve(){if(te!==null){var Oe=e.unstable_now();ye=Oe;var Ee=!0;try{Ee=te(!0,Oe)}finally{Ee?et():(J=!1,te=null)}}else J=!1}var et;if(typeof O=="function")et=function(){O(Ve)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,Ke=Ze.port2;Ze.port1.onmessage=Ve,et=function(){Ke.postMessage(null)}}else et=function(){$(Ve,0)};function ke(Oe){te=Oe,J||(J=!0,et())}function Me(Oe,Ee){ge=$(function(){Oe(e.unstable_now())},Ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Oe){Oe.callback=null},e.unstable_continueExecution=function(){N||D||(N=!0,ke(Y))},e.unstable_forceFrameRate=function(Oe){0>Oe||125<Oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Pe=0<Oe?Math.floor(1e3/Oe):5},e.unstable_getCurrentPriorityLevel=function(){return P},e.unstable_getFirstCallbackNode=function(){return n(y)},e.unstable_next=function(Oe){switch(P){case 1:case 2:case 3:var Ee=3;break;default:Ee=P}var ze=P;P=Ee;try{return Oe()}finally{P=ze}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Oe,Ee){switch(Oe){case 1:case 2:case 3:case 4:case 5:break;default:Oe=3}var ze=P;P=Oe;try{return Ee()}finally{P=ze}},e.unstable_scheduleCallback=function(Oe,Ee,ze){var st=e.unstable_now();switch(typeof ze=="object"&&ze!==null?(ze=ze.delay,ze=typeof ze=="number"&&0<ze?st+ze:st):ze=st,Oe){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=ze+be,Oe={id:C++,callback:Ee,priorityLevel:Oe,startTime:ze,expirationTime:be,sortIndex:-1},ze>st?(Oe.sortIndex=ze,t(_,Oe),n(y)===null&&Oe===n(_)&&(M?(A(ge),ge=-1):M=!0,Me(q,ze-st))):(Oe.sortIndex=be,t(y,Oe),N||D||(N=!0,ke(Y))),Oe},e.unstable_shouldYield=Ne,e.unstable_wrapCallback=function(Oe){var Ee=P;return function(){var ze=P;P=Ee;try{return Oe.apply(this,arguments)}finally{P=ze}}}})(sO);oO.exports=sO;var NF=oO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aO=U,ss=NF;function ut(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lO=new Set,Ym={};function hd(e,t){hf(e,t),hf(e+"Capture",t)}function hf(e,t){for(Ym[e]=t,e=0;e<t.length;e++)lO.add(t[e])}var Ml=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sS=Object.prototype.hasOwnProperty,FF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ZP={},KP={};function BF(e){return sS.call(KP,e)?!0:sS.call(ZP,e)?!1:FF.test(e)?KP[e]=!0:(ZP[e]=!0,!1)}function jF(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function UF(e,t,n,r){if(t===null||typeof t>"u"||jF(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function bo(e,t,n,r,o,a,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=d}var zi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){zi[e]=new bo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];zi[t]=new bo(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){zi[e]=new bo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){zi[e]=new bo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){zi[e]=new bo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){zi[e]=new bo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){zi[e]=new bo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){zi[e]=new bo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){zi[e]=new bo(e,5,!1,e.toLowerCase(),null,!1,!1)});var Q2=/[\-:]([a-z])/g;function eC(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Q2,eC);zi[t]=new bo(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Q2,eC);zi[t]=new bo(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Q2,eC);zi[t]=new bo(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){zi[e]=new bo(e,1,!1,e.toLowerCase(),null,!1,!1)});zi.xlinkHref=new bo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){zi[e]=new bo(e,1,!1,e.toLowerCase(),null,!0,!0)});function tC(e,t,n,r){var o=zi.hasOwnProperty(t)?zi[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(UF(t,n,o,r)&&(n=null),r||o===null?BF(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Bl=aO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rv=Symbol.for("react.element"),Eh=Symbol.for("react.portal"),Ph=Symbol.for("react.fragment"),nC=Symbol.for("react.strict_mode"),aS=Symbol.for("react.profiler"),cO=Symbol.for("react.provider"),uO=Symbol.for("react.context"),rC=Symbol.for("react.forward_ref"),lS=Symbol.for("react.suspense"),cS=Symbol.for("react.suspense_list"),iC=Symbol.for("react.memo"),yc=Symbol.for("react.lazy"),dO=Symbol.for("react.offscreen"),XP=Symbol.iterator;function qp(e){return e===null||typeof e!="object"?null:(e=XP&&e[XP]||e["@@iterator"],typeof e=="function"?e:null)}var Ur=Object.assign,Ib;function mm(e){if(Ib===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ib=t&&t[1]||""}return`
`+Ib+e}var Mb=!1;function Rb(e,t){if(!e||Mb)return"";Mb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(_){var r=_}Reflect.construct(e,[],t)}else{try{t.call()}catch(_){r=_}e.call(t.prototype)}else{try{throw Error()}catch(_){r=_}e()}}catch(_){if(_&&r&&typeof _.stack=="string"){for(var o=_.stack.split(`
`),a=r.stack.split(`
`),d=o.length-1,c=a.length-1;1<=d&&0<=c&&o[d]!==a[c];)c--;for(;1<=d&&0<=c;d--,c--)if(o[d]!==a[c]){if(d!==1||c!==1)do if(d--,c--,0>c||o[d]!==a[c]){var y=`
`+o[d].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=d&&0<=c);break}}}finally{Mb=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mm(e):""}function VF(e){switch(e.tag){case 5:return mm(e.type);case 16:return mm("Lazy");case 13:return mm("Suspense");case 19:return mm("SuspenseList");case 0:case 2:case 15:return e=Rb(e.type,!1),e;case 11:return e=Rb(e.type.render,!1),e;case 1:return e=Rb(e.type,!0),e;default:return""}}function uS(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ph:return"Fragment";case Eh:return"Portal";case aS:return"Profiler";case nC:return"StrictMode";case lS:return"Suspense";case cS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uO:return(e.displayName||"Context")+".Consumer";case cO:return(e._context.displayName||"Context")+".Provider";case rC:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case iC:return t=e.displayName||null,t!==null?t:uS(e.type)||"Memo";case yc:t=e._payload,e=e._init;try{return uS(e(t))}catch{}}return null}function WF(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uS(t);case 8:return t===nC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qF(e){var t=hO(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(d){r=""+d,a.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function iv(e){e._valueTracker||(e._valueTracker=qF(e))}function fO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=hO(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function h0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dS(e,t){var n=t.checked;return Ur({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function JP(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=qc(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pO(e,t){t=t.checked,t!=null&&tC(e,"checked",t,!1)}function hS(e,t){pO(e,t);var n=qc(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fS(e,t.type,n):t.hasOwnProperty("defaultValue")&&fS(e,t.type,qc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function QP(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fS(e,t,n){(t!=="number"||h0(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gm=Array.isArray;function Yh(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+qc(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function pS(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ut(91));return Ur({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eI(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ut(92));if(gm(n)){if(1<n.length)throw Error(ut(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:qc(n)}}function mO(e,t){var n=qc(t.value),r=qc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function tI(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mS(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ov,yO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ov=ov||document.createElement("div"),ov.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ov.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zm(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Pm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GF=["Webkit","ms","Moz","O"];Object.keys(Pm).forEach(function(e){GF.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Pm[t]=Pm[e]})});function vO(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Pm.hasOwnProperty(e)&&Pm[e]?(""+t).trim():t+"px"}function _O(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=vO(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var HF=Ur({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gS(e,t){if(t){if(HF[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ut(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ut(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ut(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ut(62))}}function yS(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vS=null;function oC(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _S=null,Zh=null,Kh=null;function nI(e){if(e=Og(e)){if(typeof _S!="function")throw Error(ut(280));var t=e.stateNode;t&&(t=w_(t),_S(e.stateNode,e.type,t))}}function xO(e){Zh?Kh?Kh.push(e):Kh=[e]:Zh=e}function bO(){if(Zh){var e=Zh,t=Kh;if(Kh=Zh=null,nI(e),t)for(e=0;e<t.length;e++)nI(t[e])}}function wO(e,t){return e(t)}function SO(){}var Ab=!1;function CO(e,t,n){if(Ab)return e(t,n);Ab=!0;try{return wO(e,t,n)}finally{Ab=!1,(Zh!==null||Kh!==null)&&(SO(),bO())}}function Km(e,t){var n=e.stateNode;if(n===null)return null;var r=w_(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ut(231,t,typeof n));return n}var xS=!1;if(Ml)try{var Gp={};Object.defineProperty(Gp,"passive",{get:function(){xS=!0}}),window.addEventListener("test",Gp,Gp),window.removeEventListener("test",Gp,Gp)}catch{xS=!1}function YF(e,t,n,r,o,a,d,c,y){var _=Array.prototype.slice.call(arguments,3);try{t.apply(n,_)}catch(C){this.onError(C)}}var Im=!1,f0=null,p0=!1,bS=null,ZF={onError:function(e){Im=!0,f0=e}};function KF(e,t,n,r,o,a,d,c,y){Im=!1,f0=null,YF.apply(ZF,arguments)}function XF(e,t,n,r,o,a,d,c,y){if(KF.apply(this,arguments),Im){if(Im){var _=f0;Im=!1,f0=null}else throw Error(ut(198));p0||(p0=!0,bS=_)}}function fd(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function TO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rI(e){if(fd(e)!==e)throw Error(ut(188))}function JF(e){var t=e.alternate;if(!t){if(t=fd(e),t===null)throw Error(ut(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return rI(o),e;if(a===r)return rI(o),t;a=a.sibling}throw Error(ut(188))}if(n.return!==r.return)n=o,r=a;else{for(var d=!1,c=o.child;c;){if(c===n){d=!0,n=o,r=a;break}if(c===r){d=!0,r=o,n=a;break}c=c.sibling}if(!d){for(c=a.child;c;){if(c===n){d=!0,n=a,r=o;break}if(c===r){d=!0,r=a,n=o;break}c=c.sibling}if(!d)throw Error(ut(189))}}if(n.alternate!==r)throw Error(ut(190))}if(n.tag!==3)throw Error(ut(188));return n.stateNode.current===n?e:t}function kO(e){return e=JF(e),e!==null?EO(e):null}function EO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=EO(e);if(t!==null)return t;e=e.sibling}return null}var PO=ss.unstable_scheduleCallback,iI=ss.unstable_cancelCallback,QF=ss.unstable_shouldYield,eB=ss.unstable_requestPaint,ri=ss.unstable_now,tB=ss.unstable_getCurrentPriorityLevel,sC=ss.unstable_ImmediatePriority,IO=ss.unstable_UserBlockingPriority,m0=ss.unstable_NormalPriority,nB=ss.unstable_LowPriority,MO=ss.unstable_IdlePriority,v_=null,$a=null;function rB(e){if($a&&typeof $a.onCommitFiberRoot=="function")try{$a.onCommitFiberRoot(v_,e,void 0,(e.current.flags&128)===128)}catch{}}var la=Math.clz32?Math.clz32:sB,iB=Math.log,oB=Math.LN2;function sB(e){return e>>>=0,e===0?32:31-(iB(e)/oB|0)|0}var sv=64,av=4194304;function ym(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function g0(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,d=n&268435455;if(d!==0){var c=d&~o;c!==0?r=ym(c):(a&=d,a!==0&&(r=ym(a)))}else d=n&~o,d!==0?r=ym(d):a!==0&&(r=ym(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-la(t),o=1<<n,r|=e[n],t&=~o;return r}function aB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lB(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var d=31-la(a),c=1<<d,y=o[d];y===-1?(!(c&n)||c&r)&&(o[d]=aB(c,t)):y<=t&&(e.expiredLanes|=c),a&=~c}}function wS(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function RO(){var e=sv;return sv<<=1,!(sv&4194240)&&(sv=64),e}function Ob(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Rg(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-la(t),e[t]=n}function cB(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-la(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}function aC(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-la(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Kn=0;function AO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var OO,lC,DO,zO,LO,SS=!1,lv=[],Mc=null,Rc=null,Ac=null,Xm=new Map,Jm=new Map,_c=[],uB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oI(e,t){switch(e){case"focusin":case"focusout":Mc=null;break;case"dragenter":case"dragleave":Rc=null;break;case"mouseover":case"mouseout":Ac=null;break;case"pointerover":case"pointerout":Xm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jm.delete(t.pointerId)}}function Hp(e,t,n,r,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},t!==null&&(t=Og(t),t!==null&&lC(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function dB(e,t,n,r,o){switch(t){case"focusin":return Mc=Hp(Mc,e,t,n,r,o),!0;case"dragenter":return Rc=Hp(Rc,e,t,n,r,o),!0;case"mouseover":return Ac=Hp(Ac,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return Xm.set(a,Hp(Xm.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Jm.set(a,Hp(Jm.get(a)||null,e,t,n,r,o)),!0}return!1}function $O(e){var t=Bu(e.target);if(t!==null){var n=fd(t);if(n!==null){if(t=n.tag,t===13){if(t=TO(n),t!==null){e.blockedOn=t,LO(e.priority,function(){DO(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=CS(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);vS=r,n.target.dispatchEvent(r),vS=null}else return t=Og(n),t!==null&&lC(t),e.blockedOn=n,!1;t.shift()}return!0}function sI(e,t,n){Bv(e)&&n.delete(t)}function hB(){SS=!1,Mc!==null&&Bv(Mc)&&(Mc=null),Rc!==null&&Bv(Rc)&&(Rc=null),Ac!==null&&Bv(Ac)&&(Ac=null),Xm.forEach(sI),Jm.forEach(sI)}function Yp(e,t){e.blockedOn===t&&(e.blockedOn=null,SS||(SS=!0,ss.unstable_scheduleCallback(ss.unstable_NormalPriority,hB)))}function Qm(e){function t(o){return Yp(o,e)}if(0<lv.length){Yp(lv[0],e);for(var n=1;n<lv.length;n++){var r=lv[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mc!==null&&Yp(Mc,e),Rc!==null&&Yp(Rc,e),Ac!==null&&Yp(Ac,e),Xm.forEach(t),Jm.forEach(t),n=0;n<_c.length;n++)r=_c[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_c.length&&(n=_c[0],n.blockedOn===null);)$O(n),n.blockedOn===null&&_c.shift()}var Xh=Bl.ReactCurrentBatchConfig,y0=!0;function fB(e,t,n,r){var o=Kn,a=Xh.transition;Xh.transition=null;try{Kn=1,cC(e,t,n,r)}finally{Kn=o,Xh.transition=a}}function pB(e,t,n,r){var o=Kn,a=Xh.transition;Xh.transition=null;try{Kn=4,cC(e,t,n,r)}finally{Kn=o,Xh.transition=a}}function cC(e,t,n,r){if(y0){var o=CS(e,t,n,r);if(o===null)Vb(e,t,r,v0,n),oI(e,r);else if(dB(o,e,t,n,r))r.stopPropagation();else if(oI(e,r),t&4&&-1<uB.indexOf(e)){for(;o!==null;){var a=Og(o);if(a!==null&&OO(a),a=CS(e,t,n,r),a===null&&Vb(e,t,r,v0,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else Vb(e,t,r,null,n)}}var v0=null;function CS(e,t,n,r){if(v0=null,e=oC(r),e=Bu(e),e!==null)if(t=fd(e),t===null)e=null;else if(n=t.tag,n===13){if(e=TO(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return v0=e,null}function NO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tB()){case sC:return 1;case IO:return 4;case m0:case nB:return 16;case MO:return 536870912;default:return 16}default:return 16}}var wc=null,uC=null,jv=null;function FO(){if(jv)return jv;var e,t=uC,n=t.length,r,o="value"in wc?wc.value:wc.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var d=n-e;for(r=1;r<=d&&t[n-r]===o[a-r];r++);return jv=o.slice(e,1<r?1-r:void 0)}function Uv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cv(){return!0}function aI(){return!1}function us(e){function t(n,r,o,a,d){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=d,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?cv:aI,this.isPropagationStopped=aI,this}return Ur(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cv)},persist:function(){},isPersistent:cv}),t}var Df={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dC=us(Df),Ag=Ur({},Df,{view:0,detail:0}),mB=us(Ag),Db,zb,Zp,__=Ur({},Ag,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hC,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zp&&(Zp&&e.type==="mousemove"?(Db=e.screenX-Zp.screenX,zb=e.screenY-Zp.screenY):zb=Db=0,Zp=e),Db)},movementY:function(e){return"movementY"in e?e.movementY:zb}}),lI=us(__),gB=Ur({},__,{dataTransfer:0}),yB=us(gB),vB=Ur({},Ag,{relatedTarget:0}),Lb=us(vB),_B=Ur({},Df,{animationName:0,elapsedTime:0,pseudoElement:0}),xB=us(_B),bB=Ur({},Df,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wB=us(bB),SB=Ur({},Df,{data:0}),cI=us(SB),CB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EB(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kB[e])?!!t[e]:!1}function hC(){return EB}var PB=Ur({},Ag,{key:function(e){if(e.key){var t=CB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Uv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?TB[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hC,charCode:function(e){return e.type==="keypress"?Uv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Uv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),IB=us(PB),MB=Ur({},__,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uI=us(MB),RB=Ur({},Ag,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hC}),AB=us(RB),OB=Ur({},Df,{propertyName:0,elapsedTime:0,pseudoElement:0}),DB=us(OB),zB=Ur({},__,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),LB=us(zB),$B=[9,13,27,32],fC=Ml&&"CompositionEvent"in window,Mm=null;Ml&&"documentMode"in document&&(Mm=document.documentMode);var NB=Ml&&"TextEvent"in window&&!Mm,BO=Ml&&(!fC||Mm&&8<Mm&&11>=Mm),dI=String.fromCharCode(32),hI=!1;function jO(e,t){switch(e){case"keyup":return $B.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ih=!1;function FB(e,t){switch(e){case"compositionend":return UO(t);case"keypress":return t.which!==32?null:(hI=!0,dI);case"textInput":return e=t.data,e===dI&&hI?null:e;default:return null}}function BB(e,t){if(Ih)return e==="compositionend"||!fC&&jO(e,t)?(e=FO(),jv=uC=wc=null,Ih=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return BO&&t.locale!=="ko"?null:t.data;default:return null}}var jB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jB[e.type]:t==="textarea"}function VO(e,t,n,r){xO(r),t=_0(t,"onChange"),0<t.length&&(n=new dC("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rm=null,eg=null;function UB(e){eD(e,0)}function x_(e){var t=Ah(e);if(fO(t))return e}function VB(e,t){if(e==="change")return t}var WO=!1;if(Ml){var $b;if(Ml){var Nb="oninput"in document;if(!Nb){var pI=document.createElement("div");pI.setAttribute("oninput","return;"),Nb=typeof pI.oninput=="function"}$b=Nb}else $b=!1;WO=$b&&(!document.documentMode||9<document.documentMode)}function mI(){Rm&&(Rm.detachEvent("onpropertychange",qO),eg=Rm=null)}function qO(e){if(e.propertyName==="value"&&x_(eg)){var t=[];VO(t,eg,e,oC(e)),CO(UB,t)}}function WB(e,t,n){e==="focusin"?(mI(),Rm=t,eg=n,Rm.attachEvent("onpropertychange",qO)):e==="focusout"&&mI()}function qB(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return x_(eg)}function GB(e,t){if(e==="click")return x_(t)}function HB(e,t){if(e==="input"||e==="change")return x_(t)}function YB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ua=typeof Object.is=="function"?Object.is:YB;function tg(e,t){if(ua(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!sS.call(t,o)||!ua(e[o],t[o]))return!1}return!0}function gI(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yI(e,t){var n=gI(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gI(n)}}function GO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?GO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function HO(){for(var e=window,t=h0();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=h0(e.document)}return t}function pC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ZB(e){var t=HO(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&GO(n.ownerDocument.documentElement,n)){if(r!==null&&pC(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=yI(n,a);var d=yI(n,r);o&&d&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var KB=Ml&&"documentMode"in document&&11>=document.documentMode,Mh=null,TS=null,Am=null,kS=!1;function vI(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kS||Mh==null||Mh!==h0(r)||(r=Mh,"selectionStart"in r&&pC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Am&&tg(Am,r)||(Am=r,r=_0(TS,"onSelect"),0<r.length&&(t=new dC("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Mh)))}function uv(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rh={animationend:uv("Animation","AnimationEnd"),animationiteration:uv("Animation","AnimationIteration"),animationstart:uv("Animation","AnimationStart"),transitionend:uv("Transition","TransitionEnd")},Fb={},YO={};Ml&&(YO=document.createElement("div").style,"AnimationEvent"in window||(delete Rh.animationend.animation,delete Rh.animationiteration.animation,delete Rh.animationstart.animation),"TransitionEvent"in window||delete Rh.transitionend.transition);function b_(e){if(Fb[e])return Fb[e];if(!Rh[e])return e;var t=Rh[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in YO)return Fb[e]=t[n];return e}var ZO=b_("animationend"),KO=b_("animationiteration"),XO=b_("animationstart"),JO=b_("transitionend"),QO=new Map,_I="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qc(e,t){QO.set(e,t),hd(t,[e])}for(var Bb=0;Bb<_I.length;Bb++){var jb=_I[Bb],XB=jb.toLowerCase(),JB=jb[0].toUpperCase()+jb.slice(1);Qc(XB,"on"+JB)}Qc(ZO,"onAnimationEnd");Qc(KO,"onAnimationIteration");Qc(XO,"onAnimationStart");Qc("dblclick","onDoubleClick");Qc("focusin","onFocus");Qc("focusout","onBlur");Qc(JO,"onTransitionEnd");hf("onMouseEnter",["mouseout","mouseover"]);hf("onMouseLeave",["mouseout","mouseover"]);hf("onPointerEnter",["pointerout","pointerover"]);hf("onPointerLeave",["pointerout","pointerover"]);hd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hd("onBeforeInput",["compositionend","keypress","textInput","paste"]);hd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QB=new Set("cancel close invalid load scroll toggle".split(" ").concat(vm));function xI(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,XF(r,t,void 0,e),e.currentTarget=null}function eD(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var d=r.length-1;0<=d;d--){var c=r[d],y=c.instance,_=c.currentTarget;if(c=c.listener,y!==a&&o.isPropagationStopped())break e;xI(o,c,_),a=y}else for(d=0;d<r.length;d++){if(c=r[d],y=c.instance,_=c.currentTarget,c=c.listener,y!==a&&o.isPropagationStopped())break e;xI(o,c,_),a=y}}}if(p0)throw e=bS,p0=!1,bS=null,e}function gr(e,t){var n=t[RS];n===void 0&&(n=t[RS]=new Set);var r=e+"__bubble";n.has(r)||(tD(t,e,2,!1),n.add(r))}function Ub(e,t,n){var r=0;t&&(r|=4),tD(n,e,r,t)}var dv="_reactListening"+Math.random().toString(36).slice(2);function ng(e){if(!e[dv]){e[dv]=!0,lO.forEach(function(n){n!=="selectionchange"&&(QB.has(n)||Ub(n,!1,e),Ub(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dv]||(t[dv]=!0,Ub("selectionchange",!1,t))}}function tD(e,t,n,r){switch(NO(t)){case 1:var o=fB;break;case 4:o=pB;break;default:o=cC}n=o.bind(null,t,n,e),o=void 0,!xS||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Vb(e,t,n,r,o){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var c=r.stateNode.containerInfo;if(c===o||c.nodeType===8&&c.parentNode===o)break;if(d===4)for(d=r.return;d!==null;){var y=d.tag;if((y===3||y===4)&&(y=d.stateNode.containerInfo,y===o||y.nodeType===8&&y.parentNode===o))return;d=d.return}for(;c!==null;){if(d=Bu(c),d===null)return;if(y=d.tag,y===5||y===6){r=a=d;continue e}c=c.parentNode}}r=r.return}CO(function(){var _=a,C=oC(n),k=[];e:{var P=QO.get(e);if(P!==void 0){var D=dC,N=e;switch(e){case"keypress":if(Uv(n)===0)break e;case"keydown":case"keyup":D=IB;break;case"focusin":N="focus",D=Lb;break;case"focusout":N="blur",D=Lb;break;case"beforeblur":case"afterblur":D=Lb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=lI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=yB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=AB;break;case ZO:case KO:case XO:D=xB;break;case JO:D=DB;break;case"scroll":D=mB;break;case"wheel":D=LB;break;case"copy":case"cut":case"paste":D=wB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=uI}var M=(t&4)!==0,$=!M&&e==="scroll",A=M?P!==null?P+"Capture":null:P;M=[];for(var O=_,z;O!==null;){z=O;var q=z.stateNode;if(z.tag===5&&q!==null&&(z=q,A!==null&&(q=Km(O,A),q!=null&&M.push(rg(O,q,z)))),$)break;O=O.return}0<M.length&&(P=new D(P,N,null,n,C),k.push({event:P,listeners:M}))}}if(!(t&7)){e:{if(P=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",P&&n!==vS&&(N=n.relatedTarget||n.fromElement)&&(Bu(N)||N[Rl]))break e;if((D||P)&&(P=C.window===C?C:(P=C.ownerDocument)?P.defaultView||P.parentWindow:window,D?(N=n.relatedTarget||n.toElement,D=_,N=N?Bu(N):null,N!==null&&($=fd(N),N!==$||N.tag!==5&&N.tag!==6)&&(N=null)):(D=null,N=_),D!==N)){if(M=lI,q="onMouseLeave",A="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(M=uI,q="onPointerLeave",A="onPointerEnter",O="pointer"),$=D==null?P:Ah(D),z=N==null?P:Ah(N),P=new M(q,O+"leave",D,n,C),P.target=$,P.relatedTarget=z,q=null,Bu(C)===_&&(M=new M(A,O+"enter",N,n,C),M.target=z,M.relatedTarget=$,q=M),$=q,D&&N)t:{for(M=D,A=N,O=0,z=M;z;z=dh(z))O++;for(z=0,q=A;q;q=dh(q))z++;for(;0<O-z;)M=dh(M),O--;for(;0<z-O;)A=dh(A),z--;for(;O--;){if(M===A||A!==null&&M===A.alternate)break t;M=dh(M),A=dh(A)}M=null}else M=null;D!==null&&bI(k,P,D,M,!1),N!==null&&$!==null&&bI(k,$,N,M,!0)}}e:{if(P=_?Ah(_):window,D=P.nodeName&&P.nodeName.toLowerCase(),D==="select"||D==="input"&&P.type==="file")var Y=VB;else if(fI(P))if(WO)Y=HB;else{Y=qB;var J=WB}else(D=P.nodeName)&&D.toLowerCase()==="input"&&(P.type==="checkbox"||P.type==="radio")&&(Y=GB);if(Y&&(Y=Y(e,_))){VO(k,Y,n,C);break e}J&&J(e,P,_),e==="focusout"&&(J=P._wrapperState)&&J.controlled&&P.type==="number"&&fS(P,"number",P.value)}switch(J=_?Ah(_):window,e){case"focusin":(fI(J)||J.contentEditable==="true")&&(Mh=J,TS=_,Am=null);break;case"focusout":Am=TS=Mh=null;break;case"mousedown":kS=!0;break;case"contextmenu":case"mouseup":case"dragend":kS=!1,vI(k,n,C);break;case"selectionchange":if(KB)break;case"keydown":case"keyup":vI(k,n,C)}var te;if(fC)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Ih?jO(e,n)&&(ge="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ge="onCompositionStart");ge&&(BO&&n.locale!=="ko"&&(Ih||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Ih&&(te=FO()):(wc=C,uC="value"in wc?wc.value:wc.textContent,Ih=!0)),J=_0(_,ge),0<J.length&&(ge=new cI(ge,e,null,n,C),k.push({event:ge,listeners:J}),te?ge.data=te:(te=UO(n),te!==null&&(ge.data=te)))),(te=NB?FB(e,n):BB(e,n))&&(_=_0(_,"onBeforeInput"),0<_.length&&(C=new cI("onBeforeInput","beforeinput",null,n,C),k.push({event:C,listeners:_}),C.data=te))}eD(k,t)})}function rg(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _0(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=Km(e,n),a!=null&&r.unshift(rg(e,a,o)),a=Km(e,t),a!=null&&r.push(rg(e,a,o))),e=e.return}return r}function dh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bI(e,t,n,r,o){for(var a=t._reactName,d=[];n!==null&&n!==r;){var c=n,y=c.alternate,_=c.stateNode;if(y!==null&&y===r)break;c.tag===5&&_!==null&&(c=_,o?(y=Km(n,a),y!=null&&d.unshift(rg(n,y,c))):o||(y=Km(n,a),y!=null&&d.push(rg(n,y,c)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var ej=/\r\n?/g,tj=/\u0000|\uFFFD/g;function wI(e){return(typeof e=="string"?e:""+e).replace(ej,`
`).replace(tj,"")}function hv(e,t,n){if(t=wI(t),wI(e)!==t&&n)throw Error(ut(425))}function x0(){}var ES=null,PS=null;function IS(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var MS=typeof setTimeout=="function"?setTimeout:void 0,nj=typeof clearTimeout=="function"?clearTimeout:void 0,SI=typeof Promise=="function"?Promise:void 0,rj=typeof queueMicrotask=="function"?queueMicrotask:typeof SI<"u"?function(e){return SI.resolve(null).then(e).catch(ij)}:MS;function ij(e){setTimeout(function(){throw e})}function Wb(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Qm(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Qm(t)}function Oc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function CI(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var zf=Math.random().toString(36).slice(2),Oa="__reactFiber$"+zf,ig="__reactProps$"+zf,Rl="__reactContainer$"+zf,RS="__reactEvents$"+zf,oj="__reactListeners$"+zf,sj="__reactHandles$"+zf;function Bu(e){var t=e[Oa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rl]||n[Oa]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=CI(e);e!==null;){if(n=e[Oa])return n;e=CI(e)}return t}e=n,n=e.parentNode}return null}function Og(e){return e=e[Oa]||e[Rl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ah(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ut(33))}function w_(e){return e[ig]||null}var AS=[],Oh=-1;function eu(e){return{current:e}}function yr(e){0>Oh||(e.current=AS[Oh],AS[Oh]=null,Oh--)}function ur(e,t){Oh++,AS[Oh]=e.current,e.current=t}var Gc={},to=eu(Gc),zo=eu(!1),Qu=Gc;function ff(e,t){var n=e.type.contextTypes;if(!n)return Gc;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Lo(e){return e=e.childContextTypes,e!=null}function b0(){yr(zo),yr(to)}function TI(e,t,n){if(to.current!==Gc)throw Error(ut(168));ur(to,t),ur(zo,n)}function nD(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(ut(108,WF(e)||"Unknown",o));return Ur({},n,r)}function w0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gc,Qu=to.current,ur(to,e),ur(zo,zo.current),!0}function kI(e,t,n){var r=e.stateNode;if(!r)throw Error(ut(169));n?(e=nD(e,t,Qu),r.__reactInternalMemoizedMergedChildContext=e,yr(zo),yr(to),ur(to,e)):yr(zo),ur(zo,n)}var xl=null,S_=!1,qb=!1;function rD(e){xl===null?xl=[e]:xl.push(e)}function aj(e){S_=!0,rD(e)}function tu(){if(!qb&&xl!==null){qb=!0;var e=0,t=Kn;try{var n=xl;for(Kn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}xl=null,S_=!1}catch(o){throw xl!==null&&(xl=xl.slice(e+1)),PO(sC,tu),o}finally{Kn=t,qb=!1}}return null}var Dh=[],zh=0,S0=null,C0=0,bs=[],ws=0,ed=null,wl=1,Sl="";function Au(e,t){Dh[zh++]=C0,Dh[zh++]=S0,S0=e,C0=t}function iD(e,t,n){bs[ws++]=wl,bs[ws++]=Sl,bs[ws++]=ed,ed=e;var r=wl;e=Sl;var o=32-la(r)-1;r&=~(1<<o),n+=1;var a=32-la(t)+o;if(30<a){var d=o-o%5;a=(r&(1<<d)-1).toString(32),r>>=d,o-=d,wl=1<<32-la(t)+o|n<<o|r,Sl=a+e}else wl=1<<a|n<<o|r,Sl=e}function mC(e){e.return!==null&&(Au(e,1),iD(e,1,0))}function gC(e){for(;e===S0;)S0=Dh[--zh],Dh[zh]=null,C0=Dh[--zh],Dh[zh]=null;for(;e===ed;)ed=bs[--ws],bs[ws]=null,Sl=bs[--ws],bs[ws]=null,wl=bs[--ws],bs[ws]=null}var rs=null,ns=null,Pr=!1,ra=null;function oD(e,t){var n=Ts(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function EI(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rs=e,ns=Oc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rs=e,ns=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ed!==null?{id:wl,overflow:Sl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ts(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,rs=e,ns=null,!0):!1;default:return!1}}function OS(e){return(e.mode&1)!==0&&(e.flags&128)===0}function DS(e){if(Pr){var t=ns;if(t){var n=t;if(!EI(e,t)){if(OS(e))throw Error(ut(418));t=Oc(n.nextSibling);var r=rs;t&&EI(e,t)?oD(r,n):(e.flags=e.flags&-4097|2,Pr=!1,rs=e)}}else{if(OS(e))throw Error(ut(418));e.flags=e.flags&-4097|2,Pr=!1,rs=e}}}function PI(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rs=e}function fv(e){if(e!==rs)return!1;if(!Pr)return PI(e),Pr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!IS(e.type,e.memoizedProps)),t&&(t=ns)){if(OS(e))throw sD(),Error(ut(418));for(;t;)oD(e,t),t=Oc(t.nextSibling)}if(PI(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ut(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ns=Oc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ns=null}}else ns=rs?Oc(e.stateNode.nextSibling):null;return!0}function sD(){for(var e=ns;e;)e=Oc(e.nextSibling)}function pf(){ns=rs=null,Pr=!1}function yC(e){ra===null?ra=[e]:ra.push(e)}var lj=Bl.ReactCurrentBatchConfig;function ta(e,t){if(e&&e.defaultProps){t=Ur({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var T0=eu(null),k0=null,Lh=null,vC=null;function _C(){vC=Lh=k0=null}function xC(e){var t=T0.current;yr(T0),e._currentValue=t}function zS(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Jh(e,t){k0=e,vC=Lh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Do=!0),e.firstContext=null)}function Ms(e){var t=e._currentValue;if(vC!==e)if(e={context:e,memoizedValue:t,next:null},Lh===null){if(k0===null)throw Error(ut(308));Lh=e,k0.dependencies={lanes:0,firstContext:e}}else Lh=Lh.next=e;return t}var ju=null;function bC(e){ju===null?ju=[e]:ju.push(e)}function aD(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,bC(t)):(n.next=o.next,o.next=n),t.interleaved=n,Al(e,r)}function Al(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var vc=!1;function wC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lD(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dc(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,An&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Al(e,n)}return o=r.interleaved,o===null?(t.next=t,bC(r)):(t.next=o.next,o.next=t),r.interleaved=t,Al(e,n)}function Vv(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,aC(e,n)}}function II(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=d:a=a.next=d,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function E0(e,t,n,r){var o=e.updateQueue;vc=!1;var a=o.firstBaseUpdate,d=o.lastBaseUpdate,c=o.shared.pending;if(c!==null){o.shared.pending=null;var y=c,_=y.next;y.next=null,d===null?a=_:d.next=_,d=y;var C=e.alternate;C!==null&&(C=C.updateQueue,c=C.lastBaseUpdate,c!==d&&(c===null?C.firstBaseUpdate=_:c.next=_,C.lastBaseUpdate=y))}if(a!==null){var k=o.baseState;d=0,C=_=y=null,c=a;do{var P=c.lane,D=c.eventTime;if((r&P)===P){C!==null&&(C=C.next={eventTime:D,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var N=e,M=c;switch(P=t,D=n,M.tag){case 1:if(N=M.payload,typeof N=="function"){k=N.call(D,k,P);break e}k=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=M.payload,P=typeof N=="function"?N.call(D,k,P):N,P==null)break e;k=Ur({},k,P);break e;case 2:vc=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,P=o.effects,P===null?o.effects=[c]:P.push(c))}else D={eventTime:D,lane:P,tag:c.tag,payload:c.payload,callback:c.callback,next:null},C===null?(_=C=D,y=k):C=C.next=D,d|=P;if(c=c.next,c===null){if(c=o.shared.pending,c===null)break;P=c,c=P.next,P.next=null,o.lastBaseUpdate=P,o.shared.pending=null}}while(1);if(C===null&&(y=k),o.baseState=y,o.firstBaseUpdate=_,o.lastBaseUpdate=C,t=o.shared.interleaved,t!==null){o=t;do d|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);nd|=d,e.lanes=d,e.memoizedState=k}}function MI(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(ut(191,o));o.call(r)}}}var cD=new aO.Component().refs;function LS(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ur({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var C_={isMounted:function(e){return(e=e._reactInternals)?fd(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_o(),o=Lc(e),a=Pl(r,o);a.payload=t,n!=null&&(a.callback=n),t=Dc(e,a,o),t!==null&&(ca(t,e,o,r),Vv(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_o(),o=Lc(e),a=Pl(r,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Dc(e,a,o),t!==null&&(ca(t,e,o,r),Vv(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_o(),r=Lc(e),o=Pl(n,r);o.tag=2,t!=null&&(o.callback=t),t=Dc(e,o,r),t!==null&&(ca(t,e,r,n),Vv(t,e,r))}};function RI(e,t,n,r,o,a,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,d):t.prototype&&t.prototype.isPureReactComponent?!tg(n,r)||!tg(o,a):!0}function uD(e,t,n){var r=!1,o=Gc,a=t.contextType;return typeof a=="object"&&a!==null?a=Ms(a):(o=Lo(t)?Qu:to.current,r=t.contextTypes,a=(r=r!=null)?ff(e,o):Gc),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=C_,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function AI(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&C_.enqueueReplaceState(t,t.state,null)}function $S(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=cD,wC(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=Ms(a):(a=Lo(t)?Qu:to.current,o.context=ff(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(LS(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&C_.enqueueReplaceState(o,o.state,null),E0(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Kp(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ut(309));var r=n.stateNode}if(!r)throw Error(ut(147,e));var o=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(d){var c=o.refs;c===cD&&(c=o.refs={}),d===null?delete c[a]:c[a]=d},t._stringRef=a,t)}if(typeof e!="string")throw Error(ut(284));if(!n._owner)throw Error(ut(290,e))}return e}function pv(e,t){throw e=Object.prototype.toString.call(t),Error(ut(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function OI(e){var t=e._init;return t(e._payload)}function dD(e){function t(A,O){if(e){var z=A.deletions;z===null?(A.deletions=[O],A.flags|=16):z.push(O)}}function n(A,O){if(!e)return null;for(;O!==null;)t(A,O),O=O.sibling;return null}function r(A,O){for(A=new Map;O!==null;)O.key!==null?A.set(O.key,O):A.set(O.index,O),O=O.sibling;return A}function o(A,O){return A=$c(A,O),A.index=0,A.sibling=null,A}function a(A,O,z){return A.index=z,e?(z=A.alternate,z!==null?(z=z.index,z<O?(A.flags|=2,O):z):(A.flags|=2,O)):(A.flags|=1048576,O)}function d(A){return e&&A.alternate===null&&(A.flags|=2),A}function c(A,O,z,q){return O===null||O.tag!==6?(O=Jb(z,A.mode,q),O.return=A,O):(O=o(O,z),O.return=A,O)}function y(A,O,z,q){var Y=z.type;return Y===Ph?C(A,O,z.props.children,q,z.key):O!==null&&(O.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===yc&&OI(Y)===O.type)?(q=o(O,z.props),q.ref=Kp(A,O,z),q.return=A,q):(q=Zv(z.type,z.key,z.props,null,A.mode,q),q.ref=Kp(A,O,z),q.return=A,q)}function _(A,O,z,q){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=Qb(z,A.mode,q),O.return=A,O):(O=o(O,z.children||[]),O.return=A,O)}function C(A,O,z,q,Y){return O===null||O.tag!==7?(O=Yu(z,A.mode,q,Y),O.return=A,O):(O=o(O,z),O.return=A,O)}function k(A,O,z){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Jb(""+O,A.mode,z),O.return=A,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case rv:return z=Zv(O.type,O.key,O.props,null,A.mode,z),z.ref=Kp(A,null,O),z.return=A,z;case Eh:return O=Qb(O,A.mode,z),O.return=A,O;case yc:var q=O._init;return k(A,q(O._payload),z)}if(gm(O)||qp(O))return O=Yu(O,A.mode,z,null),O.return=A,O;pv(A,O)}return null}function P(A,O,z,q){var Y=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return Y!==null?null:c(A,O,""+z,q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case rv:return z.key===Y?y(A,O,z,q):null;case Eh:return z.key===Y?_(A,O,z,q):null;case yc:return Y=z._init,P(A,O,Y(z._payload),q)}if(gm(z)||qp(z))return Y!==null?null:C(A,O,z,q,null);pv(A,z)}return null}function D(A,O,z,q,Y){if(typeof q=="string"&&q!==""||typeof q=="number")return A=A.get(z)||null,c(O,A,""+q,Y);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case rv:return A=A.get(q.key===null?z:q.key)||null,y(O,A,q,Y);case Eh:return A=A.get(q.key===null?z:q.key)||null,_(O,A,q,Y);case yc:var J=q._init;return D(A,O,z,J(q._payload),Y)}if(gm(q)||qp(q))return A=A.get(z)||null,C(O,A,q,Y,null);pv(O,q)}return null}function N(A,O,z,q){for(var Y=null,J=null,te=O,ge=O=0,Pe=null;te!==null&&ge<z.length;ge++){te.index>ge?(Pe=te,te=null):Pe=te.sibling;var ye=P(A,te,z[ge],q);if(ye===null){te===null&&(te=Pe);break}e&&te&&ye.alternate===null&&t(A,te),O=a(ye,O,ge),J===null?Y=ye:J.sibling=ye,J=ye,te=Pe}if(ge===z.length)return n(A,te),Pr&&Au(A,ge),Y;if(te===null){for(;ge<z.length;ge++)te=k(A,z[ge],q),te!==null&&(O=a(te,O,ge),J===null?Y=te:J.sibling=te,J=te);return Pr&&Au(A,ge),Y}for(te=r(A,te);ge<z.length;ge++)Pe=D(te,A,ge,z[ge],q),Pe!==null&&(e&&Pe.alternate!==null&&te.delete(Pe.key===null?ge:Pe.key),O=a(Pe,O,ge),J===null?Y=Pe:J.sibling=Pe,J=Pe);return e&&te.forEach(function(Ne){return t(A,Ne)}),Pr&&Au(A,ge),Y}function M(A,O,z,q){var Y=qp(z);if(typeof Y!="function")throw Error(ut(150));if(z=Y.call(z),z==null)throw Error(ut(151));for(var J=Y=null,te=O,ge=O=0,Pe=null,ye=z.next();te!==null&&!ye.done;ge++,ye=z.next()){te.index>ge?(Pe=te,te=null):Pe=te.sibling;var Ne=P(A,te,ye.value,q);if(Ne===null){te===null&&(te=Pe);break}e&&te&&Ne.alternate===null&&t(A,te),O=a(Ne,O,ge),J===null?Y=Ne:J.sibling=Ne,J=Ne,te=Pe}if(ye.done)return n(A,te),Pr&&Au(A,ge),Y;if(te===null){for(;!ye.done;ge++,ye=z.next())ye=k(A,ye.value,q),ye!==null&&(O=a(ye,O,ge),J===null?Y=ye:J.sibling=ye,J=ye);return Pr&&Au(A,ge),Y}for(te=r(A,te);!ye.done;ge++,ye=z.next())ye=D(te,A,ge,ye.value,q),ye!==null&&(e&&ye.alternate!==null&&te.delete(ye.key===null?ge:ye.key),O=a(ye,O,ge),J===null?Y=ye:J.sibling=ye,J=ye);return e&&te.forEach(function(Ve){return t(A,Ve)}),Pr&&Au(A,ge),Y}function $(A,O,z,q){if(typeof z=="object"&&z!==null&&z.type===Ph&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case rv:e:{for(var Y=z.key,J=O;J!==null;){if(J.key===Y){if(Y=z.type,Y===Ph){if(J.tag===7){n(A,J.sibling),O=o(J,z.props.children),O.return=A,A=O;break e}}else if(J.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===yc&&OI(Y)===J.type){n(A,J.sibling),O=o(J,z.props),O.ref=Kp(A,J,z),O.return=A,A=O;break e}n(A,J);break}else t(A,J);J=J.sibling}z.type===Ph?(O=Yu(z.props.children,A.mode,q,z.key),O.return=A,A=O):(q=Zv(z.type,z.key,z.props,null,A.mode,q),q.ref=Kp(A,O,z),q.return=A,A=q)}return d(A);case Eh:e:{for(J=z.key;O!==null;){if(O.key===J)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){n(A,O.sibling),O=o(O,z.children||[]),O.return=A,A=O;break e}else{n(A,O);break}else t(A,O);O=O.sibling}O=Qb(z,A.mode,q),O.return=A,A=O}return d(A);case yc:return J=z._init,$(A,O,J(z._payload),q)}if(gm(z))return N(A,O,z,q);if(qp(z))return M(A,O,z,q);pv(A,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,O!==null&&O.tag===6?(n(A,O.sibling),O=o(O,z),O.return=A,A=O):(n(A,O),O=Jb(z,A.mode,q),O.return=A,A=O),d(A)):n(A,O)}return $}var mf=dD(!0),hD=dD(!1),Dg={},Na=eu(Dg),og=eu(Dg),sg=eu(Dg);function Uu(e){if(e===Dg)throw Error(ut(174));return e}function SC(e,t){switch(ur(sg,t),ur(og,e),ur(Na,Dg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mS(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mS(t,e)}yr(Na),ur(Na,t)}function gf(){yr(Na),yr(og),yr(sg)}function fD(e){Uu(sg.current);var t=Uu(Na.current),n=mS(t,e.type);t!==n&&(ur(og,e),ur(Na,n))}function CC(e){og.current===e&&(yr(Na),yr(og))}var Fr=eu(0);function P0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gb=[];function TC(){for(var e=0;e<Gb.length;e++)Gb[e]._workInProgressVersionPrimary=null;Gb.length=0}var Wv=Bl.ReactCurrentDispatcher,Hb=Bl.ReactCurrentBatchConfig,td=0,jr=null,fi=null,Ti=null,I0=!1,Om=!1,ag=0,cj=0;function Gi(){throw Error(ut(321))}function kC(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ua(e[n],t[n]))return!1;return!0}function EC(e,t,n,r,o,a){if(td=a,jr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wv.current=e===null||e.memoizedState===null?fj:pj,e=n(r,o),Om){a=0;do{if(Om=!1,ag=0,25<=a)throw Error(ut(301));a+=1,Ti=fi=null,t.updateQueue=null,Wv.current=mj,e=n(r,o)}while(Om)}if(Wv.current=M0,t=fi!==null&&fi.next!==null,td=0,Ti=fi=jr=null,I0=!1,t)throw Error(ut(300));return e}function PC(){var e=ag!==0;return ag=0,e}function Ma(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ti===null?jr.memoizedState=Ti=e:Ti=Ti.next=e,Ti}function Rs(){if(fi===null){var e=jr.alternate;e=e!==null?e.memoizedState:null}else e=fi.next;var t=Ti===null?jr.memoizedState:Ti.next;if(t!==null)Ti=t,fi=e;else{if(e===null)throw Error(ut(310));fi=e,e={memoizedState:fi.memoizedState,baseState:fi.baseState,baseQueue:fi.baseQueue,queue:fi.queue,next:null},Ti===null?jr.memoizedState=Ti=e:Ti=Ti.next=e}return Ti}function lg(e,t){return typeof t=="function"?t(e):t}function Yb(e){var t=Rs(),n=t.queue;if(n===null)throw Error(ut(311));n.lastRenderedReducer=e;var r=fi,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var d=o.next;o.next=a.next,a.next=d}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var c=d=null,y=null,_=a;do{var C=_.lane;if((td&C)===C)y!==null&&(y=y.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),r=_.hasEagerState?_.eagerState:e(r,_.action);else{var k={lane:C,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};y===null?(c=y=k,d=r):y=y.next=k,jr.lanes|=C,nd|=C}_=_.next}while(_!==null&&_!==a);y===null?d=r:y.next=c,ua(r,t.memoizedState)||(Do=!0),t.memoizedState=r,t.baseState=d,t.baseQueue=y,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do a=o.lane,jr.lanes|=a,nd|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Zb(e){var t=Rs(),n=t.queue;if(n===null)throw Error(ut(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var d=o=o.next;do a=e(a,d.action),d=d.next;while(d!==o);ua(a,t.memoizedState)||(Do=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function pD(){}function mD(e,t){var n=jr,r=Rs(),o=t(),a=!ua(r.memoizedState,o);if(a&&(r.memoizedState=o,Do=!0),r=r.queue,IC(vD.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Ti!==null&&Ti.memoizedState.tag&1){if(n.flags|=2048,cg(9,yD.bind(null,n,r,o,t),void 0,null),ki===null)throw Error(ut(349));td&30||gD(n,t,o)}return o}function gD(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=jr.updateQueue,t===null?(t={lastEffect:null,stores:null},jr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yD(e,t,n,r){t.value=n,t.getSnapshot=r,_D(t)&&xD(e)}function vD(e,t,n){return n(function(){_D(t)&&xD(e)})}function _D(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ua(e,n)}catch{return!0}}function xD(e){var t=Al(e,1);t!==null&&ca(t,e,1,-1)}function DI(e){var t=Ma();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lg,lastRenderedState:e},t.queue=e,e=e.dispatch=hj.bind(null,jr,e),[t.memoizedState,e]}function cg(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=jr.updateQueue,t===null?(t={lastEffect:null,stores:null},jr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function bD(){return Rs().memoizedState}function qv(e,t,n,r){var o=Ma();jr.flags|=e,o.memoizedState=cg(1|t,n,void 0,r===void 0?null:r)}function T_(e,t,n,r){var o=Rs();r=r===void 0?null:r;var a=void 0;if(fi!==null){var d=fi.memoizedState;if(a=d.destroy,r!==null&&kC(r,d.deps)){o.memoizedState=cg(t,n,a,r);return}}jr.flags|=e,o.memoizedState=cg(1|t,n,a,r)}function zI(e,t){return qv(8390656,8,e,t)}function IC(e,t){return T_(2048,8,e,t)}function wD(e,t){return T_(4,2,e,t)}function SD(e,t){return T_(4,4,e,t)}function CD(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function TD(e,t,n){return n=n!=null?n.concat([e]):null,T_(4,4,CD.bind(null,t,e),n)}function MC(){}function kD(e,t){var n=Rs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kC(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ED(e,t){var n=Rs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kC(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function PD(e,t,n){return td&21?(ua(n,t)||(n=RO(),jr.lanes|=n,nd|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Do=!0),e.memoizedState=n)}function uj(e,t){var n=Kn;Kn=n!==0&&4>n?n:4,e(!0);var r=Hb.transition;Hb.transition={};try{e(!1),t()}finally{Kn=n,Hb.transition=r}}function ID(){return Rs().memoizedState}function dj(e,t,n){var r=Lc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},MD(e))RD(t,n);else if(n=aD(e,t,n,r),n!==null){var o=_o();ca(n,e,r,o),AD(n,t,r)}}function hj(e,t,n){var r=Lc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(MD(e))RD(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var d=t.lastRenderedState,c=a(d,n);if(o.hasEagerState=!0,o.eagerState=c,ua(c,d)){var y=t.interleaved;y===null?(o.next=o,bC(t)):(o.next=y.next,y.next=o),t.interleaved=o;return}}catch{}finally{}n=aD(e,t,o,r),n!==null&&(o=_o(),ca(n,e,r,o),AD(n,t,r))}}function MD(e){var t=e.alternate;return e===jr||t!==null&&t===jr}function RD(e,t){Om=I0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function AD(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,aC(e,n)}}var M0={readContext:Ms,useCallback:Gi,useContext:Gi,useEffect:Gi,useImperativeHandle:Gi,useInsertionEffect:Gi,useLayoutEffect:Gi,useMemo:Gi,useReducer:Gi,useRef:Gi,useState:Gi,useDebugValue:Gi,useDeferredValue:Gi,useTransition:Gi,useMutableSource:Gi,useSyncExternalStore:Gi,useId:Gi,unstable_isNewReconciler:!1},fj={readContext:Ms,useCallback:function(e,t){return Ma().memoizedState=[e,t===void 0?null:t],e},useContext:Ms,useEffect:zI,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,qv(4194308,4,CD.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qv(4194308,4,e,t)},useInsertionEffect:function(e,t){return qv(4,2,e,t)},useMemo:function(e,t){var n=Ma();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ma();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=dj.bind(null,jr,e),[r.memoizedState,e]},useRef:function(e){var t=Ma();return e={current:e},t.memoizedState=e},useState:DI,useDebugValue:MC,useDeferredValue:function(e){return Ma().memoizedState=e},useTransition:function(){var e=DI(!1),t=e[0];return e=uj.bind(null,e[1]),Ma().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=jr,o=Ma();if(Pr){if(n===void 0)throw Error(ut(407));n=n()}else{if(n=t(),ki===null)throw Error(ut(349));td&30||gD(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,zI(vD.bind(null,r,a,e),[e]),r.flags|=2048,cg(9,yD.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ma(),t=ki.identifierPrefix;if(Pr){var n=Sl,r=wl;n=(r&~(1<<32-la(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ag++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=cj++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pj={readContext:Ms,useCallback:kD,useContext:Ms,useEffect:IC,useImperativeHandle:TD,useInsertionEffect:wD,useLayoutEffect:SD,useMemo:ED,useReducer:Yb,useRef:bD,useState:function(){return Yb(lg)},useDebugValue:MC,useDeferredValue:function(e){var t=Rs();return PD(t,fi.memoizedState,e)},useTransition:function(){var e=Yb(lg)[0],t=Rs().memoizedState;return[e,t]},useMutableSource:pD,useSyncExternalStore:mD,useId:ID,unstable_isNewReconciler:!1},mj={readContext:Ms,useCallback:kD,useContext:Ms,useEffect:IC,useImperativeHandle:TD,useInsertionEffect:wD,useLayoutEffect:SD,useMemo:ED,useReducer:Zb,useRef:bD,useState:function(){return Zb(lg)},useDebugValue:MC,useDeferredValue:function(e){var t=Rs();return fi===null?t.memoizedState=e:PD(t,fi.memoizedState,e)},useTransition:function(){var e=Zb(lg)[0],t=Rs().memoizedState;return[e,t]},useMutableSource:pD,useSyncExternalStore:mD,useId:ID,unstable_isNewReconciler:!1};function yf(e,t){try{var n="",r=t;do n+=VF(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function Kb(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function NS(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var gj=typeof WeakMap=="function"?WeakMap:Map;function OD(e,t,n){n=Pl(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){A0||(A0=!0,YS=r),NS(e,t)},n}function DD(e,t,n){n=Pl(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){NS(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){NS(e,t),typeof r!="function"&&(zc===null?zc=new Set([this]):zc.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function LI(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new gj;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Mj.bind(null,e,t,n),t.then(e,e))}function $I(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function NI(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pl(-1,1),t.tag=2,Dc(n,t,1))),n.lanes|=1),e)}var yj=Bl.ReactCurrentOwner,Do=!1;function yo(e,t,n,r){t.child=e===null?hD(t,null,n,r):mf(t,e.child,n,r)}function FI(e,t,n,r,o){n=n.render;var a=t.ref;return Jh(t,o),r=EC(e,t,n,r,a,o),n=PC(),e!==null&&!Do?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ol(e,t,o)):(Pr&&n&&mC(t),t.flags|=1,yo(e,t,r,o),t.child)}function BI(e,t,n,r,o){if(e===null){var a=n.type;return typeof a=="function"&&!NC(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,zD(e,t,a,r,o)):(e=Zv(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var d=a.memoizedProps;if(n=n.compare,n=n!==null?n:tg,n(d,r)&&e.ref===t.ref)return Ol(e,t,o)}return t.flags|=1,e=$c(a,r),e.ref=t.ref,e.return=t,t.child=e}function zD(e,t,n,r,o){if(e!==null){var a=e.memoizedProps;if(tg(a,r)&&e.ref===t.ref)if(Do=!1,t.pendingProps=r=a,(e.lanes&o)!==0)e.flags&131072&&(Do=!0);else return t.lanes=e.lanes,Ol(e,t,o)}return FS(e,t,n,r,o)}function LD(e,t,n){var r=t.pendingProps,o=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ur(Nh,Jo),Jo|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ur(Nh,Jo),Jo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,ur(Nh,Jo),Jo|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,ur(Nh,Jo),Jo|=r;return yo(e,t,o,n),t.child}function $D(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function FS(e,t,n,r,o){var a=Lo(n)?Qu:to.current;return a=ff(t,a),Jh(t,o),n=EC(e,t,n,r,a,o),r=PC(),e!==null&&!Do?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ol(e,t,o)):(Pr&&r&&mC(t),t.flags|=1,yo(e,t,n,o),t.child)}function jI(e,t,n,r,o){if(Lo(n)){var a=!0;w0(t)}else a=!1;if(Jh(t,o),t.stateNode===null)Gv(e,t),uD(t,n,r),$S(t,n,r,o),r=!0;else if(e===null){var d=t.stateNode,c=t.memoizedProps;d.props=c;var y=d.context,_=n.contextType;typeof _=="object"&&_!==null?_=Ms(_):(_=Lo(n)?Qu:to.current,_=ff(t,_));var C=n.getDerivedStateFromProps,k=typeof C=="function"||typeof d.getSnapshotBeforeUpdate=="function";k||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(c!==r||y!==_)&&AI(t,d,r,_),vc=!1;var P=t.memoizedState;d.state=P,E0(t,r,d,o),y=t.memoizedState,c!==r||P!==y||zo.current||vc?(typeof C=="function"&&(LS(t,n,C,r),y=t.memoizedState),(c=vc||RI(t,n,c,r,P,y,_))?(k||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=y),d.props=r,d.state=y,d.context=_,r=c):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,lD(e,t),c=t.memoizedProps,_=t.type===t.elementType?c:ta(t.type,c),d.props=_,k=t.pendingProps,P=d.context,y=n.contextType,typeof y=="object"&&y!==null?y=Ms(y):(y=Lo(n)?Qu:to.current,y=ff(t,y));var D=n.getDerivedStateFromProps;(C=typeof D=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(c!==k||P!==y)&&AI(t,d,r,y),vc=!1,P=t.memoizedState,d.state=P,E0(t,r,d,o);var N=t.memoizedState;c!==k||P!==N||zo.current||vc?(typeof D=="function"&&(LS(t,n,D,r),N=t.memoizedState),(_=vc||RI(t,n,_,r,P,N,y)||!1)?(C||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,N,y),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,N,y)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||c===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=N),d.props=r,d.state=N,d.context=y,r=_):(typeof d.componentDidUpdate!="function"||c===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),r=!1)}return BS(e,t,n,r,a,o)}function BS(e,t,n,r,o,a){$D(e,t);var d=(t.flags&128)!==0;if(!r&&!d)return o&&kI(t,n,!1),Ol(e,t,a);r=t.stateNode,yj.current=t;var c=d&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&d?(t.child=mf(t,e.child,null,a),t.child=mf(t,null,c,a)):yo(e,t,c,a),t.memoizedState=r.state,o&&kI(t,n,!0),t.child}function ND(e){var t=e.stateNode;t.pendingContext?TI(e,t.pendingContext,t.pendingContext!==t.context):t.context&&TI(e,t.context,!1),SC(e,t.containerInfo)}function UI(e,t,n,r,o){return pf(),yC(o),t.flags|=256,yo(e,t,n,r),t.child}var jS={dehydrated:null,treeContext:null,retryLane:0};function US(e){return{baseLanes:e,cachePool:null,transitions:null}}function FD(e,t,n){var r=t.pendingProps,o=Fr.current,a=!1,d=(t.flags&128)!==0,c;if((c=d)||(c=e!==null&&e.memoizedState===null?!1:(o&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ur(Fr,o&1),e===null)return DS(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=r.children,e=r.fallback,a?(r=t.mode,a=t.child,d={mode:"hidden",children:d},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=d):a=P_(d,r,0,null),e=Yu(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=US(n),t.memoizedState=jS,e):RC(t,d));if(o=e.memoizedState,o!==null&&(c=o.dehydrated,c!==null))return vj(e,t,d,r,c,o,n);if(a){a=r.fallback,d=t.mode,o=e.child,c=o.sibling;var y={mode:"hidden",children:r.children};return!(d&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=y,t.deletions=null):(r=$c(o,y),r.subtreeFlags=o.subtreeFlags&14680064),c!==null?a=$c(c,a):(a=Yu(a,d,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,d=e.child.memoizedState,d=d===null?US(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},a.memoizedState=d,a.childLanes=e.childLanes&~n,t.memoizedState=jS,r}return a=e.child,e=a.sibling,r=$c(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function RC(e,t){return t=P_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function mv(e,t,n,r){return r!==null&&yC(r),mf(t,e.child,null,n),e=RC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vj(e,t,n,r,o,a,d){if(n)return t.flags&256?(t.flags&=-257,r=Kb(Error(ut(422))),mv(e,t,d,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=P_({mode:"visible",children:r.children},o,0,null),a=Yu(a,o,d,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&mf(t,e.child,null,d),t.child.memoizedState=US(d),t.memoizedState=jS,a);if(!(t.mode&1))return mv(e,t,d,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var c=r.dgst;return r=c,a=Error(ut(419)),r=Kb(a,r,void 0),mv(e,t,d,r)}if(c=(d&e.childLanes)!==0,Do||c){if(r=ki,r!==null){switch(d&-d){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|d)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,Al(e,o),ca(r,e,o,-1))}return $C(),r=Kb(Error(ut(421))),mv(e,t,d,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Rj.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,ns=Oc(o.nextSibling),rs=t,Pr=!0,ra=null,e!==null&&(bs[ws++]=wl,bs[ws++]=Sl,bs[ws++]=ed,wl=e.id,Sl=e.overflow,ed=t),t=RC(t,r.children),t.flags|=4096,t)}function VI(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),zS(e.return,t,n)}function Xb(e,t,n,r,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function BD(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(yo(e,t,r.children,n),r=Fr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&VI(e,n,t);else if(e.tag===19)VI(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ur(Fr,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&P0(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Xb(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&P0(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Xb(t,!0,n,null,a);break;case"together":Xb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ol(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),nd|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ut(153));if(t.child!==null){for(e=t.child,n=$c(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=$c(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _j(e,t,n){switch(t.tag){case 3:ND(t),pf();break;case 5:fD(t);break;case 1:Lo(t.type)&&w0(t);break;case 4:SC(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ur(T0,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ur(Fr,Fr.current&1),t.flags|=128,null):n&t.child.childLanes?FD(e,t,n):(ur(Fr,Fr.current&1),e=Ol(e,t,n),e!==null?e.sibling:null);ur(Fr,Fr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return BD(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ur(Fr,Fr.current),r)break;return null;case 22:case 23:return t.lanes=0,LD(e,t,n)}return Ol(e,t,n)}var jD,VS,UD,VD;jD=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};VS=function(){};UD=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Uu(Na.current);var a=null;switch(n){case"input":o=dS(e,o),r=dS(e,r),a=[];break;case"select":o=Ur({},o,{value:void 0}),r=Ur({},r,{value:void 0}),a=[];break;case"textarea":o=pS(e,o),r=pS(e,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=x0)}gS(n,r);var d;n=null;for(_ in o)if(!r.hasOwnProperty(_)&&o.hasOwnProperty(_)&&o[_]!=null)if(_==="style"){var c=o[_];for(d in c)c.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(Ym.hasOwnProperty(_)?a||(a=[]):(a=a||[]).push(_,null));for(_ in r){var y=r[_];if(c=o!=null?o[_]:void 0,r.hasOwnProperty(_)&&y!==c&&(y!=null||c!=null))if(_==="style")if(c){for(d in c)!c.hasOwnProperty(d)||y&&y.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in y)y.hasOwnProperty(d)&&c[d]!==y[d]&&(n||(n={}),n[d]=y[d])}else n||(a||(a=[]),a.push(_,n)),n=y;else _==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,c=c?c.__html:void 0,y!=null&&c!==y&&(a=a||[]).push(_,y)):_==="children"?typeof y!="string"&&typeof y!="number"||(a=a||[]).push(_,""+y):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(Ym.hasOwnProperty(_)?(y!=null&&_==="onScroll"&&gr("scroll",e),a||c===y||(a=[])):(a=a||[]).push(_,y))}n&&(a=a||[]).push("style",n);var _=a;(t.updateQueue=_)&&(t.flags|=4)}};VD=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xp(e,t){if(!Pr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function xj(e,t,n){var r=t.pendingProps;switch(gC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hi(t),null;case 1:return Lo(t.type)&&b0(),Hi(t),null;case 3:return r=t.stateNode,gf(),yr(zo),yr(to),TC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(fv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ra!==null&&(XS(ra),ra=null))),VS(e,t),Hi(t),null;case 5:CC(t);var o=Uu(sg.current);if(n=t.type,e!==null&&t.stateNode!=null)UD(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ut(166));return Hi(t),null}if(e=Uu(Na.current),fv(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Oa]=t,r[ig]=a,e=(t.mode&1)!==0,n){case"dialog":gr("cancel",r),gr("close",r);break;case"iframe":case"object":case"embed":gr("load",r);break;case"video":case"audio":for(o=0;o<vm.length;o++)gr(vm[o],r);break;case"source":gr("error",r);break;case"img":case"image":case"link":gr("error",r),gr("load",r);break;case"details":gr("toggle",r);break;case"input":JP(r,a),gr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},gr("invalid",r);break;case"textarea":eI(r,a),gr("invalid",r)}gS(n,a),o=null;for(var d in a)if(a.hasOwnProperty(d)){var c=a[d];d==="children"?typeof c=="string"?r.textContent!==c&&(a.suppressHydrationWarning!==!0&&hv(r.textContent,c,e),o=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&hv(r.textContent,c,e),o=["children",""+c]):Ym.hasOwnProperty(d)&&c!=null&&d==="onScroll"&&gr("scroll",r)}switch(n){case"input":iv(r),QP(r,a,!0);break;case"textarea":iv(r),tI(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=x0)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{d=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gO(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=d.createElement(n,{is:r.is}):(e=d.createElement(n),n==="select"&&(d=e,r.multiple?d.multiple=!0:r.size&&(d.size=r.size))):e=d.createElementNS(e,n),e[Oa]=t,e[ig]=r,jD(e,t,!1,!1),t.stateNode=e;e:{switch(d=yS(n,r),n){case"dialog":gr("cancel",e),gr("close",e),o=r;break;case"iframe":case"object":case"embed":gr("load",e),o=r;break;case"video":case"audio":for(o=0;o<vm.length;o++)gr(vm[o],e);o=r;break;case"source":gr("error",e),o=r;break;case"img":case"image":case"link":gr("error",e),gr("load",e),o=r;break;case"details":gr("toggle",e),o=r;break;case"input":JP(e,r),o=dS(e,r),gr("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Ur({},r,{value:void 0}),gr("invalid",e);break;case"textarea":eI(e,r),o=pS(e,r),gr("invalid",e);break;default:o=r}gS(n,o),c=o;for(a in c)if(c.hasOwnProperty(a)){var y=c[a];a==="style"?_O(e,y):a==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&yO(e,y)):a==="children"?typeof y=="string"?(n!=="textarea"||y!=="")&&Zm(e,y):typeof y=="number"&&Zm(e,""+y):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ym.hasOwnProperty(a)?y!=null&&a==="onScroll"&&gr("scroll",e):y!=null&&tC(e,a,y,d))}switch(n){case"input":iv(e),QP(e,r,!1);break;case"textarea":iv(e),tI(e);break;case"option":r.value!=null&&e.setAttribute("value",""+qc(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Yh(e,!!r.multiple,a,!1):r.defaultValue!=null&&Yh(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=x0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Hi(t),null;case 6:if(e&&t.stateNode!=null)VD(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ut(166));if(n=Uu(sg.current),Uu(Na.current),fv(t)){if(r=t.stateNode,n=t.memoizedProps,r[Oa]=t,(a=r.nodeValue!==n)&&(e=rs,e!==null))switch(e.tag){case 3:hv(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hv(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Oa]=t,t.stateNode=r}return Hi(t),null;case 13:if(yr(Fr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pr&&ns!==null&&t.mode&1&&!(t.flags&128))sD(),pf(),t.flags|=98560,a=!1;else if(a=fv(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ut(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ut(317));a[Oa]=t}else pf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Hi(t),a=!1}else ra!==null&&(XS(ra),ra=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Fr.current&1?pi===0&&(pi=3):$C())),t.updateQueue!==null&&(t.flags|=4),Hi(t),null);case 4:return gf(),VS(e,t),e===null&&ng(t.stateNode.containerInfo),Hi(t),null;case 10:return xC(t.type._context),Hi(t),null;case 17:return Lo(t.type)&&b0(),Hi(t),null;case 19:if(yr(Fr),a=t.memoizedState,a===null)return Hi(t),null;if(r=(t.flags&128)!==0,d=a.rendering,d===null)if(r)Xp(a,!1);else{if(pi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=P0(e),d!==null){for(t.flags|=128,Xp(a,!1),r=d.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,d=a.alternate,d===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,e=d.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ur(Fr,Fr.current&1|2),t.child}e=e.sibling}a.tail!==null&&ri()>vf&&(t.flags|=128,r=!0,Xp(a,!1),t.lanes=4194304)}else{if(!r)if(e=P0(d),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xp(a,!0),a.tail===null&&a.tailMode==="hidden"&&!d.alternate&&!Pr)return Hi(t),null}else 2*ri()-a.renderingStartTime>vf&&n!==1073741824&&(t.flags|=128,r=!0,Xp(a,!1),t.lanes=4194304);a.isBackwards?(d.sibling=t.child,t.child=d):(n=a.last,n!==null?n.sibling=d:t.child=d,a.last=d)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ri(),t.sibling=null,n=Fr.current,ur(Fr,r?n&1|2:n&1),t):(Hi(t),null);case 22:case 23:return LC(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Jo&1073741824&&(Hi(t),t.subtreeFlags&6&&(t.flags|=8192)):Hi(t),null;case 24:return null;case 25:return null}throw Error(ut(156,t.tag))}function bj(e,t){switch(gC(t),t.tag){case 1:return Lo(t.type)&&b0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gf(),yr(zo),yr(to),TC(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return CC(t),null;case 13:if(yr(Fr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ut(340));pf()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return yr(Fr),null;case 4:return gf(),null;case 10:return xC(t.type._context),null;case 22:case 23:return LC(),null;case 24:return null;default:return null}}var gv=!1,Ji=!1,wj=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function $h(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Zr(e,t,r)}else n.current=null}function WS(e,t,n){try{n()}catch(r){Zr(e,t,r)}}var WI=!1;function Sj(e,t){if(ES=y0,e=HO(),pC(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var d=0,c=-1,y=-1,_=0,C=0,k=e,P=null;t:for(;;){for(var D;k!==n||o!==0&&k.nodeType!==3||(c=d+o),k!==a||r!==0&&k.nodeType!==3||(y=d+r),k.nodeType===3&&(d+=k.nodeValue.length),(D=k.firstChild)!==null;)P=k,k=D;for(;;){if(k===e)break t;if(P===n&&++_===o&&(c=d),P===a&&++C===r&&(y=d),(D=k.nextSibling)!==null)break;k=P,P=k.parentNode}k=D}n=c===-1||y===-1?null:{start:c,end:y}}else n=null}n=n||{start:0,end:0}}else n=null;for(PS={focusedElem:e,selectionRange:n},y0=!1,Bt=t;Bt!==null;)if(t=Bt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Bt=e;else for(;Bt!==null;){t=Bt;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var M=N.memoizedProps,$=N.memoizedState,A=t.stateNode,O=A.getSnapshotBeforeUpdate(t.elementType===t.type?M:ta(t.type,M),$);A.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var z=t.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ut(163))}}catch(q){Zr(t,t.return,q)}if(e=t.sibling,e!==null){e.return=t.return,Bt=e;break}Bt=t.return}return N=WI,WI=!1,N}function Dm(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&WS(t,n,a)}o=o.next}while(o!==r)}}function k_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function qS(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function WD(e){var t=e.alternate;t!==null&&(e.alternate=null,WD(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Oa],delete t[ig],delete t[RS],delete t[oj],delete t[sj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qD(e){return e.tag===5||e.tag===3||e.tag===4}function qI(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qD(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function GS(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=x0));else if(r!==4&&(e=e.child,e!==null))for(GS(e,t,n),e=e.sibling;e!==null;)GS(e,t,n),e=e.sibling}function HS(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(HS(e,t,n),e=e.sibling;e!==null;)HS(e,t,n),e=e.sibling}var Ai=null,na=!1;function dc(e,t,n){for(n=n.child;n!==null;)GD(e,t,n),n=n.sibling}function GD(e,t,n){if($a&&typeof $a.onCommitFiberUnmount=="function")try{$a.onCommitFiberUnmount(v_,n)}catch{}switch(n.tag){case 5:Ji||$h(n,t);case 6:var r=Ai,o=na;Ai=null,dc(e,t,n),Ai=r,na=o,Ai!==null&&(na?(e=Ai,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ai.removeChild(n.stateNode));break;case 18:Ai!==null&&(na?(e=Ai,n=n.stateNode,e.nodeType===8?Wb(e.parentNode,n):e.nodeType===1&&Wb(e,n),Qm(e)):Wb(Ai,n.stateNode));break;case 4:r=Ai,o=na,Ai=n.stateNode.containerInfo,na=!0,dc(e,t,n),Ai=r,na=o;break;case 0:case 11:case 14:case 15:if(!Ji&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,d=a.destroy;a=a.tag,d!==void 0&&(a&2||a&4)&&WS(n,t,d),o=o.next}while(o!==r)}dc(e,t,n);break;case 1:if(!Ji&&($h(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Zr(n,t,c)}dc(e,t,n);break;case 21:dc(e,t,n);break;case 22:n.mode&1?(Ji=(r=Ji)||n.memoizedState!==null,dc(e,t,n),Ji=r):dc(e,t,n);break;default:dc(e,t,n)}}function GI(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new wj),t.forEach(function(r){var o=Aj.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Xs(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,d=t,c=d;e:for(;c!==null;){switch(c.tag){case 5:Ai=c.stateNode,na=!1;break e;case 3:Ai=c.stateNode.containerInfo,na=!0;break e;case 4:Ai=c.stateNode.containerInfo,na=!0;break e}c=c.return}if(Ai===null)throw Error(ut(160));GD(a,d,o),Ai=null,na=!1;var y=o.alternate;y!==null&&(y.return=null),o.return=null}catch(_){Zr(o,t,_)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)HD(t,e),t=t.sibling}function HD(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xs(t,e),Ia(e),r&4){try{Dm(3,e,e.return),k_(3,e)}catch(M){Zr(e,e.return,M)}try{Dm(5,e,e.return)}catch(M){Zr(e,e.return,M)}}break;case 1:Xs(t,e),Ia(e),r&512&&n!==null&&$h(n,n.return);break;case 5:if(Xs(t,e),Ia(e),r&512&&n!==null&&$h(n,n.return),e.flags&32){var o=e.stateNode;try{Zm(o,"")}catch(M){Zr(e,e.return,M)}}if(r&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,d=n!==null?n.memoizedProps:a,c=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&pO(o,a),yS(c,d);var _=yS(c,a);for(d=0;d<y.length;d+=2){var C=y[d],k=y[d+1];C==="style"?_O(o,k):C==="dangerouslySetInnerHTML"?yO(o,k):C==="children"?Zm(o,k):tC(o,C,k,_)}switch(c){case"input":hS(o,a);break;case"textarea":mO(o,a);break;case"select":var P=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var D=a.value;D!=null?Yh(o,!!a.multiple,D,!1):P!==!!a.multiple&&(a.defaultValue!=null?Yh(o,!!a.multiple,a.defaultValue,!0):Yh(o,!!a.multiple,a.multiple?[]:"",!1))}o[ig]=a}catch(M){Zr(e,e.return,M)}}break;case 6:if(Xs(t,e),Ia(e),r&4){if(e.stateNode===null)throw Error(ut(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(M){Zr(e,e.return,M)}}break;case 3:if(Xs(t,e),Ia(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qm(t.containerInfo)}catch(M){Zr(e,e.return,M)}break;case 4:Xs(t,e),Ia(e);break;case 13:Xs(t,e),Ia(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(DC=ri())),r&4&&GI(e);break;case 22:if(C=n!==null&&n.memoizedState!==null,e.mode&1?(Ji=(_=Ji)||C,Xs(t,e),Ji=_):Xs(t,e),Ia(e),r&8192){if(_=e.memoizedState!==null,(e.stateNode.isHidden=_)&&!C&&e.mode&1)for(Bt=e,C=e.child;C!==null;){for(k=Bt=C;Bt!==null;){switch(P=Bt,D=P.child,P.tag){case 0:case 11:case 14:case 15:Dm(4,P,P.return);break;case 1:$h(P,P.return);var N=P.stateNode;if(typeof N.componentWillUnmount=="function"){r=P,n=P.return;try{t=r,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(M){Zr(r,n,M)}}break;case 5:$h(P,P.return);break;case 22:if(P.memoizedState!==null){YI(k);continue}}D!==null?(D.return=P,Bt=D):YI(k)}C=C.sibling}e:for(C=null,k=e;;){if(k.tag===5){if(C===null){C=k;try{o=k.stateNode,_?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=k.stateNode,y=k.memoizedProps.style,d=y!=null&&y.hasOwnProperty("display")?y.display:null,c.style.display=vO("display",d))}catch(M){Zr(e,e.return,M)}}}else if(k.tag===6){if(C===null)try{k.stateNode.nodeValue=_?"":k.memoizedProps}catch(M){Zr(e,e.return,M)}}else if((k.tag!==22&&k.tag!==23||k.memoizedState===null||k===e)&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===e)break e;for(;k.sibling===null;){if(k.return===null||k.return===e)break e;C===k&&(C=null),k=k.return}C===k&&(C=null),k.sibling.return=k.return,k=k.sibling}}break;case 19:Xs(t,e),Ia(e),r&4&&GI(e);break;case 21:break;default:Xs(t,e),Ia(e)}}function Ia(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(qD(n)){var r=n;break e}n=n.return}throw Error(ut(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Zm(o,""),r.flags&=-33);var a=qI(e);HS(e,a,o);break;case 3:case 4:var d=r.stateNode.containerInfo,c=qI(e);GS(e,c,d);break;default:throw Error(ut(161))}}catch(y){Zr(e,e.return,y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cj(e,t,n){Bt=e,YD(e)}function YD(e,t,n){for(var r=(e.mode&1)!==0;Bt!==null;){var o=Bt,a=o.child;if(o.tag===22&&r){var d=o.memoizedState!==null||gv;if(!d){var c=o.alternate,y=c!==null&&c.memoizedState!==null||Ji;c=gv;var _=Ji;if(gv=d,(Ji=y)&&!_)for(Bt=o;Bt!==null;)d=Bt,y=d.child,d.tag===22&&d.memoizedState!==null?ZI(o):y!==null?(y.return=d,Bt=y):ZI(o);for(;a!==null;)Bt=a,YD(a),a=a.sibling;Bt=o,gv=c,Ji=_}HI(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,Bt=a):HI(e)}}function HI(e){for(;Bt!==null;){var t=Bt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ji||k_(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ji)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ta(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&MI(t,a,r);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}MI(t,d,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var y=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&n.focus();break;case"img":y.src&&(n.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var _=t.alternate;if(_!==null){var C=_.memoizedState;if(C!==null){var k=C.dehydrated;k!==null&&Qm(k)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ut(163))}Ji||t.flags&512&&qS(t)}catch(P){Zr(t,t.return,P)}}if(t===e){Bt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Bt=n;break}Bt=t.return}}function YI(e){for(;Bt!==null;){var t=Bt;if(t===e){Bt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Bt=n;break}Bt=t.return}}function ZI(e){for(;Bt!==null;){var t=Bt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{k_(4,t)}catch(y){Zr(t,n,y)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(y){Zr(t,o,y)}}var a=t.return;try{qS(t)}catch(y){Zr(t,a,y)}break;case 5:var d=t.return;try{qS(t)}catch(y){Zr(t,d,y)}}}catch(y){Zr(t,t.return,y)}if(t===e){Bt=null;break}var c=t.sibling;if(c!==null){c.return=t.return,Bt=c;break}Bt=t.return}}var Tj=Math.ceil,R0=Bl.ReactCurrentDispatcher,AC=Bl.ReactCurrentOwner,ks=Bl.ReactCurrentBatchConfig,An=0,ki=null,di=null,Di=0,Jo=0,Nh=eu(0),pi=0,ug=null,nd=0,E_=0,OC=0,zm=null,Ro=null,DC=0,vf=1/0,vl=null,A0=!1,YS=null,zc=null,yv=!1,Sc=null,O0=0,Lm=0,ZS=null,Hv=-1,Yv=0;function _o(){return An&6?ri():Hv!==-1?Hv:Hv=ri()}function Lc(e){return e.mode&1?An&2&&Di!==0?Di&-Di:lj.transition!==null?(Yv===0&&(Yv=RO()),Yv):(e=Kn,e!==0||(e=window.event,e=e===void 0?16:NO(e.type)),e):1}function ca(e,t,n,r){if(50<Lm)throw Lm=0,ZS=null,Error(ut(185));Rg(e,n,r),(!(An&2)||e!==ki)&&(e===ki&&(!(An&2)&&(E_|=n),pi===4&&xc(e,Di)),$o(e,r),n===1&&An===0&&!(t.mode&1)&&(vf=ri()+500,S_&&tu()))}function $o(e,t){var n=e.callbackNode;lB(e,t);var r=g0(e,e===ki?Di:0);if(r===0)n!==null&&iI(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&iI(n),t===1)e.tag===0?aj(KI.bind(null,e)):rD(KI.bind(null,e)),rj(function(){!(An&6)&&tu()}),n=null;else{switch(AO(r)){case 1:n=sC;break;case 4:n=IO;break;case 16:n=m0;break;case 536870912:n=MO;break;default:n=m0}n=nz(n,ZD.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ZD(e,t){if(Hv=-1,Yv=0,An&6)throw Error(ut(327));var n=e.callbackNode;if(Qh()&&e.callbackNode!==n)return null;var r=g0(e,e===ki?Di:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=D0(e,r);else{t=r;var o=An;An|=2;var a=XD();(ki!==e||Di!==t)&&(vl=null,vf=ri()+500,Hu(e,t));do try{Pj();break}catch(c){KD(e,c)}while(1);_C(),R0.current=a,An=o,di!==null?t=0:(ki=null,Di=0,t=pi)}if(t!==0){if(t===2&&(o=wS(e),o!==0&&(r=o,t=KS(e,o))),t===1)throw n=ug,Hu(e,0),xc(e,r),$o(e,ri()),n;if(t===6)xc(e,r);else{if(o=e.current.alternate,!(r&30)&&!kj(o)&&(t=D0(e,r),t===2&&(a=wS(e),a!==0&&(r=a,t=KS(e,a))),t===1))throw n=ug,Hu(e,0),xc(e,r),$o(e,ri()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(ut(345));case 2:Ou(e,Ro,vl);break;case 3:if(xc(e,r),(r&130023424)===r&&(t=DC+500-ri(),10<t)){if(g0(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){_o(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=MS(Ou.bind(null,e,Ro,vl),t);break}Ou(e,Ro,vl);break;case 4:if(xc(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var d=31-la(r);a=1<<d,d=t[d],d>o&&(o=d),r&=~a}if(r=o,r=ri()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tj(r/1960))-r,10<r){e.timeoutHandle=MS(Ou.bind(null,e,Ro,vl),r);break}Ou(e,Ro,vl);break;case 5:Ou(e,Ro,vl);break;default:throw Error(ut(329))}}}return $o(e,ri()),e.callbackNode===n?ZD.bind(null,e):null}function KS(e,t){var n=zm;return e.current.memoizedState.isDehydrated&&(Hu(e,t).flags|=256),e=D0(e,t),e!==2&&(t=Ro,Ro=n,t!==null&&XS(t)),e}function XS(e){Ro===null?Ro=e:Ro.push.apply(Ro,e)}function kj(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!ua(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xc(e,t){for(t&=~OC,t&=~E_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-la(t),r=1<<n;e[n]=-1,t&=~r}}function KI(e){if(An&6)throw Error(ut(327));Qh();var t=g0(e,0);if(!(t&1))return $o(e,ri()),null;var n=D0(e,t);if(e.tag!==0&&n===2){var r=wS(e);r!==0&&(t=r,n=KS(e,r))}if(n===1)throw n=ug,Hu(e,0),xc(e,t),$o(e,ri()),n;if(n===6)throw Error(ut(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ou(e,Ro,vl),$o(e,ri()),null}function zC(e,t){var n=An;An|=1;try{return e(t)}finally{An=n,An===0&&(vf=ri()+500,S_&&tu())}}function rd(e){Sc!==null&&Sc.tag===0&&!(An&6)&&Qh();var t=An;An|=1;var n=ks.transition,r=Kn;try{if(ks.transition=null,Kn=1,e)return e()}finally{Kn=r,ks.transition=n,An=t,!(An&6)&&tu()}}function LC(){Jo=Nh.current,yr(Nh)}function Hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,nj(n)),di!==null)for(n=di.return;n!==null;){var r=n;switch(gC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&b0();break;case 3:gf(),yr(zo),yr(to),TC();break;case 5:CC(r);break;case 4:gf();break;case 13:yr(Fr);break;case 19:yr(Fr);break;case 10:xC(r.type._context);break;case 22:case 23:LC()}n=n.return}if(ki=e,di=e=$c(e.current,null),Di=Jo=t,pi=0,ug=null,OC=E_=nd=0,Ro=zm=null,ju!==null){for(t=0;t<ju.length;t++)if(n=ju[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var d=a.next;a.next=o,r.next=d}n.pending=r}ju=null}return e}function KD(e,t){do{var n=di;try{if(_C(),Wv.current=M0,I0){for(var r=jr.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}I0=!1}if(td=0,Ti=fi=jr=null,Om=!1,ag=0,AC.current=null,n===null||n.return===null){pi=1,ug=t,di=null;break}e:{var a=e,d=n.return,c=n,y=t;if(t=Di,c.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var _=y,C=c,k=C.tag;if(!(C.mode&1)&&(k===0||k===11||k===15)){var P=C.alternate;P?(C.updateQueue=P.updateQueue,C.memoizedState=P.memoizedState,C.lanes=P.lanes):(C.updateQueue=null,C.memoizedState=null)}var D=$I(d);if(D!==null){D.flags&=-257,NI(D,d,c,a,t),D.mode&1&&LI(a,_,t),t=D,y=_;var N=t.updateQueue;if(N===null){var M=new Set;M.add(y),t.updateQueue=M}else N.add(y);break e}else{if(!(t&1)){LI(a,_,t),$C();break e}y=Error(ut(426))}}else if(Pr&&c.mode&1){var $=$I(d);if($!==null){!($.flags&65536)&&($.flags|=256),NI($,d,c,a,t),yC(yf(y,c));break e}}a=y=yf(y,c),pi!==4&&(pi=2),zm===null?zm=[a]:zm.push(a),a=d;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var A=OD(a,y,t);II(a,A);break e;case 1:c=y;var O=a.type,z=a.stateNode;if(!(a.flags&128)&&(typeof O.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(zc===null||!zc.has(z)))){a.flags|=65536,t&=-t,a.lanes|=t;var q=DD(a,c,t);II(a,q);break e}}a=a.return}while(a!==null)}QD(n)}catch(Y){t=Y,di===n&&n!==null&&(di=n=n.return);continue}break}while(1)}function XD(){var e=R0.current;return R0.current=M0,e===null?M0:e}function $C(){(pi===0||pi===3||pi===2)&&(pi=4),ki===null||!(nd&268435455)&&!(E_&268435455)||xc(ki,Di)}function D0(e,t){var n=An;An|=2;var r=XD();(ki!==e||Di!==t)&&(vl=null,Hu(e,t));do try{Ej();break}catch(o){KD(e,o)}while(1);if(_C(),An=n,R0.current=r,di!==null)throw Error(ut(261));return ki=null,Di=0,pi}function Ej(){for(;di!==null;)JD(di)}function Pj(){for(;di!==null&&!QF();)JD(di)}function JD(e){var t=tz(e.alternate,e,Jo);e.memoizedProps=e.pendingProps,t===null?QD(e):di=t,AC.current=null}function QD(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=bj(n,t),n!==null){n.flags&=32767,di=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pi=6,di=null;return}}else if(n=xj(n,t,Jo),n!==null){di=n;return}if(t=t.sibling,t!==null){di=t;return}di=t=e}while(t!==null);pi===0&&(pi=5)}function Ou(e,t,n){var r=Kn,o=ks.transition;try{ks.transition=null,Kn=1,Ij(e,t,n,r)}finally{ks.transition=o,Kn=r}return null}function Ij(e,t,n,r){do Qh();while(Sc!==null);if(An&6)throw Error(ut(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ut(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(cB(e,a),e===ki&&(di=ki=null,Di=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yv||(yv=!0,nz(m0,function(){return Qh(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ks.transition,ks.transition=null;var d=Kn;Kn=1;var c=An;An|=4,AC.current=null,Sj(e,n),HD(n,e),ZB(PS),y0=!!ES,PS=ES=null,e.current=n,Cj(n),eB(),An=c,Kn=d,ks.transition=a}else e.current=n;if(yv&&(yv=!1,Sc=e,O0=o),a=e.pendingLanes,a===0&&(zc=null),rB(n.stateNode),$o(e,ri()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(A0)throw A0=!1,e=YS,YS=null,e;return O0&1&&e.tag!==0&&Qh(),a=e.pendingLanes,a&1?e===ZS?Lm++:(Lm=0,ZS=e):Lm=0,tu(),null}function Qh(){if(Sc!==null){var e=AO(O0),t=ks.transition,n=Kn;try{if(ks.transition=null,Kn=16>e?16:e,Sc===null)var r=!1;else{if(e=Sc,Sc=null,O0=0,An&6)throw Error(ut(331));var o=An;for(An|=4,Bt=e.current;Bt!==null;){var a=Bt,d=a.child;if(Bt.flags&16){var c=a.deletions;if(c!==null){for(var y=0;y<c.length;y++){var _=c[y];for(Bt=_;Bt!==null;){var C=Bt;switch(C.tag){case 0:case 11:case 15:Dm(8,C,a)}var k=C.child;if(k!==null)k.return=C,Bt=k;else for(;Bt!==null;){C=Bt;var P=C.sibling,D=C.return;if(WD(C),C===_){Bt=null;break}if(P!==null){P.return=D,Bt=P;break}Bt=D}}}var N=a.alternate;if(N!==null){var M=N.child;if(M!==null){N.child=null;do{var $=M.sibling;M.sibling=null,M=$}while(M!==null)}}Bt=a}}if(a.subtreeFlags&2064&&d!==null)d.return=a,Bt=d;else e:for(;Bt!==null;){if(a=Bt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Dm(9,a,a.return)}var A=a.sibling;if(A!==null){A.return=a.return,Bt=A;break e}Bt=a.return}}var O=e.current;for(Bt=O;Bt!==null;){d=Bt;var z=d.child;if(d.subtreeFlags&2064&&z!==null)z.return=d,Bt=z;else e:for(d=O;Bt!==null;){if(c=Bt,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:k_(9,c)}}catch(Y){Zr(c,c.return,Y)}if(c===d){Bt=null;break e}var q=c.sibling;if(q!==null){q.return=c.return,Bt=q;break e}Bt=c.return}}if(An=o,tu(),$a&&typeof $a.onPostCommitFiberRoot=="function")try{$a.onPostCommitFiberRoot(v_,e)}catch{}r=!0}return r}finally{Kn=n,ks.transition=t}}return!1}function XI(e,t,n){t=yf(n,t),t=OD(e,t,1),e=Dc(e,t,1),t=_o(),e!==null&&(Rg(e,1,t),$o(e,t))}function Zr(e,t,n){if(e.tag===3)XI(e,e,n);else for(;t!==null;){if(t.tag===3){XI(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zc===null||!zc.has(r))){e=yf(n,e),e=DD(t,e,1),t=Dc(t,e,1),e=_o(),t!==null&&(Rg(t,1,e),$o(t,e));break}}t=t.return}}function Mj(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=_o(),e.pingedLanes|=e.suspendedLanes&n,ki===e&&(Di&n)===n&&(pi===4||pi===3&&(Di&130023424)===Di&&500>ri()-DC?Hu(e,0):OC|=n),$o(e,t)}function ez(e,t){t===0&&(e.mode&1?(t=av,av<<=1,!(av&130023424)&&(av=4194304)):t=1);var n=_o();e=Al(e,t),e!==null&&(Rg(e,t,n),$o(e,n))}function Rj(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ez(e,n)}function Aj(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ut(314))}r!==null&&r.delete(t),ez(e,n)}var tz;tz=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||zo.current)Do=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Do=!1,_j(e,t,n);Do=!!(e.flags&131072)}else Do=!1,Pr&&t.flags&1048576&&iD(t,C0,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gv(e,t),e=t.pendingProps;var o=ff(t,to.current);Jh(t,n),o=EC(null,t,r,e,o,n);var a=PC();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lo(r)?(a=!0,w0(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,wC(t),o.updater=C_,t.stateNode=o,o._reactInternals=t,$S(t,r,e,n),t=BS(null,t,r,!0,a,n)):(t.tag=0,Pr&&a&&mC(t),yo(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gv(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Dj(r),e=ta(r,e),o){case 0:t=FS(null,t,r,e,n);break e;case 1:t=jI(null,t,r,e,n);break e;case 11:t=FI(null,t,r,e,n);break e;case 14:t=BI(null,t,r,ta(r.type,e),n);break e}throw Error(ut(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ta(r,o),FS(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ta(r,o),jI(e,t,r,o,n);case 3:e:{if(ND(t),e===null)throw Error(ut(387));r=t.pendingProps,a=t.memoizedState,o=a.element,lD(e,t),E0(t,r,null,n);var d=t.memoizedState;if(r=d.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=yf(Error(ut(423)),t),t=UI(e,t,r,n,o);break e}else if(r!==o){o=yf(Error(ut(424)),t),t=UI(e,t,r,n,o);break e}else for(ns=Oc(t.stateNode.containerInfo.firstChild),rs=t,Pr=!0,ra=null,n=hD(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pf(),r===o){t=Ol(e,t,n);break e}yo(e,t,r,n)}t=t.child}return t;case 5:return fD(t),e===null&&DS(t),r=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,d=o.children,IS(r,o)?d=null:a!==null&&IS(r,a)&&(t.flags|=32),$D(e,t),yo(e,t,d,n),t.child;case 6:return e===null&&DS(t),null;case 13:return FD(e,t,n);case 4:return SC(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=mf(t,null,r,n):yo(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ta(r,o),FI(e,t,r,o,n);case 7:return yo(e,t,t.pendingProps,n),t.child;case 8:return yo(e,t,t.pendingProps.children,n),t.child;case 12:return yo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,d=o.value,ur(T0,r._currentValue),r._currentValue=d,a!==null)if(ua(a.value,d)){if(a.children===o.children&&!zo.current){t=Ol(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){d=a.child;for(var y=c.firstContext;y!==null;){if(y.context===r){if(a.tag===1){y=Pl(-1,n&-n),y.tag=2;var _=a.updateQueue;if(_!==null){_=_.shared;var C=_.pending;C===null?y.next=y:(y.next=C.next,C.next=y),_.pending=y}}a.lanes|=n,y=a.alternate,y!==null&&(y.lanes|=n),zS(a.return,n,t),c.lanes|=n;break}y=y.next}}else if(a.tag===10)d=a.type===t.type?null:a.child;else if(a.tag===18){if(d=a.return,d===null)throw Error(ut(341));d.lanes|=n,c=d.alternate,c!==null&&(c.lanes|=n),zS(d,n,t),d=a.sibling}else d=a.child;if(d!==null)d.return=a;else for(d=a;d!==null;){if(d===t){d=null;break}if(a=d.sibling,a!==null){a.return=d.return,d=a;break}d=d.return}a=d}yo(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Jh(t,n),o=Ms(o),r=r(o),t.flags|=1,yo(e,t,r,n),t.child;case 14:return r=t.type,o=ta(r,t.pendingProps),o=ta(r.type,o),BI(e,t,r,o,n);case 15:return zD(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ta(r,o),Gv(e,t),t.tag=1,Lo(r)?(e=!0,w0(t)):e=!1,Jh(t,n),uD(t,r,o),$S(t,r,o,n),BS(null,t,r,!0,e,n);case 19:return BD(e,t,n);case 22:return LD(e,t,n)}throw Error(ut(156,t.tag))};function nz(e,t){return PO(e,t)}function Oj(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ts(e,t,n,r){return new Oj(e,t,n,r)}function NC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dj(e){if(typeof e=="function")return NC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rC)return 11;if(e===iC)return 14}return 2}function $c(e,t){var n=e.alternate;return n===null?(n=Ts(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zv(e,t,n,r,o,a){var d=2;if(r=e,typeof e=="function")NC(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case Ph:return Yu(n.children,o,a,t);case nC:d=8,o|=8;break;case aS:return e=Ts(12,n,t,o|2),e.elementType=aS,e.lanes=a,e;case lS:return e=Ts(13,n,t,o),e.elementType=lS,e.lanes=a,e;case cS:return e=Ts(19,n,t,o),e.elementType=cS,e.lanes=a,e;case dO:return P_(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cO:d=10;break e;case uO:d=9;break e;case rC:d=11;break e;case iC:d=14;break e;case yc:d=16,r=null;break e}throw Error(ut(130,e==null?e:typeof e,""))}return t=Ts(d,n,t,o),t.elementType=e,t.type=r,t.lanes=a,t}function Yu(e,t,n,r){return e=Ts(7,e,r,t),e.lanes=n,e}function P_(e,t,n,r){return e=Ts(22,e,r,t),e.elementType=dO,e.lanes=n,e.stateNode={isHidden:!1},e}function Jb(e,t,n){return e=Ts(6,e,null,t),e.lanes=n,e}function Qb(e,t,n){return t=Ts(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zj(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ob(0),this.expirationTimes=Ob(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ob(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function FC(e,t,n,r,o,a,d,c,y){return e=new zj(e,t,n,c,y),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ts(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wC(a),e}function Lj(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Eh,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function rz(e){if(!e)return Gc;e=e._reactInternals;e:{if(fd(e)!==e||e.tag!==1)throw Error(ut(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ut(171))}if(e.tag===1){var n=e.type;if(Lo(n))return nD(e,n,t)}return t}function iz(e,t,n,r,o,a,d,c,y){return e=FC(n,r,!0,e,o,a,d,c,y),e.context=rz(null),n=e.current,r=_o(),o=Lc(n),a=Pl(r,o),a.callback=t??null,Dc(n,a,o),e.current.lanes=o,Rg(e,o,r),$o(e,r),e}function I_(e,t,n,r){var o=t.current,a=_o(),d=Lc(o);return n=rz(n),t.context===null?t.context=n:t.pendingContext=n,t=Pl(a,d),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Dc(o,t,d),e!==null&&(ca(e,o,d,a),Vv(e,o,d)),d}function z0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function JI(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function BC(e,t){JI(e,t),(e=e.alternate)&&JI(e,t)}function $j(){return null}var oz=typeof reportError=="function"?reportError:function(e){console.error(e)};function jC(e){this._internalRoot=e}M_.prototype.render=jC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ut(409));I_(e,t,null,null)};M_.prototype.unmount=jC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rd(function(){I_(null,e,null,null)}),t[Rl]=null}};function M_(e){this._internalRoot=e}M_.prototype.unstable_scheduleHydration=function(e){if(e){var t=zO();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_c.length&&t!==0&&t<_c[n].priority;n++);_c.splice(n,0,e),n===0&&$O(e)}};function UC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function R_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function QI(){}function Nj(e,t,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var _=z0(d);a.call(_)}}var d=iz(t,r,e,0,null,!1,!1,"",QI);return e._reactRootContainer=d,e[Rl]=d.current,ng(e.nodeType===8?e.parentNode:e),rd(),d}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var c=r;r=function(){var _=z0(y);c.call(_)}}var y=FC(e,0,!1,null,null,!1,!1,"",QI);return e._reactRootContainer=y,e[Rl]=y.current,ng(e.nodeType===8?e.parentNode:e),rd(function(){I_(t,y,n,r)}),y}function A_(e,t,n,r,o){var a=n._reactRootContainer;if(a){var d=a;if(typeof o=="function"){var c=o;o=function(){var y=z0(d);c.call(y)}}I_(t,d,e,o)}else d=Nj(n,t,e,o,r);return z0(d)}OO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ym(t.pendingLanes);n!==0&&(aC(t,n|1),$o(t,ri()),!(An&6)&&(vf=ri()+500,tu()))}break;case 13:rd(function(){var r=Al(e,1);if(r!==null){var o=_o();ca(r,e,1,o)}}),BC(e,1)}};lC=function(e){if(e.tag===13){var t=Al(e,134217728);if(t!==null){var n=_o();ca(t,e,134217728,n)}BC(e,134217728)}};DO=function(e){if(e.tag===13){var t=Lc(e),n=Al(e,t);if(n!==null){var r=_o();ca(n,e,t,r)}BC(e,t)}};zO=function(){return Kn};LO=function(e,t){var n=Kn;try{return Kn=e,t()}finally{Kn=n}};_S=function(e,t,n){switch(t){case"input":if(hS(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=w_(r);if(!o)throw Error(ut(90));fO(r),hS(r,o)}}}break;case"textarea":mO(e,n);break;case"select":t=n.value,t!=null&&Yh(e,!!n.multiple,t,!1)}};wO=zC;SO=rd;var Fj={usingClientEntryPoint:!1,Events:[Og,Ah,w_,xO,bO,zC]},Jp={findFiberByHostInstance:Bu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Bj={bundleType:Jp.bundleType,version:Jp.version,rendererPackageName:Jp.rendererPackageName,rendererConfig:Jp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kO(e),e===null?null:e.stateNode},findFiberByHostInstance:Jp.findFiberByHostInstance||$j,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vv.isDisabled&&vv.supportsFiber)try{v_=vv.inject(Bj),$a=vv}catch{}}cs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fj;cs.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!UC(t))throw Error(ut(200));return Lj(e,t,null,n)};cs.createRoot=function(e,t){if(!UC(e))throw Error(ut(299));var n=!1,r="",o=oz;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=FC(e,1,!1,null,null,n,!1,r,o),e[Rl]=t.current,ng(e.nodeType===8?e.parentNode:e),new jC(t)};cs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ut(188)):(e=Object.keys(e).join(","),Error(ut(268,e)));return e=kO(t),e=e===null?null:e.stateNode,e};cs.flushSync=function(e){return rd(e)};cs.hydrate=function(e,t,n){if(!R_(t))throw Error(ut(200));return A_(null,e,t,!0,n)};cs.hydrateRoot=function(e,t,n){if(!UC(e))throw Error(ut(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",d=oz;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=iz(t,null,e,1,n??null,o,!1,a,d),e[Rl]=t.current,ng(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new M_(t)};cs.render=function(e,t,n){if(!R_(t))throw Error(ut(200));return A_(null,e,t,!1,n)};cs.unmountComponentAtNode=function(e){if(!R_(e))throw Error(ut(40));return e._reactRootContainer?(rd(function(){A_(null,null,e,!1,function(){e._reactRootContainer=null,e[Rl]=null})}),!0):!1};cs.unstable_batchedUpdates=zC;cs.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!R_(n))throw Error(ut(200));if(e==null||e._reactInternals===void 0)throw Error(ut(38));return A_(e,t,n,!1,r)};cs.version="18.2.0-next-9e3b772b8-20220608";function sz(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sz)}catch(e){console.error(e)}}sz(),iO.exports=cs;var nu=iO.exports;const _v=g_(nu);var az,eM=nu;az=eM.createRoot,eM.hydrateRoot;/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dg.apply(this,arguments)}var Cc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Cc||(Cc={}));const tM="popstate";function jj(e){e===void 0&&(e={});function t(r,o){let{pathname:a,search:d,hash:c}=r.location;return JS("",{pathname:a,search:d,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:lz(o)}return Vj(t,n,null,e)}function gi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function VC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Uj(){return Math.random().toString(36).substr(2,8)}function nM(e,t){return{usr:e.state,key:e.key,idx:t}}function JS(e,t,n,r){return n===void 0&&(n=null),dg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Lf(t):t,{state:n,key:t&&t.key||r||Uj()})}function lz(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Lf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Vj(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:a=!1}=r,d=o.history,c=Cc.Pop,y=null,_=C();_==null&&(_=0,d.replaceState(dg({},d.state,{idx:_}),""));function C(){return(d.state||{idx:null}).idx}function k(){c=Cc.Pop;let $=C(),A=$==null?null:$-_;_=$,y&&y({action:c,location:M.location,delta:A})}function P($,A){c=Cc.Push;let O=JS(M.location,$,A);n&&n(O,$),_=C()+1;let z=nM(O,_),q=M.createHref(O);try{d.pushState(z,"",q)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;o.location.assign(q)}a&&y&&y({action:c,location:M.location,delta:1})}function D($,A){c=Cc.Replace;let O=JS(M.location,$,A);n&&n(O,$),_=C();let z=nM(O,_),q=M.createHref(O);d.replaceState(z,"",q),a&&y&&y({action:c,location:M.location,delta:0})}function N($){let A=o.location.origin!=="null"?o.location.origin:o.location.href,O=typeof $=="string"?$:lz($);return gi(A,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,A)}let M={get action(){return c},get location(){return e(o,d)},listen($){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(tM,k),y=$,()=>{o.removeEventListener(tM,k),y=null}},createHref($){return t(o,$)},createURL:N,encodeLocation($){let A=N($);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:P,replace:D,go($){return d.go($)}};return M}var rM;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(rM||(rM={}));function Wj(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Lf(t):t,o=dz(r.pathname||"/",n);if(o==null)return null;let a=cz(e);qj(a);let d=null;for(let c=0;d==null&&c<a.length;++c)d=e6(a[c],r6(o));return d}function cz(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(a,d,c)=>{let y={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:d,route:a};y.relativePath.startsWith("/")&&(gi(y.relativePath.startsWith(r),'Absolute route path "'+y.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),y.relativePath=y.relativePath.slice(r.length));let _=Zu([r,y.relativePath]),C=n.concat(y);a.children&&a.children.length>0&&(gi(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),cz(a.children,t,C,_)),!(a.path==null&&!a.index)&&t.push({path:_,score:Jj(_,a.index),routesMeta:C})};return e.forEach((a,d)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))o(a,d);else for(let y of uz(a.path))o(a,d,y)}),t}function uz(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let d=uz(r.join("/")),c=[];return c.push(...d.map(y=>y===""?a:[a,y].join("/"))),o&&c.push(...d),c.map(y=>e.startsWith("/")&&y===""?"/":y)}function qj(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Qj(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Gj=/^:\w+$/,Hj=3,Yj=2,Zj=1,Kj=10,Xj=-2,iM=e=>e==="*";function Jj(e,t){let n=e.split("/"),r=n.length;return n.some(iM)&&(r+=Xj),t&&(r+=Yj),n.filter(o=>!iM(o)).reduce((o,a)=>o+(Gj.test(a)?Hj:a===""?Zj:Kj),r)}function Qj(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function e6(e,t){let{routesMeta:n}=e,r={},o="/",a=[];for(let d=0;d<n.length;++d){let c=n[d],y=d===n.length-1,_=o==="/"?t:t.slice(o.length)||"/",C=t6({path:c.relativePath,caseSensitive:c.caseSensitive,end:y},_);if(!C)return null;Object.assign(r,C.params);let k=c.route;a.push({params:r,pathname:Zu([o,C.pathname]),pathnameBase:c6(Zu([o,C.pathnameBase])),route:k}),C.pathnameBase!=="/"&&(o=Zu([o,C.pathnameBase]))}return a}function t6(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=n6(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let a=o[0],d=a.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:r.reduce((_,C,k)=>{if(C==="*"){let P=c[k]||"";d=a.slice(0,a.length-P.length).replace(/(.)\/+$/,"$1")}return _[C]=i6(c[k]||"",C),_},{}),pathname:a,pathnameBase:d,pattern:e}}function n6(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),VC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(d,c)=>(r.push(c),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function r6(e){try{return decodeURI(e)}catch(t){return VC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function i6(e,t){try{return decodeURIComponent(e)}catch(n){return VC(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function dz(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function o6(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?Lf(e):e;return{pathname:n?n.startsWith("/")?n:s6(n,t):t,search:u6(r),hash:d6(o)}}function s6(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ew(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function a6(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function l6(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=Lf(e):(o=dg({},e),gi(!o.pathname||!o.pathname.includes("?"),ew("?","pathname","search",o)),gi(!o.pathname||!o.pathname.includes("#"),ew("#","pathname","hash",o)),gi(!o.search||!o.search.includes("#"),ew("#","search","hash",o)));let a=e===""||o.pathname==="",d=a?"/":o.pathname,c;if(r||d==null)c=n;else{let k=t.length-1;if(d.startsWith("..")){let P=d.split("/");for(;P[0]==="..";)P.shift(),k-=1;o.pathname=P.join("/")}c=k>=0?t[k]:"/"}let y=o6(o,c),_=d&&d!=="/"&&d.endsWith("/"),C=(a||d===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(_||C)&&(y.pathname+="/"),y}const Zu=e=>e.join("/").replace(/\/\/+/g,"/"),c6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),u6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,d6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function h6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const hz=["post","put","patch","delete"];new Set(hz);const f6=["get",...hz];new Set(f6);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L0.apply(this,arguments)}const WC=U.createContext(null),p6=U.createContext(null),O_=U.createContext(null),D_=U.createContext(null),ru=U.createContext({outlet:null,matches:[],isDataRoute:!1}),fz=U.createContext(null);function z_(){return U.useContext(D_)!=null}function L_(){return z_()||gi(!1),U.useContext(D_).location}function pz(e){U.useContext(O_).static||U.useLayoutEffect(e)}function zg(){let{isDataRoute:e}=U.useContext(ru);return e?M6():m6()}function m6(){z_()||gi(!1);let e=U.useContext(WC),{basename:t,navigator:n}=U.useContext(O_),{matches:r}=U.useContext(ru),{pathname:o}=L_(),a=JSON.stringify(a6(r).map(y=>y.pathnameBase)),d=U.useRef(!1);return pz(()=>{d.current=!0}),U.useCallback(function(y,_){if(_===void 0&&(_={}),!d.current)return;if(typeof y=="number"){n.go(y);return}let C=l6(y,JSON.parse(a),o,_.relative==="path");e==null&&t!=="/"&&(C.pathname=C.pathname==="/"?t:Zu([t,C.pathname])),(_.replace?n.replace:n.push)(C,_.state,_)},[t,n,a,o,e])}const g6=U.createContext(null);function y6(e){let t=U.useContext(ru).outlet;return t&&U.createElement(g6.Provider,{value:e},t)}function v6(){let{matches:e}=U.useContext(ru),t=e[e.length-1];return t?t.params:{}}function _6(e,t){return x6(e,t)}function x6(e,t,n){z_()||gi(!1);let{navigator:r}=U.useContext(O_),{matches:o}=U.useContext(ru),a=o[o.length-1],d=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let y=L_(),_;if(t){var C;let M=typeof t=="string"?Lf(t):t;c==="/"||(C=M.pathname)!=null&&C.startsWith(c)||gi(!1),_=M}else _=y;let k=_.pathname||"/",P=c==="/"?k:k.slice(c.length)||"/",D=Wj(e,{pathname:P}),N=T6(D&&D.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Zu([c,r.encodeLocation?r.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?c:Zu([c,r.encodeLocation?r.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),o,n);return t&&N?U.createElement(D_.Provider,{value:{location:L0({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:Cc.Pop}},N):N}function b6(){let e=I6(),t=h6(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),n?U.createElement("pre",{style:o},n):null,a)}const w6=U.createElement(b6,null);class S6 extends U.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?U.createElement(ru.Provider,{value:this.props.routeContext},U.createElement(fz.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C6(e){let{routeContext:t,match:n,children:r}=e,o=U.useContext(WC);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(ru.Provider,{value:t},r)}function T6(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var o;if((o=n)!=null&&o.errors)e=n.matches;else return null}let a=e,d=(r=n)==null?void 0:r.errors;if(d!=null){let c=a.findIndex(y=>y.route.id&&(d==null?void 0:d[y.route.id]));c>=0||gi(!1),a=a.slice(0,Math.min(a.length,c+1))}return a.reduceRight((c,y,_)=>{let C=y.route.id?d==null?void 0:d[y.route.id]:null,k=null;n&&(k=y.route.errorElement||w6);let P=t.concat(a.slice(0,_+1)),D=()=>{let N;return C?N=k:y.route.Component?N=U.createElement(y.route.Component,null):y.route.element?N=y.route.element:N=c,U.createElement(C6,{match:y,routeContext:{outlet:c,matches:P,isDataRoute:n!=null},children:N})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?U.createElement(S6,{location:n.location,revalidation:n.revalidation,component:k,error:C,children:D(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):D()},null)}var mz=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(mz||{}),$0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}($0||{});function k6(e){let t=U.useContext(WC);return t||gi(!1),t}function E6(e){let t=U.useContext(p6);return t||gi(!1),t}function P6(e){let t=U.useContext(ru);return t||gi(!1),t}function gz(e){let t=P6(),n=t.matches[t.matches.length-1];return n.route.id||gi(!1),n.route.id}function I6(){var e;let t=U.useContext(fz),n=E6($0.UseRouteError),r=gz($0.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function M6(){let{router:e}=k6(mz.UseNavigateStable),t=gz($0.UseNavigateStable),n=U.useRef(!1);return pz(()=>{n.current=!0}),U.useCallback(function(o,a){a===void 0&&(a={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,L0({fromRouteId:t},a)))},[e,t])}function R6(e){return y6(e.context)}function Du(e){gi(!1)}function A6(e){let{basename:t="/",children:n=null,location:r,navigationType:o=Cc.Pop,navigator:a,static:d=!1}=e;z_()&&gi(!1);let c=t.replace(/^\/*/,"/"),y=U.useMemo(()=>({basename:c,navigator:a,static:d}),[c,a,d]);typeof r=="string"&&(r=Lf(r));let{pathname:_="/",search:C="",hash:k="",state:P=null,key:D="default"}=r,N=U.useMemo(()=>{let M=dz(_,c);return M==null?null:{location:{pathname:M,search:C,hash:k,state:P,key:D},navigationType:o}},[c,_,C,k,P,D,o]);return N==null?null:U.createElement(O_.Provider,{value:y},U.createElement(D_.Provider,{children:n,value:N}))}function O6(e){let{children:t,location:n}=e;return _6(QS(t),n)}new Promise(()=>{});function QS(e,t){t===void 0&&(t=[]);let n=[];return U.Children.forEach(e,(r,o)=>{if(!U.isValidElement(r))return;let a=[...t,o];if(r.type===U.Fragment){n.push.apply(n,QS(r.props.children,a));return}r.type!==Du&&gi(!1),!r.props.index||!r.props.children||gi(!1);let d={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=QS(r.props.children,a)),n.push(d)}),n}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const D6="startTransition",oM=d0[D6];function z6(e){let{basename:t,children:n,future:r,window:o}=e,a=U.useRef();a.current==null&&(a.current=jj({window:o,v5Compat:!0}));let d=a.current,[c,y]=U.useState({action:d.action,location:d.location}),{v7_startTransition:_}=r||{},C=U.useCallback(k=>{_&&oM?oM(()=>y(k)):y(k)},[y,_]);return U.useLayoutEffect(()=>d.listen(C),[d,C]),U.createElement(A6,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:d})}var sM;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(sM||(sM={}));var aM;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(aM||(aM={}));var yz={exports:{}},vz={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _f=U;function L6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $6=typeof Object.is=="function"?Object.is:L6,N6=_f.useState,F6=_f.useEffect,B6=_f.useLayoutEffect,j6=_f.useDebugValue;function U6(e,t){var n=t(),r=N6({inst:{value:n,getSnapshot:t}}),o=r[0].inst,a=r[1];return B6(function(){o.value=n,o.getSnapshot=t,tw(o)&&a({inst:o})},[e,n,t]),F6(function(){return tw(o)&&a({inst:o}),e(function(){tw(o)&&a({inst:o})})},[e]),j6(n),n}function tw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$6(e,n)}catch{return!0}}function V6(e,t){return t()}var W6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?V6:U6;vz.useSyncExternalStore=_f.useSyncExternalStore!==void 0?_f.useSyncExternalStore:W6;yz.exports=vz;var _z=yz.exports,xz={exports:{}},bz={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_=U,q6=_z;function G6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var H6=typeof Object.is=="function"?Object.is:G6,Y6=q6.useSyncExternalStore,Z6=$_.useRef,K6=$_.useEffect,X6=$_.useMemo,J6=$_.useDebugValue;bz.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var a=Z6(null);if(a.current===null){var d={hasValue:!1,value:null};a.current=d}else d=a.current;a=X6(function(){function y(D){if(!_){if(_=!0,C=D,D=r(D),o!==void 0&&d.hasValue){var N=d.value;if(o(N,D))return k=N}return k=D}if(N=k,H6(C,D))return N;var M=r(D);return o!==void 0&&o(N,M)?N:(C=D,k=M)}var _=!1,C,k,P=n===void 0?null:n;return[function(){return y(t())},P===null?void 0:function(){return y(P())}]},[t,n,r,o]);var c=Y6(e,a[0],a[1]);return K6(function(){d.hasValue=!0,d.value=c},[c]),J6(c),c};xz.exports=bz;var Q6=xz.exports;function eU(e){e()}let wz=eU;const tU=e=>wz=e,nU=()=>wz,lM=Symbol.for("react-redux-context"),cM=typeof globalThis<"u"?globalThis:{};function rU(){var e;if(!U.createContext)return{};const t=(e=cM[lM])!=null?e:cM[lM]=new Map;let n=t.get(U.createContext);return n||(n=U.createContext(null),t.set(U.createContext,n)),n}const Dl=rU();function qC(e=Dl){return function(){return U.useContext(e)}}const Sz=qC(),Cz=()=>{throw new Error("uSES not initialized!")};let Tz=Cz;const iU=e=>{Tz=e},oU=(e,t)=>e===t;function sU(e=Dl){const t=e===Dl?Sz:qC(e);return function(r,o={}){const{equalityFn:a=oU,stabilityCheck:d=void 0,noopCheck:c=void 0}=typeof o=="function"?{equalityFn:o}:o,{store:y,subscription:_,getServerState:C,stabilityCheck:k,noopCheck:P}=t();U.useRef(!0);const D=U.useCallback({[r.name](M){return r(M)}}[r.name],[r,k,d]),N=Tz(_.addNestedSub,y.getState,C||y.getState,D,a);return U.useDebugValue(N),N}}const Ir=sU();function rr(){return rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rr.apply(this,arguments)}function Lg(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var kz={exports:{}},Xn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ei=typeof Symbol=="function"&&Symbol.for,GC=Ei?Symbol.for("react.element"):60103,HC=Ei?Symbol.for("react.portal"):60106,N_=Ei?Symbol.for("react.fragment"):60107,F_=Ei?Symbol.for("react.strict_mode"):60108,B_=Ei?Symbol.for("react.profiler"):60114,j_=Ei?Symbol.for("react.provider"):60109,U_=Ei?Symbol.for("react.context"):60110,YC=Ei?Symbol.for("react.async_mode"):60111,V_=Ei?Symbol.for("react.concurrent_mode"):60111,W_=Ei?Symbol.for("react.forward_ref"):60112,q_=Ei?Symbol.for("react.suspense"):60113,aU=Ei?Symbol.for("react.suspense_list"):60120,G_=Ei?Symbol.for("react.memo"):60115,H_=Ei?Symbol.for("react.lazy"):60116,lU=Ei?Symbol.for("react.block"):60121,cU=Ei?Symbol.for("react.fundamental"):60117,uU=Ei?Symbol.for("react.responder"):60118,dU=Ei?Symbol.for("react.scope"):60119;function ds(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case GC:switch(e=e.type,e){case YC:case V_:case N_:case B_:case F_:case q_:return e;default:switch(e=e&&e.$$typeof,e){case U_:case W_:case H_:case G_:case j_:return e;default:return t}}case HC:return t}}}function Ez(e){return ds(e)===V_}Xn.AsyncMode=YC;Xn.ConcurrentMode=V_;Xn.ContextConsumer=U_;Xn.ContextProvider=j_;Xn.Element=GC;Xn.ForwardRef=W_;Xn.Fragment=N_;Xn.Lazy=H_;Xn.Memo=G_;Xn.Portal=HC;Xn.Profiler=B_;Xn.StrictMode=F_;Xn.Suspense=q_;Xn.isAsyncMode=function(e){return Ez(e)||ds(e)===YC};Xn.isConcurrentMode=Ez;Xn.isContextConsumer=function(e){return ds(e)===U_};Xn.isContextProvider=function(e){return ds(e)===j_};Xn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===GC};Xn.isForwardRef=function(e){return ds(e)===W_};Xn.isFragment=function(e){return ds(e)===N_};Xn.isLazy=function(e){return ds(e)===H_};Xn.isMemo=function(e){return ds(e)===G_};Xn.isPortal=function(e){return ds(e)===HC};Xn.isProfiler=function(e){return ds(e)===B_};Xn.isStrictMode=function(e){return ds(e)===F_};Xn.isSuspense=function(e){return ds(e)===q_};Xn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===N_||e===V_||e===B_||e===F_||e===q_||e===aU||typeof e=="object"&&e!==null&&(e.$$typeof===H_||e.$$typeof===G_||e.$$typeof===j_||e.$$typeof===U_||e.$$typeof===W_||e.$$typeof===cU||e.$$typeof===uU||e.$$typeof===dU||e.$$typeof===lU)};Xn.typeOf=ds;kz.exports=Xn;var hU=kz.exports,ZC=hU,fU={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},pU={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},mU={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Pz={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},KC={};KC[ZC.ForwardRef]=mU;KC[ZC.Memo]=Pz;function uM(e){return ZC.isMemo(e)?Pz:KC[e.$$typeof]||fU}var gU=Object.defineProperty,yU=Object.getOwnPropertyNames,dM=Object.getOwnPropertySymbols,vU=Object.getOwnPropertyDescriptor,_U=Object.getPrototypeOf,hM=Object.prototype;function Iz(e,t,n){if(typeof t!="string"){if(hM){var r=_U(t);r&&r!==hM&&Iz(e,r,n)}var o=yU(t);dM&&(o=o.concat(dM(t)));for(var a=uM(e),d=uM(t),c=0;c<o.length;++c){var y=o[c];if(!pU[y]&&!(n&&n[y])&&!(d&&d[y])&&!(a&&a[y])){var _=vU(t,y);try{gU(e,y,_)}catch{}}}}return e}var xU=Iz;const fM=g_(xU);var Mz={exports:{}},Jn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XC=Symbol.for("react.element"),JC=Symbol.for("react.portal"),Y_=Symbol.for("react.fragment"),Z_=Symbol.for("react.strict_mode"),K_=Symbol.for("react.profiler"),X_=Symbol.for("react.provider"),J_=Symbol.for("react.context"),bU=Symbol.for("react.server_context"),Q_=Symbol.for("react.forward_ref"),ex=Symbol.for("react.suspense"),tx=Symbol.for("react.suspense_list"),nx=Symbol.for("react.memo"),rx=Symbol.for("react.lazy"),wU=Symbol.for("react.offscreen"),Rz;Rz=Symbol.for("react.module.reference");function zs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case XC:switch(e=e.type,e){case Y_:case K_:case Z_:case ex:case tx:return e;default:switch(e=e&&e.$$typeof,e){case bU:case J_:case Q_:case rx:case nx:case X_:return e;default:return t}}case JC:return t}}}Jn.ContextConsumer=J_;Jn.ContextProvider=X_;Jn.Element=XC;Jn.ForwardRef=Q_;Jn.Fragment=Y_;Jn.Lazy=rx;Jn.Memo=nx;Jn.Portal=JC;Jn.Profiler=K_;Jn.StrictMode=Z_;Jn.Suspense=ex;Jn.SuspenseList=tx;Jn.isAsyncMode=function(){return!1};Jn.isConcurrentMode=function(){return!1};Jn.isContextConsumer=function(e){return zs(e)===J_};Jn.isContextProvider=function(e){return zs(e)===X_};Jn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===XC};Jn.isForwardRef=function(e){return zs(e)===Q_};Jn.isFragment=function(e){return zs(e)===Y_};Jn.isLazy=function(e){return zs(e)===rx};Jn.isMemo=function(e){return zs(e)===nx};Jn.isPortal=function(e){return zs(e)===JC};Jn.isProfiler=function(e){return zs(e)===K_};Jn.isStrictMode=function(e){return zs(e)===Z_};Jn.isSuspense=function(e){return zs(e)===ex};Jn.isSuspenseList=function(e){return zs(e)===tx};Jn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Y_||e===K_||e===Z_||e===ex||e===tx||e===wU||typeof e=="object"&&e!==null&&(e.$$typeof===rx||e.$$typeof===nx||e.$$typeof===X_||e.$$typeof===J_||e.$$typeof===Q_||e.$$typeof===Rz||e.getModuleId!==void 0)};Jn.typeOf=zs;Mz.exports=Jn;var SU=Mz.exports;const CU=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function TU(e,t,n,r,{areStatesEqual:o,areOwnPropsEqual:a,areStatePropsEqual:d}){let c=!1,y,_,C,k,P;function D(O,z){return y=O,_=z,C=e(y,_),k=t(r,_),P=n(C,k,_),c=!0,P}function N(){return C=e(y,_),t.dependsOnOwnProps&&(k=t(r,_)),P=n(C,k,_),P}function M(){return e.dependsOnOwnProps&&(C=e(y,_)),t.dependsOnOwnProps&&(k=t(r,_)),P=n(C,k,_),P}function $(){const O=e(y,_),z=!d(O,C);return C=O,z&&(P=n(C,k,_)),P}function A(O,z){const q=!a(z,_),Y=!o(O,y,z,_);return y=O,_=z,q&&Y?N():q?M():Y?$():P}return function(z,q){return c?A(z,q):D(z,q)}}function kU(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:o}=t,a=Lg(t,CU);const d=n(e,a),c=r(e,a),y=o(e,a);return TU(d,c,y,e,a)}function EU(e,t){const n={};for(const r in e){const o=e[r];typeof o=="function"&&(n[r]=(...a)=>t(o(...a)))}return n}function e2(e){return function(n){const r=e(n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function pM(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function Az(e,t){return function(r,{displayName:o}){const a=function(c,y){return a.dependsOnOwnProps?a.mapToProps(c,y):a.mapToProps(c,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(c,y){a.mapToProps=e,a.dependsOnOwnProps=pM(e);let _=a(c,y);return typeof _=="function"&&(a.mapToProps=_,a.dependsOnOwnProps=pM(_),_=a(c,y)),_},a}}function QC(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function PU(e){return e&&typeof e=="object"?e2(t=>EU(e,t)):e?typeof e=="function"?Az(e):QC(e,"mapDispatchToProps"):e2(t=>({dispatch:t}))}function IU(e){return e?typeof e=="function"?Az(e):QC(e,"mapStateToProps"):e2(()=>({}))}function MU(e,t,n){return rr({},n,e,t)}function RU(e){return function(n,{displayName:r,areMergedPropsEqual:o}){let a=!1,d;return function(y,_,C){const k=e(y,_,C);return a?o(k,d)||(d=k):(a=!0,d=k),d}}}function AU(e){return e?typeof e=="function"?RU(e):QC(e,"mergeProps"):()=>MU}function OU(){const e=nU();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],o=t;for(;o;)r.push(o),o=o.next;return r},subscribe(r){let o=!0,a=n={callback:r,next:null,prev:n};return a.prev?a.prev.next=a:t=a,function(){!o||t===null||(o=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}const mM={notify(){},get:()=>[]};function Oz(e,t){let n,r=mM;function o(k){return y(),r.subscribe(k)}function a(){r.notify()}function d(){C.onStateChange&&C.onStateChange()}function c(){return!!n}function y(){n||(n=t?t.addNestedSub(d):e.subscribe(d),r=OU())}function _(){n&&(n(),n=void 0,r.clear(),r=mM)}const C={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:d,isSubscribed:c,trySubscribe:y,tryUnsubscribe:_,getListeners:()=>r};return C}const DU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",N0=DU?U.useLayoutEffect:U.useEffect;function gM(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function nw(e,t){if(gM(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!gM(e[n[o]],t[n[o]]))return!1;return!0}const zU=["reactReduxForwardedRef"];let Dz=Cz;const LU=e=>{Dz=e},$U=[null,null];function NU(e,t,n){N0(()=>e(...t),n)}function FU(e,t,n,r,o,a){e.current=r,n.current=!1,o.current&&(o.current=null,a())}function BU(e,t,n,r,o,a,d,c,y,_,C){if(!e)return()=>{};let k=!1,P=null;const D=()=>{if(k||!c.current)return;const M=t.getState();let $,A;try{$=r(M,o.current)}catch(O){A=O,P=O}A||(P=null),$===a.current?d.current||_():(a.current=$,y.current=$,d.current=!0,C())};return n.onStateChange=D,n.trySubscribe(),D(),()=>{if(k=!0,n.tryUnsubscribe(),n.onStateChange=null,P)throw P}}function jU(e,t){return e===t}function UU(e,t,n,{pure:r,areStatesEqual:o=jU,areOwnPropsEqual:a=nw,areStatePropsEqual:d=nw,areMergedPropsEqual:c=nw,forwardRef:y=!1,context:_=Dl}={}){const C=_,k=IU(e),P=PU(t),D=AU(n),N=!!e;return $=>{const A=$.displayName||$.name||"Component",O=`Connect(${A})`,z={shouldHandleStateChanges:N,displayName:O,wrappedComponentName:A,WrappedComponent:$,initMapStateToProps:k,initMapDispatchToProps:P,initMergeProps:D,areStatesEqual:o,areStatePropsEqual:d,areOwnPropsEqual:a,areMergedPropsEqual:c};function q(te){const[ge,Pe,ye]=U.useMemo(()=>{const{reactReduxForwardedRef:Mt}=te,Re=Lg(te,zU);return[te.context,Mt,Re]},[te]),Ne=U.useMemo(()=>ge&&ge.Consumer&&SU.isContextConsumer(U.createElement(ge.Consumer,null))?ge:C,[ge,C]),Ve=U.useContext(Ne),et=!!te.store&&!!te.store.getState&&!!te.store.dispatch,Ze=!!Ve&&!!Ve.store,Ke=et?te.store:Ve.store,ke=Ze?Ve.getServerState:Ke.getState,Me=U.useMemo(()=>kU(Ke.dispatch,z),[Ke]),[Oe,Ee]=U.useMemo(()=>{if(!N)return $U;const Mt=Oz(Ke,et?void 0:Ve.subscription),Re=Mt.notifyNestedSubs.bind(Mt);return[Mt,Re]},[Ke,et,Ve]),ze=U.useMemo(()=>et?Ve:rr({},Ve,{subscription:Oe}),[et,Ve,Oe]),st=U.useRef(),be=U.useRef(ye),Fe=U.useRef(),Ae=U.useRef(!1);U.useRef(!1);const qe=U.useRef(!1),Le=U.useRef();N0(()=>(qe.current=!0,()=>{qe.current=!1}),[]);const ot=U.useMemo(()=>()=>Fe.current&&ye===be.current?Fe.current:Me(Ke.getState(),ye),[Ke,ye]),xt=U.useMemo(()=>Re=>Oe?BU(N,Ke,Oe,Me,be,st,Ae,qe,Fe,Ee,Re):()=>{},[Oe]);NU(FU,[be,st,Ae,ye,Fe,Ee]);let St;try{St=Dz(xt,ot,ke?()=>Me(ke(),ye):ot)}catch(Mt){throw Le.current&&(Mt.message+=`
The error may be correlated with this previous error:
${Le.current.stack}

`),Mt}N0(()=>{Le.current=void 0,Fe.current=void 0,st.current=St});const It=U.useMemo(()=>U.createElement($,rr({},St,{ref:Pe})),[Pe,$,St]);return U.useMemo(()=>N?U.createElement(Ne.Provider,{value:ze},It):It,[Ne,It,ze])}const J=U.memo(q);if(J.WrappedComponent=$,J.displayName=q.displayName=O,y){const ge=U.forwardRef(function(ye,Ne){return U.createElement(J,rr({},ye,{reactReduxForwardedRef:Ne}))});return ge.displayName=O,ge.WrappedComponent=$,fM(ge,$)}return fM(J,$)}}function VU({store:e,context:t,children:n,serverState:r,stabilityCheck:o="once",noopCheck:a="once"}){const d=U.useMemo(()=>{const _=Oz(e);return{store:e,subscription:_,getServerState:r?()=>r:void 0,stabilityCheck:o,noopCheck:a}},[e,r,o,a]),c=U.useMemo(()=>e.getState(),[e]);N0(()=>{const{subscription:_}=d;return _.onStateChange=_.notifyNestedSubs,_.trySubscribe(),c!==e.getState()&&_.notifyNestedSubs(),()=>{_.tryUnsubscribe(),_.onStateChange=void 0}},[d,c]);const y=t||Dl;return U.createElement(y.Provider,{value:d},n)}function zz(e=Dl){const t=e===Dl?Sz:qC(e);return function(){const{store:r}=t();return r}}const WU=zz();function qU(e=Dl){const t=e===Dl?WU:zz(e);return function(){return t().dispatch}}const Ha=qU();iU(Q6.useSyncExternalStoreWithSelector);LU(_z.useSyncExternalStore);tU(nu.unstable_batchedUpdates);function oa(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Hc(e){return!!e&&!!e[Er]}function zl(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var o=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===e8}(e)||Array.isArray(e)||!!e[SM]||!!(!((t=e.constructor)===null||t===void 0)&&t[SM])||eT(e)||tT(e))}function id(e,t,n){n===void 0&&(n=!1),$f(e)===0?(n?Object.keys:tf)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,o){return t(o,r,e)})}function $f(e){var t=e[Er];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:eT(e)?2:tT(e)?3:0}function ef(e,t){return $f(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function GU(e,t){return $f(e)===2?e.get(t):e[t]}function Lz(e,t,n){var r=$f(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function $z(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function eT(e){return JU&&e instanceof Map}function tT(e){return QU&&e instanceof Set}function zu(e){return e.o||e.t}function nT(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Fz(e);delete t[Er];for(var n=tf(t),r=0;r<n.length;r++){var o=n[r],a=t[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function rT(e,t){return t===void 0&&(t=!1),iT(e)||Hc(e)||!zl(e)||($f(e)>1&&(e.set=e.add=e.clear=e.delete=HU),Object.freeze(e),t&&id(e,function(n,r){return rT(r,!0)},!0)),e}function HU(){oa(2)}function iT(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Fa(e){var t=i2[e];return t||oa(18,e),t}function YU(e,t){i2[e]||(i2[e]=t)}function t2(){return hg}function rw(e,t){t&&(Fa("Patches"),e.u=[],e.s=[],e.v=t)}function F0(e){n2(e),e.p.forEach(ZU),e.p=null}function n2(e){e===hg&&(hg=e.l)}function yM(e){return hg={p:[],l:hg,h:e,m:!0,_:0}}function ZU(e){var t=e[Er];t.i===0||t.i===1?t.j():t.g=!0}function iw(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Fa("ES5").S(t,e,r),r?(n[Er].P&&(F0(t),oa(4)),zl(e)&&(e=B0(t,e),t.l||j0(t,e)),t.u&&Fa("Patches").M(n[Er].t,e,t.u,t.s)):e=B0(t,n,[]),F0(t),t.u&&t.v(t.u,t.s),e!==Nz?e:void 0}function B0(e,t,n){if(iT(t))return t;var r=t[Er];if(!r)return id(t,function(c,y){return vM(e,r,t,c,y,n)},!0),t;if(r.A!==e)return t;if(!r.P)return j0(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=r.i===4||r.i===5?r.o=nT(r.k):r.o,a=o,d=!1;r.i===3&&(a=new Set(o),o.clear(),d=!0),id(a,function(c,y){return vM(e,r,o,c,y,n,d)}),j0(e,o,!1),n&&e.u&&Fa("Patches").N(r,n,e.u,e.s)}return r.o}function vM(e,t,n,r,o,a,d){if(Hc(o)){var c=B0(e,o,a&&t&&t.i!==3&&!ef(t.R,r)?a.concat(r):void 0);if(Lz(n,r,c),!Hc(c))return;e.m=!1}else d&&n.add(o);if(zl(o)&&!iT(o)){if(!e.h.D&&e._<1)return;B0(e,o),t&&t.A.l||j0(e,o)}}function j0(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&rT(t,n)}function ow(e,t){var n=e[Er];return(n?zu(n):e)[t]}function _M(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function bc(e){e.P||(e.P=!0,e.l&&bc(e.l))}function sw(e){e.o||(e.o=nT(e.t))}function r2(e,t,n){var r=eT(t)?Fa("MapSet").F(t,n):tT(t)?Fa("MapSet").T(t,n):e.O?function(o,a){var d=Array.isArray(o),c={i:d?1:0,A:a?a.A:t2(),P:!1,I:!1,R:{},l:a,t:o,k:null,o:null,j:null,C:!1},y=c,_=fg;d&&(y=[c],_=_m);var C=Proxy.revocable(y,_),k=C.revoke,P=C.proxy;return c.k=P,c.j=k,P}(t,n):Fa("ES5").J(t,n);return(n?n.A:t2()).p.push(r),r}function KU(e){return Hc(e)||oa(22,e),function t(n){if(!zl(n))return n;var r,o=n[Er],a=$f(n);if(o){if(!o.P&&(o.i<4||!Fa("ES5").K(o)))return o.t;o.I=!0,r=xM(n,a),o.I=!1}else r=xM(n,a);return id(r,function(d,c){o&&GU(o.t,d)===c||Lz(r,d,t(c))}),a===3?new Set(r):r}(e)}function xM(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return nT(e)}function XU(){function e(a,d){var c=o[a];return c?c.enumerable=d:o[a]=c={configurable:!0,enumerable:d,get:function(){var y=this[Er];return fg.get(y,a)},set:function(y){var _=this[Er];fg.set(_,a,y)}},c}function t(a){for(var d=a.length-1;d>=0;d--){var c=a[d][Er];if(!c.P)switch(c.i){case 5:r(c)&&bc(c);break;case 4:n(c)&&bc(c)}}}function n(a){for(var d=a.t,c=a.k,y=tf(c),_=y.length-1;_>=0;_--){var C=y[_];if(C!==Er){var k=d[C];if(k===void 0&&!ef(d,C))return!0;var P=c[C],D=P&&P[Er];if(D?D.t!==k:!$z(P,k))return!0}}var N=!!d[Er];return y.length!==tf(d).length+(N?0:1)}function r(a){var d=a.k;if(d.length!==a.t.length)return!0;var c=Object.getOwnPropertyDescriptor(d,d.length-1);if(c&&!c.get)return!0;for(var y=0;y<d.length;y++)if(!d.hasOwnProperty(y))return!0;return!1}var o={};YU("ES5",{J:function(a,d){var c=Array.isArray(a),y=function(C,k){if(C){for(var P=Array(k.length),D=0;D<k.length;D++)Object.defineProperty(P,""+D,e(D,!0));return P}var N=Fz(k);delete N[Er];for(var M=tf(N),$=0;$<M.length;$++){var A=M[$];N[A]=e(A,C||!!N[A].enumerable)}return Object.create(Object.getPrototypeOf(k),N)}(c,a),_={i:c?5:4,A:d?d.A:t2(),P:!1,I:!1,R:{},l:d,t:a,k:y,o:null,g:!1,C:!1};return Object.defineProperty(y,Er,{value:_,writable:!0}),y},S:function(a,d,c){c?Hc(d)&&d[Er].A===a&&t(a.p):(a.u&&function y(_){if(_&&typeof _=="object"){var C=_[Er];if(C){var k=C.t,P=C.k,D=C.R,N=C.i;if(N===4)id(P,function(z){z!==Er&&(k[z]!==void 0||ef(k,z)?D[z]||y(P[z]):(D[z]=!0,bc(C)))}),id(k,function(z){P[z]!==void 0||ef(P,z)||(D[z]=!1,bc(C))});else if(N===5){if(r(C)&&(bc(C),D.length=!0),P.length<k.length)for(var M=P.length;M<k.length;M++)D[M]=!1;else for(var $=k.length;$<P.length;$++)D[$]=!0;for(var A=Math.min(P.length,k.length),O=0;O<A;O++)P.hasOwnProperty(O)||(D[O]=!0),D[O]===void 0&&y(P[O])}}}}(a.p[0]),t(a.p))},K:function(a){return a.i===4?n(a):r(a)}})}var bM,hg,oT=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",JU=typeof Map<"u",QU=typeof Set<"u",wM=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Nz=oT?Symbol.for("immer-nothing"):((bM={})["immer-nothing"]=!0,bM),SM=oT?Symbol.for("immer-draftable"):"__$immer_draftable",Er=oT?Symbol.for("immer-state"):"__$immer_state",e8=""+Object.prototype.constructor,tf=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Fz=Object.getOwnPropertyDescriptors||function(e){var t={};return tf(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},i2={},fg={get:function(e,t){if(t===Er)return e;var n=zu(e);if(!ef(n,t))return function(o,a,d){var c,y=_M(a,d);return y?"value"in y?y.value:(c=y.get)===null||c===void 0?void 0:c.call(o.k):void 0}(e,n,t);var r=n[t];return e.I||!zl(r)?r:r===ow(e.t,t)?(sw(e),e.o[t]=r2(e.A.h,r,e)):r},has:function(e,t){return t in zu(e)},ownKeys:function(e){return Reflect.ownKeys(zu(e))},set:function(e,t,n){var r=_M(zu(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=ow(zu(e),t),a=o==null?void 0:o[Er];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if($z(n,o)&&(n!==void 0||ef(e.t,t)))return!0;sw(e),bc(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return ow(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,sw(e),bc(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=zu(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){oa(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){oa(12)}},_m={};id(fg,function(e,t){_m[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),_m.deleteProperty=function(e,t){return _m.set.call(this,e,t,void 0)},_m.set=function(e,t,n){return fg.set.call(this,e[0],t,n,e[0])};var t8=function(){function e(n){var r=this;this.O=wM,this.D=!0,this.produce=function(o,a,d){if(typeof o=="function"&&typeof a!="function"){var c=a;a=o;var y=r;return function(M){var $=this;M===void 0&&(M=c);for(var A=arguments.length,O=Array(A>1?A-1:0),z=1;z<A;z++)O[z-1]=arguments[z];return y.produce(M,function(q){var Y;return(Y=a).call.apply(Y,[$,q].concat(O))})}}var _;if(typeof a!="function"&&oa(6),d!==void 0&&typeof d!="function"&&oa(7),zl(o)){var C=yM(r),k=r2(r,o,void 0),P=!0;try{_=a(k),P=!1}finally{P?F0(C):n2(C)}return typeof Promise<"u"&&_ instanceof Promise?_.then(function(M){return rw(C,d),iw(M,C)},function(M){throw F0(C),M}):(rw(C,d),iw(_,C))}if(!o||typeof o!="object"){if((_=a(o))===void 0&&(_=o),_===Nz&&(_=void 0),r.D&&rT(_,!0),d){var D=[],N=[];Fa("Patches").M(o,_,D,N),d(D,N)}return _}oa(21,o)},this.produceWithPatches=function(o,a){if(typeof o=="function")return function(_){for(var C=arguments.length,k=Array(C>1?C-1:0),P=1;P<C;P++)k[P-1]=arguments[P];return r.produceWithPatches(_,function(D){return o.apply(void 0,[D].concat(k))})};var d,c,y=r.produce(o,a,function(_,C){d=_,c=C});return typeof Promise<"u"&&y instanceof Promise?y.then(function(_){return[_,d,c]}):[y,d,c]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){zl(n)||oa(8),Hc(n)&&(n=KU(n));var r=yM(this),o=r2(this,n,void 0);return o[Er].C=!0,n2(r),o},t.finishDraft=function(n,r){var o=n&&n[Er],a=o.A;return rw(a,r),iw(void 0,a)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!wM&&oa(20),this.O=n},t.applyPatches=function(n,r){var o;for(o=r.length-1;o>=0;o--){var a=r[o];if(a.path.length===0&&a.op==="replace"){n=a.value;break}}o>-1&&(r=r.slice(o+1));var d=Fa("Patches").$;return Hc(n)?d(n,r):this.produce(n,function(c){return d(c,r)})},e}(),as=new t8,Bz=as.produce;as.produceWithPatches.bind(as);as.setAutoFreeze.bind(as);as.setUseProxies.bind(as);as.applyPatches.bind(as);as.createDraft.bind(as);as.finishDraft.bind(as);function pg(e){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pg(e)}function n8(e,t){if(pg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jz(e){var t=n8(e,"string");return pg(t)==="symbol"?t:String(t)}function r8(e,t,n){return t=jz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function TM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CM(Object(n),!0).forEach(function(r){r8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xi(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var kM=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),aw=function(){return Math.random().toString(36).substring(7).split("").join(".")},U0={INIT:"@@redux/INIT"+aw(),REPLACE:"@@redux/REPLACE"+aw(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+aw()}};function i8(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Uz(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xi(1));return n(Uz)(e,t)}if(typeof e!="function")throw new Error(Xi(2));var o=e,a=t,d=[],c=d,y=!1;function _(){c===d&&(c=d.slice())}function C(){if(y)throw new Error(Xi(3));return a}function k(M){if(typeof M!="function")throw new Error(Xi(4));if(y)throw new Error(Xi(5));var $=!0;return _(),c.push(M),function(){if($){if(y)throw new Error(Xi(6));$=!1,_();var O=c.indexOf(M);c.splice(O,1),d=null}}}function P(M){if(!i8(M))throw new Error(Xi(7));if(typeof M.type>"u")throw new Error(Xi(8));if(y)throw new Error(Xi(9));try{y=!0,a=o(a,M)}finally{y=!1}for(var $=d=c,A=0;A<$.length;A++){var O=$[A];O()}return M}function D(M){if(typeof M!="function")throw new Error(Xi(10));o=M,P({type:U0.REPLACE})}function N(){var M,$=k;return M={subscribe:function(O){if(typeof O!="object"||O===null)throw new Error(Xi(11));function z(){O.next&&O.next(C())}z();var q=$(z);return{unsubscribe:q}}},M[kM]=function(){return this},M}return P({type:U0.INIT}),r={dispatch:P,subscribe:k,getState:C,replaceReducer:D},r[kM]=N,r}function o8(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:U0.INIT});if(typeof r>"u")throw new Error(Xi(12));if(typeof n(void 0,{type:U0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xi(13))})}function Vz(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];typeof e[o]=="function"&&(n[o]=e[o])}var a=Object.keys(n),d;try{o8(n)}catch(c){d=c}return function(y,_){if(y===void 0&&(y={}),d)throw d;for(var C=!1,k={},P=0;P<a.length;P++){var D=a[P],N=n[D],M=y[D],$=N(M,_);if(typeof $>"u")throw _&&_.type,new Error(Xi(14));k[D]=$,C=C||$!==M}return C=C||a.length!==Object.keys(y).length,C?k:y}}function V0(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,o){return function(){return r(o.apply(void 0,arguments))}})}function s8(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var o=r.apply(void 0,arguments),a=function(){throw new Error(Xi(15))},d={getState:o.getState,dispatch:function(){return a.apply(void 0,arguments)}},c=t.map(function(y){return y(d)});return a=V0.apply(void 0,c)(o.dispatch),TM(TM({},o),{},{dispatch:a})}}}function Wz(e){var t=function(r){var o=r.dispatch,a=r.getState;return function(d){return function(c){return typeof c=="function"?c(o,a,e):d(c)}}};return t}var qz=Wz();qz.withExtraArgument=Wz;const EM=qz;var Gz=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),a8=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,d;return d={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function c(_){return function(C){return y([_,C])}}function y(_){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(a=_[0]&2?o.return:_[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,_[1])).done)return a;switch(o=0,a&&(_=[_[0]&2,a.value]),_[0]){case 0:case 1:a=_;break;case 4:return n.label++,{value:_[1],done:!1};case 5:n.label++,o=_[1],_=[0];continue;case 7:_=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(_[0]===6||_[0]===2)){n=0;continue}if(_[0]===3&&(!a||_[1]>a[0]&&_[1]<a[3])){n.label=_[1];break}if(_[0]===6&&n.label<a[1]){n.label=a[1],a=_;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(_);break}a[2]&&n.ops.pop(),n.trys.pop();continue}_=t.call(e,n)}catch(C){_=[6,C],o=0}finally{r=a=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}},xf=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},l8=Object.defineProperty,c8=Object.defineProperties,u8=Object.getOwnPropertyDescriptors,PM=Object.getOwnPropertySymbols,d8=Object.prototype.hasOwnProperty,h8=Object.prototype.propertyIsEnumerable,IM=function(e,t,n){return t in e?l8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Nc=function(e,t){for(var n in t||(t={}))d8.call(t,n)&&IM(e,n,t[n]);if(PM)for(var r=0,o=PM(t);r<o.length;r++){var n=o[r];h8.call(t,n)&&IM(e,n,t[n])}return e},lw=function(e,t){return c8(e,u8(t))},f8=function(e,t,n){return new Promise(function(r,o){var a=function(y){try{c(n.next(y))}catch(_){o(_)}},d=function(y){try{c(n.throw(y))}catch(_){o(_)}},c=function(y){return y.done?r(y.value):Promise.resolve(y.value).then(a,d)};c((n=n.apply(e,t)).next())})},p8=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?V0:V0.apply(null,arguments)};function m8(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var g8=function(e){Gz(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,n)||this;return Object.setPrototypeOf(o,t.prototype),o}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,xf([void 0],n[0].concat(this)))):new(t.bind.apply(t,xf([void 0],n.concat(this))))},t}(Array),y8=function(e){Gz(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,n)||this;return Object.setPrototypeOf(o,t.prototype),o}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,xf([void 0],n[0].concat(this)))):new(t.bind.apply(t,xf([void 0],n.concat(this))))},t}(Array);function o2(e){return zl(e)?Bz(e,function(){}):e}function v8(e){return typeof e=="boolean"}function _8(){return function(t){return x8(t)}}function x8(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var r=new g8;return n&&(v8(n)?r.push(EM):r.push(EM.withExtraArgument(n.extraArgument))),r}var b8=!0;function w8(e){var t=_8(),n=e||{},r=n.reducer,o=r===void 0?void 0:r,a=n.middleware,d=a===void 0?t():a,c=n.devTools,y=c===void 0?!0:c,_=n.preloadedState,C=_===void 0?void 0:_,k=n.enhancers,P=k===void 0?void 0:k,D;if(typeof o=="function")D=o;else if(m8(o))D=Vz(o);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var N=d;typeof N=="function"&&(N=N(t));var M=s8.apply(void 0,N),$=V0;y&&($=p8(Nc({trace:!b8},typeof y=="object"&&y)));var A=new y8(M),O=A;Array.isArray(P)?O=xf([M],P):typeof P=="function"&&(O=P(A));var z=$.apply(void 0,O);return Uz(D,C,z)}function Fc(e,t){function n(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(t){var a=t.apply(void 0,r);if(!a)throw new Error("prepareAction did not return an object");return Nc(Nc({type:e,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function Hz(e){var t={},n=[],r,o={addCase:function(a,d){var c=typeof a=="string"?a:a.type;if(c in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[c]=d,o},addMatcher:function(a,d){return n.push({matcher:a,reducer:d}),o},addDefaultCase:function(a){return r=a,o}};return e(o),[t,n,r]}function S8(e){return typeof e=="function"}function C8(e,t,n,r){n===void 0&&(n=[]);var o=typeof t=="function"?Hz(t):[t,n,r],a=o[0],d=o[1],c=o[2],y;if(S8(e))y=function(){return o2(e())};else{var _=o2(e);y=function(){return _}}function C(k,P){k===void 0&&(k=y());var D=xf([a[P.type]],d.filter(function(N){var M=N.matcher;return M(P)}).map(function(N){var M=N.reducer;return M}));return D.filter(function(N){return!!N}).length===0&&(D=[c]),D.reduce(function(N,M){if(M)if(Hc(N)){var $=N,A=M($,P);return A===void 0?N:A}else{if(zl(N))return Bz(N,function(O){return M(O,P)});var A=M(N,P);if(A===void 0){if(N===null)return N;throw Error("A case reducer on a non-draftable value must not return undefined")}return A}return N},k)}return C.getInitialState=y,C}function T8(e,t){return e+"/"+t}function $g(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:o2(e.initialState),r=e.reducers||{},o=Object.keys(r),a={},d={},c={};o.forEach(function(C){var k=r[C],P=T8(t,C),D,N;"reducer"in k?(D=k.reducer,N=k.prepare):D=k,a[C]=D,d[P]=D,c[C]=N?Fc(P,N):Fc(P)});function y(){var C=typeof e.extraReducers=="function"?Hz(e.extraReducers):[e.extraReducers],k=C[0],P=k===void 0?{}:k,D=C[1],N=D===void 0?[]:D,M=C[2],$=M===void 0?void 0:M,A=Nc(Nc({},P),d);return C8(n,function(O){for(var z in A)O.addCase(z,A[z]);for(var q=0,Y=N;q<Y.length;q++){var J=Y[q];O.addMatcher(J.matcher,J.reducer)}$&&O.addDefaultCase($)})}var _;return{name:t,reducer:function(C,k){return _||(_=y()),_(C,k)},actions:c,caseReducers:a,getInitialState:function(){return _||(_=y()),_.getInitialState()}}}var k8="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",E8=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=k8[Math.random()*64|0];return t},P8=["name","message","stack","code"],cw=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),MM=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),I8=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=P8;n<r.length;n++){var o=r[n];typeof e[o]=="string"&&(t[o]=e[o])}return t}return{message:String(e)}};(function(){function e(t,n,r){var o=Fc(t+"/fulfilled",function(_,C,k,P){return{payload:_,meta:lw(Nc({},P||{}),{arg:k,requestId:C,requestStatus:"fulfilled"})}}),a=Fc(t+"/pending",function(_,C,k){return{payload:void 0,meta:lw(Nc({},k||{}),{arg:C,requestId:_,requestStatus:"pending"})}}),d=Fc(t+"/rejected",function(_,C,k,P,D){return{payload:P,error:(r&&r.serializeError||I8)(_||"Rejected"),meta:lw(Nc({},D||{}),{arg:k,requestId:C,rejectedWithValue:!!P,requestStatus:"rejected",aborted:(_==null?void 0:_.name)==="AbortError",condition:(_==null?void 0:_.name)==="ConditionError"})}}),c=typeof AbortController<"u"?AbortController:function(){function _(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return _.prototype.abort=function(){},_}();function y(_){return function(C,k,P){var D=r!=null&&r.idGenerator?r.idGenerator(_):E8(),N=new c,M;function $(O){M=O,N.abort()}var A=function(){return f8(this,null,function(){var O,z,q,Y,J,te,ge;return a8(this,function(Pe){switch(Pe.label){case 0:return Pe.trys.push([0,4,,5]),Y=(O=r==null?void 0:r.condition)==null?void 0:O.call(r,_,{getState:k,extra:P}),R8(Y)?[4,Y]:[3,2];case 1:Y=Pe.sent(),Pe.label=2;case 2:if(Y===!1||N.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return J=new Promise(function(ye,Ne){return N.signal.addEventListener("abort",function(){return Ne({name:"AbortError",message:M||"Aborted"})})}),C(a(D,_,(z=r==null?void 0:r.getPendingMeta)==null?void 0:z.call(r,{requestId:D,arg:_},{getState:k,extra:P}))),[4,Promise.race([J,Promise.resolve(n(_,{dispatch:C,getState:k,extra:P,requestId:D,signal:N.signal,abort:$,rejectWithValue:function(ye,Ne){return new cw(ye,Ne)},fulfillWithValue:function(ye,Ne){return new MM(ye,Ne)}})).then(function(ye){if(ye instanceof cw)throw ye;return ye instanceof MM?o(ye.payload,D,_,ye.meta):o(ye,D,_)})])];case 3:return q=Pe.sent(),[3,5];case 4:return te=Pe.sent(),q=te instanceof cw?d(null,D,_,te.payload,te.meta):d(te,D,_),[3,5];case 5:return ge=r&&!r.dispatchConditionRejection&&d.match(q)&&q.meta.condition,ge||C(q),[2,q]}})})}();return Object.assign(A,{abort:$,requestId:D,arg:_,unwrap:function(){return A.then(M8)}})}}return Object.assign(y,{pending:a,rejected:d,fulfilled:o,typePrefix:t})}return e.withTypes=function(){return e},e})();function M8(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function R8(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var sT="listenerMiddleware";Fc(sT+"/add");Fc(sT+"/removeAll");Fc(sT+"/remove");var RM;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);XU();const{reducer:A8,actions:O8}=$g({name:"errors",initialState:{errors:[]},reducers:{push(e,t){e.errors.push(t.payload)},pop(e){e.errors.length&&e.errors.shift()}}}),{reducer:D8,actions:Cl}=$g({name:"devices",initialState:{items:{},selectedId:null,selectedIds:[]},reducers:{refresh(e,t){console.log(t.payload),e.items={},t.payload.forEach(n=>e.items[n.id]=n)},update1(e,t){e.items[t.payload.id]=t.payload},update(e,t){t.payload.forEach(n=>e.items[n.id]=n)},select(e,t){e.selectedId=t.payload},selectId(e,t){e.selectedId=t.payload,e.selectedIds=[e.selectedId]},selectIds(e,t){e.selectedIds=t.payload,[e.selectedId]=e.selectedIds},remove(e,t){delete e.items[t.payload]},clear(e,t){e.items={}}}}),{reducer:z8,actions:uw}=$g({name:"data",initialState:{server:null,user:null,socket:null,camera:{},positions:{},history:{}},reducers:{updateServer(e,t){e.server=t.payload},updateUser(e,t){e.user=t.payload},updateSocket(e,t){e.socket=t.payload},updatePositions(e,t){Object.keys(t.payload).length>0&&t.payload.forEach(n=>{e.positions[n.deviceId]=n,e.history={}})},updatePosition(e,t){e.positions[t.payload.deviceId]===void 0&&(e.positions[t.payload.deviceId]={attributes:{}}),t.payload.hasOwnProperty("latitude")&&(e.positions[t.payload.deviceId].id=t.payload.id,e.positions[t.payload.deviceId].deviceId=t.payload.deviceId,e.positions[t.payload.deviceId].latitude=t.payload.latitude,e.positions[t.payload.deviceId].longitude=t.payload.longitude,e.positions[t.payload.deviceId].altitude=t.payload.altitude,e.positions[t.payload.deviceId].deviceTime=t.payload.deviceTime),t.payload.hasOwnProperty("course")&&(e.positions[t.payload.deviceId].course=t.payload.course),t.payload.hasOwnProperty("speed")&&(e.positions[t.payload.deviceId].speed=t.payload.speed),t.payload.hasOwnProperty("batteryLevel")&&(e.positions[t.payload.deviceId].attributes.batteryLevel=t.payload.batteryLevel)},updateCamera(e,t){Object.keys(t.payload).length>0&&t.payload.forEach(n=>{e.camera[n.deviceId]=n})}}}),{reducer:L8,actions:Tc}=$g({name:"mission",initialState:{name:"Mission no loaded",home:[0,0],route:[],attributes:{},selectpoint:{id:-1}},reducers:{updateWpPos(e,t){t.payload.route_id>=0&&(e.route[t.payload.route_id].wp[t.payload.wp_id].pos[0]=t.payload.lat,e.route[t.payload.route_id].wp[t.payload.wp_id].pos[1]=t.payload.lng)},selectpoint(e,t){console.log("selec point"),e.selectpoint=t.payload},reloadMission(e,t){e.route=t.payload},updateMission(e,t){if(e.name=t.payload.name,e.route=[],e.attributes={},console.log(t.payload.mission),t.payload.mission.version=="3"){console.log("version 3"),console.log("longitud"+t.payload.mission.route.length);for(let n=0;n<t.payload.mission.route.length;n++){console.log("uav - "+n),e.route[n]={},t.payload.mission.route[n].hasOwnProperty("uav")&&(e.route[n].uav=t.payload.mission.route[n].uav),e.route[n].id=n,e.route[n].name=t.payload.mission.route[n].name,e.route[n].wp=[],e.route[n].attributes={},e.home=t.payload.mission.route[n].wp[0].pos;for(let r=0;r<t.payload.mission.route[n].wp.length;r++)e.route[n].wp[r]={},e.route[n].wp[r].pos=t.payload.mission.route[n].wp[r].pos,e.route[n].wp[r].yaw=t.payload.mission.route[n].wp[r].yaw,e.route[n].wp[r].gimbal=t.payload.mission.route[n].wp[r].gimbal,t.payload.mission.route[n].wp[r].hasOwnProperty("action")&&(e.route[n].wp[r].action=t.payload.mission.route[n].wp[r].action);t.payload.mission.hasOwnProperty("attributes")&&(console.log("global attributes"),t.payload.mission.attributes.hasOwnProperty("mode_landing")&&(console.log("global attributes mode landing"),e.route[n].attributes.mode_landing=t.payload.mission.attributes.mode_landing),t.payload.mission.attributes.hasOwnProperty("mode_yaw")&&(e.route[n].attributes.mode_yaw=t.payload.mission.attributes.mode_yaw),t.payload.mission.attributes.hasOwnProperty("mode_gimbal")&&(e.route[n].attributes.mode_gimbal=t.payload.mission.attributes.mode_gimbal),t.payload.mission.attributes.hasOwnProperty("mode_trace")&&(e.route[n].attributes.mode_trace=t.payload.mission.attributes.mode_trace),t.payload.mission.attributes.hasOwnProperty("idle_vel")&&(e.route[n].attributes.idle_vel=t.payload.mission.attributes.idle_vel)),t.payload.mission.route[n].hasOwnProperty("attributes")?(console.log("have atribute"),t.payload.mission.route[n].attributes.hasOwnProperty("mode_landing")&&(console.log("have modelanding"+n),e.route[n].attributes.mode_landing=t.payload.mission.route[n].attributes.mode_landing),t.payload.mission.route[n].attributes.hasOwnProperty("mode_yaw")&&(e.route[n].attributes.mode_yaw=t.payload.mission.route[n].attributes.mode_yaw),t.payload.mission.route[n].attributes.hasOwnProperty("mode_gimbal")&&(e.route[n].attributes.mode_gimbal=t.payload.mission.route[n].attributes.mode_gimbal),t.payload.mission.route[n].attributes.hasOwnProperty("mode_trace")&&(e.route[n].attributes.mode_trace=t.payload.mission.route[n].attributes.mode_trace),t.payload.mission.route[n].attributes.hasOwnProperty("idle_vel")&&(e.route[n].attributes.idle_vel=t.payload.mission.route[n].attributes.idle_vel)):(t.payload.mission.route[n].hasOwnProperty("mode_landing")&&(console.log("have modelanding"+n),e.route[n].attributes.mode_landing=t.payload.mission.route[n].mode_landing),t.payload.mission.route[n].hasOwnProperty("mode_yaw")&&(e.route[n].attributes.mode_yaw=t.payload.mission.route[n].mode_yaw),t.payload.mission.route[n].hasOwnProperty("mode_gimbal")&&(e.route[n].attributes.mode_gimbal=t.payload.mission.route[n].mode_gimbal),t.payload.mission.route[n].hasOwnProperty("mode_trace")&&(e.route[n].attributes.mode_trace=t.payload.mission.route[n].mode_trace),t.payload.mission.route[n].hasOwnProperty("idle_vel")&&(e.route[n].attributes.idle_vel=t.payload.mission.route[n].idle_vel))}}else{console.log("mission < 3"),t.payload.mission.hasOwnProperty("mode_landing")&&(e.attributes.mode_landing=t.payload.mission.mode_landing),t.payload.mission.hasOwnProperty("mode_yaw")&&(e.attributes.mode_yaw=t.payload.mission.mode_yaw);for(let n=1;n<=t.payload.mission.uav_n;n++)if(t.payload.mission.hasOwnProperty("uav_"+n)){e.route[n]={},e.route[n].id=n,e.route[n].uav="uav_"+n,e.route[n].name="uav_"+n,e.route[n].wp=[],e.route[n].attributes={},e.home=t.payload.mission["uav_"+n].wp_0;for(let r=0;r<t.payload.mission["uav_"+n].wp_n;r++)e.route[n].wp[r]={},t.payload.mission["uav_"+n]["wp_"+r].length==3?(e.route[n].wp[r].yaw=0,e.route[n].wp[r].pos=t.payload.mission["uav_"+n]["wp_"+r]):(e.route[n].wp[r].yaw=t.payload.mission["uav_"+n]["wp_"+r][3],e.route[n].wp[r].pos=t.payload.mission["uav_"+n]["wp_"+r].slice(0,-1));t.payload.mission.hasOwnProperty("mode_landing")&&(e.route[n].attributes.mode_landing=t.payload.mission.mode_landing),t.payload.mission.hasOwnProperty("mode_yaw")&&(e.route[n].attributes.mode_yaw=t.payload.mission.mode_yaw),t.payload.mission.hasOwnProperty("idle_vel")&&(e.route[n].attributes.idle_vel=t.payload.mission.idle_vel),t.payload.mission["uav_"+n].hasOwnProperty("attributes")?(console.log("have atribute"),t.payload.mission["uav_"+n].attributes.hasOwnProperty("mode_landing")&&(console.log("have modelanding"+n),e.route[n].attributes.mode_landing=t.payload.mission["uav_"+n].attributes.mode_landing),t.payload.mission["uav_"+n].attributes.hasOwnProperty("mode_yaw")&&(e.route[n].attributes.mode_yaw=t.payload.mission["uav_"+n].attributes.mode_yaw),t.payload.mission["uav_"+n].attributes.hasOwnProperty("idle_vel")&&(e.route[n].attributes.idle_vel=t.payload.mission["uav_"+n].attributes.idle_vel)):(t.payload.mission["uav_"+n].hasOwnProperty("mode_landing")&&(console.log("have modelanding"+n),e.route[n].attributes.mode_landing=t.payload.mission["uav_"+n].mode_landing),t.payload.mission["uav_"+n].hasOwnProperty("mode_yaw")&&(e.route[n].attributes.mode_yaw=t.payload.mission["uav_"+n].mode_yaw),t.payload.mission["uav_"+n].hasOwnProperty("idle_vel")&&(e.route[n].attributes.idle_vel=t.payload.mission["uav_"+n].idle_vel))}}},clearMission(e,t){console.log("clear mission"),e.name="Mission no loaded",e.route=[],e.attributes={}}}}),{reducer:$8,actions:xv}=$g({name:"session",initialState:{server:null,user:null,socket:null,positions:{},history:{}},reducers:{updateServer(e,t){e.server=t.payload},updateUser(e,t){e.user=t.payload},updateSocket(e,t){e.socket=t.payload},updatePositions(e,t){const n=e.user.attributes.mapLiveRoutes||e.server.attributes.mapLiveRoutes||"none",r=e.user.attributes["web.liveRouteLength"]||e.user.attributes["web.liveRouteLength"]||10;t.payload.forEach(o=>{if(e.positions[o.deviceId]=o,n!=="none"){const a=e.history[o.deviceId]||[],d=a.at(-1);(!d||d[0]!==o.longitude&&d[1]!==o.latitude)&&(e.history[o.deviceId]=[...a.slice(1-r),[o.longitude,o.latitude]])}else e.history={}})}}}),AM=3,N8=1500,F8=()=>e=>{const t=[];let n=!1,r=0;return setInterval(()=>{n?(t.length<AM&&(n=!1),nu.unstable_batchedUpdates(()=>t.splice(0,t.length).forEach(o=>e(o)))):(r>AM&&(n=!0),r=0)},N8),o=>o.type==="devices/update"||o.type==="positions/update"?n?(t.push(o),null):(r+=1,e(o)):e(o)},B8=Vz({errors:A8,devices:D8,data:z8,mission:L8,session:$8}),j8=w8({reducer:B8,middleware:e=>e().concat(F8)}),U8={black:"#000",white:"#fff"},od=U8,V8={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},bl=V8,W8={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},hh=W8,q8={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},Yz=q8,G8={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},fh=G8,H8={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ph=H8,Y8={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ia=Y8,Z8={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"},aT=Z8,K8={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Qp=K8,X8={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ba=X8,em={white:od.white,background:Ba[50],primary:Yz[900],secondary:ia[800],positive:ia[500],medium:aT[700],negative:bl[500],neutral:Ba[500],geometry:"#3bb2d0"},J8={background:{default:em.background},primary:{main:em.primary},secondary:{main:em.secondary,contrastText:em.white},colors:em};var lT={exports:{}};lT.exports=Zz;lT.exports.parse=Zz;lT.exports.stringify=Kz;var OM=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,DM=new RegExp("^"+OM.source+"(\\s"+OM.source+"){1,}");function Zz(e){var t=e.split(";"),n=t.pop(),r=(t.shift()||"").split("=").pop(),o=0;function a(O){var z=n.substring(o).match(O);return z?(o+=z[0].length,z[0]):null}function d(O){return O&&r.match(/\d+/)&&(O.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+r}}),O}function c(){a(/^\s*/)}function y(){c();for(var O=0,z=[],q=[z],Y=z,J;J=a(/^(\()/)||a(/^(\))/)||a(/^(,)/)||a(DM);){if(J==="(")q.push(Y),Y=[],q[q.length-1].push(Y),O++;else if(J===")"){if(Y.length===0||(Y=q.pop(),!Y))return null;if(O--,O===0)break}else if(J===",")Y=[],q[q.length-1].push(Y);else if(!J.split(/\s/g).some(isNaN))Array.prototype.push.apply(Y,J.split(/\s/g).map(parseFloat));else return null;c()}return O!==0?null:z}function _(){for(var O=[],z,q;q=a(DM)||a(/^(,)/);)q===","?(O.push(z),z=[]):q.split(/\s/g).some(isNaN)||(z||(z=[]),Array.prototype.push.apply(z,q.split(/\s/g).map(parseFloat))),c();if(z)O.push(z);else return null;return O.length?O:null}function C(){if(!a(/^(point(\sz)?)/i)||(c(),!a(/^(\()/)))return null;var O=_();return!O||(c(),!a(/^(\))/))?null:{type:"Point",coordinates:O[0]}}function k(){if(!a(/^(multipoint)/i))return null;c();var O=n.substring(n.indexOf("(")+1,n.length-1).replace(/\(/g,"").replace(/\)/g,"");n="MULTIPOINT ("+O+")";var z=y();return z?(c(),{type:"MultiPoint",coordinates:z}):null}function P(){if(!a(/^(multilinestring)/i))return null;c();var O=y();return O?(c(),{type:"MultiLineString",coordinates:O}):null}function D(){if(!a(/^(linestring(\sz)?)/i)||(c(),!a(/^(\()/)))return null;var O=_();return!O||!a(/^(\))/)?null:{type:"LineString",coordinates:O}}function N(){if(!a(/^(polygon(\sz)?)/i))return null;c();var O=y();return O?{type:"Polygon",coordinates:O}:null}function M(){if(!a(/^(multipolygon)/i))return null;c();var O=y();return O?{type:"MultiPolygon",coordinates:O}:null}function $(){var O=[],z;if(!a(/^(geometrycollection)/i)||(c(),!a(/^(\()/)))return null;for(;z=A();)O.push(z),c(),a(/^(,)/),c();return a(/^(\))/)?{type:"GeometryCollection",geometries:O}:null}function A(){return C()||D()||N()||k()||P()||M()||$()}return d(A())}function Kz(e){e.type==="Feature"&&(e=e.geometry);function t(d){return d.join(" ")}function n(d){return d.map(t).join(", ")}function r(d){return d.map(n).map(a).join(", ")}function o(d){return d.map(r).map(a).join(", ")}function a(d){return"("+d+")"}switch(e.type){case"Point":return"POINT ("+t(e.coordinates)+")";case"LineString":return"LINESTRING ("+n(e.coordinates)+")";case"Polygon":return"POLYGON ("+r(e.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+n(e.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+o(e.coordinates)+")";case"MultiLineString":return"MULTILINESTRING ("+r(e.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+e.geometries.map(Kz).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}}const dw=e=>new Promise(t=>{const n=new Image;n.onload=()=>t(n),n.src=e}),zM=(e,t)=>{const n=document.createElement("canvas");n.width=e.width*devicePixelRatio,n.height=e.height*devicePixelRatio,n.style.width=`${e.width}px`,n.style.height=`${e.height}px`;const r=n.getContext("2d");return r.save(),r.fillStyle=t,r.globalAlpha=1,r.fillRect(0,0,n.width,n.height),r.globalCompositeOperation="destination-atop",r.globalAlpha=1,r.drawImage(e,0,0,n.width,n.height),r.restore(),n},bv=(e,t,n)=>{const r=document.createElement("canvas");r.width=e.width*devicePixelRatio,r.height=e.height*devicePixelRatio,r.style.width=`${e.width}px`,r.style.height=`${e.height}px`;const o=r.getContext("2d");if(o.drawImage(e,0,0,r.width,r.height),t){const d=r.width*.5,c=r.height*.5;o.drawImage(zM(t,n),(r.width-d)/2,(r.height-c)/2,d,c)}else n&&(console.log("entro"),o.drawImage(zM(e,n),0,0,r.width,r.height));return o.getImageData(0,0,r.width,r.height)},Bc=e=>{var d;const t=new Set,{layers:n}=e.getStyle();(d=n==null?void 0:n.forEach)==null||d.call(n,c=>{var y,_,C;(C=(_=(y=c.layout)==null?void 0:y["text-font"])==null?void 0:_.forEach)==null||C.call(_,t.add,t)});const r=[...t],o=r.find(c=>c.includes("Regular"));if(o)return[o];const a=r.find(Boolean);return a?[a]:["Roboto Regular"]},Q8="/assets/background-53c65562.svg",eV="/assets/direction-2fdacc6e.svg",hw="/assets/plane-4238c02c.svg",tV="/assets/helicopter-651bc896.svg",nV="/assets/drone1-b9b242c5.svg",rV="/assets/drone2-e1a01f63.svg",LM="/assets/drone3-e4211ef1.svg",W0={0:"#F34C28",1:"#F39A28",2:"#1EC910",3:"#1012C9",4:"#C310C9",5:"#1FDBF1",6:"#F6FD04",7:"#808080"},q0={helicopter:tV,plane:hw,drone:nV,dji:rV,px4:hw,catec:LM,fuvex:LM,default:hw},Xz=e=>q0.hasOwnProperty(e)?e:"default",Sh={},iV=async()=>{const e=await dw(Q8);Sh.background=await bv(e),Sh.direction=await bv(await dw(eV)),Object.keys(W0).forEach(t=>{Sh[`background-${t}`]=bv(e,null,W0[t])}),await Promise.all(Object.keys(q0).map(async t=>{const n=[];["primary","positive","negative","neutral"].forEach(r=>{n.push(dw(q0[t]).then(o=>{Sh[`${t}-${r}`]=bv(e,o,J8.colors[r])}))}),await Promise.all(n)})),console.log("preload icon"),console.log(Sh)};function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nf.apply(this,arguments)}function Nu(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function Jz(e){if(!Nu(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=Jz(e[n])}),t}function No(e,t,n={clone:!0}){const r=n.clone?nf({},e):e;return Nu(e)&&Nu(t)&&Object.keys(t).forEach(o=>{o!=="__proto__"&&(Nu(t[o])&&o in e&&Nu(e[o])?r[o]=No(e[o],t[o],n):n.clone?r[o]=Nu(t[o])?Jz(t[o]):t[o]:r[o]=t[o])}),r}var Qz={exports:{}},oV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",sV=oV,aV=sV;function eL(){}function tL(){}tL.resetWarningCache=eL;var lV=function(){function e(r,o,a,d,c,y){if(y!==aV){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:tL,resetWarningCache:eL};return n.PropTypes=n,n};Qz.exports=lV();var nL=Qz.exports;function Yc(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function mt(e){if(typeof e!="string")throw new Error(Yc(7));return e.charAt(0).toUpperCase()+e.slice(1)}function s2(...e){return e.reduce((t,n)=>n==null?t:function(...o){t.apply(this,o),n.apply(this,o)},()=>{})}function cT(e,t=166){let n;function r(...o){const a=()=>{e.apply(this,o)};clearTimeout(n),n=setTimeout(a,t)}return r.clear=()=>{clearTimeout(n)},r}function cV(e,t){return()=>null}function Kv(e,t){return U.isValidElement(e)&&t.indexOf(e.type.muiName)!==-1}function yi(e){return e&&e.ownerDocument||document}function Zc(e){return yi(e).defaultView||window}function uV(e,t){return()=>null}function G0(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const dV=typeof window<"u"?U.useLayoutEffect:U.useEffect,da=dV;let $M=0;function hV(e){const[t,n]=U.useState(e),r=e||t;return U.useEffect(()=>{t==null&&($M+=1,n(`mui-${$M}`))},[t]),r}const NM=d0["useId".toString()];function uT(e){if(NM!==void 0){const t=NM();return e??t}return hV(e)}function fV(e,t,n,r,o){return null}function mg({controlled:e,default:t,name:n,state:r="value"}){const{current:o}=U.useRef(e!==void 0),[a,d]=U.useState(t),c=o?e:a,y=U.useCallback(_=>{o||d(_)},[]);return[c,y]}function sa(e){const t=U.useRef(e);return da(()=>{t.current=e}),U.useCallback((...n)=>(0,t.current)(...n),[])}function Vr(...e){return U.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{G0(n,t)})},e)}let ix=!0,a2=!1,FM;const pV={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function mV(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&pV[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function gV(e){e.metaKey||e.altKey||e.ctrlKey||(ix=!0)}function fw(){ix=!1}function yV(){this.visibilityState==="hidden"&&a2&&(ix=!0)}function vV(e){e.addEventListener("keydown",gV,!0),e.addEventListener("mousedown",fw,!0),e.addEventListener("pointerdown",fw,!0),e.addEventListener("touchstart",fw,!0),e.addEventListener("visibilitychange",yV,!0)}function _V(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return ix||mV(t)}function ox(){const e=U.useCallback(o=>{o!=null&&vV(o.ownerDocument)},[]),t=U.useRef(!1);function n(){return t.current?(a2=!0,window.clearTimeout(FM),FM=window.setTimeout(()=>{a2=!1},100),t.current=!1,!0):!1}function r(o){return _V(o)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function rL(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const xV=e=>{const t=U.useRef({});return U.useEffect(()=>{t.current=e}),t.current},iL=xV;function dT(e,t){const n=nf({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=nf({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const o=e[r]||{},a=t[r];n[r]={},!a||!Object.keys(a)?n[r]=o:!o||!Object.keys(o)?n[r]=a:(n[r]=nf({},a),Object.keys(o).forEach(d=>{n[r][d]=dT(o[d],a[d])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function nn(e,t,n=void 0){const r={};return Object.keys(e).forEach(o=>{r[o]=e[o].reduce((a,d)=>{if(d){const c=t(d);c!==""&&a.push(c),n&&n[d]&&a.push(n[d])}return a},[]).join(" ")}),r}const BM=e=>e,bV=()=>{let e=BM;return{configure(t){e=t},generate(t){return e(t)},reset(){e=BM}}},wV=bV(),hT=wV,SV={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Qt(e,t,n="Mui"){const r=SV[t];return r?`${n}-${r}`:`${hT.generate(e)}-${t}`}function en(e,t,n="Mui"){const r={};return t.forEach(o=>{r[o]=Qt(e,o,n)}),r}const sd="$$material";function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(this,arguments)}function Rt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function oL(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var CV=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,TV=oL(function(e){return CV.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function kV(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function EV(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var PV=function(){function e(n){var r=this;this._insertTag=function(o){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(o,a),r.tags.push(o)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(EV(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var a=kV(o);try{a.insertRule(r,a.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Zi="-ms-",H0="-moz-",Un="-webkit-",sL="comm",fT="rule",pT="decl",IV="@import",aL="@keyframes",MV="@layer",RV=Math.abs,sx=String.fromCharCode,AV=Object.assign;function OV(e,t){return Oi(e,0)^45?(((t<<2^Oi(e,0))<<2^Oi(e,1))<<2^Oi(e,2))<<2^Oi(e,3):0}function lL(e){return e.trim()}function DV(e,t){return(e=t.exec(e))?e[0]:e}function Vn(e,t,n){return e.replace(t,n)}function l2(e,t){return e.indexOf(t)}function Oi(e,t){return e.charCodeAt(t)|0}function gg(e,t,n){return e.slice(t,n)}function Ra(e){return e.length}function mT(e){return e.length}function wv(e,t){return t.push(e),e}function zV(e,t){return e.map(t).join("")}var ax=1,bf=1,cL=0,jo=0,ui=0,Nf="";function lx(e,t,n,r,o,a,d){return{value:e,root:t,parent:n,type:r,props:o,children:a,line:ax,column:bf,length:d,return:""}}function tm(e,t){return AV(lx("",null,null,"",null,null,0),e,{length:-e.length},t)}function LV(){return ui}function $V(){return ui=jo>0?Oi(Nf,--jo):0,bf--,ui===10&&(bf=1,ax--),ui}function is(){return ui=jo<cL?Oi(Nf,jo++):0,bf++,ui===10&&(bf=1,ax++),ui}function ja(){return Oi(Nf,jo)}function Xv(){return jo}function Ng(e,t){return gg(Nf,e,t)}function yg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function uL(e){return ax=bf=1,cL=Ra(Nf=e),jo=0,[]}function dL(e){return Nf="",e}function Jv(e){return lL(Ng(jo-1,c2(e===91?e+2:e===40?e+1:e)))}function NV(e){for(;(ui=ja())&&ui<33;)is();return yg(e)>2||yg(ui)>3?"":" "}function FV(e,t){for(;--t&&is()&&!(ui<48||ui>102||ui>57&&ui<65||ui>70&&ui<97););return Ng(e,Xv()+(t<6&&ja()==32&&is()==32))}function c2(e){for(;is();)switch(ui){case e:return jo;case 34:case 39:e!==34&&e!==39&&c2(ui);break;case 40:e===41&&c2(e);break;case 92:is();break}return jo}function BV(e,t){for(;is()&&e+ui!==47+10;)if(e+ui===42+42&&ja()===47)break;return"/*"+Ng(t,jo-1)+"*"+sx(e===47?e:is())}function jV(e){for(;!yg(ja());)is();return Ng(e,jo)}function UV(e){return dL(Qv("",null,null,null,[""],e=uL(e),0,[0],e))}function Qv(e,t,n,r,o,a,d,c,y){for(var _=0,C=0,k=d,P=0,D=0,N=0,M=1,$=1,A=1,O=0,z="",q=o,Y=a,J=r,te=z;$;)switch(N=O,O=is()){case 40:if(N!=108&&Oi(te,k-1)==58){l2(te+=Vn(Jv(O),"&","&\f"),"&\f")!=-1&&(A=-1);break}case 34:case 39:case 91:te+=Jv(O);break;case 9:case 10:case 13:case 32:te+=NV(N);break;case 92:te+=FV(Xv()-1,7);continue;case 47:switch(ja()){case 42:case 47:wv(VV(BV(is(),Xv()),t,n),y);break;default:te+="/"}break;case 123*M:c[_++]=Ra(te)*A;case 125*M:case 59:case 0:switch(O){case 0:case 125:$=0;case 59+C:A==-1&&(te=Vn(te,/\f/g,"")),D>0&&Ra(te)-k&&wv(D>32?UM(te+";",r,n,k-1):UM(Vn(te," ","")+";",r,n,k-2),y);break;case 59:te+=";";default:if(wv(J=jM(te,t,n,_,C,o,c,z,q=[],Y=[],k),a),O===123)if(C===0)Qv(te,t,J,J,q,a,k,c,Y);else switch(P===99&&Oi(te,3)===110?100:P){case 100:case 108:case 109:case 115:Qv(e,J,J,r&&wv(jM(e,J,J,0,0,o,c,z,o,q=[],k),Y),o,Y,k,c,r?q:Y);break;default:Qv(te,J,J,J,[""],Y,0,c,Y)}}_=C=D=0,M=A=1,z=te="",k=d;break;case 58:k=1+Ra(te),D=N;default:if(M<1){if(O==123)--M;else if(O==125&&M++==0&&$V()==125)continue}switch(te+=sx(O),O*M){case 38:A=C>0?1:(te+="\f",-1);break;case 44:c[_++]=(Ra(te)-1)*A,A=1;break;case 64:ja()===45&&(te+=Jv(is())),P=ja(),C=k=Ra(z=te+=jV(Xv())),O++;break;case 45:N===45&&Ra(te)==2&&(M=0)}}return a}function jM(e,t,n,r,o,a,d,c,y,_,C){for(var k=o-1,P=o===0?a:[""],D=mT(P),N=0,M=0,$=0;N<r;++N)for(var A=0,O=gg(e,k+1,k=RV(M=d[N])),z=e;A<D;++A)(z=lL(M>0?P[A]+" "+O:Vn(O,/&\f/g,P[A])))&&(y[$++]=z);return lx(e,t,n,o===0?fT:c,y,_,C)}function VV(e,t,n){return lx(e,t,n,sL,sx(LV()),gg(e,2,-2),0)}function UM(e,t,n,r){return lx(e,t,n,pT,gg(e,0,r),gg(e,r+1,-1),r)}function rf(e,t){for(var n="",r=mT(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function WV(e,t,n,r){switch(e.type){case MV:if(e.children.length)break;case IV:case pT:return e.return=e.return||e.value;case sL:return"";case aL:return e.return=e.value+"{"+rf(e.children,r)+"}";case fT:e.value=e.props.join(",")}return Ra(n=rf(e.children,r))?e.return=e.value+"{"+n+"}":""}function qV(e){var t=mT(e);return function(n,r,o,a){for(var d="",c=0;c<t;c++)d+=e[c](n,r,o,a)||"";return d}}function GV(e){return function(t){t.root||(t=t.return)&&e(t)}}var HV=function(t,n,r){for(var o=0,a=0;o=a,a=ja(),o===38&&a===12&&(n[r]=1),!yg(a);)is();return Ng(t,jo)},YV=function(t,n){var r=-1,o=44;do switch(yg(o)){case 0:o===38&&ja()===12&&(n[r]=1),t[r]+=HV(jo-1,n,r);break;case 2:t[r]+=Jv(o);break;case 4:if(o===44){t[++r]=ja()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=sx(o)}while(o=is());return t},ZV=function(t,n){return dL(YV(uL(t),n))},VM=new WeakMap,KV=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,o=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!VM.get(r))&&!o){VM.set(t,!0);for(var a=[],d=ZV(n,a),c=r.props,y=0,_=0;y<d.length;y++)for(var C=0;C<c.length;C++,_++)t.props[_]=a[y]?d[y].replace(/&\f/g,c[C]):c[C]+" "+d[y]}}},XV=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function hL(e,t){switch(OV(e,t)){case 5103:return Un+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Un+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Un+e+H0+e+Zi+e+e;case 6828:case 4268:return Un+e+Zi+e+e;case 6165:return Un+e+Zi+"flex-"+e+e;case 5187:return Un+e+Vn(e,/(\w+).+(:[^]+)/,Un+"box-$1$2"+Zi+"flex-$1$2")+e;case 5443:return Un+e+Zi+"flex-item-"+Vn(e,/flex-|-self/,"")+e;case 4675:return Un+e+Zi+"flex-line-pack"+Vn(e,/align-content|flex-|-self/,"")+e;case 5548:return Un+e+Zi+Vn(e,"shrink","negative")+e;case 5292:return Un+e+Zi+Vn(e,"basis","preferred-size")+e;case 6060:return Un+"box-"+Vn(e,"-grow","")+Un+e+Zi+Vn(e,"grow","positive")+e;case 4554:return Un+Vn(e,/([^-])(transform)/g,"$1"+Un+"$2")+e;case 6187:return Vn(Vn(Vn(e,/(zoom-|grab)/,Un+"$1"),/(image-set)/,Un+"$1"),e,"")+e;case 5495:case 3959:return Vn(e,/(image-set\([^]*)/,Un+"$1$`$1");case 4968:return Vn(Vn(e,/(.+:)(flex-)?(.*)/,Un+"box-pack:$3"+Zi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Un+e+e;case 4095:case 3583:case 4068:case 2532:return Vn(e,/(.+)-inline(.+)/,Un+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ra(e)-1-t>6)switch(Oi(e,t+1)){case 109:if(Oi(e,t+4)!==45)break;case 102:return Vn(e,/(.+:)(.+)-([^]+)/,"$1"+Un+"$2-$3$1"+H0+(Oi(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~l2(e,"stretch")?hL(Vn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Oi(e,t+1)!==115)break;case 6444:switch(Oi(e,Ra(e)-3-(~l2(e,"!important")&&10))){case 107:return Vn(e,":",":"+Un)+e;case 101:return Vn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Un+(Oi(e,14)===45?"inline-":"")+"box$3$1"+Un+"$2$3$1"+Zi+"$2box$3")+e}break;case 5936:switch(Oi(e,t+11)){case 114:return Un+e+Zi+Vn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Un+e+Zi+Vn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Un+e+Zi+Vn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Un+e+Zi+e+e}return e}var JV=function(t,n,r,o){if(t.length>-1&&!t.return)switch(t.type){case pT:t.return=hL(t.value,t.length);break;case aL:return rf([tm(t,{value:Vn(t.value,"@","@"+Un)})],o);case fT:if(t.length)return zV(t.props,function(a){switch(DV(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return rf([tm(t,{props:[Vn(a,/:(read-\w+)/,":"+H0+"$1")]})],o);case"::placeholder":return rf([tm(t,{props:[Vn(a,/:(plac\w+)/,":"+Un+"input-$1")]}),tm(t,{props:[Vn(a,/:(plac\w+)/,":"+H0+"$1")]}),tm(t,{props:[Vn(a,/:(plac\w+)/,Zi+"input-$1")]})],o)}return""})}},QV=[JV],fL=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(M){var $=M.getAttribute("data-emotion");$.indexOf(" ")!==-1&&(document.head.appendChild(M),M.setAttribute("data-s",""))})}var o=t.stylisPlugins||QV,a={},d,c=[];d=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(M){for(var $=M.getAttribute("data-emotion").split(" "),A=1;A<$.length;A++)a[$[A]]=!0;c.push(M)});var y,_=[KV,XV];{var C,k=[WV,GV(function(M){C.insert(M)})],P=qV(_.concat(o,k)),D=function($){return rf(UV($),P)};y=function($,A,O,z){C=O,D($?$+"{"+A.styles+"}":A.styles),z&&(N.inserted[A.name]=!0)}}var N={key:n,sheet:new PV({key:n,container:d,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:y};return N.sheet.hydrate(c),N},eW=!0;function tW(e,t,n){var r="";return n.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):r+=o+" "}),r}var pL=function(t,n,r){var o=t.key+"-"+n.name;(r===!1||eW===!1)&&t.registered[o]===void 0&&(t.registered[o]=n.styles)},mL=function(t,n,r){pL(t,n,r);var o=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var a=n;do t.insert(n===a?"."+o:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function nW(e){for(var t=0,n,r=0,o=e.length;o>=4;++r,o-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var rW={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},iW=/[A-Z]|^ms/g,oW=/_EMO_([^_]+?)_([^]*?)_EMO_/g,gL=function(t){return t.charCodeAt(1)===45},WM=function(t){return t!=null&&typeof t!="boolean"},pw=oL(function(e){return gL(e)?e:e.replace(iW,"-$&").toLowerCase()}),qM=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(oW,function(r,o,a){return Aa={name:o,styles:a,next:Aa},o})}return rW[t]!==1&&!gL(t)&&typeof n=="number"&&n!==0?n+"px":n};function vg(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Aa={name:n.name,styles:n.styles,next:Aa},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Aa={name:r.name,styles:r.styles,next:Aa},r=r.next;var o=n.styles+";";return o}return sW(e,t,n)}case"function":{if(e!==void 0){var a=Aa,d=n(e);return Aa=a,vg(e,t,d)}break}}if(t==null)return n;var c=t[n];return c!==void 0?c:n}function sW(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=vg(e,t,n[o])+";";else for(var a in n){var d=n[a];if(typeof d!="object")t!=null&&t[d]!==void 0?r+=a+"{"+t[d]+"}":WM(d)&&(r+=pw(a)+":"+qM(a,d)+";");else if(Array.isArray(d)&&typeof d[0]=="string"&&(t==null||t[d[0]]===void 0))for(var c=0;c<d.length;c++)WM(d[c])&&(r+=pw(a)+":"+qM(a,d[c])+";");else{var y=vg(e,t,d);switch(a){case"animation":case"animationName":{r+=pw(a)+":"+y+";";break}default:r+=a+"{"+y+"}"}}}return r}var GM=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Aa,gT=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var o=!0,a="";Aa=void 0;var d=t[0];d==null||d.raw===void 0?(o=!1,a+=vg(r,n,d)):a+=d[0];for(var c=1;c<t.length;c++)a+=vg(r,n,t[c]),o&&(a+=d[c]);GM.lastIndex=0;for(var y="",_;(_=GM.exec(a))!==null;)y+="-"+_[1];var C=nW(a)+y;return{name:C,styles:a,next:Aa}},aW=function(t){return t()},yL=d0["useInsertionEffect"]?d0["useInsertionEffect"]:!1,lW=yL||aW,HM=yL||U.useLayoutEffect,vL=U.createContext(typeof HTMLElement<"u"?fL({key:"css"}):null),cW=vL.Provider,_L=function(t){return U.forwardRef(function(n,r){var o=U.useContext(vL);return t(n,o,r)})},cx=U.createContext({}),uW=_L(function(e,t){var n=e.styles,r=gT([n],void 0,U.useContext(cx)),o=U.useRef();return HM(function(){var a=t.key+"-global",d=new t.sheet.constructor({key:a,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),c=!1,y=document.querySelector('style[data-emotion="'+a+" "+r.name+'"]');return t.sheet.tags.length&&(d.before=t.sheet.tags[0]),y!==null&&(c=!0,y.setAttribute("data-emotion",a),d.hydrate([y])),o.current=[d,c],function(){d.flush()}},[t]),HM(function(){var a=o.current,d=a[0],c=a[1];if(c){a[1]=!1;return}if(r.next!==void 0&&mL(t,r.next,!0),d.tags.length){var y=d.tags[d.tags.length-1].nextElementSibling;d.before=y,d.flush()}t.insert("",r,d,!1)},[t,r.name]),null});function dW(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gT(t)}var yT=function(){var t=dW.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},hW=TV,fW=function(t){return t!=="theme"},YM=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?hW:fW},ZM=function(t,n,r){var o;if(n){var a=n.shouldForwardProp;o=t.__emotion_forwardProp&&a?function(d){return t.__emotion_forwardProp(d)&&a(d)}:a}return typeof o!="function"&&r&&(o=t.__emotion_forwardProp),o},pW=function(t){var n=t.cache,r=t.serialized,o=t.isStringTag;return pL(n,r,o),lW(function(){return mL(n,r,o)}),null},mW=function e(t,n){var r=t.__emotion_real===t,o=r&&t.__emotion_base||t,a,d;n!==void 0&&(a=n.label,d=n.target);var c=ZM(t,n,r),y=c||YM(o),_=!y("as");return function(){var C=arguments,k=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(a!==void 0&&k.push("label:"+a+";"),C[0]==null||C[0].raw===void 0)k.push.apply(k,C);else{k.push(C[0][0]);for(var P=C.length,D=1;D<P;D++)k.push(C[D],C[0][D])}var N=_L(function(M,$,A){var O=_&&M.as||o,z="",q=[],Y=M;if(M.theme==null){Y={};for(var J in M)Y[J]=M[J];Y.theme=U.useContext(cx)}typeof M.className=="string"?z=tW($.registered,q,M.className):M.className!=null&&(z=M.className+" ");var te=gT(k.concat(q),$.registered,Y);z+=$.key+"-"+te.name,d!==void 0&&(z+=" "+d);var ge=_&&c===void 0?YM(O):y,Pe={};for(var ye in M)_&&ye==="as"||ge(ye)&&(Pe[ye]=M[ye]);return Pe.className=z,Pe.ref=A,U.createElement(U.Fragment,null,U.createElement(pW,{cache:$,serialized:te,isStringTag:typeof O=="string"}),U.createElement(O,Pe))});return N.displayName=a!==void 0?a:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",N.defaultProps=t.defaultProps,N.__emotion_real=N,N.__emotion_base=o,N.__emotion_styles=k,N.__emotion_forwardProp=c,Object.defineProperty(N,"toString",{value:function(){return"."+d}}),N.withComponent=function(M,$){return e(M,rr({},n,$,{shouldForwardProp:ZM(N,$,!0)})).apply(void 0,k)},N}},gW=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],u2=mW.bind();gW.forEach(function(e){u2[e]=u2(e)});let d2;typeof document=="object"&&(d2=fL({key:"css",prepend:!0}));function yW(e){const{injectFirst:t,children:n}=e;return t&&d2?F.jsx(cW,{value:d2,children:n}):n}function vW(e){return e==null||Object.keys(e).length===0}function _W(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?o=>t(vW(o)?n:o):t;return F.jsx(uW,{styles:r})}/**
 * @mui/styled-engine v5.13.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function xL(e,t){return u2(e,t)}const xW=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))};function nr(){return nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nr.apply(this,arguments)}function pd(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}const bW=["values","unit","step"],wW=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>nr({},n,{[r.key]:r.val}),{})};function SW(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,o=pd(e,bW),a=wW(t),d=Object.keys(a);function c(P){return`@media (min-width:${typeof t[P]=="number"?t[P]:P}${n})`}function y(P){return`@media (max-width:${(typeof t[P]=="number"?t[P]:P)-r/100}${n})`}function _(P,D){const N=d.indexOf(D);return`@media (min-width:${typeof t[P]=="number"?t[P]:P}${n}) and (max-width:${(N!==-1&&typeof t[d[N]]=="number"?t[d[N]]:D)-r/100}${n})`}function C(P){return d.indexOf(P)+1<d.length?_(P,d[d.indexOf(P)+1]):c(P)}function k(P){const D=d.indexOf(P);return D===0?c(d[1]):D===d.length-1?y(d[D]):_(P,d[d.indexOf(P)+1]).replace("@media","@media not all and")}return nr({keys:d,values:a,up:c,down:y,between:_,only:C,not:k,unit:n},o)}const CW={borderRadius:4},TW=CW;function $m(e,t){return t?No(e,t,{clone:!1}):e}const vT={xs:0,sm:600,md:900,lg:1200,xl:1536},KM={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${vT[e]}px)`};function Ll(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const a=r.breakpoints||KM;return t.reduce((d,c,y)=>(d[a.up(a.keys[y])]=n(t[y]),d),{})}if(typeof t=="object"){const a=r.breakpoints||KM;return Object.keys(t).reduce((d,c)=>{if(Object.keys(a.values||vT).indexOf(c)!==-1){const y=a.up(c);d[y]=n(t[c],c)}else{const y=c;d[y]=t[y]}return d},{})}return n(t)}function kW(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,o)=>{const a=e.up(o);return r[a]={},r},{}))||{}}function EW(e,t){return e.reduce((n,r)=>{const o=n[r];return(!o||Object.keys(o).length===0)&&delete n[r],n},t)}function wf(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((o,a)=>o&&o[a]?o[a]:null,e);if(r!=null)return r}return t.split(".").reduce((r,o)=>r&&r[o]!=null?r[o]:null,e)}function Y0(e,t,n,r=n){let o;return typeof e=="function"?o=e(n):Array.isArray(e)?o=e[n]||r:o=wf(e,n)||r,t&&(o=t(o,r,e)),o}function Wn(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:o}=e,a=d=>{if(d[t]==null)return null;const c=d[t],y=d.theme,_=wf(y,r)||{};return Ll(d,c,k=>{let P=Y0(_,o,k);return k===P&&typeof k=="string"&&(P=Y0(_,o,`${t}${k==="default"?"":mt(k)}`,k)),n===!1?P:{[n]:P}})};return a.propTypes={},a.filterProps=[t],a}function PW(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const IW={m:"margin",p:"padding"},MW={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},XM={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},RW=PW(e=>{if(e.length>2)if(XM[e])e=XM[e];else return[e];const[t,n]=e.split(""),r=IW[t],o=MW[n]||"";return Array.isArray(o)?o.map(a=>r+a):[r+o]}),_T=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],xT=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[..._T,...xT];function Fg(e,t,n,r){var o;const a=(o=wf(e,t,!1))!=null?o:n;return typeof a=="number"?d=>typeof d=="string"?d:a*d:Array.isArray(a)?d=>typeof d=="string"?d:a[d]:typeof a=="function"?a:()=>{}}function bL(e){return Fg(e,"spacing",8)}function Bg(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function AW(e,t){return n=>e.reduce((r,o)=>(r[o]=Bg(t,n),r),{})}function OW(e,t,n,r){if(t.indexOf(n)===-1)return null;const o=RW(n),a=AW(o,r),d=e[n];return Ll(e,d,a)}function wL(e,t){const n=bL(e.theme);return Object.keys(e).map(r=>OW(e,t,r,n)).reduce($m,{})}function Hr(e){return wL(e,_T)}Hr.propTypes={};Hr.filterProps=_T;function Yr(e){return wL(e,xT)}Yr.propTypes={};Yr.filterProps=xT;function DW(e=8){if(e.mui)return e;const t=bL({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(a=>{const d=t(a);return typeof d=="number"?`${d}px`:d}).join(" ");return n.mui=!0,n}function ux(...e){const t=e.reduce((r,o)=>(o.filterProps.forEach(a=>{r[a]=o}),r),{}),n=r=>Object.keys(r).reduce((o,a)=>t[a]?$m(o,t[a](r)):o,{});return n.propTypes={},n.filterProps=e.reduce((r,o)=>r.concat(o.filterProps),[]),n}function Da(e){return typeof e!="number"?e:`${e}px solid`}const zW=Wn({prop:"border",themeKey:"borders",transform:Da}),LW=Wn({prop:"borderTop",themeKey:"borders",transform:Da}),$W=Wn({prop:"borderRight",themeKey:"borders",transform:Da}),NW=Wn({prop:"borderBottom",themeKey:"borders",transform:Da}),FW=Wn({prop:"borderLeft",themeKey:"borders",transform:Da}),BW=Wn({prop:"borderColor",themeKey:"palette"}),jW=Wn({prop:"borderTopColor",themeKey:"palette"}),UW=Wn({prop:"borderRightColor",themeKey:"palette"}),VW=Wn({prop:"borderBottomColor",themeKey:"palette"}),WW=Wn({prop:"borderLeftColor",themeKey:"palette"}),dx=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Fg(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Bg(t,r)});return Ll(e,e.borderRadius,n)}return null};dx.propTypes={};dx.filterProps=["borderRadius"];ux(zW,LW,$W,NW,FW,BW,jW,UW,VW,WW,dx);const hx=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Fg(e.theme,"spacing",8),n=r=>({gap:Bg(t,r)});return Ll(e,e.gap,n)}return null};hx.propTypes={};hx.filterProps=["gap"];const fx=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Fg(e.theme,"spacing",8),n=r=>({columnGap:Bg(t,r)});return Ll(e,e.columnGap,n)}return null};fx.propTypes={};fx.filterProps=["columnGap"];const px=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Fg(e.theme,"spacing",8),n=r=>({rowGap:Bg(t,r)});return Ll(e,e.rowGap,n)}return null};px.propTypes={};px.filterProps=["rowGap"];const qW=Wn({prop:"gridColumn"}),GW=Wn({prop:"gridRow"}),HW=Wn({prop:"gridAutoFlow"}),YW=Wn({prop:"gridAutoColumns"}),ZW=Wn({prop:"gridAutoRows"}),KW=Wn({prop:"gridTemplateColumns"}),XW=Wn({prop:"gridTemplateRows"}),JW=Wn({prop:"gridTemplateAreas"}),QW=Wn({prop:"gridArea"});ux(hx,fx,px,qW,GW,HW,YW,ZW,KW,XW,JW,QW);function of(e,t){return t==="grey"?t:e}const e9=Wn({prop:"color",themeKey:"palette",transform:of}),t9=Wn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:of}),n9=Wn({prop:"backgroundColor",themeKey:"palette",transform:of});ux(e9,t9,n9);function es(e){return e<=1&&e!==0?`${e*100}%`:e}const r9=Wn({prop:"width",transform:es}),bT=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r;return{maxWidth:((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||vT[n]||es(n)}};return Ll(e,e.maxWidth,t)}return null};bT.filterProps=["maxWidth"];const i9=Wn({prop:"minWidth",transform:es}),o9=Wn({prop:"height",transform:es}),s9=Wn({prop:"maxHeight",transform:es}),a9=Wn({prop:"minHeight",transform:es});Wn({prop:"size",cssProperty:"width",transform:es});Wn({prop:"size",cssProperty:"height",transform:es});const l9=Wn({prop:"boxSizing"});ux(r9,bT,i9,o9,s9,a9,l9);const c9={border:{themeKey:"borders",transform:Da},borderTop:{themeKey:"borders",transform:Da},borderRight:{themeKey:"borders",transform:Da},borderBottom:{themeKey:"borders",transform:Da},borderLeft:{themeKey:"borders",transform:Da},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:dx},color:{themeKey:"palette",transform:of},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:of},backgroundColor:{themeKey:"palette",transform:of},p:{style:Yr},pt:{style:Yr},pr:{style:Yr},pb:{style:Yr},pl:{style:Yr},px:{style:Yr},py:{style:Yr},padding:{style:Yr},paddingTop:{style:Yr},paddingRight:{style:Yr},paddingBottom:{style:Yr},paddingLeft:{style:Yr},paddingX:{style:Yr},paddingY:{style:Yr},paddingInline:{style:Yr},paddingInlineStart:{style:Yr},paddingInlineEnd:{style:Yr},paddingBlock:{style:Yr},paddingBlockStart:{style:Yr},paddingBlockEnd:{style:Yr},m:{style:Hr},mt:{style:Hr},mr:{style:Hr},mb:{style:Hr},ml:{style:Hr},mx:{style:Hr},my:{style:Hr},margin:{style:Hr},marginTop:{style:Hr},marginRight:{style:Hr},marginBottom:{style:Hr},marginLeft:{style:Hr},marginX:{style:Hr},marginY:{style:Hr},marginInline:{style:Hr},marginInlineStart:{style:Hr},marginInlineEnd:{style:Hr},marginBlock:{style:Hr},marginBlockStart:{style:Hr},marginBlockEnd:{style:Hr},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:hx},rowGap:{style:px},columnGap:{style:fx},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:es},maxWidth:{style:bT},minWidth:{transform:es},height:{transform:es},maxHeight:{transform:es},minHeight:{transform:es},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},mx=c9;function u9(...e){const t=e.reduce((r,o)=>r.concat(Object.keys(o)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function d9(e,t){return typeof e=="function"?e(t):e}function h9(){function e(n,r,o,a){const d={[n]:r,theme:o},c=a[n];if(!c)return{[n]:r};const{cssProperty:y=n,themeKey:_,transform:C,style:k}=c;if(r==null)return null;if(_==="typography"&&r==="inherit")return{[n]:r};const P=wf(o,_)||{};return k?k(d):Ll(d,r,N=>{let M=Y0(P,C,N);return N===M&&typeof N=="string"&&(M=Y0(P,C,`${n}${N==="default"?"":mt(N)}`,N)),y===!1?M:{[y]:M}})}function t(n){var r;const{sx:o,theme:a={}}=n||{};if(!o)return null;const d=(r=a.unstable_sxConfig)!=null?r:mx;function c(y){let _=y;if(typeof y=="function")_=y(a);else if(typeof y!="object")return y;if(!_)return null;const C=kW(a.breakpoints),k=Object.keys(C);let P=C;return Object.keys(_).forEach(D=>{const N=d9(_[D],a);if(N!=null)if(typeof N=="object")if(d[D])P=$m(P,e(D,N,a,d));else{const M=Ll({theme:a},N,$=>({[D]:$}));u9(M,N)?P[D]=t({sx:N,theme:a}):P=$m(P,M)}else P=$m(P,e(D,N,a,d))}),EW(k,P)}return Array.isArray(o)?o.map(c):c(o)}return t}const SL=h9();SL.filterProps=["sx"];const gx=SL,f9=["breakpoints","palette","spacing","shape"];function yx(e={},...t){const{breakpoints:n={},palette:r={},spacing:o,shape:a={}}=e,d=pd(e,f9),c=SW(n),y=DW(o);let _=No({breakpoints:c,direction:"ltr",components:{},palette:nr({mode:"light"},r),spacing:y,shape:nr({},TW,a)},d);return _=t.reduce((C,k)=>No(C,k),_),_.unstable_sxConfig=nr({},mx,d==null?void 0:d.unstable_sxConfig),_.unstable_sx=function(k){return gx({sx:k,theme:this})},_}function p9(e){return Object.keys(e).length===0}function wT(e=null){const t=U.useContext(cx);return!t||p9(t)?e:t}const m9=yx();function vx(e=m9){return wT(e)}function g9({styles:e,themeId:t,defaultTheme:n={}}){const r=vx(n),o=typeof e=="function"?e(t&&r[t]||r):e;return F.jsx(_W,{styles:o})}const y9=["sx"],v9=e=>{var t,n;const r={systemProps:{},otherProps:{}},o=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:mx;return Object.keys(e).forEach(a=>{o[a]?r.systemProps[a]=e[a]:r.otherProps[a]=e[a]}),r};function CL(e){const{sx:t}=e,n=pd(e,y9),{systemProps:r,otherProps:o}=v9(n);let a;return Array.isArray(t)?a=[r,...t]:typeof t=="function"?a=(...d)=>{const c=t(...d);return Nu(c)?nr({},r,c):r}:a=nr({},r,t),nr({},o,{sx:a})}function TL(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=TL(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function kL(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=TL(e))&&(r&&(r+=" "),r+=t);return r}const _9=["className","component"];function x9(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=e,a=xL("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(gx);return U.forwardRef(function(y,_){const C=vx(n),k=CL(y),{className:P,component:D="div"}=k,N=pd(k,_9);return F.jsx(a,nr({as:D,ref:_,className:kL(P,o?o(r):r),theme:t&&C[t]||C},N))})}const b9=["variant"];function JM(e){return e.length===0}function EL(e){const{variant:t}=e,n=pd(e,b9);let r=t||"";return Object.keys(n).sort().forEach(o=>{o==="color"?r+=JM(r)?e[o]:mt(e[o]):r+=`${JM(r)?o:mt(o)}${mt(e[o].toString())}`}),r}const w9=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function S9(e){return Object.keys(e).length===0}function C9(e){return typeof e=="string"&&e.charCodeAt(0)>96}const T9=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,k9=(e,t)=>{let n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);const r={};return n.forEach(o=>{const a=EL(o.props);r[a]=o.style}),r},E9=(e,t,n,r)=>{var o;const{ownerState:a={}}=e,d=[],c=n==null||(o=n.components)==null||(o=o[r])==null?void 0:o.variants;return c&&c.forEach(y=>{let _=!0;Object.keys(y.props).forEach(C=>{a[C]!==y.props[C]&&e[C]!==y.props[C]&&(_=!1)}),_&&d.push(t[EL(y.props)])}),d};function Nm(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const P9=yx(),I9=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function nm({defaultTheme:e,theme:t,themeId:n}){return S9(t)?e:t[n]||t}function M9(e){return e?(t,n)=>n[e]:null}function PL(e={}){const{themeId:t,defaultTheme:n=P9,rootShouldForwardProp:r=Nm,slotShouldForwardProp:o=Nm}=e,a=d=>gx(nr({},d,{theme:nm(nr({},d,{defaultTheme:n,themeId:t}))}));return a.__mui_systemSx=!0,(d,c={})=>{xW(d,q=>q.filter(Y=>!(Y!=null&&Y.__mui_systemSx)));const{name:y,slot:_,skipVariantsResolver:C,skipSx:k,overridesResolver:P=M9(I9(_))}=c,D=pd(c,w9),N=C!==void 0?C:_&&_!=="Root"&&_!=="root"||!1,M=k||!1;let $,A=Nm;_==="Root"||_==="root"?A=r:_?A=o:C9(d)&&(A=void 0);const O=xL(d,nr({shouldForwardProp:A,label:$},D)),z=(q,...Y)=>{const J=Y?Y.map(ye=>typeof ye=="function"&&ye.__emotion_real!==ye?Ne=>ye(nr({},Ne,{theme:nm(nr({},Ne,{defaultTheme:n,themeId:t}))})):ye):[];let te=q;y&&P&&J.push(ye=>{const Ne=nm(nr({},ye,{defaultTheme:n,themeId:t})),Ve=T9(y,Ne);if(Ve){const et={};return Object.entries(Ve).forEach(([Ze,Ke])=>{et[Ze]=typeof Ke=="function"?Ke(nr({},ye,{theme:Ne})):Ke}),P(ye,et)}return null}),y&&!N&&J.push(ye=>{const Ne=nm(nr({},ye,{defaultTheme:n,themeId:t}));return E9(ye,k9(y,Ne),Ne,y)}),M||J.push(a);const ge=J.length-Y.length;if(Array.isArray(q)&&ge>0){const ye=new Array(ge).fill("");te=[...q,...ye],te.raw=[...q.raw,...ye]}else typeof q=="function"&&q.__emotion_real!==q&&(te=ye=>q(nr({},ye,{theme:nm(nr({},ye,{defaultTheme:n,themeId:t}))})));const Pe=O(te,...J);return d.muiName&&(Pe.muiName=d.muiName),Pe};return O.withConfig&&(z.withConfig=O.withConfig),z}}const R9=PL(),A9=R9;function O9(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:dT(t.components[n].defaultProps,r)}function IL({props:e,name:t,defaultTheme:n,themeId:r}){let o=vx(n);return r&&(o=o[r]||o),O9({theme:o,name:t,props:e})}function ST(e,t=0,n=1){return Math.min(Math.max(t,e),n)}function D9(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,o)=>o<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ad(e){if(e.type)return e;if(e.charAt(0)==="#")return ad(D9(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Yc(9,e));let r=e.substring(t+1,e.length-1),o;if(n==="color"){if(r=r.split(" "),o=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o)===-1)throw new Error(Yc(10,o))}else r=r.split(",");return r=r.map(a=>parseFloat(a)),{type:n,values:r,colorSpace:o}}function _x(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((o,a)=>a<3?parseInt(o,10):o):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function z9(e){e=ad(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,a=r*Math.min(o,1-o),d=(_,C=(_+n/30)%12)=>o-a*Math.max(Math.min(C-3,9-C,1),-1);let c="rgb";const y=[Math.round(d(0)*255),Math.round(d(8)*255),Math.round(d(4)*255)];return e.type==="hsla"&&(c+="a",y.push(t[3])),_x({type:c,values:y})}function h2(e){e=ad(e);let t=e.type==="hsl"||e.type==="hsla"?ad(z9(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function L9(e,t){const n=h2(e),r=h2(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function vr(e,t){return e=ad(e),t=ST(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,_x(e)}function CT(e,t){if(e=ad(e),t=ST(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return _x(e)}function TT(e,t){if(e=ad(e),t=ST(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return _x(e)}function $9(e,t=.15){return h2(e)>.5?CT(e,t):TT(e,t)}function f2(){return f2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f2.apply(this,arguments)}const N9=U.createContext(null),ML=N9;function kT(){return U.useContext(ML)}const F9=typeof Symbol=="function"&&Symbol.for,RL=F9?Symbol.for("mui.nested"):"__THEME_NESTED__";function B9(e,t){return typeof t=="function"?t(e):f2({},e,t)}function j9(e){const{children:t,theme:n}=e,r=kT(),o=U.useMemo(()=>{const a=r===null?n:B9(r,n);return a!=null&&(a[RL]=r!==null),a},[n,r]);return F.jsx(ML.Provider,{value:o,children:t})}const QM={};function eR(e,t,n,r=!1){return U.useMemo(()=>{const o=e&&t[e]||t;if(typeof n=="function"){const a=n(o),d=e?nr({},t,{[e]:a}):a;return r?()=>d:d}return e?nr({},t,{[e]:n}):nr({},t,n)},[e,t,n,r])}function U9(e){const{children:t,theme:n,themeId:r}=e,o=wT(QM),a=kT()||QM,d=eR(r,o,n),c=eR(r,a,n,!0);return F.jsx(j9,{theme:c,children:F.jsx(cx.Provider,{value:d,children:t})})}const V9=["className","component","disableGutters","fixed","maxWidth","classes"],W9=yx(),q9=A9("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${mt(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),G9=e=>IL({props:e,name:"MuiContainer",defaultTheme:W9}),H9=(e,t)=>{const n=y=>Qt(t,y),{classes:r,fixed:o,disableGutters:a,maxWidth:d}=e,c={root:["root",d&&`maxWidth${mt(String(d))}`,o&&"fixed",a&&"disableGutters"]};return nn(c,n,r)};function Y9(e={}){const{createStyledComponent:t=q9,useThemeProps:n=G9,componentName:r="MuiContainer"}=e,o=t(({theme:d,ownerState:c})=>nr({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!c.disableGutters&&{paddingLeft:d.spacing(2),paddingRight:d.spacing(2),[d.breakpoints.up("sm")]:{paddingLeft:d.spacing(3),paddingRight:d.spacing(3)}}),({theme:d,ownerState:c})=>c.fixed&&Object.keys(d.breakpoints.values).reduce((y,_)=>{const C=_,k=d.breakpoints.values[C];return k!==0&&(y[d.breakpoints.up(C)]={maxWidth:`${k}${d.breakpoints.unit}`}),y},{}),({theme:d,ownerState:c})=>nr({},c.maxWidth==="xs"&&{[d.breakpoints.up("xs")]:{maxWidth:Math.max(d.breakpoints.values.xs,444)}},c.maxWidth&&c.maxWidth!=="xs"&&{[d.breakpoints.up(c.maxWidth)]:{maxWidth:`${d.breakpoints.values[c.maxWidth]}${d.breakpoints.unit}`}}));return U.forwardRef(function(c,y){const _=n(c),{className:C,component:k="div",disableGutters:P=!1,fixed:D=!1,maxWidth:N="lg"}=_,M=pd(_,V9),$=nr({},_,{component:k,disableGutters:P,fixed:D,maxWidth:N}),A=H9($,r);return F.jsx(o,nr({as:k,ownerState:$,className:kL(A.root,C),ref:y},M))})}function Z9(e,t){return ne({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const K9=["mode","contrastThreshold","tonalOffset"],tR={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:od.white,default:od.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},mw={text:{primary:od.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:od.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function nR(e,t,n,r){const o=r.light||r,a=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=TT(e.main,o):t==="dark"&&(e.dark=CT(e.main,a)))}function X9(e="light"){return e==="dark"?{main:fh[200],light:fh[50],dark:fh[400]}:{main:fh[700],light:fh[400],dark:fh[800]}}function J9(e="light"){return e==="dark"?{main:hh[200],light:hh[50],dark:hh[400]}:{main:hh[500],light:hh[300],dark:hh[700]}}function Q9(e="light"){return e==="dark"?{main:bl[500],light:bl[300],dark:bl[700]}:{main:bl[700],light:bl[400],dark:bl[800]}}function e7(e="light"){return e==="dark"?{main:ph[400],light:ph[300],dark:ph[700]}:{main:ph[700],light:ph[500],dark:ph[900]}}function t7(e="light"){return e==="dark"?{main:ia[400],light:ia[300],dark:ia[700]}:{main:ia[800],light:ia[500],dark:ia[900]}}function n7(e="light"){return e==="dark"?{main:Qp[400],light:Qp[300],dark:Qp[700]}:{main:"#ed6c02",light:Qp[500],dark:Qp[900]}}function r7(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,o=Rt(e,K9),a=e.primary||X9(t),d=e.secondary||J9(t),c=e.error||Q9(t),y=e.info||e7(t),_=e.success||t7(t),C=e.warning||n7(t);function k(M){return L9(M,mw.text.primary)>=n?mw.text.primary:tR.text.primary}const P=({color:M,name:$,mainShade:A=500,lightShade:O=300,darkShade:z=700})=>{if(M=ne({},M),!M.main&&M[A]&&(M.main=M[A]),!M.hasOwnProperty("main"))throw new Error(Yc(11,$?` (${$})`:"",A));if(typeof M.main!="string")throw new Error(Yc(12,$?` (${$})`:"",JSON.stringify(M.main)));return nR(M,"light",O,r),nR(M,"dark",z,r),M.contrastText||(M.contrastText=k(M.main)),M},D={dark:mw,light:tR};return No(ne({common:ne({},od),mode:t,primary:P({color:a,name:"primary"}),secondary:P({color:d,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:P({color:c,name:"error"}),warning:P({color:C,name:"warning"}),info:P({color:y,name:"info"}),success:P({color:_,name:"success"}),grey:Ba,contrastThreshold:n,getContrastText:k,augmentColor:P,tonalOffset:r},D[t]),o)}const i7=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function o7(e){return Math.round(e*1e5)/1e5}const rR={textTransform:"uppercase"},iR='"Roboto", "Helvetica", "Arial", sans-serif';function s7(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=iR,fontSize:o=14,fontWeightLight:a=300,fontWeightRegular:d=400,fontWeightMedium:c=500,fontWeightBold:y=700,htmlFontSize:_=16,allVariants:C,pxToRem:k}=n,P=Rt(n,i7),D=o/14,N=k||(A=>`${A/_*D}rem`),M=(A,O,z,q,Y)=>ne({fontFamily:r,fontWeight:A,fontSize:N(O),lineHeight:z},r===iR?{letterSpacing:`${o7(q/O)}em`}:{},Y,C),$={h1:M(a,96,1.167,-1.5),h2:M(a,60,1.2,-.5),h3:M(d,48,1.167,0),h4:M(d,34,1.235,.25),h5:M(d,24,1.334,0),h6:M(c,20,1.6,.15),subtitle1:M(d,16,1.75,.15),subtitle2:M(c,14,1.57,.1),body1:M(d,16,1.5,.15),body2:M(d,14,1.43,.15),button:M(c,14,1.75,.4,rR),caption:M(d,12,1.66,.4),overline:M(d,12,2.66,1,rR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return No(ne({htmlFontSize:_,pxToRem:N,fontFamily:r,fontSize:o,fontWeightLight:a,fontWeightRegular:d,fontWeightMedium:c,fontWeightBold:y},$),P,{clone:!1})}const a7=.2,l7=.14,c7=.12;function Cr(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${a7})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${l7})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${c7})`].join(",")}const u7=["none",Cr(0,2,1,-1,0,1,1,0,0,1,3,0),Cr(0,3,1,-2,0,2,2,0,0,1,5,0),Cr(0,3,3,-2,0,3,4,0,0,1,8,0),Cr(0,2,4,-1,0,4,5,0,0,1,10,0),Cr(0,3,5,-1,0,5,8,0,0,1,14,0),Cr(0,3,5,-1,0,6,10,0,0,1,18,0),Cr(0,4,5,-2,0,7,10,1,0,2,16,1),Cr(0,5,5,-3,0,8,10,1,0,3,14,2),Cr(0,5,6,-3,0,9,12,1,0,3,16,2),Cr(0,6,6,-3,0,10,14,1,0,4,18,3),Cr(0,6,7,-4,0,11,15,1,0,4,20,3),Cr(0,7,8,-4,0,12,17,2,0,5,22,4),Cr(0,7,8,-4,0,13,19,2,0,5,24,4),Cr(0,7,9,-4,0,14,21,2,0,5,26,4),Cr(0,8,9,-5,0,15,22,2,0,6,28,5),Cr(0,8,10,-5,0,16,24,2,0,6,30,5),Cr(0,8,11,-5,0,17,26,2,0,6,32,5),Cr(0,9,11,-5,0,18,28,2,0,7,34,6),Cr(0,9,12,-6,0,19,29,2,0,7,36,6),Cr(0,10,13,-6,0,20,31,3,0,8,38,7),Cr(0,10,13,-6,0,21,33,3,0,8,40,7),Cr(0,10,14,-6,0,22,35,3,0,8,42,7),Cr(0,11,14,-7,0,23,36,3,0,9,44,8),Cr(0,11,15,-7,0,24,38,3,0,9,46,8)],d7=u7,h7=["duration","easing","delay"],f7={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},AL={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function oR(e){return`${Math.round(e)}ms`}function p7(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function m7(e){const t=ne({},f7,e.easing),n=ne({},AL,e.duration);return ne({getAutoHeightDuration:p7,create:(o=["all"],a={})=>{const{duration:d=n.standard,easing:c=t.easeInOut,delay:y=0}=a;return Rt(a,h7),(Array.isArray(o)?o:[o]).map(_=>`${_} ${typeof d=="string"?d:oR(d)} ${c} ${typeof y=="string"?y:oR(y)}`).join(",")}},e,{easing:t,duration:n})}const g7={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},y7=g7,v7=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function ET(e={},...t){const{mixins:n={},palette:r={},transitions:o={},typography:a={}}=e,d=Rt(e,v7);if(e.vars)throw new Error(Yc(18));const c=r7(r),y=yx(e);let _=No(y,{mixins:Z9(y.breakpoints,n),palette:c,shadows:d7.slice(),typography:s7(c,a),transitions:m7(o),zIndex:ne({},y7)});return _=No(_,d),_=t.reduce((C,k)=>No(C,k),_),_.unstable_sxConfig=ne({},mx,d==null?void 0:d.unstable_sxConfig),_.unstable_sx=function(k){return gx({sx:k,theme:this})},_}const _7=ET(),xx=_7;function iu(){const e=vx(xx);return e[sd]||e}function tn({props:e,name:t}){return IL({props:e,name:t,defaultTheme:xx,themeId:sd})}const pa=e=>Nm(e)&&e!=="classes",x7=Nm,b7=PL({themeId:sd,defaultTheme:xx,rootShouldForwardProp:pa}),gt=b7,w7=["theme"];function S7(e){let{theme:t}=e,n=Rt(e,w7);const r=t[sd];return F.jsx(U9,ne({},n,{themeId:r?sd:void 0,theme:r||t}))}const C7=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)},sR=C7;function OL(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=OL(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Dt(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=OL(e))&&(r&&(r+=" "),r+=t);return r}function T7(e){return Qt("MuiSvgIcon",e)}en("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const k7=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],E7=e=>{const{color:t,fontSize:n,classes:r}=e,o={root:["root",t!=="inherit"&&`color${mt(t)}`,`fontSize${mt(n)}`]};return nn(o,T7,r)},P7=gt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${mt(n.color)}`],t[`fontSize${mt(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,o,a,d,c,y,_,C,k,P,D,N;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(o=e.transitions)==null||(o=o.duration)==null?void 0:o.shorter}),fontSize:{inherit:"inherit",small:((a=e.typography)==null||(d=a.pxToRem)==null?void 0:d.call(a,20))||"1.25rem",medium:((c=e.typography)==null||(y=c.pxToRem)==null?void 0:y.call(c,24))||"1.5rem",large:((_=e.typography)==null||(C=_.pxToRem)==null?void 0:C.call(_,35))||"2.1875rem"}[t.fontSize],color:(k=(P=(e.vars||e).palette)==null||(P=P[t.color])==null?void 0:P.main)!=null?k:{action:(D=(e.vars||e).palette)==null||(D=D.action)==null?void 0:D.active,disabled:(N=(e.vars||e).palette)==null||(N=N.action)==null?void 0:N.disabled,inherit:void 0}[t.color]}}),DL=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiSvgIcon"}),{children:o,className:a,color:d="inherit",component:c="svg",fontSize:y="medium",htmlColor:_,inheritViewBox:C=!1,titleAccess:k,viewBox:P="0 0 24 24"}=r,D=Rt(r,k7),N=U.isValidElement(o)&&o.type==="svg",M=ne({},r,{color:d,component:c,fontSize:y,instanceFontSize:t.fontSize,inheritViewBox:C,viewBox:P,hasSvgAsChild:N}),$={};C||($.viewBox=P);const A=E7(M);return F.jsxs(P7,ne({as:c,className:Dt(A.root,a),focusable:"false",color:_,"aria-hidden":k?void 0:!0,role:k?"img":void 0,ref:n},$,D,N&&o.props,{ownerState:M,children:[N?o.props.children:o,k?F.jsx("title",{children:k}):null]}))});DL.muiName="SvgIcon";const aR=DL;function PT(e,t){function n(r,o){return F.jsx(aR,ne({"data-testid":`${t}Icon`,ref:o},r,{children:e}))}return n.muiName=aR.muiName,U.memo(U.forwardRef(n))}const I7={configure:e=>{hT.configure(e)}},M7=Object.freeze(Object.defineProperty({__proto__:null,capitalize:mt,createChainedFunction:s2,createSvgIcon:PT,debounce:cT,deprecatedPropType:cV,isMuiElement:Kv,ownerDocument:yi,ownerWindow:Zc,requirePropFactory:uV,setRef:G0,unstable_ClassNameGenerator:I7,unstable_useEnhancedEffect:da,unstable_useId:uT,unsupportedProp:fV,useControlled:mg,useEventCallback:sa,useForkRef:Vr,useIsFocusVisible:ox},Symbol.toStringTag,{value:"Module"}));var ir={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT=Symbol.for("react.element"),MT=Symbol.for("react.portal"),bx=Symbol.for("react.fragment"),wx=Symbol.for("react.strict_mode"),Sx=Symbol.for("react.profiler"),Cx=Symbol.for("react.provider"),Tx=Symbol.for("react.context"),R7=Symbol.for("react.server_context"),kx=Symbol.for("react.forward_ref"),Ex=Symbol.for("react.suspense"),Px=Symbol.for("react.suspense_list"),Ix=Symbol.for("react.memo"),Mx=Symbol.for("react.lazy"),A7=Symbol.for("react.offscreen"),zL;zL=Symbol.for("react.module.reference");function Ls(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case IT:switch(e=e.type,e){case bx:case Sx:case wx:case Ex:case Px:return e;default:switch(e=e&&e.$$typeof,e){case R7:case Tx:case kx:case Mx:case Ix:case Cx:return e;default:return t}}case MT:return t}}}ir.ContextConsumer=Tx;ir.ContextProvider=Cx;ir.Element=IT;ir.ForwardRef=kx;ir.Fragment=bx;ir.Lazy=Mx;ir.Memo=Ix;ir.Portal=MT;ir.Profiler=Sx;ir.StrictMode=wx;ir.Suspense=Ex;ir.SuspenseList=Px;ir.isAsyncMode=function(){return!1};ir.isConcurrentMode=function(){return!1};ir.isContextConsumer=function(e){return Ls(e)===Tx};ir.isContextProvider=function(e){return Ls(e)===Cx};ir.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===IT};ir.isForwardRef=function(e){return Ls(e)===kx};ir.isFragment=function(e){return Ls(e)===bx};ir.isLazy=function(e){return Ls(e)===Mx};ir.isMemo=function(e){return Ls(e)===Ix};ir.isPortal=function(e){return Ls(e)===MT};ir.isProfiler=function(e){return Ls(e)===Sx};ir.isStrictMode=function(e){return Ls(e)===wx};ir.isSuspense=function(e){return Ls(e)===Ex};ir.isSuspenseList=function(e){return Ls(e)===Px};ir.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===bx||e===Sx||e===wx||e===Ex||e===Px||e===A7||typeof e=="object"&&e!==null&&(e.$$typeof===Mx||e.$$typeof===Ix||e.$$typeof===Cx||e.$$typeof===Tx||e.$$typeof===kx||e.$$typeof===zL||e.getModuleId!==void 0)};ir.typeOf=Ls;function p2(e,t){return p2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},p2(e,t)}function jg(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,p2(e,t)}const lR={disabled:!1},Z0=Oo.createContext(null);var O7=function(t){return t.scrollTop},xm="unmounted",Lu="exited",$u="entering",Ch="entered",m2="exiting",jl=function(e){jg(t,e);function t(r,o){var a;a=e.call(this,r,o)||this;var d=o,c=d&&!d.isMounting?r.enter:r.appear,y;return a.appearStatus=null,r.in?c?(y=Lu,a.appearStatus=$u):y=Ch:r.unmountOnExit||r.mountOnEnter?y=xm:y=Lu,a.state={status:y},a.nextCallback=null,a}t.getDerivedStateFromProps=function(o,a){var d=o.in;return d&&a.status===xm?{status:Lu}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var a=null;if(o!==this.props){var d=this.state.status;this.props.in?d!==$u&&d!==Ch&&(a=$u):(d===$u||d===Ch)&&(a=m2)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,a,d,c;return a=d=c=o,o!=null&&typeof o!="number"&&(a=o.exit,d=o.enter,c=o.appear!==void 0?o.appear:d),{exit:a,enter:d,appear:c}},n.updateStatus=function(o,a){if(o===void 0&&(o=!1),a!==null)if(this.cancelNextCallback(),a===$u){if(this.props.unmountOnExit||this.props.mountOnEnter){var d=this.props.nodeRef?this.props.nodeRef.current:_v.findDOMNode(this);d&&O7(d)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Lu&&this.setState({status:xm})},n.performEnter=function(o){var a=this,d=this.props.enter,c=this.context?this.context.isMounting:o,y=this.props.nodeRef?[c]:[_v.findDOMNode(this),c],_=y[0],C=y[1],k=this.getTimeouts(),P=c?k.appear:k.enter;if(!o&&!d||lR.disabled){this.safeSetState({status:Ch},function(){a.props.onEntered(_)});return}this.props.onEnter(_,C),this.safeSetState({status:$u},function(){a.props.onEntering(_,C),a.onTransitionEnd(P,function(){a.safeSetState({status:Ch},function(){a.props.onEntered(_,C)})})})},n.performExit=function(){var o=this,a=this.props.exit,d=this.getTimeouts(),c=this.props.nodeRef?void 0:_v.findDOMNode(this);if(!a||lR.disabled){this.safeSetState({status:Lu},function(){o.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:m2},function(){o.props.onExiting(c),o.onTransitionEnd(d.exit,function(){o.safeSetState({status:Lu},function(){o.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,a){a=this.setNextCallback(a),this.setState(o,a)},n.setNextCallback=function(o){var a=this,d=!0;return this.nextCallback=function(c){d&&(d=!1,a.nextCallback=null,o(c))},this.nextCallback.cancel=function(){d=!1},this.nextCallback},n.onTransitionEnd=function(o,a){this.setNextCallback(a);var d=this.props.nodeRef?this.props.nodeRef.current:_v.findDOMNode(this),c=o==null&&!this.props.addEndListener;if(!d||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var y=this.props.nodeRef?[this.nextCallback]:[d,this.nextCallback],_=y[0],C=y[1];this.props.addEndListener(_,C)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===xm)return null;var a=this.props,d=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=Lg(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Oo.createElement(Z0.Provider,{value:null},typeof d=="function"?d(o,c):Oo.cloneElement(Oo.Children.only(d),c))},t}(Oo.Component);jl.contextType=Z0;jl.propTypes={};function mh(){}jl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:mh,onEntering:mh,onEntered:mh,onExit:mh,onExiting:mh,onExited:mh};jl.UNMOUNTED=xm;jl.EXITED=Lu;jl.ENTERING=$u;jl.ENTERED=Ch;jl.EXITING=m2;const RT=jl;function _g(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AT(e,t){var n=function(a){return t&&U.isValidElement(a)?t(a):a},r=Object.create(null);return e&&U.Children.map(e,function(o){return o}).forEach(function(o){r[o.key]=n(o)}),r}function D7(e,t){e=e||{},t=t||{};function n(C){return C in t?t[C]:e[C]}var r=Object.create(null),o=[];for(var a in e)a in t?o.length&&(r[a]=o,o=[]):o.push(a);var d,c={};for(var y in t){if(r[y])for(d=0;d<r[y].length;d++){var _=r[y][d];c[r[y][d]]=n(_)}c[y]=n(y)}for(d=0;d<o.length;d++)c[o[d]]=n(o[d]);return c}function Vu(e,t,n){return n[t]!=null?n[t]:e.props[t]}function z7(e,t){return AT(e.children,function(n){return U.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Vu(n,"appear",e),enter:Vu(n,"enter",e),exit:Vu(n,"exit",e)})})}function L7(e,t,n){var r=AT(e.children),o=D7(t,r);return Object.keys(o).forEach(function(a){var d=o[a];if(U.isValidElement(d)){var c=a in t,y=a in r,_=t[a],C=U.isValidElement(_)&&!_.props.in;y&&(!c||C)?o[a]=U.cloneElement(d,{onExited:n.bind(null,d),in:!0,exit:Vu(d,"exit",e),enter:Vu(d,"enter",e)}):!y&&c&&!C?o[a]=U.cloneElement(d,{in:!1}):y&&c&&U.isValidElement(_)&&(o[a]=U.cloneElement(d,{onExited:n.bind(null,d),in:_.props.in,exit:Vu(d,"exit",e),enter:Vu(d,"enter",e)}))}}),o}var $7=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},N7={component:"div",childFactory:function(t){return t}},OT=function(e){jg(t,e);function t(r,o){var a;a=e.call(this,r,o)||this;var d=a.handleExited.bind(_g(a));return a.state={contextValue:{isMounting:!0},handleExited:d,firstRender:!0},a}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(o,a){var d=a.children,c=a.handleExited,y=a.firstRender;return{children:y?z7(o,c):L7(o,d,c),firstRender:!1}},n.handleExited=function(o,a){var d=AT(this.props.children);o.key in d||(o.props.onExited&&o.props.onExited(a),this.mounted&&this.setState(function(c){var y=rr({},c.children);return delete y[o.key],{children:y}}))},n.render=function(){var o=this.props,a=o.component,d=o.childFactory,c=Lg(o,["component","childFactory"]),y=this.state.contextValue,_=$7(this.state.children).map(d);return delete c.appear,delete c.enter,delete c.exit,a===null?Oo.createElement(Z0.Provider,{value:y},_):Oo.createElement(Z0.Provider,{value:y},Oo.createElement(a,c,_))},t}(Oo.Component);OT.propTypes={};OT.defaultProps=N7;const F7=OT,LL=e=>e.scrollTop;function Sf(e,t){var n,r;const{timeout:o,easing:a,style:d={}}=e;return{duration:(n=d.transitionDuration)!=null?n:typeof o=="number"?o:o[t.mode]||0,easing:(r=d.transitionTimingFunction)!=null?r:typeof a=="object"?a[t.mode]:a,delay:d.transitionDelay}}function B7(e){return Qt("MuiCollapse",e)}en("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const j7=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],U7=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return nn(r,B7,n)},V7=gt("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>ne({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&ne({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),W7=gt("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>ne({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),q7=gt("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>ne({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),$L=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiCollapse"}),{addEndListener:o,children:a,className:d,collapsedSize:c="0px",component:y,easing:_,in:C,onEnter:k,onEntered:P,onEntering:D,onExit:N,onExited:M,onExiting:$,orientation:A="vertical",style:O,timeout:z=AL.standard,TransitionComponent:q=RT}=r,Y=Rt(r,j7),J=ne({},r,{orientation:A,collapsedSize:c}),te=U7(J),ge=iu(),Pe=U.useRef(),ye=U.useRef(null),Ne=U.useRef(),Ve=typeof c=="number"?`${c}px`:c,et=A==="horizontal",Ze=et?"width":"height";U.useEffect(()=>()=>{clearTimeout(Pe.current)},[]);const Ke=U.useRef(null),ke=Vr(n,Ke),Me=Le=>ot=>{if(Le){const xt=Ke.current;ot===void 0?Le(xt):Le(xt,ot)}},Oe=()=>ye.current?ye.current[et?"clientWidth":"clientHeight"]:0,Ee=Me((Le,ot)=>{ye.current&&et&&(ye.current.style.position="absolute"),Le.style[Ze]=Ve,k&&k(Le,ot)}),ze=Me((Le,ot)=>{const xt=Oe();ye.current&&et&&(ye.current.style.position="");const{duration:St,easing:It}=Sf({style:O,timeout:z,easing:_},{mode:"enter"});if(z==="auto"){const jt=ge.transitions.getAutoHeightDuration(xt);Le.style.transitionDuration=`${jt}ms`,Ne.current=jt}else Le.style.transitionDuration=typeof St=="string"?St:`${St}ms`;Le.style[Ze]=`${xt}px`,Le.style.transitionTimingFunction=It,D&&D(Le,ot)}),st=Me((Le,ot)=>{Le.style[Ze]="auto",P&&P(Le,ot)}),be=Me(Le=>{Le.style[Ze]=`${Oe()}px`,N&&N(Le)}),Fe=Me(M),Ae=Me(Le=>{const ot=Oe(),{duration:xt,easing:St}=Sf({style:O,timeout:z,easing:_},{mode:"exit"});if(z==="auto"){const It=ge.transitions.getAutoHeightDuration(ot);Le.style.transitionDuration=`${It}ms`,Ne.current=It}else Le.style.transitionDuration=typeof xt=="string"?xt:`${xt}ms`;Le.style[Ze]=Ve,Le.style.transitionTimingFunction=St,$&&$(Le)}),qe=Le=>{z==="auto"&&(Pe.current=setTimeout(Le,Ne.current||0)),o&&o(Ke.current,Le)};return F.jsx(q,ne({in:C,onEnter:Ee,onEntered:st,onEntering:ze,onExit:be,onExited:Fe,onExiting:Ae,addEndListener:qe,nodeRef:Ke,timeout:z==="auto"?null:z},Y,{children:(Le,ot)=>F.jsx(V7,ne({as:y,className:Dt(te.root,d,{entered:te.entered,exited:!C&&Ve==="0px"&&te.hidden}[Le]),style:ne({[et?"minWidth":"minHeight"]:Ve},O),ownerState:ne({},J,{state:Le}),ref:ke},ot,{children:F.jsx(W7,{ownerState:ne({},J,{state:Le}),className:te.wrapper,ref:ye,children:F.jsx(q7,{ownerState:ne({},J,{state:Le}),className:te.wrapperInner,children:a})})}))}))});$L.muiSupportAuto=!0;const G7=$L;function H7(e){return Qt("MuiPaper",e)}en("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Y7=["className","component","elevation","square","variant"],Z7=e=>{const{square:t,elevation:n,variant:r,classes:o}=e,a={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return nn(a,H7,o)},K7=gt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return ne({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&ne({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${vr("#fff",sR(t.elevation))}, ${vr("#fff",sR(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),X7=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiPaper"}),{className:o,component:a="div",elevation:d=1,square:c=!1,variant:y="elevation"}=r,_=Rt(r,Y7),C=ne({},r,{component:a,elevation:d,square:c,variant:y}),k=Z7(C);return F.jsx(K7,ne({as:a,ownerState:C,className:Dt(k.root,o),ref:n},_))}),ou=X7,J7=U.createContext({}),NL=J7;function Q7(e){return Qt("MuiAccordion",e)}const eq=en("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),Sv=eq,tq=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],nq=e=>{const{classes:t,square:n,expanded:r,disabled:o,disableGutters:a}=e;return nn({root:["root",!n&&"rounded",r&&"expanded",o&&"disabled",!a&&"gutters"],region:["region"]},Q7,t)},rq=gt(ou,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Sv.region}`]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&:before":{display:"none"}},[`&.${Sv.expanded}`]:{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}},[`&.${Sv.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}},({theme:e,ownerState:t})=>ne({},!t.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!t.disableGutters&&{[`&.${Sv.expanded}`]:{margin:"16px 0"}})),iq=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiAccordion"}),{children:o,className:a,defaultExpanded:d=!1,disabled:c=!1,disableGutters:y=!1,expanded:_,onChange:C,square:k=!1,TransitionComponent:P=G7,TransitionProps:D}=r,N=Rt(r,tq),[M,$]=mg({controlled:_,default:d,name:"Accordion",state:"expanded"}),A=U.useCallback(te=>{$(!M),C&&C(te,!M)},[M,C,$]),[O,...z]=U.Children.toArray(o),q=U.useMemo(()=>({expanded:M,disabled:c,disableGutters:y,toggle:A}),[M,c,y,A]),Y=ne({},r,{square:k,disabled:c,disableGutters:y,expanded:M}),J=nq(Y);return F.jsxs(rq,ne({className:Dt(J.root,a),ref:n,ownerState:Y,square:k},N,{children:[F.jsx(NL.Provider,{value:q,children:O}),F.jsx(P,ne({in:M,timeout:"auto"},D,{children:F.jsx("div",{"aria-labelledby":O.props.id,id:O.props["aria-controls"],role:"region",className:J.region,children:z})}))]}))}),bm=iq;function oq(e){return Qt("MuiAccordionDetails",e)}en("MuiAccordionDetails",["root"]);const sq=["className"],aq=e=>{const{classes:t}=e;return nn({root:["root"]},oq,t)},lq=gt("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({padding:e.spacing(1,2,2)})),cq=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiAccordionDetails"}),{className:o}=r,a=Rt(r,sq),d=r,c=aq(d);return F.jsx(lq,ne({className:Dt(c.root,o),ref:n,ownerState:d},a))}),wm=cq;function uq(e){const{className:t,classes:n,pulsate:r=!1,rippleX:o,rippleY:a,rippleSize:d,in:c,onExited:y,timeout:_}=e,[C,k]=U.useState(!1),P=Dt(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),D={width:d,height:d,top:-(d/2)+a,left:-(d/2)+o},N=Dt(n.child,C&&n.childLeaving,r&&n.childPulsate);return!c&&!C&&k(!0),U.useEffect(()=>{if(!c&&y!=null){const M=setTimeout(y,_);return()=>{clearTimeout(M)}}},[y,c,_]),F.jsx("span",{className:P,style:D,children:F.jsx("span",{className:N})})}const dq=en("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),xs=dq,hq=["center","classes","className"];let Rx=e=>e,cR,uR,dR,hR;const g2=550,fq=80,pq=yT(cR||(cR=Rx`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),mq=yT(uR||(uR=Rx`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),gq=yT(dR||(dR=Rx`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),yq=gt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),vq=gt(uq,{name:"MuiTouchRipple",slot:"Ripple"})(hR||(hR=Rx`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),xs.rippleVisible,pq,g2,({theme:e})=>e.transitions.easing.easeInOut,xs.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,xs.child,xs.childLeaving,mq,g2,({theme:e})=>e.transitions.easing.easeInOut,xs.childPulsate,gq,({theme:e})=>e.transitions.easing.easeInOut),_q=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiTouchRipple"}),{center:o=!1,classes:a={},className:d}=r,c=Rt(r,hq),[y,_]=U.useState([]),C=U.useRef(0),k=U.useRef(null);U.useEffect(()=>{k.current&&(k.current(),k.current=null)},[y]);const P=U.useRef(!1),D=U.useRef(0),N=U.useRef(null),M=U.useRef(null);U.useEffect(()=>()=>{D.current&&clearTimeout(D.current)},[]);const $=U.useCallback(q=>{const{pulsate:Y,rippleX:J,rippleY:te,rippleSize:ge,cb:Pe}=q;_(ye=>[...ye,F.jsx(vq,{classes:{ripple:Dt(a.ripple,xs.ripple),rippleVisible:Dt(a.rippleVisible,xs.rippleVisible),ripplePulsate:Dt(a.ripplePulsate,xs.ripplePulsate),child:Dt(a.child,xs.child),childLeaving:Dt(a.childLeaving,xs.childLeaving),childPulsate:Dt(a.childPulsate,xs.childPulsate)},timeout:g2,pulsate:Y,rippleX:J,rippleY:te,rippleSize:ge},C.current)]),C.current+=1,k.current=Pe},[a]),A=U.useCallback((q={},Y={},J=()=>{})=>{const{pulsate:te=!1,center:ge=o||Y.pulsate,fakeElement:Pe=!1}=Y;if((q==null?void 0:q.type)==="mousedown"&&P.current){P.current=!1;return}(q==null?void 0:q.type)==="touchstart"&&(P.current=!0);const ye=Pe?null:M.current,Ne=ye?ye.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Ve,et,Ze;if(ge||q===void 0||q.clientX===0&&q.clientY===0||!q.clientX&&!q.touches)Ve=Math.round(Ne.width/2),et=Math.round(Ne.height/2);else{const{clientX:Ke,clientY:ke}=q.touches&&q.touches.length>0?q.touches[0]:q;Ve=Math.round(Ke-Ne.left),et=Math.round(ke-Ne.top)}if(ge)Ze=Math.sqrt((2*Ne.width**2+Ne.height**2)/3),Ze%2===0&&(Ze+=1);else{const Ke=Math.max(Math.abs((ye?ye.clientWidth:0)-Ve),Ve)*2+2,ke=Math.max(Math.abs((ye?ye.clientHeight:0)-et),et)*2+2;Ze=Math.sqrt(Ke**2+ke**2)}q!=null&&q.touches?N.current===null&&(N.current=()=>{$({pulsate:te,rippleX:Ve,rippleY:et,rippleSize:Ze,cb:J})},D.current=setTimeout(()=>{N.current&&(N.current(),N.current=null)},fq)):$({pulsate:te,rippleX:Ve,rippleY:et,rippleSize:Ze,cb:J})},[o,$]),O=U.useCallback(()=>{A({},{pulsate:!0})},[A]),z=U.useCallback((q,Y)=>{if(clearTimeout(D.current),(q==null?void 0:q.type)==="touchend"&&N.current){N.current(),N.current=null,D.current=setTimeout(()=>{z(q,Y)});return}N.current=null,_(J=>J.length>0?J.slice(1):J),k.current=Y},[]);return U.useImperativeHandle(n,()=>({pulsate:O,start:A,stop:z}),[O,A,z]),F.jsx(yq,ne({className:Dt(xs.root,a.root,d),ref:M},c,{children:F.jsx(F7,{component:null,exit:!0,children:y})}))}),xq=_q;function bq(e){return Qt("MuiButtonBase",e)}const wq=en("MuiButtonBase",["root","disabled","focusVisible"]),Sq=wq,Cq=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Tq=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,d=nn({root:["root",t&&"disabled",n&&"focusVisible"]},bq,o);return n&&r&&(d.root+=` ${r}`),d},kq=gt("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Sq.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Eq=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiButtonBase"}),{action:o,centerRipple:a=!1,children:d,className:c,component:y="button",disabled:_=!1,disableRipple:C=!1,disableTouchRipple:k=!1,focusRipple:P=!1,LinkComponent:D="a",onBlur:N,onClick:M,onContextMenu:$,onDragLeave:A,onFocus:O,onFocusVisible:z,onKeyDown:q,onKeyUp:Y,onMouseDown:J,onMouseLeave:te,onMouseUp:ge,onTouchEnd:Pe,onTouchMove:ye,onTouchStart:Ne,tabIndex:Ve=0,TouchRippleProps:et,touchRippleRef:Ze,type:Ke}=r,ke=Rt(r,Cq),Me=U.useRef(null),Oe=U.useRef(null),Ee=Vr(Oe,Ze),{isFocusVisibleRef:ze,onFocus:st,onBlur:be,ref:Fe}=ox(),[Ae,qe]=U.useState(!1);_&&Ae&&qe(!1),U.useImperativeHandle(o,()=>({focusVisible:()=>{qe(!0),Me.current.focus()}}),[]);const[Le,ot]=U.useState(!1);U.useEffect(()=>{ot(!0)},[]);const xt=Le&&!C&&!_;U.useEffect(()=>{Ae&&P&&!C&&Le&&Oe.current.pulsate()},[C,P,Ae,Le]);function St(Wt,je,wt=k){return sa(Tt=>(je&&je(Tt),!wt&&Oe.current&&Oe.current[Wt](Tt),!0))}const It=St("start",J),jt=St("stop",$),Mt=St("stop",A),Re=St("stop",ge),rn=St("stop",Wt=>{Ae&&Wt.preventDefault(),te&&te(Wt)}),Sn=St("start",Ne),Zt=St("stop",Pe),Yt=St("stop",ye),Nn=St("stop",Wt=>{be(Wt),ze.current===!1&&qe(!1),N&&N(Wt)},!1),cr=sa(Wt=>{Me.current||(Me.current=Wt.currentTarget),st(Wt),ze.current===!0&&(qe(!0),z&&z(Wt)),O&&O(Wt)}),_n=()=>{const Wt=Me.current;return y&&y!=="button"&&!(Wt.tagName==="A"&&Wt.href)},Cn=U.useRef(!1),on=sa(Wt=>{P&&!Cn.current&&Ae&&Oe.current&&Wt.key===" "&&(Cn.current=!0,Oe.current.stop(Wt,()=>{Oe.current.start(Wt)})),Wt.target===Wt.currentTarget&&_n()&&Wt.key===" "&&Wt.preventDefault(),q&&q(Wt),Wt.target===Wt.currentTarget&&_n()&&Wt.key==="Enter"&&!_&&(Wt.preventDefault(),M&&M(Wt))}),xn=sa(Wt=>{P&&Wt.key===" "&&Oe.current&&Ae&&!Wt.defaultPrevented&&(Cn.current=!1,Oe.current.stop(Wt,()=>{Oe.current.pulsate(Wt)})),Y&&Y(Wt),M&&Wt.target===Wt.currentTarget&&_n()&&Wt.key===" "&&!Wt.defaultPrevented&&M(Wt)});let sr=y;sr==="button"&&(ke.href||ke.to)&&(sr=D);const nt={};sr==="button"?(nt.type=Ke===void 0?"button":Ke,nt.disabled=_):(!ke.href&&!ke.to&&(nt.role="button"),_&&(nt["aria-disabled"]=_));const bn=Vr(n,Fe,Me),Fn=ne({},r,{centerRipple:a,component:y,disabled:_,disableRipple:C,disableTouchRipple:k,focusRipple:P,tabIndex:Ve,focusVisible:Ae}),an=Tq(Fn);return F.jsxs(kq,ne({as:sr,className:Dt(an.root,c),ownerState:Fn,onBlur:Nn,onClick:M,onContextMenu:jt,onFocus:cr,onKeyDown:on,onKeyUp:xn,onMouseDown:It,onMouseLeave:rn,onMouseUp:Re,onDragLeave:Mt,onTouchEnd:Zt,onTouchMove:Yt,onTouchStart:Sn,ref:bn,tabIndex:_?-1:Ve,type:Ke},nt,ke,{children:[d,xt?F.jsx(xq,ne({ref:Ee,center:a},et)):null]}))}),Ug=Eq;function Pq(e){return Qt("MuiAccordionSummary",e)}const Iq=en("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Fh=Iq,Mq=["children","className","expandIcon","focusVisibleClassName","onClick"],Rq=e=>{const{classes:t,expanded:n,disabled:r,disableGutters:o}=e;return nn({root:["root",n&&"expanded",r&&"disabled",!o&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!o&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},Pq,t)},Aq=gt(Ug,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>{const n={duration:e.transitions.duration.shortest};return ne({display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],n),[`&.${Fh.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Fh.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${Fh.disabled})`]:{cursor:"pointer"}},!t.disableGutters&&{[`&.${Fh.expanded}`]:{minHeight:64}})}),Oq=gt("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(({theme:e,ownerState:t})=>ne({display:"flex",flexGrow:1,margin:"12px 0"},!t.disableGutters&&{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${Fh.expanded}`]:{margin:"20px 0"}})),Dq=gt("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${Fh.expanded}`]:{transform:"rotate(180deg)"}})),zq=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiAccordionSummary"}),{children:o,className:a,expandIcon:d,focusVisibleClassName:c,onClick:y}=r,_=Rt(r,Mq),{disabled:C=!1,disableGutters:k,expanded:P,toggle:D}=U.useContext(NL),N=A=>{D&&D(A),y&&y(A)},M=ne({},r,{expanded:P,disabled:C,disableGutters:k}),$=Rq(M);return F.jsxs(Aq,ne({focusRipple:!1,disableRipple:!0,disabled:C,component:"div","aria-expanded":P,className:Dt($.root,a),focusVisibleClassName:Dt($.focusVisible,c),onClick:N,ref:n,ownerState:M},_,{children:[F.jsx(Oq,{className:$.content,ownerState:M,children:o}),d&&F.jsx(Dq,{className:$.expandIconWrapper,ownerState:M,children:d})]}))}),Sm=zq;function Lq(e){return Qt("MuiIconButton",e)}const $q=en("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Nq=$q,Fq=["edge","children","className","color","disabled","disableFocusRipple","size"],Bq=e=>{const{classes:t,disabled:n,color:r,edge:o,size:a}=e,d={root:["root",n&&"disabled",r!=="default"&&`color${mt(r)}`,o&&`edge${mt(o)}`,`size${mt(a)}`]};return nn(d,Lq,t)},jq=gt(Ug,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${mt(n.color)}`],n.edge&&t[`edge${mt(n.edge)}`],t[`size${mt(n.size)}`]]}})(({theme:e,ownerState:t})=>ne({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:vr(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return ne({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&ne({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":ne({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:vr(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${Nq.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),Uq=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiIconButton"}),{edge:o=!1,children:a,className:d,color:c="default",disabled:y=!1,disableFocusRipple:_=!1,size:C="medium"}=r,k=Rt(r,Fq),P=ne({},r,{edge:o,color:c,disabled:y,disableFocusRipple:_,size:C}),D=Bq(P);return F.jsx(jq,ne({className:Dt(D.root,d),centerRipple:!0,focusRipple:!_,disabled:y,ref:n,ownerState:P},k,{children:a}))}),Zn=Uq;function Vq(e){return Qt("MuiTypography",e)}en("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Wq=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],qq=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:a,classes:d}=e,c={root:["root",a,e.align!=="inherit"&&`align${mt(t)}`,n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]};return nn(c,Vq,d)},Gq=gt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${mt(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>ne({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),fR={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Hq={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Yq=e=>Hq[e]||e,Zq=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiTypography"}),o=Yq(r.color),a=CL(ne({},r,{color:o})),{align:d="inherit",className:c,component:y,gutterBottom:_=!1,noWrap:C=!1,paragraph:k=!1,variant:P="body1",variantMapping:D=fR}=a,N=Rt(a,Wq),M=ne({},a,{align:d,color:o,className:c,component:y,gutterBottom:_,noWrap:C,paragraph:k,variant:P,variantMapping:D}),$=y||(k?"p":D[P]||fR[P])||"span",A=qq(M);return F.jsx(Gq,ne({as:$,ref:n,ownerState:M,className:Dt(A.root,c)},N))}),Yn=Zq;function Kq(e){return Qt("MuiAppBar",e)}en("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);const Xq=["className","color","enableColorOnDark","position"],Jq=e=>{const{color:t,position:n,classes:r}=e,o={root:["root",`color${mt(t)}`,`position${mt(n)}`]};return nn(o,Kq,r)},Cv=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,Qq=gt(ou,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${mt(n.position)}`],t[`color${mt(n.color)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[900];return ne({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},t.position==="fixed"&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},t.position==="absolute"&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="sticky"&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="static"&&{position:"static"},t.position==="relative"&&{position:"relative"},!e.vars&&ne({},t.color==="default"&&{backgroundColor:n,color:e.palette.getContrastText(n)},t.color&&t.color!=="default"&&t.color!=="inherit"&&t.color!=="transparent"&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},t.color==="inherit"&&{color:"inherit"},e.palette.mode==="dark"&&!t.enableColorOnDark&&{backgroundColor:null,color:null},t.color==="transparent"&&ne({backgroundColor:"transparent",color:"inherit"},e.palette.mode==="dark"&&{backgroundImage:"none"})),e.vars&&ne({},t.color==="default"&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:Cv(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:Cv(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:Cv(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:Cv(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:t.color==="inherit"?"inherit":"var(--AppBar-color)"},t.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),eG=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiAppBar"}),{className:o,color:a="primary",enableColorOnDark:d=!1,position:c="fixed"}=r,y=Rt(r,Xq),_=ne({},r,{color:a,position:c,enableColorOnDark:d}),C=Jq(_);return F.jsx(Qq,ne({square:!0,component:"header",ownerState:_,elevation:4,className:Dt(C.root,o,c==="fixed"&&"mui-fixed"),ref:n},y))}),FL=eG;function xg(e){return typeof e=="string"}function Cm(e,t,n){return e===void 0||xg(e)?t:ne({},t,{ownerState:ne({},t.ownerState,n)})}const tG={disableDefaultClasses:!1},nG=U.createContext(tG);function BL(e){const{disableDefaultClasses:t}=U.useContext(nG);return n=>t?"":e(n)}function DT(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function y2(e,t,n){return typeof e=="function"?e(t,n):e}function pR(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function rG(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:a}=e;if(!t){const D=Dt(o==null?void 0:o.className,r==null?void 0:r.className,a,n==null?void 0:n.className),N=ne({},n==null?void 0:n.style,o==null?void 0:o.style,r==null?void 0:r.style),M=ne({},n,o,r);return D.length>0&&(M.className=D),Object.keys(N).length>0&&(M.style=N),{props:M,internalRef:void 0}}const d=DT(ne({},o,r)),c=pR(r),y=pR(o),_=t(d),C=Dt(_==null?void 0:_.className,n==null?void 0:n.className,a,o==null?void 0:o.className,r==null?void 0:r.className),k=ne({},_==null?void 0:_.style,n==null?void 0:n.style,o==null?void 0:o.style,r==null?void 0:r.style),P=ne({},_,n,y,c);return C.length>0&&(P.className=C),Object.keys(k).length>0&&(P.style=k),{props:P,internalRef:_.ref}}const iG=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Wa(e){var t;const{elementType:n,externalSlotProps:r,ownerState:o,skipResolvingSlotProps:a=!1}=e,d=Rt(e,iG),c=a?{}:y2(r,o),{props:y,internalRef:_}=rG(ne({},d,{externalSlotProps:c})),C=Vr(_,c==null?void 0:c.ref,(t=e.additionalProps)==null?void 0:t.ref);return Cm(n,ne({},y,{ref:C}),o)}function oG(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:o=!1}=e,a=iL({badgeContent:t,max:r});let d=n;n===!1&&t===0&&!o&&(d=!0);const{badgeContent:c,max:y=r}=d?a:e,_=c&&Number(c)>y?`${y}+`:c;return{badgeContent:c,invisible:d,max:y,displayValue:_}}function mR(e){return e.substring(2).toLowerCase()}function sG(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function aG(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:o,touchEvent:a="onTouchEnd"}=e,d=U.useRef(!1),c=U.useRef(null),y=U.useRef(!1),_=U.useRef(!1);U.useEffect(()=>(setTimeout(()=>{y.current=!0},0),()=>{y.current=!1}),[]);const C=Vr(t.ref,c),k=sa(N=>{const M=_.current;_.current=!1;const $=yi(c.current);if(!y.current||!c.current||"clientX"in N&&sG(N,$))return;if(d.current){d.current=!1;return}let A;N.composedPath?A=N.composedPath().indexOf(c.current)>-1:A=!$.documentElement.contains(N.target)||c.current.contains(N.target),!A&&(n||!M)&&o(N)}),P=N=>M=>{_.current=!0;const $=t.props[N];$&&$(M)},D={ref:C};return a!==!1&&(D[a]=P(a)),U.useEffect(()=>{if(a!==!1){const N=mR(a),M=yi(c.current),$=()=>{d.current=!0};return M.addEventListener(N,k),M.addEventListener("touchmove",$),()=>{M.removeEventListener(N,k),M.removeEventListener("touchmove",$)}}},[k,a]),r!==!1&&(D[r]=P(r)),U.useEffect(()=>{if(r!==!1){const N=mR(r),M=yi(c.current);return M.addEventListener(N,k),()=>{M.removeEventListener(N,k)}}},[k,r]),F.jsx(U.Fragment,{children:U.cloneElement(t,D)})}const lG=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function cG(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function uG(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function dG(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||uG(e))}function hG(e){const t=[],n=[];return Array.from(e.querySelectorAll(lG)).forEach((r,o)=>{const a=cG(r);a===-1||!dG(r)||(a===0?t.push(r):n.push({documentOrder:o,tabIndex:a,node:r}))}),n.sort((r,o)=>r.tabIndex===o.tabIndex?r.documentOrder-o.documentOrder:r.tabIndex-o.tabIndex).map(r=>r.node).concat(t)}function fG(){return!0}function pG(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:o=!1,getTabbable:a=hG,isEnabled:d=fG,open:c}=e,y=U.useRef(!1),_=U.useRef(null),C=U.useRef(null),k=U.useRef(null),P=U.useRef(null),D=U.useRef(!1),N=U.useRef(null),M=Vr(t.ref,N),$=U.useRef(null);U.useEffect(()=>{!c||!N.current||(D.current=!n)},[n,c]),U.useEffect(()=>{if(!c||!N.current)return;const z=yi(N.current);return N.current.contains(z.activeElement)||(N.current.hasAttribute("tabIndex")||N.current.setAttribute("tabIndex","-1"),D.current&&N.current.focus()),()=>{o||(k.current&&k.current.focus&&(y.current=!0,k.current.focus()),k.current=null)}},[c]),U.useEffect(()=>{if(!c||!N.current)return;const z=yi(N.current),q=te=>{const{current:ge}=N;if(ge!==null){if(!z.hasFocus()||r||!d()||y.current){y.current=!1;return}if(!ge.contains(z.activeElement)){if(te&&P.current!==te.target||z.activeElement!==P.current)P.current=null;else if(P.current!==null)return;if(!D.current)return;let Ne=[];if((z.activeElement===_.current||z.activeElement===C.current)&&(Ne=a(N.current)),Ne.length>0){var Pe,ye;const Ve=!!((Pe=$.current)!=null&&Pe.shiftKey&&((ye=$.current)==null?void 0:ye.key)==="Tab"),et=Ne[0],Ze=Ne[Ne.length-1];typeof et!="string"&&typeof Ze!="string"&&(Ve?Ze.focus():et.focus())}else ge.focus()}}},Y=te=>{$.current=te,!(r||!d()||te.key!=="Tab")&&z.activeElement===N.current&&te.shiftKey&&(y.current=!0,C.current&&C.current.focus())};z.addEventListener("focusin",q),z.addEventListener("keydown",Y,!0);const J=setInterval(()=>{z.activeElement&&z.activeElement.tagName==="BODY"&&q(null)},50);return()=>{clearInterval(J),z.removeEventListener("focusin",q),z.removeEventListener("keydown",Y,!0)}},[n,r,o,d,c,a]);const A=z=>{k.current===null&&(k.current=z.relatedTarget),D.current=!0,P.current=z.target;const q=t.props.onFocus;q&&q(z)},O=z=>{k.current===null&&(k.current=z.relatedTarget),D.current=!0};return F.jsxs(U.Fragment,{children:[F.jsx("div",{tabIndex:c?0:-1,onFocus:O,ref:_,"data-testid":"sentinelStart"}),U.cloneElement(t,{ref:M,onFocus:A}),F.jsx("div",{tabIndex:c?0:-1,onFocus:O,ref:C,"data-testid":"sentinelEnd"})]})}var Fo="top",As="bottom",Os="right",Bo="left",zT="auto",Vg=[Fo,As,Os,Bo],Cf="start",bg="end",mG="clippingParents",jL="viewport",rm="popper",gG="reference",gR=Vg.reduce(function(e,t){return e.concat([t+"-"+Cf,t+"-"+bg])},[]),UL=[].concat(Vg,[zT]).reduce(function(e,t){return e.concat([t,t+"-"+Cf,t+"-"+bg])},[]),yG="beforeRead",vG="read",_G="afterRead",xG="beforeMain",bG="main",wG="afterMain",SG="beforeWrite",CG="write",TG="afterWrite",kG=[yG,vG,_G,xG,bG,wG,SG,CG,TG];function qa(e){return e?(e.nodeName||"").toLowerCase():null}function ls(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ld(e){var t=ls(e).Element;return e instanceof t||e instanceof Element}function Es(e){var t=ls(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function LT(e){if(typeof ShadowRoot>"u")return!1;var t=ls(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function EG(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},o=t.attributes[n]||{},a=t.elements[n];!Es(a)||!qa(a)||(Object.assign(a.style,r),Object.keys(o).forEach(function(d){var c=o[d];c===!1?a.removeAttribute(d):a.setAttribute(d,c===!0?"":c)}))})}function PG(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var o=t.elements[r],a=t.attributes[r]||{},d=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),c=d.reduce(function(y,_){return y[_]="",y},{});!Es(o)||!qa(o)||(Object.assign(o.style,c),Object.keys(a).forEach(function(y){o.removeAttribute(y)}))})}}const IG={name:"applyStyles",enabled:!0,phase:"write",fn:EG,effect:PG,requires:["computeStyles"]};function Ua(e){return e.split("-")[0]}var Ku=Math.max,K0=Math.min,Tf=Math.round;function v2(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function VL(){return!/^((?!chrome|android).)*safari/i.test(v2())}function kf(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),o=1,a=1;t&&Es(e)&&(o=e.offsetWidth>0&&Tf(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Tf(r.height)/e.offsetHeight||1);var d=ld(e)?ls(e):window,c=d.visualViewport,y=!VL()&&n,_=(r.left+(y&&c?c.offsetLeft:0))/o,C=(r.top+(y&&c?c.offsetTop:0))/a,k=r.width/o,P=r.height/a;return{width:k,height:P,top:C,right:_+k,bottom:C+P,left:_,x:_,y:C}}function $T(e){var t=kf(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function WL(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&LT(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function $l(e){return ls(e).getComputedStyle(e)}function MG(e){return["table","td","th"].indexOf(qa(e))>=0}function su(e){return((ld(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ax(e){return qa(e)==="html"?e:e.assignedSlot||e.parentNode||(LT(e)?e.host:null)||su(e)}function yR(e){return!Es(e)||$l(e).position==="fixed"?null:e.offsetParent}function RG(e){var t=/firefox/i.test(v2()),n=/Trident/i.test(v2());if(n&&Es(e)){var r=$l(e);if(r.position==="fixed")return null}var o=Ax(e);for(LT(o)&&(o=o.host);Es(o)&&["html","body"].indexOf(qa(o))<0;){var a=$l(o);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return o;o=o.parentNode}return null}function Wg(e){for(var t=ls(e),n=yR(e);n&&MG(n)&&$l(n).position==="static";)n=yR(n);return n&&(qa(n)==="html"||qa(n)==="body"&&$l(n).position==="static")?t:n||RG(e)||t}function NT(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Fm(e,t,n){return Ku(e,K0(t,n))}function AG(e,t,n){var r=Fm(e,t,n);return r>n?n:r}function qL(){return{top:0,right:0,bottom:0,left:0}}function GL(e){return Object.assign({},qL(),e)}function HL(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var OG=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,GL(typeof t!="number"?t:HL(t,Vg))};function DG(e){var t,n=e.state,r=e.name,o=e.options,a=n.elements.arrow,d=n.modifiersData.popperOffsets,c=Ua(n.placement),y=NT(c),_=[Bo,Os].indexOf(c)>=0,C=_?"height":"width";if(!(!a||!d)){var k=OG(o.padding,n),P=$T(a),D=y==="y"?Fo:Bo,N=y==="y"?As:Os,M=n.rects.reference[C]+n.rects.reference[y]-d[y]-n.rects.popper[C],$=d[y]-n.rects.reference[y],A=Wg(a),O=A?y==="y"?A.clientHeight||0:A.clientWidth||0:0,z=M/2-$/2,q=k[D],Y=O-P[C]-k[N],J=O/2-P[C]/2+z,te=Fm(q,J,Y),ge=y;n.modifiersData[r]=(t={},t[ge]=te,t.centerOffset=te-J,t)}}function zG(e){var t=e.state,n=e.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||WL(t.elements.popper,o)&&(t.elements.arrow=o))}const LG={name:"arrow",enabled:!0,phase:"main",fn:DG,effect:zG,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ef(e){return e.split("-")[1]}var $G={top:"auto",right:"auto",bottom:"auto",left:"auto"};function NG(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:Tf(n*o)/o||0,y:Tf(r*o)/o||0}}function vR(e){var t,n=e.popper,r=e.popperRect,o=e.placement,a=e.variation,d=e.offsets,c=e.position,y=e.gpuAcceleration,_=e.adaptive,C=e.roundOffsets,k=e.isFixed,P=d.x,D=P===void 0?0:P,N=d.y,M=N===void 0?0:N,$=typeof C=="function"?C({x:D,y:M}):{x:D,y:M};D=$.x,M=$.y;var A=d.hasOwnProperty("x"),O=d.hasOwnProperty("y"),z=Bo,q=Fo,Y=window;if(_){var J=Wg(n),te="clientHeight",ge="clientWidth";if(J===ls(n)&&(J=su(n),$l(J).position!=="static"&&c==="absolute"&&(te="scrollHeight",ge="scrollWidth")),J=J,o===Fo||(o===Bo||o===Os)&&a===bg){q=As;var Pe=k&&J===Y&&Y.visualViewport?Y.visualViewport.height:J[te];M-=Pe-r.height,M*=y?1:-1}if(o===Bo||(o===Fo||o===As)&&a===bg){z=Os;var ye=k&&J===Y&&Y.visualViewport?Y.visualViewport.width:J[ge];D-=ye-r.width,D*=y?1:-1}}var Ne=Object.assign({position:c},_&&$G),Ve=C===!0?NG({x:D,y:M},ls(n)):{x:D,y:M};if(D=Ve.x,M=Ve.y,y){var et;return Object.assign({},Ne,(et={},et[q]=O?"0":"",et[z]=A?"0":"",et.transform=(Y.devicePixelRatio||1)<=1?"translate("+D+"px, "+M+"px)":"translate3d("+D+"px, "+M+"px, 0)",et))}return Object.assign({},Ne,(t={},t[q]=O?M+"px":"",t[z]=A?D+"px":"",t.transform="",t))}function FG(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=r===void 0?!0:r,a=n.adaptive,d=a===void 0?!0:a,c=n.roundOffsets,y=c===void 0?!0:c,_={placement:Ua(t.placement),variation:Ef(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,vR(Object.assign({},_,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:d,roundOffsets:y})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,vR(Object.assign({},_,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:y})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const BG={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:FG,data:{}};var Tv={passive:!0};function jG(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,a=o===void 0?!0:o,d=r.resize,c=d===void 0?!0:d,y=ls(t.elements.popper),_=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&_.forEach(function(C){C.addEventListener("scroll",n.update,Tv)}),c&&y.addEventListener("resize",n.update,Tv),function(){a&&_.forEach(function(C){C.removeEventListener("scroll",n.update,Tv)}),c&&y.removeEventListener("resize",n.update,Tv)}}const UG={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:jG,data:{}};var VG={left:"right",right:"left",bottom:"top",top:"bottom"};function e0(e){return e.replace(/left|right|bottom|top/g,function(t){return VG[t]})}var WG={start:"end",end:"start"};function _R(e){return e.replace(/start|end/g,function(t){return WG[t]})}function FT(e){var t=ls(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function BT(e){return kf(su(e)).left+FT(e).scrollLeft}function qG(e,t){var n=ls(e),r=su(e),o=n.visualViewport,a=r.clientWidth,d=r.clientHeight,c=0,y=0;if(o){a=o.width,d=o.height;var _=VL();(_||!_&&t==="fixed")&&(c=o.offsetLeft,y=o.offsetTop)}return{width:a,height:d,x:c+BT(e),y}}function GG(e){var t,n=su(e),r=FT(e),o=(t=e.ownerDocument)==null?void 0:t.body,a=Ku(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),d=Ku(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),c=-r.scrollLeft+BT(e),y=-r.scrollTop;return $l(o||n).direction==="rtl"&&(c+=Ku(n.clientWidth,o?o.clientWidth:0)-a),{width:a,height:d,x:c,y}}function jT(e){var t=$l(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function YL(e){return["html","body","#document"].indexOf(qa(e))>=0?e.ownerDocument.body:Es(e)&&jT(e)?e:YL(Ax(e))}function Bm(e,t){var n;t===void 0&&(t=[]);var r=YL(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),a=ls(r),d=o?[a].concat(a.visualViewport||[],jT(r)?r:[]):r,c=t.concat(d);return o?c:c.concat(Bm(Ax(d)))}function _2(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function HG(e,t){var n=kf(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function xR(e,t,n){return t===jL?_2(qG(e,n)):ld(t)?HG(t,n):_2(GG(su(e)))}function YG(e){var t=Bm(Ax(e)),n=["absolute","fixed"].indexOf($l(e).position)>=0,r=n&&Es(e)?Wg(e):e;return ld(r)?t.filter(function(o){return ld(o)&&WL(o,r)&&qa(o)!=="body"}):[]}function ZG(e,t,n,r){var o=t==="clippingParents"?YG(e):[].concat(t),a=[].concat(o,[n]),d=a[0],c=a.reduce(function(y,_){var C=xR(e,_,r);return y.top=Ku(C.top,y.top),y.right=K0(C.right,y.right),y.bottom=K0(C.bottom,y.bottom),y.left=Ku(C.left,y.left),y},xR(e,d,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function ZL(e){var t=e.reference,n=e.element,r=e.placement,o=r?Ua(r):null,a=r?Ef(r):null,d=t.x+t.width/2-n.width/2,c=t.y+t.height/2-n.height/2,y;switch(o){case Fo:y={x:d,y:t.y-n.height};break;case As:y={x:d,y:t.y+t.height};break;case Os:y={x:t.x+t.width,y:c};break;case Bo:y={x:t.x-n.width,y:c};break;default:y={x:t.x,y:t.y}}var _=o?NT(o):null;if(_!=null){var C=_==="y"?"height":"width";switch(a){case Cf:y[_]=y[_]-(t[C]/2-n[C]/2);break;case bg:y[_]=y[_]+(t[C]/2-n[C]/2);break}}return y}function wg(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=r===void 0?e.placement:r,a=n.strategy,d=a===void 0?e.strategy:a,c=n.boundary,y=c===void 0?mG:c,_=n.rootBoundary,C=_===void 0?jL:_,k=n.elementContext,P=k===void 0?rm:k,D=n.altBoundary,N=D===void 0?!1:D,M=n.padding,$=M===void 0?0:M,A=GL(typeof $!="number"?$:HL($,Vg)),O=P===rm?gG:rm,z=e.rects.popper,q=e.elements[N?O:P],Y=ZG(ld(q)?q:q.contextElement||su(e.elements.popper),y,C,d),J=kf(e.elements.reference),te=ZL({reference:J,element:z,strategy:"absolute",placement:o}),ge=_2(Object.assign({},z,te)),Pe=P===rm?ge:J,ye={top:Y.top-Pe.top+A.top,bottom:Pe.bottom-Y.bottom+A.bottom,left:Y.left-Pe.left+A.left,right:Pe.right-Y.right+A.right},Ne=e.modifiersData.offset;if(P===rm&&Ne){var Ve=Ne[o];Object.keys(ye).forEach(function(et){var Ze=[Os,As].indexOf(et)>=0?1:-1,Ke=[Fo,As].indexOf(et)>=0?"y":"x";ye[et]+=Ve[Ke]*Ze})}return ye}function KG(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=n.boundary,a=n.rootBoundary,d=n.padding,c=n.flipVariations,y=n.allowedAutoPlacements,_=y===void 0?UL:y,C=Ef(r),k=C?c?gR:gR.filter(function(N){return Ef(N)===C}):Vg,P=k.filter(function(N){return _.indexOf(N)>=0});P.length===0&&(P=k);var D=P.reduce(function(N,M){return N[M]=wg(e,{placement:M,boundary:o,rootBoundary:a,padding:d})[Ua(M)],N},{});return Object.keys(D).sort(function(N,M){return D[N]-D[M]})}function XG(e){if(Ua(e)===zT)return[];var t=e0(e);return[_R(e),t,_R(t)]}function JG(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,a=o===void 0?!0:o,d=n.altAxis,c=d===void 0?!0:d,y=n.fallbackPlacements,_=n.padding,C=n.boundary,k=n.rootBoundary,P=n.altBoundary,D=n.flipVariations,N=D===void 0?!0:D,M=n.allowedAutoPlacements,$=t.options.placement,A=Ua($),O=A===$,z=y||(O||!N?[e0($)]:XG($)),q=[$].concat(z).reduce(function(Ae,qe){return Ae.concat(Ua(qe)===zT?KG(t,{placement:qe,boundary:C,rootBoundary:k,padding:_,flipVariations:N,allowedAutoPlacements:M}):qe)},[]),Y=t.rects.reference,J=t.rects.popper,te=new Map,ge=!0,Pe=q[0],ye=0;ye<q.length;ye++){var Ne=q[ye],Ve=Ua(Ne),et=Ef(Ne)===Cf,Ze=[Fo,As].indexOf(Ve)>=0,Ke=Ze?"width":"height",ke=wg(t,{placement:Ne,boundary:C,rootBoundary:k,altBoundary:P,padding:_}),Me=Ze?et?Os:Bo:et?As:Fo;Y[Ke]>J[Ke]&&(Me=e0(Me));var Oe=e0(Me),Ee=[];if(a&&Ee.push(ke[Ve]<=0),c&&Ee.push(ke[Me]<=0,ke[Oe]<=0),Ee.every(function(Ae){return Ae})){Pe=Ne,ge=!1;break}te.set(Ne,Ee)}if(ge)for(var ze=N?3:1,st=function(qe){var Le=q.find(function(ot){var xt=te.get(ot);if(xt)return xt.slice(0,qe).every(function(St){return St})});if(Le)return Pe=Le,"break"},be=ze;be>0;be--){var Fe=st(be);if(Fe==="break")break}t.placement!==Pe&&(t.modifiersData[r]._skip=!0,t.placement=Pe,t.reset=!0)}}const QG={name:"flip",enabled:!0,phase:"main",fn:JG,requiresIfExists:["offset"],data:{_skip:!1}};function bR(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function wR(e){return[Fo,Os,As,Bo].some(function(t){return e[t]>=0})}function eH(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,a=t.modifiersData.preventOverflow,d=wg(t,{elementContext:"reference"}),c=wg(t,{altBoundary:!0}),y=bR(d,r),_=bR(c,o,a),C=wR(y),k=wR(_);t.modifiersData[n]={referenceClippingOffsets:y,popperEscapeOffsets:_,isReferenceHidden:C,hasPopperEscaped:k},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":C,"data-popper-escaped":k})}const tH={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:eH};function nH(e,t,n){var r=Ua(e),o=[Bo,Fo].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,d=a[0],c=a[1];return d=d||0,c=(c||0)*o,[Bo,Os].indexOf(r)>=0?{x:c,y:d}:{x:d,y:c}}function rH(e){var t=e.state,n=e.options,r=e.name,o=n.offset,a=o===void 0?[0,0]:o,d=UL.reduce(function(C,k){return C[k]=nH(k,t.rects,a),C},{}),c=d[t.placement],y=c.x,_=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=y,t.modifiersData.popperOffsets.y+=_),t.modifiersData[r]=d}const iH={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:rH};function oH(e){var t=e.state,n=e.name;t.modifiersData[n]=ZL({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const sH={name:"popperOffsets",enabled:!0,phase:"read",fn:oH,data:{}};function aH(e){return e==="x"?"y":"x"}function lH(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,a=o===void 0?!0:o,d=n.altAxis,c=d===void 0?!1:d,y=n.boundary,_=n.rootBoundary,C=n.altBoundary,k=n.padding,P=n.tether,D=P===void 0?!0:P,N=n.tetherOffset,M=N===void 0?0:N,$=wg(t,{boundary:y,rootBoundary:_,padding:k,altBoundary:C}),A=Ua(t.placement),O=Ef(t.placement),z=!O,q=NT(A),Y=aH(q),J=t.modifiersData.popperOffsets,te=t.rects.reference,ge=t.rects.popper,Pe=typeof M=="function"?M(Object.assign({},t.rects,{placement:t.placement})):M,ye=typeof Pe=="number"?{mainAxis:Pe,altAxis:Pe}:Object.assign({mainAxis:0,altAxis:0},Pe),Ne=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Ve={x:0,y:0};if(J){if(a){var et,Ze=q==="y"?Fo:Bo,Ke=q==="y"?As:Os,ke=q==="y"?"height":"width",Me=J[q],Oe=Me+$[Ze],Ee=Me-$[Ke],ze=D?-ge[ke]/2:0,st=O===Cf?te[ke]:ge[ke],be=O===Cf?-ge[ke]:-te[ke],Fe=t.elements.arrow,Ae=D&&Fe?$T(Fe):{width:0,height:0},qe=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:qL(),Le=qe[Ze],ot=qe[Ke],xt=Fm(0,te[ke],Ae[ke]),St=z?te[ke]/2-ze-xt-Le-ye.mainAxis:st-xt-Le-ye.mainAxis,It=z?-te[ke]/2+ze+xt+ot+ye.mainAxis:be+xt+ot+ye.mainAxis,jt=t.elements.arrow&&Wg(t.elements.arrow),Mt=jt?q==="y"?jt.clientTop||0:jt.clientLeft||0:0,Re=(et=Ne==null?void 0:Ne[q])!=null?et:0,rn=Me+St-Re-Mt,Sn=Me+It-Re,Zt=Fm(D?K0(Oe,rn):Oe,Me,D?Ku(Ee,Sn):Ee);J[q]=Zt,Ve[q]=Zt-Me}if(c){var Yt,Nn=q==="x"?Fo:Bo,cr=q==="x"?As:Os,_n=J[Y],Cn=Y==="y"?"height":"width",on=_n+$[Nn],xn=_n-$[cr],sr=[Fo,Bo].indexOf(A)!==-1,nt=(Yt=Ne==null?void 0:Ne[Y])!=null?Yt:0,bn=sr?on:_n-te[Cn]-ge[Cn]-nt+ye.altAxis,Fn=sr?_n+te[Cn]+ge[Cn]-nt-ye.altAxis:xn,an=D&&sr?AG(bn,_n,Fn):Fm(D?bn:on,_n,D?Fn:xn);J[Y]=an,Ve[Y]=an-_n}t.modifiersData[r]=Ve}}const cH={name:"preventOverflow",enabled:!0,phase:"main",fn:lH,requiresIfExists:["offset"]};function uH(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function dH(e){return e===ls(e)||!Es(e)?FT(e):uH(e)}function hH(e){var t=e.getBoundingClientRect(),n=Tf(t.width)/e.offsetWidth||1,r=Tf(t.height)/e.offsetHeight||1;return n!==1||r!==1}function fH(e,t,n){n===void 0&&(n=!1);var r=Es(t),o=Es(t)&&hH(t),a=su(t),d=kf(e,o,n),c={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(r||!r&&!n)&&((qa(t)!=="body"||jT(a))&&(c=dH(t)),Es(t)?(y=kf(t,!0),y.x+=t.clientLeft,y.y+=t.clientTop):a&&(y.x=BT(a))),{x:d.left+c.scrollLeft-y.x,y:d.top+c.scrollTop-y.y,width:d.width,height:d.height}}function pH(e){var t=new Map,n=new Set,r=[];e.forEach(function(a){t.set(a.name,a)});function o(a){n.add(a.name);var d=[].concat(a.requires||[],a.requiresIfExists||[]);d.forEach(function(c){if(!n.has(c)){var y=t.get(c);y&&o(y)}}),r.push(a)}return e.forEach(function(a){n.has(a.name)||o(a)}),r}function mH(e){var t=pH(e);return kG.reduce(function(n,r){return n.concat(t.filter(function(o){return o.phase===r}))},[])}function gH(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function yH(e){var t=e.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var SR={placement:"bottom",modifiers:[],strategy:"absolute"};function CR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function vH(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,o=t.defaultOptions,a=o===void 0?SR:o;return function(c,y,_){_===void 0&&(_=a);var C={placement:"bottom",orderedModifiers:[],options:Object.assign({},SR,a),modifiersData:{},elements:{reference:c,popper:y},attributes:{},styles:{}},k=[],P=!1,D={state:C,setOptions:function(A){var O=typeof A=="function"?A(C.options):A;M(),C.options=Object.assign({},a,C.options,O),C.scrollParents={reference:ld(c)?Bm(c):c.contextElement?Bm(c.contextElement):[],popper:Bm(y)};var z=mH(yH([].concat(r,C.options.modifiers)));return C.orderedModifiers=z.filter(function(q){return q.enabled}),N(),D.update()},forceUpdate:function(){if(!P){var A=C.elements,O=A.reference,z=A.popper;if(CR(O,z)){C.rects={reference:fH(O,Wg(z),C.options.strategy==="fixed"),popper:$T(z)},C.reset=!1,C.placement=C.options.placement,C.orderedModifiers.forEach(function(ye){return C.modifiersData[ye.name]=Object.assign({},ye.data)});for(var q=0;q<C.orderedModifiers.length;q++){if(C.reset===!0){C.reset=!1,q=-1;continue}var Y=C.orderedModifiers[q],J=Y.fn,te=Y.options,ge=te===void 0?{}:te,Pe=Y.name;typeof J=="function"&&(C=J({state:C,options:ge,name:Pe,instance:D})||C)}}}},update:gH(function(){return new Promise(function($){D.forceUpdate(),$(C)})}),destroy:function(){M(),P=!0}};if(!CR(c,y))return D;D.setOptions(_).then(function($){!P&&_.onFirstUpdate&&_.onFirstUpdate($)});function N(){C.orderedModifiers.forEach(function($){var A=$.name,O=$.options,z=O===void 0?{}:O,q=$.effect;if(typeof q=="function"){var Y=q({state:C,name:A,instance:D,options:z}),J=function(){};k.push(Y||J)}})}function M(){k.forEach(function($){return $()}),k=[]}return D}}var _H=[UG,sH,BG,IG,iH,QG,cH,LG,tH],xH=vH({defaultModifiers:_H});function bH(e){return typeof e=="function"?e():e}const KL=U.forwardRef(function(t,n){const{children:r,container:o,disablePortal:a=!1}=t,[d,c]=U.useState(null),y=Vr(U.isValidElement(r)?r.ref:null,n);if(da(()=>{a||c(bH(o)||document.body)},[o,a]),da(()=>{if(d&&!a)return G0(n,d),()=>{G0(n,null)}},[n,d,a]),a){if(U.isValidElement(r)){const _={ref:y};return U.cloneElement(r,_)}return F.jsx(U.Fragment,{children:r})}return F.jsx(U.Fragment,{children:d&&nu.createPortal(r,d)})});function wH(e){return Qt("MuiPopper",e)}en("MuiPopper",["root"]);const SH=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],CH=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function TH(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function x2(e){return typeof e=="function"?e():e}function kH(e){return e.nodeType!==void 0}const EH=()=>nn({root:["root"]},BL(wH)),PH={},IH=U.forwardRef(function(t,n){var r;const{anchorEl:o,children:a,direction:d,disablePortal:c,modifiers:y,open:_,placement:C,popperOptions:k,popperRef:P,slotProps:D={},slots:N={},TransitionProps:M}=t,$=Rt(t,SH),A=U.useRef(null),O=Vr(A,n),z=U.useRef(null),q=Vr(z,P),Y=U.useRef(q);da(()=>{Y.current=q},[q]),U.useImperativeHandle(P,()=>z.current,[]);const J=TH(C,d),[te,ge]=U.useState(J),[Pe,ye]=U.useState(x2(o));U.useEffect(()=>{z.current&&z.current.forceUpdate()}),U.useEffect(()=>{o&&ye(x2(o))},[o]),da(()=>{if(!Pe||!_)return;const Ke=Oe=>{ge(Oe.placement)};let ke=[{name:"preventOverflow",options:{altBoundary:c}},{name:"flip",options:{altBoundary:c}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Oe})=>{Ke(Oe)}}];y!=null&&(ke=ke.concat(y)),k&&k.modifiers!=null&&(ke=ke.concat(k.modifiers));const Me=xH(Pe,A.current,ne({placement:J},k,{modifiers:ke}));return Y.current(Me),()=>{Me.destroy(),Y.current(null)}},[Pe,c,y,_,k,J]);const Ne={placement:te};M!==null&&(Ne.TransitionProps=M);const Ve=EH(),et=(r=N.root)!=null?r:"div",Ze=Wa({elementType:et,externalSlotProps:D.root,externalForwardedProps:$,additionalProps:{role:"tooltip",ref:O},ownerState:t,className:Ve.root});return F.jsx(et,ne({},Ze,{children:typeof a=="function"?a(Ne):a}))}),MH=U.forwardRef(function(t,n){const{anchorEl:r,children:o,container:a,direction:d="ltr",disablePortal:c=!1,keepMounted:y=!1,modifiers:_,open:C,placement:k="bottom",popperOptions:P=PH,popperRef:D,style:N,transition:M=!1,slotProps:$={},slots:A={}}=t,O=Rt(t,CH),[z,q]=U.useState(!0),Y=()=>{q(!1)},J=()=>{q(!0)};if(!y&&!C&&(!M||z))return null;let te;if(a)te=a;else if(r){const ye=x2(r);te=ye&&kH(ye)?yi(ye).body:yi(null).body}const ge=!C&&y&&(!M||z)?"none":void 0,Pe=M?{in:C,onEnter:Y,onExited:J}:void 0;return F.jsx(KL,{disablePortal:c,container:te,children:F.jsx(IH,ne({anchorEl:r,direction:d,disablePortal:c,modifiers:_,ref:n,open:M?!z:C,placement:k,popperOptions:P,popperRef:D,slotProps:$,slots:A},O,{style:ne({position:"fixed",top:0,left:0,display:ge},N),TransitionProps:Pe,children:o}))})});function RH(e){const t=yi(e);return t.body===e?Zc(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function jm(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function TR(e){return parseInt(Zc(e).getComputedStyle(e).paddingRight,10)||0}function AH(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function kR(e,t,n,r,o){const a=[t,n,...r];[].forEach.call(e.children,d=>{const c=a.indexOf(d)===-1,y=!AH(d);c&&y&&jm(d,o)})}function gw(e,t){let n=-1;return e.some((r,o)=>t(r)?(n=o,!0):!1),n}function OH(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(RH(r)){const d=rL(yi(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${TR(r)+d}px`;const c=yi(r).querySelectorAll(".mui-fixed");[].forEach.call(c,y=>{n.push({value:y.style.paddingRight,property:"padding-right",el:y}),y.style.paddingRight=`${TR(y)+d}px`})}let a;if(r.parentNode instanceof DocumentFragment)a=yi(r).body;else{const d=r.parentElement,c=Zc(r);a=(d==null?void 0:d.nodeName)==="HTML"&&c.getComputedStyle(d).overflowY==="scroll"?d:r}n.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{n.forEach(({value:a,el:d,property:c})=>{a?d.style.setProperty(c,a):d.style.removeProperty(c)})}}function DH(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class zH{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&jm(t.modalRef,!1);const o=DH(n);kR(n,t.mount,t.modalRef,o,!0);const a=gw(this.containers,d=>d.container===n);return a!==-1?(this.containers[a].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:o}),r)}mount(t,n){const r=gw(this.containers,a=>a.modals.indexOf(t)!==-1),o=this.containers[r];o.restore||(o.restore=OH(o,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const o=gw(this.containers,d=>d.modals.indexOf(t)!==-1),a=this.containers[o];if(a.modals.splice(a.modals.indexOf(t),1),this.modals.splice(r,1),a.modals.length===0)a.restore&&a.restore(),t.modalRef&&jm(t.modalRef,n),kR(a.container,t.mount,t.modalRef,a.hiddenSiblings,!1),this.containers.splice(o,1);else{const d=a.modals[a.modals.length-1];d.modalRef&&jm(d.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function LH(e){return typeof e=="function"?e():e}function $H(e){return e?e.props.hasOwnProperty("in"):!1}const NH=new zH;function FH(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:o=NH,closeAfterTransition:a=!1,onTransitionEnter:d,onTransitionExited:c,children:y,onClose:_,open:C,rootRef:k}=e,P=U.useRef({}),D=U.useRef(null),N=U.useRef(null),M=Vr(N,k),[$,A]=U.useState(!C),O=$H(y);let z=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(z=!1);const q=()=>yi(D.current),Y=()=>(P.current.modalRef=N.current,P.current.mount=D.current,P.current),J=()=>{o.mount(Y(),{disableScrollLock:r}),N.current&&(N.current.scrollTop=0)},te=sa(()=>{const ke=LH(t)||q().body;o.add(Y(),ke),N.current&&J()}),ge=U.useCallback(()=>o.isTopModal(Y()),[o]),Pe=sa(ke=>{D.current=ke,ke&&(C&&ge()?J():N.current&&jm(N.current,z))}),ye=U.useCallback(()=>{o.remove(Y(),z)},[z,o]);U.useEffect(()=>()=>{ye()},[ye]),U.useEffect(()=>{C?te():(!O||!a)&&ye()},[C,ye,O,a,te]);const Ne=ke=>Me=>{var Oe;(Oe=ke.onKeyDown)==null||Oe.call(ke,Me),!(Me.key!=="Escape"||!ge())&&(n||(Me.stopPropagation(),_&&_(Me,"escapeKeyDown")))},Ve=ke=>Me=>{var Oe;(Oe=ke.onClick)==null||Oe.call(ke,Me),Me.target===Me.currentTarget&&_&&_(Me,"backdropClick")};return{getRootProps:(ke={})=>{const Me=DT(e);delete Me.onTransitionEnter,delete Me.onTransitionExited;const Oe=ne({},Me,ke);return ne({role:"presentation"},Oe,{onKeyDown:Ne(Oe),ref:M})},getBackdropProps:(ke={})=>{const Me=ke;return ne({"aria-hidden":!0},Me,{onClick:Ve(Me),open:C})},getTransitionProps:()=>{const ke=()=>{A(!1),d&&d()},Me=()=>{A(!0),c&&c(),a&&ye()};return{onEnter:s2(ke,y.props.onEnter),onExited:s2(Me,y.props.onExited)}},rootRef:M,portalRef:Pe,isTopModal:ge,exited:$,hasTransition:O}}function BH(e){return Qt("MuiModal",e)}en("MuiModal",["root","hidden","backdrop"]);const jH=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],UH=e=>{const{open:t,exited:n}=e;return nn({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},BL(BH))},VH=U.forwardRef(function(t,n){var r;const{children:o,closeAfterTransition:a=!1,container:d,disableAutoFocus:c=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:_=!1,disablePortal:C=!1,disableRestoreFocus:k=!1,disableScrollLock:P=!1,hideBackdrop:D=!1,keepMounted:N=!1,onBackdropClick:M,open:$,slotProps:A={},slots:O={}}=t,z=Rt(t,jH),q=ne({},t,{closeAfterTransition:a,disableAutoFocus:c,disableEnforceFocus:y,disableEscapeKeyDown:_,disablePortal:C,disableRestoreFocus:k,disableScrollLock:P,hideBackdrop:D,keepMounted:N}),{getRootProps:Y,getBackdropProps:J,getTransitionProps:te,portalRef:ge,isTopModal:Pe,exited:ye,hasTransition:Ne}=FH(ne({},q,{rootRef:n})),Ve=ne({},q,{exited:ye,hasTransition:Ne}),et=UH(Ve),Ze={};if(o.props.tabIndex===void 0&&(Ze.tabIndex="-1"),Ne){const{onEnter:Ee,onExited:ze}=te();Ze.onEnter=Ee,Ze.onExited=ze}const Ke=(r=O.root)!=null?r:"div",ke=Wa({elementType:Ke,externalSlotProps:A.root,externalForwardedProps:z,getSlotProps:Y,className:et.root,ownerState:Ve}),Me=O.backdrop,Oe=Wa({elementType:Me,externalSlotProps:A.backdrop,getSlotProps:Ee=>J(ne({},Ee,{onClick:ze=>{M&&M(ze),Ee!=null&&Ee.onClick&&Ee.onClick(ze)}})),className:et.backdrop,ownerState:Ve});return!N&&!$&&(!Ne||ye)?null:F.jsx(KL,{ref:ge,container:d,disablePortal:C,children:F.jsxs(Ke,ne({},ke,{children:[!D&&Me?F.jsx(Me,ne({},Oe)):null,F.jsx(pG,{disableEnforceFocus:y,disableAutoFocus:c,disableRestoreFocus:k,isEnabled:Pe,open:$,children:U.cloneElement(o,Ze)})]}))})});function WH(e){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:o,resumeHideDuration:a}=e,d=U.useRef();U.useEffect(()=>{if(!o)return;function A(O){O.defaultPrevented||(O.key==="Escape"||O.key==="Esc")&&(r==null||r(O,"escapeKeyDown"))}return document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}},[o,r]);const c=sa((A,O)=>{r==null||r(A,O)}),y=sa(A=>{!r||A==null||(clearTimeout(d.current),d.current=setTimeout(()=>{c(null,"timeout")},A))});U.useEffect(()=>(o&&y(t),()=>{clearTimeout(d.current)}),[o,t,y]);const _=A=>{r==null||r(A,"clickaway")},C=()=>{clearTimeout(d.current)},k=U.useCallback(()=>{t!=null&&y(a??t*.5)},[t,a,y]),P=A=>O=>{const z=A.onBlur;z==null||z(O),k()},D=A=>O=>{const z=A.onFocus;z==null||z(O),C()},N=A=>O=>{const z=A.onMouseEnter;z==null||z(O),C()},M=A=>O=>{const z=A.onMouseLeave;z==null||z(O),k()};return U.useEffect(()=>{if(!n&&o)return window.addEventListener("focus",k),window.addEventListener("blur",C),()=>{window.removeEventListener("focus",k),window.removeEventListener("blur",C)}},[n,k,o]),{getRootProps:(A={})=>{const O=DT(e),z=ne({},O,A);return ne({role:"presentation"},z,{onBlur:P(z),onFocus:D(z),onMouseEnter:N(z),onMouseLeave:M(z)})},onClickAway:_}}const qH=["onChange","maxRows","minRows","style","value"];function kv(e){return parseInt(e,10)||0}const GH={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function ER(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflow}const HH=U.forwardRef(function(t,n){const{onChange:r,maxRows:o,minRows:a=1,style:d,value:c}=t,y=Rt(t,qH),{current:_}=U.useRef(c!=null),C=U.useRef(null),k=Vr(n,C),P=U.useRef(null),D=U.useRef(0),[N,M]=U.useState({outerHeightStyle:0}),$=U.useCallback(()=>{const Y=C.current,te=Zc(Y).getComputedStyle(Y);if(te.width==="0px")return{outerHeightStyle:0};const ge=P.current;ge.style.width=te.width,ge.value=Y.value||t.placeholder||"x",ge.value.slice(-1)===`
`&&(ge.value+=" ");const Pe=te.boxSizing,ye=kv(te.paddingBottom)+kv(te.paddingTop),Ne=kv(te.borderBottomWidth)+kv(te.borderTopWidth),Ve=ge.scrollHeight;ge.value="x";const et=ge.scrollHeight;let Ze=Ve;a&&(Ze=Math.max(Number(a)*et,Ze)),o&&(Ze=Math.min(Number(o)*et,Ze)),Ze=Math.max(Ze,et);const Ke=Ze+(Pe==="border-box"?ye+Ne:0),ke=Math.abs(Ze-Ve)<=1;return{outerHeightStyle:Ke,overflow:ke}},[o,a,t.placeholder]),A=(Y,J)=>{const{outerHeightStyle:te,overflow:ge}=J;return D.current<20&&(te>0&&Math.abs((Y.outerHeightStyle||0)-te)>1||Y.overflow!==ge)?(D.current+=1,{overflow:ge,outerHeightStyle:te}):Y},O=U.useCallback(()=>{const Y=$();ER(Y)||M(J=>A(J,Y))},[$]),z=()=>{const Y=$();ER(Y)||nu.flushSync(()=>{M(J=>A(J,Y))})};U.useEffect(()=>{const Y=cT(()=>{D.current=0,C.current&&z()});let J;const te=C.current,ge=Zc(te);return ge.addEventListener("resize",Y),typeof ResizeObserver<"u"&&(J=new ResizeObserver(Y),J.observe(te)),()=>{Y.clear(),ge.removeEventListener("resize",Y),J&&J.disconnect()}}),da(()=>{O()}),U.useEffect(()=>{D.current=0},[c]);const q=Y=>{D.current=0,_||O(),r&&r(Y)};return F.jsxs(U.Fragment,{children:[F.jsx("textarea",ne({value:c,onChange:q,ref:k,rows:a,style:ne({height:N.outerHeightStyle,overflow:N.overflow?"hidden":void 0},d)},y)),F.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:P,tabIndex:-1,style:ne({},GH.shadow,d,{paddingTop:0,paddingBottom:0})})]})}),YH=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],ZH=gt(MH,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),KH=U.forwardRef(function(t,n){var r;const o=wT(),a=tn({props:t,name:"MuiPopper"}),{anchorEl:d,component:c,components:y,componentsProps:_,container:C,disablePortal:k,keepMounted:P,modifiers:D,open:N,placement:M,popperOptions:$,popperRef:A,transition:O,slots:z,slotProps:q}=a,Y=Rt(a,YH),J=(r=z==null?void 0:z.root)!=null?r:y==null?void 0:y.Root,te=ne({anchorEl:d,container:C,disablePortal:k,keepMounted:P,modifiers:D,open:N,placement:M,popperOptions:$,popperRef:A,transition:O},Y);return F.jsx(ZH,ne({as:c,direction:o==null?void 0:o.direction,slots:{root:J},slotProps:q??_},te,{ref:n}))}),XL=KH;function md({props:e,states:t,muiFormControl:n}){return t.reduce((r,o)=>(r[o]=e[o],n&&typeof e[o]>"u"&&(r[o]=n[o]),r),{})}const XH=U.createContext(void 0),Ox=XH;function au(){return U.useContext(Ox)}function JL(e){return F.jsx(g9,ne({},e,{defaultTheme:xx,themeId:sd}))}function PR(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function X0(e,t=!1){return e&&(PR(e.value)&&e.value!==""||t&&PR(e.defaultValue)&&e.defaultValue!=="")}function JH(e){return e.startAdornment}function QH(e){return Qt("MuiInputBase",e)}const eY=en("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Pf=eY,tY=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Dx=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${mt(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},zx=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},nY=e=>{const{classes:t,color:n,disabled:r,error:o,endAdornment:a,focused:d,formControl:c,fullWidth:y,hiddenLabel:_,multiline:C,readOnly:k,size:P,startAdornment:D,type:N}=e,M={root:["root",`color${mt(n)}`,r&&"disabled",o&&"error",y&&"fullWidth",d&&"focused",c&&"formControl",P==="small"&&"sizeSmall",C&&"multiline",D&&"adornedStart",a&&"adornedEnd",_&&"hiddenLabel",k&&"readOnly"],input:["input",r&&"disabled",N==="search"&&"inputTypeSearch",C&&"inputMultiline",P==="small"&&"inputSizeSmall",_&&"inputHiddenLabel",D&&"inputAdornedStart",a&&"inputAdornedEnd",k&&"readOnly"]};return nn(M,QH,t)},Lx=gt("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Dx})(({theme:e,ownerState:t})=>ne({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Pf.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&ne({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),$x=gt("input",{name:"MuiInputBase",slot:"Input",overridesResolver:zx})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",r=ne({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),o={opacity:"0 !important"},a=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return ne({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Pf.formControl} &`]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${Pf.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),rY=F.jsx(JL,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),iY=U.forwardRef(function(t,n){var r;const o=tn({props:t,name:"MuiInputBase"}),{"aria-describedby":a,autoComplete:d,autoFocus:c,className:y,components:_={},componentsProps:C={},defaultValue:k,disabled:P,disableInjectingGlobalStyles:D,endAdornment:N,fullWidth:M=!1,id:$,inputComponent:A="input",inputProps:O={},inputRef:z,maxRows:q,minRows:Y,multiline:J=!1,name:te,onBlur:ge,onChange:Pe,onClick:ye,onFocus:Ne,onKeyDown:Ve,onKeyUp:et,placeholder:Ze,readOnly:Ke,renderSuffix:ke,rows:Me,slotProps:Oe={},slots:Ee={},startAdornment:ze,type:st="text",value:be}=o,Fe=Rt(o,tY),Ae=O.value!=null?O.value:be,{current:qe}=U.useRef(Ae!=null),Le=U.useRef(),ot=U.useCallback(an=>{},[]),xt=Vr(Le,z,O.ref,ot),[St,It]=U.useState(!1),jt=au(),Mt=md({props:o,muiFormControl:jt,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Mt.focused=jt?jt.focused:St,U.useEffect(()=>{!jt&&P&&St&&(It(!1),ge&&ge())},[jt,P,St,ge]);const Re=jt&&jt.onFilled,rn=jt&&jt.onEmpty,Sn=U.useCallback(an=>{X0(an)?Re&&Re():rn&&rn()},[Re,rn]);da(()=>{qe&&Sn({value:Ae})},[Ae,Sn,qe]);const Zt=an=>{if(Mt.disabled){an.stopPropagation();return}Ne&&Ne(an),O.onFocus&&O.onFocus(an),jt&&jt.onFocus?jt.onFocus(an):It(!0)},Yt=an=>{ge&&ge(an),O.onBlur&&O.onBlur(an),jt&&jt.onBlur?jt.onBlur(an):It(!1)},Nn=(an,...Wt)=>{if(!qe){const je=an.target||Le.current;if(je==null)throw new Error(Yc(1));Sn({value:je.value})}O.onChange&&O.onChange(an,...Wt),Pe&&Pe(an,...Wt)};U.useEffect(()=>{Sn(Le.current)},[]);const cr=an=>{Le.current&&an.currentTarget===an.target&&Le.current.focus(),ye&&!Mt.disabled&&ye(an)};let _n=A,Cn=O;J&&_n==="input"&&(Me?Cn=ne({type:void 0,minRows:Me,maxRows:Me},Cn):Cn=ne({type:void 0,maxRows:q,minRows:Y},Cn),_n=HH);const on=an=>{Sn(an.animationName==="mui-auto-fill-cancel"?Le.current:{value:"x"})};U.useEffect(()=>{jt&&jt.setAdornedStart(!!ze)},[jt,ze]);const xn=ne({},o,{color:Mt.color||"primary",disabled:Mt.disabled,endAdornment:N,error:Mt.error,focused:Mt.focused,formControl:jt,fullWidth:M,hiddenLabel:Mt.hiddenLabel,multiline:J,size:Mt.size,startAdornment:ze,type:st}),sr=nY(xn),nt=Ee.root||_.Root||Lx,bn=Oe.root||C.root||{},Fn=Ee.input||_.Input||$x;return Cn=ne({},Cn,(r=Oe.input)!=null?r:C.input),F.jsxs(U.Fragment,{children:[!D&&rY,F.jsxs(nt,ne({},bn,!xg(nt)&&{ownerState:ne({},xn,bn.ownerState)},{ref:n,onClick:cr},Fe,{className:Dt(sr.root,bn.className,y,Ke&&"MuiInputBase-readOnly"),children:[ze,F.jsx(Ox.Provider,{value:null,children:F.jsx(Fn,ne({ownerState:xn,"aria-invalid":Mt.error,"aria-describedby":a,autoComplete:d,autoFocus:c,defaultValue:k,disabled:Mt.disabled,id:$,onAnimationStart:on,name:te,placeholder:Ze,readOnly:Ke,required:Mt.required,rows:Me,value:Ae,onKeyDown:Ve,onKeyUp:et,type:st},Cn,!xg(Fn)&&{as:_n,ownerState:ne({},xn,Cn.ownerState)},{ref:xt,className:Dt(sr.input,Cn.className,Ke&&"MuiInputBase-readOnly"),onBlur:Yt,onChange:Nn,onFocus:Zt}))}),N,ke?ke(ne({},Mt,{startAdornment:ze})):null]}))]})}),UT=iY;function oY(e){return Qt("MuiInput",e)}const sY=ne({},Pf,en("MuiInput",["root","underline","input"])),im=sY;function aY(e){return Qt("MuiOutlinedInput",e)}const lY=ne({},Pf,en("MuiOutlinedInput",["root","notchedOutline","input"])),hc=lY;function cY(e){return Qt("MuiFilledInput",e)}const uY=ne({},Pf,en("MuiFilledInput",["root","underline","input"])),Iu=uY,dY=PT(F.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),hY=PT(F.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function fY(e){return Qt("MuiAvatar",e)}en("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const pY=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],mY=e=>{const{classes:t,variant:n,colorDefault:r}=e;return nn({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},fY,t)},gY=gt("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})(({theme:e,ownerState:t})=>ne({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.variant==="square"&&{borderRadius:0},t.colorDefault&&ne({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600]}))),yY=gt("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),vY=gt(hY,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});function _Y({crossOrigin:e,referrerPolicy:t,src:n,srcSet:r}){const[o,a]=U.useState(!1);return U.useEffect(()=>{if(!n&&!r)return;a(!1);let d=!0;const c=new Image;return c.onload=()=>{d&&a("loaded")},c.onerror=()=>{d&&a("error")},c.crossOrigin=e,c.referrerPolicy=t,c.src=n,r&&(c.srcset=r),()=>{d=!1}},[e,t,n,r]),o}const xY=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiAvatar"}),{alt:o,children:a,className:d,component:c="div",imgProps:y,sizes:_,src:C,srcSet:k,variant:P="circular"}=r,D=Rt(r,pY);let N=null;const M=_Y(ne({},y,{src:C,srcSet:k})),$=C||k,A=$&&M!=="error",O=ne({},r,{colorDefault:!A,component:c,variant:P}),z=mY(O);return A?N=F.jsx(yY,ne({alt:o,src:C,srcSet:k,sizes:_,ownerState:O,className:z.img},y)):a!=null?N=a:$&&o?N=o[0]:N=F.jsx(vY,{ownerState:O,className:z.fallback}),F.jsx(gY,ne({as:c,ownerState:O,className:Dt(z.root,d),ref:n},D,{children:N}))}),bY=xY,wY=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],SY={entering:{opacity:1},entered:{opacity:1}},CY=U.forwardRef(function(t,n){const r=iu(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:d=!0,children:c,easing:y,in:_,onEnter:C,onEntered:k,onEntering:P,onExit:D,onExited:N,onExiting:M,style:$,timeout:A=o,TransitionComponent:O=RT}=t,z=Rt(t,wY),q=U.useRef(null),Y=Vr(q,c.ref,n),J=Ze=>Ke=>{if(Ze){const ke=q.current;Ke===void 0?Ze(ke):Ze(ke,Ke)}},te=J(P),ge=J((Ze,Ke)=>{LL(Ze);const ke=Sf({style:$,timeout:A,easing:y},{mode:"enter"});Ze.style.webkitTransition=r.transitions.create("opacity",ke),Ze.style.transition=r.transitions.create("opacity",ke),C&&C(Ze,Ke)}),Pe=J(k),ye=J(M),Ne=J(Ze=>{const Ke=Sf({style:$,timeout:A,easing:y},{mode:"exit"});Ze.style.webkitTransition=r.transitions.create("opacity",Ke),Ze.style.transition=r.transitions.create("opacity",Ke),D&&D(Ze)}),Ve=J(N),et=Ze=>{a&&a(q.current,Ze)};return F.jsx(O,ne({appear:d,in:_,nodeRef:q,onEnter:ge,onEntered:Pe,onEntering:te,onExit:Ne,onExited:Ve,onExiting:ye,addEndListener:et,timeout:A},z,{children:(Ze,Ke)=>U.cloneElement(c,ne({style:ne({opacity:0,visibility:Ze==="exited"&&!_?"hidden":void 0},SY[Ze],$,c.props.style),ref:Y},Ke))}))}),TY=CY;function kY(e){return Qt("MuiBackdrop",e)}en("MuiBackdrop",["root","invisible"]);const EY=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],PY=e=>{const{classes:t,invisible:n}=e;return nn({root:["root",n&&"invisible"]},kY,t)},IY=gt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>ne({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),MY=U.forwardRef(function(t,n){var r,o,a;const d=tn({props:t,name:"MuiBackdrop"}),{children:c,className:y,component:_="div",components:C={},componentsProps:k={},invisible:P=!1,open:D,slotProps:N={},slots:M={},TransitionComponent:$=TY,transitionDuration:A}=d,O=Rt(d,EY),z=ne({},d,{component:_,invisible:P}),q=PY(z),Y=(r=N.root)!=null?r:k.root;return F.jsx($,ne({in:D,timeout:A},O,{children:F.jsx(IY,ne({"aria-hidden":!0},Y,{as:(o=(a=M.root)!=null?a:C.Root)!=null?o:_,className:Dt(q.root,y,Y==null?void 0:Y.className),ownerState:ne({},z,Y==null?void 0:Y.ownerState),classes:q,ref:n,children:c}))}))}),RY=MY;function AY(e){return Qt("MuiBadge",e)}const OY=en("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),fc=OY,DY=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],yw=10,vw=4,zY=e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:o,variant:a,classes:d={}}=e,c={root:["root"],badge:["badge",a,r&&"invisible",`anchorOrigin${mt(n.vertical)}${mt(n.horizontal)}`,`anchorOrigin${mt(n.vertical)}${mt(n.horizontal)}${mt(o)}`,`overlap${mt(o)}`,t!=="default"&&`color${mt(t)}`]};return nn(c,AY,d)},LY=gt("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),$Y=gt("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${mt(n.anchorOrigin.vertical)}${mt(n.anchorOrigin.horizontal)}${mt(n.overlap)}`],n.color!=="default"&&t[`color${mt(n.color)}`],n.invisible&&t.invisible]}})(({theme:e,ownerState:t})=>ne({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:yw*2,lineHeight:1,padding:"0 6px",height:yw*2,borderRadius:yw,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.variant==="dot"&&{borderRadius:vw,height:vw*2,minWidth:vw*2,padding:0},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${fc.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${fc.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${fc.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${fc.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${fc.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${fc.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${fc.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${fc.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.invisible&&{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})})),NY=U.forwardRef(function(t,n){var r,o,a,d,c,y;const _=tn({props:t,name:"MuiBadge"}),{anchorOrigin:C={vertical:"top",horizontal:"right"},className:k,component:P,components:D={},componentsProps:N={},children:M,overlap:$="rectangular",color:A="default",invisible:O=!1,max:z=99,badgeContent:q,slots:Y,slotProps:J,showZero:te=!1,variant:ge="standard"}=_,Pe=Rt(_,DY),{badgeContent:ye,invisible:Ne,max:Ve,displayValue:et}=oG({max:z,invisible:O,badgeContent:q,showZero:te}),Ze=iL({anchorOrigin:C,color:A,overlap:$,variant:ge,badgeContent:q}),Ke=Ne||ye==null&&ge!=="dot",{color:ke=A,overlap:Me=$,anchorOrigin:Oe=C,variant:Ee=ge}=Ke?Ze:_,ze=Ee!=="dot"?et:void 0,st=ne({},_,{badgeContent:ye,invisible:Ke,max:Ve,displayValue:ze,showZero:te,anchorOrigin:Oe,color:ke,overlap:Me,variant:Ee}),be=zY(st),Fe=(r=(o=Y==null?void 0:Y.root)!=null?o:D.Root)!=null?r:LY,Ae=(a=(d=Y==null?void 0:Y.badge)!=null?d:D.Badge)!=null?a:$Y,qe=(c=J==null?void 0:J.root)!=null?c:N.root,Le=(y=J==null?void 0:J.badge)!=null?y:N.badge,ot=Wa({elementType:Fe,externalSlotProps:qe,externalForwardedProps:Pe,additionalProps:{ref:n,as:P},ownerState:st,className:Dt(qe==null?void 0:qe.className,be.root,k)}),xt=Wa({elementType:Ae,externalSlotProps:Le,ownerState:st,className:Dt(be.badge,Le==null?void 0:Le.className)});return F.jsxs(Fe,ne({},ot,{children:[M,F.jsx(Ae,ne({},xt,{children:ze}))]}))}),FY=NY,BY=ET(),jY=x9({themeId:sd,defaultTheme:BY,defaultClassName:"MuiBox-root",generateClassName:hT.generate}),Mu=jY;function UY(e){return Qt("MuiButton",e)}const VY=en("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Ev=VY,WY=U.createContext({}),QL=WY,qY=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],GY=e=>{const{color:t,disableElevation:n,fullWidth:r,size:o,variant:a,classes:d}=e,c={root:["root",a,`${a}${mt(t)}`,`size${mt(o)}`,`${a}Size${mt(o)}`,t==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${mt(o)}`],endIcon:["endIcon",`iconSize${mt(o)}`]},y=nn(c,UY,d);return ne({},d,y)},e$=e=>ne({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),HY=gt(Ug,{shouldForwardProp:e=>pa(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${mt(n.color)}`],t[`size${mt(n.size)}`],t[`${n.variant}Size${mt(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const o=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],a=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return ne({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":ne({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:vr(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:vr(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:vr(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:a,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":ne({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${Ev.focusVisible}`]:ne({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${Ev.disabled}`]:ne({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${vr(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:o,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Ev.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Ev.disabled}`]:{boxShadow:"none"}}),YY=gt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${mt(n.size)}`]]}})(({ownerState:e})=>ne({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},e$(e))),ZY=gt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${mt(n.size)}`]]}})(({ownerState:e})=>ne({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},e$(e))),KY=U.forwardRef(function(t,n){const r=U.useContext(QL),o=dT(r,t),a=tn({props:o,name:"MuiButton"}),{children:d,color:c="primary",component:y="button",className:_,disabled:C=!1,disableElevation:k=!1,disableFocusRipple:P=!1,endIcon:D,focusVisibleClassName:N,fullWidth:M=!1,size:$="medium",startIcon:A,type:O,variant:z="text"}=a,q=Rt(a,qY),Y=ne({},a,{color:c,component:y,disabled:C,disableElevation:k,disableFocusRipple:P,fullWidth:M,size:$,type:O,variant:z}),J=GY(Y),te=A&&F.jsx(YY,{className:J.startIcon,ownerState:Y,children:A}),ge=D&&F.jsx(ZY,{className:J.endIcon,ownerState:Y,children:D});return F.jsxs(HY,ne({ownerState:Y,className:Dt(r.className,J.root,_),component:y,disabled:C,focusRipple:!P,focusVisibleClassName:Dt(J.focusVisible,N),ref:n,type:O},q,{classes:J,children:[te,d,ge]}))}),Tr=KY;function XY(e){return Qt("MuiButtonGroup",e)}const JY=en("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]),za=JY,QY=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],eZ=(e,t)=>{const{ownerState:n}=e;return[{[`& .${za.grouped}`]:t.grouped},{[`& .${za.grouped}`]:t[`grouped${mt(n.orientation)}`]},{[`& .${za.grouped}`]:t[`grouped${mt(n.variant)}`]},{[`& .${za.grouped}`]:t[`grouped${mt(n.variant)}${mt(n.orientation)}`]},{[`& .${za.grouped}`]:t[`grouped${mt(n.variant)}${mt(n.color)}`]},t.root,t[n.variant],n.disableElevation===!0&&t.disableElevation,n.fullWidth&&t.fullWidth,n.orientation==="vertical"&&t.vertical]},tZ=e=>{const{classes:t,color:n,disabled:r,disableElevation:o,fullWidth:a,orientation:d,variant:c}=e,y={root:["root",c,d==="vertical"&&"vertical",a&&"fullWidth",o&&"disableElevation"],grouped:["grouped",`grouped${mt(d)}`,`grouped${mt(c)}`,`grouped${mt(c)}${mt(d)}`,`grouped${mt(c)}${mt(n)}`,r&&"disabled"]};return nn(y,XY,t)},nZ=gt("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:eZ})(({theme:e,ownerState:t})=>ne({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${za.grouped}`]:ne({minWidth:40,"&:not(:first-of-type)":ne({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1}),"&:not(:last-of-type)":ne({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${za.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${za.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:vr(e.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${za.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${za.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":ne({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),"&:hover":ne({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"})})),rZ=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiButtonGroup"}),{children:o,className:a,color:d="primary",component:c="div",disabled:y=!1,disableElevation:_=!1,disableFocusRipple:C=!1,disableRipple:k=!1,fullWidth:P=!1,orientation:D="horizontal",size:N="medium",variant:M="outlined"}=r,$=Rt(r,QY),A=ne({},r,{color:d,component:c,disabled:y,disableElevation:_,disableFocusRipple:C,disableRipple:k,fullWidth:P,orientation:D,size:N,variant:M}),O=tZ(A),z=U.useMemo(()=>({className:O.grouped,color:d,disabled:y,disableElevation:_,disableFocusRipple:C,disableRipple:k,fullWidth:P,size:N,variant:M}),[d,y,_,C,k,P,N,M,O.grouped]);return F.jsx(nZ,ne({as:c,role:"group",className:Dt(O.root,a),ref:n,ownerState:A},$,{children:F.jsx(QL.Provider,{value:z,children:o})}))}),iZ=rZ;function oZ(e){return Qt("MuiCard",e)}en("MuiCard",["root"]);const sZ=["className","raised"],aZ=e=>{const{classes:t}=e;return nn({root:["root"]},oZ,t)},lZ=gt(ou,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),cZ=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiCard"}),{className:o,raised:a=!1}=r,d=Rt(r,sZ),c=ne({},r,{raised:a}),y=aZ(c);return F.jsx(lZ,ne({className:Dt(y.root,o),elevation:a?8:void 0,ref:n,ownerState:c},d))}),qg=cZ;function uZ(e){return Qt("MuiCardActions",e)}en("MuiCardActions",["root","spacing"]);const dZ=["disableSpacing","className"],hZ=e=>{const{classes:t,disableSpacing:n}=e;return nn({root:["root",!n&&"spacing"]},uZ,t)},fZ=gt("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>ne({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),pZ=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiCardActions"}),{disableSpacing:o=!1,className:a}=r,d=Rt(r,dZ),c=ne({},r,{disableSpacing:o}),y=hZ(c);return F.jsx(fZ,ne({className:Dt(y.root,a),ownerState:c,ref:n},d))}),mZ=pZ;function gZ(e){return Qt("MuiCardContent",e)}en("MuiCardContent",["root"]);const yZ=["className","component"],vZ=e=>{const{classes:t}=e;return nn({root:["root"]},gZ,t)},_Z=gt("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),xZ=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiCardContent"}),{className:o,component:a="div"}=r,d=Rt(r,yZ),c=ne({},r,{component:a}),y=vZ(c);return F.jsx(_Z,ne({as:a,className:Dt(y.root,o),ownerState:c,ref:n},d))}),bZ=xZ;function wZ(e){return Qt("MuiCardMedia",e)}en("MuiCardMedia",["root","media","img"]);const SZ=["children","className","component","image","src","style"],CZ=e=>{const{classes:t,isMediaComponent:n,isImageComponent:r}=e;return nn({root:["root",n&&"media",r&&"img"]},wZ,t)},TZ=gt("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{isMediaComponent:r,isImageComponent:o}=n;return[t.root,r&&t.media,o&&t.img]}})(({ownerState:e})=>ne({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),kZ=["video","audio","picture","iframe","img"],EZ=["picture","img"],PZ=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiCardMedia"}),{children:o,className:a,component:d="div",image:c,src:y,style:_}=r,C=Rt(r,SZ),k=kZ.indexOf(d)!==-1,P=!k&&c?ne({backgroundImage:`url("${c}")`},_):_,D=ne({},r,{component:d,isMediaComponent:k,isImageComponent:EZ.indexOf(d)!==-1}),N=CZ(D);return F.jsx(TZ,ne({className:Dt(N.root,a),as:d,role:!k&&c?"img":void 0,ref:n,style:P,ownerState:D,src:k?c||y:void 0},C,{children:o}))}),IZ=PZ,MZ=Y9({createStyledComponent:gt("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${mt(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>tn({props:e,name:"MuiContainer"})}),t$=MZ,RZ=(e,t)=>ne({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),AZ=e=>ne({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),OZ=(e,t=!1)=>{var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([d,c])=>{var y;r[e.getColorSchemeSelector(d).replace(/\s*&/,"")]={colorScheme:(y=c.palette)==null?void 0:y.mode}});let o=ne({html:RZ(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:ne({margin:0},AZ(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const a=(n=e.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return a&&(o=[o,a]),o};function DZ(e){const t=tn({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return F.jsxs(U.Fragment,{children:[F.jsx(JL,{styles:o=>OZ(o,r)}),n]})}const zZ=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],LZ=gt("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>ne({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),$Z=gt(RY,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),NZ=U.forwardRef(function(t,n){var r,o,a,d,c,y;const _=tn({name:"MuiModal",props:t}),{BackdropComponent:C=$Z,BackdropProps:k,classes:P,className:D,closeAfterTransition:N=!1,children:M,container:$,component:A,components:O={},componentsProps:z={},disableAutoFocus:q=!1,disableEnforceFocus:Y=!1,disableEscapeKeyDown:J=!1,disablePortal:te=!1,disableRestoreFocus:ge=!1,disableScrollLock:Pe=!1,hideBackdrop:ye=!1,keepMounted:Ne=!1,onBackdropClick:Ve,onClose:et,open:Ze,slotProps:Ke,slots:ke,theme:Me}=_,Oe=Rt(_,zZ),[Ee,ze]=U.useState(!0),st={container:$,closeAfterTransition:N,disableAutoFocus:q,disableEnforceFocus:Y,disableEscapeKeyDown:J,disablePortal:te,disableRestoreFocus:ge,disableScrollLock:Pe,hideBackdrop:ye,keepMounted:Ne,onBackdropClick:Ve,onClose:et,open:Ze},be=ne({},_,st,{exited:Ee}),Fe=(r=(o=ke==null?void 0:ke.root)!=null?o:O.Root)!=null?r:LZ,Ae=(a=(d=ke==null?void 0:ke.backdrop)!=null?d:O.Backdrop)!=null?a:C,qe=(c=Ke==null?void 0:Ke.root)!=null?c:z.root,Le=(y=Ke==null?void 0:Ke.backdrop)!=null?y:z.backdrop;return F.jsx(VH,ne({slots:{root:Fe,backdrop:Ae},slotProps:{root:()=>ne({},y2(qe,be),!xg(Fe)&&{as:A,theme:Me},{className:Dt(D,qe==null?void 0:qe.className,P==null?void 0:P.root,!be.open&&be.exited&&(P==null?void 0:P.hidden))}),backdrop:()=>ne({},k,y2(Le,be),{className:Dt(Le==null?void 0:Le.className,k==null?void 0:k.className,P==null?void 0:P.backdrop)})},onTransitionEnter:()=>ze(!1),onTransitionExited:()=>ze(!0),ref:n},Oe,st,{children:M}))}),FZ=NZ;function BZ(e){return Qt("MuiDivider",e)}const jZ=en("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),IR=jZ,UZ=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],VZ=e=>{const{absolute:t,children:n,classes:r,flexItem:o,light:a,orientation:d,textAlign:c,variant:y}=e;return nn({root:["root",t&&"absolute",y,a&&"light",d==="vertical"&&"vertical",o&&"flexItem",n&&"withChildren",n&&d==="vertical"&&"withChildrenVertical",c==="right"&&d!=="vertical"&&"textAlignRight",c==="left"&&d!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",d==="vertical"&&"wrapperVertical"]},BZ,r)},WZ=gt("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>ne({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:vr(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>ne({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>ne({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`}}),({theme:e,ownerState:t})=>ne({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`}}),({ownerState:e})=>ne({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),qZ=gt("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>ne({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),n$=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiDivider"}),{absolute:o=!1,children:a,className:d,component:c=a?"div":"hr",flexItem:y=!1,light:_=!1,orientation:C="horizontal",role:k=c!=="hr"?"separator":void 0,textAlign:P="center",variant:D="fullWidth"}=r,N=Rt(r,UZ),M=ne({},r,{absolute:o,component:c,flexItem:y,light:_,orientation:C,role:k,textAlign:P,variant:D}),$=VZ(M);return F.jsx(WZ,ne({as:c,className:Dt($.root,d),role:k,ref:n,ownerState:M},N,{children:a?F.jsx(qZ,{className:$.wrapper,ownerState:M,children:a}):null}))});n$.muiSkipListHighlight=!0;const MR=n$,GZ=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],HZ=e=>{const{classes:t,disableUnderline:n}=e,o=nn({root:["root",!n&&"underline"],input:["input"]},cY,t);return ne({},t,o)},YZ=gt(Lx,{shouldForwardProp:e=>pa(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Dx(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var n;const r=e.palette.mode==="light",o=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",d=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",c=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return ne({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:d,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a}},[`&.${Iu.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a},[`&.${Iu.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:c}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(n=(e.vars||e).palette[t.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Iu.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Iu.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Iu.disabled}, .${Iu.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Iu.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&ne({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),ZZ=gt($x,{name:"MuiFilledInput",slot:"Input",overridesResolver:zx})(({theme:e,ownerState:t})=>ne({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9})),r$=U.forwardRef(function(t,n){var r,o,a,d;const c=tn({props:t,name:"MuiFilledInput"}),{components:y={},componentsProps:_,fullWidth:C=!1,inputComponent:k="input",multiline:P=!1,slotProps:D,slots:N={},type:M="text"}=c,$=Rt(c,GZ),A=ne({},c,{fullWidth:C,inputComponent:k,multiline:P,type:M}),O=HZ(c),z={root:{ownerState:A},input:{ownerState:A}},q=D??_?No(D??_,z):z,Y=(r=(o=N.root)!=null?o:y.Root)!=null?r:YZ,J=(a=(d=N.input)!=null?d:y.Input)!=null?a:ZZ;return F.jsx(UT,ne({slots:{root:Y,input:J},componentsProps:q,fullWidth:C,inputComponent:k,multiline:P,ref:n,type:M},$,{classes:O}))});r$.muiName="Input";const i$=r$;function KZ(e){return Qt("MuiFormControl",e)}en("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const XZ=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],JZ=e=>{const{classes:t,margin:n,fullWidth:r}=e,o={root:["root",n!=="none"&&`margin${mt(n)}`,r&&"fullWidth"]};return nn(o,KZ,t)},QZ=gt("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>ne({},t.root,t[`margin${mt(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>ne({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),eK=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiFormControl"}),{children:o,className:a,color:d="primary",component:c="div",disabled:y=!1,error:_=!1,focused:C,fullWidth:k=!1,hiddenLabel:P=!1,margin:D="none",required:N=!1,size:M="medium",variant:$="outlined"}=r,A=Rt(r,XZ),O=ne({},r,{color:d,component:c,disabled:y,error:_,fullWidth:k,hiddenLabel:P,margin:D,required:N,size:M,variant:$}),z=JZ(O),[q,Y]=U.useState(()=>{let et=!1;return o&&U.Children.forEach(o,Ze=>{if(!Kv(Ze,["Input","Select"]))return;const Ke=Kv(Ze,["Select"])?Ze.props.input:Ze;Ke&&JH(Ke.props)&&(et=!0)}),et}),[J,te]=U.useState(()=>{let et=!1;return o&&U.Children.forEach(o,Ze=>{Kv(Ze,["Input","Select"])&&(X0(Ze.props,!0)||X0(Ze.props.inputProps,!0))&&(et=!0)}),et}),[ge,Pe]=U.useState(!1);y&&ge&&Pe(!1);const ye=C!==void 0&&!y?C:ge;let Ne;const Ve=U.useMemo(()=>({adornedStart:q,setAdornedStart:Y,color:d,disabled:y,error:_,filled:J,focused:ye,fullWidth:k,hiddenLabel:P,size:M,onBlur:()=>{Pe(!1)},onEmpty:()=>{te(!1)},onFilled:()=>{te(!0)},onFocus:()=>{Pe(!0)},registerEffect:Ne,required:N,variant:$}),[q,d,y,_,J,ye,k,P,Ne,N,M,$]);return F.jsx(Ox.Provider,{value:Ve,children:F.jsx(QZ,ne({as:c,ownerState:O,className:Dt(z.root,a),ref:n},A,{children:o}))})}),J0=eK;function tK(e){return Qt("MuiFormGroup",e)}en("MuiFormGroup",["root","row","error"]);const nK=["className","row"],rK=e=>{const{classes:t,row:n,error:r}=e;return nn({root:["root",n&&"row",r&&"error"]},tK,t)},iK=gt("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})(({ownerState:e})=>ne({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),oK=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiFormGroup"}),{className:o,row:a=!1}=r,d=Rt(r,nK),c=au(),y=md({props:r,muiFormControl:c,states:["error"]}),_=ne({},r,{row:a,error:y.error}),C=rK(_);return F.jsx(iK,ne({className:Dt(C.root,o),ownerState:_,ref:n},d))}),sK=oK;function aK(e){return Qt("MuiFormHelperText",e)}const lK=en("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),RR=lK;var AR;const cK=["children","className","component","disabled","error","filled","focused","margin","required","variant"],uK=e=>{const{classes:t,contained:n,size:r,disabled:o,error:a,filled:d,focused:c,required:y}=e,_={root:["root",o&&"disabled",a&&"error",r&&`size${mt(r)}`,n&&"contained",c&&"focused",d&&"filled",y&&"required"]};return nn(_,aK,t)},dK=gt("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${mt(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(({theme:e,ownerState:t})=>ne({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${RR.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${RR.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),hK=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiFormHelperText"}),{children:o,className:a,component:d="p"}=r,c=Rt(r,cK),y=au(),_=md({props:r,muiFormControl:y,states:["variant","size","disabled","error","filled","focused","required"]}),C=ne({},r,{component:d,contained:_.variant==="filled"||_.variant==="outlined",variant:_.variant,size:_.size,disabled:_.disabled,error:_.error,filled:_.filled,focused:_.focused,required:_.required}),k=uK(C);return F.jsx(dK,ne({as:d,ownerState:C,className:Dt(k.root,a),ref:n},c,{children:o===" "?AR||(AR=F.jsx("span",{className:"notranslate",children:""})):o}))}),fK=hK;function pK(e){return Qt("MuiFormLabel",e)}const mK=en("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Um=mK,gK=["children","className","color","component","disabled","error","filled","focused","required"],yK=e=>{const{classes:t,color:n,focused:r,disabled:o,error:a,filled:d,required:c}=e,y={root:["root",`color${mt(n)}`,o&&"disabled",a&&"error",d&&"filled",r&&"focused",c&&"required"],asterisk:["asterisk",a&&"error"]};return nn(y,pK,t)},vK=gt("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>ne({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>ne({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Um.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${Um.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Um.error}`]:{color:(e.vars||e).palette.error.main}})),_K=gt("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${Um.error}`]:{color:(e.vars||e).palette.error.main}})),xK=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiFormLabel"}),{children:o,className:a,component:d="label"}=r,c=Rt(r,gK),y=au(),_=md({props:r,muiFormControl:y,states:["color","required","focused","disabled","error","filled"]}),C=ne({},r,{color:_.color||"primary",component:d,disabled:_.disabled,error:_.error,filled:_.filled,focused:_.focused,required:_.required}),k=yK(C);return F.jsxs(vK,ne({as:d,ownerState:C,className:Dt(k.root,a),ref:n},c,{children:[o,_.required&&F.jsxs(_K,{ownerState:C,"aria-hidden":!0,className:k.asterisk,children:["","*"]})]}))}),bK=xK,wK=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function b2(e){return`scale(${e}, ${e**2})`}const SK={entering:{opacity:1,transform:b2(1)},entered:{opacity:1,transform:"none"}},_w=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),o$=U.forwardRef(function(t,n){const{addEndListener:r,appear:o=!0,children:a,easing:d,in:c,onEnter:y,onEntered:_,onEntering:C,onExit:k,onExited:P,onExiting:D,style:N,timeout:M="auto",TransitionComponent:$=RT}=t,A=Rt(t,wK),O=U.useRef(),z=U.useRef(),q=iu(),Y=U.useRef(null),J=Vr(Y,a.ref,n),te=Ke=>ke=>{if(Ke){const Me=Y.current;ke===void 0?Ke(Me):Ke(Me,ke)}},ge=te(C),Pe=te((Ke,ke)=>{LL(Ke);const{duration:Me,delay:Oe,easing:Ee}=Sf({style:N,timeout:M,easing:d},{mode:"enter"});let ze;M==="auto"?(ze=q.transitions.getAutoHeightDuration(Ke.clientHeight),z.current=ze):ze=Me,Ke.style.transition=[q.transitions.create("opacity",{duration:ze,delay:Oe}),q.transitions.create("transform",{duration:_w?ze:ze*.666,delay:Oe,easing:Ee})].join(","),y&&y(Ke,ke)}),ye=te(_),Ne=te(D),Ve=te(Ke=>{const{duration:ke,delay:Me,easing:Oe}=Sf({style:N,timeout:M,easing:d},{mode:"exit"});let Ee;M==="auto"?(Ee=q.transitions.getAutoHeightDuration(Ke.clientHeight),z.current=Ee):Ee=ke,Ke.style.transition=[q.transitions.create("opacity",{duration:Ee,delay:Me}),q.transitions.create("transform",{duration:_w?Ee:Ee*.666,delay:_w?Me:Me||Ee*.333,easing:Oe})].join(","),Ke.style.opacity=0,Ke.style.transform=b2(.75),k&&k(Ke)}),et=te(P),Ze=Ke=>{M==="auto"&&(O.current=setTimeout(Ke,z.current||0)),r&&r(Y.current,Ke)};return U.useEffect(()=>()=>{clearTimeout(O.current)},[]),F.jsx($,ne({appear:o,in:c,nodeRef:Y,onEnter:Pe,onEntered:ye,onEntering:ge,onExit:Ve,onExited:et,onExiting:Ne,addEndListener:Ze,timeout:M==="auto"?null:M},A,{children:(Ke,ke)=>U.cloneElement(a,ne({style:ne({opacity:0,transform:b2(.75),visibility:Ke==="exited"&&!c?"hidden":void 0},SK[Ke],N,a.props.style),ref:J},ke))}))});o$.muiSupportAuto=!0;const Q0=o$,CK=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],TK=e=>{const{classes:t,disableUnderline:n}=e,o=nn({root:["root",!n&&"underline"],input:["input"]},oY,t);return ne({},t,o)},kK=gt(Lx,{shouldForwardProp:e=>pa(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Dx(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),ne({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${im.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${im.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${im.disabled}, .${im.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${im.disabled}:before`]:{borderBottomStyle:"dotted"}})}),EK=gt($x,{name:"MuiInput",slot:"Input",overridesResolver:zx})({}),s$=U.forwardRef(function(t,n){var r,o,a,d;const c=tn({props:t,name:"MuiInput"}),{disableUnderline:y,components:_={},componentsProps:C,fullWidth:k=!1,inputComponent:P="input",multiline:D=!1,slotProps:N,slots:M={},type:$="text"}=c,A=Rt(c,CK),O=TK(c),q={root:{ownerState:{disableUnderline:y}}},Y=N??C?No(N??C,q):q,J=(r=(o=M.root)!=null?o:_.Root)!=null?r:kK,te=(a=(d=M.input)!=null?d:_.Input)!=null?a:EK;return F.jsx(UT,ne({slots:{root:J,input:te},slotProps:Y,fullWidth:k,inputComponent:P,multiline:D,ref:n,type:$},A,{classes:O}))});s$.muiName="Input";const a$=s$;function PK(e){return Qt("MuiInputAdornment",e)}const IK=en("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),OR=IK;var DR;const MK=["children","className","component","disablePointerEvents","disableTypography","position","variant"],RK=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${mt(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},AK=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:o,size:a,variant:d}=e,c={root:["root",n&&"disablePointerEvents",o&&`position${mt(o)}`,d,r&&"hiddenLabel",a&&`size${mt(a)}`]};return nn(c,PK,t)},OK=gt("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:RK})(({theme:e,ownerState:t})=>ne({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},t.variant==="filled"&&{[`&.${OR.positionStart}&:not(.${OR.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),DK=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiInputAdornment"}),{children:o,className:a,component:d="div",disablePointerEvents:c=!1,disableTypography:y=!1,position:_,variant:C}=r,k=Rt(r,MK),P=au()||{};let D=C;C&&P.variant,P&&!D&&(D=P.variant);const N=ne({},r,{hiddenLabel:P.hiddenLabel,size:P.size,disablePointerEvents:c,position:_,variant:D}),M=AK(N);return F.jsx(Ox.Provider,{value:null,children:F.jsx(OK,ne({as:d,ownerState:N,className:Dt(M.root,a),ref:n},k,{children:typeof o=="string"&&!y?F.jsx(Yn,{color:"text.secondary",children:o}):F.jsxs(U.Fragment,{children:[_==="start"?DR||(DR=F.jsx("span",{className:"notranslate",children:""})):null,o]})}))})}),zK=DK;function LK(e){return Qt("MuiInputLabel",e)}en("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const $K=["disableAnimation","margin","shrink","variant","className"],NK=e=>{const{classes:t,formControl:n,size:r,shrink:o,disableAnimation:a,variant:d,required:c}=e,_=nn({root:["root",n&&"formControl",!a&&"animated",o&&"shrink",r==="small"&&"sizeSmall",d],asterisk:[c&&"asterisk"]},LK,t);return ne({},t,_)},FK=gt(bK,{shouldForwardProp:e=>pa(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Um.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})(({theme:e,ownerState:t})=>ne({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&ne({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&ne({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&ne({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),BK=U.forwardRef(function(t,n){const r=tn({name:"MuiInputLabel",props:t}),{disableAnimation:o=!1,shrink:a,className:d}=r,c=Rt(r,$K),y=au();let _=a;typeof _>"u"&&y&&(_=y.filled||y.focused||y.adornedStart);const C=md({props:r,muiFormControl:y,states:["size","variant","required"]}),k=ne({},r,{disableAnimation:o,formControl:y,shrink:_,size:C.size,variant:C.variant,required:C.required}),P=NK(k);return F.jsx(FK,ne({"data-shrink":_,ownerState:k,ref:n,className:Dt(P.root,d)},c,{classes:P}))}),e_=BK;function jK(e){return Qt("MuiLink",e)}const UK=en("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),VK=UK,l$={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},WK=e=>l$[e]||e,qK=({theme:e,ownerState:t})=>{const n=WK(t.color),r=wf(e,`palette.${n}`,!1)||t.color,o=wf(e,`palette.${n}Channel`);return"vars"in e&&o?`rgba(${o} / 0.4)`:vr(r,.4)},GK=qK,HK=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],YK=e=>{const{classes:t,component:n,focusVisible:r,underline:o}=e,a={root:["root",`underline${mt(o)}`,n==="button"&&"button",r&&"focusVisible"]};return nn(a,jK,t)},ZK=gt(Yn,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${mt(n.underline)}`],n.component==="button"&&t.button]}})(({theme:e,ownerState:t})=>ne({},t.underline==="none"&&{textDecoration:"none"},t.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},t.underline==="always"&&ne({textDecoration:"underline"},t.color!=="inherit"&&{textDecorationColor:GK({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),t.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${VK.focusVisible}`]:{outline:"auto"}})),KK=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiLink"}),{className:o,color:a="primary",component:d="a",onBlur:c,onFocus:y,TypographyClasses:_,underline:C="always",variant:k="inherit",sx:P}=r,D=Rt(r,HK),{isFocusVisibleRef:N,onBlur:M,onFocus:$,ref:A}=ox(),[O,z]=U.useState(!1),q=Vr(n,A),Y=Pe=>{M(Pe),N.current===!1&&z(!1),c&&c(Pe)},J=Pe=>{$(Pe),N.current===!0&&z(!0),y&&y(Pe)},te=ne({},r,{color:a,component:d,focusVisible:O,underline:C,variant:k}),ge=YK(te);return F.jsx(ZK,ne({color:a,className:Dt(ge.root,o),classes:_,component:d,onBlur:Y,onFocus:J,ref:q,ownerState:te,variant:k,sx:[...Object.keys(l$).includes(a)?[]:[{color:a}],...Array.isArray(P)?P:[P]]},D))}),XK=KK,JK=U.createContext({}),cd=JK;function QK(e){return Qt("MuiList",e)}en("MuiList",["root","padding","dense","subheader"]);const eX=["children","className","component","dense","disablePadding","subheader"],tX=e=>{const{classes:t,disablePadding:n,dense:r,subheader:o}=e;return nn({root:["root",!n&&"padding",r&&"dense",o&&"subheader"]},QK,t)},nX=gt("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(({ownerState:e})=>ne({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),rX=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiList"}),{children:o,className:a,component:d="ul",dense:c=!1,disablePadding:y=!1,subheader:_}=r,C=Rt(r,eX),k=U.useMemo(()=>({dense:c}),[c]),P=ne({},r,{component:d,dense:c,disablePadding:y}),D=tX(P);return F.jsx(cd.Provider,{value:k,children:F.jsxs(nX,ne({as:d,className:Dt(D.root,a),ref:n,ownerState:P},C,{children:[_,o]}))})}),iX=rX;function oX(e){return Qt("MuiListItemButton",e)}const sX=en("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),om=sX,aX=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],lX=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]},cX=e=>{const{alignItems:t,classes:n,dense:r,disabled:o,disableGutters:a,divider:d,selected:c}=e,_=nn({root:["root",r&&"dense",!a&&"gutters",d&&"divider",o&&"disabled",t==="flex-start"&&"alignItemsFlexStart",c&&"selected"]},oX,n);return ne({},n,_)},uX=gt(Ug,{shouldForwardProp:e=>pa(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:lX})(({theme:e,ownerState:t})=>ne({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${om.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:vr(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${om.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:vr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${om.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:vr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:vr(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${om.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${om.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.alignItems==="flex-start"&&{alignItems:"flex-start"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.dense&&{paddingTop:4,paddingBottom:4})),dX=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiListItemButton"}),{alignItems:o="center",autoFocus:a=!1,component:d="div",children:c,dense:y=!1,disableGutters:_=!1,divider:C=!1,focusVisibleClassName:k,selected:P=!1,className:D}=r,N=Rt(r,aX),M=U.useContext(cd),$=U.useMemo(()=>({dense:y||M.dense||!1,alignItems:o,disableGutters:_}),[o,M.dense,y,_]),A=U.useRef(null);da(()=>{a&&A.current&&A.current.focus()},[a]);const O=ne({},r,{alignItems:o,dense:$.dense,disableGutters:_,divider:C,selected:P}),z=cX(O),q=Vr(A,n);return F.jsx(cd.Provider,{value:$,children:F.jsx(uX,ne({ref:q,href:N.href||N.to,component:(N.href||N.to)&&d==="div"?"button":d,focusVisibleClassName:Dt(z.focusVisible,k),ownerState:O,className:Dt(z.root,D)},N,{classes:z,children:c}))})}),hX=dX;function fX(e){return Qt("MuiListItemAvatar",e)}en("MuiListItemAvatar",["root","alignItemsFlexStart"]);const pX=["className"],mX=e=>{const{alignItems:t,classes:n}=e;return nn({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},fX,n)},gX=gt("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({ownerState:e})=>ne({minWidth:56,flexShrink:0},e.alignItems==="flex-start"&&{marginTop:8})),yX=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiListItemAvatar"}),{className:o}=r,a=Rt(r,pX),d=U.useContext(cd),c=ne({},r,{alignItems:d.alignItems}),y=mX(c);return F.jsx(gX,ne({className:Dt(y.root,o),ownerState:c,ref:n},a))}),vX=yX,_X=en("MuiListItemIcon",["root","alignItemsFlexStart"]),zR=_X;function xX(e){return Qt("MuiListItemText",e)}const bX=en("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),t_=bX,wX=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],SX=e=>{const{classes:t,inset:n,primary:r,secondary:o,dense:a}=e;return nn({root:["root",n&&"inset",a&&"dense",r&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},xX,t)},CX=gt("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${t_.primary}`]:t.primary},{[`& .${t_.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(({ownerState:e})=>ne({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),TX=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiListItemText"}),{children:o,className:a,disableTypography:d=!1,inset:c=!1,primary:y,primaryTypographyProps:_,secondary:C,secondaryTypographyProps:k}=r,P=Rt(r,wX),{dense:D}=U.useContext(cd);let N=y??o,M=C;const $=ne({},r,{disableTypography:d,inset:c,primary:!!N,secondary:!!M,dense:D}),A=SX($);return N!=null&&N.type!==Yn&&!d&&(N=F.jsx(Yn,ne({variant:D?"body2":"body1",className:A.primary,component:_!=null&&_.variant?void 0:"span",display:"block"},_,{children:N}))),M!=null&&M.type!==Yn&&!d&&(M=F.jsx(Yn,ne({variant:"body2",className:A.secondary,color:"text.secondary",display:"block"},k,{children:M}))),F.jsxs(CX,ne({className:Dt(A.root,a),ownerState:$,ref:n},P,{children:[N,M]}))}),kX=TX,EX=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function xw(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function LR(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function c$(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.indexOf(t.keys.join(""))===0}function sm(e,t,n,r,o,a){let d=!1,c=o(e,t,t?n:!1);for(;c;){if(c===e.firstChild){if(d)return!1;d=!0}const y=r?!1:c.disabled||c.getAttribute("aria-disabled")==="true";if(!c.hasAttribute("tabindex")||!c$(c,a)||y)c=o(e,c,n);else return c.focus(),!0}return!1}const PX=U.forwardRef(function(t,n){const{actions:r,autoFocus:o=!1,autoFocusItem:a=!1,children:d,className:c,disabledItemsFocusable:y=!1,disableListWrap:_=!1,onKeyDown:C,variant:k="selectedMenu"}=t,P=Rt(t,EX),D=U.useRef(null),N=U.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});da(()=>{o&&D.current.focus()},[o]),U.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(z,q)=>{const Y=!D.current.style.width;if(z.clientHeight<D.current.clientHeight&&Y){const J=`${rL(yi(z))}px`;D.current.style[q.direction==="rtl"?"paddingLeft":"paddingRight"]=J,D.current.style.width=`calc(100% + ${J})`}return D.current}}),[]);const M=z=>{const q=D.current,Y=z.key,J=yi(q).activeElement;if(Y==="ArrowDown")z.preventDefault(),sm(q,J,_,y,xw);else if(Y==="ArrowUp")z.preventDefault(),sm(q,J,_,y,LR);else if(Y==="Home")z.preventDefault(),sm(q,null,_,y,xw);else if(Y==="End")z.preventDefault(),sm(q,null,_,y,LR);else if(Y.length===1){const te=N.current,ge=Y.toLowerCase(),Pe=performance.now();te.keys.length>0&&(Pe-te.lastTime>500?(te.keys=[],te.repeating=!0,te.previousKeyMatched=!0):te.repeating&&ge!==te.keys[0]&&(te.repeating=!1)),te.lastTime=Pe,te.keys.push(ge);const ye=J&&!te.repeating&&c$(J,te);te.previousKeyMatched&&(ye||sm(q,J,!1,y,xw,te))?z.preventDefault():te.previousKeyMatched=!1}C&&C(z)},$=Vr(D,n);let A=-1;U.Children.forEach(d,(z,q)=>{if(!U.isValidElement(z)){A===q&&(A+=1,A>=d.length&&(A=-1));return}z.props.disabled||(k==="selectedMenu"&&z.props.selected||A===-1)&&(A=q),A===q&&(z.props.disabled||z.props.muiSkipListHighlight||z.type.muiSkipListHighlight)&&(A+=1,A>=d.length&&(A=-1))});const O=U.Children.map(d,(z,q)=>{if(q===A){const Y={};return a&&(Y.autoFocus=!0),z.props.tabIndex===void 0&&k==="selectedMenu"&&(Y.tabIndex=0),U.cloneElement(z,Y)}return z});return F.jsx(iX,ne({role:"menu",ref:$,className:c,onKeyDown:M,tabIndex:o?0:-1},P,{children:O}))}),IX=PX;function MX(e){return Qt("MuiPopover",e)}en("MuiPopover",["root","paper"]);const RX=["onEntering"],AX=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"],OX=["slotProps"];function $R(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function NR(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function FR(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function bw(e){return typeof e=="function"?e():e}const DX=e=>{const{classes:t}=e;return nn({root:["root"],paper:["paper"]},MX,t)},zX=gt(FZ,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),u$=gt(ou,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),LX=U.forwardRef(function(t,n){var r,o,a;const d=tn({props:t,name:"MuiPopover"}),{action:c,anchorEl:y,anchorOrigin:_={vertical:"top",horizontal:"left"},anchorPosition:C,anchorReference:k="anchorEl",children:P,className:D,container:N,elevation:M=8,marginThreshold:$=16,open:A,PaperProps:O={},slots:z,slotProps:q,transformOrigin:Y={vertical:"top",horizontal:"left"},TransitionComponent:J=Q0,transitionDuration:te="auto",TransitionProps:{onEntering:ge}={}}=d,Pe=Rt(d.TransitionProps,RX),ye=Rt(d,AX),Ne=(r=q==null?void 0:q.paper)!=null?r:O,Ve=U.useRef(),et=Vr(Ve,Ne.ref),Ze=ne({},d,{anchorOrigin:_,anchorReference:k,elevation:M,marginThreshold:$,externalPaperSlotProps:Ne,transformOrigin:Y,TransitionComponent:J,transitionDuration:te,TransitionProps:Pe}),Ke=DX(Ze),ke=U.useCallback(()=>{if(k==="anchorPosition")return C;const Mt=bw(y),rn=(Mt&&Mt.nodeType===1?Mt:yi(Ve.current).body).getBoundingClientRect();return{top:rn.top+$R(rn,_.vertical),left:rn.left+NR(rn,_.horizontal)}},[y,_.horizontal,_.vertical,C,k]),Me=U.useCallback(Mt=>({vertical:$R(Mt,Y.vertical),horizontal:NR(Mt,Y.horizontal)}),[Y.horizontal,Y.vertical]),Oe=U.useCallback(Mt=>{const Re={width:Mt.offsetWidth,height:Mt.offsetHeight},rn=Me(Re);if(k==="none")return{top:null,left:null,transformOrigin:FR(rn)};const Sn=ke();let Zt=Sn.top-rn.vertical,Yt=Sn.left-rn.horizontal;const Nn=Zt+Re.height,cr=Yt+Re.width,_n=Zc(bw(y)),Cn=_n.innerHeight-$,on=_n.innerWidth-$;if(Zt<$){const xn=Zt-$;Zt-=xn,rn.vertical+=xn}else if(Nn>Cn){const xn=Nn-Cn;Zt-=xn,rn.vertical+=xn}if(Yt<$){const xn=Yt-$;Yt-=xn,rn.horizontal+=xn}else if(cr>on){const xn=cr-on;Yt-=xn,rn.horizontal+=xn}return{top:`${Math.round(Zt)}px`,left:`${Math.round(Yt)}px`,transformOrigin:FR(rn)}},[y,k,ke,Me,$]),[Ee,ze]=U.useState(A),st=U.useCallback(()=>{const Mt=Ve.current;if(!Mt)return;const Re=Oe(Mt);Re.top!==null&&(Mt.style.top=Re.top),Re.left!==null&&(Mt.style.left=Re.left),Mt.style.transformOrigin=Re.transformOrigin,ze(!0)},[Oe]),be=(Mt,Re)=>{ge&&ge(Mt,Re),st()},Fe=()=>{ze(!1)};U.useEffect(()=>{A&&st()}),U.useImperativeHandle(c,()=>A?{updatePosition:()=>{st()}}:null,[A,st]),U.useEffect(()=>{if(!A)return;const Mt=cT(()=>{st()}),Re=Zc(y);return Re.addEventListener("resize",Mt),()=>{Mt.clear(),Re.removeEventListener("resize",Mt)}},[y,A,st]);let Ae=te;te==="auto"&&!J.muiSupportAuto&&(Ae=void 0);const qe=N||(y?yi(bw(y)).body:void 0),Le=(o=z==null?void 0:z.root)!=null?o:zX,ot=(a=z==null?void 0:z.paper)!=null?a:u$,xt=Wa({elementType:ot,externalSlotProps:ne({},Ne,{style:Ee?Ne.style:ne({},Ne.style,{opacity:0})}),additionalProps:{elevation:M,ref:et},ownerState:Ze,className:Dt(Ke.paper,Ne==null?void 0:Ne.className)}),St=Wa({elementType:Le,externalSlotProps:(q==null?void 0:q.root)||{},externalForwardedProps:ye,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:qe,open:A},ownerState:Ze,className:Dt(Ke.root,D)}),{slotProps:It}=St,jt=Rt(St,OX);return F.jsx(Le,ne({},jt,!xg(Le)&&{slotProps:It},{children:F.jsx(J,ne({appear:!0,in:A,onEntering:be,onExited:Fe,timeout:Ae},Pe,{children:F.jsx(ot,ne({},xt,{children:P}))}))}))}),$X=LX;function NX(e){return Qt("MuiMenu",e)}en("MuiMenu",["root","paper","list"]);const FX=["onEntering"],BX=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],jX={vertical:"top",horizontal:"right"},UX={vertical:"top",horizontal:"left"},VX=e=>{const{classes:t}=e;return nn({root:["root"],paper:["paper"],list:["list"]},NX,t)},WX=gt($X,{shouldForwardProp:e=>pa(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),qX=gt(u$,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),GX=gt(IX,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),HX=U.forwardRef(function(t,n){var r,o;const a=tn({props:t,name:"MuiMenu"}),{autoFocus:d=!0,children:c,className:y,disableAutoFocusItem:_=!1,MenuListProps:C={},onClose:k,open:P,PaperProps:D={},PopoverClasses:N,transitionDuration:M="auto",TransitionProps:{onEntering:$}={},variant:A="selectedMenu",slots:O={},slotProps:z={}}=a,q=Rt(a.TransitionProps,FX),Y=Rt(a,BX),J=iu(),te=J.direction==="rtl",ge=ne({},a,{autoFocus:d,disableAutoFocusItem:_,MenuListProps:C,onEntering:$,PaperProps:D,transitionDuration:M,TransitionProps:q,variant:A}),Pe=VX(ge),ye=d&&!_&&P,Ne=U.useRef(null),Ve=(Ee,ze)=>{Ne.current&&Ne.current.adjustStyleForScrollbar(Ee,J),$&&$(Ee,ze)},et=Ee=>{Ee.key==="Tab"&&(Ee.preventDefault(),k&&k(Ee,"tabKeyDown"))};let Ze=-1;U.Children.map(c,(Ee,ze)=>{U.isValidElement(Ee)&&(Ee.props.disabled||(A==="selectedMenu"&&Ee.props.selected||Ze===-1)&&(Ze=ze))});const Ke=(r=O.paper)!=null?r:qX,ke=(o=z.paper)!=null?o:D,Me=Wa({elementType:O.root,externalSlotProps:z.root,ownerState:ge,className:[Pe.root,y]}),Oe=Wa({elementType:Ke,externalSlotProps:ke,ownerState:ge,className:Pe.paper});return F.jsx(WX,ne({onClose:k,anchorOrigin:{vertical:"bottom",horizontal:te?"right":"left"},transformOrigin:te?jX:UX,slots:{paper:Ke,root:O.root},slotProps:{root:Me,paper:Oe},open:P,ref:n,transitionDuration:M,TransitionProps:ne({onEntering:Ve},q),ownerState:ge},Y,{classes:N,children:F.jsx(GX,ne({onKeyDown:et,actions:Ne,autoFocus:d&&(Ze===-1||_),autoFocusItem:ye,variant:A},C,{className:Dt(Pe.list,C.className),children:c}))}))}),d$=HX;function YX(e){return Qt("MuiMenuItem",e)}const ZX=en("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),am=ZX,KX=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],XX=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},JX=e=>{const{disabled:t,dense:n,divider:r,disableGutters:o,selected:a,classes:d}=e,y=nn({root:["root",n&&"dense",t&&"disabled",!o&&"gutters",r&&"divider",a&&"selected"]},YX,d);return ne({},d,y)},QX=gt(Ug,{shouldForwardProp:e=>pa(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:XX})(({theme:e,ownerState:t})=>ne({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${am.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:vr(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${am.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:vr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${am.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:vr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:vr(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${am.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${am.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${IR.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${IR.inset}`]:{marginLeft:52},[`& .${t_.root}`]:{marginTop:0,marginBottom:0},[`& .${t_.inset}`]:{paddingLeft:36},[`& .${zR.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&ne({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${zR.root} svg`]:{fontSize:"1.25rem"}}))),eJ=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiMenuItem"}),{autoFocus:o=!1,component:a="li",dense:d=!1,divider:c=!1,disableGutters:y=!1,focusVisibleClassName:_,role:C="menuitem",tabIndex:k,className:P}=r,D=Rt(r,KX),N=U.useContext(cd),M=U.useMemo(()=>({dense:d||N.dense||!1,disableGutters:y}),[N.dense,d,y]),$=U.useRef(null);da(()=>{o&&$.current&&$.current.focus()},[o]);const A=ne({},r,{dense:M.dense,divider:c,disableGutters:y}),O=JX(r),z=Vr($,n);let q;return r.disabled||(q=k!==void 0?k:-1),F.jsx(cd.Provider,{value:M,children:F.jsx(QX,ne({ref:z,role:C,tabIndex:q,component:a,focusVisibleClassName:Dt(O.focusVisible,_),className:Dt(O.root,P)},D,{ownerState:A,classes:O}))})}),Ss=eJ;function tJ(e){return Qt("MuiNativeSelect",e)}const nJ=en("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),VT=nJ,rJ=["className","disabled","error","IconComponent","inputRef","variant"],iJ=e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:a,error:d}=e,c={select:["select",n,r&&"disabled",o&&"multiple",d&&"error"],icon:["icon",`icon${mt(n)}`,a&&"iconOpen",r&&"disabled"]};return nn(c,tJ,t)},h$=({ownerState:e,theme:t})=>ne({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":ne({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${VT.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),oJ=gt("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:pa,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${VT.multiple}`]:t.multiple}]}})(h$),f$=({ownerState:e,theme:t})=>ne({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${VT.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),sJ=gt("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${mt(n.variant)}`],n.open&&t.iconOpen]}})(f$),aJ=U.forwardRef(function(t,n){const{className:r,disabled:o,error:a,IconComponent:d,inputRef:c,variant:y="standard"}=t,_=Rt(t,rJ),C=ne({},t,{disabled:o,variant:y,error:a}),k=iJ(C);return F.jsxs(U.Fragment,{children:[F.jsx(oJ,ne({ownerState:C,className:Dt(k.select,r),disabled:o,ref:c||n},_)),t.multiple?null:F.jsx(sJ,{as:d,ownerState:C,className:k.icon})]})}),lJ=aJ;var BR;const cJ=["children","classes","className","label","notched"],uJ=gt("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),dJ=gt("legend")(({ownerState:e,theme:t})=>ne({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&ne({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function hJ(e){const{className:t,label:n,notched:r}=e,o=Rt(e,cJ),a=n!=null&&n!=="",d=ne({},e,{notched:r,withLabel:a});return F.jsx(uJ,ne({"aria-hidden":!0,className:t,ownerState:d},o,{children:F.jsx(dJ,{ownerState:d,children:a?F.jsx("span",{children:n}):BR||(BR=F.jsx("span",{className:"notranslate",children:""}))})}))}const fJ=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],pJ=e=>{const{classes:t}=e,r=nn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},aY,t);return ne({},t,r)},mJ=gt(Lx,{shouldForwardProp:e=>pa(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Dx})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return ne({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${hc.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${hc.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${hc.focused} .${hc.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${hc.error} .${hc.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${hc.disabled} .${hc.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&ne({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),gJ=gt(hJ,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),yJ=gt($x,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:zx})(({theme:e,ownerState:t})=>ne({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),p$=U.forwardRef(function(t,n){var r,o,a,d,c;const y=tn({props:t,name:"MuiOutlinedInput"}),{components:_={},fullWidth:C=!1,inputComponent:k="input",label:P,multiline:D=!1,notched:N,slots:M={},type:$="text"}=y,A=Rt(y,fJ),O=pJ(y),z=au(),q=md({props:y,muiFormControl:z,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),Y=ne({},y,{color:q.color||"primary",disabled:q.disabled,error:q.error,focused:q.focused,formControl:z,fullWidth:C,hiddenLabel:q.hiddenLabel,multiline:D,size:q.size,type:$}),J=(r=(o=M.root)!=null?o:_.Root)!=null?r:mJ,te=(a=(d=M.input)!=null?d:_.Input)!=null?a:yJ;return F.jsx(UT,ne({slots:{root:J,input:te},renderSuffix:ge=>F.jsx(gJ,{ownerState:Y,className:O.notchedOutline,label:P!=null&&P!==""&&q.required?c||(c=F.jsxs(U.Fragment,{children:[P,"","*"]})):P,notched:typeof N<"u"?N:!!(ge.startAdornment||ge.filled||ge.focused)}),fullWidth:C,inputComponent:k,multiline:D,ref:n,type:$},A,{classes:ne({},O,{notchedOutline:null})}))});p$.muiName="Input";const WT=p$;function vJ(e){return Qt("MuiSelect",e)}const _J=en("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),lm=_J;var jR;const xJ=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],bJ=gt("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${lm.select}`]:t.select},{[`&.${lm.select}`]:t[n.variant]},{[`&.${lm.error}`]:t.error},{[`&.${lm.multiple}`]:t.multiple}]}})(h$,{[`&.${lm.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),wJ=gt("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${mt(n.variant)}`],n.open&&t.iconOpen]}})(f$),SJ=gt("input",{shouldForwardProp:e=>x7(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function UR(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function CJ(e){return e==null||typeof e=="string"&&!e.trim()}const TJ=e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:a,error:d}=e,c={select:["select",n,r&&"disabled",o&&"multiple",d&&"error"],icon:["icon",`icon${mt(n)}`,a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return nn(c,vJ,t)},kJ=U.forwardRef(function(t,n){const{"aria-describedby":r,"aria-label":o,autoFocus:a,autoWidth:d,children:c,className:y,defaultOpen:_,defaultValue:C,disabled:k,displayEmpty:P,error:D=!1,IconComponent:N,inputRef:M,labelId:$,MenuProps:A={},multiple:O,name:z,onBlur:q,onChange:Y,onClose:J,onFocus:te,onOpen:ge,open:Pe,readOnly:ye,renderValue:Ne,SelectDisplayProps:Ve={},tabIndex:et,value:Ze,variant:Ke="standard"}=t,ke=Rt(t,xJ),[Me,Oe]=mg({controlled:Ze,default:C,name:"Select"}),[Ee,ze]=mg({controlled:Pe,default:_,name:"Select"}),st=U.useRef(null),be=U.useRef(null),[Fe,Ae]=U.useState(null),{current:qe}=U.useRef(Pe!=null),[Le,ot]=U.useState(),xt=Vr(n,M),St=U.useCallback(je=>{be.current=je,je&&Ae(je)},[]),It=Fe==null?void 0:Fe.parentNode;U.useImperativeHandle(xt,()=>({focus:()=>{be.current.focus()},node:st.current,value:Me}),[Me]),U.useEffect(()=>{_&&Ee&&Fe&&!qe&&(ot(d?null:It.clientWidth),be.current.focus())},[Fe,d]),U.useEffect(()=>{a&&be.current.focus()},[a]),U.useEffect(()=>{if(!$)return;const je=yi(be.current).getElementById($);if(je){const wt=()=>{getSelection().isCollapsed&&be.current.focus()};return je.addEventListener("click",wt),()=>{je.removeEventListener("click",wt)}}},[$]);const jt=(je,wt)=>{je?ge&&ge(wt):J&&J(wt),qe||(ot(d?null:It.clientWidth),ze(je))},Mt=je=>{je.button===0&&(je.preventDefault(),be.current.focus(),jt(!0,je))},Re=je=>{jt(!1,je)},rn=U.Children.toArray(c),Sn=je=>{const wt=rn.find(Tt=>Tt.props.value===je.target.value);wt!==void 0&&(Oe(wt.props.value),Y&&Y(je,wt))},Zt=je=>wt=>{let Tt;if(wt.currentTarget.hasAttribute("tabindex")){if(O){Tt=Array.isArray(Me)?Me.slice():[];const Bn=Me.indexOf(je.props.value);Bn===-1?Tt.push(je.props.value):Tt.splice(Bn,1)}else Tt=je.props.value;if(je.props.onClick&&je.props.onClick(wt),Me!==Tt&&(Oe(Tt),Y)){const Bn=wt.nativeEvent||wt,Pi=new Bn.constructor(Bn.type,Bn);Object.defineProperty(Pi,"target",{writable:!0,value:{value:Tt,name:z}}),Y(Pi,je)}O||jt(!1,wt)}},Yt=je=>{ye||[" ","ArrowUp","ArrowDown","Enter"].indexOf(je.key)!==-1&&(je.preventDefault(),jt(!0,je))},Nn=Fe!==null&&Ee,cr=je=>{!Nn&&q&&(Object.defineProperty(je,"target",{writable:!0,value:{value:Me,name:z}}),q(je))};delete ke["aria-invalid"];let _n,Cn;const on=[];let xn=!1;(X0({value:Me})||P)&&(Ne?_n=Ne(Me):xn=!0);const sr=rn.map(je=>{if(!U.isValidElement(je))return null;let wt;if(O){if(!Array.isArray(Me))throw new Error(Yc(2));wt=Me.some(Tt=>UR(Tt,je.props.value)),wt&&xn&&on.push(je.props.children)}else wt=UR(Me,je.props.value),wt&&xn&&(Cn=je.props.children);return U.cloneElement(je,{"aria-selected":wt?"true":"false",onClick:Zt(je),onKeyUp:Tt=>{Tt.key===" "&&Tt.preventDefault(),je.props.onKeyUp&&je.props.onKeyUp(Tt)},role:"option",selected:wt,value:void 0,"data-value":je.props.value})});xn&&(O?on.length===0?_n=null:_n=on.reduce((je,wt,Tt)=>(je.push(wt),Tt<on.length-1&&je.push(", "),je),[]):_n=Cn);let nt=Le;!d&&qe&&Fe&&(nt=It.clientWidth);let bn;typeof et<"u"?bn=et:bn=k?null:0;const Fn=Ve.id||(z?`mui-component-select-${z}`:void 0),an=ne({},t,{variant:Ke,value:Me,open:Nn,error:D}),Wt=TJ(an);return F.jsxs(U.Fragment,{children:[F.jsx(bJ,ne({ref:St,tabIndex:bn,role:"button","aria-disabled":k?"true":void 0,"aria-expanded":Nn?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[$,Fn].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:Yt,onMouseDown:k||ye?null:Mt,onBlur:cr,onFocus:te},Ve,{ownerState:an,className:Dt(Ve.className,Wt.select,y),id:Fn,children:CJ(_n)?jR||(jR=F.jsx("span",{className:"notranslate",children:""})):_n})),F.jsx(SJ,ne({"aria-invalid":D,value:Array.isArray(Me)?Me.join(","):Me,name:z,ref:st,"aria-hidden":!0,onChange:Sn,tabIndex:-1,disabled:k,className:Wt.nativeInput,autoFocus:a,ownerState:an},ke)),F.jsx(wJ,{as:N,className:Wt.icon,ownerState:an}),F.jsx(d$,ne({id:`menu-${z||""}`,anchorEl:It,open:Nn,onClose:Re,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},A,{MenuListProps:ne({"aria-labelledby":$,role:"listbox",disableListWrap:!0},A.MenuListProps),PaperProps:ne({},A.PaperProps,{style:ne({minWidth:nt},A.PaperProps!=null?A.PaperProps.style:null)}),children:sr}))]})}),EJ=kJ,PJ=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],IJ=e=>{const{classes:t}=e;return t},qT={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>pa(e)&&e!=="variant",slot:"Root"},MJ=gt(a$,qT)(""),RJ=gt(WT,qT)(""),AJ=gt(i$,qT)(""),m$=U.forwardRef(function(t,n){const r=tn({name:"MuiSelect",props:t}),{autoWidth:o=!1,children:a,classes:d={},className:c,defaultOpen:y=!1,displayEmpty:_=!1,IconComponent:C=dY,id:k,input:P,inputProps:D,label:N,labelId:M,MenuProps:$,multiple:A=!1,native:O=!1,onClose:z,onOpen:q,open:Y,renderValue:J,SelectDisplayProps:te,variant:ge="outlined"}=r,Pe=Rt(r,PJ),ye=O?lJ:EJ,Ne=au(),Ve=md({props:r,muiFormControl:Ne,states:["variant","error"]}),et=Ve.variant||ge,Ze=ne({},r,{variant:et,classes:d}),Ke=IJ(Ze),ke=P||{standard:F.jsx(MJ,{ownerState:Ze}),outlined:F.jsx(RJ,{label:N,ownerState:Ze}),filled:F.jsx(AJ,{ownerState:Ze})}[et],Me=Vr(n,ke.ref);return F.jsx(U.Fragment,{children:U.cloneElement(ke,ne({inputComponent:ye,inputProps:ne({children:a,error:Ve.error,IconComponent:C,variant:et,type:void 0,multiple:A},O?{id:k}:{autoWidth:o,defaultOpen:y,displayEmpty:_,labelId:M,MenuProps:$,onClose:z,onOpen:q,open:Y,renderValue:J,SelectDisplayProps:ne({id:k},te)},D,{classes:D?No(Ke,D.classes):Ke},P?P.props.inputProps:{})},A&&O&&et==="outlined"?{notched:!0}:{},{ref:Me,className:Dt(ke.props.className,c)},!P&&{variant:et},Pe))})});m$.muiName="Select";const n_=m$;function OJ(e){return Qt("MuiSnackbarContent",e)}en("MuiSnackbarContent",["root","message","action"]);const DJ=["action","className","message","role"],zJ=e=>{const{classes:t}=e;return nn({root:["root"],action:["action"],message:["message"]},OJ,t)},LJ=gt(ou,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,n=$9(e.palette.background.default,t);return ne({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(n),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),$J=gt("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),NJ=gt("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),FJ=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiSnackbarContent"}),{action:o,className:a,message:d,role:c="alert"}=r,y=Rt(r,DJ),_=r,C=zJ(_);return F.jsxs(LJ,ne({role:c,square:!0,elevation:6,className:Dt(C.root,a),ownerState:_,ref:n},y,{children:[F.jsx($J,{className:C.message,ownerState:_,children:d}),o?F.jsx(NJ,{className:C.action,ownerState:_,children:o}):null]}))}),BJ=FJ;function jJ(e){return Qt("MuiSnackbar",e)}en("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const UJ=["onEnter","onExited"],VJ=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],WJ=e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${mt(n.vertical)}${mt(n.horizontal)}`]};return nn(r,jJ,t)},VR=gt("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${mt(n.anchorOrigin.vertical)}${mt(n.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return ne({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:ne({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&n,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),qJ=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiSnackbar"}),o=iu(),a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{action:d,anchorOrigin:{vertical:c,horizontal:y}={vertical:"bottom",horizontal:"left"},autoHideDuration:_=null,children:C,className:k,ClickAwayListenerProps:P,ContentProps:D,disableWindowBlurListener:N=!1,message:M,open:$,TransitionComponent:A=Q0,transitionDuration:O=a,TransitionProps:{onEnter:z,onExited:q}={}}=r,Y=Rt(r.TransitionProps,UJ),J=Rt(r,VJ),te=ne({},r,{anchorOrigin:{vertical:c,horizontal:y},autoHideDuration:_,disableWindowBlurListener:N,TransitionComponent:A,transitionDuration:O}),ge=WJ(te),{getRootProps:Pe,onClickAway:ye}=WH(ne({},te)),[Ne,Ve]=U.useState(!0),et=Wa({elementType:VR,getSlotProps:Pe,externalForwardedProps:J,ownerState:te,additionalProps:{ref:n},className:[ge.root,k]}),Ze=ke=>{Ve(!0),q&&q(ke)},Ke=(ke,Me)=>{Ve(!1),z&&z(ke,Me)};return!$&&Ne?null:F.jsx(aG,ne({onClickAway:ye},P,{children:F.jsx(VR,ne({},et,{children:F.jsx(A,ne({appear:!0,in:$,timeout:O,direction:c==="top"?"down":"up",onEnter:Ke,onExited:Ze},Y,{children:C||F.jsx(BJ,ne({message:M,action:d},D))}))}))}))}),GJ=qJ;function HJ(e){return Qt("MuiTooltip",e)}const YJ=en("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),kc=YJ,ZJ=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function KJ(e){return Math.round(e*1e5)/1e5}const XJ=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:o,placement:a}=e,d={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",o&&"touch",`tooltipPlacement${mt(a.split("-")[0])}`],arrow:["arrow"]};return nn(d,HJ,t)},JJ=gt(XL,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(({theme:e,ownerState:t,open:n})=>ne({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${kc.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${kc.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${kc.arrow}`]:ne({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${kc.arrow}`]:ne({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),QJ=gt("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${mt(n.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>ne({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:vr(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${KJ(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${kc.popper}[data-popper-placement*="left"] &`]:ne({transformOrigin:"right center"},t.isRtl?ne({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):ne({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${kc.popper}[data-popper-placement*="right"] &`]:ne({transformOrigin:"left center"},t.isRtl?ne({marginRight:"14px"},t.touch&&{marginRight:"24px"}):ne({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${kc.popper}[data-popper-placement*="top"] &`]:ne({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${kc.popper}[data-popper-placement*="bottom"] &`]:ne({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),eQ=gt("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:vr(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Pv=!1,ww=null,cm={x:0,y:0};function Iv(e,t){return n=>{t&&t(n),e(n)}}const tQ=U.forwardRef(function(t,n){var r,o,a,d,c,y,_,C,k,P,D,N,M,$,A,O,z,q,Y;const J=tn({props:t,name:"MuiTooltip"}),{arrow:te=!1,children:ge,components:Pe={},componentsProps:ye={},describeChild:Ne=!1,disableFocusListener:Ve=!1,disableHoverListener:et=!1,disableInteractive:Ze=!1,disableTouchListener:Ke=!1,enterDelay:ke=100,enterNextDelay:Me=0,enterTouchDelay:Oe=700,followCursor:Ee=!1,id:ze,leaveDelay:st=0,leaveTouchDelay:be=1500,onClose:Fe,onOpen:Ae,open:qe,placement:Le="bottom",PopperComponent:ot,PopperProps:xt={},slotProps:St={},slots:It={},title:jt,TransitionComponent:Mt=Q0,TransitionProps:Re}=J,rn=Rt(J,ZJ),Sn=U.isValidElement(ge)?ge:F.jsx("span",{children:ge}),Zt=iu(),Yt=Zt.direction==="rtl",[Nn,cr]=U.useState(),[_n,Cn]=U.useState(null),on=U.useRef(!1),xn=Ze||Ee,sr=U.useRef(),nt=U.useRef(),bn=U.useRef(),Fn=U.useRef(),[an,Wt]=mg({controlled:qe,default:!1,name:"Tooltip",state:"open"});let je=an;const wt=uT(ze),Tt=U.useRef(),Bn=U.useCallback(()=>{Tt.current!==void 0&&(document.body.style.WebkitUserSelect=Tt.current,Tt.current=void 0),clearTimeout(Fn.current)},[]);U.useEffect(()=>()=>{clearTimeout(sr.current),clearTimeout(nt.current),clearTimeout(bn.current),Bn()},[Bn]);const Pi=lt=>{clearTimeout(ww),Pv=!0,Wt(!0),Ae&&!je&&Ae(lt)},Vt=sa(lt=>{clearTimeout(ww),ww=setTimeout(()=>{Pv=!1},800+st),Wt(!1),Fe&&je&&Fe(lt),clearTimeout(sr.current),sr.current=setTimeout(()=>{on.current=!1},Zt.transitions.duration.shortest)}),Li=lt=>{on.current&&lt.type!=="touchstart"||(Nn&&Nn.removeAttribute("title"),clearTimeout(nt.current),clearTimeout(bn.current),ke||Pv&&Me?nt.current=setTimeout(()=>{Pi(lt)},Pv?Me:ke):Pi(lt))},io=lt=>{clearTimeout(nt.current),clearTimeout(bn.current),bn.current=setTimeout(()=>{Vt(lt)},st)},{isFocusVisibleRef:Uo,onBlur:$i,onFocus:fs,ref:Xr}=ox(),[,On]=U.useState(!1),ya=lt=>{$i(lt),Uo.current===!1&&(On(!1),io(lt))},oo=lt=>{Nn||cr(lt.currentTarget),fs(lt),Uo.current===!0&&(On(!0),Li(lt))},le=lt=>{on.current=!0;const Tn=Sn.props;Tn.onTouchStart&&Tn.onTouchStart(lt)},H=Li,K=io,re=lt=>{le(lt),clearTimeout(bn.current),clearTimeout(sr.current),Bn(),Tt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Fn.current=setTimeout(()=>{document.body.style.WebkitUserSelect=Tt.current,Li(lt)},Oe)},ue=lt=>{Sn.props.onTouchEnd&&Sn.props.onTouchEnd(lt),Bn(),clearTimeout(bn.current),bn.current=setTimeout(()=>{Vt(lt)},be)};U.useEffect(()=>{if(!je)return;function lt(Tn){(Tn.key==="Escape"||Tn.key==="Esc")&&Vt(Tn)}return document.addEventListener("keydown",lt),()=>{document.removeEventListener("keydown",lt)}},[Vt,je]);const pe=Vr(Sn.ref,Xr,cr,n);!jt&&jt!==0&&(je=!1);const we=U.useRef(),ve=lt=>{const Tn=Sn.props;Tn.onMouseMove&&Tn.onMouseMove(lt),cm={x:lt.clientX,y:lt.clientY},we.current&&we.current.update()},me={},Te=typeof jt=="string";Ne?(me.title=!je&&Te&&!et?jt:null,me["aria-describedby"]=je?wt:null):(me["aria-label"]=Te?jt:null,me["aria-labelledby"]=je&&!Te?wt:null);const We=ne({},me,rn,Sn.props,{className:Dt(rn.className,Sn.props.className),onTouchStart:le,ref:pe},Ee?{onMouseMove:ve}:{}),Ge={};Ke||(We.onTouchStart=re,We.onTouchEnd=ue),et||(We.onMouseOver=Iv(H,We.onMouseOver),We.onMouseLeave=Iv(K,We.onMouseLeave),xn||(Ge.onMouseOver=H,Ge.onMouseLeave=K)),Ve||(We.onFocus=Iv(oo,We.onFocus),We.onBlur=Iv(ya,We.onBlur),xn||(Ge.onFocus=oo,Ge.onBlur=ya));const Xe=U.useMemo(()=>{var lt;let Tn=[{name:"arrow",enabled:!!_n,options:{element:_n,padding:4}}];return(lt=xt.popperOptions)!=null&&lt.modifiers&&(Tn=Tn.concat(xt.popperOptions.modifiers)),ne({},xt.popperOptions,{modifiers:Tn})},[_n,xt]),Lt=ne({},J,{isRtl:Yt,arrow:te,disableInteractive:xn,placement:Le,PopperComponentProp:ot,touch:on.current}),Xt=XJ(Lt),Et=(r=(o=It.popper)!=null?o:Pe.Popper)!=null?r:JJ,$t=(a=(d=(c=It.transition)!=null?c:Pe.Transition)!=null?d:Mt)!=null?a:Q0,Kt=(y=(_=It.tooltip)!=null?_:Pe.Tooltip)!=null?y:QJ,yn=(C=(k=It.arrow)!=null?k:Pe.Arrow)!=null?C:eQ,Rn=Cm(Et,ne({},xt,(P=St.popper)!=null?P:ye.popper,{className:Dt(Xt.popper,xt==null?void 0:xt.className,(D=(N=St.popper)!=null?N:ye.popper)==null?void 0:D.className)}),Lt),ln=Cm($t,ne({},Re,(M=St.transition)!=null?M:ye.transition),Lt),vn=Cm(Kt,ne({},($=St.tooltip)!=null?$:ye.tooltip,{className:Dt(Xt.tooltip,(A=(O=St.tooltip)!=null?O:ye.tooltip)==null?void 0:A.className)}),Lt),vi=Cm(yn,ne({},(z=St.arrow)!=null?z:ye.arrow,{className:Dt(Xt.arrow,(q=(Y=St.arrow)!=null?Y:ye.arrow)==null?void 0:q.className)}),Lt);return F.jsxs(U.Fragment,{children:[U.cloneElement(Sn,We),F.jsx(Et,ne({as:ot??XL,placement:Le,anchorEl:Ee?{getBoundingClientRect:()=>({top:cm.y,left:cm.x,right:cm.x,bottom:cm.y,width:0,height:0})}:Nn,popperRef:we,open:Nn?je:!1,id:wt,transition:!0},Ge,Rn,{popperOptions:Xe,children:({TransitionProps:lt})=>F.jsx($t,ne({timeout:Zt.transitions.duration.shorter},lt,ln,{children:F.jsxs(Kt,ne({},vn,{children:[jt,te?F.jsx(yn,ne({},vi,{ref:Cn})):null]}))}))}))]})}),Th=tQ,nQ=U.createContext(),g$=nQ;function rQ(e){return Qt("MuiTable",e)}en("MuiTable",["root","stickyHeader"]);const iQ=["className","component","padding","size","stickyHeader"],oQ=e=>{const{classes:t,stickyHeader:n}=e;return nn({root:["root",n&&"stickyHeader"]},rQ,t)},sQ=gt("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>ne({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":ne({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),WR="table",aQ=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiTable"}),{className:o,component:a=WR,padding:d="normal",size:c="medium",stickyHeader:y=!1}=r,_=Rt(r,iQ),C=ne({},r,{component:a,padding:d,size:c,stickyHeader:y}),k=oQ(C),P=U.useMemo(()=>({padding:d,size:c,stickyHeader:y}),[d,c,y]);return F.jsx(g$.Provider,{value:P,children:F.jsx(sQ,ne({as:a,role:a===WR?null:"table",ref:n,className:Dt(k.root,o),ownerState:C},_))})}),y$=aQ,lQ=U.createContext(),Nx=lQ;function cQ(e){return Qt("MuiTableBody",e)}en("MuiTableBody",["root"]);const uQ=["className","component"],dQ=e=>{const{classes:t}=e;return nn({root:["root"]},cQ,t)},hQ=gt("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),fQ={variant:"body"},qR="tbody",pQ=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiTableBody"}),{className:o,component:a=qR}=r,d=Rt(r,uQ),c=ne({},r,{component:a}),y=dQ(c);return F.jsx(Nx.Provider,{value:fQ,children:F.jsx(hQ,ne({className:Dt(y.root,o),as:a,ref:n,role:a===qR?null:"rowgroup",ownerState:c},d))})}),v$=pQ;function mQ(e){return Qt("MuiTableCell",e)}const gQ=en("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),yQ=gQ,vQ=["align","className","component","padding","scope","size","sortDirection","variant"],_Q=e=>{const{classes:t,variant:n,align:r,padding:o,size:a,stickyHeader:d}=e,c={root:["root",n,d&&"stickyHeader",r!=="inherit"&&`align${mt(r)}`,o!=="normal"&&`padding${mt(o)}`,`size${mt(a)}`]};return nn(c,mQ,t)},xQ=gt("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${mt(n.size)}`],n.padding!=="normal"&&t[`padding${mt(n.padding)}`],n.align!=="inherit"&&t[`align${mt(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>ne({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?TT(vr(e.palette.divider,1),.88):CT(vr(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${yQ.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),bQ=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiTableCell"}),{align:o="inherit",className:a,component:d,padding:c,scope:y,size:_,sortDirection:C,variant:k}=r,P=Rt(r,vQ),D=U.useContext(g$),N=U.useContext(Nx),M=N&&N.variant==="head";let $;d?$=d:$=M?"th":"td";let A=y;$==="td"?A=void 0:!A&&M&&(A="col");const O=k||N&&N.variant,z=ne({},r,{align:o,component:$,padding:c||(D&&D.padding?D.padding:"normal"),size:_||(D&&D.size?D.size:"medium"),sortDirection:C,stickyHeader:O==="head"&&D&&D.stickyHeader,variant:O}),q=_Q(z);let Y=null;return C&&(Y=C==="asc"?"ascending":"descending"),F.jsx(xQ,ne({as:$,ref:n,className:Dt(q.root,a),"aria-sort":Y,scope:A,ownerState:z},P))}),Qs=bQ;function wQ(e){return Qt("MuiTableHead",e)}en("MuiTableHead",["root"]);const SQ=["className","component"],CQ=e=>{const{classes:t}=e;return nn({root:["root"]},wQ,t)},TQ=gt("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),kQ={variant:"head"},GR="thead",EQ=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiTableHead"}),{className:o,component:a=GR}=r,d=Rt(r,SQ),c=ne({},r,{component:a}),y=CQ(c);return F.jsx(Nx.Provider,{value:kQ,children:F.jsx(TQ,ne({as:a,className:Dt(y.root,o),ref:n,role:a===GR?null:"rowgroup",ownerState:c},d))})}),PQ=EQ;function IQ(e){return Qt("MuiToolbar",e)}en("MuiToolbar",["root","gutters","regular","dense"]);const MQ=["className","component","disableGutters","variant"],RQ=e=>{const{classes:t,disableGutters:n,variant:r}=e;return nn({root:["root",!n&&"gutters",r]},IQ,t)},AQ=gt("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(({theme:e,ownerState:t})=>ne({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},t.variant==="dense"&&{minHeight:48}),({theme:e,ownerState:t})=>t.variant==="regular"&&e.mixins.toolbar),OQ=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiToolbar"}),{className:o,component:a="div",disableGutters:d=!1,variant:c="regular"}=r,y=Rt(r,MQ),_=ne({},r,{component:a,disableGutters:d,variant:c}),C=RQ(_);return F.jsx(AQ,ne({as:a,className:Dt(C.root,o),ref:n,ownerState:_},y))}),Fx=OQ;function DQ(e){return Qt("MuiTableRow",e)}const zQ=en("MuiTableRow",["root","selected","hover","head","footer"]),HR=zQ,LQ=["className","component","hover","selected"],$Q=e=>{const{classes:t,selected:n,hover:r,head:o,footer:a}=e;return nn({root:["root",n&&"selected",r&&"hover",o&&"head",a&&"footer"]},DQ,t)},NQ=gt("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${HR.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${HR.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:vr(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:vr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),YR="tr",FQ=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiTableRow"}),{className:o,component:a=YR,hover:d=!1,selected:c=!1}=r,y=Rt(r,LQ),_=U.useContext(Nx),C=ne({},r,{component:a,hover:d,selected:c,head:_&&_.variant==="head",footer:_&&_.variant==="footer"}),k=$Q(C);return F.jsx(NQ,ne({as:a,ref:n,className:Dt(k.root,o),role:a===YR?null:"row",ownerState:C},y))}),t0=FQ;function BQ(e){return Qt("MuiTextField",e)}en("MuiTextField",["root"]);const jQ=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],UQ={standard:a$,filled:i$,outlined:WT},VQ=e=>{const{classes:t}=e;return nn({root:["root"]},BQ,t)},WQ=gt(J0,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),qQ=U.forwardRef(function(t,n){const r=tn({props:t,name:"MuiTextField"}),{autoComplete:o,autoFocus:a=!1,children:d,className:c,color:y="primary",defaultValue:_,disabled:C=!1,error:k=!1,FormHelperTextProps:P,fullWidth:D=!1,helperText:N,id:M,InputLabelProps:$,inputProps:A,InputProps:O,inputRef:z,label:q,maxRows:Y,minRows:J,multiline:te=!1,name:ge,onBlur:Pe,onChange:ye,onClick:Ne,onFocus:Ve,placeholder:et,required:Ze=!1,rows:Ke,select:ke=!1,SelectProps:Me,type:Oe,value:Ee,variant:ze="outlined"}=r,st=Rt(r,jQ),be=ne({},r,{autoFocus:a,color:y,disabled:C,error:k,fullWidth:D,multiline:te,required:Ze,select:ke,variant:ze}),Fe=VQ(be),Ae={};ze==="outlined"&&($&&typeof $.shrink<"u"&&(Ae.notched=$.shrink),Ae.label=q),ke&&((!Me||!Me.native)&&(Ae.id=void 0),Ae["aria-describedby"]=void 0);const qe=jt=>{!C&&Ne&&(jt.stopPropagation(),Ne(jt))},Le=uT(M),ot=N&&Le?`${Le}-helper-text`:void 0,xt=q&&Le?`${Le}-label`:void 0,St=UQ[ze],It=F.jsx(St,ne({"aria-describedby":ot,autoComplete:o,autoFocus:a,defaultValue:_,fullWidth:D,multiline:te,name:ge,rows:Ke,maxRows:Y,minRows:J,type:Oe,value:Ee,id:Le,inputRef:z,onBlur:Pe,onChange:ye,onFocus:Ve,onClick:qe,placeholder:et,inputProps:A},Ae,O));return F.jsxs(WQ,ne({className:Dt(Fe.root,c),disabled:C,error:k,fullWidth:D,ref:n,required:Ze,color:y,variant:ze,ownerState:be,onClick:qe},st,{children:[q!=null&&q!==""&&F.jsx(e_,ne({htmlFor:Le,id:xt},$,{children:q})),ke?F.jsx(n_,ne({"aria-describedby":ot,id:Le,labelId:xt,value:Ee,input:It},Me,{children:d})):It,N&&F.jsx(fK,ne({id:ot},P,{children:N}))]}))}),Io=qQ,Bx=(e,t)=>{const n=Ha(),r=U.useRef();U.useEffect(()=>(e().then(o=>r.current=o).catch(o=>n(O8.push(o.message))),()=>{const o=r.current;o&&o()}),[...t,n])};function _$(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function jc(){return jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jc.apply(this,arguments)}var ZR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gg=(typeof window>"u"?"undefined":ZR(window))==="object"&&(typeof document>"u"?"undefined":ZR(document))==="object"&&document.nodeType===9;function KR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jz(r.key),r)}}function x$(e,t,n){return t&&KR(e.prototype,t),n&&KR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var GQ={}.constructor;function w2(e){if(e==null||typeof e!="object")return e;if(Array.isArray(e))return e.map(w2);if(e.constructor!==GQ)return e;var t={};for(var n in e)t[n]=w2(e[n]);return t}function GT(e,t,n){e===void 0&&(e="unnamed");var r=n.jss,o=w2(t),a=r.plugins.onCreateRule(e,o,n);return a||(e[0],null)}var XR=function(t,n){for(var r="",o=0;o<t.length&&t[o]!=="!important";o++)r&&(r+=n),r+=t[o];return r},Xu=function(t){if(!Array.isArray(t))return t;var n="";if(Array.isArray(t[0]))for(var r=0;r<t.length&&t[r]!=="!important";r++)n&&(n+=", "),n+=XR(t[r]," ");else n=XR(t,", ");return t[t.length-1]==="!important"&&(n+=" !important"),n};function Ff(e){return e&&e.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function um(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function Sg(e,t,n){n===void 0&&(n={});var r="";if(!t)return r;var o=n,a=o.indent,d=a===void 0?0:a,c=t.fallbacks;n.format===!1&&(d=-1/0);var y=Ff(n),_=y.linebreak,C=y.space;if(e&&d++,c)if(Array.isArray(c))for(var k=0;k<c.length;k++){var P=c[k];for(var D in P){var N=P[D];N!=null&&(r&&(r+=_),r+=um(D+":"+C+Xu(N)+";",d))}}else for(var M in c){var $=c[M];$!=null&&(r&&(r+=_),r+=um(M+":"+C+Xu($)+";",d))}for(var A in t){var O=t[A];O!=null&&A!=="fallbacks"&&(r&&(r+=_),r+=um(A+":"+C+Xu(O)+";",d))}return!r&&!n.allowEmpty||!e?r:(d--,r&&(r=""+_+r+_),um(""+e+C+"{"+r,d)+um("}",d))}var HQ=/([[\].#*$><+~=|^:(),"'`\s])/g,JR=typeof CSS<"u"&&CSS.escape,HT=function(e){return JR?JR(e):e.replace(HQ,"\\$1")},b$=function(){function e(n,r,o){this.type="style",this.isProcessed=!1;var a=o.sheet,d=o.Renderer;this.key=n,this.options=o,this.style=r,a?this.renderer=a.renderer:d&&(this.renderer=new d)}var t=e.prototype;return t.prop=function(r,o,a){if(o===void 0)return this.style[r];var d=a?a.force:!1;if(!d&&this.style[r]===o)return this;var c=o;(!a||a.process!==!1)&&(c=this.options.jss.plugins.onChangeValue(o,r,this));var y=c==null||c===!1,_=r in this.style;if(y&&!_&&!d)return this;var C=y&&_;if(C?delete this.style[r]:this.style[r]=c,this.renderable&&this.renderer)return C?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,c),this;var k=this.options.sheet;return k&&k.attached,this},e}(),S2=function(e){jg(t,e);function t(r,o,a){var d;d=e.call(this,r,o,a)||this;var c=a.selector,y=a.scoped,_=a.sheet,C=a.generateId;return c?d.selectorText=c:y!==!1&&(d.id=C(_g(_g(d)),_),d.selectorText="."+HT(d.id)),d}var n=t.prototype;return n.applyTo=function(o){var a=this.renderer;if(a){var d=this.toJSON();for(var c in d)a.setProperty(o,c,d[c])}return this},n.toJSON=function(){var o={};for(var a in this.style){var d=this.style[a];typeof d!="object"?o[a]=d:Array.isArray(d)&&(o[a]=Xu(d))}return o},n.toString=function(o){var a=this.options.sheet,d=a?a.options.link:!1,c=d?rr({},o,{allowEmpty:!0}):o;return Sg(this.selectorText,this.style,c)},x$(t,[{key:"selector",set:function(o){if(o!==this.selectorText){this.selectorText=o;var a=this.renderer,d=this.renderable;if(!(!d||!a)){var c=a.setSelector(d,o);c||a.replaceRule(d,this)}}},get:function(){return this.selectorText}}]),t}(b$),YQ={onCreateRule:function(t,n,r){return t[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new S2(t,n,r)}},Sw={indent:1,children:!0},ZQ=/@([\w-]+)/,KQ=function(){function e(n,r,o){this.type="conditional",this.isProcessed=!1,this.key=n;var a=n.match(ZQ);this.at=a?a[1]:"unknown",this.query=o.name||"@"+this.at,this.options=o,this.rules=new jx(rr({},o,{parent:this}));for(var d in r)this.rules.add(d,r[d]);this.rules.process()}var t=e.prototype;return t.getRule=function(r){return this.rules.get(r)},t.indexOf=function(r){return this.rules.indexOf(r)},t.addRule=function(r,o,a){var d=this.rules.add(r,o,a);return d?(this.options.jss.plugins.onProcessRule(d),d):null},t.replaceRule=function(r,o,a){var d=this.rules.replace(r,o,a);return d&&this.options.jss.plugins.onProcessRule(d),d},t.toString=function(r){r===void 0&&(r=Sw);var o=Ff(r),a=o.linebreak;if(r.indent==null&&(r.indent=Sw.indent),r.children==null&&(r.children=Sw.children),r.children===!1)return this.query+" {}";var d=this.rules.toString(r);return d?this.query+" {"+a+d+a+"}":""},e}(),XQ=/@container|@media|@supports\s+/,JQ={onCreateRule:function(t,n,r){return XQ.test(t)?new KQ(t,n,r):null}},Cw={indent:1,children:!0},QQ=/@keyframes\s+([\w-]+)/,C2=function(){function e(n,r,o){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var a=n.match(QQ);a&&a[1]?this.name=a[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=o;var d=o.scoped,c=o.sheet,y=o.generateId;this.id=d===!1?this.name:HT(y(this,c)),this.rules=new jx(rr({},o,{parent:this}));for(var _ in r)this.rules.add(_,r[_],rr({},o,{parent:this}));this.rules.process()}var t=e.prototype;return t.toString=function(r){r===void 0&&(r=Cw);var o=Ff(r),a=o.linebreak;if(r.indent==null&&(r.indent=Cw.indent),r.children==null&&(r.children=Cw.children),r.children===!1)return this.at+" "+this.id+" {}";var d=this.rules.toString(r);return d&&(d=""+a+d+a),this.at+" "+this.id+" {"+d+"}"},e}(),eee=/@keyframes\s+/,tee=/\$([\w-]+)/g,T2=function(t,n){return typeof t=="string"?t.replace(tee,function(r,o){return o in n?n[o]:r}):t},QR=function(t,n,r){var o=t[n],a=T2(o,r);a!==o&&(t[n]=a)},nee={onCreateRule:function(t,n,r){return typeof t=="string"&&eee.test(t)?new C2(t,n,r):null},onProcessStyle:function(t,n,r){return n.type!=="style"||!r||("animation-name"in t&&QR(t,"animation-name",r.keyframes),"animation"in t&&QR(t,"animation",r.keyframes)),t},onChangeValue:function(t,n,r){var o=r.options.sheet;if(!o)return t;switch(n){case"animation":return T2(t,o.keyframes);case"animation-name":return T2(t,o.keyframes);default:return t}}},ree=function(e){jg(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.toString=function(o){var a=this.options.sheet,d=a?a.options.link:!1,c=d?rr({},o,{allowEmpty:!0}):o;return Sg(this.key,this.style,c)},t}(b$),iee={onCreateRule:function(t,n,r){return r.parent&&r.parent.type==="keyframes"?new ree(t,n,r):null}},oee=function(){function e(n,r,o){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=n,this.style=r,this.options=o}var t=e.prototype;return t.toString=function(r){var o=Ff(r),a=o.linebreak;if(Array.isArray(this.style)){for(var d="",c=0;c<this.style.length;c++)d+=Sg(this.at,this.style[c]),this.style[c+1]&&(d+=a);return d}return Sg(this.at,this.style,r)},e}(),see=/@font-face/,aee={onCreateRule:function(t,n,r){return see.test(t)?new oee(t,n,r):null}},lee=function(){function e(n,r,o){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=n,this.style=r,this.options=o}var t=e.prototype;return t.toString=function(r){return Sg(this.key,this.style,r)},e}(),cee={onCreateRule:function(t,n,r){return t==="@viewport"||t==="@-ms-viewport"?new lee(t,n,r):null}},uee=function(){function e(n,r,o){this.type="simple",this.isProcessed=!1,this.key=n,this.value=r,this.options=o}var t=e.prototype;return t.toString=function(r){if(Array.isArray(this.value)){for(var o="",a=0;a<this.value.length;a++)o+=this.key+" "+this.value[a]+";",this.value[a+1]&&(o+=`
`);return o}return this.key+" "+this.value+";"},e}(),dee={"@charset":!0,"@import":!0,"@namespace":!0},hee={onCreateRule:function(t,n,r){return t in dee?new uee(t,n,r):null}},eA=[YQ,JQ,nee,iee,aee,cee,hee],fee={process:!0},tA={force:!0,process:!0},jx=function(){function e(n){this.map={},this.raw={},this.index=[],this.counter=0,this.options=n,this.classes=n.classes,this.keyframes=n.keyframes}var t=e.prototype;return t.add=function(r,o,a){var d=this.options,c=d.parent,y=d.sheet,_=d.jss,C=d.Renderer,k=d.generateId,P=d.scoped,D=rr({classes:this.classes,parent:c,sheet:y,jss:_,Renderer:C,generateId:k,scoped:P,name:r,keyframes:this.keyframes,selector:void 0},a),N=r;r in this.raw&&(N=r+"-d"+this.counter++),this.raw[N]=o,N in this.classes&&(D.selector="."+HT(this.classes[N]));var M=GT(N,o,D);if(!M)return null;this.register(M);var $=D.index===void 0?this.index.length:D.index;return this.index.splice($,0,M),M},t.replace=function(r,o,a){var d=this.get(r),c=this.index.indexOf(d);d&&this.remove(d);var y=a;return c!==-1&&(y=rr({},a,{index:c})),this.add(r,o,y)},t.get=function(r){return this.map[r]},t.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},t.indexOf=function(r){return this.index.indexOf(r)},t.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},t.register=function(r){this.map[r.key]=r,r instanceof S2?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof C2&&this.keyframes&&(this.keyframes[r.name]=r.id)},t.unregister=function(r){delete this.map[r.key],r instanceof S2?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof C2&&delete this.keyframes[r.name]},t.update=function(){var r,o,a;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],a=arguments.length<=2?void 0:arguments[2]):(o=arguments.length<=0?void 0:arguments[0],a=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),o,a);else for(var d=0;d<this.index.length;d++)this.updateOne(this.index[d],o,a)},t.updateOne=function(r,o,a){a===void 0&&(a=fee);var d=this.options,c=d.jss.plugins,y=d.sheet;if(r.rules instanceof e){r.rules.update(o,a);return}var _=r.style;if(c.onUpdate(o,r,y,a),a.process&&_&&_!==r.style){c.onProcessStyle(r.style,r,y);for(var C in r.style){var k=r.style[C],P=_[C];k!==P&&r.prop(C,k,tA)}for(var D in _){var N=r.style[D],M=_[D];N==null&&N!==M&&r.prop(D,null,tA)}}},t.toString=function(r){for(var o="",a=this.options.sheet,d=a?a.options.link:!1,c=Ff(r),y=c.linebreak,_=0;_<this.index.length;_++){var C=this.index[_],k=C.toString(r);!k&&!d||(o&&(o+=y),o+=k)}return o},e}(),w$=function(){function e(n,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=rr({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new jx(this.options);for(var o in n)this.rules.add(o,n[o]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(r,o,a){var d=this.queue;this.attached&&!d&&(this.queue=[]);var c=this.rules.add(r,o,a);return c?(this.options.jss.plugins.onProcessRule(c),this.attached?(this.deployed&&(d?d.push(c):(this.insertRule(c),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),c):(this.deployed=!1,c)):null},t.replaceRule=function(r,o,a){var d=this.rules.get(r);if(!d)return this.addRule(r,o,a);var c=this.rules.replace(r,o,a);return c&&this.options.jss.plugins.onProcessRule(c),this.attached?(this.deployed&&this.renderer&&(c?d.renderable&&this.renderer.replaceRule(d.renderable,c):this.renderer.deleteRule(d)),c):(this.deployed=!1,c)},t.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},t.addRules=function(r,o){var a=[];for(var d in r){var c=this.addRule(d,r[d],o);c&&a.push(c)}return a},t.getRule=function(r){return this.rules.get(r)},t.deleteRule=function(r){var o=typeof r=="object"?r:this.rules.get(r);return!o||this.attached&&!o.renderable?!1:(this.rules.remove(o),this.attached&&o.renderable&&this.renderer?this.renderer.deleteRule(o.renderable):!0)},t.indexOf=function(r){return this.rules.indexOf(r)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},t.updateOne=function(r,o,a){return this.rules.updateOne(r,o,a),this},t.toString=function(r){return this.rules.toString(r)},e}(),pee=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(r,o,a){for(var d=0;d<this.registry.onCreateRule.length;d++){var c=this.registry.onCreateRule[d](r,o,a);if(c)return c}return null},t.onProcessRule=function(r){if(!r.isProcessed){for(var o=r.options.sheet,a=0;a<this.registry.onProcessRule.length;a++)this.registry.onProcessRule[a](r,o);r.style&&this.onProcessStyle(r.style,r,o),r.isProcessed=!0}},t.onProcessStyle=function(r,o,a){for(var d=0;d<this.registry.onProcessStyle.length;d++)o.style=this.registry.onProcessStyle[d](o.style,o,a)},t.onProcessSheet=function(r){for(var o=0;o<this.registry.onProcessSheet.length;o++)this.registry.onProcessSheet[o](r)},t.onUpdate=function(r,o,a,d){for(var c=0;c<this.registry.onUpdate.length;c++)this.registry.onUpdate[c](r,o,a,d)},t.onChangeValue=function(r,o,a){for(var d=r,c=0;c<this.registry.onChangeValue.length;c++)d=this.registry.onChangeValue[c](d,o,a);return d},t.use=function(r,o){o===void 0&&(o={queue:"external"});var a=this.plugins[o.queue];a.indexOf(r)===-1&&(a.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(d,c){for(var y in c)y in d&&d[y].push(c[y]);return d},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),mee=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(r){var o=this.registry,a=r.options.index;if(o.indexOf(r)===-1){if(o.length===0||a>=this.index){o.push(r);return}for(var d=0;d<o.length;d++)if(o[d].options.index>a){o.splice(d,0,r);return}}},t.reset=function(){this.registry=[]},t.remove=function(r){var o=this.registry.indexOf(r);this.registry.splice(o,1)},t.toString=function(r){for(var o=r===void 0?{}:r,a=o.attached,d=Lg(o,["attached"]),c=Ff(d),y=c.linebreak,_="",C=0;C<this.registry.length;C++){var k=this.registry[C];a!=null&&k.attached!==a||(_&&(_+=y),_+=k.toString(d))}return _},x$(e,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),e}(),Vm=new mee,k2=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),E2="2f1acc6c3a606b082e5eef5e54414ffb";k2[E2]==null&&(k2[E2]=0);var nA=k2[E2]++,rA=function(t){t===void 0&&(t={});var n=0,r=function(a,d){n+=1;var c="",y="";return d&&(d.options.classNamePrefix&&(y=d.options.classNamePrefix),d.options.jss.id!=null&&(c=String(d.options.jss.id))),t.minify?""+(y||"c")+nA+c+n:y+a.key+"-"+nA+(c?"-"+c:"")+"-"+n};return r},S$=function(t){var n;return function(){return n||(n=t()),n}},gee=function(t,n){try{return t.attributeStyleMap?t.attributeStyleMap.get(n):t.style.getPropertyValue(n)}catch{return""}},yee=function(t,n,r){try{var o=r;if(Array.isArray(r)&&(o=Xu(r)),t.attributeStyleMap)t.attributeStyleMap.set(n,o);else{var a=o?o.indexOf("!important"):-1,d=a>-1?o.substr(0,a-1):o;t.style.setProperty(n,d,a>-1?"important":"")}}catch{return!1}return!0},vee=function(t,n){try{t.attributeStyleMap?t.attributeStyleMap.delete(n):t.style.removeProperty(n)}catch{}},_ee=function(t,n){return t.selectorText=n,t.selectorText===n},C$=S$(function(){return document.querySelector("head")});function xee(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}function bee(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}function wee(e){for(var t=C$(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(r.nodeType===8&&r.nodeValue.trim()===e)return r}return null}function See(e){var t=Vm.registry;if(t.length>0){var n=xee(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=bee(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&typeof r=="string"){var o=wee(r);if(o)return{parent:o.parentNode,node:o.nextSibling}}return!1}function Cee(e,t){var n=t.insertionPoint,r=See(t);if(r!==!1&&r.parent){r.parent.insertBefore(e,r.node);return}if(n&&typeof n.nodeType=="number"){var o=n,a=o.parentNode;a&&a.insertBefore(e,o.nextSibling);return}C$().appendChild(e)}var Tee=S$(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),iA=function(t,n,r){try{"insertRule"in t?t.insertRule(n,r):"appendRule"in t&&t.appendRule(n)}catch{return!1}return t.cssRules[r]},oA=function(t,n){var r=t.cssRules.length;return n===void 0||n>r?r:n},kee=function(){var t=document.createElement("style");return t.textContent=`
`,t},Eee=function(){function e(n){this.getPropertyValue=gee,this.setProperty=yee,this.removeProperty=vee,this.setSelector=_ee,this.hasInsertedRules=!1,this.cssRules=[],n&&Vm.add(n),this.sheet=n;var r=this.sheet?this.sheet.options:{},o=r.media,a=r.meta,d=r.element;this.element=d||kee(),this.element.setAttribute("data-jss",""),o&&this.element.setAttribute("media",o),a&&this.element.setAttribute("data-meta",a);var c=Tee();c&&this.element.setAttribute("nonce",c)}var t=e.prototype;return t.attach=function(){if(!(this.element.parentNode||!this.sheet)){Cee(this.element,this.sheet.options);var r=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},t.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},t.insertRules=function(r,o){for(var a=0;a<r.index.length;a++)this.insertRule(r.index[a],a,o)},t.insertRule=function(r,o,a){if(a===void 0&&(a=this.element.sheet),r.rules){var d=r,c=a;if(r.type==="conditional"||r.type==="keyframes"){var y=oA(a,o);if(c=iA(a,d.toString({children:!1}),y),c===!1)return!1;this.refCssRule(r,y,c)}return this.insertRules(d.rules,c),c}var _=r.toString();if(!_)return!1;var C=oA(a,o),k=iA(a,_,C);return k===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,C,k),k)},t.refCssRule=function(r,o,a){r.renderable=a,r.options.parent instanceof w$&&this.cssRules.splice(o,0,a)},t.deleteRule=function(r){var o=this.element.sheet,a=this.indexOf(r);return a===-1?!1:(o.deleteRule(a),this.cssRules.splice(a,1),!0)},t.indexOf=function(r){return this.cssRules.indexOf(r)},t.replaceRule=function(r,o){var a=this.indexOf(r);return a===-1?!1:(this.element.sheet.deleteRule(a),this.cssRules.splice(a,1),this.insertRule(o,a))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Pee=0,Iee=function(){function e(n){this.id=Pee++,this.version="10.10.0",this.plugins=new pee,this.options={id:{minify:!1},createGenerateId:rA,Renderer:Gg?Eee:null,plugins:[]},this.generateId=rA({minify:!1});for(var r=0;r<eA.length;r++)this.plugins.use(eA[r],{queue:"internal"});this.setup(n)}var t=e.prototype;return t.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=rr({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},t.createStyleSheet=function(r,o){o===void 0&&(o={});var a=o,d=a.index;typeof d!="number"&&(d=Vm.index===0?0:Vm.index+1);var c=new w$(r,rr({},o,{jss:this,generateId:o.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:d}));return this.plugins.onProcessSheet(c),c},t.removeStyleSheet=function(r){return r.detach(),Vm.remove(r),this},t.createRule=function(r,o,a){if(o===void 0&&(o={}),a===void 0&&(a={}),typeof r=="object")return this.createRule(void 0,r,o);var d=rr({},a,{name:r,jss:this,Renderer:this.options.Renderer});d.generateId||(d.generateId=this.generateId),d.classes||(d.classes={}),d.keyframes||(d.keyframes={});var c=GT(r,o,d);return c&&this.plugins.onProcessRule(c),c},t.use=function(){for(var r=this,o=arguments.length,a=new Array(o),d=0;d<o;d++)a[d]=arguments[d];return a.forEach(function(c){r.plugins.use(c)}),this},e}(),T$=function(t){return new Iee(t)},YT=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function k$(e){var t=null;for(var n in e){var r=e[n],o=typeof r;if(o==="function")t||(t={}),t[n]=r;else if(o==="object"&&r!==null&&!Array.isArray(r)){var a=k$(r);a&&(t||(t={}),t[n]=a)}}return t}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */T$();function E$(e={}){const{baseClasses:t,newClasses:n,Component:r}=e;if(!n)return t;const o=jc({},t);return Object.keys(n).forEach(a=>{n[a]&&(o[a]=`${t[a]} ${n[a]}`)}),o}const Mee={set:(e,t,n,r)=>{let o=e.get(t);o||(o=new Map,e.set(t,o)),o.set(n,r)},get:(e,t,n)=>{const r=e.get(t);return r?r.get(n):void 0},delete:(e,t,n)=>{e.get(t).delete(n)}},Bh=Mee;function Ree(){var e;const t=kT();return(e=t==null?void 0:t.$$material)!=null?e:t}const Aee=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function Oee(e={}){const{disableGlobal:t=!1,productionPrefix:n="jss",seed:r=""}=e,o=r===""?"":`${r}-`;let a=0;const d=()=>(a+=1,a);return(c,y)=>{const _=y.options.name;if(_&&_.indexOf("Mui")===0&&!y.options.link&&!t){if(Aee.indexOf(c.key)!==-1)return`Mui-${c.key}`;const C=`${o}${_}-${c.key}`;return!y.options.theme[RL]||r!==""?C:`${C}-${d()}`}return`${o}${n}${d()}`}}var P$=Date.now(),Tw="fnValues"+P$,kw="fnStyle"+ ++P$,Dee=function(){return{onCreateRule:function(n,r,o){if(typeof r!="function")return null;var a=GT(n,{},o);return a[kw]=r,a},onProcessStyle:function(n,r){if(Tw in r||kw in r)return n;var o={};for(var a in n){var d=n[a];typeof d=="function"&&(delete n[a],o[a]=d)}return r[Tw]=o,n},onUpdate:function(n,r,o,a){var d=r,c=d[kw];c&&(d.style=c(n)||{});var y=d[Tw];if(y)for(var _ in y)d.prop(_,y[_](n),a)}}};const zee=Dee;var Uc="@global",P2="@global ",Lee=function(){function e(n,r,o){this.type="global",this.at=Uc,this.isProcessed=!1,this.key=n,this.options=o,this.rules=new jx(rr({},o,{parent:this}));for(var a in r)this.rules.add(a,r[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(r){return this.rules.get(r)},t.addRule=function(r,o,a){var d=this.rules.add(r,o,a);return d&&this.options.jss.plugins.onProcessRule(d),d},t.replaceRule=function(r,o,a){var d=this.rules.replace(r,o,a);return d&&this.options.jss.plugins.onProcessRule(d),d},t.indexOf=function(r){return this.rules.indexOf(r)},t.toString=function(r){return this.rules.toString(r)},e}(),$ee=function(){function e(n,r,o){this.type="global",this.at=Uc,this.isProcessed=!1,this.key=n,this.options=o;var a=n.substr(P2.length);this.rule=o.jss.createRule(a,r,rr({},o,{parent:this}))}var t=e.prototype;return t.toString=function(r){return this.rule?this.rule.toString(r):""},e}(),Nee=/\s*,\s*/g;function I$(e,t){for(var n=e.split(Nee),r="",o=0;o<n.length;o++)r+=t+" "+n[o].trim(),n[o+1]&&(r+=", ");return r}function Fee(e,t){var n=e.options,r=e.style,o=r?r[Uc]:null;if(o){for(var a in o)t.addRule(a,o[a],rr({},n,{selector:I$(a,e.selector)}));delete r[Uc]}}function Bee(e,t){var n=e.options,r=e.style;for(var o in r)if(!(o[0]!=="@"||o.substr(0,Uc.length)!==Uc)){var a=I$(o.substr(Uc.length),e.selector);t.addRule(a,r[o],rr({},n,{selector:a})),delete r[o]}}function jee(){function e(n,r,o){if(!n)return null;if(n===Uc)return new Lee(n,r,o);if(n[0]==="@"&&n.substr(0,P2.length)===P2)return new $ee(n,r,o);var a=o.parent;return a&&(a.type==="global"||a.options.parent&&a.options.parent.type==="global")&&(o.scoped=!1),!o.selector&&o.scoped===!1&&(o.selector=n),null}function t(n,r){n.type!=="style"||!r||(Fee(n,r),Bee(n,r))}return{onCreateRule:e,onProcessRule:t}}var sA=/\s*,\s*/g,Uee=/&/g,Vee=/\$([\w-]+)/g;function Wee(){function e(o,a){return function(d,c){var y=o.getRule(c)||a&&a.getRule(c);return y?y.selector:c}}function t(o,a){for(var d=a.split(sA),c=o.split(sA),y="",_=0;_<d.length;_++)for(var C=d[_],k=0;k<c.length;k++){var P=c[k];y&&(y+=", "),y+=P.indexOf("&")!==-1?P.replace(Uee,C):C+" "+P}return y}function n(o,a,d){if(d)return rr({},d,{index:d.index+1});var c=o.options.nestingLevel;c=c===void 0?1:c+1;var y=rr({},o.options,{nestingLevel:c,index:a.indexOf(o)+1});return delete y.name,y}function r(o,a,d){if(a.type!=="style")return o;var c=a,y=c.options.parent,_,C;for(var k in o){var P=k.indexOf("&")!==-1,D=k[0]==="@";if(!(!P&&!D)){if(_=n(c,y,_),P){var N=t(k,c.selector);C||(C=e(y,d)),N=N.replace(Vee,C);var M=c.key+"-"+k;"replaceRule"in y?y.replaceRule(M,o[k],rr({},_,{selector:N})):y.addRule(M,o[k],rr({},_,{selector:N}))}else D&&y.addRule(k,{},_).addRule(c.key,o[k],{selector:c.selector});delete o[k]}}return o}return{onProcessStyle:r}}var qee=/[A-Z]/g,Gee=/^ms-/,Ew={};function Hee(e){return"-"+e.toLowerCase()}function M$(e){if(Ew.hasOwnProperty(e))return Ew[e];var t=e.replace(qee,Hee);return Ew[e]=Gee.test(t)?"-"+t:t}function r_(e){var t={};for(var n in e){var r=n.indexOf("--")===0?n:M$(n);t[r]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(r_):t.fallbacks=r_(e.fallbacks)),t}function Yee(){function e(n){if(Array.isArray(n)){for(var r=0;r<n.length;r++)n[r]=r_(n[r]);return n}return r_(n)}function t(n,r,o){if(r.indexOf("--")===0)return n;var a=M$(r);return r===a?n:(o.prop(a,n),null)}return{onProcessStyle:e,onChangeValue:t}}var Qe=YT&&CSS?CSS.px:"px",Mv=YT&&CSS?CSS.ms:"ms",gh=YT&&CSS?CSS.percent:"%",Zee={"animation-delay":Mv,"animation-duration":Mv,"background-position":Qe,"background-position-x":Qe,"background-position-y":Qe,"background-size":Qe,border:Qe,"border-bottom":Qe,"border-bottom-left-radius":Qe,"border-bottom-right-radius":Qe,"border-bottom-width":Qe,"border-left":Qe,"border-left-width":Qe,"border-radius":Qe,"border-right":Qe,"border-right-width":Qe,"border-top":Qe,"border-top-left-radius":Qe,"border-top-right-radius":Qe,"border-top-width":Qe,"border-width":Qe,"border-block":Qe,"border-block-end":Qe,"border-block-end-width":Qe,"border-block-start":Qe,"border-block-start-width":Qe,"border-block-width":Qe,"border-inline":Qe,"border-inline-end":Qe,"border-inline-end-width":Qe,"border-inline-start":Qe,"border-inline-start-width":Qe,"border-inline-width":Qe,"border-start-start-radius":Qe,"border-start-end-radius":Qe,"border-end-start-radius":Qe,"border-end-end-radius":Qe,margin:Qe,"margin-bottom":Qe,"margin-left":Qe,"margin-right":Qe,"margin-top":Qe,"margin-block":Qe,"margin-block-end":Qe,"margin-block-start":Qe,"margin-inline":Qe,"margin-inline-end":Qe,"margin-inline-start":Qe,padding:Qe,"padding-bottom":Qe,"padding-left":Qe,"padding-right":Qe,"padding-top":Qe,"padding-block":Qe,"padding-block-end":Qe,"padding-block-start":Qe,"padding-inline":Qe,"padding-inline-end":Qe,"padding-inline-start":Qe,"mask-position-x":Qe,"mask-position-y":Qe,"mask-size":Qe,height:Qe,width:Qe,"min-height":Qe,"max-height":Qe,"min-width":Qe,"max-width":Qe,bottom:Qe,left:Qe,top:Qe,right:Qe,inset:Qe,"inset-block":Qe,"inset-block-end":Qe,"inset-block-start":Qe,"inset-inline":Qe,"inset-inline-end":Qe,"inset-inline-start":Qe,"box-shadow":Qe,"text-shadow":Qe,"column-gap":Qe,"column-rule":Qe,"column-rule-width":Qe,"column-width":Qe,"font-size":Qe,"font-size-delta":Qe,"letter-spacing":Qe,"text-decoration-thickness":Qe,"text-indent":Qe,"text-stroke":Qe,"text-stroke-width":Qe,"word-spacing":Qe,motion:Qe,"motion-offset":Qe,outline:Qe,"outline-offset":Qe,"outline-width":Qe,perspective:Qe,"perspective-origin-x":gh,"perspective-origin-y":gh,"transform-origin":gh,"transform-origin-x":gh,"transform-origin-y":gh,"transform-origin-z":gh,"transition-delay":Mv,"transition-duration":Mv,"vertical-align":Qe,"flex-basis":Qe,"shape-margin":Qe,size:Qe,gap:Qe,grid:Qe,"grid-gap":Qe,"row-gap":Qe,"grid-row-gap":Qe,"grid-column-gap":Qe,"grid-template-rows":Qe,"grid-template-columns":Qe,"grid-auto-rows":Qe,"grid-auto-columns":Qe,"box-shadow-x":Qe,"box-shadow-y":Qe,"box-shadow-blur":Qe,"box-shadow-spread":Qe,"font-line-height":Qe,"text-shadow-x":Qe,"text-shadow-y":Qe,"text-shadow-blur":Qe};function R$(e){var t=/(-[a-z])/g,n=function(d){return d[1].toUpperCase()},r={};for(var o in e)r[o]=e[o],r[o.replace(t,n)]=e[o];return r}var Kee=R$(Zee);function Wm(e,t,n){if(t==null)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=Wm(e,t[r],n);else if(typeof t=="object")if(e==="fallbacks")for(var o in t)t[o]=Wm(o,t[o],n);else for(var a in t)t[a]=Wm(e+"-"+a,t[a],n);else if(typeof t=="number"&&isNaN(t)===!1){var d=n[e]||Kee[e];return d&&!(t===0&&d===Qe)?typeof d=="function"?d(t).toString():""+t+d:t.toString()}return t}function Xee(e){e===void 0&&(e={});var t=R$(e);function n(o,a){if(a.type!=="style")return o;for(var d in o)o[d]=Wm(d,o[d],t);return o}function r(o,a){return Wm(a,o,t)}return{onProcessStyle:n,onChangeValue:r}}function I2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jee(e){if(Array.isArray(e))return I2(e)}function Qee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ete(e,t){if(e){if(typeof e=="string")return I2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I2(e,t)}}function tte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nte(e){return Jee(e)||Qee(e)||ete(e)||tte()}var Tm="",M2="",A$="",O$="",rte=Gg&&"ontouchstart"in document.documentElement;if(Gg){var Pw={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},ite=document.createElement("p"),Iw=ite.style,ote="Transform";for(var Mw in Pw)if(Mw+ote in Iw){Tm=Mw,M2=Pw[Mw];break}Tm==="Webkit"&&"msHyphens"in Iw&&(Tm="ms",M2=Pw.ms,O$="edge"),Tm==="Webkit"&&"-apple-trailing-word"in Iw&&(A$="apple")}var pn={js:Tm,css:M2,vendor:A$,browser:O$,isTouch:rte};function ste(e){return e[1]==="-"||pn.js==="ms"?e:"@"+pn.css+"keyframes"+e.substr(10)}var ate={noPrefill:["appearance"],supportedProperty:function(t){return t!=="appearance"?!1:pn.js==="ms"?"-webkit-"+t:pn.css+t}},lte={noPrefill:["color-adjust"],supportedProperty:function(t){return t!=="color-adjust"?!1:pn.js==="Webkit"?pn.css+"print-"+t:t}},cte=/[-\s]+(.)?/g;function ute(e,t){return t?t.toUpperCase():""}function ZT(e){return e.replace(cte,ute)}function Kc(e){return ZT("-"+e)}var dte={noPrefill:["mask"],supportedProperty:function(t,n){if(!/^mask/.test(t))return!1;if(pn.js==="Webkit"){var r="mask-image";if(ZT(r)in n)return t;if(pn.js+Kc(r)in n)return pn.css+t}return t}},hte={noPrefill:["text-orientation"],supportedProperty:function(t){return t!=="text-orientation"?!1:pn.vendor==="apple"&&!pn.isTouch?pn.css+t:t}},fte={noPrefill:["transform"],supportedProperty:function(t,n,r){return t!=="transform"?!1:r.transform?t:pn.css+t}},pte={noPrefill:["transition"],supportedProperty:function(t,n,r){return t!=="transition"?!1:r.transition?t:pn.css+t}},mte={noPrefill:["writing-mode"],supportedProperty:function(t){return t!=="writing-mode"?!1:pn.js==="Webkit"||pn.js==="ms"&&pn.browser!=="edge"?pn.css+t:t}},gte={noPrefill:["user-select"],supportedProperty:function(t){return t!=="user-select"?!1:pn.js==="Moz"||pn.js==="ms"||pn.vendor==="apple"?pn.css+t:t}},yte={supportedProperty:function(t,n){if(!/^break-/.test(t))return!1;if(pn.js==="Webkit"){var r="WebkitColumn"+Kc(t);return r in n?pn.css+"column-"+t:!1}if(pn.js==="Moz"){var o="page"+Kc(t);return o in n?"page-"+t:!1}return!1}},vte={supportedProperty:function(t,n){if(!/^(border|margin|padding)-inline/.test(t))return!1;if(pn.js==="Moz")return t;var r=t.replace("-inline","");return pn.js+Kc(r)in n?pn.css+r:!1}},_te={supportedProperty:function(t,n){return ZT(t)in n?t:!1}},xte={supportedProperty:function(t,n){var r=Kc(t);return t[0]==="-"||t[0]==="-"&&t[1]==="-"?t:pn.js+r in n?pn.css+t:pn.js!=="Webkit"&&"Webkit"+r in n?"-webkit-"+t:!1}},bte={supportedProperty:function(t){return t.substring(0,11)!=="scroll-snap"?!1:pn.js==="ms"?""+pn.css+t:t}},wte={supportedProperty:function(t){return t!=="overscroll-behavior"?!1:pn.js==="ms"?pn.css+"scroll-chaining":t}},Ste={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Cte={supportedProperty:function(t,n){var r=Ste[t];return r&&pn.js+Kc(r)in n?pn.css+r:!1}},D$={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Tte=Object.keys(D$),kte=function(t){return pn.css+t},Ete={supportedProperty:function(t,n,r){var o=r.multiple;if(Tte.indexOf(t)>-1){var a=D$[t];if(!Array.isArray(a))return pn.js+Kc(a)in n?pn.css+a:!1;if(!o)return!1;for(var d=0;d<a.length;d++)if(!(pn.js+Kc(a[0])in n))return!1;return a.map(kte)}return!1}},z$=[ate,lte,dte,hte,fte,pte,mte,gte,yte,vte,_te,xte,bte,wte,Cte,Ete],aA=z$.filter(function(e){return e.supportedProperty}).map(function(e){return e.supportedProperty}),Pte=z$.filter(function(e){return e.noPrefill}).reduce(function(e,t){return e.push.apply(e,nte(t.noPrefill)),e},[]),km,Fu={};if(Gg){km=document.createElement("p");var Rw=window.getComputedStyle(document.documentElement,"");for(var Aw in Rw)isNaN(Aw)||(Fu[Rw[Aw]]=Rw[Aw]);Pte.forEach(function(e){return delete Fu[e]})}function R2(e,t){if(t===void 0&&(t={}),!km)return e;if(Fu[e]!=null)return Fu[e];(e==="transition"||e==="transform")&&(t[e]=e in km.style);for(var n=0;n<aA.length&&(Fu[e]=aA[n](e,km.style,t),!Fu[e]);n++);try{km.style[e]=""}catch{return!1}return Fu[e]}var yh={},Ite={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Mte=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,gc;function Rte(e,t,n){if(t==="var")return"var";if(t==="all")return"all";if(n==="all")return", all";var r=t?R2(t):", "+R2(n);return r||t||n}Gg&&(gc=document.createElement("p"));function lA(e,t){var n=t;if(!gc||e==="content")return t;if(typeof n!="string"||!isNaN(parseInt(n,10)))return n;var r=e+n;if(yh[r]!=null)return yh[r];try{gc.style[e]=n}catch{return yh[r]=!1,!1}if(Ite[e])n=n.replace(Mte,Rte);else if(gc.style[e]===""&&(n=pn.css+n,n==="-ms-flex"&&(gc.style[e]="-ms-flexbox"),gc.style[e]=n,gc.style[e]===""))return yh[r]=!1,!1;return gc.style[e]="",yh[r]=n,yh[r]}function Ate(){function e(o){if(o.type==="keyframes"){var a=o;a.at=ste(a.at)}}function t(o){for(var a in o){var d=o[a];if(a==="fallbacks"&&Array.isArray(d)){o[a]=d.map(t);continue}var c=!1,y=R2(a);y&&y!==a&&(c=!0);var _=!1,C=lA(y,Xu(d));C&&C!==d&&(_=!0),(c||_)&&(c&&delete o[a],o[y||a]=C||d)}return o}function n(o,a){return a.type!=="style"?o:t(o)}function r(o,a){return lA(a,Xu(o))||o}return{onProcessRule:e,onProcessStyle:n,onChangeValue:r}}function Ote(){var e=function(n,r){return n.length===r.length?n>r?1:-1:n.length-r.length};return{onProcessStyle:function(n,r){if(r.type!=="style")return n;for(var o={},a=Object.keys(n).sort(e),d=0;d<a.length;d++)o[a[d]]=n[a[d]];return o}}}function Dte(){return{plugins:[zee(),jee(),Wee(),Yee(),Xee(),typeof window>"u"?null:Ate(),Ote()]}}const zte=T$(Dte()),Lte=Oee(),$te=new Map,Nte={disableGeneration:!1,generateClassName:Lte,jss:zte,sheetsCache:null,sheetsManager:$te,sheetsRegistry:null},Fte=U.createContext(Nte);let cA=-1e9;function Bte(){return cA+=1,cA}const jte=["variant"];function uA(e){return e.length===0}function Ute(e){const{variant:t}=e,n=_$(e,jte);let r=t||"";return Object.keys(n).sort().forEach(o=>{o==="color"?r+=uA(r)?e[o]:mt(e[o]):r+=`${uA(r)?o:mt(o)}${mt(e[o].toString())}`}),r}const Vte={},Wte=Vte;function qte(e){const t=typeof e=="function";return{create:(n,r)=>{let o;try{o=t?e(n):e}catch(y){throw y}if(!r||!n.components||!n.components[r]||!n.components[r].styleOverrides&&!n.components[r].variants)return o;const a=n.components[r].styleOverrides||{},d=n.components[r].variants||[],c=jc({},o);return Object.keys(a).forEach(y=>{c[y]=No(c[y]||{},a[y])}),d.forEach(y=>{const _=Ute(y.props);c[_]=No(c[_]||{},y.style)}),c},options:{}}}const Gte=["name","classNamePrefix","Component","defaultTheme"];function Hte({state:e,stylesOptions:t},n,r){if(t.disableGeneration)return n||{};e.cacheClasses||(e.cacheClasses={value:null,lastProp:null,lastJSS:{}});let o=!1;return e.classes!==e.cacheClasses.lastJSS&&(e.cacheClasses.lastJSS=e.classes,o=!0),n!==e.cacheClasses.lastProp&&(e.cacheClasses.lastProp=n,o=!0),o&&(e.cacheClasses.value=E$({baseClasses:e.cacheClasses.lastJSS,newClasses:n,Component:r})),e.cacheClasses.value}function Yte({state:e,theme:t,stylesOptions:n,stylesCreator:r,name:o},a){if(n.disableGeneration)return;let d=Bh.get(n.sheetsManager,r,t);d||(d={refs:0,staticSheet:null,dynamicStyles:null},Bh.set(n.sheetsManager,r,t,d));const c=jc({},r.options,n,{theme:t,flip:typeof n.flip=="boolean"?n.flip:t.direction==="rtl"});c.generateId=c.serverGenerateClassName||c.generateClassName;const y=n.sheetsRegistry;if(d.refs===0){let _;n.sheetsCache&&(_=Bh.get(n.sheetsCache,r,t));const C=r.create(t,o);_||(_=n.jss.createStyleSheet(C,jc({link:!1},c)),_.attach(),n.sheetsCache&&Bh.set(n.sheetsCache,r,t,_)),y&&y.add(_),d.staticSheet=_,d.dynamicStyles=k$(C)}if(d.dynamicStyles){const _=n.jss.createStyleSheet(d.dynamicStyles,jc({link:!0},c));_.update(a),_.attach(),e.dynamicSheet=_,e.classes=E$({baseClasses:d.staticSheet.classes,newClasses:_.classes}),y&&y.add(_)}else e.classes=d.staticSheet.classes;d.refs+=1}function Zte({state:e},t){e.dynamicSheet&&e.dynamicSheet.update(t)}function Kte({state:e,theme:t,stylesOptions:n,stylesCreator:r}){if(n.disableGeneration)return;const o=Bh.get(n.sheetsManager,r,t);o.refs-=1;const a=n.sheetsRegistry;o.refs===0&&(Bh.delete(n.sheetsManager,r,t),n.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),e.dynamicSheet&&(n.jss.removeStyleSheet(e.dynamicSheet),a&&a.remove(e.dynamicSheet))}function Xte(e,t){const n=U.useRef([]);let r;const o=U.useMemo(()=>({}),t);n.current!==o&&(n.current=o,r=e()),U.useEffect(()=>()=>{r&&r()},[o])}function wo(e,t={}){const{name:n,classNamePrefix:r,Component:o,defaultTheme:a=Wte}=t,d=_$(t,Gte),c=qte(e),y=n||r||"makeStyles";return c.options={index:Bte(),name:n,meta:y,classNamePrefix:y},(C={})=>{const k=Ree()||a,P=jc({},U.useContext(Fte),d),D=U.useRef(),N=U.useRef();return Xte(()=>{const $={name:n,state:{},stylesCreator:c,stylesOptions:P,theme:k};return Yte($,C),N.current=!1,D.current=$,()=>{Kte($)}},[k,c]),U.useEffect(()=>{N.current&&Zte(D.current,C),N.current=!0}),Hte(D.current,C.classes,o)}}const dA=4e3,Jte=()=>{const e=Ha(),t=U.useRef(),[n,r]=U.useState(!0),o=()=>{const a=window.location.protocol==="https:"?"wss:":"ws:",d=new WebSocket(`${a}//${window.location.host}/api/socket`);t.current=d,console.log("funcion web socket"),d.onopen=()=>{e(xv.updateSocket(!0)),console.log("funcion web socket open")},d.onclose=async c=>{if(console.log("funcion web socket close"),e(xv.updateSocket(!1)),c.code!==dA){try{const y=await fetch("/api/devices");y.ok&&e(Cl.update(await y.json()));const _=await fetch("/api/positions");_.ok&&e(uw.updatePositions(await _.json())),y.status===401||_.status}catch{}setTimeout(()=>o(),6e4)}},d.onmessage=c=>{const y=JSON.parse(c.data);y.devices&&(y.devices.length>0?e(Cl.update(y.devices)):e(Cl.clear())),y.positions&&e(uw.updatePositions(y.positions)),y.camera&&e(uw.updateCamera(y.camera)),y.server&&(y.server.rosState==="connect"?e(xv.updateServer(!0)):e(xv.updateServer(!1)))}};return Bx(async()=>n?(r(!1),(await fetch("/api/devices",{method:"GET"})).ok,console.log("primera conexion --s"),o(),()=>{const d=t.current;d&&d.close(dA)}):null,[]),F.jsx(F.Fragment,{})},Qte=UU()(Jte),ene=wo(()=>({page:{flexGrow:1,overflow:"auto"},menu:{zIndex:4}})),tne=()=>{const e=ene();return iu(),F.jsxs(F.Fragment,{children:[F.jsx(Qte,{}),F.jsx("div",{className:e.page,children:F.jsx(R6,{})})]})},nne=()=>{const{search:e}=L_();return U.useMemo(()=>new URLSearchParams(e),[e])};var L$={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(gF,function(){var n,r,o;function a(c,y){if(!n)n=y;else if(!r)r=y;else{var _="var sharedChunk = {}; ("+n+")(sharedChunk); ("+r+")(sharedChunk);",C={};n(C),o=y(C),typeof window<"u"&&(o.workerUrl=window.URL.createObjectURL(new Blob([_],{type:"text/javascript"})))}}a(["exports"],function(c){function y(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var _=C;function C(l,i){this.x=l,this.y=i}C.prototype={clone:function(){return new C(this.x,this.y)},add:function(l){return this.clone()._add(l)},sub:function(l){return this.clone()._sub(l)},multByPoint:function(l){return this.clone()._multByPoint(l)},divByPoint:function(l){return this.clone()._divByPoint(l)},mult:function(l){return this.clone()._mult(l)},div:function(l){return this.clone()._div(l)},rotate:function(l){return this.clone()._rotate(l)},rotateAround:function(l,i){return this.clone()._rotateAround(l,i)},matMult:function(l){return this.clone()._matMult(l)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(l){return this.x===l.x&&this.y===l.y},dist:function(l){return Math.sqrt(this.distSqr(l))},distSqr:function(l){var i=l.x-this.x,u=l.y-this.y;return i*i+u*u},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(l){return Math.atan2(this.y-l.y,this.x-l.x)},angleWith:function(l){return this.angleWithSep(l.x,l.y)},angleWithSep:function(l,i){return Math.atan2(this.x*i-this.y*l,this.x*l+this.y*i)},_matMult:function(l){var i=l[2]*this.x+l[3]*this.y;return this.x=l[0]*this.x+l[1]*this.y,this.y=i,this},_add:function(l){return this.x+=l.x,this.y+=l.y,this},_sub:function(l){return this.x-=l.x,this.y-=l.y,this},_mult:function(l){return this.x*=l,this.y*=l,this},_div:function(l){return this.x/=l,this.y/=l,this},_multByPoint:function(l){return this.x*=l.x,this.y*=l.y,this},_divByPoint:function(l){return this.x/=l.x,this.y/=l.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var l=this.y;return this.y=this.x,this.x=-l,this},_rotate:function(l){var i=Math.cos(l),u=Math.sin(l),f=u*this.x+i*this.y;return this.x=i*this.x-u*this.y,this.y=f,this},_rotateAround:function(l,i){var u=Math.cos(l),f=Math.sin(l),m=i.y+f*(this.x-i.x)+u*(this.y-i.y);return this.x=i.x+u*(this.x-i.x)-f*(this.y-i.y),this.y=m,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},C.convert=function(l){return l instanceof C?l:Array.isArray(l)?new C(l[0],l[1]):l};var k=y(_),P=D;function D(l,i,u,f){this.cx=3*l,this.bx=3*(u-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(f-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=i,this.p2x=u,this.p2y=f}D.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,i){if(i===void 0&&(i=1e-6),l<0)return 0;if(l>1)return 1;for(var u=l,f=0;f<8;f++){var m=this.sampleCurveX(u)-l;if(Math.abs(m)<i)return u;var x=this.sampleCurveDerivativeX(u);if(Math.abs(x)<1e-6)break;u-=m/x}var w=0,S=1;for(u=l,f=0;f<20&&(m=this.sampleCurveX(u),!(Math.abs(m-l)<i));f++)l>m?w=u:S=u,u=.5*(S-w)+w;return u},solve:function(l,i){return this.sampleCurveY(this.solveCurveX(l,i))}};var N=y(P);function M(l,i,u,f){const m=new N(l,i,u,f);return function(x){return m.solve(x)}}const $=M(.25,.1,.25,1);function A(l,i,u){return Math.min(u,Math.max(i,l))}function O(l,i,u){const f=u-i,m=((l-i)%f+f)%f+i;return m===i?u:m}function z(l,...i){for(const u of i)for(const f in u)l[f]=u[f];return l}let q=1;function Y(l,i,u){const f={};for(const m in l)f[m]=i.call(u||this,l[m],m,l);return f}function J(l,i,u){const f={};for(const m in l)i.call(u||this,l[m],m,l)&&(f[m]=l[m]);return f}function te(l){return Array.isArray(l)?l.map(te):typeof l=="object"&&l?Y(l,te):l}const ge={};function Pe(l){ge[l]||(typeof console<"u"&&console.warn(l),ge[l]=!0)}function ye(l,i,u){return(u.y-l.y)*(i.x-l.x)>(i.y-l.y)*(u.x-l.x)}function Ne(l){let i=0;for(let u,f,m=0,x=l.length,w=x-1;m<x;w=m++)u=l[m],f=l[w],i+=(f.x-u.x)*(u.y+f.y);return i}function Ve(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let et=null;function Ze(l){if(et==null){const i=l.navigator?l.navigator.userAgent:null;et=!!l.safari||!(!i||!(/\b(iPad|iPhone|iPod)\b/.test(i)||i.match("Safari")&&!i.match("Chrome")))}return et}function Ke(l){return typeof ImageBitmap<"u"&&l instanceof ImageBitmap}const ke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let Me,Oe;const Ee={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(l){const i=requestAnimationFrame(l);return{cancel:()=>cancelAnimationFrame(i)}},getImageData(l,i=0){return this.getImageCanvasContext(l).getImageData(-i,-i,l.width+2*i,l.height+2*i)},getImageCanvasContext(l){const i=window.document.createElement("canvas"),u=i.getContext("2d",{willReadFrequently:!0});if(!u)throw new Error("failed to create canvas 2d context");return i.width=l.width,i.height=l.height,u.drawImage(l,0,0,l.width,l.height),u},resolveURL:l=>(Me||(Me=document.createElement("a")),Me.href=l,Me.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(Oe==null&&(Oe=matchMedia("(prefers-reduced-motion: reduce)")),Oe.matches)}},ze={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class st extends Error{constructor(i,u,f,m){super(`AJAXError: ${u} (${i}): ${f}`),this.status=i,this.statusText=u,this.url=f,this.body=m}}const be=Ve()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href,Fe=l=>ze.REGISTERED_PROTOCOLS[l.substring(0,l.indexOf("://"))];function Ae(l,i){const u=new AbortController,f=new Request(l.url,{method:l.method||"GET",body:l.body,credentials:l.credentials,headers:l.headers,cache:l.cache,referrer:be(),signal:u.signal});let m=!1,x=!1;return l.type==="json"&&f.headers.set("Accept","application/json"),x||fetch(f).then(w=>w.ok?(S=>{(l.type==="arrayBuffer"||l.type==="image"?S.arrayBuffer():l.type==="json"?S.json():S.text()).then(I=>{x||(m=!0,i(null,I,S.headers.get("Cache-Control"),S.headers.get("Expires")))}).catch(I=>{x||i(new Error(I.message))})})(w):w.blob().then(S=>i(new st(w.status,w.statusText,l.url,S)))).catch(w=>{w.code!==20&&i(new Error(w.message))}),{cancel:()=>{x=!0,m||u.abort()}}}const qe=function(l,i){if(/:\/\//.test(l.url)&&!/^https?:|^file:/.test(l.url)){if(Ve()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",l,i);if(!Ve())return(Fe(l.url)||Ae)(l,i)}if(!(/^file:/.test(u=l.url)||/^file:/.test(be())&&!/^\w+:/.test(u))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return Ae(l,i);if(Ve()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",l,i,void 0,!0)}var u;return function(f,m){const x=new XMLHttpRequest;x.open(f.method||"GET",f.url,!0),f.type!=="arrayBuffer"&&f.type!=="image"||(x.responseType="arraybuffer");for(const w in f.headers)x.setRequestHeader(w,f.headers[w]);return f.type==="json"&&(x.responseType="text",x.setRequestHeader("Accept","application/json")),x.withCredentials=f.credentials==="include",x.onerror=()=>{m(new Error(x.statusText))},x.onload=()=>{if((x.status>=200&&x.status<300||x.status===0)&&x.response!==null){let w=x.response;if(f.type==="json")try{w=JSON.parse(x.response)}catch(S){return m(S)}m(null,w,x.getResponseHeader("Cache-Control"),x.getResponseHeader("Expires"))}else{const w=new Blob([x.response],{type:x.getResponseHeader("Content-Type")});m(new st(x.status,x.statusText,f.url,w))}},x.send(f.body),{cancel:()=>x.abort()}}(l,i)},Le=function(l,i){return qe(z(l,{type:"arrayBuffer"}),i)};function ot(l){if(!l||l.indexOf("://")<=0||l.indexOf("data:image/")===0||l.indexOf("blob:")===0)return!0;const i=new URL(l),u=window.location;return i.protocol===u.protocol&&i.host===u.host}function xt(l,i,u){u[l]&&u[l].indexOf(i)!==-1||(u[l]=u[l]||[],u[l].push(i))}function St(l,i,u){if(u&&u[l]){const f=u[l].indexOf(i);f!==-1&&u[l].splice(f,1)}}class It{constructor(i,u={}){z(this,u),this.type=i}}class jt extends It{constructor(i,u={}){super("error",z({error:i},u))}}class Mt{on(i,u){return this._listeners=this._listeners||{},xt(i,u,this._listeners),this}off(i,u){return St(i,u,this._listeners),St(i,u,this._oneTimeListeners),this}once(i,u){return u?(this._oneTimeListeners=this._oneTimeListeners||{},xt(i,u,this._oneTimeListeners),this):new Promise(f=>this.once(i,f))}fire(i,u){typeof i=="string"&&(i=new It(i,u||{}));const f=i.type;if(this.listens(f)){i.target=this;const m=this._listeners&&this._listeners[f]?this._listeners[f].slice():[];for(const S of m)S.call(this,i);const x=this._oneTimeListeners&&this._oneTimeListeners[f]?this._oneTimeListeners[f].slice():[];for(const S of x)St(f,S,this._oneTimeListeners),S.call(this,i);const w=this._eventedParent;w&&(z(i,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),w.fire(i))}else i instanceof jt&&console.error(i.error);return this}listens(i){return this._listeners&&this._listeners[i]&&this._listeners[i].length>0||this._oneTimeListeners&&this._oneTimeListeners[i]&&this._oneTimeListeners[i].length>0||this._eventedParent&&this._eventedParent.listens(i)}setEventedParent(i,u){return this._eventedParent=i,this._eventedParentData=u,this}}var Re={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const rn=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Sn(l,i){const u={};for(const f in l)f!=="ref"&&(u[f]=l[f]);return rn.forEach(f=>{f in i&&(u[f]=i[f])}),u}function Zt(l,i){if(Array.isArray(l)){if(!Array.isArray(i)||l.length!==i.length)return!1;for(let u=0;u<l.length;u++)if(!Zt(l[u],i[u]))return!1;return!0}if(typeof l=="object"&&l!==null&&i!==null){if(typeof i!="object"||Object.keys(l).length!==Object.keys(i).length)return!1;for(const u in l)if(!Zt(l[u],i[u]))return!1;return!0}return l===i}const Yt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Nn(l,i,u){u.push({command:Yt.addSource,args:[l,i[l]]})}function cr(l,i,u){i.push({command:Yt.removeSource,args:[l]}),u[l]=!0}function _n(l,i,u,f){cr(l,u,f),Nn(l,i,u)}function Cn(l,i,u){let f;for(f in l[u])if(Object.prototype.hasOwnProperty.call(l[u],f)&&f!=="data"&&!Zt(l[u][f],i[u][f]))return!1;for(f in i[u])if(Object.prototype.hasOwnProperty.call(i[u],f)&&f!=="data"&&!Zt(l[u][f],i[u][f]))return!1;return!0}function on(l,i,u,f,m,x){let w;for(w in i=i||{},l=l||{})Object.prototype.hasOwnProperty.call(l,w)&&(Zt(l[w],i[w])||u.push({command:x,args:[f,w,i[w],m]}));for(w in i)Object.prototype.hasOwnProperty.call(i,w)&&!Object.prototype.hasOwnProperty.call(l,w)&&(Zt(l[w],i[w])||u.push({command:x,args:[f,w,i[w],m]}))}function xn(l){return l.id}function sr(l,i){return l[i.id]=i,l}class nt{constructor(i,u,f,m){this.message=(i?`${i}: `:"")+f,m&&(this.identifier=m),u!=null&&u.__line__&&(this.line=u.__line__)}}function bn(l,...i){for(const u of i)for(const f in u)l[f]=u[f];return l}class Fn extends Error{constructor(i,u){super(u),this.message=u,this.key=i}}class an{constructor(i,u=[]){this.parent=i,this.bindings={};for(const[f,m]of u)this.bindings[f]=m}concat(i){return new an(this,i)}get(i){if(this.bindings[i])return this.bindings[i];if(this.parent)return this.parent.get(i);throw new Error(`${i} not found in scope.`)}has(i){return!!this.bindings[i]||!!this.parent&&this.parent.has(i)}}const Wt={kind:"null"},je={kind:"number"},wt={kind:"string"},Tt={kind:"boolean"},Bn={kind:"color"},Pi={kind:"object"},Vt={kind:"value"},Li={kind:"collator"},io={kind:"formatted"},Uo={kind:"padding"},$i={kind:"resolvedImage"},fs={kind:"variableAnchorOffsetCollection"};function Xr(l,i){return{kind:"array",itemType:l,N:i}}function On(l){if(l.kind==="array"){const i=On(l.itemType);return typeof l.N=="number"?`array<${i}, ${l.N}>`:l.itemType.kind==="value"?"array":`array<${i}>`}return l.kind}const ya=[Wt,je,wt,Tt,Bn,io,Pi,Xr(Vt),Uo,$i,fs];function oo(l,i){if(i.kind==="error")return null;if(l.kind==="array"){if(i.kind==="array"&&(i.N===0&&i.itemType.kind==="value"||!oo(l.itemType,i.itemType))&&(typeof l.N!="number"||l.N===i.N))return null}else{if(l.kind===i.kind)return null;if(l.kind==="value"){for(const u of ya)if(!oo(u,i))return null}}return`Expected ${On(l)} but found ${On(i)} instead.`}function le(l,i){return i.some(u=>u.kind===l.kind)}function H(l,i){return i.some(u=>u==="null"?l===null:u==="array"?Array.isArray(l):u==="object"?l&&!Array.isArray(l)&&typeof l=="object":u===typeof l)}function K(l,i){return l.kind==="array"&&i.kind==="array"?l.itemType.kind===i.itemType.kind&&typeof l.N=="number":l.kind===i.kind}const re=.96422,ue=.82521,pe=4/29,we=6/29,ve=3*we*we,me=we*we*we,Te=Math.PI/180,We=180/Math.PI;function Ge(l){return(l%=360)<0&&(l+=360),l}function Xe([l,i,u,f]){let m,x;const w=Xt((.2225045*(l=Lt(l))+.7168786*(i=Lt(i))+.0606169*(u=Lt(u)))/1);l===i&&i===u?m=x=w:(m=Xt((.4360747*l+.3850649*i+.1430804*u)/re),x=Xt((.0139322*l+.0971045*i+.7141733*u)/ue));const S=116*w-16;return[S<0?0:S,500*(m-w),200*(w-x),f]}function Lt(l){return l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4)}function Xt(l){return l>me?Math.pow(l,1/3):l/ve+pe}function Et([l,i,u,f]){let m=(l+16)/116,x=isNaN(i)?m:m+i/500,w=isNaN(u)?m:m-u/200;return m=1*Kt(m),x=re*Kt(x),w=ue*Kt(w),[$t(3.1338561*x-1.6168667*m-.4906146*w),$t(-.9787684*x+1.9161415*m+.033454*w),$t(.0719453*x-.2289914*m+1.4052427*w),f]}function $t(l){return(l=l<=.00304?12.92*l:1.055*Math.pow(l,1/2.4)-.055)<0?0:l>1?1:l}function Kt(l){return l>we?l*l*l:ve*(l-pe)}function yn(l){return parseInt(l.padEnd(2,l),16)/255}function Rn(l,i){return ln(i?l/100:l,0,1)}function ln(l,i,u){return Math.min(Math.max(i,l),u)}function vn(l){return!l.some(Number.isNaN)}const vi={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class lt{constructor(i,u,f,m=1,x=!0){this.r=i,this.g=u,this.b=f,this.a=m,x||(this.r*=m,this.g*=m,this.b*=m,m||this.overwriteGetter("rgb",[i,u,f,m]))}static parse(i){if(i instanceof lt)return i;if(typeof i!="string")return;const u=function(f){if((f=f.toLowerCase().trim())==="transparent")return[0,0,0,0];const m=vi[f];if(m){const[w,S,I]=m;return[w/255,S/255,I/255,1]}if(f.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(f)){const w=f.length<6?1:2;let S=1;return[yn(f.slice(S,S+=w)),yn(f.slice(S,S+=w)),yn(f.slice(S,S+=w)),yn(f.slice(S,S+w)||"ff")]}if(f.startsWith("rgb")){const w=f.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(w){const[S,I,L,V,G,Z,Q,ee,ae,de,fe,Ce]=w,_e=[V||" ",Q||" ",de].join("");if(_e==="  "||_e==="  /"||_e===",,"||_e===",,,"){const Ie=[L,Z,ae].join(""),$e=Ie==="%%%"?100:Ie===""?255:0;if($e){const Ye=[ln(+I/$e,0,1),ln(+G/$e,0,1),ln(+ee/$e,0,1),fe?Rn(+fe,Ce):1];if(vn(Ye))return Ye}}return}}const x=f.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(x){const[w,S,I,L,V,G,Z,Q,ee]=x,ae=[I||" ",V||" ",Z].join("");if(ae==="  "||ae==="  /"||ae===",,"||ae===",,,"){const de=[+S,ln(+L,0,100),ln(+G,0,100),Q?Rn(+Q,ee):1];if(vn(de))return function([fe,Ce,_e,Ie]){function $e(Ye){const _t=(Ye+fe/30)%12,Ot=Ce*Math.min(_e,1-_e);return _e-Ot*Math.max(-1,Math.min(_t-3,9-_t,1))}return fe=Ge(fe),Ce/=100,_e/=100,[$e(0),$e(8),$e(4),Ie]}(de)}}}(i);return u?new lt(...u,!1):void 0}get rgb(){const{r:i,g:u,b:f,a:m}=this,x=m||1/0;return this.overwriteGetter("rgb",[i/x,u/x,f/x,m])}get hcl(){return this.overwriteGetter("hcl",function(i){const[u,f,m,x]=Xe(i),w=Math.sqrt(f*f+m*m);return[Math.round(1e4*w)?Ge(Math.atan2(m,f)*We):NaN,w,u,x]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Xe(this.rgb))}overwriteGetter(i,u){return Object.defineProperty(this,i,{value:u}),u}toString(){const[i,u,f,m]=this.rgb;return`rgba(${[i,u,f].map(x=>Math.round(255*x)).join(",")},${m})`}}lt.black=new lt(0,0,0,1),lt.white=new lt(1,1,1,1),lt.transparent=new lt(0,0,0,0),lt.red=new lt(1,0,0,1);class Tn{constructor(i,u,f){this.sensitivity=i?u?"variant":"case":u?"accent":"base",this.locale=f,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(i,u){return this.collator.compare(i,u)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class hi{constructor(i,u,f,m,x){this.text=i,this.image=u,this.scale=f,this.fontStack=m,this.textColor=x}}class Rr{constructor(i){this.sections=i}static fromString(i){return new Rr([new hi(i,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(i=>i.text.length!==0||i.image&&i.image.name.length!==0)}static factory(i){return i instanceof Rr?i:Rr.fromString(i)}toString(){return this.sections.length===0?"":this.sections.map(i=>i.text).join("")}}class so{constructor(i){this.values=i.slice()}static parse(i){if(i instanceof so)return i;if(typeof i=="number")return new so([i,i,i,i]);if(Array.isArray(i)&&!(i.length<1||i.length>4)){for(const u of i)if(typeof u!="number")return;switch(i.length){case 1:i=[i[0],i[0],i[0],i[0]];break;case 2:i=[i[0],i[1],i[0],i[1]];break;case 3:i=[i[0],i[1],i[2],i[1]]}return new so(i)}}toString(){return JSON.stringify(this.values)}}const _1=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class _i{constructor(i){this.values=i.slice()}static parse(i){if(i instanceof _i)return i;if(Array.isArray(i)&&!(i.length<1)&&i.length%2==0){for(let u=0;u<i.length;u+=2){const f=i[u],m=i[u+1];if(typeof f!="string"||!_1.has(f)||!Array.isArray(m)||m.length!==2||typeof m[0]!="number"||typeof m[1]!="number")return}return new _i(i)}}toString(){return JSON.stringify(this.values)}}class So{constructor(i){this.name=i.name,this.available=i.available}toString(){return this.name}static fromString(i){return i?new So({name:i,available:!1}):null}}function ey(l,i,u,f){return typeof l=="number"&&l>=0&&l<=255&&typeof i=="number"&&i>=0&&i<=255&&typeof u=="number"&&u>=0&&u<=255?f===void 0||typeof f=="number"&&f>=0&&f<=1?null:`Invalid rgba value [${[l,i,u,f].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof f=="number"?[l,i,u,f]:[l,i,u]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function _d(l){if(l===null||typeof l=="string"||typeof l=="boolean"||typeof l=="number"||l instanceof lt||l instanceof Tn||l instanceof Rr||l instanceof so||l instanceof _i||l instanceof So)return!0;if(Array.isArray(l)){for(const i of l)if(!_d(i))return!1;return!0}if(typeof l=="object"){for(const i in l)if(!_d(l[i]))return!1;return!0}return!1}function Ar(l){if(l===null)return Wt;if(typeof l=="string")return wt;if(typeof l=="boolean")return Tt;if(typeof l=="number")return je;if(l instanceof lt)return Bn;if(l instanceof Tn)return Li;if(l instanceof Rr)return io;if(l instanceof so)return Uo;if(l instanceof _i)return fs;if(l instanceof So)return $i;if(Array.isArray(l)){const i=l.length;let u;for(const f of l){const m=Ar(f);if(u){if(u===m)continue;u=Vt;break}u=m}return Xr(u||Vt,i)}return Pi}function va(l){const i=typeof l;return l===null?"":i==="string"||i==="number"||i==="boolean"?String(l):l instanceof lt||l instanceof Rr||l instanceof so||l instanceof _i||l instanceof So?l.toString():JSON.stringify(l)}class Ja{constructor(i,u){this.type=i,this.value=u}static parse(i,u){if(i.length!==2)return u.error(`'literal' expression requires exactly one argument, but found ${i.length-1} instead.`);if(!_d(i[1]))return u.error("invalid value");const f=i[1];let m=Ar(f);const x=u.expectedType;return m.kind!=="array"||m.N!==0||!x||x.kind!=="array"||typeof x.N=="number"&&x.N!==0||(m=x),new Ja(m,f)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Or{constructor(i){this.name="ExpressionEvaluationError",this.message=i}toJSON(){return this.message}}const xd={string:wt,number:je,boolean:Tt,object:Pi};class xi{constructor(i,u){this.type=i,this.args=u}static parse(i,u){if(i.length<2)return u.error("Expected at least one argument.");let f,m=1;const x=i[0];if(x==="array"){let S,I;if(i.length>2){const L=i[1];if(typeof L!="string"||!(L in xd)||L==="object")return u.error('The item type argument of "array" must be one of string, number, boolean',1);S=xd[L],m++}else S=Vt;if(i.length>3){if(i[2]!==null&&(typeof i[2]!="number"||i[2]<0||i[2]!==Math.floor(i[2])))return u.error('The length argument to "array" must be a positive integer literal',2);I=i[2],m++}f=Xr(S,I)}else{if(!xd[x])throw new Error(`Types doesn't contain name = ${x}`);f=xd[x]}const w=[];for(;m<i.length;m++){const S=u.parse(i[m],m,Vt);if(!S)return null;w.push(S)}return new xi(f,w)}evaluate(i){for(let u=0;u<this.args.length;u++){const f=this.args[u].evaluate(i);if(!oo(this.type,Ar(f)))return f;if(u===this.args.length-1)throw new Or(`Expected value to be of type ${On(this.type)}, but found ${On(Ar(f))} instead.`)}throw new Error}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}const bd={"to-boolean":Tt,"to-color":Bn,"to-number":je,"to-string":wt};class ps{constructor(i,u){this.type=i,this.args=u}static parse(i,u){if(i.length<2)return u.error("Expected at least one argument.");const f=i[0];if(!bd[f])throw new Error(`Can't parse ${f} as it is not part of the known types`);if((f==="to-boolean"||f==="to-string")&&i.length!==2)return u.error("Expected one argument.");const m=bd[f],x=[];for(let w=1;w<i.length;w++){const S=u.parse(i[w],w,Vt);if(!S)return null;x.push(S)}return new ps(m,x)}evaluate(i){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(i);case"color":{let u,f;for(const m of this.args){if(u=m.evaluate(i),f=null,u instanceof lt)return u;if(typeof u=="string"){const x=i.parseColor(u);if(x)return x}else if(Array.isArray(u)&&(f=u.length<3||u.length>4?`Invalid rbga value ${JSON.stringify(u)}: expected an array containing either three or four numeric values.`:ey(u[0],u[1],u[2],u[3]),!f))return new lt(u[0]/255,u[1]/255,u[2]/255,u[3])}throw new Or(f||`Could not parse color from value '${typeof u=="string"?u:JSON.stringify(u)}'`)}case"padding":{let u;for(const f of this.args){u=f.evaluate(i);const m=so.parse(u);if(m)return m}throw new Or(`Could not parse padding from value '${typeof u=="string"?u:JSON.stringify(u)}'`)}case"variableAnchorOffsetCollection":{let u;for(const f of this.args){u=f.evaluate(i);const m=_i.parse(u);if(m)return m}throw new Or(`Could not parse variableAnchorOffsetCollection from value '${typeof u=="string"?u:JSON.stringify(u)}'`)}case"number":{let u=null;for(const f of this.args){if(u=f.evaluate(i),u===null)return 0;const m=Number(u);if(!isNaN(m))return m}throw new Or(`Could not convert ${JSON.stringify(u)} to number.`)}case"formatted":return Rr.fromString(va(this.args[0].evaluate(i)));case"resolvedImage":return So.fromString(va(this.args[0].evaluate(i)));default:return va(this.args[0].evaluate(i))}}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}const lu=["Unknown","Point","LineString","Polygon"];class Dn{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?lu[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(i){let u=this._parseColorCache[i];return u||(u=this._parseColorCache[i]=lt.parse(i)),u}}class wd{constructor(i,u,f=[],m,x=new an,w=[]){this.registry=i,this.path=f,this.key=f.map(S=>`[${S}]`).join(""),this.scope=x,this.errors=w,this.expectedType=m,this._isConstant=u}parse(i,u,f,m,x={}){return u?this.concat(u,f,m)._parse(i,x):this._parse(i,x)}_parse(i,u){function f(m,x,w){return w==="assert"?new xi(x,[m]):w==="coerce"?new ps(x,[m]):m}if(i!==null&&typeof i!="string"&&typeof i!="boolean"&&typeof i!="number"||(i=["literal",i]),Array.isArray(i)){if(i.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const m=i[0];if(typeof m!="string")return this.error(`Expression name must be a string, but found ${typeof m} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const x=this.registry[m];if(x){let w=x.parse(i,this);if(!w)return null;if(this.expectedType){const S=this.expectedType,I=w.type;if(S.kind!=="string"&&S.kind!=="number"&&S.kind!=="boolean"&&S.kind!=="object"&&S.kind!=="array"||I.kind!=="value")if(S.kind!=="color"&&S.kind!=="formatted"&&S.kind!=="resolvedImage"||I.kind!=="value"&&I.kind!=="string")if(S.kind!=="padding"||I.kind!=="value"&&I.kind!=="number"&&I.kind!=="array")if(S.kind!=="variableAnchorOffsetCollection"||I.kind!=="value"&&I.kind!=="array"){if(this.checkSubtype(S,I))return null}else w=f(w,S,u.typeAnnotation||"coerce");else w=f(w,S,u.typeAnnotation||"coerce");else w=f(w,S,u.typeAnnotation||"coerce");else w=f(w,S,u.typeAnnotation||"assert")}if(!(w instanceof Ja)&&w.type.kind!=="resolvedImage"&&this._isConstant(w)){const S=new Dn;try{w=new Ja(w.type,w.evaluate(S))}catch(I){return this.error(I.message),null}}return w}return this.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(i===void 0?"'undefined' value invalid. Use null instead.":typeof i=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof i} instead.`)}concat(i,u,f){const m=typeof i=="number"?this.path.concat(i):this.path,x=f?this.scope.concat(f):this.scope;return new wd(this.registry,this._isConstant,m,u||null,x,this.errors)}error(i,...u){const f=`${this.key}${u.map(m=>`[${m}]`).join("")}`;this.errors.push(new Fn(f,i))}checkSubtype(i,u){const f=oo(i,u);return f&&this.error(f),f}}class Wl{constructor(i,u,f){this.type=Li,this.locale=f,this.caseSensitive=i,this.diacriticSensitive=u}static parse(i,u){if(i.length!==2)return u.error("Expected one argument.");const f=i[1];if(typeof f!="object"||Array.isArray(f))return u.error("Collator options argument must be an object.");const m=u.parse(f["case-sensitive"]!==void 0&&f["case-sensitive"],1,Tt);if(!m)return null;const x=u.parse(f["diacritic-sensitive"]!==void 0&&f["diacritic-sensitive"],1,Tt);if(!x)return null;let w=null;return f.locale&&(w=u.parse(f.locale,1,wt),!w)?null:new Wl(m,x,w)}evaluate(i){return new Tn(this.caseSensitive.evaluate(i),this.diacriticSensitive.evaluate(i),this.locale?this.locale.evaluate(i):null)}eachChild(i){i(this.caseSensitive),i(this.diacriticSensitive),this.locale&&i(this.locale)}outputDefined(){return!1}}const _a=8192;function Sd(l,i){l[0]=Math.min(l[0],i[0]),l[1]=Math.min(l[1],i[1]),l[2]=Math.max(l[2],i[0]),l[3]=Math.max(l[3],i[1])}function cu(l,i){return!(l[0]<=i[0]||l[2]>=i[2]||l[1]<=i[1]||l[3]>=i[3])}function x1(l,i){const u=(180+l[0])/360,f=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l[1]*Math.PI/360)))/360,m=Math.pow(2,i.z);return[Math.round(u*m*_a),Math.round(f*m*_a)]}function ty(l,i,u){const f=l[0]-i[0],m=l[1]-i[1],x=l[0]-u[0],w=l[1]-u[1];return f*w-x*m==0&&f*x<=0&&m*w<=0}function Cd(l,i){let u=!1;for(let w=0,S=i.length;w<S;w++){const I=i[w];for(let L=0,V=I.length;L<V-1;L++){if(ty(l,I[L],I[L+1]))return!1;(m=I[L])[1]>(f=l)[1]!=(x=I[L+1])[1]>f[1]&&f[0]<(x[0]-m[0])*(f[1]-m[1])/(x[1]-m[1])+m[0]&&(u=!u)}}var f,m,x;return u}function b1(l,i){for(let u=0;u<i.length;u++)if(Cd(l,i[u]))return!0;return!1}function ny(l,i,u,f){const m=f[0]-u[0],x=f[1]-u[1],w=(l[0]-u[0])*x-m*(l[1]-u[1]),S=(i[0]-u[0])*x-m*(i[1]-u[1]);return w>0&&S<0||w<0&&S>0}function w1(l,i,u){for(const L of u)for(let V=0;V<L.length-1;++V)if((S=[(w=L[V+1])[0]-(x=L[V])[0],w[1]-x[1]])[0]*(I=[(m=i)[0]-(f=l)[0],m[1]-f[1]])[1]-S[1]*I[0]!=0&&ny(f,m,x,w)&&ny(x,w,f,m))return!0;var f,m,x,w,S,I;return!1}function ry(l,i){for(let u=0;u<l.length;++u)if(!Cd(l[u],i))return!1;for(let u=0;u<l.length-1;++u)if(w1(l[u],l[u+1],i))return!1;return!0}function iy(l,i){for(let u=0;u<i.length;u++)if(ry(l,i[u]))return!0;return!1}function Td(l,i,u){const f=[];for(let m=0;m<l.length;m++){const x=[];for(let w=0;w<l[m].length;w++){const S=x1(l[m][w],u);Sd(i,S),x.push(S)}f.push(x)}return f}function oy(l,i,u){const f=[];for(let m=0;m<l.length;m++){const x=Td(l[m],i,u);f.push(x)}return f}function sy(l,i,u,f){if(l[0]<u[0]||l[0]>u[2]){const m=.5*f;let x=l[0]-u[0]>m?-f:u[0]-l[0]>m?f:0;x===0&&(x=l[0]-u[2]>m?-f:u[2]-l[0]>m?f:0),l[0]+=x}Sd(i,l)}function kd(l,i,u,f){const m=Math.pow(2,f.z)*_a,x=[f.x*_a,f.y*_a],w=[];for(const S of l)for(const I of S){const L=[I.x+x[0],I.y+x[1]];sy(L,i,u,m),w.push(L)}return w}function ay(l,i,u,f){const m=Math.pow(2,f.z)*_a,x=[f.x*_a,f.y*_a],w=[];for(const I of l){const L=[];for(const V of I){const G=[V.x+x[0],V.y+x[1]];Sd(i,G),L.push(G)}w.push(L)}if(i[2]-i[0]<=m/2){(S=i)[0]=S[1]=1/0,S[2]=S[3]=-1/0;for(const I of w)for(const L of I)sy(L,i,u,m)}var S;return w}class Qa{constructor(i,u){this.type=Tt,this.geojson=i,this.geometries=u}static parse(i,u){if(i.length!==2)return u.error(`'within' expression requires exactly one argument, but found ${i.length-1} instead.`);if(_d(i[1])){const f=i[1];if(f.type==="FeatureCollection")for(let m=0;m<f.features.length;++m){const x=f.features[m].geometry.type;if(x==="Polygon"||x==="MultiPolygon")return new Qa(f,f.features[m].geometry)}else if(f.type==="Feature"){const m=f.geometry.type;if(m==="Polygon"||m==="MultiPolygon")return new Qa(f,f.geometry)}else if(f.type==="Polygon"||f.type==="MultiPolygon")return new Qa(f,f)}return u.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(i){if(i.geometry()!=null&&i.canonicalID()!=null){if(i.geometryType()==="Point")return function(u,f){const m=[1/0,1/0,-1/0,-1/0],x=[1/0,1/0,-1/0,-1/0],w=u.canonicalID();if(f.type==="Polygon"){const S=Td(f.coordinates,x,w),I=kd(u.geometry(),m,x,w);if(!cu(m,x))return!1;for(const L of I)if(!Cd(L,S))return!1}if(f.type==="MultiPolygon"){const S=oy(f.coordinates,x,w),I=kd(u.geometry(),m,x,w);if(!cu(m,x))return!1;for(const L of I)if(!b1(L,S))return!1}return!0}(i,this.geometries);if(i.geometryType()==="LineString")return function(u,f){const m=[1/0,1/0,-1/0,-1/0],x=[1/0,1/0,-1/0,-1/0],w=u.canonicalID();if(f.type==="Polygon"){const S=Td(f.coordinates,x,w),I=ay(u.geometry(),m,x,w);if(!cu(m,x))return!1;for(const L of I)if(!ry(L,S))return!1}if(f.type==="MultiPolygon"){const S=oy(f.coordinates,x,w),I=ay(u.geometry(),m,x,w);if(!cu(m,x))return!1;for(const L of I)if(!iy(L,S))return!1}return!0}(i,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Ed{constructor(i,u){this.type=u.type,this.name=i,this.boundExpression=u}static parse(i,u){if(i.length!==2||typeof i[1]!="string")return u.error("'var' expression requires exactly one string literal argument.");const f=i[1];return u.scope.has(f)?new Ed(f,u.scope.get(f)):u.error(`Unknown variable "${f}". Make sure "${f}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(i){return this.boundExpression.evaluate(i)}eachChild(){}outputDefined(){return!1}}class ao{constructor(i,u,f,m){this.name=i,this.type=u,this._evaluate=f,this.args=m}evaluate(i){return this._evaluate(i,this.args)}eachChild(i){this.args.forEach(i)}outputDefined(){return!1}static parse(i,u){const f=i[0],m=ao.definitions[f];if(!m)return u.error(`Unknown expression "${f}". If you wanted a literal array, use ["literal", [...]].`,0);const x=Array.isArray(m)?m[0]:m.type,w=Array.isArray(m)?[[m[1],m[2]]]:m.overloads,S=w.filter(([L])=>!Array.isArray(L)||L.length===i.length-1);let I=null;for(const[L,V]of S){I=new wd(u.registry,uu,u.path,null,u.scope);const G=[];let Z=!1;for(let Q=1;Q<i.length;Q++){const ee=i[Q],ae=Array.isArray(L)?L[Q-1]:L.type,de=I.parse(ee,1+G.length,ae);if(!de){Z=!0;break}G.push(de)}if(!Z)if(Array.isArray(L)&&L.length!==G.length)I.error(`Expected ${L.length} arguments, but found ${G.length} instead.`);else{for(let Q=0;Q<G.length;Q++){const ee=Array.isArray(L)?L[Q]:L.type,ae=G[Q];I.concat(Q+1).checkSubtype(ee,ae.type)}if(I.errors.length===0)return new ao(f,x,V,G)}}if(S.length===1)u.errors.push(...I.errors);else{const L=(S.length?S:w).map(([G])=>{return Z=G,Array.isArray(Z)?`(${Z.map(On).join(", ")})`:`(${On(Z.type)}...)`;var Z}).join(" | "),V=[];for(let G=1;G<i.length;G++){const Z=u.parse(i[G],1+V.length);if(!Z)return null;V.push(On(Z.type))}u.error(`Expected arguments of type ${L}, but found (${V.join(", ")}) instead.`)}return null}static register(i,u){ao.definitions=u;for(const f in u)i[f]=ao}}function uu(l){if(l instanceof Ed)return uu(l.boundExpression);if(l instanceof ao&&l.name==="error"||l instanceof Wl||l instanceof Qa)return!1;const i=l instanceof ps||l instanceof xi;let u=!0;return l.eachChild(f=>{u=i?u&&uu(f):u&&f instanceof Ja}),!!u&&Pd(l)&&hu(l,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Pd(l){if(l instanceof ao&&(l.name==="get"&&l.args.length===1||l.name==="feature-state"||l.name==="has"&&l.args.length===1||l.name==="properties"||l.name==="geometry-type"||l.name==="id"||/^filter-/.test(l.name))||l instanceof Qa)return!1;let i=!0;return l.eachChild(u=>{i&&!Pd(u)&&(i=!1)}),i}function du(l){if(l instanceof ao&&l.name==="feature-state")return!1;let i=!0;return l.eachChild(u=>{i&&!du(u)&&(i=!1)}),i}function hu(l,i){if(l instanceof ao&&i.indexOf(l.name)>=0)return!1;let u=!0;return l.eachChild(f=>{u&&!hu(f,i)&&(u=!1)}),u}function fu(l,i){const u=l.length-1;let f,m,x=0,w=u,S=0;for(;x<=w;)if(S=Math.floor((x+w)/2),f=l[S],m=l[S+1],f<=i){if(S===u||i<m)return S;x=S+1}else{if(!(f>i))throw new Or("Input is not a number.");w=S-1}return 0}class pu{constructor(i,u,f){this.type=i,this.input=u,this.labels=[],this.outputs=[];for(const[m,x]of f)this.labels.push(m),this.outputs.push(x)}static parse(i,u){if(i.length-1<4)return u.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return u.error("Expected an even number of arguments.");const f=u.parse(i[1],1,je);if(!f)return null;const m=[];let x=null;u.expectedType&&u.expectedType.kind!=="value"&&(x=u.expectedType);for(let w=1;w<i.length;w+=2){const S=w===1?-1/0:i[w],I=i[w+1],L=w,V=w+1;if(typeof S!="number")return u.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',L);if(m.length&&m[m.length-1][0]>=S)return u.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',L);const G=u.parse(I,V,x);if(!G)return null;x=x||G.type,m.push([S,G])}return new pu(x,f,m)}evaluate(i){const u=this.labels,f=this.outputs;if(u.length===1)return f[0].evaluate(i);const m=this.input.evaluate(i);if(m<=u[0])return f[0].evaluate(i);const x=u.length;return m>=u[x-1]?f[x-1].evaluate(i):f[fu(u,m)].evaluate(i)}eachChild(i){i(this.input);for(const u of this.outputs)i(u)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}}function el(l,i,u){return l+u*(i-l)}function Id(l,i,u){return l.map((f,m)=>el(f,i[m],u))}const lo={number:el,color:function(l,i,u,f="rgb"){switch(f){case"rgb":{const[m,x,w,S]=Id(l.rgb,i.rgb,u);return new lt(m,x,w,S,!1)}case"hcl":{const[m,x,w,S]=l.hcl,[I,L,V,G]=i.hcl;let Z,Q;if(isNaN(m)||isNaN(I))isNaN(m)?isNaN(I)?Z=NaN:(Z=I,w!==1&&w!==0||(Q=L)):(Z=m,V!==1&&V!==0||(Q=x));else{let Ce=I-m;I>m&&Ce>180?Ce-=360:I<m&&m-I>180&&(Ce+=360),Z=m+u*Ce}const[ee,ae,de,fe]=function([Ce,_e,Ie,$e]){return Ce=isNaN(Ce)?0:Ce*Te,Et([Ie,Math.cos(Ce)*_e,Math.sin(Ce)*_e,$e])}([Z,Q??el(x,L,u),el(w,V,u),el(S,G,u)]);return new lt(ee,ae,de,fe,!1)}case"lab":{const[m,x,w,S]=Et(Id(l.lab,i.lab,u));return new lt(m,x,w,S,!1)}}},array:Id,padding:function(l,i,u){return new so(Id(l.values,i.values,u))},variableAnchorOffsetCollection:function(l,i,u){const f=l.values,m=i.values;if(f.length!==m.length)throw new Or(`Cannot interpolate values of different length. from: ${l.toString()}, to: ${i.toString()}`);const x=[];for(let w=0;w<f.length;w+=2){if(f[w]!==m[w])throw new Or(`Cannot interpolate values containing mismatched anchors. from[${w}]: ${f[w]}, to[${w}]: ${m[w]}`);x.push(f[w]);const[S,I]=f[w+1],[L,V]=m[w+1];x.push([el(S,L,u),el(I,V,u)])}return new _i(x)}};class co{constructor(i,u,f,m,x){this.type=i,this.operator=u,this.interpolation=f,this.input=m,this.labels=[],this.outputs=[];for(const[w,S]of x)this.labels.push(w),this.outputs.push(S)}static interpolationFactor(i,u,f,m){let x=0;if(i.name==="exponential")x=Zf(u,i.base,f,m);else if(i.name==="linear")x=Zf(u,1,f,m);else if(i.name==="cubic-bezier"){const w=i.controlPoints;x=new N(w[0],w[1],w[2],w[3]).solve(Zf(u,1,f,m))}return x}static parse(i,u){let[f,m,x,...w]=i;if(!Array.isArray(m)||m.length===0)return u.error("Expected an interpolation type expression.",1);if(m[0]==="linear")m={name:"linear"};else if(m[0]==="exponential"){const L=m[1];if(typeof L!="number")return u.error("Exponential interpolation requires a numeric base.",1,1);m={name:"exponential",base:L}}else{if(m[0]!=="cubic-bezier")return u.error(`Unknown interpolation type ${String(m[0])}`,1,0);{const L=m.slice(1);if(L.length!==4||L.some(V=>typeof V!="number"||V<0||V>1))return u.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);m={name:"cubic-bezier",controlPoints:L}}}if(i.length-1<4)return u.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return u.error("Expected an even number of arguments.");if(x=u.parse(x,2,je),!x)return null;const S=[];let I=null;f==="interpolate-hcl"||f==="interpolate-lab"?I=Bn:u.expectedType&&u.expectedType.kind!=="value"&&(I=u.expectedType);for(let L=0;L<w.length;L+=2){const V=w[L],G=w[L+1],Z=L+3,Q=L+4;if(typeof V!="number")return u.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Z);if(S.length&&S[S.length-1][0]>=V)return u.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Z);const ee=u.parse(G,Q,I);if(!ee)return null;I=I||ee.type,S.push([V,ee])}return K(I,je)||K(I,Bn)||K(I,Uo)||K(I,fs)||K(I,Xr(je))?new co(I,f,m,x,S):u.error(`Type ${On(I)} is not interpolatable.`)}evaluate(i){const u=this.labels,f=this.outputs;if(u.length===1)return f[0].evaluate(i);const m=this.input.evaluate(i);if(m<=u[0])return f[0].evaluate(i);const x=u.length;if(m>=u[x-1])return f[x-1].evaluate(i);const w=fu(u,m),S=co.interpolationFactor(this.interpolation,m,u[w],u[w+1]),I=f[w].evaluate(i),L=f[w+1].evaluate(i);switch(this.operator){case"interpolate":return lo[this.type.kind](I,L,S);case"interpolate-hcl":return lo.color(I,L,S,"hcl");case"interpolate-lab":return lo.color(I,L,S,"lab")}}eachChild(i){i(this.input);for(const u of this.outputs)i(u)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}}function Zf(l,i,u,f){const m=f-u,x=l-u;return m===0?0:i===1?x/m:(Math.pow(i,x)-1)/(Math.pow(i,m)-1)}class Md{constructor(i,u){this.type=i,this.args=u}static parse(i,u){if(i.length<2)return u.error("Expectected at least one argument.");let f=null;const m=u.expectedType;m&&m.kind!=="value"&&(f=m);const x=[];for(const S of i.slice(1)){const I=u.parse(S,1+x.length,f,void 0,{typeAnnotation:"omit"});if(!I)return null;f=f||I.type,x.push(I)}if(!f)throw new Error("No output type");const w=m&&x.some(S=>oo(m,S.type));return new Md(w?Vt:f,x)}evaluate(i){let u,f=null,m=0;for(const x of this.args)if(m++,f=x.evaluate(i),f&&f instanceof So&&!f.available&&(u||(u=f.name),f=null,m===this.args.length&&(f=u)),f!==null)break;return f}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}class ql{constructor(i,u){this.type=u.type,this.bindings=[].concat(i),this.result=u}evaluate(i){return this.result.evaluate(i)}eachChild(i){for(const u of this.bindings)i(u[1]);i(this.result)}static parse(i,u){if(i.length<4)return u.error(`Expected at least 3 arguments, but found ${i.length-1} instead.`);const f=[];for(let x=1;x<i.length-1;x+=2){const w=i[x];if(typeof w!="string")return u.error(`Expected string, but found ${typeof w} instead.`,x);if(/[^a-zA-Z0-9_]/.test(w))return u.error("Variable names must contain only alphanumeric characters or '_'.",x);const S=u.parse(i[x+1],x+1);if(!S)return null;f.push([w,S])}const m=u.parse(i[i.length-1],i.length-1,u.expectedType,f);return m?new ql(f,m):null}outputDefined(){return this.result.outputDefined()}}class Gl{constructor(i,u,f){this.type=i,this.index=u,this.input=f}static parse(i,u){if(i.length!==3)return u.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const f=u.parse(i[1],1,je),m=u.parse(i[2],2,Xr(u.expectedType||Vt));return f&&m?new Gl(m.type.itemType,f,m):null}evaluate(i){const u=this.index.evaluate(i),f=this.input.evaluate(i);if(u<0)throw new Or(`Array index out of bounds: ${u} < 0.`);if(u>=f.length)throw new Or(`Array index out of bounds: ${u} > ${f.length-1}.`);if(u!==Math.floor(u))throw new Or(`Array index must be an integer, but found ${u} instead.`);return f[u]}eachChild(i){i(this.index),i(this.input)}outputDefined(){return!1}}class kn{constructor(i,u){this.type=Tt,this.needle=i,this.haystack=u}static parse(i,u){if(i.length!==3)return u.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const f=u.parse(i[1],1,Vt),m=u.parse(i[2],2,Vt);return f&&m?le(f.type,[Tt,wt,je,Wt,Vt])?new kn(f,m):u.error(`Expected first argument to be of type boolean, string, number or null, but found ${On(f.type)} instead`):null}evaluate(i){const u=this.needle.evaluate(i),f=this.haystack.evaluate(i);if(!f)return!1;if(!H(u,["boolean","string","number","null"]))throw new Or(`Expected first argument to be of type boolean, string, number or null, but found ${On(Ar(u))} instead.`);if(!H(f,["string","array"]))throw new Or(`Expected second argument to be of type array or string, but found ${On(Ar(f))} instead.`);return f.indexOf(u)>=0}eachChild(i){i(this.needle),i(this.haystack)}outputDefined(){return!0}}class Rd{constructor(i,u,f){this.type=je,this.needle=i,this.haystack=u,this.fromIndex=f}static parse(i,u){if(i.length<=2||i.length>=5)return u.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const f=u.parse(i[1],1,Vt),m=u.parse(i[2],2,Vt);if(!f||!m)return null;if(!le(f.type,[Tt,wt,je,Wt,Vt]))return u.error(`Expected first argument to be of type boolean, string, number or null, but found ${On(f.type)} instead`);if(i.length===4){const x=u.parse(i[3],3,je);return x?new Rd(f,m,x):null}return new Rd(f,m)}evaluate(i){const u=this.needle.evaluate(i),f=this.haystack.evaluate(i);if(!H(u,["boolean","string","number","null"]))throw new Or(`Expected first argument to be of type boolean, string, number or null, but found ${On(Ar(u))} instead.`);if(!H(f,["string","array"]))throw new Or(`Expected second argument to be of type array or string, but found ${On(Ar(f))} instead.`);if(this.fromIndex){const m=this.fromIndex.evaluate(i);return f.indexOf(u,m)}return f.indexOf(u)}eachChild(i){i(this.needle),i(this.haystack),this.fromIndex&&i(this.fromIndex)}outputDefined(){return!1}}class Kf{constructor(i,u,f,m,x,w){this.inputType=i,this.type=u,this.input=f,this.cases=m,this.outputs=x,this.otherwise=w}static parse(i,u){if(i.length<5)return u.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if(i.length%2!=1)return u.error("Expected an even number of arguments.");let f,m;u.expectedType&&u.expectedType.kind!=="value"&&(m=u.expectedType);const x={},w=[];for(let L=2;L<i.length-1;L+=2){let V=i[L];const G=i[L+1];Array.isArray(V)||(V=[V]);const Z=u.concat(L);if(V.length===0)return Z.error("Expected at least one branch label.");for(const ee of V){if(typeof ee!="number"&&typeof ee!="string")return Z.error("Branch labels must be numbers or strings.");if(typeof ee=="number"&&Math.abs(ee)>Number.MAX_SAFE_INTEGER)return Z.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof ee=="number"&&Math.floor(ee)!==ee)return Z.error("Numeric branch labels must be integer values.");if(f){if(Z.checkSubtype(f,Ar(ee)))return null}else f=Ar(ee);if(x[String(ee)]!==void 0)return Z.error("Branch labels must be unique.");x[String(ee)]=w.length}const Q=u.parse(G,L,m);if(!Q)return null;m=m||Q.type,w.push(Q)}const S=u.parse(i[1],1,Vt);if(!S)return null;const I=u.parse(i[i.length-1],i.length-1,m);return I?S.type.kind!=="value"&&u.concat(1).checkSubtype(f,S.type)?null:new Kf(f,m,S,x,w,I):null}evaluate(i){const u=this.input.evaluate(i);return(Ar(u)===this.inputType&&this.outputs[this.cases[u]]||this.otherwise).evaluate(i)}eachChild(i){i(this.input),this.outputs.forEach(i),i(this.otherwise)}outputDefined(){return this.outputs.every(i=>i.outputDefined())&&this.otherwise.outputDefined()}}class Xf{constructor(i,u,f){this.type=i,this.branches=u,this.otherwise=f}static parse(i,u){if(i.length<4)return u.error(`Expected at least 3 arguments, but found only ${i.length-1}.`);if(i.length%2!=0)return u.error("Expected an odd number of arguments.");let f;u.expectedType&&u.expectedType.kind!=="value"&&(f=u.expectedType);const m=[];for(let w=1;w<i.length-1;w+=2){const S=u.parse(i[w],w,Tt);if(!S)return null;const I=u.parse(i[w+1],w+1,f);if(!I)return null;m.push([S,I]),f=f||I.type}const x=u.parse(i[i.length-1],i.length-1,f);if(!x)return null;if(!f)throw new Error("Can't infer output type");return new Xf(f,m,x)}evaluate(i){for(const[u,f]of this.branches)if(u.evaluate(i))return f.evaluate(i);return this.otherwise.evaluate(i)}eachChild(i){for(const[u,f]of this.branches)i(u),i(f);i(this.otherwise)}outputDefined(){return this.branches.every(([i,u])=>u.outputDefined())&&this.otherwise.outputDefined()}}class Ad{constructor(i,u,f,m){this.type=i,this.input=u,this.beginIndex=f,this.endIndex=m}static parse(i,u){if(i.length<=2||i.length>=5)return u.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const f=u.parse(i[1],1,Vt),m=u.parse(i[2],2,je);if(!f||!m)return null;if(!le(f.type,[Xr(Vt),wt,Vt]))return u.error(`Expected first argument to be of type array or string, but found ${On(f.type)} instead`);if(i.length===4){const x=u.parse(i[3],3,je);return x?new Ad(f.type,f,m,x):null}return new Ad(f.type,f,m)}evaluate(i){const u=this.input.evaluate(i),f=this.beginIndex.evaluate(i);if(!H(u,["string","array"]))throw new Or(`Expected first argument to be of type array or string, but found ${On(Ar(u))} instead.`);if(this.endIndex){const m=this.endIndex.evaluate(i);return u.slice(f,m)}return u.slice(f)}eachChild(i){i(this.input),i(this.beginIndex),this.endIndex&&i(this.endIndex)}outputDefined(){return!1}}function ly(l,i){return l==="=="||l==="!="?i.kind==="boolean"||i.kind==="string"||i.kind==="number"||i.kind==="null"||i.kind==="value":i.kind==="string"||i.kind==="number"||i.kind==="value"}function cy(l,i,u,f){return f.compare(i,u)===0}function Hl(l,i,u){const f=l!=="=="&&l!=="!=";return class $${constructor(x,w,S){this.type=Tt,this.lhs=x,this.rhs=w,this.collator=S,this.hasUntypedArgument=x.type.kind==="value"||w.type.kind==="value"}static parse(x,w){if(x.length!==3&&x.length!==4)return w.error("Expected two or three arguments.");const S=x[0];let I=w.parse(x[1],1,Vt);if(!I)return null;if(!ly(S,I.type))return w.concat(1).error(`"${S}" comparisons are not supported for type '${On(I.type)}'.`);let L=w.parse(x[2],2,Vt);if(!L)return null;if(!ly(S,L.type))return w.concat(2).error(`"${S}" comparisons are not supported for type '${On(L.type)}'.`);if(I.type.kind!==L.type.kind&&I.type.kind!=="value"&&L.type.kind!=="value")return w.error(`Cannot compare types '${On(I.type)}' and '${On(L.type)}'.`);f&&(I.type.kind==="value"&&L.type.kind!=="value"?I=new xi(L.type,[I]):I.type.kind!=="value"&&L.type.kind==="value"&&(L=new xi(I.type,[L])));let V=null;if(x.length===4){if(I.type.kind!=="string"&&L.type.kind!=="string"&&I.type.kind!=="value"&&L.type.kind!=="value")return w.error("Cannot use collator to compare non-string types.");if(V=w.parse(x[3],3,Li),!V)return null}return new $$(I,L,V)}evaluate(x){const w=this.lhs.evaluate(x),S=this.rhs.evaluate(x);if(f&&this.hasUntypedArgument){const I=Ar(w),L=Ar(S);if(I.kind!==L.kind||I.kind!=="string"&&I.kind!=="number")throw new Or(`Expected arguments for "${l}" to be (string, string) or (number, number), but found (${I.kind}, ${L.kind}) instead.`)}if(this.collator&&!f&&this.hasUntypedArgument){const I=Ar(w),L=Ar(S);if(I.kind!=="string"||L.kind!=="string")return i(x,w,S)}return this.collator?u(x,w,S,this.collator.evaluate(x)):i(x,w,S)}eachChild(x){x(this.lhs),x(this.rhs),this.collator&&x(this.collator)}outputDefined(){return!0}}}const S1=Hl("==",function(l,i,u){return i===u},cy),C1=Hl("!=",function(l,i,u){return i!==u},function(l,i,u,f){return!cy(0,i,u,f)}),T1=Hl("<",function(l,i,u){return i<u},function(l,i,u,f){return f.compare(i,u)<0}),k1=Hl(">",function(l,i,u){return i>u},function(l,i,u,f){return f.compare(i,u)>0}),E1=Hl("<=",function(l,i,u){return i<=u},function(l,i,u,f){return f.compare(i,u)<=0}),P1=Hl(">=",function(l,i,u){return i>=u},function(l,i,u,f){return f.compare(i,u)>=0});class Jf{constructor(i,u,f,m,x){this.type=wt,this.number=i,this.locale=u,this.currency=f,this.minFractionDigits=m,this.maxFractionDigits=x}static parse(i,u){if(i.length!==3)return u.error("Expected two arguments.");const f=u.parse(i[1],1,je);if(!f)return null;const m=i[2];if(typeof m!="object"||Array.isArray(m))return u.error("NumberFormat options argument must be an object.");let x=null;if(m.locale&&(x=u.parse(m.locale,1,wt),!x))return null;let w=null;if(m.currency&&(w=u.parse(m.currency,1,wt),!w))return null;let S=null;if(m["min-fraction-digits"]&&(S=u.parse(m["min-fraction-digits"],1,je),!S))return null;let I=null;return m["max-fraction-digits"]&&(I=u.parse(m["max-fraction-digits"],1,je),!I)?null:new Jf(f,x,w,S,I)}evaluate(i){return new Intl.NumberFormat(this.locale?this.locale.evaluate(i):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(i):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(i):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(i):void 0}).format(this.number.evaluate(i))}eachChild(i){i(this.number),this.locale&&i(this.locale),this.currency&&i(this.currency),this.minFractionDigits&&i(this.minFractionDigits),this.maxFractionDigits&&i(this.maxFractionDigits)}outputDefined(){return!1}}class Od{constructor(i){this.type=io,this.sections=i}static parse(i,u){if(i.length<2)return u.error("Expected at least one argument.");const f=i[1];if(!Array.isArray(f)&&typeof f=="object")return u.error("First argument must be an image or text section.");const m=[];let x=!1;for(let w=1;w<=i.length-1;++w){const S=i[w];if(x&&typeof S=="object"&&!Array.isArray(S)){x=!1;let I=null;if(S["font-scale"]&&(I=u.parse(S["font-scale"],1,je),!I))return null;let L=null;if(S["text-font"]&&(L=u.parse(S["text-font"],1,Xr(wt)),!L))return null;let V=null;if(S["text-color"]&&(V=u.parse(S["text-color"],1,Bn),!V))return null;const G=m[m.length-1];G.scale=I,G.font=L,G.textColor=V}else{const I=u.parse(i[w],1,Vt);if(!I)return null;const L=I.type.kind;if(L!=="string"&&L!=="value"&&L!=="null"&&L!=="resolvedImage")return u.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");x=!0,m.push({content:I,scale:null,font:null,textColor:null})}}return new Od(m)}evaluate(i){return new Rr(this.sections.map(u=>{const f=u.content.evaluate(i);return Ar(f)===$i?new hi("",f,null,null,null):new hi(va(f),null,u.scale?u.scale.evaluate(i):null,u.font?u.font.evaluate(i).join(","):null,u.textColor?u.textColor.evaluate(i):null)}))}eachChild(i){for(const u of this.sections)i(u.content),u.scale&&i(u.scale),u.font&&i(u.font),u.textColor&&i(u.textColor)}outputDefined(){return!1}}class Qf{constructor(i){this.type=$i,this.input=i}static parse(i,u){if(i.length!==2)return u.error("Expected two arguments.");const f=u.parse(i[1],1,wt);return f?new Qf(f):u.error("No image name provided.")}evaluate(i){const u=this.input.evaluate(i),f=So.fromString(u);return f&&i.availableImages&&(f.available=i.availableImages.indexOf(u)>-1),f}eachChild(i){i(this.input)}outputDefined(){return!1}}class ep{constructor(i){this.type=je,this.input=i}static parse(i,u){if(i.length!==2)return u.error(`Expected 1 argument, but found ${i.length-1} instead.`);const f=u.parse(i[1],1);return f?f.type.kind!=="array"&&f.type.kind!=="string"&&f.type.kind!=="value"?u.error(`Expected argument of type string or array, but found ${On(f.type)} instead.`):new ep(f):null}evaluate(i){const u=this.input.evaluate(i);if(typeof u=="string"||Array.isArray(u))return u.length;throw new Or(`Expected value to be of type string or array, but found ${On(Ar(u))} instead.`)}eachChild(i){i(this.input)}outputDefined(){return!1}}const Yl={"==":S1,"!=":C1,">":k1,"<":T1,">=":P1,"<=":E1,array:xi,at:Gl,boolean:xi,case:Xf,coalesce:Md,collator:Wl,format:Od,image:Qf,in:kn,"index-of":Rd,interpolate:co,"interpolate-hcl":co,"interpolate-lab":co,length:ep,let:ql,literal:Ja,match:Kf,number:xi,"number-format":Jf,object:xi,slice:Ad,step:pu,string:xi,"to-boolean":ps,"to-color":ps,"to-number":ps,"to-string":ps,var:Ed,within:Qa};function uy(l,[i,u,f,m]){i=i.evaluate(l),u=u.evaluate(l),f=f.evaluate(l);const x=m?m.evaluate(l):1,w=ey(i,u,f,x);if(w)throw new Or(w);return new lt(i/255,u/255,f/255,x,!1)}function dy(l,i){return l in i}function tp(l,i){const u=i[l];return u===void 0?null:u}function tl(l){return{type:l}}function hy(l){return{result:"success",value:l}}function Zl(l){return{result:"error",value:l}}function Kl(l){return l["property-type"]==="data-driven"||l["property-type"]==="cross-faded-data-driven"}function fy(l){return!!l.expression&&l.expression.parameters.indexOf("zoom")>-1}function np(l){return!!l.expression&&l.expression.interpolated}function In(l){return l instanceof Number?"number":l instanceof String?"string":l instanceof Boolean?"boolean":Array.isArray(l)?"array":l===null?"null":typeof l}function Dd(l){return typeof l=="object"&&l!==null&&!Array.isArray(l)}function I1(l){return l}function py(l,i){const u=i.type==="color",f=l.stops&&typeof l.stops[0][0]=="object",m=f||!(f||l.property!==void 0),x=l.type||(np(i)?"exponential":"interval");if(u||i.type==="padding"){const V=u?lt.parse:so.parse;(l=bn({},l)).stops&&(l.stops=l.stops.map(G=>[G[0],V(G[1])])),l.default=V(l.default?l.default:i.default)}if(l.colorSpace&&(w=l.colorSpace)!=="rgb"&&w!=="hcl"&&w!=="lab")throw new Error(`Unknown color space: "${l.colorSpace}"`);var w;let S,I,L;if(x==="exponential")S=my;else if(x==="interval")S=R1;else if(x==="categorical"){S=M1,I=Object.create(null);for(const V of l.stops)I[V[0]]=V[1];L=typeof l.stops[0][0]}else{if(x!=="identity")throw new Error(`Unknown function type "${x}"`);S=A1}if(f){const V={},G=[];for(let ee=0;ee<l.stops.length;ee++){const ae=l.stops[ee],de=ae[0].zoom;V[de]===void 0&&(V[de]={zoom:de,type:l.type,property:l.property,default:l.default,stops:[]},G.push(de)),V[de].stops.push([ae[0].value,ae[1]])}const Z=[];for(const ee of G)Z.push([V[ee].zoom,py(V[ee],i)]);const Q={name:"linear"};return{kind:"composite",interpolationType:Q,interpolationFactor:co.interpolationFactor.bind(void 0,Q),zoomStops:Z.map(ee=>ee[0]),evaluate:({zoom:ee},ae)=>my({stops:Z,base:l.base},i,ee).evaluate(ee,ae)}}if(m){const V=x==="exponential"?{name:"exponential",base:l.base!==void 0?l.base:1}:null;return{kind:"camera",interpolationType:V,interpolationFactor:co.interpolationFactor.bind(void 0,V),zoomStops:l.stops.map(G=>G[0]),evaluate:({zoom:G})=>S(l,i,G,I,L)}}return{kind:"source",evaluate(V,G){const Z=G&&G.properties?G.properties[l.property]:void 0;return Z===void 0?nl(l.default,i.default):S(l,i,Z,I,L)}}}function nl(l,i,u){return l!==void 0?l:i!==void 0?i:u!==void 0?u:void 0}function M1(l,i,u,f,m){return nl(typeof u===m?f[u]:void 0,l.default,i.default)}function R1(l,i,u){if(In(u)!=="number")return nl(l.default,i.default);const f=l.stops.length;if(f===1||u<=l.stops[0][0])return l.stops[0][1];if(u>=l.stops[f-1][0])return l.stops[f-1][1];const m=fu(l.stops.map(x=>x[0]),u);return l.stops[m][1]}function my(l,i,u){const f=l.base!==void 0?l.base:1;if(In(u)!=="number")return nl(l.default,i.default);const m=l.stops.length;if(m===1||u<=l.stops[0][0])return l.stops[0][1];if(u>=l.stops[m-1][0])return l.stops[m-1][1];const x=fu(l.stops.map(V=>V[0]),u),w=function(V,G,Z,Q){const ee=Q-Z,ae=V-Z;return ee===0?0:G===1?ae/ee:(Math.pow(G,ae)-1)/(Math.pow(G,ee)-1)}(u,f,l.stops[x][0],l.stops[x+1][0]),S=l.stops[x][1],I=l.stops[x+1][1],L=lo[i.type]||I1;return typeof S.evaluate=="function"?{evaluate(...V){const G=S.evaluate.apply(void 0,V),Z=I.evaluate.apply(void 0,V);if(G!==void 0&&Z!==void 0)return L(G,Z,w,l.colorSpace)}}:L(S,I,w,l.colorSpace)}function A1(l,i,u){switch(i.type){case"color":u=lt.parse(u);break;case"formatted":u=Rr.fromString(u.toString());break;case"resolvedImage":u=So.fromString(u.toString());break;case"padding":u=so.parse(u);break;default:In(u)===i.type||i.type==="enum"&&i.values[u]||(u=void 0)}return nl(u,l.default,i.default)}ao.register(Yl,{error:[{kind:"error"},[wt],(l,[i])=>{throw new Or(i.evaluate(l))}],typeof:[wt,[Vt],(l,[i])=>On(Ar(i.evaluate(l)))],"to-rgba":[Xr(je,4),[Bn],(l,[i])=>{const[u,f,m,x]=i.evaluate(l).rgb;return[255*u,255*f,255*m,x]}],rgb:[Bn,[je,je,je],uy],rgba:[Bn,[je,je,je,je],uy],has:{type:Tt,overloads:[[[wt],(l,[i])=>dy(i.evaluate(l),l.properties())],[[wt,Pi],(l,[i,u])=>dy(i.evaluate(l),u.evaluate(l))]]},get:{type:Vt,overloads:[[[wt],(l,[i])=>tp(i.evaluate(l),l.properties())],[[wt,Pi],(l,[i,u])=>tp(i.evaluate(l),u.evaluate(l))]]},"feature-state":[Vt,[wt],(l,[i])=>tp(i.evaluate(l),l.featureState||{})],properties:[Pi,[],l=>l.properties()],"geometry-type":[wt,[],l=>l.geometryType()],id:[Vt,[],l=>l.id()],zoom:[je,[],l=>l.globals.zoom],"heatmap-density":[je,[],l=>l.globals.heatmapDensity||0],"line-progress":[je,[],l=>l.globals.lineProgress||0],accumulated:[Vt,[],l=>l.globals.accumulated===void 0?null:l.globals.accumulated],"+":[je,tl(je),(l,i)=>{let u=0;for(const f of i)u+=f.evaluate(l);return u}],"*":[je,tl(je),(l,i)=>{let u=1;for(const f of i)u*=f.evaluate(l);return u}],"-":{type:je,overloads:[[[je,je],(l,[i,u])=>i.evaluate(l)-u.evaluate(l)],[[je],(l,[i])=>-i.evaluate(l)]]},"/":[je,[je,je],(l,[i,u])=>i.evaluate(l)/u.evaluate(l)],"%":[je,[je,je],(l,[i,u])=>i.evaluate(l)%u.evaluate(l)],ln2:[je,[],()=>Math.LN2],pi:[je,[],()=>Math.PI],e:[je,[],()=>Math.E],"^":[je,[je,je],(l,[i,u])=>Math.pow(i.evaluate(l),u.evaluate(l))],sqrt:[je,[je],(l,[i])=>Math.sqrt(i.evaluate(l))],log10:[je,[je],(l,[i])=>Math.log(i.evaluate(l))/Math.LN10],ln:[je,[je],(l,[i])=>Math.log(i.evaluate(l))],log2:[je,[je],(l,[i])=>Math.log(i.evaluate(l))/Math.LN2],sin:[je,[je],(l,[i])=>Math.sin(i.evaluate(l))],cos:[je,[je],(l,[i])=>Math.cos(i.evaluate(l))],tan:[je,[je],(l,[i])=>Math.tan(i.evaluate(l))],asin:[je,[je],(l,[i])=>Math.asin(i.evaluate(l))],acos:[je,[je],(l,[i])=>Math.acos(i.evaluate(l))],atan:[je,[je],(l,[i])=>Math.atan(i.evaluate(l))],min:[je,tl(je),(l,i)=>Math.min(...i.map(u=>u.evaluate(l)))],max:[je,tl(je),(l,i)=>Math.max(...i.map(u=>u.evaluate(l)))],abs:[je,[je],(l,[i])=>Math.abs(i.evaluate(l))],round:[je,[je],(l,[i])=>{const u=i.evaluate(l);return u<0?-Math.round(-u):Math.round(u)}],floor:[je,[je],(l,[i])=>Math.floor(i.evaluate(l))],ceil:[je,[je],(l,[i])=>Math.ceil(i.evaluate(l))],"filter-==":[Tt,[wt,Vt],(l,[i,u])=>l.properties()[i.value]===u.value],"filter-id-==":[Tt,[Vt],(l,[i])=>l.id()===i.value],"filter-type-==":[Tt,[wt],(l,[i])=>l.geometryType()===i.value],"filter-<":[Tt,[wt,Vt],(l,[i,u])=>{const f=l.properties()[i.value],m=u.value;return typeof f==typeof m&&f<m}],"filter-id-<":[Tt,[Vt],(l,[i])=>{const u=l.id(),f=i.value;return typeof u==typeof f&&u<f}],"filter->":[Tt,[wt,Vt],(l,[i,u])=>{const f=l.properties()[i.value],m=u.value;return typeof f==typeof m&&f>m}],"filter-id->":[Tt,[Vt],(l,[i])=>{const u=l.id(),f=i.value;return typeof u==typeof f&&u>f}],"filter-<=":[Tt,[wt,Vt],(l,[i,u])=>{const f=l.properties()[i.value],m=u.value;return typeof f==typeof m&&f<=m}],"filter-id-<=":[Tt,[Vt],(l,[i])=>{const u=l.id(),f=i.value;return typeof u==typeof f&&u<=f}],"filter->=":[Tt,[wt,Vt],(l,[i,u])=>{const f=l.properties()[i.value],m=u.value;return typeof f==typeof m&&f>=m}],"filter-id->=":[Tt,[Vt],(l,[i])=>{const u=l.id(),f=i.value;return typeof u==typeof f&&u>=f}],"filter-has":[Tt,[Vt],(l,[i])=>i.value in l.properties()],"filter-has-id":[Tt,[],l=>l.id()!==null&&l.id()!==void 0],"filter-type-in":[Tt,[Xr(wt)],(l,[i])=>i.value.indexOf(l.geometryType())>=0],"filter-id-in":[Tt,[Xr(Vt)],(l,[i])=>i.value.indexOf(l.id())>=0],"filter-in-small":[Tt,[wt,Xr(Vt)],(l,[i,u])=>u.value.indexOf(l.properties()[i.value])>=0],"filter-in-large":[Tt,[wt,Xr(Vt)],(l,[i,u])=>function(f,m,x,w){for(;x<=w;){const S=x+w>>1;if(m[S]===f)return!0;m[S]>f?w=S-1:x=S+1}return!1}(l.properties()[i.value],u.value,0,u.value.length-1)],all:{type:Tt,overloads:[[[Tt,Tt],(l,[i,u])=>i.evaluate(l)&&u.evaluate(l)],[tl(Tt),(l,i)=>{for(const u of i)if(!u.evaluate(l))return!1;return!0}]]},any:{type:Tt,overloads:[[[Tt,Tt],(l,[i,u])=>i.evaluate(l)||u.evaluate(l)],[tl(Tt),(l,i)=>{for(const u of i)if(u.evaluate(l))return!0;return!1}]]},"!":[Tt,[Tt],(l,[i])=>!i.evaluate(l)],"is-supported-script":[Tt,[wt],(l,[i])=>{const u=l.globals&&l.globals.isSupportedScript;return!u||u(i.evaluate(l))}],upcase:[wt,[wt],(l,[i])=>i.evaluate(l).toUpperCase()],downcase:[wt,[wt],(l,[i])=>i.evaluate(l).toLowerCase()],concat:[wt,tl(Vt),(l,i)=>i.map(u=>va(u.evaluate(l))).join("")],"resolved-locale":[wt,[Li],(l,[i])=>i.evaluate(l).resolvedLocale()]});class hr{constructor(i,u){var f;this.expression=i,this._warningHistory={},this._evaluator=new Dn,this._defaultValue=u?(f=u).type==="color"&&Dd(f.default)?new lt(0,0,0,0):f.type==="color"?lt.parse(f.default)||null:f.type==="padding"?so.parse(f.default)||null:f.type==="variableAnchorOffsetCollection"?_i.parse(f.default)||null:f.default===void 0?null:f.default:null,this._enumValues=u&&u.type==="enum"?u.values:null}evaluateWithoutErrorHandling(i,u,f,m,x,w){return this._evaluator.globals=i,this._evaluator.feature=u,this._evaluator.featureState=f,this._evaluator.canonical=m,this._evaluator.availableImages=x||null,this._evaluator.formattedSection=w,this.expression.evaluate(this._evaluator)}evaluate(i,u,f,m,x,w){this._evaluator.globals=i,this._evaluator.feature=u||null,this._evaluator.featureState=f||null,this._evaluator.canonical=m,this._evaluator.availableImages=x||null,this._evaluator.formattedSection=w||null;try{const S=this.expression.evaluate(this._evaluator);if(S==null||typeof S=="number"&&S!=S)return this._defaultValue;if(this._enumValues&&!(S in this._enumValues))throw new Or(`Expected value to be one of ${Object.keys(this._enumValues).map(I=>JSON.stringify(I)).join(", ")}, but found ${JSON.stringify(S)} instead.`);return S}catch(S){return this._warningHistory[S.message]||(this._warningHistory[S.message]=!0,typeof console<"u"&&console.warn(S.message)),this._defaultValue}}}function zd(l){return Array.isArray(l)&&l.length>0&&typeof l[0]=="string"&&l[0]in Yl}function dn(l,i){const u=new wd(Yl,uu,[],i?function(m){const x={color:Bn,string:wt,number:je,enum:wt,boolean:Tt,formatted:io,padding:Uo,resolvedImage:$i,variableAnchorOffsetCollection:fs};return m.type==="array"?Xr(x[m.value]||Vt,m.length):x[m.type]}(i):void 0),f=u.parse(l,void 0,void 0,void 0,i&&i.type==="string"?{typeAnnotation:"coerce"}:void 0);return f?hy(new hr(f,i)):Zl(u.errors)}class mu{constructor(i,u){this.kind=i,this._styleExpression=u,this.isStateDependent=i!=="constant"&&!du(u.expression)}evaluateWithoutErrorHandling(i,u,f,m,x,w){return this._styleExpression.evaluateWithoutErrorHandling(i,u,f,m,x,w)}evaluate(i,u,f,m,x,w){return this._styleExpression.evaluate(i,u,f,m,x,w)}}class Qn{constructor(i,u,f,m){this.kind=i,this.zoomStops=f,this._styleExpression=u,this.isStateDependent=i!=="camera"&&!du(u.expression),this.interpolationType=m}evaluateWithoutErrorHandling(i,u,f,m,x,w){return this._styleExpression.evaluateWithoutErrorHandling(i,u,f,m,x,w)}evaluate(i,u,f,m,x,w){return this._styleExpression.evaluate(i,u,f,m,x,w)}interpolationFactor(i,u,f){return this.interpolationType?co.interpolationFactor(this.interpolationType,i,u,f):0}}function er(l,i){const u=dn(l,i);if(u.result==="error")return u;const f=u.value.expression,m=Pd(f);if(!m&&!Kl(i))return Zl([new Fn("","data expressions not supported")]);const x=hu(f,["zoom"]);if(!x&&!fy(i))return Zl([new Fn("","zoom expressions not supported")]);const w=gu(f);return w||x?w instanceof Fn?Zl([w]):w instanceof co&&!np(i)?Zl([new Fn("",'"interpolate" expressions cannot be used with this property')]):hy(w?new Qn(m?"camera":"composite",u.value,w.labels,w instanceof co?w.interpolation:void 0):new mu(m?"constant":"source",u.value)):Zl([new Fn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class rl{constructor(i,u){this._parameters=i,this._specification=u,bn(this,py(this._parameters,this._specification))}static deserialize(i){return new rl(i._parameters,i._specification)}static serialize(i){return{_parameters:i._parameters,_specification:i._specification}}}function gu(l){let i=null;if(l instanceof ql)i=gu(l.result);else if(l instanceof Md){for(const u of l.args)if(i=gu(u),i)break}else(l instanceof pu||l instanceof co)&&l.input instanceof ao&&l.input.name==="zoom"&&(i=l);return i instanceof Fn||l.eachChild(u=>{const f=gu(u);f instanceof Fn?i=f:!i&&f?i=new Fn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):i&&f&&i!==f&&(i=new Fn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),i}function rp(l){if(l===!0||l===!1)return!0;if(!Array.isArray(l)||l.length===0)return!1;switch(l[0]){case"has":return l.length>=2&&l[1]!=="$id"&&l[1]!=="$type";case"in":return l.length>=3&&(typeof l[1]!="string"||Array.isArray(l[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return l.length!==3||Array.isArray(l[1])||Array.isArray(l[2]);case"any":case"all":for(const i of l.slice(1))if(!rp(i)&&typeof i!="boolean")return!1;return!0;default:return!0}}const O1={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function ip(l){if(l==null)return{filter:()=>!0,needGeometry:!1};rp(l)||(l=yu(l));const i=dn(l,O1);if(i.result==="error")throw new Error(i.value.map(u=>`${u.key}: ${u.message}`).join(", "));return{filter:(u,f,m)=>i.value.evaluate(u,f,{},m),needGeometry:op(l)}}function D1(l,i){return l<i?-1:l>i?1:0}function op(l){if(!Array.isArray(l))return!1;if(l[0]==="within")return!0;for(let i=1;i<l.length;i++)if(op(l[i]))return!0;return!1}function yu(l){if(!l)return!0;const i=l[0];return l.length<=1?i!=="any":i==="=="?Ld(l[1],l[2],"=="):i==="!="?Nd(Ld(l[1],l[2],"==")):i==="<"||i===">"||i==="<="||i===">="?Ld(l[1],l[2],i):i==="any"?(u=l.slice(1),["any"].concat(u.map(yu))):i==="all"?["all"].concat(l.slice(1).map(yu)):i==="none"?["all"].concat(l.slice(1).map(yu).map(Nd)):i==="in"?sp(l[1],l.slice(2)):i==="!in"?Nd(sp(l[1],l.slice(2))):i==="has"?$d(l[1]):i==="!has"?Nd($d(l[1])):i!=="within"||l;var u}function Ld(l,i,u){switch(l){case"$type":return[`filter-type-${u}`,i];case"$id":return[`filter-id-${u}`,i];default:return[`filter-${u}`,l,i]}}function sp(l,i){if(i.length===0)return!1;switch(l){case"$type":return["filter-type-in",["literal",i]];case"$id":return["filter-id-in",["literal",i]];default:return i.length>200&&!i.some(u=>typeof u!=typeof i[0])?["filter-in-large",l,["literal",i.sort(D1)]]:["filter-in-small",l,["literal",i]]}}function $d(l){switch(l){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",l]}}function Nd(l){return["!",l]}function ap(l){const i=typeof l;if(i==="number"||i==="boolean"||i==="string"||l==null)return JSON.stringify(l);if(Array.isArray(l)){let m="[";for(const x of l)m+=`${ap(x)},`;return`${m}]`}const u=Object.keys(l).sort();let f="{";for(let m=0;m<u.length;m++)f+=`${JSON.stringify(u[m])}:${ap(l[u[m]])},`;return`${f}}`}function z1(l){let i="";for(const u of rn)i+=`/${ap(l[u])}`;return i}function gy(l){const i=l.value;return i?[new nt(l.key,i,"constants have been deprecated as of v8")]:[]}function Dr(l){return l instanceof Number||l instanceof String||l instanceof Boolean?l.valueOf():l}function il(l){if(Array.isArray(l))return l.map(il);if(l instanceof Object&&!(l instanceof Number||l instanceof String||l instanceof Boolean)){const i={};for(const u in l)i[u]=il(l[u]);return i}return Dr(l)}function Co(l){const i=l.key,u=l.value,f=l.valueSpec||{},m=l.objectElementValidators||{},x=l.style,w=l.styleSpec,S=l.validateSpec;let I=[];const L=In(u);if(L!=="object")return[new nt(i,u,`object expected, ${L} found`)];for(const V in u){const G=V.split(".")[0],Z=f[G]||f["*"];let Q;if(m[G])Q=m[G];else if(f[G])Q=S;else if(m["*"])Q=m["*"];else{if(!f["*"]){I.push(new nt(i,u[V],`unknown property "${V}"`));continue}Q=S}I=I.concat(Q({key:(i&&`${i}.`)+V,value:u[V],valueSpec:Z,style:x,styleSpec:w,object:u,objectKey:V,validateSpec:S},u))}for(const V in f)m[V]||f[V].required&&f[V].default===void 0&&u[V]===void 0&&I.push(new nt(i,u,`missing required property "${V}"`));return I}function lp(l){const i=l.value,u=l.valueSpec,f=l.style,m=l.styleSpec,x=l.key,w=l.arrayElementValidator||l.validateSpec;if(In(i)!=="array")return[new nt(x,i,`array expected, ${In(i)} found`)];if(u.length&&i.length!==u.length)return[new nt(x,i,`array length ${u.length} expected, length ${i.length} found`)];if(u["min-length"]&&i.length<u["min-length"])return[new nt(x,i,`array length at least ${u["min-length"]} expected, length ${i.length} found`)];let S={type:u.value,values:u.values};m.$version<7&&(S.function=u.function),In(u.value)==="object"&&(S=u.value);let I=[];for(let L=0;L<i.length;L++)I=I.concat(w({array:i,arrayIndex:L,value:i[L],valueSpec:S,validateSpec:l.validateSpec,style:f,styleSpec:m,key:`${x}[${L}]`}));return I}function Fd(l){const i=l.key,u=l.value,f=l.valueSpec;let m=In(u);return m==="number"&&u!=u&&(m="NaN"),m!=="number"?[new nt(i,u,`number expected, ${m} found`)]:"minimum"in f&&u<f.minimum?[new nt(i,u,`${u} is less than the minimum value ${f.minimum}`)]:"maximum"in f&&u>f.maximum?[new nt(i,u,`${u} is greater than the maximum value ${f.maximum}`)]:[]}function cp(l){const i=l.valueSpec,u=Dr(l.value.type);let f,m,x,w={};const S=u!=="categorical"&&l.value.property===void 0,I=!S,L=In(l.value.stops)==="array"&&In(l.value.stops[0])==="array"&&In(l.value.stops[0][0])==="object",V=Co({key:l.key,value:l.value,valueSpec:l.styleSpec.function,validateSpec:l.validateSpec,style:l.style,styleSpec:l.styleSpec,objectElementValidators:{stops:function(Q){if(u==="identity")return[new nt(Q.key,Q.value,'identity function may not have a "stops" property')];let ee=[];const ae=Q.value;return ee=ee.concat(lp({key:Q.key,value:ae,valueSpec:Q.valueSpec,validateSpec:Q.validateSpec,style:Q.style,styleSpec:Q.styleSpec,arrayElementValidator:G})),In(ae)==="array"&&ae.length===0&&ee.push(new nt(Q.key,ae,"array must have at least one stop")),ee},default:function(Q){return Q.validateSpec({key:Q.key,value:Q.value,valueSpec:i,validateSpec:Q.validateSpec,style:Q.style,styleSpec:Q.styleSpec})}}});return u==="identity"&&S&&V.push(new nt(l.key,l.value,'missing required property "property"')),u==="identity"||l.value.stops||V.push(new nt(l.key,l.value,'missing required property "stops"')),u==="exponential"&&l.valueSpec.expression&&!np(l.valueSpec)&&V.push(new nt(l.key,l.value,"exponential functions not supported")),l.styleSpec.$version>=8&&(I&&!Kl(l.valueSpec)?V.push(new nt(l.key,l.value,"property functions not supported")):S&&!fy(l.valueSpec)&&V.push(new nt(l.key,l.value,"zoom functions not supported"))),u!=="categorical"&&!L||l.value.property!==void 0||V.push(new nt(l.key,l.value,'"property" property is required')),V;function G(Q){let ee=[];const ae=Q.value,de=Q.key;if(In(ae)!=="array")return[new nt(de,ae,`array expected, ${In(ae)} found`)];if(ae.length!==2)return[new nt(de,ae,`array length 2 expected, length ${ae.length} found`)];if(L){if(In(ae[0])!=="object")return[new nt(de,ae,`object expected, ${In(ae[0])} found`)];if(ae[0].zoom===void 0)return[new nt(de,ae,"object stop key must have zoom")];if(ae[0].value===void 0)return[new nt(de,ae,"object stop key must have value")];if(x&&x>Dr(ae[0].zoom))return[new nt(de,ae[0].zoom,"stop zoom values must appear in ascending order")];Dr(ae[0].zoom)!==x&&(x=Dr(ae[0].zoom),m=void 0,w={}),ee=ee.concat(Co({key:`${de}[0]`,value:ae[0],valueSpec:{zoom:{}},validateSpec:Q.validateSpec,style:Q.style,styleSpec:Q.styleSpec,objectElementValidators:{zoom:Fd,value:Z}}))}else ee=ee.concat(Z({key:`${de}[0]`,value:ae[0],valueSpec:{},validateSpec:Q.validateSpec,style:Q.style,styleSpec:Q.styleSpec},ae));return zd(il(ae[1]))?ee.concat([new nt(`${de}[1]`,ae[1],"expressions are not allowed in function stops.")]):ee.concat(Q.validateSpec({key:`${de}[1]`,value:ae[1],valueSpec:i,validateSpec:Q.validateSpec,style:Q.style,styleSpec:Q.styleSpec}))}function Z(Q,ee){const ae=In(Q.value),de=Dr(Q.value),fe=Q.value!==null?Q.value:ee;if(f){if(ae!==f)return[new nt(Q.key,fe,`${ae} stop domain type must match previous stop domain type ${f}`)]}else f=ae;if(ae!=="number"&&ae!=="string"&&ae!=="boolean")return[new nt(Q.key,fe,"stop domain value must be a number, string, or boolean")];if(ae!=="number"&&u!=="categorical"){let Ce=`number expected, ${ae} found`;return Kl(i)&&u===void 0&&(Ce+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new nt(Q.key,fe,Ce)]}return u!=="categorical"||ae!=="number"||isFinite(de)&&Math.floor(de)===de?u!=="categorical"&&ae==="number"&&m!==void 0&&de<m?[new nt(Q.key,fe,"stop domain values must appear in ascending order")]:(m=de,u==="categorical"&&de in w?[new nt(Q.key,fe,"stop domain values must be unique")]:(w[de]=!0,[])):[new nt(Q.key,fe,`integer expected, found ${de}`)]}}function Fs(l){const i=(l.expressionContext==="property"?er:dn)(il(l.value),l.valueSpec);if(i.result==="error")return i.value.map(f=>new nt(`${l.key}${f.key}`,l.value,f.message));const u=i.value.expression||i.value._styleExpression.expression;if(l.expressionContext==="property"&&l.propertyKey==="text-font"&&!u.outputDefined())return[new nt(l.key,l.value,`Invalid data expression for "${l.propertyKey}". Output values must be contained as literals within the expression.`)];if(l.expressionContext==="property"&&l.propertyType==="layout"&&!du(u))return[new nt(l.key,l.value,'"feature-state" data expressions are not supported with layout properties.')];if(l.expressionContext==="filter"&&!du(u))return[new nt(l.key,l.value,'"feature-state" data expressions are not supported with filters.')];if(l.expressionContext&&l.expressionContext.indexOf("cluster")===0){if(!hu(u,["zoom","feature-state"]))return[new nt(l.key,l.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(l.expressionContext==="cluster-initial"&&!Pd(u))return[new nt(l.key,l.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function vu(l){const i=l.key,u=l.value,f=l.valueSpec,m=[];return Array.isArray(f.values)?f.values.indexOf(Dr(u))===-1&&m.push(new nt(i,u,`expected one of [${f.values.join(", ")}], ${JSON.stringify(u)} found`)):Object.keys(f.values).indexOf(Dr(u))===-1&&m.push(new nt(i,u,`expected one of [${Object.keys(f.values).join(", ")}], ${JSON.stringify(u)} found`)),m}function Bd(l){return rp(il(l.value))?Fs(bn({},l,{expressionContext:"filter",valueSpec:{value:"boolean"}})):yy(l)}function yy(l){const i=l.value,u=l.key;if(In(i)!=="array")return[new nt(u,i,`array expected, ${In(i)} found`)];const f=l.styleSpec;let m,x=[];if(i.length<1)return[new nt(u,i,"filter array must have at least 1 element")];switch(x=x.concat(vu({key:`${u}[0]`,value:i[0],valueSpec:f.filter_operator,style:l.style,styleSpec:l.styleSpec})),Dr(i[0])){case"<":case"<=":case">":case">=":i.length>=2&&Dr(i[1])==="$type"&&x.push(new nt(u,i,`"$type" cannot be use with operator "${i[0]}"`));case"==":case"!=":i.length!==3&&x.push(new nt(u,i,`filter array for operator "${i[0]}" must have 3 elements`));case"in":case"!in":i.length>=2&&(m=In(i[1]),m!=="string"&&x.push(new nt(`${u}[1]`,i[1],`string expected, ${m} found`)));for(let w=2;w<i.length;w++)m=In(i[w]),Dr(i[1])==="$type"?x=x.concat(vu({key:`${u}[${w}]`,value:i[w],valueSpec:f.geometry_type,style:l.style,styleSpec:l.styleSpec})):m!=="string"&&m!=="number"&&m!=="boolean"&&x.push(new nt(`${u}[${w}]`,i[w],`string, number, or boolean expected, ${m} found`));break;case"any":case"all":case"none":for(let w=1;w<i.length;w++)x=x.concat(yy({key:`${u}[${w}]`,value:i[w],style:l.style,styleSpec:l.styleSpec}));break;case"has":case"!has":m=In(i[1]),i.length!==2?x.push(new nt(u,i,`filter array for "${i[0]}" operator must have 2 elements`)):m!=="string"&&x.push(new nt(`${u}[1]`,i[1],`string expected, ${m} found`));break;case"within":m=In(i[1]),i.length!==2?x.push(new nt(u,i,`filter array for "${i[0]}" operator must have 2 elements`)):m!=="object"&&x.push(new nt(`${u}[1]`,i[1],`object expected, ${m} found`))}return x}function jd(l,i){const u=l.key,f=l.validateSpec,m=l.style,x=l.styleSpec,w=l.value,S=l.objectKey,I=x[`${i}_${l.layerType}`];if(!I)return[];const L=S.match(/^(.*)-transition$/);if(i==="paint"&&L&&I[L[1]]&&I[L[1]].transition)return f({key:u,value:w,valueSpec:x.transition,style:m,styleSpec:x});const V=l.valueSpec||I[S];if(!V)return[new nt(u,w,`unknown property "${S}"`)];let G;if(In(w)==="string"&&Kl(V)&&!V.tokens&&(G=/^{([^}]+)}$/.exec(w)))return[new nt(u,w,`"${S}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(G[1])} }\`.`)];const Z=[];return l.layerType==="symbol"&&(S==="text-field"&&m&&!m.glyphs&&Z.push(new nt(u,w,'use of "text-field" requires a style "glyphs" property')),S==="text-font"&&Dd(il(w))&&Dr(w.type)==="identity"&&Z.push(new nt(u,w,'"text-font" does not support identity functions'))),Z.concat(f({key:l.key,value:w,valueSpec:V,style:m,styleSpec:x,expressionContext:"property",propertyType:i,propertyKey:S}))}function _u(l){return jd(l,"paint")}function Ud(l){return jd(l,"layout")}function Vd(l){let i=[];const u=l.value,f=l.key,m=l.style,x=l.styleSpec;u.type||u.ref||i.push(new nt(f,u,'either "type" or "ref" is required'));let w=Dr(u.type);const S=Dr(u.ref);if(u.id){const I=Dr(u.id);for(let L=0;L<l.arrayIndex;L++){const V=m.layers[L];Dr(V.id)===I&&i.push(new nt(f,u.id,`duplicate layer id "${u.id}", previously used at line ${V.id.__line__}`))}}if("ref"in u){let I;["type","source","source-layer","filter","layout"].forEach(L=>{L in u&&i.push(new nt(f,u[L],`"${L}" is prohibited for ref layers`))}),m.layers.forEach(L=>{Dr(L.id)===S&&(I=L)}),I?I.ref?i.push(new nt(f,u.ref,"ref cannot reference another ref layer")):w=Dr(I.type):i.push(new nt(f,u.ref,`ref layer "${S}" not found`))}else if(w!=="background")if(u.source){const I=m.sources&&m.sources[u.source],L=I&&Dr(I.type);I?L==="vector"&&w==="raster"?i.push(new nt(f,u.source,`layer "${u.id}" requires a raster source`)):L==="raster"&&w!=="raster"?i.push(new nt(f,u.source,`layer "${u.id}" requires a vector source`)):L!=="vector"||u["source-layer"]?L==="raster-dem"&&w!=="hillshade"?i.push(new nt(f,u.source,"raster-dem source can only be used with layer type 'hillshade'.")):w!=="line"||!u.paint||!u.paint["line-gradient"]||L==="geojson"&&I.lineMetrics||i.push(new nt(f,u,`layer "${u.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):i.push(new nt(f,u,`layer "${u.id}" must specify a "source-layer"`)):i.push(new nt(f,u.source,`source "${u.source}" not found`))}else i.push(new nt(f,u,'missing required property "source"'));return i=i.concat(Co({key:f,value:u,valueSpec:x.layer,style:l.style,styleSpec:l.styleSpec,validateSpec:l.validateSpec,objectElementValidators:{"*":()=>[],type:()=>l.validateSpec({key:`${f}.type`,value:u.type,valueSpec:x.layer.type,style:l.style,styleSpec:l.styleSpec,validateSpec:l.validateSpec,object:u,objectKey:"type"}),filter:Bd,layout:I=>Co({layer:u,key:I.key,value:I.value,style:I.style,styleSpec:I.styleSpec,validateSpec:I.validateSpec,objectElementValidators:{"*":L=>Ud(bn({layerType:w},L))}}),paint:I=>Co({layer:u,key:I.key,value:I.value,style:I.style,styleSpec:I.styleSpec,validateSpec:I.validateSpec,objectElementValidators:{"*":L=>_u(bn({layerType:w},L))}})}})),i}function ol(l){const i=l.value,u=l.key,f=In(i);return f!=="string"?[new nt(u,i,`string expected, ${f} found`)]:[]}const xu={promoteId:function({key:l,value:i}){if(In(i)==="string")return ol({key:l,value:i});{const u=[];for(const f in i)u.push(...ol({key:`${l}.${f}`,value:i[f]}));return u}}};function vy(l){const i=l.value,u=l.key,f=l.styleSpec,m=l.style,x=l.validateSpec;if(!i.type)return[new nt(u,i,'"type" is required')];const w=Dr(i.type);let S;switch(w){case"vector":case"raster":case"raster-dem":return S=Co({key:u,value:i,valueSpec:f[`source_${w.replace("-","_")}`],style:l.style,styleSpec:f,objectElementValidators:xu,validateSpec:x}),S;case"geojson":if(S=Co({key:u,value:i,valueSpec:f.source_geojson,style:m,styleSpec:f,validateSpec:x,objectElementValidators:xu}),i.cluster)for(const I in i.clusterProperties){const[L,V]=i.clusterProperties[I],G=typeof L=="string"?[L,["accumulated"],["get",I]]:L;S.push(...Fs({key:`${u}.${I}.map`,value:V,validateSpec:x,expressionContext:"cluster-map"})),S.push(...Fs({key:`${u}.${I}.reduce`,value:G,validateSpec:x,expressionContext:"cluster-reduce"}))}return S;case"video":return Co({key:u,value:i,valueSpec:f.source_video,style:m,validateSpec:x,styleSpec:f});case"image":return Co({key:u,value:i,valueSpec:f.source_image,style:m,validateSpec:x,styleSpec:f});case"canvas":return[new nt(u,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return vu({key:`${u}.type`,value:i.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:m,validateSpec:x,styleSpec:f})}}function _y(l){const i=l.value,u=l.styleSpec,f=u.light,m=l.style;let x=[];const w=In(i);if(i===void 0)return x;if(w!=="object")return x=x.concat([new nt("light",i,`object expected, ${w} found`)]),x;for(const S in i){const I=S.match(/^(.*)-transition$/);x=x.concat(I&&f[I[1]]&&f[I[1]].transition?l.validateSpec({key:S,value:i[S],valueSpec:u.transition,validateSpec:l.validateSpec,style:m,styleSpec:u}):f[S]?l.validateSpec({key:S,value:i[S],valueSpec:f[S],validateSpec:l.validateSpec,style:m,styleSpec:u}):[new nt(S,i[S],`unknown property "${S}"`)])}return x}function xy(l){const i=l.value,u=l.styleSpec,f=u.terrain,m=l.style;let x=[];const w=In(i);if(i===void 0)return x;if(w!=="object")return x=x.concat([new nt("terrain",i,`object expected, ${w} found`)]),x;for(const S in i)x=x.concat(f[S]?l.validateSpec({key:S,value:i[S],valueSpec:f[S],validateSpec:l.validateSpec,style:m,styleSpec:u}):[new nt(S,i[S],`unknown property "${S}"`)]);return x}function by(l){let i=[];const u=l.value,f=l.key;if(Array.isArray(u)){const m=[],x=[];for(const w in u)u[w].id&&m.includes(u[w].id)&&i.push(new nt(f,u,`all the sprites' ids must be unique, but ${u[w].id} is duplicated`)),m.push(u[w].id),u[w].url&&x.includes(u[w].url)&&i.push(new nt(f,u,`all the sprites' URLs must be unique, but ${u[w].url} is duplicated`)),x.push(u[w].url),i=i.concat(Co({key:`${f}[${w}]`,value:u[w],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:l.validateSpec}));return i}return ol({key:f,value:u})}const wy={"*":()=>[],array:lp,boolean:function(l){const i=l.value,u=l.key,f=In(i);return f!=="boolean"?[new nt(u,i,`boolean expected, ${f} found`)]:[]},number:Fd,color:function(l){const i=l.key,u=l.value,f=In(u);return f!=="string"?[new nt(i,u,`color expected, ${f} found`)]:lt.parse(String(u))?[]:[new nt(i,u,`color expected, "${u}" found`)]},constants:gy,enum:vu,filter:Bd,function:cp,layer:Vd,object:Co,source:vy,light:_y,terrain:xy,string:ol,formatted:function(l){return ol(l).length===0?[]:Fs(l)},resolvedImage:function(l){return ol(l).length===0?[]:Fs(l)},padding:function(l){const i=l.key,u=l.value;if(In(u)==="array"){if(u.length<1||u.length>4)return[new nt(i,u,`padding requires 1 to 4 values; ${u.length} values found`)];const f={type:"number"};let m=[];for(let x=0;x<u.length;x++)m=m.concat(l.validateSpec({key:`${i}[${x}]`,value:u[x],validateSpec:l.validateSpec,valueSpec:f}));return m}return Fd({key:i,value:u,valueSpec:{}})},variableAnchorOffsetCollection:function(l){const i=l.key,u=l.value,f=In(u),m=l.styleSpec;if(f!=="array"||u.length<1||u.length%2!=0)return[new nt(i,u,"variableAnchorOffsetCollection requires a non-empty array of even length")];let x=[];for(let w=0;w<u.length;w+=2)x=x.concat(vu({key:`${i}[${w}]`,value:u[w],valueSpec:m.layout_symbol["text-anchor"]})),x=x.concat(lp({key:`${i}[${w+1}]`,value:u[w+1],valueSpec:{length:2,value:"number"},validateSpec:l.validateSpec,style:l.style,styleSpec:m}));return x},sprite:by};function xa(l){const i=l.value,u=l.valueSpec,f=l.styleSpec;return l.validateSpec=xa,u.expression&&Dd(Dr(i))?cp(l):u.expression&&zd(il(i))?Fs(l):u.type&&wy[u.type]?wy[u.type](l):Co(bn({},l,{valueSpec:u.type?f[u.type]:u}))}function bu(l){const i=l.value,u=l.key,f=ol(l);return f.length||(i.indexOf("{fontstack}")===-1&&f.push(new nt(u,i,'"glyphs" url must include a "{fontstack}" token')),i.indexOf("{range}")===-1&&f.push(new nt(u,i,'"glyphs" url must include a "{range}" token'))),f}function zr(l,i=Re){let u=[];return u=u.concat(xa({key:"",value:l,valueSpec:i.$root,styleSpec:i,style:l,validateSpec:xa,objectElementValidators:{glyphs:bu,"*":()=>[]}})),l.constants&&(u=u.concat(gy({key:"constants",value:l.constants,style:l,styleSpec:i,validateSpec:xa}))),Sy(u)}function To(l){return function(i){return l({...i,validateSpec:xa})}}function Sy(l){return[].concat(l).sort((i,u)=>i.line-u.line)}function Bs(l){return function(...i){return Sy(l.apply(this,i))}}zr.source=Bs(To(vy)),zr.sprite=Bs(To(by)),zr.glyphs=Bs(To(bu)),zr.light=Bs(To(_y)),zr.terrain=Bs(To(xy)),zr.layer=Bs(To(Vd)),zr.filter=Bs(To(Bd)),zr.paintProperty=Bs(To(_u)),zr.layoutProperty=Bs(To(Ud));const wu=zr,Su=wu.light,L1=wu.paintProperty,up=wu.layoutProperty;function Cy(l,i){let u=!1;if(i&&i.length)for(const f of i)l.fire(new jt(new Error(f.message))),u=!0;return u}class sl{constructor(i,u,f){const m=this.cells=[];if(i instanceof ArrayBuffer){this.arrayBuffer=i;const w=new Int32Array(this.arrayBuffer);i=w[0],this.d=(u=w[1])+2*(f=w[2]);for(let I=0;I<this.d*this.d;I++){const L=w[3+I],V=w[3+I+1];m.push(L===V?null:w.subarray(L,V))}const S=w[3+m.length+1];this.keys=w.subarray(w[3+m.length],S),this.bboxes=w.subarray(S),this.insert=this._insertReadonly}else{this.d=u+2*f;for(let w=0;w<this.d*this.d;w++)m.push([]);this.keys=[],this.bboxes=[]}this.n=u,this.extent=i,this.padding=f,this.scale=u/i,this.uid=0;const x=f/u*i;this.min=-x,this.max=i+x}insert(i,u,f,m,x){this._forEachCell(u,f,m,x,this._insertCell,this.uid++,void 0,void 0),this.keys.push(i),this.bboxes.push(u),this.bboxes.push(f),this.bboxes.push(m),this.bboxes.push(x)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(i,u,f,m,x,w){this.cells[x].push(w)}query(i,u,f,m,x){const w=this.min,S=this.max;if(i<=w&&u<=w&&S<=f&&S<=m&&!x)return Array.prototype.slice.call(this.keys);{const I=[];return this._forEachCell(i,u,f,m,this._queryCell,I,{},x),I}}_queryCell(i,u,f,m,x,w,S,I){const L=this.cells[x];if(L!==null){const V=this.keys,G=this.bboxes;for(let Z=0;Z<L.length;Z++){const Q=L[Z];if(S[Q]===void 0){const ee=4*Q;(I?I(G[ee+0],G[ee+1],G[ee+2],G[ee+3]):i<=G[ee+2]&&u<=G[ee+3]&&f>=G[ee+0]&&m>=G[ee+1])?(S[Q]=!0,w.push(V[Q])):S[Q]=!1}}}}_forEachCell(i,u,f,m,x,w,S,I){const L=this._convertToCellCoord(i),V=this._convertToCellCoord(u),G=this._convertToCellCoord(f),Z=this._convertToCellCoord(m);for(let Q=L;Q<=G;Q++)for(let ee=V;ee<=Z;ee++){const ae=this.d*ee+Q;if((!I||I(this._convertFromCellCoord(Q),this._convertFromCellCoord(ee),this._convertFromCellCoord(Q+1),this._convertFromCellCoord(ee+1)))&&x.call(this,i,u,f,m,ae,w,S,I))return}}_convertFromCellCoord(i){return(i-this.padding)/this.scale}_convertToCellCoord(i){return Math.max(0,Math.min(this.d-1,Math.floor(i*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const i=this.cells,u=3+this.cells.length+1+1;let f=0;for(let w=0;w<this.cells.length;w++)f+=this.cells[w].length;const m=new Int32Array(u+f+this.keys.length+this.bboxes.length);m[0]=this.extent,m[1]=this.n,m[2]=this.padding;let x=u;for(let w=0;w<i.length;w++){const S=i[w];m[3+w]=x,m.set(S,x),x+=S.length}return m[3+i.length]=x,m.set(this.keys,x),x+=this.keys.length,m[3+i.length+1]=x,m.set(this.bboxes,x),x+=this.bboxes.length,m.buffer}static serialize(i,u){const f=i.toArrayBuffer();return u&&u.push(f),{buffer:f}}static deserialize(i){return new sl(i.buffer)}}const ba={};function bt(l,i,u={}){if(ba[l])throw new Error(`${l} is already registered.`);Object.defineProperty(i,"_classRegistryKey",{value:l,writeable:!1}),ba[l]={klass:i,omit:u.omit||[],shallow:u.shallow||[]}}bt("Object",Object),bt("TransferableGridIndex",sl),bt("Color",lt),bt("Error",Error),bt("AJAXError",st),bt("ResolvedImage",So),bt("StylePropertyFunction",rl),bt("StyleExpression",hr,{omit:["_evaluator"]}),bt("ZoomDependentExpression",Qn),bt("ZoomConstantExpression",mu),bt("CompoundExpression",ao,{omit:["_evaluate"]});for(const l in Yl)Yl[l]._classRegistryKey||bt(`Expression_${l}`,Yl[l]);function Ty(l){return l&&typeof ArrayBuffer<"u"&&(l instanceof ArrayBuffer||l.constructor&&l.constructor.name==="ArrayBuffer")}function al(l,i){if(l==null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||l instanceof Boolean||l instanceof Number||l instanceof String||l instanceof Date||l instanceof RegExp||l instanceof Blob)return l;if(Ty(l)||Ke(l))return i&&i.push(l),l;if(ArrayBuffer.isView(l)){const u=l;return i&&i.push(u.buffer),u}if(l instanceof ImageData)return i&&i.push(l.data.buffer),l;if(Array.isArray(l)){const u=[];for(const f of l)u.push(al(f,i));return u}if(typeof l=="object"){const u=l.constructor,f=u._classRegistryKey;if(!f)throw new Error("can't serialize object of unregistered class");if(!ba[f])throw new Error(`${f} is not registered.`);const m=u.serialize?u.serialize(l,i):{};if(u.serialize){if(i&&m===i[i.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const x in l){if(!l.hasOwnProperty(x)||ba[f].omit.indexOf(x)>=0)continue;const w=l[x];m[x]=ba[f].shallow.indexOf(x)>=0?w:al(w,i)}l instanceof Error&&(m.message=l.message)}if(m.$name)throw new Error("$name property is reserved for worker serialization logic.");return f!=="Object"&&(m.$name=f),m}throw new Error("can't serialize object of type "+typeof l)}function Xl(l){if(l==null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||l instanceof Boolean||l instanceof Number||l instanceof String||l instanceof Date||l instanceof RegExp||l instanceof Blob||Ty(l)||Ke(l)||ArrayBuffer.isView(l)||l instanceof ImageData)return l;if(Array.isArray(l))return l.map(Xl);if(typeof l=="object"){const i=l.$name||"Object";if(!ba[i])throw new Error(`can't deserialize unregistered class ${i}`);const{klass:u}=ba[i];if(!u)throw new Error(`can't deserialize unregistered class ${i}`);if(u.deserialize)return u.deserialize(l);const f=Object.create(u.prototype);for(const m of Object.keys(l)){if(m==="$name")continue;const x=l[m];f[m]=ba[i].shallow.indexOf(m)>=0?x:Xl(x)}return f}throw new Error("can't deserialize object of type "+typeof l)}class Wd{constructor(){this.first=!0}update(i,u){const f=Math.floor(i);return this.first?(this.first=!1,this.lastIntegerZoom=f,this.lastIntegerZoomTime=0,this.lastZoom=i,this.lastFloorZoom=f,!0):(this.lastFloorZoom>f?(this.lastIntegerZoom=f+1,this.lastIntegerZoomTime=u):this.lastFloorZoom<f&&(this.lastIntegerZoom=f,this.lastIntegerZoomTime=u),i!==this.lastZoom&&(this.lastZoom=i,this.lastFloorZoom=f,!0))}}const vt={"Latin-1 Supplement":l=>l>=128&&l<=255,Arabic:l=>l>=1536&&l<=1791,"Arabic Supplement":l=>l>=1872&&l<=1919,"Arabic Extended-A":l=>l>=2208&&l<=2303,"Hangul Jamo":l=>l>=4352&&l<=4607,"Unified Canadian Aboriginal Syllabics":l=>l>=5120&&l<=5759,Khmer:l=>l>=6016&&l<=6143,"Unified Canadian Aboriginal Syllabics Extended":l=>l>=6320&&l<=6399,"General Punctuation":l=>l>=8192&&l<=8303,"Letterlike Symbols":l=>l>=8448&&l<=8527,"Number Forms":l=>l>=8528&&l<=8591,"Miscellaneous Technical":l=>l>=8960&&l<=9215,"Control Pictures":l=>l>=9216&&l<=9279,"Optical Character Recognition":l=>l>=9280&&l<=9311,"Enclosed Alphanumerics":l=>l>=9312&&l<=9471,"Geometric Shapes":l=>l>=9632&&l<=9727,"Miscellaneous Symbols":l=>l>=9728&&l<=9983,"Miscellaneous Symbols and Arrows":l=>l>=11008&&l<=11263,"CJK Radicals Supplement":l=>l>=11904&&l<=12031,"Kangxi Radicals":l=>l>=12032&&l<=12255,"Ideographic Description Characters":l=>l>=12272&&l<=12287,"CJK Symbols and Punctuation":l=>l>=12288&&l<=12351,Hiragana:l=>l>=12352&&l<=12447,Katakana:l=>l>=12448&&l<=12543,Bopomofo:l=>l>=12544&&l<=12591,"Hangul Compatibility Jamo":l=>l>=12592&&l<=12687,Kanbun:l=>l>=12688&&l<=12703,"Bopomofo Extended":l=>l>=12704&&l<=12735,"CJK Strokes":l=>l>=12736&&l<=12783,"Katakana Phonetic Extensions":l=>l>=12784&&l<=12799,"Enclosed CJK Letters and Months":l=>l>=12800&&l<=13055,"CJK Compatibility":l=>l>=13056&&l<=13311,"CJK Unified Ideographs Extension A":l=>l>=13312&&l<=19903,"Yijing Hexagram Symbols":l=>l>=19904&&l<=19967,"CJK Unified Ideographs":l=>l>=19968&&l<=40959,"Yi Syllables":l=>l>=40960&&l<=42127,"Yi Radicals":l=>l>=42128&&l<=42191,"Hangul Jamo Extended-A":l=>l>=43360&&l<=43391,"Hangul Syllables":l=>l>=44032&&l<=55215,"Hangul Jamo Extended-B":l=>l>=55216&&l<=55295,"Private Use Area":l=>l>=57344&&l<=63743,"CJK Compatibility Ideographs":l=>l>=63744&&l<=64255,"Arabic Presentation Forms-A":l=>l>=64336&&l<=65023,"Vertical Forms":l=>l>=65040&&l<=65055,"CJK Compatibility Forms":l=>l>=65072&&l<=65103,"Small Form Variants":l=>l>=65104&&l<=65135,"Arabic Presentation Forms-B":l=>l>=65136&&l<=65279,"Halfwidth and Fullwidth Forms":l=>l>=65280&&l<=65519};function qd(l){for(const i of l)if(Jl(i.charCodeAt(0)))return!0;return!1}function $1(l){for(const i of l)if(!dp(i.charCodeAt(0)))return!1;return!0}function dp(l){return!(vt.Arabic(l)||vt["Arabic Supplement"](l)||vt["Arabic Extended-A"](l)||vt["Arabic Presentation Forms-A"](l)||vt["Arabic Presentation Forms-B"](l))}function Jl(l){return!(l!==746&&l!==747&&(l<4352||!(vt["Bopomofo Extended"](l)||vt.Bopomofo(l)||vt["CJK Compatibility Forms"](l)&&!(l>=65097&&l<=65103)||vt["CJK Compatibility Ideographs"](l)||vt["CJK Compatibility"](l)||vt["CJK Radicals Supplement"](l)||vt["CJK Strokes"](l)||!(!vt["CJK Symbols and Punctuation"](l)||l>=12296&&l<=12305||l>=12308&&l<=12319||l===12336)||vt["CJK Unified Ideographs Extension A"](l)||vt["CJK Unified Ideographs"](l)||vt["Enclosed CJK Letters and Months"](l)||vt["Hangul Compatibility Jamo"](l)||vt["Hangul Jamo Extended-A"](l)||vt["Hangul Jamo Extended-B"](l)||vt["Hangul Jamo"](l)||vt["Hangul Syllables"](l)||vt.Hiragana(l)||vt["Ideographic Description Characters"](l)||vt.Kanbun(l)||vt["Kangxi Radicals"](l)||vt["Katakana Phonetic Extensions"](l)||vt.Katakana(l)&&l!==12540||!(!vt["Halfwidth and Fullwidth Forms"](l)||l===65288||l===65289||l===65293||l>=65306&&l<=65310||l===65339||l===65341||l===65343||l>=65371&&l<=65503||l===65507||l>=65512&&l<=65519)||!(!vt["Small Form Variants"](l)||l>=65112&&l<=65118||l>=65123&&l<=65126)||vt["Unified Canadian Aboriginal Syllabics"](l)||vt["Unified Canadian Aboriginal Syllabics Extended"](l)||vt["Vertical Forms"](l)||vt["Yijing Hexagram Symbols"](l)||vt["Yi Syllables"](l)||vt["Yi Radicals"](l))))}function hp(l){return!(Jl(l)||function(i){return!!(vt["Latin-1 Supplement"](i)&&(i===167||i===169||i===174||i===177||i===188||i===189||i===190||i===215||i===247)||vt["General Punctuation"](i)&&(i===8214||i===8224||i===8225||i===8240||i===8241||i===8251||i===8252||i===8258||i===8263||i===8264||i===8265||i===8273)||vt["Letterlike Symbols"](i)||vt["Number Forms"](i)||vt["Miscellaneous Technical"](i)&&(i>=8960&&i<=8967||i>=8972&&i<=8991||i>=8996&&i<=9e3||i===9003||i>=9085&&i<=9114||i>=9150&&i<=9165||i===9167||i>=9169&&i<=9179||i>=9186&&i<=9215)||vt["Control Pictures"](i)&&i!==9251||vt["Optical Character Recognition"](i)||vt["Enclosed Alphanumerics"](i)||vt["Geometric Shapes"](i)||vt["Miscellaneous Symbols"](i)&&!(i>=9754&&i<=9759)||vt["Miscellaneous Symbols and Arrows"](i)&&(i>=11026&&i<=11055||i>=11088&&i<=11097||i>=11192&&i<=11243)||vt["CJK Symbols and Punctuation"](i)||vt.Katakana(i)||vt["Private Use Area"](i)||vt["CJK Compatibility Forms"](i)||vt["Small Form Variants"](i)||vt["Halfwidth and Fullwidth Forms"](i)||i===8734||i===8756||i===8757||i>=9984&&i<=10087||i>=10102&&i<=10131||i===65532||i===65533)}(l))}function ky(l){return l>=1424&&l<=2303||vt["Arabic Presentation Forms-A"](l)||vt["Arabic Presentation Forms-B"](l)}function Ey(l,i){return!(!i&&ky(l)||l>=2304&&l<=3583||l>=3840&&l<=4255||vt.Khmer(l))}function N1(l){for(const i of l)if(ky(i.charCodeAt(0)))return!0;return!1}const Cu="deferred",fp="loading",pp="loaded";let mp=null,Ni="unavailable",js=null;const Py=function(l){l&&typeof l=="string"&&l.indexOf("NetworkError")>-1&&(Ni="error"),mp&&mp(l)};function gp(){yp.fire(new It("pluginStateChange",{pluginStatus:Ni,pluginURL:js}))}const yp=new Mt,vp=function(){return Ni},Iy=function(){if(Ni!==Cu||!js)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Ni=fp,gp(),js&&Le({url:js},l=>{l?Py(l):(Ni=pp,gp())})},ko={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Ni===pp||ko.applyArabicShaping!=null,isLoading:()=>Ni===fp,setState(l){if(!Ve())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");Ni=l.pluginStatus,js=l.pluginURL},isParsed(){if(!Ve())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return ko.applyArabicShaping!=null&&ko.processBidirectionalText!=null&&ko.processStyledBidirectionalText!=null},getPluginURL(){if(!Ve())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return js}};class ar{constructor(i,u){this.zoom=i,u?(this.now=u.now,this.fadeDuration=u.fadeDuration,this.zoomHistory=u.zoomHistory,this.transition=u.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Wd,this.transition={})}isSupportedScript(i){return function(u,f){for(const m of u)if(!Ey(m.charCodeAt(0),f))return!1;return!0}(i,ko.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const i=this.zoom,u=i-Math.floor(i),f=this.crossFadingFactor();return i>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:u+(1-u)*f}:{fromScale:.5,toScale:1,t:1-(1-f)*u}}}class ll{constructor(i,u){this.property=i,this.value=u,this.expression=function(f,m){if(Dd(f))return new rl(f,m);if(zd(f)){const x=er(f,m);if(x.result==="error")throw new Error(x.value.map(w=>`${w.key}: ${w.message}`).join(", "));return x.value}{let x=f;return m.type==="color"&&typeof f=="string"?x=lt.parse(f):m.type!=="padding"||typeof f!="number"&&!Array.isArray(f)?m.type==="variableAnchorOffsetCollection"&&Array.isArray(f)&&(x=_i.parse(f)):x=so.parse(f),{kind:"constant",evaluate:()=>x}}}(u===void 0?i.specification.default:u,i.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(i,u,f){return this.property.possiblyEvaluate(this,i,u,f)}}class _p{constructor(i){this.property=i,this.value=new ll(i,void 0)}transitioned(i,u){return new My(this.property,this.value,u,z({},i.transition,this.transition),i.now)}untransitioned(){return new My(this.property,this.value,null,{},0)}}class Gd{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitionablePropertyValues)}getValue(i){return te(this._values[i].value.value)}setValue(i,u){Object.prototype.hasOwnProperty.call(this._values,i)||(this._values[i]=new _p(this._values[i].property)),this._values[i].value=new ll(this._values[i].property,u===null?void 0:te(u))}getTransition(i){return te(this._values[i].transition)}setTransition(i,u){Object.prototype.hasOwnProperty.call(this._values,i)||(this._values[i]=new _p(this._values[i].property)),this._values[i].transition=te(u)||void 0}serialize(){const i={};for(const u of Object.keys(this._values)){const f=this.getValue(u);f!==void 0&&(i[u]=f);const m=this.getTransition(u);m!==void 0&&(i[`${u}-transition`]=m)}return i}transitioned(i,u){const f=new Ry(this._properties);for(const m of Object.keys(this._values))f._values[m]=this._values[m].transitioned(i,u._values[m]);return f}untransitioned(){const i=new Ry(this._properties);for(const u of Object.keys(this._values))i._values[u]=this._values[u].untransitioned();return i}}class My{constructor(i,u,f,m,x){this.property=i,this.value=u,this.begin=x+m.delay||0,this.end=this.begin+m.duration||0,i.specification.transition&&(m.delay||m.duration)&&(this.prior=f)}possiblyEvaluate(i,u,f){const m=i.now||0,x=this.value.possiblyEvaluate(i,u,f),w=this.prior;if(w){if(m>this.end)return this.prior=null,x;if(this.value.isDataDriven())return this.prior=null,x;if(m<this.begin)return w.possiblyEvaluate(i,u,f);{const S=(m-this.begin)/(this.end-this.begin);return this.property.interpolate(w.possiblyEvaluate(i,u,f),x,function(I){if(I<=0)return 0;if(I>=1)return 1;const L=I*I,V=L*I;return 4*(I<.5?V:3*(I-L)+V-.75)}(S))}}return x}}class Ry{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitioningPropertyValues)}possiblyEvaluate(i,u,f){const m=new Hd(this._properties);for(const x of Object.keys(this._values))m._values[x]=this._values[x].possiblyEvaluate(i,u,f);return m}hasTransition(){for(const i of Object.keys(this._values))if(this._values[i].prior)return!0;return!1}}class Ay{constructor(i){this._properties=i,this._values=Object.create(i.defaultPropertyValues)}hasValue(i){return this._values[i].value!==void 0}getValue(i){return te(this._values[i].value)}setValue(i,u){this._values[i]=new ll(this._values[i].property,u===null?void 0:te(u))}serialize(){const i={};for(const u of Object.keys(this._values)){const f=this.getValue(u);f!==void 0&&(i[u]=f)}return i}possiblyEvaluate(i,u,f){const m=new Hd(this._properties);for(const x of Object.keys(this._values))m._values[x]=this._values[x].possiblyEvaluate(i,u,f);return m}}class Vo{constructor(i,u,f){this.property=i,this.value=u,this.parameters=f}isConstant(){return this.value.kind==="constant"}constantOr(i){return this.value.kind==="constant"?this.value.value:i}evaluate(i,u,f,m){return this.property.evaluate(this.value,this.parameters,i,u,f,m)}}class Hd{constructor(i){this._properties=i,this._values=Object.create(i.defaultPossiblyEvaluatedValues)}get(i){return this._values[i]}}class Nt{constructor(i){this.specification=i}possiblyEvaluate(i,u){if(i.isDataDriven())throw new Error("Value should not be data driven");return i.expression.evaluate(u)}interpolate(i,u,f){const m=lo[this.specification.type];return m?m(i,u,f):i}}class qt{constructor(i,u){this.specification=i,this.overrides=u}possiblyEvaluate(i,u,f,m){return new Vo(this,i.expression.kind==="constant"||i.expression.kind==="camera"?{kind:"constant",value:i.expression.evaluate(u,null,{},f,m)}:i.expression,u)}interpolate(i,u,f){if(i.value.kind!=="constant"||u.value.kind!=="constant")return i;if(i.value.value===void 0||u.value.value===void 0)return new Vo(this,{kind:"constant",value:void 0},i.parameters);const m=lo[this.specification.type];if(m){const x=m(i.value.value,u.value.value,f);return new Vo(this,{kind:"constant",value:x},i.parameters)}return i}evaluate(i,u,f,m,x,w){return i.kind==="constant"?i.value:i.evaluate(u,f,m,x,w)}}class Yd extends qt{possiblyEvaluate(i,u,f,m){if(i.value===void 0)return new Vo(this,{kind:"constant",value:void 0},u);if(i.expression.kind==="constant"){const x=i.expression.evaluate(u,null,{},f,m),w=i.property.specification.type==="resolvedImage"&&typeof x!="string"?x.name:x,S=this._calculate(w,w,w,u);return new Vo(this,{kind:"constant",value:S},u)}if(i.expression.kind==="camera"){const x=this._calculate(i.expression.evaluate({zoom:u.zoom-1}),i.expression.evaluate({zoom:u.zoom}),i.expression.evaluate({zoom:u.zoom+1}),u);return new Vo(this,{kind:"constant",value:x},u)}return new Vo(this,i.expression,u)}evaluate(i,u,f,m,x,w){if(i.kind==="source"){const S=i.evaluate(u,f,m,x,w);return this._calculate(S,S,S,u)}return i.kind==="composite"?this._calculate(i.evaluate({zoom:Math.floor(u.zoom)-1},f,m),i.evaluate({zoom:Math.floor(u.zoom)},f,m),i.evaluate({zoom:Math.floor(u.zoom)+1},f,m),u):i.value}_calculate(i,u,f,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:i,to:u}:{from:f,to:u}}interpolate(i){return i}}class xp{constructor(i){this.specification=i}possiblyEvaluate(i,u,f,m){if(i.value!==void 0){if(i.expression.kind==="constant"){const x=i.expression.evaluate(u,null,{},f,m);return this._calculate(x,x,x,u)}return this._calculate(i.expression.evaluate(new ar(Math.floor(u.zoom-1),u)),i.expression.evaluate(new ar(Math.floor(u.zoom),u)),i.expression.evaluate(new ar(Math.floor(u.zoom+1),u)),u)}}_calculate(i,u,f,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:i,to:u}:{from:f,to:u}}interpolate(i){return i}}class bp{constructor(i){this.specification=i}possiblyEvaluate(i,u,f,m){return!!i.expression.evaluate(u,null,{},f,m)}interpolate(){return!1}}class Jr{constructor(i){this.properties=i,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const u in i){const f=i[u];f.specification.overridable&&this.overridableProperties.push(u);const m=this.defaultPropertyValues[u]=new ll(f,void 0),x=this.defaultTransitionablePropertyValues[u]=new _p(f);this.defaultTransitioningPropertyValues[u]=x.untransitioned(),this.defaultPossiblyEvaluatedValues[u]=m.possiblyEvaluate({})}}}bt("DataDrivenProperty",qt),bt("DataConstantProperty",Nt),bt("CrossFadedDataDrivenProperty",Yd),bt("CrossFadedProperty",xp),bt("ColorRampProperty",bp);const Oy="-transition";class ms extends Mt{constructor(i,u){if(super(),this.id=i.id,this.type=i.type,this._featureFilter={filter:()=>!0,needGeometry:!1},i.type!=="custom"&&(this.metadata=i.metadata,this.minzoom=i.minzoom,this.maxzoom=i.maxzoom,i.type!=="background"&&(this.source=i.source,this.sourceLayer=i["source-layer"],this.filter=i.filter),u.layout&&(this._unevaluatedLayout=new Ay(u.layout)),u.paint)){this._transitionablePaint=new Gd(u.paint);for(const f in i.paint)this.setPaintProperty(f,i.paint[f],{validate:!1});for(const f in i.layout)this.setLayoutProperty(f,i.layout[f],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Hd(u.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(i){return i==="visibility"?this.visibility:this._unevaluatedLayout.getValue(i)}setLayoutProperty(i,u,f={}){u!=null&&this._validate(up,`layers.${this.id}.layout.${i}`,i,u,f)||(i!=="visibility"?this._unevaluatedLayout.setValue(i,u):this.visibility=u)}getPaintProperty(i){return i.endsWith(Oy)?this._transitionablePaint.getTransition(i.slice(0,-11)):this._transitionablePaint.getValue(i)}setPaintProperty(i,u,f={}){if(u!=null&&this._validate(L1,`layers.${this.id}.paint.${i}`,i,u,f))return!1;if(i.endsWith(Oy))return this._transitionablePaint.setTransition(i.slice(0,-11),u||void 0),!1;{const m=this._transitionablePaint._values[i],x=m.property.specification["property-type"]==="cross-faded-data-driven",w=m.value.isDataDriven(),S=m.value;this._transitionablePaint.setValue(i,u),this._handleSpecialPaintPropertyUpdate(i);const I=this._transitionablePaint._values[i].value;return I.isDataDriven()||w||x||this._handleOverridablePaintPropertyUpdate(i,S,I)}}_handleSpecialPaintPropertyUpdate(i){}_handleOverridablePaintPropertyUpdate(i,u,f){return!1}isHidden(i){return!!(this.minzoom&&i<this.minzoom)||!!(this.maxzoom&&i>=this.maxzoom)||this.visibility==="none"}updateTransitions(i){this._transitioningPaint=this._transitionablePaint.transitioned(i,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(i,u){i.getCrossfadeParameters&&(this._crossfadeParameters=i.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(i,void 0,u)),this.paint=this._transitioningPaint.possiblyEvaluate(i,void 0,u)}serialize(){const i={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(i.layout=i.layout||{},i.layout.visibility=this.visibility),J(i,(u,f)=>!(u===void 0||f==="layout"&&!Object.keys(u).length||f==="paint"&&!Object.keys(u).length))}_validate(i,u,f,m,x={}){return(!x||x.validate!==!1)&&Cy(this,i.call(wu,{key:u,layerType:this.type,objectKey:f,value:m,styleSpec:Re,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const i in this.paint._values){const u=this.paint.get(i);if(u instanceof Vo&&Kl(u.property.specification)&&(u.value.kind==="source"||u.value.kind==="composite")&&u.value.isStateDependent)return!0}return!1}}const F1={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Ql{constructor(i,u){this._structArray=i,this._pos1=u*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class fr{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(i,u){return i._trim(),u&&(i.isTransferred=!0,u.push(i.arrayBuffer)),{length:i.length,arrayBuffer:i.arrayBuffer}}static deserialize(i){const u=Object.create(this.prototype);return u.arrayBuffer=i.arrayBuffer,u.length=i.length,u.capacity=i.arrayBuffer.byteLength/u.bytesPerElement,u._refreshViews(),u}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(i){this.reserve(i),this.length=i}reserve(i){if(i>this.capacity){this.capacity=Math.max(i,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const u=this.uint8;this._refreshViews(),u&&this.uint8.set(u)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Lr(l,i=1){let u=0,f=0;return{members:l.map(m=>{const x=F1[m.type].BYTES_PER_ELEMENT,w=u=Us(u,Math.max(i,x)),S=m.components||1;return f=Math.max(f,x),u+=x*S,{name:m.name,type:m.type,components:S,offset:w}}),size:Us(u,Math.max(f,i)),alignment:i}}function Us(l,i){return Math.ceil(l/i)*i}class ec extends fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,u){const f=this.length;return this.resize(f+1),this.emplace(f,i,u)}emplace(i,u,f){const m=2*i;return this.int16[m+0]=u,this.int16[m+1]=f,i}}ec.prototype.bytesPerElement=4,bt("StructArrayLayout2i4",ec);class tc extends fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,u,f){const m=this.length;return this.resize(m+1),this.emplace(m,i,u,f)}emplace(i,u,f,m){const x=3*i;return this.int16[x+0]=u,this.int16[x+1]=f,this.int16[x+2]=m,i}}tc.prototype.bytesPerElement=6,bt("StructArrayLayout3i6",tc);class Zd extends fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,u,f,m){const x=this.length;return this.resize(x+1),this.emplace(x,i,u,f,m)}emplace(i,u,f,m,x){const w=4*i;return this.int16[w+0]=u,this.int16[w+1]=f,this.int16[w+2]=m,this.int16[w+3]=x,i}}Zd.prototype.bytesPerElement=8,bt("StructArrayLayout4i8",Zd);class Tu extends fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,u,f,m,x,w){const S=this.length;return this.resize(S+1),this.emplace(S,i,u,f,m,x,w)}emplace(i,u,f,m,x,w,S){const I=6*i;return this.int16[I+0]=u,this.int16[I+1]=f,this.int16[I+2]=m,this.int16[I+3]=x,this.int16[I+4]=w,this.int16[I+5]=S,i}}Tu.prototype.bytesPerElement=12,bt("StructArrayLayout2i4i12",Tu);class wp extends fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,u,f,m,x,w){const S=this.length;return this.resize(S+1),this.emplace(S,i,u,f,m,x,w)}emplace(i,u,f,m,x,w,S){const I=4*i,L=8*i;return this.int16[I+0]=u,this.int16[I+1]=f,this.uint8[L+4]=m,this.uint8[L+5]=x,this.uint8[L+6]=w,this.uint8[L+7]=S,i}}wp.prototype.bytesPerElement=8,bt("StructArrayLayout2i4ub8",wp);class wa extends fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,u){const f=this.length;return this.resize(f+1),this.emplace(f,i,u)}emplace(i,u,f){const m=2*i;return this.float32[m+0]=u,this.float32[m+1]=f,i}}wa.prototype.bytesPerElement=8,bt("StructArrayLayout2f8",wa);class cl extends fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,u,f,m,x,w,S,I,L,V){const G=this.length;return this.resize(G+1),this.emplace(G,i,u,f,m,x,w,S,I,L,V)}emplace(i,u,f,m,x,w,S,I,L,V,G){const Z=10*i;return this.uint16[Z+0]=u,this.uint16[Z+1]=f,this.uint16[Z+2]=m,this.uint16[Z+3]=x,this.uint16[Z+4]=w,this.uint16[Z+5]=S,this.uint16[Z+6]=I,this.uint16[Z+7]=L,this.uint16[Z+8]=V,this.uint16[Z+9]=G,i}}cl.prototype.bytesPerElement=20,bt("StructArrayLayout10ui20",cl);class Sp extends fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,u,f,m,x,w,S,I,L,V,G,Z){const Q=this.length;return this.resize(Q+1),this.emplace(Q,i,u,f,m,x,w,S,I,L,V,G,Z)}emplace(i,u,f,m,x,w,S,I,L,V,G,Z,Q){const ee=12*i;return this.int16[ee+0]=u,this.int16[ee+1]=f,this.int16[ee+2]=m,this.int16[ee+3]=x,this.uint16[ee+4]=w,this.uint16[ee+5]=S,this.uint16[ee+6]=I,this.uint16[ee+7]=L,this.int16[ee+8]=V,this.int16[ee+9]=G,this.int16[ee+10]=Z,this.int16[ee+11]=Q,i}}Sp.prototype.bytesPerElement=24,bt("StructArrayLayout4i4ui4i24",Sp);class Kd extends fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,u,f){const m=this.length;return this.resize(m+1),this.emplace(m,i,u,f)}emplace(i,u,f,m){const x=3*i;return this.float32[x+0]=u,this.float32[x+1]=f,this.float32[x+2]=m,i}}Kd.prototype.bytesPerElement=12,bt("StructArrayLayout3f12",Kd);class ul extends fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i){const u=this.length;return this.resize(u+1),this.emplace(u,i)}emplace(i,u){return this.uint32[1*i+0]=u,i}}ul.prototype.bytesPerElement=4,bt("StructArrayLayout1ul4",ul);class Cp extends fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,u,f,m,x,w,S,I,L){const V=this.length;return this.resize(V+1),this.emplace(V,i,u,f,m,x,w,S,I,L)}emplace(i,u,f,m,x,w,S,I,L,V){const G=10*i,Z=5*i;return this.int16[G+0]=u,this.int16[G+1]=f,this.int16[G+2]=m,this.int16[G+3]=x,this.int16[G+4]=w,this.int16[G+5]=S,this.uint32[Z+3]=I,this.uint16[G+8]=L,this.uint16[G+9]=V,i}}Cp.prototype.bytesPerElement=20,bt("StructArrayLayout6i1ul2ui20",Cp);class Tp extends fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,u,f,m,x,w){const S=this.length;return this.resize(S+1),this.emplace(S,i,u,f,m,x,w)}emplace(i,u,f,m,x,w,S){const I=6*i;return this.int16[I+0]=u,this.int16[I+1]=f,this.int16[I+2]=m,this.int16[I+3]=x,this.int16[I+4]=w,this.int16[I+5]=S,i}}Tp.prototype.bytesPerElement=12,bt("StructArrayLayout2i2i2i12",Tp);class Xd extends fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,u,f,m,x){const w=this.length;return this.resize(w+1),this.emplace(w,i,u,f,m,x)}emplace(i,u,f,m,x,w){const S=4*i,I=8*i;return this.float32[S+0]=u,this.float32[S+1]=f,this.float32[S+2]=m,this.int16[I+6]=x,this.int16[I+7]=w,i}}Xd.prototype.bytesPerElement=16,bt("StructArrayLayout2f1f2i16",Xd);class kp extends fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,u,f,m){const x=this.length;return this.resize(x+1),this.emplace(x,i,u,f,m)}emplace(i,u,f,m,x){const w=12*i,S=3*i;return this.uint8[w+0]=u,this.uint8[w+1]=f,this.float32[S+1]=m,this.float32[S+2]=x,i}}kp.prototype.bytesPerElement=12,bt("StructArrayLayout2ub2f12",kp);class Jd extends fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,u,f){const m=this.length;return this.resize(m+1),this.emplace(m,i,u,f)}emplace(i,u,f,m){const x=3*i;return this.uint16[x+0]=u,this.uint16[x+1]=f,this.uint16[x+2]=m,i}}Jd.prototype.bytesPerElement=6,bt("StructArrayLayout3ui6",Jd);class Pn extends fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,u,f,m,x,w,S,I,L,V,G,Z,Q,ee,ae,de,fe){const Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,i,u,f,m,x,w,S,I,L,V,G,Z,Q,ee,ae,de,fe)}emplace(i,u,f,m,x,w,S,I,L,V,G,Z,Q,ee,ae,de,fe,Ce){const _e=24*i,Ie=12*i,$e=48*i;return this.int16[_e+0]=u,this.int16[_e+1]=f,this.uint16[_e+2]=m,this.uint16[_e+3]=x,this.uint32[Ie+2]=w,this.uint32[Ie+3]=S,this.uint32[Ie+4]=I,this.uint16[_e+10]=L,this.uint16[_e+11]=V,this.uint16[_e+12]=G,this.float32[Ie+7]=Z,this.float32[Ie+8]=Q,this.uint8[$e+36]=ee,this.uint8[$e+37]=ae,this.uint8[$e+38]=de,this.uint32[Ie+10]=fe,this.int16[_e+22]=Ce,i}}Pn.prototype.bytesPerElement=48,bt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Pn);class v extends fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,u,f,m,x,w,S,I,L,V,G,Z,Q,ee,ae,de,fe,Ce,_e,Ie,$e,Ye,_t,Ot,yt,pt,ct,Ct){const ht=this.length;return this.resize(ht+1),this.emplace(ht,i,u,f,m,x,w,S,I,L,V,G,Z,Q,ee,ae,de,fe,Ce,_e,Ie,$e,Ye,_t,Ot,yt,pt,ct,Ct)}emplace(i,u,f,m,x,w,S,I,L,V,G,Z,Q,ee,ae,de,fe,Ce,_e,Ie,$e,Ye,_t,Ot,yt,pt,ct,Ct,ht){const it=32*i,Ut=16*i;return this.int16[it+0]=u,this.int16[it+1]=f,this.int16[it+2]=m,this.int16[it+3]=x,this.int16[it+4]=w,this.int16[it+5]=S,this.int16[it+6]=I,this.int16[it+7]=L,this.uint16[it+8]=V,this.uint16[it+9]=G,this.uint16[it+10]=Z,this.uint16[it+11]=Q,this.uint16[it+12]=ee,this.uint16[it+13]=ae,this.uint16[it+14]=de,this.uint16[it+15]=fe,this.uint16[it+16]=Ce,this.uint16[it+17]=_e,this.uint16[it+18]=Ie,this.uint16[it+19]=$e,this.uint16[it+20]=Ye,this.uint16[it+21]=_t,this.uint16[it+22]=Ot,this.uint32[Ut+12]=yt,this.float32[Ut+13]=pt,this.float32[Ut+14]=ct,this.uint16[it+30]=Ct,this.uint16[it+31]=ht,i}}v.prototype.bytesPerElement=64,bt("StructArrayLayout8i15ui1ul2f2ui64",v);class s extends fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i){const u=this.length;return this.resize(u+1),this.emplace(u,i)}emplace(i,u){return this.float32[1*i+0]=u,i}}s.prototype.bytesPerElement=4,bt("StructArrayLayout1f4",s);class h extends fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,u,f){const m=this.length;return this.resize(m+1),this.emplace(m,i,u,f)}emplace(i,u,f,m){const x=3*i;return this.uint16[6*i+0]=u,this.float32[x+1]=f,this.float32[x+2]=m,i}}h.prototype.bytesPerElement=12,bt("StructArrayLayout1ui2f12",h);class p extends fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,u,f){const m=this.length;return this.resize(m+1),this.emplace(m,i,u,f)}emplace(i,u,f,m){const x=4*i;return this.uint32[2*i+0]=u,this.uint16[x+2]=f,this.uint16[x+3]=m,i}}p.prototype.bytesPerElement=8,bt("StructArrayLayout1ul2ui8",p);class g extends fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,u){const f=this.length;return this.resize(f+1),this.emplace(f,i,u)}emplace(i,u,f){const m=2*i;return this.uint16[m+0]=u,this.uint16[m+1]=f,i}}g.prototype.bytesPerElement=4,bt("StructArrayLayout2ui4",g);class b extends fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i){const u=this.length;return this.resize(u+1),this.emplace(u,i)}emplace(i,u){return this.uint16[1*i+0]=u,i}}b.prototype.bytesPerElement=2,bt("StructArrayLayout1ui2",b);class T extends fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,u,f,m){const x=this.length;return this.resize(x+1),this.emplace(x,i,u,f,m)}emplace(i,u,f,m,x){const w=4*i;return this.float32[w+0]=u,this.float32[w+1]=f,this.float32[w+2]=m,this.float32[w+3]=x,i}}T.prototype.bytesPerElement=16,bt("StructArrayLayout4f16",T);class E extends Ql{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new k(this.anchorPointX,this.anchorPointY)}}E.prototype.size=20;class R extends Cp{get(i){return new E(this,i)}}bt("CollisionBoxArray",R);class B extends Ql{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(i){this._structArray.uint8[this._pos1+37]=i}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(i){this._structArray.uint8[this._pos1+38]=i}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(i){this._structArray.uint32[this._pos4+10]=i}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}B.prototype.size=48;class j extends Pn{get(i){return new B(this,i)}}bt("PlacedSymbolArray",j);class W extends Ql{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(i){this._structArray.uint32[this._pos4+12]=i}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}W.prototype.size=64;class X extends v{get(i){return new W(this,i)}}bt("SymbolInstanceArray",X);class se extends s{getoffsetX(i){return this.float32[1*i+0]}}bt("GlyphOffsetArray",se);class oe extends tc{getx(i){return this.int16[3*i+0]}gety(i){return this.int16[3*i+1]}gettileUnitDistanceFromAnchor(i){return this.int16[3*i+2]}}bt("SymbolLineVertexArray",oe);class ce extends Ql{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}ce.prototype.size=12;class ie extends h{get(i){return new ce(this,i)}}bt("TextAnchorOffsetArray",ie);class xe extends Ql{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}xe.prototype.size=8;class De extends p{get(i){return new xe(this,i)}}bt("FeatureIndexArray",De);class he extends ec{}class Se extends ec{}class Be extends ec{}class Ue extends Tu{}class He extends wp{}class rt extends wa{}class Je extends cl{}class at extends Sp{}class At extends Kd{}class hn extends ul{}class ft extends Tp{}class Gt extends kp{}class kt extends Jd{}class Hn extends g{}const un=Lr([{name:"a_pos",components:2,type:"Int16"}],4),{members:sn}=un;class Ht{constructor(i=[]){this.segments=i}prepareSegment(i,u,f,m){let x=this.segments[this.segments.length-1];return i>Ht.MAX_VERTEX_ARRAY_LENGTH&&Pe(`Max vertices per segment is ${Ht.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${i}`),(!x||x.vertexLength+i>Ht.MAX_VERTEX_ARRAY_LENGTH||x.sortKey!==m)&&(x={vertexOffset:u.length,primitiveOffset:f.length,vertexLength:0,primitiveLength:0},m!==void 0&&(x.sortKey=m),this.segments.push(x)),x}get(){return this.segments}destroy(){for(const i of this.segments)for(const u in i.vaos)i.vaos[u].destroy()}static simpleSegment(i,u,f,m){return new Ht([{vertexOffset:i,primitiveOffset:u,vertexLength:f,primitiveLength:m,vaos:{},sortKey:0}])}}function br(l,i){return 256*(l=A(Math.floor(l),0,255))+A(Math.floor(i),0,255)}Ht.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,bt("SegmentVector",Ht);const zn=Lr([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Ii={exports:{}},oi={exports:{}};oi.exports=function(l,i){var u,f,m,x,w,S,I,L;for(f=l.length-(u=3&l.length),m=i,w=3432918353,S=461845907,L=0;L<f;)I=255&l.charCodeAt(L)|(255&l.charCodeAt(++L))<<8|(255&l.charCodeAt(++L))<<16|(255&l.charCodeAt(++L))<<24,++L,m=27492+(65535&(x=5*(65535&(m=(m^=I=(65535&(I=(I=(65535&I)*w+(((I>>>16)*w&65535)<<16)&4294967295)<<15|I>>>17))*S+(((I>>>16)*S&65535)<<16)&4294967295)<<13|m>>>19))+((5*(m>>>16)&65535)<<16)&4294967295))+((58964+(x>>>16)&65535)<<16);switch(I=0,u){case 3:I^=(255&l.charCodeAt(L+2))<<16;case 2:I^=(255&l.charCodeAt(L+1))<<8;case 1:m^=I=(65535&(I=(I=(65535&(I^=255&l.charCodeAt(L)))*w+(((I>>>16)*w&65535)<<16)&4294967295)<<15|I>>>17))*S+(((I>>>16)*S&65535)<<16)&4294967295}return m^=l.length,m=2246822507*(65535&(m^=m>>>16))+((2246822507*(m>>>16)&65535)<<16)&4294967295,m=3266489909*(65535&(m^=m>>>13))+((3266489909*(m>>>16)&65535)<<16)&4294967295,(m^=m>>>16)>>>0};var $r=oi.exports,Fi={exports:{}};Fi.exports=function(l,i){for(var u,f=l.length,m=i^f,x=0;f>=4;)u=1540483477*(65535&(u=255&l.charCodeAt(x)|(255&l.charCodeAt(++x))<<8|(255&l.charCodeAt(++x))<<16|(255&l.charCodeAt(++x))<<24))+((1540483477*(u>>>16)&65535)<<16),m=1540483477*(65535&m)+((1540483477*(m>>>16)&65535)<<16)^(u=1540483477*(65535&(u^=u>>>24))+((1540483477*(u>>>16)&65535)<<16)),f-=4,++x;switch(f){case 3:m^=(255&l.charCodeAt(x+2))<<16;case 2:m^=(255&l.charCodeAt(x+1))<<8;case 1:m=1540483477*(65535&(m^=255&l.charCodeAt(x)))+((1540483477*(m>>>16)&65535)<<16)}return m=1540483477*(65535&(m^=m>>>13))+((1540483477*(m>>>16)&65535)<<16),(m^=m>>>15)>>>0};var Wo=$r,Vs=Fi.exports;Ii.exports=Wo,Ii.exports.murmur3=Wo,Ii.exports.murmur2=Vs;var Ws=y(Ii.exports);class Sa{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(i,u,f,m){this.ids.push(dl(i)),this.positions.push(u,f,m)}getPositions(i){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const u=dl(i);let f=0,m=this.ids.length-1;for(;f<m;){const w=f+m>>1;this.ids[w]>=u?m=w:f=w+1}const x=[];for(;this.ids[f]===u;)x.push({index:this.positions[3*f],start:this.positions[3*f+1],end:this.positions[3*f+2]}),f++;return x}static serialize(i,u){const f=new Float64Array(i.ids),m=new Uint32Array(i.positions);return Ca(f,m,0,f.length-1),u&&u.push(f.buffer,m.buffer),{ids:f,positions:m}}static deserialize(i){const u=new Sa;return u.ids=i.ids,u.positions=i.positions,u.indexed=!0,u}}function dl(l){const i=+l;return!isNaN(i)&&i<=Number.MAX_SAFE_INTEGER?i:Ws(String(l))}function Ca(l,i,u,f){for(;u<f;){const m=l[u+f>>1];let x=u-1,w=f+1;for(;;){do x++;while(l[x]<m);do w--;while(l[w]>m);if(x>=w)break;si(l,x,w),si(i,3*x,3*w),si(i,3*x+1,3*w+1),si(i,3*x+2,3*w+2)}w-u<f-w?(Ca(l,i,u,w),u=w+1):(Ca(l,i,w+1,f),f=w)}}function si(l,i,u){const f=l[i];l[i]=l[u],l[u]=f}bt("FeaturePositionMap",Sa);class wr{constructor(i,u){this.gl=i.gl,this.location=u}}class ai extends wr{constructor(i,u){super(i,u),this.current=0}set(i){this.current!==i&&(this.current=i,this.gl.uniform1f(this.location,i))}}class nc extends wr{constructor(i,u){super(i,u),this.current=[0,0,0,0]}set(i){i[0]===this.current[0]&&i[1]===this.current[1]&&i[2]===this.current[2]&&i[3]===this.current[3]||(this.current=i,this.gl.uniform4f(this.location,i[0],i[1],i[2],i[3]))}}class Wr extends wr{constructor(i,u){super(i,u),this.current=lt.transparent}set(i){i.r===this.current.r&&i.g===this.current.g&&i.b===this.current.b&&i.a===this.current.a||(this.current=i,this.gl.uniform4f(this.location,i.r,i.g,i.b,i.a))}}const li=new Float32Array(16);function Bi(l){return[br(255*l.r,255*l.g),br(255*l.b,255*l.a)]}class pr{constructor(i,u,f){this.value=i,this.uniformNames=u.map(m=>`u_${m}`),this.type=f}setUniform(i,u,f){i.set(f.constantOr(this.value))}getBinding(i,u,f){return this.type==="color"?new Wr(i,u):new ai(i,u)}}class rc{constructor(i,u){this.uniformNames=u.map(f=>`u_${f}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(i,u){this.pixelRatioFrom=u.pixelRatio,this.pixelRatioTo=i.pixelRatio,this.patternFrom=u.tlbr,this.patternTo=i.tlbr}setUniform(i,u,f,m){const x=m==="u_pattern_to"?this.patternTo:m==="u_pattern_from"?this.patternFrom:m==="u_pixel_ratio_to"?this.pixelRatioTo:m==="u_pixel_ratio_from"?this.pixelRatioFrom:null;x&&i.set(x)}getBinding(i,u,f){return f.substr(0,9)==="u_pattern"?new nc(i,u):new ai(i,u)}}class qs{constructor(i,u,f,m){this.expression=i,this.type=f,this.maxValue=0,this.paintVertexAttributes=u.map(x=>({name:`a_${x}`,type:"Float32",components:f==="color"?2:1,offset:0})),this.paintVertexArray=new m}populatePaintArray(i,u,f,m,x){const w=this.paintVertexArray.length,S=this.expression.evaluate(new ar(0),u,{},m,[],x);this.paintVertexArray.resize(i),this._setPaintValue(w,i,S)}updatePaintArray(i,u,f,m){const x=this.expression.evaluate({zoom:0},f,m);this._setPaintValue(i,u,x)}_setPaintValue(i,u,f){if(this.type==="color"){const m=Bi(f);for(let x=i;x<u;x++)this.paintVertexArray.emplace(x,m[0],m[1])}else{for(let m=i;m<u;m++)this.paintVertexArray.emplace(m,f);this.maxValue=Math.max(this.maxValue,Math.abs(f))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class qo{constructor(i,u,f,m,x,w){this.expression=i,this.uniformNames=u.map(S=>`u_${S}_t`),this.type=f,this.useIntegerZoom=m,this.zoom=x,this.maxValue=0,this.paintVertexAttributes=u.map(S=>({name:`a_${S}`,type:"Float32",components:f==="color"?4:2,offset:0})),this.paintVertexArray=new w}populatePaintArray(i,u,f,m,x){const w=this.expression.evaluate(new ar(this.zoom),u,{},m,[],x),S=this.expression.evaluate(new ar(this.zoom+1),u,{},m,[],x),I=this.paintVertexArray.length;this.paintVertexArray.resize(i),this._setPaintValue(I,i,w,S)}updatePaintArray(i,u,f,m){const x=this.expression.evaluate({zoom:this.zoom},f,m),w=this.expression.evaluate({zoom:this.zoom+1},f,m);this._setPaintValue(i,u,x,w)}_setPaintValue(i,u,f,m){if(this.type==="color"){const x=Bi(f),w=Bi(m);for(let S=i;S<u;S++)this.paintVertexArray.emplace(S,x[0],x[1],w[0],w[1])}else{for(let x=i;x<u;x++)this.paintVertexArray.emplace(x,f,m);this.maxValue=Math.max(this.maxValue,Math.abs(f),Math.abs(m))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(i,u){const f=this.useIntegerZoom?Math.floor(u.zoom):u.zoom,m=A(this.expression.interpolationFactor(f,this.zoom,this.zoom+1),0,1);i.set(m)}getBinding(i,u,f){return new ai(i,u)}}class Ta{constructor(i,u,f,m,x,w){this.expression=i,this.type=u,this.useIntegerZoom=f,this.zoom=m,this.layerId=w,this.zoomInPaintVertexArray=new x,this.zoomOutPaintVertexArray=new x}populatePaintArray(i,u,f){const m=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(i),this.zoomOutPaintVertexArray.resize(i),this._setPaintValues(m,i,u.patterns&&u.patterns[this.layerId],f)}updatePaintArray(i,u,f,m,x){this._setPaintValues(i,u,f.patterns&&f.patterns[this.layerId],x)}_setPaintValues(i,u,f,m){if(!m||!f)return;const{min:x,mid:w,max:S}=f,I=m[x],L=m[w],V=m[S];if(I&&L&&V)for(let G=i;G<u;G++)this.zoomInPaintVertexArray.emplace(G,L.tl[0],L.tl[1],L.br[0],L.br[1],I.tl[0],I.tl[1],I.br[0],I.br[1],L.pixelRatio,I.pixelRatio),this.zoomOutPaintVertexArray.emplace(G,L.tl[0],L.tl[1],L.br[0],L.br[1],V.tl[0],V.tl[1],V.br[0],V.br[1],L.pixelRatio,V.pixelRatio)}upload(i){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=i.createVertexBuffer(this.zoomInPaintVertexArray,zn.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=i.createVertexBuffer(this.zoomOutPaintVertexArray,zn.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Dy{constructor(i,u,f){this.binders={},this._buffers=[];const m=[];for(const x in i.paint._values){if(!f(x))continue;const w=i.paint.get(x);if(!(w instanceof Vo&&Kl(w.property.specification)))continue;const S=ic(x,i.type),I=w.value,L=w.property.specification.type,V=w.property.useIntegerZoom,G=w.property.specification["property-type"],Z=G==="cross-faded"||G==="cross-faded-data-driven";if(I.kind==="constant")this.binders[x]=Z?new rc(I.value,S):new pr(I.value,S,L),m.push(`/u_${x}`);else if(I.kind==="source"||Z){const Q=Ep(x,L,"source");this.binders[x]=Z?new Ta(I,L,V,u,Q,i.id):new qs(I,S,L,Q),m.push(`/a_${x}`)}else{const Q=Ep(x,L,"composite");this.binders[x]=new qo(I,S,L,V,u,Q),m.push(`/z_${x}`)}}this.cacheKey=m.sort().join("")}getMaxValue(i){const u=this.binders[i];return u instanceof qs||u instanceof qo?u.maxValue:0}populatePaintArrays(i,u,f,m,x){for(const w in this.binders){const S=this.binders[w];(S instanceof qs||S instanceof qo||S instanceof Ta)&&S.populatePaintArray(i,u,f,m,x)}}setConstantPatternPositions(i,u){for(const f in this.binders){const m=this.binders[f];m instanceof rc&&m.setConstantPatternPositions(i,u)}}updatePaintArrays(i,u,f,m,x){let w=!1;for(const S in i){const I=u.getPositions(S);for(const L of I){const V=f.feature(L.index);for(const G in this.binders){const Z=this.binders[G];if((Z instanceof qs||Z instanceof qo||Z instanceof Ta)&&Z.expression.isStateDependent===!0){const Q=m.paint.get(G);Z.expression=Q.value,Z.updatePaintArray(L.start,L.end,V,i[S],x),w=!0}}}}return w}defines(){const i=[];for(const u in this.binders){const f=this.binders[u];(f instanceof pr||f instanceof rc)&&i.push(...f.uniformNames.map(m=>`#define HAS_UNIFORM_${m}`))}return i}getBinderAttributes(){const i=[];for(const u in this.binders){const f=this.binders[u];if(f instanceof qs||f instanceof qo)for(let m=0;m<f.paintVertexAttributes.length;m++)i.push(f.paintVertexAttributes[m].name);else if(f instanceof Ta)for(let m=0;m<zn.members.length;m++)i.push(zn.members[m].name)}return i}getBinderUniforms(){const i=[];for(const u in this.binders){const f=this.binders[u];if(f instanceof pr||f instanceof rc||f instanceof qo)for(const m of f.uniformNames)i.push(m)}return i}getPaintVertexBuffers(){return this._buffers}getUniforms(i,u){const f=[];for(const m in this.binders){const x=this.binders[m];if(x instanceof pr||x instanceof rc||x instanceof qo){for(const w of x.uniformNames)if(u[w]){const S=x.getBinding(i,u[w],w);f.push({name:w,property:m,binding:S})}}}return f}setUniforms(i,u,f,m){for(const{name:x,property:w,binding:S}of u)this.binders[w].setUniform(S,m,f.get(w),x)}updatePaintBuffers(i){this._buffers=[];for(const u in this.binders){const f=this.binders[u];if(i&&f instanceof Ta){const m=i.fromScale===2?f.zoomInPaintVertexBuffer:f.zoomOutPaintVertexBuffer;m&&this._buffers.push(m)}else(f instanceof qs||f instanceof qo)&&f.paintVertexBuffer&&this._buffers.push(f.paintVertexBuffer)}}upload(i){for(const u in this.binders){const f=this.binders[u];(f instanceof qs||f instanceof qo||f instanceof Ta)&&f.upload(i)}this.updatePaintBuffers()}destroy(){for(const i in this.binders){const u=this.binders[i];(u instanceof qs||u instanceof qo||u instanceof Ta)&&u.destroy()}}}class hl{constructor(i,u,f=()=>!0){this.programConfigurations={};for(const m of i)this.programConfigurations[m.id]=new Dy(m,u,f);this.needsUpload=!1,this._featureMap=new Sa,this._bufferOffset=0}populatePaintArrays(i,u,f,m,x,w){for(const S in this.programConfigurations)this.programConfigurations[S].populatePaintArrays(i,u,m,x,w);u.id!==void 0&&this._featureMap.add(u.id,f,this._bufferOffset,i),this._bufferOffset=i,this.needsUpload=!0}updatePaintArrays(i,u,f,m){for(const x of f)this.needsUpload=this.programConfigurations[x.id].updatePaintArrays(i,this._featureMap,u,x,m)||this.needsUpload}get(i){return this.programConfigurations[i]}upload(i){if(this.needsUpload){for(const u in this.programConfigurations)this.programConfigurations[u].upload(i);this.needsUpload=!1}}destroy(){for(const i in this.programConfigurations)this.programConfigurations[i].destroy()}}function ic(l,i){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[l]||[l.replace(`${i}-`,"").replace(/-/g,"_")]}function Ep(l,i,u){const f={color:{source:wa,composite:T},number:{source:s,composite:wa}},m=function(x){return{"line-pattern":{source:Je,composite:Je},"fill-pattern":{source:Je,composite:Je},"fill-extrusion-pattern":{source:Je,composite:Je}}[x]}(l);return m&&m[u]||f[i][u]}bt("ConstantBinder",pr),bt("CrossFadedConstantBinder",rc),bt("SourceExpressionBinder",qs),bt("CrossFadedCompositeBinder",Ta),bt("CompositeExpressionBinder",qo),bt("ProgramConfiguration",Dy,{omit:["_buffers"]}),bt("ProgramConfigurationSet",hl);const mr=8192,Qd=Math.pow(2,14)-1,eh=-Qd-1;function ka(l){const i=mr/l.extent,u=l.loadGeometry();for(let f=0;f<u.length;f++){const m=u[f];for(let x=0;x<m.length;x++){const w=m[x],S=Math.round(w.x*i),I=Math.round(w.y*i);w.x=A(S,eh,Qd),w.y=A(I,eh,Qd),(S<w.x||S>w.x+1||I<w.y||I>w.y+1)&&Pe("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return u}function Gs(l,i){return{type:l.type,id:l.id,properties:l.properties,geometry:i?ka(l):[]}}function zy(l,i,u,f,m){l.emplaceBack(2*i+(f+1)/2,2*u+(m+1)/2)}class B1{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(u=>u.id),this.index=i.index,this.hasPattern=!1,this.layoutVertexArray=new Se,this.indexArray=new kt,this.segments=new Ht,this.programConfigurations=new hl(i.layers,i.zoom),this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id)}populate(i,u,f){const m=this.layers[0],x=[];let w=null,S=!1;m.type==="circle"&&(w=m.layout.get("circle-sort-key"),S=!w.isConstant());for(const{feature:I,id:L,index:V,sourceLayerIndex:G}of i){const Z=this.layers[0]._featureFilter.needGeometry,Q=Gs(I,Z);if(!this.layers[0]._featureFilter.filter(new ar(this.zoom),Q,f))continue;const ee=S?w.evaluate(Q,{},f):void 0,ae={id:L,properties:I.properties,type:I.type,sourceLayerIndex:G,index:V,geometry:Z?Q.geometry:ka(I),patterns:{},sortKey:ee};x.push(ae)}S&&x.sort((I,L)=>I.sortKey-L.sortKey);for(const I of x){const{geometry:L,index:V,sourceLayerIndex:G}=I,Z=i[V].feature;this.addFeature(I,L,V,f),u.featureIndex.insert(Z,L,V,G,this.index)}}update(i,u,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,u,this.stateDependentLayers,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,sn),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(i,u,f,m){for(const x of u)for(const w of x){const S=w.x,I=w.y;if(S<0||S>=mr||I<0||I>=mr)continue;const L=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,i.sortKey),V=L.vertexLength;zy(this.layoutVertexArray,S,I,-1,-1),zy(this.layoutVertexArray,S,I,1,-1),zy(this.layoutVertexArray,S,I,1,1),zy(this.layoutVertexArray,S,I,-1,1),this.indexArray.emplaceBack(V,V+1,V+2),this.indexArray.emplaceBack(V,V+3,V+2),L.vertexLength+=4,L.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,{},m)}}function mE(l,i){for(let u=0;u<l.length;u++)if(th(i,l[u]))return!0;for(let u=0;u<i.length;u++)if(th(l,i[u]))return!0;return!!j1(l,i)}function b3(l,i,u){return!!th(l,i)||!!U1(i,l,u)}function gE(l,i){if(l.length===1)return vE(i,l[0]);for(let u=0;u<i.length;u++){const f=i[u];for(let m=0;m<f.length;m++)if(th(l,f[m]))return!0}for(let u=0;u<l.length;u++)if(vE(i,l[u]))return!0;for(let u=0;u<i.length;u++)if(j1(l,i[u]))return!0;return!1}function w3(l,i,u){if(l.length>1){if(j1(l,i))return!0;for(let f=0;f<i.length;f++)if(U1(i[f],l,u))return!0}for(let f=0;f<l.length;f++)if(U1(l[f],i,u))return!0;return!1}function j1(l,i){if(l.length===0||i.length===0)return!1;for(let u=0;u<l.length-1;u++){const f=l[u],m=l[u+1];for(let x=0;x<i.length-1;x++)if(S3(f,m,i[x],i[x+1]))return!0}return!1}function S3(l,i,u,f){return ye(l,u,f)!==ye(i,u,f)&&ye(l,i,u)!==ye(l,i,f)}function U1(l,i,u){const f=u*u;if(i.length===1)return l.distSqr(i[0])<f;for(let m=1;m<i.length;m++)if(yE(l,i[m-1],i[m])<f)return!0;return!1}function yE(l,i,u){const f=i.distSqr(u);if(f===0)return l.distSqr(i);const m=((l.x-i.x)*(u.x-i.x)+(l.y-i.y)*(u.y-i.y))/f;return l.distSqr(m<0?i:m>1?u:u.sub(i)._mult(m)._add(i))}function vE(l,i){let u,f,m,x=!1;for(let w=0;w<l.length;w++){u=l[w];for(let S=0,I=u.length-1;S<u.length;I=S++)f=u[S],m=u[I],f.y>i.y!=m.y>i.y&&i.x<(m.x-f.x)*(i.y-f.y)/(m.y-f.y)+f.x&&(x=!x)}return x}function th(l,i){let u=!1;for(let f=0,m=l.length-1;f<l.length;m=f++){const x=l[f],w=l[m];x.y>i.y!=w.y>i.y&&i.x<(w.x-x.x)*(i.y-x.y)/(w.y-x.y)+x.x&&(u=!u)}return u}function C3(l,i,u){const f=u[0],m=u[2];if(l.x<f.x&&i.x<f.x||l.x>m.x&&i.x>m.x||l.y<f.y&&i.y<f.y||l.y>m.y&&i.y>m.y)return!1;const x=ye(l,i,u[0]);return x!==ye(l,i,u[1])||x!==ye(l,i,u[2])||x!==ye(l,i,u[3])}function Pp(l,i,u){const f=i.paint.get(l).value;return f.kind==="constant"?f.value:u.programConfigurations.get(i.id).getMaxValue(l)}function Ly(l){return Math.sqrt(l[0]*l[0]+l[1]*l[1])}function $y(l,i,u,f,m){if(!i[0]&&!i[1])return l;const x=k.convert(i)._mult(m);u==="viewport"&&x._rotate(-f);const w=[];for(let S=0;S<l.length;S++)w.push(l[S].sub(x));return w}let _E,xE;bt("CircleBucket",B1,{omit:["layers"]});var T3={get paint(){return xE=xE||new Jr({"circle-radius":new qt(Re.paint_circle["circle-radius"]),"circle-color":new qt(Re.paint_circle["circle-color"]),"circle-blur":new qt(Re.paint_circle["circle-blur"]),"circle-opacity":new qt(Re.paint_circle["circle-opacity"]),"circle-translate":new Nt(Re.paint_circle["circle-translate"]),"circle-translate-anchor":new Nt(Re.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Nt(Re.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Nt(Re.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new qt(Re.paint_circle["circle-stroke-width"]),"circle-stroke-color":new qt(Re.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new qt(Re.paint_circle["circle-stroke-opacity"])})},get layout(){return _E=_E||new Jr({"circle-sort-key":new qt(Re.layout_circle["circle-sort-key"])})}},ji=1e-6,nh=typeof Float32Array<"u"?Float32Array:Array;function V1(l){return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l}function bE(l,i,u){var f=i[0],m=i[1],x=i[2],w=i[3],S=i[4],I=i[5],L=i[6],V=i[7],G=i[8],Z=i[9],Q=i[10],ee=i[11],ae=i[12],de=i[13],fe=i[14],Ce=i[15],_e=u[0],Ie=u[1],$e=u[2],Ye=u[3];return l[0]=_e*f+Ie*S+$e*G+Ye*ae,l[1]=_e*m+Ie*I+$e*Z+Ye*de,l[2]=_e*x+Ie*L+$e*Q+Ye*fe,l[3]=_e*w+Ie*V+$e*ee+Ye*Ce,l[4]=(_e=u[4])*f+(Ie=u[5])*S+($e=u[6])*G+(Ye=u[7])*ae,l[5]=_e*m+Ie*I+$e*Z+Ye*de,l[6]=_e*x+Ie*L+$e*Q+Ye*fe,l[7]=_e*w+Ie*V+$e*ee+Ye*Ce,l[8]=(_e=u[8])*f+(Ie=u[9])*S+($e=u[10])*G+(Ye=u[11])*ae,l[9]=_e*m+Ie*I+$e*Z+Ye*de,l[10]=_e*x+Ie*L+$e*Q+Ye*fe,l[11]=_e*w+Ie*V+$e*ee+Ye*Ce,l[12]=(_e=u[12])*f+(Ie=u[13])*S+($e=u[14])*G+(Ye=u[15])*ae,l[13]=_e*m+Ie*I+$e*Z+Ye*de,l[14]=_e*x+Ie*L+$e*Q+Ye*fe,l[15]=_e*w+Ie*V+$e*ee+Ye*Ce,l}Math.hypot||(Math.hypot=function(){for(var l=0,i=arguments.length;i--;)l+=arguments[i]*arguments[i];return Math.sqrt(l)});var Ip,k3=bE;function Ny(l,i,u){var f=i[0],m=i[1],x=i[2],w=i[3];return l[0]=u[0]*f+u[4]*m+u[8]*x+u[12]*w,l[1]=u[1]*f+u[5]*m+u[9]*x+u[13]*w,l[2]=u[2]*f+u[6]*m+u[10]*x+u[14]*w,l[3]=u[3]*f+u[7]*m+u[11]*x+u[15]*w,l}Ip=new nh(4),nh!=Float32Array&&(Ip[0]=0,Ip[1]=0,Ip[2]=0,Ip[3]=0);class E3 extends ms{constructor(i){super(i,T3)}createBucket(i){return new B1(i)}queryRadius(i){const u=i;return Pp("circle-radius",this,u)+Pp("circle-stroke-width",this,u)+Ly(this.paint.get("circle-translate"))}queryIntersectsFeature(i,u,f,m,x,w,S,I){const L=$y(i,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),w.angle,S),V=this.paint.get("circle-radius").evaluate(u,f)+this.paint.get("circle-stroke-width").evaluate(u,f),G=this.paint.get("circle-pitch-alignment")==="map",Z=G?L:function(ee,ae){return ee.map(de=>wE(de,ae))}(L,I),Q=G?V*S:V;for(const ee of m)for(const ae of ee){const de=G?ae:wE(ae,I);let fe=Q;const Ce=Ny([],[ae.x,ae.y,0,1],I);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?fe*=Ce[3]/w.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(fe*=w.cameraToCenterDistance/Ce[3]),b3(Z,de,fe))return!0}return!1}}function wE(l,i){const u=Ny([],[l.x,l.y,0,1],i);return new k(u[0]/u[3],u[1]/u[3])}class SE extends B1{}let CE;bt("HeatmapBucket",SE,{omit:["layers"]});var P3={get paint(){return CE=CE||new Jr({"heatmap-radius":new qt(Re.paint_heatmap["heatmap-radius"]),"heatmap-weight":new qt(Re.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Nt(Re.paint_heatmap["heatmap-intensity"]),"heatmap-color":new bp(Re.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Nt(Re.paint_heatmap["heatmap-opacity"])})}};function W1(l,{width:i,height:u},f,m){if(m){if(m instanceof Uint8ClampedArray)m=new Uint8Array(m.buffer);else if(m.length!==i*u*f)throw new RangeError(`mismatched image size. expected: ${m.length} but got: ${i*u*f}`)}else m=new Uint8Array(i*u*f);return l.width=i,l.height=u,l.data=m,l}function TE(l,{width:i,height:u},f){if(i===l.width&&u===l.height)return;const m=W1({},{width:i,height:u},f);q1(l,m,{x:0,y:0},{x:0,y:0},{width:Math.min(l.width,i),height:Math.min(l.height,u)},f),l.width=i,l.height=u,l.data=m.data}function q1(l,i,u,f,m,x){if(m.width===0||m.height===0)return i;if(m.width>l.width||m.height>l.height||u.x>l.width-m.width||u.y>l.height-m.height)throw new RangeError("out of range source coordinates for image copy");if(m.width>i.width||m.height>i.height||f.x>i.width-m.width||f.y>i.height-m.height)throw new RangeError("out of range destination coordinates for image copy");const w=l.data,S=i.data;if(w===S)throw new Error("srcData equals dstData, so image is already copied");for(let I=0;I<m.height;I++){const L=((u.y+I)*l.width+u.x)*x,V=((f.y+I)*i.width+f.x)*x;for(let G=0;G<m.width*x;G++)S[V+G]=w[L+G]}return i}class Mp{constructor(i,u){W1(this,i,1,u)}resize(i){TE(this,i,1)}clone(){return new Mp({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,u,f,m,x){q1(i,u,f,m,x,1)}}class Go{constructor(i,u){W1(this,i,4,u)}resize(i){TE(this,i,4)}replace(i,u){u?this.data.set(i):this.data=i instanceof Uint8ClampedArray?new Uint8Array(i.buffer):i}clone(){return new Go({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,u,f,m,x){q1(i,u,f,m,x,4)}}function kE(l){const i={},u=l.resolution||256,f=l.clips?l.clips.length:1,m=l.image||new Go({width:u,height:f});if(Math.log(u)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${u}`);const x=(w,S,I)=>{i[l.evaluationKey]=I;const L=l.expression.evaluate(i);m.data[w+S+0]=Math.floor(255*L.r/L.a),m.data[w+S+1]=Math.floor(255*L.g/L.a),m.data[w+S+2]=Math.floor(255*L.b/L.a),m.data[w+S+3]=Math.floor(255*L.a)};if(l.clips)for(let w=0,S=0;w<f;++w,S+=4*u)for(let I=0,L=0;I<u;I++,L+=4){const V=I/(u-1),{start:G,end:Z}=l.clips[w];x(S,L,G*(1-V)+Z*V)}else for(let w=0,S=0;w<u;w++,S+=4)x(0,S,w/(u-1));return m}bt("AlphaImage",Mp),bt("RGBAImage",Go);class I3 extends ms{createBucket(i){return new SE(i)}constructor(i){super(i,P3),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(i){i==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=kE({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let EE;var M3={get paint(){return EE=EE||new Jr({"hillshade-illumination-direction":new Nt(Re.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Nt(Re.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Nt(Re.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Nt(Re.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Nt(Re.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Nt(Re.paint_hillshade["hillshade-accent-color"])})}};class R3 extends ms{constructor(i){super(i,M3)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const A3=Lr([{name:"a_pos",components:2,type:"Int16"}],4),{members:O3}=A3;var G1={exports:{}};function Fy(l,i,u){u=u||2;var f,m,x,w,S,I,L,V=i&&i.length,G=V?i[0]*u:l.length,Z=PE(l,0,G,u,!0),Q=[];if(!Z||Z.next===Z.prev)return Q;if(V&&(Z=function(ae,de,fe,Ce){var _e,Ie,$e,Ye=[];for(_e=0,Ie=de.length;_e<Ie;_e++)($e=PE(ae,de[_e]*Ce,_e<Ie-1?de[_e+1]*Ce:ae.length,Ce,!1))===$e.next&&($e.steiner=!0),Ye.push(j3($e));for(Ye.sort(N3),_e=0;_e<Ye.length;_e++)fe=F3(Ye[_e],fe);return fe}(l,i,Z,u)),l.length>80*u){f=x=l[0],m=w=l[1];for(var ee=u;ee<G;ee+=u)(S=l[ee])<f&&(f=S),(I=l[ee+1])<m&&(m=I),S>x&&(x=S),I>w&&(w=I);L=(L=Math.max(x-f,w-m))!==0?32767/L:0}return Rp(Z,Q,u,f,m,L,0),Q}function PE(l,i,u,f,m){var x,w;if(m===Z1(l,i,u,f)>0)for(x=i;x<u;x+=f)w=RE(x,l[x],l[x+1],w);else for(x=u-f;x>=i;x-=f)w=RE(x,l[x],l[x+1],w);return w&&By(w,w.next)&&(Op(w),w=w.next),w}function ku(l,i){if(!l)return l;i||(i=l);var u,f=l;do if(u=!1,f.steiner||!By(f,f.next)&&Nr(f.prev,f,f.next)!==0)f=f.next;else{if(Op(f),(f=i=f.prev)===f.next)break;u=!0}while(u||f!==i);return i}function Rp(l,i,u,f,m,x,w){if(l){!w&&x&&function(V,G,Z,Q){var ee=V;do ee.z===0&&(ee.z=H1(ee.x,ee.y,G,Z,Q)),ee.prevZ=ee.prev,ee.nextZ=ee.next,ee=ee.next;while(ee!==V);ee.prevZ.nextZ=null,ee.prevZ=null,function(ae){var de,fe,Ce,_e,Ie,$e,Ye,_t,Ot=1;do{for(fe=ae,ae=null,Ie=null,$e=0;fe;){for($e++,Ce=fe,Ye=0,de=0;de<Ot&&(Ye++,Ce=Ce.nextZ);de++);for(_t=Ot;Ye>0||_t>0&&Ce;)Ye!==0&&(_t===0||!Ce||fe.z<=Ce.z)?(_e=fe,fe=fe.nextZ,Ye--):(_e=Ce,Ce=Ce.nextZ,_t--),Ie?Ie.nextZ=_e:ae=_e,_e.prevZ=Ie,Ie=_e;fe=Ce}Ie.nextZ=null,Ot*=2}while($e>1)}(ee)}(l,f,m,x);for(var S,I,L=l;l.prev!==l.next;)if(S=l.prev,I=l.next,x?z3(l,f,m,x):D3(l))i.push(S.i/u|0),i.push(l.i/u|0),i.push(I.i/u|0),Op(l),l=I.next,L=I.next;else if((l=I)===L){w?w===1?Rp(l=L3(ku(l),i,u),i,u,f,m,x,2):w===2&&$3(l,i,u,f,m,x):Rp(ku(l),i,u,f,m,x,1);break}}}function D3(l){var i=l.prev,u=l,f=l.next;if(Nr(i,u,f)>=0)return!1;for(var m=i.x,x=u.x,w=f.x,S=i.y,I=u.y,L=f.y,V=m<x?m<w?m:w:x<w?x:w,G=S<I?S<L?S:L:I<L?I:L,Z=m>x?m>w?m:w:x>w?x:w,Q=S>I?S>L?S:L:I>L?I:L,ee=f.next;ee!==i;){if(ee.x>=V&&ee.x<=Z&&ee.y>=G&&ee.y<=Q&&rh(m,S,x,I,w,L,ee.x,ee.y)&&Nr(ee.prev,ee,ee.next)>=0)return!1;ee=ee.next}return!0}function z3(l,i,u,f){var m=l.prev,x=l,w=l.next;if(Nr(m,x,w)>=0)return!1;for(var S=m.x,I=x.x,L=w.x,V=m.y,G=x.y,Z=w.y,Q=S<I?S<L?S:L:I<L?I:L,ee=V<G?V<Z?V:Z:G<Z?G:Z,ae=S>I?S>L?S:L:I>L?I:L,de=V>G?V>Z?V:Z:G>Z?G:Z,fe=H1(Q,ee,i,u,f),Ce=H1(ae,de,i,u,f),_e=l.prevZ,Ie=l.nextZ;_e&&_e.z>=fe&&Ie&&Ie.z<=Ce;){if(_e.x>=Q&&_e.x<=ae&&_e.y>=ee&&_e.y<=de&&_e!==m&&_e!==w&&rh(S,V,I,G,L,Z,_e.x,_e.y)&&Nr(_e.prev,_e,_e.next)>=0||(_e=_e.prevZ,Ie.x>=Q&&Ie.x<=ae&&Ie.y>=ee&&Ie.y<=de&&Ie!==m&&Ie!==w&&rh(S,V,I,G,L,Z,Ie.x,Ie.y)&&Nr(Ie.prev,Ie,Ie.next)>=0))return!1;Ie=Ie.nextZ}for(;_e&&_e.z>=fe;){if(_e.x>=Q&&_e.x<=ae&&_e.y>=ee&&_e.y<=de&&_e!==m&&_e!==w&&rh(S,V,I,G,L,Z,_e.x,_e.y)&&Nr(_e.prev,_e,_e.next)>=0)return!1;_e=_e.prevZ}for(;Ie&&Ie.z<=Ce;){if(Ie.x>=Q&&Ie.x<=ae&&Ie.y>=ee&&Ie.y<=de&&Ie!==m&&Ie!==w&&rh(S,V,I,G,L,Z,Ie.x,Ie.y)&&Nr(Ie.prev,Ie,Ie.next)>=0)return!1;Ie=Ie.nextZ}return!0}function L3(l,i,u){var f=l;do{var m=f.prev,x=f.next.next;!By(m,x)&&IE(m,f,f.next,x)&&Ap(m,x)&&Ap(x,m)&&(i.push(m.i/u|0),i.push(f.i/u|0),i.push(x.i/u|0),Op(f),Op(f.next),f=l=x),f=f.next}while(f!==l);return ku(f)}function $3(l,i,u,f,m,x){var w=l;do{for(var S=w.next.next;S!==w.prev;){if(w.i!==S.i&&U3(w,S)){var I=ME(w,S);return w=ku(w,w.next),I=ku(I,I.next),Rp(w,i,u,f,m,x,0),void Rp(I,i,u,f,m,x,0)}S=S.next}w=w.next}while(w!==l)}function N3(l,i){return l.x-i.x}function F3(l,i){var u=function(m,x){var w,S=x,I=m.x,L=m.y,V=-1/0;do{if(L<=S.y&&L>=S.next.y&&S.next.y!==S.y){var G=S.x+(L-S.y)*(S.next.x-S.x)/(S.next.y-S.y);if(G<=I&&G>V&&(V=G,w=S.x<S.next.x?S:S.next,G===I))return w}S=S.next}while(S!==x);if(!w)return null;var Z,Q=w,ee=w.x,ae=w.y,de=1/0;S=w;do I>=S.x&&S.x>=ee&&I!==S.x&&rh(L<ae?I:V,L,ee,ae,L<ae?V:I,L,S.x,S.y)&&(Z=Math.abs(L-S.y)/(I-S.x),Ap(S,m)&&(Z<de||Z===de&&(S.x>w.x||S.x===w.x&&B3(w,S)))&&(w=S,de=Z)),S=S.next;while(S!==Q);return w}(l,i);if(!u)return i;var f=ME(u,l);return ku(f,f.next),ku(u,u.next)}function B3(l,i){return Nr(l.prev,l,i.prev)<0&&Nr(i.next,l,l.next)<0}function H1(l,i,u,f,m){return(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-u)*m|0)|l<<8))|l<<4))|l<<2))|l<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=(i-f)*m|0)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function j3(l){var i=l,u=l;do(i.x<u.x||i.x===u.x&&i.y<u.y)&&(u=i),i=i.next;while(i!==l);return u}function rh(l,i,u,f,m,x,w,S){return(m-w)*(i-S)>=(l-w)*(x-S)&&(l-w)*(f-S)>=(u-w)*(i-S)&&(u-w)*(x-S)>=(m-w)*(f-S)}function U3(l,i){return l.next.i!==i.i&&l.prev.i!==i.i&&!function(u,f){var m=u;do{if(m.i!==u.i&&m.next.i!==u.i&&m.i!==f.i&&m.next.i!==f.i&&IE(m,m.next,u,f))return!0;m=m.next}while(m!==u);return!1}(l,i)&&(Ap(l,i)&&Ap(i,l)&&function(u,f){var m=u,x=!1,w=(u.x+f.x)/2,S=(u.y+f.y)/2;do m.y>S!=m.next.y>S&&m.next.y!==m.y&&w<(m.next.x-m.x)*(S-m.y)/(m.next.y-m.y)+m.x&&(x=!x),m=m.next;while(m!==u);return x}(l,i)&&(Nr(l.prev,l,i.prev)||Nr(l,i.prev,i))||By(l,i)&&Nr(l.prev,l,l.next)>0&&Nr(i.prev,i,i.next)>0)}function Nr(l,i,u){return(i.y-l.y)*(u.x-i.x)-(i.x-l.x)*(u.y-i.y)}function By(l,i){return l.x===i.x&&l.y===i.y}function IE(l,i,u,f){var m=Uy(Nr(l,i,u)),x=Uy(Nr(l,i,f)),w=Uy(Nr(u,f,l)),S=Uy(Nr(u,f,i));return m!==x&&w!==S||!(m!==0||!jy(l,u,i))||!(x!==0||!jy(l,f,i))||!(w!==0||!jy(u,l,f))||!(S!==0||!jy(u,i,f))}function jy(l,i,u){return i.x<=Math.max(l.x,u.x)&&i.x>=Math.min(l.x,u.x)&&i.y<=Math.max(l.y,u.y)&&i.y>=Math.min(l.y,u.y)}function Uy(l){return l>0?1:l<0?-1:0}function Ap(l,i){return Nr(l.prev,l,l.next)<0?Nr(l,i,l.next)>=0&&Nr(l,l.prev,i)>=0:Nr(l,i,l.prev)<0||Nr(l,l.next,i)<0}function ME(l,i){var u=new Y1(l.i,l.x,l.y),f=new Y1(i.i,i.x,i.y),m=l.next,x=i.prev;return l.next=i,i.prev=l,u.next=m,m.prev=u,f.next=u,u.prev=f,x.next=f,f.prev=x,f}function RE(l,i,u,f){var m=new Y1(l,i,u);return f?(m.next=f.next,m.prev=f,f.next.prev=m,f.next=m):(m.prev=m,m.next=m),m}function Op(l){l.next.prev=l.prev,l.prev.next=l.next,l.prevZ&&(l.prevZ.nextZ=l.nextZ),l.nextZ&&(l.nextZ.prevZ=l.prevZ)}function Y1(l,i,u){this.i=l,this.x=i,this.y=u,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Z1(l,i,u,f){for(var m=0,x=i,w=u-f;x<u;x+=f)m+=(l[w]-l[x])*(l[x+1]+l[w+1]),w=x;return m}G1.exports=Fy,G1.exports.default=Fy,Fy.deviation=function(l,i,u,f){var m=i&&i.length,x=Math.abs(Z1(l,0,m?i[0]*u:l.length,u));if(m)for(var w=0,S=i.length;w<S;w++)x-=Math.abs(Z1(l,i[w]*u,w<S-1?i[w+1]*u:l.length,u));var I=0;for(w=0;w<f.length;w+=3){var L=f[w]*u,V=f[w+1]*u,G=f[w+2]*u;I+=Math.abs((l[L]-l[G])*(l[V+1]-l[L+1])-(l[L]-l[V])*(l[G+1]-l[L+1]))}return x===0&&I===0?0:Math.abs((I-x)/x)},Fy.flatten=function(l){for(var i=l[0][0].length,u={vertices:[],holes:[],dimensions:i},f=0,m=0;m<l.length;m++){for(var x=0;x<l[m].length;x++)for(var w=0;w<i;w++)u.vertices.push(l[m][x][w]);m>0&&u.holes.push(f+=l[m-1].length)}return u};var AE=y(G1.exports);function V3(l,i,u,f,m){OE(l,i,u||0,f||l.length-1,m||W3)}function OE(l,i,u,f,m){for(;f>u;){if(f-u>600){var x=f-u+1,w=i-u+1,S=Math.log(x),I=.5*Math.exp(2*S/3),L=.5*Math.sqrt(S*I*(x-I)/x)*(w-x/2<0?-1:1);OE(l,i,Math.max(u,Math.floor(i-w*I/x+L)),Math.min(f,Math.floor(i+(x-w)*I/x+L)),m)}var V=l[i],G=u,Z=f;for(Dp(l,u,i),m(l[f],V)>0&&Dp(l,u,f);G<Z;){for(Dp(l,G,Z),G++,Z--;m(l[G],V)<0;)G++;for(;m(l[Z],V)>0;)Z--}m(l[u],V)===0?Dp(l,u,Z):Dp(l,++Z,f),Z<=i&&(u=Z+1),i<=Z&&(f=Z-1)}}function Dp(l,i,u){var f=l[i];l[i]=l[u],l[u]=f}function W3(l,i){return l<i?-1:l>i?1:0}function K1(l,i){const u=l.length;if(u<=1)return[l];const f=[];let m,x;for(let w=0;w<u;w++){const S=Ne(l[w]);S!==0&&(l[w].area=Math.abs(S),x===void 0&&(x=S<0),x===S<0?(m&&f.push(m),m=[l[w]]):m.push(l[w]))}if(m&&f.push(m),i>1)for(let w=0;w<f.length;w++)f[w].length<=i||(V3(f[w],i,1,f[w].length-1,q3),f[w]=f[w].slice(0,i));return f}function q3(l,i){return i.area-l.area}function X1(l,i,u){const f=u.patternDependencies;let m=!1;for(const x of i){const w=x.paint.get(`${l}-pattern`);w.isConstant()||(m=!0);const S=w.constantOr(null);S&&(m=!0,f[S.to]=!0,f[S.from]=!0)}return m}function J1(l,i,u,f,m){const x=m.patternDependencies;for(const w of i){const S=w.paint.get(`${l}-pattern`).value;if(S.kind!=="constant"){let I=S.evaluate({zoom:f-1},u,{},m.availableImages),L=S.evaluate({zoom:f},u,{},m.availableImages),V=S.evaluate({zoom:f+1},u,{},m.availableImages);I=I&&I.name?I.name:I,L=L&&L.name?L.name:L,V=V&&V.name?V.name:V,x[I]=!0,x[L]=!0,x[V]=!0,u.patterns[w.id]={min:I,mid:L,max:V}}}return u}class Q1{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(u=>u.id),this.index=i.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Be,this.indexArray=new kt,this.indexArray2=new Hn,this.programConfigurations=new hl(i.layers,i.zoom),this.segments=new Ht,this.segments2=new Ht,this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id)}populate(i,u,f){this.hasPattern=X1("fill",this.layers,u);const m=this.layers[0].layout.get("fill-sort-key"),x=!m.isConstant(),w=[];for(const{feature:S,id:I,index:L,sourceLayerIndex:V}of i){const G=this.layers[0]._featureFilter.needGeometry,Z=Gs(S,G);if(!this.layers[0]._featureFilter.filter(new ar(this.zoom),Z,f))continue;const Q=x?m.evaluate(Z,{},f,u.availableImages):void 0,ee={id:I,properties:S.properties,type:S.type,sourceLayerIndex:V,index:L,geometry:G?Z.geometry:ka(S),patterns:{},sortKey:Q};w.push(ee)}x&&w.sort((S,I)=>S.sortKey-I.sortKey);for(const S of w){const{geometry:I,index:L,sourceLayerIndex:V}=S;if(this.hasPattern){const G=J1("fill",this.layers,S,this.zoom,u);this.patternFeatures.push(G)}else this.addFeature(S,I,L,f,{});u.featureIndex.insert(i[L].feature,I,L,V,this.index)}}update(i,u,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,u,this.stateDependentLayers,f)}addFeatures(i,u,f){for(const m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,u,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,O3),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.indexBuffer2=i.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(i,u,f,m,x){for(const w of K1(u,500)){let S=0;for(const Q of w)S+=Q.length;const I=this.segments.prepareSegment(S,this.layoutVertexArray,this.indexArray),L=I.vertexLength,V=[],G=[];for(const Q of w){if(Q.length===0)continue;Q!==w[0]&&G.push(V.length/2);const ee=this.segments2.prepareSegment(Q.length,this.layoutVertexArray,this.indexArray2),ae=ee.vertexLength;this.layoutVertexArray.emplaceBack(Q[0].x,Q[0].y),this.indexArray2.emplaceBack(ae+Q.length-1,ae),V.push(Q[0].x),V.push(Q[0].y);for(let de=1;de<Q.length;de++)this.layoutVertexArray.emplaceBack(Q[de].x,Q[de].y),this.indexArray2.emplaceBack(ae+de-1,ae+de),V.push(Q[de].x),V.push(Q[de].y);ee.vertexLength+=Q.length,ee.primitiveLength+=Q.length}const Z=AE(V,G);for(let Q=0;Q<Z.length;Q+=3)this.indexArray.emplaceBack(L+Z[Q],L+Z[Q+1],L+Z[Q+2]);I.vertexLength+=S,I.primitiveLength+=Z.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,x,m)}}let DE,zE;bt("FillBucket",Q1,{omit:["layers","patternFeatures"]});var G3={get paint(){return zE=zE||new Jr({"fill-antialias":new Nt(Re.paint_fill["fill-antialias"]),"fill-opacity":new qt(Re.paint_fill["fill-opacity"]),"fill-color":new qt(Re.paint_fill["fill-color"]),"fill-outline-color":new qt(Re.paint_fill["fill-outline-color"]),"fill-translate":new Nt(Re.paint_fill["fill-translate"]),"fill-translate-anchor":new Nt(Re.paint_fill["fill-translate-anchor"]),"fill-pattern":new Yd(Re.paint_fill["fill-pattern"])})},get layout(){return DE=DE||new Jr({"fill-sort-key":new qt(Re.layout_fill["fill-sort-key"])})}};class H3 extends ms{constructor(i){super(i,G3)}recalculate(i,u){super.recalculate(i,u);const f=this.paint._values["fill-outline-color"];f.value.kind==="constant"&&f.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(i){return new Q1(i)}queryRadius(){return Ly(this.paint.get("fill-translate"))}queryIntersectsFeature(i,u,f,m,x,w,S){return gE($y(i,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),w.angle,S),m)}isTileClipped(){return!0}}const Y3=Lr([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Z3=Lr([{name:"a_centroid",components:2,type:"Int16"}],4),{members:K3}=Y3;var oc={},X3=_,LE=ih;function ih(l,i,u,f,m){this.properties={},this.extent=u,this.type=0,this._pbf=l,this._geometry=-1,this._keys=f,this._values=m,l.readFields(J3,this,i)}function J3(l,i,u){l==1?i.id=u.readVarint():l==2?function(f,m){for(var x=f.readVarint()+f.pos;f.pos<x;){var w=m._keys[f.readVarint()],S=m._values[f.readVarint()];m.properties[w]=S}}(u,i):l==3?i.type=u.readVarint():l==4&&(i._geometry=u.pos)}function Q3(l){for(var i,u,f=0,m=0,x=l.length,w=x-1;m<x;w=m++)f+=((u=l[w]).x-(i=l[m]).x)*(i.y+u.y);return f}ih.types=["Unknown","Point","LineString","Polygon"],ih.prototype.loadGeometry=function(){var l=this._pbf;l.pos=this._geometry;for(var i,u=l.readVarint()+l.pos,f=1,m=0,x=0,w=0,S=[];l.pos<u;){if(m<=0){var I=l.readVarint();f=7&I,m=I>>3}if(m--,f===1||f===2)x+=l.readSVarint(),w+=l.readSVarint(),f===1&&(i&&S.push(i),i=[]),i.push(new X3(x,w));else{if(f!==7)throw new Error("unknown command "+f);i&&i.push(i[0].clone())}}return i&&S.push(i),S},ih.prototype.bbox=function(){var l=this._pbf;l.pos=this._geometry;for(var i=l.readVarint()+l.pos,u=1,f=0,m=0,x=0,w=1/0,S=-1/0,I=1/0,L=-1/0;l.pos<i;){if(f<=0){var V=l.readVarint();u=7&V,f=V>>3}if(f--,u===1||u===2)(m+=l.readSVarint())<w&&(w=m),m>S&&(S=m),(x+=l.readSVarint())<I&&(I=x),x>L&&(L=x);else if(u!==7)throw new Error("unknown command "+u)}return[w,I,S,L]},ih.prototype.toGeoJSON=function(l,i,u){var f,m,x=this.extent*Math.pow(2,u),w=this.extent*l,S=this.extent*i,I=this.loadGeometry(),L=ih.types[this.type];function V(Q){for(var ee=0;ee<Q.length;ee++){var ae=Q[ee];Q[ee]=[360*(ae.x+w)/x-180,360/Math.PI*Math.atan(Math.exp((180-360*(ae.y+S)/x)*Math.PI/180))-90]}}switch(this.type){case 1:var G=[];for(f=0;f<I.length;f++)G[f]=I[f][0];V(I=G);break;case 2:for(f=0;f<I.length;f++)V(I[f]);break;case 3:for(I=function(Q){var ee=Q.length;if(ee<=1)return[Q];for(var ae,de,fe=[],Ce=0;Ce<ee;Ce++){var _e=Q3(Q[Ce]);_e!==0&&(de===void 0&&(de=_e<0),de===_e<0?(ae&&fe.push(ae),ae=[Q[Ce]]):ae.push(Q[Ce]))}return ae&&fe.push(ae),fe}(I),f=0;f<I.length;f++)for(m=0;m<I[f].length;m++)V(I[f][m])}I.length===1?I=I[0]:L="Multi"+L;var Z={type:"Feature",geometry:{type:L,coordinates:I},properties:this.properties};return"id"in this&&(Z.id=this.id),Z};var e4=LE,$E=NE;function NE(l,i){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=l,this._keys=[],this._values=[],this._features=[],l.readFields(t4,this,i),this.length=this._features.length}function t4(l,i,u){l===15?i.version=u.readVarint():l===1?i.name=u.readString():l===5?i.extent=u.readVarint():l===2?i._features.push(u.pos):l===3?i._keys.push(u.readString()):l===4&&i._values.push(function(f){for(var m=null,x=f.readVarint()+f.pos;f.pos<x;){var w=f.readVarint()>>3;m=w===1?f.readString():w===2?f.readFloat():w===3?f.readDouble():w===4?f.readVarint64():w===5?f.readVarint():w===6?f.readSVarint():w===7?f.readBoolean():null}return m}(u))}NE.prototype.feature=function(l){if(l<0||l>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[l];var i=this._pbf.readVarint()+this._pbf.pos;return new e4(this._pbf,i,this.extent,this._keys,this._values)};var n4=$E;function r4(l,i,u){if(l===3){var f=new n4(u,u.readVarint()+u.pos);f.length&&(i[f.name]=f)}}oc.VectorTile=function(l,i){this.layers=l.readFields(r4,{},i)},oc.VectorTileFeature=LE,oc.VectorTileLayer=$E;const i4=oc.VectorTileFeature.types,eb=Math.pow(2,13);function zp(l,i,u,f,m,x,w,S){l.emplaceBack(i,u,2*Math.floor(f*eb)+w,m*eb*2,x*eb*2,Math.round(S))}class tb{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(u=>u.id),this.index=i.index,this.hasPattern=!1,this.layoutVertexArray=new Ue,this.centroidVertexArray=new he,this.indexArray=new kt,this.programConfigurations=new hl(i.layers,i.zoom),this.segments=new Ht,this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id)}populate(i,u,f){this.features=[],this.hasPattern=X1("fill-extrusion",this.layers,u);for(const{feature:m,id:x,index:w,sourceLayerIndex:S}of i){const I=this.layers[0]._featureFilter.needGeometry,L=Gs(m,I);if(!this.layers[0]._featureFilter.filter(new ar(this.zoom),L,f))continue;const V={id:x,sourceLayerIndex:S,index:w,geometry:I?L.geometry:ka(m),properties:m.properties,type:m.type,patterns:{}};this.hasPattern?this.features.push(J1("fill-extrusion",this.layers,V,this.zoom,u)):this.addFeature(V,V.geometry,w,f,{}),u.featureIndex.insert(m,V.geometry,w,S,this.index,!0)}}addFeatures(i,u,f){for(const m of this.features){const{geometry:x}=m;this.addFeature(m,x,m.index,u,f)}}update(i,u,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,u,this.stateDependentLayers,f)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,K3),this.centroidVertexBuffer=i.createVertexBuffer(this.centroidVertexArray,Z3.members,!0),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(i,u,f,m,x){const w={x:0,y:0,vertexCount:0};for(const S of K1(u,500)){let I=0;for(const ee of S)I+=ee.length;let L=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const ee of S){if(ee.length===0||s4(ee))continue;let ae=0;for(let de=0;de<ee.length;de++){const fe=ee[de];if(de>=1){const Ce=ee[de-1];if(!o4(fe,Ce)){L.vertexLength+4>Ht.MAX_VERTEX_ARRAY_LENGTH&&(L=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const _e=fe.sub(Ce)._perp()._unit(),Ie=Ce.dist(fe);ae+Ie>32768&&(ae=0),zp(this.layoutVertexArray,fe.x,fe.y,_e.x,_e.y,0,0,ae),zp(this.layoutVertexArray,fe.x,fe.y,_e.x,_e.y,0,1,ae),w.x+=2*fe.x,w.y+=2*fe.y,w.vertexCount+=2,ae+=Ie,zp(this.layoutVertexArray,Ce.x,Ce.y,_e.x,_e.y,0,0,ae),zp(this.layoutVertexArray,Ce.x,Ce.y,_e.x,_e.y,0,1,ae),w.x+=2*Ce.x,w.y+=2*Ce.y,w.vertexCount+=2;const $e=L.vertexLength;this.indexArray.emplaceBack($e,$e+2,$e+1),this.indexArray.emplaceBack($e+1,$e+2,$e+3),L.vertexLength+=4,L.primitiveLength+=2}}}}if(L.vertexLength+I>Ht.MAX_VERTEX_ARRAY_LENGTH&&(L=this.segments.prepareSegment(I,this.layoutVertexArray,this.indexArray)),i4[i.type]!=="Polygon")continue;const V=[],G=[],Z=L.vertexLength;for(const ee of S)if(ee.length!==0){ee!==S[0]&&G.push(V.length/2);for(let ae=0;ae<ee.length;ae++){const de=ee[ae];zp(this.layoutVertexArray,de.x,de.y,0,0,1,1,0),w.x+=de.x,w.y+=de.y,w.vertexCount+=1,V.push(de.x),V.push(de.y)}}const Q=AE(V,G);for(let ee=0;ee<Q.length;ee+=3)this.indexArray.emplaceBack(Z+Q[ee],Z+Q[ee+2],Z+Q[ee+1]);L.primitiveLength+=Q.length/3,L.vertexLength+=I}for(let S=0;S<w.vertexCount;S++)this.centroidVertexArray.emplaceBack(Math.floor(w.x/w.vertexCount),Math.floor(w.y/w.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,x,m)}}function o4(l,i){return l.x===i.x&&(l.x<0||l.x>mr)||l.y===i.y&&(l.y<0||l.y>mr)}function s4(l){return l.every(i=>i.x<0)||l.every(i=>i.x>mr)||l.every(i=>i.y<0)||l.every(i=>i.y>mr)}let FE;bt("FillExtrusionBucket",tb,{omit:["layers","features"]});var a4={get paint(){return FE=FE||new Jr({"fill-extrusion-opacity":new Nt(Re["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new qt(Re["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Nt(Re["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Nt(Re["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Yd(Re["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new qt(Re["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new qt(Re["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Nt(Re["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class l4 extends ms{constructor(i){super(i,a4)}createBucket(i){return new tb(i)}queryRadius(){return Ly(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(i,u,f,m,x,w,S,I){const L=$y(i,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),w.angle,S),V=this.paint.get("fill-extrusion-height").evaluate(u,f),G=this.paint.get("fill-extrusion-base").evaluate(u,f),Z=function(ee,ae,de,fe){const Ce=[];for(const _e of ee){const Ie=[_e.x,_e.y,0,1];Ny(Ie,Ie,ae),Ce.push(new k(Ie[0]/Ie[3],Ie[1]/Ie[3]))}return Ce}(L,I),Q=function(ee,ae,de,fe){const Ce=[],_e=[],Ie=fe[8]*ae,$e=fe[9]*ae,Ye=fe[10]*ae,_t=fe[11]*ae,Ot=fe[8]*de,yt=fe[9]*de,pt=fe[10]*de,ct=fe[11]*de;for(const Ct of ee){const ht=[],it=[];for(const Ut of Ct){const zt=Ut.x,cn=Ut.y,tr=fe[0]*zt+fe[4]*cn+fe[12],lr=fe[1]*zt+fe[5]*cn+fe[13],ei=fe[2]*zt+fe[6]*cn+fe[14],Eo=fe[3]*zt+fe[7]*cn+fe[15],Ui=ei+Ye,qr=Eo+_t,ci=tr+Ot,wi=lr+yt,ho=ei+pt,Vi=Eo+ct,Gr=new k((tr+Ie)/qr,(lr+$e)/qr);Gr.z=Ui/qr,ht.push(Gr);const ti=new k(ci/Vi,wi/Vi);ti.z=ho/Vi,it.push(ti)}Ce.push(ht),_e.push(it)}return[Ce,_e]}(m,G,V,I);return function(ee,ae,de){let fe=1/0;gE(de,ae)&&(fe=BE(de,ae[0]));for(let Ce=0;Ce<ae.length;Ce++){const _e=ae[Ce],Ie=ee[Ce];for(let $e=0;$e<_e.length-1;$e++){const Ye=_e[$e],_t=[Ye,_e[$e+1],Ie[$e+1],Ie[$e],Ye];mE(de,_t)&&(fe=Math.min(fe,BE(de,_t)))}}return fe!==1/0&&fe}(Q[0],Q[1],Z)}}function Lp(l,i){return l.x*i.x+l.y*i.y}function BE(l,i){if(l.length===1){let u=0;const f=i[u++];let m;for(;!m||f.equals(m);)if(m=i[u++],!m)return 1/0;for(;u<i.length;u++){const x=i[u],w=l[0],S=m.sub(f),I=x.sub(f),L=w.sub(f),V=Lp(S,S),G=Lp(S,I),Z=Lp(I,I),Q=Lp(L,S),ee=Lp(L,I),ae=V*Z-G*G,de=(Z*Q-G*ee)/ae,fe=(V*ee-G*Q)/ae,Ce=f.z*(1-de-fe)+m.z*de+x.z*fe;if(isFinite(Ce))return Ce}return 1/0}{let u=1/0;for(const f of i)u=Math.min(u,f.z);return u}}const c4=Lr([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:u4}=c4,d4=Lr([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:h4}=d4,f4=oc.VectorTileFeature.types,p4=Math.cos(Math.PI/180*37.5),jE=Math.pow(2,14)/.5;class nb{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(u=>u.id),this.index=i.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(u=>{this.gradients[u.id]={}}),this.layoutVertexArray=new He,this.layoutVertexArray2=new rt,this.indexArray=new kt,this.programConfigurations=new hl(i.layers,i.zoom),this.segments=new Ht,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id)}populate(i,u,f){this.hasPattern=X1("line",this.layers,u);const m=this.layers[0].layout.get("line-sort-key"),x=!m.isConstant(),w=[];for(const{feature:S,id:I,index:L,sourceLayerIndex:V}of i){const G=this.layers[0]._featureFilter.needGeometry,Z=Gs(S,G);if(!this.layers[0]._featureFilter.filter(new ar(this.zoom),Z,f))continue;const Q=x?m.evaluate(Z,{},f):void 0,ee={id:I,properties:S.properties,type:S.type,sourceLayerIndex:V,index:L,geometry:G?Z.geometry:ka(S),patterns:{},sortKey:Q};w.push(ee)}x&&w.sort((S,I)=>S.sortKey-I.sortKey);for(const S of w){const{geometry:I,index:L,sourceLayerIndex:V}=S;if(this.hasPattern){const G=J1("line",this.layers,S,this.zoom,u);this.patternFeatures.push(G)}else this.addFeature(S,I,L,f,{});u.featureIndex.insert(i[L].feature,I,L,V,this.index)}}update(i,u,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,u,this.stateDependentLayers,f)}addFeatures(i,u,f){for(const m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,u,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=i.createVertexBuffer(this.layoutVertexArray2,h4)),this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,u4),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(i){if(i.properties&&Object.prototype.hasOwnProperty.call(i.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(i.properties,"mapbox_clip_end"))return{start:+i.properties.mapbox_clip_start,end:+i.properties.mapbox_clip_end}}addFeature(i,u,f,m,x){const w=this.layers[0].layout,S=w.get("line-join").evaluate(i,{}),I=w.get("line-cap"),L=w.get("line-miter-limit"),V=w.get("line-round-limit");this.lineClips=this.lineFeatureClips(i);for(const G of u)this.addLine(G,i,S,I,L,V);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,x,m)}addLine(i,u,f,m,x,w){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let fe=0;fe<i.length-1;fe++)this.totalDistance+=i[fe].dist(i[fe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const S=f4[u.type]==="Polygon";let I=i.length;for(;I>=2&&i[I-1].equals(i[I-2]);)I--;let L=0;for(;L<I-1&&i[L].equals(i[L+1]);)L++;if(I<(S?3:2))return;f==="bevel"&&(x=1.05);const V=this.overscaling<=16?15*mr/(512*this.overscaling):0,G=this.segments.prepareSegment(10*I,this.layoutVertexArray,this.indexArray);let Z,Q,ee,ae,de;this.e1=this.e2=-1,S&&(Z=i[I-2],de=i[L].sub(Z)._unit()._perp());for(let fe=L;fe<I;fe++){if(ee=fe===I-1?S?i[L+1]:void 0:i[fe+1],ee&&i[fe].equals(ee))continue;de&&(ae=de),Z&&(Q=Z),Z=i[fe],de=ee?ee.sub(Z)._unit()._perp():ae,ae=ae||de;let Ce=ae.add(de);Ce.x===0&&Ce.y===0||Ce._unit();const _e=ae.x*de.x+ae.y*de.y,Ie=Ce.x*de.x+Ce.y*de.y,$e=Ie!==0?1/Ie:1/0,Ye=2*Math.sqrt(2-2*Ie),_t=Ie<p4&&Q&&ee,Ot=ae.x*de.y-ae.y*de.x>0;if(_t&&fe>L){const ct=Z.dist(Q);if(ct>2*V){const Ct=Z.sub(Z.sub(Q)._mult(V/ct)._round());this.updateDistance(Q,Ct),this.addCurrentVertex(Ct,ae,0,0,G),Q=Ct}}const yt=Q&&ee;let pt=yt?f:S?"butt":m;if(yt&&pt==="round"&&($e<w?pt="miter":$e<=2&&(pt="fakeround")),pt==="miter"&&$e>x&&(pt="bevel"),pt==="bevel"&&($e>2&&(pt="flipbevel"),$e<x&&(pt="miter")),Q&&this.updateDistance(Q,Z),pt==="miter")Ce._mult($e),this.addCurrentVertex(Z,Ce,0,0,G);else if(pt==="flipbevel"){if($e>100)Ce=de.mult(-1);else{const ct=$e*ae.add(de).mag()/ae.sub(de).mag();Ce._perp()._mult(ct*(Ot?-1:1))}this.addCurrentVertex(Z,Ce,0,0,G),this.addCurrentVertex(Z,Ce.mult(-1),0,0,G)}else if(pt==="bevel"||pt==="fakeround"){const ct=-Math.sqrt($e*$e-1),Ct=Ot?ct:0,ht=Ot?0:ct;if(Q&&this.addCurrentVertex(Z,ae,Ct,ht,G),pt==="fakeround"){const it=Math.round(180*Ye/Math.PI/20);for(let Ut=1;Ut<it;Ut++){let zt=Ut/it;if(zt!==.5){const tr=zt-.5;zt+=zt*tr*(zt-1)*((1.0904+_e*(_e*(3.55645-1.43519*_e)-3.2452))*tr*tr+(.848013+_e*(.215638*_e-1.06021)))}const cn=de.sub(ae)._mult(zt)._add(ae)._unit()._mult(Ot?-1:1);this.addHalfVertex(Z,cn.x,cn.y,!1,Ot,0,G)}}ee&&this.addCurrentVertex(Z,de,-Ct,-ht,G)}else if(pt==="butt")this.addCurrentVertex(Z,Ce,0,0,G);else if(pt==="square"){const ct=Q?1:-1;this.addCurrentVertex(Z,Ce,ct,ct,G)}else pt==="round"&&(Q&&(this.addCurrentVertex(Z,ae,0,0,G),this.addCurrentVertex(Z,ae,1,1,G,!0)),ee&&(this.addCurrentVertex(Z,de,-1,-1,G,!0),this.addCurrentVertex(Z,de,0,0,G)));if(_t&&fe<I-1){const ct=Z.dist(ee);if(ct>2*V){const Ct=Z.add(ee.sub(Z)._mult(V/ct)._round());this.updateDistance(Z,Ct),this.addCurrentVertex(Ct,de,0,0,G),Z=Ct}}}}addCurrentVertex(i,u,f,m,x,w=!1){const S=u.y*m-u.x,I=-u.y-u.x*m;this.addHalfVertex(i,u.x+u.y*f,u.y-u.x*f,w,!1,f,x),this.addHalfVertex(i,S,I,w,!0,-m,x),this.distance>jE/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(i,u,f,m,x,w))}addHalfVertex({x:i,y:u},f,m,x,w,S,I){const L=.5*(this.lineClips?this.scaledDistance*(jE-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((i<<1)+(x?1:0),(u<<1)+(w?1:0),Math.round(63*f)+128,Math.round(63*m)+128,1+(S===0?0:S<0?-1:1)|(63&L)<<2,L>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const V=I.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,V),I.primitiveLength++),w?this.e2=V:this.e1=V}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(i,u){this.distance+=i.dist(u),this.updateScaledDistance()}}let UE,VE;bt("LineBucket",nb,{omit:["layers","patternFeatures"]});var WE={get paint(){return VE=VE||new Jr({"line-opacity":new qt(Re.paint_line["line-opacity"]),"line-color":new qt(Re.paint_line["line-color"]),"line-translate":new Nt(Re.paint_line["line-translate"]),"line-translate-anchor":new Nt(Re.paint_line["line-translate-anchor"]),"line-width":new qt(Re.paint_line["line-width"]),"line-gap-width":new qt(Re.paint_line["line-gap-width"]),"line-offset":new qt(Re.paint_line["line-offset"]),"line-blur":new qt(Re.paint_line["line-blur"]),"line-dasharray":new xp(Re.paint_line["line-dasharray"]),"line-pattern":new Yd(Re.paint_line["line-pattern"]),"line-gradient":new bp(Re.paint_line["line-gradient"])})},get layout(){return UE=UE||new Jr({"line-cap":new Nt(Re.layout_line["line-cap"]),"line-join":new qt(Re.layout_line["line-join"]),"line-miter-limit":new Nt(Re.layout_line["line-miter-limit"]),"line-round-limit":new Nt(Re.layout_line["line-round-limit"]),"line-sort-key":new qt(Re.layout_line["line-sort-key"])})}};class m4 extends qt{possiblyEvaluate(i,u){return u=new ar(Math.floor(u.zoom),{now:u.now,fadeDuration:u.fadeDuration,zoomHistory:u.zoomHistory,transition:u.transition}),super.possiblyEvaluate(i,u)}evaluate(i,u,f,m){return u=z({},u,{zoom:Math.floor(u.zoom)}),super.evaluate(i,u,f,m)}}let Vy;class g4 extends ms{constructor(i){super(i,WE),this.gradientVersion=0,Vy||(Vy=new m4(WE.paint.properties["line-width"].specification),Vy.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(i){i==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof pu,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(i,u){super.recalculate(i,u),this.paint._values["line-floorwidth"]=Vy.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,i)}createBucket(i){return new nb(i)}queryRadius(i){const u=i,f=qE(Pp("line-width",this,u),Pp("line-gap-width",this,u)),m=Pp("line-offset",this,u);return f/2+Math.abs(m)+Ly(this.paint.get("line-translate"))}queryIntersectsFeature(i,u,f,m,x,w,S){const I=$y(i,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),w.angle,S),L=S/2*qE(this.paint.get("line-width").evaluate(u,f),this.paint.get("line-gap-width").evaluate(u,f)),V=this.paint.get("line-offset").evaluate(u,f);return V&&(m=function(G,Z){const Q=[];for(let ee=0;ee<G.length;ee++){const ae=G[ee],de=[];for(let fe=0;fe<ae.length;fe++){const Ce=ae[fe-1],_e=ae[fe],Ie=ae[fe+1],$e=fe===0?new k(0,0):_e.sub(Ce)._unit()._perp(),Ye=fe===ae.length-1?new k(0,0):Ie.sub(_e)._unit()._perp(),_t=$e._add(Ye)._unit(),Ot=_t.x*Ye.x+_t.y*Ye.y;Ot!==0&&_t._mult(1/Ot),de.push(_t._mult(Z)._add(_e))}Q.push(de)}return Q}(m,V*S)),function(G,Z,Q){for(let ee=0;ee<Z.length;ee++){const ae=Z[ee];if(G.length>=3){for(let de=0;de<ae.length;de++)if(th(G,ae[de]))return!0}if(w3(G,ae,Q))return!0}return!1}(I,m,L)}isTileClipped(){return!0}}function qE(l,i){return i>0?i+2*l:l}const y4=Lr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),v4=Lr([{name:"a_projected_pos",components:3,type:"Float32"}],4);Lr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const _4=Lr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Lr([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const GE=Lr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),x4=Lr([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function b4(l,i,u){return l.sections.forEach(f=>{f.text=function(m,x,w){const S=x.layout.get("text-transform").evaluate(w,{});return S==="uppercase"?m=m.toLocaleUpperCase():S==="lowercase"&&(m=m.toLocaleLowerCase()),ko.applyArabicShaping&&(m=ko.applyArabicShaping(m)),m}(f.text,i,u)}),l}Lr([{name:"triangle",components:3,type:"Uint16"}]),Lr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Lr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Lr([{type:"Float32",name:"offsetX"}]),Lr([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Lr([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const $p={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var Qr=24,HE=jn,YE=function(l,i,u,f,m){var x,w,S=8*m-f-1,I=(1<<S)-1,L=I>>1,V=-7,G=u?m-1:0,Z=u?-1:1,Q=l[i+G];for(G+=Z,x=Q&(1<<-V)-1,Q>>=-V,V+=S;V>0;x=256*x+l[i+G],G+=Z,V-=8);for(w=x&(1<<-V)-1,x>>=-V,V+=f;V>0;w=256*w+l[i+G],G+=Z,V-=8);if(x===0)x=1-L;else{if(x===I)return w?NaN:1/0*(Q?-1:1);w+=Math.pow(2,f),x-=L}return(Q?-1:1)*w*Math.pow(2,x-f)},ZE=function(l,i,u,f,m,x){var w,S,I,L=8*x-m-1,V=(1<<L)-1,G=V>>1,Z=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,Q=f?0:x-1,ee=f?1:-1,ae=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(S=isNaN(i)?1:0,w=V):(w=Math.floor(Math.log(i)/Math.LN2),i*(I=Math.pow(2,-w))<1&&(w--,I*=2),(i+=w+G>=1?Z/I:Z*Math.pow(2,1-G))*I>=2&&(w++,I/=2),w+G>=V?(S=0,w=V):w+G>=1?(S=(i*I-1)*Math.pow(2,m),w+=G):(S=i*Math.pow(2,G-1)*Math.pow(2,m),w=0));m>=8;l[u+Q]=255&S,Q+=ee,S/=256,m-=8);for(w=w<<m|S,L+=m;L>0;l[u+Q]=255&w,Q+=ee,w/=256,L-=8);l[u+Q-ee]|=128*ae};function jn(l){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(l)?l:new Uint8Array(l||0),this.pos=0,this.type=0,this.length=this.buf.length}jn.Varint=0,jn.Fixed64=1,jn.Bytes=2,jn.Fixed32=5;var rb=4294967296,KE=1/rb,XE=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function fl(l){return l.type===jn.Bytes?l.readVarint()+l.pos:l.pos+1}function oh(l,i,u){return u?4294967296*i+(l>>>0):4294967296*(i>>>0)+(l>>>0)}function JE(l,i,u){var f=i<=16383?1:i<=2097151?2:i<=268435455?3:Math.floor(Math.log(i)/(7*Math.LN2));u.realloc(f);for(var m=u.pos-1;m>=l;m--)u.buf[m+f]=u.buf[m]}function w4(l,i){for(var u=0;u<l.length;u++)i.writeVarint(l[u])}function S4(l,i){for(var u=0;u<l.length;u++)i.writeSVarint(l[u])}function C4(l,i){for(var u=0;u<l.length;u++)i.writeFloat(l[u])}function T4(l,i){for(var u=0;u<l.length;u++)i.writeDouble(l[u])}function k4(l,i){for(var u=0;u<l.length;u++)i.writeBoolean(l[u])}function E4(l,i){for(var u=0;u<l.length;u++)i.writeFixed32(l[u])}function P4(l,i){for(var u=0;u<l.length;u++)i.writeSFixed32(l[u])}function I4(l,i){for(var u=0;u<l.length;u++)i.writeFixed64(l[u])}function M4(l,i){for(var u=0;u<l.length;u++)i.writeSFixed64(l[u])}function Wy(l,i){return(l[i]|l[i+1]<<8|l[i+2]<<16)+16777216*l[i+3]}function sh(l,i,u){l[u]=i,l[u+1]=i>>>8,l[u+2]=i>>>16,l[u+3]=i>>>24}function QE(l,i){return(l[i]|l[i+1]<<8|l[i+2]<<16)+(l[i+3]<<24)}jn.prototype={destroy:function(){this.buf=null},readFields:function(l,i,u){for(u=u||this.length;this.pos<u;){var f=this.readVarint(),m=f>>3,x=this.pos;this.type=7&f,l(m,i,this),this.pos===x&&this.skip(f)}return i},readMessage:function(l,i){return this.readFields(l,i,this.readVarint()+this.pos)},readFixed32:function(){var l=Wy(this.buf,this.pos);return this.pos+=4,l},readSFixed32:function(){var l=QE(this.buf,this.pos);return this.pos+=4,l},readFixed64:function(){var l=Wy(this.buf,this.pos)+Wy(this.buf,this.pos+4)*rb;return this.pos+=8,l},readSFixed64:function(){var l=Wy(this.buf,this.pos)+QE(this.buf,this.pos+4)*rb;return this.pos+=8,l},readFloat:function(){var l=YE(this.buf,this.pos,!0,23,4);return this.pos+=4,l},readDouble:function(){var l=YE(this.buf,this.pos,!0,52,8);return this.pos+=8,l},readVarint:function(l){var i,u,f=this.buf;return i=127&(u=f[this.pos++]),u<128?i:(i|=(127&(u=f[this.pos++]))<<7,u<128?i:(i|=(127&(u=f[this.pos++]))<<14,u<128?i:(i|=(127&(u=f[this.pos++]))<<21,u<128?i:function(m,x,w){var S,I,L=w.buf;if(S=(112&(I=L[w.pos++]))>>4,I<128||(S|=(127&(I=L[w.pos++]))<<3,I<128)||(S|=(127&(I=L[w.pos++]))<<10,I<128)||(S|=(127&(I=L[w.pos++]))<<17,I<128)||(S|=(127&(I=L[w.pos++]))<<24,I<128)||(S|=(1&(I=L[w.pos++]))<<31,I<128))return oh(m,S,x);throw new Error("Expected varint not more than 10 bytes")}(i|=(15&(u=f[this.pos]))<<28,l,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var l=this.readVarint();return l%2==1?(l+1)/-2:l/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var l=this.readVarint()+this.pos,i=this.pos;return this.pos=l,l-i>=12&&XE?function(u,f,m){return XE.decode(u.subarray(f,m))}(this.buf,i,l):function(u,f,m){for(var x="",w=f;w<m;){var S,I,L,V=u[w],G=null,Z=V>239?4:V>223?3:V>191?2:1;if(w+Z>m)break;Z===1?V<128&&(G=V):Z===2?(192&(S=u[w+1]))==128&&(G=(31&V)<<6|63&S)<=127&&(G=null):Z===3?(I=u[w+2],(192&(S=u[w+1]))==128&&(192&I)==128&&((G=(15&V)<<12|(63&S)<<6|63&I)<=2047||G>=55296&&G<=57343)&&(G=null)):Z===4&&(I=u[w+2],L=u[w+3],(192&(S=u[w+1]))==128&&(192&I)==128&&(192&L)==128&&((G=(15&V)<<18|(63&S)<<12|(63&I)<<6|63&L)<=65535||G>=1114112)&&(G=null)),G===null?(G=65533,Z=1):G>65535&&(G-=65536,x+=String.fromCharCode(G>>>10&1023|55296),G=56320|1023&G),x+=String.fromCharCode(G),w+=Z}return x}(this.buf,i,l)},readBytes:function(){var l=this.readVarint()+this.pos,i=this.buf.subarray(this.pos,l);return this.pos=l,i},readPackedVarint:function(l,i){if(this.type!==jn.Bytes)return l.push(this.readVarint(i));var u=fl(this);for(l=l||[];this.pos<u;)l.push(this.readVarint(i));return l},readPackedSVarint:function(l){if(this.type!==jn.Bytes)return l.push(this.readSVarint());var i=fl(this);for(l=l||[];this.pos<i;)l.push(this.readSVarint());return l},readPackedBoolean:function(l){if(this.type!==jn.Bytes)return l.push(this.readBoolean());var i=fl(this);for(l=l||[];this.pos<i;)l.push(this.readBoolean());return l},readPackedFloat:function(l){if(this.type!==jn.Bytes)return l.push(this.readFloat());var i=fl(this);for(l=l||[];this.pos<i;)l.push(this.readFloat());return l},readPackedDouble:function(l){if(this.type!==jn.Bytes)return l.push(this.readDouble());var i=fl(this);for(l=l||[];this.pos<i;)l.push(this.readDouble());return l},readPackedFixed32:function(l){if(this.type!==jn.Bytes)return l.push(this.readFixed32());var i=fl(this);for(l=l||[];this.pos<i;)l.push(this.readFixed32());return l},readPackedSFixed32:function(l){if(this.type!==jn.Bytes)return l.push(this.readSFixed32());var i=fl(this);for(l=l||[];this.pos<i;)l.push(this.readSFixed32());return l},readPackedFixed64:function(l){if(this.type!==jn.Bytes)return l.push(this.readFixed64());var i=fl(this);for(l=l||[];this.pos<i;)l.push(this.readFixed64());return l},readPackedSFixed64:function(l){if(this.type!==jn.Bytes)return l.push(this.readSFixed64());var i=fl(this);for(l=l||[];this.pos<i;)l.push(this.readSFixed64());return l},skip:function(l){var i=7&l;if(i===jn.Varint)for(;this.buf[this.pos++]>127;);else if(i===jn.Bytes)this.pos=this.readVarint()+this.pos;else if(i===jn.Fixed32)this.pos+=4;else{if(i!==jn.Fixed64)throw new Error("Unimplemented type: "+i);this.pos+=8}},writeTag:function(l,i){this.writeVarint(l<<3|i)},realloc:function(l){for(var i=this.length||16;i<this.pos+l;)i*=2;if(i!==this.length){var u=new Uint8Array(i);u.set(this.buf),this.buf=u,this.length=i}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(l){this.realloc(4),sh(this.buf,l,this.pos),this.pos+=4},writeSFixed32:function(l){this.realloc(4),sh(this.buf,l,this.pos),this.pos+=4},writeFixed64:function(l){this.realloc(8),sh(this.buf,-1&l,this.pos),sh(this.buf,Math.floor(l*KE),this.pos+4),this.pos+=8},writeSFixed64:function(l){this.realloc(8),sh(this.buf,-1&l,this.pos),sh(this.buf,Math.floor(l*KE),this.pos+4),this.pos+=8},writeVarint:function(l){(l=+l||0)>268435455||l<0?function(i,u){var f,m;if(i>=0?(f=i%4294967296|0,m=i/4294967296|0):(m=~(-i/4294967296),4294967295^(f=~(-i%4294967296))?f=f+1|0:(f=0,m=m+1|0)),i>=18446744073709552e3||i<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");u.realloc(10),function(x,w,S){S.buf[S.pos++]=127&x|128,x>>>=7,S.buf[S.pos++]=127&x|128,x>>>=7,S.buf[S.pos++]=127&x|128,x>>>=7,S.buf[S.pos++]=127&x|128,S.buf[S.pos]=127&(x>>>=7)}(f,0,u),function(x,w){var S=(7&x)<<4;w.buf[w.pos++]|=S|((x>>>=3)?128:0),x&&(w.buf[w.pos++]=127&x|((x>>>=7)?128:0),x&&(w.buf[w.pos++]=127&x|((x>>>=7)?128:0),x&&(w.buf[w.pos++]=127&x|((x>>>=7)?128:0),x&&(w.buf[w.pos++]=127&x|((x>>>=7)?128:0),x&&(w.buf[w.pos++]=127&x)))))}(m,u)}(l,this):(this.realloc(4),this.buf[this.pos++]=127&l|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=l>>>7&127))))},writeSVarint:function(l){this.writeVarint(l<0?2*-l-1:2*l)},writeBoolean:function(l){this.writeVarint(!!l)},writeString:function(l){l=String(l),this.realloc(4*l.length),this.pos++;var i=this.pos;this.pos=function(f,m,x){for(var w,S,I=0;I<m.length;I++){if((w=m.charCodeAt(I))>55295&&w<57344){if(!S){w>56319||I+1===m.length?(f[x++]=239,f[x++]=191,f[x++]=189):S=w;continue}if(w<56320){f[x++]=239,f[x++]=191,f[x++]=189,S=w;continue}w=S-55296<<10|w-56320|65536,S=null}else S&&(f[x++]=239,f[x++]=191,f[x++]=189,S=null);w<128?f[x++]=w:(w<2048?f[x++]=w>>6|192:(w<65536?f[x++]=w>>12|224:(f[x++]=w>>18|240,f[x++]=w>>12&63|128),f[x++]=w>>6&63|128),f[x++]=63&w|128)}return x}(this.buf,l,this.pos);var u=this.pos-i;u>=128&&JE(i,u,this),this.pos=i-1,this.writeVarint(u),this.pos+=u},writeFloat:function(l){this.realloc(4),ZE(this.buf,l,this.pos,!0,23,4),this.pos+=4},writeDouble:function(l){this.realloc(8),ZE(this.buf,l,this.pos,!0,52,8),this.pos+=8},writeBytes:function(l){var i=l.length;this.writeVarint(i),this.realloc(i);for(var u=0;u<i;u++)this.buf[this.pos++]=l[u]},writeRawMessage:function(l,i){this.pos++;var u=this.pos;l(i,this);var f=this.pos-u;f>=128&&JE(u,f,this),this.pos=u-1,this.writeVarint(f),this.pos+=f},writeMessage:function(l,i,u){this.writeTag(l,jn.Bytes),this.writeRawMessage(i,u)},writePackedVarint:function(l,i){i.length&&this.writeMessage(l,w4,i)},writePackedSVarint:function(l,i){i.length&&this.writeMessage(l,S4,i)},writePackedBoolean:function(l,i){i.length&&this.writeMessage(l,k4,i)},writePackedFloat:function(l,i){i.length&&this.writeMessage(l,C4,i)},writePackedDouble:function(l,i){i.length&&this.writeMessage(l,T4,i)},writePackedFixed32:function(l,i){i.length&&this.writeMessage(l,E4,i)},writePackedSFixed32:function(l,i){i.length&&this.writeMessage(l,P4,i)},writePackedFixed64:function(l,i){i.length&&this.writeMessage(l,I4,i)},writePackedSFixed64:function(l,i){i.length&&this.writeMessage(l,M4,i)},writeBytesField:function(l,i){this.writeTag(l,jn.Bytes),this.writeBytes(i)},writeFixed32Field:function(l,i){this.writeTag(l,jn.Fixed32),this.writeFixed32(i)},writeSFixed32Field:function(l,i){this.writeTag(l,jn.Fixed32),this.writeSFixed32(i)},writeFixed64Field:function(l,i){this.writeTag(l,jn.Fixed64),this.writeFixed64(i)},writeSFixed64Field:function(l,i){this.writeTag(l,jn.Fixed64),this.writeSFixed64(i)},writeVarintField:function(l,i){this.writeTag(l,jn.Varint),this.writeVarint(i)},writeSVarintField:function(l,i){this.writeTag(l,jn.Varint),this.writeSVarint(i)},writeStringField:function(l,i){this.writeTag(l,jn.Bytes),this.writeString(i)},writeFloatField:function(l,i){this.writeTag(l,jn.Fixed32),this.writeFloat(i)},writeDoubleField:function(l,i){this.writeTag(l,jn.Fixed64),this.writeDouble(i)},writeBooleanField:function(l,i){this.writeVarintField(l,!!i)}};var ib=y(HE);const ob=3;function R4(l,i,u){l===1&&u.readMessage(A4,i)}function A4(l,i,u){if(l===3){const{id:f,bitmap:m,width:x,height:w,left:S,top:I,advance:L}=u.readMessage(O4,{});i.push({id:f,bitmap:new Mp({width:x+2*ob,height:w+2*ob},m),metrics:{width:x,height:w,left:S,top:I,advance:L}})}}function O4(l,i,u){l===1?i.id=u.readVarint():l===2?i.bitmap=u.readBytes():l===3?i.width=u.readVarint():l===4?i.height=u.readVarint():l===5?i.left=u.readSVarint():l===6?i.top=u.readSVarint():l===7&&(i.advance=u.readVarint())}const eP=ob;function tP(l){let i=0,u=0;for(const w of l)i+=w.w*w.h,u=Math.max(u,w.w);l.sort((w,S)=>S.h-w.h);const f=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(i/.95)),u),h:1/0}];let m=0,x=0;for(const w of l)for(let S=f.length-1;S>=0;S--){const I=f[S];if(!(w.w>I.w||w.h>I.h)){if(w.x=I.x,w.y=I.y,x=Math.max(x,w.y+w.h),m=Math.max(m,w.x+w.w),w.w===I.w&&w.h===I.h){const L=f.pop();S<f.length&&(f[S]=L)}else w.h===I.h?(I.x+=w.w,I.w-=w.w):w.w===I.w?(I.y+=w.h,I.h-=w.h):(f.push({x:I.x+w.w,y:I.y,w:I.w-w.w,h:w.h}),I.y+=w.h,I.h-=w.h);break}}return{w:m,h:x,fill:i/(m*x)||0}}const uo=1;class sb{constructor(i,{pixelRatio:u,version:f,stretchX:m,stretchY:x,content:w}){this.paddedRect=i,this.pixelRatio=u,this.stretchX=m,this.stretchY=x,this.content=w,this.version=f}get tl(){return[this.paddedRect.x+uo,this.paddedRect.y+uo]}get br(){return[this.paddedRect.x+this.paddedRect.w-uo,this.paddedRect.y+this.paddedRect.h-uo]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*uo)/this.pixelRatio,(this.paddedRect.h-2*uo)/this.pixelRatio]}}class nP{constructor(i,u){const f={},m={};this.haveRenderCallbacks=[];const x=[];this.addImages(i,f,x),this.addImages(u,m,x);const{w,h:S}=tP(x),I=new Go({width:w||1,height:S||1});for(const L in i){const V=i[L],G=f[L].paddedRect;Go.copy(V.data,I,{x:0,y:0},{x:G.x+uo,y:G.y+uo},V.data)}for(const L in u){const V=u[L],G=m[L].paddedRect,Z=G.x+uo,Q=G.y+uo,ee=V.data.width,ae=V.data.height;Go.copy(V.data,I,{x:0,y:0},{x:Z,y:Q},V.data),Go.copy(V.data,I,{x:0,y:ae-1},{x:Z,y:Q-1},{width:ee,height:1}),Go.copy(V.data,I,{x:0,y:0},{x:Z,y:Q+ae},{width:ee,height:1}),Go.copy(V.data,I,{x:ee-1,y:0},{x:Z-1,y:Q},{width:1,height:ae}),Go.copy(V.data,I,{x:0,y:0},{x:Z+ee,y:Q},{width:1,height:ae})}this.image=I,this.iconPositions=f,this.patternPositions=m}addImages(i,u,f){for(const m in i){const x=i[m],w={x:0,y:0,w:x.data.width+2*uo,h:x.data.height+2*uo};f.push(w),u[m]=new sb(w,x),x.hasRenderCallback&&this.haveRenderCallbacks.push(m)}}patchUpdatedImages(i,u){i.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const f in i.updatedImages)this.patchUpdatedImage(this.iconPositions[f],i.getImage(f),u),this.patchUpdatedImage(this.patternPositions[f],i.getImage(f),u)}patchUpdatedImage(i,u,f){if(!i||!u||i.version===u.version)return;i.version=u.version;const[m,x]=i.tl;f.update(u.data,void 0,{x:m,y:x})}}var sc;bt("ImagePosition",sb),bt("ImageAtlas",nP),c.WritingMode=void 0,(sc=c.WritingMode||(c.WritingMode={}))[sc.none=0]="none",sc[sc.horizontal=1]="horizontal",sc[sc.vertical=2]="vertical",sc[sc.horizontalOnly=3]="horizontalOnly";const Np=-17;class Fp{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(i,u){const f=new Fp;return f.scale=i||1,f.fontStack=u,f}static forImage(i){const u=new Fp;return u.imageName=i,u}}class ah{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(i,u){const f=new ah;for(let m=0;m<i.sections.length;m++){const x=i.sections[m];x.image?f.addImageSection(x):f.addTextSection(x,u)}return f}length(){return this.text.length}getSection(i){return this.sections[this.sectionIndex[i]]}getSectionIndex(i){return this.sectionIndex[i]}getCharCode(i){return this.text.charCodeAt(i)}verticalizePunctuation(){this.text=function(i){let u="";for(let f=0;f<i.length;f++){const m=i.charCodeAt(f+1)||null,x=i.charCodeAt(f-1)||null;u+=m&&hp(m)&&!$p[i[f+1]]||x&&hp(x)&&!$p[i[f-1]]||!$p[i[f]]?i[f]:$p[i[f]]}return u}(this.text)}trim(){let i=0;for(let f=0;f<this.text.length&&Gy[this.text.charCodeAt(f)];f++)i++;let u=this.text.length;for(let f=this.text.length-1;f>=0&&f>=i&&Gy[this.text.charCodeAt(f)];f--)u--;this.text=this.text.substring(i,u),this.sectionIndex=this.sectionIndex.slice(i,u)}substring(i,u){const f=new ah;return f.text=this.text.substring(i,u),f.sectionIndex=this.sectionIndex.slice(i,u),f.sections=this.sections,f}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((i,u)=>Math.max(i,this.sections[u].scale),0)}addTextSection(i,u){this.text+=i.text,this.sections.push(Fp.forText(i.scale,i.fontStack||u));const f=this.sections.length-1;for(let m=0;m<i.text.length;++m)this.sectionIndex.push(f)}addImageSection(i){const u=i.image?i.image.name:"";if(u.length===0)return void Pe("Can't add FormattedSection with an empty image.");const f=this.getNextImageSectionCharCode();f?(this.text+=String.fromCharCode(f),this.sections.push(Fp.forImage(u)),this.sectionIndex.push(this.sections.length-1)):Pe("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function qy(l,i,u,f,m,x,w,S,I,L,V,G,Z,Q,ee,ae){const de=ah.fromFeature(l,m);let fe;G===c.WritingMode.vertical&&de.verticalizePunctuation();const{processBidirectionalText:Ce,processStyledBidirectionalText:_e}=ko;if(Ce&&de.sections.length===1){fe=[];const Ye=Ce(de.toString(),ab(de,L,x,i,f,Q,ee));for(const _t of Ye){const Ot=new ah;Ot.text=_t,Ot.sections=de.sections;for(let yt=0;yt<_t.length;yt++)Ot.sectionIndex.push(0);fe.push(Ot)}}else if(_e){fe=[];const Ye=_e(de.text,de.sectionIndex,ab(de,L,x,i,f,Q,ee));for(const _t of Ye){const Ot=new ah;Ot.text=_t[0],Ot.sectionIndex=_t[1],Ot.sections=de.sections,fe.push(Ot)}}else fe=function(Ye,_t){const Ot=[],yt=Ye.text;let pt=0;for(const ct of _t)Ot.push(Ye.substring(pt,ct)),pt=ct;return pt<yt.length&&Ot.push(Ye.substring(pt,yt.length)),Ot}(de,ab(de,L,x,i,f,Q,ee));const Ie=[],$e={positionedLines:Ie,text:de.toString(),top:V[1],bottom:V[1],left:V[0],right:V[0],writingMode:G,iconsInText:!1,verticalizable:!1};return function(Ye,_t,Ot,yt,pt,ct,Ct,ht,it,Ut,zt,cn){let tr=0,lr=Np,ei=0,Eo=0;const Ui=ht==="right"?1:ht==="left"?0:.5;let qr=0;for(const Gr of pt){Gr.trim();const ti=Gr.getMaxScale(),Mi=(ti-1)*Qr,Wi={positionedGlyphs:[],lineOffset:0};Ye.positionedLines[qr]=Wi;const fo=Wi.positionedGlyphs;let po=0;if(!Gr.length()){lr+=ct,++qr;continue}for(let Si=0;Si<Gr.length();Si++){const mn=Gr.getSection(Si),Po=Gr.getSectionIndex(Si),Ci=Gr.getCharCode(Si);let qi=0,gs=null,Hs=null,Ys=null,pl=Qr;const ys=!(it===c.WritingMode.horizontal||!zt&&!Jl(Ci)||zt&&(Gy[Ci]||(ci=Ci,vt.Arabic(ci)||vt["Arabic Supplement"](ci)||vt["Arabic Extended-A"](ci)||vt["Arabic Presentation Forms-A"](ci)||vt["Arabic Presentation Forms-B"](ci))));if(mn.imageName){const Yo=yt[mn.imageName];if(!Yo)continue;Ys=mn.imageName,Ye.iconsInText=Ye.iconsInText||!0,Hs=Yo.paddedRect;const mo=Yo.displaySize;mn.scale=mn.scale*Qr/cn,gs={width:mo[0],height:mo[1],left:uo,top:-eP,advance:ys?mo[1]:mo[0]},qi=Mi+(Qr-mo[1]*mn.scale),pl=gs.advance;const ml=ys?mo[0]*mn.scale-Qr*ti:mo[1]*mn.scale-Qr*ti;ml>0&&ml>po&&(po=ml)}else{const Yo=Ot[mn.fontStack],mo=Yo&&Yo[Ci];if(mo&&mo.rect)Hs=mo.rect,gs=mo.metrics;else{const ml=_t[mn.fontStack],Wp=ml&&ml[Ci];if(!Wp)continue;gs=Wp.metrics}qi=(ti-mn.scale)*Qr}ys?(Ye.verticalizable=!0,fo.push({glyph:Ci,imageName:Ys,x:tr,y:lr+qi,vertical:ys,scale:mn.scale,fontStack:mn.fontStack,sectionIndex:Po,metrics:gs,rect:Hs}),tr+=pl*mn.scale+Ut):(fo.push({glyph:Ci,imageName:Ys,x:tr,y:lr+qi,vertical:ys,scale:mn.scale,fontStack:mn.fontStack,sectionIndex:Po,metrics:gs,rect:Hs}),tr+=gs.advance*mn.scale+Ut)}fo.length!==0&&(ei=Math.max(tr-Ut,ei),L4(fo,0,fo.length-1,Ui,po)),tr=0;const Sr=ct*ti+po;Wi.lineOffset=Math.max(po,Mi),lr+=Sr,Eo=Math.max(Sr,Eo),++qr}var ci;const wi=lr-Np,{horizontalAlign:ho,verticalAlign:Vi}=lb(Ct);(function(Gr,ti,Mi,Wi,fo,po,Sr,Si,mn){const Po=(ti-Mi)*fo;let Ci=0;Ci=po!==Sr?-Si*Wi-Np:(-Wi*mn+.5)*Sr;for(const qi of Gr)for(const gs of qi.positionedGlyphs)gs.x+=Po,gs.y+=Ci})(Ye.positionedLines,Ui,ho,Vi,ei,Eo,ct,wi,pt.length),Ye.top+=-Vi*wi,Ye.bottom=Ye.top+wi,Ye.left+=-ho*ei,Ye.right=Ye.left+ei}($e,i,u,f,fe,w,S,I,G,L,Z,ae),!function(Ye){for(const _t of Ye)if(_t.positionedGlyphs.length!==0)return!1;return!0}(Ie)&&$e}const Gy={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},D4={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function rP(l,i,u,f,m,x){if(i.imageName){const w=f[i.imageName];return w?w.displaySize[0]*i.scale*Qr/x+m:0}{const w=u[i.fontStack],S=w&&w[l];return S?S.metrics.advance*i.scale+m:0}}function iP(l,i,u,f){const m=Math.pow(l-i,2);return f?l<i?m/2:2*m:m+Math.abs(u)*u}function z4(l,i,u){let f=0;return l===10&&(f-=1e4),u&&(f+=150),l!==40&&l!==65288||(f+=50),i!==41&&i!==65289||(f+=50),f}function oP(l,i,u,f,m,x){let w=null,S=iP(i,u,m,x);for(const I of f){const L=iP(i-I.x,u,m,x)+I.badness;L<=S&&(w=I,S=L)}return{index:l,x:i,priorBreak:w,badness:S}}function sP(l){return l?sP(l.priorBreak).concat(l.index):[]}function ab(l,i,u,f,m,x,w){if(x!=="point")return[];if(!l)return[];const S=[],I=function(Z,Q,ee,ae,de,fe){let Ce=0;for(let _e=0;_e<Z.length();_e++){const Ie=Z.getSection(_e);Ce+=rP(Z.getCharCode(_e),Ie,ae,de,Q,fe)}return Ce/Math.max(1,Math.ceil(Ce/ee))}(l,i,u,f,m,w),L=l.text.indexOf("")>=0;let V=0;for(let Z=0;Z<l.length();Z++){const Q=l.getSection(Z),ee=l.getCharCode(Z);if(Gy[ee]||(V+=rP(ee,Q,f,m,i,w)),Z<l.length()-1){const ae=!((G=ee)<11904||!(vt["Bopomofo Extended"](G)||vt.Bopomofo(G)||vt["CJK Compatibility Forms"](G)||vt["CJK Compatibility Ideographs"](G)||vt["CJK Compatibility"](G)||vt["CJK Radicals Supplement"](G)||vt["CJK Strokes"](G)||vt["CJK Symbols and Punctuation"](G)||vt["CJK Unified Ideographs Extension A"](G)||vt["CJK Unified Ideographs"](G)||vt["Enclosed CJK Letters and Months"](G)||vt["Halfwidth and Fullwidth Forms"](G)||vt.Hiragana(G)||vt["Ideographic Description Characters"](G)||vt["Kangxi Radicals"](G)||vt["Katakana Phonetic Extensions"](G)||vt.Katakana(G)||vt["Vertical Forms"](G)||vt["Yi Radicals"](G)||vt["Yi Syllables"](G)));(D4[ee]||ae||Q.imageName)&&S.push(oP(Z+1,V,I,S,z4(ee,l.getCharCode(Z+1),ae&&L),!1))}}var G;return sP(oP(l.length(),V,I,S,0,!0))}function lb(l){let i=.5,u=.5;switch(l){case"right":case"top-right":case"bottom-right":i=1;break;case"left":case"top-left":case"bottom-left":i=0}switch(l){case"bottom":case"bottom-right":case"bottom-left":u=1;break;case"top":case"top-right":case"top-left":u=0}return{horizontalAlign:i,verticalAlign:u}}function L4(l,i,u,f,m){if(!f&&!m)return;const x=l[u],w=(l[u].x+x.metrics.advance*x.scale)*f;for(let S=i;S<=u;S++)l[S].x-=w,l[S].y+=m}function $4(l,i,u){const{horizontalAlign:f,verticalAlign:m}=lb(u),x=i[0]-l.displaySize[0]*f,w=i[1]-l.displaySize[1]*m;return{image:l,top:w,bottom:w+l.displaySize[1],left:x,right:x+l.displaySize[0]}}function aP(l,i,u,f,m,x){const w=l.image;let S;if(w.content){const de=w.content,fe=w.pixelRatio||1;S=[de[0]/fe,de[1]/fe,w.displaySize[0]-de[2]/fe,w.displaySize[1]-de[3]/fe]}const I=i.left*x,L=i.right*x;let V,G,Z,Q;u==="width"||u==="both"?(Q=m[0]+I-f[3],G=m[0]+L+f[1]):(Q=m[0]+(I+L-w.displaySize[0])/2,G=Q+w.displaySize[0]);const ee=i.top*x,ae=i.bottom*x;return u==="height"||u==="both"?(V=m[1]+ee-f[0],Z=m[1]+ae+f[2]):(V=m[1]+(ee+ae-w.displaySize[1])/2,Z=V+w.displaySize[1]),{image:w,top:V,right:G,bottom:Z,left:Q,collisionPadding:S}}const Bp=255,Ea=128,ac=Bp*Ea;function lP(l,i){const{expression:u}=i;if(u.kind==="constant")return{kind:"constant",layoutSize:u.evaluate(new ar(l+1))};if(u.kind==="source")return{kind:"source"};{const{zoomStops:f,interpolationType:m}=u;let x=0;for(;x<f.length&&f[x]<=l;)x++;x=Math.max(0,x-1);let w=x;for(;w<f.length&&f[w]<l+1;)w++;w=Math.min(f.length-1,w);const S=f[x],I=f[w];return u.kind==="composite"?{kind:"composite",minZoom:S,maxZoom:I,interpolationType:m}:{kind:"camera",minZoom:S,maxZoom:I,minSize:u.evaluate(new ar(S)),maxSize:u.evaluate(new ar(I)),interpolationType:m}}}function cb(l,i,u){let f="never";const m=l.get(i);return m?f=m:l.get(u)&&(f="always"),f}const N4=oc.VectorTileFeature.types,F4=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Hy(l,i,u,f,m,x,w,S,I,L,V,G,Z){const Q=S?Math.min(ac,Math.round(S[0])):0,ee=S?Math.min(ac,Math.round(S[1])):0;l.emplaceBack(i,u,Math.round(32*f),Math.round(32*m),x,w,(Q<<1)+(I?1:0),ee,16*L,16*V,256*G,256*Z)}function ub(l,i,u){l.emplaceBack(i.x,i.y,u),l.emplaceBack(i.x,i.y,u),l.emplaceBack(i.x,i.y,u),l.emplaceBack(i.x,i.y,u)}function B4(l){for(const i of l.sections)if(N1(i.text))return!0;return!1}class db{constructor(i){this.layoutVertexArray=new at,this.indexArray=new kt,this.programConfigurations=i,this.segments=new Ht,this.dynamicLayoutVertexArray=new At,this.opacityVertexArray=new hn,this.hasVisibleVertices=!1,this.placedSymbolArray=new j}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(i,u,f,m){this.isEmpty()||(f&&(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,y4.members),this.indexBuffer=i.createIndexBuffer(this.indexArray,u),this.dynamicLayoutVertexBuffer=i.createVertexBuffer(this.dynamicLayoutVertexArray,v4.members,!0),this.opacityVertexBuffer=i.createVertexBuffer(this.opacityVertexArray,F4,!0),this.opacityVertexBuffer.itemSize=1),(f||m)&&this.programConfigurations.upload(i))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}bt("SymbolBuffers",db);class hb{constructor(i,u,f){this.layoutVertexArray=new i,this.layoutAttributes=u,this.indexArray=new f,this.segments=new Ht,this.collisionVertexArray=new Gt}upload(i){this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=i.createVertexBuffer(this.collisionVertexArray,_4.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}bt("CollisionBuffers",hb);class lh{constructor(i){this.collisionBoxArray=i.collisionBoxArray,this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(w=>w.id),this.index=i.index,this.pixelRatio=i.pixelRatio,this.sourceLayerIndex=i.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=V1([]),this.placementViewportMatrix=V1([]);const u=this.layers[0]._unevaluatedLayout._values;this.textSizeData=lP(this.zoom,u["text-size"]),this.iconSizeData=lP(this.zoom,u["icon-size"]);const f=this.layers[0].layout,m=f.get("symbol-sort-key"),x=f.get("symbol-z-order");this.canOverlap=cb(f,"text-overlap","text-allow-overlap")!=="never"||cb(f,"icon-overlap","icon-allow-overlap")!=="never"||f.get("text-ignore-placement")||f.get("icon-ignore-placement"),this.sortFeaturesByKey=x!=="viewport-y"&&!m.isConstant(),this.sortFeaturesByY=(x==="viewport-y"||x==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,f.get("symbol-placement")==="point"&&(this.writingModes=f.get("text-writing-mode").map(w=>c.WritingMode[w])),this.stateDependentLayerIds=this.layers.filter(w=>w.isStateDependent()).map(w=>w.id),this.sourceID=i.sourceID}createArrays(){this.text=new db(new hl(this.layers,this.zoom,i=>/^text/.test(i))),this.icon=new db(new hl(this.layers,this.zoom,i=>/^icon/.test(i))),this.glyphOffsetArray=new se,this.lineVertexArray=new oe,this.symbolInstances=new X,this.textAnchorOffsets=new ie}calculateGlyphDependencies(i,u,f,m,x){for(let w=0;w<i.length;w++)if(u[i.charCodeAt(w)]=!0,(f||m)&&x){const S=$p[i.charAt(w)];S&&(u[S.charCodeAt(0)]=!0)}}populate(i,u,f){const m=this.layers[0],x=m.layout,w=x.get("text-font"),S=x.get("text-field"),I=x.get("icon-image"),L=(S.value.kind!=="constant"||S.value.value instanceof Rr&&!S.value.value.isEmpty()||S.value.value.toString().length>0)&&(w.value.kind!=="constant"||w.value.value.length>0),V=I.value.kind!=="constant"||!!I.value.value||Object.keys(I.parameters).length>0,G=x.get("symbol-sort-key");if(this.features=[],!L&&!V)return;const Z=u.iconDependencies,Q=u.glyphDependencies,ee=u.availableImages,ae=new ar(this.zoom);for(const{feature:de,id:fe,index:Ce,sourceLayerIndex:_e}of i){const Ie=m._featureFilter.needGeometry,$e=Gs(de,Ie);if(!m._featureFilter.filter(ae,$e,f))continue;let Ye,_t;if(Ie||($e.geometry=ka(de)),L){const yt=m.getValueAndResolveTokens("text-field",$e,f,ee),pt=Rr.factory(yt);B4(pt)&&(this.hasRTLText=!0),(!this.hasRTLText||vp()==="unavailable"||this.hasRTLText&&ko.isParsed())&&(Ye=b4(pt,m,$e))}if(V){const yt=m.getValueAndResolveTokens("icon-image",$e,f,ee);_t=yt instanceof So?yt:So.fromString(yt)}if(!Ye&&!_t)continue;const Ot=this.sortFeaturesByKey?G.evaluate($e,{},f):void 0;if(this.features.push({id:fe,text:Ye,icon:_t,index:Ce,sourceLayerIndex:_e,geometry:$e.geometry,properties:de.properties,type:N4[de.type],sortKey:Ot}),_t&&(Z[_t.name]=!0),Ye){const yt=w.evaluate($e,{},f).join(","),pt=x.get("text-rotation-alignment")!=="viewport"&&x.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(c.WritingMode.vertical)>=0;for(const ct of Ye.sections)if(ct.image)Z[ct.image.name]=!0;else{const Ct=qd(Ye.toString()),ht=ct.fontStack||yt,it=Q[ht]=Q[ht]||{};this.calculateGlyphDependencies(ct.text,it,pt,this.allowVerticalPlacement,Ct)}}}x.get("symbol-placement")==="line"&&(this.features=function(de){const fe={},Ce={},_e=[];let Ie=0;function $e(yt){_e.push(de[yt]),Ie++}function Ye(yt,pt,ct){const Ct=Ce[yt];return delete Ce[yt],Ce[pt]=Ct,_e[Ct].geometry[0].pop(),_e[Ct].geometry[0]=_e[Ct].geometry[0].concat(ct[0]),Ct}function _t(yt,pt,ct){const Ct=fe[pt];return delete fe[pt],fe[yt]=Ct,_e[Ct].geometry[0].shift(),_e[Ct].geometry[0]=ct[0].concat(_e[Ct].geometry[0]),Ct}function Ot(yt,pt,ct){const Ct=ct?pt[0][pt[0].length-1]:pt[0][0];return`${yt}:${Ct.x}:${Ct.y}`}for(let yt=0;yt<de.length;yt++){const pt=de[yt],ct=pt.geometry,Ct=pt.text?pt.text.toString():null;if(!Ct){$e(yt);continue}const ht=Ot(Ct,ct),it=Ot(Ct,ct,!0);if(ht in Ce&&it in fe&&Ce[ht]!==fe[it]){const Ut=_t(ht,it,ct),zt=Ye(ht,it,_e[Ut].geometry);delete fe[ht],delete Ce[it],Ce[Ot(Ct,_e[zt].geometry,!0)]=zt,_e[Ut].geometry=null}else ht in Ce?Ye(ht,it,ct):it in fe?_t(ht,it,ct):($e(yt),fe[ht]=Ie-1,Ce[it]=Ie-1)}return _e.filter(yt=>yt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((de,fe)=>de.sortKey-fe.sortKey)}update(i,u,f){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(i,u,this.layers,f),this.icon.programConfigurations.updatePaintArrays(i,u,this.layers,f))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(i){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(i),this.iconCollisionBox.upload(i)),this.text.upload(i,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(i,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(i,u){const f=this.lineVertexArray.length;if(i.segment!==void 0){let m=i.dist(u[i.segment+1]),x=i.dist(u[i.segment]);const w={};for(let S=i.segment+1;S<u.length;S++)w[S]={x:u[S].x,y:u[S].y,tileUnitDistanceFromAnchor:m},S<u.length-1&&(m+=u[S+1].dist(u[S]));for(let S=i.segment||0;S>=0;S--)w[S]={x:u[S].x,y:u[S].y,tileUnitDistanceFromAnchor:x},S>0&&(x+=u[S-1].dist(u[S]));for(let S=0;S<u.length;S++){const I=w[S];this.lineVertexArray.emplaceBack(I.x,I.y,I.tileUnitDistanceFromAnchor)}}return{lineStartIndex:f,lineLength:this.lineVertexArray.length-f}}addSymbols(i,u,f,m,x,w,S,I,L,V,G,Z){const Q=i.indexArray,ee=i.layoutVertexArray,ae=i.segments.prepareSegment(4*u.length,ee,Q,this.canOverlap?w.sortKey:void 0),de=this.glyphOffsetArray.length,fe=ae.vertexLength,Ce=this.allowVerticalPlacement&&S===c.WritingMode.vertical?Math.PI/2:0,_e=w.text&&w.text.sections;for(let Ie=0;Ie<u.length;Ie++){const{tl:$e,tr:Ye,bl:_t,br:Ot,tex:yt,pixelOffsetTL:pt,pixelOffsetBR:ct,minFontScaleX:Ct,minFontScaleY:ht,glyphOffset:it,isSDF:Ut,sectionIndex:zt}=u[Ie],cn=ae.vertexLength,tr=it[1];Hy(ee,I.x,I.y,$e.x,tr+$e.y,yt.x,yt.y,f,Ut,pt.x,pt.y,Ct,ht),Hy(ee,I.x,I.y,Ye.x,tr+Ye.y,yt.x+yt.w,yt.y,f,Ut,ct.x,pt.y,Ct,ht),Hy(ee,I.x,I.y,_t.x,tr+_t.y,yt.x,yt.y+yt.h,f,Ut,pt.x,ct.y,Ct,ht),Hy(ee,I.x,I.y,Ot.x,tr+Ot.y,yt.x+yt.w,yt.y+yt.h,f,Ut,ct.x,ct.y,Ct,ht),ub(i.dynamicLayoutVertexArray,I,Ce),Q.emplaceBack(cn,cn+1,cn+2),Q.emplaceBack(cn+1,cn+2,cn+3),ae.vertexLength+=4,ae.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(it[0]),Ie!==u.length-1&&zt===u[Ie+1].sectionIndex||i.programConfigurations.populatePaintArrays(ee.length,w,w.index,{},Z,_e&&_e[zt])}i.placedSymbolArray.emplaceBack(I.x,I.y,de,this.glyphOffsetArray.length-de,fe,L,V,I.segment,f?f[0]:0,f?f[1]:0,m[0],m[1],S,0,!1,0,G)}_addCollisionDebugVertex(i,u,f,m,x,w){return u.emplaceBack(0,0),i.emplaceBack(f.x,f.y,m,x,Math.round(w.x),Math.round(w.y))}addCollisionDebugVertices(i,u,f,m,x,w,S){const I=x.segments.prepareSegment(4,x.layoutVertexArray,x.indexArray),L=I.vertexLength,V=x.layoutVertexArray,G=x.collisionVertexArray,Z=S.anchorX,Q=S.anchorY;this._addCollisionDebugVertex(V,G,w,Z,Q,new k(i,u)),this._addCollisionDebugVertex(V,G,w,Z,Q,new k(f,u)),this._addCollisionDebugVertex(V,G,w,Z,Q,new k(f,m)),this._addCollisionDebugVertex(V,G,w,Z,Q,new k(i,m)),I.vertexLength+=4;const ee=x.indexArray;ee.emplaceBack(L,L+1),ee.emplaceBack(L+1,L+2),ee.emplaceBack(L+2,L+3),ee.emplaceBack(L+3,L),I.primitiveLength+=4}addDebugCollisionBoxes(i,u,f,m){for(let x=i;x<u;x++){const w=this.collisionBoxArray.get(x);this.addCollisionDebugVertices(w.x1,w.y1,w.x2,w.y2,m?this.textCollisionBox:this.iconCollisionBox,w.anchorPoint,f)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new hb(ft,GE.members,Hn),this.iconCollisionBox=new hb(ft,GE.members,Hn);for(let i=0;i<this.symbolInstances.length;i++){const u=this.symbolInstances.get(i);this.addDebugCollisionBoxes(u.textBoxStartIndex,u.textBoxEndIndex,u,!0),this.addDebugCollisionBoxes(u.verticalTextBoxStartIndex,u.verticalTextBoxEndIndex,u,!0),this.addDebugCollisionBoxes(u.iconBoxStartIndex,u.iconBoxEndIndex,u,!1),this.addDebugCollisionBoxes(u.verticalIconBoxStartIndex,u.verticalIconBoxEndIndex,u,!1)}}_deserializeCollisionBoxesForSymbol(i,u,f,m,x,w,S,I,L){const V={};for(let G=u;G<f;G++){const Z=i.get(G);V.textBox={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,anchorPointX:Z.anchorPointX,anchorPointY:Z.anchorPointY},V.textFeatureIndex=Z.featureIndex;break}for(let G=m;G<x;G++){const Z=i.get(G);V.verticalTextBox={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,anchorPointX:Z.anchorPointX,anchorPointY:Z.anchorPointY},V.verticalTextFeatureIndex=Z.featureIndex;break}for(let G=w;G<S;G++){const Z=i.get(G);V.iconBox={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,anchorPointX:Z.anchorPointX,anchorPointY:Z.anchorPointY},V.iconFeatureIndex=Z.featureIndex;break}for(let G=I;G<L;G++){const Z=i.get(G);V.verticalIconBox={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,anchorPointX:Z.anchorPointX,anchorPointY:Z.anchorPointY},V.verticalIconFeatureIndex=Z.featureIndex;break}return V}deserializeCollisionBoxes(i){this.collisionArrays=[];for(let u=0;u<this.symbolInstances.length;u++){const f=this.symbolInstances.get(u);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(i,f.textBoxStartIndex,f.textBoxEndIndex,f.verticalTextBoxStartIndex,f.verticalTextBoxEndIndex,f.iconBoxStartIndex,f.iconBoxEndIndex,f.verticalIconBoxStartIndex,f.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(i,u){const f=i.placedSymbolArray.get(u),m=f.vertexStartIndex+4*f.numGlyphs;for(let x=f.vertexStartIndex;x<m;x+=4)i.indexArray.emplaceBack(x,x+1,x+2),i.indexArray.emplaceBack(x+1,x+2,x+3)}getSortedSymbolIndexes(i){if(this.sortedAngle===i&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const u=Math.sin(i),f=Math.cos(i),m=[],x=[],w=[];for(let S=0;S<this.symbolInstances.length;++S){w.push(S);const I=this.symbolInstances.get(S);m.push(0|Math.round(u*I.anchorX+f*I.anchorY)),x.push(I.featureIndex)}return w.sort((S,I)=>m[S]-m[I]||x[I]-x[S]),w}addToSortKeyRanges(i,u){const f=this.sortKeyRanges[this.sortKeyRanges.length-1];f&&f.sortKey===u?f.symbolInstanceEnd=i+1:this.sortKeyRanges.push({sortKey:u,symbolInstanceStart:i,symbolInstanceEnd:i+1})}sortFeatures(i){if(this.sortFeaturesByY&&this.sortedAngle!==i&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(i),this.sortedAngle=i,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const u of this.symbolInstanceIndexes){const f=this.symbolInstances.get(u);this.featureSortOrder.push(f.featureIndex),[f.rightJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.leftJustifiedTextSymbolIndex].forEach((m,x,w)=>{m>=0&&w.indexOf(m)===x&&this.addIndicesForPlacedSymbol(this.text,m)}),f.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,f.verticalPlacedTextSymbolIndex),f.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.placedIconSymbolIndex),f.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let cP,uP;bt("SymbolBucket",lh,{omit:["layers","collisionBoxArray","features","compareText"]}),lh.MAX_GLYPHS=65535,lh.addDynamicAttributes=ub;var fb={get paint(){return uP=uP||new Jr({"icon-opacity":new qt(Re.paint_symbol["icon-opacity"]),"icon-color":new qt(Re.paint_symbol["icon-color"]),"icon-halo-color":new qt(Re.paint_symbol["icon-halo-color"]),"icon-halo-width":new qt(Re.paint_symbol["icon-halo-width"]),"icon-halo-blur":new qt(Re.paint_symbol["icon-halo-blur"]),"icon-translate":new Nt(Re.paint_symbol["icon-translate"]),"icon-translate-anchor":new Nt(Re.paint_symbol["icon-translate-anchor"]),"text-opacity":new qt(Re.paint_symbol["text-opacity"]),"text-color":new qt(Re.paint_symbol["text-color"],{runtimeType:Bn,getOverride:l=>l.textColor,hasOverride:l=>!!l.textColor}),"text-halo-color":new qt(Re.paint_symbol["text-halo-color"]),"text-halo-width":new qt(Re.paint_symbol["text-halo-width"]),"text-halo-blur":new qt(Re.paint_symbol["text-halo-blur"]),"text-translate":new Nt(Re.paint_symbol["text-translate"]),"text-translate-anchor":new Nt(Re.paint_symbol["text-translate-anchor"])})},get layout(){return cP=cP||new Jr({"symbol-placement":new Nt(Re.layout_symbol["symbol-placement"]),"symbol-spacing":new Nt(Re.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Nt(Re.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new qt(Re.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Nt(Re.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Nt(Re.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Nt(Re.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Nt(Re.layout_symbol["icon-ignore-placement"]),"icon-optional":new Nt(Re.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Nt(Re.layout_symbol["icon-rotation-alignment"]),"icon-size":new qt(Re.layout_symbol["icon-size"]),"icon-text-fit":new Nt(Re.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Nt(Re.layout_symbol["icon-text-fit-padding"]),"icon-image":new qt(Re.layout_symbol["icon-image"]),"icon-rotate":new qt(Re.layout_symbol["icon-rotate"]),"icon-padding":new qt(Re.layout_symbol["icon-padding"]),"icon-keep-upright":new Nt(Re.layout_symbol["icon-keep-upright"]),"icon-offset":new qt(Re.layout_symbol["icon-offset"]),"icon-anchor":new qt(Re.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Nt(Re.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Nt(Re.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Nt(Re.layout_symbol["text-rotation-alignment"]),"text-field":new qt(Re.layout_symbol["text-field"]),"text-font":new qt(Re.layout_symbol["text-font"]),"text-size":new qt(Re.layout_symbol["text-size"]),"text-max-width":new qt(Re.layout_symbol["text-max-width"]),"text-line-height":new Nt(Re.layout_symbol["text-line-height"]),"text-letter-spacing":new qt(Re.layout_symbol["text-letter-spacing"]),"text-justify":new qt(Re.layout_symbol["text-justify"]),"text-radial-offset":new qt(Re.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Nt(Re.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new qt(Re.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new qt(Re.layout_symbol["text-anchor"]),"text-max-angle":new Nt(Re.layout_symbol["text-max-angle"]),"text-writing-mode":new Nt(Re.layout_symbol["text-writing-mode"]),"text-rotate":new qt(Re.layout_symbol["text-rotate"]),"text-padding":new Nt(Re.layout_symbol["text-padding"]),"text-keep-upright":new Nt(Re.layout_symbol["text-keep-upright"]),"text-transform":new qt(Re.layout_symbol["text-transform"]),"text-offset":new qt(Re.layout_symbol["text-offset"]),"text-allow-overlap":new Nt(Re.layout_symbol["text-allow-overlap"]),"text-overlap":new Nt(Re.layout_symbol["text-overlap"]),"text-ignore-placement":new Nt(Re.layout_symbol["text-ignore-placement"]),"text-optional":new Nt(Re.layout_symbol["text-optional"])})}};class dP{constructor(i){if(i.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=i.property.overrides?i.property.overrides.runtimeType:Wt,this.defaultValue=i}evaluate(i){if(i.formattedSection){const u=this.defaultValue.property.overrides;if(u&&u.hasOverride(i.formattedSection))return u.getOverride(i.formattedSection)}return i.feature&&i.featureState?this.defaultValue.evaluate(i.feature,i.featureState):this.defaultValue.property.specification.default}eachChild(i){this.defaultValue.isConstant()||i(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}bt("FormatSectionOverride",dP,{omit:["defaultValue"]});class Yy extends ms{constructor(i){super(i,fb)}recalculate(i,u){if(super.recalculate(i,u),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const f=this.layout.get("text-writing-mode");if(f){const m=[];for(const x of f)m.indexOf(x)<0&&m.push(x);this.layout._values["text-writing-mode"]=m}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(i,u,f,m){const x=this.layout.get(i).evaluate(u,{},f,m),w=this._unevaluatedLayout._values[i];return w.isDataDriven()||zd(w.value)||!x?x:function(S,I){return I.replace(/{([^{}]+)}/g,(L,V)=>V in S?String(S[V]):"")}(u.properties,x)}createBucket(i){return new lh(i)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const i of fb.paint.overridableProperties){if(!Yy.hasPaintOverride(this.layout,i))continue;const u=this.paint.get(i),f=new dP(u),m=new hr(f,u.property.specification);let x=null;x=u.value.kind==="constant"||u.value.kind==="source"?new mu("source",m):new Qn("composite",m,u.value.zoomStops),this.paint._values[i]=new Vo(u.property,x,u.parameters)}}_handleOverridablePaintPropertyUpdate(i,u,f){return!(!this.layout||u.isDataDriven()||f.isDataDriven())&&Yy.hasPaintOverride(this.layout,i)}static hasPaintOverride(i,u){const f=i.get("text-field"),m=fb.paint.properties[u];let x=!1;const w=S=>{for(const I of S)if(m.overrides&&m.overrides.hasOverride(I))return void(x=!0)};if(f.value.kind==="constant"&&f.value.value instanceof Rr)w(f.value.value.sections);else if(f.value.kind==="source"){const S=L=>{x||(L instanceof Ja&&Ar(L.value)===io?w(L.value.sections):L instanceof Od?w(L.sections):L.eachChild(S))},I=f.value;I._styleExpression&&S(I._styleExpression.expression)}return x}}let hP;var j4={get paint(){return hP=hP||new Jr({"background-color":new Nt(Re.paint_background["background-color"]),"background-pattern":new xp(Re.paint_background["background-pattern"]),"background-opacity":new Nt(Re.paint_background["background-opacity"])})}};class U4 extends ms{constructor(i){super(i,j4)}}let fP;var V4={get paint(){return fP=fP||new Jr({"raster-opacity":new Nt(Re.paint_raster["raster-opacity"]),"raster-hue-rotate":new Nt(Re.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Nt(Re.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Nt(Re.paint_raster["raster-brightness-max"]),"raster-saturation":new Nt(Re.paint_raster["raster-saturation"]),"raster-contrast":new Nt(Re.paint_raster["raster-contrast"]),"raster-resampling":new Nt(Re.paint_raster["raster-resampling"]),"raster-fade-duration":new Nt(Re.paint_raster["raster-fade-duration"])})}};class W4 extends ms{constructor(i){super(i,V4)}}class q4 extends ms{constructor(i){super(i,{}),this.onAdd=u=>{this.implementation.onAdd&&this.implementation.onAdd(u,u.painter.context.gl)},this.onRemove=u=>{this.implementation.onRemove&&this.implementation.onRemove(u,u.painter.context.gl)},this.implementation=i}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class G4{constructor(i){this._callback=i,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const pb=63710088e-1;class lc{constructor(i,u){if(isNaN(i)||isNaN(u))throw new Error(`Invalid LngLat object: (${i}, ${u})`);if(this.lng=+i,this.lat=+u,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new lc(O(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(i){const u=Math.PI/180,f=this.lat*u,m=i.lat*u,x=Math.sin(f)*Math.sin(m)+Math.cos(f)*Math.cos(m)*Math.cos((i.lng-this.lng)*u);return pb*Math.acos(Math.min(x,1))}static convert(i){if(i instanceof lc)return i;if(Array.isArray(i)&&(i.length===2||i.length===3))return new lc(Number(i[0]),Number(i[1]));if(!Array.isArray(i)&&typeof i=="object"&&i!==null)return new lc(Number("lng"in i?i.lng:i.lon),Number(i.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const pP=2*Math.PI*pb;function mP(l){return pP*Math.cos(l*Math.PI/180)}function gP(l){return(180+l)/360}function yP(l){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l*Math.PI/360)))/360}function vP(l,i){return l/mP(i)}function mb(l){return 360/Math.PI*Math.atan(Math.exp((180-360*l)*Math.PI/180))-90}class Zy{constructor(i,u,f=0){this.x=+i,this.y=+u,this.z=+f}static fromLngLat(i,u=0){const f=lc.convert(i);return new Zy(gP(f.lng),yP(f.lat),vP(u,f.lat))}toLngLat(){return new lc(360*this.x-180,mb(this.y))}toAltitude(){return this.z*mP(mb(this.y))}meterInMercatorCoordinateUnits(){return 1/pP*(i=mb(this.y),1/Math.cos(i*Math.PI/180));var i}}function _P(l,i,u){var f=2*Math.PI*6378137/256/Math.pow(2,u);return[l*f-2*Math.PI*6378137/2,i*f-2*Math.PI*6378137/2]}class gb{constructor(i,u,f){if(i<0||i>25||f<0||f>=Math.pow(2,i)||u<0||u>=Math.pow(2,i))throw new Error(`x=${u}, y=${f}, z=${i} outside of bounds. 0<=x<${Math.pow(2,i)}, 0<=y<${Math.pow(2,i)} 0<=z<=25 `);this.z=i,this.x=u,this.y=f,this.key=jp(0,i,i,u,f)}equals(i){return this.z===i.z&&this.x===i.x&&this.y===i.y}url(i,u,f){const m=(w=this.y,S=this.z,I=_P(256*(x=this.x),256*(w=Math.pow(2,S)-w-1),S),L=_P(256*(x+1),256*(w+1),S),I[0]+","+I[1]+","+L[0]+","+L[1]);var x,w,S,I,L;const V=function(G,Z,Q){let ee,ae="";for(let de=G;de>0;de--)ee=1<<de-1,ae+=(Z&ee?1:0)+(Q&ee?2:0);return ae}(this.z,this.x,this.y);return i[(this.x+this.y)%i.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(f==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,u>1?"@2x":"").replace(/{quadkey}/g,V).replace(/{bbox-epsg-3857}/g,m)}isChildOf(i){const u=this.z-i.z;return u>0&&i.x===this.x>>u&&i.y===this.y>>u}getTilePoint(i){const u=Math.pow(2,this.z);return new k((i.x*u-this.x)*mr,(i.y*u-this.y)*mr)}toString(){return`${this.z}/${this.x}/${this.y}`}}class xP{constructor(i,u){this.wrap=i,this.canonical=u,this.key=jp(i,u.z,u.z,u.x,u.y)}}class Ho{constructor(i,u,f,m,x){if(i<f)throw new Error(`overscaledZ should be >= z; overscaledZ = ${i}; z = ${f}`);this.overscaledZ=i,this.wrap=u,this.canonical=new gb(f,+m,+x),this.key=jp(u,i,f,m,x)}clone(){return new Ho(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(i){return this.overscaledZ===i.overscaledZ&&this.wrap===i.wrap&&this.canonical.equals(i.canonical)}scaledTo(i){if(i>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${i}; overscaledZ = ${this.overscaledZ}`);const u=this.canonical.z-i;return i>this.canonical.z?new Ho(i,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ho(i,this.wrap,i,this.canonical.x>>u,this.canonical.y>>u)}calculateScaledKey(i,u){if(i>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${i}; overscaledZ = ${this.overscaledZ}`);const f=this.canonical.z-i;return i>this.canonical.z?jp(this.wrap*+u,i,this.canonical.z,this.canonical.x,this.canonical.y):jp(this.wrap*+u,i,i,this.canonical.x>>f,this.canonical.y>>f)}isChildOf(i){if(i.wrap!==this.wrap)return!1;const u=this.canonical.z-i.canonical.z;return i.overscaledZ===0||i.overscaledZ<this.overscaledZ&&i.canonical.x===this.canonical.x>>u&&i.canonical.y===this.canonical.y>>u}children(i){if(this.overscaledZ>=i)return[new Ho(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const u=this.canonical.z+1,f=2*this.canonical.x,m=2*this.canonical.y;return[new Ho(u,this.wrap,u,f,m),new Ho(u,this.wrap,u,f+1,m),new Ho(u,this.wrap,u,f,m+1),new Ho(u,this.wrap,u,f+1,m+1)]}isLessThan(i){return this.wrap<i.wrap||!(this.wrap>i.wrap)&&(this.overscaledZ<i.overscaledZ||!(this.overscaledZ>i.overscaledZ)&&(this.canonical.x<i.canonical.x||!(this.canonical.x>i.canonical.x)&&this.canonical.y<i.canonical.y))}wrapped(){return new Ho(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(i){return new Ho(this.overscaledZ,i,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new xP(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(i){return this.canonical.getTilePoint(new Zy(i.x-this.wrap,i.y))}}function jp(l,i,u,f,m){(l*=2)<0&&(l=-1*l-1);const x=1<<u;return(x*x*l+x*m+f).toString(36)+u.toString(36)+i.toString(36)}bt("CanonicalTileID",gb),bt("OverscaledTileID",Ho,{omit:["posMatrix"]});class bP{constructor(i,u,f){if(this.uid=i,u.height!==u.width)throw new RangeError("DEM tiles must be square");if(f&&f!=="mapbox"&&f!=="terrarium")return void Pe(`"${f}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=u.height;const m=this.dim=u.height-2;this.data=new Uint32Array(u.data.buffer),this.encoding=f||"mapbox";for(let x=0;x<m;x++)this.data[this._idx(-1,x)]=this.data[this._idx(0,x)],this.data[this._idx(m,x)]=this.data[this._idx(m-1,x)],this.data[this._idx(x,-1)]=this.data[this._idx(x,0)],this.data[this._idx(x,m)]=this.data[this._idx(x,m-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(m,-1)]=this.data[this._idx(m-1,0)],this.data[this._idx(-1,m)]=this.data[this._idx(0,m-1)],this.data[this._idx(m,m)]=this.data[this._idx(m-1,m-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let x=0;x<m;x++)for(let w=0;w<m;w++){const S=this.get(x,w);S>this.max&&(this.max=S),S<this.min&&(this.min=S)}}get(i,u){const f=new Uint8Array(this.data.buffer),m=4*this._idx(i,u);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(f[m],f[m+1],f[m+2])}getUnpackVector(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]}_idx(i,u){if(i<-1||i>=this.dim+1||u<-1||u>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(u+1)*this.stride+(i+1)}_unpackMapbox(i,u,f){return(256*i*256+256*u+f)/10-1e4}_unpackTerrarium(i,u,f){return 256*i+u+f/256-32768}getPixels(){return new Go({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(i,u,f){if(this.dim!==i.dim)throw new Error("dem dimension mismatch");let m=u*this.dim,x=u*this.dim+this.dim,w=f*this.dim,S=f*this.dim+this.dim;switch(u){case-1:m=x-1;break;case 1:x=m+1}switch(f){case-1:w=S-1;break;case 1:S=w+1}const I=-u*this.dim,L=-f*this.dim;for(let V=w;V<S;V++)for(let G=m;G<x;G++)this.data[this._idx(G,V)]=i.data[this._idx(G+I,V+L)]}}bt("DEMData",bP);class wP{constructor(i){this._stringToNumber={},this._numberToString=[];for(let u=0;u<i.length;u++){const f=i[u];this._stringToNumber[f]=u,this._numberToString[u]=f}}encode(i){return this._stringToNumber[i]}decode(i){if(i>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${i} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[i]}}class SP{constructor(i,u,f,m,x){this.type="Feature",this._vectorTileFeature=i,i._z=u,i._x=f,i._y=m,this.properties=i.properties,this.id=x}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(i){this._geometry=i}toJSON(){const i={geometry:this.geometry};for(const u in this)u!=="_geometry"&&u!=="_vectorTileFeature"&&(i[u]=this[u]);return i}}class CP{constructor(i,u){this.tileID=i,this.x=i.canonical.x,this.y=i.canonical.y,this.z=i.canonical.z,this.grid=new sl(mr,16,0),this.grid3D=new sl(mr,16,0),this.featureIndexArray=new De,this.promoteId=u}insert(i,u,f,m,x,w){const S=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(f,m,x);const I=w?this.grid3D:this.grid;for(let L=0;L<u.length;L++){const V=u[L],G=[1/0,1/0,-1/0,-1/0];for(let Z=0;Z<V.length;Z++){const Q=V[Z];G[0]=Math.min(G[0],Q.x),G[1]=Math.min(G[1],Q.y),G[2]=Math.max(G[2],Q.x),G[3]=Math.max(G[3],Q.y)}G[0]<mr&&G[1]<mr&&G[2]>=0&&G[3]>=0&&I.insert(S,G[0],G[1],G[2],G[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new oc.VectorTile(new ib(this.rawTileData)).layers,this.sourceLayerCoder=new wP(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(i,u,f,m){this.loadVTLayers();const x=i.params||{},w=mr/i.tileSize/i.scale,S=ip(x.filter),I=i.queryGeometry,L=i.queryPadding*w,V=kP(I),G=this.grid.query(V.minX-L,V.minY-L,V.maxX+L,V.maxY+L),Z=kP(i.cameraQueryGeometry),Q=this.grid3D.query(Z.minX-L,Z.minY-L,Z.maxX+L,Z.maxY+L,(de,fe,Ce,_e)=>function(Ie,$e,Ye,_t,Ot){for(const pt of Ie)if($e<=pt.x&&Ye<=pt.y&&_t>=pt.x&&Ot>=pt.y)return!0;const yt=[new k($e,Ye),new k($e,Ot),new k(_t,Ot),new k(_t,Ye)];if(Ie.length>2){for(const pt of yt)if(th(Ie,pt))return!0}for(let pt=0;pt<Ie.length-1;pt++)if(C3(Ie[pt],Ie[pt+1],yt))return!0;return!1}(i.cameraQueryGeometry,de-L,fe-L,Ce+L,_e+L));for(const de of Q)G.push(de);G.sort(H4);const ee={};let ae;for(let de=0;de<G.length;de++){const fe=G[de];if(fe===ae)continue;ae=fe;const Ce=this.featureIndexArray.get(fe);let _e=null;this.loadMatchingFeature(ee,Ce.bucketIndex,Ce.sourceLayerIndex,Ce.featureIndex,S,x.layers,x.availableImages,u,f,m,(Ie,$e,Ye)=>(_e||(_e=ka(Ie)),$e.queryIntersectsFeature(I,Ie,Ye,_e,this.z,i.transform,w,i.pixelPosMatrix)))}return ee}loadMatchingFeature(i,u,f,m,x,w,S,I,L,V,G){const Z=this.bucketLayerIDs[u];if(w&&!function(de,fe){for(let Ce=0;Ce<de.length;Ce++)if(fe.indexOf(de[Ce])>=0)return!0;return!1}(w,Z))return;const Q=this.sourceLayerCoder.decode(f),ee=this.vtLayers[Q].feature(m);if(x.needGeometry){const de=Gs(ee,!0);if(!x.filter(new ar(this.tileID.overscaledZ),de,this.tileID.canonical))return}else if(!x.filter(new ar(this.tileID.overscaledZ),ee))return;const ae=this.getId(ee,Q);for(let de=0;de<Z.length;de++){const fe=Z[de];if(w&&w.indexOf(fe)<0)continue;const Ce=I[fe];if(!Ce)continue;let _e={};ae&&V&&(_e=V.getState(Ce.sourceLayer||"_geojsonTileLayer",ae));const Ie=z({},L[fe]);Ie.paint=TP(Ie.paint,Ce.paint,ee,_e,S),Ie.layout=TP(Ie.layout,Ce.layout,ee,_e,S);const $e=!G||G(ee,Ce,_e);if(!$e)continue;const Ye=new SP(ee,this.z,this.x,this.y,ae);Ye.layer=Ie;let _t=i[fe];_t===void 0&&(_t=i[fe]=[]),_t.push({featureIndex:m,feature:Ye,intersectionZ:$e})}}lookupSymbolFeatures(i,u,f,m,x,w,S,I){const L={};this.loadVTLayers();const V=ip(x);for(const G of i)this.loadMatchingFeature(L,f,m,G,V,w,S,I,u);return L}hasLayer(i){for(const u of this.bucketLayerIDs)for(const f of u)if(i===f)return!0;return!1}getId(i,u){let f=i.id;return this.promoteId&&(f=i.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[u]],typeof f=="boolean"&&(f=Number(f))),f}}function TP(l,i,u,f,m){return Y(l,(x,w)=>{const S=i instanceof Hd?i.get(w):null;return S&&S.evaluate?S.evaluate(u,f,m):S})}function kP(l){let i=1/0,u=1/0,f=-1/0,m=-1/0;for(const x of l)i=Math.min(i,x.x),u=Math.min(u,x.y),f=Math.max(f,x.x),m=Math.max(m,x.y);return{minX:i,minY:u,maxX:f,maxY:m}}function H4(l,i){return i-l}function EP(l,i,u,f,m){const x=[];for(let w=0;w<l.length;w++){const S=l[w];let I;for(let L=0;L<S.length-1;L++){let V=S[L],G=S[L+1];V.x<i&&G.x<i||(V.x<i?V=new k(i,V.y+(i-V.x)/(G.x-V.x)*(G.y-V.y))._round():G.x<i&&(G=new k(i,V.y+(i-V.x)/(G.x-V.x)*(G.y-V.y))._round()),V.y<u&&G.y<u||(V.y<u?V=new k(V.x+(u-V.y)/(G.y-V.y)*(G.x-V.x),u)._round():G.y<u&&(G=new k(V.x+(u-V.y)/(G.y-V.y)*(G.x-V.x),u)._round()),V.x>=f&&G.x>=f||(V.x>=f?V=new k(f,V.y+(f-V.x)/(G.x-V.x)*(G.y-V.y))._round():G.x>=f&&(G=new k(f,V.y+(f-V.x)/(G.x-V.x)*(G.y-V.y))._round()),V.y>=m&&G.y>=m||(V.y>=m?V=new k(V.x+(m-V.y)/(G.y-V.y)*(G.x-V.x),m)._round():G.y>=m&&(G=new k(V.x+(m-V.y)/(G.y-V.y)*(G.x-V.x),m)._round()),I&&V.equals(I[I.length-1])||(I=[V],x.push(I)),I.push(G)))))}}return x}bt("FeatureIndex",CP,{omit:["rawTileData","sourceLayerCoder"]});class cc extends k{constructor(i,u,f,m){super(i,u),this.angle=f,m!==void 0&&(this.segment=m)}clone(){return new cc(this.x,this.y,this.angle,this.segment)}}function PP(l,i,u,f,m){if(i.segment===void 0||u===0)return!0;let x=i,w=i.segment+1,S=0;for(;S>-u/2;){if(w--,w<0)return!1;S-=l[w].dist(x),x=l[w]}S+=l[w].dist(l[w+1]),w++;const I=[];let L=0;for(;S<u/2;){const V=l[w],G=l[w+1];if(!G)return!1;let Z=l[w-1].angleTo(V)-V.angleTo(G);for(Z=Math.abs((Z+3*Math.PI)%(2*Math.PI)-Math.PI),I.push({distance:S,angleDelta:Z}),L+=Z;S-I[0].distance>f;)L-=I.shift().angleDelta;if(L>m)return!1;w++,S+=V.dist(G)}return!0}function IP(l){let i=0;for(let u=0;u<l.length-1;u++)i+=l[u].dist(l[u+1]);return i}function MP(l,i,u){return l?.6*i*u:0}function RP(l,i){return Math.max(l?l.right-l.left:0,i?i.right-i.left:0)}function Y4(l,i,u,f,m,x){const w=MP(u,m,x),S=RP(u,f)*x;let I=0;const L=IP(l)/2;for(let V=0;V<l.length-1;V++){const G=l[V],Z=l[V+1],Q=G.dist(Z);if(I+Q>L){const ee=(L-I)/Q,ae=lo.number(G.x,Z.x,ee),de=lo.number(G.y,Z.y,ee),fe=new cc(ae,de,Z.angleTo(G),V);return fe._round(),!w||PP(l,fe,S,w,i)?fe:void 0}I+=Q}}function Z4(l,i,u,f,m,x,w,S,I){const L=MP(f,x,w),V=RP(f,m),G=V*w,Z=l[0].x===0||l[0].x===I||l[0].y===0||l[0].y===I;return i-G<i/4&&(i=G+i/4),AP(l,Z?i/2*S%i:(V/2+2*x)*w*S%i,i,L,u,G,Z,!1,I)}function AP(l,i,u,f,m,x,w,S,I){const L=x/2,V=IP(l);let G=0,Z=i-u,Q=[];for(let ee=0;ee<l.length-1;ee++){const ae=l[ee],de=l[ee+1],fe=ae.dist(de),Ce=de.angleTo(ae);for(;Z+u<G+fe;){Z+=u;const _e=(Z-G)/fe,Ie=lo.number(ae.x,de.x,_e),$e=lo.number(ae.y,de.y,_e);if(Ie>=0&&Ie<I&&$e>=0&&$e<I&&Z-L>=0&&Z+L<=V){const Ye=new cc(Ie,$e,Ce,ee);Ye._round(),f&&!PP(l,Ye,x,f,m)||Q.push(Ye)}}G+=fe}return S||Q.length||w||(Q=AP(l,G/2,u,f,m,x,w,!0,I)),Q}bt("Anchor",cc);const ch=uo;function OP(l,i,u,f){const m=[],x=l.image,w=x.pixelRatio,S=x.paddedRect.w-2*ch,I=x.paddedRect.h-2*ch,L=l.right-l.left,V=l.bottom-l.top,G=x.stretchX||[[0,S]],Z=x.stretchY||[[0,I]],Q=(ct,Ct)=>ct+Ct[1]-Ct[0],ee=G.reduce(Q,0),ae=Z.reduce(Q,0),de=S-ee,fe=I-ae;let Ce=0,_e=ee,Ie=0,$e=ae,Ye=0,_t=de,Ot=0,yt=fe;if(x.content&&f){const ct=x.content;Ce=Ky(G,0,ct[0]),Ie=Ky(Z,0,ct[1]),_e=Ky(G,ct[0],ct[2]),$e=Ky(Z,ct[1],ct[3]),Ye=ct[0]-Ce,Ot=ct[1]-Ie,_t=ct[2]-ct[0]-_e,yt=ct[3]-ct[1]-$e}const pt=(ct,Ct,ht,it)=>{const Ut=Xy(ct.stretch-Ce,_e,L,l.left),zt=Jy(ct.fixed-Ye,_t,ct.stretch,ee),cn=Xy(Ct.stretch-Ie,$e,V,l.top),tr=Jy(Ct.fixed-Ot,yt,Ct.stretch,ae),lr=Xy(ht.stretch-Ce,_e,L,l.left),ei=Jy(ht.fixed-Ye,_t,ht.stretch,ee),Eo=Xy(it.stretch-Ie,$e,V,l.top),Ui=Jy(it.fixed-Ot,yt,it.stretch,ae),qr=new k(Ut,cn),ci=new k(lr,cn),wi=new k(lr,Eo),ho=new k(Ut,Eo),Vi=new k(zt/w,tr/w),Gr=new k(ei/w,Ui/w),ti=i*Math.PI/180;if(ti){const fo=Math.sin(ti),po=Math.cos(ti),Sr=[po,-fo,fo,po];qr._matMult(Sr),ci._matMult(Sr),ho._matMult(Sr),wi._matMult(Sr)}const Mi=ct.stretch+ct.fixed,Wi=Ct.stretch+Ct.fixed;return{tl:qr,tr:ci,bl:ho,br:wi,tex:{x:x.paddedRect.x+ch+Mi,y:x.paddedRect.y+ch+Wi,w:ht.stretch+ht.fixed-Mi,h:it.stretch+it.fixed-Wi},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Vi,pixelOffsetBR:Gr,minFontScaleX:_t/w/L,minFontScaleY:yt/w/V,isSDF:u}};if(f&&(x.stretchX||x.stretchY)){const ct=DP(G,de,ee),Ct=DP(Z,fe,ae);for(let ht=0;ht<ct.length-1;ht++){const it=ct[ht],Ut=ct[ht+1];for(let zt=0;zt<Ct.length-1;zt++)m.push(pt(it,Ct[zt],Ut,Ct[zt+1]))}}else m.push(pt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:S+1},{fixed:0,stretch:I+1}));return m}function Ky(l,i,u){let f=0;for(const m of l)f+=Math.max(i,Math.min(u,m[1]))-Math.max(i,Math.min(u,m[0]));return f}function DP(l,i,u){const f=[{fixed:-ch,stretch:0}];for(const[m,x]of l){const w=f[f.length-1];f.push({fixed:m-w.stretch,stretch:w.stretch}),f.push({fixed:m-w.stretch,stretch:w.stretch+(x-m)})}return f.push({fixed:i+ch,stretch:u}),f}function Xy(l,i,u,f){return l/i*u+f}function Jy(l,i,u,f){return l-i*u/f}class Qy{constructor(i,u,f,m,x,w,S,I,L,V){if(this.boxStartIndex=i.length,L){let G=w.top,Z=w.bottom;const Q=w.collisionPadding;Q&&(G-=Q[1],Z+=Q[3]);let ee=Z-G;ee>0&&(ee=Math.max(10,ee),this.circleDiameter=ee)}else{let G=w.top*S-I[0],Z=w.bottom*S+I[2],Q=w.left*S-I[3],ee=w.right*S+I[1];const ae=w.collisionPadding;if(ae&&(Q-=ae[0]*S,G-=ae[1]*S,ee+=ae[2]*S,Z+=ae[3]*S),V){const de=new k(Q,G),fe=new k(ee,G),Ce=new k(Q,Z),_e=new k(ee,Z),Ie=V*Math.PI/180;de._rotate(Ie),fe._rotate(Ie),Ce._rotate(Ie),_e._rotate(Ie),Q=Math.min(de.x,fe.x,Ce.x,_e.x),ee=Math.max(de.x,fe.x,Ce.x,_e.x),G=Math.min(de.y,fe.y,Ce.y,_e.y),Z=Math.max(de.y,fe.y,Ce.y,_e.y)}i.emplaceBack(u.x,u.y,Q,G,ee,Z,f,m,x)}this.boxEndIndex=i.length}}class K4{constructor(i=[],u=X4){if(this.data=i,this.length=this.data.length,this.compare=u,this.length>0)for(let f=(this.length>>1)-1;f>=0;f--)this._down(f)}push(i){this.data.push(i),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const i=this.data[0],u=this.data.pop();return this.length--,this.length>0&&(this.data[0]=u,this._down(0)),i}peek(){return this.data[0]}_up(i){const{data:u,compare:f}=this,m=u[i];for(;i>0;){const x=i-1>>1,w=u[x];if(f(m,w)>=0)break;u[i]=w,i=x}u[i]=m}_down(i){const{data:u,compare:f}=this,m=this.length>>1,x=u[i];for(;i<m;){let w=1+(i<<1),S=u[w];const I=w+1;if(I<this.length&&f(u[I],S)<0&&(w=I,S=u[I]),f(S,x)>=0)break;u[i]=S,i=w}u[i]=x}}function X4(l,i){return l<i?-1:l>i?1:0}function J4(l,i=1,u=!1){let f=1/0,m=1/0,x=-1/0,w=-1/0;const S=l[0];for(let Q=0;Q<S.length;Q++){const ee=S[Q];(!Q||ee.x<f)&&(f=ee.x),(!Q||ee.y<m)&&(m=ee.y),(!Q||ee.x>x)&&(x=ee.x),(!Q||ee.y>w)&&(w=ee.y)}const I=Math.min(x-f,w-m);let L=I/2;const V=new K4([],Q4);if(I===0)return new k(f,m);for(let Q=f;Q<x;Q+=I)for(let ee=m;ee<w;ee+=I)V.push(new uh(Q+L,ee+L,L,l));let G=function(Q){let ee=0,ae=0,de=0;const fe=Q[0];for(let Ce=0,_e=fe.length,Ie=_e-1;Ce<_e;Ie=Ce++){const $e=fe[Ce],Ye=fe[Ie],_t=$e.x*Ye.y-Ye.x*$e.y;ae+=($e.x+Ye.x)*_t,de+=($e.y+Ye.y)*_t,ee+=3*_t}return new uh(ae/ee,de/ee,0,Q)}(l),Z=V.length;for(;V.length;){const Q=V.pop();(Q.d>G.d||!G.d)&&(G=Q,u&&console.log("found best %d after %d probes",Math.round(1e4*Q.d)/1e4,Z)),Q.max-G.d<=i||(L=Q.h/2,V.push(new uh(Q.p.x-L,Q.p.y-L,L,l)),V.push(new uh(Q.p.x+L,Q.p.y-L,L,l)),V.push(new uh(Q.p.x-L,Q.p.y+L,L,l)),V.push(new uh(Q.p.x+L,Q.p.y+L,L,l)),Z+=4)}return u&&(console.log(`num probes: ${Z}`),console.log(`best distance: ${G.d}`)),G.p}function Q4(l,i){return i.max-l.max}function uh(l,i,u,f){this.p=new k(l,i),this.h=u,this.d=function(m,x){let w=!1,S=1/0;for(let I=0;I<x.length;I++){const L=x[I];for(let V=0,G=L.length,Z=G-1;V<G;Z=V++){const Q=L[V],ee=L[Z];Q.y>m.y!=ee.y>m.y&&m.x<(ee.x-Q.x)*(m.y-Q.y)/(ee.y-Q.y)+Q.x&&(w=!w),S=Math.min(S,yE(m,Q,ee))}}return(w?1:-1)*Math.sqrt(S)}(this.p,f),this.max=this.d+this.h*Math.SQRT2}var bi;c.TextAnchorEnum=void 0,(bi=c.TextAnchorEnum||(c.TextAnchorEnum={}))[bi.center=1]="center",bi[bi.left=2]="left",bi[bi.right=3]="right",bi[bi.top=4]="top",bi[bi.bottom=5]="bottom",bi[bi["top-left"]=6]="top-left",bi[bi["top-right"]=7]="top-right",bi[bi["bottom-left"]=8]="bottom-left",bi[bi["bottom-right"]=9]="bottom-right";const uc=7,yb=Number.POSITIVE_INFINITY;function zP(l,i){return i[1]!==yb?function(u,f,m){let x=0,w=0;switch(f=Math.abs(f),m=Math.abs(m),u){case"top-right":case"top-left":case"top":w=m-uc;break;case"bottom-right":case"bottom-left":case"bottom":w=-m+uc}switch(u){case"top-right":case"bottom-right":case"right":x=-f;break;case"top-left":case"bottom-left":case"left":x=f}return[x,w]}(l,i[0],i[1]):function(u,f){let m=0,x=0;f<0&&(f=0);const w=f/Math.sqrt(2);switch(u){case"top-right":case"top-left":x=w-uc;break;case"bottom-right":case"bottom-left":x=-w+uc;break;case"bottom":x=-f+uc;break;case"top":x=f-uc}switch(u){case"top-right":case"bottom-right":m=-w;break;case"top-left":case"bottom-left":m=w;break;case"left":m=f;break;case"right":m=-f}return[m,x]}(l,i[0])}function LP(l,i,u){var f;const m=l.layout,x=(f=m.get("text-variable-anchor-offset"))===null||f===void 0?void 0:f.evaluate(i,{},u);if(x){const S=x.values,I=[];for(let L=0;L<S.length;L+=2){const V=I[L]=S[L],G=S[L+1].map(Z=>Z*Qr);V.startsWith("top")?G[1]-=uc:V.startsWith("bottom")&&(G[1]+=uc),I[L+1]=G}return new _i(I)}const w=m.get("text-variable-anchor");if(w){let S;S=l._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[m.get("text-radial-offset").evaluate(i,{},u)*Qr,yb]:m.get("text-offset").evaluate(i,{},u).map(L=>L*Qr);const I=[];for(const L of w)I.push(L,zP(L,S));return new _i(I)}return null}function vb(l){switch(l){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function eF(l,i,u,f,m,x,w,S,I,L,V){let G=x.textMaxSize.evaluate(i,{});G===void 0&&(G=w);const Z=l.layers[0].layout,Q=Z.get("icon-offset").evaluate(i,{},V),ee=NP(u.horizontal),ae=w/24,de=l.tilePixelRatio*ae,fe=l.tilePixelRatio*G/24,Ce=l.tilePixelRatio*S,_e=l.tilePixelRatio*Z.get("symbol-spacing"),Ie=Z.get("text-padding")*l.tilePixelRatio,$e=function(it,Ut,zt,cn=1){const tr=it.get("icon-padding").evaluate(Ut,{},zt),lr=tr&&tr.values;return[lr[0]*cn,lr[1]*cn,lr[2]*cn,lr[3]*cn]}(Z,i,V,l.tilePixelRatio),Ye=Z.get("text-max-angle")/180*Math.PI,_t=Z.get("text-rotation-alignment")!=="viewport"&&Z.get("symbol-placement")!=="point",Ot=Z.get("icon-rotation-alignment")==="map"&&Z.get("symbol-placement")!=="point",yt=Z.get("symbol-placement"),pt=_e/2,ct=Z.get("icon-text-fit");let Ct;f&&ct!=="none"&&(l.allowVerticalPlacement&&u.vertical&&(Ct=aP(f,u.vertical,ct,Z.get("icon-text-fit-padding"),Q,ae)),ee&&(f=aP(f,ee,ct,Z.get("icon-text-fit-padding"),Q,ae)));const ht=(it,Ut)=>{Ut.x<0||Ut.x>=mr||Ut.y<0||Ut.y>=mr||function(zt,cn,tr,lr,ei,Eo,Ui,qr,ci,wi,ho,Vi,Gr,ti,Mi,Wi,fo,po,Sr,Si,mn,Po,Ci,qi,gs){const Hs=zt.addToLineVertexArray(cn,tr);let Ys,pl,ys,Yo,mo=0,ml=0,Wp=0,UP=0,kb=-1,Eb=-1;const gl={};let VP=Ws("");if(zt.allowVerticalPlacement&&lr.vertical){const Ri=qr.layout.get("text-rotate").evaluate(mn,{},qi)+90;ys=new Qy(ci,cn,wi,ho,Vi,lr.vertical,Gr,ti,Mi,Ri),Ui&&(Yo=new Qy(ci,cn,wi,ho,Vi,Ui,fo,po,Mi,Ri))}if(ei){const Ri=qr.layout.get("icon-rotate").evaluate(mn,{}),Zo=qr.layout.get("icon-text-fit")!=="none",Eu=OP(ei,Ri,Ci,Zo),Ks=Ui?OP(Ui,Ri,Ci,Zo):void 0;pl=new Qy(ci,cn,wi,ho,Vi,ei,fo,po,!1,Ri),mo=4*Eu.length;const Pu=zt.iconSizeData;let Pa=null;Pu.kind==="source"?(Pa=[Ea*qr.layout.get("icon-size").evaluate(mn,{})],Pa[0]>ac&&Pe(`${zt.layerIds[0]}: Value for "icon-size" is >= ${Bp}. Reduce your "icon-size".`)):Pu.kind==="composite"&&(Pa=[Ea*Po.compositeIconSizes[0].evaluate(mn,{},qi),Ea*Po.compositeIconSizes[1].evaluate(mn,{},qi)],(Pa[0]>ac||Pa[1]>ac)&&Pe(`${zt.layerIds[0]}: Value for "icon-size" is >= ${Bp}. Reduce your "icon-size".`)),zt.addSymbols(zt.icon,Eu,Pa,Si,Sr,mn,c.WritingMode.none,cn,Hs.lineStartIndex,Hs.lineLength,-1,qi),kb=zt.icon.placedSymbolArray.length-1,Ks&&(ml=4*Ks.length,zt.addSymbols(zt.icon,Ks,Pa,Si,Sr,mn,c.WritingMode.vertical,cn,Hs.lineStartIndex,Hs.lineLength,-1,qi),Eb=zt.icon.placedSymbolArray.length-1)}const WP=Object.keys(lr.horizontal);for(const Ri of WP){const Zo=lr.horizontal[Ri];if(!Ys){VP=Ws(Zo.text);const Ks=qr.layout.get("text-rotate").evaluate(mn,{},qi);Ys=new Qy(ci,cn,wi,ho,Vi,Zo,Gr,ti,Mi,Ks)}const Eu=Zo.positionedLines.length===1;if(Wp+=$P(zt,cn,Zo,Eo,qr,Mi,mn,Wi,Hs,lr.vertical?c.WritingMode.horizontal:c.WritingMode.horizontalOnly,Eu?WP:[Ri],gl,kb,Po,qi),Eu)break}lr.vertical&&(UP+=$P(zt,cn,lr.vertical,Eo,qr,Mi,mn,Wi,Hs,c.WritingMode.vertical,["vertical"],gl,Eb,Po,qi));const rF=Ys?Ys.boxStartIndex:zt.collisionBoxArray.length,iF=Ys?Ys.boxEndIndex:zt.collisionBoxArray.length,oF=ys?ys.boxStartIndex:zt.collisionBoxArray.length,sF=ys?ys.boxEndIndex:zt.collisionBoxArray.length,aF=pl?pl.boxStartIndex:zt.collisionBoxArray.length,lF=pl?pl.boxEndIndex:zt.collisionBoxArray.length,cF=Yo?Yo.boxStartIndex:zt.collisionBoxArray.length,uF=Yo?Yo.boxEndIndex:zt.collisionBoxArray.length;let Zs=-1;const tv=(Ri,Zo)=>Ri&&Ri.circleDiameter?Math.max(Ri.circleDiameter,Zo):Zo;Zs=tv(Ys,Zs),Zs=tv(ys,Zs),Zs=tv(pl,Zs),Zs=tv(Yo,Zs);const qP=Zs>-1?1:0;qP&&(Zs*=gs/Qr),zt.glyphOffsetArray.length>=lh.MAX_GLYPHS&&Pe("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),mn.sortKey!==void 0&&zt.addToSortKeyRanges(zt.symbolInstances.length,mn.sortKey);const dF=LP(qr,mn,qi),[hF,fF]=function(Ri,Zo){const Eu=Ri.length,Ks=Zo==null?void 0:Zo.values;if((Ks==null?void 0:Ks.length)>0)for(let Pu=0;Pu<Ks.length;Pu+=2){const Pa=Ks[Pu+1];Ri.emplaceBack(c.TextAnchorEnum[Ks[Pu]],Pa[0],Pa[1])}return[Eu,Ri.length]}(zt.textAnchorOffsets,dF);zt.symbolInstances.emplaceBack(cn.x,cn.y,gl.right>=0?gl.right:-1,gl.center>=0?gl.center:-1,gl.left>=0?gl.left:-1,gl.vertical||-1,kb,Eb,VP,rF,iF,oF,sF,aF,lF,cF,uF,wi,Wp,UP,mo,ml,qP,0,Gr,Zs,hF,fF)}(l,Ut,it,u,f,m,Ct,l.layers[0],l.collisionBoxArray,i.index,i.sourceLayerIndex,l.index,de,[Ie,Ie,Ie,Ie],_t,I,Ce,$e,Ot,Q,i,x,L,V,w)};if(yt==="line")for(const it of EP(i.geometry,0,0,mr,mr)){const Ut=Z4(it,_e,Ye,u.vertical||ee,f,24,fe,l.overscaling,mr);for(const zt of Ut)ee&&tF(l,ee.text,pt,zt)||ht(it,zt)}else if(yt==="line-center"){for(const it of i.geometry)if(it.length>1){const Ut=Y4(it,Ye,u.vertical||ee,f,24,fe);Ut&&ht(it,Ut)}}else if(i.type==="Polygon")for(const it of K1(i.geometry,0)){const Ut=J4(it,16);ht(it[0],new cc(Ut.x,Ut.y,0))}else if(i.type==="LineString")for(const it of i.geometry)ht(it,new cc(it[0].x,it[0].y,0));else if(i.type==="Point")for(const it of i.geometry)for(const Ut of it)ht([Ut],new cc(Ut.x,Ut.y,0))}function $P(l,i,u,f,m,x,w,S,I,L,V,G,Z,Q,ee){const ae=function(Ce,_e,Ie,$e,Ye,_t,Ot,yt){const pt=$e.layout.get("text-rotate").evaluate(_t,{})*Math.PI/180,ct=[];for(const Ct of _e.positionedLines)for(const ht of Ct.positionedGlyphs){if(!ht.rect)continue;const it=ht.rect||{};let Ut=eP+1,zt=!0,cn=1,tr=0;const lr=(Ye||yt)&&ht.vertical,ei=ht.metrics.advance*ht.scale/2;if(yt&&_e.verticalizable&&(tr=Ct.lineOffset/2-(ht.imageName?-(Qr-ht.metrics.width*ht.scale)/2:(ht.scale-1)*Qr)),ht.imageName){const Sr=Ot[ht.imageName];zt=Sr.sdf,cn=Sr.pixelRatio,Ut=uo/cn}const Eo=Ye?[ht.x+ei,ht.y]:[0,0];let Ui=Ye?[0,0]:[ht.x+ei+Ie[0],ht.y+Ie[1]-tr],qr=[0,0];lr&&(qr=Ui,Ui=[0,0]);const ci=(ht.metrics.left-Ut)*ht.scale-ei+Ui[0],wi=(-ht.metrics.top-Ut)*ht.scale+Ui[1],ho=ci+it.w*ht.scale/cn,Vi=wi+it.h*ht.scale/cn,Gr=new k(ci,wi),ti=new k(ho,wi),Mi=new k(ci,Vi),Wi=new k(ho,Vi);if(lr){const Sr=new k(-ei,ei-Np),Si=-Math.PI/2,mn=Qr/2-ei,Po=new k(5-Np-mn,-(ht.imageName?mn:0)),Ci=new k(...qr);Gr._rotateAround(Si,Sr)._add(Po)._add(Ci),ti._rotateAround(Si,Sr)._add(Po)._add(Ci),Mi._rotateAround(Si,Sr)._add(Po)._add(Ci),Wi._rotateAround(Si,Sr)._add(Po)._add(Ci)}if(pt){const Sr=Math.sin(pt),Si=Math.cos(pt),mn=[Si,-Sr,Sr,Si];Gr._matMult(mn),ti._matMult(mn),Mi._matMult(mn),Wi._matMult(mn)}const fo=new k(0,0),po=new k(0,0);ct.push({tl:Gr,tr:ti,bl:Mi,br:Wi,tex:it,writingMode:_e.writingMode,glyphOffset:Eo,sectionIndex:ht.sectionIndex,isSDF:zt,pixelOffsetTL:fo,pixelOffsetBR:po,minFontScaleX:0,minFontScaleY:0})}return ct}(0,u,S,m,x,w,f,l.allowVerticalPlacement),de=l.textSizeData;let fe=null;de.kind==="source"?(fe=[Ea*m.layout.get("text-size").evaluate(w,{})],fe[0]>ac&&Pe(`${l.layerIds[0]}: Value for "text-size" is >= ${Bp}. Reduce your "text-size".`)):de.kind==="composite"&&(fe=[Ea*Q.compositeTextSizes[0].evaluate(w,{},ee),Ea*Q.compositeTextSizes[1].evaluate(w,{},ee)],(fe[0]>ac||fe[1]>ac)&&Pe(`${l.layerIds[0]}: Value for "text-size" is >= ${Bp}. Reduce your "text-size".`)),l.addSymbols(l.text,ae,fe,S,x,w,L,i,I.lineStartIndex,I.lineLength,Z,ee);for(const Ce of V)G[Ce]=l.text.placedSymbolArray.length-1;return 4*ae.length}function NP(l){for(const i in l)return l[i];return null}function tF(l,i,u,f){const m=l.compareText;if(i in m){const x=m[i];for(let w=x.length-1;w>=0;w--)if(f.dist(x[w])<u)return!0}else m[i]=[];return m[i].push(f),!1}const FP=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class _b{static from(i){if(!(i instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[u,f]=new Uint8Array(i,0,2);if(u!==219)throw new Error("Data does not appear to be in a KDBush format.");const m=f>>4;if(m!==1)throw new Error(`Got v${m} data when expected v1.`);const x=FP[15&f];if(!x)throw new Error("Unrecognized array type.");const[w]=new Uint16Array(i,2,1),[S]=new Uint32Array(i,4,1);return new _b(S,w,x,i)}constructor(i,u=64,f=Float64Array,m){if(isNaN(i)||i<0)throw new Error(`Unpexpected numItems value: ${i}.`);this.numItems=+i,this.nodeSize=Math.min(Math.max(+u,2),65535),this.ArrayType=f,this.IndexArrayType=i<65536?Uint16Array:Uint32Array;const x=FP.indexOf(this.ArrayType),w=2*i*this.ArrayType.BYTES_PER_ELEMENT,S=i*this.IndexArrayType.BYTES_PER_ELEMENT,I=(8-S%8)%8;if(x<0)throw new Error(`Unexpected typed array class: ${f}.`);m&&m instanceof ArrayBuffer?(this.data=m,this.ids=new this.IndexArrayType(this.data,8,i),this.coords=new this.ArrayType(this.data,8+S+I,2*i),this._pos=2*i,this._finished=!0):(this.data=new ArrayBuffer(8+w+S+I),this.ids=new this.IndexArrayType(this.data,8,i),this.coords=new this.ArrayType(this.data,8+S+I,2*i),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+x]),new Uint16Array(this.data,2,1)[0]=u,new Uint32Array(this.data,4,1)[0]=i)}add(i,u){const f=this._pos>>1;return this.ids[f]=f,this.coords[this._pos++]=i,this.coords[this._pos++]=u,f}finish(){const i=this._pos>>1;if(i!==this.numItems)throw new Error(`Added ${i} items when expected ${this.numItems}.`);return xb(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(i,u,f,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:x,coords:w,nodeSize:S}=this,I=[0,x.length-1,0],L=[];for(;I.length;){const V=I.pop()||0,G=I.pop()||0,Z=I.pop()||0;if(G-Z<=S){for(let de=Z;de<=G;de++){const fe=w[2*de],Ce=w[2*de+1];fe>=i&&fe<=f&&Ce>=u&&Ce<=m&&L.push(x[de])}continue}const Q=Z+G>>1,ee=w[2*Q],ae=w[2*Q+1];ee>=i&&ee<=f&&ae>=u&&ae<=m&&L.push(x[Q]),(V===0?i<=ee:u<=ae)&&(I.push(Z),I.push(Q-1),I.push(1-V)),(V===0?f>=ee:m>=ae)&&(I.push(Q+1),I.push(G),I.push(1-V))}return L}within(i,u,f){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:m,coords:x,nodeSize:w}=this,S=[0,m.length-1,0],I=[],L=f*f;for(;S.length;){const V=S.pop()||0,G=S.pop()||0,Z=S.pop()||0;if(G-Z<=w){for(let de=Z;de<=G;de++)jP(x[2*de],x[2*de+1],i,u)<=L&&I.push(m[de]);continue}const Q=Z+G>>1,ee=x[2*Q],ae=x[2*Q+1];jP(ee,ae,i,u)<=L&&I.push(m[Q]),(V===0?i-f<=ee:u-f<=ae)&&(S.push(Z),S.push(Q-1),S.push(1-V)),(V===0?i+f>=ee:u+f>=ae)&&(S.push(Q+1),S.push(G),S.push(1-V))}return I}}function xb(l,i,u,f,m,x){if(m-f<=u)return;const w=f+m>>1;BP(l,i,w,f,m,x),xb(l,i,u,f,w-1,1-x),xb(l,i,u,w+1,m,1-x)}function BP(l,i,u,f,m,x){for(;m>f;){if(m-f>600){const L=m-f+1,V=u-f+1,G=Math.log(L),Z=.5*Math.exp(2*G/3),Q=.5*Math.sqrt(G*Z*(L-Z)/L)*(V-L/2<0?-1:1);BP(l,i,u,Math.max(f,Math.floor(u-V*Z/L+Q)),Math.min(m,Math.floor(u+(L-V)*Z/L+Q)),x)}const w=i[2*u+x];let S=f,I=m;for(Up(l,i,f,u),i[2*m+x]>w&&Up(l,i,f,m);S<I;){for(Up(l,i,S,I),S++,I--;i[2*S+x]<w;)S++;for(;i[2*I+x]>w;)I--}i[2*f+x]===w?Up(l,i,f,I):(I++,Up(l,i,I,m)),I<=u&&(f=I+1),u<=I&&(m=I-1)}}function Up(l,i,u,f){bb(l,u,f),bb(i,2*u,2*f),bb(i,2*u+1,2*f+1)}function bb(l,i,u){const f=l[i];l[i]=l[u],l[u]=f}function jP(l,i,u,f){const m=l-u,x=i-f;return m*m+x*x}var wb;c.PerformanceMarkers=void 0,(wb=c.PerformanceMarkers||(c.PerformanceMarkers={})).create="create",wb.load="load",wb.fullLoad="fullLoad";let ev=null,Vp=[];const Sb=1e3/60,Cb="loadTime",Tb="fullLoadTime",nF={mark(l){performance.mark(l)},frame(l){const i=l;ev!=null&&Vp.push(i-ev),ev=i},clearMetrics(){ev=null,Vp=[],performance.clearMeasures(Cb),performance.clearMeasures(Tb);for(const l in c.PerformanceMarkers)performance.clearMarks(c.PerformanceMarkers[l])},getPerformanceMetrics(){performance.measure(Cb,c.PerformanceMarkers.create,c.PerformanceMarkers.load),performance.measure(Tb,c.PerformanceMarkers.create,c.PerformanceMarkers.fullLoad);const l=performance.getEntriesByName(Cb)[0].duration,i=performance.getEntriesByName(Tb)[0].duration,u=Vp.length,f=1/(Vp.reduce((x,w)=>x+w,0)/u/1e3),m=Vp.filter(x=>x>Sb).reduce((x,w)=>x+(w-Sb)/Sb,0);return{loadTime:l,fullLoadTime:i,fps:f,percentDroppedFrames:m/(u+m)*100,totalFrames:u}}};c.AJAXError=st,c.ARRAY_TYPE=nh,c.Actor=class{constructor(l,i,u){this.receive=f=>{const m=f.data,x=m.id;if(x&&(!m.targetMapId||this.mapId===m.targetMapId))if(m.type==="<cancel>"){delete this.tasks[x];const w=this.cancelCallbacks[x];delete this.cancelCallbacks[x],w&&w()}else Ve()||m.mustQueue?(this.tasks[x]=m,this.taskQueue.push(x),this.invoker.trigger()):this.processTask(x,m)},this.process=()=>{if(!this.taskQueue.length)return;const f=this.taskQueue.shift(),m=this.tasks[f];delete this.tasks[f],this.taskQueue.length&&this.invoker.trigger(),m&&this.processTask(f,m)},this.target=l,this.parent=i,this.mapId=u,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new G4(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Ve()?l:window}send(l,i,u,f,m=!1){const x=Math.round(1e18*Math.random()).toString(36).substring(0,10);u&&(this.callbacks[x]=u);const w=Ze(this.globalScope)?void 0:[];return this.target.postMessage({id:x,type:l,hasCallback:!!u,targetMapId:f,mustQueue:m,sourceMapId:this.mapId,data:al(i,w)},w),{cancel:()=>{u&&delete this.callbacks[x],this.target.postMessage({id:x,type:"<cancel>",targetMapId:f,sourceMapId:this.mapId})}}}processTask(l,i){if(i.type==="<response>"){const u=this.callbacks[l];delete this.callbacks[l],u&&(i.error?u(Xl(i.error)):u(null,Xl(i.data)))}else{let u=!1;const f=Ze(this.globalScope)?void 0:[],m=i.hasCallback?(S,I)=>{u=!0,delete this.cancelCallbacks[l],this.target.postMessage({id:l,type:"<response>",sourceMapId:this.mapId,error:S?al(S):null,data:al(I,f)},f)}:S=>{u=!0};let x=null;const w=Xl(i.data);if(this.parent[i.type])x=this.parent[i.type](i.sourceMapId,w,m);else if(this.parent.getWorkerSource){const S=i.type.split(".");x=this.parent.getWorkerSource(i.sourceMapId,S[0],w.source)[S[1]](w,m)}else m(new Error(`Could not find function ${i.type}`));!u&&x&&x.cancel&&(this.cancelCallbacks[l]=x.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},c.AlphaImage=Mp,c.CanonicalTileID=gb,c.CollisionBoxArray=R,c.CollisionCircleLayoutArray=class extends Xd{},c.Color=lt,c.DEMData=bP,c.DataConstantProperty=Nt,c.DictionaryCoder=wP,c.EXTENT=mr,c.ErrorEvent=jt,c.EvaluationParameters=ar,c.Event=It,c.Evented=Mt,c.FeatureIndex=CP,c.FillBucket=Q1,c.FillExtrusionBucket=tb,c.GeoJSONFeature=SP,c.ImageAtlas=nP,c.ImagePosition=sb,c.KDBush=_b,c.LineBucket=nb,c.LineStripIndexArray=class extends b{},c.LngLat=lc,c.MercatorCoordinate=Zy,c.ONE_EM=Qr,c.OverscaledTileID=Ho,c.PerformanceUtils=nF,c.Point=k,c.Pos3dArray=class extends tc{},c.PosArray=he,c.Properties=Jr,c.Protobuf=ib,c.QuadTriangleArray=class extends Jd{},c.RGBAImage=Go,c.RasterBoundsArray=class extends Zd{},c.RequestPerformance=class{constructor(l){this._marks={start:[l.url,"start"].join("#"),end:[l.url,"end"].join("#"),measure:l.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let l=performance.getEntriesByName(this._marks.measure);return l.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),l=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),l}},c.SegmentVector=Ht,c.SymbolBucket=lh,c.Transitionable=Gd,c.TriangleIndexArray=kt,c.Uniform1f=ai,c.Uniform1i=class extends wr{constructor(l,i){super(l,i),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1i(this.location,l))}},c.Uniform2f=class extends wr{constructor(l,i){super(l,i),this.current=[0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]||(this.current=l,this.gl.uniform2f(this.location,l[0],l[1]))}},c.Uniform3f=class extends wr{constructor(l,i){super(l,i),this.current=[0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]||(this.current=l,this.gl.uniform3f(this.location,l[0],l[1],l[2]))}},c.Uniform4f=nc,c.UniformColor=Wr,c.UniformMatrix4f=class extends wr{constructor(l,i){super(l,i),this.current=li}set(l){if(l[12]!==this.current[12]||l[0]!==this.current[0])return this.current=l,void this.gl.uniformMatrix4fv(this.location,!1,l);for(let i=1;i<16;i++)if(l[i]!==this.current[i]){this.current=l,this.gl.uniformMatrix4fv(this.location,!1,l);break}}},c.UnwrappedTileID=xP,c.ValidationError=nt,c.ZoomHistory=Wd,c.addDynamicAttributes=ub,c.arrayBufferToImage=function(l,i){const u=new Image;u.onload=()=>{i(null,u),URL.revokeObjectURL(u.src),u.onload=null,window.requestAnimationFrame(()=>{u.src=ke})},u.onerror=()=>i(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const f=new Blob([new Uint8Array(l)],{type:"image/png"});u.src=l.byteLength?URL.createObjectURL(f):ke},c.arrayBufferToImageBitmap=function(l,i){const u=new Blob([new Uint8Array(l)],{type:"image/png"});createImageBitmap(u).then(f=>{i(null,f)}).catch(f=>{i(new Error(`Could not load image because of ${f.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},c.asyncAll=function(l,i,u){if(!l.length)return u(null,[]);let f=l.length;const m=new Array(l.length);let x=null;l.forEach((w,S)=>{i(w,(I,L)=>{I&&(x=I),m[S]=L,--f==0&&u(x,m)})})},c.bezier=M,c.browser=Ee,c.clamp=A,c.clipLine=EP,c.clone=function(l){var i=new nh(16);return i[0]=l[0],i[1]=l[1],i[2]=l[2],i[3]=l[3],i[4]=l[4],i[5]=l[5],i[6]=l[6],i[7]=l[7],i[8]=l[8],i[9]=l[9],i[10]=l[10],i[11]=l[11],i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15],i},c.clone$1=te,c.collisionCircleLayout=x4,c.config=ze,c.copy=function(l,i){return l[0]=i[0],l[1]=i[1],l[2]=i[2],l[3]=i[3],l[4]=i[4],l[5]=i[5],l[6]=i[6],l[7]=i[7],l[8]=i[8],l[9]=i[9],l[10]=i[10],l[11]=i[11],l[12]=i[12],l[13]=i[13],l[14]=i[14],l[15]=i[15],l},c.create=function(){var l=new nh(16);return nh!=Float32Array&&(l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=0,l[12]=0,l[13]=0,l[14]=0),l[0]=1,l[5]=1,l[10]=1,l[15]=1,l},c.createExpression=dn,c.createFilter=ip,c.createLayout=Lr,c.createStyleLayer=function(l){if(l.type==="custom")return new q4(l);switch(l.type){case"background":return new U4(l);case"circle":return new E3(l);case"fill":return new H3(l);case"fill-extrusion":return new l4(l);case"heatmap":return new I3(l);case"hillshade":return new R3(l);case"line":return new g4(l);case"raster":return new W4(l);case"symbol":return new Yy(l)}},c.deepEqual=function l(i,u){if(Array.isArray(i)){if(!Array.isArray(u)||i.length!==u.length)return!1;for(let f=0;f<i.length;f++)if(!l(i[f],u[f]))return!1;return!0}if(typeof i=="object"&&i!==null&&u!==null){if(typeof u!="object"||Object.keys(i).length!==Object.keys(u).length)return!1;for(const f in i)if(!l(i[f],u[f]))return!1;return!0}return i===u},c.defaultEasing=$,c.derefLayers=function(l){l=l.slice();const i=Object.create(null);for(let u=0;u<l.length;u++)i[l[u].id]=l[u];for(let u=0;u<l.length;u++)"ref"in l[u]&&(l[u]=Sn(l[u],i[l[u].ref]));return l},c.diffStyles=function(l,i){if(!l)return[{command:Yt.setStyle,args:[i]}];let u=[];try{if(!Zt(l.version,i.version))return[{command:Yt.setStyle,args:[i]}];Zt(l.center,i.center)||u.push({command:Yt.setCenter,args:[i.center]}),Zt(l.zoom,i.zoom)||u.push({command:Yt.setZoom,args:[i.zoom]}),Zt(l.bearing,i.bearing)||u.push({command:Yt.setBearing,args:[i.bearing]}),Zt(l.pitch,i.pitch)||u.push({command:Yt.setPitch,args:[i.pitch]}),Zt(l.sprite,i.sprite)||u.push({command:Yt.setSprite,args:[i.sprite]}),Zt(l.glyphs,i.glyphs)||u.push({command:Yt.setGlyphs,args:[i.glyphs]}),Zt(l.transition,i.transition)||u.push({command:Yt.setTransition,args:[i.transition]}),Zt(l.light,i.light)||u.push({command:Yt.setLight,args:[i.light]});const f={},m=[];(function(w,S,I,L){let V;for(V in S=S||{},w=w||{})Object.prototype.hasOwnProperty.call(w,V)&&(Object.prototype.hasOwnProperty.call(S,V)||cr(V,I,L));for(V in S)Object.prototype.hasOwnProperty.call(S,V)&&(Object.prototype.hasOwnProperty.call(w,V)?Zt(w[V],S[V])||(w[V].type==="geojson"&&S[V].type==="geojson"&&Cn(w,S,V)?I.push({command:Yt.setGeoJSONSourceData,args:[V,S[V].data]}):_n(V,S,I,L)):Nn(V,S,I))})(l.sources,i.sources,m,f);const x=[];l.layers&&l.layers.forEach(w=>{f[w.source]?u.push({command:Yt.removeLayer,args:[w.id]}):x.push(w)}),u=u.concat(m),function(w,S,I){S=S||[];const L=(w=w||[]).map(xn),V=S.map(xn),G=w.reduce(sr,{}),Z=S.reduce(sr,{}),Q=L.slice(),ee=Object.create(null);let ae,de,fe,Ce,_e,Ie,$e;for(ae=0,de=0;ae<L.length;ae++)fe=L[ae],Object.prototype.hasOwnProperty.call(Z,fe)?de++:(I.push({command:Yt.removeLayer,args:[fe]}),Q.splice(Q.indexOf(fe,de),1));for(ae=0,de=0;ae<V.length;ae++)fe=V[V.length-1-ae],Q[Q.length-1-ae]!==fe&&(Object.prototype.hasOwnProperty.call(G,fe)?(I.push({command:Yt.removeLayer,args:[fe]}),Q.splice(Q.lastIndexOf(fe,Q.length-de),1)):de++,Ie=Q[Q.length-ae],I.push({command:Yt.addLayer,args:[Z[fe],Ie]}),Q.splice(Q.length-ae,0,fe),ee[fe]=!0);for(ae=0;ae<V.length;ae++)if(fe=V[ae],Ce=G[fe],_e=Z[fe],!ee[fe]&&!Zt(Ce,_e))if(Zt(Ce.source,_e.source)&&Zt(Ce["source-layer"],_e["source-layer"])&&Zt(Ce.type,_e.type)){for($e in on(Ce.layout,_e.layout,I,fe,null,Yt.setLayoutProperty),on(Ce.paint,_e.paint,I,fe,null,Yt.setPaintProperty),Zt(Ce.filter,_e.filter)||I.push({command:Yt.setFilter,args:[fe,_e.filter]}),Zt(Ce.minzoom,_e.minzoom)&&Zt(Ce.maxzoom,_e.maxzoom)||I.push({command:Yt.setLayerZoomRange,args:[fe,_e.minzoom,_e.maxzoom]}),Ce)Object.prototype.hasOwnProperty.call(Ce,$e)&&$e!=="layout"&&$e!=="paint"&&$e!=="filter"&&$e!=="metadata"&&$e!=="minzoom"&&$e!=="maxzoom"&&($e.indexOf("paint.")===0?on(Ce[$e],_e[$e],I,fe,$e.slice(6),Yt.setPaintProperty):Zt(Ce[$e],_e[$e])||I.push({command:Yt.setLayerProperty,args:[fe,$e,_e[$e]]}));for($e in _e)Object.prototype.hasOwnProperty.call(_e,$e)&&!Object.prototype.hasOwnProperty.call(Ce,$e)&&$e!=="layout"&&$e!=="paint"&&$e!=="filter"&&$e!=="metadata"&&$e!=="minzoom"&&$e!=="maxzoom"&&($e.indexOf("paint.")===0?on(Ce[$e],_e[$e],I,fe,$e.slice(6),Yt.setPaintProperty):Zt(Ce[$e],_e[$e])||I.push({command:Yt.setLayerProperty,args:[fe,$e,_e[$e]]}))}else I.push({command:Yt.removeLayer,args:[fe]}),Ie=Q[Q.lastIndexOf(fe)+1],I.push({command:Yt.addLayer,args:[_e,Ie]})}(x,i.layers,u)}catch(f){console.warn("Unable to compute style diff:",f),u=[{command:Yt.setStyle,args:[i]}]}return u},c.dot=function(l,i){return l[0]*i[0]+l[1]*i[1]+l[2]*i[2]+l[3]*i[3]},c.earthRadius=pb,c.emitValidationErrors=Cy,c.emptyStyle=function(){const l={},i=Re.$version;for(const u in Re.$root){const f=Re.$root[u];if(f.required){let m=null;m=u==="version"?i:f.type==="array"?[]:{},m!=null&&(l[u]=m)}}return l},c.equals=function(l,i){var u=l[0],f=l[1],m=l[2],x=l[3],w=l[4],S=l[5],I=l[6],L=l[7],V=l[8],G=l[9],Z=l[10],Q=l[11],ee=l[12],ae=l[13],de=l[14],fe=l[15],Ce=i[0],_e=i[1],Ie=i[2],$e=i[3],Ye=i[4],_t=i[5],Ot=i[6],yt=i[7],pt=i[8],ct=i[9],Ct=i[10],ht=i[11],it=i[12],Ut=i[13],zt=i[14],cn=i[15];return Math.abs(u-Ce)<=ji*Math.max(1,Math.abs(u),Math.abs(Ce))&&Math.abs(f-_e)<=ji*Math.max(1,Math.abs(f),Math.abs(_e))&&Math.abs(m-Ie)<=ji*Math.max(1,Math.abs(m),Math.abs(Ie))&&Math.abs(x-$e)<=ji*Math.max(1,Math.abs(x),Math.abs($e))&&Math.abs(w-Ye)<=ji*Math.max(1,Math.abs(w),Math.abs(Ye))&&Math.abs(S-_t)<=ji*Math.max(1,Math.abs(S),Math.abs(_t))&&Math.abs(I-Ot)<=ji*Math.max(1,Math.abs(I),Math.abs(Ot))&&Math.abs(L-yt)<=ji*Math.max(1,Math.abs(L),Math.abs(yt))&&Math.abs(V-pt)<=ji*Math.max(1,Math.abs(V),Math.abs(pt))&&Math.abs(G-ct)<=ji*Math.max(1,Math.abs(G),Math.abs(ct))&&Math.abs(Z-Ct)<=ji*Math.max(1,Math.abs(Z),Math.abs(Ct))&&Math.abs(Q-ht)<=ji*Math.max(1,Math.abs(Q),Math.abs(ht))&&Math.abs(ee-it)<=ji*Math.max(1,Math.abs(ee),Math.abs(it))&&Math.abs(ae-Ut)<=ji*Math.max(1,Math.abs(ae),Math.abs(Ut))&&Math.abs(de-zt)<=ji*Math.max(1,Math.abs(de),Math.abs(zt))&&Math.abs(fe-cn)<=ji*Math.max(1,Math.abs(fe),Math.abs(cn))},c.evaluateSizeForFeature=function(l,{uSize:i,uSizeT:u},{lowerSize:f,upperSize:m}){return l.kind==="source"?f/Ea:l.kind==="composite"?lo.number(f/Ea,m/Ea,u):i},c.evaluateSizeForZoom=function(l,i){let u=0,f=0;if(l.kind==="constant")f=l.layoutSize;else if(l.kind!=="source"){const{interpolationType:m,minZoom:x,maxZoom:w}=l,S=m?A(co.interpolationFactor(m,i,x,w),0,1):0;l.kind==="camera"?f=lo.number(l.minSize,l.maxSize,S):u=S}return{uSizeT:u,uSize:f}},c.evented=yp,c.extend=z,c.filterObject=J,c.findLineIntersection=function(l,i,u,f){const m=i.y-l.y,x=i.x-l.x,w=f.y-u.y,S=f.x-u.x,I=w*x-S*m;if(I===0)return null;const L=(S*(l.y-u.y)-w*(l.x-u.x))/I;return new k(l.x+L*x,l.y+L*m)},c.fromScaling=function(l,i){return l[0]=i[0],l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=i[1],l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=i[2],l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l},c.getAnchorAlignment=lb,c.getAnchorJustification=vb,c.getArrayBuffer=Le,c.getDefaultExportFromCjs=y,c.getJSON=function(l,i){return qe(z(l,{type:"json"}),i)},c.getOverlapMode=cb,c.getProtocolAction=Fe,c.getRTLTextPluginStatus=vp,c.getReferrer=be,c.getVideo=function(l,i){const u=window.document.createElement("video");u.muted=!0,u.onloadstart=function(){i(null,u)};for(let f=0;f<l.length;f++){const m=window.document.createElement("source");ot(l[f])||(u.crossOrigin="Anonymous"),m.src=l[f],u.appendChild(m)}return{cancel:()=>{}}},c.groupByLayout=function(l,i){const u={};for(let m=0;m<l.length;m++){const x=i&&i[l[m].id]||z1(l[m]);i&&(i[l[m].id]=x);let w=u[x];w||(w=u[x]=[]),w.push(l[m])}const f=[];for(const m in u)f.push(u[m]);return f},c.identity=V1,c.interpolate=lo,c.invert=function(l,i){var u=i[0],f=i[1],m=i[2],x=i[3],w=i[4],S=i[5],I=i[6],L=i[7],V=i[8],G=i[9],Z=i[10],Q=i[11],ee=i[12],ae=i[13],de=i[14],fe=i[15],Ce=u*S-f*w,_e=u*I-m*w,Ie=u*L-x*w,$e=f*I-m*S,Ye=f*L-x*S,_t=m*L-x*I,Ot=V*ae-G*ee,yt=V*de-Z*ee,pt=V*fe-Q*ee,ct=G*de-Z*ae,Ct=G*fe-Q*ae,ht=Z*fe-Q*de,it=Ce*ht-_e*Ct+Ie*ct+$e*pt-Ye*yt+_t*Ot;return it?(l[0]=(S*ht-I*Ct+L*ct)*(it=1/it),l[1]=(m*Ct-f*ht-x*ct)*it,l[2]=(ae*_t-de*Ye+fe*$e)*it,l[3]=(Z*Ye-G*_t-Q*$e)*it,l[4]=(I*pt-w*ht-L*yt)*it,l[5]=(u*ht-m*pt+x*yt)*it,l[6]=(de*Ie-ee*_t-fe*_e)*it,l[7]=(V*_t-Z*Ie+Q*_e)*it,l[8]=(w*Ct-S*pt+L*Ot)*it,l[9]=(f*pt-u*Ct-x*Ot)*it,l[10]=(ee*Ye-ae*Ie+fe*Ce)*it,l[11]=(G*Ie-V*Ye-Q*Ce)*it,l[12]=(S*yt-w*ct-I*Ot)*it,l[13]=(u*ct-f*yt+m*Ot)*it,l[14]=(ae*_e-ee*$e-de*Ce)*it,l[15]=(V*$e-G*_e+Z*Ce)*it,l):null},c.isImageBitmap=Ke,c.isSafari=Ze,c.isWorker=Ve,c.keysDifference=function(l,i){const u=[];for(const f in l)f in i||u.push(f);return u},c.lazyLoadRTLTextPlugin=function(){ko.isLoading()||ko.isLoaded()||vp()!=="deferred"||Iy()},c.makeRequest=qe,c.mapObject=Y,c.mercatorXfromLng=gP,c.mercatorYfromLat=yP,c.mercatorZfromAltitude=vP,c.mul=k3,c.mul$1=function(l,i,u){return l[0]=i[0]*u[0],l[1]=i[1]*u[1],l[2]=i[2]*u[2],l[3]=i[3]*u[3],l},c.multiply=bE,c.nextPowerOfTwo=function(l){return l<=1?1:Math.pow(2,Math.ceil(Math.log(l)/Math.LN2))},c.operations=Yt,c.ortho=function(l,i,u,f,m,x,w){var S=1/(i-u),I=1/(f-m),L=1/(x-w);return l[0]=-2*S,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=-2*I,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=2*L,l[11]=0,l[12]=(i+u)*S,l[13]=(m+f)*I,l[14]=(w+x)*L,l[15]=1,l},c.parseCacheControl=function(l){const i={};if(l.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(u,f,m,x)=>{const w=m||x;return i[f]=!w||w.toLowerCase(),""}),i["max-age"]){const u=parseInt(i["max-age"],10);isNaN(u)?delete i["max-age"]:i["max-age"]=u}return i},c.parseGlyphPbf=function(l){return new ib(l).readFields(R4,[])},c.pbf=HE,c.performSymbolLayout=function(l){l.bucket.createArrays(),l.bucket.tilePixelRatio=mr/(512*l.bucket.overscaling),l.bucket.compareText={},l.bucket.iconsNeedLinear=!1;const i=l.bucket.layers[0],u=i.layout,f=i._unevaluatedLayout._values,m={layoutIconSize:f["icon-size"].possiblyEvaluate(new ar(l.bucket.zoom+1),l.canonical),layoutTextSize:f["text-size"].possiblyEvaluate(new ar(l.bucket.zoom+1),l.canonical),textMaxSize:f["text-size"].possiblyEvaluate(new ar(18))};if(l.bucket.textSizeData.kind==="composite"){const{minZoom:L,maxZoom:V}=l.bucket.textSizeData;m.compositeTextSizes=[f["text-size"].possiblyEvaluate(new ar(L),l.canonical),f["text-size"].possiblyEvaluate(new ar(V),l.canonical)]}if(l.bucket.iconSizeData.kind==="composite"){const{minZoom:L,maxZoom:V}=l.bucket.iconSizeData;m.compositeIconSizes=[f["icon-size"].possiblyEvaluate(new ar(L),l.canonical),f["icon-size"].possiblyEvaluate(new ar(V),l.canonical)]}const x=u.get("text-line-height")*Qr,w=u.get("text-rotation-alignment")!=="viewport"&&u.get("symbol-placement")!=="point",S=u.get("text-keep-upright"),I=u.get("text-size");for(const L of l.bucket.features){const V=u.get("text-font").evaluate(L,{},l.canonical).join(","),G=I.evaluate(L,{},l.canonical),Z=m.layoutTextSize.evaluate(L,{},l.canonical),Q=m.layoutIconSize.evaluate(L,{},l.canonical),ee={horizontal:{},vertical:void 0},ae=L.text;let de,fe=[0,0];if(ae){const Ie=ae.toString(),$e=u.get("text-letter-spacing").evaluate(L,{},l.canonical)*Qr,Ye=$1(Ie)?$e:0,_t=u.get("text-anchor").evaluate(L,{},l.canonical),Ot=LP(i,L,l.canonical);if(!Ot){const ht=u.get("text-radial-offset").evaluate(L,{},l.canonical);fe=ht?zP(_t,[ht*Qr,yb]):u.get("text-offset").evaluate(L,{},l.canonical).map(it=>it*Qr)}let yt=w?"center":u.get("text-justify").evaluate(L,{},l.canonical);const pt=u.get("symbol-placement"),ct=pt==="point"?u.get("text-max-width").evaluate(L,{},l.canonical)*Qr:0,Ct=()=>{l.bucket.allowVerticalPlacement&&qd(Ie)&&(ee.vertical=qy(ae,l.glyphMap,l.glyphPositions,l.imagePositions,V,ct,x,_t,"left",Ye,fe,c.WritingMode.vertical,!0,pt,Z,G))};if(!w&&Ot){const ht=new Set;if(yt==="auto")for(let Ut=0;Ut<Ot.values.length;Ut+=2)ht.add(vb(Ot.values[Ut]));else ht.add(yt);let it=!1;for(const Ut of ht)if(!ee.horizontal[Ut])if(it)ee.horizontal[Ut]=ee.horizontal[0];else{const zt=qy(ae,l.glyphMap,l.glyphPositions,l.imagePositions,V,ct,x,"center",Ut,Ye,fe,c.WritingMode.horizontal,!1,pt,Z,G);zt&&(ee.horizontal[Ut]=zt,it=zt.positionedLines.length===1)}Ct()}else{yt==="auto"&&(yt=vb(_t));const ht=qy(ae,l.glyphMap,l.glyphPositions,l.imagePositions,V,ct,x,_t,yt,Ye,fe,c.WritingMode.horizontal,!1,pt,Z,G);ht&&(ee.horizontal[yt]=ht),Ct(),qd(Ie)&&w&&S&&(ee.vertical=qy(ae,l.glyphMap,l.glyphPositions,l.imagePositions,V,ct,x,_t,yt,Ye,fe,c.WritingMode.vertical,!1,pt,Z,G))}}let Ce=!1;if(L.icon&&L.icon.name){const Ie=l.imageMap[L.icon.name];Ie&&(de=$4(l.imagePositions[L.icon.name],u.get("icon-offset").evaluate(L,{},l.canonical),u.get("icon-anchor").evaluate(L,{},l.canonical)),Ce=!!Ie.sdf,l.bucket.sdfIcons===void 0?l.bucket.sdfIcons=Ce:l.bucket.sdfIcons!==Ce&&Pe("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ie.pixelRatio!==l.bucket.pixelRatio||u.get("icon-rotate").constantOr(1)!==0)&&(l.bucket.iconsNeedLinear=!0))}const _e=NP(ee.horizontal)||ee.vertical;l.bucket.iconsInText=!!_e&&_e.iconsInText,(_e||de)&&eF(l.bucket,L,ee,de,l.imageMap,m,Z,Q,fe,Ce,l.canonical)}l.showCollisionBoxes&&l.bucket.generateCollisionDebugBuffers()},c.perspective=function(l,i,u,f,m){var x,w=1/Math.tan(i/2);return l[0]=w/u,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=w,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=-1,l[12]=0,l[13]=0,l[15]=0,m!=null&&m!==1/0?(l[10]=(m+f)*(x=1/(f-m)),l[14]=2*m*f*x):(l[10]=-1,l[14]=-2*f),l},c.pick=function(l,i){const u={};for(let f=0;f<i.length;f++){const m=i[f];m in l&&(u[m]=l[m])}return u},c.plugin=ko,c.pointGeometry=_,c.polygonIntersectsPolygon=mE,c.potpack=tP,c.register=bt,c.registerForPluginStateChange=function(l){return l({pluginStatus:Ni,pluginURL:js}),yp.on("pluginStateChange",l),l},c.renderColorRamp=kE,c.rotateX=function(l,i,u){var f=Math.sin(u),m=Math.cos(u),x=i[4],w=i[5],S=i[6],I=i[7],L=i[8],V=i[9],G=i[10],Z=i[11];return i!==l&&(l[0]=i[0],l[1]=i[1],l[2]=i[2],l[3]=i[3],l[12]=i[12],l[13]=i[13],l[14]=i[14],l[15]=i[15]),l[4]=x*m+L*f,l[5]=w*m+V*f,l[6]=S*m+G*f,l[7]=I*m+Z*f,l[8]=L*m-x*f,l[9]=V*m-w*f,l[10]=G*m-S*f,l[11]=Z*m-I*f,l},c.rotateZ=function(l,i,u){var f=Math.sin(u),m=Math.cos(u),x=i[0],w=i[1],S=i[2],I=i[3],L=i[4],V=i[5],G=i[6],Z=i[7];return i!==l&&(l[8]=i[8],l[9]=i[9],l[10]=i[10],l[11]=i[11],l[12]=i[12],l[13]=i[13],l[14]=i[14],l[15]=i[15]),l[0]=x*m+L*f,l[1]=w*m+V*f,l[2]=S*m+G*f,l[3]=I*m+Z*f,l[4]=L*m-x*f,l[5]=V*m-w*f,l[6]=G*m-S*f,l[7]=Z*m-I*f,l},c.sameOrigin=ot,c.scale=function(l,i,u){var f=u[0],m=u[1],x=u[2];return l[0]=i[0]*f,l[1]=i[1]*f,l[2]=i[2]*f,l[3]=i[3]*f,l[4]=i[4]*m,l[5]=i[5]*m,l[6]=i[6]*m,l[7]=i[7]*m,l[8]=i[8]*x,l[9]=i[9]*x,l[10]=i[10]*x,l[11]=i[11]*x,l[12]=i[12],l[13]=i[13],l[14]=i[14],l[15]=i[15],l},c.setRTLTextPlugin=function(l,i,u=!1){if(Ni===Cu||Ni===fp||Ni===pp)throw new Error("setRTLTextPlugin cannot be called multiple times.");js=Ee.resolveURL(l),Ni=Cu,mp=i,gp(),u||Iy()},c.sphericalToCartesian=function([l,i,u]){return i+=90,i*=Math.PI/180,u*=Math.PI/180,{x:l*Math.cos(i)*Math.sin(u),y:l*Math.sin(i)*Math.sin(u),z:l*Math.cos(u)}},c.toEvaluationFeature=Gs,c.transformMat4=Ny,c.translate=function(l,i,u){var f,m,x,w,S,I,L,V,G,Z,Q,ee,ae=u[0],de=u[1],fe=u[2];return i===l?(l[12]=i[0]*ae+i[4]*de+i[8]*fe+i[12],l[13]=i[1]*ae+i[5]*de+i[9]*fe+i[13],l[14]=i[2]*ae+i[6]*de+i[10]*fe+i[14],l[15]=i[3]*ae+i[7]*de+i[11]*fe+i[15]):(m=i[1],x=i[2],w=i[3],S=i[4],I=i[5],L=i[6],V=i[7],G=i[8],Z=i[9],Q=i[10],ee=i[11],l[0]=f=i[0],l[1]=m,l[2]=x,l[3]=w,l[4]=S,l[5]=I,l[6]=L,l[7]=V,l[8]=G,l[9]=Z,l[10]=Q,l[11]=ee,l[12]=f*ae+S*de+G*fe+i[12],l[13]=m*ae+I*de+Z*fe+i[13],l[14]=x*ae+L*de+Q*fe+i[14],l[15]=w*ae+V*de+ee*fe+i[15]),l},c.triggerPluginCompletionEvent=Py,c.unicodeBlockLookup=vt,c.uniqueId=function(){return q++},c.v8Spec=Re,c.validateCustomStyleLayer=function(l){const i=[],u=l.id;return u===void 0&&i.push({message:`layers.${u}: missing required property "id"`}),l.render===void 0&&i.push({message:`layers.${u}: missing required method "render"`}),l.renderingMode&&l.renderingMode!=="2d"&&l.renderingMode!=="3d"&&i.push({message:`layers.${u}: property "renderingMode" must be either "2d" or "3d"`}),i},c.validateLight=Su,c.validateStyle=wu,c.vectorTile=oc,c.warnOnce=Pe,c.wrap=O}),a(["./shared"],function(c){class y{constructor(H){this.keyCache={},H&&this.replace(H)}replace(H){this._layerConfigs={},this._layers={},this.update(H,[])}update(H,K){for(const ue of H){this._layerConfigs[ue.id]=ue;const pe=this._layers[ue.id]=c.createStyleLayer(ue);pe._featureFilter=c.createFilter(pe.filter),this.keyCache[ue.id]&&delete this.keyCache[ue.id]}for(const ue of K)delete this.keyCache[ue],delete this._layerConfigs[ue],delete this._layers[ue];this.familiesBySource={};const re=c.groupByLayout(Object.values(this._layerConfigs),this.keyCache);for(const ue of re){const pe=ue.map(Ge=>this._layers[Ge.id]),we=pe[0];if(we.visibility==="none")continue;const ve=we.source||"";let me=this.familiesBySource[ve];me||(me=this.familiesBySource[ve]={});const Te=we.sourceLayer||"_geojsonTileLayer";let We=me[Te];We||(We=me[Te]=[]),We.push(pe)}}}class _{constructor(H){const K={},re=[];for(const ve in H){const me=H[ve],Te=K[ve]={};for(const We in me){const Ge=me[+We];if(!Ge||Ge.bitmap.width===0||Ge.bitmap.height===0)continue;const Xe={x:0,y:0,w:Ge.bitmap.width+2,h:Ge.bitmap.height+2};re.push(Xe),Te[We]={rect:Xe,metrics:Ge.metrics}}}const{w:ue,h:pe}=c.potpack(re),we=new c.AlphaImage({width:ue||1,height:pe||1});for(const ve in H){const me=H[ve];for(const Te in me){const We=me[+Te];if(!We||We.bitmap.width===0||We.bitmap.height===0)continue;const Ge=K[ve][Te].rect;c.AlphaImage.copy(We.bitmap,we,{x:0,y:0},{x:Ge.x+1,y:Ge.y+1},We.bitmap)}}this.image=we,this.positions=K}}c.register("GlyphAtlas",_);class C{constructor(H){this.tileID=new c.OverscaledTileID(H.tileID.overscaledZ,H.tileID.wrap,H.tileID.canonical.z,H.tileID.canonical.x,H.tileID.canonical.y),this.uid=H.uid,this.zoom=H.zoom,this.pixelRatio=H.pixelRatio,this.tileSize=H.tileSize,this.source=H.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=H.showCollisionBoxes,this.collectResourceTiming=!!H.collectResourceTiming,this.returnDependencies=!!H.returnDependencies,this.promoteId=H.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(H,K,re,ue,pe){this.status="parsing",this.data=H,this.collisionBoxArray=new c.CollisionBoxArray;const we=new c.DictionaryCoder(Object.keys(H.layers).sort()),ve=new c.FeatureIndex(this.tileID,this.promoteId);ve.bucketLayerIDs=[];const me={},Te={featureIndex:ve,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:re},We=K.familiesBySource[this.source];for(const ln in We){const vn=H.layers[ln];if(!vn)continue;vn.version===1&&c.warnOnce(`Vector tile source "${this.source}" layer "${ln}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const vi=we.encode(ln),lt=[];for(let Tn=0;Tn<vn.length;Tn++){const hi=vn.feature(Tn),Rr=ve.getId(hi,ln);lt.push({feature:hi,id:Rr,index:Tn,sourceLayerIndex:vi})}for(const Tn of We[ln]){const hi=Tn[0];hi.source!==this.source&&c.warnOnce(`layer.source = ${hi.source} does not equal this.source = ${this.source}`),hi.minzoom&&this.zoom<Math.floor(hi.minzoom)||hi.maxzoom&&this.zoom>=hi.maxzoom||hi.visibility!=="none"&&(k(Tn,this.zoom,re),(me[hi.id]=hi.createBucket({index:ve.bucketLayerIDs.length,layers:Tn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:vi,sourceID:this.source})).populate(lt,Te,this.tileID.canonical),ve.bucketLayerIDs.push(Tn.map(Rr=>Rr.id)))}}let Ge,Xe,Lt,Xt;const Et=c.mapObject(Te.glyphDependencies,ln=>Object.keys(ln).map(Number));this.inFlightDependencies.forEach(ln=>ln==null?void 0:ln.cancel()),this.inFlightDependencies=[];const $t=++this.dependencySentinel;Object.keys(Et).length?this.inFlightDependencies.push(ue.send("getGlyphs",{uid:this.uid,stacks:Et,source:this.source,tileID:this.tileID,type:"glyphs"},(ln,vn)=>{$t===this.dependencySentinel&&(Ge||(Ge=ln,Xe=vn,Rn.call(this)))})):Xe={};const Kt=Object.keys(Te.iconDependencies);Kt.length?this.inFlightDependencies.push(ue.send("getImages",{icons:Kt,source:this.source,tileID:this.tileID,type:"icons"},(ln,vn)=>{$t===this.dependencySentinel&&(Ge||(Ge=ln,Lt=vn,Rn.call(this)))})):Lt={};const yn=Object.keys(Te.patternDependencies);function Rn(){if(Ge)return pe(Ge);if(Xe&&Lt&&Xt){const ln=new _(Xe),vn=new c.ImageAtlas(Lt,Xt);for(const vi in me){const lt=me[vi];lt instanceof c.SymbolBucket?(k(lt.layers,this.zoom,re),c.performSymbolLayout({bucket:lt,glyphMap:Xe,glyphPositions:ln.positions,imageMap:Lt,imagePositions:vn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):lt.hasPattern&&(lt instanceof c.LineBucket||lt instanceof c.FillBucket||lt instanceof c.FillExtrusionBucket)&&(k(lt.layers,this.zoom,re),lt.addFeatures(Te,this.tileID.canonical,vn.patternPositions))}this.status="done",pe(null,{buckets:Object.values(me).filter(vi=>!vi.isEmpty()),featureIndex:ve,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:ln.image,imageAtlas:vn,glyphMap:this.returnDependencies?Xe:null,iconMap:this.returnDependencies?Lt:null,glyphPositions:this.returnDependencies?ln.positions:null})}}yn.length?this.inFlightDependencies.push(ue.send("getImages",{icons:yn,source:this.source,tileID:this.tileID,type:"patterns"},(ln,vn)=>{$t===this.dependencySentinel&&(Ge||(Ge=ln,Xt=vn,Rn.call(this)))})):Xt={},Rn.call(this)}}function k(le,H,K){const re=new c.EvaluationParameters(H);for(const ue of le)ue.recalculate(re,K)}function P(le,H){const K=c.getArrayBuffer(le.request,(re,ue,pe,we)=>{re?H(re):ue&&H(null,{vectorTile:new c.vectorTile.VectorTile(new c.Protobuf(ue)),rawData:ue,cacheControl:pe,expires:we})});return()=>{K.cancel(),H()}}class D{constructor(H,K,re,ue){this.actor=H,this.layerIndex=K,this.availableImages=re,this.loadVectorData=ue||P,this.fetching={},this.loading={},this.loaded={}}loadTile(H,K){const re=H.uid;this.loading||(this.loading={});const ue=!!(H&&H.request&&H.request.collectResourceTiming)&&new c.RequestPerformance(H.request),pe=this.loading[re]=new C(H);pe.abort=this.loadVectorData(H,(we,ve)=>{if(delete this.loading[re],we||!ve)return pe.status="done",this.loaded[re]=pe,K(we);const me=ve.rawData,Te={};ve.expires&&(Te.expires=ve.expires),ve.cacheControl&&(Te.cacheControl=ve.cacheControl);const We={};if(ue){const Ge=ue.finish();Ge&&(We.resourceTiming=JSON.parse(JSON.stringify(Ge)))}pe.vectorTile=ve.vectorTile,pe.parse(ve.vectorTile,this.layerIndex,this.availableImages,this.actor,(Ge,Xe)=>{if(delete this.fetching[re],Ge||!Xe)return K(Ge);K(null,c.extend({rawTileData:me.slice(0)},Xe,Te,We))}),this.loaded=this.loaded||{},this.loaded[re]=pe,this.fetching[re]={rawTileData:me,cacheControl:Te,resourceTiming:We}})}reloadTile(H,K){const re=this.loaded,ue=H.uid;if(re&&re[ue]){const pe=re[ue];pe.showCollisionBoxes=H.showCollisionBoxes,pe.status==="parsing"?pe.parse(pe.vectorTile,this.layerIndex,this.availableImages,this.actor,(we,ve)=>{if(we||!ve)return K(we,ve);let me;if(this.fetching[ue]){const{rawTileData:Te,cacheControl:We,resourceTiming:Ge}=this.fetching[ue];delete this.fetching[ue],me=c.extend({rawTileData:Te.slice(0)},ve,We,Ge)}else me=ve;K(null,me)}):pe.status==="done"&&(pe.vectorTile?pe.parse(pe.vectorTile,this.layerIndex,this.availableImages,this.actor,K):K())}}abortTile(H,K){const re=this.loading,ue=H.uid;re&&re[ue]&&re[ue].abort&&(re[ue].abort(),delete re[ue]),K()}removeTile(H,K){const re=this.loaded,ue=H.uid;re&&re[ue]&&delete re[ue],K()}}class N{constructor(){this.loaded={}}loadTile(H,K){const{uid:re,encoding:ue,rawImageData:pe}=H,we=c.isImageBitmap(pe)?this.getImageData(pe):pe,ve=new c.DEMData(re,we,ue);this.loaded=this.loaded||{},this.loaded[re]=ve,K(null,ve)}getImageData(H){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(H.width,H.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=H.width,this.offscreenCanvas.height=H.height,this.offscreenCanvasContext.drawImage(H,0,0,H.width,H.height);const K=this.offscreenCanvasContext.getImageData(-1,-1,H.width+2,H.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new c.RGBAImage({width:K.width,height:K.height},K.data)}removeTile(H){const K=this.loaded,re=H.uid;K&&K[re]&&delete K[re]}}function M(le,H){if(le.length!==0){$(le[0],H);for(var K=1;K<le.length;K++)$(le[K],!H)}}function $(le,H){for(var K=0,re=0,ue=0,pe=le.length,we=pe-1;ue<pe;we=ue++){var ve=(le[ue][0]-le[we][0])*(le[we][1]+le[ue][1]),me=K+ve;re+=Math.abs(K)>=Math.abs(ve)?K-me+ve:ve-me+K,K=me}K+re>=0!=!!H&&le.reverse()}var A=c.getDefaultExportFromCjs(function le(H,K){var re,ue=H&&H.type;if(ue==="FeatureCollection")for(re=0;re<H.features.length;re++)le(H.features[re],K);else if(ue==="GeometryCollection")for(re=0;re<H.geometries.length;re++)le(H.geometries[re],K);else if(ue==="Feature")le(H.geometry,K);else if(ue==="Polygon")M(H.coordinates,K);else if(ue==="MultiPolygon")for(re=0;re<H.coordinates.length;re++)M(H.coordinates[re],K);return H});const O=c.vectorTile.VectorTileFeature.prototype.toGeoJSON;var z={exports:{}},q=c.pointGeometry,Y=c.vectorTile.VectorTileFeature,J=te;function te(le,H){this.options=H||{},this.features=le,this.length=le.length}function ge(le,H){this.id=typeof le.id=="number"?le.id:void 0,this.type=le.type,this.rawGeometry=le.type===1?[le.geometry]:le.geometry,this.properties=le.tags,this.extent=H||4096}te.prototype.feature=function(le){return new ge(this.features[le],this.options.extent)},ge.prototype.loadGeometry=function(){var le=this.rawGeometry;this.geometry=[];for(var H=0;H<le.length;H++){for(var K=le[H],re=[],ue=0;ue<K.length;ue++)re.push(new q(K[ue][0],K[ue][1]));this.geometry.push(re)}return this.geometry},ge.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var le=this.geometry,H=1/0,K=-1/0,re=1/0,ue=-1/0,pe=0;pe<le.length;pe++)for(var we=le[pe],ve=0;ve<we.length;ve++){var me=we[ve];H=Math.min(H,me.x),K=Math.max(K,me.x),re=Math.min(re,me.y),ue=Math.max(ue,me.y)}return[H,re,K,ue]},ge.prototype.toGeoJSON=Y.prototype.toGeoJSON;var Pe=c.pbf,ye=J;function Ne(le){var H=new Pe;return function(K,re){for(var ue in K.layers)re.writeMessage(3,Ve,K.layers[ue])}(le,H),H.finish()}function Ve(le,H){var K;H.writeVarintField(15,le.version||1),H.writeStringField(1,le.name||""),H.writeVarintField(5,le.extent||4096);var re={keys:[],values:[],keycache:{},valuecache:{}};for(K=0;K<le.length;K++)re.feature=le.feature(K),H.writeMessage(2,et,re);var ue=re.keys;for(K=0;K<ue.length;K++)H.writeStringField(3,ue[K]);var pe=re.values;for(K=0;K<pe.length;K++)H.writeMessage(4,Oe,pe[K])}function et(le,H){var K=le.feature;K.id!==void 0&&H.writeVarintField(1,K.id),H.writeMessage(2,Ze,le),H.writeVarintField(3,K.type),H.writeMessage(4,Me,K)}function Ze(le,H){var K=le.feature,re=le.keys,ue=le.values,pe=le.keycache,we=le.valuecache;for(var ve in K.properties){var me=K.properties[ve],Te=pe[ve];if(me!==null){Te===void 0&&(re.push(ve),pe[ve]=Te=re.length-1),H.writeVarint(Te);var We=typeof me;We!=="string"&&We!=="boolean"&&We!=="number"&&(me=JSON.stringify(me));var Ge=We+":"+me,Xe=we[Ge];Xe===void 0&&(ue.push(me),we[Ge]=Xe=ue.length-1),H.writeVarint(Xe)}}}function Ke(le,H){return(H<<3)+(7&le)}function ke(le){return le<<1^le>>31}function Me(le,H){for(var K=le.loadGeometry(),re=le.type,ue=0,pe=0,we=K.length,ve=0;ve<we;ve++){var me=K[ve],Te=1;re===1&&(Te=me.length),H.writeVarint(Ke(1,Te));for(var We=re===3?me.length-1:me.length,Ge=0;Ge<We;Ge++){Ge===1&&re!==1&&H.writeVarint(Ke(2,We-1));var Xe=me[Ge].x-ue,Lt=me[Ge].y-pe;H.writeVarint(ke(Xe)),H.writeVarint(ke(Lt)),ue+=Xe,pe+=Lt}re===3&&H.writeVarint(Ke(7,1))}}function Oe(le,H){var K=typeof le;K==="string"?H.writeStringField(1,le):K==="boolean"?H.writeBooleanField(7,le):K==="number"&&(le%1!=0?H.writeDoubleField(3,le):le<0?H.writeSVarintField(6,le):H.writeVarintField(5,le))}z.exports=Ne,z.exports.fromVectorTileJs=Ne,z.exports.fromGeojsonVt=function(le,H){H=H||{};var K={};for(var re in le)K[re]=new ye(le[re].features,H),K[re].name=re,K[re].version=H.version,K[re].extent=H.extent;return Ne({layers:K})},z.exports.GeoJSONWrapper=ye;var Ee=c.getDefaultExportFromCjs(z.exports);const ze={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:le=>le},st=Math.fround||(be=new Float32Array(1),le=>(be[0]=+le,be[0]));var be;const Fe=3,Ae=5,qe=6;class Le{constructor(H){this.options=Object.assign(Object.create(ze),H),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(H){const{log:K,minZoom:re,maxZoom:ue}=this.options;K&&console.time("total time");const pe=`prepare ${H.length} points`;K&&console.time(pe),this.points=H;const we=[];for(let me=0;me<H.length;me++){const Te=H[me];if(!Te.geometry)continue;const[We,Ge]=Te.geometry.coordinates,Xe=st(St(We)),Lt=st(It(Ge));we.push(Xe,Lt,1/0,me,-1,1),this.options.reduce&&we.push(0)}let ve=this.trees[ue+1]=this._createTree(we);K&&console.timeEnd(pe);for(let me=ue;me>=re;me--){const Te=+Date.now();ve=this.trees[me]=this._createTree(this._cluster(ve,me)),K&&console.log("z%d: %d clusters in %dms",me,ve.numItems,+Date.now()-Te)}return K&&console.timeEnd("total time"),this}getClusters(H,K){let re=((H[0]+180)%360+360)%360-180;const ue=Math.max(-90,Math.min(90,H[1]));let pe=H[2]===180?180:((H[2]+180)%360+360)%360-180;const we=Math.max(-90,Math.min(90,H[3]));if(H[2]-H[0]>=360)re=-180,pe=180;else if(re>pe){const Ge=this.getClusters([re,ue,180,we],K),Xe=this.getClusters([-180,ue,pe,we],K);return Ge.concat(Xe)}const ve=this.trees[this._limitZoom(K)],me=ve.range(St(re),It(we),St(pe),It(ue)),Te=ve.data,We=[];for(const Ge of me){const Xe=this.stride*Ge;We.push(Te[Xe+Ae]>1?ot(Te,Xe,this.clusterProps):this.points[Te[Xe+Fe]])}return We}getChildren(H){const K=this._getOriginId(H),re=this._getOriginZoom(H),ue="No cluster with the specified id.",pe=this.trees[re];if(!pe)throw new Error(ue);const we=pe.data;if(K*this.stride>=we.length)throw new Error(ue);const ve=this.options.radius/(this.options.extent*Math.pow(2,re-1)),me=pe.within(we[K*this.stride],we[K*this.stride+1],ve),Te=[];for(const We of me){const Ge=We*this.stride;we[Ge+4]===H&&Te.push(we[Ge+Ae]>1?ot(we,Ge,this.clusterProps):this.points[we[Ge+Fe]])}if(Te.length===0)throw new Error(ue);return Te}getLeaves(H,K,re){const ue=[];return this._appendLeaves(ue,H,K=K||10,re=re||0,0),ue}getTile(H,K,re){const ue=this.trees[this._limitZoom(H)],pe=Math.pow(2,H),{extent:we,radius:ve}=this.options,me=ve/we,Te=(re-me)/pe,We=(re+1+me)/pe,Ge={features:[]};return this._addTileFeatures(ue.range((K-me)/pe,Te,(K+1+me)/pe,We),ue.data,K,re,pe,Ge),K===0&&this._addTileFeatures(ue.range(1-me/pe,Te,1,We),ue.data,pe,re,pe,Ge),K===pe-1&&this._addTileFeatures(ue.range(0,Te,me/pe,We),ue.data,-1,re,pe,Ge),Ge.features.length?Ge:null}getClusterExpansionZoom(H){let K=this._getOriginZoom(H)-1;for(;K<=this.options.maxZoom;){const re=this.getChildren(H);if(K++,re.length!==1)break;H=re[0].properties.cluster_id}return K}_appendLeaves(H,K,re,ue,pe){const we=this.getChildren(K);for(const ve of we){const me=ve.properties;if(me&&me.cluster?pe+me.point_count<=ue?pe+=me.point_count:pe=this._appendLeaves(H,me.cluster_id,re,ue,pe):pe<ue?pe++:H.push(ve),H.length===re)break}return pe}_createTree(H){const K=new c.KDBush(H.length/this.stride|0,this.options.nodeSize,Float32Array);for(let re=0;re<H.length;re+=this.stride)K.add(H[re],H[re+1]);return K.finish(),K.data=H,K}_addTileFeatures(H,K,re,ue,pe,we){for(const ve of H){const me=ve*this.stride,Te=K[me+Ae]>1;let We,Ge,Xe;if(Te)We=xt(K,me,this.clusterProps),Ge=K[me],Xe=K[me+1];else{const Et=this.points[K[me+Fe]];We=Et.properties;const[$t,Kt]=Et.geometry.coordinates;Ge=St($t),Xe=It(Kt)}const Lt={type:1,geometry:[[Math.round(this.options.extent*(Ge*pe-re)),Math.round(this.options.extent*(Xe*pe-ue))]],tags:We};let Xt;Xt=Te||this.options.generateId?K[me+Fe]:this.points[K[me+Fe]].id,Xt!==void 0&&(Lt.id=Xt),we.features.push(Lt)}}_limitZoom(H){return Math.max(this.options.minZoom,Math.min(Math.floor(+H),this.options.maxZoom+1))}_cluster(H,K){const{radius:re,extent:ue,reduce:pe,minPoints:we}=this.options,ve=re/(ue*Math.pow(2,K)),me=H.data,Te=[],We=this.stride;for(let Ge=0;Ge<me.length;Ge+=We){if(me[Ge+2]<=K)continue;me[Ge+2]=K;const Xe=me[Ge],Lt=me[Ge+1],Xt=H.within(me[Ge],me[Ge+1],ve),Et=me[Ge+Ae];let $t=Et;for(const Kt of Xt){const yn=Kt*We;me[yn+2]>K&&($t+=me[yn+Ae])}if($t>Et&&$t>=we){let Kt,yn=Xe*Et,Rn=Lt*Et,ln=-1;const vn=((Ge/We|0)<<5)+(K+1)+this.points.length;for(const vi of Xt){const lt=vi*We;if(me[lt+2]<=K)continue;me[lt+2]=K;const Tn=me[lt+Ae];yn+=me[lt]*Tn,Rn+=me[lt+1]*Tn,me[lt+4]=vn,pe&&(Kt||(Kt=this._map(me,Ge,!0),ln=this.clusterProps.length,this.clusterProps.push(Kt)),pe(Kt,this._map(me,lt)))}me[Ge+4]=vn,Te.push(yn/$t,Rn/$t,1/0,vn,-1,$t),pe&&Te.push(ln)}else{for(let Kt=0;Kt<We;Kt++)Te.push(me[Ge+Kt]);if($t>1)for(const Kt of Xt){const yn=Kt*We;if(!(me[yn+2]<=K)){me[yn+2]=K;for(let Rn=0;Rn<We;Rn++)Te.push(me[yn+Rn])}}}}return Te}_getOriginId(H){return H-this.points.length>>5}_getOriginZoom(H){return(H-this.points.length)%32}_map(H,K,re){if(H[K+Ae]>1){const we=this.clusterProps[H[K+qe]];return re?Object.assign({},we):we}const ue=this.points[H[K+Fe]].properties,pe=this.options.map(ue);return re&&pe===ue?Object.assign({},pe):pe}}function ot(le,H,K){return{type:"Feature",id:le[H+Fe],properties:xt(le,H,K),geometry:{type:"Point",coordinates:[(re=le[H],360*(re-.5)),jt(le[H+1])]}};var re}function xt(le,H,K){const re=le[H+Ae],ue=re>=1e4?`${Math.round(re/1e3)}k`:re>=1e3?Math.round(re/100)/10+"k":re,pe=le[H+qe],we=pe===-1?{}:Object.assign({},K[pe]);return Object.assign(we,{cluster:!0,cluster_id:le[H+Fe],point_count:re,point_count_abbreviated:ue})}function St(le){return le/360+.5}function It(le){const H=Math.sin(le*Math.PI/180),K=.5-.25*Math.log((1+H)/(1-H))/Math.PI;return K<0?0:K>1?1:K}function jt(le){const H=(180-360*le)*Math.PI/180;return 360*Math.atan(Math.exp(H))/Math.PI-90}function Mt(le,H,K,re){for(var ue,pe=re,we=K-H>>1,ve=K-H,me=le[H],Te=le[H+1],We=le[K],Ge=le[K+1],Xe=H+3;Xe<K;Xe+=3){var Lt=Re(le[Xe],le[Xe+1],me,Te,We,Ge);if(Lt>pe)ue=Xe,pe=Lt;else if(Lt===pe){var Xt=Math.abs(Xe-we);Xt<ve&&(ue=Xe,ve=Xt)}}pe>re&&(ue-H>3&&Mt(le,H,ue,re),le[ue+2]=pe,K-ue>3&&Mt(le,ue,K,re))}function Re(le,H,K,re,ue,pe){var we=ue-K,ve=pe-re;if(we!==0||ve!==0){var me=((le-K)*we+(H-re)*ve)/(we*we+ve*ve);me>1?(K=ue,re=pe):me>0&&(K+=we*me,re+=ve*me)}return(we=le-K)*we+(ve=H-re)*ve}function rn(le,H,K,re){var ue={id:le===void 0?null:le,type:H,geometry:K,tags:re,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(pe){var we=pe.geometry,ve=pe.type;if(ve==="Point"||ve==="MultiPoint"||ve==="LineString")Sn(pe,we);else if(ve==="Polygon"||ve==="MultiLineString")for(var me=0;me<we.length;me++)Sn(pe,we[me]);else if(ve==="MultiPolygon")for(me=0;me<we.length;me++)for(var Te=0;Te<we[me].length;Te++)Sn(pe,we[me][Te])}(ue),ue}function Sn(le,H){for(var K=0;K<H.length;K+=3)le.minX=Math.min(le.minX,H[K]),le.minY=Math.min(le.minY,H[K+1]),le.maxX=Math.max(le.maxX,H[K]),le.maxY=Math.max(le.maxY,H[K+1])}function Zt(le,H,K,re){if(H.geometry){var ue=H.geometry.coordinates,pe=H.geometry.type,we=Math.pow(K.tolerance/((1<<K.maxZoom)*K.extent),2),ve=[],me=H.id;if(K.promoteId?me=H.properties[K.promoteId]:K.generateId&&(me=re||0),pe==="Point")Yt(ue,ve);else if(pe==="MultiPoint")for(var Te=0;Te<ue.length;Te++)Yt(ue[Te],ve);else if(pe==="LineString")Nn(ue,ve,we,!1);else if(pe==="MultiLineString"){if(K.lineMetrics){for(Te=0;Te<ue.length;Te++)Nn(ue[Te],ve=[],we,!1),le.push(rn(me,"LineString",ve,H.properties));return}cr(ue,ve,we,!1)}else if(pe==="Polygon")cr(ue,ve,we,!0);else{if(pe!=="MultiPolygon"){if(pe==="GeometryCollection"){for(Te=0;Te<H.geometry.geometries.length;Te++)Zt(le,{id:me,geometry:H.geometry.geometries[Te],properties:H.properties},K,re);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Te=0;Te<ue.length;Te++){var We=[];cr(ue[Te],We,we,!0),ve.push(We)}}le.push(rn(me,pe,ve,H.properties))}}function Yt(le,H){H.push(_n(le[0])),H.push(Cn(le[1])),H.push(0)}function Nn(le,H,K,re){for(var ue,pe,we=0,ve=0;ve<le.length;ve++){var me=_n(le[ve][0]),Te=Cn(le[ve][1]);H.push(me),H.push(Te),H.push(0),ve>0&&(we+=re?(ue*Te-me*pe)/2:Math.sqrt(Math.pow(me-ue,2)+Math.pow(Te-pe,2))),ue=me,pe=Te}var We=H.length-3;H[2]=1,Mt(H,0,We,K),H[We+2]=1,H.size=Math.abs(we),H.start=0,H.end=H.size}function cr(le,H,K,re){for(var ue=0;ue<le.length;ue++){var pe=[];Nn(le[ue],pe,K,re),H.push(pe)}}function _n(le){return le/360+.5}function Cn(le){var H=Math.sin(le*Math.PI/180),K=.5-.25*Math.log((1+H)/(1-H))/Math.PI;return K<0?0:K>1?1:K}function on(le,H,K,re,ue,pe,we,ve){if(re/=H,pe>=(K/=H)&&we<re)return le;if(we<K||pe>=re)return null;for(var me=[],Te=0;Te<le.length;Te++){var We=le[Te],Ge=We.geometry,Xe=We.type,Lt=ue===0?We.minX:We.minY,Xt=ue===0?We.maxX:We.maxY;if(Lt>=K&&Xt<re)me.push(We);else if(!(Xt<K||Lt>=re)){var Et=[];if(Xe==="Point"||Xe==="MultiPoint")xn(Ge,Et,K,re,ue);else if(Xe==="LineString")sr(Ge,Et,K,re,ue,!1,ve.lineMetrics);else if(Xe==="MultiLineString")bn(Ge,Et,K,re,ue,!1);else if(Xe==="Polygon")bn(Ge,Et,K,re,ue,!0);else if(Xe==="MultiPolygon")for(var $t=0;$t<Ge.length;$t++){var Kt=[];bn(Ge[$t],Kt,K,re,ue,!0),Kt.length&&Et.push(Kt)}if(Et.length){if(ve.lineMetrics&&Xe==="LineString"){for($t=0;$t<Et.length;$t++)me.push(rn(We.id,Xe,Et[$t],We.tags));continue}Xe!=="LineString"&&Xe!=="MultiLineString"||(Et.length===1?(Xe="LineString",Et=Et[0]):Xe="MultiLineString"),Xe!=="Point"&&Xe!=="MultiPoint"||(Xe=Et.length===3?"Point":"MultiPoint"),me.push(rn(We.id,Xe,Et,We.tags))}}}return me.length?me:null}function xn(le,H,K,re,ue){for(var pe=0;pe<le.length;pe+=3){var we=le[pe+ue];we>=K&&we<=re&&(H.push(le[pe]),H.push(le[pe+1]),H.push(le[pe+2]))}}function sr(le,H,K,re,ue,pe,we){for(var ve,me,Te=nt(le),We=ue===0?an:Wt,Ge=le.start,Xe=0;Xe<le.length-3;Xe+=3){var Lt=le[Xe],Xt=le[Xe+1],Et=le[Xe+2],$t=le[Xe+3],Kt=le[Xe+4],yn=ue===0?Lt:Xt,Rn=ue===0?$t:Kt,ln=!1;we&&(ve=Math.sqrt(Math.pow(Lt-$t,2)+Math.pow(Xt-Kt,2))),yn<K?Rn>K&&(me=We(Te,Lt,Xt,$t,Kt,K),we&&(Te.start=Ge+ve*me)):yn>re?Rn<re&&(me=We(Te,Lt,Xt,$t,Kt,re),we&&(Te.start=Ge+ve*me)):Fn(Te,Lt,Xt,Et),Rn<K&&yn>=K&&(me=We(Te,Lt,Xt,$t,Kt,K),ln=!0),Rn>re&&yn<=re&&(me=We(Te,Lt,Xt,$t,Kt,re),ln=!0),!pe&&ln&&(we&&(Te.end=Ge+ve*me),H.push(Te),Te=nt(le)),we&&(Ge+=ve)}var vn=le.length-3;Lt=le[vn],Xt=le[vn+1],Et=le[vn+2],(yn=ue===0?Lt:Xt)>=K&&yn<=re&&Fn(Te,Lt,Xt,Et),vn=Te.length-3,pe&&vn>=3&&(Te[vn]!==Te[0]||Te[vn+1]!==Te[1])&&Fn(Te,Te[0],Te[1],Te[2]),Te.length&&H.push(Te)}function nt(le){var H=[];return H.size=le.size,H.start=le.start,H.end=le.end,H}function bn(le,H,K,re,ue,pe){for(var we=0;we<le.length;we++)sr(le[we],H,K,re,ue,pe,!1)}function Fn(le,H,K,re){le.push(H),le.push(K),le.push(re)}function an(le,H,K,re,ue,pe){var we=(pe-H)/(re-H);return le.push(pe),le.push(K+(ue-K)*we),le.push(1),we}function Wt(le,H,K,re,ue,pe){var we=(pe-K)/(ue-K);return le.push(H+(re-H)*we),le.push(pe),le.push(1),we}function je(le,H){for(var K=[],re=0;re<le.length;re++){var ue,pe=le[re],we=pe.type;if(we==="Point"||we==="MultiPoint"||we==="LineString")ue=wt(pe.geometry,H);else if(we==="MultiLineString"||we==="Polygon"){ue=[];for(var ve=0;ve<pe.geometry.length;ve++)ue.push(wt(pe.geometry[ve],H))}else if(we==="MultiPolygon")for(ue=[],ve=0;ve<pe.geometry.length;ve++){for(var me=[],Te=0;Te<pe.geometry[ve].length;Te++)me.push(wt(pe.geometry[ve][Te],H));ue.push(me)}K.push(rn(pe.id,we,ue,pe.tags))}return K}function wt(le,H){var K=[];K.size=le.size,le.start!==void 0&&(K.start=le.start,K.end=le.end);for(var re=0;re<le.length;re+=3)K.push(le[re]+H,le[re+1],le[re+2]);return K}function Tt(le,H){if(le.transformed)return le;var K,re,ue,pe=1<<le.z,we=le.x,ve=le.y;for(K=0;K<le.features.length;K++){var me=le.features[K],Te=me.geometry,We=me.type;if(me.geometry=[],We===1)for(re=0;re<Te.length;re+=2)me.geometry.push(Bn(Te[re],Te[re+1],H,pe,we,ve));else for(re=0;re<Te.length;re++){var Ge=[];for(ue=0;ue<Te[re].length;ue+=2)Ge.push(Bn(Te[re][ue],Te[re][ue+1],H,pe,we,ve));me.geometry.push(Ge)}}return le.transformed=!0,le}function Bn(le,H,K,re,ue,pe){return[Math.round(K*(le*re-ue)),Math.round(K*(H*re-pe))]}function Pi(le,H,K,re,ue){for(var pe=H===ue.maxZoom?0:ue.tolerance/((1<<H)*ue.extent),we={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:K,y:re,z:H,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ve=0;ve<le.length;ve++){we.numFeatures++,Vt(we,le[ve],pe,ue);var me=le[ve].minX,Te=le[ve].minY,We=le[ve].maxX,Ge=le[ve].maxY;me<we.minX&&(we.minX=me),Te<we.minY&&(we.minY=Te),We>we.maxX&&(we.maxX=We),Ge>we.maxY&&(we.maxY=Ge)}return we}function Vt(le,H,K,re){var ue=H.geometry,pe=H.type,we=[];if(pe==="Point"||pe==="MultiPoint")for(var ve=0;ve<ue.length;ve+=3)we.push(ue[ve]),we.push(ue[ve+1]),le.numPoints++,le.numSimplified++;else if(pe==="LineString")Li(we,ue,le,K,!1,!1);else if(pe==="MultiLineString"||pe==="Polygon")for(ve=0;ve<ue.length;ve++)Li(we,ue[ve],le,K,pe==="Polygon",ve===0);else if(pe==="MultiPolygon")for(var me=0;me<ue.length;me++){var Te=ue[me];for(ve=0;ve<Te.length;ve++)Li(we,Te[ve],le,K,!0,ve===0)}if(we.length){var We=H.tags||null;if(pe==="LineString"&&re.lineMetrics){for(var Ge in We={},H.tags)We[Ge]=H.tags[Ge];We.mapbox_clip_start=ue.start/ue.size,We.mapbox_clip_end=ue.end/ue.size}var Xe={geometry:we,type:pe==="Polygon"||pe==="MultiPolygon"?3:pe==="LineString"||pe==="MultiLineString"?2:1,tags:We};H.id!==null&&(Xe.id=H.id),le.features.push(Xe)}}function Li(le,H,K,re,ue,pe){var we=re*re;if(re>0&&H.size<(ue?we:re))K.numPoints+=H.length/3;else{for(var ve=[],me=0;me<H.length;me+=3)(re===0||H[me+2]>we)&&(K.numSimplified++,ve.push(H[me]),ve.push(H[me+1])),K.numPoints++;ue&&function(Te,We){for(var Ge=0,Xe=0,Lt=Te.length,Xt=Lt-2;Xe<Lt;Xt=Xe,Xe+=2)Ge+=(Te[Xe]-Te[Xt])*(Te[Xe+1]+Te[Xt+1]);if(Ge>0===We)for(Xe=0,Lt=Te.length;Xe<Lt/2;Xe+=2){var Et=Te[Xe],$t=Te[Xe+1];Te[Xe]=Te[Lt-2-Xe],Te[Xe+1]=Te[Lt-1-Xe],Te[Lt-2-Xe]=Et,Te[Lt-1-Xe]=$t}}(ve,pe),le.push(ve)}}function io(le,H){var K=(H=this.options=function(ue,pe){for(var we in pe)ue[we]=pe[we];return ue}(Object.create(this.options),H)).debug;if(K&&console.time("preprocess data"),H.maxZoom<0||H.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(H.promoteId&&H.generateId)throw new Error("promoteId and generateId cannot be used together.");var re=function(ue,pe){var we=[];if(ue.type==="FeatureCollection")for(var ve=0;ve<ue.features.length;ve++)Zt(we,ue.features[ve],pe,ve);else Zt(we,ue.type==="Feature"?ue:{geometry:ue},pe);return we}(le,H);this.tiles={},this.tileCoords=[],K&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",H.indexMaxZoom,H.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),re=function(ue,pe){var we=pe.buffer/pe.extent,ve=ue,me=on(ue,1,-1-we,we,0,-1,2,pe),Te=on(ue,1,1-we,2+we,0,-1,2,pe);return(me||Te)&&(ve=on(ue,1,-we,1+we,0,-1,2,pe)||[],me&&(ve=je(me,1).concat(ve)),Te&&(ve=ve.concat(je(Te,-1)))),ve}(re,H),re.length&&this.splitTile(re,0,0,0),K&&(re.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Uo(le,H,K){return 32*((1<<le)*K+H)+le}function $i(le,H){return H?le.properties[H]:le.id}function fs(le,H){if(le==null)return!0;if(le.type==="Feature")return $i(le,H)!=null;if(le.type==="FeatureCollection"){const K=new Set;for(const re of le.features){const ue=$i(re,H);if(ue==null||K.has(ue))return!1;K.add(ue)}return!0}return!1}function Xr(le,H){const K=new Map;if(le!=null)if(le.type==="Feature")K.set($i(le,H),le);else for(const re of le.features)K.set($i(re,H),re);return K}function On(le,H){const K=le.tileID.canonical;if(!this._geoJSONIndex)return H(null,null);const re=this._geoJSONIndex.getTile(K.z,K.x,K.y);if(!re)return H(null,null);const ue=new class{constructor(we){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=c.EXTENT,this.length=we.length,this._features=we}feature(we){return new class{constructor(ve){this._feature=ve,this.extent=c.EXTENT,this.type=ve.type,this.properties=ve.tags,"id"in ve&&!isNaN(ve.id)&&(this.id=parseInt(ve.id,10))}loadGeometry(){if(this._feature.type===1){const ve=[];for(const me of this._feature.geometry)ve.push([new c.Point(me[0],me[1])]);return ve}{const ve=[];for(const me of this._feature.geometry){const Te=[];for(const We of me)Te.push(new c.Point(We[0],We[1]));ve.push(Te)}return ve}}toGeoJSON(ve,me,Te){return O.call(this,ve,me,Te)}}(this._features[we])}}(re.features);let pe=Ee(ue);pe.byteOffset===0&&pe.byteLength===pe.buffer.byteLength||(pe=new Uint8Array(pe)),H(null,{vectorTile:ue,rawData:pe.buffer})}io.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},io.prototype.splitTile=function(le,H,K,re,ue,pe,we){for(var ve=[le,H,K,re],me=this.options,Te=me.debug;ve.length;){re=ve.pop(),K=ve.pop(),H=ve.pop(),le=ve.pop();var We=1<<H,Ge=Uo(H,K,re),Xe=this.tiles[Ge];if(!Xe&&(Te>1&&console.time("creation"),Xe=this.tiles[Ge]=Pi(le,H,K,re,me),this.tileCoords.push({z:H,x:K,y:re}),Te)){Te>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",H,K,re,Xe.numFeatures,Xe.numPoints,Xe.numSimplified),console.timeEnd("creation"));var Lt="z"+H;this.stats[Lt]=(this.stats[Lt]||0)+1,this.total++}if(Xe.source=le,ue){if(H===me.maxZoom||H===ue)continue;var Xt=1<<ue-H;if(K!==Math.floor(pe/Xt)||re!==Math.floor(we/Xt))continue}else if(H===me.indexMaxZoom||Xe.numPoints<=me.indexMaxPoints)continue;if(Xe.source=null,le.length!==0){Te>1&&console.time("clipping");var Et,$t,Kt,yn,Rn,ln,vn=.5*me.buffer/me.extent,vi=.5-vn,lt=.5+vn,Tn=1+vn;Et=$t=Kt=yn=null,Rn=on(le,We,K-vn,K+lt,0,Xe.minX,Xe.maxX,me),ln=on(le,We,K+vi,K+Tn,0,Xe.minX,Xe.maxX,me),le=null,Rn&&(Et=on(Rn,We,re-vn,re+lt,1,Xe.minY,Xe.maxY,me),$t=on(Rn,We,re+vi,re+Tn,1,Xe.minY,Xe.maxY,me),Rn=null),ln&&(Kt=on(ln,We,re-vn,re+lt,1,Xe.minY,Xe.maxY,me),yn=on(ln,We,re+vi,re+Tn,1,Xe.minY,Xe.maxY,me),ln=null),Te>1&&console.timeEnd("clipping"),ve.push(Et||[],H+1,2*K,2*re),ve.push($t||[],H+1,2*K,2*re+1),ve.push(Kt||[],H+1,2*K+1,2*re),ve.push(yn||[],H+1,2*K+1,2*re+1)}}},io.prototype.getTile=function(le,H,K){var re=this.options,ue=re.extent,pe=re.debug;if(le<0||le>24)return null;var we=1<<le,ve=Uo(le,H=(H%we+we)%we,K);if(this.tiles[ve])return Tt(this.tiles[ve],ue);pe>1&&console.log("drilling down to z%d-%d-%d",le,H,K);for(var me,Te=le,We=H,Ge=K;!me&&Te>0;)Te--,We=Math.floor(We/2),Ge=Math.floor(Ge/2),me=this.tiles[Uo(Te,We,Ge)];return me&&me.source?(pe>1&&console.log("found parent tile z%d-%d-%d",Te,We,Ge),pe>1&&console.time("drilling down"),this.splitTile(me.source,Te,We,Ge,le,H,K),pe>1&&console.timeEnd("drilling down"),this.tiles[ve]?Tt(this.tiles[ve],ue):null):null};class ya extends D{constructor(H,K,re,ue){super(H,K,re,On),this._dataUpdateable=new Map,this.loadGeoJSON=(pe,we)=>{const{promoteId:ve}=pe;if(pe.request)return c.getJSON(pe.request,(me,Te,We,Ge)=>{this._dataUpdateable=fs(Te,ve)?Xr(Te,ve):void 0,we(me,Te,We,Ge)});if(typeof pe.data=="string")try{const me=JSON.parse(pe.data);this._dataUpdateable=fs(me,ve)?Xr(me,ve):void 0,we(null,me)}catch{we(new Error(`Input data given to '${pe.source}' is not a valid GeoJSON object.`))}else pe.dataDiff?this._dataUpdateable?(function(me,Te,We){var Ge,Xe,Lt,Xt;if(Te.removeAll&&me.clear(),Te.remove)for(const Et of Te.remove)me.delete(Et);if(Te.add)for(const Et of Te.add){const $t=$i(Et,We);$t!=null&&me.set($t,Et)}if(Te.update)for(const Et of Te.update){let $t=me.get(Et.id);if($t==null)continue;const Kt=!Et.removeAllProperties&&(((Ge=Et.removeProperties)===null||Ge===void 0?void 0:Ge.length)>0||((Xe=Et.addOrUpdateProperties)===null||Xe===void 0?void 0:Xe.length)>0);if((Et.newGeometry||Et.removeAllProperties||Kt)&&($t={...$t},me.set(Et.id,$t),Kt&&($t.properties={...$t.properties})),Et.newGeometry&&($t.geometry=Et.newGeometry),Et.removeAllProperties)$t.properties={};else if(((Lt=Et.removeProperties)===null||Lt===void 0?void 0:Lt.length)>0)for(const yn of Et.removeProperties)Object.prototype.hasOwnProperty.call($t.properties,yn)&&delete $t.properties[yn];if(((Xt=Et.addOrUpdateProperties)===null||Xt===void 0?void 0:Xt.length)>0)for(const{key:yn,value:Rn}of Et.addOrUpdateProperties)$t.properties[yn]=Rn}}(this._dataUpdateable,pe.dataDiff,ve),we(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):we(new Error(`Cannot update existing geojson data in ${pe.source}`)):we(new Error(`Input data given to '${pe.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},ue&&(this.loadGeoJSON=ue)}loadData(H,K){var re;(re=this._pendingRequest)===null||re===void 0||re.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const ue=!!(H&&H.request&&H.request.collectResourceTiming)&&new c.RequestPerformance(H.request);this._pendingCallback=K,this._pendingRequest=this.loadGeoJSON(H,(pe,we)=>{if(delete this._pendingCallback,delete this._pendingRequest,pe||!we)return K(pe);if(typeof we!="object")return K(new Error(`Input data given to '${H.source}' is not a valid GeoJSON object.`));{A(we,!0);try{if(H.filter){const me=c.createExpression(H.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(me.result==="error")throw new Error(me.value.map(We=>`${We.key}: ${We.message}`).join(", "));we={type:"FeatureCollection",features:we.features.filter(We=>me.value.evaluate({zoom:0},We))}}this._geoJSONIndex=H.cluster?new Le(function({superclusterOptions:me,clusterProperties:Te}){if(!Te||!me)return me;const We={},Ge={},Xe={accumulated:null,zoom:0},Lt={properties:null},Xt=Object.keys(Te);for(const Et of Xt){const[$t,Kt]=Te[Et],yn=c.createExpression(Kt),Rn=c.createExpression(typeof $t=="string"?[$t,["accumulated"],["get",Et]]:$t);We[Et]=yn.value,Ge[Et]=Rn.value}return me.map=Et=>{Lt.properties=Et;const $t={};for(const Kt of Xt)$t[Kt]=We[Kt].evaluate(Xe,Lt);return $t},me.reduce=(Et,$t)=>{Lt.properties=$t;for(const Kt of Xt)Xe.accumulated=Et[Kt],Et[Kt]=Ge[Kt].evaluate(Xe,Lt)},me}(H)).load(we.features):function(me,Te){return new io(me,Te)}(we,H.geojsonVtOptions)}catch(me){return K(me)}this.loaded={};const ve={};if(ue){const me=ue.finish();me&&(ve.resourceTiming={},ve.resourceTiming[H.source]=JSON.parse(JSON.stringify(me)))}K(null,ve)}})}reloadTile(H,K){const re=this.loaded;return re&&re[H.uid]?super.reloadTile(H,K):this.loadTile(H,K)}removeSource(H,K){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),K()}getClusterExpansionZoom(H,K){try{K(null,this._geoJSONIndex.getClusterExpansionZoom(H.clusterId))}catch(re){K(re)}}getClusterChildren(H,K){try{K(null,this._geoJSONIndex.getChildren(H.clusterId))}catch(re){K(re)}}getClusterLeaves(H,K){try{K(null,this._geoJSONIndex.getLeaves(H.clusterId,H.limit,H.offset))}catch(re){K(re)}}}class oo{constructor(H){this.self=H,this.actor=new c.Actor(H,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:D,geojson:ya},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(K,re)=>{if(this.workerSourceTypes[K])throw new Error(`Worker source with name "${K}" already registered.`);this.workerSourceTypes[K]=re},this.self.registerRTLTextPlugin=K=>{if(c.plugin.isParsed())throw new Error("RTL text plugin already registered.");c.plugin.applyArabicShaping=K.applyArabicShaping,c.plugin.processBidirectionalText=K.processBidirectionalText,c.plugin.processStyledBidirectionalText=K.processStyledBidirectionalText}}setReferrer(H,K){this.referrer=K}setImages(H,K,re){this.availableImages[H]=K;for(const ue in this.workerSources[H]){const pe=this.workerSources[H][ue];for(const we in pe)pe[we].availableImages=K}re()}setLayers(H,K,re){this.getLayerIndex(H).replace(K),re()}updateLayers(H,K,re){this.getLayerIndex(H).update(K.layers,K.removedIds),re()}loadTile(H,K,re){this.getWorkerSource(H,K.type,K.source).loadTile(K,re)}loadDEMTile(H,K,re){this.getDEMWorkerSource(H,K.source).loadTile(K,re)}reloadTile(H,K,re){this.getWorkerSource(H,K.type,K.source).reloadTile(K,re)}abortTile(H,K,re){this.getWorkerSource(H,K.type,K.source).abortTile(K,re)}removeTile(H,K,re){this.getWorkerSource(H,K.type,K.source).removeTile(K,re)}removeDEMTile(H,K){this.getDEMWorkerSource(H,K.source).removeTile(K)}removeSource(H,K,re){if(!this.workerSources[H]||!this.workerSources[H][K.type]||!this.workerSources[H][K.type][K.source])return;const ue=this.workerSources[H][K.type][K.source];delete this.workerSources[H][K.type][K.source],ue.removeSource!==void 0?ue.removeSource(K,re):re()}loadWorkerSource(H,K,re){try{this.self.importScripts(K.url),re()}catch(ue){re(ue.toString())}}syncRTLPluginState(H,K,re){try{c.plugin.setState(K);const ue=c.plugin.getPluginURL();if(c.plugin.isLoaded()&&!c.plugin.isParsed()&&ue!=null){this.self.importScripts(ue);const pe=c.plugin.isParsed();re(pe?void 0:new Error(`RTL Text Plugin failed to import scripts from ${ue}`),pe)}}catch(ue){re(ue.toString())}}getAvailableImages(H){let K=this.availableImages[H];return K||(K=[]),K}getLayerIndex(H){let K=this.layerIndexes[H];return K||(K=this.layerIndexes[H]=new y),K}getWorkerSource(H,K,re){if(this.workerSources[H]||(this.workerSources[H]={}),this.workerSources[H][K]||(this.workerSources[H][K]={}),!this.workerSources[H][K][re]){const ue={send:(pe,we,ve)=>{this.actor.send(pe,we,ve,H)}};this.workerSources[H][K][re]=new this.workerSourceTypes[K](ue,this.getLayerIndex(H),this.getAvailableImages(H))}return this.workerSources[H][K][re]}getDEMWorkerSource(H,K){return this.demWorkerSources[H]||(this.demWorkerSources[H]={}),this.demWorkerSources[H][K]||(this.demWorkerSources[H][K]=new N),this.demWorkerSources[H][K]}}return c.isWorker()&&(self.worker=new oo(self)),oo}),a(["./shared"],function(c){var y="3.3.0";class _{static testProp(s){if(!_.docStyle)return s[0];for(let h=0;h<s.length;h++)if(s[h]in _.docStyle)return s[h];return s[0]}static create(s,h,p){const g=window.document.createElement(s);return h!==void 0&&(g.className=h),p&&p.appendChild(g),g}static createNS(s,h){return window.document.createElementNS(s,h)}static disableDrag(){_.docStyle&&_.selectProp&&(_.userSelect=_.docStyle[_.selectProp],_.docStyle[_.selectProp]="none")}static enableDrag(){_.docStyle&&_.selectProp&&(_.docStyle[_.selectProp]=_.userSelect)}static setTransform(s,h){s.style[_.transformProp]=h}static addEventListener(s,h,p,g={}){s.addEventListener(h,p,"passive"in g?g:g.capture)}static removeEventListener(s,h,p,g={}){s.removeEventListener(h,p,"passive"in g?g:g.capture)}static suppressClickInternal(s){s.preventDefault(),s.stopPropagation(),window.removeEventListener("click",_.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",_.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",_.suppressClickInternal,!0)},0)}static mousePos(s,h){const p=s.getBoundingClientRect();return new c.Point(h.clientX-p.left-s.clientLeft,h.clientY-p.top-s.clientTop)}static touchPos(s,h){const p=s.getBoundingClientRect(),g=[];for(let b=0;b<h.length;b++)g.push(new c.Point(h[b].clientX-p.left-s.clientLeft,h[b].clientY-p.top-s.clientTop));return g}static mouseButton(s){return s.button}static remove(s){s.parentNode&&s.parentNode.removeChild(s)}}_.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,_.selectProp=_.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),_.transformProp=_.testProp(["transform","WebkitTransform"]);const C={supported:!1,testSupport:function(v){!D&&P&&(N?M(v):k=v)}};let k,P,D=!1,N=!1;function M(v){const s=v.createTexture();v.bindTexture(v.TEXTURE_2D,s);try{if(v.texImage2D(v.TEXTURE_2D,0,v.RGBA,v.RGBA,v.UNSIGNED_BYTE,P),v.isContextLost())return;C.supported=!0}catch{}v.deleteTexture(s),D=!0}var $,A;typeof document<"u"&&(P=document.createElement("img"),P.onload=function(){k&&M(k),k=null,N=!0},P.onerror=function(){D=!0,k=null},P.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(v){let s,h,p,g;v.resetRequestQueue=()=>{s=[],h=0,p=0,g={}},v.addThrottleControl=B=>{const j=p++;return g[j]=B,j},v.removeThrottleControl=B=>{delete g[B],E()},v.getImage=(B,j,W=!0)=>{C.supported&&(B.headers||(B.headers={}),B.headers.accept="image/webp,*/*");const X={requestParameters:B,supportImageRefresh:W,callback:j,cancelled:!1,completed:!1,cancel:()=>{X.completed||X.cancelled||(X.cancelled=!0,X.innerRequest&&(X.innerRequest.cancel(),h--),E())}};return s.push(X),E(),X};const b=B=>{const{requestParameters:j,supportImageRefresh:W,callback:X}=B;return c.extend(j,{type:"image"}),(W!==!1||c.isWorker()||c.getProtocolAction(j.url)||j.headers&&!Object.keys(j.headers).reduce((se,oe)=>se&&oe==="accept",!0)?c.makeRequest:R)(j,(se,oe,ce,ie)=>{T(B,X,se,oe,ce,ie)})},T=(B,j,W,X,se,oe)=>{W?j(W):X instanceof HTMLImageElement||c.isImageBitmap(X)?j(null,X):X&&((ce,ie)=>{typeof createImageBitmap=="function"?c.arrayBufferToImageBitmap(ce,ie):c.arrayBufferToImage(ce,ie)})(X,(ce,ie)=>{ce!=null?j(ce):ie!=null&&j(null,ie,{cacheControl:se,expires:oe})}),B.cancelled||(B.completed=!0,h--,E())},E=()=>{const B=(()=>{const j=Object.keys(g);let W=!1;if(j.length>0){for(const X of j)if(W=g[X](),W)break}return W})()?c.config.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:c.config.MAX_PARALLEL_IMAGE_REQUESTS;for(let j=h;j<B&&s.length>0;j++){const W=s.shift();if(W.cancelled){j--;continue}const X=b(W);h++,W.innerRequest=X}},R=(B,j)=>{const W=new Image,X=B.url;let se=!1;const oe=B.credentials;return oe&&oe==="include"?W.crossOrigin="use-credentials":(oe&&oe==="same-origin"||!c.sameOrigin(X))&&(W.crossOrigin="anonymous"),W.fetchPriority="high",W.onload=()=>{j(null,W),W.onerror=W.onload=null},W.onerror=()=>{se||j(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),W.onerror=W.onload=null},W.src=X,{cancel:()=>{se=!0,W.src=""}}}}($||($={})),$.resetRequestQueue(),function(v){v.Glyphs="Glyphs",v.Image="Image",v.Source="Source",v.SpriteImage="SpriteImage",v.SpriteJSON="SpriteJSON",v.Style="Style",v.Tile="Tile",v.Unknown="Unknown"}(A||(A={}));class O{constructor(s){this._transformRequestFn=s}transformRequest(s,h){return this._transformRequestFn&&this._transformRequestFn(s,h)||{url:s}}normalizeSpriteURL(s,h,p){const g=function(b){const T=b.match(z);if(!T)throw new Error(`Unable to parse URL "${b}"`);return{protocol:T[1],authority:T[2],path:T[3]||"/",params:T[4]?T[4].split("&"):[]}}(s);return g.path+=`${h}${p}`,function(b){const T=b.params.length?`?${b.params.join("&")}`:"";return`${b.protocol}://${b.authority}${b.path}${T}`}(g)}setTransformRequest(s){this._transformRequestFn=s}}const z=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function q(v){var s=new c.ARRAY_TYPE(3);return s[0]=v[0],s[1]=v[1],s[2]=v[2],s}var Y,J=function(v,s,h){return v[0]=s[0]-h[0],v[1]=s[1]-h[1],v[2]=s[2]-h[2],v};Y=new c.ARRAY_TYPE(3),c.ARRAY_TYPE!=Float32Array&&(Y[0]=0,Y[1]=0,Y[2]=0);var te=function(v){var s=v[0],h=v[1];return s*s+h*h};function ge(v){const s=[];if(typeof v=="string")s.push({id:"default",url:v});else if(v&&v.length>0){const h=[];for(const{id:p,url:g}of v){const b=`${p}${g}`;h.indexOf(b)===-1&&(h.push(b),s.push({id:p,url:g}))}}return s}function Pe(v,s,h,p,g){if(p)return void v(p);if(g!==Object.values(s).length||g!==Object.values(h).length)return;const b={};for(const T in s){b[T]={};const E=c.browser.getImageCanvasContext(h[T]),R=s[T];for(const B in R){const{width:j,height:W,x:X,y:se,sdf:oe,pixelRatio:ce,stretchX:ie,stretchY:xe,content:De}=R[B];b[T][B]={data:null,pixelRatio:ce,sdf:oe,stretchX:ie,stretchY:xe,content:De,spriteData:{width:j,height:W,x:X,y:se,context:E}}}}v(null,b)}(function(){var v=new c.ARRAY_TYPE(2);c.ARRAY_TYPE!=Float32Array&&(v[0]=0,v[1]=0)})();class ye{constructor(s,h,p,g){this.context=s,this.format=p,this.texture=s.gl.createTexture(),this.update(h,g)}update(s,h,p){const{width:g,height:b}=s,T=!(this.size&&this.size[0]===g&&this.size[1]===b||p),{context:E}=this,{gl:R}=E;if(this.useMipmap=!!(h&&h.useMipmap),R.bindTexture(R.TEXTURE_2D,this.texture),E.pixelStoreUnpackFlipY.set(!1),E.pixelStoreUnpack.set(1),E.pixelStoreUnpackPremultiplyAlpha.set(this.format===R.RGBA&&(!h||h.premultiply!==!1)),T)this.size=[g,b],s instanceof HTMLImageElement||s instanceof HTMLCanvasElement||s instanceof HTMLVideoElement||s instanceof ImageData||c.isImageBitmap(s)?R.texImage2D(R.TEXTURE_2D,0,this.format,this.format,R.UNSIGNED_BYTE,s):R.texImage2D(R.TEXTURE_2D,0,this.format,g,b,0,this.format,R.UNSIGNED_BYTE,s.data);else{const{x:B,y:j}=p||{x:0,y:0};s instanceof HTMLImageElement||s instanceof HTMLCanvasElement||s instanceof HTMLVideoElement||s instanceof ImageData||c.isImageBitmap(s)?R.texSubImage2D(R.TEXTURE_2D,0,B,j,R.RGBA,R.UNSIGNED_BYTE,s):R.texSubImage2D(R.TEXTURE_2D,0,B,j,g,b,R.RGBA,R.UNSIGNED_BYTE,s.data)}this.useMipmap&&this.isSizePowerOfTwo()&&R.generateMipmap(R.TEXTURE_2D)}bind(s,h,p){const{context:g}=this,{gl:b}=g;b.bindTexture(b.TEXTURE_2D,this.texture),p!==b.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(p=b.LINEAR),s!==this.filter&&(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,s),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,p||s),this.filter=s),h!==this.wrap&&(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,h),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,h),this.wrap=h)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:s}=this.context;s.deleteTexture(this.texture),this.texture=null}}function Ne(v){const{userImage:s}=v;return!!(s&&s.render&&s.render())&&(v.data.replace(new Uint8Array(s.data.buffer)),!0)}class Ve extends c.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new c.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(s){if(this.loaded!==s&&(this.loaded=s,s)){for(const{ids:h,callback:p}of this.requestors)this._notify(h,p);this.requestors=[]}}getImage(s){const h=this.images[s];if(h&&!h.data&&h.spriteData){const p=h.spriteData;h.data=new c.RGBAImage({width:p.width,height:p.height},p.context.getImageData(p.x,p.y,p.width,p.height).data),h.spriteData=null}return h}addImage(s,h){if(this.images[s])throw new Error(`Image id ${s} already exist, use updateImage instead`);this._validate(s,h)&&(this.images[s]=h)}_validate(s,h){let p=!0;const g=h.data||h.spriteData;return this._validateStretch(h.stretchX,g&&g.width)||(this.fire(new c.ErrorEvent(new Error(`Image "${s}" has invalid "stretchX" value`))),p=!1),this._validateStretch(h.stretchY,g&&g.height)||(this.fire(new c.ErrorEvent(new Error(`Image "${s}" has invalid "stretchY" value`))),p=!1),this._validateContent(h.content,h)||(this.fire(new c.ErrorEvent(new Error(`Image "${s}" has invalid "content" value`))),p=!1),p}_validateStretch(s,h){if(!s)return!0;let p=0;for(const g of s){if(g[0]<p||g[1]<g[0]||h<g[1])return!1;p=g[1]}return!0}_validateContent(s,h){if(!s)return!0;if(s.length!==4)return!1;const p=h.spriteData,g=p&&p.width||h.data.width,b=p&&p.height||h.data.height;return!(s[0]<0||g<s[0]||s[1]<0||b<s[1]||s[2]<0||g<s[2]||s[3]<0||b<s[3]||s[2]<s[0]||s[3]<s[1])}updateImage(s,h,p=!0){const g=this.getImage(s);if(p&&(g.data.width!==h.data.width||g.data.height!==h.data.height))throw new Error(`size mismatch between old image (${g.data.width}x${g.data.height}) and new image (${h.data.width}x${h.data.height}).`);h.version=g.version+1,this.images[s]=h,this.updatedImages[s]=!0}removeImage(s){const h=this.images[s];delete this.images[s],delete this.patterns[s],h.userImage&&h.userImage.onRemove&&h.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(s,h){let p=!0;if(!this.isLoaded())for(const g of s)this.images[g]||(p=!1);this.isLoaded()||p?this._notify(s,h):this.requestors.push({ids:s,callback:h})}_notify(s,h){const p={};for(const g of s){let b=this.getImage(g);b||(this.fire(new c.Event("styleimagemissing",{id:g})),b=this.getImage(g)),b?p[g]={data:b.data.clone(),pixelRatio:b.pixelRatio,sdf:b.sdf,version:b.version,stretchX:b.stretchX,stretchY:b.stretchY,content:b.content,hasRenderCallback:!!(b.userImage&&b.userImage.render)}:c.warnOnce(`Image "${g}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}h(null,p)}getPixelSize(){const{width:s,height:h}=this.atlasImage;return{width:s,height:h}}getPattern(s){const h=this.patterns[s],p=this.getImage(s);if(!p)return null;if(h&&h.position.version===p.version)return h.position;if(h)h.position.version=p.version;else{const g={w:p.data.width+2,h:p.data.height+2,x:0,y:0},b=new c.ImagePosition(g,p);this.patterns[s]={bin:g,position:b}}return this._updatePatternAtlas(),this.patterns[s].position}bind(s){const h=s.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new ye(s,this.atlasImage,h.RGBA),this.atlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE)}_updatePatternAtlas(){const s=[];for(const b in this.patterns)s.push(this.patterns[b].bin);const{w:h,h:p}=c.potpack(s),g=this.atlasImage;g.resize({width:h||1,height:p||1});for(const b in this.patterns){const{bin:T}=this.patterns[b],E=T.x+1,R=T.y+1,B=this.getImage(b).data,j=B.width,W=B.height;c.RGBAImage.copy(B,g,{x:0,y:0},{x:E,y:R},{width:j,height:W}),c.RGBAImage.copy(B,g,{x:0,y:W-1},{x:E,y:R-1},{width:j,height:1}),c.RGBAImage.copy(B,g,{x:0,y:0},{x:E,y:R+W},{width:j,height:1}),c.RGBAImage.copy(B,g,{x:j-1,y:0},{x:E-1,y:R},{width:1,height:W}),c.RGBAImage.copy(B,g,{x:0,y:0},{x:E+j,y:R},{width:1,height:W})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(s){for(const h of s){if(this.callbackDispatchedThisFrame[h])continue;this.callbackDispatchedThisFrame[h]=!0;const p=this.getImage(h);p||c.warnOnce(`Image with ID: "${h}" was not found`),Ne(p)&&this.updateImage(h,p)}}}const et=1e20;function Ze(v,s,h,p,g,b,T,E,R){for(let B=s;B<s+p;B++)Ke(v,h*b+B,b,g,T,E,R);for(let B=h;B<h+g;B++)Ke(v,B*b+s,1,p,T,E,R)}function Ke(v,s,h,p,g,b,T){b[0]=0,T[0]=-et,T[1]=et,g[0]=v[s];for(let E=1,R=0,B=0;E<p;E++){g[E]=v[s+E*h];const j=E*E;do{const W=b[R];B=(g[E]-g[W]+j-W*W)/(E-W)/2}while(B<=T[R]&&--R>-1);R++,b[R]=E,T[R]=B,T[R+1]=et}for(let E=0,R=0;E<p;E++){for(;T[R+1]<E;)R++;const B=b[R],j=E-B;v[s+E*h]=g[B]+j*j}}class ke{constructor(s,h){this.requestManager=s,this.localIdeographFontFamily=h,this.entries={}}setURL(s){this.url=s}getGlyphs(s,h){const p=[];for(const g in s)for(const b of s[g])p.push({stack:g,id:b});c.asyncAll(p,({stack:g,id:b},T)=>{let E=this.entries[g];E||(E=this.entries[g]={glyphs:{},requests:{},ranges:{}});let R=E.glyphs[b];if(R!==void 0)return void T(null,{stack:g,id:b,glyph:R});if(R=this._tinySDF(E,g,b),R)return E.glyphs[b]=R,void T(null,{stack:g,id:b,glyph:R});const B=Math.floor(b/256);if(256*B>65535)return void T(new Error("glyphs > 65535 not supported"));if(E.ranges[B])return void T(null,{stack:g,id:b,glyph:R});if(!this.url)return void T(new Error("glyphsUrl is not set"));let j=E.requests[B];j||(j=E.requests[B]=[],ke.loadGlyphRange(g,B,this.url,this.requestManager,(W,X)=>{if(X){for(const se in X)this._doesCharSupportLocalGlyph(+se)||(E.glyphs[+se]=X[+se]);E.ranges[B]=!0}for(const se of j)se(W,X);delete E.requests[B]})),j.push((W,X)=>{W?T(W):X&&T(null,{stack:g,id:b,glyph:X[b]||null})})},(g,b)=>{if(g)h(g);else if(b){const T={};for(const{stack:E,id:R,glyph:B}of b)(T[E]||(T[E]={}))[R]=B&&{id:B.id,bitmap:B.bitmap.clone(),metrics:B.metrics};h(null,T)}})}_doesCharSupportLocalGlyph(s){return!!this.localIdeographFontFamily&&(c.unicodeBlockLookup["CJK Unified Ideographs"](s)||c.unicodeBlockLookup["Hangul Syllables"](s)||c.unicodeBlockLookup.Hiragana(s)||c.unicodeBlockLookup.Katakana(s))}_tinySDF(s,h,p){const g=this.localIdeographFontFamily;if(!g||!this._doesCharSupportLocalGlyph(p))return;let b=s.tinySDF;if(!b){let E="400";/bold/i.test(h)?E="900":/medium/i.test(h)?E="500":/light/i.test(h)&&(E="200"),b=s.tinySDF=new ke.TinySDF({fontSize:24,buffer:3,radius:8,cutoff:.25,fontFamily:g,fontWeight:E})}const T=b.draw(String.fromCharCode(p));return{id:p,bitmap:new c.AlphaImage({width:T.width||30,height:T.height||30},T.data),metrics:{width:T.glyphWidth||24,height:T.glyphHeight||24,left:T.glyphLeft||0,top:T.glyphTop-27||-8,advance:T.glyphAdvance||24}}}}ke.loadGlyphRange=function(v,s,h,p,g){const b=256*s,T=b+255,E=p.transformRequest(h.replace("{fontstack}",v).replace("{range}",`${b}-${T}`),A.Glyphs);c.getArrayBuffer(E,(R,B)=>{if(R)g(R);else if(B){const j={};for(const W of c.parseGlyphPbf(B))j[W.id]=W;g(null,j)}})},ke.TinySDF=class{constructor({fontSize:v=24,buffer:s=3,radius:h=8,cutoff:p=.25,fontFamily:g="sans-serif",fontWeight:b="normal",fontStyle:T="normal"}={}){this.buffer=s,this.cutoff=p,this.radius=h;const E=this.size=v+4*s,R=this._createCanvas(E),B=this.ctx=R.getContext("2d",{willReadFrequently:!0});B.font=`${T} ${b} ${v}px ${g}`,B.textBaseline="alphabetic",B.textAlign="left",B.fillStyle="black",this.gridOuter=new Float64Array(E*E),this.gridInner=new Float64Array(E*E),this.f=new Float64Array(E),this.z=new Float64Array(E+1),this.v=new Uint16Array(E)}_createCanvas(v){const s=document.createElement("canvas");return s.width=s.height=v,s}draw(v){const{width:s,actualBoundingBoxAscent:h,actualBoundingBoxDescent:p,actualBoundingBoxLeft:g,actualBoundingBoxRight:b}=this.ctx.measureText(v),T=Math.ceil(h),E=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(b-g))),R=Math.min(this.size-this.buffer,T+Math.ceil(p)),B=E+2*this.buffer,j=R+2*this.buffer,W=Math.max(B*j,0),X=new Uint8ClampedArray(W),se={data:X,width:B,height:j,glyphWidth:E,glyphHeight:R,glyphTop:T,glyphLeft:0,glyphAdvance:s};if(E===0||R===0)return se;const{ctx:oe,buffer:ce,gridInner:ie,gridOuter:xe}=this;oe.clearRect(ce,ce,E,R),oe.fillText(v,ce,ce+T);const De=oe.getImageData(ce,ce,E,R);xe.fill(et,0,W),ie.fill(0,0,W);for(let he=0;he<R;he++)for(let Se=0;Se<E;Se++){const Be=De.data[4*(he*E+Se)+3]/255;if(Be===0)continue;const Ue=(he+ce)*B+Se+ce;if(Be===1)xe[Ue]=0,ie[Ue]=et;else{const He=.5-Be;xe[Ue]=He>0?He*He:0,ie[Ue]=He<0?He*He:0}}Ze(xe,0,0,B,j,B,this.f,this.v,this.z),Ze(ie,ce,ce,E,R,B,this.f,this.v,this.z);for(let he=0;he<W;he++){const Se=Math.sqrt(xe[he])-Math.sqrt(ie[he]);X[he]=Math.round(255-255*(Se/this.radius+this.cutoff))}return se}};class Me{constructor(){this.specification=c.v8Spec.light.position}possiblyEvaluate(s,h){return c.sphericalToCartesian(s.expression.evaluate(h))}interpolate(s,h,p){return{x:c.interpolate.number(s.x,h.x,p),y:c.interpolate.number(s.y,h.y,p),z:c.interpolate.number(s.z,h.z,p)}}}let Oe,Ee;class ze extends c.Evented{constructor(s){super(),Oe=Oe||new c.Properties({anchor:new c.DataConstantProperty(c.v8Spec.light.anchor),position:new Me,color:new c.DataConstantProperty(c.v8Spec.light.color),intensity:new c.DataConstantProperty(c.v8Spec.light.intensity)}),this._transitionable=new c.Transitionable(Oe),this.setLight(s),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(s,h={}){if(!this._validate(c.validateLight,s,h))for(const p in s){const g=s[p];p.endsWith("-transition")?this._transitionable.setTransition(p.slice(0,-11),g):this._transitionable.setValue(p,g)}}updateTransitions(s){this._transitioning=this._transitionable.transitioned(s,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(s){this.properties=this._transitioning.possiblyEvaluate(s)}_validate(s,h,p){return(!p||p.validate!==!1)&&c.emitValidationErrors(this,s.call(c.validateStyle,c.extend({value:h,style:{glyphs:!0,sprite:!0},styleSpec:c.v8Spec})))}}class st{constructor(s,h){this.width=s,this.height=h,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(s,h){const p=s.join(",")+String(h);return this.dashEntry[p]||(this.dashEntry[p]=this.addDash(s,h)),this.dashEntry[p]}getDashRanges(s,h,p){const g=[];let b=s.length%2==1?-s[s.length-1]*p:0,T=s[0]*p,E=!0;g.push({left:b,right:T,isDash:E,zeroLength:s[0]===0});let R=s[0];for(let B=1;B<s.length;B++){E=!E;const j=s[B];b=R*p,R+=j,T=R*p,g.push({left:b,right:T,isDash:E,zeroLength:j===0})}return g}addRoundDash(s,h,p){const g=h/2;for(let b=-p;b<=p;b++){const T=this.width*(this.nextRow+p+b);let E=0,R=s[E];for(let B=0;B<this.width;B++){B/R.right>1&&(R=s[++E]);const j=Math.abs(B-R.left),W=Math.abs(B-R.right),X=Math.min(j,W);let se;const oe=b/p*(g+1);if(R.isDash){const ce=g-Math.abs(oe);se=Math.sqrt(X*X+ce*ce)}else se=g-Math.sqrt(X*X+oe*oe);this.data[T+B]=Math.max(0,Math.min(255,se+128))}}}addRegularDash(s){for(let E=s.length-1;E>=0;--E){const R=s[E],B=s[E+1];R.zeroLength?s.splice(E,1):B&&B.isDash===R.isDash&&(B.left=R.left,s.splice(E,1))}const h=s[0],p=s[s.length-1];h.isDash===p.isDash&&(h.left=p.left-this.width,p.right=h.right+this.width);const g=this.width*this.nextRow;let b=0,T=s[b];for(let E=0;E<this.width;E++){E/T.right>1&&(T=s[++b]);const R=Math.abs(E-T.left),B=Math.abs(E-T.right),j=Math.min(R,B);this.data[g+E]=Math.max(0,Math.min(255,(T.isDash?j:-j)+128))}}addDash(s,h){const p=h?7:0,g=2*p+1;if(this.nextRow+g>this.height)return c.warnOnce("LineAtlas out of space"),null;let b=0;for(let E=0;E<s.length;E++)b+=s[E];if(b!==0){const E=this.width/b,R=this.getDashRanges(s,this.width,E);h?this.addRoundDash(R,E,p):this.addRegularDash(R)}const T={y:(this.nextRow+p+.5)/this.height,height:2*p/this.height,width:b};return this.nextRow+=g,this.dirty=!0,T}bind(s){const h=s.gl;this.texture?(h.bindTexture(h.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,h.texSubImage2D(h.TEXTURE_2D,0,0,0,this.width,this.height,h.ALPHA,h.UNSIGNED_BYTE,this.data))):(this.texture=h.createTexture(),h.bindTexture(h.TEXTURE_2D,this.texture),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.LINEAR),h.texImage2D(h.TEXTURE_2D,0,h.ALPHA,this.width,this.height,0,h.ALPHA,h.UNSIGNED_BYTE,this.data))}}class be{constructor(s,h,p){this.workerPool=s,this.actors=[],this.currentActor=0,this.id=p;const g=this.workerPool.acquire(p);for(let b=0;b<g.length;b++){const T=new be.Actor(g[b],h,p);T.name=`Worker ${b}`,this.actors.push(T)}if(!this.actors.length)throw new Error("No actors found")}broadcast(s,h,p){c.asyncAll(this.actors,(g,b)=>{g.send(s,h,b)},p=p||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(s=!0){this.actors.forEach(h=>{h.remove()}),this.actors=[],s&&this.workerPool.release(this.id)}}function Fe(v,s,h){const p=function(g,b){if(g)return h(g);if(b){const T=c.pick(c.extend(b,v),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);b.vector_layers&&(T.vectorLayers=b.vector_layers,T.vectorLayerIds=T.vectorLayers.map(E=>E.id)),h(null,T)}};return v.url?c.getJSON(s.transformRequest(v.url,A.Source),p):c.browser.frame(()=>p(null,v))}be.Actor=c.Actor;class Ae{constructor(s,h){s&&(h?this.setSouthWest(s).setNorthEast(h):Array.isArray(s)&&(s.length===4?this.setSouthWest([s[0],s[1]]).setNorthEast([s[2],s[3]]):this.setSouthWest(s[0]).setNorthEast(s[1])))}setNorthEast(s){return this._ne=s instanceof c.LngLat?new c.LngLat(s.lng,s.lat):c.LngLat.convert(s),this}setSouthWest(s){return this._sw=s instanceof c.LngLat?new c.LngLat(s.lng,s.lat):c.LngLat.convert(s),this}extend(s){const h=this._sw,p=this._ne;let g,b;if(s instanceof c.LngLat)g=s,b=s;else{if(!(s instanceof Ae))return Array.isArray(s)?s.length===4||s.every(Array.isArray)?this.extend(Ae.convert(s)):this.extend(c.LngLat.convert(s)):s&&("lng"in s||"lon"in s)&&"lat"in s?this.extend(c.LngLat.convert(s)):this;if(g=s._sw,b=s._ne,!g||!b)return this}return h||p?(h.lng=Math.min(g.lng,h.lng),h.lat=Math.min(g.lat,h.lat),p.lng=Math.max(b.lng,p.lng),p.lat=Math.max(b.lat,p.lat)):(this._sw=new c.LngLat(g.lng,g.lat),this._ne=new c.LngLat(b.lng,b.lat)),this}getCenter(){return new c.LngLat((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new c.LngLat(this.getWest(),this.getNorth())}getSouthEast(){return new c.LngLat(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(s){const{lng:h,lat:p}=c.LngLat.convert(s);let g=this._sw.lng<=h&&h<=this._ne.lng;return this._sw.lng>this._ne.lng&&(g=this._sw.lng>=h&&h>=this._ne.lng),this._sw.lat<=p&&p<=this._ne.lat&&g}static convert(s){return s instanceof Ae?s:s&&new Ae(s)}static fromLngLat(s,h=0){const p=360*h/40075017,g=p/Math.cos(Math.PI/180*s.lat);return new Ae(new c.LngLat(s.lng-g,s.lat-p),new c.LngLat(s.lng+g,s.lat+p))}}class qe{constructor(s,h,p){this.bounds=Ae.convert(this.validateBounds(s)),this.minzoom=h||0,this.maxzoom=p||24}validateBounds(s){return Array.isArray(s)&&s.length===4?[Math.max(-180,s[0]),Math.max(-90,s[1]),Math.min(180,s[2]),Math.min(90,s[3])]:[-180,-90,180,90]}contains(s){const h=Math.pow(2,s.z),p=Math.floor(c.mercatorXfromLng(this.bounds.getWest())*h),g=Math.floor(c.mercatorYfromLat(this.bounds.getNorth())*h),b=Math.ceil(c.mercatorXfromLng(this.bounds.getEast())*h),T=Math.ceil(c.mercatorYfromLat(this.bounds.getSouth())*h);return s.x>=p&&s.x<b&&s.y>=g&&s.y<T}}class Le extends c.Evented{constructor(s,h,p,g){if(super(),this.load=()=>{this._loaded=!1,this.fire(new c.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Fe(this._options,this.map._requestManager,(b,T)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),b?this.fire(new c.ErrorEvent(b)):T&&(c.extend(this,T),T.bounds&&(this.tileBounds=new qe(T.bounds,this.minzoom,this.maxzoom)),this.fire(new c.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.Event("data",{dataType:"source",sourceDataType:"content"})))})},this.serialize=()=>c.extend({},this._options),this.id=s,this.dispatcher=p,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,c.extend(this,c.pick(h,["url","scheme","tileSize","promoteId"])),this._options=c.extend({type:"vector"},h),this._collectResourceTiming=h.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(g)}loaded(){return this._loaded}hasTile(s){return!this.tileBounds||this.tileBounds.contains(s.canonical)}onAdd(s){this.map=s,this.load()}setSourceProperty(s){this._tileJSONRequest&&this._tileJSONRequest.cancel(),s(),this.load()}setTiles(s){return this.setSourceProperty(()=>{this._options.tiles=s}),this}setUrl(s){return this.setSourceProperty(()=>{this.url=s,this._options.url=s}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(s,h){const p=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),g={request:this.map._requestManager.transformRequest(p,A.Tile),uid:s.uid,tileID:s.tileID,zoom:s.tileID.overscaledZ,tileSize:this.tileSize*s.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function b(T,E){return delete s.request,s.aborted?h(null):T&&T.status!==404?h(T):(E&&E.resourceTiming&&(s.resourceTiming=E.resourceTiming),this.map._refreshExpiredTiles&&E&&s.setExpiryData(E),s.loadVectorData(E,this.map.painter),h(null),void(s.reloadCallback&&(this.loadTile(s,s.reloadCallback),s.reloadCallback=null)))}g.request.collectResourceTiming=this._collectResourceTiming,s.actor&&s.state!=="expired"?s.state==="loading"?s.reloadCallback=h:s.request=s.actor.send("reloadTile",g,b.bind(this)):(s.actor=this.dispatcher.getActor(),s.request=s.actor.send("loadTile",g,b.bind(this)))}abortTile(s){s.request&&(s.request.cancel(),delete s.request),s.actor&&s.actor.send("abortTile",{uid:s.uid,type:this.type,source:this.id},void 0)}unloadTile(s){s.unloadVectorData(),s.actor&&s.actor.send("removeTile",{uid:s.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class ot extends c.Evented{constructor(s,h,p,g){super(),this.id=s,this.dispatcher=p,this.setEventedParent(g),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=c.extend({type:"raster"},h),c.extend(this,c.pick(h,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new c.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Fe(this._options,this.map._requestManager,(s,h)=>{this._tileJSONRequest=null,this._loaded=!0,s?this.fire(new c.ErrorEvent(s)):h&&(c.extend(this,h),h.bounds&&(this.tileBounds=new qe(h.bounds,this.minzoom,this.maxzoom)),this.fire(new c.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(s){this.map=s,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return c.extend({},this._options)}hasTile(s){return!this.tileBounds||this.tileBounds.contains(s.canonical)}loadTile(s,h){const p=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);s.request=$.getImage(this.map._requestManager.transformRequest(p,A.Tile),(g,b,T)=>{if(delete s.request,s.aborted)s.state="unloaded",h(null);else if(g)s.state="errored",h(g);else if(b){this.map._refreshExpiredTiles&&T&&s.setExpiryData(T);const E=this.map.painter.context,R=E.gl;s.texture=this.map.painter.getTileTexture(b.width),s.texture?s.texture.update(b,{useMipmap:!0}):(s.texture=new ye(E,b,R.RGBA,{useMipmap:!0}),s.texture.bind(R.LINEAR,R.CLAMP_TO_EDGE,R.LINEAR_MIPMAP_NEAREST),E.extTextureFilterAnisotropic&&R.texParameterf(R.TEXTURE_2D,E.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,E.extTextureFilterAnisotropicMax)),s.state="loaded",h(null)}},this.map._refreshExpiredTiles)}abortTile(s,h){s.request&&(s.request.cancel(),delete s.request),h()}unloadTile(s,h){s.texture&&this.map.painter.saveTileTexture(s.texture),h()}hasTransition(){return!1}}class xt extends ot{constructor(s,h,p,g){super(s,h,p,g),this.type="raster-dem",this.maxzoom=22,this._options=c.extend({type:"raster-dem"},h),this.encoding=h.encoding||"mapbox"}loadTile(s,h){const p=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function g(b,T){b&&(s.state="errored",h(b)),T&&(s.dem=T,s.needsHillshadePrepare=!0,s.needsTerrainPrepare=!0,s.state="loaded",h(null))}s.request=$.getImage(this.map._requestManager.transformRequest(p,A.Tile),(function(b,T){if(delete s.request,s.aborted)s.state="unloaded",h(null);else if(b)s.state="errored",h(b);else if(T){this.map._refreshExpiredTiles&&s.setExpiryData(T),delete T.cacheControl,delete T.expires;const E=c.isImageBitmap(T)&&(Ee==null&&(Ee=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),Ee)?T:c.browser.getImageData(T,1),R={uid:s.uid,coord:s.tileID,source:this.id,rawImageData:E,encoding:this.encoding};s.actor&&s.state!=="expired"||(s.actor=this.dispatcher.getActor(),s.actor.send("loadDEMTile",R,g.bind(this)))}}).bind(this),this.map._refreshExpiredTiles),s.neighboringTiles=this._getNeighboringTiles(s.tileID)}_getNeighboringTiles(s){const h=s.canonical,p=Math.pow(2,h.z),g=(h.x-1+p)%p,b=h.x===0?s.wrap-1:s.wrap,T=(h.x+1+p)%p,E=h.x+1===p?s.wrap+1:s.wrap,R={};return R[new c.OverscaledTileID(s.overscaledZ,b,h.z,g,h.y).key]={backfilled:!1},R[new c.OverscaledTileID(s.overscaledZ,E,h.z,T,h.y).key]={backfilled:!1},h.y>0&&(R[new c.OverscaledTileID(s.overscaledZ,b,h.z,g,h.y-1).key]={backfilled:!1},R[new c.OverscaledTileID(s.overscaledZ,s.wrap,h.z,h.x,h.y-1).key]={backfilled:!1},R[new c.OverscaledTileID(s.overscaledZ,E,h.z,T,h.y-1).key]={backfilled:!1}),h.y+1<p&&(R[new c.OverscaledTileID(s.overscaledZ,b,h.z,g,h.y+1).key]={backfilled:!1},R[new c.OverscaledTileID(s.overscaledZ,s.wrap,h.z,h.x,h.y+1).key]={backfilled:!1},R[new c.OverscaledTileID(s.overscaledZ,E,h.z,T,h.y+1).key]={backfilled:!1}),R}unloadTile(s){s.demTexture&&this.map.painter.saveTileTexture(s.demTexture),s.fbo&&(s.fbo.destroy(),delete s.fbo),s.dem&&delete s.dem,delete s.neighboringTiles,s.state="unloaded",s.actor&&s.actor.send("removeDEMTile",{uid:s.uid,source:this.id})}}class St extends c.Evented{constructor(s,h,p,g){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>c.extend({},this._options,{type:this.type,data:this._data}),this.id=s,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=p.getActor(),this.setEventedParent(g),this._data=h.data,this._options=c.extend({},h),this._collectResourceTiming=h.collectResourceTiming,h.maxzoom!==void 0&&(this.maxzoom=h.maxzoom),h.type&&(this.type=h.type),h.attribution&&(this.attribution=h.attribution),this.promoteId=h.promoteId;const b=c.EXTENT/this.tileSize;this.workerOptions=c.extend({source:this.id,cluster:h.cluster||!1,geojsonVtOptions:{buffer:(h.buffer!==void 0?h.buffer:128)*b,tolerance:(h.tolerance!==void 0?h.tolerance:.375)*b,extent:c.EXTENT,maxZoom:this.maxzoom,lineMetrics:h.lineMetrics||!1,generateId:h.generateId||!1},superclusterOptions:{maxZoom:h.clusterMaxZoom!==void 0?h.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,h.clusterMinPoints||2),extent:c.EXTENT,radius:(h.clusterRadius||50)*b,log:!1,generateId:h.generateId||!1},clusterProperties:h.clusterProperties,filter:h.filter},h.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}onAdd(s){this.map=s,this.load()}setData(s){return this._data=s,this._updateWorkerData(),this}updateData(s){return this._updateWorkerData(s),this}setClusterOptions(s){return this.workerOptions.cluster=s.cluster,s&&(s.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=s.clusterRadius),s.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=s.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(s,h){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:s,source:this.id},h),this}getClusterChildren(s,h){return this.actor.send("geojson.getClusterChildren",{clusterId:s,source:this.id},h),this}getClusterLeaves(s,h,p,g){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:s,limit:h,offset:p},g),this}_updateWorkerData(s){const h=c.extend({},this.workerOptions);s?h.dataDiff=s:typeof this._data=="string"?(h.request=this.map._requestManager.transformRequest(c.browser.resolveURL(this._data),A.Source),h.request.collectResourceTiming=this._collectResourceTiming):h.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new c.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,h,(p,g)=>{if(this._pendingLoads--,this._removed||g&&g.abandoned)return void this.fire(new c.Event("dataabort",{dataType:"source"}));let b=null;if(g&&g.resourceTiming&&g.resourceTiming[this.id]&&(b=g.resourceTiming[this.id].slice(0)),p)return void this.fire(new c.ErrorEvent(p));const T={dataType:"source"};this._collectResourceTiming&&b&&b.length>0&&c.extend(T,{resourceTiming:b}),this.fire(new c.Event("data",{...T,sourceDataType:"metadata"})),this.fire(new c.Event("data",{...T,sourceDataType:"content"}))})}loaded(){return this._pendingLoads===0}loadTile(s,h){const p=s.actor?"reloadTile":"loadTile";s.actor=this.actor;const g={type:this.type,uid:s.uid,tileID:s.tileID,zoom:s.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};s.request=this.actor.send(p,g,(b,T)=>(delete s.request,s.unloadVectorData(),s.aborted?h(null):b?h(b):(s.loadVectorData(T,this.map.painter,p==="reloadTile"),h(null))))}abortTile(s){s.request&&(s.request.cancel(),delete s.request),s.aborted=!0}unloadTile(s){s.unloadVectorData(),this.actor.send("removeTile",{uid:s.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var It=c.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class jt extends c.Evented{constructor(s,h,p,g){super(),this.load=(b,T)=>{this._loaded=!1,this.fire(new c.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=$.getImage(this.map._requestManager.transformRequest(this.url,A.Image),(E,R)=>{this._request=null,this._loaded=!0,E?this.fire(new c.ErrorEvent(E)):R&&(this.image=R,b&&(this.coordinates=b),T&&T(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||!this.image)return;const b=this.map.painter.context,T=b.gl;this.boundsBuffer||(this.boundsBuffer=b.createVertexBuffer(this._boundsArray,It.members)),this.boundsSegments||(this.boundsSegments=c.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new ye(b,this.image,T.RGBA),this.texture.bind(T.LINEAR,T.CLAMP_TO_EDGE));let E=!1;for(const R in this.tiles){const B=this.tiles[R];B.state!=="loaded"&&(B.state="loaded",B.texture=this.texture,E=!0)}E&&this.fire(new c.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=s,this.dispatcher=p,this.coordinates=h.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(g),this.options=h}loaded(){return this._loaded}updateImage(s){return s.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=s.url,this.load(s.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new c.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(s){this.map=s,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(s){this.coordinates=s;const h=s.map(c.MercatorCoordinate.fromLngLat);this.tileID=function(g){let b=1/0,T=1/0,E=-1/0,R=-1/0;for(const X of g)b=Math.min(b,X.x),T=Math.min(T,X.y),E=Math.max(E,X.x),R=Math.max(R,X.y);const B=Math.max(E-b,R-T),j=Math.max(0,Math.floor(-Math.log(B)/Math.LN2)),W=Math.pow(2,j);return new c.CanonicalTileID(j,Math.floor((b+E)/2*W),Math.floor((T+R)/2*W))}(h),this.minzoom=this.maxzoom=this.tileID.z;const p=h.map(g=>this.tileID.getTilePoint(g)._round());return this._boundsArray=new c.RasterBoundsArray,this._boundsArray.emplaceBack(p[0].x,p[0].y,0,0),this._boundsArray.emplaceBack(p[1].x,p[1].y,c.EXTENT,0),this._boundsArray.emplaceBack(p[3].x,p[3].y,0,c.EXTENT),this._boundsArray.emplaceBack(p[2].x,p[2].y,c.EXTENT,c.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new c.Event("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(s,h){this.tileID&&this.tileID.equals(s.tileID.canonical)?(this.tiles[String(s.tileID.wrap)]=s,s.buckets={},h(null)):(s.state="errored",h(null))}hasTransition(){return!1}}class Mt extends jt{constructor(s,h,p,g){super(s,h,p,g),this.load=()=>{this._loaded=!1;const b=this.options;this.urls=[];for(const T of b.urls)this.urls.push(this.map._requestManager.transformRequest(T,A.Source).url);c.getVideo(this.urls,(T,E)=>{this._loaded=!0,T?this.fire(new c.ErrorEvent(T)):E&&(this.video=E,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const b=this.map.painter.context,T=b.gl;this.boundsBuffer||(this.boundsBuffer=b.createVertexBuffer(this._boundsArray,It.members)),this.boundsSegments||(this.boundsSegments=c.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(T.LINEAR,T.CLAMP_TO_EDGE),T.texSubImage2D(T.TEXTURE_2D,0,0,0,T.RGBA,T.UNSIGNED_BYTE,this.video)):(this.texture=new ye(b,this.video,T.RGBA),this.texture.bind(T.LINEAR,T.CLAMP_TO_EDGE));let E=!1;for(const R in this.tiles){const B=this.tiles[R];B.state!=="loaded"&&(B.state="loaded",B.texture=this.texture,E=!0)}E&&this.fire(new c.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=h}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(s){if(this.video){const h=this.video.seekable;s<h.start(0)||s>h.end(0)?this.fire(new c.ErrorEvent(new c.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${h.start(0)} and ${h.end(0)}-second mark.`))):this.video.currentTime=s}}getVideo(){return this.video}onAdd(s){this.map||(this.map=s,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class Re extends jt{constructor(s,h,p,g){super(s,h,p,g),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new c.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let b=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,b=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,b=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const T=this.map.painter.context,E=T.gl;this.boundsBuffer||(this.boundsBuffer=T.createVertexBuffer(this._boundsArray,It.members)),this.boundsSegments||(this.boundsSegments=c.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(b||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new ye(T,this.canvas,E.RGBA,{premultiply:!0});let R=!1;for(const B in this.tiles){const j=this.tiles[B];j.state!=="loaded"&&(j.state="loaded",j.texture=this.texture,R=!0)}R&&this.fire(new c.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),h.coordinates?Array.isArray(h.coordinates)&&h.coordinates.length===4&&!h.coordinates.some(b=>!Array.isArray(b)||b.length!==2||b.some(T=>typeof T!="number"))||this.fire(new c.ErrorEvent(new c.ValidationError(`sources.${s}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new c.ErrorEvent(new c.ValidationError(`sources.${s}`,null,'missing required property "coordinates"'))),h.animate&&typeof h.animate!="boolean"&&this.fire(new c.ErrorEvent(new c.ValidationError(`sources.${s}`,null,'optional "animate" property must be a boolean value'))),h.canvas?typeof h.canvas=="string"||h.canvas instanceof HTMLCanvasElement||this.fire(new c.ErrorEvent(new c.ValidationError(`sources.${s}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new c.ErrorEvent(new c.ValidationError(`sources.${s}`,null,'missing required property "canvas"'))),this.options=h,this.animate=h.animate===void 0||h.animate}getCanvas(){return this.canvas}onAdd(s){this.map=s,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const s of[this.canvas.width,this.canvas.height])if(isNaN(s)||s<=0)return!0;return!1}}const rn={},Sn=v=>{switch(v){case"geojson":return St;case"image":return jt;case"raster":return ot;case"raster-dem":return xt;case"vector":return Le;case"video":return Mt;case"canvas":return Re}return rn[v]};function Zt(v,s){const h=c.create();return c.translate(h,h,[1,1,0]),c.scale(h,h,[.5*v.width,.5*v.height,1]),c.multiply(h,h,v.calculatePosMatrix(s.toUnwrapped()))}function Yt(v,s,h,p,g,b){const T=function(W,X,se){if(W)for(const oe of W){const ce=X[oe];if(ce&&ce.source===se&&ce.type==="fill-extrusion")return!0}else for(const oe in X){const ce=X[oe];if(ce.source===se&&ce.type==="fill-extrusion")return!0}return!1}(g&&g.layers,s,v.id),E=b.maxPitchScaleFactor(),R=v.tilesIn(p,E,T);R.sort(Nn);const B=[];for(const W of R)B.push({wrappedTileID:W.tileID.wrapped().key,queryResults:W.tile.queryRenderedFeatures(s,h,v._state,W.queryGeometry,W.cameraQueryGeometry,W.scale,g,b,E,Zt(v.transform,W.tileID))});const j=function(W){const X={},se={};for(const oe of W){const ce=oe.queryResults,ie=oe.wrappedTileID,xe=se[ie]=se[ie]||{};for(const De in ce){const he=ce[De],Se=xe[De]=xe[De]||{},Be=X[De]=X[De]||[];for(const Ue of he)Se[Ue.featureIndex]||(Se[Ue.featureIndex]=!0,Be.push(Ue))}}return X}(B);for(const W in j)j[W].forEach(X=>{const se=X.feature,oe=v.getFeatureState(se.layer["source-layer"],se.id);se.source=se.layer.source,se.layer["source-layer"]&&(se.sourceLayer=se.layer["source-layer"]),se.state=oe});return j}function Nn(v,s){const h=v.tileID,p=s.tileID;return h.overscaledZ-p.overscaledZ||h.canonical.y-p.canonical.y||h.wrap-p.wrap||h.canonical.x-p.canonical.x}class cr{constructor(s,h){this.timeAdded=0,this.fadeEndTime=0,this.tileID=s,this.uid=c.uniqueId(),this.uses=0,this.tileSize=h,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(s){const h=s+this.timeAdded;h<this.fadeEndTime||(this.fadeEndTime=h)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(s){this.demTexture&&s.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(s,h,p){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",s){s.featureIndex&&(this.latestFeatureIndex=s.featureIndex,s.rawTileData?(this.latestRawTileData=s.rawTileData,this.latestFeatureIndex.rawTileData=s.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=s.collisionBoxArray,this.buckets=function(g,b){const T={};if(!b)return T;for(const E of g){const R=E.layerIds.map(B=>b.getLayer(B)).filter(Boolean);if(R.length!==0){E.layers=R,E.stateDependentLayerIds&&(E.stateDependentLayers=E.stateDependentLayerIds.map(B=>R.filter(j=>j.id===B)[0]));for(const B of R)T[B.id]=E}}return T}(s.buckets,h.style),this.hasSymbolBuckets=!1;for(const g in this.buckets){const b=this.buckets[g];if(b instanceof c.SymbolBucket){if(this.hasSymbolBuckets=!0,!p)break;b.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const g in this.buckets){const b=this.buckets[g];if(b instanceof c.SymbolBucket&&b.hasRTLText){this.hasRTLText=!0,c.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const g in this.buckets){const b=this.buckets[g];this.queryPadding=Math.max(this.queryPadding,h.style.getLayer(g).queryRadius(b))}s.imageAtlas&&(this.imageAtlas=s.imageAtlas),s.glyphAtlasImage&&(this.glyphAtlasImage=s.glyphAtlasImage)}else this.collisionBoxArray=new c.CollisionBoxArray}unloadVectorData(){for(const s in this.buckets)this.buckets[s].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(s){return this.buckets[s.id]}upload(s){for(const p in this.buckets){const g=this.buckets[p];g.uploadPending()&&g.upload(s)}const h=s.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ye(s,this.imageAtlas.image,h.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ye(s,this.glyphAtlasImage,h.ALPHA),this.glyphAtlasImage=null)}prepare(s){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(s,this.imageAtlasTexture)}queryRenderedFeatures(s,h,p,g,b,T,E,R,B,j){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:g,cameraQueryGeometry:b,scale:T,tileSize:this.tileSize,pixelPosMatrix:j,transform:R,params:E,queryPadding:this.queryPadding*B},s,h,p):{}}querySourceFeatures(s,h){const p=this.latestFeatureIndex;if(!p||!p.rawTileData)return;const g=p.loadVTLayers(),b=h&&h.sourceLayer?h.sourceLayer:"",T=g._geojsonTileLayer||g[b];if(!T)return;const E=c.createFilter(h&&h.filter),{z:R,x:B,y:j}=this.tileID.canonical,W={z:R,x:B,y:j};for(let X=0;X<T.length;X++){const se=T.feature(X);if(E.needGeometry){const ie=c.toEvaluationFeature(se,!0);if(!E.filter(new c.EvaluationParameters(this.tileID.overscaledZ),ie,this.tileID.canonical))continue}else if(!E.filter(new c.EvaluationParameters(this.tileID.overscaledZ),se))continue;const oe=p.getId(se,b),ce=new c.GeoJSONFeature(se,R,B,j,oe);ce.tile=W,s.push(ce)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(s){const h=this.expirationTime;if(s.cacheControl){const p=c.parseCacheControl(s.cacheControl);p["max-age"]&&(this.expirationTime=Date.now()+1e3*p["max-age"])}else s.expires&&(this.expirationTime=new Date(s.expires).getTime());if(this.expirationTime){const p=Date.now();let g=!1;if(this.expirationTime>p)g=!1;else if(h)if(this.expirationTime<h)g=!0;else{const b=this.expirationTime-h;b?this.expirationTime=p+Math.max(b,3e4):g=!0}else g=!0;g?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(s,h){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(s).length===0)return;const p=this.latestFeatureIndex.loadVTLayers();for(const g in this.buckets){if(!h.style.hasLayer(g))continue;const b=this.buckets[g],T=b.layers[0].sourceLayer||"_geojsonTileLayer",E=p[T],R=s[T];if(!E||!R||Object.keys(R).length===0)continue;b.update(R,E,this.imageAtlas&&this.imageAtlas.patternPositions||{});const B=h&&h.style&&h.style.getLayer(g);B&&(this.queryPadding=Math.max(this.queryPadding,B.queryRadius(b)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<c.browser.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(s){this.symbolFadeHoldUntil=c.browser.now()+s}setDependencies(s,h){const p={};for(const g of h)p[g]=!0;this.dependencies[s]=p}hasDependency(s,h){for(const p of s){const g=this.dependencies[p];if(g){for(const b of h)if(g[b])return!0}}return!1}}class _n{constructor(s,h){this.max=s,this.onRemove=h,this.reset()}reset(){for(const s in this.data)for(const h of this.data[s])h.timeout&&clearTimeout(h.timeout),this.onRemove(h.value);return this.data={},this.order=[],this}add(s,h,p){const g=s.wrapped().key;this.data[g]===void 0&&(this.data[g]=[]);const b={value:h,timeout:void 0};if(p!==void 0&&(b.timeout=setTimeout(()=>{this.remove(s,b)},p)),this.data[g].push(b),this.order.push(g),this.order.length>this.max){const T=this._getAndRemoveByKey(this.order[0]);T&&this.onRemove(T)}return this}has(s){return s.wrapped().key in this.data}getAndRemove(s){return this.has(s)?this._getAndRemoveByKey(s.wrapped().key):null}_getAndRemoveByKey(s){const h=this.data[s].shift();return h.timeout&&clearTimeout(h.timeout),this.data[s].length===0&&delete this.data[s],this.order.splice(this.order.indexOf(s),1),h.value}getByKey(s){const h=this.data[s];return h?h[0].value:null}get(s){return this.has(s)?this.data[s.wrapped().key][0].value:null}remove(s,h){if(!this.has(s))return this;const p=s.wrapped().key,g=h===void 0?0:this.data[p].indexOf(h),b=this.data[p][g];return this.data[p].splice(g,1),b.timeout&&clearTimeout(b.timeout),this.data[p].length===0&&delete this.data[p],this.onRemove(b.value),this.order.splice(this.order.indexOf(p),1),this}setMaxSize(s){for(this.max=s;this.order.length>this.max;){const h=this._getAndRemoveByKey(this.order[0]);h&&this.onRemove(h)}return this}filter(s){const h=[];for(const p in this.data)for(const g of this.data[p])s(g.value)||h.push(g);for(const p of h)this.remove(p.value.tileID,p)}}class Cn{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(s,h,p){const g=String(h);if(this.stateChanges[s]=this.stateChanges[s]||{},this.stateChanges[s][g]=this.stateChanges[s][g]||{},c.extend(this.stateChanges[s][g],p),this.deletedStates[s]===null){this.deletedStates[s]={};for(const b in this.state[s])b!==g&&(this.deletedStates[s][b]=null)}else if(this.deletedStates[s]&&this.deletedStates[s][g]===null){this.deletedStates[s][g]={};for(const b in this.state[s][g])p[b]||(this.deletedStates[s][g][b]=null)}else for(const b in p)this.deletedStates[s]&&this.deletedStates[s][g]&&this.deletedStates[s][g][b]===null&&delete this.deletedStates[s][g][b]}removeFeatureState(s,h,p){if(this.deletedStates[s]===null)return;const g=String(h);if(this.deletedStates[s]=this.deletedStates[s]||{},p&&h!==void 0)this.deletedStates[s][g]!==null&&(this.deletedStates[s][g]=this.deletedStates[s][g]||{},this.deletedStates[s][g][p]=null);else if(h!==void 0)if(this.stateChanges[s]&&this.stateChanges[s][g])for(p in this.deletedStates[s][g]={},this.stateChanges[s][g])this.deletedStates[s][g][p]=null;else this.deletedStates[s][g]=null;else this.deletedStates[s]=null}getState(s,h){const p=String(h),g=c.extend({},(this.state[s]||{})[p],(this.stateChanges[s]||{})[p]);if(this.deletedStates[s]===null)return{};if(this.deletedStates[s]){const b=this.deletedStates[s][h];if(b===null)return{};for(const T in b)delete g[T]}return g}initializeTileState(s,h){s.setFeatureState(this.state,h)}coalesceChanges(s,h){const p={};for(const g in this.stateChanges){this.state[g]=this.state[g]||{};const b={};for(const T in this.stateChanges[g])this.state[g][T]||(this.state[g][T]={}),c.extend(this.state[g][T],this.stateChanges[g][T]),b[T]=this.state[g][T];p[g]=b}for(const g in this.deletedStates){this.state[g]=this.state[g]||{};const b={};if(this.deletedStates[g]===null)for(const T in this.state[g])b[T]={},this.state[g][T]={};else for(const T in this.deletedStates[g]){if(this.deletedStates[g][T]===null)this.state[g][T]={};else for(const E of Object.keys(this.deletedStates[g][T]))delete this.state[g][T][E];b[T]=this.state[g][T]}p[g]=p[g]||{},c.extend(p[g],b)}if(this.stateChanges={},this.deletedStates={},Object.keys(p).length!==0)for(const g in s)s[g].setFeatureState(p,h)}}class on extends c.Evented{constructor(s,h,p){super(),this.id=s,this.dispatcher=p,this.on("data",g=>{g.dataType==="source"&&g.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&g.dataType==="source"&&g.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((g,b,T,E)=>{const R=new(Sn(b.type))(g,b,T,E);if(R.id!==g)throw new Error(`Expected Source id to be ${g} instead of ${R.id}`);return R})(s,h,p,this),this._tiles={},this._cache=new _n(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Cn,this._didEmitContent=!1,this._updated=!1}onAdd(s){this.map=s,this._maxTileCacheSize=s?s._maxTileCacheSize:null,this._maxTileCacheZoomLevels=s?s._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(s)}onRemove(s){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(s)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const s in this._tiles){const h=this._tiles[s];if(h.state!=="loaded"&&h.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const s=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,s&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(s,h){return this._source.loadTile(s,h)}_unloadTile(s){if(this._source.unloadTile)return this._source.unloadTile(s,()=>{})}_abortTile(s){this._source.abortTile&&this._source.abortTile(s,()=>{}),this._source.fire(new c.Event("dataabort",{tile:s,coord:s.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(s){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const h in this._tiles){const p=this._tiles[h];p.upload(s),p.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(s=>s.tileID).sort(xn).map(s=>s.key)}getRenderableIds(s){const h=[];for(const p in this._tiles)this._isIdRenderable(p,s)&&h.push(this._tiles[p]);return s?h.sort((p,g)=>{const b=p.tileID,T=g.tileID,E=new c.Point(b.canonical.x,b.canonical.y)._rotate(this.transform.angle),R=new c.Point(T.canonical.x,T.canonical.y)._rotate(this.transform.angle);return b.overscaledZ-T.overscaledZ||R.y-E.y||R.x-E.x}).map(p=>p.tileID.key):h.map(p=>p.tileID).sort(xn).map(p=>p.key)}hasRenderableParent(s){const h=this.findLoadedParent(s,0);return!!h&&this._isIdRenderable(h.tileID.key)}_isIdRenderable(s,h){return this._tiles[s]&&this._tiles[s].hasData()&&!this._coveredTiles[s]&&(h||!this._tiles[s].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const s in this._tiles)this._tiles[s].state!=="errored"&&this._reloadTile(s,"reloading")}}_reloadTile(s,h){const p=this._tiles[s];p&&(p.state!=="loading"&&(p.state=h),this._loadTile(p,this._tileLoaded.bind(this,p,s,h)))}_tileLoaded(s,h,p,g){if(g)return s.state="errored",void(g.status!==404?this._source.fire(new c.ErrorEvent(g,{tile:s})):this.update(this.transform,this.terrain));s.timeAdded=c.browser.now(),p==="expired"&&(s.refreshedUponExpiration=!0),this._setTileReloadTimer(h,s),this.getSource().type==="raster-dem"&&s.dem&&this._backfillDEM(s),this._state.initializeTileState(s,this.map?this.map.painter:null),s.aborted||this._source.fire(new c.Event("data",{dataType:"source",tile:s,coord:s.tileID}))}_backfillDEM(s){const h=this.getRenderableIds();for(let g=0;g<h.length;g++){const b=h[g];if(s.neighboringTiles&&s.neighboringTiles[b]){const T=this.getTileByID(b);p(s,T),p(T,s)}}function p(g,b){g.needsHillshadePrepare=!0,g.needsTerrainPrepare=!0;let T=b.tileID.canonical.x-g.tileID.canonical.x;const E=b.tileID.canonical.y-g.tileID.canonical.y,R=Math.pow(2,g.tileID.canonical.z),B=b.tileID.key;T===0&&E===0||Math.abs(E)>1||(Math.abs(T)>1&&(Math.abs(T+R)===1?T+=R:Math.abs(T-R)===1&&(T-=R)),b.dem&&g.dem&&(g.dem.backfillBorder(b.dem,T,E),g.neighboringTiles&&g.neighboringTiles[B]&&(g.neighboringTiles[B].backfilled=!0)))}}getTile(s){return this.getTileByID(s.key)}getTileByID(s){return this._tiles[s]}_retainLoadedChildren(s,h,p,g){for(const b in this._tiles){let T=this._tiles[b];if(g[b]||!T.hasData()||T.tileID.overscaledZ<=h||T.tileID.overscaledZ>p)continue;let E=T.tileID;for(;T&&T.tileID.overscaledZ>h+1;){const B=T.tileID.scaledTo(T.tileID.overscaledZ-1);T=this._tiles[B.key],T&&T.hasData()&&(E=B)}let R=E;for(;R.overscaledZ>h;)if(R=R.scaledTo(R.overscaledZ-1),s[R.key]){g[E.key]=E;break}}}findLoadedParent(s,h){if(s.key in this._loadedParentTiles){const p=this._loadedParentTiles[s.key];return p&&p.tileID.overscaledZ>=h?p:null}for(let p=s.overscaledZ-1;p>=h;p--){const g=s.scaledTo(p),b=this._getLoadedTile(g);if(b)return b}}_getLoadedTile(s){const h=this._tiles[s.key];return h&&h.hasData()?h:this._cache.getByKey(s.wrapped().key)}updateCacheSize(s){const h=Math.ceil(s.width/this._source.tileSize)+1,p=Math.ceil(s.height/this._source.tileSize)+1,g=Math.floor(h*p*(this._maxTileCacheZoomLevels===null?c.config.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),b=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,g):g;this._cache.setMaxSize(b)}handleWrapJump(s){const h=Math.round((s-(this._prevLng===void 0?s:this._prevLng))/360);if(this._prevLng=s,h){const p={};for(const g in this._tiles){const b=this._tiles[g];b.tileID=b.tileID.unwrapTo(b.tileID.wrap+h),p[b.tileID.key]=b}this._tiles=p;for(const g in this._timers)clearTimeout(this._timers[g]),delete this._timers[g];for(const g in this._tiles)this._setTileReloadTimer(g,this._tiles[g])}}update(s,h){if(this.transform=s,this.terrain=h,!this._sourceLoaded||this._paused)return;let p;this.updateCacheSize(s),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?p=s.getVisibleUnwrappedCoordinates(this._source.tileID).map(j=>new c.OverscaledTileID(j.canonical.z,j.wrap,j.canonical.z,j.canonical.x,j.canonical.y)):(p=s.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:h}),this._source.hasTile&&(p=p.filter(j=>this._source.hasTile(j)))):p=[];const g=s.coveringZoomLevel(this._source),b=Math.max(g-on.maxOverzooming,this._source.minzoom),T=Math.max(g+on.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const j={};for(const W of p)if(W.canonical.z>this._source.minzoom){const X=W.scaledTo(W.canonical.z-1);j[X.key]=X;const se=W.scaledTo(Math.max(this._source.minzoom,Math.min(W.canonical.z,5)));j[se.key]=se}p=p.concat(Object.values(j))}const E=p.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,E&&this.fire(new c.Event("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const R=this._updateRetainedTiles(p,g);if(sr(this._source.type)){const j={},W={},X=Object.keys(R),se=c.browser.now();for(const oe of X){const ce=R[oe],ie=this._tiles[oe];if(!ie||ie.fadeEndTime!==0&&ie.fadeEndTime<=se)continue;const xe=this.findLoadedParent(ce,b);xe&&(this._addTile(xe.tileID),j[xe.tileID.key]=xe.tileID),W[oe]=ce}this._retainLoadedChildren(W,g,T,R);for(const oe in j)R[oe]||(this._coveredTiles[oe]=!0,R[oe]=j[oe]);if(h){const oe={},ce={};for(const ie of p)this._tiles[ie.key].hasData()?oe[ie.key]=ie:ce[ie.key]=ie;for(const ie in ce){const xe=ce[ie].children(this._source.maxzoom);this._tiles[xe[0].key]&&this._tiles[xe[1].key]&&this._tiles[xe[2].key]&&this._tiles[xe[3].key]&&(oe[xe[0].key]=R[xe[0].key]=xe[0],oe[xe[1].key]=R[xe[1].key]=xe[1],oe[xe[2].key]=R[xe[2].key]=xe[2],oe[xe[3].key]=R[xe[3].key]=xe[3],delete ce[ie])}for(const ie in ce){const xe=this.findLoadedParent(ce[ie],this._source.minzoom);if(xe){oe[xe.tileID.key]=R[xe.tileID.key]=xe.tileID;for(const De in oe)oe[De].isChildOf(xe.tileID)&&delete oe[De]}}for(const ie in this._tiles)oe[ie]||(this._coveredTiles[ie]=!0)}}for(const j in R)this._tiles[j].clearFadeHold();const B=c.keysDifference(this._tiles,R);for(const j of B){const W=this._tiles[j];W.hasSymbolBuckets&&!W.holdingForFade()?W.setHoldDuration(this.map._fadeDuration):W.hasSymbolBuckets&&!W.symbolFadeFinished()||this._removeTile(j)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const s in this._tiles)this._tiles[s].holdingForFade()&&this._removeTile(s)}_updateRetainedTiles(s,h){const p={},g={},b=Math.max(h-on.maxOverzooming,this._source.minzoom),T=Math.max(h+on.maxUnderzooming,this._source.minzoom),E={};for(const R of s){const B=this._addTile(R);p[R.key]=R,B.hasData()||h<this._source.maxzoom&&(E[R.key]=R)}this._retainLoadedChildren(E,h,T,p);for(const R of s){let B=this._tiles[R.key];if(B.hasData())continue;if(h+1>this._source.maxzoom){const W=R.children(this._source.maxzoom)[0],X=this.getTile(W);if(X&&X.hasData()){p[W.key]=W;continue}}else{const W=R.children(this._source.maxzoom);if(p[W[0].key]&&p[W[1].key]&&p[W[2].key]&&p[W[3].key])continue}let j=B.wasRequested();for(let W=R.overscaledZ-1;W>=b;--W){const X=R.scaledTo(W);if(g[X.key])break;if(g[X.key]=!0,B=this.getTile(X),!B&&j&&(B=this._addTile(X)),B){const se=B.hasData();if((j||se)&&(p[X.key]=X),j=B.wasRequested(),se)break}}}return p}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const s in this._tiles){const h=[];let p,g=this._tiles[s].tileID;for(;g.overscaledZ>0;){if(g.key in this._loadedParentTiles){p=this._loadedParentTiles[g.key];break}h.push(g.key);const b=g.scaledTo(g.overscaledZ-1);if(p=this._getLoadedTile(b),p)break;g=b}for(const b of h)this._loadedParentTiles[b]=p}}_addTile(s){let h=this._tiles[s.key];if(h)return h;h=this._cache.getAndRemove(s),h&&(this._setTileReloadTimer(s.key,h),h.tileID=s,this._state.initializeTileState(h,this.map?this.map.painter:null),this._cacheTimers[s.key]&&(clearTimeout(this._cacheTimers[s.key]),delete this._cacheTimers[s.key],this._setTileReloadTimer(s.key,h)));const p=h;return h||(h=new cr(s,this._source.tileSize*s.overscaleFactor()),this._loadTile(h,this._tileLoaded.bind(this,h,s.key,h.state))),h.uses++,this._tiles[s.key]=h,p||this._source.fire(new c.Event("dataloading",{tile:h,coord:h.tileID,dataType:"source"})),h}_setTileReloadTimer(s,h){s in this._timers&&(clearTimeout(this._timers[s]),delete this._timers[s]);const p=h.getExpiryTimeout();p&&(this._timers[s]=setTimeout(()=>{this._reloadTile(s,"expired"),delete this._timers[s]},p))}_removeTile(s){const h=this._tiles[s];h&&(h.uses--,delete this._tiles[s],this._timers[s]&&(clearTimeout(this._timers[s]),delete this._timers[s]),h.uses>0||(h.hasData()&&h.state!=="reloading"?this._cache.add(h.tileID,h,h.getExpiryTimeout()):(h.aborted=!0,this._abortTile(h),this._unloadTile(h))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const s in this._tiles)this._removeTile(s);this._cache.reset()}tilesIn(s,h,p){const g=[],b=this.transform;if(!b)return g;const T=p?b.getCameraQueryGeometry(s):s,E=s.map(oe=>b.pointCoordinate(oe,this.terrain)),R=T.map(oe=>b.pointCoordinate(oe,this.terrain)),B=this.getIds();let j=1/0,W=1/0,X=-1/0,se=-1/0;for(const oe of R)j=Math.min(j,oe.x),W=Math.min(W,oe.y),X=Math.max(X,oe.x),se=Math.max(se,oe.y);for(let oe=0;oe<B.length;oe++){const ce=this._tiles[B[oe]];if(ce.holdingForFade())continue;const ie=ce.tileID,xe=Math.pow(2,b.zoom-ce.tileID.overscaledZ),De=h*ce.queryPadding*c.EXTENT/ce.tileSize/xe,he=[ie.getTilePoint(new c.MercatorCoordinate(j,W)),ie.getTilePoint(new c.MercatorCoordinate(X,se))];if(he[0].x-De<c.EXTENT&&he[0].y-De<c.EXTENT&&he[1].x+De>=0&&he[1].y+De>=0){const Se=E.map(Ue=>ie.getTilePoint(Ue)),Be=R.map(Ue=>ie.getTilePoint(Ue));g.push({tile:ce,tileID:ie,queryGeometry:Se,cameraQueryGeometry:Be,scale:xe})}}return g}getVisibleCoordinates(s){const h=this.getRenderableIds(s).map(p=>this._tiles[p].tileID);for(const p of h)p.posMatrix=this.transform.calculatePosMatrix(p.toUnwrapped());return h}hasTransition(){if(this._source.hasTransition())return!0;if(sr(this._source.type)){const s=c.browser.now();for(const h in this._tiles)if(this._tiles[h].fadeEndTime>=s)return!0}return!1}setFeatureState(s,h,p){this._state.updateState(s=s||"_geojsonTileLayer",h,p)}removeFeatureState(s,h,p){this._state.removeFeatureState(s=s||"_geojsonTileLayer",h,p)}getFeatureState(s,h){return this._state.getState(s=s||"_geojsonTileLayer",h)}setDependencies(s,h,p){const g=this._tiles[s];g&&g.setDependencies(h,p)}reloadTilesForDependencies(s,h){for(const p in this._tiles)this._tiles[p].hasDependency(s,h)&&this._reloadTile(p,"reloading");this._cache.filter(p=>!p.hasDependency(s,h))}}function xn(v,s){const h=Math.abs(2*v.wrap)-+(v.wrap<0),p=Math.abs(2*s.wrap)-+(s.wrap<0);return v.overscaledZ-s.overscaledZ||p-h||s.canonical.y-v.canonical.y||s.canonical.x-v.canonical.x}function sr(v){return v==="raster"||v==="image"||v==="video"}on.maxOverzooming=10,on.maxUnderzooming=3;const nt="mapboxgl_preloaded_worker_pool";class bn{constructor(){this.active={}}acquire(s){if(!this.workers)for(this.workers=[];this.workers.length<bn.workerCount;)this.workers.push(new Worker(c.config.WORKER_URL));return this.active[s]=!0,this.workers.slice()}release(s){delete this.active[s],this.numActive()===0&&(this.workers.forEach(h=>{h.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[nt]}numActive(){return Object.keys(this.active).length}}const Fn=Math.floor(c.browser.hardwareConcurrency/2);let an;function Wt(){return an||(an=new bn),an}bn.workerCount=c.isSafari(globalThis)?Math.max(Math.min(Fn,3),1):1;class je{constructor(s,h){this.reset(s,h)}reset(s,h){this.points=s||[],this._distances=[0];for(let p=1;p<this.points.length;p++)this._distances[p]=this._distances[p-1]+this.points[p].dist(this.points[p-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(h||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(s){if(this.points.length===1)return this.points[0];s=c.clamp(s,0,1);let h=1,p=this._distances[h];const g=s*this.paddedLength+this.padding;for(;p<g&&h<this._distances.length;)p=this._distances[++h];const b=h-1,T=this._distances[b],E=p-T,R=E>0?(g-T)/E:0;return this.points[b].mult(1-R).add(this.points[h].mult(R))}}function wt(v,s){let h=!0;return v==="always"||v!=="never"&&s!=="never"||(h=!1),h}class Tt{constructor(s,h,p){const g=this.boxCells=[],b=this.circleCells=[];this.xCellCount=Math.ceil(s/p),this.yCellCount=Math.ceil(h/p);for(let T=0;T<this.xCellCount*this.yCellCount;T++)g.push([]),b.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=s,this.height=h,this.xScale=this.xCellCount/s,this.yScale=this.yCellCount/h,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(s,h,p,g,b){this._forEachCell(h,p,g,b,this._insertBoxCell,this.boxUid++),this.boxKeys.push(s),this.bboxes.push(h),this.bboxes.push(p),this.bboxes.push(g),this.bboxes.push(b)}insertCircle(s,h,p,g){this._forEachCell(h-g,p-g,h+g,p+g,this._insertCircleCell,this.circleUid++),this.circleKeys.push(s),this.circles.push(h),this.circles.push(p),this.circles.push(g)}_insertBoxCell(s,h,p,g,b,T){this.boxCells[b].push(T)}_insertCircleCell(s,h,p,g,b,T){this.circleCells[b].push(T)}_query(s,h,p,g,b,T,E){if(p<0||s>this.width||g<0||h>this.height)return[];const R=[];if(s<=0&&h<=0&&this.width<=p&&this.height<=g){if(b)return[{key:null,x1:s,y1:h,x2:p,y2:g}];for(let B=0;B<this.boxKeys.length;B++)R.push({key:this.boxKeys[B],x1:this.bboxes[4*B],y1:this.bboxes[4*B+1],x2:this.bboxes[4*B+2],y2:this.bboxes[4*B+3]});for(let B=0;B<this.circleKeys.length;B++){const j=this.circles[3*B],W=this.circles[3*B+1],X=this.circles[3*B+2];R.push({key:this.circleKeys[B],x1:j-X,y1:W-X,x2:j+X,y2:W+X})}}else this._forEachCell(s,h,p,g,this._queryCell,R,{hitTest:b,overlapMode:T,seenUids:{box:{},circle:{}}},E);return R}query(s,h,p,g){return this._query(s,h,p,g,!1,null)}hitTest(s,h,p,g,b,T){return this._query(s,h,p,g,!0,b,T).length>0}hitTestCircle(s,h,p,g,b){const T=s-p,E=s+p,R=h-p,B=h+p;if(E<0||T>this.width||B<0||R>this.height)return!1;const j=[];return this._forEachCell(T,R,E,B,this._queryCellCircle,j,{hitTest:!0,overlapMode:g,circle:{x:s,y:h,radius:p},seenUids:{box:{},circle:{}}},b),j.length>0}_queryCell(s,h,p,g,b,T,E,R){const{seenUids:B,hitTest:j,overlapMode:W}=E,X=this.boxCells[b];if(X!==null){const oe=this.bboxes;for(const ce of X)if(!B.box[ce]){B.box[ce]=!0;const ie=4*ce,xe=this.boxKeys[ce];if(s<=oe[ie+2]&&h<=oe[ie+3]&&p>=oe[ie+0]&&g>=oe[ie+1]&&(!R||R(xe))&&(!j||!wt(W,xe.overlapMode))&&(T.push({key:xe,x1:oe[ie],y1:oe[ie+1],x2:oe[ie+2],y2:oe[ie+3]}),j))return!0}}const se=this.circleCells[b];if(se!==null){const oe=this.circles;for(const ce of se)if(!B.circle[ce]){B.circle[ce]=!0;const ie=3*ce,xe=this.circleKeys[ce];if(this._circleAndRectCollide(oe[ie],oe[ie+1],oe[ie+2],s,h,p,g)&&(!R||R(xe))&&(!j||!wt(W,xe.overlapMode))){const De=oe[ie],he=oe[ie+1],Se=oe[ie+2];if(T.push({key:xe,x1:De-Se,y1:he-Se,x2:De+Se,y2:he+Se}),j)return!0}}}return!1}_queryCellCircle(s,h,p,g,b,T,E,R){const{circle:B,seenUids:j,overlapMode:W}=E,X=this.boxCells[b];if(X!==null){const oe=this.bboxes;for(const ce of X)if(!j.box[ce]){j.box[ce]=!0;const ie=4*ce,xe=this.boxKeys[ce];if(this._circleAndRectCollide(B.x,B.y,B.radius,oe[ie+0],oe[ie+1],oe[ie+2],oe[ie+3])&&(!R||R(xe))&&!wt(W,xe.overlapMode))return T.push(!0),!0}}const se=this.circleCells[b];if(se!==null){const oe=this.circles;for(const ce of se)if(!j.circle[ce]){j.circle[ce]=!0;const ie=3*ce,xe=this.circleKeys[ce];if(this._circlesCollide(oe[ie],oe[ie+1],oe[ie+2],B.x,B.y,B.radius)&&(!R||R(xe))&&!wt(W,xe.overlapMode))return T.push(!0),!0}}}_forEachCell(s,h,p,g,b,T,E,R){const B=this._convertToXCellCoord(s),j=this._convertToYCellCoord(h),W=this._convertToXCellCoord(p),X=this._convertToYCellCoord(g);for(let se=B;se<=W;se++)for(let oe=j;oe<=X;oe++)if(b.call(this,s,h,p,g,this.xCellCount*oe+se,T,E,R))return}_convertToXCellCoord(s){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(s*this.xScale)))}_convertToYCellCoord(s){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(s*this.yScale)))}_circlesCollide(s,h,p,g,b,T){const E=g-s,R=b-h,B=p+T;return B*B>E*E+R*R}_circleAndRectCollide(s,h,p,g,b,T,E){const R=(T-g)/2,B=Math.abs(s-(g+R));if(B>R+p)return!1;const j=(E-b)/2,W=Math.abs(h-(b+j));if(W>j+p)return!1;if(B<=R||W<=j)return!0;const X=B-R,se=W-j;return X*X+se*se<=p*p}}function Bn(v,s,h,p,g){const b=c.create();return s?(c.scale(b,b,[1/g,1/g,1]),h||c.rotateZ(b,b,p.angle)):c.multiply(b,p.labelPlaneMatrix,v),b}function Pi(v,s,h,p,g){if(s){const b=c.clone(v);return c.scale(b,b,[g,g,1]),h||c.rotateZ(b,b,-p.angle),b}return p.glCoordMatrix}function Vt(v,s,h){let p;h?(p=[v.x,v.y,h(v.x,v.y),1],c.transformMat4(p,p,s)):(p=[v.x,v.y,0,1],ue(p,p,s));const g=p[3];return{point:new c.Point(p[0]/g,p[1]/g),signedDistanceFromCamera:g}}function Li(v,s){return .5+v/s*.5}function io(v,s){const h=v[0]/v[3],p=v[1]/v[3];return h>=-s[0]&&h<=s[0]&&p>=-s[1]&&p<=s[1]}function Uo(v,s,h,p,g,b,T,E,R,B){const j=p?v.textSizeData:v.iconSizeData,W=c.evaluateSizeForZoom(j,h.transform.zoom),X=[256/h.width*2+1,256/h.height*2+1],se=p?v.text.dynamicLayoutVertexArray:v.icon.dynamicLayoutVertexArray;se.clear();const oe=v.lineVertexArray,ce=p?v.text.placedSymbolArray:v.icon.placedSymbolArray,ie=h.transform.width/h.transform.height;let xe=!1;for(let De=0;De<ce.length;De++){const he=ce.get(De);if(he.hidden||he.writingMode===c.WritingMode.vertical&&!xe){re(he.numGlyphs,se);continue}let Se;if(xe=!1,B?(Se=[he.anchorX,he.anchorY,B(he.anchorX,he.anchorY),1],c.transformMat4(Se,Se,s)):(Se=[he.anchorX,he.anchorY,0,1],ue(Se,Se,s)),!io(Se,X)){re(he.numGlyphs,se);continue}const Be=Li(h.transform.cameraToCenterDistance,Se[3]),Ue=c.evaluateSizeForFeature(j,W,he),He=T?Ue/Be:Ue*Be,rt=new c.Point(he.anchorX,he.anchorY),Je=Vt(rt,g,B).point,at={projections:{},offsets:{}},At=Xr(he,He,!1,E,s,g,b,v.glyphOffsetArray,oe,se,Je,rt,at,ie,R,B);xe=At.useVertical,(At.notEnoughRoom||xe||At.needsFlipping&&Xr(he,He,!0,E,s,g,b,v.glyphOffsetArray,oe,se,Je,rt,at,ie,R,B).notEnoughRoom)&&re(he.numGlyphs,se)}p?v.text.dynamicLayoutVertexBuffer.updateData(se):v.icon.dynamicLayoutVertexBuffer.updateData(se)}function $i(v,s,h,p,g,b,T,E,R,B,j,W,X){const se=E.glyphStartIndex+E.numGlyphs,oe=E.lineStartIndex,ce=E.lineStartIndex+E.lineLength,ie=s.getoffsetX(E.glyphStartIndex),xe=s.getoffsetX(se-1),De=H(v*ie,h,p,g,b,T,E.segment,oe,ce,R,B,j,W,X);if(!De)return null;const he=H(v*xe,h,p,g,b,T,E.segment,oe,ce,R,B,j,W,X);return he?{first:De,last:he}:null}function fs(v,s,h,p){return v===c.WritingMode.horizontal&&Math.abs(h.y-s.y)>Math.abs(h.x-s.x)*p?{useVertical:!0}:(v===c.WritingMode.vertical?s.y<h.y:s.x>h.x)?{needsFlipping:!0}:null}function Xr(v,s,h,p,g,b,T,E,R,B,j,W,X,se,oe,ce){const ie=s/24,xe=v.lineOffsetX*ie,De=v.lineOffsetY*ie;let he;if(v.numGlyphs>1){const Se=v.glyphStartIndex+v.numGlyphs,Be=v.lineStartIndex,Ue=v.lineStartIndex+v.lineLength,He=$i(ie,E,xe,De,h,j,W,v,R,b,X,oe,ce);if(!He)return{notEnoughRoom:!0};const rt=Vt(He.first.point,T,ce).point,Je=Vt(He.last.point,T,ce).point;if(p&&!h){const at=fs(v.writingMode,rt,Je,se);if(at)return at}he=[He.first];for(let at=v.glyphStartIndex+1;at<Se-1;at++)he.push(H(ie*E.getoffsetX(at),xe,De,h,j,W,v.segment,Be,Ue,R,b,X,oe,ce));he.push(He.last)}else{if(p&&!h){const Be=Vt(W,g,ce).point,Ue=v.lineStartIndex+v.segment+1,He=new c.Point(R.getx(Ue),R.gety(Ue)),rt=Vt(He,g,ce),Je=rt.signedDistanceFromCamera>0?rt.point:On(W,He,Be,1,g,ce),at=fs(v.writingMode,Be,Je,se);if(at)return at}const Se=H(ie*E.getoffsetX(v.glyphStartIndex),xe,De,h,j,W,v.segment,v.lineStartIndex,v.lineStartIndex+v.lineLength,R,b,X,oe,ce);if(!Se)return{notEnoughRoom:!0};he=[Se]}for(const Se of he)c.addDynamicAttributes(B,Se.point,Se.angle);return{}}function On(v,s,h,p,g,b){const T=Vt(v.add(v.sub(s)._unit()),g,b).point,E=h.sub(T);return h.add(E._mult(p/E.mag()))}function ya(v,s){const{projectionCache:h,lineVertexArray:p,labelPlaneMatrix:g,tileAnchorPoint:b,distanceFromAnchor:T,getElevation:E,previousVertex:R,direction:B,absOffsetX:j}=s;if(h.projections[v])return h.projections[v];const W=new c.Point(p.getx(v),p.gety(v)),X=Vt(W,g,E);if(X.signedDistanceFromCamera>0)return h.projections[v]=X.point,X.point;const se=v-B;return On(T===0?b:new c.Point(p.getx(se),p.gety(se)),W,R,j-T+1,g,E)}function oo(v,s,h){return v._unit()._perp()._mult(s*h)}function le(v,s,h,p,g,b,T,E){const{projectionCache:R,direction:B}=E;if(R.offsets[v])return R.offsets[v];const j=h.add(s);if(v+B<p||v+B>=g)return R.offsets[v]=j,j;const W=ya(v+B,E),X=oo(W.sub(h),T,B),se=h.add(X),oe=W.add(X);return R.offsets[v]=c.findLineIntersection(b,j,se,oe)||j,R.offsets[v]}function H(v,s,h,p,g,b,T,E,R,B,j,W,X,se){const oe=p?v-s:v+s;let ce=oe>0?1:-1,ie=0;p&&(ce*=-1,ie=Math.PI),ce<0&&(ie+=Math.PI);let xe,De,he=ce>0?E+T:E+T+1,Se=g,Be=g,Ue=0,He=0;const rt=Math.abs(oe),Je=[];let at;for(;Ue+He<=rt;){if(he+=ce,he<E||he>=R)return null;Ue+=He,Be=Se,De=xe;const ft={projectionCache:W,lineVertexArray:B,labelPlaneMatrix:j,tileAnchorPoint:b,distanceFromAnchor:Ue,getElevation:se,previousVertex:Be,direction:ce,absOffsetX:rt};if(Se=ya(he,ft),h===0)Je.push(Be),at=Se.sub(Be);else{let Gt;const kt=Se.sub(Be);Gt=kt.mag()===0?oo(ya(he+ce,ft).sub(Se),h,ce):oo(kt,h,ce),De||(De=Be.add(Gt)),xe=le(he,Gt,Se,E,R,De,h,ft),Je.push(De),at=xe.sub(De)}He=at.mag()}const At=at._mult((rt-Ue)/He)._add(De||Be),hn=ie+Math.atan2(Se.y-Be.y,Se.x-Be.x);return Je.push(At),{point:At,angle:X?hn:0,path:Je}}const K=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function re(v,s){for(let h=0;h<v;h++){const p=s.length;s.resize(p+4),s.float32.set(K,3*p)}}function ue(v,s,h){const p=s[0],g=s[1];return v[0]=h[0]*p+h[4]*g+h[12],v[1]=h[1]*p+h[5]*g+h[13],v[3]=h[3]*p+h[7]*g+h[15],v}const pe=100;class we{constructor(s,h=new Tt(s.width+200,s.height+200,25),p=new Tt(s.width+200,s.height+200,25)){this.transform=s,this.grid=h,this.ignoredGrid=p,this.pitchfactor=Math.cos(s._pitch)*s.cameraToCenterDistance,this.screenRightBoundary=s.width+pe,this.screenBottomBoundary=s.height+pe,this.gridRightBoundary=s.width+200,this.gridBottomBoundary=s.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(s,h,p,g,b,T){const E=this.projectAndGetPerspectiveRatio(g,s.anchorPointX,s.anchorPointY,T),R=p*E.perspectiveRatio,B=s.x1*R+E.point.x,j=s.y1*R+E.point.y,W=s.x2*R+E.point.x,X=s.y2*R+E.point.y;return!this.isInsideGrid(B,j,W,X)||h!=="always"&&this.grid.hitTest(B,j,W,X,h,b)||E.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[B,j,W,X],offscreen:this.isOffscreen(B,j,W,X)}}placeCollisionCircles(s,h,p,g,b,T,E,R,B,j,W,X,se,oe){const ce=[],ie=new c.Point(h.anchorX,h.anchorY),xe=Vt(ie,T,oe),De=Li(this.transform.cameraToCenterDistance,xe.signedDistanceFromCamera),he=(j?b/De:b*De)/c.ONE_EM,Se=Vt(ie,E,oe).point,Be=$i(he,g,h.lineOffsetX*he,h.lineOffsetY*he,!1,Se,ie,h,p,E,{projections:{},offsets:{}},!1,oe);let Ue=!1,He=!1,rt=!0;if(Be){const Je=.5*X*De+se,at=new c.Point(-100,-100),At=new c.Point(this.screenRightBoundary,this.screenBottomBoundary),hn=new je,ft=Be.first,Gt=Be.last;let kt=[];for(let sn=ft.path.length-1;sn>=1;sn--)kt.push(ft.path[sn]);for(let sn=1;sn<Gt.path.length;sn++)kt.push(Gt.path[sn]);const Hn=2.5*Je;if(R){const sn=kt.map(Ht=>Vt(Ht,R,oe));kt=sn.some(Ht=>Ht.signedDistanceFromCamera<=0)?[]:sn.map(Ht=>Ht.point)}let un=[];if(kt.length>0){const sn=kt[0].clone(),Ht=kt[0].clone();for(let br=1;br<kt.length;br++)sn.x=Math.min(sn.x,kt[br].x),sn.y=Math.min(sn.y,kt[br].y),Ht.x=Math.max(Ht.x,kt[br].x),Ht.y=Math.max(Ht.y,kt[br].y);un=sn.x>=at.x&&Ht.x<=At.x&&sn.y>=at.y&&Ht.y<=At.y?[kt]:Ht.x<at.x||sn.x>At.x||Ht.y<at.y||sn.y>At.y?[]:c.clipLine([kt],at.x,at.y,At.x,At.y)}for(const sn of un){hn.reset(sn,.25*Je);let Ht=0;Ht=hn.length<=.5*Je?1:Math.ceil(hn.paddedLength/Hn)+1;for(let br=0;br<Ht;br++){const zn=br/Math.max(Ht-1,1),Ii=hn.lerp(zn),oi=Ii.x+pe,$r=Ii.y+pe;ce.push(oi,$r,Je,0);const Fi=oi-Je,Wo=$r-Je,Vs=oi+Je,Ws=$r+Je;if(rt=rt&&this.isOffscreen(Fi,Wo,Vs,Ws),He=He||this.isInsideGrid(Fi,Wo,Vs,Ws),s!=="always"&&this.grid.hitTestCircle(oi,$r,Je,s,W)&&(Ue=!0,!B))return{circles:[],offscreen:!1,collisionDetected:Ue}}}}return{circles:!B&&Ue||!He||De<this.perspectiveRatioCutoff?[]:ce,offscreen:rt,collisionDetected:Ue}}queryRenderedSymbols(s){if(s.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const h=[];let p=1/0,g=1/0,b=-1/0,T=-1/0;for(const j of s){const W=new c.Point(j.x+pe,j.y+pe);p=Math.min(p,W.x),g=Math.min(g,W.y),b=Math.max(b,W.x),T=Math.max(T,W.y),h.push(W)}const E=this.grid.query(p,g,b,T).concat(this.ignoredGrid.query(p,g,b,T)),R={},B={};for(const j of E){const W=j.key;if(R[W.bucketInstanceId]===void 0&&(R[W.bucketInstanceId]={}),R[W.bucketInstanceId][W.featureIndex])continue;const X=[new c.Point(j.x1,j.y1),new c.Point(j.x2,j.y1),new c.Point(j.x2,j.y2),new c.Point(j.x1,j.y2)];c.polygonIntersectsPolygon(h,X)&&(R[W.bucketInstanceId][W.featureIndex]=!0,B[W.bucketInstanceId]===void 0&&(B[W.bucketInstanceId]=[]),B[W.bucketInstanceId].push(W.featureIndex))}return B}insertCollisionBox(s,h,p,g,b,T){(p?this.ignoredGrid:this.grid).insert({bucketInstanceId:g,featureIndex:b,collisionGroupID:T,overlapMode:h},s[0],s[1],s[2],s[3])}insertCollisionCircles(s,h,p,g,b,T){const E=p?this.ignoredGrid:this.grid,R={bucketInstanceId:g,featureIndex:b,collisionGroupID:T,overlapMode:h};for(let B=0;B<s.length;B+=4)E.insertCircle(R,s[B],s[B+1],s[B+2])}projectAndGetPerspectiveRatio(s,h,p,g){let b;return g?(b=[h,p,g(h,p),1],c.transformMat4(b,b,s)):(b=[h,p,0,1],ue(b,b,s)),{point:new c.Point((b[0]/b[3]+1)/2*this.transform.width+pe,(-b[1]/b[3]+1)/2*this.transform.height+pe),perspectiveRatio:.5+this.transform.cameraToCenterDistance/b[3]*.5}}isOffscreen(s,h,p,g){return p<pe||s>=this.screenRightBoundary||g<pe||h>this.screenBottomBoundary}isInsideGrid(s,h,p,g){return p>=0&&s<this.gridRightBoundary&&g>=0&&h<this.gridBottomBoundary}getViewportMatrix(){const s=c.identity([]);return c.translate(s,s,[-100,-100,0]),s}}function ve(v,s,h){return s*(c.EXTENT/(v.tileSize*Math.pow(2,h-v.tileID.overscaledZ)))}class me{constructor(s,h,p,g){this.opacity=s?Math.max(0,Math.min(1,s.opacity+(s.placed?h:-h))):g&&p?1:0,this.placed=p}isHidden(){return this.opacity===0&&!this.placed}}class Te{constructor(s,h,p,g,b){this.text=new me(s?s.text:null,h,p,b),this.icon=new me(s?s.icon:null,h,g,b)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class We{constructor(s,h,p){this.text=s,this.icon=h,this.skipFade=p}}class Ge{constructor(){this.invProjMatrix=c.create(),this.viewportMatrix=c.create(),this.circles=[]}}class Xe{constructor(s,h,p,g,b){this.bucketInstanceId=s,this.featureIndex=h,this.sourceLayerIndex=p,this.bucketIndex=g,this.tileID=b}}class Lt{constructor(s){this.crossSourceCollisions=s,this.maxGroupID=0,this.collisionGroups={}}get(s){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[s]){const h=++this.maxGroupID;this.collisionGroups[s]={ID:h,predicate:p=>p.collisionGroupID===h}}return this.collisionGroups[s]}}function Xt(v,s,h,p,g){const{horizontalAlign:b,verticalAlign:T}=c.getAnchorAlignment(v);return new c.Point(-(b-.5)*s+p[0]*g,-(T-.5)*h+p[1]*g)}function Et(v,s,h,p,g,b){const{x1:T,x2:E,y1:R,y2:B,anchorPointX:j,anchorPointY:W}=v,X=new c.Point(s,h);return p&&X._rotate(g?b:-b),{x1:T+X.x,y1:R+X.y,x2:E+X.x,y2:B+X.y,anchorPointX:j,anchorPointY:W}}class $t{constructor(s,h,p,g,b){this.transform=s.clone(),this.terrain=h,this.collisionIndex=new we(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=p,this.retainedQueryData={},this.collisionGroups=new Lt(g),this.collisionCircleArrays={},this.prevPlacement=b,b&&(b.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(s,h,p,g){const b=p.getBucket(h),T=p.latestFeatureIndex;if(!b||!T||h.id!==b.layerIds[0])return;const E=p.collisionBoxArray,R=b.layers[0].layout,B=Math.pow(2,this.transform.zoom-p.tileID.overscaledZ),j=p.tileSize/c.EXTENT,W=this.transform.calculatePosMatrix(p.tileID.toUnwrapped()),X=R.get("text-pitch-alignment")==="map",se=R.get("text-rotation-alignment")==="map",oe=ve(p,1,this.transform.zoom),ce=Bn(W,X,se,this.transform,oe);let ie=null;if(X){const De=Pi(W,X,se,this.transform,oe);ie=c.multiply([],this.transform.labelPlaneMatrix,De)}this.retainedQueryData[b.bucketInstanceId]=new Xe(b.bucketInstanceId,T,b.sourceLayerIndex,b.index,p.tileID);const xe={bucket:b,layout:R,posMatrix:W,textLabelPlaneMatrix:ce,labelToScreenMatrix:ie,scale:B,textPixelRatio:j,holdingForFade:p.holdingForFade(),collisionBoxArray:E,partiallyEvaluatedTextSize:c.evaluateSizeForZoom(b.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(b.sourceID)};if(g)for(const De of b.sortKeyRanges){const{sortKey:he,symbolInstanceStart:Se,symbolInstanceEnd:Be}=De;s.push({sortKey:he,symbolInstanceStart:Se,symbolInstanceEnd:Be,parameters:xe})}else s.push({symbolInstanceStart:0,symbolInstanceEnd:b.symbolInstances.length,parameters:xe})}attemptAnchorPlacement(s,h,p,g,b,T,E,R,B,j,W,X,se,oe,ce,ie){const xe=c.TextAnchorEnum[s.textAnchor],De=[s.textOffset0,s.textOffset1],he=Xt(xe,p,g,De,b),Se=this.collisionIndex.placeCollisionBox(Et(h,he.x,he.y,T,E,this.transform.angle),W,R,B,j.predicate,ie);if((!ce||this.collisionIndex.placeCollisionBox(Et(ce,he.x,he.y,T,E,this.transform.angle),W,R,B,j.predicate,ie).box.length!==0)&&Se.box.length>0){let Be;if(this.prevPlacement&&this.prevPlacement.variableOffsets[X.crossTileID]&&this.prevPlacement.placements[X.crossTileID]&&this.prevPlacement.placements[X.crossTileID].text&&(Be=this.prevPlacement.variableOffsets[X.crossTileID].anchor),X.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[X.crossTileID]={textOffset:De,width:p,height:g,anchor:xe,textBoxScale:b,prevAnchor:Be},this.markUsedJustification(se,xe,X,oe),se.allowVerticalPlacement&&(this.markUsedOrientation(se,oe,X),this.placedOrientations[X.crossTileID]=oe),{shift:he,placedGlyphBoxes:Se}}}placeLayerBucketPart(s,h,p){const{bucket:g,layout:b,posMatrix:T,textLabelPlaneMatrix:E,labelToScreenMatrix:R,textPixelRatio:B,holdingForFade:j,collisionBoxArray:W,partiallyEvaluatedTextSize:X,collisionGroup:se}=s.parameters,oe=b.get("text-optional"),ce=b.get("icon-optional"),ie=c.getOverlapMode(b,"text-overlap","text-allow-overlap"),xe=ie==="always",De=c.getOverlapMode(b,"icon-overlap","icon-allow-overlap"),he=De==="always",Se=b.get("text-rotation-alignment")==="map",Be=b.get("text-pitch-alignment")==="map",Ue=b.get("icon-text-fit")!=="none",He=b.get("symbol-z-order")==="viewport-y",rt=xe&&(he||!g.hasIconData()||ce),Je=he&&(xe||!g.hasTextData()||oe);!g.collisionArrays&&W&&g.deserializeCollisionBoxes(W);const at=this.retainedQueryData[g.bucketInstanceId].tileID,At=this.terrain?(ft,Gt)=>this.terrain.getElevation(at,ft,Gt):null,hn=(ft,Gt)=>{var kt,Hn;if(h[ft.crossTileID])return;if(j)return void(this.placements[ft.crossTileID]=new We(!1,!1,!1));let un=!1,sn=!1,Ht=!0,br=null,zn={box:null,offscreen:null},Ii={box:null,offscreen:null},oi=null,$r=null,Fi=null,Wo=0,Vs=0,Ws=0;Gt.textFeatureIndex?Wo=Gt.textFeatureIndex:ft.useRuntimeCollisionCircles&&(Wo=ft.featureIndex),Gt.verticalTextFeatureIndex&&(Vs=Gt.verticalTextFeatureIndex);const Sa=Gt.textBox;if(Sa){const si=Wr=>{let li=c.WritingMode.horizontal;if(g.allowVerticalPlacement&&!Wr&&this.prevPlacement){const Bi=this.prevPlacement.placedOrientations[ft.crossTileID];Bi&&(this.placedOrientations[ft.crossTileID]=Bi,li=Bi,this.markUsedOrientation(g,li,ft))}return li},wr=(Wr,li)=>{if(g.allowVerticalPlacement&&ft.numVerticalGlyphVertices>0&&Gt.verticalTextBox){for(const Bi of g.writingModes)if(Bi===c.WritingMode.vertical?(zn=li(),Ii=zn):zn=Wr(),zn&&zn.box&&zn.box.length)break}else zn=Wr()},ai=ft.textAnchorOffsetStartIndex,nc=ft.textAnchorOffsetEndIndex;if(nc===ai){const Wr=(li,Bi)=>{const pr=this.collisionIndex.placeCollisionBox(li,ie,B,T,se.predicate,At);return pr&&pr.box&&pr.box.length&&(this.markUsedOrientation(g,Bi,ft),this.placedOrientations[ft.crossTileID]=Bi),pr};wr(()=>Wr(Sa,c.WritingMode.horizontal),()=>{const li=Gt.verticalTextBox;return g.allowVerticalPlacement&&ft.numVerticalGlyphVertices>0&&li?Wr(li,c.WritingMode.vertical):{box:null,offscreen:null}}),si(zn&&zn.box&&zn.box.length)}else{let Wr=c.TextAnchorEnum[(Hn=(kt=this.prevPlacement)===null||kt===void 0?void 0:kt.variableOffsets[ft.crossTileID])===null||Hn===void 0?void 0:Hn.anchor];const li=(pr,rc,qs)=>{const qo=pr.x2-pr.x1,Ta=pr.y2-pr.y1,Dy=ft.textBoxScale,hl=Ue&&De==="never"?rc:null;let ic={box:[],offscreen:!1},Ep=ie==="never"?1:2,mr="never";Wr&&Ep++;for(let Qd=0;Qd<Ep;Qd++){for(let eh=ai;eh<nc;eh++){const ka=g.textAnchorOffsets.get(eh);if(Wr&&ka.textAnchor!==Wr)continue;const Gs=this.attemptAnchorPlacement(ka,pr,qo,Ta,Dy,Se,Be,B,T,se,mr,ft,g,qs,hl,At);if(Gs&&(ic=Gs.placedGlyphBoxes,ic&&ic.box&&ic.box.length))return un=!0,br=Gs.shift,ic}Wr?Wr=null:mr=ie}return ic};wr(()=>li(Sa,Gt.iconBox,c.WritingMode.horizontal),()=>{const pr=Gt.verticalTextBox;return g.allowVerticalPlacement&&!(zn&&zn.box&&zn.box.length)&&ft.numVerticalGlyphVertices>0&&pr?li(pr,Gt.verticalIconBox,c.WritingMode.vertical):{box:null,offscreen:null}}),zn&&(un=zn.box,Ht=zn.offscreen);const Bi=si(zn&&zn.box);if(!un&&this.prevPlacement){const pr=this.prevPlacement.variableOffsets[ft.crossTileID];pr&&(this.variableOffsets[ft.crossTileID]=pr,this.markUsedJustification(g,pr.anchor,ft,Bi))}}}if(oi=zn,un=oi&&oi.box&&oi.box.length>0,Ht=oi&&oi.offscreen,ft.useRuntimeCollisionCircles){const si=g.text.placedSymbolArray.get(ft.centerJustifiedTextSymbolIndex),wr=c.evaluateSizeForFeature(g.textSizeData,X,si),ai=b.get("text-padding");$r=this.collisionIndex.placeCollisionCircles(ie,si,g.lineVertexArray,g.glyphOffsetArray,wr,T,E,R,p,Be,se.predicate,ft.collisionCircleDiameter,ai,At),$r.circles.length&&$r.collisionDetected&&!p&&c.warnOnce("Collisions detected, but collision boxes are not shown"),un=xe||$r.circles.length>0&&!$r.collisionDetected,Ht=Ht&&$r.offscreen}if(Gt.iconFeatureIndex&&(Ws=Gt.iconFeatureIndex),Gt.iconBox){const si=wr=>{const ai=Ue&&br?Et(wr,br.x,br.y,Se,Be,this.transform.angle):wr;return this.collisionIndex.placeCollisionBox(ai,De,B,T,se.predicate,At)};Ii&&Ii.box&&Ii.box.length&&Gt.verticalIconBox?(Fi=si(Gt.verticalIconBox),sn=Fi.box.length>0):(Fi=si(Gt.iconBox),sn=Fi.box.length>0),Ht=Ht&&Fi.offscreen}const dl=oe||ft.numHorizontalGlyphVertices===0&&ft.numVerticalGlyphVertices===0,Ca=ce||ft.numIconVertices===0;if(dl||Ca?Ca?dl||(sn=sn&&un):un=sn&&un:sn=un=sn&&un,un&&oi&&oi.box&&this.collisionIndex.insertCollisionBox(oi.box,ie,b.get("text-ignore-placement"),g.bucketInstanceId,Ii&&Ii.box&&Vs?Vs:Wo,se.ID),sn&&Fi&&this.collisionIndex.insertCollisionBox(Fi.box,De,b.get("icon-ignore-placement"),g.bucketInstanceId,Ws,se.ID),$r&&(un&&this.collisionIndex.insertCollisionCircles($r.circles,ie,b.get("text-ignore-placement"),g.bucketInstanceId,Wo,se.ID),p)){const si=g.bucketInstanceId;let wr=this.collisionCircleArrays[si];wr===void 0&&(wr=this.collisionCircleArrays[si]=new Ge);for(let ai=0;ai<$r.circles.length;ai+=4)wr.circles.push($r.circles[ai+0]),wr.circles.push($r.circles[ai+1]),wr.circles.push($r.circles[ai+2]),wr.circles.push($r.collisionDetected?1:0)}if(ft.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(g.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[ft.crossTileID]=new We(un||rt,sn||Je,Ht||g.justReloaded),h[ft.crossTileID]=!0};if(He){if(s.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const ft=g.getSortedSymbolIndexes(this.transform.angle);for(let Gt=ft.length-1;Gt>=0;--Gt){const kt=ft[Gt];hn(g.symbolInstances.get(kt),g.collisionArrays[kt])}}else for(let ft=s.symbolInstanceStart;ft<s.symbolInstanceEnd;ft++)hn(g.symbolInstances.get(ft),g.collisionArrays[ft]);if(p&&g.bucketInstanceId in this.collisionCircleArrays){const ft=this.collisionCircleArrays[g.bucketInstanceId];c.invert(ft.invProjMatrix,T),ft.viewportMatrix=this.collisionIndex.getViewportMatrix()}g.justReloaded=!1}markUsedJustification(s,h,p,g){let b;b=g===c.WritingMode.vertical?p.verticalPlacedTextSymbolIndex:{left:p.leftJustifiedTextSymbolIndex,center:p.centerJustifiedTextSymbolIndex,right:p.rightJustifiedTextSymbolIndex}[c.getAnchorJustification(h)];const T=[p.leftJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.rightJustifiedTextSymbolIndex,p.verticalPlacedTextSymbolIndex];for(const E of T)E>=0&&(s.text.placedSymbolArray.get(E).crossTileID=b>=0&&E!==b?0:p.crossTileID)}markUsedOrientation(s,h,p){const g=h===c.WritingMode.horizontal||h===c.WritingMode.horizontalOnly?h:0,b=h===c.WritingMode.vertical?h:0,T=[p.leftJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.rightJustifiedTextSymbolIndex];for(const E of T)s.text.placedSymbolArray.get(E).placedOrientation=g;p.verticalPlacedTextSymbolIndex&&(s.text.placedSymbolArray.get(p.verticalPlacedTextSymbolIndex).placedOrientation=b)}commit(s){this.commitTime=s,this.zoomAtLastRecencyCheck=this.transform.zoom;const h=this.prevPlacement;let p=!1;this.prevZoomAdjustment=h?h.zoomAdjustment(this.transform.zoom):0;const g=h?h.symbolFadeChange(s):1,b=h?h.opacities:{},T=h?h.variableOffsets:{},E=h?h.placedOrientations:{};for(const R in this.placements){const B=this.placements[R],j=b[R];j?(this.opacities[R]=new Te(j,g,B.text,B.icon),p=p||B.text!==j.text.placed||B.icon!==j.icon.placed):(this.opacities[R]=new Te(null,g,B.text,B.icon,B.skipFade),p=p||B.text||B.icon)}for(const R in b){const B=b[R];if(!this.opacities[R]){const j=new Te(B,g,!1,!1);j.isHidden()||(this.opacities[R]=j,p=p||B.text.placed||B.icon.placed)}}for(const R in T)this.variableOffsets[R]||!this.opacities[R]||this.opacities[R].isHidden()||(this.variableOffsets[R]=T[R]);for(const R in E)this.placedOrientations[R]||!this.opacities[R]||this.opacities[R].isHidden()||(this.placedOrientations[R]=E[R]);if(h&&h.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");p?this.lastPlacementChangeTime=s:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=h?h.lastPlacementChangeTime:s)}updateLayerOpacities(s,h){const p={};for(const g of h){const b=g.getBucket(s);b&&g.latestFeatureIndex&&s.id===b.layerIds[0]&&this.updateBucketOpacities(b,p,g.collisionBoxArray)}}updateBucketOpacities(s,h,p){s.hasTextData()&&(s.text.opacityVertexArray.clear(),s.text.hasVisibleVertices=!1),s.hasIconData()&&(s.icon.opacityVertexArray.clear(),s.icon.hasVisibleVertices=!1),s.hasIconCollisionBoxData()&&s.iconCollisionBox.collisionVertexArray.clear(),s.hasTextCollisionBoxData()&&s.textCollisionBox.collisionVertexArray.clear();const g=s.layers[0],b=g.layout,T=new Te(null,0,!1,!1,!0),E=b.get("text-allow-overlap"),R=b.get("icon-allow-overlap"),B=g._unevaluatedLayout.hasValue("text-variable-anchor")||g._unevaluatedLayout.hasValue("text-variable-anchor-offset"),j=b.get("text-rotation-alignment")==="map",W=b.get("text-pitch-alignment")==="map",X=b.get("icon-text-fit")!=="none",se=new Te(null,0,E&&(R||!s.hasIconData()||b.get("icon-optional")),R&&(E||!s.hasTextData()||b.get("text-optional")),!0);!s.collisionArrays&&p&&(s.hasIconCollisionBoxData()||s.hasTextCollisionBoxData())&&s.deserializeCollisionBoxes(p);const oe=(ce,ie,xe)=>{for(let De=0;De<ie/4;De++)ce.opacityVertexArray.emplaceBack(xe);ce.hasVisibleVertices=ce.hasVisibleVertices||xe!==Rr};for(let ce=0;ce<s.symbolInstances.length;ce++){const ie=s.symbolInstances.get(ce),{numHorizontalGlyphVertices:xe,numVerticalGlyphVertices:De,crossTileID:he}=ie;let Se=this.opacities[he];h[he]?Se=T:Se||(Se=se,this.opacities[he]=Se),h[he]=!0;const Be=ie.numIconVertices>0,Ue=this.placedOrientations[ie.crossTileID],He=Ue===c.WritingMode.vertical,rt=Ue===c.WritingMode.horizontal||Ue===c.WritingMode.horizontalOnly;if(xe>0||De>0){const Je=hi(Se.text);oe(s.text,xe,He?Rr:Je),oe(s.text,De,rt?Rr:Je);const at=Se.text.isHidden();[ie.rightJustifiedTextSymbolIndex,ie.centerJustifiedTextSymbolIndex,ie.leftJustifiedTextSymbolIndex].forEach(ft=>{ft>=0&&(s.text.placedSymbolArray.get(ft).hidden=at||He?1:0)}),ie.verticalPlacedTextSymbolIndex>=0&&(s.text.placedSymbolArray.get(ie.verticalPlacedTextSymbolIndex).hidden=at||rt?1:0);const At=this.variableOffsets[ie.crossTileID];At&&this.markUsedJustification(s,At.anchor,ie,Ue);const hn=this.placedOrientations[ie.crossTileID];hn&&(this.markUsedJustification(s,"left",ie,hn),this.markUsedOrientation(s,hn,ie))}if(Be){const Je=hi(Se.icon),at=!(X&&ie.verticalPlacedIconSymbolIndex&&He);ie.placedIconSymbolIndex>=0&&(oe(s.icon,ie.numIconVertices,at?Je:Rr),s.icon.placedSymbolArray.get(ie.placedIconSymbolIndex).hidden=Se.icon.isHidden()),ie.verticalPlacedIconSymbolIndex>=0&&(oe(s.icon,ie.numVerticalIconVertices,at?Rr:Je),s.icon.placedSymbolArray.get(ie.verticalPlacedIconSymbolIndex).hidden=Se.icon.isHidden())}if(s.hasIconCollisionBoxData()||s.hasTextCollisionBoxData()){const Je=s.collisionArrays[ce];if(Je){let at=new c.Point(0,0);if(Je.textBox||Je.verticalTextBox){let hn=!0;if(B){const ft=this.variableOffsets[he];ft?(at=Xt(ft.anchor,ft.width,ft.height,ft.textOffset,ft.textBoxScale),j&&at._rotate(W?this.transform.angle:-this.transform.angle)):hn=!1}Je.textBox&&Kt(s.textCollisionBox.collisionVertexArray,Se.text.placed,!hn||He,at.x,at.y),Je.verticalTextBox&&Kt(s.textCollisionBox.collisionVertexArray,Se.text.placed,!hn||rt,at.x,at.y)}const At=!!(!rt&&Je.verticalIconBox);Je.iconBox&&Kt(s.iconCollisionBox.collisionVertexArray,Se.icon.placed,At,X?at.x:0,X?at.y:0),Je.verticalIconBox&&Kt(s.iconCollisionBox.collisionVertexArray,Se.icon.placed,!At,X?at.x:0,X?at.y:0)}}}if(s.sortFeatures(this.transform.angle),this.retainedQueryData[s.bucketInstanceId]&&(this.retainedQueryData[s.bucketInstanceId].featureSortOrder=s.featureSortOrder),s.hasTextData()&&s.text.opacityVertexBuffer&&s.text.opacityVertexBuffer.updateData(s.text.opacityVertexArray),s.hasIconData()&&s.icon.opacityVertexBuffer&&s.icon.opacityVertexBuffer.updateData(s.icon.opacityVertexArray),s.hasIconCollisionBoxData()&&s.iconCollisionBox.collisionVertexBuffer&&s.iconCollisionBox.collisionVertexBuffer.updateData(s.iconCollisionBox.collisionVertexArray),s.hasTextCollisionBoxData()&&s.textCollisionBox.collisionVertexBuffer&&s.textCollisionBox.collisionVertexBuffer.updateData(s.textCollisionBox.collisionVertexArray),s.text.opacityVertexArray.length!==s.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${s.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${s.text.layoutVertexArray.length}) / 4`);if(s.icon.opacityVertexArray.length!==s.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${s.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${s.icon.layoutVertexArray.length}) / 4`);if(s.bucketInstanceId in this.collisionCircleArrays){const ce=this.collisionCircleArrays[s.bucketInstanceId];s.placementInvProjMatrix=ce.invProjMatrix,s.placementViewportMatrix=ce.viewportMatrix,s.collisionCircleArray=ce.circles,delete this.collisionCircleArrays[s.bucketInstanceId]}}symbolFadeChange(s){return this.fadeDuration===0?1:(s-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(s){return Math.max(0,(this.transform.zoom-s)/1.5)}hasTransitions(s){return this.stale||s-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(s,h){const p=this.zoomAtLastRecencyCheck===h?1-this.zoomAdjustment(h):1;return this.zoomAtLastRecencyCheck=h,this.commitTime+this.fadeDuration*p>s}setStale(){this.stale=!0}}function Kt(v,s,h,p,g){v.emplaceBack(s?1:0,h?1:0,p||0,g||0),v.emplaceBack(s?1:0,h?1:0,p||0,g||0),v.emplaceBack(s?1:0,h?1:0,p||0,g||0),v.emplaceBack(s?1:0,h?1:0,p||0,g||0)}const yn=Math.pow(2,25),Rn=Math.pow(2,24),ln=Math.pow(2,17),vn=Math.pow(2,16),vi=Math.pow(2,9),lt=Math.pow(2,8),Tn=Math.pow(2,1);function hi(v){if(v.opacity===0&&!v.placed)return 0;if(v.opacity===1&&v.placed)return 4294967295;const s=v.placed?1:0,h=Math.floor(127*v.opacity);return h*yn+s*Rn+h*ln+s*vn+h*vi+s*lt+h*Tn+s}const Rr=0;class so{constructor(s){this._sortAcrossTiles=s.layout.get("symbol-z-order")!=="viewport-y"&&!s.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(s,h,p,g,b){const T=this._bucketParts;for(;this._currentTileIndex<s.length;)if(h.getBucketParts(T,g,s[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,b())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,T.sort((E,R)=>E.sortKey-R.sortKey));this._currentPartIndex<T.length;)if(h.placeLayerBucketPart(T[this._currentPartIndex],this._seenCrossTileIDs,p),this._currentPartIndex++,b())return!0;return!1}}class _1{constructor(s,h,p,g,b,T,E,R){this.placement=new $t(s,h,T,E,R),this._currentPlacementIndex=p.length-1,this._forceFullPlacement=g,this._showCollisionBoxes=b,this._done=!1}isDone(){return this._done}continuePlacement(s,h,p){const g=c.browser.now(),b=()=>!this._forceFullPlacement&&c.browser.now()-g>2;for(;this._currentPlacementIndex>=0;){const T=h[s[this._currentPlacementIndex]],E=this.placement.collisionIndex.transform.zoom;if(T.type==="symbol"&&(!T.minzoom||T.minzoom<=E)&&(!T.maxzoom||T.maxzoom>E)){if(this._inProgressLayer||(this._inProgressLayer=new so(T)),this._inProgressLayer.continuePlacement(p[T.source],this.placement,this._showCollisionBoxes,T,b))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(s){return this.placement.commit(s),this.placement}}const _i=512/c.EXTENT/2;class So{constructor(s,h,p){this.tileID=s,this.bucketInstanceId=p,this._symbolsByKey={};const g=new Map;for(let b=0;b<h.length;b++){const T=h.get(b),E=T.key,R=g.get(E);R?R.push(T):g.set(E,[T])}for(const[b,T]of g){const E={positions:T.map(R=>({x:Math.floor(R.anchorX*_i),y:Math.floor(R.anchorY*_i)})),crossTileIDs:T.map(R=>R.crossTileID)};if(E.positions.length>128){const R=new c.KDBush(E.positions.length,16,Uint16Array);for(const{x:B,y:j}of E.positions)R.add(B,j);R.finish(),delete E.positions,E.index=R}this._symbolsByKey[b]=E}}getScaledCoordinates(s,h){const{x:p,y:g,z:b}=this.tileID.canonical,{x:T,y:E,z:R}=h.canonical,B=_i/Math.pow(2,R-b),j=(E*c.EXTENT+s.anchorY)*B,W=g*c.EXTENT*_i;return{x:Math.floor((T*c.EXTENT+s.anchorX)*B-p*c.EXTENT*_i),y:Math.floor(j-W)}}findMatches(s,h,p){const g=this.tileID.canonical.z<h.canonical.z?1:Math.pow(2,this.tileID.canonical.z-h.canonical.z);for(let b=0;b<s.length;b++){const T=s.get(b);if(T.crossTileID)continue;const E=this._symbolsByKey[T.key];if(!E)continue;const R=this.getScaledCoordinates(T,h);if(E.index){const B=E.index.range(R.x-g,R.y-g,R.x+g,R.y+g).sort();for(const j of B){const W=E.crossTileIDs[j];if(!p[W]){p[W]=!0,T.crossTileID=W;break}}}else if(E.positions)for(let B=0;B<E.positions.length;B++){const j=E.positions[B],W=E.crossTileIDs[B];if(Math.abs(j.x-R.x)<=g&&Math.abs(j.y-R.y)<=g&&!p[W]){p[W]=!0,T.crossTileID=W;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:s})=>s)}}class ey{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class _d{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(s){const h=Math.round((s-this.lng)/360);if(h!==0)for(const p in this.indexes){const g=this.indexes[p],b={};for(const T in g){const E=g[T];E.tileID=E.tileID.unwrapTo(E.tileID.wrap+h),b[E.tileID.key]=E}this.indexes[p]=b}this.lng=s}addBucket(s,h,p){if(this.indexes[s.overscaledZ]&&this.indexes[s.overscaledZ][s.key]){if(this.indexes[s.overscaledZ][s.key].bucketInstanceId===h.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(s.overscaledZ,this.indexes[s.overscaledZ][s.key])}for(let b=0;b<h.symbolInstances.length;b++)h.symbolInstances.get(b).crossTileID=0;this.usedCrossTileIDs[s.overscaledZ]||(this.usedCrossTileIDs[s.overscaledZ]={});const g=this.usedCrossTileIDs[s.overscaledZ];for(const b in this.indexes){const T=this.indexes[b];if(Number(b)>s.overscaledZ)for(const E in T){const R=T[E];R.tileID.isChildOf(s)&&R.findMatches(h.symbolInstances,s,g)}else{const E=T[s.scaledTo(Number(b)).key];E&&E.findMatches(h.symbolInstances,s,g)}}for(let b=0;b<h.symbolInstances.length;b++){const T=h.symbolInstances.get(b);T.crossTileID||(T.crossTileID=p.generate(),g[T.crossTileID]=!0)}return this.indexes[s.overscaledZ]===void 0&&(this.indexes[s.overscaledZ]={}),this.indexes[s.overscaledZ][s.key]=new So(s,h.symbolInstances,h.bucketInstanceId),!0}removeBucketCrossTileIDs(s,h){for(const p of h.getCrossTileIDsLists())for(const g of p)delete this.usedCrossTileIDs[s][g]}removeStaleBuckets(s){let h=!1;for(const p in this.indexes){const g=this.indexes[p];for(const b in g)s[g[b].bucketInstanceId]||(this.removeBucketCrossTileIDs(p,g[b]),delete g[b],h=!0)}return h}}class Ar{constructor(){this.layerIndexes={},this.crossTileIDs=new ey,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(s,h,p){let g=this.layerIndexes[s.id];g===void 0&&(g=this.layerIndexes[s.id]=new _d);let b=!1;const T={};g.handleWrapJump(p);for(const E of h){const R=E.getBucket(s);R&&s.id===R.layerIds[0]&&(R.bucketInstanceId||(R.bucketInstanceId=++this.maxBucketInstanceId),g.addBucket(E.tileID,R,this.crossTileIDs)&&(b=!0),T[R.bucketInstanceId]=!0)}return g.removeStaleBuckets(T)&&(b=!0),b}pruneUnusedLayers(s){const h={};s.forEach(p=>{h[p]=!0});for(const p in this.layerIndexes)h[p]||delete this.layerIndexes[p]}}const va=(v,s)=>c.emitValidationErrors(v,s&&s.filter(h=>h.identifier!=="source.canvas")),Ja=c.pick(c.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),Or=c.pick(c.operations,["setCenter","setZoom","setBearing","setPitch"]),xd=c.emptyStyle();class xi extends c.Evented{constructor(s,h={}){super(),this.map=s,this.dispatcher=new be(Wt(),this,s._getMapId()),this.imageManager=new Ve,this.imageManager.setEventedParent(this),this.glyphManager=new ke(s._requestManager,h.localIdeographFontFamily),this.lineAtlas=new st(256,512),this.crossTileSymbolIndex=new Ar,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new c.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",c.getReferrer());const p=this;this._rtlTextPluginCallback=xi.registerForPluginStateChange(g=>{p.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:g.pluginStatus,pluginURL:g.pluginURL},(b,T)=>{if(c.triggerPluginCompletionEvent(b),T&&T.every(E=>E))for(const E in p.sourceCaches){const R=p.sourceCaches[E].getSource().type;R!=="vector"&&R!=="geojson"||p.sourceCaches[E].reload()}})}),this.on("data",g=>{if(g.dataType!=="source"||g.sourceDataType!=="metadata")return;const b=this.sourceCaches[g.sourceId];if(!b)return;const T=b.getSource();if(T&&T.vectorLayerIds)for(const E in this._layers){const R=this._layers[E];R.source===T.id&&this._validateLayer(R)}})}loadURL(s,h={},p){this.fire(new c.Event("dataloading",{dataType:"style"})),h.validate=typeof h.validate!="boolean"||h.validate;const g=this.map._requestManager.transformRequest(s,A.Style);this._request=c.getJSON(g,(b,T)=>{this._request=null,b?this.fire(new c.ErrorEvent(b)):T&&this._load(T,h,p)})}loadJSON(s,h={},p){this.fire(new c.Event("dataloading",{dataType:"style"})),this._request=c.browser.frame(()=>{this._request=null,h.validate=h.validate!==!1,this._load(s,h,p)})}loadEmpty(){this.fire(new c.Event("dataloading",{dataType:"style"})),this._load(xd,{validate:!1})}_load(s,h,p){const g=h.transformStyle?h.transformStyle(p,s):s;if(!h.validate||!va(this,c.validateStyle(g))){this._loaded=!0,this.stylesheet=g;for(const b in g.sources)this.addSource(b,g.sources[b],{validate:!1});g.sprite?this._loadSprite(g.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(g.glyphs),this._createLayers(),this.light=new ze(this.stylesheet.light),this.map.setTerrain(this.stylesheet.terrain),this.fire(new c.Event("data",{dataType:"style"})),this.fire(new c.Event("style.load"))}}_createLayers(){const s=c.derefLayers(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",s),this._order=s.map(h=>h.id),this._layers={},this._serializedLayers=null;for(const h of s){const p=c.createStyleLayer(h);p.setEventedParent(this,{layer:{id:h.id}}),this._layers[h.id]=p}}_loadSprite(s,h=!1,p=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(g,b,T,E){const R=ge(g),B=R.length,j=T>1?"@2x":"",W={},X={},se={};for(const{id:oe,url:ce}of R){const ie=b.transformRequest(b.normalizeSpriteURL(ce,j,".json"),A.SpriteJSON),xe=`${oe}_${ie.url}`;W[xe]=c.getJSON(ie,(Se,Be)=>{delete W[xe],X[oe]=Be,Pe(E,X,se,Se,B)});const De=b.transformRequest(b.normalizeSpriteURL(ce,j,".png"),A.SpriteImage),he=`${oe}_${De.url}`;W[he]=$.getImage(De,(Se,Be)=>{delete W[he],se[oe]=Be,Pe(E,X,se,Se,B)})}return{cancel(){for(const oe of Object.values(W))oe.cancel()}}}(s,this.map._requestManager,this.map.getPixelRatio(),(g,b)=>{if(this._spriteRequest=null,g)this.fire(new c.ErrorEvent(g));else if(b)for(const T in b){this._spritesImagesIds[T]=[];const E=this._spritesImagesIds[T]?this._spritesImagesIds[T].filter(R=>!(R in b)):[];for(const R of E)this.imageManager.removeImage(R),this._changedImages[R]=!0;for(const R in b[T]){const B=T==="default"?R:`${T}:${R}`;this._spritesImagesIds[T].push(B),B in this.imageManager.images?this.imageManager.updateImage(B,b[T][R],!1):this.imageManager.addImage(B,b[T][R]),h&&(this._changedImages[B]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),h&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new c.Event("data",{dataType:"style"})),p&&p(g)})}_unloadSprite(){for(const s of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(s),this._changedImages[s]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new c.Event("data",{dataType:"style"}))}_validateLayer(s){const h=this.sourceCaches[s.source];if(!h)return;const p=s.sourceLayer;if(!p)return;const g=h.getSource();(g.type==="geojson"||g.vectorLayerIds&&g.vectorLayerIds.indexOf(p)===-1)&&this.fire(new c.ErrorEvent(new Error(`Source layer "${p}" does not exist on source "${g.id}" as specified by style layer "${s.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const s in this.sourceCaches)if(!this.sourceCaches[s].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(s){const h=this._serializedAllLayers();if(!s||s.length===0)return Object.values(h);const p=[];for(const g of s)h[g]&&p.push(h[g]);return p}_serializedAllLayers(){let s=this._serializedLayers;if(s)return s;s=this._serializedLayers={};const h=Object.keys(this._layers);for(const p of h){const g=this._layers[p];g.type!=="custom"&&(s[p]=g.serialize())}return s}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const s in this.sourceCaches)if(this.sourceCaches[s].hasTransition())return!0;for(const s in this._layers)if(this._layers[s].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(s){if(!this._loaded)return;const h=this._changed;if(this._changed){const g=Object.keys(this._updatedLayers),b=Object.keys(this._removedLayers);(g.length||b.length)&&this._updateWorkerLayers(g,b);for(const T in this._updatedSources){const E=this._updatedSources[T];if(E==="reload")this._reloadSource(T);else{if(E!=="clear")throw new Error(`Invalid action ${E}`);this._clearSource(T)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const T in this._updatedPaintProps)this._layers[T].updateTransitions(s);this.light.updateTransitions(s),this._resetUpdates()}const p={};for(const g in this.sourceCaches){const b=this.sourceCaches[g];p[g]=b.used,b.used=!1}for(const g of this._order){const b=this._layers[g];b.recalculate(s,this._availableImages),!b.isHidden(s.zoom)&&b.source&&(this.sourceCaches[b.source].used=!0)}for(const g in p){const b=this.sourceCaches[g];p[g]!==b.used&&b.fire(new c.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:g}))}this.light.recalculate(s),this.z=s.zoom,h&&this.fire(new c.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const s=Object.keys(this._changedImages);if(s.length){for(const h in this.sourceCaches)this.sourceCaches[h].reloadTilesForDependencies(["icons","patterns"],s);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const s in this.sourceCaches)this.sourceCaches[s].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(s,h){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(s),removedIds:h})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(s,h={}){this._checkLoaded();const p=this.serialize();if(s=h.transformStyle?h.transformStyle(p,s):s,va(this,c.validateStyle(s)))return!1;(s=c.clone$1(s)).layers=c.derefLayers(s.layers);const g=c.diffStyles(p,s).filter(T=>!(T.command in Or));if(g.length===0)return!1;const b=g.filter(T=>!(T.command in Ja));if(b.length>0)throw new Error(`Unimplemented: ${b.map(T=>T.command).join(", ")}.`);for(const T of g)T.command!=="setTransition"&&this[T.command].apply(this,T.args);return this.stylesheet=s,!0}addImage(s,h){if(this.getImage(s))return this.fire(new c.ErrorEvent(new Error(`An image named "${s}" already exists.`)));this.imageManager.addImage(s,h),this._afterImageUpdated(s)}updateImage(s,h){this.imageManager.updateImage(s,h)}getImage(s){return this.imageManager.getImage(s)}removeImage(s){if(!this.getImage(s))return this.fire(new c.ErrorEvent(new Error(`An image named "${s}" does not exist.`)));this.imageManager.removeImage(s),this._afterImageUpdated(s)}_afterImageUpdated(s){this._availableImages=this.imageManager.listImages(),this._changedImages[s]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new c.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(s,h,p={}){if(this._checkLoaded(),this.sourceCaches[s]!==void 0)throw new Error(`Source "${s}" already exists.`);if(!h.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(h).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(h.type)>=0&&this._validate(c.validateStyle.source,`sources.${s}`,h,null,p))return;this.map&&this.map._collectResourceTiming&&(h.collectResourceTiming=!0);const g=this.sourceCaches[s]=new on(s,h,this.dispatcher);g.style=this,g.setEventedParent(this,()=>({isSourceLoaded:g.loaded(),source:g.serialize(),sourceId:s})),g.onAdd(this.map),this._changed=!0}removeSource(s){if(this._checkLoaded(),this.sourceCaches[s]===void 0)throw new Error("There is no source with this ID");for(const p in this._layers)if(this._layers[p].source===s)return this.fire(new c.ErrorEvent(new Error(`Source "${s}" cannot be removed while layer "${p}" is using it.`)));const h=this.sourceCaches[s];delete this.sourceCaches[s],delete this._updatedSources[s],h.fire(new c.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:s})),h.setEventedParent(null),h.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(s,h){if(this._checkLoaded(),this.sourceCaches[s]===void 0)throw new Error(`There is no source with this ID=${s}`);const p=this.sourceCaches[s].getSource();if(p.type!=="geojson")throw new Error(`geojsonSource.type is ${p.type}, which is !== 'geojson`);p.setData(h),this._changed=!0}getSource(s){return this.sourceCaches[s]&&this.sourceCaches[s].getSource()}addLayer(s,h,p={}){this._checkLoaded();const g=s.id;if(this.getLayer(g))return void this.fire(new c.ErrorEvent(new Error(`Layer "${g}" already exists on this map.`)));let b;if(s.type==="custom"){if(va(this,c.validateCustomStyleLayer(s)))return;b=c.createStyleLayer(s)}else{if(typeof s.source=="object"&&(this.addSource(g,s.source),s=c.clone$1(s),s=c.extend(s,{source:g})),this._validate(c.validateStyle.layer,`layers.${g}`,s,{arrayIndex:-1},p))return;b=c.createStyleLayer(s),this._validateLayer(b),b.setEventedParent(this,{layer:{id:g}})}const T=h?this._order.indexOf(h):this._order.length;if(h&&T===-1)this.fire(new c.ErrorEvent(new Error(`Cannot add layer "${g}" before non-existing layer "${h}".`)));else{if(this._order.splice(T,0,g),this._layerOrderChanged=!0,this._layers[g]=b,this._removedLayers[g]&&b.source&&b.type!=="custom"){const E=this._removedLayers[g];delete this._removedLayers[g],E.type!==b.type?this._updatedSources[b.source]="clear":(this._updatedSources[b.source]="reload",this.sourceCaches[b.source].pause())}this._updateLayer(b),b.onAdd&&b.onAdd(this.map)}}moveLayer(s,h){if(this._checkLoaded(),this._changed=!0,!this._layers[s])return void this.fire(new c.ErrorEvent(new Error(`The layer '${s}' does not exist in the map's style and cannot be moved.`)));if(s===h)return;const p=this._order.indexOf(s);this._order.splice(p,1);const g=h?this._order.indexOf(h):this._order.length;h&&g===-1?this.fire(new c.ErrorEvent(new Error(`Cannot move layer "${s}" before non-existing layer "${h}".`))):(this._order.splice(g,0,s),this._layerOrderChanged=!0)}removeLayer(s){this._checkLoaded();const h=this._layers[s];if(!h)return void this.fire(new c.ErrorEvent(new Error(`Cannot remove non-existing layer "${s}".`)));h.setEventedParent(null);const p=this._order.indexOf(s);this._order.splice(p,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[s]=h,delete this._layers[s],this._serializedLayers&&delete this._serializedLayers[s],delete this._updatedLayers[s],delete this._updatedPaintProps[s],h.onRemove&&h.onRemove(this.map)}getLayer(s){return this._layers[s]}hasLayer(s){return s in this._layers}setLayerZoomRange(s,h,p){this._checkLoaded();const g=this.getLayer(s);g?g.minzoom===h&&g.maxzoom===p||(h!=null&&(g.minzoom=h),p!=null&&(g.maxzoom=p),this._updateLayer(g)):this.fire(new c.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${s}".`)))}setFilter(s,h,p={}){this._checkLoaded();const g=this.getLayer(s);if(g){if(!c.deepEqual(g.filter,h))return h==null?(g.filter=void 0,void this._updateLayer(g)):void(this._validate(c.validateStyle.filter,`layers.${g.id}.filter`,h,null,p)||(g.filter=c.clone$1(h),this._updateLayer(g)))}else this.fire(new c.ErrorEvent(new Error(`Cannot filter non-existing layer "${s}".`)))}getFilter(s){return c.clone$1(this.getLayer(s).filter)}setLayoutProperty(s,h,p,g={}){this._checkLoaded();const b=this.getLayer(s);b?c.deepEqual(b.getLayoutProperty(h),p)||(b.setLayoutProperty(h,p,g),this._updateLayer(b)):this.fire(new c.ErrorEvent(new Error(`Cannot style non-existing layer "${s}".`)))}getLayoutProperty(s,h){const p=this.getLayer(s);if(p)return p.getLayoutProperty(h);this.fire(new c.ErrorEvent(new Error(`Cannot get style of non-existing layer "${s}".`)))}setPaintProperty(s,h,p,g={}){this._checkLoaded();const b=this.getLayer(s);b?c.deepEqual(b.getPaintProperty(h),p)||(b.setPaintProperty(h,p,g)&&this._updateLayer(b),this._changed=!0,this._updatedPaintProps[s]=!0):this.fire(new c.ErrorEvent(new Error(`Cannot style non-existing layer "${s}".`)))}getPaintProperty(s,h){return this.getLayer(s).getPaintProperty(h)}setFeatureState(s,h){this._checkLoaded();const p=s.source,g=s.sourceLayer,b=this.sourceCaches[p];if(b===void 0)return void this.fire(new c.ErrorEvent(new Error(`The source '${p}' does not exist in the map's style.`)));const T=b.getSource().type;T==="geojson"&&g?this.fire(new c.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):T!=="vector"||g?(s.id===void 0&&this.fire(new c.ErrorEvent(new Error("The feature id parameter must be provided."))),b.setFeatureState(g,s.id,h)):this.fire(new c.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(s,h){this._checkLoaded();const p=s.source,g=this.sourceCaches[p];if(g===void 0)return void this.fire(new c.ErrorEvent(new Error(`The source '${p}' does not exist in the map's style.`)));const b=g.getSource().type,T=b==="vector"?s.sourceLayer:void 0;b!=="vector"||T?h&&typeof s.id!="string"&&typeof s.id!="number"?this.fire(new c.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):g.removeFeatureState(T,s.id,h):this.fire(new c.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(s){this._checkLoaded();const h=s.source,p=s.sourceLayer,g=this.sourceCaches[h];if(g!==void 0)return g.getSource().type!=="vector"||p?(s.id===void 0&&this.fire(new c.ErrorEvent(new Error("The feature id parameter must be provided."))),g.getFeatureState(p,s.id)):void this.fire(new c.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new c.ErrorEvent(new Error(`The source '${h}' does not exist in the map's style.`)))}getTransition(){return c.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const s=c.mapObject(this.sourceCaches,g=>g.serialize()),h=this._serializeByIds(this._order),p=this.stylesheet;return c.filterObject({version:p.version,name:p.name,metadata:p.metadata,light:p.light,center:p.center,zoom:p.zoom,bearing:p.bearing,pitch:p.pitch,sprite:p.sprite,glyphs:p.glyphs,transition:p.transition,sources:s,layers:h},g=>g!==void 0)}_updateLayer(s){this._updatedLayers[s.id]=!0,s.source&&!this._updatedSources[s.source]&&this.sourceCaches[s.source].getSource().type!=="raster"&&(this._updatedSources[s.source]="reload",this.sourceCaches[s.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(s){const h=T=>this._layers[T].type==="fill-extrusion",p={},g=[];for(let T=this._order.length-1;T>=0;T--){const E=this._order[T];if(h(E)){p[E]=T;for(const R of s){const B=R[E];if(B)for(const j of B)g.push(j)}}}g.sort((T,E)=>E.intersectionZ-T.intersectionZ);const b=[];for(let T=this._order.length-1;T>=0;T--){const E=this._order[T];if(h(E))for(let R=g.length-1;R>=0;R--){const B=g[R].feature;if(p[B.layer.id]<T)break;b.push(B),g.pop()}else for(const R of s){const B=R[E];if(B)for(const j of B)b.push(j.feature)}}return b}queryRenderedFeatures(s,h,p){h&&h.filter&&this._validate(c.validateStyle.filter,"queryRenderedFeatures.filter",h.filter,null,h);const g={};if(h&&h.layers){if(!Array.isArray(h.layers))return this.fire(new c.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const E of h.layers){const R=this._layers[E];if(!R)return this.fire(new c.ErrorEvent(new Error(`The layer '${E}' does not exist in the map's style and cannot be queried for features.`))),[];g[R.source]=!0}}const b=[];h.availableImages=this._availableImages;const T=this._serializedAllLayers();for(const E in this.sourceCaches)h.layers&&!g[E]||b.push(Yt(this.sourceCaches[E],this._layers,T,s,h,p));return this.placement&&b.push(function(E,R,B,j,W,X,se){const oe={},ce=X.queryRenderedSymbols(j),ie=[];for(const xe of Object.keys(ce).map(Number))ie.push(se[xe]);ie.sort(Nn);for(const xe of ie){const De=xe.featureIndex.lookupSymbolFeatures(ce[xe.bucketInstanceId],R,xe.bucketIndex,xe.sourceLayerIndex,W.filter,W.layers,W.availableImages,E);for(const he in De){const Se=oe[he]=oe[he]||[],Be=De[he];Be.sort((Ue,He)=>{const rt=xe.featureSortOrder;if(rt){const Je=rt.indexOf(Ue.featureIndex);return rt.indexOf(He.featureIndex)-Je}return He.featureIndex-Ue.featureIndex});for(const Ue of Be)Se.push(Ue)}}for(const xe in oe)oe[xe].forEach(De=>{const he=De.feature,Se=B[E[xe].source].getFeatureState(he.layer["source-layer"],he.id);he.source=he.layer.source,he.layer["source-layer"]&&(he.sourceLayer=he.layer["source-layer"]),he.state=Se});return oe}(this._layers,T,this.sourceCaches,s,h,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(b)}querySourceFeatures(s,h){h&&h.filter&&this._validate(c.validateStyle.filter,"querySourceFeatures.filter",h.filter,null,h);const p=this.sourceCaches[s];return p?function(g,b){const T=g.getRenderableIds().map(B=>g.getTileByID(B)),E=[],R={};for(let B=0;B<T.length;B++){const j=T[B],W=j.tileID.canonical.key;R[W]||(R[W]=!0,j.querySourceFeatures(E,b))}return E}(p,h):[]}addSourceType(s,h,p){return Sn(s)?p(new Error(`A source type called "${s}" already exists.`)):(((g,b)=>{rn[g]=b})(s,h),h.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:s,url:h.workerSourceURL},p):p(null,null))}getLight(){return this.light.getLight()}setLight(s,h={}){this._checkLoaded();const p=this.light.getLight();let g=!1;for(const T in s)if(!c.deepEqual(s[T],p[T])){g=!0;break}if(!g)return;const b={now:c.browser.now(),transition:c.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(s,h),this.light.updateTransitions(b)}_validate(s,h,p,g,b={}){return(!b||b.validate!==!1)&&va(this,s.call(c.validateStyle,c.extend({key:h,style:this.serialize(),value:p,styleSpec:c.v8Spec},g)))}_remove(s=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),c.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const h in this._layers)this._layers[h].setEventedParent(null);for(const h in this.sourceCaches){const p=this.sourceCaches[h];p.setEventedParent(null),p.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(s)}_clearSource(s){this.sourceCaches[s].clearTiles()}_reloadSource(s){this.sourceCaches[s].resume(),this.sourceCaches[s].reload()}_updateSources(s){for(const h in this.sourceCaches)this.sourceCaches[h].update(s,this.map.terrain)}_generateCollisionBoxes(){for(const s in this.sourceCaches)this._reloadSource(s)}_updatePlacement(s,h,p,g,b=!1){let T=!1,E=!1;const R={};for(const B of this._order){const j=this._layers[B];if(j.type!=="symbol")continue;if(!R[j.source]){const X=this.sourceCaches[j.source];R[j.source]=X.getRenderableIds(!0).map(se=>X.getTileByID(se)).sort((se,oe)=>oe.tileID.overscaledZ-se.tileID.overscaledZ||(se.tileID.isLessThan(oe.tileID)?-1:1))}const W=this.crossTileSymbolIndex.addLayer(j,R[j.source],s.center.lng);T=T||W}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((b=b||this._layerOrderChanged||p===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(c.browser.now(),s.zoom))&&(this.pauseablePlacement=new _1(s,this.map.terrain,this._order,b,h,p,g,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,R),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(c.browser.now()),E=!0),T&&this.pauseablePlacement.placement.setStale()),E||T)for(const B of this._order){const j=this._layers[B];j.type==="symbol"&&this.placement.updateLayerOpacities(j,R[j.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(c.browser.now())}_releaseSymbolFadeTiles(){for(const s in this.sourceCaches)this.sourceCaches[s].releaseSymbolFadeTiles()}getImages(s,h,p){this.imageManager.getImages(h.icons,p),this._updateTilesForChangedImages();const g=this.sourceCaches[h.source];g&&g.setDependencies(h.tileID.key,h.type,h.icons)}getGlyphs(s,h,p){this.glyphManager.getGlyphs(h.stacks,p);const g=this.sourceCaches[h.source];g&&g.setDependencies(h.tileID.key,h.type,[""])}getResource(s,h,p){return c.makeRequest(h,p)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(s,h={}){this._checkLoaded(),s&&this._validate(c.validateStyle.glyphs,"glyphs",s,null,h)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=s,this.glyphManager.entries={},this.glyphManager.setURL(s))}addSprite(s,h,p={},g){this._checkLoaded();const b=[{id:s,url:h}],T=[...ge(this.stylesheet.sprite),...b];this._validate(c.validateStyle.sprite,"sprite",T,null,p)||(this.stylesheet.sprite=T,this._loadSprite(b,!0,g))}removeSprite(s){this._checkLoaded();const h=ge(this.stylesheet.sprite);if(h.find(p=>p.id===s)){if(this._spritesImagesIds[s])for(const p of this._spritesImagesIds[s])this.imageManager.removeImage(p),this._changedImages[p]=!0;h.splice(h.findIndex(p=>p.id===s),1),this.stylesheet.sprite=h.length>0?h:void 0,delete this._spritesImagesIds[s],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new c.Event("data",{dataType:"style"}))}else this.fire(new c.ErrorEvent(new Error(`Sprite "${s}" doesn't exists on this map.`)))}getSprite(){return ge(this.stylesheet.sprite)}setSprite(s,h={},p){this._checkLoaded(),s&&this._validate(c.validateStyle.sprite,"sprite",s,null,h)||(this.stylesheet.sprite=s,s?this._loadSprite(s,!0,p):(this._unloadSprite(),p&&p(null)))}}xi.registerForPluginStateChange=c.registerForPluginStateChange;var bd=c.createLayout([{name:"a_pos",type:"Int16",components:2}]),ps="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const lu={prelude:Dn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:Dn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Dn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Dn(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Dn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Dn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:Dn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Dn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Dn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Dn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:Dn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:Dn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:Dn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:Dn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Dn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Dn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Dn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Dn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Dn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Dn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Dn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Dn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Dn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Dn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Dn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Dn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Dn("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",ps),terrainDepth:Dn("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",ps),terrainCoords:Dn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",ps)};function Dn(v,s){const h=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,p=s.match(/attribute ([\w]+) ([\w]+)/g),g=v.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),b=s.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),T=b?b.concat(g):g,E={};return{fragmentSource:v=v.replace(h,(R,B,j,W,X)=>(E[X]=!0,B==="define"?`
#ifndef HAS_UNIFORM_u_${X}
varying ${j} ${W} ${X};
#else
uniform ${j} ${W} u_${X};
#endif
`:`
#ifdef HAS_UNIFORM_u_${X}
    ${j} ${W} ${X} = u_${X};
#endif
`)),vertexSource:s=s.replace(h,(R,B,j,W,X)=>{const se=W==="float"?"vec2":"vec4",oe=X.match(/color/)?"color":se;return E[X]?B==="define"?`
#ifndef HAS_UNIFORM_u_${X}
uniform lowp float u_${X}_t;
attribute ${j} ${se} a_${X};
varying ${j} ${W} ${X};
#else
uniform ${j} ${W} u_${X};
#endif
`:oe==="vec4"?`
#ifndef HAS_UNIFORM_u_${X}
    ${X} = a_${X};
#else
    ${j} ${W} ${X} = u_${X};
#endif
`:`
#ifndef HAS_UNIFORM_u_${X}
    ${X} = unpack_mix_${oe}(a_${X}, u_${X}_t);
#else
    ${j} ${W} ${X} = u_${X};
#endif
`:B==="define"?`
#ifndef HAS_UNIFORM_u_${X}
uniform lowp float u_${X}_t;
attribute ${j} ${se} a_${X};
#else
uniform ${j} ${W} u_${X};
#endif
`:oe==="vec4"?`
#ifndef HAS_UNIFORM_u_${X}
    ${j} ${W} ${X} = a_${X};
#else
    ${j} ${W} ${X} = u_${X};
#endif
`:`
#ifndef HAS_UNIFORM_u_${X}
    ${j} ${W} ${X} = unpack_mix_${oe}(a_${X}, u_${X}_t);
#else
    ${j} ${W} ${X} = u_${X};
#endif
`}),staticAttributes:p,staticUniforms:T}}class wd{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(s,h,p,g,b,T,E,R,B){this.context=s;let j=this.boundPaintVertexBuffers.length!==g.length;for(let W=0;!j&&W<g.length;W++)this.boundPaintVertexBuffers[W]!==g[W]&&(j=!0);!this.vao||this.boundProgram!==h||this.boundLayoutVertexBuffer!==p||j||this.boundIndexBuffer!==b||this.boundVertexOffset!==T||this.boundDynamicVertexBuffer!==E||this.boundDynamicVertexBuffer2!==R||this.boundDynamicVertexBuffer3!==B?this.freshBind(h,p,g,b,T,E,R,B):(s.bindVertexArray.set(this.vao),E&&E.bind(),b&&b.dynamicDraw&&b.bind(),R&&R.bind(),B&&B.bind())}freshBind(s,h,p,g,b,T,E,R){const B=s.numAttributes,j=this.context,W=j.gl;this.vao&&this.destroy(),this.vao=j.createVertexArray(),j.bindVertexArray.set(this.vao),this.boundProgram=s,this.boundLayoutVertexBuffer=h,this.boundPaintVertexBuffers=p,this.boundIndexBuffer=g,this.boundVertexOffset=b,this.boundDynamicVertexBuffer=T,this.boundDynamicVertexBuffer2=E,this.boundDynamicVertexBuffer3=R,h.enableAttributes(W,s);for(const X of p)X.enableAttributes(W,s);T&&T.enableAttributes(W,s),E&&E.enableAttributes(W,s),R&&R.enableAttributes(W,s),h.bind(),h.setVertexAttribPointers(W,s,b);for(const X of p)X.bind(),X.setVertexAttribPointers(W,s,b);T&&(T.bind(),T.setVertexAttribPointers(W,s,b)),g&&g.bind(),E&&(E.bind(),E.setVertexAttribPointers(W,s,b)),R&&(R.bind(),R.setVertexAttribPointers(W,s,b)),j.currentNumAttributes=B}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function Wl(v){const s=[];for(let h=0;h<v.length;h++){if(v[h]===null)continue;const p=v[h].split(" ");s.push(p.pop())}return s}class _a{constructor(s,h,p,g,b,T){const E=s.gl;this.program=E.createProgram();const R=Wl(h.staticAttributes),B=p?p.getBinderAttributes():[],j=R.concat(B),W=lu.prelude.staticUniforms?Wl(lu.prelude.staticUniforms):[],X=h.staticUniforms?Wl(h.staticUniforms):[],se=p?p.getBinderUniforms():[],oe=W.concat(X).concat(se),ce=[];for(const Ue of oe)ce.indexOf(Ue)<0&&ce.push(Ue);const ie=p?p.defines():[];b&&ie.push("#define OVERDRAW_INSPECTOR;"),T&&ie.push("#define TERRAIN3D;");const xe=ie.concat(lu.prelude.fragmentSource,h.fragmentSource).join(`
`),De=ie.concat(lu.prelude.vertexSource,h.vertexSource).join(`
`),he=E.createShader(E.FRAGMENT_SHADER);if(E.isContextLost())return void(this.failedToCreate=!0);E.shaderSource(he,xe),E.compileShader(he),E.attachShader(this.program,he);const Se=E.createShader(E.VERTEX_SHADER);if(E.isContextLost())return void(this.failedToCreate=!0);E.shaderSource(Se,De),E.compileShader(Se),E.attachShader(this.program,Se),this.attributes={};const Be={};this.numAttributes=j.length;for(let Ue=0;Ue<this.numAttributes;Ue++)j[Ue]&&(E.bindAttribLocation(this.program,Ue,j[Ue]),this.attributes[j[Ue]]=Ue);E.linkProgram(this.program),E.deleteShader(Se),E.deleteShader(he);for(let Ue=0;Ue<ce.length;Ue++){const He=ce[Ue];if(He&&!Be[He]){const rt=E.getUniformLocation(this.program,He);rt&&(Be[He]=rt)}}this.fixedUniforms=g(s,Be),this.terrainUniforms=((Ue,He)=>({u_depth:new c.Uniform1i(Ue,He.u_depth),u_terrain:new c.Uniform1i(Ue,He.u_terrain),u_terrain_dim:new c.Uniform1f(Ue,He.u_terrain_dim),u_terrain_matrix:new c.UniformMatrix4f(Ue,He.u_terrain_matrix),u_terrain_unpack:new c.Uniform4f(Ue,He.u_terrain_unpack),u_terrain_exaggeration:new c.Uniform1f(Ue,He.u_terrain_exaggeration)}))(s,Be),this.binderUniforms=p?p.getUniforms(s,Be):[]}draw(s,h,p,g,b,T,E,R,B,j,W,X,se,oe,ce,ie,xe,De){const he=s.gl;if(this.failedToCreate)return;if(s.program.set(this.program),s.setDepthMode(p),s.setStencilMode(g),s.setColorMode(b),s.setCullFace(T),R){s.activeTexture.set(he.TEXTURE2),he.bindTexture(he.TEXTURE_2D,R.depthTexture),s.activeTexture.set(he.TEXTURE3),he.bindTexture(he.TEXTURE_2D,R.texture);for(const Be in this.terrainUniforms)this.terrainUniforms[Be].set(R[Be])}for(const Be in this.fixedUniforms)this.fixedUniforms[Be].set(E[Be]);ce&&ce.setUniforms(s,this.binderUniforms,se,{zoom:oe});let Se=0;switch(h){case he.LINES:Se=2;break;case he.TRIANGLES:Se=3;break;case he.LINE_STRIP:Se=1}for(const Be of X.get()){const Ue=Be.vaos||(Be.vaos={});(Ue[B]||(Ue[B]=new wd)).bind(s,this,j,ce?ce.getPaintVertexBuffers():[],W,Be.vertexOffset,ie,xe,De),he.drawElements(h,Be.primitiveLength*Se,he.UNSIGNED_SHORT,Be.primitiveOffset*Se*2)}}}function Sd(v,s,h){const p=1/ve(h,1,s.transform.tileZoom),g=Math.pow(2,h.tileID.overscaledZ),b=h.tileSize*Math.pow(2,s.transform.tileZoom)/g,T=b*(h.tileID.canonical.x+h.tileID.wrap*g),E=b*h.tileID.canonical.y;return{u_image:0,u_texsize:h.imageAtlasTexture.size,u_scale:[p,v.fromScale,v.toScale],u_fade:v.t,u_pixel_coord_upper:[T>>16,E>>16],u_pixel_coord_lower:[65535&T,65535&E]}}const cu=(v,s,h,p)=>{const g=s.style.light,b=g.properties.get("position"),T=[b.x,b.y,b.z],E=function(){var B=new c.ARRAY_TYPE(9);return c.ARRAY_TYPE!=Float32Array&&(B[1]=0,B[2]=0,B[3]=0,B[5]=0,B[6]=0,B[7]=0),B[0]=1,B[4]=1,B[8]=1,B}();g.properties.get("anchor")==="viewport"&&function(B,j){var W=Math.sin(j),X=Math.cos(j);B[0]=X,B[1]=W,B[2]=0,B[3]=-W,B[4]=X,B[5]=0,B[6]=0,B[7]=0,B[8]=1}(E,-s.transform.angle),function(B,j,W){var X=j[0],se=j[1],oe=j[2];B[0]=X*W[0]+se*W[3]+oe*W[6],B[1]=X*W[1]+se*W[4]+oe*W[7],B[2]=X*W[2]+se*W[5]+oe*W[8]}(T,T,E);const R=g.properties.get("color");return{u_matrix:v,u_lightpos:T,u_lightintensity:g.properties.get("intensity"),u_lightcolor:[R.r,R.g,R.b],u_vertical_gradient:+h,u_opacity:p}},x1=(v,s,h,p,g,b,T)=>c.extend(cu(v,s,h,p),Sd(b,s,T),{u_height_factor:-Math.pow(2,g.overscaledZ)/T.tileSize/8}),ty=v=>({u_matrix:v}),Cd=(v,s,h,p)=>c.extend(ty(v),Sd(h,s,p)),b1=(v,s)=>({u_matrix:v,u_world:s}),ny=(v,s,h,p,g)=>c.extend(Cd(v,s,h,p),{u_world:g}),w1=(v,s,h,p)=>{const g=v.transform;let b,T;if(p.paint.get("circle-pitch-alignment")==="map"){const E=ve(h,1,g.zoom);b=!0,T=[E,E]}else b=!1,T=g.pixelsToGLUnits;return{u_camera_to_center_distance:g.cameraToCenterDistance,u_scale_with_map:+(p.paint.get("circle-pitch-scale")==="map"),u_matrix:v.translatePosMatrix(s.posMatrix,h,p.paint.get("circle-translate"),p.paint.get("circle-translate-anchor")),u_pitch_with_map:+b,u_device_pixel_ratio:v.pixelRatio,u_extrude_scale:T}},ry=(v,s,h)=>{const p=ve(h,1,s.zoom),g=Math.pow(2,s.zoom-h.tileID.overscaledZ),b=h.tileID.overscaleFactor();return{u_matrix:v,u_camera_to_center_distance:s.cameraToCenterDistance,u_pixels_to_tile_units:p,u_extrude_scale:[s.pixelsToGLUnits[0]/(p*g),s.pixelsToGLUnits[1]/(p*g)],u_overscale_factor:b}},iy=(v,s,h=1)=>({u_matrix:v,u_color:s,u_overlay:0,u_overlay_scale:h}),Td=v=>({u_matrix:v}),oy=(v,s,h,p)=>({u_matrix:v,u_extrude_scale:ve(s,1,h),u_intensity:p});function sy(v,s){const h=Math.pow(2,s.canonical.z),p=s.canonical.y;return[new c.MercatorCoordinate(0,p/h).toLngLat().lat,new c.MercatorCoordinate(0,(p+1)/h).toLngLat().lat]}const kd=(v,s,h,p)=>{const g=v.transform;return{u_matrix:uu(v,s,h,p),u_ratio:1/ve(s,1,g.zoom),u_device_pixel_ratio:v.pixelRatio,u_units_to_pixels:[1/g.pixelsToGLUnits[0],1/g.pixelsToGLUnits[1]]}},ay=(v,s,h,p,g)=>c.extend(kd(v,s,h,g),{u_image:0,u_image_height:p}),Qa=(v,s,h,p,g)=>{const b=v.transform,T=ao(s,b);return{u_matrix:uu(v,s,h,g),u_texsize:s.imageAtlasTexture.size,u_ratio:1/ve(s,1,b.zoom),u_device_pixel_ratio:v.pixelRatio,u_image:0,u_scale:[T,p.fromScale,p.toScale],u_fade:p.t,u_units_to_pixels:[1/b.pixelsToGLUnits[0],1/b.pixelsToGLUnits[1]]}},Ed=(v,s,h,p,g,b)=>{const T=v.lineAtlas,E=ao(s,v.transform),R=h.layout.get("line-cap")==="round",B=T.getDash(p.from,R),j=T.getDash(p.to,R),W=B.width*g.fromScale,X=j.width*g.toScale;return c.extend(kd(v,s,h,b),{u_patternscale_a:[E/W,-B.height/2],u_patternscale_b:[E/X,-j.height/2],u_sdfgamma:T.width/(256*Math.min(W,X)*v.pixelRatio)/2,u_image:0,u_tex_y_a:B.y,u_tex_y_b:j.y,u_mix:g.t})};function ao(v,s){return 1/ve(v,1,s.tileZoom)}function uu(v,s,h,p){return v.translatePosMatrix(p?p.posMatrix:s.tileID.posMatrix,s,h.paint.get("line-translate"),h.paint.get("line-translate-anchor"))}const Pd=(v,s,h,p,g)=>{return{u_matrix:v,u_tl_parent:s,u_scale_parent:h,u_buffer_scale:1,u_fade_t:p.mix,u_opacity:p.opacity*g.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:g.paint.get("raster-brightness-min"),u_brightness_high:g.paint.get("raster-brightness-max"),u_saturation_factor:(T=g.paint.get("raster-saturation"),T>0?1-1/(1.001-T):-T),u_contrast_factor:(b=g.paint.get("raster-contrast"),b>0?1/(1-b):1+b),u_spin_weights:du(g.paint.get("raster-hue-rotate"))};var b,T};function du(v){v*=Math.PI/180;const s=Math.sin(v),h=Math.cos(v);return[(2*h+1)/3,(-Math.sqrt(3)*s-h+1)/3,(Math.sqrt(3)*s-h+1)/3]}const hu=(v,s,h,p,g,b,T,E,R,B)=>{const j=g.transform;return{u_is_size_zoom_constant:+(v==="constant"||v==="source"),u_is_size_feature_constant:+(v==="constant"||v==="camera"),u_size_t:s?s.uSizeT:0,u_size:s?s.uSize:0,u_camera_to_center_distance:j.cameraToCenterDistance,u_pitch:j.pitch/360*2*Math.PI,u_rotate_symbol:+h,u_aspect_ratio:j.width/j.height,u_fade_change:g.options.fadeDuration?g.symbolFadeChange:1,u_matrix:b,u_label_plane_matrix:T,u_coord_matrix:E,u_is_text:+R,u_pitch_with_map:+p,u_texsize:B,u_texture:0}},fu=(v,s,h,p,g,b,T,E,R,B,j)=>{const W=g.transform;return c.extend(hu(v,s,h,p,g,b,T,E,R,B),{u_gamma_scale:p?Math.cos(W._pitch)*W.cameraToCenterDistance:1,u_device_pixel_ratio:g.pixelRatio,u_is_halo:+j})},pu=(v,s,h,p,g,b,T,E,R,B)=>c.extend(fu(v,s,h,p,g,b,T,E,!0,R,!0),{u_texsize_icon:B,u_texture_icon:1}),el=(v,s,h)=>({u_matrix:v,u_opacity:s,u_color:h}),Id=(v,s,h,p,g,b)=>c.extend(function(T,E,R,B){const j=R.imageManager.getPattern(T.from.toString()),W=R.imageManager.getPattern(T.to.toString()),{width:X,height:se}=R.imageManager.getPixelSize(),oe=Math.pow(2,B.tileID.overscaledZ),ce=B.tileSize*Math.pow(2,R.transform.tileZoom)/oe,ie=ce*(B.tileID.canonical.x+B.tileID.wrap*oe),xe=ce*B.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:j.tl,u_pattern_br_a:j.br,u_pattern_tl_b:W.tl,u_pattern_br_b:W.br,u_texsize:[X,se],u_mix:E.t,u_pattern_size_a:j.displaySize,u_pattern_size_b:W.displaySize,u_scale_a:E.fromScale,u_scale_b:E.toScale,u_tile_units_to_pixels:1/ve(B,1,R.transform.tileZoom),u_pixel_coord_upper:[ie>>16,xe>>16],u_pixel_coord_lower:[65535&ie,65535&xe]}}(p,b,h,g),{u_matrix:v,u_opacity:s}),lo={fillExtrusion:(v,s)=>({u_matrix:new c.UniformMatrix4f(v,s.u_matrix),u_lightpos:new c.Uniform3f(v,s.u_lightpos),u_lightintensity:new c.Uniform1f(v,s.u_lightintensity),u_lightcolor:new c.Uniform3f(v,s.u_lightcolor),u_vertical_gradient:new c.Uniform1f(v,s.u_vertical_gradient),u_opacity:new c.Uniform1f(v,s.u_opacity)}),fillExtrusionPattern:(v,s)=>({u_matrix:new c.UniformMatrix4f(v,s.u_matrix),u_lightpos:new c.Uniform3f(v,s.u_lightpos),u_lightintensity:new c.Uniform1f(v,s.u_lightintensity),u_lightcolor:new c.Uniform3f(v,s.u_lightcolor),u_vertical_gradient:new c.Uniform1f(v,s.u_vertical_gradient),u_height_factor:new c.Uniform1f(v,s.u_height_factor),u_image:new c.Uniform1i(v,s.u_image),u_texsize:new c.Uniform2f(v,s.u_texsize),u_pixel_coord_upper:new c.Uniform2f(v,s.u_pixel_coord_upper),u_pixel_coord_lower:new c.Uniform2f(v,s.u_pixel_coord_lower),u_scale:new c.Uniform3f(v,s.u_scale),u_fade:new c.Uniform1f(v,s.u_fade),u_opacity:new c.Uniform1f(v,s.u_opacity)}),fill:(v,s)=>({u_matrix:new c.UniformMatrix4f(v,s.u_matrix)}),fillPattern:(v,s)=>({u_matrix:new c.UniformMatrix4f(v,s.u_matrix),u_image:new c.Uniform1i(v,s.u_image),u_texsize:new c.Uniform2f(v,s.u_texsize),u_pixel_coord_upper:new c.Uniform2f(v,s.u_pixel_coord_upper),u_pixel_coord_lower:new c.Uniform2f(v,s.u_pixel_coord_lower),u_scale:new c.Uniform3f(v,s.u_scale),u_fade:new c.Uniform1f(v,s.u_fade)}),fillOutline:(v,s)=>({u_matrix:new c.UniformMatrix4f(v,s.u_matrix),u_world:new c.Uniform2f(v,s.u_world)}),fillOutlinePattern:(v,s)=>({u_matrix:new c.UniformMatrix4f(v,s.u_matrix),u_world:new c.Uniform2f(v,s.u_world),u_image:new c.Uniform1i(v,s.u_image),u_texsize:new c.Uniform2f(v,s.u_texsize),u_pixel_coord_upper:new c.Uniform2f(v,s.u_pixel_coord_upper),u_pixel_coord_lower:new c.Uniform2f(v,s.u_pixel_coord_lower),u_scale:new c.Uniform3f(v,s.u_scale),u_fade:new c.Uniform1f(v,s.u_fade)}),circle:(v,s)=>({u_camera_to_center_distance:new c.Uniform1f(v,s.u_camera_to_center_distance),u_scale_with_map:new c.Uniform1i(v,s.u_scale_with_map),u_pitch_with_map:new c.Uniform1i(v,s.u_pitch_with_map),u_extrude_scale:new c.Uniform2f(v,s.u_extrude_scale),u_device_pixel_ratio:new c.Uniform1f(v,s.u_device_pixel_ratio),u_matrix:new c.UniformMatrix4f(v,s.u_matrix)}),collisionBox:(v,s)=>({u_matrix:new c.UniformMatrix4f(v,s.u_matrix),u_camera_to_center_distance:new c.Uniform1f(v,s.u_camera_to_center_distance),u_pixels_to_tile_units:new c.Uniform1f(v,s.u_pixels_to_tile_units),u_extrude_scale:new c.Uniform2f(v,s.u_extrude_scale),u_overscale_factor:new c.Uniform1f(v,s.u_overscale_factor)}),collisionCircle:(v,s)=>({u_matrix:new c.UniformMatrix4f(v,s.u_matrix),u_inv_matrix:new c.UniformMatrix4f(v,s.u_inv_matrix),u_camera_to_center_distance:new c.Uniform1f(v,s.u_camera_to_center_distance),u_viewport_size:new c.Uniform2f(v,s.u_viewport_size)}),debug:(v,s)=>({u_color:new c.UniformColor(v,s.u_color),u_matrix:new c.UniformMatrix4f(v,s.u_matrix),u_overlay:new c.Uniform1i(v,s.u_overlay),u_overlay_scale:new c.Uniform1f(v,s.u_overlay_scale)}),clippingMask:(v,s)=>({u_matrix:new c.UniformMatrix4f(v,s.u_matrix)}),heatmap:(v,s)=>({u_extrude_scale:new c.Uniform1f(v,s.u_extrude_scale),u_intensity:new c.Uniform1f(v,s.u_intensity),u_matrix:new c.UniformMatrix4f(v,s.u_matrix)}),heatmapTexture:(v,s)=>({u_matrix:new c.UniformMatrix4f(v,s.u_matrix),u_world:new c.Uniform2f(v,s.u_world),u_image:new c.Uniform1i(v,s.u_image),u_color_ramp:new c.Uniform1i(v,s.u_color_ramp),u_opacity:new c.Uniform1f(v,s.u_opacity)}),hillshade:(v,s)=>({u_matrix:new c.UniformMatrix4f(v,s.u_matrix),u_image:new c.Uniform1i(v,s.u_image),u_latrange:new c.Uniform2f(v,s.u_latrange),u_light:new c.Uniform2f(v,s.u_light),u_shadow:new c.UniformColor(v,s.u_shadow),u_highlight:new c.UniformColor(v,s.u_highlight),u_accent:new c.UniformColor(v,s.u_accent)}),hillshadePrepare:(v,s)=>({u_matrix:new c.UniformMatrix4f(v,s.u_matrix),u_image:new c.Uniform1i(v,s.u_image),u_dimension:new c.Uniform2f(v,s.u_dimension),u_zoom:new c.Uniform1f(v,s.u_zoom),u_unpack:new c.Uniform4f(v,s.u_unpack)}),line:(v,s)=>({u_matrix:new c.UniformMatrix4f(v,s.u_matrix),u_ratio:new c.Uniform1f(v,s.u_ratio),u_device_pixel_ratio:new c.Uniform1f(v,s.u_device_pixel_ratio),u_units_to_pixels:new c.Uniform2f(v,s.u_units_to_pixels)}),lineGradient:(v,s)=>({u_matrix:new c.UniformMatrix4f(v,s.u_matrix),u_ratio:new c.Uniform1f(v,s.u_ratio),u_device_pixel_ratio:new c.Uniform1f(v,s.u_device_pixel_ratio),u_units_to_pixels:new c.Uniform2f(v,s.u_units_to_pixels),u_image:new c.Uniform1i(v,s.u_image),u_image_height:new c.Uniform1f(v,s.u_image_height)}),linePattern:(v,s)=>({u_matrix:new c.UniformMatrix4f(v,s.u_matrix),u_texsize:new c.Uniform2f(v,s.u_texsize),u_ratio:new c.Uniform1f(v,s.u_ratio),u_device_pixel_ratio:new c.Uniform1f(v,s.u_device_pixel_ratio),u_image:new c.Uniform1i(v,s.u_image),u_units_to_pixels:new c.Uniform2f(v,s.u_units_to_pixels),u_scale:new c.Uniform3f(v,s.u_scale),u_fade:new c.Uniform1f(v,s.u_fade)}),lineSDF:(v,s)=>({u_matrix:new c.UniformMatrix4f(v,s.u_matrix),u_ratio:new c.Uniform1f(v,s.u_ratio),u_device_pixel_ratio:new c.Uniform1f(v,s.u_device_pixel_ratio),u_units_to_pixels:new c.Uniform2f(v,s.u_units_to_pixels),u_patternscale_a:new c.Uniform2f(v,s.u_patternscale_a),u_patternscale_b:new c.Uniform2f(v,s.u_patternscale_b),u_sdfgamma:new c.Uniform1f(v,s.u_sdfgamma),u_image:new c.Uniform1i(v,s.u_image),u_tex_y_a:new c.Uniform1f(v,s.u_tex_y_a),u_tex_y_b:new c.Uniform1f(v,s.u_tex_y_b),u_mix:new c.Uniform1f(v,s.u_mix)}),raster:(v,s)=>({u_matrix:new c.UniformMatrix4f(v,s.u_matrix),u_tl_parent:new c.Uniform2f(v,s.u_tl_parent),u_scale_parent:new c.Uniform1f(v,s.u_scale_parent),u_buffer_scale:new c.Uniform1f(v,s.u_buffer_scale),u_fade_t:new c.Uniform1f(v,s.u_fade_t),u_opacity:new c.Uniform1f(v,s.u_opacity),u_image0:new c.Uniform1i(v,s.u_image0),u_image1:new c.Uniform1i(v,s.u_image1),u_brightness_low:new c.Uniform1f(v,s.u_brightness_low),u_brightness_high:new c.Uniform1f(v,s.u_brightness_high),u_saturation_factor:new c.Uniform1f(v,s.u_saturation_factor),u_contrast_factor:new c.Uniform1f(v,s.u_contrast_factor),u_spin_weights:new c.Uniform3f(v,s.u_spin_weights)}),symbolIcon:(v,s)=>({u_is_size_zoom_constant:new c.Uniform1i(v,s.u_is_size_zoom_constant),u_is_size_feature_constant:new c.Uniform1i(v,s.u_is_size_feature_constant),u_size_t:new c.Uniform1f(v,s.u_size_t),u_size:new c.Uniform1f(v,s.u_size),u_camera_to_center_distance:new c.Uniform1f(v,s.u_camera_to_center_distance),u_pitch:new c.Uniform1f(v,s.u_pitch),u_rotate_symbol:new c.Uniform1i(v,s.u_rotate_symbol),u_aspect_ratio:new c.Uniform1f(v,s.u_aspect_ratio),u_fade_change:new c.Uniform1f(v,s.u_fade_change),u_matrix:new c.UniformMatrix4f(v,s.u_matrix),u_label_plane_matrix:new c.UniformMatrix4f(v,s.u_label_plane_matrix),u_coord_matrix:new c.UniformMatrix4f(v,s.u_coord_matrix),u_is_text:new c.Uniform1i(v,s.u_is_text),u_pitch_with_map:new c.Uniform1i(v,s.u_pitch_with_map),u_texsize:new c.Uniform2f(v,s.u_texsize),u_texture:new c.Uniform1i(v,s.u_texture)}),symbolSDF:(v,s)=>({u_is_size_zoom_constant:new c.Uniform1i(v,s.u_is_size_zoom_constant),u_is_size_feature_constant:new c.Uniform1i(v,s.u_is_size_feature_constant),u_size_t:new c.Uniform1f(v,s.u_size_t),u_size:new c.Uniform1f(v,s.u_size),u_camera_to_center_distance:new c.Uniform1f(v,s.u_camera_to_center_distance),u_pitch:new c.Uniform1f(v,s.u_pitch),u_rotate_symbol:new c.Uniform1i(v,s.u_rotate_symbol),u_aspect_ratio:new c.Uniform1f(v,s.u_aspect_ratio),u_fade_change:new c.Uniform1f(v,s.u_fade_change),u_matrix:new c.UniformMatrix4f(v,s.u_matrix),u_label_plane_matrix:new c.UniformMatrix4f(v,s.u_label_plane_matrix),u_coord_matrix:new c.UniformMatrix4f(v,s.u_coord_matrix),u_is_text:new c.Uniform1i(v,s.u_is_text),u_pitch_with_map:new c.Uniform1i(v,s.u_pitch_with_map),u_texsize:new c.Uniform2f(v,s.u_texsize),u_texture:new c.Uniform1i(v,s.u_texture),u_gamma_scale:new c.Uniform1f(v,s.u_gamma_scale),u_device_pixel_ratio:new c.Uniform1f(v,s.u_device_pixel_ratio),u_is_halo:new c.Uniform1i(v,s.u_is_halo)}),symbolTextAndIcon:(v,s)=>({u_is_size_zoom_constant:new c.Uniform1i(v,s.u_is_size_zoom_constant),u_is_size_feature_constant:new c.Uniform1i(v,s.u_is_size_feature_constant),u_size_t:new c.Uniform1f(v,s.u_size_t),u_size:new c.Uniform1f(v,s.u_size),u_camera_to_center_distance:new c.Uniform1f(v,s.u_camera_to_center_distance),u_pitch:new c.Uniform1f(v,s.u_pitch),u_rotate_symbol:new c.Uniform1i(v,s.u_rotate_symbol),u_aspect_ratio:new c.Uniform1f(v,s.u_aspect_ratio),u_fade_change:new c.Uniform1f(v,s.u_fade_change),u_matrix:new c.UniformMatrix4f(v,s.u_matrix),u_label_plane_matrix:new c.UniformMatrix4f(v,s.u_label_plane_matrix),u_coord_matrix:new c.UniformMatrix4f(v,s.u_coord_matrix),u_is_text:new c.Uniform1i(v,s.u_is_text),u_pitch_with_map:new c.Uniform1i(v,s.u_pitch_with_map),u_texsize:new c.Uniform2f(v,s.u_texsize),u_texsize_icon:new c.Uniform2f(v,s.u_texsize_icon),u_texture:new c.Uniform1i(v,s.u_texture),u_texture_icon:new c.Uniform1i(v,s.u_texture_icon),u_gamma_scale:new c.Uniform1f(v,s.u_gamma_scale),u_device_pixel_ratio:new c.Uniform1f(v,s.u_device_pixel_ratio),u_is_halo:new c.Uniform1i(v,s.u_is_halo)}),background:(v,s)=>({u_matrix:new c.UniformMatrix4f(v,s.u_matrix),u_opacity:new c.Uniform1f(v,s.u_opacity),u_color:new c.UniformColor(v,s.u_color)}),backgroundPattern:(v,s)=>({u_matrix:new c.UniformMatrix4f(v,s.u_matrix),u_opacity:new c.Uniform1f(v,s.u_opacity),u_image:new c.Uniform1i(v,s.u_image),u_pattern_tl_a:new c.Uniform2f(v,s.u_pattern_tl_a),u_pattern_br_a:new c.Uniform2f(v,s.u_pattern_br_a),u_pattern_tl_b:new c.Uniform2f(v,s.u_pattern_tl_b),u_pattern_br_b:new c.Uniform2f(v,s.u_pattern_br_b),u_texsize:new c.Uniform2f(v,s.u_texsize),u_mix:new c.Uniform1f(v,s.u_mix),u_pattern_size_a:new c.Uniform2f(v,s.u_pattern_size_a),u_pattern_size_b:new c.Uniform2f(v,s.u_pattern_size_b),u_scale_a:new c.Uniform1f(v,s.u_scale_a),u_scale_b:new c.Uniform1f(v,s.u_scale_b),u_pixel_coord_upper:new c.Uniform2f(v,s.u_pixel_coord_upper),u_pixel_coord_lower:new c.Uniform2f(v,s.u_pixel_coord_lower),u_tile_units_to_pixels:new c.Uniform1f(v,s.u_tile_units_to_pixels)}),terrain:(v,s)=>({u_matrix:new c.UniformMatrix4f(v,s.u_matrix),u_texture:new c.Uniform1i(v,s.u_texture),u_ele_delta:new c.Uniform1f(v,s.u_ele_delta)}),terrainDepth:(v,s)=>({u_matrix:new c.UniformMatrix4f(v,s.u_matrix),u_ele_delta:new c.Uniform1f(v,s.u_ele_delta)}),terrainCoords:(v,s)=>({u_matrix:new c.UniformMatrix4f(v,s.u_matrix),u_texture:new c.Uniform1i(v,s.u_texture),u_terrain_coords_id:new c.Uniform1f(v,s.u_terrain_coords_id),u_ele_delta:new c.Uniform1f(v,s.u_ele_delta)})};class co{constructor(s,h,p){this.context=s;const g=s.gl;this.buffer=g.createBuffer(),this.dynamicDraw=!!p,this.context.unbindVAO(),s.bindElementBuffer.set(this.buffer),g.bufferData(g.ELEMENT_ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?g.DYNAMIC_DRAW:g.STATIC_DRAW),this.dynamicDraw||delete h.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(s){const h=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),h.bufferSubData(h.ELEMENT_ARRAY_BUFFER,0,s.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Zf={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Md{constructor(s,h,p,g){this.length=h.length,this.attributes=p,this.itemSize=h.bytesPerElement,this.dynamicDraw=g,this.context=s;const b=s.gl;this.buffer=b.createBuffer(),s.bindVertexBuffer.set(this.buffer),b.bufferData(b.ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?b.DYNAMIC_DRAW:b.STATIC_DRAW),this.dynamicDraw||delete h.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(s){if(s.length!==this.length)throw new Error(`Length of new data is ${s.length}, which doesn't match current length of ${this.length}`);const h=this.context.gl;this.bind(),h.bufferSubData(h.ARRAY_BUFFER,0,s.arrayBuffer)}enableAttributes(s,h){for(let p=0;p<this.attributes.length;p++){const g=h.attributes[this.attributes[p].name];g!==void 0&&s.enableVertexAttribArray(g)}}setVertexAttribPointers(s,h,p){for(let g=0;g<this.attributes.length;g++){const b=this.attributes[g],T=h.attributes[b.name];T!==void 0&&s.vertexAttribPointer(T,b.components,s[Zf[b.type]],!1,this.itemSize,b.offset+this.itemSize*(p||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const ql=new WeakMap;function Gl(v){if(ql.has(v))return ql.get(v);{const s=v.getParameter(v.VERSION).startsWith("WebGL 2.0");return ql.set(v,s),s}}class kn{constructor(s){this.gl=s.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(s){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Rd extends kn{getDefault(){return c.Color.transparent}set(s){const h=this.current;(s.r!==h.r||s.g!==h.g||s.b!==h.b||s.a!==h.a||this.dirty)&&(this.gl.clearColor(s.r,s.g,s.b,s.a),this.current=s,this.dirty=!1)}}class Kf extends kn{getDefault(){return 1}set(s){(s!==this.current||this.dirty)&&(this.gl.clearDepth(s),this.current=s,this.dirty=!1)}}class Xf extends kn{getDefault(){return 0}set(s){(s!==this.current||this.dirty)&&(this.gl.clearStencil(s),this.current=s,this.dirty=!1)}}class Ad extends kn{getDefault(){return[!0,!0,!0,!0]}set(s){const h=this.current;(s[0]!==h[0]||s[1]!==h[1]||s[2]!==h[2]||s[3]!==h[3]||this.dirty)&&(this.gl.colorMask(s[0],s[1],s[2],s[3]),this.current=s,this.dirty=!1)}}class ly extends kn{getDefault(){return!0}set(s){(s!==this.current||this.dirty)&&(this.gl.depthMask(s),this.current=s,this.dirty=!1)}}class cy extends kn{getDefault(){return 255}set(s){(s!==this.current||this.dirty)&&(this.gl.stencilMask(s),this.current=s,this.dirty=!1)}}class Hl extends kn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(s){const h=this.current;(s.func!==h.func||s.ref!==h.ref||s.mask!==h.mask||this.dirty)&&(this.gl.stencilFunc(s.func,s.ref,s.mask),this.current=s,this.dirty=!1)}}class S1 extends kn{getDefault(){const s=this.gl;return[s.KEEP,s.KEEP,s.KEEP]}set(s){const h=this.current;(s[0]!==h[0]||s[1]!==h[1]||s[2]!==h[2]||this.dirty)&&(this.gl.stencilOp(s[0],s[1],s[2]),this.current=s,this.dirty=!1)}}class C1 extends kn{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const h=this.gl;s?h.enable(h.STENCIL_TEST):h.disable(h.STENCIL_TEST),this.current=s,this.dirty=!1}}class T1 extends kn{getDefault(){return[0,1]}set(s){const h=this.current;(s[0]!==h[0]||s[1]!==h[1]||this.dirty)&&(this.gl.depthRange(s[0],s[1]),this.current=s,this.dirty=!1)}}class k1 extends kn{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const h=this.gl;s?h.enable(h.DEPTH_TEST):h.disable(h.DEPTH_TEST),this.current=s,this.dirty=!1}}class E1 extends kn{getDefault(){return this.gl.LESS}set(s){(s!==this.current||this.dirty)&&(this.gl.depthFunc(s),this.current=s,this.dirty=!1)}}class P1 extends kn{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const h=this.gl;s?h.enable(h.BLEND):h.disable(h.BLEND),this.current=s,this.dirty=!1}}class Jf extends kn{getDefault(){const s=this.gl;return[s.ONE,s.ZERO]}set(s){const h=this.current;(s[0]!==h[0]||s[1]!==h[1]||this.dirty)&&(this.gl.blendFunc(s[0],s[1]),this.current=s,this.dirty=!1)}}class Od extends kn{getDefault(){return c.Color.transparent}set(s){const h=this.current;(s.r!==h.r||s.g!==h.g||s.b!==h.b||s.a!==h.a||this.dirty)&&(this.gl.blendColor(s.r,s.g,s.b,s.a),this.current=s,this.dirty=!1)}}class Qf extends kn{getDefault(){return this.gl.FUNC_ADD}set(s){(s!==this.current||this.dirty)&&(this.gl.blendEquation(s),this.current=s,this.dirty=!1)}}class ep extends kn{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const h=this.gl;s?h.enable(h.CULL_FACE):h.disable(h.CULL_FACE),this.current=s,this.dirty=!1}}class Yl extends kn{getDefault(){return this.gl.BACK}set(s){(s!==this.current||this.dirty)&&(this.gl.cullFace(s),this.current=s,this.dirty=!1)}}class uy extends kn{getDefault(){return this.gl.CCW}set(s){(s!==this.current||this.dirty)&&(this.gl.frontFace(s),this.current=s,this.dirty=!1)}}class dy extends kn{getDefault(){return null}set(s){(s!==this.current||this.dirty)&&(this.gl.useProgram(s),this.current=s,this.dirty=!1)}}class tp extends kn{getDefault(){return this.gl.TEXTURE0}set(s){(s!==this.current||this.dirty)&&(this.gl.activeTexture(s),this.current=s,this.dirty=!1)}}class tl extends kn{getDefault(){const s=this.gl;return[0,0,s.drawingBufferWidth,s.drawingBufferHeight]}set(s){const h=this.current;(s[0]!==h[0]||s[1]!==h[1]||s[2]!==h[2]||s[3]!==h[3]||this.dirty)&&(this.gl.viewport(s[0],s[1],s[2],s[3]),this.current=s,this.dirty=!1)}}class hy extends kn{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const h=this.gl;h.bindFramebuffer(h.FRAMEBUFFER,s),this.current=s,this.dirty=!1}}class Zl extends kn{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const h=this.gl;h.bindRenderbuffer(h.RENDERBUFFER,s),this.current=s,this.dirty=!1}}class Kl extends kn{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const h=this.gl;h.bindTexture(h.TEXTURE_2D,s),this.current=s,this.dirty=!1}}class fy extends kn{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const h=this.gl;h.bindBuffer(h.ARRAY_BUFFER,s),this.current=s,this.dirty=!1}}class np extends kn{getDefault(){return null}set(s){const h=this.gl;h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,s),this.current=s,this.dirty=!1}}class In extends kn{getDefault(){return null}set(s){var h;if(s===this.current&&!this.dirty)return;const p=this.gl;Gl(p)?p.bindVertexArray(s):(h=p.getExtension("OES_vertex_array_object"))===null||h===void 0||h.bindVertexArrayOES(s),this.current=s,this.dirty=!1}}class Dd extends kn{getDefault(){return 4}set(s){if(s===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_ALIGNMENT,s),this.current=s,this.dirty=!1}}class I1 extends kn{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s),this.current=s,this.dirty=!1}}class py extends kn{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,s),this.current=s,this.dirty=!1}}class nl extends kn{constructor(s,h){super(s),this.context=s,this.parent=h}getDefault(){return null}}class M1 extends nl{setDirty(){this.dirty=!0}set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,s,0),this.current=s,this.dirty=!1}}class R1 extends nl{set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_ATTACHMENT,h.RENDERBUFFER,s),this.current=s,this.dirty=!1}}class my extends nl{set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.RENDERBUFFER,s),this.current=s,this.dirty=!1}}class A1{constructor(s,h,p,g,b){this.context=s,this.width=h,this.height=p;const T=s.gl,E=this.framebuffer=T.createFramebuffer();if(this.colorAttachment=new M1(s,E),g)this.depthAttachment=b?new my(s,E):new R1(s,E);else if(b)throw new Error("Stencil cannot be setted without depth");if(T.checkFramebufferStatus(T.FRAMEBUFFER)!==T.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const s=this.context.gl,h=this.colorAttachment.get();if(h&&s.deleteTexture(h),this.depthAttachment){const p=this.depthAttachment.get();p&&s.deleteRenderbuffer(p)}s.deleteFramebuffer(this.framebuffer)}}class hr{constructor(s,h,p){this.blendFunction=s,this.blendColor=h,this.mask=p}}hr.Replace=[1,0],hr.disabled=new hr(hr.Replace,c.Color.transparent,[!1,!1,!1,!1]),hr.unblended=new hr(hr.Replace,c.Color.transparent,[!0,!0,!0,!0]),hr.alphaBlended=new hr([1,771],c.Color.transparent,[!0,!0,!0,!0]);class zd{constructor(s){var h,p;if(this.gl=s,this.clearColor=new Rd(this),this.clearDepth=new Kf(this),this.clearStencil=new Xf(this),this.colorMask=new Ad(this),this.depthMask=new ly(this),this.stencilMask=new cy(this),this.stencilFunc=new Hl(this),this.stencilOp=new S1(this),this.stencilTest=new C1(this),this.depthRange=new T1(this),this.depthTest=new k1(this),this.depthFunc=new E1(this),this.blend=new P1(this),this.blendFunc=new Jf(this),this.blendColor=new Od(this),this.blendEquation=new Qf(this),this.cullFace=new ep(this),this.cullFaceSide=new Yl(this),this.frontFace=new uy(this),this.program=new dy(this),this.activeTexture=new tp(this),this.viewport=new tl(this),this.bindFramebuffer=new hy(this),this.bindRenderbuffer=new Zl(this),this.bindTexture=new Kl(this),this.bindVertexBuffer=new fy(this),this.bindElementBuffer=new np(this),this.bindVertexArray=new In(this),this.pixelStoreUnpack=new Dd(this),this.pixelStoreUnpackPremultiplyAlpha=new I1(this),this.pixelStoreUnpackFlipY=new py(this),this.extTextureFilterAnisotropic=s.getExtension("EXT_texture_filter_anisotropic")||s.getExtension("MOZ_EXT_texture_filter_anisotropic")||s.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=s.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=s.getParameter(s.MAX_TEXTURE_SIZE),Gl(s)){this.HALF_FLOAT=s.HALF_FLOAT;const g=s.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(h=s.RGBA16F)!==null&&h!==void 0?h:g==null?void 0:g.RGBA16F_EXT,this.RGB16F=(p=s.RGB16F)!==null&&p!==void 0?p:g==null?void 0:g.RGB16F_EXT,s.getExtension("EXT_color_buffer_float")}else{s.getExtension("EXT_color_buffer_half_float"),s.getExtension("OES_texture_half_float_linear");const g=s.getExtension("OES_texture_half_float");this.HALF_FLOAT=g==null?void 0:g.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(s,h){return new co(this,s,h)}createVertexBuffer(s,h,p){return new Md(this,s,h,p)}createRenderbuffer(s,h,p){const g=this.gl,b=g.createRenderbuffer();return this.bindRenderbuffer.set(b),g.renderbufferStorage(g.RENDERBUFFER,s,h,p),this.bindRenderbuffer.set(null),b}createFramebuffer(s,h,p,g){return new A1(this,s,h,p,g)}clear({color:s,depth:h,stencil:p}){const g=this.gl;let b=0;s&&(b|=g.COLOR_BUFFER_BIT,this.clearColor.set(s),this.colorMask.set([!0,!0,!0,!0])),h!==void 0&&(b|=g.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(h),this.depthMask.set(!0)),p!==void 0&&(b|=g.STENCIL_BUFFER_BIT,this.clearStencil.set(p),this.stencilMask.set(255)),g.clear(b)}setCullFace(s){s.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(s.mode),this.frontFace.set(s.frontFace))}setDepthMode(s){s.func!==this.gl.ALWAYS||s.mask?(this.depthTest.set(!0),this.depthFunc.set(s.func),this.depthMask.set(s.mask),this.depthRange.set(s.range)):this.depthTest.set(!1)}setStencilMode(s){s.test.func!==this.gl.ALWAYS||s.mask?(this.stencilTest.set(!0),this.stencilMask.set(s.mask),this.stencilOp.set([s.fail,s.depthFail,s.pass]),this.stencilFunc.set({func:s.test.func,ref:s.ref,mask:s.test.mask})):this.stencilTest.set(!1)}setColorMode(s){c.deepEqual(s.blendFunction,hr.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(s.blendFunction),this.blendColor.set(s.blendColor)),this.colorMask.set(s.mask)}createVertexArray(){var s;return Gl(this.gl)?this.gl.createVertexArray():(s=this.gl.getExtension("OES_vertex_array_object"))===null||s===void 0?void 0:s.createVertexArrayOES()}deleteVertexArray(s){var h;return Gl(this.gl)?this.gl.deleteVertexArray(s):(h=this.gl.getExtension("OES_vertex_array_object"))===null||h===void 0?void 0:h.deleteVertexArrayOES(s)}unbindVAO(){this.bindVertexArray.set(null)}}class dn{constructor(s,h,p){this.func=s,this.mask=h,this.range=p}}dn.ReadOnly=!1,dn.ReadWrite=!0,dn.disabled=new dn(519,dn.ReadOnly,[0,1]);const mu=7680;class Qn{constructor(s,h,p,g,b,T){this.test=s,this.ref=h,this.mask=p,this.fail=g,this.depthFail=b,this.pass=T}}Qn.disabled=new Qn({func:519,mask:0},0,0,mu,mu,mu);class er{constructor(s,h,p){this.enable=s,this.mode=h,this.frontFace=p}}let rl;function gu(v,s,h,p,g,b,T){const E=v.context,R=E.gl,B=v.useProgram("collisionBox"),j=[];let W=0,X=0;for(let he=0;he<p.length;he++){const Se=p[he],Be=s.getTile(Se),Ue=Be.getBucket(h);if(!Ue)continue;let He=Se.posMatrix;g[0]===0&&g[1]===0||(He=v.translatePosMatrix(Se.posMatrix,Be,g,b));const rt=T?Ue.textCollisionBox:Ue.iconCollisionBox,Je=Ue.collisionCircleArray;if(Je.length>0){const at=c.create(),At=He;c.mul(at,Ue.placementInvProjMatrix,v.transform.glCoordMatrix),c.mul(at,at,Ue.placementViewportMatrix),j.push({circleArray:Je,circleOffset:X,transform:At,invTransform:at,coord:Se}),W+=Je.length/4,X=W}rt&&B.draw(E,R.LINES,dn.disabled,Qn.disabled,v.colorModeForRenderPass(),er.disabled,ry(He,v.transform,Be),v.style.map.terrain&&v.style.map.terrain.getTerrainData(Se),h.id,rt.layoutVertexBuffer,rt.indexBuffer,rt.segments,null,v.transform.zoom,null,null,rt.collisionVertexBuffer)}if(!T||!j.length)return;const se=v.useProgram("collisionCircle"),oe=new c.CollisionCircleLayoutArray;oe.resize(4*W),oe._trim();let ce=0;for(const he of j)for(let Se=0;Se<he.circleArray.length/4;Se++){const Be=4*Se,Ue=he.circleArray[Be+0],He=he.circleArray[Be+1],rt=he.circleArray[Be+2],Je=he.circleArray[Be+3];oe.emplace(ce++,Ue,He,rt,Je,0),oe.emplace(ce++,Ue,He,rt,Je,1),oe.emplace(ce++,Ue,He,rt,Je,2),oe.emplace(ce++,Ue,He,rt,Je,3)}(!rl||rl.length<2*W)&&(rl=function(he){const Se=2*he,Be=new c.QuadTriangleArray;Be.resize(Se),Be._trim();for(let Ue=0;Ue<Se;Ue++){const He=6*Ue;Be.uint16[He+0]=4*Ue+0,Be.uint16[He+1]=4*Ue+1,Be.uint16[He+2]=4*Ue+2,Be.uint16[He+3]=4*Ue+2,Be.uint16[He+4]=4*Ue+3,Be.uint16[He+5]=4*Ue+0}return Be}(W));const ie=E.createIndexBuffer(rl,!0),xe=E.createVertexBuffer(oe,c.collisionCircleLayout.members,!0);for(const he of j){const Se={u_matrix:he.transform,u_inv_matrix:he.invTransform,u_camera_to_center_distance:(De=v.transform).cameraToCenterDistance,u_viewport_size:[De.width,De.height]};se.draw(E,R.TRIANGLES,dn.disabled,Qn.disabled,v.colorModeForRenderPass(),er.disabled,Se,v.style.map.terrain&&v.style.map.terrain.getTerrainData(he.coord),h.id,xe,ie,c.SegmentVector.simpleSegment(0,2*he.circleOffset,he.circleArray.length,he.circleArray.length/2),null,v.transform.zoom,null,null,null)}var De;xe.destroy(),ie.destroy()}er.disabled=new er(!1,1029,2305),er.backCCW=new er(!0,1029,2305);const rp=c.identity(new Float32Array(16));function O1(v,s,h,p,g,b){const{horizontalAlign:T,verticalAlign:E}=c.getAnchorAlignment(v);return new c.Point((-(T-.5)*s/g+p[0])*b,(-(E-.5)*h/g+p[1])*b)}function ip(v,s,h,p,g,b,T,E,R,B,j){const W=v.text.placedSymbolArray,X=v.text.dynamicLayoutVertexArray,se=v.icon.dynamicLayoutVertexArray,oe={};X.clear();for(let ce=0;ce<W.length;ce++){const ie=W.get(ce),xe=ie.hidden||!ie.crossTileID||v.allowVerticalPlacement&&!ie.placedOrientation?null:p[ie.crossTileID];if(xe){const De=new c.Point(ie.anchorX,ie.anchorY),he=Vt(De,h?T:b,j),Se=Li(g.cameraToCenterDistance,he.signedDistanceFromCamera);let Be=c.evaluateSizeForFeature(v.textSizeData,R,ie)*Se/c.ONE_EM;h&&(Be*=v.tilePixelRatio/E);const{width:Ue,height:He,anchor:rt,textOffset:Je,textBoxScale:at}=xe,At=O1(rt,Ue,He,Je,at,Be),hn=h?Vt(De.add(At),b,j).point:he.point.add(s?At.rotate(-g.angle):At),ft=v.allowVerticalPlacement&&ie.placedOrientation===c.WritingMode.vertical?Math.PI/2:0;for(let Gt=0;Gt<ie.numGlyphs;Gt++)c.addDynamicAttributes(X,hn,ft);B&&ie.associatedIconIndex>=0&&(oe[ie.associatedIconIndex]={shiftedAnchor:hn,angle:ft})}else re(ie.numGlyphs,X)}if(B){se.clear();const ce=v.icon.placedSymbolArray;for(let ie=0;ie<ce.length;ie++){const xe=ce.get(ie);if(xe.hidden)re(xe.numGlyphs,se);else{const De=oe[ie];if(De)for(let he=0;he<xe.numGlyphs;he++)c.addDynamicAttributes(se,De.shiftedAnchor,De.angle);else re(xe.numGlyphs,se)}}v.icon.dynamicLayoutVertexBuffer.updateData(se)}v.text.dynamicLayoutVertexBuffer.updateData(X)}function D1(v,s,h){return h.iconsInText&&s?"symbolTextAndIcon":v?"symbolSDF":"symbolIcon"}function op(v,s,h,p,g,b,T,E,R,B,j,W){const X=v.context,se=X.gl,oe=v.transform,ce=E==="map",ie=R==="map",xe=E!=="viewport"&&h.layout.get("symbol-placement")!=="point",De=ce&&!ie&&!xe,he=!h.layout.get("symbol-sort-key").isConstant();let Se=!1;const Be=v.depthModeForSublayer(0,dn.ReadOnly),Ue=h._unevaluatedLayout.hasValue("text-variable-anchor")||h._unevaluatedLayout.hasValue("text-variable-anchor-offset"),He=[];for(const rt of p){const Je=s.getTile(rt),at=Je.getBucket(h);if(!at)continue;const At=g?at.text:at.icon;if(!At||!At.segments.get().length||!At.hasVisibleVertices)continue;const hn=At.programConfigurations.get(h.id),ft=g||at.sdfIcons,Gt=g?at.textSizeData:at.iconSizeData,kt=ie||oe.pitch!==0,Hn=v.useProgram(D1(ft,g,at),hn),un=c.evaluateSizeForZoom(Gt,oe.zoom),sn=v.style.map.terrain&&v.style.map.terrain.getTerrainData(rt);let Ht,br,zn,Ii,oi=[0,0],$r=null;if(g)br=Je.glyphAtlasTexture,zn=se.LINEAR,Ht=Je.glyphAtlasTexture.size,at.iconsInText&&(oi=Je.imageAtlasTexture.size,$r=Je.imageAtlasTexture,Ii=kt||v.options.rotating||v.options.zooming||Gt.kind==="composite"||Gt.kind==="camera"?se.LINEAR:se.NEAREST);else{const Wr=h.layout.get("icon-size").constantOr(0)!==1||at.iconsNeedLinear;br=Je.imageAtlasTexture,zn=ft||v.options.rotating||v.options.zooming||Wr||kt?se.LINEAR:se.NEAREST,Ht=Je.imageAtlasTexture.size}const Fi=ve(Je,1,v.transform.zoom),Wo=Bn(rt.posMatrix,ie,ce,v.transform,Fi),Vs=Pi(rt.posMatrix,ie,ce,v.transform,Fi),Ws=Ue&&at.hasTextData(),Sa=h.layout.get("icon-text-fit")!=="none"&&Ws&&at.hasIconData();if(xe){const Wr=v.style.map.terrain?(Bi,pr)=>v.style.map.terrain.getElevation(rt,Bi,pr):null,li=h.layout.get("text-rotation-alignment")==="map";Uo(at,rt.posMatrix,v,g,Wo,Vs,ie,B,li,Wr)}const dl=v.translatePosMatrix(rt.posMatrix,Je,b,T),Ca=xe||g&&Ue||Sa?rp:Wo,si=v.translatePosMatrix(Vs,Je,b,T,!0),wr=ft&&h.paint.get(g?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let ai;ai=ft?at.iconsInText?pu(Gt.kind,un,De,ie,v,dl,Ca,si,Ht,oi):fu(Gt.kind,un,De,ie,v,dl,Ca,si,g,Ht,!0):hu(Gt.kind,un,De,ie,v,dl,Ca,si,g,Ht);const nc={program:Hn,buffers:At,uniformValues:ai,atlasTexture:br,atlasTextureIcon:$r,atlasInterpolation:zn,atlasInterpolationIcon:Ii,isSDF:ft,hasHalo:wr};if(he&&at.canOverlap){Se=!0;const Wr=At.segments.get();for(const li of Wr)He.push({segments:new c.SegmentVector([li]),sortKey:li.sortKey,state:nc,terrainData:sn})}else He.push({segments:At.segments,sortKey:0,state:nc,terrainData:sn})}Se&&He.sort((rt,Je)=>rt.sortKey-Je.sortKey);for(const rt of He){const Je=rt.state;if(X.activeTexture.set(se.TEXTURE0),Je.atlasTexture.bind(Je.atlasInterpolation,se.CLAMP_TO_EDGE),Je.atlasTextureIcon&&(X.activeTexture.set(se.TEXTURE1),Je.atlasTextureIcon&&Je.atlasTextureIcon.bind(Je.atlasInterpolationIcon,se.CLAMP_TO_EDGE)),Je.isSDF){const at=Je.uniformValues;Je.hasHalo&&(at.u_is_halo=1,yu(Je.buffers,rt.segments,h,v,Je.program,Be,j,W,at,rt.terrainData)),at.u_is_halo=0}yu(Je.buffers,rt.segments,h,v,Je.program,Be,j,W,Je.uniformValues,rt.terrainData)}}function yu(v,s,h,p,g,b,T,E,R,B){const j=p.context;g.draw(j,j.gl.TRIANGLES,b,T,E,er.disabled,R,B,h.id,v.layoutVertexBuffer,v.indexBuffer,s,h.paint,p.transform.zoom,v.programConfigurations.get(h.id),v.dynamicLayoutVertexBuffer,v.opacityVertexBuffer)}function Ld(v,s,h,p,g){if(!h||!p||!p.imageAtlas)return;const b=p.imageAtlas.patternPositions;let T=b[h.to.toString()],E=b[h.from.toString()];if(!T||!E){const R=g.getPaintProperty(s);T=b[R],E=b[R]}T&&E&&v.setConstantPatternPositions(T,E)}function sp(v,s,h,p,g,b,T){const E=v.context.gl,R="fill-pattern",B=h.paint.get(R),j=B&&B.constantOr(1),W=h.getCrossfadeParameters();let X,se,oe,ce,ie;T?(se=j&&!h.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",X=E.LINES):(se=j?"fillPattern":"fill",X=E.TRIANGLES);const xe=B.constantOr(null);for(const De of p){const he=s.getTile(De);if(j&&!he.patternsLoaded())continue;const Se=he.getBucket(h);if(!Se)continue;const Be=Se.programConfigurations.get(h.id),Ue=v.useProgram(se,Be),He=v.style.map.terrain&&v.style.map.terrain.getTerrainData(De);j&&(v.context.activeTexture.set(E.TEXTURE0),he.imageAtlasTexture.bind(E.LINEAR,E.CLAMP_TO_EDGE),Be.updatePaintBuffers(W)),Ld(Be,R,xe,he,h);const rt=He?De:null,Je=v.translatePosMatrix(rt?rt.posMatrix:De.posMatrix,he,h.paint.get("fill-translate"),h.paint.get("fill-translate-anchor"));if(T){ce=Se.indexBuffer2,ie=Se.segments2;const at=[E.drawingBufferWidth,E.drawingBufferHeight];oe=se==="fillOutlinePattern"&&j?ny(Je,v,W,he,at):b1(Je,at)}else ce=Se.indexBuffer,ie=Se.segments,oe=j?Cd(Je,v,W,he):ty(Je);Ue.draw(v.context,X,g,v.stencilModeForClipping(De),b,er.disabled,oe,He,h.id,Se.layoutVertexBuffer,ce,ie,h.paint,v.transform.zoom,Be)}}function $d(v,s,h,p,g,b,T){const E=v.context,R=E.gl,B="fill-extrusion-pattern",j=h.paint.get(B),W=j.constantOr(1),X=h.getCrossfadeParameters(),se=h.paint.get("fill-extrusion-opacity"),oe=j.constantOr(null);for(const ce of p){const ie=s.getTile(ce),xe=ie.getBucket(h);if(!xe)continue;const De=v.style.map.terrain&&v.style.map.terrain.getTerrainData(ce),he=xe.programConfigurations.get(h.id),Se=v.useProgram(W?"fillExtrusionPattern":"fillExtrusion",he);W&&(v.context.activeTexture.set(R.TEXTURE0),ie.imageAtlasTexture.bind(R.LINEAR,R.CLAMP_TO_EDGE),he.updatePaintBuffers(X)),Ld(he,B,oe,ie,h);const Be=v.translatePosMatrix(ce.posMatrix,ie,h.paint.get("fill-extrusion-translate"),h.paint.get("fill-extrusion-translate-anchor")),Ue=h.paint.get("fill-extrusion-vertical-gradient"),He=W?x1(Be,v,Ue,se,ce,X,ie):cu(Be,v,Ue,se);Se.draw(E,E.gl.TRIANGLES,g,b,T,er.backCCW,He,De,h.id,xe.layoutVertexBuffer,xe.indexBuffer,xe.segments,h.paint,v.transform.zoom,he,v.style.map.terrain&&xe.centroidVertexBuffer)}}function Nd(v,s,h,p,g,b,T){const E=v.context,R=E.gl,B=h.fbo;if(!B)return;const j=v.useProgram("hillshade"),W=v.style.map.terrain&&v.style.map.terrain.getTerrainData(s);E.activeTexture.set(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,B.colorAttachment.get()),j.draw(E,R.TRIANGLES,g,b,T,er.disabled,((X,se,oe,ce)=>{const ie=oe.paint.get("hillshade-shadow-color"),xe=oe.paint.get("hillshade-highlight-color"),De=oe.paint.get("hillshade-accent-color");let he=oe.paint.get("hillshade-illumination-direction")*(Math.PI/180);oe.paint.get("hillshade-illumination-anchor")==="viewport"&&(he-=X.transform.angle);const Se=!X.options.moving;return{u_matrix:ce?ce.posMatrix:X.transform.calculatePosMatrix(se.tileID.toUnwrapped(),Se),u_image:0,u_latrange:sy(0,se.tileID),u_light:[oe.paint.get("hillshade-exaggeration"),he],u_shadow:ie,u_highlight:xe,u_accent:De}})(v,h,p,W?s:null),W,p.id,v.rasterBoundsBuffer,v.quadTriangleIndexBuffer,v.rasterBoundsSegments)}function ap(v,s,h,p,g,b){const T=v.context,E=T.gl,R=s.dem;if(R&&R.data){const B=R.dim,j=R.stride,W=R.getPixels();if(T.activeTexture.set(E.TEXTURE1),T.pixelStoreUnpackPremultiplyAlpha.set(!1),s.demTexture=s.demTexture||v.getTileTexture(j),s.demTexture){const se=s.demTexture;se.update(W,{premultiply:!1}),se.bind(E.NEAREST,E.CLAMP_TO_EDGE)}else s.demTexture=new ye(T,W,E.RGBA,{premultiply:!1}),s.demTexture.bind(E.NEAREST,E.CLAMP_TO_EDGE);T.activeTexture.set(E.TEXTURE0);let X=s.fbo;if(!X){const se=new ye(T,{width:B,height:B,data:null},E.RGBA);se.bind(E.LINEAR,E.CLAMP_TO_EDGE),X=s.fbo=T.createFramebuffer(B,B,!0,!1),X.colorAttachment.set(se.texture)}T.bindFramebuffer.set(X.framebuffer),T.viewport.set([0,0,B,B]),v.useProgram("hillshadePrepare").draw(T,E.TRIANGLES,p,g,b,er.disabled,((se,oe)=>{const ce=oe.stride,ie=c.create();return c.ortho(ie,0,c.EXTENT,-c.EXTENT,0,0,1),c.translate(ie,ie,[0,-c.EXTENT,0]),{u_matrix:ie,u_image:1,u_dimension:[ce,ce],u_zoom:se.overscaledZ,u_unpack:oe.getUnpackVector()}})(s.tileID,R),null,h.id,v.rasterBoundsBuffer,v.quadTriangleIndexBuffer,v.rasterBoundsSegments),s.needsHillshadePrepare=!1}}function z1(v,s,h,p,g,b){const T=p.paint.get("raster-fade-duration");if(!b&&T>0){const E=c.browser.now(),R=(E-v.timeAdded)/T,B=s?(E-s.timeAdded)/T:-1,j=h.getSource(),W=g.coveringZoomLevel({tileSize:j.tileSize,roundZoom:j.roundZoom}),X=!s||Math.abs(s.tileID.overscaledZ-W)>Math.abs(v.tileID.overscaledZ-W),se=X&&v.refreshedUponExpiration?1:c.clamp(X?R:1-B,0,1);return v.refreshedUponExpiration&&R>=1&&(v.refreshedUponExpiration=!1),s?{opacity:1,mix:1-se}:{opacity:se,mix:0}}return{opacity:1,mix:0}}const gy=new c.Color(1,0,0,1),Dr=new c.Color(0,1,0,1),il=new c.Color(0,0,1,1),Co=new c.Color(1,0,1,1),lp=new c.Color(0,1,1,1);function Fd(v,s,h,p){Fs(v,0,s+h/2,v.transform.width,h,p)}function cp(v,s,h,p){Fs(v,s-h/2,0,h,v.transform.height,p)}function Fs(v,s,h,p,g,b){const T=v.context,E=T.gl;E.enable(E.SCISSOR_TEST),E.scissor(s*v.pixelRatio,h*v.pixelRatio,p*v.pixelRatio,g*v.pixelRatio),T.clear({color:b}),E.disable(E.SCISSOR_TEST)}function vu(v,s,h){const p=v.context,g=p.gl,b=h.posMatrix,T=v.useProgram("debug"),E=dn.disabled,R=Qn.disabled,B=v.colorModeForRenderPass(),j="$debug",W=v.style.map.terrain&&v.style.map.terrain.getTerrainData(h);p.activeTexture.set(g.TEXTURE0);const X=s.getTileByID(h.key).latestRawTileData,se=Math.floor((X&&X.byteLength||0)/1024),oe=s.getTile(h).tileSize,ce=512/Math.min(oe,512)*(h.overscaledZ/v.transform.zoom)*.5;let ie=h.canonical.toString();h.overscaledZ!==h.canonical.z&&(ie+=` => ${h.overscaledZ}`),function(xe,De){xe.initDebugOverlayCanvas();const he=xe.debugOverlayCanvas,Se=xe.context.gl,Be=xe.debugOverlayCanvas.getContext("2d");Be.clearRect(0,0,he.width,he.height),Be.shadowColor="white",Be.shadowBlur=2,Be.lineWidth=1.5,Be.strokeStyle="white",Be.textBaseline="top",Be.font="bold 36px Open Sans, sans-serif",Be.fillText(De,5,5),Be.strokeText(De,5,5),xe.debugOverlayTexture.update(he),xe.debugOverlayTexture.bind(Se.LINEAR,Se.CLAMP_TO_EDGE)}(v,`${ie} ${se}kB`),T.draw(p,g.TRIANGLES,E,R,hr.alphaBlended,er.disabled,iy(b,c.Color.transparent,ce),null,j,v.debugBuffer,v.quadTriangleIndexBuffer,v.debugSegments),T.draw(p,g.LINE_STRIP,E,R,B,er.disabled,iy(b,c.Color.red),W,j,v.debugBuffer,v.tileBorderIndexBuffer,v.debugSegments)}function Bd(v,s,h){const p=v.context,g=p.gl,b=v.colorModeForRenderPass(),T=new dn(g.LEQUAL,dn.ReadWrite,v.depthRangeFor3D),E=v.useProgram("terrain"),R=s.getTerrainMesh();p.bindFramebuffer.set(null),p.viewport.set([0,0,v.width,v.height]);for(const B of h){const j=v.renderToTexture.getTexture(B),W=s.getTerrainData(B.tileID);p.activeTexture.set(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,j.texture);const X={u_matrix:v.transform.calculatePosMatrix(B.tileID.toUnwrapped()),u_texture:0,u_ele_delta:s.getMeshFrameDelta(v.transform.zoom)};E.draw(p,g.TRIANGLES,T,Qn.disabled,b,er.backCCW,X,W,"terrain",R.vertexBuffer,R.indexBuffer,R.segments)}}class yy{constructor(s,h){this.context=new zd(s),this.transform=h,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:c.create(),renderTime:0},this.setup(),this.numSublayers=on.maxUnderzooming+on.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ar}resize(s,h,p){if(this.width=Math.floor(s*p),this.height=Math.floor(h*p),this.pixelRatio=p,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const g of this.style._order)this.style._layers[g].resize()}setup(){const s=this.context,h=new c.PosArray;h.emplaceBack(0,0),h.emplaceBack(c.EXTENT,0),h.emplaceBack(0,c.EXTENT),h.emplaceBack(c.EXTENT,c.EXTENT),this.tileExtentBuffer=s.createVertexBuffer(h,bd.members),this.tileExtentSegments=c.SegmentVector.simpleSegment(0,0,4,2);const p=new c.PosArray;p.emplaceBack(0,0),p.emplaceBack(c.EXTENT,0),p.emplaceBack(0,c.EXTENT),p.emplaceBack(c.EXTENT,c.EXTENT),this.debugBuffer=s.createVertexBuffer(p,bd.members),this.debugSegments=c.SegmentVector.simpleSegment(0,0,4,5);const g=new c.RasterBoundsArray;g.emplaceBack(0,0,0,0),g.emplaceBack(c.EXTENT,0,c.EXTENT,0),g.emplaceBack(0,c.EXTENT,0,c.EXTENT),g.emplaceBack(c.EXTENT,c.EXTENT,c.EXTENT,c.EXTENT),this.rasterBoundsBuffer=s.createVertexBuffer(g,It.members),this.rasterBoundsSegments=c.SegmentVector.simpleSegment(0,0,4,2);const b=new c.PosArray;b.emplaceBack(0,0),b.emplaceBack(1,0),b.emplaceBack(0,1),b.emplaceBack(1,1),this.viewportBuffer=s.createVertexBuffer(b,bd.members),this.viewportSegments=c.SegmentVector.simpleSegment(0,0,4,2);const T=new c.LineStripIndexArray;T.emplaceBack(0),T.emplaceBack(1),T.emplaceBack(3),T.emplaceBack(2),T.emplaceBack(0),this.tileBorderIndexBuffer=s.createIndexBuffer(T);const E=new c.TriangleIndexArray;E.emplaceBack(0,1,2),E.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=s.createIndexBuffer(E);const R=this.context.gl;this.stencilClearMode=new Qn({func:R.ALWAYS,mask:0},0,255,R.ZERO,R.ZERO,R.ZERO)}clearStencil(){const s=this.context,h=s.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const p=c.create();c.ortho(p,0,this.width,this.height,0,0,1),c.scale(p,p,[h.drawingBufferWidth,h.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(s,h.TRIANGLES,dn.disabled,this.stencilClearMode,hr.disabled,er.disabled,Td(p),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(s,h){if(this.currentStencilSource===s.source||!s.isTileClipped()||!h||!h.length)return;this.currentStencilSource=s.source;const p=this.context,g=p.gl;this.nextStencilID+h.length>256&&this.clearStencil(),p.setColorMode(hr.disabled),p.setDepthMode(dn.disabled);const b=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const T of h){const E=this._tileClippingMaskIDs[T.key]=this.nextStencilID++,R=this.style.map.terrain&&this.style.map.terrain.getTerrainData(T);b.draw(p,g.TRIANGLES,dn.disabled,new Qn({func:g.ALWAYS,mask:0},E,255,g.KEEP,g.KEEP,g.REPLACE),hr.disabled,er.disabled,Td(T.posMatrix),R,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const s=this.nextStencilID++,h=this.context.gl;return new Qn({func:h.NOTEQUAL,mask:255},s,255,h.KEEP,h.KEEP,h.REPLACE)}stencilModeForClipping(s){const h=this.context.gl;return new Qn({func:h.EQUAL,mask:255},this._tileClippingMaskIDs[s.key],0,h.KEEP,h.KEEP,h.REPLACE)}stencilConfigForOverlap(s){const h=this.context.gl,p=s.sort((T,E)=>E.overscaledZ-T.overscaledZ),g=p[p.length-1].overscaledZ,b=p[0].overscaledZ-g+1;if(b>1){this.currentStencilSource=void 0,this.nextStencilID+b>256&&this.clearStencil();const T={};for(let E=0;E<b;E++)T[E+g]=new Qn({func:h.GEQUAL,mask:255},E+this.nextStencilID,255,h.KEEP,h.KEEP,h.REPLACE);return this.nextStencilID+=b,[T,p]}return[{[g]:Qn.disabled},p]}colorModeForRenderPass(){const s=this.context.gl;return this._showOverdrawInspector?new hr([s.CONSTANT_COLOR,s.ONE],new c.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?hr.unblended:hr.alphaBlended}depthModeForSublayer(s,h,p){if(!this.opaquePassEnabledForLayer())return dn.disabled;const g=1-((1+this.currentLayer)*this.numSublayers+s)*this.depthEpsilon;return new dn(p||this.context.gl.LEQUAL,h,[g,g])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(s,h){this.style=s,this.options=h,this.lineAtlas=s.lineAtlas,this.imageManager=s.imageManager,this.glyphManager=s.glyphManager,this.symbolFadeChange=s.placement.symbolFadeChange(c.browser.now()),this.imageManager.beginFrame();const p=this.style._order,g=this.style.sourceCaches,b={},T={},E={};for(const R in g){const B=g[R];B.used&&B.prepare(this.context),b[R]=B.getVisibleCoordinates(),T[R]=b[R].slice().reverse(),E[R]=B.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let R=0;R<p.length;R++)if(this.style._layers[p[R]].is3D()){this.opaquePassCutoff=R;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const R=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!c.equals(this.terrainFacilitator.matrix,this.transform.projMatrix)||R.length)&&(c.copy(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(B,j){const W=B.context,X=W.gl,se=hr.unblended,oe=new dn(X.LEQUAL,dn.ReadWrite,[0,1]),ce=j.getTerrainMesh(),ie=j.sourceCache.getRenderableTiles(),xe=B.useProgram("terrainDepth");W.bindFramebuffer.set(j.getFramebuffer("depth").framebuffer),W.viewport.set([0,0,B.width/devicePixelRatio,B.height/devicePixelRatio]),W.clear({color:c.Color.transparent,depth:1});for(const De of ie){const he=j.getTerrainData(De.tileID),Se={u_matrix:B.transform.calculatePosMatrix(De.tileID.toUnwrapped()),u_ele_delta:j.getMeshFrameDelta(B.transform.zoom)};xe.draw(W,X.TRIANGLES,oe,Qn.disabled,se,er.backCCW,Se,he,"terrain",ce.vertexBuffer,ce.indexBuffer,ce.segments)}W.bindFramebuffer.set(null),W.viewport.set([0,0,B.width,B.height])}(this,this.style.map.terrain),function(B,j){const W=B.context,X=W.gl,se=hr.unblended,oe=new dn(X.LEQUAL,dn.ReadWrite,[0,1]),ce=j.getTerrainMesh(),ie=j.getCoordsTexture(),xe=j.sourceCache.getRenderableTiles(),De=B.useProgram("terrainCoords");W.bindFramebuffer.set(j.getFramebuffer("coords").framebuffer),W.viewport.set([0,0,B.width/devicePixelRatio,B.height/devicePixelRatio]),W.clear({color:c.Color.transparent,depth:1}),j.coordsIndex=[];for(const he of xe){const Se=j.getTerrainData(he.tileID);W.activeTexture.set(X.TEXTURE0),X.bindTexture(X.TEXTURE_2D,ie.texture);const Be={u_matrix:B.transform.calculatePosMatrix(he.tileID.toUnwrapped()),u_terrain_coords_id:(255-j.coordsIndex.length)/255,u_texture:0,u_ele_delta:j.getMeshFrameDelta(B.transform.zoom)};De.draw(W,X.TRIANGLES,oe,Qn.disabled,se,er.backCCW,Be,Se,"terrain",ce.vertexBuffer,ce.indexBuffer,ce.segments),j.coordsIndex.push(he.tileID.key)}W.bindFramebuffer.set(null),W.viewport.set([0,0,B.width,B.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const R of p){const B=this.style._layers[R];if(!B.hasOffscreenPass()||B.isHidden(this.transform.zoom))continue;const j=T[B.source];(B.type==="custom"||j.length)&&this.renderLayer(this,g[B.source],B,j)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:h.showOverdrawInspector?c.Color.black:c.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=h.showOverdrawInspector,this.depthRangeFor3D=[0,1-(s._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=p.length-1;this.currentLayer>=0;this.currentLayer--){const R=this.style._layers[p[this.currentLayer]],B=g[R.source],j=b[R.source];this._renderTileClippingMasks(R,j),this.renderLayer(this,B,R,j)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<p.length;this.currentLayer++){const R=this.style._layers[p[this.currentLayer]],B=g[R.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(R))continue;const j=(R.type==="symbol"?E:T)[R.source];this._renderTileClippingMasks(R,b[R.source]),this.renderLayer(this,B,R,j)}if(this.options.showTileBoundaries){const R=function(B,j){let W=null;const X=Object.values(B._layers).flatMap(ie=>ie.source&&!ie.isHidden(j)?[B.sourceCaches[ie.source]]:[]),se=X.filter(ie=>ie.getSource().type==="vector"),oe=X.filter(ie=>ie.getSource().type!=="vector"),ce=ie=>{(!W||W.getSource().maxzoom<ie.getSource().maxzoom)&&(W=ie)};return se.forEach(ie=>ce(ie)),W||oe.forEach(ie=>ce(ie)),W}(this.style,this.transform.zoom);R&&function(B,j,W){for(let X=0;X<W.length;X++)vu(B,j,W[X])}(this,R,R.getVisibleCoordinates())}this.options.showPadding&&function(R){const B=R.transform.padding;Fd(R,R.transform.height-(B.top||0),3,gy),Fd(R,B.bottom||0,3,Dr),cp(R,B.left||0,3,il),cp(R,R.transform.width-(B.right||0),3,Co);const j=R.transform.centerPoint;(function(W,X,se,oe){Fs(W,X-1,se-10,2,20,oe),Fs(W,X-10,se-1,20,2,oe)})(R,j.x,R.transform.height-j.y,lp)}(this),this.context.setDefault()}renderLayer(s,h,p,g){if(!p.isHidden(this.transform.zoom)&&(p.type==="background"||p.type==="custom"||(g||[]).length))switch(this.id=p.id,p.type){case"symbol":(function(b,T,E,R,B){if(b.renderPass!=="translucent")return;const j=Qn.disabled,W=b.colorModeForRenderPass();(E._unevaluatedLayout.hasValue("text-variable-anchor")||E._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(X,se,oe,ce,ie,xe,De){const he=se.transform,Se=ie==="map",Be=xe==="map";for(const Ue of X){const He=ce.getTile(Ue),rt=He.getBucket(oe);if(!rt||!rt.text||!rt.text.segments.get().length)continue;const Je=c.evaluateSizeForZoom(rt.textSizeData,he.zoom),at=ve(He,1,se.transform.zoom),At=Bn(Ue.posMatrix,Be,Se,se.transform,at),hn=oe.layout.get("icon-text-fit")!=="none"&&rt.hasIconData();if(Je){const ft=Math.pow(2,he.zoom-He.tileID.overscaledZ);ip(rt,Se,Be,De,he,At,Ue.posMatrix,ft,Je,hn,se.style.map.terrain?(Gt,kt)=>se.style.map.terrain.getElevation(Ue,Gt,kt):null)}}}(R,b,E,T,E.layout.get("text-rotation-alignment"),E.layout.get("text-pitch-alignment"),B),E.paint.get("icon-opacity").constantOr(1)!==0&&op(b,T,E,R,!1,E.paint.get("icon-translate"),E.paint.get("icon-translate-anchor"),E.layout.get("icon-rotation-alignment"),E.layout.get("icon-pitch-alignment"),E.layout.get("icon-keep-upright"),j,W),E.paint.get("text-opacity").constantOr(1)!==0&&op(b,T,E,R,!0,E.paint.get("text-translate"),E.paint.get("text-translate-anchor"),E.layout.get("text-rotation-alignment"),E.layout.get("text-pitch-alignment"),E.layout.get("text-keep-upright"),j,W),T.map.showCollisionBoxes&&(gu(b,T,E,R,E.paint.get("text-translate"),E.paint.get("text-translate-anchor"),!0),gu(b,T,E,R,E.paint.get("icon-translate"),E.paint.get("icon-translate-anchor"),!1))})(s,h,p,g,this.style.placement.variableOffsets);break;case"circle":(function(b,T,E,R){if(b.renderPass!=="translucent")return;const B=E.paint.get("circle-opacity"),j=E.paint.get("circle-stroke-width"),W=E.paint.get("circle-stroke-opacity"),X=!E.layout.get("circle-sort-key").isConstant();if(B.constantOr(1)===0&&(j.constantOr(1)===0||W.constantOr(1)===0))return;const se=b.context,oe=se.gl,ce=b.depthModeForSublayer(0,dn.ReadOnly),ie=Qn.disabled,xe=b.colorModeForRenderPass(),De=[];for(let he=0;he<R.length;he++){const Se=R[he],Be=T.getTile(Se),Ue=Be.getBucket(E);if(!Ue)continue;const He=Ue.programConfigurations.get(E.id),rt=b.useProgram("circle",He),Je=Ue.layoutVertexBuffer,at=Ue.indexBuffer,At=b.style.map.terrain&&b.style.map.terrain.getTerrainData(Se),hn={programConfiguration:He,program:rt,layoutVertexBuffer:Je,indexBuffer:at,uniformValues:w1(b,Se,Be,E),terrainData:At};if(X){const ft=Ue.segments.get();for(const Gt of ft)De.push({segments:new c.SegmentVector([Gt]),sortKey:Gt.sortKey,state:hn})}else De.push({segments:Ue.segments,sortKey:0,state:hn})}X&&De.sort((he,Se)=>he.sortKey-Se.sortKey);for(const he of De){const{programConfiguration:Se,program:Be,layoutVertexBuffer:Ue,indexBuffer:He,uniformValues:rt,terrainData:Je}=he.state;Be.draw(se,oe.TRIANGLES,ce,ie,xe,er.disabled,rt,Je,E.id,Ue,He,he.segments,E.paint,b.transform.zoom,Se)}})(s,h,p,g);break;case"heatmap":(function(b,T,E,R){if(E.paint.get("heatmap-opacity")!==0)if(b.renderPass==="offscreen"){const B=b.context,j=B.gl,W=Qn.disabled,X=new hr([j.ONE,j.ONE],c.Color.transparent,[!0,!0,!0,!0]);(function(se,oe,ce){const ie=se.gl;se.activeTexture.set(ie.TEXTURE1),se.viewport.set([0,0,oe.width/4,oe.height/4]);let xe=ce.heatmapFbo;if(xe)ie.bindTexture(ie.TEXTURE_2D,xe.colorAttachment.get()),se.bindFramebuffer.set(xe.framebuffer);else{const De=ie.createTexture();ie.bindTexture(ie.TEXTURE_2D,De),ie.texParameteri(ie.TEXTURE_2D,ie.TEXTURE_WRAP_S,ie.CLAMP_TO_EDGE),ie.texParameteri(ie.TEXTURE_2D,ie.TEXTURE_WRAP_T,ie.CLAMP_TO_EDGE),ie.texParameteri(ie.TEXTURE_2D,ie.TEXTURE_MIN_FILTER,ie.LINEAR),ie.texParameteri(ie.TEXTURE_2D,ie.TEXTURE_MAG_FILTER,ie.LINEAR),xe=ce.heatmapFbo=se.createFramebuffer(oe.width/4,oe.height/4,!1,!1),function(he,Se,Be,Ue){var He,rt;const Je=he.gl,at=(He=he.HALF_FLOAT)!==null&&He!==void 0?He:Je.UNSIGNED_BYTE,At=(rt=he.RGBA16F)!==null&&rt!==void 0?rt:Je.RGBA;Je.texImage2D(Je.TEXTURE_2D,0,At,Se.width/4,Se.height/4,0,Je.RGBA,at,null),Ue.colorAttachment.set(Be)}(se,oe,De,xe)}})(B,b,E),B.clear({color:c.Color.transparent});for(let se=0;se<R.length;se++){const oe=R[se];if(T.hasRenderableParent(oe))continue;const ce=T.getTile(oe),ie=ce.getBucket(E);if(!ie)continue;const xe=ie.programConfigurations.get(E.id),De=b.useProgram("heatmap",xe),{zoom:he}=b.transform;De.draw(B,j.TRIANGLES,dn.disabled,W,X,er.disabled,oy(oe.posMatrix,ce,he,E.paint.get("heatmap-intensity")),null,E.id,ie.layoutVertexBuffer,ie.indexBuffer,ie.segments,E.paint,b.transform.zoom,xe)}B.viewport.set([0,0,b.width,b.height])}else b.renderPass==="translucent"&&(b.context.setColorMode(b.colorModeForRenderPass()),function(B,j){const W=B.context,X=W.gl,se=j.heatmapFbo;if(!se)return;W.activeTexture.set(X.TEXTURE0),X.bindTexture(X.TEXTURE_2D,se.colorAttachment.get()),W.activeTexture.set(X.TEXTURE1);let oe=j.colorRampTexture;oe||(oe=j.colorRampTexture=new ye(W,j.colorRamp,X.RGBA)),oe.bind(X.LINEAR,X.CLAMP_TO_EDGE),B.useProgram("heatmapTexture").draw(W,X.TRIANGLES,dn.disabled,Qn.disabled,B.colorModeForRenderPass(),er.disabled,((ce,ie,xe,De)=>{const he=c.create();c.ortho(he,0,ce.width,ce.height,0,0,1);const Se=ce.context.gl;return{u_matrix:he,u_world:[Se.drawingBufferWidth,Se.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:ie.paint.get("heatmap-opacity")}})(B,j),null,j.id,B.viewportBuffer,B.quadTriangleIndexBuffer,B.viewportSegments,j.paint,B.transform.zoom)}(b,E))})(s,h,p,g);break;case"line":(function(b,T,E,R){if(b.renderPass!=="translucent")return;const B=E.paint.get("line-opacity"),j=E.paint.get("line-width");if(B.constantOr(1)===0||j.constantOr(1)===0)return;const W=b.depthModeForSublayer(0,dn.ReadOnly),X=b.colorModeForRenderPass(),se=E.paint.get("line-dasharray"),oe=E.paint.get("line-pattern"),ce=oe.constantOr(1),ie=E.paint.get("line-gradient"),xe=E.getCrossfadeParameters(),De=ce?"linePattern":se?"lineSDF":ie?"lineGradient":"line",he=b.context,Se=he.gl;let Be=!0;for(const Ue of R){const He=T.getTile(Ue);if(ce&&!He.patternsLoaded())continue;const rt=He.getBucket(E);if(!rt)continue;const Je=rt.programConfigurations.get(E.id),at=b.context.program.get(),At=b.useProgram(De,Je),hn=Be||At.program!==at,ft=b.style.map.terrain&&b.style.map.terrain.getTerrainData(Ue),Gt=oe.constantOr(null);if(Gt&&He.imageAtlas){const un=He.imageAtlas,sn=un.patternPositions[Gt.to.toString()],Ht=un.patternPositions[Gt.from.toString()];sn&&Ht&&Je.setConstantPatternPositions(sn,Ht)}const kt=ft?Ue:null,Hn=ce?Qa(b,He,E,xe,kt):se?Ed(b,He,E,se,xe,kt):ie?ay(b,He,E,rt.lineClipsArray.length,kt):kd(b,He,E,kt);if(ce)he.activeTexture.set(Se.TEXTURE0),He.imageAtlasTexture.bind(Se.LINEAR,Se.CLAMP_TO_EDGE),Je.updatePaintBuffers(xe);else if(se&&(hn||b.lineAtlas.dirty))he.activeTexture.set(Se.TEXTURE0),b.lineAtlas.bind(he);else if(ie){const un=rt.gradients[E.id];let sn=un.texture;if(E.gradientVersion!==un.version){let Ht=256;if(E.stepInterpolant){const br=T.getSource().maxzoom,zn=Ue.canonical.z===br?Math.ceil(1<<b.transform.maxZoom-Ue.canonical.z):1;Ht=c.clamp(c.nextPowerOfTwo(rt.maxLineLength/c.EXTENT*1024*zn),256,he.maxTextureSize)}un.gradient=c.renderColorRamp({expression:E.gradientExpression(),evaluationKey:"lineProgress",resolution:Ht,image:un.gradient||void 0,clips:rt.lineClipsArray}),un.texture?un.texture.update(un.gradient):un.texture=new ye(he,un.gradient,Se.RGBA),un.version=E.gradientVersion,sn=un.texture}he.activeTexture.set(Se.TEXTURE0),sn.bind(E.stepInterpolant?Se.NEAREST:Se.LINEAR,Se.CLAMP_TO_EDGE)}At.draw(he,Se.TRIANGLES,W,b.stencilModeForClipping(Ue),X,er.disabled,Hn,ft,E.id,rt.layoutVertexBuffer,rt.indexBuffer,rt.segments,E.paint,b.transform.zoom,Je,rt.layoutVertexBuffer2),Be=!1}})(s,h,p,g);break;case"fill":(function(b,T,E,R){const B=E.paint.get("fill-color"),j=E.paint.get("fill-opacity");if(j.constantOr(1)===0)return;const W=b.colorModeForRenderPass(),X=E.paint.get("fill-pattern"),se=b.opaquePassEnabledForLayer()&&!X.constantOr(1)&&B.constantOr(c.Color.transparent).a===1&&j.constantOr(0)===1?"opaque":"translucent";if(b.renderPass===se){const oe=b.depthModeForSublayer(1,b.renderPass==="opaque"?dn.ReadWrite:dn.ReadOnly);sp(b,T,E,R,oe,W,!1)}if(b.renderPass==="translucent"&&E.paint.get("fill-antialias")){const oe=b.depthModeForSublayer(E.getPaintProperty("fill-outline-color")?2:0,dn.ReadOnly);sp(b,T,E,R,oe,W,!0)}})(s,h,p,g);break;case"fill-extrusion":(function(b,T,E,R){const B=E.paint.get("fill-extrusion-opacity");if(B!==0&&b.renderPass==="translucent"){const j=new dn(b.context.gl.LEQUAL,dn.ReadWrite,b.depthRangeFor3D);if(B!==1||E.paint.get("fill-extrusion-pattern").constantOr(1))$d(b,T,E,R,j,Qn.disabled,hr.disabled),$d(b,T,E,R,j,b.stencilModeFor3D(),b.colorModeForRenderPass());else{const W=b.colorModeForRenderPass();$d(b,T,E,R,j,Qn.disabled,W)}}})(s,h,p,g);break;case"hillshade":(function(b,T,E,R){if(b.renderPass!=="offscreen"&&b.renderPass!=="translucent")return;const B=b.context,j=b.depthModeForSublayer(0,dn.ReadOnly),W=b.colorModeForRenderPass(),[X,se]=b.renderPass==="translucent"?b.stencilConfigForOverlap(R):[{},R];for(const oe of se){const ce=T.getTile(oe);ce.needsHillshadePrepare!==void 0&&ce.needsHillshadePrepare&&b.renderPass==="offscreen"?ap(b,ce,E,j,Qn.disabled,W):b.renderPass==="translucent"&&Nd(b,oe,ce,E,j,X[oe.overscaledZ],W)}B.viewport.set([0,0,b.width,b.height])})(s,h,p,g);break;case"raster":(function(b,T,E,R){if(b.renderPass!=="translucent"||E.paint.get("raster-opacity")===0||!R.length)return;const B=b.context,j=B.gl,W=T.getSource(),X=b.useProgram("raster"),se=b.colorModeForRenderPass(),[oe,ce]=W instanceof jt?[{},R]:b.stencilConfigForOverlap(R),ie=ce[ce.length-1].overscaledZ,xe=!b.options.moving;for(const De of ce){const he=b.depthModeForSublayer(De.overscaledZ-ie,E.paint.get("raster-opacity")===1?dn.ReadWrite:dn.ReadOnly,j.LESS),Se=T.getTile(De);Se.registerFadeDuration(E.paint.get("raster-fade-duration"));const Be=T.findLoadedParent(De,0),Ue=z1(Se,Be,T,E,b.transform,b.style.map.terrain);let He,rt;const Je=E.paint.get("raster-resampling")==="nearest"?j.NEAREST:j.LINEAR;B.activeTexture.set(j.TEXTURE0),Se.texture.bind(Je,j.CLAMP_TO_EDGE,j.LINEAR_MIPMAP_NEAREST),B.activeTexture.set(j.TEXTURE1),Be?(Be.texture.bind(Je,j.CLAMP_TO_EDGE,j.LINEAR_MIPMAP_NEAREST),He=Math.pow(2,Be.tileID.overscaledZ-Se.tileID.overscaledZ),rt=[Se.tileID.canonical.x*He%1,Se.tileID.canonical.y*He%1]):Se.texture.bind(Je,j.CLAMP_TO_EDGE,j.LINEAR_MIPMAP_NEAREST);const at=b.style.map.terrain&&b.style.map.terrain.getTerrainData(De),At=at?De:null,hn=At?At.posMatrix:b.transform.calculatePosMatrix(De.toUnwrapped(),xe),ft=Pd(hn,rt||[0,0],He||1,Ue,E);W instanceof jt?X.draw(B,j.TRIANGLES,he,Qn.disabled,se,er.disabled,ft,at,E.id,W.boundsBuffer,b.quadTriangleIndexBuffer,W.boundsSegments):X.draw(B,j.TRIANGLES,he,oe[De.overscaledZ],se,er.disabled,ft,at,E.id,b.rasterBoundsBuffer,b.quadTriangleIndexBuffer,b.rasterBoundsSegments)}})(s,h,p,g);break;case"background":(function(b,T,E,R){const B=E.paint.get("background-color"),j=E.paint.get("background-opacity");if(j===0)return;const W=b.context,X=W.gl,se=b.transform,oe=se.tileSize,ce=E.paint.get("background-pattern");if(b.isPatternMissing(ce))return;const ie=!ce&&B.a===1&&j===1&&b.opaquePassEnabledForLayer()?"opaque":"translucent";if(b.renderPass!==ie)return;const xe=Qn.disabled,De=b.depthModeForSublayer(0,ie==="opaque"?dn.ReadWrite:dn.ReadOnly),he=b.colorModeForRenderPass(),Se=b.useProgram(ce?"backgroundPattern":"background"),Be=R||se.coveringTiles({tileSize:oe,terrain:b.style.map.terrain});ce&&(W.activeTexture.set(X.TEXTURE0),b.imageManager.bind(b.context));const Ue=E.getCrossfadeParameters();for(const He of Be){const rt=R?He.posMatrix:b.transform.calculatePosMatrix(He.toUnwrapped()),Je=ce?Id(rt,j,b,ce,{tileID:He,tileSize:oe},Ue):el(rt,j,B),at=b.style.map.terrain&&b.style.map.terrain.getTerrainData(He);Se.draw(W,X.TRIANGLES,De,xe,he,er.disabled,Je,at,E.id,b.tileExtentBuffer,b.quadTriangleIndexBuffer,b.tileExtentSegments)}})(s,0,p,g);break;case"custom":(function(b,T,E){const R=b.context,B=E.implementation;if(b.renderPass==="offscreen"){const j=B.prerender;j&&(b.setCustomLayerDefaults(),R.setColorMode(b.colorModeForRenderPass()),j.call(B,R.gl,b.transform.customLayerMatrix()),R.setDirty(),b.setBaseState())}else if(b.renderPass==="translucent"){b.setCustomLayerDefaults(),R.setColorMode(b.colorModeForRenderPass()),R.setStencilMode(Qn.disabled);const j=B.renderingMode==="3d"?new dn(b.context.gl.LEQUAL,dn.ReadWrite,b.depthRangeFor3D):b.depthModeForSublayer(0,dn.ReadOnly);R.setDepthMode(j),B.render(R.gl,b.transform.customLayerMatrix()),R.setDirty(),b.setBaseState(),R.bindFramebuffer.set(null)}})(s,0,p)}}translatePosMatrix(s,h,p,g,b){if(!p[0]&&!p[1])return s;const T=b?g==="map"?this.transform.angle:0:g==="viewport"?-this.transform.angle:0;if(T){const B=Math.sin(T),j=Math.cos(T);p=[p[0]*j-p[1]*B,p[0]*B+p[1]*j]}const E=[b?p[0]:ve(h,p[0],this.transform.zoom),b?p[1]:ve(h,p[1],this.transform.zoom),0],R=new Float32Array(16);return c.translate(R,s,E),R}saveTileTexture(s){const h=this._tileTextures[s.size[0]];h?h.push(s):this._tileTextures[s.size[0]]=[s]}getTileTexture(s){const h=this._tileTextures[s];return h&&h.length>0?h.pop():null}isPatternMissing(s){if(!s)return!1;if(!s.from||!s.to)return!0;const h=this.imageManager.getPattern(s.from.toString()),p=this.imageManager.getPattern(s.to.toString());return!h||!p}useProgram(s,h){this.cache=this.cache||{};const p=s+(h?h.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[p]||(this.cache[p]=new _a(this.context,lu[s],h,lo[s],this._showOverdrawInspector,this.style.map.terrain)),this.cache[p]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const s=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(s.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new ye(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:s,drawingBufferHeight:h}=this.context.gl;return this.width!==s||this.height!==h}}class jd{constructor(s,h){this.points=s,this.planes=h}static fromInvProjectionMatrix(s,h,p){const g=Math.pow(2,p),b=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(E=>{const R=1/(E=c.transformMat4([],E,s))[3]/h*g;return c.mul$1(E,E,[R,R,1/E[3],R])}),T=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(E=>{const R=function(X,se){var oe=se[0],ce=se[1],ie=se[2],xe=oe*oe+ce*ce+ie*ie;return xe>0&&(xe=1/Math.sqrt(xe)),X[0]=se[0]*xe,X[1]=se[1]*xe,X[2]=se[2]*xe,X}([],function(X,se,oe){var ce=se[0],ie=se[1],xe=se[2],De=oe[0],he=oe[1],Se=oe[2];return X[0]=ie*Se-xe*he,X[1]=xe*De-ce*Se,X[2]=ce*he-ie*De,X}([],J([],b[E[0]],b[E[1]]),J([],b[E[2]],b[E[1]]))),B=-((j=R)[0]*(W=b[E[1]])[0]+j[1]*W[1]+j[2]*W[2]);var j,W;return R.concat(B)});return new jd(b,T)}}class _u{constructor(s,h){this.min=s,this.max=h,this.center=function(p,g,b){return p[0]=.5*g[0],p[1]=.5*g[1],p[2]=.5*g[2],p}([],function(p,g,b){return p[0]=g[0]+b[0],p[1]=g[1]+b[1],p[2]=g[2]+b[2],p}([],this.min,this.max))}quadrant(s){const h=[s%2==0,s<2],p=q(this.min),g=q(this.max);for(let b=0;b<h.length;b++)p[b]=h[b]?this.min[b]:this.center[b],g[b]=h[b]?this.center[b]:this.max[b];return g[2]=this.max[2],new _u(p,g)}distanceX(s){return Math.max(Math.min(this.max[0],s[0]),this.min[0])-s[0]}distanceY(s){return Math.max(Math.min(this.max[1],s[1]),this.min[1])-s[1]}intersects(s){const h=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let p=!0;for(let g=0;g<s.planes.length;g++){const b=s.planes[g];let T=0;for(let E=0;E<h.length;E++)c.dot(b,h[E])>=0&&T++;if(T===0)return 0;T!==h.length&&(p=!1)}if(p)return 2;for(let g=0;g<3;g++){let b=Number.MAX_VALUE,T=-Number.MAX_VALUE;for(let E=0;E<s.points.length;E++){const R=s.points[E][g]-this.min[g];b=Math.min(b,R),T=Math.max(T,R)}if(T<0||b>this.max[g]-this.min[g])return 0}return 1}}class Ud{constructor(s=0,h=0,p=0,g=0){if(isNaN(s)||s<0||isNaN(h)||h<0||isNaN(p)||p<0||isNaN(g)||g<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=s,this.bottom=h,this.left=p,this.right=g}interpolate(s,h,p){return h.top!=null&&s.top!=null&&(this.top=c.interpolate.number(s.top,h.top,p)),h.bottom!=null&&s.bottom!=null&&(this.bottom=c.interpolate.number(s.bottom,h.bottom,p)),h.left!=null&&s.left!=null&&(this.left=c.interpolate.number(s.left,h.left,p)),h.right!=null&&s.right!=null&&(this.right=c.interpolate.number(s.right,h.right,p)),this}getCenter(s,h){const p=c.clamp((this.left+s-this.right)/2,0,s),g=c.clamp((this.top+h-this.bottom)/2,0,h);return new c.Point(p,g)}equals(s){return this.top===s.top&&this.bottom===s.bottom&&this.left===s.left&&this.right===s.right}clone(){return new Ud(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class Vd{constructor(s,h,p,g,b){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=b===void 0||!!b,this._minZoom=s||0,this._maxZoom=h||22,this._minPitch=p??0,this._maxPitch=g??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new c.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Ud,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const s=new Vd(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return s.apply(this),s}apply(s){this.tileSize=s.tileSize,this.latRange=s.latRange,this.width=s.width,this.height=s.height,this._center=s._center,this._elevation=s._elevation,this._minEleveationForCurrentTile=s._minEleveationForCurrentTile,this.zoom=s.zoom,this.angle=s.angle,this._fov=s._fov,this._pitch=s._pitch,this._unmodified=s._unmodified,this._edgeInsets=s._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(s){this._minZoom!==s&&(this._minZoom=s,this.zoom=Math.max(this.zoom,s))}get maxZoom(){return this._maxZoom}set maxZoom(s){this._maxZoom!==s&&(this._maxZoom=s,this.zoom=Math.min(this.zoom,s))}get minPitch(){return this._minPitch}set minPitch(s){this._minPitch!==s&&(this._minPitch=s,this.pitch=Math.max(this.pitch,s))}get maxPitch(){return this._maxPitch}set maxPitch(s){this._maxPitch!==s&&(this._maxPitch=s,this.pitch=Math.min(this.pitch,s))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(s){s===void 0?s=!0:s===null&&(s=!1),this._renderWorldCopies=s}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new c.Point(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(s){const h=-c.wrap(s,-180,180)*Math.PI/180;this.angle!==h&&(this._unmodified=!1,this.angle=h,this._calcMatrices(),this.rotationMatrix=function(){var p=new c.ARRAY_TYPE(4);return c.ARRAY_TYPE!=Float32Array&&(p[1]=0,p[2]=0),p[0]=1,p[3]=1,p}(),function(p,g,b){var T=g[0],E=g[1],R=g[2],B=g[3],j=Math.sin(b),W=Math.cos(b);p[0]=T*W+R*j,p[1]=E*W+B*j,p[2]=T*-j+R*W,p[3]=E*-j+B*W}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(s){const h=c.clamp(s,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==h&&(this._unmodified=!1,this._pitch=h,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(s){s=Math.max(.01,Math.min(60,s)),this._fov!==s&&(this._unmodified=!1,this._fov=s/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(s){const h=Math.min(Math.max(s,this.minZoom),this.maxZoom);this._zoom!==h&&(this._unmodified=!1,this._zoom=h,this.tileZoom=Math.max(0,Math.floor(h)),this.scale=this.zoomScale(h),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(s){s.lat===this._center.lat&&s.lng===this._center.lng||(this._unmodified=!1,this._center=s,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(s){s!==this._elevation&&(this._elevation=s,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(s){this._edgeInsets.equals(s)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,s,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(s){return this._edgeInsets.equals(s)}interpolatePadding(s,h,p){this._unmodified=!1,this._edgeInsets.interpolate(s,h,p),this._constrain(),this._calcMatrices()}coveringZoomLevel(s){const h=(s.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/s.tileSize));return Math.max(0,h)}getVisibleUnwrappedCoordinates(s){const h=[new c.UnwrappedTileID(0,s)];if(this._renderWorldCopies){const p=this.pointCoordinate(new c.Point(0,0)),g=this.pointCoordinate(new c.Point(this.width,0)),b=this.pointCoordinate(new c.Point(this.width,this.height)),T=this.pointCoordinate(new c.Point(0,this.height)),E=Math.floor(Math.min(p.x,g.x,b.x,T.x)),R=Math.floor(Math.max(p.x,g.x,b.x,T.x)),B=1;for(let j=E-B;j<=R+B;j++)j!==0&&h.push(new c.UnwrappedTileID(j,s))}return h}coveringTiles(s){var h,p;let g=this.coveringZoomLevel(s);const b=g;if(s.minzoom!==void 0&&g<s.minzoom)return[];s.maxzoom!==void 0&&g>s.maxzoom&&(g=s.maxzoom);const T=this.pointCoordinate(this.getCameraPoint()),E=c.MercatorCoordinate.fromLngLat(this.center),R=Math.pow(2,g),B=[R*T.x,R*T.y,0],j=[R*E.x,R*E.y,0],W=jd.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,g);let X=s.minzoom||0;!s.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(X=g);const se=s.terrain?2/Math.min(this.tileSize,s.tileSize)*this.tileSize:3,oe=he=>({aabb:new _u([he*R,0,0],[(he+1)*R,R,0]),zoom:0,x:0,y:0,wrap:he,fullyVisible:!1}),ce=[],ie=[],xe=g,De=s.reparseOverscaled?b:g;if(this._renderWorldCopies)for(let he=1;he<=3;he++)ce.push(oe(-he)),ce.push(oe(he));for(ce.push(oe(0));ce.length>0;){const he=ce.pop(),Se=he.x,Be=he.y;let Ue=he.fullyVisible;if(!Ue){const At=he.aabb.intersects(W);if(At===0)continue;Ue=At===2}const He=s.terrain?B:j,rt=he.aabb.distanceX(He),Je=he.aabb.distanceY(He),at=Math.max(Math.abs(rt),Math.abs(Je));if(he.zoom===xe||at>se+(1<<xe-he.zoom)-2&&he.zoom>=X){const At=xe-he.zoom,hn=B[0]-.5-(Se<<At),ft=B[1]-.5-(Be<<At);ie.push({tileID:new c.OverscaledTileID(he.zoom===xe?De:he.zoom,he.wrap,he.zoom,Se,Be),distanceSq:te([j[0]-.5-Se,j[1]-.5-Be]),tileDistanceToCamera:Math.sqrt(hn*hn+ft*ft)})}else for(let At=0;At<4;At++){const hn=(Se<<1)+At%2,ft=(Be<<1)+(At>>1),Gt=he.zoom+1;let kt=he.aabb.quadrant(At);if(s.terrain){const Hn=new c.OverscaledTileID(Gt,he.wrap,Gt,hn,ft),un=s.terrain.getMinMaxElevation(Hn),sn=(h=un.minElevation)!==null&&h!==void 0?h:this.elevation,Ht=(p=un.maxElevation)!==null&&p!==void 0?p:this.elevation;kt=new _u([kt.min[0],kt.min[1],sn],[kt.max[0],kt.max[1],Ht])}ce.push({aabb:kt,zoom:Gt,x:hn,y:ft,wrap:he.wrap,fullyVisible:Ue})}}return ie.sort((he,Se)=>he.distanceSq-Se.distanceSq).map(he=>he.tileID)}resize(s,h){this.width=s,this.height=h,this.pixelsToGLUnits=[2/s,-2/h],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(s){return Math.pow(2,s)}scaleZoom(s){return Math.log(s)/Math.LN2}project(s){const h=c.clamp(s.lat,-this.maxValidLatitude,this.maxValidLatitude);return new c.Point(c.mercatorXfromLng(s.lng)*this.worldSize,c.mercatorYfromLat(h)*this.worldSize)}unproject(s){return new c.MercatorCoordinate(s.x/this.worldSize,s.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(s){const h=this.pointLocation(this.centerPoint,s),p=s.getElevationForLngLatZoom(h,this.tileZoom);if(!(this.elevation-p))return;const g=this.getCameraPosition(),b=c.MercatorCoordinate.fromLngLat(g.lngLat,g.altitude),T=c.MercatorCoordinate.fromLngLat(h,p),E=b.x-T.x,R=b.y-T.y,B=b.z-T.z,j=Math.sqrt(E*E+R*R+B*B),W=this.scaleZoom(this.cameraToCenterDistance/j/this.tileSize);this._elevation=p,this._center=h,this.zoom=W}setLocationAtPoint(s,h){const p=this.pointCoordinate(h),g=this.pointCoordinate(this.centerPoint),b=this.locationCoordinate(s),T=new c.MercatorCoordinate(b.x-(p.x-g.x),b.y-(p.y-g.y));this.center=this.coordinateLocation(T),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(s,h){return h?this.coordinatePoint(this.locationCoordinate(s),h.getElevationForLngLatZoom(s,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(s))}pointLocation(s,h){return this.coordinateLocation(this.pointCoordinate(s,h))}locationCoordinate(s){return c.MercatorCoordinate.fromLngLat(s)}coordinateLocation(s){return s&&s.toLngLat()}pointCoordinate(s,h){if(h){const X=h.pointCoordinate(s);if(X!=null)return X}const p=[s.x,s.y,0,1],g=[s.x,s.y,1,1];c.transformMat4(p,p,this.pixelMatrixInverse),c.transformMat4(g,g,this.pixelMatrixInverse);const b=p[3],T=g[3],E=p[1]/b,R=g[1]/T,B=p[2]/b,j=g[2]/T,W=B===j?0:(0-B)/(j-B);return new c.MercatorCoordinate(c.interpolate.number(p[0]/b,g[0]/T,W)/this.worldSize,c.interpolate.number(E,R,W)/this.worldSize)}coordinatePoint(s,h=0,p=this.pixelMatrix){const g=[s.x*this.worldSize,s.y*this.worldSize,h,1];return c.transformMat4(g,g,p),new c.Point(g[0]/g[3],g[1]/g[3])}getBounds(){const s=Math.max(0,this.height/2-this.getHorizon());return new Ae().extend(this.pointLocation(new c.Point(0,s))).extend(this.pointLocation(new c.Point(this.width,s))).extend(this.pointLocation(new c.Point(this.width,this.height))).extend(this.pointLocation(new c.Point(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new Ae([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(s){s?(this.lngRange=[s.getWest(),s.getEast()],this.latRange=[s.getSouth(),s.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(s,h=!1){const p=s.key,g=h?this._alignedPosMatrixCache:this._posMatrixCache;if(g[p])return g[p];const b=s.canonical,T=this.worldSize/this.zoomScale(b.z),E=b.x+Math.pow(2,b.z)*s.wrap,R=c.identity(new Float64Array(16));return c.translate(R,R,[E*T,b.y*T,0]),c.scale(R,R,[T/c.EXTENT,T/c.EXTENT,1]),c.multiply(R,h?this.alignedProjMatrix:this.projMatrix,R),g[p]=new Float32Array(R),g[p]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let s,h,p,g,b=-90,T=90,E=-180,R=180;const B=this.size,j=this._unmodified;if(this.latRange){const se=this.latRange;b=c.mercatorYfromLat(se[1])*this.worldSize,T=c.mercatorYfromLat(se[0])*this.worldSize,s=T-b<B.y?B.y/(T-b):0}if(this.lngRange){const se=this.lngRange;E=c.wrap(c.mercatorXfromLng(se[0])*this.worldSize,0,this.worldSize),R=c.wrap(c.mercatorXfromLng(se[1])*this.worldSize,0,this.worldSize),R<E&&(R+=this.worldSize),h=R-E<B.x?B.x/(R-E):0}const W=this.point,X=Math.max(h||0,s||0);if(X)return this.center=this.unproject(new c.Point(h?(R+E)/2:W.x,s?(T+b)/2:W.y)),this.zoom+=this.scaleZoom(X),this._unmodified=j,void(this._constraining=!1);if(this.latRange){const se=W.y,oe=B.y/2;se-oe<b&&(g=b+oe),se+oe>T&&(g=T-oe)}if(this.lngRange){const se=(E+R)/2,oe=c.wrap(W.x,se-this.worldSize/2,se+this.worldSize/2),ce=B.x/2;oe-ce<E&&(p=E+ce),oe+ce>R&&(p=R-ce)}p===void 0&&g===void 0||(this.center=this.unproject(new c.Point(p!==void 0?p:W.x,g!==void 0?g:W.y)).wrap()),this._unmodified=j,this._constraining=!1}_calcMatrices(){if(!this.height)return;const s=this.centerOffset,h=this.point.x,p=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=c.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let g=c.identity(new Float64Array(16));c.scale(g,g,[this.width/2,-this.height/2,1]),c.translate(g,g,[1,-1,0]),this.labelPlaneMatrix=g,g=c.identity(new Float64Array(16)),c.scale(g,g,[1,-1,1]),c.translate(g,g,[-1,-1,0]),c.scale(g,g,[2/this.width,2/this.height,1]),this.glCoordMatrix=g;const b=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),T=Math.min(this.elevation,this._minEleveationForCurrentTile),E=b-T*this._pixelPerMeter/Math.cos(this._pitch),R=T<0?E:b,B=Math.PI/2+this._pitch,j=this._fov*(.5+s.y/this.height),W=Math.sin(j)*R/Math.sin(c.clamp(Math.PI-B-j,.01,Math.PI-.01)),X=this.getHorizon(),se=2*Math.atan(X/this.cameraToCenterDistance)*(.5+s.y/(2*X)),oe=Math.sin(se)*R/Math.sin(c.clamp(Math.PI-B-se,.01,Math.PI-.01)),ce=Math.min(W,oe),ie=1.01*(Math.cos(Math.PI/2-this._pitch)*ce+R),xe=this.height/50;g=new Float64Array(16),c.perspective(g,this._fov,this.width/this.height,xe,ie),g[8]=2*-s.x/this.width,g[9]=2*s.y/this.height,c.scale(g,g,[1,-1,1]),c.translate(g,g,[0,0,-this.cameraToCenterDistance]),c.rotateX(g,g,this._pitch),c.rotateZ(g,g,this.angle),c.translate(g,g,[-h,-p,0]),this.mercatorMatrix=c.scale([],g,[this.worldSize,this.worldSize,this.worldSize]),c.scale(g,g,[1,1,this._pixelPerMeter]),this.pixelMatrix=c.multiply(new Float64Array(16),this.labelPlaneMatrix,g),c.translate(g,g,[0,0,-this.elevation]),this.projMatrix=g,this.invProjMatrix=c.invert([],g),this.pixelMatrix3D=c.multiply(new Float64Array(16),this.labelPlaneMatrix,g);const De=this.width%2/2,he=this.height%2/2,Se=Math.cos(this.angle),Be=Math.sin(this.angle),Ue=h-Math.round(h)+Se*De+Be*he,He=p-Math.round(p)+Se*he+Be*De,rt=new Float64Array(g);if(c.translate(rt,rt,[Ue>.5?Ue-1:Ue,He>.5?He-1:He,0]),this.alignedProjMatrix=rt,g=c.invert(new Float64Array(16),this.pixelMatrix),!g)throw new Error("failed to invert matrix");this.pixelMatrixInverse=g,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const s=this.pointCoordinate(new c.Point(0,0)),h=[s.x*this.worldSize,s.y*this.worldSize,0,1];return c.transformMat4(h,h,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const s=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new c.Point(0,s))}getCameraQueryGeometry(s){const h=this.getCameraPoint();if(s.length===1)return[s[0],h];{let p=h.x,g=h.y,b=h.x,T=h.y;for(const E of s)p=Math.min(p,E.x),g=Math.min(g,E.y),b=Math.max(b,E.x),T=Math.max(T,E.y);return[new c.Point(p,g),new c.Point(b,g),new c.Point(b,T),new c.Point(p,T),new c.Point(p,g)]}}}class ol{constructor(s){this._getCurrentHash=()=>{const h=window.location.hash.replace("#","");if(this._hashName){let p;return h.split("&").map(g=>g.split("=")).forEach(g=>{g[0]===this._hashName&&(p=g)}),(p&&p[1]||"").split("/")}return h.split("/")},this._onHashChange=()=>{const h=this._getCurrentHash();if(h.length>=3&&!h.some(p=>isNaN(p))){const p=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(h[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+h[2],+h[1]],zoom:+h[0],bearing:p,pitch:+(h[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const h=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,h)}catch{}},this._updateHash=function(h,p){let g=!1,b=null;const T=()=>{b=null,g&&(h(),b=setTimeout(T,300),g=!1)};return()=>(g=!0,b||T(),b)}(this._updateHashUnthrottled),this._hashName=s&&encodeURIComponent(s)}addTo(s){return this._map=s,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(s){const h=this._map.getCenter(),p=Math.round(100*this._map.getZoom())/100,g=Math.ceil((p*Math.LN2+Math.log(512/360/.5))/Math.LN10),b=Math.pow(10,g),T=Math.round(h.lng*b)/b,E=Math.round(h.lat*b)/b,R=this._map.getBearing(),B=this._map.getPitch();let j="";if(j+=s?`/${T}/${E}/${p}`:`${p}/${E}/${T}`,(R||B)&&(j+="/"+Math.round(10*R)/10),B&&(j+=`/${Math.round(B)}`),this._hashName){const W=this._hashName;let X=!1;const se=window.location.hash.slice(1).split("&").map(oe=>{const ce=oe.split("=")[0];return ce===W?(X=!0,`${ce}=${j}`):oe}).filter(oe=>oe);return X||se.push(`${W}=${j}`),`#${se.join("&")}`}return`#${j}`}}const xu={linearity:.3,easing:c.bezier(0,0,.3,1)},vy=c.extend({deceleration:2500,maxSpeed:1400},xu),_y=c.extend({deceleration:20,maxSpeed:1400},xu),xy=c.extend({deceleration:1e3,maxSpeed:360},xu),by=c.extend({deceleration:1e3,maxSpeed:90},xu);class wy{constructor(s){this._map=s,this.clear()}clear(){this._inertiaBuffer=[]}record(s){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:c.browser.now(),settings:s})}_drainInertiaBuffer(){const s=this._inertiaBuffer,h=c.browser.now();for(;s.length>0&&h-s[0].time>160;)s.shift()}_onMoveEnd(s){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const h={zoom:0,bearing:0,pitch:0,pan:new c.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:b}of this._inertiaBuffer)h.zoom+=b.zoomDelta||0,h.bearing+=b.bearingDelta||0,h.pitch+=b.pitchDelta||0,b.panDelta&&h.pan._add(b.panDelta),b.around&&(h.around=b.around),b.pinchAround&&(h.pinchAround=b.pinchAround);const p=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,g={};if(h.pan.mag()){const b=bu(h.pan.mag(),p,c.extend({},vy,s||{}));g.offset=h.pan.mult(b.amount/h.pan.mag()),g.center=this._map.transform.center,xa(g,b)}if(h.zoom){const b=bu(h.zoom,p,_y);g.zoom=this._map.transform.zoom+b.amount,xa(g,b)}if(h.bearing){const b=bu(h.bearing,p,xy);g.bearing=this._map.transform.bearing+c.clamp(b.amount,-179,179),xa(g,b)}if(h.pitch){const b=bu(h.pitch,p,by);g.pitch=this._map.transform.pitch+b.amount,xa(g,b)}if(g.zoom||g.bearing){const b=h.pinchAround===void 0?h.around:h.pinchAround;g.around=b?this._map.unproject(b):this._map.getCenter()}return this.clear(),c.extend(g,{noMoveStart:!0})}}function xa(v,s){(!v.duration||v.duration<s.duration)&&(v.duration=s.duration,v.easing=s.easing)}function bu(v,s,h){const{maxSpeed:p,linearity:g,deceleration:b}=h,T=c.clamp(v*g/(s/1e3),-p,p),E=Math.abs(T)/(b*g);return{easing:h.easing,duration:1e3*E,amount:T*(E/2)}}class zr extends c.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,h,p,g={}){const b=_.mousePos(h.getCanvasContainer(),p),T=h.unproject(b);super(s,c.extend({point:b,lngLat:T,originalEvent:p},g)),this._defaultPrevented=!1,this.target=h}}class To extends c.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,h,p){const g=s==="touchend"?p.changedTouches:p.touches,b=_.touchPos(h.getCanvasContainer(),g),T=b.map(R=>h.unproject(R)),E=b.reduce((R,B,j,W)=>R.add(B.div(W.length)),new c.Point(0,0));super(s,{points:b,point:E,lngLats:T,lngLat:h.unproject(E),originalEvent:p}),this._defaultPrevented=!1}}class Sy extends c.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,h,p){super(s,{originalEvent:p}),this._defaultPrevented=!1}}class Bs{constructor(s,h){this._map=s,this._clickTolerance=h.clickTolerance}reset(){delete this._mousedownPos}wheel(s){return this._firePreventable(new Sy(s.type,this._map,s))}mousedown(s,h){return this._mousedownPos=h,this._firePreventable(new zr(s.type,this._map,s))}mouseup(s){this._map.fire(new zr(s.type,this._map,s))}click(s,h){this._mousedownPos&&this._mousedownPos.dist(h)>=this._clickTolerance||this._map.fire(new zr(s.type,this._map,s))}dblclick(s){return this._firePreventable(new zr(s.type,this._map,s))}mouseover(s){this._map.fire(new zr(s.type,this._map,s))}mouseout(s){this._map.fire(new zr(s.type,this._map,s))}touchstart(s){return this._firePreventable(new To(s.type,this._map,s))}touchmove(s){this._map.fire(new To(s.type,this._map,s))}touchend(s){this._map.fire(new To(s.type,this._map,s))}touchcancel(s){this._map.fire(new To(s.type,this._map,s))}_firePreventable(s){if(this._map.fire(s),s.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class wu{constructor(s){this._map=s}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(s){this._map.fire(new zr(s.type,this._map,s))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new zr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(s){this._delayContextMenu?this._contextMenuEvent=s:this._ignoreContextMenu||this._map.fire(new zr(s.type,this._map,s)),this._map.listens("contextmenu")&&s.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Su{constructor(s){this._map=s}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(s){return this.transform.pointLocation(c.Point.convert(s),this._map.terrain)}}class L1{constructor(s,h){this._map=s,this._tr=new Su(s),this._el=s.getCanvasContainer(),this._container=s.getContainer(),this._clickTolerance=h.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(s,h){this.isEnabled()&&s.shiftKey&&s.button===0&&(_.disableDrag(),this._startPos=this._lastPos=h,this._active=!0)}mousemoveWindow(s,h){if(!this._active)return;const p=h;if(this._lastPos.equals(p)||!this._box&&p.dist(this._startPos)<this._clickTolerance)return;const g=this._startPos;this._lastPos=p,this._box||(this._box=_.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",s));const b=Math.min(g.x,p.x),T=Math.max(g.x,p.x),E=Math.min(g.y,p.y),R=Math.max(g.y,p.y);_.setTransform(this._box,`translate(${b}px,${E}px)`),this._box.style.width=T-b+"px",this._box.style.height=R-E+"px"}mouseupWindow(s,h){if(!this._active||s.button!==0)return;const p=this._startPos,g=h;if(this.reset(),_.suppressClick(),p.x!==g.x||p.y!==g.y)return this._map.fire(new c.Event("boxzoomend",{originalEvent:s})),{cameraAnimation:b=>b.fitScreenCoordinates(p,g,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",s)}keydown(s){this._active&&s.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",s))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(_.remove(this._box),this._box=null),_.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(s,h){return this._map.fire(new c.Event(s,{originalEvent:h}))}}function up(v,s){if(v.length!==s.length)throw new Error(`The number of touches and points are not equal - touches ${v.length}, points ${s.length}`);const h={};for(let p=0;p<v.length;p++)h[v[p].identifier]=s[p];return h}class Cy{constructor(s){this.reset(),this.numTouches=s.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(s,h,p){(this.centroid||p.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=s.timeStamp),p.length===this.numTouches&&(this.centroid=function(g){const b=new c.Point(0,0);for(const T of g)b._add(T);return b.div(g.length)}(h),this.touches=up(p,h)))}touchmove(s,h,p){if(this.aborted||!this.centroid)return;const g=up(p,h);for(const b in this.touches){const T=g[b];(!T||T.dist(this.touches[b])>30)&&(this.aborted=!0)}}touchend(s,h,p){if((!this.centroid||s.timeStamp-this.startTime>500)&&(this.aborted=!0),p.length===0){const g=!this.aborted&&this.centroid;if(this.reset(),g)return g}}}class sl{constructor(s){this.singleTap=new Cy(s),this.numTaps=s.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(s,h,p){this.singleTap.touchstart(s,h,p)}touchmove(s,h,p){this.singleTap.touchmove(s,h,p)}touchend(s,h,p){const g=this.singleTap.touchend(s,h,p);if(g){const b=s.timeStamp-this.lastTime<500,T=!this.lastTap||this.lastTap.dist(g)<30;if(b&&T||this.reset(),this.count++,this.lastTime=s.timeStamp,this.lastTap=g,this.count===this.numTaps)return this.reset(),g}}}class ba{constructor(s){this._tr=new Su(s),this._zoomIn=new sl({numTouches:1,numTaps:2}),this._zoomOut=new sl({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(s,h,p){this._zoomIn.touchstart(s,h,p),this._zoomOut.touchstart(s,h,p)}touchmove(s,h,p){this._zoomIn.touchmove(s,h,p),this._zoomOut.touchmove(s,h,p)}touchend(s,h,p){const g=this._zoomIn.touchend(s,h,p),b=this._zoomOut.touchend(s,h,p),T=this._tr;return g?(this._active=!0,s.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:E=>E.easeTo({duration:300,zoom:T.zoom+1,around:T.unproject(g)},{originalEvent:s})}):b?(this._active=!0,s.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:E=>E.easeTo({duration:300,zoom:T.zoom-1,around:T.unproject(b)},{originalEvent:s})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class bt{constructor(s){this._enabled=!!s.enable,this._moveStateManager=s.moveStateManager,this._clickTolerance=s.clickTolerance||1,this._moveFunction=s.move,this._activateOnStart=!!s.activateOnStart,s.assignEvents(this),this.reset()}reset(s){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(s)}_move(...s){const h=this._moveFunction(...s);if(h.bearingDelta||h.pitchDelta||h.around||h.panDelta)return this._active=!0,h}dragStart(s,h){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(s)&&(this._moveStateManager.startMove(s),this._lastPoint=h.length?h[0]:h,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(s,h){if(!this.isEnabled())return;const p=this._lastPoint;if(!p)return;if(s.preventDefault(),!this._moveStateManager.isValidMoveEvent(s))return void this.reset(s);const g=h.length?h[0]:h;return!this._moved&&g.dist(p)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=g,this._move(p,g))}dragEnd(s){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(s)&&(this._moved&&_.suppressClick(),this.reset(s))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Ty={0:1,2:2};class al{constructor(s){this._correctEvent=s.checkCorrectEvent}startMove(s){const h=_.mouseButton(s);this._eventButton=h}endMove(s){delete this._eventButton}isValidStartEvent(s){return this._correctEvent(s)}isValidMoveEvent(s){return!function(h,p){const g=Ty[p];return h.buttons===void 0||(h.buttons&g)!==g}(s,this._eventButton)}isValidEndEvent(s){return _.mouseButton(s)===this._eventButton}}class Xl{constructor(){this._firstTouch=void 0}_isOneFingerTouch(s){return s.targetTouches.length===1}_isSameTouchEvent(s){return s.targetTouches[0].identifier===this._firstTouch}startMove(s){this._firstTouch=s.targetTouches[0].identifier}endMove(s){delete this._firstTouch}isValidStartEvent(s){return this._isOneFingerTouch(s)}isValidMoveEvent(s){return this._isOneFingerTouch(s)&&this._isSameTouchEvent(s)}isValidEndEvent(s){return this._isOneFingerTouch(s)&&this._isSameTouchEvent(s)}}const Wd=v=>{v.mousedown=v.dragStart,v.mousemoveWindow=v.dragMove,v.mouseup=v.dragEnd,v.contextmenu=function(s){s.preventDefault()}},vt=({enable:v,clickTolerance:s,bearingDegreesPerPixelMoved:h=.8})=>{const p=new al({checkCorrectEvent:g=>_.mouseButton(g)===0&&g.ctrlKey||_.mouseButton(g)===2});return new bt({clickTolerance:s,move:(g,b)=>({bearingDelta:(b.x-g.x)*h}),moveStateManager:p,enable:v,assignEvents:Wd})},qd=({enable:v,clickTolerance:s,pitchDegreesPerPixelMoved:h=-.5})=>{const p=new al({checkCorrectEvent:g=>_.mouseButton(g)===0&&g.ctrlKey||_.mouseButton(g)===2});return new bt({clickTolerance:s,move:(g,b)=>({pitchDelta:(b.y-g.y)*h}),moveStateManager:p,enable:v,assignEvents:Wd})};class $1{constructor(s,h){this._minTouches=s.cooperativeGestures?2:1,this._clickTolerance=s.clickTolerance||1,this._map=h,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new c.Point(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(s,h,p){return this._calculateTransform(s,h,p)}touchmove(s,h,p){if(this._map._cooperativeGestures&&(this._minTouches===2&&p.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(s,!1,p.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(p.length<this._minTouches))return s.preventDefault(),this._calculateTransform(s,h,p)}touchend(s,h,p){this._calculateTransform(s,h,p),this._active&&p.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(s,h,p){p.length>0&&(this._active=!0);const g=up(p,h),b=new c.Point(0,0),T=new c.Point(0,0);let E=0;for(const B in g){const j=g[B],W=this._touches[B];W&&(b._add(j),T._add(j.sub(W)),E++,g[B]=j)}if(this._touches=g,E<this._minTouches||!T.mag())return;const R=T.div(E);return this._sum._add(R),this._sum.mag()<this._clickTolerance?void 0:{around:b.div(E),panDelta:R}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class dp{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(s,h,p){this._firstTwoTouches||p.length<2||(this._firstTwoTouches=[p[0].identifier,p[1].identifier],this._start([h[0],h[1]]))}touchmove(s,h,p){if(!this._firstTwoTouches)return;s.preventDefault();const[g,b]=this._firstTwoTouches,T=Jl(p,h,g),E=Jl(p,h,b);if(!T||!E)return;const R=this._aroundCenter?null:T.add(E).div(2);return this._move([T,E],R,s)}touchend(s,h,p){if(!this._firstTwoTouches)return;const[g,b]=this._firstTwoTouches,T=Jl(p,h,g),E=Jl(p,h,b);T&&E||(this._active&&_.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(s){this._enabled=!0,this._aroundCenter=!!s&&s.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Jl(v,s,h){for(let p=0;p<v.length;p++)if(v[p].identifier===h)return s[p]}function hp(v,s){return Math.log(v/s)/Math.LN2}class ky extends dp{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(s){this._startDistance=this._distance=s[0].dist(s[1])}_move(s,h){const p=this._distance;if(this._distance=s[0].dist(s[1]),this._active||!(Math.abs(hp(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:hp(this._distance,p),pinchAround:h}}}function Ey(v,s){return 180*v.angleWith(s)/Math.PI}class N1 extends dp{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(s){this._startVector=this._vector=s[0].sub(s[1]),this._minDiameter=s[0].dist(s[1])}_move(s,h){const p=this._vector;if(this._vector=s[0].sub(s[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Ey(this._vector,p),pinchAround:h}}_isBelowThreshold(s){this._minDiameter=Math.min(this._minDiameter,s.mag());const h=25/(Math.PI*this._minDiameter)*360,p=Ey(s,this._startVector);return Math.abs(p)<h}}function Cu(v){return Math.abs(v.y)>Math.abs(v.x)}class fp extends dp{constructor(s){super(),this._map=s}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(s,h,p){super.touchstart(s,h,p),this._currentTouchCount=p.length}_start(s){this._lastPoints=s,Cu(s[0].sub(s[1]))&&(this._valid=!1)}_move(s,h,p){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const g=s[0].sub(this._lastPoints[0]),b=s[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(g,b,p.timeStamp),this._valid?(this._lastPoints=s,this._active=!0,{pitchDelta:(g.y+b.y)/2*-.5}):void 0}gestureBeginsVertically(s,h,p){if(this._valid!==void 0)return this._valid;const g=s.mag()>=2,b=h.mag()>=2;if(!g&&!b)return;if(!g||!b)return this._firstMove===void 0&&(this._firstMove=p),p-this._firstMove<100&&void 0;const T=s.y>0==h.y>0;return Cu(s)&&Cu(h)&&T}}const pp={panStep:100,bearingStep:15,pitchStep:10};class mp{constructor(s){this._tr=new Su(s);const h=pp;this._panStep=h.panStep,this._bearingStep=h.bearingStep,this._pitchStep=h.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(s){if(s.altKey||s.ctrlKey||s.metaKey)return;let h=0,p=0,g=0,b=0,T=0;switch(s.keyCode){case 61:case 107:case 171:case 187:h=1;break;case 189:case 109:case 173:h=-1;break;case 37:s.shiftKey?p=-1:(s.preventDefault(),b=-1);break;case 39:s.shiftKey?p=1:(s.preventDefault(),b=1);break;case 38:s.shiftKey?g=1:(s.preventDefault(),T=-1);break;case 40:s.shiftKey?g=-1:(s.preventDefault(),T=1);break;default:return}return this._rotationDisabled&&(p=0,g=0),{cameraAnimation:E=>{const R=this._tr;E.easeTo({duration:300,easeId:"keyboardHandler",easing:Ni,zoom:h?Math.round(R.zoom)+h*(s.shiftKey?2:1):R.zoom,bearing:R.bearing+p*this._bearingStep,pitch:R.pitch+g*this._pitchStep,offset:[-b*this._panStep,-T*this._panStep],center:R.center},{originalEvent:s})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Ni(v){return v*(2-v)}const js=4.000244140625;class Py{constructor(s,h){this._onTimeout=p=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(p)},this._map=s,this._tr=new Su(s),this._el=s.getCanvasContainer(),this._triggerRenderFrame=h,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(s){this._defaultZoomRate=s}setWheelZoomRate(s){this._wheelZoomRate=s}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(s){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!s&&s.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(s){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!s[this._map._metaKey])return;s.preventDefault()}let h=s.deltaMode===WheelEvent.DOM_DELTA_LINE?40*s.deltaY:s.deltaY;const p=c.browser.now(),g=p-(this._lastWheelEventTime||0);this._lastWheelEventTime=p,h!==0&&h%js==0?this._type="wheel":h!==0&&Math.abs(h)<4?this._type="trackpad":g>400?(this._type=null,this._lastValue=h,this._timeout=setTimeout(this._onTimeout,40,s)):this._type||(this._type=Math.abs(g*h)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,h+=this._lastValue)),s.shiftKey&&h&&(h/=4),this._type&&(this._lastWheelEvent=s,this._delta-=h,this._active||this._start(s)),s.preventDefault()}_start(s){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const h=_.mousePos(this._el,s),p=this._tr;this._around=c.LngLat.convert(this._aroundCenter?p.center:p.unproject(h)),this._aroundPoint=p.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const s=this._tr.transform;if(this._delta!==0){const E=this._type==="wheel"&&Math.abs(this._delta)>js?this._wheelZoomRate:this._defaultZoomRate;let R=2/(1+Math.exp(-Math.abs(this._delta*E)));this._delta<0&&R!==0&&(R=1/R);const B=typeof this._targetZoom=="number"?s.zoomScale(this._targetZoom):s.scale;this._targetZoom=Math.min(s.maxZoom,Math.max(s.minZoom,s.scaleZoom(B*R))),this._type==="wheel"&&(this._startZoom=s.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const h=typeof this._targetZoom=="number"?this._targetZoom:s.zoom,p=this._startZoom,g=this._easing;let b,T=!1;if(this._type==="wheel"&&p&&g){const E=Math.min((c.browser.now()-this._lastWheelEventTime)/200,1),R=g(E);b=c.interpolate.number(p,h,R),E<1?this._frameId||(this._frameId=!0):T=!0}else b=h,T=!0;return this._active=!0,T&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!T,zoomDelta:b-s.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(s){let h=c.defaultEasing;if(this._prevEase){const p=this._prevEase,g=(c.browser.now()-p.start)/p.duration,b=p.easing(g+.01)-p.easing(g),T=.27/Math.sqrt(b*b+1e-4)*.01,E=Math.sqrt(.0729-T*T);h=c.bezier(T,E,.25,1)}return this._prevEase={start:c.browser.now(),duration:s,easing:h},h}reset(){this._active=!1}}class gp{constructor(s,h){this._clickZoom=s,this._tapZoom=h}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class yp{constructor(s){this._tr=new Su(s),this.reset()}reset(){this._active=!1}dblclick(s,h){return s.preventDefault(),{cameraAnimation:p=>{p.easeTo({duration:300,zoom:this._tr.zoom+(s.shiftKey?-1:1),around:this._tr.unproject(h)},{originalEvent:s})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class vp{constructor(){this._tap=new sl({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(s,h,p){if(!this._swipePoint)if(this._tapTime){const g=h[0],b=s.timeStamp-this._tapTime<500,T=this._tapPoint.dist(g)<30;b&&T?p.length>0&&(this._swipePoint=g,this._swipeTouch=p[0].identifier):this.reset()}else this._tap.touchstart(s,h,p)}touchmove(s,h,p){if(this._tapTime){if(this._swipePoint){if(p[0].identifier!==this._swipeTouch)return;const g=h[0],b=g.y-this._swipePoint.y;return this._swipePoint=g,s.preventDefault(),this._active=!0,{zoomDelta:b/128}}}else this._tap.touchmove(s,h,p)}touchend(s,h,p){if(this._tapTime)this._swipePoint&&p.length===0&&this.reset();else{const g=this._tap.touchend(s,h,p);g&&(this._tapTime=s.timeStamp,this._tapPoint=g)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Iy{constructor(s,h,p){this._el=s,this._mousePan=h,this._touchPan=p}enable(s){this._inertiaOptions=s||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class ko{constructor(s,h,p){this._pitchWithRotate=s.pitchWithRotate,this._mouseRotate=h,this._mousePitch=p}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class ar{constructor(s,h,p,g){this._el=s,this._touchZoom=h,this._touchRotate=p,this._tapDragZoom=g,this._rotationDisabled=!1,this._enabled=!0}enable(s){this._touchZoom.enable(s),this._rotationDisabled||this._touchRotate.enable(s),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const ll=v=>v.zoom||v.drag||v.pitch||v.rotate;class _p extends c.Event{}function Gd(v){return v.panDelta&&v.panDelta.mag()||v.zoomDelta||v.bearingDelta||v.pitchDelta}class My{constructor(s,h){this.handleWindowEvent=g=>{this.handleEvent(g,`${g.type}Window`)},this.handleEvent=(g,b)=>{if(g.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const T=g.type==="renderFrame"?void 0:g,E={needsRenderFrame:!1},R={},B={},j=g.touches,W=j?this._getMapTouches(j):void 0,X=W?_.touchPos(this._el,W):_.mousePos(this._el,g);for(const{handlerName:ce,handler:ie,allowed:xe}of this._handlers){if(!ie.isEnabled())continue;let De;this._blockedByActive(B,xe,ce)?ie.reset():ie[b||g.type]&&(De=ie[b||g.type](g,X,W),this.mergeHandlerResult(E,R,De,ce,T),De&&De.needsRenderFrame&&this._triggerRenderFrame()),(De||ie.isActive())&&(B[ce]=ie)}const se={};for(const ce in this._previousActiveHandlers)B[ce]||(se[ce]=T);this._previousActiveHandlers=B,(Object.keys(se).length||Gd(E))&&(this._changes.push([E,R,se]),this._triggerRenderFrame()),(Object.keys(B).length||Gd(E))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:oe}=E;oe&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],oe(this._map))},this._map=s,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new wy(s),this._bearingSnap=h.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(h);const p=this._el;this._listeners=[[p,"touchstart",{passive:!0}],[p,"touchmove",{passive:!1}],[p,"touchend",void 0],[p,"touchcancel",void 0],[p,"mousedown",void 0],[p,"mousemove",void 0],[p,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[p,"mouseover",void 0],[p,"mouseout",void 0],[p,"dblclick",void 0],[p,"click",void 0],[p,"keydown",{capture:!1}],[p,"keyup",void 0],[p,"wheel",{passive:!1}],[p,"contextmenu",void 0],[window,"blur",void 0]];for(const[g,b,T]of this._listeners)_.addEventListener(g,b,g===document?this.handleWindowEvent:this.handleEvent,T)}destroy(){for(const[s,h,p]of this._listeners)_.removeEventListener(s,h,s===document?this.handleWindowEvent:this.handleEvent,p)}_addDefaultHandlers(s){const h=this._map,p=h.getCanvasContainer();this._add("mapEvent",new Bs(h,s));const g=h.boxZoom=new L1(h,s);this._add("boxZoom",g),s.interactive&&s.boxZoom&&g.enable();const b=new ba(h),T=new yp(h);h.doubleClickZoom=new gp(T,b),this._add("tapZoom",b),this._add("clickZoom",T),s.interactive&&s.doubleClickZoom&&h.doubleClickZoom.enable();const E=new vp;this._add("tapDragZoom",E);const R=h.touchPitch=new fp(h);this._add("touchPitch",R),s.interactive&&s.touchPitch&&h.touchPitch.enable(s.touchPitch);const B=vt(s),j=qd(s);h.dragRotate=new ko(s,B,j),this._add("mouseRotate",B,["mousePitch"]),this._add("mousePitch",j,["mouseRotate"]),s.interactive&&s.dragRotate&&h.dragRotate.enable();const W=(({enable:xe,clickTolerance:De})=>{const he=new al({checkCorrectEvent:Se=>_.mouseButton(Se)===0&&!Se.ctrlKey});return new bt({clickTolerance:De,move:(Se,Be)=>({around:Be,panDelta:Be.sub(Se)}),activateOnStart:!0,moveStateManager:he,enable:xe,assignEvents:Wd})})(s),X=new $1(s,h);h.dragPan=new Iy(p,W,X),this._add("mousePan",W),this._add("touchPan",X,["touchZoom","touchRotate"]),s.interactive&&s.dragPan&&h.dragPan.enable(s.dragPan);const se=new N1,oe=new ky;h.touchZoomRotate=new ar(p,oe,se,E),this._add("touchRotate",se,["touchPan","touchZoom"]),this._add("touchZoom",oe,["touchPan","touchRotate"]),s.interactive&&s.touchZoomRotate&&h.touchZoomRotate.enable(s.touchZoomRotate);const ce=h.scrollZoom=new Py(h,()=>this._triggerRenderFrame());this._add("scrollZoom",ce,["mousePan"]),s.interactive&&s.scrollZoom&&h.scrollZoom.enable(s.scrollZoom);const ie=h.keyboard=new mp(h);this._add("keyboard",ie),s.interactive&&s.keyboard&&h.keyboard.enable(),this._add("blockableMapEvent",new wu(h))}_add(s,h,p){this._handlers.push({handlerName:s,handler:h,allowed:p}),this._handlersById[s]=h}stop(s){if(!this._updatingCamera){for(const{handler:h}of this._handlers)h.reset();this._inertia.clear(),this._fireEvents({},{},s),this._changes=[]}}isActive(){for(const{handler:s}of this._handlers)if(s.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!ll(this._eventsInProgress)||this.isZooming()}_blockedByActive(s,h,p){for(const g in s)if(g!==p&&(!h||h.indexOf(g)<0))return!0;return!1}_getMapTouches(s){const h=[];for(const p of s)this._el.contains(p.target)&&h.push(p);return h}mergeHandlerResult(s,h,p,g,b){if(!p)return;c.extend(s,p);const T={handlerName:g,originalEvent:p.originalEvent||b};p.zoomDelta!==void 0&&(h.zoom=T),p.panDelta!==void 0&&(h.drag=T),p.pitchDelta!==void 0&&(h.pitch=T),p.bearingDelta!==void 0&&(h.rotate=T)}_applyChanges(){const s={},h={},p={};for(const[g,b,T]of this._changes)g.panDelta&&(s.panDelta=(s.panDelta||new c.Point(0,0))._add(g.panDelta)),g.zoomDelta&&(s.zoomDelta=(s.zoomDelta||0)+g.zoomDelta),g.bearingDelta&&(s.bearingDelta=(s.bearingDelta||0)+g.bearingDelta),g.pitchDelta&&(s.pitchDelta=(s.pitchDelta||0)+g.pitchDelta),g.around!==void 0&&(s.around=g.around),g.pinchAround!==void 0&&(s.pinchAround=g.pinchAround),g.noInertia&&(s.noInertia=g.noInertia),c.extend(h,b),c.extend(p,T);this._updateMapTransform(s,h,p),this._changes=[]}_updateMapTransform(s,h,p){const g=this._map,b=g._getTransformForUpdate(),T=g.terrain;if(!(Gd(s)||T&&this._terrainMovement))return this._fireEvents(h,p,!0);let{panDelta:E,zoomDelta:R,bearingDelta:B,pitchDelta:j,around:W,pinchAround:X}=s;X!==void 0&&(W=X),g._stop(!0),W=W||g.transform.centerPoint;const se=b.pointLocation(E?W.sub(E):W);B&&(b.bearing+=B),j&&(b.pitch+=j),R&&(b.zoom+=R),T?this._terrainMovement||!h.drag&&!h.zoom?h.drag&&this._terrainMovement?b.center=b.pointLocation(b.centerPoint.sub(E)):b.setLocationAtPoint(se,W):(this._terrainMovement=!0,this._map._elevationFreeze=!0,b.setLocationAtPoint(se,W),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,b.recalculateZoom(g.terrain)})):b.setLocationAtPoint(se,W),g._applyUpdatedTransform(b),this._map._update(),s.noInertia||this._inertia.record(s),this._fireEvents(h,p,!0)}_fireEvents(s,h,p){const g=ll(this._eventsInProgress),b=ll(s),T={};for(const j in s){const{originalEvent:W}=s[j];this._eventsInProgress[j]||(T[`${j}start`]=W),this._eventsInProgress[j]=s[j]}!g&&b&&this._fireEvent("movestart",b.originalEvent);for(const j in T)this._fireEvent(j,T[j]);b&&this._fireEvent("move",b.originalEvent);for(const j in s){const{originalEvent:W}=s[j];this._fireEvent(j,W)}const E={};let R;for(const j in this._eventsInProgress){const{handlerName:W,originalEvent:X}=this._eventsInProgress[j];this._handlersById[W].isActive()||(delete this._eventsInProgress[j],R=h[W]||X,E[`${j}end`]=R)}for(const j in E)this._fireEvent(j,E[j]);const B=ll(this._eventsInProgress);if(p&&(g||b)&&!B){this._updatingCamera=!0;const j=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),W=X=>X!==0&&-this._bearingSnap<X&&X<this._bearingSnap;j?(W(j.bearing||this._map.getBearing())&&(j.bearing=0),j.freezeElevation=!0,this._map.easeTo(j,{originalEvent:R})):(this._map.fire(new c.Event("moveend",{originalEvent:R})),W(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(s,h){this._map.fire(new c.Event(s,h?{originalEvent:h}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(s=>{delete this._frameId,this.handleEvent(new _p("renderFrame",{timeStamp:s})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class Ry extends c.Evented{constructor(s,h){super(),this._renderFrameCallback=()=>{const p=Math.min((c.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(p)),p<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=s,this._bearingSnap=h.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new c.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(s,h){return this.jumpTo({center:s},h)}panBy(s,h,p){return s=c.Point.convert(s).mult(-1),this.panTo(this.transform.center,c.extend({offset:s},h),p)}panTo(s,h,p){return this.easeTo(c.extend({center:s},h),p)}getZoom(){return this.transform.zoom}setZoom(s,h){return this.jumpTo({zoom:s},h),this}zoomTo(s,h,p){return this.easeTo(c.extend({zoom:s},h),p)}zoomIn(s,h){return this.zoomTo(this.getZoom()+1,s,h),this}zoomOut(s,h){return this.zoomTo(this.getZoom()-1,s,h),this}getBearing(){return this.transform.bearing}setBearing(s,h){return this.jumpTo({bearing:s},h),this}getPadding(){return this.transform.padding}setPadding(s,h){return this.jumpTo({padding:s},h),this}rotateTo(s,h,p){return this.easeTo(c.extend({bearing:s},h),p)}resetNorth(s,h){return this.rotateTo(0,c.extend({duration:1e3},s),h),this}resetNorthPitch(s,h){return this.easeTo(c.extend({bearing:0,pitch:0,duration:1e3},s),h),this}snapToNorth(s,h){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(s,h):this}getPitch(){return this.transform.pitch}setPitch(s,h){return this.jumpTo({pitch:s},h),this}cameraForBounds(s,h){s=Ae.convert(s);const p=h&&h.bearing||0;return this._cameraForBoxAndBearing(s.getNorthWest(),s.getSouthEast(),p,h)}_cameraForBoxAndBearing(s,h,p,g){const b={top:0,bottom:0,right:0,left:0};if(typeof(g=c.extend({padding:b,offset:[0,0],maxZoom:this.transform.maxZoom},g)).padding=="number"){const Be=g.padding;g.padding={top:Be,bottom:Be,right:Be,left:Be}}g.padding=c.extend(b,g.padding);const T=this.transform,E=T.padding,R=T.project(c.LngLat.convert(s)),B=T.project(c.LngLat.convert(h)),j=R.rotate(-p*Math.PI/180),W=B.rotate(-p*Math.PI/180),X=new c.Point(Math.max(j.x,W.x),Math.max(j.y,W.y)),se=new c.Point(Math.min(j.x,W.x),Math.min(j.y,W.y)),oe=X.sub(se),ce=(T.width-(E.left+E.right+g.padding.left+g.padding.right))/oe.x,ie=(T.height-(E.top+E.bottom+g.padding.top+g.padding.bottom))/oe.y;if(ie<0||ce<0)return void c.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const xe=Math.min(T.scaleZoom(T.scale*Math.min(ce,ie)),g.maxZoom),De=c.Point.convert(g.offset),he=new c.Point((g.padding.left-g.padding.right)/2,(g.padding.top-g.padding.bottom)/2).rotate(p*Math.PI/180),Se=De.add(he).mult(T.scale/T.zoomScale(xe));return{center:T.unproject(R.add(B).div(2).sub(Se)),zoom:xe,bearing:p}}fitBounds(s,h,p){return this._fitInternal(this.cameraForBounds(s,h),h,p)}fitScreenCoordinates(s,h,p,g,b){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(c.Point.convert(s)),this.transform.pointLocation(c.Point.convert(h)),p,g),g,b)}_fitInternal(s,h,p){return s?(delete(h=c.extend(s,h)).padding,h.linear?this.easeTo(h,p):this.flyTo(h,p)):this}jumpTo(s,h){this.stop();const p=this._getTransformForUpdate();let g=!1,b=!1,T=!1;return"zoom"in s&&p.zoom!==+s.zoom&&(g=!0,p.zoom=+s.zoom),s.center!==void 0&&(p.center=c.LngLat.convert(s.center)),"bearing"in s&&p.bearing!==+s.bearing&&(b=!0,p.bearing=+s.bearing),"pitch"in s&&p.pitch!==+s.pitch&&(T=!0,p.pitch=+s.pitch),s.padding==null||p.isPaddingEqual(s.padding)||(p.padding=s.padding),this._applyUpdatedTransform(p),this.fire(new c.Event("movestart",h)).fire(new c.Event("move",h)),g&&this.fire(new c.Event("zoomstart",h)).fire(new c.Event("zoom",h)).fire(new c.Event("zoomend",h)),b&&this.fire(new c.Event("rotatestart",h)).fire(new c.Event("rotate",h)).fire(new c.Event("rotateend",h)),T&&this.fire(new c.Event("pitchstart",h)).fire(new c.Event("pitch",h)).fire(new c.Event("pitchend",h)),this.fire(new c.Event("moveend",h))}calculateCameraOptionsFromTo(s,h,p,g=0){const b=c.MercatorCoordinate.fromLngLat(s,h),T=c.MercatorCoordinate.fromLngLat(p,g),E=T.x-b.x,R=T.y-b.y,B=T.z-b.z,j=Math.hypot(E,R,B);if(j===0)throw new Error("Can't calculate camera options with same From and To");const W=Math.hypot(E,R),X=this.transform.scaleZoom(this.transform.cameraToCenterDistance/j/this.transform.tileSize),se=180*Math.atan2(E,-R)/Math.PI;let oe=180*Math.acos(W/j)/Math.PI;return oe=B<0?90-oe:90+oe,{center:T.toLngLat(),zoom:X,pitch:oe,bearing:se}}easeTo(s,h){this._stop(!1,s.easeId),((s=c.extend({offset:[0,0],duration:500,easing:c.defaultEasing},s)).animate===!1||!s.essential&&c.browser.prefersReducedMotion)&&(s.duration=0);const p=this._getTransformForUpdate(),g=this.getZoom(),b=this.getBearing(),T=this.getPitch(),E=this.getPadding(),R="zoom"in s?+s.zoom:g,B="bearing"in s?this._normalizeBearing(s.bearing,b):b,j="pitch"in s?+s.pitch:T,W="padding"in s?s.padding:p.padding,X=c.Point.convert(s.offset);let se=p.centerPoint.add(X);const oe=p.pointLocation(se),ce=c.LngLat.convert(s.center||oe);this._normalizeCenter(ce);const ie=p.project(oe),xe=p.project(ce).sub(ie),De=p.zoomScale(R-g);let he,Se;s.around&&(he=c.LngLat.convert(s.around),Se=p.locationPoint(he));const Be={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||R!==g,this._rotating=this._rotating||b!==B,this._pitching=this._pitching||j!==T,this._padding=!p.isPaddingEqual(W),this._easeId=s.easeId,this._prepareEase(h,s.noMoveStart,Be),this.terrain&&this._prepareElevation(ce),this._ease(Ue=>{if(this._zooming&&(p.zoom=c.interpolate.number(g,R,Ue)),this._rotating&&(p.bearing=c.interpolate.number(b,B,Ue)),this._pitching&&(p.pitch=c.interpolate.number(T,j,Ue)),this._padding&&(p.interpolatePadding(E,W,Ue),se=p.centerPoint.add(X)),this.terrain&&!s.freezeElevation&&this._updateElevation(Ue),he)p.setLocationAtPoint(he,Se);else{const He=p.zoomScale(p.zoom-g),rt=R>g?Math.min(2,De):Math.max(.5,De),Je=Math.pow(rt,1-Ue),at=p.unproject(ie.add(xe.mult(Ue*Je)).mult(He));p.setLocationAtPoint(p.renderWorldCopies?at.wrap():at,se)}this._applyUpdatedTransform(p),this._fireMoveEvents(h)},Ue=>{this.terrain&&this._finalizeElevation(),this._afterEase(h,Ue)},s),this}_prepareEase(s,h,p={}){this._moving=!0,h||p.moving||this.fire(new c.Event("movestart",s)),this._zooming&&!p.zooming&&this.fire(new c.Event("zoomstart",s)),this._rotating&&!p.rotating&&this.fire(new c.Event("rotatestart",s)),this._pitching&&!p.pitching&&this.fire(new c.Event("pitchstart",s))}_prepareElevation(s){this._elevationCenter=s,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(s,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(s){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const h=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(s<1&&h!==this._elevationTarget){const p=this._elevationTarget-this._elevationStart;this._elevationStart+=s*(p-(h-(p*s+this._elevationStart))/(1-s)),this._elevationTarget=h}this.transform.elevation=c.interpolate.number(this._elevationStart,this._elevationTarget,s)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(s){if(!this.transformCameraUpdate)return;const h=s.clone(),{center:p,zoom:g,pitch:b,bearing:T,elevation:E}=this.transformCameraUpdate(h);p&&(h.center=p),g!==void 0&&(h.zoom=g),b!==void 0&&(h.pitch=b),T!==void 0&&(h.bearing=T),E!==void 0&&(h.elevation=E),this.transform.apply(h)}_fireMoveEvents(s){this.fire(new c.Event("move",s)),this._zooming&&this.fire(new c.Event("zoom",s)),this._rotating&&this.fire(new c.Event("rotate",s)),this._pitching&&this.fire(new c.Event("pitch",s))}_afterEase(s,h){if(this._easeId&&h&&this._easeId===h)return;delete this._easeId;const p=this._zooming,g=this._rotating,b=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,p&&this.fire(new c.Event("zoomend",s)),g&&this.fire(new c.Event("rotateend",s)),b&&this.fire(new c.Event("pitchend",s)),this.fire(new c.Event("moveend",s))}flyTo(s,h){if(!s.essential&&c.browser.prefersReducedMotion){const kt=c.pick(s,["center","zoom","bearing","pitch","around"]);return this.jumpTo(kt,h)}this.stop(),s=c.extend({offset:[0,0],speed:1.2,curve:1.42,easing:c.defaultEasing},s);const p=this._getTransformForUpdate(),g=this.getZoom(),b=this.getBearing(),T=this.getPitch(),E=this.getPadding(),R="zoom"in s?c.clamp(+s.zoom,p.minZoom,p.maxZoom):g,B="bearing"in s?this._normalizeBearing(s.bearing,b):b,j="pitch"in s?+s.pitch:T,W="padding"in s?s.padding:p.padding,X=p.zoomScale(R-g),se=c.Point.convert(s.offset);let oe=p.centerPoint.add(se);const ce=p.pointLocation(oe),ie=c.LngLat.convert(s.center||ce);this._normalizeCenter(ie);const xe=p.project(ce),De=p.project(ie).sub(xe);let he=s.curve;const Se=Math.max(p.width,p.height),Be=Se/X,Ue=De.mag();if("minZoom"in s){const kt=c.clamp(Math.min(s.minZoom,g,R),p.minZoom,p.maxZoom),Hn=Se/p.zoomScale(kt-g);he=Math.sqrt(Hn/Ue*2)}const He=he*he;function rt(kt){const Hn=(Be*Be-Se*Se+(kt?-1:1)*He*He*Ue*Ue)/(2*(kt?Be:Se)*He*Ue);return Math.log(Math.sqrt(Hn*Hn+1)-Hn)}function Je(kt){return(Math.exp(kt)-Math.exp(-kt))/2}function at(kt){return(Math.exp(kt)+Math.exp(-kt))/2}const At=rt(!1);let hn=function(kt){return at(At)/at(At+he*kt)},ft=function(kt){return Se*((at(At)*(Je(Hn=At+he*kt)/at(Hn))-Je(At))/He)/Ue;var Hn},Gt=(rt(!0)-At)/he;if(Math.abs(Ue)<1e-6||!isFinite(Gt)){if(Math.abs(Se-Be)<1e-6)return this.easeTo(s,h);const kt=Be<Se?-1:1;Gt=Math.abs(Math.log(Be/Se))/he,ft=function(){return 0},hn=function(Hn){return Math.exp(kt*he*Hn)}}return s.duration="duration"in s?+s.duration:1e3*Gt/("screenSpeed"in s?+s.screenSpeed/he:+s.speed),s.maxDuration&&s.duration>s.maxDuration&&(s.duration=0),this._zooming=!0,this._rotating=b!==B,this._pitching=j!==T,this._padding=!p.isPaddingEqual(W),this._prepareEase(h,!1),this.terrain&&this._prepareElevation(ie),this._ease(kt=>{const Hn=kt*Gt,un=1/hn(Hn);p.zoom=kt===1?R:g+p.scaleZoom(un),this._rotating&&(p.bearing=c.interpolate.number(b,B,kt)),this._pitching&&(p.pitch=c.interpolate.number(T,j,kt)),this._padding&&(p.interpolatePadding(E,W,kt),oe=p.centerPoint.add(se)),this.terrain&&!s.freezeElevation&&this._updateElevation(kt);const sn=kt===1?ie:p.unproject(xe.add(De.mult(ft(Hn))).mult(un));p.setLocationAtPoint(p.renderWorldCopies?sn.wrap():sn,oe),this._applyUpdatedTransform(p),this._fireMoveEvents(h)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(h)},s),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(s,h){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const p=this._onEaseEnd;delete this._onEaseEnd,p.call(this,h)}if(!s){const p=this.handlers;p&&p.stop(!1)}return this}_ease(s,h,p){p.animate===!1||p.duration===0?(s(1),h()):(this._easeStart=c.browser.now(),this._easeOptions=p,this._onEaseFrame=s,this._onEaseEnd=h,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(s,h){s=c.wrap(s,-180,180);const p=Math.abs(s-h);return Math.abs(s-360-h)<p&&(s-=360),Math.abs(s+360-h)<p&&(s+=360),s}_normalizeCenter(s){const h=this.transform;if(!h.renderWorldCopies||h.lngRange)return;const p=s.lng-h.center.lng;s.lng+=p>180?-360:p<-180?360:0}queryTerrainElevation(s){return this.terrain?this.terrain.getElevationForLngLatZoom(c.LngLat.convert(s),this.transform.tileZoom)-this.transform.elevation:null}}class Ay{constructor(s={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=h=>{!h||h.sourceDataType!=="metadata"&&h.sourceDataType!=="visibility"&&h.dataType!=="style"&&h.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=s}getDefaultPosition(){return"bottom-right"}onAdd(s){return this._map=s,this._compact=this.options&&this.options.compact,this._container=_.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=_.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=_.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){_.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(s,h){const p=this._map._getUIString(`AttributionControl.${h}`);s.title=p,s.setAttribute("aria-label",p)}_updateAttributions(){if(!this._map.style)return;let s=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?s=s.concat(this.options.customAttribution.map(g=>typeof g!="string"?"":g)):typeof this.options.customAttribution=="string"&&s.push(this.options.customAttribution)),this._map.style.stylesheet){const g=this._map.style.stylesheet;this.styleOwner=g.owner,this.styleId=g.id}const h=this._map.style.sourceCaches;for(const g in h){const b=h[g];if(b.used||b.usedForTerrain){const T=b.getSource();T.attribution&&s.indexOf(T.attribution)<0&&s.push(T.attribution)}}s=s.filter(g=>String(g).trim()),s.sort((g,b)=>g.length-b.length),s=s.filter((g,b)=>{for(let T=b+1;T<s.length;T++)if(s[T].indexOf(g)>=0)return!1;return!0});const p=s.join(" | ");p!==this._attribHTML&&(this._attribHTML=p,s.length?(this._innerContainer.innerHTML=p,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Vo{constructor(s={}){this._updateCompact=()=>{const h=this._container.children;if(h.length){const p=h[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&p.classList.add("maplibregl-compact"):p.classList.remove("maplibregl-compact")}},this.options=s}getDefaultPosition(){return"bottom-left"}onAdd(s){this._map=s,this._compact=this.options&&this.options.compact,this._container=_.create("div","maplibregl-ctrl");const h=_.create("a","maplibregl-ctrl-logo");return h.target="_blank",h.rel="noopener nofollow",h.href="https://maplibre.org/",h.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),h.setAttribute("rel","noopener nofollow"),this._container.appendChild(h),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){_.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Hd{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(s){const h=++this._id;return this._queue.push({callback:s,id:h,cancelled:!1}),h}remove(s){const h=this._currentlyRunning,p=h?this._queue.concat(h):this._queue;for(const g of p)if(g.id===s)return void(g.cancelled=!0)}run(s=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const h=this._currentlyRunning=this._queue;this._queue=[];for(const p of h)if(!p.cancelled&&(p.callback(s),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const Nt={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var qt=c.createLayout([{name:"a_pos3d",type:"Int16",components:3}]);class Yd extends c.Evented{constructor(s){super(),this.sourceCache=s,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,s.usedForTerrain=!0,s.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(s,h){this.sourceCache.update(s,h),this._renderableTilesKeys=[];const p={};for(const g of s.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:h}))p[g.key]=!0,this._renderableTilesKeys.push(g.key),this._tiles[g.key]||(g.posMatrix=new Float64Array(16),c.ortho(g.posMatrix,0,c.EXTENT,0,c.EXTENT,0,1),this._tiles[g.key]=new cr(g,this.tileSize));for(const g in this._tiles)p[g]||delete this._tiles[g]}freeRtt(s){for(const h in this._tiles){const p=this._tiles[h];(!s||p.tileID.equals(s)||p.tileID.isChildOf(s)||s.isChildOf(p.tileID))&&(p.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(s=>this.getTileByID(s))}getTileByID(s){return this._tiles[s]}getTerrainCoords(s){const h={};for(const p of this._renderableTilesKeys){const g=this._tiles[p].tileID;if(g.canonical.equals(s.canonical)){const b=s.clone();b.posMatrix=new Float64Array(16),c.ortho(b.posMatrix,0,c.EXTENT,0,c.EXTENT,0,1),h[p]=b}else if(g.canonical.isChildOf(s.canonical)){const b=s.clone();b.posMatrix=new Float64Array(16);const T=g.canonical.z-s.canonical.z,E=g.canonical.x-(g.canonical.x>>T<<T),R=g.canonical.y-(g.canonical.y>>T<<T),B=c.EXTENT>>T;c.ortho(b.posMatrix,0,B,0,B,0,1),c.translate(b.posMatrix,b.posMatrix,[-E*B,-R*B,0]),h[p]=b}else if(s.canonical.isChildOf(g.canonical)){const b=s.clone();b.posMatrix=new Float64Array(16);const T=s.canonical.z-g.canonical.z,E=s.canonical.x-(s.canonical.x>>T<<T),R=s.canonical.y-(s.canonical.y>>T<<T),B=c.EXTENT>>T;c.ortho(b.posMatrix,0,c.EXTENT,0,c.EXTENT,0,1),c.translate(b.posMatrix,b.posMatrix,[E*B,R*B,0]),c.scale(b.posMatrix,b.posMatrix,[1/2**T,1/2**T,0]),h[p]=b}}return h}getSourceTile(s,h){const p=this.sourceCache._source;let g=s.overscaledZ-this.deltaZoom;if(g>p.maxzoom&&(g=p.maxzoom),g<p.minzoom)return null;this._sourceTileCache[s.key]||(this._sourceTileCache[s.key]=s.scaledTo(g).key);let b=this.sourceCache.getTileByID(this._sourceTileCache[s.key]);if((!b||!b.dem)&&h)for(;g>=p.minzoom&&(!b||!b.dem);)b=this.sourceCache.getTileByID(s.scaledTo(g--).key);return b}tilesAfterTime(s=Date.now()){return Object.values(this._tiles).filter(h=>h.timeAdded>=s)}}class xp{constructor(s,h,p){this.painter=s,this.sourceCache=new Yd(h),this.options=p,this.exaggeration=typeof p.exaggeration=="number"?p.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(s,h,p,g=c.EXTENT){var b;if(!(h>=0&&h<g&&p>=0&&p<g))return 0;const T=this.getTerrainData(s),E=(b=T.tile)===null||b===void 0?void 0:b.dem;if(!E)return 0;const R=function(oe,ce,ie){var xe=ce[0],De=ce[1];return oe[0]=ie[0]*xe+ie[4]*De+ie[12],oe[1]=ie[1]*xe+ie[5]*De+ie[13],oe}([],[h/g*c.EXTENT,p/g*c.EXTENT],T.u_terrain_matrix),B=[R[0]*E.dim,R[1]*E.dim],j=Math.floor(B[0]),W=Math.floor(B[1]),X=B[0]-j,se=B[1]-W;return E.get(j,W)*(1-X)*(1-se)+E.get(j+1,W)*X*(1-se)+E.get(j,W+1)*(1-X)*se+E.get(j+1,W+1)*X*se}getElevationForLngLatZoom(s,h){const{tileID:p,mercatorX:g,mercatorY:b}=this._getOverscaledTileIDFromLngLatZoom(s,h);return this.getElevation(p,g%c.EXTENT,b%c.EXTENT,c.EXTENT)}getElevation(s,h,p,g=c.EXTENT){return this.getDEMElevation(s,h,p,g)*this.exaggeration}getTerrainData(s){if(!this._emptyDemTexture){const g=this.painter.context,b=new c.RGBAImage({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new ye(g,b,g.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new ye(g,new c.RGBAImage({width:1,height:1}),g.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(g.gl.NEAREST,g.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=c.identity([])}const h=this.sourceCache.getSourceTile(s,!0);if(h&&h.dem&&(!h.demTexture||h.needsTerrainPrepare)){const g=this.painter.context;h.demTexture=this.painter.getTileTexture(h.dem.stride),h.demTexture?h.demTexture.update(h.dem.getPixels(),{premultiply:!1}):h.demTexture=new ye(g,h.dem.getPixels(),g.gl.RGBA,{premultiply:!1}),h.demTexture.bind(g.gl.NEAREST,g.gl.CLAMP_TO_EDGE),h.needsTerrainPrepare=!1}const p=h&&h+h.tileID.key+s.key;if(p&&!this._demMatrixCache[p]){const g=this.sourceCache.sourceCache._source.maxzoom;let b=s.canonical.z-h.tileID.canonical.z;s.overscaledZ>s.canonical.z&&(s.canonical.z>=g?b=s.canonical.z-g:c.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const T=s.canonical.x-(s.canonical.x>>b<<b),E=s.canonical.y-(s.canonical.y>>b<<b),R=c.fromScaling(new Float64Array(16),[1/(c.EXTENT<<b),1/(c.EXTENT<<b),0]);c.translate(R,R,[T*c.EXTENT,E*c.EXTENT,0]),this._demMatrixCache[s.key]={matrix:R,coord:s}}return{u_depth:2,u_terrain:3,u_terrain_dim:h&&h.dem&&h.dem.dim||1,u_terrain_matrix:p?this._demMatrixCache[s.key].matrix:this._emptyDemMatrix,u_terrain_unpack:h&&h.dem&&h.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(h&&h.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:h}}getFramebuffer(s){const h=this.painter,p=h.width/devicePixelRatio,g=h.height/devicePixelRatio;return!this._fbo||this._fbo.width===p&&this._fbo.height===g||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new ye(h.context,{width:p,height:g,data:null},h.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(h.context.gl.NEAREST,h.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new ye(h.context,{width:p,height:g,data:null},h.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(h.context.gl.NEAREST,h.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=h.context.createFramebuffer(p,g,!0,!1),this._fbo.depthAttachment.set(h.context.createRenderbuffer(h.context.gl.DEPTH_COMPONENT16,p,g))),this._fbo.colorAttachment.set(s==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const s=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const h=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let b=0,T=0;b<this._coordsTextureSize;b++)for(let E=0;E<this._coordsTextureSize;E++,T+=4)h[T+0]=255&E,h[T+1]=255&b,h[T+2]=E>>8<<4|b>>8,h[T+3]=0;const p=new c.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(h.buffer)),g=new ye(s,p,s.gl.RGBA,{premultiply:!1});return g.bind(s.gl.NEAREST,s.gl.CLAMP_TO_EDGE),this._coordsTexture=g,g}pointCoordinate(s){const h=new Uint8Array(4),p=this.painter.context,g=p.gl;p.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),g.readPixels(s.x,this.painter.height/devicePixelRatio-s.y-1,1,1,g.RGBA,g.UNSIGNED_BYTE,h),p.bindFramebuffer.set(null);const b=h[0]+(h[2]>>4<<8),T=h[1]+((15&h[2])<<8),E=this.coordsIndex[255-h[3]],R=E&&this.sourceCache.getTileByID(E);if(!R)return null;const B=this._coordsTextureSize,j=(1<<R.tileID.canonical.z)*B;return new c.MercatorCoordinate((R.tileID.canonical.x*B+b)/j,(R.tileID.canonical.y*B+T)/j,this.getElevation(R.tileID,b,T,B))}getTerrainMesh(){if(this._mesh)return this._mesh;const s=this.painter.context,h=new c.Pos3dArray,p=new c.TriangleIndexArray,g=this.meshSize,b=c.EXTENT/g,T=g*g;for(let W=0;W<=g;W++)for(let X=0;X<=g;X++)h.emplaceBack(X*b,W*b,0);for(let W=0;W<T;W+=g+1)for(let X=0;X<g;X++)p.emplaceBack(X+W,g+X+W+1,g+X+W+2),p.emplaceBack(X+W,g+X+W+2,X+W+1);const E=h.length,R=E+2*(g+1);for(const W of[0,1])for(let X=0;X<=g;X++)for(const se of[0,1])h.emplaceBack(X*b,W*c.EXTENT,se);for(let W=0;W<2*g;W+=2)p.emplaceBack(R+W,R+W+1,R+W+3),p.emplaceBack(R+W,R+W+3,R+W+2),p.emplaceBack(E+W,E+W+3,E+W+1),p.emplaceBack(E+W,E+W+2,E+W+3);const B=h.length,j=B+2*(g+1);for(const W of[0,1])for(let X=0;X<=g;X++)for(const se of[0,1])h.emplaceBack(W*c.EXTENT,X*b,se);for(let W=0;W<2*g;W+=2)p.emplaceBack(B+W,B+W+1,B+W+3),p.emplaceBack(B+W,B+W+3,B+W+2),p.emplaceBack(j+W,j+W+3,j+W+1),p.emplaceBack(j+W,j+W+2,j+W+3);return this._mesh={indexBuffer:s.createIndexBuffer(p),vertexBuffer:s.createVertexBuffer(h,qt.members),segments:c.SegmentVector.simpleSegment(0,0,h.length,p.length)},this._mesh}getMeshFrameDelta(s){return 2*Math.PI*c.earthRadius/Math.pow(2,s)/5}getMinTileElevationForLngLatZoom(s,h){var p;const{tileID:g}=this._getOverscaledTileIDFromLngLatZoom(s,h);return(p=this.getMinMaxElevation(g).minElevation)!==null&&p!==void 0?p:0}getMinMaxElevation(s){const h=this.getTerrainData(s).tile,p={minElevation:null,maxElevation:null};return h&&h.dem&&(p.minElevation=h.dem.min*this.exaggeration,p.maxElevation=h.dem.max*this.exaggeration),p}_getOverscaledTileIDFromLngLatZoom(s,h){const p=c.MercatorCoordinate.fromLngLat(s.wrap()),g=(1<<h)*c.EXTENT,b=p.x*g,T=p.y*g,E=Math.floor(b/c.EXTENT),R=Math.floor(T/c.EXTENT);return{tileID:new c.OverscaledTileID(h,0,h,E,R),mercatorX:b,mercatorY:T}}}class bp{constructor(s,h,p){this._context=s,this._size=h,this._tileSize=p,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const s of this._objects)s.texture.destroy(),s.fbo.destroy()}_createObject(s){const h=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),p=new ye(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return p.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),h.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),h.colorAttachment.set(p.texture),{id:s,fbo:h,texture:p,stamp:-1,inUse:!1}}getObjectForId(s){return this._objects[s]}useObject(s){s.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(h=>s.id!==h),this._recentlyUsed.push(s.id)}stampObject(s){s.stamp=++this._stamp}getOrCreateFreeObject(){for(const h of this._recentlyUsed)if(!this._objects[h].inUse)return this._objects[h];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const s=this._createObject(this._objects.length);return this._objects.push(s),s}freeObject(s){s.inUse=!1}freeAllObjects(){for(const s of this._objects)this.freeObject(s)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(s=>!s.inUse)===!1}}const Jr={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class Oy{constructor(s,h){this.painter=s,this.terrain=h,this.pool=new bp(s.context,30,h.sourceCache.tileSize*h.qualityFactor)}destruct(){this.pool.destruct()}getTexture(s){return this.pool.getObjectForId(s.rtt[this._stacks.length-1].id).texture}prepareForRender(s,h){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=s._order.filter(p=>!s._layers[p].isHidden(h)),this._coordsDescendingInv={};for(const p in s.sourceCaches){this._coordsDescendingInv[p]={};const g=s.sourceCaches[p].getVisibleCoordinates();for(const b of g){const T=this.terrain.sourceCache.getTerrainCoords(b);for(const E in T)this._coordsDescendingInv[p][E]||(this._coordsDescendingInv[p][E]=[]),this._coordsDescendingInv[p][E].push(T[E])}}this._coordsDescendingInvStr={};for(const p of s._order){const g=s._layers[p],b=g.source;if(Jr[g.type]&&!this._coordsDescendingInvStr[b]){this._coordsDescendingInvStr[b]={};for(const T in this._coordsDescendingInv[b])this._coordsDescendingInvStr[b][T]=this._coordsDescendingInv[b][T].map(E=>E.key).sort().join()}}for(const p of this._renderableTiles)for(const g in this._coordsDescendingInvStr){const b=this._coordsDescendingInvStr[g][p.tileID.key];b&&b!==p.rttCoords[g]&&(p.rtt=[])}}renderLayer(s){if(s.isHidden(this.painter.transform.zoom))return!1;const h=s.type,p=this.painter,g=this._renderableLayerIds[this._renderableLayerIds.length-1]===s.id;if(Jr[h]&&(this._prevType&&Jr[this._prevType]||this._stacks.push([]),this._prevType=h,this._stacks[this._stacks.length-1].push(s.id),!g))return!0;if(Jr[this._prevType]||Jr[h]&&g){this._prevType=h;const b=this._stacks.length-1,T=this._stacks[b]||[];for(const E of this._renderableTiles){if(this.pool.isFull()&&(Bd(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(E),E.rtt[b]){const B=this.pool.getObjectForId(E.rtt[b].id);if(B.stamp===E.rtt[b].stamp){this.pool.useObject(B);continue}}const R=this.pool.getOrCreateFreeObject();this.pool.useObject(R),this.pool.stampObject(R),E.rtt[b]={id:R.id,stamp:R.stamp},p.context.bindFramebuffer.set(R.fbo.framebuffer),p.context.clear({color:c.Color.transparent,stencil:0}),p.currentStencilSource=void 0;for(let B=0;B<T.length;B++){const j=p.style._layers[T[B]],W=j.source?this._coordsDescendingInv[j.source][E.tileID.key]:[E.tileID];p.context.viewport.set([0,0,R.fbo.width,R.fbo.height]),p._renderTileClippingMasks(j,W),p.renderLayer(p,p.style.sourceCaches[j.source],j,W),j.source&&(E.rttCoords[j.source]=this._coordsDescendingInvStr[j.source][E.tileID.key])}}return Bd(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),Jr[h]}return!1}}const ms=y,F1={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:c.config.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},Ql=v=>{v.touchstart=v.dragStart,v.touchmoveWindow=v.dragMove,v.touchend=v.dragEnd},fr={showCompass:!0,showZoom:!0,visualizePitch:!1};class Lr{constructor(s,h,p=!1){this.mousedown=T=>{this.startMouse(c.extend({},T,{ctrlKey:!0,preventDefault:()=>T.preventDefault()}),_.mousePos(this.element,T)),_.addEventListener(window,"mousemove",this.mousemove),_.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=T=>{this.moveMouse(T,_.mousePos(this.element,T))},this.mouseup=T=>{this.mouseRotate.dragEnd(T),this.mousePitch&&this.mousePitch.dragEnd(T),this.offTemp()},this.touchstart=T=>{T.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=_.touchPos(this.element,T.targetTouches)[0],this.startTouch(T,this._startPos),_.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),_.addEventListener(window,"touchend",this.touchend))},this.touchmove=T=>{T.targetTouches.length!==1?this.reset():(this._lastPos=_.touchPos(this.element,T.targetTouches)[0],this.moveTouch(T,this._lastPos))},this.touchend=T=>{T.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const g=s.dragRotate._mouseRotate.getClickTolerance(),b=s.dragRotate._mousePitch.getClickTolerance();this.element=h,this.mouseRotate=vt({clickTolerance:g,enable:!0}),this.touchRotate=(({enable:T,clickTolerance:E,bearingDegreesPerPixelMoved:R=.8})=>{const B=new Xl;return new bt({clickTolerance:E,move:(j,W)=>({bearingDelta:(W.x-j.x)*R}),moveStateManager:B,enable:T,assignEvents:Ql})})({clickTolerance:g,enable:!0}),this.map=s,p&&(this.mousePitch=qd({clickTolerance:b,enable:!0}),this.touchPitch=(({enable:T,clickTolerance:E,pitchDegreesPerPixelMoved:R=-.5})=>{const B=new Xl;return new bt({clickTolerance:E,move:(j,W)=>({pitchDelta:(W.y-j.y)*R}),moveStateManager:B,enable:T,assignEvents:Ql})})({clickTolerance:b,enable:!0})),_.addEventListener(h,"mousedown",this.mousedown),_.addEventListener(h,"touchstart",this.touchstart,{passive:!1}),_.addEventListener(h,"touchcancel",this.reset)}startMouse(s,h){this.mouseRotate.dragStart(s,h),this.mousePitch&&this.mousePitch.dragStart(s,h),_.disableDrag()}startTouch(s,h){this.touchRotate.dragStart(s,h),this.touchPitch&&this.touchPitch.dragStart(s,h),_.disableDrag()}moveMouse(s,h){const p=this.map,{bearingDelta:g}=this.mouseRotate.dragMove(s,h)||{};if(g&&p.setBearing(p.getBearing()+g),this.mousePitch){const{pitchDelta:b}=this.mousePitch.dragMove(s,h)||{};b&&p.setPitch(p.getPitch()+b)}}moveTouch(s,h){const p=this.map,{bearingDelta:g}=this.touchRotate.dragMove(s,h)||{};if(g&&p.setBearing(p.getBearing()+g),this.touchPitch){const{pitchDelta:b}=this.touchPitch.dragMove(s,h)||{};b&&p.setPitch(p.getPitch()+b)}}off(){const s=this.element;_.removeEventListener(s,"mousedown",this.mousedown),_.removeEventListener(s,"touchstart",this.touchstart,{passive:!1}),_.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),_.removeEventListener(window,"touchend",this.touchend),_.removeEventListener(s,"touchcancel",this.reset),this.offTemp()}offTemp(){_.enableDrag(),_.removeEventListener(window,"mousemove",this.mousemove),_.removeEventListener(window,"mouseup",this.mouseup),_.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),_.removeEventListener(window,"touchend",this.touchend)}}let Us;function ec(v,s,h){if(v=new c.LngLat(v.lng,v.lat),s){const p=new c.LngLat(v.lng-360,v.lat),g=new c.LngLat(v.lng+360,v.lat),b=h.locationPoint(v).distSqr(s);h.locationPoint(p).distSqr(s)<b?v=p:h.locationPoint(g).distSqr(s)<b&&(v=g)}for(;Math.abs(v.lng-h.center.lng)>180;){const p=h.locationPoint(v);if(p.x>=0&&p.y>=0&&p.x<=h.width&&p.y<=h.height)break;v.lng>h.center.lng?v.lng-=360:v.lng+=360}return v}const tc={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Zd(v,s,h){const p=v.classList;for(const g in tc)p.remove(`maplibregl-${h}-anchor-${g}`);p.add(`maplibregl-${h}-anchor-${s}`)}class Tu extends c.Evented{constructor(s){if(super(),this._onKeyPress=h=>{const p=h.code,g=h.charCode||h.keyCode;p!=="Space"&&p!=="Enter"&&g!==32&&g!==13||this.togglePopup()},this._onMapClick=h=>{const p=h.originalEvent.target,g=this._element;this._popup&&(p===g||g.contains(p))&&this.togglePopup()},this._update=h=>{if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=ec(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let p="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?p=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(p=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let g="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?g="rotateX(0deg)":this._pitchAlignment==="map"&&(g=`rotateX(${this._map.getPitch()}deg)`),h&&h.type!=="moveend"||(this._pos=this._pos.round()),_.setTransform(this._element,`${tc[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${g} ${p}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const b=this._map.unproject(this._pos),T=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=b.distanceTo(this._lngLat)>20*T?"0.2":"1.0",this._opacityTimeout=null},100))},this._onMove=h=>{if(!this._isDragging){const p=this._clickTolerance||this._map._clickTolerance;this._isDragging=h.point.dist(this._pointerdownPos)>=p}this._isDragging&&(this._pos=h.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new c.Event("dragstart"))),this.fire(new c.Event("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new c.Event("dragend")),this._state="inactive"},this._addDragHandler=h=>{this._element.contains(h.originalEvent.target)&&(h.preventDefault(),this._positionDelta=h.point.sub(this._pos).add(this._offset),this._pointerdownPos=h.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=s&&s.anchor||"center",this._color=s&&s.color||"#3FB1CE",this._scale=s&&s.scale||1,this._draggable=s&&s.draggable||!1,this._clickTolerance=s&&s.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=s&&s.rotation||0,this._rotationAlignment=s&&s.rotationAlignment||"auto",this._pitchAlignment=s&&s.pitchAlignment&&s.pitchAlignment!=="auto"?s.pitchAlignment:this._rotationAlignment,s&&s.element)this._element=s.element,this._offset=c.Point.convert(s&&s.offset||[0,0]);else{this._defaultMarker=!0,this._element=_.create("div"),this._element.setAttribute("aria-label","Map marker");const h=_.createNS("http://www.w3.org/2000/svg","svg"),p=41,g=27;h.setAttributeNS(null,"display","block"),h.setAttributeNS(null,"height",`${p}px`),h.setAttributeNS(null,"width",`${g}px`),h.setAttributeNS(null,"viewBox",`0 0 ${g} ${p}`);const b=_.createNS("http://www.w3.org/2000/svg","g");b.setAttributeNS(null,"stroke","none"),b.setAttributeNS(null,"stroke-width","1"),b.setAttributeNS(null,"fill","none"),b.setAttributeNS(null,"fill-rule","evenodd");const T=_.createNS("http://www.w3.org/2000/svg","g");T.setAttributeNS(null,"fill-rule","nonzero");const E=_.createNS("http://www.w3.org/2000/svg","g");E.setAttributeNS(null,"transform","translate(3.0, 29.0)"),E.setAttributeNS(null,"fill","#000000");const R=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const xe of R){const De=_.createNS("http://www.w3.org/2000/svg","ellipse");De.setAttributeNS(null,"opacity","0.04"),De.setAttributeNS(null,"cx","10.5"),De.setAttributeNS(null,"cy","5.80029008"),De.setAttributeNS(null,"rx",xe.rx),De.setAttributeNS(null,"ry",xe.ry),E.appendChild(De)}const B=_.createNS("http://www.w3.org/2000/svg","g");B.setAttributeNS(null,"fill",this._color);const j=_.createNS("http://www.w3.org/2000/svg","path");j.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),B.appendChild(j);const W=_.createNS("http://www.w3.org/2000/svg","g");W.setAttributeNS(null,"opacity","0.25"),W.setAttributeNS(null,"fill","#000000");const X=_.createNS("http://www.w3.org/2000/svg","path");X.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),W.appendChild(X);const se=_.createNS("http://www.w3.org/2000/svg","g");se.setAttributeNS(null,"transform","translate(6.0, 7.0)"),se.setAttributeNS(null,"fill","#FFFFFF");const oe=_.createNS("http://www.w3.org/2000/svg","g");oe.setAttributeNS(null,"transform","translate(8.0, 8.0)");const ce=_.createNS("http://www.w3.org/2000/svg","circle");ce.setAttributeNS(null,"fill","#000000"),ce.setAttributeNS(null,"opacity","0.25"),ce.setAttributeNS(null,"cx","5.5"),ce.setAttributeNS(null,"cy","5.5"),ce.setAttributeNS(null,"r","5.4999962");const ie=_.createNS("http://www.w3.org/2000/svg","circle");ie.setAttributeNS(null,"fill","#FFFFFF"),ie.setAttributeNS(null,"cx","5.5"),ie.setAttributeNS(null,"cy","5.5"),ie.setAttributeNS(null,"r","5.4999962"),oe.appendChild(ce),oe.appendChild(ie),T.appendChild(E),T.appendChild(B),T.appendChild(W),T.appendChild(se),T.appendChild(oe),h.appendChild(T),h.setAttributeNS(null,"height",p*this._scale+"px"),h.setAttributeNS(null,"width",g*this._scale+"px"),this._element.appendChild(h),this._offset=c.Point.convert(s&&s.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",h=>{h.preventDefault()}),this._element.addEventListener("mousedown",h=>{h.preventDefault()}),Zd(this._element,this._anchor,"marker"),s&&s.className)for(const h of s.className.split(" "))this._element.classList.add(h);this._popup=null}addTo(s){return this.remove(),this._map=s,s.getCanvasContainer().appendChild(this._element),s.on("move",this._update),s.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),_.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(s){return this._lngLat=c.LngLat.convert(s),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(s){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),s){if(!("offset"in s.options)){const g=Math.sqrt(Math.pow(13.5,2)/2);s.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[g,-1*(38.1-13.5+g)],"bottom-right":[-g,-1*(38.1-13.5+g)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=s,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const s=this._popup;return s?(s.isOpen()?s.remove():s.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(s){return this._offset=c.Point.convert(s),this._update(),this}addClassName(s){this._element.classList.add(s)}removeClassName(s){this._element.classList.remove(s)}toggleClassName(s){return this._element.classList.toggle(s)}setDraggable(s){return this._draggable=!!s,this._map&&(s?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(s){return this._rotation=s||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(s){return this._rotationAlignment=s||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(s){return this._pitchAlignment=s&&s!=="auto"?s:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const wp={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let wa=0,cl=!1;const Sp={maxWidth:100,unit:"metric"};function Kd(v,s,h){const p=h&&h.maxWidth||100,g=v._container.clientHeight/2,b=v.unproject([0,g]),T=v.unproject([p,g]),E=b.distanceTo(T);if(h&&h.unit==="imperial"){const R=3.2808*E;R>5280?ul(s,p,R/5280,v._getUIString("ScaleControl.Miles")):ul(s,p,R,v._getUIString("ScaleControl.Feet"))}else h&&h.unit==="nautical"?ul(s,p,E/1852,v._getUIString("ScaleControl.NauticalMiles")):E>=1e3?ul(s,p,E/1e3,v._getUIString("ScaleControl.Kilometers")):ul(s,p,E,v._getUIString("ScaleControl.Meters"))}function ul(v,s,h,p){const g=function(b){const T=Math.pow(10,`${Math.floor(b)}`.length-1);let E=b/T;return E=E>=10?10:E>=5?5:E>=3?3:E>=2?2:E>=1?1:function(R){const B=Math.pow(10,Math.ceil(-Math.log(R)/Math.LN10));return Math.round(R*B)/B}(E),T*E}(h);v.style.width=s*(g/h)+"px",v.innerHTML=`${g}&nbsp;${p}`}const Cp={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Tp=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Xd(v){if(v){if(typeof v=="number"){const s=Math.round(Math.sqrt(.5*Math.pow(v,2)));return{center:new c.Point(0,0),top:new c.Point(0,v),"top-left":new c.Point(s,s),"top-right":new c.Point(-s,s),bottom:new c.Point(0,-v),"bottom-left":new c.Point(s,-s),"bottom-right":new c.Point(-s,-s),left:new c.Point(v,0),right:new c.Point(-v,0)}}if(v instanceof c.Point||Array.isArray(v)){const s=c.Point.convert(v);return{center:s,top:s,"top-left":s,"top-right":s,bottom:s,"bottom-left":s,"bottom-right":s,left:s,right:s}}return{center:c.Point.convert(v.center||[0,0]),top:c.Point.convert(v.top||[0,0]),"top-left":c.Point.convert(v["top-left"]||[0,0]),"top-right":c.Point.convert(v["top-right"]||[0,0]),bottom:c.Point.convert(v.bottom||[0,0]),"bottom-left":c.Point.convert(v["bottom-left"]||[0,0]),"bottom-right":c.Point.convert(v["bottom-right"]||[0,0]),left:c.Point.convert(v.left||[0,0]),right:c.Point.convert(v.right||[0,0])}}return Xd(new c.Point(0,0))}const kp={extend:(v,...s)=>c.extend(v,...s),run(v){v()},logToElement(v,s=!1,h="log"){const p=window.document.getElementById(h);p&&(s&&(p.innerHTML=""),p.innerHTML+=`<br>${v}`)}},Jd=y;class Pn{static get version(){return Jd}static get workerCount(){return bn.workerCount}static set workerCount(s){bn.workerCount=s}static get maxParallelImageRequests(){return c.config.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(s){c.config.MAX_PARALLEL_IMAGE_REQUESTS=s}static get workerUrl(){return c.config.WORKER_URL}static set workerUrl(s){c.config.WORKER_URL=s}static addProtocol(s,h){c.config.REGISTERED_PROTOCOLS[s]=h}static removeProtocol(s){delete c.config.REGISTERED_PROTOCOLS[s]}}return Pn.Map=class extends Ry{constructor(v){if(c.PerformanceUtils.mark(c.PerformanceMarkers.create),(v=c.extend({},F1,v)).minZoom!=null&&v.maxZoom!=null&&v.minZoom>v.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(v.minPitch!=null&&v.maxPitch!=null&&v.minPitch>v.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(v.minPitch!=null&&v.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(v.maxPitch!=null&&v.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Vd(v.minZoom,v.maxZoom,v.minPitch,v.maxPitch,v.renderWorldCopies),{bearingSnap:v.bearingSnap}),this._cooperativeGesturesOnWheel=s=>{this._onCooperativeGesture(s,s[this._metaKey],1)},this._contextLost=s=>{s.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new c.Event("webglcontextlost",{originalEvent:s}))},this._contextRestored=s=>{this._setupPainter(),this.resize(),this._update(),this.fire(new c.Event("webglcontextrestored",{originalEvent:s}))},this._onMapScroll=s=>{if(s.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=v.interactive,this._cooperativeGestures=v.cooperativeGestures,this._metaKey=navigator.platform.indexOf("Mac")===0?"metaKey":"ctrlKey",this._maxTileCacheSize=v.maxTileCacheSize,this._maxTileCacheZoomLevels=v.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=v.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=v.preserveDrawingBuffer,this._antialias=v.antialias,this._trackResize=v.trackResize,this._bearingSnap=v.bearingSnap,this._refreshExpiredTiles=v.refreshExpiredTiles,this._fadeDuration=v.fadeDuration,this._crossSourceCollisions=v.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=v.collectResourceTiming,this._renderTaskQueue=new Hd,this._controls=[],this._mapId=c.uniqueId(),this._locale=c.extend({},Nt,v.locale),this._clickTolerance=v.clickTolerance,this._overridePixelRatio=v.pixelRatio,this._maxCanvasSize=v.maxCanvasSize,this.transformCameraUpdate=v.transformCameraUpdate,this._imageQueueHandle=$.addThrottleControl(()=>this.isMoving()),this._requestManager=new O(v.transformRequest),typeof v.container=="string"){if(this._container=document.getElementById(v.container),!this._container)throw new Error(`Container '${v.container}' not found.`)}else{if(!(v.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=v.container}if(v.maxBounds&&this.setMaxBounds(v.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let s=!1;this._resizeObserver=new ResizeObserver(h=>{s?this._trackResize&&this.resize(h)._update():s=!0}),this._resizeObserver.observe(this._container)}this.handlers=new My(this,v),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=v.hash&&new ol(typeof v.hash=="string"&&v.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:v.center,zoom:v.zoom,bearing:v.bearing,pitch:v.pitch}),v.bounds&&(this.resize(),this.fitBounds(v.bounds,c.extend({},v.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=v.localIdeographFontFamily,this._validateStyle=v.validateStyle,v.style&&this.setStyle(v.style,{localIdeographFontFamily:v.localIdeographFontFamily}),v.attributionControl&&this.addControl(new Ay({customAttribution:v.customAttribution})),v.maplibreLogo&&this.addControl(new Vo,v.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",s=>{this._update(s.dataType==="style"),this.fire(new c.Event(`${s.dataType}data`,s))}),this.on("dataloading",s=>{this.fire(new c.Event(`${s.dataType}dataloading`,s))}),this.on("dataabort",s=>{this.fire(new c.Event("sourcedataabort",s))})}_getMapId(){return this._mapId}addControl(v,s){if(s===void 0&&(s=v.getDefaultPosition?v.getDefaultPosition():"top-right"),!v||!v.onAdd)return this.fire(new c.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const h=v.onAdd(this);this._controls.push(v);const p=this._controlPositions[s];return s.indexOf("bottom")!==-1?p.insertBefore(h,p.firstChild):p.appendChild(h),this}removeControl(v){if(!v||!v.onRemove)return this.fire(new c.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const s=this._controls.indexOf(v);return s>-1&&this._controls.splice(s,1),v.onRemove(this),this}hasControl(v){return this._controls.indexOf(v)>-1}calculateCameraOptionsFromTo(v,s,h,p){return p==null&&this.terrain&&(p=this.terrain.getElevationForLngLatZoom(h,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(v,s,h,p)}resize(v){var s;const h=this._containerDimensions(),p=h[0],g=h[1],b=this._getClampedPixelRatio(p,g);if(this._resizeCanvas(p,g,b),this.painter.resize(p,g,b),this.painter.overLimit()){const E=this.painter.context.gl;this._maxCanvasSize=[E.drawingBufferWidth,E.drawingBufferHeight];const R=this._getClampedPixelRatio(p,g);this._resizeCanvas(p,g,R),this.painter.resize(p,g,R)}this.transform.resize(p,g),(s=this._requestedCameraState)===null||s===void 0||s.resize(p,g);const T=!this._moving;return T&&(this.stop(),this.fire(new c.Event("movestart",v)).fire(new c.Event("move",v))),this.fire(new c.Event("resize",v)),T&&this.fire(new c.Event("moveend",v)),this}_getClampedPixelRatio(v,s){const{0:h,1:p}=this._maxCanvasSize,g=this.getPixelRatio(),b=v*g,T=s*g;return Math.min(b>h?h/b:1,T>p?p/T:1)*g}getPixelRatio(){var v;return(v=this._overridePixelRatio)!==null&&v!==void 0?v:devicePixelRatio}setPixelRatio(v){this._overridePixelRatio=v,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(v){return this.transform.setMaxBounds(Ae.convert(v)),this._update()}setMinZoom(v){if((v=v??-2)>=-2&&v<=this.transform.maxZoom)return this.transform.minZoom=v,this._update(),this.getZoom()<v&&this.setZoom(v),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(v){if((v=v??22)>=this.transform.minZoom)return this.transform.maxZoom=v,this._update(),this.getZoom()>v&&this.setZoom(v),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(v){if((v=v??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(v>=0&&v<=this.transform.maxPitch)return this.transform.minPitch=v,this._update(),this.getPitch()<v&&this.setPitch(v),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(v){if((v=v??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(v>=this.transform.minPitch)return this.transform.maxPitch=v,this._update(),this.getPitch()>v&&this.setPitch(v),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(v){return this.transform.renderWorldCopies=v,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(v){return this._cooperativeGestures=v,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(v){return this.transform.locationPoint(c.LngLat.convert(v),this.style&&this.terrain)}unproject(v){return this.transform.pointLocation(c.Point.convert(v),this.terrain)}isMoving(){var v;return this._moving||((v=this.handlers)===null||v===void 0?void 0:v.isMoving())}isZooming(){var v;return this._zooming||((v=this.handlers)===null||v===void 0?void 0:v.isZooming())}isRotating(){var v;return this._rotating||((v=this.handlers)===null||v===void 0?void 0:v.isRotating())}_createDelegatedListener(v,s,h){if(v==="mouseenter"||v==="mouseover"){let p=!1;return{layer:s,listener:h,delegates:{mousemove:b=>{const T=this.getLayer(s)?this.queryRenderedFeatures(b.point,{layers:[s]}):[];T.length?p||(p=!0,h.call(this,new zr(v,this,b.originalEvent,{features:T}))):p=!1},mouseout:()=>{p=!1}}}}if(v==="mouseleave"||v==="mouseout"){let p=!1;return{layer:s,listener:h,delegates:{mousemove:T=>{(this.getLayer(s)?this.queryRenderedFeatures(T.point,{layers:[s]}):[]).length?p=!0:p&&(p=!1,h.call(this,new zr(v,this,T.originalEvent)))},mouseout:T=>{p&&(p=!1,h.call(this,new zr(v,this,T.originalEvent)))}}}}{const p=g=>{const b=this.getLayer(s)?this.queryRenderedFeatures(g.point,{layers:[s]}):[];b.length&&(g.features=b,h.call(this,g),delete g.features)};return{layer:s,listener:h,delegates:{[v]:p}}}}on(v,s,h){if(h===void 0)return super.on(v,s);const p=this._createDelegatedListener(v,s,h);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[v]=this._delegatedListeners[v]||[],this._delegatedListeners[v].push(p);for(const g in p.delegates)this.on(g,p.delegates[g]);return this}once(v,s,h){if(h===void 0)return super.once(v,s);const p=this._createDelegatedListener(v,s,h);for(const g in p.delegates)this.once(g,p.delegates[g]);return this}off(v,s,h){return h===void 0?super.off(v,s):(this._delegatedListeners&&this._delegatedListeners[v]&&(p=>{const g=this._delegatedListeners[v];for(let b=0;b<g.length;b++){const T=g[b];if(T.layer===s&&T.listener===h){for(const E in T.delegates)this.off(E,T.delegates[E]);return g.splice(b,1),this}}})(),this)}queryRenderedFeatures(v,s){if(!this.style)return[];let h;const p=v instanceof c.Point||Array.isArray(v),g=p?v:[[0,0],[this.transform.width,this.transform.height]];if(s=s||(p?{}:v)||{},g instanceof c.Point||typeof g[0]=="number")h=[c.Point.convert(g)];else{const b=c.Point.convert(g[0]),T=c.Point.convert(g[1]);h=[b,new c.Point(T.x,b.y),T,new c.Point(b.x,T.y),b]}return this.style.queryRenderedFeatures(h,s,this.transform)}querySourceFeatures(v,s){return this.style.querySourceFeatures(v,s)}setStyle(v,s){return(s=c.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},s)).diff!==!1&&s.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&v?(this._diffStyle(v,s),this):(this._localIdeographFontFamily=s.localIdeographFontFamily,this._updateStyle(v,s))}setTransformRequest(v){return this._requestManager.setTransformRequest(v),this}_getUIString(v){const s=this._locale[v];if(s==null)throw new Error(`Missing UI string '${v}'`);return s}_updateStyle(v,s){if(s.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(v,s));const h=this.style&&s.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!v)),v?(this.style=new xi(this,s||{}),this.style.setEventedParent(this,{style:this.style}),typeof v=="string"?this.style.loadURL(v,s,h):this.style.loadJSON(v,s,h),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new xi(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(v,s){if(typeof v=="string"){const h=this._requestManager.transformRequest(v,A.Style);c.getJSON(h,(p,g)=>{p?this.fire(new c.ErrorEvent(p)):g&&this._updateDiff(g,s)})}else typeof v=="object"&&this._updateDiff(v,s)}_updateDiff(v,s){try{this.style.setState(v,s)&&this._update(!0)}catch(h){c.warnOnce(`Unable to perform style diff: ${h.message||h.error||h}.  Rebuilding the style from scratch.`),this._updateStyle(v,s)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():c.warnOnce("There is no style added to the map.")}addSource(v,s){return this._lazyInitEmptyStyle(),this.style.addSource(v,s),this._update(!0)}isSourceLoaded(v){const s=this.style&&this.style.sourceCaches[v];if(s!==void 0)return s.loaded();this.fire(new c.ErrorEvent(new Error(`There is no source with ID '${v}'`)))}setTerrain(v){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),v){const s=this.style.sourceCaches[v.source];if(!s)throw new Error(`cannot load terrain, because there exists no source with ID: ${v.source}`);for(const h in this.style._layers){const p=this.style._layers[h];p.type==="hillshade"&&p.source===v.source&&c.warnOnce("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new xp(this.painter,s,v),this.painter.renderToTexture=new Oy(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=h=>{h.dataType==="style"?this.terrain.sourceCache.freeRtt():h.dataType==="source"&&h.tile&&(h.sourceId!==v.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(h.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new c.Event("terrain",{terrain:v})),this}getTerrain(){return this.terrain&&this.terrain.options}areTilesLoaded(){const v=this.style&&this.style.sourceCaches;for(const s in v){const h=v[s]._tiles;for(const p in h){const g=h[p];if(g.state!=="loaded"&&g.state!=="errored")return!1}}return!0}addSourceType(v,s,h){return this._lazyInitEmptyStyle(),this.style.addSourceType(v,s,h)}removeSource(v){return this.style.removeSource(v),this._update(!0)}getSource(v){return this.style.getSource(v)}addImage(v,s,h={}){const{pixelRatio:p=1,sdf:g=!1,stretchX:b,stretchY:T,content:E}=h;if(this._lazyInitEmptyStyle(),!(s instanceof HTMLImageElement||c.isImageBitmap(s))){if(s.width===void 0||s.height===void 0)return this.fire(new c.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:R,height:B,data:j}=s,W=s;return this.style.addImage(v,{data:new c.RGBAImage({width:R,height:B},new Uint8Array(j)),pixelRatio:p,stretchX:b,stretchY:T,content:E,sdf:g,version:0,userImage:W}),W.onAdd&&W.onAdd(this,v),this}}{const{width:R,height:B,data:j}=c.browser.getImageData(s);this.style.addImage(v,{data:new c.RGBAImage({width:R,height:B},j),pixelRatio:p,stretchX:b,stretchY:T,content:E,sdf:g,version:0})}}updateImage(v,s){const h=this.style.getImage(v);if(!h)return this.fire(new c.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const p=s instanceof HTMLImageElement||c.isImageBitmap(s)?c.browser.getImageData(s):s,{width:g,height:b,data:T}=p;if(g===void 0||b===void 0)return this.fire(new c.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(g!==h.data.width||b!==h.data.height)return this.fire(new c.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const E=!(s instanceof HTMLImageElement||c.isImageBitmap(s));return h.data.replace(T,E),this.style.updateImage(v,h),this}getImage(v){return this.style.getImage(v)}hasImage(v){return v?!!this.style.getImage(v):(this.fire(new c.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(v){this.style.removeImage(v)}loadImage(v,s){$.getImage(this._requestManager.transformRequest(v,A.Image),s)}listImages(){return this.style.listImages()}addLayer(v,s){return this._lazyInitEmptyStyle(),this.style.addLayer(v,s),this._update(!0)}moveLayer(v,s){return this.style.moveLayer(v,s),this._update(!0)}removeLayer(v){return this.style.removeLayer(v),this._update(!0)}getLayer(v){return this.style.getLayer(v)}setLayerZoomRange(v,s,h){return this.style.setLayerZoomRange(v,s,h),this._update(!0)}setFilter(v,s,h={}){return this.style.setFilter(v,s,h),this._update(!0)}getFilter(v){return this.style.getFilter(v)}setPaintProperty(v,s,h,p={}){return this.style.setPaintProperty(v,s,h,p),this._update(!0)}getPaintProperty(v,s){return this.style.getPaintProperty(v,s)}setLayoutProperty(v,s,h,p={}){return this.style.setLayoutProperty(v,s,h,p),this._update(!0)}getLayoutProperty(v,s){return this.style.getLayoutProperty(v,s)}setGlyphs(v,s={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(v,s),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(v,s,h={}){return this._lazyInitEmptyStyle(),this.style.addSprite(v,s,h,p=>{p||this._update(!0)}),this}removeSprite(v){return this._lazyInitEmptyStyle(),this.style.removeSprite(v),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(v,s={}){return this._lazyInitEmptyStyle(),this.style.setSprite(v,s,h=>{h||this._update(!0)}),this}setLight(v,s={}){return this._lazyInitEmptyStyle(),this.style.setLight(v,s),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(v,s){return this.style.setFeatureState(v,s),this._update()}removeFeatureState(v,s){return this.style.removeFeatureState(v,s),this._update()}getFeatureState(v){return this.style.getFeatureState(v)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let v=0,s=0;return this._container&&(v=this._container.clientWidth||400,s=this._container.clientHeight||300),[v,s]}_setupContainer(){const v=this._container;v.classList.add("maplibregl-map");const s=this._canvasContainer=_.create("div","maplibregl-canvas-container",v);this._interactive&&s.classList.add("maplibregl-interactive"),this._canvas=_.create("canvas","maplibregl-canvas",s),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const h=this._containerDimensions(),p=this._getClampedPixelRatio(h[0],h[1]);this._resizeCanvas(h[0],h[1],p);const g=this._controlContainer=_.create("div","maplibregl-control-container",v),b=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(T=>{b[T]=_.create("div",`maplibregl-ctrl-${T} `,g)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=_.create("div","maplibregl-cooperative-gesture-screen",this._container);let v=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(v=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use  + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${v}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){_.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(v,s,h){this._canvas.width=Math.floor(h*v),this._canvas.height=Math.floor(h*s),this._canvas.style.width=`${v}px`,this._canvas.style.height=`${s}px`}_setupPainter(){const v={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let s=null;this._canvas.addEventListener("webglcontextcreationerror",p=>{s={requestedAttributes:v},p&&(s.statusMessage=p.statusMessage,s.type=p.type)},{once:!0});const h=this._canvas.getContext("webgl2",v)||this._canvas.getContext("webgl",v);if(!h){const p="Failed to initialize WebGL";throw s?(s.message=p,new Error(JSON.stringify(s))):new Error(p)}this.painter=new yy(h,this.transform),C.testSupport(h)}_onCooperativeGesture(v,s,h){return!s&&h<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(v){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||v,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(v){return this._update(),this._renderTaskQueue.add(v)}_cancelRenderFrame(v){this._renderTaskQueue.remove(v)}_render(v){const s=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(v),this._removed)return;let h=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const g=this.transform.zoom,b=c.browser.now();this.style.zoomHistory.update(g,b);const T=new c.EvaluationParameters(g,{now:b,fadeDuration:s,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),E=T.crossFadingFactor();E===1&&E===this._crossFadingFactor||(h=!0,this._crossFadingFactor=E),this.style.update(T)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,s,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:s,showPadding:this.showPadding}),this.fire(new c.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,c.PerformanceUtils.mark(c.PerformanceMarkers.load),this.fire(new c.Event("load"))),this.style&&(this.style.hasTransitions()||h)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const p=this._sourcesDirty||this._styleDirty||this._placementDirty;return p||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new c.Event("idle")),!this._loaded||this._fullyLoaded||p||(this._fullyLoaded=!0,c.PerformanceUtils.mark(c.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var v;this._hash&&this._hash.remove();for(const h of this._controls)h.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),$.removeThrottleControl(this._imageQueueHandle),(v=this._resizeObserver)===null||v===void 0||v.disconnect();const s=this.painter.context.gl.getExtension("WEBGL_lose_context");s&&s.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),_.remove(this._canvasContainer),_.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),c.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new c.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=c.browser.frame(v=>{c.PerformanceUtils.frame(v),this._frame=null,this._render(v)}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(v){this._showTileBoundaries!==v&&(this._showTileBoundaries=v,this._update())}get showPadding(){return!!this._showPadding}set showPadding(v){this._showPadding!==v&&(this._showPadding=v,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(v){this._showCollisionBoxes!==v&&(this._showCollisionBoxes=v,v?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(v){this._showOverdrawInspector!==v&&(this._showOverdrawInspector=v,this._update())}get repaint(){return!!this._repaint}set repaint(v){this._repaint!==v&&(this._repaint=v,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(v){this._vertices=v,this._update()}get version(){return ms}getCameraTargetElevation(){return this.transform.elevation}},Pn.NavigationControl=class{constructor(v){this._updateZoomButtons=()=>{const s=this._map.getZoom(),h=s===this._map.getMaxZoom(),p=s===this._map.getMinZoom();this._zoomInButton.disabled=h,this._zoomOutButton.disabled=p,this._zoomInButton.setAttribute("aria-disabled",h.toString()),this._zoomOutButton.setAttribute("aria-disabled",p.toString())},this._rotateCompassArrow=()=>{const s=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=s},this._setButtonTitle=(s,h)=>{const p=this._map._getUIString(`NavigationControl.${h}`);s.title=p,s.setAttribute("aria-label",p)},this.options=c.extend({},fr,v),this._container=_.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",s=>s.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",s=>this._map.zoomIn({},{originalEvent:s})),_.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",s=>this._map.zoomOut({},{originalEvent:s})),_.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",s=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:s}):this._map.resetNorth({},{originalEvent:s})}),this._compassIcon=_.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(v){return this._map=v,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Lr(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){_.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(v,s){const h=_.create("button",v,this._container);return h.type="button",h.addEventListener("click",s),h}},Pn.GeolocateControl=class extends c.Evented{constructor(v){super(),this._onSuccess=s=>{if(this._map){if(this._isOutOfMapMaxBounds(s))return this._setErrorState(),this.fire(new c.Event("outofmaxbounds",s)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=s,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(s),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(s),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new c.Event("geolocate",s)),this._finish()}},this._updateCamera=s=>{const h=new c.LngLat(s.coords.longitude,s.coords.latitude),p=s.coords.accuracy,g=this._map.getBearing(),b=c.extend({bearing:g},this.options.fitBoundsOptions),T=Ae.fromLngLat(h,p);this._map.fitBounds(T,b,{geolocateSource:!0})},this._updateMarker=s=>{if(s){const h=new c.LngLat(s.coords.longitude,s.coords.latitude);this._accuracyCircleMarker.setLngLat(h).addTo(this._map),this._userLocationDotMarker.setLngLat(h).addTo(this._map),this._accuracy=s.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=s=>{if(this._map){if(this.options.trackUserLocation)if(s.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const h=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=h,this._geolocateButton.setAttribute("aria-label",h),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(s.code===3&&cl)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new c.Event("error",s)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=s=>{if(this._map){if(this._container.addEventListener("contextmenu",h=>h.preventDefault()),this._geolocateButton=_.create("button","maplibregl-ctrl-geolocate",this._container),_.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",s===!1){c.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const h=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=h,this._geolocateButton.setAttribute("aria-label",h)}else{const h=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=h,this._geolocateButton.setAttribute("aria-label",h)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=_.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Tu({element:this._dotElement}),this._circleElement=_.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Tu({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",h=>{h.geolocateSource||this._watchState!=="ACTIVE_LOCK"||h.originalEvent&&h.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new c.Event("trackuserlocationend")))})}},this.options=c.extend({},wp,v)}onAdd(v){return this._map=v,this._container=_.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(s,h=!1){Us===void 0||h?window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(p=>{Us=p.state!=="denied",s(Us)}).catch(()=>{Us=!!window.navigator.geolocation,s(Us)}):(Us=!!window.navigator.geolocation,s(Us)):s(Us)}(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),_.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,wa=0,cl=!1}_isOutOfMapMaxBounds(v){const s=this._map.getMaxBounds(),h=v.coords;return s&&(h.longitude<s.getWest()||h.longitude>s.getEast()||h.latitude<s.getSouth()||h.latitude>s.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const v=this._map.getBounds(),s=v.getSouthEast(),h=v.getNorthEast(),p=s.distanceTo(h),g=Math.ceil(this._accuracy/(p/this._map._container.clientHeight)*2);this._circleElement.style.width=`${g}px`,this._circleElement.style.height=`${g}px`}trigger(){if(!this._setup)return c.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new c.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":wa--,cl=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new c.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new c.Event("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let v;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),wa++,wa>1?(v={maximumAge:6e5,timeout:0},cl=!0):(v=this.options.positionOptions,cl=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,v)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},Pn.AttributionControl=Ay,Pn.LogoControl=Vo,Pn.ScaleControl=class{constructor(v){this._onMove=()=>{Kd(this._map,this._container,this.options)},this.setUnit=s=>{this.options.unit=s,Kd(this._map,this._container,this.options)},this.options=c.extend({},Sp,v)}getDefaultPosition(){return"bottom-left"}onAdd(v){return this._map=v,this._container=_.create("div","maplibregl-ctrl maplibregl-ctrl-scale",v.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){_.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},Pn.FullscreenControl=class extends c.Evented{constructor(v={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,v&&v.container&&(v.container instanceof HTMLElement?this._container=v.container:c.warnOnce("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(v){return this._map=v,this._container||(this._container=this._map.getContainer()),this._controlContainer=_.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){_.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const v=this._fullscreenButton=_.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);_.create("span","maplibregl-ctrl-icon",v).setAttribute("aria-hidden","true"),v.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const v=this._getTitle();this._fullscreenButton.setAttribute("aria-label",v),this._fullscreenButton.title=v}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new c.Event("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new c.Event("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},Pn.TerrainControl=class{constructor(v){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=v}onAdd(v){return this._map=v,this._container=_.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=_.create("button","maplibregl-ctrl-terrain",this._container),_.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){_.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},Pn.Popup=class extends c.Evented{constructor(v){super(),this.remove=()=>(this._content&&_.remove(this._content),this._container&&(_.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new c.Event("close")),this),this._onMouseUp=s=>{this._update(s.point)},this._onMouseMove=s=>{this._update(s.point)},this._onDrag=s=>{this._update(s.point)},this._update=s=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=_.create("div","maplibregl-popup",this._map.getContainer()),this._tip=_.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const T of this.options.className.split(" "))this._container.classList.add(T);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=ec(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!s)return;const h=this._pos=this._trackPointer&&s?s:this._map.project(this._lngLat);let p=this.options.anchor;const g=Xd(this.options.offset);if(!p){const T=this._container.offsetWidth,E=this._container.offsetHeight;let R;R=h.y+g.bottom.y<E?["top"]:h.y>this._map.transform.height-E?["bottom"]:[],h.x<T/2?R.push("left"):h.x>this._map.transform.width-T/2&&R.push("right"),p=R.length===0?"bottom":R.join("-")}const b=h.add(g[p]).round();_.setTransform(this._container,`${tc[p]} translate(${b.x}px,${b.y}px)`),Zd(this._container,p,"popup")},this._onClose=()=>{this.remove()},this.options=c.extend(Object.create(Cp),v)}addTo(v){return this._map&&this.remove(),this._map=v,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new c.Event("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(v){return this._lngLat=c.LngLat.convert(v),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(v){return this.setDOMContent(document.createTextNode(v))}setHTML(v){const s=document.createDocumentFragment(),h=document.createElement("body");let p;for(h.innerHTML=v;p=h.firstChild,p;)s.appendChild(p);return this.setDOMContent(s)}getMaxWidth(){var v;return(v=this._container)===null||v===void 0?void 0:v.style.maxWidth}setMaxWidth(v){return this.options.maxWidth=v,this._update(),this}setDOMContent(v){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=_.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(v),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(v){this._container&&this._container.classList.add(v)}removeClassName(v){this._container&&this._container.classList.remove(v)}setOffset(v){return this.options.offset=v,this._update(),this}toggleClassName(v){if(this._container)return this._container.classList.toggle(v)}_createCloseButton(){this.options.closeButton&&(this._closeButton=_.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const v=this._container.querySelector(Tp);v&&v.focus()}},Pn.Marker=Tu,Pn.Style=xi,Pn.LngLat=c.LngLat,Pn.LngLatBounds=Ae,Pn.Point=c.Point,Pn.MercatorCoordinate=c.MercatorCoordinate,Pn.Evented=c.Evented,Pn.AJAXError=c.AJAXError,Pn.config=c.config,Pn.CanvasSource=Re,Pn.GeoJSONSource=St,Pn.ImageSource=jt,Pn.RasterDEMTileSource=xt,Pn.RasterTileSource=ot,Pn.VectorTileSource=Le,Pn.VideoSource=Mt,Pn.setRTLTextPlugin=c.setRTLTextPlugin,Pn.getRTLTextPluginStatus=c.getRTLTextPluginStatus,Pn.prewarm=function(){Wt().acquire(nt)},Pn.clearPrewarmedResources=function(){const v=an;v&&(v.isPreloaded()&&v.numActive()===1?(v.release(nt),an=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},kp.extend(Pn,{isSafari:c.isSafari,getPerformanceMetrics:c.PerformanceUtils.getPerformanceMetrics}),Pn});var d=o;return d})})(L$);var rne=L$.exports;const Ux=g_(rne);class ine{constructor(t,n,r){this.onBeforeSwitch=t,this.onSwitch=n,this.onAfterSwitch=r,this.onDocumentClick=this.onDocumentClick.bind(this),this.styles=[],this.currentStyle=null}getDefaultPosition(){return"top-right"}updateStyles(t,n){this.styles=t;let r=null;for(const a of this.styles)if(a.id===(this.currentStyle||n)){r=a.id;break}for(r||(r=this.styles[0].id);this.mapStyleContainer.firstChild;)this.mapStyleContainer.removeChild(this.mapStyleContainer.firstChild);let o;for(const a of this.styles){const d=document.createElement("button");d.type="button",d.innerText=a.title,d.dataset.id=a.id,d.dataset.style=JSON.stringify(a.style),d.addEventListener("click",c=>{const{target:y}=c;y.classList.contains("active")||this.onSelectStyle(y)}),a.id===r&&(o=d,d.classList.add("active")),this.mapStyleContainer.appendChild(d)}this.currentStyle!==r&&(this.onSelectStyle(o),this.currentStyle=r)}onSelectStyle(t){this.onBeforeSwitch();const n=this.styles.find(o=>o.id===t.dataset.id);this.map.setStyle(n.style,{diff:!1}),this.map.setTransformRequest(n.transformRequest),this.onSwitch(t.dataset.id),this.mapStyleContainer.style.display="none",this.styleButton.style.display="block";const r=this.mapStyleContainer.getElementsByClassName("active");for(;r[0];)r[0].classList.remove("active");t.classList.add("active"),this.currentStyle=t.dataset.id,this.onAfterSwitch()}onAdd(t){return this.map=t,this.controlContainer=document.createElement("div"),this.controlContainer.classList.add("maplibregl-ctrl"),this.controlContainer.classList.add("maplibregl-ctrl-group"),this.mapStyleContainer=document.createElement("div"),this.styleButton=document.createElement("button"),this.styleButton.type="button",this.mapStyleContainer.classList.add("maplibregl-style-list"),this.styleButton.classList.add("maplibregl-ctrl-icon"),this.styleButton.classList.add("maplibregl-style-switcher"),this.styleButton.addEventListener("click",()=>{this.styleButton.style.display="none",this.mapStyleContainer.style.display="block"}),document.addEventListener("click",this.onDocumentClick),this.controlContainer.appendChild(this.styleButton),this.controlContainer.appendChild(this.mapStyleContainer),this.controlContainer}onRemove(){!this.controlContainer||!this.controlContainer.parentNode||!this.map||!this.styleButton||(this.styleButton.removeEventListener("click",this.onDocumentClick),this.controlContainer.parentNode.removeChild(this.controlContainer),document.removeEventListener("click",this.onDocumentClick),this.map=void 0)}onDocumentClick(t){this.controlContainer&&!this.controlContainer.contains(t.target)&&this.mapStyleContainer&&this.styleButton&&(this.mapStyleContainer.style.display="none",this.styleButton.style.display="block")}}const one=(e,t)=>{window.localStorage.setItem(e,JSON.stringify(t))},go=({tiles:e,minZoom:t,maxZoom:n,attribution:r})=>{const o={type:"raster",tiles:e,attribution:r,tileSize:256,minzoom:t,maxzoom:n};return Object.keys(o).forEach(a=>o[a]===void 0&&delete o[a]),{version:8,sources:{custom:o},glyphs:"https://cdn.traccar.com/map/fonts/{fontstack}/{range}.pbf",layers:[{id:"custom",type:"raster",source:"custom"}]}},sne=()=>{const e="mykey",t="mykey",n="mykey",r="mykey",o="mykey",a="mykey";return[{id:"locationIqStreets",title:"mapLocationIqStreets",style:`https://tiles.locationiq.com/v3/streets/vector.json?key=${t}`,available:!0},{id:"osm",title:"mapOsm",style:go({tiles:["https://tile.openstreetmap.org/{z}/{x}/{y}.png"],maxZoom:19,attribution:' <a target="_top" rel="noopener" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),available:!0},{id:"openTopoMap",title:"mapOpenTopoMap",style:go({tiles:["a","b","c"].map(d=>`https://${d}.tile.opentopomap.org/{z}/{x}/{y}.png`),maxZoom:17}),available:!0},{id:"carto",title:"mapCarto",style:go({tiles:["a","b","c","d"].map(d=>`https://${d}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}@2x.png`),maxZoom:22,attribution:' <a target="_top" rel="noopener" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors,  <a target="_top" rel="noopener" href="https://carto.com/attribution">CARTO</a>'}),available:!0},{id:"googleRoad",title:"mapGoogleRoad",style:go({tiles:[0,1,2,3].map(d=>`https://mt${d}.google.com/vt/lyrs=m&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:" Google"}),available:!0},{id:"googleSatellite",title:"mapGoogleSatellite",style:go({tiles:[0,1,2,3].map(d=>`https://mt${d}.google.com/vt/lyrs=s&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:" Google"}),available:!0},{id:"googleHybrid",title:"mapGoogleHybrid",style:go({tiles:[0,1,2,3].map(d=>`https://mt${d}.google.com/vt/lyrs=y&hl=en&x={x}&y={y}&z={z}&s=Ga`),maxZoom:20,attribution:" Google"}),available:!0},{id:"mapTilerBasic",title:"mapMapTilerBasic",style:`https://api.maptiler.com/maps/basic/style.json?key=${e}`,available:!!e,attribute:"mapTilerKey"},{id:"mapTilerHybrid",title:"mapMapTilerHybrid",style:`https://api.maptiler.com/maps/hybrid/style.json?key=${e}`,available:!!e,attribute:"mapTilerKey"},{id:"bingRoad",title:"mapBingRoad",style:go({tiles:[0,1,2,3].map(d=>`https://t${d}.ssl.ak.dynamic.tiles.virtualearth.net/comp/ch/{quadkey}?mkt=en-US&it=G,L&shading=hill&og=1885&n=z`),maxZoom:21}),available:!!n,attribute:"bingMapsKey"},{id:"bingAerial",title:"mapBingAerial",style:go({tiles:[0,1,2,3].map(d=>`https://ecn.t${d}.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=12327`),maxZoom:19}),available:!!n,attribute:"bingMapsKey"},{id:"bingHybrid",title:"mapBingHybrid",style:go({tiles:[0,1,2,3].map(d=>`https://t${d}.ssl.ak.dynamic.tiles.virtualearth.net/comp/ch/{quadkey}?mkt=en-US&it=A,G,L&og=1885&n=z`),maxZoom:19}),available:!!n,attribute:"bingMapsKey"},{id:"tomTomBasic",title:"mapTomTomBasic",style:`https://api.tomtom.com/map/1/style/20.0.0-8/basic_main.json?key=${r}`,available:!!r,attribute:"tomTomKey"},{id:"hereBasic",title:"mapHereBasic",style:`https://assets.vector.hereapi.com/styles/berlin/base/mapbox/tilezen?apikey=${o}`,available:!!o,attribute:"hereKey"},{id:"hereHybrid",title:"mapHereHybrid",style:go({tiles:[1,2,3,4].map(d=>`https://${d}.aerial.maps.ls.hereapi.com/maptile/2.1/maptile/newest/hybrid.day/{z}/{x}/{y}/256/png8?apiKey=${o}`),maxZoom:20}),available:!!o,attribute:"hereKey"},{id:"hereSatellite",title:"mapHereSatellite",style:go({tiles:[1,2,3,4].map(d=>`https://${d}.aerial.maps.ls.hereapi.com/maptile/2.1/maptile/newest/satellite.day/{z}/{x}/{y}/256/png8?apiKey=${o}`),maxZoom:19}),available:!!o,attribute:"hereKey"},{id:"autoNavi",title:"mapAutoNavi",style:go({tiles:[1,2,3,4].map(d=>`https://webrd0${d}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}`),minZoom:3,maxZoom:18}),available:!0},{id:"ordnanceSurvey",title:"mapOrdnanceSurvey",style:"https://api.os.uk/maps/vector/v1/vts/resources/styles?key=EAZ8p83u72FTGiLjLC2MsTAl1ko6XQHC",transformRequest:d=>({url:`${d}&srs=3857`}),available:!0},{id:"mapboxStreets",title:"mapMapboxStreets",style:go({tiles:[`https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=${a}`],maxZoom:22}),available:!!a,attribute:"mapboxAccessToken"},{id:"mapboxOutdoors",title:"mapMapboxOutdoors",style:go({tiles:[`https://api.mapbox.com/styles/v1/mapbox/outdoors-v11/tiles/{z}/{x}/{y}?access_token=${a}`],maxZoom:22}),available:!!a,attribute:"mapboxAccessToken"},{id:"mapboxSatelliteStreet",title:"mapMapboxSatellite",style:go({tiles:[`https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v11/tiles/{z}/{x}/{y}?access_token=${a}`],maxZoom:22}),available:!!a,attribute:"mapboxAccessToken"}]},If=document.createElement("div");If.style.width="100%";If.style.height="100%";If.style.boxSizing="initial";const tt=new Ux.Map({container:If,attributionControl:!1,center:[-6.0025,37.412],zoom:8});let KT=!1;const XT=new Set,ane=e=>{XT.add(e),e(KT)},lne=e=>{XT.delete(e)},N$=e=>{KT=e,XT.forEach(t=>t(e))},cne=async()=>{KT||(tt.hasImage("background")||Object.entries(Sh).forEach(([e,t])=>{tt.addImage(e,t,{pixelRatio:window.devicePixelRatio})}),N$(!0))};tt.addControl(new Ux.NavigationControl);const F$=new ine(()=>N$(!1),e=>one("selectedMapStyle",e),()=>{tt.once("styledata",()=>{const e=()=>{tt.loaded()?cne():setTimeout(e,33)};e()})});tt.addControl(F$);const B$=({children:e})=>{const t=U.useRef(null),[n,r]=U.useState(!1),o=sne(),a="osm",[d]="osm",c="my tocken",y=21;return U.useEffect(()=>{tt.setMaxZoom(y)},[y]),U.useEffect(()=>{Ux.accessToken=c},[c]),U.useEffect(()=>{const _=o.filter(k=>k.available&&a.includes(k.id)),C=_.length?_:o.filter(k=>k.id==="osm");F$.updateStyles(C,d)},[o,d]),U.useEffect(()=>{const _=C=>r(C);return ane(_),()=>{lne(_)}},[]),U.useLayoutEffect(()=>{const _=t.current;return _.appendChild(If),tt.resize(),()=>{_.removeChild(If)}},[t]),F.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},ref:t,children:n&&e})},JT=Symbol.for("yaml.alias"),A2=Symbol.for("yaml.document"),Vc=Symbol.for("yaml.map"),j$=Symbol.for("yaml.pair"),Nl=Symbol.for("yaml.scalar"),Bf=Symbol.for("yaml.seq"),Ds=Symbol.for("yaml.node.type"),gd=e=>!!e&&typeof e=="object"&&e[Ds]===JT,jf=e=>!!e&&typeof e=="object"&&e[Ds]===A2,Uf=e=>!!e&&typeof e=="object"&&e[Ds]===Vc,Mr=e=>!!e&&typeof e=="object"&&e[Ds]===j$,dr=e=>!!e&&typeof e=="object"&&e[Ds]===Nl,Vf=e=>!!e&&typeof e=="object"&&e[Ds]===Bf;function Br(e){if(e&&typeof e=="object")switch(e[Ds]){case Vc:case Bf:return!0}return!1}function ii(e){if(e&&typeof e=="object")switch(e[Ds]){case JT:case Vc:case Nl:case Bf:return!0}return!1}const une=e=>(dr(e)||Br(e))&&!!e.anchor,Ao=Symbol("break visit"),U$=Symbol("skip children"),Va=Symbol("remove node");function Xc(e,t){const n=V$(t);jf(e)?jh(null,e.contents,n,Object.freeze([e]))===Va&&(e.contents=null):jh(null,e,n,Object.freeze([]))}Xc.BREAK=Ao;Xc.SKIP=U$;Xc.REMOVE=Va;function jh(e,t,n,r){const o=W$(e,t,n,r);if(ii(o)||Mr(o))return q$(e,r,o),jh(e,o,n,r);if(typeof o!="symbol"){if(Br(t)){r=Object.freeze(r.concat(t));for(let a=0;a<t.items.length;++a){const d=jh(a,t.items[a],n,r);if(typeof d=="number")a=d-1;else{if(d===Ao)return Ao;d===Va&&(t.items.splice(a,1),a-=1)}}}else if(Mr(t)){r=Object.freeze(r.concat(t));const a=jh("key",t.key,n,r);if(a===Ao)return Ao;a===Va&&(t.key=null);const d=jh("value",t.value,n,r);if(d===Ao)return Ao;d===Va&&(t.value=null)}}return o}async function Vx(e,t){const n=V$(t);jf(e)?await Uh(null,e.contents,n,Object.freeze([e]))===Va&&(e.contents=null):await Uh(null,e,n,Object.freeze([]))}Vx.BREAK=Ao;Vx.SKIP=U$;Vx.REMOVE=Va;async function Uh(e,t,n,r){const o=await W$(e,t,n,r);if(ii(o)||Mr(o))return q$(e,r,o),Uh(e,o,n,r);if(typeof o!="symbol"){if(Br(t)){r=Object.freeze(r.concat(t));for(let a=0;a<t.items.length;++a){const d=await Uh(a,t.items[a],n,r);if(typeof d=="number")a=d-1;else{if(d===Ao)return Ao;d===Va&&(t.items.splice(a,1),a-=1)}}}else if(Mr(t)){r=Object.freeze(r.concat(t));const a=await Uh("key",t.key,n,r);if(a===Ao)return Ao;a===Va&&(t.key=null);const d=await Uh("value",t.value,n,r);if(d===Ao)return Ao;d===Va&&(t.value=null)}}return o}function V$(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function W$(e,t,n,r){var o,a,d,c,y;if(typeof n=="function")return n(e,t,r);if(Uf(t))return(o=n.Map)==null?void 0:o.call(n,e,t,r);if(Vf(t))return(a=n.Seq)==null?void 0:a.call(n,e,t,r);if(Mr(t))return(d=n.Pair)==null?void 0:d.call(n,e,t,r);if(dr(t))return(c=n.Scalar)==null?void 0:c.call(n,e,t,r);if(gd(t))return(y=n.Alias)==null?void 0:y.call(n,e,t,r)}function q$(e,t,n){const r=t[t.length-1];if(Br(r))r.items[e]=n;else if(Mr(r))e==="key"?r.key=n:r.value=n;else if(jf(r))r.contents=n;else{const o=gd(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${o} parent`)}}const dne={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},hne=e=>e.replace(/[!,[\]{}]/g,t=>dne[t]);class vo{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},vo.defaultYaml,t),this.tags=Object.assign({},vo.defaultTags,n)}clone(){const t=new vo(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new vo(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:vo.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},vo.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:vo.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},vo.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),o=r.shift();switch(o){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[a,d]=r;return this.tags[a]=d,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[a]=r;if(a==="1.1"||a==="1.2")return this.yaml.version=a,!0;{const d=/^\d+\.\d+$/.test(a);return n(6,`Unsupported YAML version ${a}`,d),!1}}default:return n(0,`Unknown directive ${o}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const d=t.slice(2,-1);return d==="!"||d==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),d)}const[,r,o]=t.match(/^(.*!)([^!]*)$/);o||n(`The ${t} tag has no suffix`);const a=this.tags[r];return a?a+decodeURIComponent(o):r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+hne(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let o;if(t&&r.length>0&&ii(t.contents)){const a={};Xc(t.contents,(d,c)=>{ii(c)&&c.tag&&(a[c.tag]=!0)}),o=Object.keys(a)}else o=[];for(const[a,d]of r)a==="!!"&&d==="tag:yaml.org,2002:"||(!t||o.some(c=>c.startsWith(d)))&&n.push(`%TAG ${a} ${d}`);return n.join(`
`)}}vo.defaultYaml={explicit:!1,version:"1.2"};vo.defaultTags={"!!":"tag:yaml.org,2002:"};function G$(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function H$(e){const t=new Set;return Xc(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function Y$(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function fne(e,t){const n=[],r=new Map;let o=null;return{onAnchor:a=>{n.push(a),o||(o=H$(e));const d=Y$(t,o);return o.add(d),d},setAnchors:()=>{for(const a of n){const d=r.get(a);if(typeof d=="object"&&d.anchor&&(dr(d.node)||Br(d.node)))d.node.anchor=d.anchor;else{const c=new Error("Failed to resolve repeated object (this should not happen)");throw c.source=a,c}}},sourceObjects:r}}function Vh(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let o=0,a=r.length;o<a;++o){const d=r[o],c=Vh(e,r,String(o),d);c===void 0?delete r[o]:c!==d&&(r[o]=c)}else if(r instanceof Map)for(const o of Array.from(r.keys())){const a=r.get(o),d=Vh(e,r,o,a);d===void 0?r.delete(o):d!==a&&r.set(o,d)}else if(r instanceof Set)for(const o of Array.from(r)){const a=Vh(e,r,o,o);a===void 0?r.delete(o):a!==o&&(r.delete(o),r.add(a))}else for(const[o,a]of Object.entries(r)){const d=Vh(e,r,o,a);d===void 0?delete r[o]:d!==a&&(r[o]=d)}return e.call(t,n,r)}function Ps(e,t,n){if(Array.isArray(e))return e.map((r,o)=>Ps(r,String(o),n));if(e&&typeof e.toJSON=="function"){if(!n||!une(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=a=>{r.res=a,delete n.onCreate};const o=e.toJSON(t,n);return n.onCreate&&n.onCreate(o),o}return typeof e=="bigint"&&!(n!=null&&n.keep)?Number(e):e}class QT{constructor(t){Object.defineProperty(this,Ds,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:n,maxAliasCount:r,onAnchor:o,reviver:a}={}){if(!jf(t))throw new TypeError("A document argument is required");const d={anchors:new Map,doc:t,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},c=Ps(this,"",d);if(typeof o=="function")for(const{count:y,res:_}of d.anchors.values())o(_,y);return typeof a=="function"?Vh(a,{"":c},"",c):c}}class Wx extends QT{constructor(t){super(JT),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let n;return Xc(t,{Node:(r,o)=>{if(o===this)return Xc.BREAK;o.anchor===this.source&&(n=o)}}),n}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:o,maxAliasCount:a}=n,d=this.resolve(o);if(!d){const y=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(y)}let c=r.get(d);if(c||(Ps(d,null,n),c=r.get(d)),!c||c.res===void 0){const y="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(y)}if(a>=0&&(c.count+=1,c.aliasCount===0&&(c.aliasCount=n0(o,d,r)),c.count*c.aliasCount>a)){const y="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(y)}return c.res}toString(t,n,r){const o=`*${this.source}`;if(t){if(G$(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const a=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(a)}if(t.implicitKey)return`${o} `}return o}}function n0(e,t,n){if(gd(t)){const r=t.resolve(e),o=n&&r&&n.get(r);return o?o.count*o.aliasCount:0}else if(Br(t)){let r=0;for(const o of t.items){const a=n0(e,o,n);a>r&&(r=a)}return r}else if(Mr(t)){const r=n0(e,t.key,n),o=n0(e,t.value,n);return Math.max(r,o)}return 1}const Z$=e=>!e||typeof e!="function"&&typeof e!="object";class fn extends QT{constructor(t){super(Nl),this.value=t}toJSON(t,n){return n!=null&&n.keep?this.value:Ps(this.value,t,n)}toString(){return String(this.value)}}fn.BLOCK_FOLDED="BLOCK_FOLDED";fn.BLOCK_LITERAL="BLOCK_LITERAL";fn.PLAIN="PLAIN";fn.QUOTE_DOUBLE="QUOTE_DOUBLE";fn.QUOTE_SINGLE="QUOTE_SINGLE";const pne="tag:yaml.org,2002:";function mne(e,t,n){if(t){const r=n.filter(a=>a.tag===t),o=r.find(a=>!a.format)??r[0];if(!o)throw new Error(`Tag ${t} not found`);return o}return n.find(r=>{var o;return((o=r.identify)==null?void 0:o.call(r,e))&&!r.format})}function Cg(e,t,n){var k,P,D;if(jf(e)&&(e=e.contents),ii(e))return e;if(Mr(e)){const N=(P=(k=n.schema[Vc]).createNode)==null?void 0:P.call(k,n.schema,null,n);return N.items.push(e),N}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:o,onTagObj:a,schema:d,sourceObjects:c}=n;let y;if(r&&e&&typeof e=="object"){if(y=c.get(e),y)return y.anchor||(y.anchor=o(e)),new Wx(y.anchor);y={anchor:null,node:null},c.set(e,y)}t!=null&&t.startsWith("!!")&&(t=pne+t.slice(2));let _=mne(e,t,d.tags);if(!_){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const N=new fn(e);return y&&(y.node=N),N}_=e instanceof Map?d[Vc]:Symbol.iterator in Object(e)?d[Bf]:d[Vc]}a&&(a(_),delete n.onTagObj);const C=_!=null&&_.createNode?_.createNode(n.schema,e,n):typeof((D=_==null?void 0:_.nodeClass)==null?void 0:D.from)=="function"?_.nodeClass.from(n.schema,e,n):new fn(e);return t?C.tag=t:_.default||(C.tag=_.tag),y&&(y.node=C),C}function i_(e,t,n){let r=n;for(let o=t.length-1;o>=0;--o){const a=t[o];if(typeof a=="number"&&Number.isInteger(a)&&a>=0){const d=[];d[a]=r,r=d}else r=new Map([[a,r]])}return Cg(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const Em=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class qx extends QT{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>ii(r)||Mr(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(Em(t))this.add(n);else{const[r,...o]=t,a=this.get(r,!0);if(Br(a))a.addIn(o,n);else if(a===void 0&&this.schema)this.set(r,i_(this.schema,o,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${o}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const o=this.get(n,!0);if(Br(o))return o.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...o]=t,a=this.get(r,!0);return o.length===0?!n&&dr(a)?a.value:a:Br(a)?a.getIn(o,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!Mr(n))return!1;const r=n.value;return r==null||t&&dr(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const o=this.get(n,!0);return Br(o)?o.hasIn(r):!1}setIn(t,n){const[r,...o]=t;if(o.length===0)this.set(r,n);else{const a=this.get(r,!0);if(Br(a))a.setIn(o,n);else if(a===void 0&&this.schema)this.set(r,i_(this.schema,o,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${o}`)}}}qx.maxFlowStringSingleLineLength=60;const gne=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Tl(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const Ec=(e,t,n)=>e.endsWith(`
`)?Tl(n,t):n.includes(`
`)?`
`+Tl(n,t):(e.endsWith(" ")?"":" ")+n,K$="flow",O2="block",r0="quoted";function Gx(e,t,n="flow",{indentAtStart:r,lineWidth:o=80,minContentWidth:a=20,onFold:d,onOverflow:c}={}){if(!o||o<0)return e;const y=Math.max(1+a,1+o-t.length);if(e.length<=y)return e;const _=[],C={};let k=o-t.length;typeof r=="number"&&(r>o-Math.max(2,a)?_.push(0):k=o-r);let P,D,N=!1,M=-1,$=-1,A=-1;n===O2&&(M=hA(e,M),M!==-1&&(k=M+y));for(let z;z=e[M+=1];){if(n===r0&&z==="\\"){switch($=M,e[M+1]){case"x":M+=3;break;case"u":M+=5;break;case"U":M+=9;break;default:M+=1}A=M}if(z===`
`)n===O2&&(M=hA(e,M)),k=M+y,P=void 0;else{if(z===" "&&D&&D!==" "&&D!==`
`&&D!=="	"){const q=e[M+1];q&&q!==" "&&q!==`
`&&q!=="	"&&(P=M)}if(M>=k)if(P)_.push(P),k=P+y,P=void 0;else if(n===r0){for(;D===" "||D==="	";)D=z,z=e[M+=1],N=!0;const q=M>A+1?M-2:$-1;if(C[q])return e;_.push(q),C[q]=!0,k=q+y,P=void 0}else N=!0}D=z}if(N&&c&&c(),_.length===0)return e;d&&d();let O=e.slice(0,_[0]);for(let z=0;z<_.length;++z){const q=_[z],Y=_[z+1]||e.length;q===0?O=`
${t}${e.slice(0,Y)}`:(n===r0&&C[q]&&(O+=`${e[q]}\\`),O+=`
${t}${e.slice(q+1,Y)}`)}return O}function hA(e,t){let n=e[t+1];for(;n===" "||n==="	";){do n=e[t+=1];while(n&&n!==`
`);n=e[t+1]}return t}const Hx=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),Yx=e=>/^(%|---|\.\.\.)/m.test(e);function yne(e,t,n){if(!t||t<0)return!1;const r=t-n,o=e.length;if(o<=r)return!1;for(let a=0,d=0;a<o;++a)if(e[a]===`
`){if(a-d>r)return!0;if(d=a+1,o-d<=r)return!1}return!0}function qm(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,o=t.options.doubleQuotedMinMultiLineLength,a=t.indent||(Yx(e)?"  ":"");let d="",c=0;for(let y=0,_=n[y];_;_=n[++y])if(_===" "&&n[y+1]==="\\"&&n[y+2]==="n"&&(d+=n.slice(c,y)+"\\ ",y+=1,c=y,_="\\"),_==="\\")switch(n[y+1]){case"u":{d+=n.slice(c,y);const C=n.substr(y+2,4);switch(C){case"0000":d+="\\0";break;case"0007":d+="\\a";break;case"000b":d+="\\v";break;case"001b":d+="\\e";break;case"0085":d+="\\N";break;case"00a0":d+="\\_";break;case"2028":d+="\\L";break;case"2029":d+="\\P";break;default:C.substr(0,2)==="00"?d+="\\x"+C.substr(2):d+=n.substr(y,6)}y+=5,c=y+1}break;case"n":if(r||n[y+2]==='"'||n.length<o)y+=1;else{for(d+=n.slice(c,y)+`

`;n[y+2]==="\\"&&n[y+3]==="n"&&n[y+4]!=='"';)d+=`
`,y+=2;d+=a,n[y+2]===" "&&(d+="\\"),y+=1,c=y+1}break;default:y+=1}return d=c?d+n.slice(c):n,r?d:Gx(d,a,r0,Hx(t,!1))}function D2(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return qm(e,t);const n=t.indent||(Yx(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:Gx(r,n,K$,Hx(t,!1))}function Wh(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=qm;else{const o=e.includes('"'),a=e.includes("'");o&&!a?r=D2:a&&!o?r=qm:r=n?D2:qm}return r(e,t)}let z2;try{z2=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{z2=/\n+(?!\n|$)/g}function i0({comment:e,type:t,value:n},r,o,a){const{blockQuote:d,commentString:c,lineWidth:y}=r.options;if(!d||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Wh(n,r);const _=r.indent||(r.forceBlockIndent||Yx(n)?"  ":""),C=d==="literal"?!0:d==="folded"||t===fn.BLOCK_FOLDED?!1:t===fn.BLOCK_LITERAL?!0:!yne(n,y,_.length);if(!n)return C?`|
`:`>
`;let k,P;for(P=n.length;P>0;--P){const J=n[P-1];if(J!==`
`&&J!=="	"&&J!==" ")break}let D=n.substring(P);const N=D.indexOf(`
`);N===-1?k="-":n===D||N!==D.length-1?(k="+",a&&a()):k="",D&&(n=n.slice(0,-D.length),D[D.length-1]===`
`&&(D=D.slice(0,-1)),D=D.replace(z2,`$&${_}`));let M=!1,$,A=-1;for($=0;$<n.length;++$){const J=n[$];if(J===" ")M=!0;else if(J===`
`)A=$;else break}let O=n.substring(0,A<$?A+1:$);O&&(n=n.substring(O.length),O=O.replace(/\n+/g,`$&${_}`));let q=(C?"|":">")+(M?_?"2":"1":"")+k;if(e&&(q+=" "+c(e.replace(/ ?[\r\n]+/g," ")),o&&o()),C)return n=n.replace(/\n+/g,`$&${_}`),`${q}
${_}${O}${n}${D}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${_}`);const Y=Gx(`${O}${n}${D}`,_,O2,Hx(r,!0));return`${q}
${_}${Y}`}function vne(e,t,n,r){const{type:o,value:a}=e,{actualString:d,implicitKey:c,indent:y,indentStep:_,inFlow:C}=t;if(c&&/[\n[\]{},]/.test(a)||C&&/[[\]{},]/.test(a))return Wh(a,t);if(!a||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(a))return c||C||!a.includes(`
`)?Wh(a,t):i0(e,t,n,r);if(!c&&!C&&o!==fn.PLAIN&&a.includes(`
`))return i0(e,t,n,r);if(Yx(a)){if(y==="")return t.forceBlockIndent=!0,i0(e,t,n,r);if(c&&y===_)return Wh(a,t)}const k=a.replace(/\n+/g,`$&
${y}`);if(d){const P=M=>{var $;return M.default&&M.tag!=="tag:yaml.org,2002:str"&&(($=M.test)==null?void 0:$.test(k))},{compat:D,tags:N}=t.doc.schema;if(N.some(P)||D!=null&&D.some(P))return Wh(a,t)}return c?k:Gx(k,y,K$,Hx(t,!1))}function Hg(e,t,n,r){const{implicitKey:o,inFlow:a}=t,d=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:c}=e;c!==fn.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(d.value)&&(c=fn.QUOTE_DOUBLE);const y=C=>{switch(C){case fn.BLOCK_FOLDED:case fn.BLOCK_LITERAL:return o||a?Wh(d.value,t):i0(d,t,n,r);case fn.QUOTE_DOUBLE:return qm(d.value,t);case fn.QUOTE_SINGLE:return D2(d.value,t);case fn.PLAIN:return vne(d,t,n,r);default:return null}};let _=y(c);if(_===null){const{defaultKeyType:C,defaultStringType:k}=t.options,P=o&&C||k;if(_=y(P),_===null)throw new Error(`Unsupported default string type ${P}`)}return _}function X$(e,t){const n=Object.assign({blockQuote:!0,commentString:gne,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function _ne(e,t){var o;if(t.tag){const a=e.filter(d=>d.tag===t.tag);if(a.length>0)return a.find(d=>d.format===t.format)??a[0]}let n,r;if(dr(t)){r=t.value;const a=e.filter(d=>{var c;return(c=d.identify)==null?void 0:c.call(d,r)});n=a.find(d=>d.format===t.format)??a.find(d=>!d.format)}else r=t,n=e.find(a=>a.nodeClass&&r instanceof a.nodeClass);if(!n){const a=((o=r==null?void 0:r.constructor)==null?void 0:o.name)??typeof r;throw new Error(`Tag not resolved for ${a} value`)}return n}function xne(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const o=[],a=(dr(e)||Br(e))&&e.anchor;a&&G$(a)&&(n.add(a),o.push(`&${a}`));const d=e.tag?e.tag:t.default?null:t.tag;return d&&o.push(r.directives.tagString(d)),o.join(" ")}function Mf(e,t,n,r){var y;if(Mr(e))return e.toString(t,n,r);if(gd(e)){if(t.doc.directives)return e.toString(t);if((y=t.resolvedAliases)!=null&&y.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let o;const a=ii(e)?e:t.doc.createNode(e,{onTagObj:_=>o=_});o||(o=_ne(t.doc.schema.tags,a));const d=xne(a,o,t);d.length>0&&(t.indentAtStart=(t.indentAtStart??0)+d.length+1);const c=typeof o.stringify=="function"?o.stringify(a,t,n,r):dr(a)?Hg(a,t,n,r):a.toString(t,n,r);return d?dr(a)||c[0]==="{"||c[0]==="["?`${d} ${c}`:`${d}
${t.indent}${c}`:c}function bne({key:e,value:t},n,r,o){const{allNullValues:a,doc:d,indent:c,indentStep:y,options:{commentString:_,indentSeq:C,simpleKeys:k}}=n;let P=ii(e)&&e.comment||null;if(k){if(P)throw new Error("With simple keys, key nodes cannot have comments");if(Br(e)){const te="With simple keys, collection cannot be used as a key value";throw new Error(te)}}let D=!k&&(!e||P&&t==null&&!n.inFlow||Br(e)||(dr(e)?e.type===fn.BLOCK_FOLDED||e.type===fn.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!D&&(k||!a),indent:c+y});let N=!1,M=!1,$=Mf(e,n,()=>N=!0,()=>M=!0);if(!D&&!n.inFlow&&$.length>1024){if(k)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");D=!0}if(n.inFlow){if(a||t==null)return N&&r&&r(),$===""?"?":D?`? ${$}`:$}else if(a&&!k||t==null&&D)return $=`? ${$}`,P&&!N?$+=Ec($,n.indent,_(P)):M&&o&&o(),$;N&&(P=null),D?(P&&($+=Ec($,n.indent,_(P))),$=`? ${$}
${c}:`):($=`${$}:`,P&&($+=Ec($,n.indent,_(P))));let A,O,z;ii(t)?(A=!!t.spaceBefore,O=t.commentBefore,z=t.comment):(A=!1,O=null,z=null,t&&typeof t=="object"&&(t=d.createNode(t))),n.implicitKey=!1,!D&&!P&&dr(t)&&(n.indentAtStart=$.length+1),M=!1,!C&&y.length>=2&&!n.inFlow&&!D&&Vf(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let q=!1;const Y=Mf(t,n,()=>q=!0,()=>M=!0);let J=" ";if(P||A||O){if(J=A?`
`:"",O){const te=_(O);J+=`
${Tl(te,n.indent)}`}Y===""&&!n.inFlow?J===`
`&&(J=`

`):J+=`
${n.indent}`}else if(!D&&Br(t)){const te=Y[0],ge=Y.indexOf(`
`),Pe=ge!==-1,ye=n.inFlow??t.flow??t.items.length===0;if(Pe||!ye){let Ne=!1;if(Pe&&(te==="&"||te==="!")){let Ve=Y.indexOf(" ");te==="&"&&Ve!==-1&&Ve<ge&&Y[Ve+1]==="!"&&(Ve=Y.indexOf(" ",Ve+1)),(Ve===-1||ge<Ve)&&(Ne=!0)}Ne||(J=`
${n.indent}`)}}else(Y===""||Y[0]===`
`)&&(J="");return $+=J+Y,n.inFlow?q&&r&&r():z&&!q?$+=Ec($,n.indent,_(z)):M&&o&&o(),$}function J$(e,t){(e==="debug"||e==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(t):console.warn(t))}const fA="<<";function Q$(e,t,{key:n,value:r}){if(e!=null&&e.doc.schema.merge&&wne(n))if(r=gd(r)?r.resolve(e.doc):r,Vf(r))for(const o of r.items)Ow(e,t,o);else if(Array.isArray(r))for(const o of r)Ow(e,t,o);else Ow(e,t,r);else{const o=Ps(n,"",e);if(t instanceof Map)t.set(o,Ps(r,o,e));else if(t instanceof Set)t.add(o);else{const a=Sne(n,o,e),d=Ps(r,a,e);a in t?Object.defineProperty(t,a,{value:d,writable:!0,enumerable:!0,configurable:!0}):t[a]=d}}return t}const wne=e=>e===fA||dr(e)&&e.value===fA&&(!e.type||e.type===fn.PLAIN);function Ow(e,t,n){const r=e&&gd(n)?n.resolve(e.doc):n;if(!Uf(r))throw new Error("Merge sources must be maps or map aliases");const o=r.toJSON(null,e,Map);for(const[a,d]of o)t instanceof Map?t.has(a)||t.set(a,d):t instanceof Set?t.add(a):Object.prototype.hasOwnProperty.call(t,a)||Object.defineProperty(t,a,{value:d,writable:!0,enumerable:!0,configurable:!0});return t}function Sne(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(ii(e)&&n&&n.doc){const r=X$(n.doc,{});r.anchors=new Set;for(const a of n.anchors.keys())r.anchors.add(a.anchor);r.inFlow=!0,r.inStringifyKey=!0;const o=e.toString(r);if(!n.mapKeyWarned){let a=JSON.stringify(o);a.length>40&&(a=a.substring(0,36)+'..."'),J$(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${a}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return o}return JSON.stringify(t)}function ek(e,t,n){const r=Cg(e,void 0,n),o=Cg(t,void 0,n);return new Qi(r,o)}class Qi{constructor(t,n=null){Object.defineProperty(this,Ds,{value:j$}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return ii(n)&&(n=n.clone(t)),ii(r)&&(r=r.clone(t)),new Qi(n,r)}toJSON(t,n){const r=n!=null&&n.mapAsMap?new Map:{};return Q$(n,r,this)}toString(t,n,r){return t!=null&&t.doc?bne(this,t,n,r):JSON.stringify(this)}}function e5(e,t,n){return(t.inFlow??e.flow?Tne:Cne)(e,t,n)}function Cne({comment:e,items:t},n,{blockItemPrefix:r,flowChars:o,itemIndent:a,onChompKeep:d,onComment:c}){const{indent:y,options:{commentString:_}}=n,C=Object.assign({},n,{indent:a,type:null});let k=!1;const P=[];for(let N=0;N<t.length;++N){const M=t[N];let $=null;if(ii(M))!k&&M.spaceBefore&&P.push(""),o_(n,P,M.commentBefore,k),M.comment&&($=M.comment);else if(Mr(M)){const O=ii(M.key)?M.key:null;O&&(!k&&O.spaceBefore&&P.push(""),o_(n,P,O.commentBefore,k))}k=!1;let A=Mf(M,C,()=>$=null,()=>k=!0);$&&(A+=Ec(A,a,_($))),k&&$&&(k=!1),P.push(r+A)}let D;if(P.length===0)D=o.start+o.end;else{D=P[0];for(let N=1;N<P.length;++N){const M=P[N];D+=M?`
${y}${M}`:`
`}}return e?(D+=`
`+Tl(_(e),y),c&&c()):k&&d&&d(),D}function Tne({comment:e,items:t},n,{flowChars:r,itemIndent:o,onComment:a}){const{indent:d,indentStep:c,flowCollectionPadding:y,options:{commentString:_}}=n;o+=c;const C=Object.assign({},n,{indent:o,inFlow:!0,type:null});let k=!1,P=0;const D=[];for(let A=0;A<t.length;++A){const O=t[A];let z=null;if(ii(O))O.spaceBefore&&D.push(""),o_(n,D,O.commentBefore,!1),O.comment&&(z=O.comment);else if(Mr(O)){const Y=ii(O.key)?O.key:null;Y&&(Y.spaceBefore&&D.push(""),o_(n,D,Y.commentBefore,!1),Y.comment&&(k=!0));const J=ii(O.value)?O.value:null;J?(J.comment&&(z=J.comment),J.commentBefore&&(k=!0)):O.value==null&&Y&&Y.comment&&(z=Y.comment)}z&&(k=!0);let q=Mf(O,C,()=>z=null);A<t.length-1&&(q+=","),z&&(q+=Ec(q,o,_(z))),!k&&(D.length>P||q.includes(`
`))&&(k=!0),D.push(q),P=D.length}let N;const{start:M,end:$}=r;if(D.length===0)N=M+$;else if(k||(k=D.reduce((O,z)=>O+z.length+2,2)>qx.maxFlowStringSingleLineLength),k){N=M;for(const A of D)N+=A?`
${c}${d}${A}`:`
`;N+=`
${d}${$}`}else N=`${M}${y}${D.join(" ")}${y}${$}`;return e&&(N+=Ec(N,d,_(e)),a&&a()),N}function o_({indent:e,options:{commentString:t}},n,r,o){if(r&&o&&(r=r.replace(/^\n+/,"")),r){const a=Tl(t(r),e);n.push(a.trimStart())}}function Wu(e,t){const n=dr(t)?t.value:t;for(const r of e)if(Mr(r)&&(r.key===t||r.key===n||dr(r.key)&&r.key.value===n))return r}class ts extends qx{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(Vc,t),this.items=[]}static from(t,n,r){const{keepUndefined:o,replacer:a}=r,d=new this(t),c=(y,_)=>{if(typeof a=="function")_=a.call(n,y,_);else if(Array.isArray(a)&&!a.includes(y))return;(_!==void 0||o)&&d.items.push(ek(y,_,r))};if(n instanceof Map)for(const[y,_]of n)c(y,_);else if(n&&typeof n=="object")for(const y of Object.keys(n))c(y,n[y]);return typeof t.sortMapEntries=="function"&&d.items.sort(t.sortMapEntries),d}add(t,n){var d;let r;Mr(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new Qi(t,t==null?void 0:t.value):r=new Qi(t.key,t.value);const o=Wu(this.items,r.key),a=(d=this.schema)==null?void 0:d.sortMapEntries;if(o){if(!n)throw new Error(`Key ${r.key} already set`);dr(o.value)&&Z$(r.value)?o.value.value=r.value:o.value=r.value}else if(a){const c=this.items.findIndex(y=>a(r,y)<0);c===-1?this.items.push(r):this.items.splice(c,0,r)}else this.items.push(r)}delete(t){const n=Wu(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){const r=Wu(this.items,t),o=r==null?void 0:r.value;return(!n&&dr(o)?o.value:o)??void 0}has(t){return!!Wu(this.items,t)}set(t,n){this.add(new Qi(t,n),!0)}toJSON(t,n,r){const o=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(o);for(const a of this.items)Q$(n,o,a);return o}toString(t,n,r){if(!t)return JSON.stringify(this);for(const o of this.items)if(!Mr(o))throw new Error(`Map items must all be pairs; found ${JSON.stringify(o)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),e5(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}const Wf={collection:"map",default:!0,nodeClass:ts,tag:"tag:yaml.org,2002:map",resolve(e,t){return Uf(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,n)=>ts.from(e,t,n)};class Jc extends qx{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(Bf,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=Rv(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=Rv(t);if(typeof r!="number")return;const o=this.items[r];return!n&&dr(o)?o.value:o}has(t){const n=Rv(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=Rv(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const o=this.items[r];dr(o)&&Z$(n)?o.value=n:this.items[r]=n}toJSON(t,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let o=0;for(const a of this.items)r.push(Ps(a,String(o++),n));return r}toString(t,n,r){return t?e5(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(t,n,r){const{replacer:o}=r,a=new this(t);if(n&&Symbol.iterator in Object(n)){let d=0;for(let c of n){if(typeof o=="function"){const y=n instanceof Set?c:String(d++);c=o.call(n,y,c)}a.items.push(Cg(c,void 0,r))}}return a}}function Rv(e){let t=dr(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const qf={collection:"seq",default:!0,nodeClass:Jc,tag:"tag:yaml.org,2002:seq",resolve(e,t){return Vf(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,n)=>Jc.from(e,t,n)},Zx={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),Hg(e,t,n,r)}},Kx={identify:e=>e==null,createNode:()=>new fn(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new fn(null),stringify:({source:e},t)=>typeof e=="string"&&Kx.test.test(e)?e:t.options.nullStr},tk={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new fn(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&tk.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function ma({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const o=typeof r=="number"?r:Number(r);if(!isFinite(o))return isNaN(o)?".nan":o<0?"-.inf":".inf";let a=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(a)){let d=a.indexOf(".");d<0&&(d=a.length,a+=".");let c=t-(a.length-d-1);for(;c-- >0;)a+="0"}return a}const t5={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:ma},n5={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():ma(e)}},r5={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new fn(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:ma},Xx=e=>typeof e=="bigint"||Number.isInteger(e),nk=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function i5(e,t,n){const{value:r}=e;return Xx(r)&&r>=0?n+r.toString(t):ma(e)}const o5={identify:e=>Xx(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>nk(e,2,8,n),stringify:e=>i5(e,8,"0o")},s5={identify:Xx,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>nk(e,0,10,n),stringify:ma},a5={identify:e=>Xx(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>nk(e,2,16,n),stringify:e=>i5(e,16,"0x")},kne=[Wf,qf,Zx,Kx,tk,o5,s5,a5,t5,n5,r5];function pA(e){return typeof e=="bigint"||Number.isInteger(e)}const Av=({value:e})=>JSON.stringify(e),Ene=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Av},{identify:e=>e==null,createNode:()=>new fn(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Av},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:Av},{identify:pA,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>pA(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Av}],Pne={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},Ine=[Wf,qf].concat(Ene,Pne),rk={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Buffer=="function")return Buffer.from(e,"base64");if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,o,a){const d=n;let c;if(typeof Buffer=="function")c=d instanceof Buffer?d.toString("base64"):Buffer.from(d.buffer).toString("base64");else if(typeof btoa=="function"){let y="";for(let _=0;_<d.length;++_)y+=String.fromCharCode(d[_]);c=btoa(y)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=fn.BLOCK_LITERAL),t!==fn.QUOTE_DOUBLE){const y=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),_=Math.ceil(c.length/y),C=new Array(_);for(let k=0,P=0;k<_;++k,P+=y)C[k]=c.substr(P,y);c=C.join(t===fn.BLOCK_LITERAL?`
`:" ")}return Hg({comment:e,type:t,value:c},r,o,a)}};function l5(e,t){if(Vf(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!Mr(r)){if(Uf(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const o=r.items[0]||new Qi(new fn(null));if(r.commentBefore&&(o.key.commentBefore=o.key.commentBefore?`${r.commentBefore}
${o.key.commentBefore}`:r.commentBefore),r.comment){const a=o.value??o.key;a.comment=a.comment?`${r.comment}
${a.comment}`:r.comment}r=o}e.items[n]=Mr(r)?r:new Qi(r)}}else t("Expected a sequence for this tag");return e}function c5(e,t,n){const{replacer:r}=n,o=new Jc(e);o.tag="tag:yaml.org,2002:pairs";let a=0;if(t&&Symbol.iterator in Object(t))for(let d of t){typeof r=="function"&&(d=r.call(t,String(a++),d));let c,y;if(Array.isArray(d))if(d.length===2)c=d[0],y=d[1];else throw new TypeError(`Expected [key, value] tuple: ${d}`);else if(d&&d instanceof Object){const _=Object.keys(d);if(_.length===1)c=_[0],y=d[c];else throw new TypeError(`Expected { key: value } tuple: ${d}`)}else c=d;o.items.push(ek(c,y,n))}return o}const ik={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:l5,createNode:c5};class sf extends Jc{constructor(){super(),this.add=ts.prototype.add.bind(this),this.delete=ts.prototype.delete.bind(this),this.get=ts.prototype.get.bind(this),this.has=ts.prototype.has.bind(this),this.set=ts.prototype.set.bind(this),this.tag=sf.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const o of this.items){let a,d;if(Mr(o)?(a=Ps(o.key,"",n),d=Ps(o.value,a,n)):a=Ps(o,"",n),r.has(a))throw new Error("Ordered maps must not include duplicate keys");r.set(a,d)}return r}static from(t,n,r){const o=c5(t,n,r),a=new this;return a.items=o.items,a}}sf.tag="tag:yaml.org,2002:omap";const ok={collection:"seq",identify:e=>e instanceof Map,nodeClass:sf,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=l5(e,t),r=[];for(const{key:o}of n.items)dr(o)&&(r.includes(o.value)?t(`Ordered maps must not include duplicate keys: ${o.value}`):r.push(o.value));return Object.assign(new sf,n)},createNode:(e,t,n)=>sf.from(e,t,n)};function u5({value:e,source:t},n){return t&&(e?d5:h5).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const d5={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new fn(!0),stringify:u5},h5={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new fn(!1),stringify:u5},Mne={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:ma},Rne={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():ma(e)}},Ane={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new fn(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:ma},Yg=e=>typeof e=="bigint"||Number.isInteger(e);function Jx(e,t,n,{intAsBigInt:r}){const o=e[0];if((o==="-"||o==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const d=BigInt(e);return o==="-"?BigInt(-1)*d:d}const a=parseInt(e,n);return o==="-"?-1*a:a}function sk(e,t,n){const{value:r}=e;if(Yg(r)){const o=r.toString(t);return r<0?"-"+n+o.substr(1):n+o}return ma(e)}const One={identify:Yg,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>Jx(e,2,2,n),stringify:e=>sk(e,2,"0b")},Dne={identify:Yg,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>Jx(e,1,8,n),stringify:e=>sk(e,8,"0")},zne={identify:Yg,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>Jx(e,0,10,n),stringify:ma},Lne={identify:Yg,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>Jx(e,2,16,n),stringify:e=>sk(e,16,"0x")};class af extends ts{constructor(t){super(t),this.tag=af.tag}add(t){let n;Mr(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new Qi(t.key,null):n=new Qi(t,null),Wu(this.items,n.key)||this.items.push(n)}get(t,n){const r=Wu(this.items,t);return!n&&Mr(r)?dr(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=Wu(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Qi(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(t,n,r){const{replacer:o}=r,a=new this(t);if(n&&Symbol.iterator in Object(n))for(let d of n)typeof o=="function"&&(d=o.call(n,d,d)),a.items.push(ek(d,null,r));return a}}af.tag="tag:yaml.org,2002:set";const ak={collection:"map",identify:e=>e instanceof Set,nodeClass:af,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>af.from(e,t,n),resolve(e,t){if(Uf(e)){if(e.hasAllNullValues(!0))return Object.assign(new af,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function lk(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,o=d=>t?BigInt(d):Number(d),a=r.replace(/_/g,"").split(":").reduce((d,c)=>d*o(60)+o(c),o(0));return n==="-"?o(-1)*a:a}function f5(e){let{value:t}=e,n=d=>d;if(typeof t=="bigint")n=d=>BigInt(d);else if(isNaN(t)||!isFinite(t))return ma(e);let r="";t<0&&(r="-",t*=n(-1));const o=n(60),a=[t%o];return t<60?a.unshift(0):(t=(t-a[0])/o,a.unshift(t%o),t>=60&&(t=(t-a[0])/o,a.unshift(t))),r+a.map(d=>String(d).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const p5={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>lk(e,n),stringify:f5},m5={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>lk(e,!1),stringify:f5},Qx={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(Qx.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,o,a,d,c]=t.map(Number),y=t[7]?Number((t[7]+"00").substr(1,3)):0;let _=Date.UTC(n,r-1,o,a||0,d||0,c||0,y);const C=t[8];if(C&&C!=="Z"){let k=lk(C,!1);Math.abs(k)<30&&(k*=60),_-=6e4*k}return new Date(_)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},mA=[Wf,qf,Zx,Kx,d5,h5,One,Dne,zne,Lne,Mne,Rne,Ane,rk,ok,ik,ak,p5,m5,Qx],gA=new Map([["core",kne],["failsafe",[Wf,qf,Zx]],["json",Ine],["yaml11",mA],["yaml-1.1",mA]]),yA={binary:rk,bool:tk,float:r5,floatExp:n5,floatNaN:t5,floatTime:m5,int:s5,intHex:a5,intOct:o5,intTime:p5,map:Wf,null:Kx,omap:ok,pairs:ik,seq:qf,set:ak,timestamp:Qx},$ne={"tag:yaml.org,2002:binary":rk,"tag:yaml.org,2002:omap":ok,"tag:yaml.org,2002:pairs":ik,"tag:yaml.org,2002:set":ak,"tag:yaml.org,2002:timestamp":Qx};function Dw(e,t){let n=gA.get(t);if(!n)if(Array.isArray(e))n=[];else{const r=Array.from(gA.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${r} or define customTags array`)}if(Array.isArray(e))for(const r of e)n=n.concat(r);else typeof e=="function"&&(n=e(n.slice()));return n.map(r=>{if(typeof r!="string")return r;const o=yA[r];if(o)return o;const a=Object.keys(yA).map(d=>JSON.stringify(d)).join(", ");throw new Error(`Unknown custom tag "${r}"; use one of ${a}`)})}const Nne=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class e1{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:o,schema:a,sortMapEntries:d,toStringDefaults:c}){this.compat=Array.isArray(t)?Dw(t,"compat"):t?Dw(null,t):null,this.merge=!!r,this.name=typeof a=="string"&&a||"core",this.knownTags=o?$ne:{},this.tags=Dw(n,this.name),this.toStringOptions=c??null,Object.defineProperty(this,Vc,{value:Wf}),Object.defineProperty(this,Nl,{value:Zx}),Object.defineProperty(this,Bf,{value:qf}),this.sortMapEntries=typeof d=="function"?d:d===!0?Nne:null}clone(){const t=Object.create(e1.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function Fne(e,t){var y;const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const _=e.directives.toString(e);_?(n.push(_),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const o=X$(e,t),{commentString:a}=o.options;if(e.commentBefore){n.length!==1&&n.unshift("");const _=a(e.commentBefore);n.unshift(Tl(_,""))}let d=!1,c=null;if(e.contents){if(ii(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const k=a(e.contents.commentBefore);n.push(Tl(k,""))}o.forceBlockIndent=!!e.comment,c=e.contents.comment}const _=c?void 0:()=>d=!0;let C=Mf(e.contents,o,()=>c=null,_);c&&(C+=Ec(C,"",a(c))),(C[0]==="|"||C[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${C}`:n.push(C)}else n.push(Mf(e.contents,o));if((y=e.directives)!=null&&y.docEnd)if(e.comment){const _=a(e.comment);_.includes(`
`)?(n.push("..."),n.push(Tl(_,""))):n.push(`... ${_}`)}else n.push("...");else{let _=e.comment;_&&d&&(_=_.replace(/^\n+/,"")),_&&((!d||c)&&n[n.length-1]!==""&&n.push(""),n.push(Tl(a(_),"")))}return n.join(`
`)+`
`}class Gf{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Ds,{value:A2});let o=null;typeof n=="function"||Array.isArray(n)?o=n:r===void 0&&n&&(r=n,n=void 0);const a=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},r);this.options=a;let{version:d}=a;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(d=this.directives.yaml.version)):this.directives=new vo({version:d}),this.setSchema(d,r),this.contents=t===void 0?null:this.createNode(t,o,r)}clone(){const t=Object.create(Gf.prototype,{[Ds]:{value:A2}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=ii(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){vh(this.contents)&&this.contents.add(t)}addIn(t,n){vh(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=H$(this);t.anchor=!n||r.has(n)?Y$(n||"a",r):n}return new Wx(t.anchor)}createNode(t,n,r){let o;if(typeof n=="function")t=n.call({"":t},"",t),o=n;else if(Array.isArray(n)){const $=O=>typeof O=="number"||O instanceof String||O instanceof Number,A=n.filter($).map(String);A.length>0&&(n=n.concat(A)),o=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:a,anchorPrefix:d,flow:c,keepUndefined:y,onTagObj:_,tag:C}=r??{},{onAnchor:k,setAnchors:P,sourceObjects:D}=fne(this,d||"a"),N={aliasDuplicateObjects:a??!0,keepUndefined:y??!1,onAnchor:k,onTagObj:_,replacer:o,schema:this.schema,sourceObjects:D},M=Cg(t,C,N);return c&&Br(M)&&(M.flow=!0),P(),M}createPair(t,n,r={}){const o=this.createNode(t,null,r),a=this.createNode(n,null,r);return new Qi(o,a)}delete(t){return vh(this.contents)?this.contents.delete(t):!1}deleteIn(t){return Em(t)?this.contents==null?!1:(this.contents=null,!0):vh(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return Br(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return Em(t)?!n&&dr(this.contents)?this.contents.value:this.contents:Br(this.contents)?this.contents.getIn(t,n):void 0}has(t){return Br(this.contents)?this.contents.has(t):!1}hasIn(t){return Em(t)?this.contents!==void 0:Br(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=i_(this.schema,[t],n):vh(this.contents)&&this.contents.set(t,n)}setIn(t,n){Em(t)?this.contents=n:this.contents==null?this.contents=i_(this.schema,Array.from(t),n):vh(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new vo({version:"1.1"}),r={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new vo({version:t}),r={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const o=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${o}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new e1(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:o,onAnchor:a,reviver:d}={}){const c={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof o=="number"?o:100},y=Ps(this.contents,n??"",c);if(typeof a=="function")for(const{count:_,res:C}of c.anchors.values())a(C,_);return typeof d=="function"?Vh(d,{"":y},"",y):y}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return Fne(this,t)}}function vh(e){if(Br(e))return!0;throw new Error("Expected a YAML collection as document contents")}class ck extends Error{constructor(t,n,r,o){super(),this.name=t,this.code=r,this.message=o,this.pos=n}}class qu extends ck{constructor(t,n,r){super("YAMLParseError",t,n,r)}}class g5 extends ck{constructor(t,n,r){super("YAMLWarning",t,n,r)}}const s_=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(c=>t.linePos(c));const{line:r,col:o}=n.linePos[0];n.message+=` at line ${r}, column ${o}`;let a=o-1,d=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(a>=60&&d.length>80){const c=Math.min(a-39,d.length-79);d=""+d.substring(c),a-=c-1}if(d.length>80&&(d=d.substring(0,79)+""),r>1&&/^ *$/.test(d.substring(0,a))){let c=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);c.length>80&&(c=c.substring(0,79)+`
`),d=c+d}if(/[^ ]/.test(d)){let c=1;const y=n.linePos[1];y&&y.line===r&&y.col>o&&(c=Math.max(1,Math.min(y.col-o,80-a)));const _=" ".repeat(a)+"^".repeat(c);n.message+=`:

${d}
${_}
`}};function Rf(e,{flow:t,indicator:n,next:r,offset:o,onError:a,startOnNewline:d}){let c=!1,y=d,_=d,C="",k="",P=!1,D=!1,N=!1,M=null,$=null,A=null,O=null,z=null;for(const J of e)switch(N&&(J.type!=="space"&&J.type!=="newline"&&J.type!=="comma"&&a(J.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),N=!1),J.type){case"space":!t&&y&&n!=="doc-start"&&J.source[0]==="	"&&a(J,"TAB_AS_INDENT","Tabs are not allowed as indentation"),_=!0;break;case"comment":{_||a(J,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const te=J.source.substring(1)||" ";C?C+=k+te:C=te,k="",y=!1;break}case"newline":y?C?C+=J.source:c=!0:k+=J.source,y=!0,P=!0,(M||$)&&(D=!0),_=!0;break;case"anchor":M&&a(J,"MULTIPLE_ANCHORS","A node can have at most one anchor"),J.source.endsWith(":")&&a(J.offset+J.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),M=J,z===null&&(z=J.offset),y=!1,_=!1,N=!0;break;case"tag":{$&&a(J,"MULTIPLE_TAGS","A node can have at most one tag"),$=J,z===null&&(z=J.offset),y=!1,_=!1,N=!0;break}case n:(M||$)&&a(J,"BAD_PROP_ORDER",`Anchors and tags must be after the ${J.source} indicator`),O&&a(J,"UNEXPECTED_TOKEN",`Unexpected ${J.source} in ${t??"collection"}`),O=J,y=!1,_=!1;break;case"comma":if(t){A&&a(J,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),A=J,y=!1,_=!1;break}default:a(J,"UNEXPECTED_TOKEN",`Unexpected ${J.type} token`),y=!1,_=!1}const q=e[e.length-1],Y=q?q.offset+q.source.length:o;return N&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&a(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:A,found:O,spaceBefore:c,comment:C,hasNewline:P,hasNewlineAfterProp:D,anchor:M,tag:$,end:Y,start:z??Y}}function Tg(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const n of t.start)if(n.type==="newline")return!0;if(t.sep){for(const n of t.sep)if(n.type==="newline")return!0}if(Tg(t.key)||Tg(t.value))return!0}return!1;default:return!0}}function L2(e,t,n){if((t==null?void 0:t.type)==="flow-collection"){const r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&Tg(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function y5(e,t,n){const{uniqueKeys:r}=e.options;if(r===!1)return!1;const o=typeof r=="function"?r:(a,d)=>a===d||dr(a)&&dr(d)&&a.value===d.value&&!(a.value==="<<"&&e.schema.merge);return t.some(a=>o(a.key,n))}const vA="All mapping items must start at the same column";function Bne({composeNode:e,composeEmptyNode:t},n,r,o,a){var C;const d=(a==null?void 0:a.nodeClass)??ts,c=new d(n.schema);n.atRoot&&(n.atRoot=!1);let y=r.offset,_=null;for(const k of r.items){const{start:P,key:D,sep:N,value:M}=k,$=Rf(P,{indicator:"explicit-key-ind",next:D??(N==null?void 0:N[0]),offset:y,onError:o,startOnNewline:!0}),A=!$.found;if(A){if(D&&(D.type==="block-seq"?o(y,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in D&&D.indent!==r.indent&&o(y,"BAD_INDENT",vA)),!$.anchor&&!$.tag&&!N){_=$.end,$.comment&&(c.comment?c.comment+=`
`+$.comment:c.comment=$.comment);continue}($.hasNewlineAfterProp||Tg(D))&&o(D??P[P.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((C=$.found)==null?void 0:C.indent)!==r.indent&&o(y,"BAD_INDENT",vA);const O=$.end,z=D?e(n,D,$,o):t(n,O,P,null,$,o);n.schema.compat&&L2(r.indent,D,o),y5(n,c.items,z)&&o(O,"DUPLICATE_KEY","Map keys must be unique");const q=Rf(N??[],{indicator:"map-value-ind",next:M,offset:z.range[2],onError:o,startOnNewline:!D||D.type==="block-scalar"});if(y=q.end,q.found){A&&((M==null?void 0:M.type)==="block-map"&&!q.hasNewline&&o(y,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&$.start<q.found.offset-1024&&o(z.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const Y=M?e(n,M,q,o):t(n,y,N,null,q,o);n.schema.compat&&L2(r.indent,M,o),y=Y.range[2];const J=new Qi(z,Y);n.options.keepSourceTokens&&(J.srcToken=k),c.items.push(J)}else{A&&o(z.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),q.comment&&(z.comment?z.comment+=`
`+q.comment:z.comment=q.comment);const Y=new Qi(z);n.options.keepSourceTokens&&(Y.srcToken=k),c.items.push(Y)}}return _&&_<y&&o(_,"IMPOSSIBLE","Map comment with trailing content"),c.range=[r.offset,y,_??y],c}function jne({composeNode:e,composeEmptyNode:t},n,r,o,a){const d=(a==null?void 0:a.nodeClass)??Jc,c=new d(n.schema);n.atRoot&&(n.atRoot=!1);let y=r.offset,_=null;for(const{start:C,value:k}of r.items){const P=Rf(C,{indicator:"seq-item-ind",next:k,offset:y,onError:o,startOnNewline:!0});if(!P.found)if(P.anchor||P.tag||k)k&&k.type==="block-seq"?o(P.end,"BAD_INDENT","All sequence items must start at the same column"):o(y,"MISSING_CHAR","Sequence item without - indicator");else{_=P.end,P.comment&&(c.comment=P.comment);continue}const D=k?e(n,k,P,o):t(n,P.end,C,null,P,o);n.schema.compat&&L2(r.indent,k,o),y=D.range[2],c.items.push(D)}return c.range=[r.offset,y,_??y],c}function Zg(e,t,n,r){let o="";if(e){let a=!1,d="";for(const c of e){const{source:y,type:_}=c;switch(_){case"space":a=!0;break;case"comment":{n&&!a&&r(c,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const C=y.substring(1)||" ";o?o+=d+C:o=C,d="";break}case"newline":o&&(d+=y),a=!0;break;default:r(c,"UNEXPECTED_TOKEN",`Unexpected ${_} at node end`)}t+=y.length}}return{comment:o,offset:t}}const zw="Block collections are not allowed within flow collections",Lw=e=>e&&(e.type==="block-map"||e.type==="block-seq");function Une({composeNode:e,composeEmptyNode:t},n,r,o,a){const d=r.start.source==="{",c=d?"flow map":"flow sequence",y=(a==null?void 0:a.nodeClass)??(d?ts:Jc),_=new y(n.schema);_.flow=!0;const C=n.atRoot;C&&(n.atRoot=!1);let k=r.offset+r.start.source.length;for(let $=0;$<r.items.length;++$){const A=r.items[$],{start:O,key:z,sep:q,value:Y}=A,J=Rf(O,{flow:c,indicator:"explicit-key-ind",next:z??(q==null?void 0:q[0]),offset:k,onError:o,startOnNewline:!1});if(!J.found){if(!J.anchor&&!J.tag&&!q&&!Y){$===0&&J.comma?o(J.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${c}`):$<r.items.length-1&&o(J.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${c}`),J.comment&&(_.comment?_.comment+=`
`+J.comment:_.comment=J.comment),k=J.end;continue}!d&&n.options.strict&&Tg(z)&&o(z,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if($===0)J.comma&&o(J.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${c}`);else if(J.comma||o(J.start,"MISSING_CHAR",`Missing , between ${c} items`),J.comment){let te="";e:for(const ge of O)switch(ge.type){case"comma":case"space":break;case"comment":te=ge.source.substring(1);break e;default:break e}if(te){let ge=_.items[_.items.length-1];Mr(ge)&&(ge=ge.value??ge.key),ge.comment?ge.comment+=`
`+te:ge.comment=te,J.comment=J.comment.substring(te.length+1)}}if(!d&&!q&&!J.found){const te=Y?e(n,Y,J,o):t(n,J.end,q,null,J,o);_.items.push(te),k=te.range[2],Lw(Y)&&o(te.range,"BLOCK_IN_FLOW",zw)}else{const te=J.end,ge=z?e(n,z,J,o):t(n,te,O,null,J,o);Lw(z)&&o(ge.range,"BLOCK_IN_FLOW",zw);const Pe=Rf(q??[],{flow:c,indicator:"map-value-ind",next:Y,offset:ge.range[2],onError:o,startOnNewline:!1});if(Pe.found){if(!d&&!J.found&&n.options.strict){if(q)for(const Ve of q){if(Ve===Pe.found)break;if(Ve.type==="newline"){o(Ve,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}J.start<Pe.found.offset-1024&&o(Pe.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else Y&&("source"in Y&&Y.source&&Y.source[0]===":"?o(Y,"MISSING_CHAR",`Missing space after : in ${c}`):o(Pe.start,"MISSING_CHAR",`Missing , or : between ${c} items`));const ye=Y?e(n,Y,Pe,o):Pe.found?t(n,Pe.end,q,null,Pe,o):null;ye?Lw(Y)&&o(ye.range,"BLOCK_IN_FLOW",zw):Pe.comment&&(ge.comment?ge.comment+=`
`+Pe.comment:ge.comment=Pe.comment);const Ne=new Qi(ge,ye);if(n.options.keepSourceTokens&&(Ne.srcToken=A),d){const Ve=_;y5(n,Ve.items,ge)&&o(te,"DUPLICATE_KEY","Map keys must be unique"),Ve.items.push(Ne)}else{const Ve=new ts(n.schema);Ve.flow=!0,Ve.items.push(Ne),_.items.push(Ve)}k=ye?ye.range[2]:Pe.end}}const P=d?"}":"]",[D,...N]=r.end;let M=k;if(D&&D.source===P)M=D.offset+D.source.length;else{const $=c[0].toUpperCase()+c.substring(1),A=C?`${$} must end with a ${P}`:`${$} in block collection must be sufficiently indented and end with a ${P}`;o(k,C?"MISSING_CHAR":"BAD_INDENT",A),D&&D.source.length!==1&&N.unshift(D)}if(N.length>0){const $=Zg(N,M,n.options.strict,o);$.comment&&(_.comment?_.comment+=`
`+$.comment:_.comment=$.comment),_.range=[r.offset,M,$.offset]}else _.range=[r.offset,M,M];return _}function $w(e,t,n,r,o,a){const d=n.type==="block-map"?Bne(e,t,n,r,a):n.type==="block-seq"?jne(e,t,n,r,a):Une(e,t,n,r,a),c=d.constructor;return o==="!"||o===c.tagName?(d.tag=c.tagName,d):(o&&(d.tag=o),d)}function Vne(e,t,n,r,o){var k;const a=r?t.directives.tagName(r.source,P=>o(r,"TAG_RESOLVE_FAILED",P)):null,d=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!r||!a||a==="!"||a===ts.tagName&&d==="map"||a===Jc.tagName&&d==="seq"||!d)return $w(e,t,n,o,a);let c=t.schema.tags.find(P=>P.tag===a&&P.collection===d);if(!c){const P=t.schema.knownTags[a];if(P&&P.collection===d)t.schema.tags.push(Object.assign({},P,{default:!1})),c=P;else return P!=null&&P.collection?o(r,"BAD_COLLECTION_TYPE",`${P.tag} used for ${d} collection, but expects ${P.collection}`,!0):o(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${a}`,!0),$w(e,t,n,o,a)}const y=$w(e,t,n,o,a,c),_=((k=c.resolve)==null?void 0:k.call(c,y,P=>o(r,"TAG_RESOLVE_FAILED",P),t.options))??y,C=ii(_)?_:new fn(_);return C.range=y.range,C.tag=a,c!=null&&c.format&&(C.format=c.format),C}function v5(e,t,n){const r=e.offset,o=Wne(e,t,n);if(!o)return{value:"",type:null,comment:"",range:[r,r,r]};const a=o.mode===">"?fn.BLOCK_FOLDED:fn.BLOCK_LITERAL,d=e.source?qne(e.source):[];let c=d.length;for(let M=d.length-1;M>=0;--M){const $=d[M][1];if($===""||$==="\r")c=M;else break}if(c===0){const M=o.chomp==="+"&&d.length>0?`
`.repeat(Math.max(1,d.length-1)):"";let $=r+o.length;return e.source&&($+=e.source.length),{value:M,type:a,comment:o.comment,range:[r,$,$]}}let y=e.indent+o.indent,_=e.offset+o.length,C=0;for(let M=0;M<c;++M){const[$,A]=d[M];if(A===""||A==="\r")o.indent===0&&$.length>y&&(y=$.length);else{if($.length<y){const O="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(_+$.length,"MISSING_CHAR",O)}o.indent===0&&(y=$.length),C=M;break}_+=$.length+A.length+1}for(let M=d.length-1;M>=c;--M)d[M][0].length>y&&(c=M+1);let k="",P="",D=!1;for(let M=0;M<C;++M)k+=d[M][0].slice(y)+`
`;for(let M=C;M<c;++M){let[$,A]=d[M];_+=$.length+A.length+1;const O=A[A.length-1]==="\r";if(O&&(A=A.slice(0,-1)),A&&$.length<y){const q=`Block scalar lines must not be less indented than their ${o.indent?"explicit indentation indicator":"first line"}`;n(_-A.length-(O?2:1),"BAD_INDENT",q),$=""}a===fn.BLOCK_LITERAL?(k+=P+$.slice(y)+A,P=`
`):$.length>y||A[0]==="	"?(P===" "?P=`
`:!D&&P===`
`&&(P=`

`),k+=P+$.slice(y)+A,P=`
`,D=!0):A===""?P===`
`?k+=`
`:P=`
`:(k+=P+A,P=" ",D=!1)}switch(o.chomp){case"-":break;case"+":for(let M=c;M<d.length;++M)k+=`
`+d[M][0].slice(y);k[k.length-1]!==`
`&&(k+=`
`);break;default:k+=`
`}const N=r+o.length+e.source.length;return{value:k,type:a,comment:o.comment,range:[r,N,N]}}function Wne({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:o}=t[0],a=o[0];let d=0,c="",y=-1;for(let P=1;P<o.length;++P){const D=o[P];if(!c&&(D==="-"||D==="+"))c=D;else{const N=Number(D);!d&&N?d=N:y===-1&&(y=e+P)}}y!==-1&&r(y,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${o}`);let _=!1,C="",k=o.length;for(let P=1;P<t.length;++P){const D=t[P];switch(D.type){case"space":_=!0;case"newline":k+=D.source.length;break;case"comment":n&&!_&&r(D,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),k+=D.source.length,C=D.source.substring(1);break;case"error":r(D,"UNEXPECTED_TOKEN",D.message),k+=D.source.length;break;default:{const N=`Unexpected token in block scalar header: ${D.type}`;r(D,"UNEXPECTED_TOKEN",N);const M=D.source;M&&typeof M=="string"&&(k+=M.length)}}}return{mode:a,indent:d,chomp:c,comment:C,length:k}}function qne(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),a=[r!=null&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let d=1;d<t.length;d+=2)a.push([t[d],t[d+1]]);return a}function _5(e,t,n){const{offset:r,type:o,source:a,end:d}=e;let c,y;const _=(P,D,N)=>n(r+P,D,N);switch(o){case"scalar":c=fn.PLAIN,y=Gne(a,_);break;case"single-quoted-scalar":c=fn.QUOTE_SINGLE,y=Hne(a,_);break;case"double-quoted-scalar":c=fn.QUOTE_DOUBLE,y=Yne(a,_);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${o}`),{value:"",type:null,comment:"",range:[r,r+a.length,r+a.length]}}const C=r+a.length,k=Zg(d,C,t,n);return{value:y,type:c,comment:k.comment,range:[r,C,k.offset]}}function Gne(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),x5(e)}function Hne(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),x5(e.slice(1,-1)).replace(/''/g,"'")}function x5(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let o=r[1],a=" ",d=t.lastIndex;for(n.lastIndex=d;r=n.exec(e);)r[1]===""?a===`
`?o+=a:a=`
`:(o+=a+r[1],a=" "),d=n.lastIndex;const c=/[ \t]*(.*)/sy;return c.lastIndex=d,r=c.exec(e),o+a+((r==null?void 0:r[1])??"")}function Yne(e,t){let n="";for(let r=1;r<e.length-1;++r){const o=e[r];if(!(o==="\r"&&e[r+1]===`
`))if(o===`
`){const{fold:a,offset:d}=Zne(e,r);n+=a,r=d}else if(o==="\\"){let a=e[++r];const d=Kne[a];if(d)n+=d;else if(a===`
`)for(a=e[r+1];a===" "||a==="	";)a=e[++r+1];else if(a==="\r"&&e[r+1]===`
`)for(a=e[++r+1];a===" "||a==="	";)a=e[++r+1];else if(a==="x"||a==="u"||a==="U"){const c={x:2,u:4,U:8}[a];n+=Xne(e,r+1,c,t),r+=c}else{const c=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${c}`),n+=c}}else if(o===" "||o==="	"){const a=r;let d=e[r+1];for(;d===" "||d==="	";)d=e[++r+1];d!==`
`&&!(d==="\r"&&e[r+2]===`
`)&&(n+=r>a?e.slice(a,r+1):o)}else n+=o}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function Zne(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}const Kne={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function Xne(e,t,n,r){const o=e.substr(t,n),d=o.length===n&&/^[0-9a-fA-F]+$/.test(o)?parseInt(o,16):NaN;if(isNaN(d)){const c=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${c}`),c}return String.fromCodePoint(d)}function b5(e,t,n,r){const{value:o,type:a,comment:d,range:c}=t.type==="block-scalar"?v5(t,e.options.strict,r):_5(t,e.options.strict,r),y=n?e.directives.tagName(n.source,k=>r(n,"TAG_RESOLVE_FAILED",k)):null,_=n&&y?Jne(e.schema,o,y,n,r):t.type==="scalar"?Qne(e,o,t,r):e.schema[Nl];let C;try{const k=_.resolve(o,P=>r(n??t,"TAG_RESOLVE_FAILED",P),e.options);C=dr(k)?k:new fn(k)}catch(k){const P=k instanceof Error?k.message:String(k);r(n??t,"TAG_RESOLVE_FAILED",P),C=new fn(o)}return C.range=c,C.source=o,a&&(C.type=a),y&&(C.tag=y),_.format&&(C.format=_.format),d&&(C.comment=d),C}function Jne(e,t,n,r,o){var c;if(n==="!")return e[Nl];const a=[];for(const y of e.tags)if(!y.collection&&y.tag===n)if(y.default&&y.test)a.push(y);else return y;for(const y of a)if((c=y.test)!=null&&c.test(t))return y;const d=e.knownTags[n];return d&&!d.collection?(e.tags.push(Object.assign({},d,{default:!1,test:void 0})),d):(o(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[Nl])}function Qne({directives:e,schema:t},n,r,o){const a=t.tags.find(d=>{var c;return d.default&&((c=d.test)==null?void 0:c.test(n))})||t[Nl];if(t.compat){const d=t.compat.find(c=>{var y;return c.default&&((y=c.test)==null?void 0:y.test(n))})??t[Nl];if(a.tag!==d.tag){const c=e.tagString(a.tag),y=e.tagString(d.tag),_=`Value may be parsed as either ${c} or ${y}`;o(r,"TAG_RESOLVE_FAILED",_,!0)}}return a}function ere(e,t,n){if(t){n===null&&(n=t.length);for(let r=n-1;r>=0;--r){let o=t[r];switch(o.type){case"space":case"comment":case"newline":e-=o.source.length;continue}for(o=t[++r];(o==null?void 0:o.type)==="space";)e+=o.source.length,o=t[++r];break}}return e}const tre={composeNode:w5,composeEmptyNode:uk};function w5(e,t,n,r){const{spaceBefore:o,comment:a,anchor:d,tag:c}=n;let y,_=!0;switch(t.type){case"alias":y=nre(e,t,r),(d||c)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":y=b5(e,t,c,r),d&&(y.anchor=d.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":y=Vne(tre,e,t,c,r),d&&(y.anchor=d.source.substring(1));break;default:{const C=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",C),y=uk(e,t.offset,void 0,null,n,r),_=!1}}return d&&y.anchor===""&&r(d,"BAD_ALIAS","Anchor cannot be an empty string"),o&&(y.spaceBefore=!0),a&&(t.type==="scalar"&&t.source===""?y.comment=a:y.commentBefore=a),e.options.keepSourceTokens&&_&&(y.srcToken=t),y}function uk(e,t,n,r,{spaceBefore:o,comment:a,anchor:d,tag:c,end:y},_){const C={type:"scalar",offset:ere(t,n,r),indent:-1,source:""},k=b5(e,C,c,_);return d&&(k.anchor=d.source.substring(1),k.anchor===""&&_(d,"BAD_ALIAS","Anchor cannot be an empty string")),o&&(k.spaceBefore=!0),a&&(k.comment=a,k.range[2]=y),k}function nre({options:e},{offset:t,source:n,end:r},o){const a=new Wx(n.substring(1));a.source===""&&o(t,"BAD_ALIAS","Alias cannot be an empty string"),a.source.endsWith(":")&&o(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const d=t+n.length,c=Zg(r,d,e.strict,o);return a.range=[t,d,c.offset],c.comment&&(a.comment=c.comment),a}function rre(e,t,{offset:n,start:r,value:o,end:a},d){const c=Object.assign({_directives:t},e),y=new Gf(void 0,c),_={atRoot:!0,directives:y.directives,options:y.options,schema:y.schema},C=Rf(r,{indicator:"doc-start",next:o??(a==null?void 0:a[0]),offset:n,onError:d,startOnNewline:!0});C.found&&(y.directives.docStart=!0,o&&(o.type==="block-map"||o.type==="block-seq")&&!C.hasNewline&&d(C.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),y.contents=o?w5(_,o,C,d):uk(_,C.end,r,null,C,d);const k=y.contents.range[2],P=Zg(a,k,!1,d);return P.comment&&(y.comment=P.comment),y.range=[n,k,P.offset],y}function dm(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function _A(e){var o;let t="",n=!1,r=!1;for(let a=0;a<e.length;++a){const d=e[a];switch(d[0]){case"#":t+=(t===""?"":r?`

`:`
`)+(d.substring(1)||" "),n=!0,r=!1;break;case"%":((o=e[a+1])==null?void 0:o[0])!=="#"&&(a+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class dk{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,o,a)=>{const d=dm(n);a?this.warnings.push(new g5(d,r,o)):this.errors.push(new qu(d,r,o))},this.directives=new vo({version:t.version||"1.2"}),this.options=t}decorate(t,n){const{comment:r,afterEmptyLine:o}=_A(this.prelude);if(r){const a=t.contents;if(n)t.comment=t.comment?`${t.comment}
${r}`:r;else if(o||t.directives.docStart||!a)t.commentBefore=r;else if(Br(a)&&!a.flow&&a.items.length>0){let d=a.items[0];Mr(d)&&(d=d.key);const c=d.commentBefore;d.commentBefore=c?`${r}
${c}`:r}else{const d=a.commentBefore;a.commentBefore=d?`${r}
${d}`:r}}n?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:_A(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,n=!1,r=-1){for(const o of t)yield*this.next(o);yield*this.end(n,r)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(n,r,o)=>{const a=dm(t);a[0]+=n,this.onError(a,"BAD_DIRECTIVE",r,o)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const n=rre(this.options,this.directives,t,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const n=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,r=new qu(dm(t),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new qu(dm(t),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=Zg(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new qu(dm(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const r=Object.assign({_directives:this.directives},this.options),o=new Gf(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),o.range=[0,n,n],this.decorate(o,!1),yield o}}}function ire(e,t=!0,n){if(e){const r=(o,a,d)=>{const c=typeof o=="number"?o:Array.isArray(o)?o[0]:o.offset;if(n)n(c,a,d);else throw new qu([c,c+1],a,d)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return _5(e,t,r);case"block-scalar":return v5(e,t,r)}}return null}function ore(e,t){const{implicitKey:n=!1,indent:r,inFlow:o=!1,offset:a=-1,type:d="PLAIN"}=t,c=Hg({type:d,value:e},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}}),y=t.end??[{type:"newline",offset:-1,indent:r,source:`
`}];switch(c[0]){case"|":case">":{const _=c.indexOf(`
`),C=c.substring(0,_),k=c.substring(_+1)+`
`,P=[{type:"block-scalar-header",offset:a,indent:r,source:C}];return S5(P,y)||P.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:a,indent:r,props:P,source:k}}case'"':return{type:"double-quoted-scalar",offset:a,indent:r,source:c,end:y};case"'":return{type:"single-quoted-scalar",offset:a,indent:r,source:c,end:y};default:return{type:"scalar",offset:a,indent:r,source:c,end:y}}}function sre(e,t,n={}){let{afterKey:r=!1,implicitKey:o=!1,inFlow:a=!1,type:d}=n,c="indent"in e?e.indent:null;if(r&&typeof c=="number"&&(c+=2),!d)switch(e.type){case"single-quoted-scalar":d="QUOTE_SINGLE";break;case"double-quoted-scalar":d="QUOTE_DOUBLE";break;case"block-scalar":{const _=e.props[0];if(_.type!=="block-scalar-header")throw new Error("Invalid block scalar header");d=_.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:d="PLAIN"}const y=Hg({type:d,value:t},{implicitKey:o||c===null,indent:c!==null&&c>0?" ".repeat(c):"",inFlow:a,options:{blockQuote:!0,lineWidth:-1}});switch(y[0]){case"|":case">":are(e,y);break;case'"':Nw(e,y,"double-quoted-scalar");break;case"'":Nw(e,y,"single-quoted-scalar");break;default:Nw(e,y,"scalar")}}function are(e,t){const n=t.indexOf(`
`),r=t.substring(0,n),o=t.substring(n+1)+`
`;if(e.type==="block-scalar"){const a=e.props[0];if(a.type!=="block-scalar-header")throw new Error("Invalid block scalar header");a.source=r,e.source=o}else{const{offset:a}=e,d="indent"in e?e.indent:-1,c=[{type:"block-scalar-header",offset:a,indent:d,source:r}];S5(c,"end"in e?e.end:void 0)||c.push({type:"newline",offset:-1,indent:d,source:`
`});for(const y of Object.keys(e))y!=="type"&&y!=="offset"&&delete e[y];Object.assign(e,{type:"block-scalar",indent:d,props:c,source:o})}}function S5(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function Nw(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{const r=e.props.slice(1);let o=t.length;e.props[0].type==="block-scalar-header"&&(o-=e.props[0].source.length);for(const a of r)a.offset+=o;delete e.props,Object.assign(e,{type:n,source:t,end:r});break}case"block-map":case"block-seq":{const o={type:"newline",offset:e.offset+t.length,indent:e.indent,source:`
`};delete e.items,Object.assign(e,{type:n,source:t,end:[o]});break}default:{const r="indent"in e?e.indent:-1,o="end"in e&&Array.isArray(e.end)?e.end.filter(a=>a.type==="space"||a.type==="comment"||a.type==="newline"):[];for(const a of Object.keys(e))a!=="type"&&a!=="offset"&&delete e[a];Object.assign(e,{type:n,indent:r,source:t,end:o})}}}const lre=e=>"type"in e?a_(e):o0(e);function a_(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=a_(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=o0(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=o0(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=o0(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function o0({start:e,key:t,sep:n,value:r}){let o="";for(const a of e)o+=a.source;if(t&&(o+=a_(t)),n)for(const a of n)o+=a.source;return r&&(o+=a_(r)),o}const $2=Symbol("break visit"),cre=Symbol("skip children"),C5=Symbol("remove item");function ud(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),T5(Object.freeze([]),e,t)}ud.BREAK=$2;ud.SKIP=cre;ud.REMOVE=C5;ud.itemAtPath=(e,t)=>{let n=e;for(const[r,o]of t){const a=n==null?void 0:n[r];if(a&&"items"in a)n=a.items[o];else return}return n};ud.parentCollection=(e,t)=>{const n=ud.itemAtPath(e,t.slice(0,-1)),r=t[t.length-1][0],o=n==null?void 0:n[r];if(o&&"items"in o)return o;throw new Error("Parent collection not found")};function T5(e,t,n){let r=n(t,e);if(typeof r=="symbol")return r;for(const o of["key","value"]){const a=t[o];if(a&&"items"in a){for(let d=0;d<a.items.length;++d){const c=T5(Object.freeze(e.concat([[o,d]])),a.items[d],n);if(typeof c=="number")d=c-1;else{if(c===$2)return $2;c===C5&&(a.items.splice(d,1),d-=1)}}typeof r=="function"&&o==="key"&&(r=r(t,e))}}return typeof r=="function"?r(t,e):r}const t1="\uFEFF",n1="",r1="",kg="",ure=e=>!!e&&"items"in e,dre=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function hre(e){switch(e){case t1:return"<BOM>";case n1:return"<DOC>";case r1:return"<FLOW_END>";case kg:return"<SCALAR>";default:return JSON.stringify(e)}}function k5(e){switch(e){case t1:return"byte-order-mark";case n1:return"doc-mode";case r1:return"flow-error-end";case kg:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const fre=Object.freeze(Object.defineProperty({__proto__:null,BOM:t1,DOCUMENT:n1,FLOW_END:r1,SCALAR:kg,createScalarToken:ore,isCollection:ure,isScalar:dre,prettyToken:hre,resolveAsScalar:ire,setScalarValue:sre,stringify:lre,tokenType:k5,visit:ud},Symbol.toStringTag,{value:"Module"}));function vs(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const xA="0123456789ABCDEFabcdef".split(""),pre="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),Fw=",[]{}".split(""),mre=` ,[]{}
\r	`.split(""),Bw=e=>!e||mre.includes(e);class E5{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,n=!1){t&&(this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null),this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let t=this.pos,n=this.buffer[t];for(;n===" "||n==="	";)n=this.buffer[++t];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let n=this.buffer[t];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+t];if(n==="\r"){const o=this.buffer[r+t+1];if(o===`
`||!o&&!this.atEnd)return t+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?t+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(t,3);if((r==="---"||r==="...")&&vs(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===t1&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let n=t.length;const r=t.indexOf("#");if(r!==-1){const a=t[r-1];(a===" "||a==="	")&&(n=r-1)}for(;;){const a=t[n-1];if(a===" "||a==="	")n-=1;else break}const o=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-o),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"}return yield n1,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if(n==="---"&&vs(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(n==="..."&&vs(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!vs(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&vs(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(t[n]){case"#":yield*this.pushCount(t.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(Bw),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,n,r=-1;do t=yield*this.pushNewline(),t>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(t+n>0);const o=this.getLine();if(o===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&o[0]!=="#"||r===0&&(o.startsWith("---")||o.startsWith("..."))&&vs(o[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(o[0]==="]"||o[0]==="}")))return this.flowLevel=0,yield r1,yield*this.parseLineStart();let a=0;for(;o[a]===",";)a+=yield*this.pushCount(1),a+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(a+=yield*this.pushIndicators(),o[a]){case void 0:return"flow";case"#":return yield*this.pushCount(o.length-a),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(Bw),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const d=this.charAt(1);if(this.flowKey||vs(d)||d===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let n=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let a=0;for(;this.buffer[n-1-a]==="\\";)a+=1;if(a%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let o=r.indexOf(`
`,this.pos);if(o!==-1){for(;o!==-1;){const a=this.continueScalar(o+1);if(a===-1)break;o=r.indexOf(`
`,a)}o!==-1&&(n=o-(r[o-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const n=this.buffer[++t];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>vs(n)||n==="#")}*parseBlockScalar(){let t=this.pos-1,n=0,r;e:for(let o=this.pos;r=this.buffer[o];++o)switch(r){case" ":n+=1;break;case`
`:t=o,n=0;break;case"\r":{const a=this.buffer[o+1];if(!a&&!this.atEnd)return this.setNext("block-scalar");if(a===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{const o=this.continueScalar(t+1);if(o===-1)break;t=this.buffer.indexOf(`
`,o)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)do{let o=t-1,a=this.buffer[o];a==="\r"&&(a=this.buffer[--o]);const d=o;for(;a===" "||a==="	";)a=this.buffer[--o];if(a===`
`&&o>=this.pos&&o+1+n>d)t=o;else break}while(!0);return yield kg,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,o;for(;o=this.buffer[++r];)if(o===":"){const a=this.buffer[r+1];if(vs(a)||t&&a===",")break;n=r}else if(vs(o)){let a=this.buffer[r+1];if(o==="\r"&&(a===`
`?(r+=1,o=`
`,a=this.buffer[r+1]):n=r),a==="#"||t&&Fw.includes(a))break;if(o===`
`){const d=this.continueScalar(r+1);if(d===-1)break;r=Math.max(r,d-2)}}else{if(t&&Fw.includes(o))break;n=r}return!o&&!this.atEnd?this.setNext("plain-scalar"):(yield kg,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(Bw))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if(vs(n)||t&&Fw.includes(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!vs(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(pre.includes(n))n=this.buffer[++t];else if(n==="%"&&xA.includes(this.buffer[t+1])&&xA.includes(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const o=n-this.pos;return o>0&&(yield this.buffer.substr(this.pos,o),this.pos=n),o}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class P5{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const a=n+r>>1;this.lineStarts[a]<t?n=a+1:r=a}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const o=this.lineStarts[n-1];return{line:n,col:t-o+1}}}}function ea(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function bA(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function I5(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Ov(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function _h(e){var n;if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=e[++t])==null?void 0:n.type)==="space";);return e.splice(t,e.length)}function wA(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!ea(t.start,"explicit-key-ind")&&!ea(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,I5(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class hk{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new E5,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=k5(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(n)if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&wA(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const o=r.items[r.items.length-1];if(o.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(o.sep)o.value=n;else{Object.assign(o,{key:n,sep:[]}),this.onKeyLine=!ea(o.start,"explicit-key-ind");return}break}case"block-seq":{const o=r.items[r.items.length-1];o.value?r.items.push({start:[],value:n}):o.value=n;break}case"flow-collection":{const o=r.items[r.items.length-1];!o||o.value?r.items.push({start:[],key:n,sep:[]}):o.sep?o.value=n:Object.assign(o,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const o=n.items[n.items.length-1];o&&!o.sep&&!o.value&&o.start.length>0&&bA(o.start)===-1&&(n.indent===0||o.start.every(a=>a.type!=="comment"||a.indent<n.indent))&&(r.type==="document"?r.end=o.start:r.items.push({start:o.start}),n.items.splice(-1,1))}}else{const r="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:r}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{bA(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=Ov(this.peek(2)),r=_h(n);let o;t.end?(o=t.end,o.push(this.sourceToken),delete t.end):o=[this.sourceToken];const a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const o="end"in n.value?n.value.end:void 0,a=Array.isArray(o)?o[o.length-1]:void 0;(a==null?void 0:a.type)==="comment"?o==null||o.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const o=t.items[t.items.length-2],a=(r=o==null?void 0:o.value)==null?void 0:r.end;if(Array.isArray(a)){Array.prototype.push.apply(a,n.start),a.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const o=!this.onKeyLine&&this.indent===t.indent&&n.sep;let a=[];if(o&&n.sep&&!n.value){const d=[];for(let c=0;c<n.sep.length;++c){const y=n.sep[c];switch(y.type){case"newline":d.push(c);break;case"space":break;case"comment":y.indent>t.indent&&(d.length=0);break;default:d.length=0}}d.length>=2&&(a=n.sep.splice(d[1]))}switch(this.type){case"anchor":case"tag":o||n.value?(a.push(this.sourceToken),t.items.push({start:a}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!ea(n.start,"explicit-key-ind")?n.start.push(this.sourceToken):o||n.value?(a.push(this.sourceToken),t.items.push({start:a})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(ea(n.start,"explicit-key-ind"))if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(ea(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]});else if(I5(n.key)&&!ea(n.sep,"newline")){const d=_h(n.start),c=n.key,y=n.sep;y.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:d,key:c,sep:y}]})}else a.length>0?n.sep=n.sep.concat(a,this.sourceToken):n.sep.push(this.sourceToken);else if(ea(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const d=_h(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:d,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||o?t.items.push({start:a,key:null,sep:[this.sourceToken]}):ea(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const d=this.flowScalar(this.type);o||n.value?(t.items.push({start:a,key:d,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(d):(Object.assign(n,{key:d,sep:[]}),this.onKeyLine=!0);return}default:{const d=this.startBlockValue(t);if(d){o&&d.type!=="block-seq"&&ea(n.start,"explicit-key-ind")&&t.items.push({start:a}),this.stack.push(d);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const o="end"in n.value?n.value.end:void 0,a=Array.isArray(o)?o[o.length-1]:void 0;(a==null?void 0:a.type)==="comment"?o==null||o.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const o=t.items[t.items.length-2],a=(r=o==null?void 0:o.value)==null?void 0:r.end;if(Array.isArray(a)){Array.prototype.push.apply(a,n.start),a.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||ea(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const o=this.startBlockValue(t);if(o){this.stack.push(o);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const o=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:o,sep:[]}):n.sep?this.stack.push(o):Object.assign(n,{key:o,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const o=Ov(r),a=_h(o);wA(t);const d=t.end.splice(1,t.end.length);d.push(this.sourceToken);const c={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:a,key:t,sep:d}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=c}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=Ov(t),r=_h(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r}]}}case"map-value-ind":{this.onKeyLine=!0;const n=Ov(t),r=_h(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function M5(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new P5||null,prettyErrors:t}}function gre(e,t={}){const{lineCounter:n,prettyErrors:r}=M5(t),o=new hk(n==null?void 0:n.addNewLine),a=new dk(t),d=Array.from(a.compose(o.parse(e)));if(r&&n)for(const c of d)c.errors.forEach(s_(e,n)),c.warnings.forEach(s_(e,n));return d.length>0?d:Object.assign([],{empty:!0},a.streamInfo())}function R5(e,t={}){const{lineCounter:n,prettyErrors:r}=M5(t),o=new hk(n==null?void 0:n.addNewLine),a=new dk(t);let d=null;for(const c of a.compose(o.parse(e),!0,e.length))if(!d)d=c;else if(d.options.logLevel!=="silent"){d.errors.push(new qu(c.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(d.errors.forEach(s_(e,n)),d.warnings.forEach(s_(e,n))),d}function yre(e,t,n){let r;typeof t=="function"?r=t:n===void 0&&t&&typeof t=="object"&&(n=t);const o=R5(e,n);if(!o)return null;if(o.warnings.forEach(a=>J$(o.options.logLevel,a)),o.errors.length>0){if(o.options.logLevel!=="silent")throw o.errors[0];o.errors=[]}return o.toJS(Object.assign({reviver:r},n))}function vre(e,t,n){let r=null;if(typeof t=="function"||Array.isArray(t)?r=t:n===void 0&&t&&(n=t),typeof n=="string"&&(n=n.length),typeof n=="number"){const o=Math.round(n);n=o<1?void 0:o>8?{indent:8}:{indent:o}}if(e===void 0){const{keepUndefined:o}=n??t??{};if(!o)return}return new Gf(e,r,n).toString(n)}const _re=Object.freeze(Object.defineProperty({__proto__:null,Alias:Wx,CST:fre,Composer:dk,Document:Gf,Lexer:E5,LineCounter:P5,Pair:Qi,Parser:hk,Scalar:fn,Schema:e1,YAMLError:ck,YAMLMap:ts,YAMLParseError:qu,YAMLSeq:Jc,YAMLWarning:g5,isAlias:gd,isCollection:Br,isDocument:jf,isMap:Uf,isNode:ii,isPair:Mr,isScalar:dr,isSeq:Vf,parse:yre,parseAllDocuments:gre,parseDocument:R5,stringify:vre,visit:Xc,visitAsync:Vx},Symbol.toStringTag,{value:"Module"})),Af=Oo.createContext();var Dv="";const A5=({children:e,notification:t})=>{Ir($=>$.devices.items);const n=Ir($=>$.mission),r=Ir($=>$.session.server),o=Ha(),[a,d]=U.useState(!1);U.useState(""),U.useEffect(()=>{d(r)},[r]);const c=async $=>{try{const A=await fetch("/api/rosConnect",{method:"POST",body:new URLSearchParams(`rosState=${encodeURIComponent(a)}`)});if(A.ok){let O=await A.json();O.state==="connect"&&(t("success",O.msg),d(!0)),O.state==="error"&&(d(!1),t("danger",O.msg)),O.state==="disconnect"&&(t("danger",O.msg),d(!1)),console.log(O)}else throw Error(await A.text())}catch{d(!1)}},y=async $=>{console.log($.name+"-"+$.category);try{const A=await fetch("/api/devices",{method:"POST",body:JSON.stringify($),headers:{"Content-Type":"application/json"}});if(A.ok){let O=await A.json();O.state==="connect"&&t("success",O.msg),O.state==="fail"&&t("danger",O.msg),console.log(O)}else throw Error(await A.text())}catch{}},_=async()=>{try{const $=await fetch("/api/loadmission",{method:"POST",body:JSON.stringify({mission:n.route}),headers:{"Content-Type":"application/json"}});if($.ok){let A=await $.json();A.state==="connect"&&t("success",A.msg),A.state==="fail"&&t("danger",A.msg),console.log(A)}else throw Error(await $.text())}catch{}},C=async($,A)=>{console.log("command mission "),console.log(A),console.log($);try{const O=await fetch("/api/commandmission",{method:"POST",body:JSON.stringify({uav_ns:$,uav_type:A}),headers:{"Content-Type":"application/json"}});if(O.ok){let z=await O.json();z.state==="connect"&&t("success",z.msg),z.state==="fail"&&t("danger",z.msg),console.log(z)}else throw Error(await O.text())}catch{}},k=($,A)=>{if($.endsWith(".yaml"))Dv=_re.parse(A),Dv.mode_landing,Dv.mode_yaw,o(Tc.updateMission({name:$,mission:Dv}));else if($.endsWith(".waypoints")){let z=A.split(`
`).map(J=>J.split("	")),q={uav_n:1,uav_1:{}},Y=0;z.forEach(J=>{J[3]=="16"&&(q.uav_1["wp_"+Y]=[J[8],J[9],J[10]],Y=Y+1)}),q.uav_1.wp_n=Y,o(Tc.updateMission({name:$,mission:q}))}else if($.endsWith(".kml")){let q=new DOMParser().parseFromString(A,"text/xml").querySelector("coordinates").textContent.replace(/(\r\n|\n|\r|\t)/gm,"").split(" ").map(te=>te.split(",")),Y={uav_n:1,uav_1:{}},J=0;q.forEach(te=>{te.length==3&&(Y.uav_1["wp_"+J]=[te[1],te[0],te[2]],J=J+1)}),Y.uav_1.wp_n=J,o(Tc.updateMission({name:$,mission:Y}))}else if($.endsWith(".plan")){let O=JSON.parse(A),z={uav_n:1,uav_1:{}},q=0;O.mission.items.forEach(Y=>{z.uav_1["wp_"+q]=[Y.params[4],Y.params[5],Y.Altitude],q=q+1}),z.uav_1.wp_n=q,o(Tc.updateMission({name:$,mission:z}))}else t("danger","Formato de mission no compatible")},P=()=>{c()};async function D($){a?y($):alert(`
Ros no est conectado.

 Por favor conctelo primero.`)}function N(){_()}function M(){C("uav_3","px4")}return F.jsx("div",{style:{width:"100%",height:"100%"},children:F.jsx(Af.Provider,{value:{rosConnect:P,rosState:a,openMision:k,connectAddUav:D,commandMission:M,loadMission:N},children:e})})},O5=({SetAddUAVOpen:e})=>{const[t,n]=U.useState(!1),r=Ha(),o=zg(),a=()=>{r(Tc.clearMission({}))},d=()=>{const k=document.getElementsByName("otrotest");console.log(k);for(let P=0;P<k.length;P++)k[P].setAttribute("class","mytest");setTimeout(()=>{console.log("1 Segundo esperado");for(let P=0;P<k.length;P++)k[P].setAttribute("class","dropdown-content")},500),n(P=>!P)},c=U.useContext(Af),y=k=>{const P=k.target.files[0];if(!P)return;const D=new FileReader;D.readAsText(P),D.onload=()=>{console.log(D.result),console.log(P.name),c.openMision(P.name,D.result)},D.onerror=()=>{console.log(D.error)}};function _(){tt.easeTo({center:[-6.0025,37.412],zoom:Math.max(tt.getZoom(),5),offset:[0,-1/2]})}function C(){e(!0)}return F.jsx(FL,{position:"static",style:{backgroundColor:"#333",height:"52px"},children:F.jsx(t$,{maxWidth:"x",children:F.jsxs(Fx,{disableGutters:!0,children:[F.jsx(Yn,{variant:"h6",noWrap:!0,component:"a",onClick:_,sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"Management Tool"}),F.jsxs("div",{className:"dropdown",children:[F.jsx("button",{className:"dropbtn",children:"ROS "}),F.jsx("div",{name:"otrotest",className:"dropdown-content",children:F.jsx("a",{id:"rosConnectNavbar",onClick:()=>{c.rosConnect(),d()},children:"Connect Rosbridge Server"})})]}),F.jsxs("div",{className:"dropdown",children:[F.jsxs("button",{className:"dropbtn",children:["UAV",F.jsx("i",{className:"fa fa-caret-down"})]}),F.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[F.jsx("a",{id:"openAddUavNavbar",onClick:()=>{C(),d()},children:"Connect UAV"}),F.jsx("a",{id:"hideRosterNavbar",onClick:d,children:"Show/Hide UAV Roster"})]})]}),F.jsxs("div",{className:"dropdown",children:[F.jsxs("button",{className:"dropbtn",children:["File",F.jsx("i",{className:"fa fa-caret-down"})]}),F.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[F.jsx("label",{id:"menuopenmission",htmlFor:"openMissionNavbar",children:"Open Mision"}),F.jsx("input",{accept:".yaml, .plan, .waypoint, .kml",type:"file",multiple:!1,style:{display:"none"},id:"openMissionNavbar",onChange:y}),F.jsx("a",{id:"Clear mission",onClick:()=>{a(),d()},children:"Clear Mission"}),F.jsx("a",{id:"editmission",onClick:()=>{o("/mission"),d()},children:"Edit mission"})]})]}),F.jsxs("div",{className:"dropdown",children:[F.jsxs("button",{className:"dropbtn",children:["Mission",F.jsx("i",{className:"fa fa-caret-down"})]}),F.jsxs("div",{name:"otrotest",className:"dropdown-content",children:[F.jsx("a",{id:"loadMissionNavbar",onClick:()=>{c.loadMission(),d()},children:"Load Mission"}),F.jsx("a",{id:"commandMissionNavbar",onClick:()=>{c.commandMission(),d()},children:"Command Mission"})]})]}),F.jsx("div",{className:"dropdown",children:F.jsxs("button",{className:"dropbtn",children:["Report",F.jsx("i",{className:"fa fa-caret-down"})]})})]})})})};var fk={},D5={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(D5);var qn=D5.exports,jw={};const xre=HA(M7);var SA;function Gn(){return SA||(SA=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=xre}(jw)),jw}var bre=qn;Object.defineProperty(fk,"__esModule",{value:!0});var z5=fk.default=void 0,wre=bre(Gn()),Sre=F,Cre=(0,wre.default)((0,Sre.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");z5=fk.default=Cre;var pk={},Tre=qn;Object.defineProperty(pk,"__esModule",{value:!0});var L5=pk.default=void 0,kre=Tre(Gn()),Ere=F,Pre=(0,kre.default)((0,Ere.jsx)("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}),"Folder");L5=pk.default=Pre;var mk={},Ire=qn;Object.defineProperty(mk,"__esModule",{value:!0});var $5=mk.default=void 0,Mre=Ire(Gn()),Rre=F,Are=(0,Mre.default)((0,Rre.jsx)("path",{d:"M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"}),"Flight");$5=mk.default=Are;var gk={},Ore=qn;Object.defineProperty(gk,"__esModule",{value:!0});var N5=gk.default=void 0,Dre=Ore(Gn()),zre=F,Lre=(0,Dre.default)((0,zre.jsx)("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"FileUpload");N5=gk.default=Lre;var yk={},$re=qn;Object.defineProperty(yk,"__esModule",{value:!0});var F5=yk.default=void 0,Nre=$re(Gn()),Fre=F,Bre=(0,Nre.default)((0,Fre.jsx)("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h10v4h8v10z"}),"Tab");F5=yk.default=Bre;var vk={},jre=qn;Object.defineProperty(vk,"__esModule",{value:!0});var B5=vk.default=void 0,Ure=jre(Gn()),Vre=F,Wre=(0,Ure.default)((0,Vre.jsx)("path",{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"}),"Reply");B5=vk.default=Wre;var _k={},qre=qn;Object.defineProperty(_k,"__esModule",{value:!0});var j5=_k.default=void 0,Gre=qre(Gn()),Hre=F,Yre=(0,Gre.default)((0,Hre.jsx)("path",{d:"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z"}),"CallMade");j5=_k.default=Yre;var xk={},Zre=qn;Object.defineProperty(xk,"__esModule",{value:!0});var U5=xk.default=void 0,Kre=Zre(Gn()),Xre=F,Jre=(0,Kre.default)((0,Xre.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"ModeEdit");U5=xk.default=Jre;var bk={},Qre=qn;Object.defineProperty(bk,"__esModule",{value:!0});var V5=bk.default=void 0,eie=Qre(Gn()),tie=F,nie=(0,eie.default)((0,tie.jsx)("path",{d:"m19 8-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}),"Cached");V5=bk.default=nie;const rie=wo(e=>({toolbar:{height:"36px",background:"linear-gradient(#E7E5E7, #D3D1D3)",borderTop:"1px solid rgba(255, 255, 255, .6)"},mediaButton:{width:"auto",color:Ba[700],backgroundColor:"#F9F9F9",boxShadow:"inset 0px -4px 4px 0 rgba(0, 0, 0, 0.1)",maxHeight:"22px",top:"2px",border:"1px solid #C2C0C2",margin:"5px 10px",fontSize:"12px","&:hover":{backgroundColor:Ba[300]}},mediaicon:{color:Ba[700],width:"15px"}})),W5=({SetAddUAVOpen:e})=>{const t=rie(),n=U.useContext(Af),[r,o]=U.useState("no load mission"),a=Ir(N=>N.mission.name),d=Ir(N=>N.mission.home),[c,y]=U.useState(!0),_=N=>{const M=N.target.files[0];if(!M)return;const $=new FileReader;$.readAsText(M),$.onload=()=>{console.log($.result),console.log(M.name),n.openMision(M.name,$.result)},$.onerror=()=>{console.log($.error)}};function C(){tt.easeTo({center:[-6.0025,37.412],zoom:Math.max(tt.getZoom(),5),offset:[0,-1/2]})}function k(){tt.easeTo({center:[d[1],d[0]],zoom:Math.max(tt.getZoom(),15),offset:[0,-1/2]})}function P(){e(!0)}const D=()=>{y(!c)};return U.useEffect(()=>{o(a)},[a]),U.useEffect(()=>{k()},[d]),F.jsx("header",{className:t.toolbar,children:F.jsxs("div",{children:[F.jsxs(iZ,{style:{height:"26px",display:"inline",justifyContent:"flex-end"},children:[F.jsx(Tr,{onClick:C,className:t.mediaButton,style:{margin:"0px 0px"},children:F.jsx(z5,{fontSize:"small",className:t.mediaicon})}),F.jsxs(Tr,{id:"openMission",className:t.mediaButton,style:{margin:"0px 0px"},children:[F.jsx("label",{htmlFor:"openMissionNavbar",style:{padding:0},children:F.jsx(L5,{fontSize:"small",className:t.mediaicon,style:{position:"relative",top:"3px"}})}),F.jsx("input",{type:"file",multiple:!1,style:{display:"none"},id:"openMissionNavbar",onChange:_})]}),F.jsx(Tr,{id:"openAddUav",onClick:P,className:t.mediaButton,style:{margin:"0px 0px"},children:F.jsx($5,{fontSize:"small",className:t.mediaicon,style:{transform:"rotate(90deg)"}})})]}),F.jsx(Af.Consumer,{children:({rosState:N})=>F.jsxs(Tr,{id:"rosConnect",onClick:n.rosConnect,className:t.mediaButton,children:[N&&"conectado"," ",!N&&"desconectado"," "]})}),F.jsx(Tr,{id:"loadMission",size:"small",onClick:P,className:t.mediaButton,children:F.jsx(N5,{fontSize:"small",className:t.mediaicon})}),F.jsx(Tr,{id:"commandMission",onClick:P,className:t.mediaButton,children:"Fly!"}),F.jsxs(Tr,{id:"openedmission",onClick:k,className:t.mediaButton,style:{margin:"0px 100px",width:"500px"},children:[" ",r]}),F.jsx(Tr,{variant:"filledTonal",onClick:N=>D(),className:t.mediaButton,children:"Status"}),F.jsx(Tr,{id:"openTerminal",style:{visibility:!0},className:t.mediaButton,children:F.jsx(F5,{fontSize:"small",className:t.mediaicon})}),F.jsx(Tr,{id:"UndoMission",style:{visibility:!0},className:t.mediaButton,children:F.jsx(B5,{fontSize:"small",className:t.mediaicon})}),F.jsx(Tr,{id:"reset",className:t.mediaButton,children:F.jsx(j5,{fontSize:"small",className:t.mediaicon})}),F.jsx(Tr,{id:"showManualMode",className:t.mediaButton,children:F.jsx(U5,{fontSize:"small",className:t.mediaicon})}),F.jsx(Tr,{id:"commandManualMission",style:{visibility:!0},className:t.mediaButton,children:F.jsx(V5,{fontSize:"small",className:t.mediaicon})})]})})};var wk={},iie=qn;Object.defineProperty(wk,"__esModule",{value:!0});var dd=wk.default=void 0,oie=iie(Gn()),sie=F,aie=(0,oie.default)((0,sie.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");dd=wk.default=aie;const lie=wo(e=>({title:{fontWeight:700,fontSize:"16px",textAlign:"left",marginTop:0,marginBottom:"6px",width:"300px",height:"18px"},mediaButton:{color:"#fff",mixBlendMode:"difference",right:0,top:0},description:{margin:0,textAlign:"left",fontSize:"12px",paddingLeft:"1rem"},toast:{height:"60px",width:"365px",color:"#fff",marginBottom:"1rem"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(.5,1,0,2)},card:{pointerEvents:"auto",height:"60px",width:"365px",color:"#fff",marginBottom:"1rem"},root:{pointerEvents:"none",position:"fixed",zIndex:5,bottom:"1rem",right:"1rem"}})),cie=({toastlist:e,position:t,setList:n})=>{const r=lie(),o=U.useCallback(a=>{const d=e.filter(c=>c.id!==a);n(d)},[e,n]);return U.useEffect(()=>{const a=setInterval(()=>{e.length&&o(e[0].id)},3e3);return()=>{clearInterval(a)}},[e,o]),F.jsx("div",{className:r.root,children:e.map((a,d)=>F.jsxs(qg,{elevation:3,className:r.card,style:{backgroundColor:a.backgroundColor},children:[F.jsxs("div",{className:r.header,children:[F.jsx(Yn,{variant:"body2",children:a.title}),F.jsx(Zn,{size:"small",onClick:()=>o(a.id),onTouchStart:()=>o(a.id),children:F.jsx(dd,{fontSize:"small",className:r.mediaButton})})]}),F.jsx("div",{children:F.jsx("p",{className:r.description,children:a.description})})]}))})};var Sk={},uie=qn;Object.defineProperty(Sk,"__esModule",{value:!0});var qh=Sk.default=void 0,die=uie(Gn()),hie=F,fie=(0,die.default)((0,hie.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");qh=Sk.default=fie;const pie=wo(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},media:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"50%",top:"20%",transform:"translateX(-50%)"},button:{width:"80%",paddingBottom:"10pt",paddingTop:"10pt"},formControl:{margin:e.spacing(1),gap:e.spacing(2),paddingBottom:"20pt"},inputtext:{paddingBottom:"20px"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)}})),mie=({SetAddUAVOpen:e})=>{const t=pie(),n=U.useContext(Af);U.useState("dji"),U.useState("");const[r,o]=U.useState({name:"uav_",category:"dji",ip:"10.42.0.42",cameratype:"Websocket",camera_src:"video0"});function a(){e(!1)}function d(){console.log("add uav-"+r.name+"-"+r.category),console.log(r),n.connectAddUav(r),e(!1)}return F.jsx("div",{className:t.root,children:F.jsxs(qg,{elevation:3,className:t.card,children:[F.jsx("div",{style:{display:"flex",right:"5px",height:"35px",position:"absolute"},children:F.jsx(Zn,{size:"small",onClick:a,onTouchStart:a,children:F.jsx(dd,{fontSize:"small",className:t.mediaButton})})}),F.jsx("b",{children:F.jsxs("div",{style:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"20pt",textAlign:"left"},children:["Add device"," "]})}),F.jsxs(sK,{style:{margin:"20px"},children:[F.jsx(Io,{required:!0,label:"UAV ID",name:"uavid",value:r.name,onChange:c=>o({...r,name:c.target.value}),className:t.inputtext}),F.jsxs(J0,{style:{paddingBottom:"20px"},variant:"outlined",children:[F.jsx(e_,{id:"demo-simple-select-outlined-label",children:"UAV type"}),F.jsxs(n_,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:r.category,onChange:c=>o({...r,category:c.target.value}),label:"uavtipe",children:[F.jsx(Ss,{value:"dji",children:"DJI"}),F.jsx(Ss,{value:"px4",children:"PX4"}),F.jsx(Ss,{value:"fuvex",children:"Fuvex"}),F.jsx(Ss,{value:"catec",children:"Catec"})]})]}),F.jsx(Io,{value:r.ip,onChange:c=>o({...r,ip:c.target.value}),label:"ip"})]}),r&&F.jsxs(bm,{children:[F.jsx(Sm,{expandIcon:F.jsx(qh,{}),children:F.jsx(Yn,{variant:"subtitle1",children:"Camera"})}),F.jsxs(wm,{className:t.details,children:[F.jsxs(J0,{variant:"outlined",children:[F.jsx(e_,{id:"demo-simple-select-outlined-label",children:"CameraSource"}),F.jsxs(n_,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:r.cameratype,onChange:c=>o({...r,cameratype:c.target.value}),label:"uavtipe",children:[F.jsx(Ss,{value:"Websocket",children:"Websocket"}),F.jsx(Ss,{value:"WebRTC",children:"WebRTC"})]})]}),F.jsx(Io,{value:r.camera_src,onChange:c=>o({...r,camera_src:c.target.value}),label:"Camera route",helperText:"videocompress or video0  "})]})]}),F.jsx("div",{style:{paddingBottom:"20pt",paddingTop:"20pt",display:"flex",justifyContent:"center"},children:F.jsx(Tr,{className:t.button,variant:"contained",onClick:d,children:"ADD"})})]})})},CA="/assets/placeholder-7d04691d.jpg";var Ck={},gie=qn;Object.defineProperty(Ck,"__esModule",{value:!0});var Tk=Ck.default=void 0,yie=gie(Gn()),vie=F,_ie=(0,yie.default)((0,vie.jsx)("path",{d:"m15 3 2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3h-6zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3v6zm6 12-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6h6zm12-6-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6v-6z"}),"ZoomOutMap");Tk=Ck.default=_ie;const xie=wo(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},card_max:{pointerEvents:"auto",width:"100%"},media:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"360px",top:e.spacing(15),transform:"translateX(1%)"},root_max:{pointerEvents:"none",position:"fixed",zIndex:6,left:"51%",top:"5%",transform:"translateX(-50%)",width:"55%"}})),bie=({deviceId:e,datacamera:t,onClose:n})=>{const r=xie(),[o,a]=U.useState(CA),d=Ir(P=>P.devices.items[e]),[c,y]=U.useState(!1);let _=c?r.card_max:r.card,C=c?r.root_max:r.root;function k(){y(!c)}return U.useEffect(()=>{e!=null&&(t!=null?a("data:image/bgr8;base64,"+t.camera):a(CA))},[t]),F.jsx("div",{className:C,children:d&&F.jsxs(qg,{elevation:3,className:_,children:[F.jsxs("div",{style:{display:"flex",right:"5px",height:"35px",position:"absolute"},children:[F.jsx(Zn,{size:"small",onClick:k,onTouchStart:k,children:F.jsx(Tk,{fontSize:"small",className:r.mediaButton})}),F.jsx(Zn,{size:"small",onClick:()=>{n(),y(!1)},onTouchStart:n,children:F.jsx(dd,{fontSize:"small",className:r.mediaButton})})]}),F.jsxs("div",{style:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},children:[" ","Image "+d.name," "]}),F.jsx("img",{src:o,className:r.media})]})})};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var q5;function Pt(){return q5.apply(null,arguments)}function wie(e){q5=e}function ha(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Ju(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Ln(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function kk(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Ln(e,t))return!1;return!0}function Mo(e){return e===void 0}function Fl(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Kg(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function G5(e,t){var n=[],r,o=e.length;for(r=0;r<o;++r)n.push(t(e[r],r));return n}function Pc(e,t){for(var n in t)Ln(t,n)&&(e[n]=t[n]);return Ln(t,"toString")&&(e.toString=t.toString),Ln(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Ya(e,t,n,r){return gN(e,t,n,r,!0).utc()}function Sie(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function gn(e){return e._pf==null&&(e._pf=Sie()),e._pf}var N2;Array.prototype.some?N2=Array.prototype.some:N2=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function Ek(e){if(e._isValid==null){var t=gn(e),n=N2.call(t.parsedDateParts,function(o){return o!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function i1(e){var t=Ya(NaN);return e!=null?Pc(gn(t),e):gn(t).userInvalidated=!0,t}var TA=Pt.momentProperties=[],Uw=!1;function Pk(e,t){var n,r,o,a=TA.length;if(Mo(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Mo(t._i)||(e._i=t._i),Mo(t._f)||(e._f=t._f),Mo(t._l)||(e._l=t._l),Mo(t._strict)||(e._strict=t._strict),Mo(t._tzm)||(e._tzm=t._tzm),Mo(t._isUTC)||(e._isUTC=t._isUTC),Mo(t._offset)||(e._offset=t._offset),Mo(t._pf)||(e._pf=gn(t)),Mo(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)r=TA[n],o=t[r],Mo(o)||(e[r]=o);return e}function Xg(e){Pk(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Uw===!1&&(Uw=!0,Pt.updateOffset(this),Uw=!1)}function fa(e){return e instanceof Xg||e!=null&&e._isAMomentObject!=null}function H5(e){Pt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function $s(e,t){var n=!0;return Pc(function(){if(Pt.deprecationHandler!=null&&Pt.deprecationHandler(null,e),n){var r=[],o,a,d,c=arguments.length;for(a=0;a<c;a++){if(o="",typeof arguments[a]=="object"){o+=`
[`+a+"] ";for(d in arguments[0])Ln(arguments[0],d)&&(o+=d+": "+arguments[0][d]+", ");o=o.slice(0,-2)}else o=arguments[a];r.push(o)}H5(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var kA={};function Y5(e,t){Pt.deprecationHandler!=null&&Pt.deprecationHandler(e,t),kA[e]||(H5(t),kA[e]=!0)}Pt.suppressDeprecationWarnings=!1;Pt.deprecationHandler=null;function Za(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function Cie(e){var t,n;for(n in e)Ln(e,n)&&(t=e[n],Za(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function F2(e,t){var n=Pc({},e),r;for(r in t)Ln(t,r)&&(Ju(e[r])&&Ju(t[r])?(n[r]={},Pc(n[r],e[r]),Pc(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)Ln(e,r)&&!Ln(t,r)&&Ju(e[r])&&(n[r]=Pc({},n[r]));return n}function Ik(e){e!=null&&this.set(e)}var B2;Object.keys?B2=Object.keys:B2=function(e){var t,n=[];for(t in e)Ln(e,t)&&n.push(t);return n};var Tie={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function kie(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return Za(r)?r.call(t,n):r}function Ga(e,t,n){var r=""+Math.abs(e),o=t-r.length,a=e>=0;return(a?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var Mk=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,zv=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Vw={},lf={};function Jt(e,t,n,r){var o=r;typeof r=="string"&&(o=function(){return this[r]()}),e&&(lf[e]=o),t&&(lf[t[0]]=function(){return Ga(o.apply(this,arguments),t[1],t[2])}),n&&(lf[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function Eie(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Pie(e){var t=e.match(Mk),n,r;for(n=0,r=t.length;n<r;n++)lf[t[n]]?t[n]=lf[t[n]]:t[n]=Eie(t[n]);return function(o){var a="",d;for(d=0;d<r;d++)a+=Za(t[d])?t[d].call(o,e):t[d];return a}}function s0(e,t){return e.isValid()?(t=Z5(t,e.localeData()),Vw[t]=Vw[t]||Pie(t),Vw[t](e)):e.localeData().invalidDate()}function Z5(e,t){var n=5;function r(o){return t.longDateFormat(o)||o}for(zv.lastIndex=0;n>=0&&zv.test(e);)e=e.replace(zv,r),zv.lastIndex=0,n-=1;return e}var Iie={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Mie(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Mk).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var Rie="Invalid date";function Aie(){return this._invalidDate}var Oie="%d",Die=/\d{1,2}/;function zie(e){return this._ordinal.replace("%d",e)}var Lie={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function $ie(e,t,n,r){var o=this._relativeTime[n];return Za(o)?o(e,t,n,r):o.replace(/%d/i,e)}function Nie(e,t){var n=this._relativeTime[e>0?"future":"past"];return Za(n)?n(t):n.replace(/%s/i,t)}var Gm={};function no(e,t){var n=e.toLowerCase();Gm[n]=Gm[n+"s"]=Gm[t]=e}function Ns(e){return typeof e=="string"?Gm[e]||Gm[e.toLowerCase()]:void 0}function Rk(e){var t={},n,r;for(r in e)Ln(e,r)&&(n=Ns(r),n&&(t[n]=e[r]));return t}var K5={};function ro(e,t){K5[e]=t}function Fie(e){var t=[],n;for(n in e)Ln(e,n)&&t.push({unit:n,priority:K5[n]});return t.sort(function(r,o){return r.priority-o.priority}),t}function o1(e){return e%4===0&&e%100!==0||e%400===0}function Cs(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function wn(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=Cs(t)),n}function Hf(e,t){return function(n){return n!=null?(X5(this,e,n),Pt.updateOffset(this,t),this):l_(this,e)}}function l_(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function X5(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&o1(e.year())&&e.month()===1&&e.date()===29?(n=wn(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),d1(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Bie(e){return e=Ns(e),Za(this[e])?this[e]():this}function jie(e,t){if(typeof e=="object"){e=Rk(e);var n=Fie(e),r,o=n.length;for(r=0;r<o;r++)this[n[r].unit](e[n[r].unit])}else if(e=Ns(e),Za(this[e]))return this[e](t);return this}var J5=/\d/,hs=/\d\d/,Q5=/\d{3}/,Ak=/\d{4}/,s1=/[+-]?\d{6}/,xr=/\d\d?/,eN=/\d\d\d\d?/,tN=/\d\d\d\d\d\d?/,a1=/\d{1,3}/,Ok=/\d{1,4}/,l1=/[+-]?\d{1,6}/,Yf=/\d+/,c1=/[+-]?\d+/,Uie=/Z|[+-]\d\d:?\d\d/gi,u1=/Z|[+-]\d\d(?::?\d\d)?/gi,Vie=/[+-]?\d+(\.\d{1,3})?/,Jg=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,c_;c_={};function Ft(e,t,n){c_[e]=Za(t)?t:function(r,o){return r&&n?n:t}}function Wie(e,t){return Ln(c_,e)?c_[e](t._strict,t._locale):new RegExp(qie(e))}function qie(e){return Qo(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,o,a){return n||r||o||a}))}function Qo(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var j2={};function or(e,t){var n,r=t,o;for(typeof e=="string"&&(e=[e]),Fl(t)&&(r=function(a,d){d[t]=wn(a)}),o=e.length,n=0;n<o;n++)j2[e[n]]=r}function Qg(e,t){or(e,function(n,r,o,a){o._w=o._w||{},t(n,o._w,o,a)})}function Gie(e,t,n){t!=null&&Ln(j2,e)&&j2[e](t,n._a,n,e)}var eo=0,kl=1,La=2,mi=3,aa=4,El=5,Gu=6,Hie=7,Yie=8;function Zie(e,t){return(e%t+t)%t}var ni;Array.prototype.indexOf?ni=Array.prototype.indexOf:ni=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function d1(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Zie(t,12);return e+=(t-n)/12,n===1?o1(e)?29:28:31-n%7%2}Jt("M",["MM",2],"Mo",function(){return this.month()+1});Jt("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Jt("MMMM",0,0,function(e){return this.localeData().months(this,e)});no("month","M");ro("month",8);Ft("M",xr);Ft("MM",xr,hs);Ft("MMM",function(e,t){return t.monthsShortRegex(e)});Ft("MMMM",function(e,t){return t.monthsRegex(e)});or(["M","MM"],function(e,t){t[kl]=wn(e)-1});or(["MMM","MMMM"],function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);o!=null?t[kl]=o:gn(n).invalidMonth=e});var Kie="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),nN="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),rN=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Xie=Jg,Jie=Jg;function Qie(e,t){return e?ha(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||rN).test(t)?"format":"standalone"][e.month()]:ha(this._months)?this._months:this._months.standalone}function eoe(e,t){return e?ha(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[rN.test(t)?"format":"standalone"][e.month()]:ha(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function toe(e,t,n){var r,o,a,d=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=Ya([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?t==="MMM"?(o=ni.call(this._shortMonthsParse,d),o!==-1?o:null):(o=ni.call(this._longMonthsParse,d),o!==-1?o:null):t==="MMM"?(o=ni.call(this._shortMonthsParse,d),o!==-1?o:(o=ni.call(this._longMonthsParse,d),o!==-1?o:null)):(o=ni.call(this._longMonthsParse,d),o!==-1?o:(o=ni.call(this._shortMonthsParse,d),o!==-1?o:null))}function noe(e,t,n){var r,o,a;if(this._monthsParseExact)return toe.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=Ya([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(a="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function iN(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=wn(t);else if(t=e.localeData().monthsParse(t),!Fl(t))return e}return n=Math.min(e.date(),d1(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function oN(e){return e!=null?(iN(this,e),Pt.updateOffset(this,!0),this):l_(this,"Month")}function roe(){return d1(this.year(),this.month())}function ioe(e){return this._monthsParseExact?(Ln(this,"_monthsRegex")||sN.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Ln(this,"_monthsShortRegex")||(this._monthsShortRegex=Xie),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ooe(e){return this._monthsParseExact?(Ln(this,"_monthsRegex")||sN.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Ln(this,"_monthsRegex")||(this._monthsRegex=Jie),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function sN(){function e(d,c){return c.length-d.length}var t=[],n=[],r=[],o,a;for(o=0;o<12;o++)a=Ya([2e3,o]),t.push(this.monthsShort(a,"")),n.push(this.months(a,"")),r.push(this.months(a,"")),r.push(this.monthsShort(a,""));for(t.sort(e),n.sort(e),r.sort(e),o=0;o<12;o++)t[o]=Qo(t[o]),n[o]=Qo(n[o]);for(o=0;o<24;o++)r[o]=Qo(r[o]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}Jt("Y",0,0,function(){var e=this.year();return e<=9999?Ga(e,4):"+"+e});Jt(0,["YY",2],0,function(){return this.year()%100});Jt(0,["YYYY",4],0,"year");Jt(0,["YYYYY",5],0,"year");Jt(0,["YYYYYY",6,!0],0,"year");no("year","y");ro("year",1);Ft("Y",c1);Ft("YY",xr,hs);Ft("YYYY",Ok,Ak);Ft("YYYYY",l1,s1);Ft("YYYYYY",l1,s1);or(["YYYYY","YYYYYY"],eo);or("YYYY",function(e,t){t[eo]=e.length===2?Pt.parseTwoDigitYear(e):wn(e)});or("YY",function(e,t){t[eo]=Pt.parseTwoDigitYear(e)});or("Y",function(e,t){t[eo]=parseInt(e,10)});function Hm(e){return o1(e)?366:365}Pt.parseTwoDigitYear=function(e){return wn(e)+(wn(e)>68?1900:2e3)};var aN=Hf("FullYear",!0);function soe(){return o1(this.year())}function aoe(e,t,n,r,o,a,d){var c;return e<100&&e>=0?(c=new Date(e+400,t,n,r,o,a,d),isFinite(c.getFullYear())&&c.setFullYear(e)):c=new Date(e,t,n,r,o,a,d),c}function Eg(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function u_(e,t,n){var r=7+t-n,o=(7+Eg(e,0,r).getUTCDay()-t)%7;return-o+r-1}function lN(e,t,n,r,o){var a=(7+n-r)%7,d=u_(e,r,o),c=1+7*(t-1)+a+d,y,_;return c<=0?(y=e-1,_=Hm(y)+c):c>Hm(e)?(y=e+1,_=c-Hm(e)):(y=e,_=c),{year:y,dayOfYear:_}}function Pg(e,t,n){var r=u_(e.year(),t,n),o=Math.floor((e.dayOfYear()-r-1)/7)+1,a,d;return o<1?(d=e.year()-1,a=o+Il(d,t,n)):o>Il(e.year(),t,n)?(a=o-Il(e.year(),t,n),d=e.year()+1):(d=e.year(),a=o),{week:a,year:d}}function Il(e,t,n){var r=u_(e,t,n),o=u_(e+1,t,n);return(Hm(e)-r+o)/7}Jt("w",["ww",2],"wo","week");Jt("W",["WW",2],"Wo","isoWeek");no("week","w");no("isoWeek","W");ro("week",5);ro("isoWeek",5);Ft("w",xr);Ft("ww",xr,hs);Ft("W",xr);Ft("WW",xr,hs);Qg(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=wn(e)});function loe(e){return Pg(e,this._week.dow,this._week.doy).week}var coe={dow:0,doy:6};function uoe(){return this._week.dow}function doe(){return this._week.doy}function hoe(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function foe(e){var t=Pg(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}Jt("d",0,"do","day");Jt("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Jt("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Jt("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Jt("e",0,0,"weekday");Jt("E",0,0,"isoWeekday");no("day","d");no("weekday","e");no("isoWeekday","E");ro("day",11);ro("weekday",11);ro("isoWeekday",11);Ft("d",xr);Ft("e",xr);Ft("E",xr);Ft("dd",function(e,t){return t.weekdaysMinRegex(e)});Ft("ddd",function(e,t){return t.weekdaysShortRegex(e)});Ft("dddd",function(e,t){return t.weekdaysRegex(e)});Qg(["dd","ddd","dddd"],function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);o!=null?t.d=o:gn(n).invalidWeekday=e});Qg(["d","e","E"],function(e,t,n,r){t[r]=wn(e)});function poe(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function moe(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Dk(e,t){return e.slice(t,7).concat(e.slice(0,t))}var goe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),cN="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),yoe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),voe=Jg,_oe=Jg,xoe=Jg;function boe(e,t){var n=ha(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Dk(n,this._week.dow):e?n[e.day()]:n}function woe(e){return e===!0?Dk(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Soe(e){return e===!0?Dk(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Coe(e,t,n){var r,o,a,d=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=Ya([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?t==="dddd"?(o=ni.call(this._weekdaysParse,d),o!==-1?o:null):t==="ddd"?(o=ni.call(this._shortWeekdaysParse,d),o!==-1?o:null):(o=ni.call(this._minWeekdaysParse,d),o!==-1?o:null):t==="dddd"?(o=ni.call(this._weekdaysParse,d),o!==-1||(o=ni.call(this._shortWeekdaysParse,d),o!==-1)?o:(o=ni.call(this._minWeekdaysParse,d),o!==-1?o:null)):t==="ddd"?(o=ni.call(this._shortWeekdaysParse,d),o!==-1||(o=ni.call(this._weekdaysParse,d),o!==-1)?o:(o=ni.call(this._minWeekdaysParse,d),o!==-1?o:null)):(o=ni.call(this._minWeekdaysParse,d),o!==-1||(o=ni.call(this._weekdaysParse,d),o!==-1)?o:(o=ni.call(this._shortWeekdaysParse,d),o!==-1?o:null))}function Toe(e,t,n){var r,o,a;if(this._weekdaysParseExact)return Coe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=Ya([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function koe(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=poe(e,this.localeData()),this.add(e-t,"d")):t}function Eoe(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Poe(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=moe(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Ioe(e){return this._weekdaysParseExact?(Ln(this,"_weekdaysRegex")||zk.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Ln(this,"_weekdaysRegex")||(this._weekdaysRegex=voe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Moe(e){return this._weekdaysParseExact?(Ln(this,"_weekdaysRegex")||zk.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ln(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=_oe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Roe(e){return this._weekdaysParseExact?(Ln(this,"_weekdaysRegex")||zk.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ln(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=xoe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function zk(){function e(C,k){return k.length-C.length}var t=[],n=[],r=[],o=[],a,d,c,y,_;for(a=0;a<7;a++)d=Ya([2e3,1]).day(a),c=Qo(this.weekdaysMin(d,"")),y=Qo(this.weekdaysShort(d,"")),_=Qo(this.weekdays(d,"")),t.push(c),n.push(y),r.push(_),o.push(c),o.push(y),o.push(_);t.sort(e),n.sort(e),r.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Lk(){return this.hours()%12||12}function Aoe(){return this.hours()||24}Jt("H",["HH",2],0,"hour");Jt("h",["hh",2],0,Lk);Jt("k",["kk",2],0,Aoe);Jt("hmm",0,0,function(){return""+Lk.apply(this)+Ga(this.minutes(),2)});Jt("hmmss",0,0,function(){return""+Lk.apply(this)+Ga(this.minutes(),2)+Ga(this.seconds(),2)});Jt("Hmm",0,0,function(){return""+this.hours()+Ga(this.minutes(),2)});Jt("Hmmss",0,0,function(){return""+this.hours()+Ga(this.minutes(),2)+Ga(this.seconds(),2)});function uN(e,t){Jt(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}uN("a",!0);uN("A",!1);no("hour","h");ro("hour",13);function dN(e,t){return t._meridiemParse}Ft("a",dN);Ft("A",dN);Ft("H",xr);Ft("h",xr);Ft("k",xr);Ft("HH",xr,hs);Ft("hh",xr,hs);Ft("kk",xr,hs);Ft("hmm",eN);Ft("hmmss",tN);Ft("Hmm",eN);Ft("Hmmss",tN);or(["H","HH"],mi);or(["k","kk"],function(e,t,n){var r=wn(e);t[mi]=r===24?0:r});or(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});or(["h","hh"],function(e,t,n){t[mi]=wn(e),gn(n).bigHour=!0});or("hmm",function(e,t,n){var r=e.length-2;t[mi]=wn(e.substr(0,r)),t[aa]=wn(e.substr(r)),gn(n).bigHour=!0});or("hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[mi]=wn(e.substr(0,r)),t[aa]=wn(e.substr(r,2)),t[El]=wn(e.substr(o)),gn(n).bigHour=!0});or("Hmm",function(e,t,n){var r=e.length-2;t[mi]=wn(e.substr(0,r)),t[aa]=wn(e.substr(r))});or("Hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[mi]=wn(e.substr(0,r)),t[aa]=wn(e.substr(r,2)),t[El]=wn(e.substr(o))});function Ooe(e){return(e+"").toLowerCase().charAt(0)==="p"}var Doe=/[ap]\.?m?\.?/i,zoe=Hf("Hours",!0);function Loe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var hN={calendar:Tie,longDateFormat:Iie,invalidDate:Rie,ordinal:Oie,dayOfMonthOrdinalParse:Die,relativeTime:Lie,months:Kie,monthsShort:nN,week:coe,weekdays:goe,weekdaysMin:yoe,weekdaysShort:cN,meridiemParse:Doe},kr={},hm={},Ig;function $oe(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function EA(e){return e&&e.toLowerCase().replace("_","-")}function Noe(e){for(var t=0,n,r,o,a;t<e.length;){for(a=EA(e[t]).split("-"),n=a.length,r=EA(e[t+1]),r=r?r.split("-"):null;n>0;){if(o=h1(a.slice(0,n).join("-")),o)return o;if(r&&r.length>=n&&$oe(a,r)>=n-1)break;n--}t++}return Ig}function Foe(e){return e.match("^[^/\\\\]*$")!=null}function h1(e){var t=null,n;if(kr[e]===void 0&&typeof u0<"u"&&u0&&u0.exports&&Foe(e))try{t=Ig._abbr,n=require,n("./locale/"+e),Wc(t)}catch{kr[e]=null}return kr[e]}function Wc(e,t){var n;return e&&(Mo(t)?n=Ul(e):n=$k(e,t),n?Ig=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Ig._abbr}function $k(e,t){if(t!==null){var n,r=hN;if(t.abbr=e,kr[e]!=null)Y5("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=kr[e]._config;else if(t.parentLocale!=null)if(kr[t.parentLocale]!=null)r=kr[t.parentLocale]._config;else if(n=h1(t.parentLocale),n!=null)r=n._config;else return hm[t.parentLocale]||(hm[t.parentLocale]=[]),hm[t.parentLocale].push({name:e,config:t}),null;return kr[e]=new Ik(F2(r,t)),hm[e]&&hm[e].forEach(function(o){$k(o.name,o.config)}),Wc(e),kr[e]}else return delete kr[e],null}function Boe(e,t){if(t!=null){var n,r,o=hN;kr[e]!=null&&kr[e].parentLocale!=null?kr[e].set(F2(kr[e]._config,t)):(r=h1(e),r!=null&&(o=r._config),t=F2(o,t),r==null&&(t.abbr=e),n=new Ik(t),n.parentLocale=kr[e],kr[e]=n),Wc(e)}else kr[e]!=null&&(kr[e].parentLocale!=null?(kr[e]=kr[e].parentLocale,e===Wc()&&Wc(e)):kr[e]!=null&&delete kr[e]);return kr[e]}function Ul(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ig;if(!ha(e)){if(t=h1(e),t)return t;e=[e]}return Noe(e)}function joe(){return B2(kr)}function Nk(e){var t,n=e._a;return n&&gn(e).overflow===-2&&(t=n[kl]<0||n[kl]>11?kl:n[La]<1||n[La]>d1(n[eo],n[kl])?La:n[mi]<0||n[mi]>24||n[mi]===24&&(n[aa]!==0||n[El]!==0||n[Gu]!==0)?mi:n[aa]<0||n[aa]>59?aa:n[El]<0||n[El]>59?El:n[Gu]<0||n[Gu]>999?Gu:-1,gn(e)._overflowDayOfYear&&(t<eo||t>La)&&(t=La),gn(e)._overflowWeeks&&t===-1&&(t=Hie),gn(e)._overflowWeekday&&t===-1&&(t=Yie),gn(e).overflow=t),e}var Uoe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Voe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Woe=/Z|[+-]\d\d(?::?\d\d)?/,Lv=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ww=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],qoe=/^\/?Date\((-?\d+)/i,Goe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Hoe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function fN(e){var t,n,r=e._i,o=Uoe.exec(r)||Voe.exec(r),a,d,c,y,_=Lv.length,C=Ww.length;if(o){for(gn(e).iso=!0,t=0,n=_;t<n;t++)if(Lv[t][1].exec(o[1])){d=Lv[t][0],a=Lv[t][2]!==!1;break}if(d==null){e._isValid=!1;return}if(o[3]){for(t=0,n=C;t<n;t++)if(Ww[t][1].exec(o[3])){c=(o[2]||" ")+Ww[t][0];break}if(c==null){e._isValid=!1;return}}if(!a&&c!=null){e._isValid=!1;return}if(o[4])if(Woe.exec(o[4]))y="Z";else{e._isValid=!1;return}e._f=d+(c||"")+(y||""),Bk(e)}else e._isValid=!1}function Yoe(e,t,n,r,o,a){var d=[Zoe(e),nN.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return a&&d.push(parseInt(a,10)),d}function Zoe(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Koe(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Xoe(e,t,n){if(e){var r=cN.indexOf(e),o=new Date(t[0],t[1],t[2]).getDay();if(r!==o)return gn(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function Joe(e,t,n){if(e)return Hoe[e];if(t)return 0;var r=parseInt(n,10),o=r%100,a=(r-o)/100;return a*60+o}function pN(e){var t=Goe.exec(Koe(e._i)),n;if(t){if(n=Yoe(t[4],t[3],t[2],t[5],t[6],t[7]),!Xoe(t[1],n,e))return;e._a=n,e._tzm=Joe(t[8],t[9],t[10]),e._d=Eg.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),gn(e).rfc2822=!0}else e._isValid=!1}function Qoe(e){var t=qoe.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(fN(e),e._isValid===!1)delete e._isValid;else return;if(pN(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Pt.createFromInputFallback(e)}Pt.createFromInputFallback=$s("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function kh(e,t,n){return e??t??n}function ese(e){var t=new Date(Pt.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Fk(e){var t,n,r=[],o,a,d;if(!e._d){for(o=ese(e),e._w&&e._a[La]==null&&e._a[kl]==null&&tse(e),e._dayOfYear!=null&&(d=kh(e._a[eo],o[eo]),(e._dayOfYear>Hm(d)||e._dayOfYear===0)&&(gn(e)._overflowDayOfYear=!0),n=Eg(d,0,e._dayOfYear),e._a[kl]=n.getUTCMonth(),e._a[La]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=o[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[mi]===24&&e._a[aa]===0&&e._a[El]===0&&e._a[Gu]===0&&(e._nextDay=!0,e._a[mi]=0),e._d=(e._useUTC?Eg:aoe).apply(null,r),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[mi]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==a&&(gn(e).weekdayMismatch=!0)}}function tse(e){var t,n,r,o,a,d,c,y,_;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(a=1,d=4,n=kh(t.GG,e._a[eo],Pg(_r(),1,4).year),r=kh(t.W,1),o=kh(t.E,1),(o<1||o>7)&&(y=!0)):(a=e._locale._week.dow,d=e._locale._week.doy,_=Pg(_r(),a,d),n=kh(t.gg,e._a[eo],_.year),r=kh(t.w,_.week),t.d!=null?(o=t.d,(o<0||o>6)&&(y=!0)):t.e!=null?(o=t.e+a,(t.e<0||t.e>6)&&(y=!0)):o=a),r<1||r>Il(n,a,d)?gn(e)._overflowWeeks=!0:y!=null?gn(e)._overflowWeekday=!0:(c=lN(n,r,o,a,d),e._a[eo]=c.year,e._dayOfYear=c.dayOfYear)}Pt.ISO_8601=function(){};Pt.RFC_2822=function(){};function Bk(e){if(e._f===Pt.ISO_8601){fN(e);return}if(e._f===Pt.RFC_2822){pN(e);return}e._a=[],gn(e).empty=!0;var t=""+e._i,n,r,o,a,d,c=t.length,y=0,_,C;for(o=Z5(e._f,e._locale).match(Mk)||[],C=o.length,n=0;n<C;n++)a=o[n],r=(t.match(Wie(a,e))||[])[0],r&&(d=t.substr(0,t.indexOf(r)),d.length>0&&gn(e).unusedInput.push(d),t=t.slice(t.indexOf(r)+r.length),y+=r.length),lf[a]?(r?gn(e).empty=!1:gn(e).unusedTokens.push(a),Gie(a,r,e)):e._strict&&!r&&gn(e).unusedTokens.push(a);gn(e).charsLeftOver=c-y,t.length>0&&gn(e).unusedInput.push(t),e._a[mi]<=12&&gn(e).bigHour===!0&&e._a[mi]>0&&(gn(e).bigHour=void 0),gn(e).parsedDateParts=e._a.slice(0),gn(e).meridiem=e._meridiem,e._a[mi]=nse(e._locale,e._a[mi],e._meridiem),_=gn(e).era,_!==null&&(e._a[eo]=e._locale.erasConvertYear(_,e._a[eo])),Fk(e),Nk(e)}function nse(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function rse(e){var t,n,r,o,a,d,c=!1,y=e._f.length;if(y===0){gn(e).invalidFormat=!0,e._d=new Date(NaN);return}for(o=0;o<y;o++)a=0,d=!1,t=Pk({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[o],Bk(t),Ek(t)&&(d=!0),a+=gn(t).charsLeftOver,a+=gn(t).unusedTokens.length*10,gn(t).score=a,c?a<r&&(r=a,n=t):(r==null||a<r||d)&&(r=a,n=t,d&&(c=!0));Pc(e,n||t)}function ise(e){if(!e._d){var t=Rk(e._i),n=t.day===void 0?t.date:t.day;e._a=G5([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),Fk(e)}}function ose(e){var t=new Xg(Nk(mN(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function mN(e){var t=e._i,n=e._f;return e._locale=e._locale||Ul(e._l),t===null||n===void 0&&t===""?i1({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),fa(t)?new Xg(Nk(t)):(Kg(t)?e._d=t:ha(n)?rse(e):n?Bk(e):sse(e),Ek(e)||(e._d=null),e))}function sse(e){var t=e._i;Mo(t)?e._d=new Date(Pt.now()):Kg(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Qoe(e):ha(t)?(e._a=G5(t.slice(0),function(n){return parseInt(n,10)}),Fk(e)):Ju(t)?ise(e):Fl(t)?e._d=new Date(t):Pt.createFromInputFallback(e)}function gN(e,t,n,r,o){var a={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Ju(e)&&kk(e)||ha(e)&&e.length===0)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=o,a._l=n,a._i=e,a._f=t,a._strict=r,ose(a)}function _r(e,t,n,r){return gN(e,t,n,r,!1)}var ase=$s("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=_r.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:i1()}),lse=$s("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=_r.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:i1()});function yN(e,t){var n,r;if(t.length===1&&ha(t[0])&&(t=t[0]),!t.length)return _r();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function cse(){var e=[].slice.call(arguments,0);return yN("isBefore",e)}function use(){var e=[].slice.call(arguments,0);return yN("isAfter",e)}var dse=function(){return Date.now?Date.now():+new Date},fm=["year","quarter","month","week","day","hour","minute","second","millisecond"];function hse(e){var t,n=!1,r,o=fm.length;for(t in e)if(Ln(e,t)&&!(ni.call(fm,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<o;++r)if(e[fm[r]]){if(n)return!1;parseFloat(e[fm[r]])!==wn(e[fm[r]])&&(n=!0)}return!0}function fse(){return this._isValid}function pse(){return ga(NaN)}function f1(e){var t=Rk(e),n=t.year||0,r=t.quarter||0,o=t.month||0,a=t.week||t.isoWeek||0,d=t.day||0,c=t.hour||0,y=t.minute||0,_=t.second||0,C=t.millisecond||0;this._isValid=hse(t),this._milliseconds=+C+_*1e3+y*6e4+c*1e3*60*60,this._days=+d+a*7,this._months=+o+r*3+n*12,this._data={},this._locale=Ul(),this._bubble()}function a0(e){return e instanceof f1}function U2(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function mse(e,t,n){var r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0,d;for(d=0;d<r;d++)(n&&e[d]!==t[d]||!n&&wn(e[d])!==wn(t[d]))&&a++;return a+o}function vN(e,t){Jt(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Ga(~~(n/60),2)+t+Ga(~~n%60,2)})}vN("Z",":");vN("ZZ","");Ft("Z",u1);Ft("ZZ",u1);or(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=jk(u1,e)});var gse=/([\+\-]|\d\d)/gi;function jk(e,t){var n=(t||"").match(e),r,o,a;return n===null?null:(r=n[n.length-1]||[],o=(r+"").match(gse)||["-",0,0],a=+(o[1]*60)+wn(o[2]),a===0?0:o[0]==="+"?a:-a)}function Uk(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(fa(e)||Kg(e)?e.valueOf():_r(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Pt.updateOffset(n,!1),n):_r(e).local()}function V2(e){return-Math.round(e._d.getTimezoneOffset())}Pt.updateOffset=function(){};function yse(e,t,n){var r=this._offset||0,o;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=jk(u1,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(o=V2(this)),this._offset=e,this._isUTC=!0,o!=null&&this.add(o,"m"),r!==e&&(!t||this._changeInProgress?bN(this,ga(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Pt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:V2(this)}function vse(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function _se(e){return this.utcOffset(0,e)}function xse(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(V2(this),"m")),this}function bse(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=jk(Uie,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function wse(e){return this.isValid()?(e=e?_r(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Sse(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Cse(){if(!Mo(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Pk(e,this),e=mN(e),e._a?(t=e._isUTC?Ya(e._a):_r(e._a),this._isDSTShifted=this.isValid()&&mse(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Tse(){return this.isValid()?!this._isUTC:!1}function kse(){return this.isValid()?this._isUTC:!1}function _N(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Ese=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Pse=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ga(e,t){var n=e,r=null,o,a,d;return a0(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Fl(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=Ese.exec(e))?(o=r[1]==="-"?-1:1,n={y:0,d:wn(r[La])*o,h:wn(r[mi])*o,m:wn(r[aa])*o,s:wn(r[El])*o,ms:wn(U2(r[Gu]*1e3))*o}):(r=Pse.exec(e))?(o=r[1]==="-"?-1:1,n={y:Ru(r[2],o),M:Ru(r[3],o),w:Ru(r[4],o),d:Ru(r[5],o),h:Ru(r[6],o),m:Ru(r[7],o),s:Ru(r[8],o)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(d=Ise(_r(n.from),_r(n.to)),n={},n.ms=d.milliseconds,n.M=d.months),a=new f1(n),a0(e)&&Ln(e,"_locale")&&(a._locale=e._locale),a0(e)&&Ln(e,"_isValid")&&(a._isValid=e._isValid),a}ga.fn=f1.prototype;ga.invalid=pse;function Ru(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function PA(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ise(e,t){var n;return e.isValid()&&t.isValid()?(t=Uk(t,e),e.isBefore(t)?n=PA(e,t):(n=PA(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function xN(e,t){return function(n,r){var o,a;return r!==null&&!isNaN(+r)&&(Y5(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=r,r=a),o=ga(n,r),bN(this,o,e),this}}function bN(e,t,n,r){var o=t._milliseconds,a=U2(t._days),d=U2(t._months);e.isValid()&&(r=r??!0,d&&iN(e,l_(e,"Month")+d*n),a&&X5(e,"Date",l_(e,"Date")+a*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&Pt.updateOffset(e,a||d))}var Mse=xN(1,"add"),Rse=xN(-1,"subtract");function wN(e){return typeof e=="string"||e instanceof String}function Ase(e){return fa(e)||Kg(e)||wN(e)||Fl(e)||Dse(e)||Ose(e)||e===null||e===void 0}function Ose(e){var t=Ju(e)&&!kk(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,a,d=r.length;for(o=0;o<d;o+=1)a=r[o],n=n||Ln(e,a);return t&&n}function Dse(e){var t=ha(e),n=!1;return t&&(n=e.filter(function(r){return!Fl(r)&&wN(e)}).length===0),t&&n}function zse(e){var t=Ju(e)&&!kk(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,a;for(o=0;o<r.length;o+=1)a=r[o],n=n||Ln(e,a);return t&&n}function Lse(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function $se(e,t){arguments.length===1&&(arguments[0]?Ase(arguments[0])?(e=arguments[0],t=void 0):zse(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||_r(),r=Uk(n,this).startOf("day"),o=Pt.calendarFormat(this,r)||"sameElse",a=t&&(Za(t[o])?t[o].call(this,n):t[o]);return this.format(a||this.localeData().calendar(o,this,_r(n)))}function Nse(){return new Xg(this)}function Fse(e,t){var n=fa(e)?e:_r(e);return this.isValid()&&n.isValid()?(t=Ns(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function Bse(e,t){var n=fa(e)?e:_r(e);return this.isValid()&&n.isValid()?(t=Ns(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function jse(e,t,n,r){var o=fa(e)?e:_r(e),a=fa(t)?t:_r(t);return this.isValid()&&o.isValid()&&a.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(o,n):!this.isBefore(o,n))&&(r[1]===")"?this.isBefore(a,n):!this.isAfter(a,n))):!1}function Use(e,t){var n=fa(e)?e:_r(e),r;return this.isValid()&&n.isValid()?(t=Ns(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function Vse(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Wse(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function qse(e,t,n){var r,o,a;if(!this.isValid())return NaN;if(r=Uk(e,this),!r.isValid())return NaN;switch(o=(r.utcOffset()-this.utcOffset())*6e4,t=Ns(t),t){case"year":a=l0(this,r)/12;break;case"month":a=l0(this,r);break;case"quarter":a=l0(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-o)/864e5;break;case"week":a=(this-r-o)/6048e5;break;default:a=this-r}return n?a:Cs(a)}function l0(e,t){if(e.date()<t.date())return-l0(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),o,a;return t-r<0?(o=e.clone().add(n-1,"months"),a=(t-r)/(r-o)):(o=e.clone().add(n+1,"months"),a=(t-r)/(o-r)),-(n+a)||0}Pt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Pt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Gse(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Hse(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?s0(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Za(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",s0(n,"Z")):s0(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Yse(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,o,a;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",a=t+'[")]',this.format(n+r+o+a)}function Zse(e){e||(e=this.isUtc()?Pt.defaultFormatUtc:Pt.defaultFormat);var t=s0(this,e);return this.localeData().postformat(t)}function Kse(e,t){return this.isValid()&&(fa(e)&&e.isValid()||_r(e).isValid())?ga({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Xse(e){return this.from(_r(),e)}function Jse(e,t){return this.isValid()&&(fa(e)&&e.isValid()||_r(e).isValid())?ga({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Qse(e){return this.to(_r(),e)}function SN(e){var t;return e===void 0?this._locale._abbr:(t=Ul(e),t!=null&&(this._locale=t),this)}var CN=$s("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function TN(){return this._locale}var d_=1e3,cf=60*d_,h_=60*cf,kN=(365*400+97)*24*h_;function uf(e,t){return(e%t+t)%t}function EN(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-kN:new Date(e,t,n).valueOf()}function PN(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-kN:Date.UTC(e,t,n)}function eae(e){var t,n;if(e=Ns(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?PN:EN,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=uf(t+(this._isUTC?0:this.utcOffset()*cf),h_);break;case"minute":t=this._d.valueOf(),t-=uf(t,cf);break;case"second":t=this._d.valueOf(),t-=uf(t,d_);break}return this._d.setTime(t),Pt.updateOffset(this,!0),this}function tae(e){var t,n;if(e=Ns(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?PN:EN,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=h_-uf(t+(this._isUTC?0:this.utcOffset()*cf),h_)-1;break;case"minute":t=this._d.valueOf(),t+=cf-uf(t,cf)-1;break;case"second":t=this._d.valueOf(),t+=d_-uf(t,d_)-1;break}return this._d.setTime(t),Pt.updateOffset(this,!0),this}function nae(){return this._d.valueOf()-(this._offset||0)*6e4}function rae(){return Math.floor(this.valueOf()/1e3)}function iae(){return new Date(this.valueOf())}function oae(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function sae(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function aae(){return this.isValid()?this.toISOString():null}function lae(){return Ek(this)}function cae(){return Pc({},gn(this))}function uae(){return gn(this).overflow}function dae(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Jt("N",0,0,"eraAbbr");Jt("NN",0,0,"eraAbbr");Jt("NNN",0,0,"eraAbbr");Jt("NNNN",0,0,"eraName");Jt("NNNNN",0,0,"eraNarrow");Jt("y",["y",1],"yo","eraYear");Jt("y",["yy",2],0,"eraYear");Jt("y",["yyy",3],0,"eraYear");Jt("y",["yyyy",4],0,"eraYear");Ft("N",Vk);Ft("NN",Vk);Ft("NNN",Vk);Ft("NNNN",wae);Ft("NNNNN",Sae);or(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?gn(n).era=o:gn(n).invalidEra=e});Ft("y",Yf);Ft("yy",Yf);Ft("yyy",Yf);Ft("yyyy",Yf);Ft("yo",Cae);or(["y","yy","yyy","yyyy"],eo);or(["yo"],function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[eo]=n._locale.eraYearOrdinalParse(e,o):t[eo]=parseInt(e,10)});function hae(e,t){var n,r,o,a=this._eras||Ul("en")._eras;for(n=0,r=a.length;n<r;++n){switch(typeof a[n].since){case"string":o=Pt(a[n].since).startOf("day"),a[n].since=o.valueOf();break}switch(typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":o=Pt(a[n].until).startOf("day").valueOf(),a[n].until=o.valueOf();break}}return a}function fae(e,t,n){var r,o,a=this.eras(),d,c,y;for(e=e.toUpperCase(),r=0,o=a.length;r<o;++r)if(d=a[r].name.toUpperCase(),c=a[r].abbr.toUpperCase(),y=a[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(c===e)return a[r];break;case"NNNN":if(d===e)return a[r];break;case"NNNNN":if(y===e)return a[r];break}else if([d,c,y].indexOf(e)>=0)return a[r]}function pae(e,t){var n=e.since<=e.until?1:-1;return t===void 0?Pt(e.since).year():Pt(e.since).year()+(t-e.offset)*n}function mae(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function gae(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function yae(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function vae(){var e,t,n,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-Pt(o[e].since).year())*n+o[e].offset;return this.year()}function _ae(e){return Ln(this,"_erasNameRegex")||Wk.call(this),e?this._erasNameRegex:this._erasRegex}function xae(e){return Ln(this,"_erasAbbrRegex")||Wk.call(this),e?this._erasAbbrRegex:this._erasRegex}function bae(e){return Ln(this,"_erasNarrowRegex")||Wk.call(this),e?this._erasNarrowRegex:this._erasRegex}function Vk(e,t){return t.erasAbbrRegex(e)}function wae(e,t){return t.erasNameRegex(e)}function Sae(e,t){return t.erasNarrowRegex(e)}function Cae(e,t){return t._eraYearOrdinalRegex||Yf}function Wk(){var e=[],t=[],n=[],r=[],o,a,d=this.eras();for(o=0,a=d.length;o<a;++o)t.push(Qo(d[o].name)),e.push(Qo(d[o].abbr)),n.push(Qo(d[o].narrow)),r.push(Qo(d[o].name)),r.push(Qo(d[o].abbr)),r.push(Qo(d[o].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Jt(0,["gg",2],0,function(){return this.weekYear()%100});Jt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function p1(e,t){Jt(0,[e,e.length],0,t)}p1("gggg","weekYear");p1("ggggg","weekYear");p1("GGGG","isoWeekYear");p1("GGGGG","isoWeekYear");no("weekYear","gg");no("isoWeekYear","GG");ro("weekYear",1);ro("isoWeekYear",1);Ft("G",c1);Ft("g",c1);Ft("GG",xr,hs);Ft("gg",xr,hs);Ft("GGGG",Ok,Ak);Ft("gggg",Ok,Ak);Ft("GGGGG",l1,s1);Ft("ggggg",l1,s1);Qg(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=wn(e)});Qg(["gg","GG"],function(e,t,n,r){t[r]=Pt.parseTwoDigitYear(e)});function Tae(e){return IN.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function kae(e){return IN.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Eae(){return Il(this.year(),1,4)}function Pae(){return Il(this.isoWeekYear(),1,4)}function Iae(){var e=this.localeData()._week;return Il(this.year(),e.dow,e.doy)}function Mae(){var e=this.localeData()._week;return Il(this.weekYear(),e.dow,e.doy)}function IN(e,t,n,r,o){var a;return e==null?Pg(this,r,o).year:(a=Il(e,r,o),t>a&&(t=a),Rae.call(this,e,t,n,r,o))}function Rae(e,t,n,r,o){var a=lN(e,t,n,r,o),d=Eg(a.year,0,a.dayOfYear);return this.year(d.getUTCFullYear()),this.month(d.getUTCMonth()),this.date(d.getUTCDate()),this}Jt("Q",0,"Qo","quarter");no("quarter","Q");ro("quarter",7);Ft("Q",J5);or("Q",function(e,t){t[kl]=(wn(e)-1)*3});function Aae(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Jt("D",["DD",2],"Do","date");no("date","D");ro("date",9);Ft("D",xr);Ft("DD",xr,hs);Ft("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});or(["D","DD"],La);or("Do",function(e,t){t[La]=wn(e.match(xr)[0])});var MN=Hf("Date",!0);Jt("DDD",["DDDD",3],"DDDo","dayOfYear");no("dayOfYear","DDD");ro("dayOfYear",4);Ft("DDD",a1);Ft("DDDD",Q5);or(["DDD","DDDD"],function(e,t,n){n._dayOfYear=wn(e)});function Oae(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}Jt("m",["mm",2],0,"minute");no("minute","m");ro("minute",14);Ft("m",xr);Ft("mm",xr,hs);or(["m","mm"],aa);var Dae=Hf("Minutes",!1);Jt("s",["ss",2],0,"second");no("second","s");ro("second",15);Ft("s",xr);Ft("ss",xr,hs);or(["s","ss"],El);var zae=Hf("Seconds",!1);Jt("S",0,0,function(){return~~(this.millisecond()/100)});Jt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Jt(0,["SSS",3],0,"millisecond");Jt(0,["SSSS",4],0,function(){return this.millisecond()*10});Jt(0,["SSSSS",5],0,function(){return this.millisecond()*100});Jt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Jt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Jt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Jt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});no("millisecond","ms");ro("millisecond",16);Ft("S",a1,J5);Ft("SS",a1,hs);Ft("SSS",a1,Q5);var Ic,RN;for(Ic="SSSS";Ic.length<=9;Ic+="S")Ft(Ic,Yf);function Lae(e,t){t[Gu]=wn(("0."+e)*1e3)}for(Ic="S";Ic.length<=9;Ic+="S")or(Ic,Lae);RN=Hf("Milliseconds",!1);Jt("z",0,0,"zoneAbbr");Jt("zz",0,0,"zoneName");function $ae(){return this._isUTC?"UTC":""}function Nae(){return this._isUTC?"Coordinated Universal Time":""}var dt=Xg.prototype;dt.add=Mse;dt.calendar=$se;dt.clone=Nse;dt.diff=qse;dt.endOf=tae;dt.format=Zse;dt.from=Kse;dt.fromNow=Xse;dt.to=Jse;dt.toNow=Qse;dt.get=Bie;dt.invalidAt=uae;dt.isAfter=Fse;dt.isBefore=Bse;dt.isBetween=jse;dt.isSame=Use;dt.isSameOrAfter=Vse;dt.isSameOrBefore=Wse;dt.isValid=lae;dt.lang=CN;dt.locale=SN;dt.localeData=TN;dt.max=lse;dt.min=ase;dt.parsingFlags=cae;dt.set=jie;dt.startOf=eae;dt.subtract=Rse;dt.toArray=oae;dt.toObject=sae;dt.toDate=iae;dt.toISOString=Hse;dt.inspect=Yse;typeof Symbol<"u"&&Symbol.for!=null&&(dt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});dt.toJSON=aae;dt.toString=Gse;dt.unix=rae;dt.valueOf=nae;dt.creationData=dae;dt.eraName=mae;dt.eraNarrow=gae;dt.eraAbbr=yae;dt.eraYear=vae;dt.year=aN;dt.isLeapYear=soe;dt.weekYear=Tae;dt.isoWeekYear=kae;dt.quarter=dt.quarters=Aae;dt.month=oN;dt.daysInMonth=roe;dt.week=dt.weeks=hoe;dt.isoWeek=dt.isoWeeks=foe;dt.weeksInYear=Iae;dt.weeksInWeekYear=Mae;dt.isoWeeksInYear=Eae;dt.isoWeeksInISOWeekYear=Pae;dt.date=MN;dt.day=dt.days=koe;dt.weekday=Eoe;dt.isoWeekday=Poe;dt.dayOfYear=Oae;dt.hour=dt.hours=zoe;dt.minute=dt.minutes=Dae;dt.second=dt.seconds=zae;dt.millisecond=dt.milliseconds=RN;dt.utcOffset=yse;dt.utc=_se;dt.local=xse;dt.parseZone=bse;dt.hasAlignedHourOffset=wse;dt.isDST=Sse;dt.isLocal=Tse;dt.isUtcOffset=kse;dt.isUtc=_N;dt.isUTC=_N;dt.zoneAbbr=$ae;dt.zoneName=Nae;dt.dates=$s("dates accessor is deprecated. Use date instead.",MN);dt.months=$s("months accessor is deprecated. Use month instead",oN);dt.years=$s("years accessor is deprecated. Use year instead",aN);dt.zone=$s("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",vse);dt.isDSTShifted=$s("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Cse);function Fae(e){return _r(e*1e3)}function Bae(){return _r.apply(null,arguments).parseZone()}function AN(e){return e}var $n=Ik.prototype;$n.calendar=kie;$n.longDateFormat=Mie;$n.invalidDate=Aie;$n.ordinal=zie;$n.preparse=AN;$n.postformat=AN;$n.relativeTime=$ie;$n.pastFuture=Nie;$n.set=Cie;$n.eras=hae;$n.erasParse=fae;$n.erasConvertYear=pae;$n.erasAbbrRegex=xae;$n.erasNameRegex=_ae;$n.erasNarrowRegex=bae;$n.months=Qie;$n.monthsShort=eoe;$n.monthsParse=noe;$n.monthsRegex=ooe;$n.monthsShortRegex=ioe;$n.week=loe;$n.firstDayOfYear=doe;$n.firstDayOfWeek=uoe;$n.weekdays=boe;$n.weekdaysMin=Soe;$n.weekdaysShort=woe;$n.weekdaysParse=Toe;$n.weekdaysRegex=Ioe;$n.weekdaysShortRegex=Moe;$n.weekdaysMinRegex=Roe;$n.isPM=Ooe;$n.meridiem=Loe;function f_(e,t,n,r){var o=Ul(),a=Ya().set(r,t);return o[n](a,e)}function ON(e,t,n){if(Fl(e)&&(t=e,e=void 0),e=e||"",t!=null)return f_(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=f_(e,r,n,"month");return o}function qk(e,t,n,r){typeof e=="boolean"?(Fl(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Fl(t)&&(n=t,t=void 0),t=t||"");var o=Ul(),a=e?o._week.dow:0,d,c=[];if(n!=null)return f_(t,(n+a)%7,r,"day");for(d=0;d<7;d++)c[d]=f_(t,(d+a)%7,r,"day");return c}function jae(e,t){return ON(e,t,"months")}function Uae(e,t){return ON(e,t,"monthsShort")}function Vae(e,t,n){return qk(e,t,n,"weekdays")}function Wae(e,t,n){return qk(e,t,n,"weekdaysShort")}function qae(e,t,n){return qk(e,t,n,"weekdaysMin")}Wc("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=wn(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});Pt.lang=$s("moment.lang is deprecated. Use moment.locale instead.",Wc);Pt.langData=$s("moment.langData is deprecated. Use moment.localeData instead.",Ul);var yl=Math.abs;function Gae(){var e=this._data;return this._milliseconds=yl(this._milliseconds),this._days=yl(this._days),this._months=yl(this._months),e.milliseconds=yl(e.milliseconds),e.seconds=yl(e.seconds),e.minutes=yl(e.minutes),e.hours=yl(e.hours),e.months=yl(e.months),e.years=yl(e.years),this}function DN(e,t,n,r){var o=ga(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function Hae(e,t){return DN(this,e,t,1)}function Yae(e,t){return DN(this,e,t,-1)}function IA(e){return e<0?Math.floor(e):Math.ceil(e)}function Zae(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,o,a,d,c,y;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=IA(W2(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,o=Cs(e/1e3),r.seconds=o%60,a=Cs(o/60),r.minutes=a%60,d=Cs(a/60),r.hours=d%24,t+=Cs(d/24),y=Cs(zN(t)),n+=y,t-=IA(W2(y)),c=Cs(n/12),n%=12,r.days=t,r.months=n,r.years=c,this}function zN(e){return e*4800/146097}function W2(e){return e*146097/4800}function Kae(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=Ns(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+zN(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(W2(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function Xae(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+wn(this._months/12)*31536e6:NaN}function Vl(e){return function(){return this.as(e)}}var Jae=Vl("ms"),Qae=Vl("s"),ele=Vl("m"),tle=Vl("h"),nle=Vl("d"),rle=Vl("w"),ile=Vl("M"),ole=Vl("Q"),sle=Vl("y");function ale(){return ga(this)}function lle(e){return e=Ns(e),this.isValid()?this[e+"s"]():NaN}function yd(e){return function(){return this.isValid()?this._data[e]:NaN}}var cle=yd("milliseconds"),ule=yd("seconds"),dle=yd("minutes"),hle=yd("hours"),fle=yd("days"),ple=yd("months"),mle=yd("years");function gle(){return Cs(this.days()/7)}var _l=Math.round,Gh={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function yle(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function vle(e,t,n,r){var o=ga(e).abs(),a=_l(o.as("s")),d=_l(o.as("m")),c=_l(o.as("h")),y=_l(o.as("d")),_=_l(o.as("M")),C=_l(o.as("w")),k=_l(o.as("y")),P=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||d<=1&&["m"]||d<n.m&&["mm",d]||c<=1&&["h"]||c<n.h&&["hh",c]||y<=1&&["d"]||y<n.d&&["dd",y];return n.w!=null&&(P=P||C<=1&&["w"]||C<n.w&&["ww",C]),P=P||_<=1&&["M"]||_<n.M&&["MM",_]||k<=1&&["y"]||["yy",k],P[2]=t,P[3]=+e>0,P[4]=r,yle.apply(null,P)}function _le(e){return e===void 0?_l:typeof e=="function"?(_l=e,!0):!1}function xle(e,t){return Gh[e]===void 0?!1:t===void 0?Gh[e]:(Gh[e]=t,e==="s"&&(Gh.ss=t-1),!0)}function ble(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Gh,o,a;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Gh,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),o=this.localeData(),a=vle(this,!n,r,o),n&&(a=o.pastFuture(+this,a)),o.postformat(a)}var qw=Math.abs;function xh(e){return(e>0)-(e<0)||+e}function m1(){if(!this.isValid())return this.localeData().invalidDate();var e=qw(this._milliseconds)/1e3,t=qw(this._days),n=qw(this._months),r,o,a,d,c=this.asSeconds(),y,_,C,k;return c?(r=Cs(e/60),o=Cs(r/60),e%=60,r%=60,a=Cs(n/12),n%=12,d=e?e.toFixed(3).replace(/\.?0+$/,""):"",y=c<0?"-":"",_=xh(this._months)!==xh(c)?"-":"",C=xh(this._days)!==xh(c)?"-":"",k=xh(this._milliseconds)!==xh(c)?"-":"",y+"P"+(a?_+a+"Y":"")+(n?_+n+"M":"")+(t?C+t+"D":"")+(o||r||e?"T":"")+(o?k+o+"H":"")+(r?k+r+"M":"")+(e?k+d+"S":"")):"P0D"}var Mn=f1.prototype;Mn.isValid=fse;Mn.abs=Gae;Mn.add=Hae;Mn.subtract=Yae;Mn.as=Kae;Mn.asMilliseconds=Jae;Mn.asSeconds=Qae;Mn.asMinutes=ele;Mn.asHours=tle;Mn.asDays=nle;Mn.asWeeks=rle;Mn.asMonths=ile;Mn.asQuarters=ole;Mn.asYears=sle;Mn.valueOf=Xae;Mn._bubble=Zae;Mn.clone=ale;Mn.get=lle;Mn.milliseconds=cle;Mn.seconds=ule;Mn.minutes=dle;Mn.hours=hle;Mn.days=fle;Mn.weeks=gle;Mn.months=ple;Mn.years=mle;Mn.humanize=ble;Mn.toISOString=m1;Mn.toString=m1;Mn.toJSON=m1;Mn.locale=SN;Mn.localeData=TN;Mn.toIsoString=$s("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",m1);Mn.lang=CN;Jt("X",0,0,"unix");Jt("x",0,0,"valueOf");Ft("x",c1);Ft("X",Vie);or("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});or("x",function(e,t,n){n._d=new Date(wn(e))});//! moment.js
Pt.version="2.29.4";wie(_r);Pt.fn=dt;Pt.min=cse;Pt.max=use;Pt.now=dse;Pt.utc=Ya;Pt.unix=Fae;Pt.months=jae;Pt.isDate=Kg;Pt.locale=Wc;Pt.invalid=i1;Pt.duration=ga;Pt.isMoment=fa;Pt.weekdays=Vae;Pt.parseZone=Bae;Pt.localeData=Ul;Pt.isDuration=a0;Pt.monthsShort=Uae;Pt.weekdaysMin=qae;Pt.defineLocale=$k;Pt.updateLocale=Boe;Pt.locales=joe;Pt.weekdaysShort=Wae;Pt.normalizeUnits=Ns;Pt.relativeTimeRounding=_le;Pt.relativeTimeThreshold=xle;Pt.calendarFormat=Lse;Pt.prototype=dt;Pt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const wle=e=>{switch(e){case"kmh":return 1.852;case"mph":return 1.15078;case"kn":default:return 1}},Sle=e=>{switch(e){case"kmh":return"Km/h";case"mph":return"sharedMph";case"kn":default:return"Km/h"}},Cle=(e,t)=>e*wle(t),Tle=e=>{switch(e){case"mi":return 621371e-9;case"nmi":return 539957e-9;case"km":default:return .001}},kle=e=>{switch(e){case"mi":return"Mi";case"nmi":return"Nmi";case"km":default:return"Km"}},Ele=(e,t)=>e*Tle(t),Ple=e=>{switch(e){case"ft":return 3.28084;case"m":default:return 1}},Ile=e=>{switch(e){case"ft":return"sharedFeet";case"m":default:return"sharedMeters"}},Mle=(e,t)=>e*Ple(t),c0=(e,t)=>e+t.charAt(0).toUpperCase()+t.slice(1),LN=e=>e?"sharedYes":"sharedNo",Rle=(e,t=1)=>Number(e.toFixed(t)),$N=e=>`${e}%`,NN=(e,t,n)=>{if(e){const r=Pt(e);switch(t){case"date":return r.format("YYYY-MM-DD");case"time":return r.format(n?"hh:mm:ss A":"HH:mm:ss");case"minutes":return r.format(n?"YYYY-MM-DD hh:mm A":"YYYY-MM-DD HH:mm");default:return r.format(n?"YYYY-MM-DD hh:mm:ss A":"YYYY-MM-DD HH:mm:ss")}}return""},FN=e=>e?c0("alarm",e):"",Ale=e=>{const t=["","","","","","","",""];let n=(e+22.5)%360;return n<0&&(n+=360),t[Math.floor(n/45)]},Ole=(e,t,n)=>`${Ele(e,t).toFixed(2)} ${kle(t)}`,Dle=(e,t,n)=>`${Mle(e,t).toFixed(2)} ${Ile(t)}`,zle=(e,t,n)=>`${Cle(e,t).toFixed(2)} ${Sle(t)}`,Lle=(e,t)=>{const n=Math.floor(e/36e5),r=Math.floor(e%36e5/6e4);return`${n} ${t("sharedHourAbbreviation")} ${r} ${t("sharedMinuteAbbreviation")}`},MA=(e,t,n)=>{let r,o,a,d;switch(e==="latitude"?r=t>=0?"N":"S":r=t>=0?"E":"W",n){case"ddm":return t=Math.abs(t),o=Math.floor(t),a=(t-o)*60,`${o} ${a.toFixed(6)}' ${r}`;case"dms":return t=Math.abs(t),o=Math.floor(t),a=Math.floor((t-o)*60),d=Math.round((t-o-a/60)*3600),`${o} ${a}' ${d}" ${r}`;default:return`${t.toFixed(6)}`}},BN=e=>{switch(e){case"online":return"positive";case"offline":return"negative";case"unknown":default:return"neutral"}},$le=({positions:e,onClick:t,showStatus:n,selectedPosition:r,titleField:o})=>{const a=U.useId(),d=`${a}-clusters`,c=`${a}-direction`,y=Ir(z=>z.devices.items),_=1,C=!0,k=!1,P="all",D=(z,q,Y)=>{const J=z[q.deviceId];let te;switch(P){case"none":te=!1;break;case"all":te=!0;break;default:te=Y===q.id;break}return{id:q.id,deviceId:q.deviceId,name:J.name,fixTime:NN(q.fixTime,"seconds",k),category:Xz(J.category),color:n?BN(J.status):"neutral",rotation:q.course,direction:te}},N=()=>tt.getCanvas().style.cursor="pointer",M=()=>tt.getCanvas().style.cursor="",$=U.useCallback(z=>{!z.defaultPrevented&&t&&t()},[t]),A=U.useCallback(z=>{z.preventDefault();const q=z.features[0];t&&t(q.properties.id,q.properties.deviceId)},[t]),O=U.useCallback(z=>{z.preventDefault();const q=tt.queryRenderedFeatures(z.point,{layers:[d]}),Y=q[0].properties.cluster_id;tt.getSource(a).getClusterExpansionZoom(Y,(J,te)=>{J||tt.easeTo({center:q[0].geometry.coordinates,zoom:te})})},[d]);return U.useEffect(()=>(tt.addSource(a,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:C,clusterMaxZoom:14,clusterRadius:50}),tt.addLayer({id:a,type:"symbol",source:a,filter:["!has","point_count"],layout:{"icon-image":"{category}-{color}","icon-size":_,"icon-allow-overlap":!0,"text-field":`{${o||"name"}}`,"text-allow-overlap":!0,"text-anchor":"bottom","text-offset":[0,-2*_],"text-font":Bc(tt),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),tt.addLayer({id:d,type:"symbol",source:a,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":_,"text-field":"{point_count_abbreviated}","text-font":Bc(tt),"text-size":14}}),tt.addLayer({id:c,type:"symbol",source:a,filter:["all",["!has","point_count"],["==","direction",!0]],layout:{"icon-image":"direction","icon-size":_,"icon-allow-overlap":!0,"icon-rotate":["get","rotation"],"icon-rotation-alignment":"map"}}),tt.on("mouseenter",a,N),tt.on("mouseleave",a,M),tt.on("mouseenter",d,N),tt.on("mouseleave",d,M),tt.on("click",a,A),tt.on("click",d,O),tt.on("click",$),()=>{tt.off("mouseenter",a,N),tt.off("mouseleave",a,M),tt.off("mouseenter",d,N),tt.off("mouseleave",d,M),tt.off("click",a,A),tt.off("click",d,O),tt.off("click",$),tt.getLayer(a)&&tt.removeLayer(a),tt.getLayer(d)&&tt.removeLayer(d),tt.getLayer(c)&&tt.removeLayer(c),tt.getSource(a)&&tt.removeSource(a)}),[C,d,c,A,O]),U.useEffect(()=>{tt.getSource(a).setData({type:"FeatureCollection",features:e.filter(z=>y.hasOwnProperty(z.deviceId)).map(z=>({type:"Feature",geometry:{type:"Point",coordinates:[z.longitude,z.latitude]},properties:D(y,z,r&&r.id)}))})},[y,e,r]),null},Nle=()=>{const e=U.useId(),t=`${e}-points`,n=`${e}-points-clusters`,r=Ir(C=>C.mission.route),o=!0,a=.6,d={0:"#F34C28",1:"#F39A28",2:"#1EC910",3:"#1012C9",4:"#C310C9",5:"#1FDBF1",6:"#F6FD04",7:"#808080"},c=(C,k)=>({id:k.id,name:C[k.routeid].name,uav:C[k.routeid].uav,latitude:C[k.routeid].wp[k.id].pos[0],longitude:C[k.routeid].wp[k.id].pos[1],altitud:C[k.routeid].wp[k.id].pos[2],yaw:C[k.routeid].wp[k.id].yaw,gimbal:C[k.routeid].wp[k.id].gimbal,actions:C[k.routeid].wp[k.id].action,attributes:C[k.routeid].attributes,category:"default",color:C[k.routeid].id});U.useEffect(()=>(tt.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:o,clusterMaxZoom:10,clusterRadius:50}),tt.addSource(e,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),tt.addLayer({source:e,id:"mission-line",type:"line",paint:{"line-color":["get","color"],"line-width":2}}),tt.addLayer({source:e,id:"mission-title",type:"symbol",layout:{"text-field":"{name}","text-font":Bc(tt),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),tt.addLayer({id:"mission-points",type:"symbol",source:t,filter:["!has","point_count"],layout:{"icon-image":"background-{color}","icon-size":a,"icon-allow-overlap":!0,"text-allow-overlap":!0,"text-field":"{id}","text-font":Bc(tt),"text-size":14},paint:{"text-color":"white"}}),tt.addLayer({id:n,type:"symbol",source:t,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":a,"text-field":"M","text-font":Bc(tt),"text-size":14}}),tt.on("click","mission-points",function(C){console.log("target"),console.log(C);let k=`<h4 style="color: #FF7A59" >UAV: ${C.features[0].properties.uav}</h4>
            <div><span>Route: ${C.features[0].properties.name}</span>
            <span><a href="https://www.google.com/maps?q=${C.features[0].properties.latitude},${C.features[0].properties.longitude}" target="_blank">
            Punto_${C.features[0].properties.id}</a></span></div>
            <div style="display:inline"><span> Height: </span><span>${C.features[0].properties.altitud}m </span></div>`;k=C.features[0].properties.hasOwnProperty("yaw")?k+`<div style="display:inline"><span>Yaw: </span><span>${C.features[0].properties.yaw} </span></div>`:k,k=C.features[0].properties.hasOwnProperty("gimbal")?k+`<div style="display:inline"><span>Gimbal: </span><span>${C.features[0].properties.gimbal} </span></div>`:k;let P="<p> Waypoint actions: </p>";if(C.features[0].properties.actions){let M=JSON.parse(C.features[0].properties.actions);P=P+Object.keys(M).map($=>{let A=$=="idle_vel"?"m/s":"";return`<div style="display:inline"><span>${$}: </span><span>${M[$]} ${A} </span></div>`}).join("")}let D="<p> Atributes_mission: </p>",N=JSON.parse(C.features[0].properties.attributes);D=D+Object.keys(N).map(M=>{let $=M=="idle_vel"?"m/s":"";return`<div style="display:inline"><span>${M}: </span><span>${N[M]} ${$} </span></div>`}).join(""),new Ux.Popup().setLngLat(C.lngLat).setHTML(k+P+D).addTo(tt)}),()=>{tt.getLayer("mission-line")&&tt.removeLayer("mission-line"),tt.getLayer("mission-title")&&tt.removeLayer("mission-title"),tt.getLayer("mission-points")&&tt.removeLayer("mission-points"),tt.getLayer(n)&&tt.removeLayer(n),tt.getSource(e)&&tt.removeSource(e),tt.getSource(t)&&tt.removeSource(t)}),[]);function y(C){let k=Object.values(C.wp).map(function(P){return[P.pos[1],P.pos[0]]});return{id:C.id,type:"Feature",geometry:{type:"LineString",coordinates:k},properties:{name:C.uav,color:d[C.id]}}}function _(C){let k=[];return Object.values(C).forEach(P=>{Object.keys(P.wp).forEach(D=>{k.push({longitude:P.wp[D].pos[1],latitude:P.wp[D].pos[0],id:D,routeid:P.id})})}),k}return U.useEffect(()=>{let C=_(r);tt.getSource(t).setData({type:"FeatureCollection",features:C.map(k=>({type:"Feature",geometry:{type:"Point",coordinates:[k.longitude,k.latitude]},properties:c(r,k)}))}),tt.getSource(e).setData({type:"FeatureCollection",features:Object.values(r).map(k=>y(k))})},[r]),null},Fle=e=>{const t=U.useRef();return U.useEffect(()=>{t.current=e}),t.current},Ble=()=>{const e=Ir(a=>a.devices.selectedId),t=Fle(e),n=10,r=!1,o=Ir(a=>a.data.positions[e]);return U.useEffect(()=>{(e!==t||r)&&o&&o.hasOwnProperty("latitude")&&tt.easeTo({center:[o.longitude,o.latitude],zoom:Math.max(tt.getZoom(),n),offset:[0,-300/2]})}),null};var RA=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function jle(e,t){return!!(e===t||RA(e)&&RA(t))}function Ule(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!jle(e[n],t[n]))return!1;return!0}function Gw(e,t){t===void 0&&(t=Ule);var n,r=[],o,a=!1;function d(){for(var c=[],y=0;y<arguments.length;y++)c[y]=arguments[y];return a&&n===this&&t(c,r)||(o=e.apply(this,c),a=!0,n=this,r=c),o}return d}var Vle=typeof performance=="object"&&typeof performance.now=="function",AA=Vle?function(){return performance.now()}:function(){return Date.now()};function OA(e){cancelAnimationFrame(e.id)}function Wle(e,t){var n=AA();function r(){AA()-n>=t?e.call(null):o.id=requestAnimationFrame(r)}var o={id:requestAnimationFrame(r)};return o}var Hw=-1;function DA(e){if(e===void 0&&(e=!1),Hw===-1||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),Hw=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Hw}var bh=null;function zA(e){if(e===void 0&&(e=!1),bh===null||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),o=r.style;return o.width="100px",o.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?bh="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?bh="negative":bh="positive-ascending"),document.body.removeChild(t),bh}return bh}var qle=150,Gle=function(t,n){return t};function Hle(e){var t,n=e.getItemOffset,r=e.getEstimatedTotalSize,o=e.getItemSize,a=e.getOffsetForIndexAndAlignment,d=e.getStartIndexForOffset,c=e.getStopIndexForStartIndex,y=e.initInstanceProps,_=e.shouldResetStyleCacheOnItemSizeChange,C=e.validateProps;return t=function(k){jg(P,k);function P(N){var M;return M=k.call(this,N)||this,M._instanceProps=y(M.props,_g(M)),M._outerRef=void 0,M._resetIsScrollingTimeoutId=null,M.state={instance:_g(M),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof M.props.initialScrollOffset=="number"?M.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},M._callOnItemsRendered=void 0,M._callOnItemsRendered=Gw(function($,A,O,z){return M.props.onItemsRendered({overscanStartIndex:$,overscanStopIndex:A,visibleStartIndex:O,visibleStopIndex:z})}),M._callOnScroll=void 0,M._callOnScroll=Gw(function($,A,O){return M.props.onScroll({scrollDirection:$,scrollOffset:A,scrollUpdateWasRequested:O})}),M._getItemStyle=void 0,M._getItemStyle=function($){var A=M.props,O=A.direction,z=A.itemSize,q=A.layout,Y=M._getItemStyleCache(_&&z,_&&q,_&&O),J;if(Y.hasOwnProperty($))J=Y[$];else{var te=n(M.props,$,M._instanceProps),ge=o(M.props,$,M._instanceProps),Pe=O==="horizontal"||q==="horizontal",ye=O==="rtl",Ne=Pe?te:0;Y[$]=J={position:"absolute",left:ye?void 0:Ne,right:ye?Ne:void 0,top:Pe?0:te,height:Pe?"100%":ge,width:Pe?ge:"100%"}}return J},M._getItemStyleCache=void 0,M._getItemStyleCache=Gw(function($,A,O){return{}}),M._onScrollHorizontal=function($){var A=$.currentTarget,O=A.clientWidth,z=A.scrollLeft,q=A.scrollWidth;M.setState(function(Y){if(Y.scrollOffset===z)return null;var J=M.props.direction,te=z;if(J==="rtl")switch(zA()){case"negative":te=-z;break;case"positive-descending":te=q-O-z;break}return te=Math.max(0,Math.min(te,q-O)),{isScrolling:!0,scrollDirection:Y.scrollOffset<z?"forward":"backward",scrollOffset:te,scrollUpdateWasRequested:!1}},M._resetIsScrollingDebounced)},M._onScrollVertical=function($){var A=$.currentTarget,O=A.clientHeight,z=A.scrollHeight,q=A.scrollTop;M.setState(function(Y){if(Y.scrollOffset===q)return null;var J=Math.max(0,Math.min(q,z-O));return{isScrolling:!0,scrollDirection:Y.scrollOffset<J?"forward":"backward",scrollOffset:J,scrollUpdateWasRequested:!1}},M._resetIsScrollingDebounced)},M._outerRefSetter=function($){var A=M.props.outerRef;M._outerRef=$,typeof A=="function"?A($):A!=null&&typeof A=="object"&&A.hasOwnProperty("current")&&(A.current=$)},M._resetIsScrollingDebounced=function(){M._resetIsScrollingTimeoutId!==null&&OA(M._resetIsScrollingTimeoutId),M._resetIsScrollingTimeoutId=Wle(M._resetIsScrolling,qle)},M._resetIsScrolling=function(){M._resetIsScrollingTimeoutId=null,M.setState({isScrolling:!1},function(){M._getItemStyleCache(-1,null)})},M}P.getDerivedStateFromProps=function(M,$){return Yle(M,$),C(M),null};var D=P.prototype;return D.scrollTo=function(M){M=Math.max(0,M),this.setState(function($){return $.scrollOffset===M?null:{scrollDirection:$.scrollOffset<M?"forward":"backward",scrollOffset:M,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},D.scrollToItem=function(M,$){$===void 0&&($="auto");var A=this.props,O=A.itemCount,z=A.layout,q=this.state.scrollOffset;M=Math.max(0,Math.min(M,O-1));var Y=0;if(this._outerRef){var J=this._outerRef;z==="vertical"?Y=J.scrollWidth>J.clientWidth?DA():0:Y=J.scrollHeight>J.clientHeight?DA():0}this.scrollTo(a(this.props,M,$,q,this._instanceProps,Y))},D.componentDidMount=function(){var M=this.props,$=M.direction,A=M.initialScrollOffset,O=M.layout;if(typeof A=="number"&&this._outerRef!=null){var z=this._outerRef;$==="horizontal"||O==="horizontal"?z.scrollLeft=A:z.scrollTop=A}this._callPropsCallbacks()},D.componentDidUpdate=function(){var M=this.props,$=M.direction,A=M.layout,O=this.state,z=O.scrollOffset,q=O.scrollUpdateWasRequested;if(q&&this._outerRef!=null){var Y=this._outerRef;if($==="horizontal"||A==="horizontal")if($==="rtl")switch(zA()){case"negative":Y.scrollLeft=-z;break;case"positive-ascending":Y.scrollLeft=z;break;default:var J=Y.clientWidth,te=Y.scrollWidth;Y.scrollLeft=te-J-z;break}else Y.scrollLeft=z;else Y.scrollTop=z}this._callPropsCallbacks()},D.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&OA(this._resetIsScrollingTimeoutId)},D.render=function(){var M=this.props,$=M.children,A=M.className,O=M.direction,z=M.height,q=M.innerRef,Y=M.innerElementType,J=M.innerTagName,te=M.itemCount,ge=M.itemData,Pe=M.itemKey,ye=Pe===void 0?Gle:Pe,Ne=M.layout,Ve=M.outerElementType,et=M.outerTagName,Ze=M.style,Ke=M.useIsScrolling,ke=M.width,Me=this.state.isScrolling,Oe=O==="horizontal"||Ne==="horizontal",Ee=Oe?this._onScrollHorizontal:this._onScrollVertical,ze=this._getRangeToRender(),st=ze[0],be=ze[1],Fe=[];if(te>0)for(var Ae=st;Ae<=be;Ae++)Fe.push(U.createElement($,{data:ge,key:ye(Ae,ge),index:Ae,isScrolling:Ke?Me:void 0,style:this._getItemStyle(Ae)}));var qe=r(this.props,this._instanceProps);return U.createElement(Ve||et||"div",{className:A,onScroll:Ee,ref:this._outerRefSetter,style:rr({position:"relative",height:z,width:ke,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:O},Ze)},U.createElement(Y||J||"div",{children:Fe,ref:q,style:{height:Oe?"100%":qe,pointerEvents:Me?"none":void 0,width:Oe?qe:"100%"}}))},D._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var M=this.props.itemCount;if(M>0){var $=this._getRangeToRender(),A=$[0],O=$[1],z=$[2],q=$[3];this._callOnItemsRendered(A,O,z,q)}}if(typeof this.props.onScroll=="function"){var Y=this.state,J=Y.scrollDirection,te=Y.scrollOffset,ge=Y.scrollUpdateWasRequested;this._callOnScroll(J,te,ge)}},D._getRangeToRender=function(){var M=this.props,$=M.itemCount,A=M.overscanCount,O=this.state,z=O.isScrolling,q=O.scrollDirection,Y=O.scrollOffset;if($===0)return[0,0,0,0];var J=d(this.props,Y,this._instanceProps),te=c(this.props,J,Y,this._instanceProps),ge=!z||q==="backward"?Math.max(1,A):1,Pe=!z||q==="forward"?Math.max(1,A):1;return[Math.max(0,J-ge),Math.max(0,Math.min($-1,te+Pe)),J,te]},P}(U.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var Yle=function(t,n){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,n.instance},Zle=Hle({getItemOffset:function(t,n){var r=t.itemSize;return n*r},getItemSize:function(t,n){var r=t.itemSize;return r},getEstimatedTotalSize:function(t){var n=t.itemCount,r=t.itemSize;return r*n},getOffsetForIndexAndAlignment:function(t,n,r,o,a,d){var c=t.direction,y=t.height,_=t.itemCount,C=t.itemSize,k=t.layout,P=t.width,D=c==="horizontal"||k==="horizontal",N=D?P:y,M=Math.max(0,_*C-N),$=Math.min(M,n*C),A=Math.max(0,n*C-N+C+d);switch(r==="smart"&&(o>=A-N&&o<=$+N?r="auto":r="center"),r){case"start":return $;case"end":return A;case"center":{var O=Math.round(A+($-A)/2);return O<Math.ceil(N/2)?0:O>M+Math.floor(N/2)?M:O}case"auto":default:return o>=A&&o<=$?o:o<A?A:$}},getStartIndexForOffset:function(t,n){var r=t.itemCount,o=t.itemSize;return Math.max(0,Math.min(r-1,Math.floor(n/o)))},getStopIndexForStartIndex:function(t,n,r){var o=t.direction,a=t.height,d=t.itemCount,c=t.itemSize,y=t.layout,_=t.width,C=o==="horizontal"||y==="horizontal",k=n*c,P=C?_:a,D=Math.ceil((P+r-k)/c);return Math.max(0,Math.min(d-1,n+D-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});let Is;typeof window<"u"?Is=window:typeof self<"u"?Is=self:Is=global;let q2=null,G2=null;const LA=20,Yw=Is.clearTimeout,$A=Is.setTimeout,Zw=Is.cancelAnimationFrame||Is.mozCancelAnimationFrame||Is.webkitCancelAnimationFrame,NA=Is.requestAnimationFrame||Is.mozRequestAnimationFrame||Is.webkitRequestAnimationFrame;Zw==null||NA==null?(q2=Yw,G2=function(t){return $A(t,LA)}):(q2=function([t,n]){Zw(t),Yw(n)},G2=function(t){const n=NA(function(){Yw(r),t()}),r=$A(function(){Zw(n),t()},LA);return[n,r]});function Kle(e){let t,n,r,o,a,d,c;const y=typeof document<"u"&&document.attachEvent;if(!y){d=function(A){const O=A.__resizeTriggers__,z=O.firstElementChild,q=O.lastElementChild,Y=z.firstElementChild;q.scrollLeft=q.scrollWidth,q.scrollTop=q.scrollHeight,Y.style.width=z.offsetWidth+1+"px",Y.style.height=z.offsetHeight+1+"px",z.scrollLeft=z.scrollWidth,z.scrollTop=z.scrollHeight},a=function(A){return A.offsetWidth!==A.__resizeLast__.width||A.offsetHeight!==A.__resizeLast__.height},c=function(A){if(A.target.className&&typeof A.target.className.indexOf=="function"&&A.target.className.indexOf("contract-trigger")<0&&A.target.className.indexOf("expand-trigger")<0)return;const O=this;d(this),this.__resizeRAF__&&q2(this.__resizeRAF__),this.__resizeRAF__=G2(function(){a(O)&&(O.__resizeLast__.width=O.offsetWidth,O.__resizeLast__.height=O.offsetHeight,O.__resizeListeners__.forEach(function(Y){Y.call(O,A)}))})};let P=!1,D="";r="animationstart";const N="Webkit Moz O ms".split(" ");let M="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),$="";{const A=document.createElement("fakeelement");if(A.style.animationName!==void 0&&(P=!0),P===!1){for(let O=0;O<N.length;O++)if(A.style[N[O]+"AnimationName"]!==void 0){$=N[O],D="-"+$.toLowerCase()+"-",r=M[O],P=!0;break}}}n="resizeanim",t="@"+D+"keyframes "+n+" { from { opacity: 0; } to { opacity: 0; } } ",o=D+"animation: 1ms "+n+"; "}const _=function(P){if(!P.getElementById("detectElementResize")){const D=(t||"")+".resize-triggers { "+(o||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',N=P.head||P.getElementsByTagName("head")[0],M=P.createElement("style");M.id="detectElementResize",M.type="text/css",e!=null&&M.setAttribute("nonce",e),M.styleSheet?M.styleSheet.cssText=D:M.appendChild(P.createTextNode(D)),N.appendChild(M)}};return{addResizeListener:function(P,D){if(y)P.attachEvent("onresize",D);else{if(!P.__resizeTriggers__){const N=P.ownerDocument,M=Is.getComputedStyle(P);M&&M.position==="static"&&(P.style.position="relative"),_(N),P.__resizeLast__={},P.__resizeListeners__=[],(P.__resizeTriggers__=N.createElement("div")).className="resize-triggers";const $=N.createElement("div");$.className="expand-trigger",$.appendChild(N.createElement("div"));const A=N.createElement("div");A.className="contract-trigger",P.__resizeTriggers__.appendChild($),P.__resizeTriggers__.appendChild(A),P.appendChild(P.__resizeTriggers__),d(P),P.addEventListener("scroll",c,!0),r&&(P.__resizeTriggers__.__animationListener__=function(z){z.animationName===n&&d(P)},P.__resizeTriggers__.addEventListener(r,P.__resizeTriggers__.__animationListener__))}P.__resizeListeners__.push(D)}},removeResizeListener:function(P,D){if(y)P.detachEvent("onresize",D);else if(P.__resizeListeners__.splice(P.__resizeListeners__.indexOf(D),1),!P.__resizeListeners__.length){P.removeEventListener("scroll",c,!0),P.__resizeTriggers__.__animationListener__&&(P.__resizeTriggers__.removeEventListener(r,P.__resizeTriggers__.__animationListener__),P.__resizeTriggers__.__animationListener__=null);try{P.__resizeTriggers__=!P.removeChild(P.__resizeTriggers__)}catch{}}}}}class Xle extends U.Component{constructor(...t){super(...t),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:n,disableWidth:r,onResize:o}=this.props;if(this._parentNode){var a,d,c,y;const _=window.getComputedStyle(this._parentNode)||{},C=parseFloat((a=_.paddingLeft)!==null&&a!==void 0?a:"0"),k=parseFloat((d=_.paddingRight)!==null&&d!==void 0?d:"0"),P=parseFloat((c=_.paddingTop)!==null&&c!==void 0?c:"0"),D=parseFloat((y=_.paddingBottom)!==null&&y!==void 0?y:"0"),N=this._parentNode.getBoundingClientRect(),M=N.height-P-D,$=N.width-C-k,A=this._parentNode.offsetHeight-P-D,O=this._parentNode.offsetWidth-C-k;(!n&&(this.state.height!==A||this.state.scaledHeight!==M)||!r&&(this.state.width!==O||this.state.scaledWidth!==$))&&(this.setState({height:A,width:O,scaledHeight:M,scaledWidth:$}),typeof o=="function"&&o({height:A,scaledHeight:M,scaledWidth:$,width:O}))}},this._setRef=n=>{this._autoSizer=n}}componentDidMount(){const{nonce:t}=this.props;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._parentNode!=null&&(typeof ResizeObserver<"u"?(this._resizeObserver=new ResizeObserver(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(this._parentNode)):(this._detectElementResize=Kle(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize)),this._onResize()))}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&(this._resizeObserver.observe(this._parentNode),this._resizeObserver.disconnect()))}render(){const{children:t,defaultHeight:n,defaultWidth:r,disableHeight:o=!1,disableWidth:a=!1,nonce:d,onResize:c,style:y={},tagName:_="div",...C}=this.props,{height:k,scaledHeight:P,scaledWidth:D,width:N}=this.state,M={overflow:"visible"},$={};let A=!1;return o||(k===0&&(A=!0),M.height=0,$.height=k,$.scaledHeight=P),a||(N===0&&(A=!0),M.width=0,$.width=N,$.scaledWidth=D),U.createElement(_,{ref:this._setRef,style:{...M,...y},...C},!A&&t($))}}var Gk={},Jle=qn;Object.defineProperty(Gk,"__esModule",{value:!0});var jN=Gk.default=void 0,Qle=Jle(Gn()),ece=F,tce=(0,Qle.default)((0,ece.jsx)("path",{d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"}),"BatteryFull");jN=Gk.default=tce;var Hk={},nce=qn;Object.defineProperty(Hk,"__esModule",{value:!0});var UN=Hk.default=void 0,rce=nce(Gn()),ice=F,oce=(0,rce.default)((0,ice.jsx)("path",{d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4zM11 20v-5.5H9L13 7v5.5h2L11 20z"}),"BatteryChargingFull");UN=Hk.default=oce;var Yk={},sce=qn;Object.defineProperty(Yk,"__esModule",{value:!0});var VN=Yk.default=void 0,ace=cce(U),lce=sce(Gn()),Kw=F;function WN(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(WN=function(r){return r?n:t})(e)}function cce(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=WN(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var d=o?Object.getOwnPropertyDescriptor(e,a):null;d&&(d.get||d.set)?Object.defineProperty(r,a,d):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}var uce=(0,lce.default)((0,Kw.jsxs)(ace.Fragment,{children:[(0,Kw.jsx)("path",{fillOpacity:".3",d:"M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V11h10V5.33z"}),(0,Kw.jsx)("path",{d:"M7 11v9.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V11H7z"})]}),"Battery60");VN=Yk.default=uce;var Zk={},dce=qn;Object.defineProperty(Zk,"__esModule",{value:!0});var qN=Zk.default=void 0,hce=pce(U),fce=dce(Gn()),Xw=F;function GN(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(GN=function(r){return r?n:t})(e)}function pce(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=GN(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var d=o?Object.getOwnPropertyDescriptor(e,a):null;d&&(d.get||d.set)?Object.defineProperty(r,a,d):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}var mce=(0,fce.default)((0,Xw.jsxs)(hce.Fragment,{children:[(0,Xw.jsx)("path",{fillOpacity:".3",d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V11h3.87L13 7v4h4V5.33C17 4.6 16.4 4 15.67 4z"}),(0,Xw.jsx)("path",{d:"M13 12.5h2L11 20v-5.5H9l1.87-3.5H7v9.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V11h-4v1.5z"})]}),"BatteryCharging60");qN=Zk.default=mce;var Kk={},gce=qn;Object.defineProperty(Kk,"__esModule",{value:!0});var HN=Kk.default=void 0,yce=_ce(U),vce=gce(Gn()),Jw=F;function YN(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(YN=function(r){return r?n:t})(e)}function _ce(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=YN(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var d=o?Object.getOwnPropertyDescriptor(e,a):null;d&&(d.get||d.set)?Object.defineProperty(r,a,d):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}var xce=(0,vce.default)((0,Jw.jsxs)(yce.Fragment,{children:[(0,Jw.jsx)("path",{d:"M7 17v3.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V17H7z"}),(0,Jw.jsx)("path",{fillOpacity:".3",d:"M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V17h10V5.33z"})]}),"Battery20");HN=Kk.default=xce;var Xk={},bce=qn;Object.defineProperty(Xk,"__esModule",{value:!0});var ZN=Xk.default=void 0,wce=Cce(U),Sce=bce(Gn()),Qw=F;function KN(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(KN=function(r){return r?n:t})(e)}function Cce(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=KN(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var d=o?Object.getOwnPropertyDescriptor(e,a):null;d&&(d.get||d.set)?Object.defineProperty(r,a,d):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}var Tce=(0,Sce.default)((0,Qw.jsxs)(wce.Fragment,{children:[(0,Qw.jsx)("path",{d:"M11 20v-3H7v3.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V17h-4.4L11 20z"}),(0,Qw.jsx)("path",{fillOpacity:".3",d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V17h4v-2.5H9L13 7v5.5h2L12.6 17H17V5.33C17 4.6 16.4 4 15.67 4z"})]}),"BatteryCharging20");ZN=Xk.default=Tce;var Jk={},kce=qn;Object.defineProperty(Jk,"__esModule",{value:!0});var XN=Jk.default=void 0,Ece=kce(Gn()),Pce=F,Ice=(0,Ece.default)((0,Pce.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");XN=Jk.default=Ice;const FA=e=>U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",...e},U.createElement("title",null,"Engine"),U.createElement("path",{fill:"currentColor",d:"M13.778 6.667v2.222h3.333v2.222h2.222v-2.222h3.333v-2.222h-8.889zM13.778 13.333c-0.3 0-0.579 0.121-0.79 0.321l-1.888 1.901h-2.878c-0.611 0-1.111 0.5-1.111 1.111v6.667c0 0.611 0.5 1.111 1.111 1.111h1.888l3.056 2.033c0.178 0.122 0.39 0.189 0.612 0.189h5.556c0.244 0 0.477-0.077 0.666-0.221l4.444-3.333c0.278-0.211 0.445-0.545 0.445-0.89v-7.778c0-0.611-0.5-1.111-1.111-1.111h-10zM27.111 14.444v6.667h2.222v-6.667h-2.222zM17.111 15.556v3.333h2.222l-3.333 5.556v-3.333h-2.222l3.333-5.556zM2.667 16.667v5.556h2.222v-5.556h-2.222z"})),Mce=wo(e=>({icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},batteryText:{fontSize:"0.75rem",fontWeight:"normal",lineHeight:"0.875rem"},positive:{color:e.palette.colors.positive},medium:{color:e.palette.colors.medium},negative:{color:e.palette.colors.negative},neutral:{color:e.palette.colors.neutral}})),Rce={width:"25px",height:"25px",filter:"brightness(0) invert(1)"},eS={color:ia[500]},BA={color:aT[700]},tS={color:bl[500]},Ace={color:Ba[500]},Oce=({data:e,index:t,style:n})=>{const r=Mce(),o=Ha(),a=e[t],d=Ir(_=>_.data.positions[a.id]),c=a.name,y=()=>{let _;return a.status==="online"||!a.lastUpdate?_=a.status:_=Pt(a.lastUpdate).fromNow(),F.jsxs(F.Fragment,{children:[d&&d.attributes.hasOwnProperty("landed_state")&&F.jsxs("div",{style:{fontSize:12},children:[" ",d.attributes.landed_state]}),F.jsx("div",{style:{fontSize:12},className:r[BN(a.status)],children:_})]})};return F.jsx("div",{style:n,children:F.jsxs(hX,{onClick:()=>o(Cl.selectId(a.id)),disabled:a.disabled,children:[F.jsx(vX,{children:F.jsx(bY,{children:F.jsx("img",{style:Rce,src:q0[Xz(a.category)],alt:""})})}),F.jsx(kX,{primary:c,primaryTypographyProps:{noWrap:!0},secondary:y(),secondaryTypographyProps:{noWrap:!0}}),d&&F.jsxs(F.Fragment,{children:[d.attributes.hasOwnProperty("ignition")&&F.jsx(Th,{title:`positionIgnition: ${LN(d.attributes.ignition)}`,children:F.jsx(Zn,{size:"small",children:d.attributes.ignition?F.jsx(FA,{width:20,height:20,style:eS}):F.jsx(FA,{width:20,height:20,style:Ace})})}),d.hasOwnProperty("speed")&&F.jsx(Th,{title:`speed: ${d.speed}`,children:F.jsx(Zn,{size:"small",children:F.jsxs("div",{style:{fontSize:"0.9rem"},children:[" ","V ",Math.round(d.speed),"m/s"]})})}),d.hasOwnProperty("altitude")&&F.jsx(Th,{title:`altitude: ${Math.round(d.altitude)}`,children:F.jsx(Zn,{size:"small",children:F.jsxs("div",{style:{fontSize:"0.9rem"},children:["H ",Math.round(d.altitude),"m"]})})}),d.attributes.hasOwnProperty("batteryLevel")&&F.jsx(Th,{title:`BatteryLevel: ${$N(d.attributes.batteryLevel)}`,children:F.jsx(Zn,{size:"small",children:d.attributes.batteryLevel>70?d.attributes.charge?F.jsx(UN,{fontSize:"small",style:eS}):F.jsx(jN,{fontSize:"small",style:eS}):d.attributes.batteryLevel>30?d.attributes.charge?F.jsx(qN,{fontSize:"small",style:BA}):F.jsx(VN,{fontSize:"small",style:BA}):d.attributes.charge?F.jsx(ZN,{fontSize:"small",style:tS}):F.jsx(HN,{fontSize:"small",style:tS})})}),d.attributes.hasOwnProperty("alarm")&&F.jsx(Th,{title:`eventAlarm: ${FN(d.attributes.alarm)}`,children:F.jsx(Zn,{size:"small",children:F.jsx(XN,{fontSize:"small",style:tS})})})]})]},a.id)})},Dce=wo(e=>({list:{maxHeight:"100%"},listInner:{position:"relative",margin:e.spacing(1.5,0)}})),zce=({devices:e})=>{const t=Dce();Ha();const n=U.useRef(null);n.current&&(n.current.className=t.listInner);const[,r]=U.useState(Date.now());return U.useEffect(()=>{const o=setInterval(()=>r(Date.now()),6e4);return()=>{clearInterval(o)}},[]),F.jsx(Xle,{className:t.list,children:({height:o,width:a})=>F.jsx(Zle,{width:a,height:o,itemCount:e.length,itemData:e,itemSize:72,overscanCount:10,innerRef:n,children:Oce})})};var Qk={exports:{}},JN={};function QN(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=QN(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function jA(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=QN(e))&&(r&&(r+=" "),r+=t);return r}const Lce=Object.freeze(Object.defineProperty({__proto__:null,clsx:jA,default:jA},Symbol.toStringTag,{value:"Module"})),$ce=HA(Lce);var Kr={},Ka={};Object.defineProperty(Ka,"__esModule",{value:!0});Ka.dontSetMe=Uce;Ka.findInArray=Nce;Ka.int=jce;Ka.isFunction=Fce;Ka.isNum=Bce;function Nce(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function Fce(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function Bce(e){return typeof e=="number"&&!isNaN(e)}function jce(e){return parseInt(e,10)}function Uce(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var vd={};Object.defineProperty(vd,"__esModule",{value:!0});vd.browserPrefixToKey=t3;vd.browserPrefixToStyle=Vce;vd.default=void 0;vd.getPrefix=e3;var nS=["Moz","Webkit","O","ms"];function e3(){var e,t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var r=(e=window.document)===null||e===void 0||(t=e.documentElement)===null||t===void 0?void 0:t.style;if(!r||n in r)return"";for(var o=0;o<nS.length;o++)if(t3(n,nS[o])in r)return nS[o];return""}function t3(e,t){return t?"".concat(t).concat(Wce(e)):e}function Vce(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function Wce(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}var qce=e3();vd.default=qce;function H2(e){"@babel/helpers - typeof";return H2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H2(e)}Object.defineProperty(Kr,"__esModule",{value:!0});Kr.addClassName=s3;Kr.addEvent=Yce;Kr.addUserSelectStyles=oue;Kr.createCSSTransform=tue;Kr.createSVGTransform=nue;Kr.getTouch=rue;Kr.getTouchIdentifier=iue;Kr.getTranslation=eE;Kr.innerHeight=Jce;Kr.innerWidth=Qce;Kr.matchesSelector=o3;Kr.matchesSelectorAndParentsTo=Hce;Kr.offsetXYFromParent=eue;Kr.outerHeight=Kce;Kr.outerWidth=Xce;Kr.removeClassName=a3;Kr.removeEvent=Zce;Kr.removeUserSelectStyles=sue;var os=Ka,UA=Gce(vd);function n3(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(n3=function(o){return o?n:t})(e)}function Gce(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||H2(e)!=="object"&&typeof e!="function")return{default:e};var n=n3(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var d=o?Object.getOwnPropertyDescriptor(e,a):null;d&&(d.get||d.set)?Object.defineProperty(r,a,d):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function VA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function r3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(n),!0).forEach(function(r){i3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i3(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $v="";function o3(e,t){return $v||($v=(0,os.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,os.isFunction)(e[n])})),(0,os.isFunction)(e[$v])?e[$v](t):!1}function Hce(e,t,n){var r=e;do{if(o3(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function Yce(e,t,n,r){if(e){var o=r3({capture:!0},r);e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}}function Zce(e,t,n,r){if(e){var o=r3({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}}function Kce(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,os.int)(n.borderTopWidth),t+=(0,os.int)(n.borderBottomWidth),t}function Xce(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,os.int)(n.borderLeftWidth),t+=(0,os.int)(n.borderRightWidth),t}function Jce(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,os.int)(n.paddingTop),t-=(0,os.int)(n.paddingBottom),t}function Qce(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,os.int)(n.paddingLeft),t-=(0,os.int)(n.paddingRight),t}function eue(e,t,n){var r=t===t.ownerDocument.body,o=r?{left:0,top:0}:t.getBoundingClientRect(),a=(e.clientX+t.scrollLeft-o.left)/n,d=(e.clientY+t.scrollTop-o.top)/n;return{x:a,y:d}}function tue(e,t){var n=eE(e,t,"px");return i3({},(0,UA.browserPrefixToKey)("transform",UA.default),n)}function nue(e,t){var n=eE(e,t,"");return n}function eE(e,t,n){var r=e.x,o=e.y,a="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){var d="".concat(typeof t.x=="string"?t.x:t.x+n),c="".concat(typeof t.y=="string"?t.y:t.y+n);a="translate(".concat(d,", ").concat(c,")")+a}return a}function rue(e,t){return e.targetTouches&&(0,os.findInArray)(e.targetTouches,function(n){return t===n.identifier})||e.changedTouches&&(0,os.findInArray)(e.changedTouches,function(n){return t===n.identifier})}function iue(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function oue(e){if(e){var t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&s3(e.body,"react-draggable-transparent-selection")}}function sue(e){if(e)try{if(e.body&&a3(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function s3(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function a3(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});Xa.canDragX=cue;Xa.canDragY=uue;Xa.createCoreData=hue;Xa.createDraggableData=fue;Xa.getBoundPosition=aue;Xa.getControlPosition=due;Xa.snapToGrid=lue;var Xo=Ka,Hh=Kr;function aue(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r=typeof r=="string"?r:pue(r);var o=tE(e);if(typeof r=="string"){var a=o.ownerDocument,d=a.defaultView,c;if(r==="parent"?c=o.parentNode:c=a.querySelector(r),!(c instanceof d.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var y=c,_=d.getComputedStyle(o),C=d.getComputedStyle(y);r={left:-o.offsetLeft+(0,Xo.int)(C.paddingLeft)+(0,Xo.int)(_.marginLeft),top:-o.offsetTop+(0,Xo.int)(C.paddingTop)+(0,Xo.int)(_.marginTop),right:(0,Hh.innerWidth)(y)-(0,Hh.outerWidth)(o)-o.offsetLeft+(0,Xo.int)(C.paddingRight)-(0,Xo.int)(_.marginRight),bottom:(0,Hh.innerHeight)(y)-(0,Hh.outerHeight)(o)-o.offsetTop+(0,Xo.int)(C.paddingBottom)-(0,Xo.int)(_.marginBottom)}}return(0,Xo.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,Xo.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Xo.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,Xo.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function lue(e,t,n){var r=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[r,o]}function cue(e){return e.props.axis==="both"||e.props.axis==="x"}function uue(e){return e.props.axis==="both"||e.props.axis==="y"}function due(e,t,n){var r=typeof t=="number"?(0,Hh.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;var o=tE(n),a=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,Hh.offsetXYFromParent)(r||e,a,n.props.scale)}function hue(e,t,n){var r=e.state,o=!(0,Xo.isNum)(r.lastX),a=tE(e);return o?{node:a,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:a,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function fue(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function pue(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function tE(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var g1={},y1={};Object.defineProperty(y1,"__esModule",{value:!0});y1.default=mue;function mue(){}function p_(e){"@babel/helpers - typeof";return p_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p_(e)}Object.defineProperty(g1,"__esModule",{value:!0});g1.default=void 0;var rS=yue(U),Ko=nE(nL),gue=nE(nu),Yi=Kr,pc=Xa,iS=Ka,pm=nE(y1);function nE(e){return e&&e.__esModule?e:{default:e}}function l3(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(l3=function(o){return o?n:t})(e)}function yue(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||p_(e)!=="object"&&typeof e!="function")return{default:e};var n=l3(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var d=o?Object.getOwnPropertyDescriptor(e,a):null;d&&(d.get||d.set)?Object.defineProperty(r,a,d):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function WA(e,t){return bue(e)||xue(e,t)||_ue(e,t)||vue()}function vue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ue(e,t){if(e){if(typeof e=="string")return qA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qA(e,t)}}function qA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xue(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],o=!0,a=!1,d,c;try{for(n=n.call(e);!(o=(d=n.next()).done)&&(r.push(d.value),!(t&&r.length===t));o=!0);}catch(y){a=!0,c=y}finally{try{!o&&n.return!=null&&n.return()}finally{if(a)throw c}}return r}}function bue(e){if(Array.isArray(e))return e}function wue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sue(e,t,n){return t&&GA(e.prototype,t),n&&GA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y2(e,t)}function Y2(e,t){return Y2=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},Y2(e,t)}function Tue(e){var t=Eue();return function(){var r=m_(e),o;if(t){var a=m_(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return kue(this,o)}}function kue(e,t){if(t&&(p_(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ki(e)}function Ki(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m_(e){return m_=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},m_(e)}function _s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Js={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},mc=Js.mouse,v1=function(e){Cue(n,e);var t=Tue(n);function n(){var r;wue(this,n);for(var o=arguments.length,a=new Array(o),d=0;d<o;d++)a[d]=arguments[d];return r=t.call.apply(t,[this].concat(a)),_s(Ki(r),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),_s(Ki(r),"mounted",!1),_s(Ki(r),"handleDragStart",function(c){if(r.props.onMouseDown(c),!r.props.allowAnyClick&&typeof c.button=="number"&&c.button!==0)return!1;var y=r.findDOMNode();if(!y||!y.ownerDocument||!y.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var _=y.ownerDocument;if(!(r.props.disabled||!(c.target instanceof _.defaultView.Node)||r.props.handle&&!(0,Yi.matchesSelectorAndParentsTo)(c.target,r.props.handle,y)||r.props.cancel&&(0,Yi.matchesSelectorAndParentsTo)(c.target,r.props.cancel,y))){c.type==="touchstart"&&c.preventDefault();var C=(0,Yi.getTouchIdentifier)(c);r.setState({touchIdentifier:C});var k=(0,pc.getControlPosition)(c,C,Ki(r));if(k!=null){var P=k.x,D=k.y,N=(0,pc.createCoreData)(Ki(r),P,D);(0,pm.default)("DraggableCore: handleDragStart: %j",N),(0,pm.default)("calling",r.props.onStart);var M=r.props.onStart(c,N);M===!1||r.mounted===!1||(r.props.enableUserSelectHack&&(0,Yi.addUserSelectStyles)(_),r.setState({dragging:!0,lastX:P,lastY:D}),(0,Yi.addEvent)(_,mc.move,r.handleDrag),(0,Yi.addEvent)(_,mc.stop,r.handleDragStop))}}}),_s(Ki(r),"handleDrag",function(c){var y=(0,pc.getControlPosition)(c,r.state.touchIdentifier,Ki(r));if(y!=null){var _=y.x,C=y.y;if(Array.isArray(r.props.grid)){var k=_-r.state.lastX,P=C-r.state.lastY,D=(0,pc.snapToGrid)(r.props.grid,k,P),N=WA(D,2);if(k=N[0],P=N[1],!k&&!P)return;_=r.state.lastX+k,C=r.state.lastY+P}var M=(0,pc.createCoreData)(Ki(r),_,C);(0,pm.default)("DraggableCore: handleDrag: %j",M);var $=r.props.onDrag(c,M);if($===!1||r.mounted===!1){try{r.handleDragStop(new MouseEvent("mouseup"))}catch{var A=document.createEvent("MouseEvents");A.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.handleDragStop(A)}return}r.setState({lastX:_,lastY:C})}}),_s(Ki(r),"handleDragStop",function(c){if(r.state.dragging){var y=(0,pc.getControlPosition)(c,r.state.touchIdentifier,Ki(r));if(y!=null){var _=y.x,C=y.y;if(Array.isArray(r.props.grid)){var k=_-r.state.lastX||0,P=C-r.state.lastY||0,D=(0,pc.snapToGrid)(r.props.grid,k,P),N=WA(D,2);k=N[0],P=N[1],_=r.state.lastX+k,C=r.state.lastY+P}var M=(0,pc.createCoreData)(Ki(r),_,C),$=r.props.onStop(c,M);if($===!1||r.mounted===!1)return!1;var A=r.findDOMNode();A&&r.props.enableUserSelectHack&&(0,Yi.removeUserSelectStyles)(A.ownerDocument),(0,pm.default)("DraggableCore: handleDragStop: %j",M),r.setState({dragging:!1,lastX:NaN,lastY:NaN}),A&&((0,pm.default)("DraggableCore: Removing handlers"),(0,Yi.removeEvent)(A.ownerDocument,mc.move,r.handleDrag),(0,Yi.removeEvent)(A.ownerDocument,mc.stop,r.handleDragStop))}}}),_s(Ki(r),"onMouseDown",function(c){return mc=Js.mouse,r.handleDragStart(c)}),_s(Ki(r),"onMouseUp",function(c){return mc=Js.mouse,r.handleDragStop(c)}),_s(Ki(r),"onTouchStart",function(c){return mc=Js.touch,r.handleDragStart(c)}),_s(Ki(r),"onTouchEnd",function(c){return mc=Js.touch,r.handleDragStop(c)}),r}return Sue(n,[{key:"componentDidMount",value:function(){this.mounted=!0;var o=this.findDOMNode();o&&(0,Yi.addEvent)(o,Js.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var o=this.findDOMNode();if(o){var a=o.ownerDocument;(0,Yi.removeEvent)(a,Js.mouse.move,this.handleDrag),(0,Yi.removeEvent)(a,Js.touch.move,this.handleDrag),(0,Yi.removeEvent)(a,Js.mouse.stop,this.handleDragStop),(0,Yi.removeEvent)(a,Js.touch.stop,this.handleDragStop),(0,Yi.removeEvent)(o,Js.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Yi.removeUserSelectStyles)(a)}}},{key:"findDOMNode",value:function(){var o,a,d;return(o=this.props)!==null&&o!==void 0&&o.nodeRef?(a=this.props)===null||a===void 0||(d=a.nodeRef)===null||d===void 0?void 0:d.current:gue.default.findDOMNode(this)}},{key:"render",value:function(){return rS.cloneElement(rS.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),n}(rS.Component);g1.default=v1;_s(v1,"displayName","DraggableCore");_s(v1,"propTypes",{allowAnyClick:Ko.default.bool,disabled:Ko.default.bool,enableUserSelectHack:Ko.default.bool,offsetParent:function(t,n){if(t[n]&&t[n].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Ko.default.arrayOf(Ko.default.number),handle:Ko.default.string,cancel:Ko.default.string,nodeRef:Ko.default.object,onStart:Ko.default.func,onDrag:Ko.default.func,onStop:Ko.default.func,onMouseDown:Ko.default.func,scale:Ko.default.number,className:iS.dontSetMe,style:iS.dontSetMe,transform:iS.dontSetMe});_s(v1,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){function t(be){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Fe){return typeof Fe}:function(Fe){return Fe&&typeof Symbol=="function"&&Fe.constructor===Symbol&&Fe!==Symbol.prototype?"symbol":typeof Fe},t(be)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return _.default}}),e.default=void 0;var n=N(U),r=P(nL),o=P(nu),a=P($ce),d=Kr,c=Xa,y=Ka,_=P(g1),C=P(y1),k=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function P(be){return be&&be.__esModule?be:{default:be}}function D(be){if(typeof WeakMap!="function")return null;var Fe=new WeakMap,Ae=new WeakMap;return(D=function(Le){return Le?Ae:Fe})(be)}function N(be,Fe){if(!Fe&&be&&be.__esModule)return be;if(be===null||t(be)!=="object"&&typeof be!="function")return{default:be};var Ae=D(Fe);if(Ae&&Ae.has(be))return Ae.get(be);var qe={},Le=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ot in be)if(ot!=="default"&&Object.prototype.hasOwnProperty.call(be,ot)){var xt=Le?Object.getOwnPropertyDescriptor(be,ot):null;xt&&(xt.get||xt.set)?Object.defineProperty(qe,ot,xt):qe[ot]=be[ot]}return qe.default=be,Ae&&Ae.set(be,qe),qe}function M(){return M=Object.assign||function(be){for(var Fe=1;Fe<arguments.length;Fe++){var Ae=arguments[Fe];for(var qe in Ae)Object.prototype.hasOwnProperty.call(Ae,qe)&&(be[qe]=Ae[qe])}return be},M.apply(this,arguments)}function $(be,Fe){if(be==null)return{};var Ae=A(be,Fe),qe,Le;if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(be);for(Le=0;Le<ot.length;Le++)qe=ot[Le],!(Fe.indexOf(qe)>=0)&&Object.prototype.propertyIsEnumerable.call(be,qe)&&(Ae[qe]=be[qe])}return Ae}function A(be,Fe){if(be==null)return{};var Ae={},qe=Object.keys(be),Le,ot;for(ot=0;ot<qe.length;ot++)Le=qe[ot],!(Fe.indexOf(Le)>=0)&&(Ae[Le]=be[Le]);return Ae}function O(be,Fe){var Ae=Object.keys(be);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(be);Fe&&(qe=qe.filter(function(Le){return Object.getOwnPropertyDescriptor(be,Le).enumerable})),Ae.push.apply(Ae,qe)}return Ae}function z(be){for(var Fe=1;Fe<arguments.length;Fe++){var Ae=arguments[Fe]!=null?arguments[Fe]:{};Fe%2?O(Object(Ae),!0).forEach(function(qe){ze(be,qe,Ae[qe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(be,Object.getOwnPropertyDescriptors(Ae)):O(Object(Ae)).forEach(function(qe){Object.defineProperty(be,qe,Object.getOwnPropertyDescriptor(Ae,qe))})}return be}function q(be,Fe){return Pe(be)||ge(be,Fe)||J(be,Fe)||Y()}function Y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J(be,Fe){if(be){if(typeof be=="string")return te(be,Fe);var Ae=Object.prototype.toString.call(be).slice(8,-1);if(Ae==="Object"&&be.constructor&&(Ae=be.constructor.name),Ae==="Map"||Ae==="Set")return Array.from(be);if(Ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ae))return te(be,Fe)}}function te(be,Fe){(Fe==null||Fe>be.length)&&(Fe=be.length);for(var Ae=0,qe=new Array(Fe);Ae<Fe;Ae++)qe[Ae]=be[Ae];return qe}function ge(be,Fe){var Ae=be==null?null:typeof Symbol<"u"&&be[Symbol.iterator]||be["@@iterator"];if(Ae!=null){var qe=[],Le=!0,ot=!1,xt,St;try{for(Ae=Ae.call(be);!(Le=(xt=Ae.next()).done)&&(qe.push(xt.value),!(Fe&&qe.length===Fe));Le=!0);}catch(It){ot=!0,St=It}finally{try{!Le&&Ae.return!=null&&Ae.return()}finally{if(ot)throw St}}return qe}}function Pe(be){if(Array.isArray(be))return be}function ye(be,Fe){if(!(be instanceof Fe))throw new TypeError("Cannot call a class as a function")}function Ne(be,Fe){for(var Ae=0;Ae<Fe.length;Ae++){var qe=Fe[Ae];qe.enumerable=qe.enumerable||!1,qe.configurable=!0,"value"in qe&&(qe.writable=!0),Object.defineProperty(be,qe.key,qe)}}function Ve(be,Fe,Ae){return Fe&&Ne(be.prototype,Fe),Ae&&Ne(be,Ae),Object.defineProperty(be,"prototype",{writable:!1}),be}function et(be,Fe){if(typeof Fe!="function"&&Fe!==null)throw new TypeError("Super expression must either be null or a function");be.prototype=Object.create(Fe&&Fe.prototype,{constructor:{value:be,writable:!0,configurable:!0}}),Object.defineProperty(be,"prototype",{writable:!1}),Fe&&Ze(be,Fe)}function Ze(be,Fe){return Ze=Object.setPrototypeOf||function(qe,Le){return qe.__proto__=Le,qe},Ze(be,Fe)}function Ke(be){var Fe=Oe();return function(){var qe=Ee(be),Le;if(Fe){var ot=Ee(this).constructor;Le=Reflect.construct(qe,arguments,ot)}else Le=qe.apply(this,arguments);return ke(this,Le)}}function ke(be,Fe){if(Fe&&(t(Fe)==="object"||typeof Fe=="function"))return Fe;if(Fe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Me(be)}function Me(be){if(be===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return be}function Oe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ee(be){return Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(Ae){return Ae.__proto__||Object.getPrototypeOf(Ae)},Ee(be)}function ze(be,Fe,Ae){return Fe in be?Object.defineProperty(be,Fe,{value:Ae,enumerable:!0,configurable:!0,writable:!0}):be[Fe]=Ae,be}var st=function(be){et(Ae,be);var Fe=Ke(Ae);function Ae(qe){var Le;return ye(this,Ae),Le=Fe.call(this,qe),ze(Me(Le),"onDragStart",function(ot,xt){(0,C.default)("Draggable: onDragStart: %j",xt);var St=Le.props.onStart(ot,(0,c.createDraggableData)(Me(Le),xt));if(St===!1)return!1;Le.setState({dragging:!0,dragged:!0})}),ze(Me(Le),"onDrag",function(ot,xt){if(!Le.state.dragging)return!1;(0,C.default)("Draggable: onDrag: %j",xt);var St=(0,c.createDraggableData)(Me(Le),xt),It={x:St.x,y:St.y};if(Le.props.bounds){var jt=It.x,Mt=It.y;It.x+=Le.state.slackX,It.y+=Le.state.slackY;var Re=(0,c.getBoundPosition)(Me(Le),It.x,It.y),rn=q(Re,2),Sn=rn[0],Zt=rn[1];It.x=Sn,It.y=Zt,It.slackX=Le.state.slackX+(jt-It.x),It.slackY=Le.state.slackY+(Mt-It.y),St.x=It.x,St.y=It.y,St.deltaX=It.x-Le.state.x,St.deltaY=It.y-Le.state.y}var Yt=Le.props.onDrag(ot,St);if(Yt===!1)return!1;Le.setState(It)}),ze(Me(Le),"onDragStop",function(ot,xt){if(!Le.state.dragging)return!1;var St=Le.props.onStop(ot,(0,c.createDraggableData)(Me(Le),xt));if(St===!1)return!1;(0,C.default)("Draggable: onDragStop: %j",xt);var It={dragging:!1,slackX:0,slackY:0},jt=!!Le.props.position;if(jt){var Mt=Le.props.position,Re=Mt.x,rn=Mt.y;It.x=Re,It.y=rn}Le.setState(It)}),Le.state={dragging:!1,dragged:!1,x:qe.position?qe.position.x:qe.defaultPosition.x,y:qe.position?qe.position.y:qe.defaultPosition.y,prevPropsPosition:z({},qe.position),slackX:0,slackY:0,isElementSVG:!1},qe.position&&!(qe.onDrag||qe.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),Le}return Ve(Ae,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var Le,ot,xt;return(Le=(ot=this.props)===null||ot===void 0||(xt=ot.nodeRef)===null||xt===void 0?void 0:xt.current)!==null&&Le!==void 0?Le:o.default.findDOMNode(this)}},{key:"render",value:function(){var Le,ot=this.props;ot.axis,ot.bounds;var xt=ot.children,St=ot.defaultPosition,It=ot.defaultClassName,jt=ot.defaultClassNameDragging,Mt=ot.defaultClassNameDragged,Re=ot.position,rn=ot.positionOffset;ot.scale;var Sn=$(ot,k),Zt={},Yt=null,Nn=!!Re,cr=!Nn||this.state.dragging,_n=Re||St,Cn={x:(0,c.canDragX)(this)&&cr?this.state.x:_n.x,y:(0,c.canDragY)(this)&&cr?this.state.y:_n.y};this.state.isElementSVG?Yt=(0,d.createSVGTransform)(Cn,rn):Zt=(0,d.createCSSTransform)(Cn,rn);var on=(0,a.default)(xt.props.className||"",It,(Le={},ze(Le,jt,this.state.dragging),ze(Le,Mt,this.state.dragged),Le));return n.createElement(_.default,M({},Sn,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(xt),{className:on,style:z(z({},xt.props.style),Zt),transform:Yt}))}}],[{key:"getDerivedStateFromProps",value:function(Le,ot){var xt=Le.position,St=ot.prevPropsPosition;return xt&&(!St||xt.x!==St.x||xt.y!==St.y)?((0,C.default)("Draggable: getDerivedStateFromProps %j",{position:xt,prevPropsPosition:St}),{x:xt.x,y:xt.y,prevPropsPosition:z({},xt)}):null}}]),Ae}(n.Component);e.default=st,ze(st,"displayName","Draggable"),ze(st,"propTypes",z(z({},_.default.propTypes),{},{axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:y.dontSetMe,style:y.dontSetMe,transform:y.dontSetMe})),ze(st,"defaultProps",z(z({},_.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))})(JN);var c3=JN,u3=c3.default,Pue=c3.DraggableCore;Qk.exports=u3;Qk.exports.default=u3;Qk.exports.DraggableCore=Pue;var rE={},Iue=qn;Object.defineProperty(rE,"__esModule",{value:!0});var d3=rE.default=void 0,Mue=Iue(Gn()),Rue=F,Aue=(0,Mue.default)((0,Rue.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay");d3=rE.default=Aue;var iE={},Oue=qn;Object.defineProperty(iE,"__esModule",{value:!0});var h3=iE.default=void 0,Due=Oue(Gn()),zue=F,Lue=(0,Due.default)((0,zue.jsx)("path",{d:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"}),"Publish");h3=iE.default=Lue;var oE={},$ue=qn;Object.defineProperty(oE,"__esModule",{value:!0});var f3=oE.default=void 0,Nue=$ue(Gn()),Fue=F,Bue=(0,Nue.default)((0,Fue.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");f3=oE.default=Bue;var sE={},jue=qn;Object.defineProperty(sE,"__esModule",{value:!0});var df=sE.default=void 0,Uue=jue(Gn()),Vue=F,Wue=(0,Uue.default)((0,Vue.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");df=sE.default=Wue;var aE={},que=qn;Object.defineProperty(aE,"__esModule",{value:!0});var p3=aE.default=void 0,Gue=que(Gn()),Hue=F,Yue=(0,Gue.default)((0,Hue.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7 13.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"Pending");p3=aE.default=Yue;const Zue=({position:e,property:t,attribute:n})=>{const r=Ir(P=>P.devices.items[e.deviceId]),o=t||n,a=t?e[t]:e.attributes[n],d="m",c="m",y="km/s",_="ddm",C=!1,k=()=>{switch(o){case"fixTime":case"deviceTime":case"serverTime":return NN(a,"seconds",C);case"latitude":return MA("latitude",a,_);case"longitude":return MA("longitude",a,_);case"speed":return zle(a,y);case"course":return Ale(a);case"altitude":return Dle(a,c);case"batteryLevel":return $N(a);case"alarm":return FN(a);case"odometer":case"distance":case"totalDistance":return Ole(a,d);case"hours":return Lle(a);default:return typeof a=="number"?Rle(a):typeof a=="boolean"?LN(a):a||""}};switch(o){case"image":case"video":case"audio":return F.jsx(XK,{href:`/api/media/${r.uniqueId}/${a}`,target:"_blank",children:a});case"totalDistance":case"hours":case"address":case"network":return"";default:return k()}},Kue=wo(e=>({root:{[e.breakpoints.down("md")]:{bottom:`calc(${e.dimensions.bottomBarHeight}px + ${e.spacing(1)})`}},button:{height:"auto",marginTop:0,marginBottom:0,color:e.palette.colors.negative}})),Xue=({open:e,endpoint:t,itemId:n,onResult:r})=>{const o=Kue(),a=async()=>{(await fetch(`/api/${t}/${n}`,{method:"DELETE"})).ok?(console.log("elemento eliminado"),r(!0)):r(!1)};return F.jsx(GJ,{className:o.root,open:e,autoHideDuration:2750,onClose:()=>r(!1),message:"confirmar para eliminar",action:F.jsx(Tr,{size:"small",className:o.button,onClick:a,children:"Eliminar"})})},m3=wo(e=>({card:{pointerEvents:"auto",width:e.dimensions.popupMaxWidth},media:{height:e.dimensions.popupImageHeight,display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},content:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},negative:{color:e.palette.colors.negative},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},table:{"& .MuiTableCell-sizeSmall":{paddingLeft:0,paddingRight:0}},cell:{borderBottom:"none"},actions:{justifyContent:"space-between"},root:({desktopPadding:t})=>({pointerEvents:"none",position:"fixed",zIndex:5,left:"50%",[e.breakpoints.up("md")]:{left:`calc(50% + ${t} / 2)`,bottom:e.spacing(3)},[e.breakpoints.down("md")]:{left:"50%",bottom:`calc(${e.spacing(3)} + ${e.dimensions.bottomBarHeight}px)`},transform:"translateX(-50%)"})})),oS=({name:e,content:t})=>{const n=m3();return F.jsxs(t0,{children:[F.jsx(Qs,{className:n.card,children:F.jsx(Yn,{variant:"body2",children:e})}),F.jsx(Qs,{className:n.cell,children:F.jsx(Yn,{variant:"body2",color:"textSecondary",children:t})})]})},Jue=({deviceId:e,position:t,onClose:n,disableActions:r,desktopPadding:o=0})=>{var O;const a=m3(),d=zg(),c=Ha(),y=Ir(z=>z.devices.items[e]),_=(O=y==null?void 0:y.attributes)==null?void 0:O.deviceImage,C="speed,course,batteryLevel",[k,P]=U.useState(null),[D,N]=U.useState(!1),M=async(z,q)=>{console.log("send command "),console.log(z);try{const Y=await fetch("/api/commands",{method:"POST",body:JSON.stringify({uav_id:z,description:q}),headers:{"Content-Type":"application/json"}});if(Y.ok){let J=await Y.json();console.log(J)}else throw console.log("Error1:"+Y),Error(await Y.text())}catch(Y){console.log("Error2:"+Y)}},$=async z=>{console.log("command mission "+z);try{const q=await fetch(`/api/commandmission/${z}`,{method:"POST",body:JSON.stringify({uav_id:z}),headers:{"Content-Type":"application/json"}});if(q.ok){let Y=await q.json();Y.state==="connect"&&notification("success",Y.msg),Y.state==="fail"&&notification("danger",Y.msg),console.log(Y)}else throw Error(await q.text())}catch{}},A=async z=>{if(z){const q=await fetch("/api/devices");if(q.ok){let Y=await q.json();c(Cl.refresh(Object.values(Y)))}else throw Error(await q.text())}N(!1)};return F.jsxs(F.Fragment,{children:[F.jsx("div",{className:a.root,children:y&&F.jsxs(qg,{elevation:3,className:a.card,children:[_?F.jsx(IZ,{className:a.media,image:`/api/media/${y.uniqueId}/${_}`,children:F.jsx(Zn,{size:"small",onClick:n,onTouchStart:n,children:F.jsx(dd,{fontSize:"small",className:a.mediaButton})})}):F.jsxs("div",{className:a.header,children:[F.jsx(Yn,{variant:"body2",color:"textSecondary",children:y.name}),F.jsx(Zn,{size:"small",onClick:n,onTouchStart:n,children:F.jsx(dd,{fontSize:"small"})})]}),t&&F.jsx(bZ,{className:a.content,children:F.jsx(y$,{size:"small",classes:{root:a.table},children:F.jsxs(v$,{children:[t.hasOwnProperty("latitude")&&F.jsx(oS,{name:"Position",content:F.jsx("a",{href:"https://www.google.com/maps?q="+t.latitude+","+t.longitude,target:"_blank",children:"["+t.latitude.toFixed(6)+","+t.longitude.toFixed(6)+"]"})},"latitude"),C.split(",").filter(z=>t.hasOwnProperty(z)||t.attributes.hasOwnProperty(z)).map(z=>F.jsx(oS,{name:z,content:F.jsx(Zue,{position:t,property:t.hasOwnProperty(z)?z:null,attribute:t.hasOwnProperty(z)?null:z})},z)),t.attributes.hasOwnProperty("alarm")&&F.jsx(oS,{name:"Alarm "+t.attributes.alarm,content:F.jsxs("div",{style:{width:"100%"},children:[F.jsx(Tr,{variant:"contained",size:"small",color:"primary",style:{margin:"1px",display:"inline-block"},onClick:()=>M(y.id,"threat"),children:"Validate"}),F.jsx(Tr,{variant:"contained",size:"small",color:"secondary",style:{margin:"1px",display:"inline-block"},children:"Dismiss"})]})},"alarm1")]})})}),F.jsxs(mZ,{classes:{root:a.actions},disableSpacing:!0,children:[F.jsx(Zn,{color:"secondary",onClick:z=>P(z.currentTarget),disabled:!t,children:F.jsx(p3,{})}),F.jsx(Zn,{onClick:()=>M(y.id,"sincronize"),children:F.jsx(d3,{})}),F.jsx(Zn,{onClick:()=>$(y.id),disabled:r,children:F.jsx(h3,{})}),F.jsx(Zn,{children:F.jsx(f3,{})}),F.jsx(Zn,{onClick:()=>N(!0),className:a.negative,children:F.jsx(df,{})})]})]})}),t&&F.jsxs(d$,{anchorEl:k,open:!!k,onClose:()=>P(null),children:[F.jsx(Ss,{onClick:()=>d(`/device/${e}`),children:F.jsx(Yn,{color:"secondary",children:"Detalle Dispositivo"})}),F.jsx(Ss,{component:"a",target:"_blank",href:`https://www.google.com/maps/search/?api=1&query=${t.latitude}%2C${t.longitude}`,children:"linkGoogleMaps"}),F.jsx(Ss,{component:"a",target:"_blank",href:`http://maps.apple.com/?ll=${t.latitude},${t.longitude}`,children:"linkAppleMaps"}),F.jsx(Ss,{component:"a",target:"_blank",href:`https://www.google.com/maps/@?api=1&map_action=pano&viewpoint=${t.latitude}%2C${t.longitude}&heading=${t.course}`,children:"linkStreetView"})]}),F.jsx(Xue,{open:D,endpoint:"devices",itemId:e,onResult:z=>A(z)})]})};var lE={},Que=qn;Object.defineProperty(lE,"__esModule",{value:!0});var g3=lE.default=void 0,ede=Que(Gn()),tde=F,nde=(0,ede.default)((0,tde.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");g3=lE.default=nde;var cE={},rde=qn;Object.defineProperty(cE,"__esModule",{value:!0});var y3=cE.default=void 0,ide=rde(Gn()),ode=F,sde=(0,ide.default)((0,ode.jsx)("path",{d:"M3 14h4v-4H3v4zm0 5h4v-4H3v4zM3 9h4V5H3v4zm5 5h13v-4H8v4zm0 5h13v-4H8v4zM8 5v4h13V5H8z"}),"ViewList");y3=cE.default=sde;var uE={},ade=qn;Object.defineProperty(uE,"__esModule",{value:!0});var v3=uE.default=void 0,lde=ade(Gn()),cde=F,ude=(0,lde.default)((0,cde.jsx)("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"}),"Tune");v3=uE.default=ude;const dde={display:"flex",gap:"10px 10px",height:"30px",borderBottom:"3px solid rgb(212, 212, 212)"},hde=({SetAddUAVOpen:e})=>F.jsxs(Fx,{style:dde,children:[F.jsx(Zn,{edge:"start",children:F.jsx(y3,{})}),F.jsx(WT,{placeholder:"device",endAdornment:F.jsx(zK,{position:"end",children:F.jsx(Zn,{size:"small",edge:"end",children:F.jsx(FY,{color:"info",variant:"dot",children:F.jsx(v3,{fontSize:"small"})})})}),size:"small",fullWidth:!0}),F.jsx(Zn,{edge:"end",onClick:()=>{e(!0)},children:F.jsx(Th,{children:F.jsx(g3,{})})})]}),fde=wo(e=>({card:{pointerEvents:"auto"},media:{width:e.dimensions.popupMaxWidth,display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},media1:{width:"95vw",height:"90vh",display:"flex",justifyContent:"flex-end",alignItems:"flex-start",background:"black"},gruopBtn:{display:"flex",right:"5px",height:"40px",position:"absolute"},mediaButton:{color:e.palette.colors.white,mixBlendMode:"difference"},tittle:{display:"block",width:"calc( 100% - 60pt )",paddingLeft:"15pt",paddingTop:"10pt",paddingBottom:"10pt",textAlign:"left"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1,1,0,2)},root:{pointerEvents:"none",position:"fixed",zIndex:6,left:"360px",top:e.spacing(15),transform:"translateX(1%)"},root_max:{pointerEvents:"none",position:"fixed",zIndex:6,left:"51%",top:"5%",transform:"translateX(-50%)"}})),pde=({deviceId:e,deviceIp:t,camera_src:n,onClose:r})=>{const o=fde();Ir(N=>N.data.camera[e]);const a=Ir(N=>N.devices.items[e]),d="http://"+t+":8889/"+n,[c,y]=U.useState(!1);let _=o.card,C=c?o.root_max:o.root,k=c?o.media1:o.media;function P(){y(!c)}U.useRef();function D(){r(),y(!1)}return U.useEffect(()=>{console.log("device in camera-"+a+"-"+t+"+"+n),e&&console.log("crear")},[e]),F.jsx("div",{className:C,children:a&&F.jsxs(qg,{elevation:3,className:_,children:[F.jsxs("div",{className:o.gruopBtn,children:[F.jsx(Zn,{size:"small",onClick:P,onTouchStart:P,children:F.jsx(Tk,{fontSize:"small",className:o.mediaButton})}),F.jsx(Zn,{size:"small",onClick:D,children:F.jsx(dd,{fontSize:"small",className:o.mediaButton})})]}),F.jsx("div",{className:o.tittle,children:"Image "+a.name}),F.jsx("iframe",{src:d,className:k})]})})},mde=wo(e=>({root:{height:"100%"},sidebarStyle:{pointerEvents:"none",display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 88px)",width:"360px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"},contentListStyle:{pointerEvents:"auto",gridArea:"1 / 1",zIndex:4}})),gde=()=>{const e=mde(),t=Ha(),n=iu(),r=Ir(Ne=>Ne.devices.items),o=Ir(Ne=>Ne.data.positions),a=Ir(Ne=>Ne.data.camera),d=Ir(Ne=>Ne.devices.selectedId),[c,y]=U.useState([]),[_,C]=U.useState([]),[k,P]=U.useState(),[D,N]=U.useState(),[M,$]=U.useState(),A=c.find(Ne=>d&&Ne.deviceId===d),O=_.find(Ne=>d&&Ne.deviceId==d);let z=Object.values(r);const[q,Y]=U.useState(!1),[J,te]=U.useState([]);let ge=null;const Pe=(Ne,Ve)=>{switch(Ne){case"success":ge={id:J.length+1,title:"Success",description:Ve,backgroundColor:"#5cb85c"};break;case"danger":ge={id:J.length+1,title:"Danger",description:Ve,backgroundColor:"#d9534f"};break;case"info":ge={id:J.length+1,title:"Info",description:Ve,backgroundColor:"#5bc0de"};break;case"warning":ge={id:J.length+1,title:"Warning",description:Ve,backgroundColor:"#f0ad4e"};break;default:ge=[]}te([...J,ge])},ye=U.useCallback((Ne,Ve)=>{t(Cl.selectId(Ve))},[t]);return U.useEffect(()=>{y(Object.values(o))},[o]),U.useEffect(()=>{C(Object.values(a))},[a]),U.useEffect(()=>{d?(P(r[d].ip),N(r[d].cameratype),$(r[d].camera_src)):(P(null),N(null))},[d]),F.jsx("div",{className:e.root,children:F.jsxs(A5,{notification:Pe,children:[F.jsx(O5,{SetAddUAVOpen:Y}),F.jsx(W5,{SetAddUAVOpen:Y}),F.jsx("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 88px)"},children:F.jsxs(B$,{children:[F.jsx(Nle,{}),F.jsx($le,{positions:c,onClick:ye,selectedPosition:A,showStatus:!0}),F.jsx(Ble,{})]})}),F.jsx("div",{className:e.sidebarStyle,children:F.jsx("div",{className:e.middleStyle,children:F.jsxs(ou,{square:!0,className:e.contentListStyle,children:[F.jsx(hde,{SetAddUAVOpen:Y}),F.jsx(zce,{devices:z})]})})}),q&&F.jsx(mie,{SetAddUAVOpen:Y}),F.jsx(Jue,{deviceId:d,position:A,onClose:()=>t(Cl.selectId(null)),desktopPadding:n.dimensions.drawerWidthDesktop}),D==="WebRTC"&&F.jsx(pde,{deviceId:d,deviceIp:k,camera_src:M,onClose:()=>t(Cl.selectId(null))}),D==="Websocket"&&F.jsx(bie,{deviceId:d,datacamera:O,onClose:()=>t(Cl.selectId(null))}),F.jsx(cie,{toastlist:J,position:"buttom-right",setList:te})]})})};class yde{constructor(){this.routes=[],this.selecwp={id:-1}}initroute(t){console.log("init routes"),console.log(t),this.routes=JSON.parse(JSON.stringify(t))}getroute(){return this.routes}setroute(t){this.routes=t}getSelectwp(){return this.selecwp}setSelecwp(t){this.selecwp=t}}const vde=()=>{const e=U.useId(),t=`${e}-points`,n=`${e}-points-clusters`,r=Ir(M=>M.mission.route);Ir(M=>M.mission.selectpoint);const o=!0,a=.6,d=Ha(),[c,y]=U.useState(new yde);let _=tt.getCanvasContainer();function C(M){let $=M.lngLat;_.style.cursor="grabbing",console.log("new position"+$.lng+"-"+$.lat);let A=c.getroute();console.log(A);let O=c.getSelectwp();O.id>=0&&(A[O.route_id].wp[O.id].pos[0]=M.lngLat.lat,A[O.route_id].wp[O.id].pos[1]=M.lngLat.lng);let z=N(A);tt.getSource(t).setData({type:"FeatureCollection",features:z.map(q=>({type:"Feature",geometry:{type:"Point",coordinates:[q.longitude,q.latitude]},properties:P(A,q)}))}),tt.getSource(e).setData({type:"FeatureCollection",features:Object.values(A).map(q=>D(q))})}function k(M){var $=M.lngLat;_.style.cursor="";let A=c.getSelectwp();console.log(`Longitude: ${$.lng} Latitude: ${$.lat}`),d(Tc.updateWpPos({wp_id:A.id,route_id:A.route_id,lng:M.lngLat.lng,lat:M.lngLat.lat})),c.setSelecwp({id:-1}),tt.off("mousemove",C),tt.off("touchmove",C)}const P=(M,$)=>({id:$.id,route_id:$.routeid,name:M[$.routeid].name,uav:M[$.routeid].uav,latitude:M[$.routeid].wp[$.id].pos[0],longitude:M[$.routeid].wp[$.id].pos[1],altitud:M[$.routeid].wp[$.id].pos[2],yaw:M[$.routeid].wp[$.id].yaw,gimbal:M[$.routeid].wp[$.id].gimbal,actions:M[$.routeid].wp[$.id].action,attributes:M[$.routeid].attributes,category:"default",color:M[$.routeid].id});U.useEffect(()=>(console.log("render"),tt.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:o,clusterMaxZoom:10,clusterRadius:50}),tt.addSource(e,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),tt.addLayer({source:e,id:"mission-line",type:"line",paint:{"line-color":["get","color"],"line-width":2}}),tt.addLayer({source:e,id:"mission-title",type:"symbol",layout:{"text-field":"{name}","text-font":Bc(tt),"text-size":12},paint:{"text-halo-color":"white","text-halo-width":1}}),tt.addLayer({id:"mission-points",type:"symbol",source:t,filter:["!has","point_count"],layout:{"icon-image":"background-{color}","icon-size":a,"icon-allow-overlap":!0,"text-allow-overlap":!0,"text-field":"{id}","text-font":Bc(tt),"text-size":14},paint:{"text-color":"white"}}),tt.addLayer({id:n,type:"symbol",source:t,filter:["has","point_count"],layout:{"icon-image":"background","icon-size":a,"text-field":"M","text-font":Bc(tt),"text-size":14}}),tt.on("mouseenter","mission-points",function(){_.style.cursor="move"}),tt.on("mouseleave","mission-points",function(){_.style.cursor=""}),tt.on("mousedown","mission-points",function(M){M.preventDefault(),c.setSelecwp(M.features[0].properties),d(Tc.selectpoint(M.features[0].properties)),_.style.cursor="grab",tt.on("mousemove",C),tt.once("mouseup",k)}),tt.on("touchstart","mission-points",function(M){M.points.length===1&&(console.log("touch start"),M.preventDefault(),tt.on("touchmove",C),tt.once("touchend",k))}),tt.on("click",function(M){console.log("A click event has occurred at "+M.lngLat)}),()=>{tt.getLayer("mission-line")&&tt.removeLayer("mission-line"),tt.getLayer("mission-title")&&tt.removeLayer("mission-title"),tt.getLayer("mission-points")&&tt.removeLayer("mission-points"),tt.getLayer(n)&&tt.removeLayer(n),tt.getSource(e)&&tt.removeSource(e),tt.getSource(t)&&tt.removeSource(t)}),[]);function D(M){let $=Object.values(M.wp).map(function(A){return[A.pos[1],A.pos[0]]});return{id:M.id,type:"Feature",geometry:{type:"LineString",coordinates:$},properties:{name:M.uav,color:W0[M.id]}}}function N(M){let $=[];return Object.values(M).forEach(A=>{Object.keys(A.wp).forEach(O=>{$.push({longitude:A.wp[O].pos[1],latitude:A.wp[O].pos[0],id:O,routeid:A.id})})}),$}return U.useEffect(()=>{console.log("Mapmission upload mission"),c.initroute(r);let M=N(r);tt.getSource(t).setData({type:"FeatureCollection",features:M.map($=>({type:"Feature",geometry:{type:"Point",coordinates:[$.longitude,$.latitude]},properties:P(r,$)}))}),tt.getSource(e).setData({type:"FeatureCollection",features:Object.values(r).map($=>D($))})},[r]),null},wh=({label:e,fullWidth:t,multiple:n,value:r,emptyValue:o=0,emptyTitle:a="",onChange:d,endpoint:c,data:y,keyGetter:_=k=>k.id,titleGetter:C=k=>k.name})=>{const[k,P]=U.useState(y);return Bx(async()=>{if(c){const D=await fetch(c);if(D.ok)P(await D.json());else throw Error(await D.text())}},[]),k?F.jsxs(J0,{fullWidth:t,children:[F.jsx(e_,{children:e}),F.jsxs(n_,{label:e,multiple:n,value:r,onChange:d,children:[!n&&o!==null&&F.jsx(Ss,{value:o,children:a}),k.map(D=>F.jsx(Ss,{value:_(D),children:C(D)},_(D)))]})]}):null},_de=wo(e=>({list:{maxHeight:"100%",overflow:"auto"},icon:{width:"25px",height:"25px",filter:"brightness(0) invert(1)"},details:{display:"flex",flexDirection:"column",gap:e.spacing(2),paddingBottom:e.spacing(3)},attributeName:{display:"inline-block",width:"40%",textAlign:"left",verticalAlign:"middle"},attributeValue:{display:"inline-block",width:"58%"},actionValue:{display:"inline-block",width:"40%"}})),xde=({mission:e,setmission:t,setScrool:n})=>{const r=_de(),o=Ir(ke=>ke.mission),a=Ir(ke=>ke.mission.selectpoint),d=Ha(),[c,y]=U.useState(!1);U.useState(!0);const[_,C]=U.useState(!1),[k,P]=U.useState(!1),[D,N]=U.useState(!1),[M,$]=U.useState(!0),[A,O]=U.useState(!0),[z,q]=U.useState(0);U.useEffect(()=>{t(o),console.log("otro use effect"),o.route.length>0?$(!1):$(!0),y(!0)},[o]),U.useEffect(()=>{c&&(console.log("update mission"),console.log(e),d(Tc.reloadMission(e.route))),e.route.length>0?$(!1):$(!0)},[e]),U.useEffect(()=>{console.log(_),C("Rute "+a.route_id),P("wp "+a.id),n(500+a.route_id*50+a.id*50)},[a]);const Y=()=>{let ke={name:"new Mission",description:"",route:[]};ke.route.push({name:"",uav:"",attributes:{},wp:[]}),t(ke),$(!1),console.log("add new mission")},J=()=>{let ke=[...e.route];ke.push({name:"",uav:"",attributes:{},wp:[]}),t({...e,route:ke}),console.log("add new route")},te=(ke,Me)=>{console.log("add new wp"+ke);let Oe=JSON.parse(JSON.stringify(e.route)),Ee=tt.getCenter();Me<0?Oe[ke].wp.push({pos:[Ee.lat,Ee.lng,5],action:{}}):Oe[ke].wp.splice(Me,0,{pos:[Ee.lat,Ee.lng,5],action:{}}),t({...e,route:Oe})};async function ge(ke,Me){let Oe;{const st=await fetch("/api/mission/actions/dji");if(st.ok)Oe=await st.json();else throw Error(await st.text())}console.log(Oe),console.log(z);let Ee=Oe.find(st=>st.id==z),ze=JSON.parse(JSON.stringify(e.route));Ee.param?ze[ke].wp[Me].action[Ee.name]=0:ze[ke].wp[Me].action[Ee.name]=!0,t({...e,route:ze}),O(!0)}const Pe=ke=>{console.log("remove route"+ke);let Me=[...e.route];console.log(Me),Me.splice(ke,1),t({...e,route:Me})},ye=(ke,Me)=>{console.log("remove wp"+ke+"-"+Me);let Oe=[...e.route],Ee=[...e.route[ke].wp];Ee.splice(Me,1);let ze={...Oe[ke],wp:Ee};Oe[ke]=ze,t({...e,route:Oe})},Ne=(ke,Me,Oe)=>{console.log("remove action"+ke+"-"+Me+"-"+Oe);let Ee=JSON.parse(JSON.stringify(e.route));delete Ee[ke].wp[Me].action[Oe],t({...e,route:Ee})},Ve=ke=>(Me,Oe)=>{C(Oe?ke:!1)},et=ke=>(Me,Oe)=>{P(Oe?ke:!1)},Ze=ke=>(Me,Oe)=>{N(Oe?ke:!1)},Ke=ke=>(Me,Oe)=>{O(!1)};return F.jsx(U.Fragment,{children:M?F.jsx(Mu,{textAlign:"center",children:F.jsx(Tr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:Y,children:"Create New Mission"})}):F.jsx(U.Fragment,{children:F.jsxs(Mu,{style:{display:"flex",gap:"10px",flexDirection:"column",margin:"20px"},children:[F.jsx(Io,{required:!0,label:"Name Mission",variant:"standard",value:e.name?e.name:" ",onChange:ke=>t({...e,name:ke.target.value})}),F.jsx(Io,{required:!0,label:"Description of mission",variant:"standard",value:e.description?e.description:" ",onChange:ke=>t({...e,description:ke.target.value})}),Oo.Children.toArray(Object.values(e.route).map((ke,Me,Oe)=>F.jsxs(U.Fragment,{children:[F.jsxs(bm,{expanded:_==="Rute "+Me,onChange:Ve("Rute "+Me),children:[F.jsxs(Sm,{expandIcon:F.jsx(qh,{}),children:[F.jsx(Yn,{sx:{width:"33%",flexShrink:0,color:W0[Me]},children:"Rute "+Me}),F.jsx(Yn,{sx:{color:"text.secondary"},children:ke.name+"- "+ke.uav}),F.jsx(Zn,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>Pe(Me),children:F.jsx(df,{})})]}),F.jsxs(wm,{className:r.details,children:[F.jsx(Io,{required:!0,label:"Route Name",variant:"standard",value:ke.name?ke.name:"",onChange:Ee=>t({...e,route:e.route.map(ze=>ze==e.route[Me]?{...ke,name:Ee.target.value}:ze)})}),F.jsx(Io,{required:!0,label:"UAV id",variant:"standard",value:ke.uav?ke.uav:"uav_",onChange:Ee=>t({...e,route:e.route.map(ze=>ze==e.route[Me]?{...ke,uav:Ee.target.value}:ze)})}),F.jsx(wh,{emptyValue:null,value:ke.uav_type?ke.uav_type:"",onChange:Ee=>t({...e,route:e.route.map(ze=>ze==e.route[Me]?{...ke,uav_type:Ee.target.value}:ze)}),endpoint:"/api/devices/type",keyGetter:Ee=>Ee,titleGetter:Ee=>Ee,label:"Type UAV mission",style:{display:"inline",width:"200px"}}),F.jsxs(bm,{expanded:k==="wp -1",onChange:et("wp -1"),children:[F.jsx(Sm,{expandIcon:F.jsx(qh,{}),children:F.jsxs(Yn,{sx:{width:"53%",flexShrink:0},children:[" ","Route Attributes"]})}),F.jsx(wm,{className:r.details,children:ke.attributes&&F.jsxs(U.Fragment,{children:[F.jsxs("div",{children:[F.jsxs(Yn,{variant:"subtitle1",className:r.attributeName,children:["Speed idle:"," "]}),F.jsx(Io,{fullWidth:!0,required:!0,type:"number",className:r.attributeValue,value:ke.attributes.idle_vel?ke.attributes.idle_vel:1.85,onChange:Ee=>t({...e,route:e.route.map(ze=>{let st=JSON.parse(JSON.stringify(ze));return ze==e.route[Me]?st.attributes.idle_vel=Ee.target.value:st=ze,st})})})]}),F.jsxs("div",{children:[F.jsxs(Yn,{variant:"subtitle1",className:r.attributeName,children:[" ","landing mode"," "]}),F.jsx("div",{className:r.attributeValue,children:F.jsx(wh,{emptyValue:null,fullWidth:!0,value:ke.attributes.mode_landing?ke.attributes.mode_landing:0,onChange:Ee=>t({...e,route:e.route.map(ze=>{let st=JSON.parse(JSON.stringify(ze));return ze===e.route[Me]?st.attributes.mode_landing=Ee.target.value:st=ze,st})}),endpoint:"/api/mission/atributesparam/dji/mode_landing",keyGetter:Ee=>Ee.id,titleGetter:Ee=>Ee.name})})]}),F.jsxs("div",{children:[F.jsx(Yn,{variant:"subtitle1",className:r.attributeName,children:"Yaw mode"}),F.jsx("div",{className:r.attributeValue,children:F.jsx(wh,{emptyValue:null,fullWidth:!0,value:ke.attributes.mode_yaw?ke.attributes.mode_yaw:0,onChange:Ee=>t({...e,route:e.route.map(ze=>{let st=JSON.parse(JSON.stringify(ze));return ze===e.route[Me]?st.attributes.mode_yaw=Ee.target.value:st=ze,st})}),endpoint:"/api/mission/atributesparam/dji/mode_yaw",keyGetter:Ee=>Ee.id,titleGetter:Ee=>Ee.name})})]}),F.jsxs("div",{children:[F.jsxs(Yn,{variant:"subtitle1",className:r.attributeName,children:[" ","Gimbal mode"," "]}),F.jsx("div",{className:r.attributeValue,children:F.jsx(wh,{emptyValue:null,fullWidth:!0,value:ke.attributes.mode_gimbal?ke.attributes.mode_gimbal:0,onChange:Ee=>t({...e,route:e.route.map(ze=>{let st=JSON.parse(JSON.stringify(ze));return ze===e.route[Me]?st.attributes.mode_gimbal=Ee.target.value:st=ze,st})}),endpoint:"/api/mission/atributesparam/dji/mode_gimbal",keyGetter:Ee=>Ee.id,titleGetter:Ee=>Ee.name})})]}),F.jsxs("div",{children:[F.jsxs(Yn,{variant:"subtitle1",className:r.attributeName,children:[" ","Trace mode:"," "]}),F.jsx("div",{className:r.attributeValue,children:F.jsx(wh,{emptyValue:null,fullWidth:!0,value:ke.attributes.mode_trace?ke.attributes.mode_trace:0,onChange:Ee=>t({...e,route:e.route.map(ze=>{let st=JSON.parse(JSON.stringify(ze));return ze===e.route[Me]?st.attributes.mode_trace=Ee.target.value:st=ze,st})}),endpoint:"/api/mission/atributesparam/dji/mode_trace",keyGetter:Ee=>Ee.id,titleGetter:Ee=>Ee.name})})]})]},"fragment-route-atri-"+ke.id)})]}),F.jsx(Yn,{variant:"subtitle1",children:"Waypoints"}),Oo.Children.toArray(Object.values(ke.wp).map((Ee,ze,st)=>F.jsxs(bm,{expanded:k==="wp "+ze,onChange:et("wp "+ze),children:[F.jsxs(Sm,{expandIcon:F.jsx(qh,{}),children:[F.jsx(Yn,{sx:{width:"33%",flexShrink:0},children:"WP "+ze}),F.jsx(Zn,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>ye(Me,ze),children:F.jsx(df,{})})]}),F.jsxs(wm,{className:r.details,children:[F.jsxs(Mu,{component:"form",sx:{"& .MuiTextField-root":{m:1}},children:[F.jsx("div",{children:F.jsx(Yn,{variant:"subtitle1",style:{display:"inline"},children:"Position"})}),F.jsx(Io,{required:!0,label:"Latitud ",type:"number",sx:{width:"15ch"},variant:"standard",inputProps:{maxLength:16,step:1e-4},value:Ee.pos?Ee.pos[0]:0,onChange:be=>t({...e,route:e.route.map(Fe=>{let Ae=JSON.parse(JSON.stringify(Fe));return Fe==e.route[Me]?Ae.wp[ze].pos[0]=be.target.value:Ae=Fe,Ae})})}),F.jsx(Io,{required:!0,label:"Longitud ",type:"number",variant:"standard",sx:{width:"15ch"},inputProps:{maxLength:16,step:1e-4},value:Ee.pos?Ee.pos[1]:0,onChange:be=>t({...e,route:e.route.map(Fe=>{let Ae=JSON.parse(JSON.stringify(Fe));return Fe==e.route[Me]?Ae.wp[ze].pos[1]=be.target.value:Ae=Fe,Ae})})}),F.jsx(Io,{required:!0,label:"altura ",type:"number",variant:"standard",sx:{width:"7ch"},value:Ee.pos?Ee.pos[2]:0,onChange:be=>t({...e,route:e.route.map(Fe=>{let Ae=JSON.parse(JSON.stringify(Fe));return Fe==e.route[Me]?Ae.wp[ze].pos[2]=be.target.value:Ae=Fe,Ae})})})]}),F.jsx(Io,{required:!0,label:"YAW ",type:"number",variant:"standard",value:Ee.yaw?Ee.yaw:0,onChange:be=>t({...e,route:e.route.map(Fe=>{let Ae=JSON.parse(JSON.stringify(Fe));return Fe==e.route[Me]?Ae.wp[ze].yaw=be.target.value:Ae=Fe,Ae})})}),F.jsx(Io,{required:!0,label:"Gimbal ",type:"number",variant:"standard",value:Ee.gimbal?Ee.gimbal:0,onChange:be=>t({...e,route:e.route.map(Fe=>{let Ae=JSON.parse(JSON.stringify(Fe));return Fe==e.route[Me]?Ae.wp[ze].gimbal=be.target.value:Ae=Fe,Ae})})}),F.jsxs(bm,{expanded:D==="wp "+ze,onChange:Ze("wp "+ze),children:[F.jsx(Sm,{expandIcon:F.jsx(qh,{}),children:F.jsx(Yn,{sx:{width:"33%",flexShrink:0},children:"Actions"})}),F.jsxs(wm,{className:r.details,children:[Ee.action&&Oo.Children.toArray(Object.keys(Ee.action).map((be,Fe,Ae)=>F.jsxs(U.Fragment,{children:[F.jsxs("div",{children:[F.jsx(Yn,{variant:"subtitle1",className:r.attributeName,children:be}),F.jsx("div",{className:r.actionValue,children:F.jsx(Io,{required:!0,fullWidth:!0,value:Ee.action[be]?Ee.action[be]:0,onChange:qe=>t({...e,route:e.route.map(Le=>{let ot=JSON.parse(JSON.stringify(Le));return Le==e.route[Me]?ot.wp[ze].action[be]=qe.target.value:ot=Le,ot})})})}),F.jsx(Zn,{sx:{py:0,pr:2,marginLeft:"auto"},onClick:()=>Ne(Me,ze,be),className:r.negative,children:F.jsx(df,{})})]}),F.jsx(MR,{})]},"fragment-action-"+Fe))),F.jsx(Mu,{textAlign:"center",children:A?F.jsx(Tr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:Ke(),children:"Add new action"}):F.jsxs("div",{children:[F.jsx(Yn,{variant:"subtitle1",children:"Tipo de acccion a aadir"}),F.jsx(wh,{emptyValue:null,fullWidth:!0,value:z,onChange:be=>q(be.target.value),endpoint:"/api/mission/actions/dji",keyGetter:be=>be.id,titleGetter:be=>be.description}),F.jsxs("div",{children:[F.jsx(Tr,{onClick:()=>O(!0),children:"Cancel"}),F.jsx(Tr,{onClick:()=>ge(Me,ze),children:"Add"})]})]})})]})]}),F.jsx(Mu,{textAlign:"center",children:F.jsx(Tr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:()=>te(Me,ze),children:"Add new Waypoint"})})]})]}))),F.jsx(Mu,{textAlign:"center",children:F.jsx(Tr,{value:Me,variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:Ee=>te(Ee.target.value,-1),children:"Add new Waypoint"})})]})]}),Me<Oe.length-1?F.jsx(MR,{}):null]},"fragment-route-"+Me))),F.jsx(Mu,{textAlign:"center",children:F.jsxs(Tr,{variant:"contained",size:"large",sx:{width:"80%",flexShrink:0},style:{marginTop:"15px"},onClick:J,children:["Add new Route"," "]})})]})})})};var dE={},bde=qn;Object.defineProperty(dE,"__esModule",{value:!0});var hE=dE.default=void 0,wde=bde(Gn()),Sde=F,Cde=(0,wde.default)((0,Sde.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");hE=dE.default=Cde;var fE={},Tde=qn;Object.defineProperty(fE,"__esModule",{value:!0});var _3=fE.default=void 0,kde=Tde(Gn()),Ede=F,Pde=(0,kde.default)((0,Ede.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile");_3=fE.default=Pde;var pE={},Ide=qn;Object.defineProperty(pE,"__esModule",{value:!0});var x3=pE.default=void 0,Mde=Ide(Gn()),Rde=F,Ade=(0,Mde.default)((0,Rde.jsx)("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67 2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt");x3=pE.default=Ade;const Ode=wo(e=>({toolbar:{display:"flex",gap:"10px 10px",height:"30px",borderBottom:"3px solid rgb(212, 212, 212)"},list:{maxHeight:"calc(100vh - 152px)",overflowY:"auto"},title:{flexGrow:1},fileInput:{display:"none"}})),Dde=()=>{const e=Ode(),t=zg(),n=U.useContext(Af),r=U.useRef(null),[o,a]=U.useState({name:"no mission",description:"",route:[]}),d=C=>{console.log("scrool"+C),setTimeout(()=>{r.current.scroll(0,C)},1e3)},c=C=>{const k=C.target.files[0];if(!k)return;const P=new FileReader;P.readAsText(k),P.onload=()=>{console.log(P.result),console.log(k.name),n.openMision(k.name,P.result)},P.onerror=()=>{console.log(P.error)}},y=()=>{a({name:"no mission",description:"",route:[]})},_=()=>{const C=YAML.stringify(o),k=new Blob([C],{type:"text/plain"}),P=URL.createObjectURL(k),D=document.createElement("a");D.download="mission-"+o.name+".yaml",D.href=P,D.click()};return F.jsxs(U.Fragment,{children:[F.jsxs(Fx,{className:e.toolbar,children:[F.jsx(Zn,{edge:"start",sx:{mr:2},onClick:()=>t(-1),children:F.jsx(hE,{})}),F.jsx(Yn,{variant:"h6",className:e.title,children:"Mission Task"}),F.jsx(Zn,{onClick:_,children:F.jsx(x3,{})}),F.jsx(Zn,{onClick:y,children:F.jsx(df,{})}),F.jsxs("label",{htmlFor:"upload-gpx",children:[F.jsx("input",{accept:".yaml, .plan, .waypoint, .kml",id:"upload-gpx",type:"file",className:e.fileInput,onChange:c}),F.jsx(Zn,{edge:"end",component:"span",onClick:()=>{},children:F.jsx(_3,{})})]})]}),F.jsx("div",{ref:r,className:e.list,children:F.jsx(xde,{mission:o,setmission:a,setScrool:d})})]})},zde=wo(e=>({root:{height:"100%"},sidebarStyle:{display:"flex",flexDirection:"column",position:"fixed",left:0,top:"88px",height:"calc(100% - 95px)",width:"560px",margin:"0px",zIndex:3},middleStyle:{flex:1,display:"grid"}})),Lde=(e,t)=>{switch(e){case"success":toastProperties={id:list.length+1,title:"Success",description:t,backgroundColor:"#5cb85c"};break;case"danger":toastProperties={id:list.length+1,title:"Danger",description:t,backgroundColor:"#d9534f"};break;case"info":toastProperties={id:list.length+1,title:"Info",description:t,backgroundColor:"#5bc0de"};break;case"warning":toastProperties={id:list.length+1,title:"Warning",description:t,backgroundColor:"#f0ad4e"};break;default:toastProperties=[]}setList([...list,toastProperties])},$de=()=>{const e=zde();return F.jsx("div",{className:e.root,children:F.jsxs(A5,{notification:Lde,children:[F.jsx(O5,{}),F.jsx(W5,{}),F.jsxs("div",{style:{position:"relative",width:"100%",height:"calc(100vh - 95px)"},children:[F.jsx("div",{style:{display:"inline-block",position:"relative",width:"560px",height:"100%"}}),F.jsx("div",{style:{display:"inline-block",position:"relative",width:"calc(100vw - 575px)",height:"100%"},children:F.jsx(B$,{children:F.jsx(vde,{})})})]}),F.jsx("div",{className:e.sidebarStyle,children:F.jsx("div",{className:e.middleStyle,children:F.jsx(ou,{square:!0,className:e.contentListStyle,children:F.jsx(Dde,{})})})})]})})},Nde=()=>F.jsx("div",{children:"EventPage"}),Fde=()=>F.jsx("div",{children:"ReplayPage"}),Bde=wo(e=>({root:{height:"100%",display:"flex",flexDirection:"column"},content:{overflow:"auto",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}})),jde=()=>{const e=Bde(),t=zg(),{id:n}=v6(),[r,o]=U.useState();Bx(async()=>{if(n){const d=await fetch(`/api/positions?id=${n}`);if(d.ok){const c=await d.json();c.length>0&&o(c[0])}else throw Error(await d.text())}},[n]);const a=Ir(d=>{if(r){const c=d.devices.items[r.deviceId];if(c)return c.name}return null});return F.jsxs("div",{className:e.root,children:[F.jsx(FL,{position:"sticky",color:"inherit",children:F.jsxs(Fx,{children:[F.jsx(Zn,{color:"inherit",edge:"start",sx:{mr:2},onClick:()=>t(-1),children:F.jsx(hE,{})}),F.jsx(Yn,{variant:"h6",children:a})]})}),F.jsx("div",{className:e.content,children:F.jsx(t$,{maxWidth:"sm",children:F.jsx(ou,{children:F.jsxs(y$,{children:[F.jsx(PQ,{children:F.jsxs(t0,{children:[F.jsx(Qs,{children:"stateName"}),F.jsx(Qs,{children:"sharedName"}),F.jsx(Qs,{children:"stateValue"})]})}),F.jsxs(v$,{children:[r&&Object.getOwnPropertyNames(r).filter(d=>d!=="attributes").map(d=>F.jsxs(t0,{children:[F.jsx(Qs,{children:d}),F.jsx(Qs,{children:F.jsx("strong",{children:c0("position",d)})}),F.jsxs(Qs,{children:[d," "]})]},d)),r&&Object.getOwnPropertyNames(r.attributes).map(d=>F.jsxs(t0,{children:[F.jsx(Qs,{children:d}),F.jsx(Qs,{children:F.jsx("strong",{children:c0("position",d)||c0("device",d)})}),F.jsxs(Qs,{children:[d," "]})]},d))]})]})})})})]})},Ude=()=>{const e=zg();L_();const t=nne();return Bx(async()=>{e("/")},[t]),F.jsx(O6,{children:F.jsxs(Du,{path:"/",element:F.jsx(tne,{}),children:[F.jsx(Du,{index:!0,element:F.jsx(gde,{})}),F.jsx(Du,{path:"mission",element:F.jsx($de,{})}),F.jsx(Du,{path:"device/:id",element:F.jsx(jde,{})}),F.jsx(Du,{path:"event/:id",element:F.jsx(Nde,{})}),F.jsx(Du,{path:"replay",element:F.jsx(Fde,{})})]})})},Vde=()=>{const e={white:od.white,background:Ba[50],primary:Yz[900],secondary:ia[800],positive:ia[500],medium:aT[700],negative:bl[500],neutral:Ba[500],geometry:"#3bb2d0"};return{background:{default:e.background},primary:{main:e.primary},secondary:{main:e.secondary,contrastText:e.white},colors:e}},Wde={sidebarWidth:"28%",sidebarWidthTablet:"52px",drawerWidthDesktop:"360px",drawerWidthTablet:"320px",drawerHeightPhone:"250px",filterFormWidth:"160px",eventsDrawerWidth:"320px",bottomBarHeight:56,popupMapOffset:300,popupMaxWidth:288,popupImageHeight:144},qde={MuiUseMediaQuery:{defaultProps:{noSsr:!0}},MuiOutlinedInput:{styleOverrides:{root:{backgroundColor:Ba[50]}}},MuiButton:{styleOverrides:{sizeMedium:{height:"40px"}}},MuiFormControl:{defaultProps:{size:"small"}},MuiSnackbar:{defaultProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"}}}},Gde=()=>U.useMemo(()=>ET({palette:Vde(),dimensions:Wde,components:qde}),[]),Hde=({children:e})=>{const t=Gde();return F.jsx(S7,{theme:t,children:e})};iV();const Yde=az(document.getElementById("root"));Yde.render(F.jsx(VU,{store:j8,children:F.jsx(yW,{injectFirst:!0,children:F.jsxs(Hde,{children:[F.jsx(DZ,{}),F.jsx(z6,{children:F.jsx(Ude,{})})]})})}))});export default Zde();
